[{"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 1751, "user_id": 9665257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59268147860d6fe4899f84cd781ef39e?s=128&d=identicon&r=PG&f=1", "display_name": "Rubens Melo", "link": "https://stackoverflow.com/users/9665257/rubens-melo"}, "edited": false, "score": 1, "creation_date": 1553727333, "post_id": 55387659, "comment_id": 97497214, "body": "change <code>json.decode</code> to <code>jsonDecode</code> . Look this: <a href=\"https://flutter.dev/docs/development/data-and-backend/json\" rel=\"nofollow noreferrer\">flutter.dev/docs/development/data-and-backend/json</a>"}, {"owner": {"reputation": 2276, "user_id": 7184947, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03463dca6c64b3b6915738bdf08dbb2b?s=128&d=identicon&r=PG&f=1", "display_name": "Hkm Sadek", "link": "https://stackoverflow.com/users/7184947/hkm-sadek"}, "reply_to_user": {"reputation": 1751, "user_id": 9665257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59268147860d6fe4899f84cd781ef39e?s=128&d=identicon&r=PG&f=1", "display_name": "Rubens Melo", "link": "https://stackoverflow.com/users/9665257/rubens-melo"}, "edited": false, "score": 0, "creation_date": 1553727886, "post_id": 55387659, "comment_id": 97497384, "body": "It gives same error. I followed exactly like documentations. Still same error"}, {"owner": {"reputation": 1751, "user_id": 9665257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59268147860d6fe4899f84cd781ef39e?s=128&d=identicon&r=PG&f=1", "display_name": "Rubens Melo", "link": "https://stackoverflow.com/users/9665257/rubens-melo"}, "edited": false, "score": 1, "creation_date": 1553728170, "post_id": 55387659, "comment_id": 97497481, "body": "try change <code>final data</code> to <code>final Map data</code> to explicit the return type of  <code>jsonDecode</code>"}, {"owner": {"reputation": 2276, "user_id": 7184947, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03463dca6c64b3b6915738bdf08dbb2b?s=128&d=identicon&r=PG&f=1", "display_name": "Hkm Sadek", "link": "https://stackoverflow.com/users/7184947/hkm-sadek"}, "reply_to_user": {"reputation": 1751, "user_id": 9665257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59268147860d6fe4899f84cd781ef39e?s=128&d=identicon&r=PG&f=1", "display_name": "Rubens Melo", "link": "https://stackoverflow.com/users/9665257/rubens-melo"}, "edited": false, "score": 0, "creation_date": 1553728617, "post_id": 55387659, "comment_id": 97497610, "body": "It gives the same error  <code>final Map data = jsonDecode(res.body);      var p = BaseResponse.fromJson(data);</code>  How can I convert the <code>BaseResponse.fromJson(data)</code> into a list instead of a map?"}, {"owner": {"reputation": 2276, "user_id": 7184947, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03463dca6c64b3b6915738bdf08dbb2b?s=128&d=identicon&r=PG&f=1", "display_name": "Hkm Sadek", "link": "https://stackoverflow.com/users/7184947/hkm-sadek"}, "reply_to_user": {"reputation": 1751, "user_id": 9665257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59268147860d6fe4899f84cd781ef39e?s=128&d=identicon&r=PG&f=1", "display_name": "Rubens Melo", "link": "https://stackoverflow.com/users/9665257/rubens-melo"}, "edited": false, "score": 0, "creation_date": 1553729160, "post_id": 55387659, "comment_id": 97497769, "body": "OK I got the problem. It returns an array of items and in the BaseResponse call I have Object. So if I write <code>BaseResponse.fromJson(jsonresponse[0]);</code> it works with 0 index. But how can I make a list of array?"}, {"owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "edited": false, "score": 0, "creation_date": 1553729734, "post_id": 55387659, "comment_id": 97497910, "body": "So, if <code>data</code> is a <code>List&lt;dynamic&gt;</code>, then <code>data.map(someFunc).toList()</code> will take each element of <code>data</code> pass it to <code>someFunc</code> and form it back into a list of the return type of <code>someFunc</code> (which you will presumably want to be <code>BaseResponse</code>). Which tells you that <code>someFunc</code> needs to be a function that takes <code>dynamic</code> and returns <code>BaseResponse</code>. It doesn&#39;t have to do much more than call <code>BaseResponse.fromJson</code>."}, {"owner": {"reputation": 2276, "user_id": 7184947, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03463dca6c64b3b6915738bdf08dbb2b?s=128&d=identicon&r=PG&f=1", "display_name": "Hkm Sadek", "link": "https://stackoverflow.com/users/7184947/hkm-sadek"}, "reply_to_user": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "edited": false, "score": 0, "creation_date": 1553729946, "post_id": 55387659, "comment_id": 97497968, "body": "@RichardHeap would you please write this a clean answer with some code please? It&#39;s gone over my brain :( Your help would be nice. Thank you"}, {"owner": {"reputation": 2276, "user_id": 7184947, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03463dca6c64b3b6915738bdf08dbb2b?s=128&d=identicon&r=PG&f=1", "display_name": "Hkm Sadek", "link": "https://stackoverflow.com/users/7184947/hkm-sadek"}, "edited": false, "score": 0, "creation_date": 1553730475, "post_id": 55387659, "comment_id": 97498102, "body": "I think I did it like this   <code>var d = jsonresponse.map((el) =&gt; BaseResponse.fromJson(el)).toList();      for(var k in d){          print(k.productName);      }</code>  This is working"}], "answers": [{"comments": [{"owner": {"reputation": 11571, "user_id": 1830228, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/8Yfo5.png?s=128&g=1", "display_name": "DolDurma", "link": "https://stackoverflow.com/users/1830228/doldurma"}, "edited": false, "score": 0, "creation_date": 1560165837, "post_id": 55388192, "comment_id": 99634651, "body": "could you help me on this issue? <code>https:&#47;&#47;stackoverflow.com&#47;q&#47;56524623&#47;1830228</code> thanks"}], "tags": [], "owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "is_accepted": true, "score": 1, "last_activity_date": 1553730751, "creation_date": 1553730751, "answer_id": 55388192, "question_id": 55387659, "link": "https://stackoverflow.com/questions/55387659/flutter-typeerror-type-listdynamic-is-not-a-subtype-of-type-mapstring-d/55388192#55388192", "title": "Flutter _TypeError (type &#39;List&lt;dynamic&gt;&#39; is not a subtype of type &#39;Map&lt;String, dynamic&gt;&#39;)", "body": "<p>It looks like <code>data</code> is a <code>List&lt;dynamic&gt;</code>, then <code>data.map(someFunc).toList()</code> will take each element of data pass it to <code>someFunc</code> and form it back into a list of the return type of <code>someFunc</code> (which you will presumably want to be <code>BaseResponse</code>). Which tells you that <code>someFunc</code> needs to be a function that takes <code>dynamic</code> and returns <code>BaseResponse</code>.</p>\n\n<p>You'd want to write something like this:</p>\n\n<pre><code>  final data = json.decode(res.body);\n  List&lt;BaseResponse&gt; responses =\n      data.map((j) =&gt; BaseResponse.fromJson(j)).toList();\n</code></pre>\n"}], "owner": {"reputation": 2276, "user_id": 7184947, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03463dca6c64b3b6915738bdf08dbb2b?s=128&d=identicon&r=PG&f=1", "display_name": "Hkm Sadek", "link": "https://stackoverflow.com/users/7184947/hkm-sadek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11194, "favorite_count": 0, "accepted_answer_id": 55388192, "answer_count": 1, "score": 2, "last_activity_date": 1560166099, "creation_date": 1553727027, "last_edit_date": 1560166099, "question_id": 55387659, "link": "https://stackoverflow.com/questions/55387659/flutter-typeerror-type-listdynamic-is-not-a-subtype-of-type-mapstring-d", "title": "Flutter _TypeError (type &#39;List&lt;dynamic&gt;&#39; is not a subtype of type &#39;Map&lt;String, dynamic&gt;&#39;)", "body": "<p>I am new to flutter and getting type error. I am trying to use json automated serializations. </p>\n\n<p>AFTER DOING SOME TWEAKS HERE IS HOW IT LOOKS LIKE </p>\n\n<p><a href=\"https://i.stack.imgur.com/kROBC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kROBC.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is how I am trying to get the data from api </p>\n\n<pre><code>  Future getMyProduct() async {\n     final res = await http.get('url');\n     final data = json.decode(res.body);\n     BaseResponse req = new BaseResponse.fromJson(data);\n     return req;\n  }\n</code></pre>\n\n<p>My <code>BaseResponse</code> class looks like this </p>\n\n<pre><code>import 'package:dynamicapp/model/model.dart';\nimport 'package:json_annotation/json_annotation.dart';\n\npart 'response.g.dart';\n\n@JsonSerializable()\nclass BaseResponse extends Object {\n    final int id;\n\nfinal int sellingPrice;\nfinal int totalStock;\nfinal String productName;\nfinal String productDesc;\nfinal List&lt;Image&gt; images;\n\nBaseResponse(this.id, this.sellingPrice, this.totalStock, this.productName,\n    this.productDesc, this.images);\n\nfactory BaseResponse.fromJson(Map&lt;String, dynamic&gt; json) =&gt; _$BaseResponseFromJson(json);\n\nMap&lt;String, dynamic&gt; toJson() =&gt; _$BaseResponseToJson(this);\n}\n\n@JsonSerializable()\n class Image extends Object {\n    final int id;\n    final String image;\n//  final int product_id;\n\n   Image(this.id, this.image);\nfactory Image.fromJson(Map&lt;String, dynamic&gt; json) =&gt; _$ImageFromJson(json);\n   Map&lt;String, dynamic&gt; toJson() =&gt; _$ImageToJson(this);\n}\n</code></pre>\n\n<p>Could anyone please help me with this. I am stuck here. Have been trying different methods but none working. Thank you.</p>\n"}, {"tags": ["android", "pdf", "dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 1079, "user_id": 9078384, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/063e7069245954c5246276c925113801?s=128&d=identicon&r=PG&f=1", "display_name": "djalmafreestyler", "link": "https://stackoverflow.com/users/9078384/djalmafreestyler"}, "edited": false, "score": 0, "creation_date": 1553726913, "post_id": 55387531, "comment_id": 97497073, "body": "I don&#39;t understand where to call PdfViewer.load...without an onpressed:, my screen will open and need to show the pdf directly."}, {"owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "reply_to_user": {"reputation": 1079, "user_id": 9078384, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/063e7069245954c5246276c925113801?s=128&d=identicon&r=PG&f=1", "display_name": "djalmafreestyler", "link": "https://stackoverflow.com/users/9078384/djalmafreestyler"}, "edited": false, "score": 0, "creation_date": 1553729195, "post_id": 55387531, "comment_id": 97497775, "body": "At the end of <code>getPdf</code> looks likely. Alternatively do it instead of navigating to this page."}], "tags": [], "owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "is_accepted": true, "score": 0, "last_activity_date": 1553726169, "creation_date": 1553726169, "answer_id": 55387531, "question_id": 55387304, "link": "https://stackoverflow.com/questions/55387304/how-to-use-this-library-to-show-a-pdf-when-this-screen-is-opened-in-flutter/55387531#55387531", "title": "How to use this library to show a PDF when this screen is opened in Flutter", "body": "<p>As the readme says, this library launches a new intent, so it replaces your Flutter app in the stack until you use the back button. The example is clear how to achieve this.</p>\n\n<p>However, as the readme continues, a proof-of-concept is available allowing you to render the PDF inside your Flutter app. Check out the branch from github to explore more.</p>\n\n<blockquote>\n  <p>A proof of concept for inline PDFs is available at the <em>inline</em> branch.</p>\n</blockquote>\n"}], "owner": {"reputation": 1079, "user_id": 9078384, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/063e7069245954c5246276c925113801?s=128&d=identicon&r=PG&f=1", "display_name": "djalmafreestyler", "link": "https://stackoverflow.com/users/9078384/djalmafreestyler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1378, "favorite_count": 0, "accepted_answer_id": 55387531, "answer_count": 1, "score": 0, "last_activity_date": 1553764995, "creation_date": 1553724951, "last_edit_date": 1553764995, "question_id": 55387304, "link": "https://stackoverflow.com/questions/55387304/how-to-use-this-library-to-show-a-pdf-when-this-screen-is-opened-in-flutter", "title": "How to use this library to show a PDF when this screen is opened in Flutter", "body": "<p>I have a pdf_screen.dart file that will show a PDF directly when opened, does anyone can explain me how to use the functions of this library called flutter pdf viewer just to show my pdf?</p>\n\n<p><a href=\"https://github.com/pycampers/flutter_pdf_viewer/blob/master/example/lib/main.dart\" rel=\"nofollow noreferrer\">Flutter PDF Viewer Library Example</a></p>\n\n<pre><code>    class _PdfScreenState extends State&lt;PdfScreen&gt; {\n\n      final DocumentSnapshot document;\n      String path;\n      var dir;\n\n      _PdfScreenState(this.document);\n\n\n      @override\n      void initState() {\n        super.initState();\n        getPdf();\n      }\n\n      Future&lt;void&gt; getPdf() async {\n        try {\n          dir = await getApplicationDocumentsDirectory();\n          setState(() {\n            path = \"${dir.path}/${document[\"title\"]}.pdf\";\n          });\n        } catch (e) {\n          print(e);\n        }\n      }\n\n\n      @override\n      Widget build(BuildContext context) {\n\n        if (path == null) {\n\n\n   print(\"loading\");\n      return Container(\n        color: Colors.white,\n        child: Center(\n          child: CircularProgressIndicator(backgroundColor: Colors.blueAccent,\n          ),\n        ),\n      );\n    } else {\n\n      return Container(\n             child: ??; // I need to show my PDF here, I need to pass the path \n                       // variable but PdfViewer is a function and it doesn't \n                       // return a widget, how to implement?\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 31302, "user_id": 10269042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6ac9efa53566934533a6364994c03b6?s=128&d=identicon&r=PG&f=1", "display_name": "anmol.majhail", "link": "https://stackoverflow.com/users/10269042/anmol-majhail"}, "is_accepted": true, "score": 0, "last_activity_date": 1553749869, "creation_date": 1553749869, "answer_id": 55390570, "question_id": 55386957, "link": "https://stackoverflow.com/questions/55386957/flutter-checkbox-doesnt-work-inside-overlayentry/55390570#55390570", "title": "Flutter: CheckBox doesn&#39;t work inside OverlayEntry?", "body": "<p>Issue here is <code>Overlay entry</code> have different context. In Order to make it work you need to separate the <code>overlay entry</code> in a separate <code>stateful</code> widget - through which you can manage the <code>checkbox</code> state.</p>\n\n<p>working Code:</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: MyHomePage(),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  MyHomePage({Key key}) : super(key: key);\n\n  @override\n  _MyHomePageState createState() =&gt; _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  bool _value = true;\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(\"\"),\n      ),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: &lt;Widget&gt;[\n            Row(\n              children: &lt;Widget&gt;[\n                FloatingActionButton(\n                  onPressed: () {\n                    OverlayState _overlayState = Overlay.of(context);\n                    _overlayState.insert(OverlayEntry(\n                      builder: (BuildContext context) {\n                        return OverlayClass(\n                          val: _value,\n                        );\n                      },\n                    ));\n                    // _buildOverlay(context);\n                  },\n                  child: Icon(Icons.add),\n                ),\n                Checkbox(\n                  value: _value,\n                  onChanged: (bool value) {\n                    print(\"$value  $_value\");\n                    setState(() =&gt; _value = value);\n                  },\n                ),\n              ],\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n\nclass OverlayClass extends StatefulWidget {\n  final bool val;\n\n  OverlayClass({this.val});\n\n  @override\n  _OverlayClassState createState() =&gt; _OverlayClassState();\n}\n\nclass _OverlayClassState extends State&lt;OverlayClass&gt; {\n  bool _value;\n  @override\n  void initState() {\n    super.initState();\n    _value = widget.val;\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Stack(\n      children: &lt;Widget&gt;[\n        Material(\n          child: Container(\n            padding: EdgeInsets.all(100),\n            color: Colors.lightBlue,\n            child: Checkbox(\n              value: _value,\n              onChanged: (bool value) {\n                print(\"$value  $_value\");\n                setState(() =&gt; _value = value);\n              },\n            ),\n          ),\n        ),\n      ],\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 1700313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84609deaaba1f5414106e916e6a4975b?s=128&d=identicon&r=PG", "display_name": "MarcoB", "link": "https://stackoverflow.com/users/1700313/marcob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 851, "favorite_count": 0, "accepted_answer_id": 55390570, "answer_count": 1, "score": 0, "last_activity_date": 1553856177, "creation_date": 1553723167, "last_edit_date": 1553856177, "question_id": 55386957, "link": "https://stackoverflow.com/questions/55386957/flutter-checkbox-doesnt-work-inside-overlayentry", "title": "Flutter: CheckBox doesn&#39;t work inside OverlayEntry?", "body": "<p>I am trying to display some widgets like a CheckBox or a Switch in an OverlayEntry. The overlay is built in a tap event.\nThe problem is that the bool _value is updated only the first time I tap the CheckBox inside the overlay, but that CheckBox doesn't update its State. The strange thing is that (only the first tap) the tap updates the CheckBox outside the overlay instead of the one inside it.\nWhat I have missed here?</p>\n\n<p>Below a full snippet to reproduce this.</p>\n\n<p>Thanks for your time!</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: MyHomePage(),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  MyHomePage({Key key}) : super(key: key);\n\n  @override\n  _MyHomePageState createState() =&gt; _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  bool _value = true;\n\n  _buildOverlay() {\n    OverlayEntry _overlayEntry;\n    OverlayState _overlayState = Overlay.of(context);\n\n    _overlayEntry = OverlayEntry(\n      builder: (BuildContext context) {\n        return Stack(\n          children: &lt;Widget&gt;[\n            Material(\n              child: Container(\n                padding: EdgeInsets.all(100),\n                color: Colors.lightBlue,\n                child: Checkbox(\n                  value: _value,\n                  onChanged: (bool value) { print(\"$value  $_value\"); setState(() =&gt; _value = value); },\n                ),\n              ),\n            ),\n          ],\n        );\n      },\n    );\n\n    _overlayState.insert(_overlayEntry);\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(\"\"),\n      ),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: &lt;Widget&gt;[\n            Row(\n              children: &lt;Widget&gt;[\n                FloatingActionButton(\n                  onPressed: () {_buildOverlay();},\n                  child: Icon(Icons.add),\n                ),\n                Checkbox(\n                  value: _value,\n                  onChanged: (bool value) { print(\"$value  $_value\"); setState(() =&gt; _value = value); },\n                ),\n              ],\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>In addition to the anmol.majhail solution, using <a href=\"https://docs.flutter.io/flutter/widgets/ValueListenableBuilder-class.html\" rel=\"nofollow noreferrer\">ValueListenableBuilder</a> could be another solution without the need to do a StatefulWidget.</p>\n\n<p>The declaration of <code>_value</code> becomes:\n<code>var _value = ValueNotifier&lt;bool&gt;(false);</code></p>\n\n<p>and here the _overlayEntry in the _buildOverlay() function:</p>\n\n<pre><code>_overlayEntry = OverlayEntry(\n      builder: (BuildContext context) {\n        return Material(\n          child: Container(\n            padding: EdgeInsets.all(100),\n            color: Colors.lightBlue,\n            child: ValueListenableBuilder&lt;bool&gt;(\n              valueListenable: _value,\n              builder: (context, value, child) {\n                return Checkbox(\n                    value: _value.value,\n                    onChanged: (bool value) { \n                      print(\"$value  $_value\"); \n                      setState(() =&gt; _value.value = value); \n                    },\n                  );\n              },\n            ),\n          ),\n        );\n      },\n    );\n</code></pre>\n"}, {"tags": ["dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 2557048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b55bd99f6640bd49d1d2a45863ba025?s=128&d=identicon&r=PG", "display_name": "anotherglitchinthematrix", "link": "https://stackoverflow.com/users/2557048/anotherglitchinthematrix"}, "is_accepted": false, "score": 2, "last_activity_date": 1577716405, "creation_date": 1577716405, "answer_id": 59532492, "question_id": 55386480, "link": "https://stackoverflow.com/questions/55386480/flutter-emulator-personal-keyboard-does-not-work/59532492#59532492", "title": "Flutter emulator personal keyboard does not work", "body": "<p>You need to explicitly specify that option on the emulated device's settings if you've created the emulator using flutter with VSCode.</p>\n\n<ol>\n<li>Open <strong>Android Studio</strong>.</li>\n<li>Locate the <strong>Configure</strong> at the bottom right <code>-&gt;</code> click to <strong>AVD Manager</strong></li>\n<li>Find your emulated device on the list and click to <strong>pen icon</strong> to edit device specific settings.</li>\n<li>Click to <strong>Show Advanced Settings</strong>.</li>\n<li>Scroll down and make sure <strong>Enable keyboard input</strong> is ticked.</li>\n</ol>\n\n<p><a href=\"https://i.snipboard.io/Bxd7mP.jpg\" rel=\"nofollow noreferrer\">There is also pictured version of these steps.</a></p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 14666158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L6hpl.png?s=128&g=1", "display_name": "persec10000", "link": "https://stackoverflow.com/users/14666158/persec10000"}, "is_accepted": false, "score": 0, "last_activity_date": 1613273146, "creation_date": 1613273146, "answer_id": 66192165, "question_id": 55386480, "link": "https://stackoverflow.com/questions/55386480/flutter-emulator-personal-keyboard-does-not-work/66192165#66192165", "title": "Flutter emulator personal keyboard does not work", "body": "<p>I have used an old emulator for API Level 23, which does not take keyboard input for my apk. So I have created new emulator for API Level 29, and then it works. Following is the step to install new emulator.</p>\n<ol>\n<li>Open &quot;Android Virtual Device Manager&quot;</li>\n<li>Create new Virtual Device.</li>\n<li>When you select a system image, please choose and download the last version(API Level29) on &quot;Virtual Device Configuration&quot; window</li>\n</ol>\n"}], "owner": {"reputation": 3988, "user_id": 3355243, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/35213ef01cee87797a3952a93bcfd5f9?s=128&d=identicon&r=PG&f=1", "display_name": "Linesofcode", "link": "https://stackoverflow.com/users/3355243/linesofcode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 632, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1613273146, "creation_date": 1553720917, "question_id": 55386480, "link": "https://stackoverflow.com/questions/55386480/flutter-emulator-personal-keyboard-does-not-work", "title": "Flutter emulator personal keyboard does not work", "body": "<p>I created an emulator with VSCode for Flutter programming purposes, everything works great except the fact that i cannot use my own keyboard to write on TextFields, i'm forced to use the embbed keyboard of the android.</p>\n\n<p>How do i allow key input from my keyboard?\n<a href=\"https://i.stack.imgur.com/NLPrb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NLPrb.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "dart", "flutter", "mapkit"], "comments": [{"owner": {"reputation": 7497, "user_id": 1583877, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/lyGkL.png?s=128&g=1", "display_name": "Evgeny Karkan", "link": "https://stackoverflow.com/users/1583877/evgeny-karkan"}, "edited": false, "score": 1, "creation_date": 1553723063, "post_id": 55385029, "comment_id": 97495767, "body": "Interesting, AppStore full of apps that use Google Maps"}, {"owner": {"reputation": 191, "user_id": 10181357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc287675fc2f0df3470d677244bc755e?s=128&d=identicon&r=PG", "display_name": "CostaRica", "link": "https://stackoverflow.com/users/10181357/costarica"}, "reply_to_user": {"reputation": 7497, "user_id": 1583877, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/lyGkL.png?s=128&g=1", "display_name": "Evgeny Karkan", "link": "https://stackoverflow.com/users/1583877/evgeny-karkan"}, "edited": false, "score": 0, "creation_date": 1553725146, "post_id": 55385029, "comment_id": 97496519, "body": "even more interestingly, this very same App was already approved and published less than one month ago... it is only now that we have added a few more locations, that Apple has suddenly decided that we must use Apple Maps instead of Google Maps...  the truth of it is that our updated has been rejected..."}, {"owner": {"reputation": 191, "user_id": 10181357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc287675fc2f0df3470d677244bc755e?s=128&d=identicon&r=PG", "display_name": "CostaRica", "link": "https://stackoverflow.com/users/10181357/costarica"}, "reply_to_user": {"reputation": 7497, "user_id": 1583877, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/lyGkL.png?s=128&g=1", "display_name": "Evgeny Karkan", "link": "https://stackoverflow.com/users/1583877/evgeny-karkan"}, "edited": false, "score": 0, "creation_date": 1553725256, "post_id": 55385029, "comment_id": 97496553, "body": "to justify their rejection, so they say:  Your app&#39;s location feature is not integrated with the built-in mapping functionality, which limits users to a third-party maps app.  Next Steps  To resolve this issue, please revise your app to give users the option to launch the native Apple Maps app."}, {"owner": {"reputation": 172, "user_id": 6881488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XuwJA.jpg?s=128&g=1", "display_name": "SimoneMSR", "link": "https://stackoverflow.com/users/6881488/simonemsr"}, "edited": false, "score": 1, "creation_date": 1557762520, "post_id": 55385029, "comment_id": 98865126, "body": "@CostaRica, what do you mean when you say that the problem arose when you <i>have added some more locations</i> ?"}, {"owner": {"reputation": 191, "user_id": 10181357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc287675fc2f0df3470d677244bc755e?s=128&d=identicon&r=PG", "display_name": "CostaRica", "link": "https://stackoverflow.com/users/10181357/costarica"}, "edited": false, "score": 0, "creation_date": 1557817890, "post_id": 55385029, "comment_id": 98881675, "body": "hello, thanks for asking...  I am not suggesting that there existed some technical connection or consequence from adding more locations... What I was trying to say is the contrary, that the sudden rejection to our update from Apple was arbitrary, because they hadn&#39;t protested nor said anything about it before...   I mention that we added more places, using the very same logic, because this is exactly what we did, and this was the only difference between the first version which was accepted, and the second which was rejected... it just means there was more data, more Google places..."}, {"owner": {"reputation": 191, "user_id": 10181357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc287675fc2f0df3470d677244bc755e?s=128&d=identicon&r=PG", "display_name": "CostaRica", "link": "https://stackoverflow.com/users/10181357/costarica"}, "edited": false, "score": 0, "creation_date": 1557817988, "post_id": 55385029, "comment_id": 98881728, "body": "in any case, what we did to solve the problem was that we simply changed the URL to Apple Maps, like this: url = &quot;<a href=\"https://maps.apple.com/?q=IPHE&amp;ll=9.0067418,-79.5300556&amp;z=16\" rel=\"nofollow noreferrer\">maps.apple.com/?q=IPHE&amp;ll=9.0067418,-79.5300556&amp;z=16</a>&quot;, instead of using the Google Maps URL&#39;s..."}, {"owner": {"reputation": 191, "user_id": 10181357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc287675fc2f0df3470d677244bc755e?s=128&d=identicon&r=PG", "display_name": "CostaRica", "link": "https://stackoverflow.com/users/10181357/costarica"}, "edited": false, "score": 0, "creation_date": 1557818149, "post_id": 55385029, "comment_id": 98881815, "body": "and, although we haven&#39;t implemented it yet, we are planning to offer both options on a future version of the App, because in our opinion the user experience is much better with Google Maps than with Apple Maps... I do not believe that Apple would reject a new version that offers both options, because that was literally what they requested, that there existed an option available to use Apple Maps... for the moment, we simply replaced all the URL&#39;s to Apple Maps, because this was a much simpler solution and we were in quite a hurry to have the new version of the App published on the App Store."}], "answers": [{"tags": [], "owner": {"reputation": 299, "user_id": 11266880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27770a10d8ac51b362715251b8bb732d?s=128&d=identicon&r=PG&f=1", "display_name": "ehhc", "link": "https://stackoverflow.com/users/11266880/ehhc"}, "is_accepted": false, "score": 2, "last_activity_date": 1553759394, "creation_date": 1553759394, "answer_id": 55392507, "question_id": 55385029, "link": "https://stackoverflow.com/questions/55385029/how-to-open-apple-maps-using-flutter-dart/55392507#55392507", "title": "How to open Apple Maps using Flutter/Dart?", "body": "<p>Just an idea but maybe you can try to use the <a href=\"https://pub.dartlang.org/packages/url_launcher\" rel=\"nofollow noreferrer\">url_launch plugin</a> to launch a url following the schemata given in the apple maps url schemata given here: <a href=\"https://developer.apple.com/library/archive/featuredarticles/iPhoneURLScheme_Reference/MapLinks/MapLinks.html#//apple_ref/doc/uid/TP40007899-CH5-SW1\" rel=\"nofollow noreferrer\">https://developer.apple.com/library/archive/featuredarticles/iPhoneURLScheme_Reference/MapLinks/MapLinks.html#//apple_ref/doc/uid/TP40007899-CH5-SW1</a></p>\n"}, {"tags": [], "owner": {"reputation": 191, "user_id": 10181357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc287675fc2f0df3470d677244bc755e?s=128&d=identicon&r=PG", "display_name": "CostaRica", "link": "https://stackoverflow.com/users/10181357/costarica"}, "is_accepted": false, "score": 0, "last_activity_date": 1555267135, "creation_date": 1555267135, "answer_id": 55678726, "question_id": 55385029, "link": "https://stackoverflow.com/questions/55385029/how-to-open-apple-maps-using-flutter-dart/55678726#55678726", "title": "How to open Apple Maps using Flutter/Dart?", "body": "<p>A simple solution I have found is to replace the google maps URL with a maps.apple.com equivalent, using the same url_launcher function.</p>\n\n<p>For example, the original function for Google Maps:</p>\n\n<pre><code>void _mapaBethania() async {\n    const url = \"https://www.google.com/maps/place/Panamanian+Institute+for+Special+Training/@9.0067418,-79.5300556,17z/data=!3m1!4b1!4m5!3m4!1s0x8faca84549395297:0x9c54b1fdb96ac590!8m2!3d9.0067365!4d-79.5278669\";\n    if (await canLaunch(url)) {\n      await launch(url);\n    } else {\n      throw 'Lo sentimos, no es posible abrir: $url';\n    }\n  }\n</code></pre>\n\n<p>Has become:</p>\n\n<pre><code>void _mapaBethania() async {\n  const url = \"https://maps.apple.com/?q=IPHE&amp;ll=9.0067418,-79.5300556&amp;z=16\";\n    if (await canLaunch(url)) {\n      await launch(url);\n    } else {\n      throw 'Lo sentimos, no es posible abrir: $url';\n    }\n  }\n</code></pre>\n\n<p>Nevertheless, although this change does fulfill Apple's enforced obligation to use their own software instead of the competition's, the user experience with Apple Maps is very poor, because once the Map App is shown, it becomes a bit confusing and difficult to return back to the original App.</p>\n\n<p>Therefore, I am planning to write code that enables both options, Apple Maps in order to comply with Apple enforcement, and also Google Maps in order to provide a better user experience, despite Apple.</p>\n\n<p>Anyway, the latter is just a personal opinion; the true fact is that replacing the URL for a maps.apple.com equivalent using the same launch_url function, does seem acceptable to comply with Apple requirements.</p>\n"}, {"comments": [{"owner": {"reputation": 3311, "user_id": 4641073, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh4.googleusercontent.com/-ZjmXf5kmIIo/AAAAAAAAAAI/AAAAAAAAADU/BvIdertZ_JM/photo.jpg?sz=128", "display_name": "Giacomo M", "link": "https://stackoverflow.com/users/4641073/giacomo-m"}, "edited": false, "score": 0, "creation_date": 1570176268, "post_id": 56837198, "comment_id": 102838342, "body": "what about this code on android? will this code launch google maps or will launch the browser?"}, {"owner": {"reputation": 3311, "user_id": 4641073, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh4.googleusercontent.com/-ZjmXf5kmIIo/AAAAAAAAAAI/AAAAAAAAADU/BvIdertZ_JM/photo.jpg?sz=128", "display_name": "Giacomo M", "link": "https://stackoverflow.com/users/4641073/giacomo-m"}, "edited": false, "score": 0, "creation_date": 1570185194, "post_id": 56837198, "comment_id": 102842525, "body": "Thanks. I saw I can avoid to edit the Info.plist file. Is that edit mandatory?"}], "tags": [], "owner": {"reputation": 470, "user_id": 1039164, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/eEkjS.jpg?s=128&g=1", "display_name": "BaDo", "link": "https://stackoverflow.com/users/1039164/bado"}, "is_accepted": false, "score": 8, "last_activity_date": 1605874377, "last_edit_date": 1605874377, "creation_date": 1561990313, "answer_id": 56837198, "question_id": 55385029, "link": "https://stackoverflow.com/questions/55385029/how-to-open-apple-maps-using-flutter-dart/56837198#56837198", "title": "How to open Apple Maps using Flutter/Dart?", "body": "<p>Firstly, install the <a href=\"https://pub.dev/packages/url_launcher\" rel=\"nofollow noreferrer\">url_launcher</a> plugin</p>\n<p>Secondly, add the below code in Info.plist:</p>\n<pre><code>&lt;key&gt;LSApplicationQueriesSchemes&lt;/key&gt;\n&lt;array&gt;\n    &lt;string&gt;googlechromes&lt;/string&gt;\n    &lt;string&gt;comgooglemaps&lt;/string&gt;\n&lt;/array&gt;\n</code></pre>\n<p>Thirdly:</p>\n<pre><code>var urlAppleMaps = 'https://maps.apple.com/?q=$lat,$lng';\n\nif (await canLaunch(urlAppleMaps)) {\n  await launch(urlAppleMaps);\n} else {\n  throw 'Could not launch $url';\n}\n</code></pre>\n<p>We can use it like this:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>\n _launchMap(BuildContext context, lat, lng) async {\n    var url = '';\n    var urlAppleMaps = '';\n    if (Platform.isAndroid) {\n      url = &quot;https://www.google.com/maps/search/?api=1&amp;query=${lat},${lng}&quot;;\n    } else {\n      urlAppleMaps = 'https://maps.apple.com/?q=$lat,$lng';\n      url = &quot;comgooglemaps://?saddr=&amp;daddr=$lat,$lng&amp;directionsmode=driving&quot;;\n      if (await canLaunch(url)) {\n        await launch(url);\n      } else {\n        throw 'Could not launch $url';\n      }\n    }\n\n    if (await canLaunch(url)) {\n      await launch(url);\n    } else if (await canLaunch(urlAppleMaps)) {\n      await launch(urlAppleMaps);\n    } else {\n      throw 'Could not launch $url';\n    }\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 119, "user_id": 11104531, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-W8wN2MFbwWQ/AAAAAAAAAAI/AAAAAAAATN0/j3h8-v3GEvo/photo.jpg?sz=128", "display_name": "Alex Moran", "link": "https://stackoverflow.com/users/11104531/alex-moran"}, "is_accepted": false, "score": 2, "last_activity_date": 1573566455, "creation_date": 1573566455, "answer_id": 58820112, "question_id": 55385029, "link": "https://stackoverflow.com/questions/55385029/how-to-open-apple-maps-using-flutter-dart/58820112#58820112", "title": "How to open Apple Maps using Flutter/Dart?", "body": "<p>You could try to use a <a href=\"https://pub.dev/packages/map_launcher\" rel=\"nofollow noreferrer\">Map Launcher</a> plugin to launch apple/google maps depending on a platform</p>\n\n<pre><code>import 'dart:io';\nimport 'package:map_launcher/map_launcher.dart';\n\nif (Platform.isIOS) {\n  await MapLauncher.launchMap(\n    mapType: MapType.apple,\n    coords: Coords(31.233568, 121.505504),\n    title: \"Shanghai Tower\",\n    description: \"Asia's tallest building\",\n  );\n} else {\n  await MapLauncher.launchMap(\n    mapType: MapType.google,\n    coords: Coords(31.233568, 121.505504),\n    title: \"Shanghai Tower\",\n    description: \"Asia's tallest building\",\n  );\n}\n\n</code></pre>\n"}], "owner": {"reputation": 191, "user_id": 10181357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc287675fc2f0df3470d677244bc755e?s=128&d=identicon&r=PG", "display_name": "CostaRica", "link": "https://stackoverflow.com/users/10181357/costarica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6383, "favorite_count": 2, "answer_count": 4, "score": 9, "last_activity_date": 1605874377, "creation_date": 1553714629, "question_id": 55385029, "link": "https://stackoverflow.com/questions/55385029/how-to-open-apple-maps-using-flutter-dart", "title": "How to open Apple Maps using Flutter/Dart?", "body": "<p>Our Flutter App shows a number of locations using Google Maps, if available, or else using the local browser.</p>\n\n<p>Although we had already previously uploaded a binary code for iOS which was accepted by Apple and successfully published in the App Store, now that we have added some more locations and thus attempted to publish a new version, <strong>Apple has rejected our binary</strong>, stating that it is mandatory to use <strong>\"Apple Maps\"</strong> instead of anything that starts with a <em>\"G\"</em>, like <em>Google</em>...</p>\n\n<p>The rejection message reads as follows:</p>\n\n<blockquote>\n  <blockquote>\n    <p><strong>Your app's location feature is not integrated with the built-in mapping functionality, which limits users to a third-party maps app.</strong></p>\n    \n    <p><strong>Next Steps</strong></p>\n    \n    <p><strong>To resolve this issue, please revise your app to give users the option to launch the native Apple Maps app.</strong></p>\n  </blockquote>\n</blockquote>\n\n<p>I have found that there exists some documentation about a Javascript library named <em>MapKit JS</em>, which serves precisely the purpose of interacting with <strong>Apple Maps</strong>: <strong><a href=\"https://developer.apple.com/maps/mapkitjs/\" rel=\"noreferrer\">https://developer.apple.com/maps/mapkitjs/</a></strong></p>\n\n<pre><code>&lt;script src=\"https://cdn.apple-mapkit.com/mk/5.x.x/mapkit.js\"&gt;&lt;/script&gt;\n\n&lt;script&gt;\n        mapkit.init({\n            authorizationCallback: function(done) {\n                var xhr = new XMLHttpRequest();\n                xhr.open(\"GET\", \"/services/jwt\");\n                xhr.addEventListener(\"load\", function() {\n                    done(this.responseText);\n                });\n                xhr.send();\n            }\n        });\n\n        var Cupertino = new mapkit.CoordinateRegion(\n            new mapkit.Coordinate(37.3316850890998, -122.030067374026),\n            new mapkit.CoordinateSpan(0.167647972, 0.354985255)\n        );\n        var map = new mapkit.Map(\"map\");\n        map.region = Cupertino;\n        &lt;/script&gt;\n</code></pre>\n\n<p>Nevertheless, I could really use some help no how to connect with this <em>MapKit JS</em> using <strong>DART</strong>, instead of JAVA, for our <strong>Flutter application</strong>.</p>\n\n<p><strong>Thank you immensely for your kind help!</strong></p>\n\n<p>Daniel</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 194, "user_id": 5477572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N9HiY.jpg?s=128&g=1", "display_name": "Tim Traversy", "link": "https://stackoverflow.com/users/5477572/tim-traversy"}, "is_accepted": false, "score": 5, "last_activity_date": 1553715026, "creation_date": 1553715026, "answer_id": 55385126, "question_id": 55384326, "link": "https://stackoverflow.com/questions/55384326/pause-flutter-countdown-timer/55385126#55385126", "title": "Pause Flutter Countdown Timer", "body": "<p>There is no built-in <code>pause</code> function, since the <code>Timer</code> class is mainly intended for scheduling blocks of code for later. </p>\n\n<p>What is your use case? The <a href=\"https://docs.flutter.io/flutter/dart-core/Stopwatch-class.html\" rel=\"noreferrer\"><code>Stopwatch</code></a> class has pause and resume funtionality.</p>\n"}, {"tags": [], "owner": {"reputation": 175, "user_id": 8896457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2ab1dc1511cb765e3dd359562f9585b?s=128&d=identicon&r=PG", "display_name": "qewg", "link": "https://stackoverflow.com/users/8896457/qewg"}, "is_accepted": false, "score": 2, "last_activity_date": 1576865647, "creation_date": 1576865647, "answer_id": 59429701, "question_id": 55384326, "link": "https://stackoverflow.com/questions/55384326/pause-flutter-countdown-timer/59429701#59429701", "title": "Pause Flutter Countdown Timer", "body": "<p>Working flutter example with pause and vibrations is below (<a href=\"https://github.com/qqgg231/countdown-example-vibration-pause\" rel=\"nofollow noreferrer\">source</a>)</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'dart:async';\nimport 'package:vibration/vibration.dart';\n\nvoid main() =&gt; runApp(MaterialApp(home: CountdownCard()));\n\nclass CountdownCard extends StatefulWidget {\n// This widget is the root of your application.\n\n@override\n_CountdownCardState createState() =&gt; _CountdownCardState();\n}\n\nclass _CountdownCardState extends State&lt;CountdownCard&gt; {\nTimer _timer;\nint _start = 0;\nbool _vibrationActive = false;\n\nvoid startTimer(int timerDuration) {\n    if (_timer != null) {\n    _timer.cancel();\n    cancelVibrate();\n    }\n    setState(() {\n    _start = timerDuration;\n    });\n    const oneSec = const Duration(seconds: 1);\n    print('test');\n    _timer = new Timer.periodic(\n    oneSec,\n    (Timer timer) =&gt; setState(\n        () {\n        if (_start &lt; 1) {\n            timer.cancel();\n            print('alarm');\n            vibrate();\n        } else {\n            _start = _start - 1;\n        }\n        },\n    ),\n    );\n}\n\nvoid cancelVibrate() {\n    _vibrationActive = false;\n    Vibration.cancel();\n}\n\nvoid vibrate() async {\n    _vibrationActive = true;\n    if (await Vibration.hasVibrator()) {\n    while (_vibrationActive) {\n        Vibration.vibrate(duration: 1000);\n        await Future.delayed(Duration(seconds: 2));\n    }\n    }\n}\n\nvoid pauseTimer() {\n    if (_timer != null) _timer.cancel();\n}\n\nvoid unpauseTimer() =&gt; startTimer(_start);\n\n@override\nvoid dispose() {\n    _timer.cancel();\n    super.dispose();\n}\n\n@override\nWidget build(BuildContext context) {\n    return Scaffold(\n        appBar: AppBar(\n        title: Text('Countdown'),\n        ),\n        body: Wrap(children: &lt;Widget&gt;[\n        Column(\n            children: &lt;Widget&gt;[\n            RaisedButton(\n                onPressed: () {\n                startTimer(10);\n                },\n                child: Text(\"start\"),\n            ),\n            Text(\"$_start\"),\n            RaisedButton(\n                onPressed: () {\n                pauseTimer();\n                },\n                child: Text(\"pause\"),\n            ),\n            RaisedButton(\n                onPressed: () {\n                unpauseTimer();\n                },\n                child: Text(\"unpause\"),\n            ),\n            RaisedButton(\n                onPressed: () {\n                cancelVibrate();\n                },\n                child: Text(\"stop alarm\"),\n            ),\n            ],\n        ),\n        ]));\n}\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 2685558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76b36a995d6d36b69eb2b9ad7ec6d85b?s=128&d=identicon&r=PG", "display_name": "luca", "link": "https://stackoverflow.com/users/2685558/luca"}, "is_accepted": false, "score": 0, "last_activity_date": 1603096181, "creation_date": 1603096181, "answer_id": 64423703, "question_id": 55384326, "link": "https://stackoverflow.com/questions/55384326/pause-flutter-countdown-timer/64423703#64423703", "title": "Pause Flutter Countdown Timer", "body": "<p>I just uploaded this package to implement exactly this: <a href=\"https://pub.dev/packages/pausable_timer\" rel=\"nofollow noreferrer\">https://pub.dev/packages/pausable_timer</a></p>\n<pre><code>// It starts paused\nfinal timer = PausableTimer(Duration(seconds: 1), () =&gt; print('Fired!'));\ntimer.start();\ntimer.pause();\ntimer.start();\n</code></pre>\n<p>There is also an <a href=\"https://github.com/dart-lang/sdk/issues/43329\" rel=\"nofollow noreferrer\">issue requesting the feature in Dart itself</a>, but it doesn't look like it will be added soon.</p>\n"}], "owner": {"reputation": 4783, "user_id": 7561129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SeoPr.png?s=128&g=1", "display_name": "Zeusox", "link": "https://stackoverflow.com/users/7561129/zeusox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5204, "favorite_count": 1, "answer_count": 3, "score": 2, "last_activity_date": 1603096181, "creation_date": 1553711715, "question_id": 55384326, "link": "https://stackoverflow.com/questions/55384326/pause-flutter-countdown-timer", "title": "Pause Flutter Countdown Timer", "body": "<p>I have been playing with Dart Timer Class that I got it to work in its very basic form, however I am stuck trying to add a pause function to it. I have looked into their documentations, but their is not much about their Timer class...</p>\n\n<p>Is there any way I can pause and resume the timer/countdown on click? This is what I have achieved so far:</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'dart:async';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Flutter Demo',\n      theme: ThemeData(\n        primarySwatch: Colors.blue,\n      ),\n      home: MyHomePage(title: 'Flutter Demo Home Page'),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  MyHomePage({Key key, this.title}) : super(key: key);\n\n  final String title;\n\n  @override\n  _MyHomePageState createState() =&gt; _MyHomePageState();\n}\n\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n\n  Timer _timer;\n  int _start = 10;\n\n  void startTimer() {\n    const oneSec = const Duration(seconds: 1);\n    _timer = new Timer.periodic(\n        oneSec,\n            (Timer timer) =&gt; setState(() {\n          if (_start &lt; 1) {\n            timer.cancel();\n          } else {\n            _start = _start - 1;\n          }\n        }));\n  }\n\n\n  Widget build(BuildContext context) {\n    return new Scaffold(\n        appBar: AppBar(title: Text(\"Timer test\")),\n        body: Column(\n          children: &lt;Widget&gt;[\n            RaisedButton(\n              onPressed: () {\n                startTimer();\n              },\n              child: Text(\"start\"),\n            ),\n            Text(\"$_start\")\n          ],\n        ));\n  }\n}\n</code></pre>\n"}, {"tags": ["dart", "flutter", "flutter-cupertino"], "comments": [{"owner": {"reputation": 5165, "user_id": 9374465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4885599304ccdac5fc24aea1bac2d4?s=128&d=identicon&r=PG&f=1", "display_name": "Mazin Ibrahim", "link": "https://stackoverflow.com/users/9374465/mazin-ibrahim"}, "edited": false, "score": 0, "creation_date": 1553706315, "post_id": 55382651, "comment_id": 97487615, "body": "where are you calling the <code>showSnackBar</code> inside your code hierarchy ?"}, {"owner": {"reputation": 8651, "user_id": 1270257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3490b7ca8caa9263dc4de0aea5837a11?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/1270257/alan"}, "reply_to_user": {"reputation": 5165, "user_id": 9374465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4885599304ccdac5fc24aea1bac2d4?s=128&d=identicon&r=PG&f=1", "display_name": "Mazin Ibrahim", "link": "https://stackoverflow.com/users/9374465/mazin-ibrahim"}, "edited": false, "score": 0, "creation_date": 1553706429, "post_id": 55382651, "comment_id": 97487684, "body": "@MazinIbrahim because I am invoking it <code>onTap</code> as shown in Flutter&#39;s example,  <a href=\"https://flutter.dev/docs/cookbook/design/snackbars#1-create-a-scaffold\" rel=\"nofollow noreferrer\">flutter.dev/docs/cookbook/design/snackbars#1-create-a-scaffo&zwnj;&#8203;ld</a>"}, {"owner": {"reputation": 5165, "user_id": 9374465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4885599304ccdac5fc24aea1bac2d4?s=128&d=identicon&r=PG&f=1", "display_name": "Mazin Ibrahim", "link": "https://stackoverflow.com/users/9374465/mazin-ibrahim"}, "edited": false, "score": 0, "creation_date": 1553708553, "post_id": 55382651, "comment_id": 97488832, "body": "Did you try the complete example at the end of the page <a href=\"https://flutter.dev/docs/cookbook/design/snackbars#1-create-a-scaffold\" rel=\"nofollow noreferrer\">flutter.dev/docs/cookbook/design/snackbars#1-create-a-scaffo&zwnj;&#8203;ld</a>"}, {"owner": {"reputation": 8651, "user_id": 1270257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3490b7ca8caa9263dc4de0aea5837a11?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/1270257/alan"}, "reply_to_user": {"reputation": 5165, "user_id": 9374465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4885599304ccdac5fc24aea1bac2d4?s=128&d=identicon&r=PG&f=1", "display_name": "Mazin Ibrahim", "link": "https://stackoverflow.com/users/9374465/mazin-ibrahim"}, "edited": false, "score": 0, "creation_date": 1553708908, "post_id": 55382651, "comment_id": 97489028, "body": "@MazinIbrahim yep, but I&#39;m using a <code>CupertinoPageScaffold</code> instead of a material <code>Scaffold</code>"}], "answers": [{"comments": [{"owner": {"reputation": 8651, "user_id": 1270257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3490b7ca8caa9263dc4de0aea5837a11?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/1270257/alan"}, "edited": false, "score": 0, "creation_date": 1554217081, "post_id": 55383943, "comment_id": 97665918, "body": "I am not sure if this is the ideal solution. Flutter recommends against nesting <code>Scaffold</code>s as it can cause unintended behaviors. Seems like I cannot use a snackbar if I am using a <code>Cupertino</code> based app."}, {"owner": {"reputation": 5165, "user_id": 9374465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4885599304ccdac5fc24aea1bac2d4?s=128&d=identicon&r=PG&f=1", "display_name": "Mazin Ibrahim", "link": "https://stackoverflow.com/users/9374465/mazin-ibrahim"}, "reply_to_user": {"reputation": 8651, "user_id": 1270257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3490b7ca8caa9263dc4de0aea5837a11?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/1270257/alan"}, "edited": false, "score": 1, "creation_date": 1554222083, "post_id": 55383943, "comment_id": 97668886, "body": "I agree with you Alan. If you badly need a <code>Scaffold</code> I think it is the only available method."}], "tags": [], "owner": {"reputation": 5165, "user_id": 9374465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4885599304ccdac5fc24aea1bac2d4?s=128&d=identicon&r=PG&f=1", "display_name": "Mazin Ibrahim", "link": "https://stackoverflow.com/users/9374465/mazin-ibrahim"}, "is_accepted": false, "score": 3, "last_activity_date": 1553711043, "last_edit_date": 1553711043, "creation_date": 1553710255, "answer_id": 55383943, "question_id": 55382651, "link": "https://stackoverflow.com/questions/55382651/use-snackbar-with-cupertinopagescaffold/55383943#55383943", "title": "Use SnackBar with CupertinoPageScaffold", "body": "<p>You need to include a <code>Scaffold</code> as <code>CupertinoPageScaffold</code> isn't a child of it, then you need to separate the code where you call the <code>showSnackBar</code> function from that of <code>Scaffold</code> into a separate class which is here the <code>SnackBarBody</code> because a <code>SnackBar</code> and a <code>Scaffold</code> can't be called from the same <code>Build</code> function. Here's a complete working example:</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:flutter/cupertino.dart';\n\nvoid main() =&gt; runApp(SnackBarDemo());\n\nclass SnackBarDemo extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n     title: 'SnackBar Demo',\n     home: CupertinoPageScaffold(\n    child: SnackBarPage(),\n       ),\n     );\n   }\n }\n\nclass SnackBarPage extends StatelessWidget {\n@override\nWidget build(BuildContext context) {\nreturn Scaffold(\n   body: SnackBarBody(),\n   );\n }\n}\n\nclass SnackBarBody extends StatefulWidget {\n  SnackBarBody({Key key,}):\n      super(key: key);\n\n  @override\n  _SnackBarBodyState createState() =&gt; new _SnackBarBodyState();\n}\n\nclass _SnackBarBodyState extends State&lt;SnackBarBody&gt; {\n\n@override\nWidget build(BuildContext context) {\n  return Center(\n    child: RaisedButton(\n      onPressed: () {\n        final snackBar = SnackBar(content: Text('Yay! A SnackBar!'),action: SnackBarAction(label: 'Undo',\n          onPressed: () {\n            // Some code to undo the change!\n          },\n        ),\n      );\n\n        // Find the Scaffold in the Widget tree and use it to show a SnackBar!\n        Scaffold.of(context).showSnackBar(snackBar);\n       },\n      child: Text('Show SnackBar'),\n     ),\n   );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 8651, "user_id": 1270257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3490b7ca8caa9263dc4de0aea5837a11?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/1270257/alan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1682, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1564370610, "creation_date": 1553705725, "question_id": 55382651, "link": "https://stackoverflow.com/questions/55382651/use-snackbar-with-cupertinopagescaffold", "title": "Use SnackBar with CupertinoPageScaffold", "body": "<p>Is there a way to use a <code>SnackBar</code> with a <code>CupertinoPageScaffold</code>?</p>\n\n<p>I am getting the following error:</p>\n\n<pre><code>Scaffold.of() called with a context that does not contain a Scaffold.\nNo Scaffold ancestor could be found starting from the context that was passed to Scaffold.of().\n</code></pre>\n\n<p>Invoking a <code>SnackBar</code> in a child widget using:</p>\n\n<pre><code>final snackBar = SnackBar(\n      content: Text('Yay! A SnackBar!'),\n      action: SnackBarAction(\n      label: 'Undo',\n      onPressed: () {\n      // Some code to undo the change!\n      },\n      ),\n      );\n\n// Find the Scaffold in the Widget tree and use it to show a SnackBar!\nScaffold.of(context).showSnackBar(snackBar);\n</code></pre>\n"}, {"tags": ["function", "flutter", "dart", "anonymous-function"], "answers": [{"comments": [{"owner": {"reputation": 2854, "user_id": 9164071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGIdi.jpg?s=128&g=1", "display_name": "Themelis", "link": "https://stackoverflow.com/users/9164071/themelis"}, "edited": false, "score": 0, "creation_date": 1553706257, "post_id": 55382751, "comment_id": 97487575, "body": "Thanks for the clear answer. I guess its an elementary question to those who know about functional programming. One more thing about that function that I&#39;m passing in the constructor of the ListView... Is that what a closure is all about?"}, {"owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "reply_to_user": {"reputation": 2854, "user_id": 9164071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGIdi.jpg?s=128&g=1", "display_name": "Themelis", "link": "https://stackoverflow.com/users/9164071/themelis"}, "edited": false, "score": 1, "creation_date": 1553715856, "post_id": 55382751, "comment_id": 97492462, "body": "Pretty much, yes. In your builder function you access <code>_suggestions</code> which isn&#39;t local to the function (unlike <code>context</code> and <code>i</code> which are actual parameters). Nor is it part of the <code>ListView</code> that&#39;s making the callback. Yet your function has access to it, because it has &#39;captured&#39; it. A closure is a function plus an environment. In your code, it&#39;s clear what the function is. The environment is the extra bit that allows that function to reach up and access the member variable of your stateful widget."}], "tags": [], "owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "is_accepted": true, "score": 1, "last_activity_date": 1553706000, "creation_date": 1553706000, "answer_id": 55382751, "question_id": 55382535, "link": "https://stackoverflow.com/questions/55382535/dart-anonymous-function-confusion/55382751#55382751", "title": "Dart anonymous function confusion", "body": "<p>In the constructor of the <code>ListView</code> you are passing a function, which the list view is going to hold onto, maybe as some instance variable called <code>builderFunc</code>. At some point in the future, the list view is going to be told to build and it will need to build its children. It's going to do this by calling <code>builderFunc</code> like this:</p>\n\n<pre><code>Widget jthChild = builderFunc(ctx, j);\n</code></pre>\n\n<p>where <code>ctx</code> and <code>j</code> are local variables in the scope of the caller (the method in <code>ListView</code>). <code>builderFunc</code> (your anonymous function) will construct and return the <code>j</code>th widget, using the build context passed to it by the list view. The list view will call your function multiple times with different values of <code>j</code>.</p>\n"}], "owner": {"reputation": 2854, "user_id": 9164071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGIdi.jpg?s=128&g=1", "display_name": "Themelis", "link": "https://stackoverflow.com/users/9164071/themelis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2339, "favorite_count": 1, "accepted_answer_id": 55382751, "answer_count": 1, "score": 1, "last_activity_date": 1615346375, "creation_date": 1553705369, "last_edit_date": 1615346375, "question_id": 55382535, "link": "https://stackoverflow.com/questions/55382535/dart-anonymous-function-confusion", "title": "Dart anonymous function confusion", "body": "<p>I would like an explanation of anonymous functions in Dart and how are passed as arguments to other functions.</p>\n<p>The example demonstrated below comes from the <a href=\"https://flutter.dev/docs/get-started/codelab#step-4-create-an-infinite-scrolling-listview\" rel=\"nofollow noreferrer\">Write your first app</a> of flutter.dev.</p>\n<pre><code>Widget _buildSuggestions() {\n  return ListView.builder(\n      padding: const EdgeInsets.all(16.0),\n      itemBuilder:  (context, i) {\n        if (i.isOdd) return Divider(); \n\n        final index = i ~/ 2; \n        if (index &gt;= _suggestions.length) {\n          _suggestions.addAll(generateWordPairs().take(10)); \n        }\n        return _buildRow(_suggestions[index]);\n      });\n}\n</code></pre>\n<p>The anonymous function here is the <code>itemBuilder</code>. Its type is <code>{(BuildContext, int) \u2192 Widget itemBuilder}</code>.</p>\n<p>If its type was <code>{() \u2192 Widget itemBuilder}</code> I could understand that during runtime the body of the function will be executed. But now with the arguments I don't get how the <code>BuildContext</code> and <code>int</code> will be provided to the function.</p>\n"}, {"tags": ["dart", "flutter", "pageviews"], "answers": [{"tags": [], "owner": {"reputation": 2759, "user_id": 4593315, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NTfes.jpg?s=128&g=1", "display_name": "Tirth Patel", "link": "https://stackoverflow.com/users/4593315/tirth-patel"}, "is_accepted": true, "score": 12, "last_activity_date": 1553705497, "last_edit_date": 1553705497, "creation_date": 1553705117, "answer_id": 55382469, "question_id": 55381980, "link": "https://stackoverflow.com/questions/55381980/how-to-get-from-index-in-pageview-onpagechanged-in-flutter/55382469#55382469", "title": "How to get from index in PageView onPageChanged in Flutter?", "body": "<p>Decrement page by 1 and store in a class Variable (call setState &amp; modify) or local variable. If current-page is 0 set <code>previousPage</code> to totalPageCount - 1.</p>\n\n<pre><code>_onPageViewChange(int page) {   \n  print(\"Current Page: \" + page.toString());\n  int previousPage = page;\n  if(page != 0) previousPage--;\n  else previousPage = 2;\n  print(\"Previous page: $previousPage\");\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 992, "user_id": 6706175, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/syWNe.jpg?s=128&g=1", "display_name": "divyanshu bhargava", "link": "https://stackoverflow.com/users/6706175/divyanshu-bhargava"}, "is_accepted": false, "score": 1, "last_activity_date": 1553705887, "creation_date": 1553705887, "answer_id": 55382699, "question_id": 55381980, "link": "https://stackoverflow.com/questions/55381980/how-to-get-from-index-in-pageview-onpagechanged-in-flutter/55382699#55382699", "title": "How to get from index in PageView onPageChanged in Flutter?", "body": "<p>You can use PageView.builder, it will give you page index.</p>\n\n<pre><code>PageView.builder(\n  itemBuilder: (context, index) {\n    // index gives you current page position.\n    return _buildPage();\n  },\n  itemCount: listItemCount, // Can be null\n)\n</code></pre>\n"}], "owner": {"reputation": 1157, "user_id": 8822128, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8dfdda7a9f5579e63dd118744c512a3?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/8822128/rick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13566, "favorite_count": 2, "accepted_answer_id": 55382469, "answer_count": 2, "score": 14, "last_activity_date": 1553705887, "creation_date": 1553703578, "question_id": 55381980, "link": "https://stackoverflow.com/questions/55381980/how-to-get-from-index-in-pageview-onpagechanged-in-flutter", "title": "How to get from index in PageView onPageChanged in Flutter?", "body": "<p>How do I get the previous index in PageView onPageChanged? Currently, I can get the current index when the page changes with the following code:</p>\n\n<pre><code>PageView(\n      children: &lt;Widget&gt;[\n        SomeView(),\n        SomeOtherViews(),\n        SomeOtherViews(),\n      ],\n      controller: _pageViewController,\n      onPageChanged: _onPageViewChange,\n    );\n\n_onPageViewChange(int page) {   \n    print(\"Current Page: \" + page.toString());\n  }\n</code></pre>\n\n<p>Does flutter have any built-in function for this? Or should I just manually save the page as reference for the previous page?</p>\n\n<ul>\n<li>Yes I have thought of that, I just want to know if there's a faster way without having to create a variable</li>\n</ul>\n"}, {"tags": ["android", "dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "is_accepted": true, "score": 0, "last_activity_date": 1553703922, "creation_date": 1553703922, "answer_id": 55382090, "question_id": 55381915, "link": "https://stackoverflow.com/questions/55381915/how-to-get-a-variable-value-outside-a-future-function-in-flutter/55382090#55382090", "title": "How to get a variable value outside a Future function in Flutter?", "body": "<p>This should work. When you obtain the <code>path</code> you need to <code>setState</code> so that the widget is rebuilt. </p>\n\n<pre><code>class _PdfScreenState extends State&lt;PdfScreen&gt; {\n\n  final DocumentSnapshot document;\n  dynamic path;\n  var dir;\n\n  _PdfScreenState(this.document);\n\n  @override\n  void initState() {\n    super.initState();\n    getPdf();\n  }\n\n  Future&lt;void&gt; getPdf() async{\n    try{\n        dir = await getApplicationDocumentsDirectory();\n        setState(() {\n          path = \"${dir.path}/${document[\"title\"]}.pdf\";\n        });\n    } catch(e){\n      print(e);\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n\n    if (path == null) {\n      print(\"loading\"); // show a progress indicator\n      return CircularProgressIndicator();\n    } else {\n      print(path); // I need the path here\n      return Container();\n    }\n\n  }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1079, "user_id": 9078384, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/063e7069245954c5246276c925113801?s=128&d=identicon&r=PG&f=1", "display_name": "djalmafreestyler", "link": "https://stackoverflow.com/users/9078384/djalmafreestyler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1630, "favorite_count": 0, "accepted_answer_id": 55382090, "answer_count": 1, "score": 0, "last_activity_date": 1553707211, "creation_date": 1553703358, "last_edit_date": 1553707211, "question_id": 55381915, "link": "https://stackoverflow.com/questions/55381915/how-to-get-a-variable-value-outside-a-future-function-in-flutter", "title": "How to get a variable value outside a Future function in Flutter?", "body": "<p>I am developing a book app that downloads pdfs, I am having problems to get the full path where the books will be downloaded to open with a pdfviewer. </p>\n\n<p>I have a function that pass the path to a variable called path but when I print it it's null, if I hot reload I get the right path.</p>\n\n<pre><code>import 'package:cloud_firestore/cloud_firestore.dart';\nimport 'package:flutter/material.dart';\nimport 'package:path_provider/path_provider.dart';\nimport 'package:flutter_pdf_viewer/flutter_pdf_viewer.dart';\n\nclass PdfScreen extends StatefulWidget {\n\n  final DocumentSnapshot document;\n\n  PdfScreen(this.document);\n\n  @override\n  _PdfScreenState createState() =&gt; _PdfScreenState(document);\n}\n\nclass _PdfScreenState extends State&lt;PdfScreen&gt; {\n\n  final DocumentSnapshot document;\n  dynamic path;\n  var dir;\n\n  _PdfScreenState(this.document);\n\n\n  Future&lt;void&gt; getPdf() async{\n\n    try{\n\n        dir = await getApplicationDocumentsDirectory();\n\n        path = \"${dir.path}/${document[\"title\"]}.pdf\";\n\n\n\n    } catch(e){\n      print(e);\n    }\n\n\n  }\n\n  @override\n  Widget build(BuildContext context) {\n\n    getPdf();\n    print(path); // I need the path here\n\n\n // the Path I need:    //\"/data/data/br.com.apps.d.baixa_livros/app_flutter/${document[\"title\"]}.pdf\";\n\n    return Container();\n  }\n\n}\n</code></pre>\n"}, {"tags": ["dart"], "answers": [{"comments": [{"owner": {"reputation": 3671, "user_id": 8745788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTs7z.png?s=128&g=1", "display_name": "Mattia", "link": "https://stackoverflow.com/users/8745788/mattia"}, "reply_to_user": {"reputation": 1762, "user_id": 1806969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kv9ip.jpg?s=128&g=1", "display_name": "Matija", "link": "https://stackoverflow.com/users/1806969/matija"}, "edited": false, "score": 1, "creation_date": 1553709905, "post_id": 55382389, "comment_id": 97489549, "body": "They are not actual types, but <a href=\"https://www.dartlang.org/guides/language/language-tour#generics\" rel=\"nofollow noreferrer\">generics</a>."}, {"owner": {"reputation": 3671, "user_id": 8745788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTs7z.png?s=128&g=1", "display_name": "Mattia", "link": "https://stackoverflow.com/users/8745788/mattia"}, "reply_to_user": {"reputation": 3639, "user_id": 12483095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Jlh3.png?s=128&g=1", "display_name": "iDecode", "link": "https://stackoverflow.com/users/12483095/idecode"}, "edited": false, "score": 2, "creation_date": 1589220590, "post_id": 55382389, "comment_id": 109201534, "body": "Not actually... if you put <code>then</code> after <code>catchError</code> , <code>then</code> is called because <code>catchError</code> returns a completely new Future, indeed if were to return an error inside <code>catchError</code> <code>.then</code> won&#39;t be fired, in asynchronous code your code would be something like this:  <a href=\"https://gist.github.com/Hexer10/87a6f38616f74321c85f2f91a5450d4e\" rel=\"nofollow noreferrer\">gist.github.com/Hexer10/87a6f38616f74321c85f2f91a5450d4e</a>"}], "tags": [], "owner": {"reputation": 3671, "user_id": 8745788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTs7z.png?s=128&g=1", "display_name": "Mattia", "link": "https://stackoverflow.com/users/8745788/mattia"}, "is_accepted": true, "score": 39, "last_activity_date": 1553704821, "creation_date": 1553704821, "answer_id": 55382389, "question_id": 55381236, "link": "https://stackoverflow.com/questions/55381236/difference-between-then-and-whencompleted-methods-when-working-with-future/55382389#55382389", "title": "Difference between .then() and .whenCompleted() methods when working with Futures?", "body": "<p><a href=\"https://api.dartlang.org/stable/2.2.0/dart-async/Future/whenComplete.html\" rel=\"noreferrer\">.whenComplete</a> will fire a function either when the Future completes with an error or not, instead <a href=\"https://api.dartlang.org/stable/2.2.0/dart-async/Future/then.html\" rel=\"noreferrer\">.then</a> will fire a function after the Future completes without an error.</p>\n\n<p>Quote from the <a href=\"https://api.dartlang.org/stable/2.2.0/dart-async/Future/whenComplete.html\" rel=\"noreferrer\">.whenComplete</a> API DOC</p>\n\n<blockquote>\n  <p>This is the asynchronous equivalent of a \"finally\" block.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1122, "user_id": 7292898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cQeWH.jpg?s=128&g=1", "display_name": "Abdulhakim Zeinu", "link": "https://stackoverflow.com/users/7292898/abdulhakim-zeinu"}, "is_accepted": false, "score": 3, "last_activity_date": 1577629172, "creation_date": 1577629172, "answer_id": 59520185, "question_id": 55381236, "link": "https://stackoverflow.com/questions/55381236/difference-between-then-and-whencompleted-methods-when-working-with-future/59520185#59520185", "title": "Difference between .then() and .whenCompleted() methods when working with Futures?", "body": "<p><code>.whenComplete</code> = The function inside <code>.whenComplete</code> is called when this future completes, whether it does so with a value or with an error.</p>\n\n<p><code>.then</code> = Returns a new Future which is completed with the result of the call to onValue (if this future completes with a value) or to onError (if this future completes with an error)</p>\n\n<p>Read detail on API DOC</p>\n\n<p><a href=\"https://api.dartlang.org/stable/2.7.0/dart-async/Future/whenComplete.html\" rel=\"nofollow noreferrer\">whenComplete</a>   <a href=\"https://api.dartlang.org/stable/2.7.0/dart-async/Future/then.html\" rel=\"nofollow noreferrer\">then</a></p>\n"}, {"tags": [], "owner": {"reputation": 3639, "user_id": 12483095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Jlh3.png?s=128&g=1", "display_name": "iDecode", "link": "https://stackoverflow.com/users/12483095/idecode"}, "is_accepted": false, "score": 3, "last_activity_date": 1582726721, "creation_date": 1582726721, "answer_id": 60415945, "question_id": 55381236, "link": "https://stackoverflow.com/questions/55381236/difference-between-then-and-whencompleted-methods-when-working-with-future/60415945#60415945", "title": "Difference between .then() and .whenCompleted() methods when working with Futures?", "body": "<p><strong>Even if there is an error, <code>then</code> can still be invoked</strong>, provided you have specified <code>catchError</code>. </p>\n\n<pre><code>someFuture.catchError(\n  (onError) {\n    print(\"called when there is an error catches error\");\n  },\n).then((value) {\n  print(\"called with value = null\");\n}).whenComplete(() {\n  print(\"called when future completes\");\n});\n</code></pre>\n\n<p>So, if there is an error, all the above callbacks gets called. </p>\n"}], "owner": {"reputation": 1762, "user_id": 1806969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kv9ip.jpg?s=128&g=1", "display_name": "Matija", "link": "https://stackoverflow.com/users/1806969/matija"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7586, "favorite_count": 0, "accepted_answer_id": 55382389, "answer_count": 3, "score": 22, "last_activity_date": 1601311354, "creation_date": 1553701381, "last_edit_date": 1601311354, "question_id": 55381236, "link": "https://stackoverflow.com/questions/55381236/difference-between-then-and-whencompleted-methods-when-working-with-future", "title": "Difference between .then() and .whenCompleted() methods when working with Futures?", "body": "<p>I'm exploring Futures in Dart, and I'm confused about these two methods that Future offers, <code>.then()</code> and <code>.whenCompleted()</code>. What's the main difference between them?</p>\n<p>Lets say I want to read a .txt using <code>.readAsString()</code>, I would do it like this:</p>\n<pre><code>void main(){\n  File file = new File('text.txt');\n  Future content = file.readAsString();\n  content.then((data) {\n    print(content);\n  });  \n}\n</code></pre>\n<p>So <code>.then()</code> is like a callback that fires a function once the Future is completed.</p>\n<p>But I see there is also <code>.whenComplete()</code> that can also fire a function once Future completes. Something like this :</p>\n<pre><code>void main(){\n  File file = new File('text.txt');\n  Future content = file.readAsString();\n  content.whenComplete(() {\n    print(&quot;Completed&quot;);\n  });\n}\n</code></pre>\n<p>The difference I see here is that <code>.then()</code> has access to data that was returned!\nWhat is <code>.whenCompleted()</code> used for? When should we choose one over the other?</p>\n"}, {"tags": ["sqlite", "dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 1386, "user_id": 5886503, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/73nm1.jpg?s=128&g=1", "display_name": "Shankar Thiyagaraajan", "link": "https://stackoverflow.com/users/5886503/shankar-thiyagaraajan"}, "edited": false, "score": 1, "creation_date": 1606985584, "post_id": 55378906, "comment_id": 115131213, "body": "I&#39;m looking for this one for the last one hour.  Thanks a lot!"}], "tags": [], "owner": {"reputation": 593, "user_id": 3700909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0cd8310dfa1a85c80270c2b070c6498?s=128&d=identicon&r=PG&f=1", "display_name": "knezzz", "link": "https://stackoverflow.com/users/3700909/knezzz"}, "is_accepted": false, "score": 12, "last_activity_date": 1553694726, "creation_date": 1553694726, "answer_id": 55378906, "question_id": 55378763, "link": "https://stackoverflow.com/questions/55378763/flutter-type-futuredynamic-is-not-a-subtype-of-type-widget/55378906#55378906", "title": "Flutter: type &#39;Future&lt;dynamic&gt;&#39; is not a subtype of type &#39;Widget&#39;", "body": "<p>Your getFilterChipsWidgets() is async function so it will return Future.\nYou could await for the future and save widgets to list and call setState once it is compleated.\nOr just wrap it with FutureBuilder like so:</p>\n\n<pre><code>    children: &lt;Widget&gt; [\n      new Text(_list[_index][\"title\"], style: new TextStyle(fontWeight: FontWeight.bold, fontSize: 22),),          \n      new Text(_list[_index][\"description\"]),\n      FutureBuilder&lt;Widget&gt;(\n       future: getFilterChipsWidgets,\n       builder: (BuildContext context, AsyncSnapshot&lt;Widget&gt; snapshot){\n         if(snapshot.hasData)\n           return snapshot.data;\n\n         return Container(child: CircularProgressIndicator());\n       }\n      ),\n    ],\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3593, "user_id": 3902339, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OmtOl.png?s=128&g=1", "display_name": "ArifMustafa", "link": "https://stackoverflow.com/users/3902339/arifmustafa"}, "is_accepted": false, "score": 0, "last_activity_date": 1569127780, "last_edit_date": 1569127780, "creation_date": 1569127380, "answer_id": 58046101, "question_id": 55378763, "link": "https://stackoverflow.com/questions/55378763/flutter-type-futuredynamic-is-not-a-subtype-of-type-widget/58046101#58046101", "title": "Flutter: type &#39;Future&lt;dynamic&gt;&#39; is not a subtype of type &#39;Widget&#39;", "body": "<p>Sometimes it also has been seen, that mistakenly you have assigned the function <code>async</code> and inside the function block no where you are using the <code>await</code> processes,</p>\n\n<p>Similar scenario have been already happened with me, and by removing this unused <code>async</code> over the function resolved this above issue.</p>\n\n<p>when you make any function <code>async</code>, the function requester treats that in <code>Future&lt;T&gt;</code> way, so be careful. </p>\n"}], "owner": {"reputation": 131, "user_id": 9668797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed4d7ef126cfb4c20042c17e7180a2e5?s=128&d=identicon&r=PG&f=1", "display_name": "Niru", "link": "https://stackoverflow.com/users/9668797/niru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15591, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1569127780, "creation_date": 1553694356, "last_edit_date": 1553702451, "question_id": 55378763, "link": "https://stackoverflow.com/questions/55378763/flutter-type-futuredynamic-is-not-a-subtype-of-type-widget", "title": "Flutter: type &#39;Future&lt;dynamic&gt;&#39; is not a subtype of type &#39;Widget&#39;", "body": "<p>I am using sqlite to store data in my Flutter App. I have a modal bottomsheet which opens with filterchips and when you select one it adds the item to the database. If the item already exists the filterchip is checked. When I call the database function to check if the item already exist I get the below error.</p>\n\n<p>I have tried using both async and await.</p>\n\n<p>Database query code:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>// FIND TAG\nfindTag(int tagId) async {\n    var dbConnection = await db;\n    var res = await  dbConnection.query(\"$TABLE_NAME\", where: \"tagId = ?\", whereArgs: [tagId]);\n    return res.isNotEmpty ? true : false ;\n  }\n</code></pre>\n\n<p>Modal bottomsheet widget container code:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Widget build(BuildContext context) {\n    setState(() {\n      _index = widget.index;\n      _list =widget.list;\n    });\n\n    return new Container(\n      padding: new EdgeInsets.all(27.0),\n      child: new Column(\n        mainAxisAlignment: MainAxisAlignment.start,\n        mainAxisSize: MainAxisSize.min,              \n        crossAxisAlignment: CrossAxisAlignment.start,\n        children: &lt;Widget&gt; [\n          new Text(_list[_index][\"title\"], style: new TextStyle(  fontWeight: FontWeight.bold, fontSize: 22),),          \n          new Text(_list[_index][\"description\"]),\n          getFilterChipsWidgets(),\n        ],\n      ),\n    );\n\n}\n\n\ngetFilterChipsWidgets()\n  async {\n\n    List&lt;Widget&gt; tagsList = new List&lt;Widget&gt;();\n      for(var i=0; i&lt;_list[_index][\"tags\"].length; i++) {       \n        var dbHelper = DBHelper();\n        int id = int.parse(_list[_index][\"tags\"][i][\"id\"]);\n\n        var exist = await dbHelper.findTag(id);\n        FilterChip item = new FilterChip(\n          label: Text(_list[_index][\"tags\"][i][\"name\"].toString(),), \n          selected: exist,\n          onSelected: (bool newValue) {\n            if(newValue) {\n              dbHelper.addNewTag(id);\n            } else {\n              dbHelper.deleteNewTag(id);\n            }\n          },\n        );\n        tagsList.add(item);       \n      }\n\n       return Wrap(\n          spacing: 8.0, // gap between adjacent chips\n          runSpacing: 4.0, // gap between lines\n          children: tagsList,\n        );\n}\n\n\n</code></pre>\n"}, {"tags": ["dart", "flutter", "stream", "bloc", "stream-builder"], "comments": [{"owner": {"reputation": 2373, "user_id": 362556, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/d7a4249506ec89e050ed3f6cfba8e1ab?s=128&d=identicon&r=PG", "display_name": "Garcon", "link": "https://stackoverflow.com/users/362556/garcon"}, "edited": false, "score": 0, "creation_date": 1568714026, "post_id": 55377232, "comment_id": 102353498, "body": "Did you resolve this? I&#39;m just getting into Flutter development and experiencing this exact issue."}, {"owner": {"reputation": 326, "user_id": 10124451, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_GkGYNcOPMU/AAAAAAAAAAI/AAAAAAAACZA/frkq2UGyUjM/photo.jpg?sz=128", "display_name": "Sander Dalby Larsen", "link": "https://stackoverflow.com/users/10124451/sander-dalby-larsen"}, "reply_to_user": {"reputation": 2373, "user_id": 362556, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/d7a4249506ec89e050ed3f6cfba8e1ab?s=128&d=identicon&r=PG", "display_name": "Garcon", "link": "https://stackoverflow.com/users/362556/garcon"}, "edited": false, "score": 0, "creation_date": 1568804470, "post_id": 55377232, "comment_id": 102389491, "body": "I never resolved this issue. I switched to Provider for state management, but that was easy for me because I was in the early stages of development."}], "answers": [{"comments": [{"owner": {"reputation": 326, "user_id": 10124451, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_GkGYNcOPMU/AAAAAAAAAAI/AAAAAAAACZA/frkq2UGyUjM/photo.jpg?sz=128", "display_name": "Sander Dalby Larsen", "link": "https://stackoverflow.com/users/10124451/sander-dalby-larsen"}, "edited": false, "score": 0, "creation_date": 1553764658, "post_id": 55378486, "comment_id": 97508215, "body": "Using <code>await</code> with <code>Bloc.getModels</code> won&#39;t work because it doesn&#39;t return a <code>Future</code>, and I know the data is being stored correctly because I can print <code>models</code> in <code>Bloc.getModels</code> and see that it fetches the updated data."}], "tags": [], "owner": {"reputation": 97, "user_id": 9741539, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cvlVHYbfUns/AAAAAAAAAAI/AAAAAAAAALg/JQLYK0YH_BI/photo.jpg?sz=128", "display_name": "lucas britto", "link": "https://stackoverflow.com/users/9741539/lucas-britto"}, "is_accepted": false, "score": 0, "last_activity_date": 1553693566, "creation_date": 1553693566, "answer_id": 55378486, "question_id": 55377232, "link": "https://stackoverflow.com/questions/55377232/streambuilder-is-not-reacting-when-calling-streamcontroller-sink-add/55378486#55378486", "title": "StreamBuilder is not reacting when calling StreamController.sink.add", "body": "<p>Maybe the problem is that you don't put the await when calls bloc.getModels after save or the save method is giving an error and break the method not running the getModels</p>\n"}, {"comments": [{"owner": {"reputation": 329, "user_id": 4327834, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/0519978db9a4477b6c4329f133db0b49?s=128&d=identicon&r=PG&f=1", "display_name": "Cheese", "link": "https://stackoverflow.com/users/4327834/cheese"}, "edited": false, "score": 0, "creation_date": 1577048118, "post_id": 57972861, "comment_id": 105078529, "body": "This is technically doing the EXACT same thing. No difference what-so-ever. You&#39;re changing the _miniaturePaints list to a different list in both code snippets. The fact that one is a field makes no difference because it&#39;s the data we want, not whether it&#39;s a field or variable."}], "tags": [], "owner": {"reputation": 2373, "user_id": 362556, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/d7a4249506ec89e050ed3f6cfba8e1ab?s=128&d=identicon&r=PG", "display_name": "Garcon", "link": "https://stackoverflow.com/users/362556/garcon"}, "is_accepted": false, "score": 0, "last_activity_date": 1568718028, "creation_date": 1568718028, "answer_id": 57972861, "question_id": 55377232, "link": "https://stackoverflow.com/questions/55377232/streambuilder-is-not-reacting-when-calling-streamcontroller-sink-add/57972861#57972861", "title": "StreamBuilder is not reacting when calling StreamController.sink.add", "body": "<p>Hopefully this will help someone: For me the problem, was that while I was updating the List it was the actually the same reference that was stored in a field. Creating a new list each time and not storing the list in the same field resolved it. We can't see inside your ModelProvider from the question but it looks like it could be the same issue.</p>\n\n<p><strong>This did not update after the first time:</strong></p>\n\n<pre><code>class MiniaturePaintsBloc implements Bloc {\n\n  List&lt;MiniaturePaint&gt; _miniaturePaints;\n\n  final _controller = StreamController&lt;List&lt;MiniaturePaint&gt;&gt;.broadcast();\n\n  Stream&lt;List&lt;MiniaturePaint&gt;&gt; get miniaturePaintsStream =&gt; _controller.stream;\n\n  void fetchMiniaturePaints() async {\n    QuerySnapshot querySnapshot =\n        await Firestore.instance.collection(\"MiniaturePaints\").getDocuments(source: Source.serverAndCache);\n    _miniaturePaints = querySnapshot.documents.map((doc) =&gt; _docToMiniaturePaint(doc)).toList();\n    _controller.sink.add(_miniaturePaints);\n  }\n\n  //rest of BloC code here\n}\n</code></pre>\n\n<p><strong>By removing the field, it now updates the StreamBuilder:</strong></p>\n\n<pre><code>class MiniaturePaintsBloc implements Bloc {\n\n  final _controller = StreamController&lt;List&lt;MiniaturePaint&gt;&gt;.broadcast();\n\n  Stream&lt;List&lt;MiniaturePaint&gt;&gt; get miniaturePaintsStream =&gt; _controller.stream;\n\n  void fetchMiniaturePaints() async {\n    QuerySnapshot querySnapshot =\n        await Firestore.instance.collection(\"MiniaturePaints\").getDocuments(source: Source.serverAndCache);\n    List&lt;MiniaturePaint&gt; miniaturePaints = querySnapshot.documents.map((doc) =&gt; _docToMiniaturePaint(doc)).toList();\n    _controller.sink.add(miniaturePaints);\n  }\n\n  //rest of BLoC code here\n}\n</code></pre>\n"}], "owner": {"reputation": 326, "user_id": 10124451, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_GkGYNcOPMU/AAAAAAAAAAI/AAAAAAAACZA/frkq2UGyUjM/photo.jpg?sz=128", "display_name": "Sander Dalby Larsen", "link": "https://stackoverflow.com/users/10124451/sander-dalby-larsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1378, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1568718028, "creation_date": 1553689720, "question_id": 55377232, "link": "https://stackoverflow.com/questions/55377232/streambuilder-is-not-reacting-when-calling-streamcontroller-sink-add", "title": "StreamBuilder is not reacting when calling StreamController.sink.add", "body": "<p>I have a screen in my Flutter app dedicated to editing a list of objects. When you press the edit button a modal pops up, allowing you to edit the objects values. When you close the model the list is refreshed through a BLoC. However, when calling the method that refreshes the list, nothing happens.</p>\n\n<pre><code>bloc.dart\n</code></pre>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class Bloc {\n\n  final _provider = ModelProvider();\n  final _controller = StreamController&lt;List&lt;Model&gt;&gt;();\n\n  Stream&lt;List&lt;Model&gt;&gt; get models =&gt; _controller.stream;\n\n  void getModels() async {\n    final List&lt;Model&gt; models = await _provider.readAll();\n    _controller.sink.add(models);\n  }\n\n  Future&lt;int&gt; saveModel(Model model) async {\n    final int id = await _provider.write(model);\n    return id;\n  }\n\n}\n</code></pre>\n\n<pre><code>list_screen.dart\n</code></pre>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class ListScreen extends StatelessWidget {\n\n  final bloc = Bloc();\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: CustomScrollView(\n        slivers: &lt;Widget&gt;[\n          // SliverAppBar ...\n          StreamBuilder&lt;List&lt;Model&gt;&gt;(\n            stream: bloc.models,\n            builder: (context, snapshot) {\n              if (snapshot.hasData) {\n                return ListView.builder(\n                  itemCount: snapshot.data.length,\n                  itemBuilder: (context, index) =&gt;\n                      ListTile(\n                        title: Text(snapshot.data[index].name),\n                        onPressed: () =&gt; _editModel(context),\n                      ),\n                ),\n              } else {\n                bloc.getModels();\n                return Container();\n              }\n            }          \n          ),\n        ],\n      ),\n    );\n  }\n\n  void _editModel(BuildContext context) async {\n    final Model edited = await showDialog(\n      context: context,\n      builder: (context) =&gt; EditModal(),\n    );\n    if (edited != null) {\n      await bloc.saveModel(edited);\n      bloc.getModels();\n    }\n  }\n\n}\n</code></pre>\n\n<p>I know that the data is being stored in the database correctly, because if I go to the previous screen and then return to the editing screen the data is updated. Can anyone help me figure out why the <code>StreamBuilder</code> is not rebuilding?</p>\n"}, {"tags": ["exception", "dart", "flutter"], "comments": [{"owner": {"reputation": 996, "user_id": 4571911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/781b802717609f8a82267fd3dbd63b91?s=128&d=identicon&r=PG&f=1", "display_name": "key", "link": "https://stackoverflow.com/users/4571911/key"}, "edited": false, "score": 0, "creation_date": 1553688691, "post_id": 55376760, "comment_id": 97475801, "body": "I also tried with targetSdkVersion 28"}, {"owner": {"reputation": 2759, "user_id": 4593315, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NTfes.jpg?s=128&g=1", "display_name": "Tirth Patel", "link": "https://stackoverflow.com/users/4593315/tirth-patel"}, "edited": false, "score": 0, "creation_date": 1553689788, "post_id": 55376760, "comment_id": 97476483, "body": "Have you changed security rules of DB as Public?"}, {"owner": {"reputation": 996, "user_id": 4571911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/781b802717609f8a82267fd3dbd63b91?s=128&d=identicon&r=PG&f=1", "display_name": "key", "link": "https://stackoverflow.com/users/4571911/key"}, "reply_to_user": {"reputation": 2759, "user_id": 4593315, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NTfes.jpg?s=128&g=1", "display_name": "Tirth Patel", "link": "https://stackoverflow.com/users/4593315/tirth-patel"}, "edited": false, "score": 0, "creation_date": 1553690165, "post_id": 55376760, "comment_id": 97476736, "body": "@TirthPatel how can I check that?"}, {"owner": {"reputation": 2759, "user_id": 4593315, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NTfes.jpg?s=128&g=1", "display_name": "Tirth Patel", "link": "https://stackoverflow.com/users/4593315/tirth-patel"}, "edited": false, "score": 0, "creation_date": 1553691072, "post_id": 55376760, "comment_id": 97477320, "body": "Go to Firebase Console &gt; Database &gt; Rules"}, {"owner": {"reputation": 996, "user_id": 4571911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/781b802717609f8a82267fd3dbd63b91?s=128&d=identicon&r=PG&f=1", "display_name": "key", "link": "https://stackoverflow.com/users/4571911/key"}, "reply_to_user": {"reputation": 2759, "user_id": 4593315, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NTfes.jpg?s=128&g=1", "display_name": "Tirth Patel", "link": "https://stackoverflow.com/users/4593315/tirth-patel"}, "edited": false, "score": 0, "creation_date": 1553691181, "post_id": 55376760, "comment_id": 97477395, "body": "@TirthPatel Yes I it&#39;s public as I said I am able to push data with another app.  --Your security rules are defined as public, so anyone can steal, modify, or delete data in your database"}, {"owner": {"reputation": 235, "user_id": 8413906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05b6a6c24d74af597492696137489edc?s=128&d=identicon&r=PG&f=1", "display_name": "Serl", "link": "https://stackoverflow.com/users/8413906/serl"}, "edited": false, "score": 1, "creation_date": 1553691971, "post_id": 55376760, "comment_id": 97477973, "body": "@key, can you show us the code where you make the firebase call?"}], "answers": [{"comments": [{"owner": {"reputation": 1502, "user_id": 3969602, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p3KUd.jpg?s=128&g=1", "display_name": "Corey Cole", "link": "https://stackoverflow.com/users/3969602/corey-cole"}, "edited": false, "score": 0, "creation_date": 1572045822, "post_id": 55378447, "comment_id": 103451790, "body": "You cannot remove <code>apply plugin: &#39;com.google.gms.google-services&#39;</code> or else firebase will not be able to find your database using your <code>google-services.json</code> file"}], "tags": [], "owner": {"reputation": 996, "user_id": 4571911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/781b802717609f8a82267fd3dbd63b91?s=128&d=identicon&r=PG&f=1", "display_name": "key", "link": "https://stackoverflow.com/users/4571911/key"}, "is_accepted": true, "score": 0, "last_activity_date": 1553693433, "creation_date": 1553693433, "answer_id": 55378447, "question_id": 55376760, "link": "https://stackoverflow.com/questions/55376760/flutter-app-breaks-when-trying-to-push-data-to-firebase/55378447#55378447", "title": "Flutter app breaks when trying to push data to firebase", "body": "<p>Fixed it, </p>\n\n<p>I had to downgrade build gradle like so:\nat myapp/build.gradle</p>\n\n<pre><code>dependencies {\n    classpath 'com.google.gms:google-services:4.2.0'\n    classpath 'com.android.tools.build:gradle:3.2.1'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n}\n</code></pre>\n\n<p>and removed everything unnecessary from myapp/app/build.gradle </p>\n\n<pre><code>dependencies {\n    implementation 'com.google.firebase:firebase-core:16.0.8'\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    testImplementation 'junit:junit:4.12'\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>I also removed all unused dependencies like image_picker and firebase_ml_vision</p>\n"}], "owner": {"reputation": 996, "user_id": 4571911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/781b802717609f8a82267fd3dbd63b91?s=128&d=identicon&r=PG&f=1", "display_name": "key", "link": "https://stackoverflow.com/users/4571911/key"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1524, "favorite_count": 0, "accepted_answer_id": 55378447, "answer_count": 1, "score": 0, "last_activity_date": 1553693433, "creation_date": 1553688273, "last_edit_date": 1553688736, "question_id": 55376760, "link": "https://stackoverflow.com/questions/55376760/flutter-app-breaks-when-trying-to-push-data-to-firebase", "title": "Flutter app breaks when trying to push data to firebase", "body": "<p>So I am using the firebase plugin and did everything what google said to connect it to firebase, but if I try to add (create) something, it breaks the app.</p>\n\n<p>This is my firebase setup:</p>\n\n<p>I've downloadaded the google-services.json from firebase\nadded to application/build.grandle:</p>\n\n<pre><code>dependencies {\n    classpath 'com.google.gms:google-services:4.2.0'\n    classpath 'com.android.tools.build:gradle:3.3.2'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n}\n</code></pre>\n\n<p>my grundle file to the application/app/build.grundle</p>\n\n<pre><code>def localProperties = new Properties()\ndef localPropertiesFile = rootProject.file('local.properties')\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader('UTF-8') { reader -&gt;\n        localProperties.load(reader)\n    }\n}\n\ndef flutterRoot = localProperties.getProperty('flutter.sdk')\nif (flutterRoot == null) {\n    throw new GradleException(\"Flutter SDK not found. Define location with flutter.sdk in the local.properties file.\")\n}\n\ndef flutterVersionCode = localProperties.getProperty('flutter.versionCode')\nif (flutterVersionCode == null) {\n    flutterVersionCode = '1'\n}\n\ndef flutterVersionName = localProperties.getProperty('flutter.versionName')\nif (flutterVersionName == null) {\n    flutterVersionName = '1.0'\n}\n\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply from: \"$flutterRoot/packages/flutter_tools/gradle/flutter.gradle\"\n\nandroid {\n    compileSdkVersion 28\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    lintOptions {\n        disable 'InvalidPackage'\n    }\n\n    defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId \"com.comp.appname\"\n        minSdkVersion 21\n        targetSdkVersion 27\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n\n    buildTypes {\n        release {\n            // TODO: Add your own signing config for the release build.\n            // Signing with the debug keys for now, so `flutter run --release` works.\n            signingConfig signingConfigs.debug\n        }\n    }\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    implementation 'com.google.firebase:firebase-core:16.0.8'\n    implementation 'com.google.firebase:firebase-firestore:18.1.0'\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n}\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>this is the build with the error</p>\n\n<pre><code>Launching lib\\main.dart on Android SDK built for x86 in debug mode...\nInitializing gradle...\nResolving dependencies...\nRunning Gradle task 'assembleDebug'...\nregisterResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)\nregisterResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)\nregisterResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)\nregisterResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)\nregisterResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)\nBuilt build\\app\\outputs\\apk\\debug\\app-debug.apk.\nSyncing files to device Android SDK built for x86...\nD/        ( 7903): HostConnection::get() New Host Connection established 0xe4dd3840, tid 7928\nD/EGL_emulation( 7903): eglMakeCurrent: 0xe4dc10c0: ver 3 1 (tinfo 0xe53dc010)\nD/skia    ( 7903): Program linking failed.\nI/chatty  ( 7903): uid=10087(com.comp.appname) 1.gpu identical 9 lines\nD/skia    ( 7903): Program linking failed.\nD/skia    ( 7903): Program linking failed.\nD/skia    ( 7903): Program linking failed.\nI/chatty  ( 7903): uid=10087(com.comp.appname) 1.gpu identical 2 lines\nD/skia    ( 7903): Program linking failed.\nW/DynamiteModule( 7903): Local module descriptor class for providerinstaller not found.\nI/DynamiteModule( 7903): Considering local module providerinstaller:0 and remote module providerinstaller:0\nW/ProviderInstaller( 7903): Failed to load providerinstaller module: No acceptable module found. Local version is 0 and remote version is 0.\nI/presentationap( 7903): The ClassLoaderContext is a special shared library.\nI/chatty  ( 7903): uid=10087(com.comp.appname) FirestoreWorker identical 2 lines\nI/presentationap( 7903): The ClassLoaderContext is a special shared library.\nW/presentationap( 7903): Accessing hidden field Ldalvik/system/BaseDexClassLoader;-&gt;pathList:Ldalvik/system/DexPathList; (light greylist, reflection)\nW/presentationap( 7903): Accessing hidden field Ldalvik/system/DexPathList;-&gt;nativeLibraryDirectories:Ljava/util/List; (light greylist, reflection)\nW/presentationap( 7903): Accessing hidden field Ldalvik/system/DexPathList;-&gt;systemNativeLibraryDirectories:Ljava/util/List; (light greylist, reflection)\nW/presentationap( 7903): Accessing hidden field Ldalvik/system/DexPathList;-&gt;nativeLibraryPathElements:[Ldalvik/system/DexPathList$NativeLibraryElement; (light greylist, reflection)\nW/presentationap( 7903): Accessing hidden method Ldalvik/system/DexPathList;-&gt;makePathElements(Ljava/util/List;)[Ldalvik/system/DexPathList$NativeLibraryElement; (light greylist, reflection)\nV/NativeCrypto( 7903): Registering com/google/android/gms/org/conscrypt/NativeCrypto's 284 native methods...\nW/presentationap( 7903): Accessing hidden method Ljava/security/spec/ECParameterSpec;-&gt;getCurveName()Ljava/lang/String; (light greylist, reflection)\nD/NetworkSecurityConfig( 7903): No Network Security Config specified, using platform default\nW/presentationap( 7903): Accessing hidden field Ljavax/net/ssl/SSLSocketFactory;-&gt;defaultSocketFactory:Ljavax/net/ssl/SSLSocketFactory; (light greylist, reflection)\nW/presentationap( 7903): Accessing hidden field Ljavax/net/ssl/SSLServerSocketFactory;-&gt;defaultServerSocketFactory:Ljavax/net/ssl/SSLServerSocketFactory; (light greylist, reflection)\nI/ProviderInstaller( 7903): Installed default security provider GmsCore_OpenSSL\nE/AndroidRuntime( 7903): FATAL EXCEPTION: AsyncTask #2\nE/AndroidRuntime( 7903): Process: com.comp.appname, PID: 7903\nE/AndroidRuntime( 7903): java.lang.RuntimeException: An error occurred while executing doInBackground()\nE/AndroidRuntime( 7903):    at android.os.AsyncTask$3.done(AsyncTask.java:354)\nE/AndroidRuntime( 7903):    at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:383)\nE/AndroidRuntime( 7903):    at java.util.concurrent.FutureTask.setException(FutureTask.java:252)\nE/AndroidRuntime( 7903):    at java.util.concurrent.FutureTask.run(FutureTask.java:271)\nE/AndroidRuntime( 7903):    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:245)\nE/AndroidRuntime( 7903):    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\nE/AndroidRuntime( 7903):    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\nE/AndroidRuntime( 7903):    at java.lang.Thread.run(Thread.java:764)\nE/AndroidRuntime( 7903): Caused by: java.lang.NoSuchMethodError: No virtual method set(Lcom/google/firebase/firestore/DocumentReference;Ljava/util/Map;)Lcom/google/firebase/firestore/Transaction; in class Lcom/google/firebase/firestore/Transaction; or its super classes (declaration of 'com.google.firebase.firestore.Transaction' appears in /data/app/com.comp.appname-GbnYcinQxOfE2R1J20iZcg==/base.apk!classes9.dex)\nE/AndroidRuntime( 7903):    at io.flutter.plugins.firebase.cloudfirestore.CloudFirestorePlugin$6.doInBackground(CloudFirestorePlugin.java:379)\nE/AndroidRuntime( 7903):    at io.flutter.plugins.firebase.cloudfirestore.CloudFirestorePlugin$6.doInBackground(CloudFirestorePlugin.java:374)\nE/AndroidRuntime( 7903):    at android.os.AsyncTask$2.call(AsyncTask.java:333)\nE/AndroidRuntime( 7903):    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\nE/AndroidRuntime( 7903):    ... 4 more\nI/Process ( 7903): Sending signal. PID: 7903 SIG: 9\nApplication finished.\n</code></pre>\n\n<p>It's probably worth mentioning that I use a proxy but it's configured right, and works with another app</p>\n"}, {"tags": ["dart", "flutter", "flutter-layout"], "answers": [{"tags": [], "owner": {"reputation": 6232, "user_id": 5608661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83b46a8005105c560821e0157741f1a8?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Davies", "link": "https://stackoverflow.com/users/5608661/jordan-davies"}, "is_accepted": true, "score": 11, "last_activity_date": 1553692704, "creation_date": 1553692704, "answer_id": 55378190, "question_id": 55376611, "link": "https://stackoverflow.com/questions/55376611/animate-the-elevation-of-flutter-widget/55378190#55378190", "title": "Animate the elevation of flutter widget", "body": "<p>To animate the elevation you'd need to handle the animation yourself, using an <code>AnimationController</code>. Heres a full example:</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(App());\n\nclass App extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: Scaffold(\n        body: Center(\n          child: AnimatedElevationButton(),\n        ),\n      ),\n    );\n  }\n}\n\nclass AnimatedElevationButton extends StatefulWidget {\n  @override\n  _AnimatedElevationButtonState createState() =&gt;\n      _AnimatedElevationButtonState();\n}\n\nclass _AnimatedElevationButtonState extends State&lt;AnimatedElevationButton&gt;\n    with SingleTickerProviderStateMixin {\n  AnimationController _animationController;\n  Animation&lt;double&gt; _animationTween;\n\n  @override\n  void initState() {\n    super.initState();\n\n    _animationController = AnimationController(\n      duration: Duration(milliseconds: 30),\n      vsync: this,\n    );\n    _animationTween =\n        Tween(begin: 20.0, end: 0.0).animate(_animationController);\n    _animationController.addListener(() {\n      setState(() {});\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return GestureDetector(\n      onTapDown: _onTapDown,\n      onTapUp: _onTapUp,\n      child: Material(\n        color: Colors.red,\n        borderRadius: BorderRadius.circular(8.0),\n        elevation: _animationTween.value,\n        child: SizedBox(\n          width: 100,\n          height: 50,\n        ),\n      ),\n    );\n  }\n\n  void _onTapDown(TapDownDetails details) {\n    _animationController.forward();\n  }\n\n  void _onTapUp(TapUpDetails details) {\n    _animationController.reverse();\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 5535, "user_id": 8993706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cHjJq.jpg?s=128&g=1", "display_name": "M.Ali", "link": "https://stackoverflow.com/users/8993706/m-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1926, "favorite_count": 3, "accepted_answer_id": 55378190, "answer_count": 1, "score": 2, "last_activity_date": 1553693064, "creation_date": 1553687753, "question_id": 55376611, "link": "https://stackoverflow.com/questions/55376611/animate-the-elevation-of-flutter-widget", "title": "Animate the elevation of flutter widget", "body": "<p>I want to animate the elevation of the widget, without the two hands(: </p>\n\n<p>i`ve tried to change the elevation of material widget but nothing changed </p>\n\n<p><a href=\"https://i.stack.imgur.com/eT5YS.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eT5YS.gif\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["dart", "flutter", "dropdownbutton"], "answers": [{"comments": [{"owner": {"reputation": 8063, "user_id": 466215, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/e749125d3cca21e86724ab4e299cb561?s=128&d=identicon&r=PG", "display_name": "lahsrah", "link": "https://stackoverflow.com/users/466215/lahsrah"}, "edited": false, "score": 0, "creation_date": 1553687387, "post_id": 55376437, "comment_id": 97475005, "body": "Your answer doesn&#39;t work. It crashes with : I/flutter ( 5072): &#39;package:flutter/src/material/dropdown.dart&#39;: Failed assertion: line 560 pos 15: &#39;items == null || I/flutter ( 5072): items.isEmpty || value == null || items.where((DropdownMenuItem&lt;T&gt; item) =&gt; item.value == I/flutter ( 5072): value).length == 1&#39;: is not true."}, {"owner": {"reputation": 8063, "user_id": 466215, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/e749125d3cca21e86724ab4e299cb561?s=128&d=identicon&r=PG", "display_name": "lahsrah", "link": "https://stackoverflow.com/users/466215/lahsrah"}, "edited": false, "score": 0, "creation_date": 1553687450, "post_id": 55376437, "comment_id": 97475051, "body": "If you want to try running, full gist of the code here: <a href=\"https://gist.github.com/lahsrah/0267bd0e0f6797203e4d4a7a4946219d\" rel=\"nofollow noreferrer\">gist.github.com/lahsrah/0267bd0e0f6797203e4d4a7a4946219d</a>"}, {"owner": {"reputation": 593, "user_id": 3700909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0cd8310dfa1a85c80270c2b070c6498?s=128&d=identicon&r=PG&f=1", "display_name": "knezzz", "link": "https://stackoverflow.com/users/3700909/knezzz"}, "reply_to_user": {"reputation": 8063, "user_id": 466215, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/e749125d3cca21e86724ab4e299cb561?s=128&d=identicon&r=PG", "display_name": "lahsrah", "link": "https://stackoverflow.com/users/466215/lahsrah"}, "edited": false, "score": 0, "creation_date": 1553688235, "post_id": 55376437, "comment_id": 97475520, "body": "Oh yeah okay, You were getting new list each time so none of the objects matched.  Here is working version: <a href=\"https://gist.github.com/knezzz/7cc3bb75992413cb43f1d2a3328b7295\" rel=\"nofollow noreferrer\">gist.github.com/knezzz/7cc3bb75992413cb43f1d2a3328b7295</a>"}, {"owner": {"reputation": 8063, "user_id": 466215, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/e749125d3cca21e86724ab4e299cb561?s=128&d=identicon&r=PG", "display_name": "lahsrah", "link": "https://stackoverflow.com/users/466215/lahsrah"}, "edited": false, "score": 0, "creation_date": 1553689781, "post_id": 55376437, "comment_id": 97476480, "body": "if you want please edit your answer and I will mark it as the answer to give you credit."}], "tags": [], "owner": {"reputation": 593, "user_id": 3700909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0cd8310dfa1a85c80270c2b070c6498?s=128&d=identicon&r=PG&f=1", "display_name": "knezzz", "link": "https://stackoverflow.com/users/3700909/knezzz"}, "is_accepted": true, "score": 2, "last_activity_date": 1553691352, "last_edit_date": 1553691352, "creation_date": 1553687233, "answer_id": 55376437, "question_id": 55376400, "link": "https://stackoverflow.com/questions/55376400/dropdownbutton-selected-item-isnt-changing-in-ui/55376437#55376437", "title": "DropDownButton selected item isn&#39;t changing in UI", "body": "<p>You need to initalize list just once, because there wont be a match for DropDownList value if you init new list on every draw.</p>\n\n<p>Working example found here: <a href=\"http://gist.github.com/knezzz/7cc3bb75992413cb43f1d2a3328b7295\" rel=\"nofollow noreferrer\">Gist</a> </p>\n"}, {"tags": [], "owner": {"reputation": 3319, "user_id": 10959473, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-KjPLfqxoYzA/AAAAAAAAAAI/AAAAAAAAK0A/6v3ZP8lIX68/photo.jpg?sz=128", "display_name": "thebuggycoder", "link": "https://stackoverflow.com/users/10959473/thebuggycoder"}, "is_accepted": false, "score": 0, "last_activity_date": 1553689509, "creation_date": 1553689509, "answer_id": 55377153, "question_id": 55376400, "link": "https://stackoverflow.com/questions/55376400/dropdownbutton-selected-item-isnt-changing-in-ui/55377153#55377153", "title": "DropDownButton selected item isn&#39;t changing in UI", "body": "<p>Try initializing the <code>_selectedCar</code> variable in your <code>initState()</code> method instead of the <code>getDropdown()</code> method. </p>\n\n<p>According to the code you posted, the <code>_selectedCar</code> variable gets reinitialized every time you call <code>setState()</code> since <code>build()</code> method is called.</p>\n\n<p>Also you mentioned you are getting the below error when trying the solution in the first answer:</p>\n\n<blockquote>\n  <p>I/flutter ( 5072): 'package:flutter/src/material/dropdown.dart':\n  Failed assertion: line 560 pos 15: 'items == null || I/flutter (\n  5072): items.isEmpty || value == null ||\n  items.where((DropdownMenuItem item) => item.value == I/flutter (\n  5072): value).length == 1': is not true.</p>\n</blockquote>\n\n<p>This is most likely because more than one items in your dropdown is getting the same value. </p>\n\n<p>A possible fix can be using the <code>id</code> parameter of the <code>Car</code> object as the dropdown <code>value</code> instead of the entire object, since the <code>id</code> will be unique for each object. More detail about this error can be found <a href=\"https://stackoverflow.com/questions/49273157/how-to-implement-drop-down-list-in-flutter\">here</a>.</p>\n"}], "owner": {"reputation": 8063, "user_id": 466215, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/e749125d3cca21e86724ab4e299cb561?s=128&d=identicon&r=PG", "display_name": "lahsrah", "link": "https://stackoverflow.com/users/466215/lahsrah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1218, "favorite_count": 0, "accepted_answer_id": 55376437, "answer_count": 2, "score": 0, "last_activity_date": 1553691352, "creation_date": 1553687105, "question_id": 55376400, "link": "https://stackoverflow.com/questions/55376400/dropdownbutton-selected-item-isnt-changing-in-ui", "title": "DropDownButton selected item isn&#39;t changing in UI", "body": "<p>The objects I want to add in my <code>DropDownButton</code>:</p>\n\n<pre><code>class Car {\n  int id;\n  String make;\n\n  Car(this.id, this.make);\n\n  static List&lt;Car&gt; getCars() {\n    var cars = new List&lt;Car&gt;();\n    cars.add(Car(1, \"Ford\"));\n    cars.add(Car(2, \"Toyota\"));\n    cars.add(Car(3, \"BMW\"));\n\n    return cars;\n  }\n}\n</code></pre>\n\n<p>Constructing the DropDown (StatefulWidget State class):</p>\n\n<pre><code>class _MyHomePageState extends State&lt;MyHomePage&gt; {\n  Car _selectedCar;\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n        appBar: AppBar(\n          title: Text(widget.title),\n        ),\n        body: Center(child: getDropDown()));\n  }\n\n  Widget getDropDown() {\n    var cars = Car.getCars();\n    this._selectedCar = cars.first; // Default to first value in list.\n    var items = cars.map((car) {\n      return new DropdownMenuItem&lt;Car&gt;(\n        value: car,\n        child: new Text(car.make),\n      );\n    }).toList();\n\n    return DropdownButton&lt;Car&gt;(\n        value: this._selectedCar,\n        onChanged: (Car car) {\n          setState(() {\n            this._selectedCar = car;\n          });\n        },\n        items: items);\n  }\n}\n</code></pre>\n\n<p><code>DropDownButton</code> Shows up correctly with first item selected, but when I select another item the UI never updates to show the new item as selected.</p>\n"}, {"tags": ["dart", "flutter", "maps"], "comments": [{"owner": {"reputation": 5873, "user_id": 9126253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x5jDp.jpg?s=128&g=1", "display_name": "NiklasPor", "link": "https://stackoverflow.com/users/9126253/niklaspor"}, "edited": false, "score": 0, "creation_date": 1553683033, "post_id": 55375089, "comment_id": 97472287, "body": "Welcome to SO! What have you tried so far? Do you want to open the IOS maps app, in a browser, in a view inside your application?"}, {"owner": {"reputation": 103440, "user_id": 6618622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z7q0p.jpg?s=128&g=1", "display_name": "CopsOnRoad", "link": "https://stackoverflow.com/users/6618622/copsonroad"}, "edited": false, "score": 0, "creation_date": 1553768511, "post_id": 55375089, "comment_id": 97510628, "body": "@Muzaffer did my solution work? If no do let me know where you got stuck."}, {"owner": {"reputation": 53, "user_id": 8350608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35dd6361a632b6f5e430f1767b77efef?s=128&d=identicon&r=PG&f=1", "display_name": "Muzaffer", "link": "https://stackoverflow.com/users/8350608/muzaffer"}, "reply_to_user": {"reputation": 103440, "user_id": 6618622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z7q0p.jpg?s=128&g=1", "display_name": "CopsOnRoad", "link": "https://stackoverflow.com/users/6618622/copsonroad"}, "edited": false, "score": 0, "creation_date": 1553773200, "post_id": 55375089, "comment_id": 97513610, "body": "@CopsOnRoad i&#39;ve tried this method while running google maps i&#39;ll make a comeback after trying for ios map"}, {"owner": {"reputation": 53, "user_id": 8350608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35dd6361a632b6f5e430f1767b77efef?s=128&d=identicon&r=PG&f=1", "display_name": "Muzaffer", "link": "https://stackoverflow.com/users/8350608/muzaffer"}, "reply_to_user": {"reputation": 5873, "user_id": 9126253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x5jDp.jpg?s=128&g=1", "display_name": "NiklasPor", "link": "https://stackoverflow.com/users/9126253/niklaspor"}, "edited": false, "score": 0, "creation_date": 1553785167, "post_id": 55375089, "comment_id": 97522037, "body": "@Niklas I want to open Ios map app, Try opening google maps as cops says. i couldn&#39;t find a document about ios map"}, {"owner": {"reputation": 53, "user_id": 8350608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35dd6361a632b6f5e430f1767b77efef?s=128&d=identicon&r=PG&f=1", "display_name": "Muzaffer", "link": "https://stackoverflow.com/users/8350608/muzaffer"}, "edited": false, "score": 0, "creation_date": 1553802221, "post_id": 55375089, "comment_id": 97532005, "body": "its worked. How do I get the address and directions by car? I did this for Google Maps. <a href=\"https://www.google.com/maps/dir/$\" rel=\"nofollow noreferrer\">google.com/maps/dir/$</a>{appCommon.separator}api=1&amp;origin=&amp;dest&zwnj;&#8203;ination=${appCommon.&zwnj;&#8203;mapAdress}&amp;travelmod&zwnj;&#8203;e=driving"}, {"owner": {"reputation": 103440, "user_id": 6618622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z7q0p.jpg?s=128&g=1", "display_name": "CopsOnRoad", "link": "https://stackoverflow.com/users/6618622/copsonroad"}, "edited": false, "score": 0, "creation_date": 1553802419, "post_id": 55375089, "comment_id": 97532102, "body": "@Muzaffer I don&#39;t claim to be an expert on this, please see apple docs for all the urls."}], "answers": [{"tags": [], "owner": {"reputation": 103440, "user_id": 6618622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z7q0p.jpg?s=128&g=1", "display_name": "CopsOnRoad", "link": "https://stackoverflow.com/users/6618622/copsonroad"}, "is_accepted": true, "score": 1, "last_activity_date": 1553683086, "creation_date": 1553683086, "answer_id": 55375181, "question_id": 55375089, "link": "https://stackoverflow.com/questions/55375089/how-to-open-ios-maps-on-flutter-framework/55375181#55375181", "title": "How to open IOS Maps on Flutter Framework", "body": "<pre><code>String url = 'https://maps.apple.com/?q=0,0'; // I used 0,0 as latitude and longitude\nif (await canLaunch(url)) {\n  launch(url);\n} else {\n  // error in launching map\n}\n</code></pre>\n\n<p>You need <a href=\"https://pub.dartlang.org/packages/url_launcher\" rel=\"nofollow noreferrer\">this plugin</a></p>\n"}], "owner": {"reputation": 53, "user_id": 8350608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35dd6361a632b6f5e430f1767b77efef?s=128&d=identicon&r=PG&f=1", "display_name": "Muzaffer", "link": "https://stackoverflow.com/users/8350608/muzaffer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1024, "favorite_count": 0, "accepted_answer_id": 55375181, "answer_count": 1, "score": 1, "last_activity_date": 1553683187, "creation_date": 1553682831, "last_edit_date": 1553683168, "question_id": 55375089, "link": "https://stackoverflow.com/questions/55375089/how-to-open-ios-maps-on-flutter-framework", "title": "How to open IOS Maps on Flutter Framework", "body": "<p>I can open Google Maps with flutter framework. What do I need to do to open Apple maps?</p>\n"}, {"tags": ["dart"], "comments": [{"owner": {"reputation": 1220, "user_id": 3208697, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/kOAQA.jpg?s=128&g=1", "display_name": "kodebot", "link": "https://stackoverflow.com/users/3208697/kodebot"}, "edited": false, "score": 0, "creation_date": 1553682580, "post_id": 55374813, "comment_id": 97472007, "body": "I just realised what could be happening here. I think it first applies <code>abs()</code> on a number literal without considering the negative sign then negates the whole result. Is that correct?"}, {"owner": {"reputation": 1220, "user_id": 3208697, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/kOAQA.jpg?s=128&g=1", "display_name": "kodebot", "link": "https://stackoverflow.com/users/3208697/kodebot"}, "reply_to_user": {"reputation": 73919, "user_id": 44309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iL4TW.png?s=128&g=1", "display_name": "High Performance Mark", "link": "https://stackoverflow.com/users/44309/high-performance-mark"}, "edited": false, "score": 0, "creation_date": 1553683094, "post_id": 55374813, "comment_id": 97472327, "body": "@HighPerformanceMark I think it is relevant and you are right. if I wrap the negative number before applying <code>floor</code>, it returns <code>-124</code>"}], "answers": [{"tags": [], "owner": {"reputation": 51074, "user_id": 634863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198449a7e196c4b0f2ed25f65279bf84?s=128&d=identicon&r=PG", "display_name": "Alexandre Ardhuin", "link": "https://stackoverflow.com/users/634863/alexandre-ardhuin"}, "is_accepted": true, "score": 9, "last_activity_date": 1553683908, "creation_date": 1553683908, "answer_id": 55375428, "question_id": 55374813, "link": "https://stackoverflow.com/questions/55374813/why-abs-function-in-dart-return-negative-number-when-not-wrapped-in-parenthesi/55375428#55375428", "title": "why abs() function in dart return negative number when not wrapped in parenthesis?", "body": "<p>According to <a href=\"https://www.dartlang.org/guides/language/language-tour#operators\" rel=\"noreferrer\">Operator precedence</a> and <a href=\"https://www.dartlang.org/guides/language/spec\" rel=\"noreferrer\">Dart Language Specification</a><code>-123.11.abs()</code> is the same as <code>-((123.11).abs())</code>.</p>\n"}], "owner": {"reputation": 1220, "user_id": 3208697, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/kOAQA.jpg?s=128&g=1", "display_name": "kodebot", "link": "https://stackoverflow.com/users/3208697/kodebot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5271, "favorite_count": 0, "accepted_answer_id": 55375428, "answer_count": 1, "score": 7, "last_activity_date": 1553687924, "creation_date": 1553682005, "last_edit_date": 1553687924, "question_id": 55374813, "link": "https://stackoverflow.com/questions/55374813/why-abs-function-in-dart-return-negative-number-when-not-wrapped-in-parenthesi", "title": "why abs() function in dart return negative number when not wrapped in parenthesis?", "body": "<p>The <code>abs()</code> function has no effect When calling on negative number literal.</p>\n\n<p><code>var y = -123.11.abs(); // prints -123.11</code> </p>\n\n<p>but other functions, for example <code>floor()</code> works fine</p>\n\n<p><code>var y = -123.11.floor(); // prints -123</code></p>\n\n<p>If I wrap the negative number literal in parenthesis it works fine</p>\n\n<p><code>var y = (-123.11).abs(); // prints 123.11</code> </p>\n\n<p>Any help to understand this behaviour is appreciated.</p>\n\n<p>The dart version I use is <code>Dart VM version: 2.2.1-dev.0.0.flutter-571ea80e11 (Mon Mar 4 19:30:53 2019 +0000) on \"windows_x64\"</code></p>\n\n<p><strong>Update:</strong>\nNote: the <code>floor()</code> does not work correctly when applied on negative number as pointed by @HighPerformanceMark</p>\n"}, {"tags": ["dart", "flutter", "sharedpreferences"], "comments": [{"owner": {"reputation": 382, "user_id": 7416454, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MmuRcF5eR8c/AAAAAAAAAAI/AAAAAAAAC1Q/vnYZJe-E-nA/photo.jpg?sz=128", "display_name": "Rakesh Lanjewar", "link": "https://stackoverflow.com/users/7416454/rakesh-lanjewar"}, "edited": false, "score": 0, "creation_date": 1553680372, "post_id": 55373832, "comment_id": 97470643, "body": "Please post the stack trace !"}, {"owner": {"reputation": 526, "user_id": 10652278, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ejU08.jpg?s=128&g=1", "display_name": "Tabarek Ghassan", "link": "https://stackoverflow.com/users/10652278/tabarek-ghassan"}, "reply_to_user": {"reputation": 382, "user_id": 7416454, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MmuRcF5eR8c/AAAAAAAAAAI/AAAAAAAAC1Q/vnYZJe-E-nA/photo.jpg?sz=128", "display_name": "Rakesh Lanjewar", "link": "https://stackoverflow.com/users/7416454/rakesh-lanjewar"}, "edited": false, "score": 0, "creation_date": 1553680875, "post_id": 55373832, "comment_id": 97470958, "body": "how to do that \ud83d\ude05"}, {"owner": {"reputation": 1143, "user_id": 6570670, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/86081dc1633839e08c29ebb00bf6fbcd?s=128&d=identicon&r=PG&f=1", "display_name": "R. Duggan", "link": "https://stackoverflow.com/users/6570670/r-duggan"}, "edited": false, "score": 0, "creation_date": 1553681867, "post_id": 55373832, "comment_id": 97471579, "body": "Have you tried removing the final modifier on the line? It makes no sense to make it a final."}, {"owner": {"reputation": 764, "user_id": 9823185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9ktXj.jpg?s=128&g=1", "display_name": "Amol Gangadhare", "link": "https://stackoverflow.com/users/9823185/amol-gangadhare"}, "edited": false, "score": 0, "creation_date": 1553682780, "post_id": 55373832, "comment_id": 97472130, "body": "error may be at <code>jWTtoken = prefs.getString(&#39;token&#39;)</code> check for it. And post the complete error you get."}, {"owner": {"reputation": 526, "user_id": 10652278, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ejU08.jpg?s=128&g=1", "display_name": "Tabarek Ghassan", "link": "https://stackoverflow.com/users/10652278/tabarek-ghassan"}, "reply_to_user": {"reputation": 764, "user_id": 9823185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9ktXj.jpg?s=128&g=1", "display_name": "Amol Gangadhare", "link": "https://stackoverflow.com/users/9823185/amol-gangadhare"}, "edited": false, "score": 0, "creation_date": 1553686126, "post_id": 55373832, "comment_id": 97474208, "body": "i updated my question @AmolG"}, {"owner": {"reputation": 764, "user_id": 9823185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9ktXj.jpg?s=128&g=1", "display_name": "Amol Gangadhare", "link": "https://stackoverflow.com/users/9823185/amol-gangadhare"}, "edited": false, "score": 2, "creation_date": 1553686495, "post_id": 55373832, "comment_id": 97474443, "body": "the error seems to be in <code>adminpage.dart</code> file refer line number 63 in adminpage. Is the error occurs continuously or occurs some times only? Can you provide adminpage code?"}, {"owner": {"reputation": 526, "user_id": 10652278, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ejU08.jpg?s=128&g=1", "display_name": "Tabarek Ghassan", "link": "https://stackoverflow.com/users/10652278/tabarek-ghassan"}, "reply_to_user": {"reputation": 764, "user_id": 9823185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9ktXj.jpg?s=128&g=1", "display_name": "Amol Gangadhare", "link": "https://stackoverflow.com/users/9823185/amol-gangadhare"}, "edited": false, "score": 0, "creation_date": 1553688088, "post_id": 55373832, "comment_id": 97475433, "body": "it wooorkksss!!! thank you @AmolG"}], "answers": [{"comments": [{"owner": {"reputation": 3525, "user_id": 10927863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYbxO.jpg?s=128&g=1", "display_name": "Eliahu Aaron", "link": "https://stackoverflow.com/users/10927863/eliahu-aaron"}, "edited": false, "score": 0, "creation_date": 1560280434, "post_id": 56549869, "comment_id": 99682493, "body": "The problem in the question was solved, see the comments on the question."}, {"owner": {"reputation": 3525, "user_id": 10927863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYbxO.jpg?s=128&g=1", "display_name": "Eliahu Aaron", "link": "https://stackoverflow.com/users/10927863/eliahu-aaron"}, "edited": false, "score": 0, "creation_date": 1560280601, "post_id": 56549869, "comment_id": 99682552, "body": "An answer with <b>Possibly</b> and <b>Try</b> does not seem like an answer, just a suggestion"}, {"owner": {"reputation": 141, "user_id": 9241452, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TTc4sbaQBqM/AAAAAAAAAAI/AAAAAAAAG_c/6TMFI7J4vY4/photo.jpg?sz=128", "display_name": "Kristopher Andrews", "link": "https://stackoverflow.com/users/9241452/kristopher-andrews"}, "reply_to_user": {"reputation": 3525, "user_id": 10927863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYbxO.jpg?s=128&g=1", "display_name": "Eliahu Aaron", "link": "https://stackoverflow.com/users/10927863/eliahu-aaron"}, "edited": false, "score": 0, "creation_date": 1560280883, "post_id": 56549869, "comment_id": 99682654, "body": "Yes, but finding an answer often involves trying a possible solution and going through the process of elimination."}], "tags": [], "owner": {"reputation": 141, "user_id": 9241452, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TTc4sbaQBqM/AAAAAAAAAAI/AAAAAAAAG_c/6TMFI7J4vY4/photo.jpg?sz=128", "display_name": "Kristopher Andrews", "link": "https://stackoverflow.com/users/9241452/kristopher-andrews"}, "is_accepted": false, "score": 1, "last_activity_date": 1560278213, "creation_date": 1560278213, "answer_id": 56549869, "question_id": 55373832, "link": "https://stackoverflow.com/questions/55373832/sharedpreferences-called-on-null-flutter/56549869#56549869", "title": "SharedPreferences called on null flutter", "body": "<p>Possibly because jwToken is empty at initialization. Try giving jwToken a string value such as \"test\".</p>\n"}, {"tags": [], "owner": {"reputation": 11993, "user_id": 10563627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xQL2O.jpg?s=128&g=1", "display_name": "Paresh Mangukiya", "link": "https://stackoverflow.com/users/10563627/paresh-mangukiya"}, "is_accepted": false, "score": 0, "last_activity_date": 1619182972, "last_edit_date": 1619182972, "creation_date": 1617598615, "answer_id": 66948408, "question_id": 55373832, "link": "https://stackoverflow.com/questions/55373832/sharedpreferences-called-on-null-flutter/66948408#66948408", "title": "SharedPreferences called on null flutter", "body": "<p>This is happening because you don't initialize it before use</p>\n<p>To avoid this you should initialize <code>await SharedPref.init();</code> it on a <code>_MyAppState</code> class in <code>initState()</code> method like this</p>\n<pre><code>class _MyAppState extends State&lt;MyApp&gt; {\n\n  void initState() async {\n    super.initState();\n    await SharedPref.init();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      locale: _locale,\n      debugShowCheckedModeBanner: false,\n      theme: ThemeData(\n        primarySwatch: appThemeColor,\n        accentColor: Colors.lightBlueAccent,\n      ),\n      home: SplashScreen(),\n      builder: (BuildContext context, Widget child) {\n        return child;\n      },\n    );\n  }\n}\n</code></pre>\n<p>Create a global class to use globally</p>\n<pre><code>class SharedPref {\n  static SharedPreferences pref;\n  static Future init() async {\n    pref = await SharedPreferences.getInstance();\n  }\n}\n</code></pre>\n<p>After you can use like this</p>\n<pre><code>SharedPref.pref.setBool(&quot;isLogin&quot;, true);\n</code></pre>\n"}], "owner": {"reputation": 526, "user_id": 10652278, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ejU08.jpg?s=128&g=1", "display_name": "Tabarek Ghassan", "link": "https://stackoverflow.com/users/10652278/tabarek-ghassan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2889, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1619182972, "creation_date": 1553679147, "last_edit_date": 1619182281, "question_id": 55373832, "link": "https://stackoverflow.com/questions/55373832/sharedpreferences-called-on-null-flutter", "title": "SharedPreferences called on null flutter", "body": "<p>I build a function that is used to store the token in shared preference and then fetch data from the server when I run my app for the very first time an error appears</p>\n<blockquote>\n<p>The following NoSuchMethodError was thrown building AdminPage(dirty,\nstate: AdminPageState#87bcd): flutter: The method '[]' was called on\nnull. flutter: Receiver: null flutter: Tried calling: </p>\n</blockquote>\n<p>and then the app works fine</p>\n<p>P.S. my code is that</p>\n<pre><code>Future&lt;Map&lt;String, dynamic&gt;&gt; getCards(String userid) async {\n  BuildContext context;\n  String jWTtoken = '';\n  try {\n    final SharedPreferences prefs = await SharedPreferences.getInstance();\n\n    //  prefs = await SharedPreferences.getInstance();\n    jWTtoken = prefs.getString('token');\n    tokenfoo();\n  } catch (e) {\n    Navigator.pushReplacement(\n      context,\n      MaterialPageRoute(builder: (BuildContext context) =&gt; AuthPage()),\n    );\n  }\n\n  final Map&lt;String, dynamic&gt; authData = {\n    'Userid': '261',\n    // 'Email':_formData['Email'],\n    // 'Password':_formData['Password'],\n  };\n\n  final http.Response response = await http.post(\n      'hurl',\n      body: json.encode(authData),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + jWTtoken\n      });\n\n  final Map&lt;String, dynamic&gt; responseData = json.decode(response.body);\n\n  if (responseData[&quot;StatusCode&quot;] == 200) {\n\n    null;\n  \n  } else if (responseData[&quot;StatusCode&quot;] == 401) {\n    print(responseData);\n    Logout();\n  } else {\n    print(responseData);\n    Logout();\n\n    null;\n  }\n  return responseData;\n}\n</code></pre>\n<p>anything worng with it?</p>\n<p>and in the debug mode the error appears in this line</p>\n<pre><code> final SharedPreferences prefs = await SharedPreferences.getInstance();\n</code></pre>\n<p>the error :</p>\n<blockquote>\n<p>\u2550\u2550\u2561 EXCEPTION CAUGHT BY WIDGETS LIBRARY\n\u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550 flutter:\nThe following NoSuchMethodError was thrown building AdminPage(dirty,\nstate: AdminPageState#7db9a): flutter: The method '[]' was called on\nnull. flutter: Receiver: null flutter: Tried calling:  flutter:\nflutter: When the exception was thrown, this was the stack: flutter:</p>\n<h1>0      Object.noSuchMethod (dart:core/runtime/libobject_patch.dart:50:5) flutter: #1</h1>\n<p>AdminPageState.build (package:idb/pages/adminpage.dart:63:39) flutter:</p>\n<h1>2      StatefulElement.build (package:flutter/src/widgets/framework.dart:3809:27) flutter: #3</h1>\n<p>ComponentElement.performRebuild\n(package:flutter/src/widgets/framework.dart:3721:15) flutter: #4<br />\nElement.rebuild (package:flutter/src/widgets/framework.dart:3547:5)\nflutter: #5      ComponentElement._firstBuild\n(package:flutter/src/widgets/framework.dart:3701:5) flutter: #6<br />\nStatefulElement._firstBuild\n(package:flutter/src/widgets/framework.dart:3848:11) flutter: #7<br />\nComponentElement.mount\n(package:flutter/src/widgets/framework.dart:3696:5) flutter: #8<br />\nElement.inflateWidget\n(package:flutter/src/widgets/framework.dart:2950:14) flutter: #9<br />\nElement.updateChild\n(package:flutter/src/widgets/framework.dart:2753:12) flutter: #10<br />\nComponentElement.performRebuild\n(package:flutter/src/widgets/framework.dart:3732:16) flutter: #11<br />\nElement.rebuild (package:flutter/src/widgets/framework.dart:3547:5)\nflutter: #12     BuildOwner.buildScope\n(package:flutter/src/widgets/framework.dart:2286:33) flutter: #13<br />\n_WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding&amp;PaintingBinding&amp;SemanticsBinding&amp;RendererBinding&amp;WidgetsBinding.drawFrame\n(package:flutter/src/widgets/binding.dart:676:20) flutter: #14<br />\n_WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding&amp;PaintingBinding&amp;SemanticsBinding&amp;RendererBinding._handlePersistentFrameCallback\n(package:flutter/src/rendering/binding.dart:219:5) flutter: #15<br />\n_WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding._invokeFrameCallback\n(package:flutter/src/scheduler/binding.dart:990:15) flutter: #16<br />\n_WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding.handleDrawFrame\n(package:flutter/src/scheduler/binding.dart:930:9) flutter: #17<br />\n_WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding._handleDrawFrame\n(package:flutter/src/scheduler/binding.dart:842:5) flutter: #18<br />\n_invoke (dart:ui/hooks.dart:154:13) flutter: #19     _drawFrame (dart:ui/hooks.dart:143:3)</p>\n</blockquote>\n"}, {"tags": ["dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 10257, "user_id": 1463542, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e1d24f8bf9532016baf8958a4ae39317?s=128&d=identicon&r=PG", "display_name": "Figen G&#252;ng&#246;r", "link": "https://stackoverflow.com/users/1463542/figen-g%c3%bcng%c3%b6r"}, "is_accepted": true, "score": 4, "last_activity_date": 1553678956, "creation_date": 1553678956, "answer_id": 55373773, "question_id": 55373687, "link": "https://stackoverflow.com/questions/55373687/flutter-align-text-in-table/55373773#55373773", "title": "Flutter - Align text in table", "body": "<p>You can use <code>mainAxisAlignment:MainAxisAlignment.spaceBetween</code> instead of <code>MainAxisAlignment.spaceAround</code></p>\n"}], "owner": {"reputation": 441, "user_id": 10899649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4361448ca38cf56759fb8bb480c48572?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/10899649/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2104, "favorite_count": 0, "accepted_answer_id": 55373773, "answer_count": 1, "score": 1, "last_activity_date": 1553678956, "creation_date": 1553678680, "question_id": 55373687, "link": "https://stackoverflow.com/questions/55373687/flutter-align-text-in-table", "title": "Flutter - Align text in table", "body": "<p>How can I align text in my <code>Table</code>? </p>\n\n<p>From left for first column (<code>ID</code>) and from right for second column (<code>Value</code>).</p>\n\n<pre><code>    child: Table(                    \n                        children: [\n                          TableRow(children: [\n                            TableCell(\n                              child: Row(\n                                mainAxisAlignment:\n                                MainAxisAlignment.spaceAround,\n                                children: &lt;Widget&gt;[\n                                  new Text('ID'),\n                                  new Text('Value'),\n                                ],\n                              ),\n                            )\n                          ]),\n</code></pre>\n"}, {"tags": ["firebase", "dart", "flutter", "firebase-authentication"], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 11264396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N1CPu.png?s=128&g=1", "display_name": "Effie", "link": "https://stackoverflow.com/users/11264396/effie"}, "edited": false, "score": 0, "creation_date": 1553675875, "post_id": 55371795, "comment_id": 97467934, "body": "Thanks for this! didn&#39;t realize <code>FirebaseUser</code> should be made."}, {"owner": {"reputation": 1143, "user_id": 6570670, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/86081dc1633839e08c29ebb00bf6fbcd?s=128&d=identicon&r=PG&f=1", "display_name": "R. Duggan", "link": "https://stackoverflow.com/users/6570670/r-duggan"}, "reply_to_user": {"reputation": 67, "user_id": 11264396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N1CPu.png?s=128&g=1", "display_name": "Effie", "link": "https://stackoverflow.com/users/11264396/effie"}, "edited": false, "score": 0, "creation_date": 1553676495, "post_id": 55371795, "comment_id": 97468261, "body": "@Effie You&#39;re welcome! Consider accepting this answer so other people who have this problem know how to solve it!"}, {"owner": {"reputation": 424, "user_id": 5625975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cc7b4783c17e0439f28d0aa0c9b24a5?s=128&d=identicon&r=PG&f=1", "display_name": "William Humphries", "link": "https://stackoverflow.com/users/5625975/william-humphries"}, "edited": false, "score": 0, "creation_date": 1590422332, "post_id": 55371795, "comment_id": 109667225, "body": "@R.Duggan does using sendEmailVerification() automation sign in the user?"}, {"owner": {"reputation": 1143, "user_id": 6570670, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/86081dc1633839e08c29ebb00bf6fbcd?s=128&d=identicon&r=PG&f=1", "display_name": "R. Duggan", "link": "https://stackoverflow.com/users/6570670/r-duggan"}, "reply_to_user": {"reputation": 424, "user_id": 5625975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cc7b4783c17e0439f28d0aa0c9b24a5?s=128&d=identicon&r=PG&f=1", "display_name": "William Humphries", "link": "https://stackoverflow.com/users/5625975/william-humphries"}, "edited": false, "score": 1, "creation_date": 1590668574, "post_id": 55371795, "comment_id": 109770263, "body": "@WilliamHumphries I believe you will need to take the password and email that they signed in with and get an <code>AuthCredential</code> from them to get an access token so you can confirm it is them. For more info have a look at the documentation of the flutter firebase_auth package at <a href=\"https://pub.dev/packages/firebase_auth\" rel=\"nofollow noreferrer\">pub.dev/packages/firebase_auth</a>"}], "tags": [], "owner": {"reputation": 1143, "user_id": 6570670, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/86081dc1633839e08c29ebb00bf6fbcd?s=128&d=identicon&r=PG&f=1", "display_name": "R. Duggan", "link": "https://stackoverflow.com/users/6570670/r-duggan"}, "is_accepted": true, "score": 11, "last_activity_date": 1553768994, "last_edit_date": 1553768994, "creation_date": 1553671347, "answer_id": 55371795, "question_id": 55371405, "link": "https://stackoverflow.com/questions/55371405/how-to-use-sendemailverification-method/55371795#55371795", "title": "How to use sendEmailVerification() method", "body": "<p>This method will work if you make a <code>FirebaseUser</code>. It can be used like this:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>await _auth.createUserWithEmailAndPassword (\n  email: //wherever you set their email,\n  password: //wherever you set their password,\n).then((FirebaseUser user) {\n  //If a user is successfully created with an appropriate email\nif (user != null){\n  user.sendEmailVerification();\n}\n})\n.catchError();\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 11264396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N1CPu.png?s=128&g=1", "display_name": "Effie", "link": "https://stackoverflow.com/users/11264396/effie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4349, "favorite_count": 0, "accepted_answer_id": 55371795, "answer_count": 1, "score": 5, "last_activity_date": 1553768994, "creation_date": 1553669775, "last_edit_date": 1553683077, "question_id": 55371405, "link": "https://stackoverflow.com/questions/55371405/how-to-use-sendemailverification-method", "title": "How to use sendEmailVerification() method", "body": "<p>Trying to setup the <strong>firebase_auth</strong> package for Firebase\nEmail/Password Authentication method in Flutter, but need help with email verification. </p>\n\n<p>I came accross the <strong>sendEmailVerification();</strong> method provided by firebase_auth package, but need some advice on setting it up. Does anyone have a working code example to follow please?</p>\n\n<pre><code>// From firebase_auth package docs &gt; https://pub.dartlang.org/documentation/firebase_auth/latest/firebase_auth/FirebaseUser/sendEmailVerification.html\n\nFuture&lt;void&gt; sendEmailVerification() async {\n  // TODO(amirh): remove this on when the invokeMethod update makes it to stable Flutter.\n  // https://github.com/flutter/flutter/issues/26431\n  // ignore: strong_mode_implicit_dynamic_method\n  await FirebaseAuth.channel.invokeMethod(\n      'sendEmailVerification', &lt;String, String&gt;{'app': _app.name});\n}\n</code></pre>\n\n<p>Any help, advice, guidance with setting it up properly and working sample code to follow if possible would be much appreciated.</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 764, "user_id": 9823185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9ktXj.jpg?s=128&g=1", "display_name": "Amol Gangadhare", "link": "https://stackoverflow.com/users/9823185/amol-gangadhare"}, "edited": false, "score": 1, "creation_date": 1553665958, "post_id": 55370567, "comment_id": 97463791, "body": "yes, you can. you can also add animation when you show and hide the UI, but you also have to maintain the UI for both in single file with logic. It&#39;s up to you and requirement. But, try to separate the code as possible. It will help to maintain the app for the future scope."}], "answers": [{"tags": [], "owner": {"reputation": 3042, "user_id": 8342742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EMVCJ.jpg?s=128&g=1", "display_name": "M\u03b1\u03c0\u03bcQ\u03bc\u03b1\u03c0k\u03b3V\u03c0.0", "link": "https://stackoverflow.com/users/8342742/m%ce%b1%cf%80%ce%bcq%ce%bc%ce%b1%cf%80k%ce%b3v%cf%80-0"}, "is_accepted": false, "score": 0, "last_activity_date": 1603399623, "creation_date": 1603399623, "answer_id": 64490322, "question_id": 55370567, "link": "https://stackoverflow.com/questions/55370567/login-signup-page/64490322#64490322", "title": "Login/Signup page", "body": "<p>This actually depends on your approach and your requirements. But most of the blogs authored by Flutter developers online, they prefer to have a separate login and register pages. Personally, I also prefer separate files for maintainability when your code gets bigger and more complex. You can try to check some samples online just like <a href=\"https://medium.com/@afegbua/flutter-thursday-13-building-a-user-registration-and-login-process-with-provider-and-external-api-1bb87811fd1d\" rel=\"nofollow noreferrer\">this one</a>.</p>\n"}], "owner": {"reputation": 213, "user_id": 11152772, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Zyxu2harYBQ/AAAAAAAAAAI/AAAAAAAAAAc/TYJfMueRDew/photo.jpg?sz=128", "display_name": "Sudhansu Joshi", "link": "https://stackoverflow.com/users/11152772/sudhansu-joshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3561, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1603399623, "creation_date": 1553665680, "last_edit_date": 1553693699, "question_id": 55370567, "link": "https://stackoverflow.com/questions/55370567/login-signup-page", "title": "Login/Signup page", "body": "<p>I have to create login signup form in flutter with following modes:</p>\n\n<p>Login fields: Email/Password</p>\n\n<p>Signup fields: Name/Email/Password\nForgot password: Email</p>\n\n<p>Is it good to have all this in single file and logically rendering hiding fields with different modes. Let's say I am on login I have name/email I click on create account than mode changes to Register instead of redirecting to new page, and additional field >> Name field is visible.</p>\n\n<p>So is it good to maintain all these login register and forgot password in single page and logically maintaining it?</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 5165, "user_id": 9374465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4885599304ccdac5fc24aea1bac2d4?s=128&d=identicon&r=PG&f=1", "display_name": "Mazin Ibrahim", "link": "https://stackoverflow.com/users/9374465/mazin-ibrahim"}, "is_accepted": false, "score": 0, "last_activity_date": 1553664800, "creation_date": 1553664800, "answer_id": 55370406, "question_id": 55370146, "link": "https://stackoverflow.com/questions/55370146/how-to-fix-resolving-dependencies-error-when-using-flutter-run/55370406#55370406", "title": "How to fix Resolving dependencies... Error when using flutter run?", "body": "<p>It is a warning not an error, this is evident by the fact your code is executing when you run it. And it's related to the structure of your plugin and have nothing to do with your code.</p>\n"}, {"comments": [{"owner": {"reputation": 500, "user_id": 7883681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fgtgt.png?s=128&g=1", "display_name": "TN888", "link": "https://stackoverflow.com/users/7883681/tn888"}, "edited": false, "score": 0, "creation_date": 1600155623, "post_id": 55918472, "comment_id": 112990923, "body": "Can you explain how to add it?"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user11065582"}, "is_accepted": true, "score": 0, "last_activity_date": 1556618369, "creation_date": 1556618369, "answer_id": 55918472, "question_id": 55370146, "link": "https://stackoverflow.com/questions/55370146/how-to-fix-resolving-dependencies-error-when-using-flutter-run/55918472#55918472", "title": "How to fix Resolving dependencies... Error when using flutter run?", "body": "<p>add  this to the release mode android manifest</p>\n\n<p></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11065582"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1377, "favorite_count": 0, "accepted_answer_id": 55918472, "answer_count": 2, "score": 0, "last_activity_date": 1556618369, "creation_date": 1553663164, "last_edit_date": 1553663275, "question_id": 55370146, "link": "https://stackoverflow.com/questions/55370146/how-to-fix-resolving-dependencies-error-when-using-flutter-run", "title": "How to fix Resolving dependencies... Error when using flutter run?", "body": "<p>when I used Flutter run in my terminal in error is coming. but app is working. my app is very slow.</p>\n\n<blockquote>\n  <p>Note: C:\\src\\flutter.pub-cache\\hosted\\pub.dartlang.org\\connectivity-0.4.2\\android\\src\\main\\java\\io\\flutter\\plugins\\connectivity\\ConnectivityPlugin.java uses or overrides a deprecate\n      d API.\n      Note: Recompile with -Xlint:deprecation for details.</p>\n</blockquote>\n"}, {"tags": ["dart", "flutter", "flutter-listview"], "comments": [{"owner": {"reputation": 3355, "user_id": 1589467, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rBthd.jpg?s=128&g=1", "display_name": "Narendar Singh Saini", "link": "https://stackoverflow.com/users/1589467/narendar-singh-saini"}, "reply_to_user": {"reputation": 103440, "user_id": 6618622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z7q0p.jpg?s=128&g=1", "display_name": "CopsOnRoad", "link": "https://stackoverflow.com/users/6618622/copsonroad"}, "edited": false, "score": 0, "creation_date": 1553858689, "post_id": 55370140, "comment_id": 97551632, "body": "I have not injected this block code in my code, but I got the idea that I have to use Dismissible and GestureDetector to handle long key press and swipe."}, {"owner": {"reputation": 3355, "user_id": 1589467, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rBthd.jpg?s=128&g=1", "display_name": "Narendar Singh Saini", "link": "https://stackoverflow.com/users/1589467/narendar-singh-saini"}, "reply_to_user": {"reputation": 103440, "user_id": 6618622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z7q0p.jpg?s=128&g=1", "display_name": "CopsOnRoad", "link": "https://stackoverflow.com/users/6618622/copsonroad"}, "edited": false, "score": 0, "creation_date": 1553858863, "post_id": 55370140, "comment_id": 97551719, "body": "I already did that last day."}], "answers": [{"tags": [], "owner": {"reputation": 2883, "user_id": 1463174, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9byqj.png?s=128&g=1", "display_name": "Filled Stacks", "link": "https://stackoverflow.com/users/1463174/filled-stacks"}, "is_accepted": true, "score": 1, "last_activity_date": 1553664285, "creation_date": 1553664285, "answer_id": 55370322, "question_id": 55370140, "link": "https://stackoverflow.com/questions/55370140/long-key-press-and-swipe-in-listview-in-flutter/55370322#55370322", "title": "Long key press and swipe in ListView in Flutter", "body": "<p>Wrap your listitem UI in a GetureDetector for Android and use the onLongTap callback. For iOS you can wrap your listitem UI in a Dissmissable widget. A simple extraction should help with that. </p>\n\n<p>Have your UI in a function that returns only your UI for the item, then outside wrap it with the above mentioned based on the platform.</p>\n\n<pre><code>// import platform helpers\nimport 'package:flutter/foundation.dart' show defaultTargetPlatform;\nimport 'package:flutter/foundation.dart' show TargetPlatform;\n\n\n// determine your platform\n final isIOS = defaultTargetPlatform == TargetPlatform.iOS;\n\n\n// return your appropriate wrapper\nisIOS \n? Dismissible(\n  child: _getListItemUi(),\n) \n: GestureDetector(\n  onLongPress: () {\n  },\n  child: _getListItemUi()\n);\n\nWidget _getListItemUi() {\n  return Container(child: Text('List Item UI'));\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 103440, "user_id": 6618622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z7q0p.jpg?s=128&g=1", "display_name": "CopsOnRoad", "link": "https://stackoverflow.com/users/6618622/copsonroad"}, "is_accepted": false, "score": 2, "last_activity_date": 1553665292, "creation_date": 1553665292, "answer_id": 55370496, "question_id": 55370140, "link": "https://stackoverflow.com/questions/55370140/long-key-press-and-swipe-in-listview-in-flutter/55370496#55370496", "title": "Long key press and swipe in ListView in Flutter", "body": "<p>To give you an idea you can do this. </p>\n\n<pre><code>@override\nWidget build(BuildContext context) {\n  bool isIos = Theme.of(context).platform == TargetPlatform.iOS;\n  return ListView.builder(\n    itemBuilder: (context, index) {\n      if (isIos) {\n        return Dismissible(\n          key: Key(\"unique_key\"),\n          child: YourOwnWidget(),\n          onDismissed: (direction) {\n            // your item is swiped, perform operation here\n          },\n        );\n      }\n      return GestureDetector(\n        onLongPress: () {\n          // you can show an AlertDialog here with 3 options you need\n        },\n        child: YourOwnWidget(),\n      );\n    },\n  );\n}\n</code></pre>\n"}], "owner": {"reputation": 3355, "user_id": 1589467, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rBthd.jpg?s=128&g=1", "display_name": "Narendar Singh Saini", "link": "https://stackoverflow.com/users/1589467/narendar-singh-saini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1783, "favorite_count": 0, "accepted_answer_id": 55370322, "answer_count": 2, "score": 0, "last_activity_date": 1553665386, "creation_date": 1553663102, "last_edit_date": 1553665386, "question_id": 55370140, "link": "https://stackoverflow.com/questions/55370140/long-key-press-and-swipe-in-listview-in-flutter", "title": "Long key press and swipe in ListView in Flutter", "body": "<p>I have a screen where I am creating a <code>ListView</code>. For Android I want to implement \"long key press\". For iOS I want \"swipe gesture\". </p>\n\n<p>For long key press and swipe I have to show 3 options: </p>\n\n<p><code>Delete | Delete All | More...</code></p>\n\n<p>How to do that.</p>\n"}, {"tags": ["dart", "flutter", "widget", "dropdown"], "comments": [{"owner": {"reputation": 1143, "user_id": 6570670, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/86081dc1633839e08c29ebb00bf6fbcd?s=128&d=identicon&r=PG&f=1", "display_name": "R. Duggan", "link": "https://stackoverflow.com/users/6570670/r-duggan"}, "edited": false, "score": 0, "creation_date": 1553673211, "post_id": 55369732, "comment_id": 97466659, "body": "It could have something to do with the fact that a <code>DropdownButtonFormField</code> requires an items parameter that takes a <code>list</code> of <code>DropdownMenuItem</code>&#39;s. It may be beneficial to replace your <code>items:</code> with <code>&lt;DropDownMenuItem&lt;String&gt;&gt;[DropDownMenuItem&lt;String&gt;(value: 1, child: Text(&quot;test&quot;)]</code>,"}, {"owner": {"reputation": 53, "user_id": 7080856, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eEngXiGLwxU/AAAAAAAAAAI/AAAAAAAAAD0/Etea79UMGxI/photo.jpg?sz=128", "display_name": "Cyrus Talladen", "link": "https://stackoverflow.com/users/7080856/cyrus-talladen"}, "reply_to_user": {"reputation": 1143, "user_id": 6570670, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/86081dc1633839e08c29ebb00bf6fbcd?s=128&d=identicon&r=PG&f=1", "display_name": "R. Duggan", "link": "https://stackoverflow.com/users/6570670/r-duggan"}, "edited": false, "score": 0, "creation_date": 1553684393, "post_id": 55369732, "comment_id": 97473107, "body": "your code doesnt compile and it doesnt improve from SwiftingDuster answer. Thanks anyway."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 7080856, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eEngXiGLwxU/AAAAAAAAAAI/AAAAAAAAAD0/Etea79UMGxI/photo.jpg?sz=128", "display_name": "Cyrus Talladen", "link": "https://stackoverflow.com/users/7080856/cyrus-talladen"}, "edited": false, "score": 0, "creation_date": 1553662059, "post_id": 55369843, "comment_id": 97462735, "body": "thanks I actually have that on the original code. edited the post."}], "tags": [], "owner": {"reputation": 2561, "user_id": 6300600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69762f4b6f60370cdeb3ba6cdcf8015a?s=128&d=identicon&r=PG&f=1", "display_name": "Swift", "link": "https://stackoverflow.com/users/6300600/swift"}, "is_accepted": true, "score": 4, "last_activity_date": 1553661018, "creation_date": 1553661018, "answer_id": 55369843, "question_id": 55369732, "link": "https://stackoverflow.com/questions/55369732/how-to-add-flutter-dropdownbuttonformfield/55369843#55369843", "title": "How to add Flutter DropdownButtonFormField", "body": "<p>The widget does exist in <code>flutter/materials.dart</code>. </p>\n\n<p><code>DropdownButtonFormField</code> requires the <code>items</code> property to be defined in its constructor. You need to use it like so:</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\n...\n\n@override\nWidget build(BuildContext context) {\n  return Column(children: &lt;Widget&gt;[\n    DropdownButtonFormField(\n      items: &lt;DropdownMenuItem&gt;[\n        // Put widgets in the drop down menu here\n      ],\n    )\n  ]);\n}\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 7080856, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eEngXiGLwxU/AAAAAAAAAAI/AAAAAAAAAD0/Etea79UMGxI/photo.jpg?sz=128", "display_name": "Cyrus Talladen", "link": "https://stackoverflow.com/users/7080856/cyrus-talladen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10757, "favorite_count": 0, "accepted_answer_id": 55369843, "answer_count": 1, "score": 2, "last_activity_date": 1553663090, "creation_date": 1553660253, "last_edit_date": 1553663090, "question_id": 55369732, "link": "https://stackoverflow.com/questions/55369732/how-to-add-flutter-dropdownbuttonformfield", "title": "How to add Flutter DropdownButtonFormField", "body": "<p>Beginner Flutter enthusiast here, just learning the widget system.\nWanted to implement autocomplete textfield using out of the box widgets (not plugins ok)\nThe DropdownButtonFormField is perfect for my use case but when I try using it, the compiler gives me a Method not found error.</p>\n\n<pre><code>Compiler message:\nlib/expanding_text.dart:100:11: Error: Method not found: 'DropdownButtonFormField'.\n          DropdownButtonFormField(),\n          ^^^^^^^^^^^^^^^^^^^^^^^\nlib/expanding_text.dart:100:11: Error: The method 'DropdownButtonFormField' isn't defined for the class '#lib1::_TripItemState'.\nTry correcting the name to the name of an existing method, or defining a method named 'DropdownButtonFormField'.\n          DropdownButtonFormField(),\n</code></pre>\n\n<p>Heres my code (the relevant part)</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\n...\n\n\n@override\n  Widget build(BuildContext context) {\n      return Column(\n        children: &lt;Widget&gt;[\n          DropdownButtonFormField&lt;String&gt;(\n             items: [DropdownMenuItem&lt;String&gt;(child:Text(\"test\"))],\n          ),\n\n</code></pre>\n\n<p>Looking at the docs it seems like I can freely add it to the widget tree without extra configuration.  But obviously I'm missing something here because of the error.</p>\n\n<p>So to troubleshoot whats happening, is DropdownButtonFormField still in the material library?</p>\n\n<p>Is there anything else Im missing?</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 167, "user_id": 9425539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eac952d3e9afd7f0c7aeb460917bdbf?s=128&d=identicon&r=PG&f=1", "display_name": "grizzasd", "link": "https://stackoverflow.com/users/9425539/grizzasd"}, "edited": false, "score": 0, "creation_date": 1553660531, "post_id": 55369634, "comment_id": 97462374, "body": "Thank you this works great! I&#39;m confused though - what is the purpose/use of calling the empty setState?"}, {"owner": {"reputation": 59214, "user_id": 666221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1VBx.jpg?s=128&g=1", "display_name": "diegoveloper", "link": "https://stackoverflow.com/users/666221/diegoveloper"}, "reply_to_user": {"reputation": 167, "user_id": 9425539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eac952d3e9afd7f0c7aeb460917bdbf?s=128&d=identicon&r=PG&f=1", "display_name": "grizzasd", "link": "https://stackoverflow.com/users/9425539/grizzasd"}, "edited": false, "score": 1, "creation_date": 1553660569, "post_id": 55369634, "comment_id": 97462386, "body": "calling setState will call build method and update your UI"}], "tags": [], "owner": {"reputation": 59214, "user_id": 666221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1VBx.jpg?s=128&g=1", "display_name": "diegoveloper", "link": "https://stackoverflow.com/users/666221/diegoveloper"}, "is_accepted": true, "score": 1, "last_activity_date": 1553659832, "last_edit_date": 1553659832, "creation_date": 1553659508, "answer_id": 55369634, "question_id": 55369347, "link": "https://stackoverflow.com/questions/55369347/how-to-update-screen-based-on-logininputfield-before-keyboard-is-dismissed/55369634#55369634", "title": "How to update screen, based on LoginInputField, before keyboard is Dismissed?", "body": "<p>You should listen your <code>TextEditingController</code> for every change.</p>\n\n<pre><code>     @override\n    void initState() {\n      emailController.addListener(setLoginButtonStyle);\n      passwordController.addListener(setLoginButtonStyle);\n      super.initState();\n    }\n\n    @override\n    void dispose() {\n      emailController.dispose();\n      passwordController.dispose();\n      super.dispose();\n    }\n\n    void setLoginButtonStyle(){\n  if(emailController.text != '' &amp;&amp; passwordController.text != ''){\n    this.loginButtonStyle = buttonPrimary;\n    loginDisabled = false;\n  } else {\n    this.loginButtonStyle = buttonDisabled;\n    loginDisabled = true;\n  }\n\n   setState(() {\n    });\n  }\n</code></pre>\n\n<p>Also you can remove this line setLoginButtonStyle(); from your <code>build</code> method</p>\n"}], "owner": {"reputation": 167, "user_id": 9425539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eac952d3e9afd7f0c7aeb460917bdbf?s=128&d=identicon&r=PG&f=1", "display_name": "grizzasd", "link": "https://stackoverflow.com/users/9425539/grizzasd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 55369634, "answer_count": 1, "score": 0, "last_activity_date": 1553659832, "creation_date": 1553657348, "question_id": 55369347, "link": "https://stackoverflow.com/questions/55369347/how-to-update-screen-based-on-logininputfield-before-keyboard-is-dismissed", "title": "How to update screen, based on LoginInputField, before keyboard is Dismissed?", "body": "<p>I have a simple login screen with an email and password LoginInputField. When the fields are empty, the login button is greyed out and disabled. When they both have text in them, the button is enabled. What I have works, but it will not update until the user has dismissed the keyboard. I want the user to be able to click the button without needing to first dismiss the keyboard.</p>\n\n<p>I have TextEdditingControllers on the LoginInputFields, and check the state of the controllers during the build and set accordingly.</p>\n\n<pre><code>class LoginState extends State&lt;Login&gt; {\n\n    final emailController = TextEditingController();\n    final passwordController = TextEditingController();\n    ButtonStyle loginButtonStyle;\n    bool loginDisabled = true;\n\n    void setLoginButtonStyle(){\n      if(emailController.text != '' &amp;&amp; passwordController.text != ''){\n        setState(() {\n          this.loginButtonStyle = buttonPrimary;\n        });\n        loginDisabled = false;\n      } else {\n        this.loginButtonStyle = buttonDisabled;\n        loginDisabled = true;\n      }\n    }\n\n  @override\n  Widget build(BuildContext context) {\n  setLoginButtonStyle();\n  //build widgets\n  RoundedButton(\n    buttonText: 'Log In',\n    buttonStyle: loginButtonStyle,\n    onPressed: () {\n                    if (!loginDisabled){\n                      //login through server\n                    } \n                  },\n    ),\n    //more widgets\n  }\n</code></pre>\n"}, {"tags": ["dart", "flutter", "flutter-layout"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11201378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/643311bf0c18837be1b0abf95f40252a?s=128&d=identicon&r=PG&f=1", "display_name": "ay-sa", "link": "https://stackoverflow.com/users/11201378/ay-sa"}, "edited": false, "score": 0, "creation_date": 1553702301, "post_id": 55371614, "comment_id": 97485238, "body": "Thanks for answering! I tried to pass _mBoard to displayBoard for each _button: void _button0(String mBoard)...displayBoard(_mBoard[0]). And then for each RaisedButton&#39;s onPressed: onPressed: () { _button0(_mBoard[0]);}. But the game board still only prints in the console. Was this the right way to implement this?"}, {"owner": {"reputation": 639, "user_id": 10367298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9c196ddb93d565d68101d8ab2055ab9?s=128&d=identicon&r=PG", "display_name": "dyGi", "link": "https://stackoverflow.com/users/10367298/dygi"}, "reply_to_user": {"reputation": 1, "user_id": 11201378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/643311bf0c18837be1b0abf95f40252a?s=128&d=identicon&r=PG&f=1", "display_name": "ay-sa", "link": "https://stackoverflow.com/users/11201378/ay-sa"}, "edited": false, "score": 0, "creation_date": 1553745297, "post_id": 55371614, "comment_id": 97501131, "body": "From the code above, I can&#39;t see the part you render board view. Can you show me the part you actually pass _mBoard to build the view?"}, {"owner": {"reputation": 1, "user_id": 11201378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/643311bf0c18837be1b0abf95f40252a?s=128&d=identicon&r=PG&f=1", "display_name": "ay-sa", "link": "https://stackoverflow.com/users/11201378/ay-sa"}, "edited": false, "score": 0, "creation_date": 1553805022, "post_id": 55371614, "comment_id": 97533319, "body": "I actually figured out how to do it. I passed _mBoard into each of the RaisedButton widgets. I updated it above: new Text(_mBoard[0],... This allows the buttons to display and &quot;X&quot; or &quot;O&quot;. Thanks for your help!"}], "tags": [], "owner": {"reputation": 639, "user_id": 10367298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9c196ddb93d565d68101d8ab2055ab9?s=128&d=identicon&r=PG", "display_name": "dyGi", "link": "https://stackoverflow.com/users/10367298/dygi"}, "is_accepted": false, "score": 0, "last_activity_date": 1553670631, "creation_date": 1553670631, "answer_id": 55371614, "question_id": 55369281, "link": "https://stackoverflow.com/questions/55369281/pass-text-to-raisedbutton-ontap-flutter/55371614#55371614", "title": "Pass Text to RaisedButton OnTap - Flutter", "body": "<p>You included both the part where _mBoard value updated and displayBoard() method inside setState(). Once you call setState(), it will notify StatefulWidget to update view. But you're calling displayBoard() inside setState, and this method doesn't have updated _mBoard value yet.</p>\n\n<p>There are two ways to solve this,</p>\n\n<ul>\n<li><p>Passing _mBoard as parameter to displayBoard(_mBoard) , so it's going to access local _mBoard value not state value.</p></li>\n<li><p>Calling displayBoard after setState() called.</p></li>\n</ul>\n"}], "owner": {"reputation": 1, "user_id": 11201378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/643311bf0c18837be1b0abf95f40252a?s=128&d=identicon&r=PG&f=1", "display_name": "ay-sa", "link": "https://stackoverflow.com/users/11201378/ay-sa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 595, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553804818, "creation_date": 1553656826, "last_edit_date": 1553804818, "question_id": 55369281, "link": "https://stackoverflow.com/questions/55369281/pass-text-to-raisedbutton-ontap-flutter", "title": "Pass Text to RaisedButton OnTap - Flutter", "body": "<p>I'm new to Flutter and I'm having a lot of trouble with a tic tac toe game. It works in the console, but I can't figure out how to get the game to work in the GUI I've built.</p>\n\n<p>I know I need some kind of array for the game buttons, but I'm not sure how to implement this. I've built the game board with rows and columns like this:</p>\n\n<pre><code>      body: new Container(\n          padding: EdgeInsets.all(14.0),\n          child: Column(\n              mainAxisAlignment: MainAxisAlignment.start,\n              children: &lt;Widget&gt;[\n                Row(\n                  //Start of the 1st Row\n                    mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n                    children: &lt;Widget&gt;[\n                      // Button 0 in 1st Row\n                      RaisedButton(\n                        padding: const EdgeInsets.all(20.0),\n                        onPressed: () {\n                          _button0();\n                        },\n                        child: new Text(_mBoard[0],\n                            textAlign: TextAlign.center,\n                            style: new TextStyle(\n                              fontWeight: FontWeight.bold,\n                              fontSize: 40.0,\n                              fontFamily: 'Roboto',\n                            )),\n                        color: Colors.grey[300],\n                      ),\n\n</code></pre>\n\n<p>This is _button0 that's called in the first RaisedButton's onPressed function. They go up to 8.</p>\n\n<pre><code>  void _button0() {\n    setState(() {\n      if (_mBoard[0] == humanPlayer || _mBoard[0] == computerPlayer) {\n        return;\n      } else if (win == 0) {\n        if (turn == 0) {\n          _mBoard[0] = humanPlayer;\n          _text = humanPlayer + \" MOVED, O's TURN\";\n          turn = 1;\n          win = checkWinner();\n          checkGameOver(win);\n          displayBoard();\n        }\n        if ((turn == 1) &amp;&amp; (win == 0)) {\n          turn = 0;\n          computerTurn();\n          win = checkWinner();\n          checkGameOver(win);\n          displayBoard();\n        }\n      }\n    });\n  }\n\n</code></pre>\n\n<p>Print board to console:</p>\n\n<pre><code>void displayBoard() {\n  print(_mBoard[0] + \" | \" + _mBoard[1] + \" | \" + _mBoard[2]);\n  print(\"-----------\");\n  print(_mBoard[3] + \" | \" + _mBoard[4] + \" | \" + _mBoard[5]);\n  print(\"-----------\");\n  print(_mBoard[6] + \" | \" + _mBoard[7] + \" | \" + _mBoard[8]);\n}\n</code></pre>\n\n<p>I expect the user's selection of a RaisedButton to display an \"X\" and the computer's selection to display an \"O\".</p>\n"}, {"tags": ["dart", "flutter", "tabs"], "comments": [{"owner": {"reputation": 5165, "user_id": 9374465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4885599304ccdac5fc24aea1bac2d4?s=128&d=identicon&r=PG&f=1", "display_name": "Mazin Ibrahim", "link": "https://stackoverflow.com/users/9374465/mazin-ibrahim"}, "edited": false, "score": 0, "creation_date": 1553664034, "post_id": 55369005, "comment_id": 97463232, "body": "Hello Jang ! can you show us the code where you tried ?"}, {"owner": {"reputation": 5873, "user_id": 9126253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x5jDp.jpg?s=128&g=1", "display_name": "NiklasPor", "link": "https://stackoverflow.com/users/9126253/niklaspor"}, "edited": false, "score": 0, "creation_date": 1553672415, "post_id": 55369005, "comment_id": 97466278, "body": "Which kind of multi colored are you going for? Multiple color sections, a color hue, switching colors?"}, {"owner": {"reputation": 119, "user_id": 11258299, "user_type": "registered", "profile_image": "https://graph.facebook.com/1900735556701507/picture?type=large", "display_name": "Jang Delos Santos", "link": "https://stackoverflow.com/users/11258299/jang-delos-santos"}, "edited": false, "score": 0, "creation_date": 1553683101, "post_id": 55369005, "comment_id": 97472335, "body": "hi, thanks for the response, i added some detailed explanation and some codes, sorry for the confusion."}], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 11258299, "user_type": "registered", "profile_image": "https://graph.facebook.com/1900735556701507/picture?type=large", "display_name": "Jang Delos Santos", "link": "https://stackoverflow.com/users/11258299/jang-delos-santos"}, "edited": false, "score": 0, "creation_date": 1553689531, "post_id": 55376995, "comment_id": 97476317, "body": "thanks for this, it&#39;s really close. but is it possible to have it&#39;s color automatically as it is? i mean without pressing each tab. like the first tab has a default color of red, then second tab has a default color of blue, third tab has a default color of yellow."}], "tags": [], "owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "is_accepted": false, "score": 2, "last_activity_date": 1553688998, "creation_date": 1553688998, "answer_id": 55376995, "question_id": 55369005, "link": "https://stackoverflow.com/questions/55369005/is-there-a-way-to-have-a-multi-colored-tab-bar-in-flutter/55376995#55376995", "title": "is there a way to have a multi colored tab bar in flutter?", "body": "<blockquote>\n  <p>Yes it is possible try this</p>\n</blockquote>\n\n<pre><code>import 'package:flutter/material.dart';\nimport './FirstTab.dart' as first;\nimport './SecondTab.dart' as second;\nimport 'ThirdTab.dart' as third;\n\nvoid main(){\n  runApp(new MaterialApp(\n      home: new MyTabs()\n  ));\n}\n\nclass MyTabs extends StatefulWidget{\n  @override\n  MyTabsState createState() =&gt; new MyTabsState();\n}\n\nclass MyTabsState extends State&lt;MyTabs&gt; with SingleTickerProviderStateMixin {\n\n\n  TabController controller;\n  int tabIndex =0 ;\n\n  @override\n  void initState(){\n    super.initState();\n    controller = new TabController(vsync: this, length: 3);\n  }\n\n  @override\n  void dispose() {\n    controller.dispose();\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      appBar: new AppBar(\n        title: new Text('Multi Colored Tab Bar'),\n        backgroundColor: Colors.grey,\n        bottom: new TabBar(\n          controller: controller,\n          indicator: BoxDecoration(color: setColor(tabIndex)),\n          onTap: (index){\n            setState(() {\n              tabIndex = index;\n            });\n          },\n          tabs: &lt;Tab&gt;[\n            new Tab(text: 'First Tab'),\n            new Tab(text: 'Second Tab'),\n            new Tab(text: 'Third Tab'),\n          ],\n        ),\n      ),\n      body: new TabBarView(\n        controller: controller,\n        children: &lt;Widget&gt;[\n          new first.First(),\n          new second.Second(),\n          new third.Third(),\n        ],\n      ),\n    );\n  }\n\n  setColor(int tabIndex){\n    if(tabIndex == 0){\n      return Colors.red;\n    }else if(tabIndex == 1){\n      return Colors.blue;\n    }else if(tabIndex == 2){\n      return Colors.yellow;\n    }\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 119, "user_id": 11258299, "user_type": "registered", "profile_image": "https://graph.facebook.com/1900735556701507/picture?type=large", "display_name": "Jang Delos Santos", "link": "https://stackoverflow.com/users/11258299/jang-delos-santos"}, "edited": false, "score": 0, "creation_date": 1553690121, "post_id": 55376998, "comment_id": 97476703, "body": "wow, didn&#39;t know it can be played like that, but is it possible to have each tab has their own default color? i mean without pressing anything they already have their own colors, like the first tab has a default color of red, then second tab has a default color of blue, third tab has a default color of yellow, so users can easily identify each tab by their color even at first glance."}, {"owner": {"reputation": 2759, "user_id": 4593315, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NTfes.jpg?s=128&g=1", "display_name": "Tirth Patel", "link": "https://stackoverflow.com/users/4593315/tirth-patel"}, "reply_to_user": {"reputation": 119, "user_id": 11258299, "user_type": "registered", "profile_image": "https://graph.facebook.com/1900735556701507/picture?type=large", "display_name": "Jang Delos Santos", "link": "https://stackoverflow.com/users/11258299/jang-delos-santos"}, "edited": false, "score": 0, "creation_date": 1553692526, "post_id": 55376998, "comment_id": 97478374, "body": "Sounds tricky, but that will not look that good. In Google play app when you click on any tab, colour of tab &amp; app-bar changes after that only. Initially all tabs have green colours."}, {"owner": {"reputation": 119, "user_id": 11258299, "user_type": "registered", "profile_image": "https://graph.facebook.com/1900735556701507/picture?type=large", "display_name": "Jang Delos Santos", "link": "https://stackoverflow.com/users/11258299/jang-delos-santos"}, "edited": false, "score": 1, "creation_date": 1553733685, "post_id": 55376998, "comment_id": 97498831, "body": "thanks for looking into this, i learned a lot and this is a good start of what i envisioned it to be"}], "tags": [], "owner": {"reputation": 2759, "user_id": 4593315, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NTfes.jpg?s=128&g=1", "display_name": "Tirth Patel", "link": "https://stackoverflow.com/users/4593315/tirth-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1553689010, "creation_date": 1553689010, "answer_id": 55376998, "question_id": 55369005, "link": "https://stackoverflow.com/questions/55369005/is-there-a-way-to-have-a-multi-colored-tab-bar-in-flutter/55376998#55376998", "title": "is there a way to have a multi colored tab bar in flutter?", "body": "<p>I got it working by changing <code>primaryColor</code> in <code>theme</code> of <code>MaterialApp</code>, colour of Tab can be changed. So inside build method of <code>MyTabsState</code> return a <code>MaterialApp</code> &amp; set it's <code>theme</code> to a variable <em>currentTabColor</em>.</p>\n\n<p>Declare <code>currentTabColor</code> in <code>MyTabsState</code> &amp; set it to <code>Colors.red</code></p>\n\n<p>Then set <code>onTap</code> to a callback which returns index of current tab &amp; change state of <code>currentTabColor</code> using <code>if..else</code></p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() {\n  runApp(MyTabs());\n}\n\nclass MyTabs extends StatefulWidget {\n  @override\n  MyTabsState createState() =&gt; MyTabsState();\n}\n\nclass MyTabsState extends State&lt;MyTabs&gt; with SingleTickerProviderStateMixin {\n  TabController controller;\n  Color currentTabColor;\n\n  @override\n  void initState() {\n    super.initState();\n    currentTabColor = Colors.red;\n    controller = TabController(vsync: this, length: 3);\n  }\n\n  @override\n  void dispose() {\n    controller.dispose();\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      theme: ThemeData(\n        primaryColor: currentTabColor,\n      ),\n      home: Scaffold(\n        appBar: AppBar(\n          title: Text('Multi Colored Tab Bar'),\n          bottom: TabBar(\n            onTap: (tabIndex) {\n              if (tabIndex == 0)\n                currentTabColor = Colors.red;\n              else if (tabIndex == 1)\n                currentTabColor = Colors.blue;\n              else\n                currentTabColor = Colors.green;\n              setState(() {\n                currentTabColor = currentTabColor;\n              });\n            },\n            controller: controller,\n            tabs: &lt;Tab&gt;[\n              Tab(\n                text: 'First Tab',\n              ),\n              Tab(text: 'Second Tab'),\n              Tab(text: 'Third Tab'),\n            ],\n          ),\n        ),\n        body: TabBarView(\n          controller: controller,\n          children: &lt;Widget&gt;[\n            Scaffold(backgroundColor: Colors.red),\n            Scaffold(backgroundColor: Colors.blue),\n            Scaffold(backgroundColor: Colors.green),\n          ],\n        ),\n      ),\n    );\n  }\n}\n\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<blockquote>\n  <p><img src=\"https://i.stack.imgur.com/1j0jd.png\" width=\"300\" />\n  <img src=\"https://i.stack.imgur.com/u8EwX.png\" width=\"300\" />\n  <img src=\"https://i.stack.imgur.com/1Mv4b.png\" width=\"300\" /></p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 184, "user_id": 2256696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f09e8bf84dbd5628ed5cafea0012a77?s=128&d=identicon&r=PG", "display_name": "Dheeraj Avvari", "link": "https://stackoverflow.com/users/2256696/dheeraj-avvari"}, "edited": false, "score": 0, "creation_date": 1566904519, "post_id": 55386703, "comment_id": 101793878, "body": "This works but the unselected tabs have a minor space where the indicator comes. that is not being covered. <a href=\"https://imgur.com/a/6v8y28O\" rel=\"nofollow noreferrer\">imgur.com/a/6v8y28O</a>"}, {"owner": {"reputation": 2470, "user_id": 195969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8edd86b67c7e654104f7681b925358c?s=128&d=identicon&r=PG", "display_name": "AWhitford", "link": "https://stackoverflow.com/users/195969/awhitford"}, "edited": false, "score": 0, "creation_date": 1592876263, "post_id": 55386703, "comment_id": 110575383, "body": "<code>constraints: BoxConstraints.expand(),</code> was the magic."}], "tags": [], "owner": {"reputation": 5000, "user_id": 3487611, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a9d779ea596b2de17e9a9b1466a63bf9?s=128&d=identicon&r=PG", "display_name": "Albert Lardizabal", "link": "https://stackoverflow.com/users/3487611/albert-lardizabal"}, "is_accepted": true, "score": 1, "last_activity_date": 1553723249, "last_edit_date": 1553723249, "creation_date": 1553722030, "answer_id": 55386703, "question_id": 55369005, "link": "https://stackoverflow.com/questions/55369005/is-there-a-way-to-have-a-multi-colored-tab-bar-in-flutter/55386703#55386703", "title": "is there a way to have a multi colored tab bar in flutter?", "body": "<p>The below will automatically set the <code>Scaffold</code> color on load and the tabs reflect the appropriate default colors.</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: TabBarApp(),\n    );\n  }\n}\n\nclass TabBarApp extends StatefulWidget {\n  createState() =&gt; _TabBarAppState();\n}\n\nclass _TabBarAppState extends State&lt;TabBarApp&gt;\n    with SingleTickerProviderStateMixin {\n  TabController _controller;\n  List&lt;TabData&gt; _tabData;\n  List&lt;Tab&gt; _tabs = [];\n  List&lt;Widget&gt; _tabViews = [];\n  Color _activeColor;\n\n  @override\n  void initState() {\n    super.initState();\n    _tabData = [\n      TabData(title: 'First Tab', color: Colors.red),\n      TabData(title: 'Second Tab', color: Colors.green),\n      TabData(title: 'Third Tab', color: Colors.blue),\n    ];\n    _activeColor = _tabData.first.color;\n    _tabData.forEach((data) {\n      final tab = Tab(\n        child: Container(\n          constraints: BoxConstraints.expand(),\n          color: data.color,\n          child: Center(\n            child: Text(data.title),\n          ),\n        ),\n      );\n      _tabs.add(tab);\n\n      final widget = Scaffold(backgroundColor: data.color);\n      _tabViews.add(widget);\n    });\n    _controller = TabController(vsync: this, length: _tabData.length)\n      ..addListener(() {\n        setState(() {\n          _activeColor = _tabData[_controller.index].color;\n        });\n      });\n  }\n\n  @override\n  void dispose() {\n    _controller?.dispose();\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Theme(\n      data: ThemeData(primaryColor: _activeColor),\n      child: Scaffold(\n        backgroundColor: _activeColor,\n        appBar: AppBar(\n          title: Text('Multi Colored Tab Bar'),\n          bottom: TabBar(\n            indicatorColor: _activeColor,\n            labelPadding: EdgeInsets.zero,\n            controller: _controller,\n            tabs: _tabs,\n          ),\n        ),\n        body: TabBarView(\n          controller: _controller,\n          children: _tabViews,\n        ),\n      ),\n    );\n  }\n}\n\nclass TabData {\n  TabData({this.title, this.color});\n\n  final String title;\n  final Color color;\n}\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 11258299, "user_type": "registered", "profile_image": "https://graph.facebook.com/1900735556701507/picture?type=large", "display_name": "Jang Delos Santos", "link": "https://stackoverflow.com/users/11258299/jang-delos-santos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2740, "favorite_count": 1, "accepted_answer_id": 55386703, "answer_count": 3, "score": 1, "last_activity_date": 1553723249, "creation_date": 1553654565, "last_edit_date": 1553686788, "question_id": 55369005, "link": "https://stackoverflow.com/questions/55369005/is-there-a-way-to-have-a-multi-colored-tab-bar-in-flutter", "title": "is there a way to have a multi colored tab bar in flutter?", "body": "<p>Hi I'm still new to flutter and been studying it for about a week now, I'm currently creating an app that organizes funds for budgeting, I'm attempting to create a multi colored tab bar so users can easily identify their funds, I tried searching over the net and read the tab documentation but still no luck, any tips?</p>\n\n<p>~edit</p>\n\n<p>What I'm trying to achieve is to get the background color of each tab bar same as the background color of scaffold, the default background color of tab bar is currently grey, it should be red on the first tab, blue on second tab, yellow on third tab. is it possible?</p>\n\n<p>here's a screenshot in the emulator:\n<a href=\"https://i.stack.imgur.com/hTaau.png\" rel=\"nofollow noreferrer\">screenshot</a> </p>\n\n<p>here are sample of my code:</p>\n\n<p>/main.dart</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport './FirstTab.dart' as first;\nimport './SecondTab.dart' as second;\nimport 'ThirdTab.dart' as third;\n\nvoid main(){\n  runApp(new MaterialApp(\n    home: new MyTabs()\n  ));\n}\n\nclass MyTabs extends StatefulWidget{\n  @override\n  MyTabsState createState() =&gt; new MyTabsState();\n}\n\nclass MyTabsState extends State&lt;MyTabs&gt; with SingleTickerProviderStateMixin {\n\n\n  TabController controller;\n\n  @override\n  void initState(){\n    super.initState();\n    controller = new TabController(vsync: this, length: 3);\n  }\n\n  @override\n  void dispose() {\n    controller.dispose();\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      appBar: new AppBar(\n        title: new Text('Multi Colored Tab Bar'),\n        backgroundColor: Colors.grey,\n        bottom: new TabBar(\n          controller: controller,\n          tabs: &lt;Tab&gt;[\n            new Tab(text: 'First Tab'),\n            new Tab(text: 'Second Tab'),\n            new Tab(text: 'Third Tab'),\n          ],\n        ),\n      ),\n      body: new TabBarView(\n        controller: controller,\n        children: &lt;Widget&gt;[\n          new first.First(),\n          new second.Second(),\n          new third.Third(),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>/FirstTab.dart</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nclass First extends StatelessWidget{\n  @override\n  Widget build(BuildContext context){\n    return new Scaffold(\n      backgroundColor: Colors.red\n    );\n  }\n}\n</code></pre>\n\n<p>/SecondTab.dart</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nclass Second extends StatelessWidget{\n  @override\n  Widget build(BuildContext context){\n    return new Scaffold(\n      backgroundColor: Colors.blue\n    );\n  }\n}\n</code></pre>\n\n<p>/ThirdTab.dart</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nclass Third extends StatelessWidget{\n  @override\n  Widget build(BuildContext context){\n    return new Scaffold(\n      backgroundColor: Colors.yellow\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 1143, "user_id": 6570670, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/86081dc1633839e08c29ebb00bf6fbcd?s=128&d=identicon&r=PG&f=1", "display_name": "R. Duggan", "link": "https://stackoverflow.com/users/6570670/r-duggan"}, "edited": false, "score": 0, "creation_date": 1553674071, "post_id": 55368857, "comment_id": 97467072, "body": "Does this error occur if you slowly change tabs, or is it only if you quickly change between two or more of the tabs?"}, {"owner": {"reputation": 13, "user_id": 9960199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6507a20525087c5ff73996980e541559?s=128&d=identicon&r=PG&f=1", "display_name": "Thenesh", "link": "https://stackoverflow.com/users/9960199/thenesh"}, "reply_to_user": {"reputation": 1143, "user_id": 6570670, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/86081dc1633839e08c29ebb00bf6fbcd?s=128&d=identicon&r=PG&f=1", "display_name": "R. Duggan", "link": "https://stackoverflow.com/users/6570670/r-duggan"}, "edited": false, "score": 0, "creation_date": 1553763776, "post_id": 55368857, "comment_id": 97507707, "body": "@R.Duggan It&#39;s occurs if I change slow or fast. After few change tabs i&#39;ll get this exception."}], "owner": {"reputation": 13, "user_id": 9960199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6507a20525087c5ff73996980e541559?s=128&d=identicon&r=PG&f=1", "display_name": "Thenesh", "link": "https://stackoverflow.com/users/9960199/thenesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 385, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553653488, "creation_date": 1553653488, "question_id": 55368857, "link": "https://stackoverflow.com/questions/55368857/tab-bar-view-error-as-used-the-same-globalkey-multiple-times", "title": "Tab bar view error as used the same GlobalKey multiple times", "body": "<p>I'm using Flutter. I have a simple app with 3 tabs. There is a RefreshIndicator in each tab with a ListView. The rows are built in another method. This is the code:</p>\n\n<pre><code>@override\n Widget build(BuildContext context) {\n    final GlobalKey&lt;RefreshIndicatorState&gt; _RIKey1 = new GlobalKey&lt;RefreshIndicatorState&gt;();\n    final GlobalKey&lt;RefreshIndicatorState&gt; _RIKey2 = new GlobalKey&lt;RefreshIndicatorState&gt;();\n    final GlobalKey&lt;RefreshIndicatorState&gt; _RIKey3 = new GlobalKey&lt;RefreshIndicatorState&gt;();\n\n    debugPrint(_RIKey1.toString());\n    debugPrint(_RIKey2.toString());\n    debugPrint(_RIKey3.toString());\n    return new Scaffold(\n      body: new DefaultTabController(\n        length: 3,\n        child: new Scaffold(\n          appBar: new AppBar(\n            actions: &lt;Widget&gt;[\n              IconButton(\n                icon: Icon(Icons.refresh),\n                onPressed: () {\n                      _RIKey1.currentState.show();\n                    },\n              )\n            ],\n            bottom: new TabBar(\n              tabs: [\n                new Tab(icon: new Icon(Icons.view_list)),\n                new Tab(icon: new Icon(Icons.hotel)),\n                new Tab(icon: new Icon(Icons.assessment)),\n              ],\n            ),\n            title: new Text('Data'),\n          ),\n          body: new TabBarView(\n            children: [\n              new RefreshIndicator(\n                key: _RIKey1,\n                onRefresh: _actualizoData1,\n                child: new ListView.builder(\n                    padding: new EdgeInsets.only(top: 5.0),\n                    itemCount: linea_reservas.length * 2,\n                    itemBuilder: (BuildContext context, int position) {\n                      if (position.isOdd) return new Divider();\n                      final index = position ~/ 2;\n                      return _buildRow(index);\n                    }),\n              ),\n              new RefreshIndicator(\n                key: _RIKey2,\n                onRefresh: _actualizoData2,\n                child: new ListView.builder(\n                    padding: new EdgeInsets.only(top: 8.0),\n                    itemCount: linea_inouthouse.length * 2,\n                    itemBuilder: (BuildContext context, int position) {\n                      if (position.isOdd) return new Divider();\n                      final index = position ~/ 2;\n                      return _buildRowInOutHouse(index);\n                    }),\n              ),\n              new RefreshIndicator(\n                key: _RIKey3,\n                onRefresh: _actualizoData3,\n                child: new ListView.builder(\n                    padding: new EdgeInsets.only(top: 5.0),\n                    itemCount: linea_ocupacion.length * 2,\n                    itemBuilder: (BuildContext context, int position) {\n                      if (position.isOdd) return new Divider();\n                      final index = position ~/ 2;\n                      return _buildRowOcupacion(index);\n                    }),\n              ),\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n\n</code></pre>\n\n<p>the app works, but after changing tabs a few times, it crashes with this error:</p>\n\n<pre><code>I/flutter ( 5252): \u2550\u2550\u2561 EXCEPTION CAUGHT BY WIDGETS LIBRARY \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nI/flutter ( 5252): The following assertion was thrown building NotificationListener&lt;KeepAliveNotification&gt;:\nI/flutter ( 5252): Multiple widgets used the same GlobalKey.\nI/flutter ( 5252): The key [LabeledGlobalKey&lt;RefreshIndicatorState&gt;#7bd42] was used by multiple widgets. The parents of\nI/flutter ( 5252): those widgets were:\nI/flutter ( 5252): - RepaintBoundary-[&lt;[LabeledGlobalKey&lt;RefreshIndicatorState&gt;#7bd42]&gt;](renderObject:\nI/flutter ( 5252):   RenderRepaintBoundary#60a4a DETACHED)\nI/flutter ( 5252): - RepaintBoundary-[&lt;[LabeledGlobalKey&lt;RefreshIndicatorState&gt;#7bd42]&gt;](renderObject:\nI/flutter ( 5252):   RenderRepaintBoundary#c8cdb NEEDS-LAYOUT NEEDS-PAINT)\nI/flutter ( 5252): A GlobalKey can only be specified on one widget at a time in the widget tree.\n</code></pre>\n\n<p>I searched online an found an StackOverflow solution <a href=\"https://stackoverflow.com/questions/49862572/multiple-widgets-used-the-same-globalkey\">Multiple widgets used the same GlobalKey</a> to use custom keys:</p>\n\n<pre><code>import 'package:flutter/widgets.dart';\n\nclass RIKeys {\n  static final riKey1 = const Key('__RIKEY1__');\n  static final riKey2 = const Key('__RIKEY2__');\n  static final riKey3 = const Key('__RIKEY3__');\n}\n</code></pre>\n\n<p>Now it works as intended but I'm not sure how I can declare it on state class and show the currentState.show() when the user taps on refresh button on the app bar as below:</p>\n\n<pre><code>GlobalKey&lt;RefreshIndicatorState&gt; _RIKey1 = new GlobalKey&lt;RefreshIndicatorState&gt;();\n\n_RIKey1.currentState.show();\n</code></pre>\n\n<p>I'm not sure how to overcome this issue please advise. Thank you for any help.</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 6009323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e80811ba41f6433a18d74bb11e83c2e1?s=128&d=identicon&r=PG&f=1", "display_name": "JMain", "link": "https://stackoverflow.com/users/6009323/jmain"}, "edited": false, "score": 0, "creation_date": 1553737739, "post_id": 55369013, "comment_id": 97499662, "body": "This works great!  I never knew you could pass an entire function like that."}], "tags": [], "owner": {"reputation": 2575, "user_id": 9779791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uCXqz.jpg?s=128&g=1", "display_name": "mirkancal", "link": "https://stackoverflow.com/users/9779791/mirkancal"}, "is_accepted": true, "score": 1, "last_activity_date": 1553654600, "creation_date": 1553654600, "answer_id": 55369013, "question_id": 55368201, "link": "https://stackoverflow.com/questions/55368201/call-function-of-body-from-appbar-that-is-in-its-own-class/55369013#55369013", "title": "Call function of body from appbar that is in it&#39;s own class", "body": "<p>You can just pass those functions.</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nclass MyAppBar extends StatelessWidget implements PreferredSizeWidget {\n  MyAppBar({this.pageInstanceFunction});\n  var pageInstanceFunction;\n\n  @override\n  Widget build(BuildContext context) {\n    return AppBar(\n      backgroundColor: Colors.orange,\n      title: Text('My Custom AppBar for #page'),\n      actions: &lt;Widget&gt;[\n        IconButton(\n          icon: Icon(Icons.ac_unit),\n          onPressed: () {\n            pageInstanceFunction();\n          },\n        ),\n      ],\n    );\n  }\n\n  @override\n  Size get preferredSize =&gt; Size.fromHeight(kToolbarHeight);\n}\n</code></pre>\n\n<p>Here's my Page One</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:stackoverflow/MyAppBar.dart';\nimport 'package:stackoverflow/PageTwo.dart';\n\nclass PageOne extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: MyAppBar(\n        pageInstanceFunction: sayHello,\n      ),\n      body: Container(\n        color: Colors.deepOrange,\n        height: MediaQuery.of(context).size.height,\n        width: MediaQuery.of(context).size.width,\n        child: Center(\n          child: RaisedButton(\n            onPressed: () {\n              Navigator.push(\n                  context, MaterialPageRoute(builder: (context) =&gt; PageTwo()));\n            },\n            child: Text('Page Two'),\n          ),\n        ),\n      ),\n    );\n  }\n\n  void sayHello() {\n    print('Hello from PageOne');\n  }\n}\n</code></pre>\n\n<p>And Page Two</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:stackoverflow/MyAppBar.dart';\n\nclass PageTwo extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: MyAppBar(\n        pageInstanceFunction: sayHello,\n      ),\n      body: Container(\n        color: Colors.lightBlueAccent,\n        height: MediaQuery.of(context).size.height,\n        width: MediaQuery.of(context).size.width,\n        child: Text('Page Two'),\n      ),\n    );\n  }\n\n  void sayHello() {\n    print('Hello from PageTwo');\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 6009323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e80811ba41f6433a18d74bb11e83c2e1?s=128&d=identicon&r=PG&f=1", "display_name": "JMain", "link": "https://stackoverflow.com/users/6009323/jmain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1194, "favorite_count": 0, "accepted_answer_id": 55369013, "answer_count": 1, "score": 0, "last_activity_date": 1553663048, "creation_date": 1553647735, "last_edit_date": 1553663048, "question_id": 55368201, "link": "https://stackoverflow.com/questions/55368201/call-function-of-body-from-appbar-that-is-in-its-own-class", "title": "Call function of body from appbar that is in it&#39;s own class", "body": "<p>I have a class for each \"page\" of my app, and they all share the same appbar, which is a class of its own.  I have a button on the appbar, and I want it to call a function from whichever page is open.  The function is on each page, and it has the same name on each page.</p>\n\n<p>In my shortened code below, you see the shared <code>MyAppBar</code>, and you see 2 pages.  Each of those pages uses <code>MyAppBar</code>, and each of those pages has <code>_myFunction()</code>.</p>\n\n<p>How can I call <code>_myFunction()</code> for each the current page from <code>MyAppBar</code>?</p>\n\n<pre><code>class MyAppBar {\n  setAppBar(context, String title) {\n    return new AppBar(\n      backgroundColor: Colors.blue,\n      title: Text(\n        title,\n        style: TextStyle(color: Colors.white),\n      ),\n      actions: &lt;Widget&gt;[\n          child: IconButton(myIcon),\n          onPressed: () =&gt; { this should call the current pages _myFunction},),\n    ],\n  }\n}\n\n\nclass _Page1State extends State&lt;Page1&gt;\n{\n@override\nWidget build(BuildContext context) {\n    return Scaffold(\n      appBar: MyAppBar().setAppBar(context, 'Page 1'),\n      body: Container(some content here)\n      )\n      }\n\n    _myFunction()\n    {\n    do some stuff;\n    }\n}\n\nclass _Page2State extends State&lt;Page2&gt;\n{\n@override\nWidget build(BuildContext context) {\n    return Scaffold(\n      appBar: MyAppBar().setAppBar(context, 'Page 2'),\n      body: Container(some content here)\n      )\n      }\n\n    _myFunction()\n    {\n    do some stuff;\n    }\n}\n</code></pre>\n"}, {"tags": ["php", "json", "dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 160, "user_id": 2610762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769a1912e0917f1b477038c40c0f6778?s=128&d=identicon&r=PG", "display_name": "sagarchavan", "link": "https://stackoverflow.com/users/2610762/sagarchavan"}, "edited": false, "score": 0, "creation_date": 1585308481, "post_id": 55398288, "comment_id": 107719787, "body": "What&#39;s the issue? I am stuck with this."}], "tags": [], "owner": {"reputation": 327, "user_id": 8958387, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72aaa80c2ed78fd95d9cc685478711cf?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/8958387/matt"}, "is_accepted": true, "score": 2, "last_activity_date": 1553777965, "creation_date": 1553777965, "answer_id": 55398288, "question_id": 55367268, "link": "https://stackoverflow.com/questions/55367268/formatexception-unexpected-end-of-input-at-character-1/55398288#55398288", "title": "FormatException: Unexpected end of input (at character 1)", "body": "<p>been struggling wit the same error since yesterday...\nwhats strange that POST req is fired, but the exception was thrown anyway..</p>\n\n<p>in my case, the problem was one of the temporary functions <strong>returning the response</strong>:</p>\n\n<pre><code>//      Response registerResponse = await dio.post(Strings.USER_REGISTER_URL, data: requestBody, options: new Options(contentType: ContentType(\"application\", \"json\")));\n\n\n//      print(TAG + registerResponse.toString());\n//      print(TAG + registerResponse.data.toString());\n//      Map&lt;String, dynamic&gt; parsedregisterResponse = jsonDecode(registerResponse.data);\n//      print(TAG + \"response: \" + parsedregisterResponse.toString());\n</code></pre>\n\n<p>used to monitor the output - will find out which one (probably Map) this evening and let u know. In the meantime recheck your response type and decoding -there must be something wrong with it just like in my case.</p>\n"}], "owner": {"reputation": 113, "user_id": 7418068, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oQoYgTCOFnc/AAAAAAAAAAI/AAAAAAAAAPk/CDgs4tjJoYA/photo.jpg?sz=128", "display_name": "Pablo", "link": "https://stackoverflow.com/users/7418068/pablo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5901, "favorite_count": 2, "accepted_answer_id": 55398288, "answer_count": 1, "score": 2, "last_activity_date": 1553777965, "creation_date": 1553640428, "last_edit_date": 1553671550, "question_id": 55367268, "link": "https://stackoverflow.com/questions/55367268/formatexception-unexpected-end-of-input-at-character-1", "title": "FormatException: Unexpected end of input (at character 1)", "body": "<p>I'm trying to parse data from json but something is wrong. \nTerminal console says: </p>\n\n<pre><code>Performing hot restart...\nRestarted application in 1.659ms.\nI/flutter ( 9594): Load xd en\nI/flutter ( 9594): Exception: FormatException: Unexpected end of input (at character 1)\nI/flutter ( 9594):\nI/flutter ( 9594): ^\nI/flutter ( 9594): /0\nI/flutter ( 9594): error: 0\n</code></pre>\n\n<p>My json can be found here: <a href=\"http://veterinarskastanicavk.hr/grad/api.php?cat=sports&amp;stranica=1\" rel=\"nofollow noreferrer\">link</a></p>\n\n<p>But at this <a href=\"http://104.131.18.84/notice/news/sports/1\" rel=\"nofollow noreferrer\">link</a> it works when I try to parse data from json, and both json's looks same. ( at this one I do not have access to PHP file)</p>\n\n<p>I did json print as usually, like this:</p>\n\n<pre><code>$myJson = ['op'=&gt;true,'msg'=&gt;'','data'=&gt;['pages'=&gt;3538,'page'=&gt;(int)$stranica,'news'=&gt;$api]];\n        print_r(json_encode($myJson));\n</code></pre>\n\n<p>Is there any trick/hack about this? Am I missing something? </p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 4132922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/116514ee1122866ad4817574ae9e2190?s=128&d=identicon&r=PG&f=1", "display_name": "evan", "link": "https://stackoverflow.com/users/4132922/evan"}, "edited": false, "score": 0, "creation_date": 1587150737, "post_id": 55367186, "comment_id": 108406347, "body": "The dart analyzer was confused. Relaunching android studio fixed the problem. Wasn&#39;t a low spec issue. Was running off a a brand new expensive mac at the time. This will help others though"}], "tags": [], "owner": {"reputation": 5165, "user_id": 9374465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4885599304ccdac5fc24aea1bac2d4?s=128&d=identicon&r=PG&f=1", "display_name": "Mazin Ibrahim", "link": "https://stackoverflow.com/users/9374465/mazin-ibrahim"}, "is_accepted": true, "score": 1, "last_activity_date": 1553639967, "creation_date": 1553639967, "answer_id": 55367186, "question_id": 55367063, "link": "https://stackoverflow.com/questions/55367063/response-isnt-a-type-cannot-and-expected-to-find/55367186#55367186", "title": "Response isn&#39;t a type, cannot and expected to find &#39;;&#39;", "body": "<p>This problem happens in Computers with low specs which makes android studio take time to recognize new input. Waiting will fix the issue, and you can speed this \"recognition\" process by clicking on the type <code>Response</code> in you case which will make the editor focus on it. And also add parenthesis and commas in correct way before adding new code as <code>Dart Analyzer</code> will quickly get confused and fill your editor with error messages. </p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 13142881, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-c5oaqHGv8y8/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJMkZjzqDs9RztWWx2T8v9xOhC8Okw/photo.jpg?sz=128", "display_name": "Yvon Manzi", "link": "https://stackoverflow.com/users/13142881/yvon-manzi"}, "is_accepted": false, "score": 1, "last_activity_date": 1585418081, "creation_date": 1585418081, "answer_id": 60904691, "question_id": 55367063, "link": "https://stackoverflow.com/questions/55367063/response-isnt-a-type-cannot-and-expected-to-find/60904691#60904691", "title": "Response isn&#39;t a type, cannot and expected to find &#39;;&#39;", "body": "<p>I encountered the same issue, and I found that rerunning <code>flutter pub get</code> helped as that command makes sure the Http library gets downloaded.</p>\n"}], "owner": {"reputation": 51, "user_id": 4132922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/116514ee1122866ad4817574ae9e2190?s=128&d=identicon&r=PG&f=1", "display_name": "evan", "link": "https://stackoverflow.com/users/4132922/evan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 55367186, "answer_count": 2, "score": 0, "last_activity_date": 1585418081, "creation_date": 1553639284, "question_id": 55367063, "link": "https://stackoverflow.com/questions/55367063/response-isnt-a-type-cannot-and-expected-to-find", "title": "Response isn&#39;t a type, cannot and expected to find &#39;;&#39;", "body": "<p>I'm trying to send a post request within dart with the following code.</p>\n\n<pre><code>Future&lt;Response&gt; post (url,\n        {\n        headers,  // My Map&lt;String, String&gt; for header info\n        body      // My Map&lt;String, String&gt; for body info\n        })\n    return JSON.jsonDecode(post);\n</code></pre>\n\n<p>I expect it to send, however, I get two errors.\n<code>The name response isn't a type, and cant be used as a type argument</code>, when I hover over \"Response\" and\n<code>expected to find ;</code>, when I hover over \"post\".\nI also get green underlining in android studio saying <code>avoid unnecessary statements</code></p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 345, "user_id": 5734049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc4991f08f83ec8747f598b3bf7e636?s=128&d=identicon&r=PG", "display_name": "adrianvintu", "link": "https://stackoverflow.com/users/5734049/adrianvintu"}, "edited": false, "score": 0, "creation_date": 1586700381, "post_id": 55374072, "comment_id": 108218221, "body": "I just checked the tickets, 1 year and still no fix. (I have the same issue)"}], "tags": [], "owner": {"reputation": 5873, "user_id": 9126253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x5jDp.jpg?s=128&g=1", "display_name": "NiklasPor", "link": "https://stackoverflow.com/users/9126253/niklaspor"}, "is_accepted": true, "score": 3, "last_activity_date": 1553680329, "last_edit_date": 1553680329, "creation_date": 1553679860, "answer_id": 55374072, "question_id": 55366965, "link": "https://stackoverflow.com/questions/55366965/text-cursor-handle-stays-blue/55374072#55374072", "title": "Text Cursor Handle stays Blue", "body": "<p>Sadly, it is currently <a href=\"https://github.com/flutter/flutter/issues/20219#issuecomment-415760402\" rel=\"nofollow noreferrer\">not possible</a> to change the <code>textSelectionHandleColor</code> of a <code>TextField</code> by modifying its parent <code>Theme</code>. The only <code>Theme</code> that changes the <code>textSelectionHandleColor</code> is the <code>Theme</code> directly inside the <code>MaterialApp</code> (<a href=\"https://github.com/flutter/flutter/issues/20219#issuecomment-415760402\" rel=\"nofollow noreferrer\">source</a>).</p>\n\n<p>Issue on GitHub: <a href=\"https://github.com/flutter/flutter/issues/20219\" rel=\"nofollow noreferrer\">textSelectionHandleColor is not working/changing. #20219</a></p>\n\n<p>The reason this problem exists is that the handles are rendered inside an <a href=\"https://docs.flutter.io/flutter/widgets/Overlay-class.html\" rel=\"nofollow noreferrer\">Overlay</a>. The <code>Overlay</code> is not a child from the <code>TextField</code>, but instead always a child of the <code>MaterialApp</code>. Here is a failed try from another developer to solve the problem: <a href=\"https://github.com/flutter/flutter/pull/22026\" rel=\"nofollow noreferrer\">textSelectionHandleColor taken from parent's context. Fixes #20219</a></p>\n\n<hr>\n\n<p>Therefore you can currently only adjust the <code>MaterialApp</code> inside your application:</p>\n\n<p><a href=\"https://i.stack.imgur.com/MmCWF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MmCWF.png\" alt=\"Demo\"></a></p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      theme: Theme.of(context).copyWith(textSelectionHandleColor: Colors.red),\n      home: Scaffold(\n        body: Center(\n          child: TextField(\n            autofocus: true,\n          ),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 55374072, "answer_count": 1, "score": 2, "last_activity_date": 1553680329, "creation_date": 1553638525, "question_id": 55366965, "link": "https://stackoverflow.com/questions/55366965/text-cursor-handle-stays-blue", "title": "Text Cursor Handle stays Blue", "body": "<p>I tried <code>cursorColor</code> and wrapping the <code>TextField</code> in a <code>Theme</code> where <code>textSelectionHandleColor</code> and <code>textSelectionColor</code> are set to whatever colors, however, the <em>text cursor <strong>stays blue</em></strong>.</p>\n\n<p><img src=\"https://i.stack.imgur.com/FWkVI.png\" alt=\"\">\n<img src=\"https://i.stack.imgur.com/SBO40.png\" alt=\"\"></p>\n\n<p>To be clear, I am talking about <em>the handle</em>. None of the following adjust it for me:</p>\n\n<ul>\n<li><p><a href=\"https://github.com/flutter/flutter/issues/14598\" rel=\"nofollow noreferrer\">https://github.com/flutter/flutter/issues/14598</a></p></li>\n<li><p><a href=\"https://github.com/flutter/flutter/issues/15571\" rel=\"nofollow noreferrer\">https://github.com/flutter/flutter/issues/15571</a></p></li>\n</ul>\n"}, {"tags": ["scroll", "dart", "flutter", "tabs", "tabview"], "comments": [{"owner": {"reputation": 59214, "user_id": 666221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1VBx.jpg?s=128&g=1", "display_name": "diegoveloper", "link": "https://stackoverflow.com/users/666221/diegoveloper"}, "edited": false, "score": 0, "creation_date": 1553660536, "post_id": 55366719, "comment_id": 97462377, "body": "you could remove withOpacity  : greenColor.withOpacity(0.6)"}, {"owner": {"reputation": 97, "user_id": 9741539, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cvlVHYbfUns/AAAAAAAAAAI/AAAAAAAAALg/JQLYK0YH_BI/photo.jpg?sz=128", "display_name": "lucas britto", "link": "https://stackoverflow.com/users/9741539/lucas-britto"}, "reply_to_user": {"reputation": 59214, "user_id": 666221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1VBx.jpg?s=128&g=1", "display_name": "diegoveloper", "link": "https://stackoverflow.com/users/666221/diegoveloper"}, "edited": false, "score": 0, "creation_date": 1553692158, "post_id": 55366719, "comment_id": 97478106, "body": "@diegoveloper i put the opacity just to show the problem, the contents is going to behind the app bar and needs to stop when the header stops to being collapsed, the right way is to go behind when the content of the page will be larger than the space, can you understand ? I&#39;m sorry for english mistakes, i&#39;m not fluently"}], "owner": {"reputation": 97, "user_id": 9741539, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cvlVHYbfUns/AAAAAAAAAAI/AAAAAAAAALg/JQLYK0YH_BI/photo.jpg?sz=128", "display_name": "lucas britto", "link": "https://stackoverflow.com/users/9741539/lucas-britto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1553637097, "creation_date": 1553637097, "question_id": 55366719, "link": "https://stackoverflow.com/questions/55366719/how-can-i-prevent-that-scroll-offset-be-bigger-than-view-content-nestedscrollvi", "title": "How can i prevent that scroll offset be bigger than view content (NestedScrollView and TabBarView)", "body": "<p>I'm using slivers to get a animated page with a header collapsable and a TabView body, but the offset of scroll is considering the fully page. What i need to do to get the right offset ? I'm putting an example about what happens.</p>\n\n<p>I'm using flutter 1.2.1</p>\n\n<pre><code>    NestedScrollView(\n      controller: _scrollController,\n      headerSliverBuilder: (BuildContext context, bool innerBoxIsScrolled) {\n        return [\n          SliverAppBar(\n            pinned: true,\n            backgroundColor: greenColor.withOpacity(0.6),\n            flexibleSpace: FlexibleSpaceBar(\n              collapseMode: CollapseMode.pin,\n              background: _buildHeader(context),\n            ),\n            expandedHeight: 300.0,\n            bottom: _buildTabBar(),\n          )\n        ];\n      },\n      body: _buildTabView(context),\n    )\n</code></pre>\n\n<p>I expect the offset stops when the header stops of being collapsed</p>\n\n<p><a href=\"https://i.stack.imgur.com/iPt84.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iPt84.gif\" alt=\"NestedScroll example\"></a></p>\n"}, {"tags": ["dart", "flutter", "sqflite"], "answers": [{"tags": [], "owner": {"reputation": 9865, "user_id": 1383790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dc76f4af9ec383cd18134c6c7f24a6b?s=128&d=identicon&r=PG", "display_name": "Simon", "link": "https://stackoverflow.com/users/1383790/simon"}, "is_accepted": false, "score": 1, "last_activity_date": 1560770529, "creation_date": 1560770529, "answer_id": 56630270, "question_id": 55366542, "link": "https://stackoverflow.com/questions/55366542/unhandled-exception-type-string-is-not-a-subtype-of-type-double-sqflite/56630270#56630270", "title": "Unhandled Exception: type &#39;String&#39; is not a subtype of type &#39;double&#39; SQFlite", "body": "<p>Your correct in doing <code>double.parse</code>, you just need to do it in your <code>fromMap</code> constructor.</p>\n\n<pre><code>latitude = map[columnLatitude] is String ? double.parse(map[columnLatitude]) : map[columnLatitude];\nlongitude = map[columnlongitude] is String ? double.parse(map[columnlongitude]) : map[columnlongitude];\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 4499934, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/2b8e73989d9430a49e99b59f5e9487a0?s=128&d=identicon&r=PG&f=1", "display_name": "pu4cu", "link": "https://stackoverflow.com/users/4499934/pu4cu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3780, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560770529, "creation_date": 1553636067, "last_edit_date": 1553643330, "question_id": 55366542, "link": "https://stackoverflow.com/questions/55366542/unhandled-exception-type-string-is-not-a-subtype-of-type-double-sqflite", "title": "Unhandled Exception: type &#39;String&#39; is not a subtype of type &#39;double&#39; SQFlite", "body": "<p>I am trying to save some JSON data into a local database using SQFlite. I'm trying to save <code>int id, String parkingSpot, double latitude, double longitude</code></p>\n\n<p>All goes well when saving, however, when trying to read all the saved data, I get this exception: <code>Unhandled Exception: type 'String' is not a subtype of type 'double'</code></p>\n\n<p>It points to this code:\n<code>maps.forEach((map) =&gt; spots.add(ParkingSpot.fromMap(map)));</code>\n<code>latitude = map[columnLatitude];</code></p>\n\n<p>database_helpers.dart</p>\n\n<pre><code>// data model class\nclass ParkingSpot {\n\n  int id;\n  String parkingSpot;\n  double latitude;\n  double longitude;\n\n  ParkingSpot();\n\n  // convenience constructor to create a ParkingSpot object\n  ParkingSpot.fromMap(Map&lt;String, dynamic&gt; map) {\n    id = map[columnId];\n    parkingSpot = map[columnParkingSpot];\n    latitude = map[columnLatitude];\n    longitude = map[columnlongitude];\n  }\n\n  // convenience method to create a Map from this ParkingSpot object\n  Map&lt;String, dynamic&gt; toMap() {\n    var map = &lt;String, dynamic&gt;{\n      columnParkingSpot: parkingSpot,\n      columnLatitude: latitude,\n      columnlongitude:longitude\n    };\n    if (id != null) {\n      map[columnId] = id;\n    }\n    return map;\n  }\n}\n\n</code></pre>\n\n<pre><code>class Databasehelper\n...\n\nFuture&lt;List&lt;ParkingSpot&gt;&gt; queryAllParkingSpots() async {\n    Database db = await database;\n    List&lt;Map&gt; maps = await db.query(tableParkingSpots);\n\n    if (maps.length &gt; 0) {\n      List&lt;ParkingSpot&gt; spots = [];\n      maps.forEach((map) =&gt; spots.add(ParkingSpot.fromMap(map)));\n      return spots;\n    }\n    return null;\n  }\n</code></pre>\n\n<p>main.dart</p>\n\n<pre><code>  void _read() async {\n    DatabaseHelper helper = DatabaseHelper.instance;\n    final spots = await helper.queryAllParkingSpots();\n    print(spots);\n    if (spots != null) {\n      spots.forEach((spot) {\n        print('row ${spot.id}: ${spot.parkingSpot}');\n      });\n    }\n  }\n\n  _save(String spotName, lat, lng) async {\n    if(lat != null &amp;&amp; lng != null) {\n      saved = true;\n      ParkingSpot spot = ParkingSpot();\n      // lat == double.parse(lat.toString());\n      // lng == double.parse(lng.toString());\n      spot.parkingSpot = spotName;\n      spot.latitude = lat;\n      spot.longitude = lng;\n      DatabaseHelper helper = DatabaseHelper.instance;\n      int id = await helper.insert(spot);\n      print('inserted row: $id');\n    } else {\n      print('cannot insert it');\n    }\n  }\n</code></pre>\n\n<p>I have tried to convert the doubles to Strings, using <code>lat == double.parse(lat.toString());</code>, but that throws the same exception.</p>\n\n<p>I cannot seem to find and fix the issue.</p>\n"}, {"tags": ["firebase", "dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 372, "user_id": 9988882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S732n.png?s=128&g=1", "display_name": "Pierre Le Brun", "link": "https://stackoverflow.com/users/9988882/pierre-le-brun"}, "edited": false, "score": 0, "creation_date": 1553632830, "post_id": 55365305, "comment_id": 97455299, "body": "Thanks for your answer DevTard, Iam fixed now."}], "tags": [], "owner": {"reputation": 346, "user_id": 3460815, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3HECYFQXNjY/AAAAAAAAAAI/AAAAAAAAIcU/6fTu9v8xwZ8/photo.jpg?sz=128", "display_name": "DevTard", "link": "https://stackoverflow.com/users/3460815/devtard"}, "is_accepted": true, "score": 1, "last_activity_date": 1553630240, "creation_date": 1553630240, "answer_id": 55365305, "question_id": 55365250, "link": "https://stackoverflow.com/questions/55365250/it-is-possible-to-add-more-field-in-a-email-password-auth-with-firebase-and-flut/55365305#55365305", "title": "It is possible to add more field in a email/password auth with firebase and flutter?", "body": "<p>The only way to do this would be to store this data (not the password) directly in the database. There is no other way of adding more details to a user record.</p>\n\n<p>You also need to make sure you inform the user how you will be using/storing this data due to GDPR.</p>\n"}], "owner": {"reputation": 372, "user_id": 9988882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S732n.png?s=128&g=1", "display_name": "Pierre Le Brun", "link": "https://stackoverflow.com/users/9988882/pierre-le-brun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 55365305, "answer_count": 1, "score": -1, "last_activity_date": 1553634465, "creation_date": 1553630000, "last_edit_date": 1553634465, "question_id": 55365250, "link": "https://stackoverflow.com/questions/55365250/it-is-possible-to-add-more-field-in-a-email-password-auth-with-firebase-and-flut", "title": "It is possible to add more field in a email/password auth with firebase and flutter?", "body": "<p>I am using Flutter and I decided to use Firebase. My authentification works with email/password but I need to register my users with more than just an email/password (name,age...).</p>\n\n<p>I would like to add more fields when the user registers. Is this possible?</p>\n\n<p><strong>I found 2 solutions :</strong></p>\n\n<ul>\n<li>Its possible to register a user with more fields</li>\n<li>Create a collection which contains all my users id with their infos</li>\n</ul>\n"}, {"tags": ["dart", "flutter", "visible"], "answers": [{"comments": [{"owner": {"reputation": 2759, "user_id": 4593315, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NTfes.jpg?s=128&g=1", "display_name": "Tirth Patel", "link": "https://stackoverflow.com/users/4593315/tirth-patel"}, "edited": false, "score": 1, "creation_date": 1553628595, "post_id": 55364757, "comment_id": 97453512, "body": "Instead of <code>tcVisibility = false;</code>, it should be <code>tcVisibility = true;</code> in else clause."}], "tags": [], "owner": {"reputation": 346, "user_id": 3460815, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3HECYFQXNjY/AAAAAAAAAAI/AAAAAAAAIcU/6fTu9v8xwZ8/photo.jpg?sz=128", "display_name": "DevTard", "link": "https://stackoverflow.com/users/3460815/devtard"}, "is_accepted": true, "score": 4, "last_activity_date": 1553629248, "last_edit_date": 1553629248, "creation_date": 1553627920, "answer_id": 55364757, "question_id": 55364480, "link": "https://stackoverflow.com/questions/55364480/making-a-text-widget-visible-after-button-click/55364757#55364757", "title": "Making a Text Widget visible after button click", "body": "<p>The only way to do this in flutter is to create a variable</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>var tcVisibility = false\n</code></pre>\n\n<p>set the visibility of the text box to the variable </p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Visibility(\n     visible: tcVisibility,\n     child: Text(\n     'Please accept Terms &amp; Conditions!',\n     style: TextStyle(color: Colors.red),\n)),\n</code></pre>\n\n<p>then in the code update the variable </p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>if(_acceptTerms) {\n     Navigator.pushReplacementNamed(context, '/products');\n} else {\n    setState(() {\n         tcVisibility = true;\n    });\n}\n</code></pre>\n\n<p>Answer Updated</p>\n"}], "owner": {"reputation": 131, "user_id": 6607935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zZgss.png?s=128&g=1", "display_name": "Milie", "link": "https://stackoverflow.com/users/6607935/milie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1600, "favorite_count": 0, "accepted_answer_id": 55364757, "answer_count": 1, "score": 2, "last_activity_date": 1553629248, "creation_date": 1553626714, "question_id": 55364480, "link": "https://stackoverflow.com/questions/55364480/making-a-text-widget-visible-after-button-click", "title": "Making a Text Widget visible after button click", "body": "<p>I have a basic login page that consists of an 'email', 'password' and a 'SwitchListTile' (Switch) that users will select to confirm reading of legal documents. On 'Login', I would like the 'Text' to show. Default is invisible.</p>\n\n<p>I implemented the visibility of the Text using the 'Visibility' class. Now I would like to make it visible using an 'if-else' check. </p>\n\n<pre><code>        SwitchListTile(\n          value: _acceptTerms,\n          onChanged: (bool value) {\n            setState(() {\n              _acceptTerms = value;\n            });\n          },\n          title: Text('Accept T&amp;Cs'),\n        ),\n        SizedBox(height: 5.0),\n        Visibility(\n            visible: false,\n            child: Text(\n              'Please accept Terms &amp; Conditions!',\n              style: TextStyle(color: Colors.red),\n            )),\n        SizedBox(\n          height: 10.0,\n        ),\n        RaisedButton(\n          color: Theme.of(context).primaryColor,\n          textColor: Colors.white,\n          child: Text('LOGIN'),\n          onPressed: () {\n            print(_emailValue);\n            print(_passwordValue);\n            if(_acceptTerms) {\n              Navigator.pushReplacementNamed(context, '/products');\n            } else {\n              //code to make invisible text visible\n            }\n          },\n        ),\n</code></pre>\n\n<p>I'm still new to Flutter and Dart development. Thanks.</p>\n"}, {"tags": ["dart", "flutter", "flutter-animation"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1553625532, "post_id": 55364049, "comment_id": 97452134, "body": "see <code>CurvedAnimation</code>"}, {"owner": {"reputation": 397, "user_id": 6223107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa28c745f400f0182a203f6439ace04c?s=128&d=identicon&r=PG&f=1", "display_name": "hello_friend", "link": "https://stackoverflow.com/users/6223107/hello-friend"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1553625899, "post_id": 55364049, "comment_id": 97452282, "body": "I have seen the CurvedAnimation class but I can&#39;t figure out how to properly include it in my code."}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1553625971, "post_id": 55364049, "comment_id": 97452323, "body": "instead of <code>_controller.addListener</code> use <code>_curvedAnimation.addListener</code> ?"}], "answers": [{"comments": [{"owner": {"reputation": 397, "user_id": 6223107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa28c745f400f0182a203f6439ace04c?s=128&d=identicon&r=PG&f=1", "display_name": "hello_friend", "link": "https://stackoverflow.com/users/6223107/hello-friend"}, "edited": false, "score": 0, "creation_date": 1553630760, "post_id": 55365126, "comment_id": 97454435, "body": "Thanks this worked! Do you know how I can have the container start at a width of 150.0 by 150.0 before any animation has been triggered? Right now it starts at a scale of 0.5, not 1.0."}, {"owner": {"reputation": 1143, "user_id": 6570670, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/86081dc1633839e08c29ebb00bf6fbcd?s=128&d=identicon&r=PG&f=1", "display_name": "R. Duggan", "link": "https://stackoverflow.com/users/6570670/r-duggan"}, "reply_to_user": {"reputation": 397, "user_id": 6223107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa28c745f400f0182a203f6439ace04c?s=128&d=identicon&r=PG&f=1", "display_name": "hello_friend", "link": "https://stackoverflow.com/users/6223107/hello-friend"}, "edited": false, "score": 0, "creation_date": 1553630882, "post_id": 55365126, "comment_id": 97454492, "body": "You could swap the <code>begin</code> and <code>end</code> parameters within the <code>scaleAnimation</code>. This would make the scale start at <code>1.0</code> and get smaller and bigger. Hope this helps!"}, {"owner": {"reputation": 397, "user_id": 6223107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa28c745f400f0182a203f6439ace04c?s=128&d=identicon&r=PG&f=1", "display_name": "hello_friend", "link": "https://stackoverflow.com/users/6223107/hello-friend"}, "edited": false, "score": 0, "creation_date": 1553631626, "post_id": 55365126, "comment_id": 97454788, "body": "Sorry I must not have been clear enough. I want the animation to go from the scale of 0.5 to 1.0 every time the container is tapped. However when the app is first launched the container starts at a scale of 0.5, I want it to start at a scale of 1.0 and then when tapped jump straight to scale 0.5 and animate up to scale 1.0. Is this possible? Thanks again for your help."}, {"owner": {"reputation": 1143, "user_id": 6570670, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/86081dc1633839e08c29ebb00bf6fbcd?s=128&d=identicon&r=PG&f=1", "display_name": "R. Duggan", "link": "https://stackoverflow.com/users/6570670/r-duggan"}, "reply_to_user": {"reputation": 397, "user_id": 6223107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa28c745f400f0182a203f6439ace04c?s=128&d=identicon&r=PG&f=1", "display_name": "hello_friend", "link": "https://stackoverflow.com/users/6223107/hello-friend"}, "edited": false, "score": 0, "creation_date": 1553631969, "post_id": 55365126, "comment_id": 97454928, "body": "@hello_friend It might be possible.... you would have to set <i>both</i> the <code>begin</code> and <code>end</code> parameters to 1.0, and then have your curve be part of a <code>sin(x)</code> curve. Even then, however, the animation would not jump from being at 1.0 to being at 0.5 instantly. Potentially you could have a conditional statement where the widget is, where if a boolean is true then it display a 1.0 scale of the container, then when you click the button it would set it to false, changing the widget to a widget of scale 0.5 and then run the animation on that widget. Let me know if you need me to add that to my answer."}, {"owner": {"reputation": 397, "user_id": 6223107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa28c745f400f0182a203f6439ace04c?s=128&d=identicon&r=PG&f=1", "display_name": "hello_friend", "link": "https://stackoverflow.com/users/6223107/hello-friend"}, "edited": false, "score": 0, "creation_date": 1553632353, "post_id": 55365126, "comment_id": 97455108, "body": "That would be great if you added this to your answer."}], "tags": [], "owner": {"reputation": 1143, "user_id": 6570670, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/86081dc1633839e08c29ebb00bf6fbcd?s=128&d=identicon&r=PG&f=1", "display_name": "R. Duggan", "link": "https://stackoverflow.com/users/6570670/r-duggan"}, "is_accepted": true, "score": 14, "last_activity_date": 1553632866, "last_edit_date": 1553632866, "creation_date": 1553629400, "answer_id": 55365126, "question_id": 55364049, "link": "https://stackoverflow.com/questions/55364049/how-do-you-add-a-curves-class-animation-to-animationcontroller-in-flutter/55365126#55365126", "title": "How do you add a Curves class animation to AnimationController in Flutter?", "body": "<p>You'll want to use both an animation controller and a tween, which will allow you to add <code>Curves.bounceOut</code>.</p>\n\n<p>Somewhere in your code add:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>AnimationController _controller;\nvar scaleAnimation;\n</code></pre>\n\n<p>And in your <code>initState()</code> method:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>_controller = new AnimationController(\n duration: new Duration(milliseconds: 300),\n vsync: this\n)\n..addListener(() {\n  setState(() {});\n});\nscaleAnimation = new Tween(\n  begin: 0.5,\n  end: 1.0,\n).animate(new CurvedAnimation(\n  parent: _controller,\n  curve: Curves.bounceOut\n));\n</code></pre>\n\n<p>Note the <code>..addListener()</code> is a nice bit of dart code that allows you to add a listener easily. The Tween is basically telling your animation that it needs to go from the value in <code>begin</code> to the value in <code>end</code> within the timeframe given in the <code>AnimationController</code>. To use this value in your code you can now just set the scale of your result of your animation:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>child: Transform.scale(\n  scale: scaleAnimation.value,\n  child: Container(\n    width: 150.0,\n    height: 150.0,\n    color: Colors.green,\n  ),\n),\n</code></pre>\n\n<p>And when the animation is called it will then automatically update the scale of the container.</p>\n\n<p>Edit:</p>\n\n<p>Change your widget to this:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>child: isChanging ? Transform.scale(\n  scale: scaleAnimation.value,\n  child: Container(\n    width: 150.0,\n    height: 150.0,\n    color: Colors.green,\n  ),\n) : Transform.scale(\n  scale: 1.0,\n  child: Container(\n    width: 150.0,\n    height: 150.0,\n    color: Colors.green,\n  ),\n),\n</code></pre>\n\n<p>Keep your <code>begin</code> and <code>end</code> parameters as <code>0.5</code> and <code>1.0</code> respectively, but in your <code>onTap()</code> method before you forward your controller add:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>onTap: () {\n  setState(() {\n    isChanging = true\n  });\n  _controller.forward(from: 0.0);\n}\n</code></pre>\n\n<p>And anywhere in your code add the line <code>bool isChanging</code>. Finally you'll want to reset the shown widget at the end of your animation, so change your scaleAnimation to:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>child: Transform.scale(\n  scale: scaleAnimation.value,\n  child: Container(\n    width: 150.0,\n    height: 150.0,\n    color: Colors.green,\n  ),\n)..addStatusListener((AnimationStatus status) {\n  if (status == AnimationStatus.completed) { //the animation is finished\n    _controller.reset();\n    setState(() {\n      isChanging = false;\n    }\n  }\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 436, "user_id": 463029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74e9d898a84713648e5c35b0497cebde?s=128&d=identicon&r=PG", "display_name": "shawnblais", "link": "https://stackoverflow.com/users/463029/shawnblais"}, "is_accepted": false, "score": 0, "last_activity_date": 1608357621, "creation_date": 1608357621, "answer_id": 65367129, "question_id": 55364049, "link": "https://stackoverflow.com/questions/55364049/how-do-you-add-a-curves-class-animation-to-animationcontroller-in-flutter/65367129#65367129", "title": "How do you add a Curves class animation to AnimationController in Flutter?", "body": "<p>A more succinct way to do this is to just use <code>controller.drive()</code> and <code>CurveTween</code>:</p>\n<pre><code>anim = animController.drive(CurveTween(curve: Curves.easeOut));\n</code></pre>\n<p>Then use <code>anim.value</code> in your widget tree.</p>\n<p>Can also do this inline if you want:</p>\n<pre><code>Opacity(opacity: controller.drive(CurveTween(curve: Curves.easeOut)).value)\n</code></pre>\n"}], "owner": {"reputation": 397, "user_id": 6223107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa28c745f400f0182a203f6439ace04c?s=128&d=identicon&r=PG&f=1", "display_name": "hello_friend", "link": "https://stackoverflow.com/users/6223107/hello-friend"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8160, "favorite_count": 1, "accepted_answer_id": 55365126, "answer_count": 2, "score": 7, "last_activity_date": 1608357621, "creation_date": 1553625132, "question_id": 55364049, "link": "https://stackoverflow.com/questions/55364049/how-do-you-add-a-curves-class-animation-to-animationcontroller-in-flutter", "title": "How do you add a Curves class animation to AnimationController in Flutter?", "body": "<p>I'm trying to add the curves class animation 'Curves.bounceOut' to my code that uses an AnimationController.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: MyHomePage(),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  _MyHomePageState createState() =&gt; _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; with TickerProviderStateMixin {\n  var squareScale = 1.0;\n  static AnimationController _controller;\n\n  @override\n  void initState() {\n    _controller = AnimationController(\n        vsync: this,\n        lowerBound: 0.5,\n        upperBound: 1.0,\n        duration: Duration(milliseconds: 300));\n\n    _controller.addListener(() {\n      setState(() {\n        squareScale = _controller.value;\n      });\n    });\n\n    super.initState();\n  }\n\n  @override\n  void dispose() {\n    _controller.dispose();\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(\"Bounce Example\"),\n      ),\n      body: Stack(\n        children: &lt;Widget&gt;[\n          Container(\n            width: 150.0,\n            height: 150.0,\n            color: Colors.yellowAccent,\n          ),\n          Column(\n            children: &lt;Widget&gt;[\n              Row(\n                children: &lt;Widget&gt;[\n                  GestureDetector(\n                    onTap: () {\n                      _controller.forward(from: 0.0);\n                    },\n                    child: Transform.scale(\n                      scale: squareScale,\n                      child: Container(\n                        width: 150.0,\n                        height: 150.0,\n                        color: Colors.green,\n                      ),\n                    ),\n                  ),\n                ],\n              ),\n            ],\n          ),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>Currently the green container animates from 0.5 scale to 1.0 scale but does not bounce. How can I add the 'Curves.bounceOut' animation so the container bounces when tapped?</p>\n\n<p>Thanks in advance for any help!</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 10642450, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "chitharu 007", "link": "https://stackoverflow.com/users/10642450/chitharu-007"}, "edited": false, "score": 1, "creation_date": 1553630936, "post_id": 55365370, "comment_id": 97454518, "body": "there is no way to generate ethereum hd wallet using ethereum 4.0.1 package"}, {"owner": {"reputation": 1143, "user_id": 6570670, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/86081dc1633839e08c29ebb00bf6fbcd?s=128&d=identicon&r=PG&f=1", "display_name": "R. Duggan", "link": "https://stackoverflow.com/users/6570670/r-duggan"}, "reply_to_user": {"reputation": 21, "user_id": 10642450, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "chitharu 007", "link": "https://stackoverflow.com/users/10642450/chitharu-007"}, "edited": false, "score": 1, "creation_date": 1553631056, "post_id": 55365370, "comment_id": 97454564, "body": "@chitharu007 have you tried <code>web3dart 0.4.5</code>? If that doesn&#39;t work then I&#39;m afraid there aren&#39;t any more packages that currently implement Ethereum HD wallets"}, {"owner": {"reputation": 21, "user_id": 10642450, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "chitharu 007", "link": "https://stackoverflow.com/users/10642450/chitharu-007"}, "edited": false, "score": 1, "creation_date": 1553631081, "post_id": 55365370, "comment_id": 97454573, "body": "tell me if you know any way to generate Ethereum address using mnemonic or privatekey in flutter"}], "tags": [], "owner": {"reputation": 1143, "user_id": 6570670, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/86081dc1633839e08c29ebb00bf6fbcd?s=128&d=identicon&r=PG&f=1", "display_name": "R. Duggan", "link": "https://stackoverflow.com/users/6570670/r-duggan"}, "is_accepted": false, "score": 2, "last_activity_date": 1553630487, "creation_date": 1553630487, "answer_id": 55365370, "question_id": 55363842, "link": "https://stackoverflow.com/questions/55363842/ethereum-hd-wallet-implementation-in-flutter-is-there-any-library-in-flutter/55365370#55365370", "title": "Ethereum HD Wallet implementation in Flutter, is there any library in Flutter?", "body": "<p>You can give the <code>ethereum 4.0.1</code> package a go, found <a href=\"https://pub.dartlang.org/packages/ethereum\" rel=\"nofollow noreferrer\">here</a>. It currently implements most of the Ethereum api's and some of the Admin api's.</p>\n"}, {"tags": [], "owner": {"reputation": 66, "user_id": 5919971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c914ca6115a45076c8f9776b369ae5ff?s=128&d=identicon&r=PG", "display_name": "Allan Clempe", "link": "https://stackoverflow.com/users/5919971/allan-clempe"}, "is_accepted": false, "score": 1, "last_activity_date": 1565875016, "creation_date": 1565875016, "answer_id": 57510250, "question_id": 55363842, "link": "https://stackoverflow.com/questions/55363842/ethereum-hd-wallet-implementation-in-flutter-is-there-any-library-in-flutter/57510250#57510250", "title": "Ethereum HD Wallet implementation in Flutter, is there any library in Flutter?", "body": "<p>I have built a digital wallet in flutter using web3dart (<a href=\"https://pub.dev/packages/web3dart\" rel=\"nofollow noreferrer\">https://pub.dev/packages/web3dart</a>) library , checkout this <a href=\"https://github.com/allanclempe/ether-wallet-flutter\" rel=\"nofollow noreferrer\">https://github.com/allanclempe/ether-wallet-flutter</a>\nThat is a simple implementation how to generate private and public key from mnemonic, get contract balance and transfer tokens. </p>\n"}], "owner": {"reputation": 21, "user_id": 10642450, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "chitharu 007", "link": "https://stackoverflow.com/users/10642450/chitharu-007"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1082, "favorite_count": 2, "answer_count": 2, "score": 1, "last_activity_date": 1565875016, "creation_date": 1553624291, "last_edit_date": 1553633162, "question_id": 55363842, "link": "https://stackoverflow.com/questions/55363842/ethereum-hd-wallet-implementation-in-flutter-is-there-any-library-in-flutter", "title": "Ethereum HD Wallet implementation in Flutter, is there any library in Flutter?", "body": "<p><strong>Are there any existing libraries in flutter to create Ethereum HD wallet?<br></strong>\nI have used ethereumjs-wallet npm package to generate a unique wallet address in node.js<br></p>\n\n<pre><code>var hdkey = require('ethereumjs-wallet/hdkey');\nvar extPubKey = 'xpub7njbhgvjhiuiUoTXAL56JpQYLq5FyXaZypJiKdsAbHKzMUQsSiJTNSMnBtYYRXxda9C6fUx6mMMqatUDNFSKxxXcpBckijohuWiQN8p5';\nvar hdwallet = hdkey.fromExtendedKey(extPubKey);\nvar wallet = hdwallet.getWallet();\nvar address = wallet.getAddress();\nconsole.log(`Eth Address: 0x${address.toString('hex')}`);\n</code></pre>\n\n<blockquote>\n  <p>I want to use the above script in flutter but <strong>ethereumjs-wallet</strong> library is not available in flutter libraries.</p>\n</blockquote>\n"}, {"tags": ["dart", "dart-io"], "answers": [{"comments": [{"owner": {"reputation": 1762, "user_id": 1806969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kv9ip.jpg?s=128&g=1", "display_name": "Matija", "link": "https://stackoverflow.com/users/1806969/matija"}, "edited": false, "score": 0, "creation_date": 1553627520, "post_id": 55363899, "comment_id": 97453053, "body": "Thanks @Richard! Yeah, its intuitive, &lt;Cookie&gt; is a List, and List has add method! Still wrapping my head around Dart, looks really good for now! Thanks again!"}], "tags": [], "owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "is_accepted": true, "score": 1, "last_activity_date": 1553624491, "creation_date": 1553624491, "answer_id": 55363899, "question_id": 55363341, "link": "https://stackoverflow.com/questions/55363341/adding-cookies-with-dart-server/55363899#55363899", "title": "Adding cookies with Dart server?", "body": "<p><code>request.response.cookies</code> is a <code>List&lt;Cookie&gt;</code>, so you'll want to <code>add</code> to it (rather than assign it with equals).</p>\n\n<p>Try:</p>\n\n<pre><code>request.response.cookies.add(Cookie('name', 'value'));\n</code></pre>\n"}], "owner": {"reputation": 1762, "user_id": 1806969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kv9ip.jpg?s=128&g=1", "display_name": "Matija", "link": "https://stackoverflow.com/users/1806969/matija"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 55363899, "answer_count": 1, "score": 0, "last_activity_date": 1553624491, "creation_date": 1553622334, "last_edit_date": 1553623013, "question_id": 55363341, "link": "https://stackoverflow.com/questions/55363341/adding-cookies-with-dart-server", "title": "Adding cookies with Dart server?", "body": "<p>So I have a simple HttpServer like this:</p>\n\n<pre><code>import 'dart:io';\nmain() {\n    HttpServer\n        .bind(\"127.0.0.1\", 80)\n        .then((server) {\n            server.listen((request) {             \n                // Add cookie here how?                \n                request.response.write(\"Howdy Darty cowboy!\");\n                request.response.close();\n            });\n        });    \n}\n</code></pre>\n\n<p>Is there a way to add cookies to the HttpResponse in Dart? \nI can see both <code>HttpResponse</code> and <code>HttpRequest</code> classes have <code>cookies</code> properties and I can access them, but I can't seem to figure out how to add a cookie.</p>\n\n<p>Tried this: </p>\n\n<pre><code>request.response.cookies = [\"name\", \"value\"];\n</code></pre>\n\n<p>But got this error:</p>\n\n<pre><code>Error: The setter 'cookies' isn't defined for the class 'HttpResponse'. \n</code></pre>\n\n<p>So there are no predefined methods to work with cookies? \nDo I have to add my own HTTP Headers to add cookies?\nAgain, I can see headers properties in both classes, but no setters or getters! </p>\n\n<p>Just started playing around with Dart.</p>\n\n<p>Note: Please don't link me external packages, I would like to do it with Dart's core libraries. Don't want to get into another npm hell! Moved away from Node.js cause of <code>npm</code>, but looks like <code>pub</code> is identical, just uses yaml.</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 1143, "user_id": 6570670, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/86081dc1633839e08c29ebb00bf6fbcd?s=128&d=identicon&r=PG&f=1", "display_name": "R. Duggan", "link": "https://stackoverflow.com/users/6570670/r-duggan"}, "is_accepted": false, "score": 1, "last_activity_date": 1553630677, "creation_date": 1553630677, "answer_id": 55365421, "question_id": 55362251, "link": "https://stackoverflow.com/questions/55362251/how-to-generate-ethereum-address-in-flutter/55365421#55365421", "title": "How to generate Ethereum address in flutter?", "body": "<p>You could try and use a flutter package for Ethereum known as <code>ethereum 4.0.1</code> which can be found <a href=\"https://pub.dartlang.org/packages/ethereum\" rel=\"nofollow noreferrer\">here</a>. It may have what you are looking for, but if it doesn't it is because it is still currently in development, but it does implement most of the standard Ethereum api's</p>\n"}], "owner": {"reputation": 2355, "user_id": 9042365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uf01i.jpg?s=128&g=1", "display_name": "Ishwar Chandra Tiwari", "link": "https://stackoverflow.com/users/9042365/ishwar-chandra-tiwari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 599, "favorite_count": 3, "answer_count": 1, "score": 3, "last_activity_date": 1590214874, "creation_date": 1553618606, "last_edit_date": 1590214874, "question_id": 55362251, "link": "https://stackoverflow.com/questions/55362251/how-to-generate-ethereum-address-in-flutter", "title": "How to generate Ethereum address in flutter?", "body": "<p>Here is the script to generate Ethereum address in Node.JS<br></p>\n\n<blockquote>\n  <p><strong>How can i use the below script in Flutter to generate Ethereum address?</strong></p>\n</blockquote>\n\n<pre><code>    const hdwallet = hdkey.fromMasterSeed(seed); // used bip39 to get seed\n    const itsMyWallet = hdwallet.derivePath(\"m/44'/60'/0'/0\").getWallet();\n\n    console.log(`Address: ${itsMyWallet.getAddressString()}`);\n    console.log(`Private Key: ${itsMyWallet.getPrivateKeyString()}`);\n</code></pre>\n\n<p>I know how to generated mnemonic in flutter with bip39 package, some coding part i have added below,\n<strong>Problem is i am not getting ethereumjs-wallet/hdkey package in flutter packages</strong> </p>\n"}, {"tags": ["dart", "flutter", "bloc"], "answers": [{"comments": [{"owner": {"reputation": 1790, "user_id": 1936853, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/645c409be5ec708590c5d5ace154053d?s=128&d=identicon&r=PG", "display_name": "yoonhok", "link": "https://stackoverflow.com/users/1936853/yoonhok"}, "edited": false, "score": 0, "creation_date": 1553619219, "post_id": 55362283, "comment_id": 97448806, "body": "Thanks, it works! _getTodosSubject.sink.add(list); works too. Do you know what differences between these?"}], "tags": [], "owner": {"reputation": 654, "user_id": 7968076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd448f683ca8866af5252bc26871e7a1?s=128&d=identicon&r=PG&f=1", "display_name": "Ferdi", "link": "https://stackoverflow.com/users/7968076/ferdi"}, "is_accepted": true, "score": 1, "last_activity_date": 1553618714, "creation_date": 1553618714, "answer_id": 55362283, "question_id": 55362073, "link": "https://stackoverflow.com/questions/55362073/flutter-my-list-view-is-not-updated-when-i-modify-an-item/55362283#55362283", "title": "Flutter: My list view is not updated when I modify an item", "body": "<p>It's because you don't \"refresh\" your list after calling <code>getTodos()</code> here's the modification: </p>\n\n<pre><code>HomeBloc(this._todoRepository) {\n    _getTodos() //Remove the adding part it's done in the function\n\n    _doneTodoSubject.listen(_doneTodo);\n\n    _cancelTodoSubject.listen(_cancelTodo);\n  }\n\n  Future&lt;Null&gt; _getTodos() async {\n    await _todoRepository.getAll().then((list) {\n      _todos = list;\n      _getTodosSubject.add(list); //You can actually remove the buffer _todos object \n    });\n  }\n</code></pre>\n\n<p>As I mention in the comment you can remove the <code>_todos</code> buffer but I don't want to refract to much you code. </p>\n\n<p>With these few adjustents it's should work.\nHope it's help !!</p>\n"}], "owner": {"reputation": 1790, "user_id": 1936853, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/645c409be5ec708590c5d5ace154053d?s=128&d=identicon&r=PG", "display_name": "yoonhok", "link": "https://stackoverflow.com/users/1936853/yoonhok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2410, "favorite_count": 1, "accepted_answer_id": 55362283, "answer_count": 1, "score": 0, "last_activity_date": 1553618714, "creation_date": 1553618032, "last_edit_date": 1553618411, "question_id": 55362073, "link": "https://stackoverflow.com/questions/55362073/flutter-my-list-view-is-not-updated-when-i-modify-an-item", "title": "Flutter: My list view is not updated when I modify an item", "body": "<p>I am developing a 'todo' flutter app using BloC Architecture pattern.</p>\n\n<p>My 'Home' ui displays todo list, and user can click the item's button to change the status from \"todo\" to \"complete\".</p>\n\n<p>When an item is completed, it should display with another color distinct from other todos not completed.</p>\n\n<p>But when I click the \"complete\" button, the list view is not updated.</p>\n\n<p>Below is my UI code:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class HomePage extends StatelessWidget {\n  final TodoRepository _todoRepository;\n  final HomeBloc bloc;\n\n  HomePage(this._todoRepository) : this.bloc = HomeBloc(_todoRepository);\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Center(\n        child: StreamBuilder&lt;List&lt;Task&gt;&gt;(\n            stream: bloc.todos,\n            builder: (context, snapshot) {\n              return ListView(\n                children: snapshot.data.map(_buildItem).toList(),\n              );\n            }),\n      ),\n    );\n  }\n\n  Widget _buildItem(Todo todo) {\n    if (todo.complete) {\n      return completed(todo);\n    } else {\n      return inCompleted(todo);\n    }\n  }\n\n  Widget inCompleted(Todo todo) {\n    return MaterialButton(\n      textColor: Colors.white,\n      color: Colors.green,\n      child: Text(\"Complete\"),\n      onPressed: () {\n        bloc.done.add(todo);\n      }\n    );\n  }\n\n  Widget completed(Todo todo) {\n    return MaterialButton(\n      textColor: Colors.white,\n      color: Colors.red,\n      child: Text(\"Cancel\"),\n      onPressed: () {\n        bloc.done.add(todo);\n      }\n    );\n  }\n}\n\n</code></pre>\n\n<p>And here is my BloC class:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class HomeBloc {\n\n  final _getTodosSubject = PublishSubject&lt;List&lt;Todo&gt;&gt;();\n  final _doneTodoSubject = PublishSubject&lt;Todo&gt;();\n  final _cancelTodoSubject = PublishSubject&lt;Todo&gt;();\n\n  final TodoRepository _todoRepository;\n\n  var _todos = &lt;Todo&gt;[];\n\n  Stream&lt;List&lt;Todo&gt;&gt; get todos =&gt; _getTodosSubject.stream;\n\n  Sink&lt;Todo&gt; get done =&gt; _doneTodoSubject.sink;\n\n  Sink&lt;Todo&gt; get cancel =&gt; _doneTodoSubject.sink;\n\n  HomeBloc(this._todoRepository) {\n    _getTodos().then((_) {\n      _getTodosSubject.add(_todos);\n    });\n\n    _doneTodoSubject.listen(_doneTodo);\n\n    _cancelTodoSubject.listen(_cancelTodo);\n  }\n\n  Future&lt;Null&gt; _getTodos() async {\n    await _todoRepository.getAll().then((list) {\n      _todos = list;\n    });\n  }\n\n  void _doneTodo(Todo todo) {\n    todo.complete = true;\n    _update(todo);\n  }\n\n  void _cancelTodo(Todo todo) async {\n    todo.complete = false;\n    _update(todo);\n  }\n\n  void _update(Todo todo) async {\n    await _todoRepository.save(todo);\n    _getTodos();\n  }\n\n}\n</code></pre>\n"}, {"tags": ["redux", "dart", "flutter", "sharedpreferences"], "comments": [{"owner": {"reputation": 654, "user_id": 7968076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd448f683ca8866af5252bc26871e7a1?s=128&d=identicon&r=PG&f=1", "display_name": "Ferdi", "link": "https://stackoverflow.com/users/7968076/ferdi"}, "edited": false, "score": 0, "creation_date": 1553640873, "post_id": 55361805, "comment_id": 97458270, "body": "You should consider an initialisation state where you can fetch this <code>String</code> and await for it, before passing it to the AppState"}], "answers": [{"tags": [], "owner": {"reputation": 915, "user_id": 5890498, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zBjkM_95aik/AAAAAAAAAAI/AAAAAAAAAhY/U0g8IcIHabw/photo.jpg?sz=128", "display_name": "Tom Alabaster", "link": "https://stackoverflow.com/users/5890498/tom-alabaster"}, "is_accepted": true, "score": 3, "last_activity_date": 1553621098, "creation_date": 1553621098, "answer_id": 55362960, "question_id": 55361805, "link": "https://stackoverflow.com/questions/55361805/how-to-set-initialstate-from-shared-preferences/55362960#55362960", "title": "How to set initialState from Shared preferences?", "body": "<p>What you want to do is load the theme as part of your <code>main</code> method. You can then pass the theme you've loaded into your <code>AppState</code> constructors. Not that I've added <code>async</code> to your <code>main</code> method, and moved the setting of <code>theme</code> on your <code>AppState</code> to the parameters.</p>\n\n<pre><code>void main() async {\n\n  var theme = await getActiveTheme();\n\n  final store = Store&lt;AppState&gt;(\n    reducer,\n    initialState: AppState.initialState(theme),\n  );\n\n  runApp(MyApp(store: store));\n}\n\nclass AppState {\n\n  // ...\n\n  AppState.initialState(this.theme)\n      : user = null;\n}\n</code></pre>\n"}], "owner": {"reputation": 155, "user_id": 5882738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b44b550dc4efea7652bfa7ddbba4dbdd?s=128&d=identicon&r=PG&f=1", "display_name": "Uros", "link": "https://stackoverflow.com/users/5882738/uros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 379, "favorite_count": 0, "accepted_answer_id": 55362960, "answer_count": 1, "score": 2, "last_activity_date": 1557812087, "creation_date": 1553617168, "last_edit_date": 1553679711, "question_id": 55361805, "link": "https://stackoverflow.com/questions/55361805/how-to-set-initialstate-from-shared-preferences", "title": "How to set initialState from Shared preferences?", "body": "<p>I've been trying to add redux to my flutter app</p>\n\n<p>I want to set MaterialUi theme based on user shared preferences</p>\n\n<pre><code>void main() {\n  final store = Store&lt;AppState&gt;(\n    reducer,\n    initialState: AppState.initialState(),\n  );\n\n  runApp(MyApp(store: store));\n}\n</code></pre>\n\n<p>I have this Function which returns what user preferences are</p>\n\n<pre><code>  static Future&lt;String&gt; getActiveTheme() async {\n    final SharedPreferences prefs = await SharedPreferences.getInstance();\n    return prefs.getString(_activeTheme) ?? \"Light\";\n  }\n</code></pre>\n\n<p>and my AppState looks like this</p>\n\n<pre><code>class AppState {\n  String theme;\n  User user;\n\n  AppState(this.theme, this.user);\n\n  AppState.initialState()\n      : theme = 'Light',\n        user = null;\n}\n\n</code></pre>\n\n<p>I would want instead of <code>theme: 'Light'</code> to get <code>theme: getActiveTheme()</code></p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["dart", "flutter", "http-post"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1553616225, "post_id": 55361422, "comment_id": 97446915, "body": "you mean that you always have <code>response.body.length &lt; 1024</code>? did you really try to <code>print(&#39;len: ${val.length})</code>?"}, {"owner": {"reputation": 1615, "user_id": 2847436, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/6WY7q.jpg?s=128&g=1", "display_name": "Mohammed Sufian", "link": "https://stackoverflow.com/users/2847436/mohammed-sufian"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1553616773, "post_id": 55361422, "comment_id": 97447263, "body": "@pskink , You are right, printing length gives: <code>len: 21220</code>"}, {"owner": {"reputation": 1615, "user_id": 2847436, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/6WY7q.jpg?s=128&g=1", "display_name": "Mohammed Sufian", "link": "https://stackoverflow.com/users/2847436/mohammed-sufian"}, "edited": false, "score": 0, "creation_date": 1553616816, "post_id": 55361422, "comment_id": 97447304, "body": "@Eugene, sorry Sir, but I need privacy until and unless I&#39;m badly stuck"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 2, "creation_date": 1553616863, "post_id": 55361422, "comment_id": 97447336, "body": "so you have the answer - i think you should check <a href=\"https://docs.flutter.io/flutter/foundation/debugPrint.html\" rel=\"nofollow noreferrer\">this</a>"}, {"owner": {"reputation": 1615, "user_id": 2847436, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/6WY7q.jpg?s=128&g=1", "display_name": "Mohammed Sufian", "link": "https://stackoverflow.com/users/2847436/mohammed-sufian"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1553617317, "post_id": 55361422, "comment_id": 97447603, "body": "@pskink, Thanks a lot Sir, I&#39;ll implement that tomorrow and will come here again with a solution or another question. I&#39;m from India and now my shift time is completed and I&#39;m leaving for the day ;-), Thanks again"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1553617516, "post_id": 55361422, "comment_id": 97447714, "body": "sure, your welcome"}], "owner": {"reputation": 1615, "user_id": 2847436, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/6WY7q.jpg?s=128&g=1", "display_name": "Mohammed Sufian", "link": "https://stackoverflow.com/users/2847436/mohammed-sufian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 417, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553615930, "creation_date": 1553615930, "question_id": 55361422, "link": "https://stackoverflow.com/questions/55361422/flutter-http-post-response-is-limiting-to-1023-characters", "title": "Flutter http post response is limiting to 1023 characters", "body": "<p>I'm creating an app using flutter, in this I'm creating a post request then reading the response as string (later to convert into json).</p>\n\n<pre><code>Future&lt;String&gt; post([String url = \"https://example.com/get-new\"]) async {\n\n  return await http.post(Uri.encodeFull(url),\n\n    headers: {\"Accept\": \"application/json\"}).then((http.Response response) {\n\n    final int statusCode = response.statusCode;\n    if (statusCode &lt; 200 || statusCode &gt; 400) {\n      throw new Exception(\"Error while fetching data\");\n    }\n    return response.body;\n\n });\n}\n\npost().then((val){\n  print(val);\n});\n</code></pre>\n\n<p>It's working fine and getting the response, but as my question says, response is limited to 1023 characters. I checked it with postman and found the response is coming properly as needed.</p>\n\n<p>It would be great if anyone would help me out to solve this issue.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["dart", "flutter", "bloc"], "comments": [{"owner": {"reputation": 1012, "user_id": 7034640, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0bea3927a5dd6bc8af52f58ea60a843a?s=128&d=identicon&r=PG&f=1", "display_name": "Ted Henry", "link": "https://stackoverflow.com/users/7034640/ted-henry"}, "edited": false, "score": 1, "creation_date": 1581316205, "post_id": 55361278, "comment_id": 106376585, "body": "Bloc is old school Flutter. Everyone is using package provider these days."}], "answers": [{"comments": [{"owner": {"reputation": 172, "user_id": 9194998, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZT_GMMiyxYU/AAAAAAAAAAI/AAAAAAAAABc/JWWE2YDG8xU/photo.jpg?sz=128", "display_name": "Taha Malas", "link": "https://stackoverflow.com/users/9194998/taha-malas"}, "reply_to_user": {"reputation": 1012, "user_id": 7034640, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0bea3927a5dd6bc8af52f58ea60a843a?s=128&d=identicon&r=PG&f=1", "display_name": "Ted Henry", "link": "https://stackoverflow.com/users/7034640/ted-henry"}, "edited": false, "score": 0, "creation_date": 1581327770, "post_id": 60142386, "comment_id": 106381333, "body": "That&#39;s definitely true it&#39;s a lot of code and takes lots of time specially if you make unit tests as in the repo, but also I believe that&#39;s awesome for a huge apps and scalable ones, because this architecture provides you with the extensibility of your app."}, {"owner": {"reputation": 172, "user_id": 9194998, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZT_GMMiyxYU/AAAAAAAAAAI/AAAAAAAAABc/JWWE2YDG8xU/photo.jpg?sz=128", "display_name": "Taha Malas", "link": "https://stackoverflow.com/users/9194998/taha-malas"}, "reply_to_user": {"reputation": 1012, "user_id": 7034640, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0bea3927a5dd6bc8af52f58ea60a843a?s=128&d=identicon&r=PG&f=1", "display_name": "Ted Henry", "link": "https://stackoverflow.com/users/7034640/ted-henry"}, "edited": false, "score": 0, "creation_date": 1581328647, "post_id": 60142386, "comment_id": 106381739, "body": "I truly encourage you to see this video by Robert Martin to see its benefits   <a href=\"https://www.youtube.com/watch?v=2dKZ-dWaCiU\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=2dKZ-dWaCiU</a>"}, {"owner": {"reputation": 1012, "user_id": 7034640, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0bea3927a5dd6bc8af52f58ea60a843a?s=128&d=identicon&r=PG&f=1", "display_name": "Ted Henry", "link": "https://stackoverflow.com/users/7034640/ted-henry"}, "edited": false, "score": 0, "creation_date": 1581351022, "post_id": 60142386, "comment_id": 106394294, "body": "&quot;it&#39;s a lot of code...I believe that&#39;s awesome for huge apps&quot; Well if huge apps is you&#39;re goal, it certainly seems like a verbose programming style will help you achieve that goal sooner!! \ud83d\ude09"}, {"owner": {"reputation": 1012, "user_id": 7034640, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0bea3927a5dd6bc8af52f58ea60a843a?s=128&d=identicon&r=PG&f=1", "display_name": "Ted Henry", "link": "https://stackoverflow.com/users/7034640/ted-henry"}, "edited": false, "score": 0, "creation_date": 1581352433, "post_id": 60142386, "comment_id": 106395087, "body": "18:42 into Martin&#39;s talk and finally &quot;Let&#39;s talk about architecture.&quot; If this guy&#39;s verbose presentation style is any indication of his coding style then yes he must be writing &quot;huge apps&quot;."}, {"owner": {"reputation": 172, "user_id": 9194998, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZT_GMMiyxYU/AAAAAAAAAAI/AAAAAAAAABc/JWWE2YDG8xU/photo.jpg?sz=128", "display_name": "Taha Malas", "link": "https://stackoverflow.com/users/9194998/taha-malas"}, "reply_to_user": {"reputation": 1012, "user_id": 7034640, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0bea3927a5dd6bc8af52f58ea60a843a?s=128&d=identicon&r=PG&f=1", "display_name": "Ted Henry", "link": "https://stackoverflow.com/users/7034640/ted-henry"}, "edited": false, "score": 0, "creation_date": 1581361876, "post_id": 60142386, "comment_id": 106399403, "body": "You&#39;re just quoting unrelated parts of the comment and using them to not even make a point, I&#39;m more than happy to discuss with you the pros and cons of this approach.  First of all, Separation of concerns, each class has one and one purpose only, that&#39;d make navigation inside your project&#39;s files much more easier, so for that as I said in the original answer, in my point of view BLoC is only responsible for state management and that&#39;s exactly what I&#39;m using it for."}, {"owner": {"reputation": 172, "user_id": 9194998, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZT_GMMiyxYU/AAAAAAAAAAI/AAAAAAAAABc/JWWE2YDG8xU/photo.jpg?sz=128", "display_name": "Taha Malas", "link": "https://stackoverflow.com/users/9194998/taha-malas"}, "reply_to_user": {"reputation": 1012, "user_id": 7034640, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0bea3927a5dd6bc8af52f58ea60a843a?s=128&d=identicon&r=PG&f=1", "display_name": "Ted Henry", "link": "https://stackoverflow.com/users/7034640/ted-henry"}, "edited": false, "score": 0, "creation_date": 1581362101, "post_id": 60142386, "comment_id": 106399513, "body": "Secondly, as you saw in the repo, if you&#39;ve dived deep into it, the core of the app is the domain layer (Use cases / Interactors), which are totally separated from the framework we&#39;re working with, so if we decide someday to migrate to Angular dart, the domain layer would remain the same the changes will be made in the presentation layer (The UI part of the app) and the data layer (From where we&#39;re getting our data)."}, {"owner": {"reputation": 172, "user_id": 9194998, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZT_GMMiyxYU/AAAAAAAAAAI/AAAAAAAAABc/JWWE2YDG8xU/photo.jpg?sz=128", "display_name": "Taha Malas", "link": "https://stackoverflow.com/users/9194998/taha-malas"}, "reply_to_user": {"reputation": 1012, "user_id": 7034640, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0bea3927a5dd6bc8af52f58ea60a843a?s=128&d=identicon&r=PG&f=1", "display_name": "Ted Henry", "link": "https://stackoverflow.com/users/7034640/ted-henry"}, "edited": false, "score": 0, "creation_date": 1581362310, "post_id": 60142386, "comment_id": 106399605, "body": "Lastly, the data layer, if we ever decided to change the way we&#39;re making API requests from Dio to http or any other library, the only thing will be changed is the implementation of the remote data sources, because the contract through which we set the ground roles of the data we want to be getting in and out from the app.  Finally I&#39;m not convincing anyone to follow this approach I&#39;m telling you my experience and lots of big companies are following and demanding people working this way.  I&#39;m always available for any question or discussion"}, {"owner": {"reputation": 1012, "user_id": 7034640, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0bea3927a5dd6bc8af52f58ea60a843a?s=128&d=identicon&r=PG&f=1", "display_name": "Ted Henry", "link": "https://stackoverflow.com/users/7034640/ted-henry"}, "edited": false, "score": 0, "creation_date": 1581371187, "post_id": 60142386, "comment_id": 106403413, "body": "Yep I isolate the model, local storage routines, and remote storage routines too! How to balancing architecture bulk with readable, brief, direct code is a judgement call. No two people ever quite judge it the same."}], "tags": [], "owner": {"reputation": 172, "user_id": 9194998, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZT_GMMiyxYU/AAAAAAAAAAI/AAAAAAAAABc/JWWE2YDG8xU/photo.jpg?sz=128", "display_name": "Taha Malas", "link": "https://stackoverflow.com/users/9194998/taha-malas"}, "is_accepted": false, "score": 2, "last_activity_date": 1581291130, "creation_date": 1581291130, "answer_id": 60142386, "question_id": 55361278, "link": "https://stackoverflow.com/questions/55361278/flutter-should-i-use-bloc-class-per-pageui-view/60142386#60142386", "title": "Flutter: Should I use BloC class per page(UI/View)?", "body": "<p>Hope you're still working on Flutter projects after that long time.</p>\n\n<p>I really like your way of thinking and implementing clean architecture in Flutter.</p>\n\n<p>I have been using Uncle Bob's clean architecture principles lately and it's astonishing, one of the five principles he has the <code>Single Responsibility Principle</code> and I honestly think of BLoC as a way to manage your state ONLY the same thing I thought about ViewModel if you know about it in Google's AAC (Android Architecture Components) so they actually should not be performing any logical operations inside it.</p>\n\n<p>It should only get commands from the UI and pass it to the use cases which should make the logic then return the result once again to the view.</p>\n\n<p>I just made a test app that implements The Clean Architecture principles and would like to get your feedback on it, you can access the repo from <a href=\"https://github.com/TahaMalas/Flutter-Clean-Architecture\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 1790, "user_id": 1936853, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/645c409be5ec708590c5d5ace154053d?s=128&d=identicon&r=PG", "display_name": "yoonhok", "link": "https://stackoverflow.com/users/1936853/yoonhok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 278, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1581350972, "creation_date": 1553615410, "question_id": 55361278, "link": "https://stackoverflow.com/questions/55361278/flutter-should-i-use-bloc-class-per-pageui-view", "title": "Flutter: Should I use BloC class per page(UI/View)?", "body": "<p>I am studying and developing a flutter app as an Android developer.</p>\n\n<p>I am not familiar with flutter, dart, and the BloC architecture pattern.\nAnyway, I am applying BloC patter into my flutter app.</p>\n\n<p>Because I learned the Clean Architecture, I wanted to apply clean architecture too.\nThe first time, I separated the BloC class as per the feature.</p>\n\n<p>My toy app is Todo app.</p>\n\n<p>So I have a very simple features and I defined the BloC like:</p>\n\n<ul>\n<li>Create a todo > CreateTodoBloc</li>\n<li>Update a todo > UpdateTodoBloc</li>\n<li>Get todos > GetTodosBloc</li>\n<li>Delete a todo > DeleteTodoBloc</li>\n</ul>\n\n<p>In my home UI/View, todo list is displayed and it can be updated when the user completes the todo.</p>\n\n<p>In this case, the home UI/View should have two BloC: GetTodosBloc and UpdateTodoBloc</p>\n\n<p>This can show the todo list, and when the user clicks the button of the todo, the todo is updated and saved into the local database.</p>\n\n<p>But the problem is that the todo list is not changed!\nMy home ui/view is showing the todo list differently per todo's complete status.</p>\n\n<p>It looks like that my concept is wrong...\nTo resolve this, I think I should use BloC per the UI/View.</p>\n\n<p>Then the Home UI/View will have only one bloc object: \"HomeBloc\".</p>\n\n<p>And the \"HomeBloc\" may show the ui and update the todo.</p>\n\n<p>So...</p>\n\n<p>I want to hear other developer's opinion and know is there another best practice.</p>\n"}, {"tags": ["dart"], "comments": [{"owner": {"reputation": 2146, "user_id": 3780625, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/dKJKS.jpg?s=128&g=1", "display_name": "Maxouille", "link": "https://stackoverflow.com/users/3780625/maxouille"}, "edited": false, "score": 0, "creation_date": 1553615020, "post_id": 55360945, "comment_id": 97446135, "body": "What are you trying to do ?"}, {"owner": {"reputation": 5103, "user_id": 115139, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6ntUs.jpg?s=128&g=1", "display_name": "Geoffrey", "link": "https://stackoverflow.com/users/115139/geoffrey"}, "reply_to_user": {"reputation": 2146, "user_id": 3780625, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/dKJKS.jpg?s=128&g=1", "display_name": "Maxouille", "link": "https://stackoverflow.com/users/3780625/maxouille"}, "edited": false, "score": 0, "creation_date": 1553615464, "post_id": 55360945, "comment_id": 97446438, "body": "I got a stack trace which shows the exception is thrown at line 8. <code>int.parse</code> throws the exception for String created by <code>join</code>-ing an empty List."}], "answers": [{"tags": [], "owner": {"reputation": 5103, "user_id": 115139, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6ntUs.jpg?s=128&g=1", "display_name": "Geoffrey", "link": "https://stackoverflow.com/users/115139/geoffrey"}, "is_accepted": true, "score": 0, "last_activity_date": 1553616491, "last_edit_date": 1553616491, "creation_date": 1553616029, "answer_id": 55361455, "question_id": 55360945, "link": "https://stackoverflow.com/questions/55360945/why-do-i-get-a-formatexception-when-folding-a-list/55361455#55361455", "title": "Why do I get a FormatException when folding a List?", "body": "<p>The stack trace shows the exception is thrown at line 8 and column 30, which is the <code>int.parse()</code> call. <code>int.parse()</code> will throw that exception for an empty string. Joining an empty List will produce an empty string. The <code>remainder</code> list will get empty before <code>fold</code> has iterated over every digit. Rather use another looping construct, e.g. <code>while</code>.</p>\n\n<pre><code>int solution(String digits) {\n  List&lt;int&gt; sequence = digits.split('').map((digit) =&gt; int.parse(digit)).toList();\n  var fiveDigitNumbers = List&lt;int&gt;();\n\n  while (! sequence.isEmpty) {\n    fiveDigitNumbers.add(int.parse(sequence.take(5).join()));\n    sequence = sequence.skip(1).toList();\n  }\n\n  return fiveDigitNumbers.isEmpty \n    ? 0\n    : fiveDigitNumbers.reduce((largest, number) =&gt; max(largest, number));\n}\n</code></pre>\n"}], "owner": {"reputation": 5103, "user_id": 115139, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6ntUs.jpg?s=128&g=1", "display_name": "Geoffrey", "link": "https://stackoverflow.com/users/115139/geoffrey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 55361455, "answer_count": 1, "score": 0, "last_activity_date": 1553617237, "creation_date": 1553614395, "last_edit_date": 1592644375, "question_id": 55360945, "link": "https://stackoverflow.com/questions/55360945/why-do-i-get-a-formatexception-when-folding-a-list", "title": "Why do I get a FormatException when folding a List?", "body": "<p>I am trying to find the largest 5 digit number in a series, made up of consecutive digits.</p>\n<p><strong>Code:</strong></p>\n<pre><code>import 'dart:math';\n\nint solution(String digits) {\n  List&lt;int&gt; sequence = digits.split('').map((digit) =&gt; int.parse(digit)).toList();\n  List&lt;int&gt; fiveDigitNumbers = List&lt;int&gt;();\n\n sequence.fold(sequence, (remainder, digit) {\n   fiveDigitNumbers.add(int.parse(remainder.take(5).join()));\n   remainder = remainder.skip(5).toList();\n     \n   return remainder;\n });\n\n   return fiveDigitNumbers.isEmpty ? 0:  fiveDigitNumbers.reduce((largest, number) =&gt; max(largest, number));\n}\n\nvoid main() {\n  print(solution('12345').toString());\n}\n</code></pre>\n<p><strong>Error:</strong></p>\n<blockquote>\n<p>FormatException: Invalid number (at character 1)</p>\n<p>^</p>\n</blockquote>\n<p><strong>Stack Trace:</strong></p>\n<blockquote>\n<p>dart:core                            int.parse</p>\n<p>package:solution/solution.dart 8:30  solution.</p>\n<p>dart:collection                      _ListBase&amp;Object&amp;ListMixin.fold</p>\n<p>package:solution/solution.dart 7:12  solution</p>\n<p>test/solution_test.dart 6:12         main.</p>\n</blockquote>\n"}, {"tags": ["asynchronous", "dart", "flutter"], "comments": [{"owner": {"reputation": 2146, "user_id": 3780625, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/dKJKS.jpg?s=128&g=1", "display_name": "Maxouille", "link": "https://stackoverflow.com/users/3780625/maxouille"}, "edited": false, "score": 0, "creation_date": 1553613706, "post_id": 55360628, "comment_id": 97445239, "body": "I&#39;m new to Fluuter (3 days so be indulgent) but I think you need to update <code>_isValid</code> inside the <code>setstate()</code> method. This method will rebuild the widget and modifiy the view."}, {"owner": {"reputation": 10614, "user_id": 1778367, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a62f53d91ff3848fc9ca36aafce63be1?s=128&d=identicon&r=PG", "display_name": "supersize", "link": "https://stackoverflow.com/users/1778367/supersize"}, "reply_to_user": {"reputation": 2146, "user_id": 3780625, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/dKJKS.jpg?s=128&g=1", "display_name": "Maxouille", "link": "https://stackoverflow.com/users/3780625/maxouille"}, "edited": false, "score": 0, "creation_date": 1553613757, "post_id": 55360628, "comment_id": 97445277, "body": "@Maxouille appreciate your honesty :D but <code>setState()</code> I also tried and it didn&#39;t work neither."}, {"owner": {"reputation": 2146, "user_id": 3780625, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/dKJKS.jpg?s=128&g=1", "display_name": "Maxouille", "link": "https://stackoverflow.com/users/3780625/maxouille"}, "edited": false, "score": 1, "creation_date": 1553613798, "post_id": 55360628, "comment_id": 97445316, "body": "Okay srry. Interested in the answer so :)"}, {"owner": {"reputation": 1143, "user_id": 6570670, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/86081dc1633839e08c29ebb00bf6fbcd?s=128&d=identicon&r=PG&f=1", "display_name": "R. Duggan", "link": "https://stackoverflow.com/users/6570670/r-duggan"}, "edited": false, "score": 0, "creation_date": 1553614615, "post_id": 55360628, "comment_id": 97445858, "body": "Have you tried awaiting your code when you validate the phone number? If not the code execution may just continue without having actually validated if the string is a phone number."}, {"owner": {"reputation": 16714, "user_id": 7924072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pwcXh.jpg?s=128&g=1", "display_name": "Viren V Varasadiya", "link": "https://stackoverflow.com/users/7924072/viren-v-varasadiya"}, "edited": false, "score": 1, "creation_date": 1553615239, "post_id": 55360628, "comment_id": 97446274, "body": "If you want to check input asynchronously then you can use stream and block to do so."}, {"owner": {"reputation": 2575, "user_id": 9779791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uCXqz.jpg?s=128&g=1", "display_name": "mirkancal", "link": "https://stackoverflow.com/users/9779791/mirkancal"}, "edited": false, "score": 0, "creation_date": 1564824301, "post_id": 55360628, "comment_id": 101163156, "body": "this issue is related <a href=\"https://github.com/flutter/flutter/issues/9688\" rel=\"nofollow noreferrer\">github.com/flutter/flutter/issues/9688</a>"}], "answers": [{"comments": [{"owner": {"reputation": 10614, "user_id": 1778367, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a62f53d91ff3848fc9ca36aafce63be1?s=128&d=identicon&r=PG", "display_name": "supersize", "link": "https://stackoverflow.com/users/1778367/supersize"}, "edited": false, "score": 0, "creation_date": 1553618386, "post_id": 55361520, "comment_id": 97448293, "body": "so you&#39;re fixing my code but it still doesn&#39;t work, yeah? Maybe you could provide the <code>custom painful way</code> you are talking about :)"}, {"owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "reply_to_user": {"reputation": 10614, "user_id": 1778367, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a62f53d91ff3848fc9ca36aafce63be1?s=128&d=identicon&r=PG", "display_name": "supersize", "link": "https://stackoverflow.com/users/1778367/supersize"}, "edited": false, "score": 0, "creation_date": 1553626271, "post_id": 55361520, "comment_id": 97452468, "body": "I just wanted to show you what happens if you try to fix the code, and where you hit the wall with this approach. Good luck!"}, {"owner": {"reputation": 10614, "user_id": 1778367, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a62f53d91ff3848fc9ca36aafce63be1?s=128&d=identicon&r=PG", "display_name": "supersize", "link": "https://stackoverflow.com/users/1778367/supersize"}, "edited": false, "score": 0, "creation_date": 1553672809, "post_id": 55361520, "comment_id": 97466464, "body": "Appreciate it but that&#39;s not an answer to this question"}, {"owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "reply_to_user": {"reputation": 10614, "user_id": 1778367, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a62f53d91ff3848fc9ca36aafce63be1?s=128&d=identicon&r=PG", "display_name": "supersize", "link": "https://stackoverflow.com/users/1778367/supersize"}, "edited": false, "score": 0, "creation_date": 1553673645, "post_id": 55361520, "comment_id": 97466874, "body": "I guess the answer is &quot;validators can&#39;t be async&quot;. If you can explain your situation and why you really need an async validator, perhaps a better answer can follow."}, {"owner": {"reputation": 10614, "user_id": 1778367, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a62f53d91ff3848fc9ca36aafce63be1?s=128&d=identicon&r=PG", "display_name": "supersize", "link": "https://stackoverflow.com/users/1778367/supersize"}, "edited": false, "score": 0, "creation_date": 1553673932, "post_id": 55361520, "comment_id": 97467004, "body": "<code>Requests</code> is async, so when I need to make a request during form submission and validate the response, how does this not fit into <code>why you really need an async validator</code>."}, {"owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "reply_to_user": {"reputation": 10614, "user_id": 1778367, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a62f53d91ff3848fc9ca36aafce63be1?s=128&d=identicon&r=PG", "display_name": "supersize", "link": "https://stackoverflow.com/users/1778367/supersize"}, "edited": false, "score": 0, "creation_date": 1553676030, "post_id": 55361520, "comment_id": 97468010, "body": "Ok now I understand why, sorry I did not read your code in detail. I edited the answer to add some code, see if it works."}, {"owner": {"reputation": 10614, "user_id": 1778367, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a62f53d91ff3848fc9ca36aafce63be1?s=128&d=identicon&r=PG", "display_name": "supersize", "link": "https://stackoverflow.com/users/1778367/supersize"}, "edited": false, "score": 0, "creation_date": 1553682722, "post_id": 55361520, "comment_id": 97472093, "body": "Thanks, but I didn&#39;t manage to make it work with your example. But this accepted answer worked for me: <a href=\"https://stackoverflow.com/questions/52584520/flutter-firebase-validation-of-form-field-inputs\" title=\"flutter firebase validation of form field inputs\">stackoverflow.com/questions/52584520/&hellip;</a>"}, {"owner": {"reputation": 10614, "user_id": 1778367, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a62f53d91ff3848fc9ca36aafce63be1?s=128&d=identicon&r=PG", "display_name": "supersize", "link": "https://stackoverflow.com/users/1778367/supersize"}, "edited": false, "score": 0, "creation_date": 1553683112, "post_id": 55361520, "comment_id": 97472345, "body": "Actually it doesn&#39;t it will only validate correctly on the next submission, not on the current :("}, {"owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "reply_to_user": {"reputation": 10614, "user_id": 1778367, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a62f53d91ff3848fc9ca36aafce63be1?s=128&d=identicon&r=PG", "display_name": "supersize", "link": "https://stackoverflow.com/users/1778367/supersize"}, "edited": false, "score": 1, "creation_date": 1553683828, "post_id": 55361520, "comment_id": 97472760, "body": "Right, that solution is missing the <code>_formKey.currentState.validate();</code>, which is why you have to submit once more. If you <code>autovalidate</code>, at every change a validation is triggered, which in turn asynchronously trigger a validation again after it has the answer. If you can tell me what happened with my answer I can try to help."}, {"owner": {"reputation": 10614, "user_id": 1778367, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a62f53d91ff3848fc9ca36aafce63be1?s=128&d=identicon&r=PG", "display_name": "supersize", "link": "https://stackoverflow.com/users/1778367/supersize"}, "edited": false, "score": 0, "creation_date": 1553686598, "post_id": 55361520, "comment_id": 97474505, "body": "The problem with your answer is probably just that you could bring it in a complete context and write out the whole classes. <code>initiateAsyncPhoneValidation</code> should receive an argument <code>number</code> so thats missing. But also where to put the validator then."}, {"owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "reply_to_user": {"reputation": 10614, "user_id": 1778367, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a62f53d91ff3848fc9ca36aafce63be1?s=128&d=identicon&r=PG", "display_name": "supersize", "link": "https://stackoverflow.com/users/1778367/supersize"}, "edited": false, "score": 0, "creation_date": 1553689659, "post_id": 55361520, "comment_id": 97476395, "body": "That&#39;s right, I added the <code>number</code> parameter now. You&#39;ll use it as such: <code>TextFormField(validator: validatePhone)</code>, did I get your question right?"}, {"owner": {"reputation": 10614, "user_id": 1778367, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a62f53d91ff3848fc9ca36aafce63be1?s=128&d=identicon&r=PG", "display_name": "supersize", "link": "https://stackoverflow.com/users/1778367/supersize"}, "edited": false, "score": 0, "creation_date": 1553689914, "post_id": 55361520, "comment_id": 97476552, "body": "So can you edit the part with <code>Form()</code> in your answer to the one from your comment? Should it look like this: <code>TextFormField(validator: (val) { validatePhone(val) }, autovalidate: true, key: _formKey)</code>?"}, {"owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "reply_to_user": {"reputation": 10614, "user_id": 1778367, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a62f53d91ff3848fc9ca36aafce63be1?s=128&d=identicon&r=PG", "display_name": "supersize", "link": "https://stackoverflow.com/users/1778367/supersize"}, "edited": false, "score": 0, "creation_date": 1553691443, "post_id": 55361520, "comment_id": 97477587, "body": "I edited the answer. <code>_formKey</code> goes in the <code>Form()</code>, which should be an ancestor of <code>TextFormField</code>. You can add that if it&#39;s not there. Also I added the <code>String</code> type for <code>number</code> in the functions in case it may be an issue."}, {"owner": {"reputation": 10614, "user_id": 1778367, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a62f53d91ff3848fc9ca36aafce63be1?s=128&d=identicon&r=PG", "display_name": "supersize", "link": "https://stackoverflow.com/users/1778367/supersize"}, "edited": false, "score": 0, "creation_date": 1553692536, "post_id": 55361520, "comment_id": 97478385, "body": "Doesn&#39;t work I&#39;m getting <code>Failed assertion: boolean expression must not be null</code>. Also in your example <code>validator: validatePhone</code> must look like this: <code>child: TextFormField( validator: (value) { validatePhone(value) } )</code> to be complete."}, {"owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "reply_to_user": {"reputation": 10614, "user_id": 1778367, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a62f53d91ff3848fc9ca36aafce63be1?s=128&d=identicon&r=PG", "display_name": "supersize", "link": "https://stackoverflow.com/users/1778367/supersize"}, "edited": false, "score": 0, "creation_date": 1553693221, "post_id": 55361520, "comment_id": 97478898, "body": "If you can tell me which line that assertion is in that may be helpful. It&#39;s probably your <code>if (val[&#39;valid&#39;])</code>. Also, you are not right about the usage of validator. If you really want to use it like that, you have to add a return there as such: <code>validator: (value) { return validatePhone(value); }</code>. However, <code>validator: validatePhone</code> is just fine, I&#39;m staring at my own app&#39;s code that&#39;s similar."}, {"owner": {"reputation": 10614, "user_id": 1778367, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a62f53d91ff3848fc9ca36aafce63be1?s=128&d=identicon&r=PG", "display_name": "supersize", "link": "https://stackoverflow.com/users/1778367/supersize"}, "edited": false, "score": 0, "creation_date": 1553693817, "post_id": 55361520, "comment_id": 97479254, "body": "But <code>validatePhone</code> takes an argument which is passed from the validator right? Yeah its the line you were pressuming <code>val[&#39;valid&#39;]</code> is causing this."}, {"owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "reply_to_user": {"reputation": 10614, "user_id": 1778367, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a62f53d91ff3848fc9ca36aafce63be1?s=128&d=identicon&r=PG", "display_name": "supersize", "link": "https://stackoverflow.com/users/1778367/supersize"}, "edited": false, "score": 0, "creation_date": 1553694534, "post_id": 55361520, "comment_id": 97479776, "body": "Yes, the system passes the parameter when it calls the function. You are just giving the reference of the function as a parameter. Now you need to check <code>val[&#39;valid&#39;]</code> correctly."}], "tags": [], "owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "is_accepted": false, "score": 1, "last_activity_date": 1553691378, "last_edit_date": 1553691378, "creation_date": 1553616257, "answer_id": 55361520, "question_id": 55360628, "link": "https://stackoverflow.com/questions/55360628/create-async-validator-in-flutter/55361520#55361520", "title": "Create async validator in Flutter", "body": "<p>As it was said in the comments, it is not possible to have async validators as <a href=\"https://docs.flutter.io/flutter/widgets/FormField/validator.html\" rel=\"nofollow noreferrer\"><code>validator</code></a> is expected to <a href=\"https://docs.flutter.io/flutter/widgets/FormFieldValidator.html\" rel=\"nofollow noreferrer\">return</a> a <code>String</code> and not a `Future'.</p>\n\n<p>However, there are a number of things that's wrong in your code. First of all, <code>validatePhone</code> returns before <code>_isValid</code> is set, which is why you're getting a <code>null</code> value, because it was never set to anything. Your request completes <em>after</em> <code>validatePhone</code> returns and setting <code>_isValid</code> is useless at that point. </p>\n\n<p>Let's try to fix validatePhone: </p>\n\n<pre><code>Future&lt;bool&gt; validatePhone(number) async {\n  bool _isValid;\n\n  final val = await Requests.get(\n          \"http://apilayer.net/api/validate?value=$number\",\n          json: true);\n\n  if (val['valid']) {\n    // setState(() {\n      _isValid = true;\n    // });\n  } else {\n    // setState(() {\n      _isValid = false;\n    // });\n  }\n\n  return _isValid;\n}\n</code></pre>\n\n<p>as you see, it's return value had to become <code>Future&lt;bool&gt;</code>, not <code>bool</code>. There is no way to fix this. If <code>validator</code> was allowed to return <code>Future</code>, then it could work. </p>\n\n<p>You're going to have to implement your validation logic in a custom painful way.</p>\n\n<p><strong>Edit:</strong> here comes a custom painful way :)</p>\n\n<pre><code>String lastValidatedNumber;\nString lastRejectedNumber;\n\n// this will be called upon user interaction or re-initiation as commented below\nString validatePhone(String number) {\n  if (lastValidatedNumber == number) {\n    return null;\n  } else if (lastRejectedNumber == number) {\n    return \"Phone number is invalid\";\n  } else {\n    initiateAsyncPhoneValidation(number);\n    return \"Validation in progress\";\n  }\n}\n\nFuture&lt;void&gt; initiateAsyncPhoneValidation(String number) async {\n  final val = await Requests.get(\n          \"http://apilayer.net/api/validate?value=$number\",\n          json: true);\n\n  if (val['valid']) {\n    lastValidatedNumber = number;\n  } else {\n    lastRejectedNumber = number;\n  }\n  _formKey.currentState.validate(); // this will re-initiate the validation\n}\n</code></pre>\n\n<p>You need to have a form key: </p>\n\n<pre><code>final _formKey = GlobalKey&lt;FormState&gt;();\n</code></pre>\n\n<p>And your form should auto validate: </p>\n\n<pre><code>    child: Form(\n      key: _formKey,\n      autovalidate: true,\n      child: TextFormField(\n        validator: validatePhone\n      )\n    )\n</code></pre>\n\n<p>I'm not 100% sure if this would work, but it's worth a shot. </p>\n"}, {"comments": [{"owner": {"reputation": 126, "user_id": 3913490, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/37dc6ae5f9ebd2eefeb6299a2bd528ff?s=128&d=identicon&r=PG&f=1", "display_name": "FrontMobe", "link": "https://stackoverflow.com/users/3913490/frontmobe"}, "edited": false, "score": 0, "creation_date": 1616146540, "post_id": 58332378, "comment_id": 117916745, "body": "CAUTION: this library is not maintained anymore and can not be run with flutter 2.0 and above"}], "tags": [], "owner": {"reputation": 599, "user_id": 11768068, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-APeCL7wkG4Q/AAAAAAAAAAI/AAAAAAAAAAg/a2nLSPjGxP8/photo.jpg?sz=128", "display_name": "GiancarloCode", "link": "https://stackoverflow.com/users/11768068/giancarlocode"}, "is_accepted": false, "score": 2, "last_activity_date": 1570750439, "creation_date": 1570750439, "answer_id": 58332378, "question_id": 55360628, "link": "https://stackoverflow.com/questions/55360628/create-async-validator-in-flutter/58332378#58332378", "title": "Create async validator in Flutter", "body": "<p>Check out <a href=\"https://pub.dev/packages/flutter_form_bloc\" rel=\"nofollow noreferrer\">flutter_form_bloc</a>, it support async validators and you can set the debounce time, in addition to offering other advantages.</p>\n\n<p>You can use <code>TextFieldBloc</code> without a <code>FormBloc</code>, but it is much more powerful if you use inside a <code>FormBloc</code></p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>...\n    _phoneFieldBloc = TextFieldBloc(\n      asyncValidatorDebounceTime: Duration(milliseconds: 300),\n      asyncValidators: [_validatePhone],\n    );\n...\n</code></pre>\n\n<pre class=\"lang-dart prettyprint-override\"><code>...\n     TextFieldBlocBuilder(\n       textFieldBloc: _phoneFieldBloc,\n       suffixButton: SuffixButton.circularIndicatorWhenIsAsyncValidating,\n       decoration: InputDecoration(labelText: 'Phone number'),\n       keyboardType: TextInputType.phone,\n     ),\n...\n\n</code></pre>\n\n<p>.</p>\n\n<h2>Example #1 - Without FormBloc</h2>\n\n<p><img src=\"https://i.imgur.com/jP6G9fH.gif\" alt=\"\"></p>\n\n<pre><code>dependencies:\n  form_bloc: ^0.5.2\n  flutter_form_bloc: ^0.4.3\n</code></pre>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:async';\nimport 'package:flutter/material.dart';\nimport 'package:form_bloc/form_bloc.dart';\nimport 'package:flutter_form_bloc/flutter_form_bloc.dart';\n\nvoid main() =&gt; runApp(MaterialApp(home: HomeScreen()));\n\nclass HomeScreen extends StatefulWidget {\n  HomeScreen({Key key}) : super(key: key);\n\n  _HomeScreenState createState() =&gt; _HomeScreenState();\n}\n\nclass _HomeScreenState extends State&lt;HomeScreen&gt; {\n  TextFieldBloc _phoneFieldBloc;\n\n  StreamSubscription&lt;TextFieldBlocState&gt; _textFieldBlocSubscription;\n\n  @override\n  void initState() {\n    super.initState();\n    _phoneFieldBloc = TextFieldBloc(\n      asyncValidatorDebounceTime: Duration(milliseconds: 300),\n      asyncValidators: [_validatePhone],\n    );\n\n    _textFieldBlocSubscription = _phoneFieldBloc.state.listen((state) {\n      if (state.isValid) {\n        // Print the value of the _textFieldBloc when has a valid value\n        print(state.value);\n      }\n    });\n  }\n\n  @override\n  void dispose() {\n    _phoneFieldBloc.dispose();\n    _textFieldBlocSubscription.cancel();\n    super.dispose();\n  }\n\n  Future&lt;String&gt; _validatePhone(String number) async {\n    // Fake phone async validator\n    await Future&lt;void&gt;.delayed(Duration(milliseconds: 200));\n    if (number.length &gt; 4 &amp;&amp; number.length &lt; 9) {\n      return 'Your phone number is not valid';\n    }\n    return null;\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Center(\n        child: TextFieldBlocBuilder(\n          textFieldBloc: _phoneFieldBloc,\n          suffixButton: SuffixButton.circularIndicatorWhenIsAsyncValidating,\n          decoration: InputDecoration(labelText: 'Phone number'),\n          keyboardType: TextInputType.phone,\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<h2>Example #2 - With FormBloc</h2>\n\n<p><img src=\"https://i.imgur.com/IV8lNyO.gif\" alt=\"\"></p>\n\n<pre><code>dependencies:\n  form_bloc: ^0.5.2\n  flutter_form_bloc: ^0.4.3\n</code></pre>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:flutter/material.dart';\nimport 'package:form_bloc/form_bloc.dart';\nimport 'package:flutter_form_bloc/flutter_form_bloc.dart';\n\nvoid main() =&gt; runApp(MaterialApp(home: HomeScreen()));\n\nclass SimpleFormBloc extends FormBloc&lt;String, String&gt; {\n  final phoneField = TextFieldBloc(\n    asyncValidatorDebounceTime: Duration(milliseconds: 600),\n  );\n\n  final emailField = TextFieldBloc(\n    validators: [Validators.email],\n    asyncValidatorDebounceTime: Duration(milliseconds: 300),\n  );\n\n  @override\n  List&lt;FieldBloc&gt; get fieldBlocs =&gt; [phoneField, emailField];\n\n  SimpleFormBloc() {\n    phoneField.addAsyncValidators([_isValidPhone]);\n    emailField.addAsyncValidators([_isEmailAvailable]);\n  }\n\n  Future&lt;String&gt; _isValidPhone(String number) async {\n    // Fake phone async validator\n    await Future&lt;void&gt;.delayed(Duration(milliseconds: 200));\n    if (number.length &gt; 4 &amp;&amp; number.length &lt; 9) {\n      return 'Your phone number is not valid';\n    }\n    return null;\n  }\n\n  Future&lt;String&gt; _isEmailAvailable(String email) async {\n    // Fake email async validator\n    await Future&lt;void&gt;.delayed(Duration(milliseconds: 200));\n    if (email == 'name@domain.com') {\n      return 'That email is taken. Try another.';\n    } else {\n      return null;\n    }\n  }\n\n  @override\n  Stream&lt;FormBlocState&lt;String, String&gt;&gt; onSubmitting() async* {\n    // Form logic...\n    try {\n      // Get the fields values:\n      print(phoneField.value);\n      print(emailField.value);\n      await Future&lt;void&gt;.delayed(Duration(seconds: 2));\n      yield currentState.toSuccess();\n    } catch (e) {\n      yield currentState.toFailure(\n          'Fake error, please continue testing the async validation.');\n    }\n  }\n}\n\nclass HomeScreen extends StatefulWidget {\n  HomeScreen({Key key}) : super(key: key);\n\n  _HomeScreenState createState() =&gt; _HomeScreenState();\n}\n\nclass _HomeScreenState extends State&lt;HomeScreen&gt; {\n  SimpleFormBloc _simpleFormBloc;\n\n  @override\n  void initState() {\n    super.initState();\n    _simpleFormBloc = SimpleFormBloc();\n  }\n\n  @override\n  void dispose() {\n    _simpleFormBloc.dispose();\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: FormBlocListener(\n        formBloc: _simpleFormBloc,\n        onSubmitting: (context, state) {\n          // Show the progress dialog\n          showDialog(\n            context: context,\n            barrierDismissible: false,\n            builder: (_) =&gt; WillPopScope(\n              onWillPop: () async =&gt; false,\n              child: Center(\n                child: Card(\n                  child: Container(\n                    width: 80,\n                    height: 80,\n                    padding: EdgeInsets.all(12.0),\n                    child: CircularProgressIndicator(),\n                  ),\n                ),\n              ),\n            ),\n          );\n        },\n        onSuccess: (context, state) {\n          // Hide the progress dialog\n          Navigator.of(context).pop();\n          // Navigate to success screen\n          Navigator.of(context).pushReplacement(\n              MaterialPageRoute(builder: (_) =&gt; SuccessScreen()));\n        },\n        onFailure: (context, state) {\n          // Hide the progress dialog\n          Navigator.of(context).pop();\n          // Show snackbar with the error\n          Scaffold.of(context).showSnackBar(\n            SnackBar(\n              content: Text(state.failureResponse),\n              backgroundColor: Colors.red[300],\n            ),\n          );\n        },\n        child: ListView(\n          children: &lt;Widget&gt;[\n            TextFieldBlocBuilder(\n              textFieldBloc: _simpleFormBloc.phoneField,\n              suffixButton: SuffixButton.circularIndicatorWhenIsAsyncValidating,\n              decoration: InputDecoration(labelText: 'Phone number'),\n              keyboardType: TextInputType.phone,\n            ),\n            TextFieldBlocBuilder(\n              textFieldBloc: _simpleFormBloc.emailField,\n              suffixButton: SuffixButton.circularIndicatorWhenIsAsyncValidating,\n              decoration: InputDecoration(labelText: 'Email'),\n              keyboardType: TextInputType.emailAddress,\n            ),\n            Padding(\n              padding: const EdgeInsets.all(8.0),\n              child: RaisedButton(\n                onPressed: _simpleFormBloc.submit,\n                child: Center(child: Text('SUBMIT')),\n              ),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n\nclass SuccessScreen extends StatelessWidget {\n  const SuccessScreen({Key key}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      backgroundColor: Colors.green[300],\n      body: Center(\n        child: SingleChildScrollView(\n          child: Column(\n            children: &lt;Widget&gt;[\n              Icon(\n                Icons.sentiment_satisfied,\n                size: 100,\n              ),\n              RaisedButton(\n                color: Colors.green[100],\n                child: Text('Go to home'),\n                onPressed: () =&gt; Navigator.of(context).pushReplacement(\n                    MaterialPageRoute(builder: (_) =&gt; HomeScreen())),\n              )\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n}\n\n</code></pre>\n"}], "owner": {"reputation": 10614, "user_id": 1778367, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a62f53d91ff3848fc9ca36aafce63be1?s=128&d=identicon&r=PG", "display_name": "supersize", "link": "https://stackoverflow.com/users/1778367/supersize"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3039, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1593527759, "creation_date": 1553613459, "last_edit_date": 1553672959, "question_id": 55360628, "link": "https://stackoverflow.com/questions/55360628/create-async-validator-in-flutter", "title": "Create async validator in Flutter", "body": "<p>I have an asynchronous function in <a href=\"https://flutter.dev/\" rel=\"nofollow noreferrer\">Flutter</a> which takes the value of the validator as an argument:</p>\n\n<pre><code>validatePhone(number) {\n  bool _isValid;\n\n  Requests.get(\"http://apilayer.net/api/validate?value=$number\", json: true)\n      .then((val) {\n    if (val['valid']) {\n      // setState(() {  &lt;- also tried setting state here\n      _isValid = true;\n      // });\n    } else {\n      // setState(() {\n      _isValid = false;\n      // });\n    }\n  });\n\n  return _isValid;\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>TextFormField(\n  validator: (value) {\n    if (value.isEmpty) {\n      return 'Please your phone number';\n    } else {\n      if (validatePhone(value)) {\n        return 'Your phone number is not valid';\n      }\n    }\n  },\n),\n</code></pre>\n\n<p>but it does not work it always returns <code>null</code> or the initial value set in <code>validatePhone</code>. Any idea how I can make this work? </p>\n"}, {"tags": ["json", "dart", "flutter"], "comments": [{"owner": {"reputation": 595, "user_id": 4411297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bac0fc34da57c7aec9313fb3e2e56798?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Gale", "link": "https://stackoverflow.com/users/4411297/daniel-gale"}, "edited": false, "score": 0, "creation_date": 1553614003, "post_id": 55360386, "comment_id": 97445455, "body": "This is because you are <code>return</code>ing on the first object that has a &quot;locationForDisplay&quot; instead of filtering out objects and returning the filtered List"}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 4499934, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/2b8e73989d9430a49e99b59f5e9487a0?s=128&d=identicon&r=PG&f=1", "display_name": "pu4cu", "link": "https://stackoverflow.com/users/4499934/pu4cu"}, "edited": false, "score": 0, "creation_date": 1553615232, "post_id": 55360614, "comment_id": 97446267, "body": "adding <code>filteredData == null ? 0 : filteredData.length</code> to itemCount, resolved this issue for me. Thanks!"}], "tags": [], "owner": {"reputation": 59214, "user_id": 666221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1VBx.jpg?s=128&g=1", "display_name": "diegoveloper", "link": "https://stackoverflow.com/users/666221/diegoveloper"}, "is_accepted": true, "score": 3, "last_activity_date": 1553625280, "last_edit_date": 1553625280, "creation_date": 1553613430, "answer_id": 55360614, "question_id": 55360386, "link": "https://stackoverflow.com/questions/55360386/how-to-filter-json-data-in-itembuilder/55360614#55360614", "title": "How to filter JSON data in itemBuilder", "body": "<p>You could create a <code>List</code> variable and filter the values, like this:</p>\n\n<pre><code>  List data;\n  List&lt;Map&gt; filteredList;\n\n\n  Future&lt;String&gt; theRequest() async {\n      var response = await http.get(Uri.encodeFull(url),\n      headers: {\n        'Accept': 'application/json'\n      });\n\n      setState(() {\n\n        var getRequestedData = jsonDecode(response.body);\n        data = getRequestedData['parkingFacilities'];\n\n        filteredList = List();\n        for(item in data){\n          if (item['locationForDisplay'] != null &amp;&amp; item['locationForDisplay']['latitude'] != null &amp;&amp; item['locationForDisplay']['longitude'] != null\n          ) {\n            filteredList.add(item);\n          }\n        }\n\n      });\n    }\n\n    @override\n    void initState() {\n      this.theRequest();\n    }\n\n    @override\n    Widget build(BuildContext context) {\n      bool notNull = false;\n      return new Scaffold(\n        appBar: new AppBar(\n          title: new Text('Parking Spots'),\n        ),\n        body: new ListView.builder(\n          itemCount: filteredList == null ? 0 : filteredList.length,\n          itemBuilder: (BuildContext context, i) {\n              return new ListTile(\n                title:  new Text(filteredList[i]['name']), \n                trailing: new Icon(\n                  saved ? Icons.favorite : Icons.favorite_border,\n                  color: saved ? Colors.red : null,\n                ),\n                onTap: (){_save(filteredList[i]['name'], filteredList[i]['locationForDisplay']['latitude'], filteredList[i]['locationForDisplay']['longitude']);},\n              );\n\n          },\n        )\n      );\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 107, "user_id": 4499934, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/2b8e73989d9430a49e99b59f5e9487a0?s=128&d=identicon&r=PG&f=1", "display_name": "pu4cu", "link": "https://stackoverflow.com/users/4499934/pu4cu"}, "edited": false, "score": 0, "creation_date": 1553614983, "post_id": 55360766, "comment_id": 97446108, "body": "<code>data</code> was of type <code>List</code>, but I changed that to <code>List&lt;Map&lt;String, dynamic&gt;&gt; data</code> and pasted the new line and it&#39;s now giving me this exception: <code>Unhandled Exception: type &#39;List&lt;dynamic&gt;&#39; is not a subtype of type &#39;List&lt;Map&lt;String, dynamic&gt;&gt;&#39;</code>"}, {"owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "reply_to_user": {"reputation": 107, "user_id": 4499934, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/2b8e73989d9430a49e99b59f5e9487a0?s=128&d=identicon&r=PG&f=1", "display_name": "pu4cu", "link": "https://stackoverflow.com/users/4499934/pu4cu"}, "edited": false, "score": 0, "creation_date": 1553618519, "post_id": 55360766, "comment_id": 97448370, "body": "Just remove the type from the predicate, and leave data as a <code>List</code> - see updated answer"}], "tags": [], "owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "is_accepted": false, "score": 1, "last_activity_date": 1553618484, "last_edit_date": 1553618484, "creation_date": 1553613891, "answer_id": 55360766, "question_id": 55360386, "link": "https://stackoverflow.com/questions/55360386/how-to-filter-json-data-in-itembuilder/55360766#55360766", "title": "How to filter JSON data in itemBuilder", "body": "<p><code>data</code> is presumably a <code>List&lt;Map&lt;String, dynamic&gt;&gt;</code>, so you could add:</p>\n\n<pre><code>  data = getRequestedData['parkingFacilities'];\n  data.removeWhere((m) =&gt; m['locationForDisplay'] == null);\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 4499934, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/2b8e73989d9430a49e99b59f5e9487a0?s=128&d=identicon&r=PG&f=1", "display_name": "pu4cu", "link": "https://stackoverflow.com/users/4499934/pu4cu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3172, "favorite_count": 0, "accepted_answer_id": 55360614, "answer_count": 2, "score": 0, "last_activity_date": 1553625280, "creation_date": 1553612724, "last_edit_date": 1553614108, "question_id": 55360386, "link": "https://stackoverflow.com/questions/55360386/how-to-filter-json-data-in-itembuilder", "title": "How to filter JSON data in itemBuilder", "body": "<p>So I have a JSON url with some data like name, latitude and longitude. However, not every object has a latitude and longitude and I only want to display the names of the objects that do have the latitude and longitude. </p>\n\n<p>JSON example object with lat and lng:</p>\n\n<pre><code>    dynamicDataUrl: \"http://example.com\",\n    staticDataUrl: \"http://example.com\",\n    limitedAccess: false,\n    locationForDisplay: {\n        coordinatesType: \"LA4556\",\n        latitude: 52.2490470982696,\n        longitude: 6.16317987442017\n    },\n    identifier: \"4556random2595\",\n    name: \"Los Angelos\"\n    },\n</code></pre>\n\n<p>JSON example object without lat and lng:</p>\n\n<pre><code>    dynamicDataUrl: \n\"http://example.com\",\n    staticDataUrl: \"https://example.com\",\n    limitedAccess: false,\n    identifier: \"1234randomi1233\",\n    name: \"New York\"\n},\n</code></pre>\n\n<pre><code>List data;\nFuture&lt;String&gt; theRequest() async {\n    var response = await http.get(Uri.encodeFull(url),\n    headers: {\n      'Accept': 'application/json'\n    });\n\n    setState(() {\n\n      var getRequestedData = jsonDecode(response.body);\n      data = getRequestedData['parkingFacilities'];\n\n    });\n  }\n\n  @override\n  void initState() {\n    this.theRequest();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    bool notNull = false;\n    return new Scaffold(\n      appBar: new AppBar(\n        title: new Text('Parking Spots'),\n      ),\n      body: new ListView.builder(\n        itemCount: data == null ? 0 : data.length,\n        itemBuilder: (BuildContext context, i) {\n          if( data[i]['locationForDisplay'] != null ) {\n            return new ListTile(\n              title:  new Text(data[i]['name']), \n              trailing: new Icon(\n                saved ? Icons.favorite : Icons.favorite_border,\n                color: saved ? Colors.red : null,\n              ),\n              onTap: (){_save(data[i]['name'], data[i]['locationForDisplay']['latitude'], data[i]['locationForDisplay']['longitude']);},\n            );\n          }\n        },\n      )\n    );\n  }\n</code></pre>\n\n<p>The code I have tried inside of the itemBuilder only displays one object name. I have also tried to already filter in inside of the <code>setState()</code> function, using a forloop, which does give me back the data I need when I print it (only the object names from objects WITH a lat and lng), but when I try to set the <code>data[i]['name']</code> inside as the title of a ListTile, I still see ALL of the names. </p>\n\n<p>How can I properly filter the JSON, so that only the names are displayed of objects that DO have a lat and lng?</p>\n"}, {"tags": ["dart"], "answers": [{"tags": [], "owner": {"reputation": 51074, "user_id": 634863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198449a7e196c4b0f2ed25f65279bf84?s=128&d=identicon&r=PG", "display_name": "Alexandre Ardhuin", "link": "https://stackoverflow.com/users/634863/alexandre-ardhuin"}, "is_accepted": true, "score": 26, "last_activity_date": 1553610474, "creation_date": 1553610474, "answer_id": 55359581, "question_id": 55359473, "link": "https://stackoverflow.com/questions/55359473/how-to-save-an-integer-in-two-digits-in-dart/55359581#55359581", "title": "How to save an integer in two digits in Dart", "body": "<pre><code>String s = i.toString().padLeft(2, '0');\n</code></pre>\n"}], "owner": {"reputation": 2643, "user_id": 10471480, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aWUWhOQArrE/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWERAmHGe3PKyq4hS8cPDJgpMay1A/mo/photo.jpg?sz=128", "display_name": "Mangaldeep Pannu", "link": "https://stackoverflow.com/users/10471480/mangaldeep-pannu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1571, "favorite_count": 0, "accepted_answer_id": 55359581, "answer_count": 1, "score": 3, "last_activity_date": 1553610474, "creation_date": 1553610169, "question_id": 55359473, "link": "https://stackoverflow.com/questions/55359473/how-to-save-an-integer-in-two-digits-in-dart", "title": "How to save an integer in two digits in Dart", "body": "<p>How can I save an integer in two digits in Dart?<br><br></p>\n\n<pre><code>int i = 3;\nString s = i.toString();\nprint(s);\n</code></pre>\n\n<p>The result should be <strong>03</strong> and  not <strong>3</strong></p>\n"}, {"tags": ["listview", "dart", "flutter"], "comments": [{"owner": {"reputation": 1539, "user_id": 2843041, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/044938a2a4f9ebffb21fa62ff6de9a52?s=128&d=identicon&r=PG", "display_name": "Saman", "link": "https://stackoverflow.com/users/2843041/saman"}, "edited": false, "score": 0, "creation_date": 1553624267, "post_id": 55359241, "comment_id": 97451511, "body": "you can use <code>ScrollController</code> and <code>itemExtent</code> for detect scroll position and item position."}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 8523897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01af53367b95f83b4382c407c4ab9bfc?s=128&d=identicon&r=PG&f=1", "display_name": "whitebug", "link": "https://stackoverflow.com/users/8523897/whitebug"}, "edited": false, "score": 0, "creation_date": 1613513522, "post_id": 55366081, "comment_id": 117096924, "body": "Thanks a lot, you saved my evening."}, {"owner": {"reputation": 5165, "user_id": 9374465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4885599304ccdac5fc24aea1bac2d4?s=128&d=identicon&r=PG&f=1", "display_name": "Mazin Ibrahim", "link": "https://stackoverflow.com/users/9374465/mazin-ibrahim"}, "reply_to_user": {"reputation": 71, "user_id": 8523897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01af53367b95f83b4382c407c4ab9bfc?s=128&d=identicon&r=PG&f=1", "display_name": "whitebug", "link": "https://stackoverflow.com/users/8523897/whitebug"}, "edited": false, "score": 0, "creation_date": 1613532992, "post_id": 55366081, "comment_id": 117101151, "body": "You&#39;re welcome!"}], "tags": [], "owner": {"reputation": 5165, "user_id": 9374465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4885599304ccdac5fc24aea1bac2d4?s=128&d=identicon&r=PG&f=1", "display_name": "Mazin Ibrahim", "link": "https://stackoverflow.com/users/9374465/mazin-ibrahim"}, "is_accepted": true, "score": 2, "last_activity_date": 1553633846, "creation_date": 1553633846, "answer_id": 55366081, "question_id": 55359241, "link": "https://stackoverflow.com/questions/55359241/how-to-detect-the-position-of-a-listview-item/55366081#55366081", "title": "How to detect the position of a ListView Item?", "body": "<p>You can achieve this by attaching a <code>ScrollController</code> to your <code>ListView</code> and use it creatively :</p>\n\n<p><a href=\"https://i.stack.imgur.com/JBMo4.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JBMo4.gif\" alt=\"enter image description here\"></a></p>\n\n<p>First you need to define a <code>ScrollController</code> which will be used to get the <code>ScrollController.offset</code> to determine the list current position. Then I added a bunch of variable to adjust this dynamic list while keeping its intended functionality:</p>\n\n<pre><code>  class DynamicPadding extends StatefulWidget {\n    DynamicPadding({Key key,}) : super(key: key);\n\n    @override\n    _DynamicPaddingState createState() =&gt; _DynamicPaddingState();\n  }\n\n\n  class  _DynamicPaddingState extends State&lt;DynamicPadding&gt; {\n\n   ScrollController _controller;\n\n   var _middlePadding = 10.0 ; // padding of centered items\n\n   var _edgesPadding = 15.0 ; // padding of non-centered items\n\n   var _itemSize = 100.0 ; \n\n   int _centeredItems = 3 ;\n\n   int _numberOfEdgesItems ; // number of items which aren't centered at any moment\n\n   int _aboveItems ; // number of items above the centered ones\n\n   int _belowItems ; // number of items below the centered ones\n\n\n   @override\n   void initState() {\n     _controller = ScrollController(); // Initializing ScrollController\n     _controller.addListener(_scrollListener); add a listener to ScrollController to update padding\n     super.initState();\n   }\n\n   _scrollListener() {\n     setState(() {});\n   }\n\n   @override\n   Widget build(BuildContext context) {\n     return new Scaffold(\n         backgroundColor: Colors.grey.shade200,\n         appBar: new AppBar(title: new Text('Dynamic Padding Example'),),\n     body: ListView.builder(\n     controller: _controller ,\n     itemCount: 20,\n     itemBuilder: (context, index) {\n\n       // This is how to calculate number of non-centered Items\n       _numberOfEdgesItems = ( (MediaQuery.of(context).size.height - _centeredItems*(_itemSize + 2*(_middlePadding))) ~/ (_itemSize + 2*(_edgesPadding)) ) ; \n\n       _aboveItems = ( ( (_controller.offset) / (_itemSize + 2*(_edgesPadding)) ) + _numberOfEdgesItems/2 ).toInt() ;\n\n       _belowItems = _aboveItems + _centeredItems ;\n\n     return Container(\n     padding:  index &gt;= _aboveItems &amp;&amp; index &lt; _belowItems ? EdgeInsets.all(_middlePadding) : EdgeInsets.all(_edgesPadding) ,\n     child: Card(\n     child: Container(\n       height: _itemSize,\n         child: new Row(\n             mainAxisAlignment: MainAxisAlignment.center,\n             children: &lt;Widget&gt;[\n               Text(index.toString(), style: TextStyle(fontSize: 36.0, fontWeight: FontWeight.bold)),\n               ]\n             ),\n           ),\n         ),\n       );\n       }),\n     );\n   }\n }\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 7214729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32c8384eba671611c0554b631e93b537?s=128&d=identicon&r=PG&f=1", "display_name": "JoseMelendez", "link": "https://stackoverflow.com/users/7214729/josemelendez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2005, "favorite_count": 1, "accepted_answer_id": 55366081, "answer_count": 1, "score": 2, "last_activity_date": 1553634199, "creation_date": 1553609438, "last_edit_date": 1553634199, "question_id": 55359241, "link": "https://stackoverflow.com/questions/55359241/how-to-detect-the-position-of-a-listview-item", "title": "How to detect the position of a ListView Item?", "body": "<p>How do I add padding to a listView item based on its position on the screen. For example, If a listView item is in the middle of the screen, I would like to increase its padding by 10 points, If the listView item is near the top of the screen I would like to increase its padding by 15 points.</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 992, "user_id": 6706175, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/syWNe.jpg?s=128&g=1", "display_name": "divyanshu bhargava", "link": "https://stackoverflow.com/users/6706175/divyanshu-bhargava"}, "edited": false, "score": 0, "creation_date": 1553840207, "post_id": 55358150, "comment_id": 97542612, "body": "What view are you using like ListView or SingleChildScrollView?"}], "answers": [{"comments": [{"owner": {"reputation": 1977, "user_id": 2226388, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/I64gY.png?s=128&g=1", "display_name": "zukijuki", "link": "https://stackoverflow.com/users/2226388/zukijuki"}, "edited": false, "score": 0, "creation_date": 1553849294, "post_id": 55412034, "comment_id": 97546177, "body": "the problem is i am using <code>NestedScrollView</code> with <code>SliverAppBar</code>, where scroll listener has tell me i&#39;ve reach bottom screen but it&#39;s false because i still have more item to scroll (not yet getting bottom)"}], "tags": [], "owner": {"reputation": 992, "user_id": 6706175, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/syWNe.jpg?s=128&g=1", "display_name": "divyanshu bhargava", "link": "https://stackoverflow.com/users/6706175/divyanshu-bhargava"}, "is_accepted": false, "score": 1, "last_activity_date": 1553842789, "creation_date": 1553842789, "answer_id": 55412034, "question_id": 55358150, "link": "https://stackoverflow.com/questions/55358150/how-to-know-if-a-flutter-image-has-been-seen-by-the-user/55412034#55412034", "title": "How to know if a flutter image has been seen by the user", "body": "<p>There is no way yet to know the visible item in the listView. Follow this <a href=\"https://github.com/flutter/flutter/issues/19941\" rel=\"nofollow noreferrer\">issue</a>. You can add items in the listview and check whether you have reached the bottom of the list using the <code>ScrollController</code>. </p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(MainPage());\n\nclass MainPage extends StatefulWidget {\n  @override\n  _MainPageState createState() =&gt; _MainPageState();\n}\n\nclass _MainPageState extends State&lt;MainPage&gt; {\n  ScrollController _controller;\n\n  @override\n  void initState() {\n    _controller = ScrollController();\n    _controller.addListener(_scrollListener);\n    super.initState();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      debugShowCheckedModeBanner: false,\n      home: Scaffold(\n        backgroundColor: Colors.white,\n        body: ListView(\n          controller: _controller,\n          children: &lt;Widget&gt;[\n            Text(text),\n            Text(text),\n            Text(text),\n            Text(text),\n            Text(text),\n            Image.network(\n                'https://sample-videos.com/img/Sample-png-image-200kb.png'),\n            Text(text),\n          ],\n        ),\n      ),\n    );\n  }\n\n  _scrollListener() {\n    if (_controller.offset &gt;= _controller.position.maxScrollExtent &amp;&amp;\n        !_controller.position.outOfRange) {\n      // reached at the bottom of list\n      // Increment the view by one\n    }\n  }\n\n  String text =\n      'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur id ornare orci. In aliquet sed leo vel suscipit. Suspendisse eget dolor arcu. Duis fermentum quam suscipit nisl interdum fermentum. Aliquam laoreet, mi eu gravida rutrum, elit ex ornare erat, in egestas leo augue ac nisl. Sed vitae commodo metus, nec vulputate dui. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Phasellus rhoncus tellus nec diam elementum laoreet. Phasellus ac sapien leo. Donec dolor ante, porta quis pellentesque quis, iaculis vitae quam. Sed bibendum tortor a vestibulum malesuada. Duis non nisl congue, fringilla nulla et, laoreet odio.';\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5165, "user_id": 9374465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4885599304ccdac5fc24aea1bac2d4?s=128&d=identicon&r=PG&f=1", "display_name": "Mazin Ibrahim", "link": "https://stackoverflow.com/users/9374465/mazin-ibrahim"}, "is_accepted": false, "score": 3, "last_activity_date": 1553888597, "last_edit_date": 1553888597, "creation_date": 1553850850, "answer_id": 55413998, "question_id": 55358150, "link": "https://stackoverflow.com/questions/55358150/how-to-know-if-a-flutter-image-has-been-seen-by-the-user/55413998#55413998", "title": "How to know if a flutter image has been seen by the user", "body": "<p><a href=\"https://i.stack.imgur.com/zTHs2.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zTHs2.gif\" alt=\"enter image description here\"></a></p>\n\n<p>This solution will detect if your <code>Image</code> has been fully visible on your user screen, and will change the <code>AppBar</code> title if so. Assuming you want to display a single page with some content and an <code>Image</code>:</p>\n\n<pre><code>  class ImageDisplayDetection extends StatefulWidget {\n  ImageDisplayDetection({Key key,}) : super(key: key);\n\n  @override\n  _ImageDisplayDetectionState createState() =&gt; _ImageDisplayDetectionState();\n  }\n\n  class  _ImageDisplayDetectionState extends State&lt;ImageDisplayDetection&gt; {\n\n  ScrollController _controller; // To get the current scroll offset\n\n  var _itemSize = 400.0 ; // The height of your image\n\n  double _listSize = 2000.0 ;\n\n  double position = 1500.0 ; // position from the top of the list where the image begins\n\n  var seen = false ; // to report the visibility of your image\n\n\n @override\n void initState() {\n    _controller = ScrollController();\n    _controller.addListener(_scrollListener); // The listener will be used to check if the image has become visible\n    super.initState();\n }\n\n _scrollListener() {\n    setState(() {\n      // This 60.0 is the assumed hieght of the bottom navigation buttons so the image won't be considered visible unless it is above these buttons\n      if((_controller.offset + MediaQuery.of(context).size.height) &gt;= position + _itemSize + 60.0){\n        seen = true ;\n      }\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n    backgroundColor: Colors.grey.shade200 ,\n    appBar: new AppBar(title: new Text(seen ? 'Image Displayed Successfully' : 'Image not displayed'),),\n    body: ListView.builder(\n      controller: _controller ,\n      itemCount: 1,\n      itemBuilder: (context, index) {\n        return Container(\n              height: _listSize ,\n              child: new Stack(\n                children: &lt;Widget&gt;[\n                  // You can include other childern here such as TextArea\n\n                  Positioned(\n                    top: position,\n                    child: SizedBox(\n                      height: _itemSize,\n                      width: _itemSize,\n                      child: ClipRRect(\n                        borderRadius: BorderRadius.circular(5.0),\n                        child: Image.asset('assets/images/2.jpg'), //Change the image widget to match your own image source and name\n                      ),\n                    ),\n                  ),\n                ],\n              ),\n            );\n         }),\n       );\n     }\n   }\n</code></pre>\n\n<p>If you rather want a <code>listview</code> with multiple <code>ListTiles</code> you can opt for this <a href=\"https://stackoverflow.com/questions/55359241/how-to-detect-the-position-of-a-listview-item/55366081#55366081\">answer</a> which can detect whether a <code>child</code> which an arbitrary index has become visible and is displayed at certain position in the screen.</p>\n"}, {"tags": [], "owner": {"reputation": 103440, "user_id": 6618622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z7q0p.jpg?s=128&g=1", "display_name": "CopsOnRoad", "link": "https://stackoverflow.com/users/6618622/copsonroad"}, "is_accepted": true, "score": 6, "last_activity_date": 1554401733, "last_edit_date": 1554401733, "creation_date": 1553885060, "answer_id": 55423779, "question_id": 55358150, "link": "https://stackoverflow.com/questions/55358150/how-to-know-if-a-flutter-image-has-been-seen-by-the-user/55423779#55423779", "title": "How to know if a flutter image has been seen by the user", "body": "<p>I didn't have much information about your code, so this is how I solved it. The impression is only counted when the image is completely visible on the screen, you can change that using <code>_count =</code> expression. And I used simple <code>Container</code> for <code>Image</code>. </p>\n\n<p>Take a look at this screenshot first. </p>\n\n<p><a href=\"https://i.stack.imgur.com/UUHs6.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UUHs6.gif\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p><strong>Code</strong></p>\n\n<pre><code>void main() =&gt; runApp(MaterialApp(home: HomePage()),);\n\nclass HomePage extends StatefulWidget {\n  @override\n  _HomePageState createState() =&gt; _HomePageState();\n}\n\nclass _HomePageState extends State&lt;HomePage&gt; {\n  ScrollController _scrollController;\n  double _heightListTile = 56, _heightContainer = 200, _oldOffset = 0, _heightBox, _initialAdd;\n  int _initialCount, _count, _previousCount = 0, _itemsInList = 4;\n\n  @override\n  void initState() {\n    super.initState();\n    _heightBox = ((_itemsInList) * _heightListTile) + _heightContainer;\n    _scrollController = ScrollController();\n    _scrollController.addListener(() {\n      double offset = _scrollController.offset;\n      if (offset &gt;= _oldOffset) {\n        _oldOffset = offset;\n        _count = _initialCount + (offset + _initialAdd) ~/ _heightBox;\n        if (_count != _previousCount) setState(() {});\n        _previousCount = _count;\n      }\n    });\n\n    Timer.run(() {\n      bool isIos = Theme.of(context).platform == TargetPlatform.iOS;\n      var screenHeight = MediaQuery.of(context).size.height - (isIos ? 100 : 80); // for non notches phone use 76 instead of 100 (it's the height of status and navigation bar)\n      _initialCount = screenHeight ~/ _heightBox;\n      _initialAdd = screenHeight % _heightBox;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: Text(_count == null ? \"Let's count\" : \"Images shown = ${_count}\")),\n      body: ListView.builder(\n        itemCount: 100,\n        controller: _scrollController,\n        itemBuilder: (context, index) {\n          if (index == 0) return Container();\n\n          if (index != 0 &amp;&amp; index % (_itemsInList + 1) == 0) {\n            return Container(\n              height: _heightContainer,\n              alignment: Alignment.center,\n              color: Colors.blue[(index * 20) % 1000],\n              child: Text(\"Image #${(index + 1) ~/ 5}\"),\n            );\n          }\n\n          return SizedBox(height: _heightListTile, child: ListTile(title: Text(\"Item ${index}\")));\n        },\n      ),\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1977, "user_id": 2226388, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/I64gY.png?s=128&g=1", "display_name": "zukijuki", "link": "https://stackoverflow.com/users/2226388/zukijuki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1052, "favorite_count": 0, "accepted_answer_id": 55423779, "answer_count": 3, "score": 4, "last_activity_date": 1564399226, "creation_date": 1553606257, "last_edit_date": 1553885505, "question_id": 55358150, "link": "https://stackoverflow.com/questions/55358150/how-to-know-if-a-flutter-image-has-been-seen-by-the-user", "title": "How to know if a flutter image has been seen by the user", "body": "<p>I have an <code>Image</code> component in a scrollable screen. At beginning when the screen open, the image cannot be seen but you need to scroll down to view it.</p>\n\n<p>How can you make sure the image is completely seen by the user after they have scrolled to it? I want to count the image impression of user.</p>\n\n<p>How do you achieve this in flutter?</p>\n"}, {"tags": ["android", "dart", "flutter"], "comments": [{"owner": {"reputation": 1098, "user_id": 9908240, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EqqQUy6lByw/AAAAAAAAAAI/AAAAAAAAAFs/4IdV2CygnX0/photo.jpg?sz=128", "display_name": "Viral Patel", "link": "https://stackoverflow.com/users/9908240/viral-patel"}, "edited": false, "score": 0, "creation_date": 1553606077, "post_id": 55357332, "comment_id": 97439847, "body": "please, provide your code..."}, {"owner": {"reputation": 2643, "user_id": 10471480, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aWUWhOQArrE/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWERAmHGe3PKyq4hS8cPDJgpMay1A/mo/photo.jpg?sz=128", "display_name": "Mangaldeep Pannu", "link": "https://stackoverflow.com/users/10471480/mangaldeep-pannu"}, "reply_to_user": {"reputation": 1098, "user_id": 9908240, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EqqQUy6lByw/AAAAAAAAAAI/AAAAAAAAAFs/4IdV2CygnX0/photo.jpg?sz=128", "display_name": "Viral Patel", "link": "https://stackoverflow.com/users/9908240/viral-patel"}, "edited": false, "score": 1, "creation_date": 1553607190, "post_id": 55357332, "comment_id": 97440639, "body": "I don&#39;t think code is requred. If still  please specify which code you need."}, {"owner": {"reputation": 1513, "user_id": 6688072, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Oj0ZW.jpg?s=128&g=1", "display_name": "Sudhanshu sharma", "link": "https://stackoverflow.com/users/6688072/sudhanshu-sharma"}, "edited": false, "score": 0, "creation_date": 1601490951, "post_id": 55357332, "comment_id": 113427930, "body": "One line solution. DateFormat(&#39;kk:mm:a&#39;).format(DateTime.parse(data[&#39;eventDateT&zwnj;&#8203;imeUtc&#39;] ).toLocal()"}], "answers": [{"comments": [{"owner": {"reputation": 2643, "user_id": 10471480, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aWUWhOQArrE/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWERAmHGe3PKyq4hS8cPDJgpMay1A/mo/photo.jpg?sz=128", "display_name": "Mangaldeep Pannu", "link": "https://stackoverflow.com/users/10471480/mangaldeep-pannu"}, "edited": false, "score": 0, "creation_date": 1553762958, "post_id": 55361246, "comment_id": 97507260, "body": "Thanks but after the string in parse() we have to specify time-zone offset. Refer: <a href=\"https://docs.flutter.io/flutter/dart-core/DateTime/parse.html\" rel=\"nofollow noreferrer\">docs.flutter.io/flutter/dart-core/DateTime/parse.html</a>. And again thanx."}, {"owner": {"reputation": 1513, "user_id": 6688072, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Oj0ZW.jpg?s=128&g=1", "display_name": "Sudhanshu sharma", "link": "https://stackoverflow.com/users/6688072/sudhanshu-sharma"}, "edited": false, "score": 0, "creation_date": 1601490918, "post_id": 55361246, "comment_id": 113427917, "body": "One line solution.  DateFormat(&#39;kk:mm:a&#39;).format( DateTime.parse(data[&#39;eventDateTimeUtc&#39;] ).toLocal()"}], "tags": [], "owner": {"reputation": 1143, "user_id": 6570670, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/86081dc1633839e08c29ebb00bf6fbcd?s=128&d=identicon&r=PG&f=1", "display_name": "R. Duggan", "link": "https://stackoverflow.com/users/6570670/r-duggan"}, "is_accepted": true, "score": 7, "last_activity_date": 1553615324, "creation_date": 1553615324, "answer_id": 55361246, "question_id": 55357332, "link": "https://stackoverflow.com/questions/55357332/how-to-get-local-time-from-ust-in-flutter/55361246#55361246", "title": "How to get local time from UST in flutter", "body": "<p>In flutter, the standard date time format should come in the local <code>DateTime</code> unless otherwise specified. If you already have the data and you didn't create it then you can parse the time that you get to a <code>DateTime</code> object using:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>DateFormat format = new DateFormat(\"HH:mm:ss\");\nDateTime time = format.parse(\"3:02:32 PM\");\ntime.toLocal();\n</code></pre>\n\n<p>Then to get it back to a string again you can simply go:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>time.toString();\n</code></pre>\n\n<p>The flutter documentation states that </p>\n\n<blockquote>\n  <p>A DateTime object is anchored either in the UTC time zone or in the local time zone of the current computer when the object is created.</p>\n</blockquote>\n\n<p>And that,</p>\n\n<blockquote>\n  <p>Use the methods toLocal and toUtc to get the equivalent date/time value specified in the other time zone.</p>\n</blockquote>\n\n<p>This is the documentation for <a href=\"https://docs.flutter.io/flutter/dart-core/DateTime-class.html\" rel=\"noreferrer\">reference.</a></p>\n"}], "owner": {"reputation": 2643, "user_id": 10471480, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aWUWhOQArrE/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWERAmHGe3PKyq4hS8cPDJgpMay1A/mo/photo.jpg?sz=128", "display_name": "Mangaldeep Pannu", "link": "https://stackoverflow.com/users/10471480/mangaldeep-pannu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8555, "favorite_count": 0, "closed_date": 1553962904, "accepted_answer_id": 55361246, "answer_count": 1, "score": 2, "last_activity_date": 1553615324, "creation_date": 1553603682, "last_edit_date": 1553604385, "question_id": 55357332, "link": "https://stackoverflow.com/questions/55357332/how-to-get-local-time-from-ust-in-flutter", "closed_reason": "Duplicate", "title": "How to get local time from UST in flutter", "body": "<p>I am making an app using flutter, dart.<br>\nI am using some api to get sunrise time using longitude and latitude.<br>\nBut the data I get is in UST time zone.<br>\nI want to convert it to local time zone.<br><br></p>\n\n<p>In short I have location and I want to convert time to local time.<br><br></p>\n\n<p>eg. I have time <strong>\"3:02:32 PM\"</strong> which is in <strong>UST</strong> and I have <strong>location</strong> (say India which is +5:30) so I want to get time which will be in this case <strong>\"8:32:32 PM\"</strong></p>\n"}, {"tags": ["dart", "visual-studio-code", "flutter", "dart-analyzer"], "answers": [{"comments": [{"owner": {"reputation": 32377, "user_id": 25124, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/4aec6b9ca532bc29a9c23e5147efa2fa?s=128&d=identicon&r=PG", "display_name": "Danny Tuppeny", "link": "https://stackoverflow.com/users/25124/danny-tuppeny"}, "edited": false, "score": 0, "creation_date": 1559761134, "post_id": 55356620, "comment_id": 99524359, "body": "It would be better to click the &quot;Show Log&quot; button and if it&#39;s not clear from that log what&#39;s up, open an issue on GitHub for investigation :-)"}, {"owner": {"reputation": 281, "user_id": 5036043, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d1e372f2885d64a72f556bacb3177fdc?s=128&d=identicon&r=PG&f=1", "display_name": "dwax", "link": "https://stackoverflow.com/users/5036043/dwax"}, "edited": false, "score": 0, "creation_date": 1565862874, "post_id": 55356620, "comment_id": 101483622, "body": "So I found the answer to my question here: <a href=\"https://github.com/flutter/flutter/issues/36257\" rel=\"nofollow noreferrer\">github.com/flutter/flutter/issues/36257</a>  After deleting the cache directory in the bin folder and re-running Flutter Doctor my problem went away."}], "tags": [], "owner": {"reputation": 2526, "user_id": 7387089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SKNuw.jpg?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/7387089/robin"}, "is_accepted": true, "score": 2, "last_activity_date": 1603276468, "last_edit_date": 1603276468, "creation_date": 1553601521, "answer_id": 55356620, "question_id": 55356410, "link": "https://stackoverflow.com/questions/55356410/the-dart-analyzer-could-not-be-started-in-vscode/55356620#55356620", "title": "The Dart Analyzer could not be started in vscode", "body": "<p>This problem is solved by uninstalling the Dart sdk manually from the computer, and re-install it.</p>\n<p>If anyone face the same problem, please uninstall your dart sdk And install it again. Make sure you re-start your vscode IDE.</p>\n<p>Hope this will helpful if you face the same problem.</p>\n<p>--- Happy Coding ---</p>\n"}, {"tags": [], "owner": {"reputation": 467, "user_id": 8021304, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OOksmI3zdc4/AAAAAAAAAAI/AAAAAAAALmU/a1VeTdS268c/photo.jpg?sz=128", "display_name": "Prosenjit Manna", "link": "https://stackoverflow.com/users/8021304/prosenjit-manna"}, "is_accepted": false, "score": 0, "last_activity_date": 1565769321, "creation_date": 1565769321, "answer_id": 57490440, "question_id": 55356410, "link": "https://stackoverflow.com/questions/55356410/the-dart-analyzer-could-not-be-started-in-vscode/57490440#57490440", "title": "The Dart Analyzer could not be started in vscode", "body": "<p>I had a permission issue. I just go through the log and seems unable to create .dart directory in the home folder.</p>\n\n<p>Here is the solution:\n - This solution for mac only\n - cd ~\n - cd ..\n - whoami\n - sudo chown {username} {userfolder}</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8392806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73e87e3c1f731f275a4d68ffd8aa5a42?s=128&d=identicon&r=PG&f=1", "display_name": "Johan Genis", "link": "https://stackoverflow.com/users/8392806/johan-genis"}, "is_accepted": false, "score": 0, "last_activity_date": 1589441994, "creation_date": 1589441994, "answer_id": 61791871, "question_id": 55356410, "link": "https://stackoverflow.com/questions/55356410/the-dart-analyzer-could-not-be-started-in-vscode/61791871#61791871", "title": "The Dart Analyzer could not be started in vscode", "body": "<p>In my case a simple restart of VSCode was needed - it seems as if there was a Dart update pending that VSCode did not notify me about.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10614812, "user_type": "registered", "profile_image": "https://graph.facebook.com/779441735545540/picture?type=large", "display_name": "Shashintha Madhuraj", "link": "https://stackoverflow.com/users/10614812/shashintha-madhuraj"}, "is_accepted": false, "score": 1, "last_activity_date": 1593435186, "creation_date": 1593435186, "answer_id": 62638603, "question_id": 55356410, "link": "https://stackoverflow.com/questions/55356410/the-dart-analyzer-could-not-be-started-in-vscode/62638603#62638603", "title": "The Dart Analyzer could not be started in vscode", "body": "<h2>solved..!</h2>\n<p>give permission to access the flutter folder.</p>\n<h2>for MAC</h2>\n<ul>\n<li>go to the security &amp; privacy section</li>\n<li>then select the files and folders</li>\n<li>under your IDE,</li>\n<li>give permission to access the Flutter folder</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/FYQa2.png\" rel=\"nofollow noreferrer\">In my case I put the flutter folder inside the document</a></p>\n"}], "owner": {"reputation": 2526, "user_id": 7387089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SKNuw.jpg?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/7387089/robin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2143, "favorite_count": 0, "accepted_answer_id": 55356620, "answer_count": 4, "score": 3, "last_activity_date": 1603276468, "creation_date": 1553600887, "question_id": 55356410, "link": "https://stackoverflow.com/questions/55356410/the-dart-analyzer-could-not-be-started-in-vscode", "title": "The Dart Analyzer could not be started in vscode", "body": "<p>I just updated Dart version and then my vscode warning me everytime, \"The Dart Analyzer could not be started\".</p>\n\n<p><a href=\"https://i.stack.imgur.com/aONyy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aONyy.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can i solve this issue ?</p>\n\n<p>Thank's</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 1646, "user_id": 7552217, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1565798300116209/picture?type=large", "display_name": "Sagun Raj Lage", "link": "https://stackoverflow.com/users/7552217/sagun-raj-lage"}, "edited": false, "score": 0, "creation_date": 1553600096, "post_id": 55355855, "comment_id": 97435853, "body": "What should I exactly return? I tried returning a string &quot;success&quot;. But it didn&#39;t make any difference."}, {"owner": {"reputation": 109, "user_id": 2641909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x0WhY.jpg?s=128&g=1", "display_name": "hfunes.com", "link": "https://stackoverflow.com/users/2641909/hfunes-com"}, "reply_to_user": {"reputation": 1646, "user_id": 7552217, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1565798300116209/picture?type=large", "display_name": "Sagun Raj Lage", "link": "https://stackoverflow.com/users/7552217/sagun-raj-lage"}, "edited": false, "score": 0, "creation_date": 1588951028, "post_id": 55355855, "comment_id": 109106154, "body": "I had the same problem that @SagunRajLage had, and that was because I wasn&#39;t putting the <b><i>return inside the onRefresh() method</i></b>.  Explained with the above&#39;s example:  I was doing: <code>onRefresh: () {        globalKey.currentState.getCountryData();     },</code>  instead of      <code>onRefresh: () {       return globalKey.currentState.getCountryData();     },</code> Hope it helps someone :)"}], "tags": [], "owner": {"reputation": 1366, "user_id": 6117675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LqCoI.jpg?s=128&g=1", "display_name": "Taym95", "link": "https://stackoverflow.com/users/6117675/taym95"}, "is_accepted": false, "score": 1, "last_activity_date": 1553599051, "creation_date": 1553599051, "answer_id": 55355855, "question_id": 55355691, "link": "https://stackoverflow.com/questions/55355691/how-do-i-make-refreshindicator-disappear/55355855#55355855", "title": "How do I make RefreshIndicator disappear?", "body": "<p>The onRefresh callback is called. The callback is expected to update the scrollable's contents and then complete the Future it returns. The refresh indicator disappears after the callback's Future has completed, I think you should return <code>Future&lt;String&gt;</code> from <code>getCountryData</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 1646, "user_id": 7552217, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1565798300116209/picture?type=large", "display_name": "Sagun Raj Lage", "link": "https://stackoverflow.com/users/7552217/sagun-raj-lage"}, "edited": false, "score": 0, "creation_date": 1553652777, "post_id": 55360095, "comment_id": 97460844, "body": "Thank you so much for remaining so patient and helping me out!"}], "tags": [], "owner": {"reputation": 1366, "user_id": 6117675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LqCoI.jpg?s=128&g=1", "display_name": "Taym95", "link": "https://stackoverflow.com/users/6117675/taym95"}, "is_accepted": true, "score": 10, "last_activity_date": 1553611906, "creation_date": 1553611906, "answer_id": 55360095, "question_id": 55355691, "link": "https://stackoverflow.com/questions/55355691/how-do-i-make-refreshindicator-disappear/55360095#55360095", "title": "How do I make RefreshIndicator disappear?", "body": "<p>You need to add <code>return</code> here:</p>\n\n<pre><code>Future&lt;String&gt; getCountryData() async {\n    setState(() {\n      _loading = true;\n    });\n    var response =\n        await http.get(Uri.encodeFull(\"https://restcountries.eu/rest/v2/all\"));\n    var decodedResponse = json.decode(response.body);\n    setState(() {\n      _countryData = decodedResponse;\n      _loading = false;\n    });\n\n    return 'success';\n    }\n\n</code></pre>\n\n<p>and here:</p>\n\n<pre><code>body: RefreshIndicator(\n    child: CountryList(key: globalKey),\n    onRefresh: () {\n      return globalKey.currentState.getCountryData();\n    },\n  ),\n</code></pre>\n"}], "owner": {"reputation": 1646, "user_id": 7552217, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1565798300116209/picture?type=large", "display_name": "Sagun Raj Lage", "link": "https://stackoverflow.com/users/7552217/sagun-raj-lage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5479, "favorite_count": 1, "accepted_answer_id": 55360095, "answer_count": 2, "score": 7, "last_activity_date": 1575452551, "creation_date": 1553598555, "question_id": 55355691, "link": "https://stackoverflow.com/questions/55355691/how-do-i-make-refreshindicator-disappear", "title": "How do I make RefreshIndicator disappear?", "body": "<p>I have this code that has the parent widget <code>Homepage</code> and the child widget <code>CountryList</code>. In <code>CountryList</code>, I have created a function that uses an API to get a list of countries. I felt like enabling a <code>RefreshIndicator</code> in the app, so I had to modify the <code>Homepage</code> widget and add <code>GlobalKey</code> to access <code>getCountryData()</code> function of <code>CountryList</code> widget. The <code>RefreshIndicator</code> has done its job well. But the problem now is that when I pull and use the <code>RefreshIndicator</code> in the app, the <code>getCountryData()</code> function is called, but even after showing all data in the list, the circular spinner doesn't go (shown in the screenshot).<a href=\"https://i.stack.imgur.com/YddiG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/YddiG.png\" alt=\"App Screenshot\"></a></p>\n\n<p>So, could anyone please suggest me a way to make the spinner go?\nThe code of <code>main.dart</code> containing <code>Homepage</code> widget is given below:</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'country_list.dart';\nGlobalKey&lt;dynamic&gt; globalKey = GlobalKey();\n\nvoid main() =&gt; runApp(MaterialApp(home: Homepage()));\n\nclass Homepage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: Text(\"List of countries\"), actions: &lt;Widget&gt;[\n        IconButton(icon: Icon(Icons.favorite), onPressed: (){},)\n      ],),\n      body: RefreshIndicator(child: CountryList(key:globalKey), onRefresh: (){globalKey.currentState.getCountryData();},),\n    );\n  }\n}\n</code></pre>\n\n<p>And the code of <code>country_list.dart</code> containing <code>CountryList</code> widget is:</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'dart:async';\nimport 'package:http/http.dart' as http;\nimport 'dart:convert';\nimport 'package:flutter_svg/flutter_svg.dart';\nclass CountryList extends StatefulWidget {\n  CountryList({Key key}) : super(key: key);\n  @override\n  _CountryListState createState() =&gt; _CountryListState();\n}\n\nclass _CountryListState extends State&lt;CountryList&gt; {\n  List&lt;dynamic&gt; _countryData;\n  bool _loading = false;\n  @override\n  void initState() {\n    // TODO: implement initState\n    super.initState();\n    this.getCountryData();\n  }\n\n  Future&lt;String&gt; getCountryData() async {\n    setState(() {\n      _loading = true;\n    });\n    var response =\n        await http.get(Uri.encodeFull(\"https://restcountries.eu/rest/v2/all\"));\n    var decodedResponse = json.decode(response.body);\n    setState(() {\n      _countryData = decodedResponse;\n      _loading = false;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return _loading?Center(child: Column(mainAxisAlignment: MainAxisAlignment.center, children: &lt;Widget&gt;[CircularProgressIndicator(), Padding(padding: EdgeInsets.all(5.0),), Text(\"Loading data...\", style: TextStyle(fontSize: 20.0),)],)):ListView.builder(\n      itemCount: _countryData.length,\n      itemBuilder: (BuildContext context, int index) {\n        return Card(\n          child: ListTile(\n            leading: SvgPicture.network(_countryData[index]['flag'], width: 60.0,),\n            title: Text(_countryData[index]['name']),\n            trailing: IconButton(\n              icon: Icon(Icons.favorite_border),\n              onPressed: () {},\n            ),\n          ),\n        );\n      },\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["dart", "floating-point", "ieee-754", "type-punning"], "answers": [{"comments": [{"owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "edited": false, "score": 0, "creation_date": 1553612931, "post_id": 55356344, "comment_id": 97444709, "body": "I think it is currently the most reliable way to convert between the representtions of integers and floats: To store the representation of one into bytes and read it back as the other."}, {"owner": {"reputation": 313, "user_id": 797422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba8155f2b0d70a86bf9b6b82f61da2a8?s=128&d=identicon&r=PG", "display_name": "fastfox", "link": "https://stackoverflow.com/users/797422/fastfox"}, "edited": false, "score": 0, "creation_date": 1553668384, "post_id": 55356344, "comment_id": 97464636, "body": "Nice, thanks. Can&#39;t believe I didn&#39;t find this after one hour of googling."}], "tags": [], "owner": {"reputation": 3671, "user_id": 8745788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTs7z.png?s=128&g=1", "display_name": "Mattia", "link": "https://stackoverflow.com/users/8745788/mattia"}, "is_accepted": true, "score": 4, "last_activity_date": 1553600668, "creation_date": 1553600668, "answer_id": 55356344, "question_id": 55355482, "link": "https://stackoverflow.com/questions/55355482/parsing-integer-bit-patterns-as-ieee-754-floats-in-dart/55356344#55356344", "title": "Parsing integer bit-patterns as IEEE 754 floats in dart", "body": "<p>This is working, just import the <code>dart:typed_data</code> library:</p>\n\n<pre><code>  var bdata = ByteData(4);\n  bdata.setInt32(0, 0x3fd0a3d7);\n  print(bdata.getFloat32(0)); //Prints: 1.6299999952316284\n</code></pre>\n\n<p>(I'm not sure this is the most reliable way)</p>\n"}], "owner": {"reputation": 313, "user_id": 797422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba8155f2b0d70a86bf9b6b82f61da2a8?s=128&d=identicon&r=PG", "display_name": "fastfox", "link": "https://stackoverflow.com/users/797422/fastfox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "accepted_answer_id": 55356344, "answer_count": 1, "score": 0, "last_activity_date": 1553600754, "creation_date": 1553597927, "last_edit_date": 1553600754, "question_id": 55355482, "link": "https://stackoverflow.com/questions/55355482/parsing-integer-bit-patterns-as-ieee-754-floats-in-dart", "title": "Parsing integer bit-patterns as IEEE 754 floats in dart", "body": "<p>I am getting 4 bytes of data through an interface(Bluetooth, List). The data is representing IEEE 754 float (e.g. <code>0x3fd0a3d7</code>, which represents approximately <code>1.63</code> as a binary32 <code>float</code>)</p>\n\n<p>Is there a way in dart lang to convert / type-pun this to float and then double? Something like <code>intBitsToFloat</code> in Java. Couldn't find anything. Or do I just have to write the IEEE 754 parsing myself?</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 1646, "user_id": 7552217, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1565798300116209/picture?type=large", "display_name": "Sagun Raj Lage", "link": "https://stackoverflow.com/users/7552217/sagun-raj-lage"}, "is_accepted": false, "score": 0, "last_activity_date": 1553599058, "creation_date": 1553599058, "answer_id": 55355857, "question_id": 55355438, "link": "https://stackoverflow.com/questions/55355438/flutter-input-with-decimal-number/55355857#55355857", "title": "Flutter input with decimal number", "body": "<p>The reason behind showing of the comma is because of the device's local region formats. Maybe <a href=\"https://stackoverflow.com/questions/30150829/uitextfields-numerical-pad-dot-instead-of-comma-for-float-values\">this link</a> can help you out.</p>\n"}], "owner": {"reputation": 643, "user_id": 8653915, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208211298235032/picture?type=large", "display_name": "\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u0411\u0430\u0431\u0438\u0447", "link": "https://stackoverflow.com/users/8653915/%d0%90%d0%bb%d0%b5%d0%ba%d1%81%d0%b0%d0%bd%d0%b4%d1%80-%d0%91%d0%b0%d0%b1%d0%b8%d1%87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2031, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553599058, "creation_date": 1553597810, "question_id": 55355438, "link": "https://stackoverflow.com/questions/55355438/flutter-input-with-decimal-number", "title": "Flutter input with decimal number", "body": "<p>I'm trying to parse input in Flutter and extract Double value there. I.e. user can only input decimal numbers. </p>\n\n<p>To do this I'm using TextField:</p>\n\n<pre><code>TextField(\n                    keyboardType: TextInputType.numberWithOptions(signed: false, decimal: true)\n                    controller: _controller,\n                  )\n</code></pre>\n\n<p>However on iOS device I have keyboard with numbers and comma(,), not dot (.). When user inputs comma I'm parsing string and having error like this: </p>\n\n<pre><code>Error: FormatException: Invalid double 5,\n</code></pre>\n\n<p>What is the best way to handle this? \nSome dirty solutions are: </p>\n\n<ul>\n<li>use TextInputType.numberWithOptions(signed: true, decimal: true) - this gives keyboard with not only numbers and user input dot there. </li>\n<li>maybe somehow replace commas with dots first</li>\n</ul>\n"}, {"tags": ["list", "dart", "flutter"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10539074"}, "edited": false, "score": 1, "creation_date": 1553595642, "post_id": 55354093, "comment_id": 97433159, "body": "you do toSet() on the list of ExpansionTiles but you should do it on list of car names"}, {"owner": {"reputation": 199, "user_id": 8107739, "user_type": "registered", "profile_image": "https://graph.facebook.com/1525827874155842/picture?type=large", "display_name": "Lukas Luke Stateczny", "link": "https://stackoverflow.com/users/8107739/lukas-luke-stateczny"}, "edited": false, "score": 0, "creation_date": 1553638909, "post_id": 55354093, "comment_id": 97457636, "body": "Got it! before returning the Widget I applied toSet() to the list of car names. All good now!"}], "answers": [{"tags": [], "owner": {"reputation": 1366, "user_id": 6117675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LqCoI.jpg?s=128&g=1", "display_name": "Taym95", "link": "https://stackoverflow.com/users/6117675/taym95"}, "is_accepted": false, "score": 0, "last_activity_date": 1553594817, "creation_date": 1553594817, "answer_id": 55354426, "question_id": 55354093, "link": "https://stackoverflow.com/questions/55354093/remove-duplicate-widget/55354426#55354426", "title": "Remove duplicate widget", "body": "<p>Don't forget to add a unique <code>key:</code> to <code>ExpansionTile</code> to avoid any duplicate issues! </p>\n"}], "owner": {"reputation": 199, "user_id": 8107739, "user_type": "registered", "profile_image": "https://graph.facebook.com/1525827874155842/picture?type=large", "display_name": "Lukas Luke Stateczny", "link": "https://stackoverflow.com/users/8107739/lukas-luke-stateczny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 204, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553594817, "creation_date": 1553593809, "question_id": 55354093, "link": "https://stackoverflow.com/questions/55354093/remove-duplicate-widget", "title": "Remove duplicate widget", "body": "<p><a href=\"https://i.stack.imgur.com/3e13X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3e13X.png\" alt=\"enter image description here\"></a>My function types() should return a unique list of ExpansionTiles. \nIn dart combining .toSet().toList() is really efficient in removing duplicates in List and I am trying to do the same here but I'm still rendering duplicates. </p>\n\n<p>In the picture I don't want NISSAN to appear twice, just once as one category.</p>\n\n<pre><code>types() {\n return snapshot.data.documents.map((doc) { \n   if(doc['car']['registryNumber'] != null &amp;&amp; doc['car']['category'] == \n   'car') {\n     return ExpansionTile(\n       title: new Row(\n       children: &lt;Widget&gt;[\n         new Text(\n          doc['car']['type'].split(' ')[0],\n          style: new TextStyle(\n           fontSize: 15.0\n          ),\n         )\n       ],\n       ),\n       children: &lt;Widget&gt;[\n\n       ],\n     );\n     } else {  \n      return new Text('');\n   }\n  }).toSet().toList();\n}\n</code></pre>\n"}, {"tags": ["redux", "dart", "flutter", "store"], "comments": [{"owner": {"reputation": 4094, "user_id": 1178759, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/FtZkI.jpg?s=128&g=1", "display_name": "SaschaM78", "link": "https://stackoverflow.com/users/1178759/sascham78"}, "edited": false, "score": 0, "creation_date": 1553607231, "post_id": 55353214, "comment_id": 97440660, "body": "Hi and welcome to SO. I rephrased your question to start with the initial problem/question and formatted your code. There was a closing curly bracket that did not have an opening bracket so you should check the reformatted code, please. You mention &quot;Flutter&quot; in the tags and title but this does not show up in your question text so you may add some details about it to the question as well. Good luck!"}], "answers": [{"tags": [], "owner": {"reputation": 1366, "user_id": 6117675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LqCoI.jpg?s=128&g=1", "display_name": "Taym95", "link": "https://stackoverflow.com/users/6117675/taym95"}, "is_accepted": false, "score": 0, "last_activity_date": 1553594489, "creation_date": 1553594489, "answer_id": 55354323, "question_id": 55353214, "link": "https://stackoverflow.com/questions/55353214/how-to-store-a-variable-inside-redux-store-in-flutter/55354323#55354323", "title": "How to store a variable inside Redux Store in Flutter?", "body": "<p>since you don't know how redux works, I will not give you a response but I will advise you to learn redux ecosystem here is some link to start with:</p>\n\n<p><a href=\"https://github.com/brianegan/flutter_redux\" rel=\"nofollow noreferrer\">flutter-redux</a></p>\n\n<p>examples:</p>\n\n<p><a href=\"https://github.com/brianegan/flutter_redux/tree/master/example/counter\" rel=\"nofollow noreferrer\">counter</a></p>\n\n<p><a href=\"https://hackernoon.com/flutter-redux-how-to-make-shopping-list-app-1cd315e79b65\" rel=\"nofollow noreferrer\">shopping-list-app</a></p>\n"}], "owner": {"reputation": 405, "user_id": 11212748, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bus7Q.jpg?s=128&g=1", "display_name": "Rahi", "link": "https://stackoverflow.com/users/11212748/rahi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 291, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553607231, "creation_date": 1553590882, "last_edit_date": 1553607231, "question_id": 55353214, "link": "https://stackoverflow.com/questions/55353214/how-to-store-a-variable-inside-redux-store-in-flutter", "title": "How to store a variable inside Redux Store in Flutter?", "body": "<h2>Question:</h2>\n\n<p>How can I store a variable inside Redux store to allow other pages to access it?</p>\n\n<h2>Current situation:</h2>\n\n<p>I am trying to store the <code>res</code> variable inside Redux store so that I can access it from any other page. This what I have done so far:</p>\n\n<p><strong>Code:</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>submit(String email, String password) async {\n    print(email);\n    print(password);\n    var data = {\n        'email': email,\n        'password': password\n    };\n\n    http.Response response = await http.post(\n            Uri.encodeFull(\"http://v2mobile.dico.se/api/login\"),\n            body: data,\n            headers: {\n            'Accept': 'application/json',\n        });\n\n    var res = json.decode(response.body);\n    print(res);\n}\n</code></pre>\n"}, {"tags": ["dart", "angular-material2", "angular-dart"], "answers": [{"comments": [{"owner": {"reputation": 595, "user_id": 1444083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PoPiY.jpg?s=128&g=1", "display_name": "Martin Edlman", "link": "https://stackoverflow.com/users/1444083/martin-edlman"}, "edited": false, "score": 0, "creation_date": 1553661120, "post_id": 55369174, "comment_id": 97462505, "body": "Thank you Ted. Using mixin looks good, I&#39;ll try it. Sorry for the misunderstanding, by saying that the component looks ugly I just wanted to point out it looks differently and uses different definition than other date picker components. Which make it hard to use these together. But definitely Angular Dart and material components as a whole are great and that&#39;s why I use it."}], "tags": [], "owner": {"reputation": 1821, "user_id": 7711920, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-04zzMRK9qvE/AAAAAAAAAAI/AAAAAAAABHQ/tjs-Q8LOBQc/photo.jpg?sz=128", "display_name": "Ted Sander", "link": "https://stackoverflow.com/users/7711920/ted-sander"}, "is_accepted": true, "score": 1, "last_activity_date": 1553655937, "creation_date": 1553655937, "answer_id": 55369174, "question_id": 55352552, "link": "https://stackoverflow.com/questions/55352552/angular-dart-material-daterange-picker-height/55369174#55369174", "title": "Angular Dart Material Daterange picker height", "body": "<p>So you might want to try to use this mixin here which might work better for your environment. <a href=\"https://github.com/dart-lang/angular_components/blob/c644746d2824df7cfaf0a34f900b1f8557caddbc/angular_components/lib/material_datepicker/_mixins.scss#L221\" rel=\"nofollow noreferrer\">https://github.com/dart-lang/angular_components/blob/c644746d2824df7cfaf0a34f900b1f8557caddbc/angular_components/lib/material_datepicker/_mixins.scss#L221</a></p>\n\n<p>You can also see how it sets the .main-content height by using :ng-deep. For Google products we don't want people to customize using ng-deep as it makes everything part of public API which makes migrations hard, but it should be OK in this content.</p>\n\n<p>We are going to look into providing a mixin for teams to set the height themselves in a more maintenance friendly manner.</p>\n\n<p>I'm glad you like using the widgets, but I would ask that you take care with your criticism. This particular design works well for our products and many of our designers love it and thinks it looks beautiful. I understand it doesn't work for your use case, but hopefully the customization outlined above will work for you.</p>\n"}], "owner": {"reputation": 595, "user_id": 1444083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PoPiY.jpg?s=128&g=1", "display_name": "Martin Edlman", "link": "https://stackoverflow.com/users/1444083/martin-edlman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 55369174, "answer_count": 1, "score": 0, "last_activity_date": 1553655937, "creation_date": 1553588239, "question_id": 55352552, "link": "https://stackoverflow.com/questions/55352552/angular-dart-material-daterange-picker-height", "title": "Angular Dart Material Daterange picker height", "body": "<p>I use <strong><code>&lt;material-date-range-picker ...&gt;</code></strong> but it is displayed to tall. I found that <code>material_date_range_picker.scss</code> declares <code>.main-content { ...; height: $datepicker-main-content-height; ... }</code> and $datepicker-main-content-height is defined as $mat-grid * 9 which is 72px. The component looks ugly and breaks a layout. Other datepicker components don't define height and look normal.\nI tried to override the height in my CSS by <code>:host .main-content { height: auto !important}</code> but as Angular adds some _ngcontent-rnp-XX classes to elements it doesn't apply.\nDoes anybody know how to style <strong>material-date-range-picker</strong> height? (And why it is styled to have fixed height).</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 5165, "user_id": 9374465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4885599304ccdac5fc24aea1bac2d4?s=128&d=identicon&r=PG&f=1", "display_name": "Mazin Ibrahim", "link": "https://stackoverflow.com/users/9374465/mazin-ibrahim"}, "edited": false, "score": 0, "creation_date": 1553581602, "post_id": 55350820, "comment_id": 97425847, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/15804101/dart-lambda-shortland-function-confusion\">Dart lambda/shortland function confusion</a>"}, {"owner": {"reputation": 22853, "user_id": 8708524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1005bc21463c9b1dcec6a3be2ab26943?s=128&d=identicon&r=PG&f=1", "display_name": "Hemanth Raj", "link": "https://stackoverflow.com/users/8708524/hemanth-raj"}, "reply_to_user": {"reputation": 5165, "user_id": 9374465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4885599304ccdac5fc24aea1bac2d4?s=128&d=identicon&r=PG&f=1", "display_name": "Mazin Ibrahim", "link": "https://stackoverflow.com/users/9374465/mazin-ibrahim"}, "edited": false, "score": 1, "creation_date": 1553583792, "post_id": 55350820, "comment_id": 97426697, "body": "This is not the duplicate, it is a quite interesting question @MazinIbrahim. This is a result of new way of defining <code>Set</code> introduced in <code>Dart 2.2</code>."}], "answers": [{"comments": [{"owner": {"reputation": 2112, "user_id": 10604378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nl64F.png?s=128&g=1", "display_name": "Muljayan", "link": "https://stackoverflow.com/users/10604378/muljayan"}, "edited": false, "score": 0, "creation_date": 1553591354, "post_id": 55351426, "comment_id": 97430485, "body": "Thank you for your answer, please check the edits I&#39;ve made in the question."}, {"owner": {"reputation": 2112, "user_id": 10604378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nl64F.png?s=128&g=1", "display_name": "Muljayan", "link": "https://stackoverflow.com/users/10604378/muljayan"}, "edited": false, "score": 0, "creation_date": 1553599337, "post_id": 55351426, "comment_id": 97435412, "body": "Thank you for the update. I am still confused as to how the widget state is being set inside a return statement. Is it because all functions and expressions run inside the return statement ultimately affect the widget state?"}, {"owner": {"reputation": 22853, "user_id": 8708524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1005bc21463c9b1dcec6a3be2ab26943?s=128&d=identicon&r=PG&f=1", "display_name": "Hemanth Raj", "link": "https://stackoverflow.com/users/8708524/hemanth-raj"}, "reply_to_user": {"reputation": 2112, "user_id": 10604378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nl64F.png?s=128&g=1", "display_name": "Muljayan", "link": "https://stackoverflow.com/users/10604378/muljayan"}, "edited": false, "score": 0, "creation_date": 1553608234, "post_id": 55351426, "comment_id": 97441362, "body": "Yes state will update, as you are executing <code>_products.add(&#39;More stuff&#39;)</code> , where <code>&#39;More stuff&#39;</code> will be added to <code>_products</code> irrespective of where you call it."}, {"owner": {"reputation": 22853, "user_id": 8708524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1005bc21463c9b1dcec6a3be2ab26943?s=128&d=identicon&r=PG&f=1", "display_name": "Hemanth Raj", "link": "https://stackoverflow.com/users/8708524/hemanth-raj"}, "reply_to_user": {"reputation": 2112, "user_id": 10604378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nl64F.png?s=128&g=1", "display_name": "Muljayan", "link": "https://stackoverflow.com/users/10604378/muljayan"}, "edited": false, "score": 0, "creation_date": 1553608704, "post_id": 55351426, "comment_id": 97441702, "body": "Also understand, <code>setState</code> is being called, the widget will be rebuilt with the <code>_products</code> will new data added."}], "tags": [], "owner": {"reputation": 22853, "user_id": 8708524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1005bc21463c9b1dcec6a3be2ab26943?s=128&d=identicon&r=PG&f=1", "display_name": "Hemanth Raj", "link": "https://stackoverflow.com/users/8708524/hemanth-raj"}, "is_accepted": true, "score": 13, "last_activity_date": 1580597405, "last_edit_date": 1580597405, "creation_date": 1553583646, "answer_id": 55351426, "question_id": 55350820, "link": "https://stackoverflow.com/questions/55350820/fat-arrow-notation-with-curly-braces-in-setstate-dart-flutter/55351426#55351426", "title": "Fat Arrow notation with curly braces in setState Dart/Flutter", "body": "<p>This is one of the interesting questions that I would love to answer. </p>\n\n<p>As the official documents say <a href=\"https://www.dartlang.org/guides/language/language-tour#functions\" rel=\"noreferrer\">here</a>, yes <code>=&gt;</code> is used as a shorthand syntax to <code>{ return ... }</code> which means <code>=&gt;</code> will just return whatever is produced on the righthand side. </p>\n\n<p>Also from <code>Dart 2.2</code> and above, a <code>Set</code> can be defined with comma separated values enclosed in a <code>{}</code> as mentioned in docs <a href=\"https://www.dartlang.org/guides/language/language-tour#sets\" rel=\"noreferrer\">here</a>.  </p>\n\n<p>Hence, the syntax you are using, i.e <code>{}</code> with statements separated with a comma, it is treated as a <code>Set</code> by the <code>=&gt;</code> functions. Each element being a function call, <code>() =&gt; { f(a) , f(b), g(a),}</code> would return a <code>Set</code> with the elements returned by each function call.</p>\n\n<p>This example might help you understand what is happening under the hood:</p>\n\n<pre><code>dynamic reflect(dynamic a){\n  return a;\n}\n\nvoid main() {  \n    Function shortHand = () =&gt; {reflect(1),reflect('a'),reflect({}),reflect([]),}; // this function when called will return a Set&lt;dynamic&gt;\n    print(shortHand().runtimeType); // will print `_LinkedHashSet&lt;dynamic&gt;`\n}\n</code></pre>\n\n<p>So the syntax </p>\n\n<p><code>() =&gt; '...'</code> returns a <code>String</code>,</p>\n\n<p><code>() =&gt; [ ... , ..., ...]</code> returns a <code>List</code> </p>\n\n<p>and similarly <code>() =&gt; { ... , ... , ... }</code> actually returns a <code>Set</code></p>\n\n<p><em>Note: This method of returning set with comma separated function calls is not recommended, would request you also not to use it unless you wanted a <code>Set</code> to be returned as result</em></p>\n\n<hr>\n\n<p><strong>Reply to the Edit :</strong></p>\n\n<p>Let me breakdown the function call and results for you. So your code goes like this,</p>\n\n<pre><code>() =&gt; {\n    setState(() {\n     return {\n       print('hello'),\n       _products.add('More stuff'),\n     };\n    })\n  }\n</code></pre>\n\n<p>Here the <code>=&gt;</code> returns a <code>Set</code> with the result of <code>setState</code>, i.e it'll return <code>{ (result of setState call) }</code> which might be <code>{ null }</code></p>\n\n<p>As you have call <code>setState</code> the below code gets executed, which again returns a <code>Set</code> with <code>{ (result of print), (result of _product.add), }</code></p>\n\n<pre><code>() {\n      return {\n        print('hello'),\n        _products.add('More stuff'),\n      };\n    }\n</code></pre>\n\n<p>State will update, as you are executing <code>_products.add('More stuff')</code>, where <code>'More stuff'</code> will be added to <code>_products</code> irrespective of where you call it. When <code>setState</code> is being called, the widget will be rebuilt with the <code>_products</code> with new data added.</p>\n\n<p>Hope this helped!</p>\n"}, {"comments": [{"owner": {"reputation": 2112, "user_id": 10604378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nl64F.png?s=128&g=1", "display_name": "Muljayan", "link": "https://stackoverflow.com/users/10604378/muljayan"}, "edited": false, "score": 0, "creation_date": 1553599566, "post_id": 55354288, "comment_id": 97435548, "body": "Hi, Thank you. yes i know the recommended approach is what you have suggested. This question arose when i was playing around with the code and something which i believed would not work, worked."}], "tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": false, "score": 6, "last_activity_date": 1579552202, "last_edit_date": 1579552202, "creation_date": 1553594393, "answer_id": 55354288, "question_id": 55350820, "link": "https://stackoverflow.com/questions/55350820/fat-arrow-notation-with-curly-braces-in-setstate-dart-flutter/55354288#55354288", "title": "Fat Arrow notation with curly braces in setState Dart/Flutter", "body": "<p>For the record, the recommended syntax for what you are doing is:</p>\n\n<pre><code>RaisedButton(\n    onPressed: () {\n      setState(() {\n        print('hello');\n        _products.add('More stuff');\n      });\n    },\n    child: Text('Add Product'),\n),\n</code></pre>\n\n<p>The syntax <code>(args) =&gt; { statements }</code> is <em>not</em> how Dart writes function bodies, you do either <code>(args) { statements }</code> or <code>(args) =&gt; singleExpression</code>.</p>\n\n<p>Also, you need to terminate statements with semicolons, <code>;</code>, not commas.</p>\n\n<p>As others have pointed out, the syntax you use <code>(args) =&gt; { print(\"something\"), somethingElse }</code> is actually creating a set (a <code>Set&lt;void&gt;</code> because the return type of <code>print</code> is <code>void</code>) and returning that.</p>\n\n<p>This is a perfect storm of small syntax mistakes, which would seem reasonable to a JavaScript programmer, that comes together to actually mean something completely different in Dart.\nAnd, just to make things even worse, the code <em>works</em>. The set literal will evaluate its expression in order, and nobody sees the created set anyway. The syntax just doesn't generalize &mdash; you can't change any of the expressions to, say, a for-loop (yet, you will be able to in the next version of Dart).</p>\n\n<p>So, in Dart, never use <code>=&gt; {</code> unless you <em>want</em> to return a set or map.</p>\n"}], "owner": {"reputation": 2112, "user_id": 10604378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nl64F.png?s=128&g=1", "display_name": "Muljayan", "link": "https://stackoverflow.com/users/10604378/muljayan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2548, "favorite_count": 1, "accepted_answer_id": 55351426, "answer_count": 2, "score": 11, "last_activity_date": 1580597405, "creation_date": 1553580679, "last_edit_date": 1553591298, "question_id": 55350820, "link": "https://stackoverflow.com/questions/55350820/fat-arrow-notation-with-curly-braces-in-setstate-dart-flutter", "title": "Fat Arrow notation with curly braces in setState Dart/Flutter", "body": "<p>I am very new to Dart/Flutter and I have a confusion regarding the => notation. The documentation says that the => notation is used as a shorthand to return a single expression.</p>\n\n<blockquote>\n  <p>bool isNoble(int atomicNumber) => _nobleGases[atomicNumber] != null;</p>\n</blockquote>\n\n<p>My doubt comes when I am trying to set state in a flutter application.</p>\n\n<pre><code>RaisedButton(\n  onPressed: () =&gt; {\n    setState(() {\n      print('hello');\n      _products.add('More stuff');\n    })\n  },\n  child: Text('Add Product'),\n),\n</code></pre>\n\n<p>Now when i change the setState method with => notation</p>\n\n<pre><code>RaisedButton(\n  onPressed: () =&gt; {\n    setState(() =&gt; {\n      print('hello'),\n      _products.add('More stuff'),\n    })\n  },\n  child: Text('Add Product'),\n),\n</code></pre>\n\n<p>Both methods mentioned above work, that is they set the state as expected. All i had to do was change the semicolons to commas when using the fat arrow notation.</p>\n\n<p>What is the logic behind this ? How is the fat arrow notation working with curly braces which contains multiple expressions within it.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>As mentioned by Hemanth Raj the => returns a set and the code segment containing the => notation can be written as follows.</p>\n\n<pre><code>RaisedButton(\n  onPressed: () =&gt; {\n    setState(() {\n     return {\n       print('hello'),\n       _products.add('More stuff'),\n     };\n    })\n  },\n  child: Text('Add Product'),\n),\n</code></pre>\n\n<p>How is the returned <code>set</code> containing a print function and _products.add actually updating the state. Shouldn't it throw some kind of error because usually setState is done by an expression such as  <code>_products.add('More stuff');</code>. </p>\n"}, {"tags": ["firebase", "dart", "flutter", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 1404, "user_id": 10685785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hogSG.jpg?s=128&g=1", "display_name": "cipli onat", "link": "https://stackoverflow.com/users/10685785/cipli-onat"}, "edited": false, "score": 0, "creation_date": 1553579458, "post_id": 55349914, "comment_id": 97425174, "body": "I think you can use nested <code>StreamBuilders</code> you can see <a href=\"https://stackoverflow.com/a/55258901/10685785\">example</a>"}, {"owner": {"reputation": 83, "user_id": 11258198, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-S8RpOxFIoPI/AAAAAAAAAAI/AAAAAAAAABE/WDdgIdWkEd4/photo.jpg?sz=128", "display_name": "john haris", "link": "https://stackoverflow.com/users/11258198/john-haris"}, "reply_to_user": {"reputation": 1404, "user_id": 10685785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hogSG.jpg?s=128&g=1", "display_name": "cipli onat", "link": "https://stackoverflow.com/users/10685785/cipli-onat"}, "edited": false, "score": 0, "creation_date": 1553621932, "post_id": 55349914, "comment_id": 97450309, "body": "@ciplionat my stream function has an identifier which needs to be users id. This is the model from where i&#39;m getting the ids.. they&#39;ve been retrieved from the first stream <code>List&lt;UserFollowing&gt; userInfoList = usersContentBloc.getFollowingsUidToList(docs);</code>  now do i need to do <code>userInfoList[0].uid</code> or is there another way to do it."}], "owner": {"reputation": 83, "user_id": 11258198, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-S8RpOxFIoPI/AAAAAAAAAAI/AAAAAAAAABE/WDdgIdWkEd4/photo.jpg?sz=128", "display_name": "john haris", "link": "https://stackoverflow.com/users/11258198/john-haris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 584, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1553596385, "creation_date": 1553574917, "last_edit_date": 1553596385, "question_id": 55349914, "link": "https://stackoverflow.com/questions/55349914/how-to-get-a-stream-value-and-then-call-another-stream-based-on-the-previous-val", "title": "How to get a stream value and then call another stream based on the previous value using Flutter with firestore", "body": "<p>I'm trying to get the Ids of users i'm following from a firestore stream and then call another stream with the posts of my followings with the ids from previously.</p>\n\n<p>I don't know if this is the right way to architect it and if so how to implement it with flutter.. I've been trying streamBuilder for the first call, but I don't know how to make the second stream call with a list of ids.</p>\n\n<p>The function that I used to get the followings Ids</p>\n\n<pre><code>Stream&lt;QuerySnapshot&gt; followingUsersContent(String uid){\nreturn _firestore.collection(\"following\").document(uid).collection(\"userFollowing\").snapshots();\n  }\n</code></pre>\n\n<p>and to get their posts:</p>\n\n<pre><code>Stream&lt;DocumentSnapshot&gt; myContentList(String userId) {\n    return _firestore.collection(\"posts\").document(userId).collection(\"userPosts\").document().snapshots();\n  }\n</code></pre>\n\n<p>This is how I retrieve the first list of Id's from the widget:</p>\n\n<pre><code>postWidget(){\n    return Container(\n      child: StreamBuilder&lt;QuerySnapshot&gt;(\n       stream: usersContentProvider.followingUsersContent(profileId),\n            builder: (BuildContext context, AsyncSnapshot&lt;QuerySnapshot&gt; snapshot){\n              if (!snapshot.hasData) {\n              return Text(\"There's no data\");\n            }\n\n            if (snapshot.hasData) {\n\n                 List&lt;DocumentSnapshot&gt; docs = snapshot.data.documents;\n\n                 List&lt;UserFollowing&gt; userInfoList = usersContentProvider.getFollowingsUidToList(docs);\n\n                 return testUserID(userInfoList); \n               }\n\n              },\n      ),\n    );\n  }\n</code></pre>\n\n<pre><code>Widget testUserID(List&lt;UserFollowing&gt; userInfoList){\n    return Container(\n      child: Expanded(\n        child: ListView.builder(\n          itemCount: userInfoList.length,\n          itemBuilder: (BuildContext context, i){\n\n            return Text(userInfoList[i].uid ?? \"There's no data\", style: TextStyle(color: Colors.red),);\n          }\n        ),\n      ),\n    );\n  }\n</code></pre>\n\n<p>So far so good everything is fine.</p>\n\n<p>Now should I put another stream builder inside the listView.Builder(){} \"I don't think it's a good idea\".. because it is retrieving a list of uid with the (itemBuilder context, i). Or is there a better way to call the stream with all the uids I have.\nPs the uids are stored in the UserFollowing model:</p>\n\n<pre><code>class UserFollowing{\n  final String _uid;\n\n\n   UserFollowing(this._uid);\n\n   String get uid =&gt; _uid;\n}\n</code></pre>\n\n<p>and stored from here:</p>\n\n<pre><code>List getFollowingsUidToList(List&lt;DocumentSnapshot&gt; docList){\n    if (docList != null){\n      List&lt;UserFollowing&gt; followingUidsList = [];\n      docList.forEach((document){\n        String uid = document.data[\"uid\"];\n\n        UserFollowing userPost = UserFollowing(uid);\n        followingUidsList.add(userPost);\n      });\n      return followingUidsList;\n    }\n  }\n</code></pre>\n\n<p>All I'm left with now is to communicate a new stream with userFollowing.uid.</p>\n\n<p>How can I do it? thanks.</p>\n"}, {"tags": ["constructor", "dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 5606, "user_id": 374798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53255beb029d8a0074a6a65c9d3f63c?s=128&d=identicon&r=PG", "display_name": "Nate Bosch", "link": "https://stackoverflow.com/users/374798/nate-bosch"}, "is_accepted": true, "score": 1, "last_activity_date": 1553635047, "creation_date": 1553635047, "answer_id": 55366321, "question_id": 55349335, "link": "https://stackoverflow.com/questions/55349335/dart-function-appy-does-not-work-on-color-fromargba-r-g-b/55366321#55366321", "title": "Dart Function.appy() does not work on Color.fromARGB(a, r, g, b);", "body": "<p>A named constructor is not a <code>Function</code> in Dart.</p>\n\n<p>The current way to write your sample is:</p>\n\n<pre><code>var x = Function.apply(\n    (int a, int r, int g, int b) =&gt; Color.fromARGB(a, r, g, b),\n    [255, 66, 165, 245]);\n</code></pre>\n\n<p><a href=\"https://github.com/dart-lang/language/issues/216\" rel=\"nofollow noreferrer\">https://github.com/dart-lang/language/issues/216</a> is the canonical issue to track requesting support for \"tearing off\" a constructor to treat it as a <code>Function</code>.</p>\n"}], "owner": {"reputation": 1225, "user_id": 603749, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/11377bf3d7fcf165c2f8ee2b82d59d65?s=128&d=identicon&r=PG", "display_name": "user603749", "link": "https://stackoverflow.com/users/603749/user603749"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 55366321, "answer_count": 1, "score": 0, "last_activity_date": 1553635047, "creation_date": 1553570171, "question_id": 55349335, "link": "https://stackoverflow.com/questions/55349335/dart-function-appy-does-not-work-on-color-fromargba-r-g-b", "title": "Dart Function.appy() does not work on Color.fromARGB(a, r, g, b);", "body": "<p>Experimenting with Function.apply() to pass a list of positional parameters. But why doesn't a constructor method work for class Color? </p>\n\n<pre><code>var x = Function.apply(Color.fromARGB, [255, 66, 165, 245]);\n\nError Message: The getter 'fromARGB' isn't defined for the class 'Color'.\n</code></pre>\n\n<p>Here is the constructor.</p>\n\n<pre><code>const Color.fromARGB(int a, int r, int g, int b) :\n  value = (((a &amp; 0xff) &lt;&lt; 24) |\n           ((r &amp; 0xff) &lt;&lt; 16) |\n           ((g &amp; 0xff) &lt;&lt; 8)  |\n           ((b &amp; 0xff) &lt;&lt; 0)) &amp; 0xFFFFFFFF;\n</code></pre>\n"}, {"tags": ["android", "dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 2230680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/062dfed7f29804e02977b5d5df8f4b97?s=128&d=identicon&r=PG", "display_name": "roman.mityukov", "link": "https://stackoverflow.com/users/2230680/roman-mityukov"}, "is_accepted": false, "score": 0, "last_activity_date": 1574555097, "creation_date": 1574555097, "answer_id": 59013584, "question_id": 55346982, "link": "https://stackoverflow.com/questions/55346982/sliverappbar-doesnt-fully-collapse-with-short-list/59013584#59013584", "title": "SliverAppBar doesn&#39;t fully collapse with short list", "body": "<p>As a workaround you can use widget with custom RenderSliver. It must be added to the end of a slivers list.</p>\n\n<pre><code>class CustomRenderSliver extends RenderSliver {\n  final double _minHeaderHeight;\n  final double _maxHeaderHeight;\n\n  CustomRenderSliver(this._minHeaderHeight, this._maxHeaderHeight);\n\n  @override\n  void performLayout() {\n    double maxHeight = this.constraints.viewportMainAxisExtent -\n        (this.constraints.precedingScrollExtent - _maxHeaderHeight) /*height of regular list elements*/ -\n        _minHeaderHeight;\n\n    if (maxHeight &lt; 0.0) maxHeight = 0.0;\n\n    this.geometry = SliverGeometry(scrollExtent: maxHeight);\n  }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/yvHzF.gif\" rel=\"nofollow noreferrer\">list with custom sliver</a></p>\n\n<p>Complete code</p>\n\n<pre><code>import 'dart:math';\n\nimport 'package:flutter/material.dart';\nimport 'package:flutter/rendering.dart';\n\nvoid main() {\n  final minHeaderHeight = 90.0;\n  final maxHeaderHeight = 180.0;\n\n  List&lt;Widget&gt; slivers = List.generate(4, (index) {\n    return SliverToBoxAdapter(\n      child: SizedBox(\n        height: 100,\n        child: Padding(\n          padding: EdgeInsets.symmetric(vertical: 4),\n          child: Container(\n            color: Colors.blue,\n          ),\n        ),\n      ),\n    );\n  });\n\n  // header\n  slivers.insert(\n      0, SliverPersistentHeader(\n    pinned: true,\n    delegate: _SliverAppBarDelegate(\n        minHeight: minHeaderHeight,\n        maxHeight: maxHeaderHeight\n    ),\n  ));\n\n  // custom sliver\n  slivers.add(CustomRenderSliverWidget(minHeaderHeight, maxHeaderHeight));\n\n  runApp(MaterialApp(\n    home: CustomScrollView(\n      slivers: slivers,\n    ),\n  ));\n}\n\nclass CustomRenderSliverWidget extends LeafRenderObjectWidget {\n  final double _minHeaderHeight;\n  final double _maxHeaderHeight;\n\n  CustomRenderSliverWidget(this._minHeaderHeight, this._maxHeaderHeight);\n\n  @override\n  RenderObject createRenderObject(BuildContext context) {\n    return CustomRenderSliver(_minHeaderHeight, _maxHeaderHeight);\n  }\n}\n\nclass CustomRenderSliver extends RenderSliver {\n  final double _minHeaderHeight;\n  final double _maxHeaderHeight;\n\n  CustomRenderSliver(this._minHeaderHeight, this._maxHeaderHeight);\n\n  @override\n  void performLayout() {\n    double maxHeight = this.constraints.viewportMainAxisExtent -\n        (this.constraints.precedingScrollExtent - _maxHeaderHeight) /*height of regular list elements*/ -\n        _minHeaderHeight;\n\n    if (maxHeight &lt; 0.0) maxHeight = 0.0;\n\n    this.geometry = SliverGeometry(scrollExtent: maxHeight);\n  }\n}\n\nclass _SliverAppBarDelegate extends SliverPersistentHeaderDelegate {\n  _SliverAppBarDelegate({\n    @required this.minHeight,\n    @required this.maxHeight,\n  });\n\n  final double minHeight;\n  final double maxHeight;\n\n  @override\n  double get minExtent =&gt; minHeight;\n\n  @override\n  double get maxExtent =&gt; max(maxHeight, minHeight);\n\n  @override\n  Widget build(BuildContext context, double shrinkOffset,\n      bool overlapsContent) {\n    return Container(color: Colors.red,);\n  }\n\n  @override\n  bool shouldRebuild(_SliverAppBarDelegate oldDelegate) {\n    return maxHeight != oldDelegate.maxHeight ||\n        minHeight != oldDelegate.minHeight;\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 923, "user_id": 7335421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b5aeb2f8c198f4256fab53d6e493022?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremi", "link": "https://stackoverflow.com/users/7335421/jeremi"}, "edited": false, "score": 0, "creation_date": 1609239686, "post_id": 65398940, "comment_id": 115785327, "body": "This works! Thank you."}], "tags": [], "owner": {"reputation": 106, "user_id": 12898906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c26d344c059ba08015b4224f397c4e9?s=128&d=identicon&r=PG&f=1", "display_name": "karmelcorn", "link": "https://stackoverflow.com/users/12898906/karmelcorn"}, "is_accepted": true, "score": 0, "last_activity_date": 1608580096, "last_edit_date": 1608580096, "creation_date": 1608579546, "answer_id": 65398940, "question_id": 55346982, "link": "https://stackoverflow.com/questions/55346982/sliverappbar-doesnt-fully-collapse-with-short-list/65398940#65398940", "title": "SliverAppBar doesn&#39;t fully collapse with short list", "body": "<p>We can use NestedScrollView, SliverOverlapAbsorber and SliverOverlapInjector based on Code With Andrea's example here</p>\n<p><a href=\"https://github.com/bizz84/slivers_demo_flutter/blob/master/lib/pages/nested_scroll_view_page.dart\" rel=\"nofollow noreferrer\">https://github.com/bizz84/slivers_demo_flutter/blob/master/lib/pages/nested_scroll_view_page.dart</a>.</p>\n<p>We use a NestedScrollView. First, we embed the SliverAppbar within the headerSliverBuilder with a SliverOverlapAbsorber above the SliverAppBar.</p>\n<p>Next, we embed the CustomScrollView within a builder inside the body of the NestedScrollView. We add a SliverOverlapInjector at the top of the body.</p>\n<pre><code>return Scaffold(\n      body: NestedScrollView(\n        headerSliverBuilder: (BuildContext context, bool innerBoxIsScrolled){\n          return &lt;Widget&gt;[\n            SliverOverlapAbsorber(\n              handle:\n              NestedScrollView.sliverOverlapAbsorberHandleFor(context),\n              sliver: SliverAppBar(\n\n                pinned: true,\n                //floating: true,\n                stretch: true,\n                expandedHeight: 300.0,\n                flexibleSpace: FlexibleSpaceBar(\n                  centerTitle: true,\n                  title: const Text('Weather Report'),\n                  background: Image.asset(\n                    'assets/images/logo1.jpg',\n                    fit: BoxFit.cover,\n                  ),\n                ),\n              ),\n            ),\n          ];\n        },\n        body: SafeArea(\n          child: Builder(\n              builder:(BuildContext context) {\n                return CustomScrollView(\n                  slivers: &lt;Widget&gt;[\n                    SliverOverlapInjector(\n                      // This is the flip side of the SliverOverlapAbsorber above.\n                      handle: NestedScrollView.sliverOverlapAbsorberHandleFor(\n                          context),\n                    ),\n                    SliverList(\n                      delegate: SliverChildBuilderDelegate(\n                          (BuildContext context, int i){\n                            return ListTile(\n                              leading: Icon(Icons.wb_sunny),\n                              title: i%2 != 1 ? Text('Sunday ${i+1}') : Text('Monday ${i+1}'),\n                              subtitle: Text('sunny, h: 80, l: 65'),\n                            );\n                          },\n                        childCount: 5\n                      ),\n                    ),\n\n                  ],\n                );\n              }\n          ),\n        ),\n      ),\n    );\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/3UeLV.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3UeLV.gif\" alt=\"enter image description here\" /></a></p>\n"}], "owner": {"reputation": 923, "user_id": 7335421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b5aeb2f8c198f4256fab53d6e493022?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremi", "link": "https://stackoverflow.com/users/7335421/jeremi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 505, "favorite_count": 3, "accepted_answer_id": 65398940, "answer_count": 2, "score": 6, "last_activity_date": 1608580096, "creation_date": 1553550882, "last_edit_date": 1553576297, "question_id": 55346982, "link": "https://stackoverflow.com/questions/55346982/sliverappbar-doesnt-fully-collapse-with-short-list", "title": "SliverAppBar doesn&#39;t fully collapse with short list", "body": "<p>I'm using Flutter's <code>SliverAppBar</code> with <code>SliverList</code>.\nThe app bar works fine with long list, that scroll a lot. \nHowever, if I have medium size list with 8 items the app bar only partially collapses until the list runs out of items. It makes logical sense that the scroll stops because there are no more items but it leaves a really nasty effect on the app bar, which is being left in the middle of its transition in to collapsed toolbar. </p>\n\n<p>Is there a way to force the list to scroll up until the toolbar is fully collapsed?</p>\n\n<pre><code>  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      floatingActionButton: FloatingActionButton.extended(\n        label: Text(\"Start!\"),\n        icon: Icon(Icons.play_arrow),\n        backgroundColor: Colors.orange,\n        elevation: 12,\n        onPressed: () {\n          Routing.navigate(\n            context,\n            LoggingPage(\n              workout: _workout,\n              exercises: workoutExercises,\n            ),\n          );\n        },\n      ),\n      body: CustomScrollView( physics: ScrollPhysics(),\n        slivers: &lt;Widget&gt;[\n          SliverAppBar(\n            actions: &lt;Widget&gt;[\n              MaterialButton(onPressed: (){}, child: Text(\"data\"),)\n            ],\n            expandedHeight: 300,\n            pinned: true,\n            floating: true,\n            snap: true,\n            flexibleSpace: FlexibleSpaceBar(\n              title: Text(_workout.name),\n            ),\n          ),\n          SliverList(\n            delegate: SliverChildBuilderDelegate(\n              buildSliverListItem,\n              childCount: workoutExercises.length,\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n</code></pre>\n"}, {"tags": ["dart", "flutter", "dart-pub", "json-serialization"], "comments": [{"owner": {"reputation": 2219, "user_id": 8608146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3B2gl.jpg?s=128&g=1", "display_name": "Phani Rithvij", "link": "https://stackoverflow.com/users/8608146/phani-rithvij"}, "edited": false, "score": 0, "creation_date": 1577529473, "post_id": 55346828, "comment_id": 105192263, "body": "You forgot to install <code>build_runner</code> you can do it by using <code>pub global activate build_runner</code> to do it globally or like you mentioned in your answer."}], "answers": [{"tags": [], "owner": {"reputation": 358195, "user_id": 3681880, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3b7ad8915f552cd4e23caf38eee10030?s=128&d=identicon&r=PG", "display_name": "Suragch", "link": "https://stackoverflow.com/users/3681880/suragch"}, "is_accepted": true, "score": 10, "last_activity_date": 1553550019, "creation_date": 1553550019, "answer_id": 55346829, "question_id": 55346828, "link": "https://stackoverflow.com/questions/55346828/generating-dart-file-with-json-serializable-package/55346829#55346829", "title": "Generating dart file with json_serializable package", "body": "<p>This is a problem with how Pub is set up to automatically generate the installation instructions. Here are the dependencies that you actually need to add:</p>\n\n<pre><code>dependencies:\n  json_annotation: ^2.0.0\n\ndev_dependencies:\n  build_runner: ^1.0.0\n  json_serializable: ^2.0.0\n</code></pre>\n\n<p>This is shown in the <code>json_serializable</code> <a href=\"https://github.com/dart-lang/json_serializable/tree/master/example\" rel=\"noreferrer\">example</a>.</p>\n\n<p>Now you can generate the dart file for a class like this</p>\n\n<pre><code>import 'package:json_annotation/json_annotation.dart';\n\npart 'person.g.dart';\n\n@JsonSerializable(nullable: false)\nclass Person {\n  final String firstName;\n  final String lastName;\n  final DateTime dateOfBirth;\n  Person({this.firstName, this.lastName, this.dateOfBirth});\n  factory Person.fromJson(Map&lt;String, dynamic&gt; json) =&gt; _$PersonFromJson(json);\n  Map&lt;String, dynamic&gt; toJson() =&gt; _$PersonToJson(this);\n}\n</code></pre>\n\n<p>by running this in a Flutter project:</p>\n\n<pre><code>flutter packages pub run build_runner build\n</code></pre>\n\n<p>or this in a Dart project:</p>\n\n<pre><code>pub run build_runner build\n</code></pre>\n\n<h3>Other notes:</h3>\n\n<ul>\n<li>Make sure that <code>part 'person.g.dart'</code> matches the name of your <code>person.dart</code> model class file. That is, don't call it <code>example.g.dart</code>.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 358195, "user_id": 3681880, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3b7ad8915f552cd4e23caf38eee10030?s=128&d=identicon&r=PG", "display_name": "Suragch", "link": "https://stackoverflow.com/users/3681880/suragch"}, "edited": false, "score": 0, "creation_date": 1553552468, "post_id": 55346945, "comment_id": 97419235, "body": "The problem wasn&#39;t that I hadn&#39;t gotten the packages, but that I hadn&#39;t included <code>build_runner</code> and <code>json_annotation</code> in the pubspec.yaml file."}], "tags": [], "owner": {"reputation": 880, "user_id": 3542938, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000448161802/picture?type=large", "display_name": "abdalmonem", "link": "https://stackoverflow.com/users/3542938/abdalmonem"}, "is_accepted": false, "score": 0, "last_activity_date": 1553550690, "creation_date": 1553550690, "answer_id": 55346945, "question_id": 55346828, "link": "https://stackoverflow.com/questions/55346828/generating-dart-file-with-json-serializable-package/55346945#55346945", "title": "Generating dart file with json_serializable package", "body": "<p>you need to run\n<code>flutter packages get</code>\nfirst</p>\n"}], "owner": {"reputation": 358195, "user_id": 3681880, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3b7ad8915f552cd4e23caf38eee10030?s=128&d=identicon&r=PG", "display_name": "Suragch", "link": "https://stackoverflow.com/users/3681880/suragch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4307, "favorite_count": 3, "accepted_answer_id": 55346829, "answer_count": 2, "score": 3, "last_activity_date": 1553550690, "creation_date": 1553550019, "question_id": 55346828, "link": "https://stackoverflow.com/questions/55346828/generating-dart-file-with-json-serializable-package", "title": "Generating dart file with json_serializable package", "body": "<p>According to the json_serializable package <a href=\"https://pub.dartlang.org/packages/json_serializable#-installing-tab-\" rel=\"nofollow noreferrer\">installing instructions</a>, you should add the following dependency:</p>\n\n<pre><code>dependencies:\n  json_serializable: ^2.0.3\n</code></pre>\n\n<p>This is my code:</p>\n\n<pre><code>import 'package:json_annotation/json_annotation.dart';\n\npart 'person.g.dart';\n\n@JsonSerializable(nullable: false)\nclass Person {\n  final String firstName;\n  final String lastName;\n  final DateTime dateOfBirth;\n  Person({this.firstName, this.lastName, this.dateOfBirth});\n  factory Person.fromJson(Map&lt;String, dynamic&gt; json) =&gt; _$PersonFromJson(json);\n  Map&lt;String, dynamic&gt; toJson() =&gt; _$PersonToJson(this);\n}\n</code></pre>\n\n<p>Now running this in Flutter:</p>\n\n<pre><code>flutter packages pub run build_runner build\n</code></pre>\n\n<p>Or this for a Dart project:</p>\n\n<pre><code>pub run build_runner build\n</code></pre>\n\n<p>I get the following error:</p>\n\n<blockquote>\n  <p>Could not find package \"build_runner\". Did you forget to add a dependency?</p>\n</blockquote>\n\n<p>What's wrong?</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 59214, "user_id": 666221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1VBx.jpg?s=128&g=1", "display_name": "diegoveloper", "link": "https://stackoverflow.com/users/666221/diegoveloper"}, "edited": false, "score": 0, "creation_date": 1553548321, "post_id": 55346427, "comment_id": 97417706, "body": "sure, CustomScrollView =&gt;   SliverPersistentHeader and SliverList"}, {"owner": {"reputation": 6925, "user_id": 5522344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20d7ab17438a0c8f0953aa03c5cdc010?s=128&d=identicon&r=PG&f=1", "display_name": "Doc", "link": "https://stackoverflow.com/users/5522344/doc"}, "edited": false, "score": 0, "creation_date": 1553548863, "post_id": 55346427, "comment_id": 97417933, "body": "<a href=\"https://medium.com/@diegoveloper/flutter-collapsing-toolbar-sliver-app-bar-14b858e87abe\" rel=\"nofollow noreferrer\">medium.com/@diegoveloper/&hellip;</a>"}, {"owner": {"reputation": 2485, "user_id": 3899560, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Dh4tr.png?s=128&g=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/3899560/julien"}, "edited": false, "score": 0, "creation_date": 1553549078, "post_id": 55346427, "comment_id": 97418011, "body": "thank you for the link!"}, {"owner": {"reputation": 2485, "user_id": 3899560, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Dh4tr.png?s=128&g=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/3899560/julien"}, "edited": false, "score": 0, "creation_date": 1553549700, "post_id": 55346427, "comment_id": 97418241, "body": "but in your example the appBar is expanded, in my case i would like to show the &quot;header&quot; above the fixed element, and to move then the fixed element, any idea?"}, {"owner": {"reputation": 796, "user_id": 9691426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ca0480585b15e8621faa9a864de1a96?s=128&d=identicon&r=PG&f=1", "display_name": "RaZzLe", "link": "https://stackoverflow.com/users/9691426/razzle"}, "edited": false, "score": 0, "creation_date": 1589127288, "post_id": 55346427, "comment_id": 109163748, "body": "if anyone come across this thread before reaching <a href=\"https://stackoverflow.com/questions/48606995/flutter-implement-sticky-headers-and-the-snap-to-item-effect\">this</a> thread, you now know where to check"}], "owner": {"reputation": 2485, "user_id": 3899560, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Dh4tr.png?s=128&g=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/3899560/julien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 724, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553548452, "creation_date": 1553548072, "last_edit_date": 1553548452, "question_id": 55346427, "link": "https://stackoverflow.com/questions/55346427/flutter-move-a-fixed-element-on-the-top-when-scrolling-down", "title": "Flutter : move a fixed element on the top when scrolling down", "body": "<p>I wonder if it's possible in Flutter to move a fixed element higher on the top when the user scroll down the page (in other words, to move it vertically upward once the vertical scroll has reached the target position).</p>\n\n<p>Here is an example in js (see \"Summary 1\" box on the right) :</p>\n\n<p><a href=\"http://bigspotteddog.github.io/ScrollToFixed/\" rel=\"nofollow noreferrer\">http://bigspotteddog.github.io/ScrollToFixed/</a></p>\n\n<p>Example with a printscreen :</p>\n\n<p><a href=\"https://i.stack.imgur.com/ke3vl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ke3vl.png\" alt=\"enter image description here\"></a></p>\n\n<p>Any idea?</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 880, "user_id": 3542938, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000448161802/picture?type=large", "display_name": "abdalmonem", "link": "https://stackoverflow.com/users/3542938/abdalmonem"}, "is_accepted": false, "score": 1, "last_activity_date": 1553551564, "last_edit_date": 1553551564, "creation_date": 1553551258, "answer_id": 55347044, "question_id": 55345975, "link": "https://stackoverflow.com/questions/55345975/how-to-access-and-edit-a-value-of-a-existent-key-of-a-map-thats-inside-a-list-o/55347044#55347044", "title": "How to access and edit a value of a existent key of a map that&#39;s inside a list on Dart/Flutter?", "body": "<p>to access to the last element in the list you can use :\n<code>_tasks[_tasks.length - 1];</code>\nso if you want the \"time\" key from the Map thats inside the last element of your list use :\n<code>var lastTime = _tasks[_tasks.length - 1][\"time\"];</code></p>\n"}], "owner": {"reputation": 310, "user_id": 10604977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7A16W.jpg?s=128&g=1", "display_name": "jsdaniell", "link": "https://stackoverflow.com/users/10604977/jsdaniell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1634, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1553564358, "creation_date": 1553545937, "last_edit_date": 1553564358, "question_id": 55345975, "link": "https://stackoverflow.com/questions/55345975/how-to-access-and-edit-a-value-of-a-existent-key-of-a-map-thats-inside-a-list-o", "title": "How to access and edit a value of a existent key of a map that&#39;s inside a list on Dart/Flutter?", "body": "<p>I'm create a list of maps, each map have two keys <code>[\"title\"]</code> and <code>[\"time\"]</code>, all the values of keys is submitted in a <code>setState</code> method, with the values submited as Strings by a button, and a map object is added inside the list, that's <code>List _tasks = []</code>, so what I would like to do is access the [\"time\"] element of the last Map added in the list and be able to change the value.</p>\n\n<p>This is part of a little project of application, to help me to learn more about Flutter. The repository of application is on Github on <a href=\"https://github.com/jsdaniell/remindme\" rel=\"nofollow noreferrer\">https://github.com/jsdaniell/remindme</a></p>\n\n<p>The list is declared:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>List _tasks = [];\n</code></pre>\n\n<p>The function that's adding a map object to the list:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>void _addTask() {\n    setState(\n      () {\n        Map&lt;String, dynamic&gt; newTask = Map();\n        newTask[\"title\"] = _taskController.text;\n        newTask[\"time\"] = _timeGlobal.toString();\n        _taskController.text = \"\";\n        _tasks.add(newTask);\n\n\n      },\n    );\n\n  }\n</code></pre>\n\n<p>The point is that I want to subtract a value of 1 every second of variable _timeGlobal, what's a int in the global scope and is the value that is set as a String in the <code>[\"time\"]</code> in the Map, so I write this code:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>  String countdownTime(Map newTask) {\n\n    Timer timer = new Timer.periodic(new Duration(seconds: 1), (timer) {\n\n        // Here I want to access the value of [\"time\"] element, where's in the last position of list and update the value.\n\n        _saveData();\n\n        return Home();\n\n    });\n\n    // Stop the periodic timer using another timer which runs only once after specified duration\n\n    new Timer(new Duration(minutes: _timeGlobal), () {\n      timer.cancel();\n    });\n  }\n</code></pre>\n\n<p>I hope that have some way to access the last map in a list of maps, and a specific key on this map.</p>\n"}, {"tags": ["dart", "flutter", "flutter-layout"], "comments": [{"owner": {"reputation": 59214, "user_id": 666221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1VBx.jpg?s=128&g=1", "display_name": "diegoveloper", "link": "https://stackoverflow.com/users/666221/diegoveloper"}, "edited": false, "score": 0, "creation_date": 1553548389, "post_id": 55345811, "comment_id": 97417734, "body": "you can try using this package:  <a href=\"https://pub.dartlang.org/packages/direct_select\" rel=\"nofollow noreferrer\">pub.dartlang.org/packages/direct_select</a>"}, {"owner": {"reputation": 31, "user_id": 5177561, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nAOMO.gif?s=128&g=1", "display_name": "M.Powell", "link": "https://stackoverflow.com/users/5177561/m-powell"}, "reply_to_user": {"reputation": 59214, "user_id": 666221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1VBx.jpg?s=128&g=1", "display_name": "diegoveloper", "link": "https://stackoverflow.com/users/666221/diegoveloper"}, "edited": false, "score": 0, "creation_date": 1553549114, "post_id": 55345811, "comment_id": 97418027, "body": "@diegoveloper that looks more like it pertains only to dropdown menus, I just want to display the list after any sort of button is pressed"}, {"owner": {"reputation": 4811, "user_id": 1462442, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4da53bea02367ebc6c8fe96f4f825961?s=128&d=identicon&r=PG", "display_name": "user1462442", "link": "https://stackoverflow.com/users/1462442/user1462442"}, "edited": false, "score": 1, "creation_date": 1555276652, "post_id": 55345811, "comment_id": 98044692, "body": "Why dont your button just set a boolean state? In build() you can decide which if you want to show list"}, {"owner": {"reputation": 31, "user_id": 5177561, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nAOMO.gif?s=128&g=1", "display_name": "M.Powell", "link": "https://stackoverflow.com/users/5177561/m-powell"}, "reply_to_user": {"reputation": 4811, "user_id": 1462442, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4da53bea02367ebc6c8fe96f4f825961?s=128&d=identicon&r=PG", "display_name": "user1462442", "link": "https://stackoverflow.com/users/1462442/user1462442"}, "edited": false, "score": 0, "creation_date": 1555366793, "post_id": 55345811, "comment_id": 98078179, "body": "@user1462442 oh man that has worked perfectly thank you, I can&#39;t believe I didn&#39;t think of something like that haha"}, {"owner": {"reputation": 4811, "user_id": 1462442, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4da53bea02367ebc6c8fe96f4f825961?s=128&d=identicon&r=PG", "display_name": "user1462442", "link": "https://stackoverflow.com/users/1462442/user1462442"}, "edited": false, "score": 0, "creation_date": 1555441484, "post_id": 55345811, "comment_id": 98110591, "body": "@M.Powell Flutter encourages easy answers overall. Choose the least awkward solution."}], "owner": {"reputation": 31, "user_id": 5177561, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nAOMO.gif?s=128&g=1", "display_name": "M.Powell", "link": "https://stackoverflow.com/users/5177561/m-powell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 304, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1555276120, "creation_date": 1553545257, "last_edit_date": 1555276120, "question_id": 55345811, "link": "https://stackoverflow.com/questions/55345811/flutter-bring-up-a-list-when-a-button-is-pressed-and-close-said-list-after-an-o", "title": "Flutter bring up a list when a button is pressed, and close said list after an option is selected", "body": "<p>I'm building an application for a building that can navigate a user, one of the ways I am doing this is by using a floor plan of the building and I want to draw a path between nodes in this floor plan to create a route. The user enters where they want to be and then route finding algorithm outputs a path, the way I want to build this path is by having a user select a source node and a target node from two seperate lists, I want them to press a button on the map view screen and have a list with these nodes appear but no matter what I try the list will not display.</p>\n\n<p>I've tried using <code>setState</code> and having a <code>ListView</code> returned but that seems to be where it's failing as such as I have print statements to help verify where in the code I've reached, I don't know if it's the search terms I'm using but nothing I have found so far seems to be related to this kind of use case. <a href=\"https://stackoverflow.com/questions/54862781/flutter-display-listview-when-button-pressed\">This</a> is similar to what I want but this is just a list already being displayed and then being updated.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>  Widget build(BuildContext context) {\n    //currently inside of a scaffold\n        bottomNavigationBar: BottomAppBar(\n            child: new Row(\n          mainAxisSize: MainAxisSize.max,\n          mainAxisAlignment: MainAxisAlignment.spaceBetween,\n          children: &lt;Widget&gt;[\n            IconButton(\n              icon: Icon(Icons.trip_origin),\n              onPressed: () {\n                setState(() {\n                  _sourceList();\n                });\n               },\n             ),\n           ],\n          )),\n    //extra code as part of scaffold\n  }\n\n  Widget _sourceList() {\n    print(\"working1\"); //this prints\n    return ListView.builder(\n        padding: const EdgeInsets.all(10.0),\n        itemBuilder: (context, i) {\n          print(\"working2\"); //this does not\n          return _buildRow();\n        });\n  }\n\n  Widget _buildRow() {\n    return new ListTile(title: Text(a.name));\n  }\n</code></pre>\n\n<p>So basically I just want a list to display when the user presses a button, then have that list disappear after a selection is made. The actual result is I can press the button and nothing is displayed, I only reach working1 in the code not working2.</p>\n"}, {"tags": ["dart", "flutter", "flutter-animation"], "answers": [{"comments": [{"owner": {"reputation": 397, "user_id": 6223107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa28c745f400f0182a203f6439ace04c?s=128&d=identicon&r=PG&f=1", "display_name": "hello_friend", "link": "https://stackoverflow.com/users/6223107/hello-friend"}, "edited": false, "score": 1, "creation_date": 1553548901, "post_id": 55346252, "comment_id": 97417950, "body": "Thanks so much for your help!"}], "tags": [], "owner": {"reputation": 59214, "user_id": 666221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1VBx.jpg?s=128&g=1", "display_name": "diegoveloper", "link": "https://stackoverflow.com/users/666221/diegoveloper"}, "is_accepted": true, "score": 9, "last_activity_date": 1553547235, "creation_date": 1553547235, "answer_id": 55346252, "question_id": 55345613, "link": "https://stackoverflow.com/questions/55345613/can-you-use-flutters-transform-class-to-animate-scale/55346252#55346252", "title": "Can you use Flutter&#39;s transform class to animate scale?", "body": "<p>You need to use <code>Animations</code>, you can start using <code>AnimationController</code> it's very simple , I fixed your sample :</p>\n\n<pre><code>    class _MyHomePageState extends State&lt;TestingNewWidget&gt;\n        with TickerProviderStateMixin {\n      var squareScaleA = 0.5;\n      var squareScaleB = 0.5;\n      AnimationController _controllerA;\n      AnimationController _controllerB;\n\n      @override\n      void initState() {\n        _controllerA = AnimationController(\n            vsync: this,\n            lowerBound: 0.5,\n            upperBound: 1.0,\n            duration: Duration(seconds: 1));\n        _controllerA.addListener(() {\n          setState(() {\n            squareScaleA = _controllerA.value;\n          });\n        });\n        _controllerB = AnimationController(\n            vsync: this,\n            lowerBound: 0.5,\n            upperBound: 1.0,\n            duration: Duration(seconds: 1));\n        _controllerB.addListener(() {\n          setState(() {\n            squareScaleB = _controllerB.value;\n          });\n        });\n        super.initState();\n      }\n\n      @override\n      void dispose() {\n        _controllerA.dispose();\n        _controllerB.dispose();\n        super.dispose();\n      }\n\n      @override\n      Widget build(BuildContext context) {\n        return Scaffold(\n          appBar: AppBar(\n            title: Text(\"Bounce Example\"),\n          ),\n          body: Stack(\n            children: &lt;Widget&gt;[\n              Container(\n                width: 300.0,\n                height: 150.0,\n                color: Colors.yellowAccent,\n              ),\n              Column(\n                children: &lt;Widget&gt;[\n                  Row(\n                    children: &lt;Widget&gt;[\n                      GestureDetector(\n                        onTap: () {\n                          if (_controllerA.isCompleted) {\n                            _controllerA.reverse();\n                          } else {\n                            _controllerA.forward(from: 0.0);\n                          }\n                        },\n                        child: Transform.scale(\n                          scale: squareScaleA,\n                          child: Container(\n                            width: 150.0,\n                            height: 150.0,\n                            color: Colors.green,\n                          ),\n                        ),\n                      ),\n                      GestureDetector(\n                        onTap: () {\n                          if (_controllerB.isCompleted) {\n                            _controllerB.reverse();\n                          } else {\n                            _controllerB.forward(from: 0.0);\n                          }\n                        },\n                        child: Transform.scale(\n                          scale: squareScaleB,\n                          child: Container(\n                            width: 150.0,\n                            height: 150.0,\n                            color: Colors.blue,\n                          ),\n                        ),\n                      ),\n                    ],\n                  ),\n                ],\n              ),\n            ],\n          ),\n        );\n      }\n    }\n</code></pre>\n\n<p>Also you can read more about animation here: <a href=\"https://flutter.dev/docs/development/ui/animations\" rel=\"noreferrer\">https://flutter.dev/docs/development/ui/animations</a></p>\n"}], "owner": {"reputation": 397, "user_id": 6223107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa28c745f400f0182a203f6439ace04c?s=128&d=identicon&r=PG&f=1", "display_name": "hello_friend", "link": "https://stackoverflow.com/users/6223107/hello-friend"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8570, "favorite_count": 1, "accepted_answer_id": 55346252, "answer_count": 1, "score": 4, "last_activity_date": 1553547235, "creation_date": 1553544291, "question_id": 55345613, "link": "https://stackoverflow.com/questions/55345613/can-you-use-flutters-transform-class-to-animate-scale", "title": "Can you use Flutter&#39;s transform class to animate scale?", "body": "<p>I'm trying to animate two square containers so that when they are tapped they are animated to scale. I see all these transform class examples online that show animation of a widget however when I use the transform class the scale just jumps from its initial value to its final value. </p>\n\n<p>My end goal is to animate a container to 'bounce' every time it is tapped like what you can do with bounce.js in web development. To understand what I mean you can go to <a href=\"http://bouncejs.com\" rel=\"nofollow noreferrer\">http://bouncejs.com</a>, click 'select preset' in the upper left corner, select jelly from the drop down menu and click 'play animation'.</p>\n\n<p>Can this be done with the transform class?</p>\n\n<p>Here is my code: </p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: MyHomePage(),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  _MyHomePageState createState() =&gt; _MyHomePageState();\n}\n\nvar squareScaleA = 0.5;\nvar squareScaleB = 0.5;\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(\"Bounce Example\"),\n      ),\n      body: Stack(\n        children: &lt;Widget&gt;[\n          Container(\n            width: 300.0,\n            height: 150.0,\n            color: Colors.yellowAccent,\n          ),\n          Column(\n            children: &lt;Widget&gt;[\n              Row(\n                children: &lt;Widget&gt;[\n                  GestureDetector(\n                    onTap: () {\n                      setState(() {\n                        squareScaleA = 1.0;\n                      });\n                    },\n                    child: Transform.scale(\n                      scale: squareScaleA,\n                      child: Container(\n                        width: 150.0,\n                        height: 150.0,\n                        color: Colors.green,\n                      ),\n                    ),\n                  ),\n                  GestureDetector(\n                    onTap: () {\n                      setState(() {\n                        squareScaleB = 1.0;\n                      });\n                    },\n                    child: Transform.scale(\n                      scale: squareScaleB,\n                      child: Container(\n                        width: 150.0,\n                        height: 150.0,\n                        color: Colors.blue,\n                      ),\n                    ),\n                  ),\n                ],\n              ),\n            ],\n          ),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>Thanks in advance for any help!</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 5596, "user_id": 5692534, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/oQo0t.png?s=128&g=1", "display_name": "Darshan", "link": "https://stackoverflow.com/users/5692534/darshan"}, "edited": false, "score": 0, "creation_date": 1553574215, "post_id": 55345513, "comment_id": 97423905, "body": "Check this link which answers exactly what you want:  <a href=\"https://stackoverflow.com/questions/44525119/flutter-top-align-text-in-container\" title=\"flutter top align text in container\">stackoverflow.com/questions/44525119/&hellip;</a>"}, {"owner": {"reputation": 95, "user_id": 3242962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DkuEr.jpg?s=128&g=1", "display_name": "user3242962", "link": "https://stackoverflow.com/users/3242962/user3242962"}, "reply_to_user": {"reputation": 5596, "user_id": 5692534, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/oQo0t.png?s=128&g=1", "display_name": "Darshan", "link": "https://stackoverflow.com/users/5692534/darshan"}, "edited": false, "score": 0, "creation_date": 1553590937, "post_id": 55345513, "comment_id": 97430269, "body": "not that one, because I want to set &#39;vertical-align: super&#39; on TextSpan not in the Widget.."}, {"owner": {"reputation": 1143, "user_id": 6570670, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/86081dc1633839e08c29ebb00bf6fbcd?s=128&d=identicon&r=PG&f=1", "display_name": "R. Duggan", "link": "https://stackoverflow.com/users/6570670/r-duggan"}, "edited": false, "score": 0, "creation_date": 1553633646, "post_id": 55345513, "comment_id": 97455625, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44525119/flutter-top-align-text-in-container\">Flutter - Top align text in Container</a>"}], "answers": [{"tags": [], "owner": {"reputation": 743, "user_id": 1274643, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d2b6f4ef0b250abb6aa87f4b4a5b9680?s=128&d=identicon&r=PG", "display_name": "Dread Boy", "link": "https://stackoverflow.com/users/1274643/dread-boy"}, "is_accepted": false, "score": 1, "last_activity_date": 1593771965, "creation_date": 1593771965, "answer_id": 62713445, "question_id": 55345513, "link": "https://stackoverflow.com/questions/55345513/how-i-use-vertical-align-super-in-textspan/62713445#62713445", "title": "How I use &#39;vertical-align: super&#39; in TextSpan", "body": "<p>Linked answers use Row and Text widgets to achieve this effect but I needed to use RichText. One way to achieve this is to use Unicode superscript characters:</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Unicode_subscripts_and_superscripts\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Unicode_subscripts_and_superscripts</a></p>\n<p>Example code:</p>\n<pre><code>RichText(\n  text: TextSpan(\n    children: [\n      TextSpan(text: 'Usage (m'),\n      TextSpan(text: '\u00b3'),\n      TextSpan(text: ')'),\n    ],\n  ),\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 743, "user_id": 1274643, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d2b6f4ef0b250abb6aa87f4b4a5b9680?s=128&d=identicon&r=PG", "display_name": "Dread Boy", "link": "https://stackoverflow.com/users/1274643/dread-boy"}, "is_accepted": true, "score": 2, "last_activity_date": 1593772276, "creation_date": 1593772276, "answer_id": 62713555, "question_id": 55345513, "link": "https://stackoverflow.com/questions/55345513/how-i-use-vertical-align-super-in-textspan/62713555#62713555", "title": "How I use &#39;vertical-align: super&#39; in TextSpan", "body": "<p>Another answer used Unicode superscript characters but not all characters have superscript version. In that case you can use WidgetSpan together with Transform.translate. You'll have to tweak fontSize and y-offset until it fits your layout.</p>\n<pre><code>RichText(\n  text: TextSpan(\n    children: [\n      TextSpan(text: 'Usage (m'),\n      WidgetSpan(\n        child: Transform.translate(\n          offset: const Offset(0.0, -7.0),\n          child: Text(\n            '3',\n            style: TextStyle(fontSize: 10),\n          ),\n        ),\n      ),\n      TextSpan(text: ')'),\n    ],\n  ),\n)\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 3242962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DkuEr.jpg?s=128&g=1", "display_name": "user3242962", "link": "https://stackoverflow.com/users/3242962/user3242962"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 645, "favorite_count": 0, "accepted_answer_id": 62713555, "answer_count": 2, "score": 2, "last_activity_date": 1593772276, "creation_date": 1553543940, "question_id": 55345513, "link": "https://stackoverflow.com/questions/55345513/how-i-use-vertical-align-super-in-textspan", "title": "How I use &#39;vertical-align: super&#39; in TextSpan", "body": "<p>I want to set 'vertical-align: super' on TextSpan. \nI want the result like this:\n<a href=\"https://i.stack.imgur.com/udQG3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/udQG3.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 1143, "user_id": 6570670, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/86081dc1633839e08c29ebb00bf6fbcd?s=128&d=identicon&r=PG&f=1", "display_name": "R. Duggan", "link": "https://stackoverflow.com/users/6570670/r-duggan"}, "edited": false, "score": 0, "creation_date": 1553536593, "post_id": 55343843, "comment_id": 97412458, "body": "Are you using any firebase dependencies? Could you add your `pubspec.yaml&#39;, dependencies section to your question?"}, {"owner": {"reputation": 1382, "user_id": 7280528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5a7bf8df6759e0c2865eee2d772b57d?s=128&d=identicon&r=PG&f=1", "display_name": "Nadeem Siddique", "link": "https://stackoverflow.com/users/7280528/nadeem-siddique"}, "reply_to_user": {"reputation": 1143, "user_id": 6570670, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/86081dc1633839e08c29ebb00bf6fbcd?s=128&d=identicon&r=PG&f=1", "display_name": "R. Duggan", "link": "https://stackoverflow.com/users/6570670/r-duggan"}, "edited": false, "score": 0, "creation_date": 1553537465, "post_id": 55343843, "comment_id": 97412889, "body": "@R.Duggan no I don&#39;t have any firebase question. Also I have updated the question"}], "answers": [{"comments": [{"owner": {"reputation": 6451, "user_id": 11355303, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uvwqQ.png?s=128&g=1", "display_name": "Gaurav Roy", "link": "https://stackoverflow.com/users/11355303/gaurav-roy"}, "edited": false, "score": 0, "creation_date": 1577600411, "post_id": 55360490, "comment_id": 105205866, "body": "how do you get to know about these? like seriously im curious."}, {"owner": {"reputation": 6806, "user_id": 8856784, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RH0cU.jpg?s=128&g=1", "display_name": "Izabela Orlowska", "link": "https://stackoverflow.com/users/8856784/izabela-orlowska"}, "reply_to_user": {"reputation": 6451, "user_id": 11355303, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uvwqQ.png?s=128&g=1", "display_name": "Gaurav Roy", "link": "https://stackoverflow.com/users/11355303/gaurav-roy"}, "edited": false, "score": 0, "creation_date": 1578331079, "post_id": 55360490, "comment_id": 105395879, "body": "A big hint was that they were referenced in &quot;values-v28&quot; (API 28+). You can check out AOSP source code and see where they were added."}, {"owner": {"reputation": 1386, "user_id": 1661186, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/A1yBT.png?s=128&g=1", "display_name": "Darlan D.", "link": "https://stackoverflow.com/users/1661186/darlan-d"}, "edited": false, "score": 0, "creation_date": 1585185028, "post_id": 55360490, "comment_id": 107677196, "body": "you save my life!"}, {"owner": {"reputation": 109, "user_id": 2641909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x0WhY.jpg?s=128&g=1", "display_name": "hfunes.com", "link": "https://stackoverflow.com/users/2641909/hfunes-com"}, "edited": false, "score": 0, "creation_date": 1586788175, "post_id": 55360490, "comment_id": 108248765, "body": "Thank you! In my case, after changing the compiledSdkVersion, I had to change the GradleException to Exception in the next line: <code>throw new GradleException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)</code>"}, {"owner": {"reputation": 84, "user_id": 6438388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a977e1c3f91b91340709c0ed934c9c5?s=128&d=identicon&r=PG&f=1", "display_name": "NrN", "link": "https://stackoverflow.com/users/6438388/nrn"}, "edited": false, "score": 0, "creation_date": 1586926661, "post_id": 55360490, "comment_id": 108305017, "body": "you saved hours :)"}], "tags": [], "owner": {"reputation": 6806, "user_id": 8856784, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RH0cU.jpg?s=128&g=1", "display_name": "Izabela Orlowska", "link": "https://stackoverflow.com/users/8856784/izabela-orlowska"}, "is_accepted": true, "score": 21, "last_activity_date": 1553613074, "creation_date": 1553613074, "answer_id": 55360490, "question_id": 55343843, "link": "https://stackoverflow.com/questions/55343843/flutter-execution-failed-for-task-appprocessdebugresources/55360490#55360490", "title": "Flutter Execution failed for task &#39;:app:processDebugResources&#39;", "body": "<p>The missing resources were only added in API 28. You need to update your <code>compileSDKversio</code>n in your <code>build.gradle</code> file to version 28.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 10948645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZRoSv.png?s=128&g=1", "display_name": "ShomaEA", "link": "https://stackoverflow.com/users/10948645/shomaea"}, "is_accepted": false, "score": 1, "last_activity_date": 1610290686, "last_edit_date": 1610290686, "creation_date": 1610290001, "answer_id": 65654521, "question_id": 55343843, "link": "https://stackoverflow.com/questions/55343843/flutter-execution-failed-for-task-appprocessdebugresources/65654521#65654521", "title": "Flutter Execution failed for task &#39;:app:processDebugResources&#39;", "body": "<p><code>compileSdkVersion</code> update worked for me!<br>\n<strong>/AppName/android/app/build.gradle</strong> <br>\nadnroid <strong><code>compileSdkVersion: 28</code></strong> to <strong><code>compileSdkVersion: 30</code></strong><br></p>\n<p>OS: Ubuntu 20.04 LTS<br>\nAndroid emulator <strong>API 30</strong><br>\nDart 2.10.2<br>\nFlutter 1.22.2<br></p>\n"}], "owner": {"reputation": 1382, "user_id": 7280528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5a7bf8df6759e0c2865eee2d772b57d?s=128&d=identicon&r=PG&f=1", "display_name": "Nadeem Siddique", "link": "https://stackoverflow.com/users/7280528/nadeem-siddique"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10839, "favorite_count": 1, "accepted_answer_id": 55360490, "answer_count": 2, "score": 8, "last_activity_date": 1610290686, "creation_date": 1553536451, "last_edit_date": 1553537426, "question_id": 55343843, "link": "https://stackoverflow.com/questions/55343843/flutter-execution-failed-for-task-appprocessdebugresources", "title": "Flutter Execution failed for task &#39;:app:processDebugResources&#39;", "body": "<p>I left my flutter project for a while when Flutter beta v1.0.0 was out. Now I moved my project to a new system with latest Flutter (stable v1.2.1) and Dart and ran into this build exception problem.</p>\n\n<p>Note this project is working fine on my old desktop\nflutter doctor output below</p>\n\n<pre><code>Doctor summary (to see all details, run flutter doctor -v):\n[\u2713] Flutter (Channel beta, v1.0.0, on Linux, locale en_GB.UTF-8)\n[!] Android toolchain - develop for Android devices (Android SDK 28.0.3)\n    ! Some Android licenses not accepted.  To resolve this, run: flutter doctor --android-licenses\n[\u2713] Android Studio (version 3.2)\n    \u2717 Flutter plugin not installed; this adds Flutter specific functionality.\n    \u2717 Dart plugin not installed; this adds Dart specific functionality.\n[\u2713] Connected device (1 available)\n</code></pre>\n\n<p>flutter doctor output of new/current system</p>\n\n<pre><code>Doctor summary (to see all details, run flutter doctor -v):\n[\u221a] Flutter (Channel stable, v1.2.1, on Microsoft Windows [Version 10.0.17763.379], locale en-IN)\n[\u221a] Android toolchain - develop for Android devices (Android SDK version 28.0.3)\n[!] Android Studio (version 3.2)\n    X Flutter plugin not installed; this adds Flutter specific functionality.\n    X Dart plugin not installed; this adds Dart specific functionality.\n[\u221a] VS Code (version 1.32.3)\n[\u221a] Connected device (1 available)\n</code></pre>\n\n<p>pubsec.yaml</p>\n\n<p><a href=\"https://gist.github.com/purplecandy/b20eda67346de40fe58acb58dbb315f5#file-pubsec-ymal\" rel=\"noreferrer\" title=\"gist link pubsec.ymal\">gist link to pubsec.yaml</a></p>\n\n<p>Since I'm coming back after a long time I have no idea what changes Flutter went through can anyone please help me out</p>\n\n<p>Output of flutter run on current system</p>\n\n<pre><code>Launching lib/main.dart on Android SDK built for x86 in debug mode...\nInitializing gradle...                                              1.5s\nResolving dependencies...                                           6.0s\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:processDebugResources'.\n&gt; Android resource linking failed\n  Output:  D:\\Android Projects\\maze-flutter\\build\\app\\intermediates\\incremental\\mergeDebugResources\\merged.dir\\values-v28\\values-v28.xml:7: error: resource android:attr/dialogCornerRadius not found.\n  D:\\Android Projects\\maze-flutter\\build\\app\\intermediates\\incremental\\mergeDebugResources\\merged.dir\\values-v28\\values-v28.xml:11: error: resource android:attr/dialogCornerRadius not found.\n  D:\\Android Projects\\maze-flutter\\build\\app\\intermediates\\incremental\\mergeDebugResources\\merged.dir\\values\\values.xml:956: error: resource android:attr/fontVariationSettings not found.\n  D:\\Android Projects\\maze-flutter\\build\\app\\intermediates\\incremental\\mergeDebugResources\\merged.dir\\values\\values.xml:957: error: resource android:attr/ttcIndex not found.\n  error: failed linking references.\n\n  Command: C:\\Users\\powerpurple\\.gradle\\caches\\transforms-1\\files-1.1\\aapt2-3.2.1-4818971-windows.jar\\18c59619c56cba96590906f3917a302b\\aapt2-3.2.1-4818971-windows\\aapt2.exe link -I\\\n          C:\\Users\\powerpurple\\AppData\\Local\\Android\\sdk\\platforms\\android-27\\android.jar\\\n          --manifest\\\n          D:\\Android Projects\\maze-flutter\\build\\app\\intermediates\\merged_manifests\\debug\\processDebugManifest\\merged\\AndroidManifest.xml\\\n          -o\\\n          D:\\Android Projects\\maze-flutter\\build\\app\\intermediates\\processed_res\\debug\\processDebugResources\\out\\resources-debug.ap_\\\n          -R\\\n          @D:\\Android Projects\\maze-flutter\\build\\app\\intermediates\\incremental\\processDebugResources\\resources-list-for-resources-debug.ap_.txt\\\n          --auto-add-overlay\\\n          --java\\\n          D:\\Android Projects\\maze-flutter\\build\\app\\generated\\not_namespaced_r_class_sources\\debug\\processDebugResources\\r\\\n          --custom-package\\\n          com.example.codee\\\n          -0\\\n          apk\\\n          --output-text-symbols\\\n          D:\\Android Projects\\maze-flutter\\build\\app\\intermediates\\symbols\\debug\\R.txt\\\n          --no-version-vectors\n  Daemon:  AAPT2 aapt2-3.2.1-4818971-windows Daemon #0\n  Output:  C:\\Users\\powerpurple\\.gradle\\caches\\transforms-1\\files-1.1\\appcompat-1.0.0-rc01.aar\\353a670f458ae84ffafa8b187ee27491\\res\\values-v28\\values-v28.xml:9:5-12:13: AAPT: error: resource android:attr/dialogCornerRadius not found.\n\n  D:\\Android Projects\\maze-flutter\\build\\app\\intermediates\\incremental\\mergeDebugResources\\merged.dir\\values-v28\\values-v28.xml:11: AAPT: error: resource android:attr/dialogCornerRadius not found.\n\n  C:\\Users\\powerpurple\\.gradle\\caches\\transforms-1\\files-1.1\\core-1.0.1.aar\\f099bdc17ba82cfe6a5a3ab5ab60bee4\\res\\values\\values.xml:89:5-125:25: AAPT: error: resource android:attr/fontVariationSettings not found.\n\n  C:\\Users\\powerpurple\\.gradle\\caches\\transforms-1\\files-1.1\\core-1.0.1.aar\\f099bdc17ba82cfe6a5a3ab5ab60bee4\\res\\values\\values.xml:89:5-125:25: AAPT: error: resource android:attr/ttcIndex not found.\n\n  error: failed linking references.\n  Command: C:\\Users\\powerpurple\\.gradle\\caches\\transforms-1\\files-1.1\\aapt2-3.2.1-4818971-windows.jar\\18c59619c56cba96590906f3917a302b\\aapt2-3.2.1-4818971-windows\\aapt2.exe link -I\\\n          C:\\Users\\powerpurple\\AppData\\Local\\Android\\sdk\\platforms\\android-27\\android.jar\\\n          --manifest\\\n          D:\\Android Projects\\maze-flutter\\build\\app\\intermediates\\merged_manifests\\debug\\processDebugManifest\\merged\\AndroidManifest.xml\\\n          -o\\\n          D:\\Android Projects\\maze-flutter\\build\\app\\intermediates\\processed_res\\debug\\processDebugResources\\out\\resources-debug.ap_\\\n          -R\\\n          @D:\\Android Projects\\maze-flutter\\build\\app\\intermediates\\incremental\\processDebugResources\\resources-list-for-resources-debug.ap_.txt\\\n          --auto-add-overlay\\\n          --java\\\n          D:\\Android Projects\\maze-flutter\\build\\app\\generated\\not_namespaced_r_class_sources\\debug\\processDebugResources\\r\\\n          --custom-package\\\n          com.example.codee\\\n          -0\\\n          apk\\\n          --output-text-symbols\\\n          D:\\Android Projects\\maze-flutter\\build\\app\\intermediates\\symbols\\debug\\R.txt\\\nPS D:\\Android Projects\\maze-flutter&gt; flutter run\nUsing hardware rendering with device Android SDK built for x86. If you get graphics artifacts, consider enabling software rendering with\n\"--enable-software-rendering\".\nLaunching lib/main.dart on Android SDK built for x86 in debug mode...\nInitializing gradle...                                              1.4s\nResolving dependencies...                                           5.7s\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:processDebugResources'.\n&gt; Android resource linking failed\n  Output:  D:\\Android Projects\\maze-flutter\\build\\app\\intermediates\\incremental\\mergeDebugResources\\merged.dir\\values-v28\\values-v28.xml:7: error: resource android:attr/dialogCornerRadius not found.\n  D:\\Android Projects\\maze-flutter\\build\\app\\intermediates\\incremental\\mergeDebugResources\\merged.dir\\values-v28\\values-v28.xml:11: error: resource android:attr/dialogCornerRadius not found.  D:\\Android Projects\\maze-flutter\\build\\app\\intermediates\\incremental\\mergeDebugResources\\merged.dir\\values\\values.xml:956: error: resource android:attr/fontVariationSettings not found.\n  D:\\Android Projects\\maze-flutter\\build\\app\\intermediates\\incremental\\mergeDebugResources\\merged.dir\\values\\values.xml:957: error: resource android:attr/ttcIndex not found.\n  error: failed linking references.\n\n  Command: C:\\Users\\powerpurple\\.gradle\\caches\\transforms-1\\files-1.1\\aapt2-3.2.1-4818971-windows.jar\\18c59619c56cba96590906f3917a302b\\aapt2-3.2.1-4818971-windows\\aapt2.exe link -I\\\n          C:\\Users\\powerpurple\\AppData\\Local\\Android\\sdk\\platforms\\android-27\\android.jar\\\n          --manifest\\\n          D:\\Android Projects\\maze-flutter\\build\\app\\intermediates\\merged_manifests\\debug\\processDebugManifest\\merged\\AndroidManifest.xml\\\n          -o\\\n          D:\\Android Projects\\maze-flutter\\build\\app\\intermediates\\processed_res\\debug\\processDebugResources\\out\\resources-debug.ap_\\\n          -R\\\n          @D:\\Android Projects\\maze-flutter\\build\\app\\intermediates\\incremental\\processDebugResources\\resources-list-for-resources-debug.ap_.txt\\\n          --auto-add-overlay\\\n          --java\\\n          D:\\Android Projects\\maze-flutter\\build\\app\\generated\\not_namespaced_r_class_sources\\debug\\processDebugResources\\r\\\n          --custom-package\\\n          com.example.codee\\\n          -0\\\n          apk\\\n          --output-text-symbols\\\n          D:\\Android Projects\\maze-flutter\\build\\app\\intermediates\\symbols\\debug\\R.txt\\\n          --no-version-vectors\n  Daemon:  AAPT2 aapt2-3.2.1-4818971-windows Daemon #0\n  Output:  C:\\Users\\powerpurple\\.gradle\\caches\\transforms-1\\files-1.1\\appcompat-1.0.0-rc01.aar\\353a670f458ae84ffafa8b187ee27491\\res\\values-v28\\values-v28.xml:9:5-12:13: AAPT: error: resource android:attr/dialogCornerRadius not found.\n\n  D:\\Android Projects\\maze-flutter\\build\\app\\intermediates\\incremental\\mergeDebugResources\\merged.dir\\values-v28\\values-v28.xml:11: AAPT: error: resource android:attr/dialogCornerRadius not found.\n\n  C:\\Users\\powerpurple\\.gradle\\caches\\transforms-1\\files-1.1\\core-1.0.1.aar\\f099bdc17ba82cfe6a5a3ab5ab60bee4\\res\\values\\values.xml:89:5-125:25: AAPT: error: resource android:attr/fontVariationSettings not found.\n\n  C:\\Users\\powerpurple\\.gradle\\caches\\transforms-1\\files-1.1\\core-1.0.1.aar\\f099bdc17ba82cfe6a5a3ab5ab60bee4\\res\\values\\values.xml:89:5-125:25: AAPT: error: resource android:attr/ttcIndex not found.\n\n  error: failed linking references.\n  Command: C:\\Users\\powerpurple\\.gradle\\caches\\transforms-1\\files-1.1\\aapt2-3.2.1-4818971-windows.jar\\18c59619c56cba96590906f3917a302b\\aapt2-3.2.1-4818971-windows\\aapt2.exe link -I\\\n          C:\\Users\\powerpurple\\AppData\\Local\\Android\\sdk\\platforms\\android-27\\android.jar\\\n          --manifest\\\n          D:\\Android Projects\\maze-flutter\\build\\app\\intermediates\\merged_manifests\\debug\\processDebugManifest\\merged\\AndroidManifest.xml\\\n          -o\\\n          D:\\Android Projects\\maze-flutter\\build\\app\\intermediates\\processed_res\\debug\\processDebugResources\\out\\resources-debug.ap_\\\n          -R\\\n          @D:\\Android Projects\\maze-flutter\\build\\app\\intermediates\\incremental\\processDebugResources\\resources-list-for-resources-debug.ap_.txt\\\n          --auto-add-overlay\\\n          --java\\\n          D:\\Android Projects\\maze-flutter\\build\\app\\generated\\not_namespaced_r_class_sources\\debug\\processDebugResources\\r\\\n          --custom-package\\\n          com.example.codee\\\n          -0\\\n          apk\\\n          --output-text-symbols\\\n          D:\\Android Projects\\maze-flutter\\build\\app\\intermediates\\symbols\\debug\\R.txt\\\n          --no-version-vectors\n  Daemon:  AAPT2 aapt2-3.2.1-4818971-windows Daemon #0\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 18s\nRunning Gradle task 'assembleDebug'...\nRunning Gradle task 'assembleDebug'... Done                        19.6s\n*******************************************************************************************\nThe Gradle failure may have been because of AndroidX incompatibilities in this Flutter app.\nSee * for more information on the problem and how to fix it.\n*******************************************************************************************\nGradle task assembleDebug failed with exit code 1\n</code></pre>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 235, "user_id": 6599667, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NkqvehA70pE/AAAAAAAAAAI/AAAAAAAAAUU/KcyhzU-pwog/photo.jpg?sz=128", "display_name": "Gugo Hovhannisyan", "link": "https://stackoverflow.com/users/6599667/gugo-hovhannisyan"}, "edited": false, "score": 0, "creation_date": 1553540090, "post_id": 55342999, "comment_id": 97414041, "body": "Ah, thanks. So there will be no difference even for real BLE device if send integers instead of their hex representation?"}, {"owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "reply_to_user": {"reputation": 235, "user_id": 6599667, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NkqvehA70pE/AAAAAAAAAAI/AAAAAAAAAUU/KcyhzU-pwog/photo.jpg?sz=128", "display_name": "Gugo Hovhannisyan", "link": "https://stackoverflow.com/users/6599667/gugo-hovhannisyan"}, "edited": false, "score": 0, "creation_date": 1553541401, "post_id": 55342999, "comment_id": 97414672, "body": "As soon as your source code is compiled or interpreted it&#39;s turned into binary. It really makes no difference what representation you use in your source code."}], "tags": [], "owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "is_accepted": true, "score": 0, "last_activity_date": 1553533399, "creation_date": 1553533399, "answer_id": 55342999, "question_id": 55342770, "link": "https://stackoverflow.com/questions/55342770/how-to-cast-hex-string-as-hex-integer/55342999#55342999", "title": "How to cast hex string as hex integer?", "body": "<p>There's no such thing as a hex number. What it needs is a list of integers (<code>List&lt;int&gt;</code>).</p>\n\n<p>In the same way that you have <code>[0x20,0x11,0x06,0x6D]</code> you could equally write that as <code>[32, 17, 6, 109]</code>. Sometimes, it's convenient to think about integers in their decimal representation or their hex representation (or octal, or binary...), but as far as the compiler is concerned, they are just integers.</p>\n\n<p>Just use an array of integers (not strings).</p>\n"}], "owner": {"reputation": 235, "user_id": 6599667, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NkqvehA70pE/AAAAAAAAAAI/AAAAAAAAAUU/KcyhzU-pwog/photo.jpg?sz=128", "display_name": "Gugo Hovhannisyan", "link": "https://stackoverflow.com/users/6599667/gugo-hovhannisyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "accepted_answer_id": 55342999, "answer_count": 1, "score": 0, "last_activity_date": 1553533399, "creation_date": 1553532663, "last_edit_date": 1553533211, "question_id": 55342770, "link": "https://stackoverflow.com/questions/55342770/how-to-cast-hex-string-as-hex-integer", "title": "How to cast hex string as hex integer?", "body": "<p>I'm using BLE plugin, which requires to present the values as list of hex number(e.g. <code>[0x20,0x11,0x06,0x6D]</code>). </p>\n\n<p>I was able to get a list of hex strings using <code>int.toRadixString</code> (<code>['0x20','0x11','0x06','0x6D']</code>), but didn't find a way to convert those strings into hex integers.</p>\n\n<p>I'm looking for something like <code>int demicalToHex(int demical)</code> or similar function. </p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["html", "dart", "flutter"], "comments": [{"owner": {"reputation": 4479, "user_id": 4733161, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ijftR.png?s=128&g=1", "display_name": "cloned", "link": "https://stackoverflow.com/users/4733161/cloned"}, "edited": false, "score": 0, "creation_date": 1553532139, "post_id": 55342515, "comment_id": 97410164, "body": "If you copy &amp; paste this code on, for example jsfiddle.net it works as expected and the video is shown. You must have more CSS/JS that prevents the video from displaying."}, {"owner": {"reputation": 63, "user_id": 8771727, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-F1j_Eeun_D4/AAAAAAAAAAI/AAAAAAAAAEw/5Q2SbqFFYa4/photo.jpg?sz=128", "display_name": "Emam", "link": "https://stackoverflow.com/users/8771727/emam"}, "reply_to_user": {"reputation": 4479, "user_id": 4733161, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ijftR.png?s=128&g=1", "display_name": "cloned", "link": "https://stackoverflow.com/users/4733161/cloned"}, "edited": false, "score": 0, "creation_date": 1553532885, "post_id": 55342515, "comment_id": 97410579, "body": "I&#39;m sorry I forget to mention that I&#39;m displaying it on flutter \ud83d\ude05...I will edit the title"}, {"owner": {"reputation": 915, "user_id": 5890498, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zBjkM_95aik/AAAAAAAAAAI/AAAAAAAAAhY/U0g8IcIHabw/photo.jpg?sz=128", "display_name": "Tom Alabaster", "link": "https://stackoverflow.com/users/5890498/tom-alabaster"}, "edited": false, "score": 0, "creation_date": 1553534384, "post_id": 55342515, "comment_id": 97411403, "body": "What device are you using? Have you tried different devices?"}, {"owner": {"reputation": 63, "user_id": 8771727, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-F1j_Eeun_D4/AAAAAAAAAAI/AAAAAAAAAEw/5Q2SbqFFYa4/photo.jpg?sz=128", "display_name": "Emam", "link": "https://stackoverflow.com/users/8771727/emam"}, "reply_to_user": {"reputation": 915, "user_id": 5890498, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zBjkM_95aik/AAAAAAAAAAI/AAAAAAAAAhY/U0g8IcIHabw/photo.jpg?sz=128", "display_name": "Tom Alabaster", "link": "https://stackoverflow.com/users/5890498/tom-alabaster"}, "edited": false, "score": 0, "creation_date": 1553602519, "post_id": 55342515, "comment_id": 97437345, "body": "@Tom Alabaster Yes I have tried different real devices and different android Emulators"}, {"owner": {"reputation": 1247, "user_id": 4859905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jltfu.jpg?s=128&g=1", "display_name": "Kenneth Li", "link": "https://stackoverflow.com/users/4859905/kenneth-li"}, "edited": false, "score": 0, "creation_date": 1553659179, "post_id": 55342515, "comment_id": 97462115, "body": "how about use string.indexOf to extract the src of the video, and play it using the video_player plugin, one of my app is using this technique to play videos in my App, But the src is from other websites."}, {"owner": {"reputation": 63, "user_id": 8771727, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-F1j_Eeun_D4/AAAAAAAAAAI/AAAAAAAAAEw/5Q2SbqFFYa4/photo.jpg?sz=128", "display_name": "Emam", "link": "https://stackoverflow.com/users/8771727/emam"}, "edited": false, "score": 0, "creation_date": 1553705866, "post_id": 55342515, "comment_id": 97487389, "body": "I have extracted the link using your suggestion...and now the obstacle is how to play the video as it is an embedded video not a regular link"}, {"owner": {"reputation": 63, "user_id": 8771727, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-F1j_Eeun_D4/AAAAAAAAAAI/AAAAAAAAAEw/5Q2SbqFFYa4/photo.jpg?sz=128", "display_name": "Emam", "link": "https://stackoverflow.com/users/8771727/emam"}, "edited": false, "score": 0, "creation_date": 1553785114, "post_id": 55342515, "comment_id": 97522002, "body": "I have solved the problem by adding the URL directly to the webview under as separated from the rest of HTML content  and it worked and solved the problem....unfortunately I found out that the data that I am receiving can contain more than one iframe and video-like a news article or investigation-and the video should be displayed in the middle, beginning or start of the article if it was found there...I have searched a lot but no package is supporting iframe..."}, {"owner": {"reputation": 63, "user_id": 8771727, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-F1j_Eeun_D4/AAAAAAAAAAI/AAAAAAAAAEw/5Q2SbqFFYa4/photo.jpg?sz=128", "display_name": "Emam", "link": "https://stackoverflow.com/users/8771727/emam"}, "edited": false, "score": 0, "creation_date": 1555499860, "post_id": 55342515, "comment_id": 98131331, "body": "another way to go is to use the flutter_widget_from_html: ^0.1.5 plugin...I have used it with the same code and it runs fine now :)"}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 8771727, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-F1j_Eeun_D4/AAAAAAAAAAI/AAAAAAAAAEw/5Q2SbqFFYa4/photo.jpg?sz=128", "display_name": "Emam", "link": "https://stackoverflow.com/users/8771727/emam"}, "edited": false, "score": 0, "creation_date": 1553540280, "post_id": 55343844, "comment_id": 97414146, "body": "First of all thank for your help,but I have reached this point before but it is working as webview, not a normal widget.. besides I can not control the size of the text or the size of the video layout...basically I am displaying the content as web view without the option to change or enhance the style of it...is there any way to control or render  the iframe inside the HTML on flutter?"}, {"owner": {"reputation": 63, "user_id": 8771727, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-F1j_Eeun_D4/AAAAAAAAAAI/AAAAAAAAAEw/5Q2SbqFFYa4/photo.jpg?sz=128", "display_name": "Emam", "link": "https://stackoverflow.com/users/8771727/emam"}, "edited": false, "score": 0, "creation_date": 1558822437, "post_id": 55343844, "comment_id": 99228458, "body": "_controller does not regocnize dispoase on @override void dispose() {   super.dispose();   _controller.dispose(); }"}], "tags": [], "owner": {"reputation": 1143, "user_id": 6570670, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/86081dc1633839e08c29ebb00bf6fbcd?s=128&d=identicon&r=PG&f=1", "display_name": "R. Duggan", "link": "https://stackoverflow.com/users/6570670/r-duggan"}, "is_accepted": true, "score": 1, "last_activity_date": 1553536456, "creation_date": 1553536456, "answer_id": 55343844, "question_id": 55342515, "link": "https://stackoverflow.com/questions/55342515/video-inside-html-content-does-not-appear-on-flutter/55343844#55343844", "title": "Video inside Html content does not appear on flutter", "body": "<p>I'm not sure if this will work for you but you can try the <code>webview_flutter</code> package. A warning though: it is currently in developers preview, and can be found <a href=\"https://pub.dartlang.org/packages/webview_flutter\" rel=\"nofollow noreferrer\">here.</a></p>\n\n<p>You can give the inline widget some html string to render, for example: </p>\n\n<pre><code>WebView(\n  initialUrl: new Uri.dataFromString(\"&lt;p&gt;Hello world 25-3-2019 :&lt;/p&gt;\n    &lt;p&gt;&amp;nbsp;&lt;/p\n    &lt;p&gt;\n    &lt;iframe \n      src=\"https://www.youtube.com/embed/W8TrvLoPrfQ\" \n      width=\"400\" \n      height=\"300\" \n      frameborder=\"0\"&gt;&lt;/iframe&gt;\n    &lt;/p&gt;\", mimeType: \"text/html\", encoding: utf8).toString(),\n  javascriptMode: JavascriptMode.unrestricted,\n  onWebViewCreated: (WebViewController webViewController) {\n    _controller.complete(webViewController);\n  },\n),\n</code></pre>\n\n<p>This code example does require you to pass it a controller: <code>final Completer&lt;WebViewController&gt; _controller = Completer&lt;WebViewController&gt;();</code> and it is also safe practice to dispose of said controller when you are about to dispose the screen:</p>\n\n<pre><code>@override\nvoid dispose() {\n  super.dispose();\n  _controller.dispose();\n}\n</code></pre>\n\n<p>Let me know if this helps.</p>\n"}], "owner": {"reputation": 63, "user_id": 8771727, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-F1j_Eeun_D4/AAAAAAAAAAI/AAAAAAAAAEw/5Q2SbqFFYa4/photo.jpg?sz=128", "display_name": "Emam", "link": "https://stackoverflow.com/users/8771727/emam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1762, "favorite_count": 1, "accepted_answer_id": 55343844, "answer_count": 1, "score": 0, "last_activity_date": 1553541135, "creation_date": 1553531786, "last_edit_date": 1553541135, "question_id": 55342515, "link": "https://stackoverflow.com/questions/55342515/video-inside-html-content-does-not-appear-on-flutter", "title": "Video inside Html content does not appear on flutter", "body": "<p>I have HTML content which includes texts, images, and videos. The text and images work fine without any problems, but the videos never show up. I have tried many plugins regarding HTML, for example: flutter_html and flutter_html_view, and they all do not show the video.</p>\n\n<p>Sample of the HTML content with video that I want to display:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;p&gt;Hello world 25-3-2019 :&lt;/p&gt;\n&lt;p&gt;&amp;nbsp;&lt;/p&gt;\n&lt;p&gt;\n    &lt;iframe \n        src=\"https://www.youtube.com/embed/W8TrvLoPrfQ\" \n        width=\"400\" \n        height=\"300\" \n        frameborder=\"0\"&gt;&lt;/iframe&gt;\n&lt;/p&gt;\n</code></pre>\n\n<p>Does anyone have an idea about displaying this content inside a widget?</p>\n"}, {"tags": ["intellij-idea", "dart", "flutter"], "comments": [{"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1553530620, "post_id": 55341250, "comment_id": 97409205, "body": "The widgets comment is removed?"}, {"owner": {"reputation": 1291, "user_id": 7596193, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1917312578498795/picture?type=large", "display_name": "Josh", "link": "https://stackoverflow.com/users/7596193/josh"}, "reply_to_user": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1553531633, "post_id": 55341250, "comment_id": 97409850, "body": "@LppEdd Correct"}], "answers": [{"comments": [{"owner": {"reputation": 1291, "user_id": 7596193, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1917312578498795/picture?type=large", "display_name": "Josh", "link": "https://stackoverflow.com/users/7596193/josh"}, "edited": false, "score": 0, "creation_date": 1553533026, "post_id": 55342701, "comment_id": 97410661, "body": "Unfortunately, this still moves comments around, but does work a little better"}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "reply_to_user": {"reputation": 1291, "user_id": 7596193, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1917312578498795/picture?type=large", "display_name": "Josh", "link": "https://stackoverflow.com/users/7596193/josh"}, "edited": false, "score": 0, "creation_date": 1553533058, "post_id": 55342701, "comment_id": 97410675, "body": "@JoshuaVanDeren can&#39;t do anything better I&#39;m afraid. You can post on YouTrack about your issue."}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "reply_to_user": {"reputation": 1291, "user_id": 7596193, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1917312578498795/picture?type=large", "display_name": "Josh", "link": "https://stackoverflow.com/users/7596193/josh"}, "edited": false, "score": 0, "creation_date": 1553617457, "post_id": 55342701, "comment_id": 97447685, "body": "@JoshuaVanDeren Were you able to find anything better?"}, {"owner": {"reputation": 1291, "user_id": 7596193, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1917312578498795/picture?type=large", "display_name": "Josh", "link": "https://stackoverflow.com/users/7596193/josh"}, "edited": false, "score": 0, "creation_date": 1553617505, "post_id": 55342701, "comment_id": 97447707, "body": "unfortunately not, I&#39;m afraid"}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "reply_to_user": {"reputation": 1291, "user_id": 7596193, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1917312578498795/picture?type=large", "display_name": "Josh", "link": "https://stackoverflow.com/users/7596193/josh"}, "edited": false, "score": 0, "creation_date": 1553617581, "post_id": 55342701, "comment_id": 97447760, "body": "@JoshuaVanDeren Maybe if there are other votes for the issue they&#39;ll fix it sooner"}], "tags": [], "owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "is_accepted": false, "score": 1, "last_activity_date": 1553532731, "last_edit_date": 1553532731, "creation_date": 1553532427, "answer_id": 55342701, "question_id": 55341250, "link": "https://stackoverflow.com/questions/55341250/intellij-reformat-settings/55342701#55342701", "title": "IntelliJ Reformat Settings", "body": "<p>This behavior seems related to issue <a href=\"https://youtrack.jetbrains.com/issue/IDEA-171179\" rel=\"nofollow noreferrer\">IDEA-171179</a> (and duplicates), which is still open, unfortunately.<br>\nSee, specifically, this Dart example, which seems to match.</p>\n\n<p>Before reformat code:</p>\n\n<pre><code>// ignore: unused_import\nimport 'package:polymer_elements/iron_flex_layout_classes.dart';\n\n// ignore: unused_import\nimport 'package:polymer_elements/app_layout/app_header/app_header.dart';\n</code></pre>\n\n<p>After reformat code:</p>\n\n<pre><code>import 'package:polymer_elements/iron_flex_layout_classes.dart';\nimport 'package:polymer_elements/app_layout/app_header/app_header.dart';\n\n// ignore: unused_import\n// ignore: unused_import\n</code></pre>\n\n<p>Valid for the old IDEA <code>2017.1</code></p>\n\n<hr>\n\n<p>To mitigate the issue, remove the <em>Optimize imports</em> check.</p>\n\n<p><a href=\"https://i.stack.imgur.com/rJiJO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rJiJO.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1291, "user_id": 7596193, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1917312578498795/picture?type=large", "display_name": "Josh", "link": "https://stackoverflow.com/users/7596193/josh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553532731, "creation_date": 1553527736, "question_id": 55341250, "link": "https://stackoverflow.com/questions/55341250/intellij-reformat-settings", "title": "IntelliJ Reformat Settings", "body": "<p>For my Flutter project, I have my dependencies setup as such:</p>\n\n<pre><code>// Dependencies\n// ------------\n\n// Packages\nimport 'package:cached_network_image/cached_network_image.dart';\nimport 'package:flutter/material.dart';\nimport 'package:firebase_auth/firebase_auth.dart';\n// Widgets\nimport '../widgets/ring-swipe.dart';\n</code></pre>\n\n<p>However, when I use <code>Reformat Code</code> in IntelliJ, my comments turn into:</p>\n\n<pre><code>// Dependencies\n// ------------\n\n// Packages\nimport 'package:cached_network_image/cached_network_image.dart';\nimport 'package:firebase_auth/firebase_auth.dart';\nimport 'package:flutter/material.dart';\n\nimport '../widgets/ring-swipe.dart';\n</code></pre>\n\n<p>I can't seem to find where this setting is set for Dart/Flutter projects. Is this non-configurable?</p>\n"}, {"tags": ["image-processing", "dart", "flutter", "filtering", "fluent-design"], "comments": [{"owner": {"reputation": 2219, "user_id": 8608146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3B2gl.jpg?s=128&g=1", "display_name": "Phani Rithvij", "link": "https://stackoverflow.com/users/8608146/phani-rithvij"}, "edited": false, "score": 0, "creation_date": 1571745155, "post_id": 55340009, "comment_id": 103335728, "body": "Similar to <a href=\"https://stackoverflow.com/q/43550853/8608146\">stackoverflow.com/q/43550853/8608146</a> but not a duplicate"}], "owner": {"reputation": 1056, "user_id": 5424931, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/011a6628fb6be07b5b77cf0ac6b93282?s=128&d=identicon&r=PG", "display_name": "Rolando Urquiza", "link": "https://stackoverflow.com/users/5424931/rolando-urquiza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 236, "favorite_count": 2, "answer_count": 0, "score": 2, "last_activity_date": 1553523827, "creation_date": 1553523827, "question_id": 55340009, "link": "https://stackoverflow.com/questions/55340009/how-to-achieve-oversaturated-effect-with-flutter", "title": "How to achieve oversaturated effect with flutter", "body": "<p>I'm creating an flutter widget that adds an acrylic background accodring to the fluent <a href=\"https://docs.microsoft.com/en-us/windows/uwp/design/style/acrylic\" rel=\"nofollow noreferrer\">spec</a>. According to that page there are a few layers other than the blurred image in the acrylic effect, but, given that this could be very expensive I just wish to add the blurred layer and the oversaturated effect according to the last css snippet of <a href=\"https://medium.com/microsoft-design/diy-a-web-version-the-fluent-design-systems-acrylic-material-fe2eac2a40bb\" rel=\"nofollow noreferrer\">this</a> article.</p>\n\n<pre><code>backdrop-filter: blur(30px) saturate(125%);\n</code></pre>\n\n<p>I now know that I can add the blur effect using this:</p>\n\n<pre><code>BackdropFilter(\n  filter: ImaFilter.blur(sigmaX: 30, sigmaY: 30),\n  child: child,\n)\n</code></pre>\n\n<p>What I need to do now is to add the oversaturated layer.</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 5165, "user_id": 9374465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4885599304ccdac5fc24aea1bac2d4?s=128&d=identicon&r=PG&f=1", "display_name": "Mazin Ibrahim", "link": "https://stackoverflow.com/users/9374465/mazin-ibrahim"}, "edited": false, "score": 0, "creation_date": 1553519827, "post_id": 55338401, "comment_id": 97402482, "body": "can you share the code where you are calling <code>onTap()</code> ?"}, {"owner": {"reputation": 372, "user_id": 9988882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S732n.png?s=128&g=1", "display_name": "Pierre Le Brun", "link": "https://stackoverflow.com/users/9988882/pierre-le-brun"}, "reply_to_user": {"reputation": 5165, "user_id": 9374465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4885599304ccdac5fc24aea1bac2d4?s=128&d=identicon&r=PG&f=1", "display_name": "Mazin Ibrahim", "link": "https://stackoverflow.com/users/9374465/mazin-ibrahim"}, "edited": false, "score": 0, "creation_date": 1553520034, "post_id": 55338401, "comment_id": 97402622, "body": "I edited my post"}], "answers": [{"comments": [{"owner": {"reputation": 372, "user_id": 9988882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S732n.png?s=128&g=1", "display_name": "Pierre Le Brun", "link": "https://stackoverflow.com/users/9988882/pierre-le-brun"}, "edited": false, "score": 0, "creation_date": 1553528390, "post_id": 55340877, "comment_id": 97407895, "body": "Thanks that work, sorry i don&#39;t check the official documentation, I only read posts about that."}, {"owner": {"reputation": 5165, "user_id": 9374465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4885599304ccdac5fc24aea1bac2d4?s=128&d=identicon&r=PG&f=1", "display_name": "Mazin Ibrahim", "link": "https://stackoverflow.com/users/9374465/mazin-ibrahim"}, "reply_to_user": {"reputation": 372, "user_id": 9988882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S732n.png?s=128&g=1", "display_name": "Pierre Le Brun", "link": "https://stackoverflow.com/users/9988882/pierre-le-brun"}, "edited": false, "score": 0, "creation_date": 1553538859, "post_id": 55340877, "comment_id": 97413512, "body": "I&#39;m glad it helped"}], "tags": [], "owner": {"reputation": 5165, "user_id": 9374465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4885599304ccdac5fc24aea1bac2d4?s=128&d=identicon&r=PG&f=1", "display_name": "Mazin Ibrahim", "link": "https://stackoverflow.com/users/9374465/mazin-ibrahim"}, "is_accepted": false, "score": 0, "last_activity_date": 1553526547, "creation_date": 1553526547, "answer_id": 55340877, "question_id": 55338401, "link": "https://stackoverflow.com/questions/55338401/how-to-bring-back-the-status-bar-when-textfiled-is-tap/55340877#55340877", "title": "How to bring back the status bar when textfiled is tap?", "body": "<p>According to <code>restoreSystemUIOverlays()</code> function <a href=\"https://docs.flutter.io/flutter/services/SystemChrome/restoreSystemUIOverlays.html\" rel=\"nofollow noreferrer\">documentation</a> it only returns the last setting of <code>setEnabledSystemUIOverlays()</code> which is in your case hiding status bar. Instead you should use :</p>\n\n<pre><code>    onTap: () =&gt; SystemChrome.setEnabledSystemUIOverlays(SystemUiOverlay.values);\n</code></pre>\n"}], "owner": {"reputation": 372, "user_id": 9988882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S732n.png?s=128&g=1", "display_name": "Pierre Le Brun", "link": "https://stackoverflow.com/users/9988882/pierre-le-brun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 268, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553526547, "creation_date": 1553518861, "last_edit_date": 1553520024, "question_id": 55338401, "link": "https://stackoverflow.com/questions/55338401/how-to-bring-back-the-status-bar-when-textfiled-is-tap", "title": "How to bring back the status bar when textfiled is tap?", "body": "<p>I have implemented</p>\n\n<blockquote>\n  <p>SystemChrome.setEnabledSystemUIOverlays([]);</p>\n</blockquote>\n\n<p>in my main function to hide the status bar but I need to bring it back when I tap on my Textfield. So the user can use the back option on the bottom bar.</p>\n\n<p>I've tried to do this :</p>\n\n<blockquote>\n  <p>onTap: () => SystemChrome.restoreSystemUIOverlays()</p>\n</blockquote>\n\n<p>but that don't work.</p>\n\n<pre><code>Container _getSearchBar() {\n    return new Container(\n      margin: const EdgeInsets.only(top: 21.0, right: 8.0, left: 8.0),\n      child: new Card(\n        child: new ListTile(\n          leading: new Icon(Icons.search),\n          title: new TextField(\n            onTap: () =&gt; SystemChrome.restoreSystemUIOverlays(),\n            controller: controller,\n            decoration: new InputDecoration(\n                hintText: 'Search', border: InputBorder.none),\n          ),\n          trailing: new IconButton(\n            icon: new Icon(Icons.cancel),\n            onPressed: () {\n              controller.clear();\n            },\n          ),\n        ),\n      ),\n    );\n  }\n</code></pre>\n"}, {"tags": ["image", "dart", "flutter", "interaction"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1553519098, "post_id": 55337657, "comment_id": 97402052, "body": "<code>GestureDetector.onPanUpdate</code> ?"}, {"owner": {"reputation": 501, "user_id": 4882488, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/468cc55f6c985df33d4990fdf90c7d06?s=128&d=identicon&r=PG&f=1", "display_name": "Tin Man", "link": "https://stackoverflow.com/users/4882488/tin-man"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1553519330, "post_id": 55337657, "comment_id": 97402178, "body": "@pskink On top of a canvas? I&#39;m new to Flutter, so I don&#39;t know if I want to draw this all on a canvas, on top of an image, or using widgets..."}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1553519481, "post_id": 55337657, "comment_id": 97402261, "body": "it does not matter if on canvas, image or something else - do what is easiest to you"}], "owner": {"reputation": 501, "user_id": 4882488, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/468cc55f6c985df33d4990fdf90c7d06?s=128&d=identicon&r=PG&f=1", "display_name": "Tin Man", "link": "https://stackoverflow.com/users/4882488/tin-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 616, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1553516390, "creation_date": 1553516390, "question_id": 55337657, "link": "https://stackoverflow.com/questions/55337657/image-map-in-flutter", "title": "Image map in Flutter", "body": "<p>I'm trying to implement something along the lines of the following image, where every segment would have a click and an onDragEnter:</p>\n\n<p><a href=\"https://i.stack.imgur.com/0WELh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0WELh.png\" alt=\"Plutchik&#39;s wheel of emotions\"></a></p>\n\n<p>What would be the best way to implement this in Flutter?</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 9216635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aB1K3.jpg?s=128&g=1", "display_name": "Victorshn-user9216635", "link": "https://stackoverflow.com/users/9216635/victorshn-user9216635"}, "edited": false, "score": 0, "creation_date": 1553526905, "post_id": 55336075, "comment_id": 97406958, "body": "I try to downgrade my project and not use androidX but it not work. i still have the error above"}], "tags": [], "owner": {"reputation": 2575, "user_id": 9779791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uCXqz.jpg?s=128&g=1", "display_name": "mirkancal", "link": "https://stackoverflow.com/users/9779791/mirkancal"}, "is_accepted": false, "score": 0, "last_activity_date": 1553510896, "creation_date": 1553510896, "answer_id": 55336075, "question_id": 55335970, "link": "https://stackoverflow.com/questions/55335970/how-to-solve-the-image-picker-crash-app-error/55336075#55336075", "title": "How to solve the image picker crash app error?", "body": "<p>It may be related to AndroidX compability. You have to <a href=\"https://flutter.dev/docs/development/packages-and-plugins/androidx-compatibility#avoiding-androidx\" rel=\"nofollow noreferrer\">avoid AndroidX</a> or <a href=\"https://flutter.dev/docs/development/packages-and-plugins/androidx-compatibility#how-to-migrate-a-flutter-app-to-androidx\" rel=\"nofollow noreferrer\">migrate your project to AndroidX</a>.</p>\n\n<p>There were a breaking change after version <a href=\"https://pub.dartlang.org/packages/image_picker#050\" rel=\"nofollow noreferrer\">0.5.0</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/tluaS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tluaS.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 9216635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aB1K3.jpg?s=128&g=1", "display_name": "Victorshn-user9216635", "link": "https://stackoverflow.com/users/9216635/victorshn-user9216635"}, "edited": false, "score": 1, "creation_date": 1553527012, "post_id": 55336285, "comment_id": 97407041, "body": "can you please show a example which show how to use Permission?"}, {"owner": {"reputation": 5596, "user_id": 5692534, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/oQo0t.png?s=128&g=1", "display_name": "Darshan", "link": "https://stackoverflow.com/users/5692534/darshan"}, "reply_to_user": {"reputation": 73, "user_id": 9216635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aB1K3.jpg?s=128&g=1", "display_name": "Victorshn-user9216635", "link": "https://stackoverflow.com/users/9216635/victorshn-user9216635"}, "edited": false, "score": 0, "creation_date": 1553533933, "post_id": 55336285, "comment_id": 97411117, "body": "Check out this link. It has good example on how to give permission runtime. <a href=\"https://www.youtube.com/watch?v=fNklvY1FEao\" rel=\"nofollow noreferrer\">youtube.com/watch?v=fNklvY1FEao</a>"}], "tags": [], "owner": {"reputation": 5596, "user_id": 5692534, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/oQo0t.png?s=128&g=1", "display_name": "Darshan", "link": "https://stackoverflow.com/users/5692534/darshan"}, "is_accepted": false, "score": 0, "last_activity_date": 1553511546, "creation_date": 1553511546, "answer_id": 55336285, "question_id": 55335970, "link": "https://stackoverflow.com/questions/55335970/how-to-solve-the-image-picker-crash-app-error/55336285#55336285", "title": "How to solve the image picker crash app error?", "body": "<p><code>image_picker</code> plugin does not support <code>camera permission</code> condition anymore. For instance, when we try to access camera from an app, the app asks us for permission.\nNow, since <code>image_picker</code> plugin has removed that condition, we need to ask the permission manually using <code>permission_handler</code> plugin. Read more details about this change <a href=\"https://github.com/flutter/flutter/issues/29422\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Use <a href=\"https://pub.dartlang.org/packages/permission_handler#-readme-tab-\" rel=\"nofollow noreferrer\">this</a> plugin to add the request manually ie runtime and you should be able to get rid of this crash.</p>\n"}, {"comments": [{"owner": {"reputation": 1618, "user_id": 6538897, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/upe4P.jpg?s=128&g=1", "display_name": "Idee", "link": "https://stackoverflow.com/users/6538897/idee"}, "edited": false, "score": 3, "creation_date": 1583339833, "post_id": 57329282, "comment_id": 107085137, "body": "I don&#39;t know why this is the accepted answer because this does not actually fix it."}, {"owner": {"reputation": 258, "user_id": 9167234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6570597c2aac998c8561ffb72178c7?s=128&d=identicon&r=PG&f=1", "display_name": "aswin darma", "link": "https://stackoverflow.com/users/9167234/aswin-darma"}, "edited": false, "score": 0, "creation_date": 1585299444, "post_id": 57329282, "comment_id": 107715787, "body": "same here, still don&#39;t know why this can help to prevent the crash, for me the line of code after pickImage() function don&#39;t even executed before the crash, so after selecting the image the crash is inevitable"}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "reply_to_user": {"reputation": 258, "user_id": 9167234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6570597c2aac998c8561ffb72178c7?s=128&d=identicon&r=PG&f=1", "display_name": "aswin darma", "link": "https://stackoverflow.com/users/9167234/aswin-darma"}, "edited": false, "score": 0, "creation_date": 1587213470, "post_id": 57329282, "comment_id": 108424033, "body": "@aswindarma did you all manage to fix? I get the same issue too"}, {"owner": {"reputation": 258, "user_id": 9167234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6570597c2aac998c8561ffb72178c7?s=128&d=identicon&r=PG&f=1", "display_name": "aswin darma", "link": "https://stackoverflow.com/users/9167234/aswin-darma"}, "reply_to_user": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 3, "creation_date": 1587303597, "post_id": 57329282, "comment_id": 108452591, "body": "@JohnJoe I did, if you already used the latest version of image_picker and still got the crash problem, it should be image_picker can&#39;t work together with some dependencies that you used, for me example, after I delete then re-run 1 by 1 of my other dependencies, finally I found out that image_picker can&#39;t work together with image_picker_saver"}], "tags": [], "owner": {"reputation": 754, "user_id": 9664127, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tFGx4.jpg?s=128&g=1", "display_name": "riftninja", "link": "https://stackoverflow.com/users/9664127/riftninja"}, "is_accepted": true, "score": -1, "last_activity_date": 1564758886, "creation_date": 1564758886, "answer_id": 57329282, "question_id": 55335970, "link": "https://stackoverflow.com/questions/55335970/how-to-solve-the-image-picker-crash-app-error/57329282#57329282", "title": "How to solve the image picker crash app error?", "body": "<p>It seems image_picker documentation has been updated.</p>\n\n<p>You would have to use <code>retrieveLostData</code> when the app restarts (migrate to AndroidX else you may get a force close error)</p>\n\n<pre><code>Future&lt;void&gt; retrieveLostData() async {\n    final LostDataResponse response = await ImagePicker.retrieveLostData();\n    if (response == null) {\n        return;\n    }\n    if (response.file != null) {\n        setState(() {\n            if (response.type == RetrieveType.video) {\n                _handleVideo(response.file);\n            } else {\n                _handleImage(response.file);\n            }\n        });\n    } else {\n        _handleError(response.exception);\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 815, "user_id": 11298511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b41d1a0e08000c079fbaa4dfd807efd4?s=128&d=identicon&r=PG&f=1", "display_name": "Shojaeddin", "link": "https://stackoverflow.com/users/11298511/shojaeddin"}, "is_accepted": false, "score": 0, "last_activity_date": 1589300132, "creation_date": 1589300132, "answer_id": 61756619, "question_id": 55335970, "link": "https://stackoverflow.com/questions/55335970/how-to-solve-the-image-picker-crash-app-error/61756619#61756619", "title": "How to solve the image picker crash app error?", "body": "<p>I found out that in developer mode, phone close main activity of flutter because of an option in developer options this comment from author of package is </p>\n\n<blockquote>\n  <p>On Android, the MainActivity can be killed and restarted after launching the image picker for various of reasons. this can be tested by selecting `don't keep activities alive' option in the developer options in phone's setting app.</p>\n</blockquote>\n\n<p>then when I disable this option I get result in every device that I checked. link of this description is <a href=\"https://github.com/flutter/plugins/pull/1512\" rel=\"nofollow noreferrer\">here</a>. I hope it works for you.</p>\n"}], "owner": {"reputation": 73, "user_id": 9216635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aB1K3.jpg?s=128&g=1", "display_name": "Victorshn-user9216635", "link": "https://stackoverflow.com/users/9216635/victorshn-user9216635"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2888, "favorite_count": 1, "accepted_answer_id": 57329282, "answer_count": 4, "score": 3, "last_activity_date": 1589300132, "creation_date": 1553510500, "last_edit_date": 1553510879, "question_id": 55335970, "link": "https://stackoverflow.com/questions/55335970/how-to-solve-the-image-picker-crash-app-error", "title": "How to solve the image picker crash app error?", "body": "<p>I have a app crash when i'm picking a image. i'm using image_picker:0.5.0+7\nwith any ImageSource it's crash the app.</p>\n\n<p>File _fileState;</p>\n\n<pre><code>Future getImage(ImageSource imageSource) async{\n  // using your method of getting an image\n  final File image = await ImagePicker.pickImage(source: imageSource);\n\n  print(\"path:: \");\n  setState(() {\n   // print(\"path:: \"+image.path);\n    _fileState = image;\n  });\n\n}\n</code></pre>\n\n<blockquote>\n  <p>Shutting down VM\n      E/AndroidRuntime(16049): FATAL EXCEPTION: main\n      E/AndroidRuntime(16049): Process: com.grain.test_camera, PID: 16049\n      E/AndroidRuntime(16049): java.lang.RuntimeException: Unable to resume activity\n  {com.grain.test_camera/com.grain.test_camera.MainActivity}:\n  java.lang.RuntimeException: Failure deliver\n      ing result ResultInfo{who=null, request=2342, result=-1, data=Intent {\n  dat=content://com.android.providers.media.documents/document/image:25272\n  flg=0x1 }} to activity {com.grain.test\n      _camera/com.grain.test_camera.MainActivity}: java.lang.IllegalStateException: Received image from picker that was\n  not requested\n      E/AndroidRuntime(16049):        at android.app.ActivityThread.performResumeActivity(ActivityThread.java:3506)\n      E/AndroidRuntime(16049):        at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:3546)\n      E/AndroidRuntime(16049):        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2795)\n      E/AndroidRuntime(16049):        at android.app.ActivityThread.-wrap12(ActivityThread.java)\n      E/AndroidRuntime(16049):        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1527)\n      E/AndroidRuntime(16049):        at android.os.Handler.dispatchMessage(Handler.java:110)\n      E/AndroidRuntime(16049):        at android.os.Looper.loop(Looper.java:203)\n      E/AndroidRuntime(16049):        at android.app.ActivityThread.main(ActivityThread.java:6251)\n      E/AndroidRuntime(16049):        at java.lang.reflect.Method.invoke(Native Method)\n      E/AndroidRuntime(16049):        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1063)\n      E/AndroidRuntime(16049):        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:924)\n      E/AndroidRuntime(16049): Caused by: java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=2342,\n  result=-1, data=Intent { dat=content://com.android.provid\n      ers.media.documents/document/image:25272 flg=0x1 }} to activity {com.grain.test_camera/com.grain.test_camera.MainActivity}:\n  java.lang.IllegalStateException: Received image from picke\n      r that was not requested</p>\n</blockquote>\n\n<p>I do not know what I can do please help me</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 2883, "user_id": 1463174, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9byqj.png?s=128&g=1", "display_name": "Filled Stacks", "link": "https://stackoverflow.com/users/1463174/filled-stacks"}, "reply_to_user": {"reputation": 131, "user_id": 9668797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed4d7ef126cfb4c20042c17e7180a2e5?s=128&d=identicon&r=PG&f=1", "display_name": "Niru", "link": "https://stackoverflow.com/users/9668797/niru"}, "edited": false, "score": 1, "creation_date": 1553520561, "post_id": 55335305, "comment_id": 97403013, "body": "@Mark sorry about that I read your question completely wrong. The edits have helped my see that now. The modal value will not re-render while on the screen, it has to be closed and re-opened. You should wrap all the widgets in the bottom sheet into it&#39;s own stateful widget and set your values in there. I think that should solve it."}, {"owner": {"reputation": 131, "user_id": 9668797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed4d7ef126cfb4c20042c17e7180a2e5?s=128&d=identicon&r=PG&f=1", "display_name": "Niru", "link": "https://stackoverflow.com/users/9668797/niru"}, "edited": false, "score": 0, "creation_date": 1553606164, "post_id": 55335305, "comment_id": 97439910, "body": "Thanks. It worked by wrap all the widgets in the bottom sheet into it&#39;s own stateful widget!"}, {"owner": {"reputation": 2883, "user_id": 1463174, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9byqj.png?s=128&g=1", "display_name": "Filled Stacks", "link": "https://stackoverflow.com/users/1463174/filled-stacks"}, "reply_to_user": {"reputation": 131, "user_id": 9668797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed4d7ef126cfb4c20042c17e7180a2e5?s=128&d=identicon&r=PG&f=1", "display_name": "Niru", "link": "https://stackoverflow.com/users/9668797/niru"}, "edited": false, "score": 0, "creation_date": 1553618432, "post_id": 55335305, "comment_id": 97448320, "body": "@Mark awesome. I&#39;ll edit the answer and then you can accept it"}], "tags": [], "owner": {"reputation": 2883, "user_id": 1463174, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9byqj.png?s=128&g=1", "display_name": "Filled Stacks", "link": "https://stackoverflow.com/users/1463174/filled-stacks"}, "is_accepted": false, "score": 4, "last_activity_date": 1553618471, "last_edit_date": 1553618471, "creation_date": 1553508290, "answer_id": 55335305, "question_id": 55334769, "link": "https://stackoverflow.com/questions/55334769/flutter-bottomsheet-modal-not-rerendering/55335305#55335305", "title": "Flutter Bottomsheet Modal not rerendering", "body": "<p>You need to add height for the root node of the bottom sheet. So change your container to have a fixed height.</p>\n\n<pre><code> Container(\n     height: 300.0, // Add height\n     padding: new EdgeInsets.all(27.0),\n     child: new Column(\n       children: &lt;Widget&gt;[                \n          new Text('Some headline', \n               style: new TextStyle(fontWeight: FontWeight.bold, fontSize: 22),),\n                getFilterChipsWidgets(index),\n              ],\n            ),\n</code></pre>\n\n<p>I usually calculate this dynamically based on the widgets I'm passing in. But this should get you started.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>The comment I gave below was the actual answer.</p>\n\n<p>You should wrap all the widgets in the bottom sheet into it's own stateful widget and set your values in there.</p>\n"}, {"tags": [], "owner": {"reputation": 1486, "user_id": 6718738, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-OiiawpQvnZk/AAAAAAAAAAI/AAAAAAAAADQ/Sy4ldgXpyBI/photo.jpg?sz=128", "display_name": "Mozart Al Khateeb", "link": "https://stackoverflow.com/users/6718738/mozart-al-khateeb"}, "is_accepted": false, "score": 0, "last_activity_date": 1573157362, "creation_date": 1573157362, "answer_id": 58756230, "question_id": 55334769, "link": "https://stackoverflow.com/questions/55334769/flutter-bottomsheet-modal-not-rerendering/58756230#58756230", "title": "Flutter Bottomsheet Modal not rerendering", "body": "<p>Modal Bottom sheet seems to call the constructor whenever any change in the UI occurs in the child widget for example changing focus inside a form. </p>\n\n<p>So you need to create instances of the objects you are working with inside a parent <strong>StatefulWidget</strong> and then to reflect changes in the UI of the Model Bottom Sheet you need to call setState whenever you make changes to the data.</p>\n"}], "owner": {"reputation": 131, "user_id": 9668797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed4d7ef126cfb4c20042c17e7180a2e5?s=128&d=identicon&r=PG&f=1", "display_name": "Niru", "link": "https://stackoverflow.com/users/9668797/niru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1146, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1582241136, "creation_date": 1553506280, "last_edit_date": 1553518423, "question_id": 55334769, "link": "https://stackoverflow.com/questions/55334769/flutter-bottomsheet-modal-not-rerendering", "title": "Flutter Bottomsheet Modal not rerendering", "body": "<p>On my grid items when I click, it opens a <code>ModalBottomSheet</code> and listed with filter chips of strings. When you click a filter chip value, the value is updated but the widget does not re-render. The app is a <code>StatefulWidget</code>.</p>\n\n<p>I have called the function <code>setState</code>.</p>\n\n<p>What I expect is filterchips becomes checked and unchecked on selection.</p>\n\n<pre><code>void _showBottom(index){\n    showModalBottomSheet&lt;void&gt;(\n        context: context,\n\n        builder: (BuildContext context){\n          return new Container(\n            padding: new EdgeInsets.all(27.0),\n            child: new Column(\n              children: &lt;Widget&gt;[                \n                new Text('Some headline', style: new TextStyle(  fontWeight: FontWeight.bold, fontSize: 22),),\n                getFilterChipsWidgets(index),\n              ],\n            ),\n          );\n        }\n    );\n  }\n\n\nWidget getFilterChipsWidgets(index)\n  {\n    List&lt;Widget&gt; tags_list = new List&lt;Widget&gt;();\n      for(var i=0; i&lt;list[index][\"tags\"].length; i++) {       \n        var _isSelected = true;\n\n        FilterChip item = new FilterChip(\n          label: Text(\"Filtertext\",), \n          selected: _isSelected,\n          onSelected: (bool newValue) {            \n            setState(() {\n              _isSelected = !_isSelected;\n              debugPrint(_isSelected.toString());\n            });\n          },\n        );\n        tags_list.add(item);       \n      }\n      return new Row(children: tags_list);\n   }\n</code></pre>\n"}, {"tags": ["android", "dart", "flutter", "barcode"], "comments": [{"owner": {"reputation": 1305, "user_id": 9836706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2ehG.jpg?s=128&g=1", "display_name": "Francesco Iapicca", "link": "https://stackoverflow.com/users/9836706/francesco-iapicca"}, "edited": false, "score": 0, "creation_date": 1553502519, "post_id": 55333752, "comment_id": 97392685, "body": "you want to take a look to AndroidX issue: I had a similar situation, you can grab some code from this post:  <a href=\"https://stackoverflow.com/questions/55223002/flutter-app-freeze-in-build-release-work-properly-in-debug-androidx\" title=\"flutter app freeze in build release work properly in debug androidx\">stackoverflow.com/questions/55223002/&hellip;</a>  not the solution or the updates, but my troubleshooting in the original post; I hope it helps"}, {"owner": {"reputation": 122, "user_id": 8184302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fS0fA.png?s=128&g=1", "display_name": "Harshit Vadhera", "link": "https://stackoverflow.com/users/8184302/harshit-vadhera"}, "reply_to_user": {"reputation": 1305, "user_id": 9836706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2ehG.jpg?s=128&g=1", "display_name": "Francesco Iapicca", "link": "https://stackoverflow.com/users/9836706/francesco-iapicca"}, "edited": false, "score": 0, "creation_date": 1553505919, "post_id": 55333752, "comment_id": 97394352, "body": "Thanks But Not Working"}, {"owner": {"reputation": 1305, "user_id": 9836706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2ehG.jpg?s=128&g=1", "display_name": "Francesco Iapicca", "link": "https://stackoverflow.com/users/9836706/francesco-iapicca"}, "edited": false, "score": 0, "creation_date": 1553506211, "post_id": 55333752, "comment_id": 97394521, "body": "try using the &quot;old one&quot;: barcode_scan: ^0.0.8  , if doesn&#39;t work try without &quot; ^ &quot;: just &quot;barcode_scan: 0.0.8&quot;"}, {"owner": {"reputation": 16714, "user_id": 7924072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pwcXh.jpg?s=128&g=1", "display_name": "Viren V Varasadiya", "link": "https://stackoverflow.com/users/7924072/viren-v-varasadiya"}, "edited": false, "score": 0, "creation_date": 1553518916, "post_id": 55333752, "comment_id": 97401956, "body": "do not specify the version of barcode_scan it will tack suitable version for you."}], "answers": [{"tags": [], "owner": {"reputation": 98, "user_id": 10105487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XwVdD.png?s=128&g=1", "display_name": "Ayyaz meo", "link": "https://stackoverflow.com/users/10105487/ayyaz-meo"}, "is_accepted": false, "score": 1, "last_activity_date": 1580287418, "last_edit_date": 1580287418, "creation_date": 1580280945, "answer_id": 59961871, "question_id": 55333752, "link": "https://stackoverflow.com/questions/55333752/flutter-barcode-scan-plugin-crashing-app/59961871#59961871", "title": "Flutter Barcode_scan plugin crashing App?", "body": "<p>You're probably not adding the dependency in your <code>AndroidManifest.xml</code> folder, The same issue I had, Just modify <code>scanQR()</code> function.</p>\n\n<p>Try this:</p>\n\n<pre><code>Future scanQR() async {\n    try {\n      String barcode;\n      await BarcodeScanner.scan().then((onValue) {\n        setState(() {\n          barcode = onValue.toString();\n        });\n      }).catchError((onError) {\n        print(onError);\n      });\n      setState(() =&gt; this.barcode = barcode);\n    } on PlatformException catch (e) {\n      if (e.code == BarcodeScanner.CameraAccessDenied) {\n        setState(() {\n          this.barcode = 'camera permission not granted!';\n        });\n      } else {\n        setState(() =&gt; this.barcode = 'Unknown error: $e');\n      }\n    } on FormatException {\n      setState(() =&gt; this.barcode = '(User returned)');\n    } catch (e) {\n      setState(() =&gt; this.barcode = 'Unknown error: $e');\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 122, "user_id": 8184302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fS0fA.png?s=128&g=1", "display_name": "Harshit Vadhera", "link": "https://stackoverflow.com/users/8184302/harshit-vadhera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1422, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1580287418, "creation_date": 1553502363, "question_id": 55333752, "link": "https://stackoverflow.com/questions/55333752/flutter-barcode-scan-plugin-crashing-app", "title": "Flutter Barcode_scan plugin crashing App?", "body": "<p>As Soon As I Click on The Camera Button The App Crashes.</p>\n\n<p>It is not Asking For Any Permission Also.</p>\n\n<p>I Have Included The Activity File in the Manifest Also</p>\n\n<p>This is The Code I Am Using and The plugin I Am Using is <code>barcode_scan:</code></p>\n\n<p>Even After Searching a Lot I Am Unable To get to The Problem.\nHelp Would Be Appreciated.</p>\n\n<pre><code>class _AuditPage extends State&lt;AuditPage&gt;{\n String result = \"Scan The Barcode!\";\n\n\n Future _scanQR() async{\n    try{\n      String qrCode = await BarcodeScanner.scan();\n      setState(() {\n        result = qrCode;\n      });\n    }on PlatformException catch (ex){\n      if(ex.code==BarcodeScanner.CameraAccessDenied){\n        setState(() {\n          result=\"Camera Permission Was Denied\";\n        });\n      }else{\n        setState(() {\n          result=\"Unknown Error $ex!\";\n        });\n      }\n    } on FormatException {\n      setState(() {\n        result = \"You Pressed The Back Button Before Scanning\";\n      });\n    } catch (ex){\n      setState(() {\n          result=\"Unknown Error $ex!\";\n        });\n    }\n }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n       resizeToAvoidBottomPadding: false,\n      appBar: AppBar(\n        title: Text(\"Bhaifi\"),\n      ),\n      drawer: DrawerPage(),\n      body: Center(\n        child:Text(\n          result,\n        ),\n      ), \n        floatingActionButton:FloatingActionButton.extended(\n          icon: Icon(Icons.camera_alt),\n          label: Text(\"Scan\"),\n          onPressed: _scanQR,\n        ),\n      floatingActionButtonLocation:FloatingActionButtonLocation.centerFloat,\n    );\n  }\n\n\n}\n</code></pre>\n"}, {"tags": ["multithreading", "dart", "flutter", "gpu"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 2, "creation_date": 1553502596, "post_id": 55333539, "comment_id": 97392720, "body": "why not using <a href=\"https://docs.flutter.io/flutter/foundation/compute.html\" rel=\"nofollow noreferrer\">compute</a> function?"}, {"owner": {"reputation": 1305, "user_id": 9836706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2ehG.jpg?s=128&g=1", "display_name": "Francesco Iapicca", "link": "https://stackoverflow.com/users/9836706/francesco-iapicca"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1553502752, "post_id": 55333539, "comment_id": 97392784, "body": "pskink I didn&#39;t know it existed and looks awesome, I&#39;m gonna look into it right now! many thanks &lt;3 bonus question: this is flutter stuff, I&#39;m also using aqueduct... any &#39;pure dart&#39; equivalent?"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 2, "creation_date": 1553503066, "post_id": 55333539, "comment_id": 97392909, "body": "see <a href=\"https://blog.usejournal.com/flutter-async-beginner-friendly-guide-for-heavy-lifting-operations-cf8ec81833d7\" rel=\"nofollow noreferrer\">blog.usejournal.com/&hellip;</a> or <a href=\"https://hackernoon.com/are-futures-in-dart-threads-2cdc5bd8063a\" rel=\"nofollow noreferrer\">hackernoon.com/are-futures-in-dart-threads-2cdc5bd8063a</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10539074"}, "edited": false, "score": 2, "creation_date": 1553790133, "post_id": 55333539, "comment_id": 97525461, "body": "as I understand he&#39;s looking for something like <a href=\"https://en.wikipedia.org/wiki/CUDA\" rel=\"nofollow noreferrer\">link</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1868, "user_id": 1416886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1816b2eac989b20642bb419e3b51605?s=128&d=identicon&r=PG", "display_name": "filiph", "link": "https://stackoverflow.com/users/1416886/filiph"}, "is_accepted": true, "score": 6, "last_activity_date": 1595964460, "creation_date": 1595964460, "answer_id": 63141463, "question_id": 55333539, "link": "https://stackoverflow.com/questions/55333539/utilize-gpu-in-dart-flutter-other-than-graphics/63141463#63141463", "title": "Utilize GPU in Dart / Flutter other than graphics", "body": "<p>&quot;GPU thread&quot; was a confusing name, so we renamed it to &quot;raster thread&quot;. This thread is actually running on a CPU core, and its function is to rasterize graphics to be sent <em>to</em> the GPU. Many people assumed the thread is running on the GPU itself, but that is not the case. Thus, the rename.</p>\n<p>(We renamed it pretty recently. Your original question used the correct terminology at the time.)</p>\n<p>You cannot compile Dart code to be run on the GPU (like CUDA), unfortunately, the way you can do that <a href=\"https://linuxhint.com/gpu-programming-cpp/\" rel=\"noreferrer\">with C++</a>, for example.</p>\n<p>An option is to write your Monte Carlo routine in something like C++, then use Dart's <a href=\"https://dart.dev/guides/libraries/c-interop\" rel=\"noreferrer\">FFI</a> to call that routine from Dart code. This will run synchronously and as fast as you can make the C++ code go.</p>\n"}], "owner": {"reputation": 1305, "user_id": 9836706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2ehG.jpg?s=128&g=1", "display_name": "Francesco Iapicca", "link": "https://stackoverflow.com/users/9836706/francesco-iapicca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1592, "favorite_count": 1, "accepted_answer_id": 63141463, "answer_count": 1, "score": 2, "last_activity_date": 1595964460, "creation_date": 1553501356, "question_id": 55333539, "link": "https://stackoverflow.com/questions/55333539/utilize-gpu-in-dart-flutter-other-than-graphics", "title": "Utilize GPU in Dart / Flutter other than graphics", "body": "<p>Aye Aye good people,</p>\n\n<p>I was wandering if I can 'use' ('calls', 'threads'?)</p>\n\n<p>the GPU with Dart and Flutter.</p>\n\n<p>The <a href=\"https://flutter.github.io/devtools/timeline.html#gpu\" rel=\"nofollow noreferrer\">documentation</a> states</p>\n\n<blockquote>\n  <p>The GPU thread executes graphics code from the Flutter Engine. This\n  thread takes the layer tree and displays it by talking to the GPU\n  (graphic processing unit). You cannot directly access the GPU thread\n  or its data, but if this thread is slow, it\u2019s a result of something\n  you\u2019ve done in the Dart code. Skia, the graphics library, runs on this\n  thread, which is sometimes called the rasterizer thread.[...] More\n  information on profiling the GPU thread can be found at\u00a0flutter.dev.\n  (which doesn't add much)</p>\n</blockquote>\n\n<p>But what if I don't want to use it for graphics?</p>\n\n<p>Let's say for example that I want to use <a href=\"https://en.wikipedia.org/wiki/Monte_Carlo_method\" rel=\"nofollow noreferrer\">Monte carlo method</a>, \nfor some calculation, </p>\n\n<p>could I make a call or send a thread to the GPU?</p>\n\n<p>thank you for your attention</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 59214, "user_id": 666221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1VBx.jpg?s=128&g=1", "display_name": "diegoveloper", "link": "https://stackoverflow.com/users/666221/diegoveloper"}, "edited": false, "score": 1, "creation_date": 1553494110, "post_id": 55332029, "comment_id": 97389294, "body": "waht IDE are you using ? I&#39;m using VSCode and I see all the characters"}, {"owner": {"reputation": 22853, "user_id": 8708524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1005bc21463c9b1dcec6a3be2ab26943?s=128&d=identicon&r=PG&f=1", "display_name": "Hemanth Raj", "link": "https://stackoverflow.com/users/8708524/hemanth-raj"}, "edited": false, "score": 0, "creation_date": 1553494187, "post_id": 55332029, "comment_id": 97389331, "body": "Use <code>debugPrint</code> instead of <code>print</code>"}, {"owner": {"reputation": 31302, "user_id": 10269042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6ac9efa53566934533a6364994c03b6?s=128&d=identicon&r=PG&f=1", "display_name": "anmol.majhail", "link": "https://stackoverflow.com/users/10269042/anmol-majhail"}, "edited": false, "score": 0, "creation_date": 1553494209, "post_id": 55332029, "comment_id": 97389337, "body": "In Android Studio also - it shows full characters"}, {"owner": {"reputation": 792, "user_id": 9363835, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ztCRobtQNGg/AAAAAAAAAAI/AAAAAAAAAPU/iJWHavVnXyM/photo.jpg?sz=128", "display_name": "Denis Ramdan", "link": "https://stackoverflow.com/users/9363835/denis-ramdan"}, "edited": false, "score": 0, "creation_date": 1553494910, "post_id": 55332029, "comment_id": 97389588, "body": "thank you for your answer.  I&#39;m using Android Studio.  basically the code I wrote above is an example, but in my case I have a string with more than 5000 characters, but only half of it is displayed on the console, is there something wrong with the code or my editor&#39;s settings?"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1553499605, "post_id": 55332029, "comment_id": 97391483, "body": "so did you use <code>debugPrint</code> as suggested above?"}, {"owner": {"reputation": 792, "user_id": 9363835, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ztCRobtQNGg/AAAAAAAAAAI/AAAAAAAAAPU/iJWHavVnXyM/photo.jpg?sz=128", "display_name": "Denis Ramdan", "link": "https://stackoverflow.com/users/9363835/denis-ramdan"}, "edited": false, "score": 0, "creation_date": 1553502634, "post_id": 55332029, "comment_id": 97392733, "body": "I have tried using the print function and debugPrint, but the result is the same, the console does not display all characters."}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1553502900, "post_id": 55332029, "comment_id": 97392848, "body": "see <a href=\"https://flutter.dev/docs/testing/debugging#print-and-debugprint-with-flutter-logs\" rel=\"nofollow noreferrer\">print and debugPrint with flutter logs</a>"}], "owner": {"reputation": 792, "user_id": 9363835, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ztCRobtQNGg/AAAAAAAAAAI/AAAAAAAAAPU/iJWHavVnXyM/photo.jpg?sz=128", "display_name": "Denis Ramdan", "link": "https://stackoverflow.com/users/9363835/denis-ramdan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553493795, "creation_date": 1553493795, "question_id": 55332029, "link": "https://stackoverflow.com/questions/55332029/how-to-show-all-character-object-in-print-function", "title": "How to Show all Character Object in Print function", "body": "<p>I have a quick question, but after I try searching I can't find it anywhere.\nmy question is, how do I display all the character object strings in the print function in dart.?</p>\n\n<p>this my example code : </p>\n\n<pre><code>...\n\nString stepsVar = \"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\", \nprint(stepsVar);\n\n...\n</code></pre>\n\n<p>the console only shows a portion of characters and not all of them are displayed, How did it happen?\nThank you for the help.</p>\n\n<p>best regard,</p>\n"}, {"tags": ["json", "dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 2029, "user_id": 1224583, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/87waR.jpg?s=128&g=1", "display_name": "codeinprogress", "link": "https://stackoverflow.com/users/1224583/codeinprogress"}, "edited": false, "score": 0, "creation_date": 1553493709, "post_id": 55331917, "comment_id": 97389167, "body": "Thanks, now I no longer get that error message but the response body comes back as empty."}, {"owner": {"reputation": 59214, "user_id": 666221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1VBx.jpg?s=128&g=1", "display_name": "diegoveloper", "link": "https://stackoverflow.com/users/666221/diegoveloper"}, "reply_to_user": {"reputation": 2029, "user_id": 1224583, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/87waR.jpg?s=128&g=1", "display_name": "codeinprogress", "link": "https://stackoverflow.com/users/1224583/codeinprogress"}, "edited": false, "score": 1, "creation_date": 1553493873, "post_id": 55331917, "comment_id": 97389217, "body": "maybe you should use post instead of get to send raw data."}, {"owner": {"reputation": 310, "user_id": 7435699, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x2bDszUxYDc/AAAAAAAAAAI/AAAAAAAAD1Q/ZDcSZi3NJ4Y/photo.jpg?sz=128", "display_name": "Jennis Vaishnav", "link": "https://stackoverflow.com/users/7435699/jennis-vaishnav"}, "edited": false, "score": 0, "creation_date": 1588929419, "post_id": 55331917, "comment_id": 109094641, "body": "@diegoveloper can we use the body tag use in post request in get request, if we want to submit some data. When I&#39;m sending data in same manner, I&#39;m receiving parameters as query string on the server like: <a href=\"http://someUrl.com/method?param=1\" rel=\"nofollow noreferrer\">someUrl.com/method?param=1</a> and so on..."}, {"owner": {"reputation": 2672, "user_id": 5589073, "user_type": "registered", "accept_rate": 48, "profile_image": "https://graph.facebook.com/1663295230585166/picture?type=large", "display_name": "Abhishek Thapliyal", "link": "https://stackoverflow.com/users/5589073/abhishek-thapliyal"}, "edited": false, "score": 0, "creation_date": 1598265733, "post_id": 55331917, "comment_id": 112392228, "body": "@diegoveloper: Every where i see the params &lt;string, string&gt;, If i have to send bool, int as well. how can i do that?"}, {"owner": {"reputation": 355, "user_id": 10020910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/029f300e521d6c1909e5e3f294c06d9c?s=128&d=identicon&r=PG&f=1", "display_name": "s.j", "link": "https://stackoverflow.com/users/10020910/s-j"}, "edited": false, "score": 0, "creation_date": 1613110743, "post_id": 55331917, "comment_id": 116980326, "body": "final uriL = Uri.http(&#39;<a href=\"http://10.130.34.165:4002/masterRequest&#39;,&#39;/Get_IFSCDetail\" rel=\"nofollow noreferrer\">10.130.34.165:4002/masterRequest&#39;,&#39;/Get_IFSCDetail</a>&zwnj;&#8203;&#39; ,queryParameters); in my code i am passing this but tis giving error of FormatException: Invalid radix-10 number"}], "tags": [], "owner": {"reputation": 59214, "user_id": 666221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1VBx.jpg?s=128&g=1", "display_name": "diegoveloper", "link": "https://stackoverflow.com/users/666221/diegoveloper"}, "is_accepted": true, "score": 9, "last_activity_date": 1553493944, "last_edit_date": 1553493944, "creation_date": 1553493138, "answer_id": 55331917, "question_id": 55331782, "link": "https://stackoverflow.com/questions/55331782/flutter-send-json-body-for-http-get-request/55331917#55331917", "title": "Flutter: Send JSON body for Http GET request", "body": "<p><code>uri.replace...</code> returns a new <code>Uri</code>, so you have to assign it into a new variable or use directly into the <code>get</code> function.</p>\n\n<pre><code>final newURI = uri.replace(queryParameters: params);\n\nvar response = await http.get(newURI, headers: {\n  \"Authorization\": Constants.APPOINTMENT_TEST_AUTHORIZATION_KEY,\n  HttpHeaders.contentTypeHeader: \"application/json\",\n  \"callMethod\" : \"DOCTOR_AVAILABILITY\"\n});\n</code></pre>\n\n<p>using post:</p>\n\n<pre><code>      var params = {\n        \"doctor_id\": \"DOC000506\",\n        \"date_range\": \"25/03/2019-25/03/2019\" ,\n        \"clinic_id\":\"LAD000404\"\n      };\n\n      var response = await http.post(\"http://theapiiamcalling:8000\", \n      body: json.encode(params)\n      ,headers: {\n        \"Authorization\": Constants.APPOINTMENT_TEST_AUTHORIZATION_KEY,\n        HttpHeaders.contentTypeHeader: \"application/json\",\n        \"callMethod\" : \"DOCTOR_AVAILABILITY\"\n      });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 358195, "user_id": 3681880, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3b7ad8915f552cd4e23caf38eee10030?s=128&d=identicon&r=PG", "display_name": "Suragch", "link": "https://stackoverflow.com/users/3681880/suragch"}, "is_accepted": false, "score": 9, "last_activity_date": 1611704671, "last_edit_date": 1611704671, "creation_date": 1582171329, "answer_id": 60312720, "question_id": 55331782, "link": "https://stackoverflow.com/questions/55331782/flutter-send-json-body-for-http-get-request/60312720#60312720", "title": "Flutter: Send JSON body for Http GET request", "body": "<h2>GET</h2>\n<p>GET requests are not intended for sending data to the server (but <a href=\"https://stackoverflow.com/questions/978061/http-get-with-request-body\">see this</a>). That's why the <code>http.dart</code> <code>get</code> method doesn't have a <code>body</code> parameter. However, when you want to specify what you are getting from the server, sometimes you need to include query parameters, which is a form of data. The query parameters are key-value pairs, so you can include them as a map like this:</p>\n<pre><code>final queryParameters = {\n  'name': 'Bob',\n  'age': '87',\n};\nfinal uri = Uri.http('www.example.com', '/path', queryParameters);\nfinal headers = {HttpHeaders.contentTypeHeader: 'application/json'};\nfinal response = await http.get(uri, headers: headers);\n</code></pre>\n<h2>POST</h2>\n<p>Unlike GET requests, POST requests <em>are</em> intended for sending data in the body. You can do it like this:</p>\n<pre><code>final body = {\n  'name': 'Bob',\n  'age': '87',\n};\nfinal jsonString = json.encode(body);\nfinal uri = Uri.http('www.example.com', '/path');\nfinal headers = {HttpHeaders.contentTypeHeader: 'application/json'};\nfinal response = await http.post(uri, headers: headers, body: jsonString);\n</code></pre>\n<p>Note that the parameters were a Map on the Dart side. Then they were converted to a JSON string by the <code>json.encode()</code> function from the <code>dart:convert</code> library. That string is the POST body.</p>\n<p>So if the server is asking you to pass it data in a GET request body, check again. While it is possible to design a server in this way, it isn't standard.</p>\n"}], "owner": {"reputation": 2029, "user_id": 1224583, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/87waR.jpg?s=128&g=1", "display_name": "codeinprogress", "link": "https://stackoverflow.com/users/1224583/codeinprogress"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16209, "favorite_count": 1, "accepted_answer_id": 55331917, "answer_count": 2, "score": 10, "last_activity_date": 1617188069, "creation_date": 1553492328, "question_id": 55331782, "link": "https://stackoverflow.com/questions/55331782/flutter-send-json-body-for-http-get-request", "title": "Flutter: Send JSON body for Http GET request", "body": "<p>I need to make a GET request to an API from my Flutter app which requires request body as JSON (raw).</p>\n\n<p>I tested the API with JSON request body in Postman and it seems to be working fine.</p>\n\n<p><a href=\"https://i.stack.imgur.com/4496D.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4496D.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now on my Flutter application I am trying to do the same thing:</p>\n\n<pre><code>_fetchDoctorAvailability() async {\n    var params = {\n      \"doctor_id\": \"DOC000506\",\n      \"date_range\": \"25/03/2019-25/03/2019\" ,\n      \"clinic_id\":\"LAD000404\"\n    };\n\n    Uri uri = Uri.parse(\"http://theapiiamcalling:8000\");\n    uri.replace(queryParameters: params);\n\n    var response = await http.get(uri, headers: {\n      \"Authorization\": Constants.APPOINTMENT_TEST_AUTHORIZATION_KEY,\n      HttpHeaders.contentTypeHeader: \"application/json\",\n      \"callMethod\" : \"DOCTOR_AVAILABILITY\"\n    });\n\n    print('---- status code: ${response.statusCode}');\n    var jsonData = json.decode(response.body);\n\n    print('---- slot: ${jsonData}');\n}\n</code></pre>\n\n<p>However the API gives me an error saying </p>\n\n<blockquote>\n  <p>{message: Missing input json., status: false}</p>\n</blockquote>\n\n<p>How do I send a raw (or rather JSON) request body for Http GET request in Flutter?</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 59214, "user_id": 666221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1VBx.jpg?s=128&g=1", "display_name": "diegoveloper", "link": "https://stackoverflow.com/users/666221/diegoveloper"}, "edited": false, "score": 0, "creation_date": 1553492367, "post_id": 55331725, "comment_id": 97388814, "body": "you can add the code you are using"}, {"owner": {"reputation": 526, "user_id": 10652278, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ejU08.jpg?s=128&g=1", "display_name": "Tabarek Ghassan", "link": "https://stackoverflow.com/users/10652278/tabarek-ghassan"}, "reply_to_user": {"reputation": 59214, "user_id": 666221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1VBx.jpg?s=128&g=1", "display_name": "diegoveloper", "link": "https://stackoverflow.com/users/666221/diegoveloper"}, "edited": false, "score": 0, "creation_date": 1553493271, "post_id": 55331725, "comment_id": 97389022, "body": "I edited my question 0.0 @diegoveloper"}, {"owner": {"reputation": 1247, "user_id": 4859905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jltfu.jpg?s=128&g=1", "display_name": "Kenneth Li", "link": "https://stackoverflow.com/users/4859905/kenneth-li"}, "edited": false, "score": 0, "creation_date": 1553499538, "post_id": 55331725, "comment_id": 97391452, "body": "how about using:  var tempVar = await ....  , then check the type of tempVar and put the content into your final Map variables."}], "answers": [{"comments": [{"owner": {"reputation": 526, "user_id": 10652278, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ejU08.jpg?s=128&g=1", "display_name": "Tabarek Ghassan", "link": "https://stackoverflow.com/users/10652278/tabarek-ghassan"}, "edited": false, "score": 0, "creation_date": 1553495463, "post_id": 55331997, "comment_id": 97389794, "body": "actually, the error happened in the <b>item</b> below the user I defined it as a <b>list</b> so when the return data contains one item the error appears but when I have a list it works fine,, and I tried your code the same error still pop up :("}, {"owner": {"reputation": 59214, "user_id": 666221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1VBx.jpg?s=128&g=1", "display_name": "diegoveloper", "link": "https://stackoverflow.com/users/666221/diegoveloper"}, "reply_to_user": {"reputation": 526, "user_id": 10652278, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ejU08.jpg?s=128&g=1", "display_name": "Tabarek Ghassan", "link": "https://stackoverflow.com/users/10652278/tabarek-ghassan"}, "edited": false, "score": 0, "creation_date": 1553495601, "post_id": 55331997, "comment_id": 97389831, "body": "Could you print the user variable to check the data?"}, {"owner": {"reputation": 526, "user_id": 10652278, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ejU08.jpg?s=128&g=1", "display_name": "Tabarek Ghassan", "link": "https://stackoverflow.com/users/10652278/tabarek-ghassan"}, "edited": false, "score": 0, "creation_date": 1553497174, "post_id": 55331997, "comment_id": 97390418, "body": "{StatusCode: 200, StatusDescription: Cards getted successfully, ResponseData: {data: {ROW: {CARD_NO: 0000, CARD_TYPE:  (IQD), STATUS: VALID , EMBOSSED_NAME: IQD, BALANCE: 0000, CURRENCY: IQD, ISSUE_DATE: 18-NOV-18, EXPIRE_DATE: 2020/11}}}}"}, {"owner": {"reputation": 526, "user_id": 10652278, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ejU08.jpg?s=128&g=1", "display_name": "Tabarek Ghassan", "link": "https://stackoverflow.com/users/10652278/tabarek-ghassan"}, "edited": false, "score": 0, "creation_date": 1553497282, "post_id": 55331997, "comment_id": 97390476, "body": "above is the user variable data .. and in other cases it become two or three blocks of data"}, {"owner": {"reputation": 59214, "user_id": 666221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1VBx.jpg?s=128&g=1", "display_name": "diegoveloper", "link": "https://stackoverflow.com/users/666221/diegoveloper"}, "reply_to_user": {"reputation": 526, "user_id": 10652278, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ejU08.jpg?s=128&g=1", "display_name": "Tabarek Ghassan", "link": "https://stackoverflow.com/users/10652278/tabarek-ghassan"}, "edited": false, "score": 0, "creation_date": 1553524050, "post_id": 55331997, "comment_id": 97405141, "body": "hmmm , would be better if you put the JSON response from your server"}], "tags": [], "owner": {"reputation": 59214, "user_id": 666221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1VBx.jpg?s=128&g=1", "display_name": "diegoveloper", "link": "https://stackoverflow.com/users/666221/diegoveloper"}, "is_accepted": false, "score": 0, "last_activity_date": 1553493611, "creation_date": 1553493611, "answer_id": 55331997, "question_id": 55331725, "link": "https://stackoverflow.com/questions/55331725/how-to-return-one-item-and-list-of-items-in-flutter/55331997#55331997", "title": "how to return one item and list of items in flutter", "body": "<p>You have an error here:</p>\n\n<pre><code> Map&lt;String, dynamic&gt; user = await getCards(userid);\n</code></pre>\n\n<p>That's because <code>getCards</code> returns a List and not a Map, so try getting the first element , like this .</p>\n\n<pre><code>  Map&lt;String, dynamic&gt; user = (await getCards(userid))[0];\n</code></pre>\n"}], "owner": {"reputation": 526, "user_id": 10652278, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ejU08.jpg?s=128&g=1", "display_name": "Tabarek Ghassan", "link": "https://stackoverflow.com/users/10652278/tabarek-ghassan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3464, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1553493611, "creation_date": 1553491902, "last_edit_date": 1553493201, "question_id": 55331725, "link": "https://stackoverflow.com/questions/55331725/how-to-return-one-item-and-list-of-items-in-flutter", "title": "how to return one item and list of items in flutter", "body": "<p>I built an app which is used to return user information from the server and the information maybe contain item or list of items \nmy problem is that when I define the variable as a list it returns list of items but it makes an error when I want to return one item only and when I define the variable as a map it returns one item but it makes error when I return a list \nhow can I solve this ?</p>\n\n<p>P.S. this is my code </p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:idb/pages/aboutus.dart';\nimport 'package:idb/pages/logout.dart';\nimport 'package:idb/utilities/cardinfo.dart';\nimport 'package:idb/utilities/getTokenParameter.dart';\nimport 'package:date_range_picker/date_range_picker.dart' as DateRagePicker;\nimport 'package:idb/utilities/postRequest.dart';\n\nString userid = '0000';\n\nFuture getUsername() async {\n  var tokeninfo = await parseJwt();\n  userid = tokeninfo['117115101114105100'];\n}\n\nclass HomePage extends StatefulWidget {\n  @override\n  State&lt;StatefulWidget&gt; createState() {\n    return HomePageState();\n  }\n}\n\nclass HomePageState extends State&lt;HomePage&gt; {\n  List item;\n\n  cardfoo() async {\n    Map&lt;String, dynamic&gt; user = await getCards(userid);\n\n    item = user['ResponseData']['data']['ROW'];\n\n    if (mounted) {\n      setState(() {\n        item = user['ResponseData']['data']['ROW'];\n\n        print('item: ${item}');\n      });\n    }\n    return 'success';\n  }\n\n  getTransactions(\n      String cardLast4digits, String dateFrom, String dateTo) async {\n    var tokeninfo = await parseJwt();\n    print(tokeninfo);\n    print(cardLast4digits);\n\n    String userid = tokeninfo['117115101114105100'];\n    String username = tokeninfo['11711510111411097109101'];\n    String url =\n        'http://192.168.128.130:';\n\n    final Map&lt;String, dynamic&gt; authData = {\n      'Userid': userid,\n      'Username': username,\n      'Last4Digit': cardLast4digits,\n      'DateFrom': dateFrom,\n      'DateTo': dateTo,\n    };\n\n    print('befor post: ${authData}');\n\n    Map&lt;String, dynamic&gt; responseData = await post(url, authData);\n\n    print(responseData);\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n        appBar: AppBar(\n          title: Text(\"Home\"),\n        ),\n        body: item == null\n            ? Center(\n                child: CircularProgressIndicator(),\n              )\n            : ListView.builder(\n                itemCount: item == null ? 0 : item.length,\n                scrollDirection: Axis.vertical,\n                shrinkWrap: true,\n                itemBuilder: (BuildContext context, int index) {\n                  return new Column(\n                    children: &lt;Widget&gt;[\n                      Card(\n                        margin: EdgeInsets.only(\n                          top: 20,\n                          left: 15,\n                          right: 15,\n                        ),\n                        shape: RoundedRectangleBorder(\n                          borderRadius: BorderRadius.circular(15.0),\n                        ),\n                        color: Colors.white70,\n                        child: new Column(\n                          children: &lt;Widget&gt;[\n\n                            new Padding(\n                                padding: new EdgeInsets.all(7.0),\n                                child: new Column(\n                                  children: &lt;Widget&gt;[\n                                    new Row(children: &lt;Widget&gt;[\n                                      new Padding(\n                                        padding: new EdgeInsets.all(7.0),\n                                        child: new Text('Embossed Name:',\n                                            style: new TextStyle(\n                                                fontSize: 15.0,\n                                                color: Colors.orange)),\n                                      ),\n                                      new Padding(\n                                        padding: new EdgeInsets.all(7.0),\n                                        child: new Text(\n                                            item[index]['EMBOSSED_NAME'],\n                                            style:\n                                                new TextStyle(fontSize: 15.0)),\n                                      ),\n                                    ]),\n\n\n                      SizedBox(\n                        height: 10,\n                      ),\n                      Column(\n                        children: &lt;Widget&gt;[\n                          Row(\n                            children: &lt;Widget&gt;[\n                              FlatButton.icon(\n                                textColor: Colors.blue,\n                                icon: Icon(\n                                    Icons.calendar_today), //`Icon` to display\n                                label: Text('Transctions'),\n\n                                onPressed: () async {\n                                  final List&lt;DateTime&gt; picked =\n                                      await DateRagePicker.showDatePicker(\n                                          context: context,\n                                          initialFirstDate: new DateTime.now(),\n                                          initialLastDate: (new DateTime.now())\n                                              .add(new Duration(days: 7)),\n                                          firstDate: new DateTime(2015),\n                                          lastDate: new DateTime(2020));\n\n                                  if (picked != null &amp;&amp; picked.length == 2) {\n\n                                    getTransactions(\n                                        item[index]['CARD_NO'],\n                                        picked[0].toString(),\n                                        picked[1].toString());\n                                  }\n                                },\n                              ),\n                            ],\n                          ),\n                        ],\n                      ),\n                    ],\n                  );\n                },\n              ));\n  }\n\n  @override\n  void initState() {\n    super.initState();\n    this.cardfoo();\n  }\n}\n</code></pre>\n\n<p>and the error is that </p>\n\n<blockquote>\n  <p>Dart Error: Unhandled exception: type '_InternalLinkedHashMap' is not a subtype of type 'List'</p>\n</blockquote>\n"}, {"tags": ["dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 59214, "user_id": 666221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1VBx.jpg?s=128&g=1", "display_name": "diegoveloper", "link": "https://stackoverflow.com/users/666221/diegoveloper"}, "is_accepted": true, "score": 3, "last_activity_date": 1553486687, "creation_date": 1553486687, "answer_id": 55331127, "question_id": 55331042, "link": "https://stackoverflow.com/questions/55331042/concat-string-in-the-middle-of-another-string-skipping-the-last/55331127#55331127", "title": "Concat string in the middle of another String, skipping the last", "body": "<p>Why don't you try replacing the blank spaces with your value, like this:</p>\n\n<pre><code>final data = \"23 mar\u00e7o 2019\";\nfinal result = data.replaceAll(\" \", \" de \");\nprint(result);\n</code></pre>\n"}], "owner": {"reputation": 5134, "user_id": 4785114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/7R0VR.jpg?s=128&g=1", "display_name": "alexpfx", "link": "https://stackoverflow.com/users/4785114/alexpfx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 55331127, "answer_count": 1, "score": 0, "last_activity_date": 1553486687, "creation_date": 1553485857, "question_id": 55331042, "link": "https://stackoverflow.com/questions/55331042/concat-string-in-the-middle-of-another-string-skipping-the-last", "title": "Concat string in the middle of another String, skipping the last", "body": "<p>I want to transform this String \"23 mar\u00e7o 2019\" into \"23 de mar\u00e7o de 2019\".</p>\n\n<p>I did the way below and it works, but I have to type a lot to get rid of the 'in case first' \"de\". </p>\n\n<pre><code>String strDate = splitted[0];\n        var fullDate = strDate\n            .split(\" \")\n            .map((s) =&gt; \" de \" + s)\n            .join()\n            .trim()\n            .split(' ')\n            .skip(1)\n            .join(' ');\n</code></pre>\n\n<p>Is there a way to simplify this expression maybe doing the equivalent to (skipLast function doesn't exits):</p>\n\n<pre><code>var fdate = strDate.split(\" \").map((s) =&gt; s+\" de \").skipLast().join();\n</code></pre>\n"}, {"tags": ["dart", "flutter", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 11451, "user_id": 118562, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/a3796816c40c74d83f57d150f19451b6?s=128&d=identicon&r=PG", "display_name": "Bagusflyer", "link": "https://stackoverflow.com/users/118562/bagusflyer"}, "edited": false, "score": 0, "creation_date": 1588749818, "post_id": 55328839, "comment_id": 109014604, "body": "Is it possible to create autoID?"}, {"owner": {"reputation": 1625, "user_id": 2076880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HrRp8.jpg?s=128&g=1", "display_name": "Shady Boshra", "link": "https://stackoverflow.com/users/2076880/shady-boshra"}, "reply_to_user": {"reputation": 11451, "user_id": 118562, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/a3796816c40c74d83f57d150f19451b6?s=128&d=identicon&r=PG", "display_name": "Bagusflyer", "link": "https://stackoverflow.com/users/118562/bagusflyer"}, "edited": false, "score": 0, "creation_date": 1588769574, "post_id": 55328839, "comment_id": 109025507, "body": "Yes sure, you can use <code>await postsRef.add(postData);</code> that was the question really !"}, {"owner": {"reputation": 166, "user_id": 13616137, "user_type": "registered", "profile_image": "https://graph.facebook.com/10163698792960046/picture?type=large", "display_name": "Rageh El Azzazy", "link": "https://stackoverflow.com/users/13616137/rageh-el-azzazy"}, "edited": false, "score": 0, "creation_date": 1614134269, "post_id": 55328839, "comment_id": 117290413, "body": "from where do we bring &#39;.toJson();&#39; ?? it&#39;s not defined and would be cool instead of what i&#39;m doing not is I take every class like Post() and map its fields into a map,,  if .toJson(); work automatically would be cool,, from where can I import that ? or I just define that function like I&#39;m already doing ?"}, {"owner": {"reputation": 1625, "user_id": 2076880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HrRp8.jpg?s=128&g=1", "display_name": "Shady Boshra", "link": "https://stackoverflow.com/users/2076880/shady-boshra"}, "reply_to_user": {"reputation": 166, "user_id": 13616137, "user_type": "registered", "profile_image": "https://graph.facebook.com/10163698792960046/picture?type=large", "display_name": "Rageh El Azzazy", "link": "https://stackoverflow.com/users/13616137/rageh-el-azzazy"}, "edited": false, "score": 0, "creation_date": 1614160877, "post_id": 55328839, "comment_id": 117298582, "body": "@RagehElAzzazy it&#39;s a method I defined in tge class, to return a map with keys an fields I want. No difference between my code and your code, just it&#39;s a method in class."}, {"owner": {"reputation": 166, "user_id": 13616137, "user_type": "registered", "profile_image": "https://graph.facebook.com/10163698792960046/picture?type=large", "display_name": "Rageh El Azzazy", "link": "https://stackoverflow.com/users/13616137/rageh-el-azzazy"}, "edited": false, "score": 0, "creation_date": 1614356193, "post_id": 55328839, "comment_id": 117369188, "body": "@Shady Boshra, I did the same, thanks man, teslam ya m3allem"}, {"owner": {"reputation": 1625, "user_id": 2076880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HrRp8.jpg?s=128&g=1", "display_name": "Shady Boshra", "link": "https://stackoverflow.com/users/2076880/shady-boshra"}, "reply_to_user": {"reputation": 166, "user_id": 13616137, "user_type": "registered", "profile_image": "https://graph.facebook.com/10163698792960046/picture?type=large", "display_name": "Rageh El Azzazy", "link": "https://stackoverflow.com/users/13616137/rageh-el-azzazy"}, "edited": false, "score": 0, "creation_date": 1614356556, "post_id": 55328839, "comment_id": 117369354, "body": "@RagehElAzzazy you welcome, el3afo \ud83d\ude4f\ud83d\ude0a"}], "tags": [], "owner": {"reputation": 1625, "user_id": 2076880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HrRp8.jpg?s=128&g=1", "display_name": "Shady Boshra", "link": "https://stackoverflow.com/users/2076880/shady-boshra"}, "is_accepted": true, "score": 30, "last_activity_date": 1603673062, "last_edit_date": 1603673062, "creation_date": 1553463609, "answer_id": 55328839, "question_id": 55328838, "link": "https://stackoverflow.com/questions/55328838/flutter-firestore-add-new-document-with-custom-id/55328839#55328839", "title": "Flutter Firestore add new document with Custom ID", "body": "<p>You can use <code>set()</code> function instead of <code>add()</code>.</p>\n<p>Here's full code:</p>\n<pre><code>final CollectionReference postsRef = Firestore.instance.collection('/posts');\n\nvar postID = 1;\n\nPost post = new Post(postID, &quot;title&quot;, &quot;content&quot;);\nMap&lt;String, dynamic&gt; postData = post.toJson();\nawait postsRef.doc(postID).set(postData);\n</code></pre>\n<p>I hope that help anyone.</p>\n"}, {"comments": [{"owner": {"reputation": 6248, "user_id": 8253662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FuMpZ.jpg?s=128&g=1", "display_name": "Mahesh Jamdade", "link": "https://stackoverflow.com/users/8253662/mahesh-jamdade"}, "edited": false, "score": 0, "creation_date": 1590844305, "post_id": 56692880, "comment_id": 109837512, "body": "This works too but If its a shared database I would recommend handling the atomicity by making each transaction atomic as follows <code>Firestore.instance.runTransaction((Transaction tx) async {             await _firestoreRef.setData(data);           }); </code>"}], "tags": [], "owner": {"reputation": 43, "user_id": 10884560, "user_type": "registered", "profile_image": "https://graph.facebook.com/2043306715753146/picture?type=large", "display_name": "Guru Sai Jaya Prakash", "link": "https://stackoverflow.com/users/10884560/guru-sai-jaya-prakash"}, "is_accepted": false, "score": 3, "last_activity_date": 1561059723, "creation_date": 1561059723, "answer_id": 56692880, "question_id": 55328838, "link": "https://stackoverflow.com/questions/55328838/flutter-firestore-add-new-document-with-custom-id/56692880#56692880", "title": "Flutter Firestore add new document with Custom ID", "body": "<pre><code>String uniqueCode = //Your Unique Code\nDocumentReference reference = Firestore.instance.document(\"test/\" + uniqueCode );\n\n//Setting Data\nMap&lt;String, String&gt; yourData;\nreference.setData(yourData);\n</code></pre>\n"}], "owner": {"reputation": 1625, "user_id": 2076880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HrRp8.jpg?s=128&g=1", "display_name": "Shady Boshra", "link": "https://stackoverflow.com/users/2076880/shady-boshra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13052, "favorite_count": 3, "accepted_answer_id": 55328839, "answer_count": 2, "score": 21, "last_activity_date": 1603673062, "creation_date": 1553463609, "last_edit_date": 1592644375, "question_id": 55328838, "link": "https://stackoverflow.com/questions/55328838/flutter-firestore-add-new-document-with-custom-id", "title": "Flutter Firestore add new document with Custom ID", "body": "<p>How to add new document with custom id using Dart and Flutter?</p>\n<blockquote>\n<p>PS: I can add new document to collection but its id sets randomly, using this code</p>\n<p><code>postRef.add(data);</code></p>\n<p>which <code>postRef</code> is <code>CollectionReference</code> and <code>data</code> is <code>Map&lt;String, dynamic&gt;</code></p>\n</blockquote>\n"}, {"tags": ["dart"], "comments": [{"owner": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 2, "creation_date": 1553476619, "post_id": 55328577, "comment_id": 97385966, "body": "This question is fairly broad and isn&#39;t really valid for StackOverflow. Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>. The general answer, however, is <i>no</i>. HTML and JavaScript are still currently required in order to use WebAssembly -- it is intended to supplement them, not replace them. Also, Dart does not run in web browsers at all; it has to be converted to Javascript via dart2js."}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 5513993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8793dbc17f64a30385b7b3e7299a4bd4?s=128&d=identicon&r=PG", "display_name": "Pepe grillo", "link": "https://stackoverflow.com/users/5513993/pepe-grillo"}, "edited": false, "score": 0, "creation_date": 1553742583, "post_id": 55331657, "comment_id": 97500620, "body": "Hi Randal Thank you for the answer again, I ask the question in several forums to gain more information."}], "tags": [], "owner": {"reputation": 30488, "user_id": 22483, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b337d1e52bf3d796a7728def67a602fd?s=128&d=identicon&r=PG", "display_name": "Randal Schwartz", "link": "https://stackoverflow.com/users/22483/randal-schwartz"}, "is_accepted": true, "score": 0, "last_activity_date": 1553491427, "creation_date": 1553491427, "answer_id": 55331657, "question_id": 55328577, "link": "https://stackoverflow.com/questions/55328577/web-apps-without-html-or-javascript-using-webassembly-and-dart/55331657#55331657", "title": "Web apps without HTML or Javascript using WebAssembly and Dart?", "body": "<p>It's unlikely, for the same reasons I probably told you (or someone) in Gitter. WebAssembly apparently doesn't have the same access to the DOM that JavaScript can, and also has a different GC model.</p>\n"}], "owner": {"reputation": 89, "user_id": 5513993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8793dbc17f64a30385b7b3e7299a4bd4?s=128&d=identicon&r=PG", "display_name": "Pepe grillo", "link": "https://stackoverflow.com/users/5513993/pepe-grillo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "closed_date": 1553495646, "accepted_answer_id": 55331657, "answer_count": 1, "score": -3, "last_activity_date": 1553491427, "creation_date": 1553461571, "question_id": 55328577, "link": "https://stackoverflow.com/questions/55328577/web-apps-without-html-or-javascript-using-webassembly-and-dart", "closed_reason": "Needs details or clarity", "title": "Web apps without HTML or Javascript using WebAssembly and Dart?", "body": "<p>With the introduction of WebAssembly (<a href=\"https://webassembly.org/\" rel=\"nofollow noreferrer\">https://webassembly.org/</a>) it will be possible to run a web app in a web browser by using Dart without using Javascript and HTML at all?</p>\n"}, {"tags": ["json", "dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 2376, "user_id": 1799284, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/m7lAL.jpg?s=128&g=1", "display_name": "EngineSense", "link": "https://stackoverflow.com/users/1799284/enginesense"}, "edited": false, "score": 0, "creation_date": 1614498924, "post_id": 55328065, "comment_id": 117400020, "body": "It didn&#39;t work for me in my case data from firebase, Has the timestamp value to datetime(local) failed."}], "tags": [], "owner": {"reputation": 5578, "user_id": 3572546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9FtXx.jpg?s=128&g=1", "display_name": "nonybrighto", "link": "https://stackoverflow.com/users/3572546/nonybrighto"}, "is_accepted": true, "score": 11, "last_activity_date": 1553458016, "creation_date": 1553458016, "answer_id": 55328065, "question_id": 55328064, "link": "https://stackoverflow.com/questions/55328064/how-to-convert-int-timestamp-to-datetime-in-json-serializable-flutter/55328065#55328065", "title": "How to convert int timestamp to DateTime in json_serializable flutter", "body": "<p>To convert an <code>int</code> timestamp to <code>DateTime</code>, you need to pass a static method that\n    returns a <code>DateTime</code> result to the <code>fromJson</code> parameter in the @JsonKey annotation.   </p>\n\n<p>This code solves the problem and allows the convertion.  </p>\n\n<pre><code>@JsonSerializable(nullable: false)\n    class Person {\n      final String firstName;\n      final String lastName;\n      @JsonKey(fromJson: _fromJson, toJson: _toJson)\n      final DateTime dateOfBirth;\n      Person({this.firstName, this.lastName, this.dateOfBirth});\n      factory Person.fromJson(Map&lt;String, dynamic&gt; json) =&gt; _$PersonFromJson(json);\n      Map&lt;String, dynamic&gt; toJson() =&gt; _$PersonToJson(this);\n\n      static DateTime _fromJson(int int) =&gt; DateTime.fromMillisecondsSinceEpoch(int);\n      static int _toJson(DateTime time) =&gt; time.millisecondsSinceEpoch;\n\n    }   \n</code></pre>\n\n<p>usage  </p>\n\n<pre><code>Person person = Person.fromJson(json.decode('{\"firstName\":\"Ada\", \"lastName\":\"Amaka\", \"dateOfBirth\": 1553456553132 }'));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2509, "user_id": 1225993, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3166c937f1b99e4518fdeccb22d1e5bc?s=128&d=identicon&r=PG", "display_name": "Nicholas Albion", "link": "https://stackoverflow.com/users/1225993/nicholas-albion"}, "is_accepted": false, "score": 0, "last_activity_date": 1613410657, "creation_date": 1613410657, "answer_id": 66212795, "question_id": 55328064, "link": "https://stackoverflow.com/questions/55328064/how-to-convert-int-timestamp-to-datetime-in-json-serializable-flutter/66212795#66212795", "title": "How to convert int timestamp to DateTime in json_serializable flutter", "body": "<p>I use this:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>@JsonSerializable()\nclass Person {\n  @JsonKey(fromJson: dateTimeFromTimestamp)\n  DateTime dateOfBirth;\n \n  ...\n}\n\nDateTime dateTimeFromTimestamp(Timestamp timestamp) {\n  return timestamp == null ? null : timestamp.toDate();\n}\n</code></pre>\n"}], "owner": {"reputation": 5578, "user_id": 3572546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9FtXx.jpg?s=128&g=1", "display_name": "nonybrighto", "link": "https://stackoverflow.com/users/3572546/nonybrighto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2551, "favorite_count": 0, "accepted_answer_id": 55328065, "answer_count": 2, "score": 2, "last_activity_date": 1613410657, "creation_date": 1553458016, "question_id": 55328064, "link": "https://stackoverflow.com/questions/55328064/how-to-convert-int-timestamp-to-datetime-in-json-serializable-flutter", "title": "How to convert int timestamp to DateTime in json_serializable flutter", "body": "<p>How can I convert an integer timestamp to Datetime.  </p>\n\n<p><strong>Sample Code:</strong>  </p>\n\n<pre><code>@JsonSerializable(nullable: false)\nclass Person {\n  final String firstName;\n  final String lastName;\n  final DateTime dateOfBirth;\n  Person({this.firstName, this.lastName, this.dateOfBirth});\n  factory Person.fromJson(Map&lt;String, dynamic&gt; json) =&gt; _$PersonFromJson(json);\n  Map&lt;String, dynamic&gt; toJson() =&gt; _$PersonToJson(this);    \n}  \n</code></pre>\n\n<p>How do I convert dateOfBirth integer timeStamp to DateTime?  </p>\n"}, {"tags": ["dart", "flutter", "flutter-layout"], "answers": [{"tags": [], "owner": {"reputation": 5165, "user_id": 9374465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4885599304ccdac5fc24aea1bac2d4?s=128&d=identicon&r=PG&f=1", "display_name": "Mazin Ibrahim", "link": "https://stackoverflow.com/users/9374465/mazin-ibrahim"}, "is_accepted": true, "score": 1, "last_activity_date": 1553457112, "creation_date": 1553457112, "answer_id": 55327926, "question_id": 55327833, "link": "https://stackoverflow.com/questions/55327833/flutter-exception-after-adding-list-of-cards-and-text-on-the-same-page/55327926#55327926", "title": "Flutter - exception after adding list of Cards and Text on the same page", "body": "<p>You have to give the parent <code>Container</code> a <code>height</code> as <code>listview</code> and <code>Column</code> widgets expands to match the height of their parent, which is in your case the <code>Container</code>.Try giving it the screen height using <code>MediaQuery</code> if you don't have any certain size in mind:</p>\n\n<pre><code>    body: new Container(\n    height: MediaQuery.of(context).size.height, // This will make the size of it the same as the device screen\n    child: new FutureBuilder&lt;DeckCardResponse&gt;(\n    future: fetchDecksFromFirebase(),\n    builder: (context, snapshot) {\n\n        if (snapshot.hasData) {\n            return new CardPage(snapshot.data.getDecks());\n\n        }\n        else if (snapshot.hasError) {\n            return new MessageError(499);\n\n        }\n        return new CircularProgressIndicator(strokeWidth: 5.0);\n    }),\n)\n</code></pre>\n"}], "owner": {"reputation": 456, "user_id": 3057388, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/oOigI.jpg?s=128&g=1", "display_name": "Jose Antonio", "link": "https://stackoverflow.com/users/3057388/jose-antonio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 55327926, "answer_count": 1, "score": 0, "last_activity_date": 1553457112, "creation_date": 1553456607, "question_id": 55327833, "link": "https://stackoverflow.com/questions/55327833/flutter-exception-after-adding-list-of-cards-and-text-on-the-same-page", "title": "Flutter - exception after adding list of Cards and Text on the same page", "body": "<p>I want to display a Text (or another type of Content) and a list of Cards. I am able to display only the list of Cards but it throws an exception if I add another class.</p>\n\n<p>Code for only the list of Cards (it works):</p>\n\n<pre><code>class CardPageState extends State&lt;CardPage&gt; {\n\n  //DeckCard is a class which contains title, description, etc\n  final decks = &lt;DeckCard&gt;[];\n\n  CardPageState(data){\n    decks.addAll(data);\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n      child: buildCardPage(),\n    );\n  }\n\n  Widget buildCardPage() {\n    return new Container(\n          child: new ListView.builder(\n                itemCount: decks.length,\n                itemBuilder: /*1*/ (context, i) {\n                  return _buildRow(decks[i]);\n                })\n\n\n    );\n  }\n\n  Widget _buildRow(DeckCard deckCard) {\n\n    return new Card(\n        child: Text(deckCard.getTitle(), style: TextStyle(fontWeight: FontWeight.bold,fontSize: 20, color:Colors.black),)\n    );\n  }\n}\n</code></pre>\n\n<p>CardPage is called from a main page with a body: </p>\n\n<pre><code>body: new Container(\n        child: new FutureBuilder&lt;DeckCardResponse&gt;(\n        future: fetchDecksFromFirebase(),\n        builder: (context, snapshot) {\n\n            if (snapshot.hasData) {\n                return new CardPage(snapshot.data.getDecks());\n\n            }\n            else if (snapshot.hasError) {\n                return new MessageError(499);\n\n            }\n            return new CircularProgressIndicator(strokeWidth: 5.0);\n        }),\n    )\n</code></pre>\n\n<p>When I try to add another content and it throws an exception:</p>\n\n<pre><code>Widget buildCardPage() {\n    return new Container(\n          child:\n          new Column(\n            children:[\n              new Text(\"hello\", style: TextStyle(fontWeight: FontWeight.bold,fontSize: 20, color:Colors.black),),\n              new Container(\n                child: new ListView.builder(\n                itemCount: decks.length,\n                itemBuilder: /*1*/ (context, i) {\n                  return _buildRow(decks[i]);\n                })\n\n              ),\n            ]\n          ),\n    );\n</code></pre>\n\n<p>Any idea? I tried with only a Column without the previous Container, however, I have the same exception.</p>\n\n<pre><code>I/flutter (18134): \u2550\u2550\u2561 EXCEPTION CAUGHT BY RENDERING LIBRARY \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nI/flutter (18134): The following assertion was thrown during performResize():\nI/flutter (18134): Vertical viewport was given unbounded height.\nI/flutter (18134): Viewports expand in the scrolling direction to fill their container.In this case, a vertical\nI/flutter (18134): viewport was given an unlimited amount of vertical space in which to expand. This situation\nI/flutter (18134): typically happens when a scrollable widget is nested inside another scrollable widget.\nI/flutter (18134): If this widget is always nested in a scrollable widget there is no need to use a viewport because\nI/flutter (18134): there will always be enough vertical space for the children. In this case, consider using a Column\nI/flutter (18134): instead. Otherwise, consider using the \"shrinkWrap\" property (or a ShrinkWrappingViewport) to size\nI/flutter (18134): the height of the viewport to the sum of the heights of its children.\nI/flutter (18134): \nI/flutter (18134): When the exception was thrown, this was the stack:\nI/flutter (18134): #0      RenderViewport.performResize.&lt;anonymous closure&gt; (package:flutter/src/rendering/viewport.dart:1135:15)\nI/flutter (18134): #1      RenderViewport.performResize (package:flutter/src/rendering/viewport.dart:1188:6)\nI/flutter (18134): #2      RenderObject.layout (package:flutter/src/rendering/object.dart:1617:9)\nI/flutter (18134): #3      _RenderProxyBox&amp;RenderBox&amp;RenderObjectWithChildMixin&amp;RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter (18134): #4      RenderObject.layout (package:flutter/src/rendering/object.dart:1632:7)\nI/flutter (18134): #5      _RenderProxyBox&amp;RenderBox&amp;RenderObjectWithChildMixin&amp;RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter (18134): #6      RenderObject.layout (package:flutter/src/rendering/object.dart:1632:7)\nI/flutter (18134): #7      _RenderProxyBox&amp;RenderBox&amp;RenderObjectWithChildMixin&amp;RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter (18134): #8      RenderObject.layout (package:flutter/src/rendering/object.dart:1632:7)\nI/flutter (18134): #9      _RenderProxyBox&amp;RenderBox&amp;RenderObjectWithChildMixin&amp;RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter (18134): #10     RenderObject.layout (package:flutter/src/rendering/object.dart:1632:7)\nI/flutter (18134): #11     _RenderProxyBox&amp;RenderBox&amp;RenderObjectWithChildMixin&amp;RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter (18134): #12     RenderObject.layout (package:flutter/src/rendering/object.dart:1632:7)\nI/flutter (18134): #13     _RenderProxyBox&amp;RenderBox&amp;RenderObjectWithChildMixin&amp;RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter (18134): #14     RenderObject.layout (package:flutter/src/rendering/object.dart:1632:7)\nI/flutter (18134): #15     _RenderProxyBox&amp;RenderBox&amp;RenderObjectWithChildMixin&amp;RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter (18134): #16     RenderObject.layout (package:flutter/src/rendering/object.dart:1632:7)\nI/flutter (18134): #17     _RenderProxyBox&amp;RenderBox&amp;RenderObjectWithChildMixin&amp;RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter (18134): #18     RenderObject.layout (package:flutter/src/rendering/object.dart:1632:7)\nI/flutter (18134): #19     RenderFlex.performLayout (package:flutter/src/rendering/flex.dart:738:15)\nI/flutter (18134): #20     RenderObject.layout (package:flutter/src/rendering/object.dart:1632:7)\nI/flutter (18134): #21     MultiChildLayoutDelegate.layoutChild (package:flutter/src/rendering/custom_layout.dart:142:11)\nI/flutter (18134): #22     _ScaffoldLayout.performLayout (package:flutter/src/material/scaffold.dart:350:7)\nI/flutter (18134): #23     MultiChildLayoutDelegate._callPerformLayout (package:flutter/src/rendering/custom_layout.dart:212:7)\nI/flutter (18134): #24     RenderCustomMultiChildLayoutBox.performLayout (package:flutter/src/rendering/custom_layout.dart:356:14)\nI/flutter (18134): #25     RenderObject.layout (package:flutter/src/rendering/object.dart:1632:7)\nI/flutter (18134): #26     _RenderProxyBox&amp;RenderBox&amp;RenderObjectWithChildMixin&amp;RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter (18134): #27     RenderObject.layout (package:flutter/src/rendering/object.dart:1632:7)\nI/flutter (18134): #28     _RenderProxyBox&amp;RenderBox&amp;RenderObjectWithChildMixin&amp;RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter (18134): #29     _RenderCustomClip.performLayout (package:flutter/src/rendering/proxy_box.dart:1206:11)\nI/flutter (18134): #30     RenderObject.layout (package:flutter/src/rendering/object.dart:1632:7)\nI/flutter (18134): #31     _RenderProxyBox&amp;RenderBox&amp;RenderObjectWithChildMixin&amp;RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter (18134): #32     RenderObject.layout (package:flutter/src/rendering/object.dart:1632:7)\nI/flutter (18134): #33     _RenderProxyBox&amp;RenderBox&amp;RenderObjectWithChildMixin&amp;RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter (18134): #34     RenderObject.layout (package:flutter/src/rendering/object.dart:1632:7)\nI/flutter (18134): #35     _RenderProxyBox&amp;RenderBox&amp;RenderObjectWithChildMixin&amp;RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter (18134): #36     RenderObject.layout (package:flutter/src/rendering/object.dart:1632:7)\nI/flutter (18134): #37     _RenderProxyBox&amp;RenderBox&amp;RenderObjectWithChildMixin&amp;RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter (18134): #38     RenderObject.layout (package:flutter/src/rendering/object.dart:1632:7)\nI/flutter (18134): #39     _RenderProxyBox&amp;RenderBox&amp;RenderObjectWithChildMixin&amp;RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter (18134): #40     RenderObject.layout (package:flutter/src/rendering/object.dart:1632:7)\nI/flutter (18134): #41     _RenderProxyBox&amp;RenderBox&amp;RenderObjectWithChildMixin&amp;RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter (18134): #42     RenderObject.layout (package:flutter/src/rendering/object.dart:1632:7)\nI/flutter (18134): #43     _RenderProxyBox&amp;RenderBox&amp;RenderObjectWithChildMixin&amp;RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter (18134): #44     RenderObject.layout (package:flutter/src/rendering/object.dart:1632:7)\nI/flutter (18134): #45     _RenderProxyBox&amp;RenderBox&amp;RenderObjectWithChildMixin&amp;RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter (18134): #46     RenderOffstage.performLayout (package:flutter/src/rendering/proxy_box.dart:3032:13)\nI/flutter (18134): #47     RenderObject.layout (package:flutter/src/rendering/object.dart:1632:7)\nI/flutter (18134): #48     RenderStack.performLayout (package:flutter/src/rendering/stack.dart:510:15)\nI/flutter (18134): #49     RenderObject.layout (package:flutter/src/rendering/object.dart:1632:7)\nI/flutter (18134): #50     __RenderTheatre&amp;RenderBox&amp;RenderObjectWithChildMixin&amp;RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter (18134): #51     RenderObject.layout (package:flutter/src/rendering/object.dart:1632:7)\nI/flutter (18134): #52     _RenderProxyBox&amp;RenderBox&amp;RenderObjectWithChildMixin&amp;RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter (18134): #53     RenderObject.layout (package:flutter/src/rendering/object.dart:1632:7)\nI/flutter (18134): #54     _RenderProxyBox&amp;RenderBox&amp;RenderObjectWithChildMixin&amp;RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter (18134): #55     RenderObject.layout (package:flutter/src/rendering/object.dart:1632:7)\nI/flutter (18134): #56     _RenderProxyBox&amp;RenderBox&amp;RenderObjectWithChildMixin&amp;RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter (18134): #57     RenderObject.layout (package:flutter/src/rendering/object.dart:1632:7)\nI/flutter (18134): #58     _RenderProxyBox&amp;RenderBox&amp;RenderObjectWithChildMixin&amp;RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter (18134): #59     RenderObject.layout (package:flutter/src/rendering/object.dart:1632:7)\nI/flutter (18134): #60     _RenderProxyBox&amp;RenderBox&amp;RenderObjectWithChildMixin&amp;RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter (18134): #61     RenderObject.layout (package:flutter/src/rendering/object.dart:1632:7)\nI/flutter (18134): #62     RenderView.performLayout (package:flutter/src/rendering/view.dart:151:13)\nI/flutter (18134): #63     RenderObject._layoutWithoutResize (package:flutter/src/rendering/object.dart:1507:7)\nI/flutter (18134): #64     PipelineOwner.flushLayout (package:flutter/src/rendering/object.dart:766:18)\nI/flutter (18134): #65     _WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding&amp;PaintingBinding&amp;SemanticsBinding&amp;RendererBinding.drawFrame (package:flutter/src/rendering/binding.dart:329:19)\nI/flutter (18134): #66     _WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding&amp;PaintingBinding&amp;SemanticsBinding&amp;RendererBinding&amp;WidgetsBinding.drawFrame (package:flutter/src/widgets/binding.dart:701:13)\nI/flutter (18134): #67     _WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding&amp;PaintingBinding&amp;SemanticsBinding&amp;RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:268:5)\nI/flutter (18134): #68     _WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:988:15)\nI/flutter (18134): #69     _WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:928:9)\nI/flutter (18134): #70     _WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding.scheduleWarmUpFrame.&lt;anonymous closure&gt; (package:flutter/src/scheduler/binding.dart:749:7)\nI/flutter (18134): #72     _Timer._runTimers (dart:isolate/runtime/libtimer_impl.dart:382:19)\nI/flutter (18134): #73     _Timer._handleMessage (dart:isolate/runtime/libtimer_impl.dart:416:5)\nI/flutter (18134): #74     _RawReceivePortImpl._handleMessage (dart:isolate/runtime/libisolate_patch.dart:171:12)\nI/flutter (18134): (elided one frame from package dart:async)\nI/flutter (18134): \nI/flutter (18134): The following RenderObject was being processed when the exception was fired:\nI/flutter (18134):   RenderViewport#85bc5 NEEDS-LAYOUT NEEDS-PAINT\nI/flutter (18134):   creator: Viewport \u2190 IgnorePointer-[GlobalKey#ddac3] \u2190 Semantics \u2190 Listener \u2190 _GestureSemantics \u2190\nI/flutter (18134):   RawGestureDetector-[LabeledGlobalKey&lt;RawGestureDetectorState&gt;#142b9] \u2190 _ScrollableScope \u2190\nI/flutter (18134):   _ScrollSemantics-[GlobalKey#1902d] \u2190 RepaintBoundary \u2190 CustomPaint \u2190 RepaintBoundary \u2190\nI/flutter (18134):   NotificationListener&lt;ScrollNotification&gt; \u2190 \u22ef\nI/flutter (18134):   parentData: &lt;none&gt; (can use size)\nI/flutter (18134):   constraints: BoxConstraints(0.0&lt;=w&lt;=411.4, 0.0&lt;=h&lt;=Infinity)\nI/flutter (18134):   size: MISSING\nI/flutter (18134):   axisDirection: down\nI/flutter (18134):   crossAxisDirection: right\nI/flutter (18134):   offset: ScrollPositionWithSingleContext#06797(offset: 0.0, range: null..null, viewport: null,\nI/flutter (18134):   ScrollableState, AlwaysScrollableScrollPhysics -&gt; ClampingScrollPhysics, IdleScrollActivity#c3663,\nI/flutter (18134):   ScrollDirection.idle)\nI/flutter (18134):   anchor: 0.0\nI/flutter (18134): This RenderObject had the following descendants (showing up to depth 5):\nI/flutter (18134):   RenderSliverPadding#e7182 NEEDS-LAYOUT NEEDS-PAINT\nI/flutter (18134):     RenderSliverList#6b5c0 NEEDS-LAYOUT NEEDS-PAINT\nI/flutter (18134): \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nI/flutter (18134): Another exception was thrown: RenderBox was not laid out: RenderViewport#85bc5 NEEDS-LAYOUT NEEDS-PAINT\nI/flutter (18134): Another exception was thrown: RenderBox was not laid out: RenderViewport#85bc5 NEEDS-PAINT\nI/flutter (18134): Another exception was thrown: RenderBox was not laid out: RenderIgnorePointer#c5ace relayoutBoundary=up9 NEEDS-PAINT\nI/flutter (18134): Another exception was thrown: RenderBox was not laid out: RenderSemanticsAnnotations#f4095 relayoutBoundary=up8 NEEDS-PAINT\nI/flutter (18134): Another exception was thrown: RenderBox was not laid out: RenderPointerListener#1d571 relayoutBoundary=up7 NEEDS-PAINT\nI/flutter (18134): Another exception was thrown: RenderBox was not laid out: RenderSemanticsGestureHandler#5cee1 relayoutBoundary=up6 NEEDS-PAINT\nI/flutter (18134): Another exception was thrown: RenderBox was not laid out: _RenderScrollSemantics#1f2eb relayoutBoundary=up5 NEEDS-PAINT\nI/flutter (18134): Another exception was thrown: RenderBox was not laid out: RenderRepaintBoundary#70e3d relayoutBoundary=up4 NEEDS-PAINT\nI/flutter (18134): Another exception was thrown: RenderBox was not laid out: RenderCustomPaint#b103f relayoutBoundary=up3 NEEDS-PAINT\nI/flutter (18134): Another exception was thrown: RenderBox was not laid out: RenderRepaintBoundary#4b75f relayoutBoundary=up2 NEEDS-PAINT\nI/flutter (18134): Another exception was thrown: RenderBox was not laid out: RenderFlex#aaf3d relayoutBoundary=up1 NEEDS-PAINT\nI/flutter (18134): Another exception was thrown: NoSuchMethodError: The method '&lt;=' was called on null.\nReloaded 2 of 573 libraries in 1,622ms.\n</code></pre>\n"}, {"tags": ["dart", "flutter", "flutter-layout"], "answers": [{"comments": [{"owner": {"reputation": 281, "user_id": 7186086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c0abb54b8356a22c29902c72dd3a136?s=128&d=identicon&r=PG&f=1", "display_name": "Prerak Mann", "link": "https://stackoverflow.com/users/7186086/prerak-mann"}, "edited": false, "score": 0, "creation_date": 1553580370, "post_id": 55327371, "comment_id": 97425457, "body": "I tried this but this is for center cropping, i want to crop the widget at the exact position and size i want."}], "tags": [], "owner": {"reputation": 2575, "user_id": 9779791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uCXqz.jpg?s=128&g=1", "display_name": "mirkancal", "link": "https://stackoverflow.com/users/9779791/mirkancal"}, "is_accepted": false, "score": 0, "last_activity_date": 1553453860, "creation_date": 1553453860, "answer_id": 55327371, "question_id": 55327339, "link": "https://stackoverflow.com/questions/55327339/how-do-i-crop-a-widget-or-cut-out-a-square-portion-of-a-widget-of-that-particul/55327371#55327371", "title": "How do I crop a widget, or cut out a square portion of a widget of that particular size?", "body": "<p>Try this</p>\n\n<pre><code>final Size size = controller.value.size;\nreturn ClipRect(\n  child: OverflowBox(\n    maxWidth: double.infinity,\n    maxHeight: double.infinity,\n    alignment: Alignment.center,\n    child: FittedBox(\n      fit: BoxFit.cover,\n      alignment: Alignment.center,\n      child: new Container(\n        width: size.width,\n        height: size.height,\n        child: CameraPreview(controller)\n      )\n    )\n  )\n);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1788, "user_id": 185286, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/97271bc95046f3314f12dc205db2d2c3?s=128&d=identicon&r=PG", "display_name": "csells", "link": "https://stackoverflow.com/users/185286/csells"}, "edited": false, "score": 0, "creation_date": 1584631725, "post_id": 55364811, "comment_id": 107501340, "body": "What does the RectClipper do? Does it set the offset into the widget for clipping?"}], "tags": [], "owner": {"reputation": 281, "user_id": 7186086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c0abb54b8356a22c29902c72dd3a136?s=128&d=identicon&r=PG&f=1", "display_name": "Prerak Mann", "link": "https://stackoverflow.com/users/7186086/prerak-mann"}, "is_accepted": true, "score": 1, "last_activity_date": 1553628157, "creation_date": 1553628157, "answer_id": 55364811, "question_id": 55327339, "link": "https://stackoverflow.com/questions/55327339/how-do-i-crop-a-widget-or-cut-out-a-square-portion-of-a-widget-of-that-particul/55364811#55364811", "title": "How do I crop a widget, or cut out a square portion of a widget of that particular size?", "body": "<p>Nevermind i managed to solve it on my own,\nIt felt like flutter framework works in mysterious ways until i figured this out</p>\n\n<pre><code>return Container( // just a parent\n      child: Align( // important\n        alignment: Alignment.center,\n        child: Container( // just a parent\n          width: some_width,  \n          height: some_height,  \n          child: SizedBox(\n            width: width,  // final width of cropped portion\n            height: width,  // final height of cropped portion\n            child: OverflowBox(\n              alignment: Alignment(-1,-1), // gives you top left portion of the size above, (1,1) gives bottom right, right direction is positive x, downward direction is positive y, see about Alignment on flutter docs for more details \n              maxWidth: double.infinity,\n              maxHeight: double.infinity,\n              child: Container(\n                width: width,\n                height: width,\n                child: ClipRect(\n                  clipper: RectClipper(i, width / 4),// this is a custom clipper i made of type CustomClipper&lt;Rect&gt;\n                  child: CameraPreview(controller),\n                ),\n              ),\n            ),\n          ),\n        ),\n      ),\n    );\n</code></pre>\n"}], "owner": {"reputation": 281, "user_id": 7186086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c0abb54b8356a22c29902c72dd3a136?s=128&d=identicon&r=PG&f=1", "display_name": "Prerak Mann", "link": "https://stackoverflow.com/users/7186086/prerak-mann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1208, "favorite_count": 0, "accepted_answer_id": 55364811, "answer_count": 2, "score": 1, "last_activity_date": 1553628157, "creation_date": 1553453652, "last_edit_date": 1553465255, "question_id": 55327339, "link": "https://stackoverflow.com/questions/55327339/how-do-i-crop-a-widget-or-cut-out-a-square-portion-of-a-widget-of-that-particul", "title": "How do I crop a widget, or cut out a square portion of a widget of that particular size?", "body": "<p>I want to crop a <code>CameraPreview</code> widget, so that I only get the <strong>exact size and position where I want to cut it.</strong> </p>\n\n<p>Currently I am able to clip it using <code>ClipRect</code>, \nbut i get this black area around where widget was clipped out which I want to remove ( see my replacement for a good graphic below )</p>\n\n<p>Lets say we have a widget like this</p>\n\n<pre><code> --------------                       \n|88888888888888|                               \n|88888888888888|                   \n|88888888888888|                     \n|88888888888888|                      \n|88888888888888|                     \n|88888888888888|                     \n --------------  \n</code></pre>\n\n<p>I need to crop the widget, (not clip)</p>\n\n<pre><code> --------------                       \n|              |                               \n|              |                    \n|         888  |                      -----\n|         888  |                     | 888 | \n|         888  |                     | 888 | \n|              |                     | 888 |\n --------------                       -----\n     CLIPPING                        CROPPING\n\n</code></pre>\n\n<p>Can anyone help me with cropping a widget?</p>\n"}, {"tags": ["sockets", "dart", "flutter", "base64", "ktor"], "comments": [{"owner": {"reputation": 32377, "user_id": 25124, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/4aec6b9ca532bc29a9c23e5147efa2fa?s=128&d=identicon&r=PG", "display_name": "Danny Tuppeny", "link": "https://stackoverflow.com/users/25124/danny-tuppeny"}, "edited": false, "score": 0, "creation_date": 1553453120, "post_id": 55326700, "comment_id": 97380417, "body": "I don&#39;t know the answers to your questions, but I would start by logging the data you&#39;re sending out and getting back and comparing them (after base64 encoding when sending, and before base64 decoding when receiving - probably with the smallest possible image to make the strings shorter for testing)."}, {"owner": {"reputation": 474, "user_id": 8713068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a972a6bec2ccc8cbaa72046fa56c5b6?s=128&d=identicon&r=PG&f=1", "display_name": "Karzel", "link": "https://stackoverflow.com/users/8713068/karzel"}, "reply_to_user": {"reputation": 32377, "user_id": 25124, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/4aec6b9ca532bc29a9c23e5147efa2fa?s=128&d=identicon&r=PG", "display_name": "Danny Tuppeny", "link": "https://stackoverflow.com/users/25124/danny-tuppeny"}, "edited": false, "score": 0, "creation_date": 1553523912, "post_id": 55326700, "comment_id": 97405045, "body": "So I&#39;ve tried really small Image (64x64 px) and my code works. I&#39;ve also added check, which compares bytes (as String) which was send to server and which was received from it. For small image it is correct, Image is displayed. On larger Image (225x225) The error written above is thrown, and the string (bytes) I&#39;ve received from server are completely different."}, {"owner": {"reputation": 474, "user_id": 8713068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a972a6bec2ccc8cbaa72046fa56c5b6?s=128&d=identicon&r=PG&f=1", "display_name": "Karzel", "link": "https://stackoverflow.com/users/8713068/karzel"}, "reply_to_user": {"reputation": 32377, "user_id": 25124, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/4aec6b9ca532bc29a9c23e5147efa2fa?s=128&d=identicon&r=PG", "display_name": "Danny Tuppeny", "link": "https://stackoverflow.com/users/25124/danny-tuppeny"}, "edited": false, "score": 0, "creation_date": 1553526154, "post_id": 55326700, "comment_id": 97406485, "body": "I&#39;ve compared from the large image, string that is received on the Server. It is exactly the same, as it was send from Client. But sending it back to client resolves in something completely different."}], "answers": [{"comments": [{"owner": {"reputation": 474, "user_id": 8713068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a972a6bec2ccc8cbaa72046fa56c5b6?s=128&d=identicon&r=PG&f=1", "display_name": "Karzel", "link": "https://stackoverflow.com/users/8713068/karzel"}, "edited": false, "score": 0, "creation_date": 1553525393, "post_id": 55330475, "comment_id": 97405990, "body": "If i placed file under <code>assets&#47;images&#47;dog.jpeg</code> what should i type as <code>filename of an image</code> ? I&#39;ve tried doing: <code>final appPath = await getApplicationDocumentsDirectory(); String strImage1 = appPath.path + &#39;&#47;assets&#47;images&#47;dog_small.jpeg&#39;;</code>  And it results in error: <code>[ERROR:flutter&#47;lib&#47;ui&#47;ui_dart_state.cc(148)] Unhandled Exception: FileSystemException: Cannot open file, path = &#39;&#47;data&#47;user&#47;0&#47;com.example.flutterclient&#47;app_flutter&#47;assets&#47;i&zwnj;&#8203;mages&#47;dog_small.jpeg&zwnj;&#8203;&#39;</code>"}], "tags": [], "owner": {"reputation": 1247, "user_id": 4859905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jltfu.jpg?s=128&g=1", "display_name": "Kenneth Li", "link": "https://stackoverflow.com/users/4859905/kenneth-li"}, "is_accepted": false, "score": 0, "last_activity_date": 1553480030, "creation_date": 1553480030, "answer_id": 55330475, "question_id": 55326700, "link": "https://stackoverflow.com/questions/55326700/displaying-image-in-flutter-send-through-socket-connection/55330475#55330475", "title": "Displaying image in Flutter, send through socket connection", "body": "<p>I am able to use the following code to Read a jpg image from the photo gallery, send to a node.js server by socket.io, then transfer to another client(at the same time save the image in mysql, just like whatsapp send image)</p>\n\n<pre><code>String base64Image1 = '';\n\n// strImage1 is the path of the photo gallery retrieved by the plugin path_provider, plus the file name of the image.\nString strImage1 = gv.strHomeImageFileWithPath + '_01.jpg';\n\nvar filImage1 = new File(strImage1);\n\nList&lt;int&gt; imageBytes1 = filImage1.readAsBytesSync();\n\n// use the following line if another client wants to display this image in html\n// base64Image1 = 'data:image/jpg;base64,' + base64Encode(imageBytes1);\n\n// Or, use the following line if another client wants to display this image in flutter\nbase64Image1 = base64Encode(imageBytes1);\n\n// Send the b64 image string to the server\ngv.socket.emit('PIBRequestPhotoClassify', [base64Image1]);\n\n</code></pre>\n\n<p>It seems that my codes to decode and display the b64 image string is the same as yours, but the codes to encode the image is different, pls. try.</p>\n"}], "owner": {"reputation": 474, "user_id": 8713068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a972a6bec2ccc8cbaa72046fa56c5b6?s=128&d=identicon&r=PG&f=1", "display_name": "Karzel", "link": "https://stackoverflow.com/users/8713068/karzel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1662, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553480030, "creation_date": 1553449616, "question_id": 55326700, "link": "https://stackoverflow.com/questions/55326700/displaying-image-in-flutter-send-through-socket-connection", "title": "Displaying image in Flutter, send through socket connection", "body": "<p>I'm trying to create Server-client connection using sockets. Server is just an Echo-server. I want to send different types of data there. I've started with Images. What I want to achieve is :</p>\n\n<ol>\n<li>Parse image stored in the assets folder to appropriate data type</li>\n<li>Send it to Echo Server</li>\n<li>Receive data back on the mobile (client) site</li>\n<li>Display an image send that way (to be sure, data was send correctly)</li>\n</ol>\n\n<p>I've implemented both Client and Server. Client is in Flutter, Server in Ktor. \nServer implementation was copied from tutorial: <a href=\"https://ktor.io/servers/raw-sockets.html\" rel=\"nofollow noreferrer\">https://ktor.io/servers/raw-sockets.html</a>.\nWhat I can see, is that my server is receiving an image and sending it back correctly, but I am not able to show it.</p>\n\n<p>Server code : </p>\n\n<pre><code>fun main() {\n    runBlocking {\n        val server = aSocket(ActorSelectorManager(Dispatchers.IO)).tcp().bind(InetSocketAddress(\"localhost\", 8080))\n        println(\"Started echo telnet server at ${server.localAddress}\")\n\n        while (true) {\n            val socket = server.accept()\n\n            launch {\n                println(\"Socket accepted: ${socket.remoteAddress}\")\n\n                val input = socket.openReadChannel()\n                val output = socket.openWriteChannel(autoFlush = true)\n\n                try {\n                    while (true) {\n                        val line = input.readUTF8Line()\n\n                        line?.let {\n                            println(\"Client sent: $line\")\n                            output.writeStringUtf8(it)\n                        }\n                    }\n                } catch (e: Throwable) {\n                    println(\"Closing socket\")\n                    e.printStackTrace()\n                    socket.close()\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>and Client:</p>\n\n<pre><code>class MyHomePage extends StatefulWidget {\n  final String title;\n\n  MyHomePage({Key key, @required this.title}) : super(key: key);\n\n  @override\n  _MyHomePageState createState() =&gt; _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  Socket _socket;\n  List&lt;int&gt; _connectionTimes = [];\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(widget.title),\n      ),\n      body: Center(\n          child: Column(\n        mainAxisAlignment: MainAxisAlignment.center,\n        crossAxisAlignment: CrossAxisAlignment.center,\n        children: &lt;Widget&gt;[\n          RaisedButton(\n            child: const Text('Connect to socket'),\n            color: Theme.of(context).accentColor,\n            elevation: 4.0,\n            onPressed: () {\n              closeSocket();\n              _connectToSocket().then((createdSocket) {\n                setState(() {\n                  _socket = createdSocket;\n                });\n              });\n            },\n          ),\n          RaisedButton(\n            child: const Text('Send to socket'),\n            color: Theme.of(context).accentColor,\n            elevation: 4.0,\n            onPressed: () {\n              _sendMessage();\n            },\n          ),\n          StreamBuilder(\n            stream: _socket,\n            builder: (context, snapshot) {\n              if(snapshot.hasData) {\n                final bytes = base64Decode(utf8.decode(snapshot.data));\n                return Image.memory(bytes);\n              } else {\n                return Text(\"no image\");\n              }\n            },\n          ),\n        ],\n      )),\n    );\n  }\n\n  Future&lt;Socket&gt; _connectToSocket() async {\n    final stopwatch = Stopwatch()..start();\n    Socket sock = await Socket.connect('10.0.2.2', 8080);\n    print(\"Connection time was ${stopwatch.elapsedMilliseconds}\");\n    return sock;\n  }\n\n  void _sendMessage() async{\n    final imageBytes = await rootBundle.load('assets/images/dog.jpeg');\n    final bytesAsString = base64Encode(imageBytes.buffer.asUint8List(imageBytes.offsetInBytes, imageBytes.lengthInBytes));\n    print(bytesAsString);\n    _socket.write(bytesAsString+\"\\n\");\n  }\n\n  void closeSocket() {\n    if (_socket != null) {\n      _socket.close();\n    }\n  }\n\n  @override\n  void dispose() {\n    _socket.close();\n    super.dispose();\n  }\n}\n</code></pre>\n\n<p>The error i receive is :</p>\n\n<pre><code>E/flutter ( 8235): [ERROR:flutter/lib/ui/painting/codec.cc(97)] Failed decoding image. Data is either invalid, or it is encoded using an unsupported format.\nI/flutter ( 8235): \u2550\u2550\u2561 EXCEPTION CAUGHT BY IMAGE RESOURCE SERVICE \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nI/flutter ( 8235): The following _Exception was thrown resolving an image codec:\nI/flutter ( 8235): Exception: operation failed\nI/flutter ( 8235): \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n</code></pre>\n\n<p>And in addition I have some more questions:</p>\n\n<ol>\n<li><p>Is there a better way to parse image from assets in Flutter?</p></li>\n<li><p>Is there a way to send this data without adding <code>\\n</code> at the end of an image data?</p></li>\n<li><p>Is it possible that image would be too large, and I wouldn't be able to send it in one request? If yes, what should I change in code to make it work? Divide it to several calls and use buffer on both client and server?</p></li>\n<li><p>What should I change in server code, that would allow me to run it once, and connect and disconnect with single client multiple times? (It's annoying, that with every change I make to the Flutter code, I have to rerun server so it works correctly?</p></li>\n</ol>\n\n<p>I'm open for changing server implementation to another framework / language. I want to use Flutter, but it doesn't have to be Ktor on Server site. Just wanted to check it in action.</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 5539653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35a4fb4033211386d3cd9e0c994cd17?s=128&d=identicon&r=PG&f=1", "display_name": "talaash", "link": "https://stackoverflow.com/users/5539653/talaash"}, "edited": false, "score": 1, "creation_date": 1553453664, "post_id": 55326759, "comment_id": 97380624, "body": "Thanks Sir! Worked like a charme. :)))"}], "tags": [], "owner": {"reputation": 1404, "user_id": 10685785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hogSG.jpg?s=128&g=1", "display_name": "cipli onat", "link": "https://stackoverflow.com/users/10685785/cipli-onat"}, "is_accepted": true, "score": 2, "last_activity_date": 1553449976, "creation_date": 1553449976, "answer_id": 55326759, "question_id": 55325738, "link": "https://stackoverflow.com/questions/55325738/how-to-create-multidimensional-lists-and-loop-widgets-containing-the-lists-value/55326759#55326759", "title": "How to create multidimensional lists and loop widgets containing the lists value?", "body": "<p>you may create a basic class for your need</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class YourObject {\n  final String title;\n  final String day;\n  final String date;\n\n  YourObject({this.title, this.day, this.date});\n}\n</code></pre>\n\n<p>create a <code>List</code> from that class/object</p>\n\n<pre><code>  List&lt;YourObject&gt; yourObjectList = [\n    YourObject(day: \"Monday\", date: \"01.01.2019\", title: \"Musical Event Austria\"),\n    YourObject(day: \"Wednesday\", date: \"01.01.2019\", title: \"Musical Event 2\"),\n  ];\n</code></pre>\n\n<p>and you able to render <code>title</code> , <code>date</code> and <code>day</code> with like that or you can change the <code>Container</code> according to your needs/design   </p>\n\n<pre><code>  return Column(\n    children: yourObjectList.map((currentObject) {\n      return Container(\n        child: Row(\n          children: &lt;Widget&gt;[\n            Text(currentObject.title),\n            Text(currentObject.day),\n            Text(currentObject.date),\n          ],\n        ),\n      );\n    }).toList(),\n  );\n\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 5539653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35a4fb4033211386d3cd9e0c994cd17?s=128&d=identicon&r=PG&f=1", "display_name": "talaash", "link": "https://stackoverflow.com/users/5539653/talaash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2896, "favorite_count": 0, "accepted_answer_id": 55326759, "answer_count": 1, "score": 0, "last_activity_date": 1553449976, "creation_date": 1553443519, "last_edit_date": 1553444734, "question_id": 55325738, "link": "https://stackoverflow.com/questions/55325738/how-to-create-multidimensional-lists-and-loop-widgets-containing-the-lists-value", "title": "How to create multidimensional lists and loop widgets containing the lists value?", "body": "<p>I'm new to Flutter &amp; Dart and trying to build an App.</p>\n\n<p>My Goal for now is to build a List (Array), but with an \"index\" to access it later. Afterwards I want to output it within a widget. Unfortunately I haven't found any tutorials or helpful ressources on the web.</p>\n\n<ol>\n<li><p>Build a List which contains the date &amp; days for an event. I tried the following, but it doesn't work.</p>\n\n<pre><code>var events = [ {\"day\": \"Monday\", \"date\": \"01.01.2019\", \"title\": \"Musical Event Austria\"}, {\"day\": \"Wednesday\", \"date\", \"01.01.2019\", \"title\": \"Musical Event 2\"}];\n</code></pre></li>\n<li><p>Loop throught the list and output it within a widget</p>\n\n<pre><code>new Container(decoration: const BoxDecoration(\n          color: Color(0xFF0F1633),\n),\n child: SingleChildScrollView(\n        scrollDirection: Axis.horizontal,\n        child: Row(\n            mainAxisAlignment: MainAxisAlignment.spaceAround,\n            children: events.map((day, date, title) =&gt; new Text(title)).toList(),\n          ),\n        ),\n      ),\n</code></pre></li>\n</ol>\n\n<p>So how may I build the list the right way and output it? What I want to output inside a Text Widget is actually the title, date and day...but really tried many ways to acchieve it, no way. :))) </p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["android", "dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 2274, "user_id": 10336633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b21ffcb04821a06beab9ffe3e812e08?s=128&d=identicon&r=PG&f=1", "display_name": "Ryosuke", "link": "https://stackoverflow.com/users/10336633/ryosuke"}, "is_accepted": false, "score": 0, "last_activity_date": 1553442319, "last_edit_date": 1553442319, "creation_date": 1553440058, "answer_id": 55325192, "question_id": 55325068, "link": "https://stackoverflow.com/questions/55325068/how-to-assign-value-of-text-asset-to-string-and-display-it-in-text/55325192#55325192", "title": "How to assign value of Text Asset to String and display it in Text()?", "body": "<p><code>await</code> keyword can only be used in an <code>async</code> function. What you can do here is:\nMake the widget as <code>StatefulWidget</code> and then in the state class:</p>\n\n<pre><code>String helps = \"\";\n</code></pre>\n\n<p>in the <code>initState()</code> method:</p>\n\n<pre><code>aloadAsset();\n</code></pre>\n\n<p>and change your function to:</p>\n\n<pre><code>aloadAsset() async {\n    helps = myFunction(await rootBundle.loadString('assets/help.txt'));\n    setState((){});\n  }\n</code></pre>\n\n<p>Don't forget to add the import </p>\n\n<pre><code>import 'package:flutter/services.dart' show rootBundle;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6925, "user_id": 5522344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20d7ab17438a0c8f0953aa03c5cdc010?s=128&d=identicon&r=PG&f=1", "display_name": "Doc", "link": "https://stackoverflow.com/users/5522344/doc"}, "edited": false, "score": 0, "creation_date": 1553443326, "post_id": 55325448, "comment_id": 97377383, "body": "kindly explain <code>if(snapshot.connectionState == ConnectionState.done)</code> vs <code>if(snapshot.hasData)</code>. Which is better to use?"}, {"owner": {"reputation": 5165, "user_id": 9374465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4885599304ccdac5fc24aea1bac2d4?s=128&d=identicon&r=PG&f=1", "display_name": "Mazin Ibrahim", "link": "https://stackoverflow.com/users/9374465/mazin-ibrahim"}, "reply_to_user": {"reputation": 6925, "user_id": 5522344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20d7ab17438a0c8f0953aa03c5cdc010?s=128&d=identicon&r=PG&f=1", "display_name": "Doc", "link": "https://stackoverflow.com/users/5522344/doc"}, "edited": false, "score": 0, "creation_date": 1553443586, "post_id": 55325448, "comment_id": 97377459, "body": "for your case it is better to use the latter : if(snapshot.hasData) to handle the event of wrong file name or nonexistent one. I will edit the answer."}, {"owner": {"reputation": 6925, "user_id": 5522344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20d7ab17438a0c8f0953aa03c5cdc010?s=128&d=identicon&r=PG&f=1", "display_name": "Doc", "link": "https://stackoverflow.com/users/5522344/doc"}, "edited": false, "score": 0, "creation_date": 1553505918, "post_id": 55325448, "comment_id": 97394351, "body": "I am not the OP, just read your answer and wanted to clarify; thanks for the edit."}, {"owner": {"reputation": 5165, "user_id": 9374465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4885599304ccdac5fc24aea1bac2d4?s=128&d=identicon&r=PG&f=1", "display_name": "Mazin Ibrahim", "link": "https://stackoverflow.com/users/9374465/mazin-ibrahim"}, "reply_to_user": {"reputation": 6925, "user_id": 5522344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20d7ab17438a0c8f0953aa03c5cdc010?s=128&d=identicon&r=PG&f=1", "display_name": "Doc", "link": "https://stackoverflow.com/users/5522344/doc"}, "edited": false, "score": 0, "creation_date": 1553506054, "post_id": 55325448, "comment_id": 97394422, "body": "I know, and by the way thank you for notifying me for this issue which led me to correct my answer to suit the post case."}, {"owner": {"reputation": 449, "user_id": 10854681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HaPsL.jpg?s=128&g=1", "display_name": "Syed Mushaheed", "link": "https://stackoverflow.com/users/10854681/syed-mushaheed"}, "edited": false, "score": 0, "creation_date": 1553546975, "post_id": 55325448, "comment_id": 97417177, "body": "Thanks for the answer. Can you explain how can I assign the data from &quot;assets/help.txt&quot; file to a String?"}, {"owner": {"reputation": 5165, "user_id": 9374465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4885599304ccdac5fc24aea1bac2d4?s=128&d=identicon&r=PG&f=1", "display_name": "Mazin Ibrahim", "link": "https://stackoverflow.com/users/9374465/mazin-ibrahim"}, "edited": false, "score": 0, "creation_date": 1553575949, "post_id": 55325448, "comment_id": 97424265, "body": "You can define a class-level var and assign the value to it inside <code>aloadAsset()</code>"}], "tags": [], "owner": {"reputation": 5165, "user_id": 9374465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4885599304ccdac5fc24aea1bac2d4?s=128&d=identicon&r=PG&f=1", "display_name": "Mazin Ibrahim", "link": "https://stackoverflow.com/users/9374465/mazin-ibrahim"}, "is_accepted": true, "score": 0, "last_activity_date": 1553443697, "last_edit_date": 1553443697, "creation_date": 1553441672, "answer_id": 55325448, "question_id": 55325068, "link": "https://stackoverflow.com/questions/55325068/how-to-assign-value-of-text-asset-to-string-and-display-it-in-text/55325448#55325448", "title": "How to assign value of Text Asset to String and display it in Text()?", "body": "<p>This is how to read the <code>text</code> from your file, you have to modify your <code>Build</code> function to include a <code>FutureBuilder</code>. Then you have to move the <code>aloadAsset</code> function out of the build:</p>\n\n<pre><code>@override\nWidget build(BuildContext context) {\n  return FutureBuilder(\n      future: aloadAsset(),\n      builder: (BuildContext context, AsyncSnapshot&lt;String&gt; snapshot) {\n        if(if(snapshot.hasData)){\n            return Scaffold(\n              body: Text(snapshot.data)\n            );\n        }\n            return Scaffold(\n              body: Text('No Available data') //This will be returned in case you didn't receive data yet or in the case of a file error.\n            );\n      }\n}\n\nFuture&lt;String&gt; aloadAsset(BuildContext context) async {\n     return await DefaultAssetBundle.of(context).loadString('assets/help.txt');\n\n}\n</code></pre>\n"}], "owner": {"reputation": 449, "user_id": 10854681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HaPsL.jpg?s=128&g=1", "display_name": "Syed Mushaheed", "link": "https://stackoverflow.com/users/10854681/syed-mushaheed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1304, "favorite_count": 0, "accepted_answer_id": 55325448, "answer_count": 2, "score": 1, "last_activity_date": 1553457872, "creation_date": 1553439282, "last_edit_date": 1553457872, "question_id": 55325068, "link": "https://stackoverflow.com/questions/55325068/how-to-assign-value-of-text-asset-to-string-and-display-it-in-text", "title": "How to assign value of Text Asset to String and display it in Text()?", "body": "<p>I want to modify data from a text asset (.txt file) with a function and display it in a <code>Text()</code> widget. <code>myFunction</code> Takes datatype <code>String</code> as parameter and return datatype <code>String</code>.</p>\n\n<p>I've read the documentation. <a href=\"https://flutter.dev/docs/development/ui/assets-and-images#loading-text-assets\" rel=\"nofollow noreferrer\">Loading Asset from Image</a>, this didn't worked. I've also tried solution from <a href=\"https://stackoverflow.com/a/54133627/10854681\">Suragch's Answer</a>.</p>\n\n<p>This maybe is a case where I should use <code>FutureBuilder</code> but I'm not able to understand how to make it work here (I'm new). I'm going to use another function to modify the data from file and then display.</p>\n\n<p>This is one of the things I tried:</p>\n\n<pre><code>Widget build(BuildContext context) {\n  Future&lt;String&gt; aloadAsset(BuildContext context) async {\n    return await DefaultAssetBundle.of(context).loadString('assets/help.txt');\n  }\n\n  String helps = myFunction(await aloadAsset(context));\n  return Scaffold(\n    body: Text(helps)\n  );\n}\n\n</code></pre>\n\n<p>When assigning value from <code>await aloadAsset(context)</code> to String, I get these errors: <code>Unexpected text 'await'.</code> &amp; <code>A value of type 'Future&lt;String&gt;' can't be assigned to a variable of type 'String'.</code></p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 85, "user_id": 11207769, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Zx8H55ic4zk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reZQ9mOg6NwvRpEpcrqIwAwjFOuvQ/mo/photo.jpg?sz=128", "display_name": "Xuan Han Tan", "link": "https://stackoverflow.com/users/11207769/xuan-han-tan"}, "is_accepted": true, "score": 0, "last_activity_date": 1553427729, "creation_date": 1553427729, "answer_id": 55323416, "question_id": 55323324, "link": "https://stackoverflow.com/questions/55323324/vm-gives-many-errors-when-run/55323416#55323416", "title": "VM gives many errors when run", "body": "<p>I just downgraded from Android 10.0 to 9.0 and I solved the problem!</p>\n"}], "owner": {"reputation": 85, "user_id": 11207769, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Zx8H55ic4zk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reZQ9mOg6NwvRpEpcrqIwAwjFOuvQ/mo/photo.jpg?sz=128", "display_name": "Xuan Han Tan", "link": "https://stackoverflow.com/users/11207769/xuan-han-tan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 55323416, "answer_count": 1, "score": 0, "last_activity_date": 1553467971, "creation_date": 1553427000, "last_edit_date": 1553467971, "question_id": 55323324, "link": "https://stackoverflow.com/questions/55323324/vm-gives-many-errors-when-run", "title": "VM gives many errors when run", "body": "<p>I was trying to run my app in the android emulator when an error popped out    </p>\n\n<blockquote>\n  <p>F/flutter ( 6670): [FATAL:flutter/runtime/dart_vm.cc(416)] Error while\n  initializing the Dart VM: Wrong full snapshot version, expected\n  '0c73eb70aa4d30f450273cb424be8c62' found\n  'e7c8a6096e8cb3ada7a6550e3f87ea88'</p>\n</blockquote>\n\n<p>How can I fix this?</p>\n"}, {"tags": ["dart", "flutter", "rxdart"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1553420907, "post_id": 55322453, "comment_id": 97371301, "body": "read <a href=\"https://docs.flutter.io/flutter/widgets/StreamBuilder-class.html\" rel=\"nofollow noreferrer\">StreamBuilder</a> documentation: <i>&quot; The builder is called at the discretion of the Flutter pipeline, and will thus receive a timing-dependent sub-sequence of the snapshots that represent the interaction with the stream.  As an example, when interacting with a stream producing the integers 0 through 9, the builder may be called with any ordered sub-sequence of the following snapshots that includes the last one (the one with ConnectionState.done):&quot;</i>"}, {"owner": {"reputation": 3262, "user_id": 4161284, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f09d33de1ddbfce1524fc06700cb213?s=128&d=identicon&r=PG&f=1", "display_name": "sagar suri", "link": "https://stackoverflow.com/users/4161284/sagar-suri"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1553421244, "post_id": 55322453, "comment_id": 97371380, "body": "Yeah now I got it. But don&#39;t you think its not a good approach to miss out some data. I was just scratching my head from past 2 hours over this funny behaviour. Btw thanks for that comment. But any idea how to resolve this if I want all the 3 values? @pskink"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1553421365, "post_id": 55322453, "comment_id": 97371405, "body": "simply <code>Listen()</code> that <code>Stream</code>"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1553422301, "post_id": 55322453, "comment_id": 97371603, "body": "maybe there is another way in <a href=\"https://pub.dartlang.org/packages/async\" rel=\"nofollow noreferrer\">async</a> package? or use <code>Stream#transform</code> which simply returns the same element?"}, {"owner": {"reputation": 3262, "user_id": 4161284, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f09d33de1ddbfce1524fc06700cb213?s=128&d=identicon&r=PG&f=1", "display_name": "sagar suri", "link": "https://stackoverflow.com/users/4161284/sagar-suri"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1553423118, "post_id": 55322453, "comment_id": 97371788, "body": "Actually the <code>Listen()</code> method as mentioned by you didn&#39;t work. I was checking with the 2nd configuration which was already working."}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1553423172, "post_id": 55322453, "comment_id": 97371809, "body": "what does not work in <code>listen()</code>? it skips the data? how come?"}, {"owner": {"reputation": 3262, "user_id": 4161284, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f09d33de1ddbfce1524fc06700cb213?s=128&d=identicon&r=PG&f=1", "display_name": "sagar suri", "link": "https://stackoverflow.com/users/4161284/sagar-suri"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1553423471, "post_id": 55322453, "comment_id": 97371882, "body": "Yeah got it working. It was just wrong method I calling. Thanks again."}], "owner": {"reputation": 3262, "user_id": 4161284, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f09d33de1ddbfce1524fc06700cb213?s=128&d=identicon&r=PG&f=1", "display_name": "sagar suri", "link": "https://stackoverflow.com/users/4161284/sagar-suri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 492, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1553420509, "creation_date": 1553420509, "question_id": 55322453, "link": "https://stackoverflow.com/questions/55322453/streambuilders-snapshot-is-not-giving-all-data-emitted-by-stream-in-flutter", "title": "StreamBuilder&#39;s snapshot is not giving all data emitted by Stream in Flutter", "body": "<p>I am trying the below code to print 1, 2 and 3 on a <code>Text</code> widget. But the problem is its only printing 1 and 3. But by property concat should print all data sequentially right?</p>\n\n<pre><code>Stream&lt;String&gt; get concatStream =&gt; Observable.concat(\n      [new Observable.just(1.toString()),\n      new Observable.timer(2.toString(), new Duration(seconds: 1)),\n      new Observable.just(3.toString())]);\n</code></pre>\n\n<p>The weird part is, if I use the below configuration. It's printing all the 3 values sequentially. What can be the problem?</p>\n\n<pre><code>Stream&lt;String&gt; get concatStream =&gt; Observable.concat([\n        new Observable.just(1.toString()),\n        new Observable.timer(2.toString(), new Duration(seconds: 2)),\n        new Observable.timer(3.toString(),new Duration(seconds: 1))\n      ]);\n</code></pre>\n\n<p>Code of my <code>StreamBuilder</code>:</p>\n\n<pre><code>return StreamBuilder(\n        stream: getStream(),\n        builder: (BuildContext context, AsyncSnapshot&lt;String&gt; snapshot) {\n          if (snapshot.hasData) {\n            print(snapshot.data);\n            return Text(\n              snapshot.data,\n              textAlign: TextAlign.center,\n              style: TextStyle(fontWeight: FontWeight.w300),\n            );\n          } else if (snapshot.hasError) {\n            return Text(\"Error\");\n          } else {\n            return CircularProgressIndicator();\n          }\n        });\n</code></pre>\n"}, {"tags": ["android", "json", "http", "dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 17780, "user_id": 1379286, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/b2435015b556d425de69598dfcd65b4b?s=128&d=identicon&r=PG", "display_name": "PeakGen", "link": "https://stackoverflow.com/users/1379286/peakgen"}, "edited": false, "score": 0, "creation_date": 1553411860, "post_id": 55321515, "comment_id": 97369580, "body": "Amazing, yes that worked. However they are <code>TimeStamps</code>, more preferably <code>SQLTimeStamps</code>. Do you know how can handle this type in Flutter?"}, {"owner": {"reputation": 5578, "user_id": 3572546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9FtXx.jpg?s=128&g=1", "display_name": "nonybrighto", "link": "https://stackoverflow.com/users/3572546/nonybrighto"}, "reply_to_user": {"reputation": 17780, "user_id": 1379286, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/b2435015b556d425de69598dfcd65b4b?s=128&d=identicon&r=PG", "display_name": "PeakGen", "link": "https://stackoverflow.com/users/1379286/peakgen"}, "edited": false, "score": 0, "creation_date": 1553422166, "post_id": 55321515, "comment_id": 97371570, "body": "try changing <code>int</code> to <code>DateTime</code> and see if it works. If it doesn&#39;t, I think there should be a workaround by creating your own <code>fromJson</code> or creating a method within your model to convert the int to dateTime. Let me know if it doesn&#39;t work. You might need to create a different question for it."}, {"owner": {"reputation": 17780, "user_id": 1379286, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/b2435015b556d425de69598dfcd65b4b?s=128&d=identicon&r=PG", "display_name": "PeakGen", "link": "https://stackoverflow.com/users/1379286/peakgen"}, "edited": false, "score": 0, "creation_date": 1553422700, "post_id": 55321515, "comment_id": 97371694, "body": "I think it is not possible to auto convert. You have to get it in <code>int</code> and convert to <code>DateTime</code>"}, {"owner": {"reputation": 5578, "user_id": 3572546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9FtXx.jpg?s=128&g=1", "display_name": "nonybrighto", "link": "https://stackoverflow.com/users/3572546/nonybrighto"}, "reply_to_user": {"reputation": 17780, "user_id": 1379286, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/b2435015b556d425de69598dfcd65b4b?s=128&d=identicon&r=PG", "display_name": "PeakGen", "link": "https://stackoverflow.com/users/1379286/peakgen"}, "edited": false, "score": 0, "creation_date": 1553423555, "post_id": 55321515, "comment_id": 97371899, "body": "Ok. I will check it out and get back to you."}, {"owner": {"reputation": 5578, "user_id": 3572546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9FtXx.jpg?s=128&g=1", "display_name": "nonybrighto", "link": "https://stackoverflow.com/users/3572546/nonybrighto"}, "reply_to_user": {"reputation": 17780, "user_id": 1379286, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/b2435015b556d425de69598dfcd65b4b?s=128&d=identicon&r=PG", "display_name": "PeakGen", "link": "https://stackoverflow.com/users/1379286/peakgen"}, "edited": false, "score": 0, "creation_date": 1553458081, "post_id": 55321515, "comment_id": 97382000, "body": "I&#39;ve created a question to show how to do the conversion <a href=\"https://stackoverflow.com/questions/55328064/how-to-convert-int-timestamp-to-datetime-in-json-serializable-flutter/55328065#55328065\" title=\"how to convert int timestamp to datetime in json serializable flutter\">stackoverflow.com/questions/55328064/&hellip;</a>"}], "tags": [], "owner": {"reputation": 5578, "user_id": 3572546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9FtXx.jpg?s=128&g=1", "display_name": "nonybrighto", "link": "https://stackoverflow.com/users/3572546/nonybrighto"}, "is_accepted": true, "score": 6, "last_activity_date": 1553411604, "creation_date": 1553411604, "answer_id": 55321515, "question_id": 55321393, "link": "https://stackoverflow.com/questions/55321393/flutter-error-type-int-is-not-a-subtype-of-type-string-in-type-cast/55321515#55321515", "title": "Flutter error: type &#39;int&#39; is not a subtype of type &#39;String&#39; in type cast", "body": "<p>Your dateCreated has an int timestamp but your category model has a string data type. Change <code>String dateCreated;</code> and <code>String lastUpdated;</code> in the category model to <code>int dateCreated</code> and <code>int lastUpdated</code> respectively</p>\n"}, {"tags": [], "owner": {"reputation": 340, "user_id": 9350845, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8yYFwGAzVjk/AAAAAAAAAAI/AAAAAAAAMYU/jnebEp1gU8A/photo.jpg?sz=128", "display_name": "Taha Ali", "link": "https://stackoverflow.com/users/9350845/taha-ali"}, "is_accepted": false, "score": 7, "last_activity_date": 1593098599, "creation_date": 1593098599, "answer_id": 62578827, "question_id": 55321393, "link": "https://stackoverflow.com/questions/55321393/flutter-error-type-int-is-not-a-subtype-of-type-string-in-type-cast/62578827#62578827", "title": "Flutter error: type &#39;int&#39; is not a subtype of type &#39;String&#39; in type cast", "body": "<p>Best workaround I found</p>\n<pre><code>int pageCount = int.parse(snapshot.data.data['totalPg'].toString());\n</code></pre>\n"}], "owner": {"reputation": 17780, "user_id": 1379286, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/b2435015b556d425de69598dfcd65b4b?s=128&d=identicon&r=PG", "display_name": "PeakGen", "link": "https://stackoverflow.com/users/1379286/peakgen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19294, "favorite_count": 0, "accepted_answer_id": 55321515, "answer_count": 2, "score": 2, "last_activity_date": 1602152044, "creation_date": 1553410229, "question_id": 55321393, "link": "https://stackoverflow.com/questions/55321393/flutter-error-type-int-is-not-a-subtype-of-type-string-in-type-cast", "title": "Flutter error: type &#39;int&#39; is not a subtype of type &#39;String&#39; in type cast", "body": "<p>I am trying to get data from a REST API using a Flutter app. I am building model classes in <code>json_serializable way</code>. Below is my code.</p>\n\n<p><strong>main.dart</strong></p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'dart:convert' as convert;\nimport 'package:http/http.dart' as http;\n\nimport './category.dart';\n\nvoid main()\n{\n  runApp(MyApp());\n}\n\nclass MyApp extends StatefulWidget\n{\n  @override\n  State&lt;StatefulWidget&gt; createState() {\n    // TODO: implement createState\n    return HttpTestState();\n  }\n\n}\n\nclass HttpTestState extends State&lt;MyApp&gt;\n{\n  @override\n  Widget build(BuildContext context) {\n\n    //bookFind();\n    productFind();\n\n    return MaterialApp(\n      title: 'Flutter layout demo',\n      home: Scaffold(\n\n        body: Scaffold(appBar: AppBar(title: Text(\"HTTP Test\"),),\n    body: Container(child: Text(\"data\"),),)\n        ),\n\n    );\n\n  }\n\nproductFind() async{\n  var url = \"http://10.0.2.2:8080/xxx/rest/productCategory/getAllProductCategories\";\n\n  // Await the http get response, then decode the json-formatted responce.\n  var response = await http.get(Uri.encodeFull(url), headers: {\"Accept\": \"application/json\"});\n  if (response.statusCode == 200) {\n   print(\"Response Body: \"+response.body);\n\n     List userMap = convert.jsonDecode(response.body);\n     Category ProductCategories = new Category.fromJson(userMap[0]);\n\n  } else {\n    print(\"Request failed with status: ${response.statusCode}.\");\n  }\n}\n\n\n}\n</code></pre>\n\n<p><strong>category.dart</strong> (model class)</p>\n\n<pre><code>import 'package:json_annotation/json_annotation.dart';\n\npart 'category.g.dart';\n\n@JsonSerializable()\n\n\nclass Category\n{\n  int idproductCategory;\n  String categoryName;\n  String imageURL;\n  String deleteTimestamp;\n  String dateCreated;\n  String lastUpdated;\n\n  Category(this.idproductCategory, this.categoryName, this.imageURL, this.deleteTimestamp, this.dateCreated, this.lastUpdated);\n\n  factory Category.fromJson(Map&lt;String, dynamic&gt; json) =&gt; _$CategoryFromJson(json);\n\n  Map&lt;String, dynamic&gt; toJson() =&gt; _$CategoryToJson(this);\n}\n</code></pre>\n\n<p><strong>category.g.dart</strong> (the class generated by <code>json_serializable</code>)</p>\n\n<pre><code>// GENERATED CODE - DO NOT MODIFY BY HAND\n\npart of 'category.dart';\n\n// **************************************************************************\n// JsonSerializableGenerator\n// **************************************************************************\n\nCategory _$CategoryFromJson(Map&lt;String, dynamic&gt; json) {\n  return Category(\n      json['idproductCategory'] as int,\n      json['categoryName'] as String,\n      json['imageURL'] as String,\n      json['deleteTimestamp'] as String,\n      json['dateCreated'] as String,\n      json['lastUpdated'] as String);\n}\n\nMap&lt;String, dynamic&gt; _$CategoryToJson(Category instance) =&gt; &lt;String, dynamic&gt;{\n      'idproductCategory': instance.idproductCategory,\n      'categoryName': instance.categoryName,\n      'imageURL': instance.imageURL,\n      'deleteTimestamp': instance.deleteTimestamp,\n      'dateCreated': instance.dateCreated,\n      'lastUpdated': instance.lastUpdated\n    };\n</code></pre>\n\n<p>The JSON response to the given URL should be like below.</p>\n\n<pre><code>[{\n        \"idproductCategory\": 1,\n        \"categoryName\": \"Fruits\",\n        \"imageURL\": \"https://images.unsplash.com/photo-1512621776951-a57141f2eefd?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=500&amp;q=60\",\n        \"deleteTimestamp\": null,\n        \"dateCreated\": 1550056389000,\n        \"lastUpdated\": 1550056389000\n    },\n    {\n        \"idproductCategory\": 2,\n        \"categoryName\": \"Vegetables\",\n        \"imageURL\": \"https://images.unsplash.com/photo-1522184216316-3c25379f9760?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=500&amp;q=60\",\n        \"deleteTimestamp\": null,\n        \"dateCreated\": 1550056389000,\n        \"lastUpdated\": 1550056389000\n    }]\n</code></pre>\n\n<p>However when I run my code I get the following error.</p>\n\n<pre><code>E/flutter ( 6448): [ERROR:flutter/shell/common/shell.cc(178)] Dart Error: Unhandled exception:\nE/flutter ( 6448): type 'int' is not a subtype of type 'String' in type cast\nE/flutter ( 6448): #0      _$CategoryFromJson \nE/flutter ( 6448): #1      new Category.fromJson \nE/flutter ( 6448): #2      HttpTestState.productFind \nE/flutter ( 6448): &lt;asynchronous suspension&gt;\nE/flutter ( 6448): #3      HttpTestState.build \nE/flutter ( 6448): #4      StatefulElement.build \nE/flutter ( 6448): #5      ComponentElement.performRebuild \nE/flutter ( 6448): #6      Element.rebuild \nE/flutter ( 6448): #7      BuildOwner.buildScope \nE/flutter ( 6448): #8      _WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding&amp;PaintingBinding&amp;SemanticsBinding&amp;RendererBinding&amp;WidgetsBinding.drawFrame \nE/flutter ( 6448): #9      _WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding&amp;PaintingBinding&amp;SemanticsBinding&amp;RendererBinding._handlePersistentFrameCallback \nE/flutter ( 6448): #10     _WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding._invokeFrameCallback \nE/flutter ( 6448): #11     _WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding.handleDrawFrame \nE/flutter ( 6448): #12     _WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding.scheduleWarmUpFrame.&lt;anonymous closure&gt; \nE/flutter ( 6448): #13     Timer._createTimer.&lt;anonymous closure&gt; (dart:async/runtime/libtimer_patch.dart:21:15)\nE/flutter ( 6448): #14     _Timer._runTimers (dart:isolate/runtime/libtimer_impl.dart:382:19)\nE/flutter ( 6448): #15     _Timer._handleMessage (dart:isolate/runtime/libtimer_impl.dart:416:5)\nE/flutter ( 6448): #16     _RawReceivePortImpl._handleMessage (dart:isolate/runtime/libisolate_patch.dart:171:12)\n</code></pre>\n\n<p>Why is this?</p>\n"}, {"tags": ["dart", "flutter", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1553405391, "post_id": 55320972, "comment_id": 97368658, "body": "Firestore has offline queries, and they&#39;re enabled by default for Android and iOS.  Is that not working for you?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10662195"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1553406145, "post_id": 55320972, "comment_id": 97368779, "body": "I don&#39;t know why I have to reload it first and then it can display data from streambuilder. how do I save data from firestore so that I can still see data even though my application is offline."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10662195"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1553406265, "post_id": 55320972, "comment_id": 97368789, "body": "and I also tried to extract data from Firestore and save it in a list and make it inside initState () but the data in the list is not called how do I finish this? thanks before"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10662195"}, "edited": false, "score": 1, "creation_date": 1553411196, "post_id": 55321359, "comment_id": 97369472, "body": "Thank you very much for answering my question. thanks for the info. and by the way I forgot to use setState () so it needed to reload again to get the data."}, {"owner": {"reputation": 3180, "user_id": 5223309, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/ZazF9.jpg?s=128&g=1", "display_name": "Shababb Karim", "link": "https://stackoverflow.com/users/5223309/shababb-karim"}, "edited": false, "score": 0, "creation_date": 1555169743, "post_id": 55321359, "comment_id": 98020679, "body": "Hi @BonaBerto if the question has been resolved don&#39;t forget to mark the resolved answer. Thanks"}], "tags": [], "owner": {"reputation": 3180, "user_id": 5223309, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/ZazF9.jpg?s=128&g=1", "display_name": "Shababb Karim", "link": "https://stackoverflow.com/users/5223309/shababb-karim"}, "is_accepted": true, "score": 0, "last_activity_date": 1553409939, "creation_date": 1553409939, "answer_id": 55321359, "question_id": 55320972, "link": "https://stackoverflow.com/questions/55320972/how-i-still-keep-my-data-even-my-app-offline/55321359#55321359", "title": "how i still keep my data even my app offline", "body": "<p>Firestore has offline support by default but it does not support <code>await</code> and <code>runTransaction</code> in offline mode. If these are present then the future will not be resolved, making it look like that <code>Firestore</code> is not supporting offline mode. Just write your code without any <code>await</code> calls or <code>runTransaction</code> and you should find that your app supports offline mode. </p>\n\n<p>For example, in <a href=\"https://gist.github.com/jrhml05/eb1a1df5c9a3a53514522601394b8dec#file-addhouseholder-dart-L146\" rel=\"nofollow noreferrer\">this section of code</a> will not support offline mode because you are <code>await</code>-ing for the future to be resolved. Instead, removing the <code>await</code> keyword will result in updating the list in offline mode and when internet comes back then the database is also updated.  </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10662195"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 55321359, "answer_count": 1, "score": 0, "last_activity_date": 1553409939, "creation_date": 1553405103, "last_edit_date": 1553405362, "question_id": 55320972, "link": "https://stackoverflow.com/questions/55320972/how-i-still-keep-my-data-even-my-app-offline", "title": "how i still keep my data even my app offline", "body": "<p>How can I still be able to see the contents of my chat with other users even when I\u2019m offline? like whatsapp i can still see my chat history even offline. and using cloud firestore. thanks!</p>\n"}, {"tags": ["dart", "flutter", "flutter-layout"], "comments": [{"owner": {"reputation": 16714, "user_id": 7924072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pwcXh.jpg?s=128&g=1", "display_name": "Viren V Varasadiya", "link": "https://stackoverflow.com/users/7924072/viren-v-varasadiya"}, "edited": false, "score": 0, "creation_date": 1553434299, "post_id": 55320952, "comment_id": 97374839, "body": "do you also want a curve from bottom as can be shown from image or curve inside for that you can use borderRadius property of indicator."}, {"owner": {"reputation": 11, "user_id": 11105771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/583e2c588258e5a9a7ea17f88828e373?s=128&d=identicon&r=PG&f=1", "display_name": "dynamo", "link": "https://stackoverflow.com/users/11105771/dynamo"}, "reply_to_user": {"reputation": 16714, "user_id": 7924072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pwcXh.jpg?s=128&g=1", "display_name": "Viren V Varasadiya", "link": "https://stackoverflow.com/users/7924072/viren-v-varasadiya"}, "edited": false, "score": 0, "creation_date": 1553571966, "post_id": 55320952, "comment_id": 97423462, "body": "Hi thanks it did worked. any more suggestion on how to make that curve between tab and its container ?"}, {"owner": {"reputation": 16714, "user_id": 7924072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pwcXh.jpg?s=128&g=1", "display_name": "Viren V Varasadiya", "link": "https://stackoverflow.com/users/7924072/viren-v-varasadiya"}, "edited": false, "score": 0, "creation_date": 1553586055, "post_id": 55320952, "comment_id": 97427827, "body": "Please add something more what exactly you want. I am not able to understand what you want more now."}], "answers": [{"tags": [], "owner": {"reputation": 1236, "user_id": 12047492, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mB9Di7fCNgGMpZC4FLGCF6BY8HFx1m5m-zEW801ow=k-s128", "display_name": "Abhishek Ghaskata", "link": "https://stackoverflow.com/users/12047492/abhishek-ghaskata"}, "is_accepted": false, "score": 0, "last_activity_date": 1587552938, "last_edit_date": 1587552938, "creation_date": 1587550095, "answer_id": 61362415, "question_id": 55320952, "link": "https://stackoverflow.com/questions/55320952/how-to-make-curved-tabs-in-tabbar-in-flutter/61362415#61362415", "title": "How to make curved Tabs in TabBar in flutter", "body": "<pre><code>Container(\n    decoration: BoxDecoration(\n      color: Colors.white,\n      borderRadius: BorderRadius.only(\n        topLeft: Radius.circular(30),\n        topRight: Radius.circular(30),\n      ),\n    ),\n    child: TabBar(\n      // indicatorPadding: EdgeInsets.all(30),\n\n      tabs: [\n        Tab(\n          child: Text(\n            \"data\",\n            style: TextStyle(color: Colors.black),\n          ),\n        ),\n        Tab(\n          child: Text(\n            \"data\",\n            style: TextStyle(color: Colors.black),\n          ),\n        ),\n      ],\n    ),\n  ),\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11105771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/583e2c588258e5a9a7ea17f88828e373?s=128&d=identicon&r=PG&f=1", "display_name": "dynamo", "link": "https://stackoverflow.com/users/11105771/dynamo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1570, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1587552938, "creation_date": 1553404832, "question_id": 55320952, "link": "https://stackoverflow.com/questions/55320952/how-to-make-curved-tabs-in-tabbar-in-flutter", "title": "How to make curved Tabs in TabBar in flutter", "body": "<p>How can i make curved Tabs Like this image have ?\n<a href=\"https://i.stack.imgur.com/kCaeH.png\" rel=\"nofollow noreferrer\">Tabs Image</a></p>\n\n<p>Here is my code that i tried : </p>\n\n<pre><code>TabBar(\n    controller: _tabcntrl,\n    indicatorColor: Colors.white,\n    indicator: BoxDecoration(color: Colors.white),\n    indicatorSize: TabBarIndicatorSize.label,\n    labelPadding: EdgeInsets.all(0),\n    tabs: &lt;Widget&gt;[\n        DecoratedBox(\n            decoration: BoxDecoration(\n                  borderRadius: BorderRadius.all(Radius.circular(50))),\n              child: FlatButton(\n                child: SizedBox(\n                  width: 80,\n                  child: Text(\n                    'Expense',\n                  ),\n                ),\n                onPressed: () {},\n              ),\n            ),\n\n          ],\n        ),\n</code></pre>\n\n<p>I tried giving radius to box of FlatButton but it didnt work.</p>\n"}, {"tags": ["authentication", "dart", "flutter", "dart-html", "flutter-dependencies"], "comments": [{"owner": {"reputation": 769, "user_id": 8496352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0dPYs.jpg?s=128&g=1", "display_name": "Mukta", "link": "https://stackoverflow.com/users/8496352/mukta"}, "edited": false, "score": 0, "creation_date": 1608220766, "post_id": 55320339, "comment_id": 115522281, "body": "is this code working ?"}], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 10355676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9ddfb71f6223ec8b094426b3c4c0de?s=128&d=identicon&r=PG", "display_name": "Abdullah", "link": "https://stackoverflow.com/users/10355676/abdullah"}, "edited": false, "score": 0, "creation_date": 1553709662, "post_id": 55323704, "comment_id": 97489420, "body": "i understand your point but i don&#39;t how use the sharedpreferences i follow this documentation and the login is worked but now my problem how to keep the user login after i rerun the app   <a href=\"https://medium.com/flutterpub/organizing-a-token-authentication-with-a-splash-using-flutter-dd6a510338dc\" rel=\"nofollow noreferrer\">medium.com/flutterpub/&hellip;</a>  he used here SharedPreferences and its not working with me"}, {"owner": {"reputation": 880, "user_id": 3542938, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000448161802/picture?type=large", "display_name": "abdalmonem", "link": "https://stackoverflow.com/users/3542938/abdalmonem"}, "reply_to_user": {"reputation": 135, "user_id": 10355676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9ddfb71f6223ec8b094426b3c4c0de?s=128&d=identicon&r=PG", "display_name": "Abdullah", "link": "https://stackoverflow.com/users/10355676/abdullah"}, "edited": false, "score": 0, "creation_date": 1553711487, "post_id": 55323704, "comment_id": 97490404, "body": "@Abdullah can you post your code ? (try to abstract it as you can) to help you"}, {"owner": {"reputation": 135, "user_id": 10355676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9ddfb71f6223ec8b094426b3c4c0de?s=128&d=identicon&r=PG", "display_name": "Abdullah", "link": "https://stackoverflow.com/users/10355676/abdullah"}, "edited": false, "score": 0, "creation_date": 1553713972, "post_id": 55323704, "comment_id": 97491589, "body": "i add all my new codes in the post under New codes line"}, {"owner": {"reputation": 880, "user_id": 3542938, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000448161802/picture?type=large", "display_name": "abdalmonem", "link": "https://stackoverflow.com/users/3542938/abdalmonem"}, "reply_to_user": {"reputation": 135, "user_id": 10355676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9ddfb71f6223ec8b094426b3c4c0de?s=128&d=identicon&r=PG", "display_name": "Abdullah", "link": "https://stackoverflow.com/users/10355676/abdullah"}, "edited": false, "score": 0, "creation_date": 1553714869, "post_id": 55323704, "comment_id": 97491991, "body": "am sorry :) i didnt notice oky lets divide the issue into pieces at the first run your app , then copy and paste the &quot;run logs&quot; to see i notice somthing in this part of your code   <code>if (response.statusCode == 200) {     final responseJson = json.decode(response.body);     var token = new AuthResponse.fromJson(responseJson);      saveCurrentLogin(responseJson);     Navigator.of(context).pushReplacementNamed(&#39;&#47;About&#39;); &lt;&lt; here         return Login.fromJson(responseJson);   }</code>  <code>Navigator.of(context).pushReplacementNamed(&#39;&#47;About&#39;);</code> well stop the method execution before its end"}, {"owner": {"reputation": 880, "user_id": 3542938, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000448161802/picture?type=large", "display_name": "abdalmonem", "link": "https://stackoverflow.com/users/3542938/abdalmonem"}, "reply_to_user": {"reputation": 135, "user_id": 10355676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9ddfb71f6223ec8b094426b3c4c0de?s=128&d=identicon&r=PG", "display_name": "Abdullah", "link": "https://stackoverflow.com/users/10355676/abdullah"}, "edited": false, "score": 0, "creation_date": 1553715380, "post_id": 55323704, "comment_id": 97492223, "body": "your code is a full of bugs ! and unlogical  operations that well make an interrupts in many methods  you need to dismantling it into  small pieces"}, {"owner": {"reputation": 135, "user_id": 10355676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9ddfb71f6223ec8b094426b3c4c0de?s=128&d=identicon&r=PG", "display_name": "Abdullah", "link": "https://stackoverflow.com/users/10355676/abdullah"}, "reply_to_user": {"reputation": 880, "user_id": 3542938, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000448161802/picture?type=large", "display_name": "abdalmonem", "link": "https://stackoverflow.com/users/3542938/abdalmonem"}, "edited": false, "score": 0, "creation_date": 1553715846, "post_id": 55323704, "comment_id": 97492456, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/190787/discussion-between-abdullah-and-abdalmonem\">continue this discussion in chat</a>."}, {"owner": {"reputation": 135, "user_id": 10355676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9ddfb71f6223ec8b094426b3c4c0de?s=128&d=identicon&r=PG", "display_name": "Abdullah", "link": "https://stackoverflow.com/users/10355676/abdullah"}, "edited": false, "score": 0, "creation_date": 1553717710, "post_id": 55323704, "comment_id": 97493345, "body": "so can you help me with that to fix these things please ."}, {"owner": {"reputation": 135, "user_id": 10355676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9ddfb71f6223ec8b094426b3c4c0de?s=128&d=identicon&r=PG", "display_name": "Abdullah", "link": "https://stackoverflow.com/users/10355676/abdullah"}, "edited": false, "score": 0, "creation_date": 1553797688, "post_id": 55323704, "comment_id": 97529569, "body": "waiting for you"}, {"owner": {"reputation": 7739, "user_id": 4861207, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh3.googleusercontent.com/-2H-VyJZnOwY/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-i6qKh44s9gIeIEL3c0m5Q8ywBu5w/mo/photo.jpg?sz=128", "display_name": "Jessica", "link": "https://stackoverflow.com/users/4861207/jessica"}, "edited": false, "score": 0, "creation_date": 1596498438, "post_id": 55323704, "comment_id": 111824691, "body": "Is there a reason why there&#39;s 2 prefs, 1: is_login, 2: auth_key? Can&#39;t we just use auth_key?"}, {"owner": {"reputation": 880, "user_id": 3542938, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000448161802/picture?type=large", "display_name": "abdalmonem", "link": "https://stackoverflow.com/users/3542938/abdalmonem"}, "reply_to_user": {"reputation": 7739, "user_id": 4861207, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh3.googleusercontent.com/-2H-VyJZnOwY/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-i6qKh44s9gIeIEL3c0m5Q8ywBu5w/mo/photo.jpg?sz=128", "display_name": "Jessica", "link": "https://stackoverflow.com/users/4861207/jessica"}, "edited": false, "score": 0, "creation_date": 1596547117, "post_id": 55323704, "comment_id": 111840985, "body": "@Jessica , yes you can , but boolean comparison expression is more clean and simple, and more understandable specially when you working as a team."}, {"owner": {"reputation": 573, "user_id": 7027380, "user_type": "registered", "profile_image": "https://graph.facebook.com/1054276794645619/picture?type=large", "display_name": "BartusZak", "link": "https://stackoverflow.com/users/7027380/bartuszak"}, "edited": false, "score": 0, "creation_date": 1610552679, "post_id": 55323704, "comment_id": 116171489, "body": "The package description itself indicates that &quot;this plugin must not be used for storing critical data&quot;. It is best fitted for in-app preferences such as turning on/off dark mode."}], "tags": [], "owner": {"reputation": 880, "user_id": 3542938, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000448161802/picture?type=large", "display_name": "abdalmonem", "link": "https://stackoverflow.com/users/3542938/abdalmonem"}, "is_accepted": false, "score": 2, "last_activity_date": 1557049846, "last_edit_date": 1592644375, "creation_date": 1553429808, "answer_id": 55323704, "question_id": 55320339, "link": "https://stackoverflow.com/questions/55320339/how-to-make-a-basic-http-auth-login-and-register-and-store-the-token/55323704#55323704", "title": "How to make a basic http auth ( Login and Register ) and store the token", "body": "<p>the best way to do this by using <a href=\"https://pub.dartlang.org/packages/shared_preferences\" rel=\"nofollow noreferrer\">shared preferences</a></p>\n<ul>\n<li>1 - you need to install dependence (see the link)</li>\n<li>2 - make your &quot;http&quot; request with your server to get the &quot;auth key&quot;</li>\n<li>3 - create tow &quot;shared preferences&quot; keys :</li>\n</ul>\n<p>and give the first one the name of &quot;auth_key&quot; to store the authentication key\nand save the other one as &quot;bool&quot; data type, give it the name &quot;is_login&quot;\nnow in the main function of the dart, check the parameter &quot;is_login&quot;, if its true , countenu to (home page , account ... etc), otherwise take it to the login widget</p>\n<p>dart code to set the two keys</p>\n<pre><code>Future&lt;void&gt; setUserLogin(String auth_token) async{\n    SharedPreferences pref = await SharedPreferences.getInstance();\n    pref.setString(&quot;auth_token&quot;, auth_token);\n    pref.setBool(&quot;is_login&quot;, true);\n }\n</code></pre>\n<p>check if login:</p>\n<pre><code>  Future&lt;bool&gt; isUserLogin() async{\n    SharedPreferences pref = await SharedPreferences.getInstance();\n    return pref.getBool(&quot;is_login&quot;);\n }\n</code></pre>\n<p>get the auth key:</p>\n<pre><code>  Future&lt;bool&gt; isUserLogin() async{\n    SharedPreferences pref = await SharedPreferences.getInstance();\n    return pref.getString(&quot;auth_token&quot;);\n }\n</code></pre>\n<p>logout method</p>\n<pre><code>  Future&lt;void&gt; logout() async{\n    SharedPreferences pref = await SharedPreferences.getInstance();\n    pref.remove(&quot;auth_key&quot;);\n   pref.remove(&quot;is_login&quot;);\n }\n</code></pre>\n<p>I just give you an example of how to do it, you need to read more about &quot;SharedPreferences&quot; at the link below to know more about\nthere is another techniques like save data to sql, but its more complicated, and I guess its less secure (cuz there is many root apps working as sqlite browsers)</p>\n"}], "owner": {"reputation": 135, "user_id": 10355676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9ddfb71f6223ec8b094426b3c4c0de?s=128&d=identicon&r=PG", "display_name": "Abdullah", "link": "https://stackoverflow.com/users/10355676/abdullah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6305, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557049846, "creation_date": 1553395928, "last_edit_date": 1592644375, "question_id": 55320339, "link": "https://stackoverflow.com/questions/55320339/how-to-make-a-basic-http-auth-login-and-register-and-store-the-token", "title": "How to make a basic http auth ( Login and Register ) and store the token", "body": "<p>how are you ?</p>\n<p>i have laravel backend with passport auth and now i want to link it with my mobile app in flutter</p>\n<p>i want to make the auth but i'm new in flutter and i don't know how to start to do this</p>\n<p>first i make my models</p>\n<p>this is my first model login.dart</p>\n<pre><code>class Login {\n  final String login;\n  final String password;\n\n  Login (this.login,this.password);\n}\n</code></pre>\n<p>my second model is register.dart</p>\n<pre><code>class Register {\n  final String email;\n  final String name;\n  final String mobile;\n  final String password;\n\n  Register(\n    this.email,\n    this.name,\n    this.mobile,\n    this.password,\n  );\n}\n</code></pre>\n<p>and this is User model</p>\n<pre><code>class User {\n  final int id ;\n  final int active ;\n  final int confirmed ;\n  final String mobile  ;\n  final String name ;\n  final String email ;\n  final String confirmation_code ;\n\n User(this.id,this.active,this.confirmed,this.mobile,this.name,this.email,this.confirmation_code);\n\n\n}\n</code></pre>\n<p>this is my Auth Response Model</p>\n<pre><code>import './User.dart';\n\nclass AuthResponse {\n  final String token;\n  final User user;\n\n  AuthResponse(\n    this.user, this.token\n  );\n\n\n}\n</code></pre>\n<p>but now i don't know how to make the auth and link it with these models so can any one help please</p>\n<p>thanks</p>\n<hr />\n<p>New codes</p>\n<p>my login page code</p>\n<pre><code>import 'dart:async';\n\nimport 'package:flutter/material.dart';\n\nimport 'package:http/http.dart' as http;\nimport 'package:shared_preferences/shared_preferences.dart';\n\nimport 'package:flutter/services.dart';\n\nimport '../../common/apifunctions/requestLoginAPI.dart';\n\n\nimport 'package:gradient_widgets/gradient_widgets.dart';\n\n\n\nclass UserLoginPage extends StatefulWidget {\n  @override\n  State&lt;StatefulWidget&gt; createState() {\n    return _UserLoginPage();\n  }\n}\n\nclass _UserLoginPage extends State&lt;UserLoginPage&gt; {\n  final TextEditingController _mobileController = TextEditingController();\n  final TextEditingController _passwordController = TextEditingController();\n\n\n\n  @override\n  void initState() {\n    super.initState();\n    _saveCurrentRoute('/UserLogin');\n  }\n\n  _saveCurrentRoute(String lastRoute) async {\n    SharedPreferences preferences = await SharedPreferences.getInstance();\n    await preferences.setString('LastScreenRoute', lastRoute);\n  }\n\n  void _gloginButton() {\n    Navigator.pushReplacementNamed(context, '/Home');\n  }\n\n  void _registerButton() {\n    Navigator.pushNamed(context, '/UserRegister');\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return WillPopScope(\n        onWillPop: () {\n          if (Navigator.canPop(context)) {\n            Navigator.of(context).pushNamedAndRemoveUntil(\n                '/Home', (Route&lt;dynamic&gt; route) =&gt; false);\n          } else {\n            Navigator.of(context).pushReplacementNamed('/Home');\n          }\n        },\n        child: Scaffold(\n          body: Column(\n            children: &lt;Widget&gt;[\n              Image.asset('assets/img/LRUI.png'),\n              Form(\n                child: Container(\n                  //padding: EdgeInsets.only(top: 100.0),\n                  margin: EdgeInsets.all(35.0),\n                  child: Center(\n                    child: Center(\n                      child: SingleChildScrollView(\n                        child: Column(\n                          children: &lt;Widget&gt;[\n                            SizedBox(\n                              height: 99.0,\n                            ),\n                            TextFormField(\n                              controller: _mobileController,\n                              decoration: InputDecoration(\n                                labelText: '\u0631\u0642\u0645 \u0627\u0644\u062c\u0648\u0627\u0644',\n                                hintText: &quot;\u0631\u0642\u0645 \u0627\u0644\u062c\u0648\u0627\u0644 \u064a\u062c\u0628 \u0623\u0646 \u064a\u0643\u0648\u0646 \u0639\u0634\u0631 \u0627\u0631\u0642\u0627\u0645&quot;,\n                              ),\n                              style: TextStyle(\n                                fontSize: 18.0,\n                                color: Colors.grey,\n                                fontWeight: FontWeight.bold,\n                              ),\n                            ),\n                            SizedBox(height: 11.0),\n                            TextFormField(\n                              controller: _passwordController,\n                              decoration: InputDecoration(\n                                labelText: '\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0633\u0631\u064a',\n                              ),\n                              obscureText: true,\n                              style: TextStyle(\n                                fontSize: 18.0,\n                                color: Colors.grey,\n                                fontWeight: FontWeight.bold,\n                              ),\n                            ),\n                            SizedBox(\n                              height: 40.0,\n                            ),\n                            GradientButton(\n                              gradient: const LinearGradient(\n                                begin: Alignment.topLeft,\n                                end: Alignment.bottomCenter,\n                                colors: const &lt;Color&gt;[\n                                  Color(0xff4caf4e),\n                                  Color(0xff71c071),\n                                ],\n                              ),\n                              callback: () {\n                                SystemChannels.textInput\n                                    .invokeMethod('TextInput.hide');\n                                requestLoginAPI(context, _mobileController.text,\n                                    _passwordController.text);\n                              },\n                              textStyle: TextStyle(\n                                  color: Colors.white, fontSize: 16.0),\n                              shapeRadius: BorderRadius.circular(10.0),\n                              child: Text(\n                                &quot;\u062f\u062e\u0648\u0644&quot;,\n                              ),\n                              increaseHeightBy: 20.0,\n                              increaseWidthBy: 140.0,\n                            ),\n                            SizedBox(\n                              height: 35.0,\n                            ),\n                            FlatButton(\n                              child: Text('\u062f\u062e\u0648\u0644 \u0643\u0636\u064a\u0641'),\n                              onPressed: _gloginButton,\n                            ),\n                            FlatButton(\n                              child: Text('\u062a\u0633\u062c\u064a\u0644 \u062d\u0633\u0627\u0628 \u062c\u062f\u064a\u062f'),\n                              onPressed: _registerButton,\n                            ),\n                          ],\n                        ),\n                      ),\n                    ),\n                  ),\n                ),\n              ),\n            ],\n          ),\n        ));\n  }\n}\n</code></pre>\n<p>and this is my my Api function code for request login</p>\n<pre><code>import 'dart:async';\n\nimport 'package:flutter/material.dart';\nimport 'package:http/http.dart' as http;\nimport '../functions/ saveCurrentLogin.dart';\nimport '../functions/showDialog.dart';\nimport 'dart:convert';\n\nimport '../../Models/Login.dart';\nimport '../../Models/User.dart';\nimport '../../Models/AuthResponse.dart';\n\nFuture&lt;Login&gt; requestLoginAPI(BuildContext context, String login, String password) async {\n  final url = &quot;http://188.166.172.146/Blooming/public/api/login&quot;;\n\n  Map&lt;String, String&gt; body = {\n    'login': login,\n    'password': password,\n  };\n\n  final response = await http.post(\n    url,\n    body: body,\n  );\n\n  if (response.statusCode == 200) {\n    final responseJson = json.decode(response.body);\n    var token = new AuthResponse.fromJson(responseJson);\n\n    saveCurrentLogin(responseJson);\n    Navigator.of(context).pushReplacementNamed('/About');\n      \n\n\n\n    return Login.fromJson(responseJson);\n  } else {\n    final responseJson = json.decode(response.body);\n\n    saveCurrentLogin(responseJson);\n    showDialogSingleButton(context, &quot;\u062e\u0637\u0623&quot;, &quot;\u062a\u0623\u0643\u062f \u0645\u0646 \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062f\u062e\u0648\u0644&quot;, &quot;\u0645\u0648\u0627\u0641\u0642&quot;);\n\n    return null;\n  }\n}\n</code></pre>\n<p>this is my save current login function code</p>\n<pre><code>import 'package:shared_preferences/shared_preferences.dart';\n\n\nimport '../../Models/AuthResponse.dart';\nimport '../../Models/User.dart';\n\nsaveCurrentLogin(Map responseJson) async {\n  SharedPreferences preferences = await SharedPreferences.getInstance();\n\n\n  var token = (responseJson != null &amp;&amp; !responseJson.isEmpty) ? AuthResponse.fromJson(responseJson).token : &quot;&quot;;\n\n  var id = (responseJson != null &amp;&amp; !responseJson.isEmpty) ? User.fromJson(responseJson).id : 0;\n  var name = (responseJson != null &amp;&amp; !responseJson.isEmpty) ? User.fromJson(responseJson).name : &quot;&quot;;\n  var email = (responseJson != null &amp;&amp; !responseJson.isEmpty) ? User.fromJson(responseJson).email : &quot;&quot;;\n  var mobile = (responseJson != null &amp;&amp; !responseJson.isEmpty) ? User.fromJson(responseJson).mobile : &quot;&quot;;\n  var active = (responseJson != null &amp;&amp; !responseJson.isEmpty) ? User.fromJson(responseJson).active : 0;\n  var confirmation_code = (responseJson != null &amp;&amp; !responseJson.isEmpty) ? User.fromJson(responseJson).confirmation_code : &quot;&quot;;\n  var confirmed = (responseJson != null &amp;&amp; !responseJson.isEmpty) ? User.fromJson(responseJson).confirmed : 0;\n\n  await preferences.setString('token', (token != null &amp;&amp; token.length &gt; 0) ? token : &quot;&quot;);\n\n  await preferences.setInt('id', (id != null &amp;&amp; id &gt; 0) ? id : 0);\n  await preferences.setString('name', (name != null &amp;&amp; name.length &gt; 0) ? name : &quot;&quot;); \n  await preferences.setString('email', (email != null &amp;&amp; email.length &gt; 0) ? email : &quot;&quot;); \n  await preferences.setString('mobile', (mobile != null &amp;&amp; mobile.length &gt; 0) ? mobile : &quot;&quot;); \n  await preferences.setInt('active', (active != null &amp;&amp; active &gt; 0) ? active : 0);\n  await preferences.setString('confirmation_code', (confirmation_code != null &amp;&amp; confirmation_code.length &gt; 0) ? confirmation_code : &quot;&quot;); \n  await preferences.setInt('confirmed', (confirmed != null &amp;&amp; confirmed &gt; 0) ? confirmed : 0);\n  \n\n}\n</code></pre>\n<p>this is get token function code</p>\n<pre><code>import 'package:shared_preferences/shared_preferences.dart';\n\ngetToken() async {\n  SharedPreferences preferences = await SharedPreferences.getInstance();\n\n  String getToken = await preferences.getString(&quot;token&quot;);\n  return getToken;\n}\n</code></pre>\n<p>this is the new login model</p>\n<pre><code>class Login {\n  final String login;\n  final String password;\n\n\n  Login(this.login, this.password);\n\n  Login.fromJson(Map&lt;String, dynamic&gt; json)\n      : login = json['login'],\n        password = json['password'];\n\n\n}\n</code></pre>\n<p>this is auth response model</p>\n<pre><code>import './User.dart';\n\nclass AuthResponse {\n  final String token;\n  User user;\n\n  AuthResponse({\n    this.token,\n    this.user,\n  });\n\nfactory AuthResponse.fromJson(Map&lt;String, dynamic&gt; parsedJson){\n  return AuthResponse(\n    token: parsedJson['token'],\n    user: User.fromJson(parsedJson['user'])\n  );\n}\n  \n\n  Map&lt;String, dynamic&gt; toJson() =&gt; {\n        'token': token,\n        'user':user,\n      };\n}\n</code></pre>\n<p>this is my User model</p>\n<pre><code>class User {\n  final int id;\n  final String name;\n  final String email;\n  final String mobile;\n  final int active;\n  final String confirmation_code;\n  final int confirmed;\n\n  User({\n    this.id,\n    this.name,\n    this.email,\n    this.mobile,\n    this.active,\n    this.confirmation_code,\n    this.confirmed,\n  });\n\n  factory User.fromJson(Map&lt;String, dynamic&gt; json) {\n    return User(\n      id: json['id'],\n      name: json['name'],\n      email: json['email'],\n      mobile: json['mobile'],\n      active: json['active'],\n      confirmation_code: json['confirmation_code'],\n      confirmed: json['confirmed'],\n    );\n  }\n\n  Map&lt;String, dynamic&gt; toJson() =&gt; {\n        'id': id,\n        'name': name,\n        'email':email,\n        'mobile':mobile,\n        'active':active,\n        'confirmation_code':confirmation_code,\n        'confirmed':confirmed,\n      };\n}\n</code></pre>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 820, "user_id": 4884119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10202965102887716/picture?type=large", "display_name": "AchmadJP", "link": "https://stackoverflow.com/users/4884119/achmadjp"}, "edited": false, "score": 0, "creation_date": 1553392585, "post_id": 55319893, "comment_id": 97367057, "body": "<code>setState</code> shouldn&#39;t be called inside FutureBuilder as I try it, because it will cause infinite loop of builder hence the error. I&#39;m not yet find the solution for this problem"}], "tags": [], "owner": {"reputation": 543, "user_id": 4795034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d8sFa.jpg?s=128&g=1", "display_name": "C-Spydo", "link": "https://stackoverflow.com/users/4795034/c-spydo"}, "is_accepted": false, "score": 0, "last_activity_date": 1553390080, "creation_date": 1553390080, "answer_id": 55319893, "question_id": 55319650, "link": "https://stackoverflow.com/questions/55319650/how-to-update-other-widget-after-future-builder-get-data/55319893#55319893", "title": "How to update other widget after future builder get data", "body": "<p>Call setState inside the _loadDB() function instead. So, before the _loadDB() function hands over to Widget Build, It would have set the data you want. </p>\n"}], "owner": {"reputation": 820, "user_id": 4884119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10202965102887716/picture?type=large", "display_name": "AchmadJP", "link": "https://stackoverflow.com/users/4884119/achmadjp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 212, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553390080, "creation_date": 1553387224, "question_id": 55319650, "link": "https://stackoverflow.com/questions/55319650/how-to-update-other-widget-after-future-builder-get-data", "title": "How to update other widget after future builder get data", "body": "<p>I want to update the header widget after the future builder bellow it gets data from DB. </p>\n\n<p>Consider this simplified code</p>\n\n<pre><code>Column (\n children: [\n  Text('Data is loading'), // I want to changed it into `Data is loaded`\n  FutureBuilder(\n   builder: (BuildContext context, AsyncSnapshot snapshot) {\n    if (snapshot.data == null) {\n     return Center(\n      child: CircularProgressIndicator(),\n     );\n    }\n    if (!isCacheInitialized) {\n     _loadDB(); // get data from db\n     isCacheInitialized = true;\n    }\n    return ListView.builder\n   },\n   future: storage.ready,\n  )\n ]\n)\n</code></pre>\n\n<p>What I already tried but failed</p>\n\n<ul>\n<li>Call <code>setState</code> after <code>_loadDB</code></li>\n</ul>\n\n<p>result in error </p>\n\n<blockquote>\n  <p>setState() called during build.</p>\n</blockquote>\n\n<p>So how to change the text <code>Data is loading</code> into <code>Data is loaded</code> after <code>FutureBuilder</code> gets the data?</p>\n"}, {"tags": ["dart", "flutter", "widget"], "comments": [{"owner": {"reputation": 1225, "user_id": 603749, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/11377bf3d7fcf165c2f8ee2b82d59d65?s=128&d=identicon&r=PG", "display_name": "user603749", "link": "https://stackoverflow.com/users/603749/user603749"}, "edited": false, "score": 0, "creation_date": 1553386127, "post_id": 55319526, "comment_id": 97366038, "body": "Ok, I thought to copy the AppBar appBar=AppBar(...) as a method inside the class. Hot reload works. So I will assume functions outside a class do not hot reload?"}], "answers": [{"tags": [], "owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "is_accepted": true, "score": 1, "last_activity_date": 1553387091, "creation_date": 1553387091, "answer_id": 55319636, "question_id": 55319526, "link": "https://stackoverflow.com/questions/55319526/flutter-dart-referencing-function-vs-inline-execution-with-widgets/55319636#55319636", "title": "Flutter / Dart referencing function vs inline execution with Widgets", "body": "<p>This happens because Flutter's hot-reload is \"stateful\". It preserves the state of all variables \u2013 including the variable you defined.</p>\n\n<p>As such, while you can change the sources of a variable, it will keep its previous state.</p>\n\n<p>In any cases, you shouldn't extract widgets as global variables \u2013 but instead, extract them as <em>StatelessWidget</em> and use <code>const</code> constructor.</p>\n\n<p>This has the same performances benefits while being compatible with hot-reload.</p>\n\n<pre><code>class MyAppBar extends StatelessWidget implements PreferredSizeWidget {\n  const MyAppBar({Key key}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return AppBar(\n      title: const Text('App title'),\n    );\n  }\n\n  @override\n  Size get preferredSize =&gt; const Size.fromHeight(kToolbarHeight);\n}\n</code></pre>\n"}], "owner": {"reputation": 1225, "user_id": 603749, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/11377bf3d7fcf165c2f8ee2b82d59d65?s=128&d=identicon&r=PG", "display_name": "user603749", "link": "https://stackoverflow.com/users/603749/user603749"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 416, "favorite_count": 0, "accepted_answer_id": 55319636, "answer_count": 1, "score": 1, "last_activity_date": 1553387091, "creation_date": 1553385743, "question_id": 55319526, "link": "https://stackoverflow.com/questions/55319526/flutter-dart-referencing-function-vs-inline-execution-with-widgets", "title": "Flutter / Dart referencing function vs inline execution with Widgets", "body": "<p>I am trying to understand why the Flutter / Dart HotReload does not work if I reference the <code>appBar:</code> widget as opposed to defining the code inline. Why?</p>\n\n<p>Here is the sample code:</p>\n\n<pre><code>class AppBarWidget extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold( \n      appBar: appBar, \n    );\n  }\n}\n\nAppBar appBar = AppBar(\n  title: new Text(\"App Title\"),\n);\n</code></pre>\n\n<p>Notice <code>appBar: appBar</code> is a reference to the <code>AppBar(...)</code> widget definition.\nIn this case, if I change the <code>title:</code> property text, it <em>will not</em> hot reload even though both IDE (VSCode or AStudio) says it reloads. I need to rebuild to make it work.</p>\n\n<p>But if I move the <code>AppBar(...)</code> widget definition into <code>appBar: AppBar(...)</code> and change the title, it Hot Reloads.</p>\n"}]