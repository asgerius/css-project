[{"tags": ["angularjs", "dart", "angular-material"], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 3, "last_activity_date": 1424792970, "last_edit_date": 1424792970, "creation_date": 1423112583, "answer_id": 28336557, "question_id": 28332997, "link": "https://stackoverflow.com/questions/28332997/is-angular-material-design-usable-with-dart/28336557#28336557", "title": "Is Angular material design usable with Dart?", "body": "<p>You can't use Angular.js components/directives in Angular.dart. There was an attempt started very recently to port it to Dart <a href=\"https://github.com/akserg/angular.dart.material/blob/master/README.md\" rel=\"nofollow\">https://github.com/akserg/angular.dart.material/blob/master/README.md</a></p>\n"}], "owner": {"reputation": 31, "user_id": 3861368, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dfKuc.jpg?s=128&g=1", "display_name": "Estebanhiguita", "link": "https://stackoverflow.com/users/3861368/estebanhiguita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 549, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1424792970, "creation_date": 1423089831, "last_edit_date": 1424792901, "question_id": 28332997, "link": "https://stackoverflow.com/questions/28332997/is-angular-material-design-usable-with-dart", "title": "Is Angular material design usable with Dart?", "body": "<p>Is <a href=\"https://material.angularjs.org/#/\" rel=\"nofollow\">Angular material design</a> usable with Dart?</p>\n"}, {"tags": ["dart"], "answers": [{"comments": [{"owner": {"reputation": 1854, "user_id": 858061, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/e4oUG.jpg?s=128&g=1", "display_name": "Michael Fenwick", "link": "https://stackoverflow.com/users/858061/michael-fenwick"}, "edited": false, "score": 0, "creation_date": 1423080447, "post_id": 28330239, "comment_id": 45008071, "body": "I was looking at changing <code>Directory.current</code> but that seemed like it might cause a number of other problems for other files in my application. But even if I do that, what would I set it to? Is there anything I could set that would work when the code is run on different systems (multiple developer&#39;s machines and production server)? Or would this essentially be the same as using absolute paths?"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 1854, "user_id": 858061, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/e4oUG.jpg?s=128&g=1", "display_name": "Michael Fenwick", "link": "https://stackoverflow.com/users/858061/michael-fenwick"}, "edited": false, "score": 0, "creation_date": 1423080658, "post_id": 28330239, "comment_id": 45008200, "body": "I would try to ensure the package root directory to be the current directory first thing in main and align all file access accordingly."}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1423080177, "last_edit_date": 1423080177, "creation_date": 1423079663, "answer_id": 28330239, "question_id": 28330139, "link": "https://stackoverflow.com/questions/28330139/create-a-file-relative-path-for-secure-server-certificate/28330239#28330239", "title": "Create a file relative path for secure server certificate", "body": "<p>I don't think there is a way to define the path so it is relative to the source file.<br>\nWhat you can do is to change the current working directory either before you run <code>main()</code> or pass a working directory path as argument to <code>main()</code>  and let <code>main()</code> make this directory the current working directory. </p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>Directory.current = someDirectory;\n</code></pre>\n"}], "owner": {"reputation": 1854, "user_id": 858061, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/e4oUG.jpg?s=128&g=1", "display_name": "Michael Fenwick", "link": "https://stackoverflow.com/users/858061/michael-fenwick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 28330239, "answer_count": 1, "score": 1, "last_activity_date": 1423080177, "creation_date": 1423079328, "question_id": 28330139, "link": "https://stackoverflow.com/questions/28330139/create-a-file-relative-path-for-secure-server-certificate", "title": "Create a file relative path for secure server certificate", "body": "<p>I'm working on a Dart HttpServer using SSL, which looks something like this:</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>class Server {\n  //The path for the database is relative to the code's entry point (main.dart)\n  static const String CERTIFICATE_DB_PATH = '../lib/server/';\n  static const String CERTIFICATE_DB_PASS = '*******';\n  static const String CERTIFICATE_NAME = 'CN=mycert';\n\n  Future start() async {\n    SecureSocket.initialize(database: CERTIFICATE_DB_PATH, password: CERTIFICATE_DB_PASS);\n    httpServer = await HttpServer.bindSecure(ADDRESS, PORT, certificateName: CERTIFICATE_NAME);\n    listenSubscription = httpServer.listen(onRequest, onError: onError);\n  }\n\n  //more server code here\n}\n</code></pre>\n\n<p>This all works exactly as expected, so no problems with the actual certificate or server code. The part that I'm having problems with is mentioned in that first comment. The <code>CERTIFICATE_DB_PATH</code> seems to be relative not to the file the <code>Server</code> class is defined in, but rather to the file that contains the <code>main()</code> method. This means that when I try to write a unit test for this class, the path is no longer pointing to the correct directory. If this were an import, I'd use the <code>package:packageName/path/to/cert</code> syntax, but it doesn't seem that applies here. How can I specify the path of the certificate in a way that will work with multiple entry points (actually running the server vs unit tests)?</p>\n"}, {"tags": ["dart", "dart-polymer", "observable"], "comments": [{"owner": {"reputation": 55, "user_id": 4529210, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/81ace453a74d083ebf6a73cf90488227?s=128&d=identicon&r=PG&f=1", "display_name": "andrey_ustinov", "link": "https://stackoverflow.com/users/4529210/andrey-ustinov"}, "edited": false, "score": 0, "creation_date": 1423075842, "post_id": 28329048, "comment_id": 45005615, "body": "No, I have not main() here, but I tryed     void main() {       initPolymer();     }"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1423076005, "post_id": 28329048, "comment_id": 45005699, "body": "I saw the script tag in <code>index.html</code> after I posted my comment which made it clear already."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 4529210, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/81ace453a74d083ebf6a73cf90488227?s=128&d=identicon&r=PG&f=1", "display_name": "andrey_ustinov", "link": "https://stackoverflow.com/users/4529210/andrey-ustinov"}, "edited": false, "score": 0, "creation_date": 1423076636, "post_id": 28329132, "comment_id": 45006044, "body": "Should I do it in main() of index.dart or somewhere in parent-element?"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 55, "user_id": 4529210, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/81ace453a74d083ebf6a73cf90488227?s=128&d=identicon&r=PG&f=1", "display_name": "andrey_ustinov", "link": "https://stackoverflow.com/users/4529210/andrey-ustinov"}, "edited": false, "score": 0, "creation_date": 1423076767, "post_id": 28329132, "comment_id": 45006100, "body": "No, it&#39;s better to avoid <code>main()</code> at all (too easy to get explicit initialization wrong). See <a href=\"https://www.polymer-project.org/docs/polymer/polymer.html#lifecyclemethods\" rel=\"nofollow noreferrer\">polymer-project.org/docs/polymer/polymer.html#lifecyclemetho&zwnj;&#8203;ds</a>"}, {"owner": {"reputation": 55, "user_id": 4529210, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/81ace453a74d083ebf6a73cf90488227?s=128&d=identicon&r=PG&f=1", "display_name": "andrey_ustinov", "link": "https://stackoverflow.com/users/4529210/andrey-ustinov"}, "edited": false, "score": 0, "creation_date": 1423079462, "post_id": 28329132, "comment_id": 45007536, "body": "G&#252;nter, could you explain, is it possible to use together <code>&lt;script&gt;   Polymer(&#39;parent-element&#39;, {     ready: function() {       console.log(&#39;parent-element is ready!&#39;);     }   }); &lt;&#47;script&gt;</code>  and   <code>&lt;script type=&quot;application&#47;dart&quot; src=&quot;parent-element.dart&quot;&gt;&lt;&#47;script&gt;</code>  In runtime I have &quot;uncaught exception: Already registered (Polymer) prototype for element parent-element&quot;"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 55, "user_id": 4529210, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/81ace453a74d083ebf6a73cf90488227?s=128&d=identicon&r=PG&f=1", "display_name": "andrey_ustinov", "link": "https://stackoverflow.com/users/4529210/andrey-ustinov"}, "edited": false, "score": 0, "creation_date": 1423079933, "post_id": 28329132, "comment_id": 45007759, "body": "You added JavaScript code (the link I posted is for <code>Polymer.js</code> not <code>Polymer.dart</code>). I tried to find documentation for <code>Polymer.dart</code> but got distracted. The more important part is the information when these methods are called and this is the same for <code>Polymer.dart</code> and <code>Polymer.js</code>. Just add a method <code>ready() { ... }</code> and add your code here. Some methods (<code>attached</code>/<code>detached</code>) override methods of the base class and here it is important to add a call to the super implementation (@override attached() {super.attached(); ...}` but <code>ready()</code> doesn&#39;t as far as I know."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 55, "user_id": 4529210, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/81ace453a74d083ebf6a73cf90488227?s=128&d=identicon&r=PG&f=1", "display_name": "andrey_ustinov", "link": "https://stackoverflow.com/users/4529210/andrey-ustinov"}, "edited": false, "score": 0, "creation_date": 1423080080, "post_id": 28329132, "comment_id": 45007847, "body": "<code>ready</code> also overrides a method from the base class <code>PolymerElement</code> but it has no implementation there so it doesn&#39;t matter if you call <code>super.ready();</code> or not <a href=\"http://stackoverflow.com/questions/22122280/polymer-selector-doesnt-fire-tab-selection-change-when-selected-tab-is-initiali\" title=\"polymer selector doesnt fire tab selection change when selected tab is initiali\">stackoverflow.com/questions/22122280/&hellip;</a>"}, {"owner": {"reputation": 55, "user_id": 4529210, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/81ace453a74d083ebf6a73cf90488227?s=128&d=identicon&r=PG&f=1", "display_name": "andrey_ustinov", "link": "https://stackoverflow.com/users/4529210/andrey-ustinov"}, "edited": false, "score": 0, "creation_date": 1423081131, "post_id": 28329132, "comment_id": 45008476, "body": "Thank you for the remark about <code>ready()</code>, I have moved the code from constructors (parent-element and child-element). Unfortunately the effect still exists in Safari."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 55, "user_id": 4529210, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/81ace453a74d083ebf6a73cf90488227?s=128&d=identicon&r=PG&f=1", "display_name": "andrey_ustinov", "link": "https://stackoverflow.com/users/4529210/andrey-ustinov"}, "edited": false, "score": 0, "creation_date": 1423081281, "post_id": 28329132, "comment_id": 45008550, "body": "What Dart and Polymer version are you using?"}, {"owner": {"reputation": 55, "user_id": 4529210, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/81ace453a74d083ebf6a73cf90488227?s=128&d=identicon&r=PG&f=1", "display_name": "andrey_ustinov", "link": "https://stackoverflow.com/users/4529210/andrey-ustinov"}, "edited": false, "score": 0, "creation_date": 1423081421, "post_id": 28329132, "comment_id": 45008616, "body": "Dart 1.8.5; Polymer: &quot;&gt;=0.15.0 &lt;0.16.0&quot; (from pubspec.yaml)"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 55, "user_id": 4529210, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/81ace453a74d083ebf6a73cf90488227?s=128&d=identicon&r=PG&f=1", "display_name": "andrey_ustinov", "link": "https://stackoverflow.com/users/4529210/andrey-ustinov"}, "edited": false, "score": 0, "creation_date": 1423081739, "post_id": 28329132, "comment_id": 45008772, "body": "I guess you should create a bug report at <a href=\"http://dartbug.com/new\" rel=\"nofollow noreferrer\">dartbug.com/new</a> I don&#39;t have Safari available"}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 2, "last_activity_date": 1423076472, "last_edit_date": 1423076472, "creation_date": 1423075931, "answer_id": 28329132, "question_id": 28329048, "link": "https://stackoverflow.com/questions/28329048/cannot-observe-properties-of-nested-elements-in-safari-8-0-ipad-ios-8-1-3-in/28329132#28329132", "title": "Cannot observe properties of nested elements in Safari 8.0 (iPad, iOS 8.1.3) in Polymer.dart", "body": "<p>You should avoid accessing the DOM in the element constructor</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>childElement = (shadowRoot.querySelector('#login-box') as ChildElement);\n</code></pre>\n\n<p>This code should be moved to one of the lifecycle methods like <code>ready</code> (the same for your commented out code in your <code>child-element</code>).</p>\n\n<p>I have no idea if this actually solves your problem but this is the only part of your question which doesn't seem right.</p>\n"}, {"tags": [], "owner": {"reputation": 55, "user_id": 4529210, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/81ace453a74d083ebf6a73cf90488227?s=128&d=identicon&r=PG&f=1", "display_name": "andrey_ustinov", "link": "https://stackoverflow.com/users/4529210/andrey-ustinov"}, "is_accepted": true, "score": 1, "last_activity_date": 1423131998, "last_edit_date": 1423131998, "creation_date": 1423083937, "answer_id": 28331431, "question_id": 28329048, "link": "https://stackoverflow.com/questions/28329048/cannot-observe-properties-of-nested-elements-in-safari-8-0-ipad-ios-8-1-3-in/28331431#28331431", "title": "Cannot observe properties of nested elements in Safari 8.0 (iPad, iOS 8.1.3) in Polymer.dart", "body": "<p>I've created a bug report <a href=\"https://code.google.com/p/dart/issues/detail?id=22275\" rel=\"nofollow\">https://code.google.com/p/dart/issues/detail?id=22275</a> along with test sample.</p>\n\n<p>UPD: This effect is due presence of affirmative or dismissive attributes on paper-button in <strong>paper-action-dialog</strong>.\nWithout them the parent-element observes change of the property in the child-element. \nI've replaced the <strong>paper-action-dialog</strong> to <strong>paper-dialog</strong> and it works on Safari.</p>\n"}], "owner": {"reputation": 55, "user_id": 4529210, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/81ace453a74d083ebf6a73cf90488227?s=128&d=identicon&r=PG&f=1", "display_name": "andrey_ustinov", "link": "https://stackoverflow.com/users/4529210/andrey-ustinov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 0, "accepted_answer_id": 28331431, "answer_count": 2, "score": 2, "last_activity_date": 1423131998, "creation_date": 1423075612, "last_edit_date": 1423075781, "question_id": 28329048, "link": "https://stackoverflow.com/questions/28329048/cannot-observe-properties-of-nested-elements-in-safari-8-0-ipad-ios-8-1-3-in", "title": "Cannot observe properties of nested elements in Safari 8.0 (iPad, iOS 8.1.3) in Polymer.dart", "body": "<p>I'm trying to observe a property change from nested Dart PolymerElements.\nIt works in Firefox, Chrome, <strong>but not in Safari 8.0 on iPad (iOS 8.1.3)</strong>:</p>\n\n<p><strong>index.html</strong> file:</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n&lt;head&gt;\n  &lt;title&gt;Test&lt;/title&gt;\n  &lt;meta charset=\"utf-8\"&gt;\n  &lt;meta name=\"viewport\" content=\"width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes\"&gt;\n  &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\"&gt;\n  &lt;meta name=\"apple-mobile-web-app-capable\" content=\"yes\"&gt;\n  &lt;meta name=\"mobile-web-app-capable\" content=\"yes\"&gt;\n  &lt;link rel=\"import\" href=\"parent_element.html\"&gt;\n&lt;/head&gt;\n&lt;body unresolved fullbleed&gt;\n\n  &lt;parent-element&gt;&lt;/parent-element&gt;\n\n  &lt;script type=\"application/dart\"&gt;export 'package:polymer/init.dart';&lt;/script&gt;\n  &lt;script src=\"packages/browser/dart.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>parent_element.html</strong> file:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>&lt;link rel=\"import\" href=\"packages/polymer/polymer.html\"&gt;\n&lt;link rel=\"import\" href=\"packages/core_elements/core_header_panel.html\"&gt;\n&lt;link rel=\"import\" href=\"packages/core_elements/core_toolbar.html\"&gt;\n&lt;link rel=\"import\" href=\"packages/paper_elements/paper_icon_button.html\"&gt;\n&lt;link rel=\"import\" href=\"packages/paper_elements/paper_button.html\"&gt;\n&lt;link rel=\"import\" href=\"child-element.html\"&gt;\n\n&lt;polymer-element name=\"parent-element\"&gt;\n  &lt;template&gt;\n    &lt;style&gt;\n      :host, core-header-panel {\n        height: 100%;\n      }\n    &lt;/style&gt;\n    &lt;core-header-panel mode=\"waterfall\" flex&gt;\n      &lt;core-toolbar class=\"small\"&gt;\n        &lt;div&gt;Observed value in parent is {{logged}}&lt;/div&gt;\n        &lt;span flex&gt;&lt;/span&gt;\n        &lt;div id=\"message\"&gt;&lt;/div&gt;\n\n        &lt;child-element id=\"login-box\" logged=\"{{logged}}\"&gt;&lt;/child-element&gt;\n        &lt;paper-button on-click=\"{{doLogin}}\" raised hidden?=\"{{logged}}\"&gt;Login&lt;/paper-button&gt;\n        &lt;paper-button on-click=\"{{doLogout}}\" raised hidden?=\"{{!logged}}\"&gt;Logout&lt;/paper-button&gt;\n\n      &lt;/core-toolbar&gt;\n    &lt;/core-header-panel&gt;\n  &lt;/template&gt;\n  &lt;script type=\"application/dart\" src=\"parent-element.dart\"&gt;&lt;/script&gt;\n&lt;/polymer-element&gt;\n</code></pre>\n\n<p><strong>parent-element.dart</strong> file:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>@CustomTag('parent-element')\nclass ParentElement extends PolymerElement {\n\n  ChildElement childElement;\n\n  @observable bool logged = false;\n\n  ParentElement.created() : super.created() {\n    //while(children.length &gt; 0) {\n    //  shadowRoot.append(children[0]);\n    //}\n    childElement = (shadowRoot.querySelector('#login-box') as ChildElement);\n  }\n\n  void loggedChanged() {\n    print('loggedChanged: $logged');\n  }\n\n  void doLogin(Event e, var details, Node node) {\n    childElement.doLogin();\n  }\n\n  void doLogout(Event e, var details, Node node) {\n    childElement.doLogout();\n  }\n}\n</code></pre>\n\n<p><strong>child-element.html</strong> file:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>&lt;link rel=\"import\" href=\"packages/polymer/polymer.html\"&gt;\n...\n&lt;polymer-element name=\"child-element\"&gt;\n  &lt;template&gt;\n    &lt;style&gt;\n    &lt;/style&gt;\n\n    &lt;paper-action-dialog id=\"login-dialog\" heading=\"Login to..\" transition=\"core-transition-center\" backdrop=\"\" layered=\"true\"&gt;\n      &lt;p&gt;Observed value in child is ({{ logged }})&lt;/p&gt;\n      &lt;paper-button affirmative&gt;Cancel&lt;/paper-button&gt;\n      &lt;paper-button id=\"login-button\" affirmative autofocus &gt;Join&lt;/paper-button&gt;\n    &lt;/paper-action-dialog&gt;\n\n  &lt;/template&gt;\n  &lt;script type=\"application/dart\" src=\"child-element.dart\"&gt;&lt;/script&gt;\n&lt;/polymer-element&gt;\n</code></pre>\n\n<p><strong>child-element.dart</strong> file:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>@CustomTag('child-element')\nclass ChildElement extends PolymerElement {\n  bool _loginListen = false;\n  @published bool logged;\n\n  ChildElement.created() : super.created() {\n    // I can't set onClick listen here because login-button doesn't exists yet. Why?\n    //var loginBtn = ($['login-button'] as PaperButton); ==&gt; null\n    //var loginBtn1 = (querySelector('#login-button') as PaperButton); ==&gt; null\n  }\n\n  void doLogin() {\n    if (!_loginListen) {\n      PaperButton button = (shadowRoot.querySelector('#login-button') as PaperButton);\n      button.onClick.listen((Event e) {\n        _login(e);\n      });\n      _loginListen = true;\n    }\n\n    PaperDialogBase dialog = (shadowRoot.querySelector('#login-dialog') as PaperDialogBase);\n    dialog.toggle();\n  }\n\n  void _login(Event event) {\n    print('Login...');\n    logged = true;\n  }\n\n  void doLogout() {\n    print('Logout...');\n    logged = false;\n  }\n\n}\n</code></pre>\n\n<p><strong>pubspec.yaml</strong> file:</p>\n\n<pre class=\"lang-yml prettyprint-override\"><code>name: test\nversion: 0.0.1\ndescription: Test of observers\ndependencies:\n  paper_elements: 0.6.1\n  polymer: \"&gt;=0.15.0 &lt;0.16.0\"\n  browser: 0.10.0\ntransformers:\n- polymer:\n    entry_points: web/index.html\n</code></pre>\n\n<p>When I click the button \"JOIN\" (in child-element), it triggers \"loggedChanged\" (in parent-element) and change text \"Observed value in parent\" (<strong>but not in Safari on iPad</strong>).</p>\n\n<p>Please advise how to fix it. Thanks a lot.</p>\n\n<p>p.s. I tryed to use \"dataobject\" instead of \"bool logged\":</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class DataObject extends Observable {\n  @observable bool logged = false;\n}\n</code></pre>\n\n<p>but I got the same effect.</p>\n"}, {"tags": ["python", "google-app-engine", "dart", "dart-pub"], "answers": [{"tags": [], "owner": {"reputation": 471, "user_id": 4124429, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/1bz11.jpg?s=128&g=1", "display_name": "BenNG", "link": "https://stackoverflow.com/users/4124429/benng"}, "is_accepted": false, "score": 0, "last_activity_date": 1423037936, "creation_date": 1423037936, "answer_id": 28316593, "question_id": 28310311, "link": "https://stackoverflow.com/questions/28310311/how-to-publish-on-private-pub-server/28316593#28316593", "title": "How to publish on private pub server?", "body": "<p>It is a well known <a href=\"https://code.google.com/p/googleappengine/issues/detail?id=10114\" rel=\"nofollow\">bug</a>\nI solved the problem by fixing ports at the same value <a href=\"https://bitbucket.org/BenNG/pub_server_private/commits/e7a9b9d02ae597d7cbac7cf90b074bc94013ff6b\" rel=\"nofollow\">check this out here</a></p>\n"}], "owner": {"reputation": 471, "user_id": 4124429, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/1bz11.jpg?s=128&g=1", "display_name": "BenNG", "link": "https://stackoverflow.com/users/4124429/benng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 253, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1423037936, "creation_date": 1423003957, "question_id": 28310311, "link": "https://stackoverflow.com/questions/28310311/how-to-publish-on-private-pub-server", "title": "How to publish on private pub server?", "body": "<p>I'm setting up a private pub server in the docker container (<a href=\"https://bitbucket.org/BenNG/pub_server_private\" rel=\"nofollow\">here</a>)<br>\nI start the server with <code>./start.sh</code> and I can see the packages thanks to the UI here: <a href=\"http://0.0.0.0:30000\" rel=\"nofollow\">http://0.0.0.0:30000</a><br>\nNow that my server is ready I want to publish a package inside with: <code>pub publish --server http://0.0.0.0:8080</code><br>\nfrom the command line everything seems correct <code>my_core 0.0.1 uploaded successfully but when I check the logs on the server with</code>./log.sh`\nI saw that there are some error logs:<br>\n(something related to the address 0.0.0.0:30000)<br>\nAny advices ?<br>\nCheers</p>\n\n<p><code>\nTraceback (most recent call last):\n  File \"/home/app/google_appengine/google/appengine/api/taskqueue/taskqueue_stub.py\", line 1887, in ExecuteTask\n    '0.1.0.2')\n  File \"/home/app/google_appengine/google/appengine/tools/devappserver2/dispatcher.py\", line 620, in add_request\n    headers_dict['Host'], urlparse.urlsplit(relative_url).path)\n  File \"/home/app/google_appengine/google/appengine/tools/devappserver2/dispatcher.py\", line 690, in _resolve_target\n    raise request_info.ModuleDoesNotExistError(hostname)\nModuleDoesNotExistError: 0.0.0.0:30000\nERROR    2015-02-03 22:37:24,645 taskqueue_stub.py:1962] An error occured while sending the task \"task2\" (Url: \"/_ah/queue/deferred\") in queue \"default\". Treating as a task error.\nWARNING  2015-02-03 22:37:24,646 taskqueue_stub.py:1977] Task task2 failed to execute. This task will retry in 0.100 seconds\nINFO     2015-02-03 22:37:24,653 module.py:718] default: \"GET /api/packages/versions/2c67df44-6af2-4a52-a632-6c4d35147146/create HTTP/1.1\" 200 68\nERROR    2015-02-03 22:37:24,746 taskqueue_stub.py:1889] Failed to dispatch task\nTraceback (most recent call last):\n  File \"/home/app/google_appengine/google/appengine/api/taskqueue/taskqueue_stub.py\", line 1887, in ExecuteTask\n    '0.1.0.2')\n  File \"/home/app/google_appengine/google/appengine/tools/devappserver2/dispatcher.py\", line 620, in add_request\n    headers_dict['Host'], urlparse.urlsplit(relative_url).path)\n  File \"/home/app/google_appengine/google/appengine/tools/devappserver2/dispatcher.py\", line 690, in _resolve_target\n    raise request_info.ModuleDoesNotExistError(hostname)\nModuleDoesNotExistError: 0.0.0.0:30000\nERROR    2015-02-03 22:37:24,746 taskqueue_stub.py:1962] An error occured while sending the task \"task2\" (Url: \"/_ah/queue/deferred\") in queue \"default\". Treating as a task error.\nWARNING  2015-02-03 22:37:24,747 taskqueue_stub.py:1977] Task task2 failed to execute. This task will retry in 0.200 seconds\nERROR    2015-02-03 22:37:24,947 taskqueue_stub.py:1889] Failed to dispatch task\nTraceback (most recent call last):\n  File \"/home/app/google_appengine/google/appengine/api/taskqueue/taskqueue_stub.py\", line 1887, in ExecuteTask\n    '0.1.0.2')\n  File \"/home/app/google_appengine/google/appengine/tools/devappserver2/dispatcher.py\", line 620, in add_request\n    headers_dict['Host'], urlparse.urlsplit(relative_url).path)\n  File \"/home/app/google_appengine/google/appengine/tools/devappserver2/dispatcher.py\", line 690, in _resolve_target\n    raise request_info.ModuleDoesNotExistError(hostname)\nModuleDoesNotExistError: 0.0.0.0:30000\nERROR    2015-02-03 22:37:24,948 taskqueue_stub.py:1962] An error occured while sending the task \"task2\" (Url: \"/_ah/queue/deferred\") in queue \"default\". Treating as a task error.\nWARNING  2015-02-03 22:37:24,948 taskqueue_stub.py:1977] Task task2 failed to execute. This task will retry in 0.400 seconds\nERROR    2015-02-03 22:37:25,349 taskqueue_stub.py:1889] Failed to dispatch task\nTraceback (most recent call last):\n  File \"/home/app/google_appengine/google/appengine/api/taskqueue/taskqueue_stub.py\", line 1887, in ExecuteTask\n    '0.1.0.2')\n  File \"/home/app/google_appengine/google/appengine/tools/devappserver2/dispatcher.py\", line 620, in add_request\n    headers_dict['Host'], urlparse.urlsplit(relative_url).path)\n  File \"/home/app/google_appengine/google/appengine/tools/devappserver2/dispatcher.py\", line 690, in _resolve_target\n    raise request_info.ModuleDoesNotExistError(hostname)\nModuleDoesNotExistError: 0.0.0.0:30000\nERROR    2015-02-03 22:37:25,349 taskqueue_stub.py:1962] An error occured while sending the task \"task2\" (Url: \"/_ah/queue/deferred\") in queue \"default\". Treating as a task error.\nWARNING  2015-02-03 22:37:25,349 taskqueue_stub.py:1977] Task task2 failed to execute. This task will retry in 0.800 seconds\nERROR    2015-02-03 22:37:26,150 taskqueue_stub.py:1889] Failed to dispatch task\nTraceback (most recent call last):\n  File \"/home/app/google_ap\n</code></p>\n"}, {"tags": ["dart", "cors", "dart-html"], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 4520139, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/50zBC.png?s=128&g=1", "display_name": "Thomas Frick", "link": "https://stackoverflow.com/users/4520139/thomas-frick"}, "edited": false, "score": 0, "creation_date": 1422991696, "post_id": 28303343, "comment_id": 44965081, "body": "Thank you! You were right, the OPTIONS request is made by the browser. To enable the preflight request, i&#39;ve needed to create a new SecurityHandler for the Jetty Server. As example See <a href=\"https://code.launchpad.net/~nwilliams/akiban-server/cors-preflight-no-auth/+merge/161690\" rel=\"nofollow noreferrer\">link</a>"}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 2, "last_activity_date": 1500117084, "last_edit_date": 1500117084, "creation_date": 1422979263, "answer_id": 28303343, "question_id": 28303249, "link": "https://stackoverflow.com/questions/28303249/dart-httprequest-does-not-provide-authorization-header-for-cors-options-request/28303343#28303343", "title": "DART HttpRequest does not provide authorization header for CORS OPTIONS request", "body": "<p>The <code>OPTIONS</code> request is made by the browser automatically and you can't modify that request. The server needs to allow the <code>OPTIONS</code> preflight request without authentication.</p>\n\n<p>See <a href=\"http://www.w3.org/TR/cors/#cross-origin-request-with-preflight-0\" rel=\"nofollow noreferrer\">http://www.w3.org/TR/cors/#cross-origin-request-with-preflight-0</a>\nThe user credentials are excluded.</p>\n"}], "owner": {"reputation": 179, "user_id": 4520139, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/50zBC.png?s=128&g=1", "display_name": "Thomas Frick", "link": "https://stackoverflow.com/users/4520139/thomas-frick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1390, "favorite_count": 1, "accepted_answer_id": 28303343, "answer_count": 1, "score": 2, "last_activity_date": 1500117084, "creation_date": 1422978999, "last_edit_date": 1422979430, "question_id": 28303249, "link": "https://stackoverflow.com/questions/28303249/dart-httprequest-does-not-provide-authorization-header-for-cors-options-request", "title": "DART HttpRequest does not provide authorization header for CORS OPTIONS request", "body": "<p>I try to do a POST request with HttpRequest (dart:html) to call a rest service secured with basic authentication.</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>HttpRequest request = new HttpRequest(); // create a new XHR\nvar url = \"http://localhost:8082/xyz\";\nrequest.open(\"POST\", url, async: false); // POST the data to the server\n\nString username = \"foo\";\nString password = \"bar\";\nfinal auth = CryptoUtils.bytesToBase64(UTF8.encode(\"$username:$password\"));\n\nrequest.setRequestHeader('authorization',\"Basic $auth\");\nrequest.setRequestHeader('content-type',\"application/json\");\nrequest.setRequestHeader(\"accept\", \"application/json\");\nString jsonData = '{\"language\":\"dart\"}'; // etc...\n\nrequest.send(jsonData);  //exception 401 Unauthorized\n</code></pre>\n\n<p><br/>\nBefore performing the POST call the OPTIONS call is performed (issued by dart:html) without the authorization header. This leads into an 401 Unauthorized response.\n<br/></p>\n\n<blockquote>\n  <p>Request header:</p>\n  \n  <blockquote>\n    <p>Accept:*/* <br/>\n    Accept-Encoding:\n    gzip,deflate,sdch<br/>\n    Accept-Language:\n    en-US,en;q=0.8<br/>\n    Access-Control-Request-Headers:\n    authorization, content-type, accept<br/>\n    Access-Control-Request-Method:\n    POST<br/>\n    Cache-Control:\n    max-age=0<br/>\n    Connection:\n    keep-alive<br/>\n    Host:\n    localhost:8082<br/>\n    Origin:\n    <a href=\"http://localhost:63342\" rel=\"nofollow\">http://localhost:63342</a><br/>\n    Referer:\n    <a href=\"http://localhost:63342/dart_client/test/all_test.html\" rel=\"nofollow\">http://localhost:63342/dart_client/test/all_test.html</a><br/>\n    User-Agent:\n    Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/38.0.2125.0 (Dart) Safari/537.36</p>\n  </blockquote>\n  \n  <p>Reponse header:</p>\n  \n  <blockquote>\n    <p>Content-Length:\n    0<br/>\n    Date:\n    Mon, 02 Feb 2015 23:33:58 GMT<br/>\n    Server:\n    Jetty(9.2.7.v20150116)<br/>\n    WWW-Authenticate:\n    basic realm=\"xyzrealm\"<br/></p>\n  </blockquote>\n</blockquote>\n\n<p><br/>\nIs there a way to provide the authorization header to the OPTIONS call? <br/></p>\n\n<p>Any suggestions would be great. Thanks</p>\n"}, {"tags": ["dart", "chart.js", "dart-editor"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1422975103, "post_id": 28300879, "comment_id": 44954860, "body": "Can you please post the code of a minimal example that allows to reproduce the problem. The error message is so generic that it doesn&#39;t allow any conlusions."}, {"owner": {"reputation": 451, "user_id": 3505579, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2phuP.png?s=128&g=1", "display_name": "ken", "link": "https://stackoverflow.com/users/3505579/ken"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422976641, "post_id": 28300879, "comment_id": 44955968, "body": "Link to download source code added, the source is also added above"}], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1423027949, "last_edit_date": 1423027949, "creation_date": 1422978911, "answer_id": 28303222, "question_id": 28300879, "link": "https://stackoverflow.com/questions/28300879/run-chartjs-dart-example/28303222#28303222", "title": "Run Chartjs Dart example", "body": "<p>This is obviously a bug in the example. Maybe the library was changed and the example not yet tested with the new version.</p>\n\n<p>If you add two values to the map it works though</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code> Bool chartBool = new Bool({\n      'labels' : [\"Montag\",\"Dienstag\",\"Mittwoch\",\"Donnerstag\",\"Freitag\",\"Samstag\",\"Sonntag\"],\n      'datasets' : [\n                  {\n                    'name': 'bla',\n                    'date': 'somedate',\n                    'strokeColor' : \"rgba(255,10,10,1)\",\n</code></pre>\n\n<p>I just added the two lines <code>name': 'bla'</code>,<code>'date': 'somedate'</code>. It looks these values are just used as tooltip and the content doesn't really matter to overcome the exception.</p>\n"}], "owner": {"reputation": 451, "user_id": 3505579, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2phuP.png?s=128&g=1", "display_name": "ken", "link": "https://stackoverflow.com/users/3505579/ken"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 428, "favorite_count": 0, "accepted_answer_id": 28303222, "answer_count": 1, "score": 2, "last_activity_date": 1423027949, "creation_date": 1422972394, "last_edit_date": 1422978106, "question_id": 28300879, "link": "https://stackoverflow.com/questions/28300879/run-chartjs-dart-example", "title": "Run Chartjs Dart example", "body": "<p>I'm trying to run the chartjs example of the dart port but It seems not to work.\nSee screenshot with error message.</p>\n\n<p>Any Idea where is the problem? Thanks</p>\n\n<p>the source code for the example can be downloaded <a href=\"https://bitbucket.org/ips/chart.dart\" rel=\"nofollow noreferrer\">Chartjs Dart port Example</a></p>\n\n\n\n<p>lib/chart.dart source:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>library chart;\n\nimport 'dart:html';\nimport 'dart:math' as math;\nimport 'package:intl/intl.dart';\n\npart 'src/base.dart';\npart 'src/line.dart';\npart 'src/bar.dart';\npart 'src/bool.dart';\npart 'src/animation.dart';\n</code></pre>\n\n<p>example/web/chart.html</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;Chart&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" href=\"chart.css\"&gt;\n    &lt;script type=\"application/dart\" src=\"chart.dart\"&gt;&lt;/script&gt;\n    &lt;script src=\"packages/browser/dart.js\"&gt;&lt;/script&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>example/web/chart.dart</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>library chart;\n\nimport 'dart:html';\nimport 'package:chart/chart.dart';\n\n\nvoid main() {\n\n\n  Line chart = new Line({\n    'labels' : [\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\"],\n    'datasets' : [\n                {\n                  'fillColor' : \"rgba(220,20,20,0.5)\",\n                  'strokeColor' : \"rgba(0,0,0,1)\",\n                  'pointColor' : \"rgba(220,220,220,1)\",\n                  'pointStrokeColor' : \"#f00\",\n                  'data' : [1,4,5,2,5,6,3,7]\n                },\n                {\n                  'fillColor' : \"rgba(151,187,205,0.5)\",\n                  'strokeColor' : \"rgba(151,187,205,1)\",\n                  'pointColor' : \"rgba(151,187,205,1)\",\n                  'pointStrokeColor' : \"#fff\",\n                  'data' : [3,-1,0,4,4,-2,4,1]\n                },\n                {\n                  'fillColor' : \"clear\",\n                  'strokeColor' : \"rgba(151,187,205,1)\",\n                  'pointColor' : \"rgba(151,187,205,1)\",\n                  'pointStrokeColor' : \"#fff\",\n                  'data' : [-3,-3,-1,-4,-4,-3,-4,-1]\n                }\n    ]\n  }, {\n    'scaleOverride' : true, \n    'scaleMinValue' : 0.0, \n    'scaleMaxValue' : 35.0, \n    'scaleStepValue' : null, \n    'bezierCurve' : true, \n    'animation' : false,\n    'titleText' : 'testest'     \n    });\n\n\n  Line chart2 = new Line({\n      'labels' : [\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"],\n      'datasets' : [\n                  {\n                    'fillColor' : \"rgba(123,244,220,0.5)\",\n                    'strokeColor' : \"rgba(220,220,220,1)\",\n                    'pointColor' : \"rgba(220,220,220,1)\",\n                    'pointStrokeColor' : \"#fff\",\n                    'data' : [1,1,0,0,1,1,1,0]\n                  }\n      ]\n\n    }, {\n      'animationEasing': 'easeOutElastic',\n      'animation' : true,\n      'bezierCurve' : true, \n      }\n    );\n\n  Bool chartBool = new Bool({\n      'labels' : [\"Montag\",\"Dienstag\",\"Mittwoch\",\"Donnerstag\",\"Freitag\",\"Samstag\",\"Sonntag\"],\n      'datasets' : [\n                  {\n                    'strokeColor' : \"rgba(255,10,10,1)\",\n                    'data' : [{'x':0, 'y':0},{'x':2, 'y':0},{'x':3, 'y':1},{'x':20, 'y':0},{'x':30, 'y':0},{'x':40, 'y':0},{'x':45, 'y':0},{'x':63, 'y':0},{'x':100, 'y':0},{'x':123, 'y':1},{'x':128, 'y':0},{'x':130, 'y':0}]\n                  }\n                  ]\n\n    }, {\n      'animationEasing': 'easeOutElastic',\n      'animation' : true\n      }\n    );\n\n  Bar bar = new Bar({\n                      'labels' : [\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\"],\n                      'datasets' : [\n                                  {\n                                    'fillColor' : \"rgba(220,220,220,0.5)\",\n                                    'strokeColor' : \"rgba(220,220,220,1)\",\n                                    'data' : [65,59,90,81,56,55,40]\n                                  },\n                                  {\n                                    'fillColor' : \"rgba(255,255,255,1)\",\n                                    'strokeColor' : \"rgba(0,0,255,0.5)\",\n                                    'data' : [28,48,40,19,null,27,100]\n                                  }\n                                  ]\n\n  }, null);\n\n  Bar bar2 = new Bar({\n                      'labels' : [\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\"],\n                      'datasets' : [\n                                  {\n                                    'fillColor' : \"rgba(220,220,220,0.5)\",\n                                    'strokeColor' : \"rgba(220,220,220,1)\",\n                                    'data' : [55,59,90,59,56,55,60]\n                                  }]\n\n  }, \n  {\n    'titleText' : 'testest'     \n  });\n\n  DivElement containerBool = new DivElement();\n  containerBool.style.height ='400px';\n  containerBool.style.width =  '100%';\n  document.body.children.add(containerBool);\n  chartBool.show(containerBool);\n\n  DivElement container = new DivElement();\n  container.style.height ='400px';\n  container.style.width =  '100%';\n  document.body.children.add(container);\n  chart.show(container);\n\n  DivElement container2 = new DivElement();\n  container2.style.height ='400px';\n  container2.style.width =  '100%';\n  document.body.children.add(container2);\n  chart2.show(container2);\n\n  DivElement container3 = new DivElement();\n  container3.style.height ='400px';\n  container3.style.width =  '100%';\n  document.body.children.add(container3);\n  bar.show(container3);\n\n  DivElement container4 = new DivElement();\n  container4.style.height ='400px';\n  container4.style.width =  '100%';\n  document.body.children.add(container4);\n  bar2.show(container4);\n\n\n}\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/4DEZ8.png\" alt=\"Chartjs Dart error\"></p>\n"}, {"tags": ["javascript", "node.js", "sockets", "dart"], "comments": [{"owner": {"reputation": 23617, "user_id": 1700321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/szQnn.png?s=128&g=1", "display_name": "Aleksandr M", "link": "https://stackoverflow.com/users/1700321/aleksandr-m"}, "edited": false, "score": 0, "creation_date": 1422969374, "post_id": 28299795, "comment_id": 44951256, "body": "<i>Any thought</i> on what? What are you asking?"}, {"owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "reply_to_user": {"reputation": 23617, "user_id": 1700321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/szQnn.png?s=128&g=1", "display_name": "Aleksandr M", "link": "https://stackoverflow.com/users/1700321/aleksandr-m"}, "edited": false, "score": 0, "creation_date": 1422969425, "post_id": 28299795, "comment_id": 44951288, "body": "how to write same code in NODE, using PURE NODE modules without any third party module/package?"}], "answers": [{"tags": [], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "is_accepted": true, "score": 0, "last_activity_date": 1460966027, "creation_date": 1460966027, "answer_id": 36688247, "question_id": 28299795, "link": "https://stackoverflow.com/questions/28299795/socket-in-node-js-vs-socket-in-dart/36688247#36688247", "title": "Socket in node.js vs socket in Dart", "body": "<p>I found no way to create it with pure node, so I started using the <a href=\"https://www.npmjs.com/package/faye\" rel=\"nofollow\">Faye npm</a> as a best module I found for using both web-socket and Server-Sent Event (SSE)</p>\n"}], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 36688247, "answer_count": 1, "score": 1, "last_activity_date": 1460966427, "creation_date": 1422969074, "last_edit_date": 1460966427, "question_id": 28299795, "link": "https://stackoverflow.com/questions/28299795/socket-in-node-js-vs-socket-in-dart", "title": "Socket in node.js vs socket in Dart", "body": "<p>I've the below code working perfectly with Dart, interested to have similar one with NODE, using PURE NODE modules, as I'm interested to check the performance of my app in Dart if it was written in JavaScript in client and NODE in server.</p>\n\n<p>I do not want to use any third party package like socket.js or whatever.</p>\n\n<pre><code>import 'dart:io';\n\n void main() { \n  HttpServer.bind(InternetAddress.ANY_IP_V4, 8080).then((HttpServer server) {\n    print(\"HttpServer listening...\");\n    server.listen((HttpRequest request) {\n      if (WebSocketTransformer.isUpgradeRequest(request)){\n          WebSocketTransformer.upgrade(request).then(handleWebSocket);\n       }\n  else {\n        print(\"Regular ${request.method} request for: ${request.uri.path}\");\n        serveRequest(request);\n        }\n    });\n });\n}   \n</code></pre>\n\n<p>any thought how to write same code in NODE, using PURE NODE modules without any third party module/package?</p>\n"}, {"tags": ["c++", "g++", "dart", "dart-native-extension"], "comments": [{"owner": {"reputation": 5239, "user_id": 504184, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e6bd53df77ea4c05c95a939da60674b4?s=128&d=identicon&r=PG", "display_name": "Mike Mitterer", "link": "https://stackoverflow.com/users/504184/mike-mitterer"}, "edited": false, "score": 0, "creation_date": 1422954913, "post_id": 28289610, "comment_id": 44942778, "body": "Do you know this extension: <a href=\"https://pub.dartlang.org/packages/serial_port\" rel=\"nofollow noreferrer\">pub.dartlang.org/packages/serial_port</a>? On the GH-Repo is also a makefile included - maybe this helps. Another option could be <a href=\"https://github.com/mezoni/native_extension_with_build_tools\" rel=\"nofollow noreferrer\">github.com/mezoni/native_extension_with_build_tools</a>"}, {"owner": {"reputation": 187, "user_id": 3558173, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/941d705b95e67cfd2cc58c627cc90060?s=128&d=identicon&r=PG", "display_name": "Crunchex", "link": "https://stackoverflow.com/users/3558173/crunchex"}, "reply_to_user": {"reputation": 5239, "user_id": 504184, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e6bd53df77ea4c05c95a939da60674b4?s=128&d=identicon&r=PG", "display_name": "Mike Mitterer", "link": "https://stackoverflow.com/users/504184/mike-mitterer"}, "edited": false, "score": 0, "creation_date": 1422992739, "post_id": 28289610, "comment_id": 44965665, "body": "The Makefile included with package:serial_port does clean things up a bit, though I still get the same error from passing in what I believe to be the same compiler &amp; linker args as I was before."}], "answers": [{"tags": [], "owner": {"reputation": 1609, "user_id": 657412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/axctP.png?s=128&g=1", "display_name": "Ethouris", "link": "https://stackoverflow.com/users/657412/ethouris"}, "is_accepted": false, "score": 1, "last_activity_date": 1422967464, "creation_date": 1422967464, "answer_id": 28299289, "question_id": 28289610, "link": "https://stackoverflow.com/questions/28289610/how-do-you-link-external-shared-libraries-to-a-native-extension/28299289#28299289", "title": "How do you link external shared libraries to a native extension?", "body": "<p>If this is reported:</p>\n\n<pre><code>/home/crunchex/work/pty/bin/packages/pty/libpty.so: undefined symbol: forkpty\n</code></pre>\n\n<p>then the tool definitely needed that your libpty either <strong>provide</strong> this symbol, or request to be linked against another library that provides it. So this:</p>\n\n<pre><code>gcc -shared -Wl,-soname,libpty.so -o libpty.so pty.o\n</code></pre>\n\n<p>is definitely incomplete.</p>\n\n<p>Normally when tools like that allow you to create your own library that may need to call some of the functions that the \"user of your library\" provides, then it at least requires to be linked against a \"stub\" library. There's usually provided a library named like <strong>libXXXXstubVV.a</strong> (VV may be a version number or something).</p>\n\n<p>May happen that it has something to do with the problem that happens in static libraries. For static libraries this can't be solved any other way than putting the libraries in the correct order. For dynamic libraries it's usually solved by providing a request to be linked against some dependent library that is expected to provide lacking symbols - and this \"stub\" library should do it.</p>\n"}, {"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1423133609, "creation_date": 1423133609, "answer_id": 28342067, "question_id": 28289610, "link": "https://stackoverflow.com/questions/28289610/how-do-you-link-external-shared-libraries-to-a-native-extension/28342067#28342067", "title": "How do you link external shared libraries to a native extension?", "body": "<p>Copied from <a href=\"https://code.google.com/p/dart/issues/detail?id=22257#c4\" rel=\"nofollow\">https://code.google.com/p/dart/issues/detail?id=22257#c4</a></p>\n\n<p>The problem is that <code>libutil</code>, part of <code>libc6</code>, needs to be linked into your native extension shared library on the link command line, not the compile command line. </p>\n\n<p>First, the <code>-lutil</code> library specification should go on the linking line, rather than the compiling line: \n<code>gcc -shared -Wl,-soname,libpty.so -o libpty.so pty.o -lutil</code></p>\n\n<p>This puts a dependency on the shared library <code>libutil.so</code> into your shared library, and when it is loaded by dlload, the dependencies are also loaded and linked. </p>\n\n<p>This fails unless the <code>-lutil</code> option is put after <code>pty.o</code> on your command<br>\nline, since linked libraries must be put in reverse dependency order on the linker command line. </p>\n\n<p>After doing this, the output of objdump on libpty.so includes: </p>\n\n<pre><code>   objdump -x libpty.so \nDynamic Section: \n   NEEDED               libutil.so.1 \n   NEEDED               libc.so.6 \n   SONAME               libpty.so \n   INIT                 0x00000000000009c0 \n   FINI                 0x0000000000000db4 \n   INIT_ARRAY           0x0000000000201dd0 \n.... \nVersion References: \n   required from libutil.so.1: \n     0x09691a75 0x00 04 GLIBC_2.2.5 \n   required from libc.so.6: \n     0x09691a75 0x00 03 GLIBC_2.2.5 \n     0x0d696914 0x00 02 GLIBC_2.4 \n.... \n0000000000000000  w      *UND*        0000000000000000               \n_ITM_registerTMCloneTable \n0000000000000000       F *UND*        0000000000000000               \nforkpty@@GLIBC_2.2.5 \n0000000000000000  w    F *UND*        0000000000000000               \n__cxa_finalize@@GLIBC_2.2.5 \n00000000000009c0 g     F .init        0000000000000000              _init \n</code></pre>\n\n<p>and running the test program main.dart no longer fails. </p>\n\n<p>If you don't want to link a shared library into your library, then you need a static library, but there are many problems with this - it is not impossible, but much harder. \nThen, the problem is that you may only have libutil.so on your system, not <code>libutil.a</code>, so your shared library will need to load libutil when it is loaded. </p>\n\n<p>The <code>dlopen</code> function used by Dart to load your shared library should<br>\nrecursively load other shared libraries it depends on, but this may or may not be working.  When I compile with <code>-lutil</code> in the link step, the shared libraries shown by ldd libpty.so are just libc.so.6, and some standard linker ones ld-linux-.. and linux-vdso. So I don't see libutil there. </p>\n\n<p>To link the functions you need statically into your shared library, you<br>\nwould need something like </p>\n\n<pre><code>gcc -shared -Wl,-whole-archive /usr/lib/x86_64-linux-gnu/libutil.a   \n-Wl,-no-whole-archive -Wl,-soname,libpty.so -o libpty.so pty.o \n</code></pre>\n\n<p>But since the <code>libutil.a</code> in the distribution is not compiled with -<code>wPIC</code>, it can't be linked into a shared library: </p>\n\n<pre><code>/usr/bin/ld: /usr/lib/x86_64-linux-gnu/libutil.a(login.o): relocation   \nR_X86_64_32 against `.rodata.str1.1' can not be used when making a shared object; recompile with -fPIC \n/usr/lib/x86_64-linux-gnu/libutil.a(login.o): error adding symbols: Bad   \nvalue \n</code></pre>\n\n<p>I think the best bet is to make the shared library dependency upon<br>\n<code>libutil.so</code> work. </p>\n"}], "owner": {"reputation": 187, "user_id": 3558173, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/941d705b95e67cfd2cc58c627cc90060?s=128&d=identicon&r=PG", "display_name": "Crunchex", "link": "https://stackoverflow.com/users/3558173/crunchex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 932, "favorite_count": 0, "accepted_answer_id": 28342067, "answer_count": 2, "score": 1, "last_activity_date": 1423133609, "creation_date": 1422925048, "question_id": 28289610, "link": "https://stackoverflow.com/questions/28289610/how-do-you-link-external-shared-libraries-to-a-native-extension", "title": "How do you link external shared libraries to a native extension?", "body": "<p>I'm writing a pty native extension and want to link libutil so that I may use forkpty and openpty from <code>&lt;pty.h&gt;</code>.</p>\n\n<p>I'm using the two commands taken from <a href=\"https://www.dartlang.org/articles/native-extensions-for-standalone-dart-vm/\" rel=\"nofollow\">the official guide</a>:</p>\n\n<pre><code>g++ -fPIC -lutil -I/home/crunchex/work/dart-sdk -c pty.cc -o pty.o\ngcc -shared -Wl,-soname,libpty.so -o libpty.so pty.o\n</code></pre>\n\n<p>and I'm getting the following error:</p>\n\n<pre><code>/home/crunchex/work/dart-sdk/bin/dart: symbol lookup error: /home/crunchex/work/pty/bin/packages/pty/libpty.so: undefined symbol: forkpty\n</code></pre>\n\n<p>This may be more of a g++/gcc question, but as far as I can tell I'm doing that part right by adding -lutil and including <code>&lt;pty.h&gt;</code>. libutil.so is installed on my Ubuntu 14.04 system, so I'm fairly certain it's there.</p>\n\n<p>Here's my test extension:</p>\n\n<pre><code>#include &lt;string.h&gt;\n#include &lt;pty.h&gt;\n\n#include \"include/dart_api.h\"\n\nDart_NativeFunction ResolveName(Dart_Handle name,\n                                int argc,\n                                bool* auto_setup_scope);\n\nDART_EXPORT Dart_Handle pty_Init(Dart_Handle parent_library) {\n  if (Dart_IsError(parent_library)) {\n    return parent_library;\n  }\n\n  Dart_Handle result_code =\n      Dart_SetNativeResolver(parent_library, ResolveName, NULL);\n  if (Dart_IsError(result_code)) {\n    return result_code;\n  }\n\n  return Dart_Null();\n}\n\nDart_Handle HandleError(Dart_Handle handle) {\n  if (Dart_IsError(handle)) {\n    Dart_PropagateError(handle);\n  }\n  return handle;\n}\n\n//\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\//\n//\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\//\nvoid PtyFork(Dart_NativeArguments args) {\n  Dart_EnterScope();\n\n  struct winsize winp;\n  winp.ws_col = 80;\n  winp.ws_row = 24;\n  winp.ws_xpixel = 0;\n  winp.ws_ypixel = 0;\n  int master = -1;\n  char name[40];\n  pid_t pid = forkpty(&amp;master, name, NULL, &amp;winp);\n\n  Dart_ExitScope();\n}\n//\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\//\n//\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\//\n\nstruct FunctionLookup {\n  const char* name;\n  Dart_NativeFunction function;\n};\n\nFunctionLookup function_list[] = {\n  {\"PtyFork\", PtyFork},\n  {NULL, NULL}};\n\nDart_NativeFunction ResolveName(Dart_Handle name, int argc, bool* auto_setup_scope) {\n  if (!Dart_IsString(name)) return NULL;\n  Dart_NativeFunction result = NULL;\n  Dart_EnterScope();\n  const char* cname;\n  HandleError(Dart_StringToCString(name, &amp;cname));\n\n  for (int i=0; function_list[i].name != NULL; ++i) {\n    if (strcmp(function_list[i].name, cname) == 0) {\n      result = function_list[i].function;\n      break;\n    }\n  }\n\n  Dart_ExitScope();\n  return result;\n}\n</code></pre>\n"}, {"tags": ["dart", "google-oauth", "google-admin-sdk"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422904897, "post_id": 28284509, "comment_id": 44924213, "body": "Maybe you can use <a href=\"https://pub.dartlang.org/packages/dart_jwt\" rel=\"nofollow noreferrer\">pub.dartlang.org/packages/dart_jwt</a> (<a href=\"https://pub.dartlang.org/packages/shelf_auth_session\" rel=\"nofollow noreferrer\">pub.dartlang.org/packages/shelf_auth_session</a> uses it for example)"}, {"owner": {"reputation": 98, "user_id": 1407962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0xkP.jpg?s=128&g=1", "display_name": "G&#246;ran", "link": "https://stackoverflow.com/users/1407962/g%c3%b6ran"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422919365, "post_id": 28284509, "comment_id": 44931139, "body": "Google Apps requires a sub field in the claim set, containing the email address of an administrator. I can&#39;t find a way to include that in this package either. Maybe I&#39;m missing something? Thanks"}, {"owner": {"reputation": 2085, "user_id": 2418642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661bf0e57b634fc69c154d2e1901520c?s=128&d=identicon&r=PG", "display_name": "sgjesse", "link": "https://stackoverflow.com/users/2418642/sgjesse"}, "edited": false, "score": 0, "creation_date": 1422980894, "post_id": 28284509, "comment_id": 44959009, "body": "You are not missing anything. The creation for service account credentials does not support setting the user to impersonate and populate the sub field in the claim. I have filed <a href=\"https://github.com/dart-lang/googleapis_auth/issues/15\" rel=\"nofollow noreferrer\">issue 15</a>"}, {"owner": {"reputation": 98, "user_id": 1407962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0xkP.jpg?s=128&g=1", "display_name": "G&#246;ran", "link": "https://stackoverflow.com/users/1407962/g%c3%b6ran"}, "reply_to_user": {"reputation": 2085, "user_id": 2418642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661bf0e57b634fc69c154d2e1901520c?s=128&d=identicon&r=PG", "display_name": "sgjesse", "link": "https://stackoverflow.com/users/2418642/sgjesse"}, "edited": false, "score": 0, "creation_date": 1422986562, "post_id": 28284509, "comment_id": 44962436, "body": "@sgjesse Turns out there&#39;s a fork for this: <a href=\"https://github.com/dart-lang/googleapis_auth/issues/14\" rel=\"nofollow noreferrer\">github.com/dart-lang/googleapis_auth/issues/14</a> Works like a breeze :)"}, {"owner": {"reputation": 2085, "user_id": 2418642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661bf0e57b634fc69c154d2e1901520c?s=128&d=identicon&r=PG", "display_name": "sgjesse", "link": "https://stackoverflow.com/users/2418642/sgjesse"}, "edited": false, "score": 0, "creation_date": 1423141766, "post_id": 28284509, "comment_id": 45033817, "body": "This is now supported in version 0.2.3 of <code>googleapis_auth</code>. See answers below."}], "answers": [{"comments": [{"owner": {"reputation": 98, "user_id": 1407962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0xkP.jpg?s=128&g=1", "display_name": "G&#246;ran", "link": "https://stackoverflow.com/users/1407962/g%c3%b6ran"}, "edited": false, "score": 0, "creation_date": 1422919575, "post_id": 28286184, "comment_id": 44931227, "body": "Google Apps requires a sub field in the claim set, containing the email address of an administrator. I can&#39;t find a way to include that in googleapis_auth. Maybe I&#39;m missing something? Thanks"}, {"owner": {"reputation": 40954, "user_id": 3748349, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMfdk.png?s=128&g=1", "display_name": "Hans Z.", "link": "https://stackoverflow.com/users/3748349/hans-z"}, "reply_to_user": {"reputation": 98, "user_id": 1407962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0xkP.jpg?s=128&g=1", "display_name": "G&#246;ran", "link": "https://stackoverflow.com/users/1407962/g%c3%b6ran"}, "edited": false, "score": 0, "creation_date": 1422945827, "post_id": 28286184, "comment_id": 44938628, "body": "I believe Google requires <code>iss</code>, <code>aud</code>, <code>scope</code>, <code>exp</code> and <code>iat</code> only, where <code>iss</code> is set to &quot;client_email&quot;."}, {"owner": {"reputation": 98, "user_id": 1407962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0xkP.jpg?s=128&g=1", "display_name": "G&#246;ran", "link": "https://stackoverflow.com/users/1407962/g%c3%b6ran"}, "edited": false, "score": 0, "creation_date": 1422963875, "post_id": 28286184, "comment_id": 44948061, "body": "I admit I&#39;m in deep waters here but how do you interpret what&#39;s said under &quot;Additional claims&quot; on this page: <a href=\"https://developers.google.com/accounts/docs/OAuth2ServiceAccount\" rel=\"nofollow noreferrer\">developers.google.com/accounts/docs/OAuth2ServiceAccount</a>"}, {"owner": {"reputation": 40954, "user_id": 3748349, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMfdk.png?s=128&g=1", "display_name": "Hans Z.", "link": "https://stackoverflow.com/users/3748349/hans-z"}, "reply_to_user": {"reputation": 98, "user_id": 1407962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0xkP.jpg?s=128&g=1", "display_name": "G&#246;ran", "link": "https://stackoverflow.com/users/1407962/g%c3%b6ran"}, "edited": false, "score": 0, "creation_date": 1422964639, "post_id": 28286184, "comment_id": 44948480, "body": "You don&#39;t need the <code>sub</code> claim for a regular service account. You would need it to impersonate a user."}, {"owner": {"reputation": 98, "user_id": 1407962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0xkP.jpg?s=128&g=1", "display_name": "G&#246;ran", "link": "https://stackoverflow.com/users/1407962/g%c3%b6ran"}, "edited": false, "score": 0, "creation_date": 1422965748, "post_id": 28286184, "comment_id": 44949104, "body": "Also there&#39;s a note on this page: <a href=\"https://developers.google.com/admin-sdk/directory/v1/guides/delegation\" rel=\"nofollow noreferrer\">developers.google.com/admin-sdk/directory/v1/guides/delegati&zwnj;&#8203;on</a> &quot;Note: Only users with access to the Admin APIs can access the Admin SDK Directory API, therefore your service account needs to impersonate one of those users to access the Admin SDK Directory API.&quot; Thanks"}, {"owner": {"reputation": 98, "user_id": 1407962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0xkP.jpg?s=128&g=1", "display_name": "G&#246;ran", "link": "https://stackoverflow.com/users/1407962/g%c3%b6ran"}, "edited": false, "score": 0, "creation_date": 1422967076, "post_id": 28286184, "comment_id": 44949888, "body": "&quot;To impersonate a user&quot; is exactly what I&#39;m struggling with. In the Java example, the GoogleCredential class has this setter setServiceAccountUser(userEmail). I can&#39;t find an equivalent property in the ServiceAccountCredentials class in googleapis_auth. <a href=\"https://developers.google.com/admin-sdk/directory/v1/guides/delegation\" rel=\"nofollow noreferrer\">developers.google.com/admin-sdk/directory/v1/guides/delegati&zwnj;&#8203;on</a> <a href=\"http://www.dartdocs.org/documentation/googleapis_auth/0.2.2/index.html#googleapis_auth/googleapis_auth-auth_io.ServiceAccountCredentials@id_ServiceAccountCredentials-\" rel=\"nofollow noreferrer\">dartdocs.org/documentation/googleapis_auth/0.2.2/&hellip;</a>"}, {"owner": {"reputation": 40954, "user_id": 3748349, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMfdk.png?s=128&g=1", "display_name": "Hans Z.", "link": "https://stackoverflow.com/users/3748349/hans-z"}, "reply_to_user": {"reputation": 98, "user_id": 1407962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0xkP.jpg?s=128&g=1", "display_name": "G&#246;ran", "link": "https://stackoverflow.com/users/1407962/g%c3%b6ran"}, "edited": false, "score": 0, "creation_date": 1422968214, "post_id": 28286184, "comment_id": 44950539, "body": "I&#39;m afraid you&#39;re right: <a href=\"https://github.com/dart-lang/googleapis_auth/blob/master/lib/auth.dart#L109\" rel=\"nofollow noreferrer\">github.com/dart-lang/googleapis_auth/blob/master/lib/&hellip;</a> shows that arbitrary claims like <code>sub</code> are not parsed, nor does an explicit <code>sub</code> parameter exist."}, {"owner": {"reputation": 98, "user_id": 1407962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0xkP.jpg?s=128&g=1", "display_name": "G&#246;ran", "link": "https://stackoverflow.com/users/1407962/g%c3%b6ran"}, "edited": false, "score": 0, "creation_date": 1422970638, "post_id": 28286184, "comment_id": 44951985, "body": "I&#39;ll open an issue here: <a href=\"https://github.com/dart-lang/googleapis_auth/issues\" rel=\"nofollow noreferrer\">github.com/dart-lang/googleapis_auth/issues</a> Thanks for helping :)"}], "tags": [], "owner": {"reputation": 40954, "user_id": 3748349, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMfdk.png?s=128&g=1", "display_name": "Hans Z.", "link": "https://stackoverflow.com/users/3748349/hans-z"}, "is_accepted": false, "score": 0, "last_activity_date": 1423146115, "last_edit_date": 1423146115, "creation_date": 1422908997, "answer_id": 28286184, "question_id": 28284509, "link": "https://stackoverflow.com/questions/28284509/using-dart-googleapis-auth-0-2-2-to-authorize-admin-sdk-directory-api-in-googl/28286184#28286184", "title": "Using Dart googleapis_auth (0.2.2) to authorize Admin SDK Directory API in Google Apps domains with service account", "body": "<p>I believe that is supported as described in <a href=\"https://github.com/dart-lang/googleapis_auth#autonomous-application--service-account\" rel=\"nofollow\">https://github.com/dart-lang/googleapis_auth#autonomous-application--service-account</a>. With version 0.2.3 the constructors for <code>ServiceAccountCredentials</code> now have the optional named argument <code>impersonatedUser</code> which can be used to set the user to impersonate.</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>import \"package:http/http.dart\" as http;\nimport \"package:googleapis_auth/auth_io.dart\";\n\nvar accountCredentials = new ServiceAccountCredentials.fromJson({\n  \"private_key_id\": \"&lt;please fill in&gt;\",\n  \"private_key\": \"&lt;please fill in&gt;\",\n  \"client_email\": \"&lt;please fill in&gt;@developer.gserviceaccount.com\",\n  \"client_id\": \"&lt;please fill in&gt;.apps.googleusercontent.com\",\n  \"type\": \"service_account\"\n}, impersonatedUser: 'user@domain.com');\nvar scopes = [...];\n\n...\n\nvar client = new http.Client();\nobtainAccessCredentialsViaServiceAccount(accountCredentials, scopes, client)\n    .then((AccessCredentials credentials) {\n  // Access credentials are available in [credentials].\n  // ...\n  client.close();\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 98, "user_id": 1407962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0xkP.jpg?s=128&g=1", "display_name": "G&#246;ran", "link": "https://stackoverflow.com/users/1407962/g%c3%b6ran"}, "edited": false, "score": 1, "creation_date": 1423225647, "post_id": 28344813, "comment_id": 45072673, "body": "I&#39;m now using googleapis_auth 0.2.3 and it works fine. I believe your code example should be &quot;impersonatedUser: &#39;admin@domain.com&#39;&quot; Thanks a lot!"}], "tags": [], "owner": {"reputation": 2085, "user_id": 2418642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661bf0e57b634fc69c154d2e1901520c?s=128&d=identicon&r=PG", "display_name": "sgjesse", "link": "https://stackoverflow.com/users/2418642/sgjesse"}, "is_accepted": true, "score": 1, "last_activity_date": 1423141729, "creation_date": 1423141729, "answer_id": 28344813, "question_id": 28284509, "link": "https://stackoverflow.com/questions/28284509/using-dart-googleapis-auth-0-2-2-to-authorize-admin-sdk-directory-api-in-googl/28344813#28344813", "title": "Using Dart googleapis_auth (0.2.2) to authorize Admin SDK Directory API in Google Apps domains with service account", "body": "<p>With version 0.2.3 of <code>googleapis_auth</code> the constructors for <code>ServiceAccountCredentials</code> have the optional named argument <code>impersonatedUser</code> which can be used to set the user to impersonate.</p>\n\n<p>The code for listing all users using the Admin SDK Directory API in Google Apps domains with a service account, on behalf of the admin user <em>admin@domain.com</em> looks like this:</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:googleapis/admin/directory_v1.dart';\nimport 'package:googleapis/drive/v2.dart';\nimport 'package:googleapis_auth/auth_io.dart';\n\nfinal credentials = new ServiceAccountCredentials.fromJson({\n  \"private_key_id\": \"&lt;please fill in&gt;\",\n  \"private_key\": \"&lt;please fill in&gt;\",\n  \"client_email\": \"&lt;please fill in&gt;\",\n  \"client_id\": \"&lt;please fill in&gt;\",\n  \"type\": \"service_account\"\n}, user: 'admin@domain.com');\n\nconst SCOPES = const [AdminApi.AdminDirectoryGroupScope,\n                      AdminApi.AdminDirectoryUserScope];\nvoid main() {\n  clientViaServiceAccount(credentials, SCOPES).then((http_client) {\n    var admin = new AdminApi(http_client);\n    admin.users.list(domain: 'domain.com').then((Users users) {\n      users.users.forEach((user) =&gt; print(user.name.fullName));\n    });\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 98, "user_id": 1407962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0xkP.jpg?s=128&g=1", "display_name": "G&#246;ran", "link": "https://stackoverflow.com/users/1407962/g%c3%b6ran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 302, "favorite_count": 0, "accepted_answer_id": 28344813, "answer_count": 2, "score": 1, "last_activity_date": 1423146115, "creation_date": 1422902482, "question_id": 28284509, "link": "https://stackoverflow.com/questions/28284509/using-dart-googleapis-auth-0-2-2-to-authorize-admin-sdk-directory-api-in-googl", "title": "Using Dart googleapis_auth (0.2.2) to authorize Admin SDK Directory API in Google Apps domains with service account", "body": "<p>I would like to authorize access to Admin SDK Directory API in Google Apps domains with a service account. As I understand it requires a <a href=\"https://developers.google.com/accounts/docs/OAuth2ServiceAccount\" rel=\"nofollow\">JWT claim with a sub field</a> and I can't find that in the pub package <a href=\"https://pub.dartlang.org/packages/googleapis_auth\" rel=\"nofollow\">googleapis_auth</a> (0.2.2).</p>\n\n<p>If it's missing:</p>\n\n<p>Is there a workaround?\nWill it be included in a future version?</p>\n\n<p>For the time being I'm getting along with an installed app authorizing with user consent (admin account) but it's a bit tedious...</p>\n"}, {"tags": ["dart", "dart-html"], "answers": [{"comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 5239, "user_id": 504184, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e6bd53df77ea4c05c95a939da60674b4?s=128&d=identicon&r=PG", "display_name": "Mike Mitterer", "link": "https://stackoverflow.com/users/504184/mike-mitterer"}, "edited": false, "score": 0, "creation_date": 1422882823, "post_id": 28278110, "comment_id": 44911149, "body": "Great to hear it helped.  I hope they&#39;ll fix it eventually."}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 1, "last_activity_date": 1422882552, "last_edit_date": 1422882552, "creation_date": 1422881219, "answer_id": 28278110, "question_id": 28278031, "link": "https://stackoverflow.com/questions/28278031/iframe-contentdocument-documentelement-scrollheight-dart-equivalent/28278110#28278110", "title": "iframe.contentDocument.documentElement.scrollHeight - Dart equivalent", "body": "<p>As far as I know there was an attempt to make Dart in the browser more secure than JavaScript and this led to a model where cross-window communication was limited (to postMessage). I assume an Iframe suffers from the same limitations. There was a comment on an issue that they want to leave this strategy because this is usually circumnavigated by using dart-js-interop anyway. </p>\n\n<p>I think the main culprit is that you get a <code>_DOMWindowCrossFrame</code> instead of a <code>Window</code> instance.</p>\n\n<p>See  </p>\n\n<ul>\n<li><a href=\"http://dartbug.com/17936#c2\" rel=\"nofollow\">http://dartbug.com/17936#c2</a></li>\n</ul>\n\n<p>probably also related</p>\n\n<ul>\n<li><a href=\"http://dartbub.com/20146\" rel=\"nofollow\">http://dartbub.com/20146</a></li>\n<li><a href=\"http://dartbug.com/20143\" rel=\"nofollow\">http://dartbug.com/20143</a></li>\n<li><a href=\"http://dartbug.com/20173\" rel=\"nofollow\">http://dartbug.com/20173</a></li>\n<li><a href=\"http://dartbug.com/21219\" rel=\"nofollow\">http://dartbug.com/21219</a></li>\n<li><a href=\"http://dartbug.com/20216\" rel=\"nofollow\">http://dartbug.com/20216</a></li>\n<li><a href=\"http://dartbug.com/19610\" rel=\"nofollow\">http://dartbug.com/19610</a></li>\n<li><a href=\"http://dartbug.com/16814\" rel=\"nofollow\">http://dartbug.com/16814</a></li>\n<li><a href=\"http://dartbug.com/12788\" rel=\"nofollow\">http://dartbug.com/12788</a></li>\n<li><a href=\"http://dartbug.com/2312\" rel=\"nofollow\">http://dartbug.com/2312</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 5239, "user_id": 504184, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e6bd53df77ea4c05c95a939da60674b4?s=128&d=identicon&r=PG", "display_name": "Mike Mitterer", "link": "https://stackoverflow.com/users/504184/mike-mitterer"}, "is_accepted": false, "score": 1, "last_activity_date": 1422882515, "creation_date": 1422882515, "answer_id": 28278469, "question_id": 28278031, "link": "https://stackoverflow.com/questions/28278031/iframe-contentdocument-documentelement-scrollheight-dart-equivalent/28278469#28278469", "title": "iframe.contentDocument.documentElement.scrollHeight - Dart equivalent", "body": "<p>Here is my solution:</p>\n\n<pre class=\"lang-dartlang prettyprint-override\"><code>var jsIFrame = new JsObject.fromBrowserObject(iframe);\nvar contentHeight = jsIFrame[\"contentDocument\"][\"documentElement\"][\"scrollHeight\"];\n</code></pre>\n"}], "owner": {"reputation": 5239, "user_id": 504184, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e6bd53df77ea4c05c95a939da60674b4?s=128&d=identicon&r=PG", "display_name": "Mike Mitterer", "link": "https://stackoverflow.com/users/504184/mike-mitterer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1422882552, "creation_date": 1422880938, "last_edit_date": 1422882095, "question_id": 28278031, "link": "https://stackoverflow.com/questions/28278031/iframe-contentdocument-documentelement-scrollheight-dart-equivalent", "title": "iframe.contentDocument.documentElement.scrollHeight - Dart equivalent", "body": "<p></p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>final html.IFrameElement iframe = rootDemoElement.querySelector(\"iframe\");\nfinal int contentHeight = &lt;???&gt;.scrollHeight;\n</code></pre>\n\n<p>this works in JS:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var contentHeight = iframe.contentDocument.documentElement.scrollHeight;\n</code></pre>\n\n<p>contentDocument is not available in Dart.<br>\nIs it really possible that contentDocument is missing in Dart?</p>\n"}, {"tags": ["dart"], "comments": [{"owner": {"reputation": 17217, "user_id": 1240320, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3ff7ec4e8d7aebe239763aa235cd6d14?s=128&d=identicon&r=PG", "display_name": "Pixel Elephant", "link": "https://stackoverflow.com/users/1240320/pixel-elephant"}, "edited": false, "score": 1, "creation_date": 1422827523, "post_id": 28268340, "comment_id": 44892803, "body": "See <a href=\"https://stackoverflow.com/questions/16695634/warning-that-imported-libraries-have-the-same-name-when-they-do-not\" title=\"warning that imported libraries have the same name when they do not\">stackoverflow.com/questions/16695634/&hellip;</a>. It sounds like this is your real issue, not any problem with folder structure."}, {"owner": {"reputation": 19479, "user_id": 131929, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/06780f50c30ffab584630481476ba6f4?s=128&d=identicon&r=PG", "display_name": "Marcel St&#246;r", "link": "https://stackoverflow.com/users/131929/marcel-st%c3%b6r"}, "reply_to_user": {"reputation": 17217, "user_id": 1240320, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3ff7ec4e8d7aebe239763aa235cd6d14?s=128&d=identicon&r=PG", "display_name": "Pixel Elephant", "link": "https://stackoverflow.com/users/1240320/pixel-elephant"}, "edited": false, "score": 0, "creation_date": 1422831181, "post_id": 28268340, "comment_id": 44893825, "body": "Thanks. So, if I got that right I can add <code>library foo; part &#39;a.dart&#39;;...</code> to <code>main.dart</code> and then add <code>part of foo;</code> to the other Dart files. Works, but means I have to have <i>all</i> imports in <code>main.dart</code> because part files can&#39;t have individual imports...not nice. Or I can add <code>library X;</code> to each Dart file. That&#39;s even worse because 1 class in 1 file doesn&#39;t make a &quot;library&quot; yet. Hhhmm, I feel there must be a better way..."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 1487298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba3bde2c5eee622a1da9f97e07eafac6?s=128&d=identicon&r=PG", "display_name": "RubenRangel", "link": "https://stackoverflow.com/users/1487298/rubenrangel"}, "is_accepted": false, "score": 1, "last_activity_date": 1425508877, "creation_date": 1425508877, "answer_id": 28866536, "question_id": 28268340, "link": "https://stackoverflow.com/questions/28268340/how-to-structure-a-simple-dart-web-app/28866536#28866536", "title": "How to structure a simple Dart web app", "body": "<p>If I were you, I would create libraries and imports like so:</p>\n\n<p><strong>awesomeLibrary.dart</strong></p>\n\n<pre><code>library awesome;\n\npart 'foo.dart';\npart 'bar.dart';\n</code></pre>\n\n<p><strong>foo.dart</strong></p>\n\n<pre><code>part of awesome;\n\nclass Foo\n{\n    static function Baz() {}\n}\n</code></pre>\n\n<p><strong>bar.dart</strong></p>\n\n<pre><code>part of awesome;\n\nclass Bar\n{\n    ...\n}\n</code></pre>\n\n<p><strong>main.dart</strong></p>\n\n<pre><code>import 'awesomeLibrary.dart';\n\nvoid main()\n{\n    Foo.Baz();  // Imported library function\n}\n</code></pre>\n"}], "owner": {"reputation": 19479, "user_id": 131929, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/06780f50c30ffab584630481476ba6f4?s=128&d=identicon&r=PG", "display_name": "Marcel St&#246;r", "link": "https://stackoverflow.com/users/131929/marcel-st%c3%b6r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1425508877, "creation_date": 1422827334, "question_id": 28268340, "link": "https://stackoverflow.com/questions/28268340/how-to-structure-a-simple-dart-web-app", "title": "How to structure a simple Dart web app", "body": "<p>For Dart starters I'm working on a simple web which consists of less than 10 classes. I'm totally confused as for how to organized them in files, folders (and packages? and libraries?).</p>\n\n<p>Currently I have</p>\n\n<pre><code>web/\n  img/\n    *.png\n  styles/\n    main.css\n  index.html\n  main.dart\n  *.dart\n</code></pre>\n\n<p>All but one Dart file contain a single class. Imports are done through <code>import 'a.dart';</code> (e.g. in <code>b.dart</code>).</p>\n\n<p>This is obviously wrong because the Dart Editor complains about</p>\n\n<blockquote>\n  <p>The imported libraries 'c.dart' and 'd.dart' should not have the same\n  name ''</p>\n</blockquote>\n\n<p>I went through the respective sections in <a href=\"https://www.dartlang.org/tools/pub/package-layout.html\" rel=\"nofollow\">pub documentation</a> and read about <a href=\"https://www.dartlang.org/polymer/app-directories.html#possible-app-structures\" rel=\"nofollow\">possible app structures</a> in the Polymer docs. I also looked at the structure of the pop_pop_win sample application that comes with Dart. It's all a bit overwhelming because there are so many variations, options and combinations.</p>\n"}, {"tags": ["dart", "phaser-framework"], "comments": [{"owner": {"reputation": 75233, "user_id": 123471, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/t75zo.jpg?s=128&g=1", "display_name": "Seth Ladd", "link": "https://stackoverflow.com/users/123471/seth-ladd"}, "edited": false, "score": 1, "creation_date": 1422807661, "post_id": 28264727, "comment_id": 44886412, "body": "Thanks for the question! Can you make a tldr version? It&#39;s hard to tell what exactly you&#39;re asking (there&#39;s a lot of commentary in here :)  Try to rewrite your question in a very clear way, and include errors that you&#39;re getting. You can even use pseudo-code to explain what you want to do."}, {"owner": {"reputation": 437, "user_id": 1799985, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a4a0c045a485ec377a89655b030b949c?s=128&d=identicon&r=PG", "display_name": "The Ice Mage", "link": "https://stackoverflow.com/users/1799985/the-ice-mage"}, "reply_to_user": {"reputation": 75233, "user_id": 123471, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/t75zo.jpg?s=128&g=1", "display_name": "Seth Ladd", "link": "https://stackoverflow.com/users/123471/seth-ladd"}, "edited": false, "score": 0, "creation_date": 1422807995, "post_id": 28264727, "comment_id": 44886503, "body": "Hi, I shall try making a TLDR now..but oh yes I did forget the error. The error I get is from trying to call functions on null object, because of my issue of not being able to pass in a map reference into my state init function."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422809155, "post_id": 28264727, "comment_id": 44886825, "body": "I think it is quite optimistic to expect an answer to such a question. It seems that what you want to do/know is quite basic but the explanation refers so many things that it seems it is necessary to look up how the framework works to even understand the question.  I suggest you try to simplify/clarify the question and also to create an issue in the framework repo with a link to this question to make the developer aware of you problem (isn&#39;t sure he/she is monitoring SO)."}], "answers": [{"comments": [{"owner": {"reputation": 437, "user_id": 1799985, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a4a0c045a485ec377a89655b030b949c?s=128&d=identicon&r=PG", "display_name": "The Ice Mage", "link": "https://stackoverflow.com/users/1799985/the-ice-mage"}, "edited": false, "score": 0, "creation_date": 1422815131, "post_id": 28265922, "comment_id": 44888721, "body": "Oh yes, I think this will suit me fine indeed. I can&#39;t believe I didn&#39;t think to just make constructors with the <code>GameMap</code> arg.. :( Maybe I thought I would be allowed to, who knows :/ Since I suppose you have at least some experience with Phaser though, can I ask how is the init function actually supposed to be used then? I mean, as demonstrated by my question I really can&#39;t see how you&#39;re supposed to pass values into it. Since the calling of State functions is handled by <code>StateManager</code> how do you set what <i>values</i> are to be passed into it?"}, {"owner": {"reputation": 437, "user_id": 1799985, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a4a0c045a485ec377a89655b030b949c?s=128&d=identicon&r=PG", "display_name": "The Ice Mage", "link": "https://stackoverflow.com/users/1799985/the-ice-mage"}, "edited": false, "score": 0, "creation_date": 1422815757, "post_id": 28265922, "comment_id": 44888952, "body": "One other thing: yeah I have used that text loading code in another part of this code already so I had seen that but in the part I was describing for my problem it is not appropriate because the text file analysis the code will do will be used in a way to determine how parts of the &quot;map&quot; to render later will look; the text itself is not being put to the screen in this case. Thanks for the help and advice anyway :)"}, {"owner": {"reputation": 680, "user_id": 3429675, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7fb8cb291a28450bf23486137626161b?s=128&d=identicon&r=PG&f=1", "display_name": "Yiou", "link": "https://stackoverflow.com/users/3429675/yiou"}, "reply_to_user": {"reputation": 437, "user_id": 1799985, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a4a0c045a485ec377a89655b030b949c?s=128&d=identicon&r=PG", "display_name": "The Ice Mage", "link": "https://stackoverflow.com/users/1799985/the-ice-mage"}, "edited": false, "score": 0, "creation_date": 1422816398, "post_id": 28265922, "comment_id": 44889197, "body": "I&#39;m also quit new to this library and I never used init. I&#39;m also making a tilemap game(wip), what I will do about the map is, I will have a variable in the state object. You can assign any map to this variable before you start the  state, so that you can use the map in state&#39;s update function. This way you don&#39;t need to make multiple state objects for different maps. This might not be the best practice though."}], "tags": [], "owner": {"reputation": 680, "user_id": 3429675, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7fb8cb291a28450bf23486137626161b?s=128&d=identicon&r=PG&f=1", "display_name": "Yiou", "link": "https://stackoverflow.com/users/3429675/yiou"}, "is_accepted": true, "score": 1, "last_activity_date": 1422816659, "last_edit_date": 1422816659, "creation_date": 1422813645, "answer_id": 28265922, "question_id": 28264727, "link": "https://stackoverflow.com/questions/28264727/how-to-pass-values-to-phaser-dart-port-state-init-function/28265922#28265922", "title": "How to pass values to phaser (Dart port) State.init() function?", "body": "<p>I'm not exactly sure what you mean, but if you want to pass something to initialize a state, you can do that in the constructor of the state. For example your state constructor could be </p>\n\n<p><code>MapRenderState(this.map){//do something about map}</code></p>\n\n<p>Then you can do </p>\n\n<pre><code>game.state.add('render',new MapRenderState(map));\ngame.state.start('render');\n</code></pre>\n\n<p>If you want to load a map in a state and use the map in the same state, do the loading in <em>preload()</em> . I recommend using phaser's loading function. <code>game.load.text(key,url)</code> will load a text file.</p>\n"}], "owner": {"reputation": 437, "user_id": 1799985, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a4a0c045a485ec377a89655b030b949c?s=128&d=identicon&r=PG", "display_name": "The Ice Mage", "link": "https://stackoverflow.com/users/1799985/the-ice-mage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 978, "favorite_count": 0, "accepted_answer_id": 28265922, "answer_count": 1, "score": 1, "last_activity_date": 1422816659, "creation_date": 1422806834, "last_edit_date": 1422808738, "question_id": 28264727, "link": "https://stackoverflow.com/questions/28264727/how-to-pass-values-to-phaser-dart-port-state-init-function", "title": "How to pass values to phaser (Dart port) State.init() function?", "body": "<p>I have the beginnings of my game code structured like this</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>main() {\nnew Foo();\n}\n\nclass Foo {\n\nGameMap map;\n\nFoo() {\n  map = new GameMap(32, 32); //GameMap is a class of my own\n  ... // do some map-related initialisation\n  Game game = new Game(800, 600, AUTO, 'canvasDiv');\n  State state, state2; \n  state = new FileWaitState(); //explained below\n  game.state.add('wait', state);\n  game.state.start('wait');\n  state2 = new MapRenderState();\n  game.state.add('maprender', state2);\n}\n</code></pre>\n\n<p>So, the idea with <code>FileWaitState</code> is that an algorithm needs to run to analyse a text file submitted by the user/player and until that analysis is complete my second state, currently called <code>MapRenderState</code> must not start. To facilitate this <code>FileWaitState</code> has in its <code>update()</code> function a check to see if the file has been given, and if it has it starts the async. function call to analyse the file, which has a <code>.then()</code> chained onto it like</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>.then(_) {\n  game.state.start('maprender');\n}\n</code></pre>\n\n<p>Now, my problem is that because the instance of my <code>FileProcessor</code> which I must call the analysis function on is nested inside <code>GameMap</code>, I want a way to pass a reference to the map from <code>Foo</code> constructor into <code>FileWaitState</code>. (Sort of an aside: and even if somehow or for some reason I was to restructure code so that I wouldn't need a map reference here, if possible, I will have the same kind of problem for <code>MapRenderState</code>.) I have seen that Phaser's <code>State</code> has an <code>init()</code> function which is the first thing to be called on a newly started state, and it allows for a variable amount of args to be passed into it. What I was trying to figure out though is how am I supposed to specify what args are to be passed into it, or if I'm approaching this wrongly? Surely there is a way to send values in there, right? Otherwise what's the point of init() allowing any args? I don't mean declaring what it's supposed to take; obviously I just need to write my init implementation in whatever State class. I mean, going back to my code, if I say init is to take one arg of type <code>GameMap</code> then is there a way to say somewhere \"when calling init for this State, pass in this GameMap [from Foo ctor] as the arg\"</p>\n\n<p>I apologise if there is something basic about the framework that I am missing here but even after looking through some of the original Phaser.js API docs (since the dart port docs aren't all complete yet) I haven't figured out what I could do to get this working. I guess there's also the fact that I'm a bit \"under the weather\" at the moment so I don't feel up for doing a lot of programming work right now but at the same time I have put some of this work off a bit too long so I would like to get this code roadblock out of the way so that I have something less demotivating to work on for this project.</p>\n\n<p><strong>TL;DR attempt</strong></p>\n\n<p>I have a State (FileWaitState) and want to pass a reference to a GameMap into its init() function because the State's update function will need to access GameMap data. My problem is that this code</p>\n\n<p><code>map.fileProcessor.analyseTxtFile(ie.files[0])</code>\nin the update func gives the error\n<code>The null object does not have a getter fileProcessor</code> or so because obviously I haven't passed in a reference to the GameMap to make the <code>map</code> var <em>inside</em> the state not null. My question is how am I supposed to pass that reference in?</p>\n"}, {"tags": ["spring", "spring-security", "dart", "dart-polymer", "spring-session"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422805094, "post_id": 28264144, "comment_id": 44885556, "body": "There was a discussion recently which might be related <a href=\"https://groups.google.com/a/dartlang.org/forum/?nomobile=true#!topic/cloud/OPFK_0MkB3c\" rel=\"nofollow noreferrer\">groups.google.com/a/dartlang.org/forum/?nomobile=true#!topic&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 7391, "user_id": 33624, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0d6ba7cda9f2af763c7126cbe6e9de0d?s=128&d=identicon&r=PG", "display_name": "Patrick Cornelissen", "link": "https://stackoverflow.com/users/33624/patrick-cornelissen"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422816314, "post_id": 28264144, "comment_id": 44889163, "body": "I saw that, but it seems to use dart:io which is not available in the browser :-("}, {"owner": {"reputation": 7391, "user_id": 33624, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0d6ba7cda9f2af763c7126cbe6e9de0d?s=128&d=identicon&r=PG", "display_name": "Patrick Cornelissen", "link": "https://stackoverflow.com/users/33624/patrick-cornelissen"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422819121, "post_id": 28264144, "comment_id": 44890022, "body": "It looks like it&#39;s way easier to write my own login filter that just doesn&#39;t redirect :-/"}], "answers": [{"tags": [], "owner": {"reputation": 7391, "user_id": 33624, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0d6ba7cda9f2af763c7126cbe6e9de0d?s=128&d=identicon&r=PG", "display_name": "Patrick Cornelissen", "link": "https://stackoverflow.com/users/33624/patrick-cornelissen"}, "is_accepted": false, "score": 2, "last_activity_date": 1422828011, "last_edit_date": 1422828011, "creation_date": 1422822009, "answer_id": 28267405, "question_id": 28264144, "link": "https://stackoverflow.com/questions/28264144/receive-sessionid-after-login-via-spring-security/28267405#28267405", "title": "receive sessionid after login via spring security", "body": "<p>It looks like dart always follows these redirects in the browser and I have no chance to retrieve the cookie or the token in the header of the first request.</p>\n\n<p>So as alternative solution I'm trying to do this next:</p>\n\n<p>Activate basic auth in spring security:</p>\n\n<pre><code>@Configuration\n@EnableWebMvcSecurity\n@EnableGlobalMethodSecurity(securedEnabled = true, prePostEnabled = true)\n@Order(SecurityProperties.ACCESS_OVERRIDE_ORDER)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests()\n                .antMatchers(\"/\", \"/logout\").permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .httpBasic()\n                .and()\n                .sessionManagement().sessionFixation().changeSessionId()\n                .and()\n                .csrf().disable();\n    }\n...\n}\n</code></pre>\n\n<p>In one controller I have something like this as a protected resource:</p>\n\n<pre><code>@RequestMapping(value = \"login\", method = RequestMethod.POST)\npublic String login() {\n    return RequestContextHolder.currentRequestAttributes().getSessionId();\n}\n</code></pre>\n\n<p>This way you can get your session id as regular result. So I can simply fetch the ID from the response body and use it after I provide the correct basic auth credentials once.</p>\n\n<p>This should only be used in trusted enviromnents or via https to make it harder for bad guys to sniff the credentials or session.</p>\n\n<p>So basically this is what I do to log in:</p>\n\n<pre><code>void login() {\n  Map&lt;String, String&gt; headers = {};\n  authorize(headers);\n  HttpRequest.request(LOGIN_URL, method: \"POST\", requestHeaders: headers)\n  .then((request) =&gt; processLogin(request))\n  .catchError((e) =&gt; processLoginError(e));\n\n}\n\nvoid processLogin(HttpRequest request) {\n  sessionController.sessionId=request.responseText;\n  mainApp.showHome();\n}\n\nvoid processLoginError(var e) {\n  print(\"total failure to login because of $e\");\n}\nString authorization() {\n  String auth = window.btoa(\"$username:$password\");\n  return \"Basic $auth\";\n}\n\nvoid authorize(Map&lt;String, String&gt; headers) {\n  headers.putIfAbsent(\"Authorization\", () =&gt; authorization());\n}\n</code></pre>\n\n<p>To send requests with <code>HeaderHttpSessionStrategy</code> I can do this:</p>\n\n<pre><code>void updateUserData(){\n  _logger.info(\"Updating user data\");\n  Map&lt;String, String&gt; headers = {\"Accept\": \"application/json\", 'x-auth-token':sessionId};\n  HttpRequest.request(USER_URL, method: \"GET\", requestHeaders: headers)\n    .then((request) =&gt; processUserData(request))\n    .catchError(ErrorHandler.handleHttpErrorGeneric);\n}\n</code></pre>\n\n<p>You could also get it to work with cookies, but I like the <code>HttpRequest.request()</code> so it was easier to go with header fields.</p>\n"}, {"tags": [], "owner": {"reputation": 3580, "user_id": 4130867, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o3oW4.png?s=128&g=1", "display_name": "6324", "link": "https://stackoverflow.com/users/4130867/6324"}, "is_accepted": false, "score": 0, "last_activity_date": 1506544392, "creation_date": 1506544392, "answer_id": 46456762, "question_id": 28264144, "link": "https://stackoverflow.com/questions/28264144/receive-sessionid-after-login-via-spring-security/46456762#46456762", "title": "receive sessionid after login via spring security", "body": "<p>This <a href=\"http://www.baeldung.com/securing-a-restful-web-service-with-spring-security\" rel=\"nofollow noreferrer\">tutorial</a> teaches you how to stop Spring Security from redirecting after successful or failed authentication.</p>\n\n<blockquote>\n  <p>Authentication should Return 200 Instead of 301<br>\n  Failed Authentication should return 401 instead of 302</p>\n</blockquote>\n\n<p>Actually, I think the code in the tutorial is over complicated. For <code>MySavedRequestAwareAuthenticationSuccessHandler</code> class, you just need one line in the <code>onAuthenticationSuccess</code> function:  </p>\n\n<pre><code>clearAuthenticationAttributes(request);\n</code></pre>\n"}], "owner": {"reputation": 7391, "user_id": 33624, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0d6ba7cda9f2af763c7126cbe6e9de0d?s=128&d=identicon&r=PG", "display_name": "Patrick Cornelissen", "link": "https://stackoverflow.com/users/33624/patrick-cornelissen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4301, "favorite_count": 1, "answer_count": 2, "score": 6, "last_activity_date": 1506544392, "creation_date": 1422803205, "last_edit_date": 1422816840, "question_id": 28264144, "link": "https://stackoverflow.com/questions/28264144/receive-sessionid-after-login-via-spring-security", "title": "receive sessionid after login via spring security", "body": "<p>I am writing a small app with a spring boot rest based backend and a polymer dart based frontend.</p>\n\n<p>Currently I'm struggling to receive the session id from the login mechanism...</p>\n\n<p>Initially I planned to use the <code>HeaderHttpSessionStrategy</code> and use this to authenticate against the spring-session/redis session store to enable horizontal scaling.</p>\n\n<p>The problem is that spring security always performs a redirect after login and in dart the <code>HttpRequest</code> class (from html package) and after the redirect the header field from the initial response is of course no longer present/accessible.\nI tried to disable followRedirect for the client, but it looks like this is only available for the IO package <code>HttpRequest</code>.</p>\n\n<p>Then I tried to switch to <code>CookieHttpSessionStrategy</code> but it looks like the dart httprequest does not store received cookies in the browsers cookie backend :-/</p>\n\n<p>This should be a simple problem, but I'm a little bit lost here. This can't be that hard...</p>\n\n<p>When I use for example the intellij rest client everything works and I can extract the session id from either the cookie or the header field...</p>\n\n<p>Any ideas? :-/</p>\n"}, {"tags": ["properties", "dart", "dart-html"], "answers": [{"comments": [{"owner": {"reputation": 836, "user_id": 2517546, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5caf459bb5c844b933021945535acf50?s=128&d=identicon&r=PG&f=1", "display_name": "90intuition", "link": "https://stackoverflow.com/users/2517546/90intuition"}, "edited": false, "score": 0, "creation_date": 1422795562, "post_id": 28262842, "comment_id": 44882769, "body": "Thanks, only I think it must be <code>getPropertyValue</code> instead of <code>getProperty</code>."}, {"owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "edited": false, "score": 14, "creation_date": 1422871977, "post_id": 28262842, "comment_id": 44905353, "body": "This only works for DOM objects. For general Dart objects, there is no way to access properties from a computed name. That&#39;s a deliberate language choice - it makes it possible to optimize object layout differently when it doesn&#39;t have to allow unpredictable access. If you really need to dynamically access properties by name (or, preferably, by Symbol), you need to use the Mirror library to do the reflection."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1555092530, "post_id": 28262842, "comment_id": 98003309, "body": "You are right, this is only for DOM elements from <code>dart:html</code>. There is no way for normal Dart classes except reflection (server/command-line only) or code generation. I&#39;d suggest json_serializable or built_value for that."}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 6, "last_activity_date": 1422861076, "last_edit_date": 1422861076, "creation_date": 1422794606, "answer_id": 28262842, "question_id": 28262768, "link": "https://stackoverflow.com/questions/28262768/get-access-to-an-objects-property-using-bracket-notation-in-dart/28262842#28262842", "title": "Get access to an object&#39;s property using bracket notation in dart", "body": "<p>You can use the <code>getPropertyValue</code> and <code>setProperty</code> methods like</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>div.style.setProperty(prop, otherdiv.style.getPropertyValue(prop));\n</code></pre>\n"}], "owner": {"reputation": 836, "user_id": 2517546, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5caf459bb5c844b933021945535acf50?s=128&d=identicon&r=PG&f=1", "display_name": "90intuition", "link": "https://stackoverflow.com/users/2517546/90intuition"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4104, "favorite_count": 1, "accepted_answer_id": 28262842, "answer_count": 1, "score": 11, "last_activity_date": 1422861076, "creation_date": 1422794088, "last_edit_date": 1422795036, "question_id": 28262768, "link": "https://stackoverflow.com/questions/28262768/get-access-to-an-objects-property-using-bracket-notation-in-dart", "title": "Get access to an object&#39;s property using bracket notation in dart", "body": "<p>I try to do the following:</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>var properties = [\"height\" , \"width\"];\nfor (var prop in properties){\n  div.style[prop] = otherdiv.style[prop];\n}\n</code></pre>\n\n<p>But dart doesn't seem to accept this bracket notation, is there any other way to access a property using a string in dart ?</p>\n"}, {"tags": ["unit-testing", "dart", "dart-editor"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422742582, "post_id": 28254608, "comment_id": 44872422, "body": "If you want to test code the code should be in <code>lib</code> not in <code>web</code> then you can use package import instead of relative import."}, {"owner": {"reputation": 596, "user_id": 4515050, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/88TBE.jpg?s=128&g=1", "display_name": "StephanS", "link": "https://stackoverflow.com/users/4515050/stephans"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422794676, "post_id": 28254608, "comment_id": 44882519, "body": "my app contains many domain objects that paint on the canvas. In order to move those to lib to the lib-folder, i&#39;d have to abstract from <code>CanvasRenderingContext2D</code> which is a parameter in their repaint-methods. While this is possible it seems to be overkill. And there has to be a way to test stuff in the web-folder, otherwise the <code>unittest&#47;html_config.dart</code> file wouldn&#39;t make sense."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422794868, "post_id": 28254608, "comment_id": 44882580, "body": "I don&#39;t understand your comment about &quot;... have to abstract form <code>CanvasRenderingContext2D</code>&quot; and <code>unittest&#47;html_config.dart</code>. I can&#39;t see a reason why the place of the code would have any influence regarding this topics. There is no reason to have code in <code>web</code>. The only thing that needs to be in web is the entry page HTML file with the Dart script tag (containing main). Importing files from outside a top-level directory (<code>web</code>, <code>bin</code>, <code>example</code>, <code>test</code>, ...) besides <code>lib</code> is usually just wrong. When you use relative import always stay inside the top-level dir you are in otherwise use package."}, {"owner": {"reputation": 596, "user_id": 4515050, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/88TBE.jpg?s=128&g=1", "display_name": "StephanS", "link": "https://stackoverflow.com/users/4515050/stephans"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1423515127, "post_id": 28254608, "comment_id": 45171372, "body": "ah, so the problem with testing my web code is not that the code imports <code>dart:html</code>, but that the code lies under <code>web</code>?!"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1423518091, "post_id": 28254608, "comment_id": 45172984, "body": "I still don&#39;t see how the folder where your code is in is related to whether you have to abstract or whether it imports dart:html. The only thing that changes are the paths in the import statements."}], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1422735031, "creation_date": 1422735031, "answer_id": 28256027, "question_id": 28254608, "link": "https://stackoverflow.com/questions/28254608/how-to-setup-a-unittest-for-a-web-project/28256027#28256027", "title": "how to setup a unittest for a web-project", "body": "<p>You need to create a web page <code>index.html</code> with the test script as script tag an launch it like any Dart web app. You can also run it non-interactively using <code>content_shell</code>. The Dart SDK contains a batch script which downloads and installs <code>content_shell</code> (it is left out of the SDK download to keep a reasonable download size. </p>\n\n<p>There is also a package <code>test_runner</code> available at <a href=\"http://pub.dartlang.org\" rel=\"nofollow\">http://pub.dartlang.org</a> which helps running all tests in the <code>test</code> directory.</p>\n"}], "owner": {"reputation": 596, "user_id": 4515050, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/88TBE.jpg?s=128&g=1", "display_name": "StephanS", "link": "https://stackoverflow.com/users/4515050/stephans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 197, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1422740193, "creation_date": 1422726250, "last_edit_date": 1422740193, "question_id": 28254608, "link": "https://stackoverflow.com/questions/28254608/how-to-setup-a-unittest-for-a-web-project", "title": "how to setup a unittest for a web-project", "body": "<p>I have problems to properly configure my first unittest in the DartEditor(1.8.5).</p>\n\n<p>I wrote a web-app with Dart that is located in the web-folder.\nNow i added a test-folder parallel to web with a file called <code>test.dart</code>:</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>library dartingflame_test;\n\nimport 'dart:math';\nimport 'package:unittest/unittest.dart';\nimport 'package:unittest/html_config.dart';\nimport 'package:mockito/mockito.dart';\nimport '../web/dartingflame.dart';\n\nvoid main() {\n  useHtmlConfiguration();\n\n  test(\"verify robot's direction after move\", verifyRobotDirectionAfterMove);\n}\n\nvoid verifyRobotDirectionAfterMove() {...}\n</code></pre>\n\n<p>Unfortunatly I now have problems to run this test file.</p>\n\n<ul>\n<li><strong>Run with Dartium</strong> leads to the message: <code>Unable to locate associated html file</code></li>\n<li><strong>Run</strong> leads to: <code>Observatory listening on http://127.0.0.1:49919\nThe built-in library 'dart:html' is not available on the stand-alone VM.\n'package:unittest/html_config.dart': error: line 10 pos 1: library handler failed\nimport 'dart:html';</code></li>\n</ul>\n\n<p>Using <code>useVMConfiguration()</code> instead of <code>useHtmlConfiguration()</code> doesn't help. The test execution still complaints about the <code>import 'dart:html';</code>-line in the library under test.</p>\n\n<p>I couldn't find a solution in the <a href=\"https://www.dartlang.org/articles/dart-unit-tests/\" rel=\"nofollow\">\"Unit Testing with Dart\"</a>-article.</p>\n\n<p><strong>UPDATE (incorporating G\u00fcnter Z\u00f6chbauer's comment)</strong></p>\n\n<p>ok, i created the index.html which invokes test.dart, but now i seem to have a problem with the relative import of the lib under test <code>import '../web/dartingflame.dart';</code>:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Failed to load resource: the server responded with a status of 404 (Not Found)\nhttp://localhost:8081/web/dartingflame.dart\nAn error occurred loading file: http://localhost:8081\n</code></pre>\n"}, {"tags": ["dart", "dart-async"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1422736438, "post_id": 28254508, "comment_id": 44870638, "body": "Don&#39;t you get an error when you run the code like <code>type &#39;_Future&#39; is not a subtype of type &#39;void&#39; of &#39;function result&#39;.</code> for the <code>void</code> before <code>main()...</code>?"}, {"owner": {"reputation": 1587, "user_id": 1221118, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/931e9bf94717ebd18e085a4189a1e150?s=128&d=identicon&r=PG", "display_name": "Peter StJ", "link": "https://stackoverflow.com/users/1221118/peter-stj"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1422799860, "post_id": 28254508, "comment_id": 44884027, "body": "No, I found what was wrong, but I don;t know why its wrong: removing the async_await transformed from the config resolved the issue. Later on I tried adding it last (after the other transformers) and it also worked, only broke it when added as first transformer. Submitted bug, Seth Ladd advised against the usage of this transformer so I will not make further attempts to make it work."}], "answers": [{"tags": [], "owner": {"reputation": 1587, "user_id": 1221118, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/931e9bf94717ebd18e085a4189a1e150?s=128&d=identicon&r=PG", "display_name": "Peter StJ", "link": "https://stackoverflow.com/users/1221118/peter-stj"}, "is_accepted": false, "score": 1, "last_activity_date": 1423685607, "creation_date": 1423685607, "answer_id": 28463619, "question_id": 28254508, "link": "https://stackoverflow.com/questions/28254508/dart-deferred-loading-and-async-await/28463619#28463619", "title": "Dart: deferred loading and async/await", "body": "<p>For some reason using the async_await transformer was the issue. See <a href=\"https://github.com/dart-lang/async_await/issues/81\" rel=\"nofollow\">https://github.com/dart-lang/async_await/issues/81</a></p>\n"}], "owner": {"reputation": 1587, "user_id": 1221118, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/931e9bf94717ebd18e085a4189a1e150?s=128&d=identicon&r=PG", "display_name": "Peter StJ", "link": "https://stackoverflow.com/users/1221118/peter-stj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1168, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1423685607, "creation_date": 1422725746, "last_edit_date": 1422734707, "question_id": 28254508, "link": "https://stackoverflow.com/questions/28254508/dart-deferred-loading-and-async-await", "title": "Dart: deferred loading and async/await", "body": "<p>I am trying to use deferred libraries and the new async style, but it does not seem to work:</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:async';\n\nimport 'package:defer/library1.dart' deferred as lib1;\n\nvoid main() async {\n  var b = await lib1.loadLibrary();\n  var a = new lib1.MyClass('Peter');\n  print(a.name);\n}\n</code></pre>\n\n<p>The deferred library is never loaded and Dartium loading indication always stays on.</p>\n\n<p>Am I doing something wrong?</p>\n"}, {"tags": ["dart"], "answers": [{"comments": [{"owner": {"reputation": 2325, "user_id": 1492051, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/07ecac667abb2bfa8d6698dc629bbb54?s=128&d=identicon&r=PG", "display_name": "FPGA", "link": "https://stackoverflow.com/users/1492051/fpga"}, "edited": false, "score": 0, "creation_date": 1422735070, "post_id": 28255975, "comment_id": 44870237, "body": "great but what about when the time comes to  interpolate?"}, {"owner": {"reputation": 2325, "user_id": 1492051, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/07ecac667abb2bfa8d6698dc629bbb54?s=128&d=identicon&r=PG", "display_name": "FPGA", "link": "https://stackoverflow.com/users/1492051/fpga"}, "edited": false, "score": 0, "creation_date": 1422735256, "post_id": 28255975, "comment_id": 44870289, "body": "yes thats my interpolate but nothing happens it prints the string as it is"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 2325, "user_id": 1492051, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/07ecac667abb2bfa8d6698dc629bbb54?s=128&d=identicon&r=PG", "display_name": "FPGA", "link": "https://stackoverflow.com/users/1492051/fpga"}, "edited": false, "score": 0, "creation_date": 1422735499, "post_id": 28255975, "comment_id": 44870376, "body": "Just add another comment if this isn&#39;t what you are looking for."}, {"owner": {"reputation": 2325, "user_id": 1492051, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/07ecac667abb2bfa8d6698dc629bbb54?s=128&d=identicon&r=PG", "display_name": "FPGA", "link": "https://stackoverflow.com/users/1492051/fpga"}, "edited": false, "score": 0, "creation_date": 1422737103, "post_id": 28255975, "comment_id": 44870855, "body": "still the Interpolate does not happen, the only change i did to my above code is i added r in the annotation and removed the replace statement and i am looking to make something like the highest voted answer in  that question to work"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 2325, "user_id": 1492051, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/07ecac667abb2bfa8d6698dc629bbb54?s=128&d=identicon&r=PG", "display_name": "FPGA", "link": "https://stackoverflow.com/users/1492051/fpga"}, "edited": false, "score": 0, "creation_date": 1422738098, "post_id": 28255975, "comment_id": 44871187, "body": "I updated my answer with your code modified to a working example."}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 2, "last_activity_date": 1422738071, "last_edit_date": 1422738071, "creation_date": 1422734667, "answer_id": 28255975, "question_id": 28252538, "link": "https://stackoverflow.com/questions/28252538/interpolate-string-within-an-annotation-class/28255975#28255975", "title": "Interpolate String within an annotation class", "body": "<p>You need to wrap the string in a function like <code>templateStr</code> below: </p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:mirrors';\n\nclass Context {\n  String name = \"some name\";\n  String color = \"some color\";\n  int age = 15;\n}\n\nvoid main() {\n  var c = new Chicken('aaaa','blue',99);\n  var templateValue = (reflectClass(Chicken).metadata.where((a)=&gt;a.reflectee.runtimeType == Template).first.reflectee as Template).value(c);\n  print(templateValue);\n}\n\nclass Template{\n  final Function value;\n  const Template(this.value);\n  String getValue(context) =&gt; value(context);\n}\n\nString templateStr(context) =&gt; '&lt;div&gt;name:${context.name} color:${context.color} age:${context.age}&lt;/div&gt;';\n\n@Template(templateStr)\nclass Chicken{\n  String name;\n  String color;\n  int age;\n  Chicken(this.name,this.color,this.age);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": false, "score": 2, "last_activity_date": 1422862165, "creation_date": 1422862165, "answer_id": 28272921, "question_id": 28252538, "link": "https://stackoverflow.com/questions/28252538/interpolate-string-within-an-annotation-class/28272921#28272921", "title": "Interpolate String within an annotation class", "body": "<p>\nString interpolation is a grammatical part of Dart, it is recognized while parsing.</p>\n\n<p>If you take a string and replace \"\\$\" in the string with \"$\", you will just get a string with \"$\" in it. It wasn't an interpolation at compile time, so it's not an interpolation now. </p>\n\n<p>You can think of string interpolation like \"$a foo $b\" as a shorthand for <code>\"\" + a.toString() + \" foo \" + b.toString() + \"\"</code>. The string interpolation is a <em>string expression</em>, but it's not a string itself - every time it is evaluated, it evaluates to a <em>new</em> string. (Well, a compile-time constant string interpolation is a string value at runtime, because it is only evaluated once, at compile time).</p>\n\n<p>If you want to make a template which is filled in at runtime, then you also have to make the code that does the filling in.</p>\n\n<p>One alternative is to not use a string, but instead a use a function in the annotation:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>// Top-level function is compile-time constant.\nmyTemplate(context) =&gt; \n  '&lt;div&gt;name:${context.name} color:${context.color} age:${context.age}&lt;/div&gt;';\n\n@Template(myTemplate)\nclass Chicken {...}\n</code></pre>\n\n<p>And then you can extract the function from the annotation the same way you currently do, and then call it with the chicken. This uses a real string interpolation to build the string, and it delays the evaluation until you have the context available.</p>\n\n<p>(If you have access to annotating the class, why don't you just add a method to the class instead. Then you won't need mirrors. Or if you don't want to add a method to the object, maybe make it static, and then look it up using mirrors)</p>\n"}], "owner": {"reputation": 2325, "user_id": 1492051, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/07ecac667abb2bfa8d6698dc629bbb54?s=128&d=identicon&r=PG", "display_name": "FPGA", "link": "https://stackoverflow.com/users/1492051/fpga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 28255975, "answer_count": 2, "score": 1, "last_activity_date": 1422862165, "creation_date": 1422713407, "last_edit_date": 1422734465, "question_id": 28252538, "link": "https://stackoverflow.com/questions/28252538/interpolate-string-within-an-annotation-class", "title": "Interpolate String within an annotation class", "body": "<p>I am trying to find a way to interpolate a string with in an annotation, since the parameters of an annotation class constructor have to be constant i had to skip the <code>$</code>, then replace <code>'\\$'</code> with <code>'$'</code> whenever i need to interpolate, the following example clarifies what i am trying to do</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:mirrors';\n\n    void main() {\n          var c = new Chicken('aaaa','blue',99);\n          var templateValue = (reflectClass(Chicken).metadata.where((a)=&gt;a.reflectee.runtimeType == Template).first.reflectee as Template).value;\n          print(interpolater.interpolate(c,templateValue));\n        }\n\n        class Template{\n          final String value;\n          const Template(this.value);\n        }\n\n        @Template('&lt;div&gt;name:\\${context.name} color:\\${context.color} age:\\${context.age}&lt;/div&gt;')\n        class Chicken{\n          String name;\n          String color;\n          int age;\n          Chicken(this.name,this.color,this.age);\n        }\n\n        class interpolater{\n          static String interpolate(Object context,String s){\n            s = s.replaceAll('\\\\\\$', '\\$'); \n            return s;\n          }\n        }\n</code></pre>\n\n<p>but it does not seem to work, anyway to make something like that work?</p>\n"}, {"tags": ["java", "optimization", "dictionary", "dart"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422734220, "post_id": 28252517, "comment_id": 44869994, "body": "I wonder why you don&#39;t use just one Position class whith two getters where one returns the pixel- and the other the model-position like <code>class Position { ModelPosition get modelPosition =&gt; ...; PixelPosition get pixelPosition }</code> then you don&#39;t need the loop at all."}, {"owner": {"reputation": 1838, "user_id": 975904, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/df8a5a4b9eb8345cad7e60052507c20f?s=128&d=identicon&r=PG", "display_name": "CarrKnight", "link": "https://stackoverflow.com/users/975904/carrknight"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422771479, "post_id": 28252517, "comment_id": 44877626, "body": "mostly because view depends on html and so cannot be unit tested."}], "owner": {"reputation": 1838, "user_id": 975904, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/df8a5a4b9eb8345cad7e60052507c20f?s=128&d=identicon&r=PG", "display_name": "CarrKnight", "link": "https://stackoverflow.com/users/975904/carrknight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1422713292, "creation_date": 1422713292, "question_id": 28252517, "link": "https://stackoverflow.com/questions/28252517/update-map-with-list-of-changes-efficently", "title": "Update Map with list of changes efficently", "body": "<p>Imagine a simple turn-based game; there are some players each with his own position:</p>\n\n<pre><code>Map&lt;Player,ModelPosition&gt; modelPositions\n</code></pre>\n\n<p>the GUI also has a similar map with pixel position</p>\n\n<pre><code>Map&lt;Player,PixelPosition&gt; guiPositions\n</code></pre>\n\n<p>Each turn a few players move. I compile a map of <strong>only the players that moved that turn</strong>:</p>\n\n<pre><code>Map&lt;Player,ModelPosition&gt; movements\n</code></pre>\n\n<p>Now I'd like to pass these movements to the gui to update the <code>PixelPosition</code> of the players that moved. Something like this:</p>\n\n<pre><code>for(Player p in movements.keySet())\n{\n guiPositions[p] = modelToPixelConverter(movements[p]))\n}\n</code></pre>\n\n<p>Now my problem is how to do it efficiently. I can make this slightly faster by looping over the Map.Entry (in Java) or using forEach (in Dart), but my real issue is that I am not iterating over guiPosition as well. I feel it wasteful to keep accessing it without iterating over it. Am I wrong?</p>\n\n<p>Is there a way to do it in Java/Dart? I am also just interested in the general principle here.</p>\n"}, {"tags": ["dart", "dart-polymer"], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1422693768, "creation_date": 1422693768, "answer_id": 28249788, "question_id": 28246245, "link": "https://stackoverflow.com/questions/28246245/missing-web-index-html-bootstrap-dart-js-at-dart-polymer-project/28249788#28249788", "title": "Missing web/index.html_bootstrap.dart.js at dart-polymer project", "body": "<p>AFAIR this script selects if Dart or JS source should be loaded but <code>pub build</code> doesn't support Dart ouput for client code yet.  </p>\n\n<p>I think this transformer removes this tag <a href=\"https://pub.dartlang.org/packages/dart_to_js_script_rewriter\" rel=\"nofollow\">https://pub.dartlang.org/packages/dart_to_js_script_rewriter</a> (didn't try it myself yet) </p>\n"}, {"comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1424322328, "post_id": 28596192, "comment_id": 45504065, "body": "$dart2js transformer is executed,  no matter if it is included in the pubspec.yaml file or not. Usually the order of transformers in pubspec.yaml is relevant but not for $dart2js (since a while)"}, {"owner": {"reputation": 2106, "user_id": 2117440, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/hTbXB.jpg?s=128&g=1", "display_name": "Luis Vargas", "link": "https://stackoverflow.com/users/2117440/luis-vargas"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1424362787, "post_id": 28596192, "comment_id": 45526434, "body": "I don&#39;t know why, but when I put $dart2js after polymer transformer it compiles index.html_bootstrap.dart to index.hml_bootstrap.dart.js. If I don&#39;t do that, index.html_bootstrap.dart is never compiled."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1424362883, "post_id": 28596192, "comment_id": 45526510, "body": "Interesting. What Dart version do you use (<code>dart --version</code> on command line)?"}, {"owner": {"reputation": 2106, "user_id": 2117440, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/hTbXB.jpg?s=128&g=1", "display_name": "Luis Vargas", "link": "https://stackoverflow.com/users/2117440/luis-vargas"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1424363859, "post_id": 28596192, "comment_id": 45527233, "body": "I tested on windows and linux, and both gave me the same result."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1424363904, "post_id": 28596192, "comment_id": 45527272, "body": "It&#39;s possible that 1.8.5 doesn&#39;t yet contain the change. In this case <code>$dart2js</code> has to be the last transformer in the list. I assume 1.9.0 will be out soon. Would be interesting if the position of <code>$dart2js</code> still matters."}], "tags": [], "owner": {"reputation": 2106, "user_id": 2117440, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/hTbXB.jpg?s=128&g=1", "display_name": "Luis Vargas", "link": "https://stackoverflow.com/users/2117440/luis-vargas"}, "is_accepted": false, "score": 0, "last_activity_date": 1424303235, "creation_date": 1424303235, "answer_id": 28596192, "question_id": 28246245, "link": "https://stackoverflow.com/questions/28246245/missing-web-index-html-bootstrap-dart-js-at-dart-polymer-project/28596192#28596192", "title": "Missing web/index.html_bootstrap.dart.js at dart-polymer project", "body": "<p>This is caused by $dart2js transformer, remove this transformer and then build again.</p>\n\n<pre><code>dependencies:\n  browser: 'any'\n  core_elements: '&gt;=0.6.0+4 &lt;0.7.0'\n  paper_elements: '&gt;=0.6.1 &lt;0.7.0'\n  polymer: '&gt;=0.15.5 &lt;0.16.0'\n  polymer_expressions: '&gt;=0.13.0+1 &lt;0.14.0'\ntransformers:\n- polymer:\n    entry_points: web/index.html\n    csp: true\n</code></pre>\n\n<p>or put $dart2js after polymer transformer:</p>\n\n<pre><code>dependencies:\n  browser: 'any'\n  core_elements: '&gt;=0.6.0+4 &lt;0.7.0'\n  paper_elements: '&gt;=0.6.1 &lt;0.7.0'\n  polymer: '&gt;=0.15.5 &lt;0.16.0'\n  polymer_expressions: '&gt;=0.13.0+1 &lt;0.14.0'\ntransformers:\n- polymer:\n    entry_points: web/index.html\n    csp: true\n- $dart2js:\n   $include: web/index.html_bootstrap.dart\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 616387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f26b047fe2705816b840cf529bd8fc54?s=128&d=identicon&r=PG", "display_name": "Erik Unger", "link": "https://stackoverflow.com/users/616387/erik-unger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 144, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1424303235, "creation_date": 1422660044, "question_id": 28246245, "link": "https://stackoverflow.com/questions/28246245/missing-web-index-html-bootstrap-dart-js-at-dart-polymer-project", "title": "Missing web/index.html_bootstrap.dart.js at dart-polymer project", "body": "<p>I have a dart project using polymer. When I call pub build or select \"Run as JavaScript\" on <code>web/index.html</code> the generated <code>build/web/index.html</code> has the following line at the end:</p>\n\n<pre><code>&lt;script src=\"index.html_bootstrap.dart.js\" async=\"\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>But I can't find <code>index.html_bootstrap.dart.js</code> anywhere.</p>\n\n<p>From my <code>pubspec.yaml</code>:</p>\n\n<pre><code>dependencies:\n  browser: 'any'\n  core_elements: '&gt;=0.6.0+4 &lt;0.7.0'\n  paper_elements: '&gt;=0.6.1 &lt;0.7.0'\n  polymer: '&gt;=0.15.5 &lt;0.16.0'\n  polymer_expressions: '&gt;=0.13.0+1 &lt;0.14.0'\ntransformers:\n- $dart2js:\n    $include: lib/*.dart\n    csp: true\n- polymer:\n    entry_points: web/index.html\n    csp: true\n</code></pre>\n\n<p>How and when is <code>index.html_bootstrap.dart.js</code> generated?</p>\n"}, {"tags": ["dart", "polymer", "dart-polymer"], "answers": [{"tags": [], "owner": {"reputation": 1426, "user_id": 1286442, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/5adc28de809c89b48ed40d03e9c5af71?s=128&d=identicon&r=PG", "display_name": "David Notik", "link": "https://stackoverflow.com/users/1286442/david-notik"}, "is_accepted": false, "score": 0, "last_activity_date": 1422892543, "creation_date": 1422892543, "answer_id": 28281598, "question_id": 28244532, "link": "https://stackoverflow.com/questions/28244532/how-to-prevent-a-simple-anchor-link-propagating-to-the-parent/28281598#28281598", "title": "How to prevent a simple anchor/link propagating to the parent?", "body": "<p>My current solution is to add an <code>on-tap</code> alongside the <code>a href</code> which calls a method that stops propagation of the event:</p>\n\n<pre><code>&lt;div id=\"wrapper\" on-tap=\"{{doSomething}}\"&gt;\n &lt;p&gt;Something unlinked.&lt;/p&gt;\n &lt;p&gt;&lt;a href=\"http://woven.co\" target=\"_blank\" on-tap=\"{{stopProp}}\"&gt;Something linked.&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The method:</p>\n\n<pre><code>stopProp(Event e) {\n  e.stopPropagation();\n}\n</code></pre>\n\n<p>The click on the <code>a</code> still opens the link in a new tab as expected, only now the event doesn't propagate/bubble up to the parent event.</p>\n"}], "owner": {"reputation": 1426, "user_id": 1286442, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/5adc28de809c89b48ed40d03e9c5af71?s=128&d=identicon&r=PG", "display_name": "David Notik", "link": "https://stackoverflow.com/users/1286442/david-notik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 283, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1422892543, "creation_date": 1422651622, "last_edit_date": 1422828726, "question_id": 28244532, "link": "https://stackoverflow.com/questions/28244532/how-to-prevent-a-simple-anchor-link-propagating-to-the-parent", "title": "How to prevent a simple anchor/link propagating to the parent?", "body": "<p>Say I want a simple <code>a</code> link within a <code>div</code> that itself has an <code>on-tap</code>:</p>\n\n<pre><code>&lt;div id=\"wrapper\" on-tap=\"{{doSomething}}\"&gt;\n &lt;p&gt;Something unlinked.&lt;/p&gt;\n &lt;p&gt;&lt;a href=\"http://woven.co\" target=\"_blank\"&gt;Something linked.&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The <code>a</code> is propagating/bubbling to the parent event, but I'd like to prevent that. In code, I can listen for clicks and <code>e.preventPropagation</code> but in code I've found it difficult to get a link to simply open in a new tab like the <code>a</code> + <code>target</code> method above would do.</p>\n\n<p>Most often I'm using <code>on-tap</code> and not <code>a</code> and so it's not as common of a need as it might seem, but it still seems like a simple ask.</p>\n\n<p>What's the best practice here?</p>\n"}, {"tags": ["json", "dart"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422636195, "post_id": 28240393, "comment_id": 44842184, "body": "Did you try to <code>print(content);</code> before <code>final params</code>?"}, {"owner": {"reputation": 16340, "user_id": 505810, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/76df8d243d91e68ef15e5fde3474bf90?s=128&d=identicon&r=PG", "display_name": "Pacane", "link": "https://stackoverflow.com/users/505810/pacane"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422636304, "post_id": 28240393, "comment_id": 44842256, "body": "I don&#39;t know how to do that, since the <code>payload()</code> method isn&#39;t mine (it&#39;s Start&#39;s)... When I try to edit the file, it won&#39;t let me (from IntelliJ)"}, {"owner": {"reputation": 16340, "user_id": 505810, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/76df8d243d91e68ef15e5fde3474bf90?s=128&d=identicon&r=PG", "display_name": "Pacane", "link": "https://stackoverflow.com/users/505810/pacane"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422636562, "post_id": 28240393, "comment_id": 44842406, "body": "@G&#252;nterZ&#246;chbauer See my edit"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422636578, "post_id": 28240393, "comment_id": 44842419, "body": "I see. I think I understand your question now but have no idea what could solve the problem. Maybe you have a better chance of getting a response by creating an issue in the GitHub repo."}, {"owner": {"reputation": 16340, "user_id": 505810, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/76df8d243d91e68ef15e5fde3474bf90?s=128&d=identicon&r=PG", "display_name": "Pacane", "link": "https://stackoverflow.com/users/505810/pacane"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422636757, "post_id": 28240393, "comment_id": 44842515, "body": "Yeah maybe. I&#39;ve got the hello world thingy, but I think it&#39;s kind of tedious no? I&#39;m coming from the Java world where everything is auto-converted into objects, and now I have to decode String characters haha!"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422636823, "post_id": 28240393, "comment_id": 44842564, "body": "Java uses Streams a lot too."}, {"owner": {"reputation": 16340, "user_id": 505810, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/76df8d243d91e68ef15e5fde3474bf90?s=128&d=identicon&r=PG", "display_name": "Pacane", "link": "https://stackoverflow.com/users/505810/pacane"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422636880, "post_id": 28240393, "comment_id": 44842605, "body": "Yes but behind the scenes no? Isn&#39;t there a library that does all that in Dart? (at least converting an httpRequest body into a json map or something like that..)"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422637586, "post_id": 28240393, "comment_id": 44843065, "body": "It&#39;s a while that I used Java but my experience regarding streams was quite similar (may have changed because it&#39;s a while back). It&#39;s only to allow you to pass the transformer you actually want to use. Not everyone sends/receives only JSON. You can wrap the code in a method and pass it instead to avoid repeating this code (I&#39;m not sure if this is what you are asking for)."}, {"owner": {"reputation": 17217, "user_id": 1240320, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3ff7ec4e8d7aebe239763aa235cd6d14?s=128&d=identicon&r=PG", "display_name": "Pixel Elephant", "link": "https://stackoverflow.com/users/1240320/pixel-elephant"}, "edited": false, "score": 0, "creation_date": 1422637625, "post_id": 28240393, "comment_id": 44843082, "body": "If you want auto-conversion between objects and JSON , you might be better off with the <a href=\"https://github.com/luizmineo/redstone.dart\" rel=\"nofollow noreferrer\">Redstone framework</a> which handles this via <a href=\"https://github.com/luizmineo/redstone.dart/wiki/redstone_mapper\" rel=\"nofollow noreferrer\">Redstone Mapper</a>."}, {"owner": {"reputation": 16340, "user_id": 505810, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/76df8d243d91e68ef15e5fde3474bf90?s=128&d=identicon&r=PG", "display_name": "Pacane", "link": "https://stackoverflow.com/users/505810/pacane"}, "edited": false, "score": 0, "creation_date": 1422637938, "post_id": 28240393, "comment_id": 44843265, "body": "I&#39;ll check it out, thanks!"}, {"owner": {"reputation": 924, "user_id": 3341001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/55IpD.jpg?s=128&g=1", "display_name": "Greg Sherman", "link": "https://stackoverflow.com/users/3341001/greg-sherman"}, "edited": false, "score": 0, "creation_date": 1422647782, "post_id": 28240393, "comment_id": 44848022, "body": "I second the suggestion of using the Redstone framework - I think it&#39;s much better in terms of what it offers over Start (I&#39;ve tried both), and the documentation is excellent."}], "answers": [{"tags": [], "owner": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "is_accepted": false, "score": 0, "last_activity_date": 1422679489, "creation_date": 1422679489, "answer_id": 28248239, "question_id": 28240393, "link": "https://stackoverflow.com/questions/28240393/parsing-json-using-dart-and-start-framework/28248239#28248239", "title": "Parsing JSON using Dart and Start framework", "body": "<p>If you are sending JSON you can't use that function because it looks like it's parsing formdata/key-value pairs from the response.</p>\n\n<p>Usually it should be <code>JSON.decode(content)['hello']</code> but your framework does not offer something like this.</p>\n"}], "owner": {"reputation": 16340, "user_id": 505810, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/76df8d243d91e68ef15e5fde3474bf90?s=128&d=identicon&r=PG", "display_name": "Pacane", "link": "https://stackoverflow.com/users/505810/pacane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1422679489, "creation_date": 1422635561, "last_edit_date": 1422636603, "question_id": 28240393, "link": "https://stackoverflow.com/questions/28240393/parsing-json-using-dart-and-start-framework", "title": "Parsing JSON using Dart and Start framework", "body": "<p>I'm trying listen to a <code>PUT</code> request on the server-side with Dart and I've chosen the <a href=\"https://github.com/lvivski/start\" rel=\"nofollow\">Start framework</a> and now I'm kind of stuck with this. </p>\n\n<p>Assuming I have this code on the server : </p>\n\n<pre><code>class Games {\n  Future&lt;Server&gt; startGamesServer() {\n    List&lt;Game&gt; games = [];\n\n    return start(port: 3010).then((Server app) {\n      print(\"Starting http server\");\n\n      app.put('/games').listen((Request request) {\n        request.payload().then((value) =&gt; print(\"hello\")); &lt;-- HERE\n      });\n    }\n}\n</code></pre>\n\n<p>And I'm doing the following request with Postman:</p>\n\n<p>target url: <code>localhost:3010/games</code></p>\n\n<p>request method: <code>PUT</code></p>\n\n<p>body with type JSON: <code>{\"hello\":\"world\"}</code></p>\n\n<p>I've tried using the <code>Request</code> object provided by the framework but it won't work with some <code>RangeError</code> exception in the <code>payload()</code> function:</p>\n\n<p><code>Unhandled exception:\nUncaught Error: RangeError: index (1) must be in the range [0..1)</code> </p>\n\n<pre><code>  Future&lt;Map&gt; payload({ Encoding enc: UTF8 }) {\n    var completer = new Completer();\n    _request.transform(const AsciiDecoder()).listen((content) {\n      final params = new Map.fromIterable(\n          content.split('&amp;').map((kvs) =&gt; kvs.split('=')),\n          key: (kv) =&gt; Uri.decodeQueryComponent(kv[0], encoding: enc),\n          value: (kv) =&gt; Uri.decodeQueryComponent(kv[1], encoding: enc) &lt;-- Fails here\n      );\n      completer.complete(params);\n    });\n    return completer.future;\n  }\n</code></pre>\n\n<p>It doesn't even print \"hello\"... I feel like I'm not using the <code>Request</code> object properly, according to the docs : </p>\n\n<p><code>put // adds a handler, returns a Stream&lt;Request&gt;</code></p>\n\n<p><em>Request</em></p>\n\n<pre><code>header(String name) // get header\naccepts(String type) // check accept header\ninput // raw HttpRequest stream\npath // requested URI path\nuri // requested URI\ncookies // provided cookies\nparam(String name) // get query param by name\npayload(Encoding enc) // get a promise with a Map of request body params\n</code></pre>\n\n<p><em>Response</em></p>\n\n<pre><code>header(String name, [value]) // get or set header\nget(String name) // get header\nset(String name) // set header\ntype(contentType) // set Content-Type\ncache(String cacheType) // set Cache-Control\nstatus(code) // sets response status code\ncookie(name, val) // sets cookie\nadd(string) // add a string to response\nclose() // closes response\nsend(string) // sends string and closes response\njson(Map data) // stringifies map and sends it\njsonp(String name, Map data) // stringifies map and sends it in callback as `name(data)`\nrender(viewName, [Map params]) // renders server view\n</code></pre>\n\n<p>Is there a way to get the actual json map from the query? I'd like to have a dart map with the following content:</p>\n\n<pre><code>{ \"hello\" : \"world\" }\n</code></pre>\n\n<p>edit: I've got \"{hello: world}\" printed by doing this:</p>\n\n<pre><code>app.put(GAMES).listen((Request request) {\n  print(\"put\");\n  request.input.listen((data) {\n    print(JSON.decode(new String.fromCharCodes(data)));\n  });\n});\n</code></pre>\n\n<p>I don't know if it's the best way though.</p>\n"}, {"tags": ["asynchronous", "dart", "synchronous"], "comments": [{"owner": {"reputation": 1316, "user_id": 2843151, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dcc0600155a5b5bcd96a9414ff822f7c?s=128&d=identicon&r=PG&f=1", "display_name": "bikeman868", "link": "https://stackoverflow.com/users/2843151/bikeman868"}, "edited": false, "score": 0, "creation_date": 1483125787, "post_id": 28238161, "comment_id": 70005386, "body": "It&#39;s not impossible, but it would require a major re-architecture of the Dart runtime philosophy, and maybe would need Dart to be multi-threaded. If they did make Dart multi-threaded then Dart programmers would all have to start dealing with thread synchronization issues which would significantly complicate everyone&#39;s life as well as breaking a lot of existing code."}], "answers": [{"comments": [{"owner": {"reputation": 1027, "user_id": 2862220, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/EZG6Z.jpg?s=128&g=1", "display_name": "Tina Hildebrandt", "link": "https://stackoverflow.com/users/2862220/tina-hildebrandt"}, "edited": false, "score": 1, "creation_date": 1422630058, "post_id": 28238318, "comment_id": 44838339, "body": "I have proposed a solution. I still can not see why something like this could not be implemented. And yes, Dart is inherently async which is good but if there would be a simple way to support sync programming the appeal to use Dart as an universal language for many domains would be even broader."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 1027, "user_id": 2862220, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/EZG6Z.jpg?s=128&g=1", "display_name": "Tina Hildebrandt", "link": "https://stackoverflow.com/users/2862220/tina-hildebrandt"}, "edited": false, "score": 0, "creation_date": 1422630270, "post_id": 28238318, "comment_id": 44838467, "body": "There is a simple way to program sync-only - don&#39;t call async functions ;-). Now with <code>async</code>/<code>await</code> is available I don&#39;t see why this should be a problem anyway. Async means that a callback is added to the event queue for later execution. I can&#39;t see how this could even be possible to return to sync execution in the calling function."}, {"owner": {"reputation": 1027, "user_id": 2862220, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/EZG6Z.jpg?s=128&g=1", "display_name": "Tina Hildebrandt", "link": "https://stackoverflow.com/users/2862220/tina-hildebrandt"}, "edited": false, "score": 1, "creation_date": 1422630579, "post_id": 28238318, "comment_id": 44838660, "body": "The above proposed <b>resync</b> function could provide exactly that: move over to the event queue, work them down till empty and return. Execution would continue after resync with the guarantee that every async piece of code has been finished."}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 2, "last_activity_date": 1422629073, "creation_date": 1422629073, "answer_id": 28238318, "question_id": 28238161, "link": "https://stackoverflow.com/questions/28238161/how-to-make-an-asynchronous-dart-call-synchronous/28238318#28238318", "title": "How to make an asynchronous Dart call synchronous?", "body": "<p>Dart is inherently async. Trying to avoid asynchronity won't work out. \nThere are sync versions of some API calls for example in <code>dart:io</code> and in some situations it might seem simpler to use them instead but because there aren't sync versions for all methods/functions you can't avoid async entirely.</p>\n\n<p>With the recent introduction of the <code>async</code>/<code>await</code> feature programming async become much simpler and the code looks almost like sync code (but it isn't).</p>\n\n<p>If a call went async it stays async. As far as I know there is nothing you can do about it.</p>\n"}, {"comments": [{"owner": {"reputation": 1027, "user_id": 2862220, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/EZG6Z.jpg?s=128&g=1", "display_name": "Tina Hildebrandt", "link": "https://stackoverflow.com/users/2862220/tina-hildebrandt"}, "edited": false, "score": 0, "creation_date": 1422631588, "post_id": 28238776, "comment_id": 44839232, "body": "The call stack argument is not convincing to me especially if you allow that only to happen in the main thread. Just continue on the existing call stack with the <b>resync</b> call. But the second argument is a real issue where no solution might exist. How to wait for the &quot;end of all async operations&quot; is not defined ..."}, {"owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "reply_to_user": {"reputation": 1027, "user_id": 2862220, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/EZG6Z.jpg?s=128&g=1", "display_name": "Tina Hildebrandt", "link": "https://stackoverflow.com/users/2862220/tina-hildebrandt"}, "edited": false, "score": 0, "creation_date": 1422889106, "post_id": 28238776, "comment_id": 44915015, "body": "I&#39;m not saying that Dart couldn&#39;t be made to work with multiple stacks (even though compilation to JS would be non-trivial), but currently there is only one stack per isolate. The async/await syntax is specified in such a way that the VM could have one stack per event, storing the stack on each await and restoring it when the future completes. It&#39;s just not done that way. And again, if we had multiple stacks, I&#39;d want to get rid of futures completely, and just do blocking communication."}, {"owner": {"reputation": 1027, "user_id": 2862220, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/EZG6Z.jpg?s=128&g=1", "display_name": "Tina Hildebrandt", "link": "https://stackoverflow.com/users/2862220/tina-hildebrandt"}, "edited": false, "score": 1, "creation_date": 1422992616, "post_id": 28238776, "comment_id": 44965601, "body": "The problem with async/await is that it looks nice and seems easy to use but it is no longer possible to debug the software. And specifically for software that is inherently synchronous and uses just one or two calls to an async function it is a waste of code and resources to make almost every function asynchronous just to deal with that situation. My productivity went to zero when I was forced to do that, mainly because debugging was no longer available."}], "tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": false, "score": 5, "last_activity_date": 1422630539, "creation_date": 1422630539, "answer_id": 28238776, "question_id": 28238161, "link": "https://stackoverflow.com/questions/28238161/how-to-make-an-asynchronous-dart-call-synchronous/28238776#28238776", "title": "How to make an asynchronous Dart call synchronous?", "body": "<p>The <code>resync</code> function cannot be implemented in Dart's current execution model.</p>\n\n<p>Asynchronous execution is contagious. A synchronous function must return before any other asynchronous events can execute, so there is no way to synchronously wait for asynchronous execution.</p>\n\n<p>Execution in Dart is single-threaded and event based. There is no way for the <code>resync</code> function to block without it also blocking all other execution in the same isolate, so the pending async operations will never happen.</p>\n\n<p>To block the synchronous execution, and continue executing something else, you need to preserve the entire call stack up to that point, and reinstate it later when the synchronous operations have completed. If you have that functionality, then there are probably better ways to do things than Future and Stream :)</p>\n\n<p>Also, waiting for \"all async execution\" isn't well-defined in an event based system. There might be a broadcast Stream emitting events coming in from the network, a periodic timer, or a receive port getting data from another isolate, or some other source of events that you can't wait for because they come from outside the isolate, or event the process. When the current isolate shuts down, it might send a final shut-down message to another isolate, so effectively the \"async execution\" isn't over until the isolate dies. </p>\n\n<p>Using the async/await syntax, you won't get synchronous operation, but it will be easier to code the similar asynchronous operation:\n</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>function() async {\n  var result = await asyncFunction();\n  return result;\n}\n</code></pre>\n\n<p>It won't wait for async operations that aren't reflected in the <code>Future</code> returned by <code>asyncFunction</code>, but that's the job of <code>asyncFunction</code> to not complete until its operations are complete.</p>\n"}, {"comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1483138477, "post_id": 41401506, "comment_id": 70009965, "body": "I&#39;d argue that &quot;turn an async method into a synchronous&quot; is misleading. An async call is scheduled from the sync call and then just left on its own the result ignored. A sync call always stays sync anyway. It&#39;s just whether or not a callback is passed for execution to continue at a specific point when an async call completes."}, {"owner": {"reputation": 1316, "user_id": 2843151, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dcc0600155a5b5bcd96a9414ff822f7c?s=128&d=identicon&r=PG&f=1", "display_name": "bikeman868", "link": "https://stackoverflow.com/users/2843151/bikeman868"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1483138781, "post_id": 41401506, "comment_id": 70010065, "body": "I agree, and maybe I can reword my answer. Since the question was about using a library of async functions in a synchronous application, I wanted to point out that if you don&#39;t care about the return value, then it is possible to wrap the async function in a synchronous one as shown. This may be helpful to someone finding this thread."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1483138869, "post_id": 41401506, "comment_id": 70010093, "body": "I didn&#39;t downvote because I know it&#39;s not too easy to word correctly. Just thought it wouldn&#39;t hurt to point it out ;-)"}, {"owner": {"reputation": 1316, "user_id": 2843151, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dcc0600155a5b5bcd96a9414ff822f7c?s=128&d=identicon&r=PG&f=1", "display_name": "bikeman868", "link": "https://stackoverflow.com/users/2843151/bikeman868"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1483140162, "post_id": 41401506, "comment_id": 70010436, "body": "Thanks for improving the quality of answers. I hope the new wording is more accurate."}, {"owner": {"reputation": 1027, "user_id": 2862220, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/EZG6Z.jpg?s=128&g=1", "display_name": "Tina Hildebrandt", "link": "https://stackoverflow.com/users/2862220/tina-hildebrandt"}, "edited": false, "score": 0, "creation_date": 1483171615, "post_id": 41401506, "comment_id": 70016089, "body": "I accept this as an answer to my question because it at least gives an idea of what is possible with the existing Dart implementation. I&#39;m no longer involved in Dart based development for the time beeing."}], "tags": [], "owner": {"reputation": 1316, "user_id": 2843151, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dcc0600155a5b5bcd96a9414ff822f7c?s=128&d=identicon&r=PG&f=1", "display_name": "bikeman868", "link": "https://stackoverflow.com/users/2843151/bikeman868"}, "is_accepted": true, "score": 27, "last_activity_date": 1483138832, "last_edit_date": 1483138832, "creation_date": 1483125236, "answer_id": 41401506, "question_id": 28238161, "link": "https://stackoverflow.com/questions/28238161/how-to-make-an-asynchronous-dart-call-synchronous/41401506#41401506", "title": "How to make an asynchronous Dart call synchronous?", "body": "<p>The only time that you can wrap an async method in a synchronous one is when you don't need to get a return value.</p>\n\n<p>For example if you want to disable the save button, save results to the server asynchronously and re-enable the save button when the job is done you can write it like this:</p>\n\n<pre><code>Future&lt;bool&gt; save() async {\n  // save changes async here\n  return true;\n}\n\nvoid saveClicked() {\n  saveButton.enabled = false;\n  save()\n    .then((success) =&gt; window.alert(success ? 'Saved' : 'Failed'))\n    .catchError((e) =&gt; window.alert(e))\n    .whenComplete(() { saveButton.enabled = true; });\n}\n</code></pre>\n\n<p>Note that the <code>saveClicked</code> method is fully synchronous, but executes the <code>save</code> method asynchronously.</p>\n\n<p>Note that if you make <code>saveClicked</code> async, not only do you have to call it using the async pattern, but the entire method body will run asynchronously so the save button will not be disabled when the function returns.</p>\n\n<p>For completeness the async version of <code>saveClicked</code> looks like this:</p>\n\n<pre><code>Future&lt;Null&gt; saveClicked() async {\n  saveButton.enabled = false;\n  try {\n    bool success = await save();\n    window.alert(success ? 'Saved' : 'Failed');\n  }\n  catch (e) {\n    window.alert(e);\n  }\n  finally {\n    saveButton.enabled = true;\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3833, "user_id": 2422453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f554a658430799c5da0dd1489f079d9?s=128&d=identicon&r=PG", "display_name": "Defuera", "link": "https://stackoverflow.com/users/2422453/defuera"}, "edited": false, "score": 8, "creation_date": 1565679450, "post_id": 56553331, "comment_id": 101417410, "body": "Looks like you cannot use it in flutter, it&#39;s only for cli"}, {"owner": {"reputation": 946, "user_id": 9392211, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Levi Lesches", "link": "https://stackoverflow.com/users/9392211/levi-lesches"}, "reply_to_user": {"reputation": 3833, "user_id": 2422453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f554a658430799c5da0dd1489f079d9?s=128&d=identicon&r=PG", "display_name": "Defuera", "link": "https://stackoverflow.com/users/2422453/defuera"}, "edited": false, "score": 0, "creation_date": 1565715927, "post_id": 56553331, "comment_id": 101436079, "body": "Yeah that&#39;s unfortunate. But there seems to be no real way to do this in Flutter (if there is I&#39;m also interested), and OP wants cli anyway. If you really need to change async values to sync, I would suggest awaiting them in the main function, and passing that value to, say, an inherited widget. That&#39;s basically my structure for my projects."}, {"owner": {"reputation": 523, "user_id": 13237885, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nphPF.jpg?s=128&g=1", "display_name": "TDM", "link": "https://stackoverflow.com/users/13237885/tdm"}, "edited": false, "score": 0, "creation_date": 1596537406, "post_id": 56553331, "comment_id": 111836299, "body": "Yes using waitFor can run Asynchronous Task, But it Blocks main Ui thread until it completed.!"}, {"owner": {"reputation": 946, "user_id": 9392211, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Levi Lesches", "link": "https://stackoverflow.com/users/9392211/levi-lesches"}, "edited": false, "score": 1, "creation_date": 1596586806, "post_id": 56553331, "comment_id": 111857242, "body": "Yep -- that&#39;s what &quot;synchronous&quot; means.... And why working with async functions is a good thing!"}], "tags": [], "owner": {"reputation": 946, "user_id": 9392211, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Levi Lesches", "link": "https://stackoverflow.com/users/9392211/levi-lesches"}, "is_accepted": false, "score": 6, "last_activity_date": 1560300588, "creation_date": 1560300588, "answer_id": 56553331, "question_id": 28238161, "link": "https://stackoverflow.com/questions/28238161/how-to-make-an-asynchronous-dart-call-synchronous/56553331#56553331", "title": "How to make an asynchronous Dart call synchronous?", "body": "<p>Yes, this is way late, but I think this is a cool feature new people should know about.</p>\n\n<p>There <em>is</em> a way, but the Dart docs warn against it (and it's somehow \"experimental\", although the implications aren't really discussed).</p>\n\n<p>The <a href=\"https://api.dartlang.org/stable/2.3.1/dart-cli/waitFor.html\" rel=\"noreferrer\"><code>waitFor</code></a> command.</p>\n\n<p>You basically pass in an asynchronous function that returns a <code>Future</code>, an optional <code>timeout</code> parameter, and the <code>waitFor</code> function will return the result. </p>\n\n<p>For example:</p>\n\n<pre><code>final int number = waitFor&lt;int&gt;(someAsyncThatReturnsInt);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8759, "user_id": 2162226, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/DaJ7l.jpg?s=128&g=1", "display_name": "Gene Bo", "link": "https://stackoverflow.com/users/2162226/gene-bo"}, "is_accepted": false, "score": -1, "last_activity_date": 1589825644, "creation_date": 1589825644, "answer_id": 61876226, "question_id": 28238161, "link": "https://stackoverflow.com/questions/28238161/how-to-make-an-asynchronous-dart-call-synchronous/61876226#61876226", "title": "How to make an asynchronous Dart call synchronous?", "body": "<p>Here's a solution based on staggering the start of the async function with start times at least 1 second apart, when calls come in almost simultaneously.  </p>\n\n<p>Steps:</p>\n\n<ol>\n<li><p>Use the <code>lastKnownTime</code> to calculate the delta, where the initial value is <code>0</code> </p></li>\n<li><p>Once the delta is not some huge number, you know it's a duplicate call.</p></li>\n</ol>\n\n<pre><code>\n    class StartConversationState extends State&lt;StartConversationStatefulWidget&gt; {\n\n      @override\n      Widget build(BuildContext context) {\n\n        _delayPush(); // this is the call that gets triggered multiple times\n      }\n\n      int lastKnownTime = 0;\n      int delayMillis = 3000;\n\n      _delayPush() async {\n        delayMillis += 1500;\n\n        await new Future.delayed(Duration(milliseconds: delayMillis));\n\n        int millisSinceEpoch = new DateTime.now().millisecondsSinceEpoch;\n        int delta = millisSinceEpoch - lastKnownTime;\n\n        // if delta is less than 10 seconds, means it was a subsequent interval\n        if (delta &lt; 10000) {\n\n          print('_delayPush() , SKIPPING DUPLICATE CALL');\n          return;\n        }\n\n        // here is the logic you don't want to duplicate\n        // eg, insert DB record and navigate to next screen\n    }\n\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 643, "user_id": 4214037, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6245e35a25467b61830cdd8035c8a0cd?s=128&d=identicon&r=PG&f=1", "display_name": "32cupo", "link": "https://stackoverflow.com/users/4214037/32cupo"}, "edited": false, "score": 0, "creation_date": 1591944622, "post_id": 62338318, "comment_id": 110251861, "body": "Some description of your code or why you chose this approach will improve quality of your answer. please read <a href=\"https://stackoverflow.com/help/how-to-answer\">stackoverflow.com/help/how-to-answer</a>"}], "tags": [], "owner": {"reputation": 129, "user_id": 10941178, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BRPR9xN30bc/AAAAAAAAAAI/AAAAAAAAB4Q/B_ujD5AYImU/photo.jpg?sz=128", "display_name": "Kalyan Biswas", "link": "https://stackoverflow.com/users/10941178/kalyan-biswas"}, "is_accepted": false, "score": 0, "last_activity_date": 1591941250, "creation_date": 1591941250, "answer_id": 62338318, "question_id": 28238161, "link": "https://stackoverflow.com/questions/28238161/how-to-make-an-asynchronous-dart-call-synchronous/62338318#62338318", "title": "How to make an asynchronous Dart call synchronous?", "body": "<pre><code>import 'package:synchronized_lite/synchronized_lite.dart';\n\nimport 'dart:async';\n\n// Using Lock as a mixin to further mimic Java-style synchronized blocks\nclass SomeActivity with Lock {\n\n  bool _started = false;\n\n  Future&lt;bool&gt; start() async {\n    // It's correct to return a Future returned by synchronized()\n    return synchronized(() async {\n      if(_started)\n        return false;\n      // perform the start operation\n      await Future.delayed(Duration(seconds: 1));\n      print(\"Started\");\n      _started = true;\n      return true;\n    });\n  }\n\n  Future&lt;void&gt; stop() async {\n    // It's also correct to await a synchronized() call before returning\n    // It's incorrect to neither await a synchronized() call nor return its Future.\n    await synchronized(() async {\n      if(!_started)\n        return;\n      // perform the stop operation`enter code here`\n      await Future.delayed(Duration(seconds: 1));\n      print(\"Stopped\");\n      _started = false;\n    });\n  }\n}\n\n// Prints:\n//   Started\n//   Stopped\nmain() async {\n  var a = SomeActivity();\n  print(\"Hello\");\n  a.start();\n  a.start();\n  a.stop();\n  await a.stop();\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1382, "user_id": 7280528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5a7bf8df6759e0c2865eee2d772b57d?s=128&d=identicon&r=PG&f=1", "display_name": "Nadeem Siddique", "link": "https://stackoverflow.com/users/7280528/nadeem-siddique"}, "edited": false, "score": 0, "creation_date": 1595774045, "post_id": 62707241, "comment_id": 111584232, "body": "This is synchronous but has async code in it buddy. OP asked if he could make an async code run synchronously without async wrappers"}], "tags": [], "owner": {"reputation": 654, "user_id": 1635133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dcc5d0a990eb7f1405fec22b3540813?s=128&d=identicon&r=PG", "display_name": "jasxir", "link": "https://stackoverflow.com/users/1635133/jasxir"}, "is_accepted": false, "score": -1, "last_activity_date": 1593740171, "creation_date": 1593740171, "answer_id": 62707241, "question_id": 28238161, "link": "https://stackoverflow.com/questions/28238161/how-to-make-an-asynchronous-dart-call-synchronous/62707241#62707241", "title": "How to make an asynchronous Dart call synchronous?", "body": "<p>I came here to find an answer but figured out a way, it's as below and works.</p>\n<pre><code>Future&lt;dynamic&gt; lastCallFuture;\n\nFuture&lt;T&gt; myAsyncFunction&lt;T&gt;(T value) async {\n  if(lastCallFuture != null) {\n    await lastCallFuture;\n  }\n  return lastCallFuture = _myAsyncFunction(value);\n}\n\nFuture&lt;T&gt; _myAsyncFunction&lt;T&gt;(T value) async =&gt; value;\n</code></pre>\n<p>You're welcome.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14688490, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GjNwcVDoH3hJ3YYQGoRLgRAi65DUewnaYkUjvlLsg=k-s128", "display_name": "Servet", "link": "https://stackoverflow.com/users/14688490/servet"}, "is_accepted": false, "score": 0, "last_activity_date": 1606682553, "last_edit_date": 1606682553, "creation_date": 1606081728, "answer_id": 64959955, "question_id": 28238161, "link": "https://stackoverflow.com/questions/28238161/how-to-make-an-asynchronous-dart-call-synchronous/64959955#64959955", "title": "How to make an asynchronous Dart call synchronous?", "body": "<p>/*Since the Await statement can be used in only asynchronous methods. Then we do two methods.I thinking first we call the async method and then we constantly query the null result for the non-async method. Then we get a synchronized model. In this way, we will wait for the answer in the non-async method. Such a method comes to my mind. But as far as I can see, there is no escape from the async working model in flutter dart  language. Need to get used to it.It may be unprofessional, but I wanted to share the solution that came to my mind. hope it helps.</p>\n<pre><code> Stock resultStockQueryByBarcodeAsync;\n  bool waitStockQueryByBarcodeAsyncCompleted = false;\n\n  Stock WaitStockQueryByBarcodeAsync(String barcode, int timeOut) {\n    CallStockQueryByBarcodeAsync(barcode);\n    var startTime = new DateTime.now();\n    while (!waitStockQueryByBarcodeAsyncCompleted) {\n      Duration difference = DateTime.now().difference(startTime);\n      if (difference.inMilliseconds &gt; timeOut) {\n        throw TimeoutException(&quot;Timeout Exceeded&quot;);\n      }\n      //we must scope time. Because it can be enter endless loop.\n    }\n    return resultStockQueryByBarcodeAsync;\n  }\n\n  void CallStockQueryByBarcodeAsync(String barcode) async {\n    waitStockQueryByBarcodeAsyncCompleted = false;\n    resultStockQueryByBarcodeAsync = null;\n    var stock = await StockQueryByBarcodeAsync(barcode);/*your target async method*/\n    waitStockQueryByBarcodeAsyncCompleted = true;\n    resultStockQueryByBarcodeAsync = stock;\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11993, "user_id": 10563627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xQL2O.jpg?s=128&g=1", "display_name": "Paresh Mangukiya", "link": "https://stackoverflow.com/users/10563627/paresh-mangukiya"}, "is_accepted": false, "score": 0, "last_activity_date": 1609902924, "creation_date": 1609902924, "answer_id": 65589715, "question_id": 28238161, "link": "https://stackoverflow.com/questions/28238161/how-to-make-an-asynchronous-dart-call-synchronous/65589715#65589715", "title": "How to make an asynchronous Dart call synchronous?", "body": "<p>Dart has a single-threaded execution model, with support for <code>Isolates</code> (a way to run Dart code on another thread), an event loop, and asynchronous programming. Unless you spawn an Isolate, your Dart code runs in the main UI thread and is driven by an event loop. Flutter\u2019s event loop is equivalent to the iOS main loop\u2014that is, the <code>Looper</code> that is attached to the main thread.</p>\n<p>Dart\u2019s single-threaded model doesn\u2019t mean you are required to run everything as a blocking operation that causes the UI to freeze. Instead, use the asynchronous facilities that the Dart language provides, such as <code>async/await</code>, to perform asynchronous work.</p>\n<p>For example, you can run network code without causing the UI to hang by using <code>async/await</code> and letting Dart do the heavy lifting:</p>\n<pre><code>loadData() async {\n  String dataURL = &quot;https://jsonplaceholder.typicode.com/posts&quot;;\n  http.Response response = await http.get(dataURL);\n  setState(() {\n    widgets = jsonDecode(response.body);\n  });\n}\n</code></pre>\n<p>Once the <code>awaited</code> network call is done, update the UI by calling <code>setState()</code>, which triggers a rebuild of the widget sub-tree and updates the data.</p>\n<p>The following example loads data asynchronously and displays it in a <code>ListView</code>:</p>\n<pre><code>import 'dart:convert';\n\nimport 'package:flutter/material.dart';\nimport 'package:http/http.dart' as http;\n\nvoid main() {\n  runApp(SampleApp());\n}\n\nclass SampleApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Sample App',\n      theme: ThemeData(\n        primarySwatch: Colors.blue,\n      ),\n      home: SampleAppPage(),\n    );\n  }\n}\n\nclass SampleAppPage extends StatefulWidget {\n  SampleAppPage({Key key}) : super(key: key);\n\n  @override\n  _SampleAppPageState createState() =&gt; _SampleAppPageState();\n}\n\nclass _SampleAppPageState extends State&lt;SampleAppPage&gt; {\n  List widgets = [];\n\n  @override\n  void initState() {\n    super.initState();\n    loadData();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(&quot;Sample App&quot;),\n      ),\n      body: ListView.builder(\n          itemCount: widgets.length,\n          itemBuilder: (BuildContext context, int position) {\n            return getRow(position);\n          }));\n  }\n\n  Widget getRow(int i) {\n    return Padding(\n      padding: EdgeInsets.all(10.0),\n      child: Text(&quot;Row ${widgets[i][&quot;title&quot;]}&quot;)\n    );\n  }\n\n  loadData() async {\n    String dataURL = &quot;https://jsonplaceholder.typicode.com/posts&quot;;\n    http.Response response = await http.get(dataURL);\n    setState(() {\n      widgets = jsonDecode(response.body);\n    });\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1027, "user_id": 2862220, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/EZG6Z.jpg?s=128&g=1", "display_name": "Tina Hildebrandt", "link": "https://stackoverflow.com/users/2862220/tina-hildebrandt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28787, "favorite_count": 6, "accepted_answer_id": 41401506, "answer_count": 9, "score": 28, "last_activity_date": 1609902924, "creation_date": 1422628553, "last_edit_date": 1495541443, "question_id": 28238161, "link": "https://stackoverflow.com/questions/28238161/how-to-make-an-asynchronous-dart-call-synchronous", "title": "How to make an asynchronous Dart call synchronous?", "body": "<p>I'm on the way to evaluate Dart for a German company by porting various Java programs to Dart and compare and analyze the results. In the browser Dart wins hands down. For server software performance seemed to be a serious isssue (see <a href=\"https://stackoverflow.com/questions/28026648/how-to-improve-dart-performance-of-data-conversion-to-from-binary\">this question of me</a>) but that got mostly defused.</p>\n\n<p>Now I'm in the area of porting some \"simple\" command-line tools where I did not expect any serious problems at all but there is at least one. Some of the tools do make HTTP requests to collect some data and the stand-alone Dart virtual machine only supports them in an asynchronous fashion. Looking through all I could find it does not seem to be possible to use any asynchronous call in a mostly synchronous software.</p>\n\n<p>I understand that I could restructure the available synchronous software into an asynchronous one. But this would transform a well-designed piece of software into something less readable and more difficult to debug and maintain. For some software pieces this just does not make sense.\nMy question: Is there an (overlooked by me) way to embed an asynchronous call into a synchronously called method?</p>\n\n<p>I imagine that it would not be to difficult to provide a system call, usable only from within the main thread, which just transfers the execution to the whole list of queued asynchronous function calls (without having to end the main thread first) and as soon as the last one got executed returns and continues the main thread.</p>\n\n<p>Something which might look like this:</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>var synchFunction() {\n  var result;\n  asyncFunction().then(() { result = ...; });\n\n  resync(); // the system call to move to and wait out all async execution\n\n  return result;\n}\n</code></pre>\n\n<p>Having such a method would simplify the lib APIs as well. Most \"sync\" calls could be removed because the re-synchronisation call would do the job. It seems to be such a logical idea that I still think it somehow exists and I have missed it. Or is there a serious reason why that would not work?\n<hr>\nAfter thinking about the received answer from <code>lm</code> (see below) for two days I still do not understand why the encapsulation of an asynchronous Dart call into a synchronous one should not be possible. It is done in the \"normal\" synchronous programing world all the time. Usually you can wait for a resynchronization by either getting a \"Done\" from the asynchronous routine or if something fails continue after a timeout.</p>\n\n<p>With that in mind my first proposal could be enhanced like that:\n</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>var synchFunction() {\n  var result;\n  asyncFunction()\n    .then(() { result = ...; })\n    .whenComplete(() { continueResync() }); // the \"Done\" message\n\n  resync(timeout); // waiting with a timeout as maximum limit\n\n  // Either we arrive here with the [result] filled in or a with a [TimeoutException].\n  return result;\n}\n</code></pre>\n\n<p>The <code>resync()</code> does the same that would normally happen after ending the <code>main</code> method of an isolate, it starts executing the queued asynchronous functions (or waits for events to make them executable). As soon as it encounters a <code>continueResync()</code> call a flag is set which stops this asynchronous execution and <code>resync()</code> returns to the main thread. If no <code>continueResync()</code> call is encountered during the given <code>timeout</code> period it too aborts the asynchronous execution and leaves <code>resync()</code> with a <code>TimeoutException</code>.</p>\n\n<p>For some groups of software which benefit from straight synchronous programing (not the client software and not the server software) such a feature would solve lots of problems for the programer who has to deal with asynchrounous-only libraries.</p>\n\n<p>I believe that I have also found a solution for the main argument in <code>lm</code>'s argumentation below. Therefore my question still stands with respect to this \"enhanced\" solution which I proposed: <strong>Is there anything which really makes it impossible to implement that in Dart?</strong></p>\n"}, {"tags": ["dart", "dart-pub"], "comments": [{"owner": {"reputation": 2642, "user_id": 1967704, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VfDfH.jpg?s=128&g=1", "display_name": "George Netu", "link": "https://stackoverflow.com/users/1967704/george-netu"}, "edited": false, "score": 0, "creation_date": 1422631106, "post_id": 28238089, "comment_id": 44838951, "body": "Have you tried using a different JDK?"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422632746, "post_id": 28238089, "comment_id": 44839952, "body": "Have you tried <code>pub cache repair</code> and delete the <code>. pub</code> dir in your project?"}, {"owner": {"reputation": 437, "user_id": 1799985, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a4a0c045a485ec377a89655b030b949c?s=128&d=identicon&r=PG", "display_name": "The Ice Mage", "link": "https://stackoverflow.com/users/1799985/the-ice-mage"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422633231, "post_id": 28238089, "comment_id": 44840268, "body": "@G&#252;nterZ&#246;chbauer how do you run pub command line things in Windows? I will try deleting the .pub now anyway."}, {"owner": {"reputation": 437, "user_id": 1799985, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a4a0c045a485ec377a89655b030b949c?s=128&d=identicon&r=PG", "display_name": "The Ice Mage", "link": "https://stackoverflow.com/users/1799985/the-ice-mage"}, "edited": false, "score": 0, "creation_date": 1422633406, "post_id": 28238089, "comment_id": 44840386, "body": "Wait...I don&#39;t seem to have a .pub directory in my projects."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422633452, "post_id": 28238089, "comment_id": 44840421, "body": "Just ensure you have the <code>dart-sdk&#47;bin</code> directory in your path, open a shell and write the command."}, {"owner": {"reputation": 437, "user_id": 1799985, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a4a0c045a485ec377a89655b030b949c?s=128&d=identicon&r=PG", "display_name": "The Ice Mage", "link": "https://stackoverflow.com/users/1799985/the-ice-mage"}, "edited": false, "score": 0, "creation_date": 1422633763, "post_id": 28238089, "comment_id": 44840620, "body": "So I changed directory as appropriate <code>cd Downloads\\dart\\dart-sdk\\bin</code> and when trying to run <code>pub cache repair</code>I get pretty much the same error."}, {"owner": {"reputation": 437, "user_id": 1799985, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a4a0c045a485ec377a89655b030b949c?s=128&d=identicon&r=PG", "display_name": "The Ice Mage", "link": "https://stackoverflow.com/users/1799985/the-ice-mage"}, "edited": false, "score": 1, "creation_date": 1422637389, "post_id": 28238089, "comment_id": 44842940, "body": "Would a fresh &quot;install&quot; of DartEditor help? I think I will try that quite soon when I get the chance."}], "answers": [{"comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422802177, "post_id": 28263711, "comment_id": 44884694, "body": "I guess the previous downlod was somehow corrupted and Idoubt there was any other way to solve it."}, {"owner": {"reputation": 437, "user_id": 1799985, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a4a0c045a485ec377a89655b030b949c?s=128&d=identicon&r=PG", "display_name": "The Ice Mage", "link": "https://stackoverflow.com/users/1799985/the-ice-mage"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1422803532, "post_id": 28263711, "comment_id": 44885077, "body": "That makes sense I guess. Who knows what might have gotten muddled up with the whole system restore process and whatnot. Oh well at least things in general seem ok."}], "tags": [], "owner": {"reputation": 437, "user_id": 1799985, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a4a0c045a485ec377a89655b030b949c?s=128&d=identicon&r=PG", "display_name": "The Ice Mage", "link": "https://stackoverflow.com/users/1799985/the-ice-mage"}, "is_accepted": true, "score": 2, "last_activity_date": 1422800552, "creation_date": 1422800552, "answer_id": 28263711, "question_id": 28238089, "link": "https://stackoverflow.com/questions/28238089/pub-error-pub-build-failed-255-wrong-script-snapshot-version/28263711#28263711", "title": "Pub error: Pub build failed, [255] Wrong script snapshot version", "body": "<p>Ok, so deleting the dart directory (the one with the editor executable, relevant .jar files and all that other stuff)  and downloading it anew did resolve my issue. I'm curious though as to whether anyone knows what might have caused the issue, and/or what other things I might have been able to do to resolve it.</p>\n"}], "owner": {"reputation": 437, "user_id": 1799985, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a4a0c045a485ec377a89655b030b949c?s=128&d=identicon&r=PG", "display_name": "The Ice Mage", "link": "https://stackoverflow.com/users/1799985/the-ice-mage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 730, "favorite_count": 0, "accepted_answer_id": 28263711, "answer_count": 1, "score": 0, "last_activity_date": 1422800552, "creation_date": 1422628326, "last_edit_date": 1422630972, "question_id": 28238089, "link": "https://stackoverflow.com/questions/28238089/pub-error-pub-build-failed-255-wrong-script-snapshot-version", "title": "Pub error: Pub build failed, [255] Wrong script snapshot version", "body": "<p>I have started getting this issue now after going through a lot of \"chaos\" with performing a system restore (I'm on Win8.1) while trying to get a certain game working again. Now that that mess is over and done with, I have been left with a few apps and such removed and needing to be reinstalled, including the JDK which I have already reinstalled. Since I have a project I need to work on I opened up DartEditor again and when I tried to do <code>pub build</code> I get this error:</p>\n\n<pre><code>Pub build failed, [255] Wrong script snapshot version, expected  \n'f6711525cff9f7d0d08595166664b767' found '836a274342f7f88d6b5a9bb59b2649a9'\n</code></pre>\n\n<p>Googling led me to this old <a href=\"https://code.google.com/p/dart/issues/detail?id=20565#makechanges\" rel=\"nofollow\">issue</a> but that's labelled as fixed...what could be going wrong here?</p>\n"}, {"tags": ["dart", "dart2js"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422594678, "post_id": 28225670, "comment_id": 44821972, "body": "Can you please add the HTML of your entry page (<code>index. html</code>) and the error message of case 2."}, {"owner": {"reputation": 8692, "user_id": 2118130, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/4c625ee20608ac0826ae23d70886b0d6?s=128&d=identicon&r=PG", "display_name": "Cristian Garcia", "link": "https://stackoverflow.com/users/2118130/cristian-garcia"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422595079, "post_id": 28225670, "comment_id": 44822061, "body": "@G&#252;nterZ&#246;chbauer is the <code>index</code> relevant during build? See update."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422595345, "post_id": 28225670, "comment_id": 44822126, "body": "I could&#39;t find anything wrong with your <code>pubspec.yaml</code> and the script tags in your entry page were my next suspects. You don&#39;t get any error messages in the 1st case?"}, {"owner": {"reputation": 8692, "user_id": 2118130, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/4c625ee20608ac0826ae23d70886b0d6?s=128&d=identicon&r=PG", "display_name": "Cristian Garcia", "link": "https://stackoverflow.com/users/2118130/cristian-garcia"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422632448, "post_id": 28225670, "comment_id": 44839792, "body": "For some other unknown reason, if I serve the application with <code>pub</code>, I get a <code>not found</code> error on <code>main.dart</code>!!!"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422632577, "post_id": 28225670, "comment_id": 44839862, "body": "Can you post full error message? Any stack trace?"}], "owner": {"reputation": 8692, "user_id": 2118130, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/4c625ee20608ac0826ae23d70886b0d6?s=128&d=identicon&r=PG", "display_name": "Cristian Garcia", "link": "https://stackoverflow.com/users/2118130/cristian-garcia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1406, "favorite_count": 2, "answer_count": 0, "score": 1, "last_activity_date": 1422595018, "creation_date": 1422569741, "last_edit_date": 1422595018, "question_id": 28225670, "link": "https://stackoverflow.com/questions/28225670/main-dart-js-not-produced-on-build", "title": "main.dart.js not produced on build", "body": "<p>I haven't build in a long time so I dont know if this is new or not, but recently I decided to use <code>async</code> and <code>await</code> to make code look nicer. However, I tried to build just to verity it worked on JS but I am getting two cases depending on what I include in my <code>pubspec.yaml</code>:</p>\n\n<ol>\n<li>It builds but it doesn't produce <code>main.dart.js</code> file in particular.</li>\n<li>It throws an error blaming <code>redstone_mapper</code></li>\n</ol>\n\n<p>With this <code>pubspec.yaml</code> I am getting the first case</p>\n\n<pre><code>name: aristadart\ndescription: A sample web application\ndependencies:\n  angular: 1.0.0\n  browser: any\n  di: any\n  fp: any\n  http: any\n  mongo_dart: any\n  redstone: any\n  redstone_mapper: any\n  redstone_mapper_mongo: any\n  shelf_static: any\n  async_await:\n    git: https://github.com/dart-lang/async_await.git\n\ntransformers:\n- async_await\n- redstone_mapper\n- angular:\n    html_files:\n    - lib/components/login/login.html\n    - lib/components/login/nuevo_usuario.html\n    - lib/components/home/home.html\n    - lib/components/evento/evento.html\n    - lib/components/vista/vista.html\n\ndependency_overrides:\n  analyzer: ^0.22.4\n  barback: ^0.15.2+2\n  code_transformers: ^0.2.3+2\n  di: ^3.3.3\n  route_hierarchical: ^0.6.1\n</code></pre>\n\n<p>Here is my <code>index.html</code></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html ng-app class=\"no-js\" lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /&gt;\n    &lt;title&gt;Arista Client&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" href=\"css/arista.css\" /&gt;\n    &lt;link rel=\"stylesheet\" href=\"css/foundation.css\" /&gt;\n    &lt;script src=\"js/vendor/modernizr.js\"&gt;&lt;/script&gt;\n\n    &lt;link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400,600' rel='stylesheet' type='text/css'&gt;\n    &lt;link href='http://fonts.googleapis.com/css?family=Lato&amp;subset=latin,latin-ext' rel='stylesheet' type='text/css'&gt;\n&lt;/head&gt;\n\n&lt;body style=\"background-color:#e6e4e3\"&gt;\n    &lt;nav style= \"background-color:#517dbe\" class=\"tab-bar\"&gt;\n        &lt;div class=\"left-small\"&gt;\n            &lt;a class=\"item menu-icon\"&gt;\n                &lt;span&gt;\n                &lt;/span&gt;\n            &lt;/a&gt;\n        &lt;/div&gt;\n      &lt;div class=\"middle tab-bar-section\"&gt;!Bienvenidos a ARISTA Client &lt;/div&gt;\n      &lt;div  class = \"right tab-bar-section\"&gt;\n        &lt;a  href=\"#\" ng-click=\"logout()\"\n               class=\"button radius right tiny\"\n               ng-if=\"LoggedIn\"&gt;\n                    Logout\n        &lt;/a&gt;\n      &lt;/div&gt;\n    &lt;/nav&gt;\n\n    &lt;br&gt;\n\n\n    &lt;div class=\"large-8 small-centered columns\" style=\"background-color:white\" class=\"sombra\"&gt;\n        &lt;br&gt;\n        &lt;ng-view&gt;&lt;/ng-view&gt;\n    &lt;/div&gt;\n\n\n\n      &lt;a data-options=\"align:left\" data-dropdown=\"dropInfo\" aria-controls=\"drop1\" aria-expanded=\"true\"&gt;&lt;/a&gt;\n        &lt;ul id=\"dropInfo\" class=\"f-dropdown\" data-dropdown-content aria-hidden=\"false\" tabindex=\"-1\"&gt;\n          &lt;li&gt;&lt;a href=\"#\"&gt;This is a link&lt;/a&gt;&lt;/li&gt;\n        &lt;/ul&gt;\n\n\n    &lt;script src=\"/js/vendor/fastclick.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"js/vendor/jquery.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"js/foundation.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"application/dart\" src=\"main.dart\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"packages/browser/dart.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n      $(document).foundation();\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["c++", "dart", "v8", "dart-native-extension"], "answers": [{"tags": [], "owner": {"reputation": 9725, "user_id": 662844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wz88P.png?s=128&g=1", "display_name": "Vyacheslav Egorov", "link": "https://stackoverflow.com/users/662844/vyacheslav-egorov"}, "is_accepted": true, "score": 3, "last_activity_date": 1422567382, "last_edit_date": 1422567382, "creation_date": 1422555543, "answer_id": 28221790, "question_id": 28219987, "link": "https://stackoverflow.com/questions/28219987/how-do-you-convert-a-dart-handle-list-to-a-c-array/28221790#28221790", "title": "How do you convert a Dart_Handle List to a C++ array?", "body": "\n\n<p><code>v8::Array::Get</code> is <code>Dart_ListGetAt</code>.</p>\n\n<p>You would want to write something like this:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>intptr_t argc = 0;\nDART_CHECK_VALID(Dart_ListLength(list, &amp;argc));\nfor (intptr_t i = 0; i &lt; argc; i++) {\n  Dart_Handle element = Dart_ListGetAt(list, i);\n  DART_CHECK_VALID(element);\n\n  const char* element_str = NULL;\n  DART_CHECK_VALID(Dart_StringToCString(element, &amp;element_str));\n\n  argv[i + 1] = strdup(element_str);\n}\n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 3558173, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/941d705b95e67cfd2cc58c627cc90060?s=128&d=identicon&r=PG", "display_name": "Crunchex", "link": "https://stackoverflow.com/users/3558173/crunchex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 0, "accepted_answer_id": 28221790, "answer_count": 1, "score": 1, "last_activity_date": 1422567382, "creation_date": 1422549761, "question_id": 28219987, "link": "https://stackoverflow.com/questions/28219987/how-do-you-convert-a-dart-handle-list-to-a-c-array", "title": "How do you convert a Dart_Handle List to a C++ array?", "body": "<p>I'm trying to port over a node.js native abstraction to dart as a native extension. The node.js nan also happens to be using the v8 namespace, which I'm not terribly familiar with.</p>\n\n<p>The [incomplete] code snippet in particular that I'm having trouble with would be this:</p>\n\n<pre><code>NAN_METHOD(TestFunction) {\n    NanScope();\n\n    String::Utf8Value file(args[0]-&gt;ToString());\n\n    int i = 0;\n    Local&lt;Array&gt; argv_ = Local&lt;Array&gt;::Cast(args[1]);\n    int argc = argv_-&gt;Length();\n    int argl = argc + 1 + 1;\n    char **argv = new char*[argl];\n    argv[0] = strdup(*file);\n    argv[argl-1] = NULL;\n    for (; i &lt; argc; i++) {\n        String::Utf8Value arg(argv_-&gt;Get(NanNew&lt;Integer&gt;(i))-&gt;ToString());\n    argv[i+1] = strdup(*arg);\n</code></pre>\n\n<p>Strings and Integers are fairly straightforward, but the equivalent functions in dart_api.h for Arrays don't seem to exist so I'm a bit stuck. This is what I have so far:</p>\n\n<pre><code>void TestFunction(Dart_NativeArguments args) {\n    Dart_EnterScope();\n\n    uint8_t* file;\n    intptr_t f_length = 0;\n    Dart_StringToUTF8(Dart_GetNativeArgument(args, 0), &amp;file, &amp;f_length);\n\n    int i = 0;\n    intptr_t a_length;\n    Dart_Handle a_list;\n    Dart_handle a_handle;\n\n    a_list = Dart_GetNativeArgument(args, 1);\n    a_handle = Dart_ListLength(list, &amp;a_length);\n</code></pre>\n"}, {"tags": ["dart", "polymer", "dart-polymer", "paper-elements", "core-elements"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422532614, "post_id": 28212690, "comment_id": 44791818, "body": "There are some issues in your CSS. Missing <code>;</code> after <code>width: {{width}}</code> and <code>.lb-container1 { ... }</code> is nested within <code>:host { ... }</code>."}], "answers": [{"comments": [{"owner": {"reputation": 4633, "user_id": 2258442, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7dc1f8dac4d92b4abb781ec2b11d8be6?s=128&d=identicon&r=PG", "display_name": "st_clair_clarke", "link": "https://stackoverflow.com/users/2258442/st-clair-clarke"}, "edited": false, "score": 0, "creation_date": 1422532160, "post_id": 28213046, "comment_id": 44791502, "body": "I did use the consumer without the expected result. I did also read that article you mentioned. I think I might be missing something else."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 4633, "user_id": 2258442, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7dc1f8dac4d92b4abb781ec2b11d8be6?s=128&d=identicon&r=PG", "display_name": "st_clair_clarke", "link": "https://stackoverflow.com/users/2258442/st-clair-clarke"}, "edited": false, "score": 0, "creation_date": 1422533695, "post_id": 28213046, "comment_id": 44792500, "body": "I had to add the <code>&lt;blue-theme&gt;&lt;&#47;blue-theme&gt;</code> element to the page in order to get the styles applied, just importing wasn&#39;t enough but otherwise it worked fine. To make the background for the element work I had to add <code>display: block;</code> <code>:host { background: red; display: block;}</code> (<code>inline-block</code> works as well, but the default <code>inline</code> doesn&#39;t)."}, {"owner": {"reputation": 4633, "user_id": 2258442, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7dc1f8dac4d92b4abb781ec2b11d8be6?s=128&d=identicon&r=PG", "display_name": "st_clair_clarke", "link": "https://stackoverflow.com/users/2258442/st-clair-clarke"}, "edited": false, "score": 0, "creation_date": 1422555515, "post_id": 28213046, "comment_id": 44806580, "body": "Thanks Gunter. It now works. I still wonder abouit the addition of the blue-theme element though."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 4633, "user_id": 2258442, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7dc1f8dac4d92b4abb781ec2b11d8be6?s=128&d=identicon&r=PG", "display_name": "st_clair_clarke", "link": "https://stackoverflow.com/users/2258442/st-clair-clarke"}, "edited": false, "score": 0, "creation_date": 1422556942, "post_id": 28213046, "comment_id": 44807405, "body": "Why you need to add it. I guess it is a bug in the Dart core-elements. For other elements like core-iconset with similar functionality importing is enough. But I&#39;m not sure though, it&#39;s the first time I used it."}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1422529317, "creation_date": 1422529317, "answer_id": 28213046, "question_id": 28212690, "link": "https://stackoverflow.com/questions/28212690/core-style-and-classes-does-not-seem-to-work/28213046#28213046", "title": "core-style and classes does not seem to work", "body": "<p>You only created a <code>&lt;core-style&gt;</code> producer (provides reusable styles). What you also need is a <code>&lt;core-style&gt;</code> consumer.</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>&lt;core-style ref=\"blue-theme\"&gt;&lt;/core-style&gt;\n</code></pre>\n\n<p>I haven't used it myself but I think just adding this line should solve the problem. You can have the producer and consumer in different elements. That is rather the point of the element. Define a style once and reuse it just by referencing.</p>\n\n<p>This tutorial looks good so far <a href=\"https://pascalprecht.github.io/2014/08/01/sharing-styles-across-web-components-with-polymer-and-core-style/\" rel=\"nofollow\">https://pascalprecht.github.io/2014/08/01/sharing-styles-across-web-components-with-polymer-and-core-style/</a></p>\n"}], "owner": {"reputation": 4633, "user_id": 2258442, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7dc1f8dac4d92b4abb781ec2b11d8be6?s=128&d=identicon&r=PG", "display_name": "st_clair_clarke", "link": "https://stackoverflow.com/users/2258442/st-clair-clarke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1422529317, "creation_date": 1422528265, "last_edit_date": 1422529051, "question_id": 28212690, "link": "https://stackoverflow.com/questions/28212690/core-style-and-classes-does-not-seem-to-work", "title": "core-style and classes does not seem to work", "body": "<p>I am trying to understand <code>core-style</code>. I noticed that in all examples I have seen so far, only elements eg Button are referenced in a <code>core-style</code> - there is no class reference (eg <code>.blue</code>). I tried to place a class reference in the <code>core-style</code> but it does not render. Please see the example below</p>\n\n\n\n<p><strong>.html</strong>\n        </p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>    &lt;link href='../../../../packages/polymer/polymer.html' rel='import' &gt;\n    &lt;link href='../../../../packages/core_elements/core_style.html' rel='import' &gt;\n\n    &lt;polymer-element name='blue-theme'&gt;\n\n      &lt;template&gt;\n        &lt;core-style id='blue-theme'&gt;\n            :host {\n                background-color: red;\n\n                .lb-container1 {\n                   background-color: {{lb50}};\n                   padding-top: 5px;\n                 padding-bottom: 5px;\n                 width: {{width}}\n                }   \n          }\n\n        &lt;/core-style&gt;\n      &lt;/template&gt;\n\n      &lt;script type='application/dart' src='blue_theme.dart'&gt;&lt;/script&gt;\n    &lt;/polymer-element&gt;\n</code></pre>\n\n<p><strong>.dart</strong></p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:polymer/polymer.dart';\n\nimport 'package:epimss_shared/epimss_shared_client.dart' hide DataEvent;\n\n@CustomTag( 'blue-theme' )\nclass BlueTheme extends PolymerElement\n{\n  String topic = '';\n\n  @observable String lb50 = LightBlue['50'];\n  @observable String lb100 = LightBlue['100'];\n  @observable String lb200 = LightBlue['200'];\n\n  BlueTheme.created() : super.created();\n\n  @published\n  String get width =&gt; readValue( #width );\n  set width(String value) =&gt; writeValue( #width, value );\n\n  @override\n  void attached()\n  {\n     super.attached();\n     topic = this.dataset['topic'];\n\n  }\n}\n</code></pre>\n\n<p>The above code does not render.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["dart", "constraints", "incompatibility", "dart-pub"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422507507, "post_id": 28206719, "comment_id": 44779667, "body": "Can you please post your <code>pubspec.yaml</code>"}, {"owner": {"reputation": 8692, "user_id": 2118130, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/4c625ee20608ac0826ae23d70886b0d6?s=128&d=identicon&r=PG", "display_name": "Cristian Garcia", "link": "https://stackoverflow.com/users/2118130/cristian-garcia"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422559302, "post_id": 28206719, "comment_id": 44808695, "body": "@G&#252;nterZ&#246;chbauer see edit."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422559609, "post_id": 28206719, "comment_id": 44808862, "body": "I tried it with the <code>dependency_overrides</code> from my answer and it worked. Do you still get an error?"}], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 3, "last_activity_date": 1422516708, "creation_date": 1422516708, "answer_id": 28209200, "question_id": 28206719, "link": "https://stackoverflow.com/questions/28206719/pub-error-incompatible-version-constraints-on-analyzer/28209200#28209200", "title": "Pub Error: Incompatible version constraints on analyzer", "body": "<p>There is just no set of dependencies where all version constraints fit.<br>\nI solve such problems by pinpointing the version of some dependencies to make the life easier for <code>pub get</code>/<code>pub upgrade</code> and add some <code>dependency_overrides</code> to force-solve some discrepancies.<br>\nAdd overrides one by one until no more errors occur.</p>\n\n<p>In your case I had to add quite a few overrides</p>\n\n<pre class=\"lang-yml prettyprint-override\"><code>dependency_overrides:\n  analyzer: ^0.22.4\n  barback: ^0.15.2+2\n  code_transformers: ^0.2.3+2\n  di: ^3.3.3\n  route_hierarchical: ^0.6.1\n</code></pre>\n\n<p>This way you force packages to use dependencies they are not tested with but it's the only way to solve it (besides updating the dependencies itself to use newer versions, but this is usually controlled by others).</p>\n"}, {"tags": [], "owner": {"reputation": 11054, "user_id": 9457, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8994d24f4a87613f31322385ec32abbd?s=128&d=identicon&r=PG", "display_name": "munificent", "link": "https://stackoverflow.com/users/9457/munificent"}, "is_accepted": false, "score": 2, "last_activity_date": 1422558163, "creation_date": 1422558163, "answer_id": 28222537, "question_id": 28206719, "link": "https://stackoverflow.com/questions/28206719/pub-error-incompatible-version-constraints-on-analyzer/28222537#28222537", "title": "Pub Error: Incompatible version constraints on analyzer", "body": "<p>Pub's version solver is doing a global analysis of all of the version constraints in all of your dependencies. Not just that, but each <em>version</em> of a dependency has different constraints.</p>\n\n<p>This means constraint failures can be non-local. It's not just that <code>async_await</code> has a constraint that causes a problem. It could be that:</p>\n\n<ul>\n<li><code>async_await</code> adds a constraint on <code>foo</code>.</li>\n<li>That forces you to take a different version of <code>foo</code> than you would otherwise.</li>\n<li>That in turn gives you a different set of constraints coming from <code>foo</code>.</li>\n<li>Those in turn tweak some of the versions of other dependencies.</li>\n<li>Which then lead to other different constraints...</li>\n<li>And so on...</li>\n</ul>\n\n<p>In practice, most of the errors like this we've seen recently seem to have the analyzer package as their lynchpin. The analyzer folks rev that package really frequently (or at least did for a while) and change its minor version often. That means there are a lot of packages that depend on disjoint sets of analyzer versions.</p>\n\n<p>Like @G\u00fcnter suggests, the workaround is to override a couple of dependencies, so that can cause its own problems. (It basically turns a \"pub get time\" failure into a possible runtime failure.)</p>\n"}], "owner": {"reputation": 8692, "user_id": 2118130, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/4c625ee20608ac0826ae23d70886b0d6?s=128&d=identicon&r=PG", "display_name": "Cristian Garcia", "link": "https://stackoverflow.com/users/2118130/cristian-garcia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1209, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1424514637, "creation_date": 1422503446, "last_edit_date": 1424514637, "question_id": 28206719, "link": "https://stackoverflow.com/questions/28206719/pub-error-incompatible-version-constraints-on-analyzer", "title": "Pub Error: Incompatible version constraints on analyzer", "body": "<p>I have a very weird problem. I have some dependencies that previous to adding a new dependency work well, but as soon as I add a new one (in this specific case <code>async_await</code>) I get an <code>Incompatible version constraints on analyzer</code> error when using <code>pub get</code>. The curious thing is: <code>async_await</code> is NOT an incompatible constraint!  </p>\n\n<blockquote>\n  <p>Pub get failed, [1] Resolving dependencies... Incompatible version<br>\n  constraints on analyzer:<br>\n  - angular 1.0.0 depends on version >=0.15.0 &lt;0.19.0<br>\n  - di 3.3.1 depends on version >=0.15.0 &lt;0.22.0<br>\n  - redstone_mapper 0.1.1 depends on version >=0.13.0 &lt;0.14.0<br></p>\n</blockquote>\n\n<p>Why doesn't this error show when I remove <code>async_await</code> (this same thing happened with another import) if the constraints should still fail?</p>\n\n<p><strong>Update</strong></p>\n\n<p>Running <code>pub upgrade</code> reveals another problem</p>\n\n<blockquote>\n  <p>Resolving dependencies... <br>\n  Incompatible version constraints on analyzer: <br>\n  - angular 1.0.0 depends on version >=0.15.0 &lt;0.19.0 <br>\n  - async_await 0.0.0 depends on version >=0.22.4 &lt;0.23.0 <br></p>\n</blockquote>\n\n<p><strong>Pubspec.yaml</strong></p>\n\n<pre><code>name: aristadart\ndescription: A sample web application\ndependencies:\n  angular: 1.0.0\n  browser: any\n  di: any\n  fp: any\n  http: any\n  mongo_dart: any\n  redstone: any\n  redstone_mapper: any\n  redstone_mapper_mongo: any\n  shelf_static: any\n\n\ntransformers:\n- redstone_mapper\n- angular:\n    html_files:\n    - lib/components/login/login.html\n    - lib/components/login/nuevo_usuario.html\n    - lib/components/home/home.html\n    - lib/components/evento/evento.html\n    - lib/components/vista/vista.html\n</code></pre>\n"}]