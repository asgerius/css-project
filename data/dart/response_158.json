[{"tags": ["javascript", "html", "dart", "dart-html"], "answers": [{"tags": [], "owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "is_accepted": true, "score": 2, "last_activity_date": 1516233014, "creation_date": 1516233014, "answer_id": 48311843, "question_id": 48311468, "link": "https://stackoverflow.com/questions/48311468/detect-focus-loss-for-input-element-not-onblur/48311843#48311843", "title": "Detect focus loss for input element, not onBlur", "body": "<p>Please look at events sequence:</p>\n\n<ol>\n<li>input.focus</li>\n<li>li.mousedown</li>\n<li>input.blur</li>\n<li>li.mouseup</li>\n<li>li.click</li>\n</ol>\n\n<p>So you might setup a flag variable, turn it up on <code>li.mousedown</code>, check it on <code>input.blur</code> and decide if you need to hide the list, and then turn it down on <code>li.click</code></p>\n"}], "owner": {"reputation": 561, "user_id": 3507547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/138198821a077c95cd0a8990162f03d2?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis Kuypers", "link": "https://stackoverflow.com/users/3507547/dennis-kuypers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 278, "favorite_count": 0, "accepted_answer_id": 48311843, "answer_count": 1, "score": 1, "last_activity_date": 1516233014, "creation_date": 1516230596, "question_id": 48311468, "link": "https://stackoverflow.com/questions/48311468/detect-focus-loss-for-input-element-not-onblur", "title": "Detect focus loss for input element, not onBlur", "body": "<p>I'm implementing an autocomplete/combobox in dart. I'm using two elements for this, a <code>&lt;input type=\"text\"&gt;</code> and a <code>&lt;ul&gt;</code> for the suggestions. I want to hide via css style <code>display: none</code> whenever the user leaves the input box. This works when using <code>onBlur</code>on the input element.</p>\n\n<p>If the user tries to click an item in the <code>&lt;ul&gt;</code>, the input looses focus and the <code>&lt;ul&gt;</code>is hidden before the click event on the <code>&lt;li&gt;</code> is run.</p>\n\n<pre><code>_listElement = new UListElement();\n_textElement = new TextInputElement()\n  ..onBlur((e) =&gt; setDisplayToNone(_listElement)); // hide element\n</code></pre>\n\n<p>I noticed that a jQueryUI implementation does not have this issue and I can not figure out how they detect when to hide the suggestion box. see <a href=\"https://jqueryui.com/autocomplete/\" rel=\"nofollow noreferrer\">https://jqueryui.com/autocomplete/</a></p>\n\n<p>What alternate way can i use to hide the <code>&lt;ul&gt;</code> without hiding it on <code>_textElement.onBlur</code>?</p>\n\n<p>If it helps, the two elements are always wrapped by a <code>&lt;div&gt;</code>. I'm looking for a dart-only solution, although vanilla-js answers that I can rebuild in dart are also appreciated.</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 3696, "user_id": 6107079, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CUGlv.jpg?s=128&g=1", "display_name": "Mahi", "link": "https://stackoverflow.com/users/6107079/mahi"}, "edited": false, "score": 0, "creation_date": 1516174995, "post_id": 48295441, "comment_id": 83576354, "body": "Thanks very much @Gunter Zochbauer. I will see if i still need to implement imageCache. Thanks for your reply."}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 0, "last_activity_date": 1516172944, "creation_date": 1516172944, "answer_id": 48295441, "question_id": 48295337, "link": "https://stackoverflow.com/questions/48295337/do-we-need-to-explicitly-implement-imagecache-if-we-are-using-imagepicker-librar/48295441#48295441", "title": "Do we need to explicitly implement ImageCache if we are using ImagePicker library in flutter?", "body": "<p>There us a default image cache used. You can implement your own to get custom behavior, but you can just rely on the default.</p>\n"}, {"comments": [{"owner": {"reputation": 3696, "user_id": 6107079, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CUGlv.jpg?s=128&g=1", "display_name": "Mahi", "link": "https://stackoverflow.com/users/6107079/mahi"}, "edited": false, "score": 0, "creation_date": 1516175056, "post_id": 48295659, "comment_id": 83576382, "body": "Thank you @Hemanth Raj. I will see if i still need to implement imageCache. Many Thanks for your help."}], "tags": [], "owner": {"reputation": 22853, "user_id": 8708524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1005bc21463c9b1dcec6a3be2ab26943?s=128&d=identicon&r=PG&f=1", "display_name": "Hemanth Raj", "link": "https://stackoverflow.com/users/8708524/hemanth-raj"}, "is_accepted": false, "score": 3, "last_activity_date": 1516173827, "creation_date": 1516173827, "answer_id": 48295659, "question_id": 48295337, "link": "https://stackoverflow.com/questions/48295337/do-we-need-to-explicitly-implement-imagecache-if-we-are-using-imagepicker-librar/48295659#48295659", "title": "Do we need to explicitly implement ImageCache if we are using ImagePicker library in flutter?", "body": "<p>Yes, flutter internally manages image cache which is already implemented by <code>ImageProvider</code> and its sub classes such as <code>AssetBundleImageProvider, FileImage, MemoryImage &amp; NetworkImage</code>.\nFlutter caches upto 1000 images(as mentioned in docs).</p>\n\n<p><code>ImagePicker</code> is a plugin that launches a native application to choose an image from. Thus all images show when picking would be handled by the <code>Gallery</code> app or what so ever.</p>\n\n<p>So, If you are using <code>ImagePicker</code> plugin to pick image and <code>Image.file</code> to show images on UI and trying to cache them, then no need of implementing <code>ImageCache</code>, because <code>Image.file</code> uses <code>FileImage</code> which already has image cache implemented.</p>\n\n<p>To read more on <code>ImageCache</code>, take look at docs <a href=\"https://docs.flutter.io/flutter/painting/ImageCache-class.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Hope that helped!</p>\n"}, {"tags": [], "owner": {"reputation": 3696, "user_id": 6107079, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CUGlv.jpg?s=128&g=1", "display_name": "Mahi", "link": "https://stackoverflow.com/users/6107079/mahi"}, "is_accepted": false, "score": 0, "last_activity_date": 1516184492, "creation_date": 1516184492, "answer_id": 48298704, "question_id": 48295337, "link": "https://stackoverflow.com/questions/48295337/do-we-need-to-explicitly-implement-imagecache-if-we-are-using-imagepicker-librar/48298704#48298704", "title": "Do we need to explicitly implement ImageCache if we are using ImagePicker library in flutter?", "body": "<p>I've actually used this package <code>cached_network_image 0.2.1</code> which internally uses shared preferences instead of reimplementing the image cache, i hope this helps someone who is looking for this kind of functionality.</p>\n\n<p>regards,\nMahi</p>\n"}], "owner": {"reputation": 3696, "user_id": 6107079, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CUGlv.jpg?s=128&g=1", "display_name": "Mahi", "link": "https://stackoverflow.com/users/6107079/mahi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 310, "favorite_count": 0, "accepted_answer_id": 48295441, "answer_count": 3, "score": 1, "last_activity_date": 1516184492, "creation_date": 1516172514, "question_id": 48295337, "link": "https://stackoverflow.com/questions/48295337/do-we-need-to-explicitly-implement-imagecache-if-we-are-using-imagepicker-librar", "title": "Do we need to explicitly implement ImageCache if we are using ImagePicker library in flutter?", "body": "<p>I am actually trying to implement ImageCache concept when using ImagePicker library, but before implementing this I just want to know if the ImageCache is handled internally by flutter as I've seen logs in my app which says ImageCache.putIfAbsent when I was using NetworkImage.</p>\n\n<p>Please can someone confirm if this is done implicitly or do we need to handle this explicitly.</p>\n\n<p>Many Thanks,\nMahi</p>\n"}, {"tags": ["unit-testing", "dart", "mockito", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 4553522, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-W7NcAxqymfQ/AAAAAAAAAAI/AAAAAAAAIro/CjO_B4Gt798/photo.jpg?sz=128", "display_name": "Gustik", "link": "https://stackoverflow.com/users/4553522/gustik"}, "edited": false, "score": 0, "creation_date": 1516163238, "post_id": 48293512, "comment_id": 83572200, "body": "may be due to the fact that the method (onLoadContactsComplete) called in the Future?"}, {"owner": {"reputation": 83, "user_id": 4553522, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-W7NcAxqymfQ/AAAAAAAAAAI/AAAAAAAAIro/CjO_B4Gt798/photo.jpg?sz=128", "display_name": "Gustik", "link": "https://stackoverflow.com/users/4553522/gustik"}, "edited": false, "score": 0, "creation_date": 1516166104, "post_id": 48293512, "comment_id": 83572997, "body": "I tried <code>verify(view.onLoadContactsComplete(kContacts)).called(1);</code> but get the same error: <code>Used on a non-mockito object </code>. Method onLoadContactsComplete is 100% called."}, {"owner": {"reputation": 83, "user_id": 4553522, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-W7NcAxqymfQ/AAAAAAAAAAI/AAAAAAAAIro/CjO_B4Gt798/photo.jpg?sz=128", "display_name": "Gustik", "link": "https://stackoverflow.com/users/4553522/gustik"}, "edited": false, "score": 1, "creation_date": 1516169896, "post_id": 48293512, "comment_id": 83574121, "body": "I got the <code>Used on a non-mockito object</code>  error because mocked view implements <b>abstract</b> <code>class ContactListViewContract</code>. I created a new class implements <code>ContactListViewContract</code> and already mocked it and  tried your option with async - and it all worked! Thank you!"}, {"owner": {"reputation": 2795, "user_id": 10139611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9417a433ed16a09cf75fe161f8114d?s=128&d=identicon&r=PG&f=1", "display_name": "Little Monkey", "link": "https://stackoverflow.com/users/10139611/little-monkey"}, "edited": false, "score": 0, "creation_date": 1566562665, "post_id": 48293512, "comment_id": 101705825, "body": "Which is the difference between untilCalled and verify? I mean, if <code>untilCalled(view.onLoadContactsComplete(typed(any)))</code> is successful, isn&#39;t the <code>verify(view.onLoadContactsComplete(typed(any))).called(1)</code>  useless? It&#39;s just checking again that that method is called"}], "tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": true, "score": 7, "last_activity_date": 1554213830, "last_edit_date": 1554213830, "creation_date": 1516162607, "answer_id": 48293512, "question_id": 48293314, "link": "https://stackoverflow.com/questions/48293314/how-to-verify-to-call-or-not-to-call-a-method/48293512#48293512", "title": "How to verify to call or not to call a method", "body": "<p>when calling <code>verify</code> method you need call the actual method on the mock</p>\n\n<p>Try</p>\n\n<pre><code>test('ContactListPresenter test', () async {\n    Injector.configure(Flavor.MOCK);\n    MockView view = new MockView();\n\n    ContactListPresenter presenter = new ContactListPresenter(view);\n\n    presenter.loadContacts();\n\n    await untilCalled(view.onLoadContactsComplete(typed(any))); \n    //completes when view.onLoadContactsComplete(any) is called\n\n    verify(view.onLoadContactsComplete(typed(any))).called(1);\n\n});\n</code></pre>\n\n<p>If the method was not called once, the test will fail.</p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 4671396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ihZX2.jpg?s=128&g=1", "display_name": "Raheel Riaz", "link": "https://stackoverflow.com/users/4671396/raheel-riaz"}, "is_accepted": false, "score": 0, "last_activity_date": 1598668582, "creation_date": 1598668582, "answer_id": 63642883, "question_id": 48293314, "link": "https://stackoverflow.com/questions/48293314/how-to-verify-to-call-or-not-to-call-a-method/63642883#63642883", "title": "How to verify to call or not to call a method", "body": "<p><a href=\"https://pub.dev/packages/mockito\" rel=\"nofollow noreferrer\">Mockito</a> provides native support for both</p>\n<ol>\n<li><p>To test that your method has been called at least once you can use\n<code>verify(&lt;your-method-with-expected-params&gt;)</code> this will verify that your method has called (no matter how many times). To verify that it has been called for a specific number of times you can chain it with <code>.called(&lt;number-of-calls-expected&gt;)</code></p>\n</li>\n<li><p>To test that your method hasn't been called you should use <code>verifyNever(&lt;your-method-with-expected-params&gt;)</code> this will validate that your method hasn't been invoked</p>\n</li>\n</ol>\n<p>Make sure that the method passed to both <code>verify</code> and <code>verifyNever</code> are the methods which have been Mocked by Mockito.</p>\n"}], "owner": {"reputation": 83, "user_id": 4553522, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-W7NcAxqymfQ/AAAAAAAAAAI/AAAAAAAAIro/CjO_B4Gt798/photo.jpg?sz=128", "display_name": "Gustik", "link": "https://stackoverflow.com/users/4553522/gustik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4415, "favorite_count": 1, "accepted_answer_id": 48293512, "answer_count": 2, "score": 5, "last_activity_date": 1598668582, "creation_date": 1516161154, "last_edit_date": 1516192767, "question_id": 48293314, "link": "https://stackoverflow.com/questions/48293314/how-to-verify-to-call-or-not-to-call-a-method", "title": "How to verify to call or not to call a method", "body": "<pre><code>class MockView extends Mock implements ContactListViewContract {\n\n  @override\n  void onLoadContactsComplete(List&lt;Contact&gt; items) {\n\n  }\n  @override\n  void onLoadContactsError() {}\n\n}\n\nvoid main() {\n\n  test('ContactListPresenter test', () {\n    Injector.configure(Flavor.MOCK);\n    MockView view = new MockView();\n\n    ContactListPresenter presenter = new ContactListPresenter(view);\n\n    presenter.loadContacts();\n\n    verify(view.onLoadContactsComplete).called(1);\n\n  });\n\n}\n</code></pre>\n\n<p>I want to make sure when <code>presenter.loadContacts()</code> is called from the code, then verify <code>view.onLoadContactsComplete</code> is called also but getting an error: </p>\n\n<blockquote>\n  <p>Used on a non-mockito object</p>\n</blockquote>\n\n<p>Is there a possibility to do this with Mockito?</p>\n\n<p>Update:</p>\n\n<pre><code>abstract class ContactListViewContract {\n  void onLoadContactsComplete(List&lt;Contact&gt; items);\n  void onLoadContactsError();\n}\n</code></pre>\n\n<p>here the <code>onLoadContactsComplete</code> method is called   </p>\n\n<pre><code>class ContactListPresenter {\n  ContactListViewContract _view;\n  ContactRepository _repository;\n\n  ContactListPresenter(this._view){\n    _repository = new Injector().contactRepository;\n  }\n\n  void loadContacts(){\n    assert(_view != null);\n\n    _repository.fetch()\n        .then((contacts) {\n          print(contacts);\n          _view.onLoadContactsComplete(contacts); // here the onLoadContactsComplete method is called\n        }).catchError((onError) {\n          print(onError);\n          _view.onLoadContactsError();\n        });\n  }\n\n}\n</code></pre>\n\n<p>Mocked Repository. Fetch mocked data.</p>\n\n<pre><code>class MockContactRepository implements ContactRepository{\n\n  Future&lt;List&lt;Contact&gt;&gt; fetch(){\n    return new Future.value(kContacts);\n  }\n\n}\n</code></pre>\n"}, {"tags": ["json", "dart"], "answers": [{"tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": false, "score": 1, "last_activity_date": 1516178925, "last_edit_date": 1516178925, "creation_date": 1516171555, "answer_id": 48295108, "question_id": 48292093, "link": "https://stackoverflow.com/questions/48292093/example-of-extracting-json-decoded-data/48295108#48295108", "title": "Example of extracting JSON.decoded data", "body": "<p>The result of deconding JSON is a JSON-ish value, either a map or list or a primitive value.\nIn this case, an example of extracting the values could be:\n</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>var data = JSON.decode(fetchedData);\nvar code = data[\"activity\"].last[\"detail\"][\"code\"];\nvar display = code[\"coding\"][0][\"display\"];\nprint(display);  // \"Stretching exercises\"\n</code></pre>\n\n<p>There is more than one element in the <code>activity</code> array, this just accesses the last element (the \"code\" and \"display\" at the <em>end</em> of the data).</p>\n\n<p>See it <a href=\"https://dartpad.dartlang.org/b451212f949162b866825a3099887fee\" rel=\"nofollow noreferrer\">running on DartPad</a>.</p>\n"}], "owner": {"reputation": 145, "user_id": 3329151, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ed30e9616c30d8f8ff6a85a62ba90b73?s=128&d=identicon&r=PG&f=1", "display_name": "user3329151", "link": "https://stackoverflow.com/users/3329151/user3329151"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1516178925, "creation_date": 1516150266, "last_edit_date": 1516171174, "question_id": 48292093, "link": "https://stackoverflow.com/questions/48292093/example-of-extracting-json-decoded-data", "title": "Example of extracting JSON.decoded data", "body": "<p>I am attempting to extract data from a JSON.decode of results from this URL</p>\n\n<p><a href=\"http://fhirtest.uhn.ca/baseDstu3/CarePlan/682734/_history/1?_pretty=true\" rel=\"nofollow noreferrer\">http://fhirtest.uhn.ca/baseDstu3/CarePlan/682734/_history/1?_pretty=true</a></p>\n\n<p>The parsed data looks like this</p>\n\n<pre><code>{\n  \"resourceType\": \"CarePlan\",\n  \"id\": \"682734\",\n  \"meta\": {\n    \"versionId\": \"1\",\n    \"lastUpdated\": \"2018-01-12T03:13:38.944-05:00\"\n  },\n  \"status\": \"completed\",\n  \"category\": [\n    {\n      \"coding\": [\n        {\n          \"system\": \"http://snomed.info/sct\",\n          \"code\": \"91251008\",\n          \"display\": \"Physical therapy procedure\"\n        }\n      ]\n    }\n  ],\n  \"subject\": {\n    \"reference\": \"Patient/682678\"\n  },\n  \"context\": {\n    \"reference\": \"Encounter/682732\"\n  },\n  \"period\": {\n    \"start\": \"2014-01-09\",\n    \"end\": \"2014-02-04\"\n  },\n  \"addresses\": [\n    {\n      \"reference\": \"Condition/682733\"\n    }\n  ],\n  \"activity\": [\n    {\n      \"detail\": {\n        \"code\": {\n          \"coding\": [\n            {\n              \"system\": \"http://snomed.info/sct\",\n              \"code\": \"229586001\",\n              \"display\": \"Rest, ice, compression and elevation treatment programme\"\n            }\n          ]\n        },\n        \"status\": \"completed\"\n      }\n    },\n    {\n      \"detail\": {\n        \"code\": {\n          \"coding\": [\n            {\n              \"system\": \"http://snomed.info/sct\",\n              \"code\": \"229070002\",\n              \"display\": \"Stretching exercises\"\n            }\n          ]\n        },\n        \"status\": \"completed\"\n      }\n    }\n  ]\n}\n</code></pre>\n\n<p>I would like to extract \"code\" and \"display\" at the end of the data</p>\n\n<p>Any example would be appreciated </p>\n"}, {"tags": ["ubuntu", "dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 309, "user_id": 6916188, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/df86d0cf42fd5d0d7868d934500c059b?s=128&d=identicon&r=PG&f=1", "display_name": "direxit", "link": "https://stackoverflow.com/users/6916188/direxit"}, "is_accepted": true, "score": 0, "last_activity_date": 1516140097, "creation_date": 1516140097, "answer_id": 48290533, "question_id": 48289545, "link": "https://stackoverflow.com/questions/48289545/flutter-invalid-locale-on-xenial/48290533#48290533", "title": "Flutter Invalid locale on xenial", "body": "<p>Well BEFORE cloning the flutter repo, DO :</p>\n\n<pre><code>export LC_ALL=en_US.UTF-8\nexport LANG=en_US.UTF-8\n</code></pre>\n\n<p>then clone the repo and launch flutter doctor and then you have :</p>\n\n<pre><code>[\u2713] Flutter (on Linux, locale en_US.UTF-8, channel alpha)\n</code></pre>\n"}], "owner": {"reputation": 309, "user_id": 6916188, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/df86d0cf42fd5d0d7868d934500c059b?s=128&d=identicon&r=PG&f=1", "display_name": "direxit", "link": "https://stackoverflow.com/users/6916188/direxit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 0, "accepted_answer_id": 48290533, "answer_count": 1, "score": 0, "last_activity_date": 1537914491, "creation_date": 1516135471, "last_edit_date": 1537914491, "question_id": 48289545, "link": "https://stackoverflow.com/questions/48289545/flutter-invalid-locale-on-xenial", "title": "Flutter Invalid locale on xenial", "body": "<p>Trying to get flutter to work on Ubuntu xenial, it crashes with doctor command or trying to run a project...</p>\n\n<h2>command</h2>\n\n<p>flutter --no-color config --machine</p>\n\n<h2>exception</h2>\n\n<blockquote>\n  <p>ArgumentError: Invalid argument(s): Invalid locale 'ia_FR.UTF-8'</p>\n</blockquote>\n\n<p>OR</p>\n\n<h2>command</h2>\n\n<p>flutter doctor</p>\n\n<h2>exception</h2>\n\n<blockquote>\n  <p>ArgumentError: Invalid argument(s): Invalid locale 'ia_FR.UTF-8'</p>\n</blockquote>\n\n<p>Saw the error reported on github with no answer to solve it.</p>\n\n<p>complete log output here:</p>\n\n<pre><code>Flutter crash report; please file at https://github.com/flutter/flutter/issues.    \n\n## command    \n\nflutter doctor    \n\n## exception    \n\nArgumentError: Invalid argument(s): Invalid locale 'ia_FR.UTF-8'    \n\n```\n#0      Intl._throwLocaleError (package:intl/intl.dart:231)\n#1      Intl.verifiedLocale (package:intl/intl.dart:225)\n#2      Intl.verifiedLocale (package:intl/intl.dart:210)\n#3      new NumberFormat._forPattern (package:intl/src/intl/number_format.dart:486)\n#4      new NumberFormat.decimalPattern (package:intl/src/intl/number_format.dart:175)\n#5      kMillisecondsFormat (package:flutter_tools/src/base/utils.dart:103)\n#6      kMillisecondsFormat (package:flutter_tools/src/base/utils.dart:103)\n#7      getElapsedAsMilliseconds (package:flutter_tools/src/base/utils.dart:111)\n#8      FlutterCommand.run (package:flutter_tools/src/runner/flutter_command.dart:217)\n&lt;asynchronous suspension&gt;\n#9      CommandRunner.runCommand (package:args/command_runner.dart:194)\n&lt;asynchronous suspension&gt;\n#10     FlutterCommandRunner.runCommand (package:flutter_tools/src/runner/flutter_command_runner.dart:283)\n&lt;asynchronous suspension&gt;\n#11     CommandRunner.run.&lt;anonymous closure&gt; (package:args/command_runner.dart:109)\n#12     new Future.sync (dart:async/future.dart:222)\n#13     CommandRunner.run (package:args/command_runner.dart:109)\n#14     FlutterCommandRunner.run (package:flutter_tools/src/runner/flutter_command_runner.dart:166)\n#15     run.&lt;anonymous closure&gt; (package:flutter_tools/runner.dart:89)\n&lt;asynchronous suspension&gt;\n#16     AppContext._run (package:flutter_tools/src/base/context.dart:76)\n&lt;asynchronous suspension&gt;\n#17     AppContext.runInZone.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:66)\n#18     _rootRun (dart:async/zone.dart:1126)\n#19     _CustomZone.run (dart:async/zone.dart:1023)\n#20     runZoned (dart:async/zone.dart:1501)\n#21     AppContext.runInZone (package:flutter_tools/src/base/context.dart:65)\n#22     run (package:flutter_tools/runner.dart:60)\n&lt;asynchronous suspension&gt;\n#23     main (package:flutter_tools/executable.dart:44)\n&lt;asynchronous suspension&gt;\n#24     main (file:///home/dawd/flutter/packages/flutter_tools/bin/flutter_tools.dart:16)\n#25     _startIsolate.&lt;anonymous closure&gt; (dart:isolate-patch/dart:isolate/isolate_patch.dart:275)\n#26     _RawReceivePortImpl._handleMessage (dart:isolate-patch/dart:isolate/isolate_patch.dart:163)\n```    \n\n## flutter doctor    \n\n```\n[\u2713] Flutter (on Linux, locale ia_FR.UTF-8, channel master)\n    \u2022 Flutter at /home/dawd/flutter\n    \u2022 Framework revision d9fd4d6f49 (6 hours ago), 2018-01-16 15:38:29 +0100\n    \u2022 Engine revision 05fe72d068\n    \u2022 Tools Dart version 2.0.0-dev.16.0\n    \u2022 Engine Dart version 2.0.0-edge.28757928b47b192efcec082c78258102beb03f78    \n\n[\u2713] Android toolchain - develop for Android devices (Android SDK 27.0.3)\n    \u2022 Android SDK at /home/dawd/Android/Sdk\n    \u2022 Android NDK location not configured (optional; useful for native profiling support)\n    \u2022 Platform android-27, build-tools 27.0.3\n    \u2022 Java binary at: /home/dawd/android-studio/jre/bin/java\n    \u2022 Java version OpenJDK Runtime Environment (build 1.8.0_152-release-915-b01)    \n\n[\u2713] Android Studio (version 3.0)\n    \u2022 Android Studio at /home/dawd/android-studio\n    \u2022 Java version OpenJDK Runtime Environment (build 1.8.0_152-release-915-b01)    \n\n[\u2713] IntelliJ IDEA Community Edition (version 2017.3)\n    \u2022 Flutter plugin version 20.0.3\n    \u2022 Dart plugin version 173.4127.31    \n\n[\u2713] Connected devices\n    \u2022 Android SDK built for x86 \u2022 emulator-5554 \u2022 android-arm \u2022 Android null (API null)    \n\n```\n</code></pre>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 3696, "user_id": 6107079, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CUGlv.jpg?s=128&g=1", "display_name": "Mahi", "link": "https://stackoverflow.com/users/6107079/mahi"}, "edited": false, "score": 0, "creation_date": 1516172757, "post_id": 48295328, "comment_id": 83575286, "body": "Thanks @Hemanth Raj you&#39;re really helpful and I will implement a platform channel for this. I am hoping that I will not be stuck trying to figure out which  SIM card to use to send SMS. But thank you very much for your help."}, {"owner": {"reputation": 432, "user_id": 3921050, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000201919461/picture?type=large", "display_name": "Vaibhav Bhavsar", "link": "https://stackoverflow.com/users/3921050/vaibhav-bhavsar"}, "edited": false, "score": 1, "creation_date": 1521885415, "post_id": 48295328, "comment_id": 85929562, "body": "Hi @Hemanth Raj I used this code but got this error MissingPluginException(No implementation found for method send  please help me if i doing anything wrong thank you."}, {"owner": {"reputation": 22853, "user_id": 8708524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1005bc21463c9b1dcec6a3be2ab26943?s=128&d=identicon&r=PG&f=1", "display_name": "Hemanth Raj", "link": "https://stackoverflow.com/users/8708524/hemanth-raj"}, "edited": false, "score": 0, "creation_date": 1521974421, "post_id": 48295328, "comment_id": 85952268, "body": "Try <code>flutter clean</code> and then run."}, {"owner": {"reputation": 2828, "user_id": 9346859, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ytW5RWf_860/AAAAAAAAAAI/AAAAAAAABB4/J53pbgPKMvw/photo.jpg?sz=128", "display_name": "Bilal \u015eim\u015fek", "link": "https://stackoverflow.com/users/9346859/bilal-%c5%9eim%c5%9fek"}, "edited": false, "score": 0, "creation_date": 1549965273, "post_id": 48295328, "comment_id": 96085753, "body": "@HemanthRaj sir. any way to read sms for otp  in flutter. I tried to modify your code to receive sms but not successful."}, {"owner": {"reputation": 22853, "user_id": 8708524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1005bc21463c9b1dcec6a3be2ab26943?s=128&d=identicon&r=PG&f=1", "display_name": "Hemanth Raj", "link": "https://stackoverflow.com/users/8708524/hemanth-raj"}, "reply_to_user": {"reputation": 2828, "user_id": 9346859, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ytW5RWf_860/AAAAAAAAAAI/AAAAAAAABB4/J53pbgPKMvw/photo.jpg?sz=128", "display_name": "Bilal \u015eim\u015fek", "link": "https://stackoverflow.com/users/9346859/bilal-%c5%9eim%c5%9fek"}, "edited": false, "score": 0, "creation_date": 1549974601, "post_id": 48295328, "comment_id": 96091450, "body": "Hi @Bilal\u015eim\u015fek, some code would be helpful. Probably you should be able to achieve it modifying above code."}, {"owner": {"reputation": 121, "user_id": 5394507, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7ec31c998809b510ae0987fa6cfb18f2?s=128&d=identicon&r=PG&f=1", "display_name": "hutch90", "link": "https://stackoverflow.com/users/5394507/hutch90"}, "reply_to_user": {"reputation": 432, "user_id": 3921050, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000201919461/picture?type=large", "display_name": "Vaibhav Bhavsar", "link": "https://stackoverflow.com/users/3921050/vaibhav-bhavsar"}, "edited": false, "score": 0, "creation_date": 1586298666, "post_id": 48295328, "comment_id": 108077538, "body": "I&#39;m having the same problem as @Vaibhav Bhavsar. I have tried <code>flutter clean</code>, <code>flutter run</code>, and creating a new project. I am able to get it to request video and audio, but not sms. I wonder if this <code>MissingPluginException (MissingPluginException(No implementation found for method send on channel sendSms))</code> will stop occurring once I can figure out how to access the permission? I&#39;m using <code>permission_handler</code>. When I created a new project, the <code>permission_handler</code> usage changed from <code>PermissionHandler</code> to <code>Permission</code>, but it still did not request sms permission. Any ideas?"}], "tags": [], "owner": {"reputation": 22853, "user_id": 8708524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1005bc21463c9b1dcec6a3be2ab26943?s=128&d=identicon&r=PG&f=1", "display_name": "Hemanth Raj", "link": "https://stackoverflow.com/users/8708524/hemanth-raj"}, "is_accepted": true, "score": 12, "last_activity_date": 1516254507, "last_edit_date": 1516254507, "creation_date": 1516172489, "answer_id": 48295328, "question_id": 48287206, "link": "https://stackoverflow.com/questions/48287206/how-to-send-an-sms-without-users-interaction-in-flutter/48295328#48295328", "title": "how to send an SMS without users interaction in flutter?", "body": "<p>Actually to send an SMS programatically, you'll need to implement a platform channel and use <code>SMSManager</code> to send SMS.</p>\n\n<p>Example:</p>\n\n<p>Android Part:</p>\n\n<p>First add appropriate permissions to <code>AndroidManifest.xml</code>.</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.SEND_SMS\" /&gt;\n</code></pre>\n\n<p>Then in your <code>MainActivity.java</code>:</p>\n\n<pre><code>package com.yourcompany.example;\n\nimport android.os.Bundle;\nimport android.telephony.SmsManager;\nimport android.util.Log;\nimport io.flutter.app.FlutterActivity;\nimport io.flutter.plugin.common.MethodCall;\nimport io.flutter.plugin.common.MethodChannel;\nimport io.flutter.plugins.GeneratedPluginRegistrant;\n\npublic class MainActivity extends FlutterActivity {\n  private static final String CHANNEL = \"sendSms\";\n\n  private MethodChannel.Result callResult;\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    GeneratedPluginRegistrant.registerWith(this);\n    new MethodChannel(getFlutterView(), CHANNEL).setMethodCallHandler(\n            new MethodChannel.MethodCallHandler() {\n              @Override\n              public void onMethodCall(MethodCall call, MethodChannel.Result result) {\n                if(call.method.equals(\"send\")){\n                   String num = call.argument(\"phone\");\n                   String msg = call.argument(\"msg\");\n                   sendSMS(num,msg,result);\n                }else{\n                  result.notImplemented();\n                }\n              }\n            });\n  }\n\n  private void sendSMS(String phoneNo, String msg,MethodChannel.Result result) {\n      try {\n          SmsManager smsManager = SmsManager.getDefault();\n          smsManager.sendTextMessage(phoneNo, null, msg, null, null);\n          result.success(\"SMS Sent\");\n      } catch (Exception ex) {\n          ex.printStackTrace();\n          result.error(\"Err\",\"Sms Not Sent\",\"\");\n      }\n  }\n\n}\n</code></pre>\n\n<p>Dart Code:</p>\n\n<pre><code>import 'dart:async';\nimport 'package:flutter/material.dart';\nimport 'package:flutter/widgets.dart';\nimport 'package:flutter/services.dart';\n\nvoid main() {\n  runApp(new MaterialApp(\n    title: \"Rotation Demo\",\n    home: new SendSms(),\n  ));\n}\n\n\nclass SendSms extends StatefulWidget {\n  @override\n  _SendSmsState createState() =&gt; new _SendSmsState();\n}\n\nclass _SendSmsState extends State&lt;SendSms&gt; {\n  static const platform = const MethodChannel('sendSms');\n\n  Future&lt;Null&gt; sendSms()async {\n    print(\"SendSMS\");\n    try {\n      final String result = await platform.invokeMethod('send',&lt;String,dynamic&gt;{\"phone\":\"+91XXXXXXXXXX\",\"msg\":\"Hello! I'm sent programatically.\"}); //Replace a 'X' with 10 digit phone number\n      print(result);\n    } on PlatformException catch (e) {\n      print(e.toString());\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return new Material(\n      child: new Container(\n        alignment: Alignment.center,\n        child: new FlatButton(onPressed: () =&gt; sendSms(), child: const Text(\"Send SMS\")),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>Hope this helped!</p>\n\n<p>** Note:</p>\n\n<p>1.The example code dosen't show how to handle permission on android devices with version <code>6.0</code> and above. If using with <code>6.0</code> implement the right permission invoking code.</p>\n\n<p>2.The example also dosen't implement choosing sim incase of dual sim handsets. If no default sim is set for sms on dual sim handsets, sms might not be sent. </p>\n"}, {"comments": [{"owner": {"reputation": 2060, "user_id": 9774005, "user_type": "registered", "profile_image": "https://graph.facebook.com/2098232107068282/picture?type=large", "display_name": "Rajesh Jr.", "link": "https://stackoverflow.com/users/9774005/rajesh-jr"}, "edited": false, "score": 1, "creation_date": 1573121023, "post_id": 58018735, "comment_id": 103781305, "body": "Excellent Work,the original plugin isn&#39;t wokring and ur&#39;s done the job."}, {"owner": {"reputation": 638, "user_id": 7724779, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BYgSrj-tk4I/AAAAAAAAAAI/AAAAAAAAA0A/7z9QCDnJoXc/photo.jpg?sz=128", "display_name": "Rabi Roshan", "link": "https://stackoverflow.com/users/7724779/rabi-roshan"}, "edited": false, "score": 0, "creation_date": 1581263442, "post_id": 58018735, "comment_id": 106364244, "body": "Brother, the plugin is great. Thank you. But there is a problem when sending sms with letter &quot; \u0148 &quot; in the sms. Why is it so? Is there any workaround?"}, {"owner": {"reputation": 638, "user_id": 7724779, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BYgSrj-tk4I/AAAAAAAAAAI/AAAAAAAAA0A/7z9QCDnJoXc/photo.jpg?sz=128", "display_name": "Rabi Roshan", "link": "https://stackoverflow.com/users/7724779/rabi-roshan"}, "edited": false, "score": 0, "creation_date": 1581265948, "post_id": 58018735, "comment_id": 106364993, "body": "Ok... brother, I think I found the exact problem, its not the letter itself... the maximum length of normal text sms is 170 for letters like [a,b...z] because in this case 1 letter = 1 byte.... but for letters like \u0148 , 1 letter = 2 byte... so the limit is 140. That means the maximum length of sms will be 70 [70 x \u0148 = 140 bytes]. But this is not a problem with default android sms because it is using some kind of headers to split the long message and concatenate on the receiver&#39;s end. I don&#39;t have much knowledge on this. If you can find a solution, please do share. Thank you."}], "tags": [], "owner": {"reputation": 999, "user_id": 1896554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60c5234725d8e6c5381dad8cbddd0bba?s=128&d=identicon&r=PG", "display_name": "Ali80", "link": "https://stackoverflow.com/users/1896554/ali80"}, "is_accepted": false, "score": 5, "last_activity_date": 1611749275, "last_edit_date": 1611749275, "creation_date": 1568925964, "answer_id": 58018735, "question_id": 48287206, "link": "https://stackoverflow.com/questions/48287206/how-to-send-an-sms-without-users-interaction-in-flutter/58018735#58018735", "title": "how to send an SMS without users interaction in flutter?", "body": "<p>This is the old lib that I've used before,</p>\n<p>Link: <a href=\"https://github.com/geordyvcErasmus/flutter_sms\" rel=\"nofollow noreferrer\">sms_maintained</a></p>\n<p>note: this is a fork of a previous flutter sms library which was not maintained any more and hence the name. this one is currently active and working.</p>\n<p>But as of 2021, I've switched to <a href=\"https://pub.dev/packages/telephony\" rel=\"nofollow noreferrer\">telephony</a> and quite happy with it.</p>\n"}], "owner": {"reputation": 3696, "user_id": 6107079, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CUGlv.jpg?s=128&g=1", "display_name": "Mahi", "link": "https://stackoverflow.com/users/6107079/mahi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15941, "favorite_count": 8, "protected_date": 1550844382, "accepted_answer_id": 48295328, "answer_count": 2, "score": 13, "last_activity_date": 1611749275, "creation_date": 1516125344, "question_id": 48287206, "link": "https://stackoverflow.com/questions/48287206/how-to-send-an-sms-without-users-interaction-in-flutter", "title": "how to send an SMS without users interaction in flutter?", "body": "<p>I am actually trying to send SMS from my flutter app without user's interaction.\nI know I can launch the SMS app using url_launcher but I actually want to send an SMS without user's interaction or launching SMS from my flutter app.</p>\n\n<p>Please can someone tell me if this is possible. </p>\n\n<p>Many Thanks,\nMahi</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 2676, "user_id": 3703587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6fac6fc9baf619e8e52f77b44a2b6ca?s=128&d=identicon&r=PG", "display_name": "Rockvole", "link": "https://stackoverflow.com/users/3703587/rockvole"}, "edited": false, "score": 1, "creation_date": 1516233135, "post_id": 48293707, "comment_id": 83609516, "body": "Thanks for the help @Mahi - your solution gave me the answer. (I modified your code to add the setState() to make it work fully)."}], "tags": [], "owner": {"reputation": 3696, "user_id": 6107079, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CUGlv.jpg?s=128&g=1", "display_name": "Mahi", "link": "https://stackoverflow.com/users/6107079/mahi"}, "is_accepted": true, "score": 38, "last_activity_date": 1516222681, "last_edit_date": 1516222681, "creation_date": 1516163982, "answer_id": 48293707, "question_id": 48286488, "link": "https://stackoverflow.com/questions/48286488/flutter-how-to-read-preferences-at-widget-startup/48293707#48293707", "title": "Flutter: How to read preferences at Widget startup?", "body": "<p>I would suggest not to use the async on initState(). but you can do this in a different way by wrapping up your SharedPreferences inside another function and declaring this as async.</p>\n\n<p>I have modified your code . Please check if this works. Many Thanks.</p>\n\n<p>modified code:</p>\n\n<pre><code>class _MyHomePageState extends State&lt;MyHomePage&gt; {\n  TextEditingController _controller;\n  String _name;\n\n  Future&lt;Null&gt; getSharedPrefs() async {\n    SharedPreferences prefs = await SharedPreferences.getInstance();\n    _name = prefs.getString(\"name\");\n    setState(() {\n      _controller = new TextEditingController(text: _name);\n    });\n  }\n\n  @override\n  void initState() {\n    super.initState();\n    _name = \"\";\n    getSharedPrefs();  \n  }\n\n  @override\n  Widget build(BuildContext context) {\n\n    return new TextField(\n                 decoration: new InputDecoration(\n                   hintText: \"Name (optional)\",\n                 ),\n                 onChanged: (String str) {\n                   setState(() {\n                     _name = str;\n                     storeName(str);\n                 });\n               },\n               controller: _controller,\n    );\n  }\n}\n</code></pre>\n\n<p>Let me know if this helps.\nThank you.</p>\n"}, {"comments": [{"owner": {"reputation": 311, "user_id": 11945373, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-o68yckE86TU/AAAAAAAAAAI/AAAAAAAAAPE/b9E3PtuhIoM/photo.jpg?sz=128", "display_name": "emanuel sanga", "link": "https://stackoverflow.com/users/11945373/emanuel-sanga"}, "edited": false, "score": 0, "creation_date": 1609981502, "post_id": 62644672, "comment_id": 115992920, "body": "This is more cleaner and recommended than the accepted answer.  But, to write the logic on an external method and calling that method in initState is more cleaner, just like the above answer."}], "tags": [], "owner": {"reputation": 14163, "user_id": 5106574, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-NCHwlqWjLo8/AAAAAAAAAAI/AAAAAAAAADY/SlsCrtUF90E/photo.jpg?sz=128", "display_name": "Jitesh Mohite", "link": "https://stackoverflow.com/users/5106574/jitesh-mohite"}, "is_accepted": false, "score": 3, "last_activity_date": 1593455992, "creation_date": 1593455992, "answer_id": 62644672, "question_id": 48286488, "link": "https://stackoverflow.com/questions/48286488/flutter-how-to-read-preferences-at-widget-startup/62644672#62644672", "title": "Flutter: How to read preferences at Widget startup?", "body": "<p><code>initState()</code> is a synchronous function where you cannot mark <code>async</code>, as <code>async</code> convert that function into asynchronous.</p>\n<p>Below code helps to load shared preference values at loading time, and used to update widgets.</p>\n<pre><code>@override\n  void initState() {\n    super.initState();\n    SharedPreferences.getInstance().then((prefValue) =&gt; {\n      setState(() {\n        _name = prefValue.getString('name')?? &quot;&quot;;\n        _controller = new TextEditingController(text: _name);\n      })\n    });\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 103440, "user_id": 6618622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z7q0p.jpg?s=128&g=1", "display_name": "CopsOnRoad", "link": "https://stackoverflow.com/users/6618622/copsonroad"}, "is_accepted": false, "score": 1, "last_activity_date": 1611582568, "creation_date": 1611582568, "answer_id": 65886053, "question_id": 48286488, "link": "https://stackoverflow.com/questions/48286488/flutter-how-to-read-preferences-at-widget-startup/65886053#65886053", "title": "Flutter: How to read preferences at Widget startup?", "body": "<p>Doing it at the app-level.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>SharedPreferences prefs;\nvoid main() async {\n  WidgetsFlutterBinding.ensureInitialized();\n  prefs = await SharedPreferences.getInstance();\n\n  // Rest of your code...\n}\n</code></pre>\n"}], "owner": {"reputation": 2676, "user_id": 3703587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6fac6fc9baf619e8e52f77b44a2b6ca?s=128&d=identicon&r=PG", "display_name": "Rockvole", "link": "https://stackoverflow.com/users/3703587/rockvole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11936, "favorite_count": 8, "accepted_answer_id": 48293707, "answer_count": 3, "score": 22, "last_activity_date": 1611582568, "creation_date": 1516122761, "question_id": 48286488, "link": "https://stackoverflow.com/questions/48286488/flutter-how-to-read-preferences-at-widget-startup", "title": "Flutter: How to read preferences at Widget startup?", "body": "<p>I have been trying to read preferences at Widget startup but have been unable to find a solution.\nI wish to show the users name in a TextField (which they can change) and store it in preferences so that it is shown as soon as they go back to the page.</p>\n\n<pre><code>class _MyHomePageState extends State&lt;MyHomePage&gt; {\n  TextEditingController _controller;\n  :\n  :\n  Future&lt;Null&gt; storeName(String name) async {\n    SharedPreferences prefs = await SharedPreferences.getInstance();\n    prefs.setString(\"name\", name);\n  }\n\n  @override\n  initState() async {\n    super.initState();\n    SharedPreferences prefs = await SharedPreferences.getInstance();\n    _controller = new TextEditingController(text: prefs.getString(\"name\"));\n  }\n\n  @override\n  Widget build(BuildContext context) {\n  :\n  :\n  return new TextField(\n               decoration: new InputDecoration(\n                 hintText: \"Name (optional)\",\n               ),\n               onChanged: (String str) {\n                 setState(() {\n                   _name = str;\n                   storeName(str);\n                 });\n               },\n               controller: _controller,\n             )\n  }\n}\n</code></pre>\n\n<p>I got the idea for using async on initState() from :<br/>\n<a href=\"https://stackoverflow.com/questions/45107702/flutter-timing-problems-on-stateful-widget-after-api-call\">flutter timing problems on stateful widget after API call</a> <br/>\nBut the async seems to cause this error on startup :</p>\n\n<pre><code>'package:flutter/src/widgets/framework.dart': Failed assertion: line 967 pos 12: \n'_debugLifecycleState == _StateLifecycle.created': is not true.\n</code></pre>\n\n<p>I looked for examples of FutureBuilder but cannot seem to find any which are similar to what I am trying to do.</p>\n"}, {"tags": ["javascript", "dart"], "comments": [{"owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "edited": false, "score": 1, "creation_date": 1515969392, "post_id": 48254852, "comment_id": 83492355, "body": "Good to know; thanks for sharing :) Did you have a question?"}, {"owner": {"reputation": 312, "user_id": 7657817, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2d821950016dcd8156cc8022cfb04205?s=128&d=identicon&r=PG", "display_name": "Merkelst", "link": "https://stackoverflow.com/users/7657817/merkelst"}, "reply_to_user": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "edited": false, "score": 0, "creation_date": 1515969491, "post_id": 48254852, "comment_id": 83492390, "body": "How to write that function on Dartlang?"}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1515970953, "post_id": 48254852, "comment_id": 83492762, "body": "See <a href=\"https://github.com/a14n/dart-js-wrapping\" rel=\"nofollow noreferrer\">github.com/a14n/dart-js-wrapping</a>, <a href=\"https://github.com/atrauzzi/grunt-dart2js\" rel=\"nofollow noreferrer\">github.com/atrauzzi/grunt-dart2js</a>"}], "answers": [{"tags": [], "owner": {"reputation": 51074, "user_id": 634863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198449a7e196c4b0f2ed25f65279bf84?s=128&d=identicon&r=PG", "display_name": "Alexandre Ardhuin", "link": "https://stackoverflow.com/users/634863/alexandre-ardhuin"}, "is_accepted": true, "score": 4, "last_activity_date": 1516007332, "creation_date": 1516007332, "answer_id": 48259821, "question_id": 48254852, "link": "https://stackoverflow.com/questions/48254852/convert-js-function-to-dart/48259821#48259821", "title": "Convert JS function to Dart", "body": "<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:html';\n\nmain() {\n  var listeners = {\n    'touchend': (e) {},\n  };\n  listeners.forEach((type, listener) {\n    document.addEventListener(type, listener);\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 312, "user_id": 7657817, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2d821950016dcd8156cc8022cfb04205?s=128&d=identicon&r=PG", "display_name": "Merkelst", "link": "https://stackoverflow.com/users/7657817/merkelst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 822, "favorite_count": 0, "accepted_answer_id": 48259821, "answer_count": 1, "score": 2, "last_activity_date": 1516007332, "creation_date": 1515969316, "last_edit_date": 1515969601, "question_id": 48254852, "link": "https://stackoverflow.com/questions/48254852/convert-js-function-to-dart", "title": "Convert JS function to Dart", "body": "<p>I have one small js code to fix one think on iOS devices, but I don't know how to write that code with touchend event at Dartlang. How to convert that js code to dartlang?</p>\n\n<p>JS Code: </p>\n\n<pre><code>(function(l){var i,s={touchend:function(){}};for(i in s)l.addEventListener(i,s)})(document);\n</code></pre>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 159093, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 1, "creation_date": 1516097947, "post_id": 48245599, "comment_id": 83541171, "body": "Example ? Not clear"}, {"owner": {"reputation": 1326, "user_id": 1082824, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/MbEvE.jpg?s=128&g=1", "display_name": "Ride Sun", "link": "https://stackoverflow.com/users/1082824/ride-sun"}, "reply_to_user": {"reputation": 159093, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1516144055, "post_id": 48245599, "comment_id": 83567575, "body": "The Textfield above has many lines of content but there only a few visible. In order for the user to understand that there is much more content I would like to show a Scrollbar on the right hand site of the TextField."}], "answers": [{"tags": [], "owner": {"reputation": 22853, "user_id": 8708524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1005bc21463c9b1dcec6a3be2ab26943?s=128&d=identicon&r=PG&f=1", "display_name": "Hemanth Raj", "link": "https://stackoverflow.com/users/8708524/hemanth-raj"}, "is_accepted": true, "score": 12, "last_activity_date": 1516279320, "creation_date": 1516279320, "answer_id": 48321648, "question_id": 48245599, "link": "https://stackoverflow.com/questions/48245599/how-can-i-add-or-enable-a-position-indicator-in-singlechildscrollview/48321648#48321648", "title": "How can I add or enable a Position Indicator in SingleChildScrollView", "body": "<p>Just wrap your <code>TextField</code> widget in a <code>ScrollBar</code> widget.</p>\n\n<p>Example:</p>\n\n<pre><code>new Container(\n  height: 100.0,\n  child: new Scrollbar(\n    child: new TextField(\n      maxLines: null,\n    )\n  ),\n)\n</code></pre>\n\n<p>For more info on <code>ScrollBar</code> widget check out the docs <a href=\"https://docs.flutter.io/flutter/material/Scrollbar-class.html\" rel=\"noreferrer\">here</a> </p>\n\n<p>Hope that helped!</p>\n"}, {"tags": [], "owner": {"reputation": 1326, "user_id": 1082824, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/MbEvE.jpg?s=128&g=1", "display_name": "Ride Sun", "link": "https://stackoverflow.com/users/1082824/ride-sun"}, "is_accepted": false, "score": 7, "last_activity_date": 1516657314, "last_edit_date": 1516657314, "creation_date": 1516656995, "answer_id": 48390653, "question_id": 48245599, "link": "https://stackoverflow.com/questions/48245599/how-can-i-add-or-enable-a-position-indicator-in-singlechildscrollview/48390653#48390653", "title": "How can I add or enable a Position Indicator in SingleChildScrollView", "body": "<p>Thanks for the answer above:The <code>SingleChildScrollView</code> gave me the desired behavior I was looking for combined with the LayoutBuilder and and the constraints: new BoxConstraints:</p>\n\n<pre><code>    Widget _renderTextField() =&gt; new LayoutBuilder(\n      builder: (context, constraints) =&gt; new Column(children: &lt;Widget&gt;[\n            new Container(\n                    child: new Container(\n                    margin: const EdgeInsets.only(\n                      right: 5.0,\n                    ),\n                    child: new Container(\n                        constraints: new BoxConstraints(maxHeight: 200.0,\n                        maxWidth: constraints.maxWidth),\n                        child: new Scrollbar(child: new SingleChildScrollView(\n                                scrollDirection: Axis.vertical,\n                                reverse: true,\n                                child: new TextField(...\n</code></pre>\n"}], "owner": {"reputation": 1326, "user_id": 1082824, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/MbEvE.jpg?s=128&g=1", "display_name": "Ride Sun", "link": "https://stackoverflow.com/users/1082824/ride-sun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6576, "favorite_count": 0, "accepted_answer_id": 48321648, "answer_count": 2, "score": 4, "last_activity_date": 1516657314, "creation_date": 1515889400, "last_edit_date": 1516144350, "question_id": 48245599, "link": "https://stackoverflow.com/questions/48245599/how-can-i-add-or-enable-a-position-indicator-in-singlechildscrollview", "title": "How can I add or enable a Position Indicator in SingleChildScrollView", "body": "<p>I need a scroll position indicator for my multi line <code>TextField</code> which is wrapped in a <code>SingleChildScrollView</code>. </p>\n\n<p><a href=\"https://i.stack.imgur.com/WCnHn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WCnHn.png\" alt=\"enter image description here\"></a></p>\n\n<p>There is more text in the text field than is visible and I it's not obvious that there is some text hidden and where it's hidden (top or bottom)</p>\n\n<p>This is Whatsup. The TextField shows a scrollbar. I would like to do the same thing.\n<a href=\"https://i.stack.imgur.com/3MZPS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3MZPS.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "dart", "dart2js", "dart-js-interop"], "answers": [{"comments": [{"owner": {"reputation": 616, "user_id": 3464741, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/3icQS.jpg?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/3464741/michael"}, "edited": false, "score": 0, "creation_date": 1516276772, "post_id": 48242599, "comment_id": 83626837, "body": "How can a achieve tree shaking after combining the resulting js with the dart_sdk.js?"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 616, "user_id": 3464741, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/3icQS.jpg?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/3464741/michael"}, "edited": false, "score": 0, "creation_date": 1516278248, "post_id": 48242599, "comment_id": 83627640, "body": "There might be JS tools that do that, Dart doesn&#39;t provide anything for generated JS besides dart2js itself which can only tree-shake Dart code"}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1515867117, "last_edit_date": 1515867117, "creation_date": 1515865769, "answer_id": 48242599, "question_id": 48240298, "link": "https://stackoverflow.com/questions/48240298/calling-dart-from-javascript/48242599#48242599", "title": "Calling Dart from Javascript", "body": "<p>Dart is not a good fit for that use case.\n<code>dart:js</code> and with a bit of hacking <code>package:js</code> allow to expose methods one by one, but that doesn't seem to fit your use case.</p>\n\n<p>You can use DDC which is intended for development but emits readable code that can be used from JS.</p>\n\n<p>For production Dart is supposed to be compiled to JS using the <code>dart2js</code> tools that does tree-shaking and minification. Tree-shaking requires whole app-analysis to know what code needs to be retained.</p>\n\n<p>I have heard from projects where DDC works good for use cases similar to yours.</p>\n"}], "owner": {"reputation": 616, "user_id": 3464741, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/3icQS.jpg?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/3464741/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 492, "favorite_count": 0, "accepted_answer_id": 48242599, "answer_count": 1, "score": 2, "last_activity_date": 1515867117, "creation_date": 1515849856, "last_edit_date": 1515855616, "question_id": 48240298, "link": "https://stackoverflow.com/questions/48240298/calling-dart-from-javascript", "title": "Calling Dart from Javascript", "body": "<p>How can I let the dart to js compiler export a dart api to js with a direct mapping from the original dart api to the js api resulting from transpilation?</p>\n\n<p>The purpose is simply to write a library in dart and use it from js.</p>\n\n<p>There is no problem calling js from dart. But, my question adresses interop the other way around. At the moment I cant find any library or documentation as a solution to that issue. In the documentation of the dart:js and package:js libraries it is explicitly specified that interop works only one way. </p>\n\n<p>There are improper solutions to achieve the other way of interop, but only by hack. For example <a href=\"https://stackoverflow.com/questions/23104432/calling-dart-code-from-javascript\">Calling Dart code from javascript</a> enforces passing and returning to and from a function in a way that is restricted by the interop library instead of the intention of the developer. </p>\n\n<p>Explicitly I do not encourage a solution like this <a href=\"https://stackoverflow.com/a/45883551\">https://stackoverflow.com/a/45883551</a> as an answer since it is a flexible but not a standard solution. For some purposes it is recommendable to have a standard mapping between original and transpiled apis. And the referenced answer is quite complicated.</p>\n\n<p>This means that even the term \"I N T E R\"op might be wrong as it implies two ways of operation! Currently, there seems to be no interop between dart and js - is that really true? </p>\n"}, {"tags": ["angular", "dart", "angular-dart"], "answers": [{"tags": [], "owner": {"reputation": 1059, "user_id": 4001247, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/848fa431a7a985cd64705a47f34eb008?s=128&d=identicon&r=PG&f=1", "display_name": "Muka", "link": "https://stackoverflow.com/users/4001247/muka"}, "is_accepted": true, "score": 2, "last_activity_date": 1515785957, "creation_date": 1515785957, "answer_id": 48232997, "question_id": 48224203, "link": "https://stackoverflow.com/questions/48224203/angular-invalid-arguments-route-generator-for-was-not-included-in-para/48232997#48232997", "title": "Angular: Invalid argument(s): Route generator for &quot;...&quot; was not included in parameters passed", "body": "<p>I found the reason this problem.</p>\n\n<p>Actually, if <code>useAsDefault: true</code> is in a route URL with parameter (p.e. /:param), this problem occurs.</p>\n\n<p>The workaround is define another route URL <strong>without</strong> parameter as <code>useAsDefault: true</code></p>\n"}], "owner": {"reputation": 1059, "user_id": 4001247, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/848fa431a7a985cd64705a47f34eb008?s=128&d=identicon&r=PG&f=1", "display_name": "Muka", "link": "https://stackoverflow.com/users/4001247/muka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 1, "accepted_answer_id": 48232997, "answer_count": 1, "score": 1, "last_activity_date": 1515785957, "creation_date": 1515752659, "last_edit_date": 1515761943, "question_id": 48224203, "link": "https://stackoverflow.com/questions/48224203/angular-invalid-arguments-route-generator-for-was-not-included-in-para", "title": "Angular: Invalid argument(s): Route generator for &quot;...&quot; was not included in parameters passed", "body": "<p>I am using child route configuration with parameters (AngularDart, package angular_router: ^1.0.2) and the following error occur: </p>\n\n<blockquote>\n  <p>EXCEPTION: Invalid argument(s): Route generator for \"chave\" was not\n  included in parameters passed. </p>\n</blockquote>\n\n<p>What Am I doing wrong?</p>\n\n<p>The <code>@RouteConfig</code> definitions are:</p>\n\n<p><strong>In Root</strong></p>\n\n<pre><code>@RouteConfig(const [\n  const Redirect(path: '/', redirectTo: const ['Painel']),\n  const Route(path: '/painel', name: 'Painel', component: PainelComponent, useAsDefault: true),\n  const Route(path: '/empresas/...', name: 'Empresas', component: EmpresasComponent),\n  const Route(path: '/iniciativas', name: 'Iniciativas', component: IniciativasComponent),\n])\n</code></pre>\n\n<p><strong>In Parent <code>EmpresasComponent</code> (pass param to child <code>EmpresaDetalheComponent</code>)</strong></p>\n\n<pre><code>@RouteConfig(const [\n  const Route(path: '/empresa/:chave', name: 'EmpresaDetalhe', component: EmpresaDetalheComponent,\n      useAsDefault: true),\n])\n</code></pre>\n\n<p>The problem occurs when Parent is called from Root basead config definitions, even without calling the child that has the parameter. </p>\n\n<p>Detail:</p>\n\n<p>Navigation should work like this:\n<strong>Root >>> Parent >>> Child (has param) = OK</strong></p>\n\n<p>But the param is requerid here: <strong>Root >>> Parent = Error, even no parameter is passed to the parent, only the child requires</strong></p>\n\n<p>What Am I doing wrong?</p>\n"}, {"tags": ["dart", "flutter", "flutter-test"], "comments": [{"owner": {"reputation": 771, "user_id": 916395, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44bd35af882e3a8cdc432c016d839c5d?s=128&d=identicon&r=PG", "display_name": "QuirijnGB", "link": "https://stackoverflow.com/users/916395/quirijngb"}, "edited": false, "score": 1, "creation_date": 1516333887, "post_id": 48210763, "comment_id": 83653109, "body": "Why would you want to make HTTP requests in a test? Wouldn&#39;t you want to mock that instead?"}, {"owner": {"reputation": 31, "user_id": 9204743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61aeb6a16b8353c7619036ffad8098b6?s=128&d=identicon&r=PG", "display_name": "slyon", "link": "https://stackoverflow.com/users/9204743/slyon"}, "reply_to_user": {"reputation": 771, "user_id": 916395, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44bd35af882e3a8cdc432c016d839c5d?s=128&d=identicon&r=PG", "display_name": "QuirijnGB", "link": "https://stackoverflow.com/users/916395/quirijngb"}, "edited": false, "score": 0, "creation_date": 1516694990, "post_id": 48210763, "comment_id": 83781303, "body": "Sure. But the problem is that my app/test times-out while trying to reach the local mock-http-server."}, {"owner": {"reputation": 4583, "user_id": 6668797, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/FgETn.jpg?s=128&g=1", "display_name": "TWL", "link": "https://stackoverflow.com/users/6668797/twl"}, "edited": false, "score": 0, "creation_date": 1580344243, "post_id": 48210763, "comment_id": 106070611, "body": "See <a href=\"https://stackoverflow.com/questions/49166234/flutter-widget-tests-with-networkimage\" title=\"flutter widget tests with networkimage\">stackoverflow.com/questions/49166234/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1059, "user_id": 2497859, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/20Vbv.png?s=128&g=1", "display_name": "Omatt", "link": "https://stackoverflow.com/users/2497859/omatt"}, "is_accepted": false, "score": 0, "last_activity_date": 1614049306, "creation_date": 1614049306, "answer_id": 66326459, "question_id": 48210763, "link": "https://stackoverflow.com/questions/48210763/how-to-make-a-http-request-in-a-flutter-widget-test/66326459#66326459", "title": "How to make a http request in a flutter widget test?", "body": "<p>If the cause of the issue is timeouts as you've mentioned, I suggest trying a different network during tests. <code>WidgetTester</code> shouldn't cause issues on HTTP Requests in Flutter Unit Tests. I tried the repro provided, but it worked fine on my tests.</p>\n<p><a href=\"https://i.stack.imgur.com/RvMeA.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RvMeA.gif\" alt=\"demo\" /></a></p>\n<p>For reference, here's the version of Flutter I'm running on: <code>Flutter version 1.26.0-2.0.pre.281</code></p>\n"}], "owner": {"reputation": 31, "user_id": 9204743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61aeb6a16b8353c7619036ffad8098b6?s=128&d=identicon&r=PG", "display_name": "slyon", "link": "https://stackoverflow.com/users/9204743/slyon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2045, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1614049306, "creation_date": 1515685119, "last_edit_date": 1575962730, "question_id": 48210763, "link": "https://stackoverflow.com/questions/48210763/how-to-make-a-http-request-in-a-flutter-widget-test", "title": "How to make a http request in a flutter widget test?", "body": "<p>I'm trying to make an HTTP request from within a flutter widget test, but for some reason, the widget test always times out after 5 sec, whereas it works perfectly fine in a unit test.</p>\n\n<pre><code>import 'package:flutter_test/flutter_test.dart';\nimport 'dart:io';\nimport 'dart:convert';\n\nvoid main() {\n  test('http unit-test works', () async {\n    var httpClient = new HttpClient();\n    var request = await httpClient.getUrl(Uri.parse('https://api.ipify.org/'));\n    var response = await request.close();\n    var responseBody = await response.transform(UTF8.decoder).join();\n    print('BODY: $responseBody');\n  });\n\n  testWidgets('http widget-test does not work', (WidgetTester tester) async {\n    var httpClient = new HttpClient();\n    var request = await httpClient.getUrl(Uri.parse('https://api.ipify.org/'));\n    var response = await request.close();\n    var responseBody = await response.transform(UTF8.decoder).join();\n    print('BODY: $responseBody');\n  });\n}\n</code></pre>\n\n<p>Is the flutter test environment eating my HTTP request here? How can I prevent it from doing this?</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 14194, "user_id": 4966953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dl696.png?s=128&g=1", "display_name": "Marc", "link": "https://stackoverflow.com/users/4966953/marc"}, "edited": false, "score": 0, "creation_date": 1515676809, "post_id": 48207773, "comment_id": 83396936, "body": "Please include a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."}, {"owner": {"reputation": 1165, "user_id": 8794054, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fwP_cEw19QA/AAAAAAAAAAI/AAAAAAAAAM8/bVTFlgz7q3A/photo.jpg?sz=128", "display_name": "Anton Gorbunov", "link": "https://stackoverflow.com/users/8794054/anton-gorbunov"}, "edited": false, "score": 0, "creation_date": 1515676989, "post_id": 48207773, "comment_id": 83397051, "body": "Try to implement the solution of the problem and ask a specific question with a description of what errors you have"}], "answers": [{"comments": [{"owner": {"reputation": 971, "user_id": 12176146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i7saa6CD6nU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdnigVUDcRnIS2zpgJROryAZKe46w/photo.jpg?sz=128", "display_name": "raman raman", "link": "https://stackoverflow.com/users/12176146/raman-raman"}, "edited": false, "score": 0, "creation_date": 1572964791, "post_id": 50642517, "comment_id": 103720553, "body": "how can I add different colors in listview .Please help me solve this <a href=\"https://stackoverflow.com/questions/58712508/how-to-add-different-gradient-colors-to-this-flutter-listview\" title=\"how to add different gradient colors to this flutter listview\">stackoverflow.com/questions/58712508/&hellip;</a>"}], "tags": [], "owner": {"reputation": 309, "user_id": 9724580, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UAFqEOhMImk/AAAAAAAAAAI/AAAAAAAAD38/zXSGp1xd0ok/photo.jpg?sz=128", "display_name": "Annsh Singh", "link": "https://stackoverflow.com/users/9724580/annsh-singh"}, "is_accepted": false, "score": 7, "last_activity_date": 1527852842, "creation_date": 1527852842, "answer_id": 50642517, "question_id": 48207773, "link": "https://stackoverflow.com/questions/48207773/how-to-change-color-dynamically-in-flutter/50642517#50642517", "title": "How to change color dynamically in Flutter?", "body": "<p>What you can do is have a list of colors that you want like this - </p>\n\n<pre><code>    static const List&lt;_MyColor&gt; myBgColors = const &lt;_MyColor&gt;[\n     const _MyColor(null, 'Clear'),\n     const _MyColor(const Color(0xFFFFC100), 'Orange'),\n     const _MyColor(const Color(0xFF91FAFF), 'Light Blue'),\n     const _MyColor(const Color(0xFF00D1FF), 'Cyan'),\n     const _MyColor(const Color(0xFF00BCFF), 'Cerulean'),\n     const _MyColor(const Color(0xFF009BEE), 'Blue'),\n  ];\n</code></pre>\n\n<p>Here _MyColor is a class like - </p>\n\n<pre><code>class _MyColor {\n  const _MyColor(this.color, this.name);\n\n  final Color color;\n  final String name;\n}\n</code></pre>\n\n<p>You can then use this list to access the colors in view you want. </p>\n\n<p>Hope this helps.</p>\n"}, {"comments": [{"owner": {"reputation": 209, "user_id": 11093770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e01cf478a50cae4fac342b3e136d798?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/11093770/chris"}, "edited": false, "score": 0, "creation_date": 1556866050, "post_id": 55964545, "comment_id": 98579963, "body": "with this, if i were to have multiple containers, i can use the variable to color them all. then change the color on the variable to change every container&#39;s color that i color this way."}], "tags": [], "owner": {"reputation": 209, "user_id": 11093770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e01cf478a50cae4fac342b3e136d798?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/11093770/chris"}, "is_accepted": false, "score": 2, "last_activity_date": 1556865842, "creation_date": 1556865842, "answer_id": 55964545, "question_id": 48207773, "link": "https://stackoverflow.com/questions/48207773/how-to-change-color-dynamically-in-flutter/55964545#55964545", "title": "How to change color dynamically in Flutter?", "body": "<p>using <code>final</code> works for me.</p>\n\n<pre><code>final text_color = Colors.blue;\n</code></pre>\n\n<p>below is an example of how i use it in my class</p>\n\n<pre><code>class ColorTest extends StatefulWidget {\n  ColorTest();\n\n  @override\n  _ColorTest createState() =&gt; _ColorTest();\n}\n\nclass _ColorTest extends State&lt;ColorTest&gt; {\n\n  @override\n  Widget build(\n    BuildContext context,\n  ) {\n\n    final my_color_variable = Colors.red; // my_color_variable is now the color red\n\n    return new Container(\n        width: 100,\n        height: 100,\n        color: my_color_variable, // its red\n    );\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 147, "user_id": 10858604, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QTBrl.jpg?s=128&g=1", "display_name": "Margriet", "link": "https://stackoverflow.com/users/10858604/margriet"}, "is_accepted": false, "score": 1, "last_activity_date": 1569172360, "last_edit_date": 1569172360, "creation_date": 1569172031, "answer_id": 58051541, "question_id": 48207773, "link": "https://stackoverflow.com/questions/48207773/how-to-change-color-dynamically-in-flutter/58051541#58051541", "title": "How to change color dynamically in Flutter?", "body": "<p>I have found another solution.\nIn my app, \n1. I want the color from the number A to change when I change this value with a slider. \n2. But when I use the slider for the number B I want the color of B the change and that the number A is normal.</p>\n\n<p>What have I done:\nI have made constants for my text style:</p>\n\n<pre><code>const numbers = TextStyle(\n  fontFamily: 'B612 Mono',\n  fontSize: 18.0,\n  color: white,\n);\n\nconst changeValueAB = TextStyle(\n  fontFamily: 'B612 Mono',\n  fontSize: 18.0,\n  color: cRelayMiddle,\n  backgroundColor: white,\n);\n</code></pre>\n\n<p>I have made two booleans:</p>\n\n<pre><code>bool aActive = false;\nbool bActive = false;\n</code></pre>\n\n<p>Then I made two functions:</p>\n\n<pre><code>void changeColorA() {\n  aActive = true;\n  bActive = false;\n}\n\nvoid changeColorB() {\n  aActive = false;\n  bActive = true;\n}\n</code></pre>\n\n<p>Then when I change the values (I take now only as example value A. \nB you just have to place the right void in it:</p>\n\n<pre><code>                  onPressed: () {\n                    setState(() {\n                    // your commands AND the void the change the booleans:\n                      changeColorA();\n                    });\n                  },\n</code></pre>\n\n<p>Where the textcolor has to change I use:</p>\n\n<pre><code>Text(\n  '$inputNumberA', \n  style: aActive ? changeValueAB : numbers,),\n</code></pre>\n\n<p>It worked for me.</p>\n"}, {"tags": [], "owner": {"reputation": 2097, "user_id": 4756173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e50f7e8bb3963d1dc749e278c3d8d33?s=128&d=identicon&r=PG", "display_name": "Philippe Fanaro", "link": "https://stackoverflow.com/users/4756173/philippe-fanaro"}, "is_accepted": false, "score": 2, "last_activity_date": 1605141262, "last_edit_date": 1605141262, "creation_date": 1570548846, "answer_id": 58289620, "question_id": 48207773, "link": "https://stackoverflow.com/questions/48207773/how-to-change-color-dynamically-in-flutter/58289620#58289620", "title": "How to change color dynamically in Flutter?", "body": "<h1>1. Using a Function</h1>\n<p>You could use functions with a <code>Color</code> parameter, i.e., the type of the input parameter would be <code>Color</code>. For example, in a simple widget:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>Container buildContainer({Color color}) {\n  return Container(\n    color: color,\n  );\n}\n</code></pre>\n<p>In this block, we specified the <code>return</code> type as being the widget <code>Container</code> class. And we've also specified a named parameter called <code>color</code>, which takes a <code>Color</code> type. Later, if we wish to call this function we would do it like this (you might need to replace the <code>;</code> for a <code>,</code>):</p>\n<pre class=\"lang-dart prettyprint-override\"><code>buildContainer(color: Colors.red);\n</code></pre>\n<h1>2. <code>final</code> vs <code>const</code></h1>\n<p>I still think the question has insufficient description, but, if this answer above didn't solve it, I suspect <a href=\"https://stackoverflow.com/questions/13585082/how-do-i-execute-dynamically-like-eval-in-dart\">this other StackOverflow question</a> might be of help.</p>\n<p>As for the keyword <code>final</code>, it is used when you want to declare constants inside (custom) widgets. That's because widgets will need constants defined at runtime, not at compile-time, like <code>const</code>. Otherwise, whenever a widget is destroyed and rebuilt, it wouldn't know how to properly do it if the constant was related to something that happened during runtime. As per <a href=\"https://dart.dev/guides/language/language-tour#final-and-const\" rel=\"nofollow noreferrer\">the docs</a>:</p>\n<blockquote>\n<p>If you never intend to change a variable, use <code>final</code> or <code>const</code>, either instead of <code>var</code> or in addition to a type. A final variable can be set only once; a const variable is a compile-time constant. (Const variables are implicitly final.) A final top-level or class variable is initialized the first time it\u2019s used.</p>\n</blockquote>\n<h1>3. Using a Class</h1>\n<p>For example, another way of doing the same thing I mentioned above, but now creating a new class for a new widget, instead of returning modifications on a widget with a function is:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class CustomContainer extends StatelessWidget {\n  final Color customColor;\n\n  CustomContainer({this.customColor});\n\n  @override\n  Widget build(BuildContext context) {\n    return Center(\n      child: Container(\n        height: 10.0,\n        width: 10.0,\n        color: customColor,\n      ),\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 7190736, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YQOJf.jpg?s=128&g=1", "display_name": "Alessio Pracchia", "link": "https://stackoverflow.com/users/7190736/alessio-pracchia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13358, "favorite_count": 1, "answer_count": 4, "score": 9, "last_activity_date": 1605141262, "creation_date": 1515675750, "last_edit_date": 1576860786, "question_id": 48207773, "link": "https://stackoverflow.com/questions/48207773/how-to-change-color-dynamically-in-flutter", "title": "How to change color dynamically in Flutter?", "body": "<p>I would like to dynamically change color to some elements. Is there a way to get colors using a variable? Something like </p>\n\n<pre><code>Colors[myvar] where myvar = \"green\"\n</code></pre>\n"}]