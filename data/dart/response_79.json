[{"tags": ["types", "switch-statement", "dart"], "comments": [{"owner": {"reputation": 16340, "user_id": 505810, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/76df8d243d91e68ef15e5fde3474bf90?s=128&d=identicon&r=PG", "display_name": "Pacane", "link": "https://stackoverflow.com/users/505810/pacane"}, "edited": false, "score": 0, "creation_date": 1468425680, "post_id": 38354210, "comment_id": 64125453, "body": "I think you would get a lot of help from Strong mode in this. It&#39;d give you a few more warnings/errors."}, {"owner": {"reputation": 2005, "user_id": 2680310, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mTbCp.jpg?s=128&g=1", "display_name": "Ganymede", "link": "https://stackoverflow.com/users/2680310/ganymede"}, "edited": false, "score": 0, "creation_date": 1468433304, "post_id": 38354210, "comment_id": 64130065, "body": "Use <code>is</code> for type checks, e.g. <code>if (type is List) {...} else if (type is Map) {...} else {...}</code>. A <code>switch</code> statement won&#39;t work here, and generic parameters will not be checked"}], "answers": [{"tags": [], "owner": {"reputation": 2939, "user_id": 652220, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/B3Bm7.png?s=128&g=1", "display_name": "Argenti Apparatus", "link": "https://stackoverflow.com/users/652220/argenti-apparatus"}, "is_accepted": false, "score": 5, "last_activity_date": 1468761542, "last_edit_date": 1468761542, "creation_date": 1468439831, "answer_id": 38360629, "question_id": 38354210, "link": "https://stackoverflow.com/questions/38354210/dart-runtimetype-checking-in-switch-statement/38360629#38360629", "title": "Dart runtimeType checking in switch statement", "body": "<p>If you want to do flow control based on object's type, you actually want to do it based on whether an object's class implements an <em>interface</em>, not what it's run time type is. This is what the <strong>Type Test Operators</strong> <code>is</code> and <code>is!</code> are for. </p>\n\n<p>Remember that in Dart a class is also an interface, so you can test if an object is a specific class.</p>\n\n<pre><code>class Something {\n ...\n}\n\nvar s = new Something();\nprint(s is Something);     // true\n</code></pre>\n\n<p>Note that things we tend to think of as 'classes' such as <code>List</code> an <code>Map</code>, are not classes, they are interfaces. Anything that returns a instance of such (including constructors) in fact returns a class that implements the interface.</p>\n\n<p>You can use generics, but be careful.</p>\n\n<pre><code>void main() {\n\n  var a = [1, 2, 'three'];\n  print(a is List);          // True\n  print(a is List&lt;int&gt;);     // True!!!!\n  print(a is List&lt;String&gt;);  // True!!!!\n\n  var b = new List&lt;int&gt;.from([1, 2, 3]);\n  print(b is List);          // True\n  print(b is List&lt;int&gt;);     // True\n  print(b is List&lt;String&gt;);  // False\n}\n</code></pre>\n\n<p>A class can implement an interface via explicitly implementing it, inheriting from a class that implements it, or through a mix-in.</p>\n\n<pre><code>class Base {\n  void a() {}\n}\n\nclass Mix {\n  void b() {}\n}\n\nclass Mixed extends Base with Mix {} \n\nclass Explicit implements Base {\n  void a() {}  \n}\n\nvoid main() {\n\n  var c = new Mixed();\n  print(c is Mixed);         // True\n  print(c is Base);          // True\n  print(c is Mix);           // True\n\n  var d = new Explicit();\n  print(d is Base);          // True\n}\n</code></pre>\n"}], "owner": {"reputation": 576, "user_id": 5685762, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0989ddfa79e368846a0bb4f1a1ef6ab6?s=128&d=identicon&r=PG&f=1", "display_name": "J F", "link": "https://stackoverflow.com/users/5685762/j-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1763, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1468761542, "creation_date": 1468419366, "last_edit_date": 1468419975, "question_id": 38354210, "link": "https://stackoverflow.com/questions/38354210/dart-runtimetype-checking-in-switch-statement", "title": "Dart runtimeType checking in switch statement", "body": "<p>I have found some strange behaviors trying to check the runtime type of some objects in Dart.\nLet's make a simple example:</p>\n\n<pre><code>main(List&lt;String&gt; args) {\n  List&lt;Map&gt; l1 = new List&lt;Map&gt;();\n  l1.add(new Map&lt;String, int&gt;());\n  List&lt;int&gt; l2 = ['Start', 'Stop'];\n  checkType(l1.runtimeType);\n  checkType(l1[0].runtimeType);\n  checkType(l2.runtimeType);\n}\n\ncheckType(Type type) {\n\n  switch(type) {\n    case List:\n      print('it is a List!');\n      break;\n    case Map:\n      print('it is a List!');\n      break;\n    default:\n      print('Unmanaged type $type');\n      break;\n  }\n}\n</code></pre>\n\n<p>this program has the following output:</p>\n\n<p>Unmanaged type <code>List&lt;Map&gt;</code> \nUnmanaged type <code>_InternalLinkedHashMap&lt;String, int&gt;</code>\nUnmanaged type <code>List</code></p>\n\n<p>The first case cannot be checked in a switch statement because if I try to set a \"<code>List&lt;Map&gt;</code>\" case I get the error: in constant expressions, operand(s) of this operator must be of type 'num'\nThe second cannot be matched because using the _InternalLinkedHashMap in a case gets the following error: Case expression must be constant.</p>\n\n<p>In the last case I have defined the List as a List of ints (<code>List&lt;int&gt;</code>), but the system ignores it and considers it as a simple List.\nI think that this is misleading and such a declaration should be forbbiden.</p>\n\n<p>Any help/suggestion?</p>\n"}, {"tags": ["dart"], "answers": [{"comments": [{"owner": {"reputation": 3851, "user_id": 84762, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/03f58429e8709df581bedd42f576f649?s=128&d=identicon&r=PG", "display_name": "KOGI", "link": "https://stackoverflow.com/users/84762/kogi"}, "edited": false, "score": 0, "creation_date": 1483564407, "post_id": 38335571, "comment_id": 70152346, "body": "Thank you! After a bunch of searching this is the first time I&#39;ve found an explanation that actually helped! (apparently, I glossed over it when I read the official docs)"}], "tags": [], "owner": {"reputation": 1222, "user_id": 2929488, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/cbb4ae88822ead94dfe7ee805ccbbb6a?s=128&d=identicon&r=PG&f=1", "display_name": "Abaddon666", "link": "https://stackoverflow.com/users/2929488/abaddon666"}, "is_accepted": false, "score": 7, "last_activity_date": 1468344952, "creation_date": 1468344952, "answer_id": 38335571, "question_id": 38335497, "link": "https://stackoverflow.com/questions/38335497/why-is-override-annotation-optional/38335571#38335571", "title": "Why is @override annotation optional?", "body": "<p>From the <a href=\"https://api.dartlang.org/stable/1.17.1/dart-core/override-constant.html\" rel=\"noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>The intent of the @override notation is to catch situations where a superclass renames a member, and an independent subclass which used to override the member, could silently continue working using the superclass implementation.</p>\n</blockquote>\n\n<p>You might want to name your method equal to the super class without explicitely overriding it. This is allowed as it does not break any constraints.\nBasically you can name your methods whatever you want.</p>\n\n<p><code>@Override</code> only enforces, that one of your parents has to have a method with the same signature.</p>\n"}, {"comments": [{"owner": {"reputation": 3851, "user_id": 84762, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/03f58429e8709df581bedd42f576f649?s=128&d=identicon&r=PG", "display_name": "KOGI", "link": "https://stackoverflow.com/users/84762/kogi"}, "edited": false, "score": 1, "creation_date": 1483564518, "post_id": 38345972, "comment_id": 70152417, "body": "So... they made it optional because they didn&#39;t want it to be required? I&#39;m sure it wasn&#39;t intended this way, but this seems particularly unhelpful."}, {"owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "reply_to_user": {"reputation": 3851, "user_id": 84762, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/03f58429e8709df581bedd42f576f649?s=128&d=identicon&r=PG", "display_name": "KOGI", "link": "https://stackoverflow.com/users/84762/kogi"}, "edited": false, "score": 2, "creation_date": 1483599114, "post_id": 38345972, "comment_id": 70163137, "body": "It was made optional because they didn&#39;t want it as part of the language. Dart doesn&#39;t require you to write anything to override a method. So really, it&#39;s not <i>optional</i>, it&#39;s <i>not there at all</i> from the language perspective. Some people do want the feature, even if the language doesn&#39;t have it, and they added the <code>@override</code> annotation and analyzer support. The annotation should really be in <code>package:meta</code> with other analyzer-recognized annotations instead of being in the platform libraries, and maybe we&#39;ll eventually move it there."}], "tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": true, "score": 6, "last_activity_date": 1468397248, "creation_date": 1468397248, "answer_id": 38345972, "question_id": 38335497, "link": "https://stackoverflow.com/questions/38335497/why-is-override-annotation-optional/38345972#38345972", "title": "Why is @override annotation optional?", "body": "<p>The annotation wasn't made part of the language because the language designers didn't want to enforce its use. </p>\n\n<p>It has been added as an optional annotation for people who want the feature, but it's only recognized by the analyzer tool, it's not actually part of the language.</p>\n"}, {"tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 5, "last_activity_date": 1468675638, "creation_date": 1468675638, "answer_id": 38411689, "question_id": 38335497, "link": "https://stackoverflow.com/questions/38335497/why-is-override-annotation-optional/38411689#38411689", "title": "Why is @override annotation optional?", "body": "<p>You can enable a linter rule to enforce it</p>\n\n<ul>\n<li><a href=\"http://dart-lang.github.io/linter/lints/annotate_overrides.html\" rel=\"noreferrer\">http://dart-lang.github.io/linter/lints/annotate_overrides.html</a></li>\n</ul>\n\n<p>by adding an <code>.analysis_options</code> file to your project besides the <code>pubspec.yaml</code> file with this content</p>\n\n<pre><code>linter:\n  rules:\n    - annotate_overrides\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 8653367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/576bef6d4dcf00f47d42a52cbc58e8c3?s=128&d=identicon&r=PG", "display_name": "Ng Ju Ping", "link": "https://stackoverflow.com/users/8653367/ng-ju-ping"}, "is_accepted": false, "score": 1, "last_activity_date": 1594272727, "creation_date": 1594272727, "answer_id": 62808046, "question_id": 38335497, "link": "https://stackoverflow.com/questions/38335497/why-is-override-annotation-optional/62808046#62808046", "title": "Why is @override annotation optional?", "body": "<p>Because the name of the method is looked up in the inheritance chain: for example, let's look at this inheritance chain:</p>\n<pre><code>A\n|\nB\n|\nC\n</code></pre>\n<p>if we create an instance using class C and invoke a method test(), then the definition of test is first looked in the body of class C, then class B, then class A. Thus, the overriding effect is automatically implied.\nThe effect is similar to what observed in C++, and for a detailed read please check out this link:\n<br/>\n<a href=\"https://isocpp.org/wiki/faq/strange-inheritance#hiding-rule\" rel=\"nofollow noreferrer\">https://isocpp.org/wiki/faq/strange-inheritance#hiding-rule</a></p>\n<br/>\nThe reason of the existence of the annotation is clearly stated above by Abaddon666.\n"}], "owner": {"reputation": 1457, "user_id": 1033193, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/86c0ec08a49d925a0e12cd6aab17abe7?s=128&d=identicon&r=PG", "display_name": "Eternalcode", "link": "https://stackoverflow.com/users/1033193/eternalcode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1207, "favorite_count": 0, "accepted_answer_id": 38345972, "answer_count": 4, "score": 7, "last_activity_date": 1594272727, "creation_date": 1468344678, "question_id": 38335497, "link": "https://stackoverflow.com/questions/38335497/why-is-override-annotation-optional", "title": "Why is @override annotation optional?", "body": "<p>I understand definition of an <a href=\"https://api.dartlang.org/stable/1.17.1/dart-core/override-constant.html\" rel=\"noreferrer\">@override</a> annotation.</p>\n\n<p>But, why is the usage of the annotation optional? </p>\n"}, {"tags": ["angular", "exception-handling", "dart"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1468675938, "post_id": 38335254, "comment_id": 64231366, "body": "See also <a href=\"http://stackoverflow.com/questions/37793276/angular-2-custom-exceptionhandler-change-detection-lag\" title=\"angular 2 custom exceptionhandler change detection lag\">stackoverflow.com/questions/37793276/&hellip;</a> It&#39;s better to catch exceptions as closely as possible where they happen. The custom global exception handler should only be a last resort, for example to centrally log uncaught exceptions and guide the user back to a point where the application is in a stable state (reloade, ...)."}], "answers": [{"tags": [], "owner": {"reputation": 68, "user_id": 6837915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ic1My.jpg?s=128&g=1", "display_name": "Star Ford", "link": "https://stackoverflow.com/users/6837915/star-ford"}, "is_accepted": false, "score": 1, "last_activity_date": 1474230235, "creation_date": 1474230235, "answer_id": 39562327, "question_id": 38335254, "link": "https://stackoverflow.com/questions/38335254/dart-centralized-exception-handling/39562327#39562327", "title": "dart: Centralized Exception Handling", "body": "<p>You can define a method that wraps actions with centralized exception handling, such as:</p>\n\n<pre><code>void safely(action) { \n  try {action();}\n  catch (ex) { /*exception handling here*/ }\n}\n\n//use 'safely' throughout your code like this\nsafely(() =&gt; doSomething());\n</code></pre>\n"}], "owner": {"reputation": 2034, "user_id": 1704895, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/SvOnC.jpg?s=128&g=1", "display_name": "Cequiel", "link": "https://stackoverflow.com/users/1704895/cequiel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1474230235, "creation_date": 1468343823, "question_id": 38335254, "link": "https://stackoverflow.com/questions/38335254/dart-centralized-exception-handling", "title": "dart: Centralized Exception Handling", "body": "<p>I would like to \"centralize\" the exception handler. For example:</p>\n\n<pre><code>// login_view.dart: the login view throws an exception\nthrow new LoginException(\"Invalid username or password\");\n\n// exception_handler.dart: in some point of my application the exception is captured \nvoid exceptionHandler(Exception e) {\n  if (e is LoginException) {\n    showModalDialog(e.toString()).then(() =&gt; redirectToLoginView());\n  }\n}\n</code></pre>\n\n<p>Is that possible? I have read about the ExceptionHandler class, but I'm not sure if that class is suitable for this specific situation.\nThanks.</p>\n"}, {"tags": ["windows", "docker", "dart"], "answers": [{"comments": [{"owner": {"reputation": 2369, "user_id": 2741462, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5MPEU.png?s=128&g=1", "display_name": "Bhuwan Prasad Upadhyay", "link": "https://stackoverflow.com/users/2741462/bhuwan-prasad-upadhyay"}, "edited": false, "score": 0, "creation_date": 1484208616, "post_id": 38322408, "comment_id": 70417647, "body": "Could you please update links you provides here. All the links were dead."}, {"owner": {"reputation": 1034911, "user_id": 6309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7aa22372b695ed2b26052c340f9097eb?s=128&d=identicon&r=PG", "display_name": "VonC", "link": "https://stackoverflow.com/users/6309/vonc"}, "reply_to_user": {"reputation": 2369, "user_id": 2741462, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5MPEU.png?s=128&g=1", "display_name": "Bhuwan Prasad Upadhyay", "link": "https://stackoverflow.com/users/2741462/bhuwan-prasad-upadhyay"}, "edited": false, "score": 0, "creation_date": 1484208680, "post_id": 38322408, "comment_id": 70417687, "body": "@developerbhuwan they are not dead. GitHub itself is dead: <a href=\"https://status.github.com/messages\" rel=\"nofollow noreferrer\">status.github.com/messages</a>"}], "tags": [], "owner": {"reputation": 1034911, "user_id": 6309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7aa22372b695ed2b26052c340f9097eb?s=128&d=identicon&r=PG", "display_name": "VonC", "link": "https://stackoverflow.com/users/6309/vonc"}, "is_accepted": false, "score": 4, "last_activity_date": 1468308145, "creation_date": 1468308145, "answer_id": 38322408, "question_id": 38312714, "link": "https://stackoverflow.com/questions/38312714/docker-on-windows-with-dart-docker-image/38322408#38322408", "title": "Docker on Windows with Dart Docker Image", "body": "<p>The <a href=\"https://github.com/docker/docker/issues/20397#issuecomment-185471832\" rel=\"nofollow\">issue 20397</a> explains (credit: <a href=\"https://github.com/thaJeztah\" rel=\"nofollow\">Sebastiaan van Stijn - thaJeztah</a>)</p>\n\n<blockquote>\n  <p>That warning was added, because the Windows filesystem does not have an option to mark a file as 'executable'.<br>\n  Building a linux image from a Windows machine would therefore break the image if a file has to be marked executable.</p>\n  \n  <p>For that reason, files are marked executable by default when building from a windows client; the warning is there so that you are notified of that, and (if needed), modify the Dockerfile to change/remove the executable bit afterwards.</p>\n</blockquote>\n\n<p>I like to add in the Dockerfile, after a <code>COPY</code>, a <code>RUN CHMOD +x aFile_I_Just_Copied</code></p>\n"}], "owner": {"reputation": 368, "user_id": 1239271, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/5ddff13fe30e9d01c128d0f8df9892d1?s=128&d=identicon&r=PG", "display_name": "BeatingToADifferentRobot", "link": "https://stackoverflow.com/users/1239271/beatingtoadifferentrobot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1882, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1468308145, "creation_date": 1468257737, "question_id": 38312714, "link": "https://stackoverflow.com/questions/38312714/docker-on-windows-with-dart-docker-image", "title": "Docker on Windows with Dart Docker Image", "body": "<p>How does this warning need to be addressed for a dart runtime docker image to be secure?  The docker image will ultimately be hosted in the google cloud.</p>\n\n<blockquote>\n  <p>You are building a Docker image from Windows against a non-Windows Docker host. All files and directories added to build context will have '-rwxr-xr-x' permissions. It is recommended to double check and reset permissions for sensitive files and directories.\"</p>\n</blockquote>\n"}, {"tags": ["dependency-injection", "angular", "dart"], "comments": [{"owner": {"reputation": 8734, "user_id": 6416109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0196ed675a4e2836203066a677f93b4?s=128&d=identicon&r=PG&f=1", "display_name": "AngJobs on Github", "link": "https://stackoverflow.com/users/6416109/angjobs-on-github"}, "edited": false, "score": 0, "creation_date": 1468180524, "post_id": 38295702, "comment_id": 64008663, "body": "Have you imported <code>import { Inject } from &#39;angular2&#47;core&#39;;</code>?"}, {"owner": {"reputation": 1840, "user_id": 2629573, "user_type": "registered", "profile_image": "https://graph.facebook.com/786773317/picture?type=large", "display_name": "Shlomi Assaf", "link": "https://stackoverflow.com/users/2629573/shlomi-assaf"}, "edited": false, "score": 0, "creation_date": 1468180592, "post_id": 38295702, "comment_id": 64008680, "body": "The exception imply he did...  it&#39;s an angular exception."}], "answers": [{"comments": [{"owner": {"reputation": 2034, "user_id": 1704895, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/SvOnC.jpg?s=128&g=1", "display_name": "Cequiel", "link": "https://stackoverflow.com/users/1704895/cequiel"}, "edited": false, "score": 0, "creation_date": 1468181589, "post_id": 38295999, "comment_id": 64008967, "body": "Thanks for your answer. It was what I suspected. I wonder what is the purpose of the @Inject() directive, since it can be omitted and it does nothing."}, {"owner": {"reputation": 1840, "user_id": 2629573, "user_type": "registered", "profile_image": "https://graph.facebook.com/786773317/picture?type=large", "display_name": "Shlomi Assaf", "link": "https://stackoverflow.com/users/2629573/shlomi-assaf"}, "reply_to_user": {"reputation": 2034, "user_id": 1704895, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/SvOnC.jpg?s=128&g=1", "display_name": "Cequiel", "link": "https://stackoverflow.com/users/1704895/cequiel"}, "edited": false, "score": 1, "creation_date": 1468226923, "post_id": 38295999, "comment_id": 64021846, "body": "The <code>@Inject</code> decorator allows (among other things) injection of string tokens (opposed to type tokens), see OpaqueToken.  Also note that when you declare <code>@Injectable</code> on a class you tell tell the Injector that this class can be injected, making the <code>@Inject</code> redundant for Typed Tokens (you still need it for String tokens)"}], "tags": [], "owner": {"reputation": 1840, "user_id": 2629573, "user_type": "registered", "profile_image": "https://graph.facebook.com/786773317/picture?type=large", "display_name": "Shlomi Assaf", "link": "https://stackoverflow.com/users/2629573/shlomi-assaf"}, "is_accepted": true, "score": 3, "last_activity_date": 1468180989, "creation_date": 1468180989, "answer_id": 38295999, "question_id": 38295702, "link": "https://stackoverflow.com/questions/38295702/inject-a-service-into-another-service/38295999#38295999", "title": "Inject a service into another service", "body": "<p>Some information is missing to fully solve this but exception says that the injector doesn't have enough information to resolve <strong>AnotherService</strong></p>\n\n<p>The DI in angular is build upon hierarchies, starting from the root injector which is created upon an angular application bootstrap.</p>\n\n<p>Each hierarchy is a new injector instance, resolving a dependency is done from bottom to top, i.e: if an injector can't resolve it will ask its parent to resolve. This will go on until it reach an injector without a parent (root injector).</p>\n\n<p>Make sure you declare a provider for AnotherService before you declare a provider for MyService.</p>\n\n<p>Just add a provider to AnotherService in the providers array you supply to bootstrap.</p>\n"}], "owner": {"reputation": 2034, "user_id": 1704895, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/SvOnC.jpg?s=128&g=1", "display_name": "Cequiel", "link": "https://stackoverflow.com/users/1704895/cequiel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1273, "favorite_count": 0, "accepted_answer_id": 38295999, "answer_count": 1, "score": 0, "last_activity_date": 1468180989, "creation_date": 1468178750, "question_id": 38295702, "link": "https://stackoverflow.com/questions/38295702/inject-a-service-into-another-service", "title": "Inject a service into another service", "body": "<p>I would like to inject a service into another service but, for some reason, the \"@Inject\" decorator is being ignored. For example, the following service depends on another service:</p>\n\n<pre><code>@Injectable()\nclass MyService {\n    final AnotherService _service;\n    MyService(@Inject(AnotherService) this._service);\n// ... more methods\n}\n</code></pre>\n\n<p>Angular2 throws the following error:</p>\n\n<blockquote>\n  <p>ORIGINAL EXCEPTION: No provider for AnotherService!</p>\n</blockquote>\n\n<p>Am I using the \"@Inject\" decorator in a bad way?</p>\n"}, {"tags": ["dart", "angular-dart"], "answers": [{"tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1468676032, "creation_date": 1468676032, "answer_id": 38411744, "question_id": 38291410, "link": "https://stackoverflow.com/questions/38291410/input-onchange-with-angular2/38411744#38411744", "title": "Input onchange with Angular2", "body": "<p><code>onChange</code> is the default event handler name, not the event name.</p>\n\n<p>Use instead</p>\n\n<pre><code>(change)=\"update()\"\n</code></pre>\n"}], "owner": {"reputation": 54, "user_id": 5832853, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-SHif0Zgrado/AAAAAAAAAAI/AAAAAAAAJPU/QSWzGp82Gxo/photo.jpg?sz=128", "display_name": "Leonid Lunin", "link": "https://stackoverflow.com/users/5832853/leonid-lunin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3578, "favorite_count": 0, "accepted_answer_id": 38411744, "answer_count": 1, "score": 1, "last_activity_date": 1468676032, "creation_date": 1468150292, "question_id": 38291410, "link": "https://stackoverflow.com/questions/38291410/input-onchange-with-angular2", "title": "Input onchange with Angular2", "body": "<p>I try to detect on change with dart. Example html:</p>\n\n<pre><code>&lt;div&gt;\n    &lt;input id=\"photoUpload\" type=\"file\" name=\"photo\" (onchange)=\"update()\" multiple&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Dart:</p>\n\n<pre><code>@Component(\n    selector: \"photo-upload-dialog\", templateUrl: \"photo_upload_dialog.html\")\nclass PhotoUploadDialog {\n\n\n  update() async {\n    print('Changed!');\n  }\n}\n</code></pre>\n\n<p>But nothing in a console.</p>\n"}, {"tags": ["dart", "dart2js"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1467986469, "post_id": 38268430, "comment_id": 63956612, "body": "Some similar questions, not sure what you exactly try to accomplish <a href=\"http://stackoverflow.com/questions/24482536/is-there-a-nice-way-to-have-different-configurations-for-different-environments/24483485#24483485\" title=\"is there a nice way to have different configurations for different environments\">stackoverflow.com/questions/24482536/&hellip;</a>, <a href=\"http://stackoverflow.com/questions/22519574/dart-how-to-use-different-settings-in-debug-and-production-mode\" title=\"dart how to use different settings in debug and production mode\">stackoverflow.com/questions/22519574/&hellip;</a>, <a href=\"http://stackoverflow.com/questions/21338688/how-to-achieve-precompiler-directive-like-functionality\" title=\"how to achieve precompiler directive like functionality\">stackoverflow.com/questions/21338688/&hellip;</a>, <a href=\"http://stackoverflow.com/questions/20288002/is-there-a-compiler-preprocessor-in-dart\" title=\"is there a compiler preprocessor in dart\">stackoverflow.com/questions/20288002/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "is_accepted": false, "score": 0, "last_activity_date": 1468223455, "last_edit_date": 1468223455, "creation_date": 1467986395, "answer_id": 38268570, "question_id": 38268430, "link": "https://stackoverflow.com/questions/38268430/filter-dart-files-during-dart2js-process-launch-by-pub-build-command/38268570#38268570", "title": "Filter Dart files during dart2js process launch by &#39;pub build&#39; command", "body": "<p>It looks like you're looking for <a href=\"https://www.dartlang.org/tools/pub/pubspec.html\" rel=\"nofollow\"><code>transformers</code> option in <code>pubspec.yml</code></a>.</p>\n\n<p>See what transformers can do: <a href=\"https://www.dartlang.org/tools/pub/assets-and-transformers.html\" rel=\"nofollow\">https://www.dartlang.org/tools/pub/assets-and-transformers.html</a></p>\n\n<p>How to write a custom transformer: <a href=\"https://www.dartlang.org/tools/pub/transformers/index.html\" rel=\"nofollow\">https://www.dartlang.org/tools/pub/transformers/index.html</a></p>\n"}], "owner": {"reputation": 393, "user_id": 3478934, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/aab1303293a1cc55148215dd8015f69c?s=128&d=identicon&r=PG", "display_name": "bwnyasse", "link": "https://stackoverflow.com/users/3478934/bwnyasse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1468223455, "creation_date": 1467985984, "question_id": 38268430, "link": "https://stackoverflow.com/questions/38268430/filter-dart-files-during-dart2js-process-launch-by-pub-build-command", "title": "Filter Dart files during dart2js process launch by &#39;pub build&#39; command", "body": "<p>is it possible to filter dart files during 'pub build  => dart2js' ? </p>\n\n<p>I'm working with a microservice architecture where I need to specify a variable in the code according to the environement type ( integration vs production). </p>\n\n<p>The common use case is to specify the server url</p>\n"}, {"tags": ["dart"], "comments": [{"owner": {"reputation": 1868, "user_id": 1416886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1816b2eac989b20642bb419e3b51605?s=128&d=identicon&r=PG", "display_name": "filiph", "link": "https://stackoverflow.com/users/1416886/filiph"}, "edited": false, "score": 0, "creation_date": 1467997751, "post_id": 38250011, "comment_id": 63963427, "body": "I just want to say that this \u2014 in general \u2014 is not a good pattern. If you&#39;re not <i>forced</i> to do this (or if this isn&#39;t just a language experiment), try choosing a different approach, without <code>dart:mirrors</code>."}, {"owner": {"reputation": 104, "user_id": 224255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/016e5da2a2c9b8270cc5dea2dd9a58a7?s=128&d=identicon&r=PG", "display_name": "Alexei Eleusis D&#237;az Vera", "link": "https://stackoverflow.com/users/224255/alexei-eleusis-d%c3%adaz-vera"}, "edited": false, "score": 0, "creation_date": 1468012887, "post_id": 38250011, "comment_id": 63970440, "body": "Why having 3 <code>typedef</code>s does not work in your scenario? You could pass 3 (function) references and compose the way you need."}], "answers": [{"comments": [{"owner": {"reputation": 2693, "user_id": 1338952, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8b68393134f679f403bf573569e94161?s=128&d=identicon&r=PG", "display_name": "user1338952", "link": "https://stackoverflow.com/users/1338952/user1338952"}, "edited": false, "score": 0, "creation_date": 1467909920, "post_id": 38250093, "comment_id": 63923005, "body": "This is helpful - but I don&#39;t want to construct an instance that is otherwise  not necessary just get mirrors to call a static function. Besides there may be no guarantee T has a default ctor. I had not seen the metaclass discussion and that looks like what I would be after."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 2693, "user_id": 1338952, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8b68393134f679f403bf573569e94161?s=128&d=identicon&r=PG", "display_name": "user1338952", "link": "https://stackoverflow.com/users/1338952/user1338952"}, "edited": false, "score": 0, "creation_date": 1467909992, "post_id": 38250093, "comment_id": 63923046, "body": "I haven&#39;t used <code>dart:mirrors</code> for a long time and don&#39;t remember details."}, {"owner": {"reputation": 2005, "user_id": 2680310, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mTbCp.jpg?s=128&g=1", "display_name": "Ganymede", "link": "https://stackoverflow.com/users/2680310/ganymede"}, "edited": false, "score": 1, "creation_date": 1467995129, "post_id": 38250093, "comment_id": 63962106, "body": "In <code>dart:mirrors</code> you will want <code>reflectType(T1).invoke(#f1, [])</code> as in <a href=\"http://dartpad.dartlang.org/cd1bb844eaa48b210e53cd0b7b31a1e0\" rel=\"nofollow noreferrer\">dartpad.dartlang.org/cd1bb844eaa48b210e53cd0b7b31a1e0</a>"}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 1, "last_activity_date": 1467906981, "last_edit_date": 1495541690, "creation_date": 1467906981, "answer_id": 38250093, "question_id": 38250011, "link": "https://stackoverflow.com/questions/38250011/how-to-pass-a-type-to-a-function-and-invoke-its-static-methods/38250093#38250093", "title": "How to pass a type to a function and invoke its static methods?", "body": "<p>I guess for this to work without <code>dart:mirrors</code>, <a href=\"https://github.com/dart-lang/dart_enhancement_proposals/issues/4\" rel=\"nofollow noreferrer\">metaclasses</a> would need to land.</p>\n\n<p>The code in <a href=\"https://stackoverflow.com/questions/20743346/in-dart-using-mirrors-how-would-you-call-a-classs-static-method-from-an-insta\">in Dart, using Mirrors, how would you call a class&#39;s static method from an instance of the class?</a> should get you started - not sure if it still works the same, it's quite some time I posted the answer :D </p>\n"}, {"tags": [], "owner": {"reputation": 705, "user_id": 5396835, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w4iDZ.jpg?s=128&g=1", "display_name": "Jonas Bojesen", "link": "https://stackoverflow.com/users/5396835/jonas-bojesen"}, "is_accepted": false, "score": 1, "last_activity_date": 1467958346, "last_edit_date": 1467958346, "creation_date": 1467921520, "answer_id": 38254269, "question_id": 38250011, "link": "https://stackoverflow.com/questions/38250011/how-to-pass-a-type-to-a-function-and-invoke-its-static-methods/38254269#38254269", "title": "How to pass a type to a function and invoke its static methods?", "body": "<p>This construct picks the static functions. Maybe there are others.</p>\n\n<pre><code>typedef int fadd_t(final int i);\n\nabstract class T {\n  final fadd_t f1;\n  final fadd_t f2;\n  final fadd_t f3;\n\n  T(final this.f1, final this.f2, final this.f3);\n\n  int fsum(final int i){\n     return f1(f2(f3(i)));\n  }\n}\n\nclass T1 extends T {\n\n  T1() : super(lf1, lf2, lf3){\n  }\n\n  static lf1(i) =&gt; i+1;\n  static lf2(i) =&gt; i+1;\n  static lf3(i) =&gt; i+1;\n}\n\nclass T2 extends T {\n\n  T2() : super(lf1, lf2, lf3){\n  }\n\n  static lf1(i) =&gt; i+2;\n  static lf2(i) =&gt; i+2;\n  static lf3(i) =&gt; i+2;\n}\n\ncallGenerically(final T t, final int i) {\n  return t.f1(t.f2(t.f3(i)));\n}\n\n\nmain() {\n\n    T1 t1 = new T1();\n    print('T1 fsum(1) : ' + t1.fsum(1).toString() );\n    print('T1 callGenerically(1) : ' + callGenerically(t1, 1).toString() );\n\n    T2 t2 = new T2();\n    print('T2 fsum(1) : ' + t2.fsum(1).toString() );\n    print('T2 callGenerically(1) : ' + callGenerically(t2, 1).toString() );\n}\n</code></pre>\n\n<p>T1 fsum(1) : 4</p>\n\n<p>T1 callGenerically(1) : 4</p>\n\n<p>T2 fsum(1) : 7</p>\n\n<p>T2 callGenerically(1) : 7</p>\n"}, {"tags": [], "owner": {"reputation": 2005, "user_id": 2680310, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mTbCp.jpg?s=128&g=1", "display_name": "Ganymede", "link": "https://stackoverflow.com/users/2680310/ganymede"}, "is_accepted": true, "score": 2, "last_activity_date": 1468009335, "last_edit_date": 1468009335, "creation_date": 1468007017, "answer_id": 38274297, "question_id": 38250011, "link": "https://stackoverflow.com/questions/38250011/how-to-pass-a-type-to-a-function-and-invoke-its-static-methods/38274297#38274297", "title": "How to pass a type to a function and invoke its static methods?", "body": "<p>To do this using <code>dart:mirrors</code>:</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>reflectType(SomeClass).invoke(#someStaticMethod, []).reflectee;\n</code></pre>\n\n<p>Now if you wrap that in a helper method \"<code>call</code>\", then <code>callGenerically</code> can look like:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>callGenerically(Type type, num arg) =&gt;\n    call(type, #f1, [call(type, #f2, [call(type, #f3, [arg])])]);\n</code></pre>\n\n<p>You can see a full example in <a href=\"https://dartpad.dartlang.org/9e60b2804171e20d793d657149fdd365\" rel=\"nofollow\">this DartPad</a>.</p>\n\n<p>Note that</p>\n\n<ul>\n<li><strong>This is an anti-pattern and it's better to communicate to Dart's type system what methods are expected to exist. If you know the classes have the same API, just use ordinary polymorphism instead of reflection, like in Jonas' answer.</strong></li>\n<li>Using <code>dart:mirrors</code> precludes tree-shaking in dart2js, producing bloated JS.</li>\n<li>The call to <code>f3</code> needs an argument, hence the second arg in <code>callGenerically</code>.</li>\n</ul>\n"}], "owner": {"reputation": 2693, "user_id": 1338952, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8b68393134f679f403bf573569e94161?s=128&d=identicon&r=PG", "display_name": "user1338952", "link": "https://stackoverflow.com/users/1338952/user1338952"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 904, "favorite_count": 0, "accepted_answer_id": 38274297, "answer_count": 3, "score": 2, "last_activity_date": 1468009335, "creation_date": 1467906734, "question_id": 38250011, "link": "https://stackoverflow.com/questions/38250011/how-to-pass-a-type-to-a-function-and-invoke-its-static-methods", "title": "How to pass a type to a function and invoke its static methods?", "body": "<p>Suppose T1, T2 and T3 all have static functions f1, f2, f3 that I'd like to call generically.</p>\n\n<p>How can something like this easily be achieved?</p>\n\n<pre><code>class T1 {\n  static f1(i) =&gt; i+1;\n  static f2(i) =&gt; i+1;\n  static f3(i) =&gt; i+1;\n}\n\nclass T2 {\n  static f1(i) =&gt; i+2;\n  static f2(i) =&gt; i+2;\n  static f3(i) =&gt; i+2;\n}\n\nclass T3 {\n  static f1(i) =&gt; i+3;\n  static f2(i) =&gt; i+3;\n  static f3(i) =&gt; i+3;\n}\n\ncallGenerically(dynamic type) {\n  print(type);\n\n  type.f1(type.f2(type.f3));\n}\n\nmain() {\n  callGenerically(T1);\n  callGenerically(T2);\n  callGenerically(T3);\n}\n</code></pre>\n\n<p>This prints T1, so it is getting the type. Just don't know how to invoke the static functions on it. Is mirrors an option or requirement even though it is expected f1,f2,f3 exist?</p>\n"}]