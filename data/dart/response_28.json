[{"tags": ["dart", "dart-html"], "answers": [{"comments": [{"owner": {"reputation": 2153, "user_id": 75062, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/02bcde49068b3d9a1e31c9eb701cae3f?s=128&d=identicon&r=PG", "display_name": "Nate Lockwood", "link": "https://stackoverflow.com/users/75062/nate-lockwood"}, "edited": false, "score": 0, "creation_date": 1437609374, "post_id": 31573560, "comment_id": 51106606, "body": "This uses dart:js; is this the Dart way of creating a page on the fly?  I ask because I have not been able to register an onClick method."}, {"owner": {"reputation": 11019, "user_id": 218902, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/781dc509669c9f620df00e8a9cc5769d?s=128&d=identicon&r=PG", "display_name": "Fox32", "link": "https://stackoverflow.com/users/218902/fox32"}, "reply_to_user": {"reputation": 2153, "user_id": 75062, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/02bcde49068b3d9a1e31c9eb701cae3f?s=128&d=identicon&r=PG", "display_name": "Nate Lockwood", "link": "https://stackoverflow.com/users/75062/nate-lockwood"}, "edited": false, "score": 0, "creation_date": 1437632780, "post_id": 31573560, "comment_id": 51112878, "body": "You should be able to do these things with dart:html, there is no need for dart:js directly."}], "tags": [], "owner": {"reputation": 11019, "user_id": 218902, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/781dc509669c9f620df00e8a9cc5769d?s=128&d=identicon&r=PG", "display_name": "Fox32", "link": "https://stackoverflow.com/users/218902/fox32"}, "is_accepted": true, "score": 2, "last_activity_date": 1437597553, "creation_date": 1437597553, "answer_id": 31573560, "question_id": 31572848, "link": "https://stackoverflow.com/questions/31572848/dart-how-to-programmatically-add-title-to-pop-up-window/31573560#31573560", "title": "Dart: How to programmatically add title to &#39;pop-up&#39; window?", "body": "<p>Haven't tested it but I would expect this to work:</p>\n\n<pre><code>  JsObject doc = w['document'];\n  doc['title'] = 'Tools Menu';\n</code></pre>\n"}], "owner": {"reputation": 2153, "user_id": 75062, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/02bcde49068b3d9a1e31c9eb701cae3f?s=128&d=identicon&r=PG", "display_name": "Nate Lockwood", "link": "https://stackoverflow.com/users/75062/nate-lockwood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 261, "favorite_count": 0, "accepted_answer_id": 31573560, "answer_count": 1, "score": 1, "last_activity_date": 1437597553, "creation_date": 1437595029, "question_id": 31572848, "link": "https://stackoverflow.com/questions/31572848/dart-how-to-programmatically-add-title-to-pop-up-window", "title": "Dart: How to programmatically add title to &#39;pop-up&#39; window?", "body": "<p>I've managed to display a programmatically created 'pop up' page with some buttons when a button on my main page is clicked/tapped but don't know how to display a title.  How do I do this and are there any other items I should set in HEAD? I'm a novice here.</p>\n\n<pre><code>btnToolsClicked(Event e) { \n\n  var content = 'Choose an Action &lt;b&gt;(Work In Progress)&lt;/b&gt;'\n    '&lt;div id=\"menu-btns\" class=\"radio-btns\"&gt;'\n      '&lt;input id=\"B1\" type=\"radio\" name=\"radio-btn\"&gt;'\n        '&lt;label id=\"lblB1\" class=\"radiobutton-label\" for=\"B1\"&gt;&amp;nbspExtract Thermal Data.&lt;/label&gt;&lt;br&gt;'\n      '&lt;input id=\"B2\" type=\"radio\" name=\"radio-btn\" &gt;'\n        '&lt;label id=\"lblB2\" class=\"radiobutton-label\" for=\"B2\"&gt;&amp;nbspCopy Data to USB drive.&lt;/label&gt;&lt;br&gt;'\n      '&lt;input id=\"BClose\" type=\"radio\" name=\"radio-btn\" &gt;'\n        '&lt;label id=\"lblClose\" class=\"radiobutton-label\" for=\"&amp;nbspBClose\"&gt;Close&lt;/label&gt;'\n    '&lt;/div&gt;';\n\n\n  JsObject w =\n  context.callMethod(\"open\",[\"\",\"MsgWindow\",\"width=640,height=480,top=100,left=100\"]);\n\n  JsObject doc = w['document'];\n  doc['head']['innerHtML'] = '&lt;title&gt;Tools Menu&lt;/title&gt;'; // FAILS\n  doc['body']['innerHTML'] = content;\n}\n</code></pre>\n"}, {"tags": ["svg", "dart", "linear-gradients", "dart-html"], "comments": [{"owner": {"reputation": 80101, "user_id": 1292848, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bd043aba9d97059108cbc719f73fc4a8?s=128&d=identicon&r=PG", "display_name": "Paul LeBeau", "link": "https://stackoverflow.com/users/1292848/paul-lebeau"}, "edited": false, "score": 1, "creation_date": 1437598135, "post_id": 31571573, "comment_id": 51102298, "body": "Dart newbie here, but I doubt you can use Element.html() to create SVG elements.  Elements will be created in the wrong namespace.  Try using SvgElement.svg() instead."}, {"owner": {"reputation": 2443, "user_id": 1180612, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/8ed52dc06b74c82eff0d315a60e6d574?s=128&d=identicon&r=PG", "display_name": "Hendrik Jan", "link": "https://stackoverflow.com/users/1180612/hendrik-jan"}, "reply_to_user": {"reputation": 80101, "user_id": 1292848, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bd043aba9d97059108cbc719f73fc4a8?s=128&d=identicon&r=PG", "display_name": "Paul LeBeau", "link": "https://stackoverflow.com/users/1292848/paul-lebeau"}, "edited": false, "score": 0, "creation_date": 1437598282, "post_id": 31571573, "comment_id": 51102392, "body": "Thank you. You seem to be right."}], "answers": [{"tags": [], "owner": {"reputation": 2443, "user_id": 1180612, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/8ed52dc06b74c82eff0d315a60e6d574?s=128&d=identicon&r=PG", "display_name": "Hendrik Jan", "link": "https://stackoverflow.com/users/1180612/hendrik-jan"}, "is_accepted": true, "score": 3, "last_activity_date": 1461546641, "last_edit_date": 1461546641, "creation_date": 1437598132, "answer_id": 31573709, "question_id": 31571573, "link": "https://stackoverflow.com/questions/31571573/dart-element-html-converts-to-lowercase-and-should-not/31573709#31573709", "title": "Dart Element.html converts to lowercase (and should not)", "body": "<p>After much <em>trial and error</em>, I finally had a <em>trial and success</em>.</p>\n\n<p>It seems the <code>DocumentFragment.svg()</code> constructor is specially made for this purpose.<br>\nThe piece of code that does the trick is this:</p>\n\n<pre><code>// make an element from the use string\nDocumentFragment frag = new DocumentFragment.svg(str /*no validator here!*/);\n\n// add to defs element\ndefsElement.append(frag);\n</code></pre>\n"}], "owner": {"reputation": 2443, "user_id": 1180612, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/8ed52dc06b74c82eff0d315a60e6d574?s=128&d=identicon&r=PG", "display_name": "Hendrik Jan", "link": "https://stackoverflow.com/users/1180612/hendrik-jan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 31573709, "answer_count": 1, "score": 3, "last_activity_date": 1461546641, "creation_date": 1437590967, "question_id": 31571573, "link": "https://stackoverflow.com/questions/31571573/dart-element-html-converts-to-lowercase-and-should-not", "title": "Dart Element.html converts to lowercase (and should not)", "body": "<p>A am trying to add a <code>&lt;linearGradient&gt;</code> (with capital G) to an SVG element using Dart (dartlang.org). The result is a <code>&lt;lineargradient&gt;</code> element (with lowercase g).<br>\nBrowsers (Firefox and Chromium) do not display this correctly, they require a capital G for the linearGradient to work properly.</p>\n\n<p>How do I use Dart to add an html snippet without lowercasing the result?<br>\nIs there a different function for adding (SVG) snippets that I am missing?</p>\n\n<p>My code so far:</p>\n\n<pre><code>SvgSvgElement svg = new SvgSvgElement();\n\nSvgElement defsElement = new SvgElement.tag('defs');\nsvg.append(defsElement);\n\nvar str = '''\n    &lt;linearGradient id=\"def_2\" x1=\"2557\" y1=\"5281\" x2=\"2603\" y2=\"5253\" gradientUnits=\"userSpaceOnUse\" spreadMethod=\"repeat\"&gt;\n    &lt;stop offset=\"0\" stop-color=\"#f32b2b\" /&gt;\n    &lt;stop offset=\"0.75993413\" stop-color=\"#fcc0c0\" /&gt;\n    &lt;stop offset=\"1\" stop-color=\"#df2323\" /&gt;\n    &lt;/linearGradient&gt;\n    ''';\n\nElement element = new Element.html(\n    str,\n    validator: new NodeValidatorBuilder()\n      ..allowElement('linearGradient', attributes: ['id', 'x1', 'y1', 'x2', 'y2', 'gradientUnits', 'spreadMethod'])\n      ..allowElement('stop', attributes: ['offset', 'stop-color', 'stop-opacity'])\n);\n\ndefsElement.append(element);\n</code></pre>\n\n<p>Thanks for any help,<br>\nRegards,<br>\nHendrik Jan</p>\n"}, {"tags": ["dart", "dart-async", "dart-unittest"], "answers": [{"comments": [{"owner": {"reputation": 373, "user_id": 1451523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3eca1548e7e99b23f07558411c29955f?s=128&d=identicon&r=PG", "display_name": "ashokd", "link": "https://stackoverflow.com/users/1451523/ashokd"}, "edited": false, "score": 0, "creation_date": 1437592260, "post_id": 31559978, "comment_id": 51098776, "body": "I think expectAsync would be helpful here."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 373, "user_id": 1451523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3eca1548e7e99b23f07558411c29955f?s=128&d=identicon&r=PG", "display_name": "ashokd", "link": "https://stackoverflow.com/users/1451523/ashokd"}, "edited": false, "score": 0, "creation_date": 1437592318, "post_id": 31559978, "comment_id": 51098816, "body": "Why do you think? Shouldn&#39;t be necessary."}, {"owner": {"reputation": 373, "user_id": 1451523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3eca1548e7e99b23f07558411c29955f?s=128&d=identicon&r=PG", "display_name": "ashokd", "link": "https://stackoverflow.com/users/1451523/ashokd"}, "edited": false, "score": 0, "creation_date": 1437592410, "post_id": 31559978, "comment_id": 51098875, "body": "Because &quot;throws()&quot; method is async."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 373, "user_id": 1451523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3eca1548e7e99b23f07558411c29955f?s=128&d=identicon&r=PG", "display_name": "ashokd", "link": "https://stackoverflow.com/users/1451523/ashokd"}, "edited": false, "score": 0, "creation_date": 1437593323, "post_id": 31559978, "comment_id": 51099453, "body": "It would just make it more complicated. ExpectAsync is to check whether some async code got executed. Checking for an exception is as simple as in my answer."}, {"owner": {"reputation": 373, "user_id": 1451523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3eca1548e7e99b23f07558411c29955f?s=128&d=identicon&r=PG", "display_name": "ashokd", "link": "https://stackoverflow.com/users/1451523/ashokd"}, "edited": false, "score": 0, "creation_date": 1437597691, "post_id": 31559978, "comment_id": 51102076, "body": "to have more example on this I have added one answer with exceptAsync"}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 7, "last_activity_date": 1539870279, "last_edit_date": 1539870279, "creation_date": 1437559413, "answer_id": 31559978, "question_id": 31559534, "link": "https://stackoverflow.com/questions/31559534/how-to-test-an-exception-from-a-future/31559978#31559978", "title": "How to test an exception from a future", "body": "<p>This way it works:</p>\n\n<pre><code>import 'package:test/test.dart';\nimport 'dart:async';\n\nvoid main() {\n  test( \"test2\", ()  { // with or without `async`\n    expect(throws(), throwsA(const TypeMatcher&lt;FormatException&gt;()));\n  });\n}\n\nFuture throws () async {\n  throw new FormatException(\"hello\");\n}\n</code></pre>\n\n<p>Basically just remove <code>await</code>. The test framework can deal with futures no matter if they succeed or fail. </p>\n"}, {"comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1437597859, "post_id": 31573475, "comment_id": 51102169, "body": "My version would work the same with your <code>throws()</code> method."}, {"owner": {"reputation": 373, "user_id": 1451523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3eca1548e7e99b23f07558411c29955f?s=128&d=identicon&r=PG", "display_name": "ashokd", "link": "https://stackoverflow.com/users/1451523/ashokd"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1437597996, "post_id": 31573475, "comment_id": 51102231, "body": "@G&#252;nterZ&#246;chbauer Yes, these are few additional ways to do it."}, {"owner": {"reputation": 171, "user_id": 203099, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/GIuqg.jpg?s=128&g=1", "display_name": "Jon Scalet", "link": "https://stackoverflow.com/users/203099/jon-scalet"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1598675216, "post_id": 31573475, "comment_id": 112542647, "body": "@G&#252;nterZ&#246;chbauer&#39;s answer is  simpler and more concise."}], "tags": [], "owner": {"reputation": 373, "user_id": 1451523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3eca1548e7e99b23f07558411c29955f?s=128&d=identicon&r=PG", "display_name": "ashokd", "link": "https://stackoverflow.com/users/1451523/ashokd"}, "is_accepted": false, "score": 0, "last_activity_date": 1437598349, "last_edit_date": 1437598349, "creation_date": 1437597276, "answer_id": 31573475, "question_id": 31559534, "link": "https://stackoverflow.com/questions/31559534/how-to-test-an-exception-from-a-future/31573475#31573475", "title": "How to test an exception from a future", "body": "<p>There are multiple ways to test errors coming from Future. Gunter's answer will work if \"throws without async\" method is throwing some exception. Below sample will handle exception coming from future methods.</p>\n\n<pre><code>import 'package:test/test.dart';\nimport 'dart:async';\n\nvoid main() {\n    test(\"test with Zone\", () {\n        runZoned(() {\n            throws();\n        }, onError: expectAsync((e, s) {\n            expect(e, new isInstanceOf&lt;FormatException&gt;());\n        }));\n    });\n\n    test('test with future catch error', () {\n        throws().catchError(expectAsync((e) {\n            expect(e, new isInstanceOf&lt;FormatException&gt;());\n        }));\n    });\n}\n\nFuture throws() async{\n    Completer completer = new Completer();\n    completer.complete(new Future(() =&gt; throw new FormatException(\"hello\")));\n    return completer.future;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13290, "user_id": 232064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00691507a5fb77e8878241c08a066e40?s=128&d=identicon&r=PG", "display_name": "Hoylen", "link": "https://stackoverflow.com/users/232064/hoylen"}, "is_accepted": false, "score": 13, "last_activity_date": 1467608023, "last_edit_date": 1467608023, "creation_date": 1467605562, "answer_id": 38176855, "question_id": 31559534, "link": "https://stackoverflow.com/questions/31559534/how-to-test-an-exception-from-a-future/38176855#38176855", "title": "How to test an exception from a future", "body": "<p><strong>Use try-catch</strong></p>\n\n<p>The most reliable approach is to use a <em>try-catch</em> block to explicitly catch the exception and ensure the method has finished running.</p>\n\n<pre><code>try {\n    await methodWhichThrows();\n    fail(\"exception not thrown\");\n} catch (e) {\n    expect(e, new isInstanceOf&lt;...&gt;());\n    // more expect statements can go here\n}\n</code></pre>\n\n<p>This approach also has the advantage that additional checks on the value of the exception can be performed.</p>\n\n<p><strong>Expect with throwsA only works as the last statement</strong></p>\n\n<p>Using <em>expect</em> by itself only works if it is the <strong>last</strong> statement in the test. There is no control over <em>when</em> the method will throw the exception, so there can be race conditions with the statements (including subsequent calls to <em>expect</em>), if they assume the exception has already been thrown.</p>\n\n<pre><code>expect(methodWhichThrows(), throwsA(new isInstanceOf&lt;...&gt;())); // unreliable unless last\n</code></pre>\n\n<p>It can be used, but you have to very careful to remember which situations it works in and which it doesn't. So it is safer to stick with the <em>try-catch</em> approach rather than using different approaches for different situations.</p>\n\n<p><strong>Demonstration</strong></p>\n\n<p>The following complete example demonstrates the effect of race conditions on the two approaches:</p>\n\n<pre><code>import 'dart:async';\nimport 'package:test/test.dart';\n\n//----------------------------------------------------------------\n/// This approach to expecting exceptions is reliable.\n///\nFuture reliableApproach(int luck) async {\n  expect(await setValueAndReturnsHalf(42), equals(21));\n  expect(state, equals(Evenness.isEven));\n\n  try {\n    await setValueAndReturnsHalf(3);\n    fail(\"exception not thrown\");\n  } catch (e) {\n    expect(e, new isInstanceOf&lt;ArgumentError&gt;());\n  }\n\n  // Expect value to be odd after execption is thrown.\n\n  await shortDelay(luck); // in my experience there's no such thing called luck\n  expect(state, equals(Evenness.isOdd));\n}\n\n//----------------------------------------------------------------\n/// This approach to expecting exceptions is unreliable.\n///\nFuture unreliableApproach(int luck) async {\n  expect(await setValueAndReturnsHalf(42), equals(21));\n  expect(state, equals(Evenness.isEven));\n\n  expect(setValueAndReturnsHalf(3), throwsA(new isInstanceOf&lt;ArgumentError&gt;()));\n\n  // Expect value to be odd after execption is thrown.\n\n  await shortDelay(luck); // luck determines if the race condition is triggered\n  expect(state, equals(Evenness.isOdd));\n}\n\n//----------------------------------------------------------------\n\nenum Evenness { isEven, isOdd, inLimbo }\n\nint value = 0;\nEvenness state = Evenness.isEven;\n\n/// Sets the [value] and [state].\n///\n/// If the [newValue] is even, [state] is set to [Evenness.isEven] and half of it\n/// is returned as the Future's value.\n///\n/// If the [newValue] is odd, [state] is set to [Evenness.isOdd] and an exception\n/// is thrown.\n///\n/// To simulate race conditions, this method takes 2 seconds before it starts\n/// processing and 4 seconds to succeed or throw an exception. While it is\n/// processing, the [state] is set to [Evenness.inLimbo].\n///\nFuture&lt;int&gt; setValueAndReturnsHalf(int newValue) async {\n  await shortDelay(2);\n\n  state = Evenness.inLimbo;\n\n  await shortDelay(2);\n\n  value = newValue;\n\n  if (newValue % 2 != 0) {\n    state = Evenness.isOdd;\n    throw new ArgumentError.value(newValue, \"value\", \"is not an even number\");\n  } else {\n    state = Evenness.isEven;\n    return value ~/ 2;\n  }\n}\n\n/// Delays used to simulate processing and race conditions.\n///\nFuture shortDelay(int seconds) {\n  var c = new Completer();\n  new Timer(new Duration(seconds: seconds), () =&gt; c.complete());\n  return c.future;\n}\n\n/// Examples of the reliable and unreliable approaches.\n///\nvoid main() {\n  test(\"Correct operation when exception is not thrown\", () async {\n    expect(await setValueAndReturnsHalf(42), equals(21));\n    expect(value, equals(42));\n  });\n\n  group(\"Reliable approach:\", () {\n    test(\"works when there is bad luck\", () async {\n      // 1 second = bad luck, future returning function not started processing yet\n      await reliableApproach(1);\n    });\n\n    test(\"works when there is more bad luck\", () async {\n      // 3 second = bad luck, future returning function still processing\n      await reliableApproach(3);\n    });\n\n    test(\"works when there is good luck\", () async {\n      // 5 seconds = good luck, future returning function definitely finished\n      await reliableApproach(5);\n    });\n  });\n\n  group(\"Unreliable approach:\", () {\n    test(\"race condition encountered by bad luck\", () async {\n      // 1 second = bad luck, future returning function not started processing yet\n      await unreliableApproach(1);\n    });\n\n    test(\"race condition encountered by more bad luck\", () async {\n      // 3 second = bad luck, future returning function still processing\n      await unreliableApproach(3);\n    });\n\n    test(\"race condition avoided by good luck\", () async {\n      // 5 seconds = good luck, future returning function definitely finished\n      await unreliableApproach(5);\n    });\n  });\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23316, "user_id": 1321917, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xUiET.jpg?s=128&g=1", "display_name": "Andrey Gordeev", "link": "https://stackoverflow.com/users/1321917/andrey-gordeev"}, "is_accepted": false, "score": 0, "last_activity_date": 1565968106, "last_edit_date": 1565968106, "creation_date": 1565964389, "answer_id": 57526062, "question_id": 31559534, "link": "https://stackoverflow.com/questions/31559534/how-to-test-an-exception-from-a-future/57526062#57526062", "title": "How to test an exception from a future", "body": "<p>The easiest and shortest answer is:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>expect(throws(), throwsException)\n</code></pre>\n\n<p>To test exception/error type:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>expect(throws(), throwsA(predicate((e) =&gt; e is MyException)));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 365, "user_id": 3193413, "user_type": "registered", "profile_image": "https://graph.facebook.com/706684194/picture?type=large", "display_name": "user3193413", "link": "https://stackoverflow.com/users/3193413/user3193413"}, "is_accepted": false, "score": 0, "last_activity_date": 1618427105, "creation_date": 1618427105, "answer_id": 67097674, "question_id": 31559534, "link": "https://stackoverflow.com/questions/31559534/how-to-test-an-exception-from-a-future/67097674#67097674", "title": "How to test an exception from a future", "body": "<p>After too many tries and errors I found that this one works as expected:</p>\n<pre><code>  test('fetch SHOULD throw exception WHEN api fail with exception', () {\n      when(clientMock.get(uri)).thenAnswer((_) async =&gt; throw Exception());\n\n      expect(() =&gt; sut.fetch(), throwsA(isInstanceOf&lt;Exception&gt;()));\n</code></pre>\n<p>});</p>\n"}], "owner": {"reputation": 1689, "user_id": 315979, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/540b6a3876270cb9195c68d0968e237f?s=128&d=identicon&r=PG", "display_name": "richard", "link": "https://stackoverflow.com/users/315979/richard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4417, "favorite_count": 0, "answer_count": 5, "score": 10, "last_activity_date": 1618427105, "creation_date": 1437558299, "last_edit_date": 1437648767, "question_id": 31559534, "link": "https://stackoverflow.com/questions/31559534/how-to-test-an-exception-from-a-future", "title": "How to test an exception from a future", "body": "<p>Continuing from yesterday question, how would I test that a async method throws an exception. </p>\n\n<pre><code>main(){\n  test( \"test2\", () async {\n    expect( await throws(), throwsException);\n  });\n\n}\n\nFuture throws () async {\n  throw new FormatException(\"hello\");\n}\n</code></pre>\n"}, {"tags": ["dart"], "answers": [{"comments": [{"owner": {"reputation": 1457, "user_id": 1033193, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/86c0ec08a49d925a0e12cd6aab17abe7?s=128&d=identicon&r=PG", "display_name": "Eternalcode", "link": "https://stackoverflow.com/users/1033193/eternalcode"}, "edited": false, "score": 0, "creation_date": 1437584816, "post_id": 31553758, "comment_id": 51094222, "body": "That was my understanding as well. Right now with dart 11.1, I am able to do this in my code and it is currently compiling correctly. The code within that listeners are correctly triggering as well."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 1457, "user_id": 1033193, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/86c0ec08a49d925a0e12cd6aab17abe7?s=128&d=identicon&r=PG", "display_name": "Eternalcode", "link": "https://stackoverflow.com/users/1033193/eternalcode"}, "edited": false, "score": 1, "creation_date": 1437585276, "post_id": 31553758, "comment_id": 51094496, "body": "You&#39;re referring listening to the result of querySelectorAll? In this case I need to try it myself and check what&#39;s actually going on."}, {"owner": {"reputation": 1457, "user_id": 1033193, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/86c0ec08a49d925a0e12cd6aab17abe7?s=128&d=identicon&r=PG", "display_name": "Eternalcode", "link": "https://stackoverflow.com/users/1033193/eternalcode"}, "edited": false, "score": 0, "creation_date": 1437586049, "post_id": 31553758, "comment_id": 51094957, "body": "Yes. When I do a ss.cancel() on the stream subscription that is assigned multiple listeners, then it seems to have removed all the assigned listeners to it as well."}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 3, "last_activity_date": 1437538537, "creation_date": 1437538537, "answer_id": 31553758, "question_id": 31551007, "link": "https://stackoverflow.com/questions/31551007/how-can-you-assign-mutliple-listeners-to-a-single-streamsubscription/31553758#31553758", "title": "How can you assign mutliple listeners to a single StreamSubscription?", "body": "<p>You can't assign multiple listeners to a <code>StreamSubscription</code>.</p>\n\n<p>Your 2nd statement doesn't work because <code>querySelectorAll()</code> returns a collection and you can't listen to a collection.</p>\n\n<p>Maybe this is what you want:</p>\n\n<pre><code>Iterable&lt;StreamSubscription&gt; subscriptions = \n    queryselectorAll(..).map((e) =&gt; e.onClick.listen(..));\n</code></pre>\n\n<p>and then later</p>\n\n<pre><code>if(subscriptions != null) {\n  subscriptions.forEach((s) =&gt; s.cancel());\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": false, "score": 1, "last_activity_date": 1438610486, "creation_date": 1438610486, "answer_id": 31789342, "question_id": 31551007, "link": "https://stackoverflow.com/questions/31551007/how-can-you-assign-mutliple-listeners-to-a-single-streamsubscription/31789342#31789342", "title": "How can you assign mutliple listeners to a single StreamSubscription?", "body": "<p>You are listening on the <code>ElementList</code>. I can't see from the documentation how that is expected to work, so I guess it is effectively receiving the events of all the elements in the list. </p>\n\n<p>You are still only listening on one stream, the <code>onClick</code> stream of the <code>ElementList</code>, and the <code>StreamSubscription</code> you receive relates to that list.</p>\n"}], "owner": {"reputation": 1457, "user_id": 1033193, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/86c0ec08a49d925a0e12cd6aab17abe7?s=128&d=identicon&r=PG", "display_name": "Eternalcode", "link": "https://stackoverflow.com/users/1033193/eternalcode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1438610486, "creation_date": 1437519231, "question_id": 31551007, "link": "https://stackoverflow.com/questions/31551007/how-can-you-assign-mutliple-listeners-to-a-single-streamsubscription", "title": "How can you assign mutliple listeners to a single StreamSubscription?", "body": "<p>This is a valid statement </p>\n\n<pre><code>StreamSubscription currentSubscription = querySelector(\u2026).onClick.listen(\u2026.).\n</code></pre>\n\n<p>here there is one listener that is assigned to one StreamSubscription.</p>\n\n<p>But when you do a queryselectorAll(..).onClick.listen(..) . You are adding listeners to all the query selected elements.</p>\n\n<p>I noticed that the following statement is also valid.</p>\n\n<pre><code>StreamSubscription currentSubscription = queryselectorAll(..).onClick.listen(..) \n</code></pre>\n\n<p>Here, I am assigning a 1 StreamSubscription to a list of elements with onClick listeners. How does this work?</p>\n"}, {"tags": ["google-chrome", "dart"], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 0, "last_activity_date": 1437509810, "creation_date": 1437509810, "answer_id": 31548802, "question_id": 31548502, "link": "https://stackoverflow.com/questions/31548502/dart-fails-in-chrome-44/31548802#31548802", "title": "DART fails in Chrome 44", "body": "<p>Seems this was deprecated a while ago and now finally removed <a href=\"https://groups.google.com/a/chromium.org/forum/m/#!msg/blink-reviews/r25yAE9YBMY/lwCGKQMppfkJ\" rel=\"nofollow\">https://groups.google.com/a/chromium.org/forum/m/#!msg/blink-reviews/r25yAE9YBMY/lwCGKQMppfkJ</a></p>\n"}], "owner": {"reputation": 369, "user_id": 3384456, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e00d2f6ead9ad15cfa80f50a01e04f52?s=128&d=identicon&r=PG&f=1", "display_name": "Yuri P.", "link": "https://stackoverflow.com/users/3384456/yuri-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 31548802, "answer_count": 1, "score": 0, "last_activity_date": 1437509810, "creation_date": 1437508671, "question_id": 31548502, "link": "https://stackoverflow.com/questions/31548502/dart-fails-in-chrome-44", "title": "DART fails in Chrome 44", "body": "<p>I installed the new Chrome 44 and my DART application stopped working (it worked in Chrome 43).\nI see this in my developer console:</p>\n\n<pre><code>Uncaught TypeError: this.shadowRoot.getElementsByTagName is not a function\nmypage.html:5884 Uncaught TypeError: this.shadowRoot.getElementsByTagName is not a function\nmypage.html:6389 Uncaught TypeError: this.shadowRoot.getElementsByTagName is not a function\nmypage.html:7770 Uncaught TypeError: this.shadowRoot.getElementsByTagName is not a function\nmypage.html:11479 Uncaught TypeError: this.shadowRoot.getElementsByTagName is not a function\nmypage.html:11918 Uncaught TypeError: this.shadowRoot.getElementsByTagName is not a function\nmypage.html:12486 Uncaught TypeError: this.shadowRoot.getElementsByTagName is not a function\nmypage.html:12811 Uncaught TypeError: this.shadowRoot.getElementsByTagName is not a function\nmypage.html:13079 Uncaught TypeError: this.shadowRoot.getElementsByTagName is not a function\nmypage.html:13697 Uncaught TypeError: this.shadowRoot.getElementsByTagName is not a function\n</code></pre>\n\n<p>My suspicion is that a bug that is introduced in the new Chrome release.</p>\n\n<p>However, if someone has more information on this, please, advise.</p>\n"}, {"tags": ["svg", "dart", "linear-gradients", "dart-html"], "answers": [{"comments": [{"owner": {"reputation": 2443, "user_id": 1180612, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/8ed52dc06b74c82eff0d315a60e6d574?s=128&d=identicon&r=PG", "display_name": "Hendrik Jan", "link": "https://stackoverflow.com/users/1180612/hendrik-jan"}, "edited": false, "score": 0, "creation_date": 1437508102, "post_id": 31545933, "comment_id": 51055110, "body": "You are right, it works! Didn&#39;t realize that it had to do with HTML5. Thank you for the quick answer!"}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 2, "last_activity_date": 1437500900, "last_edit_date": 1437500900, "creation_date": 1437500223, "answer_id": 31545933, "question_id": 31545750, "link": "https://stackoverflow.com/questions/31545750/how-to-dynamically-add-a-lineargradient-to-an-svg-using-dart/31545933#31545933", "title": "How to dynamically add a lineargradient to an SVG using Dart", "body": "<p>Self-closing tags are not HTML5 compliant and Dart only supports HTML5.<br>\nThis works: </p>\n\n<pre><code>var str = '''\n    &lt;linearGradient id=\"def_2\" x1=\"2557\" y1=\"5281\" x2=\"2603\" y2=\"5253\"&gt;\n    &lt;stop offset=\"0\" stop-color=\"#f32b2b\"&gt;&lt;/stop&gt;\n    &lt;stop offset=\"0.75993413\" stop-color=\"#fcc0c0\"&gt;&lt;/stop&gt;\n    &lt;stop offset=\"1\" stop-color=\"#df2323\"&gt;&lt;/stop&gt;\n    &lt;/linearGradient&gt;\n    ''';\n</code></pre>\n"}], "owner": {"reputation": 2443, "user_id": 1180612, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/8ed52dc06b74c82eff0d315a60e6d574?s=128&d=identicon&r=PG", "display_name": "Hendrik Jan", "link": "https://stackoverflow.com/users/1180612/hendrik-jan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 274, "favorite_count": 1, "accepted_answer_id": 31545933, "answer_count": 1, "score": 2, "last_activity_date": 1437510531, "creation_date": 1437499625, "last_edit_date": 1437510531, "question_id": 31545750, "link": "https://stackoverflow.com/questions/31545750/how-to-dynamically-add-a-lineargradient-to-an-svg-using-dart", "title": "How to dynamically add a lineargradient to an SVG using Dart", "body": "<p>I am using Dart (dartlang.org) to generate some SVG images.\nMost things work, but I am having difficulties adding a gradient.</p>\n\n<p>I have an SvgSvgElement defined like this:</p>\n\n<pre><code>SvgSvgElement svg = new SvgSvgElement();\n</code></pre>\n\n<p>I have added a defs element like this:</p>\n\n<pre><code>SvgElement defsElement = new SvgElement.tag('defs');\nsvg.append(defsElement);\n</code></pre>\n\n<p>And now I try to add a gradient using a string fragment like this:</p>\n\n<pre><code>var str = '''\n    &lt;linearGradient id=\"def_2\" x1=\"2557\" y1=\"5281\" x2=\"2603\" y2=\"5253\"&gt;\n    &lt;stop offset=\"0\" stop-color=\"#f32b2b\" /&gt;\n    &lt;stop offset=\"0.75993413\" stop-color=\"#fcc0c0\" /&gt;\n    &lt;stop offset=\"1\" stop-color=\"#df2323\" /&gt;\n    &lt;/linearGradient&gt;\n    ''';\n\nElement element = new Element.html(\n    str,\n    validator: new NodeValidatorBuilder()\n      ..allowElement('lineargradient', attributes: ['id', 'x1', 'y1', 'x2', 'y2'])\n      ..allowElement('stop', attributes: ['offset', 'stop-color', 'stop-opacity'])\n);\n\ndefsElement.append(element);\n</code></pre>\n\n<p>This works in the sense that it doesn't give errors, but when I inspect the resulting SVG, I get nested  elements, which is clearly wrong:</p>\n\n<pre><code>...&lt;defs&gt;\n&lt;lineargradient id=\"def_1\" x1=\"1624\" y1=\"5847\" x2=\"1673\" y2=\"5886\"&gt;\n    &lt;stop offset=\"0\" stop-color=\"#f32b2b\"&gt;\n        &lt;stop offset=\"0.75993413\" stop-color=\"#fcc0c0\"&gt;\n            &lt;stop offset=\"1\" stop-color=\"#df2323\"&gt;\n            &lt;/stop&gt;\n        &lt;/stop&gt;\n    &lt;/stop&gt;\n&lt;/lineargradient&gt;\n&lt;/defs&gt;...\n</code></pre>\n\n<p>I am a bit at a loss here. There is some documentation, but without examples, it is difficult to understand.</p>\n\n<p>Any help will be appreciated,<br>\nRegards,<br>\nHendrik Jan</p>\n"}, {"tags": ["dart", "angular-dart"], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1437538693, "creation_date": 1437538693, "answer_id": 31553783, "question_id": 31539695, "link": "https://stackoverflow.com/questions/31539695/is-there-a-list-of-3rd-party-angulardart-modules/31553783#31553783", "title": "Is there a list of 3rd party angulardart modules?", "body": "<p>Just search on pub.dartlang.org for Angular. </p>\n\n<p><a href=\"https://pub.dartlang.org/search?q=angular\" rel=\"nofollow\">https://pub.dartlang.org/search?q=angular</a></p>\n"}], "owner": {"reputation": 197, "user_id": 1763134, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0b67f1b12c9849df49dd577535fd3acf?s=128&d=identicon&r=PG", "display_name": "Dan Pisarski", "link": "https://stackoverflow.com/users/1763134/dan-pisarski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 31553783, "answer_count": 1, "score": 0, "last_activity_date": 1437538708, "creation_date": 1437483512, "last_edit_date": 1437538708, "question_id": 31539695, "link": "https://stackoverflow.com/questions/31539695/is-there-a-list-of-3rd-party-angulardart-modules", "title": "Is there a list of 3rd party angulardart modules?", "body": "<p>Anyone know of a list of 3rd party angulardart modules, something similar to <a href=\"http://ngmodules.org/\" rel=\"nofollow\">http://ngmodules.org/</a> but for angulardart?</p>\n"}, {"tags": ["dart", "dart-pub"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1437478787, "post_id": 31537227, "comment_id": 51035220, "body": "I have seen similar issues several times. AFAIR it starts working again by itself after a while (next day). I have no idea what causes it."}, {"owner": {"reputation": 4633, "user_id": 2258442, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7dc1f8dac4d92b4abb781ec2b11d8be6?s=128&d=identicon&r=PG", "display_name": "st_clair_clarke", "link": "https://stackoverflow.com/users/2258442/st-clair-clarke"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1437479931, "post_id": 31537227, "comment_id": 51036012, "body": "I have been trying this now for about two weeks with the same result. I even contacted the author and was advised as stated above. Do you think it is a bug?"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1437480009, "post_id": 31537227, "comment_id": 51036062, "body": "Maybe a network issue. Very probably nothing caused by the author. Either on your side or on the side of pub.dartlang.org."}, {"owner": {"reputation": 4633, "user_id": 2258442, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7dc1f8dac4d92b4abb781ec2b11d8be6?s=128&d=identicon&r=PG", "display_name": "st_clair_clarke", "link": "https://stackoverflow.com/users/2258442/st-clair-clarke"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1437480804, "post_id": 31537227, "comment_id": 51036581, "body": "Hardly likely. I tried it both at home and at work on two different computers with the same result."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1437480904, "post_id": 31537227, "comment_id": 51036658, "body": "I would create a bug report in <a href=\"https://github.com/dart-lang/pub-dartlang-dart\" rel=\"nofollow noreferrer\">github.com/dart-lang/pub-dartlang-dart</a>. Please cross-link the issue and this SO question after you created the issue."}, {"owner": {"reputation": 56863, "user_id": 11649, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5e4103707f37d83ebd26d960c70948c2?s=128&d=identicon&r=PG", "display_name": "Javier", "link": "https://stackoverflow.com/users/11649/javier"}, "edited": false, "score": 0, "creation_date": 1437576269, "post_id": 31537227, "comment_id": 51088325, "body": "same thing happening here, under Linux."}], "owner": {"reputation": 4633, "user_id": 2258442, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7dc1f8dac4d92b4abb781ec2b11d8be6?s=128&d=identicon&r=PG", "display_name": "st_clair_clarke", "link": "https://stackoverflow.com/users/2258442/st-clair-clarke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1437510555, "creation_date": 1437476431, "last_edit_date": 1437510555, "question_id": 31537227, "link": "https://stackoverflow.com/questions/31537227/cannot-add-mdl-packages-to-pub-cache", "title": "Cannot add mdl packages to pub cache", "body": "<p>I cannot add the package mdl <a href=\"https://pub.dartlang.org/packages/mdl\" rel=\"nofollow\">https://pub.dartlang.org/packages/mdl</a>\nto pub cache using either the </p>\n\n<p><code>command pub cache add mdl</code> </p>\n\n<p>or using the dependency </p>\n\n<pre><code>dependencies:\n  mdl: \"^1.1.2\"\n</code></pre>\n\n<p>in my pubspec.yaml file.</p>\n\n<p>The author says it is a Windows issue as it works as designed on Linux and iOS.</p>\n\n<p>I am using the current WebStorm on Windows 8.1 x64. This is the first time I am having such an issue.</p>\n\n<p>Using the command line</p>\n\n<pre><code>pub --trace cache add mdl\n</code></pre>\n\n<p>I receive the following trace</p>\n\n<pre><code>    J:\\workspace\\epimss\\dart\\epimss_app&gt;pub --trace cache add mdl\nDownloading mdl 1.1.2...\nTimed out after 30.0s while downloading https://pub.dartlang.org/packages/mdl/versions/1.1.2.tar.gz.\nThis is likely a transient error. Please try again later.\npackage:pub/src/io.dart 859                timeout.&lt;fn&gt;\n===== asynchronous gap ===========================\ndart:async                                 Timer.Timer\npackage:pub/src/io.dart 848                timeout\npackage:pub/src/source/hosted.dart 194     HostedSource._download.&lt;fn&gt;.&lt;fn&gt;\n===== asynchronous gap ===========================\ndart:async                                 _Future.then\npackage:pub/src/source/hosted.dart 193     HostedSource._download.&lt;fn&gt;\ndart:async                                 Future.Future.sync\npackage:pub/src/source/hosted.dart 184     HostedSource._download\npackage:pub/src/source/hosted.dart 93      HostedSource.downloadToSystemCache.&lt;fn&gt;\n===== asynchronous gap ===========================\ndart:async                                 _Future.then\npackage:pub/src/source/hosted.dart 86      HostedSource.downloadToSystemCache\npackage:pub/src/command/cache_add.dart 81  CacheAddCommand.run.&lt;async&gt;.downloadVersion.&lt;async&gt;\n===== asynchronous gap ===========================\ndart:async                                 _Future.then\npackage:pub/src/command/cache_add.dart 73  CacheAddCommand.run.&lt;async&gt;.downloadVersion.&lt;async&gt;\n===== asynchronous gap ===========================\npackage:pub                                CacheAddCommand.run.&lt;async&gt;.downloadVersion\npackage:pub/src/command/cache_add.dart 91  CacheAddCommand.run.&lt;async&gt;\n===== asynchronous gap ===========================\ndart:async                                 _Future.then\npackage:pub/src/command/cache_add.dart 62  CacheAddCommand.run.&lt;async&gt;\n===== asynchronous gap ===========================\ndart:async                                 Future.Future.microtask\npackage:pub/src/command/cache_add.dart     CacheAddCommand.run\npackage:args/command_runner.dart 178       CommandRunner.runCommand.&lt;fn&gt;\ndart:async                                 Future.Future.sync\npackage:args/command_runner.dart 131       CommandRunner.runCommand\npackage:pub/src/command_runner.dart 122    PubCommandRunner.runCommand.&lt;async&gt;.&lt;fn&gt;\ndart:async                                 Future.Future.sync\npackage:pub/src/utils.dart 103             captureErrors.&lt;fn&gt;\npackage:stack_trace                        Chain.capture\npackage:pub/src/utils.dart 117             captureErrors\npackage:pub/src/command_runner.dart 122    PubCommandRunner.runCommand.&lt;async&gt;\n---- Log transcript ----\nFINE: Pub 1.12.0-dev.3.1\nIO  : Spawning \"cmd /c ver\" in J:\\workspace\\epimss\\dart\\epimss_app\\.\nIO  : Finished ver. Exit code 0.\n    | stdout:\n    | |\n    | | Microsoft Windows [Version 6.3.9600]\n    | Nothing output on stderr.\nIO  : Get versions from https://pub.dartlang.org/api/packages/mdl.\nFINE: HTTP GET https://pub.dartlang.org/api/packages/mdl\n    | Accept: application/vnd.pub.v2+json\n    | user-agent: Dart pub 1.12.0-dev.3.1\nFINE: HTTP response 200 OK for GET https://pub.dartlang.org/api/packages/mdl\n    | took 0:00:00.418239\n    | cache-control: private\n    | transfer-encoding: chunked\n    | accept-ranges: none\n    | date: Tue, 21 Jul 2015 10:46:10 GMT\n    | vary: Accept-Encoding\n    | content-type: application/json\n    | x-frame-options: SAMEORIGIN\n    | via: infb126:25935\n    | x-xss-protection: 1; mode=block\n    | x-content-type-options: nosniff\n    | server: Google Frontend\nIO  : Get package from https://pub.dartlang.org/packages/mdl/versions/1.1.2.tar.gz.\nMSG : Downloading mdl 1.1.2...\nIO  : Created temp directory C:\\Users\\st.clair.clarke\\AppData\\Roaming\\Pub\\Cache\\_temp\\dirb0c89391-2f95-11e5-80a7-3085a98f2ffb\nFINE: HTTP GET https://pub.dartlang.org/packages/mdl/versions/1.1.2.tar.gz\n    | user-agent: Dart pub 1.12.0-dev.3.1\nFINE: HTTP response 200 OK for GET https://pub.dartlang.org/packages/mdl/versions/1.1.2.tar.gz\n    | took 0:00:00.535308\n    | x-goog-storage-class: STANDARD\n    | last-modified: Mon, 20 Jul 2015 21:01:24 GMT\n    | cache-control: public, max-age=3600\n    | date: Tue, 21 Jul 2015 10:46:10 GMT\n    | vary: Accept-Encoding\n    | x-goog-stored-content-length: 32419840\n    | x-guploader-uploadid: AEnB2UrdnbZJiDQihBiYH0s_eE3L2Q7ZmBDJJtJYZsQZFxtFlqWfruJmKw6OcdIxPVkru0t5vCVii9thOYsI0NLfl7O19rS9rA\n    | x-goog-hash: crc32c=QJe0BQ==,md5=u5fMJcctgRWlUW3ycRmg2A==\n    | content-type: application/octet-stream\n    | x-goog-generation: 1437426084774000\n    | server: UploadServer\n    | alternate-protocol: 443:quic,p=1\n    | accept-ranges: bytes\n    | content-length: 32419840\n    | x-goog-stored-content-encoding: identity\n    | etag: \"bb97cc25c72d8115a5516df27119a0d8\"\n    | x-goog-metageneration: 2\n    | expires: Tue, 21 Jul 2015 11:46:10 GMT\nFINE: Extracting .tar.gz stream to C:\\Users\\st.clair.clarke\\AppData\\Roaming\\Pub\\Cache\\_temp\\dirb0c89391-2f95-11e5-80a7-3085a98f2ffb.\nIO  : Created temp directory C:\\Users\\STCLAI~1.CLA\\AppData\\Local\\Temp\\pub_b0c89392-2f95-11e5-80a7-3085a98f2ffb\nIO  : Creating C:\\Users\\STCLAI~1.CLA\\AppData\\Local\\Temp\\pub_b0c89392-2f95-11e5-80a7-3085a98f2ffb\\data.tar.gz from stream.\nFINE: Created C:\\Users\\STCLAI~1.CLA\\AppData\\Local\\Temp\\pub_b0c89392-2f95-11e5-80a7-3085a98f2ffb\\data.tar.gz from stream.\nIO  : Spawning \"J:\\dart\\dart-sdk\\lib\\_internal\\pub\\asset\\7zip\\7za.exe e data.tar.gz\" in C:\\Users\\STCLAI~1.CLA\\AppData\\Local\\Temp\\pub_b0c89392-2f95-11e5-80a7-3085a98f2ffb\nIO  : Finished J:\\dart\\dart-sdk\\lib\\_internal\\pub\\asset\\7zip\\7za.exe. Exit code 0.\n    | stdout:\n    | |\n    | | 7-Zip (A) 9.20  Copyright (c) 1999-2010 Igor Pavlov  2010-11-18\n    | |\n    | | Processing archive: data.tar.gz\n    | |\n    | | Extracting  data.tar\n    | |\n    | | Everything is Ok\n    | |\n    | | Size:       44359680\n    | | Compressed: 32419840\n    | Nothing output on stderr.\nIO  : Spawning \"J:\\dart\\dart-sdk\\lib\\_internal\\pub\\asset\\7zip\\7za.exe x C:\\Users\\STCLAI~1.CLA\\AppData\\Local\\Temp\\pub_b0c89392-2f95-11e5-80a7-3085a98f2ffb\\data.tar\" in C:\\Users\\st.clair.clarke\\AppData\\Roaming\\Pub\\Cache\\_temp\\dirb0c89391-2f95-11e5-80a7-3085a98f2ff\nb\nERR : Timed out after 30.0s while downloading https://pub.dartlang.org/packages/mdl/versions/1.1.2.tar.gz.\n    | This is likely a transient error. Please try again later.\nFINE: Exception type: TimeoutException\nERR : package:pub/src/io.dart 859                timeout.&lt;fn&gt;\n    | ===== asynchronous gap ===========================\n    | dart:async                                 Timer.Timer\n    | package:pub/src/io.dart 848                timeout\n    | package:pub/src/source/hosted.dart 194     HostedSource._download.&lt;fn&gt;.&lt;fn&gt;\n    | ===== asynchronous gap ===========================\n    | dart:async                                 _Future.then\n    | package:pub/src/source/hosted.dart 193     HostedSource._download.&lt;fn&gt;\n    | dart:async                                 Future.Future.sync\n    | package:pub/src/source/hosted.dart 184     HostedSource._download\n    | package:pub/src/source/hosted.dart 93      HostedSource.downloadToSystemCache.&lt;fn&gt;\n    | ===== asynchronous gap ===========================\n    | dart:async                                 _Future.then\n    | package:pub/src/source/hosted.dart 86      HostedSource.downloadToSystemCache\n    | package:pub/src/command/cache_add.dart 81  CacheAddCommand.run.&lt;async&gt;.downloadVersion.&lt;async&gt;\n    | ===== asynchronous gap ===========================\n    | dart:async                                 _Future.then\n    | package:pub/src/command/cache_add.dart 73  CacheAddCommand.run.&lt;async&gt;.downloadVersion.&lt;async&gt;\n    | ===== asynchronous gap ===========================\n    | package:pub                                CacheAddCommand.run.&lt;async&gt;.downloadVersion\n    | package:pub/src/command/cache_add.dart 91  CacheAddCommand.run.&lt;async&gt;\n    | ===== asynchronous gap ===========================\n    | dart:async                                 _Future.then\n    | package:pub/src/command/cache_add.dart 62  CacheAddCommand.run.&lt;async&gt;\n    | ===== asynchronous gap ===========================\n    | dart:async                                 Future.Future.microtask\n    | package:pub/src/command/cache_add.dart     CacheAddCommand.run\n    | package:args/command_runner.dart 178       CommandRunner.runCommand.&lt;fn&gt;\n    | dart:async                                 Future.Future.sync\n    | package:args/command_runner.dart 131       CommandRunner.runCommand\n    | package:pub/src/command_runner.dart 122    PubCommandRunner.runCommand.&lt;async&gt;.&lt;fn&gt;\n    | dart:async                                 Future.Future.sync\n    | package:pub/src/utils.dart 103             captureErrors.&lt;fn&gt;\n    | package:stack_trace                        Chain.capture\n    | package:pub/src/utils.dart 117             captureErrors\n    | package:pub/src/command_runner.dart 122    PubCommandRunner.runCommand.&lt;async&gt;\n---- End log transcript ----\n</code></pre>\n"}, {"tags": ["dart", "dart-async"], "comments": [{"owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "edited": false, "score": 0, "creation_date": 1438611221, "post_id": 31535915, "comment_id": 51507367, "body": "You can also use <code>await Future.wait([&quot;0&quot;, &quot;1&quot;, &quot;2&quot;].map((..) async =&gt; ...))</code> to do an async operation for each element, then wait for all the results."}], "answers": [{"comments": [{"owner": {"reputation": 1689, "user_id": 315979, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/540b6a3876270cb9195c68d0968e237f?s=128&d=identicon&r=PG", "display_name": "richard", "link": "https://stackoverflow.com/users/315979/richard"}, "edited": false, "score": 0, "creation_date": 1437523312, "post_id": 31536166, "comment_id": 51061612, "body": "Why do I need to use that  specific iterator? Why cant I use the closure iterator?"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 1689, "user_id": 315979, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/540b6a3876270cb9195c68d0968e237f?s=128&d=identicon&r=PG", "display_name": "richard", "link": "https://stackoverflow.com/users/315979/richard"}, "edited": false, "score": 0, "creation_date": 1437537605, "post_id": 31536166, "comment_id": 51064989, "body": "As mentioned in my answer, <code>forEach()</code> (where you pass your closure to) does not wait for your closure to complete, in fact it doesn&#39;t do anything with a returened value. It is fire and forget. Therefore no order of execution is preserved if async execution starts within the closure."}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 1, "last_activity_date": 1437473484, "creation_date": 1437473484, "answer_id": 31536166, "question_id": 31535915, "link": "https://stackoverflow.com/questions/31535915/strange-async-behaviour/31536166#31536166", "title": "Strange async behaviour", "body": "<p><code>[\"0\",\"1\",\"2\"].forEach(&lt;callback&gt;)</code> doesn't wait for futures returned by <code>&lt;callback&gt;</code>.</p>\n\n<p>If you do</p>\n\n<pre><code>Future myCall( ) async {\n\n  for(item in [\"0\",\"1\",\"2\"]){\n    print( \"about to callback\");\n    await futurePrint( item);\n    print( \"done  callback\");\n  });\n  print( \"done mycall\");\n  return new Future.value();\n}\n</code></pre>\n\n<p>it should do what you expect.</p>\n"}], "owner": {"reputation": 1689, "user_id": 315979, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/540b6a3876270cb9195c68d0968e237f?s=128&d=identicon&r=PG", "display_name": "richard", "link": "https://stackoverflow.com/users/315979/richard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1437473523, "creation_date": 1437472810, "last_edit_date": 1437473523, "question_id": 31535915, "link": "https://stackoverflow.com/questions/31535915/strange-async-behaviour", "title": "Strange async behaviour", "body": "<p>I am trying to understand how Dart performs async calls.</p>\n\n<p>Given the following code: </p>\n\n<pre><code>main() {\n  test(\"test\", () async{\n    await myCall( );\n    print( \"done\");\n  });\n}\n\nFuture myCall( ) async{\n\n  [\"0\",\"1\",\"2\"].forEach( (item) async{\n    print( \"about to callback\");\n    await futurePrint( item);\n    print( \"done  callback\");\n  });\n  print( \"done mycall\");\n  return new Future.value();\n}\n\nFuture futurePrint( String str){\n  print( \"string = ${str}\");\n  return new Future.value();\n}\n</code></pre>\n\n<p>I would expect the output to be</p>\n\n<pre><code>about to future print \nstring = 0 \ndone future print \nabout to future print \nstring = 1\ndone future print \nabout to future print \nstring = 2 \ndone future print \ndone mycall\ndone \n</code></pre>\n\n<p>But the code actual output is</p>\n\n<pre><code>print( \"done mycall\");\nabout to future print\nstring = 0\nabout to future print\nstring = 1\nabout to future print\nstring = 2\ndone\ndone future print\ndone future print\ndone future print\n</code></pre>\n\n<p>Why does the 'done myCall' occur as the first line printed, not the last?\nWhy do the 'done future print's occur after the 'done' print?</p>\n\n<p>How do I get <code>myCall</code> to only return when the array iteration is complete?</p>\n"}, {"tags": ["dart", "dart-pub", "redstone.dart"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1437481632, "post_id": 31530253, "comment_id": 51037133, "body": "Might be a similar issue like <a href=\"http://stackoverflow.com/questions/31537227/cannot-add-mdl-packages-to-pub-cache\" title=\"cannot add mdl packages to pub cache\">stackoverflow.com/questions/31537227/&hellip;</a>"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1437485490, "post_id": 31530253, "comment_id": 51040245, "body": "Can you please try <code>pub get --trace</code> from command line from your project directory and add the output to your question?"}], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 0, "last_activity_date": 1437487072, "creation_date": 1437487072, "answer_id": 31541215, "question_id": 31530253, "link": "https://stackoverflow.com/questions/31530253/pub-get-does-not-install-redstone-package/31541215#31541215", "title": "pub get does not install redstone package", "body": "<p>You need to add a space or a tab before <code>redstone...</code>.<br>\nSee <a href=\"https://www.dartlang.org/tools/pub/pubspec.html\" rel=\"nofollow\">https://www.dartlang.org/tools/pub/pubspec.html</a> for more details. </p>\n"}], "owner": {"reputation": 3, "user_id": 2372038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73fe3c3bc8ab0ce67ed02acbba80127e?s=128&d=identicon&r=PG", "display_name": "Patrick Amagne", "link": "https://stackoverflow.com/users/2372038/patrick-amagne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 31541215, "answer_count": 1, "score": 0, "last_activity_date": 1437538615, "creation_date": 1437452034, "last_edit_date": 1437538615, "question_id": 31530253, "link": "https://stackoverflow.com/questions/31530253/pub-get-does-not-install-redstone-package", "title": "pub get does not install redstone package", "body": "<p>I have an issue with pub. I'm new in dart. I followed the instructions on the redstone web page (<a href=\"http://redstonedart.org/doc/Installation.html\" rel=\"nofollow\">http://redstonedart.org/doc/Installation.html</a>) to use redstone in my server project.</p>\n\n<p>I'm using webstorm. here is a copy-paste of my <strong>pubspec.yaml</strong> :</p>\n\n<pre><code>name: ndolo_server\n\ndependencies:\nredstone: any\n</code></pre>\n\n<p>when I run <em>pub get</em> on the application root folder or on webstorm, pub seem to work correctly (it displays \"Got dependencies\") but the package folder stay empty.\nI ran cache repair (<em>pub cache repair</em>), here also it seems to work correctly, but the package folder stay empty.</p>\n\n<p>when I run pub get --trace, I get the following output :</p>\n\n<pre><code>E:\\devel\\webapps\\ndolo2\\server&gt; pub get --trace\nResolving dependencies...\nGot dependencies!\nE:\\devel\\webapps\\ndolo2\\server&gt;\n</code></pre>\n\n<p>Can someone help me?</p>\n\n<p>thank!</p>\n"}, {"tags": ["dart", "google-chrome-app", "dart-polymer"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1437451217, "post_id": 31528895, "comment_id": 51021062, "body": "I&#39;m pretty sure the two csp lines are correct and necessary."}], "answers": [{"tags": [], "owner": {"reputation": 161, "user_id": 4040737, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0c368e57a5fb75d6974a68286b8d76df?s=128&d=identicon&r=PG&f=1", "display_name": "timecc", "link": "https://stackoverflow.com/users/4040737/timecc"}, "is_accepted": false, "score": 2, "last_activity_date": 1437568602, "creation_date": 1437568602, "answer_id": 31563390, "question_id": 31528895, "link": "https://stackoverflow.com/questions/31528895/polymer-dart-chrome-app-csp-and-debugging/31563390#31563390", "title": "Polymer, Dart, Chrome App, CSP and debugging", "body": "<p>This isn't even a partial answer, but it may be helpful to others...</p>\n\n<p>The csp lines have a common typo. Don't write:</p>\n\n<pre><code>csp: 'true' \n</code></pre>\n\n<p>This is correct (the same fix applies to checked: true) :</p>\n\n<pre><code>csp: true \n</code></pre>\n\n<p>And remove this line from the manifest:</p>\n\n<pre><code>\"content_security_policy\": \"script-src 'self' 'unsafe-eval'; object-src 'self'\",\n</code></pre>\n\n<p>The search continues :)</p>\n"}, {"comments": [{"owner": {"reputation": 5181, "user_id": 1116757, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e5673b444d2d231e1d1b873a8342aab9?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1116757/robert"}, "edited": false, "score": 0, "creation_date": 1440060113, "post_id": 32113136, "comment_id": 52119926, "body": "Please add some content from the link."}], "tags": [], "owner": {"reputation": 335, "user_id": 5246559, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uTSIShSr7Mg/AAAAAAAAAAI/AAAAAAAAA2Q/jsXweoO1rY8/photo.jpg?sz=128", "display_name": "Kleak", "link": "https://stackoverflow.com/users/5246559/kleak"}, "is_accepted": false, "score": 0, "last_activity_date": 1440148786, "last_edit_date": 1440148786, "creation_date": 1440058990, "answer_id": 32113136, "question_id": 31528895, "link": "https://stackoverflow.com/questions/31528895/polymer-dart-chrome-app-csp-and-debugging/32113136#32113136", "title": "Polymer, Dart, Chrome App, CSP and debugging", "body": "<p>here is a basic example with polymer dart</p>\n\n<p><a href=\"https://github.com/dart-gde/dart-chrome-app-samples/tree/master/chrome-app-with-polymer-dart\" rel=\"nofollow\">https://github.com/dart-gde/dart-chrome-app-samples/tree/master/chrome-app-with-polymer-dart</a></p>\n\n<p><strong>EDIT:</strong> you need in your pubspec.yaml to have these</p>\n\n<pre><code>transformers:\n- polymer:\n    entry_points: web/index.html\n    csp: true\n- chrome\n- $dart2js:\n    csp: true\n</code></pre>\n\n<p>and remove content_security_policy from your manifest.json</p>\n\n<p>this should works</p>\n"}], "owner": {"reputation": 161, "user_id": 4040737, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0c368e57a5fb75d6974a68286b8d76df?s=128&d=identicon&r=PG&f=1", "display_name": "timecc", "link": "https://stackoverflow.com/users/4040737/timecc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1440148786, "creation_date": 1437442037, "last_edit_date": 1437573123, "question_id": 31528895, "link": "https://stackoverflow.com/questions/31528895/polymer-dart-chrome-app-csp-and-debugging", "title": "Polymer, Dart, Chrome App, CSP and debugging", "body": "<p>Similar questions have been around for a while, maybe someone knows the answer for today's stack. Ideally preserving debuggability...</p>\n\n<p>I have a Dart app which implements the GUI in Polymer/Dart and the back end in Chrome/Dart. Both parts work well (many thanks) now I am trying to tie them together and debug any problems. The unified app hits a wave of CSP errors so I have put together a tiny test case. There's a spread of Dart/Polymer/CSP advice on the net but it changes as things evolve and it's very difficult to see the current best practice. Here is the test case:</p>\n\n<p><strong>manifest.json</strong></p>\n\n<pre><code>{\n  \"manifest_version\": 2,\n  \"name\": \"Test Case\",\n  \"version\": \"0.3\",\n\n  \"icons\": {\"128\": \"dart_icon.png\"},\n\n  \"content_security_policy\": \"script-src 'self' 'unsafe-eval'; object-src 'self'\",\n\n  \"app\": {\n      \"background\": {\n          \"scripts\": [\"background.js\"]\n          }\n      },\n\n  \"permissions\":  [ \"usb\"\n                  , { \"usbDevices\": [ {\"vendorId\": 1027, \"productId\": 24597} ] }\n                  , { \"fileSystem\": [ \"write\", \"retainEntries\", \"directory\" ] }\n                  ]\n\n}\n</code></pre>\n\n<p><strong>background.js</strong></p>\n\n<pre><code>chrome.app.runtime.onLaunched.addListener(function(launchData) {\n  chrome.app.window.create('testwrap.html', {\n        'id': '_myMainWindow',\n        'bounds': {'width': 800, 'height': 500 }\n        });\n});\n</code></pre>\n\n<p><strong>testwrap.html</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;PolyChrome&lt;/title&gt;    \n    &lt;link rel=\"import\" href=\"packages/polymer/polymer.html\"&gt;\n    &lt;link rel=\"import\" href=\"clickcounter.html\"&gt;    \n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;h1&gt;Testing...&lt;/h1&gt;    \n    &lt;p&gt;in the test directory...&lt;/p&gt;\n\n    &lt;div id='container_id'&gt;\n      &lt;p id='text_id'&gt;The log is here.&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;div id='div2'&gt;\n      &lt;click-counter&gt;&lt;/click-counter&gt;\n    &lt;/div&gt;\n\n    &lt;script type='application/dart' src='testwrap.dart'&gt;&lt;/script&gt;    \n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>testwrap.dart</strong></p>\n\n<pre><code>import  'dart:html';\nimport  'package:polymer/polymer.dart';\nexport  'package:polymer/init.dart';\n\n//----------------------------------------\n@whenPolymerReady\nvoid mainStartup() {\n  querySelector(\"#text_id\").text = 'Running';\n  }\n</code></pre>\n\n<p>The click-counter element is the standard code from the Dart/Polymer page.</p>\n\n<p>The yaml includes a $dart2js that maybe isn't used (?) or maybe having two csp:true lines is incorrect?</p>\n\n<p><strong>pubspec.yaml</strong></p>\n\n<pre><code>name: polyChrome\n\ndescription: Chrome App with Polymer\n\ndependencies:\n  chrome: ^0.7.0-dev1\n  code_transformers: any\n  core_elements: any\n  paper_elements: any\n  polymer: any\n\ntransformers:\n- polymer:\n    entry_points:\n    - web/testwrap.html\n    csp: 'true'    \n- $dart2js:\n    csp: 'true'\n    checked: 'true'\n</code></pre>\n\n<p>The CSP error messages (all the same):</p>\n\n<pre><code>Refused to execute inline script because it violates the following Content Security Policy \ndirective: \"default-src 'self' chrome-extension-resource:\". \nEither the 'unsafe-inline' keyword, a hash ('sha256-...'), or a nonce ('nonce-...') \nis required to enable inline execution. Note also that 'script-src' \nwas not explicitly set, so 'default-src' is used as a fallback.\n</code></pre>\n\n<p>Confusingly the test app seems to work OK despite the error messages, but a larger test freezes while booting - can't ignore the messages.</p>\n\n<p>The larger test gives an error message from </p>\n\n<pre><code>Zone zone = await initPolymer();\n</code></pre>\n\n<p>The message is the somewhat opaque (my_clock is a test polymer component that works 100% as a web app):</p>\n\n<pre><code>Breaking on exception: Unsupported operation: Unsupported uri scheme chrome-extension for library LibraryMirror on 'my_clock'.\n</code></pre>\n"}, {"tags": ["dart"], "answers": [{"comments": [{"owner": {"reputation": 266, "user_id": 904812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41127fc4896e14bb6bbbf276551eaf36?s=128&d=identicon&r=PG", "display_name": "Schism", "link": "https://stackoverflow.com/users/904812/schism"}, "edited": false, "score": 3, "creation_date": 1437414623, "post_id": 31523038, "comment_id": 51007227, "body": "Note if you do it this way, <code>[&#39;B&#39;, &#39;b&#39;]</code> and <code>[&#39;b&#39;, &#39;B&#39;]</code> will both be considered sorted (modern browsers use a stable sort). Also, you incur the cost of uppercasing each string many times, which can be very expensive."}, {"owner": {"reputation": 373, "user_id": 1451523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3eca1548e7e99b23f07558411c29955f?s=128&d=identicon&r=PG", "display_name": "ashokd", "link": "https://stackoverflow.com/users/1451523/ashokd"}, "reply_to_user": {"reputation": 266, "user_id": 904812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41127fc4896e14bb6bbbf276551eaf36?s=128&d=identicon&r=PG", "display_name": "Schism", "link": "https://stackoverflow.com/users/904812/schism"}, "edited": false, "score": 0, "creation_date": 1437423250, "post_id": 31523038, "comment_id": 51012233, "body": "@Schism This should solve your case.                                          list.sort((a, b) =&gt; a.toUpperCase() != b.toUpperCase() ? a.toUpperCase().compareTo(b.toUpperCase()) : a.compareTo(b));"}, {"owner": {"reputation": 75233, "user_id": 123471, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/t75zo.jpg?s=128&g=1", "display_name": "Seth Ladd", "link": "https://stackoverflow.com/users/123471/seth-ladd"}, "reply_to_user": {"reputation": 266, "user_id": 904812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41127fc4896e14bb6bbbf276551eaf36?s=128&d=identicon&r=PG", "display_name": "Schism", "link": "https://stackoverflow.com/users/904812/schism"}, "edited": false, "score": 0, "creation_date": 1437490285, "post_id": 31523038, "comment_id": 51044153, "body": "@Schism definitely looking for other ways to do it. Care to provide an answer?"}, {"owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "edited": false, "score": 0, "creation_date": 1540194899, "post_id": 31523038, "comment_id": 92758564, "body": "(Just for the record, browser sorting is not guaranteed to be stable, not even in the most recent browsers)."}], "tags": [], "owner": {"reputation": 75233, "user_id": 123471, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/t75zo.jpg?s=128&g=1", "display_name": "Seth Ladd", "link": "https://stackoverflow.com/users/123471/seth-ladd"}, "is_accepted": false, "score": 8, "last_activity_date": 1437414366, "creation_date": 1437414366, "answer_id": 31523038, "question_id": 31523037, "link": "https://stackoverflow.com/questions/31523037/how-to-compare-string-with-case-insensitivity-in-dart/31523038#31523038", "title": "How to compare String with case insensitivity, in Dart?", "body": "<p>One way to do it, you can upper case your strings in the sort() method:</p>\n\n<pre><code>list.sort((a, b) =&gt; a.toUpperCase().compareTo(b.toUpperCase()));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8094, "user_id": 61298, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d3d862d8abf5af14d78f09808d841a9f?s=128&d=identicon&r=PG", "display_name": "Matt R", "link": "https://stackoverflow.com/users/61298/matt-r"}, "edited": false, "score": 1, "creation_date": 1570206608, "post_id": 31789962, "comment_id": 102852650, "body": "&quot;there is no single good solution that we would want to fix on&quot; -- this does a pretty good job: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}], "tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": false, "score": 15, "last_activity_date": 1547464237, "last_edit_date": 1547464237, "creation_date": 1438612187, "answer_id": 31789962, "question_id": 31523037, "link": "https://stackoverflow.com/questions/31523037/how-to-compare-string-with-case-insensitivity-in-dart/31789962#31789962", "title": "How to compare String with case insensitivity, in Dart?", "body": "<p>There is no case-insensitive string compare function (or string equality function for that matter) in Dart. Basically because it's hard, and there is no single good solution that we would want to fix on.</p>\n\n<p>The problem is that the <em>right</em> way to do case insensitive comparison is to use the full Unicode case-folding (<a href=\"http://www.w3.org/International/wiki/Case_folding\" rel=\"noreferrer\">http://www.w3.org/International/wiki/Case_folding</a>) together with a (probably locale-specific) ordering of the resulting Unicode characters. Unicode characters may take up multiple code points, and can have different representations, so you probably also want to do other Unicode normalizations.</p>\n\n<p>So, it's horribly complicated and requires a fairly large table.</p>\n\n<p>Great if you already have a full Unicode library, less great if you want to compile to small JavaScript code. </p>\n\n<p>Even if you just use ASCII, you still have to figure out what you want the ordering to be. Is <code>Z</code> &lt;  <code>^</code>? (As ASCII codes, they are). Is <code>^</code> &lt; <code>a</code>? Again, as ASCII codes, they are. But you probably don't want <code>Z</code> &lt; <code>a</code> in case-insensitive comparison, so for consistency, you need to convert to either upper or lower case, and which one you pick will change how <code>a</code> and <code>^</code> compares to each other.</p>\n\n<p>The <code>collection</code> package has a <a href=\"https://www.dartdocs.org/documentation/collection/1.9.1/collection/compareAsciiUpperCase.html\" rel=\"noreferrer\">compareAsciiUpperCase</a> function (and similar for lower case), and <code>package:quiver</code> has a <code>compareIgnoreCase</code> function that just does <code>toLowerCase()</code> on both arguments.\nYou can use that as:</p>\n\n<pre><code>import \"package:collection/collection.dart\";\n...\n   list.sort(compareAsciiUpperCase);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24435, "user_id": 3191896, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qVtnn.png?s=128&g=1", "display_name": "Jossef Harush", "link": "https://stackoverflow.com/users/3191896/jossef-harush"}, "is_accepted": false, "score": 27, "last_activity_date": 1547464347, "creation_date": 1547464347, "answer_id": 54180384, "question_id": 31523037, "link": "https://stackoverflow.com/questions/31523037/how-to-compare-string-with-case-insensitivity-in-dart/54180384#54180384", "title": "How to compare String with case insensitivity, in Dart?", "body": "<p>There's no built in way to compare strings case-insensitive in dart (<a href=\"https://stackoverflow.com/a/31789962/3191896\">as @lrn answered</a>).</p>\n\n<p>If you only want to compare strings case-insensitive, I would go with declaring the following method somewhere in a common place:</p>\n\n<pre><code>bool equalsIgnoreCase(String string1, String string2) {\n  return string1?.toLowerCase() == string2?.toLowerCase();\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>equalsIgnoreCase(\"ABC\", \"abc\"); // -&gt; true\nequalsIgnoreCase(\"123\" \"abc\");  // -&gt; false\nequalsIgnoreCase(null, \"abc\");  // -&gt; false\nequalsIgnoreCase(null, null);   // -&gt; true\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 116623, "user_id": 403671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/454HU.jpg?s=128&g=1", "display_name": "Simon Mourier", "link": "https://stackoverflow.com/users/403671/simon-mourier"}, "is_accepted": false, "score": 4, "last_activity_date": 1570444389, "creation_date": 1570444389, "answer_id": 58267806, "question_id": 31523037, "link": "https://stackoverflow.com/questions/31523037/how-to-compare-string-with-case-insensitivity-in-dart/58267806#58267806", "title": "How to compare String with case insensitivity, in Dart?", "body": "<p>You can use Google's own <a href=\"https://pub.dev/packages/quiver\" rel=\"nofollow noreferrer\">quiver strings</a> package. It has a <a href=\"https://pub.dev/documentation/quiver/latest/quiver.strings/equalsIgnoreCase.html\" rel=\"nofollow noreferrer\">equalsIgnoreCase</a> function. And here is its implementation:</p>\n\n<pre><code>bool equalsIgnoreCase(String a, String b) =&gt;\n    (a == null &amp;&amp; b == null) ||\n    (a != null &amp;&amp; b != null &amp;&amp; a.toLowerCase() == b.toLowerCase());\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5101, "user_id": 5066615, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iL2xP.jpg?s=128&g=1", "display_name": "Rohan Taneja", "link": "https://stackoverflow.com/users/5066615/rohan-taneja"}, "is_accepted": false, "score": 2, "last_activity_date": 1603364313, "creation_date": 1603364313, "answer_id": 64480812, "question_id": 31523037, "link": "https://stackoverflow.com/questions/31523037/how-to-compare-string-with-case-insensitivity-in-dart/64480812#64480812", "title": "How to compare String with case insensitivity, in Dart?", "body": "<p>You can create an extension function:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>extension StringExtensions on String {\n  bool containsIgnoreCase(String secondString) =&gt; this.toLowerCase().contains(secondString.toLowerCase());\n\n  //bool isNotBlank() =&gt; this != null &amp;&amp; this.isNotEmpty;\n}\n</code></pre>\n<p>Usage:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>if (&quot;abcd&quot;.containsIgnoreCase(&quot;AB&quot;)) {\n    //true\n}\n</code></pre>\n"}], "owner": {"reputation": 75233, "user_id": 123471, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/t75zo.jpg?s=128&g=1", "display_name": "Seth Ladd", "link": "https://stackoverflow.com/users/123471/seth-ladd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16483, "favorite_count": 0, "answer_count": 5, "score": 30, "last_activity_date": 1603364313, "creation_date": 1437414366, "question_id": 31523037, "link": "https://stackoverflow.com/questions/31523037/how-to-compare-string-with-case-insensitivity-in-dart", "title": "How to compare String with case insensitivity, in Dart?", "body": "<p>How do I compare two string in Dart, with case insensitivity?</p>\n\n<p>For example, I have this list:</p>\n\n<pre><code>var list = ['Banana', 'apple'];\n</code></pre>\n\n<p>And I would like to sort it such that <code>apple</code> is before <code>Banana</code>.</p>\n\n<p>End result:</p>\n\n<pre><code>['apple', 'Banana'];\n</code></pre>\n"}, {"tags": ["dart", "interop"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 4655141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5435034b88355f231991920a523dfa6?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay Menon", "link": "https://stackoverflow.com/users/4655141/vijay-menon"}, "is_accepted": false, "score": 1, "last_activity_date": 1437439550, "creation_date": 1437439550, "answer_id": 31528617, "question_id": 31521615, "link": "https://stackoverflow.com/questions/31521615/how-to-use-darts-dev-compiler-for-simple-libs/31528617#31528617", "title": "How to use Dart&#39;s dev_compiler for simple libs?", "body": "<p>This easiest way to play around with this is to use the \"server\" mode:</p>\n\n<blockquote>\n  <p>dartdevc -o outputdir --server foo.dart</p>\n</blockquote>\n\n<p>That should generate a foo.html in the output directory that shows you what gets linked in.</p>\n\n<p>For now, this will bring in all the Dart libraries - regardless of what your class actually uses.  You may find that you only need a small subset to run your code.</p>\n"}], "owner": {"reputation": 868, "user_id": 3505823, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/e57f2baed2542c59a876e734bb3c6eb4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel V.", "link": "https://stackoverflow.com/users/3505823/daniel-v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1439299545, "creation_date": 1437409608, "last_edit_date": 1439299545, "question_id": 31521615, "link": "https://stackoverflow.com/questions/31521615/how-to-use-darts-dev-compiler-for-simple-libs", "title": "How to use Dart&#39;s dev_compiler for simple libs?", "body": "<p>I am experimenting with Dart's <a href=\"https://github.com/dart-lang/dev_compiler\" rel=\"nofollow\">dev_compiler</a>. I think I am missing a couple of steps how to get it working in a browser. \nCurrently all the resources I found regarding it are:\n<a href=\"https://github.com/dart-lang/dev_compiler/blob/master/USAGE.md\" rel=\"nofollow\">Usage</a></p>\n\n<p><strong>What I'd like</strong> to do is:</p>\n\n<ol>\n<li>Create a simple single class library package in Dart</li>\n<li>Compile it to ES6</li>\n<li>Use that compiled library in Canary from JS</li>\n</ol>\n\n<p>Problems:</p>\n\n<ul>\n<li>running <code>dartdevc -o outputdir lib/mylib.dart</code> prompts me to specify the <code>--runtime-dir</code> option. What should that directory be? I use Win dev machine, I specified it to be <code>Pub\\Cache\\hosted\\pub.dartlang.org\\dev_compiler-0.1.1+1\\lib\\runtime</code></li>\n<li>After that, compilation succeeds, however in the compiled .js file there are a references to a <code>dart</code> variable. I assume this should be the one defined in <code>dart_runtime.js</code>. This brings me to the <em>question</em>: what exactly do I have to import in an HTML file to get my transcompiled dart lib work? (scripts srcs)</li>\n</ul>\n\n<p>For now I did not get as far as to use the transcompiled library from a browser. Any tips how to do that would be appreciated.</p>\n\n<h1>Update:</h1>\n\n<p>I wrote a little post about my experiences with dev_compiler: <a href=\"http://goo.gl/32rNBU\" rel=\"nofollow\">dev_compiler experiment</a></p>\n"}, {"tags": ["dart", "polymer", "hangouts-api"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5056240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e45fed9fa763b1efee8028bd63e939c?s=128&d=identicon&r=PG&f=1", "display_name": "rwk", "link": "https://stackoverflow.com/users/5056240/rwk"}, "edited": false, "score": 0, "creation_date": 1437478576, "post_id": 31521571, "comment_id": 51035085, "body": "Thanks, I created an issue in the hangouts_api repo.  At this early stage in my dart education, I don&#39;t have a clue how to modify their package, but thanks for the work-around!"}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 1, "last_activity_date": 1437409462, "creation_date": 1437409462, "answer_id": 31521571, "question_id": 31521277, "link": "https://stackoverflow.com/questions/31521277/dart-polymer-and-hangouts-api-incompatible-versions/31521571#31521571", "title": "dart polymer and hangouts_api incompatible versions", "body": "<p>Just create an issue in the hangouts_api GitHub repo and ask to bring dependencies up to date or even better, create a pull request. </p>\n\n<p>As a workaround you can force a specific version by adding</p>\n\n<pre><code>dependency_overrides:\n  browser:\"&gt;=0.10.0\u201c\n</code></pre>\n\n<p>see also <a href=\"https://www.dartlang.org/tools/pub/dependencies.html#dependency-overrides\" rel=\"nofollow\">https://www.dartlang.org/tools/pub/dependencies.html#dependency-overrides</a></p>\n"}], "owner": {"reputation": 11, "user_id": 5056240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e45fed9fa763b1efee8028bd63e939c?s=128&d=identicon&r=PG&f=1", "display_name": "rwk", "link": "https://stackoverflow.com/users/5056240/rwk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1437409462, "creation_date": 1437408525, "question_id": 31521277, "link": "https://stackoverflow.com/questions/31521277/dart-polymer-and-hangouts-api-incompatible-versions", "title": "dart polymer and hangouts_api incompatible versions", "body": "<p>I am trying to use dart hangouts_api and polymer at the same time and I get the following error:</p>\n\n<blockquote>\n  <p>Incompatible version constraints on browser:<br>\n     - hangouts_api 0.3.0 depends on version >=0.9.0 &lt;0.10.0<br>\n     - polymer 0.15.1 depends on version >=0.10.0 &lt;0.11.0  </p>\n</blockquote>\n\n<p>Mu pubspec.yaml file refers to the current version of each.\nI cannot use anything but the lastest version of each as the suggested alternatives are years old.  Is there a work around?  To whom should I report this to (assuming it is a bug)?</p>\n"}, {"tags": ["dart", "angular-dart", "angular"], "comments": [{"owner": {"reputation": 791, "user_id": 2294382, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/23e5ebf31220eee1a3671a66d25daba6?s=128&d=identicon&r=PG", "display_name": "user2294382", "link": "https://stackoverflow.com/users/2294382/user2294382"}, "edited": false, "score": 0, "creation_date": 1467202400, "post_id": 31508204, "comment_id": 63632615, "body": "Did you manage to find a solution to the problem without defining a getTemplate() method? I want to do something similar."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1499235632, "post_id": 31508204, "comment_id": 76812624, "body": "There are different ways to make a component customizable. You can pass component types to be instantiated by your search box using DynamicComponentLoader, pass children to be displayed at <code>&lt;ng-content&gt;</code> , or pass <code>&lt;template&gt;</code> content to be added dynamically by your search component."}], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 1, "last_activity_date": 1499235488, "last_edit_date": 1499235488, "creation_date": 1437386172, "answer_id": 31513529, "question_id": 31508204, "link": "https://stackoverflow.com/questions/31508204/writing-extensible-components-in-angular-2/31513529#31513529", "title": "Writing extensible components in Angular 2", "body": "<p>I haven't really used Angular2 but I think there are at least two ways to do it\n- You should be able to extend a component (just create a derived class and specialize the behavior\n- Use composition with the <code>&lt;content&gt;</code> tag of the shadow DOM. I found some docs here <a href=\"https://www.airpair.com/angularjs/posts/creating-components-p3-angular2-directives\" rel=\"nofollow noreferrer\">https://www.airpair.com/angularjs/posts/creating-components-p3-angular2-directives</a>\n- Or a combination of the two</p>\n\n<p><strong>update</strong></p>\n\n<p>Support for extending components is coming with version 3.2.\nAnnotations like <code>@HostBinding()</code>, <code>@HostListener()</code>, <code>@ViewChild()</code>, <code>@ContentChild()</code> will be recognised on subclasses, so will be interfaces for <code>OnInit</code> and other <a href=\"https://webdev.dartlang.org/angular/guide/lifecycle-hooks\" rel=\"nofollow noreferrer\">lifecycle</a> callbacks  </p>\n\n<p>There are different ways beside inheritanc to make a component customizable.<br>\nYou can pass component types to be instantiated by your search box using DynamicComponentLoader,<br>\npass children to be displayed at <code>&lt;ng-content&gt;</code> locations,<br>\nor pass <code>&lt;template&gt;</code> content to be added dynamically by your search component, and probably others.</p>\n"}], "owner": {"reputation": 933, "user_id": 828709, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/450a41fbcc0c2eb69be0f207c0d0d070?s=128&d=identicon&r=PG", "display_name": "Brandon Duffany", "link": "https://stackoverflow.com/users/828709/brandon-duffany"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1022, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1499235488, "creation_date": 1437360714, "last_edit_date": 1499224754, "question_id": 31508204, "link": "https://stackoverflow.com/questions/31508204/writing-extensible-components-in-angular-2", "title": "Writing extensible components in Angular 2", "body": "<p>I'm currently using Angular2 (Dart) to create a reusable search box component, which includes a suggestion box.</p>\n\n<p>The trouble I'm running into is that I'm not sure how to make the suggestion box extensible by supporting richer suggestion types, such as suggestions with icons, suggestions with multiple lines of text, varying styles on the text, animations, etc.</p>\n\n<p>Currently the suggestion box HTML (stripped down) looks a bit like this:</p>\n\n<pre><code>&lt;div class=\"suggestion-box-container\"&gt;\n  &lt;div class=\"suggestion\" *ng-for=\"#suggestion of model.suggestions\"&gt;\n    {{ suggestion.text }}\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And the Dart code looks sort of like this:</p>\n\n<pre><code>@Component(\n  selector: 'suggestion-box'\n)\n@View(\n  templateUrl: 'suggestion_box.html',\n  directives: const [NgFor]\n)\nclass SuggestionBox {\n  final SuggestionModel model;\n  // ...\n}\n\nclass SuggestionModel {\n  List&lt;Suggestion&gt; suggestions = [];\n  // ...\n}\n\nclass Suggestion {\n  String text;\n  // ...\n}\n</code></pre>\n\n<p>I'm wondering how I can modify this design so that a user can extend <code>Suggestion</code> and write their own corresponding suggestion component.</p>\n\n<p>I considered something like</p>\n\n<pre><code>&lt;basic-suggestion *ng-if=\"suggestion.type == 'basic'\"&gt;&lt;/basic-suggestion&gt;\n&lt;icon-suggestion *ng-if=\"suggestion.type == 'icon'\"&gt;&lt;/icon-suggestion&gt;\n...\n</code></pre>\n\n<p>But of course that would get out of hand quickly as more suggestion types are supported, and would also require duplicating the <code>(^hover)</code> and <code>(^click)</code> handlers to each type of suggestion. Worse yet, it would require modifying the original library rather than just using it in a modular way.</p>\n\n<p>Is there an elegant solution to this sort of thing? Or would users simply be better off writing their own suggestion box entirely if they wanted richer suggestions? I'm hoping to avoid that since I want to bake in a bunch of accessibility functionality into the search box/suggestion box that the user shouldn't need to rewrite.</p>\n\n<p><strong>EDIT</strong>: based on Gunter's answer I've managed to improve this by a little bit:</p>\n\n<pre><code>&lt;suggestion-box&gt;\n  &lt;div *ng-for=\"#suggestion in suggestions\"&gt;\n    &lt;suggestion suggestion-instance=\"suggestion\"&gt;\n      &lt;!-- Custom suggestion code goes here.\n           The following is an example --&gt;\n      &lt;img src=\"{{suggestion.iconSrc}}\"&gt;&lt;/img&gt; {{suggestion.text}}\n    &lt;/suggestion&gt;\n  &lt;/div&gt;\n&lt;/suggestion&gt;\n</code></pre>\n\n<p>I have a new <code>suggestion</code> component that looks a bit like this:</p>\n\n<pre><code>@Component(\n  selector: 'suggestion',\n  properties: const ['suggestion: suggestion-instance']\n)\n@View(\n  template: '''\n&lt;div (^click)=\"handleClick(suggestion)\"\n     (hover)=\"handleHover(suggestion)\"&gt;\n  &lt;content&gt;&lt;/content&gt;\n&lt;/div&gt;\n'''\n)\nclass SuggestionComponent {\n  final SuggestionModel model;\n  final Suggestion suggestion;\n  // ...\n}\n</code></pre>\n\n<p>This is a bit nicer now because the user now gets accessibility/keyboard control/mouse control out of the box. But this still isn't ideal. I'd somehow like the template to automatically determine the appropriate component to use based on the actual subclass of the <code>suggestion</code>. I suppose I could define a method in each component like <code>getTemplate()</code> but that probably wouldn't be a very Angular-esque way of doing it.</p>\n"}, {"tags": ["dart", "dart-async"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1437317037, "post_id": 31499214, "comment_id": 50967499, "body": "I can&#39;t say from your code what <code>onValue</code> does or what it is supposed to return."}], "answers": [{"comments": [{"owner": {"reputation": 4633, "user_id": 2258442, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7dc1f8dac4d92b4abb781ec2b11d8be6?s=128&d=identicon&r=PG", "display_name": "st_clair_clarke", "link": "https://stackoverflow.com/users/2258442/st-clair-clarke"}, "edited": false, "score": 0, "creation_date": 1437311032, "post_id": 31499465, "comment_id": 50965826, "body": "The intention of the code is such - currentMrn and nextMrn represents the currrent registration number in the database and the next registration number calculated from the current one. In nextMrn I decide if the mrn is present or absent and take appropriate action."}, {"owner": {"reputation": 4633, "user_id": 2258442, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7dc1f8dac4d92b4abb781ec2b11d8be6?s=128&d=identicon&r=PG", "display_name": "st_clair_clarke", "link": "https://stackoverflow.com/users/2258442/st-clair-clarke"}, "edited": false, "score": 0, "creation_date": 1437311188, "post_id": 31499465, "comment_id": 50965870, "body": "In the async/await version, it seems as if a reference for the value == null variable is missing. I like the await/async solution of futures as it seems more readable, but I am still not understanding it full."}, {"owner": {"reputation": 4633, "user_id": 2258442, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7dc1f8dac4d92b4abb781ec2b11d8be6?s=128&d=identicon&r=PG", "display_name": "st_clair_clarke", "link": "https://stackoverflow.com/users/2258442/st-clair-clarke"}, "edited": false, "score": 0, "creation_date": 1437316785, "post_id": 31499465, "comment_id": 50967438, "body": "I am still receiving the exception described in the EDIT 1 above"}, {"owner": {"reputation": 4633, "user_id": 2258442, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7dc1f8dac4d92b4abb781ec2b11d8be6?s=128&d=identicon&r=PG", "display_name": "st_clair_clarke", "link": "https://stackoverflow.com/users/2258442/st-clair-clarke"}, "edited": false, "score": 1, "creation_date": 1437322269, "post_id": 31499465, "comment_id": 50969176, "body": "Everything is corrected now. The exception in EDIT 2 was corrected by adding an await as follows |Snapshot ss = await event.snapshot;|. Thanks Gunter."}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1437314418, "last_edit_date": 1437314418, "creation_date": 1437295630, "answer_id": 31499465, "question_id": 31499214, "link": "https://stackoverflow.com/questions/31499214/returned-future-is-always-1-less-than-the-expected-value/31499465#31499465", "title": "Returned future is always 1 less than the expected value", "body": "<pre><code>Future&lt;int&gt; nextMrn( ) async {\n  int curMrn = 0;\n  var rootRef = await firebaseClient;\n  Future&lt;int&gt; futureMrn = currentMrn( );\n\n  // missing return leads to broken future chain\n  return futureMrn.then( ( int value ) {\n    if ( value == null ) {\n      rootRef.child('ids/mrn').set(curMrn);\n      //futureMrn = Future.value([curMrn]);\n    }\n    else {\n      curMrn = value + 1;\n      rootRef.child('ids/mrn').set(curMrn);\n      //futureMrn = Future.value([curMrn]);\n    }\n  // add the actual return in the chain to ensure\n  // id doesn't return before the calculation is completed\n  }).then((_) =&gt; currentMrn( );\n}\n</code></pre>\n\n<p>or with async/await</p>\n\n<pre><code>Future&lt;int&gt; nextMrn( ) async {\n  int curMrn = 0;\n  var rootRef = await firebaseClient;\n  var futureMrn = currentMrn( );\n  var value = await futureMrn;\n  if ( value == null ) {\n    rootRef.child('ids/mrn').set(curMrn);\n    //futureMrn = Future.value([curMrn]);\n  }\n  else {\n    curMrn = value + 1;\n    rootRef.child('ids/mrn').set(curMrn);\n    //futureMrn = Future.value([curMrn]);\n  }\n  return currentMrn( );\n}\n</code></pre>\n\n<p>I couldn't really figure out what exactly the intention of your code is. Hope it works anyway.</p>\n"}], "owner": {"reputation": 4633, "user_id": 2258442, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7dc1f8dac4d92b4abb781ec2b11d8be6?s=128&d=identicon&r=PG", "display_name": "st_clair_clarke", "link": "https://stackoverflow.com/users/2258442/st-clair-clarke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 31499465, "answer_count": 1, "score": 2, "last_activity_date": 1437321584, "creation_date": 1437293605, "last_edit_date": 1437321584, "question_id": 31499214, "link": "https://stackoverflow.com/questions/31499214/returned-future-is-always-1-less-than-the-expected-value", "title": "Returned future is always 1 less than the expected value", "body": "<p>I have the following dart code:</p>\n\n<h2>.dart</h2>\n\n<pre><code>Future&lt;int&gt; currentMrn( ) async {\n  var rootRef = await firebaseClient;\n  var mrnRef = await rootRef.child( 'ids/mrn' );\n  var event = await mrnRef.onValue.first;\n  DataSnapshot ss = event.snapshot;\n\n  return ss.val( );\n}\n\nFuture&lt;int&gt; nextMrn( ) async {\n  int curMrn = 0;\n  var rootRef = await firebaseClient;\n  Future&lt;int&gt; futureMrn = currentMrn( );\n\n  futureMrn.then( ( int value ) {\n    if ( value == null ) {\n      rootRef.child('ids/mrn').set(curMrn);\n      //futureMrn = Future.value([curMrn]);\n    }\n    else {\n      curMrn = value + 1;\n      rootRef.child('ids/mrn').set(curMrn);\n      //futureMrn = Future.value([curMrn]);\n    }\n  } );\n\n  return currentMrn( );\n}\n</code></pre>\n\n<p>The code is called as such:</p>\n\n<h2>.dart</h2>\n\n<pre><code>  nextMrn().then((int value) {\n    print(value);\n  });\n</code></pre>\n\n<p>However, the printed value is ALWAYS 1 less than the value in firebase.</p>\n\n<p>It seems that currentMrn() is not getting the new updated value.</p>\n\n<p>I am using the dart firebase package at <a href=\"https://pub.dartlang.org/packages/firebase\" rel=\"nofollow\">https://pub.dartlang.org/packages/firebase</a></p>\n\n<p>Thanks for your help.</p>\n\n<h2>EDIT 1</h2>\n\n<p>Running the future.then (first version) of nextMrn() throws the following exception</p>\n\n<pre><code>Exception: Uncaught Error: The null object does not have a method 'cancel'.\n\nNoSuchMethodError: method not found: 'cancel'\nReceiver: null\nArguments: []\nStack Trace:\n#0      Object._noSuchMethod (dart:core-patch/object_patch.dart:42)\n#1      Object.noSuchMethod (dart:core-patch/object_patch.dart:45)\n#2      _cancelAndValue (dart:async/stream_pipe.dart:58)\n#3      Stream.first.&lt;anonymous closure&gt; (dart:async/stream.dart:937)\n#4      _RootZone.runUnaryGuarded (dart:async/zone.dart:1104)\n#5      _BufferingStreamSubscription._sendData (dart:async/stream_impl.dart:341)\n#6      _BufferingStreamSubscription._add (dart:async/stream_impl.dart:270)\n#7      _SyncBroadcastStreamController._sendData (dart:async/broadcast_stream_controller.dart:362)\n#8      _BroadcastStreamController.add (dart:async/broadcast_stream_controller.dart:237)\n#9      Query._createStream.addEvent (package:firebase/src/firebase.dart:531:12)\n#10     JsObject._callMethod (dart:js:678)\n#11     JsObject.callMethod (dart:js:618)\n#12     Query._createStream.startListen (package:firebase/src/firebase.dart:539:11)\n#13     _runGuarded (dart:async/stream_controller.dart:769)\n#14     _BroadcastStreamController._subscribe (dart:async/broadcast_stream_controller.dart:199)\n#15     _ControllerStream._createSubscription (dart:async/stream_controller.dart:787)\n#16     _StreamImpl.listen (dart:async/stream_impl.dart:474)\n#17     Stream.first (dart:async/stream.dart:935)\n#18     currentMrn.&lt;currentMrn_async_body&gt; (package:epimss_shared/src/epimss_shared_db_client.dart:34:36)\n#19     _RootZone.runUnary (dart:async/zone.dart:1166)\n#20     _Future._propagateToListeners.handleValueCallback (dart:async/future_impl.dart:494)\n#21     _Future._propagateToListeners (dart:async/future_impl.dart:577)\n#22     _Future._completeWithValue (dart:async/future_impl.dart:368)\n#23     _Future._asyncComplete.&lt;anonymous closure&gt; (dart:async/future_impl.dart:422)\n#24     _microtaskLoop (dart:async/schedule_microtask.dart:43)\n#25     _microtaskLoopEntry (dart:async/schedule_microtask.dart:52)\n#26     _ScheduleImmediateHelper._handleMutation (dart:html:42529)\n</code></pre>\n\n<h3>Line #18 above refers to the</h3>\n\n<pre><code>var event = await mrnRef.onValue.first;\n</code></pre>\n\n<p>line in the currentMrn() method. Seems like an attempt is made to cancel an event. Not certain.</p>\n\n<h2>EDIT 2</h2>\n\n<p>Because all prior attempts returns an integer 1 less than is expected, I have included the code for currentMrn() directly in nextMrn() as follows:</p>\n\n<pre><code>Future&lt;int&gt; currentMrn( ) async {\n  var rootRef = await firebaseClient;\n  var mrnRef = await rootRef.child( 'ids/mrn' );\n  var event = await mrnRef.onValue.first;\n  DataSnapshot ss = event.snapshot;\n\n  return ss.val( );\n}\n\nFuture&lt;int&gt; nextMrn( ) async {\n  var curMrn = 0;\n\n  var rootRef = await firebaseClient;\n  var mrnRef = await rootRef.child( 'ids/mrn' );\n  var event = await mrnRef.onValue.first;\n  DataSnapshot ss = event.snapshot;\n\n  var value = ss.val( );\n\n  if ( value == null ) {\n    curMrn += curMrn + 1;\n    rootRef.child( 'ids/mrn' ).set( curMrn );\n  }\n  else {\n    curMrn = value + 1;\n    rootRef.child( 'ids/mrn' ).set( curMrn );\n  }\n  return curMrn;\n  //TODO correct Bad state: Cannot fire new event. Controller is already firing an event\n}\n</code></pre>\n\n<p>This correctly returns the expected value when nextMrn() is invoked. However, it throws the exception below:</p>\n\n<pre><code>FIREBASE WARNING: Exception was thrown by user callback.  \nUncaught Unhandled exception:\nBad state: Cannot fire new event. Controller is already firing an event\n#0      _BroadcastStreamController.add (dart:async/broadcast_stream_controller.dart:236)\n#1      Query._createStream.addEvent (package:firebase/src/firebase.dart:531:12)\n#2      JsObject._callMethod (dart:js:678)\n#3      JsObject.callMethod (dart:js:618)\n#4      Firebase.set (package:firebase/src/firebase.dart:258:9)\n#5      nextMrn.&lt;nextMrn_async_body&gt; (package:epimss_shared/src/epimss_shared_db_client.dart:56:38)\n#6      _RootZone.runUnary (dart:async/zone.dart:1166)\n#7      _Future._propagateToListeners.handleValueCallback (dart:async/future_impl.dart:494)\n#8      _Future._propagateToListeners (dart:async/future_impl.dart:577)\n#9      _Future._complete (dart:async/future_impl.dart:358)\n#10     _cancelAndValue (dart:async/stream_pipe.dart:62)\n#11     Stream.first.&lt;anonymous closure&gt; (dart:async/stream.dart:937)\n#12     _RootZone.runUnaryGuarded (dart:async/zone.dart:1104)\n#13     _BufferingStreamSubscription._sendData (dart:async/stream_impl.dart:341)\n#14     _BufferingStreamSubscription._add (dart:async/stream_impl.dart:270)\n#15     _SyncBroadcastStreamController._sendData (dart:async/broadcast_stream_controller.dart:362)\n#16     _BroadcastStreamController.add (dart:async/broadcast_stream_controller.dart:237)\n#17     Query._createStream.addEvent (package:firebase/src/firebase.dart:531:12)\n  (anonymous function)\n</code></pre>\n\n<p>that points to the following line in the refactored nextMrn()</p>\n\n<pre><code>rootRef.child( 'ids/mrn' ).set( curMrn );\n</code></pre>\n\n<p>Two questions:\n1. How is this corrected.\n2. How do I catch an error in the nextMrn()?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["google-maps", "dart", "angular-dart"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1437295163, "post_id": 31497593, "comment_id": 50962104, "body": "Looks like <a href=\"http://stackoverflow.com/questions/21061290\">stackoverflow.com/questions/21061290</a>"}, {"owner": {"reputation": 995, "user_id": 2333579, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/ae7f5aa267e7f1eeaaf127330eaf9123?s=128&d=identicon&r=PG", "display_name": "Krtko", "link": "https://stackoverflow.com/users/2333579/krtko"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1437296807, "post_id": 31497593, "comment_id": 50962424, "body": "Thanks, but that does not resolve the issue."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1437296999, "post_id": 31497593, "comment_id": 50962466, "body": "If this doesn&#39;t work it can be usually fixed by wrapping the code in attached or oNshadowRoot with <code>new Future(() {your code here});</code>"}, {"owner": {"reputation": 995, "user_id": 2333579, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/ae7f5aa267e7f1eeaaf127330eaf9123?s=128&d=identicon&r=PG", "display_name": "Krtko", "link": "https://stackoverflow.com/users/2333579/krtko"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1437297340, "post_id": 31497593, "comment_id": 50962535, "body": "That worked! Do you know why?"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1437298020, "post_id": 31497593, "comment_id": 50962686, "body": "The Future allows Angular to complete the current thread of execution and delays your custom code until Angular is done. There&#39;s obviously a timing issue. This is a known issue and a known workaround."}], "answers": [{"comments": [{"owner": {"reputation": 995, "user_id": 2333579, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/ae7f5aa267e7f1eeaaf127330eaf9123?s=128&d=identicon&r=PG", "display_name": "Krtko", "link": "https://stackoverflow.com/users/2333579/krtko"}, "edited": false, "score": 0, "creation_date": 1437298327, "post_id": 31499773, "comment_id": 50962737, "body": "how does it know to run an arbitrary future created in the function tho?"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 995, "user_id": 2333579, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/ae7f5aa267e7f1eeaaf127330eaf9123?s=128&d=identicon&r=PG", "display_name": "Krtko", "link": "https://stackoverflow.com/users/2333579/krtko"}, "edited": false, "score": 1, "creation_date": 1437298425, "post_id": 31499773, "comment_id": 50962763, "body": "I guess this is what you are looking for  <a href=\"https://www.dartlang.org/articles/event-loop/\" rel=\"nofollow noreferrer\">dartlang.org/articles/event-loop</a>"}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1437298130, "creation_date": 1437298130, "answer_id": 31499773, "question_id": 31497593, "link": "https://stackoverflow.com/questions/31497593/angulardart-view-finishes-loading/31499773#31499773", "title": "AngularDart View finishes loading", "body": "<p>Wrap your code in <code>new Future(() {your code here});</code>. This allows Angular to complete the current thread of execution before your code is executed. </p>\n"}], "owner": {"reputation": 995, "user_id": 2333579, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/ae7f5aa267e7f1eeaaf127330eaf9123?s=128&d=identicon&r=PG", "display_name": "Krtko", "link": "https://stackoverflow.com/users/2333579/krtko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 31499773, "answer_count": 1, "score": 1, "last_activity_date": 1437298130, "creation_date": 1437274830, "question_id": 31497593, "link": "https://stackoverflow.com/questions/31497593/angulardart-view-finishes-loading", "title": "AngularDart View finishes loading", "body": "<p>Hi I am trying to load Google Maps into a div. I have it attach itself to the div on \"<strong>onShadowRoot</strong>\" however the Div is still not properly laid out at that time. Is there another callback/future that is called when the view is full laid out?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["html", "twitter-bootstrap", "dart", "dart-html", "bootjack"], "comments": [{"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1437293297, "post_id": 31496304, "comment_id": 50961695, "body": "@G&#252;nter, I don&#39;t think this should be closed,  If we keep it as <code>Marked as Duplicate</code>, that&#39;s fine.  It&#39;s kind of difficult to find what you&#39;re looking for if you weren&#39;t aware of the sanitiser now sitting in appendHtml as well."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1437294922, "post_id": 31496304, "comment_id": 50962052, "body": "This question stays visible and is listed in search results. I think this is what you asked for."}, {"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1437299707, "post_id": 31496304, "comment_id": 50963034, "body": "Perfect! This should save somebody else from freaking out - pushed this into production last night only realising at 1am that the all the button dropdowns are completely broken without knowing which commit over the last two weeks could be breaking it, what change has caused the problem, did dart 1.11.1 break it, did the latest html library break it, did bootjack break it, did dquery break it, etc. Relieved that it&#39;s a simple fix."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1437299962, "post_id": 31496304, "comment_id": 50963109, "body": "It was supposed to work this way from the beginning, but there was an oversight that <code>appenedHtml()</code> didn&#39;t sanitize like the other methods that allowed to add HTML. This was fixed recently in dart:html."}], "owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "closed_date": 1437291784, "answer_count": 0, "score": 2, "last_activity_date": 1437292403, "creation_date": 1437259719, "last_edit_date": 1437292403, "question_id": 31496304, "link": "https://stackoverflow.com/questions/31496304/dart-removing-disallowed-attribute-killing-my-dropdown-buttons", "closed_reason": "Duplicate", "title": "Dart - Removing disallowed attribute - killing my dropdown buttons", "body": "<p>Any idea what this is?</p>\n\n<p><img src=\"https://i.stack.imgur.com/zsjig.png\" alt=\"enter image description here\"></p>\n\n<p>After upgrading Dart to 1.11.1, I get these when loading HTML via Dart</p>\n\n<pre><code>void loadHtml(String component, String div, function) {\n\n    // get today's date to be used for cache busting\n    DateTime today = new DateTime.now();\n    String cachebuster = today.year.toString() + today.month.toString() + today.day.toString() + today.hour.toString();\n\n    // load html into page\n    HttpRequest.getString(\"html/\" + component + \".html?\" + cachebuster).then((html) {\n        querySelector(div).children.clear();\n        querySelector(div).appendHtml(html);\n\n        function();\n    }).catchError((exception) {\n        showErrorMessage(\"Error Loading HTML: \" + exception.toString());\n    }).whenComplete(() {\n        // wire calendar elements\n        for (Element elem in $('[class~=\"calendar\"]')) {\n            Calendar.wire(elem);\n        }\n\n    });\n\n}\n</code></pre>\n\n<p>This split button works 100% when I put it onto my index.html, it used to work if it was in an html file which I loaded with the above code.</p>\n\n<pre><code>&lt;div class=\"btn-group\"&gt;\n    &lt;button type=\"button\" class=\"btn btn-danger\"&gt;Action&lt;/button&gt;\n    &lt;button type=\"button\" class=\"btn btn-danger dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\"\n            aria-expanded=\"false\"&gt;\n        &lt;span class=\"caret\"&gt;&lt;/span&gt;\n        &lt;span class=\"sr-only\"&gt;Toggle Dropdown&lt;/span&gt;\n    &lt;/button&gt;\n    &lt;ul class=\"dropdown-menu\"&gt;\n        &lt;li&gt;&lt;a href=\"#\"&gt;Action&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\"#\"&gt;Another action&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\"#\"&gt;Something else here&lt;/a&gt;&lt;/li&gt;\n        &lt;li role=\"separator\" class=\"divider\"&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\"#\"&gt;Separated link&lt;/a&gt;&lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Now it seems certain attributes are being stripped out which I require to make my bootstrap elements work.</p>\n\n<p>Any idea on how to fix this?</p>\n\n<p><strong>Update</strong>: Thanks Gunter, it was indeed the sanitizer killing my tags.\nThis fixed it for me:</p>\n\n<pre><code>class MySanitizer implements NodeTreeSanitizer {\n    void sanitizeTree(Node node) {}\n}\n\n...\n\nquerySelector(div).appendHtml(html, treeSanitizer: new MySanitizer());\n</code></pre>\n"}, {"tags": ["dart", "polymer", "dart-polymer", "custom-element"], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1437196575, "last_edit_date": 1495540792, "creation_date": 1437196575, "answer_id": 31488044, "question_id": 31486297, "link": "https://stackoverflow.com/questions/31486297/template-data-binding/31488044#31488044", "title": "Template data binding", "body": "<p>If you have a custom main method in a Polymer.dart application, you need to take care of Polymer initialization yourself.<br>\nSee <a href=\"https://stackoverflow.com/questions/20982489/how-to-implement-a-main-function-in-polymer-apps\">how to implement a main function in polymer apps</a> for more details. </p>\n"}, {"tags": [], "owner": {"reputation": 318, "user_id": 4413773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/lLK8T.png?s=128&g=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/4413773/rafael"}, "is_accepted": true, "score": 0, "last_activity_date": 1463665011, "last_edit_date": 1463665011, "creation_date": 1437222291, "answer_id": 31491136, "question_id": 31486297, "link": "https://stackoverflow.com/questions/31486297/template-data-binding/31491136#31491136", "title": "Template data binding", "body": "<p>I managed to solve the problem. I was using the <code>@Observable</code> tag instead of <code>@observable</code> (notice upper/lowercase letters).</p>\n"}], "owner": {"reputation": 318, "user_id": 4413773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/lLK8T.png?s=128&g=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/4413773/rafael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 31491136, "answer_count": 2, "score": 1, "last_activity_date": 1463665105, "creation_date": 1437176840, "last_edit_date": 1463665105, "question_id": 31486297, "link": "https://stackoverflow.com/questions/31486297/template-data-binding", "title": "Template data binding", "body": "<p>I'm trying to create a custom element with data binding.</p>\n\n<p>Here is my custom element template:</p>\n\n<pre><code>&lt;link rel=\"import\" href=\"packages/paper_elements/paper_shadow.html\"&gt;\n&lt;link rel=\"import\" href=\"packages/polymer/polymer.html\"&gt;\n\n&lt;polymer-element name=\"tweet-element\"&gt;\n\n  &lt;template&gt;\n    &lt;link rel=\"stylesheet\" href=\"tweet_element.css\"&gt;\n\n    &lt;paper-shadow z=\"1\"&gt;\n      &lt;div id=\"header\" horizontal layout&gt;\n        &lt;div id=\"user-image\"&gt;\n          &lt;img _src=\"{{profileImage}}\"&gt;\n        &lt;/div&gt;\n        &lt;div id=\"user-details\" flex&gt;\n          &lt;div horizontal layout&gt;\n            &lt;div id=\"name\"&gt;{{name}}&lt;/div&gt;\n            &lt;div id=\"screen-name\"&gt;(@{{screenName}})&lt;/div&gt;\n          &lt;/div&gt;\n          &lt;div id=\"date-published\"&gt;{{date}}&lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n\n      &lt;div id=\"content\"&gt;\n        &lt;div id=\"text\"&gt;{{text}}&lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/paper-shadow&gt;\n  &lt;/template&gt;\n\n  &lt;script type=\"application/dart\" src=\"twitter.dart\"&gt;&lt;/script&gt;\n\n&lt;/polymer-element&gt;\n</code></pre>\n\n<p><strong>twitter.dart</strong></p>\n\n<pre><code>import 'dart:html';\nimport 'package:polymer/polymer.dart';\nimport 'package:polymer_expressions/polymer_expressions.dart';\n\n@CustomTag('tweet-element')\nclass TweetElement extends PolymerElement {\n  @Observable String profileImage;\n  @Observable String name;\n  @Observable String screenName;\n  @Observable String date;\n  @Observable String text;\n\n  TweetElement.created() : super.created();\n\n  factory TweetElement() =&gt; new Element.tag('tweet-element');\n}\n</code></pre>\n\n<p>This is how I'm creating and adding the elements:</p>\n\n<p><strong>main.dart</strong></p>\n\n<pre><code>import 'dart:html';\nimport 'package:polymer/polymer.dart';\nimport 'package:polymer_expressions/polymer_expressions.dart';\nimport 'twitter.dart';\n\nvoid main() {\n  ...\n\n  var mainContent = querySelector('#main-content');\n  var element;\n  for (var tweet in tweets) {\n    element = new TweetElement();\n    element\n      ..profileImage = tweet.user.profileImage\n      ..name = tweet.user.name\n      ..screenName = tweet.user.screenName\n      ..date = _parseDate(tweet.date)\n      ..text = tweet.text;\n\n    mainContent.children.add(element);\n  }\n}\n</code></pre>\n\n<p>The <code>tweet-element</code> elements and being added to the DOM, but the fields with data binding are blank:</p>\n\n<p><img src=\"https://i.stack.imgur.com/jvVy0.png\" alt=\"Chrome DOM\"></p>\n\n<p>There is no problem with the <code>tweet</code> objects, because I've tried setting the element fields with other Strings and it also didn't work.</p>\n"}, {"tags": ["dart"], "answers": [{"tags": [], "owner": {"reputation": 2335, "user_id": 2085107, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b817ba33a0b19657d45c0713637a138d?s=128&d=identicon&r=PG", "display_name": "gberger", "link": "https://stackoverflow.com/users/2085107/gberger"}, "is_accepted": true, "score": 6, "last_activity_date": 1437174637, "last_edit_date": 1437174637, "creation_date": 1437169609, "answer_id": 31485207, "question_id": 31485187, "link": "https://stackoverflow.com/questions/31485187/initializing-final-fields-from-a-subclass-in-dart/31485207#31485207", "title": "Initializing final fields from a subclass in Dart", "body": "<p>Give the superclass a constructor, and make the subclass call <code>super</code>:</p>\n\n<pre><code>abstract class Par {\n  final int x;\n  Par (int this.x) {}\n}\n\nclass Sub extends Par {\n  Sub(theX) : super(theX)\n}\n</code></pre>\n\n<p>You can make the constructor private like so, because <a href=\"https://www.dartlang.org/docs/dart-up-and-running/ch02.html#important-concepts\" rel=\"nofollow\">methods and fields starting with <code>_</code> are private in Dart</a>:</p>\n\n<pre><code>abstract class Par {\n  final int x;\n  Par._(int this.x) {}\n}\n\nclass Sub extends Par {\n  Sub(theX) : super._(theX)\n}\n</code></pre>\n"}], "owner": {"reputation": 2335, "user_id": 2085107, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b817ba33a0b19657d45c0713637a138d?s=128&d=identicon&r=PG", "display_name": "gberger", "link": "https://stackoverflow.com/users/2085107/gberger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 758, "favorite_count": 0, "accepted_answer_id": 31485207, "answer_count": 1, "score": 5, "last_activity_date": 1437174637, "creation_date": 1437169487, "last_edit_date": 1437174556, "question_id": 31485187, "link": "https://stackoverflow.com/questions/31485187/initializing-final-fields-from-a-subclass-in-dart", "title": "Initializing final fields from a subclass in Dart", "body": "<p>This does not work:</p>\n\n<pre><code>abstract class Par {\n  final int x;\n}\n\nclass Sub extends Par {\n  Sub(theX) {\n    this.x = theX;\n  }\n}\n</code></pre>\n\n<p>I get an error in Par saying x must be initialized:</p>\n\n<pre><code>warning: The final variable 'x' must be initialized\nwarning: 'x' cannot be used as a setter, it is final\n</code></pre>\n"}, {"tags": ["dart", "polymer", "dart-polymer", "custom-element"], "answers": [{"comments": [{"owner": {"reputation": 318, "user_id": 4413773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/lLK8T.png?s=128&g=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/4413773/rafael"}, "edited": false, "score": 0, "creation_date": 1437154018, "post_id": 31480989, "comment_id": 50928018, "body": "Thanks @Gonzalo, but then how do I fill in the template fields (<code>{{user}}</code>, <code>{{text}}</code>, etc.) of <code>tweet_element.html</code> with the <code>tweet</code> data for the new <code>Element.tag(&#39;tweet_element&#39;)</code>?"}, {"owner": {"reputation": 318, "user_id": 4413773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/lLK8T.png?s=128&g=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/4413773/rafael"}, "edited": false, "score": 0, "creation_date": 1437172421, "post_id": 31480989, "comment_id": 50936003, "body": "I&#39;ve added the factory as you mentioned, and even though the elements are now being displayed, the data binding fields are blank. The <code>myTweetElement.&lt;field&gt; = &lt;value&gt;</code> are not working."}, {"owner": {"reputation": 318, "user_id": 4413773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/lLK8T.png?s=128&g=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/4413773/rafael"}, "edited": false, "score": 0, "creation_date": 1437222420, "post_id": 31480989, "comment_id": 50945855, "body": "I managed to solve the data binding issue. I noticed I was using the <code>@Observable</code> tag instead of <code>@observable</code> (please note capitalisation)."}], "tags": [], "owner": {"reputation": 555, "user_id": 3533615, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Q7gs1.png?s=128&g=1", "display_name": "Gonzalo Pezzi", "link": "https://stackoverflow.com/users/3533615/gonzalo-pezzi"}, "is_accepted": true, "score": 1, "last_activity_date": 1437158511, "last_edit_date": 1437158511, "creation_date": 1437152294, "answer_id": 31480989, "question_id": 31479610, "link": "https://stackoverflow.com/questions/31479610/creating-a-custom-polymer-element/31480989#31480989", "title": "Creating a custom Polymer element", "body": "<p>Ralph. </p>\n\n<p>You can do that in two ways: </p>\n\n<p><strong>Option A</strong></p>\n\n<p>If you want to create a Polymer Element in your Dart code, you just have to create that tag this way: </p>\n\n<pre><code>var myTweetElement = new Element.tag ('tweet-element');\nmainContent.childern.add(myTweetElement);\n</code></pre>\n\n<p>Also, check that you have imported the html library: </p>\n\n<pre><code>import 'dart:html';\n</code></pre>\n\n<p><strong>Option B: (the coolest one)</strong></p>\n\n<p>You can do it extra convenient (and more object oriented) by adding this factory to your <strong>twitter.dart</strong>:</p>\n\n<pre><code>factory TweetElement () =&gt; new Element.tag('tweet-element');\n</code></pre>\n\n<p>Then, the creation of the tag in your dart code, is more readable: </p>\n\n<pre><code>var myTweetElement = new TweetElement (); // This uses the factory transparently\nmainContent.children.add(myTweetElement);\n</code></pre>\n\n<p>Additionally, you can set the values of your properties. As those are observable, the bindings will update automagically: </p>\n\n<pre><code>myTweetElement.userImageUrl   = \"foo\"\nmyTweetElement.user           = \"bar\"\nmyTweetElement.datePublished  = \"baz\"\nmyTweetElement.text           = \"qux\"\n</code></pre>\n\n<p>Or if you like the cascade operator, you can write this instead: </p>\n\n<pre><code>myTweetElement..userImageUrl  = \"foo\"\n              ..user          = \"bar\"\n              ..datePublished = \"baz\"\n              ..text          = \"qux\";\n</code></pre>\n\n<p>Hope this helps. </p>\n"}], "owner": {"reputation": 318, "user_id": 4413773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/lLK8T.png?s=128&g=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/4413773/rafael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "accepted_answer_id": 31480989, "answer_count": 1, "score": 1, "last_activity_date": 1463665368, "creation_date": 1437147669, "last_edit_date": 1463665368, "question_id": 31479610, "link": "https://stackoverflow.com/questions/31479610/creating-a-custom-polymer-element", "title": "Creating a custom Polymer element", "body": "<p>I'm trying to create a custom Polymer element that extends <code>paper-shadow</code> to display a Tweet.</p>\n\n<p>Here is my implementation:</p>\n\n<p><strong>tweet_element.html</strong></p>\n\n<pre><code>&lt;link rel=\"import\" href=\"packages/paper_elements/paper_shadow.html\"&gt;\n&lt;link rel=\"import\" href=\"packages/polymer/polymer.html\"&gt;\n&lt;link rel=\"stylesheet\" href=\"tweet_element.css\"&gt;\n\n&lt;polymer-element name=\"tweet-element\" extends=\"paper-shadow\"&gt;\n\n  &lt;template&gt;\n    &lt;div id=\"header\"&gt;\n      &lt;div id=\"user-image\"&gt;\n        &lt;img src=\"{{userImageUrl}}\"&gt;\n      &lt;/div&gt;\n      &lt;div id=\"details\"&gt;\n        &lt;div id=\"user\"&gt;{{user}}&lt;/div&gt;\n        &lt;div id=\"date-published\"&gt;{{datePublished}}&lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div id=\"content\"&gt;\n      &lt;div id=\"text\"&gt;{{text}}&lt;/div&gt;\n      &lt;div id=\"photos\"&gt;{{photos}}&lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/template&gt;\n\n  &lt;script type=\"application/dart\" src=\"twitter.dart\"&gt;&lt;/script&gt;\n\n&lt;/polymer-element&gt;\n</code></pre>\n\n<p><strong>twitter.dart</strong></p>\n\n<pre><code>import 'package:polymer/polymer.dart';\n\n@CustomTag('tweet-element')\nclass TweetElement extends PolymerElement {\n  @Observable String userImageUrl;\n  @Observable String user;\n  @Observable String datePublished;\n  @Observable String text;\n\n  TweetElement.created() : super.created();\n\n  void update(Tweet tweet) {\n    userImageUrl = tweet.user.profileImage;\n    user = '${tweet.user.name} (@${tweet.user.screenName})';\n    datePublished = _parseDate(tweet.date);\n    text = tweet.text;\n  }\n\n  ...    \n\n}\n</code></pre>\n\n<p>And finally the code that creates a TweetElement and tries to add it to the DOM:</p>\n\n<pre><code>import 'dart:html';\nimport 'package:polymer/polymer.dart';\nimport 'twitter.dart';\n\n...\n\nvar mainContent = querySelector('#main-content');\nvar element;\nfor (var tweet in tweets) {\n  element = new TweetElement.created();\n  element.update(tweet);\n  mainContent.children.add(element);\n}\n</code></pre>\n\n<p>And when I run this I get:</p>\n\n<pre><code>Exception: Uncaught Error: created called outside of custom element creation.\n</code></pre>\n\n<p>So then I tried to change <strong>twitter.dart</strong> to:</p>\n\n<pre><code>TweetElement.created() : super.created();\n\nTweetElement (Tweet tweet) {\n  TweetElement.created();\n  userImageUrl = tweet.user.profileImage;\n  user = '${tweet.user.name} (@${tweet.user.screenName})';\n  datePublished = _parseDate(tweet.date);\n  text = tweet.text;\n}\n</code></pre>\n\n<p>And add the element to the DOM like this:</p>\n\n<pre><code>var mainContent = querySelector('#main-content');\nvar element;\nfor (var tweet in tweets) {\n  element = new TweetElement(tweet);\n  mainContent.children.add(element);\n}\n</code></pre>\n\n<p>And now I got this error:</p>\n\n<pre><code>Internal error: unresolved implicit call to super constructor 'PolymerElement()' TweetElement (Tweet tweet) {\n</code></pre>\n"}, {"tags": ["dart", "dart-polymer"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1437385865, "post_id": 31470347, "comment_id": 50988407, "body": "Can you please add some code and/or a screenshot that demonstrates your problem?"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 5126401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04818488985a91c1ca2d3ea36257d50d?s=128&d=identicon&r=PG&f=1", "display_name": "Javier Esteban", "link": "https://stackoverflow.com/users/5126401/javier-esteban"}, "edited": false, "score": 0, "creation_date": 1437994580, "post_id": 31513416, "comment_id": 51247681, "body": "Hi, scrollIntoView() works great, and it has onlyScrollIfneeded by default. But the problem goes on, because my page fits the screen and it doesn&#39;t have a scroll to scroll into. I found tricks to detect if virtualkeyboards pops difficult to implement, and I still find that insert a big White div to force scroll to appear is a bit sloppy....."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 25, "user_id": 5126401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04818488985a91c1ca2d3ea36257d50d?s=128&d=identicon&r=PG&f=1", "display_name": "Javier Esteban", "link": "https://stackoverflow.com/users/5126401/javier-esteban"}, "edited": false, "score": 0, "creation_date": 1437994818, "post_id": 31513416, "comment_id": 51247816, "body": "Glad to hear :) If this answer solves your problem please mark the question as answered by clicking on the white check mark left to the answer (below the up/down-vote buttons)"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 25, "user_id": 5126401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04818488985a91c1ca2d3ea36257d50d?s=128&d=identicon&r=PG&f=1", "display_name": "Javier Esteban", "link": "https://stackoverflow.com/users/5126401/javier-esteban"}, "edited": false, "score": 0, "creation_date": 1437995021, "post_id": 31513416, "comment_id": 51247946, "body": "I see. I guess I won&#39;t be able to provide a better answer. If it doesn&#39;t solve your problem then it&#39;s of course better for the question to stay unanswered so other might make an attempt."}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1437385842, "last_edit_date": 1495540694, "creation_date": 1437385842, "answer_id": 31513416, "question_id": 31470347, "link": "https://stackoverflow.com/questions/31470347/how-to-web-app-dart-polymer-mobile-virtual-keyboard-hide-input-field/31513416#31513416", "title": "How to: web app dart polymer mobile virtual keyboard hide input field", "body": "<p>Maybe <code>scrollIntoView()</code> is what you are looking for.<br>\nI guess you need to get notified about the opening of the virtual keyboard to know when you need to scroll.\nHere are some ideas how to achieve that <a href=\"https://stackoverflow.com/questions/2593139\">iPad Web App: Detect Virtual Keyboard Using JavaScript in Safari?</a></p>\n"}], "owner": {"reputation": 25, "user_id": 5126401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04818488985a91c1ca2d3ea36257d50d?s=128&d=identicon&r=PG&f=1", "display_name": "Javier Esteban", "link": "https://stackoverflow.com/users/5126401/javier-esteban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 248, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1437385842, "creation_date": 1437117456, "last_edit_date": 1437385005, "question_id": 31470347, "link": "https://stackoverflow.com/questions/31470347/how-to-web-app-dart-polymer-mobile-virtual-keyboard-hide-input-field", "title": "How to: web app dart polymer mobile virtual keyboard hide input field", "body": "<p>I'm noob with Dart and Polymer, I want to develop a web app for mobile devices.\nMy problems is that input fields at the bottom of the page are hidden by the virtual keyboard, and you can't see what you are writing.</p>\n\n<p>I have seen some solutions for other \"frameworks\", but nothing related with Dart or Polymer, maybe there is a shorthand that I don't know...</p>\n\n<p>I've thought to create a large empty tag in the bottom of the page and to make it visible, when focus is over the input, but I think it's a bit sloppy....</p>\n\n<p>thanks in Advance</p>\n"}, {"tags": ["eclipse", "dart", "server", "dart-pub"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1437106319, "post_id": 31468205, "comment_id": 50902522, "body": "Can you please add all error output from the console window to your question?"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1437108909, "post_id": 31468205, "comment_id": 50903065, "body": "I  hoped there was more information. Can you please run <code>pub serve --verbose</code> from the command line from your project directory and add the output?  What Dart version are you using?"}, {"owner": {"reputation": 1867, "user_id": 4246507, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-60iIVEjx5uM/AAAAAAAAAAI/AAAAAAAAAmk/i8kG4IB1his/photo.jpg?sz=128", "display_name": "Pham Minh Tan", "link": "https://stackoverflow.com/users/4246507/pham-minh-tan"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1437109604, "post_id": 31468205, "comment_id": 50903246, "body": "I&#39;m using Dart version 1.11.1"}, {"owner": {"reputation": 1867, "user_id": 4246507, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-60iIVEjx5uM/AAAAAAAAAAI/AAAAAAAAAmk/i8kG4IB1his/photo.jpg?sz=128", "display_name": "Pham Minh Tan", "link": "https://stackoverflow.com/users/4246507/pham-minh-tan"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1437109730, "post_id": 31468205, "comment_id": 50903276, "body": "And here all log when i run pub serve --verbose:  <a href=\"https://docs.google.com/document/d/1R4-0_fQ8APUqljMP8WfCjxKFvpF_7UTtan9di48K6E0/edit?usp=sharing\" rel=\"nofollow noreferrer\">docs.google.com/document/d/&hellip;</a>"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1437109980, "post_id": 31468205, "comment_id": 50903340, "body": "Do this barback and html5lib files exist in your <code>packages</code> subdirectory. Did you run <code>pub get</code> or <code>pub upgrade</code>?"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1437122625, "post_id": 31468205, "comment_id": 50908843, "body": "What does this mean? After <code>pub get</code>/<code>pub upgrade</code>? Have you checked if the files mentioned in the <code>pub serve --verbose</code> log actually exist ( <code>packages&#47;barback&#47;barback.dart</code>, <code>packages&#47;html5lib&#47;dom.dart</code>, <code>&#47;packages&#47;html5lib&#47;parser.dart</code>)? You can also try <code>pub cache repair</code>."}, {"owner": {"reputation": 1867, "user_id": 4246507, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-60iIVEjx5uM/AAAAAAAAAAI/AAAAAAAAAmk/i8kG4IB1his/photo.jpg?sz=128", "display_name": "Pham Minh Tan", "link": "https://stackoverflow.com/users/4246507/pham-minh-tan"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1437125356, "post_id": 31468205, "comment_id": 50910460, "body": "I try to run command &lt;code&gt;pub cache repair&lt;/code&gt;. It re download all pub package. Then i open my eclipse, run my project and it can run again. But my project explorer show like this: <a href=\"http://imgur.com/JZGgSn6\" rel=\"nofollow noreferrer\">imgur.com/JZGgSn6</a>. Can i remove all this package? Anyway, thanks you for your support. :)"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1437125821, "post_id": 31468205, "comment_id": 50910739, "body": "This looks fine, why do you want to remove the packages? You still get the error &quot;Could Not Start Pub Server Or Connect To Pub&quot;?"}, {"owner": {"reputation": 1867, "user_id": 4246507, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-60iIVEjx5uM/AAAAAAAAAAI/AAAAAAAAAmk/i8kG4IB1his/photo.jpg?sz=128", "display_name": "Pham Minh Tan", "link": "https://stackoverflow.com/users/4246507/pham-minh-tan"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1437193584, "post_id": 31468205, "comment_id": 50939894, "body": "Thanks, i don&#39;t have any error when run my project. But it make not clean on my project explorer. :)"}], "answers": [{"comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1477157209, "post_id": 40194489, "comment_id": 67655795, "body": "Next time you can give <code>pub cache repair</code> a try before you delete the cache. Occasionally purging the cache doesn&#39;t hurt though."}, {"owner": {"reputation": 197, "user_id": 1763134, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0b67f1b12c9849df49dd577535fd3acf?s=128&d=identicon&r=PG", "display_name": "Dan Pisarski", "link": "https://stackoverflow.com/users/1763134/dan-pisarski"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1480839585, "post_id": 40194489, "comment_id": 69122939, "body": "Didn&#39;t know about <code>cache repair</code> until recently, but agreed its easier!"}], "tags": [], "owner": {"reputation": 197, "user_id": 1763134, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0b67f1b12c9849df49dd577535fd3acf?s=128&d=identicon&r=PG", "display_name": "Dan Pisarski", "link": "https://stackoverflow.com/users/1763134/dan-pisarski"}, "is_accepted": false, "score": 1, "last_activity_date": 1477154047, "creation_date": 1477154047, "answer_id": 40194489, "question_id": 31468205, "link": "https://stackoverflow.com/questions/31468205/could-not-start-pub-server-or-connect-to-pub/40194489#40194489", "title": "Could Not Start Pub Server Or Connect To Pub", "body": "<p>While I realize this question was from a year ago, I did run into the same issue just recently, and found I had to manually delete the entire pub cache - as if the cache had become corrupted.</p>\n\n<p>I just <code>cd</code> over to the pub cache dir and deleted everything, so a new <code>pub get</code> would re-get it all.</p>\n\n<p>At least on mac, the pub cache dir is <code>~/.pub-cache/hosted/pub.dartlang.org/</code>.</p>\n"}], "owner": {"reputation": 1867, "user_id": 4246507, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-60iIVEjx5uM/AAAAAAAAAAI/AAAAAAAAAmk/i8kG4IB1his/photo.jpg?sz=128", "display_name": "Pham Minh Tan", "link": "https://stackoverflow.com/users/4246507/pham-minh-tan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1477154047, "creation_date": 1437105717, "last_edit_date": 1437107908, "question_id": 31468205, "link": "https://stackoverflow.com/questions/31468205/could-not-start-pub-server-or-connect-to-pub", "title": "Could Not Start Pub Server Or Connect To Pub", "body": "<p>I have installed Dart Environment for Eclipse, and i've done some simple project. But today, i create new Dart project and start with it. But it show error:</p>\n\n<p><img src=\"https://i.stack.imgur.com/m2g2z.png\" alt=\"Error\"></p>\n\n<p>I try to run my old projects. But it make same error like this.</p>\n\n<pre><code>Unhandled exception: Load Error for \"package:barback/barback.dart\":\nFailure getting http://localhost:52437/packages/barback/barback.dart: \n404 Not Found\n#0      _asyncLoadErrorCallback (dart:_builtin:116)\n#1      _asyncLoadError (dart:_builtin:348)\n#2      _handleLoaderReply (dart:_builtin:292)\n#3      _RawReceivePortImpl._handleMessage (dart:isolate-patch/isolate_patch.dart:148)\ndart:isolate-patch/isolate_patch.dart 357  Isolate._spawnUri\ndart:isolate-patch/isolate_patch.dart 313  Isolate.spawnUri\npackage:pub/src/dart.dart 215              _isolateBuffer\ndart:isolate-patch/isolate_patch.dart 264  _startIsolate.&lt;fn&gt;\ndart:isolate-patch/isolate_patch.dart 148 \n_RawReceivePortImpl._handleMessage\n</code></pre>\n\n<p>How can i sovle it? Thanks.</p>\n"}, {"tags": ["dart", "redstone.dart"], "answers": [{"tags": [], "owner": {"reputation": 111, "user_id": 3782377, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rO4WYimcIgU/AAAAAAAAAAI/AAAAAAAAFx8/r3jF-LszzoE/photo.jpg?sz=128", "display_name": "Arfie", "link": "https://stackoverflow.com/users/3782377/arfie"}, "is_accepted": false, "score": 0, "last_activity_date": 1519759561, "creation_date": 1519759561, "answer_id": 49016476, "question_id": 31461638, "link": "https://stackoverflow.com/questions/31461638/how-do-i-redirect-http-request-to-https-in-redstone/49016476#49016476", "title": "How do I redirect http request to https in Redstone?", "body": "<p>You need to return the result of <code>app.redirect</code>:</p>\n\n<pre><code>return app.redirect(httpsUrl);\n</code></pre>\n\n<p>This is different than in Express, as Express uses a response object to write headers and content to while Redstone uses a return value.</p>\n"}], "owner": {"reputation": 619, "user_id": 1836074, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9dd1fdc133b979bd4d979ae3efe5a110?s=128&d=identicon&r=PG&f=1", "display_name": "kzhdev", "link": "https://stackoverflow.com/users/1836074/kzhdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1519759561, "creation_date": 1437070511, "last_edit_date": 1437143450, "question_id": 31461638, "link": "https://stackoverflow.com/questions/31461638/how-do-i-redirect-http-request-to-https-in-redstone", "title": "How do I redirect http request to https in Redstone?", "body": "<p>In expressjs, I can do </p>\n\n<pre><code>app.use(function(req, res, next) {\n    if((!req.secure) &amp;&amp; (req.get('X-Forwarded-Proto') !== 'https')) {\n        res.redirect('https://' + req.get('Host') + req.url);\n        console.log('redirected http request to https');\n    } else {\n        next();\n    }\n});\n</code></pre>\n\n<p>to redirect http request to https.</p>\n\n<p>How do I do it in readstone?</p>\n\n<p>I tried following, it does not work.</p>\n\n<pre><code>@app.Route('/')\nadlMain() {\n  if (app.request.requestedUri.scheme != 'https') {\n    var httpsUrl = app.request.requestedUri.replace(scheme:   'https').toString();\n    app.redirect(httpsUrl);\n  }\n  return new File('build/web/index.html');\n}\n</code></pre>\n"}, {"tags": ["dart", "angular-dart"], "answers": [{"comments": [{"owner": {"reputation": 419, "user_id": 2803987, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8kbRL.png?s=128&g=1", "display_name": "patrykf", "link": "https://stackoverflow.com/users/2803987/patrykf"}, "edited": false, "score": 1, "creation_date": 1437133099, "post_id": 31460134, "comment_id": 50914882, "body": "This actually works for selecting input with InputElement.select(). Somehow putting this on the end of event queue seems to be just right even though the approach seems weird. The Duration needs to be just 0 or negative number cause we just need to put on the end of the event queue. +1"}, {"owner": {"reputation": 576, "user_id": 5685762, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0989ddfa79e368846a0bb4f1a1ef6ab6?s=128&d=identicon&r=PG&f=1", "display_name": "J F", "link": "https://stackoverflow.com/users/5685762/j-f"}, "edited": false, "score": 0, "creation_date": 1497104544, "post_id": 31460134, "comment_id": 75944335, "body": "This helped me a lot. Just to point out a small typo, a parenthesis is missing after 50."}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 3, "last_activity_date": 1497110322, "last_edit_date": 1497110322, "creation_date": 1437065384, "answer_id": 31460134, "question_id": 31459728, "link": "https://stackoverflow.com/questions/31459728/how-to-set-focus-for-element-on-page-load/31460134#31460134", "title": "How to set focus for element on page load?", "body": "<p>Some delay should help</p>\n\n<pre><code>new Future.delayed(const Duration(milliseconds: 50), () =&gt; element.focus());\n</code></pre>\n"}], "owner": {"reputation": 419, "user_id": 2803987, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8kbRL.png?s=128&g=1", "display_name": "patrykf", "link": "https://stackoverflow.com/users/2803987/patrykf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1148, "favorite_count": 0, "accepted_answer_id": 31460134, "answer_count": 1, "score": 2, "last_activity_date": 1497110322, "creation_date": 1437064157, "question_id": 31459728, "link": "https://stackoverflow.com/questions/31459728/how-to-set-focus-for-element-on-page-load", "title": "How to set focus for element on page load?", "body": "<p>I am new to AngularDart and I want to focus the first input on page (with my attribute from decorator) but I can't figure out how to do this. This is my decorator:</p>\n\n<pre><code>import 'dart:html' as html;\nimport 'dart:async';\nimport 'package:angular/angular.dart';\n\n@Decorator(selector: '[autofocus]')\nclass InputFocus implements AttachAware {\n    final html.InputElement element;\n\n    InputFocus(html.Element this.element) {\n        element.onFocus.listen((_) =&gt; print('element focused'));\n    }\n\n    @Override\n    attach() {\n        element.focus();\n    }\n}\n</code></pre>\n\n<p>When I click on the element the message is printed so the element is the on I am looking for. Somehow the element isn't focused on attach cause the message isn't printed when I reload the page. How can I achieve my goal? Maybe there is another approach to reach the element when the DOM is rendered?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["dart", "dart-async"], "comments": [{"owner": {"reputation": 51074, "user_id": 634863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198449a7e196c4b0f2ed25f65279bf84?s=128&d=identicon&r=PG", "display_name": "Alexandre Ardhuin", "link": "https://stackoverflow.com/users/634863/alexandre-ardhuin"}, "edited": false, "score": 1, "creation_date": 1437032231, "post_id": 31447967, "comment_id": 50864363, "body": "Is it the same result across multiple runs ? If it is you should <a href=\"http://dartbug.com\" rel=\"nofollow noreferrer\">file an issue</a>."}, {"owner": {"reputation": 618, "user_id": 1437087, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2d384be52d249aa4873d7ca58f13617f?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/1437087/mike"}, "edited": false, "score": 1, "creation_date": 1437032345, "post_id": 31447967, "comment_id": 50864427, "body": "how exactly do you measure running times?"}, {"owner": {"reputation": 933, "user_id": 828709, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/450a41fbcc0c2eb69be0f207c0d0d070?s=128&d=identicon&r=PG", "display_name": "Brandon Duffany", "link": "https://stackoverflow.com/users/828709/brandon-duffany"}, "edited": false, "score": 0, "creation_date": 1437035296, "post_id": 31447967, "comment_id": 50866084, "body": "Hmm... it must be an anomaly. I&#39;m trying again now, and I can&#39;t seem to reproduce it. Now, both versions are very slow :/"}, {"owner": {"reputation": 75233, "user_id": 123471, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/t75zo.jpg?s=128&g=1", "display_name": "Seth Ladd", "link": "https://stackoverflow.com/users/123471/seth-ladd"}, "edited": false, "score": 0, "creation_date": 1437061735, "post_id": 31447967, "comment_id": 50884630, "body": "Do you control the SERVICE? If so, print out the timing from the SERVICE side, to eliminate possibility it&#39;s the server. I can&#39;t reproduce the problem, and we&#39;ve never heard of this issue before. Try this with a known fast web site, like google.com and see if await is still an issue for you"}, {"owner": {"reputation": 933, "user_id": 828709, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/450a41fbcc0c2eb69be0f207c0d0d070?s=128&d=identicon&r=PG", "display_name": "Brandon Duffany", "link": "https://stackoverflow.com/users/828709/brandon-duffany"}, "edited": false, "score": 0, "creation_date": 1437108868, "post_id": 31447967, "comment_id": 50903056, "body": "Hi Seth, it&#39;s definitely not the server -- as it turns out, the problem seems to be with Chrome/Dartium rather than Dart. I&#39;m using window.performance.now() to measure the time; IE/FireFox are both taking roughly 150 ms, but in Chrome and Dartium it&#39;s taking around 20,000 ms. Do you know if this could have anything to do with the fact that I&#39;m making a cross-site call? The Dart code is running via <code>pub serve</code> (localhost:63342) and the backend is a simple Flask app (localhost:5000). If nothing comes to mind I&#39;ll try to get a smaller repro and file a bug."}, {"owner": {"reputation": 933, "user_id": 828709, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/450a41fbcc0c2eb69be0f207c0d0d070?s=128&d=identicon&r=PG", "display_name": "Brandon Duffany", "link": "https://stackoverflow.com/users/828709/brandon-duffany"}, "edited": false, "score": 0, "creation_date": 1437110581, "post_id": 31447967, "comment_id": 50903498, "body": "It looks like it may have been an issue with the server taking longer to fulfill Chrome requests than IE requests, but somehow the issue magically fixed itself by me adding <code>threaded=True</code> to my Flask app&#39;s args..."}], "owner": {"reputation": 933, "user_id": 828709, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/450a41fbcc0c2eb69be0f207c0d0d070?s=128&d=identicon&r=PG", "display_name": "Brandon Duffany", "link": "https://stackoverflow.com/users/828709/brandon-duffany"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 225, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1437033820, "creation_date": 1437031849, "last_edit_date": 1437033820, "question_id": 31447967, "link": "https://stackoverflow.com/questions/31447967/dart-await-extremely-slow-with-httprequest", "title": "Dart await extremely slow with HttpRequest", "body": "<p>Say I have an endpoint (I'll call it <code>SERVICE</code>) that returns a simple JSON string. In Dart, the following code is consistently very fast; it runs in less than a second:</p>\n\n<p><code>main() =&gt; HttpRequest.getString(SERVICE).then(print);</code></p>\n\n<p>However, this code is consistently about 10 times slower:</p>\n\n<p><code>main() async =&gt; print(await HttpRequest.getString(SERVICE));</code></p>\n\n<p>Why is this so much slower? Am I doing something wrong here?</p>\n\n<p>If it matters, I'm testing this in Dartium using the simple \"bare bones web application\" example in WebStorm, and I get the same behavior in Chrome.</p>\n"}]