[{"tags": ["encoding", "dart", "ascii", "asciiencoding"], "answers": [{"comments": [{"owner": {"reputation": 691, "user_id": 1948319, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f91e39ee3ef6d5f506417c3c2461a00a?s=128&d=identicon&r=PG", "display_name": "Adracus", "link": "https://stackoverflow.com/users/1948319/adracus"}, "edited": false, "score": 0, "creation_date": 1420722195, "post_id": 27840763, "comment_id": 44085089, "body": "Thanks, I should have put more clearly that I just wanted the ruby ASCII-8-Bit representation (I know ASCII is default 7-Bit). But thanks a lot, that&#39;s the encoding I&#39;m looking for!"}, {"owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "reply_to_user": {"reputation": 691, "user_id": 1948319, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f91e39ee3ef6d5f506417c3c2461a00a?s=128&d=identicon&r=PG", "display_name": "Adracus", "link": "https://stackoverflow.com/users/1948319/adracus"}, "edited": false, "score": 0, "creation_date": 1420723019, "post_id": 27840763, "comment_id": 44085652, "body": "Ah, yes, found a reference for Ruby ASCII-8BIT. It&#39;s basically binary data with no interpretation of the top 128 characters (they are just numbers). To make that a Unicode string, you need to pick an interpretation of those bytes, and LATIN-1 is the simplest an often the correct one for that (The byte 0xa5 represents the Unicode character U+00a5, so it&#39;s extremely simple)."}], "tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": true, "score": 2, "last_activity_date": 1445521693, "last_edit_date": 1445521693, "creation_date": 1420722039, "answer_id": 27840763, "question_id": 27827516, "link": "https://stackoverflow.com/questions/27827516/ascii-8-bit-encoding-for-dart/27840763#27840763", "title": "ASCII-8-BIT encoding for Dart", "body": "<p>ASCII only has 128 characters (<a href=\"http://en.wikipedia.org/wiki/ASCII\" rel=\"nofollow\">http://en.wikipedia.org/wiki/ASCII</a>). There is no 8-bit ASCII.</p>\n\n<p>There are lots of different extensions of ASCII that use the top 128 characters of a byte as well, sometimes called \"code pages\". The most common (at least in English languaged settings) are Latin-1 and Windows-1252.</p>\n\n<p>For what you are doing, you probably want the <code>LATIN1</code> codec from \"dart:convert\".</p>\n"}], "owner": {"reputation": 691, "user_id": 1948319, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f91e39ee3ef6d5f506417c3c2461a00a?s=128&d=identicon&r=PG", "display_name": "Adracus", "link": "https://stackoverflow.com/users/1948319/adracus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 673, "favorite_count": 0, "accepted_answer_id": 27840763, "answer_count": 1, "score": 1, "last_activity_date": 1445521693, "creation_date": 1420660303, "question_id": 27827516, "link": "https://stackoverflow.com/questions/27827516/ascii-8-bit-encoding-for-dart", "title": "ASCII-8-BIT encoding for Dart", "body": "<p>As I am porting an RSA library from ruby to Dart, I have get the corresponding ASCII-8-BIT value of an integer. Dart only has ASCII with representations from 0 to 127, so how can I get the other 128 characters?</p>\n"}, {"tags": ["web", "three.js", "dart", "webgl", "dart-html"], "answers": [{"comments": [{"owner": {"reputation": 1233, "user_id": 1825619, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/tGD7c.jpg?s=128&g=1", "display_name": "orb", "link": "https://stackoverflow.com/users/1825619/orb"}, "edited": false, "score": 0, "creation_date": 1420643175, "post_id": 27814683, "comment_id": 44050361, "body": "Thanks for the guidance. I am trying to find this bool field so I can set it. it is at least not readily available on the RenderingContext or CanvasElement through ctrl-space. Digging deeper . . ."}, {"owner": {"reputation": 82151, "user_id": 128511, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/KwGaJ.png?s=128&g=1", "display_name": "gman", "link": "https://stackoverflow.com/users/128511/gman"}, "reply_to_user": {"reputation": 1233, "user_id": 1825619, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/tGD7c.jpg?s=128&g=1", "display_name": "orb", "link": "https://stackoverflow.com/users/1825619/orb"}, "edited": false, "score": 1, "creation_date": 1420649942, "post_id": 27814683, "comment_id": 44054909, "body": "Like it says in the answer, it&#39;s something you pass in to <code>getContext</code> when you create the <code>WebGLRenderingContext</code>. It&#39;s not something you can set later."}], "tags": [], "owner": {"reputation": 82151, "user_id": 128511, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/KwGaJ.png?s=128&g=1", "display_name": "gman", "link": "https://stackoverflow.com/users/128511/gman"}, "is_accepted": true, "score": 3, "last_activity_date": 1420616880, "last_edit_date": 1592644375, "creation_date": 1420616880, "answer_id": 27814683, "question_id": 27812153, "link": "https://stackoverflow.com/questions/27812153/why-is-renderingcontext-drawelements-clearing-the-screen-before-it-draws/27814683#27814683", "title": "Why is RenderingContext.drawElements clearing the screen before it draws?", "body": "<p>WebGL <em>effectively</em> clears the screen after the page has been composited. When you're stepping through stuff one line at a time it's going to be composited every time you stop.</p>\n<p>If you don't want it to be cleared ask for <code>preserveDrawingBuffer: true</code> when you create the WebGL context as in</p>\n<pre><code>gl = someCanvas.getContext(&quot;webgl&quot;, { preserveDrawingBuffer: true });\n</code></pre>\n<p>As for why, <a href=\"https://www.khronos.org/registry/webgl/specs/latest/1.0/#2.2\" rel=\"nofollow noreferrer\">from the spec</a></p>\n<blockquote>\n<p>While it is sometimes desirable to preserve the drawing buffer, it can cause significant performance loss on some platforms. Whenever possible this flag should remain false and other techniques used. Techniques like synchronous drawing buffer access (e.g., calling readPixels or toDataURL in the same function that renders to the drawing buffer) can be used to get the contents of the drawing buffer. If the author needs to render to the same drawing buffer over a series of calls, a Framebuffer Object can be used.</p>\n<p>Implementations may optimize away the required implicit clear operation of the Drawing Buffer as long as a guarantee can be made that the author cannot gain access to buffer contents from another process. For instance, if the author performs an explicit clear then the implicit clear is not needed.</p>\n</blockquote>\n<p>The TL;DR version is <code>preserveDrawingBuffer: false</code> (the default) allows WebGL to swap buffers when compositing (that doesn't mean it will swap buffers but it can if it chooses to). <code>preserveDrawingBuffer: true</code> means it can't swap buffers, it must copy buffers. Copying is much slower than swapping.</p>\n"}], "owner": {"reputation": 1233, "user_id": 1825619, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/tGD7c.jpg?s=128&g=1", "display_name": "orb", "link": "https://stackoverflow.com/users/1825619/orb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 0, "accepted_answer_id": 27814683, "answer_count": 1, "score": 2, "last_activity_date": 1420616880, "creation_date": 1420602695, "last_edit_date": 1420608181, "question_id": 27812153, "link": "https://stackoverflow.com/questions/27812153/why-is-renderingcontext-drawelements-clearing-the-screen-before-it-draws", "title": "Why is RenderingContext.drawElements clearing the screen before it draws?", "body": "<p>Is RenderingContext.drawElements correct when it clears the screen before it draws?</p>\n\n<p>Consider these screenshots that show a step across a call to drawElements with the object already drawn being erased.</p>\n\n<p><img src=\"https://i.stack.imgur.com/zZVG1.png\" alt=\"enter image description here\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/Qfbrv.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["dart", "polymer", "dart-polymer"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1420607302, "post_id": 27810704, "comment_id": 44032874, "body": "Can you please add the code for est-list as well?"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1420627381, "post_id": 27810704, "comment_id": 44041154, "body": "Have you tried to add the <code>&lt;!DOCTYPE html&gt;</code> to your component?"}, {"owner": {"reputation": 131, "user_id": 3142123, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/98b813c94d39394221bd44b00237548a?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Fontana", "link": "https://stackoverflow.com/users/3142123/joe-fontana"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1420640071, "post_id": 27810704, "comment_id": 44048364, "body": "Hello Gunter - it appears that my issue was caused by my Dartium Binary expiring in my Dart Editor (I missed the 12 week limit on the Dartium Binary).  Might it make sense for the Dart Editor to throw an error if you attempt to run Dartium on an expired Binary?  Thank you for your help, Joe"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1420640301, "post_id": 27810704, "comment_id": 44048504, "body": "There is an open issue AFAIK to show an expiration message. Didn&#39;t DartEditor notify about available updates?"}, {"owner": {"reputation": 131, "user_id": 3142123, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/98b813c94d39394221bd44b00237548a?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Fontana", "link": "https://stackoverflow.com/users/3142123/joe-fontana"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1420640818, "post_id": 27810704, "comment_id": 44048833, "body": "No it did not but my Preferences to &quot;Download updates automatically &quot; was not checked (shouldn&#39;t that be the default at installation?).  I have now enabled this setting so I should be good moving forward."}], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 0, "last_activity_date": 1420718467, "last_edit_date": 1420718467, "creation_date": 1420640487, "answer_id": 27821518, "question_id": 27810704, "link": "https://stackoverflow.com/questions/27810704/polymer-dart-custom-element-not-executing/27821518#27821518", "title": "Polymer Dart Custom Element not executing", "body": "<p>As mentioned in the comment, \nthis is caused by an expired Dartium.</p>\n\n<p>Sadly it doesn't show a message to tell about it.\nStar this open issue <a href=\"http://dartbug.com/18560\" rel=\"nofollow\">http://dartbug.com/18560</a> for updates.</p>\n"}], "owner": {"reputation": 131, "user_id": 3142123, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/98b813c94d39394221bd44b00237548a?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Fontana", "link": "https://stackoverflow.com/users/3142123/joe-fontana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "accepted_answer_id": 27821518, "answer_count": 1, "score": 1, "last_activity_date": 1420718467, "creation_date": 1420598738, "last_edit_date": 1420627690, "question_id": 27810704, "link": "https://stackoverflow.com/questions/27810704/polymer-dart-custom-element-not-executing", "title": "Polymer Dart Custom Element not executing", "body": "<p>It appears that my Polymer Dart custom elements that were once working now stopped firing.  Dartium displays in localhost the h1 tag but not my custom elements.  </p>\n\n<p>The only Dart Editor error/warning I get is:</p>\n\n<pre><code>\"(from html5lib) Unexpected start tag (link). Expected DOCTYPE. See http://goo.gl/5HPeuP#polymer_40 for details.\"  \n</code></pre>\n\n<p>This warning message appears on every</p>\n\n<pre><code> &lt;link rel=\"import\" href=\"packages/polymer/polymer.html\"&gt;\n</code></pre>\n\n<p>but as best I can see this is a known issue which should not impede application execution.</p>\n\n<p>My troubleshooting efforts to date include:\n- Running pub cache repair from command line\n- Manually deleting package cache directory and running pub get again.\n- Downloading and running polymer-and-dart-codelab-master.zip (I get the same behavior)</p>\n\n<p>How can I diagnose this issue?</p>\n\n<p><strong>Pubspec.yaml contents:</strong></p>\n\n<pre><code>name: mpower\ndescription: Sample app built with the polymer.dart package\nenvironment:\n  sdk: '&gt;=1.2.0 &lt;2.0.0'\ndependencies:\n  polymer: '&gt;=0.15.1 &lt;0.16.0'\ndev_dependencies:\n  unittest: '&gt;=0.10.0 &lt;0.11.0'\ntransformers:\n- polymer:\n    entry_points:\n    - web/index.html\n</code></pre>\n\n<p><strong>Index.html Contents:</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n    &lt;title&gt;Mosaic mPower&lt;/title&gt;\n    &lt;link rel=\"import\" href=\"est_list.html\"&gt;\n    &lt;link rel=\"stylesheet\" href=\"app.css\"&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;h1&gt;Mosaic mPower&lt;/h1&gt;\n    &lt;est-list&gt;&lt;/est-list&gt;\n    &lt;script type=\"application/dart\"&gt;export 'package:polymer/init.dart';&lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>est-list.html</strong></p>\n\n<pre><code>&lt;link rel=\"import\" href=\"packages/polymer/polymer.html\"&gt;\n&lt;link rel=\"import\" href=\"est_form.html\"&gt;\n&lt;link rel=\"import\" href=\"est_element.html\"&gt;\n\n&lt;polymer-element name=\"est-list\"&gt;\n  &lt;template&gt;\n    &lt;style&gt;\n     select {\n       margin-bottom: 30px;\n       display: inline;\n       padding: 6px 12px;\n       font-size: 14px;\n       line-height: 1.42857143;\n       color: #555;\n       background-color: #fff;\n       background-image: none;\n       border: 1px solid #ccc;\n       border-radius: 2px;\n       -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075);\n       box-shadow: inset 0 1px 1px rgba(0,0,0,.075);\n       -webkit-transition: border-color ease-in-out .15s,box-shadow ease-in-out .15s;\n       transition: border-color ease-in-out .15s,box-shadow ease-in-out .15s;\n     }\n   &lt;/style&gt;\n   &lt;div&gt;\n     &lt;label&gt;Filter: &lt;/label&gt;\n     &lt;select value=\"{{filterValue}}\" on-change=\"{{filter}}\"&gt;\n       &lt;option template repeat=\"{{filter in filters}}\"&gt;\n         {{filter}}\n       &lt;/option&gt;\n     &lt;/select&gt;\n   &lt;/div&gt;\n   &lt;div on-estvalidated=\"{{addEst}}\"\n        on-formnotneeded=\"{{resetForm}}\"&gt;\n     &lt;est-form est=\"{{newEst}}\"&gt;&lt;/est-form&gt;\n   &lt;/div&gt;\n   &lt;div on-deleteest=\"{{deleteEst}}\"\n        on-levelchanged=\"{{filter}}\"&gt;\n     &lt;template repeat=\"{{est in filteredEsts}}\"&gt;\n       &lt;est-element est=\"{{est}}\"&gt;&lt;/est-element&gt;\n     &lt;/template&gt;\n   &lt;/div&gt;\n &lt;/template&gt;\n &lt;script type=\"application/dart\" src=\"est_list.dart\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p></p>\n\n<p><strong>est-list.dart</strong></p>\n\n<pre><code>import 'package:polymer/polymer.dart';\nimport 'model.dart' show Est;\nimport 'dart:html' show Event, Node;\n\n/*\n * Class to represent a collectionon-est of Est objects.\n */\n@CustomTag('est-list')\nclass EstList extends PolymerElement {\n  static const ALL = \"all\";\n  /*\n   * Field for a new Est object.\n   */\n  @observable Est newEst = new Est();\n\n  /*\n   * Collection of ests. The source of truth for all ests in this app.\n   */\n  @observable List&lt;Est&gt; ests = toObservable([]);\n\n  /*\n   * Sets the new est form to default to the intermediate level.\n   */\n  String get defaultCustomer =&gt; Est.CUSTOMERS[0];\n\n  /*\n   * List of filter values. Includes the levels defined in the model, as well\n   * as a filter to return all ests.\n   */\n  final List&lt;String&gt; filters = [ALL]..addAll(Est.CUSTOMERS);\n\n  /*\n   * String that stores the value used to filter ests.\n   */\n  @observable String filterValue = ALL;\n\n  /*\n   * The list of filtered ests.\n   */\n  @observable List&lt;Est&gt; filteredEsts = toObservable([]);\n\n  /*\n   * Named constructor. Sets initial value of filtered ests and sets\n   * the new est's customer to the default.\n   */\n  EstList.created() : super.created() {\n    filteredEsts = ests;\n    newEst.customer = defaultCustomer;\n  }\n\n  /*\n   * Replaces the existing new Est, causing the new est form to reset.\n   */\n  resetForm() {\n    newEst = new Est();\n    newEst.customer = defaultCustomer;\n  }\n\n  /*\n   * Adds a est to the ests list and resets the new est form. This\n   * triggers estsChanged().\n   */\n  addEst(Event e, var detail, Node sender) {\n    e.preventDefault();\n    ests.add(detail['est']);\n    resetForm();\n  }\n\n  /*\n   * Removes a est from the ests list. This triggers estsChanged().\n   */\n  deleteEst(Event e, var detail, Node sender) {\n    var est = detail['est'];\n    ests.remove(est);\n  }\n\n  /*\n   * Calculates the ests to display when using a filter.\n   */\n  filter() {\n    if (filterValue == ALL) {\n      filteredEsts = ests;\n      return;\n    }\n    filteredEsts = ests.where((est) {\n      return est.customer == filterValue;\n    }).toList();\n  }\n\n  /*\n   * Refreshes the filtered ests list every time the ests list changes.\n   */\n  estsChanged() {\n    filter();\n  }\n}\n</code></pre>\n"}, {"tags": ["dart"], "answers": [{"comments": [{"owner": {"reputation": 1854, "user_id": 858061, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/e4oUG.jpg?s=128&g=1", "display_name": "Michael Fenwick", "link": "https://stackoverflow.com/users/858061/michael-fenwick"}, "edited": false, "score": 1, "creation_date": 1420593438, "post_id": 27809811, "comment_id": 44028809, "body": "Perfect. I was searching so hard for something analogous to <a href=\"https://api.dartlang.org/apidocs/channels/stable/dartdoc-viewer/dart:html.HttpRequest#id_responseText\" rel=\"nofollow noreferrer\">HttpRequest.responseText</a> that I completely overlooked that the HttpClientResponse is a Stream. Quick secondary question though, is there any reason you&#39;re using a StringBuffer and StreamTransformer rather than decoding the result from a BytesBuilder?"}, {"owner": {"reputation": 876, "user_id": 3803297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dad7d85f68e92113f1fc2e145522d0d7?s=128&d=identicon&r=PG&f=1", "display_name": "luizmineo", "link": "https://stackoverflow.com/users/3803297/luizmineo"}, "reply_to_user": {"reputation": 1854, "user_id": 858061, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/e4oUG.jpg?s=128&g=1", "display_name": "Michael Fenwick", "link": "https://stackoverflow.com/users/858061/michael-fenwick"}, "edited": false, "score": 0, "creation_date": 1420626633, "post_id": 27809811, "comment_id": 44040725, "body": "There is no specific reason. I just improved the example available in the docs: <a href=\"https://api.dartlang.org/apidocs/channels/stable/dartdoc-viewer/dart:io.HttpClientResponse\" rel=\"nofollow noreferrer\">api.dartlang.org/apidocs/channels/stable/dartdoc-viewer/&hellip;</a>. Maybe you can achieve a better performance with a BytesBuilder"}, {"owner": {"reputation": 1388, "user_id": 683982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a178d98faf33ed9d5fc8348b0c03733?s=128&d=identicon&r=PG", "display_name": "Mathieu J.", "link": "https://stackoverflow.com/users/683982/mathieu-j"}, "edited": false, "score": 0, "creation_date": 1530365897, "post_id": 27809811, "comment_id": 89217038, "body": "this is so confusing, I started from this example and also the other ones found in the documentation. I&#39;m stuck with a Future object at best, I can&#39;t get it out of the scope into a simple String var. I am able to read the response body within the <code>.then((String body) =&gt; print(body)</code>. but I can&#39;t pass that content outside of that scope.   ``` String _get_response_body(String url) sync* {   String out;   http.get(url).then((response) {     print(&quot; status: ${response.statusCode}&quot;);     print(&quot; body: ${response.body}&quot;);     out = readResponse(response);   });    return out; }"}, {"owner": {"reputation": 272, "user_id": 7632627, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3942b9e47279d89e341385d9a0ca0098?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Jone", "link": "https://stackoverflow.com/users/7632627/alex-jone"}, "edited": false, "score": 0, "creation_date": 1550883742, "post_id": 27809811, "comment_id": 96448901, "body": "what package do i import? i imported <code>dart:convert</code> but it isn&#39;t working"}, {"owner": {"reputation": 379, "user_id": 2558977, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/59c60f17aeced26ed6dd5175206e9762?s=128&d=identicon&r=PG", "display_name": "effy", "link": "https://stackoverflow.com/users/2558977/effy"}, "edited": false, "score": 0, "creation_date": 1562339068, "post_id": 27809811, "comment_id": 100355584, "body": "This is now broken with the latest dart version, not sure which exactly but I ran flutter upgrade and the above code now has these errors: <code>The argument type &#39;Utf8Decoder&#39; can&#39;t be assigned to the parameter type &#39;StreamTransformer&lt;Uint8List, dynamic&gt;&#39;.</code> for the transform parameter &amp; <code>The argument type &#39;Null Function(String)&#39; can&#39;t be assigned to the parameter type &#39;void Function(dynamic)&#39;.</code> for the listen parameter."}, {"owner": {"reputation": 379, "user_id": 2558977, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/59c60f17aeced26ed6dd5175206e9762?s=128&d=identicon&r=PG", "display_name": "effy", "link": "https://stackoverflow.com/users/2558977/effy"}, "edited": false, "score": 0, "creation_date": 1562339277, "post_id": 27809811, "comment_id": 100355688, "body": "I actually just found a solution in this <a href=\"https://github.com/dart-lang/co19/issues/383\" rel=\"nofollow noreferrer\">post</a>, casting the stream to a <code>List&lt;int&gt;</code> before the transform reverts the breaking change (<code>.cast&lt;List&lt;int&gt;&gt;()</code> right before calling <code>.tranform(...)</code>)."}, {"owner": {"reputation": 55, "user_id": 4494931, "user_type": "registered", "profile_image": "https://graph.facebook.com/812759889/picture?type=large", "display_name": "Alois", "link": "https://stackoverflow.com/users/4494931/alois"}, "edited": false, "score": 0, "creation_date": 1575969286, "post_id": 27809811, "comment_id": 104735570, "body": "I would suggest to add error catching :    <code>dart var completer = Completer();     var contents = StringBuffer();     response.transform(utf8.decoder).listen(       (data) =&gt; contents.write(data),       onDone: () =&gt; completer.complete(contents.toString()),       onError: (e) =&gt; completer.completeError(e),     );     return completer.future; </code>"}, {"owner": {"reputation": 548, "user_id": 1939589, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8e8c2dde1f7bb043b56a67466c03eaa7?s=128&d=identicon&r=PG", "display_name": "focode", "link": "https://stackoverflow.com/users/1939589/focode"}, "edited": false, "score": 0, "creation_date": 1578127891, "post_id": 27809811, "comment_id": 105344225, "body": "For me it is giving error: A value of type &#39;Future can&#39;t be returned from method &#39;readResponse&#39; because it has a return type of &#39;Future&lt;String&gt;&#39;."}, {"owner": {"reputation": 1832, "user_id": 3321579, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8507b1ffc84187a23597ae23ad773458?s=128&d=identicon&r=PG&f=1", "display_name": "Scorb", "link": "https://stackoverflow.com/users/3321579/scorb"}, "edited": false, "score": 3, "creation_date": 1578456788, "post_id": 27809811, "comment_id": 105440657, "body": "How could just reading the body of an Http response be so ugly? Dart is soooo bad."}, {"owner": {"reputation": 529, "user_id": 6147174, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/V3rxL.jpg?s=128&g=1", "display_name": "Wecherowski", "link": "https://stackoverflow.com/users/6147174/wecherowski"}, "reply_to_user": {"reputation": 1832, "user_id": 3321579, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8507b1ffc84187a23597ae23ad773458?s=128&d=identicon&r=PG&f=1", "display_name": "Scorb", "link": "https://stackoverflow.com/users/3321579/scorb"}, "edited": false, "score": 0, "creation_date": 1599721412, "post_id": 27809811, "comment_id": 112862123, "body": "@ScottF well this is dart&#39;s low-level API for IO operations. They also have a high-level API for HTTP: <a href=\"https://pub.dev/packages/http\" rel=\"nofollow noreferrer\">pub.dev/packages/http</a>"}], "tags": [], "owner": {"reputation": 876, "user_id": 3803297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dad7d85f68e92113f1fc2e145522d0d7?s=128&d=identicon&r=PG&f=1", "display_name": "luizmineo", "link": "https://stackoverflow.com/users/3803297/luizmineo"}, "is_accepted": true, "score": 22, "last_activity_date": 1590841754, "last_edit_date": 1590841754, "creation_date": 1420591959, "answer_id": 27809811, "question_id": 27808848, "link": "https://stackoverflow.com/questions/27808848/retrieving-the-response-body-from-an-httpclientresponse/27809811#27809811", "title": "Retrieving the response body from an HttpClientResponse", "body": "<p>The <code>HttpClientResponse</code> object is a <code>Stream</code>, so you can just read it with the <code>listen()</code> method:</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>response.listen((List&lt;int&gt; data) {\n  //data as bytes\n});\n</code></pre>\n\n<p>You can also use the codecs from <code>dart:convert</code> to parse the data. The following example reads the response contents to a String:</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:io';\nimport 'dart:convert';\nimport 'dart:async';\n\nFuture&lt;String&gt; readResponse(HttpClientResponse response) {\n  final completer = Completer&lt;String&gt;();\n  final contents = StringBuffer();\n  response.transform(utf8.decoder).listen((data) {\n    contents.write(data);\n  }, onDone: () =&gt; completer.complete(contents.toString()));\n  return completer.future;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 358195, "user_id": 3681880, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3b7ad8915f552cd4e23caf38eee10030?s=128&d=identicon&r=PG", "display_name": "Suragch", "link": "https://stackoverflow.com/users/3681880/suragch"}, "is_accepted": false, "score": 4, "last_activity_date": 1609486935, "creation_date": 1609486935, "answer_id": 65528037, "question_id": 27808848, "link": "https://stackoverflow.com/questions/27808848/retrieving-the-response-body-from-an-httpclientresponse/65528037#65528037", "title": "Retrieving the response body from an HttpClientResponse", "body": "<h2>Low level</h2>\n<p>Here is the <code>await for</code> version of collecting the response stream. It's a little more compact than using a completer.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>Future&lt;String&gt; readResponse(HttpClientResponse response) async {\n  final contents = StringBuffer();\n  await for (var data in response.transform(utf8.decoder)) {\n    contents.write(data);\n  }\n  return contents.toString();\n}\n</code></pre>\n<p>You should wrap it in a <code>try catch</code> block to handle errors.</p>\n<h2>High level</h2>\n<p>Most of the time from the client side you would use the <a href=\"https://pub.dev/packages/http\" rel=\"nofollow noreferrer\"><code>http</code></a> library instead:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>// import 'package:http/http.dart';\n\nResponse response = await get(url);\nString content = response.body;\n</code></pre>\n<p>See <a href=\"https://medium.com/swlh/how-to-make-http-requests-in-flutter-d12e98ee1cef\" rel=\"nofollow noreferrer\">this article</a> for more details.</p>\n"}], "owner": {"reputation": 1854, "user_id": 858061, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/e4oUG.jpg?s=128&g=1", "display_name": "Michael Fenwick", "link": "https://stackoverflow.com/users/858061/michael-fenwick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10493, "favorite_count": 3, "accepted_answer_id": 27809811, "answer_count": 2, "score": 12, "last_activity_date": 1609486935, "creation_date": 1420585819, "question_id": 27808848, "link": "https://stackoverflow.com/questions/27808848/retrieving-the-response-body-from-an-httpclientresponse", "title": "Retrieving the response body from an HttpClientResponse", "body": "<p>I'm trying to write some tests for my Dart server application, and I've been using the HttpClient class (along with the related HttpClientRequest and HttpClientResponse classes to make test requests to the server (note that I'm using these classes because I need the dart:io package for running the server, so I can't also import dart:html). This has been going fairly well so far, and I've been able to write tests to check that the server is returning responses with the correct HTTP Status code. The base of the code I've been using to make these test calls is as follows:</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>Future&lt;HttpClientResponse&gt; makeServerRequest(String method, Uri uri, [String jsonData]) async {\n  HttpClient client = new HttpClient();\n  HttpClientRequest request = await client.openUrl(method, uri);\n  request.write(jsonData);\n  return request.close();\n}\n</code></pre>\n\n<p>Now I need to write a test that makes sure that the body of the response, not just the status code, is correct. The problem is that I can't seem to find anything that allows me to actually access the response body in the HttpClient* classes. The closest I've been able to find so far is the <a href=\"https://api.dartlang.org/apidocs/channels/stable/dartdoc-viewer/dart:io.HttpClientResponse#id_contentLength\" rel=\"noreferrer\">HttpClientResponse.contentLength</a> property, but that only tells me how big the response body is, and isn't the actual content.</p>\n\n<p>How do I retrieve the response body from these requests? Or, if you aren't able to, is there some other way I can make the requests on a server side application so I can read the responses?</p>\n"}, {"tags": ["responsive-design", "dart"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1420555769, "post_id": 27800556, "comment_id": 44010794, "body": "This is not really a Dart question. I guess you can increase your chances for getting a good answer by adding other labels like CSS or JavaScript. If you know how to do it in JS it&#39;s probably the same or similar in Dart."}, {"owner": {"reputation": 2701, "user_id": 2796096, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/fa077ab8de7c792c5be8a2e5e207a58d?s=128&d=identicon&r=PG", "display_name": "G&#233;rald Reinhart", "link": "https://stackoverflow.com/users/2796096/g%c3%a9rald-reinhart"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1420556066, "post_id": 27800556, "comment_id": 44010950, "body": "There are some answers on the Javascript side. I just wanted to do it in pure Dart if possible."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1420556182, "post_id": 27800556, "comment_id": 44011018, "body": "You could add the JS code to your question or at least link to the code that shows what you try to accomplish."}], "answers": [{"comments": [{"owner": {"reputation": 2701, "user_id": 2796096, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/fa077ab8de7c792c5be8a2e5e207a58d?s=128&d=identicon&r=PG", "display_name": "G&#233;rald Reinhart", "link": "https://stackoverflow.com/users/2796096/g%c3%a9rald-reinhart"}, "edited": false, "score": 0, "creation_date": 1422044573, "post_id": 27801631, "comment_id": 44610220, "body": "<a href=\"https://api.dartlang.org/apidocs/channels/be/dartdoc-viewer/dart:html.Window#id_devicePixelRatio\" rel=\"nofollow noreferrer\">api.dartlang.org/apidocs/channels/be/dartdoc-viewer/&hellip;</a> : window.devicePixelRatio do you know this one ? For the moment, it&#39;s always a null value but it can be a starting point."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 2701, "user_id": 2796096, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/fa077ab8de7c792c5be8a2e5e207a58d?s=128&d=identicon&r=PG", "display_name": "G&#233;rald Reinhart", "link": "https://stackoverflow.com/users/2796096/g%c3%a9rald-reinhart"}, "edited": false, "score": 0, "creation_date": 1422051201, "post_id": 27801631, "comment_id": 44613431, "body": "Also only relative information <a href=\"http://stackoverflow.com/questions/8785643/what-exactly-is-device-pixel-ratio\" title=\"what exactly is device pixel ratio\">stackoverflow.com/questions/8785643/&hellip;</a>"}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 2, "last_activity_date": 1420557532, "creation_date": 1420557532, "answer_id": 27801631, "question_id": 27800556, "link": "https://stackoverflow.com/questions/27800556/how-can-we-get-the-real-size-of-the-screen-in-inches-with-dart/27801631#27801631", "title": "How can we get the real size of the screen in inches with Dart?", "body": "<p>If you can't do it in JavaScript you can't do it in Dart neither. This is not a Dart limitation but a browser limitation. If the browser API doesn't provide this information you are out of luck. </p>\n"}, {"comments": [{"owner": {"reputation": 2701, "user_id": 2796096, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/fa077ab8de7c792c5be8a2e5e207a58d?s=128&d=identicon&r=PG", "display_name": "G&#233;rald Reinhart", "link": "https://stackoverflow.com/users/2796096/g%c3%a9rald-reinhart"}, "edited": false, "score": 0, "creation_date": 1420574966, "post_id": 27804090, "comment_id": 44021754, "body": "a small mobile can have a very good resolution so the fact that width/height is high do not tell you that the real screen is big.  for a small screen you need big button so that the user can actually reach them with its finger."}], "tags": [], "owner": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "is_accepted": false, "score": 1, "last_activity_date": 1420565920, "creation_date": 1420565920, "answer_id": 27804090, "question_id": 27800556, "link": "https://stackoverflow.com/questions/27800556/how-can-we-get-the-real-size-of-the-screen-in-inches-with-dart/27804090#27804090", "title": "How can we get the real size of the screen in inches with Dart?", "body": "<p>You can't get the real screen size because there are no information provided to you that could give you about he physical size.</p>\n\n<p>What's wrong about using pixel width/height and scaling up according to them?</p>\n"}], "owner": {"reputation": 2701, "user_id": 2796096, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/fa077ab8de7c792c5be8a2e5e207a58d?s=128&d=identicon&r=PG", "display_name": "G&#233;rald Reinhart", "link": "https://stackoverflow.com/users/2796096/g%c3%a9rald-reinhart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1420565920, "creation_date": 1420553795, "last_edit_date": 1495540256, "question_id": 27800556, "link": "https://stackoverflow.com/questions/27800556/how-can-we-get-the-real-size-of-the-screen-in-inches-with-dart", "title": "How can we get the real size of the screen in inches with Dart?", "body": "<ul>\n<li>window.innerHeight</li>\n<li>window.innerWidth</li>\n</ul>\n\n<p>gives you the size of the window  in \"CSS pixel\" not in real ones. </p>\n\n<p>To develop a responsive application we need to know the real size of the screen to adapt the behavior of the application. </p>\n\n<p><a href=\"https://stackoverflow.com/questions/21680629/getting-the-physical-screen-dimensions-dpi-pixel-density-in-chrome-on-androi\">The solution in the Javascript world doesn't seem good enough</a> </p>\n\n<p>How can we do that properly in Dart? </p>\n"}, {"tags": ["dart"], "comments": [{"owner": {"reputation": 4416, "user_id": 1224362, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/75a56d666b124dd741a2cfc0ff6ab9bb?s=128&d=identicon&r=PG&f=1", "display_name": "JAre", "link": "https://stackoverflow.com/users/1224362/jare"}, "edited": false, "score": 0, "creation_date": 1420543406, "post_id": 27795991, "comment_id": 44003789, "body": "Mmmm... Testing? <a href=\"https://github.com/dart-lang/bleeding_edge/blob/80988a506bdf74d2e87bf0d7e1211d035c2e5624/dart/tests/corelib/iterable_single_test.dart\" rel=\"nofollow noreferrer\">github.com/dart-lang/bleeding_edge/blob/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4364647"}, "edited": false, "score": 0, "creation_date": 1420545121, "post_id": 27797622, "comment_id": 44004629, "body": "Thank you very much! It&#39;s very easy to understand. I had overlooked that it works as a shorthand for asserting extracted records."}], "tags": [], "owner": {"reputation": 11019, "user_id": 218902, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/781dc509669c9f620df00e8a9cc5769d?s=128&d=identicon&r=PG", "display_name": "Fox32", "link": "https://stackoverflow.com/users/218902/fox32"}, "is_accepted": true, "score": 5, "last_activity_date": 1420545059, "last_edit_date": 1420545059, "creation_date": 1420543450, "answer_id": 27797622, "question_id": 27795991, "link": "https://stackoverflow.com/questions/27795991/what-is-the-main-purpose-of-list-single-property/27797622#27797622", "title": "What is the main purpose of List.single property?", "body": "<p>You can use <a href=\"https://api.dartlang.org/apidocs/channels/stable/dartdoc-viewer/dart:core.Iterable#id_single\" rel=\"nofollow\"><code>single</code></a> in case you expect an <code>Iterable</code> to only contain one element. Here is a real world example:\nWe have database connection that has <code>query</code> method to execute a SQL queries. The method returns the rows affected by the query. Now consider a query where you only expect exactly one line to be affected:</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>var row = databaseConnection.query('SELECT * FROM xyz WHERE id=5').single;\n</code></pre>\n\n<p>This gives a short way of failing in case no or more then one line are affected. Sure, one could also write:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>var rows = databaseConnection.query('SELECT * FROM xyz WHERE id=5');\n\nif (rows.length != 1) {\n  throw new StateError('Something is wrong');\n}\n\nvar row = rows.first;\n</code></pre>\n\n<p>But this is much longer. Alternatively you may want to <code>assert</code>.</p>\n\n<p>As <code>List</code> implements <code>Iterable</code>, it also contains <code>single</code>. The <a href=\"https://api.dartlang.org/apidocs/channels/stable/dartdoc-viewer/dart:async.Stream#id_single\" rel=\"nofollow\"><code>single</code></a> getter is also useful for streams, if you expect exactly one element. Consider the same example as a <code>Stream</code> of rows:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>databaseConnection.query('SELECT * FROM xyz WHERE id=5').single.then((row) {\n  print('Process the row');\n});\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4364647"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 1, "accepted_answer_id": 27797622, "answer_count": 1, "score": 6, "last_activity_date": 1420545059, "creation_date": 1420537649, "question_id": 27795991, "link": "https://stackoverflow.com/questions/27795991/what-is-the-main-purpose-of-list-single-property", "title": "What is the main purpose of List.single property?", "body": "<p>Some days ago, I noticed that Dart's List class has the <code>single</code> property. Then, I read an official API document, and understood how this property works. This mean I know that <code>List.single</code> works as follows:</p>\n\n<pre><code>print(['a'].single);     // outputs 'a'\nprint(['a', 'b'].single) // throws StateError\n</code></pre>\n\n<p>But I cannot find any practical use case of the <code>single</code> property. Childish codes showed above make no sense in actual programming, of course.</p>\n\n<p>What is the purpose of the property? Why does this property throw an Exception if a List contains two or more elements? Why is it not a boolean property which stands for whether a List has only single element? How do Dart Language developers think it is useful to include <code>List.single</code> in the core API?</p>\n\n<p>If you have any knowledge about this, I would appreciate it very much if you give me a hand.</p>\n"}, {"tags": ["asynchronous", "dart"], "comments": [{"owner": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "edited": false, "score": 2, "creation_date": 1420518808, "post_id": 27791631, "comment_id": 43993827, "body": "You can handle these errors with <a href=\"https://www.dartlang.org/articles/zones/\" rel=\"nofollow noreferrer\">zones</a>, and there are plans to add a isolate top-level error handler, but I don&#39;t think this is implemented yet."}, {"owner": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "edited": false, "score": 0, "creation_date": 1420519072, "post_id": 27791631, "comment_id": 43993889, "body": "<a href=\"https://api.dartlang.org/apidocs/channels/stable/dartdoc-viewer/dart:isolate.Isolate#id_addErrorListener\" rel=\"nofollow noreferrer\">api.dartlang.org/apidocs/channels/stable/dartdoc-viewer/&hellip;</a>"}, {"owner": {"reputation": 2939, "user_id": 652220, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/B3Bm7.png?s=128&g=1", "display_name": "Argenti Apparatus", "link": "https://stackoverflow.com/users/652220/argenti-apparatus"}, "edited": false, "score": 0, "creation_date": 1420556507, "post_id": 27791631, "comment_id": 44011247, "body": "Functions or class methods in properly implemented libraries would explicitly be synchronous or asynchronous, with only functions that really need to be asynchronous being so - just as library functions are now, returning a Future if they are asynchronous. I have not used this syntax yet but I assume editors will flag an error when they detect await/async mismatches."}], "answers": [{"tags": [], "owner": {"reputation": 51074, "user_id": 634863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198449a7e196c4b0f2ed25f65279bf84?s=128&d=identicon&r=PG", "display_name": "Alexandre Ardhuin", "link": "https://stackoverflow.com/users/634863/alexandre-ardhuin"}, "is_accepted": false, "score": 1, "last_activity_date": 1420619090, "last_edit_date": 1495540013, "creation_date": 1420532470, "answer_id": 27794678, "question_id": 27791631, "link": "https://stackoverflow.com/questions/27791631/dart-errors-in-multi-level-asynchronous-code/27794678#27794678", "title": "Dart Errors in multi-level asynchronous code", "body": "<p>Like <a href=\"https://stackoverflow.com/questions/27791631/dart-errors-in-multi-level-asynchronous-code#comment43993827_27791631\">Greg pointed in its comment</a> you can use <a href=\"https://www.dartlang.org/articles/zones/\" rel=\"nofollow noreferrer\">Zones</a> to catch unexpected errors from async code.</p>\n"}, {"tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": true, "score": 11, "last_activity_date": 1420619302, "creation_date": 1420619302, "answer_id": 27815206, "question_id": 27791631, "link": "https://stackoverflow.com/questions/27791631/dart-errors-in-multi-level-asynchronous-code/27815206#27815206", "title": "Dart Errors in multi-level asynchronous code", "body": "<p>\nUncaught asynchronous errors are handled to the current zone's error handler.\nWhat you are seeing is the root-zone's error handler reporting the error as uncaught, which also terminates the isolate.</p>\n\n<p>What you want is to introduce a different error handler for your code, by running it through <code>runZoned</code> with an error handler:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import \"dart:async\";\nmain() {\n  runZoned(() async {\n    try {\n      print(\"trying\");\n      await doSomething();\n      print(\"success\");\n    } catch (e) {\n      print(\"caught\");\n    }\n  }, onError: (e, s) {\n    print(\"uncaught\");\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 1854, "user_id": 858061, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/e4oUG.jpg?s=128&g=1", "display_name": "Michael Fenwick", "link": "https://stackoverflow.com/users/858061/michael-fenwick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1438, "favorite_count": 1, "accepted_answer_id": 27815206, "answer_count": 2, "score": 12, "last_activity_date": 1420619302, "creation_date": 1420514762, "last_edit_date": 1420515458, "question_id": 27791631, "link": "https://stackoverflow.com/questions/27791631/dart-errors-in-multi-level-asynchronous-code", "title": "Dart Errors in multi-level asynchronous code", "body": "<p>Consider the following code</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:async';\n\nFuture main() async {\n  try {\n    print(\"trying\");\n    await doSomething();\n    print(\"success\");\n  } catch (e) {\n    print(\"caught\");\n  }\n}\n\nFuture&lt;int&gt; doSomething() async {\n  await doSomethingElse();\n  return 5;\n}\n\nFuture&lt;int&gt; doSomethingElse() async {\n  throw new Exception();\n}\n</code></pre>\n\n<p>When run, the exception thrown in <code>doSomethingElse()</code> is caught up in <code>main()</code>, and everything works as expected. But, say the person who wrote the <code>doSomething()</code> method didn't realize that <code>doSomethingElse()</code> was asynchronous, and instead wrote the follow (note the missing <code>await</code>).</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Future&lt;int&gt; doSomething() async {\n  doSomethingElse();\n  return 5;\n}\n</code></pre>\n\n<p>Now the exception isn't caught at all. Rather, the output now looks like this:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>trying\nsuccess\nUnhandled exception:\nUncaught Error: Exception\nStack Trace:\n#0      doSomethingElse.&lt;doSomethingElse_async_body&gt; (file:///C:/code/test.dart:19:7)\n#1      Future.Future.&lt;anonymous closure&gt; (dart:async/future.dart:118)\n&lt;snip&gt;\n</code></pre>\n\n<p>What's happening is that <code>doSomething()</code> is returning immediately, and then sometime later, in another context, <code>doSomethingElse()</code> is throwing its error, stopping all execution immediately. I know that an answer to this might be \"Well, don't do that then.\" but I'm considering cases where I might not have control over the methods I'm calling (say if they are part of a library).</p>\n\n<p>This situation leads to a couple of related questions:</p>\n\n<ul>\n<li>As the author of <code>main()</code>, is there any way I can be certain that my call to <code>doSomething()</code> won't end with an unhandled exception? Or am I dependent on the author of <code>doSomething()</code> to make sure all possible exceptions are handled or propagated to the returned Future? Is there a way to attach some sort of global error handler that can catch errors from abandoned Futures?</li>\n<li>As the author of <code>doSomething()</code>, if I don't want to wait on <code>doSomethingElse()</code> (say it writes to a log for example, so I neither need the output nor do I need to worry about handling errors). Is there anything I can do to prevent errors in <code>doSomethingElse()</code> from halting the program other than wrapping every call of it a try/catch block (which can be cumbersome an easily overlooked)?</li>\n<li>As the author of <code>doSomethingElse()</code>, is there some pattern I can use which allows me to throw Exceptions in a way that callers who wait for the Future to complete can handle that Exception themselves whereas callers that don't wait for the Future don't have to worry about catching the Exception? My best thought in that regard is to return a special object rather than throwing an Exception, but that adds a lot of extra cruft and makes the method much harder use.</li>\n</ul>\n\n<p>Note: I'm using async/await syntax here, but the question should be equally relevant for a more strictly Future based construction (where you return a new Future in <code>doSomething()</code> instead of <code>.then()</code>ing off the one from <code>doSomethingElse()</code></p>\n"}, {"tags": ["dart"], "comments": [{"owner": {"reputation": 17217, "user_id": 1240320, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3ff7ec4e8d7aebe239763aa235cd6d14?s=128&d=identicon&r=PG", "display_name": "Pixel Elephant", "link": "https://stackoverflow.com/users/1240320/pixel-elephant"}, "edited": false, "score": 1, "creation_date": 1420506917, "post_id": 27789435, "comment_id": 43991046, "body": "Interestingly enough, it used to be a factory constructor new DateTime.fromString() and was explicitly changed to the static parse that we have now: <a href=\"https://github.com/dart-lang/bleeding_edge/commit/6d96912d9b618259d4e2310c2a302f85f807310f\" rel=\"nofollow noreferrer\">github.com/dart-lang/bleeding_edge/commit/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 6413, "user_id": 997251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZqLx3.jpg?s=128&g=1", "display_name": "Florian Loitsch", "link": "https://stackoverflow.com/users/997251/florian-loitsch"}, "is_accepted": true, "score": 5, "last_activity_date": 1420533256, "creation_date": 1420533256, "answer_id": 27794860, "question_id": 27789435, "link": "https://stackoverflow.com/questions/27789435/why-is-darts-datetime-parse-not-a-factory-constructor/27794860#27794860", "title": "Why is Dart&#39;s Datetime.parse not a factory constructor?", "body": "<p>More explanation for the same change for Uri.parse: <a href=\"http://permalink.gmane.org/gmane.comp.lang.dart.general/17081\">http://permalink.gmane.org/gmane.comp.lang.dart.general/17081</a></p>\n\n<blockquote>\n  <p>\"parse\" is special. The question is: do you see parsing as an\n  operation that does something and ends up giving you the result, or do\n  you see the string as data to construct a new element. If you see it\n  as the earlier, then \"parse\" should be a static function. If you see\n  the string as the data, then it should be a named constructor.</p>\n</blockquote>\n\n<p>And then, of course, there is consistency.</p>\n"}], "owner": {"reputation": 1854, "user_id": 858061, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/e4oUG.jpg?s=128&g=1", "display_name": "Michael Fenwick", "link": "https://stackoverflow.com/users/858061/michael-fenwick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 0, "accepted_answer_id": 27794860, "answer_count": 1, "score": 4, "last_activity_date": 1420533256, "creation_date": 1420498972, "question_id": 27789435, "link": "https://stackoverflow.com/questions/27789435/why-is-darts-datetime-parse-not-a-factory-constructor", "title": "Why is Dart&#39;s Datetime.parse not a factory constructor?", "body": "<p>Dart's Datetime class has a number of named constructors, but <code>DateTime.parse()</code> is not one of them. Instead, <code>DateTime.parse()</code> is a static method which returns a DateTime. To me, it makes sense as a constructor (since you are generating a new DateTime object in a manner not too different from the <code>Datetime.utc()</code> constructor).</p>\n\n<p>Theories I've come up with are to mirror the fact that <code>int.parse</code> is not a constructor or to allow easier chaining (you don't need to use the cascade operator with a static method). But maybe there is another reason that I'm not thinking of. Does anyone know why they didn't make it a named constructor?</p>\n"}, {"tags": ["class", "dart"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1420494151, "post_id": 27788380, "comment_id": 43986793, "body": "To many &quot;part&quot; in your code for my taste. Hard to see what you actually want to accomplish. What code line produces the error?"}, {"owner": {"reputation": 49, "user_id": 2584449, "user_type": "registered", "profile_image": "https://graph.facebook.com/1327215577/picture?type=large", "display_name": "\u0412\u0438\u043a\u0442\u043e\u0440 \u0414\u0430\u043a\u0430\u043b\u043e\u0432", "link": "https://stackoverflow.com/users/2584449/%d0%92%d0%b8%d0%ba%d1%82%d0%be%d1%80-%d0%94%d0%b0%d0%ba%d0%b0%d0%bb%d0%be%d0%b2"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1420495878, "post_id": 27788380, "comment_id": 43987561, "body": "&quot;list.add((color){&quot; &lt;-- output: unexpected token &#39;list&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 2584449, "user_type": "registered", "profile_image": "https://graph.facebook.com/1327215577/picture?type=large", "display_name": "\u0412\u0438\u043a\u0442\u043e\u0440 \u0414\u0430\u043a\u0430\u043b\u043e\u0432", "link": "https://stackoverflow.com/users/2584449/%d0%92%d0%b8%d0%ba%d1%82%d0%be%d1%80-%d0%94%d0%b0%d0%ba%d0%b0%d0%bb%d0%be%d0%b2"}, "edited": false, "score": 0, "creation_date": 1420500703, "post_id": 27789151, "comment_id": 43989398, "body": "I need a code structure, in which I will be able to create a new car, not changing files main.dart and Auto.dart. Only add new file and include in Auto.dart as part &quot;newCar.dart&quot; it can?"}], "tags": [], "owner": {"reputation": 1854, "user_id": 858061, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/e4oUG.jpg?s=128&g=1", "display_name": "Michael Fenwick", "link": "https://stackoverflow.com/users/858061/michael-fenwick"}, "is_accepted": false, "score": 0, "last_activity_date": 1420497663, "creation_date": 1420497663, "answer_id": 27789151, "question_id": 27788380, "link": "https://stackoverflow.com/questions/27788380/how-to-register-factory-of-part-in-dart/27789151#27789151", "title": "How to register factory of part in Dart", "body": "<p>Looks like your problem is that you have code outside of a class or function definition. If I'm guessing what you want to do correctly, you want BMW.dart to look something like</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>part of Auto;\nclass BMW {\n    String color;\n    BMW(this.color);\n}\n</code></pre>\n\n<p>and then in your <code>main()</code> method have code like</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>main() {\n  List list = [];\n  list.add((color) =&gt; new BMW(color));\n}\n</code></pre>\n\n<p>This will get the code above running. It's probably not the best way to structure your program though. You may want to do some more reading on Dart factory constructors. <a href=\"https://www.dartlang.org/dart-tips/dart-tips-ep-11.html\" rel=\"nofollow\">https://www.dartlang.org/dart-tips/dart-tips-ep-11.html</a> is a good place to start.</p>\n"}, {"tags": [], "owner": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "is_accepted": false, "score": 0, "last_activity_date": 1420531688, "creation_date": 1420531688, "answer_id": 27794510, "question_id": 27788380, "link": "https://stackoverflow.com/questions/27788380/how-to-register-factory-of-part-in-dart/27794510#27794510", "title": "How to register factory of part in Dart", "body": "<p>I don't know what you need it for but how about using mirrors:</p>\n\n<p><strong>main.dart</strong>\n    library cars;</p>\n\n<pre><code>import 'dart:mirrors';\n\npart 'bmw.dart';\npart 'audi.dart';\n\nabstract class Car {\n\n}\n\nvoid main() {\n  List&lt;Car&gt; cars = new List&lt;Car&gt;();\n\n  Map libraries = currentMirrorSystem().libraries;\n  LibraryMirror mirror = libraries[libraries.keys.last];\n  mirror.declarations.forEach((Symbol s, DeclarationMirror mirror) {\n    if(mirror is ClassMirror) {\n      if(!mirror.isAbstract &amp;&amp; mirror.isAssignableTo(reflectType(Car))) {\n        // new Symbol(mirror.reflectedType.toString()))\n        cars.add(mirror.newInstance(#Car, []).reflectee);\n      }\n    }\n  });\n\n  print(cars);\n}\n</code></pre>\n\n<p><strong>bmw.dart</strong></p>\n\n<pre><code>part of cars;\n\nclass Bmw extends Car {\n  Bmw.Car() {\n\n  }\n}\n</code></pre>\n\n<p><strong>audi.dart</strong></p>\n\n<pre><code>part of cars;\n\nclass Audi extends Car {\n  Audi.Car() {\n\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 2584449, "user_type": "registered", "profile_image": "https://graph.facebook.com/1327215577/picture?type=large", "display_name": "\u0412\u0438\u043a\u0442\u043e\u0440 \u0414\u0430\u043a\u0430\u043b\u043e\u0432", "link": "https://stackoverflow.com/users/2584449/%d0%92%d0%b8%d0%ba%d1%82%d0%be%d1%80-%d0%94%d0%b0%d0%ba%d0%b0%d0%bb%d0%be%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1420531688, "creation_date": 1420494067, "last_edit_date": 1420500760, "question_id": 27788380, "link": "https://stackoverflow.com/questions/27788380/how-to-register-factory-of-part-in-dart", "title": "How to register factory of part in Dart", "body": "<p>I have a lot of part of library. But all of the same type (extends Part)</p>\n\n\n\n<p><strong>part1.dart</strong></p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>part of Parts;\nclass Part1 extends Part { /* ... */ }\nparts.add((varOfSomeClass){ return new Part1(varOfSomeClass + 1); });\n</code></pre>\n\n<p><strong>part2.dart</strong></p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>part of Parts;\nclass Part2 extends Part { /* ... */ }\nparts.add((varOfSomeClass){ return new Part2(varOfSomeClass - 1); });\n</code></pre>\n\n<p><strong>parts.dart</strong></p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>library Parts;\npart \"Part1.dart\";\npart \"Part2.dart\";\nList&lt;Function&gt; parts = new List&lt;Function&gt;();\nclass Parts {\n  getPart(int index) {\n    if (parts.contains(index)) {\n      return parts[index](someVarOfThisClass);\n    }\n  }\n}\n</code></pre>\n\n<p>OUTPUT: error: unexpected token 'parts'</p>\n\n<p>How to get all included factories without create instance all the Part classes?</p>\n\n<p>For example need to do:</p>\n\n<p><strong>BMW.dart</strong></p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>part of Auto;\nclass BMW {\n    String color;\n    BMW(this.color);\n}\nlist.add((color){\n    return new BMW(color);\n});\n</code></pre>\n\n<p><strong>Lada.dart</strong></p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>part of Auto;\nclass Lada {\n    List&lt;int&gt; color;\n}\nlist.add((color){\n    var auto = new Lada();\n    auto.color = hex2rgb(color);\n    return auto;\n});\n</code></pre>\n\n<p><strong>Auto.dart</strong></p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>library Auto;\nclass Auto {\n    getByIndex(int index) {\n        if (list.contains(index)) {\n            return list[index](color);\n        }\n        return null;\n    }\n}\n</code></pre>\n"}, {"tags": ["function", "methods", "casting", "dart"], "answers": [{"comments": [{"owner": {"reputation": 4415, "user_id": 2230347, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wrVIW.jpg?s=128&g=1", "display_name": "Will Squire", "link": "https://stackoverflow.com/users/2230347/will-squire"}, "edited": false, "score": 0, "creation_date": 1420497367, "post_id": 27784983, "comment_id": 43988188, "body": "Awesome! Can&#39;t believe I&#39;ve not come across this before, heard of them, but never knew what they did. I&#39;ll test tomorrow, thank you! (P.S. I&#39;ve noticed when you edit my posts you can put the correct colour coding on? I would private message if I knew how to, but how do you do this? Is it worth starting a topic/question on itself? Cheers)"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 4415, "user_id": 2230347, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wrVIW.jpg?s=128&g=1", "display_name": "Will Squire", "link": "https://stackoverflow.com/users/2230347/will-squire"}, "edited": false, "score": 0, "creation_date": 1420535267, "post_id": 27784983, "comment_id": 43999508, "body": "Glad to hear this is what you were looking for. If the answer solves your problem you should accept the answer so everyone sees it is solved using the checkmark below the upvote buttons, thanks."}, {"owner": {"reputation": 1854, "user_id": 858061, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/e4oUG.jpg?s=128&g=1", "display_name": "Michael Fenwick", "link": "https://stackoverflow.com/users/858061/michael-fenwick"}, "edited": false, "score": 2, "creation_date": 1420564275, "post_id": 27784983, "comment_id": 44016227, "body": "You can add the code coloring yourself by putting `&lt;!-- language-all: lang-dart --&gt; somewhere in your question/answer. If you forget the syntax, hit the edit button on one of your previous questions and you can see it there."}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 4, "last_activity_date": 1420480104, "creation_date": 1420480104, "answer_id": 27784983, "question_id": 27784796, "link": "https://stackoverflow.com/questions/27784796/cast-a-variable-as-a-function-method-pointer-in-dart-delegate/27784983#27784983", "title": "Cast a variable as a function/method pointer in Dart? (Delegate?)", "body": "<p>You can use <code>Function</code> as type or if you also want to specify the arguments and return type of these functions you can create typedefs.</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>Map&lt;String, Function&gt; triggerHandler = {\n  'x' : (t) =&gt; hello(t)\n};\n</code></pre>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>typedef int SomeName(SomeType arg1);\n\nMap&lt;String, SomeName&gt; triggerHandler = {\n  'x' : (t) =&gt; hello(t)\n};\n</code></pre>\n"}], "owner": {"reputation": 4415, "user_id": 2230347, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wrVIW.jpg?s=128&g=1", "display_name": "Will Squire", "link": "https://stackoverflow.com/users/2230347/will-squire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2977, "favorite_count": 3, "accepted_answer_id": 27784983, "answer_count": 1, "score": 3, "last_activity_date": 1420480123, "creation_date": 1420479310, "last_edit_date": 1420480123, "question_id": 27784796, "link": "https://stackoverflow.com/questions/27784796/cast-a-variable-as-a-function-method-pointer-in-dart-delegate", "title": "Cast a variable as a function/method pointer in Dart? (Delegate?)", "body": "<p>Say I have a Map type that stores functions/methods inside of it, like so:</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>Map triggerHandler = {\n  'x' : (t) =&gt; hello(t)\n};\n</code></pre>\n\n<p>Now, what I want to do next is to declare that the Type of these Map values are to be functions. </p>\n\n<p>I can always do this:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Map&lt;String, dynamic&gt; triggerHandler = {\n  'x' : (t) =&gt; hello(t)\n};\n</code></pre>\n\n<p>But this doesn't help stop programmers from putting in non-functions into the Map values. 'x' could then be a String, or an Integer.</p>\n\n<p>The reason I want to do this is because I have a function that needs to only accept Maps with functions as the values. Calling the array key of 'x' is done by triggerHandlerx when it is a function, rather than triggerHandler[x]. I haven't tested if this causes an error to occur or not, but this doesn't seem semantically correct to me.</p>\n\n<p>It would seem that the most logical way to do this would be to set the Type for the value as a function. Such as giving a Map a type casted value of 'delegate':</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Map&lt;String, delegate&gt; triggerHandler = { // Note, this won't work\n  'x' : (t) =&gt; hello(t)\n};\n</code></pre>\n\n<p>What is the correct way to do this in Dart? (If there is a way)\nThank you.</p>\n"}, {"tags": ["dart", "polymer", "dart-polymer"], "answers": [{"tags": [], "owner": {"reputation": 73, "user_id": 3509659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ecfd0422276d94b66457ea85d083406?s=128&d=identicon&r=PG", "display_name": "Ji\u0159&#237; Nov&#225;k", "link": "https://stackoverflow.com/users/3509659/ji%c5%99%c3%ad-nov%c3%a1k"}, "is_accepted": true, "score": 3, "last_activity_date": 1420405940, "creation_date": 1420405940, "answer_id": 27770412, "question_id": 27769780, "link": "https://stackoverflow.com/questions/27769780/core-drawer-panel-drawer-is-transparent/27770412#27770412", "title": "core-drawer-panel drawer is transparent", "body": "<p>Well I did solve the problem by styling the drawer explicitly by using</p>\n\n<pre><code>[drawer] {\n  background-color: #xxxxxx;\n}\n</code></pre>\n\n<p>apparently drawer is not inheriting global background color...</p>\n"}], "owner": {"reputation": 73, "user_id": 3509659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ecfd0422276d94b66457ea85d083406?s=128&d=identicon&r=PG", "display_name": "Ji\u0159&#237; Nov&#225;k", "link": "https://stackoverflow.com/users/3509659/ji%c5%99%c3%ad-nov%c3%a1k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 360, "favorite_count": 0, "accepted_answer_id": 27770412, "answer_count": 1, "score": 1, "last_activity_date": 1420405940, "creation_date": 1420401901, "question_id": 27769780, "link": "https://stackoverflow.com/questions/27769780/core-drawer-panel-drawer-is-transparent", "title": "core-drawer-panel drawer is transparent", "body": "<p>I am trying to learn Polymer.dart and I am stuck at basic usage of core-drawer-panel... When I am using core-drawer-panel like this:</p>\n\n<pre><code>&lt;link rel=\"import\" href=\"../../packages/polymer/polymer.html\"&gt;\n\n&lt;link rel=\"import\" href=\"../../packages/core_elements/core_drawer_panel.html\"&gt;\n&lt;link rel=\"import\" href=\"../../packages/core_elements/core_header_panel.html\"&gt;\n&lt;link rel=\"import\" href=\"../../packages/core_elements/core_toolbar.html\"&gt;\n&lt;link rel=\"import\" href=\"../../packages/core_elements/core_menu.html\"&gt;\n&lt;link rel=\"import\" href=\"../../packages/core_elements/core_icons.html\"&gt;\n&lt;link rel=\"import\" href=\"../../packages/core_elements/core_item.html\"&gt;\n&lt;link rel=\"import\" href=\"../../packages/paper_elements/paper_icon_button.html\"&gt;\n\n&lt;polymer-element name=\"main-app\"&gt;\n  &lt;template&gt;\n    &lt;style&gt;\n      :host {\n        display: block;\n      }\n    &lt;/style&gt;\n    &lt;core-drawer-panel&gt;\n      &lt;core-header-panel drawer&gt;\n        &lt;core-toolbar&gt;\n          &lt;div&gt;Application&lt;/div&gt;\n        &lt;/core-toolbar&gt;\n        &lt;core-menu&gt;\n          &lt;core-item icon=\"settings\"&gt;Test&lt;/core-item&gt;\n        &lt;/core-menu&gt;\n      &lt;/core-header-panel&gt;\n      &lt;core-header-panel main&gt;\n        &lt;core-toolbar&gt;\n          &lt;paper-icon-button icon=\"menu\" core-drawer-toggle&gt;&lt;/paper-icon-button&gt;\n          &lt;div&gt;Title&lt;/div&gt;\n        &lt;/core-toolbar&gt;\n        &lt;div&gt; Main content... &lt;/div&gt;\n      &lt;/core-header-panel&gt;\n    &lt;/core-drawer-panel&gt;\n  &lt;/template&gt;\n  &lt;script type=\"application/dart\" src=\"main_app.dart\"&gt;&lt;/script&gt;\n&lt;/polymer-element&gt;\n</code></pre>\n\n<p>I get transparent drawer, when the layout switches to narrow and drawer is displayed using button, so for example menu inside drawer area is superimposed over main content area...\nWhat am I missing here?</p>\n"}, {"tags": ["stream", "dart", "transformer"], "comments": [{"owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "edited": false, "score": 2, "creation_date": 1420467980, "post_id": 27765878, "comment_id": 43972919, "body": "I agree that <code>StreamTransformer</code> is an unnecessary class - it contains only one function, so you could just pass that function anywhere you pass the object. If it was added to the library now, it would just be a function type."}], "answers": [{"comments": [{"owner": {"reputation": 4415, "user_id": 2230347, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wrVIW.jpg?s=128&g=1", "display_name": "Will Squire", "link": "https://stackoverflow.com/users/2230347/will-squire"}, "edited": false, "score": 1, "creation_date": 1420382183, "post_id": 27766141, "comment_id": 43943685, "body": "Because I need a class. Content needs to be buffered and such, it is quite complicated. Thank you anyway."}, {"owner": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "reply_to_user": {"reputation": 4415, "user_id": 2230347, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wrVIW.jpg?s=128&g=1", "display_name": "Will Squire", "link": "https://stackoverflow.com/users/2230347/will-squire"}, "edited": false, "score": 1, "creation_date": 1420382833, "post_id": 27766141, "comment_id": 43943865, "body": "Then make a global buffer variable that buffers data and write data to the sink as needed?"}, {"owner": {"reputation": 4415, "user_id": 2230347, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wrVIW.jpg?s=128&g=1", "display_name": "Will Squire", "link": "https://stackoverflow.com/users/2230347/will-squire"}, "edited": false, "score": 2, "creation_date": 1420383903, "post_id": 27766141, "comment_id": 43944194, "body": "No, that&#39;s an inherently bad idea. What if I want to use this more than once? Having a global buffer would mean two streams could potentially buffer to the same place, else each time I&#39;d have to create a separate variable somewhere outside the scope of the function. Lacks encapsulation and code maintainability. Just want to call .transform(new exampleStreamTransformer()); + even that could be shortened, but I&#39;m rather stuck to the language conventions in this respect. Here is an old (deprecated) example: <a href=\"http://victorsavkin.com/post/51233496661/using-streams-for-composing-complex-event-based\" rel=\"nofollow noreferrer\">victorsavkin.com/post/51233496661/&hellip;</a>"}], "tags": [], "owner": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "is_accepted": false, "score": 16, "last_activity_date": 1420379236, "creation_date": 1420379236, "answer_id": 27766141, "question_id": 27765878, "link": "https://stackoverflow.com/questions/27765878/how-to-create-a-streamtransformer-in-dart/27766141#27766141", "title": "How to create a StreamTransformer in Dart?", "body": "<p>Why don't you use <code>StreamTransformer.fromHandler()</code>:</p>\n\n<pre><code>import 'dart:async';\n\nvoid handleData(data, EventSink sink) {\n  sink.add(data*2);\n}\n\nvoid main() {\n  StreamTransformer doubleTransformer = new StreamTransformer.fromHandlers(handleData: handleData);\n\n  StreamController controller = new StreamController();\n  controller.stream.transform(doubleTransformer).listen((data) {\n    print('data: $data');\n  });\n\n  controller.add(1);\n  controller.add(2);\n  controller.add(3);\n}\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>data: 2\ndata: 4\ndata: 6\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4415, "user_id": 2230347, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wrVIW.jpg?s=128&g=1", "display_name": "Will Squire", "link": "https://stackoverflow.com/users/2230347/will-squire"}, "edited": false, "score": 0, "creation_date": 1420386541, "post_id": 27767068, "comment_id": 43945066, "body": "Yes, this looks like a much better implementation! Thank you, I&#39;ll try out later"}, {"owner": {"reputation": 1625, "user_id": 1619231, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/QXIgS.jpg?s=128&g=1", "display_name": "Daniel Leiszen", "link": "https://stackoverflow.com/users/1619231/daniel-leiszen"}, "edited": false, "score": 0, "creation_date": 1594046871, "post_id": 27767068, "comment_id": 110982038, "body": "Thanks for the implementation, this is very helpful :)"}], "tags": [], "owner": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "is_accepted": true, "score": 11, "last_activity_date": 1453408810, "last_edit_date": 1453408810, "creation_date": 1420385316, "answer_id": 27767068, "question_id": 27765878, "link": "https://stackoverflow.com/questions/27765878/how-to-create-a-streamtransformer-in-dart/27767068#27767068", "title": "How to create a StreamTransformer in Dart?", "body": "<p>Okay. Here's another working example:</p>\n\n<pre><code>import 'dart:async';\n\nclass DuplicateTransformer&lt;S, T&gt; implements StreamTransformer&lt;S, T&gt; {\n  StreamController _controller;\n\n  StreamSubscription _subscription;\n\n  bool cancelOnError;\n\n  // Original Stream\n  Stream&lt;S&gt; _stream;\n\n  DuplicateTransformer({bool sync: false, this.cancelOnError}) {\n    _controller = new StreamController&lt;T&gt;(onListen: _onListen, onCancel: _onCancel, onPause: () {\n      _subscription.pause();\n    }, onResume: () {\n      _subscription.resume();\n    }, sync: sync);\n  }\n\n  DuplicateTransformer.broadcast({bool sync: false, bool this.cancelOnError}) {\n    _controller = new StreamController&lt;T&gt;.broadcast(onListen: _onListen, onCancel: _onCancel, sync: sync);\n  }\n\n  void _onListen() {\n    _subscription = _stream.listen(onData,\n      onError: _controller.addError,\n      onDone: _controller.close,\n      cancelOnError: cancelOnError);\n  }\n\n  void _onCancel() {\n    _subscription.cancel();\n    _subscription = null;\n  }\n\n  /**\n   * Transformation\n   */\n\n  void onData(S data) {\n    _controller.add(data);\n    _controller.add(data); /* DUPLICATE EXAMPLE!! REMOVE FOR YOUR OWN IMPLEMENTATION!! */\n  }\n\n  /**\n   * Bind\n   */\n\n  Stream&lt;T&gt; bind(Stream&lt;S&gt; stream) {\n    this._stream = stream;\n    return _controller.stream;\n  }\n}\n\nvoid main() {\n  // Create StreamController\n  StreamController controller = new StreamController.broadcast();\n  // Transform\n  Stream s = controller.stream.transform(new DuplicateTransformer.broadcast());\n\n  s.listen((data) {\n    print('data: $data');\n  }).cancel();\n\n  s.listen((data) {\n    print('data2: $data');\n  }).cancel();\n\n  s.listen((data) {\n    print('data3: $data');\n  });\n\n  // Simulate data\n\n  controller.add(1);\n  controller.add(2);\n  controller.add(3);\n}\n</code></pre>\n\n<p>Let me add some notes:</p>\n\n<ul>\n<li>Using <code>implements</code> seems to be the right way here when looking at the source code of other dart internal transformers.</li>\n<li>I implemented both versions for regular and a broadcast stream.</li>\n<li>In case of a regular stream you can call cancel/pause/resumt directly on the new stream controller because we can only listen once.</li>\n<li>If you use a broadcast stream I found out that listen() is only called if there is no one listening already to the stream. onCancel behaves the same. If the last subscriber cancels its subscription, then onCancel is called. That's why it is safe to use the same functions here.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 7, "last_activity_date": 1478155480, "creation_date": 1478155480, "answer_id": 40395340, "question_id": 27765878, "link": "https://stackoverflow.com/questions/27765878/how-to-create-a-streamtransformer-in-dart/40395340#40395340", "title": "How to create a StreamTransformer in Dart?", "body": "<p><a href=\"https://github.com/dart-lang/sdk/issues/27740#issuecomment-258073139\" rel=\"noreferrer\">https://github.com/dart-lang/sdk/issues/27740#issuecomment-258073139</a></p>\n\n<blockquote>\n  <p>You can use StreamTransformer.fromHandlers to easily create\n  transformers that just convert input events to output events.</p>\n  \n  <p>Example:</p>\n\n<pre><code>new StreamTransformer.fromHandlers(handleData: (String event, EventSink output) {\n  if (event.startsWith('data:')) {\n    output.add(JSON.decode(event.substring('data:'.length)));\n  } else if (event.isNotEmpty) {\n    output.addError('Unexpected data from CloudBit stream: \"$event\"');\n  }\n});\n</code></pre>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 3252, "user_id": 6131611, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3789df5ff075b7a2bfa71c8e2dccd18d?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/6131611/pavel"}, "is_accepted": false, "score": 0, "last_activity_date": 1592000925, "last_edit_date": 1592000925, "creation_date": 1592000571, "answer_id": 62353311, "question_id": 27765878, "link": "https://stackoverflow.com/questions/27765878/how-to-create-a-streamtransformer-in-dart/62353311#62353311", "title": "How to create a StreamTransformer in Dart?", "body": "<p>If you want to simply transform values using a function like this</p>\n\n<pre><code>int handleData(int data) {\n  return data * 2;\n}\n</code></pre>\n\n<p>use <a href=\"https://api.dart.dev/stable/dart-async/Stream/map.html\" rel=\"nofollow noreferrer\">map</a> method of Stream</p>\n\n<pre><code>stream\n  .map(handleData)\n  .listen((data) {\n    print('data: $data');\n  });\n</code></pre>\n\n<p>Full example:</p>\n\n<pre><code>import 'dart:async';\n\nint handleData(int data) {\n  return data * 2;\n}\n\nvoid main() {\n  final controller = StreamController&lt;int&gt;();\n\n  controller.stream\n    .map(handleData)\n    .listen((data) {\n      print('data: $data');\n    });\n\n  controller.add(1);\n  controller.add(2);\n  controller.add(3);\n}\n</code></pre>\n\n<p>See <a href=\"https://dart.dev/articles/libraries/creating-streams\" rel=\"nofollow noreferrer\">more examples</a> on dart.dev</p>\n"}, {"tags": [], "owner": {"reputation": 16930, "user_id": 1032613, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/h4jzP.jpg?s=128&g=1", "display_name": "user1032613", "link": "https://stackoverflow.com/users/1032613/user1032613"}, "is_accepted": false, "score": 3, "last_activity_date": 1600625932, "creation_date": 1600625932, "answer_id": 63982248, "question_id": 27765878, "link": "https://stackoverflow.com/questions/27765878/how-to-create-a-streamtransformer-in-dart/63982248#63982248", "title": "How to create a StreamTransformer in Dart?", "body": "<p>Unlike <code>map</code>, transformers are more powerful and allows you to maintain an internal state, and emit a value whenever you want. It can achieve things <code>map</code> can't do, such as delaying, duplicating, omitting some values, and whatnot.</p>\n<p>Essentially, the implementation requires a <code>bind</code> method that provides a new stream based on an old stream being passed in, and a <code>cast</code> method that helps with type-checking during run-time.</p>\n<p>Here's an over-simplified example of implementing a &quot;TallyTransformer&quot; that transforms a stream of integer values into a stream of sums. For example, if the input stream so far had <code>1, 1, 1, -2, 0, ...</code>, the output stream would've been <code>1, 2, 3, 1, 1, ...</code>, i.e. summing all inputs up to this point.</p>\n<p>Example usage: <code>stream.transform(TallyTransformer())</code></p>\n<pre><code>class TallyTransformer implements StreamTransformer {\n  StreamController _controller = StreamController();\n  int _sum = 0; // sum of all values so far\n\n  @override\n  Stream bind(Stream stream) {\n    // start listening on input stream\n    stream.listen((value) {\n      _sum += value; // add the new value to sum\n      _controller.add(_sum); // emit current sum to our listener\n    });\n    // return an output stream for our listener\n    return _controller.stream;\n  }\n\n  @override\n  StreamTransformer&lt;RS, RT&gt; cast&lt;RS, RT&gt;() {\n    return StreamTransformer.castFrom(this);\n  }\n}\n</code></pre>\n<p>This example is over-simplified (but still works) and does not cover cases such as stream pausing, resuming or canceling. If you run into <code>&quot;Stream has already been listened&quot;</code> error, make sure streams are broadcasting.</p>\n"}], "owner": {"reputation": 4415, "user_id": 2230347, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wrVIW.jpg?s=128&g=1", "display_name": "Will Squire", "link": "https://stackoverflow.com/users/2230347/will-squire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7812, "favorite_count": 2, "accepted_answer_id": 27767068, "answer_count": 5, "score": 15, "last_activity_date": 1600625932, "creation_date": 1420377302, "question_id": 27765878, "link": "https://stackoverflow.com/questions/27765878/how-to-create-a-streamtransformer-in-dart", "title": "How to create a StreamTransformer in Dart?", "body": "<p>Trying to build a custom StreamTransformer class, however a lot of the examples out there seem to be out of date, and the one found in the documentation isn't (what some typed languages might consider anyway) as a class (found here: <a href=\"https://api.dartlang.org/apidocs/channels/stable/dartdoc-viewer/dart:async.StreamTransformer\" rel=\"noreferrer\">https://api.dartlang.org/apidocs/channels/stable/dartdoc-viewer/dart:async.StreamTransformer</a>). This doesn't seem like a very Dart-like way of approaching it and rather more of a Javascript-like way (which I'm using Dart to avoid). </p>\n\n<p>Many online sources say this is how you create a StreamTransformer, however there errors when extending it.</p>\n\n<pre><code>class exampleStreamTransformer extends StreamTransformer\n{\n  //... (This won't work)\n}\n</code></pre>\n\n<p>'Implements' seems to be the way to go, along with implementing the bind function needed:</p>\n\n<pre><code>class exampleStreamTransformer implements StreamTransformer\n{\n  Stream bind(Stream stream)\n  {\n    //... (Go on to return new stream, etc)\n  }\n}\n</code></pre>\n\n<p>I can't seem to find any examples of this way, but have thrown something together myself (which is accepted in my IDE, but isn't accepted at runtime, I get a null object error when it tries to use pause getter):</p>\n\n<pre><code>class exampleStreamTransformer implements StreamTransformer\n{\n  StreamController&lt;String&gt; _controller;\n  StreamSubscription&lt;String&gt; _subscription;\n\n  Stream bind(Stream stream)\n  {\n    _controller = new StreamController&lt;String&gt;(\n        onListen: ()\n        {\n          _subscription = stream.listen((data)\n          {\n            // Transform the data.\n            _controller.add(data);\n          },\n          onError: _controller.addError,\n          onDone: _controller.close,\n          cancelOnError: true); // Unsure how I'd pass this in?????\n        },\n        onPause: _subscription.pause,\n        onResume: _subscription.resume,\n        onCancel: _subscription.cancel,\n        sync: true\n    );\n\n    return _controller.stream;\n  }\n}\n</code></pre>\n\n<p>Would like to achieve it this way, as in the 'typed' way of producing the class, any help is much appreciated, thank you.</p>\n"}, {"tags": ["dart"], "answers": [{"comments": [{"owner": {"reputation": 2803, "user_id": 3332878, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7ecb68e64ed7e77bf6970e0f228f1010?s=128&d=identicon&r=PG&f=1", "display_name": "rchkm", "link": "https://stackoverflow.com/users/3332878/rchkm"}, "edited": false, "score": 0, "creation_date": 1420387481, "post_id": 27763900, "comment_id": 43945403, "body": "Thank you.  The use of part of and library was just a typo, so I edited it out for future readability of the question."}, {"owner": {"reputation": 8692, "user_id": 2118130, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/4c625ee20608ac0826ae23d70886b0d6?s=128&d=identicon&r=PG", "display_name": "Cristian Garcia", "link": "https://stackoverflow.com/users/2118130/cristian-garcia"}, "edited": false, "score": 0, "creation_date": 1430170995, "post_id": 27763900, "comment_id": 47935622, "body": "@Robert I have a dilema between <b>importing</b> your own files (say a file with a class definition, services, etc) vs making them <b>part of</b> your library. I find that using <code>import</code> makes it pretty clear what the dependencies of each files are, but then you have keep adding imports every time you use something new, while <code>part&#47;part of</code> just give you everything but then you don&#39;t know the dependencies. Also, your main library file then has all the dependencies. Then one thing I appreciate is creating top level function on the main library file. What do you think?"}, {"owner": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "edited": false, "score": 0, "creation_date": 1430206692, "post_id": 27763900, "comment_id": 47948318, "body": "You can do it as you want :)"}, {"owner": {"reputation": 1048, "user_id": 9135193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f49908b5088f3652e6ce4ed9a3c1b6a1?s=128&d=identicon&r=PG&f=1", "display_name": "Marvin H.", "link": "https://stackoverflow.com/users/9135193/marvin-h"}, "edited": false, "score": 0, "creation_date": 1559475325, "post_id": 27763900, "comment_id": 99425461, "body": "@Robert But there is a difference: All parts of a library have access to private members while shielding them from anything outside the library. In that sense they work more or less like <code>Go</code> packages or (this is a stretch) like splitted classes in C#. If you have a file with private and public members and only want the public ones to be exported then <code>part of </code> can be useful. Or if you really really need to shield some private members from the outer world. But most of the time the &quot;don&#39;t touch <code>src</code>&quot; convention solves that problem and is just good enough."}], "tags": [], "owner": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "is_accepted": false, "score": 20, "last_activity_date": 1503143457, "last_edit_date": 1503143457, "creation_date": 1420361294, "answer_id": 27763900, "question_id": 27763378, "link": "https://stackoverflow.com/questions/27763378/when-to-use-part-part-of-versus-import-export-in-dart/27763900#27763900", "title": "When to use part/part of versus import/export in Dart?", "body": "<p>Let's suppose we have a Dart <em>library</em> called <code>mylib</code>, whose file is <code>lib/mylib.dart</code>.</p>\n\n<pre><code>library mylib;\n\n// Definitions\n</code></pre>\n\n<p>That library can be included in the <code>main.dart</code> file as</p>\n\n<pre><code>import 'package:mypackage/mylib.dart';\n</code></pre>\n\n<hr>\n\n<p>When you create a new library and use other libraries you want to make available automatically when using your package, then you use <code>export</code>:</p>\n\n<pre><code>library mylib;\n\nexport 'otherlib.dart';\n\n// Definitions\n</code></pre>\n\n<p>You can use the <code>show</code> keyword to import/export only some parts of a library (like a class or something).</p>\n\n<hr>\n\n<p>You are using the <code>part of</code> directive wrong here. You can't use both <code>library</code> and <code>part of</code>, which is used to specify the contents that belong to a library. For example, you can split your library file in more than one file (the parts):</p>\n\n<p>Suppose we have in the file <code>mylib.dart</code>:</p>\n\n<pre><code>library mylib;\n\npart 'src/class1.part';\n// More parts\n</code></pre>\n\n<p>And then we have in another file <code>src/class1.part</code> the part specified in <code>mylib.dart</code></p>\n\n<pre><code>part of mylib;\n\nclass Class1 { \n  /* ... */\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 585, "user_id": 7340576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3988db102039945fdae93cb92abe67bc?s=128&d=identicon&r=PG&f=1", "display_name": "Abbas", "link": "https://stackoverflow.com/users/7340576/abbas"}, "edited": false, "score": 3, "creation_date": 1604402078, "post_id": 27764138, "comment_id": 114330993, "body": "It&#39;s 2020, and they have kept part/part of. What do you think about the future?"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 585, "user_id": 7340576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3988db102039945fdae93cb92abe67bc?s=128&d=identicon&r=PG&f=1", "display_name": "Abbas", "link": "https://stackoverflow.com/users/7340576/abbas"}, "edited": false, "score": 2, "creation_date": 1604418516, "post_id": 27764138, "comment_id": 114338655, "body": "There is an issue about supporting partial classes where I got the impression the Dart team plans to implement in the foreseeable future. That might depend on <code>part</code>. Otherwise, it&#39;s still useful for how code generation is used. Also the way private works in Dart it might be useful in some situations where a file grows too big, but couldn&#39;t otherwise be split because then code in one file couldn&#39;t access private stuff in the other files. With <code>part</code> it&#39;s easy to split anyway. Not a very common case though as far as I am aware of."}, {"owner": {"reputation": 5436, "user_id": 3161139, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/EePWR.jpg?s=128&g=1", "display_name": "Antonin GAVREL", "link": "https://stackoverflow.com/users/3161139/antonin-gavrel"}, "edited": false, "score": 0, "creation_date": 1613154292, "post_id": 27764138, "comment_id": 116998013, "body": "2021 and part/part of still there, stronger than ever. I don&#39;t see the point of the team to tell us to avoid using it if they don&#39;t induce changes in a timely manner. If they want to make radical changes it would definitely break a lot of Flutter apps and packages."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 5436, "user_id": 3161139, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/EePWR.jpg?s=128&g=1", "display_name": "Antonin GAVREL", "link": "https://stackoverflow.com/users/3161139/antonin-gavrel"}, "edited": false, "score": 0, "creation_date": 1613216043, "post_id": 27764138, "comment_id": 117010668, "body": "@AntoninGAVREL the Dart team (as in many other such projects) sometimes do a poor job in telling WHY something should be avoided when they say it should. <code>part</code> <code>part of</code> was very commonly used to treat the whole project as a single library with everything part of some <code>lib&#47;my_package.dart</code>. And I think this is what they refer to when they discourage using <code>part</code>/<code>part of</code>. Their own code generator packages <b>require</b> <code>part</code> <code>part of</code>, so it&#39;s safe to assume that you are not doing anything wrong when you use it in such situations."}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 48, "last_activity_date": 1521549047, "last_edit_date": 1521549047, "creation_date": 1420363639, "answer_id": 27764138, "question_id": 27763378, "link": "https://stackoverflow.com/questions/27763378/when-to-use-part-part-of-versus-import-export-in-dart/27764138#27764138", "title": "When to use part/part of versus import/export in Dart?", "body": "<p><strong>update 2018/03</strong></p>\n\n<p><code>part</code> and <code>part of</code> is used more and more for code generation scenarios recently (instead of deprecated transformers) and unlikely to go away anytime soon.</p>\n\n<p>Packages like <code>built_value</code>, <code>json_serializable</code>, and many others depend on it.</p>\n\n<p>Discouraged is only the patter where all files of a package are tied together to a single library by having one library file and all other files being part of that library.</p>\n\n<p><strong>original</strong></p>\n\n<p>In Dart, private members are accessible within the same library.  With <code>import</code> you import a library and can access only its public members. With <code>part</code>/<code>part of</code> you can split one library into several files and private members are accessible for all code within these files. </p>\n\n<p><em>see clarifications to below paragraph in above update</em></p>\n\n<p>Using <code>part</code> / <code>part of</code> is discouraged and the Dart team is considering getting rid of it. I assume they will introduce something like \"friend\" (<a href=\"https://github.com/dart-lang/sdk/issues/22841\" rel=\"noreferrer\">https://github.com/dart-lang/sdk/issues/22841</a>), where two libraries can access each other's private members as an alternative before they discontinue <code>part</code> / <code>part of</code> (maybe in a future Dart version).</p>\n"}, {"tags": [], "owner": {"reputation": 2939, "user_id": 652220, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/B3Bm7.png?s=128&g=1", "display_name": "Argenti Apparatus", "link": "https://stackoverflow.com/users/652220/argenti-apparatus"}, "is_accepted": false, "score": 14, "last_activity_date": 1459970441, "last_edit_date": 1459970441, "creation_date": 1459879042, "answer_id": 36433664, "question_id": 27763378, "link": "https://stackoverflow.com/questions/27763378/when-to-use-part-part-of-versus-import-export-in-dart/36433664#36433664", "title": "When to use part/part of versus import/export in Dart?", "body": "<p>The <a href=\"https://www.dartlang.org/tools/pub/create-library-packages.html\" rel=\"noreferrer\">Creating Library Packages</a> article on the dartlang.org site recommends avoiding <code>part</code> / <code>part of</code>.</p>\n\n<blockquote>\n  <p>Note: You may have heard of the part directive, which allows you to\n  split a library into multiple Dart files. We recommend that you avoid\n  using part and create mini libraries instead.</p>\n</blockquote>\n\n<p>The 'mini libraries' referred to are small library dart files in <code>src</code> which are imported into and exported from main libraries.</p>\n"}], "owner": {"reputation": 2803, "user_id": 3332878, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7ecb68e64ed7e77bf6970e0f228f1010?s=128&d=identicon&r=PG&f=1", "display_name": "rchkm", "link": "https://stackoverflow.com/users/3332878/rchkm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33458, "favorite_count": 12, "accepted_answer_id": 27764138, "answer_count": 3, "score": 63, "last_activity_date": 1521549047, "creation_date": 1420356073, "last_edit_date": 1503137677, "question_id": 27763378, "link": "https://stackoverflow.com/questions/27763378/when-to-use-part-part-of-versus-import-export-in-dart", "title": "When to use part/part of versus import/export in Dart?", "body": "<p>I do not completely understand the difference between <code>part</code>/<code>part of</code> and <code>import</code>/<code>export</code> when using libraries in Dart.  For example:</p>\n\n<pre><code>one.dart:\nlibrary one;\npart \"two.dart\";\nClass One {\n};\n</code></pre>\n\n<p>and </p>\n\n<pre><code>two.dart:\npart of one;\nimport 'somefile.dart';\nClass Two {\n}\n</code></pre>\n\n<p>versus</p>\n\n<pre><code>library one;\nimport 'two.dart';\nClass One {\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>library two;\nimport 'somefile.dart';\nexport 'somefile.dart';\nClass Two {\n}\n</code></pre>\n\n<p>Both scenarios seem to do the same thing.  When is it advantageous to use <code>part</code> and <code>part of</code> rather than <code>import</code>? And are there scenarios where <code>import</code> will not work, but <code>part</code> and <code>part of</code> will?</p>\n"}, {"tags": ["dart", "code-generation"], "comments": [{"owner": {"reputation": 1587, "user_id": 1221118, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/931e9bf94717ebd18e085a4189a1e150?s=128&d=identicon&r=PG", "display_name": "Peter StJ", "link": "https://stackoverflow.com/users/1221118/peter-stj"}, "edited": false, "score": 0, "creation_date": 1420332984, "post_id": 27759822, "comment_id": 43933635, "body": "Optionally, I remember someone from Google mention that they use json serialization for protobuf as it works faster in the browser, maybe it is possible to use proto definition for messages but still transmit them as JSON (kind of like the messages in gmail?)"}, {"owner": {"reputation": 6515, "user_id": 884522, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9b06d01e141676a2fbe165ede9303a7a?s=128&d=identicon&r=PG", "display_name": "Jacob Phillips", "link": "https://stackoverflow.com/users/884522/jacob-phillips"}, "edited": false, "score": 0, "creation_date": 1539567740, "post_id": 27759822, "comment_id": 92535472, "body": "Do you want to create Dart objects from a JSON string that comes from the network, or from a Javascript object?"}, {"owner": {"reputation": 2283, "user_id": 320911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/adCJz.jpg?s=128&g=1", "display_name": "Arto Bendiken", "link": "https://stackoverflow.com/users/320911/arto-bendiken"}, "edited": false, "score": 0, "creation_date": 1542096633, "post_id": 27759822, "comment_id": 93434948, "body": "See also <a href=\"https://stackoverflow.com/q/53270688\">stackoverflow.com/q/53270688</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1644, "user_id": 6172447, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/tn7Gu.jpg?s=128&g=1", "display_name": "Tobias Marschall", "link": "https://stackoverflow.com/users/6172447/tobias-marschall"}, "is_accepted": false, "score": 1, "last_activity_date": 1554100733, "creation_date": 1554100733, "answer_id": 55449300, "question_id": 27759822, "link": "https://stackoverflow.com/questions/27759822/dart-classes-for-models-from-json-code-generation/55449300#55449300", "title": "Dart classes for models from JSON (code generation)", "body": "<p>There is a great package called <code>json_serializable</code> on <a href=\"https://pub.dartlang.org/packages/json_serializable\" rel=\"nofollow noreferrer\">pub</a> that creates serializers for your models via code generation.</p>\n\n<p>You can customize the generated code via annotations or you can just modify the generated code by hand.</p>\n"}], "owner": {"reputation": 1587, "user_id": 1221118, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/931e9bf94717ebd18e085a4189a1e150?s=128&d=identicon&r=PG", "display_name": "Peter StJ", "link": "https://stackoverflow.com/users/1221118/peter-stj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 590, "favorite_count": 0, "answer_count": 1, "score": 7, "last_activity_date": 1554100733, "creation_date": 1420321315, "question_id": 27759822, "link": "https://stackoverflow.com/questions/27759822/dart-classes-for-models-from-json-code-generation", "title": "Dart classes for models from JSON (code generation)", "body": "<p>I was looking at this thread: <a href=\"https://groups.google.com/a/dartlang.org/forum/#!topic/misc/0pv-Uaq8FGI\" rel=\"noreferrer\">https://groups.google.com/a/dartlang.org/forum/#!topic/misc/0pv-Uaq8FGI</a> but still cannot find a solution for what I would like to have on the client side (possible on the server as well).</p>\n\n<p>I imagine there should be a way to provide a standard format for data structure that is represented as JSON object in JS land (for example json schema or yaml or whatever) that could be used as input to generate Dart classes that contain the fromJSON constructor and toJSON method (possible some checks as well for the data ranges) that the developer can then extend if additional logic is needed over the data coming over the wire.</p>\n\n<p>I do not want to use mirrors if possible, instead the classes should be statically generated (i.e. run a tool -> get the class(es) to match the latest schema/input).</p>\n\n<p>Can you point me to the right direction? </p>\n\n<p>Thanks.</p>\n"}, {"tags": ["dart", "dart-polymer"], "answers": [{"comments": [{"owner": {"reputation": 451, "user_id": 3505579, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2phuP.png?s=128&g=1", "display_name": "ken", "link": "https://stackoverflow.com/users/3505579/ken"}, "edited": false, "score": 0, "creation_date": 1420299549, "post_id": 27756026, "comment_id": 43923661, "body": "I have changed the code as suggested: &lt;br/&gt;&lt;code&gt;factory MainApp.custom() {     MainApp mainApp = new Element.tag(&#39;main-app&#39;);     mainApp.myConstructor();} void myConstructor() {     print(&quot;myConstructor Started&quot;);}&lt;/code&gt; &lt;br/&gt;but it seems myConstructor() is not executed."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 451, "user_id": 3505579, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2phuP.png?s=128&g=1", "display_name": "ken", "link": "https://stackoverflow.com/users/3505579/ken"}, "edited": false, "score": 0, "creation_date": 1420299652, "post_id": 27756026, "comment_id": 43923692, "body": "And, does it work as expected? You should return the value from the constructor as well. Otherwise there is no point in creating such a factory constructor."}, {"owner": {"reputation": 451, "user_id": 3505579, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2phuP.png?s=128&g=1", "display_name": "ken", "link": "https://stackoverflow.com/users/3505579/ken"}, "edited": false, "score": 0, "creation_date": 1420300791, "post_id": 27756026, "comment_id": 43924017, "body": "Unfortunatelly not, I have posted the new code under EDIT above. It looks like the myConstructor is not called. Thanks"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 451, "user_id": 3505579, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2phuP.png?s=128&g=1", "display_name": "ken", "link": "https://stackoverflow.com/users/3505579/ken"}, "edited": false, "score": 0, "creation_date": 1420301073, "post_id": 27756026, "comment_id": 43924083, "body": "Do you call <code>new MainApp. custom()</code> anywhere? (Your factory constructor still doesn&#39;t return the instance.)"}, {"owner": {"reputation": 451, "user_id": 3505579, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2phuP.png?s=128&g=1", "display_name": "ken", "link": "https://stackoverflow.com/users/3505579/ken"}, "edited": false, "score": 0, "creation_date": 1420302339, "post_id": 27756026, "comment_id": 43924447, "body": "I have now added the return instance and called the constructor (see the new code under EDIT) but there is still a problem with new MainApp.customer() as I should pass a parameter."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 451, "user_id": 3505579, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2phuP.png?s=128&g=1", "display_name": "ken", "link": "https://stackoverflow.com/users/3505579/ken"}, "edited": false, "score": 0, "creation_date": 1420302498, "post_id": 27756026, "comment_id": 43924501, "body": "What is that parameter for? Doesn&#39;t seem to make sense there."}, {"owner": {"reputation": 451, "user_id": 3505579, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2phuP.png?s=128&g=1", "display_name": "ken", "link": "https://stackoverflow.com/users/3505579/ken"}, "edited": false, "score": 0, "creation_date": 1420302803, "post_id": 27756026, "comment_id": 43924592, "body": "I agree so I have removed the parameter from the factory but then an Exception is occurring (see code above)"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 451, "user_id": 3505579, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2phuP.png?s=128&g=1", "display_name": "ken", "link": "https://stackoverflow.com/users/3505579/ken"}, "edited": false, "score": 0, "creation_date": 1420303062, "post_id": 27756026, "comment_id": 43924668, "body": "<code>MainApp ma = new MainApp.custom();</code> is outside of any function/method - this can&#39;t work, how do you actually call this in your code."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 451, "user_id": 3505579, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2phuP.png?s=128&g=1", "display_name": "ken", "link": "https://stackoverflow.com/users/3505579/ken"}, "edited": false, "score": 0, "creation_date": 1420303324, "post_id": 27756026, "comment_id": 43924751, "body": "If you call this from main you should take a look at <a href=\"http://stackoverflow.com/a/20982658/217408\">stackoverflow.com/a/20982658/217408</a>"}, {"owner": {"reputation": 451, "user_id": 3505579, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2phuP.png?s=128&g=1", "display_name": "ken", "link": "https://stackoverflow.com/users/3505579/ken"}, "edited": false, "score": 0, "creation_date": 1420303901, "post_id": 27756026, "comment_id": 43924923, "body": "I have pushed the whole code to GitHub the link is above. I&#39;m going to look at your link now"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 451, "user_id": 3505579, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2phuP.png?s=128&g=1", "display_name": "ken", "link": "https://stackoverflow.com/users/3505579/ken"}, "edited": false, "score": 0, "creation_date": 1420304285, "post_id": 27756026, "comment_id": 43925062, "body": "The way you built your app you don&#39;t even need a custom constructor.  Why do you want to add one anyway. I figured <code>MainApp ma = new MainApp.custom();</code> is a field but this is redundant within your element because it is the same as <code>this</code>"}, {"owner": {"reputation": 451, "user_id": 3505579, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2phuP.png?s=128&g=1", "display_name": "ken", "link": "https://stackoverflow.com/users/3505579/ken"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1420309055, "post_id": 27756026, "comment_id": 43926644, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/68142/discussion-between-ken-and-gunter-zochbauer\">continue this discussion in chat</a>."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 451, "user_id": 3505579, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2phuP.png?s=128&g=1", "display_name": "ken", "link": "https://stackoverflow.com/users/3505579/ken"}, "edited": false, "score": 0, "creation_date": 1420309141, "post_id": 27756026, "comment_id": 43926676, "body": "Sorry, I have to leave. Tomorrow I&#39;ll have time again."}, {"owner": {"reputation": 451, "user_id": 3505579, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2phuP.png?s=128&g=1", "display_name": "ken", "link": "https://stackoverflow.com/users/3505579/ken"}, "edited": false, "score": 0, "creation_date": 1420365014, "post_id": 27756026, "comment_id": 43939264, "body": "I have added a Getter to the code and it seems to work, I do not know exactly why but it seems to work fine"}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1420296263, "creation_date": 1420296263, "answer_id": 27756026, "question_id": 27755768, "link": "https://stackoverflow.com/questions/27755768/polymerelement-constructor/27756026#27756026", "title": "PolymerElement Constructor", "body": "<p>You are using the class <code>MainApp</code> like a variable. Change the following line</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>MainApp = new Element.tag('main-app');\n</code></pre>\n\n<p>to either</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>MainApp mainApp = new Element.tag('main-app');\n</code></pre>\n\n<p>or</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>var mainApp = new Element.tag('main-app');\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 451, "user_id": 3505579, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2phuP.png?s=128&g=1", "display_name": "ken", "link": "https://stackoverflow.com/users/3505579/ken"}, "is_accepted": false, "score": 0, "last_activity_date": 1420364909, "creation_date": 1420364909, "answer_id": 27764281, "question_id": 27755768, "link": "https://stackoverflow.com/questions/27755768/polymerelement-constructor/27764281#27764281", "title": "PolymerElement Constructor", "body": "<p>ok, now I think I found an answer, the key is the following code:</p>\n\n<pre><code>@observable int get counter =&gt; myConstructor();\n</code></pre>\n"}], "owner": {"reputation": 451, "user_id": 3505579, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2phuP.png?s=128&g=1", "display_name": "ken", "link": "https://stackoverflow.com/users/3505579/ken"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 168, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1420364909, "creation_date": 1420294456, "last_edit_date": 1495541153, "question_id": 27755768, "link": "https://stackoverflow.com/questions/27755768/polymerelement-constructor", "title": "PolymerElement Constructor", "body": "<p>I'm trying to <strong>change the standard constructor to add myConstructor</strong>.</p>\n\n<p>Based on the code <a href=\"https://stackoverflow.com/questions/22997989/pass-parameters-to-dart-polymer-element\">here</a> I coded the following statements:</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>@CustomTag('main-app')\nclass MainApp extends PolymerElement {\n\n  factory MainApp.custom() {\n    MainApp = new Element.tag('main-app');\n    myConstructor();\n  }\nMainApp.created() : super.created();\nvoid myConstructor() {\n    print(\"myConstructor Started\");\n  }\n</code></pre>\n\n<p>Unfortunately the Editor shows some problems:<br>\nThe Statement <code>MainApp = new Element.tag('main-app')</code> shows the error:<br>\n<code>A Value of Type 'Element' cannot be assigned to a variable of type 'Type'.</code></p>\n\n<p>The Statement <em>myConstructor()</em> shows the Error:<br> \"Instance members cannot be accessed from a factory constructor\"</p>\n\n<p>anyone has a suggestion how I can solve the errors?</p>\n\n<p><strong>EDIT</strong>:\nThe current code is looking like following:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>@CustomTag('main-app')\nclass MainApp extends PolymerElement {\n\n  @observable int counter = 0;\n\n\n      factory MainApp.custom() {\n    MainApp mainApp = new Element.tag('main-app');\n    mainApp.myConstructor();\n    return mainApp;\n  }\n\n  /// Constructor used to create instance of MainApp.\n  MainApp.created() : super.created();\n\nMainApp ma = new MainApp.custom();\n\n  void myConstructor() {\n    print(\"myConstructor Started\");\n    counter = 1;\n  }\n</code></pre>\n\n<p>The following error is showing up:<br></p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Exception: type 'HtmlElement' is not a subtype of type 'MainApp' of 'mainApp'.\n  MainApp.MainApp.custom    \n  MainApp.MainApp.created\n</code></pre>\n\n<p><strong>EDIT Version 2:</strong></p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>@CustomTag('main-app')\nclass MainApp extends PolymerElement {\n\n  Controller controller = new Controller();\n\n  @observable int counter = myConstructor();\n  @observable int totalGlypto = 0;\n\n  /// Constructor used to create instance of MainApp.\n  MainApp.created() : super.created();\n\n\n    static int myConstructor() {\n    print(\"myConstructor Started\");\n    return controller.getTotal();\n  }\n\n  void setupCheckIn(Event e, var detail, Node target) {\n    print(\"Setup started\");\n    controller.checkInGlypto();\n    counter = controller.getTotal();\n  }\n\n  void resetCheckIn(Event e, var detail, Node target) {\n    print(\"reset started\");\n  }\n\n  void loadCheckIn(Event e, var detail, Node target) {\n    print(\"load started\");\n    controller.loadData();\n    counter = controller.getTotal();\n  }\n\n\n}\n</code></pre>\n\n<p>the code can be downloaded <a href=\"https://github.com/kenparker/Glypto.git\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"tags": ["dart"], "comments": [{"owner": {"reputation": 4470, "user_id": 1506104, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ff2356dd71fc703ae08d21f5d4f137f6?s=128&d=identicon&r=PG&f=1", "display_name": "user1506104", "link": "https://stackoverflow.com/users/1506104/user1506104"}, "edited": false, "score": 0, "creation_date": 1591506221, "post_id": 27754606, "comment_id": 110078481, "body": "Change how map keys are checked for equality <a href=\"https://stackoverflow.com/questions/62236193/change-how-map-keys-are-checked-for-equality\" title=\"change how map keys are checked for equality\">stackoverflow.com/questions/62236193/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 783, "user_id": 2761797, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4db6fd5cc9f0b12682fc6719736de181?s=128&d=identicon&r=PG", "display_name": "Jonas Kello", "link": "https://stackoverflow.com/users/2761797/jonas-kello"}, "edited": false, "score": 0, "creation_date": 1420366612, "post_id": 27758531, "comment_id": 43939615, "body": "If you do new Map&lt;X,Y&gt;() you actually get a LinkedHashMap. This can be seen in the factory contructor for Map (factory Map() = LinkedHashMap&lt;K, V&gt;;)"}, {"owner": {"reputation": 783, "user_id": 2761797, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4db6fd5cc9f0b12682fc6719736de181?s=128&d=identicon&r=PG", "display_name": "Jonas Kello", "link": "https://stackoverflow.com/users/2761797/jonas-kello"}, "edited": false, "score": 0, "creation_date": 1427106289, "post_id": 27758531, "comment_id": 46625917, "body": "There is a function in quiver that does equals while ignoring case. The current implementation just makes them into lowercase but it might be better to use that than providing your own. The code then becomes: <code>import &#39;package:quiver&#47;strings.dart&#39;;</code> <code>new LinkedHashMap&lt;String, List&lt;String&gt;&gt;(equals: equalsIgnoreCase, hashCode: (String k) =&gt; k.toLowerCase().hashCode);</code>"}, {"owner": {"reputation": 15129, "user_id": 116891, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0c06e7b4ff0bfdb94b4493038bf70a0e?s=128&d=identicon&r=PG", "display_name": "Pat", "link": "https://stackoverflow.com/users/116891/pat"}, "edited": false, "score": 0, "creation_date": 1547766640, "post_id": 27758531, "comment_id": 95315730, "body": "<a href=\"https://stackoverflow.com/a/27786241/116891\">stackoverflow.com/a/27786241/116891</a>, below, is the more efficient answer (according to the docstring of <code>CanonicalizedMap</code> itself)."}], "tags": [], "owner": {"reputation": 1854, "user_id": 858061, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/e4oUG.jpg?s=128&g=1", "display_name": "Michael Fenwick", "link": "https://stackoverflow.com/users/858061/michael-fenwick"}, "is_accepted": true, "score": 7, "last_activity_date": 1420312544, "last_edit_date": 1420312544, "creation_date": 1420312087, "answer_id": 27758531, "question_id": 27754606, "link": "https://stackoverflow.com/questions/27754606/dart-map-with-string-key-compare-with-ignore-case/27758531#27758531", "title": "Dart Map with String key, compare with ignore case", "body": "<p>Maps in Dart have an internal method that compares keys for equality. So far as I know, you can't change this for the default <code>Map</code> class. However, you can use the very similar core <code>LinkedHashMap</code> class, which not only allows, but requires that you specify a key equality method. You can check out more about LinkedHashMaps at <a href=\"https://api.dartlang.org/apidocs/channels/stable/dartdoc-viewer/dart:collection.LinkedHashMap\" rel=\"noreferrer\">https://api.dartlang.org/apidocs/channels/stable/dartdoc-viewer/dart:collection.LinkedHashMap</a></p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>LinkedHashMap&lt;String, String&gt; map = new LinkedHashMap(\n    (a, b) =&gt; a.toLowerCase() == b.toLowerCase(),\n    (key) =&gt; key.toLowerCase().hashCode\n);\n\nmap['Foo'] = 'bar';\nprint(map['foo']);   //bar\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 783, "user_id": 2761797, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4db6fd5cc9f0b12682fc6719736de181?s=128&d=identicon&r=PG", "display_name": "Jonas Kello", "link": "https://stackoverflow.com/users/2761797/jonas-kello"}, "edited": false, "score": 0, "creation_date": 1420366415, "post_id": 27761576, "comment_id": 43939563, "body": "This is also a correct answer but LinkedHashMap is the default implementation you get for a Map. Found the docs for HashMap here <a href=\"https://api.dartlang.org/apidocs/channels/stable/dartdoc-viewer/dart:collection.HashMap\" rel=\"nofollow noreferrer\">api.dartlang.org/apidocs/channels/stable/dartdoc-viewer/&hellip;</a>"}], "tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": false, "score": 6, "last_activity_date": 1420336329, "creation_date": 1420336329, "answer_id": 27761576, "question_id": 27754606, "link": "https://stackoverflow.com/questions/27754606/dart-map-with-string-key-compare-with-ignore-case/27761576#27761576", "title": "Dart Map with String key, compare with ignore case", "body": "<p>The way to create a <code>HashMap</code> with a custom equals function (and corresponding custom hashCode function) is to use the optional parameters on the <code>HashMap</code> constructor:\n</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>new HashMap&lt;String,Whatever&gt;(equals: (a, b) =&gt; a.toUpperCase() == b.toUpperCase(),\n                             hashCode: (a) =&gt; a.toUpperCase().hashCode);\n</code></pre>\n\n<p>I really, really recommend finding a way to not do the toUpperCase on every operation!</p>\n"}, {"comments": [{"owner": {"reputation": 15129, "user_id": 116891, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0c06e7b4ff0bfdb94b4493038bf70a0e?s=128&d=identicon&r=PG", "display_name": "Pat", "link": "https://stackoverflow.com/users/116891/pat"}, "edited": false, "score": 0, "creation_date": 1547766544, "post_id": 27786241, "comment_id": 95315698, "body": "This is the preferred method according to its docstring:  <code>&#47;&#47;&#47; A map whose keys are converted to canonical values of type `C`. &#47;&#47;&#47; &#47;&#47;&#47; This is useful for using case-insensitive String keys, for example. It&#39;s &#47;&#47;&#47; more efficient than a [LinkedHashMap] with a custom equality operator &#47;&#47;&#47; because it only canonicalizes each key once, rather than doing so for each &#47;&#47;&#47; comparison. &#47;&#47;&#47; &#47;&#47;&#47; By default, `null` is allowed as a key. It can be forbidden via the &#47;&#47;&#47; `isValidKey` parameter. </code>"}], "tags": [], "owner": {"reputation": 5708, "user_id": 2518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39b3031f890ad7ce40661614af8b52a6?s=128&d=identicon&r=PG", "display_name": "Natalie Weizenbaum", "link": "https://stackoverflow.com/users/2518/natalie-weizenbaum"}, "is_accepted": false, "score": 3, "last_activity_date": 1420485189, "creation_date": 1420485189, "answer_id": 27786241, "question_id": 27754606, "link": "https://stackoverflow.com/questions/27754606/dart-map-with-string-key-compare-with-ignore-case/27786241#27786241", "title": "Dart Map with String key, compare with ignore case", "body": "<p>You can also do this using <code>package:collection</code>'s <a href=\"http://www.dartdocs.org/documentation/collection/1.1.0/index.html#collection/dart-pkg-collection.CanonicalizedMap\" rel=\"nofollow\"><code>CanonicalizedMap</code></a> class. This class is explicitly designed to support maps with \"canonical\" versions of keys, and is slightly more efficient than passing a custom equality and hash code method to a normal <code>Map</code>.</p>\n"}], "owner": {"reputation": 783, "user_id": 2761797, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4db6fd5cc9f0b12682fc6719736de181?s=128&d=identicon&r=PG", "display_name": "Jonas Kello", "link": "https://stackoverflow.com/users/2761797/jonas-kello"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3526, "favorite_count": 1, "accepted_answer_id": 27758531, "answer_count": 3, "score": 10, "last_activity_date": 1420485189, "creation_date": 1420286454, "question_id": 27754606, "link": "https://stackoverflow.com/questions/27754606/dart-map-with-string-key-compare-with-ignore-case", "title": "Dart Map with String key, compare with ignore case", "body": "<p>Does the Map class in Dart have a way to ignore case if the key is a string?</p>\n\n<p>Eg.</p>\n\n<pre><code>var map = new Map&lt;String, int&gt;(/*MyComparerThatIgnoresCase*/);\nmap[\"MyKey\"] = 42;\nvar shouldBe42 = map[\"mykey\"];\n</code></pre>\n\n<p>In C# the Dictionary constructor takes a comparer like the comment above. What is the canonical way to do this in Dart?</p>\n"}, {"tags": ["dart", "dart-pub"], "comments": [{"owner": {"reputation": 75233, "user_id": 123471, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/t75zo.jpg?s=128&g=1", "display_name": "Seth Ladd", "link": "https://stackoverflow.com/users/123471/seth-ladd"}, "edited": false, "score": 0, "creation_date": 1425175987, "post_id": 27751123, "comment_id": 45854139, "body": "As of Dart 1.9 (in dev channel at the time of this writing), you should have access to async/await without requiring a flag or a transformer."}, {"owner": {"reputation": 82, "user_id": 1092806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bdf009704d1585ea463a245058081da?s=128&d=identicon&r=PG", "display_name": "mockturtl", "link": "https://stackoverflow.com/users/1092806/mockturtl"}, "edited": false, "score": 0, "creation_date": 1428443470, "post_id": 27751123, "comment_id": 47162119, "body": "Note pub uses &quot;checked mode&quot; (<a href=\"https://code.google.com/p/dart/issues/detail?id=22049\" rel=\"nofollow noreferrer\">#22049</a>); this can raise  exceptions you won&#39;t see otherwise."}], "answers": [{"comments": [{"owner": {"reputation": 1854, "user_id": 858061, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/e4oUG.jpg?s=128&g=1", "display_name": "Michael Fenwick", "link": "https://stackoverflow.com/users/858061/michael-fenwick"}, "edited": false, "score": 0, "creation_date": 1420488947, "post_id": 27754936, "comment_id": 43984192, "body": "It seems that this is the correct/only way to do it right now. Unfortunately, the transformer doesn&#39;t work if you are also using Enums right now. Such is the cost of living on the edge I suppose."}], "tags": [], "owner": {"reputation": 876, "user_id": 3803297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dad7d85f68e92113f1fc2e145522d0d7?s=128&d=identicon&r=PG&f=1", "display_name": "luizmineo", "link": "https://stackoverflow.com/users/3803297/luizmineo"}, "is_accepted": true, "score": 2, "last_activity_date": 1420289097, "last_edit_date": 1495535206, "creation_date": 1420288720, "answer_id": 27754936, "question_id": 27751123, "link": "https://stackoverflow.com/questions/27751123/using-enable-async-with-pub/27754936#27754936", "title": "Using --enable-async with pub", "body": "<p>The <code>pub run</code> command loads and executes the transformers registered in your pubspec.yaml file, before executing the app. So you can use the async-await transformer to handle async/await instructions. See <a href=\"https://stackoverflow.com/questions/27212220/async-await-feature-in-dart-1-8\">Async/Await feature in Dart 1.8</a></p>\n"}], "owner": {"reputation": 1854, "user_id": 858061, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/e4oUG.jpg?s=128&g=1", "display_name": "Michael Fenwick", "link": "https://stackoverflow.com/users/858061/michael-fenwick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 27754936, "answer_count": 1, "score": 3, "last_activity_date": 1420289097, "creation_date": 1420251634, "question_id": 27751123, "link": "https://stackoverflow.com/questions/27751123/using-enable-async-with-pub", "title": "Using --enable-async with pub", "body": "<p>I'm using the new async/await syntax in my code, and everything is working great if I run my application  directly from dart using something like <code>C:\\dart\\dart-sdk\\bin\\dart.exe --enable_async --checked C:\\code\\dart-app\\main.dart</code></p>\n\n<p>When I try to run <code>pub run main.dart</code> on the same application, however, I get an error message <code>error: line XX pos XX: use flag --enable-async to enable async/await features</code>. The <code>--enable-async</code> flag seems to be something for Dart itself, so I can't add it to the pub command.  How can I build my application using pub in a way that allows me to us the async/await syntax?</p>\n"}, {"tags": ["dart", "mixins"], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1420238206, "creation_date": 1420238206, "answer_id": 27749447, "question_id": 27749406, "link": "https://stackoverflow.com/questions/27749406/dart-mixin-composition-without-extension/27749447#27749447", "title": "Dart: mixin composition without extension", "body": "<p>I don't think this is currently possible. Many limitations of mixins are supposed to be removed but there is no specific time frame until when this will happen.</p>\n"}, {"comments": [{"owner": {"reputation": 3798, "user_id": 3098092, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/12c6b0fa6ec2efc5e87e54df4e8c78ae?s=128&d=identicon&r=PG&f=1", "display_name": "DomJack", "link": "https://stackoverflow.com/users/3098092/domjack"}, "edited": false, "score": 0, "creation_date": 1420356161, "post_id": 27761592, "comment_id": 43937625, "body": "I disagree (that this doesn&#39;t answer the question). It&#39;s not the answer I was hoping for, but I asked a yes/no question, and got a no response. That&#39;s fine. I would suggest it doesn&#39;t add anything further the Gunter&#39;s though - but verification from additional sources is never a bad thing :)"}, {"owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "edited": false, "score": 0, "creation_date": 1420448011, "post_id": 27761592, "comment_id": 43962701, "body": "I&#39;ve elaborated the answer some more. The answer is still &quot;no&quot;. If/when that changes, I&#39;ll be the first to use the feature :)"}], "tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": false, "score": 3, "last_activity_date": 1420447932, "last_edit_date": 1420447932, "creation_date": 1420336413, "answer_id": 27761592, "question_id": 27749406, "link": "https://stackoverflow.com/questions/27749406/dart-mixin-composition-without-extension/27761592#27761592", "title": "Dart: mixin composition without extension", "body": "<p>You can create a class like what you are asking for, but it won't be usable as a mixin.\n</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class SmallTalkerGreeterMixin = SmallTalkerMixin with GreeterMixin;\n</code></pre>\n\n<p>or, equivalently, </p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class SmallTalkerGreeterMixin = Object with SmallTalkerMixin, GreeterMixin;\n</code></pre>\n\n<p>This creates the class you ask for, but since its superclass is either <code>SmallTalkerMixin</code> or <code>Object with SmallTalkerMixin</code>, not <code>Object</code>, you can't use it as a mixin.</p>\n\n<p>With the current restrictions, there is no way to combine two mixins into one class which can again be used as a mixin - all mixins must have <code>Object</code> as supertype, and you can't add the functionality of two classes and still have <code>Object</code> as supertype.</p>\n\n<p>One of the ideas of a mixin is that it refers <em>only</em> to the incremental change between a class and its superclass. All classes are defined as a superclass extended with another layer on top of it. Applying a mixin class is a way to reuse the <em>extension</em>, where normal class declarations is only a way to reuse the superclass. Since a mixin is only one layer, there is no way to combine two mixins into one.</p>\n\n<p>It would definitely be a useful feature though. If you look at the <code>ListMixin</code> class, it duplicates some of the functionality of <code>IterableMixin</code>. It would be much better if it was possible to extend the <code>IterableMixin</code> and still have the result be usable as a mixin, but that's not currently possible.</p>\n"}], "owner": {"reputation": 3798, "user_id": 3098092, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/12c6b0fa6ec2efc5e87e54df4e8c78ae?s=128&d=identicon&r=PG&f=1", "display_name": "DomJack", "link": "https://stackoverflow.com/users/3098092/domjack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 300, "favorite_count": 0, "accepted_answer_id": 27749447, "answer_count": 2, "score": 1, "last_activity_date": 1420447932, "creation_date": 1420237967, "last_edit_date": 1420238078, "question_id": 27749406, "link": "https://stackoverflow.com/questions/27749406/dart-mixin-composition-without-extension", "title": "Dart: mixin composition without extension", "body": "<p>I understand Dart mixins must not extend other classes. However, is there some way to create a composition of two mixins in some way that doesn't use an extend? For example, consider the following code</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>abstract class GreeterMixin{\n  sayHello(String person) =&gt; print(\"Hello $person\");\n}\n\nabstract class SmallTalkerMixin implements GreeterMixin{\n  makeSmallTalk(String person){\n    sayHello(person);\n    print(\"The weather looks good\");\n  }\n}\n\nclass Animal{\n  final int nLegs;\n  Animal(this.nLegs);\n}\n\nclass Person extends Animal{\n  final String name;\n  Person(this.name): super(2);\n}\n\nclass SocialPerson extends Person with GreeterMixin, SmallTalkerMixin{\n  SocialPerson(String name): super(name);\n\n  introduceSelf(String person){\n    makeSmallTalk(person);\n    print(\"My name is $name\");\n  }\n}\n</code></pre>\n\n<p>Clearly, a smallTalker must be a greeter, but because I want to use SmallTalkerMixin as a mixin, it cannot extend GreeterMixin. Unfortunately, this means that everywhere I include SmallTalkerMixin as a mixin, I must also include GreeterMixin as a mixin.</p>\n\n<p>In other words, is there a way to acheive the following using just the code above?</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>abstract class SmallTalkerGreeterMixin implements SmallTalkerMixin, GreeterMixin{\n  sayHello(String person) =&gt; print(\"Hello $person\");\n\n  makeSmallTalk(String person){\n    sayHello(person);\n    print(\"The weather looks good\");\n  }\n}\n</code></pre>\n"}, {"tags": ["sass", "dart", "dart-pub"], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1420232140, "creation_date": 1420232140, "answer_id": 27748437, "question_id": 27748031, "link": "https://stackoverflow.com/questions/27748031/dart-pub-trigger-transformer-build/27748437#27748437", "title": "Dart pub trigger transformer build", "body": "<p>I'm pretty sure there isn't.  You can only build all at once or on demand by <code>pub serve</code> but <code>pub serve</code> doesn't actually create files. SASS can be started as a service to watch for file changes (instead of using the transformer) maybe this route it's easier to get what you want. </p>\n"}], "owner": {"reputation": 16, "user_id": 2662858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bLGxy.jpg?s=128&g=1", "display_name": "Zachary Huff", "link": "https://stackoverflow.com/users/2662858/zachary-huff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1424514489, "creation_date": 1420229845, "last_edit_date": 1424514489, "question_id": 27748031, "link": "https://stackoverflow.com/questions/27748031/dart-pub-trigger-transformer-build", "title": "Dart pub trigger transformer build", "body": "<p>I'm using Sass in my dart project and build the scss files to css using a transformer. The scss files can import other files so when a scss file is changed all scss files that import the changed file also have to be updated. Currently I run the <code>touch</code> cmd to trigger an update on the other files but this causes issues with text editors thinking the file data has changed. Is there a way to trigger <code>pub</code> to rebuild specific files?</p>\n"}, {"tags": ["dart", "dart-io"], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 1, "last_activity_date": 1420232418, "creation_date": 1420232418, "answer_id": 27748484, "question_id": 27747656, "link": "https://stackoverflow.com/questions/27747656/how-do-i-open-and-follow-a-file-in-dart-like-tail-f/27748484#27748484", "title": "How do I open and follow a file in Dart (like tail -f)?", "body": "<p>Somethink like this</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:io';\n\nvoid main(List&lt;String&gt; args ) {\n  var file = new File(\"test.txt\");\n  print(file.absolute);\n  var openFuture = file.open(mode: FileMode.READ);\n  openFuture.then((raf) =&gt; raf.length().then((len) =&gt; raf.setPosition(len)\n      .then((raf) =&gt; raf.readXxx...\n}\n</code></pre>\n\n<p>You can also use <code>Directory.watch</code> to get notified about changes and then reopen and read from the last known position.</p>\n"}], "owner": {"reputation": 21, "user_id": 2811052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb64ac5d02c92ab6cb692a8ac90966c?s=128&d=identicon&r=PG&f=1", "display_name": "user2811052", "link": "https://stackoverflow.com/users/2811052/user2811052"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1420232446, "creation_date": 1420227748, "last_edit_date": 1420232446, "question_id": 27747656, "link": "https://stackoverflow.com/questions/27747656/how-do-i-open-and-follow-a-file-in-dart-like-tail-f", "title": "How do I open and follow a file in Dart (like tail -f)?", "body": "<p>Is there an easy way to open a file and continously read from it without the stream getting closed on EOF? Like the Unix command <code>tail -f</code>.</p>\n\n<p>Just reading until <code>EOF</code> is described in the API docs. But I can't see an obvious/simple way to block or pause the stream for more input.</p>\n\n<p>One solution would be to repeatedly reopen the file and continue reading from the last known length when I detect that the file size has changed.</p>\n"}, {"tags": ["enums", "dart", "dart2js"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1420198406, "post_id": 27741029, "comment_id": 43893835, "body": "Is your enum defined in a <code>part</code> file? Is <code>dart2js</code> the last transformer in your <code>pubspec.yaml</code> transformer section?"}, {"owner": {"reputation": 1492, "user_id": 3449744, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b409bb791bfe5c739a5cf36c9611ee94?s=128&d=identicon&r=PG", "display_name": "Vilda", "link": "https://stackoverflow.com/users/3449744/vilda"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1420198532, "post_id": 27741029, "comment_id": 43893896, "body": "Yes. The enum is defined in a part, but dart2js transformer is the only one, is it&#39;s the last one."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1420198727, "post_id": 27741029, "comment_id": 43893991, "body": "Why are you using <code>--enable-enums</code> (plural) on command line and <code>--enable-enum</code> (singular) in the pubspec.yaml transformer config. I think it should be the same (singular on both) <a href=\"https://code.google.com/p/dart/issues/detail?id=21823#c3\" rel=\"nofollow noreferrer\">code.google.com/p/dart/issues/detail?id=21823#c3</a>"}, {"owner": {"reputation": 1492, "user_id": 3449744, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b409bb791bfe5c739a5cf36c9611ee94?s=128&d=identicon&r=PG", "display_name": "Vilda", "link": "https://stackoverflow.com/users/3449744/vilda"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1420198854, "post_id": 27741029, "comment_id": 43894046, "body": "The command line argument has a typo. Sorry. Singular should be correct AFAIK."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1420198941, "post_id": 27741029, "comment_id": 43894093, "body": "Have you tried to declare the enum in a library instead of a part? If this works I guess it is a bug with <code>part</code>."}, {"owner": {"reputation": 1492, "user_id": 3449744, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b409bb791bfe5c739a5cf36c9611ee94?s=128&d=identicon&r=PG", "display_name": "Vilda", "link": "https://stackoverflow.com/users/3449744/vilda"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1420199190, "post_id": 27741029, "comment_id": 43894187, "body": "That seems to work. Thanks."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1420199975, "post_id": 27741029, "comment_id": 43894531, "body": "Please post the link here if you file a bug report at dartbug.com."}, {"owner": {"reputation": 1492, "user_id": 3449744, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b409bb791bfe5c739a5cf36c9611ee94?s=128&d=identicon&r=PG", "display_name": "Vilda", "link": "https://stackoverflow.com/users/3449744/vilda"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1420207791, "post_id": 27741029, "comment_id": 43897691, "body": "<a href=\"https://code.google.com/p/dart/issues/detail?id=21985&amp;thanks=24524&amp;ts=1420201499\" rel=\"nofollow noreferrer\">code.google.com/p/dart/issues/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 58, "user_id": 6946083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37af0f529242536d00c2f13b1e96e3c2?s=128&d=identicon&r=PG&f=1", "display_name": "FigsHigs", "link": "https://stackoverflow.com/users/6946083/figshigs"}, "is_accepted": true, "score": 2, "last_activity_date": 1476045147, "creation_date": 1476045147, "answer_id": 39948252, "question_id": 27741029, "link": "https://stackoverflow.com/questions/27741029/dart2js-and-enumerators/39948252#39948252", "title": "Dart2JS and Enumerators", "body": "<p>As of 2016, the enumerators are fully implemented.</p>\n"}], "owner": {"reputation": 1492, "user_id": 3449744, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b409bb791bfe5c739a5cf36c9611ee94?s=128&d=identicon&r=PG", "display_name": "Vilda", "link": "https://stackoverflow.com/users/3449744/vilda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 39948252, "answer_count": 1, "score": 2, "last_activity_date": 1476045147, "creation_date": 1420196206, "last_edit_date": 1420208010, "question_id": 27741029, "link": "https://stackoverflow.com/questions/27741029/dart2js-and-enumerators", "title": "Dart2JS and Enumerators", "body": "<p>I'm using enumerators (experimental) in my project. Pub Build (Generate JS) in my Dart Editor does not work due to the enums. In my console, this command:</p>\n\n<pre><code>dart2js file.dart --enable-enum\n</code></pre>\n\n<p>does work, but it is inconvinient to do it through the console. Is there any way to add arguments to the default command in Dart Editor (--enable-enums) so it'd allow it to compile into JS?</p>\n\n<p>Running it by default in Dartium works and when copying and pasting the server url (<code>http://localhost:8080/index.html</code>), the dart2js is triggered and it starts working (after average compilation time).</p>\n\n<p>EDIT: Yes, I have enums enabled in my editor.</p>\n\n<p>EDIT2: To enable enums in dart2js, I have this transformer in pubspec.yaml:</p>\n\n<pre><code>transformers:\n- $dart2js:\n    commandLineOptions: [--enable-enum]\n</code></pre>\n\n<p>However, I get this error in a file, which uses enums:</p>\n\n<pre><code>Directive not allowed here.\npart of thing;\n^^^^^^^^^^^^^^^^\n[Info from Dart2JS]:\n</code></pre>\n\n<p>It's weird that it works in the console with the same arguments and not in the editor.</p>\n\n<p>I have filled a bug report <a href=\"https://code.google.com/p/dart/issues/detail?id=21985&amp;thanks=24524&amp;ts=1420201499\" rel=\"nofollow\">here</a>.</p>\n"}, {"tags": ["dart"], "comments": [{"owner": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "edited": false, "score": 0, "creation_date": 1420194216, "post_id": 27740459, "comment_id": 43892017, "body": "I think your usage of &lt;template&gt; and your clone stuff is broken. Why don&#39;t you use the <code>PolymerElement</code> class?"}, {"owner": {"reputation": 866, "user_id": 3151466, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KgUCi.jpg?s=128&g=1", "display_name": "user1492051", "link": "https://stackoverflow.com/users/3151466/user1492051"}, "reply_to_user": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "edited": false, "score": 0, "creation_date": 1420194479, "post_id": 27740459, "comment_id": 43892122, "body": "@Robert the problem is i see nothing wrong with my above code, could you please explain where its broken?, this is of course just a simple example, my idea is to be able to override the default template which is in another html file, and if i wanted to use polymer i would not have asked ;)"}], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1420206213, "creation_date": 1420206213, "answer_id": 27743173, "question_id": 27740459, "link": "https://stackoverflow.com/questions/27740459/a-web-component-inside-the-template-of-another/27743173#27743173", "title": "A web component inside the template of another", "body": "<p>You need to use <code>document.importNode</code> instead of <code>clone</code></p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:html';\n\nvoid main() {\n  document.registerElement('x-c', C);\n  document.registerElement('x-b', B);\n}\n\nclass ViewBase extends HtmlElement {\n  TemplateElement t;\n  ViewBase.created() : super.created() {\n    print(\"ViewBase, ${this.runtimeType}\");\n    var shadow = this.createShadowRoot();\n    shadow.append(document.importNode((this.querySelector('template') as TemplateElement)\n        .content, true));\n  }\n}\n\nclass B extends ViewBase {\n  B.created() : super.created() {\n    print(\"B, ${this.runtimeType}\");\n  }\n}\n\nclass C extends ViewBase {\n  C.created() : super.created(){\n    print(\"C, ${this.runtimeType}\");\n  }\n}\n</code></pre>\n\n<p>I changed your code a bit while playing around. You can of course use temporary variables like in the code in your question, instead of all in one line like I did.</p>\n\n<p>See also<br>\n- <a href=\"http://www.html5rocks.com/en/tutorials/webcomponents/template/\" rel=\"nofollow\">http://www.html5rocks.com/en/tutorials/webcomponents/template/</a><br>\n- <a href=\"http://webcomponents.org/articles/introduction-to-template-element/\" rel=\"nofollow\">http://webcomponents.org/articles/introduction-to-template-element/</a><br>\n- <a href=\"http://www.w3.org/TR/DOM-Level-3-Core/core.html#Core-Document-importNode\" rel=\"nofollow\">http://www.w3.org/TR/DOM-Level-3-Core/core.html#Core-Document-importNode</a></p>\n"}], "owner": {"reputation": 866, "user_id": 3151466, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KgUCi.jpg?s=128&g=1", "display_name": "user1492051", "link": "https://stackoverflow.com/users/3151466/user1492051"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 470, "favorite_count": 1, "accepted_answer_id": 27743173, "answer_count": 1, "score": 1, "last_activity_date": 1420206213, "creation_date": 1420193450, "last_edit_date": 1420204280, "question_id": 27740459, "link": "https://stackoverflow.com/questions/27740459/a-web-component-inside-the-template-of-another", "title": "A web component inside the template of another", "body": "<p>I have a custom element, which is extended by 2 other custom elements</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:html';\n\nvoid main() {\n  document.registerElement('x-c', C);\n  document.registerElement('x-b', B);\n\n}\n\nclass ViewBase extends HtmlElement{\n  TemplateElement t;\n  ViewBase.created():super.created(){\n    t = this.querySelector('template');\n    var clone = t.content.clone(true);\n    this.createShadowRoot();\n    this.shadowRoot.append(clone);\n  }\n}\n\nclass B extends ViewBase{\n  B.created():super.created();\n}\n\nclass C extends ViewBase{\n  C.created():super.created();\n}\n</code></pre>\n\n<p>when i try to do something like the following</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>&lt;x-b&gt;\n    &lt;template&gt;\n       &lt;p&gt;this is a paragraph in b shadowroot&lt;/p&gt;\n       &lt;x-c&gt;\n         &lt;template&gt;\n            &lt;p&gt;this is a paragraph in c shadowroot&lt;/p&gt;\n         &lt;/template&gt;\n       &lt;/x-c&gt;\n    &lt;/template&gt;\n &lt;/x-b&gt;\n</code></pre>\n\n<p>the nested C element constructor never gets called when the super constructor activates the template inside the B element, any idea why?</p>\n\n<p>what i expect to see on the page is</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>this is a paragraph in b shadowroot\nthis is a paragraph in c shadowroot\n</code></pre>\n\n<p>what i get is only</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>this is a paragraph in b shadowroot\n</code></pre>\n"}, {"tags": ["json", "dart"], "comments": [{"owner": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "edited": false, "score": 0, "creation_date": 1420188973, "post_id": 27739434, "comment_id": 43889972, "body": "Using JsonObject / json_object looks like a lot of overhead. Better write your own function or mirrors based serialized."}, {"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "reply_to_user": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "edited": false, "score": 0, "creation_date": 1420189300, "post_id": 27739434, "comment_id": 43890055, "body": "Is mirrors supported in dart2js? Last time I checked people commented that it&#39;s not fully implemented in dart2js which means I can&#39;t use it in the frontend."}, {"owner": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "edited": false, "score": 0, "creation_date": 1420190093, "post_id": 27739434, "comment_id": 43890310, "body": "And also see this: <a href=\"http://stackoverflow.com/questions/20024298/add-json-serializer-to-every-model-class\" title=\"add json serializer to every model class\">stackoverflow.com/questions/20024298/&hellip;</a>"}, {"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "reply_to_user": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "edited": false, "score": 0, "creation_date": 1420190339, "post_id": 27739434, "comment_id": 43890399, "body": "I saw that post, but that was posted in 2013, over a year ago hence the reason I&#39;m asking it again hoping it has been fixed since then."}], "answers": [{"comments": [{"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "edited": false, "score": 0, "creation_date": 1420188632, "post_id": 27739539, "comment_id": 43889869, "body": "Already tried that as shown in my updated question, still outputs {}"}, {"owner": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "reply_to_user": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "edited": false, "score": 0, "creation_date": 1420188694, "post_id": 27739539, "comment_id": 43889883, "body": "Try to remove <code>extends JsonObject</code> please."}, {"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "edited": false, "score": 0, "creation_date": 1420189237, "post_id": 27739539, "comment_id": 43890034, "body": "Doing that throws a stack trace, I&#39;ve updated my question with the stack trace included."}, {"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "edited": false, "score": 0, "creation_date": 1420191606, "post_id": 27739539, "comment_id": 43890894, "body": "Implementing toJson seems to be the cleanest solution even though it&#39;ll require a bit of boilerplate. I&#39;ve updated my question with the working toJson implementation, thanks Robert!"}], "tags": [], "owner": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "is_accepted": true, "score": 2, "last_activity_date": 1420189966, "last_edit_date": 1420189966, "creation_date": 1420188461, "answer_id": 27739539, "question_id": 27739434, "link": "https://stackoverflow.com/questions/27739434/dart-object-json-string-failing-to-convert-to-json/27739539#27739539", "title": "Dart Object -&gt; JSON String failing to convert to JSON", "body": "<p>I think your problem is that you use <code>print(req.toString());</code>. Have you tried to do this:</p>\n\n<p><code>objectToJson(req).then((jsonStr) =&gt; print(jsonStr));</code> Maybe this gives you a json string.</p>\n\n<p>I personally feel like you actually SHOULD provide a toJson/toObject method because you have full control over what is serialized and how it is serialized (e.g. exclude private fields, null values, ...).</p>\n\n<p>// EDIT</p>\n\n<p>Because you use <code>extends JsonObject</code> toString() returns an empty map.</p>\n\n<p>// EDIT</p>\n\n<p><a href=\"https://code.google.com/p/dart/issues/detail?id=6490\" rel=\"nofollow\">https://code.google.com/p/dart/issues/detail?id=6490</a> doesn't look like it is supported well. But then you can't use the json_object package anyway.</p>\n\n<p>Exception: Uncaught Error: Class '_LocalClassMirror' has no instance getter 'getters'. This should be because the package requires experimental mirror features.</p>\n\n<p>Using <code>JSON.encode</code> you cannot put an object into there. See <a href=\"https://api.dartlang.org/apidocs/channels/stable/dartdoc-viewer/dart:convert.JsonCodec#id_encode\" rel=\"nofollow\">https://api.dartlang.org/apidocs/channels/stable/dartdoc-viewer/dart:convert.JsonCodec#id_encode</a> :</p>\n\n<p>Either you specify the second parameter or implement <code>.toJson()</code>.</p>\n"}], "owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11313, "favorite_count": 1, "accepted_answer_id": 27739539, "answer_count": 1, "score": 4, "last_activity_date": 1420191773, "creation_date": 1420187723, "last_edit_date": 1420191773, "question_id": 27739434, "link": "https://stackoverflow.com/questions/27739434/dart-object-json-string-failing-to-convert-to-json", "title": "Dart Object -&gt; JSON String failing to convert to JSON", "body": "<p>I'm trying to serialize an object to JSON and then back from JSON to object again.</p>\n\n<p>This is the code snippet that is supposed to give me proper JSON:</p>\n\n<pre><code> LoginRequest req = new LoginRequest();\n    req.username = username;\n    req.password = password;\n    req.created = 123456;\n    req.test = \"KOTS\";\n    print(req.toString());\n</code></pre>\n\n<p>What I'm seeing in the console is this:</p>\n\n<pre><code>{} (:1)\n</code></pre>\n\n<p>In pubspec.yaml I'm importing json_object as a dependency:</p>\n\n<pre><code>environment:\n  sdk: '&gt;=1.0.0 &lt;2.0.0'\ndependencies:\n  ...\n  json_object: any\n</code></pre>\n\n<p>I have a base message class that extends JsonObject:</p>\n\n<pre><code>import 'package:json_object/json_object.dart';\n\nclass Message extends JsonObject {\n\n  int created = new DateTime.now().millisecondsSinceEpoch;\n\n}\n</code></pre>\n\n<p>and then I have a LoginRequest that extends Message:</p>\n\n<pre><code>import 'Message.dart';\n\nclass LoginRequest extends Message {\n\n  String _username;\n  String _password;\n  String test;\n\n  String get username =&gt; _username;\n  set username(String username) {\n    _username = username.trim();  \n  }\n\n  String get password =&gt; _password;\n  set password(String password) {\n    _password = password.trim(); \n  }\n\n}\n</code></pre>\n\n<p>I was thinking that only the base class will be converting to Json, so I wrote another test case:</p>\n\n<pre><code>Message msg = new Message();\nmsg.created = 123456;\nprint(msg.toString());\n</code></pre>\n\n<p>This is also printing:</p>\n\n<pre><code>{} (:1)\n</code></pre>\n\n<p>Calling objectToJson does the same:</p>\n\n<pre><code>objectToJson(msg).then((jsonStr) =&gt; print(jsonStr));\nobjectToJson(req).then((jsonStr) =&gt; print(jsonStr));\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>{}\n{}\n</code></pre>\n\n<p>Removing extends JsonObject causes the above code to spew a stack trace:</p>\n\n<pre><code>Exception: Uncaught Error: Converting object to an encodable object failed.\nStack Trace:\n#0      _JsonStringifier.writeObject (dart:convert/json.dart:660)\n#1      _JsonStringStringifier.printOn (dart:convert/json.dart:831)\n#2      _JsonStringStringifier.stringify (dart:convert/json.dart:813)\n#3      JsonEncoder.convert (dart:convert/json.dart:243)\n#4      JsonCodec.encode (dart:convert/json.dart:141)\n#5      login (package:falm/login-dialog.dart:47:22)\n#6      Function.apply (dart:core-patch/function_patch.dart:28)\n#7      GeneratedObjectAccessorService.invoke (package:smoke/static.dart:149:28)\n#8      invoke (package:smoke/smoke.dart:43:41)\n#9      HtmlElement&amp;Polymer.dispatchMethod (package:polymer/src/instance.dart:1054:19)\n#10     BindingDelegate&amp;PolymerEventBindings.getEventHandler.&lt;anonymous closure&gt; (package:polymer/src/events.dart:82:32)\n#11     _RootZone.runUnaryGuarded (dart:async/zone.dart:1093)\n#12     _RootZone.bindUnaryCallback.&lt;anonymous closure&gt; (dart:async/zone.dart:1122)\n#13     BindingDelegate&amp;PolymerEventBindings.prepareEventBinding.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:polymer/src/events.dart:101:67)\n\nClicked Login (:1)\nException: Uncaught Error: Class '_LocalClassMirror' has no instance getter 'getters'.\n\nNoSuchMethodError: method not found: 'getters'\nReceiver: Instance of '_LocalClassMirror'\nArguments: []\nStack Trace:\n#0      Object.noSuchMethod (dart:core-patch/object_patch.dart:45)\n#1      _serializeObject (package:json_object/src/mirror_based_serializer.dart:127:16)\n#2      objectToSerializable (package:json_object/src/mirror_based_serializer.dart:53:21)\n#3      objectToJson (package:json_object/src/mirror_based_serializer.dart:22:23)\n#4      login (package:falm/login-dialog.dart:43:17)\n#5      Function.apply (dart:core-patch/function_patch.dart:28)\n#6      GeneratedObjectAccessorService.invoke (package:smoke/static.dart:149:28)\n#7      invoke (package:smoke/smoke.dart:43:41)\n#8      HtmlElement&amp;Polymer.dispatchMethod (package:polymer/src/instance.dart:1054:19)\n#9      BindingDelegate&amp;PolymerEventBindings.getEventHandler.&lt;anonymous closure&gt; (package:polymer/src/events.dart:82:32)\n#10     _RootZone.runUnaryGuarded (dart:async/zone.dart:1093)\n#11     _RootZone.bindUnaryCallback.&lt;anonymous closure&gt; (dart:async/zone.dart:1122)\n#12     BindingDelegate&amp;PolymerEventBindings.prepareEventBinding.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:polymer/src/events.dart:101:67)\n\nClicked Login (:1)\nException: Uncaught Error: Converting object to an encodable object failed.\nStack Trace:\n#0      _JsonStringifier.writeObject (dart:convert/json.dart:660)\n#1      _JsonStringStringifier.printOn (dart:convert/json.dart:831)\n#2      _JsonStringStringifier.stringify (dart:convert/json.dart:813)\n#3      JsonEncoder.convert (dart:convert/json.dart:243)\n#4      JsonCodec.encode (dart:convert/json.dart:141)\n#5      login (package:falm/login-dialog.dart:47:22)\n#6      Function.apply (dart:core-patch/function_patch.dart:28)\n#7      GeneratedObjectAccessorService.invoke (package:smoke/static.dart:149:28)\n#8      invoke (package:smoke/smoke.dart:43:41)\n#9      HtmlElement&amp;Polymer.dispatchMethod (package:polymer/src/instance.dart:1054:19)\n#10     BindingDelegate&amp;PolymerEventBindings.getEventHandler.&lt;anonymous closure&gt; (package:polymer/src/events.dart:82:32)\n#11     _RootZone.runUnaryGuarded (dart:async/zone.dart:1093)\n#12     _RootZone.bindUnaryCallback.&lt;anonymous closure&gt; (dart:async/zone.dart:1122)\n#13     BindingDelegate&amp;PolymerEventBindings.prepareEventBinding.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:polymer/src/events.dart:101:67)\n\nClicked Login (:1)\nException: Uncaught Error: Class '_LocalClassMirror' has no instance getter 'getters'.\n\nNoSuchMethodError: method not found: 'getters'\nReceiver: Instance of '_LocalClassMirror'\nArguments: []\nStack Trace:\n#0      Object.noSuchMethod (dart:core-patch/object_patch.dart:45)\n#1      _serializeObject (package:json_object/src/mirror_based_serializer.dart:127:16)\n#2      objectToSerializable (package:json_object/src/mirror_based_serializer.dart:53:21)\n#3      objectToJson (package:json_object/src/mirror_based_serializer.dart:22:23)\n#4      login (package:falm/login-dialog.dart:44:17)\n#5      Function.apply (dart:core-patch/function_patch.dart:28)\n#6      GeneratedObjectAccessorService.invoke (package:smoke/static.dart:149:28)\n#7      invoke (package:smoke/smoke.dart:43:41)\n#8      HtmlElement&amp;Polymer.dispatchMethod (package:polymer/src/instance.dart:1054:19)\n#9      BindingDelegate&amp;PolymerEventBindings.getEventHandler.&lt;anonymous closure&gt; (package:polymer/src/events.dart:82:32)\n#10     _RootZone.runUnaryGuarded (dart:async/zone.dart:1093)\n#11     _RootZone.bindUnaryCallback.&lt;anonymous closure&gt; (dart:async/zone.dart:1122)\n#12     BindingDelegate&amp;PolymerEventBindings.prepareEventBinding.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:polymer/src/events.dart:101:67)\n</code></pre>\n\n<p>Importing dart:convert and using JSON.encode does the same:</p>\n\n<pre><code>import 'dart:convert' show JSON;\n\n...\n\n  print(JSON.encode(msg));\n  print(JSON.encode(req));\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>{}\n{}\n</code></pre>\n\n<p>If I remove the extends JsonObject, then it throws a stack trace:</p>\n\n<pre><code>Exception: Uncaught Error: Converting object to an encodable object failed.\nStack Trace:\n#0      _JsonStringifier.writeObject (dart:convert/json.dart:660)\n#1      _JsonStringStringifier.printOn (dart:convert/json.dart:831)\n#2      _JsonStringStringifier.stringify (dart:convert/json.dart:813)\n#3      JsonEncoder.convert (dart:convert/json.dart:243)\n#4      JsonCodec.encode (dart:convert/json.dart:141)\n#5      login (package:falm/login-dialog.dart:47:22)\n#6      Function.apply (dart:core-patch/function_patch.dart:28)\n#7      GeneratedObjectAccessorService.invoke (package:smoke/static.dart:149:28)\n#8      invoke (package:smoke/smoke.dart:43:41)\n#9      HtmlElement&amp;Polymer.dispatchMethod (package:polymer/src/instance.dart:1054:19)\n#10     BindingDelegate&amp;PolymerEventBindings.getEventHandler.&lt;anonymous closure&gt; (package:polymer/src/events.dart:82:32)\n#11     _RootZone.runUnaryGuarded (dart:async/zone.dart:1093)\n#12     _RootZone.bindUnaryCallback.&lt;anonymous closure&gt; (dart:async/zone.dart:1122)\n#13     BindingDelegate&amp;PolymerEventBindings.prepareEventBinding.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:polymer/src/events.dart:101:67)\n\nClicked Login (:1)\nException: Uncaught Error: Class '_LocalClassMirror' has no instance getter 'getters'.\n\nNoSuchMethodError: method not found: 'getters'\nReceiver: Instance of '_LocalClassMirror'\nArguments: []\nStack Trace:\n#0      Object.noSuchMethod (dart:core-patch/object_patch.dart:45)\n#1      _serializeObject (package:json_object/src/mirror_based_serializer.dart:127:16)\n#2      objectToSerializable (package:json_object/src/mirror_based_serializer.dart:53:21)\n#3      objectToJson (package:json_object/src/mirror_based_serializer.dart:22:23)\n#4      login (package:falm/login-dialog.dart:43:17)\n#5      Function.apply (dart:core-patch/function_patch.dart:28)\n#6      GeneratedObjectAccessorService.invoke (package:smoke/static.dart:149:28)\n#7      invoke (package:smoke/smoke.dart:43:41)\n#8      HtmlElement&amp;Polymer.dispatchMethod (package:polymer/src/instance.dart:1054:19)\n#9      BindingDelegate&amp;PolymerEventBindings.getEventHandler.&lt;anonymous closure&gt; (package:polymer/src/events.dart:82:32)\n#10     _RootZone.runUnaryGuarded (dart:async/zone.dart:1093)\n#11     _RootZone.bindUnaryCallback.&lt;anonymous closure&gt; (dart:async/zone.dart:1122)\n#12     BindingDelegate&amp;PolymerEventBindings.prepareEventBinding.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:polymer/src/events.dart:101:67)\n\nClicked Login (:1)\nException: Uncaught Error: Converting object to an encodable object failed.\nStack Trace:\n#0      _JsonStringifier.writeObject (dart:convert/json.dart:660)\n#1      _JsonStringStringifier.printOn (dart:convert/json.dart:831)\n#2      _JsonStringStringifier.stringify (dart:convert/json.dart:813)\n#3      JsonEncoder.convert (dart:convert/json.dart:243)\n#4      JsonCodec.encode (dart:convert/json.dart:141)\n#5      login (package:falm/login-dialog.dart:47:22)\n#6      Function.apply (dart:core-patch/function_patch.dart:28)\n#7      GeneratedObjectAccessorService.invoke (package:smoke/static.dart:149:28)\n#8      invoke (package:smoke/smoke.dart:43:41)\n#9      HtmlElement&amp;Polymer.dispatchMethod (package:polymer/src/instance.dart:1054:19)\n#10     BindingDelegate&amp;PolymerEventBindings.getEventHandler.&lt;anonymous closure&gt; (package:polymer/src/events.dart:82:32)\n#11     _RootZone.runUnaryGuarded (dart:async/zone.dart:1093)\n#12     _RootZone.bindUnaryCallback.&lt;anonymous closure&gt; (dart:async/zone.dart:1122)\n#13     BindingDelegate&amp;PolymerEventBindings.prepareEventBinding.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:polymer/src/events.dart:101:67)\n</code></pre>\n\n<p>Is JsonObject still the right way to go for serializing objects to JSON and deserializing JSON to objects? (I see in the code copyright 2013 which is ancient by now). If so, am I missing something in my classes?</p>\n\n<p>In the dart cookbook there are examples where every class has its own toJson method and where all the values are manually copied into a map, this is cumbersome, if my whole app is JSON-driven, then I'll be spending most of my time writing boilerplate toJson / fromJson methods - this is exactly what I'm trying to get away from, hence the reason for choosing dart.</p>\n\n<p>Furthermore I see examples on StackOverflow where mirrors are being used followed by comments that mirrors aren't fully supported in dart2js - since this is a browser based application, it is crucial that it can compile to javascript.</p>\n\n<p><strong>Update</strong>:</p>\n\n<p>Based on Robert's answer, it seems doing the boilerplate is unavoidable:</p>\n\n<p>Message.dart</p>\n\n<pre><code>import 'dart:convert' show JSON;\n\nclass Message {\n\n  int created = new DateTime.now().millisecondsSinceEpoch;\n\n  Map toJson() { \n    Map map = new Map();\n    map[\"created\"] = this.created;\n    return map;\n  }  \n\n  String toString(){\n    return JSON.encode(this);\n  }\n\n}\n</code></pre>\n\n<p>LoginRequest.dart</p>\n\n<pre><code>import 'Message.dart';\n\nclass LoginRequest extends Message {\n\n  String _username;\n  String _password;\n  String test;\n\n  String get username =&gt; _username;\n  set username(String username) {\n    _username = username.trim();  \n  }\n\n  String get password =&gt; _password;\n  set password(String password) {\n    _password = password.trim(); \n  }\n\n  Map toJson() { \n    Map map = super.toJson();\n    map[\"username\"] = this.username;\n    map[\"password\"] = this.password;\n    return map;\n  }  \n\n}\n</code></pre>\n\n<p>Test code:</p>\n\n<pre><code>LoginRequest req = new LoginRequest();\nreq.username = username;\nreq.password = password;\nreq.created = 123456;\nreq.test = \"KOTS\";\nprint(req);\n// outputs: {\"created\":123456,\"username\":\"asdfasdf\",\"password\":\"adfasdf\"} (:1)\n\nMessage msg = new Message();\nmsg.created = 123456;\nprint(msg);\n// outputs: {\"created\":123456} (:1)\n</code></pre>\n\n<p>toString I only need to implement once on the Message class, toJson will need to go on every class.</p>\n"}, {"tags": ["google-app-engine", "dart", "docker", "boot2docker"], "answers": [{"comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 8692, "user_id": 2118130, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/4c625ee20608ac0826ae23d70886b0d6?s=128&d=identicon&r=PG", "display_name": "Cristian Garcia", "link": "https://stackoverflow.com/users/2118130/cristian-garcia"}, "edited": false, "score": 0, "creation_date": 1420222985, "post_id": 27738781, "comment_id": 43904423, "body": "If you do it right <code>pub get</code> is fast because Docker caches it. Do you use boot2docker or not?  Which host OS are you using?"}, {"owner": {"reputation": 8692, "user_id": 2118130, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/4c625ee20608ac0826ae23d70886b0d6?s=128&d=identicon&r=PG", "display_name": "Cristian Garcia", "link": "https://stackoverflow.com/users/2118130/cristian-garcia"}, "edited": false, "score": 0, "creation_date": 1420232248, "post_id": 27738781, "comment_id": 43908101, "body": "boot2docker on windows"}, {"owner": {"reputation": 8692, "user_id": 2118130, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/4c625ee20608ac0826ae23d70886b0d6?s=128&d=identicon&r=PG", "display_name": "Cristian Garcia", "link": "https://stackoverflow.com/users/2118130/cristian-garcia"}, "edited": false, "score": 0, "creation_date": 1420233142, "post_id": 27738781, "comment_id": 43908443, "body": "my current practice is to delete the image before a new build, I lose the benefits of the cache"}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 2, "last_activity_date": 1420184518, "last_edit_date": 1420184518, "creation_date": 1420183138, "answer_id": 27738781, "question_id": 27736831, "link": "https://stackoverflow.com/questions/27736831/docker-v-and-symlinks/27738781#27738781", "title": "docker -v and symlinks", "body": "<p>As far as I know you need to add the Windows folder as shared folder to VirtualBox to be able to mount it using <code>-v</code> using <code>boot2docker</code>.</p>\n\n<p><code>gcloud</code> doesn't use <code>-v</code>, it uses these Dockerfiles <a href=\"https://github.com/dart-lang/dart_docker\" rel=\"nofollow\">https://github.com/dart-lang/dart_docker</a>.<br>\nSee also <a href=\"https://www.dartlang.org/server/google-cloud-platform/app-engine/setup.html\" rel=\"nofollow\">https://www.dartlang.org/server/google-cloud-platform/app-engine/setup.html</a>, <a href=\"https://www.dartlang.org/server/google-cloud-platform/app-engine/run.html\" rel=\"nofollow\">https://www.dartlang.org/server/google-cloud-platform/app-engine/run.html</a><br>\n<code>gclould</code> monitors the source directory for changes and rebuilds the image.</p>\n"}], "owner": {"reputation": 8692, "user_id": 2118130, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/4c625ee20608ac0826ae23d70886b0d6?s=128&d=identicon&r=PG", "display_name": "Cristian Garcia", "link": "https://stackoverflow.com/users/2118130/cristian-garcia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 366, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1420221094, "creation_date": 1420166770, "last_edit_date": 1420221094, "question_id": 27736831, "link": "https://stackoverflow.com/questions/27736831/docker-v-and-symlinks", "title": "docker -v and symlinks", "body": "<p>I am on a Windows machine trying to create a Dart server. I had success building and image with my files with <code>ADD</code> and running the container. However, it is painful to build an image every time I wan't to test my code so I thought it would be better to mount my files with the <code>-v</code> command since they are access live from my host machine at runtime.</p>\n\n<p>The problem is that dart's packages folder at <code>/bin/packages</code> is really a symlink (if its called symlink in windows) and docker or boot2docker or whatever doesn't seem able to go past it and I get</p>\n\n<pre><code>Protocol error, errno = 71\n</code></pre>\n\n<p>I've used dart with GAE and the <code>gcloud</code> command somehow created the container, got your files in there and reacted to changes in your host files. I don't know if they used the <code>-v</code> option (as I am trying) or they have some auto-builder that created a new image with your files using <code>ADD</code> and the ran it, in anycase that seemed to work.</p>\n\n<p><strong>More Info</strong></p>\n\n<p>I've been using this Dockerfile that I modified from <a href=\"https://registry.hub.docker.com/u/google/dart/\" rel=\"nofollow\">google/dart</a></p>\n\n<pre><code>FROM google/dart\n\nRUN ln -s /usr/lib/dart /usr/lib/dart/bin/dart-sdk\n\nWORKDIR /app\n\n# ADD pubspec.* /app/\n# RUN pub get\n# ADD . /app\n# RUN pub get --offline\n\nWORKDIR /app/bin\n\nENTRYPOINT dart\nCMD server.dart\n</code></pre>\n\n<p>As you see, most of it is commented out because instead of <code>ADD</code> I'd like to use <code>-v</code>. However, you can notice that on this script they do <code>pub get</code> twice, and that effectively creates the packages <strong>inside</strong> the container.</p>\n\n<p>Using <code>-v</code> it can't reach those packages because they are behind <em>host symlinks</em>. However, <code>pub get</code> actually takes a while as it install the standard packages plus your added dependencies. It this the only way?</p>\n"}, {"tags": ["javascript", "dart", "dart-html", "web-midi"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1420155957, "post_id": 27735774, "comment_id": 43883036, "body": "What is the full error message, and which line is it happening on?"}, {"owner": {"reputation": 13, "user_id": 2227199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f31f93ffb4c6a1b92eefaea7a55f8eb6?s=128&d=identicon&r=PG", "display_name": "user2227199", "link": "https://stackoverflow.com/users/2227199/user2227199"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1420223864, "post_id": 27735774, "comment_id": 43904738, "body": "Thank you very much, rms !"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2396155"}, "is_accepted": true, "score": 0, "last_activity_date": 1420193683, "creation_date": 1420193683, "answer_id": 27740509, "question_id": 27735774, "link": "https://stackoverflow.com/questions/27735774/type-error-when-calling-send-on-midioutput-proxy/27740509#27740509", "title": "type error when calling &quot;send&quot; on MidiOutput proxy", "body": "<p>The data array passed to the <code>send</code> method needs to be converted from a Dart array to a Javascript array, using <code>dart:js</code> as follows:</p>\n\n<p><code>\noutput.callMethod('send', [new JsArray.from([144 , 60, 127])]);\n</code></p>\n"}], "owner": {"reputation": 13, "user_id": 2227199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f31f93ffb4c6a1b92eefaea7a55f8eb6?s=128&d=identicon&r=PG", "display_name": "user2227199", "link": "https://stackoverflow.com/users/2227199/user2227199"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 27740509, "answer_count": 1, "score": 1, "last_activity_date": 1420193683, "creation_date": 1420155827, "last_edit_date": 1420183268, "question_id": 27735774, "link": "https://stackoverflow.com/questions/27735774/type-error-when-calling-send-on-midioutput-proxy", "title": "type error when calling &quot;send&quot; on MidiOutput proxy", "body": "<p>Apparently there's is a problem with the method navigator.requestMIDIAccess() in dart. <a href=\"https://code.google.com/p/dart/issues/detail?id=21805\" rel=\"nofollow\">https://code.google.com/p/dart/issues/detail?id=21805</a></p>\n\n<p>So I tried the workaround using javascript proxies.\nListing the midi ports on the console is no problem.\nHowever when I try to send a midi note, an error gets raised: 'Type Error'</p>\n\n<p>I can't find out howto pass the 'note-on' parameter? <code>output.callMethod('send', [[144 , 60, 127]]);</code>\noutputs[0] gives me \"Microsoft GS Wavetable Synth\"</p>\n\n<pre><code>import 'dart:html';\nimport 'dart:js';\n\nvoid main() {\n  final JsObject w = new JsObject.fromBrowserObject(window);\n  final JsObject n = w['navigator'];\n\n  if (n.hasProperty('requestMIDIAccess')) {\n    n.callMethod('requestMIDIAccess').callMethod('then', [(JsObject midiAccess) {\n        JsObject inputs = new JsObject.jsify(midiAccess.callMethod('outputs'));\n        for (JsObject input in inputs) {\n         print(input['name']);\n        }\n        ;\n        sendMiddleC(midiAccess, 1);\n      }]);\n  }\n\n}\n\nvoid sendMiddleC(midiAccess, portID) {\n  JsObject outputs = midiAccess.callMethod('outputs');\n  JsObject output = outputs[0];\n  output.callMethod('send', [[144 , 60, 127]]);\n}\n</code></pre>\n"}, {"tags": ["javascript", "android", "ios", "dart"], "answers": [{"comments": [{"owner": {"reputation": 4829, "user_id": 2754218, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6e87368666dbd25ad4288859d10fda55?s=128&d=identicon&r=PG", "display_name": "Jean Lebrument", "link": "https://stackoverflow.com/users/2754218/jean-lebrument"}, "edited": false, "score": 0, "creation_date": 1420151300, "post_id": 27735075, "comment_id": 43881934, "body": "The problem is that dart2js converts dart to not &quot;plain js&quot; but in a JS that the VM can interpret. So I don&#39;t know if it&#39;s possible using dart2js."}, {"owner": {"reputation": 95, "user_id": 4408522, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-pN0cZ6qwSlY/AAAAAAAAAAI/AAAAAAAAABc/jj510rjh30A/photo.jpg?sz=128", "display_name": "GoogleFailedMe", "link": "https://stackoverflow.com/users/4408522/googlefailedme"}, "reply_to_user": {"reputation": 4829, "user_id": 2754218, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6e87368666dbd25ad4288859d10fda55?s=128&d=identicon&r=PG", "display_name": "Jean Lebrument", "link": "https://stackoverflow.com/users/2754218/jean-lebrument"}, "edited": false, "score": 1, "creation_date": 1420151768, "post_id": 27735075, "comment_id": 43882067, "body": "yea its not the best process but its the only one atm. I can confirm Cocoonjs worked with my 2d dart game. You may get different results."}, {"owner": {"reputation": 4829, "user_id": 2754218, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6e87368666dbd25ad4288859d10fda55?s=128&d=identicon&r=PG", "display_name": "Jean Lebrument", "link": "https://stackoverflow.com/users/2754218/jean-lebrument"}, "edited": false, "score": 0, "creation_date": 1420163570, "post_id": 27735075, "comment_id": 43884513, "body": "I&#39;m hesitating between Typescript and Dart. Because the process to be able to call Javascript from Dart is quite long."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1422623779, "post_id": 27735075, "comment_id": 44834690, "body": "Can you post an example for an quite long JS interop call? What do you mean by &quot;not plain&quot; JS. It might be not very readable but dart2js produces normal JS."}, {"owner": {"reputation": 4829, "user_id": 2754218, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6e87368666dbd25ad4288859d10fda55?s=128&d=identicon&r=PG", "display_name": "Jean Lebrument", "link": "https://stackoverflow.com/users/2754218/jean-lebrument"}, "edited": false, "score": 0, "creation_date": 1422644925, "post_id": 27735075, "comment_id": 44846648, "body": "For the JS interop call, take a look on the skyscanner article on my OP. <a href=\"http://pastebin.com/25P8ugnS\" rel=\"nofollow noreferrer\">pastebin.com/25P8ugnS</a> As you can see on the pastbin, the Javascript code created by dart2js is optimized to be executed faster than &quot;regular&quot; JS. But I don&#39;t know if I can still have interaction between iOS/dart2js code and Android/dart2js code."}], "tags": [], "owner": {"reputation": 95, "user_id": 4408522, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-pN0cZ6qwSlY/AAAAAAAAAAI/AAAAAAAAABc/jj510rjh30A/photo.jpg?sz=128", "display_name": "GoogleFailedMe", "link": "https://stackoverflow.com/users/4408522/googlefailedme"}, "is_accepted": false, "score": 1, "last_activity_date": 1420149621, "creation_date": 1420149621, "answer_id": 27735075, "question_id": 27733931, "link": "https://stackoverflow.com/questions/27733931/interaction-between-dart-objective-c-and-dart-java/27735075#27735075", "title": "Interaction between Dart/Objective-C and Dart/Java", "body": "<p>You can code it in Dart and use dart2js to output JS code then put that JS code in PhoneGap or Cocoonjs to get it on Android/IOS. </p>\n\n<p>The article seems to show how its done with JavaScript. I am sure its possible to code a Dart mobile cross-platform library but it hasnt been done yet. </p>\n"}, {"comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422623533, "post_id": 28236671, "comment_id": 44834560, "body": "Dart can be compiled to JS. If it is possible with JS it usually is possible in Dart too."}, {"owner": {"reputation": 434, "user_id": 376675, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b25d99c4030027a9be346962cf7c5a0d?s=128&d=identicon&r=PG", "display_name": "Lex Berezhny", "link": "https://stackoverflow.com/users/376675/lex-berezhny"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422623744, "post_id": 28236671, "comment_id": 44834667, "body": "The OP says he wants to run Dart in Dart VM &quot;the same way that JavaScript runs in JavaScript VM&quot;."}, {"owner": {"reputation": 4829, "user_id": 2754218, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6e87368666dbd25ad4288859d10fda55?s=128&d=identicon&r=PG", "display_name": "Jean Lebrument", "link": "https://stackoverflow.com/users/2754218/jean-lebrument"}, "edited": false, "score": 0, "creation_date": 1422644519, "post_id": 28236671, "comment_id": 44846427, "body": "I created a more complete post here: <a href=\"http://stackoverflow.com/questions/28223230/questions-about-web-languages-interoperability-in-a-cross-plateform-project/28225220?noredirect=1#comment44833999_28225220\" title=\"questions about web languages interoperability in a cross plateform project\">stackoverflow.com/questions/28223230/&hellip;</a> I think we can close this one and continue on the new one."}], "tags": [], "owner": {"reputation": 434, "user_id": 376675, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b25d99c4030027a9be346962cf7c5a0d?s=128&d=identicon&r=PG", "display_name": "Lex Berezhny", "link": "https://stackoverflow.com/users/376675/lex-berezhny"}, "is_accepted": false, "score": 1, "last_activity_date": 1422623429, "creation_date": 1422623429, "answer_id": 28236671, "question_id": 27733931, "link": "https://stackoverflow.com/questions/27733931/interaction-between-dart-objective-c-and-dart-java/28236671#28236671", "title": "Interaction between Dart/Objective-C and Dart/Java", "body": "<p>iOS does not allow 3rd party VMs to be included with your app. The only VM you have access to is the JavaScript VM that is bundled standard with iOS. Even Google Chrome on iOS is crippled in this way (they cannot include v8 on iOS).</p>\n"}], "owner": {"reputation": 4829, "user_id": 2754218, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6e87368666dbd25ad4288859d10fda55?s=128&d=identicon&r=PG", "display_name": "Jean Lebrument", "link": "https://stackoverflow.com/users/2754218/jean-lebrument"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 444, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1452027750, "creation_date": 1420140555, "last_edit_date": 1452027750, "question_id": 27733931, "link": "https://stackoverflow.com/questions/27733931/interaction-between-dart-objective-c-and-dart-java", "title": "Interaction between Dart/Objective-C and Dart/Java", "body": "<p>I read a really interesting article about how create cross-plateform app : <a href=\"http://www.skyscanner.net/blogs/developing-mobile-cross-platform-library-part-3-javascript\" rel=\"nofollow\">http://www.skyscanner.net/blogs/developing-mobile-cross-platform-library-part-3-javascript</a></p>\n\n<p>But I would prefer use Dart instead of Javascript, and I was wondering if it's possible to interact between Dart/Objc and Dart/Java (Android), in the exact same way that is showed in the article (run a Javascript VM to execute the javascript code).</p>\n\n<p>Thanks</p>\n"}, {"tags": ["dart", "google-drive-api"], "answers": [{"tags": [], "owner": {"reputation": 11427, "user_id": 702875, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/8LJM3.jpg?s=128&g=1", "display_name": "Eric Koleda", "link": "https://stackoverflow.com/users/702875/eric-koleda"}, "is_accepted": true, "score": 1, "last_activity_date": 1420641307, "creation_date": 1420641307, "answer_id": 27821760, "question_id": 27732754, "link": "https://stackoverflow.com/questions/27732754/perform-drive-api-requests/27821760#27821760", "title": "Perform Drive API requests", "body": "<p>The Google Drive API doesn't natively support the ability to lookup folders or files by their path, resulting in the need to make multiple requests as you've demonstrated. Our recommended approach is to not base your code around paths, but instead folder or file IDs. Store the ID of the folder you are looking up and use it to search for files.</p>\n"}], "owner": {"reputation": 1271, "user_id": 3296660, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a76d22e6c17075af3579b14eacb95192?s=128&d=identicon&r=PG&f=1", "display_name": "Druxtan", "link": "https://stackoverflow.com/users/3296660/druxtan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 27821760, "answer_count": 1, "score": 0, "last_activity_date": 1420641307, "creation_date": 1420131484, "question_id": 27732754, "link": "https://stackoverflow.com/questions/27732754/perform-drive-api-requests", "title": "Perform Drive API requests", "body": "<p>I want to list the files contained in a specific folder. </p>\n\n<p>I have to make 3 requests...</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>drive.files.list(q: \"'root' in parents and title = '_folder_A'\").then((storage.FileList list_0) {\n  drive.files.list(q: \"'${list_0.items[0].id}' in parents and title = '_folder_a'\").then((storage.FileList list_1) {\n    drive.files.list(q: \"'${list_1.items[0].id}' in parents\").then((storage.FileList list_3) {\n        print(list_3.items[0].title); // The good file\n    });\n  });\n});\n</code></pre>\n\n<p>Do you have a better proposition ?</p>\n"}, {"tags": ["dart", "dart-polymer"], "answers": [{"tags": [], "owner": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "is_accepted": true, "score": 2, "last_activity_date": 1420140262, "creation_date": 1420140262, "answer_id": 27733890, "question_id": 27732284, "link": "https://stackoverflow.com/questions/27732284/watching-an-observablelist/27733890#27733890", "title": "Watching an ObservableList", "body": "<p>Yes, that's the way you should use. From the ObservableList source code:</p>\n\n<pre><code>    /// [...]\n    ///\n    /// Each list change record contains information about an individual mutation.\n    /// The records are projected so they can be applied sequentially. For\n    /// example, this set of mutations:\n    ///\n    ///     var model = new ObservableList.from(['a', 'b']);\n    ///     model.listChanges.listen((records) =&gt; records.forEach(print));\n    ///     model.removeAt(1);\n    ///     model.insertAll(0, ['c', 'd', 'e']);\n    ///     model.removeRange(1, 3);\n    ///     model.insert(1, 'f');\n    ///\n    /// The change records will be summarized so they can be \"played back\", using\n    /// the final list positions to figure out which item was added:\n    ///\n    ///     #&lt;ListChangeRecord index: 0, removed: [], addedCount: 2&gt;\n    ///     #&lt;ListChangeRecord index: 3, removed: [b], addedCount: 0&gt;\n    ///\n    /// [...]\n</code></pre>\n"}], "owner": {"reputation": 866, "user_id": 3151466, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KgUCi.jpg?s=128&g=1", "display_name": "user1492051", "link": "https://stackoverflow.com/users/3151466/user1492051"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 728, "favorite_count": 0, "accepted_answer_id": 27733890, "answer_count": 1, "score": 0, "last_activity_date": 1420140262, "creation_date": 1420127858, "question_id": 27732284, "link": "https://stackoverflow.com/questions/27732284/watching-an-observablelist", "title": "Watching an ObservableList", "body": "<p>i have an </p>\n\n<pre><code>ObservableList&lt;Model&gt; models;\n</code></pre>\n\n<p>and i listen to changes as follows</p>\n\n<pre><code>models.listChanges.listen((changes){\n      changes.forEach((change){\n         print(change);\n         List&lt;Model&gt; removedItems = change.removed; //a list of removed objects \n         //how to get a list of the items that have been added?\n      });\n    });\n</code></pre>\n\n<p>how to get a list of the items that have been added?</p>\n\n<p>and sometimes i get notifications like the following, what does the index actually refer to?</p>\n\n<pre><code>#&lt;ListChangeRecord index: 49, removed: [Instance of 'Model', Instance of 'Model'], addedCount: 19&gt;\n</code></pre>\n\n<p>to get the added items my guess is </p>\n\n<pre><code>var addedItems = models.getRange(change.index,change.index+change.addedCount);`\n</code></pre>\n\n<p>but is that actually the right way?</p>\n"}, {"tags": ["gwt", "dart", "polymer", "dart-polymer"], "comments": [{"owner": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "edited": false, "score": 0, "creation_date": 1420122371, "post_id": 27731429, "comment_id": 43874569, "body": "What&#39;s your problem?! Any errors? Show us your code."}, {"owner": {"reputation": 28, "user_id": 2884260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/700ed7a707932fa8eba4f9c03ecfd439?s=128&d=identicon&r=PG&f=1", "display_name": "user2884260", "link": "https://stackoverflow.com/users/2884260/user2884260"}, "reply_to_user": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "edited": false, "score": 0, "creation_date": 1420133078, "post_id": 27731429, "comment_id": 43877274, "body": "already found the solution. instead of including polymer into gwt, I use the html file produced by the polymer transformer as entry point and  include the gwt javascript int this page."}, {"owner": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "edited": false, "score": 0, "creation_date": 1420140224, "post_id": 27731429, "comment_id": 43879226, "body": "Then please post your solution and accept your own answer."}], "answers": [{"tags": [], "owner": {"reputation": 28, "user_id": 2884260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/700ed7a707932fa8eba4f9c03ecfd439?s=128&d=identicon&r=PG&f=1", "display_name": "user2884260", "link": "https://stackoverflow.com/users/2884260/user2884260"}, "is_accepted": false, "score": 0, "last_activity_date": 1420152530, "last_edit_date": 1420152530, "creation_date": 1420152207, "answer_id": 27735380, "question_id": 27731429, "link": "https://stackoverflow.com/questions/27731429/gwt-dart-polymer-integration/27735380#27735380", "title": "gwt - dart - polymer integration", "body": "<p>my original setup as posted was to include the dart main file into the entry point html file of the gwt project.   </p>\n\n<pre><code>script src=\"dart_application/web/dart_plain.dart\" type=\"application/dart\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>in this setup i copied the outpout from pub build into a subdirectory of the gwt web app tree (dart_applikation)</p>\n\n<p>this worked fine for plain dart.</p>\n\n<p>what I do now is:</p>\n\n<p>1) make the entry point html file of the dart/polymer app the entry point file for the gwt\napp. (this is done by a script copying the dart2js/pub build output to the gwt tree)</p>\n\n<p>2) include the gwt js file in the main html file of the dart polymer project at the very beginning of the file.</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"app/app.nocache.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>3) include also all the additional js files gwt needs in the main dart html file.</p>\n\n<p>following are the steps top produce a app.war file that includes my gwt and dart-polymer app:</p>\n\n<p>a) pub build the dart-polymer project </p>\n\n<p>b) compile the gwt project</p>\n\n<p>c) copy the \"build/web\" directory to the root of the webapps directory of the gwt project.</p>\n\n<p>d) zip all together to one war file.</p>\n\n<p>a bit hacky, but it seems to work.</p>\n"}], "owner": {"reputation": 28, "user_id": 2884260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/700ed7a707932fa8eba4f9c03ecfd439?s=128&d=identicon&r=PG&f=1", "display_name": "user2884260", "link": "https://stackoverflow.com/users/2884260/user2884260"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 348, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1420152997, "creation_date": 1420120852, "last_edit_date": 1420152997, "question_id": 27731429, "link": "https://stackoverflow.com/questions/27731429/gwt-dart-polymer-integration", "title": "gwt - dart - polymer integration", "body": "<p>i have a developed gwt application and have it in production. </p>\n\n<p>i  would like to continue development in dart as developing/debugging \nseems way better to me than with gwt. </p>\n\n<p>i already have written some modules in pure dart and am able to integrate the compiled js in the gwt app. communication between gwt&lt;->dart via json also works fine.</p>\n\n<p>now i would like to integrate some dart/polymer elements but did not have any success doing it. \nis anybody doing this? is it possible? any hints?</p>\n\n<p>this is my gwt host page. how do i get polymer imported/initialised/started? </p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n  &lt;script type=\"text/javascript\" src=\"app/app.nocache.js\"&gt;&lt;/script&gt;\n\n  &lt;/head&gt;\n\n  &lt;!--                                           --&gt;\n  &lt;!-- The body can have arbitrary html, or      --&gt;\n  &lt;!-- you can leave the body empty if you want  --&gt;\n  &lt;!-- to create a completely dynamic UI.        --&gt;\n  &lt;!--                                           --&gt;\n  &lt;body&gt;\n    &lt;iframe src=\"javascript:''\" id=\"__gwt_historyFrame\" tabIndex='-1' style=\"position:absolute;width:0;height:0;border:0\"&gt;&lt;/iframe&gt;\n\n    &lt;!-- RECOMMENDED if your web app will not function without JavaScript enabled --&gt;\n    &lt;noscript&gt;\n      &lt;div id=\"cwm\" style=\"width: 22em; position: absolute; left: 50%; margin-left: -11em; color: red; background-color: white; border: 1px solid red; padding: 4px; font-family: sans-serif\"&gt;\n    Your web browser must have JavaScript enabled\n    in order for this application to display correctly.\n      &lt;/div&gt;\n    &lt;/noscript&gt;\n\n    &lt;!-- DART integration--&gt;\n    &lt;script src=\"https://maps.googleapis.com/maps/api/js?sensor=false\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"dart_application/web/dart_plain.dart\" type=\"application/dart\"&gt;&lt;/script&gt;\n    &lt;script src=\"dart_application/web/packages/browser/dart.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n\n\n\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}]