[{"tags": ["dart", "webstorm", "dartium"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1483547551, "post_id": 41468655, "comment_id": 70143148, "body": "What about running <code>pub get</code> as mentioned in the error message?"}, {"owner": {"reputation": 2154, "user_id": 286807, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/0209e8ffa4575c0108d3eebac7e59762?s=128&d=identicon&r=PG", "display_name": "Timothy C. Quinn", "link": "https://stackoverflow.com/users/286807/timothy-c-quinn"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1483547914, "post_id": 41468655, "comment_id": 70143414, "body": "@Gunter. Yes, I did that and it actually worked perfectly. It would seem that WebStorm IDE should be doing this automatically but the step was missed somehow. Maybe its a gap in the get started guide."}, {"owner": {"reputation": 2154, "user_id": 286807, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/0209e8ffa4575c0108d3eebac7e59762?s=128&d=identicon&r=PG", "display_name": "Timothy C. Quinn", "link": "https://stackoverflow.com/users/286807/timothy-c-quinn"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1483548096, "post_id": 41468655, "comment_id": 70143562, "body": "There is an option in the IDE when you right click the pubspec.yaml: &quot;Pub: Get Dependancies&quot; that appears to do the same."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1483548155, "post_id": 41468655, "comment_id": 70143603, "body": "Yes, that does the same."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1483548238, "post_id": 41468655, "comment_id": 70143670, "body": "I created <a href=\"https://github.com/dart-lang/site-webdev/issues/297\" rel=\"nofollow noreferrer\">github.com/dart-lang/site-webdev/issues/297</a>"}, {"owner": {"reputation": 2154, "user_id": 286807, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/0209e8ffa4575c0108d3eebac7e59762?s=128&d=identicon&r=PG", "display_name": "Timothy C. Quinn", "link": "https://stackoverflow.com/users/286807/timothy-c-quinn"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1483560210, "post_id": 41468655, "comment_id": 70150346, "body": "I tried to reproduce the issue and now the IDE seems to be running pub get every time. Seems like it may have been a one off glitch."}], "answers": [{"tags": [], "owner": {"reputation": 2154, "user_id": 286807, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/0209e8ffa4575c0108d3eebac7e59762?s=128&d=identicon&r=PG", "display_name": "Timothy C. Quinn", "link": "https://stackoverflow.com/users/286807/timothy-c-quinn"}, "is_accepted": false, "score": 1, "last_activity_date": 1485306027, "last_edit_date": 1485306027, "creation_date": 1483639507, "answer_id": 41491795, "question_id": 41468655, "link": "https://stackoverflow.com/questions/41468655/dartweb-webstorm-502-bad-gateway/41491795#41491795", "title": "Dartweb Webstorm, 502 Bad Gateway", "body": "<p>WebStorm IDE has been known to have this bug where it fails to run <code>pub get</code> on a project which will cause failures when trying to run the project. </p>\n\n<p>To verify if this is occurring, go into the IDE and check for a <em>Pub Serve warnings</em> message at the bottom of the window. If you see the errors outlined in the OP, then this solution should work.</p>\n\n<p>The problem without running pub get is that the project dependencies have not been resolved and thus the server cannot start.</p>\n\n<p>In the IDE, check the project root for a file <code>pubspec.yaml</code>. Right click the file and select <code>Pub: Get Dependencies</code>. Check the Messages window to follow for the progress. If it finishes ok, the problem should be corrected.</p>\n\n<p>Alternatively, you could run <code>pub get</code> manually from command line as you would do without an IDE.</p>\n\n<p>[Update] The Dart team has updated the documentation to guide users on this issue: <a href=\"https://kw-webdev-dartlang-1.firebaseapp.com/guides/get-started\" rel=\"nofollow noreferrer\">https://kw-webdev-dartlang-1.firebaseapp.com/guides/get-started</a> (<a href=\"https://github.com/dart-lang/site-webdev/pull/329#issuecomment-274910383\" rel=\"nofollow noreferrer\">Pull request #329</a>) </p>\n"}], "owner": {"reputation": 2154, "user_id": 286807, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/0209e8ffa4575c0108d3eebac7e59762?s=128&d=identicon&r=PG", "display_name": "Timothy C. Quinn", "link": "https://stackoverflow.com/users/286807/timothy-c-quinn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 278, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1485306027, "creation_date": 1483547075, "question_id": 41468655, "link": "https://stackoverflow.com/questions/41468655/dartweb-webstorm-502-bad-gateway", "title": "Dartweb Webstorm, 502 Bad Gateway", "body": "<p>While running the <a href=\"https://webdev.dartlang.org/guides/get-started\" rel=\"nofollow noreferrer\">Get Started guide</a> for Dart and using WebStorm as per the docs, Dartium window shows \"502 Bad Gateway\" when trying to run index.html for the first time.</p>\n\n<p>When inspecting the IDE, the Pub Serve console shows an error while trying to run <code>% .../pub serve web --port=&lt;port&gt;</code>: </p>\n\n<p><code>No pubspec.lock file found, please run \"pub get\" first</code></p>\n\n<p>I went into my get_started project folder on the terminal and ran the same <code>pub serve</code> command and got the same error.</p>\n\n<p>I am running WebStorm 2016.3.2 and Dart sdk 1.21.0 on Linux x64.</p>\n\n<p>What is the proper procedure to follow here?</p>\n"}, {"tags": ["regex", "dart"], "comments": [{"owner": {"reputation": 574, "user_id": 2074763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66adf26b5c2d48bd663979f6b0d1f98f?s=128&d=identicon&r=PG", "display_name": "Amey Shirke", "link": "https://stackoverflow.com/users/2074763/amey-shirke"}, "edited": false, "score": 0, "creation_date": 1483512608, "post_id": 41457619, "comment_id": 70121505, "body": "what happens when you use [aeiouy]{0,}"}], "answers": [{"comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1483512955, "post_id": 41457847, "comment_id": 70121652, "body": "The question was about words with 2 vowels."}, {"owner": {"reputation": 9384, "user_id": 761132, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fa462ba2bc6318a8b2e7662bb8e91aa1?s=128&d=identicon&r=PG", "display_name": "Rizwan M.Tuman", "link": "https://stackoverflow.com/users/761132/rizwan-m-tuman"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1483513068, "post_id": 41457847, "comment_id": 70121711, "body": "it does that, doesn&#39;t it ?"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1483513086, "post_id": 41457847, "comment_id": 70121727, "body": "<code>shoulder</code> has 3 vowels."}, {"owner": {"reputation": 9384, "user_id": 761132, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fa462ba2bc6318a8b2e7662bb8e91aa1?s=128&d=identicon&r=PG", "display_name": "Rizwan M.Tuman", "link": "https://stackoverflow.com/users/761132/rizwan-m-tuman"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1483513131, "post_id": 41457847, "comment_id": 70121757, "body": "Op wrote : &quot;Here&#39;s an example sentence being parsed and it should match, one, shoulder, their, and over.&quot; which means minimum two vowels"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1483513182, "post_id": 41457847, "comment_id": 70121778, "body": "Perhaps it means minimum of two."}, {"owner": {"reputation": 589, "user_id": 2911503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vWpdX.png?s=128&g=1", "display_name": "Foxtrot", "link": "https://stackoverflow.com/users/2911503/foxtrot"}, "edited": false, "score": 0, "creation_date": 1483517449, "post_id": 41457847, "comment_id": 70123642, "body": "Maybe add the &#39;y&#39; in the regex ;-)"}, {"owner": {"reputation": 1887, "user_id": 1791632, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oAL3g.jpg?s=128&g=1", "display_name": "Will Lopez", "link": "https://stackoverflow.com/users/1791632/will-lopez"}, "edited": false, "score": 0, "creation_date": 1483541831, "post_id": 41457847, "comment_id": 70139152, "body": "Thanks @Maverick_Mrt, I upvoted your solution but went with a diff accepted answer because of the whitespace explanation. I appreciate the effort!"}], "tags": [], "owner": {"reputation": 9384, "user_id": 761132, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fa462ba2bc6318a8b2e7662bb8e91aa1?s=128&d=identicon&r=PG", "display_name": "Rizwan M.Tuman", "link": "https://stackoverflow.com/users/761132/rizwan-m-tuman"}, "is_accepted": false, "score": 2, "last_activity_date": 1483520101, "last_edit_date": 1483520101, "creation_date": 1483512691, "answer_id": 41457847, "question_id": 41457619, "link": "https://stackoverflow.com/questions/41457619/regex-nonconsecutive-match/41457847#41457847", "title": "regex nonconsecutive match", "body": "<p>You can try this:</p>\n\n<pre><code>\\S*[aeiouy]\\S*[aeiouy]\\S*\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/ZRuf4e/3\" rel=\"nofollow noreferrer\">Explanation</a></p>\n\n<ol>\n<li><code>\\S*</code> matches any non-whitespace character (equal to <code>[^\\r\\n\\t\\f ]</code>)</li>\n<li><code>*</code> Quantifier \u2014 Matches between zero and unlimited times</li>\n<li><code>[aeiou]</code> Match a single character present in the list below <code>[aeiou]</code></li>\n</ol>\n\n<p>For input string : <code>one shoulder their the which over</code></p>\n\n<p>it will match four word: <code>one shoulder their over</code></p>\n"}, {"tags": [], "owner": {"reputation": 51074, "user_id": 634863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198449a7e196c4b0f2ed25f65279bf84?s=128&d=identicon&r=PG", "display_name": "Alexandre Ardhuin", "link": "https://stackoverflow.com/users/634863/alexandre-ardhuin"}, "is_accepted": false, "score": 3, "last_activity_date": 1483527695, "last_edit_date": 1483527695, "creation_date": 1483514757, "answer_id": 41458343, "question_id": 41457619, "link": "https://stackoverflow.com/questions/41457619/regex-nonconsecutive-match/41458343#41458343", "title": "regex nonconsecutive match", "body": "<p>You can use :</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>new RegExp(r'(\\w*[aeiouy]\\w*){2}');\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1483520309, "post_id": 41459749, "comment_id": 70125121, "body": "AFAIK the last example doesn&#39;t work in the browser (downvote wasn&#39;t me)"}, {"owner": {"reputation": 1975, "user_id": 5029307, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5481fa266e0007d9c497e95b41019fc0?s=128&d=identicon&r=PG&f=1", "display_name": "Travis", "link": "https://stackoverflow.com/users/5029307/travis"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1483520443, "post_id": 41459749, "comment_id": 70125203, "body": "@G&#252;nterZ&#246;chbauer Actually... I may have misunderstood you.  What do you mean exactly when you say &quot;in the browser&quot;?"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1483520512, "post_id": 41459749, "comment_id": 70125262, "body": "I mean JavaScript regex. <a href=\"http://regexr.com/3f093\" rel=\"nofollow noreferrer\">regexr.com/3f093</a> Darts regex implementation is compatible with JS and doesn&#39;t support lookbehind"}, {"owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "edited": false, "score": 0, "creation_date": 1483599576, "post_id": 41459749, "comment_id": 70163357, "body": "Since it only needs to match <i>at least</i> <code>two vowels, you can even use the simpler </code>\\b(?:\\w*?[aeiou]){2}\\w*`"}, {"owner": {"reputation": 1975, "user_id": 5029307, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5481fa266e0007d9c497e95b41019fc0?s=128&d=identicon&r=PG&f=1", "display_name": "Travis", "link": "https://stackoverflow.com/users/5029307/travis"}, "reply_to_user": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "edited": false, "score": 0, "creation_date": 1483627395, "post_id": 41459749, "comment_id": 70180874, "body": "@lrn True.  However, I prefer to use negated classes rather than lazy evaluation whenever possible, since lazy evaluation is much less efficient performance-wise."}, {"owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "edited": false, "score": 0, "creation_date": 1483692741, "post_id": 41459749, "comment_id": 70209221, "body": "I don&#39;t see any difference in performance in this case (in Chrome), but it&#39;s true that in some cases, the failure case becomes more expensive because the <code>\\w*?</code> and the following <code>[aeiou]</code> are not disjoint. If used improperly, it can cause blowup. As always, the performance characteristics of RegExps isn&#39;t easy to see."}], "tags": [], "owner": {"reputation": 1975, "user_id": 5029307, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5481fa266e0007d9c497e95b41019fc0?s=128&d=identicon&r=PG&f=1", "display_name": "Travis", "link": "https://stackoverflow.com/users/5029307/travis"}, "is_accepted": true, "score": 2, "last_activity_date": 1483528027, "last_edit_date": 1483528027, "creation_date": 1483520213, "answer_id": 41459749, "question_id": 41457619, "link": "https://stackoverflow.com/questions/41457619/regex-nonconsecutive-match/41459749#41459749", "title": "regex nonconsecutive match", "body": "<p><strong>Both of the previous two answers are incorrect.</strong></p>\n\n<p><code>(\\S*[aeiouy]\\S*){2}</code> can match substrings of non-whitespace characters <em>even if they contain non-word characters</em> (<a href=\"https://regex101.com/r/SqjN8T/5\" rel=\"nofollow noreferrer\">proof</a>).</p>\n\n<p><code>\\S*[aeiouy]\\S*[aeiouy]\\S*</code> has the same problem (<a href=\"https://regex101.com/r/SqjN8T/6\" rel=\"nofollow noreferrer\">proof</a>).</p>\n\n<hr>\n\n<p><strong>Correct solution:</strong></p>\n\n<pre><code>\\b([^\\Waeiou]*[aeiou]){2}\\w*\\b\n</code></pre>\n\n<p>And if you want only whitespace to count as the word boundary (rather than any non-word character), then use the following regex where the target word is in capture group <code>\\2</code>.</p>\n\n<pre><code>(\\s|^)(([^\\Waeiou]*[aeiou]){2}\\w*)(\\s|$)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 2, "last_activity_date": 1483527350, "creation_date": 1483527350, "answer_id": 41462116, "question_id": 41457619, "link": "https://stackoverflow.com/questions/41457619/regex-nonconsecutive-match/41462116#41462116", "title": "regex nonconsecutive match", "body": "<p>I'd do:</p>\n\n<pre><code>\\b(?:\\w*[aeiouy]+\\w*){2,}\\b\n</code></pre>\n\n<p><strong>Explanation:</strong></p>\n\n<pre><code>\\b            : word boundary\n  (?:         : start non-capture group\n    \\w*       : 0 or more word characters\n    [aeiouy]+ : 1 or more vowels \n    \\w*       : 0 or more word characters\n  ){2,}       : end group repeated at least twice\n\\b            : word boundary\n</code></pre>\n"}], "owner": {"reputation": 1887, "user_id": 1791632, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oAL3g.jpg?s=128&g=1", "display_name": "Will Lopez", "link": "https://stackoverflow.com/users/1791632/will-lopez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 399, "favorite_count": 1, "accepted_answer_id": 41459749, "answer_count": 4, "score": 4, "last_activity_date": 1483528027, "creation_date": 1483511661, "question_id": 41457619, "link": "https://stackoverflow.com/questions/41457619/regex-nonconsecutive-match", "title": "regex nonconsecutive match", "body": "<p>I'm trying to match a word that has 2 vowels in it (doesn't have to be consecutively) but the regex I've come up either matches nothing or not enough. This is the last iteration (dart).</p>\n\n<pre><code>  final vowelRegex = new RegExp(r'[aeiouy]{2}');\n</code></pre>\n\n<p>Here's an example sentence being parsed and it should match, one, shoulder, their, and over. It's only matching shoulder and their. I understand why, because that's the expression I defined. How can the expression be defined to match on 2 vowels, regardless of position in the word?</p>\n\n<pre><code>  one shoulder their the which over\n</code></pre>\n\n<p>The expression only needs to be tested on one word at a time so hopefully this simplifies things.</p>\n"}, {"tags": ["dart"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1483474167, "post_id": 41451102, "comment_id": 70109453, "body": "I can&#39;t reproduce what you describe <a href=\"https://dartpad.dartlang.org/3875bd903b75a2babbd25260a07050ce\" rel=\"nofollow noreferrer\">dartpad.dartlang.org/3875bd903b75a2babbd25260a07050ce</a>"}, {"owner": {"reputation": 177, "user_id": 4557535, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/f9a5b0074b788182e527f4e19b85c8b3?s=128&d=identicon&r=PG&f=1", "display_name": "Sam B", "link": "https://stackoverflow.com/users/4557535/sam-b"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1483478483, "post_id": 41451102, "comment_id": 70111436, "body": "@G&#252;nterZ&#246;chbauer You&#39;re right.  Your example worked, but the exception was occurring inside the <code>then</code>.  I may need to implement <code>onError</code> inside of <code>then</code>."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1483502639, "post_id": 41451102, "comment_id": 70118278, "body": "Not sure what you mean. Can you modify my example so that your issue can be reproduced?"}, {"owner": {"reputation": 177, "user_id": 4557535, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/f9a5b0074b788182e527f4e19b85c8b3?s=128&d=identicon&r=PG&f=1", "display_name": "Sam B", "link": "https://stackoverflow.com/users/4557535/sam-b"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1483635591, "post_id": 41451102, "comment_id": 70186767, "body": "@G&#252;nterZ&#246;chbauer I updated the example, and I misspoke in my previous comment regarding the <code>then</code>.  So if I throw an error in the <code>_runCommand</code> function before it returns, it is not being caught by <code>catchError</code>.  The actual code I&#39;m working with is much more complicated than this with nested functions, and I solved the problem by moving error catching further down into the lower functions."}], "owner": {"reputation": 177, "user_id": 4557535, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/f9a5b0074b788182e527f4e19b85c8b3?s=128&d=identicon&r=PG&f=1", "display_name": "Sam B", "link": "https://stackoverflow.com/users/4557535/sam-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 303, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1483472361, "creation_date": 1483472361, "question_id": 41451102, "link": "https://stackoverflow.com/questions/41451102/dart-suppress-printing-stack-trace-to-console-on-future-catcherror", "title": "Dart - Suppress printing stack trace to console on Future catchError", "body": "<p>Is it possible to not print a stack trace to console when an error is caught in a Future?  My goal is to catch the error and add information to the stack trace before it is printed.  Here's a simple code example.</p>\n\n<pre><code>_runCommand().then((_) {\n    return _finish();\n}).catchError((e, s) {\n    _catchCriticalError(e, s);\n});\n</code></pre>\n\n<p>When <code>catchError</code> is called, the stack trace has already been printed to console.</p>\n"}, {"tags": ["html", "css", "angular", "dart", "angular2-material"], "comments": [{"owner": {"reputation": 49266, "user_id": 3751711, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/vQxvC.png?s=128&g=1", "display_name": "micronyks", "link": "https://stackoverflow.com/users/3751711/micronyks"}, "edited": false, "score": 0, "creation_date": 1483158358, "post_id": 41405273, "comment_id": 70013838, "body": "put <code>&lt;glyph  class=&quot;center&quot; [icon]=&quot;&#39;star&#39;&quot; &gt;&lt;&#47;glyph&gt;</code> within <code>div</code> and give a center class. eg. <code>&lt;div class=&quot;centerText&quot;&gt;&lt;glyph  class=&quot;center&quot; [icon]=&quot;&#39;star&#39;&quot; &gt;&lt;&#47;glyph&gt;&lt;&#47;div&gt;</code>. if doesn&#39;t work need to have plunkr to play with it."}], "answers": [{"tags": [], "owner": {"reputation": 223, "user_id": 3712516, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tY32KMXF6bA/AAAAAAAAAAI/AAAAAAAAAEs/jRyWKsfuKb4/photo.jpg?sz=128", "display_name": "Eric Cherin", "link": "https://stackoverflow.com/users/3712516/eric-cherin"}, "is_accepted": true, "score": 0, "last_activity_date": 1483159056, "creation_date": 1483159056, "answer_id": 41405514, "question_id": 41405273, "link": "https://stackoverflow.com/questions/41405273/css-angular-2-material-components-for-dart-how-do-i-center-a-glyph/41405514#41405514", "title": "Css Angular 2 material components for dart. How do I center a glyph?", "body": "<p>This works per micronyks suggestion:</p>\n\n<pre><code>&lt;div class=\"border\"&gt;\n    &lt;div class=\"centerText\"&gt;\n        &lt;glyph [icon]=\"'star'\" &gt;&lt;/glyph&gt;\n    &lt;/div&gt;\n    &lt;div class=\"centerText\"&gt;\n        This Is Text that is centered.\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 223, "user_id": 3712516, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tY32KMXF6bA/AAAAAAAAAAI/AAAAAAAAAEs/jRyWKsfuKb4/photo.jpg?sz=128", "display_name": "Eric Cherin", "link": "https://stackoverflow.com/users/3712516/eric-cherin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "accepted_answer_id": 41405514, "answer_count": 1, "score": 0, "last_activity_date": 1483159056, "creation_date": 1483156230, "question_id": 41405273, "link": "https://stackoverflow.com/questions/41405273/css-angular-2-material-components-for-dart-how-do-i-center-a-glyph", "title": "Css Angular 2 material components for dart. How do I center a glyph?", "body": "<p>HTML:</p>\n\n<pre><code>&lt;div class=\"border\"&gt;\n    &lt;glyph  class=\"center\" [icon]=\"'star'\" &gt;&lt;/glyph&gt;\n\n    &lt;div class=\"centerText\"&gt;\n        This Is Text that is centered.\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Css:</p>\n\n<pre><code>.centerText{\n    text-align: center;\n\n}\n\n.border{\n    border: solid black;\n    width: 80px;\n}\n\n.center{\n    margin-left: 50%;\n}\n</code></pre>\n\n<p>Result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ThHgh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ThHgh.png\" alt=\"enter image description here\"></a></p>\n\n<p>I am trying to center a glyph icon from <a href=\"https://github.com/dart-lang/angular2_components\" rel=\"nofollow noreferrer\">https://github.com/dart-lang/angular2_components</a> </p>\n\n<p>How do I center the glyphs?</p>\n\n<p>In <a href=\"https://github.com/dart-lang/angular2_components/blob/master/lib/src/components/glyph/glyph.scss.css\" rel=\"nofollow noreferrer\">https://github.com/dart-lang/angular2_components/blob/master/lib/src/components/glyph/glyph.scss.css</a> the code uses a flexbox in the css ->  display: inline-flex</p>\n\n<p>The margin-left is sort of centering it, but it looks bad when the width is smaller. There are things that did not work:</p>\n\n<pre><code>text-align: center\n</code></pre>\n\n<p>and</p>\n\n<pre><code>align-items: center;\njustify-content: center;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>display:block;\nmargin:auto;\n</code></pre>\n"}, {"tags": ["angular", "dart"], "answers": [{"tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1483114113, "creation_date": 1483114113, "answer_id": 41399188, "question_id": 41399156, "link": "https://stackoverflow.com/questions/41399156/how-to-implement-animation-in-angular2-with-dart/41399188#41399188", "title": "How to implement animation in angular2 with dart", "body": "<p>Currently Dart Angular2 doesn't provide any animation support. <code>AnimationBuilder</code> was removed a while ago. \nYou can use CSS animation and WebAnimations independent of Angular2 support with direct DOM access (using <code>dart:html</code>)</p>\n"}], "owner": {"reputation": 7911, "user_id": 617157, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/010a987937a35144ddce9fc47ca9c01a?s=128&d=identicon&r=PG", "display_name": "Arash", "link": "https://stackoverflow.com/users/617157/arash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "accepted_answer_id": 41399188, "answer_count": 1, "score": 1, "last_activity_date": 1483114113, "creation_date": 1483113981, "question_id": 41399156, "link": "https://stackoverflow.com/questions/41399156/how-to-implement-animation-in-angular2-with-dart", "title": "How to implement animation in angular2 with dart", "body": "<p>Can someone help me understand how can I use angular2 animations in dart.</p>\n\n<p>Documentation points to a <code>AnimationBuilder</code> class, but I was unable to even find that.</p>\n"}, {"tags": ["inheritance", "types", "dart"], "comments": [{"owner": {"reputation": 708, "user_id": 7091129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/884cb1c98e3af6dfe399ed8d90e33ea6?s=128&d=identicon&r=PG&f=1", "display_name": "aelayeb", "link": "https://stackoverflow.com/users/7091129/aelayeb"}, "edited": false, "score": 1, "creation_date": 1483124241, "post_id": 41387896, "comment_id": 70004727, "body": "As soon as they add support for generic types for method at runtime you would be able to do something like that : <code>isInstance&lt;T&gt;(o) =&gt; o is T;</code>  &lt;br /&gt;see <a href=\"https://github.com/dart-lang/sdk/issues/254\" rel=\"nofollow noreferrer\">dart github</a>"}], "answers": [{"tags": [], "owner": {"reputation": 51074, "user_id": 634863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198449a7e196c4b0f2ed25f65279bf84?s=128&d=identicon&r=PG", "display_name": "Alexandre Ardhuin", "link": "https://stackoverflow.com/users/634863/alexandre-ardhuin"}, "is_accepted": true, "score": 3, "last_activity_date": 1483089242, "creation_date": 1483089242, "answer_id": 41393582, "question_id": 41387896, "link": "https://stackoverflow.com/questions/41387896/getting-the-is-a-relationship-of-an-object-dynamically/41393582#41393582", "title": "Getting the is-a relationship of an object dynamically", "body": "<p>If you statically know the types you can use a generic class to test:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class InstanceTester&lt;T&gt; {\n  bool isInstance(o) =&gt; o is T;\n}\n\nmain(){\n  var s = new Set&lt;int&gt;();\n  print(new InstanceTester&lt;Set&gt;().isInstance(s));          // true\n  print(new InstanceTester&lt;Set&lt;String&gt;&gt;().isInstance(s));  // false\n  print(new InstanceTester&lt;Set&lt;int&gt;&gt;().isInstance(s));     // true\n  print(new InstanceTester&lt;Map&gt;().isInstance(s));          // false\n}\n</code></pre>\n"}], "owner": {"reputation": 120, "user_id": 5927655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b4f833552d89de0570b8b6e3b61dca?s=128&d=identicon&r=PG&f=1", "display_name": "ahirschberg", "link": "https://stackoverflow.com/users/5927655/ahirschberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 41393582, "answer_count": 1, "score": 2, "last_activity_date": 1483089242, "creation_date": 1483049505, "question_id": 41387896, "link": "https://stackoverflow.com/questions/41387896/getting-the-is-a-relationship-of-an-object-dynamically", "title": "Getting the is-a relationship of an object dynamically", "body": "<p>I'm working on a fork of the jsonx dart to json serialization library to address some of the issues I've had with it. I've run into the problem of how to dynamically check if an object is-a Type. </p>\n\n<p>For example, this dart code works fine:</p>\n\n<pre><code>var s = new Set&lt;String&gt;();\nprint(s is Set); // true\n</code></pre>\n\n<p>But this does not:</p>\n\n<pre><code>Type t = Set;\n// outputs warning: the name t is not a type and cannot be \n// used in an 'is' expression\nprint(s is t); \n</code></pre>\n\n<p>(Full example: <a href=\"https://dartpad.dartlang.org/1069fa61ace81c2448babaf2c249335e\" rel=\"nofollow noreferrer\">dartpad link</a>)</p>\n\n<p>One workaround I've come up with is to have a lambda defined for each type I want to check, for example, replacing the <code>s is t</code> above with a call to a custom lambda such as: (<a href=\"https://dartpad.dartlang.org/1234f657def5603011ad2c0eb3668f97\" rel=\"nofollow noreferrer\">dartpad link</a>)</p>\n\n<pre><code>var isSetType = (var to_check) =&gt; to_check is Set;\n</code></pre>\n\n<p>However it seems silly to have to create a lambda for each type I want to check dynamically.</p>\n\n<p>In Java, I can do the following (<a href=\"https://gist.github.com/ahirschberg/21cdd9c05249463748d698c7217291dc\" rel=\"nofollow noreferrer\">full example</a>):</p>\n\n<pre><code>Class&lt;?&gt; t = Set.class;\nObject s = new HashSet&lt;String&gt;();\nSystem.out.println(t.isInstance(s)); // true\n</code></pre>\n\n<p>I'd like to be able to call a method similar to Java's Class.isInstance(Object), but the Type objects dart provides are <a href=\"https://api.dartlang.org/stable/1.21.0/dart-core/Type-class.html\" rel=\"nofollow noreferrer\">extremely bare</a>. Is this just a limitation of the language in its current state, or is there an elegant way to check types dynamically? Using <code>.runtimeType</code> is not an option because <code>new Set().runtimeType == Set</code> is false. (That behavior is discussed by dart contributors in <a href=\"https://github.com/dart-lang/sdk/issues/11225#issuecomment-108376414\" rel=\"nofollow noreferrer\">this</a> thread on github)</p>\n"}, {"tags": ["for-loop", "dart", "async-await"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1483000911, "post_id": 41375905, "comment_id": 69953581, "body": "<code>await</code> in <code>for</code> is fine. Your code example is too complex, to bother to investigate further."}], "answers": [{"tags": [], "owner": {"reputation": 1868, "user_id": 1416886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1816b2eac989b20642bb419e3b51605?s=128&d=identicon&r=PG", "display_name": "filiph", "link": "https://stackoverflow.com/users/1416886/filiph"}, "is_accepted": true, "score": 38, "last_activity_date": 1483554835, "creation_date": 1483554835, "answer_id": 41470923, "question_id": 41375905, "link": "https://stackoverflow.com/questions/41375905/await-inside-for-loop-is-admitted-in-dart/41470923#41470923", "title": "Await inside for loop is admitted in Dart?", "body": "<p>Yes, <code>await</code> is permitted inside a <code>for</code> loop in Dart, and it will work as expected.</p>\n\n<pre><code>for (var o in objects) {\n  await doSomething(o);\n}\n</code></pre>\n\n<p>And there is even <code>await for</code> for Streams, if that's what you're looking for:</p>\n\n<pre><code>await for (var event in eventStream) {\n  print(\"Event received: $event\");\n}\n</code></pre>\n\n<p>Your example <a href=\"https://dartpad.dartlang.org/0ec1502d63ff4489fbf0245297159cc2\" rel=\"noreferrer\">works correctly</a> in DartPad. It's too complex &amp; abstract to debug but, at least superficially, it should work. You say that the snippet doesn't work in your \"real environment\", though. Maybe we could help if you explained what you mean by that?</p>\n\n<p>Additional tip: <a href=\"https://www.dartlang.org/guides/language/analysis-options\" rel=\"noreferrer\">take full advantage of static analysis</a>, especially the <a href=\"http://dart-lang.github.io/linter/lints/await_only_futures.html\" rel=\"noreferrer\">await_only_futures</a> and <a href=\"http://dart-lang.github.io/linter/lints/unawaited_futures.html\" rel=\"noreferrer\">unawaited_futures</a> linter rules. This can help you catch many bugs.</p>\n"}, {"tags": [], "owner": {"reputation": 6870, "user_id": 2301224, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/qGBrt.jpg?s=128&g=1", "display_name": "Baker", "link": "https://stackoverflow.com/users/2301224/baker"}, "is_accepted": false, "score": 6, "last_activity_date": 1615950755, "creation_date": 1615950755, "answer_id": 66666474, "question_id": 41375905, "link": "https://stackoverflow.com/questions/41375905/await-inside-for-loop-is-admitted-in-dart/66666474#66666474", "title": "Await inside for loop is admitted in Dart?", "body": "<h3><code>List.forEach</code> \u2192 <code>Future.forEach</code></h3>\n<p>If you happen to be using <code>.forEach()</code> on a <code>List</code>, this won't work:</p>\n<pre><code>someList.forEach((item) async {\n  await longFunc(item);\n)}\n</code></pre>\n<p>You'll need to use:</p>\n<pre><code>await Future.forEach(someList, (item) async {\n  await longFunc(item);\n});\n</code></pre>\n<p>I mistakenly thought this applied to <code>List.forEach</code> until finding <a href=\"https://stackoverflow.com/a/48975728/2301224\">this answer</a>.</p>\n"}], "owner": {"reputation": 576, "user_id": 5685762, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0989ddfa79e368846a0bb4f1a1ef6ab6?s=128&d=identicon&r=PG&f=1", "display_name": "J F", "link": "https://stackoverflow.com/users/5685762/j-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13469, "favorite_count": 2, "accepted_answer_id": 41470923, "answer_count": 2, "score": 20, "last_activity_date": 1615950755, "creation_date": 1483000563, "last_edit_date": 1483018870, "question_id": 41375905, "link": "https://stackoverflow.com/questions/41375905/await-inside-for-loop-is-admitted-in-dart", "title": "Await inside for loop is admitted in Dart?", "body": "<p>I have a program like the following:</p>\n\n<pre><code>main() async {\n  ooClass = new OoClass(1);\n  int val = await function1();\n  print(val);\n  ooClass = new OoClass(2);\n  val = await function1();\n  print(val);\n  ooClass = new OoClass(3);\n  val = await function1();\n  print(val);\n\n}\n\nOoClass ooClass;\n\nFuture&lt;int&gt; function1() async {\n  List list3 = await function2();\n  return list3.indexOf('Ok');\n}\n\n\nFuture&lt;List&lt;String&gt;&gt; function2() async {\n\n  List&lt;String&gt; list1 = new List&lt;String&gt;();\n\n  function3(Map&lt;String, int&gt; map1) async {\n    String string1 = '';\n    bool bool1 = false;\n    List&lt;String&gt; list2 = [];\n    String string2;\n\n    function4(String string3) async {\n      if (ooClass.function7(string3)) return;\n      if (ooClass.function8() &amp;&amp; !bool1) {\n        bool1 = true;\n        return;\n      }\n      string2 = await function5(string3);\n      list2.add(string2);\n    }\n\n    for (String key in map1.keys) {\n      await function4(key);\n    }\n    string1 = list2.join(', ');\n    list1.add(string1);\n  }\n\n  for (Map&lt;String, int&gt; idxList in ooClass.function6()) {\n    await function3(idxList);\n  }\n  return list1;\n}\n\nfunction5(String s1) {\n  return new Future.value('Ok');\n}\n\nclass OoClass {\n\n  List&lt;Map&lt;String, int&gt;&gt; map2;\n  bool bool3 = false;\n\n  OoClass(int type) {\n    switch(type) {\n      case 1:\n        map2 = [{'Ok':1}];\n        break;\n      case 2:\n        map2 = [{'id': 1, 'Ok':1}];\n        break;\n      case 3:\n        map2 = [{'foo': 1, 'Ok':1}];\n        bool3 = true;\n        break;\n    }\n  }\n\n  List&lt;Map&lt;String, int&gt;&gt; function6() {\n    return map2;\n  }\n\n  bool function7(String string9) {\n    if (string9 == 'id') return true;\n    return false;\n  }\n\n  bool function8() {\n    return bool3;\n  }\n}\n</code></pre>\n\n<p>This snippet works perfectly.</p>\n\n<p>In my real environment, instead, when await function4(key); is called, function2 returns the list1 List (empty). Function4 call is executed later but the result of function2 is lost.</p>\n\n<p>I don't really understand this behavior. Could it be a bug or await inside for loop is not to be used?\nIf await should not be used inside for loop how could I implement it in another way?</p>\n\n<p>I'm using dart 1.22.0-dev.4 but I've tried also with older (and stable) versions and I had the same result.</p>\n\n<hr>\n\n<p>I finally got the problem and it did not depend on <code>await</code> in a <code>for</code> loop. It was instead an error in my code. </p>\n"}, {"tags": ["dart", "polymer-1.0", "dart-polymer"], "answers": [{"tags": [], "owner": {"reputation": 915, "user_id": 1603689, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/NQXv2.jpg?s=128&g=1", "display_name": "fredtma", "link": "https://stackoverflow.com/users/1603689/fredtma"}, "is_accepted": false, "score": 0, "last_activity_date": 1483011756, "creation_date": 1483011756, "answer_id": 41379027, "question_id": 41373845, "link": "https://stackoverflow.com/questions/41373845/how-do-i-do-custom-validation-in-polymer-dart/41379027#41379027", "title": "How do I do custom validation in Polymer Dart", "body": "<p>okay, it was a typo, the above works if I change.</p>\n\n<pre><code>&lt;custom-validator id=\"validator\" validator-name=\"jsonValidator\" validator-type=\"json\"&gt;&lt;/custom-validator&gt;\n</code></pre>\n\n<p>to </p>\n\n<pre><code>&lt;custom-validator id=\"validator\" validator-name=\"jsonValidator\" validator-check=\"json\"&gt;&lt;/custom-validator&gt;\n</code></pre>\n\n<p>The property validatorType needs to be set to its default value of 'validator'. Instead added a new property validatorCheck, where I set the validation method name to be called.</p>\n\n<pre><code>library custom_validator;\n\nimport 'dart:mirrors' show reflect;    \nimport 'package:polymer/polymer.dart';\nimport 'package:polymer_elements/iron_validator_behavior.dart' show IronValidatorBehavior;\nimport 'package:validator/validator.dart' show isJSON;\n\n@PolymerRegister('custom-validator')\nclass  CustomValidator extends PolymerElement with IronValidatorBehavior{\n  @property\n  String validatorCheck;\n\n  CustomValidator.created() : super.created();\n\n  @reflectable\n  bool validate(value, [_]){\n\n    if(validatorCheck.isNotEmpty) {\n      Symbol sym  = new Symbol(validatorCheck);\n      return reflect(this).invoke(sym, [value]).reflectee;\n    }\n    return false;\n  }\n\n  bool json(String value, [_]){\n\n    if(value.isNotEmpty) {\n      return isJSON(value);\n    }\n    return true;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 915, "user_id": 1603689, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/NQXv2.jpg?s=128&g=1", "display_name": "fredtma", "link": "https://stackoverflow.com/users/1603689/fredtma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1483011756, "creation_date": 1482990668, "last_edit_date": 1495535433, "question_id": 41373845, "link": "https://stackoverflow.com/questions/41373845/how-do-i-do-custom-validation-in-polymer-dart", "title": "How do I do custom validation in Polymer Dart", "body": "<p>Similar to <a href=\"https://stackoverflow.com/questions/31955091/how-to-add-custom-validator-to-paper-input\">javascript</a> and the implementation of <code>IronValidatorBehavior</code> how do I do custom validation in Polymer Dart?</p>\n\n<p>I can create a new custom-validator which implements <code>IronValidatorBehavior</code> e.g.</p>\n\n<pre><code>  &lt;dom-module id=\"form-input\"&gt;\n    &lt;template&gt;\n      &lt;style include='shared-styles iron-flex iron-flex-alignment'&gt;\n        :host {\n          display: block;\n          padding: 1em;\n        }\n      &lt;/style&gt;\n      &lt;custom-validator id=\"validator\" validator-name=\"jsonValidator\" validator-type=\"json\"&gt;&lt;/custom-validator&gt;\n      &lt;paper-textarea label=\"[[label]]\" id=\"body\" name=\"body\" autofocus tabindex=\"0\"\n                      validator=\"jsonValidator\" auto-validate error-message=\"This is not a valid format\"&gt;&lt;/paper-textarea&gt;\n    &lt;/template&gt;\n  &lt;/dom-module&gt;\n</code></pre>\n\n<p>The custom-validator is written as</p>\n\n<pre><code>library main_app.custom_validator;\n\nimport 'dart:html';\nimport 'package:polymer/polymer.dart';\nimport 'package:polymer_elements/iron_validator_behavior.dart' show IronValidatorBehavior;\n\n@PolymerRegister('custom-validator')\nclass  CustomValidator extends PolymerElement with IronValidatorBehavior{\n\n  CustomValidator.created() : super.created();\n\n  @reflectable\n  bool validate(e, [_]){\n    switch(validatorType) {\n      case 'json':\n        return textValidator(e);\n    }\n    return false;\n  }\n\n  bool textValidator(e){\n    return false;\n  }\n}\n</code></pre>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 5909, "user_id": 432455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/650ac2be9efddfc61103fe5a0a13abbd?s=128&d=identicon&r=PG", "display_name": "Ian Hickson", "link": "https://stackoverflow.com/users/432455/ian-hickson"}, "edited": false, "score": 9, "creation_date": 1482970370, "post_id": 41371449, "comment_id": 69944788, "body": "One thing for people to be aware of before copying the code above is that it is relatively expensive to recreate the TextPainter each time (specifically, the call to <code>layout</code> is expensive). Where possible, you want to keep the TextPainter around and reuse it, only calling <code>layout</code> on it when the arguments to that method change."}, {"owner": {"reputation": 12819, "user_id": 1429053, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ikeNz.png?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1429053/ian"}, "reply_to_user": {"reputation": 5909, "user_id": 432455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/650ac2be9efddfc61103fe5a0a13abbd?s=128&d=identicon&r=PG", "display_name": "Ian Hickson", "link": "https://stackoverflow.com/users/432455/ian-hickson"}, "edited": false, "score": 0, "creation_date": 1598886640, "post_id": 41371449, "comment_id": 112595625, "body": "@IanHickson whenever I try to reuse a textpainer, I get &quot;TextPainter.paint called when text geometry was not yet calculated&quot;. I can create a new textpainter every time, and it works, but seem unable to reuse a textpainter. Are there any examples out there you are aware of which show this ? (actually I think it needs a new painter every time text changes, so not quite sure how often one would be able to reuse the painter ?)"}, {"owner": {"reputation": 5909, "user_id": 432455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/650ac2be9efddfc61103fe5a0a13abbd?s=128&d=identicon&r=PG", "display_name": "Ian Hickson", "link": "https://stackoverflow.com/users/432455/ian-hickson"}, "edited": false, "score": 0, "creation_date": 1598981561, "post_id": 41371449, "comment_id": 112629979, "body": "You have to make sure to call &quot;layout&quot; on the text painter after setting any of its properties, to recompute the geometry."}], "answers": [{"comments": [{"owner": {"reputation": 5909, "user_id": 432455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/650ac2be9efddfc61103fe5a0a13abbd?s=128&d=identicon&r=PG", "display_name": "Ian Hickson", "link": "https://stackoverflow.com/users/432455/ian-hickson"}, "edited": false, "score": 3, "creation_date": 1482970262, "post_id": 41371450, "comment_id": 69944765, "body": "The default text color is indeed white."}], "tags": [], "owner": {"reputation": 3405, "user_id": 3134918, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/MQ11M.png?s=128&g=1", "display_name": "Reagankm", "link": "https://stackoverflow.com/users/3134918/reagankm"}, "is_accepted": true, "score": 28, "last_activity_date": 1482969953, "creation_date": 1482969953, "answer_id": 41371450, "question_id": 41371449, "link": "https://stackoverflow.com/questions/41371449/how-do-you-use-a-textpainter-to-draw-text/41371450#41371450", "title": "How do you use a TextPainter to draw text?", "body": "<p>I found the answer as I was typing up this question but I've been wrestling with it for a while now, so posting in case it helps anyone else.</p>\n\n<p>What solved it was changing the TextSpan line to: </p>\n\n<p><code>TextSpan span = new TextSpan(style: new TextStyle(color: Colors.grey[600]), text: 'Yrfc');</code></p>\n\n<p>Apparently it was either drawing the text invisibly or as white (background) color since I hadn't made my color choice explicit.</p>\n"}, {"tags": [], "owner": {"reputation": 481, "user_id": 3161078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74e42f5956355c3e9fcb9a0eb0409246?s=128&d=identicon&r=PG&f=1", "display_name": "user3161078", "link": "https://stackoverflow.com/users/3161078/user3161078"}, "is_accepted": false, "score": 18, "last_activity_date": 1580082609, "last_edit_date": 1580082609, "creation_date": 1521489164, "answer_id": 49371310, "question_id": 41371449, "link": "https://stackoverflow.com/questions/41371449/how-do-you-use-a-textpainter-to-draw-text/49371310#49371310", "title": "How do you use a TextPainter to draw text?", "body": "<p>In the TextPainter constructor, need also specify the <strong>TextDirection</strong> parameter, otherwise you'll receive an exception:</p>\n\n<pre><code>TextSpan span = new TextSpan(style: new TextStyle(color: Colors.blue[800]), text: name);\nTextPainter tp = new TextPainter(text: span, textAlign: TextAlign.left, textDirection: TextDirection.ltr);\ntp.layout();\ntp.paint(canvas, new Offset(5.0, 5.0));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 358195, "user_id": 3681880, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3b7ad8915f552cd4e23caf38eee10030?s=128&d=identicon&r=PG", "display_name": "Suragch", "link": "https://stackoverflow.com/users/3681880/suragch"}, "is_accepted": false, "score": 18, "last_activity_date": 1610014792, "last_edit_date": 1610014792, "creation_date": 1562296656, "answer_id": 56896124, "question_id": 41371449, "link": "https://stackoverflow.com/questions/41371449/how-do-you-use-a-textpainter-to-draw-text/56896124#56896124", "title": "How do you use a TextPainter to draw text?", "body": "<p><a href=\"https://i.stack.imgur.com/VqhQS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VqhQS.png\" alt=\"enter image description here\" /></a></p>\n<p>To paint in Flutter you use the <a href=\"https://api.flutter.dev/flutter/widgets/CustomPaint-class.html\" rel=\"nofollow noreferrer\"><code>CustomPaint</code></a> widget. The <code>CustomPaint</code> widget takes a <a href=\"https://api.flutter.dev/flutter/rendering/CustomPainter-class.html\" rel=\"nofollow noreferrer\"><code>CustomPainter</code></a> object as a parameter. In that class you have to override the <code>paint</code> method, which gives you a canvas that you can paint on. Here is the code to draw the text in the image above.</p>\n<pre><code>@override\nvoid paint(Canvas canvas, Size size) {\n  final textStyle = TextStyle(\n    color: Colors.black,\n    fontSize: 30,\n  );\n  final textSpan = TextSpan(\n    text: 'Hello, world.',\n    style: textStyle,\n  );\n  final textPainter = TextPainter(\n    text: textSpan,\n    textDirection: TextDirection.ltr,\n  );\n  textPainter.layout(\n    minWidth: 0,\n    maxWidth: size.width,\n  );\n  final offset = Offset(50, 100);\n  textPainter.paint(canvas, offset);\n}\n</code></pre>\n<h3>Notes:</h3>\n<ul>\n<li>If you are using a white background, be sure to set the text color to some other color besides white, which is the default.</li>\n<li>Flutter makes an effort to not assume a text direction, so you need to set it explicitly. The abbreviation <code>ltr</code> stands for left-to-right, which languages like English use. The other option is <code>rtl</code> (right-to-left), which languages like Arabic and Hebrew use. This helps to reduce bugs when the code is used in language contexts that developers were not thinking about.</li>\n</ul>\n<h3>Context</h3>\n<p>Here is the <em>main.dart</em> code so that you can see it in context.</p>\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: Scaffold(\n        body: HomeWidget(),\n      ),\n    );\n  }\n}\n\nclass HomeWidget extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Center(\n      child: CustomPaint( //                       &lt;-- CustomPaint widget\n        size: Size(300, 300),\n        painter: MyPainter(),\n      ),\n    );\n  }\n}\n\nclass MyPainter extends CustomPainter { //         &lt;-- CustomPainter class\n  @override\n  void paint(Canvas canvas, Size size) {\n    //                                             &lt;-- Insert your painting code here.\n  }\n  \n  @override\n  bool shouldRepaint(CustomPainter old) {\n    return false;\n  }\n}\n</code></pre>\n<h3>See also</h3>\n<p>See <a href=\"https://medium.com/@studymongolian/how-to-paint-in-flutter-d18c6c26df10\" rel=\"nofollow noreferrer\">this article</a> for my fuller answer.</p>\n"}], "owner": {"reputation": 3405, "user_id": 3134918, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/MQ11M.png?s=128&g=1", "display_name": "Reagankm", "link": "https://stackoverflow.com/users/3134918/reagankm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18515, "favorite_count": 5, "accepted_answer_id": 41371450, "answer_count": 3, "score": 27, "last_activity_date": 1610014792, "creation_date": 1482969953, "last_edit_date": 1578839671, "question_id": 41371449, "link": "https://stackoverflow.com/questions/41371449/how-do-you-use-a-textpainter-to-draw-text", "title": "How do you use a TextPainter to draw text?", "body": "<p>The <a href=\"https://docs.flutter.io/flutter/material/CustomPainter/paint.html\" rel=\"noreferrer\">documentation for CustomPainter's paint method</a> says, \"To paint text on a <code>Canvas</code>, use a <code>TextPainter</code>\". So within my <code>MyCustomPainter</code>'s paint method I have the following:</p>\n\n<pre><code>TextSpan span = new TextSpan(text: 'Yrfc');\nTextPainter tp = new TextPainter(text: span, textAlign: TextAlign.left);\ntp.layout();\ntp.paint(canvas, new Offset(5.0, 5.0));\n</code></pre>\n\n<p>I've tried a variety of offsets <code>(Offset.zero, Offset.infinite, new Offset(10.0, 10.0)</code> but I never am able to see the text painted on the screen.  </p>\n"}]