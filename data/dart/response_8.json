[{"tags": ["web", "dart", "redstone.dart"], "answers": [{"comments": [{"owner": {"reputation": 543, "user_id": 1039984, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/933bc6d13c42486433166bdee49b6e70?s=128&d=identicon&r=PG", "display_name": "Victor Ermolaev", "link": "https://stackoverflow.com/users/1039984/victor-ermolaev"}, "edited": false, "score": 0, "creation_date": 1425559007, "post_id": 28858476, "comment_id": 46017764, "body": "Basically, my question boils down to the following. Once I have a redstone server responding with json on certain urls, how would I serve a web-page with a dart-script? That dart-script would run on a client requesting data from the server and rendering these data with Polymer or AngularDart. Is this possible with redstone at all?"}, {"owner": {"reputation": 876, "user_id": 3803297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dad7d85f68e92113f1fc2e145522d0d7?s=128&d=identicon&r=PG&f=1", "display_name": "luizmineo", "link": "https://stackoverflow.com/users/3803297/luizmineo"}, "reply_to_user": {"reputation": 543, "user_id": 1039984, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/933bc6d13c42486433166bdee49b6e70?s=128&d=identicon&r=PG", "display_name": "Victor Ermolaev", "link": "https://stackoverflow.com/users/1039984/victor-ermolaev"}, "edited": false, "score": 0, "creation_date": 1425562675, "post_id": 28858476, "comment_id": 46019955, "body": "I&#39;ve edited the answer with information on how you can serve your client-side code."}, {"owner": {"reputation": 543, "user_id": 1039984, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/933bc6d13c42486433166bdee49b6e70?s=128&d=identicon&r=PG", "display_name": "Victor Ermolaev", "link": "https://stackoverflow.com/users/1039984/victor-ermolaev"}, "edited": false, "score": 0, "creation_date": 1425563349, "post_id": 28858476, "comment_id": 46020384, "body": "Funny enough I found how to serve static files on redstonedart.org quite a while ago, but only now managed to make it work, i.e. made dart client scripts run. The mistake was quite silly: <b>Chromium cached empty scripts and html pages</b> and though I edited them and saw redstone serve them, they never ran. After I managed it to make it run, I wanted to say that on stackoverflow, but I was 3 mins later than your edit. Thanks."}, {"owner": {"reputation": 543, "user_id": 1039984, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/933bc6d13c42486433166bdee49b6e70?s=128&d=identicon&r=PG", "display_name": "Victor Ermolaev", "link": "https://stackoverflow.com/users/1039984/victor-ermolaev"}, "edited": false, "score": 0, "creation_date": 1425565173, "post_id": 28858476, "comment_id": 46021485, "body": "To complete my comment I am gonna give a piece of code (specific to redstone) preventing caching dart-scripts:            <code>@app.Interceptor(r&#39;&#47;.*\\.dart&#39;) noCache(){   app.chain.next((){     app.response = app.response.change(headers:{                           &quot;Cache-Control&quot; : &quot;max-age=0, no-cache, no-store, must-revalidate&quot;,               &quot;Pragma&quot;: &quot;no-cache&quot;,               &quot;Expires&quot;: &quot;Wed, 11 Jan 1984 05:00:00 GMT&quot;           });   }); }</code>   @luizmineo, It seems this piece would complete your answer."}], "tags": [], "owner": {"reputation": 876, "user_id": 3803297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dad7d85f68e92113f1fc2e145522d0d7?s=128&d=identicon&r=PG&f=1", "display_name": "luizmineo", "link": "https://stackoverflow.com/users/3803297/luizmineo"}, "is_accepted": true, "score": 2, "last_activity_date": 1425562698, "last_edit_date": 1425562698, "creation_date": 1425483398, "answer_id": 28858476, "question_id": 28855777, "link": "https://stackoverflow.com/questions/28855777/dart-redstone-web-application/28858476#28858476", "title": "Dart redstone web application", "body": "<p>I guess you are trying to generate html files in the server with a template engine. Redstone was designed to mainly build services, so it doesn't have a built-in template engine, but you can use any engine available on pub, such as <a href=\"https://pub.dartlang.org/packages/mustache4dart\" rel=\"nofollow\">mustache</a>. Although, if you use Polymer, AngularDart or other frameowrk which implements a client-side template system, you don't need to generate html files in the server.</p>\n\n<p>Moreover, if you want to reuse other services, you can just call them directly, for example:</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>@app.Route(\"/raw/user/:id\")\ngetRawUser(int id) =&gt; json_about_user_id;\n\n@app.Route(\"/user/:id\")\ngetUser(int id) {\n  var json = getRawUser();\n  ...\n}\n</code></pre>\n\n<p><a href=\"https://github.com/luizmineo/redstone.dart/tree/v0.6\" rel=\"nofollow\">Redstone v0.6</a> (still in alpha) also includes a new foward() function, which you can use to dispatch a request internally, although, the response is received as a shelf.Response object, so you have to read it:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>@app.Route(\"/user/:id\")\ngetUser(int id) async {\n  var resp = await chain.forward(\"/raw/user/$id\");\n  var json = await resp.readAsString();\n  ...\n}\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p>To serve static files, like html files and dart scripts which are executed in the browser, you can use the <a href=\"http://redstonedart.org/doc/Shelf-Middlewares.html\" rel=\"nofollow\">shelf_static middleware</a>. See <a href=\"https://github.com/luizmineo/io_2014_contacts_demo\" rel=\"nofollow\">here</a> for a complete Redstone + Polymer example (shelf_static is configured in the <a href=\"https://github.com/luizmineo/io_2014_contacts_demo/blob/master/bin/server.dart#L52\" rel=\"nofollow\">bin/server.dart file</a>).</p>\n"}], "owner": {"reputation": 543, "user_id": 1039984, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/933bc6d13c42486433166bdee49b6e70?s=128&d=identicon&r=PG", "display_name": "Victor Ermolaev", "link": "https://stackoverflow.com/users/1039984/victor-ermolaev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "accepted_answer_id": 28858476, "answer_count": 1, "score": 0, "last_activity_date": 1425562698, "creation_date": 1425475960, "question_id": 28855777, "link": "https://stackoverflow.com/questions/28855777/dart-redstone-web-application", "title": "Dart redstone web application", "body": "<p>Let's say I configure redstone as follows</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>    @app.Route(\"/raw/user/:id\", methods: const [app.GET])\n    getRawUser(int id) =&gt; json_about_user_id;\n</code></pre>\n\n<p>When I run the server and go to <code>/raw/user/10</code> I get raw json data in a form of a string.</p>\n\n<p>Now I would like to be able to go to, say, <code>/user/10</code> and get a nice representation of this json I get from <code>/raw/user/10</code>.</p>\n\n<p>Solutions that come to my mind are as follows:</p>\n\n<ol>\n<li>First\n<ul>\n<li>create <code>web/user/user.html</code> and <code>web/user/user.dart</code>, configure the latter to run when <code>index.html</code> is accessed</li>\n<li>in <code>user.dart</code> monitor query parameters (<code>user.dart?id=10</code>), make appropriate requests and present everything in <code>user.html</code>, i.e. </li>\n</ul></li>\n</ol>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>         var uri = Uri.parse( window.location.href );\n         String id = uri.queryParameters['id'];\n         new HttpRequest().getString(new Uri.http(SERVER,'/raw/user/${id}').toString() ).then( presentation )\n</code></pre>\n\n<p>A downside of this solution is that I do not achieve <code>/user/10</code>-like urls at all.</p>\n\n<ol start=\"2\">\n<li><p>Another way is to additionally configure redstone as follows:\n</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>@app.Route(\"/user/:id\", methods: const [app.GET])\ngetUser(int id) =&gt; app.redirect('/person/index.html?id=${id}');\n</code></pre></li>\n</ol>\n\n<p>in this case at least urls like \"/user/10\" are allowed, but this simply does not work.</p>\n\n<p>How would I do that correctly? Example of a web app on redstone's git is, to my mind, cryptic and involved.</p>\n\n<p>I am not sure whether this have to be explained with connection to redstone or dart only, but I cannot find anything related.</p>\n"}, {"tags": ["dart", "dart-async"], "answers": [{"comments": [{"owner": {"reputation": 358, "user_id": 2683472, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bb56104632b355716a430ddef589fd15?s=128&d=identicon&r=PG", "display_name": "SanMadJack", "link": "https://stackoverflow.com/users/2683472/sanmadjack"}, "edited": false, "score": 0, "creation_date": 1425482430, "post_id": 28844567, "comment_id": 45982042, "body": "I&#39;m on 1.8.5 stable with stack_trace 1.2.3."}, {"owner": {"reputation": 358, "user_id": 2683472, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bb56104632b355716a430ddef589fd15?s=128&d=identicon&r=PG", "display_name": "SanMadJack", "link": "https://stackoverflow.com/users/2683472/sanmadjack"}, "edited": false, "score": 0, "creation_date": 1425482468, "post_id": 28844567, "comment_id": 45982069, "body": "I&#39;m using Trace.format to convert it to a string. Chain.terse doesn&#39;t do that."}, {"owner": {"reputation": 358, "user_id": 2683472, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bb56104632b355716a430ddef589fd15?s=128&d=identicon&r=PG", "display_name": "SanMadJack", "link": "https://stackoverflow.com/users/2683472/sanmadjack"}, "edited": false, "score": 0, "creation_date": 1425483457, "post_id": 28844567, "comment_id": 45982760, "body": "Just tried it again with the 1.9.0 dev build, and it works properly. I did find a workaround though, and I&#39;m going to post that as an answer."}], "tags": [], "owner": {"reputation": 5708, "user_id": 2518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39b3031f890ad7ce40661614af8b52a6?s=128&d=identicon&r=PG", "display_name": "Natalie Weizenbaum", "link": "https://stackoverflow.com/users/2518/natalie-weizenbaum"}, "is_accepted": false, "score": 3, "last_activity_date": 1425428553, "creation_date": 1425428553, "answer_id": 28844567, "question_id": 28843720, "link": "https://stackoverflow.com/questions/28843720/using-darts-async-with-stack-traces-chain/28844567#28844567", "title": "Using dart&#39;s async with stack_trace&#39;s Chain", "body": "<p>What versions of Dart and <code>stack_trace</code> are you using? On Dart <code>1.9.0-edge.44028</code> with <code>stack_trace</code> <code>1.2.3</code>, after deleting the <code>console_test</code> line, I get the following output:</p>\n\n<pre><code>test.dart 16:3       testFunction.&lt;async&gt;\ndart:async           _Completer.completeError\ntest.dart 17:2       testFunction.&lt;async&gt;\ndart:async           Future.Future.microtask\ntest.dart 7:25       main.&lt;async&gt;.&lt;fn&gt;.&lt;async&gt;\npackage:stack_trace  Chain.capture\ntest.dart 5:16       main.&lt;async&gt;\n</code></pre>\n\n<p>It's also worth noting that you don't really need to use <code>Trace.format</code> with <code>Chain</code>. You can just use <code>Chain.terse</code>, which will also preserve the asynchronous gaps.</p>\n"}, {"tags": [], "owner": {"reputation": 358, "user_id": 2683472, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bb56104632b355716a430ddef589fd15?s=128&d=identicon&r=PG", "display_name": "SanMadJack", "link": "https://stackoverflow.com/users/2683472/sanmadjack"}, "is_accepted": false, "score": 0, "last_activity_date": 1425483686, "last_edit_date": 1425483686, "creation_date": 1425483636, "answer_id": 28858565, "question_id": 28843720, "link": "https://stackoverflow.com/questions/28843720/using-darts-async-with-stack-traces-chain/28858565#28858565", "title": "Using dart&#39;s async with stack_trace&#39;s Chain", "body": "<p>@nex3 correctly pointed out that my original example in fact works in the 1.9.0 dev build of Dart, so this might just be an incompatibility at present. Regardless, taking the async off of the Chain.capture, changing the await on testFunction() to a return and using an await on Chain.Capture actually produce the correct output. This obviously isn't 100% optimal, but it gets the job done.</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>main() async {\n  print('Hello world: ${console_test.calculate()}!');\n  var test = await Chain.capture(() {\n    return testFunction();\n  },\n  onError: (e, stackTrace) =&gt; print(Trace.format(new Chain.forTrace(stackTrace))));\n  print(test);\n}\n\nFuture testFunction() async {\n  return \"nice!\";\n  throw new Exception(\"TEST\");\n}\n</code></pre>\n"}], "owner": {"reputation": 358, "user_id": 2683472, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bb56104632b355716a430ddef589fd15?s=128&d=identicon&r=PG", "display_name": "SanMadJack", "link": "https://stackoverflow.com/users/2683472/sanmadjack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1425483686, "creation_date": 1425423870, "last_edit_date": 1425483669, "question_id": 28843720, "link": "https://stackoverflow.com/questions/28843720/using-darts-async-with-stack-traces-chain", "title": "Using dart&#39;s async with stack_trace&#39;s Chain", "body": "<p>I'm trying to take advantage of the Chain object provided by stack_trace like so:</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:async';\nimport 'package:stack_trace/stack_trace.dart';\n\nmain() async {\n  print('Hello world: ${console_test.calculate()}!');\n  Chain.capture(() async {\n    try {\n      await testFunction();\n    } catch(e,st) {\n      print(Trace.format(new Chain.forTrace(st)));\n    }\n  });\n}\n\n\nFuture testFunction() async {\n  throw new Exception(\"TEST\");\n}\n</code></pre>\n\n<p>The output I get is this:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Hello world: 42!\nmain.dart 4:1  main.&lt;async&gt;.&lt;fn&gt;.&lt;async&gt;\n</code></pre>\n\n<p>I understand that the outputted stack trace should include testFunction, but for some reason it isn't. If I do it with futures instead:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:async';\nimport 'package:stack_trace/stack_trace.dart';\n\nmain() async {\n  print('Hello world: ${console_test.calculate()}!');\n  Chain.capture(()  {\n      return testFunction();\n  }, onError: (e, stackTrace) =&gt; print(Trace.format(new Chain.forTrace(stackTrace))));\n}\n\nFuture testFunction() async {\n  throw new Exception(\"TEST\");\n}\n</code></pre>\n\n<p>I get more expected output:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Hello world: 42!\nmain.dart 17:3       testFunction.&lt;async&gt;\ndart:async           _Completer.completeError\nmain.dart 4:1        testFunction.&lt;async&gt;\ndart:async           Future.Future\nmain.dart 4:1        testFunction\nmain.dart 11:26      main.&lt;async&gt;.&lt;fn&gt;\npackage:stack_trace  Chain.capture\nmain.dart 10:16      main.&lt;async&gt;\n</code></pre>\n\n<p>Am I doing something wrong? Is Chain incompatible with the whole async/await thing?</p>\n"}, {"tags": ["dart", "dart-polymer"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1425451236, "post_id": 28841089, "comment_id": 45964066, "body": "Have you tried <code>pub cache repair</code> (on command line) maybe some files are corrupted."}, {"owner": {"reputation": 1000, "user_id": 1496748, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/831f69d5f5aab057218395f38b02d2c3?s=128&d=identicon&r=PG", "display_name": "kolar", "link": "https://stackoverflow.com/users/1496748/kolar"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1425462067, "post_id": 28841089, "comment_id": 45969151, "body": "Yes, I have tried it several times."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1425462178, "post_id": 28841089, "comment_id": 45969231, "body": "Can you share the code?"}, {"owner": {"reputation": 1000, "user_id": 1496748, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/831f69d5f5aab057218395f38b02d2c3?s=128&d=identicon&r=PG", "display_name": "kolar", "link": "https://stackoverflow.com/users/1496748/kolar"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1425462796, "post_id": 28841089, "comment_id": 45969643, "body": "The code is not public, but I will try to make some small example to reproduce the issue."}, {"owner": {"reputation": 1000, "user_id": 1496748, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/831f69d5f5aab057218395f38b02d2c3?s=128&d=identicon&r=PG", "display_name": "kolar", "link": "https://stackoverflow.com/users/1496748/kolar"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1425500315, "post_id": 28841089, "comment_id": 45993216, "body": "Here is small example: <a href=\"https://github.com/slodko/dart_test2\" rel=\"nofollow noreferrer\">github</a>. I know I messed up something with packages structure (which is really easy to do because warnings from sdk doesn&#39;t help, also ide - eclipse plugin - is not helpful. It&#39;s sad that so great language is still so difficult to use)."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1425501643, "post_id": 28841089, "comment_id": 45994012, "body": "Seems to be this bug <a href=\"https://github.com/dart-lang/core-elements/issues/117\" rel=\"nofollow noreferrer\">github.com/dart-lang/core-elements/issues/117</a> but seems to have become worse. It looks like the HTML in the comments is analyzed and leads to errors. I&#39;ll ping the issue and see what they tell. Despite the warnings everthing seems to work fine."}], "answers": [{"tags": [], "owner": {"reputation": 1293, "user_id": 4223471, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4BObBSHEeGs/AAAAAAAAAAI/AAAAAAAALoM/x0XAln25lII/photo.jpg?sz=128", "display_name": "Jake MacDonald", "link": "https://stackoverflow.com/users/4223471/jake-macdonald"}, "is_accepted": true, "score": 2, "last_activity_date": 1425934161, "creation_date": 1425934161, "answer_id": 28951467, "question_id": 28841089, "link": "https://stackoverflow.com/questions/28841089/warnings-in-dartium-when-using-some-paper-core-elements/28951467#28951467", "title": "Warnings in dartium when using some paper/core elements", "body": "<p>This is caused by some html imports pointing to dart files instead of html files inside of foo_element.html (<a href=\"https://github.com/slodko/dart_test2/blob/master/lib/foo_element/foo_element.html#L2\" rel=\"nofollow\">code here</a>). Swapping those imports to point to html files removes all warnings.</p>\n"}], "owner": {"reputation": 1000, "user_id": 1496748, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/831f69d5f5aab057218395f38b02d2c3?s=128&d=identicon&r=PG", "display_name": "kolar", "link": "https://stackoverflow.com/users/1496748/kolar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 28951467, "answer_count": 1, "score": 1, "last_activity_date": 1425934161, "creation_date": 1425413593, "last_edit_date": 1425451257, "question_id": 28841089, "link": "https://stackoverflow.com/questions/28841089/warnings-in-dartium-when-using-some-paper-core-elements", "title": "Warnings in dartium when using some paper/core elements", "body": "<p>I'm trying to use paper-tabs, paper-tab and core-pages elements but dartium shows a bunch of warnings like:</p>\n\n<pre><code>(from html5lib) Unexpected non-space characters. Expected DOCTYPE. \npackage:paper_elements/paper_tabs.dart:1:1\n\n(from html5lib) Unexpected character after attribute value. \npackage:paper_elements/paper_tabs.dart:38:9\n</code></pre>\n\n<p>And then:</p>\n\n<pre><code>custom element with name \"paper-tabs\" not found. \n</code></pre>\n\n<p>As you may guess these elements doesn't work. Other elements like core-overlay, core-field, paper-button seems to work fine. I'm using dart 1.9.0-dev.3.0, core_elements 0.6.0+5, paper_elements 0.6.1 and polymer 0.15.5+4. What may be the cause of such behaviour?</p>\n"}, {"tags": ["dart", "dart-io"], "answers": [{"comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 323, "user_id": 2114208, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f6151c4d262cad9348a0f5247c008bf9?s=128&d=identicon&r=PG&f=1", "display_name": "J Sorel", "link": "https://stackoverflow.com/users/2114208/j-sorel"}, "edited": false, "score": 0, "creation_date": 1438697781, "post_id": 28841032, "comment_id": 51548787, "body": "There is also <code>Uri.base</code>"}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 4, "last_activity_date": 1425413305, "last_edit_date": 1495542590, "creation_date": 1425413305, "answer_id": 28841032, "question_id": 28840837, "link": "https://stackoverflow.com/questions/28840837/get-path-to-directory-from-which-script-has-been-started/28841032#28841032", "title": "Get path to directory from which script has been started", "body": "<p>I assume this is what you are looking for.</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:io';\n\nvoid main() {\n  print(Platform.script);\n  print(Platform.script.toFilePath(windows: true));\n\n  // or\n\n  print(Directory.current.absolute.path);\n}\n</code></pre>\n\n<p>see also <a href=\"https://stackoverflow.com/questions/19906391\">How do I get the script path in Dart?</a></p>\n"}], "owner": {"reputation": 323, "user_id": 2114208, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f6151c4d262cad9348a0f5247c008bf9?s=128&d=identicon&r=PG&f=1", "display_name": "J Sorel", "link": "https://stackoverflow.com/users/2114208/j-sorel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 617, "favorite_count": 0, "accepted_answer_id": 28841032, "answer_count": 1, "score": 3, "last_activity_date": 1425413833, "creation_date": 1425412657, "last_edit_date": 1425413833, "question_id": 28840837, "link": "https://stackoverflow.com/questions/28840837/get-path-to-directory-from-which-script-has-been-started", "title": "Get path to directory from which script has been started", "body": "<p>For example, I have this structure:</p>\n\n<pre><code>/home/user &lt;- my current dir\n/home/user/app/bin/main.dart &lt;- entry point of my application\n</code></pre>\n\n<p>How I can get a path to the folder from which the script has been started? For example, I start <code>main.dart</code> from <code>/home/user</code> folder by:</p>\n\n<pre><code>dart app/bin/main.dart\n</code></pre>\n\n<p>Inside <code>main.dart</code> I need get the path <code>/home/user</code>. Is this possible?</p>\n"}, {"tags": ["dart", "angular-dart"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4627596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f94827b1007ca5f9b9dfeb6e47c4e748?s=128&d=identicon&r=PG&f=1", "display_name": "j0237857", "link": "https://stackoverflow.com/users/4627596/j0237857"}, "edited": false, "score": 0, "creation_date": 1425390926, "post_id": 28831999, "comment_id": 45936689, "body": "thanks for the suggestion. I had read those articles but must not have understood. I&#39;ll take another look..."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 21, "user_id": 4627596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f94827b1007ca5f9b9dfeb6e47c4e748?s=128&d=identicon&r=PG&f=1", "display_name": "j0237857", "link": "https://stackoverflow.com/users/4627596/j0237857"}, "edited": false, "score": 0, "creation_date": 1425391601, "post_id": 28831999, "comment_id": 45937121, "body": "Just add a comment if you have specific questions."}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1425386266, "last_edit_date": 1495540251, "creation_date": 1425386266, "answer_id": 28831999, "question_id": 28831879, "link": "https://stackoverflow.com/questions/28831879/how-to-reference-angulardart-component-attributes-outside-of-component-scope/28831999#28831999", "title": "How to reference AngularDart component attributes outside of component scope", "body": "<p>What you can do is to move the two components into the content(template) of a wrapper component and bind attributes of both components to fields of the wrapper element.</p>\n\n<p>Usually a better way is to use events like shown in <a href=\"https://stackoverflow.com/questions/22151427\">How to communicate between Angular DART controllers</a> or <a href=\"https://stackoverflow.com/questions/26175120\">Angular Dart component events</a> (controllers have been merged with components since then)</p>\n"}], "owner": {"reputation": 21, "user_id": 4627596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f94827b1007ca5f9b9dfeb6e47c4e748?s=128&d=identicon&r=PG&f=1", "display_name": "j0237857", "link": "https://stackoverflow.com/users/4627596/j0237857"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 520, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1425386353, "creation_date": 1425385837, "last_edit_date": 1495541572, "question_id": 28831879, "link": "https://stackoverflow.com/questions/28831879/how-to-reference-angulardart-component-attributes-outside-of-component-scope", "title": "How to reference AngularDart component attributes outside of component scope", "body": "\n\n<p>I've been tasked with creating a webapp using AngularDart. I'm new to Dart and therefore AngularDart also, but have worked through the tutorials at <a href=\"https://angulardart.org/tutorial/\" rel=\"nofollow noreferrer\">https://angulardart.org/tutorial/</a>.</p>\n\n<p>I've read similar SO questions/answers (<a href=\"https://stackoverflow.com/questions/24504862/how-to-access-a-angulardart-components-attribute-ngoneway-outside-of-the-compo\">How to access a AngularDart components attribute (NgOneWay) outside of the component, eg. on the page it is in?</a>) but given my limited knowledge I don't fully understand how to implement Brian's suggestion - or if indeed it relates to my question! Am I also right in thinking that Vink's suggestion is now irrelevant as <code>@Controller</code>'s are now deprecated?</p>\n\n<p>In short, I'm trying to figure out if the following is in fact achievable:</p>\n\n<ul>\n<li>create a top-level <code>&lt;custom-component/&gt;</code> complete with attributes;</li>\n<li>within <code>&lt;ng-view/&gt;</code> - and therefore nested components - access <code>&lt;custom-component/&gt;</code>'s attributes. More specifically, bind/listen for changes to these attributes and act accordingly.</li>\n</ul>\n\n<p>For example, given the following</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>&lt;body&gt;\n    &lt;custom-component att1=\"val1\" att2=\"val2\"&gt;&lt;/custom-component&gt;\n    &lt;ng-view&gt;&lt;/ng-view&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>and on the assumption that <code>&lt;ng-view/&gt;</code> renders the following markup</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>&lt;div&gt;\n    ...\n    &lt;other-component att1=\"{{customComponent.att1}}\" att2=\"{{customComponent.att2}}\"&gt;&lt;/other-component&gt;\n    &lt;another-component att1=\"{{customComponent.att1}}\" att2=\"{{customComponent.att2}}\"&gt;&lt;/another-component&gt;\n    ...\n&lt;/div&gt;\n</code></pre>\n\n<p>is it possible to bind <code>customComponent.&lt;&lt;attributeName&gt;&gt;</code> to <code>&lt;other-component/&gt;</code> and <code>&lt;another-component/&gt;</code>?</p>\n\n<p>Or, as is likely, am I misunderstanding the use of AngularDart's <code>@Component</code>/<code>@Decorator</code>?</p>\n\n<p>Should the <code>@att1</code> and <code>@att2</code> attributes be moved from <code>&lt;custom-component/&gt;</code> to <code>&lt;ng-view/&gt;</code>?</p>\n\n<p>Alternatively, should I look to architect a different solution altogether? My ultimate goal in this instance is to provide the user with <code>att1</code>/<code>att2</code> select boxes (from yet another component) which in turn determine the rendered content within each of <code>&lt;other-component/&gt;</code> and <code>&lt;another-component/&gt;</code>.</p>\n\n<p>Any and all suggestions welcome, I won't be offended if you dismiss any/all of the above!!!</p>\n\n<p>My current development environment is as follows:</p>\n\n<ul>\n<li>Dart SDK version 1.9.0-dev.8.0</li>\n<li>angular 1.0.0</li>\n</ul>\n\n<p>Many thanks, J</p>\n"}, {"tags": ["dart", "dart-async"], "answers": [{"comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1425362547, "post_id": 28825105, "comment_id": 45920957, "body": "See also <a href=\"http://stackoverflow.com/questions/27212220/async-await-feature-in-dart-1-8\" title=\"async await feature in dart 1 8\">stackoverflow.com/questions/27212220/&hellip;</a>"}], "tags": [], "owner": {"reputation": 75233, "user_id": 123471, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/t75zo.jpg?s=128&g=1", "display_name": "Seth Ladd", "link": "https://stackoverflow.com/users/123471/seth-ladd"}, "is_accepted": false, "score": 3, "last_activity_date": 1425362438, "creation_date": 1425362438, "answer_id": 28825105, "question_id": 28825104, "link": "https://stackoverflow.com/questions/28825104/how-do-i-change-my-simple-asynchronous-dart-function-to-use-the-new-async-keywor/28825105#28825105", "title": "How do I change my simple asynchronous Dart function to use the new async keyword?", "body": "<p>In general, add the word <code>async</code> after your function's signature and before the <code>{</code>. Also, return raw values instead of wrapping those values in futures. Also, throw actual exceptions instead of wrapping the errors with a future.</p>\n\n<p>Here's the new version:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Future beAwesome() async {\n  if (notActuallySupported) {\n    throw new UnsupportedError('uh oh');\n  }\n\n  return 42;\n}\n\n// ...\n\nvar answer = await beAwesome();\nprint(answer);\n</code></pre>\n\n<p>Note that you should still use <code>Future</code> as the return-type annotation.</p>\n"}], "owner": {"reputation": 75233, "user_id": 123471, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/t75zo.jpg?s=128&g=1", "display_name": "Seth Ladd", "link": "https://stackoverflow.com/users/123471/seth-ladd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425362438, "creation_date": 1425362438, "question_id": 28825104, "link": "https://stackoverflow.com/questions/28825104/how-do-i-change-my-simple-asynchronous-dart-function-to-use-the-new-async-keywor", "title": "How do I change my simple asynchronous Dart function to use the new async keyword?", "body": "<p>I have a Dart function that looks like:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Future beAwesome() {\n  if (notActuallySupported) {\n    return new Future.error(new UnsupportedError('uh oh'));\n  }\n\n  return new Future.value(42);\n}\n\n// ...\n\nbeAwesome().then((answer) =&gt; print(answer));\n</code></pre>\n\n<p>I want to use the new <a href=\"https://www.dartlang.org/articles/await-async/\" rel=\"nofollow\">async/await</a> functionality. How do I change my function?</p>\n"}, {"tags": ["apache", "dart", "phpstorm", "chromium"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1425330734, "post_id": 28819386, "comment_id": 45910820, "body": "Check if the file <code>dartorium&#47;lib&#47;reverser.dart</code> exists."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1425359001, "post_id": 28819386, "comment_id": 45919821, "body": "Does the packages directory contain &#39;dartorium&#39;?"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1425363801, "post_id": 28819386, "comment_id": 45921432, "body": "Looks all fine. Can you please try to delete the <code>.pub</code> directory (1st entry in your screenshot) and try again."}, {"owner": {"reputation": 3974, "user_id": 433895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26ffb8939a8111e0321254ae5259c7f8?s=128&d=identicon&r=PG", "display_name": "curt", "link": "https://stackoverflow.com/users/433895/curt"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1425364471, "post_id": 28819386, "comment_id": 45921686, "body": "I deleted the directory and did a shift click reload on the page. No change. In addition, the following error has started popping up: Resource interpreted as Script but transferred with MIME type application/vnd.dart: &quot;<a href=\"http://dartorium.loc/main.dart\" rel=\"nofollow noreferrer\">dartorium.loc/main.dart</a>&quot;."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1425365118, "post_id": 28819386, "comment_id": 45921969, "body": "It seems PHPStorm 8 doesn&#39;t launch &#39;pub serve&#39; automatically, like WebStorm 9 and 10 do. <code>pub serve</code> executes transformers which are needed by some packages. See my answer for your updated question."}], "answers": [{"comments": [{"owner": {"reputation": 3974, "user_id": 433895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26ffb8939a8111e0321254ae5259c7f8?s=128&d=identicon&r=PG", "display_name": "curt", "link": "https://stackoverflow.com/users/433895/curt"}, "edited": false, "score": 0, "creation_date": 1425365955, "post_id": 28819477, "comment_id": 45922303, "body": "Well that was progress. Now I only get the error: GET <a href=\"http://dartorium.loc/main.dart\" rel=\"nofollow noreferrer\">dartorium.loc/main.dart</a>. It&#39;s not surprising as build/web has main.dart.js in it. I added my vhosts entry to my original question."}, {"owner": {"reputation": 3974, "user_id": 433895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26ffb8939a8111e0321254ae5259c7f8?s=128&d=identicon&r=PG", "display_name": "curt", "link": "https://stackoverflow.com/users/433895/curt"}, "edited": false, "score": 0, "creation_date": 1425366159, "post_id": 28819477, "comment_id": 45922376, "body": "I tried changing /build/web/index.html to point to main.dart.js instead of main.dart. It crashed Chromium."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 3974, "user_id": 433895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26ffb8939a8111e0321254ae5259c7f8?s=128&d=identicon&r=PG", "display_name": "curt", "link": "https://stackoverflow.com/users/433895/curt"}, "edited": false, "score": 0, "creation_date": 1425366179, "post_id": 28819477, "comment_id": 45922381, "body": "I think this error is normal, the page should work as intended anyway. I think this transformer <a href=\"https://pub.dartlang.org/packages/dart_to_js_script_rewriter\" rel=\"nofollow noreferrer\">pub.dartlang.org/packages/dart_to_js_script_rewriter</a> fixes the build output to get rid of this message, never tried it myself though."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 3974, "user_id": 433895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26ffb8939a8111e0321254ae5259c7f8?s=128&d=identicon&r=PG", "display_name": "curt", "link": "https://stackoverflow.com/users/433895/curt"}, "edited": false, "score": 0, "creation_date": 1425366318, "post_id": 28819477, "comment_id": 45922428, "body": "Can you make the source available in a GitHub repo?"}, {"owner": {"reputation": 3974, "user_id": 433895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26ffb8939a8111e0321254ae5259c7f8?s=128&d=identicon&r=PG", "display_name": "curt", "link": "https://stackoverflow.com/users/433895/curt"}, "edited": false, "score": 0, "creation_date": 1425366667, "post_id": 28819477, "comment_id": 45922573, "body": "No the dart code doesn&#39;t run. The browser does render the page. The code is untouched from Stagehand. I have a github account, but I&#39;m going to have to research creating a repo."}, {"owner": {"reputation": 3974, "user_id": 433895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26ffb8939a8111e0321254ae5259c7f8?s=128&d=identicon&r=PG", "display_name": "curt", "link": "https://stackoverflow.com/users/433895/curt"}, "edited": false, "score": 0, "creation_date": 1425367540, "post_id": 28819477, "comment_id": 45922953, "body": "OK, it&#39;s at: <a href=\"https://github.com/gcortes/webapp\" rel=\"nofollow noreferrer\">github.com/gcortes/webapp</a>. It&#39;s the first time I&#39;ve done it so it may not be want you want. I had to change .gitignore to get the build to go up."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 3974, "user_id": 433895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26ffb8939a8111e0321254ae5259c7f8?s=128&d=identicon&r=PG", "display_name": "curt", "link": "https://stackoverflow.com/users/433895/curt"}, "edited": false, "score": 0, "creation_date": 1425367553, "post_id": 28819477, "comment_id": 45922957, "body": "I created the <code>ubersimplewebapp</code> using stagehand, run <code>pub get</code>, then <code>pub build</code> and opened the file in Chrome (no script tag change) and it showed &#39;Your Dart app is running&#39;. I updated my answer."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 3974, "user_id": 433895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26ffb8939a8111e0321254ae5259c7f8?s=128&d=identicon&r=PG", "display_name": "curt", "link": "https://stackoverflow.com/users/433895/curt"}, "edited": false, "score": 0, "creation_date": 1425367944, "post_id": 28819477, "comment_id": 45923142, "body": "Your build output runs fine here in Chrome and Dartium with and without script change using a file URL or a web server. What Dart version are you using? &#39;dart --version&#39; on the command line or <code>chrome:&#47;&#47;version</code> in Dartium (the &quot;Dart: ... &quot; line)"}, {"owner": {"reputation": 3974, "user_id": 433895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26ffb8939a8111e0321254ae5259c7f8?s=128&d=identicon&r=PG", "display_name": "curt", "link": "https://stackoverflow.com/users/433895/curt"}, "edited": false, "score": 0, "creation_date": 1425368214, "post_id": 28819477, "comment_id": 45923260, "body": "The ubersimplewebapp always worked for me even without the pub build. Before I made that change you suggested, I was able to run the app in Firefox without issue. I then made the change, ran pub build, and attempted to run it in Chromium. I got the same error."}, {"owner": {"reputation": 3974, "user_id": 433895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26ffb8939a8111e0321254ae5259c7f8?s=128&d=identicon&r=PG", "display_name": "curt", "link": "https://stackoverflow.com/users/433895/curt"}, "edited": false, "score": 1, "creation_date": 1425368457, "post_id": 28819477, "comment_id": 45923363, "body": "My bad. I changed the code in build/web/index.html and then ran build, which set it back to the original. When I changed it in web, it worked fine."}, {"owner": {"reputation": 3974, "user_id": 433895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26ffb8939a8111e0321254ae5259c7f8?s=128&d=identicon&r=PG", "display_name": "curt", "link": "https://stackoverflow.com/users/433895/curt"}, "edited": false, "score": 0, "creation_date": 1425368607, "post_id": 28819477, "comment_id": 45923431, "body": "dart --version =&gt; Dart VM version: 1.8.5 (Tue Jan 13 13:05:45 2015) on &quot;macos_x64&quot;"}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1425367538, "last_edit_date": 1425367538, "creation_date": 1425330576, "answer_id": 28819477, "question_id": 28819386, "link": "https://stackoverflow.com/questions/28819386/chromium-and-dart-an-error-occurred-loading-file/28819477#28819477", "title": "Chromium and Dart: &quot;An error occurred loading file&quot;", "body": "<p>You need to run <code>pub build</code> to generate JavaScript output (in build/web). This build output can be served by apache.</p>\n\n<p>The build output works fine in Chrome without change. To make it work in Dartium I changed the script tags:</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>&lt;script src=\"main.dart.js\"&gt;&lt;/script&gt;\n&lt;!--&lt;script type=\"application/dart\" src=\"main.dart\"&gt;&lt;/script&gt; --&gt;\n&lt;!--&lt;script data-pub-inline src=\"packages/browser/dart.js\"&gt;&lt;/script&gt;--&gt;\n</code></pre>\n"}], "owner": {"reputation": 3974, "user_id": 433895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26ffb8939a8111e0321254ae5259c7f8?s=128&d=identicon&r=PG", "display_name": "curt", "link": "https://stackoverflow.com/users/433895/curt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 382, "favorite_count": 0, "accepted_answer_id": 28819477, "answer_count": 1, "score": 1, "last_activity_date": 1425400782, "creation_date": 1425330212, "last_edit_date": 1425400782, "question_id": 28819386, "link": "https://stackoverflow.com/questions/28819386/chromium-and-dart-an-error-occurred-loading-file", "title": "Chromium and Dart: &quot;An error occurred loading file&quot;", "body": "<p>I'm trying to run some Dart templates from <a href=\"https://github.com/google/stagehand/tree/master/templates\" rel=\"nofollow noreferrer\">Stagehand</a>. The 'ubersimplewebapp' app works. There's almost nothing to it. I've tried a couple of others and they don't. I'm currently trying to get 'webapp' to work. In install using PHPStorm and there are no errors. When I run it in the Chromium browser, I get the following console errors:</p>\n\n<pre><code>GET http://dartorium.loc/packages/browser/dart.js\nGET http://dartorium.loc/packages/dartorium/nav_menu.dart\nAn error occurred loading file: package:dartorium/nav_menu.dart\nGET http://dartorium.loc/packages/route_hierarchical/client.dart\nAn error occurred loading file: package:route_hierarchical/client.dart\nGET http://dartorium.loc/packages/dartorium/reverser.dart\nAn error occurred loading file: package:dartorium/reverser.dart\n</code></pre>\n\n<p>This is the pubspec.yaml file:</p>\n\n<pre><code>name: 'dartorium'\nversion: 0.0.1\ndescription: &gt;\n  A minimal web app for the developer that doesn\u2019t want to be confused by too\n  much going on.\n#author: &lt;your name&gt; &lt;email@example.com&gt;\n#homepage: https://www.example.com\nenvironment:\n  sdk: '&gt;=1.0.0 &lt;2.0.0'\ndependencies:\n  browser: any\n  sass: '&gt;=0.4.0 &lt;0.5.0'\n  script_inliner: '&gt;=1.0.0 &lt;2.0.0'\n  route_hierarchical: '&gt;=0.5.0 &lt;0.7.0'\ntransformers:\n- script_inliner\n#- sass:\n#    style: compressed\n</code></pre>\n\n<p>This is the log from installing the template the PHPStorm produced:</p>\n\n<pre><code>Working dir: /Volumes/Data/htdocs/dartorium\n/usr/local/opt/dart/libexec/bin/pub get\nResolving dependencies...\n+ analyzer 0.22.4 (0.24.0 available)\n+ args 0.12.2+6\n+ barback 0.15.2+4\n+ browser 0.10.0+2\n+ cli_util 0.0.1+1\n+ code_transformers 0.2.5\n+ collection 1.1.0\n+ csslib 0.11.0+4\n+ html5lib 0.12.0\n+ logging 0.9.3\n+ path 1.3.3\n+ pool 1.0.1\n+ route_hierarchical 0.6.1+1\n+ sass 0.4.2\n+ script_inliner 1.0.0\n+ source_maps 0.10.0+1\n+ source_span 1.0.3\n+ stack_trace 1.2.1\n+ utf 0.9.0+2\n+ watcher 0.9.4\n+ when 0.2.0\n+ which 0.1.3\nChanged 22 dependencies!\nPrecompiling dependencies...\nLoading source assets...\nLoading script_inliner transformers...\nPrecompiled script_inliner.\nProcess finished with exit code 0\n</code></pre>\n\n<p>A directory snapshot</p>\n\n<p><img src=\"https://i.stack.imgur.com/fA4Dp.png\" alt=\"enter image description here\"></p>\n\n<p>My vhosts entry just in case:</p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n    ServerName dartorium.loc\n    DocumentRoot \"/Volumes/Data/htdocs/dartorium/web\"\n  &lt;directory /Volumes/Data/htdocs/dartorium&gt;\n    Allow from all\n    Options -MultiViews\n    Require all granted\n  &lt;/directory&gt;\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<h2>Update</h2>\n\n<p>I decided to try creating the app outside of PHPStorm. I deleted the app and did 'stagehand webapp' in Terminal to install it again and then 'pub get'. I still got the same errors. </p>\n\n<p>I then noticed a comment in the output that said to do 'pub serve' and then connect to the site on localhost:8080. When I did that, the app ran fine. So now my question is how do you run the app using Apache?</p>\n\n<h2>Answer</h2>\n\n<p>The accepted answer below given by G\u00fcnter Z\u00f6chbauer solved the problem. In addition to what is described there, I made two other changes. After any change in the code, I run 'pub build'. I'm spoiled by working in PHP and RoR using RubyMine where all I have to do is refresh the browser. The other change was to my vhosts entry. It's now set to:</p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n    ServerName dartorium.loc\n    DocumentRoot \"/Volumes/Data/htdocs/dartorium/build/web\"\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p>I had originally added the permissions to fix some access problems I had before starting this post. It turns out they weren't necessary. The entry now points to build/web instead of the web directory in which you work.</p>\n"}, {"tags": ["rest", "dart"], "comments": [{"owner": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "edited": false, "score": 0, "creation_date": 1425330070, "post_id": 28818566, "comment_id": 45910466, "body": "Can you configure tomcat to serve static files and then make a symlink to your dart web folder. Another option is to continue using absolute paths, but pass an environment variable with the test hostname so that you don&#39;t have to hardcode it. And only set this at development time. See: String.fromEnvironment()."}], "answers": [{"tags": [], "owner": {"reputation": 213, "user_id": 4046996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00bc2b05af3b81eaf361b6acc5cb4a51?s=128&d=identicon&r=PG&f=1", "display_name": "Khanad", "link": "https://stackoverflow.com/users/4046996/khanad"}, "is_accepted": false, "score": 0, "last_activity_date": 1425327694, "creation_date": 1425327694, "answer_id": 28818775, "question_id": 28818566, "link": "https://stackoverflow.com/questions/28818566/debug-dart-application-with-running-rest-server/28818775#28818775", "title": "Debug Dart Application with running rest server", "body": "<p>You can specify the host/port you are running using the <code>pub serve</code> command. See here: <a href=\"https://www.dartlang.org/tools/pub/cmd/pub-serve.html\" rel=\"nofollow\">https://www.dartlang.org/tools/pub/cmd/pub-serve.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 1175, "user_id": 3639893, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/fFfoW.jpg?s=128&g=1", "display_name": "Hubert Str&#246;bitzer", "link": "https://stackoverflow.com/users/3639893/hubert-str%c3%b6bitzer"}, "is_accepted": false, "score": 0, "last_activity_date": 1427463607, "creation_date": 1427463607, "answer_id": 29302065, "question_id": 28818566, "link": "https://stackoverflow.com/questions/28818566/debug-dart-application-with-running-rest-server/29302065#29302065", "title": "Debug Dart Application with running rest server", "body": "<p>Thanks for your answers. In the meantime I got more wisdom and my question got obsolete  :)</p>\n\n<p>My Client application holds customizable properties (host:port/app) which will be used on firing against my REST interface. I like the flexibility of this approach.</p>\n\n<p>BW Hubert</p>\n"}], "owner": {"reputation": 1175, "user_id": 3639893, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/fFfoW.jpg?s=128&g=1", "display_name": "Hubert Str&#246;bitzer", "link": "https://stackoverflow.com/users/3639893/hubert-str%c3%b6bitzer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1427463607, "creation_date": 1425326830, "question_id": 28818566, "link": "https://stackoverflow.com/questions/28818566/debug-dart-application-with-running-rest-server", "title": "Debug Dart Application with running rest server", "body": "<p>I need some help on bootstrapping a dart web application. </p>\n\n<p>How can I customize the host and the port against which my dart application is running?</p>\n\n<h1>My scenario</h1>\n\n<ul>\n<li>Running Tomcat with Restful Interface on localhost:8080 (Eg get on localhost/8080/something/entity delivers my a bunch of entities as json)</li>\n<li>DartEditor which should fire httprequests against the tomcat.</li>\n</ul>\n\n<h1>My workaround</h1>\n\n<p>Using absolute paths in the urls. Eg <a href=\"http://localhost/8080/something/entity\" rel=\"nofollow\">http://localhost/8080/something/entity</a> - which is stupid - I would like to have relative paths like /something/entity in my dart application.</p>\n\n<p>Is there a way to start Dartium with the context properly set? Like system params which have to be passed to the debug config. </p>\n\n<p>BR Hubert</p>\n"}, {"tags": ["url", "dart"], "answers": [{"tags": [], "owner": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "is_accepted": true, "score": 6, "last_activity_date": 1425234129, "creation_date": 1425234129, "answer_id": 28797263, "question_id": 28797205, "link": "https://stackoverflow.com/questions/28797205/dart-variables-in-url/28797263#28797263", "title": "Dart variables in URL", "body": "<pre><code>Uri uri = Uri.parse('website.com?var_A=7&amp;var_B=192');\nprint(uri.queryParameters['var_A']);\nprint(uri.queryParameters['var_B']);\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>7\n192\n</code></pre>\n"}], "owner": {"reputation": 1492, "user_id": 3449744, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b409bb791bfe5c739a5cf36c9611ee94?s=128&d=identicon&r=PG", "display_name": "Vilda", "link": "https://stackoverflow.com/users/3449744/vilda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 28797263, "answer_count": 1, "score": 4, "last_activity_date": 1425234129, "creation_date": 1425233778, "question_id": 28797205, "link": "https://stackoverflow.com/questions/28797205/dart-variables-in-url", "title": "Dart variables in URL", "body": "<p>Is there a way in Dart to fetch variables from the loading URL?</p>\n\n<p>For example, from this URL:</p>\n\n<pre><code> website.com?var_A=7&amp;var_B=192\n</code></pre>\n\n<p>can I retreive the variables <code>var_A</code> and <code>var_B</code>?</p>\n"}, {"tags": ["dart", "phpstorm"], "comments": [{"owner": {"reputation": 136418, "user_id": 783119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bbfd3e5e9f8b698abf7cd1c7aae7a10?s=128&d=identicon&r=PG", "display_name": "LazyOne", "link": "https://stackoverflow.com/users/783119/lazyone"}, "edited": false, "score": 0, "creation_date": 1425220573, "post_id": 28794349, "comment_id": 45863993, "body": "<a href=\"https://confluence.jetbrains.com/display/WI/Getting+started+with+Dart\" rel=\"nofollow noreferrer\">confluence.jetbrains.com/display/WI/Getting+started+with+Dar&zwnj;&#8203;t</a>"}, {"owner": {"reputation": 31, "user_id": 2754392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cae3a92ed968bd938181dd037835144?s=128&d=identicon&r=PG&f=1", "display_name": "Franti\u0161ek \u0160itner", "link": "https://stackoverflow.com/users/2754392/franti%c5%a1ek-%c5%a0itner"}, "reply_to_user": {"reputation": 136418, "user_id": 783119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bbfd3e5e9f8b698abf7cd1c7aae7a10?s=128&d=identicon&r=PG", "display_name": "LazyOne", "link": "https://stackoverflow.com/users/783119/lazyone"}, "edited": false, "score": 0, "creation_date": 1425227394, "post_id": 28794349, "comment_id": 45866446, "body": "@LazyOne There is nothing about transpiling dart to js"}], "answers": [{"comments": [{"owner": {"reputation": 1854, "user_id": 858061, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/e4oUG.jpg?s=128&g=1", "display_name": "Michael Fenwick", "link": "https://stackoverflow.com/users/858061/michael-fenwick"}, "edited": false, "score": 1, "creation_date": 1425325819, "post_id": 28794414, "comment_id": 45908129, "body": "I&#39;ve used both PHPStorm and WebStorm for Dart development, and there is really no difference at all (aside from minor changes to the IDE itself since they aren&#39;t on identical update schedules). Everything G&#252;nter said about WebStorm is true for PHPStorm as well."}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 3, "last_activity_date": 1425218716, "creation_date": 1425218716, "answer_id": 28794414, "question_id": 28794349, "link": "https://stackoverflow.com/questions/28794349/how-to-transpiling-dart-to-javascript-in-phpstorm/28794414#28794414", "title": "How to transpiling dart to javascript in Phpstorm", "body": "<p>I know only WebStorm 9 and 10. Maybe you can still derive how it might work in PHPStorm.</p>\n\n<p>Usually you don't want to build to JavaScript on each file change because this would slow your machine down.<br>\nDuring development you use <code>pub serve</code> which is automatically launched by WS 9 and 10 and which transpiles Dart files to JavaScript only on demand (when requested by a browser) and only compiles what it didn't compile previously.</p>\n\n<p>For deployment WebStorm can use the <code>Pub: build ...</code> context menu of the <code>pubspec.yaml</code> file in the project view. </p>\n"}, {"tags": [], "owner": {"reputation": 72396, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "is_accepted": false, "score": 2, "last_activity_date": 1425306410, "creation_date": 1425306410, "answer_id": 28812191, "question_id": 28794349, "link": "https://stackoverflow.com/questions/28794349/how-to-transpiling-dart-to-javascript-in-phpstorm/28812191#28812191", "title": "How to transpiling dart to javascript in Phpstorm", "body": "<p>See @G\u00fcnter Z\u00f6chbauer answer.\nUsing dart2js is not the recommended approach, as it runs on file level instead of project, creates output in the src folder, etc. - but the main reason is that it is not clear when/why to use it. If you need to build your project, use <code>'pub build</code>' (available in pubspec.yaml right-click menu). When debugging in browser, <code>'pub serve</code>' is always used implicitly - it performs all needed transformations... \nBut, if you still need this watcher, you can easily configure it yourself by adding a watcher of 'custom' type.</p>\n\n<pre><code>Program: path/to/dart2js\nArguments: --out=$FilePath$.js $FilePath$\nWorking directory: $FileDir$\nOutput paths: $FileName$.js:$FileName$.js.map:$FileName$.js.deps\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 2754392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cae3a92ed968bd938181dd037835144?s=128&d=identicon&r=PG&f=1", "display_name": "Franti\u0161ek \u0160itner", "link": "https://stackoverflow.com/users/2754392/franti%c5%a1ek-%c5%a0itner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 428, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1425306410, "creation_date": 1425218304, "question_id": 28794349, "link": "https://stackoverflow.com/questions/28794349/how-to-transpiling-dart-to-javascript-in-phpstorm", "title": "How to transpiling dart to javascript in Phpstorm", "body": "<p>I installed dart-sdk and downloaded dart plugin to Phpstorm 8.0.3, but I cant figure out how to transpile dart to js. When I am trying to make file watcher I dont have any Dart2Js predefined template in settings.</p>\n\n<p>Thank you</p>\n"}, {"tags": ["dart", "angular-dart", "dart-js-interop"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1425212174, "post_id": 28793388, "comment_id": 45861435, "body": "Can you please try without the <code>.fromBrowserObject</code>, maybe even without new JsObject... like just <code>event[&#39;target&#39;]</code> and add a comment about the outcome?"}, {"owner": {"reputation": 2319, "user_id": 2944265, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b3facdb13a606a85654816fba6406e1c?s=128&d=identicon&r=PG&f=1", "display_name": "Zveratko", "link": "https://stackoverflow.com/users/2944265/zveratko"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1425213142, "post_id": 28793388, "comment_id": 45861709, "body": "Works, but why is that? It was working in plain Dart. I use it according to your advice here <a href=\"http://stackoverflow.com/a/28589897/2944265\">stackoverflow.com/a/28589897/2944265</a>. I am really confused now."}, {"owner": {"reputation": 2319, "user_id": 2944265, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b3facdb13a606a85654816fba6406e1c?s=128&d=identicon&r=PG&f=1", "display_name": "Zveratko", "link": "https://stackoverflow.com/users/2944265/zveratko"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1425213577, "post_id": 28793388, "comment_id": 45861806, "body": "So thanks again for insight. I&#39;m playing with Dart just to get rid of javascript, but forced to use this JS library it is a mess. I didn&#39;t thought Angular.Dart handles events, I thought it is javascript&#39;s job."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1425214241, "post_id": 28793388, "comment_id": 45861974, "body": "Your screenshot didn&#39;t provide enough information. I just had a look at your code in the repo and from this I can tell that Angular isn&#39;t involed with the event. I looked briefly at the code examples but I can&#39;t tell why the event in the linked question didn&#39;t arrive in the same form as in your current code."}], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 0, "last_activity_date": 1425213382, "creation_date": 1425213382, "answer_id": 28793600, "question_id": 28793388, "link": "https://stackoverflow.com/questions/28793388/angular-dart-javascript-interop-error/28793600#28793600", "title": "Angular.Dart javascript interop error", "body": "<p>The debugger shows it is already a <code>JsObject</code>, just omit the <code>new JsObject(...)</code> call.</p>\n"}], "owner": {"reputation": 2319, "user_id": 2944265, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b3facdb13a606a85654816fba6406e1c?s=128&d=identicon&r=PG&f=1", "display_name": "Zveratko", "link": "https://stackoverflow.com/users/2944265/zveratko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 28793600, "answer_count": 1, "score": 1, "last_activity_date": 1425213382, "creation_date": 1425211969, "question_id": 28793388, "link": "https://stackoverflow.com/questions/28793388/angular-dart-javascript-interop-error", "title": "Angular.Dart javascript interop error", "body": "<p>I have problem with my code which is using 3rd party library. When I use it in the plain Dart itself it already works, but not with Angular.Dart. I have used chapter3 from Dart tutorial and just added my code in recipe_book.dart which is compoment. </p>\n\n<p>Place where the code fails is shown in the picture below. After i get </p>\n\n<blockquote>\n  <p>Breaking on exception: object must be an Node, ArrayBuffer, Blob, ImageData, or IDBKeyRange</p>\n</blockquote>\n\n<p>I don't have idea how to get rid of this:-( Maybe it is something somebody more familiar with Angulart.dart can answer right away. </p>\n\n<p>Anybody willing to help can check the code here <a href=\"https://mwortner@bitbucket.org/mwortner/darttest.git\" rel=\"nofollow noreferrer\">on github</a></p>\n\n<p><img src=\"https://i.stack.imgur.com/2Tefe.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["dart"], "comments": [{"owner": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "edited": false, "score": 0, "creation_date": 1425206077, "post_id": 28790400, "comment_id": 45859843, "body": "<a href=\"http://journal.stuffwithstuff.com/2015/02/01/what-color-is-your-function/\" rel=\"nofollow noreferrer\">journal.stuffwithstuff.com/2015/02/01/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 661, "user_id": 1048679, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ee44ebebc76da664109d1c658bc7b371?s=128&d=identicon&r=PG", "display_name": "wjohnson", "link": "https://stackoverflow.com/users/1048679/wjohnson"}, "edited": false, "score": 0, "creation_date": 1425235608, "post_id": 28791323, "comment_id": 45869414, "body": "@ Gunter: I will try this. However, the implications are that the &#39;async&#39; annotation requires a fundamental change in signature (the type of the returned value) and is not just an implementation detail as stated in Gilad Bracha&#39;s article &quot;Dart Language Asynchrony Support: Phase 1&quot;."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 661, "user_id": 1048679, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ee44ebebc76da664109d1c658bc7b371?s=128&d=identicon&r=PG", "display_name": "wjohnson", "link": "https://stackoverflow.com/users/1048679/wjohnson"}, "edited": false, "score": 0, "creation_date": 1425236254, "post_id": 28791323, "comment_id": 45869618, "body": "I had troubles understanding these statements too at first. You cant compare a sync function to a funtion with the async modifier. Only if you have a function  which returns a future it doesn&#39;t matter if you add the async modifier to the function or not from the callers point of view. The async modifier still doesn&#39;t make async functions sychronous, it just allows using await in the body."}, {"owner": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "reply_to_user": {"reputation": 661, "user_id": 1048679, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ee44ebebc76da664109d1c658bc7b371?s=128&d=identicon&r=PG", "display_name": "wjohnson", "link": "https://stackoverflow.com/users/1048679/wjohnson"}, "edited": false, "score": 2, "creation_date": 1425280613, "post_id": 28791323, "comment_id": 45882063, "body": "@wjohnson Yes, without threads, once you&#39;ve gone asynchronous you can&#39;t go back. But this isn&#39;t because of the async/await syntax, the same problem is there if you use futures and streams too (or even if you use continuation passing style like in node). The async/await sugar really is just sugar for futures and streams, it doesn&#39;t change the signature. The only way to remove async calls from your code is via blocking calls and threads. The Dart team are currently experimenting with this in an experimental VM called fletch. <a href=\"https://github.com/dart-lang/fletch/wiki/Coroutines-and-Threads\" rel=\"nofollow noreferrer\">github.com/dart-lang/fletch/wiki/Coroutines-and-Threads</a>"}, {"owner": {"reputation": 661, "user_id": 1048679, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ee44ebebc76da664109d1c658bc7b371?s=128&d=identicon&r=PG", "display_name": "wjohnson", "link": "https://stackoverflow.com/users/1048679/wjohnson"}, "reply_to_user": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "edited": false, "score": 0, "creation_date": 1425353099, "post_id": 28791323, "comment_id": 45918288, "body": "@Greg: Helpful comment. It is sinking in that I\u2019m trying to reach for coroutines or fork/join constructs inside an event-driven architecture. I found myself in agreement with many of the observations by the authors of the paper cited (Behren+) on the Fletch website you referenced. Comprehending flow of control in an application becomes much more difficult when callbacks are ricocheting around in requests/responses."}, {"owner": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "edited": false, "score": 0, "creation_date": 1425354392, "post_id": 28791323, "comment_id": 45918629, "body": "Cheers ;)  Did you get a chance to read the earlier link from one of the Dart developers. It talks specifically about the sync/async schism. <a href=\"http://journal.stuffwithstuff.com/2015/02/01/what-color-is-your-function/\" rel=\"nofollow noreferrer\">journal.stuffwithstuff.com/2015/02/01/&hellip;</a>  I&#39;m looking forward to where things go with fletch. Up until now DartVM development has been based on old well tried ideas. Fletch is an interesting departure. Although the ideas are still old, these concurrency models are not a well trodden path. So it is much more interesting from a computer science perspective ;)"}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 3, "last_activity_date": 1425196266, "creation_date": 1425196266, "answer_id": 28791323, "question_id": 28790400, "link": "https://stackoverflow.com/questions/28790400/can-one-specify-a-dart-interface-that-may-be-implemented-by-classes-with-either/28791323#28791323", "title": "Can one specify a Dart interface that may be implemented by classes with either sync or async methods?", "body": "<p>This is not possible. What you can do is specifying an async interface and returning a future from synchronous code. </p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>return new Future.value(someReturnValue);\n</code></pre>\n"}], "owner": {"reputation": 661, "user_id": 1048679, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ee44ebebc76da664109d1c658bc7b371?s=128&d=identicon&r=PG", "display_name": "wjohnson", "link": "https://stackoverflow.com/users/1048679/wjohnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 581, "favorite_count": 0, "accepted_answer_id": 28791323, "answer_count": 1, "score": 2, "last_activity_date": 1425196266, "creation_date": 1425187229, "question_id": 28790400, "link": "https://stackoverflow.com/questions/28790400/can-one-specify-a-dart-interface-that-may-be-implemented-by-classes-with-either", "title": "Can one specify a Dart interface that may be implemented by classes with either sync or async methods?", "body": "<p>For a Dart component that uses remote services, I started by defining a Dart service interface as an abstract class (e.g. abstract class XService) and a mock class (class XServiceMock implements XService) with synchronous methods that implemented the service API which I used for testing the component. I am now starting to implement the real proxy (class XServiceImpl implements XService) and several of its methods use the \u2018await/async\u2019 language features. The \u2018await\u2019 requires that the containing method be annotated with async which requires a return type of Future&lt;Something&gt;  and puts it in conflict with the method signatures in XService. I want to be able to inject either the mock proxy or the real one without modifying the component source code. Can this be done and how?</p>\n\n<pre><code>XService (api)\nXServiceMock implements XService (sync methods only)\nXServiceImpl implements XService (mixture of async and sync methods)\n</code></pre>\n"}, {"tags": ["dart", "dart-io"], "answers": [{"comments": [{"owner": {"reputation": 195, "user_id": 948144, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/05f646ed06dea446af15406b98eaa407?s=128&d=identicon&r=PG", "display_name": "Dariel Dato-on", "link": "https://stackoverflow.com/users/948144/dariel-dato-on"}, "edited": false, "score": 0, "creation_date": 1425249769, "post_id": 28791272, "comment_id": 45874133, "body": "Thanks, G&#252;nter. I tried your suggestion, but I&#39;m still not sure how this can capture the stdin to a String in Dart. Can you expand on your answer a bit more? Thanks, again!"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 195, "user_id": 948144, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/05f646ed06dea446af15406b98eaa407?s=128&d=identicon&r=PG", "display_name": "Dariel Dato-on", "link": "https://stackoverflow.com/users/948144/dariel-dato-on"}, "edited": false, "score": 0, "creation_date": 1425277536, "post_id": 28791272, "comment_id": 45880929, "body": "I updated my answer. If you want a more specific answer please provide more information about what you try to accomplish and what exactly causes you troubles."}, {"owner": {"reputation": 195, "user_id": 948144, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/05f646ed06dea446af15406b98eaa407?s=128&d=identicon&r=PG", "display_name": "Dariel Dato-on", "link": "https://stackoverflow.com/users/948144/dariel-dato-on"}, "edited": false, "score": 0, "creation_date": 1426129512, "post_id": 28791272, "comment_id": 46250086, "body": "Hey, G&#252;nter. Sorry I&#39;m late getting back to you on this. Your suggestion works, but I was not able to modify it to meet my needs. Basically, I&#39;m trying to do something like <code>String input = stdin.readLineSync()</code>, but be able to save multiple lines instead of just one. For background, I&#39;m working on a CSS pre-processor. So I need to save the stdin to a string, then process the string."}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1543917590, "last_edit_date": 1543917590, "creation_date": 1425195651, "answer_id": 28791272, "question_id": 28790279, "link": "https://stackoverflow.com/questions/28790279/how-do-i-capture-stdin-more-than-one-line-to-a-string-in-dart/28791272#28791272", "title": "How do I capture stdin (more than one line) to a String in Dart?", "body": "<p>You can use </p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:io' as io;\nimport 'dart:async' show Future, Stream, StreamSubscription;\nimport 'dart:convert' show UTF8;\n\nvoid main() {\n  StreamSubscription subscr = io.stdin.transform(UTF8.decoder).listen((data) =&gt; \n      print(data));\n}\n</code></pre>\n\n<p>You can control whether more data should be received or not with</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>subscr.pause();\nsubscr.resume();\n</code></pre>\n\n<p>Listen on stdin passes data in chunks of 16kb if I remember correctly (io buffer size defined by Dart) this allows you to receive the amount of data you can process.\nIf you want to keep one big string in memory you need to have that memory available.</p>\n\n<p>See also<br>\n- <a href=\"https://stackoverflow.com/a/26343041/217408\">https://stackoverflow.com/a/26343041/217408</a> (set VM memory)<br>\n- <a href=\"https://stackoverflow.com/a/12691502/217408\">https://stackoverflow.com/a/12691502/217408</a><br>\n- <a href=\"https://stackoverflow.com/a/28039661/217408\">https://stackoverflow.com/a/28039661/217408</a></p>\n"}, {"comments": [{"owner": {"reputation": 195, "user_id": 948144, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/05f646ed06dea446af15406b98eaa407?s=128&d=identicon&r=PG", "display_name": "Dariel Dato-on", "link": "https://stackoverflow.com/users/948144/dariel-dato-on"}, "edited": false, "score": 0, "creation_date": 1426129789, "post_id": 28805065, "comment_id": 46250163, "body": "Hello, Greg! Thanks for your suggestion. I couldn&#39;t quite figure out how to modify your code to fit my needs. See my comment to G&#252;nter&#39;s solution. Basically, I&#39;m trying to do something like <code>String input = stdin.readLineSync()</code>, but be able to save multiple lines instead of just one. If you have any other suggestions, please let me know! Thanks!"}, {"owner": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "reply_to_user": {"reputation": 195, "user_id": 948144, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/05f646ed06dea446af15406b98eaa407?s=128&d=identicon&r=PG", "display_name": "Dariel Dato-on", "link": "https://stackoverflow.com/users/948144/dariel-dato-on"}, "edited": false, "score": 1, "creation_date": 1426133334, "post_id": 28805065, "comment_id": 46250982, "body": "I think you need to be more clear about the problem you are trying to solve. i.e. A function can listen for input and return a string when a Ctrl+D arrives. Or a program can wait for a newline character and return a string containing the line. If a program is supposed to read multiple lines, how does it know it is done reading? Will it wait until it reads an empty line? Or will in wait until it reads a line with the word &quot;end&quot; on it?"}], "tags": [], "owner": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "is_accepted": false, "score": 3, "last_activity_date": 1425286912, "last_edit_date": 1425286912, "creation_date": 1425283503, "answer_id": 28805065, "question_id": 28790279, "link": "https://stackoverflow.com/questions/28790279/how-do-i-capture-stdin-more-than-one-line-to-a-string-in-dart/28805065#28805065", "title": "How do I capture stdin (more than one line) to a String in Dart?", "body": "<p>The following program if used interactively will echo your input but capitalise each character.</p>\n\n<p>You can also pipe a file to it. </p>\n\n<pre><code>dart upper_cat.dart &lt; file.txt\n</code></pre>\n\n<p>This will output the file with every character capitalised.</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:convert';\nimport 'dart:io';\n\nmain() {\n\n  // Stop your keystrokes being printed automatically.\n  stdin.echoMode = false;\n\n  // This will cause the stdin stream to provide the input as soon as it\n  // arrives, so in interactive mode this will be one key press at a time.\n  stdin.lineMode = false;\n\n  var subscription;\n  subscription = stdin.listen((List&lt;int&gt; data) {\n\n    // Ctrl-D in the terminal sends an ascii end of transmission character.\n    // http://www.asciitable.com/\n    if (data.contains(4)) {\n      // On my computer (linux) if you don't switch this back on the console\n      // will do wierd things.\n      stdin.echoMode = true;\n\n      // Stop listening.\n      subscription.cancel();\n    } else {\n\n      // Translate character codes into a string.\n      var s = LATIN1.decode(data);\n\n      // Capitalise the input and write it back to the screen.\n      stdout.write(s.toUpperCase());\n    }\n  });\n\n}\n</code></pre>\n\n<p>There is also the <a href=\"https://pub.dartlang.org/packages/console\" rel=\"nofollow\">console</a> library to help with this kind of stuff. I haven't tried it, but give it a shot and report back ;)</p>\n\n<p>The following example handles UTF8 input - the example above requires 1 byte characters as input.</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:convert';\nimport 'dart:io';\n\nmain() {\n\n  stdin.echoMode = false;\n  stdin.lineMode = false;\n\n  var subscription;\n  subscription = stdin\n    .map((List&lt;int&gt; data) {\n      if (data.contains(4)) {\n        stdin.echoMode = true;\n        subscription.cancel();\n      }\n      return data;\n    })\n    .transform(UTF8.decoder)\n    .map((String s) =&gt; s.toUpperCase())\n    .listen(stdout.write);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 195, "user_id": 948144, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/05f646ed06dea446af15406b98eaa407?s=128&d=identicon&r=PG", "display_name": "Dariel Dato-on", "link": "https://stackoverflow.com/users/948144/dariel-dato-on"}, "is_accepted": true, "score": 1, "last_activity_date": 1426216029, "creation_date": 1426216029, "answer_id": 29024240, "question_id": 28790279, "link": "https://stackoverflow.com/questions/28790279/how-do-i-capture-stdin-more-than-one-line-to-a-string-in-dart/29024240#29024240", "title": "How do I capture stdin (more than one line) to a String in Dart?", "body": "<p>I studied the code of the <code>stdin.readLineSync()</code> and was able to modify it to fit my needs:</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:convert';\nimport 'dart:io';\n\nString readInputSync({Encoding encoding: SYSTEM_ENCODING}) {\n  final List input = [];\n  while (true) {\n    int byte = stdin.readByteSync();\n    if (byte &lt; 0) {\n      if (input.isEmpty) return null;\n      break;\n    }\n    input.add(byte);\n  }\n  return encoding.decode(input);\n}\n\nvoid main() {\n  String input = readInputSync();\n  myFunction(input); // Take the input as an argument to a function\n}\n</code></pre>\n\n<p>I needed to read synchronously from the stdin in order to pause the program until the entire stdin (until the end of file or <kbd>Ctrl</kbd>+<kbd>d</kbd>) was read.</p>\n\n<p>Thanks for all your help! I don't think I would have been able to figure it out without your help.</p>\n"}], "owner": {"reputation": 195, "user_id": 948144, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/05f646ed06dea446af15406b98eaa407?s=128&d=identicon&r=PG", "display_name": "Dariel Dato-on", "link": "https://stackoverflow.com/users/948144/dariel-dato-on"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1464, "favorite_count": 1, "accepted_answer_id": 29024240, "answer_count": 3, "score": 2, "last_activity_date": 1543917590, "creation_date": 1425186129, "last_edit_date": 1425195683, "question_id": 28790279, "link": "https://stackoverflow.com/questions/28790279/how-do-i-capture-stdin-more-than-one-line-to-a-string-in-dart", "title": "How do I capture stdin (more than one line) to a String in Dart?", "body": "<p>I have a Dart command-line program that want to be able to pipe data from the shell to the Dart program (e.g., <code>cat file.txt | dart my_program.dart</code> or accept input until the user uses <kbd>Ctrl</kbd>+<kbd>d</kbd>). Going through the tutorials online, the only documentation I found on saving input from the stdin was <code>stdin.readLineSync()</code>. However, as the name implies, this only reads the first line.</p>\n\n<p>How can capture the entire contents of the stdin to a String? Also, would there be any security concerns if a user tries to pipe in an enormously large file? Is there a limit to how long the String can be? How can I safeguard against that?</p>\n\n<p>Thanks for your help!</p>\n"}, {"tags": ["dart", "dart2js"], "comments": [{"owner": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "edited": false, "score": 0, "creation_date": 1425158725, "post_id": 28786006, "comment_id": 45850059, "body": "Not sure if I follow. Are you wanting to write a library in Dart, and then compile it with dart2js, and then to call the compiled library from javascript?"}, {"owner": {"reputation": 11933, "user_id": 471744, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/GDzVT.jpg?s=128&g=1", "display_name": "spierce7", "link": "https://stackoverflow.com/users/471744/spierce7"}, "reply_to_user": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "edited": false, "score": 0, "creation_date": 1425160202, "post_id": 28786006, "comment_id": 45850485, "body": "@GregLowe I re-wrote the question because it was too confusing. Basically yes, I have a javascript library in Dart, and I want to compile it / optimize it with dart2js and then have other javascript (that the compiler won&#39;t know about) call it."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1425162537, "post_id": 28786006, "comment_id": 45851153, "body": "I haven&#39;t tried it myself yet but dart-js-interop allows to expose Dart methods to JS and I assume they should be preserved by treeshaking and minification. It&#39;s probably not that simple otherwise this would be an officially supported use case. There were plans mentioned to support this scenario eventually but I haven&#39;t noticed any activities in this direction so far."}, {"owner": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "edited": false, "score": 1, "creation_date": 1425172488, "post_id": 28786006, "comment_id": 45853508, "body": "@spierce7 I agree with Guenter, that use case isn&#39;t very well supported at the moment. Though some libraries may have a fairly simple api and can be implemented this way without too much trouble - so it depends on the library really."}, {"owner": {"reputation": 11933, "user_id": 471744, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/GDzVT.jpg?s=128&g=1", "display_name": "spierce7", "link": "https://stackoverflow.com/users/471744/spierce7"}, "edited": false, "score": 1, "creation_date": 1425176371, "post_id": 28786006, "comment_id": 45854202, "body": "Thanks for the replies guys. I think I&#39;ll shy away from dart on this then and just implement in js. It looks like if there was a library for this, it&#39;d be <a href=\"https://github.com/dart-lang/js-interop\" rel=\"nofollow noreferrer\">github.com/dart-lang/js-interop</a> which is what I think Gunter was pointing to earlier."}, {"owner": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "edited": false, "score": 0, "creation_date": 1425204426, "post_id": 28786006, "comment_id": 45859420, "body": "<a href=\"https://groups.google.com/a/dartlang.org/d/msg/misc/i6cy9DfT_8A/MF5Iot5C8-4J\" rel=\"nofollow noreferrer\">groups.google.com/a/dartlang.org/d/msg/misc/i6cy9DfT_8A/&hellip;</a>"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1432824697, "post_id": 28786006, "comment_id": 49095519, "body": "The currently experimental <a href=\"https://github.com/dart-lang/dev_compiler\" rel=\"nofollow noreferrer\">github.com/dart-lang/dev_compiler</a> should provide what you want."}], "answers": [{"tags": [], "owner": {"reputation": 1909, "user_id": 2827555, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7b25126e07ec9dcc5d103b86da100e7?s=128&d=identicon&r=PG&f=1", "display_name": "hkk", "link": "https://stackoverflow.com/users/2827555/hkk"}, "is_accepted": false, "score": 3, "last_activity_date": 1435630833, "creation_date": 1435630833, "answer_id": 31128515, "question_id": 28786006, "link": "https://stackoverflow.com/questions/28786006/preserving-methods-during-dart2js-minification-and-tree-shaking/31128515#31128515", "title": "Preserving methods during dart2js minification and tree-shaking", "body": "<p>You can use the <a href=\"https://api.dartlang.org/apidocs/channels/stable/dartdoc-viewer/dart:js\" rel=\"nofollow\"><code>dart:js</code></a> library's <code>context</code> property, a <code>JsObject</code> which allows you to expose variables and methods from dart to JavaScript, and will be preserved by dart2js. In your main method, simply include <code>context['jsMethodName'] = dartMethodName</code>, and then call it in your JavaScript. Here's an example:</p>\n\n<p><strong>library.dart</strong></p>\n\n<pre><code>import 'dart:js';\n\nvoid main(){\n  print(\"main called!\");\n  context['myMethod'] = myMethod;\n}\n\nvoid myMethod(){\n  print(\"My Method Called!\");\n}\n</code></pre>\n\n<p><strong>index.html</strong></p>\n\n<pre><code>&lt;script src=\"library.dart.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n  console.log(myMethod());\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 11933, "user_id": 471744, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/GDzVT.jpg?s=128&g=1", "display_name": "spierce7", "link": "https://stackoverflow.com/users/471744/spierce7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1435630833, "creation_date": 1425152275, "last_edit_date": 1425160129, "question_id": 28786006, "link": "https://stackoverflow.com/questions/28786006/preserving-methods-during-dart2js-minification-and-tree-shaking", "title": "Preserving methods during dart2js minification and tree-shaking", "body": "<p>I have a few files that I have written in dart that I want to compile to javascript and include in a few html files that are running in my Android application.</p>\n\n<p>The files consist of a main method, then there is an api layer with 3 functions that other javascript code will call at run-time. It's very important that I include as little of dart's libraries as possible (so tree-shaking is a must), and when the tree-shaking / minification process happens, I need to ensure that the 3 api layer functions don't get renamed / optimized out because it thinks they aren't being called?</p>\n\n<p>How do I tell dart2js to leave the signature of certain functions alone, and not to prune them out because it thinks they aren't being used?</p>\n"}, {"tags": ["dart", "dart-html", "dart-mirrors"], "answers": [{"comments": [{"owner": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "edited": false, "score": 1, "creation_date": 1425158400, "post_id": 28780352, "comment_id": 45849941, "body": "Probably worth mentioning that html5lib is designed to an api compatible with dart:html. But it is not feature complete, for example css selectors are pretty basic."}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1425117414, "last_edit_date": 1425117414, "creation_date": 1425116911, "answer_id": 28780352, "question_id": 28780022, "link": "https://stackoverflow.com/questions/28780022/can-i-reflect-html-libraries-in-the-stand-alone-dart-vm/28780352#28780352", "title": "Can I reflect HTML libraries in the stand-alone Dart VM?", "body": "<p>I don't understand what you need reflect for but I guess what you are looking for is <a href=\"https://pub.dartlang.org/packages/html5lib\" rel=\"nofollow\">https://pub.dartlang.org/packages/html5lib</a>, <a href=\"https://pub.dartlang.org/packages/html5plus\" rel=\"nofollow\">https://pub.dartlang.org/packages/html5plus</a>, or one of the xml packages available at pub.dartlang.org.<br>\nYou can't import <code>dart:html</code> on command line applications and you can't reflect on code which is not imported.<br>\nI have seen source mirrors mentioned a few times but never found out what it is, but it sounds like what you are looking for, maybe someone else knows more.\nAnother option to work with source code is the analyzer. It creates an AST from source and allows you to inspect the result.</p>\n"}], "owner": {"reputation": 31, "user_id": 2525153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44b67cf2b2407f56b7a6d1761157c8cc?s=128&d=identicon&r=PG", "display_name": "Frank Pepermans", "link": "https://stackoverflow.com/users/2525153/frank-pepermans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425117414, "creation_date": 1425114562, "last_edit_date": 1425117047, "question_id": 28780022, "link": "https://stackoverflow.com/questions/28780022/can-i-reflect-html-libraries-in-the-stand-alone-dart-vm", "title": "Can I reflect HTML libraries in the stand-alone Dart VM?", "body": "<p>I'm trying to do code generation in the following way: a view is defined in an XML markup, the tags refer to components that are part of a library which imports <code>dart:html</code>.</p>\n\n<p>Ideally, I would like to run a vm script (i.e. via a transformer) which parses the markup down to code instructions.</p>\n\n<p>Reflection is being used to partially validate the xml and to detect any necessary binding, for example <code>&lt;DataGrid id='grid' dataProvider='data' /&gt;</code></p>\n\n<p>Reflection would check that a dataProvider setter exists and that data is in fact of the correct Type. If data is observable, it would also generate code that grid.dataProvider is bound to data via listeners.</p>\n\n<p>This all works great, but unfortunately only when I run the script in a browser, which is not the idea.</p>\n\n<p>Bottom line, is it at all possible to achieve via the standalone VM? Something like <code>mirrors.reflectLibrary(String uri)</code>, without having to specify the import line? </p>\n"}, {"tags": ["dart"], "answers": [{"comments": [{"owner": {"reputation": 661, "user_id": 1048679, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ee44ebebc76da664109d1c658bc7b371?s=128&d=identicon&r=PG", "display_name": "wjohnson", "link": "https://stackoverflow.com/users/1048679/wjohnson"}, "edited": false, "score": 0, "creation_date": 1425102485, "post_id": 28778256, "comment_id": 45834766, "body": "@ Lowe I want to avoid a FileReader (copying buffers). I&#39;m using websockets to support low-latency transfers of data with visualization components."}, {"owner": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "reply_to_user": {"reputation": 661, "user_id": 1048679, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ee44ebebc76da664109d1c658bc7b371?s=128&d=identicon&r=PG", "display_name": "wjohnson", "link": "https://stackoverflow.com/users/1048679/wjohnson"}, "edited": false, "score": 1, "creation_date": 1425103494, "post_id": 28778256, "comment_id": 45834943, "body": "You can also set WebSocket.binaryType to &quot;arraybuffer&quot;. Will update answer."}, {"owner": {"reputation": 661, "user_id": 1048679, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ee44ebebc76da664109d1c658bc7b371?s=128&d=identicon&r=PG", "display_name": "wjohnson", "link": "https://stackoverflow.com/users/1048679/wjohnson"}, "edited": false, "score": 3, "creation_date": 1425104803, "post_id": 28778256, "comment_id": 45835181, "body": "@ Lowe: Thanks. To make your answer complete, consider adding the following:     _onResponse(MessageEvent e) {         Uint8List data = (e.data as ByteBuffer).asUint8List(); ..."}, {"owner": {"reputation": 661, "user_id": 1048679, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ee44ebebc76da664109d1c658bc7b371?s=128&d=identicon&r=PG", "display_name": "wjohnson", "link": "https://stackoverflow.com/users/1048679/wjohnson"}, "edited": false, "score": 0, "creation_date": 1425105028, "post_id": 28778256, "comment_id": 45835220, "body": "@ DartTeam: There are a number of fragments in the documentation on web sockets, but they focus on the sending of messages to a server and don\u2019t include a discussion of how to configure the websocket instance to receive binary data."}, {"owner": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "reply_to_user": {"reputation": 661, "user_id": 1048679, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ee44ebebc76da664109d1c658bc7b371?s=128&d=identicon&r=PG", "display_name": "wjohnson", "link": "https://stackoverflow.com/users/1048679/wjohnson"}, "edited": false, "score": 0, "creation_date": 1425124629, "post_id": 28778256, "comment_id": 45839587, "body": "Glad it worked ;) I&#39;ve added an example with the extra code. Much of the dart:html docs are autogenerated. Most of the code is also autogenerated from the blink IDL, so often checking on MDN is good enough if the docs are missing. Things are typically named the same."}, {"owner": {"reputation": 4794, "user_id": 170176, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c1aec0646aba54126291955e58448bb5?s=128&d=identicon&r=PG", "display_name": "Tomen", "link": "https://stackoverflow.com/users/170176/tomen"}, "edited": false, "score": 0, "creation_date": 1438388232, "post_id": 28778256, "comment_id": 51447421, "body": "this answer has saved my evening. finally i can go to sleep! Thank you!"}], "tags": [], "owner": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "is_accepted": true, "score": 4, "last_activity_date": 1425124583, "last_edit_date": 1425124583, "creation_date": 1425099414, "answer_id": 28778256, "question_id": 28777712, "link": "https://stackoverflow.com/questions/28777712/how-to-convert-a-dart-html-client-web-socket-response-from-blob-to-uint8list/28778256#28778256", "title": "How to convert a Dart Html client web socket response from Blob to Uint8List?", "body": "<p>According to this <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Blob\" rel=\"nofollow\">article</a>, you need to use a FileReader to do this.</p>\n\n<p>This example seems to work, the result type is a Uint8List when I tested this in Chrome.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>  var blob = new Blob(['abc']);  \n  var r = new FileReader();\n  r.readAsArrayBuffer(blob);\n  r.onLoadEnd.listen((e) {\n    var data = r.result;\n    print(data.runtimeType);\n  });\n</code></pre>\n\n<p>Another option is to set <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebSocket\" rel=\"nofollow\">WebSocket.binaryType</a> to \"arraybuffer\". Then MessageEvent.data will return a ByteBuffer which can be turned into a Uint8List. See the example below.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:html';\nimport 'dart:typed_data';\n\nvoid main() {      \n\n  var ws = new WebSocket('...')..binaryType = 'arraybuffer';\n\n  ws.onMessage.listen((MessageEvent e) {\n    ByteBuffer buf = e.data;\n    var data = buf.asUint8List();\n    // ...\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 661, "user_id": 1048679, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ee44ebebc76da664109d1c658bc7b371?s=128&d=identicon&r=PG", "display_name": "wjohnson", "link": "https://stackoverflow.com/users/1048679/wjohnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 922, "favorite_count": 1, "accepted_answer_id": 28778256, "answer_count": 1, "score": 3, "last_activity_date": 1425124583, "creation_date": 1425093500, "question_id": 28777712, "link": "https://stackoverflow.com/questions/28777712/how-to-convert-a-dart-html-client-web-socket-response-from-blob-to-uint8list", "title": "How to convert a Dart Html client web socket response from Blob to Uint8List?", "body": "<p>I\u2019ve implemented my own binary message protocol for simple request/response objects from a Dart client to a Java server. These are encoded in Dart as an Uint8List and on the remote server in Java as a ByteBuffer. The round trip works for the WebSocket in [dart:io] because the websocket.listen stream handler in the Dart client command app is passed data typed as Uint8List. </p>\n\n<p>In [dart:html] the response data in MessageEvent.data received from the websocket.onMessage stream is typed as Blob. I\u2019m not finding a way to convert the Blob to Uint8List. Because the response will often be a large binary array of numbers (double) that will be supplying data to a virtual scrolling context, I want to minimize copying.  Could someone please point me in the right direction.</p>\n"}, {"tags": ["dart", "dart-polymer"], "comments": [{"owner": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "edited": false, "score": 1, "creation_date": 1425099570, "post_id": 28777278, "comment_id": 45834224, "body": "File a bug report. <a href=\"http://dartbug.com/\" rel=\"nofollow noreferrer\">dartbug.com</a>"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1425106637, "post_id": 28777278, "comment_id": 45835486, "body": "I can reproduce this with just <code>&lt;input type=&quot;date&quot;&gt;</code> in index.html. Definitely a bug in Dartium. I filed <a href=\"http://dartbug.com/22609\" rel=\"nofollow noreferrer\">dartbug.com/22609</a>"}, {"owner": {"reputation": 4633, "user_id": 2258442, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7dc1f8dac4d92b4abb781ec2b11d8be6?s=128&d=identicon&r=PG", "display_name": "st_clair_clarke", "link": "https://stackoverflow.com/users/2258442/st-clair-clarke"}, "edited": false, "score": 0, "creation_date": 1425109090, "post_id": 28777278, "comment_id": 45836019, "body": "Great. I thought it was broken."}, {"owner": {"reputation": 4633, "user_id": 2258442, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7dc1f8dac4d92b4abb781ec2b11d8be6?s=128&d=identicon&r=PG", "display_name": "st_clair_clarke", "link": "https://stackoverflow.com/users/2258442/st-clair-clarke"}, "edited": false, "score": 0, "creation_date": 1429203120, "post_id": 28777278, "comment_id": 47499552, "body": "The bug has returned in Dart 1.10.0-dev.1.1 (rev 45089). Looking forward to the fix."}], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1454084995, "creation_date": 1454084995, "answer_id": 35089375, "question_id": 28777278, "link": "https://stackoverflow.com/questions/28777278/debug-target-crashed-error-when-selecting-date-in-input-type-date/35089375#35089375", "title": "&lt;debug target crashed&gt; error when selecting date in &lt;input type=&#39;date&#39;&gt;", "body": "<p>This is an issue in the Chrome version Dartium is built on.<br>\nHopefully with Dart 1.15 we get the updated Dartium where this issue should be fixed.</p>\n"}], "owner": {"reputation": 4633, "user_id": 2258442, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7dc1f8dac4d92b4abb781ec2b11d8be6?s=128&d=identicon&r=PG", "display_name": "st_clair_clarke", "link": "https://stackoverflow.com/users/2258442/st-clair-clarke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1454084995, "creation_date": 1425089087, "last_edit_date": 1425105536, "question_id": 28777278, "link": "https://stackoverflow.com/questions/28777278/debug-target-crashed-error-when-selecting-date-in-input-type-date", "title": "&lt;debug target crashed&gt; error when selecting date in &lt;input type=&#39;date&#39;&gt;", "body": "<p>I have the following simple .dart and .html files</p>\n\n<p><strong>.dart</strong></p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>//import 'dart:html';\n\nimport 'package:polymer/polymer.dart';\n\n/// A Polymer `&lt;main-app&gt;` element.\n@CustomTag('main-app')\nclass MainApp extends PolymerElement {\n\n  @observable DateTime today = new DateTime.now();\n  @observable String aDate = '';\n\n  /// Constructor used to create instance of MainApp.\n  MainApp.created() : super.created();\n\n\n  void onChangeFired() {\n    print(aDate);\n  }\n}\n</code></pre>\n\n<p><strong>.html</strong></p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>&lt;!-- import polymer-element's definition --&gt;\n&lt;link rel=\"import\" href=\"../../packages/polymer/polymer.html\"&gt;\n\n&lt;link rel=\"import\" href=\"../../packages/paper_elements/paper_input.html\"&gt;\n\n&lt;polymer-element name=\"main-app\"&gt;\n  &lt;template&gt;\n    &lt;style&gt;\n      :host {\n        display: block;\n      }\n    &lt;/style&gt;\n\n    &lt;input type='date' value='{{aDate}}'\n     on-change='{{onChangeFired}}' id='time' class='margin-lb5px'&gt;\n\n  &lt;/template&gt;\n  &lt;script type=\"application/dart\" src=\"main_app.dart\"&gt;&lt;/script&gt;\n&lt;/polymer-element&gt;\n</code></pre>\n\n<p>Running the app in Dartium displays the calendar dropdown. However, each time I select a date, the application crasshes (exits) after printing the selected date with the following</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>2005-02-08 (:1)\n&lt;debug target crashed&gt;\n</code></pre>\n\n<p>Nothing else is displyed in the console.</p>\n\n<p>I created a new new polymer-app using Stagehand with the same result. Nothing else is there in the application.</p>\n\n<p>This problem is present in the last two Dart Dev updates - I am currently using Dart 1.9.0-dev.9.1 (rev 44018) with the same result.</p>\n\n<p>I am using the Dart eclipse plugin on Windows 8.1</p>\n\n<p>Thanks</p>\n"}, {"tags": ["dart", "dart-polymer"], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 1, "last_activity_date": 1425149346, "creation_date": 1425149346, "answer_id": 28785466, "question_id": 28775291, "link": "https://stackoverflow.com/questions/28775291/dart-polymer-paper-element-how-to-set-attributes-dismissive-and-affirmative/28785466#28785466", "title": "Dart polymer paper element - how to set attributes (dismissive and affirmative)", "body": "\n\n<pre class=\"lang-dart prettyprint-override\"><code>pbOK.attributes[\"affirmative\"] = \"xxxxx\"\n</code></pre>\n"}], "owner": {"reputation": 783, "user_id": 4145218, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/0799ebc719896b086690bb786878891a?s=128&d=identicon&r=PG&f=1", "display_name": "Lymp", "link": "https://stackoverflow.com/users/4145218/lymp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425149385, "creation_date": 1425075482, "last_edit_date": 1425149385, "question_id": 28775291, "link": "https://stackoverflow.com/questions/28775291/dart-polymer-paper-element-how-to-set-attributes-dismissive-and-affirmative", "title": "Dart polymer paper element - how to set attributes (dismissive and affirmative)", "body": "<p>I am trying this:  </p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>PaperButton pbOK = new PaperButton();\npbOK.innerHtml=\"OK\";\npbOK.attributes={\"affirmative\":\"xxxxx\"};//wrong of course..??\n</code></pre>\n\n<p>which is Dart compiler-legal, but is incorrect.<br>\nWhat should it be please?</p>\n"}, {"tags": ["dart", "angular-dart"], "answers": [{"tags": [], "owner": {"reputation": 123, "user_id": 3978600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe84185cbe1aef2aabbd1236dd503aa8?s=128&d=identicon&r=PG&f=1", "display_name": "Christoph Lachenicht", "link": "https://stackoverflow.com/users/3978600/christoph-lachenicht"}, "is_accepted": true, "score": 2, "last_activity_date": 1425048205, "creation_date": 1425048205, "answer_id": 28767679, "question_id": 28767186, "link": "https://stackoverflow.com/questions/28767186/component-vs-ngcomponent-dart-angular/28767679#28767679", "title": "@Component vs. @NgComponent Dart.Angular", "body": "<p>@NgComponent is a legacy terminology for @Component. </p>\n\n<p>GitHub AngularDart Repo:\n<a href=\"https://github.com/angular/angular.dart/commit/f055ab6f7c4fadfdbb6a46d8bc547b304586d95c\" rel=\"nofollow\">https://github.com/angular/angular.dart/commit/f055ab6f7c4fadfdbb6a46d8bc547b304586d95c</a></p>\n"}], "owner": {"reputation": 2319, "user_id": 2944265, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b3facdb13a606a85654816fba6406e1c?s=128&d=identicon&r=PG&f=1", "display_name": "Zveratko", "link": "https://stackoverflow.com/users/2944265/zveratko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "accepted_answer_id": 28767679, "answer_count": 1, "score": 1, "last_activity_date": 1425048205, "creation_date": 1425046681, "question_id": 28767186, "link": "https://stackoverflow.com/questions/28767186/component-vs-ngcomponent-dart-angular", "title": "@Component vs. @NgComponent Dart.Angular", "body": "<p>Can anybody explain to me the difference between \n@Component and @NgComponent. \nFollowing <a href=\"https://angulardart.org/tutorial/05-ch03-component.html\" rel=\"nofollow\">Angular.Dart tutorial</a> which uses @Component I was wondering what is @NgComponent for.</p>\n\n<p>I'm more and more confused as I'm going deeper in Dart space:-/ </p>\n"}, {"tags": ["dart", "dart-polymer"], "answers": [{"comments": [{"owner": {"reputation": 2893, "user_id": 337415, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/18ef06145cb6d21f73d6e251d68f3464?s=128&d=identicon&r=PG", "display_name": "hawkett", "link": "https://stackoverflow.com/users/337415/hawkett"}, "edited": false, "score": 0, "creation_date": 1425063238, "post_id": 28758154, "comment_id": 45822995, "body": "Hmm. I wonder if I&#39;m missing something here. One of the big advantages of polymer is the promise of libraries of web components that can be imported and extended. Have I understood right that if I use Polymer-Dart then the world of components developed in JS won&#39;t be extensible? Is this limitation documented anywhere? Either here: <a href=\"https://www.dartlang.org/polymer/faq.html#differences-between-the-javascript-and-dart-versions-of-polymer\" rel=\"nofollow noreferrer\">dartlang.org/polymer/&hellip;</a> or here: <a href=\"https://www.dartlang.org/polymer/using-elements/\" rel=\"nofollow noreferrer\">dartlang.org/polymer/using-elements</a> would be good candidates. Do you know if this is something that will change in the future?"}, {"owner": {"reputation": 2893, "user_id": 337415, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/18ef06145cb6d21f73d6e251d68f3464?s=128&d=identicon&r=PG", "display_name": "hawkett", "link": "https://stackoverflow.com/users/337415/hawkett"}, "edited": false, "score": 1, "creation_date": 1425063545, "post_id": 28758154, "comment_id": 45823142, "body": "Ok I found this: <a href=\"https://code.google.com/p/dart/issues/detail?id=20388\" rel=\"nofollow noreferrer\">code.google.com/p/dart/issues/detail?id=20388</a> - wondering though if this problem isn&#39;t as big as it seems to me at  the moment. Kind of a deal breaker."}, {"owner": {"reputation": 2893, "user_id": 337415, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/18ef06145cb6d21f73d6e251d68f3464?s=128&d=identicon&r=PG", "display_name": "hawkett", "link": "https://stackoverflow.com/users/337415/hawkett"}, "edited": false, "score": 0, "creation_date": 1425087285, "post_id": 28758154, "comment_id": 45832209, "body": "For my very specific use-case, I can hack around this by using: shadowRoot.querySelector(&#39;hc-dialog&#39;).setAttribute(&#39;opened&#39;, &#39;true&#39;); - as noted above, the component is completely functional - I just can&#39;t find a way to access the methods (e.g. toggle())"}, {"owner": {"reputation": 2893, "user_id": 337415, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/18ef06145cb6d21f73d6e251d68f3464?s=128&d=identicon&r=PG", "display_name": "hawkett", "link": "https://stackoverflow.com/users/337415/hawkett"}, "edited": false, "score": 0, "creation_date": 1425087907, "post_id": 28758154, "comment_id": 45832348, "body": "Sorry - that only works once. This works repeatedly: shadowRoot.querySelector(&#39;hc-dialog&#39;)..setAttribute(&#39;opened&#39;&zwnj;&#8203;, &#39;false&#39;)..setAttribute(&#39;opened&#39;, &#39;true&#39;);"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 2893, "user_id": 337415, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/18ef06145cb6d21f73d6e251d68f3464?s=128&d=identicon&r=PG", "display_name": "hawkett", "link": "https://stackoverflow.com/users/337415/hawkett"}, "edited": false, "score": 0, "creation_date": 1425105401, "post_id": 28758154, "comment_id": 45835281, "body": "How does you current code look like. I assume you don&#39;t extend paper-dialog anymore."}, {"owner": {"reputation": 2893, "user_id": 337415, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/18ef06145cb6d21f73d6e251d68f3464?s=128&d=identicon&r=PG", "display_name": "hawkett", "link": "https://stackoverflow.com/users/337415/hawkett"}, "edited": false, "score": 0, "creation_date": 1425161629, "post_id": 28758154, "comment_id": 45850863, "body": "Yes I still extend paper-dialog - my code is identical to that posted in the question (note the noscript declaration - I have no dart code backing my component implementation). The only difference is that instead of trying to call &quot;shadowRoot.querySelector(&#39;hc-dialog&#39;).toggle()&quot;, I am now calling &quot;shadowRoot.querySelector(&#39;hc-dialog&#39;)..setAttribute(&#39;opened&zwnj;&#8203;&#39;, &#39;false&#39;)..setAttribute(&#39;opened&#39;, &#39;true&#39;)&quot; - everything seems to work fine - this is because setAttribute() is a method on HtmlElement, whereas toggle() is not. I get all the dialog styling benefits I was seeking via this implementation."}, {"owner": {"reputation": 2893, "user_id": 337415, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/18ef06145cb6d21f73d6e251d68f3464?s=128&d=identicon&r=PG", "display_name": "hawkett", "link": "https://stackoverflow.com/users/337415/hawkett"}, "edited": false, "score": 0, "creation_date": 1425161952, "post_id": 28758154, "comment_id": 45850951, "body": "caveat: this route means I don&#39;t appear to have a way to call dialog methods on my new component. It would be great to see documentation on the approach the Dart authors used to wrap JS components (for core- and paper-), as this seems a manageable approach - write my new dialog in JS, and then wrap it via the same mechanism. I did start to take a look at that, but was getting a little too bogged down in the details. Maybe that&#39;s the next step if I find a need to access the methods."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 2893, "user_id": 337415, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/18ef06145cb6d21f73d6e251d68f3464?s=128&d=identicon&r=PG", "display_name": "hawkett", "link": "https://stackoverflow.com/users/337415/hawkett"}, "edited": false, "score": 0, "creation_date": 1425162199, "post_id": 28758154, "comment_id": 45851049, "body": "This package generates the wrappers <a href=\"https://github.com/dart-lang/api.dartlang.org\" rel=\"nofollow noreferrer\">github.com/dart-lang/api.dartlang.org</a>. It relies partially on proper comments in the elements JS source."}, {"owner": {"reputation": 2893, "user_id": 337415, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/18ef06145cb6d21f73d6e251d68f3464?s=128&d=identicon&r=PG", "display_name": "hawkett", "link": "https://stackoverflow.com/users/337415/hawkett"}, "edited": false, "score": 0, "creation_date": 1425165204, "post_id": 28758154, "comment_id": 45851908, "body": "Thanks G&#252;nter. Interesting that Polymer 0.8 will also only support extending native elements, although custom element extension is listed as a todo. <a href=\"https://github.com/Polymer/polymer/blob/0.8-preview/PRIMER.md#type-extension\" rel=\"nofollow noreferrer\">github.com/Polymer/polymer/blob/0.8-preview/&hellip;</a>"}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 2, "last_activity_date": 1425014941, "creation_date": 1425014941, "answer_id": 28758154, "question_id": 28755118, "link": "https://stackoverflow.com/questions/28755118/extending-paperdialog-and-calling-toggle-via-dart/28758154#28758154", "title": "Extending PaperDialog and calling toggle() via Dart", "body": "<p>Polymer.dart core- and paper-elements are just wrappers around Polymer.js elements. Extending is not supported for these kind of elements becaus a Dart class can't extend a JS class. </p>\n"}], "owner": {"reputation": 2893, "user_id": 337415, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/18ef06145cb6d21f73d6e251d68f3464?s=128&d=identicon&r=PG", "display_name": "hawkett", "link": "https://stackoverflow.com/users/337415/hawkett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "accepted_answer_id": 28758154, "answer_count": 1, "score": 1, "last_activity_date": 1425105422, "creation_date": 1424994970, "last_edit_date": 1495542026, "question_id": 28755118, "link": "https://stackoverflow.com/questions/28755118/extending-paperdialog-and-calling-toggle-via-dart", "title": "Extending PaperDialog and calling toggle() via Dart", "body": "<p>I'm trying to extend PaperDialog so that I can style it. I'm attempting to use method 3 from <a href=\"https://stackoverflow.com/a/26954690/337415\">this solution</a>, but with Dart instead of JS. Here's my component.</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>&lt;link rel=\"import\" href=\"packages/polymer/polymer.html\"&gt;\n&lt;link rel=\"import\" href=\"packages/paper_elements/paper_dialog.html\"&gt;\n\n&lt;polymer-element name=\"hc-dialog\" extends=\"paper-dialog\" noscript&gt;\n  &lt;template&gt;\n    &lt;link href=\"hc-dialog.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n\n    &lt;shadow&gt;&lt;/shadow&gt;\n  &lt;/template&gt;\n&lt;/polymer-element&gt;\n</code></pre>\n\n<p>The component appears to render correctly into the DOM - and I can verify that it functions correctly by adding opened=\"true\" to the component - this renders great for example:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>&lt;hc-dialog opened=\"true\" closeSelector=\"[dismissive]\" transition=\"paper-dialog-transition-bottom\"&gt;\n  &lt;div layout horizontal&gt;\n    &lt;span flex&gt;&lt;/span&gt;\n    &lt;paper-button raised dismissive&gt;Done&lt;/paper-button&gt;\n  &lt;/div&gt;\n&lt;/hc-dialog&gt;\n</code></pre>\n\n<p>But I don't want it auto-showing, and the issue comes when trying to find a way to call toggle() on this component via Dart. In the solution linked above (<a href=\"http://jsbin.com/subanakuna/1/edit?html,output\" rel=\"nofollow noreferrer\">working JS Fiddle</a>), it's called via JS:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>&lt;script&gt;\n  Polymer('x-dialog-3', {\n    toggle: function() {\n      this.$.dialog3.toggle();\n    }\n  });\n&lt;/script&gt;\n</code></pre>\n\n<p>However if I try to achieve the same thing in dart, I'm unable to retrieve a component that has the toggle() method on it:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>shadowRoot.querySelector('hc-dialog').toggle();\n</code></pre>\n\n<p>results in Object.noSuchMethod. Inspecting the returned object via reflection makes that clear:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>var he = shadowRoot.querySelector('hc-dialog');\nvar cm = reflect(he).type;\n\nwhile (cm != null) {\n   print(cm);\n   cm = cm.superclass;\n}\n</code></pre>\n\n<p>gives:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>ClassMirror on 'HtmlElement' (:1)\nClassMirror on 'Element' (:1)\nClassMirror on 'Node' (:1)\nClassMirror on 'EventTarget' (:1)\nClassMirror on 'NativeFieldWrapperClass2' (:1)\nClassMirror on 'Object' (:1)\n</code></pre>\n\n<p>==> My Dialog is not a PaperDialog/CoreOverlay, which is why I can't call toggle() on it.</p>\n\n<p>What's wrong with this approach? How do I go about getting something I can call toggle() on?</p>\n"}, {"tags": ["dart", "dart-polymer"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1424982298, "post_id": 28750273, "comment_id": 45786101, "body": "It&#39;s not clear to me what the question is. I would be easier with some actual code which demonstrates what you tried. I don&#39;t understand at all what your question has to do with the CSS in the code lines above. To allow child call methods of fred just pass fred to child (in the contructor)."}], "answers": [{"tags": [], "owner": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "is_accepted": false, "score": 0, "last_activity_date": 1424984598, "creation_date": 1424984598, "answer_id": 28752688, "question_id": 28750273, "link": "https://stackoverflow.com/questions/28750273/dart-polymer-style-classes-not-working-for-imported-dart-files/28752688#28752688", "title": "dart/polymer style classes not working for imported dart files", "body": "<p>The right code would be:</p>\n\n<pre><code>myPaperButton.classes.add('mystyle');\n</code></pre>\n\n<p>for adding a class and</p>\n\n<pre><code>myPaperButton.classes.remove('mystyle');\n</code></pre>\n\n<p>for removing a class. You can also use:</p>\n\n<pre><code>myPaperButton.classes.toggle('mystyle');\n</code></pre>\n\n<p>and</p>\n\n<pre><code>myPaperButton.classes.toggleAll('mystyle');\n</code></pre>\n"}], "owner": {"reputation": 783, "user_id": 4145218, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/0799ebc719896b086690bb786878891a?s=128&d=identicon&r=PG&f=1", "display_name": "Lymp", "link": "https://stackoverflow.com/users/4145218/lymp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1424984598, "creation_date": 1424976109, "last_edit_date": 1424982329, "question_id": 28750273, "link": "https://stackoverflow.com/questions/28750273/dart-polymer-style-classes-not-working-for-imported-dart-files", "title": "dart/polymer style classes not working for imported dart files", "body": "<p>I'm probably making a big design mistake here.<br></p>\n\n<p>I have a polymer template, \"fred\". So I have \"fred.dart\" and \"fred.html\".<br></p>\n\n<p>\"fred.dart\" was getting rather large, so I split off a logical chunk of code, placed it in a new file called \"child.dart\", which I import into \"fred.dart\".<br></p>\n\n<p>First, I tried creating a new <em>class</em> called \"child\" - being the whole of \"child.dart\". It's quite closely connected to \"fred\" but I can only use styles like:<br></p>\n\n<pre><code>    myPaperButton.style.backgroundColor=\"red\";\n</code></pre>\n\n<p>The following method does not work:<br></p>\n\n<pre><code>    myPaperButton.classes=['mystyle'];\n</code></pre>\n\n<p>I have tried removing the \"class child\", but then I get a whole bunch of other problems.How can \"child\" call functions in \"fred\"? Is it possible?<br> Or is my approach wrong - should I just merge \"child.dart\" back into \"fred.dart\"?<br>\ncheers<br>\nSteve</p>\n"}, {"tags": ["dart", "redstone.dart"], "answers": [{"tags": [], "owner": {"reputation": 4091, "user_id": 920355, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/67fd3353c90f22c0ed049d48b8ae82fb?s=128&d=identicon&r=PG&f=1", "display_name": "lucassp", "link": "https://stackoverflow.com/users/920355/lucassp"}, "is_accepted": true, "score": 1, "last_activity_date": 1425044631, "last_edit_date": 1425044631, "creation_date": 1425039831, "answer_id": 28765044, "question_id": 28749814, "link": "https://stackoverflow.com/questions/28749814/how-do-you-add-cors-headers-in-redstone-interceptor/28765044#28765044", "title": "How do you add CORS headers in Redstone interceptor?", "body": "<p>I found the fix in the first piece of code inside the Interceptor documentation...:)</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>@app.Interceptor(r\"/api/.*\", chainIdx: 1)\ncorsInterceptor() {\n    if (app.request.method == \"OPTIONS\") {\n        var response = new shelf.Response.ok(\"\", headers: HEADERS);\n        app.chain.interrupt(statusCode: HttpStatus.OK, responseValue: response);\n    } else {\n        app.chain.next(() =&gt; app.response.change(headers: HEADERS));\n    }\n}\n</code></pre>\n\n<p><code>app.chain.next()</code> can take a callback as argument, which is expected to return a <code>Response</code> object. In this case <code>app.response.change()</code> returns a response with the correct headers.</p>\n"}], "owner": {"reputation": 4091, "user_id": 920355, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/67fd3353c90f22c0ed049d48b8ae82fb?s=128&d=identicon&r=PG&f=1", "display_name": "lucassp", "link": "https://stackoverflow.com/users/920355/lucassp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 0, "accepted_answer_id": 28765044, "answer_count": 1, "score": 2, "last_activity_date": 1425044631, "creation_date": 1424974530, "last_edit_date": 1425039866, "question_id": 28749814, "link": "https://stackoverflow.com/questions/28749814/how-do-you-add-cors-headers-in-redstone-interceptor", "title": "How do you add CORS headers in Redstone interceptor?", "body": "<p>I'm trying to add CORS headers to incoming requests but I've noticed that <code>app.response.headers</code> is an immutable map and <code>app.request.response</code> doesn't exist even though it appears in the documentation examples. So, to the <code>OPTIONS</code> request I'm replying using a new <code>Shelf</code> response, but I can't find a way to add any new headers to the response of the actual request. Any ideas?</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>@app.Interceptor(r\"/api/.*\", chainIdx: 1)\ncorsInterceptor() {\n\n    if (app.request.method == \"OPTIONS\") {\n        var response = new shelf.Response.ok(\"\", headers: HEADERS);\n        app.chain.interrupt(statusCode: HttpStatus.OK, responseValue: response);\n    } else {\n    // app.request.response is not available\n        app.request.response.headers.add('Access-Control-Allow-Origin', '*');\n        app.chain.next();\n    }\n}\n</code></pre>\n"}, {"tags": ["sockets", "dart"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 2, "creation_date": 1424964711, "post_id": 28745138, "comment_id": 45775083, "body": "To me this looks like a bug. Please create an issue at <a href=\"http://dartbug.com\" rel=\"nofollow noreferrer\">dartbug.com</a>"}, {"owner": {"reputation": 3242, "user_id": 396862, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/200442040b9d038626d92d408f499642?s=128&d=identicon&r=PG", "display_name": "lig", "link": "https://stackoverflow.com/users/396862/lig"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 2, "creation_date": 1424965109, "post_id": 28745138, "comment_id": 45775368, "body": "<a href=\"https://code.google.com/p/dart/issues/detail?id=22583\" rel=\"nofollow noreferrer\">code.google.com/p/dart/issues/detail?id=22583</a>"}, {"owner": {"reputation": 7891, "user_id": 1737201, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9d553e4eece2656148b5d0e2a613e53e?s=128&d=identicon&r=PG", "display_name": "mezoni", "link": "https://stackoverflow.com/users/1737201/mezoni"}, "edited": false, "score": 0, "creation_date": 1424966584, "post_id": 28745138, "comment_id": 45776448, "body": "You can see example in my answer. It displays <code>Stop sending</code> and in detals expains the problem that found in the Dart SDK."}], "answers": [{"comments": [{"owner": {"reputation": 2473, "user_id": 10159557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/533e013df6c77276026201635b59b8d5?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/10159557/nick"}, "edited": false, "score": 0, "creation_date": 1548938521, "post_id": 28754676, "comment_id": 95729609, "body": "I am trying to implement your answer. I am sending query and after I get query I need to close the socket. how do I do that?"}], "tags": [], "owner": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "is_accepted": false, "score": 4, "last_activity_date": 1424995256, "last_edit_date": 1424995256, "creation_date": 1424992613, "answer_id": 28754676, "question_id": 28745138, "link": "https://stackoverflow.com/questions/28745138/how-to-handle-socket-disconnects-in-dart/28754676#28754676", "title": "How to handle socket disconnects in Dart?", "body": "<p>A Socket is bidirectional, i.e. it has an input stream and an output sink. The Future returned by done is called when the output sink is closed by calling <a href=\"https://api.dartlang.org/apidocs/channels/be/dartdoc-viewer/dart:io.Socket#id_close\" rel=\"nofollow\">Socket.close()</a>.</p>\n\n<p>If you want to be notified when the input stream closes try using <a href=\"https://api.dartlang.org/apidocs/channels/be/dartdoc-viewer/dart:io.Socket#id_drain\" rel=\"nofollow\">Socket.drain()</a> instead.</p>\n\n<p>See the example below. You can test it with telnet. When you connect to the server it will send the string \"Send.\" every second. When you close telnet (ctrl-], and then type close). The server will print \"Stop.\".</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:io';\nimport 'dart:async';\n\nvoid handleClient(Socket socket) {\n\n  // Send a string to the client every second.\n  var timer = new Timer.periodic(\n      new Duration(seconds: 1), \n      (_) =&gt; socket.writeln('Send.'));\n\n  // Wait for the client to disconnect, stop the timer, and close the\n  // output sink of the socket.\n  socket.drain().then((_) {\n    print('Stop.');    \n    timer.cancel();\n    socket.close();\n  });\n}\n\nvoid main() {\n  ServerSocket.bind(\n      InternetAddress.ANY_IP_V4,\n      9000).then((ServerSocket server) {\n    runZoned(() {\n      server.listen(handleClient);\n    }, onError: (e) {\n      print('Server error: $e');\n    });\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 3242, "user_id": 396862, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/200442040b9d038626d92d408f499642?s=128&d=identicon&r=PG", "display_name": "lig", "link": "https://stackoverflow.com/users/396862/lig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2344, "favorite_count": 1, "answer_count": 1, "score": 7, "last_activity_date": 1424995256, "creation_date": 1424961263, "last_edit_date": 1424964672, "question_id": 28745138, "link": "https://stackoverflow.com/questions/28745138/how-to-handle-socket-disconnects-in-dart", "title": "How to handle socket disconnects in Dart?", "body": "<p>I'm using Dart 1.8.5 on server.\nI want to implement TCP Socket Server that listens to incoming connections, sends some data to every client and stops to generate data when client disconnects.</p>\n\n<p>Here is the sample code</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>void main() {\n  ServerSocket.bind(\n      InternetAddress.ANY_IP_V4,\n      9000).then((ServerSocket server) {\n    runZoned(() {\n      server.listen(handleClient);\n    }, onError: (e) {\n      print('Server error: $e');\n    });\n  });\n}\n\nvoid handleClient(Socket client) {\n  client.done.then((_) {\n    print('Stop sending');\n  });\n  print('Send data');\n}\n</code></pre>\n\n<p>This code accepts connections and prints \"Send data\". But it will never print \"Stop sending\" even if client was gone.</p>\n\n<p>The question is: how to catch client disconnect in listener?</p>\n"}, {"tags": ["dart", "polymer"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1424962893, "post_id": 28745121, "comment_id": 45773883, "body": "It&#39;s supposed to work this way. Do you have a concrete problem?"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1424964765, "post_id": 28745121, "comment_id": 45775120, "body": "The other way around is not yet supported (use a Polymer.dart component in a JS project)"}, {"owner": {"reputation": 21, "user_id": 1356270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f77ed14e8fa1f7d8a98e74c991b1cb28?s=128&d=identicon&r=PG", "display_name": "Tekmology", "link": "https://stackoverflow.com/users/1356270/tekmology"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1424966624, "post_id": 28745121, "comment_id": 45776474, "body": "No I don&#39;t have concrete problem atm. But during my readings I somehow made this assumption. Very glad to hear that this is not true ! Thank you."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1424970907, "post_id": 28745121, "comment_id": 45779279, "body": "There is  <a href=\"https://github.com/dart-lang/custom-element-apigen\" rel=\"nofollow noreferrer\">github.com/dart-lang/custom-element-apigen</a> which makes it even easier to integrate Polymer.js elements. Dart core- and paper-elements are built this way. It hides most dart-js-interop and provides a nice Dart API. You don&#39;t need this when you interact only through published attributes but many Polymer elements have fields and methods which can only be accessed from JavaScript (or dart-js-interop)"}, {"owner": {"reputation": 490, "user_id": 1055534, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNPWK.png?s=128&g=1", "display_name": "Devon Carew", "link": "https://stackoverflow.com/users/1055534/devon-carew"}, "edited": false, "score": 0, "creation_date": 1424993653, "post_id": 28745121, "comment_id": 45791238, "body": "I&#39;ve experimented with this technique (building the UI with Polymer JS components and manipulating them from Dart). There&#39;s some example code here: <a href=\"https://github.com/dart-lang/dart-pad/tree/master/lib/polymer\" rel=\"nofollow noreferrer\">github.com/dart-lang/dart-pad/tree/master/lib/polymer</a> and here: <a href=\"https://github.com/dart-lang/dart-pad/blob/master/lib/mobile/mobile.dart\" rel=\"nofollow noreferrer\">github.com/dart-lang/dart-pad/blob/master/lib/mobile/&hellip;</a>. It works well; I like the mix of working closely to the polymer JS components, having access to the (very nice) paper / material design components, and being able to work with and manipulate your UI from Dart."}], "owner": {"reputation": 21, "user_id": 1356270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f77ed14e8fa1f7d8a98e74c991b1cb28?s=128&d=identicon&r=PG", "display_name": "Tekmology", "link": "https://stackoverflow.com/users/1356270/tekmology"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 168, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1424961221, "creation_date": 1424961221, "question_id": 28745121, "link": "https://stackoverflow.com/questions/28745121/mixing-encapsulated-polymer-js-components-with-dart", "title": "Mixing encapsulated polymer js components with dart", "body": "<p>I have spend some time reading and doing tutorials on dart,polymer, web components. I am wondering the following:</p>\n\n<p>If a (polymer) web component is a encapsulated piece of UI. Why is it not possible (or easier) to use a web components, with perhaps a JS script encapsulated, in a dart project. By just letting the web component do what is suppose to do using for example JS, but hooking it up (with event binding or querySelector)  with a dart class which can manipulate it. </p>\n"}, {"tags": ["dart"], "answers": [{"tags": [], "owner": {"reputation": 51074, "user_id": 634863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198449a7e196c4b0f2ed25f65279bf84?s=128&d=identicon&r=PG", "display_name": "Alexandre Ardhuin", "link": "https://stackoverflow.com/users/634863/alexandre-ardhuin"}, "is_accepted": true, "score": 8, "last_activity_date": 1424939930, "last_edit_date": 1424939930, "creation_date": 1424939537, "answer_id": 28737657, "question_id": 28737435, "link": "https://stackoverflow.com/questions/28737435/count-carriage-returns-or-line-feeds-in-a-string-in-dart/28737657#28737657", "title": "Count Carriage Returns or Line Feeds in a String in Dart", "body": "<p>You have to inverse <code>'\\r'</code> and <code>content</code> :</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>String content = \"\\r dasdsad \\r asdasdasd \\r\";\nint count = '\\r'.allMatches(content).length;\nprint('count: $count');\n</code></pre>\n"}], "owner": {"reputation": 2949, "user_id": 555220, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/piNhY.jpg?s=128&g=1", "display_name": "Fedy2", "link": "https://stackoverflow.com/users/555220/fedy2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 587, "favorite_count": 1, "accepted_answer_id": 28737657, "answer_count": 1, "score": 4, "last_activity_date": 1424939930, "creation_date": 1424938761, "question_id": 28737435, "link": "https://stackoverflow.com/questions/28737435/count-carriage-returns-or-line-feeds-in-a-string-in-dart", "title": "Count Carriage Returns or Line Feeds in a String in Dart", "body": "<p>I need to count the number of CR or LF or LF + CR in a String.\nI'm doing this:</p>\n\n<pre><code>String content = \"\\r dasdsad \\r asdasdasd \\r\";\nint count = content.allMatches('\\r').length;\nprint('count: $count');\n</code></pre>\n\n<p>But I get always zero as count value.</p>\n"}]