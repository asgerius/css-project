[{"tags": ["command-line", "dart", "packages"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1464785164, "post_id": 37568953, "comment_id": 62625238, "body": "What files and directories does <code>C:\\Development\\Dartish\\tmp&gt;</code> contain?"}, {"owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1464785320, "post_id": 37568953, "comment_id": 62625387, "body": "It only contains dcat.dart, I tried to show it in the quoted output. The tutorial does not mention pub or pubspec.yaml, is that a mistake in the tutorial? The tutorial gives specific directions after it says &quot;Let\u2019s take a look at the dcat sample&quot;."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1464785497, "post_id": 37568953, "comment_id": 62625554, "body": "It definitely is. If you use other packages you need a <code>pubspec.yaml</code> and conform to the <a href=\"https://www.dartlang.org/tools/pub/package-layout.html\" rel=\"nofollow noreferrer\">Pub Package Layout Conventions</a> I guess running on the command line is not meant to be an entry level tutorial but it should work this way as well. I&#39;ll create a bug report."}, {"owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1464785548, "post_id": 37568953, "comment_id": 62625596, "body": "I created this, but maybe you can add more info: <a href=\"https://github.com/dart-lang/www.dartlang.org/issues/1579\" rel=\"nofollow noreferrer\">github.com/dart-lang/www.dartlang.org/issues/1579</a>"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1464785549, "post_id": 37568953, "comment_id": 62625598, "body": "I see you already did <a href=\"https://github.com/dart-lang/www.dartlang.org/issues/1579\" rel=\"nofollow noreferrer\">github.com/dart-lang/www.dartlang.org/issues/1579</a> Thanks a lot."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1464785804, "post_id": 37568953, "comment_id": 62625817, "body": "I updated my answer with the missing steps."}], "answers": [{"tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 5, "last_activity_date": 1464785794, "last_edit_date": 1464785794, "creation_date": 1464785140, "answer_id": 37569058, "question_id": 37568953, "link": "https://stackoverflow.com/questions/37568953/dart-command-line-app-on-windows-cant-import-packages/37569058#37569058", "title": "Dart command line app on Windows, can&#39;t import packages", "body": "<p>You definitely should not need to manually copy symbolic links or junctions.  </p>\n\n<p>If you run <code>pub get</code> or <code>pub upgrade</code> from the directory that contains the <code>pubspec.yaml</code> file or from within WebStorm then all these junctions should be created for you and shouldn't be modified in any way manually.</p>\n\n<p>You need a pubspec.yaml file in the <code>tmp</code> directory</p>\n\n<pre><code>name: some_name\ndependencies:\n  args: any # any is discouraged but should work in this case\n</code></pre>\n\n<p>run <code>pub get</code> after the file was created</p>\n\n<p><code>dcat.dart</code> should be in <code>tmp/bin</code></p>\n\n<p>Then run from the <code>tmp</code> directory</p>\n\n<pre><code>dart bin/dcart.dart -n quotes.txt\n</code></pre>\n"}], "owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 508, "favorite_count": 1, "accepted_answer_id": 37569058, "answer_count": 1, "score": 2, "last_activity_date": 1464785794, "creation_date": 1464784883, "question_id": 37568953, "link": "https://stackoverflow.com/questions/37568953/dart-command-line-app-on-windows-cant-import-packages", "title": "Dart command line app on Windows, can&#39;t import packages", "body": "<p>I'm on Windows 10 and I'm following this tutorial: <a href=\"https://www.dartlang.org/docs/tutorials/cmdline/\" rel=\"nofollow\">https://www.dartlang.org/docs/tutorials/cmdline/</a></p>\n\n<p>However, it seems it cannot use packages as per below output. Am I missing something, or is this a known issue on Windows? I installed dart using choco and it added dart's location to my path. </p>\n\n<p>I was able to make it work by copying the packages junction (symbolic link or shortcut maybe?) that WebStorm created for some project and pasting it next to this dart file. But I don't think it's what we're supposed to do. </p>\n\n<p>How can we make sure that dart command line apps in Windows can use packages? What is missing in the tutorial link that I gave above? </p>\n\n<pre><code>C:\\Development\\Dartish\\tmp&gt;dir\n Volume in drive C is HDD\n Volume Serial Number is DC07-D177\n\n Directory of C:\\Development\\Dartish\\tmp\n\n06/01/2016  03:28 PM    &lt;DIR&gt;          .\n06/01/2016  03:28 PM    &lt;DIR&gt;          ..\n06/01/2016  03:33 PM             2,063 dcat.dart\n               1 File(s)          2,063 bytes\n               2 Dir(s)  74,771,554,304 bytes free\n\nC:\\Development\\Dartish\\tmp&gt;dart dcat.dart -n quotes.txt\nUnhandled exception:\nCould not import \"package:args/args.dart\" from \"file:///C:/Development/Dartish/tmp/dcat.dart\": Could not resolve a package location for base at file:///C:/Development/Dartish/tmp/dcat.dart\n#0      _asyncLoadErrorCallback (dart:_builtin:162)\n#1      _asyncLoadError (dart:_builtin:584)\n#2      _loadPackage (dart:_builtin:625)\n#3      _loadPackage.&lt;anonymous closure&gt; (dart:_builtin:641)\n#4      _handlePackagesReply (dart:_builtin:482)\n#5      _RawReceivePortImpl._handleMessage (dart:isolate-patch/isolate_patch.dart:148)\n\nC:\\Development\\Dartish\\tmp&gt;\n</code></pre>\n"}, {"tags": ["list", "dart", "iterable"], "answers": [{"comments": [{"owner": {"reputation": 51074, "user_id": 634863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198449a7e196c4b0f2ed25f65279bf84?s=128&d=identicon&r=PG", "display_name": "Alexandre Ardhuin", "link": "https://stackoverflow.com/users/634863/alexandre-ardhuin"}, "edited": false, "score": 2, "creation_date": 1464776004, "post_id": 37565128, "comment_id": 62618542, "body": "You can also use <code>stringValues.map(int.parse).toList()</code> as shorthand."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 51074, "user_id": 634863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198449a7e196c4b0f2ed25f65279bf84?s=128&d=identicon&r=PG", "display_name": "Alexandre Ardhuin", "link": "https://stackoverflow.com/users/634863/alexandre-ardhuin"}, "edited": false, "score": 0, "creation_date": 1464776174, "post_id": 37565128, "comment_id": 62618645, "body": "I always for get to do this. Thanks for the hint."}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 29, "last_activity_date": 1464776520, "last_edit_date": 1464776520, "creation_date": 1464774423, "answer_id": 37565128, "question_id": 37564897, "link": "https://stackoverflow.com/questions/37564897/dart-convert-every-element-of-list/37565128#37565128", "title": "Dart convert every element of list", "body": "<p>Use <code>map()</code> and <code>toList()</code> for this. <code>toList()</code> is necessary because <code>map()</code> returns only an <code>Iterable</code>:</p>\n\n<pre><code>stringValues.map((val) =&gt; int.parse(val)).toList()\n</code></pre>\n\n<p>or shorter (thanks to @AlexandreArdhuin) </p>\n\n<pre><code>stringValues.map(int.parse).toList()\n</code></pre>\n\n<p><a href=\"https://dartpad.dartlang.org/e39ecd88d7ddbe87a41e55d5d8bed86b\"><strong>Dartpad example</strong></a></p>\n"}], "owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7529, "favorite_count": 1, "accepted_answer_id": 37565128, "answer_count": 1, "score": 17, "last_activity_date": 1464776520, "creation_date": 1464773903, "question_id": 37564897, "link": "https://stackoverflow.com/questions/37564897/dart-convert-every-element-of-list", "title": "Dart convert every element of list", "body": "<p>I have a <code>List&lt;String&gt; stringValues;</code> that are actually numbers in quotes. I want to convert this list to <code>List&lt;int&gt; intValues</code>. What's an elegant way to do this?</p>\n\n<p>There is <code>list.forEach()</code> that does not return anything, there is <code>iterable.expand()</code> that returns an iterable per element, there is <code>iterable.fold()</code> that returns just one element for the whole list. I could not find something that will allow me to pass each element through a closure and return another list that has the return values of the closure. </p>\n"}, {"tags": ["dart", "async-await"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1464718015, "post_id": 37552505, "comment_id": 62593991, "body": "See <a href=\"http://stackoverflow.com/questions/24437673/using-loops-with-futures-in-dart\" title=\"using loops with futures in dart\">stackoverflow.com/questions/24437673/&hellip;</a>"}, {"owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1464720369, "post_id": 37552505, "comment_id": 62595435, "body": "So, using a closure with .forEach is the only option then? What I said is not possible, right?"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1464720509, "post_id": 37552505, "comment_id": 62595509, "body": "You need to chain the calls with <code>then()</code> to ensure one is executed after the other. I don&#39;t see a way to do this with a <code>for</code> loop."}, {"owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1464756686, "post_id": 37552505, "comment_id": 62607645, "body": "Ok even so, what are those methods that we could not wait on? Instead of my next() and isEndReached()"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1464757289, "post_id": 37552505, "comment_id": 62607874, "body": "Not sure what you mean by your last comment. You can wait for these methods. Just <code>for</code> doesn&#39;t provide a way to delay execution until a <code>Future</code> from the previous iteration has been completed. What&#39;s the point of this discussion anyway when you can just use <code>await for()</code>?"}, {"owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1464766901, "post_id": 37552505, "comment_id": 62612480, "body": "I edited the question. I tried to clarify my last comment at the end of the question."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1464766943, "post_id": 37552505, "comment_id": 62612500, "body": "Sorry, that doesn&#39;t make it more clear to me. What do you thing does <code>await for</code> not do that you need?"}, {"owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1464767243, "post_id": 37552505, "comment_id": 62612658, "body": "I have a stream of lines. I need to read three lines that contain some special information, then I need to read 10 lines that contain something else, then I need to read five lines that have something else, etc. I could do <code>await for</code>s for each, count number of iterations with an int, and break when I hit the desired number. But it just does not look good to me, especially since I will also have a number of single special lines. Should I just do <code>await for (var line in stream) { use(line); break; }</code> for those? Or is there a better way to consume a single line?"}, {"owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1464767390, "post_id": 37552505, "comment_id": 62612749, "body": "Another option is to have a single <code>await for</code>,  count lines with an int, and have a bunch of ifs that see which line I&#39;m at and act accordingly. But it just looks ugly..."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1464767886, "post_id": 37552505, "comment_id": 62613058, "body": "Maybe you want something like <code>StreamQueue</code>. See <a href=\"http://news.dartlang.org/2016/04/unboxing-packages-async-part-3.html\" rel=\"nofollow noreferrer\">news.dartlang.org/2016/04/unboxing-packages-async-part-3.htm&zwnj;&#8203;l</a> You might find other useful tools in the previous two articles of this series."}, {"owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1464769095, "post_id": 37552505, "comment_id": 62613787, "body": "Oh that&#39;s great! Thank you so much. It&#39;s <code>.next</code> and <code>.hasNext</code> of <code>StreamQueue</code> that I need. I&#39;d love to accept it if you could just write this bit as an answer. Thanks!"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1464769854, "post_id": 37552505, "comment_id": 62614274, "body": "Glad to hear this solves your issue :)"}], "answers": [{"comments": [{"owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "edited": false, "score": 0, "creation_date": 1464776748, "post_id": 37563300, "comment_id": 62619049, "body": "To use StreamQueue, I had to find this code <a href=\"https://github.com/dart-lang/async/blob/master/test/stream_queue_test.dart\" rel=\"nofollow noreferrer\">github.com/dart-lang/async/blob/master/test/&hellip;</a> and paste <code>import &quot;package:async&#47;async.dart&quot; show StreamQueue;</code> from there to my imports. I&#39;m using WebStorm and ctrl+space with StreamQueue did not automatically import StreamQueue. Was there an easier way I could start using StreamQueue?"}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 7, "last_activity_date": 1464777101, "last_edit_date": 1464777101, "creation_date": 1464769660, "answer_id": 37563300, "question_id": 37552505, "link": "https://stackoverflow.com/questions/37552505/dart-streams-equivalent-of-await-for/37563300#37563300", "title": "Dart streams, equivalent of await for", "body": "<p>The <a href=\"https://pub.dartlang.org/packages/async\" rel=\"noreferrer\">async</a> package contains a <a href=\"https://www.dartdocs.org/documentation/async/1.11.0/async/StreamQueue-class.html\" rel=\"noreferrer\">StreamQueue</a> class that might do what you want.</p>\n\n<p>See also this great article <a href=\"http://news.dartlang.org/2016/04/unboxing-packages-async-part-3.html\" rel=\"noreferrer\">http://news.dartlang.org/2016/04/unboxing-packages-async-part-3.html</a></p>\n\n<p><code>StreamQueue</code> provides a pull-based API for streams.</p>\n\n<p>A code snipped from the article mentioned above</p>\n\n<pre><code>void main() async {\n  var queue = new StreamQueue(new Stream.fromIterable([1, 2, 3]));\n  var first = queue.next;\n  var second = queue.next;\n  var third = queue.next;\n  print(await Future.wait([first, second, third])); // =&gt; [1, 2, 3]\n}\n</code></pre>\n\n<p><strong>update</strong></p>\n\n<p>WebStorm (uses a feature of the dartanalyzer) doesn't provide quick fixes for imports when nothing was yet imported from that package. It doesn't read packages if they are not refered to in your source code. As mentioned in my answer <code>StreamQueue</code> is from the <code>async</code> package. <code>import 'package:async/async.dart';</code> is usually enough (it's a convention to name the main entrypoint file (<code>async.dart</code>) of a package the same as the package) and all exported identifiers become available in your library. Otherwise you can search the source of your project and WebStorm will also search dependencies and show what library contains the <code>StreamQueue</code> class. Then you can import this file.</p>\n"}], "owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2800, "favorite_count": 0, "accepted_answer_id": 37563300, "answer_count": 1, "score": 3, "last_activity_date": 1464777101, "creation_date": 1464717160, "last_edit_date": 1464766833, "question_id": 37552505, "link": "https://stackoverflow.com/questions/37552505/dart-streams-equivalent-of-await-for", "title": "Dart streams, equivalent of await for", "body": "<p>I like the <code>await for</code> construct in Dart. </p>\n\n<p>How can I implement something similar with a regular for loop?</p>\n\n<p>Something like </p>\n\n<pre><code>// beware! fictional code.\nvar element = stream.next();\nfor(; stream.isEndReached(); element = stream.next()) {\n  // use element here\n}\n\n// or probably it will be like this, right? \nvar element = await stream.next();\nfor(; await stream.isEndReached(); element = await stream.next()) {\n  // use element here\n}\n</code></pre>\n\n<p>But I can't figure out what functions to use instead of <code>next()</code> and <code>isEndReached()</code> here. If you could give me a full example that acts exactly like <code>async for</code>, that would be great. </p>\n\n<p>Edit: Here is the actual reason that I asked for this: I want to do something like this: </p>\n\n<pre><code>if (!stream.isEndReached()) {\n  var a = await stream.next();\n  // use a\n}\n\nif (!stream.isEndReached()) {\n  var b = await stream.next();\n  // use b\n}\n\n// have an arbitrary number of these\n</code></pre>\n\n<p>I need to consume items one by one like this. This is why I'm asking what my made up <code>.next()</code> and <code>.isEndReached()</code> methods map to which actual methods in the stream class. </p>\n"}, {"tags": ["dart", "async-await"], "answers": [{"tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 7, "last_activity_date": 1464715102, "creation_date": 1464715102, "answer_id": 37551921, "question_id": 37551843, "link": "https://stackoverflow.com/questions/37551843/invoking-async-function-without-await-in-dart-like-starting-a-thread/37551921#37551921", "title": "Invoking async function without await in Dart, like starting a thread", "body": "<p>Sure, just omit <code>await</code>. This way <code>callee()</code> is called immediately and when an async operation is called the call will be scheduled in the event queue for later execution and <code>caller()</code> is continued immediately afterwards.</p>\n\n<p>This isn't like a thread though. As mentioned processing is enqueued to the event queue which means it won't be executed until the current task and all previously enqueued tasks are completed.</p>\n\n<p>If you want real parallel execution you need to utilize isolates.</p>\n\n<p>See also </p>\n\n<ul>\n<li><a href=\"https://www.dartlang.org/articles/event-loop/\" rel=\"noreferrer\">https://www.dartlang.org/articles/event-loop/</a></li>\n<li><a href=\"https://api.dartlang.org/stable/1.16.1/dart-isolate/dart-isolate-library.html\" rel=\"noreferrer\">https://api.dartlang.org/stable/1.16.1/dart-isolate/dart-isolate-library.html</a></li>\n<li><a href=\"https://pub.dartlang.org/packages/isolate\" rel=\"noreferrer\">https://pub.dartlang.org/packages/isolate</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": true, "score": 17, "last_activity_date": 1464716205, "creation_date": 1464716205, "answer_id": 37552247, "question_id": 37551843, "link": "https://stackoverflow.com/questions/37551843/invoking-async-function-without-await-in-dart-like-starting-a-thread/37552247#37552247", "title": "Invoking async function without await in Dart, like starting a thread", "body": "<p>\nWhen you call the <code>callee</code> function, it returns a <code>Future</code>. The <code>await</code> then waits for that future to complete. If you don't await the future, it will eventually complete anyway, but your <code>caller</code> function won't be blocked on waiting for that. So, you can just do:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>caller() {\n  callee();  // Ignore returned Future (at your own peril).\n}\n</code></pre>\n\n<p>If you do that, you should be aware of what happens if <code>callee</code> fails with an error. That would make the returned future complete with that error, and if you don't listen on the future, that error is considered \"uncaught\". Uncaught errors are handled by the current <code>Zone</code> and the default behavior is to act like a top-level uncaught error which may kill your isolate.</p>\n\n<p>So, remember to handle the error.</p>\n\n<p>If <code>callee</code> can't fail, great, you're done (unless it fails anyway, then you'll have fun debugging that).</p>\n\n<p>You can handle the error locally: </p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>caller() { \n  callee().catchError((e, s) { \n    logErrorSomehow(e, s); \n  }); \n}\n</code></pre>\n\n<p>or you can install an error handling zone and run your code in that:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>runZoned(() {\n  myProgram();\n}, onError: logErrorSomehow);\n</code></pre>\n\n<p>See the <a href=\"https://api.dartlang.org/stable/1.16.1/dart-async/runZoned.html\" rel=\"noreferrer\">runZoned</a> function and it's <code>onError</code> parameter.</p>\n"}], "owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2723, "favorite_count": 2, "accepted_answer_id": 37552247, "answer_count": 2, "score": 9, "last_activity_date": 1464716205, "creation_date": 1464714808, "question_id": 37551843, "link": "https://stackoverflow.com/questions/37551843/invoking-async-function-without-await-in-dart-like-starting-a-thread", "title": "Invoking async function without await in Dart, like starting a thread", "body": "<p>I have two functions</p>\n\n<pre><code>callee() async {\n  // do something that takes some time\n} \n\ncaller () async {\n  await callee();\n}\n</code></pre>\n\n<p>In this scenario, <code>caller()</code> waits till <code>callee()</code> finishes. I don't want that. I want <code>caller()</code> to complete right after invoking <code>callee()</code>. <code>callee()</code> can complete whenever in the future, I don't care. I just want to start it just like a thread and then forget about it.</p>\n\n<p>Is this possible?</p>\n"}, {"tags": ["dart", "dart-isolates"], "comments": [{"owner": {"reputation": 4669, "user_id": 230637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hwJg5.jpg?s=128&g=1", "display_name": "Alon Amir", "link": "https://stackoverflow.com/users/230637/alon-amir"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1464623730, "post_id": 37529632, "comment_id": 62550064, "body": "<a href=\"https://pub.dartlang.org/packages/worker\" rel=\"nofollow noreferrer\">pub.dartlang.org/packages/worker</a>"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1464623777, "post_id": 37529632, "comment_id": 62550103, "body": "I see. Can&#39;t help with your problem though."}, {"owner": {"reputation": 1254, "user_id": 6036690, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rthBN.png?s=128&g=1", "display_name": "PiKos", "link": "https://stackoverflow.com/users/6036690/pikos"}, "edited": false, "score": 0, "creation_date": 1464628894, "post_id": 37529632, "comment_id": 62552292, "body": "Can you include content of your pubspec.yaml? Also what version of dart do you use?"}, {"owner": {"reputation": 4669, "user_id": 230637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hwJg5.jpg?s=128&g=1", "display_name": "Alon Amir", "link": "https://stackoverflow.com/users/230637/alon-amir"}, "reply_to_user": {"reputation": 1254, "user_id": 6036690, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rthBN.png?s=128&g=1", "display_name": "PiKos", "link": "https://stackoverflow.com/users/6036690/pikos"}, "edited": false, "score": 0, "creation_date": 1464632136, "post_id": 37529632, "comment_id": 62553564, "body": "@PiKos I&#39;ve updated the question with more info."}, {"owner": {"reputation": 1254, "user_id": 6036690, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rthBN.png?s=128&g=1", "display_name": "PiKos", "link": "https://stackoverflow.com/users/6036690/pikos"}, "edited": false, "score": 0, "creation_date": 1464632996, "post_id": 37529632, "comment_id": 62553934, "body": "@AlonAmir Do you have the same problem on a latest stable version of Dart (1.16.0)?"}, {"owner": {"reputation": 4669, "user_id": 230637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hwJg5.jpg?s=128&g=1", "display_name": "Alon Amir", "link": "https://stackoverflow.com/users/230637/alon-amir"}, "reply_to_user": {"reputation": 1254, "user_id": 6036690, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rthBN.png?s=128&g=1", "display_name": "PiKos", "link": "https://stackoverflow.com/users/6036690/pikos"}, "edited": false, "score": 1, "creation_date": 1464683572, "post_id": 37529632, "comment_id": 62570636, "body": "@PiKos Just checked, does not happen in Stable, so I guess it&#39;s a bug...?"}], "answers": [{"tags": [], "owner": {"reputation": 4669, "user_id": 230637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hwJg5.jpg?s=128&g=1", "display_name": "Alon Amir", "link": "https://stackoverflow.com/users/230637/alon-amir"}, "is_accepted": true, "score": 0, "last_activity_date": 1465512941, "creation_date": 1465512941, "answer_id": 37737486, "question_id": 37529632, "link": "https://stackoverflow.com/questions/37529632/worker-package-disfunction-when-importing-postgresql-package/37737486#37737486", "title": "Worker package disfunction when importing postgresql package", "body": "<p>The problem is gone when using Dart Stable 1.16.</p>\n"}], "owner": {"reputation": 4669, "user_id": 230637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hwJg5.jpg?s=128&g=1", "display_name": "Alon Amir", "link": "https://stackoverflow.com/users/230637/alon-amir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 37737486, "answer_count": 1, "score": 0, "last_activity_date": 1465512941, "creation_date": 1464623492, "last_edit_date": 1464683665, "question_id": 37529632, "link": "https://stackoverflow.com/questions/37529632/worker-package-disfunction-when-importing-postgresql-package", "title": "Worker package disfunction when importing postgresql package", "body": "<p>I'm trying to use the Worker package and the PostgreSQL package.</p>\n\n<p>I'm not sure why but if I run the example in\n<a href=\"https://diegorochablog.wordpress.com/2014/02/18/worker-dart-concurrent-programming-does-not-have-to-be-hard/\" rel=\"nofollow\">https://diegorochablog.wordpress.com/2014/02/18/worker-dart-concurrent-programming-does-not-have-to-be-hard/</a>\nAfter changing nothing but adding an <code>import</code> statement: <code>import 'package:postgresql/postgresql.dart';</code>,  The example stops working (the task's <code>execute</code> is not called).</p>\n\n<p>Dart VM version: 1.17.0-dev.4.1 (Thu May 19 11:21:39 2016) on \"macos_x64\".</p>\n\n<h2>pubspec.yaml</h2>\n\n<pre><code>name: fibFuturesConcu\nversion: 0.0.1\ndescription: A simple console application.\ndependencies:\n  worker: any\n</code></pre>\n\n<h2>Update</h2>\n\n<p>Apparently it does not happen with the stable version of Dart (1.16.0).</p>\n"}, {"tags": ["regex", "dart"], "answers": [{"tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 8, "last_activity_date": 1464549840, "last_edit_date": 1464549840, "creation_date": 1464549235, "answer_id": 37513882, "question_id": 37513802, "link": "https://stackoverflow.com/questions/37513802/wrong-regex-match-in-dart/37513882#37513882", "title": "Wrong RegEx match in Dart", "body": "<p>Either you use a raw string</p>\n\n<pre><code>print(new RegExp(r'''[0-9]|'|\"|\\.''').hasMatch('g'));\n</code></pre>\n\n<p>(<code>'''</code> is to avoid a conflict with <code>\"</code> inside the string)</p>\n\n<p>or escape <code>\\</code></p>\n\n<pre><code>print(new RegExp(\"[0-9]|'|\\\"|\\\\.\").hasMatch('g'));\n</code></pre>\n\n<p><a href=\"https://dartpad.dartlang.org/ef2b8cee646ca532f6eee3d08975be62\" rel=\"noreferrer\"><strong>DartPad example</strong></a></p>\n"}], "owner": {"reputation": 119, "user_id": 3492953, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b84dabbf0e6cc782cdf74e59bed2ea67?s=128&d=identicon&r=PG&f=1", "display_name": "fandegw", "link": "https://stackoverflow.com/users/3492953/fandegw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 37513882, "answer_count": 1, "score": 3, "last_activity_date": 1464549840, "creation_date": 1464548779, "last_edit_date": 1464549404, "question_id": 37513802, "link": "https://stackoverflow.com/questions/37513802/wrong-regex-match-in-dart", "title": "Wrong RegEx match in Dart", "body": "<p>The code itself: (you can see it on <a href=\"//dartpad.dartlang.org/5c4a07095ecd5b931a34aea291618b21\" rel=\"nofollow\">DartPad</a>)</p>\n\n<pre><code>void main() {\n   print(new RegExp(\"[0-9]|'|\\\"|\\.\").hasMatch('g')); // should return false\n   print(new RegExp(\"[0-9]|'|\\\"|\\.\").hasMatch('0')); // return correctly true\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>true\ntrue\n</code></pre>\n\n<p>With the same version on <a href=\"//regex101.com/r/wA8cH2/2\" rel=\"nofollow\">regex101</a> but with JS, the return value is correct.</p>\n\n<p>Is there something I'm missing with my RegExp or should I report a bug?</p>\n"}, {"tags": ["dart"], "answers": [{"tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 2, "last_activity_date": 1464424588, "last_edit_date": 1464424588, "creation_date": 1464420513, "answer_id": 37496409, "question_id": 37495386, "link": "https://stackoverflow.com/questions/37495386/script-injection-of-dart-code/37496409#37496409", "title": "Script injection of Dart code", "body": "<p>I assume this means adding a script tag like</p>\n\n<pre><code>&lt;script src=\"main.dart\" type=\"application/dart\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>imperatively from another Dart script.</p>\n\n<p>Because there is no browser that supports Dart code directly this can't be used in production anyway but I guess it's the same for another <code>&lt;script&gt;</code> tag that loads additional \"Dart\" code, that was transpiled to JS, dynamically.</p>\n"}], "owner": {"reputation": 93, "user_id": 5312346, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e29625595fdbe144f7c96d61e689a806?s=128&d=identicon&r=PG&f=1", "display_name": "Pascal Myrta", "link": "https://stackoverflow.com/users/5312346/pascal-myrta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 37496409, "answer_count": 1, "score": 1, "last_activity_date": 1464424588, "creation_date": 1464411898, "question_id": 37495386, "link": "https://stackoverflow.com/questions/37495386/script-injection-of-dart-code", "title": "Script injection of Dart code", "body": "<p>On this Dart page <a href=\"https://www.dartlang.org/articles/embedding-in-html/\" rel=\"nofollow\">https://www.dartlang.org/articles/embedding-in-html/</a> they say:</p>\n\n<p>\u201cNo script injection of Dart code. We do not currently support or recommend dynamically injecting a script tag that loads Dart code. Recent browser security trends, like Content Security Policy, actively prevent this practice.\u201d</p>\n\n<p>What do they mean exactly by \u201cNo script injection of Dart code\u201d? Can you show me a concrete example?</p>\n"}, {"tags": ["angular", "dart", "polymer", "dart-polymer"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1464376788, "post_id": 37490068, "comment_id": 62478076, "body": "Is the CSS above in book_splash_component.css&#39;?"}, {"owner": {"reputation": 3, "user_id": 3365932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7575173693ad104c1cf00c6320b3a52b?s=128&d=identicon&r=PG&f=1", "display_name": "Ermans", "link": "https://stackoverflow.com/users/3365932/ermans"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1464380701, "post_id": 37490068, "comment_id": 62479845, "body": "@G&#252;nterZ&#246;chbauer yes, is it right? I tried also to embed the css in the .html file within &lt;style is=&quot;custom-style&quot;&gt; &lt;/style&gt; but nope."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 3365932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7575173693ad104c1cf00c6320b3a52b?s=128&d=identicon&r=PG&f=1", "display_name": "Ermans", "link": "https://stackoverflow.com/users/3365932/ermans"}, "edited": false, "score": 0, "creation_date": 1464442019, "post_id": 37494911, "comment_id": 62494067, "body": "I tried to change ViewEncapsulation to Emulated or None but mixins still aren&#39;t  recognised. Maybe as G&#252;nter said, they work only inside &lt;style is=&quot;custom-style&quot;&gt;"}], "tags": [], "owner": {"reputation": 4118, "user_id": 5189745, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9KVgR-blq7M/AAAAAAAAAAI/AAAAAAAAB8s/fy6ZAPen-_c/photo.jpg?sz=128", "display_name": "Hadrien Lejard", "link": "https://stackoverflow.com/users/5189745/hadrien-lejard"}, "is_accepted": false, "score": 0, "last_activity_date": 1464406284, "creation_date": 1464406284, "answer_id": 37494911, "question_id": 37490068, "link": "https://stackoverflow.com/questions/37490068/how-to-use-css-mixins-with-angular-2-dart-and-polymer/37494911#37494911", "title": "How to use CSS mixins with Angular 2, Dart and Polymer", "body": "<p>Did you try to play with shadow dom, like disable it in your angular component or on polymer to see what happen ?</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 3365932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7575173693ad104c1cf00c6320b3a52b?s=128&d=identicon&r=PG&f=1", "display_name": "Ermans", "link": "https://stackoverflow.com/users/3365932/ermans"}, "edited": false, "score": 0, "creation_date": 1464442863, "post_id": 37495705, "comment_id": 62494367, "body": "I tried to put the link rel imports in my main.html and the source code is correctly in the source of the page, but the mixins still are not recognized."}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1464414855, "creation_date": 1464414855, "answer_id": 37495705, "question_id": 37490068, "link": "https://stackoverflow.com/questions/37490068/how-to-use-css-mixins-with-angular-2-dart-and-polymer/37495705#37495705", "title": "How to use CSS mixins with Angular 2, Dart and Polymer", "body": "<p>This is Polymer specific and works only in the style tag of a Polymer element or in a <code>&lt;style is=\"custom-style\"&gt;</code> in the head element.</p>\n"}], "owner": {"reputation": 3, "user_id": 3365932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7575173693ad104c1cf00c6320b3a52b?s=128&d=identicon&r=PG&f=1", "display_name": "Ermans", "link": "https://stackoverflow.com/users/3365932/ermans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 627, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1464414855, "creation_date": 1464373374, "question_id": 37490068, "link": "https://stackoverflow.com/questions/37490068/how-to-use-css-mixins-with-angular-2-dart-and-polymer", "title": "How to use CSS mixins with Angular 2, Dart and Polymer", "body": "<p>I'm using polymer and polymer_elements in my angular2-dart project.</p>\n\n<p>I'm able to add polymer elements (such as paper-card), but I'm not able to use css-mixins, I don't know if I missing an import or something.</p>\n\n<p><strong>My .dart</strong></p>\n\n<pre><code>import 'package:angular2/core.dart';\n//Polymer imports\nimport 'package:polymer_elements/paper_card.dart';\nimport 'package:polymer_elements/paper_button.dart';\nimport 'package:polymer_elements/paper_icon_button.dart';\nimport 'package:polymer_elements/iron_icon.dart';\nimport 'package:polymer_elements/paper_styles/classes/typography.dart';\nimport 'package:polymer_elements/iron_flex_layout/classes/iron_flex_layout.dart';\n\n@Component(\n    templateUrl: '../view/book_splash_component.html',\n    selector: 'book-splash',\n    styleUrls: const ['../view/css/book_splash_component.css'],\n    encapsulation: ViewEncapsulation.Native\n)\nclass BookSplashComponent{\n    //nothing that matters\n}\n</code></pre>\n\n<p><strong>My .html</strong></p>\n\n<pre><code>&lt;paper-card class=\"rate\"&gt;\n    &lt;div class=\"rate-content\"&gt;\n        &lt;div class=\"card-content\"&gt;\n            &lt;div class=\"rate-header\"&gt;Rate this album&lt;/div&gt;\n            &lt;div class=\"rate-name\"&gt;Mac Miller&lt;/div&gt;\n            &lt;div&gt;Live from space&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"card-actions\"&gt;\n            &lt;paper-icon-button class=\"rate-icon\" icon=\"star\"&gt;&lt;/paper-icon-button&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"rate-image\"&gt;&lt;/div&gt;\n&lt;/paper-card&gt;\n</code></pre>\n\n<p>My .css with mixins (which doesn't work)</p>\n\n<pre><code>paper-card.rate { @apply(--layout-horizontal); }\n  .rate-image {\n    width: 100px;\n    height: 170px;\n    background: url('./donuts.png');\n    background-size: cover;\n  }\n  .rate-content {\n    @apply(--layout-flex);\n    float: left;\n  }\n  .rate-header { @apply(--paper-font-headline); }\n  .rate-name { color: var(--paper-grey-600); margin: 10px 0; }\n  paper-icon-button.rate-icon {\n    --iron-icon-fill-color: white;\n    --iron-icon-stroke-color: var(--paper-grey-600);\n  }\n</code></pre>\n\n<p>But if I replace mixins with the corresponding styles it works! Probably I'm missing something stupid.</p>\n\n<p>I'm trying \"Paper-cards can have a horizontal image\" example here: \n<a href=\"https://elements.polymer-project.org/elements/paper-card?active=paper-card&amp;view=demo:demo/index.html\" rel=\"nofollow\">https://elements.polymer-project.org/elements/paper-card?active=paper-card&amp;view=demo:demo/index.html</a></p>\n"}, {"tags": ["dart", "client", "httprequest", "synchronous"], "answers": [{"comments": [{"owner": {"reputation": 30488, "user_id": 22483, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b337d1e52bf3d796a7728def67a602fd?s=128&d=identicon&r=PG", "display_name": "Randal Schwartz", "link": "https://stackoverflow.com/users/22483/randal-schwartz"}, "edited": false, "score": 0, "creation_date": 1464381022, "post_id": 37489971, "comment_id": 62479972, "body": "This was an issue solved by Perl 25 years ago by having sigils on all data, permitting backward compatibility by simultaneously allowing <code>$print</code> and <code>print</code>, so that new keywords would never conflict with old variable names.  Sigils were there for a reason, folks."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 30488, "user_id": 22483, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b337d1e52bf3d796a7728def67a602fd?s=128&d=identicon&r=PG", "display_name": "Randal Schwartz", "link": "https://stackoverflow.com/users/22483/randal-schwartz"}, "edited": false, "score": 0, "creation_date": 1464414941, "post_id": 37489971, "comment_id": 62487012, "body": "Perl also introduced a few new problems as well ;-)"}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1464372980, "creation_date": 1464372980, "answer_id": 37489971, "question_id": 37489623, "link": "https://stackoverflow.com/questions/37489623/dart-synchronous-post-request/37489971#37489971", "title": "Dart: Synchronous post request", "body": "<p>This is a known issue with this named parameter <a href=\"https://github.com/dart-lang/sdk/issues/24637\" rel=\"nofollow\">https://github.com/dart-lang/sdk/issues/24637</a></p>\n"}, {"tags": [], "owner": {"reputation": 2034, "user_id": 1704895, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/SvOnC.jpg?s=128&g=1", "display_name": "Cequiel", "link": "https://stackoverflow.com/users/1704895/cequiel"}, "is_accepted": true, "score": 0, "last_activity_date": 1464374931, "creation_date": 1464374931, "answer_id": 37490448, "question_id": 37489623, "link": "https://stackoverflow.com/questions/37489623/dart-synchronous-post-request/37490448#37490448", "title": "Dart: Synchronous post request", "body": "<p>The solution is to use <code>postFormData()</code> instead of <code>send()</code>. For example:</p>\n\n<pre><code>final req = await HttpRequest\n    .postFormData(url, {'action': 'delete', 'id': id});\nreturn req.responseText;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1495521897, "post_id": 44126059, "comment_id": 75273748, "body": "<code>async</code> and <code>await</code> doesn&#39;t make anything synchronous. It&#39;s just more convenient syntax to cope with async execution."}], "tags": [], "owner": {"reputation": 81, "user_id": 7877902, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b82f7f77d72a30a98d90e17f1858136f?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/7877902/charles"}, "is_accepted": false, "score": 0, "last_activity_date": 1495515229, "creation_date": 1495515229, "answer_id": 44126059, "question_id": 37489623, "link": "https://stackoverflow.com/questions/37489623/dart-synchronous-post-request/44126059#44126059", "title": "Dart: Synchronous post request", "body": "<pre><code>Future&lt;String&gt; deleteItem(String id) async {\nfinal req = new HttpRequest()\n  ..open('POST', 'server/controller.php')\n  ..send({'action': 'delete', 'id': id});\n// wait until the request have been completed\nawait req.onLoadEnd.first;\n// oh yes\nreturn req.responseText;\n</code></pre>\n\n<p>}</p>\n\n<p>this one is the point, where sometimes you need \"PUT\" or \"DELETE\"</p>\n"}], "owner": {"reputation": 2034, "user_id": 1704895, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/SvOnC.jpg?s=128&g=1", "display_name": "Cequiel", "link": "https://stackoverflow.com/users/1704895/cequiel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1491, "favorite_count": 0, "accepted_answer_id": 37490448, "answer_count": 3, "score": 0, "last_activity_date": 1495515229, "creation_date": 1464371596, "last_edit_date": 1464373560, "question_id": 37489623, "link": "https://stackoverflow.com/questions/37489623/dart-synchronous-post-request", "title": "Dart: Synchronous post request", "body": "<p>I would like to send a synchronous POST request from the client-side. According to the documentation we can use the 'async' named parameter:</p>\n\n<p><a href=\"https://www.dartlang.org/articles/json-web-service/#saving-objects-on-the-server\" rel=\"nofollow\">https://www.dartlang.org/articles/json-web-service/#saving-objects-on-the-server</a></p>\n\n<pre><code>var url = \"http://127.0.0.1:8080/programming-languages\";\nrequest.open(\"POST\", url, async: false);\n</code></pre>\n\n<p>But the above example throws the following syntax error:</p>\n\n<p><em>The keywords 'async', 'await', and 'yield' may not be used as identifiers in an asynchronous or generator function.</em></p>\n\n<p>How can I send a synchronous POST request?</p>\n\n<p><strong>UPDATE (27 May, 20:23)</strong></p>\n\n<p>I found a workaround to solve this problem:</p>\n\n<pre><code>Future&lt;String&gt; deleteItem(String id) async {\n    final req = new HttpRequest()\n      ..open('POST', 'server/controller.php')\n      ..send({'action': 'delete', 'id': id});\n    // wait until the request have been completed\n    await req.onLoadEnd.first;\n    // oh yes\n    return req.responseText;\n}\n</code></pre>\n\n<p>But I don't like the above solution because it doesn't seem elegant enough.</p>\n"}, {"tags": ["dart"], "answers": [{"tags": [], "owner": {"reputation": 1868, "user_id": 1416886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1816b2eac989b20642bb419e3b51605?s=128&d=identicon&r=PG", "display_name": "filiph", "link": "https://stackoverflow.com/users/1416886/filiph"}, "is_accepted": true, "score": 5, "last_activity_date": 1464586167, "last_edit_date": 1464586167, "creation_date": 1464585726, "answer_id": 37518092, "question_id": 37485861, "link": "https://stackoverflow.com/questions/37485861/testing-a-dart-api-wrapper/37518092#37518092", "title": "Testing a Dart API wrapper", "body": "<p>This is traditionally solved by dependency injection. Your API wrapper class could have a constructor like:</p>\n\n<pre><code>class MyWrapper {\n  final http.BaseClient _httpClient;\n  MyWrapper({BaseClient httpClient: new http.Client()})\n      : _httpClient = httpClient;\n\n  // ...\n}\n</code></pre>\n\n<p>Using a named argument with a default value means normal users won't need to worry about creating the <a href=\"https://www.dartdocs.org/documentation/http/0.11.3%2B7/http/Client-class.html\" rel=\"noreferrer\">Client</a>.</p>\n\n<p>In your method, you use the <code>Client</code> instead of using the static methods of the <code>http</code> library:</p>\n\n<pre><code>Future message(String q) {\n  Map&lt;String, String&gt; headers = {\n    'Accept': 'application/vnd.wit.${apiVersion}+json',\n    'Authorization': 'Bearer ${token}'\n  };\n  return _httpClient\n      .get('https://api.wit.ai/message?q=${q}', headers: headers)\n      .then((response) {\n    return JSON.decode(response.body);\n  }).catchError((e, stackTrace) {\n    return JSON.decode(e);\n  });\n}\n</code></pre>\n\n<p>Keep in mind, though, that clients need to be closed. If you don't have a <code>close</code> method on your API wrapper, you may want to a) add it, or b) put the dependency injection on the <code>message()</code> method instead of on the constructor.</p>\n\n<p>When testing, <a href=\"https://www.dartdocs.org/documentation/http/0.11.3%2B7/testing/testing-library.html\" rel=\"noreferrer\">set up a <code>MockClient</code></a>. Pass it like so:</p>\n\n<pre><code>var wrapper = new MyWrapper(httpClient: myMockClient);\n</code></pre>\n\n<p>No need for running a local server, and way faster.</p>\n"}], "owner": {"reputation": 12593, "user_id": 372562, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/db6218c1b56d64e775eb79ea4f2889dd?s=128&d=identicon&r=PG", "display_name": "Sgoettschkes", "link": "https://stackoverflow.com/users/372562/sgoettschkes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "accepted_answer_id": 37518092, "answer_count": 1, "score": 3, "last_activity_date": 1464586167, "creation_date": 1464358878, "question_id": 37485861, "link": "https://stackoverflow.com/questions/37485861/testing-a-dart-api-wrapper", "title": "Testing a Dart API wrapper", "body": "<p>I am currently writing an API wrapper for wit.ai. I'd like to add tests to this wrapper but I am unsure how I'd do that given that I'm using the <code>http</code> library to send HTTP requests.</p>\n\n<p>The code would look something like this:</p>\n\n<pre><code>Future message(String q) {\n    Map&lt;String, String&gt; headers = {\n      'Accept': 'application/vnd.wit.${apiVersion}+json',\n      'Authorization': 'Bearer ${token}'\n    };\n    return http\n        .get('https://api.wit.ai/message?q=${q}', headers: headers)\n        .then((response) {\n      return JSON.decode(response.body);\n    }).catchError((e, stackTrace) {\n      return JSON.decode(e);\n    });\n  }\n</code></pre>\n\n<p>Given this code, how would I write a test that does not actually send a HTTP request?</p>\n"}, {"tags": ["javascript", "web-applications", "dart", "copy-paste"], "answers": [{"tags": [], "owner": {"reputation": 30488, "user_id": 22483, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b337d1e52bf3d796a7728def67a602fd?s=128&d=identicon&r=PG", "display_name": "Randal Schwartz", "link": "https://stackoverflow.com/users/22483/randal-schwartz"}, "is_accepted": false, "score": 2, "last_activity_date": 1464299927, "creation_date": 1464299927, "answer_id": 37471712, "question_id": 37471473, "link": "https://stackoverflow.com/questions/37471473/dart-function-to-copy-text-to-clipboard-with-mime-type/37471712#37471712", "title": "dart function to copy text to clipboard with MIME type", "body": "<p>Javascript (even dart converted to javascript) cannot get to the OS clipboard.  Only Flash seems to have that ability.</p>\n"}], "owner": {"reputation": 11, "user_id": 5344335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71d8309bd9296b5c4f90c6d95d07c264?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel Jackson", "link": "https://stackoverflow.com/users/5344335/samuel-jackson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 520, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1464299927, "creation_date": 1464298864, "question_id": 37471473, "link": "https://stackoverflow.com/questions/37471473/dart-function-to-copy-text-to-clipboard-with-mime-type", "title": "dart function to copy text to clipboard with MIME type", "body": "<p>I'm trying to copy text to the OS clipboard in my dart web app with the push of a button, and I'm not finding a clean way of doing so. </p>\n\n<p>My current solution is to create a textArea element, add the text I'm intending to copy to the element, calling <code>document.execCommand(\"copy\")</code> on said element, then deleting the textArea element.  This works in the browsers I am intending to support; however, I also need to set the MIME type for this copied text, which does not appear to be possible with my current implementation.</p>\n\n<p>So, my question for you all is:  using my current solution, can I also set the MIME type for the text being copied?  OR is there a better approach I could take using a different dart api?</p>\n"}, {"tags": ["websocket", "angular", "dart", "dart-html"], "answers": [{"tags": [], "owner": {"reputation": 629, "user_id": 3203792, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DK7HM.jpg?s=128&g=1", "display_name": "Hector", "link": "https://stackoverflow.com/users/3203792/hector"}, "is_accepted": true, "score": 2, "last_activity_date": 1464348814, "last_edit_date": 1464348814, "creation_date": 1464270926, "answer_id": 37462942, "question_id": 37461682, "link": "https://stackoverflow.com/questions/37461682/angular2-dart-ngfor-not-updating-view-when-using-websockets/37462942#37462942", "title": "Angular2 dart ngFor not updating view when using WebSockets", "body": "<p>Turns out I was just being really, really stupid.</p>\n\n<p>Lets just take a look at a few things shall we?</p>\n\n<p>The signature for the method that handles incoming data:\n<code>void OnMessage( String data )</code></p>\n\n<p>The member that I am trying to use in the template:\n<code>List data;</code></p>\n\n<p>The assignment inside of the <code>OnMessage</code> method:\n<code>data = res[ \"data\" ];</code></p>\n\n<p>Notice anything strange?\nMaybe that the class member and the method parameter have the same name?\nMaybe that means the parameter is shadowing the member?\nMaybe that means an assignment to that name is actually to the parameter and not the member?</p>\n\n<p>The worst part is I've been sat here for almost two hours trying to figure out what the problem was.</p>\n\n<p>Changing two lines and everything works</p>\n\n<ul>\n<li><code>void OnMessage( String data )</code> => <code>void OnMessage( String response_data )</code></li>\n<li><code>Map res = JSON.decode( data );</code> => <code>Map res = JSON.decode( response_data );</code> </li>\n</ul>\n"}], "owner": {"reputation": 629, "user_id": 3203792, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DK7HM.jpg?s=128&g=1", "display_name": "Hector", "link": "https://stackoverflow.com/users/3203792/hector"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 311, "favorite_count": 1, "accepted_answer_id": 37462942, "answer_count": 1, "score": 2, "last_activity_date": 1464348814, "creation_date": 1464267766, "last_edit_date": 1464269273, "question_id": 37461682, "link": "https://stackoverflow.com/questions/37461682/angular2-dart-ngfor-not-updating-view-when-using-websockets", "title": "Angular2 dart ngFor not updating view when using WebSockets", "body": "<p>I've been having a problem with an angular2 component. The view doesn't update when I'm using websockets. I've tried with http requests and it works fine, but I need to keep the data in the view updated.</p>\n\n<p>I can connect to the server just fine using websockets and I can recieve the data, but my view doesn't update.</p>\n\n<pre><code>@Component(\n  selector: \"pv-table\",\n  templateUrl: \"./table.component.html\"\n)\n\nclass TableComponent\n{\n  WebSocket _connection;\n\n  // NgZone _zone;\n  // ApplicationRef _application_ref;\n\n  List data;\n\n  TableComponent(/* this._zone, this._application_ref */)\n  {\n    _connection = new WebSocket( \"ws://${HOST}:${PORT}\" );\n\n    _connection.onOpen.first.then( ( _ ) {\n      _connection.onMessage.listen( ( MessageEvent e ) =&gt; OnMessage( e.data ) );\n\n      // A simple class that gives my application a standard\n      // way to communicate.\n      Packet request = new Packet()\n        ..message = \"table.get\"\n        ..data    = {};\n\n      _connection.send( JSON.encode( request ) );\n\n      _connection.onClose.first.then( ( _ ) { });\n    });\n  }\n\n  void OnMessage( String data )\n  {\n    Map    res = JSON.decode( data );\n    String cmd = res[ \"message\" ];\n\n    Log.Info( cmd );\n\n    switch( cmd )\n    {\n      case \"table.send\":\n        // Setting the data here. This works\n        data = res[ \"data\" ];\n\n        // This prints the correct data in the developer console.\n        Log.Info( data ); \n\n        // Neither of these help.\n        // _zone.run( () =&gt; data = res[ \"data\" ] );\n        // or\n        // _application_ref.tick();\n\n        break;\n\n      default:\n        Log.Warn( \"Unknown command: $cmd\" );\n        break;\n    }\n  }\n}\n</code></pre>\n\n<p>I've googled around and seen some problems like this where forcing change decection with <code>NgZone.run(...)</code> or <code>ApplicationRef.tick()</code>, but that didn't help. Either they don't work for this situation or I don't know how to use them.</p>\n\n<p>My template looks like this:</p>\n\n<pre><code>&lt;p *ngFor=\"let person of data\"&gt;\n  &lt;span scope=\"row\"&gt;{{ person[ \"_id\" ] }}&lt;/span&gt;\n  &lt;span&gt;{{ person[ \"name\" ] }}&lt;/span&gt;\n  &lt;span&gt;{{ person[ \"job\" ] }}&lt;/span&gt;\n  &lt;span&gt;{{ person[ \"date_due\" ] }}&lt;/span&gt;\n&lt;/p&gt;\n</code></pre>\n\n<p>As a comment mentions. I can see the data being printed in the developer console. It is in the correct format, a list of maps with the correct fields, but the page remains blank.</p>\n"}]