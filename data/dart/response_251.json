[{"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 2756, "user_id": 10205629, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4U-c1ByHRNE/AAAAAAAAAAI/AAAAAAAAAE0/W_2Ku7_ISts/photo.jpg?sz=128", "display_name": "ValdaXD", "link": "https://stackoverflow.com/users/10205629/valdaxd"}, "edited": false, "score": 1, "creation_date": 1572473879, "post_id": 58634301, "comment_id": 103575688, "body": "The svg is rendering? , i think CachedNetworkImage only renders images and that may be causing trouble <a href=\"https://devfestflorida.org/images/logos/gdg-logo-new.svg\" rel=\"nofollow noreferrer\">devfestflorida.org/images/logos/gdg-logo-new.svg</a>"}, {"owner": {"reputation": 41, "user_id": 5224387, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-npN7bvSfwOI/AAAAAAAAAAI/AAAAAAAACY4/znsmFDfGeWI/photo.jpg?sz=128", "display_name": "CodeVista", "link": "https://stackoverflow.com/users/5224387/codevista"}, "reply_to_user": {"reputation": 2756, "user_id": 10205629, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4U-c1ByHRNE/AAAAAAAAAAI/AAAAAAAAAE0/W_2Ku7_ISts/photo.jpg?sz=128", "display_name": "ValdaXD", "link": "https://stackoverflow.com/users/10205629/valdaxd"}, "edited": false, "score": 0, "creation_date": 1572473967, "post_id": 58634301, "comment_id": 103575711, "body": "No it is not rendering. You think I should change it to a .PNG?"}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 5224387, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-npN7bvSfwOI/AAAAAAAAAAI/AAAAAAAACY4/znsmFDfGeWI/photo.jpg?sz=128", "display_name": "CodeVista", "link": "https://stackoverflow.com/users/5224387/codevista"}, "is_accepted": true, "score": 0, "last_activity_date": 1572491382, "creation_date": 1572491382, "answer_id": 58636414, "question_id": 58634301, "link": "https://stackoverflow.com/questions/58634301/listview-of-image-freezes-when-i-load-page/58636414#58636414", "title": "ListView of image freezes when I load page", "body": "<p>As indicated in the comments CachedNetworkImage does not render svg. Flutter does not support SVG, however you can use a package that provides support like <a href=\"https://pub.dev/packages/flutter_svg\" rel=\"nofollow noreferrer\">flutter_svg</a>.</p>\n\n<p>Here is a more information about <a href=\"https://stackoverflow.com/a/44087571/5224387\">svg</a> support </p>\n"}], "owner": {"reputation": 41, "user_id": 5224387, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-npN7bvSfwOI/AAAAAAAAAAI/AAAAAAAACY4/znsmFDfGeWI/photo.jpg?sz=128", "display_name": "CodeVista", "link": "https://stackoverflow.com/users/5224387/codevista"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 58636414, "answer_count": 1, "score": 0, "last_activity_date": 1572491382, "creation_date": 1572473394, "question_id": 58634301, "link": "https://stackoverflow.com/questions/58634301/listview-of-image-freezes-when-i-load-page", "title": "ListView of image freezes when I load page", "body": "<p>I have a list of images just two of them in a Card Widget inside a ContrainedBox widget. I want to add more. When I click and load the page the application freezes. </p>\n\n<p>Here is my Widget</p>\n\n<pre><code> @override\n  Widget build(BuildContext context) {\n    return DevScaffold(\n      title: \"Team\",\n      body: ListView.builder(\n        shrinkWrap: true,\n        itemCount: teams.length,\n        itemBuilder: (BuildContext context, int index) {\n        return Card(\n            elevation: 0.0,\n            child: Padding(\n                padding: const EdgeInsets.all(12.0),\n                child: Row(\n                  mainAxisSize: MainAxisSize.min,\n                  children: &lt;Widget&gt;[\n                    ConstrainedBox(\n                      constraints: BoxConstraints.expand(\n                        height: MediaQuery.of(context).size.height * 0.2,\n                        width: MediaQuery.of(context).size.width * 0.3,\n                      ),\n                      child: CachedNetworkImage(\n                        fit: BoxFit.cover,\n                        imageUrl: teams[index].image,\n                      ),\n                    ),\n                    SizedBox(\n                      width: 20,\n                    ),...\n</code></pre>\n\n<p>Here is my data class:</p>\n\n<pre><code>List&lt;Sponsor&gt; sponsors = [\n  Sponsor(\n    name: \"Google Developer Groups\",\n    image: \"https://devfestflorida.org/images/logos/gdg-logo-new.svg\",\n    desc: \"Platinum Sponsor\",\n    url: 'https://developers.google.com/community/gdg/',\n  ),\n  Sponsor(\n    name: \"Neoware Studios\",\n    image: \"https://devfestflorida.org/images/logos/STUDIOSLOGO_WITHTM.png\",\n    desc: \"Platinum Sponsor\",\n    url: 'https://www.neowarestudios.com/',\n  ),\n];...\n</code></pre>\n\n<p>There was no real exception thrown on the flutter side of things that made much sense, but here's the log:</p>\n\n<pre><code>C:\\Users\\javier.carrion\\OneDrive\\CodeVista\\TechEvents\\DevFest\\DevFest2019Nov\\devfestcenfl\\devfestcenfl&gt;flutter analyze\nAnalyzing devfestcenfl...\nNo issues found! (ran in 17.4s)\n\nC:\\Users\\javier.carrion\\OneDrive\\CodeVista\\TechEvents\\DevFest\\DevFest2019Nov\\devfestcenfl\\devfestcenfl&gt;\nC:\\Users\\javier.carrion\\OneDrive\\CodeVista\\TechEvents\\DevFest\\DevFest2019Nov\\devfestcenfl\\devfestcenfl&gt;\nC:\\Users\\javier.carrion\\OneDrive\\CodeVista\\TechEvents\\DevFest\\DevFest2019Nov\\devfestcenfl\\devfestcenfl&gt;\nC:\\Users\\javier.carrion\\OneDrive\\CodeVista\\TechEvents\\DevFest\\DevFest2019Nov\\devfestcenfl\\devfestcenfl&gt;\n</code></pre>\n\n<p>Flutter Doctor: </p>\n\n<pre><code>[\u221a] Flutter (Channel stable, v1.9.1+hotfix.5, on Microsoft Windows [Version 10.0.16299.1087], locale en-US)\n    \u2022 Flutter version 1.9.1+hotfix.5 at C:\\src\\flutter\n    \u2022 Framework revision 1aedbb1835 (13 days ago), 2019-10-17 08:37:27 -0700\n    \u2022 Engine revision b863200c37\n    \u2022 Dart version 2.5.0\n\n\n[\u221a] Android toolchain - develop for Android devices (Android SDK version 28.0.3)\n    \u2022 Android SDK at C:\\Users\\javier.carrion\\AppData\\Local\\Android\\Sdk\n    \u2022 Android NDK location not configured (optional; useful for native profiling support)\n    \u2022 Platform android-28, build-tools 28.0.3\n    \u2022 Java binary at: C:\\Program Files\\Android\\Android Studio1\\jre\\bin\\java\n    \u2022 Java version OpenJDK Runtime Environment (build 1.8.0_152-release-1343-b01)\n    \u2022 All Android licenses accepted.\n\n[\u221a] Android Studio (version 3.4)\n    \u2022 Android Studio at C:\\Program Files\\Android\\Android Studio1\n    \u2022 Flutter plugin version 35.3.1\n    \u2022 Dart plugin version 183.6270\n    \u2022 Java version OpenJDK Runtime Environment (build 1.8.0_152-release-1343-b01)\n\n[\u221a] VS Code, 64-bit edition (version 1.39.2)\n    \u2022 VS Code at C:\\Program Files\\Microsoft VS Code\n    \u2022 Flutter extension version 3.5.1\n\n[\u221a] Connected device (1 available)\n    \u2022 Android SDK built for x86 \u2022 emulator-5554 \u2022 android-x86 \u2022 Android 10 (API 29) (emulator)\n\n\u2022 No issues found!\n</code></pre>\n"}, {"tags": ["flutter", "dart", "flutter-animation"], "comments": [{"owner": {"reputation": 604, "user_id": 2113970, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/BsCjm.jpg?s=128&g=1", "display_name": "Derek Fredrickson", "link": "https://stackoverflow.com/users/2113970/derek-fredrickson"}, "edited": false, "score": 0, "creation_date": 1572475504, "post_id": 58633562, "comment_id": 103576124, "body": "Does this work if you remove the .then((f) =&gt; _controller.reverse()) ?"}, {"owner": {"reputation": 735, "user_id": 10883652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49df9d272f5c8bc9621dc578f6bc0b8c?s=128&d=identicon&r=PG", "display_name": "E.Benedos", "link": "https://stackoverflow.com/users/10883652/e-benedos"}, "reply_to_user": {"reputation": 604, "user_id": 2113970, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/BsCjm.jpg?s=128&g=1", "display_name": "Derek Fredrickson", "link": "https://stackoverflow.com/users/2113970/derek-fredrickson"}, "edited": false, "score": 0, "creation_date": 1572504541, "post_id": 58633562, "comment_id": 103582373, "body": "No it doesn&#39;t work"}], "answers": [{"comments": [{"owner": {"reputation": 735, "user_id": 10883652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49df9d272f5c8bc9621dc578f6bc0b8c?s=128&d=identicon&r=PG", "display_name": "E.Benedos", "link": "https://stackoverflow.com/users/10883652/e-benedos"}, "edited": false, "score": 0, "creation_date": 1572504828, "post_id": 58634189, "comment_id": 103582438, "body": "I tried to use <code>_controller.repeat(reverse: true)</code> but it rotates indefinitely. Is there a way to specify only one rotation?"}, {"owner": {"reputation": 735, "user_id": 10883652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49df9d272f5c8bc9621dc578f6bc0b8c?s=128&d=identicon&r=PG", "display_name": "E.Benedos", "link": "https://stackoverflow.com/users/10883652/e-benedos"}, "edited": false, "score": 0, "creation_date": 1572534199, "post_id": 58634189, "comment_id": 103597379, "body": "It does not work, the animation is not executed. It seems like we are ask to execute animation before the page is ready. Adding an <code>await Future.delayed(Duration(seconds: 1));</code> before await <code>_controller.forward();</code> in your last suggested code it works but I think it is not the correct method"}, {"owner": {"reputation": 2756, "user_id": 10205629, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4U-c1ByHRNE/AAAAAAAAAAI/AAAAAAAAAE0/W_2Ku7_ISts/photo.jpg?sz=128", "display_name": "ValdaXD", "link": "https://stackoverflow.com/users/10205629/valdaxd"}, "reply_to_user": {"reputation": 735, "user_id": 10883652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49df9d272f5c8bc9621dc578f6bc0b8c?s=128&d=identicon&r=PG", "display_name": "E.Benedos", "link": "https://stackoverflow.com/users/10883652/e-benedos"}, "edited": false, "score": 0, "creation_date": 1572534684, "post_id": 58634189, "comment_id": 103597684, "body": "&#39; WidgetsBinding.instance.addPostFrameCallback&#39; is a function that is executed the first frame of build , so the page should be ready and the context should be complete... Could you please post the current code that you are using below , it might be a device problem but i can test it to check where it&#39;s failing"}, {"owner": {"reputation": 2756, "user_id": 10205629, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4U-c1ByHRNE/AAAAAAAAAAI/AAAAAAAAAE0/W_2Ku7_ISts/photo.jpg?sz=128", "display_name": "ValdaXD", "link": "https://stackoverflow.com/users/10205629/valdaxd"}, "reply_to_user": {"reputation": 735, "user_id": 10883652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49df9d272f5c8bc9621dc578f6bc0b8c?s=128&d=identicon&r=PG", "display_name": "E.Benedos", "link": "https://stackoverflow.com/users/10883652/e-benedos"}, "edited": false, "score": 1, "creation_date": 1572539709, "post_id": 58634189, "comment_id": 103600332, "body": "Yep , it may be a hardware problem , <a href=\"https://gfycat.com/spiritedneedydore\" rel=\"nofollow noreferrer\">gfycat.com/spiritedneedydore</a> , the only thing that i changed is the duration, the initial value to 0 , and the svg, check the edit"}, {"owner": {"reputation": 735, "user_id": 10883652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49df9d272f5c8bc9621dc578f6bc0b8c?s=128&d=identicon&r=PG", "display_name": "E.Benedos", "link": "https://stackoverflow.com/users/10883652/e-benedos"}, "edited": false, "score": 0, "creation_date": 1572545936, "post_id": 58634189, "comment_id": 103603075, "body": "It works! The problem was related to <code>value:1</code> and my <code>reverse()&#47;forward()</code> usage. If value is 0 you need to call <code>forward()</code> and then <code>reverse()</code>, if value is 1 you need to invert them. Both my first code and your code work perfectly using this rules, Flutter documentation is not clear about it. I will use your suggested code to be sure access the context safely."}, {"owner": {"reputation": 2756, "user_id": 10205629, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4U-c1ByHRNE/AAAAAAAAAAI/AAAAAAAAAE0/W_2Ku7_ISts/photo.jpg?sz=128", "display_name": "ValdaXD", "link": "https://stackoverflow.com/users/10205629/valdaxd"}, "reply_to_user": {"reputation": 735, "user_id": 10883652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49df9d272f5c8bc9621dc578f6bc0b8c?s=128&d=identicon&r=PG", "display_name": "E.Benedos", "link": "https://stackoverflow.com/users/10883652/e-benedos"}, "edited": false, "score": 0, "creation_date": 1572550608, "post_id": 58634189, "comment_id": 103605135, "body": "Yeah that little context hack is everywhere in my code, i use it for navigation, data , etc etc . I&#39;m glad it worked!"}], "tags": [], "owner": {"reputation": 2756, "user_id": 10205629, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4U-c1ByHRNE/AAAAAAAAAAI/AAAAAAAAAE0/W_2Ku7_ISts/photo.jpg?sz=128", "display_name": "ValdaXD", "link": "https://stackoverflow.com/users/10205629/valdaxd"}, "is_accepted": true, "score": 1, "last_activity_date": 1572539745, "last_edit_date": 1572539745, "creation_date": 1572472623, "answer_id": 58634189, "question_id": 58633562, "link": "https://stackoverflow.com/questions/58633562/how-to-start-automatically-animation-at-page-load-on-flutter/58634189#58634189", "title": "How to start automatically animation at page load on Flutter?", "body": "<p>Weird, maybe try using </p>\n\n<p><code>_controller.repeat(reverse: true);</code> </p>\n\n<p>instead of </p>\n\n<pre><code>_controller.forward().then((f) {\n      _controller.reverse();\n    });\n</code></pre>\n\n<p>oh and don't forget to dispose</p>\n\n<pre><code>@override\n  void dispose() {\n    _controller.dispose();\n    super.dispose();\n  }\n</code></pre>\n\n<p>and you can use this directly</p>\n\n<pre><code>RotationTransition(\n              turns:_controller,\n              child: SizedBox(\n                child: SvgPicture.asset('assets/app_logo.svg'),\n                height: 150,\n              ),\n            ),\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>So if i understood correctly you want to do this</p>\n\n<p>Loop forward an then backwards once,\nwhen the loop it's finished , navigate to a screen.</p>\n\n<p>My method would be this one</p>\n\n<pre><code>@override\n  void initState() {\n    super.initState();\n    _controller = AnimationController(\n        vsync: this, duration: Duration(milliseconds: 250), value: 1);\n    WidgetsBinding.instance.addPostFrameCallback((_)=&gt;loopOnce(context));//i add this to access the context safely.\n  }\n\n  Future&lt;void&gt; loopOnce(BuildContext context)async{\n    await _controller.forward();\n    await _controller.reverse();\n    //we can add duration here \n    //await Future.delayed(Duration(seconds: 4));\n    Navigator.of(context).push(MaterialPageRoute( // since this triggers when the animation is done, no duration is needed\n            builder: (context) =&gt; HomePage(),\n          ));\n  }\n</code></pre>\n\n<p>EDIT 2:</p>\n\n<pre><code>class Loader extends StatefulWidget {\n  const Loader();\n  @override\n  _LoaderState createState() =&gt; _LoaderState();\n}\n\nclass _LoaderState extends State&lt;Loader&gt; with SingleTickerProviderStateMixin {\n  AnimationController _controller;\n\n  @override\n  void initState() {\n    super.initState();\n    _controller = AnimationController(\n        vsync: this, duration: Duration(milliseconds: 1500), value: 0);\n\n    WidgetsBinding.instance.addPostFrameCallback(\n        (_) =&gt; loopOnce(context)); //i add this to access the context safely.\n  }\n\n  Future&lt;void&gt; loopOnce(BuildContext context) async {\n    // await Future.delayed(Duration(seconds: 1));\n    await _controller.forward();\n    await _controller.reverse();\n    //we can add duration here\n    await Future.delayed(Duration(seconds: 1));\n    Navigator.of(context).pushNamed('');\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Container(\n        color: const Color.fromARGB(255, 48, 48, 48),\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.stretch,\n          mainAxisSize: MainAxisSize.max,\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: &lt;Widget&gt;[\n            RotationTransition(\n              turns: _controller,\n              child: Container(\n                width: 150,\n                color: Colors.red,\n                height: 150,\n              ),\n            ),\n            const Padding(\n              padding: const EdgeInsets.only(top: 20.0),\n              child: Text(\n                \"Coin Flip\",\n                style: TextStyle(\n                  color: Colors.white,\n                  fontSize: 32,\n                ),\n                textAlign: TextAlign.center,\n              ),\n            )\n          ],\n        ),\n      ),\n    );\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 735, "user_id": 10883652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49df9d272f5c8bc9621dc578f6bc0b8c?s=128&d=identicon&r=PG", "display_name": "E.Benedos", "link": "https://stackoverflow.com/users/10883652/e-benedos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3923, "favorite_count": 0, "accepted_answer_id": 58634189, "answer_count": 1, "score": 2, "last_activity_date": 1572630382, "creation_date": 1572469173, "last_edit_date": 1572630382, "question_id": 58633562, "link": "https://stackoverflow.com/questions/58633562/how-to-start-automatically-animation-at-page-load-on-flutter", "title": "How to start automatically animation at page load on Flutter?", "body": "<p>I'm trying to implement a splash screen page in my app. I need to start automatically the animation when page is showed but the actual implementation does not work. The animation isn't executed on page open.</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:coin_flip_app/home_page.dart';\nimport 'package:flutter_svg/flutter_svg.dart';\n\nclass SplashScreenPage extends StatefulWidget {\n  SplashScreenPage({Key key}) : super(key: key);\n\n  @override\n  _SplashScreenPageState createState() =&gt; _SplashScreenPageState();\n}\n\nclass _SplashScreenPageState extends State&lt;SplashScreenPage&gt;\n    with SingleTickerProviderStateMixin {\n  AnimationController _controller;\n\n  @override\n  void initState() {\n    super.initState();\n    _controller = AnimationController(\n        vsync: this, duration: Duration(milliseconds: 250), value: 1);\n\n    Future.delayed(Duration(seconds: 4), () {\n      Navigator.push(\n          context,\n          MaterialPageRoute(\n            builder: (context) =&gt; HomePage(),\n          ));\n    });\n\n    _controller.forward().then((f) {\n      _controller.reverse();\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Container(\n        color: const Color.fromARGB(255, 48, 48, 48),\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.stretch,\n          mainAxisSize: MainAxisSize.max,\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: &lt;Widget&gt;[\n            RotationTransition(\n              turns: Tween(begin: 0.0, end: 1.0).animate(_controller),\n              child: SizedBox(\n                child: SvgPicture.asset('assets/app_logo.svg'),\n                height: 150,\n              ),\n            ),\n            const Padding(\n              padding: const EdgeInsets.only(top: 20.0),\n              child: Text(\n                \"My App\",\n                style: TextStyle(\n                  color: Colors.white,\n                  fontSize: 32,\n                ),\n                textAlign: TextAlign.center,\n              ),\n            )\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>If I try to invoke the animation with a <code>onTap()</code> event with GestureDetector it works. But I need that it starts and complete without user input but automatically.</p>\n\n<p><strong>UPDATE #1</strong></p>\n\n<p>This is the updated code. It is also not working. It works only uncommenting the first <code>// await Future.delayed(Duration(seconds: 1));</code> but I think it is only a workaround but not the final solution</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:coin_flip_app/home_page.dart';\nimport 'package:flutter_svg/flutter_svg.dart';\n\nclass SplashScreenPage extends StatefulWidget {\n  SplashScreenPage({Key key}) : super(key: key);\n\n  @override\n  _SplashScreenPageState createState() =&gt; _SplashScreenPageState();\n}\n\nclass _SplashScreenPageState extends State&lt;SplashScreenPage&gt;\n    with SingleTickerProviderStateMixin {\n  AnimationController _controller;\n\n  @override\n  void initState() {\n    super.initState();\n    _controller = AnimationController(\n        vsync: this, duration: Duration(milliseconds: 250), value: 1);\n\n    WidgetsBinding.instance.addPostFrameCallback(\n        (_) =&gt; loopOnce(context)); //i add this to access the context safely.\n  }\n\n  Future&lt;void&gt; loopOnce(BuildContext context) async {\n    // await Future.delayed(Duration(seconds: 1));\n    await _controller.forward();\n    await _controller.reverse();\n    //we can add duration here\n    await Future.delayed(Duration(seconds: 1));\n    Navigator.of(context).push(MaterialPageRoute(\n      // since this triggers when the animation is done, no duration is needed\n      builder: (context) =&gt; HomePage(),\n    ));\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Container(\n        color: const Color.fromARGB(255, 48, 48, 48),\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.stretch,\n          mainAxisSize: MainAxisSize.max,\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: &lt;Widget&gt;[\n            RotationTransition(\n              turns: _controller,\n              child: SizedBox(\n                child: SvgPicture.asset('assets/app_logo.svg'),\n                height: 150,\n              ),\n            ),\n            const Padding(\n              padding: const EdgeInsets.only(top: 20.0),\n              child: Text(\n                \"My App\",\n                style: TextStyle(\n                  color: Colors.white,\n                  fontSize: 32,\n                ),\n                textAlign: TextAlign.center,\n              ),\n            )\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["testing", "flutter", "dart", "widget"], "answers": [{"tags": [], "owner": {"reputation": 2596, "user_id": 7409774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HDIOj.png?s=128&g=1", "display_name": "Milind Mevada", "link": "https://stackoverflow.com/users/7409774/milind-mevada"}, "is_accepted": false, "score": 2, "last_activity_date": 1572500518, "creation_date": 1572500518, "answer_id": 58637451, "question_id": 58633492, "link": "https://stackoverflow.com/questions/58633492/how-to-test-a-callback-function-in-a-flutter-widget/58637451#58637451", "title": "How to test a callback function in a Flutter widget", "body": "<p>In the body of a Callback function, you can print the received arguments, and then expect if it prints correctly.</p>\n\n<p>Here is another sample doing a similar test:</p>\n\n<p><strong>CHILD OF A TESTING WIDGET:</strong></p>\n\n<pre><code>...\n...\n\nCheckbox(\n     key: Key('StatusCheckBox'),\n     value: isCompleted,\n     onChanged: (_) =&gt; toggleCompletionStatus(),\n ),\n\n...\n...\n\n</code></pre>\n\n<p>I'm passing <code>print('Call')</code> as a body of <code>toggleCompletionStatus()</code></p>\n\n<p><strong>Which can be tested this way:</strong></p>\n\n<pre><code>expectLater(\n        () =&gt; tester.tap(find.byKey(Key('StatusCheckBox'))), prints('Call\\n'));\n</code></pre>\n"}], "owner": {"reputation": 543, "user_id": 225792, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/56955279ef0774966af5ba4ac643efcb?s=128&d=identicon&r=PG", "display_name": "tooba", "link": "https://stackoverflow.com/users/225792/tooba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1109, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1572500518, "creation_date": 1572468808, "question_id": 58633492, "link": "https://stackoverflow.com/questions/58633492/how-to-test-a-callback-function-in-a-flutter-widget", "title": "How to test a callback function in a Flutter widget", "body": "<p>I have a custom Flutter widget, RadioSelect, which accepts an array of options and a callback function when one of those options is pressed. The callback is called with the selected option passed as it's only parameter. I'm trying to write a test which verifies that the callback was called and checks that the returned parameter is correct but I'm not sure how to structure it. What's a sensible way to check that a standalone callback function was called?</p>\n\n<pre><code>  await tester.pumpWidget(\n    StatefulBuilder(\n      builder: (BuildContext context, StateSetter setState) {\n        return MaterialApp(\n          home:  RadioSelect(\n                                [\"option1\",\"option2\", \"option3\"], \n                                // callback function passed here\n                                ),\n            );\n      },\n    ),\n  );\n\nexpect(find.text('option1'), findsOneWidget);\n\nawait tester.press(find.text('option2'));\n\nawait tester.pump();\n\n// test for callback here\n</code></pre>\n"}, {"tags": ["sqlite", "flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 898, "user_id": 12267564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jV86X.png?s=128&g=1", "display_name": "lazos", "link": "https://stackoverflow.com/users/12267564/lazos"}, "is_accepted": false, "score": 0, "last_activity_date": 1572467333, "creation_date": 1572467333, "answer_id": 58633190, "question_id": 58632746, "link": "https://stackoverflow.com/questions/58632746/how-to-deserialize-a-string-representation-of-a-list-of-maps-in-dart/58633190#58633190", "title": "How to deserialize a string representation of a list of maps in Dart", "body": "<p>I suppose you are using sqflite plugin, as <a href=\"https://github.com/tekartik/sqflite/blob/master/sqflite/doc/supported_types.md\" rel=\"nofollow noreferrer\">documentation</a> says:</p>\n\n<blockquote>\n  <p>Nested content is not supported </p>\n</blockquote>\n\n<p>So you have two options:</p>\n\n<ul>\n<li>flatten the hierarchy  </li>\n<li>encode nested maps and lists as json (or other format), declaring the column as a String.</li>\n</ul>\n\n<p>You can also check this <a href=\"https://steemit.com/programming/@tstieff/using-sqflite-in-your-flutter-applicaiton-effectively\" rel=\"nofollow noreferrer\">example</a></p>\n\n<p>hope it helps</p>\n"}], "owner": {"reputation": 261, "user_id": 8696660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/092df9fd51c29dd7ee6036fbd0efdbae?s=128&d=identicon&r=PG&f=1", "display_name": "Zebrastian", "link": "https://stackoverflow.com/users/8696660/zebrastian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572467333, "creation_date": 1572465316, "question_id": 58632746, "link": "https://stackoverflow.com/questions/58632746/how-to-deserialize-a-string-representation-of-a-list-of-maps-in-dart", "title": "How to deserialize a string representation of a list of maps in Dart", "body": "<p>I have a representation of a movie I store in an SQLite database. It consists of an id and a list of genres.</p>\n\n<p>A genre consists of an id and a name.</p>\n\n<p>I'm having trouble deserializing the list of genres after having to flatten the hierarchy to store it as a string in the database.</p>\n\n<p>The list of genres looks like the following in the database:</p>\n\n<pre><code>[{id: 1, name: Comedy}, {id: 2, name: Drama}]\n</code></pre>\n\n<p>How do I deserialize the database row into an object of my Movie class?</p>\n\n<pre><code>class Genre {\n  int id;\n  String name;\n  Genre({this.id, this.name});\n  factory Genre.fromMap(Map&lt;String, dynamic&gt; map) =&gt; Genre(\n        id: map[\"id\"],\n        name: map[\"name\"],\n      );\n\n  Map&lt;String, dynamic&gt; toMap() =&gt; {\n        \"id\": id,\n        \"name\": name,\n      };\n}\n\nclass Movie {\n  int id;\n  List&lt;Genre&gt; genres;\n  Movie({this.id, this.genres});\n\n  factory SqLiteMovie.fromMap(Map&lt;String, dynamic&gt; map) =&gt; SqLiteMovie(\n        id: map[\"id\"],\n        genres: List&lt;Genre&gt;.from(map[\"genres\"].map((x) =&gt; Genre.fromMap(x))), // offending line\n      );\n\n  Map&lt;String, dynamic&gt; toMap() =&gt; {\n        \"id\": id,\n        \"genres\": List&lt;dynamic&gt;.from(genres.map((x) =&gt; x.toMap())).toString(), // need toString to store in db\n      };\n}\n</code></pre>\n"}, {"tags": ["design-patterns", "flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 483, "user_id": 3072517, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f67dfd35ea57e64714cf98f001a582cc?s=128&d=identicon&r=PG&f=1", "display_name": "user3072517", "link": "https://stackoverflow.com/users/3072517/user3072517"}, "edited": false, "score": 0, "creation_date": 1573054717, "post_id": 58633126, "comment_id": 103757597, "body": "Ah yes!   Reversing the encapsulation and returning a vehicle instead.   That seems a much cleaner way of handling an extensible class rather than trying to build up an inheritance model approach."}], "tags": [], "owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "is_accepted": true, "score": 2, "last_activity_date": 1572467361, "last_edit_date": 1572467361, "creation_date": 1572467045, "answer_id": 58633126, "question_id": 58632550, "link": "https://stackoverflow.com/questions/58632550/how-do-i-define-an-abstract-widget/58633126#58633126", "title": "How do I define an Abstract Widget?", "body": "<p>I think what you really want is something like this and I will use Flutter Dart code instead of pseudocode:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class Vehicle extends StatelessWidget {\n  final int type;\n  final String name;\n  final Widget list, edit, settings;\n\n  const Vehicle({Key key, this.type, this.name, this.list, this.edit, this.settings}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) =&gt; Row(children: &lt;Widget&gt;[list, edit, settings]);\n}\n\nclass Truck extends StatelessWidget {\n  const Truck({Key key}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) =&gt; Vehicle(\n        type: 1,\n        name: 'Truck',\n        list: Column(),\n        edit: const Icon(Icons.edit),\n        settings: Checkbox(),\n      );\n}\n\nclass Car extends StatelessWidget {\n  const Car({Key key}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) =&gt; Vehicle(\n    type: 2,\n    name: 'Car',\n    list: Column(),\n    edit: const Icon(Icons.edit_location),\n    settings: ToggleButtons(...),\n  );\n}\n</code></pre>\n\n<p>As you can see, you can have a predefined <code>Vehicle</code> class that defines parameters and also handles laying out all the information you want to dynamically display for different vehicles.<br>\nNow, you can implement a specific vehicle by creating another widget that returns <code>Vehicle</code> in its build method.  </p>\n\n<p>Obviously, the layout widgets I chose <code>Row</code>, <code>Column</code>, etc. are only meant as placeholders, but you can actually implement your layout logic using this approach.  </p>\n\n<p>I would say that this is a more idiomatic approach for widgets.</p>\n\n<hr>\n\n<p>Regarding your example: you should probably not store widgets in a <code>List</code> when using <code>ListView.builder</code>, but you can dynamically instantiate your widgets in the <code>builder</code> function. This is also better performance-wise if you can utilize <code>ListView.builder</code>. If you cannot dynamically create your items, you can just use <a href=\"https://api.flutter.dev/flutter/widgets/ListView/ListView.html\" rel=\"nofollow noreferrer\"><code>ListView</code></a> instead and store your widgets in a list.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>builder: () {\n  if (items[index]['type'] == 'car')\n    return Car(...);\n\n  return Truck(...);\n}\n</code></pre>\n"}], "owner": {"reputation": 483, "user_id": 3072517, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f67dfd35ea57e64714cf98f001a582cc?s=128&d=identicon&r=PG&f=1", "display_name": "user3072517", "link": "https://stackoverflow.com/users/3072517/user3072517"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 353, "favorite_count": 1, "accepted_answer_id": 58633126, "answer_count": 1, "score": 2, "last_activity_date": 1572467361, "creation_date": 1572464350, "last_edit_date": 1572467114, "question_id": 58632550, "link": "https://stackoverflow.com/questions/58632550/how-do-i-define-an-abstract-widget", "title": "How do I define an Abstract Widget?", "body": "<p>Since Dart/Flutter uses a composition style approach to building widgets (coupling that with how scoped model operates) what is a good pattern for developing a library of objects that encapsulate widgets?</p>\n\n<p>Assume you have an application that allows you to display a list of objects within a list view that each have their own way displaying their information, but all have the same approach for doing so.</p>\n\n<p>Consider the following pseudo-code, which takes the approach of encapsulating all of the required widgets and other such properties/methods needed for each object to follow.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>abstract class Vehicle {\n  int type;\n  String name;\n  Widget listWidget\n  Widget editWidget\n  Widget settingsWidget\n}\n\nclass Truck extends Vehicle {\n  type = 1\n  name = \"Truck\"\n  listWidget = ... My truck widget for within lists...\n  editWidget = ... My truck edit widget ...\n  settingsWidget = ... My truck settings display ...\n}\n\nclass Car extends Vehicle {\n  type = 1\n  name = \"Car\"\n  listWidget = ... My car widget for within lists...\n  editWidget = ... My car edit widget ...\n  settingsWidget = ... My car settings display ...\n}\n</code></pre>\n\n<p>With that approach, then I would have to create each vehicle type and follow the abstract api pattern and not worry about how it is rendered.   </p>\n\n<p>When it comes to displaying the vehicles within a list (ListView for example), this approach would allows the object itself to dictate how it is rendered in that list, and it could be unique to each type of vehicle.   </p>\n\n<p>For example:</p>\n\n<pre><code>    Container(\n        child: new ListView.builder(\n            itemCount: items.length,\n            itemBuilder: (BuildContext ctxt, int index) {\n                return items[index].listWidget;\n            }\n        )\n    )\n</code></pre>\n\n<p>Is this a valid Dart/Flutter way of accomplishing this or is there a better pattern that should be followed?</p>\n\n<p>Am I violating Dart recommended coding patterns in that each widget would control it's own display?   </p>\n\n<p>The idea behind this is that if a settings panel needed to be formatted differently depending on the type of vehicle, I could do it, rather than trying to figure out how to create a common display pattern for all widgets.</p>\n\n<p>Thoughts?</p>\n"}, {"tags": ["arrays", "dictionary", "dart"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11416711, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RVVNUHPFIE0/AAAAAAAAAAI/AAAAAAAAAAA/iytlYHktbLA/photo.jpg?sz=128", "display_name": "Joao Paulo Fechine Sette", "link": "https://stackoverflow.com/users/11416711/joao-paulo-fechine-sette"}, "edited": false, "score": 0, "creation_date": 1572521574, "post_id": 58632890, "comment_id": 103590187, "body": "Thanks. Very clean."}], "tags": [], "owner": {"reputation": 11572, "user_id": 1953515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b08d90afd96271299a4dc0fcf672f2?s=128&d=identicon&r=PG", "display_name": "julemand101", "link": "https://stackoverflow.com/users/1953515/julemand101"}, "is_accepted": true, "score": 2, "last_activity_date": 1572465970, "creation_date": 1572465970, "answer_id": 58632890, "question_id": 58632008, "link": "https://stackoverflow.com/questions/58632008/how-to-sort-this-array-map-in-dart/58632890#58632890", "title": "How to sort this array/map in Dart?", "body": "<p>I am not sure what you want to sort after but I am going to guess it is by date from the \"data\" value. Please take a look at this implementation and tell me if there are anything you don't understand:</p>\n\n<pre><code>void main() {\n  final training = [\n    {\"data\": \"15/10/2019\", \"pic\": \"assets/images/foto3.jpg\"},\n    {\"data\": \"10/10/2019\", \"pic\": \"assets/images/foto5.jpg\"},\n    {\"data\": \"15/10/2019\", \"pic\": \"assets/images/foto4.jpg\"},\n    {\"data\": \"30/10/2019\", \"pic\": \"assets/images/bocateam.jpg\"},\n    {\"data\": \"17/10/2019\", \"pic\": \"assets/images/foto2.jpg\"},\n  ];\n\n  training.sort((map1, map2) {\n    final date1 = parseDate(map1['data']);\n    final date2 = parseDate(map2['data']);\n    return date1.compareTo(date2);\n  });\n\n  training.forEach(print);\n  //  {data: 10/10/2019, pic: assets/images/foto5.jpg}\n  //  {data: 15/10/2019, pic: assets/images/foto3.jpg}\n  //  {data: 15/10/2019, pic: assets/images/foto4.jpg}\n  //  {data: 17/10/2019, pic: assets/images/foto2.jpg}\n  //  {data: 30/10/2019, pic: assets/images/bocateam.jpg}\n}\n\n// Format: 15/10/2019\nDateTime parseDate(String date) {\n  final parts = date.split('/');\n  return DateTime(\n      int.parse(parts[2]), int.parse(parts[1]), int.parse(parts[0]));\n}\n</code></pre>\n\n<p>The implementation could be more efficient if each date are first converted to <code>DateTime</code> objects so we don't need to convert each object multiple times when we sort. But if the list are rather short it is not a major problem.</p>\n"}], "owner": {"reputation": 13, "user_id": 11416711, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RVVNUHPFIE0/AAAAAAAAAAI/AAAAAAAAAAA/iytlYHktbLA/photo.jpg?sz=128", "display_name": "Joao Paulo Fechine Sette", "link": "https://stackoverflow.com/users/11416711/joao-paulo-fechine-sette"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 58632890, "answer_count": 1, "score": 0, "last_activity_date": 1572465970, "creation_date": 1572461586, "question_id": 58632008, "link": "https://stackoverflow.com/questions/58632008/how-to-sort-this-array-map-in-dart", "title": "How to sort this array/map in Dart?", "body": "<p>How to sort this map/array from \"data\" in Dart?</p>\n\n<pre><code>var training = [\n  {\"data\" : \"15/10/2019\" , \"pic\" : \"assets/images/foto3.jpg\"},\n  {\"data\" : \"10/10/2019\" , \"pic\" : \"assets/images/foto5.jpg\"},\n  {\"data\" : \"15/10/2019\" , \"pic\" : \"assets/images/foto4.jpg\"},\n  {\"data\" : \"30/10/2019\" , \"pic\" : \"assets/images/bocateam.jpg\"},\n  {\"data\" : \"17/10/2019\" , \"pic\" : \"assets/images/foto2.jpg\"},\n];\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 953, "user_id": 3864551, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/f3ays.jpg?s=128&g=1", "display_name": "Julien Lachal", "link": "https://stackoverflow.com/users/3864551/julien-lachal"}, "edited": false, "score": 0, "creation_date": 1572506112, "post_id": 58631613, "comment_id": 103582851, "body": "How about using Firebase and pushing messages to the app whenever there is a database change (from your backend)?"}, {"owner": {"reputation": 507, "user_id": 9216577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6c7133d6a88dd5adb32bced4299e501?s=128&d=identicon&r=PG&f=1", "display_name": "ali", "link": "https://stackoverflow.com/users/9216577/ali"}, "reply_to_user": {"reputation": 953, "user_id": 3864551, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/f3ays.jpg?s=128&g=1", "display_name": "Julien Lachal", "link": "https://stackoverflow.com/users/3864551/julien-lachal"}, "edited": false, "score": 0, "creation_date": 1572574027, "post_id": 58631613, "comment_id": 103611162, "body": "@JulienLachal you have any reference? is it using the push notification cloud messaging?"}, {"owner": {"reputation": 953, "user_id": 3864551, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/f3ays.jpg?s=128&g=1", "display_name": "Julien Lachal", "link": "https://stackoverflow.com/users/3864551/julien-lachal"}, "edited": false, "score": 0, "creation_date": 1572593015, "post_id": 58631613, "comment_id": 103614736, "body": "give <a href=\"https://firebase.google.com/docs/flutter/setup\" rel=\"nofollow noreferrer\">this page</a> a look, they even have examples."}], "owner": {"reputation": 507, "user_id": 9216577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6c7133d6a88dd5adb32bced4299e501?s=128&d=identicon&r=PG&f=1", "display_name": "ali", "link": "https://stackoverflow.com/users/9216577/ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 516, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1572459874, "creation_date": 1572459874, "question_id": 58631613, "link": "https://stackoverflow.com/questions/58631613/avoid-data-polling-for-flutter", "title": "Avoid data polling for Flutter", "body": "<p>So basically, right now i'm currently call API from the backend every 2 second to get the realtime if there's any changes occur. What i'm facing is polling which is not good since it can drain handphone battery. Is there a way for me to avoid polling, for example the app can detect only if there's changes with the database</p>\n"}, {"tags": ["android", "flutter", "dart", "android-webview"], "comments": [{"owner": {"reputation": 2690, "user_id": 5546443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MqHNK.jpg?s=128&g=1", "display_name": "krishnakumarcn", "link": "https://stackoverflow.com/users/5546443/krishnakumarcn"}, "edited": false, "score": 0, "creation_date": 1608271544, "post_id": 58630022, "comment_id": 115537558, "body": "did you found any soultion.? facing the same issue."}], "answers": [{"comments": [{"owner": {"reputation": 4519, "user_id": 65886, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/190dcb0c75edf9c5c80153e24de6d5ac?s=128&d=identicon&r=PG", "display_name": "Al C", "link": "https://stackoverflow.com/users/65886/al-c"}, "edited": false, "score": 0, "creation_date": 1572474530, "post_id": 58634363, "comment_id": 103575865, "body": "Thanks, @ValdaXD; I look forward to trying this. Keeping in mind my newbie-ness, will I need some sort of conditional code if I someday compile for a tablet or iOS device, or will the one userAgent string work well everywhere?"}, {"owner": {"reputation": 2756, "user_id": 10205629, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4U-c1ByHRNE/AAAAAAAAAAI/AAAAAAAAAE0/W_2Ku7_ISts/photo.jpg?sz=128", "display_name": "ValdaXD", "link": "https://stackoverflow.com/users/10205629/valdaxd"}, "reply_to_user": {"reputation": 4519, "user_id": 65886, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/190dcb0c75edf9c5c80153e24de6d5ac?s=128&d=identicon&r=PG", "display_name": "Al C", "link": "https://stackoverflow.com/users/65886/al-c"}, "edited": false, "score": 1, "creation_date": 1572530705, "post_id": 58634363, "comment_id": 103595261, "body": "Yeah, the User Agent string is accepted by the webpage and the webpage doesn&#39;t even try to tell if it is right , try checking the articles about this , like <a href=\"https://www.howtogeek.com/114937/htg-explains-whats-a-browser-user-agent/\" rel=\"nofollow noreferrer\">howtogeek.com/114937/htg-explains-whats-a-browser-user-agent</a> , it should work on Ios, android, an obviously web browsers"}, {"owner": {"reputation": 4519, "user_id": 65886, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/190dcb0c75edf9c5c80153e24de6d5ac?s=128&d=identicon&r=PG", "display_name": "Al C", "link": "https://stackoverflow.com/users/65886/al-c"}, "edited": false, "score": 0, "creation_date": 1572541733, "post_id": 58634363, "comment_id": 103601327, "body": "Sadly for me, the page displayed the same way. But +1 for the clarity and completeness of your response. I appreciate the link(s)."}], "tags": [], "owner": {"reputation": 2756, "user_id": 10205629, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4U-c1ByHRNE/AAAAAAAAAAI/AAAAAAAAAE0/W_2Ku7_ISts/photo.jpg?sz=128", "display_name": "ValdaXD", "link": "https://stackoverflow.com/users/10205629/valdaxd"}, "is_accepted": false, "score": 1, "last_activity_date": 1572473690, "creation_date": 1572473690, "answer_id": 58634363, "question_id": 58630022, "link": "https://stackoverflow.com/questions/58630022/how-to-display-web-pages-responsively-in-a-flutter-android-app/58634363#58634363", "title": "How to display web pages responsively in a Flutter Android app?", "body": "<p>try changing the userAgent of <a href=\"https://pub.dev/packages/flutter_webview_plugin\" rel=\"nofollow noreferrer\">https://pub.dev/packages/flutter_webview_plugin</a> for a chrome one , you can find them <a href=\"https://developer.chrome.com/multidevice/user-agent\" rel=\"nofollow noreferrer\">here</a></p>\n\n<pre><code>Future&lt;Null&gt; launch(String url, {\n   bool withJavascript: true,\n   String userAgent : 'Mozilla/5.0 (Linux; &lt;Android Version&gt;; &lt;Build Tag etc.&gt;) AppleWebKit/&lt;WebKit Rev&gt; (KHTML, like Gecko) Chrome/&lt;Chrome Rev&gt; Mobile Safari/&lt;WebKit Rev&gt;'\n});\n</code></pre>\n"}], "owner": {"reputation": 4519, "user_id": 65886, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/190dcb0c75edf9c5c80153e24de6d5ac?s=128&d=identicon&r=PG", "display_name": "Al C", "link": "https://stackoverflow.com/users/65886/al-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1034, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1576831191, "creation_date": 1572453436, "last_edit_date": 1576831191, "question_id": 58630022, "link": "https://stackoverflow.com/questions/58630022/how-to-display-web-pages-responsively-in-a-flutter-android-app", "title": "How to display web pages responsively in a Flutter Android app?", "body": "<p>I would like to get web pages to display responsively in my Flutter apps, and am unable to do so. They display as if the screen/viewport was much wider. For example, a page that looks like this in Android Chrome:</p>\n\n<p><a href=\"https://i.stack.imgur.com/enrVb.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/enrVb.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>ends up looking like this in my app (regardless of the package I use):</p>\n\n<p><a href=\"https://i.stack.imgur.com/AqQ0T.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AqQ0T.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I have experimented with both the <code>webview_flutter</code> and <code>flutter_webview_plugin</code> packages, including experimenting with several <code>flutter_webview_plugin</code> functions, turning them on and off:</p>\n\n<pre><code>Future&lt;Null&gt; launch(String url, {\n   bool withJavascript: true,\n   bool enableAppScheme: true,\n   bool withZoom: false,\n   bool scrollBar: true,\n   bool displayZoomControls: false,\n   bool useWideViewPort: false,\n});\n</code></pre>\n\n<p>I'm starting to think the solution isn't in Flutter or its packages, but maybe something like manipulating the Android manifest file (hence the <code>android</code> and <code>android-webview</code> tags)?  </p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 11993, "user_id": 10563627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xQL2O.jpg?s=128&g=1", "display_name": "Paresh Mangukiya", "link": "https://stackoverflow.com/users/10563627/paresh-mangukiya"}, "edited": false, "score": 1, "creation_date": 1593092498, "post_id": 58629838, "comment_id": 110663345, "body": "Here&#39;s the solution: <a href=\"https://stackoverflow.com/a/62576710/10563627\">stackoverflow.com/a/62576710/10563627</a>"}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 9388806, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sDQVV4nMHfk/AAAAAAAAAAI/AAAAAAAAAPI/WBN-8gTwzGs/photo.jpg?sz=128", "display_name": "Clueless", "link": "https://stackoverflow.com/users/9388806/clueless"}, "edited": false, "score": 0, "creation_date": 1588423647, "post_id": 58635777, "comment_id": 108892222, "body": "I ran the example code. but it didn&#39;t work. Your screenshot isn&#39;t the same as the OP provided."}], "tags": [], "owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "is_accepted": true, "score": 6, "last_activity_date": 1572485346, "creation_date": 1572485346, "answer_id": 58635777, "question_id": 58629838, "link": "https://stackoverflow.com/questions/58629838/how-to-set-gradient-color-to-icons-in-flutter/58635777#58635777", "title": "How to set Gradient Color to Icons in Flutter?", "body": "<p>You can use ShaderMask <br>\nYou can run full code below <br></p>\n\n<p>code snippet </p>\n\n<pre><code>Tab(icon: ShaderMask(\n                    blendMode: BlendMode.srcIn,\n                    shaderCallback: (Rect bounds) {\n                      return ui.Gradient.linear(\n                        Offset(4.0, 24.0),\n                        Offset(24.0, 4.0),\n                        [\n                          Colors.blue[200],\n                          Colors.greenAccent,\n                        ],\n                      );\n                    },\n                    child: Icon(Icons.search)))\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ol534.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ol534.png\" alt=\"enter image description here\"></a></p>\n\n<p>full code</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'dart:ui' as ui;\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Flutter Demo',\n      theme: ThemeData(\n        // This is the theme of your application.\n        //\n        // Try running your application with \"flutter run\". You'll see the\n        // application has a blue toolbar. Then, without quitting the app, try\n        // changing the primarySwatch below to Colors.green and then invoke\n        // \"hot reload\" (press \"r\" in the console where you ran \"flutter run\",\n        // or simply save your changes to \"hot reload\" in a Flutter IDE).\n        // Notice that the counter didn't reset back to zero; the application\n        // is not restarted.\n        primarySwatch: Colors.blue,\n      ),\n      home: TabBarDemo(),\n    );\n  }\n}\n\n\nclass TabBarDemo extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: DefaultTabController(\n        length: 3,\n        child: Scaffold(\n          appBar: AppBar(\n            bottom: TabBar(\n              tabs: [\n                Tab(icon: ShaderMask(\n                    blendMode: BlendMode.srcIn,\n                    shaderCallback: (Rect bounds) {\n                      return ui.Gradient.linear(\n                        Offset(4.0, 24.0),\n                        Offset(24.0, 4.0),\n                        [\n                          Colors.blue[200],\n                          Colors.greenAccent,\n                        ],\n                      );\n                    },\n                    child: Icon(Icons.search))),\n                Tab(icon: ShaderMask(\n                    blendMode: BlendMode.srcIn,\n                    shaderCallback: (Rect bounds) {\n                      return ui.Gradient.linear(\n                        Offset(4.0, 24.0),\n                        Offset(24.0, 4.0),\n                        [\n                          Colors.blue[200],\n                          Colors.greenAccent,\n                        ],\n                      );\n                    },\n                    child: Icon(Icons.star))),\n                Tab(icon: ShaderMask(\n                    blendMode: BlendMode.srcIn,\n                    shaderCallback: (Rect bounds) {\n                      return ui.Gradient.linear(\n                        Offset(4.0, 24.0),\n                        Offset(24.0, 4.0),\n                        [\n                          Colors.blue[200],\n                          Colors.greenAccent,\n                        ],\n                      );\n                    },\n                    child: Icon(Icons.account_circle))),\n              ],\n            ),\n            title: Text('Tabs Demo'),\n          ),\n          body: TabBarView(\n            children: [\n              Icon(Icons.directions_car),\n              Icon(Icons.directions_transit),\n              Icon(Icons.directions_bike),\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 12285422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ae66e422ebfb4b2fa07d73aac977b91?s=128&d=identicon&r=PG&f=1", "display_name": "mdv", "link": "https://stackoverflow.com/users/12285422/mdv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2623, "favorite_count": 0, "accepted_answer_id": 58635777, "answer_count": 1, "score": 5, "last_activity_date": 1572485346, "creation_date": 1572452696, "question_id": 58629838, "link": "https://stackoverflow.com/questions/58629838/how-to-set-gradient-color-to-icons-in-flutter", "title": "How to set Gradient Color to Icons in Flutter?", "body": "<p>How can I make the color of my Icons gradient?</p>\n\n<p>See the example below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/OQiM5.png\" rel=\"noreferrer\">Click Here to see the Example</a></p>\n\n<p>My Code as of now...</p>\n\n<pre><code>appBar: AppBar(\n            backgroundColor: Colors.white,\n            bottom: TabBar(\n              labelColor: (Colors.blue),\n              indicatorColor: Colors.blue,\n              unselectedLabelColor: Colors.grey,\n              tabs: [\n                Tab(icon: Icon(Icons.search,size: 40,)),\n                Tab(icon: Icon(Icons.star,size: 40,)),\n                Tab(icon: Icon(Icons.account_circle,size: 40,)),\n              ],\n            ),\n          ),\n</code></pre>\n"}, {"tags": ["flutter", "dart", "flutter-theme"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5665511, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-38M0Ulozk_g/AAAAAAAAAAI/AAAAAAAAAEI/NROU5KPcjhY/photo.jpg?sz=128", "display_name": "Mario Santos", "link": "https://stackoverflow.com/users/5665511/mario-santos"}, "edited": false, "score": 0, "creation_date": 1572523752, "post_id": 58630416, "comment_id": 103591358, "body": "Thanks, but I need to change the outline and label&#39;s color on focus, I&#39;ll edit my question."}], "tags": [], "owner": {"reputation": 251, "user_id": 7103429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99687469d75166866115f376c930bb0e?s=128&d=identicon&r=PG&f=1", "display_name": "Davide Bicego", "link": "https://stackoverflow.com/users/7103429/davide-bicego"}, "is_accepted": false, "score": 0, "last_activity_date": 1572454948, "creation_date": 1572454948, "answer_id": 58630416, "question_id": 58629512, "link": "https://stackoverflow.com/questions/58629512/how-to-set-textformfield-to-use-primary-coloron-focus-in-flutter/58630416#58630416", "title": "How to set TextFormField to use primary color(on focus) in Flutter", "body": "<p>Try setting the style in your TextFormField like:</p>\n\n<pre><code>style: TextStyle(\n   color: Theme.of(context).primaryColor\n),\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 5665511, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-38M0Ulozk_g/AAAAAAAAAAI/AAAAAAAAAEI/NROU5KPcjhY/photo.jpg?sz=128", "display_name": "Mario Santos", "link": "https://stackoverflow.com/users/5665511/mario-santos"}, "edited": false, "score": 0, "creation_date": 1572523878, "post_id": 58630811, "comment_id": 103591414, "body": "It works, but I need to change the outline and label&#39;s color on focus, I&#39;ll edit my question, thank u."}], "tags": [], "owner": {"reputation": 250, "user_id": 4142994, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9b0416dd6aadc116e3ac896ac1664cd6?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/4142994/daniel"}, "is_accepted": false, "score": 0, "last_activity_date": 1572456527, "creation_date": 1572456527, "answer_id": 58630811, "question_id": 58629512, "link": "https://stackoverflow.com/questions/58629512/how-to-set-textformfield-to-use-primary-coloron-focus-in-flutter/58630811#58630811", "title": "How to set TextFormField to use primary color(on focus) in Flutter", "body": "<p><strong>utils.dart</strong> </p>\n\n<pre><code>class AvailableFonts {\n  static const primaryFont = \"Quicksand\";\n  static const primaryFontSize = 14.0;\n}\n</code></pre>\n\n<p><strong>theme.dart</strong></p>\n\n<p>place it in <code>lib</code> folder as <code>main</code></p>\n\n<pre><code>ThemeData buildThemeData() {\n  final baseTheme = ThemeData(fontFamily: AvailableFonts.primaryFont);\n\n return baseTheme.copyWith(\n   primaryColor: primaryColor,\n   primaryColorDark: primaryDark,\n   primaryColorLight: primaryLight,\n   accentColor: secondaryColor,\n);}\n</code></pre>\n\n<p>And, where you define your colours</p>\n\n<p><strong>colours.dart</strong></p>\n\n<pre><code>const primaryColor = Colors.red;\nconst primaryLight = const Color(0xFFB71C1C);\nconst primaryDark = const Color(0xFFFF9F59);\nconst secondaryColor = Colors.white;\n</code></pre>\n\n<p>There after, you can simply use as an example bellow:</p>\n\n<p><code>color: primaryColor,</code></p>\n"}], "owner": {"reputation": 1, "user_id": 5665511, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-38M0Ulozk_g/AAAAAAAAAAI/AAAAAAAAAEI/NROU5KPcjhY/photo.jpg?sz=128", "display_name": "Mario Santos", "link": "https://stackoverflow.com/users/5665511/mario-santos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 366, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1572523956, "creation_date": 1572451571, "last_edit_date": 1572523956, "question_id": 58629512, "link": "https://stackoverflow.com/questions/58629512/how-to-set-textformfield-to-use-primary-coloron-focus-in-flutter", "title": "How to set TextFormField to use primary color(on focus) in Flutter", "body": "<p>I need to change label and border's default color to use the primary color on focus, and i've already tried InputDecorationTheme, but it doesn't work well with the label. I realize that the TextField uses accent color.</p>\n\n<p><a href=\"https://i.stack.imgur.com/goqs3.png\" rel=\"nofollow noreferrer\">The screen;</a>\nand theme:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>final ThemeData darkTheme = ThemeData(\n    primaryColor: Colors.blueAccent[400],\n    accentColor: Colors.pinkAccent[400],\n    brightness: Brightness.dark,\n    backgroundColor: Colors.grey[900],\n    inputDecorationTheme: InputDecorationTheme(\n        fillColor: Colors.white.withOpacity(0.1),\n        filled: true,\n    ),\n);\n</code></pre>\n\n<p>Thank you.</p>\n"}, {"tags": ["image", "flutter", "plugins", "dart", "carousel"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 12298241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe0f5fc1ca77f86669c7218b480d588b?s=128&d=identicon&r=PG&f=1", "display_name": "Bastian", "link": "https://stackoverflow.com/users/12298241/bastian"}, "edited": false, "score": 0, "creation_date": 1572522489, "post_id": 58636854, "comment_id": 103590697, "body": "hey thanks that work. On last question. How can i see more than a small part of the images in the background. Optimal i want wo see half of the images in the background"}, {"owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "reply_to_user": {"reputation": 3, "user_id": 12298241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe0f5fc1ca77f86669c7218b480d588b?s=128&d=identicon&r=PG&f=1", "display_name": "Bastian", "link": "https://stackoverflow.com/users/12298241/bastian"}, "edited": false, "score": 0, "creation_date": 1572569698, "post_id": 58636854, "comment_id": 103610407, "body": "In carousel.dart source code , first line of Widget build,  offset = widget.type == &quot;slideswiper&quot; ? 0.8 : 1.0;  offset is a fixed value, you can change 0.8 to 0.5 directly. and hot reload won&#39;t work, you need to restart your application."}], "tags": [], "owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "is_accepted": true, "score": 0, "last_activity_date": 1572495577, "creation_date": 1572495577, "answer_id": 58636854, "question_id": 58628908, "link": "https://stackoverflow.com/questions/58628908/create-flutter-image-carousel/58636854#58636854", "title": "Create flutter image carousel", "body": "<p>You can use package <a href=\"https://pub.dev/packages/flutter_multi_carousel\" rel=\"nofollow noreferrer\">https://pub.dev/packages/flutter_multi_carousel</a></p>\n\n<p>code snippet </p>\n\n<pre><code>Center(\n        child: Carousel(\n            height: 350.0,\n            width: 350,\n            type: \"slideswiper\",\n            indicatorType: \"bar\",\n            arrowColor: Colors.white,\n            axis: Axis.horizontal,\n            showArrow: true,\n            children: List.generate(\n                7,\n                (i) =&gt; Center(\n                      child: Container(color: Colors.red),\n                    ))),\n      ),\n</code></pre>\n\n<p>working demo </p>\n\n<p><a href=\"https://i.stack.imgur.com/yBzcm.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yBzcm.gif\" alt=\"enter image description here\"></a></p>\n\n<p>full code</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:flutter_multi_carousel/carousel.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Carousel Demo',\n      home: CarouselExample(),\n    );\n  }\n}\n\nclass CarouselExample extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Center(\n        child: Carousel(\n            height: 350.0,\n            width: 350,\n            type: \"slideswiper\",\n            indicatorType: \"bar\",\n            arrowColor: Colors.white,\n            axis: Axis.horizontal,\n            showArrow: true,\n            children: List.generate(\n                7,\n                (i) =&gt; Center(\n                      child: Container(color: Colors.red),\n                    ))),\n      ),\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 12298241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe0f5fc1ca77f86669c7218b480d588b?s=128&d=identicon&r=PG&f=1", "display_name": "Bastian", "link": "https://stackoverflow.com/users/12298241/bastian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 312, "favorite_count": 0, "accepted_answer_id": 58636854, "answer_count": 1, "score": 0, "last_activity_date": 1572495577, "creation_date": 1572449756, "question_id": 58628908, "link": "https://stackoverflow.com/questions/58628908/create-flutter-image-carousel", "title": "Create flutter image carousel", "body": "<p>How can i create a Carousel of Images like the example below?</p>\n\n<p><a href=\"https://i.stack.imgur.com/Q03RB.png\" rel=\"nofollow noreferrer\">Image Carousel Overlay</a>\nI try it with the following code but that only set the images next to each other. </p>\n\n<pre><code>Widget build(BuildContext context) {\nreturn Container(\n  width: 150,\n  child: CarouselSlider(items: ['https://picsum.photos/200/300','https://picsum.photos/200/300','https://picsum.photos/200/300'].map((i) {\n    return Builder(\n      builder: (BuildContext context) {\n      return Container(\n        width: 150, \n        margin: EdgeInsets.symmetric(horizontal: 2.0),\n      decoration: BoxDecoration(color: Colors.amber),\n      child: GestureDetector(child: Image.network(i,fit:BoxFit.fill,),\n      onTap: (){\n       //add TODO:\n      },\n      )\n    );\n    },\n  );\n  }).toList(),\n  height: 200.0,\n\n  ),\n);\n</code></pre>\n\n<p>I has try it with alignment, but that did not go well. </p>\n"}, {"tags": ["android-studio", "flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 380, "user_id": 7471516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4eb9ca63dc8c67a0c34c5e5d4950a6e?s=128&d=identicon&r=PG&f=1", "display_name": "jayjw", "link": "https://stackoverflow.com/users/7471516/jayjw"}, "edited": false, "score": 0, "creation_date": 1591993629, "post_id": 59080400, "comment_id": 110275357, "body": "Note the official pub server package is archived and no longer maintained or recommended.   The only more up to date alternative I have found is <a href=\"https://github.com/bytedance/unpub\" rel=\"nofollow noreferrer\">github.com/bytedance/unpub</a>."}], "tags": [], "owner": {"reputation": 48, "user_id": 8611143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6e4e63ffd6be21005b5f7b1715ba57c?s=128&d=identicon&r=PG&f=1", "display_name": "A. Molland", "link": "https://stackoverflow.com/users/8611143/a-molland"}, "is_accepted": true, "score": 1, "last_activity_date": 1574902772, "creation_date": 1574902772, "answer_id": 59080400, "question_id": 58628864, "link": "https://stackoverflow.com/questions/58628864/publish-flutter-package-to-local-m2-or-private-nexus-repository/59080400#59080400", "title": "Publish Flutter package to local .m2 or private Nexus-Repository", "body": "<p>Right now, your best bet is to host your code in a git repository and use git references in your pubspec.yaml as per <a href=\"https://flutter.dev/docs/development/packages-and-plugins/using-packages\" rel=\"nofollow noreferrer\">these instructions</a>. It doesn't look like there's any planned support for third-party package repositories like Nexus (be sure to let your needs be known to the Dart team). </p>\n\n<p>If you'd like, you can also host your own server using this <a href=\"https://github.com/dart-lang/pub_server\" rel=\"nofollow noreferrer\">official pub_server package</a>.</p>\n"}], "owner": {"reputation": 167, "user_id": 2692353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93ebde0aeb355d1c4faeced5a3958c8f?s=128&d=identicon&r=PG&f=1", "display_name": "Mani76", "link": "https://stackoverflow.com/users/2692353/mani76"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 770, "favorite_count": 0, "accepted_answer_id": 59080400, "answer_count": 1, "score": 1, "last_activity_date": 1574902772, "creation_date": 1572449620, "question_id": 58628864, "link": "https://stackoverflow.com/questions/58628864/publish-flutter-package-to-local-m2-or-private-nexus-repository", "title": "Publish Flutter package to local .m2 or private Nexus-Repository", "body": "<p>I've created a Flutter package with some code, that I use in my projects. I don't want to copy code from one project to the next one, so I'd like to have this code in a shared library.</p>\n\n<p>In the pubspec.yaml there is a key word \"publish_to:\", but the documentation about it is very meagre.</p>\n\n<p>The only thing I've found is</p>\n\n<pre><code>flutter packages pub publish\n</code></pre>\n\n<p>to publish the library to pub.dev - but that's not what I want.</p>\n\n<p>(At the moment) I don't want to share my Flutter package with others. I'd like to have it in my local .m2 directory or my private Nexus repository. Is there a way to publish a Flutter package directly to .m2 or Nexus?</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1572455416, "post_id": 58628584, "comment_id": 103568225, "body": "and why would it give a circle image?"}, {"owner": {"reputation": 2056, "user_id": 11829057, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mabUZXql6Ss/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd8xuCsBWOYttvev76OEWj4v5uz4w/photo.jpg?sz=128", "display_name": "Karel Debedts", "link": "https://stackoverflow.com/users/11829057/karel-debedts"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1572466777, "post_id": 58628584, "comment_id": 103573123, "body": "I&#39;m new to flutter.... I thought that because I added, Rect.fromCircle that it would give a circle?"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1572466845, "post_id": 58628584, "comment_id": 103573149, "body": "no, <code>Rect.fromCircle</code> still returns ordinary <code>Rect</code>(check the sources how it is implemented)  - what you need is <code>ImageShader</code>"}, {"owner": {"reputation": 2056, "user_id": 11829057, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mabUZXql6Ss/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd8xuCsBWOYttvev76OEWj4v5uz4w/photo.jpg?sz=128", "display_name": "Karel Debedts", "link": "https://stackoverflow.com/users/11829057/karel-debedts"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1572467789, "post_id": 58628584, "comment_id": 103573509, "body": "Thanks! I red the documentation, is it correct that i need  to add this after the paint: Paint()         ..shader =             ImageShader( constructors ),        Which constructors should I use to get the circle?"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1572468179, "post_id": 58628584, "comment_id": 103573669, "body": "there is only one constructor, if you have image for example 100x100, draw a circle with radius 50 and center 50,50 with that paint"}, {"owner": {"reputation": 2056, "user_id": 11829057, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mabUZXql6Ss/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd8xuCsBWOYttvev76OEWj4v5uz4w/photo.jpg?sz=128", "display_name": "Karel Debedts", "link": "https://stackoverflow.com/users/11829057/karel-debedts"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1572469567, "post_id": 58628584, "comment_id": 103574276, "body": "If I use this code: Paint() ..shader = ImageShader( constructors ), it says 4 constructors are required. Do you please have an example code? Thank you very much!"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1572502072, "post_id": 58628584, "comment_id": 103581629, "body": "see <a href=\"https://stackoverflow.com/a/52831036/2252830\">stackoverflow.com/a/52831036/2252830</a> (i dont know if you can pass a <code>null</code> as a last parameter - you have to r\\try it by yourself, if not use <a href=\"https://api.flutter.dev/flutter/vector_math_64/Matrix4/Matrix4.identity.html\" rel=\"nofollow noreferrer\">identity matrix</a> and <code>storage</code> property)"}], "owner": {"reputation": 2056, "user_id": 11829057, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mabUZXql6Ss/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd8xuCsBWOYttvev76OEWj4v5uz4w/photo.jpg?sz=128", "display_name": "Karel Debedts", "link": "https://stackoverflow.com/users/11829057/karel-debedts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 751, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572448707, "creation_date": 1572448707, "question_id": 58628584, "link": "https://stackoverflow.com/questions/58628584/dart-flutter-canvas-drawimagerect-draw-circle-image", "title": "Dart (Flutter) canvas.drawImageRect: draw circle Image", "body": "<p>I'm trying to convert an image to an Uint8List.</p>\n\n<p>This is my code: </p>\n\n<pre><code>  Future&lt;Uint8List&gt; getBytesFromCanvas(int width, int height, urlAsset) async {\n    final ui.PictureRecorder pictureRecorder = ui.PictureRecorder();\n    final Canvas canvas = Canvas(pictureRecorder);\n\n    final ByteData datai = await rootBundle.load(urlAsset);\n    var imaged = await loadImage(new Uint8List.view(datai.buffer));\n    canvas.drawImageRect(\n      imaged,\n      Rect.fromLTRB(\n          100, 100, imaged.width.toDouble(), imaged.height.toDouble()),\n      Rect.fromCircle(center: new Offset(100, 100), radius: 100),\n      new Paint(),\n    );\n\n    final img = await pictureRecorder.endRecording().toImage(width, height);\n    final data = await img.toByteData(format: ui.ImageByteFormat.png);\n    return data.buffer.asUint8List();\n  }\n</code></pre>\n\n<p>This gives a rectangle Image and not a circle Image .\nWhat am I doing wrong?</p>\n\n<p>Thank you very much!</p>\n"}, {"tags": ["intellij-idea", "flutter", "dart", "build-runner"], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 1757350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0551cf966b35a32392a80dcf1ecda8f9?s=128&d=identicon&r=PG", "display_name": "mitch2na", "link": "https://stackoverflow.com/users/1757350/mitch2na"}, "edited": false, "score": 0, "creation_date": 1604675704, "post_id": 61285718, "comment_id": 114427708, "body": "Thanks for this! Just a side note though, make sure your &quot;Working directory&quot; points to the root path of flutter project where &quot;pubspec.yaml&quot; is located."}], "tags": [], "owner": {"reputation": 143, "user_id": 4110159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd986d19bb9319303719412480f299c?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/4110159/ivan"}, "is_accepted": true, "score": 5, "last_activity_date": 1617035470, "last_edit_date": 1617035470, "creation_date": 1587195457, "answer_id": 61285718, "question_id": 58628425, "link": "https://stackoverflow.com/questions/58628425/how-run-flutter-packages-pub-run-build-runner-build-with-debug-mode-in-intelli/61285718#61285718", "title": "How run flutter &#39;packages pub run build_runner build&#39; with debug mode in intellij idea?", "body": "<ol>\n<li><p>run commad <code>flutter packages pub run build_runner build</code></p>\n</li>\n<li><p>copy <code>build.dart</code> to root folder of project</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/VIkwk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VIkwk.png\" alt=\"enter image description here\" /></a></p>\n<p>3)\n4) add new run configuration\n<a href=\"https://i.stack.imgur.com/rN1Aw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rN1Aw.png\" alt=\"enter image description here\" /></a>\n5) run debug, now you can debug your code generator!</p>\n"}], "owner": {"reputation": 143, "user_id": 4110159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd986d19bb9319303719412480f299c?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/4110159/ivan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 670, "favorite_count": 1, "accepted_answer_id": 61285718, "answer_count": 1, "score": 3, "last_activity_date": 1617035470, "creation_date": 1572448197, "last_edit_date": 1572452754, "question_id": 58628425, "link": "https://stackoverflow.com/questions/58628425/how-run-flutter-packages-pub-run-build-runner-build-with-debug-mode-in-intelli", "title": "How run flutter &#39;packages pub run build_runner build&#39; with debug mode in intellij idea?", "body": "<p>I want to put break point on my generator code, but I don't know how to run the command on the debug mode. </p>\n\n<p>I wrote generator using <code>source_gen</code> and <code>build_runner</code></p>\n\n<pre><code>class MyGenerator extends GeneratorForAnnotation&lt;Todo&gt; {\n  @override\n  FutureOr&lt;String&gt; generateForAnnotatedElement(\n      Element element, ConstantReader annotation, BuildStep buildStep) {\n    return \"// Hey! Annotation found!\";\n  }\n}\n</code></pre>\n"}, {"tags": ["google-maps", "flutter", "dart", "google-maps-flutter"], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 10787445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d447b2576a3e5abbb73d2e816891d5ac?s=128&d=identicon&r=PG", "display_name": "Hassan Ansari", "link": "https://stackoverflow.com/users/10787445/hassan-ansari"}, "edited": false, "score": 0, "creation_date": 1610037923, "post_id": 58715701, "comment_id": 116012180, "body": "How can I get bounds?"}, {"owner": {"reputation": 290, "user_id": 10011315, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iDzuOOYlfg0/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3KUxocq6jzHRaaJlwoD84gevERig/mo/photo.jpg?sz=128", "display_name": "Andrew Stevenson", "link": "https://stackoverflow.com/users/10011315/andrew-stevenson"}, "reply_to_user": {"reputation": 161, "user_id": 10787445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d447b2576a3e5abbb73d2e816891d5ac?s=128&d=identicon&r=PG", "display_name": "Hassan Ansari", "link": "https://stackoverflow.com/users/10787445/hassan-ansari"}, "edited": false, "score": 1, "creation_date": 1610105092, "post_id": 58715701, "comment_id": 116032893, "body": "Hi @HassanAnsari - I hope you are well. Simply access Google Maps (<a href=\"https://maps.google.com/maps\" rel=\"nofollow noreferrer\">maps.google.com/maps</a>) , navigate to the location you want to work with and and right-click at the specific location. You should be presented with a popup menu that includes the co-ordinates.  I hope that helps."}, {"owner": {"reputation": 161, "user_id": 10787445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d447b2576a3e5abbb73d2e816891d5ac?s=128&d=identicon&r=PG", "display_name": "Hassan Ansari", "link": "https://stackoverflow.com/users/10787445/hassan-ansari"}, "edited": false, "score": 0, "creation_date": 1610106123, "post_id": 58715701, "comment_id": 116033276, "body": "So means I&#39;ve to separately take the co or donates?"}, {"owner": {"reputation": 290, "user_id": 10011315, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iDzuOOYlfg0/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3KUxocq6jzHRaaJlwoD84gevERig/mo/photo.jpg?sz=128", "display_name": "Andrew Stevenson", "link": "https://stackoverflow.com/users/10011315/andrew-stevenson"}, "reply_to_user": {"reputation": 161, "user_id": 10787445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d447b2576a3e5abbb73d2e816891d5ac?s=128&d=identicon&r=PG", "display_name": "Hassan Ansari", "link": "https://stackoverflow.com/users/10787445/hassan-ansari"}, "edited": false, "score": 0, "creation_date": 1610372913, "post_id": 58715701, "comment_id": 116104264, "body": "Basically yes - Get your co-ordinates and them implement the bounding by using the code above. Make sure you pay attention to the accepted answer too."}], "tags": [], "owner": {"reputation": 290, "user_id": 10011315, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iDzuOOYlfg0/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3KUxocq6jzHRaaJlwoD84gevERig/mo/photo.jpg?sz=128", "display_name": "Andrew Stevenson", "link": "https://stackoverflow.com/users/10011315/andrew-stevenson"}, "is_accepted": true, "score": 0, "last_activity_date": 1572971716, "creation_date": 1572971716, "answer_id": 58715701, "question_id": 58627546, "link": "https://stackoverflow.com/questions/58627546/how-do-i-restrict-the-bounds-of-a-google-map-in-flutter/58715701#58715701", "title": "How do I restrict the bounds of a Google Map in Flutter?", "body": "<p>I was being stupid with this one.</p>\n\n<p>The Lats in the LatLngs I had in UniCampusNE and SW were the wrong way round. Simple as that. The code I posted is correct.</p>\n\n<p>You have to make sure that the south west latitude is less than (further left) than the north east latitude.</p>\n"}, {"tags": [], "owner": {"reputation": 243, "user_id": 11675817, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Nvj77PLqERA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re7WexWzmjXTdBZ7NRFyLwokS94Cw/mo/photo.jpg?sz=128", "display_name": "M Karimi", "link": "https://stackoverflow.com/users/11675817/m-karimi"}, "is_accepted": false, "score": 0, "last_activity_date": 1614518027, "creation_date": 1614518027, "answer_id": 66409457, "question_id": 58627546, "link": "https://stackoverflow.com/questions/58627546/how-do-i-restrict-the-bounds-of-a-google-map-in-flutter/66409457#66409457", "title": "How do I restrict the bounds of a Google Map in Flutter?", "body": "<p>try this:</p>\n<pre><code>void _onMapCreated(GoogleMapController controller) {\n_controller.complete(controller);\nFuture.delayed(\n    Duration(milliseconds: 200),\n    () =&gt; controller.animateCamera(CameraUpdate.newLatLngBounds(\n        northeast,southwest,\n        1)));\n</code></pre>\n<p>}</p>\n"}], "owner": {"reputation": 290, "user_id": 10011315, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iDzuOOYlfg0/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3KUxocq6jzHRaaJlwoD84gevERig/mo/photo.jpg?sz=128", "display_name": "Andrew Stevenson", "link": "https://stackoverflow.com/users/10011315/andrew-stevenson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2014, "favorite_count": 1, "accepted_answer_id": 58715701, "answer_count": 2, "score": 3, "last_activity_date": 1614518027, "creation_date": 1572445475, "last_edit_date": 1572955506, "question_id": 58627546, "link": "https://stackoverflow.com/questions/58627546/how-do-i-restrict-the-bounds-of-a-google-map-in-flutter", "title": "How do I restrict the bounds of a Google Map in Flutter?", "body": "<p>I am using google_maps_flutter package and I need to restrict the scrollable area of a map to a specific area. I have both the SW and NE corners, but I can't figure out how to do it.</p>\n\n<p>I have tried the code below, but it's not working.</p>\n\n<p>uniCampusSW and uniCampusNE are both LatLngs.</p>\n\n<pre><code>_userLocation == null // If user location has not been found\n          ? Center(\n              // Display Progress Indicator\n              child: CircularProgressIndicator(\n                backgroundColor: UniColors.primaryColour[500],\n              ),\n            )\n          : GoogleMap(\n              // Show Campus Map\n              onMapCreated: _onMapCreated,\n              initialCameraPosition: // required parameter that sets the starting camera position. Camera position describes which part of the world you want the map to point at.\n                  CameraPosition(\n                      target: _userLocation, zoom: defaultZoom, tilt: 0.0),\n              scrollGesturesEnabled: true,\n              tiltGesturesEnabled: true,\n              trafficEnabled: false,\n              compassEnabled: true,\n              rotateGesturesEnabled: true,\n              myLocationEnabled: true,\n              mapType: _currentMapType,\n              zoomGesturesEnabled: true,\n              cameraTargetBounds: new CameraTargetBounds(\n                new LatLngBounds(\n                  northeast: UniCampusNE,\n                  southwest: UniCampusSW,\n                ),\n              ),\n            ),\n</code></pre>\n\n<p>This is the error I get</p>\n\n<blockquote>\n  <p><strong>/flutter (12525): The following assertion was thrown building TheMap(dirty, state: _TheMapState#a8840): I/flutter (12525):\n  'package:google_maps_flutter/src/location.dart': Failed assertion:\n  line 68 pos 16: I/flutter (12525): 'southwest.latitude &lt;=\n  northeast.latitude': is not true.</strong></p>\n</blockquote>\n\n<p>thanks</p>\n"}, {"tags": ["flutter", "dart", "flutterwebviewplugin"], "comments": [{"owner": {"reputation": 175, "user_id": 4142701, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c9810f3229f9a422f9a7d3c65da6fe8f?s=128&d=identicon&r=PG&f=1", "display_name": "SilentLucidity", "link": "https://stackoverflow.com/users/4142701/silentlucidity"}, "edited": false, "score": 0, "creation_date": 1580141008, "post_id": 58625803, "comment_id": 105991299, "body": "I have exactly the same problem, did you ever find a solution?"}, {"owner": {"reputation": 255, "user_id": 10269812, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eAplmjynHo0/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMgr4p8H9YUonJFOgBzFp0AAkGAjg/mo/photo.jpg?sz=128", "display_name": "Siva Perumal", "link": "https://stackoverflow.com/users/10269812/siva-perumal"}, "edited": false, "score": 0, "creation_date": 1589274789, "post_id": 58625803, "comment_id": 109221030, "body": "Did you find a solution for this?"}, {"owner": {"reputation": 3028, "user_id": 10150796, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-31KVVbJzgt0/AAAAAAAAAAI/AAAAAAAAAB8/4KtBNNlW2Dw/photo.jpg?sz=128", "display_name": "Nikunj Kumbhani", "link": "https://stackoverflow.com/users/10150796/nikunj-kumbhani"}, "reply_to_user": {"reputation": 255, "user_id": 10269812, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eAplmjynHo0/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMgr4p8H9YUonJFOgBzFp0AAkGAjg/mo/photo.jpg?sz=128", "display_name": "Siva Perumal", "link": "https://stackoverflow.com/users/10269812/siva-perumal"}, "edited": false, "score": 0, "creation_date": 1589287869, "post_id": 58625803, "comment_id": 109228176, "body": "@sivaperumal Still Not Found the Solution :("}, {"owner": {"reputation": 255, "user_id": 10269812, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eAplmjynHo0/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMgr4p8H9YUonJFOgBzFp0AAkGAjg/mo/photo.jpg?sz=128", "display_name": "Siva Perumal", "link": "https://stackoverflow.com/users/10269812/siva-perumal"}, "edited": false, "score": 1, "creation_date": 1590051956, "post_id": 58625803, "comment_id": 109535882, "body": "Use WebViewController and then try using controller.loadUrl(newUrl); in the other tabs."}], "answers": [{"tags": [], "owner": {"reputation": 3028, "user_id": 10150796, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-31KVVbJzgt0/AAAAAAAAAAI/AAAAAAAAAB8/4KtBNNlW2Dw/photo.jpg?sz=128", "display_name": "Nikunj Kumbhani", "link": "https://stackoverflow.com/users/10150796/nikunj-kumbhani"}, "is_accepted": true, "score": 0, "last_activity_date": 1591698255, "creation_date": 1591698255, "answer_id": 62280375, "question_id": 58625803, "link": "https://stackoverflow.com/questions/58625803/multiple-webview-reload-issue-flutter/62280375#62280375", "title": "Multiple WebView Reload issue Flutter", "body": "<p><strong>Finally, I have done with</strong> <code>WebViewController</code>\n<strong>Here is answer multiple Webview reload with</strong> <code>Loader</code></p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:webview_flutter/webview_flutter.dart';\n\nclass Home extends StatefulWidget {\n  @override\n  State&lt;StatefulWidget&gt; createState() {\n    return _HomeState();\n  }\n}\n\nclass _HomeState extends State&lt;Home&gt; {\n\n  final _key = UniqueKey();\n  bool _isLoadingPage;\n  WebViewController controller;\n  int _selectedIndex = 0;\n\n  List&lt;String&gt; arr_links = [\n    'https://pub.dev/',\n    'https://flutter.io',\n    'https://www.google.com/',\n  ];\n\n  @override\n  void initState() {\n    super.initState();\n    _isLoadingPage = true;\n  }\n\n\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('Multiple WebView'),\n      ),\n      body: Stack(\n        children: &lt;Widget&gt;[\n          WebView(\n            key: _key,\n            initialUrl: arr_links[_selectedIndex],\n            javascriptMode: JavascriptMode.unrestricted,\n          onWebViewCreated: (WebViewController webViewController) {\n            controller = webViewController;\n          },\n            onPageFinished: (finish) {\n              setState(() {\n                _isLoadingPage = false;\n              });\n            },\n          ),\n          _isLoadingPage ? Scaffold(\n            body: Center(\n              child: CircularProgressIndicator(\n                valueColor: new AlwaysStoppedAnimation&lt;Color&gt;(\n                    Colors.white),\n              ),\n            ),\n            backgroundColor: Colors.black.withOpacity(\n                0.70), // this is the main reason of transparency at next screen. I am ignoring rest implementation but what i have achieved is you can see.\n          ) : Stack()\n        ],\n      ),\n\n      bottomNavigationBar: BottomNavigationBar(\n        items: const &lt;BottomNavigationBarItem&gt;[\n          BottomNavigationBarItem(\n            icon: Icon(Icons.home),\n            title: Text('Home'),\n          ),\n          BottomNavigationBarItem(\n            icon: Icon(Icons.business),\n            title: Text('Business'),\n          ),\n          BottomNavigationBarItem(\n            icon: Icon(Icons.school),\n            title: Text('School'),\n          ),\n        ],\n        currentIndex: _selectedIndex,\n        onTap: _onItemTapped,\n      ),\n    );\n  }\n  void _onItemTapped(int index) {\n    setState(() {\n      _selectedIndex = index;\n      _isLoadingPage = true;\n      controller.loadUrl(arr_links[_selectedIndex]);\n    });\n  }\n}\n</code></pre>\n\n<p>Add this to your package's <code>pubspec.yaml</code> file:</p>\n\n<pre><code>dependencies:\n  webview_flutter: ^0.3.22+1\n</code></pre>\n"}], "owner": {"reputation": 3028, "user_id": 10150796, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-31KVVbJzgt0/AAAAAAAAAAI/AAAAAAAAAB8/4KtBNNlW2Dw/photo.jpg?sz=128", "display_name": "Nikunj Kumbhani", "link": "https://stackoverflow.com/users/10150796/nikunj-kumbhani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 807, "favorite_count": 0, "accepted_answer_id": 62280375, "answer_count": 1, "score": 0, "last_activity_date": 1591698255, "creation_date": 1572439905, "last_edit_date": 1591693138, "question_id": 58625803, "link": "https://stackoverflow.com/questions/58625803/multiple-webview-reload-issue-flutter", "title": "Multiple WebView Reload issue Flutter", "body": "<p>I have used multiple Webviews with Separate <code>BottomNavigationBarItem</code> tabs and load different <code>URL</code> in each tab.</p>\n\n<p>The issue is that when if open first the first TAB URL load perfectly but when I tap on the Second tab that it Displays first tab Webview. The third tab contains normal Text <code>Widget</code> if comeback from the third tab then work perfectly But click on first and second tab Always Display the last loaded <code>URL</code> my code is here</p>\n\n<p>Home Class</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:webview_flutter/webview_flutter.dart';\nimport 'web_view_container.dart';\n\nclass Home extends StatefulWidget {\n  @override\n  State&lt;StatefulWidget&gt; createState() {\n    return _HomeState();\n  }\n}\n\nclass _HomeState extends State&lt;Home&gt; {\n\n  int _selectedIndex = 0;\n\n  static const TextStyle optionStyle = TextStyle(fontSize: 30, fontWeight: FontWeight.bold);\n\n  List&lt;Widget&gt; _widgetOptions = &lt;Widget&gt;[\n    WebViewContainer('https://offerscouponsdeals.in/'),\n    WebViewContainer('https://flutter.io'),\n    Text(\n      'Index 2: School',\n      style: optionStyle,\n    ),\n  ];\n\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('RSVP App'),\n      ),\n      body: Center(\n        child: _widgetOptions.elementAt(_selectedIndex),\n      ),\n      bottomNavigationBar: BottomNavigationBar(\n        items: const &lt;BottomNavigationBarItem&gt;[\n          BottomNavigationBarItem(\n            icon: Icon(Icons.home),\n            title: Text('Home'),\n          ),\n          BottomNavigationBarItem(\n            icon: Icon(Icons.business),\n            title: Text('Business'),\n          ),\n          BottomNavigationBarItem(\n            icon: Icon(Icons.school),\n            title: Text('School'),\n          ),\n        ],\n        currentIndex: _selectedIndex,\n        onTap: _onItemTapped,\n      ),\n    );\n  }\n  void _onItemTapped(int index) {\n    setState(() {\n      _selectedIndex = index;\n    });\n  }\n}\n</code></pre>\n\n<p>WebView Container Class</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:webview_flutter/webview_flutter.dart';\n\nclass _WebViewContainerState extends State &lt; WebViewContainer &gt;{\n  var _url;\n  final _key = UniqueKey();\n  _WebViewContainerState(this._url);\n  num _stackToView = 1;\n\n  void _handleLoad(String value) {\n    setState(() {\n      _stackToView = 0;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n        body: IndexedStack(\n          index: _stackToView,\n          children: [\n            Column(\n              children: &lt; Widget &gt; [\n                Expanded(\n                    child: WebView(\n                      key: _key,\n                      javascriptMode: JavascriptMode.unrestricted,\n                      initialUrl: _url,\n                      onPageFinished: _handleLoad,\n                    )\n                ),\n              ],\n            ),\n            Container(\n              color: Colors.white,\n              child: Center(\n                child: CircularProgressIndicator(),\n              ),\n            ),\n          ],\n        )\n    );\n  }\n}\n\nclass WebViewContainer extends StatefulWidget {\n  final url;\n  WebViewContainer(this.url);\n  @override\n  createState() =&gt; _WebViewContainerState(this.url);\n}\n</code></pre>\n\n<blockquote>\n  <p>Can someone tell me where I am Wrong? Thanks in advance</p>\n</blockquote>\n"}, {"tags": ["flutter", "dart", "provider"], "comments": [{"owner": {"reputation": 953, "user_id": 3864551, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/f3ays.jpg?s=128&g=1", "display_name": "Julien Lachal", "link": "https://stackoverflow.com/users/3864551/julien-lachal"}, "edited": false, "score": 0, "creation_date": 1572448303, "post_id": 58625713, "comment_id": 103564280, "body": "can you show what you&#39;ve done so far?"}], "answers": [{"comments": [{"owner": {"reputation": 571, "user_id": 5822844, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GblQ42qjGTE/AAAAAAAAAAI/AAAAAAAAAGk/UAs3_cwQodU/photo.jpg?sz=128", "display_name": "Romy Gomes", "link": "https://stackoverflow.com/users/5822844/romy-gomes"}, "edited": false, "score": 0, "creation_date": 1604301897, "post_id": 58626268, "comment_id": 114295409, "body": "replace &quot;builder: (<i>) =&gt; AppState()&quot; with &quot;create: (</i>) =&gt; TodoProvider()&quot;. Builder is deprecated in recent versions of Provider library."}], "tags": [], "owner": {"reputation": 250, "user_id": 4142994, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9b0416dd6aadc116e3ac896ac1664cd6?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/4142994/daniel"}, "is_accepted": false, "score": 3, "last_activity_date": 1604315029, "last_edit_date": 1604315029, "creation_date": 1572441465, "answer_id": 58626268, "question_id": 58625713, "link": "https://stackoverflow.com/questions/58625713/flutter-state-management-with-provider-using-multiple-screens/58626268#58626268", "title": "Flutter State management with Provider using multiple screens", "body": "<p>Let say this is your provider class</p>\n<pre><code>class AppState with ChangeNotifier {\n  int _votes = 0;\n\n  getVotes() =&gt; _votes;\n\n  setVotes(votes) {\n    _votes = votes;\n    notifyListeners();\n }}\n</code></pre>\n<p>//to access</p>\n<pre><code>appState = Provider.of&lt;AppState&gt;(context);\n</code></pre>\n<p>//to get the current value</p>\n<pre><code>appState.getVotes();\n</code></pre>\n<p>//to set the value</p>\n<pre><code>v = 23;\nappState.setVotes(v);\n</code></pre>\n<p>make sure the root class should look like this:</p>\n<pre><code>void main() {\n   runApp(new MyApp());}\n\n\n class MyApp extends StatelessWidget {\n    @override\n    Widget build(BuildContext context) {\n       return ChangeNotifierProvider&lt;AppState&gt;(\n         create: (_) =&gt; AppState(),\n         child: MaterialApp(\n           home: HomePage(),\n           debugShowCheckedModeBanner: false));\n      }\n   }\n</code></pre>\n"}], "owner": {"reputation": 3693, "user_id": 9398610, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nqsTN.jpg?s=128&g=1", "display_name": "Norbert", "link": "https://stackoverflow.com/users/9398610/norbert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 812, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1604315029, "creation_date": 1572439610, "question_id": 58625713, "link": "https://stackoverflow.com/questions/58625713/flutter-state-management-with-provider-using-multiple-screens", "title": "Flutter State management with Provider using multiple screens", "body": "<p>I have Two pages, <code>Page_A</code> and <code>Page_B</code> in my app. I have two other classes which update a <code>_votes</code> variable(default = 0) in my <code>Privider Class</code> then display this variable in <code>Page_A</code> and this works fine as espected. </p>\n\n<p>I am trying to access this variable (<code>_votes</code>) which is now updated to say <code>23</code> in a new page <code>Page_B</code>. But when ever the new page gets Pushes unto the screen, it seems the variable gets reset to <code>0</code> instead of <code>23</code>. How can I achieve what am trying to do.</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "is_accepted": false, "score": 0, "last_activity_date": 1572439136, "creation_date": 1572439136, "answer_id": 58625581, "question_id": 58625381, "link": "https://stackoverflow.com/questions/58625381/handling-onpressed-callbacks-on-dynamically-generated-buttons/58625581#58625581", "title": "Handling &quot;onPressed&quot; callbacks on dynamically generated buttons", "body": "<p>You need to use <a href=\"https://api.flutter.dev/flutter/widgets/StatefulWidget-class.html\" rel=\"nofollow noreferrer\">StatefulWidget</a> and store colors for each button in a state of your widget. Then, using onPressed event, you can change color for this button (by passing its index) by calling <em>setState</em> method and your changed button will repaint.</p>\n"}, {"tags": [], "owner": {"reputation": 4583, "user_id": 6668797, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/FgETn.jpg?s=128&g=1", "display_name": "TWL", "link": "https://stackoverflow.com/users/6668797/twl"}, "is_accepted": false, "score": 1, "last_activity_date": 1572482425, "creation_date": 1572482425, "answer_id": 58635488, "question_id": 58625381, "link": "https://stackoverflow.com/questions/58625381/handling-onpressed-callbacks-on-dynamically-generated-buttons/58635488#58635488", "title": "Handling &quot;onPressed&quot; callbacks on dynamically generated buttons", "body": "<p>So, based on Igor\u2019s comment, yes, you\u2019ll need a customizable <code>StatefulWidget</code> that can hold a unique id per button so that it can be checked against your current hour. A simplified example:</p>\n\n<p>First, setting up your button list:</p>\n\n<pre><code>workingHoursButtons() {\n  buttonList = new List();\n  for (var i = 0; i &lt;= 5; i++) {\n    buttonList.add(MyButton(index: i, whatHour: _currentHour,));\n  }\n}\n</code></pre>\n\n<p>What your main build Widget might look like, using a <code>ListView.builder</code>:</p>\n\n<pre><code>@override\nWidget build(BuildContext context) {\n  return Scaffold(\n    appBar: ...,\n    body: ListView.builder(\n      itemCount: buttonList.length,\n      itemBuilder: (BuildContext context, int index) {\n        return buttonList[index];\n      },\n    ),\n  );\n}\n</code></pre>\n\n<p>And your custom button widget, passing it an index and your currentHour:</p>\n\n<pre><code>class MyButton extends StatefulWidget {\n  MyButton({Key key, this.index, this.whatHour}) : super(key: key);\n\n  final int index;\n  final int whatHour;\n\n  @override\n  _MyButtonState createState() =&gt; _MyButtonState();\n}\n\nclass _MyButtonState extends State&lt;MyButton&gt; {\n  Color _btnColor;\n\n  @override\n  void initState() {\n    super.initState();\n    _btnColor = _setInitColor();\n  }\n\n  Color _setInitColor() {\n    return widget.index == widget.whatHour ? Color(0xff425660) : null;\n  }\n\n  MaterialColor _changeColor() {\n    // just testing with blue/red colors\n    return widget.index &lt; widget.whatHour ? Colors.blue : Colors.red;\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return FlatButton(\n      color: _btnColor,\n      child: Text('button' + widget.index.toString()),\n      onPressed: () {\n        setState(() {\n          _btnColor = _changeColor();\n        });\n      },\n    );\n  }\n}\n</code></pre>\n\n<p>Modify as needed.</p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 2042596, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/10m5e.jpg?s=128&g=1", "display_name": "Eyewritecode", "link": "https://stackoverflow.com/users/2042596/eyewritecode"}, "is_accepted": false, "score": 0, "last_activity_date": 1573047577, "creation_date": 1573047577, "answer_id": 58731504, "question_id": 58625381, "link": "https://stackoverflow.com/questions/58625381/handling-onpressed-callbacks-on-dynamically-generated-buttons/58731504#58731504", "title": "Handling &quot;onPressed&quot; callbacks on dynamically generated buttons", "body": "<p>I want to thank Igor and TWL for their answers but one thing i've noticed regarding this kind of issue is that there's no \"correct\" answer. For anyone who'll face this similar issue in the future, i would summarize it in this way.</p>\n\n<ul>\n<li>You'll need a <strong>variable</strong> that will change for every button press(I had to create 4 in my case)</li>\n<li>Call <code>setState()</code> for every change (i.e button press)</li>\n</ul>\n\n<p>Of course depending on your dynamic buttons logic this can get messy but that seems to be the only solution.</p>\n\n<p>On a side note: I think there should a better way to handle button press(using <code>this.</code>?) or maybe it's just me expecting flutter to work like JS</p>\n"}], "owner": {"reputation": 81, "user_id": 2042596, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/10m5e.jpg?s=128&g=1", "display_name": "Eyewritecode", "link": "https://stackoverflow.com/users/2042596/eyewritecode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 758, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1573047577, "creation_date": 1572438479, "question_id": 58625381, "link": "https://stackoverflow.com/questions/58625381/handling-onpressed-callbacks-on-dynamically-generated-buttons", "title": "Handling &quot;onPressed&quot; callbacks on dynamically generated buttons", "body": "<p>I created a method that returns a list of Widget using this following code and would like to handle <code>onPressed</code> events individually! (i.e change background color of clicked button)</p>\n\n<p>I'm new to Flutter and can't find a way to do this! </p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>\nList&lt;Widget&gt; workingHoursButtons() {\n    List&lt;Widget&gt; timeButtons = [];\n    for (var i = 8; i &lt;= 17; i++) {\n      timeButtons.add(\n        Padding(\n          padding: const EdgeInsets.all(8.0),\n          child: SizedBox(\n            width: 59.0,\n            height: 50.0,\n            child: FlatButton(\n              color: i == currentHour ? Color(0xff425660) : null,\n              shape: RoundedRectangleBorder(\n                side: BorderSide(),\n                borderRadius: BorderRadius.circular(3.0),\n              ),\n              child: Text(\n                \"$i\",\n                style: TextStyle(\n                  color: i == currentHour ? Colors.white : null,\n                  fontSize: 16.0,\n                  fontWeight: FontWeight.bold,\n                ),\n              ),\n              onPressed: i &lt; currentHour\n                  ? null\n                  : () {\n                      print(i);\n                    },\n            ),\n          ),\n        ),\n      );\n    }\n    return timeButtons;\n  }\n\n</code></pre>\n"}, {"tags": ["flutter", "dart", "stream", "flutter-dependencies", "bloc"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 12214802, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6w7G9QNFuRA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdmyvcTk4BFsfZLkQfiFkpZNrX2KQ/photo.jpg?sz=128", "display_name": "Localiza Med", "link": "https://stackoverflow.com/users/12214802/localiza-med"}, "edited": false, "score": 0, "creation_date": 1572438857, "post_id": 58625434, "comment_id": 103558537, "body": "it was for one stream. It works fine now. Thank u :)"}], "tags": [], "owner": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "is_accepted": true, "score": 0, "last_activity_date": 1572438624, "creation_date": 1572438624, "answer_id": 58625434, "question_id": 58625222, "link": "https://stackoverflow.com/questions/58625222/stream-observable-for-just-one-value-flutter/58625434#58625434", "title": "Stream Observable for just one value flutter", "body": "<p>Do you mean for one value or for one stream?</p>\n\n<p>For single stream use:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Observable(stream);\n</code></pre>\n\n<p>For single value use:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Observable.just(value);\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 12214802, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6w7G9QNFuRA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdmyvcTk4BFsfZLkQfiFkpZNrX2KQ/photo.jpg?sz=128", "display_name": "Localiza Med", "link": "https://stackoverflow.com/users/12214802/localiza-med"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 640, "favorite_count": 0, "accepted_answer_id": 58625434, "answer_count": 1, "score": 0, "last_activity_date": 1572438624, "creation_date": 1572437925, "question_id": 58625222, "link": "https://stackoverflow.com/questions/58625222/stream-observable-for-just-one-value-flutter", "title": "Stream Observable for just one value flutter", "body": "<p>I want to do something like this but just for one value. </p>\n\n<pre><code>Stream&lt;bool&gt; get outSubmitValidTwo =&gt; Observable.combineLatest3(\n  outUf,\n  outCidade,\n  outTelefone,\n  (\n    a,\n    b,\n    c,\n  ) =&gt;\n      true);\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 4293, "user_id": 2919052, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mfshI.jpg?s=128&g=1", "display_name": "codeKiller", "link": "https://stackoverflow.com/users/2919052/codekiller"}, "edited": false, "score": 0, "creation_date": 1572853347, "post_id": 58659781, "comment_id": 103676008, "body": "another great answer by you, Thanks!, I just tested the first option, with the SizedBox since I am a bit in a hurry and looked like the easiest and fastest...worked very well."}], "tags": [], "owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "is_accepted": true, "score": 5, "last_activity_date": 1572613817, "creation_date": 1572613817, "answer_id": 58659781, "question_id": 58624799, "link": "https://stackoverflow.com/questions/58624799/singlechildscrollview-not-keeping-scroll-position/58659781#58659781", "title": "SingleChildScrollView not keeping scroll position", "body": "<p>The problem here is that the size of your children changes and the <code>SingleChildScrollView</code> cannot handle that.</p>\n\n<p>I think there could be two solutions that might work here:</p>\n\n<ul>\n<li>If you know the sizes of your images before they are loaded, you should enforce it using a <code>SizedBox</code>. This way, the scroll position will stay the same:</li>\n</ul>\n\n<pre class=\"lang-dart prettyprint-override\"><code>SizedBox(\n  width: 300,\n  height: 120,\n  child: StreamBuilder&lt;int&gt;(...),\n)\n</code></pre>\n\n<ul>\n<li>Use <a href=\"https://api.flutter.dev/flutter/widgets/ScrollPosition/ensureVisible.html\" rel=\"noreferrer\"><code>ensureVisible</code></a> that you trigger once the stream builder is updated, which lets you control exactly where the image should be displayed.<br>\nYou would need to assign a <a href=\"https://api.flutter.dev/flutter/widgets/ScrollController-class.html\" rel=\"noreferrer\"><code>ScrollController</code></a> to your <a href=\"https://api.flutter.dev/flutter/widgets/SingleChildScrollView/controller.html\" rel=\"noreferrer\"><code>SingleChildScrollView</code> (<code>controller</code> parameter)</a>. Then, you also need a <a href=\"https://api.flutter.dev/flutter/widgets/GlobalKey-class.html\" rel=\"noreferrer\"><code>GlobalKey</code></a> for your <code>StreamBuilder</code> that you want to show (<code>key</code> parameter).<br>\nIf you have saved instances of the two to variables, you will be able to call the following once your image is loaded:</li>\n</ul>\n\n<pre class=\"lang-dart prettyprint-override\"><code>scrollController.position.ensureVisible(\n  globalKey.currentContext.findRenderObject(),\n  alignment: 0.5, // Aligns the image in the middle.\n  duration: const Duration(milliseconds: 120), // So it does not jump.\n);\n</code></pre>\n"}], "owner": {"reputation": 4293, "user_id": 2919052, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mfshI.jpg?s=128&g=1", "display_name": "codeKiller", "link": "https://stackoverflow.com/users/2919052/codekiller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3004, "favorite_count": 0, "accepted_answer_id": 58659781, "answer_count": 1, "score": 1, "last_activity_date": 1572613817, "creation_date": 1572436444, "last_edit_date": 1572613098, "question_id": 58624799, "link": "https://stackoverflow.com/questions/58624799/singlechildscrollview-not-keeping-scroll-position", "title": "SingleChildScrollView not keeping scroll position", "body": "<p>I have a <code>SingleChildScrollView</code> widget in my app that contains a <code>Column</code> as a child.</p>\n\n<p>The <code>Column</code> has many children and the last one in the very bottom of the scrolled screen is a <code>StreamBuilder</code> that I use to change a child <code>Image</code></p>\n\n<p>The issue is that when I tap on the image, the logic of the StreamBuilder works and the image is changed, but then the SingleChildScrollView scrolls a bit up so that the image is not visible and forces the user to scroll down again to be able to see the new loaded image.</p>\n\n<pre><code>Widget _buildScroll() =&gt; SingleChildScrollView(\nchild: Container(\n  width: 2080,\n  child: Column(\n    children: &lt;Widget&gt;[\n      _buildTopBar(),\n      _buildMainContent(),\n      SizedBox(height: 30),\n      Container(\n        child: Image.asset(\n          \"assets/images/chart_legend.png\",\n          width: 300,\n        ),\n      ),\n      SizedBox(height: 30),\n      Image.asset(\"assets/images/road_map.png\", width: 600),\n      StreamBuilder&lt;int&gt;(\n          initialData: 1,\n          stream: _compareStream,\n          builder: (context, snapshot) {\n            if (snapshot.hasData) {\n              if (snapshot.data == 1) {\n                return Padding(\n                  padding: const EdgeInsets.only(right: 10),\n                  child: GestureDetector(\n                    child: Image.asset(\"assets/images/compare1.png\"),\n                    onTap: () =&gt; _compareSubject.add(2),\n                  ),\n                );\n              } else if (snapshot.data == 2) {\n                return Padding(\n                  padding: const EdgeInsets.only(right: 10),\n                  child: GestureDetector(\n                    child: Image.asset(\"assets/images/compare2.png\"),\n                    onTap: () =&gt; _compareSubject.add(3),\n                  ),\n                );\n              } else {\n                return Padding(\n                  padding: const EdgeInsets.only(right: 10),\n                  child: GestureDetector(\n                    child: Image.asset(\"assets/images/compare3.png\"),\n                    onTap: () =&gt; _compareSubject.add(1),\n                  ),\n                );\n              }\n            }\n            return Padding(\n              padding: const EdgeInsets.only(right: 10),\n              child: GestureDetector(\n                child: Image.asset(\"assets/images/compare1.png\"),\n                onTap: () {},\n              ),\n            );\n          }),\n    ],\n  ),\n),\n);\n</code></pre>\n\n<p>However, even more weird is that, once I have done tap on all images, they will be showed as expected without scrolling up...meaning that, if there is the second time i tap on a image, the second time the image is replaced the scrolling up in not happening.</p>\n"}, {"tags": ["flutter", "dart", "state"], "answers": [{"comments": [{"owner": {"reputation": 4158, "user_id": 1810447, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5431dc98957e34339ab648613de3c861?s=128&d=identicon&r=PG", "display_name": "The Tahaan", "link": "https://stackoverflow.com/users/1810447/the-tahaan"}, "edited": false, "score": 0, "creation_date": 1572437314, "post_id": 58624947, "comment_id": 103557641, "body": "I&#39;m thinking I will make the ApiController itself a Singleton."}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "reply_to_user": {"reputation": 4158, "user_id": 1810447, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5431dc98957e34339ab648613de3c861?s=128&d=identicon&r=PG", "display_name": "The Tahaan", "link": "https://stackoverflow.com/users/1810447/the-tahaan"}, "edited": false, "score": 0, "creation_date": 1572437401, "post_id": 58624947, "comment_id": 103557686, "body": "You can. That&#39;s not what provider wants you to do though. Singletons are too accessible, and nor easily testable"}, {"owner": {"reputation": 4158, "user_id": 1810447, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5431dc98957e34339ab648613de3c861?s=128&d=identicon&r=PG", "display_name": "The Tahaan", "link": "https://stackoverflow.com/users/1810447/the-tahaan"}, "edited": false, "score": 0, "creation_date": 1572437551, "post_id": 58624947, "comment_id": 103557777, "body": "The ApiController comes from an external package so I&#39;m going to delegate it&#39;s testing to the other package."}], "tags": [], "owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "is_accepted": false, "score": 0, "last_activity_date": 1572436905, "creation_date": 1572436905, "answer_id": 58624947, "question_id": 58624566, "link": "https://stackoverflow.com/questions/58624566/inter-dependencies-between-flutter-providers/58624947#58624947", "title": "Inter-dependencies between Flutter Providers", "body": "<p>That is voluntarily unsupported.\nProvider forces uni-directional dataflow for a better code quality. </p>\n\n<p>A potential solution in your situation is to split ApiController in multiple pieces, like UserController et SomethingController.</p>\n"}, {"comments": [{"owner": {"reputation": 4158, "user_id": 1810447, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5431dc98957e34339ab648613de3c861?s=128&d=identicon&r=PG", "display_name": "The Tahaan", "link": "https://stackoverflow.com/users/1810447/the-tahaan"}, "edited": false, "score": 0, "creation_date": 1572440070, "post_id": 58625695, "comment_id": 103559234, "body": "I will do something like this.  Itis more complicated though.  On the loading page, if the app is not yet logged in, redirect to the login flow (Step 1 ask user Email, Step 2 ask one-time PIn, Step 3 Welcome/set up own profile, then direct to landing page).  On the other hand if the user is logged in there is a lot of other work to do (syncronise since last login and so on)"}], "tags": [], "owner": {"reputation": 303, "user_id": 9973108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DnFtHpUYg_w/AAAAAAAAAAI/AAAAAAAAADM/wvP6q6c-R_s/photo.jpg?sz=128", "display_name": "Hairon Chaviano", "link": "https://stackoverflow.com/users/9973108/hairon-chaviano"}, "is_accepted": false, "score": 0, "last_activity_date": 1572439527, "creation_date": 1572439527, "answer_id": 58625695, "question_id": 58624566, "link": "https://stackoverflow.com/questions/58624566/inter-dependencies-between-flutter-providers/58625695#58625695", "title": "Inter-dependencies between Flutter Providers", "body": "<p>That's my advice on how to handle this particular case:</p>\n\n<p>You can create a Splash View this page will be before the Login and on that page, you need to handle if the data is saved in the SharedPreferences or not. So let's do the following: you need to create a User DAO in this class you will include 3 functions (saveUser(),getUser() and removeUser()), so in the API class when you logged response is success you'll call the saveUser() and save the user data into the SharedPreferences, in the getUser() you check if the values exist in the SharedPreferences and if exist you return the data and if not return a message. Later in the Splash bloc you call the values of getUser() and in the view, you check if the values exist and navigate to the next page or launch an error message, is a lot of code to write but believe me is the best way. I almost forgot to say the removeUser() is for the Logout and the function is very simple just remove the values from the SharedPreferences</p>\n"}], "owner": {"reputation": 4158, "user_id": 1810447, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5431dc98957e34339ab648613de3c861?s=128&d=identicon&r=PG", "display_name": "The Tahaan", "link": "https://stackoverflow.com/users/1810447/the-tahaan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1572439527, "creation_date": 1572435580, "question_id": 58624566, "link": "https://stackoverflow.com/questions/58624566/inter-dependencies-between-flutter-providers", "title": "Inter-dependencies between Flutter Providers", "body": "<p>How does one \"Provider\" class access elements in another?</p>\n\n<p>Eg the \"ApiController\" needs the \"userID\" and the \"sessionToken\" from the UserInfo Provider.</p>\n\n<p>The UserInfo provider needs to load these from the Shared preferences, but if these items are not yet inthe SharedPreferences, eg before the user logs in, then it will be null and the UserInfo needs to provide that.</p>\n\n<p>The UserInfo further needs the ApiController to get other information about the user from the Api, eg the Avatar and other properties.</p>\n"}, {"tags": ["flutter", "dart", "shopping-cart", "setstate"], "comments": [{"owner": {"reputation": 825, "user_id": 10688718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3602f24b720ad94fffaaea689b44c4fe?s=128&d=identicon&r=PG&f=1", "display_name": "Salma.", "link": "https://stackoverflow.com/users/10688718/salma"}, "edited": false, "score": 0, "creation_date": 1572440891, "post_id": 58624429, "comment_id": 103559725, "body": "why not use a cart stream in the bloc and streambuilder for the cart widget? you can pass the bloc object in the bigger widget to the smaller one and update it there as well"}, {"owner": {"reputation": 963, "user_id": 10876063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T9tzR.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/10876063/umair"}, "reply_to_user": {"reputation": 825, "user_id": 10688718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3602f24b720ad94fffaaea689b44c4fe?s=128&d=identicon&r=PG&f=1", "display_name": "Salma.", "link": "https://stackoverflow.com/users/10688718/salma"}, "edited": false, "score": 1, "creation_date": 1572844869, "post_id": 58624429, "comment_id": 103673581, "body": "Yes, for me that worked. Thankyou for the help"}], "answers": [{"comments": [{"owner": {"reputation": 963, "user_id": 10876063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T9tzR.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/10876063/umair"}, "edited": false, "score": 0, "creation_date": 1572435523, "post_id": 58624494, "comment_id": 103556721, "body": "In bloc pattern, can we handle states of more than two widgets simaltaneously?. Because i am using two different stateful widget one have bottom navigation bar and other have product screen."}, {"owner": {"reputation": 526, "user_id": 11445644, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QGjqM5wFVVs/AAAAAAAAAAI/AAAAAAAAAK8/P35AXaF-omk/photo.jpg?sz=128", "display_name": "Devarsh Ranpara", "link": "https://stackoverflow.com/users/11445644/devarsh-ranpara"}, "reply_to_user": {"reputation": 963, "user_id": 10876063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T9tzR.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/10876063/umair"}, "edited": false, "score": 0, "creation_date": 1572588973, "post_id": 58624494, "comment_id": 103613689, "body": "Yes you can manage more then one state with bloc pattern, You need to create multiple streams and multiple stream builders,  If you don&#39;t want to use BloC pattern you can use Inherited Widget and use state of another class from almost anywhere.  You can reference above link for inherited widget   <a href=\"https://github.com/devarshranpara/flutter_showcaseview/blob/master/lib/showcase_widget.dart\" rel=\"nofollow noreferrer\">github.com/devarshranpara/flutter_showcaseview/blob/master/l&zwnj;&#8203;ib/&hellip;</a>"}], "tags": [], "owner": {"reputation": 526, "user_id": 11445644, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QGjqM5wFVVs/AAAAAAAAAAI/AAAAAAAAAK8/P35AXaF-omk/photo.jpg?sz=128", "display_name": "Devarsh Ranpara", "link": "https://stackoverflow.com/users/11445644/devarsh-ranpara"}, "is_accepted": false, "score": 0, "last_activity_date": 1572435277, "creation_date": 1572435277, "answer_id": 58624494, "question_id": 58624429, "link": "https://stackoverflow.com/questions/58624429/how-to-handle-a-one-widget-state-from-another-widget-state/58624494#58624494", "title": "How to handle a one widget state from another widget state?", "body": "<p>You can use BLoC pattern for this,</p>\n\n<p><a href=\"https://stackoverflow.com/a/57970676/11445644\">Here</a> is full answer and demo code that you can check.</p>\n"}, {"tags": [], "owner": {"reputation": 479, "user_id": 11144200, "user_type": "registered", "profile_image": "https://graph.facebook.com/2331954870177756/picture?type=large", "display_name": "Anirudh Sharma", "link": "https://stackoverflow.com/users/11144200/anirudh-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1572436032, "creation_date": 1572436032, "answer_id": 58624688, "question_id": 58624429, "link": "https://stackoverflow.com/questions/58624429/how-to-handle-a-one-widget-state-from-another-widget-state/58624688#58624688", "title": "How to handle a one widget state from another widget state?", "body": "<p>You can pass the entire function into a widget just implemented like below</p>\n\n<pre><code>class Parent extends StatefulWidget {\n  @override\n  _ParentState createState() =&gt; _ParentState();\n}\n\nclass _ParentState extends State&lt;Parent&gt; {\n  @override\n  Widget build(BuildContext context) {\n    return Button(\n        (){\n          setState(() {\n            ///define your logic here\n          });\n        }\n    );\n  }\n}\n\nclass Button extends StatelessWidget {\n  final Function onTap;\n  Button(this.onTap);\n  @override\n  Widget build(BuildContext context) {\n    return FlatButton(\n      onPressed: onTap,\n    );\n  }\n}\n\n</code></pre>\n\n<p>But if your project is pretty big then I will recommend you to use any state management libraries just like redux or mobx.</p>\n\n<p><a href=\"https://pub.dev/packages/mobx\" rel=\"nofollow noreferrer\">https://pub.dev/packages/mobx</a></p>\n"}, {"tags": [], "owner": {"reputation": 1024, "user_id": 2592158, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/epnek.jpg?s=128&g=1", "display_name": "Cristian Bregant", "link": "https://stackoverflow.com/users/2592158/cristian-bregant"}, "is_accepted": false, "score": 0, "last_activity_date": 1572446258, "creation_date": 1572446258, "answer_id": 58627791, "question_id": 58624429, "link": "https://stackoverflow.com/questions/58624429/how-to-handle-a-one-widget-state-from-another-widget-state/58627791#58627791", "title": "How to handle a one widget state from another widget state?", "body": "<p>Why not use keys?\nAssign at both widget a GlobalKey and then, when you need to update that state you just need to call</p>\n\n<pre><code>yourGlobalKeyName.currentState.setState((){\n  //your code\n});\n</code></pre>\n"}], "owner": {"reputation": 963, "user_id": 10876063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T9tzR.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/10876063/umair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 680, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1572446258, "creation_date": 1572435052, "question_id": 58624429, "link": "https://stackoverflow.com/questions/58624429/how-to-handle-a-one-widget-state-from-another-widget-state", "title": "How to handle a one widget state from another widget state?", "body": "<p>I am making a flutter application that have shopping cart. Right now, i am just working on a single functionality of it when we select a particular product, after increase or decrease its quantity then our cart doesnot show the quantity of that item on the cart immediately. we have to go to another widget then it update the count on cart. \nNote: HomeScreen comprise of two stateful widget, one is bottom navigation bar which have cart and other icons along with other icons and their respective UI's and other one is Product screen which is showing all our products, and in my product screen i used listview and in its UI i used - and + icons to increase or decrease its quantity. I am sharing the code of the widget - and +(a small portion of product screen) on which i want to implement this functionality.\nThis is the video link to show\n<a href=\"https://youtu.be/3qqVpmWguys\" rel=\"nofollow noreferrer\">https://youtu.be/3qqVpmWguys</a></p>\n\n<p>HomeScreen:</p>\n\n<pre><code>class HomeScreen extends StatefulWidget {\n  @override\n  _HomeScreenState createState() =&gt; _HomeScreenState();\n}\n\nclass _HomeScreenState extends State&lt;HomeScreen&gt; {\n  //static _HomeScreenState of(BuildContext context) =&gt; context.ancestorStateOfType(const TypeMatcher&lt;_HomeScreenState&gt;());\n  int _currentindex = 0;\n  var cart;\n\n  final List&lt;Widget&gt; children = [\n    ProductScreen(),\n    OrderScreen(),\n    CartScreen(),\n    AccountScreen(),\n  ];\n\n  List&lt;BottomNavigationBarItem&gt; _buildNavigationItems() {\n    var bloc = Provider.of&lt;CartManager&gt;(context);\n    int totalCount = bloc.getCart().length;\n    setState(() {\n      totalCount;\n    });\n\n    return &lt;BottomNavigationBarItem&gt;[\n      BottomNavigationBarItem(\n        icon: Icon(\n          Icons.reorder,\n          size: 30,\n          color: Colors.white,\n        ),\n        title: Text(\n          'Product',\n          style: TextStyle(fontSize: 15, color: Colors.white),\n        ),\n      ),\n      BottomNavigationBarItem(\n        icon: Icon(\n          Icons.add_alert,\n          size: 30,\n          color: Colors.white,\n        ),\n        title: Text(\n          'Order',\n          style: TextStyle(fontSize: 15, color: Colors.white),\n        ),\n      ),\n      BottomNavigationBarItem(\n        icon: Stack(\n          children: &lt;Widget&gt;[\n            Icon(\n              Icons.shopping_cart,\n              size: 30,\n              color: Colors.white,\n            ),\n            Positioned(\n              bottom: 12.0,\n              right: 0.0,\n\n              child: Container(\n                constraints: BoxConstraints(\n                  minWidth: 20.0,\n                  minHeight: 20.0,\n                ),\n                decoration: BoxDecoration(\n                  color: Colors.red,\n                  borderRadius: BorderRadius.circular(10.0),\n                ),\n                child: Center(\n                  child: Text(\n                    '$totalCount',\n                    style: TextStyle(\n                      fontSize: 12,\n                      color: Colors.white,\n                      fontWeight: FontWeight.bold,\n                    ),\n                  ),\n                ),\n              ),\n            )\n          ],\n        ),\n        title: Text(\n          'Cart',\n          style: TextStyle(fontSize: 15, color: Colors.white),\n        ),\n      ),\n      BottomNavigationBarItem(\n        icon: Icon(\n          Icons.lock,\n          size: 30,\n          color: Colors.white,\n        ),\n        title: Text(\n          'Account',\n          style: TextStyle(fontSize: 15, color: Colors.white),\n        ),\n      ),\n    ];\n  }\n\n  @override\n  Widget build(BuildContext context) {\n\n    return SafeArea(\n      child: Scaffold(\n        backgroundColor: Colors.white,\n        resizeToAvoidBottomPadding: true,\n        body: children[_currentindex],\n        bottomNavigationBar: BottomNavigationBar(\n          fixedColor: Colors.transparent,\n          backgroundColor: Colors.orange,\n          onTap: onNavigationTapbar,\n          currentIndex: _currentindex,\n          items: _buildNavigationItems(),\n          type: BottomNavigationBarType.fixed,\n        ),\n      ),\n    );\n  }\n\n  void onNavigationTapbar(int index) {\n    setState(() {\n      _currentindex = index;\n    });\n  }\n}\n</code></pre>\n\n<p>ProductScreen incrementor or decrementor:</p>\n\n<pre><code>class TEProductIncrementor extends StatefulWidget {\n  var product;\n  TEProductIncrementor({\n    this.product,\n  });\n\n  @override\n  _TEProductIncrementorState createState() =&gt; new _TEProductIncrementorState();\n}\n\nclass _TEProductIncrementorState extends State&lt;TEProductIncrementor&gt; {\n  int totalCount = 0;\n  @override\n  Widget build(BuildContext context) {\n    var cartmanager = CartManager();\n    void decrementsavecallback() {\n //     bloc.decreaseToCart(widget.ctlist);\n//CartManager().updateToCart(totalCount.toString(), widget.ctlist);\n      setState(() {\n        if (totalCount &gt; 0) {\n          totalCount--;\n          cartmanager.updateToCart(totalCount.toString(),widget.product);\n        }\n      });\n    }\n\n    void increasesavecallback() {\n      setState(() {\n          totalCount++;\n          cartmanager.updateToCart(totalCount.toString(),widget.product);\n      });\n    }\n\n\n      return Container(\n          margin: EdgeInsets.only(top: 8),\n          decoration: BoxDecoration(\n              borderRadius: BorderRadius.circular(10), color: Colors.orange),\n          child: Container(\n            child: Row(\n              mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n              children: &lt;Widget&gt;[\n                IconButton(\n                  iconSize: 30,\n                  icon: new Icon(\n                    Icons.remove,\n                  ),\n                  onPressed: () {\n                  decrementsavecallback();\n                  },\n                ),\n                Text(\n                  totalCount.toString(),\n                  style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold),\n                ),\n                IconButton(\n                  iconSize: 30,\n                  icon: new Icon(Icons.add),\n                  onPressed: () {\n                    increasesavecallback();\n                  },\n                )\n              ],\n            ),\n          ),\n        );\n  }\n}\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 263, "user_id": 8884254, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sDNbhEb1JQE/AAAAAAAAAAI/AAAAAAAAFw8/IsbTd312RyU/photo.jpg?sz=128", "display_name": "Dhaval Patel", "link": "https://stackoverflow.com/users/8884254/dhaval-patel"}, "edited": false, "score": 1, "creation_date": 1572436040, "post_id": 58624254, "comment_id": 103556960, "body": "You can open dart setting then select flutter sdk path and click on package get."}, {"owner": {"reputation": 971, "user_id": 12176146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i7saa6CD6nU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdnigVUDcRnIS2zpgJROryAZKe46w/photo.jpg?sz=128", "display_name": "raman raman", "link": "https://stackoverflow.com/users/12176146/raman-raman"}, "reply_to_user": {"reputation": 263, "user_id": 8884254, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sDNbhEb1JQE/AAAAAAAAAAI/AAAAAAAAFw8/IsbTd312RyU/photo.jpg?sz=128", "display_name": "Dhaval Patel", "link": "https://stackoverflow.com/users/8884254/dhaval-patel"}, "edited": false, "score": 0, "creation_date": 1572436251, "post_id": 58624254, "comment_id": 103557069, "body": "From where I can get dart setting???"}, {"owner": {"reputation": 263, "user_id": 8884254, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sDNbhEb1JQE/AAAAAAAAAAI/AAAAAAAAFw8/IsbTd312RyU/photo.jpg?sz=128", "display_name": "Dhaval Patel", "link": "https://stackoverflow.com/users/8884254/dhaval-patel"}, "edited": false, "score": 0, "creation_date": 1572436833, "post_id": 58624254, "comment_id": 103557391, "body": "Check your screenshot right side of &quot;Download Dart SDK&quot;"}, {"owner": {"reputation": 971, "user_id": 12176146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i7saa6CD6nU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdnigVUDcRnIS2zpgJROryAZKe46w/photo.jpg?sz=128", "display_name": "raman raman", "link": "https://stackoverflow.com/users/12176146/raman-raman"}, "reply_to_user": {"reputation": 263, "user_id": 8884254, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sDNbhEb1JQE/AAAAAAAAAAI/AAAAAAAAFw8/IsbTd312RyU/photo.jpg?sz=128", "display_name": "Dhaval Patel", "link": "https://stackoverflow.com/users/8884254/dhaval-patel"}, "edited": false, "score": 0, "creation_date": 1572441574, "post_id": 58624254, "comment_id": 103560150, "body": "it takes me to browser to download chcolate dart sdk"}], "owner": {"reputation": 971, "user_id": 12176146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i7saa6CD6nU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdnigVUDcRnIS2zpgJROryAZKe46w/photo.jpg?sz=128", "display_name": "raman raman", "link": "https://stackoverflow.com/users/12176146/raman-raman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572434413, "creation_date": 1572434413, "question_id": 58624254, "link": "https://stackoverflow.com/questions/58624254/i-opened-an-existing-flutter-app-in-android-studio-but-it-shows-error", "title": "I opened an Existing flutter app in android studio but it shows error", "body": "<p>I opened an existing flutter app in android studio but 2 errors appearing in the AS</p>\n\n<p>1st error is <strong>DART SDK IS NOT CONFIGURED</strong></p>\n\n<p>2nd error is <strong>NO DEVICE</strong> </p>\n\n<p><a href=\"https://i.stack.imgur.com/n2Xtw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n2Xtw.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "is_accepted": true, "score": 2, "last_activity_date": 1572441290, "last_edit_date": 1572441290, "creation_date": 1572439987, "answer_id": 58625822, "question_id": 58623919, "link": "https://stackoverflow.com/questions/58623919/flutter-exception-setstate-or-markneedsbuild-called-during-build-by-callin/58625822#58625822", "title": "Flutter exception `setState() or markNeedsBuild() called during build` by calling setState in a NotificationListener callback", "body": "<p>After <em>FutureBuilder</em> is built, it waits for future to return a value. After it is complete, you're calling <em>setState</em> and then <em>FutureBuilder</em> would be built again and so on, resulting in infinite repaint loop.</p>\n\n<p>Are you sure that you need FutureBuilder and NotificationListener in this case? You should probably do it in <em>initState</em> of your StatefulWidget like this:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>@override\nvoid initState() {\n  super.initState();\n\n  getData().then((data) {\n    setState(() {\n      _serverHasBeenCalled = true;\n      _modelDataRetrieved = true;\n    });\n  });\n}\n</code></pre>\n\n<p>You can also store <em>Future</em> in a state and pass it to <em>FutureBuilder</em>.</p>\n"}], "owner": {"reputation": 16131, "user_id": 267719, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/wq4fs.jpg?s=128&g=1", "display_name": "daveoncode", "link": "https://stackoverflow.com/users/267719/daveoncode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1332, "favorite_count": 0, "accepted_answer_id": 58625822, "answer_count": 1, "score": 0, "last_activity_date": 1572441290, "creation_date": 1572433292, "question_id": 58623919, "link": "https://stackoverflow.com/questions/58623919/flutter-exception-setstate-or-markneedsbuild-called-during-build-by-callin", "title": "Flutter exception `setState() or markNeedsBuild() called during build` by calling setState in a NotificationListener callback", "body": "<p>I'm having an hard time trying to figure out how to update a piece of a view based on a child view \"event\"... let me explain:</p>\n\n<p>I have a screen which is composed by a <code>Scaffold</code>, having as a <code>body</code> a custom widget which calls a rest api to get the data to display (it makes use of a <a href=\"https://api.flutter.dev/flutter/widgets/FutureBuilder-class.html\" rel=\"nofollow noreferrer\">FutureBuilder</a>), then it dispatch a <a href=\"https://api.flutter.dev/flutter/widgets/Notification-class.html\" rel=\"nofollow noreferrer\">Notification</a> (which basically wraps the Flutter's <a href=\"https://api.flutter.dev/flutter/widgets/AsyncSnapshot-class.html\" rel=\"nofollow noreferrer\">AsynchSnapshot</a>) that should be used in order to update the <code>floatingActionButton</code> (at least in my mind :P).</p>\n\n<p>This is the <code>build</code> method of the screen:</p>\n\n<pre><code>  @override\n  Widget build(BuildContext context) {\n    return NotificationListener&lt;MyNotification&gt;(\n      onNotification: onMyNotification,\n      child: Scaffold(\n        appBar: MyAppBar(),\n        body: MyRemoteObjectView(),\n        floatingActionButton: MyFloatingButton(),\n      ),\n    );\n  }\n</code></pre>\n\n<p>The view is rendered perfectly, the data is retrieved from the server and displayed by <code>MyRemoteObjectView</code> and the notification is successfully dispatched and received, BUT as soon as I call <code>setState()</code> in my callback, I get the exception:</p>\n\n<blockquote>\n  <p>setState() or markNeedsBuild() called during build.</p>\n</blockquote>\n\n<p>This is the callback (defined in the same class of the <code>build</code> method above):</p>\n\n<pre><code>bool onMyNotification(MyNotification notification) {\n    AsyncSnapshot snapshot = notification.snapshot;\n\n    if (snapshot.connectionState == ConnectionState.done) {\n      setState(() {\n        // these flags are used to customize the appearance and behavior of the floating button\n        _serverHasBeenCalled = true;\n        _modelDataRetrieved = snapshot.hasData;\n      });\n    }\n\n    return true;\n}\n</code></pre>\n\n<p>This is the point in which I send the notification (build method of <code>MyRemoteObjectView</code>'s state):</p>\n\n<pre><code>  @override\n  Widget build(BuildContext context) {\n    return FutureBuilder&lt;T&gt;(\n      future: getData(),\n      builder: (BuildContext context, AsyncSnapshot&lt;T&gt; snapshot) {\n        MyNotification(snapshot).dispatch(context);\n        // ...\n</code></pre>\n\n<p>The point is: <strong>how</strong> and <strong>when</strong> should I tell Flutter to redraw the floating button (and/or other widgets)? (because of course without the <code>setState</code> I don't have the exception but the button is not refreshed)</p>\n\n<p>Am I getting the whole thing wrong? Is there an easier way to do it? Let me know</p>\n"}, {"tags": ["android", "flutter", "dart"], "comments": [{"owner": {"reputation": 1277, "user_id": 1737811, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ab510b7d0d145c538fcc7638395ee703?s=128&d=identicon&r=PG", "display_name": "mutantkeyboard", "link": "https://stackoverflow.com/users/1737811/mutantkeyboard"}, "edited": false, "score": 0, "creation_date": 1572431875, "post_id": 58623331, "comment_id": 103554775, "body": "Did you have a look here? =&gt; <a href=\"https://medium.com/stuart-engineering/%EF%B8%8F-the-tricky-task-of-keeping-flutter-running-on-android-2d51bbc60882\" rel=\"nofollow noreferrer\">medium.com/stuart-engineering/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11165, "user_id": 2000300, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/c8eI2.jpg?s=128&g=1", "display_name": "pdegand59", "link": "https://stackoverflow.com/users/2000300/pdegand59"}, "is_accepted": false, "score": 0, "last_activity_date": 1572440830, "creation_date": 1572440830, "answer_id": 58626083, "question_id": 58623331, "link": "https://stackoverflow.com/questions/58623331/running-a-flutter-app-on-the-foreground-24-7/58626083#58626083", "title": "Running a Flutter app on the foreground 24/7", "body": "<p>You can use <a href=\"https://support.google.com/android/answer/9455138?visit_id=637080373127133374-3710676579&amp;rd=1\" rel=\"nofollow noreferrer\">Screen Pinning</a> which requires no code.</p>\n\n<p>Or you can implement <a href=\"https://developer.android.com/work/dpc/dedicated-devices/lock-task-mode\" rel=\"nofollow noreferrer\">Lock task mode</a>.</p>\n"}], "owner": {"reputation": 63, "user_id": 8771727, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-F1j_Eeun_D4/AAAAAAAAAAI/AAAAAAAAAEw/5Q2SbqFFYa4/photo.jpg?sz=128", "display_name": "Emam", "link": "https://stackoverflow.com/users/8771727/emam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 442, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572440830, "creation_date": 1572431405, "question_id": 58623331, "link": "https://stackoverflow.com/questions/58623331/running-a-flutter-app-on-the-foreground-24-7", "title": "Running a Flutter app on the foreground 24/7", "body": "<p>I Have a flutter app that is supposed to be a display app for some contents besides ads for some restaurants...The app is supposed to work 24/7 and will be on andriod tablets only.</p>\n\n<p>I have searched a lot and the latest thing I found was to set the app to be a system app using the following tags </p>\n\n<pre><code>    &lt;category android:name=\"android.intent.category.DEFAULT\"/&gt;\n    &lt;category android:name=\"android.intent.category.HOME\"/&gt;\n</code></pre>\n\n<p>and the premission</p>\n\n<pre><code>    &lt;uses-permission android:name=\"android.permission.WAKE_LOCK\" /&gt;\n</code></pre>\n\n<p>and I am using the \"screen\" plugin as well to keep the screen always on.\nThe problem now is the screen is always on and the app running without any problems for 24 and some times for 48 hours then the lock screen shows up and after unlocking the screen the app is on the foreground playing without any problems.\nIs there any way to keep the app displaying always on the foreground?\nor a way to disable the lock screen from appearing if it causing the issue?</p>\n"}, {"tags": ["flutter", "dart", "google-cloud-firestore", "stream"], "answers": [{"tags": [], "owner": {"reputation": 149, "user_id": 8619512, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-43IAYxiOZg0/AAAAAAAAAAI/AAAAAAAAAD0/Zvs2aTvbonI/photo.jpg?sz=128", "display_name": "Marc Ma", "link": "https://stackoverflow.com/users/8619512/marc-ma"}, "is_accepted": false, "score": 1, "last_activity_date": 1572429545, "creation_date": 1572429545, "answer_id": 58622758, "question_id": 58622263, "link": "https://stackoverflow.com/questions/58622263/flutterview-send-called-on-a-detached-view-channel-plugins-flutter-io-cloud-fir/58622758#58622758", "title": "FlutterView.send called on a detached view, channel=plugins.flutter.io/cloud_firestore", "body": "<p>Since you're updating the Widget-Tree i would wrap it in a Statefull Widget. That may fix the problem, but i am not sure.</p>\n"}, {"tags": [], "owner": {"reputation": 447, "user_id": 5328768, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NutM_vLoyL8/AAAAAAAAAAI/AAAAAAAAADc/zKIFBl293u0/photo.jpg?sz=128", "display_name": "Mahdi Zakizadeh", "link": "https://stackoverflow.com/users/5328768/mahdi-zakizadeh"}, "is_accepted": true, "score": 0, "last_activity_date": 1572515922, "creation_date": 1572515922, "answer_id": 58640786, "question_id": 58622263, "link": "https://stackoverflow.com/questions/58622263/flutterview-send-called-on-a-detached-view-channel-plugins-flutter-io-cloud-fir/58640786#58640786", "title": "FlutterView.send called on a detached view, channel=plugins.flutter.io/cloud_firestore", "body": "<p>Well, I found the problem. I think <code>StreamZip</code> waits until all streams emit once then run builder function. I think I should use Something like <code>Observable.merge</code> or <code>StreamGroup.merge</code> but I have problem with that too and it's a little tricky to handle that. So for now I'm using two nested <code>StreamBuilder</code>s and it's works fine</p>\n"}], "owner": {"reputation": 447, "user_id": 5328768, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NutM_vLoyL8/AAAAAAAAAAI/AAAAAAAAADc/zKIFBl293u0/photo.jpg?sz=128", "display_name": "Mahdi Zakizadeh", "link": "https://stackoverflow.com/users/5328768/mahdi-zakizadeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 447, "favorite_count": 0, "accepted_answer_id": 58640786, "answer_count": 2, "score": 0, "last_activity_date": 1572515922, "creation_date": 1572427898, "question_id": 58622263, "link": "https://stackoverflow.com/questions/58622263/flutterview-send-called-on-a-detached-view-channel-plugins-flutter-io-cloud-fir", "title": "FlutterView.send called on a detached view, channel=plugins.flutter.io/cloud_firestore", "body": "<p>I'm trying to create a responsive listview that when data updated, the list automatically refreshes. I'm using streams and firestore database to do that but every time data changes this message pops in log:</p>\n\n<pre><code>D/FlutterNativeView(15626): FlutterView.send called on a detached view, channel=plugins.flutter.io/cloud_firestore\n</code></pre>\n\n<p>And here is my page code:\n<a href=\"https://gist.github.com/mahdizakizadeh/09df2d5f85c4c23294cfb2c423707b20\" rel=\"nofollow noreferrer\">https://gist.github.com/mahdizakizadeh/09df2d5f85c4c23294cfb2c423707b20</a></p>\n\n<p>Is there anything that I'm missing?</p>\n"}, {"tags": ["firebase", "flutter", "dart"], "comments": [{"owner": {"reputation": 29006, "user_id": 2851937, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WSTnU.png?s=128&g=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/2851937/jay"}, "edited": false, "score": 0, "creation_date": 1572451030, "post_id": 58622116, "comment_id": 103565845, "body": "The question is a bit unclear and Firebase products are NoSQL and don&#39;t have pre-defined fields like SQL does. When you write the field data, the field is created with it. In fact if you write field data into a document that&#39;s part of a collection that doesn&#39;t exist - ALL of that data is created automatically - the collection, the document, the fields and the data."}, {"owner": {"reputation": 9, "user_id": 12296169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2ee6f1eb3439ab173daa497602f0011?s=128&d=identicon&r=PG&f=1", "display_name": "Dawn10809", "link": "https://stackoverflow.com/users/12296169/dawn10809"}, "reply_to_user": {"reputation": 29006, "user_id": 2851937, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WSTnU.png?s=128&g=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/2851937/jay"}, "edited": false, "score": 0, "creation_date": 1572496267, "post_id": 58622116, "comment_id": 103580377, "body": "So, if I wanted to add information to an account I created via firebase for over 5,000 people i&#39;ll have to do it manually? for each student?"}, {"owner": {"reputation": 29006, "user_id": 2851937, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WSTnU.png?s=128&g=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/2851937/jay"}, "edited": false, "score": 0, "creation_date": 1572530723, "post_id": 58622116, "comment_id": 103595268, "body": "Note sure I understand the question. As the user enters their data into your app, it would be added to Firestore or the RTDB. Likewise if you have an existing roster of students you could either write an app that uploads it, which should be pretty straightforward or if you&#39;re using the RTDB, you could upload the file as JSON. Bottom line is that the data needs to get into Firebase one way or the other but the question is unclear about your process or what you&#39;re trying to do exactly."}], "owner": {"reputation": 9, "user_id": 12296169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2ee6f1eb3439ab173daa497602f0011?s=128&d=identicon&r=PG&f=1", "display_name": "Dawn10809", "link": "https://stackoverflow.com/users/12296169/dawn10809"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572428223, "creation_date": 1572427438, "last_edit_date": 1572428223, "question_id": 58622116, "link": "https://stackoverflow.com/questions/58622116/how-to-create-already-made-collections-when-i-register-a-user-account-on-firebas", "title": "How to create already made collections when i register a user account on firebase", "body": "<p>I'm using flutter with firebase, when i register an account into firebase how do i get a <code>.collection('userData').document(uid)</code></p>\n\n<p><code>.collection('bio')</code> already make with that account, what i want to do is, when i create the account, some data is already in the 'bio' documents for me in the cloud Firestore  such as:</p>\n\n<pre><code>name: \"\"\n\nage: \"\"\n\ndate: \"\"\n\nheight:  \"\"\n</code></pre>\n\n<p>and so on, then all i have to do is fill out those fields to  show on my  app, i'm doing this for all the students in my school, and i can do it manually but that will take way to long since its way over 5,000 students, or is it even possible to copy the .collection with one array of data  such as the one above and paste in into each user 'bio' document and go from there with each of them instead of having to keep adding fields for each one.</p>\n"}, {"tags": ["firebase", "flutter", "dart", "error-handling", "imagepicker"], "comments": [{"owner": {"reputation": 6551, "user_id": 11938462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFyyJ.jpg?s=128&g=1", "display_name": "Pablo Barrera", "link": "https://stackoverflow.com/users/11938462/pablo-barrera"}, "edited": false, "score": 0, "creation_date": 1572428329, "post_id": 58622035, "comment_id": 103552820, "body": "Could you post the error you&#39;re getting?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12227098"}, "reply_to_user": {"reputation": 6551, "user_id": 11938462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFyyJ.jpg?s=128&g=1", "display_name": "Pablo Barrera", "link": "https://stackoverflow.com/users/11938462/pablo-barrera"}, "edited": false, "score": 0, "creation_date": 1572431272, "post_id": 58622035, "comment_id": 103554451, "body": "@PabloBarrera just added it at the bottom its strange because I think since it cant display an image its trying to take the value in my &quot;Price&quot; <code>textformfield</code>"}, {"owner": {"reputation": 6551, "user_id": 11938462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFyyJ.jpg?s=128&g=1", "display_name": "Pablo Barrera", "link": "https://stackoverflow.com/users/11938462/pablo-barrera"}, "edited": false, "score": 0, "creation_date": 1572432084, "post_id": 58622035, "comment_id": 103554867, "body": "You posted all the code of CarItem? It seems that inside the build() method of CarItem somewhere you&#39;re using &quot;+&quot; and I don&#39;t see any &quot;+&quot; in the code you posted."}, {"owner": {"reputation": 2075, "user_id": 8773560, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4263c95e332a7fe29736c8d526d35289?s=128&d=identicon&r=PG", "display_name": "Constantin N.", "link": "https://stackoverflow.com/users/8773560/constantin-n"}, "edited": false, "score": 0, "creation_date": 1572432421, "post_id": 58622035, "comment_id": 103555066, "body": "This error doesn&#39;t refer to image.As the error messages says <code>The method &#39;+&#39; was called on null.</code> just look into your CaItem where you are using <code>+</code> operator left-hand value is null"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12227098"}, "edited": false, "score": 0, "creation_date": 1572432532, "post_id": 58622035, "comment_id": 103555145, "body": "its my price code which i didnt include because i just wanted to keep the code short relating to the image but here is the price code display which is giving an error ` Text(currencyT + price,style: TextStyle(color:Theme.of(context).accentColor, fontWeight: FontWeight.bold,),),`"}, {"owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "edited": false, "score": 0, "creation_date": 1572519714, "post_id": 58622035, "comment_id": 103589251, "body": "Is that this line? car_item.dart:151 if so, then currencyT is null. Where does this value come from?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12227098"}, "edited": false, "score": 0, "creation_date": 1572528234, "post_id": 58622035, "comment_id": 103593905, "body": "yes it is. the currencyT is a dropdown item with 2 values which are currencies one for Dollar and one for Euro"}], "owner": {"user_type": "does_not_exist", "display_name": "user12227098"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572431208, "creation_date": 1572427150, "last_edit_date": 1572431208, "question_id": 58622035, "link": "https://stackoverflow.com/questions/58622035/storing-the-image-as-url-and-posting-it-in-my-app", "title": "Storing the image as url and posting it in my app?", "body": "<p>Ill try and provide as much code as possible. (mainly regarding the image ill be using \"other data\" instead of posting non needed code besides the image)</p>\n\n<p>So in my app I have a <code>File image;</code> provider and im having issues with getting to display it on my app. Im unable to pass the <code>File</code> image path into <code>firebase</code> and its causing my app to crash when I try <code>Fetching</code> the data from firebase. Ill try providing as much code as possible.</p>\n\n<p>Here is my provider:</p>\n\n<pre><code>import 'dart:io';\n\nclass AddCar {\n // other data\n  File image;\n\n  AddCar({\n    // other data\n    this.image,\n  });\n}\n\n</code></pre>\n\n<p>Here is my provider code:</p>\n\n<pre><code>import 'dart:convert';\nimport 'package:flutter/material.dart';\nimport 'package:http/http.dart' as http;\nimport 'dart:io';\nimport '../add_ons/add_car.dart';\n\nList&lt;AddCar&gt; _cars = [];\n\nclass Cars with ChangeNotifier {\n  List&lt;AddCar&gt; get cars {\n    return [..._cars];\n  }\n\n  Future&lt;void&gt; fetchAndSetCars() async {\n    const url = 'https://mycustomlink.firebaseio.com/cars.json';\n    try {\n      final response = await http.get(url);\n      final extractedData = json.decode(response.body) as Map&lt;String, dynamic&gt;;\n      var loadedCars = extractedData\n          .map&lt;String, AddCar&gt;((carId, carData) =&gt; MapEntry(\n              carId,\n              AddCar(\n                // other data\n                image: File(carData['image']),\n              )))\n          .values\n          .toList();\n      _cars = loadedCars;\n      print(extractedData);\n      print(loadedCars);\n      notifyListeners();\n    } catch (error) {\n      throw (error);\n    }\n  }\n\n  AddCar findById(String id) {\n    return _cars.firstWhere((carProd) =&gt; carProd.id == id);\n  }\n\n  void addCar(AddCar car) {\n    const url = 'https://mycustomlink.firebaseio.com/cars.json';\n    http.post(\n      url,\n      body: json.encode({\n        // other data\n        'image': car.image.toString(),\n      }),\n    );\n    final newCar = AddCar(\n      // other data\n      image: car.image,\n    );\n    _cars.insert(0, newCar);\n\n    notifyListeners();\n  }\n}\n</code></pre>\n\n<p>here is my <code>form</code> where the user enters data for it to be displayed:</p>\n\n<pre><code>import 'dart:convert';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_app/app_localization.dart';\nimport 'package:google_fonts_arabic/fonts.dart';\nimport 'package:provider/provider.dart';\nimport 'package:file_picker/file_picker.dart';\nimport 'package:image_picker/image_picker.dart';\nimport 'dart:io';\n\nimport 'package:path/path.dart' as path;\nimport 'package:path_provider/path_provider.dart' as syspaths;\n\nimport '../add_ons/add_car.dart';\nimport '../providers/car_provider.dart';\n\nimport '../drawer/drawer.dart';\nimport '../screens/cars_screen.dart';\nimport '../app_localization.dart';\n\nclass CreateCar extends StatefulWidget {\n  static const routeName = '/create-car';\n\n  @override\n  _CreateCarState createState() =&gt; _CreateCarState();\n}\n\nclass _CreateCarState extends State&lt;CreateCar&gt; {\n  final _name = TextEditingController();\n  final _price = TextEditingController();\n  final _address = TextEditingController();\n\n  String img;\n\n  static Future&lt;String&gt; fileToB64(File f) async {\n    List&lt;int&gt; imageBytes = f.readAsBytesSync();\n\n    return base64Encode(\n      imageBytes,\n    );\n  }\n\n  Future&lt;void&gt; _takePicture() async {\n    final imageFile = await ImagePicker.pickImage(\n      source: ImageSource.gallery,\n    );\n    fileToB64(data.image).then((d) {\n      setState(() {\n        img = d; //base64Decode(d);\n      });\n    });\n  }\n\n  final _form = GlobalKey&lt;FormState&gt;();\n\n  int currStep = 0;\n  static AddCar data = new AddCar(\n    id: null,\n    date: DateTime.now(),\n    sponsNum: '',\n  );\n\n  void _saveForm() {\n    final isValid = _form.currentState.validate();\n    if (!isValid) {\n      return;\n    }\n    _form.currentState.save();\n    Provider.of&lt;Cars&gt;(context, listen: false).addCar(data);\n    Navigator.of(context).pushNamed(CarsScreen.routeName);\n    print('this works');\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    List&lt;Step&gt; steps = [\n      Step(\n        title: Text(\n          AppLocalizations.of(context).createTabTitle,\n        ),\n        isActive: true,\n        state: StepState.indexed,\n        content: Column(\n          children: &lt;Widget&gt;[\n            // other data\n          ],\n        ),\n      ),\n      Step(\n        title: Text(\n          AppLocalizations.of(context).createCarDetails,\n        ),\n        isActive: true,\n        state: StepState.indexed,\n        content: Column(\n          children: &lt;Widget&gt;[\n            // other data\n            Column(\n              children: &lt;Widget&gt;[\n                Padding(\n                  padding: const EdgeInsets.only(top: 25.0),\n                  child: Container(\n                    decoration: BoxDecoration(\n                      border: Border.all(color: Theme.of(context).primaryColor),\n                      borderRadius: BorderRadius.circular(50.0),\n                    ),\n                    child: FlatButton(\n                      child: Text(AppLocalizations.of(context).createAddImages),\n                      onPressed: _takePicture,\n                    ),\n                  ),\n                )\n              ],\n            )\n          ],\n        ),\n      ),\n    ];\n\n    return Scaffold(\n      appBar: AppBar(\n        centerTitle: true,\n        title: Text(\n          AppLocalizations.of(context).createCarPageTitle,\n          textAlign: TextAlign.center,\n          style: TextStyle(\n            fontFamily: ArabicFonts.Tajawal,\n            package: 'google_fonts_arabic',\n          ),\n        ),\n        actions: &lt;Widget&gt;[\n          Row(\n            mainAxisAlignment: MainAxisAlignment.spaceBetween,\n            children: &lt;Widget&gt;[\n              IconButton(\n                icon: Icon(Icons.save),\n                onPressed: _saveForm,\n              ),\n              IconButton(\n                icon: Icon(Icons.arrow_forward),\n                onPressed: () {\n                  Navigator.of(context).pop();\n                },\n              )\n            ],\n          ),\n        ],\n      ),\n      drawer: MyDrawer(),\n      body: Row(\n        children: &lt;Widget&gt;[\n          Form(\n            key: _form,\n            child: Expanded(\n              child: Stepper(\n                steps: steps,\n                type: StepperType.vertical,\n                currentStep: this.currStep,\n                onStepContinue: () {\n                  setState(() {\n                    if (currStep &lt; steps.length - 1) {\n                      currStep = currStep + 1;\n                    } else {\n                      // currStep = 0;\n                    }\n                  });\n                },\n                onStepCancel: () {\n                  setState(() {\n                    if (this.currStep &gt; 0) {\n                      this.currStep = this.currStep - 1;\n                    } else {\n                      this.currStep = 0;\n                    }\n                  });\n                },\n                onStepTapped: (step) {\n                  setState(() {\n                    currStep = step;\n                  });\n                },\n              ),\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n}\n\n</code></pre>\n\n<p>which is later passed into my \"CarItem\" that will display my code:</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:google_fonts_arabic/fonts.dart';\nimport '../icons/MyIcons.dart';\nimport 'dart:io';\n\nimport '../details/car_details.dart';\nimport '../app_localization.dart';\n\nclass CarItem extends StatelessWidget {\n  final File image;\n\n  CarItem(\n   this.image,\n  );\n\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n      decoration: BoxDecoration(\n        border: Border(\n          bottom: BorderSide(color: Theme.of(context).primaryColor, width: 2.0),\n        ),\n      ),\n      child: Column(\n        children: &lt;Widget&gt;[\n          Container(\n            decoration: BoxDecoration(\n              color: Color.fromARGB(255, 245, 245, 245),\n            ),\n            child: Padding(\n              padding: const EdgeInsets.fromLTRB(17.0, 4.0, 17.0, 4.0),\n              child: Row(\n                textDirection: TextDirection.rtl,\n                mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                children: &lt;Widget&gt;[\n                  // other data\n                ],\n              ),\n            ),\n          ),\n          Row(\n            mainAxisAlignment: MainAxisAlignment.end,\n            crossAxisAlignment: CrossAxisAlignment.center,\n            children: &lt;Widget&gt;[\n              Container(\n                width: MediaQuery.of(context).size.width * 0.35,\n                height: MediaQuery.of(context).size.width * 0.35,\n                child: GestureDetector(\n                  child: Image.file(\n                    image,\n                    fit: BoxFit.fill,\n                  ),\n                  onTap: () {\n                    Navigator.of(context).pushNamed(\n                      MyCarDetails.routeName,\n                      arguments: id,\n                    );\n                  },\n                ),\n              ),\n              Container(\n                width: MediaQuery.of(context).size.width * 0.65,\n                margin: EdgeInsets.all(0),\n                padding: const EdgeInsets.fromLTRB(22.0, 5.0, 22.0, 0),\n                child: Column(\n                  children: &lt;Widget&gt;[\n                    // other data\n                        ],\n                      ),\n                    ),\n                  ],\n                ),\n              ),\n            ],\n          ),\n        ],\n      ),\n    );\n  }\n}\n\n</code></pre>\n\n<p>this code gets called by a list that will call the code and display it in my app:</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport 'package:google_fonts_arabic/fonts.dart';\n\nimport '../providers/car_provider.dart';\nimport '../widget/car_item.dart';\n\nclass CarsList extends StatefulWidget {\n  @override\n  _CarsListState createState() =&gt; _CarsListState();\n}\n\nclass _CarsListState extends State&lt;CarsList&gt; {\n  @override\n  Widget build(BuildContext context) {\n    final carsData = Provider.of&lt;Cars&gt;(context);\n    final car = carsData.cars;\n    return car.isEmpty\n        ? Center(\n            child: Text(\n            'no data yet available',\n            style: TextStyle(\n              fontFamily: ArabicFonts.Tajawal,\n              fontWeight: FontWeight.bold,\n              package: 'google_fonts_arabic',\n            ),\n          ))\n        : ListView.builder(\n            padding: const EdgeInsets.only(bottom: 47.0),\n            itemCount: car.length,\n            itemBuilder: (ctx, i) =&gt; CarItem(\n              // other data\n              car[i].image,\n            ),\n          );\n  }\n}\n</code></pre>\n\n<p>this is the error i keep getting when It tries to display fetched data:</p>\n\n<pre><code>\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550 Exception caught by widgets library \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nThe following NoSuchMethodError was thrown building CarItem(dirty, dependencies: [_LocalizationsScope-[GlobalKey#31697], MediaQuery, _InheritedTheme]):\nThe method '+' was called on null.\nReceiver: null\nTried calling: +(\"25\")\n\nUser-created ancestor of the error-causing widget was\n    ListView \nlib\\home_parts\\cars_area.dart:49\nWhen the exception was thrown, this was the stack\n#0      Object.noSuchMethod  (dart:core-patch/object_patch.dart:51:5)\n#1      CarItem.build \npackage:flutter_app/widget/car_item.dart:151\n#2      StatelessElement.build \npackage:flutter/\u2026/widgets/framework.dart:4009\n#3      ComponentElement.performRebuild \npackage:flutter/\u2026/widgets/framework.dart:3941\n#4      Element.rebuild \npackage:flutter/\u2026/widgets/framework.dart:3738\n...\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n</code></pre>\n\n<p>How can I fix this? is the issue in how im passing the data to firebase and displaying it on my app?</p>\n"}, {"tags": ["flutter", "dart", "sqflite"], "comments": [{"owner": {"reputation": 3029, "user_id": 10632369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/541566093e9d34a3858f5446d06a7a6e?s=128&d=identicon&r=PG", "display_name": "tomerpacific", "link": "https://stackoverflow.com/users/10632369/tomerpacific"}, "edited": false, "score": 0, "creation_date": 1572418627, "post_id": 58620017, "comment_id": 103548581, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/52068669/flutter-how-to-use-future-return-value-as-if-variable\">Flutter how to use Future return value as if variable</a>"}, {"owner": {"reputation": 57, "user_id": 12093312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d60b4c63d0e5c50cfe9b56167ab15353?s=128&d=identicon&r=PG&f=1", "display_name": "Squall32", "link": "https://stackoverflow.com/users/12093312/squall32"}, "reply_to_user": {"reputation": 3029, "user_id": 10632369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/541566093e9d34a3858f5446d06a7a6e?s=128&d=identicon&r=PG", "display_name": "tomerpacific", "link": "https://stackoverflow.com/users/10632369/tomerpacific"}, "edited": false, "score": 0, "creation_date": 1572419955, "post_id": 58620017, "comment_id": 103549053, "body": "No, i tried it and didn&#39;t make a difference, posted the edited code on the post"}, {"owner": {"reputation": 1523, "user_id": 11932722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJyxo.png?s=128&g=1", "display_name": "drogel", "link": "https://stackoverflow.com/users/11932722/drogel"}, "edited": false, "score": 0, "creation_date": 1572421029, "post_id": 58620017, "comment_id": 103549466, "body": "Can you tell us what is the <code>db.rawQuery(&#39;SELECT * FROM Usuario WHERE username=?&#39;, [X]);</code> call actually returning?"}, {"owner": {"reputation": 57, "user_id": 12093312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d60b4c63d0e5c50cfe9b56167ab15353?s=128&d=identicon&r=PG&f=1", "display_name": "Squall32", "link": "https://stackoverflow.com/users/12093312/squall32"}, "edited": false, "score": 0, "creation_date": 1572422061, "post_id": 58620017, "comment_id": 103549835, "body": "This is what im getting:  _columnIndexMap:Map (4 items) _columns:CastList _keys:List (4 items) _rows:CastList first:QueryRow hashCode:218916665 isEmpty:false isNotEmpty:true iterator:ListIterator keys:List (4 items) last:QueryRow length:1 reversed:ReversedListIterable runtimeType:Type (QueryResultSet) single:QueryRow"}, {"owner": {"reputation": 1277, "user_id": 1737811, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ab510b7d0d145c538fcc7638395ee703?s=128&d=identicon&r=PG", "display_name": "mutantkeyboard", "link": "https://stackoverflow.com/users/1737811/mutantkeyboard"}, "edited": false, "score": 0, "creation_date": 1572423518, "post_id": 58620017, "comment_id": 103550435, "body": "@Squall32 <code>rawQuery</code> returns the <code>List&lt;Map&gt;</code>, hence you need to iterate through the result with either <code>result.map(x =&gt; doWhateverWithx)</code>, or you could do <code>return result.first</code> to return just the first result."}, {"owner": {"reputation": 57, "user_id": 12093312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d60b4c63d0e5c50cfe9b56167ab15353?s=128&d=identicon&r=PG&f=1", "display_name": "Squall32", "link": "https://stackoverflow.com/users/12093312/squall32"}, "reply_to_user": {"reputation": 1277, "user_id": 1737811, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ab510b7d0d145c538fcc7638395ee703?s=128&d=identicon&r=PG", "display_name": "mutantkeyboard", "link": "https://stackoverflow.com/users/1737811/mutantkeyboard"}, "edited": false, "score": 1, "creation_date": 1572454450, "post_id": 58620017, "comment_id": 103567715, "body": "@mutantkeyboard Yes! that solved for me! now i got the names and the names i wanted from the tables, you made my day sir! im publishing my code so you know how i made it."}], "answers": [{"tags": [], "owner": {"reputation": 57, "user_id": 12093312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d60b4c63d0e5c50cfe9b56167ab15353?s=128&d=identicon&r=PG&f=1", "display_name": "Squall32", "link": "https://stackoverflow.com/users/12093312/squall32"}, "is_accepted": true, "score": 1, "last_activity_date": 1572455841, "creation_date": 1572455841, "answer_id": 58630644, "question_id": 58620017, "link": "https://stackoverflow.com/questions/58620017/how-to-transform-a-futuredynamic-to-string-in-dartflutter/58630644#58630644", "title": "how to transform a Future&lt;dynamic&gt; to string in dart:flutter", "body": "<p>It was a hell of a road, but i made it with the help of you all, but the final piece was @mutantkeyboard, what i was getting was a list of the different elements from the table of Sqflite, but after converting it with a variable and the .first function i get to transform it to another variables! here's what i made:</p>\n\n<pre><code>loginLogic() async {\n  final db = await database;\n  var table = await db.rawQuery(\"SELECT MAX(id)+1 as id FROM Usuario\");\n  int id = table.last[\"id\"];\n  for(var i=1; i&lt;id; i++){\n    var result = await db.rawQuery('SELECT username FROM Usuario WHERE id=?', [i]);\n    String Y = result.first[\"username\"];\n    if(Y=='Roberto'){\n      return 1;\n    }\n  }\n  return 0;\n}\n</code></pre>\n\n<p>if you want to compare it with another variable outside, for example, an auth for a local-login (that's what i was doing, just for educational purpose, i'll NEVER suggest you to put your usernames and passwords inside your local software) and compare the textfield.text with the table, then you can modify the code to something like this:</p>\n\n<pre><code>loginLogic(String field) async {\n  final db = await database;\n  var table = await db.rawQuery(\"SELECT MAX(id)+1 as id FROM Usuario\");\n  int id = table.last[\"id\"];\n  for(var i=1; i&lt;id; i++){\n    var result = await db.rawQuery('SELECT username FROM Usuario WHERE id=?', [i]);\n    String Y = result.first[\"username\"];\n    if(Y==field){\n      return 1;\n    }\n  }\n  return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 12093312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d60b4c63d0e5c50cfe9b56167ab15353?s=128&d=identicon&r=PG&f=1", "display_name": "Squall32", "link": "https://stackoverflow.com/users/12093312/squall32"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4377, "favorite_count": 0, "accepted_answer_id": 58630644, "answer_count": 1, "score": 1, "last_activity_date": 1572456120, "creation_date": 1572418498, "last_edit_date": 1572456120, "question_id": 58620017, "link": "https://stackoverflow.com/questions/58620017/how-to-transform-a-futuredynamic-to-string-in-dartflutter", "title": "how to transform a Future&lt;dynamic&gt; to string in dart:flutter", "body": "<p>I\u2019m using some sqflite to do a query on a database, and extract a specific name of a table, for example: I have 3 names, Roberto, Ricardo and Andres, and I want to obtain only the name of Roberto, so this is what im doing:</p>\n\n<pre><code>loginLogic() async {\n  var X = 'Roberto';\n  final db = await database;\n  List&lt;Map&gt; result = await db.rawQuery('SELECT * FROM Usuario WHERE username=?', [X]);\n</code></pre>\n\n<p>So now, I want to compare this result with another one to do an \"if\" function, just like this:</p>\n\n<pre><code>if(result==X){\n  return 1;\n} else {\n  return 0;\n}\n</code></pre>\n\n<p>But this is what flutter says: </p>\n\n<pre><code>List&lt;Map&lt;dynamic, dynamic&gt;&gt; result\nEquality operator '==' invocation with references of unrelated\n</code></pre>\n\n<p>And the Debug console:</p>\n\n<pre><code>type 'Future&lt;dynamic&gt;' is not a subtype of type 'int'\n</code></pre>\n\n<p>So I need a way to compare the value that results from the list of users with the string with the variable I declarated 'X'.</p>\n\n<p>Try using the reference of <a href=\"https://stackoverflow.com/questions/52068669/flutter-how-to-use-future-return-value-as-if-variable\">this problem</a></p>\n\n<p>This is what I\u2019ve tried: </p>\n\n<pre><code>loginLogicpar() async {\n  var X = 'Giova';\n  final db = await database;\n  final result = await db.rawQuery('SELECT * FROM Usuario WHERE username=?', [X]);\n  return result;\n}\n\nloginLogic() async {\n  var X = 'Giova';\n  final user = await loginLogicpar();\n  if(user==X){\n    return 1;\n  }\n  return 0;\n}\n</code></pre>\n\n<p>And returns the exact same result: type 'Future' is not a subtype of type 'int'</p>\n\n<p>Added <a href=\"https://pastebin.com/PWMA5pK7\" rel=\"nofollow noreferrer\">the code</a> so you can replicate it, just be sure you have sqflite on your depenencies.</p>\n"}, {"tags": ["flutter", "dart", "bloc"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 2, "creation_date": 1572417443, "post_id": 58619768, "comment_id": 103548210, "body": "in the second form you can use <code>Todo(note: null)</code> and <code>note</code> will be <code>null</code> - if you do that using the first ctor <code>note</code> will be an empty <code>String</code>"}, {"owner": {"reputation": 43, "user_id": 9985069, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Mgfd4x7rxcM/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3Q9nUkzMuGyHIGEFdJjTM4ayGixA/mo/photo.jpg?sz=128", "display_name": "Mark Lu", "link": "https://stackoverflow.com/users/9985069/mark-lu"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1572418699, "post_id": 58619768, "comment_id": 103548599, "body": "@pskink Thanks. How about the id field\uff1f Is there any benefit?"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1572418748, "post_id": 58619768, "comment_id": 103548623, "body": "no, its the same"}, {"owner": {"reputation": 43, "user_id": 9985069, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Mgfd4x7rxcM/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3Q9nUkzMuGyHIGEFdJjTM4ayGixA/mo/photo.jpg?sz=128", "display_name": "Mark Lu", "link": "https://stackoverflow.com/users/9985069/mark-lu"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1572448091, "post_id": 58619768, "comment_id": 103564149, "body": "ok. Thank you, pskink."}], "owner": {"reputation": 43, "user_id": 9985069, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Mgfd4x7rxcM/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3Q9nUkzMuGyHIGEFdJjTM4ayGixA/mo/photo.jpg?sz=128", "display_name": "Mark Lu", "link": "https://stackoverflow.com/users/9985069/mark-lu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572417169, "creation_date": 1572417169, "question_id": 58619768, "link": "https://stackoverflow.com/questions/58619768/what-are-the-benefits-of-writing-code-like-this", "title": "What are the benefits of writing code like this?", "body": "<p>I am reading an article, which is about flutter bloc programming. <a href=\"https://bloclibrary.dev/#/flutterfirestoretodostutorial\" rel=\"nofollow noreferrer\">https://bloclibrary.dev/#/flutterfirestoretodostutorial</a></p>\n\n<p>A Todo Class is defined as below in the article.</p>\n\n<pre><code>class Todo {\n  final bool complete;\n  final String id;\n  final String note;\n  final String task;\n\n  Todo(this.task, {this.complete = false, String note = '', String id})\n      : this.note = note ?? '',\n        this.id = id;\n\n  //... other code ...\n</code></pre>\n\n<p>I want to know the benefits of writing constructors like above\uff0c comparing to the following way. I found lots of similar situations on that site.</p>\n\n<pre><code>Todo(this.task, {this.complete = false, this.note = '', this.id});\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 12088589, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VcSsvPFtEc0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdTBJzghBHt3pFydRdfYnmzBpO86w/photo.jpg?sz=128", "display_name": "kunaljosh369", "link": "https://stackoverflow.com/users/12088589/kunaljosh369"}, "edited": false, "score": 0, "creation_date": 1572417196, "post_id": 58619558, "comment_id": 103548148, "body": "but under the hood, i guess it is using FlutterFFmped which already exist in my project."}], "tags": [], "owner": {"reputation": 576, "user_id": 9223264, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hd8CHstY9js/AAAAAAAAAAI/AAAAAAAAAOk/pJ463aKM9HY/photo.jpg?sz=128", "display_name": "Jaspalsinh Gohil", "link": "https://stackoverflow.com/users/9223264/jaspalsinh-gohil"}, "is_accepted": false, "score": 1, "last_activity_date": 1572417028, "last_edit_date": 1572417028, "creation_date": 1572415836, "answer_id": 58619558, "question_id": 58619235, "link": "https://stackoverflow.com/questions/58619235/compressing-video-file/58619558#58619558", "title": "Compressing Video file", "body": "<p>Check dependencies version:</p>\n\n<pre><code>dependencies:\n    flutter_video_compress: ^0.3.x                                                          \n</code></pre>\n\n<p>Also check out this Link <a href=\"https://github.com/rurico/flutter_video_compress\" rel=\"nofollow noreferrer\">flutter_video_compress 0.3.7+8</a></p>\n"}], "owner": {"reputation": 135, "user_id": 12088589, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VcSsvPFtEc0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdTBJzghBHt3pFydRdfYnmzBpO86w/photo.jpg?sz=128", "display_name": "kunaljosh369", "link": "https://stackoverflow.com/users/12088589/kunaljosh369"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1572417028, "creation_date": 1572413218, "question_id": 58619235, "link": "https://stackoverflow.com/questions/58619235/compressing-video-file", "title": "Compressing Video file", "body": "<p>I am working with compressing video using FFmpeg.But what I want is delete the file after compressing. Also compressing is not working.\nBelow is my code what I have tried so far.</p>\n\n<pre><code>int compressedFile = await _flutterFFmpeg\n        .executeWithArguments([\"-i\", file.path, \"-c:v\", \"mpeg4\", 'compressed'+file.path]);\n    print(compressedFile);\n</code></pre>\n"}, {"tags": ["android-studio", "flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 576, "user_id": 9223264, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hd8CHstY9js/AAAAAAAAAAI/AAAAAAAAAOk/pJ463aKM9HY/photo.jpg?sz=128", "display_name": "Jaspalsinh Gohil", "link": "https://stackoverflow.com/users/9223264/jaspalsinh-gohil"}, "is_accepted": false, "score": 1, "last_activity_date": 1572413850, "creation_date": 1572413850, "answer_id": 58619305, "question_id": 58619132, "link": "https://stackoverflow.com/questions/58619132/error-not-found-dartui-export-dartui-show-offset/58619305#58619305", "title": "Error: Not found: &#39;dart:ui&#39; export &#39;dart:ui&#39; show Offset;", "body": "<p><strong>When running the app, you will find 2 main.dart Choose the one with the flutter icon beside it</strong> </p>\n\n<p>add check all component that is necessarily required and update all </p>\n\n<p>a. Launch the \"Microsoft Visual Studio Installer\" from your start menu.</p>\n\n<p>b. Select \"Modify\" for the instance of Visual Studio 2017 you have installed.</p>\n\n<p>c. Under the \"Summary\" pane of the workload selector, click the \"Desktop development with C++\" expander (if it is collapsed)</p>\n\n<p>d. Check the \"VC++ 2015.3 v140 toolset (x86,x64)\" optional feature.</p>\n\n<p>[2] If you're attempting to build a UWP application, you should install Visual Studio 2015 Update 3, selection the UWP optional feature during setup.</p>\n\n<p>[3] Finally, you may also upgrade your project/solution to the v141 Platform Toolset, which is the default for Visual Studio 2017.</p>\n"}], "owner": {"reputation": 21, "user_id": 5682103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d85aea3c4f8903928a2c44ff29b57192?s=128&d=identicon&r=PG&f=1", "display_name": "Narendra", "link": "https://stackoverflow.com/users/5682103/narendra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 846, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574452832, "creation_date": 1572412417, "last_edit_date": 1572416677, "question_id": 58619132, "link": "https://stackoverflow.com/questions/58619132/error-not-found-dartui-export-dartui-show-offset", "title": "Error: Not found: &#39;dart:ui&#39; export &#39;dart:ui&#39; show Offset;", "body": "<p>When i run on Android Studio</p>\n\n<blockquote>\n  <p>flutter drive --target=test_driver/app.dart</p>\n</blockquote>\n\n<p>And i got this output</p>\n\n<blockquote>\n  <p>file:///C:/flutter/packages/flutter_test/lib/src/accessibility.dart:8:8:\n  Error: Not found: 'dart:ui' import 'dart:ui' as ui;</p>\n  \n  <p>file:///C:/flutter/packages/flutter_test/lib/src/binding.dart:9:8:\n  Error: Not found: 'dart:ui' import 'dart:ui' as ui;\n         ^ </p>\n  \n  <p>file:///C:/flutter/packages/flutter_test/lib/src/matchers.dart:8:8:\n  Error: Not found: 'dart:ui' import 'dart:ui' as ui;\n         ^ </p>\n  \n  <p>file:///C:/flutter/packages/flutter_test/lib/src/matchers.dart:9:8:\n  Error: Not found: 'dart:ui' import 'dart:ui';</p>\n  \n  <p>file:///C:/flutter/packages/flutter_test/lib/src/test_pointer.dart:12:1:\n  Error: Not found: 'dart:ui' export 'dart:ui' show Offset; ^</p>\n  \n  <p>file:///C:/flutter/packages/flutter_test/lib/src/window.dart:6:8:\n  Error: Not found: 'dart:ui' import 'dart:ui' hide window;</p>\n  \n  <p>file:///C:/flutter/packages/flutter/lib/src/rendering/box.dart:6:8:\n  Error: Not found: 'dart:ui' import 'dart:ui' as ui show lerpDouble;</p>\n  \n  <p>file:///C:/flutter/packages/flutter/lib/src/rendering/debug_overflow_indicator.dart:6:8:\n  Error: Not found: 'dart:ui' import 'dart:ui' as ui;</p>\n  \n  <p>file:///C:/flutter/packages/flutter/lib/src/rendering/editable.dart:6:8:\n  Error: Not found: 'dart:ui' import 'dart:ui' as ui show TextBox,\n  lerpDouble;</p>\n  \n  <p>file:///C:/flutter/packages/flutter/lib/src/rendering/error.dart:5:8:\n  Error: Not found: 'dart:ui' import 'dart:ui' as ui show Paragraph,\n  ParagraphBuilder, ParagraphConstraints, ParagraphStyle, </p>\n  \n  <p>Stopping application instance. Driver tests failed: 254</p>\n</blockquote>\n\n<p>My flutter doctor -v</p>\n\n<blockquote>\n  <p>[\u221a] Android toolchain - develop for Android devices (Android SDK\n  version 29.0.2)\n      \u2022 Android SDK at C:\\Users\\ROG\\AppData\\Local\\Android\\Sdk\n      \u2022 Android NDK location not configured (optional; useful for native profiling support)\n      \u2022 Platform android-29, build-tools 29.0.2\n      \u2022 ANDROID_HOME = C:\\Users\\ROG\\AppData\\Local\\Android\\Sdk\n      \u2022 Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java\n      \u2022 Java version OpenJDK Runtime Environment (build 1.8.0_202-release-1483-b03)\n      \u2022 All Android licenses accepted.</p>\n  \n  <p>[\u221a] Chrome - develop for the web\n      \u2022 Chrome at C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe</p>\n  \n  <p>[!] Visual Studio - develop for Windows (Visual Studio Community 2017\n  15.9.7)\n      \u2022 Visual Studio at C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\n      \u2022 Visual Studio Community 2017 version 15.9.28307.423\n      X Visual Studio is missing necessary components. Please re-run the Visual Studio installer for the \"Desktop development with C++\"\n  workload, and include these components:\n          MSBuild\n          VC++ 2017 version 15.9 v14.16 latest v141 tools\n          Windows 10 SDK (10.0.17763.0)</p>\n  \n  <p>[\u221a] Android Studio (version 3.5)\n      \u2022 Android Studio at C:\\Program Files\\Android\\Android Studio\n      \u2022 Flutter plugin version 40.2.2\n      \u2022 Dart plugin version 191.8593\n      \u2022 Java version OpenJDK Runtime Environment (build 1.8.0_202-release-1483-b03)</p>\n  \n  <p>[\u221a] IntelliJ IDEA Community Edition (version 2019.2)\n      \u2022 IntelliJ at G:\\IntelliJ IDEA Community Edition 2019.2.3\n      \u2022 Flutter plugin version 40.2.4\n      \u2022 Dart plugin version 192.7402</p>\n  \n  <p>[\u221a] VS Code, 64-bit edition (version 1.29.1)\n      \u2022 VS Code at C:\\Program Files\\Microsoft VS Code\n      \u2022 Flutter extension version 2.21.1</p>\n  \n  <p>[\u221a] Connected device (3 available)\n      \u2022 Samsung Galaxy S9 1 \u2022 192.168.126.103:5555 \u2022 android-x86    \u2022 Android 8.0.0 (API 26)\n      \u2022 Windows             \u2022 Windows              \u2022 windows-x64    \u2022 Microsoft Windows [Version 10.0.18362.418]\n      \u2022 web                 \u2022 web                  \u2022 web-javascript \u2022 Google Chrome 78.0.3904.70</p>\n  \n  <p>! Doctor found issues in 1 category.</p>\n</blockquote>\n\n<p>Any thoughts?\nPlease help, thankyou so much</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 576, "user_id": 9223264, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hd8CHstY9js/AAAAAAAAAAI/AAAAAAAAAOk/pJ463aKM9HY/photo.jpg?sz=128", "display_name": "Jaspalsinh Gohil", "link": "https://stackoverflow.com/users/9223264/jaspalsinh-gohil"}, "is_accepted": true, "score": 1, "last_activity_date": 1572414370, "creation_date": 1572414370, "answer_id": 58619365, "question_id": 58618849, "link": "https://stackoverflow.com/questions/58618849/flutter-push-flatbutton-at-near-bottom/58619365#58619365", "title": "Flutter - Push FlatButton at near bottom", "body": "<p>You will solve using <a href=\"https://api.flutter.dev/flutter/widgets/Expanded-class.html\" rel=\"nofollow noreferrer\">Expanded</a> widget.</p>\n\n<pre><code> Expanded(\n      child: Align(\n        alignment: FractionalOffset.bottomCenter,\n        child: MaterialButton(\n          onPressed: () =&gt; {},\n          child: Text(_register ? 'REGISTER' : 'LOGIN'),\n        ),\n      ),\n    ),\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 416, "user_id": 7277140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/824869d65834b49c35ece171535f15e2?s=128&d=identicon&r=PG&f=1", "display_name": "Sheruan Bashar", "link": "https://stackoverflow.com/users/7277140/sheruan-bashar"}, "is_accepted": false, "score": 0, "last_activity_date": 1572414451, "creation_date": 1572414451, "answer_id": 58619376, "question_id": 58618849, "link": "https://stackoverflow.com/questions/58618849/flutter-push-flatbutton-at-near-bottom/58619376#58619376", "title": "Flutter - Push FlatButton at near bottom", "body": "<p>You can check following solutions:</p>\n\n<ol>\n<li>If you need 1 button, simply use FloatingActionButton <a href=\"https://api.flutter.dev/flutter/material/FloatingActionButton-class.html\" rel=\"nofollow noreferrer\">docs</a></li>\n<li>If you need multiple suggest this <a href=\"https://medium.com/@kaendagger/test-cef30fcb5c54\" rel=\"nofollow noreferrer\">article</a> (Column with FABs)</li>\n<li>And animated solution looks more user friendly <a href=\"https://pub.dev/packages/unicorndial\" rel=\"nofollow noreferrer\">package</a> </li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 6551, "user_id": 11938462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFyyJ.jpg?s=128&g=1", "display_name": "Pablo Barrera", "link": "https://stackoverflow.com/users/11938462/pablo-barrera"}, "is_accepted": false, "score": 0, "last_activity_date": 1572417491, "creation_date": 1572417491, "answer_id": 58619829, "question_id": 58618849, "link": "https://stackoverflow.com/questions/58618849/flutter-push-flatbutton-at-near-bottom/58619829#58619829", "title": "Flutter - Push FlatButton at near bottom", "body": "<p>If you want to have the content centered in the available space above the buttons, you could put your content centered in a <code>Expanded</code> widget and put the buttons below it, like this:</p>\n\n<pre><code>Center(\n  child: Column(\n    children: &lt;Widget&gt;[\n      Expanded(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: &lt;Widget&gt;[\n            AvatarGlow(...),\n            DelayedAimation(...),\n          ],\n        ),\n      ),\n      FlatButton.icon(...),\n      FlatButton.icon(...),\n    ],\n  ),\n)\n</code></pre>\n\n<p>If you want to have the content centered in the entire screen and the buttons at the bottom, you could use a <code>Stack</code>, like this:</p>\n\n<pre><code>Stack(\n  children: &lt;Widget&gt;[\n    Center(\n      child: Column(\n        mainAxisAlignment: MainAxisAlignment.center,\n        children: &lt;Widget&gt;[\n          AvatarGlow(...),\n          DelayedAimation(...),\n        ],\n      ),\n    ),\n    Align(\n      alignment: Alignment.bottomCenter,\n      child: Column(\n        mainAxisSize: MainAxisSize.min,\n        children: &lt;Widget&gt;[\n          FlatButton.icon(...),\n          FlatButton.icon(...),\n        ],\n      ),\n    )\n  ],\n)\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 12271757, "user_type": "registered", "profile_image": "https://graph.facebook.com/143208027046924/picture?type=large", "display_name": "Paul White", "link": "https://stackoverflow.com/users/12271757/paul-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 775, "favorite_count": 0, "accepted_answer_id": 58619365, "answer_count": 3, "score": 1, "last_activity_date": 1572417491, "creation_date": 1572410420, "question_id": 58618849, "link": "https://stackoverflow.com/questions/58618849/flutter-push-flatbutton-at-near-bottom", "title": "Flutter - Push FlatButton at near bottom", "body": "<p>I want to push the flatbutton.icon near bottom but not in bottomNavigationBar. \nI want also to make it dynamic so that i can add more buttons vertically if needed.\nI'm thinking of using Stack then positioned but i'm not familiar on how to implement it. </p>\n\n<pre><code>return MaterialApp(\n      home: Scaffold(\n        backgroundColor: Theme.of(context).accentColor,\n        body: Center(\n          child: Column(\n            children: &lt;Widget&gt;[\n              AvatarGlow(\n                endRadius: 90,\n                duration: Duration(seconds: 2),\n                glowColor: Colors.white24,\n                repeat: true,\n                repeatPauseDuration: Duration(seconds: 2),\n                startDelay: Duration(seconds: 1),\n                child: Material(\n                    elevation: 8.0,\n                    shape: CircleBorder(),\n                    child: CircleAvatar(\n                      backgroundColor: Colors.grey[100],\n                      child: FlutterLogo(\n                        size: 50.0,\n                      ),\n                      radius: 50.0,\n                    )),\n              ),\n              DelayedAimation(\n                child: Text(\n                  \"PICKNIC\",\n                  style: TextStyle(\n                      fontWeight: FontWeight.bold,\n                      fontSize: 35.0,\n                      color: Colors.white),\n                ),\n                delay: delayedAmount + 1000,\n              ),FlatButton.icon(\n                    onPressed: () {\n                      Navigator.of(context).pushNamed('/Pages', arguments: 2);\n                    },\n                    padding: EdgeInsets.symmetric(vertical: 14),\n                    color: Theme.of(context).primaryColorDark.withOpacity(0.1),\n                    icon: new Icon(MdiIcons.facebook, color: Theme.of(context).primaryColorDark), \n                    shape: StadiumBorder(),\n                    label: Text(\n                      'Login with Facebook',\n                      textAlign: TextAlign.start,\n                      style: TextStyle(\n                        color: Theme.of(context).primaryColorDark,\n                      ),\n                    ),\n                  ),\n            ],\n          ),\n        ),\n      ),\n    );\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 576, "user_id": 9223264, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hd8CHstY9js/AAAAAAAAAAI/AAAAAAAAAOk/pJ463aKM9HY/photo.jpg?sz=128", "display_name": "Jaspalsinh Gohil", "link": "https://stackoverflow.com/users/9223264/jaspalsinh-gohil"}, "is_accepted": false, "score": 0, "last_activity_date": 1572415303, "creation_date": 1572415303, "answer_id": 58619483, "question_id": 58618736, "link": "https://stackoverflow.com/questions/58618736/flutter-how-to-add-custom-tabbar-inside-sliverappbar/58619483#58619483", "title": "Flutter - How to add custom tabbar inside sliverappbar?", "body": "<p>this work on my project  </p>\n\n<pre><code> class TabBarInSliverAppbar extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return DefaultTabController(\n      length: 2,\n      child: Scaffold(\n        body: CustomScrollView(\n          slivers: [\n            SliverAppBar(\n              title: Text(\"Tabbar in SliverAppbar Example\"),\n              pinned: true,\n              floating: true,\n              bottom: TabBar(\n                tabs: &lt;Widget&gt;[\n                  Tab(\n                    text: \"First Tab\",\n                  ),\n                  Tab(\n                    text: \"Second Tab\",\n                  ),\n                ],\n              ),\n            ),\n            SliverToBoxAdapter(\n              child: TabBarView(\n                children: &lt;Widget&gt;[\n                  Center(\n                    child: Text(\"First Tab\"),\n                  ),\n                  Center(\n                    child: Text(\"Second Tab\"),\n                  ),\n                ],\n              ),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>you can also checki this link :<a href=\"https://stackoverflow.com/questions/55187332/flutter-tabbar-and-sliverappbar-that-hides-when-you-scroll-down\">Flutter TabBar and SliverAppBar that hides when you scroll down</a></p>\n"}], "owner": {"reputation": 1, "user_id": 12294976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01a163605735a8c644b800f85cd646c2?s=128&d=identicon&r=PG&f=1", "display_name": "comrade", "link": "https://stackoverflow.com/users/12294976/comrade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 348, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572415513, "creation_date": 1572409433, "question_id": 58618736, "link": "https://stackoverflow.com/questions/58618736/flutter-how-to-add-custom-tabbar-inside-sliverappbar", "title": "Flutter - How to add custom tabbar inside sliverappbar?", "body": "<p>I'm trying to implement a custom tab bar widget inside a SliverAppBar. So far I've tried wrapping my CustomTabBar within a PreferredSize widget.</p>\n\n<p>Here's my code: </p>\n\n<pre><code>Widget _buildBody(){\n   return NestedScrollView(\n      headerSliverBuilder: (BuildContext context, bool boxIsScrolled) {\n        return &lt;Widget&gt;[\n          SliverAppBar(\n            leading: Container(),\n            backgroundColor: Colors.transparent,\n            expandedHeight: 200.0,\n            flexibleSpace: FlexibleSpaceBar(\n              collapseMode: CollapseMode.pin,\n              background: Column(\n                children: &lt;Widget&gt;[\n                Row(\n                  mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n                  children: &lt;Widget&gt;[\n                    Text(\n                      \"Item 1\"\n                    ),\n                    Text(\n                      \"Item 2\"\n                    ),\n                    Text(\n                      \"Item 3\"\n                    )\n                  ],\n                )\n              ]),\n            ),\n          bottom: PreferredSize(\n           preferredSize: Size.fromHeight(kToolbarHeight),\n           child: CustomTabWidget(\n           items: ['Challenge', 'My friends'],\n           activeColor: secondaryColor,\n           currentIndex: currentIndex,\n           backgroundColor: tabColor,\n           activeTextColor: Colors.white,\n           backgroundTextColor: Colors.white,\n           onTabSelect: (int index) {\n            onLeaderboardTabSelect(index);\n          },\n        ),\n       ),];\n      },\n      body: ListView.separated(\n        itemCount: 50,\n        itemBuilder: (context, index) {\n          return ListTile(\n            title: Text('row $index'),\n          );\n        },\n        separatorBuilder: (context, index) {\n          return Divider();\n        },\n      ) // should return listview depending on the tab\n    );\n}\n</code></pre>\n\n<p><strong>CustomTabWidget</strong></p>\n\n<pre><code>Widget build(BuildContext context) {\n    return Container(\n      height: height,\n      decoration: BoxDecoration(\n        color: backgroundColor,\n        borderRadius: BorderRadius.circular(\n          30.0,\n        ),\n      ),\n      child: Row(\n        mainAxisAlignment: MainAxisAlignment.spaceBetween,\n        children: _buildItems(context),\n      ),\n    );\n  }\n</code></pre>\n\n<p>The code successfully shows the my custom tab bar widget but whenever I scroll down or tap another tab, it disappears.</p>\n\n<p>I might have overlooked something within the code.</p>\n\n<p>Can anyone help me?</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 59214, "user_id": 666221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1VBx.jpg?s=128&g=1", "display_name": "diegoveloper", "link": "https://stackoverflow.com/users/666221/diegoveloper"}, "edited": false, "score": 0, "creation_date": 1572408983, "post_id": 58618605, "comment_id": 103546287, "body": "why don&#39;t you call directly the method you add inside your button when you tap?"}, {"owner": {"reputation": 395, "user_id": 2741072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b2686362709a3ed2b7f7eaf3ad387c?s=128&d=identicon&r=PG", "display_name": "knarf", "link": "https://stackoverflow.com/users/2741072/knarf"}, "edited": false, "score": 0, "creation_date": 1599862791, "post_id": 58618605, "comment_id": 112917190, "body": "in my case I want the behavior of the button UI updating in the same way as when it is tapped or if the underlying tap behavior is kicked off automatically by a bluetooth connection. so calling <code>button.onPress();</code> as suggested by Pablo below, answer the question perfectly."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 11981493, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4ufpVG5iZF4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdu-CBWGQ6pY3Zw2KiJRfD1pZeP-w/photo.jpg?sz=128", "display_name": "TABASCO", "link": "https://stackoverflow.com/users/11981493/tabasco"}, "edited": false, "score": 0, "creation_date": 1572409602, "post_id": 58618704, "comment_id": 103546405, "body": "Thanks for replying, I just wondering if there is a way to click the button automatically before the user click it."}, {"owner": {"reputation": 214, "user_id": 9184784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/317922ece8f6a05b4c4e99aa047781a7?s=128&d=identicon&r=PG&f=1", "display_name": "tyb9900", "link": "https://stackoverflow.com/users/9184784/tyb9900"}, "reply_to_user": {"reputation": 73, "user_id": 11981493, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4ufpVG5iZF4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdu-CBWGQ6pY3Zw2KiJRfD1pZeP-w/photo.jpg?sz=128", "display_name": "TABASCO", "link": "https://stackoverflow.com/users/11981493/tabasco"}, "edited": false, "score": 0, "creation_date": 1572409707, "post_id": 58618704, "comment_id": 103546424, "body": "@TABASCO I think this will perform the same behavior. There is no difference when clicking on the button and calling a function going to perform the same work."}, {"owner": {"reputation": 124, "user_id": 7989860, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Oe2LC.jpg?s=128&g=1", "display_name": "O.Chounry", "link": "https://stackoverflow.com/users/7989860/o-chounry"}, "edited": false, "score": 0, "creation_date": 1589941851, "post_id": 58618704, "comment_id": 109490394, "body": "And how do u get the the arguments from the <code>onPressed</code> function if u trigger yourself."}], "tags": [], "owner": {"reputation": 214, "user_id": 9184784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/317922ece8f6a05b4c4e99aa047781a7?s=128&d=identicon&r=PG&f=1", "display_name": "tyb9900", "link": "https://stackoverflow.com/users/9184784/tyb9900"}, "is_accepted": false, "score": 2, "last_activity_date": 1572409199, "creation_date": 1572409199, "answer_id": 58618704, "question_id": 58618605, "link": "https://stackoverflow.com/questions/58618605/is-there-a-way-to-auto-click-button-in-flutter/58618704#58618704", "title": "Is there a way to auto click button in flutter?", "body": "<p>Why do you want that? When simply you can assign a function to a button click and call it whenever you want.</p>\n\n<p>Example:</p>\n\n<pre><code>class Blacksmith extends StatelessWidget {\n  void _onPress() {\n    print('I am pressed');\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return FlatButton(\n      child: const Text('Click'),\n      onPressed: _onPress,\n    );\n  }\n}\n</code></pre>\n\n<p>Now you can call <code>_onPress()</code> where you want to trigger FlatButton <code>onPressed</code>.</p>\n\n<p>I hope this will fulfill the purpose.</p>\n"}, {"comments": [{"owner": {"reputation": 9160, "user_id": 3935156, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/G8QuQ.jpg?s=128&g=1", "display_name": "BeniaminoBaggins", "link": "https://stackoverflow.com/users/3935156/beniaminobaggins"}, "edited": false, "score": 0, "creation_date": 1610145236, "post_id": 58618776, "comment_id": 116049585, "body": "Does the top example of this answer show the button tap animation for you? It doesn&#39;t for me. It just executes the button&#39;s onPressed function."}], "tags": [], "owner": {"reputation": 6551, "user_id": 11938462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFyyJ.jpg?s=128&g=1", "display_name": "Pablo Barrera", "link": "https://stackoverflow.com/users/11938462/pablo-barrera"}, "is_accepted": false, "score": 4, "last_activity_date": 1572410172, "last_edit_date": 1572410172, "creation_date": 1572409752, "answer_id": 58618776, "question_id": 58618605, "link": "https://stackoverflow.com/questions/58618605/is-there-a-way-to-auto-click-button-in-flutter/58618776#58618776", "title": "Is there a way to auto click button in flutter?", "body": "<p>If the button is in a variable, you could do something like this:</p>\n\n<pre><code>FlatButton button = FlatButton(\n  child: Text(\"Button\"),\n  onPressed: () =&gt; print('pressed'),\n);\nbutton.onPressed();\n</code></pre>\n\n<p>If you don't know if <code>onPressed</code> isn't null, you could do this:</p>\n\n<pre><code>button.onPressed?.call(); // if (button.onPressed != null) button.onPressed();\n</code></pre>\n\n<p>Or you could do what others suggested, use the same function assigned to <code>onPressed</code>, like this:</p>\n\n<pre><code>FlatButton button = FlatButton(\n  child: Text(\"Button\"),\n  onPressed: _myOnPressed,\n);\n_myOnPressed();\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 11981493, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4ufpVG5iZF4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdu-CBWGQ6pY3Zw2KiJRfD1pZeP-w/photo.jpg?sz=128", "display_name": "TABASCO", "link": "https://stackoverflow.com/users/11981493/tabasco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4025, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1572415102, "creation_date": 1572408310, "last_edit_date": 1572415102, "question_id": 58618605, "link": "https://stackoverflow.com/questions/58618605/is-there-a-way-to-auto-click-button-in-flutter", "title": "Is there a way to auto click button in flutter?", "body": "<p>does anyone know is there any way to click the button automatically in flutter? In <strong>javascript</strong> I use </p>\n\n<pre><code>document.getElementById('someId').click();                                                       \n</code></pre>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 515, "user_id": 485468, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e319a3c171e6223bbc910d0265520ffd?s=128&d=identicon&r=PG", "display_name": "Pankaj Nikam", "link": "https://stackoverflow.com/users/485468/pankaj-nikam"}, "edited": false, "score": 3, "creation_date": 1572408381, "post_id": 58618465, "comment_id": 103546182, "body": "Creating constants always helps you since you may misspell something. Its recommended to use constants (&quot;Second Code&quot;) over magic strings like one in the &quot;First Code&quot;."}, {"owner": {"reputation": 971, "user_id": 12176146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i7saa6CD6nU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdnigVUDcRnIS2zpgJROryAZKe46w/photo.jpg?sz=128", "display_name": "raman raman", "link": "https://stackoverflow.com/users/12176146/raman-raman"}, "reply_to_user": {"reputation": 515, "user_id": 485468, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e319a3c171e6223bbc910d0265520ffd?s=128&d=identicon&r=PG", "display_name": "Pankaj Nikam", "link": "https://stackoverflow.com/users/485468/pankaj-nikam"}, "edited": false, "score": 0, "creation_date": 1572412875, "post_id": 58618465, "comment_id": 103547088, "body": "it means SECOND CODE  is better than FIRSTCODE"}], "owner": {"reputation": 971, "user_id": 12176146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i7saa6CD6nU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdnigVUDcRnIS2zpgJROryAZKe46w/photo.jpg?sz=128", "display_name": "raman raman", "link": "https://stackoverflow.com/users/12176146/raman-raman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 357, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572407174, "creation_date": 1572407174, "question_id": 58618465, "link": "https://stackoverflow.com/questions/58618465/what-does-this-means-in-flutter", "title": "What does this means in flutter?", "body": "<p>I come across these codes while exploring flutter as a beginner</p>\n\n<p><strong>FIRST CODE</strong></p>\n\n<pre><code>void main() {\n  runApp(MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      debugShowCheckedModeBanner: false,\n      title: 'Helo world',\n      theme: ThemeData(primarySwatch: Colors.cyan),\n      home: HomePage(),\n      routes: {\n        \"/fullPage\": buildFullPage,\n        \"/form\": buildFormPage,\n        \"/view\": buildViewPage,\n      },\n    );\n  }\n</code></pre>\n\n<p><strong>SECOND CODE</strong></p>\n\n<pre><code>void main() =&gt; runApp(MaterialApp(\n      title: 'GridView Demo',\n      home: SplashScreen(),\n      debugShowCheckedModeBanner: false,\n      theme: ThemeData(\n        primarySwatch: Colors.red,\n        accentColor: Color(0xFF761322),\n      ),\n      routes: &lt;String, WidgetBuilder&gt;{\n        SPLASH_SCREEN: (BuildContext context) =&gt; SplashScreen(),\n        HOME_SCREEN: (BuildContext context) =&gt; HomeScreen(),\n        //GRID_ITEM_DETAILS_SCREEN: (BuildContext context) =&gt; GridItemDetails(),\n      },\n    ));\n\n\n</code></pre>\n\n<p>I NEED YOUR HELP IN KNOWING THESE MULTIPLE ROUTING</p>\n\n<p>What these mean in FIRST CODE</p>\n\n<pre><code>home: HomePage(),\n      routes: {\n        \"/fullPage\": buildFullPage,\n        \"/form\": buildFormPage,\n        \"/view\": buildViewPage,\n      },\n</code></pre>\n\n<p>What these mean in SECOND CODE </p>\n\n<pre><code>home: SplashScreen(),\nroutes: &lt;String, WidgetBuilder&gt;{\n        SPLASH_SCREEN: (BuildContext context) =&gt; SplashScreen(),\n        HOME_SCREEN: (BuildContext context) =&gt; HomeScreen(),\n        //GRID_ITEM_DETAILS_SCREEN: (BuildContext context) =&gt; GridItemDetails(),\n      },\n\n</code></pre>\n"}, {"tags": ["android", "ios", "flutter", "dart", "video-player"], "comments": [{"owner": {"reputation": 326, "user_id": 10930066, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iNEA0SFtxiw/AAAAAAAAAAI/AAAAAAAAHkA/Qr64mXyRiRg/photo.jpg?sz=128", "display_name": "Andre Azevedo", "link": "https://stackoverflow.com/users/10930066/andre-azevedo"}, "edited": false, "score": 0, "creation_date": 1572459711, "post_id": 58618449, "comment_id": 103570183, "body": "I am also looking for a solution to use vimeo in flutter, because you find few things yet!"}, {"owner": {"reputation": 762, "user_id": 4373074, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/560005b3cae7af747134b2489c549529?s=128&d=identicon&r=PG&f=1", "display_name": "Shangari C", "link": "https://stackoverflow.com/users/4373074/shangari-c"}, "edited": false, "score": 0, "creation_date": 1579774134, "post_id": 58618449, "comment_id": 105881907, "body": "@karl 123 Did you find the solution,Facing same issue in my app"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 14100809, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Ggm692lGQNTaPPyOCUhSGttDcaJckra568XdPdI=k-s128", "display_name": "Cedric Kany", "link": "https://stackoverflow.com/users/14100809/cedric-kany"}, "is_accepted": false, "score": 1, "last_activity_date": 1597533566, "creation_date": 1597533566, "answer_id": 63431654, "question_id": 58618449, "link": "https://stackoverflow.com/questions/58618449/flutter-chewie-dispose-not-working-when-video-fullscreen-mode-was-used-landscap/63431654#63431654", "title": "Flutter chewie dispose not working when video fullscreen mode was used (landscape)", "body": "<p><em><strong>Initialize your videoPlayerController in the initState function aswell.</strong></em></p>\n<pre><code>class _ChewieListItemState extends State&lt;ChewieListItem&gt; {\n  ChewieController _chewieController;\n  VideoPlayerController videoPlayerController;\n\n\n\n\n@override\nvoid initState() {\n     super.initState();\n     videoPlayerController = VideoPlayerController.asset(path); // init controller here\n    // Wrapper on top of the videoPlayerController\n    _chewieController = ChewieController(\n      videoPlayerController: videoPlayerController, // remove the widget tag\n    );\n  }\n\n\n@override\nvoid dispose() {\n    super.dispose();\n    videoPlayerController.dispose(); // remove the widget tag here as well    \n}\n\n}\n</code></pre>\n<p>Just had the same problem and searched like 3 days for the solution.</p>\n"}], "owner": {"reputation": 33, "user_id": 11856737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a2590eabbd5a77bf08a5df073ebb425?s=128&d=identicon&r=PG&f=1", "display_name": "karl123", "link": "https://stackoverflow.com/users/11856737/karl123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1088, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1597533566, "creation_date": 1572406991, "last_edit_date": 1572407521, "question_id": 58618449, "link": "https://stackoverflow.com/questions/58618449/flutter-chewie-dispose-not-working-when-video-fullscreen-mode-was-used-landscap", "title": "Flutter chewie dispose not working when video fullscreen mode was used (landscape)", "body": "<p>Im using chewie package to play video in flutter, When i played the video and exit the page, dispose is working fine, but then when i use fullscreen and tried to exit the page the audio/video will still play. It says: dispose was called on null</p>\n\n<p>Here is my code:</p>\n\n<pre><code>    class _ChewieListItemState extends State&lt;ChewieListItem&gt; {\n      ChewieController _chewieController;\n\n\n       @override\n      Widget build(BuildContext context) {\n        return Padding(\n          padding: const EdgeInsets.all(8.0),\n          child: Chewie(\n            controller:_chewieController ,\n          ),\n        );\n      }\n\n\n      @override\n      void initState() {\n        super.initState();\n        // Wrapper on top of the videoPlayerController\n        _chewieController = ChewieController(\n          videoPlayerController: widget.videoPlayerController,\n          aspectRatio: 16 / 9,\n          // Prepare the video to be played and display the first frame\n          autoInitialize: true,\n          looping: widget.looping,\n          autoPlay: false,\n          allowFullScreen: true,\n          allowedScreenSleep: false,\n          // Errors can occur for example when trying to play a video\n          // from a non-existent URL\n          errorBuilder: (context, errorMessage) {\n            return Center(\n              child: Text(\n                'Network Error, please try again',\n                style: TextStyle(color: Colors.white),\n              ),\n            );\n          },\n        );\n      }\n\n\n    @override\n  void dispose() {\n    super.dispose();\n    widget.videoPlayerController.dispose();\n    _chewieController.dispose();\n  }\n\n    }\n</code></pre>\n"}, {"tags": ["android", "flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 6450052, "user_type": "registered", "profile_image": "https://graph.facebook.com/1217061644980668/picture?type=large", "display_name": "Vladimir Vladimirov", "link": "https://stackoverflow.com/users/6450052/vladimir-vladimirov"}, "is_accepted": false, "score": 1, "last_activity_date": 1572876131, "creation_date": 1572876131, "answer_id": 58695022, "question_id": 58617787, "link": "https://stackoverflow.com/questions/58617787/flutter-accessibilityviewembedder-java-line-511/58695022#58695022", "title": "flutter: &quot;AccessibilityViewEmbedder.java line 511&quot;", "body": "<p>I have the same issue and as I understand so far it is related to the Google ads - <a href=\"https://github.com/flutter/flutter/issues/43575\" rel=\"nofollow noreferrer\">https://github.com/flutter/flutter/issues/43575</a> but still no answer about the issue.</p>\n"}], "owner": {"reputation": 1977, "user_id": 2226388, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/I64gY.png?s=128&g=1", "display_name": "zukijuki", "link": "https://stackoverflow.com/users/2226388/zukijuki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 388, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1572876131, "creation_date": 1572401238, "question_id": 58617787, "link": "https://stackoverflow.com/questions/58617787/flutter-accessibilityviewembedder-java-line-511", "title": "flutter: &quot;AccessibilityViewEmbedder.java line 511&quot;", "body": "<p>In firebase, I see my apps crash.</p>\n\n<p>Below are error data from Crashytics:</p>\n\n<pre><code>Fatal Exception: java.lang.StackOverflowError\nstack size 8MB\njava.lang.reflect.Method.invoke (Method.java)\nio.flutter.view.AccessibilityViewEmbedder$ReflectionAccessors.getChildId (AccessibilityViewEmbedder.java:511)\nio.flutter.view.AccessibilityViewEmbedder$ReflectionAccessors.access$500 (AccessibilityViewEmbedder.java:411)\nio.flutter.view.AccessibilityViewEmbedder.addChildrenToFlutterNode (AccessibilityViewEmbedder.java:172)\nio.flutter.view.AccessibilityViewEmbedder.convertToFlutterNode (AccessibilityViewEmbedder.java:143)\nio.flutter.view.AccessibilityViewEmbedder.getRootNode (AccessibilityViewEmbedder.java:89)\nio.flutter.view.AccessibilityBridge.createAccessibilityNodeInfo (AccessibilityBridge.java:510)\nandroid.view.View.populateVirtualStructure (View.java:8656)\nandroid.view.View.populateVirtualStructure (View.java:8659)\nandroid.view.View.populateVirtualStructure (View.java:8659)\nandroid.view.View.populateVirtualStructure (View.java:8659)\nandroid.view.View.populateVirtualStructure (View.java:8659)\nandroid.view.View.populateVirtualStructure (View.java:8659)\nandroid.view.View.populateVirtualStructure (View.java:8659)\nandroid.view.View.populateVirtualStructure (View.java:8659)\nandroid.view.View.populateVirtualStructure (View.java:8659)\nandroid.view.View.populateVirtualStructure (View.java:8659)\nandroid.view.View.populateVirtualStructure (View.java:8659)\nandroid.view.View.onProvideVirtualStructureCompat (View.java:8077)\nandroid.view.View.onProvideVirtualStructure (View.java:8058)\nandroid.view.View.dispatchProvideStructureForAssistOrAutofill (View.java:8724)\nandroid.view.View.dispatchProvideStructure (View.java:8671)\nandroid.view.ViewGroup.dispatchProvideStructure (ViewGroup.java:3550)\nandroid.view.ViewGroup.dispatchProvideStructure (ViewGroup.java:3550)\nandroid.view.ViewGroup.dispatchProvideStructure (ViewGroup.java:3550)\nandroid.app.assist.AssistStructure$WindowNode.&lt;init&gt; (AssistStructure.java:519)\nandroid.app.assist.AssistStructure.&lt;init&gt; (AssistStructure.java:2047)\nandroid.app.ActivityThread.handleRequestAssistContextExtras (ActivityThread.java:3311)\nandroid.app.ActivityThread$H.handleMessage (ActivityThread.java:1872)\nandroid.os.Handler.dispatchMessage (Handler.java:106)\nandroid.os.Looper.loop (Looper.java:193)\nandroid.app.ActivityThread.main (ActivityThread.java:6898)\njava.lang.reflect.Method.invoke (Method.java)\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:537)\ncom.android.internal.os.ZygoteInit.main (ZygoteInit.java:858)\n</code></pre>\n\n<p>This error seems related to View / Widget, but I don't know which one is causing the error.\nany idea what the above error about?</p>\n"}, {"tags": ["flutter", "dart", "flutter-dependencies", "flutter-web"], "answers": [{"tags": [], "owner": {"reputation": 3843, "user_id": 3043944, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0QrkR.jpg?s=128&g=1", "display_name": "Abhilash Chandran", "link": "https://stackoverflow.com/users/3043944/abhilash-chandran"}, "is_accepted": true, "score": 1, "last_activity_date": 1572515171, "last_edit_date": 1572515171, "creation_date": 1572421795, "answer_id": 58620696, "question_id": 58617262, "link": "https://stackoverflow.com/questions/58617262/flutter-web-cannot-use-packages-from-mobile-project/58620696#58620696", "title": "Flutter web cannot use packages from mobile project", "body": "<p>Hi the instruction you are following is from an old repository <a href=\"https://github.com/flutter/flutter_web\" rel=\"nofollow noreferrer\">here</a>. As you can see this is discontinued. You can find the informaiton in the REadme.</p>\n\n<p>Instead you should follow the instructions in this <a href=\"https://flutter.dev/docs/get-started/web#enable-web-support\" rel=\"nofollow noreferrer\">page</a>. Read it once carefully and I would suggest to keep a backup of your main project and work on a copy.</p>\n\n<ol>\n<li>First you will have to enable the flutter-web using <code>flutter config --enable-web</code>.</li>\n<li>Then you will have to run <code>flutter create .</code></li>\n</ol>\n"}], "owner": {"reputation": 87, "user_id": 10589011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Uy49M.jpg?s=128&g=1", "display_name": "Samuel Ricky Saputro", "link": "https://stackoverflow.com/users/10589011/samuel-ricky-saputro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 747, "favorite_count": 0, "accepted_answer_id": 58620696, "answer_count": 1, "score": 1, "last_activity_date": 1572515171, "creation_date": 1572395940, "question_id": 58617262, "link": "https://stackoverflow.com/questions/58617262/flutter-web-cannot-use-packages-from-mobile-project", "title": "Flutter web cannot use packages from mobile project", "body": "<p>A few months ago I made an android application using flutter. The application requires various dependencies such as intl, cached network image, stopper, carousel_slider, etc.</p>\n\n<p>Then right now I want to convert the project to flutter_web. Here are the steps that I did:</p>\n\n<ol>\n<li>clone github web flutter </li>\n<li>I run the command \"flutter packages pub global activate webdev\"</li>\n<li>Then I edited pubspec.yaml and I adjusted it to pubspec.yaml in the previous project (android project)</li>\n</ol>\n\n<p>Here is the contents of pubspec.yaml on the web flutter project:</p>\n\n<pre><code>name: flutter_web.examples.hello_world\n\nenvironment:\n\u00a0\u00a0# You must be using Flutter&gt; = 1.5.0 or Dart&gt; = 2.3.0\n\u00a0\u00a0sdk: '&gt; = 2.3.0-dev.0.1 &lt;3.0.0'\n\ndependencies:\n\u00a0\u00a0flutter_web: any\n\u00a0\u00a0flutter_web_ui: any\n\u00a0\u00a0stopper: ^ 1.0.1\n\ndev_dependencies:\n\u00a0\u00a0build_runner: ^ 1.4.0\n\u00a0\u00a0build_web_compilers: ^ 2.0.0\n\ndependency_overrides:\n\u00a0\u00a0flutter_web:\n\u00a0\u00a0\u00a0\u00a0git:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0url: https://github.com/flutter/flutter_web\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0path: packages / flutter_web\n\u00a0\u00a0flutter_web_ui:\n\u00a0\u00a0\u00a0\u00a0git:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0url: https://github.com/flutter/flutter_web\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0path: packages / flutter_web_ui\n\u00a0\u00a0provider:\n\u00a0\u00a0\u00a0\u00a0git:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0url: https://github.com/kevmoo/provider\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ref: flutter_web\n\n</code></pre>\n\n<p>When I run 'pub dev', an error occurs while resolving the package stopper. Then I tried to open github from the package stopper (<a href=\"https://github.com/aryzhov/flutter-stopper\" rel=\"nofollow noreferrer\">https://github.com/aryzhov/flutter-stopper</a>), after that I checked the files in the lib folder. There I found a file called stopper.dart. It turns out that in the file, still using\n\u00a0import 'package: flutter / material.dart';\nSo that makes my pubspec error. Because the code should be replaced with\nimport 'package: flutter_web / material.dart';</p>\n\n<p>Therefore, I tried to outsmart the problem by removing the dependency stopper on pubspec.yaml, then I created a stopper.dart file manually, then I saved it in the lib/mypackages folder. After that, I import stopper.dart from the lib/mypackages folder (it's no longer through the package).</p>\n\n<p>The package stopper is just one of the packages that I use on my Android project. Actually there are many other packages that have the same problem as the package stopper. The point is I have to create the package files manually, then I change \"package: flutter / ...\" to \"package: flutter_web /\" manually, then I can import them.</p>\n\n<p>What I want to ask, is there a more elegant and simple way?</p>\n"}, {"tags": ["python", "http", "dart", "protocol-buffers"], "owner": {"reputation": 207, "user_id": 7717578, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0HbkmqP4BP0/AAAAAAAAAAI/AAAAAAAADmQ/1mMLv4bVaW4/photo.jpg?sz=128", "display_name": "Etienne Berube", "link": "https://stackoverflow.com/users/7717578/etienne-berube"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1572393218, "creation_date": 1572393218, "question_id": 58616938, "link": "https://stackoverflow.com/questions/58616938/how-to-read-a-protobuf-packet-from-dart-in-python-over-http", "title": "How to read a protobuf packet from Dart in Python over Http", "body": "<p>I'm trying to pass data around in Protobuf from a Dart backend to a python client app. However, communication between the two seems difficult. The python client doesn't seem to recognize the protobuf packet from the backend.</p>\n\n<p>The Dart code looks like this</p>\n\n<pre><code>        var packet = ReturnPacket();\n        packet.rfwId = queries[\"rfwId\"].toString();\n        packet.lastBatchId = lastBatchId;\n        packet.results.addAll(data);\n\n        var return_packet = packet.writeToBuffer();\n\n        return Response.ok(return_packet);\n      }\n</code></pre>\n\n<p>And the python client looks like this:</p>\n\n<pre><code>        data = requests.get(url=url, params=params)\n        parsed_data = data_packet_pb2.ReturnPacket()\n        print('Before serialization: '+ data.text)\n        print(parsed_data.ParseFromString(data.content))\n</code></pre>\n\n<p>I keep getting this error: </p>\n\n<pre><code>    print(parsed_data.ParseFromString(data.content))\ngoogle.protobuf.message.DecodeError: Error parsing message\n</code></pre>\n\n<p>Any Idea why?</p>\n"}, {"tags": ["flutter", "dart", "routes", "navigationbar"], "comments": [{"owner": {"reputation": 1527, "user_id": 4244393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4252f23b39f1020cccc88d91e3b653eb?s=128&d=identicon&r=PG&f=1", "display_name": "Tom O", "link": "https://stackoverflow.com/users/4244393/tom-o"}, "edited": false, "score": 0, "creation_date": 1572390237, "post_id": 58616376, "comment_id": 103542594, "body": "The more conventional method would be to just change the pageIndex variable after you click the button. Is this not an option for you?"}, {"owner": {"reputation": 53, "user_id": 6304922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3e9778432183b1ce2a298dd5f06802a?s=128&d=identicon&r=PG&f=1", "display_name": "itslucca", "link": "https://stackoverflow.com/users/6304922/itslucca"}, "reply_to_user": {"reputation": 1527, "user_id": 4244393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4252f23b39f1020cccc88d91e3b653eb?s=128&d=identicon&r=PG&f=1", "display_name": "Tom O", "link": "https://stackoverflow.com/users/4244393/tom-o"}, "edited": false, "score": 0, "creation_date": 1572393040, "post_id": 58616376, "comment_id": 103543244, "body": "I&#39;d have to use a callback to access pageIndex from another class right? That might be a problem because the page which has the button isn&#39;t a child of BottomNavBar. Is there a way to change it?"}, {"owner": {"reputation": 1527, "user_id": 4244393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4252f23b39f1020cccc88d91e3b653eb?s=128&d=identicon&r=PG&f=1", "display_name": "Tom O", "link": "https://stackoverflow.com/users/4244393/tom-o"}, "edited": false, "score": 0, "creation_date": 1572438854, "post_id": 58616376, "comment_id": 103558533, "body": "The way I would go about it, is through state management methods such as ChangeNotifierProvider or ScopedModel. State management is basically what you use, when you want to use variables across your widgets, without needing to pass it along some widget hierarchy.   You can read more about it here <a href=\"https://flutter.dev/docs/development/data-and-backend/state-mgmt/simple\" rel=\"nofollow noreferrer\">flutter.dev/docs/development/data-and-backend/state-mgmt/sim&zwnj;&#8203;ple</a> and here <a href=\"https://pub.dev/packages/scoped_model\" rel=\"nofollow noreferrer\">pub.dev/packages/scoped_model</a>."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 6304922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3e9778432183b1ce2a298dd5f06802a?s=128&d=identicon&r=PG&f=1", "display_name": "itslucca", "link": "https://stackoverflow.com/users/6304922/itslucca"}, "edited": false, "score": 0, "creation_date": 1572392917, "post_id": 58616856, "comment_id": 103543217, "body": "Thanks for the reply. I tried to do that, but then the BottomNavBar disappears from pageOne after the push"}, {"owner": {"reputation": 53, "user_id": 6304922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3e9778432183b1ce2a298dd5f06802a?s=128&d=identicon&r=PG&f=1", "display_name": "itslucca", "link": "https://stackoverflow.com/users/6304922/itslucca"}, "edited": false, "score": 1, "creation_date": 1572393207, "post_id": 58616856, "comment_id": 103543276, "body": "Oh I figured a work around, thanks! I&#39;ll update my question in case someone runs into the same problem, but I&#39;ll accept your answer."}], "tags": [], "owner": {"reputation": 898, "user_id": 12267564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jV86X.png?s=128&g=1", "display_name": "lazos", "link": "https://stackoverflow.com/users/12267564/lazos"}, "is_accepted": true, "score": 1, "last_activity_date": 1572392614, "creation_date": 1572392614, "answer_id": 58616856, "question_id": 58616376, "link": "https://stackoverflow.com/questions/58616376/change-bottomnavigationbar-index-with-button-press/58616856#58616856", "title": "Change BottomNavigationBar index with button press", "body": "<p>Instead of <code>Navigator.pop(context)</code> if you just want to navigate to '/pageOne' and remove all the previous routes you could do something like</p>\n\n<pre><code>  Navigator.of(context).pushNamedAndRemoveUntil(\n      '/pageOne', (Route&lt;dynamic&gt; route) =&gt; false);\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 6304922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3e9778432183b1ce2a298dd5f06802a?s=128&d=identicon&r=PG&f=1", "display_name": "itslucca", "link": "https://stackoverflow.com/users/6304922/itslucca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1446, "favorite_count": 0, "accepted_answer_id": 58616856, "answer_count": 1, "score": 0, "last_activity_date": 1574712666, "creation_date": 1572388997, "last_edit_date": 1574712666, "question_id": 58616376, "link": "https://stackoverflow.com/questions/58616376/change-bottomnavigationbar-index-with-button-press", "title": "Change BottomNavigationBar index with button press", "body": "<p>I have a Bottom Navigation bar like this:</p>\n\n<pre><code>Scaffold navBarPages() {\n    return Scaffold(\n      key: _scaffoldKey,\n      body: PageView(\n        children: &lt;Widget&gt;[\n          //Sends current user to pages.\n          PageOne(),\n          PageTwo(),\n          PageThree(),\n          PageFour(),\n          PageFive(),\n        ],\n        controller: pageController,\n        onPageChanged: onPageChanged,\n        physics: NeverScrollableScrollPhysics(),\n      ),\n      bottomNavigationBar: CupertinoTabBar(\n        currentIndex: pageIndex,\n        onTap: onTap,\n        activeColor: Theme.of(context).primaryColor,\n        items: [\n          BottomNavigationBarItem()\n          ...\n        ],\n      ),\n    );\n  }\n</code></pre>\n\n<p>On PageFive(), I'm performing an action with a button press and I want to pop the screen to PageOne().  <code>Navigator.pop(context)</code> returns to PageFive(), dismissing the screen which has the button.</p>\n\n<p>I tried using routes on my main, and then pushing to '/pageOne' namedRoute. But then pageOne doesn't appear with the BottomNavBar and the screen I want to dismiss is still under in the widget tree. I'd like to pop it completely, kinda redirecting the user to the first page.</p>\n\n<p><strong>Update:</strong>\nUsing pushAndRemove with a route work:</p>\n\n<pre><code>Navigator.of(context).pushNamedAndRemoveUntil(\n'/pageOne', (Route&lt;dynamic&gt; route) =&gt; false);\n</code></pre>\n\n<p>The problem I had with routes was that the BottomNavBar wouldn't show after the push. But to fix it I changed \n<code>routes: {'/pageOne': (context) =&gt; PageOne()}</code>\nto \n<code>routes: {'/home': (context) =&gt; Home()}</code></p>\n\n<p>Home holds the BottomNavBar class, therefore it works to 'reload' the app, redirecting the user to the first page. </p>\n"}, {"tags": ["generics", "dart"], "answers": [{"tags": [], "owner": {"reputation": 11572, "user_id": 1953515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b08d90afd96271299a4dc0fcf672f2?s=128&d=identicon&r=PG", "display_name": "julemand101", "link": "https://stackoverflow.com/users/1953515/julemand101"}, "is_accepted": false, "score": 0, "last_activity_date": 1572430269, "creation_date": 1572430269, "answer_id": 58623005, "question_id": 58616328, "link": "https://stackoverflow.com/questions/58616328/type-checking-for-generic-methods-in-dart-seems-to-be-broken/58623005#58623005", "title": "Type checking for generic methods in Dart seems to be broken", "body": "<p>I think it works as expected. In you testBad example you expect Dart to automatically find a type for <code>A</code> which makes <code>b.testBad(b, \"\")</code> valid. Well, it is completely valid if <code>A</code> is set to the type <code>Object</code>. You can see that if you print the type:</p>\n\n<pre><code>  void testBad&lt;A&gt;(I&lt;A&gt; value1, A value) {\n    print(A); // Object\n  }\n</code></pre>\n\n<p>If you instead create the object where you specify the type for <code>A</code> like:</p>\n\n<pre><code>void testBadCall() {\n  var b = I&lt;bool&gt;();\n  b.testBad&lt;String&gt;(b, \"\"); // compiler returns: The argument type 'I&lt;bool&gt;' can't be assigned to the parameter type 'I&lt;String&gt;'\n}\n</code></pre>\n\n<p>You get the error you expect.</p>\n"}], "owner": {"reputation": 445, "user_id": 1995341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb732f5f0c1de350b314c4069f1c231f?s=128&d=identicon&r=PG", "display_name": "Robert Sutton", "link": "https://stackoverflow.com/users/1995341/robert-sutton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572430269, "creation_date": 1572388660, "question_id": 58616328, "link": "https://stackoverflow.com/questions/58616328/type-checking-for-generic-methods-in-dart-seems-to-be-broken", "title": "Type checking for generic methods in Dart seems to be broken", "body": "<p>Type checking for generic methods in Dart seems to be broken.</p>\n\n<p>In testGoodCall() where the class has a generic type it works as expected, the compiler flags an error on the String being passed where a bool should be expected.</p>\n\n<p>But as can be seen in the example code below , <strong>the compiler is oblivious to the incorrect type of the second parameter being passed in testBadCall()</strong>.</p>\n\n<p><strong>Is this a known issue?</strong> </p>\n\n<p><strong>What is the work around?</strong> - without creating a class for every method that I want generic's with proper type checking on.</p>\n\n<pre><code>void testGoodCall() {\n  var b = I&lt;bool&gt;();\n  b.testGood(b, \"\");   // compiler flags an error on this line as expected\n}\n\nvoid testBadCall() {\n  var b = I&lt;bool&gt;();\n  b.testBad(b, \"\");   // compiler ignores the error this line should cause\n}\n\nclass I&lt;T&gt; {\n  void testGood(I&lt;T&gt; value1, T value) {}\n\n  void testBad&lt;A&gt;(I&lt;A&gt; value1, A value) {}\n}\n</code></pre>\n"}, {"tags": ["firebase", "flutter", "dart", "google-cloud-firestore"], "answers": [{"tags": [], "owner": {"reputation": 411, "user_id": 7559966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tlaCp.jpg?s=128&g=1", "display_name": "drfalcoew", "link": "https://stackoverflow.com/users/7559966/drfalcoew"}, "is_accepted": false, "score": 0, "last_activity_date": 1572392925, "creation_date": 1572392925, "answer_id": 58616898, "question_id": 58616151, "link": "https://stackoverflow.com/questions/58616151/how-to-get-document-by-id-from-collectiongroup/58616898#58616898", "title": "how to get document by Id from collectionGroup", "body": "<p>In <strong>Swift</strong> language, I would go like this: </p>\n\n<pre><code>// (tested and confirmed)\n\nFirestore.firestore().collectionGroup(\"users\").getDocuments { (doc, err) in\n            if err != nil {\n                print(err?.localizedDescription)\n            }\n            if doc?.isEmpty == false {\n                for doc in doc!.documents {\n                    print(\"DOC = \", doc.documentID)\n                }\n            }\n        }\n</code></pre>\n\n<p>I don't use <strong>Dart</strong>, but I found this online for you. You might have to tweak it so it compiles for you.  I know it's using collection instead of collectionGroup.</p>\n\n<pre><code> final collRef = Firestore.instance.collection('images');\n DocumentReferance docReferance = collRef.document();\n\n  docReferance.setData(map).then((doc) {\n    print('hop ${docReferance.documentID}');\n  }).catchError((error) {\n    print(error);\n  });\n]\n</code></pre>\n"}], "owner": {"reputation": 660, "user_id": 11913272, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GTdupeu88Bs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reVZ8AGnW2KPB6V2qOg5vxXSehAfw/photo.jpg?sz=128", "display_name": "suhaib salem", "link": "https://stackoverflow.com/users/11913272/suhaib-salem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572392925, "creation_date": 1572387426, "question_id": 58616151, "link": "https://stackoverflow.com/questions/58616151/how-to-get-document-by-id-from-collectiongroup", "title": "how to get document by Id from collectionGroup", "body": "<p>my database look like this</p>\n\n<ul>\n<li>users(collection)\n\n<ul>\n<li>user_id(document)\n\n<ul>\n<li>images(collection)\n\n<ul>\n<li>image_id(document)</li>\n</ul></li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>i used collectionGroup to reach all images collection and now i want get the image by id.</p>\n\n<pre><code>Firestore.instance.collectionGroup('images').document('$imageid').get().then((onValue){\n</code></pre>\n\n<p>but with <code>collectionGroup()</code> there's no <code>document()</code></p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 365, "user_id": 3249281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e04d59f48a74fbf071c9333df7cc33a1?s=128&d=identicon&r=PG&f=1", "display_name": "user3249281", "link": "https://stackoverflow.com/users/3249281/user3249281"}, "is_accepted": true, "score": 0, "last_activity_date": 1573044698, "creation_date": 1573044698, "answer_id": 58730620, "question_id": 58615917, "link": "https://stackoverflow.com/questions/58615917/flutter-showdialogs-barrierdismissible-ignored-in-ios/58730620#58730620", "title": "flutter - showDialog&#39;s barrierDismissible ignored in ios?", "body": "<p>i figured it out in case anyone runs into this behavior randomly.</p>\n\n<p>i was using flutter 1.7 (and working with android only) when I created the project.  in order to support \"unfocusing\" of a text field when tapping outside of it, i wrapped the whole project in a GestureDetector with the instructions from here:</p>\n\n<p><a href=\"https://flutter360.dev/dismiss-keyboard-form-lose-focus\" rel=\"nofollow noreferrer\">https://flutter360.dev/dismiss-keyboard-form-lose-focus</a></p>\n\n<p>Everything worked perfectly.  When I moved the app to a mac for iOS testing, i did a new install of flutter which came with v1.9.1+hotfix.6.  I guess something in flutter changed from 1.7 -> 1.9.1 which breaks this unsupported implementation.  not considering the difference between my windows/android flutter version (where it worked) to my mac/ios version (where it did not work), i assumed it was an iOS thing.  Once I upgraded flutter on my PC to 1.9.1 the dialogs were no longer dismissible on my android phone.</p>\n\n<p>I still need/want a way to tap-to-dismiss the keyboard from a text field.  I am trying out the Listener solution from here which seems to be working as expected so far:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/57842100/flutter-a-way-for-textfield-to-detect-tap-outside\">Flutter. A way for TextField to detect tap outside</a></p>\n\n<p>I guess this is an exercise in side-effects of creative solutions to functionality not provided out of box by the framework coupled with understanding the impacts of updating the framework.</p>\n"}], "owner": {"reputation": 365, "user_id": 3249281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e04d59f48a74fbf071c9333df7cc33a1?s=128&d=identicon&r=PG&f=1", "display_name": "user3249281", "link": "https://stackoverflow.com/users/3249281/user3249281"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 915, "favorite_count": 0, "accepted_answer_id": 58730620, "answer_count": 1, "score": 2, "last_activity_date": 1573044698, "creation_date": 1572385991, "question_id": 58615917, "link": "https://stackoverflow.com/questions/58615917/flutter-showdialogs-barrierdismissible-ignored-in-ios", "title": "flutter - showDialog&#39;s barrierDismissible ignored in ios?", "body": "<p>in android, when you tap on the \"barrier\"/outside/background of a (material) modal dialog created using showDialog(), the dialog closes by default.  </p>\n\n<p>when you tap on that barrier on an iphone (physical device), the tap to close is ignored and the modal stays open.  </p>\n\n<p>i realize there is a \"showCupertinoDialog\" option, but i am trying to avoid using it (it doesn't tap-barrier-to-close either).  </p>\n\n<p>the flutter/dart documentation doesn't indicate any differences in expected behavior of android -vs- ios.  i've included some example code that illustrates the issue, i would expect the _showMaterialDialog() dialog to close on iphones, but it does not.  </p>\n\n<p>any idea why this is not working?  is this a bug or expected behavior?  Thanks!</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:flutter/cupertino.dart';\n\n\nclass dialogtest extends StatefulWidget {\n  @override\n  dialogtestState createState() =&gt; dialogtestState();\n}\n\nclass dialogtestState extends State&lt;dialogtest&gt; {\n  @override\n  Widget build(BuildContext context) {\n    return SafeArea(\n        child: Scaffold(\n            appBar: AppBar(\n              title: Text('Dialog Demo'),\n            ),\n            body: Center(\n              child: Column(\n                mainAxisAlignment: MainAxisAlignment.center,\n                children: &lt;Widget&gt;[\n                  RaisedButton(\n                    onPressed: () {\n                      _showMaterialDialog();\n                    },\n                    child: Text('Show Material Dialog'),\n                  ),\n                  SizedBox(\n                    height: 20,\n                  ),\n                  RaisedButton(\n                    onPressed: () {\n                      _showCupertinoDialog();\n                    },\n                    child: Text('Show Cupertino Dialog'),\n                  ),\n                ],\n              ),\n            )));\n  }\n\n  void _showMaterialDialog() {\n    showDialog(\n        context: context,\n        barrierDismissible: true, // ********* ignored in ios, defaults to true anyway!!\n        builder: (context) {\n          return AlertDialog(\n            title: Text('Material Dialog'),\n            content: Text('This is the content of the material dialog'),\n            actions: &lt;Widget&gt;[\n              FlatButton(\n                  onPressed: () {\n                    _dismissDialog();\n                  },\n                  child: Text('Close')),\n              FlatButton(\n                onPressed: () {\n                  print('HelloWorld!');\n                  _dismissDialog();\n                },\n                child: Text('HelloWorld!'),\n              )\n            ],\n          );\n        });\n  }\n\n  _dismissDialog() {\n    Navigator.pop(context);\n  }\n\n  void _showCupertinoDialog() {\n    showDialog(\n        context: context,\n        builder: (context) {\n          return CupertinoAlertDialog(\n            title: Text('Cupertino Dialog'),\n            content: Text('This is the content of the cupertino dialog'),\n            actions: &lt;Widget&gt;[\n              FlatButton(\n                  onPressed: () {\n                    _dismissDialog();\n                  },\n                  child: Text('Close')),\n              FlatButton(\n                onPressed: () {\n                  print('HelloWorld!');\n                  _dismissDialog();\n                },\n                child: Text('HelloWorld!'),\n              )\n            ],\n          );\n        });\n  }\n\n}\n</code></pre>\n"}, {"tags": ["flutter", "dart", "statefulwidget"], "answers": [{"tags": [], "owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "is_accepted": true, "score": 7, "last_activity_date": 1572398664, "creation_date": 1572398664, "answer_id": 58617549, "question_id": 58615414, "link": "https://stackoverflow.com/questions/58615414/flutter-statefulwidget-not-updating-data/58617549#58617549", "title": "Flutter StatefulWidget not updating data", "body": "<p>Please check the following code snippet, Inside State, you need to use widget._userInfo <br>\nSkeleton of a stateful widget, you can see <a href=\"https://api.flutter.dev/flutter/widgets/StatefulWidget-class.html\" rel=\"noreferrer\">https://api.flutter.dev/flutter/widgets/StatefulWidget-class.html</a> <br>\nYou can copy paste and run full code below <br></p>\n\n<p>code snippet</p>\n\n<pre><code>AccountMenuWidget(null, null, \"test\", {\"ab\": \"cd\"}),\n...\n\nclass AccountMenuWidget extends StatefulWidget {\n  final Function _closeAccountMenu;\n  final Function _signOut;\n  String _accountToken;\n  Map _userInfo;\n  AccountMenuWidget(this._closeAccountMenu, this._signOut, this._accountToken,\n      this._userInfo) {\n    //_openAnimation();\n    print(\"DEBUG2 \" + _userInfo.toString());\n  }\n\n  @override\n  _AccountMenuWidgetState createState() =&gt; _AccountMenuWidgetState();\n}\n\nclass _AccountMenuWidgetState extends State&lt;AccountMenuWidget&gt; {\n  @override\n  Widget build(BuildContext context) {\n    return Column(\n      mainAxisAlignment: MainAxisAlignment.center,\n      children: &lt;Widget&gt;[\n        Text(\n          widget._userInfo.toString(),\n          style: TextStyle(color: Colors.red),\n        ),\n      ],\n    );\n  }\n}\n</code></pre>\n\n<p>full code </p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Flutter Demo',\n      theme: ThemeData(\n        // This is the theme of your application.\n        //\n        // Try running your application with \"flutter run\". You'll see the\n        // application has a blue toolbar. Then, without quitting the app, try\n        // changing the primarySwatch below to Colors.green and then invoke\n        // \"hot reload\" (press \"r\" in the console where you ran \"flutter run\",\n        // or simply save your changes to \"hot reload\" in a Flutter IDE).\n        // Notice that the counter didn't reset back to zero; the application\n        // is not restarted.\n        primarySwatch: Colors.blue,\n      ),\n      home: MyHomePage(title: 'Flutter Demo Home Page'),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  MyHomePage({Key key, this.title}) : super(key: key);\n\n  // This widget is the home page of your application. It is stateful, meaning\n  // that it has a State object (defined below) that contains fields that affect\n  // how it looks.\n\n  // This class is the configuration for the state. It holds the values (in this\n  // case the title) provided by the parent (in this case the App widget) and\n  // used by the build method of the State. Fields in a Widget subclass are\n  // always marked \"final\".\n\n  final String title;\n\n  @override\n  _MyHomePageState createState() =&gt; _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  int _counter = 0;\n\n  void _incrementCounter() {\n    setState(() {\n      // This call to setState tells the Flutter framework that something has\n      // changed in this State, which causes it to rerun the build method below\n      // so that the display can reflect the updated values. If we changed\n      // _counter without calling setState(), then the build method would not be\n      // called again, and so nothing would appear to happen.\n      _counter++;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    // This method is rerun every time setState is called, for instance as done\n    // by the _incrementCounter method above.\n    //\n    // The Flutter framework has been optimized to make rerunning build methods\n    // fast, so that you can just rebuild anything that needs updating rather\n    // than having to individually change instances of widgets.\n    return Scaffold(\n      appBar: AppBar(\n        // Here we take the value from the MyHomePage object that was created by\n        // the App.build method, and use it to set our appbar title.\n        title: Text(widget.title),\n      ),\n      body: Center(\n        // Center is a layout widget. It takes a single child and positions it\n        // in the middle of the parent.\n        child: Column(\n          // Column is also a layout widget. It takes a list of children and\n          // arranges them vertically. By default, it sizes itself to fit its\n          // children horizontally, and tries to be as tall as its parent.\n          //\n          // Invoke \"debug painting\" (press \"p\" in the console, choose the\n          // \"Toggle Debug Paint\" action from the Flutter Inspector in Android\n          // Studio, or the \"Toggle Debug Paint\" command in Visual Studio Code)\n          // to see the wireframe for each widget.\n          //\n          // Column has various properties to control how it sizes itself and\n          // how it positions its children. Here we use mainAxisAlignment to\n          // center the children vertically; the main axis here is the vertical\n          // axis because Columns are vertical (the cross axis would be\n          // horizontal).\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: &lt;Widget&gt;[\n            AccountMenuWidget(null, null, \"test\", {\"ab\": \"cd\"}),\n            Text(\n              'You have pushed the button this many times:',\n            ),\n            Text(\n              '$_counter',\n              style: Theme.of(context).textTheme.display1,\n            ),\n          ],\n        ),\n      ),\n      floatingActionButton: FloatingActionButton(\n        onPressed: _incrementCounter,\n        tooltip: 'Increment',\n        child: Icon(Icons.add),\n      ), // This trailing comma makes auto-formatting nicer for build methods.\n    );\n  }\n}\n\nclass AccountMenuWidget extends StatefulWidget {\n  final Function _closeAccountMenu;\n  final Function _signOut;\n  String _accountToken;\n  Map _userInfo;\n  AccountMenuWidget(this._closeAccountMenu, this._signOut, this._accountToken,\n      this._userInfo) {\n    //_openAnimation();\n    print(\"DEBUG2 \" + _userInfo.toString());\n  }\n\n  @override\n  _AccountMenuWidgetState createState() =&gt; _AccountMenuWidgetState();\n}\n\nclass _AccountMenuWidgetState extends State&lt;AccountMenuWidget&gt; {\n  @override\n  Widget build(BuildContext context) {\n    return Column(\n      mainAxisAlignment: MainAxisAlignment.center,\n      children: &lt;Widget&gt;[\n        Text(\n          widget._userInfo.toString(),\n          style: TextStyle(color: Colors.red),\n        ),\n      ],\n    );\n  }\n}\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>I/flutter (15801): DEBUG2 {ab: cd}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/DeDVX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/DeDVX.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1021, "user_id": 7138284, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh4.googleusercontent.com/-V4zCjGMMQaU/AAAAAAAAAAI/AAAAAAAAFlw/wboBnClNLjQ/photo.jpg?sz=128", "display_name": "Alex Collette", "link": "https://stackoverflow.com/users/7138284/alex-collette"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5055, "favorite_count": 0, "accepted_answer_id": 58617549, "answer_count": 1, "score": 1, "last_activity_date": 1572398664, "creation_date": 1572383034, "question_id": 58615414, "link": "https://stackoverflow.com/questions/58615414/flutter-statefulwidget-not-updating-data", "title": "Flutter StatefulWidget not updating data", "body": "<p>I am trying to pass a Map to a stateful widget, and the map updates from time to time. In my parent widget I call setState() when I change the data, and in the subwidget, I can see the data come across, but then if I try to use the data, it has not been updated. Any ideas why this might be, and how to fix it?</p>\n\n<pre><code>class AccountMenuWidgetState extends State {\n  final Function _closeAccountMenu;\n  final Function _signOut;\n  String _accountToken;\n  Map _userInfo;\n  AccountMenuWidgetState(this._closeAccountMenu, this._signOut, this._accountToken, this._userInfo) {\n    //_openAnimation();\n    print(\"DEBUG2 \" + _userInfo.toString());    &lt;----- This shows the updated data\n  }\n\n\n      @override\n      Widget build(BuildContext context){\n        return Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: &lt;Widget&gt;[\n            Text(\n               _userInfo.toString(),                  &lt;------ This does not update with new data\n               style: TextStyle(color: Colors.red),\n            ), \n          ],\n        );\n      }\n</code></pre>\n"}, {"tags": ["firebase", "flutter", "dart", "google-cloud-firestore", "stream"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 1, "creation_date": 1572381714, "post_id": 58614945, "comment_id": 103540058, "body": "FYI backtick quotes are not used for general text emphasis on Stack Overflow.  They&#39;re used for snippets of code."}, {"owner": {"reputation": 1991, "user_id": 2274847, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/yoGeY.jpg?s=128&g=1", "display_name": "Ale", "link": "https://stackoverflow.com/users/2274847/ale"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1572449831, "post_id": 58614945, "comment_id": 103565107, "body": "Thanks @DougStevenson I&#39;ve edited my code trying to follow your suggestion"}], "answers": [{"tags": [], "owner": {"reputation": 981, "user_id": 9541066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcba3871b5d81bf1a267d1c6a7893621?s=128&d=identicon&r=PG&f=1", "display_name": "Can", "link": "https://stackoverflow.com/users/9541066/can"}, "is_accepted": false, "score": 1, "last_activity_date": 1572381706, "creation_date": 1572381706, "answer_id": 58615123, "question_id": 58614945, "link": "https://stackoverflow.com/questions/58614945/flutter-use-stream-or-future/58615123#58615123", "title": "Flutter use Stream or Future?", "body": "<p>It all depends on your app I think. If real time update is an important feature that effects user experience a lot, stick with the Firebase data streams. If real time updates are not a must, you can get data once using Futures. An alternative to Firebase for real time data updates could be GraphQL subscriptions. I would recommend you to check out <a href=\"https://hasura.io\" rel=\"nofollow noreferrer\">Hasura</a> for quick implementation of GraphQL API. </p>\n"}, {"tags": [], "owner": {"reputation": 303, "user_id": 9973108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DnFtHpUYg_w/AAAAAAAAAAI/AAAAAAAAADM/wvP6q6c-R_s/photo.jpg?sz=128", "display_name": "Hairon Chaviano", "link": "https://stackoverflow.com/users/9973108/hairon-chaviano"}, "is_accepted": false, "score": 1, "last_activity_date": 1572382312, "creation_date": 1572382312, "answer_id": 58615247, "question_id": 58614945, "link": "https://stackoverflow.com/questions/58614945/flutter-use-stream-or-future/58615247#58615247", "title": "Flutter use Stream or Future?", "body": "<p>I recommended use the Future way, if you take a break and compare the two codes, with the Future way you need to write more, but the architecture is more clean, strong and scalable. In my experience, that's the right way to do good things. Great work</p>\n"}, {"tags": [], "owner": {"reputation": 1271, "user_id": 436422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88284bef52231ba51794a2342147a252?s=128&d=identicon&r=PG", "display_name": "bizz84", "link": "https://stackoverflow.com/users/436422/bizz84"}, "is_accepted": false, "score": 1, "last_activity_date": 1572383441, "creation_date": 1572383441, "answer_id": 58615485, "question_id": 58614945, "link": "https://stackoverflow.com/questions/58614945/flutter-use-stream-or-future/58615485#58615485", "title": "Flutter use Stream or Future?", "body": "<p>It's a good question.</p>\n\n<p>Firestore vs REST API will result in different APIs (Stream vs Future).</p>\n\n<p>Making the code generic won't work here. As you said:</p>\n\n<ul>\n<li>Stream-based APIs will be realtime</li>\n<li>Future-based APIs will not</li>\n</ul>\n\n<p>Even the UX would be different.</p>\n\n<ul>\n<li>In the Stream version, you don't need a refresh indicator.</li>\n<li>In the Future version, you can reload the data with pull-to-refresh.</li>\n</ul>\n\n<p>I would not recommend to future-proof your code in this case.</p>\n\n<p>If Firestore works well for you, use Streams in all your APIs.</p>\n\n<p>Only if/when you decide to move to a REST API, then you can convert all your APIs (and UX) to use Futures.</p>\n\n<p>Giving up realtime capabilities upfront doesn't seem worth it.</p>\n"}, {"tags": [], "owner": {"reputation": 1927, "user_id": 9626566, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EWV4_SzZdXw/AAAAAAAAAAI/AAAAAAAAATg/dWhHXjgT7D4/photo.jpg?sz=128", "display_name": "Kris", "link": "https://stackoverflow.com/users/9626566/kris"}, "is_accepted": false, "score": 2, "last_activity_date": 1572384722, "creation_date": 1572384722, "answer_id": 58615727, "question_id": 58614945, "link": "https://stackoverflow.com/questions/58614945/flutter-use-stream-or-future/58615727#58615727", "title": "Flutter use Stream or Future?", "body": "<p>You can also include both methods in the api / repository, and either retrieve a Future or listen to the Stream in the bloc depending on what you want to do. I don't think you need to worry about violating the consistency of REST by also having a method that returns a stream. There is no better way to tap into the real-time functionality of Firestore than to use a stream like you described.</p>\n\n<p>But to just return a Future, you don't have to go through a stream, you can just await a CollectionReference's getDocuments(), something like this:</p>\n\n<pre><code>class FirestoreApi implements Api {\n\nFirestoreApi._();\nstatic final instance = FirestoreApi._();\n\nCollectionReference jobsReference = Firestore.instance.collection(\"users/myUserId/jobs\");\n\n@override\nFuture&lt;List&lt;Job&gt;&gt; getJobList() async {\n  QuerySnapshot query = await jobsReference.getDocuments();\n\n  List&lt;Job&gt; jobs = query.documents.map((document) =&gt; Job(\n      id: document.data['uid'],\n      name: document.data['name'],\n   )).toList();\n\n  return jobs;\n\n }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8769, "user_id": 2315974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C388N.jpg?s=128&g=1", "display_name": "danypata", "link": "https://stackoverflow.com/users/2315974/danypata"}, "is_accepted": false, "score": 4, "last_activity_date": 1572386110, "creation_date": 1572386110, "answer_id": 58615933, "question_id": 58614945, "link": "https://stackoverflow.com/questions/58614945/flutter-use-stream-or-future/58615933#58615933", "title": "Flutter use Stream or Future?", "body": "<p>First of all, in my opinion, firebase is not designed to back up a mature project. In the end, you'll end up with a REST api backing up your app. It's true that, you might also end up using both but for different purposes. So i think you should think about firebase as a tool for MVP/proof of concept. I know that Firebase is cool and works well, etc. but the costs are not feasible for a final product.</p>\n\n<p>Now, nobody says that you can't have a REST client implementation that will return a Stream. Check out this <code>Stream.fromFuture(theFuture)</code>. You can think of the REST api like a stream that emits only one event (Rx equivalent: Single)</p>\n\n<p>I would also advise to be careful with the real time update feature provided by Firebase, if you transition to a full REST api, you won't be able to do a real time update because REST doesn't work like that. Firebase is using Sockets for communication (if I remember correctly).</p>\n"}], "owner": {"reputation": 1991, "user_id": 2274847, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/yoGeY.jpg?s=128&g=1", "display_name": "Ale", "link": "https://stackoverflow.com/users/2274847/ale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3830, "favorite_count": 3, "answer_count": 5, "score": 4, "last_activity_date": 1576181750, "creation_date": 1572380870, "last_edit_date": 1576181750, "question_id": 58614945, "link": "https://stackoverflow.com/questions/58614945/flutter-use-stream-or-future", "title": "Flutter use Stream or Future?", "body": "<p>I'm using Firestore database to store a list of objects. To retrieve them I use the <code>Stream</code> provided by the Firestore package, like this:</p>\n\n<pre><code> class FirestoreApi implements Api {\n\n  FirestoreApi._();\n  static final instance = FirestoreApi._();\n\n  @override\n  Stream&lt;List&lt;Job&gt;&gt; getJobList() {\n    final path = \"users/myUserId/jobs\";\n    final reference = Firestore.instance.collection(path);\n    final snapshots = reference.snapshots();\n\n    return snapshots.map((snapshot) =&gt; snapshot.documents.map(\n      (snapshot) =&gt; Job(\n        id: snapshot.data['uid'],\n      name: snapshot.data['name']\n     ),\n    ).toList());\n  }\n}\n</code></pre>\n\n<p>It implements an <code>abstract</code> class:</p>\n\n<pre><code>abstract class Api {\n  Stream&lt;List&lt;Job&gt;&gt; getJobList();\n}\n</code></pre>\n\n<p>In my Repository class I call it like this:</p>\n\n<pre><code>class Repository {\n  final FirestoreApi _firestoreApi = FirestoreApi.instance;\n\n  Stream&lt;List&lt;job&gt;&gt; getJobList() =&gt; _firestoreApi.getJobList();\n}\n</code></pre>\n\n<p>Then in my BloC I call the Repository:</p>\n\n<pre><code>class JobBloc {\n\n  final _repository = new Repository();\n\n  Stream&lt;List&lt;Job&gt;&gt; getJobList() {\n    try {\n      return _repository.getJobList();\n    } catch (e) {\n      rethrow;\n    } finally {}\n  }\n}\n</code></pre>\n\n<p>And finally here is how I use it in my <code>Widget</code>:</p>\n\n<pre><code>Widget _buildBody(BuildContext context) {\n  final JobBloc _jobBloc = Provider.of&lt;JobBloc&gt;(context);\n\n  return StreamBuilder&lt;List&lt;Job&gt;&gt;(\n  stream: _jobBloc.getJobList(),\n  builder: (BuildContext context, AsyncSnapshot&lt;List&lt;Job&gt;&gt; snapshot) {\n    if (snapshot.hasData) {\n      return RefreshIndicator(\n        child: JobList(snapshot.data),\n        onRefresh: () =&gt; _jobBloc.refreshJobList(),\n      );\n    } else {\n      if(snapshot.connectionState == ConnectionState.waiting) {\n        return Center(child: CircularProgressIndicator());\n      } else {\n        return Center(child: Text(\"No data\"));\n      }\n\n    }\n  },\n);\n }\n</code></pre>\n\n<p>Until here everything works great and my <code>Widget</code> gets updated in real time when something is changed in the Firestore database.</p>\n\n<p>But now I want to go one step further. Lets say that maybe in the future I need to change my api implementation and use a REST api instead of Firestore. I want that my code is prepared for that. </p>\n\n<p>In that case, all the <code>getJobList()</code> methods should return a <code>Future&lt;List&lt;Job&gt;&gt;</code> since the API will not return a <code>Stream</code> (I don't know if that's possible).</p>\n\n<p>I would have another API class like this that now returns <code>Future&lt;List&lt;Job&gt;&gt;</code>:</p>\n\n<pre><code>class RestApi implements Api {\n\n RestApi._();\n static final instance = RestApi._();\n\n @override\n Future&lt;List&lt;Job&gt;&gt; getJobList() {\n   //TODO: my rest api implementation\n }\n}\n</code></pre>\n\n<p>So the API <code>abstract</code> class would be modified like this:</p>\n\n<pre><code>abstract class Api {\n  Future&lt;List&lt;Job&gt;&gt; getJobList();\n}\n</code></pre>\n\n<p>Here the updated Repository:</p>\n\n<pre><code>class Repository {\n  final RestApi _restApi = RestApi.instance;\n\n  Future&lt;List&lt;job&gt;&gt; getJobList() =&gt; _restApi.getJobList();\n}\n</code></pre>\n\n<p>And finally in my BloC I would <code>sink</code> the list returned by the API in a <code>StreamController</code> like this:</p>\n\n<pre><code>class JobBloc {\n  final StreamController _jobController = StreamController&lt;List&lt;Job&gt;&gt;.broadcast();\n\n  // retrieve data from stream\n  Stream&lt;List&lt;Job&gt;&gt; get jobList =&gt; _jobController.stream;\n\n  Future&lt;List&lt;Job&gt;&gt; getJobList() async {\n    try {\n      _jobController.sink.add(await _repository.getJobList());\n    } catch (e) {\n      rethrow;\n    } finally {}\n }\n}\n</code></pre>\n\n<p>Now the question: I really like that Firestore returns a <code>Stream</code>, it makes my app to be updated in real time. But on the other hand, I would like that my architecture is consistent. </p>\n\n<p>Since I cannot make my REST api to return a <code>Stream</code>, I think the only way possible would be converting the Firebase <code>Stream</code> to a <code>Future</code> but then I would loose the real-time update feature.</p>\n\n<p>Something like this:</p>\n\n<pre><code>class FirestoreApi implements Api {\n\n   FirestoreApi._();\n   static final instance = FirestoreApi._();\n\n    @override\n    Future&lt;List&lt;Job&gt;&gt; getJobList() async {\n      final path = \"users/myUserId/jobs\";\n      final reference = Firestore.instance.collection(path);\n      final snapshots = reference.snapshots();\n\n    Stream&lt;List&lt;Job&gt;&gt; jobs = snapshots.map((snapshot) =&gt; snapshot.documents.map(\n        (snapshot) =&gt; Job(\n          id: snapshot.data['uid'],\n          name: snapshot.data['name'],\n        ),\n       ).toList());\n\n      List&lt;Job&gt; future = await jobs.first;\n      return future;\n\n     }\n   }\n</code></pre>\n\n<p>Until now what I've researched is that using the <code>Future</code> will return only one response, so I will lose the real-time functionality. </p>\n\n<p>I would like to know if loosing the real-time feature would be worthy just to make the architecture consistent or if there is a better approach.</p>\n\n<p>Thanks in advance, any ideas or suggestion will be appreciated.</p>\n\n<p><strong>EDIT: Thanks a lot for your comments, I really appreciate them. I actually don't know which one should be marked as accepted answer since all of them have helped me a lot so I decided to give a positive vote to all of you. If anyone doesn't agree with that or this is not the right behaviour in Stackoverflow please let me know</strong> </p>\n"}, {"tags": ["mongodb", "rest", "api", "flutter", "dart"], "comments": [{"owner": {"reputation": 2324, "user_id": 12000053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6PcKp.jpg?s=128&g=1", "display_name": "Sagar Acharya", "link": "https://stackoverflow.com/users/12000053/sagar-acharya"}, "edited": false, "score": 0, "creation_date": 1596002202, "post_id": 58614414, "comment_id": 111664867, "body": "you need to have a backend side logic to check if the email exists in the database and if the email exists you you should give a response as email exists and if not signup successful @afifi has mentioned it."}], "answers": [{"tags": [], "owner": {"reputation": 23, "user_id": 13748900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81ce776c59b2c06cb6ea5ce93bfd3148?s=128&d=identicon&r=PG&f=1", "display_name": "afifi", "link": "https://stackoverflow.com/users/13748900/afifi"}, "is_accepted": false, "score": 0, "last_activity_date": 1597562454, "last_edit_date": 1597562454, "creation_date": 1595974629, "answer_id": 63143587, "question_id": 58614414, "link": "https://stackoverflow.com/questions/58614414/validate-existing-email-in-flutter-using-a-api-rest/63143587#63143587", "title": "Validate existing email in flutter using a api rest", "body": "<pre><code>type this code in your onPressed method:    \n\n \n\n    http.Response response = await http.post(\n                                  '//type your server-url here',\n                                  headers: &lt;String, String&gt;{\n                                    'Content-Type': 'application/json; charset=UTF-8',\n                                  },\n                                  body: jsonEncode(&lt;String, String&gt;{\n                                    'name': name,\n                                    'email': email,\n                                    'password': password,\n                                  }),\n                                );\n        \n                                if (response.body == 'email already exists') {\n\n//the message &quot;email already exists&quot; comes from your backend.\n//It may differ from this message depending on your backend\n\n                                  Scaffold.of(context).showSnackBar(\n                                      SnackBar(content: Text('Email already exists')));\n                                } else {\n                                  Scaffold.of(context).showSnackBar(\n                                      SnackBar(content: Text('Processing Data')));\n                                }\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 12214802, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6w7G9QNFuRA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdmyvcTk4BFsfZLkQfiFkpZNrX2KQ/photo.jpg?sz=128", "display_name": "Localiza Med", "link": "https://stackoverflow.com/users/12214802/localiza-med"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 160, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1597562454, "creation_date": 1572378525, "question_id": 58614414, "link": "https://stackoverflow.com/questions/58614414/validate-existing-email-in-flutter-using-a-api-rest", "title": "Validate existing email in flutter using a api rest", "body": "<p>I have a signup screen in my app. I am also using a api rest to connect to database (mongodb).  I am making This api in nodejs. In this api, the email is set unique. </p>\n\n<p>How can I make the flutter show to the user, if he enters with an existing email on database, that the email already exists? </p>\n\n<p>Thank you in advance ;)</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 586, "user_id": 3863983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d552c9ab74708b143b4d3ce7cfdbc3e?s=128&d=identicon&r=PG&f=1", "display_name": "Reginaldo Costa", "link": "https://stackoverflow.com/users/3863983/reginaldo-costa"}, "edited": false, "score": 0, "creation_date": 1572607690, "post_id": 58613455, "comment_id": 103619871, "body": "Have you tried ClipRect ? <a href=\"https://api.flutter.dev/flutter/widgets/ClipRect-class.html\" rel=\"nofollow noreferrer\">api.flutter.dev/flutter/widgets/ClipRect-class.html</a>"}, {"owner": {"reputation": 466, "user_id": 9460996, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JaiDeBjvS6g/AAAAAAAAAAI/AAAAAAAAExE/U39U4snQYZk/photo.jpg?sz=128", "display_name": "filip", "link": "https://stackoverflow.com/users/9460996/filip"}, "reply_to_user": {"reputation": 586, "user_id": 3863983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d552c9ab74708b143b4d3ce7cfdbc3e?s=128&d=identicon&r=PG&f=1", "display_name": "Reginaldo Costa", "link": "https://stackoverflow.com/users/3863983/reginaldo-costa"}, "edited": false, "score": 0, "creation_date": 1572608430, "post_id": 58613455, "comment_id": 103620220, "body": "Will try. It has to work with GestureDetector too. @ReginaldoCosta"}, {"owner": {"reputation": 466, "user_id": 9460996, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JaiDeBjvS6g/AAAAAAAAAAI/AAAAAAAAExE/U39U4snQYZk/photo.jpg?sz=128", "display_name": "filip", "link": "https://stackoverflow.com/users/9460996/filip"}, "reply_to_user": {"reputation": 586, "user_id": 3863983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d552c9ab74708b143b4d3ce7cfdbc3e?s=128&d=identicon&r=PG&f=1", "display_name": "Reginaldo Costa", "link": "https://stackoverflow.com/users/3863983/reginaldo-costa"}, "edited": false, "score": 0, "creation_date": 1572611999, "post_id": 58613455, "comment_id": 103621839, "body": "Don&#39;t really now how to apply ClipRect in my code tho. @ReginaldoCosta"}], "answers": [{"tags": [], "owner": {"reputation": 12635, "user_id": 2760919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7exCF.png?s=128&g=1", "display_name": "bonnyz", "link": "https://stackoverflow.com/users/2760919/bonnyz"}, "is_accepted": false, "score": 2, "last_activity_date": 1573135133, "creation_date": 1573135133, "answer_id": 58750351, "question_id": 58613455, "link": "https://stackoverflow.com/questions/58613455/flutter-custompaint-and-gesturedetector-resize-both-to-image-size/58750351#58750351", "title": "flutter CustomPaint and GestureDetector resize both to Image Size", "body": "<p>You can clip your <code>Canvas</code> using <code>canvas.clipRect()</code> method:</p>\n\n<pre><code>class RectanglePainter extends CustomPainter {\n  //...\n\n  RectanglePainter({@required this.points, @required this.clear, @required this.image});\n\n  @override\n  void paint(Canvas canvas, Size size) {\n     //...\n     canvas.clipRect(Rect.fromLTWH(0, 0, size.width, size.height));\n  }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 466, "user_id": 9460996, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JaiDeBjvS6g/AAAAAAAAAAI/AAAAAAAAExE/U39U4snQYZk/photo.jpg?sz=128", "display_name": "filip", "link": "https://stackoverflow.com/users/9460996/filip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1423, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1587897832, "creation_date": 1572373891, "last_edit_date": 1572607269, "question_id": 58613455, "link": "https://stackoverflow.com/questions/58613455/flutter-custompaint-and-gesturedetector-resize-both-to-image-size", "title": "flutter CustomPaint and GestureDetector resize both to Image Size", "body": "<p>I want to give users the chance to create a polygon with their mobile phone on a <code>CustomPaint</code>. For this feature there is also a <code>GestureDetector</code> involved. The image is being loaded from a file with the <code>ImagePicker</code> library. The problem here is how to resize the canvas and gesture detector to the size of the picture. Any ideas?</p>\n\n<pre><code>Code: `import 'dart:io';\nimport 'dart:math';\nimport 'dart:ui' as ui;\n\nimport 'package:flutter/cupertino.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter/services.dart';\nimport 'package:image_picker/image_picker.dart';\nimport 'package:listassist/services/auth.dart';\n\nclass PictureShow extends StatefulWidget {\n  @override\n  _PictureShowState createState() =&gt; _PictureShowState();\n}\n\nclass _PictureShowState extends State&lt;PictureShow&gt; {\n  ui.Image _image;\n  Image _imageWidget;\n  List&lt;ui.Offset&gt; _points = [ui.Offset(90, 120), ui.Offset(90, 370), ui.Offset(320, 370), ui.Offset(320, 120)];\n  bool _clear = false;\n  int _currentlyDraggedIndex = -1;\n\n  @override\n  Widget build(BuildContext context) {\n    final AppBar appBar = AppBar(\n      backgroundColor: Theme.of(context).colorScheme.primary,\n      title: Text(\"Rechungserkennung\"),\n    );\n\n    return Scaffold(\n      floatingActionButton:\n        FloatingActionButton(\n          child: Icon(Icons.clear),\n          onPressed: () {\n            setState(() {\n              _clear = true;\n              _points = [];\n            });\n          }\n        ),\n      appBar: appBar,\n      backgroundColor: _imageWidget != null ? Colors.black : Colors.white,\n      body: Column(\n        mainAxisAlignment: MainAxisAlignment.center,\n        crossAxisAlignment: CrossAxisAlignment.center,\n        children: &lt;Widget&gt;[\n          if (_imageWidget == null) ...[\n            FlatButton(\n              onPressed: () =&gt; _pickImage(ImageSource.camera),\n              color: Colors.blueAccent,\n              padding: EdgeInsets.all(40.0),\n              child: Column(\n                children: &lt;Widget&gt;[\n                  Icon(Icons.camera_alt, color: Colors.white,),\n                  Text(\"Aus der Kamera\", style: TextStyle(color: Colors.white),)\n                ],\n              ),\n            ),\n            Padding(\n              padding: const EdgeInsets.only(top: 40, bottom: 40),\n              child: Text(\"oder\", textScaleFactor: 2,),\n            ),\n            FlatButton(\n              onPressed: () =&gt; _pickImage(ImageSource.gallery),\n              color: Colors.brown,\n              padding: EdgeInsets.all(40.0),\n              child: Column(\n                children: &lt;Widget&gt;[\n                  Icon(Icons.photo, color: Colors.white,),\n                  Text(\"Aus der Gallerie\", style: TextStyle(color: Colors.white),)\n                ],\n              ),\n            ),\n          ],\n          if (_imageWidget != null) ...[\n            GestureDetector(\n                onPanStart: (DragStartDetails details) {\n                  // get distance from points to check if is in circle\n                  int indexMatch = -1;\n                  for (int i = 0; i &lt; _points.length; i++) {\n                    double distance = sqrt(pow(details.localPosition.dx - _points[i].dx, 2) + pow(details.localPosition.dy - _points[i].dy, 2));\n                    if (distance &lt;= 30) {\n                      indexMatch = i;\n                      break;\n                    }\n                  }\n                  if (indexMatch != -1) {\n                    _currentlyDraggedIndex = indexMatch;\n                  }\n                },\n                onPanUpdate: (DragUpdateDetails details) {\n                  if (_currentlyDraggedIndex != -1) {\n                    setState(() {\n                      _points = List.from(_points);\n                      _points[_currentlyDraggedIndex] = details.localPosition;\n                    });\n                  }\n                },\n                onPanEnd: (_) {\n                  setState(() {\n                    _currentlyDraggedIndex = -1;\n                  });\n                },\n                child: CustomPaint(\n                    size: Size.fromHeight(MediaQuery.of(context).size.height - appBar.preferredSize.height),\n                    painter: RectanglePainter(points: _points, clear: _clear, image: _image),\n                  ),\n                )\n          ]\n        ],\n      ),\n    );\n  }\n\n  Future _pickImage(ImageSource imageSource) async {\n    try {\n      File imageFile = await ImagePicker.pickImage(source: imageSource);\n      ui.Image finalImg = await _load(imageFile.path);\n      setState(() {\n        _imageWidget = Image.file(imageFile);\n        _image = finalImg;\n      });\n    } on Exception {\n      ResultHandler\n          .showInfoSnackbar(Text(\"Ein Fehler ist aufgetreten beim \u00d6ffnen des Bildes. Die App ben\u00f6tigt Zugriff auf die Galerie\"));\n    }\n  }\n\n  Future&lt;ui.Image&gt; _load(String asset) async {\n    ByteData data = await rootBundle.load(asset);\n    ui.Codec codec = await ui.instantiateImageCodec(data.buffer.asUint8List());\n    ui.FrameInfo fi = await codec.getNextFrame();\n    return fi.image;\n  }\n}\n\n\nclass RectanglePainter extends CustomPainter {\n  List&lt;Offset&gt; points;\n  bool clear;\n  final ui.Image image;\n\n  RectanglePainter({@required this.points, @required this.clear, @required this.image});\n\n  @override\n  void paint(Canvas canvas, Size size) {\n    final paint = Paint()\n      ..color = Colors.red\n      ..strokeCap = StrokeCap.square\n      ..style = PaintingStyle.fill\n      ..strokeWidth = 2;\n\n    final outputRect = Rect.fromPoints(ui.Offset.zero, ui.Offset(size.width, size.height));\n    final Size imageSize = Size(image.width.toDouble(), image.height.toDouble());\n    final FittedSizes sizes = applyBoxFit(BoxFit.contain, imageSize, outputRect.size);\n    final Rect inputSubrect = Alignment.center.inscribe(sizes.source, Offset.zero &amp; imageSize);\n    final Rect outputSubrect = Alignment.center.inscribe(sizes.destination, outputRect);\n    canvas.drawImageRect(image, inputSubrect, outputSubrect, paint);\n    if (!clear) {\n      final circlePaint = Paint()\n        ..color = Colors.red\n        ..strokeCap = StrokeCap.square\n        ..style = PaintingStyle.fill\n        ..blendMode = BlendMode.multiply\n        ..strokeWidth = 2;\n\n      for (int i = 0; i &lt; points.length; i++) {\n          if (i + 1 == points.length) {\n            canvas.drawLine(points[i], points[0], paint);\n          } else {\n            canvas.drawLine(points[i], points[i + 1], paint);\n          }\n          canvas.drawCircle(points[i], 10, circlePaint);\n      }\n    }\n  }\n\n  @override\n  bool shouldRepaint(RectanglePainter oldPainter) =&gt; oldPainter.points != points || clear ;\n\n}`\n</code></pre>\n\n<p>How it currently looks like: (You can see the canvas goes beyond. If I log the coordinates emitted by the Gesture Detector they're also above 0 even when clicking outside of the picture. The green border shows how it SHOULD be)</p>\n\n<p><a href=\"https://i.stack.imgur.com/y65ZO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y65ZO.png\" alt=\"img\"></a></p>\n"}, {"tags": ["android", "flutter", "dart", "text-to-speech", "google-apps"], "comments": [{"owner": {"reputation": 555, "user_id": 9057721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1yYz4.gif?s=128&g=1", "display_name": "Style-7", "link": "https://stackoverflow.com/users/9057721/style-7"}, "edited": false, "score": 0, "creation_date": 1572380669, "post_id": 58612223, "comment_id": 103539604, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/4658376/how-to-know-when-tts-is-finished\">How to know when TTS is finished?</a>"}, {"owner": {"reputation": 41, "user_id": 9392607, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lyI0fjluZII/AAAAAAAAAAI/AAAAAAAAAJ4/OrjFsc1LTIY/photo.jpg?sz=128", "display_name": "Alessandro Carvalho", "link": "https://stackoverflow.com/users/9392607/alessandro-carvalho"}, "reply_to_user": {"reputation": 555, "user_id": 9057721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1yYz4.gif?s=128&g=1", "display_name": "Style-7", "link": "https://stackoverflow.com/users/9057721/style-7"}, "edited": false, "score": 0, "creation_date": 1572526465, "post_id": 58612223, "comment_id": 103592885, "body": "No, it is not a duplicate. I guess you didn&#39;t pay attention to my question. I said Dart language and you Style-7 show us a Java example."}, {"owner": {"reputation": 41, "user_id": 9392607, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lyI0fjluZII/AAAAAAAAAAI/AAAAAAAAAJ4/OrjFsc1LTIY/photo.jpg?sz=128", "display_name": "Alessandro Carvalho", "link": "https://stackoverflow.com/users/9392607/alessandro-carvalho"}, "reply_to_user": {"reputation": 555, "user_id": 9057721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1yYz4.gif?s=128&g=1", "display_name": "Style-7", "link": "https://stackoverflow.com/users/9057721/style-7"}, "edited": false, "score": 0, "creation_date": 1572715447, "post_id": 58612223, "comment_id": 103648740, "body": "No, my question doesn&#39;t have an answer here: How to know when TTS is finished?"}], "answers": [{"tags": [], "owner": {"reputation": 555, "user_id": 9057721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1yYz4.gif?s=128&g=1", "display_name": "Style-7", "link": "https://stackoverflow.com/users/9057721/style-7"}, "is_accepted": false, "score": -1, "last_activity_date": 1572720923, "creation_date": 1572720923, "answer_id": 58674278, "question_id": 58612223, "link": "https://stackoverflow.com/questions/58612223/flutter-text-to-speech-dart-language-how-to-add-a-background-color-to-a-text/58674278#58674278", "title": "Flutter text-to-speech (Dart language): How to add a background color to a text while the tts engine is reading it?", "body": "<p>1.</p>\n\n<pre><code>                HashMap&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\n                params.put( TextToSpeech.Engine.KEY_PARAM_UTTERANCE_ID, \"stringId\" );\n                tts.speak( text, TextToSpeech.QUEUE_FLUSH, params );\n</code></pre>\n\n<p>2.</p>\n\n<pre><code>                if( Build.VERSION.SDK_INT &gt;= 15 ){\n                    tts.setOnUtteranceProgressListener( new UtteranceProgressListener(){\n                        @Override\n                        public void onStart( String s ){\n                        }\n\n                        @Override\n                        public void onDone( String s ){\n                        }\n\n                        @Override\n                        public void onError( String s ){\n                        }\n                    } );\n                }else{\n                    tts.setOnUtteranceCompletedListener( new TextToSpeech.OnUtteranceCompletedListener(){\n                        @Override\n                        public void onUtteranceCompleted( String s ){\n                        }\n                    } );\n                }\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 9392607, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lyI0fjluZII/AAAAAAAAAAI/AAAAAAAAAJ4/OrjFsc1LTIY/photo.jpg?sz=128", "display_name": "Alessandro Carvalho", "link": "https://stackoverflow.com/users/9392607/alessandro-carvalho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 565, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572720923, "creation_date": 1572368541, "last_edit_date": 1572715349, "question_id": 58612223, "link": "https://stackoverflow.com/questions/58612223/flutter-text-to-speech-dart-language-how-to-add-a-background-color-to-a-text", "title": "Flutter text-to-speech (Dart language): How to add a background color to a text while the tts engine is reading it?", "body": "<p>I wanna create something like that in Dart code, NOT in Java: </p>\n\n<p><a href=\"https://i.stack.imgur.com/74JUE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/74JUE.jpg\" alt=\"while tts engine reads the text, a background color follows it\"></a></p>\n\n<p>While tts engine reads some text, a background color follows it helping the reader. It's much more than THAT another question you answered.</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 971, "user_id": 12176146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i7saa6CD6nU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdnigVUDcRnIS2zpgJROryAZKe46w/photo.jpg?sz=128", "display_name": "raman raman", "link": "https://stackoverflow.com/users/12176146/raman-raman"}, "edited": false, "score": 0, "creation_date": 1572405866, "post_id": 58611087, "comment_id": 103545713, "body": "I already know about them.I used zefyr and markdown in a math formula app &amp; lesson app resepctively. But we can not make stylish looking .[good UI] text contents using them."}, {"owner": {"reputation": 1313, "user_id": 8213910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DFst7.jpg?s=128&g=1", "display_name": "Nolence", "link": "https://stackoverflow.com/users/8213910/nolence"}, "reply_to_user": {"reputation": 971, "user_id": 12176146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i7saa6CD6nU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdnigVUDcRnIS2zpgJROryAZKe46w/photo.jpg?sz=128", "display_name": "raman raman", "link": "https://stackoverflow.com/users/12176146/raman-raman"}, "edited": false, "score": 1, "creation_date": 1572411496, "post_id": 58611087, "comment_id": 103546795, "body": "Sorry @ramanraman I&#39;m not sure what you mean by using json. If it&#39;s just that the style isn&#39;t matching what you have in mind, <code>flutter_markdown</code> has a <a href=\"https://github.com/flutter/flutter_markdown/blob/master/lib/src/style_sheet.dart\" rel=\"nofollow noreferrer\">stylesheet</a> that you can customize. For example, I use the <code>largeFromTheme</code> constructor to have larger fonts as well as changing the default headings to a different fontstyle than the <code>p</code> fontstyle."}], "tags": [], "owner": {"reputation": 1313, "user_id": 8213910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DFst7.jpg?s=128&g=1", "display_name": "Nolence", "link": "https://stackoverflow.com/users/8213910/nolence"}, "is_accepted": false, "score": 1, "last_activity_date": 1572364657, "creation_date": 1572364657, "answer_id": 58611087, "question_id": 58609792, "link": "https://stackoverflow.com/questions/58609792/can-you-help-me-finding-the-best-method-to-add-long-paragraphs-in-flutter/58611087#58611087", "title": "Can you help me finding the best method to add long paragraphs in flutter?", "body": "<p>I'd recommend checking out <a href=\"https://zefyr-editor.gitbook.io/docs/\" rel=\"nofollow noreferrer\">Zefyr</a>. It's a WYSIWYG that can <a href=\"https://zefyr-editor.gitbook.io/docs/images\" rel=\"nofollow noreferrer\">embed images</a>, <a href=\"https://zefyr-editor.gitbook.io/docs/concepts/attributes\" rel=\"nofollow noreferrer\">display lists</a> and even has collaborative editing capabilities. If you only wanted it for presentation you could make it view only by changing the mode to <code>ZefyrMode.view</code> on the <code>ZefyrEditor</code> constructor.</p>\n\n<p>Edit:\nAnother more lightweight solution is to use <a href=\"https://github.com/flutter/flutter_markdown\" rel=\"nofollow noreferrer\"><code>flutter_markdown</code></a>. It also supports images, lists and so on and doesn't require the special delta format that Zefyr does when storing your strings of text.</p>\n"}], "owner": {"reputation": 971, "user_id": 12176146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i7saa6CD6nU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdnigVUDcRnIS2zpgJROryAZKe46w/photo.jpg?sz=128", "display_name": "raman raman", "link": "https://stackoverflow.com/users/12176146/raman-raman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572364657, "creation_date": 1572360327, "question_id": 58609792, "link": "https://stackoverflow.com/questions/58609792/can-you-help-me-finding-the-best-method-to-add-long-paragraphs-in-flutter", "title": "Can you help me finding the best method to add long paragraphs in flutter?", "body": "<p>I know  about html plugins which can be used to add pages of long paragraphs</p>\n\n<p>I also know about flutter codes which can be used to add long paras of texts</p>\n\n<p>But I am not satisfied with both methods..</p>\n\n<p>I am creating a lesson app and want to insert tons of texts and images in a beautifully way...</p>\n\n<p>Can you suggest me any way [better way] to add long texts with   keeping eye on the size of the app</p>\n\n<p>I have added screenshots for reference</p>\n\n<p><a href=\"https://i.stack.imgur.com/EBgUM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EBgUM.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/umwzs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/umwzs.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["json", "dart"], "comments": [{"owner": {"reputation": 11572, "user_id": 1953515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b08d90afd96271299a4dc0fcf672f2?s=128&d=identicon&r=PG", "display_name": "julemand101", "link": "https://stackoverflow.com/users/1953515/julemand101"}, "edited": false, "score": 0, "creation_date": 1572361680, "post_id": 58609567, "comment_id": 103530917, "body": "&quot;If I only want to get two ids in category&quot;. In you example there are only one ID in the &quot;Category&quot;. Do you instead mean the two ID&#39;s in &quot;Book&quot;?"}, {"owner": {"reputation": 25, "user_id": 12229060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7981428c2ed697b2621250c6eaa6504?s=128&d=identicon&r=PG&f=1", "display_name": "DiedinGraz", "link": "https://stackoverflow.com/users/12229060/diedingraz"}, "reply_to_user": {"reputation": 11572, "user_id": 1953515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b08d90afd96271299a4dc0fcf672f2?s=128&d=identicon&r=PG", "display_name": "julemand101", "link": "https://stackoverflow.com/users/1953515/julemand101"}, "edited": false, "score": 0, "creation_date": 1572362524, "post_id": 58609567, "comment_id": 103531410, "body": "@julemand101 yeah that&#39;s what I mean. The ID of book name 2 and book name 3."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 12229060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7981428c2ed697b2621250c6eaa6504?s=128&d=identicon&r=PG&f=1", "display_name": "DiedinGraz", "link": "https://stackoverflow.com/users/12229060/diedingraz"}, "edited": false, "score": 0, "creation_date": 1572364782, "post_id": 58610480, "comment_id": 103532662, "body": "I see. So when I do not know how many data in JSON file (in this case is the number of book in each category and how many categories), I can get them in the List, right? And bookstores[&quot;Category&quot;][&quot;Book&quot;] should return a List&lt;Map&lt;String, List&gt;&gt;?"}, {"owner": {"reputation": 1523, "user_id": 11932722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJyxo.png?s=128&g=1", "display_name": "drogel", "link": "https://stackoverflow.com/users/11932722/drogel"}, "reply_to_user": {"reputation": 25, "user_id": 12229060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7981428c2ed697b2621250c6eaa6504?s=128&d=identicon&r=PG&f=1", "display_name": "DiedinGraz", "link": "https://stackoverflow.com/users/12229060/diedingraz"}, "edited": false, "score": 0, "creation_date": 1572365008, "post_id": 58610480, "comment_id": 103532776, "body": "Yes, you can get them from the list. However, I think that <code>bookstores[&quot;Category&quot;][&quot;Book&quot;]</code> should return a <code>List&lt;Map&lt;String, String&gt;&gt;</code>, not a <code>List&lt;Map&lt;String, List&gt;&gt;</code> in this case, given the snippet you provided."}], "tags": [], "owner": {"reputation": 1523, "user_id": 11932722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJyxo.png?s=128&g=1", "display_name": "drogel", "link": "https://stackoverflow.com/users/11932722/drogel"}, "is_accepted": false, "score": 0, "last_activity_date": 1572362640, "creation_date": 1572362640, "answer_id": 58610480, "question_id": 58609567, "link": "https://stackoverflow.com/questions/58609567/how-to-go-to-specific-json-node-in-dart/58610480#58610480", "title": "How to go to specific JSON node in dart", "body": "<p>Keep in mind that a JSON is just a <code>Map&lt;String, dynamic&gt;</code> object for Dart. So, if your JSON was assigned to a variable <code>bookstores</code>, I would access a node like in this example:</p>\n\n<pre><code>// This would return a List&lt;Map&lt;String, String&gt;&gt; object\nbookstores[\"Category\"][\"Book\"]; \n\n// This should be true\nbookstore == [\n     {\n        \"ID\": \"2\",\n        \"Name\": \"book name 2\"\n     },\n     {\n        \"ID\": \"3\",\n        \"Name\": \"book name 3\"\n     }\n  ];\n</code></pre>\n\n<p>You just iterate through the nodes like that.</p>\n"}], "owner": {"reputation": 25, "user_id": 12229060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7981428c2ed697b2621250c6eaa6504?s=128&d=identicon&r=PG&f=1", "display_name": "DiedinGraz", "link": "https://stackoverflow.com/users/12229060/diedingraz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1572362640, "creation_date": 1572359604, "question_id": 58609567, "link": "https://stackoverflow.com/questions/58609567/how-to-go-to-specific-json-node-in-dart", "title": "How to go to specific JSON node in dart", "body": "<p>I am kind of confused about how to get the specific node in dart. For example in this case, there are four ID inside. If I only want to get two ids in category, how should I get those information? Also, how should I start reading this file from Category in this case?</p>\n\n<pre><code>{\n   \"ID\": \"2\",\n   \"BOOKSTORENAME\": \"bookstore name\",\n   \"Category\": {\n      \"ID\": \"1\",\n      \"Book\": [\n         {\n            \"ID\": \"2\",\n            \"Name\": \"book name 2\"\n         },\n         {\n            \"ID\": \"3\",\n            \"Name\": \"book name 3\"\n         }\n      ]\n   }\n}\n</code></pre>\n"}, {"tags": ["flutter", "dart", "flutter-layout", "flutter-dependencies"], "answers": [{"tags": [], "owner": {"reputation": 2756, "user_id": 10205629, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4U-c1ByHRNE/AAAAAAAAAAI/AAAAAAAAAE0/W_2Ku7_ISts/photo.jpg?sz=128", "display_name": "ValdaXD", "link": "https://stackoverflow.com/users/10205629/valdaxd"}, "is_accepted": false, "score": 1, "last_activity_date": 1572370208, "creation_date": 1572370208, "answer_id": 58612659, "question_id": 58609148, "link": "https://stackoverflow.com/questions/58609148/flutter-how-to-override-function/58612659#58612659", "title": "Flutter: how to override function", "body": "<p>You can just copy/paste that function to your main.dart file, change the name and the barrierColor there and it will work because you can use showGeneralDialog </p>\n"}], "owner": {"reputation": 2209, "user_id": 5246900, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/00303a968628b3aa8ab8d648747b8157?s=128&d=identicon&r=PG&f=1", "display_name": "mr.boris", "link": "https://stackoverflow.com/users/5246900/mr-boris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 400, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1572370208, "creation_date": 1572358295, "question_id": 58609148, "link": "https://stackoverflow.com/questions/58609148/flutter-how-to-override-function", "title": "Flutter: how to override function", "body": "<p>Basically, I want to override a few props of ancestor <code>showDialog</code> function which is located in <code>packages/flutter/lib/src/material/dialog.dart</code></p>\n\n<p>I want to change <code>barrierColor</code> property and remove <code>SafeArea</code> widget from showGeneralDialog builder method.</p>\n\n<pre><code>//...\nFuture&lt;T&gt; showDialog&lt;T&gt;({\n  @required BuildContext context,\n  bool barrierDismissible = true,\n  @Deprecated(\n    'Instead of using the \"child\" argument, return the child from a closure '\n    'provided to the \"builder\" argument. This will ensure that the BuildContext '\n    'is appropriate for widgets built in the dialog.'\n  ) Widget child,\n  WidgetBuilder builder,\n}) {\n  assert(child == null || builder == null);\n  assert(debugCheckHasMaterialLocalizations(context));\n\n  final ThemeData theme = Theme.of(context, shadowThemeOnly: true);\n  return showGeneralDialog(\n    context: context,\n    pageBuilder: (BuildContext buildContext, Animation&lt;double&gt; animation, Animation&lt;double&gt; secondaryAnimation) {\n      final Widget pageChild = child ?? Builder(builder: builder);\n      return SafeArea( // &lt;-- !remove SafeArea widget!\n        child: Builder(\n          builder: (BuildContext context) {\n            return theme != null\n                ? Theme(data: theme, child: pageChild)\n                : pageChild;\n          }\n        ),\n      );\n    },\n    barrierDismissible: barrierDismissible,\n    barrierLabel: MaterialLocalizations.of(context).modalBarrierDismissLabel,\n    barrierColor: Colors.black54, // &lt;-- !change the color!\n    transitionDuration: const Duration(milliseconds: 150),\n    transitionBuilder: _buildMaterialDialogTransitions,\n  );\n}\n</code></pre>\n\n<p>Is it possible to do in <code>main.dart</code> file? If yes could anyone give some example please?</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 1362, "user_id": 6130265, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/1a4646c4c776153613b0f32edc0dfe71?s=128&d=identicon&r=PG&f=1", "display_name": "Alwin", "link": "https://stackoverflow.com/users/6130265/alwin"}, "edited": false, "score": 0, "creation_date": 1572358853, "post_id": 58609169, "comment_id": 103529281, "body": "I am a beginner to flutter. Can you provide an example code using the above case"}, {"owner": {"reputation": 272, "user_id": 10618766, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1-iyRM01cCM/AAAAAAAAAAI/AAAAAAAAAEc/zSBOIYatghc/photo.jpg?sz=128", "display_name": "KeeyPee", "link": "https://stackoverflow.com/users/10618766/keeypee"}, "reply_to_user": {"reputation": 1362, "user_id": 6130265, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/1a4646c4c776153613b0f32edc0dfe71?s=128&d=identicon&r=PG&f=1", "display_name": "Alwin", "link": "https://stackoverflow.com/users/6130265/alwin"}, "edited": false, "score": 0, "creation_date": 1572435231, "post_id": 58609169, "comment_id": 103556565, "body": "Look at the link I posted @Alwin, there are many examples for each scenario."}, {"owner": {"reputation": 1362, "user_id": 6130265, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/1a4646c4c776153613b0f32edc0dfe71?s=128&d=identicon&r=PG&f=1", "display_name": "Alwin", "link": "https://stackoverflow.com/users/6130265/alwin"}, "edited": false, "score": 0, "creation_date": 1573117759, "post_id": 58609169, "comment_id": 103779481, "body": "Thanks for your information, I think dio is more powerful than the http"}], "tags": [], "owner": {"reputation": 272, "user_id": 10618766, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1-iyRM01cCM/AAAAAAAAAAI/AAAAAAAAAEc/zSBOIYatghc/photo.jpg?sz=128", "display_name": "KeeyPee", "link": "https://stackoverflow.com/users/10618766/keeypee"}, "is_accepted": false, "score": 1, "last_activity_date": 1572358356, "creation_date": 1572358356, "answer_id": 58609169, "question_id": 58608885, "link": "https://stackoverflow.com/questions/58608885/multiple-image-upload-using-multipartrequest-content-size-below-specified-conte/58609169#58609169", "title": "Multiple image upload using MultiPartRequest: Content size below specified contentLength", "body": "<p>I would suggest you to use dio.\nIt is a better and more powerful http client. </p>\n\n<p><a href=\"https://pub.dev/packages/dio\" rel=\"nofollow noreferrer\">https://pub.dev/packages/dio</a></p>\n\n<p>You can easily upload multipart files and additionally receive the progress of the upload.\nFurthermore you can create a httpservice that contains a static Dio, which will be created one time and accessed by getters. So you only need to put your authorization one time at initialization or set interceptors to the client.</p>\n"}, {"tags": [], "owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "is_accepted": true, "score": 1, "last_activity_date": 1572359103, "creation_date": 1572359103, "answer_id": 58609390, "question_id": 58608885, "link": "https://stackoverflow.com/questions/58608885/multiple-image-upload-using-multipartrequest-content-size-below-specified-conte/58609390#58609390", "title": "Multiple image upload using MultiPartRequest: Content size below specified contentLength", "body": "<p>No, you are introducing a subtle error. By making the <code>forEach</code> closure <code>async</code> it is automatically returning a future - and will not get executed inline.</p>\n\n<p>Prefer <code>for</code> to <code>forEach</code> when iterating a list.</p>\n\n<pre><code>  var request = http.MultipartRequest('POST', Uri.parse(apiUrl));\n  request.headers.addAll({\n    'Authorization': 'Bearer ' + Profile.instance.accessToken,\n    'Content-Type': 'multipart/form-data'\n  });\n\n  for (var image in images) {\n    var stream = http.ByteStream(DelegatingStream.typed(image.openRead()));\n    final length = await image.length();\n    request.files.add(http.MultipartFile(\n      'image', // consider using a unique name per image here\n      stream,\n      length,\n      filename: basename(image.path),\n    ));\n  }\n</code></pre>\n"}], "owner": {"reputation": 1362, "user_id": 6130265, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/1a4646c4c776153613b0f32edc0dfe71?s=128&d=identicon&r=PG&f=1", "display_name": "Alwin", "link": "https://stackoverflow.com/users/6130265/alwin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 702, "favorite_count": 0, "accepted_answer_id": 58609390, "answer_count": 2, "score": 0, "last_activity_date": 1572359103, "creation_date": 1572357425, "last_edit_date": 1592644375, "question_id": 58608885, "link": "https://stackoverflow.com/questions/58608885/multiple-image-upload-using-multipartrequest-content-size-below-specified-conte", "title": "Multiple image upload using MultiPartRequest: Content size below specified contentLength", "body": "<p>I am trying to upload multiple images to the server. I am using http.MultipartRequest.</p>\n<h1>Main Error Noticed</h1>\n<p>Unhandled Exception: Content size below specified contentLength.  76 bytes written but expected 130707.</p>\n<h1>Error</h1>\n<pre><code>E/flutter (12577): [ERROR:flutter/lib/ui/ui_dart_state.cc(148)] Unhandled Exception: Content size below specified contentLength.  76 bytes written but expected 130707.\nE/flutter (12577): #0      IOClient.send (package:http/src/io_client.dart:65:7)\nE/flutter (12577): &lt;asynchronous suspension&gt;\nE/flutter (12577): #1      BaseRequest.send (package:http/src/base_request.dart:116:35)\nE/flutter (12577): &lt;asynchronous suspension&gt;\nE/flutter (12577): #2      CreateCarDS.uploadImage (package:usedcars_flutter/data_service/create_car_ds.dart:141:34)\nE/flutter (12577): #3      _AsyncAwaitCompleter.start (dart:async-patch/async_patch.dart:43:6)\nE/flutter (12577): #4      CreateCarDS.uploadImage (package:usedcars_flutter/data_service/create_car_ds.dart:115:44)\nE/flutter (12577): #5      AddPageState._editCarNetwork.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:usedcars_flutter/screens/tabs/add_page.dart:1042:36)\nE/flutter (12577): #6      State.setState (package:flutter/src/widgets/framework.dart:1141:30)\nE/flutter (12577): #7      AddPageState._editCarNetwork.&lt;anonymous closure&gt; (package:usedcars_flutter/screens/tabs/add_page.dart:997:13)\nE/flutter (12577): #8      _rootRunUnary (dart:async/zone.dart:1132:38)\nE/flutter (12577): #9      _CustomZone.runUnary (dart:async/zone.dart:1029:19)\nE/flutter (12577): #10     _FutureListener.handleValue (dart:async/future_impl.dart:137:18)\nE/flutter (12577): #11     Future._propagateToListeners.handleValueCallback (dart:async/future_impl.dart:678:45)\nE/flutter (12577): #12     Future._propagateToListeners (dart:async/future_impl.dart:707:32)\nE/flutter (12577): #13     Future._completeWithValue (dart:async/future_impl.dart:522:5)\nE/flutter (12577): #14     _AsyncAwaitCompleter.complete (dart:async-patch/async_patch.dart:30:15)\nE/flutter (12577): #15     _completeOnAsyncReturn (dart:async-patch/async_patch.dart:288:13)\nE/flutter (12577): #16     CreateCarDS.editCar (package:usedcars_flutter/data_service/create_car_ds.dart)\nE/flutter (12577): #17     _asyncThenWrapperHelper.&lt;anonymous closure&gt; (dart:async-patch/async_patch.dart:71:64)\nE/flutter (12577): #18     _rootRunUnary (dart:async/zone.dart:1132:38)\nE/flutter (12577): #19     _CustomZone.runUnary (dart:async/zone.dart:1029:19)\nE/flutter (12577): #20     _FutureListener.handleValue (dart:async/future_impl.dart:137:18)\nE/flutter (12577): #21     Future._propagateToListeners.handleValueCallback (dart:async/future_impl.dart:678:45)\nE/flutter (12577): #22     Future._propagateToListeners (dart:async/future_impl.dart:707:32)\nE/flutter (12577): #23     Future._completeWithValue (dart:async/future_impl.dart:522:5)\nE/flutter (12577): #24     Future._asyncComplete.&lt;anonymous closure&gt; (dart:async/future_impl.dart:552:7)\nE/flutter (12577): #25     _rootRun (dart:async/zone.dart:1124:13)\nE/flutter (12577): #26     _CustomZone.run (dart:async/zone.dart:1021:19)\nE/flutter (12577): #27     _CustomZone.runGuarded (dart:async/zone.dart:923:7)\nE/flutter (12577): #28     _CustomZone.bindCallbackGuarded.&lt;anonymous closure&gt; (dart:async/zone.dart:963:23)\nE/flutter (12577): #29     _microtaskLoop (dart:async/schedule_microtask.dart:41:21)\nE/flutter (12577): #30     _startMicrotaskLoop (dart:async/schedule_microtask.dart:50:5)\nE/flutter (12577): \n</code></pre>\n<h1>UPLOAD FUNCTION</h1>\n<p>In this function, I get images as <code>List&lt;File&gt;</code>. I looped through the images List, and added each multipartFile to request.files. I think here I missed some code.</p>\n<pre><code>Future&lt;http.StreamedResponse&gt; uploadImages({\n    int id,\n    List&lt;File&gt; images,\n  }) async {\n\n    String apiUrl = CAR_IMAGE_ADD_URL + id.toString() + '/';\n    debugPrint(apiUrl);\n\n    var uri = Uri.parse(apiUrl);\n    var request = new http.MultipartRequest('POST', uri);\n    request.headers.addAll({'Authorization': 'Bearer ' + Profile.instance.accessToken, 'Content-Type': 'multipart/form-data'});\n\n    images.forEach((image) async {\n      var stream = new http.ByteStream(DelegatingStream.typed(image.openRead()));\n      final length = await image.length();\n      var multipartFile = new http.MultipartFile('image', stream, length,\n          filename: basename(image.path));\n      request.files.add(multipartFile);\n    });\n\n    var response = await request.send();\n    print(response.statusCode);\n    response.stream.transform(utf8.decoder).listen((value) {\n      print(value);\n    });\n    uploadStatusCode = httpStatusCodeFinder(response.statusCode);\n    print(response);\n    return response;\n  }\n</code></pre>\n<ol>\n<li>Is my syntax correct?</li>\n<li>Can I upload multiple images using the above method?</li>\n</ol>\n<p>If you have any suggestions or answers, then it will be very helpful \ud83d\ude07.</p>\n"}, {"tags": ["flutter", "dart", "flutter-layout"], "answers": [{"tags": [], "owner": {"reputation": 380, "user_id": 12149686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a84746c93886f175808a1cbaacb830e?s=128&d=identicon&r=PG&f=1", "display_name": "Nephew of Stackoverflow", "link": "https://stackoverflow.com/users/12149686/nephew-of-stackoverflow"}, "is_accepted": true, "score": 2, "last_activity_date": 1572355369, "creation_date": 1572355369, "answer_id": 58608295, "question_id": 58608206, "link": "https://stackoverflow.com/questions/58608206/flutter-add-container-below-gridview/58608295#58608295", "title": "Flutter add container below gridview", "body": "<p>Just use a Column widget</p>\n\n<pre><code>  Column(\n    children: &lt;Widget&gt;[\n      GridView(),\n      Container(),\n    ]\n)\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 4517263, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1656abde9ffb744abf69c36c40149b62?s=128&d=identicon&r=PG&f=1", "display_name": "Mat Koffman", "link": "https://stackoverflow.com/users/4517263/mat-koffman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 0, "accepted_answer_id": 58608295, "answer_count": 1, "score": 1, "last_activity_date": 1572355369, "creation_date": 1572354997, "question_id": 58608206, "link": "https://stackoverflow.com/questions/58608206/flutter-add-container-below-gridview", "title": "Flutter add container below gridview", "body": "<p>I am trying to add a container below a gridview in Flutter but it doesn\u2019t work.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>class ThirdTab extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\nfinal title = \"Store\";\n\nreturn MaterialApp(\n  title: title,\n  home: Scaffold(appBar: AppBar(\n    title: Text(title),\n    backgroundColor: Colors.blueGrey,\n    ),\n    body: new GridView.count(\n      crossAxisCount: 2,\n      mainAxisSpacing: 5,\n      padding: const EdgeInsets.all(10.0),\n      crossAxisSpacing: 5,\n      childAspectRatio: 2.1,\n      children: List.generate(choices.length, (index) {\n          return Center(\n            child: ChoiceCard(choice: choices[index]),\n          );\n       }\n      )\n    ),\n    Container(\n      width: MediaQuery.of(context).size.width,\n      height: 200,\n      decoration: BoxDecoration(\n        color: Colors.red,\n      ),\n    ),\n    )\n);\n  }\n}\n</code></pre>\n\n<p>I get two errors:</p>\n\n<ol>\n<li>Too many positional arguments 0 expected but 1 found</li>\n<li>Positional arguments must occur before named arguments</li>\n</ol>\n\n<p>What can I do to fix the problem?</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12291286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b3bbb8fe379311c382aecb61d15e226?s=128&d=identicon&r=PG&f=1", "display_name": "abdelgany mahmoud", "link": "https://stackoverflow.com/users/12291286/abdelgany-mahmoud"}, "edited": false, "score": 0, "creation_date": 1572355102, "post_id": 58608140, "comment_id": 103527177, "body": "i can use constructor but i want to use Provider"}], "tags": [], "owner": {"reputation": 205, "user_id": 12168611, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HyLIwZcj24k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfUJKAYW269KNQfKZe3SB0OCYL6uQ/photo.jpg?sz=128", "display_name": "rishabh mistry", "link": "https://stackoverflow.com/users/12168611/rishabh-mistry"}, "is_accepted": false, "score": 0, "last_activity_date": 1572354703, "creation_date": 1572354703, "answer_id": 58608140, "question_id": 58607937, "link": "https://stackoverflow.com/questions/58607937/navigator-and-provider-conflict-in-flutter/58608140#58608140", "title": "Navigator and Provider conflict in flutter", "body": "<p>you can pass data like this put data in class </p>\n\n<pre><code>RaisedButton(\nchild: Text(\u2018Send data to the second page\u2019),\nonPressed: () {\nNavigator.push(\n  context,\n  MaterialPageRoute(\n    builder: (context) =&gt; SecondPage(\n       data: data,\n    )),\n );\n }, \n ),\n</code></pre>\n\n<p>and recieve data like this </p>\n\n<pre><code>class SecondPage extends StatelessWidget {\nfinal Data data;\nSecondPage({this.data});\n@override\nWidget build(BuildContext context) {\nreturn Scaffold(\n  appBar: AppBar(\n    title: Text(\u2018Constructor \u2014 second page\u2019),\n  ),\n  body: Container(\n    padding: EdgeInsets.all(12.0),\n    alignment: Alignment.center,\n    child: Column(\n      children: &lt;Widget&gt;[\n        Container(\n          height: 54.0,\n          padding: EdgeInsets.all(12.0),\n          child: Text(\u2018Data passed to this page:\u2019,\n           style: TextStyle(fontWeight: FontWeight.w700))),\n        Text(\u2018Text: ${data.text}\u2019),\n        Text(\u2018Counter: ${data.counter}\u2019),\n        Text(\u2018Date: ${data.dateTime}\u2019),\n      ],\n    ),\n  ),\n  );\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1313, "user_id": 8213910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DFst7.jpg?s=128&g=1", "display_name": "Nolence", "link": "https://stackoverflow.com/users/8213910/nolence"}, "is_accepted": false, "score": 0, "last_activity_date": 1572358263, "creation_date": 1572358263, "answer_id": 58609141, "question_id": 58607937, "link": "https://stackoverflow.com/questions/58607937/navigator-and-provider-conflict-in-flutter/58609141#58609141", "title": "Navigator and Provider conflict in flutter", "body": "<p>You can try placing whatever <code>Provider</code> value you have above the <code>MaterialApp</code> and thus the navigation or, when you push to a second page, provide the value again. Providers are scoped to widget trees, so this is expected behavior.</p>\n\n<p>As an example, to pass a value to another route, you could do something like</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>onPressed: () {\n  Navigator.of(context).push(MaterialPageRoute(builder: (context) {\n    final foo = 'foo';\n\n    Provider&lt;String&gt;.value(\n      value: foo,\n      child: NewPage(),\n    );\n  }));\n},\n</code></pre>\n\n<p>And then just consume it like regular in the NewPage route.</p>\n"}, {"tags": [], "owner": {"reputation": 235, "user_id": 9392701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04a51d74e23029972c6b2fac3a8fa58f?s=128&d=identicon&r=PG&f=1", "display_name": "Marat", "link": "https://stackoverflow.com/users/9392701/marat"}, "is_accepted": false, "score": 0, "last_activity_date": 1572359597, "creation_date": 1572359597, "answer_id": 58609564, "question_id": 58607937, "link": "https://stackoverflow.com/questions/58607937/navigator-and-provider-conflict-in-flutter/58609564#58609564", "title": "Navigator and Provider conflict in flutter", "body": "<p>Try this code:</p>\n\n<pre><code>MaterialApp(\ntitle: 'Navigation Basics',\nhome: ChangeNotifierProvider(\n  builder: (context) =&gt; Data(),\n  child: FirstRoute(),\n))\n</code></pre>\n\n<p>Delete <code>ChangeNotifierProvider</code> in <code>FirstRoute</code></p>\n"}], "owner": {"reputation": 1, "user_id": 12291286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b3bbb8fe379311c382aecb61d15e226?s=128&d=identicon&r=PG&f=1", "display_name": "abdelgany mahmoud", "link": "https://stackoverflow.com/users/12291286/abdelgany-mahmoud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1702, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1596648667, "creation_date": 1572353891, "question_id": 58607937, "link": "https://stackoverflow.com/questions/58607937/navigator-and-provider-conflict-in-flutter", "title": "Navigator and Provider conflict in flutter", "body": "<p>sending data between screen using Provider with Navigator concept make a conflict</p>\n\n<p>error after the run</p>\n\n<p>The following ProviderNotFoundError was thrown building SecondRoute(dirty):\nError: Could not find the correct Provider above this SecondRoute Widget</p>\n\n<p>To fix, please:</p>\n\n<ul>\n<li>Ensure the Provider is an ancestor to this SecondRoute Widget</li>\n<li>Provide types to Provider</li>\n<li>Provide types to Consumer</li>\n<li>Provide types to Provider.of()</li>\n<li>Always use package imports. Ex: `import 'package:my_app/my_code.dart';</li>\n<li>Ensure the correct <code>context</code> is being used.</li>\n</ul>\n\n<p><a href=\"https://www.ideone.com/xHXK5m\" rel=\"nofollow noreferrer\">https://www.ideone.com/xHXK5m</a></p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 971, "user_id": 12176146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i7saa6CD6nU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdnigVUDcRnIS2zpgJROryAZKe46w/photo.jpg?sz=128", "display_name": "raman raman", "link": "https://stackoverflow.com/users/12176146/raman-raman"}, "edited": false, "score": 0, "creation_date": 1572359491, "post_id": 58608261, "comment_id": 103529644, "body": "already know about plugins.But Plugins only show simple texts.. I want beautiful looking customized texts"}], "tags": [], "owner": {"reputation": 205, "user_id": 12168611, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HyLIwZcj24k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfUJKAYW269KNQfKZe3SB0OCYL6uQ/photo.jpg?sz=128", "display_name": "rishabh mistry", "link": "https://stackoverflow.com/users/12168611/rishabh-mistry"}, "is_accepted": false, "score": 0, "last_activity_date": 1572355203, "creation_date": 1572355203, "answer_id": 58608261, "question_id": 58607711, "link": "https://stackoverflow.com/questions/58607711/how-to-show-complex-html-files-in-flutter/58608261#58608261", "title": "How to show complex html files in flutter", "body": "<p>you can use this plugin \n[<a href=\"https://pub.dev/packages/flutter_html#-readme-tab-][1]\" rel=\"nofollow noreferrer\">https://pub.dev/packages/flutter_html#-readme-tab-][1]</a></p>\n\n<p>you can add HTML text in Html widget and it renders Html Text like this</p>\n\n<pre><code>Html(\ndata: \"\"\"\n&lt;div&gt;\n  &lt;div id=\"header_set\"&gt;\n  &lt;h1&gt;Header 1&lt;/h1&gt;\n  &lt;h2&gt;Header 2&lt;/h2&gt;\n  &lt;h3&gt;Header 3&lt;/h3&gt;\n  &lt;h4&gt;Header 4&lt;/h4&gt;\n  &lt;h5&gt;Header 5&lt;/h5&gt;\n  &lt;h6&gt;Header 6&lt;/h6&gt;\n  &lt;hr /&gt;\n  Below hr\n  &lt;b&gt;Bold&lt;/b&gt;\n  &lt;/div&gt;\n  \"\"\");\n</code></pre>\n"}], "owner": {"reputation": 971, "user_id": 12176146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i7saa6CD6nU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdnigVUDcRnIS2zpgJROryAZKe46w/photo.jpg?sz=128", "display_name": "raman raman", "link": "https://stackoverflow.com/users/12176146/raman-raman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572355203, "creation_date": 1572352966, "question_id": 58607711, "link": "https://stackoverflow.com/questions/58607711/how-to-show-complex-html-files-in-flutter", "title": "How to show complex html files in flutter", "body": "<p>I have created a html doc using GOOGLE DOCS to use in my flutter app.</p>\n\n<p>But It is not working in flutter..It displays a blank screen instead of that html file .</p>\n\n<p>How Can I display html files made with GOOGLE DOCS???</p>\n\n<p>please help me?</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "is_accepted": true, "score": 2, "last_activity_date": 1572401096, "creation_date": 1572401096, "answer_id": 58617778, "question_id": 58607663, "link": "https://stackoverflow.com/questions/58607663/how-to-change-state-of-materialpageroute/58617778#58617778", "title": "How to change state of MaterialPageRoute?", "body": "<p>Wrap with StatefulBuilder works fine. <br>\nYou can see full code and working demo <br></p>\n\n<p>code snippet </p>\n\n<pre><code>MaterialPageRoute&lt;void&gt;(\n        builder: (BuildContext context) {\n          return StatefulBuilder(\n              builder: (BuildContext context, StateSetter setState) {\n            final Iterable&lt;ListTile&gt; tiles = _saved.map(\n</code></pre>\n\n<p>working demo</p>\n\n<p><a href=\"https://i.stack.imgur.com/4I2Lu.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4I2Lu.gif\" alt=\"enter image description here\"></a></p>\n\n<p>full code</p>\n\n<pre><code>import 'package:english_words/english_words.dart' as prefix0;\nimport 'package:flutter/material.dart';\nimport 'package:english_words/english_words.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Startup Name Generator',\n      theme: ThemeData(\n        primaryColor: Colors.white,\n      ),\n      home: RandomWords(),\n    );\n  }\n}\n\nclass RandomWords extends StatefulWidget {\n  @override\n  RandomWordsState createState() =&gt; RandomWordsState();\n}\n\nclass RandomWordsState extends State&lt;RandomWords&gt; {\n  final List&lt;WordPair&gt; _suggestions = &lt;WordPair&gt;[];\n  final Set&lt;WordPair&gt; _saved = Set&lt;WordPair&gt;();\n  final TextStyle _biggerFont = const TextStyle(fontSize: 18.0);\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: Text('Startup Name Generator'), actions: &lt;Widget&gt;[\n        // Icone 3 linhas\n        IconButton(\n          icon: Icon(Icons.list),\n          onPressed: _pushSaved,\n        ),\n      ]),\n      body: _buildSuggestions(),\n    );\n  }\n\n  Widget _buildRow(WordPair pair) {\n    final bool alreadySaved = _saved.contains(pair);\n    return ListTile(\n        title: Text(\n          pair.asPascalCase,\n          style: _biggerFont,\n        ),\n        trailing: Icon(\n          alreadySaved ? Icons.favorite : Icons.favorite_border,\n          color: alreadySaved ? Colors.red : null,\n        ),\n        onTap: () {\n          setState(() {\n            if (alreadySaved) {\n              _saved.remove(pair);\n            } else {\n              _saved.add(pair);\n            }\n          });\n        });\n  }\n\n  Widget _buildSuggestions() {\n    return ListView.builder(\n      padding: const EdgeInsets.all(16.0),\n      itemBuilder: (context, i) {\n        if (i.isOdd) return Divider();\n\n        final index = i ~/ 2;\n        if (index &gt;= _suggestions.length) {\n          _suggestions.addAll(generateWordPairs().take(10));\n        }\n        return _buildRow(_suggestions[index]);\n      },\n    );\n  }\n\n  void _pushSaved() {\n    Navigator.of(context).push(\n      MaterialPageRoute&lt;void&gt;(\n        builder: (BuildContext context) {\n          return StatefulBuilder(\n              builder: (BuildContext context, StateSetter setState) {\n            final Iterable&lt;ListTile&gt; tiles = _saved.map(\n              (WordPair pair) {\n                return ListTile(\n                  title: Text(\n                    pair.asPascalCase,\n                    style: _biggerFont,\n                  ),\n                  // Code I added //\n                  trailing: Icon(Icons.delete),\n                  onTap: () {\n                    setState(() {\n                      _saved.remove(pair);\n                    });\n                  },\n                  // End //\n                );\n              },\n            );\n            final List&lt;Widget&gt; divided = ListTile.divideTiles(\n              context: context,\n              tiles: tiles,\n            ).toList();\n\n            return Scaffold(\n              appBar: AppBar(\n                title: Text('Saved suggestions'),\n              ),\n              body: ListView(children: divided),\n            );\n          });\n        },\n      ),\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 551, "user_id": 12044155, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5M5bU2mBMxc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reGgSHlqfnuZeNnIsOh9GuLfEbY6w/photo.jpg?sz=128", "display_name": "Allan Juan", "link": "https://stackoverflow.com/users/12044155/allan-juan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 641, "favorite_count": 1, "accepted_answer_id": 58617778, "answer_count": 1, "score": 1, "last_activity_date": 1572401096, "creation_date": 1572352750, "question_id": 58607663, "link": "https://stackoverflow.com/questions/58607663/how-to-change-state-of-materialpageroute", "title": "How to change state of MaterialPageRoute?", "body": "<p>I was following the tutorial from the Flutter docs where you create a Startup naming app. The app consists in two pages: one where there's an infinite list of randomly generated startup names that you can add to your favorites, and a favorites page where you can see the names you saved. </p>\n\n<p>After completing the tutorial, I tried to add some functionality of my own, I wanted to be able to Unfavorite a name by tapping it on the \"Favorites\" page. Below is the code that pushes the Favorites page to the navigator: </p>\n\n<pre><code>    Navigator.of(context).push(\n      MaterialPageRoute&lt;void&gt;(\n        builder: (BuildContext context) {\n          final Iterable&lt;ListTile&gt; tiles = _saved.map(\n            (WordPair pair) {\n              return ListTile(\n                title: Text(\n                  pair.asPascalCase, \n                  style: _biggerFont, \n                ),\n                // Code I added // \n                trailing: Icon(Icons.delete), \n                onTap: () {\n                  setState(() {\n                    _saved.remove(pair);    \n                  });\n                },\n                // End // \n              );\n            },\n          );\n          final List&lt;Widget&gt; divided = ListTile\n            .divideTiles(\n              context: context,\n              tiles: tiles,\n            )\n            .toList();\n\n          return Scaffold(\n            appBar: AppBar(\n              title: Text('Saved suggestions'), \n            ),\n            body: ListView(children: divided),\n          );\n        },\n      ),\n    );\n  }\n</code></pre>\n\n<p>But it didn't worked as it should: you can indeed unsave names by tapping them, but the changes will only be shown on the screen after you go back to the main page and then to the favorites page again (or in other words, when Builder is called?). </p>\n\n<p>So how do I fix this? Do I need to create a Stateful widget for the favorites page? If yes, how do I pass the _saved set to my new widget? </p>\n\n<p>If anybody needs the whole code: \n<a href=\"https://pastebin.com/asLneaKe\" rel=\"nofollow noreferrer\">https://pastebin.com/asLneaKe</a></p>\n"}, {"tags": ["flutter", "dart", "google-cloud-firestore", "rxdart"], "comments": [{"owner": {"reputation": 649, "user_id": 9054282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f34fa84b9c668d632da5c4c3937325bd?s=128&d=identicon&r=PG", "display_name": "Harif Velarde", "link": "https://stackoverflow.com/users/9054282/harif-velarde"}, "edited": false, "score": 0, "creation_date": 1572374125, "post_id": 58607345, "comment_id": 103537097, "body": "Seems like this case is related with this <a href=\"https://stackoverflow.com/questions/51918047/stop-listening-to-snapshot-updates-in-cloud-firestore-in-flutter\" title=\"stop listening to snapshot updates in cloud firestore in flutter\">stackoverflow.com/questions/51918047/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 8619512, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-43IAYxiOZg0/AAAAAAAAAAI/AAAAAAAAAD0/Zvs2aTvbonI/photo.jpg?sz=128", "display_name": "Marc Ma", "link": "https://stackoverflow.com/users/8619512/marc-ma"}, "edited": false, "score": 0, "creation_date": 1572425228, "post_id": 58614608, "comment_id": 103551176, "body": "Yeah the console may be it too. I&#39;ll do some tests, to figure out what it really is"}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 1, "last_activity_date": 1572379450, "creation_date": 1572379450, "answer_id": 58614608, "question_id": 58607345, "link": "https://stackoverflow.com/questions/58607345/do-i-need-to-dispose-firestore-document-snapshot-or-just-the-listener/58614608#58614608", "title": "Do I need to dispose Firestore document snapshot or just the listener", "body": "<p>If you cancel a listener, then it will not incur any more document reads from that point on.  If you have an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MVCE</a> that proves otherwise, please file a bug report with Firebase support so they can validate it.  But I would be absolutely shocked if there was a bug here.  You are likely incurring extra reads some other way, such as via the console.</p>\n"}], "owner": {"reputation": 149, "user_id": 8619512, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-43IAYxiOZg0/AAAAAAAAAAI/AAAAAAAAAD0/Zvs2aTvbonI/photo.jpg?sz=128", "display_name": "Marc Ma", "link": "https://stackoverflow.com/users/8619512/marc-ma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230, "favorite_count": 0, "accepted_answer_id": 58614608, "answer_count": 1, "score": 0, "last_activity_date": 1572412867, "creation_date": 1572351501, "last_edit_date": 1572412867, "question_id": 58607345, "link": "https://stackoverflow.com/questions/58607345/do-i-need-to-dispose-firestore-document-snapshot-or-just-the-listener", "title": "Do I need to dispose Firestore document snapshot or just the listener", "body": "<p>Let's say I have the following:</p>\n\n<pre><code>StreamSubscription _exampleQuery;\n_exampleQuery = dbUsers\n        .document(accID)\n        .snapshots()\n        .listen((DocumentSnapshot _userDocSnap) {}\n</code></pre>\n\n<p>When I call:</p>\n\n<pre><code>_exampleQuery.cancel();\n</code></pre>\n\n<p>Is it possible, that the snapshot listener is somehow still active? It seems like firestore bills me for still active subscriptions that are still active &amp; reading documents. </p>\n\n<p>I am familiar with firestore billing, and know that certain unexpected things may couse reads, but I am almost 100% certain that my subscriptions ain't getting canceled properly.</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 11489083, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RUB659AkiYs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rddSjgR3mHx3q5TYAS3ZSCdr2pb9g/mo/photo.jpg?sz=128", "display_name": "Matteo Bertino", "link": "https://stackoverflow.com/users/11489083/matteo-bertino"}, "edited": false, "score": 0, "creation_date": 1596359444, "post_id": 63197305, "comment_id": 111781726, "body": "Thank you. It&#39;s always useful to watch again problems I couldn&#39;t wrap around. That&#39;s actually a good point. I can&#39;t remember if I had any particular reason why <code>MyFancyTextFormField</code> should have extended <code>FormField</code> (if is there any plausible reason). I&#39;ll watch again my code."}], "tags": [], "owner": {"reputation": 21, "user_id": 8796170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f8888908d07b34ad9164f32a1535a57?s=128&d=identicon&r=PG&f=1", "display_name": "spatialbits", "link": "https://stackoverflow.com/users/8796170/spatialbits"}, "is_accepted": false, "score": 1, "last_activity_date": 1596220328, "creation_date": 1596220328, "answer_id": 63197305, "question_id": 58607178, "link": "https://stackoverflow.com/questions/58607178/flutter-form-onsaved-execution-order-with-nested-custom-formfields/63197305#63197305", "title": "Flutter Form onSaved execution order with nested custom FormFields", "body": "<p>Pretty late answer, but I think it's because <code>MyFancyTextFormField</code> extends <code>FormField</code> as well as returns an additional <code>TextFormField</code> in the builder. If you turn <code>MyFancyTextFormField</code> into a Stateless Widget that returns a <code>TextFormField</code> you'll get what you want:</p>\n<pre><code>class MyFancyTextFormField extends StatelessWidget {\n  final String initialValue;\n  final FormFieldSetter&lt;String&gt; onSaved; \n\n   MyFancyTextFormField({\n    this.initialValue,\n    this.onSaved,  \n  }) ;\n\n  @override\n  Widget build(BuildContext context) {\n    return TextFormField(\n        initialValue: initialValue,\n        onSaved: this.onSaved);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 11489083, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RUB659AkiYs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rddSjgR3mHx3q5TYAS3ZSCdr2pb9g/mo/photo.jpg?sz=128", "display_name": "Matteo Bertino", "link": "https://stackoverflow.com/users/11489083/matteo-bertino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 529, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1596220328, "creation_date": 1572350854, "last_edit_date": 1572386967, "question_id": 58607178, "link": "https://stackoverflow.com/questions/58607178/flutter-form-onsaved-execution-order-with-nested-custom-formfields", "title": "Flutter Form onSaved execution order with nested custom FormFields", "body": "<p>I have a custom FormField MyFancyTextFormField wich just wraps a TextFormField with some extras.</p>\n\n<p>I want to use this FormField by itself, but I wante to use it inside another FormField too: TextList wich is just basically a column filled with MyFancyTextFormFields.</p>\n\n<p>I came up with this:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class FirstWidget extends StatefulWidget {\n  @override\n  State createState() =&gt; FirstWidgetState();\n}\n\nclass FirstWidgetState extends State&lt;FirstWidget&gt; {\n  GlobalKey&lt;FormState&gt; _form = GlobalKey&lt;FormState&gt;();\n  List&lt;String&gt; initial = ['one', 'two', 'three'];\n  List&lt;String&gt; modified;\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Column(\n        children: &lt;Widget&gt;[\n          Form(\n            key: _form,\n            child: TextList(initialValue: initial, onSaved: (values) =&gt; print('TextList saved with: ${modified = values}')),\n          ),\n          RaisedButton(\n            child: Text('Save'),\n            onPressed: () {\n              _form.currentState.save();\n              print('Initial value was: $initial, modified value is: $modified');\n            },\n          )\n        ],\n      ),\n    );\n  }\n}\n\nclass TextList extends FormField&lt;List&lt;String&gt;&gt; {\n  TextList({List&lt;String&gt; initialValue, FormFieldSetter&lt;List&lt;String&gt;&gt; onSaved})\n      : super(\n            initialValue: initialValue,\n            onSaved: onSaved,\n            builder: (state) {\n              //Make a copy\n              List&lt;String&gt; _value = List.of(state.value);\n              //This just creates the list of MyFancyTextFormField\n              List&lt;Widget&gt; fields = _value\n                  .asMap()\n                  .map&lt;int, Widget&gt;((i, val) =&gt; MapEntry(\n                      i,\n                      MyFancyTextFormField(\n                          initialValue: _value[i],\n                          onSaved: (val) {\n                            print('MyFancyTextFormField[$i] saved with $val');\n                            state.didChange(_value..replaceRange(i, i + 1, [val]));\n                          })))\n                  .values\n                  .toList();\n              return Column(\n                children: fields,\n              );\n            });\n}\n\nclass MyFancyTextFormField extends FormField&lt;String&gt; {\n  MyFancyTextFormField({\n    String initialValue,\n    FormFieldSetter&lt;String&gt; onSaved,\n  }) : super(\n            initialValue: initialValue,\n            onSaved: (value) =&gt; onSaved(value),\n            builder: (state) =&gt; TextFormField(\n                  initialValue: initialValue,\n                  onSaved: onSaved,\n                ));\n}\n\n\n</code></pre>\n\n<p>The problem with this is that, when i save() the Form State, the framework will save my top level FormField TextList first before my leaf-level FormField MyFancyTextFormField.</p>\n\n<p>This is my output:</p>\n\n<pre><code>I/flutter (  615): TextList saved with: [one, two, three]\nI/flutter (  615): MyFancyTextFormField[0] saved with one\nI/flutter (  615): MyFancyTextFormField[0] saved with oneee\nI/flutter (  615): MyFancyTextFormField[1] saved with two\nI/flutter (  615): MyFancyTextFormField[1] saved with two\nI/flutter (  615): MyFancyTextFormField[2] saved with three\nI/flutter (  615): MyFancyTextFormField[2] saved with threeeeeeeeee\nI/flutter (  615): Initial value was: [one, two, three], modified value is: [one, two, three]\n</code></pre>\n\n<p>Since after the first execution of save(), my TextList's State is correctly updated, if I run save() again I will have my expected output:</p>\n\n<pre><code>I/flutter (  615): TextList saved with: [oneee, two, threeeeeeeeee]\nI/flutter (  615): MyFancyTextFormField[0] saved with one\nI/flutter (  615): MyFancyTextFormField[0] saved with oneee\nI/flutter (  615): MyFancyTextFormField[1] saved with two\nI/flutter (  615): MyFancyTextFormField[1] saved with two\nI/flutter (  615): MyFancyTextFormField[2] saved with three\nI/flutter (  615): MyFancyTextFormField[2] saved with threeeeeeeeee\nI/flutter (  615): Initial value was: [one, two, three], modified value is: [oneee, two, threeeeeeeeee]\n</code></pre>\n\n<p>Why are MyFancyTextFormField(s)'s onSaved called twice?</p>\n\n<p>Is there a way to have my expected result, better than recall state.save() as many times as my FormField's tree height?</p>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["flutter", "dart", "flutter-navigation", "flutter-onpressed"], "answers": [{"comments": [{"owner": {"reputation": 1313, "user_id": 10654377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f9e82bf491680b7eea3b43a7c5d002?s=128&d=identicon&r=PG&f=1", "display_name": "FlutterFirebase", "link": "https://stackoverflow.com/users/10654377/flutterfirebase"}, "edited": false, "score": 0, "creation_date": 1572352442, "post_id": 58607498, "comment_id": 103525856, "body": "I not want prevent user press back button. I want prevent call to <code>Navigator.push</code>  in <code>Widget2</code> when user press back button after press <code>RaisedButton</code>"}, {"owner": {"reputation": 1523, "user_id": 11932722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJyxo.png?s=128&g=1", "display_name": "drogel", "link": "https://stackoverflow.com/users/11932722/drogel"}, "reply_to_user": {"reputation": 1313, "user_id": 10654377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f9e82bf491680b7eea3b43a7c5d002?s=128&d=identicon&r=PG&f=1", "display_name": "FlutterFirebase", "link": "https://stackoverflow.com/users/10654377/flutterfirebase"}, "edited": false, "score": 0, "creation_date": 1572352971, "post_id": 58607498, "comment_id": 103526098, "body": "I see, I am sorry, I did not understand your question in the first place. I guess what you can try to do is make your <code>Widget2</code> stateful, define a boolean variable <code>didPressBack</code> that is defaulting to <code>false</code>, and wrap your <code>Widget2</code>&#39;s Scaffold in a <code>WillPopScope</code> widget, that will detect if the user presses the back button. In the <code>onWillPop</code> function, change the <code>didPressBack</code> variable to <code>true</code>, and then, in the <code>onPress</code> function of <code>Widget2</code>, navigate only if <code>didPressBack</code> is <code>false</code>."}], "tags": [], "owner": {"reputation": 1523, "user_id": 11932722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJyxo.png?s=128&g=1", "display_name": "drogel", "link": "https://stackoverflow.com/users/11932722/drogel"}, "is_accepted": false, "score": 0, "last_activity_date": 1572352075, "creation_date": 1572352075, "answer_id": 58607498, "question_id": 58607030, "link": "https://stackoverflow.com/questions/58607030/prevent-navigator-push-if-user-press-back-button/58607498#58607498", "title": "Prevent Navigator.push if user press back button", "body": "<p>There are several things you can do, depending on what you want exactly:</p>\n\n<ul>\n<li><strong>To replace current view by new one</strong>, preventing your users from navigating back to the previous page, use <code>Navigator.pushReplacement(...)</code></li>\n<li><strong>To show a back button in the app bar, but prevent users from going back</strong>, wrap your <code>Scaffold</code> with <a href=\"https://api.flutter.dev/flutter/widgets/WillPopScope-class.html\" rel=\"nofollow noreferrer\">WillPopScope</a>, and make the <code>onWillPop</code> property return a <code>Future.value(false)</code>.</li>\n<li><strong>To simply hide the back button button</strong>, go for: <code>AppBar(...,automaticallyImplyLeading: false,...)</code>. Users will still be able to go back by pressing the back button in Android, or the swipe gesture in iOS.</li>\n</ul>\n"}], "owner": {"reputation": 1313, "user_id": 10654377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f9e82bf491680b7eea3b43a7c5d002?s=128&d=identicon&r=PG&f=1", "display_name": "FlutterFirebase", "link": "https://stackoverflow.com/users/10654377/flutterfirebase"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 635, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572352075, "creation_date": 1572350320, "question_id": 58607030, "link": "https://stackoverflow.com/questions/58607030/prevent-navigator-push-if-user-press-back-button", "title": "Prevent Navigator.push if user press back button", "body": "<p>In my app I need execute code before call <code>Navigator.push</code>. But problem is if user press back button before code is execute then there is error:</p>\n\n<blockquote>\n  <p>E/flutter ( 8415): [ERROR:flutter/lib/ui/ui_dart_state.cc(148)]\n  Unhandled Exception: Looking up a deactivated widget's ancestor is\n  unsafe. E/flutter ( 8415): At this point the state of the widget's\n  element tree is no longer stable. E/flutter ( 8415): To safely refer\n  to a widget's ancestor in its dispose() method, save a reference to\n  the ancestor by calling inheritFromWidgetOfExactType() in the widget's\n  didChangeDependencies() method.</p>\n</blockquote>\n\n<p>Issue is code is still execute and <code>Navigator.push</code> is call even if user press back button (in <code>Widget2</code>).</p>\n\n<p>Here is mwe:</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: Widget1(),\n    );\n  }\n}\n\nclass Widget1 extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Center(\n        child: RaisedButton(\n          onPressed: () async {\n            await Navigator.push(\n                context,\n                MaterialPageRoute(\n                  builder: (context) =&gt; Widget2(),\n                ));\n          },\n        ),\n      ),\n    );\n  }\n}\n\nclass Widget2 extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(body: RaisedButton(\n      onPressed: () async {\n//      Press back button before Future complete\n        await Future.delayed(Duration(seconds: 5));\n        await Navigator.push(\n            context,\n            MaterialPageRoute(\n              builder: (context) =&gt; Widget3(),\n            ));\n      },\n    ));\n  }\n}\n\nclass Widget3 extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Container(child: Text('Widget 3'));\n  }\n}\n</code></pre>\n"}, {"tags": ["flutter", "dart", "bluetooth-lowenergy"], "comments": [{"owner": {"reputation": 11621, "user_id": 556495, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1a96b42c52adae7773b71378ca52a2fb?s=128&d=identicon&r=PG", "display_name": "Emil", "link": "https://stackoverflow.com/users/556495/emil"}, "edited": false, "score": 0, "creation_date": 1572371116, "post_id": 58607029, "comment_id": 103535837, "body": "You need to add more info to the question. Could you at least add some logcat output? The code you use would also be nice to see."}, {"owner": {"reputation": 965, "user_id": 2736818, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kuzvM.jpg?s=128&g=1", "display_name": "Jithin U. Ahmed", "link": "https://stackoverflow.com/users/2736818/jithin-u-ahmed"}, "reply_to_user": {"reputation": 11621, "user_id": 556495, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1a96b42c52adae7773b71378ca52a2fb?s=128&d=identicon&r=PG", "display_name": "Emil", "link": "https://stackoverflow.com/users/556495/emil"}, "edited": false, "score": 0, "creation_date": 1572421114, "post_id": 58607029, "comment_id": 103549503, "body": "@Emil : Please check the log added. Here, I kept a timer to reconnect. So it reconnects &amp; automatically disconnects as soon as it is connected."}, {"owner": {"reputation": 965, "user_id": 2736818, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kuzvM.jpg?s=128&g=1", "display_name": "Jithin U. Ahmed", "link": "https://stackoverflow.com/users/2736818/jithin-u-ahmed"}, "reply_to_user": {"reputation": 11621, "user_id": 556495, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1a96b42c52adae7773b71378ca52a2fb?s=128&d=identicon&r=PG", "display_name": "Emil", "link": "https://stackoverflow.com/users/556495/emil"}, "edited": false, "score": 0, "creation_date": 1572421138, "post_id": 58607029, "comment_id": 103549508, "body": "@Emil : Please note, its working perfectly in iOS"}], "owner": {"reputation": 965, "user_id": 2736818, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kuzvM.jpg?s=128&g=1", "display_name": "Jithin U. Ahmed", "link": "https://stackoverflow.com/users/2736818/jithin-u-ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1055, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572421036, "creation_date": 1572350320, "last_edit_date": 1572421036, "question_id": 58607029, "link": "https://stackoverflow.com/questions/58607029/flutter-blue-instance-connection-disconnects-automatically-in-android", "title": "Flutter blue instance connection disconnects automatically in Android", "body": "<p>I have completed an application written in Flutter with BLE and was working perfectly in iOS.</p>\n\n<p>But when I run the same application in Android, it was not working. So I checked the log and found that the application is not connected to the Bluetooth Device stable and as soon as it is connected, it disconnects.</p>\n\n<p>So I wrote a code to listen to the state change in bluetooth connection and reconnect when the state change to disconnect and found in the log that it keep on connecting and disconnecting like in a loop.</p>\n\n<p>Please note the same is working perfectly in iOS.</p>\n\n<pre><code>Launching lib/main.dart on TRT L21A in debug mode...\nBuilt build/app/outputs/apk/debug/app-debug.apk.\nI/flutter (10374): getHOME, statusCode = 200\nI/flutter (10374): Body Batch: {status: success, target_steps: 10000, today_steps: 0, calorie_target: 2000, today_calories: 0, totaldistance: 0, team_leader: no}\nI/hwaps   (10374): JNI_OnLoad\nI/BluetoothAdapter(10374): getBluetoothLeScanner\nI/flutter (10374):\nI/BluetoothAdapter(10374): getBluetoothLeScanner\nI/BluetoothGatt(10374): connect is called\nI/BluetoothGatt(10374): connect is called\nI/art     (10374): Do partial code cache collection, code=30KB, data=30KB\nI/art     (10374): After code cache collection, code=30KB, data=30KB\nI/art     (10374): Increasing code cache capacity to 128KB\nI/flutter (10374): State is BluetoothDeviceState.disconnected\nI/BluetoothGatt(10374): connect is called\nI/flutter (10374): State is BluetoothDeviceState.disconnected\nI/BluetoothGatt(10374): connect is called\nI/flutter (10374): State is BluetoothDeviceState.disconnected\nI/BluetoothGatt(10374): connect is called\nI/flutter (10374): State is BluetoothDeviceState.connected\nI/flutter (10374): State is BluetoothDeviceState.connected\nI/flutter (10374): State is BluetoothDeviceState.connected\nI/flutter (10374): State is BluetoothDeviceState.connected\n</code></pre>\n"}, {"tags": ["javascript", "flutter", "dart"], "comments": [{"owner": {"reputation": 4291, "user_id": 7344164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TKHbU.jpg?s=128&g=1", "display_name": "DevLoverUmar", "link": "https://stackoverflow.com/users/7344164/devloverumar"}, "edited": false, "score": 1, "creation_date": 1572348588, "post_id": 58606491, "comment_id": 103523988, "body": "Check the following stackoverflow question <a href=\"https://stackoverflow.com/questions/7716004/will-dart-support-the-use-of-existing-javascript-libraries\">will-dart-support-the-use-of-existing-javascript-libraries</a>"}], "owner": {"reputation": 63, "user_id": 2356919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1741af8ef2c623fc08cedea40e397974?s=128&d=identicon&r=PG", "display_name": "user2356919", "link": "https://stackoverflow.com/users/2356919/user2356919"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 850, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1572348196, "creation_date": 1572348196, "question_id": 58606491, "link": "https://stackoverflow.com/questions/58606491/how-to-use-js-library-in-flutter-web-app", "title": "How to use JS library in Flutter Web App?", "body": "<p>I am trying to port an existing web app into flutter.\nThe existing web app uses jQuery library and several other JS libraries.\nIs there any way to use JS libraries in flutter app? \nI couldn't find any documentation on the same.</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 981, "user_id": 9541066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcba3871b5d81bf1a267d1c6a7893621?s=128&d=identicon&r=PG&f=1", "display_name": "Can", "link": "https://stackoverflow.com/users/9541066/can"}, "is_accepted": false, "score": 0, "last_activity_date": 1572348284, "creation_date": 1572348284, "answer_id": 58606516, "question_id": 58606077, "link": "https://stackoverflow.com/questions/58606077/flutter-persistent-bottom-navigation-bar-and-page-view-replacement-approach/58606516#58606516", "title": "Flutter persistent bottom navigation bar and page view replacement approach", "body": "<p>You can use PageView and AutomaticKeepAliveClientMixin to persist your widgets when navigating. With this approach a widget is only created when a user navigates to it by bottom navigation bar. I have recently written an article about how to use it, might be useful.</p>\n\n<p><a href=\"https://cantaspinar.com/persistent-bottom-navigation-bar-in-flutter/\" rel=\"nofollow noreferrer\">https://cantaspinar.com/persistent-bottom-navigation-bar-in-flutter/</a> </p>\n"}], "owner": {"reputation": 729, "user_id": 1838505, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0012b91653dc7d12e75c5823bee3d8f2?s=128&d=identicon&r=PG", "display_name": "Shanthakumar", "link": "https://stackoverflow.com/users/1838505/shanthakumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572348284, "creation_date": 1572346558, "question_id": 58606077, "link": "https://stackoverflow.com/questions/58606077/flutter-persistent-bottom-navigation-bar-and-page-view-replacement-approach", "title": "Flutter persistent bottom navigation bar and page view replacement approach", "body": "<p>I have a Navbar state full widget that tracks current page and returns a widget with a bottom navbar and dynamic body based of current page which is stored as a state</p>\n\n<pre><code>class _PullingoNavbarState extends State&lt;PullingoNavbar&gt; {\n      static int _page = 1;\n      final _screens = {0: PullingoMap(), 1: Dashboard(), 2: Dashboard()};\n      @override\n      Widget build(BuildContext context) {\n        return Scaffold(\n          body: _screens[_page],\n          bottomNavigationBar: CurvedNavigationBar(\n            animationDuration: Duration(milliseconds: 200),\n            backgroundColor: Colors.blueAccent,\n            index: _page,\n            items: &lt;Widget&gt;[\n              PullingoIcon(icon: Icons.favorite),\n              PullingoIcon(icon: Icons.chrome_reader_mode),\n              PullingoIcon(icon: Icons.person),\n            ],\n            onTap: (index) {\n              setState(() {\n                _page = index;\n              });\n            },\n          ),\n        );\n      }\n    }\n</code></pre>\n\n<p>and the root widget as follows:</p>\n\n<pre><code>class RoutesWidget extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) =&gt; MaterialApp(\n      title: 'PULLINGO',\n      theme: pullingoTheme,\n      routes: {\n        \"/\": (_) =&gt; PullingoNavbar(),\n      },\n    );\n}\n</code></pre>\n\n<p>pre creating instances of _screens in a map doesn't feel like a good approach to me. this probably will create states of those screens regardless of user visits them or not. <a href=\"https://stackoverflow.com/questions/54767298/keep-the-bottom-navigation-bar-static-when-pushed-to-new-screen-flutter\">There are few suggestions given here</a>. does the above method look okay or should I completely avoid this approach.</p>\n"}, {"tags": ["flutter", "dart", "rxdart"], "comments": [{"owner": {"reputation": 214, "user_id": 9184784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/317922ece8f6a05b4c4e99aa047781a7?s=128&d=identicon&r=PG&f=1", "display_name": "tyb9900", "link": "https://stackoverflow.com/users/9184784/tyb9900"}, "edited": false, "score": 0, "creation_date": 1572344904, "post_id": 58605494, "comment_id": 103522216, "body": "Can you post a little more your code?"}], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 8619512, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-43IAYxiOZg0/AAAAAAAAAAI/AAAAAAAAAD0/Zvs2aTvbonI/photo.jpg?sz=128", "display_name": "Marc Ma", "link": "https://stackoverflow.com/users/8619512/marc-ma"}, "edited": false, "score": 0, "creation_date": 1572363434, "post_id": 58605834, "comment_id": 103531937, "body": "Hmm that&#39;s kinda sad. Thank you for your contribution nonetheless"}], "tags": [], "owner": {"reputation": 3729, "user_id": 2903329, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/iyBvv.png?s=128&g=1", "display_name": "wildeyes", "link": "https://stackoverflow.com/users/2903329/wildeyes"}, "is_accepted": true, "score": 2, "last_activity_date": 1572345695, "creation_date": 1572345695, "answer_id": 58605834, "question_id": 58605494, "link": "https://stackoverflow.com/questions/58605494/check-if-streamsubscription-is-canceled/58605834#58605834", "title": "Check if StreamSubscription is canceled", "body": "<p>It seems you'd have to use one of two methods:</p>\n\n<ol>\n<li><a href=\"https://api.dartlang.org/stable/2.6.0/dart-async/StreamSubscription/onDone.html\" rel=\"nofollow noreferrer\">onDone method</a> - and retain in a seperate variable whether the stream was closed, or..</li>\n<li><a href=\"https://api.dartlang.org/stable/2.6.0/dart-async/StreamSubscription/cancel.html\" rel=\"nofollow noreferrer\">cancel method</a> - and <code>await</code> the future that signals that the StreamSubscription was canceled.</li>\n</ol>\n\n<p>Don't know of any other way.</p>\n"}, {"tags": [], "owner": {"reputation": 6551, "user_id": 11938462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFyyJ.jpg?s=128&g=1", "display_name": "Pablo Barrera", "link": "https://stackoverflow.com/users/11938462/pablo-barrera"}, "is_accepted": false, "score": 0, "last_activity_date": 1572370191, "last_edit_date": 1572370191, "creation_date": 1572369691, "answer_id": 58612518, "question_id": 58605494, "link": "https://stackoverflow.com/questions/58605494/check-if-streamsubscription-is-canceled/58612518#58612518", "title": "Check if StreamSubscription is canceled", "body": "<p>I think this might be what you're looking for:</p>\n\n<pre><code>final streamController = StreamController();\nstreamController.onCancel = (){};\n</code></pre>\n\n<p>According to the documentation: <a href=\"https://dart.dev/articles/libraries/creating-streams\" rel=\"nofollow noreferrer\">Creating streams in Dart</a></p>\n\n<p><a href=\"https://dart.dev/articles/libraries/creating-streams#waiting-for-a-subscription\" rel=\"nofollow noreferrer\">Waiting for a subscription</a></p>\n\n<blockquote>\n  <p>To be notified of subscriptions, specify an onListen argument when you\n  create the StreamController. The onListen callback is called when the\n  stream gets its first subscriber. If you specify an onCancel callback,\n  it\u2019s called when the controller loses its last subscriber.</p>\n</blockquote>\n\n<p><a href=\"https://dart.dev/articles/libraries/creating-streams#final-hints\" rel=\"nofollow noreferrer\">Final hints</a></p>\n\n<blockquote>\n  <p>The onListen, onPause, onResume, and onCancel callbacks defined by\n  StreamController are called by the stream when the stream\u2019s listener\n  state changes</p>\n</blockquote>\n\n<p>In addition, this might be helpful:</p>\n\n<pre><code>//Whether there is a subscriber on the [Stream]\nstreamController.hasListener\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 8619512, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-43IAYxiOZg0/AAAAAAAAAAI/AAAAAAAAAD0/Zvs2aTvbonI/photo.jpg?sz=128", "display_name": "Marc Ma", "link": "https://stackoverflow.com/users/8619512/marc-ma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 685, "favorite_count": 0, "accepted_answer_id": 58605834, "answer_count": 2, "score": 3, "last_activity_date": 1572370191, "creation_date": 1572344584, "question_id": 58605494, "link": "https://stackoverflow.com/questions/58605494/check-if-streamsubscription-is-canceled", "title": "Check if StreamSubscription is canceled", "body": "<p>To put it simple:</p>\n\n<p>How do i check if a StreamSubscription is canceled?</p>\n\n<p>There is no </p>\n\n<pre><code>_myCustomSub.isCanceled\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 6551, "user_id": 11938462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFyyJ.jpg?s=128&g=1", "display_name": "Pablo Barrera", "link": "https://stackoverflow.com/users/11938462/pablo-barrera"}, "edited": false, "score": 0, "creation_date": 1572341804, "post_id": 58604465, "comment_id": 103520464, "body": "If you print(&#39;$percentageUploaded&#39;), it prints the correct percentage?"}, {"owner": {"reputation": 135, "user_id": 12088589, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VcSsvPFtEc0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdTBJzghBHt3pFydRdfYnmzBpO86w/photo.jpg?sz=128", "display_name": "kunaljosh369", "link": "https://stackoverflow.com/users/12088589/kunaljosh369"}, "reply_to_user": {"reputation": 6551, "user_id": 11938462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFyyJ.jpg?s=128&g=1", "display_name": "Pablo Barrera", "link": "https://stackoverflow.com/users/11938462/pablo-barrera"}, "edited": false, "score": 0, "creation_date": 1572342001, "post_id": 58604465, "comment_id": 103520574, "body": "It gives me 100% even after video is not fully uploaded. After 100% it takes more time and than i get Response status 200."}, {"owner": {"reputation": 135, "user_id": 12088589, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VcSsvPFtEc0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdTBJzghBHt3pFydRdfYnmzBpO86w/photo.jpg?sz=128", "display_name": "kunaljosh369", "link": "https://stackoverflow.com/users/12088589/kunaljosh369"}, "reply_to_user": {"reputation": 6551, "user_id": 11938462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFyyJ.jpg?s=128&g=1", "display_name": "Pablo Barrera", "link": "https://stackoverflow.com/users/11938462/pablo-barrera"}, "edited": false, "score": 0, "creation_date": 1572342049, "post_id": 58604465, "comment_id": 103520603, "body": "it goes from 0 -100 thaen i have to wait for some time to get success response"}, {"owner": {"reputation": 135, "user_id": 12088589, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VcSsvPFtEc0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdTBJzghBHt3pFydRdfYnmzBpO86w/photo.jpg?sz=128", "display_name": "kunaljosh369", "link": "https://stackoverflow.com/users/12088589/kunaljosh369"}, "reply_to_user": {"reputation": 6551, "user_id": 11938462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFyyJ.jpg?s=128&g=1", "display_name": "Pablo Barrera", "link": "https://stackoverflow.com/users/11938462/pablo-barrera"}, "edited": false, "score": 0, "creation_date": 1572343517, "post_id": 58604465, "comment_id": 103521435, "body": "No it is not printing correct percentage uploaded."}, {"owner": {"reputation": 953, "user_id": 3864551, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/f3ays.jpg?s=128&g=1", "display_name": "Julien Lachal", "link": "https://stackoverflow.com/users/3864551/julien-lachal"}, "edited": false, "score": 0, "creation_date": 1572348204, "post_id": 58604465, "comment_id": 103523792, "body": "I found that this is a real pain to deal with in dart. I&#39;d advise you to take a look at the <code>dio</code> plugin"}, {"owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "edited": false, "score": 0, "creation_date": 1572354475, "post_id": 58604465, "comment_id": 103526850, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/50455131/flutter-how-to-get-upload-download-progress-for-http-requests\">Flutter: How to get upload / download progress for http requests</a>"}, {"owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "edited": false, "score": 0, "creation_date": 1572354879, "post_id": 58604465, "comment_id": 103527079, "body": "You will probably find that the device has sent all the bytes (and reached 100%) but the server hasn&#39;t processed them all yet (maybe it&#39;s saving to disk, etc). Only when it has successfully done that will it send 200. Of course, you can&#39;t predict how long that processing will take, so you cannot indicate progress during that time. (1) uploading bytes... (2) server processing time... (3) server sends 200. Your indicator will have to show 100% after step 1, even though step 2 may take a while. You can test this using a plain Dart file run on your laptop."}], "owner": {"reputation": 135, "user_id": 12088589, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VcSsvPFtEc0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdTBJzghBHt3pFydRdfYnmzBpO86w/photo.jpg?sz=128", "display_name": "kunaljosh369", "link": "https://stackoverflow.com/users/12088589/kunaljosh369"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 133, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572340956, "creation_date": 1572340956, "question_id": 58604465, "link": "https://stackoverflow.com/questions/58604465/getting-uploaded-percentage-in-dart-stream-class", "title": "Getting uploaded percentage in dart Stream class", "body": "<p>I am trying to upload a video to s3 using preassigned URL using streams \nbut unable to get percentage uploaded.</p>\n\n<pre><code>final streamedRequest = new StreamedRequest(\n                 'PUT', Uri.parse(presignedUrl))\n               ..headers\n                   .addAll({HttpHeaders.contentTypeHeader: 'video/quicktime'});\n             streamedRequest.contentLength = await file.length();\n             file.openRead().listen((chunk) {\n               setState(() {\n                   this.chunkUploaded += chunk.length;\n                   this.percentageUploaded =\n                     (chunkUploaded / streamedRequest.contentLength) * 100;\n               });\n               streamedRequest.sink.add(chunk);\n             }, onDone: () {\n               streamedRequest.sink.close();\n             });\n             var videoUploadResponse = await streamedRequest.send();```\n</code></pre>\n"}, {"tags": ["android", "flutter", "dart", "androidx"], "comments": [{"owner": {"reputation": 852, "user_id": 5423747, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-FpEcsfy5xes/AAAAAAAAAAI/AAAAAAAAAB0/J0BUsagpcw0/photo.jpg?sz=128", "display_name": "Arash Mohammadi", "link": "https://stackoverflow.com/users/5423747/arash-mohammadi"}, "edited": false, "score": 0, "creation_date": 1572342764, "post_id": 58604057, "comment_id": 103521006, "body": "For me, all I did was adding <code>android.useAndroidX=true</code> and  <code>android.enableJetifier=true</code> to <code>android&#47;gradle.properties</code>"}, {"owner": {"reputation": 391, "user_id": 10449475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yyo8T.jpg?s=128&g=1", "display_name": "Dharam Dutt Mishra", "link": "https://stackoverflow.com/users/10449475/dharam-dutt-mishra"}, "reply_to_user": {"reputation": 852, "user_id": 5423747, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-FpEcsfy5xes/AAAAAAAAAAI/AAAAAAAAAB0/J0BUsagpcw0/photo.jpg?sz=128", "display_name": "Arash Mohammadi", "link": "https://stackoverflow.com/users/5423747/arash-mohammadi"}, "edited": false, "score": 0, "creation_date": 1572346898, "post_id": 58604057, "comment_id": 103523150, "body": "It&#39;s already true for me <code>android.useAndroidX=true</code> and <code>android.enableJetifier=true</code> in my flutter  <code>android&#47;gradle.properties</code>. and still getting same error"}, {"owner": {"reputation": 852, "user_id": 5423747, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-FpEcsfy5xes/AAAAAAAAAAI/AAAAAAAAAB0/J0BUsagpcw0/photo.jpg?sz=128", "display_name": "Arash Mohammadi", "link": "https://stackoverflow.com/users/5423747/arash-mohammadi"}, "edited": false, "score": 0, "creation_date": 1572353428, "post_id": 58604057, "comment_id": 103526335, "body": "Some packages need newer gradle version. you can use their earlier version or just upgrade your gradle version."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 9472654, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SXDrXECBImM/AAAAAAAAAAI/AAAAAAAAIgI/h3vRAvaQlr4/photo.jpg?sz=128", "display_name": "Cristov&#227;o Luiz", "link": "https://stackoverflow.com/users/9472654/cristov%c3%a3o-luiz"}, "is_accepted": false, "score": 0, "last_activity_date": 1572350287, "creation_date": 1572350287, "answer_id": 58607018, "question_id": 58604057, "link": "https://stackoverflow.com/questions/58604057/androidx-incompatibilities-issue-arises-in-my-flutter-project-while-run-my-flutt/58607018#58607018", "title": "AndroidX incompatibilities issue arises in my Flutter project while run my flutter project", "body": "<p>What is your gradle version in App/build.gradle? this erro possibly has been caused beacause your gradle version is 3.2.1, some packages need gladle 3.3.x or above to work properly</p>\n"}], "owner": {"reputation": 391, "user_id": 10449475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yyo8T.jpg?s=128&g=1", "display_name": "Dharam Dutt Mishra", "link": "https://stackoverflow.com/users/10449475/dharam-dutt-mishra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 236, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572350287, "creation_date": 1572339330, "question_id": 58604057, "link": "https://stackoverflow.com/questions/58604057/androidx-incompatibilities-issue-arises-in-my-flutter-project-while-run-my-flutt", "title": "AndroidX incompatibilities issue arises in my Flutter project while run my flutter project", "body": "<p>I am getting the AndroidX incompatibility issue in my flutter project even I have migrated my flutter project to AndroidX. and still getting the same issue again.\nI have followed the flutter documentation to migrate in AndroidX Here I have shared the link of documentation \n<a href=\"https://flutter.dev/docs/development/androidx-migration\" rel=\"nofollow noreferrer\">https://flutter.dev/docs/development/androidx-migration</a></p>\n\n<p>please help me out. I have spent so many hours still not getting any solution.\nThanks in Advance.   </p>\n\n<p>the error I am getting is below</p>\n\n<pre><code>Launching lib/main.dart on Android SDK built for x86 in debug mode...\nInitializing gradle...\nResolving dependencies...\nRunning Gradle task 'assembleDebug'...\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:preDebugBuild'.\n&gt; Android dependency 'androidx.coordinatorlayout:coordinatorlayout' has different version for the compile (1.0.0-rc01) and runtime (1.0.0) classpath. You should manually set the same version via DependencyResolution\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://gradle.org/help/\n\nBUILD FAILED in 44s\n*******************************************************************************************\nThe Gradle failure may have been because of AndroidX incompatibilities in this Flutter app.\nSee https://flutter.dev/docs/development/androidx-migration for more information on the problem and how to fix it.\n*******************************************************************************************\nFinished with error: Gradle task assembleDebug failed with exit code 1\n\n\n</code></pre>\n"}, {"tags": ["flutter", "dart", "visual-studio-code", "vscode-debugger"], "comments": [{"owner": {"reputation": 3729, "user_id": 2903329, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/iyBvv.png?s=128&g=1", "display_name": "wildeyes", "link": "https://stackoverflow.com/users/2903329/wildeyes"}, "edited": false, "score": 0, "creation_date": 1572345439, "post_id": 58603967, "comment_id": 103522464, "body": "sounds like the dart extension hijacks keyboard shortcuts, sounds like a github issue"}, {"owner": {"reputation": 32377, "user_id": 25124, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/4aec6b9ca532bc29a9c23e5147efa2fa?s=128&d=identicon&r=PG", "display_name": "Danny Tuppeny", "link": "https://stackoverflow.com/users/25124/danny-tuppeny"}, "edited": false, "score": 0, "creation_date": 1575225441, "post_id": 58603967, "comment_id": 104485458, "body": "It&#39;s unrelated to the Dart extension, this is default VS Code behaviour :( I copied the VS Code response into an answer for convenience."}], "answers": [{"tags": [], "owner": {"reputation": 32377, "user_id": 25124, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/4aec6b9ca532bc29a9c23e5147efa2fa?s=128&d=identicon&r=PG", "display_name": "Danny Tuppeny", "link": "https://stackoverflow.com/users/25124/danny-tuppeny"}, "is_accepted": false, "score": 0, "last_activity_date": 1575225359, "creation_date": 1575225359, "answer_id": 59128689, "question_id": 58603967, "link": "https://stackoverflow.com/questions/58603967/vs-code-dart-debug-console-hijacks-focus-from-find-widget/59128689#59128689", "title": "VS Code Dart debug console hijacks focus from Find Widget", "body": "<p>You've likely seen this (since its your GH issue), but for anyone else coming across this - the VS Code team responded on the <a href=\"https://github.com/microsoft/vscode/issues/83829#issuecomment-554387781\" rel=\"nofollow noreferrer\">GitHub issue</a>:</p>\n\n<blockquote>\n  <p>This is as designed, since the cmd + f focused the debug console and you can start typing to filter.\n  I understand this might not be the optimal behavior now but we are looking into improving the find in the debug console, thus cmd + f will also in the future not open the editor find widget.</p>\n</blockquote>\n\n<p>If you unset the <code>repl.action.filter</code> keybinding, this should prevent this from happening.</p>\n"}], "owner": {"reputation": 320, "user_id": 4348037, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/n1Dbg.png?s=128&g=1", "display_name": "Omar Sharaki", "link": "https://stackoverflow.com/users/4348037/omar-sharaki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575225359, "creation_date": 1572338929, "question_id": 58603967, "link": "https://stackoverflow.com/questions/58603967/vs-code-dart-debug-console-hijacks-focus-from-find-widget", "title": "VS Code Dart debug console hijacks focus from Find Widget", "body": "<p>While developing in Flutter with the debug console open, I can no longer use the in-file find function properly using the default keyboard shortcuts. <em>Ctrl+F</em> still opens up the Find Widget and I can type inside it, but <em>Enter</em> and <em>Shift+Enter</em> no longer perform <strong>Find Next</strong> and <strong>Find Previous</strong>, respectively. I'm also not able to close the search bar with <em>Escape</em>. The same goes for the replace bar. Once I close/minimize the debug console, however, everything is back to normal.\nI couldn't find any keyboard shortcuts specific to the debug console that may be overriding the find widget shortcuts. Also, all find widget shortcuts are set to default.</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 11981493, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4ufpVG5iZF4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdu-CBWGQ6pY3Zw2KiJRfD1pZeP-w/photo.jpg?sz=128", "display_name": "TABASCO", "link": "https://stackoverflow.com/users/11981493/tabasco"}, "edited": false, "score": 1, "creation_date": 1572401298, "post_id": 58605047, "comment_id": 103544840, "body": "Hi @Yster, thx for helping me. For some reason my d.time.inMilliseconds just refuse to print out. The main() function should I include in Widget build(BuildContext context ){} or outside?"}, {"owner": {"reputation": 2551, "user_id": 1317559, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d108fdc28f29f12216e5560ebe1a0137?s=128&d=identicon&r=PG", "display_name": "Yster", "link": "https://stackoverflow.com/users/1317559/yster"}, "reply_to_user": {"reputation": 73, "user_id": 11981493, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4ufpVG5iZF4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdu-CBWGQ6pY3Zw2KiJRfD1pZeP-w/photo.jpg?sz=128", "display_name": "TABASCO", "link": "https://stackoverflow.com/users/11981493/tabasco"}, "edited": false, "score": 0, "creation_date": 1572434305, "post_id": 58605047, "comment_id": 103556108, "body": "I see what you mean....it doesn&#39;t work! It should work just like that in a dart file. stream is not null. Nothing is received. Sorry about this. I tried to report the bug, but they don&#39;t seem to have a github project. Can only look into this further in 1 month. Hope you can find another solution."}, {"owner": {"reputation": 73, "user_id": 11981493, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4ufpVG5iZF4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdu-CBWGQ6pY3Zw2KiJRfD1pZeP-w/photo.jpg?sz=128", "display_name": "TABASCO", "link": "https://stackoverflow.com/users/11981493/tabasco"}, "edited": false, "score": 0, "creation_date": 1572485368, "post_id": 58605047, "comment_id": 103578305, "body": "No problem, thanks for replying me again. Hope it will be fixed soon."}], "tags": [], "owner": {"reputation": 2551, "user_id": 1317559, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d108fdc28f29f12216e5560ebe1a0137?s=128&d=identicon&r=PG", "display_name": "Yster", "link": "https://stackoverflow.com/users/1317559/yster"}, "is_accepted": false, "score": 0, "last_activity_date": 1572343010, "creation_date": 1572343010, "answer_id": 58605047, "question_id": 58603882, "link": "https://stackoverflow.com/questions/58603882/flutter-ping-google-com-and-get-the-latency-in-flutter/58605047#58605047", "title": "Flutter - ping google.com and get the latency in flutter", "body": "<p>Try dart_ping:</p>\n\n<p><strong>Setup:</strong></p>\n\n<pre><code>dependencies:\n  dart_ping: ^1.0.0\n</code></pre>\n\n<p><strong>Notes:</strong></p>\n\n<ul>\n<li>Watch the spacing. It should be excatly correct in the pubspec.yaml . You can add the second line (dart_ping: ^1.0.0) right below cupertino_icons: ^....</li>\n<li>Remember to click on Packages Get (in Android Studio).</li>\n</ul>\n\n<p><strong>Usage:</strong></p>\n\n<pre><code>import 'package:dart_ping/dart_ping.dart';\n\nmain() async {\n  var stream = await ping(\"google.com\", times: 5);\n\n  print(\"Pinging google.com\");\n  stream.listen((d) {\n    print(d.time.inMilliseconds);\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 11981493, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4ufpVG5iZF4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdu-CBWGQ6pY3Zw2KiJRfD1pZeP-w/photo.jpg?sz=128", "display_name": "TABASCO", "link": "https://stackoverflow.com/users/11981493/tabasco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 675, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1572343010, "creation_date": 1572338534, "question_id": 58603882, "link": "https://stackoverflow.com/questions/58603882/flutter-ping-google-com-and-get-the-latency-in-flutter", "title": "Flutter - ping google.com and get the latency in flutter", "body": "<p>Anyone know how to ping google and get latency in Flutter? I am using dart_ping but fail to ping.</p>\n"}, {"tags": ["flutter", "dart", "flutter-layout", "flutter-dependencies", "flutter-test"], "answers": [{"comments": [{"owner": {"reputation": 269, "user_id": 5707789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMmF1.jpg?s=128&g=1", "display_name": "Gentle", "link": "https://stackoverflow.com/users/5707789/gentle"}, "edited": false, "score": 0, "creation_date": 1572342671, "post_id": 58604777, "comment_id": 103520953, "body": "Hi! I&#39;ve seen similar problems but unfortunately <code>SwiperController</code> doesn&#39;t have that <code>initialScrollOffset</code>"}, {"owner": {"reputation": 269, "user_id": 5707789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMmF1.jpg?s=128&g=1", "display_name": "Gentle", "link": "https://stackoverflow.com/users/5707789/gentle"}, "edited": false, "score": 0, "creation_date": 1572353189, "post_id": 58604777, "comment_id": 103526217, "body": "may I ask where did that <code>autoplayes</code> came from?"}, {"owner": {"reputation": 269, "user_id": 5707789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMmF1.jpg?s=128&g=1", "display_name": "Gentle", "link": "https://stackoverflow.com/users/5707789/gentle"}, "edited": false, "score": 0, "creation_date": 1572354044, "post_id": 58604777, "comment_id": 103526673, "body": "It gives a lot of error. Thanks for your time. I think the swipecontroller should&#39;t be treated as somewhat similar to scrollcontroller"}, {"owner": {"reputation": 2551, "user_id": 1317559, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d108fdc28f29f12216e5560ebe1a0137?s=128&d=identicon&r=PG", "display_name": "Yster", "link": "https://stackoverflow.com/users/1317559/yster"}, "reply_to_user": {"reputation": 269, "user_id": 5707789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMmF1.jpg?s=128&g=1", "display_name": "Gentle", "link": "https://stackoverflow.com/users/5707789/gentle"}, "edited": false, "score": 1, "creation_date": 1572359399, "post_id": 58604777, "comment_id": 103529567, "body": "Sorry, I found an example here: <a href=\"https://github.com/best-flutter/flutter_swiper/blob/master/example/lib/InnerSwiper.dart\" rel=\"nofollow noreferrer\">github.com/best-flutter/flutter_swiper/blob/master/example/l&zwnj;&#8203;ib/&hellip;</a> . I think you only need to instantiate controller. Will update the answer."}, {"owner": {"reputation": 269, "user_id": 5707789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMmF1.jpg?s=128&g=1", "display_name": "Gentle", "link": "https://stackoverflow.com/users/5707789/gentle"}, "edited": false, "score": 0, "creation_date": 1572360634, "post_id": 58604777, "comment_id": 103530276, "body": "yes I&#39;ve looked into this too but changed my logic because I needed to implement the skip, pause, resume logics. basically I&#39;m trying to create a similar flow to facebook&#39;s stories &amp; instagram&#39;s."}, {"owner": {"reputation": 269, "user_id": 5707789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMmF1.jpg?s=128&g=1", "display_name": "Gentle", "link": "https://stackoverflow.com/users/5707789/gentle"}, "edited": false, "score": 0, "creation_date": 1572397815, "post_id": 58604777, "comment_id": 103544176, "body": "Hey bro <code>.length</code> isn&#39;t available in swipercontroller. but thanks for trying to help!"}], "tags": [], "owner": {"reputation": 2551, "user_id": 1317559, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d108fdc28f29f12216e5560ebe1a0137?s=128&d=identicon&r=PG", "display_name": "Yster", "link": "https://stackoverflow.com/users/1317559/yster"}, "is_accepted": false, "score": 0, "last_activity_date": 1572359519, "last_edit_date": 1572359519, "creation_date": 1572342080, "answer_id": 58604777, "question_id": 58603838, "link": "https://stackoverflow.com/questions/58603838/scrollcontroller-not-attached-to-any-scroll-views-swiper/58604777#58604777", "title": "scrollcontroller not attached to any scroll views (Swiper)", "body": "<p><strong>Update:</strong></p>\n\n<p>It seems that SwiperController was not instantiated and initialised. You can do it by overriding the initState method:</p>\n\n<pre><code>@override\nvoid initState() {\n  controller = SwiperController();\n  controller.length = 10\n  //controller.fillRange(0, 10, SwiperController());\n  super.initState();\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2551, "user_id": 1317559, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d108fdc28f29f12216e5560ebe1a0137?s=128&d=identicon&r=PG", "display_name": "Yster", "link": "https://stackoverflow.com/users/1317559/yster"}, "edited": false, "score": 0, "creation_date": 1572434597, "post_id": 58617454, "comment_id": 103556266, "body": "Good job on solving this issue!"}], "tags": [], "owner": {"reputation": 269, "user_id": 5707789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMmF1.jpg?s=128&g=1", "display_name": "Gentle", "link": "https://stackoverflow.com/users/5707789/gentle"}, "is_accepted": false, "score": 1, "last_activity_date": 1572397759, "creation_date": 1572397759, "answer_id": 58617454, "question_id": 58603838, "link": "https://stackoverflow.com/questions/58603838/scrollcontroller-not-attached-to-any-scroll-views-swiper/58617454#58617454", "title": "scrollcontroller not attached to any scroll views (Swiper)", "body": "<p><strong>ANSWER</strong>:</p>\n\n<p>If any of you guys want to use this package, and if you want a feature similar to mine, instead of updating the index, just use the one of the methods of <code>SwiperController</code> which is <code>next()</code>.</p>\n\n<p>this solved my problem:</p>\n\n<pre><code>callBack() {\n    setState(() {\n      swiperController.next();\n    });\n  }\n</code></pre>\n"}], "owner": {"reputation": 269, "user_id": 5707789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMmF1.jpg?s=128&g=1", "display_name": "Gentle", "link": "https://stackoverflow.com/users/5707789/gentle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 539, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1572397759, "creation_date": 1572338337, "question_id": 58603838, "link": "https://stackoverflow.com/questions/58603838/scrollcontroller-not-attached-to-any-scroll-views-swiper", "title": "scrollcontroller not attached to any scroll views (Swiper)", "body": "<p>I'm using a <code>Swiper</code> package to achieve a carousel effect on my images.\nI'm trying to update the current index of my <code>Swiper</code> by passing a <code>callback</code> function to it's child.</p>\n\n<p>but when I try to call the function, it returns this \" <code>scrollcontroller not attached</code> \" error.</p>\n\n<p>I've added a <code>SwiperController</code> but still the same.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>SwiperController swiperController;\n\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n        height: MediaQuery.of(context).size.height,\n        width: MediaQuery.of(context).size.width,\n        color: Colors.black,\n        child: Swiper(\n          controller: swiperController,\n          index: _index,\n          scrollDirection: Axis.horizontal,\n          itemBuilder: (BuildContext c, int i) {\n            return StoriesPerUser(\n              storiesList: widget.storiesList,\n              selectedIndex: i,\n              updateFunction: callBack,\n            );\n          },\n          itemCount: widget.storiesList.length,\n          loop: false,\n          duration: 1000,\n        ));\n  }\n\n  callBack() {\n    setState(() {\n     _index++; \n    });\n  }\n\nPlease help.\n</code></pre>\n"}, {"tags": ["asynchronous", "flutter", "dart", "http-post"], "comments": [{"owner": {"reputation": 3729, "user_id": 2903329, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/iyBvv.png?s=128&g=1", "display_name": "wildeyes", "link": "https://stackoverflow.com/users/2903329/wildeyes"}, "edited": false, "score": 0, "creation_date": 1572345498, "post_id": 58603595, "comment_id": 103522491, "body": "what url are you posting? does it behave them same with <code>curl</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 49, "user_id": 5782847, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0578fad744ce670a72f47aafc0df1863?s=128&d=identicon&r=PG", "display_name": "garciafigueres", "link": "https://stackoverflow.com/users/5782847/garciafigueres"}, "is_accepted": true, "score": 0, "last_activity_date": 1572348691, "creation_date": 1572348691, "answer_id": 58606629, "question_id": 58603595, "link": "https://stackoverflow.com/questions/58603595/flutter-always-getting-wrong-post-400-response-before-getting-the-expected-200/58606629#58606629", "title": "Flutter - Always getting wrong POST 400 response before getting the expected 200", "body": "<p>I found the bug. The problem was that the processUnload method was being called multiple times within a setState(). So, I just had to add a flag to prevent it to be called more than once at the same time and remove the setState():</p>\n\n<pre><code>  Widget createCodeText() {\n    bool processing = false;\n\n    return Expanded(\n      child: TextField(\n        autofocus: true,\n        decoration: InputDecoration(hintText: 'Esperando lectura...'),\n        showCursor: false,\n        controller: controllerCode,\n        focusNode: focusNode,\n\n        onChanged: (code) async {\n          if (!processing){\n            processing = true;\n            await processUnload (code);\n            processing = false;\n            controllerCode.clear();\n          }\n        },\n\n      ),\n    );\n  }\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 5782847, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0578fad744ce670a72f47aafc0df1863?s=128&d=identicon&r=PG", "display_name": "garciafigueres", "link": "https://stackoverflow.com/users/5782847/garciafigueres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 338, "favorite_count": 0, "accepted_answer_id": 58606629, "answer_count": 1, "score": 0, "last_activity_date": 1572348691, "creation_date": 1572337403, "question_id": 58603595, "link": "https://stackoverflow.com/questions/58603595/flutter-always-getting-wrong-post-400-response-before-getting-the-expected-200", "title": "Flutter - Always getting wrong POST 400 response before getting the expected 200", "body": "<p>I'm having some trouble trying to get the correct response to a POST request in Flutter. This is the method I have written:</p>\n\n<pre><code>  Future&lt;void&gt; processUnload(String code) async {\n    Map info = {\n      'code': \"$code\",\n    };\n\n    try {\n      var response = await http.post(\n        url + \"/unload/code\",\n        body: json.encode(info), headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": \"Bearer $token\"\n        }\n      );\n\n      if (response.statusCode == 200) {\n        showUnloadOKMessage();\n      } else {\n        showUnloadNotOKMessage(response.body);\n      }\n\n    }catch (error) {\n\n      if (error.toString().contains(\"Failed host lookup\")) {\n        notDelivered.add(OfflineCart(code, DateTime.now().toString()));\n        showOfflineUnloadMessage();\n      }\n\n    }    \n  }\n\n  showUnloadOKMessage() {    \n    return showDialog&lt;void&gt;(\n      context: context,\n      barrierDismissible: false,\n      builder: (BuildContext context) {\n        return AlertDialog(\n          title:\n              Text('Unload OK.', style: TextStyle(color: Colors.green)),\n          actions: &lt;Widget&gt;[\n            FlatButton(\n              child: Text('OK', style: botonGrandeRojo),\n              onPressed: () {\n                Navigator.of(context).pop();\n                FocusScope.of(contextobuild).requestFocus(focusNode);\n              },\n            ),\n          ],\n        );\n      },\n    );\n  }\n\n  showUnloadNotOKMessage(String msg) {\n    return showDialog&lt;void&gt;(\n      context: context,\n      barrierDismissible: false,\n      builder: (BuildContext context) {\n        return AlertDialog(\n          title: Text(msg, style: TextStyle(color: Colors.red)),\n          actions: &lt;Widget&gt;[\n            FlatButton(\n              child: Text('OK', style: botonGrandeRojo),\n              onPressed: () {\n                Navigator.of(context).pop();\n                FocusScope.of(contextobuild).requestFocus(focusNode);\n              },\n            ),\n          ],\n        );\n      },\n    );\n  }  \n</code></pre>\n\n<p>The problem is that, when the POST request is made, I ALWAYS get 4 or 5 response.statusCode == 400 before getting the actual and expected response.statusCode == 200. Thus, the app always displays 4 or 5 \"Not OK messages\" before displaying the expected \"Unload OK\" one.</p>\n\n<p>I've read quite a few async/await/then articles (<a href=\"https://medium.com/flutter-community/futures-async-await-threading-in-flutter-baeeab1c1fe3\" rel=\"nofollow noreferrer\">Threading in Flutter</a>, <a href=\"https://medium.com/flutter-community/a-guide-to-using-futures-in-flutter-for-beginners-ebeddfbfb967\" rel=\"nofollow noreferrer\">Using Futures Guide for Beginners</a>, <a href=\"https://medium.com/flutter-community/flutter-plugins-asyncloader-6efd9d19b6a3\" rel=\"nofollow noreferrer\">Flutter Async Loader</a>), and I'm pretty sure the problem is the way I've written the code, but I can't get it to work properly, since I don't have any experience working with asynchronous calls.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["json", "flutter", "dart", "google-places-api"], "comments": [{"owner": {"reputation": 484, "user_id": 8257835, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a640b5138d890b5062fa2cf1f12e389a?s=128&d=identicon&r=PG", "display_name": "Roy Ryando", "link": "https://stackoverflow.com/users/8257835/roy-ryando"}, "edited": false, "score": 0, "creation_date": 1572319145, "post_id": 58600968, "comment_id": 103514164, "body": "how about looping the result and check if <code>dadosJson[&quot;result&quot;][&quot;address_components&quot;][i][&quot;types&quot;][0]</code> is administrative_area_1 / administrative_area_2"}], "answers": [{"comments": [{"owner": {"reputation": 419, "user_id": 5453684, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/AIZbL.jpg?s=128&g=1", "display_name": "TiagoIB", "link": "https://stackoverflow.com/users/5453684/tiagoib"}, "edited": false, "score": 0, "creation_date": 1572365065, "post_id": 58601133, "comment_id": 103532807, "body": "Hello, it is not working. Error: type &#39;(dynamic) =&gt; dynamic&#39; is not a subtype of type &#39;(dynamic) =&gt; bool&#39; of &#39;test&#39;. Is it any problem with the variable DYNAMIC on the map. @PabloBarrera"}, {"owner": {"reputation": 419, "user_id": 5453684, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/AIZbL.jpg?s=128&g=1", "display_name": "TiagoIB", "link": "https://stackoverflow.com/users/5453684/tiagoib"}, "edited": false, "score": 0, "creation_date": 1572385255, "post_id": 58601133, "comment_id": 103541332, "body": "still with the same error: &#39;(Map&lt;String, List&lt;dynamic&gt;&gt;) =&gt; bool&#39; is not a subtype of type &#39;(dynamic) =&gt; bool&#39; of &#39;test&#39;. @PabloBarrera"}], "tags": [], "owner": {"reputation": 6551, "user_id": 11938462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFyyJ.jpg?s=128&g=1", "display_name": "Pablo Barrera", "link": "https://stackoverflow.com/users/11938462/pablo-barrera"}, "is_accepted": true, "score": 0, "last_activity_date": 1572404421, "last_edit_date": 1572404421, "creation_date": 1572320017, "answer_id": 58601133, "question_id": 58600968, "link": "https://stackoverflow.com/questions/58600968/how-to-access-the-index-of-a-specific-json-key/58601133#58601133", "title": "How to access the index of a specific json key", "body": "<p>You could do something like this:</p>\n\n<pre><code>List components = dadosJson[\"result\"][\"address_components\"];\n\nfinal item1 = components.firstWhere(\n    (item) =&gt; item[\"types\"].contains(\"administrative_area_level_1\"));\n\nfinal item2 = components.firstWhere(\n    (item) =&gt; item[\"types\"].contains(\"administrative_area_level_1\"));\n\nprint(item1[\"short_name\"]);\nprint(item2[\"short_name\"]);\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>List components = dadosJson[\"result\"][\"address_components\"];\n\nfinal items = components\n    .where((item) =&gt;\n        item[\"types\"].contains(\"administrative_area_level_1\") ||\n        item[\"types\"].contains(\"administrative_area_level_2\"))\n    .toList();\n\nitems.forEach((item) =&gt; print(item[\"short_name\"]));\n</code></pre>\n\n<p>I recommend you to parse the json into an object model, so you don't have to face some type inference problems.</p>\n"}], "owner": {"reputation": 419, "user_id": 5453684, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/AIZbL.jpg?s=128&g=1", "display_name": "TiagoIB", "link": "https://stackoverflow.com/users/5453684/tiagoib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 58601133, "answer_count": 1, "score": 0, "last_activity_date": 1572485575, "creation_date": 1572318535, "last_edit_date": 1572485575, "question_id": 58600968, "link": "https://stackoverflow.com/questions/58600968/how-to-access-the-index-of-a-specific-json-key", "title": "How to access the index of a specific json key", "body": "<p>I need to access the specific key to capture the node information where the key is <strong>administrative_area_level_2</strong> or <strong>administrative_area_level_1</strong>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZWOWv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZWOWv.png\" alt=\"enter image description here\"></a></p>\n\n<p>I am currently accessing by index \"1\" or \"2\".</p>\n\n<p>But if the json result from Google Api Places has more data, those indices will not be correct.</p>\n\n<p>Is there any way to access the specific key I want to capture the city or state name?</p>\n\n<p>Sample Code:</p>\n\n<pre><code>class Api {\n\n  pesquisar (String local) async{\n\n    http.Response response = await http.get(\n\n      URL_BASE + \"?place_id=$local\" +\"&amp;fields=name,address_component&amp;key=\" +KEY_PLACE\n\n    );\n\n    if( response.statusCode == HttpStatus.ok ){\n\n\n      Map&lt;String, dynamic&gt; dadosJson = json.decode( response.body );\n      print( \"Data : \" + dadosJson[\"result\"][\"address_components\"][1][\"short_name\"].toString() );\n      print( \"Data : \" + dadosJson[\"result\"][\"address_components\"][2][\"short_name\"].toString() );\n\n    } else {\n\n    }\n\n\n  }\n\n}\n</code></pre>\n"}, {"tags": ["json", "flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 9432819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a8c11def3d1c31b169235696e04d021?s=128&d=identicon&r=PG&f=1", "display_name": "NiiLx", "link": "https://stackoverflow.com/users/9432819/niilx"}, "edited": false, "score": 0, "creation_date": 1572303349, "post_id": 58599102, "comment_id": 103511302, "body": "Thanks for your solution, but stuck on this:   hotels= await _getHotels();   hotel= hotels.values.toList();     print(hotel);     for(var i=0;i&lt;hotel.length;i++) {       print(hotel[i][&quot;hotels&quot;][&quot;name&quot;]); //here is problem &#39;_TypeError (type &#39;String&#39; is not a subtype of type &#39;int&#39; of &#39;index&#39;)&#39;     }"}, {"owner": {"reputation": 1523, "user_id": 11932722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJyxo.png?s=128&g=1", "display_name": "drogel", "link": "https://stackoverflow.com/users/11932722/drogel"}, "reply_to_user": {"reputation": 161, "user_id": 9432819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a8c11def3d1c31b169235696e04d021?s=128&d=identicon&r=PG&f=1", "display_name": "NiiLx", "link": "https://stackoverflow.com/users/9432819/niilx"}, "edited": false, "score": 0, "creation_date": 1572340879, "post_id": 58599102, "comment_id": 103519991, "body": "It is a similar issue: you are expecting an int value where a String is actually being retrieved."}], "tags": [], "owner": {"reputation": 1523, "user_id": 11932722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJyxo.png?s=128&g=1", "display_name": "drogel", "link": "https://stackoverflow.com/users/11932722/drogel"}, "is_accepted": false, "score": 0, "last_activity_date": 1572301054, "creation_date": 1572301054, "answer_id": 58599102, "question_id": 58598859, "link": "https://stackoverflow.com/questions/58598859/cant-parse-json-data-to-listview-typeerror-type-internallinkedhashmapstrin/58599102#58599102", "title": "Can&#39;t parse JSON data to listview(_TypeError (type &#39;_InternalLinkedHashMap&lt;String, dynamic&gt;&#39; is not a subtype of type &#39;FutureOr&lt;List&lt;dynamic&gt;&gt;&#39;)", "body": "<p>It seems to me that the problem comes from the <code>_getHotels()</code> method. It says it returns a <code>Future&lt;List&gt;</code>, because that is what you expect. But Flutter has no way to know what the URL you provided holds (<code>https://amarroom...</code>). It turns out that when you post an HTTP request with that URL, it returns:</p>\n\n<pre><code>{\n\"special_amenities\": [\n    1,\n    5,\n    11,\n    48,\n    45\n],\n\"facets\": {\n    \"neighborhood\": [\n        [\n...\n}\n</code></pre>\n\n<p>which is not a <code>List</code>, it is a JSON, that is, a <code>Map&lt;String, dynamic&gt;</code> in Dart. So your <code>_getHotels()</code> function should not return a <code>Future&lt;List&gt;</code>, it should return a <code>Future&lt;Map&lt;String, dynamic&gt;&gt;</code>.</p>\n\n<p>Then you can do whatever you want to your <code>Map&lt;String, dynamic&gt;</code> returning from that function and turn it into a <code>List</code>, if that is what you need.</p>\n"}, {"comments": [{"owner": {"reputation": 161, "user_id": 9432819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a8c11def3d1c31b169235696e04d021?s=128&d=identicon&r=PG&f=1", "display_name": "NiiLx", "link": "https://stackoverflow.com/users/9432819/niilx"}, "edited": false, "score": 0, "creation_date": 1572348734, "post_id": 58600347, "comment_id": 103524076, "body": "oh man! it worked like a charm!! I am new on JSON so i need your suggestion how to retrieve data from like: &quot;hotel_images&quot;: [         [             &quot;<a href=\"https://xercesblue.s3-ap-southeast-1.amazonaws.com/media/hotel/94383989.jpg\" rel=\"nofollow noreferrer\">xercesblue.s3-ap-southeast-1.amazonaws.com/media/hotel/&hellip;</a>&quot;         ],         [             &quot;<a href=\"https://xercesblue.s3-ap-southeast-1.amazonaws.com/media/hotel/89779171.jpg\" rel=\"nofollow noreferrer\">xercesblue.s3-ap-southeast-1.amazonaws.com/media/hotel/&hellip;</a>&quot;         ],         [             &quot;<a href=\"https://xercesblue.s3-ap-southeast-1.amazonaws.com/media/hotel/89779173.jpg\" rel=\"nofollow noreferrer\">xercesblue.s3-ap-southeast-1.amazonaws.com/media/hotel/&hellip;</a>&quot;         ],  this kind of JSON format, how can I retrieve data? I tried responseData[&quot;hotel_images&quot;][0] doesnt work. Thanks in advance."}, {"owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "reply_to_user": {"reputation": 161, "user_id": 9432819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a8c11def3d1c31b169235696e04d021?s=128&d=identicon&r=PG&f=1", "display_name": "NiiLx", "link": "https://stackoverflow.com/users/9432819/niilx"}, "edited": false, "score": 0, "creation_date": 1572396332, "post_id": 58600347, "comment_id": 103543916, "body": "Glad to help. please mark this as answer if it help."}, {"owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "reply_to_user": {"reputation": 161, "user_id": 9432819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a8c11def3d1c31b169235696e04d021?s=128&d=identicon&r=PG&f=1", "display_name": "NiiLx", "link": "https://stackoverflow.com/users/9432819/niilx"}, "edited": false, "score": 0, "creation_date": 1572396450, "post_id": 58600347, "comment_id": 103543946, "body": "You can paste your json string to <a href=\"https://quicktype.io/\" rel=\"nofollow noreferrer\">quicktype.io</a> , it will give you correct class and how to parse it."}], "tags": [], "owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "is_accepted": false, "score": 1, "last_activity_date": 1608592931, "last_edit_date": 1608592931, "creation_date": 1572312320, "answer_id": 58600347, "question_id": 58598859, "link": "https://stackoverflow.com/questions/58598859/cant-parse-json-data-to-listview-typeerror-type-internallinkedhashmapstrin/58600347#58600347", "title": "Can&#39;t parse JSON data to listview(_TypeError (type &#39;_InternalLinkedHashMap&lt;String, dynamic&gt;&#39; is not a subtype of type &#39;FutureOr&lt;List&lt;dynamic&gt;&gt;&#39;)", "body": "<p>You need dynamic and access like this <br>\nYou can paste and run full code below <br></p>\n<p>code snippet</p>\n<pre><code>for (var i = 0; i &lt; responseData[&quot;hotels&quot;].length; i++) {\n      print(responseData[&quot;hotels&quot;][i][&quot;name&quot;]);\n    }\n\n...\nListTile(\n                    title: Text(responseData[&quot;hotels&quot;][index][&quot;name&quot;]),\n                    subtitle: Text(responseData[&quot;hotels&quot;][index][&quot;location&quot;]),\n                  ),\u3000\u3000\u3000\u3000\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Fvdus.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fvdus.png\" alt=\"enter image description here\" /></a></p>\n<p>full code</p>\n<pre><code>import 'package:flutter/material.dart';\nimport 'dart:async';\nimport 'dart:convert';\nimport 'package:http/http.dart' as http;\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Flutter Demo',\n      theme: ThemeData(\n        primarySwatch: Colors.blue,\n      ),\n      home: ui_hotel_list(),\n    );\n  }\n}\n\nclass ui_hotel_list extends StatefulWidget {\n  @override\n  _ui_hotel_listState createState() =&gt; _ui_hotel_listState();\n}\n\nclass _ui_hotel_listState extends State&lt;ui_hotel_list&gt; {\n  dynamic responseData;\n  bool loading = false;\n\n  Future&lt;dynamic&gt; _getHotels() async {\n    setState(() {\n      loading = true;\n    });\n    String serviceURL =\n        &quot;https://baseURL/api/v2/search/filtered/?checkin=08-11-2019&amp;checkout=09-11-2019&amp;adults=2&amp;rooms=1&amp;location=1&amp;page=1&quot;;\n    var response = await http.get(serviceURL);\n\n    return json.decode(response.body.toString());\n  }\n\n  printv() async {\n    responseData = await _getHotels();\n    setState(() {\n      loading = false;\n    });\n\n    for (var i = 0; i &lt; responseData[&quot;hotels&quot;].length; i++) {\n      print(responseData[&quot;hotels&quot;][i][&quot;name&quot;]);\n    }\n  }\n\n  @override\n  void initState() {\n    // TODO: implement initState\n    super.initState();\n    this._getHotels();\n    this.printv();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return loading\n        ? Container(height: 100, width: 100, child: CircularProgressIndicator())\n        : Container(\n            child: ListView.builder(\n              padding: EdgeInsets.all(10),\n              itemCount: responseData[&quot;hotels&quot;].length,\n              itemBuilder: (BuildContext context, int index) {\n                return Card(\n                  child: ListTile(\n                    title: Text(responseData[&quot;hotels&quot;][index][&quot;name&quot;]),\n                    subtitle: Text(responseData[&quot;hotels&quot;][index][&quot;location&quot;]),\n                  ),\n                );\n              },\n            ),\n          );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 9432819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a8c11def3d1c31b169235696e04d021?s=128&d=identicon&r=PG&f=1", "display_name": "NiiLx", "link": "https://stackoverflow.com/users/9432819/niilx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1608592931, "creation_date": 1572299476, "last_edit_date": 1586341132, "question_id": 58598859, "link": "https://stackoverflow.com/questions/58598859/cant-parse-json-data-to-listview-typeerror-type-internallinkedhashmapstrin", "title": "Can&#39;t parse JSON data to listview(_TypeError (type &#39;_InternalLinkedHashMap&lt;String, dynamic&gt;&#39; is not a subtype of type &#39;FutureOr&lt;List&lt;dynamic&gt;&gt;&#39;)", "body": "<p>Cant parse JSON data from a URL, getting error \"_TypeError (type '_InternalLinkedHashMap' is not a subtype of type 'FutureOr>')\".\nSo You can check the datas from the link. and let me know what I am doing wrong, Thanks in advance.</p>\n\n<p>I tried using map, not worked.</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'dart:async';\nimport 'dart:convert';\nimport 'package:http/http.dart' as http;\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Flutter Demo',\n        primarySwatch: Colors.blue,\n      ),\n      home: ui_hotel_list(),\n    );\n  }\n}\n\n\n\nclass ui_hotel_list extends StatefulWidget {\n  @override\n  _ui_hotel_listState createState() =&gt; _ui_hotel_listState();\n}\n\nclass _ui_hotel_listState extends State&lt;ui_hotel_list&gt; {\n  List hotels;\n  Future&lt;List&gt; _getHotels() async {\n    String serviceURL=\"**************************************************************************************\";\n    var response = await http.get(serviceURL);\n\n\n    return json.decode(response.body.toString());\n  }\n  printv() async {\n    hotels= await _getHotels();\n    for(var i=0;i&lt;hotels.length;i++) {\n      print(hotels[i][\"hotels\"][\"name\"]);\n    }\n\n  }\n  @override\n  void initState() {\n    // TODO: implement initState\n    super.initState();\n    this._getHotels();\n    this.printv();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n      child: ListView.builder(\n        padding: EdgeInsets.all(10),\n        itemCount: hotels.length==0?0:hotels.length,\n        itemBuilder: (BuildContext context, int index){\n          return ListTile(\n            title: Text(hotels[index][\"hotels\"][\"name\"]),\n            subtitle:Text(hotels[index][\"hotels\"][\"location\"]),\n          );\n        },\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>I want to get the data from that URL and show in my listview. What i need to add, please suggest me, thanks.</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 11609520, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-B5pxnNLU4jw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfZYKUyHCVkQVO6nv2C36EpmsWQYg/mo/photo.jpg?sz=128", "display_name": "Bfraz", "link": "https://stackoverflow.com/users/11609520/bfraz"}, "edited": false, "score": 0, "creation_date": 1572355850, "post_id": 58601436, "comment_id": 103527612, "body": "Thank you! I Haven&#39;t tried it yet but those are 2 new concepts to me that I think were what I was looking for, Will post update!"}, {"owner": {"reputation": 15, "user_id": 11609520, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-B5pxnNLU4jw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfZYKUyHCVkQVO6nv2C36EpmsWQYg/mo/photo.jpg?sz=128", "display_name": "Bfraz", "link": "https://stackoverflow.com/users/11609520/bfraz"}, "edited": false, "score": 0, "creation_date": 1572444887, "post_id": 58601436, "comment_id": 103562113, "body": "Do I have to add a dependency to the pubspec.yaml? or import anything?"}, {"owner": {"reputation": 217, "user_id": 10396176, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pxcWjannmmI/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXLPXFlrgcQHEe4_-91HTPM5Z7LCw/mo/photo.jpg?sz=128", "display_name": "JEFF", "link": "https://stackoverflow.com/users/10396176/jeff"}, "reply_to_user": {"reputation": 15, "user_id": 11609520, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-B5pxnNLU4jw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfZYKUyHCVkQVO6nv2C36EpmsWQYg/mo/photo.jpg?sz=128", "display_name": "Bfraz", "link": "https://stackoverflow.com/users/11609520/bfraz"}, "edited": false, "score": 0, "creation_date": 1572842198, "post_id": 58601436, "comment_id": 103673070, "body": "if you are using rxdart/Provider, you need to put some libs in pubspec"}, {"owner": {"reputation": 15, "user_id": 11609520, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-B5pxnNLU4jw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfZYKUyHCVkQVO6nv2C36EpmsWQYg/mo/photo.jpg?sz=128", "display_name": "Bfraz", "link": "https://stackoverflow.com/users/11609520/bfraz"}, "edited": false, "score": 0, "creation_date": 1572887140, "post_id": 58601436, "comment_id": 103692341, "body": "Update I Was able to get it using FutureBuilder , Thank you!"}], "tags": [], "owner": {"reputation": 217, "user_id": 10396176, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pxcWjannmmI/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXLPXFlrgcQHEe4_-91HTPM5Z7LCw/mo/photo.jpg?sz=128", "display_name": "JEFF", "link": "https://stackoverflow.com/users/10396176/jeff"}, "is_accepted": true, "score": 0, "last_activity_date": 1572323334, "creation_date": 1572323334, "answer_id": 58601436, "question_id": 58598807, "link": "https://stackoverflow.com/questions/58598807/is-there-a-way-to-either-return-2-values-for-the-property-floatingactionbutton-o/58601436#58601436", "title": "Is There A Way to Either Return 2 values for the property floatingActionButton or to call a setState Whenever a variable Changes?", "body": "<p>I don't know if this can finish your problem, but the approach will be a little different from your approach because I'm not really familiar with the globalsetkey works...</p>\n\n<p>so from my perspective I'm using the bloc pattern so hope this can give you some inspiration how to resolve this problems</p>\n\n<p>in <strong>classBLoc.dart</strong></p>\n\n<pre><code>BehaviorSubject&lt;bool&gt; _dialClicked = BehaviorSubject&lt;bool&gt;();\n\nObservable&lt;bool&gt; get dialClicked =&gt; _dialClicked.stream;\n\nFunction(bool) get dialClickedListener =&gt; _dialClicked.sink.add;\n</code></pre>\n\n<p>in <strong>main.dart</strong>\nsection <em>floatingActionButton</em>,</p>\n\n<pre><code>floatingActionButton: functions.menu(currentScreen),\n</code></pre>\n\n<p>in <strong>Function.dart</strong></p>\n\n<pre><code>Widget menu(){\nfinal bloc = Provider.of&lt;classBLoc&gt;();\n  return StreamBuilder(stream: bloc.dialClicked, initialData: false,builder: (context, snapshot){\nreturn SpeedDial(\n      SpeedDialChild(\n           child: Icon(Icons.autorenew),\n           backgroundColor: Colors.lightBlueAccent,\n           label: 'New Activity',\n           labelStyle: TextStyle(fontSize: 18.0),\n           onTap: () =&gt; snapshot.data ? currentScreen : random(), // this used for checking data if have already been clicked or not\n       );\n}),\n);\n</code></pre>\n\n<p>Hope this can you some inspiration how it's worked //sorry if there is wrong bracketed</p>\n"}], "owner": {"reputation": 15, "user_id": 11609520, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-B5pxnNLU4jw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfZYKUyHCVkQVO6nv2C36EpmsWQYg/mo/photo.jpg?sz=128", "display_name": "Bfraz", "link": "https://stackoverflow.com/users/11609520/bfraz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 58601436, "answer_count": 1, "score": 0, "last_activity_date": 1572323334, "creation_date": 1572299126, "question_id": 58598807, "link": "https://stackoverflow.com/questions/58598807/is-there-a-way-to-either-return-2-values-for-the-property-floatingactionbutton-o", "title": "Is There A Way to Either Return 2 values for the property floatingActionButton or to call a setState Whenever a variable Changes?", "body": "<p>I'm new to flutter,</p>\n\n<p>So I'm working on a Flutter app &amp; I Have My Functions &amp; Widget File named: <b> 'Function' </b> Separated from my <b>Main</b> but I'm trying to <i>set state</i> in <b>'Main'</b> from <b>'Function'</b> </p>\n\n<p>I have tried to set a global variable inside a MyText class Widget inside <b>'Function'</b> and import <b>'Main'</b>==> <b>Function</b> &amp; Vice Versa at the same time, but I can't seem to manipulate the <b>GlobalKey</b> variable which would trigger <code>setState</code> again </p>\n\n<p><i>(Class &amp; MyText class Has since been Scrapped)</i></p>\n\n<p>I also tried to set the function from my other file to the button like so</p>\n\n<p><code>floatingActionButton: functions.random()</code></p>\n\n<p>And somehow was able to set state (Sorry I Forgot How), but it kept running without being pressed</p>\n\n<p><b>'Main.dart'</b> Sample Code</p>\n\n<pre><code>String display = \"\";\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  var currentScreen = display;\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(widget.title),\n      ),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: &lt;Widget&gt;[\n            AutoSizeText(\n              currentScreen,\n              style: Theme.of(context).textTheme.display1,\n            ),\n          ],\n        ),\n      ),\n      floatingActionButton: functions.menu(),\n    );\n  } //Build\n}// _MyHomePageState\n</code></pre>\n\n<p><b>'Function.dart'</b> Sample Code</p>\n\n<pre><code>SpeedDial menu(){\n  return SpeedDial(\n      SpeedDialChild(\n           child: Icon(Icons.autorenew),\n           backgroundColor: Colors.lightBlueAccent,\n           label: 'New Activity',\n           labelStyle: TextStyle(fontSize: 18.0),\n           onTap: () =&gt; random(),\n       ),\n)\n\nrandom(){\n...\n\nreturn someString;\n}\n</code></pre>\n\n<p><b>Intended Result</b></p>\n\n<p>When Child 'New Activity' is clicked, setState is called with the variable <b>currentScreen's</b> state being set to the result from the function <b>'random()'</b></p>\n\n<p>Thank You In Advance!</p>\n"}, {"tags": ["flutter", "dart", "sqflite"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 12097921, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCr78FRbtMDsnEkz_FgXpLcu93neud37C-bxqreDfQ=k-s128", "display_name": "Conrado Manclossi", "link": "https://stackoverflow.com/users/12097921/conrado-manclossi"}, "edited": false, "score": 0, "creation_date": 1572369268, "post_id": 58598799, "comment_id": 103535020, "body": "Yes, you&#39;re right, now I realize that my question was kind of stupid. Just add a test for the update!"}, {"owner": {"reputation": 344, "user_id": 8312634, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0671eb30ade2de8b5242c9d10afb0c9d?s=128&d=identicon&r=PG&f=1", "display_name": "N0000B", "link": "https://stackoverflow.com/users/8312634/n0000b"}, "reply_to_user": {"reputation": 5, "user_id": 12097921, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCr78FRbtMDsnEkz_FgXpLcu93neud37C-bxqreDfQ=k-s128", "display_name": "Conrado Manclossi", "link": "https://stackoverflow.com/users/12097921/conrado-manclossi"}, "edited": false, "score": 0, "creation_date": 1572379630, "post_id": 58598799, "comment_id": 103539137, "body": "Glad it worked. If you like, you can accept my response as an answer."}], "tags": [], "owner": {"reputation": 344, "user_id": 8312634, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0671eb30ade2de8b5242c9d10afb0c9d?s=128&d=identicon&r=PG&f=1", "display_name": "N0000B", "link": "https://stackoverflow.com/users/8312634/n0000b"}, "is_accepted": true, "score": 0, "last_activity_date": 1572299064, "creation_date": 1572299064, "answer_id": 58598799, "question_id": 58598619, "link": "https://stackoverflow.com/questions/58598619/flutter-sqflite-error-sqflitedatabaseexception/58598799#58598799", "title": "Flutter sqflite error SqfliteDatabaseException", "body": "<p>From the error it looks like you are inserting (which tries to add a new row) to the table.  I believe a row with the same id already exists so the database stops you from adding another with the same id (I believe id is unique). </p>\n\n<p>You should instead be using \"update\" function from sqflite API when you want to change the values.</p>\n"}], "owner": {"reputation": 5, "user_id": 12097921, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCr78FRbtMDsnEkz_FgXpLcu93neud37C-bxqreDfQ=k-s128", "display_name": "Conrado Manclossi", "link": "https://stackoverflow.com/users/12097921/conrado-manclossi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 515, "favorite_count": 0, "accepted_answer_id": 58598799, "answer_count": 1, "score": 0, "last_activity_date": 1572308066, "creation_date": 1572297989, "last_edit_date": 1572308066, "question_id": 58598619, "link": "https://stackoverflow.com/questions/58598619/flutter-sqflite-error-sqflitedatabaseexception", "title": "Flutter sqflite error SqfliteDatabaseException", "body": "<p>I have a flutter application with a sqflite database, when i save a new record it saves normal but when i change and save it breaks and shows this error:</p>\n\n<p><img src=\"https://i.stack.imgur.com/fKKBv.png\" alt=\"enter image description here\"></p>\n\n<pre><code>await db.execute(\"\n      CREATE TABLE $registroTable(\n      $idColumn INTEGER PRIMARY KEY AUTOINCREMENT,\n      $viagemColumn INTEGER,\n      $categoriaColumn INTEGER,\n      $dateColumn DATE,\n      $tituloColumn TEXT,\n      $valorColumn FLOAT,\n      FOREIGN KEY ($viagemColumn) REFERENCES $viagemTable($idColumn),\n      FOREIGN KEY ($categoriaColumn) REFERENCES $categoriaTable($idColumn)\n      );\");\n    });\n</code></pre>\n\n<p>The exception has occurred:</p>\n\n<blockquote>\n<pre><code>SqfliteDatabaseException (DatabaseException(Error Domain=FMDatabase\nCode=19 \"UNIQUE constraint failed: registroTable.idColumn\"\nUserInfo={NSLocalizedDescription=UNIQUE constraint failed:\nregistroTable.idColumn}) sql 'INSERT INTO registroTable (viagemColumn,\ncategoriaColumn, dateColumn, tituloColumn, valorColumn, idColumn)\nVALUES (?, ?, ?, ?, ?, ?)' args [1, 1, 2019-10-27, milho, 15000.0,\n1]})\n</code></pre>\n</blockquote>\n"}, {"tags": ["flutter", "dart", "flutter-provider"], "answers": [{"tags": [], "owner": {"reputation": 30042, "user_id": 4079317, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001221428083/picture?type=large", "display_name": "Niko Ruotsalainen", "link": "https://stackoverflow.com/users/4079317/niko-ruotsalainen"}, "is_accepted": true, "score": 1, "last_activity_date": 1572297159, "last_edit_date": 1572297159, "creation_date": 1572295760, "answer_id": 58598211, "question_id": 58597904, "link": "https://stackoverflow.com/questions/58597904/dart-how-to-return-futurelistmyproducttile-instead-of-listfuturemyproductt/58598211#58598211", "title": "Dart how to return Future&lt;List&lt;MyProductTile&gt;&gt; instead of List&lt;Future&lt;MyProductTile&gt;&gt;", "body": "<p>One way is to utilise <a href=\"https://api.flutter.dev/flutter/dart-async/Stream/asyncMap.html\" rel=\"nofollow noreferrer\">asyncMap</a> from the Dart <a href=\"https://api.flutter.dev/flutter/dart-async/Stream-class.html\" rel=\"nofollow noreferrer\">Stream</a> API. This is especially useful, because you are getting <code>DocumentSnapshot</code> stream as a parameter to your function.</p>\n\n<pre><code>Future&lt;List&lt;MyProductTile&gt;&gt; getProducts(Stream&lt;DocumentSnapshot&gt; stream) {\n    return stream\n      .expand((documentSnapshot) =&gt; documentSnapshot.data['used_products'])\n      .asyncMap((documentReference) =&gt; documentReference.get())\n      .map((documentSnapshot) =&gt; MyProductTile.fromFirestore(documentSnapshot))\n      .toList();\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4158, "user_id": 1810447, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5431dc98957e34339ab648613de3c861?s=128&d=identicon&r=PG", "display_name": "The Tahaan", "link": "https://stackoverflow.com/users/1810447/the-tahaan"}, "is_accepted": false, "score": 0, "last_activity_date": 1572296406, "creation_date": 1572296406, "answer_id": 58598349, "question_id": 58597904, "link": "https://stackoverflow.com/questions/58597904/dart-how-to-return-futurelistmyproducttile-instead-of-listfuturemyproductt/58598349#58598349", "title": "Dart how to return Future&lt;List&lt;MyProductTile&gt;&gt; instead of List&lt;Future&lt;MyProductTile&gt;&gt;", "body": "<p>Converting a List of Futures by awaiting every Future.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Future&lt;List&lt;Object&gt;&gt; dataFromFutures(List&lt;Future&lt;Object&gt;&gt; futures) async {\n  List&lt;Object&gt; dataList = [];\n  futures.forEach((Future i) async {dataList.add(await i);});\n  return dataList;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 834, "user_id": 7959837, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u9C9j.jpg?s=128&g=1", "display_name": "Suliman Farzat", "link": "https://stackoverflow.com/users/7959837/suliman-farzat"}, "is_accepted": false, "score": 0, "last_activity_date": 1572298158, "creation_date": 1572298158, "answer_id": 58598646, "question_id": 58597904, "link": "https://stackoverflow.com/questions/58597904/dart-how-to-return-futurelistmyproducttile-instead-of-listfuturemyproductt/58598646#58598646", "title": "Dart how to return Future&lt;List&lt;MyProductTile&gt;&gt; instead of List&lt;Future&lt;MyProductTile&gt;&gt;", "body": "<pre><code>Future getDetails() async {\nvar firestore = Firestore.instance;\nQuerySnapshot qs = await firestore\n    .collection('letters_sub')\n    .where('sub_id', isEqualTo: widget.letters.id)\n    .getDocuments();\nreturn qs.documents;\n</code></pre>\n\n<p>}</p>\n\n<pre><code>Container(\n          child: FutureBuilder(\n              future: getDetails(),\n              builder: (context, snapshot) {\n                if (snapshot.connectionState ==\n                    ConnectionState.waiting) {\n                  return Center(\n                    child: Text('Loading...'),\n                  );\n                } else {\n                  return ListView.builder(\n                      //padding: EdgeInsets.symmetric(horizontal: 16.0),\n                      shrinkWrap: true,\n                      physics: ClampingScrollPhysics(),\n                      itemCount: snapshot.data.length,\n                      itemBuilder: (context, index) {\n                        var sub_text_en = snapshot.data[index].data['sub_text_en'];\n\n                        return  Column(\n                          textDirection: TextDirection.rtl,\n                          crossAxisAlignment: CrossAxisAlignment.stretch,\n                          children: &lt;Widget&gt;[\n\n                            Text(\n                              snapshot.data[index].data['sub_text_ar'],\n                              textAlign: TextAlign.right,\n                              style: new TextStyle(\n                                  fontSize: 14.0,\n                                  //color: Colors.blue,\n                                  fontWeight:\n                                  FontWeight.normal),\n                            ),\n\n                            Text(\n                              sub_text_en.contains('\\n') ? sub_text_en : sub_text_en.replaceAll('\\\\n ', '\\n') ,\n                              textAlign: TextAlign.left,\n                              style: new TextStyle(\n                                  fontSize: 14.0,\n                                 // color: Colors.blueGrey,\n                                  fontWeight: FontWeight.bold),\n                            ),\n\n\n                          ],\n                        );\n                      });\n                }\n              }),\n        ),\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 6603499, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/10ce81cd1a116a4a1b310ec28cdc50ac?s=128&d=identicon&r=PG&f=1", "display_name": "nader", "link": "https://stackoverflow.com/users/6603499/nader"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 0, "accepted_answer_id": 58598211, "answer_count": 3, "score": 0, "last_activity_date": 1572298158, "creation_date": 1572294281, "question_id": 58597904, "link": "https://stackoverflow.com/questions/58597904/dart-how-to-return-futurelistmyproducttile-instead-of-listfuturemyproductt", "title": "Dart how to return Future&lt;List&lt;MyProductTile&gt;&gt; instead of List&lt;Future&lt;MyProductTile&gt;&gt;", "body": "<p>I have an async function <code>getProducts()</code> that is supposed to return a <code>Future&lt;List&lt;MyProductTile&gt;&gt;</code> meant to a be fed to a FutureProvider. </p>\n\n<p>So far, I managed to return a <code>List&lt;Future&lt;MyProductTile&gt;&gt;</code> instead: </p>\n\n<pre><code>Future&lt;List&lt;MyProductTile&gt;&gt; getProducts(\n  Stream&lt;DocumentSnapshot&gt; stream) async {\n\n    var documentSnapshot = await stream.first;\n\n    List&lt;DocumentReference&gt; productsDocRefsList =\n        List&lt;DocumentReference&gt;.from(documentSnapshot.data['used_products']);\n\n    var x = productsDocRefsList\n        .map((documentReference) =&gt; documentReference.get().then(\n            (documentSnapshot) =&gt;\n                MyProductTile.fromFirestore(documentSnapshot)))\n        .toList();\n\n    print(x.runtimeType); // List&lt;Future&lt;MyProductTile&gt;&gt;\n}\n</code></pre>\n\n<p>I tried to use Future.wait as suggested <a href=\"https://stackoverflow.com/questions/42176092/dartlang-wait-more-than-one-future\">in this stackoverflow answer</a> but I didn't succeed.</p>\n"}, {"tags": ["flutter", "dart", "flutter-animation"], "comments": [{"owner": {"reputation": 1559, "user_id": 8558606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nXzLrssHQlY/AAAAAAAAAAI/AAAAAAAAAQk/D695GhKRzFI/photo.jpg?sz=128", "display_name": "Guilherme Matuella", "link": "https://stackoverflow.com/users/8558606/guilherme-matuella"}, "edited": false, "score": 1, "creation_date": 1572293530, "post_id": 58597658, "comment_id": 103508120, "body": "If I understood correctly, you need the animation to run only once, and then on the following updates, it should only build the widget with its properties. I can see two solutions here: A <code>InheritedWidget</code> or a  <code>Provider</code>. Both of these will be able to store an arbitrary state across your Widget hierarchy."}, {"owner": {"reputation": 81, "user_id": 8302131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfb79fe9d416a8e71277c5d35c7f0a4a?s=128&d=identicon&r=PG&f=1", "display_name": "WieFel", "link": "https://stackoverflow.com/users/8302131/wiefel"}, "reply_to_user": {"reputation": 1559, "user_id": 8558606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nXzLrssHQlY/AAAAAAAAAAI/AAAAAAAAAQk/D695GhKRzFI/photo.jpg?sz=128", "display_name": "Guilherme Matuella", "link": "https://stackoverflow.com/users/8558606/guilherme-matuella"}, "edited": false, "score": 0, "creation_date": 1572600533, "post_id": 58597658, "comment_id": 103617063, "body": "@GuilhermeMatuella thank you! It actually was the time for me to integrate Provider into my app. This way I also solved my problem :)  I made my <code>CustomData</code> extend <code>ChangeNotifier</code> and then accessed it inside the <code>AnimationWidget</code> using provider."}, {"owner": {"reputation": 1559, "user_id": 8558606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nXzLrssHQlY/AAAAAAAAAAI/AAAAAAAAAQk/D695GhKRzFI/photo.jpg?sz=128", "display_name": "Guilherme Matuella", "link": "https://stackoverflow.com/users/8558606/guilherme-matuella"}, "edited": false, "score": 0, "creation_date": 1572604197, "post_id": 58597658, "comment_id": 103618457, "body": "I&#39;m glad it worked. If you can, please post a solution to your own question."}, {"owner": {"reputation": 81, "user_id": 8302131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfb79fe9d416a8e71277c5d35c7f0a4a?s=128&d=identicon&r=PG&f=1", "display_name": "WieFel", "link": "https://stackoverflow.com/users/8302131/wiefel"}, "reply_to_user": {"reputation": 1559, "user_id": 8558606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nXzLrssHQlY/AAAAAAAAAAI/AAAAAAAAAQk/D695GhKRzFI/photo.jpg?sz=128", "display_name": "Guilherme Matuella", "link": "https://stackoverflow.com/users/8558606/guilherme-matuella"}, "edited": false, "score": 0, "creation_date": 1572617665, "post_id": 58597658, "comment_id": 103624611, "body": "@GuilhermeMatuella oh I&#39;m sorry. Actually I still have a problem: If I have a dynamic list of <code>AnimationWidget</code> and I want to play one after the other and in certain situations I want to recreate that list with a different number of <code>AnimationWidget</code>s. I still don&#39;t know how to handle it. I am forced to initialize the animation widgets in <code>initState</code> but then I can&#39;t change the count dynamically"}], "owner": {"reputation": 81, "user_id": 8302131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfb79fe9d416a8e71277c5d35c7f0a4a?s=128&d=identicon&r=PG&f=1", "display_name": "WieFel", "link": "https://stackoverflow.com/users/8302131/wiefel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 739, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1572292970, "creation_date": 1572292970, "question_id": 58597658, "link": "https://stackoverflow.com/questions/58597658/flutter-animation-widget-trigger-animation-only-once-but-get-data-upates-on-w", "title": "Flutter - animation widget, trigger animation only once but get data upates on widget", "body": "<p>I came across the following problem already twice within my app:<br/>\nInside a <code>StatefulWidget</code> I have a widget that contains an animation and additionally displays other dynamic data. The animation is triggered after the animation widget has been built. However, after the animation (the drawing of a figure) has been played, I want to maintain it in the same drawn state. The rest of the dynamic data of the widget should be always rebuilt when the parent <code>StatefulWidget</code>'s <code>build</code> method is called.<br/>\nBelow, there is a simple example of what I try to achieve:</p>\n\n<pre><code>class MyStatefulWidget extends StatefulWidget {\n\n  MyStatefulWidget({Key key, @required this.data}) : super(key: key);\n\n  CustomData data;\n\n  @override\n  State&lt;StatefulWidget&gt; createState() =&gt; _MyState();\n}\n</code></pre>\n\n<p>Now, I had two ideas of how to implement the state:<br/>\n1) Initialize the animation widget in <code>initState()</code> and \"manually\" handle data updates within <code>didUpdateWidget()</code>.</p>\n\n<pre><code>class _MyState extends State&lt;MyStatefulWidget&gt; {\n  AnimationWidget _animationWidget;\n\n  @override\n  void initState() {\n    super.initState();\n    _animationWidget = AnimationWidget(displayData: widget.data);\n\n    // starts the animation when the widget is built (?)\n    WidgetsBinding.instance\n        .addPostFrameCallback((_) =&gt; _animationWidget.startAnimation());\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Column(\n          children: [\n          _animationWidget,\n          ... // other content\n          ],\n          ... // column size etc.\n    );\n  }\n\n  @override\n  void didUpdateWidget(SackenNotebookContent oldWidget) {\n    super.didUpdateWidget(oldWidget);\n\n    if(dataChanged(oldWidget.data, widget.data))\n        setState(() {\n        _animationWidget = AnimationWidget(displayData: widget.data);\n        });\n  }\n}\n</code></pre>\n\n<p>2) To create the animation widget within the <code>build()</code> method. But then I already have doubts about when/where to trigger the animation to start. One way would be to trigger it in <code>didUpdateWidget()</code>. But again, the animation would then be triggered on every rebuild of the widget...</p>\n\n<pre><code>class _MyState extends State&lt;MyStatefulWidget&gt; {\n\n  @override\n  Widget build(BuildContext context) {\n    var animationWidget = AnimationWidget(displayData: widget.data);\n\n    // but where to call animationWidget.startAnimation() ?!\n    // when I call it here I get a null pointer exception...\n\n    return Column(\n          children: [\n          animationWidget,\n          ... // other content\n          ],\n          ... // column size etc.\n    );\n  }\n}\n</code></pre>\n\n<p>Has anyone got an idea of how I could handle such a problem in flutter?</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 1806, "user_id": 1895955, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/6d11bf844f385e287cd8ad0805d03bbf?s=128&d=identicon&r=PG", "display_name": "cloudwalker", "link": "https://stackoverflow.com/users/1895955/cloudwalker"}, "edited": false, "score": 0, "creation_date": 1572381208, "post_id": 58600790, "comment_id": 103539825, "body": "Aha! That makes a lot of sense and was very stupid of me to miss :) Switching to the http package was the easiest thing to do. Thanks!"}], "tags": [], "owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "is_accepted": true, "score": 1, "last_activity_date": 1572316776, "creation_date": 1572316776, "answer_id": 58600790, "question_id": 58597462, "link": "https://stackoverflow.com/questions/58597462/dart-httpclient-not-reading-full-response/58600790#58600790", "title": "Dart HttpClient not reading full response", "body": "<p>The problem is that your response will be delivered by the stream in pieces. After passing those chunks through the utf8 decoder, you should then form them into a single string before trying to json decode it. Currently you try to json decode the first chunk without waiting for the rest.</p>\n\n<p>It's much easier to use the <code>package:http</code> which is a wrapper around <code>HttpClient</code>, and does a lot of the grunt work for you. Also, it's more readable to use the <code>async/await</code> syntax rather than <code>.then</code>.</p>\n\n<p>Using an <code>async</code> method you could write, for example:</p>\n\n<pre><code>void getPlan(Map filter, String idToken) async {\n  var response = await http.get(\n    Uri.parse('https://myUrl.com/api/meal-plans?filter=${jsonEncode(filter)}'),\n    headers: &lt;String, String&gt;{\n      'Authorization': 'Bearer $idToken',\n    },\n  );\n\n  return MealPlan.fromJson(json.decode(response.body));\n}\n</code></pre>\n\n<p>If you really want to control the connection timeout, you need to pass in your own <code>HttpClient</code>, as follows:</p>\n\n<pre><code>  var client =\n      http.IOClient(HttpClient()..connectionTimeout = Duration(seconds: 60));\n\n  var response = await client.get(\n    //etc\n</code></pre>\n"}], "owner": {"reputation": 1806, "user_id": 1895955, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/6d11bf844f385e287cd8ad0805d03bbf?s=128&d=identicon&r=PG", "display_name": "cloudwalker", "link": "https://stackoverflow.com/users/1895955/cloudwalker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 58600790, "answer_count": 1, "score": 0, "last_activity_date": 1572316776, "creation_date": 1572292020, "question_id": 58597462, "link": "https://stackoverflow.com/questions/58597462/dart-httpclient-not-reading-full-response", "title": "Dart HttpClient not reading full response", "body": "<p>I have a weird issue using the dart HttpClient where it seems like it's not reading the full response before \"finishing\". This is the code I have:</p>\n\n<pre><code>HttpClient client = new HttpClient();\nclient.connectionTimeout = Duration(seconds: 60);\nCompleter&lt;MealPlan&gt; completer = new Completer();\n\nRecipeSearchFilter filter = new RecipeSearchFilter();\nfilter.restrictions = intolerances.map((intolerance) =&gt; intolerance.name).toList();\nMealPlan mealPlan;\nclient\n    .getUrl(Uri.parse(\n    \"https://myUrl.com/api/meal-plans?filter=${jsonEncode(filter)}\"))\n.then((HttpClientRequest request) {\n  request.headers.set(\"Authorization\", \"Bearer $idToken\");\n  return request.close();\n}).then((HttpClientResponse response) {\n  response.transform(utf8.decoder).listen((contents) {\n    Map&lt;String, dynamic&gt; contentMap = jsonDecode(contents);\n    mealPlan = MealPlan.fromJson(contentMap);\n  }, onDone: () =&gt; completer.complete(mealPlan));\n});\n\nreturn completer.future;\n</code></pre>\n\n<p>This is the most intensive function that my app contains, so this particular API itself typically takes 6-8 seconds to fully complete since there's a lot going on behind the scenes. The response isn't big (~60KB). Making the exact same call using Postman I can see that it does indeed return everything as expected, but if I look at the response inside of the <code>}).then((HttpClientResponse response) {</code> block, it only contains a very small, partial bit of the response. I'm not sure what I'm doing wrong here, but I'm guessing that I've configured the HttpClient incorrectly.</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 12142139, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBl4e07cDTfH3ASy4-icKbFV68hYoDxyG3HiGPoRQ=k-s128", "display_name": "Aymeric Le Feyer", "link": "https://stackoverflow.com/users/12142139/aymeric-le-feyer"}, "edited": false, "score": 0, "creation_date": 1572291420, "post_id": 58597215, "comment_id": 103507304, "body": "I just tried your idea but I have an issue at the first line (_kFontFam : &#39;Custom&#39;;)"}, {"owner": {"reputation": 128, "user_id": 12253838, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-79rc_i-1Qcw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reYsu6hnsHi2AurWPmv02P-6w28Vw/photo.jpg?sz=128", "display_name": "mahadev kalyan srikanth", "link": "https://stackoverflow.com/users/12253838/mahadev-kalyan-srikanth"}, "reply_to_user": {"reputation": 27, "user_id": 12142139, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBl4e07cDTfH3ASy4-icKbFV68hYoDxyG3HiGPoRQ=k-s128", "display_name": "Aymeric Le Feyer", "link": "https://stackoverflow.com/users/12142139/aymeric-le-feyer"}, "edited": false, "score": 0, "creation_date": 1572291860, "post_id": 58597215, "comment_id": 103507479, "body": "my bad, can you replace &quot;;&quot; with &quot;,&quot;"}, {"owner": {"reputation": 27, "user_id": 12142139, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBl4e07cDTfH3ASy4-icKbFV68hYoDxyG3HiGPoRQ=k-s128", "display_name": "Aymeric Le Feyer", "link": "https://stackoverflow.com/users/12142139/aymeric-le-feyer"}, "edited": false, "score": 0, "creation_date": 1572292064, "post_id": 58597215, "comment_id": 103507568, "body": "tried too, the problem is now at the second line with the following problem : &quot;The keys in a const map literal must be constant&quot;  This file is generated when I add icons to my project, so I don&#39;t want to edit it if it&#39;s possible"}, {"owner": {"reputation": 128, "user_id": 12253838, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-79rc_i-1Qcw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reYsu6hnsHi2AurWPmv02P-6w28Vw/photo.jpg?sz=128", "display_name": "mahadev kalyan srikanth", "link": "https://stackoverflow.com/users/12253838/mahadev-kalyan-srikanth"}, "reply_to_user": {"reputation": 27, "user_id": 12142139, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBl4e07cDTfH3ASy4-icKbFV68hYoDxyG3HiGPoRQ=k-s128", "display_name": "Aymeric Le Feyer", "link": "https://stackoverflow.com/users/12142139/aymeric-le-feyer"}, "edited": false, "score": 0, "creation_date": 1572292520, "post_id": 58597215, "comment_id": 103507735, "body": "I am trying in my environment, my flutter environment crashed, i have to restart that thing, i suppose as a final step you can remove the const keyword for the map. Instead of &quot;var map = const {&quot; do something like &quot;var map = {&quot;  reference: <a href=\"https://learningflutter.net/dart-fundamentals/\" rel=\"nofollow noreferrer\">learningflutter.net/dart-fundamentals</a> <a href=\"https://www.tutorialspoint.com/dart_programming/dart_programming_generics.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/dart_programming/&hellip;</a>"}, {"owner": {"reputation": 27, "user_id": 12142139, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBl4e07cDTfH3ASy4-icKbFV68hYoDxyG3HiGPoRQ=k-s128", "display_name": "Aymeric Le Feyer", "link": "https://stackoverflow.com/users/12142139/aymeric-le-feyer"}, "edited": false, "score": 0, "creation_date": 1572429841, "post_id": 58597215, "comment_id": 103553673, "body": "The problem is that I don&#39;t want to edit the file custom_icons.dart because each time I add an icon, the file is regenerated."}], "tags": [], "owner": {"reputation": 128, "user_id": 12253838, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-79rc_i-1Qcw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reYsu6hnsHi2AurWPmv02P-6w28Vw/photo.jpg?sz=128", "display_name": "mahadev kalyan srikanth", "link": "https://stackoverflow.com/users/12253838/mahadev-kalyan-srikanth"}, "is_accepted": true, "score": 1, "last_activity_date": 1572294862, "last_edit_date": 1572294862, "creation_date": 1572290752, "answer_id": 58597215, "question_id": 58596981, "link": "https://stackoverflow.com/questions/58596981/display-all-icons-of-a-pack/58597215#58597215", "title": "Display all Icons of a pack", "body": "<p>Did you try something like this?</p>\n\n<pre><code>class Custom {\n\n\nCustom._();\n\nstatic const _kFontFam = \"Custom\";\n\nvar map =  { \n\n\n   \"restaurant_menu\" : IconData(0xe800, fontFamily: _kFontFam),\n   \"food\" : IconData(0xe801, fontFamily: _kFontFam),\n   \"chart_line\" : IconData(0xe802, fontFamily: _kFontFam),\n   \"settings\" : IconData(0xe803, fontFamily: _kFontFam),\n   \"feedback\" : IconData(0xe804, fontFamily: _kFontFam),\n   \"format_list_bulleted\" : IconData(0xe805, fontFamily: _kFontFam),\n   \"basket\" : IconData(0xe806, fontFamily: _kFontFam),\n   \"roast_turkey\" : IconData(0xe807, fontFamily: _kFontFam),\n   \"harvest\" : IconData(0xe808, fontFamily: _kFontFam),\n   \"meat\" : IconData(0xe809, fontFamily: _kFontFam),\n   \"carrot\" : IconData(0xe80a, fontFamily: _kFontFam),\n   \"fish\" : IconData(0xe80b, fontFamily: _kFontFam)\n}\n\nCustom._allAttributes() { \n   map.toList();\n }\n\n\n}\n\n\nprint(Custom._allAttributes());\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 12142139, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBl4e07cDTfH3ASy4-icKbFV68hYoDxyG3HiGPoRQ=k-s128", "display_name": "Aymeric Le Feyer", "link": "https://stackoverflow.com/users/12142139/aymeric-le-feyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 332, "favorite_count": 0, "accepted_answer_id": 58597215, "answer_count": 1, "score": 0, "last_activity_date": 1572294862, "creation_date": 1572289653, "question_id": 58596981, "link": "https://stackoverflow.com/questions/58596981/display-all-icons-of-a-pack", "title": "Display all Icons of a pack", "body": "<p>I want to display every icons of my custom_icons.dart file. So I need to get all of them in a list but I don't know how to. Here is a piece of the file</p>\n\n<pre><code>class Custom {\n\n\nCustom._();\n\n  static const _kFontFam = 'Custom';\n\n  static const IconData restaurant_menu = const IconData(0xe800, fontFamily: _kFontFam);\n  static const IconData food = const IconData(0xe801, fontFamily: _kFontFam);\n  static const IconData chart_line = const IconData(0xe802, fontFamily: _kFontFam);\n  static const IconData settings = const IconData(0xe803, fontFamily: _kFontFam);\n  static const IconData feedback = const IconData(0xe804, fontFamily: _kFontFam);\n  static const IconData format_list_bulleted = const IconData(0xe805, fontFamily: _kFontFam);\n  static const IconData basket = const IconData(0xe806, fontFamily: _kFontFam);\n  static const IconData roast_turkey = const IconData(0xe807, fontFamily: _kFontFam);\n  static const IconData harvest = const IconData(0xe808, fontFamily: _kFontFam);\n  static const IconData meat = const IconData(0xe809, fontFamily: _kFontFam);\n  static const IconData carrot = const IconData(0xe80a, fontFamily: _kFontFam);\n  static const IconData fish = const IconData(0xe80b, fontFamily: _kFontFam);\n}\n</code></pre>\n\n<p>I'm looking for something like <code>Custom.allAttributes()</code> giving a list of all attributes of my class <code>Custom</code></p>\n"}, {"tags": ["flutter", "dart", "popupwindow", "setstate"], "answers": [{"tags": [], "owner": {"reputation": 852, "user_id": 5423747, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-FpEcsfy5xes/AAAAAAAAAAI/AAAAAAAAAB0/J0BUsagpcw0/photo.jpg?sz=128", "display_name": "Arash Mohammadi", "link": "https://stackoverflow.com/users/5423747/arash-mohammadi"}, "is_accepted": true, "score": 1, "last_activity_date": 1572294313, "creation_date": 1572294313, "answer_id": 58597910, "question_id": 58595519, "link": "https://stackoverflow.com/questions/58595519/how-to-call-setstate-rebuild-page-after-pop-of-popupwindow/58597910#58597910", "title": "How to call setState (rebuild page), after pop of PopUpWindow?", "body": "<p>You can add a function in MyPage and pass it to your popUpWidget. Code:</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(new MaterialApp(home: MyPage()));\n\nclass PopupLayout extends ModalRoute&lt;void&gt; {\n  @override\n  Duration get transitionDuration =&gt; Duration(milliseconds: 300);\n  @override\n  bool get opaque =&gt; false;\n  @override\n  bool get barrierDismissible =&gt; false;\n  @override\n  bool get semanticsDismissible =&gt; true;\n  @override\n  Color get barrierColor =&gt;\n      bgColor == null ? Colors.black.withOpacity(0.5) : bgColor;\n  @override\n  String get barrierLabel =&gt; null;\n  @override\n  bool get maintainState =&gt; false;\n\n  double top;\n  double bottom;\n  double left;\n  double right;\n  Color bgColor;\n  final Widget child;\n\n  PopupLayout(\n      {Key key,\n      this.bgColor,\n      @required this.child,\n      this.top,\n      this.bottom,\n      this.left,\n      this.right});\n\n  @override\n  Widget buildPage(\n    BuildContext context,\n    Animation&lt;double&gt; animation,\n    Animation&lt;double&gt; secondaryAnimation,\n  ) {\n    if (top == null) this.top = 10;\n    if (bottom == null) this.bottom = 20;\n    if (left == null) this.left = 20;\n    if (right == null) this.right = 20;\n\n    return GestureDetector(\n      onTap: () {},\n      child: Material(\n        type: MaterialType.transparency,\n        child: _buildOverlayContent(context),\n      ),\n    );\n  }\n\n  Widget _buildOverlayContent(BuildContext context) {\n    return Container(\n      margin: EdgeInsets.only(\n          bottom: this.bottom,\n          left: this.left,\n          right: this.right,\n          top: this.top),\n      child: child,\n    );\n  }\n\n  @override\n  Widget buildTransitions(BuildContext context, Animation&lt;double&gt; animation,\n      Animation&lt;double&gt; secondaryAnimation, Widget child) {\n    return FadeTransition(\n      opacity: animation,\n      child: ScaleTransition(\n        scale: animation,\n        child: child,\n      ),\n    );\n  }\n}\n\nclass PopupContent extends StatefulWidget {\n  final Widget content;\n  PopupContent({\n    Key key,\n    this.content,\n  }) : super(key: key);\n  _PopupContentState createState() =&gt; _PopupContentState();\n}\n\nclass _PopupContentState extends State&lt;PopupContent&gt; {\n  @override\n  void initState() {\n    super.initState();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n      child: widget.content,\n    );\n  }\n}\n\npopupContent(BuildContext context, Widget widget, {BuildContext popupContext}) {\n  Navigator.push(\n    context,\n    PopupLayout(\n      top: 120,\n      left: 20,\n      right: 20,\n      bottom: 120,\n      child: PopupContent(\n        content: Scaffold(\n          backgroundColor: Colors.white,\n          resizeToAvoidBottomInset: false,\n          body: widget,\n        ),\n      ),\n    ),\n  );\n}\n\nWidget popupWidget(BuildContext context, Function callback) {\n  //Pass The Function Here //////////////////////\n  return new Container(\n    child:\n        Column(mainAxisAlignment: MainAxisAlignment.center, children: &lt;Widget&gt;[\n      Text(\"This is a popupPage\"),\n      FlatButton(\n        onPressed: () {\n          list.add(\"Irrelevant\");\n          callback(); // Call It Here /////////////////////////\n          Navigator.pop(\n              context); //The rebuild of the page underneath, needs to be called when this pops\n        },\n        child: Text(\"Press me to change text on home page\"),\n      ),\n    ]),\n  );\n}\n\nList list = [];\n\nclass MyPage extends StatefulWidget {\n  @override\n  createState() =&gt; MyPageState();\n}\n\nclass MyPageState extends State&lt;MyPage&gt; {\n  //The Calback Function //////////////////////////\n  void callback() {\n    setState(() {});\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      body: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: &lt;Widget&gt;[\n            Center(\n              child: Container(\n                width: 300,\n                height: 400,\n                child: ListView.builder(\n                  itemCount: list.length,\n                  itemBuilder: (BuildContext context, int index) {\n                    return Center(\n                      child: Text(index.toString()),\n                    );\n                  },\n                ),\n              ),\n            ),\n            Center(\n              child: FlatButton(\n                onPressed: () {\n                  popupContent(context, popupWidget(context, this.callback)); //Passing the Function here ////////////\n                },\n                child: Text(\"Press me for popup window\"),\n              ),\n            ),\n            Center(\n              child: FlatButton(\n                onPressed: () {\n                  setState(() {});\n                },\n                child: Text(\"Press me to rebuild page (setState)\"),\n              ),\n            ),\n          ]),\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 12283442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fab8d8452607c69eda8016d531990011?s=128&d=identicon&r=PG&f=1", "display_name": "NameEqualNull", "link": "https://stackoverflow.com/users/12283442/nameequalnull"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 741, "favorite_count": 0, "accepted_answer_id": 58597910, "answer_count": 1, "score": 1, "last_activity_date": 1572294313, "creation_date": 1572283021, "question_id": 58595519, "link": "https://stackoverflow.com/questions/58595519/how-to-call-setstate-rebuild-page-after-pop-of-popupwindow", "title": "How to call setState (rebuild page), after pop of PopUpWindow?", "body": "<p>I'm trying to update/rebuild a route beneath a popup window when the popup window is popped, using Navigator.pop(context). On the popup window the user can add something to a list, and the route beneath (the page), the added item shows in a ListView. So more specifically I need my ListView to be up to date with the actual list. But nothing I have tried yet, have worked.</p>\n\n<p>As mentioned, I have already tried quite a few things, including:\ndidPopNext() (using RouteAware), changedExternalState (which I couldn't quite get the grasp of), trying to pass a function only containing a setState(() {}), and other things.</p>\n\n<p>Hope somebody can help with how I can rebuild the ListView when the popup window is popped.</p>\n\n<p>Thanks in advance.</p>\n\n<p>This example should summarize my problem decently close (couldn't show you the actual code, because it's gotten way over 2.000 lines, but the core elements of the problem should be here):</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(new MaterialApp(\n  home: MyPage()));\n\nclass PopupLayout extends ModalRoute&lt;void&gt; {\n  @override\n  Duration get transitionDuration =&gt; Duration(milliseconds: 300);\n  @override\n  bool get opaque =&gt; false;\n  @override\n  bool get barrierDismissible =&gt; false;\n  @override\n  bool get semanticsDismissible =&gt; true;\n  @override\n  Color get barrierColor =&gt;\n      bgColor == null ? Colors.black.withOpacity(0.5) : bgColor;\n  @override\n  String get barrierLabel =&gt; null;\n  @override\n  bool get maintainState =&gt; false;\n\n\n  double top;\n  double bottom;\n  double left;\n  double right;\n  Color bgColor;\n  final Widget child;\n\n  PopupLayout(\n      {Key key,\n      this.bgColor,\n      @required this.child,\n      this.top,\n      this.bottom,\n      this.left,\n      this.right});\n\n  @override\n  Widget buildPage(\n    BuildContext context,\n    Animation&lt;double&gt; animation,\n    Animation&lt;double&gt; secondaryAnimation,\n  ) {\n    if (top == null) this.top = 10;\n    if (bottom == null) this.bottom = 20;\n    if (left == null) this.left = 20;\n    if (right == null) this.right = 20;\n\n    return GestureDetector(\n      onTap: () {},\n      child: Material(\n        type: MaterialType.transparency,\n        child: _buildOverlayContent(context),\n      ),\n    );\n  }\n  Widget _buildOverlayContent(BuildContext context) {\n    return Container(\n      margin: EdgeInsets.only(\n          bottom: this.bottom,\n          left: this.left,\n          right: this.right,\n          top: this.top),\n      child: child,\n    );\n  }\n\n  @override\n  Widget buildTransitions(BuildContext context, Animation&lt;double&gt; animation,\n    Animation&lt;double&gt; secondaryAnimation, Widget child) {\n    return FadeTransition(\n      opacity: animation,\n      child: ScaleTransition(\n        scale: animation,\n        child: child,\n      ),\n    );\n  }\n}\n\nclass PopupContent extends StatefulWidget {\n  final Widget content;\n  PopupContent({\n    Key key,\n    this.content,\n  }) : super(key: key);\n  _PopupContentState createState() =&gt; _PopupContentState();\n}\n\nclass _PopupContentState extends State&lt;PopupContent&gt; {\n  @override\n  void initState() {\n    super.initState();\n  }\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n      child: widget.content,\n    );\n  }\n}\n\npopupContent(BuildContext context, Widget widget,\n      {BuildContext popupContext}) {\n  Navigator.push(\n    context,\n    PopupLayout(\n      top: 120,\n      left: 20,\n      right: 20,\n      bottom: 120,\n      child: PopupContent(\n        content: Scaffold(\n          backgroundColor: Colors.white,\n          resizeToAvoidBottomInset: false,\n          body: widget,\n        ),\n      ),\n    ),\n  );\n}\n\nWidget popupWidget(BuildContext context) {\n  return new Container(\n    child: Column(\n      mainAxisAlignment: MainAxisAlignment.center,\n      children: &lt;Widget&gt;[\n        Text(\"This is a popupPage\"),\n          FlatButton(\n          onPressed: () {\n            list.add(\"Irrelevant\");\n            Navigator.pop(context); //The rebuild of the page underneath, needs to be called when this pops\n          },\n      child: Text(\"Press me to change text on home page\"),\n        ),\n      ]\n    ),\n  );\n}\n\nList list = [];\n\nclass MyPage extends StatefulWidget {\n  @override\n  createState() =&gt; MyPageState();\n}\n\nclass MyPageState extends State&lt;MyPage&gt; {\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      body: Column(\n        mainAxisAlignment: MainAxisAlignment.center,\n        children: &lt;Widget&gt;[\n          Center(\n            child: Container(\n              width: 300,\n              height: 400,\n              child: ListView.builder(\n                itemCount: list.length,\n                itemBuilder: (BuildContext context, int index) {\n                  return Center(\n                    child: Text(index.toString()),\n                  );\n                },\n              ),\n            ),\n          ),\n          Center(\n            child: FlatButton(\n              onPressed: () {\n                popupContent(context, popupWidget(context));\n              },\n              child: Text(\"Press me for popup window\"),\n            ),\n          ),\n          Center(\n            child: FlatButton(\n              onPressed: () {\n                setState(() {});\n              },\n              child: Text(\"Press me to rebuild page (setState)\"),\n            ),\n          ),\n        ]\n      ),\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["android", "flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 401, "user_id": 11562195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c805b19e0a941fed22f01119fb4eaf0?s=128&d=identicon&r=PG&f=1", "display_name": "Guilherme", "link": "https://stackoverflow.com/users/11562195/guilherme"}, "edited": false, "score": 0, "creation_date": 1572281512, "post_id": 58595116, "comment_id": 103503071, "body": "I use change notifier to call setState of a stateful widget?"}], "tags": [], "owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "is_accepted": true, "score": 2, "last_activity_date": 1572282323, "last_edit_date": 1572282323, "creation_date": 1572281413, "answer_id": 58595116, "question_id": 58595009, "link": "https://stackoverflow.com/questions/58595009/flutter-custompaint-is-not-repainting/58595116#58595116", "title": "Flutter CustomPaint is not repainting", "body": "<p><code>Listenable</code> works just fine, use <code>ValueNotifier</code> for example, see <a href=\"https://github.com/pskink/matrix_gesture_detector/blob/master/example/lib/custom_painter_demo.dart\" rel=\"nofollow noreferrer\">https://github.com/pskink/matrix_gesture_detector/blob/master/example/lib/custom_painter_demo.dart</a> for some sample code</p>\n"}], "owner": {"reputation": 401, "user_id": 11562195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c805b19e0a941fed22f01119fb4eaf0?s=128&d=identicon&r=PG&f=1", "display_name": "Guilherme", "link": "https://stackoverflow.com/users/11562195/guilherme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1828, "favorite_count": 0, "accepted_answer_id": 58595116, "answer_count": 1, "score": 2, "last_activity_date": 1572282323, "creation_date": 1572281034, "last_edit_date": 1572281828, "question_id": 58595009, "link": "https://stackoverflow.com/questions/58595009/flutter-custompaint-is-not-repainting", "title": "Flutter CustomPaint is not repainting", "body": "<p>I can't make the custom painter repaint.\nI tried to use Listenable, callbacks, setState and nothing repaints the screen.</p>\n\n<p>The docs says this:</p>\n\n<blockquote>\n  <p>The most efficient way to trigger a repaint is to either:</p>\n  \n  <ul>\n  <li>Extend this class and supply a repaint argument to the constructor of the CustomPainter, where that object notifies its listeners when it is time to repaint.</li>\n  <li>Extend Listenable (e.g. via ChangeNotifier) and implement CustomPainter, so that the object itself provides the notifications directly.\n  In either case, the CustomPaint widget or RenderCustomPaint render object will listen to the Listenable and repaint whenever the animation ticks, avoiding both the build and layout phases of the pipeline.</li>\n  </ul>\n</blockquote>\n\n<p>But the code don't work as intended.</p>\n\n<p>This is the code I'm using:</p>\n\n<pre><code>import 'package:flutter/gestures.dart';\nimport 'package:flutter/material.dart';\n\nmain() {\n  runApp(MaterialApp(\n    home: Scaffold(appBar: AppBar(), body: Pad()),\n  ));\n}\n\nclass Pad extends StatefulWidget {\n  @override\n  _PadState createState() =&gt; _PadState();\n}\n\nclass _PadState extends State&lt;Pad&gt; {\n  @override\n  Widget build(BuildContext context) {\n    final painter = Painter();\n    return GestureDetector(\n        onTap: () {\n          setState(() {\n            painter.addY(10);\n          });\n        },\n        child: CustomPaint(\n          painter: painter,\n          child: Container(),\n        ));\n  }\n}\n\nclass Painter extends CustomPainter {\n  double y = 10;\n\n  addY(val) {\n    y += val;\n  }\n\n  @override\n  void paint(Canvas canvas, Size size) {\n    canvas.drawCircle(Offset(size.width / 2, y++), 100, Paint());\n  }\n\n  @override\n  bool shouldRepaint(Painter oldDelegate) {\n    return true;\n  }\n}\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 4988910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87c0bb426887fe1fd685bd138cbd340f?s=128&d=identicon&r=PG&f=1", "display_name": "R. drt", "link": "https://stackoverflow.com/users/4988910/r-drt"}, "is_accepted": false, "score": 0, "last_activity_date": 1572281803, "creation_date": 1572281803, "answer_id": 58595215, "question_id": 58594869, "link": "https://stackoverflow.com/questions/58594869/duplicate-data-in-object-setter/58595215#58595215", "title": "Duplicate data in object setter", "body": "<p>it'll look simpler if you call the first constructor inside the update method.\ncall \"User(data)\" inside them you can follow with \"notifyListeners();\"</p>\n"}, {"tags": [], "owner": {"reputation": 145, "user_id": 6856839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iAEjN.jpg?s=128&g=1", "display_name": "Florin Bratan", "link": "https://stackoverflow.com/users/6856839/florin-bratan"}, "is_accepted": true, "score": 0, "last_activity_date": 1572282098, "creation_date": 1572282098, "answer_id": 58595299, "question_id": 58594869, "link": "https://stackoverflow.com/questions/58594869/duplicate-data-in-object-setter/58595299#58595299", "title": "Duplicate data in object setter", "body": "<p>This would be one way to do it:</p>\n\n<pre><code>class User extends Model {\n    String name;\n    String description;\n    // and a bunch of other fields\n\n    User(Map data) {\n        updateUser(data, notify: false);\n    }\n\n    void updateUser(Map data, {bool notify = true}) {\n        // copy and pasted from User constructor\n        this.name = data['name'];\n        this.description = data['description'];\n\n        if(notify) {\n            notifyListeners();\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 682, "user_id": 2757231, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/mkL18.png?s=128&g=1", "display_name": "Evan", "link": "https://stackoverflow.com/users/2757231/evan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 58595299, "answer_count": 2, "score": 0, "last_activity_date": 1572282098, "creation_date": 1572280469, "question_id": 58594869, "link": "https://stackoverflow.com/questions/58594869/duplicate-data-in-object-setter", "title": "Duplicate data in object setter", "body": "<p>I have a user object I'm using with scoped model:</p>\n\n<pre><code>class User extends Model {\n    String name;\n    String description;\n    // and a bunch of other fields\n\n    User(Map data) {\n        this.name = data['name'];\n        this.description = data['description'];\n    }\n\n    void updateUser(Map data) {\n        // copy and pasted from User constructor\n        this.name = data['name'];\n        this.description = data['description'];\n\n        notifyListeners();        \n    }\n}\n</code></pre>\n\n<p>Is there a way not have to duplicate the code from the User constructor inside updateUser?</p>\n"}, {"tags": ["flutter", "dart", "visual-studio-code"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 12286774, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mB_Fc6gl2LzBq9xpvAuiY9vhcn5sDp0_ThXK1fc=k-s128", "display_name": "Jason Szulc", "link": "https://stackoverflow.com/users/12286774/jason-szulc"}, "edited": false, "score": 0, "creation_date": 1572281660, "post_id": 58594789, "comment_id": 103503125, "body": "already tried it &quot;for values of x from 2.2 up to 5.0&quot;, tried it again, no dice :-/"}], "tags": [], "owner": {"reputation": 3890, "user_id": 3626078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/SBXjb.jpg?s=128&g=1", "display_name": "magicleon94", "link": "https://stackoverflow.com/users/3626078/magicleon94"}, "is_accepted": false, "score": 0, "last_activity_date": 1572280175, "creation_date": 1572280175, "answer_id": 58594789, "question_id": 58594729, "link": "https://stackoverflow.com/questions/58594729/error-message-dart-2-5-the-for-if-and-spread-elements-werent-supported-until/58594789#58594789", "title": "Error Message Dart 2.5 The for, if, and spread elements weren&#39;t supported until version 2.2.2", "body": "<p>Try setting it this way:</p>\n\n<pre><code>environment:\n  sdk: \"&gt;=2.5.0 &lt;3.0.0\"\n</code></pre>\n\n<p>I have this on my project and works fine!</p>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 12286774, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mB_Fc6gl2LzBq9xpvAuiY9vhcn5sDp0_ThXK1fc=k-s128", "display_name": "Jason Szulc", "link": "https://stackoverflow.com/users/12286774/jason-szulc"}, "is_accepted": true, "score": 0, "last_activity_date": 1572309429, "creation_date": 1572309429, "answer_id": 58600086, "question_id": 58594729, "link": "https://stackoverflow.com/questions/58594729/error-message-dart-2-5-the-for-if-and-spread-elements-werent-supported-until/58600086#58600086", "title": "Error Message Dart 2.5 The for, if, and spread elements weren&#39;t supported until version 2.2.2", "body": "<p>Setting sdk: \">=2.5.0 &lt;3.0.0\" <strong>and</strong> restarting VSC solves the problem (along with now being able to find packages it had installed but insisted didn't exist). I have been in this game more than long enough that I should know that turning if off and on again solves 99.9% of problems #facepalm</p>\n"}, {"tags": [], "owner": {"reputation": 1874, "user_id": 10329023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cnuxe.jpg?s=128&g=1", "display_name": "Kamlesh", "link": "https://stackoverflow.com/users/10329023/kamlesh"}, "is_accepted": false, "score": 2, "last_activity_date": 1577027299, "creation_date": 1577027299, "answer_id": 59445410, "question_id": 58594729, "link": "https://stackoverflow.com/questions/58594729/error-message-dart-2-5-the-for-if-and-spread-elements-werent-supported-until/59445410#59445410", "title": "Error Message Dart 2.5 The for, if, and spread elements weren&#39;t supported until version 2.2.2", "body": "<p>In <strong>pubspec.yaml</strong> you can update your <strong>environment sdk</strong> to get rid of those warnings:</p>\n\n<pre><code>environment:\n  sdk: \"&gt;=2.3.0 &lt;3.0.0\"\n</code></pre>\n\n<p>Enjoy the code :)</p>\n"}], "owner": {"reputation": 3, "user_id": 12286774, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mB_Fc6gl2LzBq9xpvAuiY9vhcn5sDp0_ThXK1fc=k-s128", "display_name": "Jason Szulc", "link": "https://stackoverflow.com/users/12286774/jason-szulc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 680, "favorite_count": 0, "accepted_answer_id": 58600086, "answer_count": 3, "score": 0, "last_activity_date": 1577027299, "creation_date": 1572279941, "question_id": 58594729, "link": "https://stackoverflow.com/questions/58594729/error-message-dart-2-5-the-for-if-and-spread-elements-werent-supported-until", "title": "Error Message Dart 2.5 The for, if, and spread elements weren&#39;t supported until version 2.2.2", "body": "<p>Use of the spread (...) element produces the following error:</p>\n\n<p>\"The for, if, and spread elements weren't supported until version 2.2.2, but this code is required to be able to run on earlier versions.\nTry updating the SDK constraints.\"</p>\n\n<p>Changing pubspec.yaml to:</p>\n\n<pre><code> environment:\n    sdk: \"&gt;=2.x &lt;3.0.0\"\n</code></pre>\n\n<p>for values of x from 2.2 up to 5.0 doesn't remove the error. Autofix just sets it to \">=2.2.2 &lt;3.0.0\".</p>\n\n<p>The code runs fine, it's just an annoyance as there is one instance of the error for each file it's used in - which leads to the Problem window being full of pointless messages. Is there the possibility that something is requiring a lower version of the sdk, and if so what/where might it be?</p>\n\n<hr>\n\n<p>Flutter 1.9.1+hotfix.6 \u2022 channel stable \u2022 <a href=\"https://github.com/flutter/flutter.git\" rel=\"nofollow noreferrer\">https://github.com/flutter/flutter.git</a></p>\n\n<p>Framework \u2022 revision 68587a0916 (6 weeks ago) \u2022 2019-09-13 19:46:58 -0700</p>\n\n<p>Engine \u2022 revision b863200c37</p>\n\n<p>Tools \u2022 Dart 2.5.0</p>\n\n<p>Flutter (Channel stable, v1.9.1+hotfix.6, on Microsoft Windows [Version 10.0.18362.295], locale en-GB)</p>\n\n<p>Android toolchain - develop for Android devices (Android SDK version 29.0.1)</p>\n\n<p>Android Studio (version 3.4)</p>\n"}, {"tags": ["swift", "flutter", "dart", "realm"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1572277134, "post_id": 58593912, "comment_id": 103500834, "body": "I&#39;m sure you can do it with platform channels."}, {"owner": {"reputation": 251, "user_id": 5864646, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cfcbd5358b130d0feabf9f005da1729e?s=128&d=identicon&r=PG&f=1", "display_name": "Adz", "link": "https://stackoverflow.com/users/5864646/adz"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1572279002, "post_id": 58593912, "comment_id": 103501851, "body": "Ok thanks ! I&#39;ll learn more about platform channels !"}], "owner": {"reputation": 251, "user_id": 5864646, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cfcbd5358b130d0feabf9f005da1729e?s=128&d=identicon&r=PG&f=1", "display_name": "Adz", "link": "https://stackoverflow.com/users/5864646/adz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 325, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572277058, "creation_date": 1572277058, "question_id": 58593912, "link": "https://stackoverflow.com/questions/58593912/use-realm-db-in-flutter-app-with-native-swift-code", "title": "Use Realm DB in flutter app with native swift code", "body": "<p>I would like to know if it's possible to use Realm DB in an app developed with Flutter by using cocoapods and Swift language.</p>\n\n<p>Even it's not very easy, I have understood that we can use native code in Flutter, so would it be possible to develop an app in Flutter but develop in Swift the database/backend to be able to use Realm DB ?</p>\n\n<p>Thanks for your help ! :)</p>\n"}, {"tags": ["android", "firebase", "gradle", "flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 3415, "user_id": 4446495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04eb93300d0f4a21b809d0094b6447d4?s=128&d=identicon&r=PG&f=1", "display_name": "TommySM", "link": "https://stackoverflow.com/users/4446495/tommysm"}, "edited": false, "score": 0, "creation_date": 1572277181, "post_id": 58593698, "comment_id": 103500851, "body": "please provide some more info, where should he edit (which file)?"}, {"owner": {"reputation": 1, "user_id": 8324396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41d0f4f00c10392a141ca32f617e0c55?s=128&d=identicon&r=PG&f=1", "display_name": "\u0410\u043d\u0442\u043e\u043d \u041a\u043e\u043d\u0434\u0440\u0430\u0442\u044e\u043a", "link": "https://stackoverflow.com/users/8324396/%d0%90%d0%bd%d1%82%d0%be%d0%bd-%d0%9a%d0%be%d0%bd%d0%b4%d1%80%d0%b0%d1%82%d1%8e%d0%ba"}, "reply_to_user": {"reputation": 3415, "user_id": 4446495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04eb93300d0f4a21b809d0094b6447d4?s=128&d=identicon&r=PG&f=1", "display_name": "TommySM", "link": "https://stackoverflow.com/users/4446495/tommysm"}, "edited": false, "score": 0, "creation_date": 1572280871, "post_id": 58593698, "comment_id": 103502765, "body": "@TommySM at the pubspec.yml"}], "tags": [], "owner": {"reputation": 1, "user_id": 8324396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41d0f4f00c10392a141ca32f617e0c55?s=128&d=identicon&r=PG&f=1", "display_name": "\u0410\u043d\u0442\u043e\u043d \u041a\u043e\u043d\u0434\u0440\u0430\u0442\u044e\u043a", "link": "https://stackoverflow.com/users/8324396/%d0%90%d0%bd%d1%82%d0%be%d0%bd-%d0%9a%d0%be%d0%bd%d0%b4%d1%80%d0%b0%d1%82%d1%8e%d0%ba"}, "is_accepted": false, "score": 0, "last_activity_date": 1572341786, "last_edit_date": 1572341786, "creation_date": 1572276258, "answer_id": 58593698, "question_id": 58593273, "link": "https://stackoverflow.com/questions/58593273/error-on-adding-image-downloader-to-flutter-app/58593698#58593698", "title": "Error on adding image downloader to flutter app", "body": "<p>Just add version to your library:</p>\n\n<blockquote>\n  <p>image_downloader: ^0.19.1</p>\n</blockquote>\n\n<p>Do it for all libraries in pubspec.yml file</p>\n"}, {"tags": [], "owner": {"reputation": 26, "user_id": 4988910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87c0bb426887fe1fd685bd138cbd340f?s=128&d=identicon&r=PG&f=1", "display_name": "R. drt", "link": "https://stackoverflow.com/users/4988910/r-drt"}, "is_accepted": false, "score": 0, "last_activity_date": 1572280970, "creation_date": 1572280970, "answer_id": 58594985, "question_id": 58593273, "link": "https://stackoverflow.com/questions/58593273/error-on-adding-image-downloader-to-flutter-app/58594985#58594985", "title": "Error on adding image downloader to flutter app", "body": "<p>Make sure you always get the version correct, as of now current version is:\nimage_downloader: ^0.19.1</p>\n\n<p>Also make sure you're adding to the right place on pubspec,\nshould be inside \"dependencies\" with the same indentation as \"flutter\".</p>\n"}], "owner": {"reputation": 270, "user_id": 11939257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fed73c4ddecc101f1d949de1fe1161a?s=128&d=identicon&r=PG&f=1", "display_name": "the coder", "link": "https://stackoverflow.com/users/11939257/the-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 170, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1572341786, "creation_date": 1572274696, "question_id": 58593273, "link": "https://stackoverflow.com/questions/58593273/error-on-adding-image-downloader-to-flutter-app", "title": "Error on adding image downloader to flutter app", "body": "<p>I've faced this issue when integrating the image_downloader plugin to the flutter app.</p>\n\n<p>I've integrated firebase storage also.</p>\n\n<p>Note:- The app works well with firebase storage befoe I've added image_downloader</p>\n\n<p>Error:</p>\n\n<pre><code>\n* Error running Gradle:\nProcessException: Process \"C:\\Users\\boood\\AndroidStudioProjects\\firebase_neten\\android\\gradlew.bat\" exited abnormally:\n\n&gt; Configure project :app\nregisterResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)\nregisterResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)\nregisterResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)\n         *********************************************************\nWARNING: This version of firebase_core will break your Android build if it or its dependencies aren't compatible with AndroidX.\n         See https://flutter.dev/docs/development/androidx-migration for more information on the problem and how to fix it.\n         This warning prints for all Android build failures. The real root cause of the error may be unrelated.\n         *********************************************************\n\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring project ':image_downloader'.\n&gt; Failed to notify project evaluation listener.\n   &gt; java.lang.AbstractMethodError (no error message)\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1s\n  Command: C:\\Users\\boood\\AndroidStudioProjects\\firebase_neten\\android\\gradlew.bat app:properties\n</code></pre>\n\n<p>My pubspec:</p>\n\n<pre><code>cupertino_icons: ^0.1.2\nimage_downloader:\nfirebase_storage:\nimage_picker:\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 1863, "user_id": 7865296, "user_type": "registered", "profile_image": "https://graph.facebook.com/1850278214998960/picture?type=large", "display_name": "Praneeth Dhanushka Fernando", "link": "https://stackoverflow.com/users/7865296/praneeth-dhanushka-fernando"}, "edited": false, "score": 1, "creation_date": 1572270634, "post_id": 58592117, "comment_id": 103497292, "body": "What is the error"}, {"owner": {"reputation": 971, "user_id": 12176146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i7saa6CD6nU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdnigVUDcRnIS2zpgJROryAZKe46w/photo.jpg?sz=128", "display_name": "raman raman", "link": "https://stackoverflow.com/users/12176146/raman-raman"}, "reply_to_user": {"reputation": 1863, "user_id": 7865296, "user_type": "registered", "profile_image": "https://graph.facebook.com/1850278214998960/picture?type=large", "display_name": "Praneeth Dhanushka Fernando", "link": "https://stackoverflow.com/users/7865296/praneeth-dhanushka-fernando"}, "edited": false, "score": 0, "creation_date": 1572271109, "post_id": 58592117, "comment_id": 103497526, "body": "underlined red errors appear from beginning to end of the page.Please paste this in your code editor for better understanding."}, {"owner": {"reputation": 603, "user_id": 6439785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H5XfF.jpg?s=128&g=1", "display_name": "Lekr0", "link": "https://stackoverflow.com/users/6439785/lekr0"}, "edited": false, "score": 1, "creation_date": 1572271214, "post_id": 58592117, "comment_id": 103497578, "body": "what error do you get when you try to run your app?"}], "answers": [{"tags": [], "owner": {"reputation": 1523, "user_id": 11932722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJyxo.png?s=128&g=1", "display_name": "drogel", "link": "https://stackoverflow.com/users/11932722/drogel"}, "is_accepted": true, "score": 1, "last_activity_date": 1572275925, "creation_date": 1572275925, "answer_id": 58593622, "question_id": 58592117, "link": "https://stackoverflow.com/questions/58592117/i-need-your-help-to-in-flutter-list-view-section/58593622#58593622", "title": "I need your help to in flutter list view section", "body": "<p>Consider changing your <code>Container</code>s with <code>ListTile</code>s, check out <a href=\"https://api.flutter.dev/flutter/material/ListTile-class.html\" rel=\"nofollow noreferrer\">the documentation on ListTile</a>. It has an <code>onTap</code> parameter that you can set in order to trigger a function when a <code>ListTile</code> is tapped, and it also has <code>leading</code>, <code>title</code>, and <code>subtitle</code> parameters, where you can pass the icons and titles you need.</p>\n\n<p>Another way of adding <code>onTap</code> detector to any widget is wrapping it with a <a href=\"https://api.flutter.dev/flutter/widgets/GestureDetector-class.html\" rel=\"nofollow noreferrer\">GestureDetector</a>, or an <a href=\"https://api.flutter.dev/flutter/material/InkWell-class.html\" rel=\"nofollow noreferrer\">InkWell</a>, which is basically a <code>GestureDetector</code> with animations and color effects, roughly speaking. Both <code>GestureDetector</code> and <code>InkWell</code> have <code>onTap</code> parameters that you can use to detect taps and trigger functions.</p>\n"}], "owner": {"reputation": 971, "user_id": 12176146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i7saa6CD6nU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdnigVUDcRnIS2zpgJROryAZKe46w/photo.jpg?sz=128", "display_name": "raman raman", "link": "https://stackoverflow.com/users/12176146/raman-raman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 58593622, "answer_count": 1, "score": 0, "last_activity_date": 1572275925, "creation_date": 1572270516, "last_edit_date": 1572275090, "question_id": 58592117, "link": "https://stackoverflow.com/questions/58592117/i-need-your-help-to-in-flutter-list-view-section", "title": "I need your help to in flutter list view section", "body": "<p>I have simplified this  question please have a look :---</p>\n\n<p>How can I add <strong>OnTap</strong> event,<strong>ICONS &amp; TITLES</strong> to below <strong>List view</strong> code </p>\n\n<pre><code>\nListView.builder(\n        padding: EdgeInsets.all(10.0),\n        shrinkWrap: false,\n        itemCount: 200,\n        itemBuilder: (BuildContext context, int index) {\n          return listItem(context, index);\n        },\n\nWidget listItem(BuildContext context, int index) {\n  return Card(\n  child: Row(\n    children: &lt;Widget&gt;[\n\n      Container(margin: EdgeInsets.all(10),child: Text(\"1\")),\n      Container(height: 20,width: 1,color: Colors.blue,),\n      Container(margin:EdgeInsets.all(10),child: Text(\"ram ram ram\"))\n    ],\n  ),\n);\n}\n\n\n</code></pre>\n"}, {"tags": ["image", "firebase", "flutter", "dart", "error-handling"], "comments": [{"owner": {"reputation": 214, "user_id": 9184784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/317922ece8f6a05b4c4e99aa047781a7?s=128&d=identicon&r=PG&f=1", "display_name": "tyb9900", "link": "https://stackoverflow.com/users/9184784/tyb9900"}, "edited": false, "score": 0, "creation_date": 1572267850, "post_id": 58591003, "comment_id": 103495891, "body": "Do you have <code>URL</code> in <code>carData[&#39;image&#39;]</code> ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12227098"}, "reply_to_user": {"reputation": 214, "user_id": 9184784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/317922ece8f6a05b4c4e99aa047781a7?s=128&d=identicon&r=PG&f=1", "display_name": "tyb9900", "link": "https://stackoverflow.com/users/9184784/tyb9900"}, "edited": false, "score": 0, "creation_date": 1572268557, "post_id": 58591003, "comment_id": 103496196, "body": "Not exactly a URL more like a path this is what gets passed into the firebase <code>&#39;image</code> data <code>&quot;File: &#39;&#47;storage&#47;emulated&#47;0&#47;Android&#47;data&#47;com.exa...&quot;</code>"}, {"owner": {"reputation": 2142, "user_id": 614659, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/3bac45fa9b4da356a1daf06690208ee6?s=128&d=identicon&r=PG", "display_name": "Logemann", "link": "https://stackoverflow.com/users/614659/logemann"}, "edited": false, "score": 0, "creation_date": 1572336890, "post_id": 58591003, "comment_id": 103518338, "body": "And you are sure this file in on the device at that place? First i dont know if Image.file() can handle the File:/ prefix, then i am quite sure you need android.permission.READ_EXTERNAL_STORAGE right. I dont think its a useful way to do it this way. Why not store it in Cloud Storage and save that download-URL in firebase? Took me 20 minutes to implement that. But the stack is not (yet) related to loading the image as it seems."}, {"owner": {"reputation": 2142, "user_id": 614659, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/3bac45fa9b4da356a1daf06690208ee6?s=128&d=identicon&r=PG", "display_name": "Logemann", "link": "https://stackoverflow.com/users/614659/logemann"}, "edited": false, "score": 0, "creation_date": 1572337626, "post_id": 58591003, "comment_id": 103518605, "body": "and i dont understand CarItem code block. Is this part of a build method of a stateless widget or what? Its funny how people paste in code with no relevance like all those attributes and stuff but leaving out the important part."}, {"owner": {"user_type": "does_not_exist", "display_name": "user12227098"}, "edited": false, "score": 0, "creation_date": 1572341033, "post_id": 58591003, "comment_id": 103520076, "body": "the CarItem is how the data is displayed in the app basically itll take the image and place it in the CarItem as  preview Image of the product"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12227098"}, "edited": false, "score": 0, "creation_date": 1572341297, "post_id": 58591003, "comment_id": 103520218, "body": "and onTap depending on the product id itll load the products data which explains the onTap arguments: id"}, {"owner": {"reputation": 2142, "user_id": 614659, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/3bac45fa9b4da356a1daf06690208ee6?s=128&d=identicon&r=PG", "display_name": "Logemann", "link": "https://stackoverflow.com/users/614659/logemann"}, "edited": false, "score": 0, "creation_date": 1572353250, "post_id": 58591003, "comment_id": 103526241, "body": "as long as you dont post the complete code to CarItem, its hard to comment further."}], "owner": {"user_type": "does_not_exist", "display_name": "user12227098"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572265947, "creation_date": 1572265947, "question_id": 58591003, "link": "https://stackoverflow.com/questions/58591003/error-fetching-image-file-data-from-firebase", "title": "Error fetching Image file data from Firebase", "body": "<p>I want to display an File image which a user selects from their gallery and can post it as a product Image. However ive been having all kinds of issues trying to display the image and nothing has worked! </p>\n\n<p>My latest update of code was changing the way I fetch the Image from firebase by doing this <code>image: File(carData['image']),</code> which in a way removed one of the errors I was getting due to the image not getting displayed but I got another error know which im having issues with solving and it gives me the following error in my stacktrace (After i refresh my app and try to fetch the data i submitted through a form):</p>\n\n<pre><code>\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550 Exception caught by widgets library \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nThe following NoSuchMethodError was thrown building CarItem(dirty, dependencies: [_LocalizationsScope-[GlobalKey#6c638], _InheritedTheme, MediaQuery]):\nThe method '+' was called on null.\nReceiver: null\nTried calling: +(\"58\")\n</code></pre>\n\n<p>Now whats really strange about this is the fact it didnt call my file at all. it skipped that step and due to it not finding an image it took the Value of the \"Price\" <code>textFormField</code> I have built in the app.</p>\n\n<p>Here is my fetch data using firebase:</p>\n\n<pre><code>Future&lt;void&gt; fetchAndSetCars() async {\n    const url = 'https://mylink.firebaseio.com/cars.json';\n    try {\n      final response = await http.get(url);\n      final extractedData = json.decode(response.body) as Map&lt;String, dynamic&gt;;\n      final List&lt;AddCar&gt; loadedCars = [];\n      extractedData.forEach((carId, carData) {\n        loadedCars.add(AddCar(\n          id: carId,\n          name: carData['name'],\n          city: carData['city'],\n          country: carData['country'],\n          currencyT: carData['currency'],\n          price: carData['price'],\n          // date: carData['date'],\n          sponsNum: carData['sponsNum'],\n          category: carData['category'],\n          company: carData['company'],\n          model: carData['model'],\n          year: carData['year'],\n          engine: carData['engine'],\n          distanceCovered: carData['distanceCovered'],\n          transmission: carData['transmission'],\n          oilT: carData['oil type'],\n          outColor: carData['outter color'],\n          inColor: carData['inner color'],\n          description: carData['description'],\n          address: carData['address'],\n          image: File(carData['image']),\n        ));\n      });\n      _cars = loadedCars;\n      notifyListeners();\n    } catch (error) {\n      throw (error);\n    }\n  }\n</code></pre>\n\n<p>Here is how im calling the data in a list that displays all the products:</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport 'package:google_fonts_arabic/fonts.dart';\n\nimport '../providers/car_provider.dart';\nimport '../widget/car_item.dart';\n\nclass CarsList extends StatefulWidget {\n  @override\n  _CarsListState createState() =&gt; _CarsListState();\n}\n\nclass _CarsListState extends State&lt;CarsList&gt; {\n    @override\n  void initState() {\n Future.delayed(Duration.zero).then((_) {\n  Provider.of&lt;Cars&gt;(context).fetchAndSetCars();\n });\n    super.initState();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    final carsData = Provider.of&lt;Cars&gt;(context);\n    final car = carsData.cars;\n    return car.isEmpty\n        ? Center(\n            child: Text(\n            'error no car found',\n            style: TextStyle(\n              fontFamily: ArabicFonts.Tajawal,\n              fontWeight: FontWeight.bold,\n              package: 'google_fonts_arabic',\n            ),\n          ))\n        : ListView.builder(\n            padding: const EdgeInsets.only(bottom: 47.0),\n            itemCount: car.length,\n            itemBuilder: (ctx, i) =&gt; CarItem(\n              car[i].id,\n              car[i].image,\n              car[i].name,\n              car[i].model,\n              car[i].currencyT,\n              car[i].price,\n              car[i].distanceCovered,\n              car[i].transmission,\n              car[i].oilT,\n              car[i].year,\n              car[i].date,\n            ),\n          );\n  }\n}\n\n</code></pre>\n\n<p>here is how I coded the image diplay in my CarItem:</p>\n\n<pre><code> final String id;\n  final File image;\n  final String name;\n  final String model;\n  final String currencyT;\n  final String price;\n  final double distanceCovered;\n  final String transmission;\n  final String oilT;\n  final String year;\n  final DateTime date;\n\n  CarItem(\n    this.id,\n    this.image,\n    this.name,\n    this.model,\n    this.currencyT,\n    this.price,\n    this.distanceCovered,\n    this.transmission,\n    this.oilT,\n    this.year,\n    this.date,\n  );\n\n Container(\n                width: MediaQuery.of(context).size.width * 0.35,\n                height: MediaQuery.of(context).size.width * 0.35,\n                child: GestureDetector(\n                  child: Image.file(\n                    image,\n                    fit: BoxFit.fill,\n                  ),\n                  onTap: () {\n                    Navigator.of(context).pushNamed(\n                      MyCarDetails.routeName,\n                      arguments: id,\n                    );\n                  },\n                ),\n              ),\n\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11574635, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4hK1BYIkQjk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc553-lLWY-nFvV-z187Le35nTpQQ/mo/photo.jpg?sz=128", "display_name": "Tudor G", "link": "https://stackoverflow.com/users/11574635/tudor-g"}, "edited": false, "score": 1, "creation_date": 1572272904, "post_id": 58591759, "comment_id": 103498474, "body": "I need to convert in base2 (binary) not in base64, but your method works. :)"}], "tags": [], "owner": {"reputation": 475, "user_id": 3929197, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/fk8xN.jpg?s=128&g=1", "display_name": "Mahmoud Sabri", "link": "https://stackoverflow.com/users/3929197/mahmoud-sabri"}, "is_accepted": false, "score": -1, "last_activity_date": 1572269086, "creation_date": 1572269086, "answer_id": 58591759, "question_id": 58590916, "link": "https://stackoverflow.com/questions/58590916/how-i-can-convert-an-image-from-gallery-or-camera-to-binary-string/58591759#58591759", "title": "How I can convert an image from gallery or camera to binary string?", "body": "<pre><code> var image = await ImagePicker.pickImage(source: ImageSource.camera);\n\n  File imageFile=image ;\n\n  List&lt;int&gt; imageBytes = imageFile.readAsBytesSync();\n\n  String base64Image = base64UrlEncode(imageBytes);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11574635, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4hK1BYIkQjk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc553-lLWY-nFvV-z187Le35nTpQQ/mo/photo.jpg?sz=128", "display_name": "Tudor G", "link": "https://stackoverflow.com/users/11574635/tudor-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1572270390, "creation_date": 1572265535, "last_edit_date": 1572270390, "question_id": 58590916, "link": "https://stackoverflow.com/questions/58590916/how-i-can-convert-an-image-from-gallery-or-camera-to-binary-string", "title": "How I can convert an image from gallery or camera to binary string?", "body": "<p>I used image_picker to choose an image from gallery or take a photo with camera and now I have to send it on request to backend as an array of bytes. My issue is that I don't know How I can encode the image. Can anyone tell me what I should use and how?</p>\n"}, {"tags": ["android", "android-studio", "flutter", "dart"], "comments": [{"owner": {"reputation": 603, "user_id": 6439785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H5XfF.jpg?s=128&g=1", "display_name": "Lekr0", "link": "https://stackoverflow.com/users/6439785/lekr0"}, "edited": false, "score": 0, "creation_date": 1572271870, "post_id": 58590265, "comment_id": 103497917, "body": "open the <i>android</i> folder which is located in your flutter project directory in android studio as a project, then try to run it. This will give you more understandable error. Post it."}], "answers": [{"tags": [], "owner": {"reputation": 7833, "user_id": 1079990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/roW20.png?s=128&g=1", "display_name": "hannes ach", "link": "https://stackoverflow.com/users/1079990/hannes-ach"}, "is_accepted": false, "score": 0, "last_activity_date": 1572263405, "creation_date": 1572263405, "answer_id": 58590427, "question_id": 58590265, "link": "https://stackoverflow.com/questions/58590265/flutter-gradle-build-failed-in-linux-after-androidx-migration/58590427#58590427", "title": "Flutter - Gradle build failed in Linux after AndroidX migration", "body": "<p>I'm only a Android developer, but <code>armeabi</code> was removed in the past.\nPlease give a filter-it-out a try by </p>\n\n<pre><code>defaultConfig {\n    ...\n    abiFilters \"x86\", \"armeabi-v7a\"\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 742, "user_id": 5482015, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7cb648811b013efb6e0c1492599f9711?s=128&d=identicon&r=PG&f=1", "display_name": "M20", "link": "https://stackoverflow.com/users/5482015/m20"}, "is_accepted": true, "score": 0, "last_activity_date": 1572340093, "creation_date": 1572340093, "answer_id": 58604239, "question_id": 58590265, "link": "https://stackoverflow.com/questions/58590265/flutter-gradle-build-failed-in-linux-after-androidx-migration/58604239#58604239", "title": "Flutter - Gradle build failed in Linux after AndroidX migration", "body": "<p>The problem was that I was using flavor dimensions. The problem is that in Linux, Flutter is only allowed to use lowercase letters to name the flavors. I changed the names of flavors from <code>myFlavor</code> to <code>myflavor</code> and added in the android section in <code>app/build.gradle</code> this:</p>\n\n<pre><code>applicationVariants.all { variant -&gt;\n    variant.outputs.all {\n        outputFileName = \"${project.archivesBaseName}-${variant.productFlavors.name.join()}-${variant.buildType.name}.apk\"\n    }\n}\n</code></pre>\n\n<p>and everythign worked fine in Linux.</p>\n"}], "owner": {"reputation": 742, "user_id": 5482015, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7cb648811b013efb6e0c1492599f9711?s=128&d=identicon&r=PG&f=1", "display_name": "M20", "link": "https://stackoverflow.com/users/5482015/m20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 58604239, "answer_count": 2, "score": 0, "last_activity_date": 1572340093, "creation_date": 1572262692, "question_id": 58590265, "link": "https://stackoverflow.com/questions/58590265/flutter-gradle-build-failed-in-linux-after-androidx-migration", "title": "Flutter - Gradle build failed in Linux after AndroidX migration", "body": "<p>I cannot run my project in my Linux machine (OpenSuse) after I migrated it to AndroidX, but the same project (with the same settings) works fine in Windows and Mac. They all use the same flutter channel and have the same versions. I tried everything, including cleaning and repairing packages, but nothing worked.</p>\n\n<p>This is the error when I run the project:</p>\n\n<pre><code>Note: Some input files use unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\nNote: /home/.pub-cache/hosted/pub.dartlang.org/url_launcher-5.2.1/android/src/main/java/io/flutter/plugins/urllauncher/WebViewActivity.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nFinished with error: Gradle build failed to produce an Android package.\n</code></pre>\n\n<p>and this is the error when I run <code>flutter run -v</code></p>\n\n<pre><code>.....\n[        ] &gt; Task :url_launcher:compileDebugNdk NO-SOURCE\n[        ] &gt; Task :url_launcher:mergeDebugJniLibFolders\n[        ] &gt; Task :url_launcher:transformNativeLibsWithMergeJniLibsForDebug\n[        ] &gt; Task :url_launcher:transformNativeLibsWithStripDebugSymbolForDebug\n[        ] &gt; Task :url_launcher:transformNativeLibsWithIntermediateJniLibsForDebug\n[+1295 ms] &gt; Task :app:transformNativeLibsWithMergeJniLibsForDevelopmentDebug\n[ +300 ms] &gt; Task :app:transformNativeLibsWithStripDebugSymbolForDevelopmentDebug\n[        ] Unable to strip library '/home/Projects/Flutter/App/flutter_app/build/app/intermediates/transforms/mergeJniLibs/development/debug/0/lib/armeabi/libcrashlytics.so' due to missing strip\ntool for ABI 'ARMEABI'. Packaging it as is.\n[        ] &gt; Task :app:processDevelopmentDebugJavaRes NO-SOURCE\n[ +499 ms] &gt; Task :app:transformResourcesWithMergeJavaResForDevelopmentDebug\n[+3600 ms] &gt; Task :app:packageDevelopmentDebug\n[        ] &gt; Task :app:assembleDevelopmentDebug\n[        ] 159 actionable tasks: 142 executed, 17 up-to-date\n[ +833 ms] Running Gradle task 'assembleDevelopmentDebug'... (completed in 32.8s)\n[  +20 ms] \"flutter run\" took 37,070ms.\nGradle build failed to produce an Android package.\n\n#0      throwToolExit (package:flutter_tools/src/base/common.dart:28:3)\n#1      _buildGradleProjectV2 (package:flutter_tools/src/android/gradle.dart:758:7)\n#2      _asyncThenWrapperHelper.&lt;anonymous closure&gt; (dart:async-patch/async_patch.dart:71:64)\n#3      _rootRunUnary (dart:async/zone.dart:1132:38)\n#4      _CustomZone.runUnary (dart:async/zone.dart:1029:19)\n#5      _FutureListener.handleValue (dart:async/future_impl.dart:137:18)\n#6      Future._propagateToListeners.handleValueCallback (dart:async/future_impl.dart:678:45)\n#7      Future._propagateToListeners (dart:async/future_impl.dart:707:32)\n#8      Future._completeWithValue (dart:async/future_impl.dart:522:5)\n#9      _AsyncAwaitCompleter.complete (dart:async-patch/async_patch.dart:30:15)\n#10     _completeOnAsyncReturn (dart:async-patch/async_patch.dart:288:13)\n#11     runCommandAndStreamOutput (package:flutter_tools/src/base/process.dart)\n#12     _asyncThenWrapperHelper.&lt;anonymous closure&gt; (dart:async-patch/async_patch.dart:71:64)\n#13     _rootRunUnary (dart:async/zone.dart:1132:38)\n#14     _CustomZone.runUnary (dart:async/zone.dart:1029:19)\n#15     _FutureListener.handleValue (dart:async/future_impl.dart:137:18)\n#16     Future._propagateToListeners.handleValueCallback (dart:async/future_impl.dart:678:45)\n#17     Future._propagateToListeners (dart:async/future_impl.dart:707:32)\n#18     Future._completeWithValue (dart:async/future_impl.dart:522:5)\n#19     Future._asyncComplete.&lt;anonymous closure&gt; (dart:async/future_impl.dart:552:7)\n#20     _rootRun (dart:async/zone.dart:1124:13)\n#21     _CustomZone.run (dart:async/zone.dart:1021:19)\n#22     _CustomZone.runGuarded (dart:async/zone.dart:923:7)\n#23     _CustomZone.bindCallbackGuarded.&lt;anonymous closure&gt; (dart:async/zone.dart:963:23)\n#24     _microtaskLoop (dart:async/schedule_microtask.dart:41:21)\n#25     _startMicrotaskLoop (dart:async/schedule_microtask.dart:50:5)\n#26     _runPendingImmediateCallback (dart:isolate-patch/isolate_patch.dart:116:13)\n#27     _RawReceivePortImpl._handleMessage (dart:isolate-patch/isolate_patch.dart:173:5)\n</code></pre>\n"}, {"tags": ["json", "flutter", "dart", "google-places-api", "json-deserialization"], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 10573031, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wxr04BG7mSE/AAAAAAAAAAI/AAAAAAAAAMw/uo-K-wWSpjY/photo.jpg?sz=128", "display_name": "Allen Andre Indefenzo", "link": "https://stackoverflow.com/users/10573031/allen-andre-indefenzo"}, "edited": false, "score": 0, "creation_date": 1572271821, "post_id": 58590754, "comment_id": 103497893, "body": "Oh my god! You are a god! Thank you so much! I wouldn&#39;t be able to figure it out without your help!"}], "tags": [], "owner": {"reputation": 3729, "user_id": 2903329, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/iyBvv.png?s=128&g=1", "display_name": "wildeyes", "link": "https://stackoverflow.com/users/2903329/wildeyes"}, "is_accepted": true, "score": 1, "last_activity_date": 1572264801, "creation_date": 1572264801, "answer_id": 58590754, "question_id": 58590049, "link": "https://stackoverflow.com/questions/58590049/unhandled-exception-nosuchmethoderror-the-method-map-was-called-on-null/58590754#58590754", "title": "Unhandled Exception: NoSuchMethodError: The method &#39;map&#39; was called on null", "body": "<p>I think you forgot the <code>.result</code> part, maybe it should be <code>parsedJson['result']['reviews']</code>?</p>\n"}], "owner": {"reputation": 161, "user_id": 10573031, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wxr04BG7mSE/AAAAAAAAAAI/AAAAAAAAAMw/uo-K-wWSpjY/photo.jpg?sz=128", "display_name": "Allen Andre Indefenzo", "link": "https://stackoverflow.com/users/10573031/allen-andre-indefenzo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1840, "favorite_count": 0, "accepted_answer_id": 58590754, "answer_count": 1, "score": 0, "last_activity_date": 1572264801, "creation_date": 1572261771, "question_id": 58590049, "link": "https://stackoverflow.com/questions/58590049/unhandled-exception-nosuchmethoderror-the-method-map-was-called-on-null", "title": "Unhandled Exception: NoSuchMethodError: The method &#39;map&#39; was called on null", "body": "<p>I'm trying to incorporate google maps and places api in my project. However I came to an error and i'm completely stuck. I'm fairly new when it comes to deserializing JSON objects so please bear with me. I have this placedetails.json</p>\n\n<pre><code>{\n   \"html_attributions\" : [],\n   \"result\" : {\n      \"formatted_address\" : \"198 J. Elizalde, Paranaque City, 1700 Metro Manila, Philippines\",\n      \"formatted_phone_number\" : \"(02) 8801 8553\",\n      \"name\" : \"The Diabetes Store\",\n      \"opening_hours\" : {\n         \"open_now\" : true,\n         \"periods\" : [\n            {\n               \"close\" : {\n                  \"day\" : 0,\n                  \"time\" : \"1800\"\n               },\n               \"open\" : {\n                  \"day\" : 0,\n                  \"time\" : \"0900\"\n               }\n            },\n            {\n               \"close\" : {\n                  \"day\" : 1,\n                  \"time\" : \"1800\"\n               },\n               \"open\" : {\n                  \"day\" : 1,\n                  \"time\" : \"0900\"\n               }\n            },\n            {\n               \"close\" : {\n                  \"day\" : 2,\n                  \"time\" : \"1800\"\n               },\n               \"open\" : {\n                  \"day\" : 2,\n                  \"time\" : \"0900\"\n               }\n            },\n            {\n               \"close\" : {\n                  \"day\" : 3,\n                  \"time\" : \"1800\"\n               },\n               \"open\" : {\n                  \"day\" : 3,\n                  \"time\" : \"0900\"\n               }\n            },\n            {\n               \"close\" : {\n                  \"day\" : 4,\n                  \"time\" : \"1800\"\n               },\n               \"open\" : {\n                  \"day\" : 4,\n                  \"time\" : \"0900\"\n               }\n            },\n            {\n               \"close\" : {\n                  \"day\" : 5,\n                  \"time\" : \"1800\"\n               },\n               \"open\" : {\n                  \"day\" : 5,\n                  \"time\" : \"0900\"\n               }\n            },\n            {\n               \"close\" : {\n                  \"day\" : 6,\n                  \"time\" : \"1800\"\n               },\n               \"open\" : {\n                  \"day\" : 6,\n                  \"time\" : \"0900\"\n               }\n            }\n         ],\n         \"weekday_text\" : [\n            \"Monday: 9:00 AM \u2013 6:00 PM\",\n            \"Tuesday: 9:00 AM \u2013 6:00 PM\",\n            \"Wednesday: 9:00 AM \u2013 6:00 PM\",\n            \"Thursday: 9:00 AM \u2013 6:00 PM\",\n            \"Friday: 9:00 AM \u2013 6:00 PM\",\n            \"Saturday: 9:00 AM \u2013 6:00 PM\",\n            \"Sunday: 9:00 AM \u2013 6:00 PM\"\n         ]\n      },\n      \"rating\" : 4.5,\n      \"reviews\" : [\n         {\n            \"author_name\" : \"Vaughne Ryan\",\n            \"author_url\" : \"https://www.google.com/maps/contrib/117052285220893351699/reviews\",\n            \"language\" : \"en\",\n            \"profile_photo_url\" : \"https://lh5.ggpht.com/-9lQYh-gblhc/AAAAAAAAAAI/AAAAAAAAAAA/SwueUQz5A68/s128-c0x00000000-cc-rp-mo-ba4/photo.jpg\",\n            \"rating\" : 3,\n            \"relative_time_description\" : \"a month ago\",\n            \"text\" : \"Nice store for those who doesn't like sweets.\",\n            \"time\" : 1568635688\n         },\n         {\n            \"author_name\" : \"Chrystal Marilag\",\n            \"author_url\" : \"https://www.google.com/maps/contrib/113429222554258141037/reviews\",\n            \"language\" : \"en\",\n            \"profile_photo_url\" : \"https://lh4.ggpht.com/-Z6mnd_RHJ6g/AAAAAAAAAAI/AAAAAAAAAAA/NqnSwwtCE0k/s128-c0x00000000-cc-rp-mo/photo.jpg\",\n            \"rating\" : 5,\n            \"relative_time_description\" : \"5 months ago\",\n            \"text\" : \"affordable meters and strips, and yummy food items! nutritionist on duty is very accommodating\",\n            \"time\" : 1559187949\n         },\n         {\n            \"author_name\" : \"april ladores\",\n            \"author_url\" : \"https://www.google.com/maps/contrib/107742505451701380528/reviews\",\n            \"language\" : \"en\",\n            \"profile_photo_url\" : \"https://lh5.ggpht.com/-SQkcRA8pmHE/AAAAAAAAAAI/AAAAAAAAAAA/v9D_QCobYoU/s128-c0x00000000-cc-rp-mo/photo.jpg\",\n            \"rating\" : 5,\n            \"relative_time_description\" : \"a year ago\",\n            \"text\" : \"They were very accomodating and nice.\",\n            \"time\" : 1518075466\n         },\n         {\n            \"author_name\" : \"Jane Po\",\n            \"author_url\" : \"https://www.google.com/maps/contrib/114853608333620212548/reviews\",\n            \"profile_photo_url\" : \"https://lh3.ggpht.com/-tXHMiwFmkEs/AAAAAAAAAAI/AAAAAAAAAAA/sb_1cmQmKEg/s128-c0x00000000-cc-rp-mo-ba2/photo.jpg\",\n            \"rating\" : 5,\n            \"relative_time_description\" : \"2 years ago\",\n            \"text\" : \"\",\n            \"time\" : 1504537287\n         }\n      ],\n      \"vicinity\" : \"198 J. Elizalde, Paranaque City\",\n      \"website\" : \"http://www.thediabetesstore.com.ph/\"\n   },\n   \"status\" : \"OK\"\n}\n\n</code></pre>\n\n<p>And I've created a placedetails_model.dart to put the info that I need in a datamodel which I defined here:</p>\n\n<pre><code>class PlaceDetails {\n  String address;\n  String phoneNumber;\n  String name;\n  OpeningHours openinghours;\n  double rating;\n  List&lt;Reviews&gt; reviews;\n  String vicinity;\n  String website;\n\n  PlaceDetails(\n      {this.address,\n      this.phoneNumber,\n      this.name,\n      this.openinghours,\n      this.rating,\n      this.reviews,\n      this.vicinity,\n      this.website});\n\n  factory PlaceDetails.fromJson(Map&lt;String, dynamic&gt; parsedJson) {\n    var list = parsedJson['reviews'] as List;\n    List&lt;Reviews&gt; reviews = list.map((i) =&gt; Reviews.fromJson(i)).toList();\n\n    return PlaceDetails(\n        address: parsedJson['formatted_address'],\n        name: parsedJson['name'],\n        openinghours: OpeningHours.fromJson(parsedJson['opening_hours']),\n        phoneNumber: parsedJson['formatted_phone_number'],\n        rating: parsedJson['rating'],\n        reviews: reviews,\n        vicinity: parsedJson['vicinity'],\n        website: parsedJson['website']);\n  }\n}\n\nclass OpeningHours {\n  bool opennow;\n  List&lt;String&gt; weekdayText;\n  OpeningHours({this.opennow, this.weekdayText});\n\n  factory OpeningHours.fromJson(Map&lt;String, dynamic&gt; parsedJson) {\n    return OpeningHours(\n        opennow: parsedJson['open_now'],\n        weekdayText: parsedJson['weekday_text']);\n  }\n}\n\nclass Reviews {\n  String authorname;\n  String authorurl;\n  String profilePhoto;\n  double rating;\n  String timedesc;\n  String text;\n\n  Reviews(\n      {this.authorname,\n      this.authorurl,\n      this.profilePhoto,\n      this.rating,\n      this.timedesc,\n      this.text});\n\n  factory Reviews.fromJson(Map&lt;String, dynamic&gt; parsedJson) {\n    return Reviews(\n      authorname: parsedJson['author_name'],\n      authorurl: parsedJson['author_url'],\n      profilePhoto: parsedJson['profile_photo_url'],\n      rating: parsedJson['rating'],\n      timedesc: parsedJson['relative_time_description'],\n      text: parsedJson['text'],\n    );\n  }\n}\n\n</code></pre>\n\n<p>For now, this is not from a live RESTAPI call, i'm locally loading this .json in here:</p>\n\n<pre><code>import 'dart:async' show Future;\nimport 'package:flutter/services.dart' show rootBundle;\nimport 'dart:convert';\nimport 'package:flutter_json/model/placedetails_model.dart';\n\nFuture&lt;String&gt; _loadPlaceDets() async {\n  return await rootBundle.loadString('assets/placedetails.json');\n}\n\n\nFuture loadPlaceDetails() async {\n  String jsonPlace = await _loadPlaceDets();\n  final jsonResponse = json.decode(jsonPlace);\n  PlaceDetails place = new PlaceDetails.fromJson(jsonResponse);\n  print(place);\n}\n</code></pre>\n\n<p>My reason as to why I'm printing the place to see if there is already an \"Instance of PlaceDetails\". However I am getting this error: \"Unhandled Exception: NoSuchMethodError: The method 'map' was called on null.\" Someone please help and I would really appreciate an explanation as to why my code didn't work.. Thanks so much!</p>\n\n<p>Here is what my Debug Console says:</p>\n\n<pre><code>E/flutter ( 5354): [ERROR:flutter/lib/ui/ui_dart_state.cc(148)] Unhandled Exception: NoSuchMethodError: The method 'map' was called on null.\nE/flutter ( 5354): Receiver: null\nE/flutter ( 5354): Tried calling: map&lt;Reviews&gt;(Closure: (dynamic) =&gt; Reviews)\nE/flutter ( 5354): #0      Object.noSuchMethod  (dart:core-patch/object_patch.dart:51:5)\nE/flutter ( 5354): #1      new PlaceDetails.fromJson \npackage:flutter_json/model/placedetails_model.dart:23\nE/flutter ( 5354): #2      loadPlaceDetails \npackage:flutter_json/services/placedetails_services.dart:14\nE/flutter ( 5354): &lt;asynchronous suspension&gt;\nE/flutter ( 5354): #3      main \npackage:flutter_json/main.dart:21\nE/flutter ( 5354): #4      _runMainZoned.&lt;anonymous closure&gt;.&lt;anonymous closure&gt;  (dart:ui/hooks.dart:229:25)\nE/flutter ( 5354): #5      _rootRun  (dart:async/zone.dart:1124:13)\nE/flutter ( 5354): #6      _CustomZone.run  (dart:async/zone.dart:1021:19)\nE/flutter ( 5354): #7      _runZoned  (dart:async/zone.dart:1516:10)\nE/flutter ( 5354): #8      runZoned  (dart:async/zone.dart:1500:12)\n\n</code></pre>\n"}, {"tags": ["android", "flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 12141965, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IVuMnr5Undo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcjk0a-uVI7eQfENE-2muF874MxNg/photo.jpg?sz=128", "display_name": "Flacon", "link": "https://stackoverflow.com/users/12141965/flacon"}, "edited": false, "score": 0, "creation_date": 1572262939, "post_id": 58590139, "comment_id": 103493582, "body": "Thanks for ur fast help. I removed the initiState() method and set the this.floatingActonButton in the didChangeDependencies(). But still, it changes the icon only changes after I switched screens and come back :("}, {"owner": {"reputation": 2142, "user_id": 614659, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/3bac45fa9b4da356a1daf06690208ee6?s=128&d=identicon&r=PG", "display_name": "Logemann", "link": "https://stackoverflow.com/users/614659/logemann"}, "edited": false, "score": 0, "creation_date": 1572277439, "post_id": 58590139, "comment_id": 103500976, "body": "did you try creating a new FAB instead of reusing the old one? like floatingActionButton: getFloatingActionButton()"}], "tags": [], "owner": {"reputation": 1523, "user_id": 11932722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJyxo.png?s=128&g=1", "display_name": "drogel", "link": "https://stackoverflow.com/users/11932722/drogel"}, "is_accepted": true, "score": 1, "last_activity_date": 1572262115, "creation_date": 1572262115, "answer_id": 58590139, "question_id": 58589940, "link": "https://stackoverflow.com/questions/58589940/flutter-how-to-change-the-floatingactionbutton-icon-in-the-bottomnavbar-when-pr/58590139#58590139", "title": "Flutter: How to change the FloatingactionButton icon in the BottomNavBar when pressed?", "body": "<p>You are changing the icon in the state and using <code>setState()</code> for it, and that is fine, but notice that <code>setState()</code> is rebuilding your widget tree with a <code>Scaffold</code> whose <code>floatingActionButton</code> parameter is <code>floatingActionButton: this.floatingActionButton</code>, and you are setting your <code>this.floatingActionButton</code> in the <code>initState()</code> method, that will be called only once (whenever the whole Widget is instantiated). Since that <code>this.floatingActionButton</code> is only being instantiated once with the initial icon, the rebuild triggered by <code>setState()</code> does not render the FAB with the new icon.</p>\n\n<p>Try setting your <code>this.floatingActionButton</code> in <code>didChangeDependencies()</code> instead of <code>initState()</code>, since, according to the <a href=\"https://api.flutter.dev/flutter/widgets/SingleTickerProviderStateMixin/didChangeDependencies.html\" rel=\"nofollow noreferrer\">flutter.dev documentation article on didChangeDependecies</a>, it will be </p>\n\n<blockquote>\n  <p>Called when a dependency of this State object changes.</p>\n</blockquote>\n"}], "owner": {"reputation": 13, "user_id": 12141965, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IVuMnr5Undo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcjk0a-uVI7eQfENE-2muF874MxNg/photo.jpg?sz=128", "display_name": "Flacon", "link": "https://stackoverflow.com/users/12141965/flacon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1299, "favorite_count": 0, "accepted_answer_id": 58590139, "answer_count": 1, "score": 0, "last_activity_date": 1572282529, "creation_date": 1572261248, "last_edit_date": 1572282529, "question_id": 58589940, "link": "https://stackoverflow.com/questions/58589940/flutter-how-to-change-the-floatingactionbutton-icon-in-the-bottomnavbar-when-pr", "title": "Flutter: How to change the FloatingactionButton icon in the BottomNavBar when pressed?", "body": "<p>I'm trying to change the icon of the FloatingActionButton() in the bottom navigation bar when clicked. It works fine but only when I leave the screen and come back? Does anyone know what's wrong? Setstate in the changeIcon() is called which should force a rerendering, or am I wrong?</p>\n\n<p>I would really appreciate some help :) </p>\n\n<p>Edit:\nIt doesnt even work if I put in the if <code>this.pressed</code> bool statement as child. The state of the <code>this.pressed</code> flag is changed from false to true (printed the state) but even this does not lead the button to change its icon.</p>\n\n<pre><code>     return FloatingActionButton(\n            child: this.pressed ? Icon(Icons.people) : Icon(Icons.close),\n            onPressed: () {\n              changeIcon();\n            }); \n</code></pre>\n\n<p>The code is attached here:</p>\n\n<pre><code>class HomeState extends State&lt;Home&gt; {\n  MapRadials buttonProvider;\n  Icon fabIcon = Icon(Icons.perm_media);\n  FloatingActionButton floatingActionButton;\n  int _currentIndex = 0;\n  List&lt;Widget&gt; _screens = [\n    FeedScreen(),\n    MapScreen(),\n    MapScreen(),\n    NotificationScreen(),\n    ChatScreen(),\n  ];\n\n  @override\n  void initState() {\n    super.initState();\n    floatingActionButton = FloatingActionButton(\n      onPressed: () {},\n      child: fabIcon,\n    );\n  }\n\n  void changeIcon(Icon icon) {\n    setState(() {\n      fabIcon = icon;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    final MapRadials radialProvider = Provider.of&lt;MapRadials&gt;(context);\n    this.buttonProvider = radialProvider;\n\n    return Scaffold(\n      appBar: AppBar(\n        backgroundColor: Colors.white,\n        leading: IconButton(\n          icon: Icon(\n            Icons.menu,\n            size: 30.0,\n            color: Colors.black,\n          ),\n          onPressed: () {},\n        ),\n        actions: &lt;Widget&gt;[\n          Row(\n            mainAxisAlignment: MainAxisAlignment.spaceBetween,\n            children: &lt;Widget&gt;[\n              Row(\n                children: &lt;Widget&gt;[\n                  IconButton(\n                    icon: Icon(\n                      Icons.filter_list,\n                      size: 30.0,\n                      color: Colors.black,\n                    ),\n                    onPressed: () {},\n                  ),\n                  IconButton(\n                    icon: Icon(\n                      Icons.search,\n                      size: 30.0,\n                      color: Colors.black,\n                    ),\n                    onPressed: () {},\n                  ),\n                ],\n              )\n            ],\n          )\n        ],\n      ),\n      bottomNavigationBar: bottomNavBar(),\n      floatingActionButton: this.floatingActionButton,\n      floatingActionButtonLocation: FloatingActionButtonLocation.centerDocked,\n      body: _screens[_currentIndex],\n    );\n  }\n\n  void onTabTapped(int index) {\n    setState(() {\n      if (index != 2) {\n        _currentIndex = index;\n        floatingActionButton = getFloatingActionButton(index);\n      }\n    });\n  }\n\n  Widget getFloatingActionButton(int index) {\n    switch (index) {\n      case 0: // Home\n        return FloatingActionButton(child: Icon(Icons.add), onPressed: () {});\n      case 1: // Map\n        return FloatingActionButton(\n            child: fabIcon,\n            onPressed: () {\n              changeIcon(Icon(Icons.save));\n            });\n      case 2: // Notification\n        return FloatingActionButton(\n            child: Icon(Icons.clear_all), onPressed: () {});\n      case 3: // Chat\n        return FloatingActionButton(\n            child: Icon(Icons.add_comment), onPressed: () {});\n      default:\n        return FloatingActionButton(child: Icon(Icons.add), onPressed: () {});\n    }\n  }\n\n  Widget bottomNavBar() {\n    return BottomNavigationBar(\n      type: BottomNavigationBarType.fixed,\n      onTap: onTabTapped,\n      currentIndex: _currentIndex,\n      showSelectedLabels: false,\n      showUnselectedLabels: false,\n      items: [\n        BottomNavigationBarItem(\n          icon: Icon(\n            Icons.home,\n            color: Colors.black,\n          ),\n          title: Text('Feed'),\n        ),\n        BottomNavigationBarItem(\n            icon: Icon(\n              Icons.person_pin_circle,\n              color: Colors.black,\n            ),\n            title: Text('Map')),\n        BottomNavigationBarItem(\n            icon: Icon(\n              null,\n            ),\n            title: Text('Placeholder')),\n        BottomNavigationBarItem(\n          icon: Icon(\n            Icons.notifications,\n            color: Colors.black,\n          ),\n          title: Text('Noftications'),\n        ),\n        BottomNavigationBarItem(\n            icon: Icon(\n              Icons.chat_bubble,\n              color: Colors.black,\n            ),\n            title: Text('Chat'))\n      ],\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["android", "flutter", "dart", "android-webview"], "comments": [{"owner": {"reputation": 3729, "user_id": 2903329, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/iyBvv.png?s=128&g=1", "display_name": "wildeyes", "link": "https://stackoverflow.com/users/2903329/wildeyes"}, "edited": false, "score": 0, "creation_date": 1572265461, "post_id": 58589534, "comment_id": 103494788, "body": "video on page is controlled by the page, so if there&#39;s no option, perhaps there&#39;s no option at all. Check whether you&#39;re seeing a fullscreen button via your mobile browser."}, {"owner": {"reputation": 217, "user_id": 6942599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3417465d468f11869df25f43f142d5a?s=128&d=identicon&r=PG&f=1", "display_name": "Captivity", "link": "https://stackoverflow.com/users/6942599/captivity"}, "reply_to_user": {"reputation": 3729, "user_id": 2903329, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/iyBvv.png?s=128&g=1", "display_name": "wildeyes", "link": "https://stackoverflow.com/users/2903329/wildeyes"}, "edited": false, "score": 0, "creation_date": 1572274109, "post_id": 58589534, "comment_id": 103499138, "body": "Of course it works well in the browser - there is a full screen option."}], "answers": [{"tags": [], "owner": {"reputation": 1475, "user_id": 4637638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/keQOA.jpg?s=128&g=1", "display_name": "Lorenzo Pichilli", "link": "https://stackoverflow.com/users/4637638/lorenzo-pichilli"}, "is_accepted": false, "score": 3, "last_activity_date": 1575045064, "last_edit_date": 1575045064, "creation_date": 1574893915, "answer_id": 59079330, "question_id": 58589534, "link": "https://stackoverflow.com/questions/58589534/flutter-webview-plugin-i-cant-enable-full-screen-with-video/59079330#59079330", "title": "Flutter - Webview_plugin - I can&#39;t enable full screen with video", "body": "<p>You can try my plugin <a href=\"https://github.com/pichillilorenzo/flutter_inappbrowser\" rel=\"nofollow noreferrer\">flutter_inappbrowser</a> (<strong>EDIT</strong>: it has been renamed to <a href=\"https://github.com/pichillilorenzo/flutter_inappwebview\" rel=\"nofollow noreferrer\">flutter_inappwebview</a>).</p>\n\n<p>An example with a youtube video is presented below:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>...\n\nchild: InAppWebView(\n  initialUrl: \"https://www.youtube.com/watch?v=sPW7nDBqt8w\",\n  initialHeaders: {},\n  initialOptions: InAppWebViewWidgetOptions(\n      inAppWebViewOptions: InAppWebViewOptions(\n        debuggingEnabled: true,\n      )\n  ),\n  onWebViewCreated: (InAppWebViewController controller) {\n    webView = controller;\n  },\n  onLoadStart: (InAppWebViewController controller, String url) {\n\n  },\n  onLoadStop: (InAppWebViewController controller, String url) {\n\n  },\n),\n\n...\n</code></pre>\n"}], "owner": {"reputation": 217, "user_id": 6942599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3417465d468f11869df25f43f142d5a?s=128&d=identicon&r=PG&f=1", "display_name": "Captivity", "link": "https://stackoverflow.com/users/6942599/captivity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2793, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1599482912, "creation_date": 1572259656, "last_edit_date": 1572260108, "question_id": 58589534, "link": "https://stackoverflow.com/questions/58589534/flutter-webview-plugin-i-cant-enable-full-screen-with-video", "title": "Flutter - Webview_plugin - I can&#39;t enable full screen with video", "body": "<p>I use a flutter_webview_plugin to display the web page in the application, but when there is a video on the page there is no option to enable the full screen. Does anyone know how to solve this problem?\nMaybe some other plugin to display the page in the application?</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:flutter_webview_plugin/flutter_webview_plugin.dart';\n\nString url = \"https://youtube.com/\";\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Webview Example',\n      theme: ThemeData.dark(),\n      routes: {\n        \"/\": (_) =&gt; Home(),\n        \"/webview\": (_) =&gt; WebviewScaffold(\n          url: url,\n          appBar: AppBar(\n            title: Text(\"WebView\"),\n          ),\n          withJavascript: true,\n          withLocalStorage: true,\n          withZoom: true,\n        )\n      },\n    );\n  }\n}\n\n//Rest of the code\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n        appBar: AppBar(\n          title: Text(\"WebView\"),\n        ),\n        body: Center(\n          child: Column(\n            children: &lt;Widget&gt;[\n              Container(\n                padding: EdgeInsets.all(10.0),\n                child: TextField(\n                  controller: controller,\n                ),\n              ),\n              RaisedButton(\n                child: Text(\"Open Webview\"),\n                onPressed: () {\n                  Navigator.of(context).pushNamed(\"/webview\");\n                },\n              )\n            ],\n          ),\n        )\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["asynchronous", "dart", "yield"], "answers": [{"comments": [{"owner": {"reputation": 616, "user_id": 3464741, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/3icQS.jpg?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/3464741/michael"}, "edited": false, "score": 0, "creation_date": 1572265259, "post_id": 58590298, "comment_id": 103494690, "body": "Good idea. But in those cases when streaming is to be a replacement of inifinite recursion the return type Iterable&lt;int&gt; is not a generally acceptable solution. And this solution sometimes is inefficient in the sense that creating a collection is not always necessary."}, {"owner": {"reputation": 11572, "user_id": 1953515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b08d90afd96271299a4dc0fcf672f2?s=128&d=identicon&r=PG", "display_name": "julemand101", "link": "https://stackoverflow.com/users/1953515/julemand101"}, "reply_to_user": {"reputation": 616, "user_id": 3464741, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/3icQS.jpg?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/3464741/michael"}, "edited": false, "score": 0, "creation_date": 1572267153, "post_id": 58590298, "comment_id": 103495557, "body": "Iterable&lt;int&gt; is lazy evaluated and is therefore not a collection type (so the rec method is stopped until a value are requested). To make it a collection you can run &quot;.toList()&quot; on the Iterable. But it is completely valid to just use some of the values returned and ignore/cancel the rest."}], "tags": [], "owner": {"reputation": 11572, "user_id": 1953515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b08d90afd96271299a4dc0fcf672f2?s=128&d=identicon&r=PG", "display_name": "julemand101", "link": "https://stackoverflow.com/users/1953515/julemand101"}, "is_accepted": true, "score": 1, "last_activity_date": 1572262864, "creation_date": 1572262864, "answer_id": 58590298, "question_id": 58589432, "link": "https://stackoverflow.com/questions/58589432/slow-asynchronous-recursion-in-the-dart-language/58590298#58590298", "title": "Slow asynchronous recursion in the dart language", "body": "<p>Sounds like the following issue which has a long history. I recommend you to read the thread since I don't think I can make a resume here which would make it justice: <a href=\"https://github.com/dart-lang/sdk/issues/29189\" rel=\"nofollow noreferrer\">https://github.com/dart-lang/sdk/issues/29189</a></p>\n\n<p>I want to add that you example can also be written using sync* which are much faster but is of course not async:</p>\n\n<pre><code>Iterable&lt;int&gt; rec(int z) sync* {\n  yield z;\n  if (z &gt; 0) yield* rec(z - 1);\n}\n\nvoid main() {\n  final stream = rec(10000);\n  stream.forEach((int x) {\n    if (x % 1000 == 0) print(x);\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 616, "user_id": 3464741, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/3icQS.jpg?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/3464741/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 58590298, "answer_count": 1, "score": 0, "last_activity_date": 1572262864, "creation_date": 1572259161, "last_edit_date": 1572261625, "question_id": 58589432, "link": "https://stackoverflow.com/questions/58589432/slow-asynchronous-recursion-in-the-dart-language", "title": "Slow asynchronous recursion in the dart language", "body": "<p>I found asynchronous recursion in the dart language seems to be incredibly slow in the following code sample and I'd like to know why.  </p>\n\n<pre><code>import \"dart:async\";\n\nStream&lt;int&gt; rec(int z) async* {\n  yield z;\n  if (z &gt; 0) yield* rec(z - 1);\n}\n\nvoid main() {\n  Stream&lt;int&gt; stream = rec(10000);\n  stream.listen((int x) {\n    if (x % 1000 == 0) print(x);\n  });\n}\n</code></pre>\n\n<p>I'm testing this on the dart vm, so I can't believe that there is a timer involved as it is likely to be in a js vm in the browser. </p>\n\n<p>If yield * were efficient enough I think it could serve as a replacement for trampolining a recursive function to avoid stack size limitation, too.</p>\n"}, {"tags": ["list", "dictionary", "dart"], "comments": [{"owner": {"reputation": 3671, "user_id": 8745788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTs7z.png?s=128&g=1", "display_name": "Mattia", "link": "https://stackoverflow.com/users/8745788/mattia"}, "edited": false, "score": 0, "creation_date": 1572298263, "post_id": 58588647, "comment_id": 103509850, "body": "If you want to use an assert you must loop through all the map values, ie: <code>assert(map.values.every((e) =&gt; e.length == 4));</code>, but there is really no reason to do so instead of creating a class that will accept only 4 values."}], "answers": [{"comments": [{"owner": {"reputation": 7338, "user_id": 1860540, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/509a82813b73b7b673891fb909d2dde6?s=128&d=identicon&r=PG", "display_name": "Eliya Cohen", "link": "https://stackoverflow.com/users/1860540/eliya-cohen"}, "edited": false, "score": 0, "creation_date": 1572265498, "post_id": 58590107, "comment_id": 103494804, "body": "There&#39;s a way of doing so using assertions AFAIK"}, {"owner": {"reputation": 11572, "user_id": 1953515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b08d90afd96271299a4dc0fcf672f2?s=128&d=identicon&r=PG", "display_name": "julemand101", "link": "https://stackoverflow.com/users/1953515/julemand101"}, "reply_to_user": {"reputation": 7338, "user_id": 1860540, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/509a82813b73b7b673891fb909d2dde6?s=128&d=identicon&r=PG", "display_name": "Eliya Cohen", "link": "https://stackoverflow.com/users/1860540/eliya-cohen"}, "edited": false, "score": 0, "creation_date": 1572266950, "post_id": 58590107, "comment_id": 103495467, "body": "Note that assertions are not enabled in production mode: <a href=\"https://dart.dev/guides/language/language-tour#assert\" rel=\"nofollow noreferrer\">dart.dev/guides/language/language-tour#assert</a>"}], "tags": [], "owner": {"reputation": 11572, "user_id": 1953515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b08d90afd96271299a4dc0fcf672f2?s=128&d=identicon&r=PG", "display_name": "julemand101", "link": "https://stackoverflow.com/users/1953515/julemand101"}, "is_accepted": false, "score": 0, "last_activity_date": 1572261993, "creation_date": 1572261993, "answer_id": 58590107, "question_id": 58588647, "link": "https://stackoverflow.com/questions/58588647/how-to-accept-a-list-based-on-4-cells-of-double-in-dart/58590107#58590107", "title": "How to accept a list based on 4 cells of double in dart?", "body": "<p>The length of a list is not part of a type in Dart and there are therefore no way to enforce the number of items in a list by using types. Instead I recommend you make a class which contains the four values which can then ensure the number of elements are correct. It will also improve the readability of your code since you make it easier to understand the reason for the four values.</p>\n"}], "owner": {"reputation": 7338, "user_id": 1860540, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/509a82813b73b7b673891fb909d2dde6?s=128&d=identicon&r=PG", "display_name": "Eliya Cohen", "link": "https://stackoverflow.com/users/1860540/eliya-cohen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572261993, "creation_date": 1572255829, "question_id": 58588647, "link": "https://stackoverflow.com/questions/58588647/how-to-accept-a-list-based-on-4-cells-of-double-in-dart", "title": "How to accept a list based on 4 cells of double in dart?", "body": "<p>I have the following object:</p>\n\n<pre><code>const coordinates = {\n  'one': [10, 15, 30, 40],\n  'two': [60, 85, 100, 120],\n  ...\n}\n</code></pre>\n\n<p>As you can see, <code>coordinates</code> is a map that has a key of <code>String</code> and a value of a list that is based on 4 cells of double.</p>\n\n<p>I could tell Dart that <code>coordinates</code> is a type of :</p>\n\n<pre><code>Map&lt;String, List&lt;double&gt;&gt; coordinates = {...}\n</code></pre>\n\n<p>But Dart won't enforce that each list in the map will have 4 cells? I'm assuming it can be achieved by doing <code>assert</code>, but I'm not sure how the syntax works inside map.</p>\n"}, {"tags": ["flutter", "dart", "flutter-layout", "trailing", "flutter-widget"], "answers": [{"tags": [], "owner": {"reputation": 1523, "user_id": 11932722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJyxo.png?s=128&g=1", "display_name": "drogel", "link": "https://stackoverflow.com/users/11932722/drogel"}, "is_accepted": true, "score": 0, "last_activity_date": 1572256311, "creation_date": 1572256311, "answer_id": 58588753, "question_id": 58588527, "link": "https://stackoverflow.com/questions/58588527/how-can-i-add-morethen-2-buttons-and-1-text-inside-the-trailing-property-in-flut/58588753#58588753", "title": "How can i Add morethen 2 Buttons and 1 text inside the trailing Property in flutter", "body": "<p>That is because your <code>Column</code> is taller than <code>ListTile</code>'s height, and therefore, your <code>IconButton</code> is being clipped by <code>ListTile</code>. There are two options that come to my mind:</p>\n\n<ul>\n<li>If your <code>Column</code> is small enough, try setting the <code>isThreeLine</code> property of your <code>ListTile</code> to true, that will make <code>ListTile</code> a little taller, and it might be just what you need.</li>\n<li>A better, more general approach, would be to make your own <code>ListTile</code> by composing <code>Column</code>s and <code>Row</code>s. It is not hard to do really. Keep in mind that <code>ListTile</code> is intended for very specific cases. As the <a href=\"https://api.flutter.dev/flutter/material/ListTile-class.html\" rel=\"nofollow noreferrer\">ListTile class documentation</a> states:</li>\n</ul>\n\n<blockquote>\n  <p>If the way ListTile pads and positions its elements isn't quite what you're looking for, it's easy to create custom list items with a combination of other widgets, such as Rows and Columns.</p>\n</blockquote>\n\n<p>Check the sample app from the documentation, this is the result it generates.</p>\n\n<p><a href=\"https://i.stack.imgur.com/sjTql.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sjTql.png\" alt=\"enter image description here\"></a></p>\n\n<p>It might be a good starting point for what you need.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 5151198, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SV5wVvGjYis/AAAAAAAAAAI/AAAAAAAAALc/w1UGZFuDJ6I/photo.jpg?sz=128", "display_name": "Dilanka Fernando", "link": "https://stackoverflow.com/users/5151198/dilanka-fernando"}, "is_accepted": false, "score": 0, "last_activity_date": 1591311131, "creation_date": 1591311131, "answer_id": 62205447, "question_id": 58588527, "link": "https://stackoverflow.com/questions/58588527/how-can-i-add-morethen-2-buttons-and-1-text-inside-the-trailing-property-in-flut/62205447#62205447", "title": "How can i Add morethen 2 Buttons and 1 text inside the trailing Property in flutter", "body": "<p>use Row instead of Column.</p>\n\n<pre><code> trailing: Row(\n     mainAxisSize: MainAxisSize.min,\n     children: ...\n   )\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 12218899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ad7e16f8b706f4ba505b3eb5dfb392e?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Nusky", "link": "https://stackoverflow.com/users/12218899/mohamed-nusky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 683, "favorite_count": 0, "accepted_answer_id": 58588753, "answer_count": 2, "score": 0, "last_activity_date": 1591311131, "creation_date": 1572255293, "question_id": 58588527, "link": "https://stackoverflow.com/questions/58588527/how-can-i-add-morethen-2-buttons-and-1-text-inside-the-trailing-property-in-flut", "title": "How can i Add morethen 2 Buttons and 1 text inside the trailing Property in flutter", "body": "<p>I Want to create a product cart list in my app. so I used Card Widget and Inside of it used a ListTile widget. Inside the listTile i used trailing property to create a Column to add 2 buttons and a Number, when i create those things its shows a layout error that <strong>BOTTOM OVERFLOWED BY 55 PIXEL</strong>.</p>\n\n<p>Here are the codes</p>\n\n<pre><code>  @override\n  _NewTestState createState() =&gt; _NewTestState();\n}\n\nclass _NewTestState extends State&lt;NewTest&gt; {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n        appBar: new AppBar(\n          title: new Text(\"data\"),\n        ),\n        body: new Card(\n          child: new ListTile(\n            leading: new FlutterLogo(\n              size: 50.0,\n            ),\n            title: new Text(\"Title\"),\n            subtitle: new Text(\"subtitle\"),\n            trailing: new Column(\n              children: &lt;Widget&gt;[\n                new IconButton(\n                  icon: Icon(Icons.arrow_drop_up),\n                  onPressed: () {},\n                ),\n                new Text(\"1\"),\n                new IconButton(\n                  icon: Icon(Icons.arrow_drop_down),\n                  onPressed: () {},\n                ),\n              ],\n            ),\n          ),\n        ));\n  }\n}\n</code></pre>\n\n<p>Please help me with this...</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 304, "user_id": 12163757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pWW0A.jpg?s=128&g=1", "display_name": "Z. Cajurao", "link": "https://stackoverflow.com/users/12163757/z-cajurao"}, "is_accepted": false, "score": 0, "last_activity_date": 1572254067, "creation_date": 1572254067, "answer_id": 58588258, "question_id": 58587737, "link": "https://stackoverflow.com/questions/58587737/how-can-i-send-file-with-api-post-method/58588258#58588258", "title": "how can i send file with api post method?", "body": "<p>convert it to base64 first and insert it to the database. That's how I did it when we developed an app that pass a file to the database.</p>\n"}, {"tags": [], "owner": {"reputation": 106, "user_id": 12083662, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAywYVUP5lzRAQBvf71oUJ6k0VJy1mMJLzAHrEZLw=k-s128", "display_name": "masum billah sanjid", "link": "https://stackoverflow.com/users/12083662/masum-billah-sanjid"}, "is_accepted": false, "score": 0, "last_activity_date": 1572257720, "creation_date": 1572257720, "answer_id": 58589077, "question_id": 58587737, "link": "https://stackoverflow.com/questions/58587737/how-can-i-send-file-with-api-post-method/58589077#58589077", "title": "how can i send file with api post method?", "body": "<p>i solve my problem with dio, :(\nif anyone face then use dio </p>\n\n<pre><code> uploadFile() async {\nFormData formData = new FormData.fromMap({\n  'employee_id':\n  '546546',\n  'receiver_id': '${recid.text}',\n  'subject': '${subject.text}',\n  'message_body': '${msgbody.text}',\n  'message_attachment': filePath ==null? 'nothing': await \n MultipartFile.fromFile(\"${filePath}\",filename: \"$filePath}\"),\n});\n\n\n Response response = await Dio().post(\"example.com\", data: formData);\n print(response);\n}\n</code></pre>\n"}], "owner": {"reputation": 106, "user_id": 12083662, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAywYVUP5lzRAQBvf71oUJ6k0VJy1mMJLzAHrEZLw=k-s128", "display_name": "masum billah sanjid", "link": "https://stackoverflow.com/users/12083662/masum-billah-sanjid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1572257720, "creation_date": 1572251705, "question_id": 58587737, "link": "https://stackoverflow.com/questions/58587737/how-can-i-send-file-with-api-post-method", "title": "how can i send file with api post method?", "body": "<p>Here is my post method , i can send anything with text format but i need to send a file.</p>\n\n<p>if you can, modify just my code. that is easy for catch problem, thanks</p>\n\n<pre><code>getComp() async {\n\n\nfinal Map&lt;String, dynamic&gt; jsondata = {\n  'employee_id':\n      '${ScopedModel.of&lt;AppModel&gt;(context, rebuildOnChange: true).employee_id}',\n  'receiver_id': '${recid.text}',\n  'subject': '${subject.text}',\n  'message_body': '${msgbody.text}',\n  'message_attachment':'${filePath}'\n};\nvar jsonresponse = null;\nvar response = await http.post(\n    'example.com/compose',\n    headers: {\n      \"Accept\": \"application/json\"\n    },\n    body: jsondata,\n\n);\n\nif (response.statusCode == 200) {\n  jsonresponse = json.decode(response.body);\n  print(jsonresponse);\n\n}else{\n  print('problem');\n}\n}\n</code></pre>\n\n<p>Here is my file path picker </p>\n\n<pre><code>getfile(){\n\n      filePath =  FilePicker.getFilePath(type: FileType.ANY);\n\n\n}\n</code></pre>\n\n<p>if you can, modify this code .</p>\n"}, {"tags": ["flutter", "dart", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 11977332, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA3pzz8Fomn-_gaWzig1NcHathI4PQNtqMK5kJjlg=k-s128", "display_name": "Talha Javed Khan", "link": "https://stackoverflow.com/users/11977332/talha-javed-khan"}, "edited": false, "score": 0, "creation_date": 1572255014, "post_id": 58588148, "comment_id": 103490214, "body": "still getting error <code>type &#39;(DocumentSnapshot) =&gt; dynamic&#39; is not a subtype of type &#39;(DocumentSnapshot) =&gt; bool&#39; of &#39;test&#39;</code>"}, {"owner": {"reputation": 2274, "user_id": 10336633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b21ffcb04821a06beab9ffe3e812e08?s=128&d=identicon&r=PG&f=1", "display_name": "Ryosuke", "link": "https://stackoverflow.com/users/10336633/ryosuke"}, "reply_to_user": {"reputation": 23, "user_id": 11977332, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA3pzz8Fomn-_gaWzig1NcHathI4PQNtqMK5kJjlg=k-s128", "display_name": "Talha Javed Khan", "link": "https://stackoverflow.com/users/11977332/talha-javed-khan"}, "edited": false, "score": 0, "creation_date": 1572255787, "post_id": 58588148, "comment_id": 103490570, "body": "try <code>a.data[&#39;title&#39;].toString().contains(query)</code>"}, {"owner": {"reputation": 23, "user_id": 11977332, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA3pzz8Fomn-_gaWzig1NcHathI4PQNtqMK5kJjlg=k-s128", "display_name": "Talha Javed Khan", "link": "https://stackoverflow.com/users/11977332/talha-javed-khan"}, "edited": false, "score": 1, "creation_date": 1572256381, "post_id": 58588148, "comment_id": 103490839, "body": "Thank you for your help, I got the solution:                                                    <code>final results = snapshot.data.documents.where((DocumentSnapshot a) =&gt; a.data[&#39;title&#39;].toString().contains(query));</code>  <code>children: results.map&lt;Widget&gt;((a) =&gt; Text(a.data[&#39;title&#39;].toString())).toList()</code>"}], "tags": [], "owner": {"reputation": 2274, "user_id": 10336633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b21ffcb04821a06beab9ffe3e812e08?s=128&d=identicon&r=PG&f=1", "display_name": "Ryosuke", "link": "https://stackoverflow.com/users/10336633/ryosuke"}, "is_accepted": true, "score": 2, "last_activity_date": 1572253573, "creation_date": 1572253573, "answer_id": 58588148, "question_id": 58587696, "link": "https://stackoverflow.com/questions/58587696/flutter-search-delegate-with-firestore/58588148#58588148", "title": "Flutter Search Delegate with Firestore", "body": "<p>Replace the line</p>\n\n<pre><code>final results = snapshot.data.documents.where((a) =&gt; a['title'].contains(query));\n</code></pre>\n\n<p>to </p>\n\n<pre><code>final results = snapshot.data.documents.where((DocumentSnapshot a) =&gt; a.data['title'].contains(query));\n</code></pre>\n\n<p>And the line </p>\n\n<pre><code>children: results.map&lt;Widget&gt;((a) =&gt; Text(a['title'])).toList()\n</code></pre>\n\n<p>to </p>\n\n<pre><code>children: results.map&lt;Widget&gt;((a) =&gt; Text(a.data['title'])).toList()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14382973, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GiCdF8KRficHfi48-BHUmtEd3JSxCiiNiUKvxi2=k-s128", "display_name": "Deepak Sapkota", "link": "https://stackoverflow.com/users/14382973/deepak-sapkota"}, "is_accepted": false, "score": 0, "last_activity_date": 1615013063, "creation_date": 1615013063, "answer_id": 66503135, "question_id": 58587696, "link": "https://stackoverflow.com/questions/58587696/flutter-search-delegate-with-firestore/66503135#66503135", "title": "Flutter Search Delegate with Firestore", "body": "<p>Replace the Line</p>\n<pre><code>builder: (context, snapshot) {\n  ....\n</code></pre>\n<p>With</p>\n<pre><code>builder: (BuildContext context, AsyncSnapshot&lt;QuerySnapshot&gt; snapshot) {\n.....\n</code></pre>\n<p>Final code be :</p>\n<pre><code> Widget buildSuggestions(BuildContext context) {\n    return StreamBuilder(\n      stream: FirebaseFirestore.instance.collection('todos').snapshots(),\n      builder: (BuildContext context, AsyncSnapshot&lt;QuerySnapshot&gt; snapshot) {\n        if (!snapshot.hasData) return new Text('Loading...');\n\n        final results =\n            snapshot.data.docs.where((a) =&gt; a['title'].contains(query));\n\n        return ListView(\n          children: results.map&lt;Widget&gt;((a) =&gt; Text(a['title'])).toList(),\n        );\n      },\n    );\n  }\n       \n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 11977332, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA3pzz8Fomn-_gaWzig1NcHathI4PQNtqMK5kJjlg=k-s128", "display_name": "Talha Javed Khan", "link": "https://stackoverflow.com/users/11977332/talha-javed-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 906, "favorite_count": 0, "accepted_answer_id": 58588148, "answer_count": 2, "score": 2, "last_activity_date": 1616676038, "creation_date": 1572251431, "question_id": 58587696, "link": "https://stackoverflow.com/questions/58587696/flutter-search-delegate-with-firestore", "title": "Flutter Search Delegate with Firestore", "body": "<p>I m implementing a search feature using Flutter Search Delegate and the data is stored in Firestore. I can't figure out why this error is coming up.</p>\n\n<pre><code>Widget buildSuggestions(BuildContext context) {\n  return StreamBuilder(\n    stream: Firestore.instance.collection('todos').snapshots(),\n    builder: (context, snapshot) {\n      if (!snapshot.hasData) return new Text('Loading...');\n\n      final results =\n          snapshot.data.documents.where((a) =&gt; a['title'].contains(query));\n\n      return ListView(\n        children: results.map&lt;Widget&gt;((a) =&gt; Text(a['title'])).toList(),\n      );\n    },\n  );\n}\n</code></pre>\n\n<p>Error:</p>\n\n<p><code>type '(dynamic) =&gt; dynamic' is not a subtype of type '(DocumentSnapshot) =&gt; bool' of 'test'</code></p>\n"}, {"tags": ["android", "android-studio", "flutter", "dart"], "comments": [{"owner": {"reputation": 1863, "user_id": 7865296, "user_type": "registered", "profile_image": "https://graph.facebook.com/1850278214998960/picture?type=large", "display_name": "Praneeth Dhanushka Fernando", "link": "https://stackoverflow.com/users/7865296/praneeth-dhanushka-fernando"}, "edited": false, "score": 0, "creation_date": 1572242626, "post_id": 58586342, "comment_id": 103486307, "body": "What is the issue? Where are you stuck at?  print(selectedRadio) not working?"}, {"owner": {"reputation": 41, "user_id": 9803536, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "xXx", "link": "https://stackoverflow.com/users/9803536/xxx"}, "reply_to_user": {"reputation": 1863, "user_id": 7865296, "user_type": "registered", "profile_image": "https://graph.facebook.com/1850278214998960/picture?type=large", "display_name": "Praneeth Dhanushka Fernando", "link": "https://stackoverflow.com/users/7865296/praneeth-dhanushka-fernando"}, "edited": false, "score": 0, "creation_date": 1572243524, "post_id": 58586342, "comment_id": 103486478, "body": "it won&#39;t print using that"}, {"owner": {"reputation": 41, "user_id": 9803536, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "xXx", "link": "https://stackoverflow.com/users/9803536/xxx"}, "edited": false, "score": 0, "creation_date": 1572243825, "post_id": 58586342, "comment_id": 103486544, "body": "it suppose to print the value of the radio button"}], "answers": [{"tags": [], "owner": {"reputation": 6551, "user_id": 11938462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFyyJ.jpg?s=128&g=1", "display_name": "Pablo Barrera", "link": "https://stackoverflow.com/users/11938462/pablo-barrera"}, "is_accepted": false, "score": 1, "last_activity_date": 1572249391, "creation_date": 1572249391, "answer_id": 58587336, "question_id": 58586342, "link": "https://stackoverflow.com/questions/58586342/how-print-radio-button-value-in-button-onpressed-in-flutter/58587336#58587336", "title": "How print radio button value in button onpressed in Flutter", "body": "<p>The code you posted works fine.</p>\n\n<p>To solve your problem try to do these things:</p>\n\n<ul>\n<li>Check if you're not setting some value to <code>selectedRadio</code> inside\n<code>build()</code></li>\n<li>In your project directory try running <code>flutter clean</code></li>\n<li>Instead of using hot-reload restart / reinstall the app</li>\n</ul>\n"}], "owner": {"reputation": 41, "user_id": 9803536, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "xXx", "link": "https://stackoverflow.com/users/9803536/xxx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 409, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1572297569, "creation_date": 1572242415, "last_edit_date": 1572297569, "question_id": 58586342, "link": "https://stackoverflow.com/questions/58586342/how-print-radio-button-value-in-button-onpressed-in-flutter", "title": "How print radio button value in button onpressed in Flutter", "body": "<p>I have two radio button with value 50 and 100. What I want to do is display the value of active radio button every time I pressed the proceed button.</p>\n\n<pre><code>\n\n    int selectedRadio;\n      @override\n    void initState(){\n      super.initState();\n      selectedRadio = 0;\n    }\n    void setSelectedRadio(int val){\n      setState(() {\n       selectedRadio = val;\n\n      });\n    }\n\n    void buttonpressed(){\n      print(selectedRadio);\n    }\n\n     children: &lt;Widget&gt;[\n               Text(\"4 Wheels(100)\"),\n               Radio(\n                value: 100,\n                groupValue: selectedRadio,\n                activeColor: Colors.blue,\n                onChanged:(val) {\n                    setSelectedRadio(val);\n                },\n               ),\n               Text(\"2 Wheels(50)\"),\n               Radio(\n                 value: 50,\n                 groupValue: selectedRadio,\n                 activeColor: Colors.blue,\n                 onChanged:(val) {\n                   setSelectedRadio(val);\n                 },\n               ),\n\n              RaisedButton(\n                    onPressed: buttonpressed,\n                    child: new Text(\n                      \"print radio button value\",\n                     ), \n                   ),\n\n            ]\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 6551, "user_id": 11938462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFyyJ.jpg?s=128&g=1", "display_name": "Pablo Barrera", "link": "https://stackoverflow.com/users/11938462/pablo-barrera"}, "edited": false, "score": 1, "creation_date": 1572244919, "post_id": 58585240, "comment_id": 103486779, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/54095297/show-flutter-navigation-stack\">Show Flutter Navigation stack</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7877, "user_id": 8822337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ojyRl.jpg?s=128&g=1", "display_name": "BloodLoss", "link": "https://stackoverflow.com/users/8822337/bloodloss"}, "edited": false, "score": 0, "creation_date": 1572234775, "post_id": 58585420, "comment_id": 103485101, "body": "Is it possible check all previous pages without passing argument?"}, {"owner": {"reputation": 98, "user_id": 11079481, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-47ctKWZSIzw/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOZ5-9k2FUCmkFZ3Rx7P4-ftf-NFA/mo/photo.jpg?sz=128", "display_name": "JunYao Yuan", "link": "https://stackoverflow.com/users/11079481/junyao-yuan"}, "reply_to_user": {"reputation": 7877, "user_id": 8822337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ojyRl.jpg?s=128&g=1", "display_name": "BloodLoss", "link": "https://stackoverflow.com/users/8822337/bloodloss"}, "edited": false, "score": 0, "creation_date": 1572248280, "post_id": 58585420, "comment_id": 103487666, "body": "Yes. I give another solution in the answer. Try <code>NavigatorObserver</code> instead. @BloodLoss"}], "tags": [], "owner": {"reputation": 98, "user_id": 11079481, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-47ctKWZSIzw/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOZ5-9k2FUCmkFZ3Rx7P4-ftf-NFA/mo/photo.jpg?sz=128", "display_name": "JunYao Yuan", "link": "https://stackoverflow.com/users/11079481/junyao-yuan"}, "is_accepted": false, "score": 1, "last_activity_date": 1572248119, "last_edit_date": 1572248119, "creation_date": 1572232790, "answer_id": 58585420, "question_id": 58585240, "link": "https://stackoverflow.com/questions/58585240/is-it-possible-to-check-our-previous-navigate-pages-on-flutter/58585420#58585420", "title": "Is it possible to check our previous navigate pages on Flutter?", "body": "<p>Pass previous page widget as parameter to the Payment widget constructor.</p>\n\n<pre><code>// In page you want to navigate to Payment widget.\nNavigator.of(context).push(MaterialPageRoute(\n  builder: (context) =&gt; Payment(priousPages: this.runtimeType);\n));\n</code></pre>\n\n<p>Or, you can use <code>NavigatorObserver</code> to receive events of navigator, and you can record changes of route in observer.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class _NavigatorHistory extends NavigatorObserver {\n  @override\n  void didPush(Route&lt;dynamic&gt; route, Route&lt;dynamic&gt; previousRoute) {\n    print(\"${route.settings.name} pushed\");\n  }\n\n  @override\n  void didPop(Route&lt;dynamic&gt; route, Route&lt;dynamic&gt; previousRoute) {\n    print(\"${route.settings.name} popped\");\n  }\n\n  @override\n  void didReplace({Route&lt;dynamic&gt; newRoute, Route&lt;dynamic&gt; oldRoute}) {\n    print(\"${oldRoute.settings.name} is replaced by ${newRoute.settings.name}\");\n  }\n\n  @override\n  void didRemove(Route&lt;dynamic&gt; route, Route&lt;dynamic&gt; previousRoute) {\n    print(\"${route.settings.name} removed\");\n  }\n}\n</code></pre>\n\n<p>You can use <code>route.settings.name</code> to identify the route. So when you create route, you should give a route name.</p>\n\n<pre><code>MaterialPageRoute(\n  builder: (context) =&gt; YourWidget(),\n  settings: RouteSettings(name: \"/payment\")\n)\n</code></pre>\n\n<p>Lastly, don't forget to register this observer to App.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>MaterialApp(\n  navigatorObservers:[ _NavigatorHistory()],\n  title: \"App title\",\n  theme: ThemeData(\n    primarySwatch: Colors.blue,\n  ),\n  home: homePage,\n)\n</code></pre>\n"}], "owner": {"reputation": 7877, "user_id": 8822337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ojyRl.jpg?s=128&g=1", "display_name": "BloodLoss", "link": "https://stackoverflow.com/users/8822337/bloodloss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1820, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1572248119, "creation_date": 1572230956, "question_id": 58585240, "link": "https://stackoverflow.com/questions/58585240/is-it-possible-to-check-our-previous-navigate-pages-on-flutter", "title": "Is it possible to check our previous navigate pages on Flutter?", "body": "<p>How to check previous navigate pages?</p>\n\n<p><strong>Example: HomeScreen > ProductListScreen >ViewCart > Payment</strong> (Now I am in the Payment Page)</p>\n\n<p>like this: <code>print(priousPages);</code></p>\n"}, {"tags": ["list", "flutter", "dart", "widget"], "answers": [{"comments": [{"owner": {"reputation": 1863, "user_id": 7865296, "user_type": "registered", "profile_image": "https://graph.facebook.com/1850278214998960/picture?type=large", "display_name": "Praneeth Dhanushka Fernando", "link": "https://stackoverflow.com/users/7865296/praneeth-dhanushka-fernando"}, "edited": false, "score": 0, "creation_date": 1572251990, "post_id": 58585598, "comment_id": 103488990, "body": "If my answer helped you can vote and mark as the correct answer. Much appreciated."}, {"owner": {"reputation": 33, "user_id": 9439128, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "I am not a bot", "link": "https://stackoverflow.com/users/9439128/i-am-not-a-bot"}, "edited": false, "score": 0, "creation_date": 1572273924, "post_id": 58585598, "comment_id": 103499040, "body": "I&#39;m sorry, I&#39;m fairly new to APIs. Before I mark it as my answer I just wanted to clear something out for myself. Instead of outputting texts I&#39;m trying to output widgets (cards) to display. I&#39;m guessing I&#39;ll be creating a list and pushing each widget into my list if ConnectionState.done has no error? will I be able to use that list inside another function or say my scaffold that way if I declare the list globally inside the class?"}, {"owner": {"reputation": 33, "user_id": 9439128, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "I am not a bot", "link": "https://stackoverflow.com/users/9439128/i-am-not-a-bot"}, "edited": false, "score": 0, "creation_date": 1572276837, "post_id": 58585598, "comment_id": 103500684, "body": "Edit: I figured it out with setState. Future Builder was a little confusing to me as I wasn&#39;t sure how to get the List and use it normally with other functions/inside the builder"}], "tags": [], "owner": {"reputation": 1863, "user_id": 7865296, "user_type": "registered", "profile_image": "https://graph.facebook.com/1850278214998960/picture?type=large", "display_name": "Praneeth Dhanushka Fernando", "link": "https://stackoverflow.com/users/7865296/praneeth-dhanushka-fernando"}, "is_accepted": false, "score": 1, "last_activity_date": 1572234763, "creation_date": 1572234763, "answer_id": 58585598, "question_id": 58585091, "link": "https://stackoverflow.com/questions/58585091/from-futureliststring-to-liststring-for-api-calls-to-use-in-regular-functi/58585598#58585598", "title": "From Future&lt;List&lt;String&gt;&gt; to List&lt;String&gt; for API calls to use in regular functions/scaffold", "body": "<p>Since <code>getJsonData</code> is an async function, you need to use a <code>FutureBuider</code> or else instead of returning <code>popularMovie</code> you need to call <code>setState</code></p>\n\n<pre><code>FutureBuilder&lt;String&gt;(\n  future: getJsonData,\n  builder: (BuildContext context, AsyncSnapshot&lt;String&gt; snapshot) {\n    switch (snapshot.connectionState) {\n      case ConnectionState.none:\n        return Text('Press button to start.');\n      case ConnectionState.active:\n      case ConnectionState.waiting:\n        return Text('Awaiting result...');\n      case ConnectionState.done:\n        if (snapshot.hasError)\n          return Text('Error: ${snapshot.error}');\n        return Text('Result: ${snapshot.data}');\n    }\n    return null; // unreachable\n  },\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 9439128, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "I am not a bot", "link": "https://stackoverflow.com/users/9439128/i-am-not-a-bot"}, "is_accepted": true, "score": 0, "last_activity_date": 1572276773, "creation_date": 1572276773, "answer_id": 58593830, "question_id": 58585091, "link": "https://stackoverflow.com/questions/58585091/from-futureliststring-to-liststring-for-api-calls-to-use-in-regular-functi/58593830#58593830", "title": "From Future&lt;List&lt;String&gt;&gt; to List&lt;String&gt; for API calls to use in regular functions/scaffold", "body": "<p>I finally figured it out! It is super easy with setState so if anyone needs a solution to convert a \n<code>Future&lt;List&lt;String&gt;&gt; to List&lt;String&gt;</code> and then use it as a normal List inside the scaffold here's what I did:</p>\n\n<p>First, declare your list variable:</p>\n\n<pre><code>List&lt;String&gt; popularMovie = List&lt;String&gt;(); //declare a list inside the class\n</code></pre>\n\n<p>Then do your http call and assign the 'list of items you want' to your previously declared list variable 'inside setState'</p>\n\n<pre><code>@override\n  void initState() {\n    super.initState();\n    this.getJsonData();\n  }\n\n  //GET POPULAR MOVIE INFO WITH API\n  Future&lt;List&lt;String&gt;&gt; getJsonData() async {\n    http.Response response = await http.get(\n      Uri.encodeFull(popularURL),\n      headers: {\n        'Accept': 'application/json'\n      }\n    );\n\n    setState(() { //only get the first 10 movie images\n      var popularMovieData = json.decode(response.body);\n      for (int i = 0; i &lt; 10; i++) {\n        popularMovie.add(popularMovieData['results'][i]['poster_path']);      \n      }\n      print(popularMovie);\n    });\n\n  } //end of popular movie api function\n</code></pre>\n\n<p>Then I created a method to create a widget to display each image which is the same as the method I created in my original post that starts like this:</p>\n\n<pre><code>List&lt;Widget&gt; popularMovies() {\n</code></pre>\n\n<p>And finally, I wanted to display it this way(which you can do however you want to):</p>\n\n<pre><code>Padding(\n            padding: EdgeInsets.only(left: 10, top: 10, bottom: 10),\n            child: Container(\n              height: MediaQuery.of(context).size.height/2,\n              child: ListView(\n                scrollDirection: Axis.horizontal,\n                children: popularMovies(), //display all images in a horizontal row\n              ),\n            ),\n          ),\n</code></pre>\n\n<p>And you're done!! :)</p>\n"}], "owner": {"reputation": 33, "user_id": 9439128, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "I am not a bot", "link": "https://stackoverflow.com/users/9439128/i-am-not-a-bot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 58593830, "answer_count": 2, "score": 0, "last_activity_date": 1572276930, "creation_date": 1572229191, "last_edit_date": 1572276930, "question_id": 58585091, "link": "https://stackoverflow.com/questions/58585091/from-futureliststring-to-liststring-for-api-calls-to-use-in-regular-functi", "title": "From Future&lt;List&lt;String&gt;&gt; to List&lt;String&gt; for API calls to use in regular functions/scaffold", "body": "<p>I'm using the TMDb API to get image urls to display. I am able to get the image urls and display them on the console. But then when I try to create a method and loop through for each of the items in the list it keeps returning empty (i checked with print).</p>\n\n<p>Edit: Both methods are inside the same class and literally right below each other.</p>\n\n<p>Any help will be appreciated!</p>\n\n<pre><code>List&lt;String&gt; popularMovie = List&lt;String&gt;();\n\n  @override\n  void initState() {\n    super.initState();\n    this.getJsonData();\n  }\n\n  //GET POPULAR MOVIE INFO WITH API\n  Future&lt;List&gt; getJsonData() async {\n    http.Response response = await http.get(\n      Uri.encodeFull(popularURL),\n      headers: {\n        'Accept': 'application/json'\n      }\n    );\n\n\n    var popularMovieData = json.decode(response.body);\n    var placeholder = popularMovieData['results'];\n\n\n    //get a list of images only\n    for(var item in placeholder) {\n      popularMovie.add(item['poster_path']);\n   }\n    print(popularMovie.length); //20\n    print(popularMovie); //prints [imgURL, imageURL, ...]\n    return popularMovie;\n\n  } //end of popular movie api function\n</code></pre>\n\n<p>Below is the method that is suppose to loop through list items</p>\n\n<pre><code>//method to iterate through each item and get the image url to display image\n  List&lt;Widget&gt; popularMovies() {\n    List&lt;Widget&gt; popularMovieList = new List();\n\n  for(var item in popularMovie) { //this is empty\n    var popularMovieItem = Padding(\n    padding: EdgeInsets.all(10),\n    child: Container(\n      width: 250,\n      decoration: BoxDecoration(\n        borderRadius: BorderRadius.circular(15),\n        color: Colors.white,\n        boxShadow: [\n          BoxShadow(\n            color: Colors.grey.withOpacity(0.4),\n            spreadRadius: 4,\n            blurRadius: 4,\n          ),\n        ]\n      ),\n      child: Stack(\n        children: &lt;Widget&gt;[\n          Column(\n            crossAxisAlignment: CrossAxisAlignment.start,\n            children: &lt;Widget&gt;[\n              Container(\n                height: MediaQuery.of(context).size.height/2 - 20,\n                width: MediaQuery.of(context).size.width,\n                decoration: BoxDecoration(\n                  borderRadius: BorderRadius.all(Radius.circular(15),),\n                  image: DecorationImage(\n                    image: NetworkImage('https://image.tmdb.org/t/p/w500${item}'),\n                    fit: BoxFit.fill,\n                  )\n                ),\n              ),\n            ],\n          ),\n        ],\n      ),\n    ),\n  );\n  popularMovieList.add(popularMovieItem);\n    }\n    return popularMovieList;\n  }\n</code></pre>\n\n<p>And finally, I'd like to display all the movies on my page as </p>\n\n<pre><code>children:popularMovies(),\n</code></pre>\n"}, {"tags": ["asynchronous", "flutter", "dart", "future"], "owner": {"reputation": 1, "user_id": 2813656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa2229ecfb5ddaee290438cac83753bd?s=128&d=identicon&r=PG&f=1", "display_name": "user2813656", "link": "https://stackoverflow.com/users/2813656/user2813656"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1109, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572239557, "creation_date": 1572226713, "last_edit_date": 1572239557, "question_id": 58584853, "link": "https://stackoverflow.com/questions/58584853/flutter-is-there-a-way-to-populate-events-from-my-api-to-tablecalendars-even", "title": "Flutter - Is there a way to populate events from my API to TableCalendar&#39;s &#39;events&#39; attribute", "body": "<p>I've spent ages looking through as many stackoverflow questions to find a solution but I'm all out of ideas. Essentially I'm loading in data from my API and it returns a list of type Event. Below shows the structure:</p>\n\n<pre><code>class Event{\n  final int eventId;\n  final String eventDate;\n  final String eventName;\n  final String eventDescription;\n\n  Event.fromJSON(Map&lt;String, dynamic&gt; json) :\n      eventId = json['eventId'],\n      eventDate = json['eventDate'],\n      eventName = json['eventName'],\n      eventDescription = json['eventDescription'];\n}\n</code></pre>\n\n<p>The async method in which it retrieves it is below:</p>\n\n<pre><code> Future&lt;List&lt;Event&gt;&gt; fetchMonthEvents(String month) async {\n    List&lt;Event&gt; eventList;\n    final response =\n        await http.get(/*MY_API_URL*/);\n\n      if (response.statusCode == 200) {\n        final List parsedList = json.decode(response.body);\n        eventList = parsedList.map((val) =&gt; Event.fromJSON(val)).toList();\n        return eventList;\n      } else {\n        throw Exception('Failed to load post');\n      }\n  }\n</code></pre>\n\n<p>And now the problem...</p>\n\n<pre><code>class _HomePageState extends State&lt;HomePage&gt; {\n  CalendarController _calendarController;\n  DateTime daySelected;\n\n  Map&lt;DateTime, List&gt; _events;\n  List _selectedEvents;\n\n  List&lt;Event&gt; _eventList = &lt;Event&gt; [];\n  List _dates;\n  final _selectedDay = DateTime.now();\n\n  @override\n  initState() {\n    super.initState();\n    this.daySelected = DateTime.now();\n    _fetchList();\n    _calendarController = CalendarController();\n\n  }\n\nFuture _fetchList() async {\n    _eventList = await fetchMonthEvents('2019-10');\n               // below is processing the of _eventList so events are mapped according the date\n    for(Event e in _eventList){\n      _dates.add(e.eventDate);\n    }\n    _dates.toSet().toList();\n    Map&lt;DateTime, List&gt; eventsParsed = {};\n    for(var i=0; i&lt;_dates.length; i++){\n      List singleDayEvents = _eventList.where((e) =&gt; e.eventDate.contains(_dates[i])).toList();\n      eventsParsed[DateTime.parse(_dates[i])] = singleDayEvents;\n    }\n    _events = eventsParsed;\n    _selectedEvents = _events[_selectedDay] ?? [];\n\n    setState(() { //repeated code in a desperate attempt to make it work\n      _events = eventsParsed;\n      _selectedEvents = eventsParsed[_selectedDay] ?? [];\n   });\n  }\n...\n</code></pre>\n\n<p>I continue to get errors all because _events is null. I assume this is due to the asynchronous nature of the Future object (still new to this framework). I've attempted using .then() function and streams but no luck. I've tried a FutureBuilder, however unlike other questions asked, the events attribute of the TableCalendar widget returns a <code>Map&lt;DateTime, List&lt;dynamic&gt;&gt;</code>.</p>\n\n<p>Essentially all I want is for the data returned from the API to be used in populating events in the calendar. I'm open to any ideas to get this to work. I've inserted the call to the async function in initState() since the data is required to load the calendar with it.</p>\n\n<p>I'm open to any and every suggestion, quite desperate at this point since I have a deadline for this. Any help will be much appreciated!</p>\n"}]