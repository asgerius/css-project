[{"tags": ["dart", "bwu-datagrid"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422523449, "post_id": 28201274, "comment_id": 44786321, "body": "There are several open issues with Firefox. I didn&#39;t have time yet to look into them. There is still a lot of work to do to improve overall code quality (refactor to make the code less JSy and more Darty) and some examples are not yet ported and therefore the related code in bwu_datagrid not tested. I want to finish this before I try to fix browser specific bugs. Good Firefox support might still take some time ... sorry for that."}], "answers": [{"tags": [], "owner": {"reputation": 23, "user_id": 4504592, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gny8a30jxpE/AAAAAAAAAAI/AAAAAAAAAAA/d0Clkppuvhk/photo.jpg?sz=128", "display_name": "gtaylor20", "link": "https://stackoverflow.com/users/4504592/gtaylor20"}, "is_accepted": false, "score": 1, "last_activity_date": 1422981269, "last_edit_date": 1422981269, "creation_date": 1422981055, "answer_id": 28303946, "question_id": 28201274, "link": "https://stackoverflow.com/questions/28201274/bwu-datagrid-in-paper-action-dialog-messes-up-columns-2nd-time-dialog-is-opened/28303946#28303946", "title": "bwu_datagrid in paper-action-dialog messes up columns 2nd time dialog is opened", "body": "<p>I have come up with a workaround, that at least works for me and for the \"issue 97 reattach\" example that has been posted elsewhere. I don't know why it works, but I added a new method to bwu_datagrid.dart, called reshowGrid().  This new method is a stripped down version of \"setColumns\".  I think the real key may be the commented out \"style append\".</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>void reshowGrid() { \n    if (_initialized) { \n        invalidateAllRows(); \n        _createColumnHeaders(); \n        _removeCssRules(); \n        _createCssRules(); \n        resizeCanvas(); \n        _applyColumnWidths(); \n        //this.shadowRoot.append(_style); \n        _handleScroll(); \n    } \n} \n</code></pre>\n\n<p>I call <code>grid.reshowGrid()</code> instead of <code>grid.setColumns</code>.</p>\n"}], "owner": {"reputation": 23, "user_id": 4504592, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gny8a30jxpE/AAAAAAAAAAI/AAAAAAAAAAA/d0Clkppuvhk/photo.jpg?sz=128", "display_name": "gtaylor20", "link": "https://stackoverflow.com/users/4504592/gtaylor20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1422981269, "creation_date": 1422475162, "last_edit_date": 1422523246, "question_id": 28201274, "link": "https://stackoverflow.com/questions/28201274/bwu-datagrid-in-paper-action-dialog-messes-up-columns-2nd-time-dialog-is-opened", "title": "bwu_datagrid in paper-action-dialog messes up columns 2nd time dialog is opened", "body": "<p>I am using bwu_datagrid in my Dart/Polymer webapp.  In a paper-action-dialog, I am using the \"grouping\" grid to show a tree-table.  The first time the dialog is opened, the grid looks fine.  The second time the dialog is opened, it is fine in Chrome, but when I use Firefox or Safari, the columns in the non-grouped rows are scrunched to the left (overlapping each other), and the column headers have disappeared.</p>\n\n<p>This was also happening in Chrome until I added the following code in the dialog's core-overlay-open-completed event handler:</p>\n\n<pre><code>grid.setColumns = columns;\ngrid.invalidate();\ngrid.render();\n</code></pre>\n\n<p>It appears that someone reported a similar issue back in November.  Was this issue ever resolved and/or fixed?</p>\n"}, {"tags": ["rest", "http", "dart", "content-type", "multipart"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422452778, "post_id": 28193614, "comment_id": 44754472, "body": "I haven&#39;t used multipart requests before but mabe this is of some help <a href=\"http://stackoverflow.com/a/22604319/217408\">stackoverflow.com/a/22604319/217408</a>"}, {"owner": {"reputation": 51074, "user_id": 634863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198449a7e196c4b0f2ed25f65279bf84?s=128&d=identicon&r=PG", "display_name": "Alexandre Ardhuin", "link": "https://stackoverflow.com/users/634863/alexandre-ardhuin"}, "edited": false, "score": 0, "creation_date": 1422453605, "post_id": 28193614, "comment_id": 44755037, "body": "I use the same kind of code on the client side to post datas to a java backend and it works well. It seems to be a problem on the server side."}, {"owner": {"reputation": 11, "user_id": 4502397, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t721ajzgHGU/AAAAAAAAAAI/AAAAAAAADjE/dZ8g-SMUYCU/photo.jpg?sz=128", "display_name": "Julien Bertrand", "link": "https://stackoverflow.com/users/4502397/julien-bertrand"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422487533, "post_id": 28193614, "comment_id": 44774627, "body": "Thanks for your answers.  @G&#252;nterZ&#246;chbauer the MultipartRequest object has two methods to add &#39;part&#39; to your request : fields to add &#39;text&#39; part (json / xml ..) and file to add file. The file method allows you to define Content-Type (as shown in example), but unfortunately you can&#39;t set it with the fields method."}, {"owner": {"reputation": 11, "user_id": 4502397, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t721ajzgHGU/AAAAAAAAAAI/AAAAAAAADjE/dZ8g-SMUYCU/photo.jpg?sz=128", "display_name": "Julien Bertrand", "link": "https://stackoverflow.com/users/4502397/julien-bertrand"}, "reply_to_user": {"reputation": 51074, "user_id": 634863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198449a7e196c4b0f2ed25f65279bf84?s=128&d=identicon&r=PG", "display_name": "Alexandre Ardhuin", "link": "https://stackoverflow.com/users/634863/alexandre-ardhuin"}, "edited": false, "score": 0, "creation_date": 1422521172, "post_id": 28193614, "comment_id": 44785156, "body": "@AlexandreArdhuin it&#39;s not a problem on the server side. As it accepts both json and xml, it has to be able to perform content negotiation. They&#39;re asking for all front-end app to specify their content-type (there is no default value)"}, {"owner": {"reputation": 51074, "user_id": 634863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198449a7e196c4b0f2ed25f65279bf84?s=128&d=identicon&r=PG", "display_name": "Alexandre Ardhuin", "link": "https://stackoverflow.com/users/634863/alexandre-ardhuin"}, "edited": false, "score": 0, "creation_date": 1422527041, "post_id": 28193614, "comment_id": 44788419, "body": "But in your last code snippet the Content-Type is well provided for the &quot;context&quot; part. So I don&#39;t understand your comment."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 4502397, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t721ajzgHGU/AAAAAAAAAAI/AAAAAAAADjE/dZ8g-SMUYCU/photo.jpg?sz=128", "display_name": "Julien Bertrand", "link": "https://stackoverflow.com/users/4502397/julien-bertrand"}, "is_accepted": false, "score": 1, "last_activity_date": 1422537040, "last_edit_date": 1422537040, "creation_date": 1422536987, "answer_id": 28215584, "question_id": 28193614, "link": "https://stackoverflow.com/questions/28193614/howto-set-content-type-for-each-part-of-multi-part-request-in-dart/28215584#28215584", "title": "Howto set Content-Type for each part of multi-part request in Dart?", "body": "<p>I could find a solution. <strong>The trick was to specifiy a filename with a .json extension when appending the blob to the form.</strong></p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:html';\nimport 'dart:convert';\n\nmain(){\n\n  Map jsontosend = {\n      'business-context-id': \"contexte1\",\n      'metadatas': [\n          {\"metadata-id\" : \"nom\", \"value\" : \"doe\"},\n          {\"metadata-id\" : \"prenom\", \"value\" : \"john\"}],\n  };\n\n  FormData form = new FormData();\n\n  Blob blob = new Blob([JSON.encode(jsontosend)], 'application/json', 'native');\n\n  form.appendBlob(\"context\", blob, \"whatever.json\");\n\n  HttpRequest.request(\"www.google.com\", method: \"POST\", sendData: form);\n\n}\n</code></pre>\n\n<p>However, I still don't know how to specifiy the Content-Type when using a text part.</p>\n\n<p>Thanks all for your help !</p>\n"}], "owner": {"reputation": 11, "user_id": 4502397, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t721ajzgHGU/AAAAAAAAAAI/AAAAAAAADjE/dZ8g-SMUYCU/photo.jpg?sz=128", "display_name": "Julien Bertrand", "link": "https://stackoverflow.com/users/4502397/julien-bertrand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 839, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1422537040, "creation_date": 1422452121, "last_edit_date": 1422452693, "question_id": 28193614, "link": "https://stackoverflow.com/questions/28193614/howto-set-content-type-for-each-part-of-multi-part-request-in-dart", "title": "Howto set Content-Type for each part of multi-part request in Dart?", "body": "<p>I'm building a Web App based on Dart (with polymer framework but that's not relevant for the question). My app is communicating with a HTTP RESTful server.</p>\n\n<p>Problem is that i'm trying to send an HTTP Post request in multipart, but I couldn't find a way to set the 'Content-Type' for each part of the body (<strong>and not for the main HTTP header, which is rightly set by dart to 'multipart/form-data'</strong>)</p>\n\n<p>Here is a simple repro of my http request :</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:html';\nimport 'dart:convert';\n\nmain(){\n\n  print(\"je suis dans dart\");\n\n  Map jsontosend = {\n      'business-context-id': \"contexte1\",\n      'metadatas': [\n          {\"metadata-id\" : \"nom\", \"value\" : \"doe\"},\n          {\"metadata-id\" : \"prenom\", \"value\" : \"john\"}],\n  };\n\n  FormData form = new FormData();\n\n  form.append(\"context\", JSON.encode(jsontosend));\n\n  HttpRequest.request(\"www.google.com\", method: \"POST\", sendData: form);\n\n}\n</code></pre>\n\n<p>Here is my request payload :</p>\n\n<pre><code>Remote Address:127.0.0.1:63342\nRequest URL:http://localhost:63342/http_test/web/www.google.com\nRequest Method:POST\nStatus Code:405 Method Not Allowed\nRequest Headersview source\nAccept:*/*\nAccept-Encoding:gzip,deflate\nAccept-Language:fr-FR,fr;q=0.8,en-US;q=0.6,en;q=0.4\nCache-Control:max-age=0\nConnection:keep-alive\nContent-Length:263\nContent-Type:multipart/form-data; boundary=----WebKitFormBoundarym9PvtGzZDKOKiaH1\nHost:localhost:63342\nOrigin:http://localhost:63342\nReferer:http://localhost:63342/http_test/web/index.html\nUser-Agent:Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/38.0.2125.0 (Dart) Safari/537.36\nRequest Payload\n------WebKitFormBoundarym9PvtGzZDKOKiaH1\nContent-Disposition: form-data; name=\"context\"\n\n{\"business-context-id\":\"contexte1\",\"metadatas\":[{\"metadata-id\":\"nom\",\"value\":\"doe\"},{\"metadata-id\":\"prenom\",\"value\":\"john\"}]}\n------WebKitFormBoundarym9PvtGzZDKOKiaH1--\n</code></pre>\n\n<p>The server i'm trying to call can't parse the 'context' part as there is no content-type provided.</p>\n\n<p>I also tried to 'convert' my json as a blob object :</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:html';\nimport 'dart:convert';\n\nmain(){\n\n  print(\"je suis dans dart\");\n\n  Map jsontosend = {\n      'business-context-id': \"contexte1\",\n      'metadatas': [\n          {\"metadata-id\" : \"nom\", \"value\" : \"doe\"},\n          {\"metadata-id\" : \"prenom\", \"value\" : \"john\"}],\n  };\n\n  FormData form = new FormData();\n\n  Blob blob = new Blob([JSON.encode(jsontosend)], 'application/json', 'native');\n\n  form.appendBlob(\"context\", blob);\n\n  HttpRequest.request(\"www.google.com\", method: \"POST\", sendData: form);\n\n}\n</code></pre>\n\n<p>And the associated payload :</p>\n\n<pre><code>Remote Address:127.0.0.1:63342\nRequest URL:http://localhost:63342/http_test/web/www.google.com\nRequest Method:POST\nStatus Code:405 Method Not Allowed\nRequest Headersview source\nAccept:*/*\nAccept-Encoding:gzip,deflate\nAccept-Language:fr-FR,fr;q=0.8,en-US;q=0.6,en;q=0.4\nCache-Control:max-age=0\nConnection:keep-alive\nContent-Length:312\nContent-Type:multipart/form-data; boundary=----WebKitFormBoundaryjHxHOCKDpsp22rzQ\nHost:localhost:63342\nOrigin:http://localhost:63342\nReferer:http://localhost:63342/http_test/web/index.html\nUser-Agent:Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/38.0.2125.0 (Dart) Safari/537.36\nRequest Payload\n------WebKitFormBoundaryjHxHOCKDpsp22rzQ\nContent-Disposition: form-data; name=\"context\"; filename=\"blob\"\nContent-Type: application/json\n\n\n------WebKitFormBoundaryjHxHOCKDpsp22rzQ--\n</code></pre>\n\n<p>This time, the Content-Type of the context part is set, but my json is 'wrapped' as a blob (converted to Base64 by dart framework?) and can't be parsed by the server.</p>\n\n<p>As soon as I use the Blob type, the <em>filename</em> attribute is set, and the server also rejects the request.</p>\n\n<p>Any idea ?</p>\n\n<p>Thanks in advance !</p>\n"}, {"tags": ["dart", "dart-html"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422435384, "post_id": 28188035, "comment_id": 44744397, "body": "Seems not to be a good idea <a href=\"http://stackoverflow.com/a/12303819/217408\">stackoverflow.com/a/12303819/217408</a>. The answer is a bit dated so maybe there are new findings ..."}, {"owner": {"reputation": 2701, "user_id": 2796096, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/fa077ab8de7c792c5be8a2e5e207a58d?s=128&d=identicon&r=PG", "display_name": "G&#233;rald Reinhart", "link": "https://stackoverflow.com/users/2796096/g%c3%a9rald-reinhart"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422435974, "post_id": 28188035, "comment_id": 44744713, "body": "I remember that somebody proposed a little lib to do that on the Dartisans forum, but I cannot find it anymore."}], "answers": [{"comments": [{"owner": {"reputation": 2701, "user_id": 2796096, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/fa077ab8de7c792c5be8a2e5e207a58d?s=128&d=identicon&r=PG", "display_name": "G&#233;rald Reinhart", "link": "https://stackoverflow.com/users/2796096/g%c3%a9rald-reinhart"}, "edited": false, "score": 0, "creation_date": 1422447878, "post_id": 28188549, "comment_id": 44751467, "body": "Good enough for me, do not really want to add Modernizr"}, {"owner": {"reputation": 2111, "user_id": 794906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4572b9e492319217d840854fcd7c3b2?s=128&d=identicon&r=PG", "display_name": "Alan Knight", "link": "https://stackoverflow.com/users/794906/alan-knight"}, "edited": false, "score": 0, "creation_date": 1422556028, "post_id": 28188549, "comment_id": 44806885, "body": "Just because the screen is touchable doesn&#39;t mean the user is controlling it with touch. Laptops with touch screens are becoming more common. It&#39;s a difficult issue."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422557169, "post_id": 28188549, "comment_id": 44807542, "body": "This is why I added the link to another SO answer below the question. It contains a good explanation for this problem."}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1422437829, "last_edit_date": 1495542035, "creation_date": 1422436902, "answer_id": 28188549, "question_id": 28188035, "link": "https://stackoverflow.com/questions/28188035/how-can-we-know-that-the-screen-in-touchable-in-dart/28188549#28188549", "title": "How can we know that the screen in touchable in Dart?", "body": "<p>You could use <code>dart:js</code> and use an approach shown in this answer <a href=\"https://stackoverflow.com/a/2915912/217408\">https://stackoverflow.com/a/2915912/217408</a></p>\n\n<p>Add this to your index.html</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>&lt;script type=\"application/javascript\"&gt;\n  function hasTouchSupport() {\n    return 'ontouchstart' in document.documentElement;\n  }\n&lt;/script&gt;\n</code></pre>\n\n<p>And call it from Dart like </p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:html';\nimport 'dart:js' as js;\n\nbool _hasTouchSupport;\nbool get hasTouchSupport {\n  if(_hasTouchSupport == null) {\n    _hasTouchSupport = js.context.callMethod('hasTouchSupport');\n  }\n  return _hasTouchSupport;\n}\n\nvoid main() {\n  print(hasTouchSupport);\n}\n</code></pre>\n\n<p><code>false</code> in Dartium/Chrome in Linux<br>\n<code>true</code> on my Android phone</p>\n"}, {"tags": [], "owner": {"reputation": 51074, "user_id": 634863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198449a7e196c4b0f2ed25f65279bf84?s=128&d=identicon&r=PG", "display_name": "Alexandre Ardhuin", "link": "https://stackoverflow.com/users/634863/alexandre-ardhuin"}, "is_accepted": false, "score": 1, "last_activity_date": 1422437446, "last_edit_date": 1495539811, "creation_date": 1422437446, "answer_id": 28188700, "question_id": 28188035, "link": "https://stackoverflow.com/questions/28188035/how-can-we-know-that-the-screen-in-touchable-in-dart/28188700#28188700", "title": "How can we know that the screen in touchable in Dart?", "body": "<p>According to <a href=\"https://stackoverflow.com/questions/4817029/whats-the-best-way-to-detect-a-touch-screen-device-using-javascript\">What's the best way to detect a 'touch screen' device using JavaScript?</a> it's not easy to have something that works well for all browser.</p>\n\n<p>If you go with <a href=\"http://modernizr.com/\" rel=\"nofollow noreferrer\">Modernizr</a> you can use:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code> import 'dart:js' as js;\n\n bool get isTouchDevice =&gt; js.context['Modernizr']['touch'];\n</code></pre>\n"}], "owner": {"reputation": 2701, "user_id": 2796096, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/fa077ab8de7c792c5be8a2e5e207a58d?s=128&d=identicon&r=PG", "display_name": "G&#233;rald Reinhart", "link": "https://stackoverflow.com/users/2796096/g%c3%a9rald-reinhart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 28188549, "answer_count": 2, "score": 1, "last_activity_date": 1422437829, "creation_date": 1422435145, "last_edit_date": 1422436936, "question_id": 28188035, "link": "https://stackoverflow.com/questions/28188035/how-can-we-know-that-the-screen-in-touchable-in-dart", "title": "How can we know that the screen in touchable in Dart?", "body": "<p>To develop a responsive application we need to know if the user is using his finger or a mouse  to adapt the behavior of the application. For instance, if the screen is touchable, the buttons will be bigger...</p>\n\n<p>We can listen to <code>Window.onTouch</code> events and <code>Window.onMouse</code> events to guess if the screen is touchable. </p>\n\n<p>But I would like to know it when the application is loading : before any interaction by the user. </p>\n\n<p>How can I do that ?</p>\n"}, {"tags": ["dart", "dart-polymer"], "comments": [{"owner": {"reputation": 17217, "user_id": 1240320, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3ff7ec4e8d7aebe239763aa235cd6d14?s=128&d=identicon&r=PG", "display_name": "Pixel Elephant", "link": "https://stackoverflow.com/users/1240320/pixel-elephant"}, "edited": false, "score": 0, "creation_date": 1422409717, "post_id": 28183247, "comment_id": 44735796, "body": "Your example table  output HTML doesn&#39;t actually seemed to be included"}, {"owner": {"reputation": 13, "user_id": 4500906, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-I_rcJT3lYQ8/AAAAAAAAAAI/AAAAAAAAAJA/QzP7KyFRN0Q/photo.jpg?sz=128", "display_name": "JeffS", "link": "https://stackoverflow.com/users/4500906/jeffs"}, "reply_to_user": {"reputation": 17217, "user_id": 1240320, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3ff7ec4e8d7aebe239763aa235cd6d14?s=128&d=identicon&r=PG", "display_name": "Pixel Elephant", "link": "https://stackoverflow.com/users/1240320/pixel-elephant"}, "edited": false, "score": 0, "creation_date": 1422472289, "post_id": 28183247, "comment_id": 44767075, "body": "Just using the id=&quot;dataTable&quot;  seems to work because of the line in the Dart code:           TableElement table = this.shadowRoot.querySelector(&quot;#dataTable&quot;);"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4500906, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-I_rcJT3lYQ8/AAAAAAAAAAI/AAAAAAAAAJA/QzP7KyFRN0Q/photo.jpg?sz=128", "display_name": "JeffS", "link": "https://stackoverflow.com/users/4500906/jeffs"}, "edited": false, "score": 0, "creation_date": 1422472109, "post_id": 28183436, "comment_id": 44766966, "body": "Thank you very much, everything worked great!  I really don&#39;t need to use the data structure in testMap2 so I will just revise things to not go one level deeper.  Seeing the answer makes me kick myself for not asking earlier!"}], "tags": [], "owner": {"reputation": 17217, "user_id": 1240320, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3ff7ec4e8d7aebe239763aa235cd6d14?s=128&d=identicon&r=PG", "display_name": "Pixel Elephant", "link": "https://stackoverflow.com/users/1240320/pixel-elephant"}, "is_accepted": true, "score": 2, "last_activity_date": 1422412302, "last_edit_date": 1422412302, "creation_date": 1422410710, "answer_id": 28183436, "question_id": 28183247, "link": "https://stackoverflow.com/questions/28183247/maps-in-lists-in-maps/28183436#28183436", "title": "Maps in Lists in Maps", "body": "<p>The following Polymer databinding will work for testMap3:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;table&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;td template repeat=\"{{column in testMap3['columns']}}\"&gt;{{column}}&lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/thead&gt;\n  &lt;tbody&gt;\n    &lt;tr template repeat=\"{{row in testMap3['rows']}}\"&gt;\n      &lt;td template repeat=\"{{data in row.keys}}\"&gt;{{row[data]}}&lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>Filtering on table rows could be accomplished with the following method:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>filter(term) =&gt; (rows) =&gt; term.isEmpty\n      ? rows\n      : rows.where((row) =&gt; row.values.any((val) =&gt; val.toLowerCase().contains(term)));\n</code></pre>\n\n<p>It looks through the entire row data and matches each column against the search term.</p>\n\n<p>The tbody would then look like this:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;tbody&gt;\n  &lt;tr template repeat=\"{{row in testMap3['rows'] | filter(search)}}\"&gt;\n    &lt;td template repeat=\"{{data in row.keys}}\"&gt;{{row[data]}}&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/tbody&gt;\n</code></pre>\n\n<p>And it assumes you have a text input that hooks up to a String value named <code>search</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 4500906, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-I_rcJT3lYQ8/AAAAAAAAAAI/AAAAAAAAAJA/QzP7KyFRN0Q/photo.jpg?sz=128", "display_name": "JeffS", "link": "https://stackoverflow.com/users/4500906/jeffs"}, "edited": false, "score": 0, "creation_date": 1422472170, "post_id": 28183485, "comment_id": 44767008, "body": "Thank you!  Everything you show worked great, with just a slight difference on the filtering as you stated."}], "tags": [], "owner": {"reputation": 1958, "user_id": 830641, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/a70b7.jpg?s=128&g=1", "display_name": "James Hurford", "link": "https://stackoverflow.com/users/830641/james-hurford"}, "is_accepted": false, "score": 1, "last_activity_date": 1422415748, "last_edit_date": 1422415748, "creation_date": 1422411094, "answer_id": 28183485, "question_id": 28183247, "link": "https://stackoverflow.com/questions/28183247/maps-in-lists-in-maps/28183485#28183485", "title": "Maps in Lists in Maps", "body": "<p>You could try this</p>\n\n<pre><code>&lt;table&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th template repeat=\"{{item in testMap3['columns']}}\"&gt;{{item}}&lt;/th&gt;\n    &lt;/tr&gt;\n  &lt;/thead&gt;\n  &lt;tbody&gt;\n    &lt;tr template repeat=\"{{row in testMap3['rows']}}\"&gt;\n      &lt;td template repeat=\"{{key in testMap3['columns']}}\"&gt;{{row[key]}}&lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>the </p>\n\n<pre><code>&lt;tr template repeat=\"...\"&gt;\n</code></pre>\n\n<p>is the same as</p>\n\n<pre><code>&lt;template repeat=\"...\"&gt;\n</code></pre>\n\n<p>but you can't use &lt;template&gt; within a table, so you're forced to use</p>\n\n<pre><code>&lt;tr template repeat=\"...\"&gt;\n</code></pre>\n\n<p>Sorry I don't know why it has to be done this way, you'd have to do your own research on that.  It will throw an error if you try to do it using</p>\n\n<pre><code>&lt;table&gt;\n    &lt;template repeat=\"...\"&gt;\n        &lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;\n    &lt;/template&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>as &lt;template&gt; is not allowed inside the table elements.</p>\n\n<p>As for filtering</p>\n\n<p>you could do this</p>\n\n<pre><code>@observable String search = '';\n\nfilter(search) =&gt; (List row) =&gt;\n    row.where((item) =&gt; item['Phone'].contains(search));\n</code></pre>\n\n<p>for filtering based upon phone</p>\n\n<p>or filter for any value that matches the search string</p>\n\n<pre><code>filter(String search) =&gt; (List row) =&gt;\n    row.where((Map item) =&gt; item.values.any((val) =&gt; val.toLowerCase().contains(search.toLowerCase())));\n</code></pre>\n\n<p>which is similar to the other answer from @pixel-elephant</p>\n"}], "owner": {"reputation": 13, "user_id": 4500906, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-I_rcJT3lYQ8/AAAAAAAAAAI/AAAAAAAAAJA/QzP7KyFRN0Q/photo.jpg?sz=128", "display_name": "JeffS", "link": "https://stackoverflow.com/users/4500906/jeffs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 1, "accepted_answer_id": 28183436, "answer_count": 2, "score": 1, "last_activity_date": 1422415748, "creation_date": 1422409274, "question_id": 28183247, "link": "https://stackoverflow.com/questions/28183247/maps-in-lists-in-maps", "title": "Maps in Lists in Maps", "body": "<p>After much trial and error, I am at a loss as to how to deal with embedded lists and maps in Dart and furthermore, how they can be accessed via Polymer data binding.  The objective is to read a JSON file and build an HTML table that can be filtered and sorted.  (I just hard coded map data below for clarity.)</p>\n\n<p>I can build an HTML table within my Polymer element (see buildTable) as long as the Map looks like testMap3 seen in the Dart code below and it renders fine with:</p>\n\n<p>HTML:           </p>\n\n<pre><code>&lt;p&gt;&lt;b&gt;The data from testMap3 after building table in Dart file:&lt;/b&gt;/p&gt; \n&lt;table class=\"bordered\" id=\"dataTable\"&gt;&lt;/table&gt;     \n</code></pre>\n\n<p>However, I can't seem to figure out how to do this via Polymer data binding.  Right now I am just dumping the k-v pairs, just so that I can see the objects:  </p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;p&gt;&lt;b&gt;The data from testMap3 via Polymer binding:&lt;/b&gt;&lt;/p&gt; \n&lt;template repeat=\"{{key in testMap.keys}}\"&gt;\n  &lt;p&gt;{{key}} : {{testMap[key]}}&lt;/p&gt;   \n&lt;/template&gt;\n</code></pre>\n\n<p><b>How can I use data binding to create a table that would match the result of the first example above?  And to make things more difficult, how can I do so using testMap2 instead?</b></p>\n\n<p>Dart:</p>\n\n<p>Rendering testMap3 works fine when calling buildTable:</p>\n\n<pre><code>Map testMap3 = toObservable({\n                'columns' : [\"First Name\", \"Attending\", \"Phone\"],\n                'rows' : [{'First Name' : \"Alice\", \n                           'Attending' : \"Yes\",\n                           'Phone' : \"555-1212\"},                              \n                          {'First Name' : \"Bob\", \n                           'Attending' : \"Yes\",\n                           'Phone' : \"555-2323\"}                              \n                         ]\n           });\n</code></pre>\n\n<p>Iterating through testMap2 has been problematic given the additional embedded 'Phone' value is a list containing another map:</p>\n\n<pre><code> Map testMap2 = toObservable({\n               'columns' : [\"First Name\", \"Attending\", \"Phone\"],\n               'rows' : [{'First Name' : \"Alice\", \n                          'Attending' : \"Yes\",\n                          'Phone' : [{'Home' : \"555-1234\",\n                                      'Work' : \"555-4321\",\n                                      'Mobile' : \"555-1212\"}]},                              \n                         {'First Name' : \"Bob\", \n                          'Attending' : \"Yes\",\n                          'Phone' : [{'Home' : \"555-2345\",\n                                      'Work' : \"555-5432\",\n                                      'Mobile' : \"555-2323\"}]}                            \n                        ]\n          });\n</code></pre>\n\n<p>The following code works fine for testMap3 but nothing I have tried lets me loop through the phone data if I use testMap2.  <b>Any ideas on how I can do this?</b></p>\n\n<pre><code>buildTable() {\n\n  TableElement table = this.shadowRoot.querySelector(\"#dataTable\");\n  table.children.clear();\n\n  TableSectionElement tBody = table.createTBody();\n\n  TableSectionElement tHead = table.createTHead();\n  TableRowElement trh = tHead.addRow();\n\n  for (var column in testMap3[\"columns\"]) {\n    var cell = new Element.tag('th');\n    cell.text = column;\n    trh.append(cell);\n  }\n\n  for (var row in testMap3[\"rows\"]) {\n\n    TableRowElement tr = tBody.addRow();\n    for (var column in testMap3[\"columns\"]) {\n      tr.addCell().text = row[column];       \n    }\n  }   \n}\n</code></pre>\n\n<p>Finally, one of the ultimate goals is to filter all the columns in the rendered table taking an approach similar to the following...is this doable?  I can't seem to find examples using Maps or even Lists within Lists.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;template repeat=\"{{city in listOfCities | filter(searchParameter)}}\"&gt;\n  &lt;li&gt;{{city}}&lt;/li&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p>Dart:</p>\n\n<pre><code>@observable List listOfCities = [\"Chicago\", \"New York\", \"Los Angeles\", \"Dallas\", \"Denver\"];\n\nfilter(term) =&gt; (listOfCities) =&gt; term.isEmpty ? listOfCities : listOfCities.where((item) =&gt; item.toLowerCase().contains(searchParameter.toLowerCase())).toList();\n</code></pre>\n\n<p>Any guidance is greatly appreciated as I have been banging my head for over a week and am just about ready to give up.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["dart", "dart-polymer", "material-design", "core-elements"], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 0, "last_activity_date": 1422520767, "last_edit_date": 1422520767, "creation_date": 1422432502, "answer_id": 28187403, "question_id": 28182632, "link": "https://stackoverflow.com/questions/28182632/changing-core-tooltip-default-background-color/28187403#28187403", "title": "Changing core-tooltip default background color", "body": "<p>I moved the inline style to the style tag because I think this is how it should be done.<br>\nI removed the <code>tipAttribute</code> because it didn't work for me (probably <a href=\"https://github.com/Polymer/core-tooltip/issues/26\" rel=\"nofollow\">https://github.com/Polymer/core-tooltip/issues/26</a> which was fixed recently).</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>&lt;template&gt;\n  &lt;style&gt;\n      core-tooltip#clock-icon-tip core-icon {\n        background-color: blue;\n      }\n\n      /* tooltip content */\n      core-tooltip#clock-icon-tip &gt; [tip],\n      /* tooltip background */\n      core-tooltip#clock-icon-tip::shadow .core-tooltip {\n        background-color: red;\n        /*width: 100%;\n        height: 100%;*/\n      } \n\n      /* tooltip arrow \n         (needs a rule for each tooltip position, this is for bottom only */\n      core-tooltip#clock-icon-tip::shadow .core-tooltip.bottom::after {\n        border-bottom-color: red;\n      }\n\n  &lt;/style&gt;\n\n  &lt;core-tooltip \n    id='clock-icon-tip'\n    &gt;\n    &lt;div tip&gt;\n      &lt;p&gt;this is my tool&lt;br&gt; tip&lt;/p&gt;\n\n    &lt;/div&gt;\n    &lt;core-icon id='clock-icon' class='margin-l-b-4px' icon=''&gt;&lt;/core-icon&gt;\n  &lt;/core-tooltip&gt;\n&lt;/template&gt;\n</code></pre>\n"}], "owner": {"reputation": 4633, "user_id": 2258442, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7dc1f8dac4d92b4abb781ec2b11d8be6?s=128&d=identicon&r=PG", "display_name": "st_clair_clarke", "link": "https://stackoverflow.com/users/2258442/st-clair-clarke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 0, "accepted_answer_id": 28187403, "answer_count": 1, "score": 1, "last_activity_date": 1422520767, "creation_date": 1422404934, "last_edit_date": 1422432521, "question_id": 28182632, "link": "https://stackoverflow.com/questions/28182632/changing-core-tooltip-default-background-color", "title": "Changing core-tooltip default background color", "body": "<p>I have the following .html code</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>&lt;core-tooltip tipAttribute='tipp'\n  id='clock-icon-tip'\n  style='background-color: blue;'&gt;\n  &lt;div tipp\n    style='background-color: red; width: 100%; height: 100%;'&gt;\n    &lt;p&gt;this is my tool&lt;br&gt; tip&lt;/p&gt;\n\n  &lt;/div&gt;\n  &lt;core-icon id='clock-icon' class='margin-l-b-4px' icon=''&gt;&lt;/core-icon&gt;\n&lt;/core-tooltip&gt;\n</code></pre>\n\n<p>It displays as shown below</p>\n\n<p><img src=\"https://i.stack.imgur.com/0f24G.png\" alt=\"enter image description here\"></p>\n\n<p>How can I make the black background color red.\nThanks</p>\n"}, {"tags": ["dart", "angular-dart"], "comments": [{"owner": {"reputation": 2381, "user_id": 1759687, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/2HgFx.png?s=128&g=1", "display_name": "JoaoBiriba", "link": "https://stackoverflow.com/users/1759687/joaobiriba"}, "edited": false, "score": 0, "creation_date": 1422398578, "post_id": 28181187, "comment_id": 44732072, "body": "Try reading this <a href=\"http://stackoverflow.com/questions/12951989/how-to-reference-another-file-in-dart\" title=\"how to reference another file in dart\">stackoverflow.com/questions/12951989/&hellip;</a>"}, {"owner": {"reputation": 16340, "user_id": 505810, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/76df8d243d91e68ef15e5fde3474bf90?s=128&d=identicon&r=PG", "display_name": "Pacane", "link": "https://stackoverflow.com/users/505810/pacane"}, "reply_to_user": {"reputation": 17217, "user_id": 1240320, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3ff7ec4e8d7aebe239763aa235cd6d14?s=128&d=identicon&r=PG", "display_name": "Pixel Elephant", "link": "https://stackoverflow.com/users/1240320/pixel-elephant"}, "edited": false, "score": 0, "creation_date": 1422399882, "post_id": 28181187, "comment_id": 44732622, "body": "@PixelElephant thanks, it&#39;s indeed what I needed."}], "owner": {"reputation": 16340, "user_id": 505810, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/76df8d243d91e68ef15e5fde3474bf90?s=128&d=identicon&r=PG", "display_name": "Pacane", "link": "https://stackoverflow.com/users/505810/pacane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "closed_date": 1422421097, "answer_count": 0, "score": 0, "last_activity_date": 1422397512, "creation_date": 1422397512, "question_id": 28181187, "link": "https://stackoverflow.com/questions/28181187/how-to-reference-classes-from-another-project", "closed_reason": "Duplicate", "title": "How to reference classes from another project", "body": "<p>I'm trying to share objects between a client-side and server-side project. Currently the way I thought of doing it was by adding a 3rd project called \"shared\" and put my common classes inside.</p>\n\n<p>But now when I run my client-side-project by referencing files like this:</p>\n\n<p><code>import '../../../shared/game.dart';</code></p>\n\n<p>I get a warning from pub saying </p>\n\n<blockquote>\n  <p>[Error from InjectorGenerator on\n  client|web/main.dart]: Could not load asset\n  client|../shared/game.dart</p>\n</blockquote>\n\n<p>Is there a way to either publish locally my shared project to reference the classes with the <code>import packages:...</code> syntax? Otherwise, what's the way of doing this in Dart?</p>\n"}, {"tags": ["dart", "dart-polymer"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422343212, "post_id": 28163853, "comment_id": 44700786, "body": "You could have edited your previous question. Does your <code>main-app.dart</code> import <code>CoreScaffold</code>?"}, {"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422343520, "post_id": 28163853, "comment_id": 44700893, "body": "Didn&#39;t have to import it before, what dart file do I need to import to get the CoreScaffold class? Only seeing core-scaffold.html now."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422343618, "post_id": 28163853, "comment_id": 44700930, "body": "<code>import &#39;package:core_elements&#47;core_scaffold.dart&#39;;</code>"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422344525, "post_id": 28163853, "comment_id": 44701260, "body": "Maybe before the update your code was run in production mode and now is run in development mode (checked mode). Type annotations in Dart have no functionality and no meaning in production mode."}, {"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422344960, "post_id": 28163853, "comment_id": 44701453, "body": "That&#39;s definitely a possibility, should I keep it in checked mode?"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422345020, "post_id": 28163853, "comment_id": 44701478, "body": "checked mode is for development. I think you should use it to spot errors early. Production mode ignores type annotation for improved speed."}, {"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422391808, "post_id": 28163853, "comment_id": 44728515, "body": "I understand the packaging structure now, thanks Gunter! This fixed it for me: <code>import &#39;package:core_elements&#47;core_scaffold.dart&#39;;</code> <code>import &#39;package:paper_elements&#47;paper_tabs.dart&#39;;</code> and you were spot-on with the checked-mode. Where do I check if it&#39;s turned on or / off after I&#39;ve imported a project? In intelliJ I see the option while importing the project, after that I don&#39;t know where to find it again. I&#39;ll accept checked mode as well as the imports as correct answers."}], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1459236071, "last_edit_date": 1495540773, "creation_date": 1422392602, "answer_id": 28179940, "question_id": 28163853, "link": "https://stackoverflow.com/questions/28163853/using-corescaffold-and-coretabs-classes-now-causes-exception/28179940#28179940", "title": "Using CoreScaffold and CoreTabs classes now causes Exception", "body": "<p>You need to import the libraries where the class is defined.</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:core_elements/core_scaffold.dart'; \nimport 'package:paper_elements/paper_tabs.dart';\n</code></pre>\n\n<p><strong>checked/unchecked</strong></p>\n\n<p>When you run a Dart script from <strong>command line</strong> the default is production mode (unchecked mode). <code>dart bin/somescript.dart</code>, or checked mode when set explicitely like <code>dart -c bin/somescript.dart</code>. </p>\n\n<p>When you launch a Dart script or web app from <strong>DartEditor</strong> default is checked mode. DartEditor allows to (de)activate <code>Run in checked mode</code> in <code>Manage Launches</code> (run configurations). </p>\n\n<p>I assume there is a similar setting in <strong>Dart plugin for Eclipse</strong> (don't use it myself). </p>\n\n<p><strong>WebStorm</strong> allows to set it for command line apps in <code>Run &gt; Edit Configurations ...</code> . For web apps you can create a new browser config and add <code>--checked</code> in the <code>Command line options</code>.</p>\n\n<p>I assume it's similar in <strong>IntelliJ IDEA</strong> but I haven't used it myself yet. </p>\n\n<p>See also <a href=\"https://stackoverflow.com/a/21658630/217408\">https://stackoverflow.com/a/21658630/217408</a></p>\n"}], "owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 28179940, "answer_count": 1, "score": 1, "last_activity_date": 1459236071, "creation_date": 1422336735, "last_edit_date": 1422343334, "question_id": 28163853, "link": "https://stackoverflow.com/questions/28163853/using-corescaffold-and-coretabs-classes-now-causes-exception", "title": "Using CoreScaffold and CoreTabs classes now causes Exception", "body": "<p>I have a polymer element called main-app:</p>\n\n   \n\n<pre class=\"lang-dart prettyprint-override\"><code>    &lt;link rel=\"import\" href=\"../../packages/polymer/polymer.html\"&gt;\n\n    &lt;link rel=\"import\" href=\"../../packages/paper_elements/paper_input.html\"&gt;\n    &lt;link rel=\"import\" href=\"../../packages/paper_elements/paper_input.html\"&gt;\n    &lt;link rel=\"import\" href=\"../../packages/paper_elements/paper_tabs.html\"&gt;\n    &lt;link rel=\"import\" href=\"../../packages/paper_elements/paper_dialog.html\"&gt;\n    &lt;link rel=\"import\" href=\"../../packages/paper_elements/paper_icon_button.html\"&gt;\n    &lt;link rel=\"import\" href=\"../../packages/core_elements/core_toolbar.html\"&gt;\n    &lt;link rel=\"import\" href=\"../../packages/core_elements/core_scaffold.html\"&gt;\n    &lt;link rel=\"import\" href=\"../../packages/core_elements/core_header_panel.html\"&gt;\n    &lt;link rel=\"import\" href=\"../../packages/core_elements/core_menu.html\"&gt;\n    &lt;link rel=\"import\" href=\"../../packages/core_elements/core_item.html\"&gt;\n    &lt;link rel=\"import\" href=\"../../packages/paper_elements/paper_input.html\"&gt;\n    &lt;link rel=\"import\" href=\"../../packages/paper_elements/paper_button.html\"&gt;\n    &lt;link rel=\"import\" href=\"../../packages/paper_elements/paper_dialog.html\"&gt;\n    &lt;link rel=\"import\" href=\"../../packages/core_elements/core_scaffold.html\"&gt;\n    &lt;link rel=\"import\" href=\"../../packages/core_elements/core_pages.html\"&gt;\n\n    &lt;polymer-element name=\"main-app\" class=\"dark-primary-color\"&gt;\n        &lt;template&gt;\n            &lt;style type=\"text/css\"&gt;\n                :host {\n                    display: block;\n                }\n            &lt;/style&gt;\n            &lt;core-scaffold&gt;\n\n                &lt;core-header-panel id=\"menu-panel\" navigation flex&gt;\n\n                    &lt;core-toolbar id=\"navheader\"&gt;\n                        &lt;span&gt;Menu&lt;/span&gt;\n                    &lt;/core-toolbar&gt;\n                    &lt;core-menu&gt;\n                        &lt;core-item label=\"Home\" on-click=\"{{homeClicked}}\"&gt;&lt;/core-item&gt;\n                        &lt;core-item label=\"About Us\" on-click=\"{{aboutClicked}}\"&gt;&lt;/core-item&gt;\n                        &lt;core-item label=\"Contact Us\" on-click=\"{{contactClicked}}\"&gt;&lt;/core-item&gt;\n                    &lt;/core-menu&gt;\n                &lt;/core-header-panel&gt;\n\n                &lt;span tool&gt;{{title}}&lt;/span&gt;\n                &lt;paper-tabs class=\"main-menu bottom fit\" selected=\"0\"&gt;\n                    &lt;paper-tab on-click=\"{{homeClicked}}\"&gt;Home&lt;/paper-tab&gt;\n                    &lt;paper-tab on-click=\"{{aboutClicked}}\"&gt;About Us&lt;/paper-tab&gt;\n                    &lt;paper-tab on-click=\"{{contactClicked}}\"&gt;Contact Us&lt;/paper-tab&gt;\n                &lt;/paper-tabs&gt;\n                &lt;div class=\"content\" forceNarrow&gt;\n                    &lt;p&gt;Lorem ipsum ...&lt;/p&gt;\n                &lt;/div&gt;\n\n                ...\n            &lt;/core-scaffold&gt;\n        &lt;/template&gt;\n        &lt;script type=\"application/dart\" src=\"main-app.dart\"&gt;&lt;/script&gt;\n    &lt;/polymer-element&gt;\n</code></pre>\n\n<p>main-app.dart:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:polymer/polymer.dart';\nimport 'util/util.dart';\nimport 'event/event.dart';\n\nimport 'dart:html';\n\nimport 'page/home-page.dart';\nimport 'page/about-page.dart';\nimport 'page/contact-page.dart';\n\n@CustomTag('main-app')\nclass MainApp extends PolymerElement {\n\n  @observable String page = \"home\";\n  @observable String title = \"Home\";\n\n  MainApp.created() : super.created();\n\n  ...\n\n  homeClicked(event, detail, target) {\n    CoreScaffold e = shadowRoot.querySelector('core-scaffold');\n    e.doSomething &lt;&lt;-- fails\n    ...\n  }\n\n  ...\n\n}\n</code></pre>\n\n<p>This is the exception I'm getting:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Exception: 'package:falm/main-app.dart': malformed type: line 73 pos 5: type 'CoreScaffold' is not loaded\n    CoreScaffold e = shadowRoot.querySelector('core-scaffold');\n    ^\ntype 'CoreScaffold' is not a subtype of type 'malformed' of 'e'. \n</code></pre>\n\n<p>To get rid of the exception, I now have to do: </p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>  homeClicked(event, detail, target) {\n    Element e = shadowRoot.querySelector('core-scaffold');\n    e.doSomething &lt;&lt;-- works\n    ...\n  }\n</code></pre>\n\n<p>The code that is failing was working until a dart update yesterday morning (not sure from which version I updated as I reinstalled the SDK completely before doing a full pub upgrade, pub cache repair and pub download), PaperTabs is doing the same thing. </p>\n\n<p>Does this mean I can no longer use CoreElement and PaperTabs classes in my dart code? </p>\n\n<p>Update: here are the relevant bits and pieces from pubspec.lock:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>core_elements:\n    description: core_elements\n    source: hosted\n    version: \"0.6.0+4\"\npaper_elements:\n    description: paper_elements\n    source: hosted\n    version: \"0.6.0+4\"\n  polymer:\n    description: polymer\n    source: hosted\n    version: \"0.15.5\"\n  polymer_expressions:\n    description: polymer_expressions\n    source: hosted\n    version: \"0.13.0+1\"\n  web_components:\n    description: web_components\n    source: hosted\n    version: \"0.10.1\"\n</code></pre>\n"}, {"tags": ["enums", "dart"], "answers": [{"tags": [], "owner": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "is_accepted": true, "score": 4, "last_activity_date": 1422328357, "creation_date": 1422328357, "answer_id": 28162621, "question_id": 28162356, "link": "https://stackoverflow.com/questions/28162356/is-the-use-of-unicode-characters-appropriate-when-using-enum-syntax/28162621#28162621", "title": "Is the use of Unicode characters appropriate when using enum syntax?", "body": "<p>Identifiers in Dart can only contain letters, a-z, A-Z, digits 0-9, underscores and dollar signs.</p>\n\n<p>For the gory details see \"16.32 Identifier Reference\" in the <a href=\"http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-408.pdf\" rel=\"nofollow\">spec</a>.</p>\n"}], "owner": {"reputation": 796, "user_id": 1204142, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/3c6ddbb7b612d14cfb834ba48815dadc?s=128&d=identicon&r=PG", "display_name": "Damon", "link": "https://stackoverflow.com/users/1204142/damon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 28162621, "answer_count": 1, "score": 2, "last_activity_date": 1422328357, "creation_date": 1422326449, "question_id": 28162356, "link": "https://stackoverflow.com/questions/28162356/is-the-use-of-unicode-characters-appropriate-when-using-enum-syntax", "title": "Is the use of Unicode characters appropriate when using enum syntax?", "body": "<p>The following results in <code>unexpected character: '\uae40' (U+AE40)</code>.  Is unicode not meant for enum elements?</p>\n\n<pre><code>enum Banchan {\n    \uae40\uce58,\n    \ub098\ubb3c,\n    \ubcf6\uc74c\n}\n</code></pre>\n"}, {"tags": ["debugging", "dart"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1422307859, "post_id": 28159029, "comment_id": 44689531, "body": "There is an open issue to support debugging such issues <a href=\"http://dartbug.com/21674\" rel=\"nofollow noreferrer\">dartbug.com/21674</a>"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422308479, "post_id": 28159029, "comment_id": 44689856, "body": "Maybe similar to <a href=\"http://dartbug.com/20833#c4\" rel=\"nofollow noreferrer\">dartbug.com/20833#c4</a>"}, {"owner": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "edited": false, "score": 2, "creation_date": 1422329548, "post_id": 28159029, "comment_id": 44696601, "body": "There is a tool for debugging this. See here <a href=\"https://groups.google.com/a/dartlang.org/d/msg/misc/UkCxbpSbdXA/I8FRDlKRZmwJ\" rel=\"nofollow noreferrer\">groups.google.com/a/dartlang.org/d/msg/misc/UkCxbpSbdXA/&hellip;</a>"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1433318111, "post_id": 28159029, "comment_id": 49294763, "body": "See also <a href=\"http://stackoverflow.com/questions/27024868\">stackoverflow.com/questions/27024868</a> for how to debug the event queue."}], "answers": [{"comments": [{"owner": {"reputation": 51074, "user_id": 634863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198449a7e196c4b0f2ed25f65279bf84?s=128&d=identicon&r=PG", "display_name": "Alexandre Ardhuin", "link": "https://stackoverflow.com/users/634863/alexandre-ardhuin"}, "edited": false, "score": 0, "creation_date": 1422343602, "post_id": 28163134, "comment_id": 44700922, "body": "Thanks Greg. It was not really obvious that <code>close()</code> was only closing the writing stream (this behaviour of <a href=\"https://api.dartlang.org/apidocs/channels/stable/dartdoc-viewer/dart:io.Socket#id_close\" rel=\"nofollow noreferrer\"><code>close()</code></a> is only described on <a href=\"https://api.dartlang.org/apidocs/channels/stable/dartdoc-viewer/dart:io.Socket#id_destroy\" rel=\"nofollow noreferrer\"><code>destroy()</code></a> :-/ )."}, {"owner": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "reply_to_user": {"reputation": 51074, "user_id": 634863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198449a7e196c4b0f2ed25f65279bf84?s=128&d=identicon&r=PG", "display_name": "Alexandre Ardhuin", "link": "https://stackoverflow.com/users/634863/alexandre-ardhuin"}, "edited": false, "score": 2, "creation_date": 1422344666, "post_id": 28163134, "comment_id": 44701319, "body": "It&#39;s tripped me up a few times as well. Perhaps it&#39;s worth filing a bug, either the documentation needs to be improved or the api made simpler. I also would have thought that calling close() once in the server and once in the client should have been enough, but it is not. Would be nice to get a better answer from someone familiar with the implementation details."}, {"owner": {"reputation": 51074, "user_id": 634863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198449a7e196c4b0f2ed25f65279bf84?s=128&d=identicon&r=PG", "display_name": "Alexandre Ardhuin", "link": "https://stackoverflow.com/users/634863/alexandre-ardhuin"}, "edited": false, "score": 0, "creation_date": 1422345655, "post_id": 28163134, "comment_id": 44701733, "body": "I agree. I expected that <code>close()</code> has the <code>destroy()</code> behaviour. From an api point of view I would like to have something like <code>close({bool writing: true, bool reading: true})</code>"}, {"owner": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "reply_to_user": {"reputation": 51074, "user_id": 634863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198449a7e196c4b0f2ed25f65279bf84?s=128&d=identicon&r=PG", "display_name": "Alexandre Ardhuin", "link": "https://stackoverflow.com/users/634863/alexandre-ardhuin"}, "edited": false, "score": 0, "creation_date": 1422345840, "post_id": 28163134, "comment_id": 44701829, "body": "I assume it&#39;s because Socket implements IOSink which has close(). So I&#39;m not sure that would be possible. Perhaps post on the mailing list, and see if Anders can shed some light on this. Maybe there is a simpler way to do this, and I&#39;m missing something."}, {"owner": {"reputation": 111, "user_id": 1515059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2264577bdf528553f23f49c22e5f7fb6?s=128&d=identicon&r=PG", "display_name": "William Hesse", "link": "https://stackoverflow.com/users/1515059/william-hesse"}, "edited": false, "score": 0, "creation_date": 1422352976, "post_id": 28163134, "comment_id": 44705251, "body": "I think using destroy() should be a last resort, and closing both ends of the socket should be enough.  If both destroy() calls are replaced with close(), and an s.drain() is added after the s.write(), then the s.flush can also be removed.This is a better solution, because it does exactly what is needed for a connection to terminate and disappear: Both ends must be closed, and both ends must be listened to."}, {"owner": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "edited": false, "score": 0, "creation_date": 1422386285, "post_id": 28163134, "comment_id": 44725632, "body": "Thanks, could you please explain why s.flush().then((_) =&gt; s.close()) causes the socket to remain open. I don&#39;t understand this."}, {"owner": {"reputation": 51074, "user_id": 634863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198449a7e196c4b0f2ed25f65279bf84?s=128&d=identicon&r=PG", "display_name": "Alexandre Ardhuin", "link": "https://stackoverflow.com/users/634863/alexandre-ardhuin"}, "edited": false, "score": 0, "creation_date": 1422397349, "post_id": 28163134, "comment_id": 44731482, "body": "Thanks Greg and William. I added an answer with some comments. I keep on thinking that <code>drain()</code> should be called by <code>close()</code> because it&#39;s really not obvious you have to call 2 methods to close a Socket."}], "tags": [], "owner": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "is_accepted": true, "score": 4, "last_activity_date": 1424993865, "last_edit_date": 1424993865, "creation_date": 1422331968, "answer_id": 28163134, "question_id": 28159029, "link": "https://stackoverflow.com/questions/28159029/why-doesnt-the-process-exit-during-this-unittest-with-dartio/28163134#28163134", "title": "Why doesn&#39;t the process exit during this unittest with dart:io?", "body": "<p>Edit: See Alex's answer below. Socket.drain() FTW!</p>\n\n<p>According to the <a href=\"https://groups.google.com/a/dartlang.org/d/msg/misc/UkCxbpSbdXA/I8FRDlKRZmwJ\" rel=\"nofollow\">observatory io page</a>, the socket created by the server was still open for writing. I've updated the code below to call <a href=\"https://api.dartlang.org/apidocs/channels/stable/dartdoc-viewer/dart:io.Socket#id_destroy\" rel=\"nofollow\">destroy()</a> on both the server and client socket. <a href=\"https://api.dartlang.org/apidocs/channels/stable/dartdoc-viewer/dart:io.Socket#id_destroy\" rel=\"nofollow\">destroy()</a> closes a <a href=\"https://api.dartlang.org/apidocs/channels/stable/dartdoc-viewer/dart:io.Socket\" rel=\"nofollow\">Socket</a> in both directions.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:async';\nimport 'dart:convert';\nimport 'dart:io';\n\nimport 'package:unittest/unittest.dart';\n\nmain() {\n  ServerSocket ss;\n\n  setUp(() =&gt; ServerSocket.bind('localhost', 9876).then((e) =&gt; ss = e));\n\n  tearDown(() =&gt; ss.close());\n\n  test('test 1', () {\n    final line = new Completer&lt;String&gt;();\n    ss.listen((s) {\n      s.map(UTF8.decode).listen((t) {\n        line.complete(t);\n        s.destroy();\n      });\n    });\n    Socket.connect(ss.address, ss.port)\n        .then((s) {\n          s.write('test');\n          return s.flush().then((_) {\n            s.destroy();\n            return line.future;\n          });\n        })\n        .then(expectAsync((s) =&gt; expect(s, equals('test'))));\n  });\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51074, "user_id": 634863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198449a7e196c4b0f2ed25f65279bf84?s=128&d=identicon&r=PG", "display_name": "Alexandre Ardhuin", "link": "https://stackoverflow.com/users/634863/alexandre-ardhuin"}, "is_accepted": false, "score": 1, "last_activity_date": 1422397104, "last_edit_date": 1495542608, "creation_date": 1422397104, "answer_id": 28181107, "question_id": 28159029, "link": "https://stackoverflow.com/questions/28159029/why-doesnt-the-process-exit-during-this-unittest-with-dartio/28181107#28181107", "title": "Why doesn&#39;t the process exit during this unittest with dart:io?", "body": "<p>According to <a href=\"https://stackoverflow.com/questions/28159029/why-doesnt-the-process-exit-during-this-unittest-with-dartio#comment44705251_28163134\">William comment on the answer of Greg</a> <code>drain()</code> and <code>close()</code> should be prefered instead of <code>destroy()</code>.</p>\n\n<p>Here is the working version:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:async';\nimport 'dart:convert';\nimport 'dart:io';\n\nimport 'package:unittest/unittest.dart';\n\nmain() {\n  ServerSocket ss;\n\n  setUp(() =&gt; ServerSocket.bind('localhost', 9876).then((e) =&gt; ss = e));\n\n  tearDown(() =&gt; ss.close());\n\n  test('test 1', () {\n    final line = new Completer&lt;String&gt;();\n    ss.listen((s) =&gt; UTF8.decodeStream(s)\n                         .then((value) =&gt; line.complete(value))\n                         .then((_)=&gt; s.close()));\n    Socket.connect(ss.address, ss.port)\n        .then((s) {\n          s.write('test');\n          return Future.wait([s.drain(), s.close()]);\n        })\n        .then((_) =&gt; line.future)\n        .then(expectAsync((s) =&gt; expect(s, equals('test'))));\n  });\n}\n</code></pre>\n\n<p>Some comments on this:</p>\n\n<ul>\n<li>on the server side I used <code>UTF8.decodeStream(s).then(...)</code> instead of <code>s.map(UTF8.decode).listen(...)</code> because the value could be splitted in several chunks. In this case the socket would be closed too earlier.</li>\n<li>on the client side I used <code>Future.wait([s.drain(), s.close()])</code> instead of chaining Futures. If I use <code>s.drain().then((_) =&gt; s.close())</code> the process blocks because the server is waiting for the end of data stream (triggered by <code>s.close()</code> on client side) to close the Socket and thus trigger the completation of the <code>s.drain()</code> on client side. </li>\n</ul>\n"}], "owner": {"reputation": 51074, "user_id": 634863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198449a7e196c4b0f2ed25f65279bf84?s=128&d=identicon&r=PG", "display_name": "Alexandre Ardhuin", "link": "https://stackoverflow.com/users/634863/alexandre-ardhuin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 1, "accepted_answer_id": 28163134, "answer_count": 2, "score": 2, "last_activity_date": 1424993865, "creation_date": 1422307481, "question_id": 28159029, "link": "https://stackoverflow.com/questions/28159029/why-doesnt-the-process-exit-during-this-unittest-with-dartio", "title": "Why doesn&#39;t the process exit during this unittest with dart:io?", "body": "<p>The following code tests the received datas on a server sent by a client.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:async';\nimport 'dart:convert';\nimport 'dart:io';\n\nimport 'package:unittest/unittest.dart';\n\nmain() {\n  ServerSocket ss;\n\n  setUp(() =&gt; ServerSocket.bind('localhost', 9876).then((e) =&gt; ss = e));\n\n  tearDown(() =&gt; ss.close());\n\n  test('test 1', () {\n    final line = new Completer&lt;String&gt;();\n    ss.listen((s) =&gt; s.map(UTF8.decode).listen((s) =&gt; line.complete(s)));\n    Socket.connect(ss.address, ss.port)\n        .then((s) {\n          s.write('test');\n          return s.close();\n        })\n        .then((_) =&gt; line.future)\n        .then(expectAsync((s) =&gt; expect(s, equals('test'))));\n  });\n}\n</code></pre>\n\n<p>This test displays:</p>\n\n<pre><code>unittest-suite-wait-for-done\nPASS: test 1\n\nAll 1 tests passed.\nunittest-suite-success\n</code></pre>\n\n<p>However, the process doesn't stop.</p>\n\n<ol>\n<li>Why the process is still running even with the <code>ss.close()</code> and <code>s.close()</code>?</li>\n<li>How to find what makes the process stay alive? Does <a href=\"https://www.dartlang.org/tools/observatory/\" rel=\"nofollow\">Observatory</a> provide something to debug that ?</li>\n</ol>\n"}, {"tags": ["dart", "bit-manipulation"], "comments": [{"owner": {"reputation": 1562, "user_id": 2116253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d18481602b26e29ba696feb3425ecbf?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/2116253/phil"}, "edited": false, "score": 1, "creation_date": 1422287170, "post_id": 28153423, "comment_id": 44678411, "body": "Are you talking about bits or bytes? You can&#39;t set a binary bit to 3. It is either 1 or 0"}, {"owner": {"reputation": 7891, "user_id": 1737201, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9d553e4eece2656148b5d0e2a613e53e?s=128&d=identicon&r=PG", "display_name": "mezoni", "link": "https://stackoverflow.com/users/1737201/mezoni"}, "reply_to_user": {"reputation": 1562, "user_id": 2116253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d18481602b26e29ba696feb3425ecbf?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/2116253/phil"}, "edited": false, "score": 0, "creation_date": 1422287680, "post_id": 28153423, "comment_id": 44678740, "body": "@Phil_1984_:  Not a bytes but a bits. As in C language struct bit fields. Accordingly my example, as in packed C struct. Just re-read my question. It is very clear. How to manipulate with data with bits precision (offset in bits and values with width from 1-bit to 64-bit)."}, {"owner": {"reputation": 7891, "user_id": 1737201, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9d553e4eece2656148b5d0e2a613e53e?s=128&d=identicon&r=PG", "display_name": "mezoni", "link": "https://stackoverflow.com/users/1737201/mezoni"}, "reply_to_user": {"reputation": 1562, "user_id": 2116253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d18481602b26e29ba696feb3425ecbf?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/2116253/phil"}, "edited": false, "score": 0, "creation_date": 1422287833, "post_id": 28153423, "comment_id": 44678829, "body": "@Phil_1984_: <code>You can&#39;t set a binary bit to 3. It is either 1 or 0 </code> Yes. But I not ask about this. I ask how set 5-bits (00000) to value 3 (00011). This is possible and correct."}, {"owner": {"reputation": 1562, "user_id": 2116253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d18481602b26e29ba696feb3425ecbf?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/2116253/phil"}, "edited": false, "score": 0, "creation_date": 1422304091, "post_id": 28153423, "comment_id": 44687603, "body": "Sorry.  I understand now."}, {"owner": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "edited": false, "score": 0, "creation_date": 1422305057, "post_id": 28153423, "comment_id": 44688082, "body": "Just calculate the byte offset and then set the right (shifted) value."}, {"owner": {"reputation": 1562, "user_id": 2116253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d18481602b26e29ba696feb3425ecbf?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/2116253/phil"}, "edited": false, "score": 0, "creation_date": 1422306961, "post_id": 28153423, "comment_id": 44689062, "body": "Would you accept a javascript based solution with explaining comments?"}, {"owner": {"reputation": 7891, "user_id": 1737201, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9d553e4eece2656148b5d0e2a613e53e?s=128&d=identicon&r=PG", "display_name": "mezoni", "link": "https://stackoverflow.com/users/1737201/mezoni"}, "reply_to_user": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "edited": false, "score": 0, "creation_date": 1422307544, "post_id": 28153423, "comment_id": 44689353, "body": "@Robert: What about endianness (byte order)? What if I want set a some bits in a two adjacent 32-bit data elements (inside the 64-bit field) and a start bit does not aligned to the byte boundary? The same as in C99 packed structs. Is there any easy answers such as you provide. Another problem: ~1 in Dart does not produce sized values as in C language. Eg. In Dart ~1 is -2, but in C it produce appropriate unsigned values, unsigned char uc1 = ~1 (254), unsigned ui1 = ~1 (4294967294). The same ~1 but diffirent bits. This is very hard in Dart manipulate with bits in fixed size integer range."}, {"owner": {"reputation": 7891, "user_id": 1737201, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9d553e4eece2656148b5d0e2a613e53e?s=128&d=identicon&r=PG", "display_name": "mezoni", "link": "https://stackoverflow.com/users/1737201/mezoni"}, "reply_to_user": {"reputation": 1562, "user_id": 2116253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d18481602b26e29ba696feb3425ecbf?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/2116253/phil"}, "edited": false, "score": 0, "creation_date": 1422308130, "post_id": 28153423, "comment_id": 44689657, "body": "@Phil_1984_: <code>Would you accept a javascript based solution with explaining comments?</code> No. I work on my implementation and it will be ready soon... It is not easy (as you think) when you need get/set bit frames in adjacent sequence elements. Eg. <code>bitData.set64(1, 64, 0xffffffffffffffff)</code>. Set value 0xffffffffffffffff in 64-bit frame in two adjacent 64-bit elements in data sequence when start offset is at 1-bit (second after 0-bit). Also bit frames can be signed. Bit frame with 1-bit size can hold only two values (0 and -1). Your suggestion take this into account?"}], "answers": [{"tags": [], "owner": {"reputation": 1562, "user_id": 2116253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d18481602b26e29ba696feb3425ecbf?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/2116253/phil"}, "is_accepted": false, "score": 3, "last_activity_date": 1422343432, "last_edit_date": 1422343432, "creation_date": 1422311484, "answer_id": 28159953, "question_id": 28153423, "link": "https://stackoverflow.com/questions/28153423/how-to-set-5-bits-to-value-3-at-offset-387-bit-in-byte-data-sequence/28159953#28159953", "title": "How to set 5 bits to value 3 at offset 387 bit in byte data sequence?", "body": "<p>Yes it is quite complicated.  I dont know dart, but these are the general steps you need to take.  I will label each variable as a letter and also use a more complicated example to show you what happens when the bits overflow.</p>\n\n<pre><code>1. Construct the BitData object with a ByteData object (A)\n\n2. Call setBits(offset (B), bits (C), value (D));\n\nI will use example values of: \n\nA: 11111111 11111111 11111111 11111111\nB: 7 \nC: 10\nD: 00000000 11111111\n\n3. Rather than using an integer with a fixed length of bits, you could\nuse another ByteData object (D) containing your bits you want to write.  \nAlso create a mask (E) containing the significant bits.\n\ne.g. \nA: 11111111 11111111 11111111 11111111\nD: 00000000 11111111\nE: 00000011 11111111 (2^C - 1)\n\n4. As an extra bonus step, we can make sure the insignificant \nbits are really zero by ANDing with the bitmask.\n\nD = D &amp; E\n\nD 00000000 11111111\nE 00000011 11111111\n\n5. Make sure D and E contain at least one full zero byte since we want\nto shift them.\n\nD 00000000 00000000 11111111\nE 00000000 00000011 11111111\n\n6. Work out these two integer values:\n\nF = The extra bit offset for the start byte: B mod 8 (e.g. 7)\nG = The insignificant bits: size(D) - C (e.g. 14)\n\n7. H = G-F which should not be negative here. (e.g. 14-7 = 7)\n\n8. Shift both D and E left by H bits.\n\nD 00000000 01111111 10000000\nE 00000001 11111111 10000000\n\n9. Work out first byte number (J) floor(B / 8) e.g. 0\n\n10. Read the value of A at this index out and let this be K\n\nK = 11111111 11111111 11111111\n\n11. AND the current (K) with NOT E to set zeros for the new bits.  \nThen you can OR the new bits over the top.\n\nL = (K &amp; !E) | D\n\nK &amp; !E = 11111110 00000000 01111111\nL = 11111110 01111111 11111111\n\n12. Write L to the same place you read it from.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": false, "score": 3, "last_activity_date": 1422428038, "last_edit_date": 1422428038, "creation_date": 1422427698, "answer_id": 28186257, "question_id": 28153423, "link": "https://stackoverflow.com/questions/28153423/how-to-set-5-bits-to-value-3-at-offset-387-bit-in-byte-data-sequence/28186257#28186257", "title": "How to set 5 bits to value 3 at offset 387 bit in byte data sequence?", "body": "<p>\nThere is no <code>BitData</code> class, so you'll have to do some of the bit-pushing yourself.</p>\n\n<p>Find the corresponding byte offset, read in some bytes, mask out the existing bits and set the new ones at the correct bit offset, then write it back.\nThe real complexity comes when you need to store more bits than you can read/write in a single operation.</p>\n\n<p>For endianness, if you are treating the memory as a sequence of bits with arbitrary width, I'd go for little-endian. Endianness only really makes sense for full-sized (2^n-bit, n > 3) integers. A 5 bit integer as the one you are storing can't have any endianness, and a 37 bit integer also won't have any natural way of expressing an endianness.</p>\n\n<p>You can try something like this code (which can definitely be optimized more):</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import \"dart:typed_data\";\nvoid setBitData(ByteBuffer buffer, int offset, int length, int value) {\n  assert(value &lt; (1 &lt;&lt; length));\n  assert(offset + length &lt; buffer.lengthInBytes * 8);\n  int byteOffset = offset &gt;&gt; 3;\n  int bitOffset = offset &amp; 7;\n  if (length + bitOffset &lt;= 32) {\n    ByteData data = new ByteData.view(buffer);\n    // Can update it one read/modify/write operation.\n    int mask = ((1 &lt;&lt; length) - 1) &lt;&lt; bitOffset;\n    int bits = data.getUint32(byteOffset, Endianness.LITTLE_ENDIAN);\n    bits = (bits &amp; ~mask) | (value &lt;&lt; bitOffset);\n    data.setUint32(byteOffset, bits, Endianness.LITTLE_ENDIAN);\n    return;\n  }\n  // Split the value into chunks of no more than 32 bits, aligned.\n  do {\n    int bits = (length &gt; 32 ? 32 : length) - bitOffset;\n    setBitData(buffer, offset, bits, value &amp; ((1 &lt;&lt; bits) - 1));\n    offset += bits;\n    length -= bits;\n    value &gt;&gt;= bits;\n    bitOffset = 0;\n  } while (length &gt; 0);\n}\n</code></pre>\n\n<p>Example use:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>main() {\n  var b = new Uint8List(32);\n  setBitData(b.buffer, 3, 8, 255);\n  print(b.map((v)=&gt;v.toRadixString(16)));\n  setBitData(b.buffer, 13, 6*4, 0xffffff);\n  print(b.map((v)=&gt;v.toRadixString(16)));\n  setBitData(b.buffer, 47, 21*4, 0xaaaaaaaaaaaaaaaaaaaaa);\n  print(b.map((v)=&gt;v.toRadixString(16)));\n}\n</code></pre>\n"}], "owner": {"reputation": 7891, "user_id": 1737201, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9d553e4eece2656148b5d0e2a613e53e?s=128&d=identicon&r=PG", "display_name": "mezoni", "link": "https://stackoverflow.com/users/1737201/mezoni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 736, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1422428038, "creation_date": 1422286749, "question_id": 28153423, "link": "https://stackoverflow.com/questions/28153423/how-to-set-5-bits-to-value-3-at-offset-387-bit-in-byte-data-sequence", "title": "How to set 5 bits to value 3 at offset 387 bit in byte data sequence?", "body": "<p>I need set some bits in ByteData at position counted in bits.<br>\nHow I can do this?</p>\n\n<p>Eg.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>var byteData = new ByteData(1024);\nvar bitData = new BitData(byteData);\n// Offset in bits: 387\n// Number of bits: 5\n// Value: 3\nbitData.setBits(387, 5, 3);\n</code></pre>\n"}, {"tags": ["loops", "asynchronous", "dart", "polymer"], "answers": [{"comments": [{"owner": {"reputation": 779, "user_id": 456475, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/201670942b3c275687fd4c998ce4354d?s=128&d=identicon&r=PG", "display_name": "Skoky", "link": "https://stackoverflow.com/users/456475/skoky"}, "edited": false, "score": 0, "creation_date": 1422204867, "post_id": 28138755, "comment_id": 44649268, "body": "I works as you describe if I assign new value to the observable. But if I use data.add(&quot;new value&quot;) it does not update view. Why?"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 779, "user_id": 456475, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/201670942b3c275687fd4c998ce4354d?s=128&d=identicon&r=PG", "display_name": "Skoky", "link": "https://stackoverflow.com/users/456475/skoky"}, "edited": false, "score": 0, "creation_date": 1422205077, "post_id": 28138755, "comment_id": 44649342, "body": "Glad to hear it works for you. Your comment seems to miss a part. To add code in comments (as well as inline code in Q/A) enclose it in backticks."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 779, "user_id": 456475, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/201670942b3c275687fd4c998ce4354d?s=128&d=identicon&r=PG", "display_name": "Skoky", "link": "https://stackoverflow.com/users/456475/skoky"}, "edited": false, "score": 0, "creation_date": 1422208091, "post_id": 28138755, "comment_id": 44650412, "body": "Can you please add the complete HTML and Dart code of your component to your question."}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 1, "last_activity_date": 1422204021, "creation_date": 1422204021, "answer_id": 28138755, "question_id": 28138634, "link": "https://stackoverflow.com/questions/28138634/template-repeat-on-data-downloaded/28138755#28138755", "title": "template repeat on data downloaded", "body": "<p>If you have a observable collection like</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>@CustomElement('some-element')\nclass SomeElement extends PolymerElement {\n\n  var data = toObservable([]);\n  ...\n}\n</code></pre>\n\n<p>then with</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>&lt;template repeat=\"{{item in data}}\"&gt;{{item}}&lt;/template&gt;\n</code></pre>\n\n<p>Polymer will update the view whenever an item in <code>data</code> is added or removed.</p>\n\n<p>With</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>  @observable\n  var data = [];\n</code></pre>\n\n<p>Polymer will update the view whenever you assign another collection to <code>data</code>. You can of course combine these two</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>  @observable\n  var data = toObservable([]);\n</code></pre>\n\n<p><code>[]</code> can also be a map (<code>{}</code>);</p>\n"}], "owner": {"reputation": 779, "user_id": 456475, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/201670942b3c275687fd4c998ce4354d?s=128&d=identicon&r=PG", "display_name": "Skoky", "link": "https://stackoverflow.com/users/456475/skoky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1422204021, "creation_date": 1422203345, "question_id": 28138634, "link": "https://stackoverflow.com/questions/28138634/template-repeat-on-data-downloaded", "title": "template repeat on data downloaded", "body": "<p>I want to download data from an url like this</p>\n\n<pre><code>var request = HttpRequest.getString(url).then(onDataLoaded)\n</code></pre>\n\n<p>And in the onDataLoaded initiate the <code>\"template repeat=...\"</code></p>\n\n<p>How is this possible? Currently the template repeat iterrates before my async data download is done. Or is there any other way to iterate result in dart:polymer?</p>\n"}, {"tags": ["eclipse", "dart"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422181453, "post_id": 28135288, "comment_id": 44642712, "body": "What&#39;s the error message, where do you get it, (build, launch) which browser (Dartium, Chrome,...) which Angular version, Dart version,...? How does your <code>pubspec.yaml</code> file look like? Can you also please add the links to the pages where you found the error mentioned."}, {"owner": {"reputation": 457, "user_id": 2214364, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/032c094f1fcaae337fd3e709582e5baf?s=128&d=identicon&r=PG", "display_name": "sunny-mittal", "link": "https://stackoverflow.com/users/2214364/sunny-mittal"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422181547, "post_id": 28135288, "comment_id": 44642727, "body": "I just messed around with some of the paths and either the docs are wrong, or they&#39;re just wrong for this version. I just changed all the paths to relative paths and now it&#39;s working, so I think that might be the fix."}], "answers": [{"comments": [{"owner": {"reputation": 457, "user_id": 2214364, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/032c094f1fcaae337fd3e709582e5baf?s=128&d=identicon&r=PG", "display_name": "sunny-mittal", "link": "https://stackoverflow.com/users/2214364/sunny-mittal"}, "edited": false, "score": 0, "creation_date": 1422182229, "post_id": 28135389, "comment_id": 44642895, "body": "Upon further inspection, my &quot;lib&quot; folder was nested under the main &quot;s1_basics&quot; folder rather than being under the &quot;web&quot; folder as it should have. I don&#39;t have the instructions in front of me, so this was either an oversight on my part, or the instructions were wrong (probably the former)."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422182751, "post_id": 28135389, "comment_id": 44643018, "body": "Looks like you are doing weir things. If your application is in <code>myapp</code> the the others should be <code>myapp&#47;web</code> and <code>myapp&#47;lib</code>. It&#39;s not obvous what <code>s1_basics</code> would be, maybe similar to <code>myapp</code> in my example."}, {"owner": {"reputation": 457, "user_id": 2214364, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/032c094f1fcaae337fd3e709582e5baf?s=128&d=identicon&r=PG", "display_name": "sunny-mittal", "link": "https://stackoverflow.com/users/2214364/sunny-mittal"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422183829, "post_id": 28135389, "comment_id": 44643259, "body": "I agree that I&#39;m doing &quot;weird&quot; things...however, the tutorial I&#39;m following says to do it this way. First it says to make sure that &quot;lib&quot; is at the same level as &quot;web,&quot; which was how I did it initially...but when I launched Chromium, the error was based on not being able to find a file, and it said it was looking in &quot;web/lib/...etc&quot;...which suggested to me that I move &quot;lib&quot; into &quot;web.&quot; I really don&#39;t know what&#39;s going on, &#39;cause, even though I no longer have any errors after moving &quot;lib&quot; to &quot;web,&quot; I now have a different issue where my variables aren&#39;t updating properly :("}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422184047, "post_id": 28135389, "comment_id": 44643310, "body": "<code>lib</code> into <code>web</code> is definitively wrong but it&#39;s hard to tell what&#39;s the actual problem because your question does&#39;t provide enough information. Importing from a relative path is fine but this is not how to use the lib folder."}, {"owner": {"reputation": 457, "user_id": 2214364, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/032c094f1fcaae337fd3e709582e5baf?s=128&d=identicon&r=PG", "display_name": "sunny-mittal", "link": "https://stackoverflow.com/users/2214364/sunny-mittal"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422184524, "post_id": 28135389, "comment_id": 44643423, "body": "is there any other info I can provide that would help? I cloned down a tutorial and have only been modifying files in one folder. The folder root is called &quot;s1_basics,&quot; under which I have a &quot;lib,&quot; &quot;packages,&quot; and &quot;web&quot; folder. Under &quot;lib,&quot; I have &quot;badge_controller.dart&quot; and &quot;pirate_module.dart&quot;. Under &quot;packages,&quot; I have a ton of dart/angular dependencies, and finally, under &quot;web,&quot; I have another &quot;packages&quot; folder, and &quot;index.html,&quot; &quot;main.dart, &quot; and &quot;piratebadge.css.&quot;"}, {"owner": {"reputation": 457, "user_id": 2214364, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/032c094f1fcaae337fd3e709582e5baf?s=128&d=identicon&r=PG", "display_name": "sunny-mittal", "link": "https://stackoverflow.com/users/2214364/sunny-mittal"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422184583, "post_id": 28135389, "comment_id": 44643439, "body": "I&#39;m not using the Dart editor, but instead regular Eclipse with the Dart plugin, but none of my files are giving me errors so I feel like everything&#39;s okay in that regard...just can&#39;t figure out why I&#39;m getting an error upon launching &quot;index.html.&quot; The error is: &quot;An error occurred loading file: <a href=\"http://localhost:8081/lib/pirate_module.dart\" rel=\"nofollow noreferrer\">localhost:8081/lib/pirate_module.dart</a>&quot; and when I click on the link, it says &quot;Could not find asset web/lib/pirate_module.dart in package s1_basics.&quot; Note the &quot;web/lib&quot; portion of that....why&#39;s it looking there? Is there anything I can copy/paste to help you help me?"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422185327, "post_id": 28135389, "comment_id": 44643635, "body": "Your last two comments contains some information I can works with. I don&#39;t know about Eclipse with the Dart plugin though. It doesn&#39;t look like the error is caused a bug in the source but rather by some execution problem. Can you try with the unmodified tutorial example and post if you get the same error?"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422185453, "post_id": 28135389, "comment_id": 44643657, "body": "Can you also please add a link to the tutorial source you are working with?"}, {"owner": {"reputation": 457, "user_id": 2214364, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/032c094f1fcaae337fd3e709582e5baf?s=128&d=identicon&r=PG", "display_name": "sunny-mittal", "link": "https://stackoverflow.com/users/2214364/sunny-mittal"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422214619, "post_id": 28135389, "comment_id": 44652796, "body": "I actually figured it out by comparing my code against the ng-darrrt-codelab GitHub repo. For some reason, the relative paths weren&#39;t working. When I changed the import statement to &quot;import &#39;package:s1_basics/pirate_module.dart&#39;&quot; it works. I must have been too tired last night and not thinking clearly. Thank you for your help!"}], "tags": [], "owner": {"reputation": 457, "user_id": 2214364, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/032c094f1fcaae337fd3e709582e5baf?s=128&d=identicon&r=PG", "display_name": "sunny-mittal", "link": "https://stackoverflow.com/users/2214364/sunny-mittal"}, "is_accepted": false, "score": 0, "last_activity_date": 1422181732, "creation_date": 1422181732, "answer_id": 28135389, "question_id": 28135288, "link": "https://stackoverflow.com/questions/28135288/angular-dart-target-of-uri/28135389#28135389", "title": "Angular-dart: &quot;target of URI...&quot;", "body": "<p>Changing the import paths to be relative references for the imported files seems to fix it; i.e. initially this gave errors: </p>\n\n<pre><code>import 'package:s1_basics/pirate_module.dart'; \n</code></pre>\n\n<p>but after changing it to</p>\n\n<pre><code>import '../lib/pirate_module.dart';\n</code></pre>\n\n<p>it worked...so that's the fix (for this) if anyone out there has issues.</p>\n"}], "owner": {"reputation": 457, "user_id": 2214364, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/032c094f1fcaae337fd3e709582e5baf?s=128&d=identicon&r=PG", "display_name": "sunny-mittal", "link": "https://stackoverflow.com/users/2214364/sunny-mittal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1422181732, "creation_date": 1422180903, "question_id": 28135288, "link": "https://stackoverflow.com/questions/28135288/angular-dart-target-of-uri", "title": "Angular-dart: &quot;target of URI...&quot;", "body": "<p>I searched high and low for this issue and, while I found reports of the same error ubiquitously, I didn't find this specific error and can't seem to resolve it. I'm just now learning Dart and am following the Angular-Dart tutorial, and I keep getting this error early on, with no explanation that I can find. This is my badge_controller file: </p>\n\n<pre><code>library s1_basics.badge_controller;\n\nimport 'package:angular/angular.dart';\n\n@NgController(\nselector: '[badge-controller]',\npublishAs: 'ctrl'\n)\nclass BadgeController {\n  static const DEFAULT_NAME = 'Anne Bonney';\n  static const LABEL1 = 'Arrr! Write yer name!';\n  static const LABEL2 = 'Aye! Gimme a name!';\n  String name = '';\n\n  bool get inputIsNotEmpty =&gt; name.trim().isNotEmpty;\n  String get label =&gt; inputIsNotEmpty ? LABEL1 : LABEL2;\n\n  generateName() {\n    name = DEFAULT_NAME;\n  }\n}\n</code></pre>\n\n<p>And this is my pirate_module file:</p>\n\n<pre><code>library s1_basics.pirate_module;\n\nimport 'package:angular/angular.dart';\nimport 'package:s1_basics/badge_controller.dart';\n\nclass PirateModule extends Module {\n  PirateModule() {\n    type(BadgeController);\n  }\n}\n</code></pre>\n\n<p>I'm so early on in this tutorial that I don't think there's much else that I can show to debug this, but if anyone has an idea, I'd greatly appreciate it. Cheers!</p>\n"}, {"tags": ["html", "dart", "polymer", "dart-polymer"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1422051019, "post_id": 28118994, "comment_id": 44613355, "body": "Hard to tell, your question doesn&#39;t show much relevant code. Do you have an import for the Polymer element you add somewhere (entry page or the Polymer element where you add it)? (like <code>&lt;link rel=&quot;import&quot; href=&quot;packages&#47;core_elements&#47;core_icon.html&quot;&gt;</code>)"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422085261, "post_id": 28118994, "comment_id": 44620456, "body": "You can simplify <code>shadowRoot.querySelector(&quot;core-scaffold&quot;).querySelector(&quot;.co&zwnj;&#8203;ntent&quot;)</code> to <code>shadowRoot.querySelector(&quot;core-scaffold &gt; .content&quot;)</code> or just <code>shadowRoot.querySelector(&quot;.content&quot;)</code> if the <code>&lt;div&gt;</code> is the only element with that class. Otherwise I still can&#39;t see what could be wrong. I usually use <code>div.append(e)</code> instead of <code>div.children.add(e)</code> (should work as well but you could try the first one anyway). Where do you have the imports for <code>a-page</code>, <code>b-page</code>, <code>c-page</code>?"}, {"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422088096, "post_id": 28118994, "comment_id": 44620955, "body": "Neither shadowRoot.querySelector(&quot;core-scaffold.content&quot;) nor  shadowRoot.querySelector(&quot;.content&quot;) works, I need to the double query selector, otherwise the DivElement is null. I&#39;m guessing the shadowRoot hiding the div element from the dom. The imports for a-page is all being done in page.dart which is the page library, then in navigation-toolbar.dart I just import page.dart. Seeing as I&#39;m instantiating the components in dart, I don&#39;t see the need to import the a-page.html as well on the navigation-toolbar.html,  but if I do, I get the exception mentioned in my question, so not doing it."}, {"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422088709, "post_id": 28118994, "comment_id": 44621076, "body": "I solved it, a whole day of googling finally resolved :-) Will post answer nownow, then we can figure out why it works and why the other way doesn&#39;t work."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1422088713, "post_id": 28118994, "comment_id": 44621077, "body": "Every element needs an HTML import <code>&lt;link rel ...&gt;</code> no matter how it is instantiated. <code>shadowRoot.querySelector(&quot;core-scaffold.content&quot;)</code> can work of course, it looks for a <code>&lt;core-scaffold class=&quot;content&quot;&gt;</code> element but <code>shadowRoot.querySelector(&quot;core-scaffold .content&quot;)</code> or <code>shadowRoot.querySelector(&quot;core-scaffold &gt; .content&quot;)</code> or <code>shadowRoot.querySelector(&quot;div.content&quot;)</code> should definitively work because they are all within the same shadow DOM."}, {"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422089458, "post_id": 28118994, "comment_id": 44621221, "body": "They do work if I put a space between core-scaffold and .content, I was trimming the space. The importing the html elements fixed it for me, but it meant ripping them out of the library they were in and making them standalone as shown in my answer below. Thanks for the help G&#252;nter!"}], "answers": [{"tags": [], "owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "is_accepted": true, "score": 0, "last_activity_date": 1422089807, "last_edit_date": 1422089807, "creation_date": 1422089140, "answer_id": 28123801, "question_id": 28118994, "link": "https://stackoverflow.com/questions/28118994/add-polymer-dart-element-to-div/28123801#28123801", "title": "Add polymer-dart element to div", "body": "<p>After messing around a bit, I found a way that works - it seems polymer elements doesn't play nice when included in a library.</p>\n\n<p>This was what a-page.dart looked like:</p>\n\n<pre><code>part of page;\n\n@CustomTag('a-page')\nclass APage extends PolymerElement {\n\n  APage.created() : super.created();\n\n  factory APage() =&gt; new Element.tag('a-page');\n\n}\n</code></pre>\n\n<p>and the page.dart library:</p>\n\n<pre><code>library page;\n\nimport 'package:polymer/polymer.dart';\nimport 'dart:html';\n\npart 'a-page.dart';\npart 'b-page.dart';\npart 'c-page.dart';\n</code></pre>\n\n<p>After removing the page library and putting all the dependencies straight inside a-page.dart:</p>\n\n<pre><code>import 'package:polymer/polymer.dart';\nimport 'dart:html';\n\n@CustomTag('a-page')\nclass APage extends PolymerElement {\n\n  APage.created() : super.created();\n\n  factory APage() =&gt; new Element.tag('a-page');\n\n}\n</code></pre>\n\n<p>inside my navigation-toolbar.dart, instead of importing page/page.dart, I need to import each page individually:</p>\n\n<pre><code>import 'page/a-page.dart';\nimport 'page/b-page.dart';\nimport 'page/c-page.dart';\n\n...\n\n  setPage(PolymerElement e) {\n\n    DivElement div = shadowRoot.querySelector(\"core-scaffold .content\")\n    ..children.clear()\n    ..append(e);\n\n  }\n</code></pre>\n\n<p>and on navigation-toolbar.html, I need to import each html component as well for it to work:</p>\n\n<pre><code>&lt;link rel=\"import\" href=\"page/a-page.html\"&gt;\n&lt;link rel=\"import\" href=\"page/b-page.html\"&gt;\n&lt;link rel=\"import\" href=\"page/c-page.html\"&gt;\n</code></pre>\n\n<p>Is it even possible to include polymer elements in a library?</p>\n"}], "owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 316, "favorite_count": 0, "accepted_answer_id": 28123801, "answer_count": 1, "score": 0, "last_activity_date": 1422089807, "creation_date": 1422048458, "last_edit_date": 1422084632, "question_id": 28118994, "link": "https://stackoverflow.com/questions/28118994/add-polymer-dart-element-to-div", "title": "Add polymer-dart element to div", "body": "<p>I'm trying to build a component that can switch other components in and out, almost like pages, but with no change in URL.</p>\n\n<p>I have a polymer element that contains a content div:</p>\n\n<pre><code>&lt;link rel=\"import\" href=\"../../packages/polymer/polymer.html\"&gt;\n\n&lt;link rel=\"import\" href=\"../../packages/paper_elements/paper_input.html\"&gt;\n&lt;link rel=\"import\" href=\"../../packages/paper_elements/paper_input.html\"&gt;\n&lt;link rel=\"import\" href=\"../../packages/paper_elements/paper_tabs.html\"&gt;\n&lt;link rel=\"import\" href=\"../../packages/paper_elements/paper_dialog.html\"&gt;\n&lt;link rel=\"import\" href=\"../../packages/paper_elements/paper_icon_button.html\"&gt;\n&lt;link rel=\"import\" href=\"../../packages/core_elements/core_toolbar.html\"&gt;\n&lt;link rel=\"import\" href=\"../../packages/core_elements/core_scaffold.html\"&gt;\n&lt;link rel=\"import\" href=\"../../packages/core_elements/core_header_panel.html\"&gt;\n&lt;link rel=\"import\" href=\"../../packages/core_elements/core_menu.html\"&gt;\n&lt;link rel=\"import\" href=\"../../packages/core_elements/core_item.html\"&gt;\n&lt;link rel=\"import\" href=\"../../packages/paper_elements/paper_input.html\"&gt;\n&lt;link rel=\"import\" href=\"../../packages/paper_elements/paper_button.html\"&gt;\n\n&lt;polymer-element name=\"navigation-toolbar\" class=\"dark-primary-color\"&gt;\n    &lt;template&gt;\n        &lt;style type=\"text/css\"&gt;\n            :host {\n                display: block;\n            }\n\n        &lt;/style&gt;\n\n        &lt;core-scaffold&gt;\n\n            &lt;core-header-panel id=\"menu-panel\" navigation flex&gt;\n\n                &lt;core-toolbar id=\"navheader\"&gt;\n                    &lt;span&gt;Menu&lt;/span&gt;\n                &lt;/core-toolbar&gt;\n                &lt;core-menu&gt;\n                    &lt;core-item label=\"A\" on-click=\"{{aClicked}}\"&gt;&lt;/core-item&gt;\n                    &lt;core-item label=\"B\" on-click=\"{{bClicked}}\"&gt;&lt;/core-item&gt;\n                    &lt;core-item label=\"C\" on-click=\"{{cClicked}}\"&gt;&lt;/core-item&gt;\n                &lt;/core-menu&gt;\n            &lt;/core-header-panel&gt;\n\n            &lt;span tool&gt;{{title}}&lt;/span&gt;\n            &lt;paper-tabs class=\"main-menu bottom fit\" selected=\"0\"&gt;\n                &lt;paper-tab on-click=\"{{aClicked}}\"&gt;A&lt;/paper-tab&gt;\n                &lt;paper-tab on-click=\"{{bClicked}}\"&gt;B&lt;/paper-tab&gt;\n                &lt;paper-tab on-click=\"{{cClicked}}\"&gt;C&lt;/paper-tab&gt;\n            &lt;/paper-tabs&gt;\n\n            &lt;div class=\"content\" forceNarrow&gt;\n               &lt;p&gt;Lorem ipsum ...&lt;/p&gt;\n            &lt;/div&gt;\n        &lt;/core-scaffold&gt;\n    &lt;/template&gt;\n    &lt;script type=\"application/dart\" src=\"navigation-toolbar.dart\"&gt;&lt;/script&gt;\n&lt;/polymer-element&gt;\n</code></pre>\n\n<p>I have an eventbus that fires events and receives events, it is used all over the application to allow me to decouple components.</p>\n\n<pre><code>part of util;\n\nclass EB {\n\n  static EventBus _eventBus = new EventBus();\n\n  static fire(event){\n    _eventBus.fire(event);\n  }\n\n  static Stream on([Type eventType]) {\n    return _eventBus.on(eventType);\n  }\n\n}\n</code></pre>\n\n<p>PageEvent which is being used to fire / listen for page events is just a PODO:</p>\n\n<pre><code>part of event;\n\nclass PageEvent {\n\n  String page;\n  String title;\n  PolymerElement element;\n\n\n  PageEvent.create(String page, String title, PolymerElement element){\n    this.page = page;\n    this.title = title;\n    this.element = element;\n  }\n\n\n}\n</code></pre>\n\n<p>Inside the event library the relevant imports is being done for PageEvent:</p>\n\n<pre><code>library event;\n\nimport 'package:polymer/polymer.dart';\n\npart 'login-event.dart';\npart 'logout-event.dart';\npart 'page-event.dart';\n...\n</code></pre>\n\n<p>This event bus is then used in my core-scaffold component:</p>\n\n<pre><code>import 'package:polymer/polymer.dart';\nimport 'util/util.dart';\nimport 'event/event.dart';\nimport 'page/page.dart';\nimport 'dart:html';\n\n@CustomTag('navigation-toolbar')\nclass NavigationToolbar extends PolymerElement {\n\n  @observable String page = \"home\";\n  @observable String title = \"Home\";\n\n  NavigationToolbar.created() : super.created() {\n\n    EB.on(PageEvent).listen((PageEvent e) {\n      this.page = e.page;\n      this.title = e.title;\n      setPage(e.element);\n    });\n</code></pre>\n\n<p>An event is fired upon clicking on one of the paper-tabs:</p>\n\n<pre><code> // part of navigation-toolbar\n aClicked(event, detail, target) {\n    EB.fire(new PageEvent.create(\"a\", \"A\", new APage()));\n  }\n</code></pre>\n\n<p>setPage is where the final magic is supposed to happen, but is not, both div and e is being printed out which tells me it is getting to the method and both e and div are not null:</p>\n\n<pre><code> // part of navigation-toolbar\n setPage(PolymerElement e) {\n\n    DivElement div = shadowRoot.querySelector(\"core-scaffold\").querySelector(\".content\");\n    Node node = div.lastChild;\n    while (node != null) {\n      node.remove();\n      node = div.lastChild;\n    }\n\n    print(div);\n    print(e);\n\n    div.children.add(e);\n\n  }\n</code></pre>\n\n<p>Printing out div, I can see the word div in the console which means it's not null, printing out e, I can see a-page, b-page, c-page, etc, that's not null either.</p>\n\n<p>The code to clear the div works, it removes all content. The part that doesn't work is the div.children.add(e);</p>\n\n<p>APage looks like this:</p>\n\n<pre><code>&lt;link rel=\"import\" href=\"../../../packages/polymer/polymer.html\"&gt;\n\n&lt;polymer-element name=\"home-page\" class=\"dark-primary-color\"&gt;\n    &lt;template&gt;\n        &lt;div&gt;\n            A Page\n        &lt;/div&gt;\n    &lt;/template&gt;\n    &lt;script type=\"application/dart\" src=\"a-page.dart\"&gt;&lt;/script&gt;\n&lt;/polymer-element&gt;\n</code></pre>\n\n<p>and a-page.dart:</p>\n\n<pre><code>part of page;\n\n@CustomTag('a-page')\nclass APage extends PolymerElement {\n\n  APage.created() : super.created();\n\n  factory APage() =&gt; new Element.tag('a-page');\n\n}\n</code></pre>\n\n<p>Adding an import for a-page.html in navigation-toolbar.html</p>\n\n<pre><code>&lt;link rel=\"import\" href=\"page/a-page.html\"&gt;\n</code></pre>\n\n<p>Gives me the following exception:</p>\n\n<pre><code>'package:falm/page/a-page.dart': error: line 1 pos 6: url expected\npart of page;\n     ^: package:falm/page/a-page.dart \n</code></pre>\n\n<p><code>div.children.add(e);</code> doesn't work, what am I missing here?</p>\n"}, {"tags": ["dart", "dart-polymer"], "answers": [{"comments": [{"owner": {"reputation": 2389, "user_id": 2345370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7f2ad519f77a20c173a0b5174a900c2d?s=128&d=identicon&r=PG", "display_name": "Not an ID", "link": "https://stackoverflow.com/users/2345370/not-an-id"}, "edited": false, "score": 0, "creation_date": 1422015539, "post_id": 28109398, "comment_id": 44593372, "body": "If I understood it right, <code>changes</code> delivers <code>ChangeRecord</code>, which is about the map itself, non of them is about whether or not the change has been applied to DOM. Thanks anyway :)"}, {"owner": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "reply_to_user": {"reputation": 2389, "user_id": 2345370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7f2ad519f77a20c173a0b5174a900c2d?s=128&d=identicon&r=PG", "display_name": "Not an ID", "link": "https://stackoverflow.com/users/2345370/not-an-id"}, "edited": false, "score": 0, "creation_date": 1422037447, "post_id": 28109398, "comment_id": 44606689, "body": "That&#39;s right. But that&#39;s why you have the Future solution or a MutationObserver..."}], "tags": [], "owner": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "is_accepted": false, "score": 1, "last_activity_date": 1422015653, "last_edit_date": 1422015653, "creation_date": 1422014235, "answer_id": 28109398, "question_id": 28109262, "link": "https://stackoverflow.com/questions/28109262/polymer-dart-is-observables-new-value-inserted-into-dom/28109398#28109398", "title": "Polymer Dart: is @observable&#39;s new value inserted into DOM?", "body": "<ol>\n<li><p>You have to use toObservable() on your map, otherwise new values will not be inserted.</p></li>\n<li><p>Why do you need to know when new values are updated in the DOM? If you really need it you can listen to the <code>changes</code> of the <code>ObservableMap</code>.</p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1422016227, "post_id": 28109772, "comment_id": 44593710, "body": "If you delay your code using <code>new Future(() =&gt; ...)</code> then you know Polymer has already updated the DOM. Polymer itself gets notified about the changes the same way but immediately updates the DOM. If you delay your code using <code>Future(() =&gt; ...)</code> your code will be executed in a later cycle."}, {"owner": {"reputation": 2389, "user_id": 2345370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7f2ad519f77a20c173a0b5174a900c2d?s=128&d=identicon&r=PG", "display_name": "Not an ID", "link": "https://stackoverflow.com/users/2345370/not-an-id"}, "edited": false, "score": 0, "creation_date": 1422016719, "post_id": 28109772, "comment_id": 44593978, "body": "Don&#39;t really understand how events are passed and how Future are scheduled, let me read more and confirm later :)"}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 1, "last_activity_date": 1422015875, "last_edit_date": 1422015875, "creation_date": 1422015555, "answer_id": 28109772, "question_id": 28109262, "link": "https://stackoverflow.com/questions/28109262/polymer-dart-is-observables-new-value-inserted-into-dom/28109772#28109772", "title": "Polymer Dart: is @observable&#39;s new value inserted into DOM?", "body": "<p>You can listen to <code>model.changes</code> but this is also what Polymer does. To execute your code <strong>after</strong> Polymer added the elements to the DOM you can delay your code like</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>model.changes.listen((changes) {\n  new Future(() =&gt; doSomethingAfterDomUpdate());\n});\n</code></pre>\n\n<p>This way you give Polymer time to complete its updates.</p>\n"}], "owner": {"reputation": 2389, "user_id": 2345370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7f2ad519f77a20c173a0b5174a900c2d?s=128&d=identicon&r=PG", "display_name": "Not an ID", "link": "https://stackoverflow.com/users/2345370/not-an-id"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1422016200, "creation_date": 1422013742, "last_edit_date": 1422016200, "question_id": 28109262, "link": "https://stackoverflow.com/questions/28109262/polymer-dart-is-observables-new-value-inserted-into-dom", "title": "Polymer Dart: is @observable&#39;s new value inserted into DOM?", "body": "<p>Say I have a custom element, who has a <code>@observable Map model = toObservable({'k': 'v'});</code> in its dart file, and <code>&lt;span&gt;{{model['k']}}&lt;/span&gt;</code> in its html file, when I changed <code>model</code>, how can I know, without using <code>MutationObserver</code> to observe DOM, that the new value is applied to DOM?</p>\n"}, {"tags": ["dart"], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 5, "last_activity_date": 1421989942, "last_edit_date": 1495541158, "creation_date": 1421989942, "answer_id": 28103432, "question_id": 28098733, "link": "https://stackoverflow.com/questions/28098733/how-can-i-trigger-a-kind-of-onchange-event-in-a-class/28103432#28103432", "title": "How can i trigger a kind of onChange event in a class", "body": "<p>You can either create a stream getter where others can listen to or use observable.</p>\n\n<p><strong>Stream:</strong></p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:async';\n\n// custom event class\nclass MyEvent {\n  String eventData;\n\n  MyEvent(this.eventData);\n}\n\n// class that fires when something changes\nclass SomeClass {\n  var changeController = new StreamController&lt;MyEvent&gt;();\n  Stream&lt;MyEvent&gt; get onChange =&gt; changeController.stream;\n\n  void doSomething() {\n    // do the change\n    changeController.add(new MyEvent('something changed'));\n  }\n}\n\n// listen to changes\n...\nvar c = new SomeClass();\nc.onChange.listen((e) =&gt; print(e.eventData));\n...\n</code></pre>\n\n<p><strong>Observable:</strong>\nsee<br>\n- <a href=\"https://stackoverflow.com/questions/24276737\">Observe package from polymer dart</a><br>\n- <a href=\"https://stackoverflow.com/questions/20774215\">How to use Dart ChangeNotifier class?</a><br>\n- <a href=\"http://www.dartdocs.org/documentation/observe/0.12.2/index.html\" rel=\"nofollow noreferrer\">http://www.dartdocs.org/documentation/observe/0.12.2/index.html</a></p>\n"}], "owner": {"reputation": 123, "user_id": 3978600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe84185cbe1aef2aabbd1236dd503aa8?s=128&d=identicon&r=PG&f=1", "display_name": "Christoph Lachenicht", "link": "https://stackoverflow.com/users/3978600/christoph-lachenicht"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3654, "favorite_count": 3, "accepted_answer_id": 28103432, "answer_count": 1, "score": 1, "last_activity_date": 1421989942, "creation_date": 1421961018, "question_id": 28098733, "link": "https://stackoverflow.com/questions/28098733/how-can-i-trigger-a-kind-of-onchange-event-in-a-class", "title": "How can i trigger a kind of onChange event in a class", "body": "<p>I try to build an application in dart. I inject a service class in two other to share some data. The problem is now, I don't know how can i trigger an event(onChange) in one class by another class attribute change(async).</p>\n"}, {"tags": ["dart", "command-line-interface", "command-line-arguments", "dart-pub", "dart2js"], "comments": [{"owner": {"reputation": 75233, "user_id": 123471, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/t75zo.jpg?s=128&g=1", "display_name": "Seth Ladd", "link": "https://stackoverflow.com/users/123471/seth-ladd"}, "edited": false, "score": 1, "creation_date": 1421945954, "post_id": 28093559, "comment_id": 44564953, "body": "I think you&#39;re asking about this issue: <a href=\"https://code.google.com/p/dart/issues/detail?id=19569\" rel=\"nofollow noreferrer\">code.google.com/p/dart/issues/detail?id=19569</a>"}], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 1, "last_activity_date": 1421943796, "creation_date": 1421943796, "answer_id": 28093734, "question_id": 28093559, "link": "https://stackoverflow.com/questions/28093559/how-do-i-set-the-dart2js-minify-option-from-the-command-line-when-executing-p/28093734#28093734", "title": "How do I set the dart2js --minify option from the command line when executing `pub build`?", "body": "<p>I have never seen anything like that mentioned (for example in any of the bug reports) and I'm pretty sure this is not supported. I suggest to just create a feature request at <a href=\"http://dartbug.com\" rel=\"nofollow\">http://dartbug.com</a>.</p>\n\n<p>One way I can think of is to create a script which manipulates the <code>pubspec.yaml</code> file before executing <code>pub build</code>. This should be easy using the <a href=\"https://pub.dartlang.org/packages/yaml\" rel=\"nofollow\">https://pub.dartlang.org/packages/yaml</a> package.</p>\n"}], "owner": {"reputation": 1491, "user_id": 607036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QNhb.jpg?s=128&g=1", "display_name": "Lucas Meadows", "link": "https://stackoverflow.com/users/607036/lucas-meadows"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 412, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1424517555, "creation_date": 1421943332, "last_edit_date": 1424517555, "question_id": 28093559, "link": "https://stackoverflow.com/questions/28093559/how-do-i-set-the-dart2js-minify-option-from-the-command-line-when-executing-p", "title": "How do I set the dart2js --minify option from the command line when executing `pub build`?", "body": "<p>For my release process I need several different \"modes.\" However, if I use the <code>--mode</code> option for <code>pub build</code> and set it to any value other than <code>release</code>, it forces <em>un</em>-minified javascript.</p>\n\n<p>I know I can configure the dart2js transformer in my <code>pubspec.yaml</code>, but if I set <code>minify: true</code> under the <code>$dart2js</code> heading in my <code>pubspec.yaml</code> I am then forcing them to be minified, and then cannot produce un-minified debug builds.</p>\n\n<p>What I'm really looking for is a way to configure arbitrary dart2js options (minified, checked, etc.) in <code>pub build</code> via the CLI (so that I don't have to hardcode in <code>pubspec.yaml</code>), or, failing that, to be able to specify additional arbitrary flags from the <code>pub build</code> CLI so that I can reserve <code>--mode</code> for <code>debug</code> and <code>release</code>. The <code>asPlugin()</code> transformer constructor takes a <code>BarbackSettings</code> object, but I can't see how to see arbitrary params in that <strong>via the command line</strong>.</p>\n"}, {"tags": ["dart"], "comments": [{"owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "edited": false, "score": 0, "creation_date": 1422013114, "post_id": 28084293, "comment_id": 44592050, "body": "Special behavior for subclasses, depending on the class: This sounds exactly like what virtual functions are intended to solve. How about having: <code>class Foo { Foo _createNew() =&gt; new Foo(); Foo getAnother(Foo foo) =&gt; foo._createNew(); }</code> and then <code>class Bar extends Foo { _createNew() =&gt; new Bar(); }</code> and similar for <code>Baz</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 1854, "user_id": 858061, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/e4oUG.jpg?s=128&g=1", "display_name": "Michael Fenwick", "link": "https://stackoverflow.com/users/858061/michael-fenwick"}, "edited": false, "score": 0, "creation_date": 1421920387, "post_id": 28084501, "comment_id": 44548926, "body": "Amazing! I had no idea you could use class names like that. I have to say, this seems a little like magic. Could you explain more about how this usage works (and maybe about the Type class in general)?"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 2, "creation_date": 1426856611, "post_id": 28084501, "comment_id": 46552901, "body": "This doesn&#39;t work with <code>List</code>, and <code>Map</code>, <code>Set</code> and probably others."}, {"owner": {"reputation": 223, "user_id": 1710958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/791510818e4126572f81b2fbdd94bcc8?s=128&d=identicon&r=PG", "display_name": "Naoto Hc", "link": "https://stackoverflow.com/users/1710958/naoto-hc"}, "edited": false, "score": 0, "creation_date": 1456220485, "post_id": 28084501, "comment_id": 58834569, "body": "I believe this switch case statement with runtimeType will cause error on <code>pub build</code> (-&gt; &#39;case&#39; expression type &#39;TypeImpl&#39; overrides &#39;operator ==&#39;.). Changing the code to String comparison (<code>foo.runtimeType.toString()</code> and <code>case &#39;Bar&#39;</code>) can pass <code>pub build</code>."}, {"owner": {"reputation": 2073, "user_id": 4138841, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/11bu4.jpg?s=128&g=1", "display_name": "Linxy", "link": "https://stackoverflow.com/users/4138841/linxy"}, "edited": false, "score": 1, "creation_date": 1541084096, "post_id": 28084501, "comment_id": 93102824, "body": "does this have any performance ramifications or is it safe to use commonly?"}, {"owner": {"reputation": 1923, "user_id": 2880055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b856ec58730d123b6dcb5b66cab396a7?s=128&d=identicon&r=PG&f=1", "display_name": "ThinkDigital", "link": "https://stackoverflow.com/users/2880055/thinkdigital"}, "edited": false, "score": 0, "creation_date": 1564710849, "post_id": 28084501, "comment_id": 101129023, "body": "@AlexandreArdhuin this doesn&#39;t work for me. The following example prints &quot;No match. B&quot;. <a href=\"https://dartpad.dartlang.org/2012b9264ee9ec79e8c9800d42d3fbef\" rel=\"nofollow noreferrer\">dartpad.dartlang.org/2012b9264ee9ec79e8c9800d42d3fbef</a>"}, {"owner": {"reputation": 51074, "user_id": 634863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198449a7e196c4b0f2ed25f65279bf84?s=128&d=identicon&r=PG", "display_name": "Alexandre Ardhuin", "link": "https://stackoverflow.com/users/634863/alexandre-ardhuin"}, "edited": false, "score": 0, "creation_date": 1564730264, "post_id": 28084501, "comment_id": 101133993, "body": "Looks like a bug in dart2js. The VM prints B. Feel free to <a href=\"https://dartbug.com/new\" rel=\"nofollow noreferrer\">file an isssue</a>"}, {"owner": {"reputation": 5791, "user_id": 3262021, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/qu2VW.png?s=128&g=1", "display_name": "JavierSegoviaCordoba", "link": "https://stackoverflow.com/users/3262021/javiersegoviacordoba"}, "edited": false, "score": 0, "creation_date": 1569941523, "post_id": 28084501, "comment_id": 102754573, "body": "Is it impossible to use with generic yet?"}], "tags": [], "owner": {"reputation": 51074, "user_id": 634863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198449a7e196c4b0f2ed25f65279bf84?s=128&d=identicon&r=PG", "display_name": "Alexandre Ardhuin", "link": "https://stackoverflow.com/users/634863/alexandre-ardhuin"}, "is_accepted": true, "score": 57, "last_activity_date": 1421921877, "last_edit_date": 1421921877, "creation_date": 1421916625, "answer_id": 28084501, "question_id": 28084293, "link": "https://stackoverflow.com/questions/28084293/switching-on-class-type-in-dart/28084501#28084501", "title": "Switching on class type in Dart", "body": "<p>You can use the <code>runtimeType</code> in <code>switch</code> :</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class Foo {\n  Foo getAnother(Foo foo) {\n    switch (foo.runtimeType) {\n      case Bar:\n        return new Bar();\n      case Baz:\n        return new Baz();\n    }\n    return null;\n  }\n}\n</code></pre>\n\n<p>In the <code>case</code> statements the class name is use directly (aka. <em>class literal</em>). This gives a <a href=\"https://api.dartlang.org/apidocs/channels/stable/dartdoc-viewer/dart:core.Type\" rel=\"noreferrer\">Type</a> object corresponding to the class mentionned. Thus <code>foo.runtimeType</code> can be compared with the specified type.</p>\n\n<p>Note that <a href=\"http://dartbug.com/11923\" rel=\"noreferrer\">you can not use generics for now</a> in <em>class literals</em>. Thus <code>case List&lt;int&gt;:</code> is not allowed.</p>\n"}], "owner": {"reputation": 1854, "user_id": 858061, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/e4oUG.jpg?s=128&g=1", "display_name": "Michael Fenwick", "link": "https://stackoverflow.com/users/858061/michael-fenwick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8223, "favorite_count": 3, "accepted_answer_id": 28084501, "answer_count": 1, "score": 31, "last_activity_date": 1421921877, "creation_date": 1421915864, "question_id": 28084293, "link": "https://stackoverflow.com/questions/28084293/switching-on-class-type-in-dart", "title": "Switching on class type in Dart", "body": "<p>I'm looking to write a function in a Dart superclass that takes different actions depending on which subclass is actually using it. Something like this:</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>class Foo {\n  Foo getAnother(Foo foo) {\n    var fooType = //some code here to extract fooType from foo;\n    switch (fooType) {\n      case //something about bar here:\n        return new Bar();\n      case //something about baz here:\n        return new Baz();\n    }\n  }\n}\n\nclass Bar extends Foo {}\n\nclass Baz extends Foo {}\n</code></pre>\n\n<p>where the idea is that I have some object and want to get a new object of the same (sub)class.</p>\n\n<p>The main question is what type should <code>fooType</code> be? My first thought was Symbol, which leads to easy case statements like <code>case #Bar:</code>, but I don't know how I would populate <code>fooType</code> with a Symbol. The only options I can think of are to do something like <code>Symbol fooType = new Symbol(foo.runtimeType.toString());</code> but my understanding is that <code>runtimeType.toString()</code> won't work when converted to javascript. You could get around that by using Mirrors, but this is meant to be a lightweight library, so those aren't on the table. <code>Object.runtimeType</code> returns something of the <code>Type</code> class, but I have no idea how to create instances of <code>Type</code> I could use for the case statements. Maybe I'm missing some other piece of the Dart library that is better suited for this?</p>\n"}, {"tags": ["events", "html5-canvas", "dart", "draw"], "comments": [{"owner": {"reputation": 17661, "user_id": 856501, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7636c7e4f43b4245fdacce7aef90ff85?s=128&d=identicon&r=PG", "display_name": "GameAlchemist", "link": "https://stackoverflow.com/users/856501/gamealchemist"}, "edited": false, "score": 0, "creation_date": 1421915096, "post_id": 28079510, "comment_id": 44546046, "body": "There&#39;s no such &#39;OnChange&#39; event, but you can inject the Context2D to have a flag set whenever a change is made to the content (or an event raised). Just to illustrate how injection could work, you might have a look to this answer of mine : <a href=\"http://stackoverflow.com/a/26561295/856501\">stackoverflow.com/a/26561295/856501</a>"}, {"owner": {"reputation": 25, "user_id": 3623328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a9bbeb691465db0b272877b1c0b3d24?s=128&d=identicon&r=PG&f=1", "display_name": "MasterLetch", "link": "https://stackoverflow.com/users/3623328/masterletch"}, "reply_to_user": {"reputation": 17661, "user_id": 856501, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7636c7e4f43b4245fdacce7aef90ff85?s=128&d=identicon&r=PG", "display_name": "GameAlchemist", "link": "https://stackoverflow.com/users/856501/gamealchemist"}, "edited": false, "score": 0, "creation_date": 1422229751, "post_id": 28079510, "comment_id": 44657564, "body": "that looks like a kind of &quot;inheritance&quot; way of doing it, but that would require that someone use my version of canvas (one that is tracking and invalidating on draw commands) which isn&#39;t a terribly bad way of doing it, I&#39;m just wondering if there is any other way of doing such a thing"}, {"owner": {"reputation": 17661, "user_id": 856501, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7636c7e4f43b4245fdacce7aef90ff85?s=128&d=identicon&r=PG", "display_name": "GameAlchemist", "link": "https://stackoverflow.com/users/856501/gamealchemist"}, "edited": false, "score": 0, "creation_date": 1422269877, "post_id": 28079510, "comment_id": 44668916, "body": "Anyway since it&#39;s not built-in you&#39;ll have to provide specific code. Only other way i see is to compare the current imageData to a saved one, on rAF or less frequently."}, {"owner": {"reputation": 25, "user_id": 3623328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a9bbeb691465db0b272877b1c0b3d24?s=128&d=identicon&r=PG&f=1", "display_name": "MasterLetch", "link": "https://stackoverflow.com/users/3623328/masterletch"}, "reply_to_user": {"reputation": 17661, "user_id": 856501, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7636c7e4f43b4245fdacce7aef90ff85?s=128&d=identicon&r=PG", "display_name": "GameAlchemist", "link": "https://stackoverflow.com/users/856501/gamealchemist"}, "edited": false, "score": 0, "creation_date": 1422659321, "post_id": 28079510, "comment_id": 44852915, "body": "yeah I suppose thats making a literal listenner, I try to stay away from those as much as possible (events are NOT fast or Efficient) Thanks for the answer... you should probably post it as one..."}], "owner": {"reputation": 25, "user_id": 3623328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a9bbeb691465db0b272877b1c0b3d24?s=128&d=identicon&r=PG&f=1", "display_name": "MasterLetch", "link": "https://stackoverflow.com/users/3623328/masterletch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1421903442, "creation_date": 1421887135, "last_edit_date": 1421887538, "question_id": 28079510, "link": "https://stackoverflow.com/questions/28079510/adding-events-to-context2d-draw-methods", "title": "adding events to context2d draw methods", "body": "<p>I have tried many different \"On\" events and none of them seem to support what I'm looking for. is there a way to listen to when the canvas is drawn to? or even context is accessed or received? really anything that remotely resembles a change to the imagedata would be great...</p>\n"}]