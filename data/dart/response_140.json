[{"tags": ["firebase", "firebase-realtime-database", "dart", "angular-dart"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1505309511, "post_id": 46196383, "comment_id": 79360474, "body": "Where does <code>fromMap()</code> come from? Are you using the <code>json_serializable</code> package?"}, {"owner": {"reputation": 1804, "user_id": 5846565, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/zihvw.jpg?s=128&g=1", "display_name": "Tushar Rai", "link": "https://stackoverflow.com/users/5846565/tushar-rai"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1505310133, "post_id": 46196383, "comment_id": 79360939, "body": "I have added the map code with category.dart"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1505311692, "post_id": 46196383, "comment_id": 79362079, "body": "Your <code>fromMap(...)</code> expects 2 values, but you&#39;re only passing one <code>event.snapshot.val()</code>. Your <code>fromMap(...)</code> doesn&#39;t seem to do anything with the expected <code>Map</code> parameter."}], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 4538797, "user_type": "registered", "profile_image": "https://graph.facebook.com/1763989383826992/picture?type=large", "display_name": "Nick Wu", "link": "https://stackoverflow.com/users/4538797/nick-wu"}, "is_accepted": false, "score": 0, "last_activity_date": 1506116200, "creation_date": 1506116200, "answer_id": 46373559, "question_id": 46196383, "link": "https://stackoverflow.com/questions/46196383/populating-list-of-firebase-database-in-angular-dart/46373559#46373559", "title": "Populating list of Firebase database in Angular Dart", "body": "<p>Q1: <code>http://localhost:56991/main.dart</code> should be 404, that's intended behavior. If you just access <code>http://localhost:56991</code>, you should see your component. For more info about this, check out <a href=\"https://webdev.dartlang.org/angular/guide/architecture\" rel=\"nofollow noreferrer\">Angular Dart official doc</a>.</p>\n\n<p>Q2: I think you need to modify your <code>new Category.fromMap()</code> function to check just the snapshot value. Not sure exactly how you would do it, but it should be fairly easy.</p>\n"}], "owner": {"reputation": 1804, "user_id": 5846565, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/zihvw.jpg?s=128&g=1", "display_name": "Tushar Rai", "link": "https://stackoverflow.com/users/5846565/tushar-rai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 243, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506116200, "creation_date": 1505302151, "last_edit_date": 1505310097, "question_id": 46196383, "link": "https://stackoverflow.com/questions/46196383/populating-list-of-firebase-database-in-angular-dart", "title": "Populating list of Firebase database in Angular Dart", "body": "<p>Trying to learn from <a href=\"https://dart.academy/build-a-real-time-chat-web-app-with-dart-angular-2-and-firebase-3/\" rel=\"nofollow noreferrer\">https://dart.academy/build-a-real-time-chat-web-app-with-dart-angular-2-and-firebase-3/</a>, but while implementation</p>\n\n<ul>\n<li><p><strong>Error-1</strong></p>\n\n<p>while debug <code>GET http://localhost:56991/main.dart 404 (Not Found)</code> </p></li>\n<li><p><strong>Error-2</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/UKUrw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UKUrw.png\" alt=\"enter image description here\"></a></p></li>\n</ul>\n\n<p>firebase_service.dart</p>\n\n<pre><code>import 'package:angular/angular.dart';\nimport 'package:firebase/firebase.dart' as fb;\nimport 'package:yns_admin/category_component/category.dart';\n\n@Injectable()\nclass FirebaseService {\n\n  fb.Database fbDatabase;\n  fb.DatabaseReference databaseReference;\n\n  List&lt;Category&gt; categories;\n\n  FirebaseService() {\n    fb.initializeApp(\n      apiKey: \"AIzaSyBOShlCgUeqTL99n32ssasasasasa\",\n      authDomain: \"yns-app.firebaseapp.com\",\n      databaseURL: \"https://yns-app.firebaseio.com\",\n      storageBucket: \"yns-app.appspot.com\",\n    );\n\n    fbDatabase = fb.database();\n    databaseReference = fbDatabase.ref(\"categories\");\n  }\n\n  void showCategories() {\n    categories = [];\n    databaseReference.onChildAdded.listen(newCategory);\n  }\n\n  void newCategory(fb.QueryEvent event) {\n\n    Category category = new Category.fromMap(event.snapshot.val());\n    categories.add(category);\n  }\n}\n</code></pre>\n\n<p>Map code comes from\ncategory.dart</p>\n\n<pre><code>  class Category {\n\n  final String categoryTitle;\n\n  Category(this.categoryTitle);\n\n  Category.fromMap(Map map, this.categoryTitle) {}\n\n  Map toMap() =&gt;{\n    \"categoryTitle\":categoryTitle\n  };\n}\n</code></pre>\n\n<p>main.dart</p>\n\n<pre><code>import 'package:angular/angular.dart';\nimport 'package:yns_admin/app_component/app_component.dart';\n\nvoid main() {\n  bootstrap(AppComponent);\n}\n</code></pre>\n"}, {"tags": ["oauth", "oauth-2.0", "dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 425, "user_id": 5065700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98b8b0b8da12096e7a5150c6ff608f17?s=128&d=identicon&r=PG&f=1", "display_name": "Rick de Vries", "link": "https://stackoverflow.com/users/5065700/rick-de-vries"}, "edited": false, "score": 0, "creation_date": 1509882551, "post_id": 46249175, "comment_id": 81192009, "body": "This is what we ended up doing, but we used the URL-launcher to do it in the native browser instead of a WebView for security reasons. For example, the AndroidManifest.xml linked the URL to an Activity that just checked the URI data, sent it using the channel, and then close itself. Thanks!"}, {"owner": {"reputation": 4805, "user_id": 1085264, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b8e1b984756a7ed46d210e80c0957895?s=128&d=identicon&r=PG", "display_name": "straya", "link": "https://stackoverflow.com/users/1085264/straya"}, "reply_to_user": {"reputation": 425, "user_id": 5065700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98b8b0b8da12096e7a5150c6ff608f17?s=128&d=identicon&r=PG&f=1", "display_name": "Rick de Vries", "link": "https://stackoverflow.com/users/5065700/rick-de-vries"}, "edited": false, "score": 0, "creation_date": 1520588414, "post_id": 46249175, "comment_id": 85386393, "body": "@RickdeVries what security reasons? AFAIK the external browser is only best-practice for &quot;unofficial&quot; clients (i.e. auth and client/app are not owned (code reviewed) by the same entity)."}, {"owner": {"reputation": 425, "user_id": 5065700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98b8b0b8da12096e7a5150c6ff608f17?s=128&d=identicon&r=PG&f=1", "display_name": "Rick de Vries", "link": "https://stackoverflow.com/users/5065700/rick-de-vries"}, "reply_to_user": {"reputation": 4805, "user_id": 1085264, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b8e1b984756a7ed46d210e80c0957895?s=128&d=identicon&r=PG", "display_name": "straya", "link": "https://stackoverflow.com/users/1085264/straya"}, "edited": false, "score": 0, "creation_date": 1520967789, "post_id": 46249175, "comment_id": 85531376, "body": "@straya Our client is &quot;semi-official&quot;: it is recommended by the owning entity, but everyone is free to request OAuth client IDs for it (none have yet). OAuth is all about trust, so we don&#39;t really see the reason to use the WebView instead (except maybe for the &quot;stay-in-app experience&quot;). The browser preserves the user&#39;s cookies, which is also a plus.  Besides, our users are extremely tech-savvy, so some of them wouldn&#39;t even trust a WebView for their credentials, even if it was official."}, {"owner": {"reputation": 4805, "user_id": 1085264, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b8e1b984756a7ed46d210e80c0957895?s=128&d=identicon&r=PG", "display_name": "straya", "link": "https://stackoverflow.com/users/1085264/straya"}, "edited": false, "score": 0, "creation_date": 1520987432, "post_id": 46249175, "comment_id": 85539403, "body": "I&#39;d trust my own code with a (modern)WebView a lot more than a browser which is having 3rd party code run within it constantly, has many more features than necessary for the auth use-case, and is subject to change (updates) a lot more. As for Users, a WebView for login should only be trusted for official software, so your decision makes sense."}, {"owner": {"reputation": 429, "user_id": 1898150, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/95db1d51a99d4efe3caefbe9014dd9f7?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1898150/igor"}, "reply_to_user": {"reputation": 425, "user_id": 5065700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98b8b0b8da12096e7a5150c6ff608f17?s=128&d=identicon&r=PG&f=1", "display_name": "Rick de Vries", "link": "https://stackoverflow.com/users/5065700/rick-de-vries"}, "edited": false, "score": 0, "creation_date": 1523393625, "post_id": 46249175, "comment_id": 86540926, "body": "@RickdeVries, woudl you mind sharing your Activity code?  I have modified the manifest to return the result to the activity based on the redirect URI but am stuck on what to do in the onActivityResult method of the Activity (and then how to build the channel to feed back into Flutter).  My assumption is also that token request can be completed from the Flutter app based on the initially received authorization code."}, {"owner": {"reputation": 425, "user_id": 5065700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98b8b0b8da12096e7a5150c6ff608f17?s=128&d=identicon&r=PG&f=1", "display_name": "Rick de Vries", "link": "https://stackoverflow.com/users/5065700/rick-de-vries"}, "reply_to_user": {"reputation": 429, "user_id": 1898150, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/95db1d51a99d4efe3caefbe9014dd9f7?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1898150/igor"}, "edited": false, "score": 0, "creation_date": 1523958920, "post_id": 46249175, "comment_id": 86765467, "body": "@Igor, I&#39;ve posted a new answer containing the most important bits of our code"}], "tags": [], "owner": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "is_accepted": true, "score": 6, "last_activity_date": 1505524456, "creation_date": 1505524456, "answer_id": 46249175, "question_id": 46196240, "link": "https://stackoverflow.com/questions/46196240/oauth2-flow-in-flutter-app/46249175#46249175", "title": "Oauth2 flow in Flutter app", "body": "<p>I haven't tried this, but my idea is to use <code>FlutterWebviewPlugin</code> to send the user to a URL like <code>https://www.facebook.com/v2.8/dialog/oauth?client_id={app-id}&amp;redirect_uri=fbAPP_ID://authorize</code>. Then add native handlers for <code>application:openURL:options:</code> (on iOS) and <code>onNewIntent</code> (Android) and modify <code>AndroidManifest.xml</code> and <code>Info.plist</code> to register the app to receive URLs from the <code>fbAPP_ID</code> scheme. You can use the platform channels to pass the deep link parameters back to Dart-land and call <code>close()</code> on the webview on the Dart side.</p>\n"}, {"tags": [], "owner": {"reputation": 425, "user_id": 5065700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98b8b0b8da12096e7a5150c6ff608f17?s=128&d=identicon&r=PG&f=1", "display_name": "Rick de Vries", "link": "https://stackoverflow.com/users/5065700/rick-de-vries"}, "is_accepted": false, "score": 4, "last_activity_date": 1523958890, "creation_date": 1523958890, "answer_id": 49875022, "question_id": 46196240, "link": "https://stackoverflow.com/questions/46196240/oauth2-flow-in-flutter-app/49875022#49875022", "title": "Oauth2 flow in Flutter app", "body": "<p>On request of @Igor, I'll post the code we used to solve this.\nThe idea is based both on the answer of @CollinJackson, and on how the <a href=\"https://github.com/openid/AppAuth-Android\" rel=\"nofollow noreferrer\">AppAuth</a> library does the same thing. Note: I don't have the iOS code here, but the code should be pretty trivial to anyone who regularly does iOS development. </p>\n\n<p><strong>Android-specific code</strong></p>\n\n<p>First, create a new Activity, and register it in the manifest to receive the URIs:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;activity\n        android:name=\".UriReceiverActivity\"\n        android:parentActivityName=\".MainActivity\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.VIEW\" /&gt;\n            &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n            &lt;category android:name=\"android.intent.category.BROWSABLE\" /&gt;\n            &lt;data android:scheme=\"organization\" android:host=\"login.oauth2\" /&gt; \n            &lt;!-- Triggering URI would be organization://login.oauth2 --&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n</code></pre>\n\n<p>In your Java-code, by default, there is one Activity (<code>MainActivity</code>). \nStart a new <code>MethodChannel</code> in this activity: </p>\n\n<pre><code>public class MainActivity extends FlutterActivity implements MethodChannel.MethodCallHandler {\n\n  private static final String CHANNEL_NAME = \"organization/oauth2\";\n\n  public static MethodChannel channel;\n\n  @Override  \n  protected void onCreate(Bundle savedInstanceState) {    \n      super.onCreate(savedInstanceState);    \n      GeneratedPluginRegistrant.registerWith(this);\n\n      channel = new MethodChannel(getFlutterView(), CHANNEL_NAME);\n      channel.setMethodCallHandler(this);\n  }\n}\n</code></pre>\n\n<p>Note that this code is incomplete, since we also handle calls from <code>this</code>. Just implemented this method, and the method calls you might add. For example, we launch Chrome custom tabs using this channel. However, to get keys back to Dart-land, this is not necessary (just implement the method). </p>\n\n<p>Since the channel is <code>public</code>, we can call it in our <code>UriReceiverActivity</code>:</p>\n\n<pre><code>public class UriReceiverActivity extends Activity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    Uri data = getIntent().getData();\n    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n    map.put(\"URL\", data.toString());\n    MainActivity.channel.invokeMethod(\"onURL\", map);\n\n    // Now that all data has been sent back to Dart-land, we should re-open the Flutter\n    // activity. Due to the manifest-setting of the MainActivity (\"singleTop), only a single\n    // instance will exist, popping the old one back up and destroying the preceding\n    // activities on the backstack, such as the custom tab.\n    // Flags taken from how the AppAuth-library accomplishes the same thing\n    Intent mainIntent = new Intent(this, MainActivity.class);\n    mainIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);\n    startActivity(mainIntent);\n    finish();\n}\n}\n</code></pre>\n\n<p>This is heavily inspired by <a href=\"https://github.com/openid/AppAuth-Android/blob/81a9a9e8ff6e70abad2356f86450830fd5422d7f/library/java/net/openid/appauth/AuthorizationManagementActivity.java\" rel=\"nofollow noreferrer\">this</a> code. </p>\n\n<p>Now, the Flutter app is re-opened, and the URL (with token) is sent back to Dart-land. </p>\n\n<p><strong>Flutter code</strong> </p>\n\n<p>In Dart, we have a singleton listening in on the channel (I'll only post fragments of the code, since it's not that nice and quite scattered around the file):</p>\n\n<pre><code>  // Member declaration\n  _platform = const MethodChannel('organization/oauth2');\n  // Instantiation in constructor\n  _platform.setMethodCallHandler(_handleMessages);\n  // Actual message handler:\n  void _handleMessages(MethodCall call) {\n    switch (call.method) {\n      case \"onURL\":\n        // Do something nice using call.arguments[\"URL\"]\n    }\n  }\n</code></pre>\n\n<p>On iOS, do the same as on Android, by sending the URL down the channel with that name and under the same command. The Dart code then doesn't need any changes. </p>\n\n<p>As for launching the browser, we just use the <a href=\"https://pub.dartlang.org/packages/url_launcher\" rel=\"nofollow noreferrer\">url_launcher</a> plugin. Note that we are not restricted to using a WebView, we can use any browser on the device. </p>\n\n<p>Note that there are probably easier ways to do this, but since we had to make this quite early in Flutter's alpha, we couldn't look at other implementations. I should probably simplify it at some stage, but we haven't found time for that yet. </p>\n"}], "owner": {"reputation": 425, "user_id": 5065700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98b8b0b8da12096e7a5150c6ff608f17?s=128&d=identicon&r=PG&f=1", "display_name": "Rick de Vries", "link": "https://stackoverflow.com/users/5065700/rick-de-vries"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6904, "favorite_count": 6, "accepted_answer_id": 46249175, "answer_count": 2, "score": 8, "last_activity_date": 1590862690, "creation_date": 1505301777, "last_edit_date": 1505524571, "question_id": 46196240, "link": "https://stackoverflow.com/questions/46196240/oauth2-flow-in-flutter-app", "title": "Oauth2 flow in Flutter app", "body": "<p>In the Flutter app I'm currently building, I need to authenticate users against a custom (so non-Google/Facebook/Twitter/etc) authorization server. </p>\n\n<p>In order to achieve this, the users should fill in their credentials in a webpage. To this purpose, the <a href=\"https://github.com/dart-flitter/flutter_webview_plugin\" rel=\"noreferrer\">WebView-plugin</a> can be used. However, when the page is redirected after the user authenticated, the WebView should be closed, and the code passed on to the (Flutter) function that initially called the WebView. </p>\n\n<p>Having done some research already, I came accross the following options:</p>\n\n<ul>\n<li><a href=\"https://medium.com/@segaud.kevin/facebook-oauth-login-flow-with-flutter-9adb717c9f2e\" rel=\"noreferrer\">This blog post</a> uses a local server, which still requires the user to manually close the window, which is not a real solution (in my opinion).</li>\n<li><a href=\"https://github.com/flutter/flutter/issues/799\" rel=\"noreferrer\">This issue</a> marks integration with any OAuth provider as done, but does not provide any details on the user authentication inside the browser.</li>\n<li><a href=\"https://github.com/flutter/flutter/issues/357\" rel=\"noreferrer\">This issue</a> is exactly like I am describing, but at the bottom it is mentioned that the WebView plugin provides a way to close the WebView. While it does indeed have a <a href=\"https://github.com/dart-flitter/flutter_webview_plugin/blob/master/lib/flutter_webview_plugin.dart\" rel=\"noreferrer\">close()</a>-function, I cannot find a way to trigger it on the redirect-URI and return the verification code.</li>\n</ul>\n\n<p>Does a solution exist, that closes the browser automatically once the redirect-URI is opened (and also returns the verification code)?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 1, "user_id": 13611451, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GjHM4G7Bq0gRWdwGyb3fDz8ZOUsytXs4Kd74hHN=k-s128", "display_name": "Somal Chakraborty", "link": "https://stackoverflow.com/users/13611451/somal-chakraborty"}, "edited": false, "score": 0, "creation_date": 1617594844, "post_id": 46172962, "comment_id": 118345400, "body": "@Collin&#39;s answer has the following issue: The argument type &#39;RevealedOffset&#39; can&#39;t be assigned to the parameter type &#39;num&#39;. Add a .offset to the function to fix this viewport.getOffsetToReveal(object, 0.0).offset I Should have commented this but guess what! I don&#39;t have 50 reputations to comment."}], "answers": [{"tags": [], "owner": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "is_accepted": true, "score": 8, "last_activity_date": 1505245841, "creation_date": 1505245841, "answer_id": 46184323, "question_id": 46172962, "link": "https://stackoverflow.com/questions/46172962/how-to-limit-scroll-distance-in-a-scroll-view-in-flutter/46184323#46184323", "title": "How to limit scroll distance in a scroll view in Flutter?", "body": "<p>For auto-scrolling the fields into view, it sounds like you are wrestling with <a href=\"https://github.com/flutter/flutter/issues/10826\" rel=\"noreferrer\">issue 10826</a>. I posted a <a href=\"https://gist.github.com/collinjackson/50172e3547e959cba77e2938f2fe5ff5\" rel=\"noreferrer\">workaround</a> on that issue. I adapted the workaround to your sample code; see below. (You may want to tweak it a little.)</p>\n\n<p>If you want to prevent users from scrolling, you might want to just ensure that all the fields are visible using the same techniques below and then use a <code>NeverScrollableScrollPhysics</code> as the <code>physics</code> of the <code>ListView</code>. Or if you're feeling ambitious you could implement a custom scroll physics as shown in the <a href=\"https://github.com/flutter/flutter/blob/master/examples/flutter_gallery/lib/demo/animation/home.dart#L371\" rel=\"noreferrer\">Gallery example</a>. If I were you I'd hold out for #10826 to be fixed, though.</p>\n\n<p><a href=\"https://i.stack.imgur.com/GCbl2.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/GCbl2.gif\" alt=\"video\"></a></p>\n\n<pre><code>import 'package:meta/meta.dart';\nimport 'dart:async';\nimport 'package:flutter/material.dart';\nimport 'package:flutter/rendering.dart';\n\nvoid main() {\n  runApp(new MaterialApp(home: new LoginPage()));\n}\n\n/// A widget that ensures it is always visible when focused.\nclass EnsureVisibleWhenFocused extends StatefulWidget {\n  const EnsureVisibleWhenFocused({\n    Key key,\n    @required this.child,\n    @required this.focusNode,\n    this.curve: Curves.ease,\n    this.duration: const Duration(milliseconds: 100),\n  }) : super(key: key);\n\n  /// The node we will monitor to determine if the child is focused\n  final FocusNode focusNode;\n\n  /// The child widget that we are wrapping\n  final Widget child;\n\n  /// The curve we will use to scroll ourselves into view.\n  ///\n  /// Defaults to Curves.ease.\n  final Curve curve;\n\n  /// The duration we will use to scroll ourselves into view\n  ///\n  /// Defaults to 100 milliseconds.\n  final Duration duration;\n\n  EnsureVisibleWhenFocusedState createState() =&gt; new EnsureVisibleWhenFocusedState();\n}\n\nclass EnsureVisibleWhenFocusedState extends State&lt;EnsureVisibleWhenFocused&gt; {\n  @override\n  void initState() {\n    super.initState();\n    widget.focusNode.addListener(_ensureVisible);\n  }\n\n  @override\n  void dispose() {\n    super.dispose();\n    widget.focusNode.removeListener(_ensureVisible);\n  }\n\n  Future&lt;Null&gt; _ensureVisible() async {\n    // Wait for the keyboard to come into view\n    // TODO: position doesn't seem to notify listeners when metrics change,\n    // perhaps a NotificationListener around the scrollable could avoid\n    // the need insert a delay here.\n    await new Future.delayed(const Duration(milliseconds: 600));\n\n    if (!widget.focusNode.hasFocus)\n      return;\n\n    final RenderObject object = context.findRenderObject();\n    final RenderAbstractViewport viewport = RenderAbstractViewport.of(object);\n    assert(viewport != null);\n\n    ScrollableState scrollableState = Scrollable.of(context);\n    assert(scrollableState != null);\n\n    ScrollPosition position = scrollableState.position;\n    double alignment;\n    if (position.pixels &gt; viewport.getOffsetToReveal(object, 0.0)) {\n      // Move down to the top of the viewport\n      alignment = 0.0;\n    } else if (position.pixels &lt; viewport.getOffsetToReveal(object, 1.0)) {\n      // Move up to the bottom of the viewport\n      alignment = 1.0;\n    } else {\n      // No scrolling is necessary to reveal the child\n      return;\n    }\n    position.ensureVisible(\n      object,\n      alignment: alignment,\n      duration: widget.duration,\n      curve: widget.curve,\n    );\n  }\n\n  Widget build(BuildContext context) =&gt; widget.child;\n}\n\nclass LoginPage extends StatefulWidget {\n  LoginPageState createState() =&gt; new LoginPageState();\n}\n\nclass LoginPageState extends State&lt;LoginPage&gt; {\n  FocusNode _usernameFocusNode = new FocusNode();\n  FocusNode _passwordFocusNode = new FocusNode();\n\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      appBar: new AppBar(\n        title: new Text('Example App'),\n      ),\n      body: new Container(\n        child: new ListView(\n          physics: new NeverScrollableScrollPhysics(),\n          key: new PageStorageKey(\"Divider 1\"),\n          children: &lt;Widget&gt;[\n            new Container(\n              constraints: new BoxConstraints.expand(height: 640.0),\n              decoration: new BoxDecoration(\n                image: new DecorationImage(\n                  image: new NetworkImage(\n                    'https://flutter.io/images/flutter-mark-square-100.png',\n                  ),\n                  fit: BoxFit.cover,\n                ),\n              ),\n              child: new Column(\n                children: &lt;Widget&gt;[\n                  new Container(\n                    height: 300.0,\n                  ),\n                  new Center(\n                    child: new EnsureVisibleWhenFocused(\n                      focusNode: _usernameFocusNode,\n                      child: new TextFormField(\n                        focusNode: _usernameFocusNode,\n                        decoration: new InputDecoration(\n                          labelText: 'Username',\n                        ),\n                      ),\n                    ),\n                  ),\n                  new Container(height: 8.0),\n                  new Center(\n                    child: new EnsureVisibleWhenFocused(\n                      focusNode: _passwordFocusNode,\n                      child: new TextFormField(\n                        focusNode: _passwordFocusNode,\n                        obscureText: true,\n                        decoration: new InputDecoration(\n                          labelText: 'Password',\n                        ),\n                      ),\n                    ),\n                  ),\n                  new Container(),\n                  new RaisedButton(\n                    onPressed: () {},\n                    child: new Text('Log in'),\n                  ),\n                  new Divider(),\n                  new RaisedButton(\n                    onPressed: () {},\n                    child: new Text('Sign up'),\n                  ),\n                ],\n              ),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 358, "user_id": 7771143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8790968a941a7520e2fe81275f9e7904?s=128&d=identicon&r=PG&f=1", "display_name": "Shazamo Morebucks", "link": "https://stackoverflow.com/users/7771143/shazamo-morebucks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5764, "favorite_count": 4, "accepted_answer_id": 46184323, "answer_count": 1, "score": 5, "last_activity_date": 1617594844, "creation_date": 1505209088, "question_id": 46172962, "link": "https://stackoverflow.com/questions/46172962/how-to-limit-scroll-distance-in-a-scroll-view-in-flutter", "title": "How to limit scroll distance in a scroll view in Flutter?", "body": "<p>I've made a page that contains several textfields and buttons in a column which is contained in a container that has a background image. And this container is itself the child of a scrollview widget.</p>\n\n<p>So when a person clicks on one of the fields, their keyboard will pop up (taking a portion of the screen), which means some buttons/fields are offscreen, which is where the scrollview widget serves its purpose.</p>\n\n<p>The problem here is that I want to limit how far the scroll view allows a user to scroll.</p>\n\n<p>There are some blank space under the lowest button, and I don't want the user to be able to scroll all the way there. This is too keep the experience simple and not have the user \"overscroll\" past the fields he should be typing in.</p>\n\n<p>But since the background image is part of the scroll view the view will allow a user to scroll as far down as the bottom of the image. I want to limit this.</p>\n\n<p>As a follow-up I'm trying to figure out how to set an initial scroll position. (So that when clicking on a field the scroll view scrolls down to very first text field, so all fields are in view. without the user needing to scroll down to them. However I don't want this scroll position to be re-applied every time the user clicks on a field, of course.)</p>\n\n<p>Here is the relevant (if any of my code looks really bad please say so, I'm new to programming in general and accept any advice to improve):</p>\n\n<pre><code>class LoginPageConstructor extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    AssetImage loginBackgroundAsset =\n        new AssetImage(\"assets/loginscreen/backgroundrock.png\");\n//    var _scrollController = new ScrollController(\n//        initialScrollOffset: 200.0,\n//        keepScrollOffset: true);\n    return new Scaffold(\n        body: new Container(\n      child: new ListView(key: new PageStorageKey(\"Divider 1\"),\n//        controller: _scrollController,\n        children: &lt;Widget&gt;[\n          new Stack(children: &lt;Widget&gt;[\n            new Container(\n            constraints: new BoxConstraints.expand(height: 640.0),\n              decoration: new BoxDecoration(\n                  image: new DecorationImage(\n                      image: loginBackgroundAsset, fit: BoxFit.cover)),\n            child: new Column(\n              children: &lt;Widget&gt;[\n                new Divider(height: 300.0,),\n                new Center(child: new UsernameText(),),\n                new Divider(height: 8.0,),\n                new Center(child: new PasswordText(),),\n                new Divider(),\n                new LoginButton(),\n                new Divider(),\n                new SignUpButton(),\n              ],\n            ))\n          ])\n        ],\n      ),\n    ));\n  }\n}\n</code></pre>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 3696, "user_id": 6107079, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CUGlv.jpg?s=128&g=1", "display_name": "Mahi", "link": "https://stackoverflow.com/users/6107079/mahi"}, "edited": false, "score": 0, "creation_date": 1505307542, "post_id": 46183046, "comment_id": 79358899, "body": "thank you very much for your help Collin Jackson, I&#39;ve tried this workaround and it seems to be working for me . Thanks once again."}, {"owner": {"reputation": 2864, "user_id": 107748, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/df548ef91a12d76a2f875e90d8ee7822?s=128&d=identicon&r=PG", "display_name": "Suriyan Suresh", "link": "https://stackoverflow.com/users/107748/suriyan-suresh"}, "edited": false, "score": 0, "creation_date": 1529369985, "post_id": 46183046, "comment_id": 88838435, "body": "This issue has been closed"}, {"owner": {"reputation": 8055, "user_id": 706387, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/SiTPw.jpg?s=128&g=1", "display_name": "kosiara - Bartosz Kosarzycki", "link": "https://stackoverflow.com/users/706387/kosiara-bartosz-kosarzycki"}, "edited": false, "score": 2, "creation_date": 1535492012, "post_id": 46183046, "comment_id": 91083321, "body": "<code>DropdownButton</code> stays empty after item selection. How can we fill it with the selected text?"}, {"owner": {"reputation": 958, "user_id": 4728835, "user_type": "registered", "accept_rate": 42, "profile_image": "https://graph.facebook.com/818679628208139/picture?type=large", "display_name": "Anuran Barman", "link": "https://stackoverflow.com/users/4728835/anuran-barman"}, "reply_to_user": {"reputation": 8055, "user_id": 706387, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/SiTPw.jpg?s=128&g=1", "display_name": "kosiara - Bartosz Kosarzycki", "link": "https://stackoverflow.com/users/706387/kosiara-bartosz-kosarzycki"}, "edited": false, "score": 0, "creation_date": 1543727416, "post_id": 46183046, "comment_id": 94019076, "body": "@kosiara-BartoszKosarzycki because DropdownButton is not maintaining the state. So you have to set the <code>value</code> property to something and in <code>onChanged</code> you have to set the initial value via <code>setState()</code> call."}], "tags": [], "owner": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "is_accepted": false, "score": 13, "last_activity_date": 1505240212, "creation_date": 1505240212, "answer_id": 46183046, "question_id": 46169682, "link": "https://stackoverflow.com/questions/46169682/re-create-a-dropdown-button-in-flutter/46183046#46183046", "title": "Re: create a dropdown button in flutter", "body": "<p>This looks like a bug in Flutter. I filed an <a href=\"https://github.com/flutter/flutter/issues/12053\" rel=\"noreferrer\">issue</a>.</p>\n\n<p>In the meantime, you can work around it by wrapping your <code>DropdownButton</code> in a <code>Column</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/b5I5C.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/b5I5C.png\" alt=\"screenshot\"></a></p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() {\n  runApp(new MaterialApp(home: new DemoApp()));\n}\n\nclass DemoApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      appBar: new AppBar(title: new Text('DropdownButton Example')),\n      body: new ListView(\n        children: [\n          new Column(\n            children: &lt;Widget&gt;[\n              new DropdownButton&lt;String&gt;(\n                items: &lt;String&gt;['Foo', 'Bar'].map((String value) {\n                  return new DropdownMenuItem&lt;String&gt;(\n                    value: value,\n                    child: new Text(value),\n                  );\n                }).toList(),\n                onChanged: (_) {},\n              ),\n            ],\n          ),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 42285, "user_id": 2057919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec600dcd84770c5d835cd4c943514088?s=128&d=identicon&r=PG&f=1", "display_name": "elixenide", "link": "https://stackoverflow.com/users/2057919/elixenide"}, "edited": false, "score": 0, "creation_date": 1535614828, "post_id": 52091015, "comment_id": 91133028, "body": "Welcome to the site! While this may answer the question, it is better to provide the actual information here and not just a link. <a href=\"https://stackoverflow.com/help/deleted-answers\">Link-only answers are not considered good answers and will probably be deleted</a>."}], "tags": [], "owner": {"reputation": 21, "user_id": 9364601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/091cc5854ae8f73027e8f3aed9419252?s=128&d=identicon&r=PG&f=1", "display_name": "dranzer", "link": "https://stackoverflow.com/users/9364601/dranzer"}, "is_accepted": false, "score": 2, "last_activity_date": 1535627705, "last_edit_date": 1535627705, "creation_date": 1535612595, "answer_id": 52091015, "question_id": 46169682, "link": "https://stackoverflow.com/questions/46169682/re-create-a-dropdown-button-in-flutter/52091015#52091015", "title": "Re: create a dropdown button in flutter", "body": "<p>You can try out the plugin that I created :  <a href=\"https://pub.dartlang.org/packages/flutter_search_panel\" rel=\"nofollow noreferrer\">flutter_search_panel</a>. Not a dropdown plugin, but you can display the items with the search functionality.</p>\n\n<p>Use the following code for using the widget :</p>\n\n<pre><code>    FlutterSearchPanel(\n        padding: EdgeInsets.all(10.0),\n        selected: 'a',\n        title: 'Demo Search Page',\n        data: ['This', 'is', 'a', 'test', 'array'],\n        icon: new Icon(Icons.label, color: Colors.black),\n        color: Colors.white,\n        textStyle: new TextStyle(color: Colors.black, fontWeight: FontWeight.bold, fontSize: 20.0, decorationStyle: TextDecorationStyle.dotted),\n        onChanged: (value) {\n          print(value);\n        },\n   ),\n</code></pre>\n"}], "owner": {"reputation": 3696, "user_id": 6107079, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CUGlv.jpg?s=128&g=1", "display_name": "Mahi", "link": "https://stackoverflow.com/users/6107079/mahi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25298, "favorite_count": 4, "answer_count": 2, "score": 11, "last_activity_date": 1595995622, "creation_date": 1505198791, "last_edit_date": 1595995622, "question_id": 46169682, "link": "https://stackoverflow.com/questions/46169682/re-create-a-dropdown-button-in-flutter", "title": "Re: create a dropdown button in flutter", "body": "<p>I have used a DropDownButton in my build but i want the arrow to be displayed at  the end and the dropdown items to be displayed from arrow, but in my app they are displaying from the top. i have attached the screenshots for your reference.</p>\n<p>please can you tell me how to change this or is there any other way to simply create a drop down menu.</p>\n<p>An example would be much appreciated.</p>\n<p>Please excuse my code as I am new to programming and any comments or suggestions are most welcome.</p>\n<p>Many Thanks,\nMahi.</p>\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:flutter/widgets.dart';\nimport 'dart:ui';\n\nvoid main(){\n    runApp(new BranchSetup());\n      }\n      \nclass BranchSetup extends StatefulWidget {\n    @override\n    State&lt;StatefulWidget&gt; createState() {\n         return new _BranchSetupState();\n          }\n       } \n\n    class _BranchSetupState extends State&lt;BranchSetup&gt; with \n                                WidgetsBindingObserver {\n\n     @override\n           Widget build(BuildContext context){\n           return new MaterialApp(\n              theme: new ThemeData(\n                  primaryColor: const Color(0xFF229E9C),\n                                ),\n              title: 'Branch Setup',\n              home: new Scaffold(\n              body: new Container(\n              child: new ListView(\n                children: &lt;Widget&gt;[\n                 new Container(\n                   margin: const EdgeInsets.all(16.0),\n                    child: new Row(\n                     children: &lt;Widget&gt;[\n                      new Expanded(\n                        child: new TextFormField(\n            decoration: new InputDecoration(                          \n                       labelText: 'Branch Name',\n                   ),\n                ),\n              ),\n            ],\n          ),\n         ),\n          new Container(\n            margin: const EdgeInsets.all(16.0),\n            child:\n              new DropdownButton&lt;String&gt;(\n                items: &lt;String&gt;['Mens','Womans']\n                      .map((String value) {\n                    return new DropdownMenuItem&lt;String&gt;(\n                        value: value,\n                        child: new Text(value),\n                    );\n                  }\n                  ).toList(),\n               onChanged: null,\n                ),\n            ),\n\n          ],\n        ),\n        ),\n     ),\n    );\n   }\n\n  }\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/2eup9.png\" alt=\"\" /></p>\n"}, {"tags": ["image", "firebase", "dart", "firebase-storage", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 0, "last_activity_date": 1505201633, "creation_date": 1505201633, "answer_id": 46170530, "question_id": 46169583, "link": "https://stackoverflow.com/questions/46169583/flutter-copy-image-file-from-url-to-firebase/46170530#46170530", "title": "Flutter: Copy image file from url to firebase", "body": "<p><code>File</code> only supports files on a file system.\nTo load content using HTTP use the <code>http</code> package.\nSee also <a href=\"https://flutter.io/networking/\" rel=\"nofollow noreferrer\">https://flutter.io/networking/</a></p>\n\n<pre><code>var httpClient = createHttpClient();\nvar response = await httpClient.get(url); \n</code></pre>\n\n<p>and then get the data from <code>response.body</code>,\nor</p>\n\n<pre><code>var response = await httpClient.readBytes(url);\n</code></pre>\n\n<p>to get it as binary (<code>Uint8List</code>)</p>\n\n<p>See also <a href=\"https://www.dartdocs.org/documentation/http/0.11.3+14/http/Client-class.html\" rel=\"nofollow noreferrer\">https://www.dartdocs.org/documentation/http/0.11.3+14/http/Client-class.html</a></p>\n"}], "owner": {"reputation": 2238, "user_id": 348502, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8cd8d27ccae44507148bdbd7a7d8b806?s=128&d=identicon&r=PG", "display_name": "FrederickCook", "link": "https://stackoverflow.com/users/348502/frederickcook"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1118, "favorite_count": 0, "accepted_answer_id": 46170530, "answer_count": 1, "score": 0, "last_activity_date": 1505201633, "creation_date": 1505198436, "question_id": 46169583, "link": "https://stackoverflow.com/questions/46169583/flutter-copy-image-file-from-url-to-firebase", "title": "Flutter: Copy image file from url to firebase", "body": "<p>I'm trying to copy a user profile picture from an external service onto my firebase server. So far I have:</p>\n\n<pre><code>final File file = await new File.fromUri(Uri.parse(auth.currentUser.photoUrl)).create();\nfinal StorageReference ref = FirebaseStorage.instance.ref().child(\"profile_image_${auth.currentUser.uid}.jpg\");\nfinal StorageUploadTask uploadTask = ref.put(file);\nfinal Uri downloadUrl = (await uploadTask.future).downloadUrl;\n\n// add user profile picture url to user object\nfinal userReference = FirebaseDatabase.instance\n    .reference()\n    .child('users/' + auth.currentUser.uid);\nuserReference.set({'photoUrl': downloadUrl});\n</code></pre>\n\n<p>The very top line gives me the error: <code>Unsupported operation: Cannot extract a file path from a https URI</code></p>\n\n<p>What is the correct way to do this? Should this even be done client-side? (Should I just be passing this url to firebase and use a function to download it server-side?)</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 1034, "user_id": 6172868, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e97dfbd17567be6495d6319dd9eef013?s=128&d=identicon&r=PG&f=1", "display_name": "SaloGala", "link": "https://stackoverflow.com/users/6172868/salogala"}, "edited": false, "score": 0, "creation_date": 1505252508, "post_id": 46183223, "comment_id": 79334334, "body": "Oh, thank you so much. I have edited the question with the main problem that I want to solve, please check it, I don&#39;t know if I&#39;m using the easier way to accomplish it."}, {"owner": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "reply_to_user": {"reputation": 1034, "user_id": 6172868, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e97dfbd17567be6495d6319dd9eef013?s=128&d=identicon&r=PG&f=1", "display_name": "SaloGala", "link": "https://stackoverflow.com/users/6172868/salogala"}, "edited": false, "score": 0, "creation_date": 1505258028, "post_id": 46183223, "comment_id": 79335926, "body": "Aha, you are trying to solve a problem that definitely doesn&#39;t need <code>NavigatorObserver</code>. I edited my answer with some advice about using <code>AnimationController</code> instead of firing a timer."}, {"owner": {"reputation": 1034, "user_id": 6172868, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e97dfbd17567be6495d6319dd9eef013?s=128&d=identicon&r=PG&f=1", "display_name": "SaloGala", "link": "https://stackoverflow.com/users/6172868/salogala"}, "edited": false, "score": 0, "creation_date": 1505259699, "post_id": 46183223, "comment_id": 79336324, "body": "Ok, I got the point, using an AnimationController should be work perfectly, but, Is there a way to execute the callback of the AnimationController periodically? As the Timer.perdiodic did?"}, {"owner": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "reply_to_user": {"reputation": 1034, "user_id": 6172868, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e97dfbd17567be6495d6319dd9eef013?s=128&d=identicon&r=PG&f=1", "display_name": "SaloGala", "link": "https://stackoverflow.com/users/6172868/salogala"}, "edited": false, "score": 0, "creation_date": 1505264974, "post_id": 46183223, "comment_id": 79337391, "body": "You can just call <code>repeat()</code> on the <code>AnimationController</code> to get it to restart automatically, or you can <code>forward(from: 0.0)</code> on the <code>AnimationController</code> when it finishes."}, {"owner": {"reputation": 1034, "user_id": 6172868, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e97dfbd17567be6495d6319dd9eef013?s=128&d=identicon&r=PG&f=1", "display_name": "SaloGala", "link": "https://stackoverflow.com/users/6172868/salogala"}, "edited": false, "score": 0, "creation_date": 1505267146, "post_id": 46183223, "comment_id": 79337888, "body": "Using the <code>AnimationController</code> with <code>forward(from: 0.0)</code> solved the problem. Thank you so much!"}], "tags": [], "owner": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "is_accepted": true, "score": 6, "last_activity_date": 1531010271, "last_edit_date": 1531010271, "creation_date": 1505240919, "answer_id": 46183223, "question_id": 46165705, "link": "https://stackoverflow.com/questions/46165705/flutter-how-the-navigatorobserver-class-works/46183223#46183223", "title": "Flutter - How the NavigatorObserver class works?", "body": "<p>Most of the time you don't need to implement <code>NavigatorObserver</code>. See <a href=\"https://stackoverflow.com/a/44417260/1463116\">this other StackOverflow answer</a> explaining how to use <code>push</code> and <code>pop</code> to pass information between routes. In the use case you've described, you should <code>addListener</code> to an <code>AnimationController</code>, using the <a href=\"https://docs.flutter.io/flutter/widgets/TickerProviderStateMixin-class.html\" rel=\"nofollow noreferrer\"><code>TickerProviderStateMixin</code></a> to obtain a suitable <code>vsync</code> object. This ensures that your callback will not fire when the app is suspended or after your <code>State</code> is disposed. (Instead of <code>addListener</code>, you could use an <code>AnimatedBuilder</code> or <code>AnimatedWidget</code> the primary purpose of your callback is to rebuild a section of the widget tree.)</p>\n\n<p>The main time when you'd want a <code>NavigatorObserver</code> is if you're using a plugin like Firebase Analytics. You can see an example usage in the <a href=\"https://github.com/flutter/plugins/blob/master/packages/firebase_analytics/example/lib/main.dart#L29\" rel=\"nofollow noreferrer\">plugins repo</a>. You pass the <code>NavigatorObserver</code> in the <code>navigatorObservers</code> argument to the <code>MaterialApp</code> constructor:</p>\n\n<pre><code>static FirebaseAnalyticsObserver observer =\n  new FirebaseAnalyticsObserver(analytics: analytics);\n...\nreturn new MaterialApp(\n  navigatorObservers: &lt;NavigatorObserver&gt;[observer],\n  ...\n);\n</code></pre>\n\n<p>It is unusual to have a <code>State</code> that implements <code>NavigatorObserver</code> because your <code>MaterialApp</code> should be near the top of the widget hierarchy. At the time you're constructing it, most <code>State</code> objects won't exist yet so you'll have a hard time putting them into the <code>navigatorObservers</code> array. You might instead use a class that isn't a <code>State</code>. If necessary, you can use <code>GlobalKey&lt;MyClassState&gt;</code> to find the <code>State</code> that needs to be notified (but if you're doing this, there might be an easier way to accomplish what you want).</p>\n"}, {"comments": [{"owner": {"reputation": 2606, "user_id": 2966246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i62Mi.jpg?s=128&g=1", "display_name": "phalteman", "link": "https://stackoverflow.com/users/2966246/phalteman"}, "edited": false, "score": 2, "creation_date": 1547587341, "post_id": 54206693, "comment_id": 95240628, "body": "It might be more helpful to the OP to explain why this is a good alternative to the answer already provided and accepted. It might be obvious to you, but it won&#39;t be obvious to other readers."}, {"owner": {"reputation": 1047, "user_id": 3057745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3d04dbd795c15392d5f5b6e32c2c1f7?s=128&d=identicon&r=PG&f=1", "display_name": "Billy Mahmood", "link": "https://stackoverflow.com/users/3057745/billy-mahmood"}, "edited": false, "score": 2, "creation_date": 1564664947, "post_id": 54206693, "comment_id": 101111809, "body": "would you put this code on every page you want to watch? if so what if I wanted to watch all the pages in my application to run a function on change"}, {"owner": {"reputation": 1923, "user_id": 2880055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b856ec58730d123b6dcb5b66cab396a7?s=128&d=identicon&r=PG&f=1", "display_name": "ThinkDigital", "link": "https://stackoverflow.com/users/2880055/thinkdigital"}, "edited": false, "score": 0, "creation_date": 1565296238, "post_id": 54206693, "comment_id": 101319780, "body": "@Ares? I want to know this too."}, {"owner": {"reputation": 1233, "user_id": 7621577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67c6ec2ea181bac7c08b49a7172d3fb5?s=128&d=identicon&r=PG&f=1", "display_name": "rmalviya", "link": "https://stackoverflow.com/users/7621577/rmalviya"}, "edited": false, "score": 0, "creation_date": 1580798769, "post_id": 54206693, "comment_id": 106206174, "body": "This is simple copy-paste from Flutter <a href=\"https://api.flutter.dev/flutter/widgets/RouteObserver-class.html#widgets.RouteObserver.1\" rel=\"nofollow noreferrer\">documentation</a>. Where is the explanation?"}, {"owner": {"reputation": 1107, "user_id": 7906279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BggyS.jpg?s=128&g=1", "display_name": "Ares", "link": "https://stackoverflow.com/users/7906279/ares"}, "edited": false, "score": 0, "creation_date": 1583122437, "post_id": 54206693, "comment_id": 106997154, "body": "Please have a look at the link I have attached."}, {"owner": {"reputation": 303, "user_id": 1949128, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c55e2e79f1525b203cde3a5515f8b2d2?s=128&d=identicon&r=PG", "display_name": "mfleshman", "link": "https://stackoverflow.com/users/1949128/mfleshman"}, "edited": false, "score": 4, "creation_date": 1589988677, "post_id": 54206693, "comment_id": 109512591, "body": "All these examples show all the code in a single &quot;file&quot;, how would you access the routeObserver from a screen declared in another file."}], "tags": [], "owner": {"reputation": 1107, "user_id": 7906279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BggyS.jpg?s=128&g=1", "display_name": "Ares", "link": "https://stackoverflow.com/users/7906279/ares"}, "is_accepted": false, "score": 4, "last_activity_date": 1583122410, "last_edit_date": 1583122410, "creation_date": 1547585823, "answer_id": 54206693, "question_id": 46165705, "link": "https://stackoverflow.com/questions/46165705/flutter-how-the-navigatorobserver-class-works/54206693#54206693", "title": "Flutter - How the NavigatorObserver class works?", "body": "<pre><code>// Register the RouteObserver as a navigation observer.\nfinal RouteObserver&lt;PageRoute&gt; routeObserver = RouteObserver&lt;PageRoute&gt;();\nvoid main() {\n  runApp(MaterialApp(\n    home: Container(),\n    navigatorObservers: [routeObserver],\n  ));\n}\n\nclass RouteAwareWidget extends StatefulWidget {\n  State&lt;RouteAwareWidget&gt; createState() =&gt; RouteAwareWidgetState();\n}\n\n// Implement RouteAware in a widget's state and subscribe it to the RouteObserver.\nclass RouteAwareWidgetState extends State&lt;RouteAwareWidget&gt; with RouteAware {\n\n  @override\n  void didChangeDependencies() {\n    super.didChangeDependencies();\n    routeObserver.subscribe(this, ModalRoute.of(context));\n  }\n\n  @override\n  void dispose() {\n    routeObserver.unsubscribe(this);\n    super.dispose();\n  }\n\n  @override\n  void didPush() {\n    // Route was pushed onto navigator and is now topmost route.\n  }\n\n  @override\n  void didPopNext() {\n    // Covering route was popped off the navigator.\n  }\n\n  @override\n  Widget build(BuildContext context) =&gt; Container();\n\n}\n</code></pre>\n\n<p>This is a more detailed help guide.\n<a href=\"https://medium.com/flutter-community/how-to-track-screen-transitions-in-flutter-with-routeobserver-733984a90dea\" rel=\"nofollow noreferrer\">https://medium.com/flutter-community/how-to-track-screen-transitions-in-flutter-with-routeobserver-733984a90dea</a></p>\n"}], "owner": {"reputation": 1034, "user_id": 6172868, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e97dfbd17567be6495d6319dd9eef013?s=128&d=identicon&r=PG&f=1", "display_name": "SaloGala", "link": "https://stackoverflow.com/users/6172868/salogala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10206, "favorite_count": 2, "accepted_answer_id": 46183223, "answer_count": 2, "score": 7, "last_activity_date": 1583122410, "creation_date": 1505172728, "last_edit_date": 1505254010, "question_id": 46165705, "link": "https://stackoverflow.com/questions/46165705/flutter-how-the-navigatorobserver-class-works", "title": "Flutter - How the NavigatorObserver class works?", "body": "<p>I'm trying to detect when the <strong>navigator</strong> performs the basic operations (<strong>push</strong> and <strong>pop</strong>), I found that the class to achieve this is with the <a href=\"https://docs.flutter.io/flutter/widgets/NavigatorObserver-class.html\" rel=\"noreferrer\">NavigatorObserver</a> class, but I can't find an example on how it works.</p>\n\n<p>I already tried implements the interface:</p>\n\n<pre><code>class MyClassState extends State&lt;MyClass&gt; with NavigatorObserver{\n\n    ....\n\n    @override\n    void didPop(Route&lt;dynamic&gt; route, Route&lt;dynamic&gt; previousRoute) {\n        print('This is never get called');\n    }\n\n    @override\n    void didPush(Route&lt;dynamic&gt; route, Route&lt;dynamic&gt; previousRoute) {\n        print('This is never get called');\n    }\n}\n</code></pre>\n\n<p>Of course I'm calling <code>Navigator.of(context).push(...);</code>\nBut the override methods, never get called.</p>\n\n<p>I suspect the binding with the navigator is missing, but I'm not sure.</p>\n\n<p>Any suggestions?</p>\n\n<p>Thanks in advance!</p>\n\n<p><strong>EDIT:</strong> </p>\n\n<p>I think what I want to do is very simple but I can't figure out how to do it.</p>\n\n<p>I have a <strong>page A</strong> that pushes <strong>page B</strong>.</p>\n\n<p>On <strong>page B</strong> I have a <strong>periodic timer</strong> that <strong>must</strong> be on there (on <strong>page B</strong>).</p>\n\n<p>All what I want to do is to cancel the timer with <code>timer.cancel()</code> when the <strong>page B</strong> get popped out (with back button on Android or back button in appbar), since when the <strong>page B</strong> get popped out the timer still executing even if the <strong>page B</strong> has gone.</p>\n\n<ul>\n<li>I can't pass the timer as param with the Navigator.pop() since I don't handle the back buttons (the one in the appbar and the Android back button).</li>\n</ul>\n\n<p><strong>EDIT 2:</strong></p>\n\n<p>-I found a way that solves the problem, what I did was cancel the timer on the </p>\n\n<pre><code>@override\nvoid dispose() {\n  timer.cancel();\n  super.dispose();\n}\n</code></pre>\n\n<p>method. But I'm not sure if this is the best way to accomplish it.</p>\n\n<p><strong>NOTE:</strong> </p>\n\n<p>With this workaround the timer still executing if I press the Home button or open the multitask on Android, and when go back to the app this are restarted but again the timer still executing its code.</p>\n"}, {"tags": ["django-rest-framework", "dart", "local-storage", "token", "django-rest-auth"], "comments": [{"owner": {"reputation": 633, "user_id": 5673558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f95c9abf6c7cc8dc21c398e3fc638d3?s=128&d=identicon&r=PG", "display_name": "Tobe O", "link": "https://stackoverflow.com/users/5673558/tobe-o"}, "edited": false, "score": 0, "creation_date": 1505067793, "post_id": 46143969, "comment_id": 79249960, "body": "You can save the token in localStorage"}, {"owner": {"reputation": 41, "user_id": 8535256, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-LfQLARdIlDU/AAAAAAAAAAI/AAAAAAAACzI/xhm-wbslxUg/photo.jpg?sz=128", "display_name": "Pedro Garcia", "link": "https://stackoverflow.com/users/8535256/pedro-garcia"}, "reply_to_user": {"reputation": 633, "user_id": 5673558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f95c9abf6c7cc8dc21c398e3fc638d3?s=128&d=identicon&r=PG", "display_name": "Tobe O", "link": "https://stackoverflow.com/users/5673558/tobe-o"}, "edited": false, "score": 0, "creation_date": 1505104611, "post_id": 46143969, "comment_id": 79258068, "body": "Hi, thanks for the hint. Saving it to localStorage was very efficient, I can access to the token key as I planned. I still can&#39;t set the authorization in the header. I get a 401 error from the server if I set it to headers: {&quot;Authorization&quot;: &quot;Token &quot;+token_key}"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1505114477, "post_id": 46143969, "comment_id": 79261853, "body": "That depends on what the server expects exactly.  What server are you accessing? &quot;I can&#39;t find documentation for Angular Dart&quot;, this isn&#39;t related to Angular and doesn&#39;t need any special Angular support."}, {"owner": {"reputation": 41, "user_id": 8535256, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-LfQLARdIlDU/AAAAAAAAAAI/AAAAAAAACzI/xhm-wbslxUg/photo.jpg?sz=128", "display_name": "Pedro Garcia", "link": "https://stackoverflow.com/users/8535256/pedro-garcia"}, "edited": false, "score": 1, "creation_date": 1505128746, "post_id": 46143969, "comment_id": 79270367, "body": "I&#39;m using a local server with django and it&#39;s configuration was the problem. I solved it by adding a configuration (&#39;rest_framework.authentication.TokenAuthentication&#39;,) that wasn&#39;t in the documentation of the library (django-rest-auth) And yeah, I see now that it&#39;s not related to Angular Dart."}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 8535256, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-LfQLARdIlDU/AAAAAAAAAAI/AAAAAAAACzI/xhm-wbslxUg/photo.jpg?sz=128", "display_name": "Pedro Garcia", "link": "https://stackoverflow.com/users/8535256/pedro-garcia"}, "is_accepted": false, "score": 0, "last_activity_date": 1505250725, "creation_date": 1505250725, "answer_id": 46185381, "question_id": 46143969, "link": "https://stackoverflow.com/questions/46143969/how-to-handle-token-authentication-in-angular-dart/46185381#46185381", "title": "how to handle token authentication in Angular Dart?", "body": "<p>I saved the Token first in localStorage as Tobe O suggested:</p>\n\n<pre><code>Future login(username, password) async {\n    String url = 'http://127.0.0.1:8000/auth/login/';\n    var response =\n    await _client.post(url, body: {'username': username, 'password': password});\n    Map mapped_response = _decoder.convert(response.body);\n    window.localStorage.addAll({\"token\": mapped_response[\"key\"]});\n}\n</code></pre>\n\n<p>But still I was receiving 401 responses when I tried to get user information, this was the function:</p>\n\n<pre><code>  Future check_authentification () async {\n      String _headers_key = \"Authorization\";\n      String _headers_value =  \"Token \"+window.localStorage[\"token\"];\n      var response = await _client.get(\"http://127.0.0.1:8000/auth/user/\", headers: {_headers_key: _headers_value});\n      user_data = _decoder.convert(response.body);\n      response_status = response.statusCode;\n  }\n</code></pre>\n\n<p>I couldn't get authorized because django-rest-auth wasn't properly configured for token authorization. The solution was to add TokenAuthentication to the default authentication classes in django settings.</p>\n\n<pre><code>REST_FRAMEWORK = {\n'DEFAULT_AUTHENTICATION_CLASSES': (\n    'rest_framework.authentication.BasicAuthentication',\n    'rest_framework.authentication.SessionAuthentication',\n    'rest_framework.authentication.TokenAuthentication',\n)}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 8535256, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-LfQLARdIlDU/AAAAAAAAAAI/AAAAAAAACzI/xhm-wbslxUg/photo.jpg?sz=128", "display_name": "Pedro Garcia", "link": "https://stackoverflow.com/users/8535256/pedro-garcia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 398, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1505250870, "creation_date": 1505066984, "last_edit_date": 1505250870, "question_id": 46143969, "link": "https://stackoverflow.com/questions/46143969/how-to-handle-token-authentication-in-angular-dart", "title": "how to handle token authentication in Angular Dart?", "body": "<p>First time dealing with a SPA. I have a back-end restful service that returns a token when a user signs in. I know I am supposed to send the token through the headers in each request so I was thinking in saving the token in a file and create a service or a class that loads the token in every component but I don't know if this is a good approach as I can't find documentation for Angular Dart about this.</p>\n"}, {"tags": ["dart", "angular-material2", "angular-dart", "angular-components"], "answers": [{"comments": [{"owner": {"reputation": 1059, "user_id": 4001247, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/848fa431a7a985cd64705a47f34eb008?s=128&d=identicon&r=PG&f=1", "display_name": "Muka", "link": "https://stackoverflow.com/users/4001247/muka"}, "edited": false, "score": 0, "creation_date": 1505148808, "post_id": 46157519, "comment_id": 79283458, "body": "For me, unfortunatale it did not work. The content was bold, but the title not."}, {"owner": {"reputation": 1821, "user_id": 7711920, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-04zzMRK9qvE/AAAAAAAAAAI/AAAAAAAABHQ/tjs-Q8LOBQc/photo.jpg?sz=128", "display_name": "Ted Sander", "link": "https://stackoverflow.com/users/7711920/ted-sander"}, "edited": false, "score": 0, "creation_date": 1507742886, "post_id": 46157519, "comment_id": 80336151, "body": "Very close, but it is using style encapsulation so you would need to break it using ::ng-deep see below."}], "tags": [], "owner": {"reputation": 17877, "user_id": 6782707, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2425200c04f326a53ef0085b703369d6?s=128&d=identicon&r=PG", "display_name": "Edric", "link": "https://stackoverflow.com/users/6782707/edric"}, "is_accepted": false, "score": 1, "last_activity_date": 1505138349, "creation_date": 1505138349, "answer_id": 46157519, "question_id": 46140905, "link": "https://stackoverflow.com/questions/46140905/angular-material-expansionpanel-title-style/46157519#46157519", "title": "Angular material-expansionpanel title style", "body": "<p>I've never used AngularDart before, but from the examples, I think you have to target the <code>panel-name</code> class to style the expansion panel header:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>.panel-name {\n    font-weight: bold;\n}\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/0iOvF.jpg\" alt=\"DevTools CSS\"></p>\n"}, {"tags": [], "owner": {"reputation": 1821, "user_id": 7711920, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-04zzMRK9qvE/AAAAAAAAAAI/AAAAAAAABHQ/tjs-Q8LOBQc/photo.jpg?sz=128", "display_name": "Ted Sander", "link": "https://stackoverflow.com/users/7711920/ted-sander"}, "is_accepted": true, "score": 1, "last_activity_date": 1507743621, "creation_date": 1507743621, "answer_id": 46694419, "question_id": 46140905, "link": "https://stackoverflow.com/questions/46140905/angular-material-expansionpanel-title-style/46694419#46694419", "title": "Angular material-expansionpanel title style", "body": "<p>Since the style is encapsulated you need to use one of our mixins or ::ng-deep to break the encapsulation. Since there isn't a mixin for this you can do.</p>\n\n<pre><code>:host ::ng-deep header .primary-text {\n  font-weight: bold;\n}\n</code></pre>\n\n<p>The <code>:host</code> is to keep the scope to the current component so it doesn't leak out. <code>::ng-deep</code> breaks encapsulation and the rest is the selector. </p>\n"}], "owner": {"reputation": 1059, "user_id": 4001247, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/848fa431a7a985cd64705a47f34eb008?s=128&d=identicon&r=PG&f=1", "display_name": "Muka", "link": "https://stackoverflow.com/users/4001247/muka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 532, "favorite_count": 0, "accepted_answer_id": 46694419, "answer_count": 2, "score": 0, "last_activity_date": 1507743621, "creation_date": 1505048070, "question_id": 46140905, "link": "https://stackoverflow.com/questions/46140905/angular-material-expansionpanel-title-style", "title": "Angular material-expansionpanel title style", "body": "<p>I want to change the <strong>title</strong> style of the Angular Dart material-expansionpanel.</p>\n\n<p><a href=\"https://i.stack.imgur.com/T4Xgq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T4Xgq.png\" alt=\"enter image description here\"></a></p>\n\n<p>If I use the following CSS, the content style change (p.ex. radio group) but the title does not change style.</p>\n\n<pre><code>material-expansionpanel {\n  font-weight: bold;\n}\n</code></pre>\n\n<p>What do I need to do to change the style of the title?</p>\n"}, {"tags": ["math", "geometry", "dart", "surface"], "comments": [{"owner": {"reputation": 2776, "user_id": 8300271, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/g0ORw.jpg?s=128&g=1", "display_name": "Rahul Verma", "link": "https://stackoverflow.com/users/8300271/rahul-verma"}, "edited": false, "score": 1, "creation_date": 1504985265, "post_id": 46134328, "comment_id": 79230870, "body": "Is it a homework ?"}, {"owner": {"reputation": 175, "user_id": 8535049, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh4.googleusercontent.com/-DkrtxmTmdGY/AAAAAAAAAAI/AAAAAAAAAfE/m475D48pFJ8/photo.jpg?sz=128", "display_name": "Chr", "link": "https://stackoverflow.com/users/8535049/chr"}, "reply_to_user": {"reputation": 2776, "user_id": 8300271, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/g0ORw.jpg?s=128&g=1", "display_name": "Rahul Verma", "link": "https://stackoverflow.com/users/8300271/rahul-verma"}, "edited": false, "score": 0, "creation_date": 1504987480, "post_id": 46134328, "comment_id": 79231451, "body": "No, its not homework of course, im not good in geometry"}, {"owner": {"reputation": 19091, "user_id": 6246044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMZMd.jpg?s=128&g=1", "display_name": "Rory Daulton", "link": "https://stackoverflow.com/users/6246044/rory-daulton"}, "edited": false, "score": 0, "creation_date": 1504988355, "post_id": 46134328, "comment_id": 79231682, "body": "There are many web resources for &quot;point in polygon&quot;. Have you done a search for that? Is there something missing from all those web pages? Do you really need a routine in Dart given to you--can&#39;t you port it from another language?"}, {"owner": {"reputation": 19091, "user_id": 6246044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMZMd.jpg?s=128&g=1", "display_name": "Rory Daulton", "link": "https://stackoverflow.com/users/6246044/rory-daulton"}, "edited": false, "score": 1, "creation_date": 1504988678, "post_id": 46134328, "comment_id": 79231783, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/217578/how-can-i-determine-whether-a-2d-point-is-within-a-polygon\">How can I determine whether a 2D Point is within a Polygon?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 705, "user_id": 5396835, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w4iDZ.jpg?s=128&g=1", "display_name": "Jonas Bojesen", "link": "https://stackoverflow.com/users/5396835/jonas-bojesen"}, "edited": false, "score": 0, "creation_date": 1505038969, "post_id": 46138363, "comment_id": 79241044, "body": "Just a tip about this lib, from dart team and mature. Contains also extra functionality used for web gl. <a href=\"https://pub.dartlang.org/packages/vector_math\" rel=\"nofollow noreferrer\">pub.dartlang.org/packages/vector_math</a>"}], "tags": [], "owner": {"reputation": 175, "user_id": 8535049, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh4.googleusercontent.com/-DkrtxmTmdGY/AAAAAAAAAAI/AAAAAAAAAfE/m475D48pFJ8/photo.jpg?sz=128", "display_name": "Chr", "link": "https://stackoverflow.com/users/8535049/chr"}, "is_accepted": true, "score": 2, "last_activity_date": 1505028916, "creation_date": 1505028916, "answer_id": 46138363, "question_id": 46134328, "link": "https://stackoverflow.com/questions/46134328/geometry-in-plan-math/46138363#46138363", "title": "Geometry in Plan (Math)", "body": "<p>I have resumed the code data in the <a href=\"https://stackoverflow.com/questions/217578/how-can-i-determine-whether-a-2d-point-is-within-a-polygon#answer-2922778\">How can I determine whether a 2D Point is within a Polygon?</a> post in dart, here is the result (tested)</p>\n\n<pre><code>bool pnpoly(Point point, List&lt;Point&gt; polygon){\n    // Step 1: Cut and detail\n\n    int nvert = polygon.length;\n    List&lt;int&gt; vertx = [];\n    List&lt;int&gt; verty = [];\n\n    for(Point vert in polygon){ // Listing x and y pos of all vertices\n        vertx.add(vert.x);\n        verty.add(vert.y);\n    }\n\n    // Step 2: Calcul..\n    bool c = false;\n    int j = nvert-1;\n    for (int i = 0; i &lt; nvert; j = i++){    \n        if( ((verty[i]&gt;point.y) != (verty[j]&gt;point.y)) &amp;&amp; (point.x &lt; (vertx[j]-vertx[i]) * (point.y-verty[i]) / (verty[j]-verty[i]) + vertx[i]) ){\n            c = !c;\n        }\n    }\n    return c;\n}\n</code></pre>\n\n<p>Here is my test</p>\n\n<pre><code>List&lt;Point&gt; myPolygon = [ // classic rectangle\n    new Point(2,2),\n    new Point(52,2),\n    new Point(52,41),\n    new Point(2,41)\n];\n\nPoint myPoint = new Point(53,40);\n\nprint( pnpoly(myPoint, myPolygon) ); // false\n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 8535049, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh4.googleusercontent.com/-DkrtxmTmdGY/AAAAAAAAAAI/AAAAAAAAAfE/m475D48pFJ8/photo.jpg?sz=128", "display_name": "Chr", "link": "https://stackoverflow.com/users/8535049/chr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 46138363, "answer_count": 1, "score": -1, "last_activity_date": 1505028916, "creation_date": 1504985105, "question_id": 46134328, "link": "https://stackoverflow.com/questions/46134328/geometry-in-plan-math", "title": "Geometry in Plan (Math)", "body": "<p>My problem is to know whether or not a point is contained in a <strong>polygon</strong> (sets of points) on the same surface.</p>\n\n<p>Simple example in my favorite language DART</p>\n\n<pre><code>Point myPoint = new Point(10, 12);\n\nList&lt;Point&gt; myPolygon = [ // The Polygon, for example is simple rect\n  new Point(2, 7),\n  new Point(15,7),\n  new Point(15, 18),\n  new Point(2, 18)\n];\n\nbool pointIsContainedInPolygon(List Polygon){\n  // .. data processing ...\n}\n</code></pre>\n\n<p>I need to know what is the function: <code>pointIsContainedInPolygon(myPolygon)</code></p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 4308, "user_id": 4135133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b0c63ebaa8e18a3b07c73bb22fc5eeb?s=128&d=identicon&r=PG&f=1", "display_name": "bluenile", "link": "https://stackoverflow.com/users/4135133/bluenile"}, "edited": false, "score": 0, "creation_date": 1557262138, "post_id": 46134559, "comment_id": 98704127, "body": "Thanks a lot. This helped me."}], "tags": [], "owner": {"reputation": 101, "user_id": 3443442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aL2Xy.png?s=128&g=1", "display_name": "levrik", "link": "https://stackoverflow.com/users/3443442/levrik"}, "is_accepted": true, "score": 7, "last_activity_date": 1504988255, "last_edit_date": 1504988255, "creation_date": 1504986647, "answer_id": 46134559, "question_id": 46132737, "link": "https://stackoverflow.com/questions/46132737/overlay-a-line-on-top-of-a-component-in-flutter/46134559#46134559", "title": "Overlay a line on top of a component in Flutter", "body": "<p>Okay. Got it working by using a custom <code>Decoration</code>.<br>\nHere is my code:</p>\n\n<pre><code>class StrikeThroughDecoration extends Decoration {\n  @override\n  BoxPainter createBoxPainter([VoidCallback onChanged]) {\n    return new _StrikeThroughPainter();\n  }\n}\n\nclass _StrikeThroughPainter extends BoxPainter {\n  @override\n  void paint(Canvas canvas, Offset offset, ImageConfiguration configuration) {\n    final paint = new Paint()\n      ..strokeWidth = 1.0\n      ..color = Colors.black\n      ..style = PaintingStyle.fill;\n\n    final rect = offset &amp; configuration.size;\n    canvas.drawLine(new Offset(rect.left, rect.top + rect.height / 2), new Offset(rect.right, rect.top + rect.height / 2), paint);\n    canvas.restore();\n  }\n}\n</code></pre>\n\n<p>Used like that in my component:</p>\n\n<pre><code>new Container(\n  foregroundDecoration: new StrikeThroughDecoration(),\n  child: new Row(\n    children: &lt;Widget&gt;[\n      new Expanded(\n        child: const Text(\"Some text\"),\n      ),\n      const Text(\"Some other text\"),\n    ],\n  )\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "is_accepted": false, "score": 3, "last_activity_date": 1505081771, "creation_date": 1505081771, "answer_id": 46146058, "question_id": 46132737, "link": "https://stackoverflow.com/questions/46132737/overlay-a-line-on-top-of-a-component-in-flutter/46146058#46146058", "title": "Overlay a line on top of a component in Flutter", "body": "<p>You could use a <code>Stack</code> with a <code>Divider</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/bQZS3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bQZS3.png\" alt=\"screenshot\"></a></p>\n\n<pre><code>import 'dart:async';\nimport 'package:flutter/material.dart';\n\nvoid main() {\n  runApp(new MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      home: new HomePage(),\n    );\n  }\n}\n\nclass HomePage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      appBar: new AppBar(title: new Text('Example App')),\n      body: new Padding(\n        padding: new EdgeInsets.all(5.0),\n        child: new Center(\n          child: new Stack(\n            children: &lt;Widget&gt;[\n              new Row(\n                crossAxisAlignment: CrossAxisAlignment.center,\n                mainAxisSize: MainAxisSize.max,\n                mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                children: &lt;Widget&gt;[\n                  new Text('Hello world'),\n                  new Text('Some other text'),\n                ],\n              ),\n              new Positioned.fill(\n                left: 0.0,\n                right: 0.0,\n                child: new Divider(color: Colors.black),\n              )\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 3443442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aL2Xy.png?s=128&g=1", "display_name": "levrik", "link": "https://stackoverflow.com/users/3443442/levrik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2653, "favorite_count": 1, "accepted_answer_id": 46134559, "answer_count": 2, "score": 3, "last_activity_date": 1505081771, "creation_date": 1504974452, "last_edit_date": 1504991728, "question_id": 46132737, "link": "https://stackoverflow.com/questions/46132737/overlay-a-line-on-top-of-a-component-in-flutter", "title": "Overlay a line on top of a component in Flutter", "body": "<p>I have the following layout in one of my components and would like to put a line on top of that like this: <a href=\"https://i.stack.imgur.com/iCxO0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iCxO0.png\" alt=\"example image from mockup\"></a></p>\n\n<p>That is my current code and already searched through the API documentation of Flutter for a while now and didn't find something suitable to achieve that.</p>\n\n<pre><code>new Row(\n  children: &lt;Widget&gt;[\n    new Expanded(\n      child: const Text(\"Some text\"),\n    ),\n    const Text(\"Some other text\"),\n  ],\n)\n</code></pre>\n\n<p>Any pointers or ideas how to do that?</p>\n"}, {"tags": ["angular", "dart", "material-design", "angular-material2"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1505120614, "post_id": 46128428, "comment_id": 79265352, "body": "I haven&#39;t used Firebase myself yet and don&#39;t know what kind of value(s) it returns. I think you need to listen to updates and then do something like <code>filteredSailingClubs.optionGroups = [new OptionGroup(_store.state.sailingClubs.values)])</code>"}, {"owner": {"reputation": 14105, "user_id": 4231909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NbwgO.jpg?s=128&g=1", "display_name": "Jonah Williams", "link": "https://stackoverflow.com/users/4231909/jonah-williams"}, "edited": false, "score": 0, "creation_date": 1505497664, "post_id": 46128428, "comment_id": 79454210, "body": "Two quick questions:  Does your store object have a way to listen to changes to it?  Something like  class Store {  Stream&lt;Null&gt; get onStoreChanged =&gt; ...  }  And is the <code>sailingClubs</code> property of the state a Map, List, or something else?"}, {"owner": {"reputation": 104, "user_id": 224255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/016e5da2a2c9b8270cc5dea2dd9a58a7?s=128&d=identicon&r=PG", "display_name": "Alexei Eleusis D&#237;az Vera", "link": "https://stackoverflow.com/users/224255/alexei-eleusis-d%c3%adaz-vera"}, "edited": false, "score": 0, "creation_date": 1505517056, "post_id": 46128428, "comment_id": 79461302, "body": "What change detection strategy are you using? Does it work if you change it?"}, {"owner": {"reputation": 4756, "user_id": 272425, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/af6977727f08b19d0701465099e54aac?s=128&d=identicon&r=PG", "display_name": "Fabian", "link": "https://stackoverflow.com/users/272425/fabian"}, "edited": false, "score": 0, "creation_date": 1505766078, "post_id": 46128428, "comment_id": 79538295, "body": "Thanks for the interest in my question. About the store object. It is like a redux store (using the greencat library). The store.state variable itself is a regular class with several maps inside of it. On a change the class is copied with the changed maps as input. So the old state is never changed but a new one is created. Therefore I also don&#39;t have any streams or even a change strategy. On a change just the store.state variable is updated and regular material_components just pick up this change an redraw themself. Only the dropdown with search does not work since it can&#39;t pickup the change."}], "answers": [{"comments": [{"owner": {"reputation": 4756, "user_id": 272425, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/af6977727f08b19d0701465099e54aac?s=128&d=identicon&r=PG", "display_name": "Fabian", "link": "https://stackoverflow.com/users/272425/fabian"}, "edited": false, "score": 0, "creation_date": 1505282802, "post_id": 46182479, "comment_id": 79342049, "body": "I now added an answer to show my current approach. My store itself is a redux store which has no knowledge of the gui. And the firebase callback also does not know anything about the gui and e.g. StringSelection. It just creates a new event sending a change to the store. It works great for all gui components including the dropdown-select except if I have to use the search api."}], "tags": [], "owner": {"reputation": 260, "user_id": 8599167, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iIi_6GzF-Zk/AAAAAAAAAAI/AAAAAAAAAAw/kOP4OSiXclQ/photo.jpg?sz=128", "display_name": "Leon Senft", "link": "https://stackoverflow.com/users/8599167/leon-senft"}, "is_accepted": false, "score": 1, "last_activity_date": 1505237886, "creation_date": 1505237886, "answer_id": 46182479, "question_id": 46128428, "link": "https://stackoverflow.com/questions/46128428/how-to-have-change-detection-with-material-dropdown-select-if-using-a-selectiono/46182479#46182479", "title": "How to have change detection with material-dropdown-select if using a SelectionOptions", "body": "<p>Are you listening to your Firebase database for changes?</p>\n\n<p>I'm not sure exactly what <code>_store</code> or any of its properties are, but from a Firebase <a href=\"https://www.dartdocs.org/documentation/firebase/4.1.0/firebase/DatabaseReference-class.html\" rel=\"nofollow noreferrer\">DatabaseRef</a>, you can listen for changes, and update your selection options. Change detection should then detect that the selection options have changed.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>sailingClubsRef.onValue((value) {\n  filteredSailingClubs = new StringSelectionOptions(\n    value.snapshot.val(),\n    toFilterableString: displayNameRenderer,\n  );  \n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 104, "user_id": 224255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/016e5da2a2c9b8270cc5dea2dd9a58a7?s=128&d=identicon&r=PG", "display_name": "Alexei Eleusis D&#237;az Vera", "link": "https://stackoverflow.com/users/224255/alexei-eleusis-d%c3%adaz-vera"}, "edited": false, "score": 0, "creation_date": 1505517168, "post_id": 46189939, "comment_id": 79461335, "body": "Why do you need a try statement and why don&#39;t you log whatever it catches? Did you omit it here for brevity? You should cancel previous subscriptions to selectionChanges before creating a new model and a new subscription, it might be one of the problems breaking your code."}, {"owner": {"reputation": 4756, "user_id": 272425, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/af6977727f08b19d0701465099e54aac?s=128&d=identicon&r=PG", "display_name": "Fabian", "link": "https://stackoverflow.com/users/272425/fabian"}, "reply_to_user": {"reputation": 104, "user_id": 224255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/016e5da2a2c9b8270cc5dea2dd9a58a7?s=128&d=identicon&r=PG", "display_name": "Alexei Eleusis D&#237;az Vera", "link": "https://stackoverflow.com/users/224255/alexei-eleusis-d%c3%adaz-vera"}, "edited": false, "score": 0, "creation_date": 1505766343, "post_id": 46189939, "comment_id": 79538422, "body": "Thanks for the hint with canceling previous subscriptions, I will implement that. The reason for the try catch is that the organizer can be null so I need better checks for this condition, I just added the try catch for a quick proof of concept. But this is not the problem with my code. The issue is, how to make the material-dropdown aware of changes. My solution works but is so much boiler plate code :-("}], "tags": [], "owner": {"reputation": 4756, "user_id": 272425, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/af6977727f08b19d0701465099e54aac?s=128&d=identicon&r=PG", "display_name": "Fabian", "link": "https://stackoverflow.com/users/272425/fabian"}, "is_accepted": false, "score": 1, "last_activity_date": 1505842091, "last_edit_date": 1505842091, "creation_date": 1505282559, "answer_id": 46189939, "question_id": 46128428, "link": "https://stackoverflow.com/questions/46128428/how-to-have-change-detection-with-material-dropdown-select-if-using-a-selectiono/46189939#46189939", "title": "How to have change detection with material-dropdown-select if using a SelectionOptions", "body": "<p>Here is my current, approach. Posting it as an answer for better readability.</p>\n\n<p>First I had to add new variables for the calculated values and to manually keep track of changes.</p>\n\n<pre><code>StringSelectionOptions&lt;SailingClub&gt; filteredSailingClubs;\nSelectionModel&lt;SailingClub&gt; singleSelectModel;\nMap&lt;String, SailingClub&gt; oldSailingClubs;\nSailingClub oldOrganizer;\n</code></pre>\n\n<p>Then in the constructor of my component I can create the filteredSailingClubs. But this StringSelection will be empty since at that time all the options are not loaded from firebase.</p>\n\n<pre><code>filteredSailingClubs = new StringSelectionOptions(_store.state.sailingClubs.values, toFilterableString: displayNameRenderer);\n</code></pre>\n\n<p>and to finally be able to update the filteredSailingClubs I had to add this.</p>\n\n<pre><code>void ngDoCheck() {\n  if (oldSailingClubs != _store.state.sailingClubs) {\n    oldSailingClubs = _store.state.sailingClubs;\n    filteredSailingClubs =\n        new StringSelectionOptions(_store.state.sailingClubs.values, toFilterableString: displayNameRenderer);\n  }\n  if (oldOrganizer != organizer) {\n    oldOrganizer = organizer;\n    singleSelectModel = new SelectionModel&lt;SailingClub&gt;.withList(selectedValues: [organizer]);\n    singleSelectModel.selectionChanges.listen(update);\n  }\n}\n</code></pre>\n\n<p>and here is one more callback that allows me to update a value when the selection changed in the gui</p>\n\n<pre><code>void update(List&lt;SelectionChangeRecord&gt; record) {\n  if (record.isNotEmpty &amp;&amp; record.first.added.isNotEmpty) {\n    onOrganizerChanged(record.first.added.first);\n  }\n}\n</code></pre>\n\n<p>Unfortunately this is a lot of boiler plate code just to make the list searchable. Before all the change detection was handled by Angular and completely hidden. Therefore I wonder if I do it wrong.</p>\n\n<p>I also don't want to change the structure of my store. It is basically a redux pattern store (using greencat) and is immutable.\nI also don't want my store to know anything about the gui or e.g. a selectionmodel etc.</p>\n\n<p>My next step would be to derive from the material-dropdown-select itself and see if I can hide the complexity there.</p>\n"}, {"tags": [], "owner": {"reputation": 4756, "user_id": 272425, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/af6977727f08b19d0701465099e54aac?s=128&d=identicon&r=PG", "display_name": "Fabian", "link": "https://stackoverflow.com/users/272425/fabian"}, "is_accepted": true, "score": 0, "last_activity_date": 1507023502, "creation_date": 1507023502, "answer_id": 46541531, "question_id": 46128428, "link": "https://stackoverflow.com/questions/46128428/how-to-have-change-detection-with-material-dropdown-select-if-using-a-selectiono/46541531#46541531", "title": "How to have change detection with material-dropdown-select if using a SelectionOptions", "body": "<p>Ok here is my final solution. It is not really great in my opinion since it still requires quite some code but at least it works very well.\nThe main reason for the amount of code is that the map.values list itself is not stable. So each new comparison of map.values with the old values would return true. Even if the map is unchanged. Therefore we have to save the original map.</p>\n\n<pre><code>StringSelectionOptions&lt;SailingClub&gt; _filteredSailingClubs;\nMap&lt;String, SailingClub&gt; _oldSailingClubs;\nSelectionModel&lt;SailingClub&gt; _singleSelectModel;\nSailingClub _oldOrganizer;\nStreamSubscription _selectionListener;\n\nStringSelectionOptions&lt;SailingClub&gt; get filteredSailingClubs {\n  // We have to save the old state since the Iterable itself is unstable and would change all the time\n  if (_oldSailingClubs != _store.state.sailingClubs) {\n    _oldSailingClubs = _store.state.sailingClubs;\n    _filteredSailingClubs =\n      new StringSelectionOptions(_store.state.sailingClubs.values, toFilterableString: displayNameRenderer);\n  }\n  return _filteredSailingClubs;\n}\n\nSelectionModel&lt;SailingClub&gt; get singleSelectModel {\n  // We have to update the selection model on organizer change\n  if (_singleSelectModel == null || _oldOrganizer != organizer) {\n    _oldOrganizer = organizer;\n    _singleSelectModel = new SelectionModel&lt;SailingClub&gt;.withList(selectedValues: [organizer]);\n    _selectionListener?.cancel();\n    _selectionListener = _singleSelectModel.selectionChanges.listen(update);\n  }\n  return _singleSelectModel;\n}\n</code></pre>\n"}], "owner": {"reputation": 4756, "user_id": 272425, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/af6977727f08b19d0701465099e54aac?s=128&d=identicon&r=PG", "display_name": "Fabian", "link": "https://stackoverflow.com/users/272425/fabian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 849, "favorite_count": 0, "accepted_answer_id": 46541531, "answer_count": 3, "score": 4, "last_activity_date": 1507023502, "creation_date": 1504943632, "last_edit_date": 1505038918, "question_id": 46128428, "link": "https://stackoverflow.com/questions/46128428/how-to-have-change-detection-with-material-dropdown-select-if-using-a-selectiono", "title": "How to have change detection with material-dropdown-select if using a SelectionOptions", "body": "<p>I have the following implementation of a material-dropdown-select and it works beautifully.</p>\n\n<pre><code>&lt;material-dropdown-select [buttonText]=\"organizer?.name\"&gt;\n  &lt;material-select-item *ngFor=\"let sailingClub of sailingClubs\"\n    {{sailingClub.name}}\n  &lt;/material-select-item&gt;\n&lt;/material-dropdown-select&gt;\n</code></pre>\n\n<p>My data is coming from this property:</p>\n\n<pre><code>Iterable&lt;SailingClub&gt; get sailingClubs =&gt; _store.state.sailingClubs.values;\n</code></pre>\n\n<p>The nice thing about it is that the items automatically update once the backend (firebase) adds new items to the list.</p>\n\n<p>Now I want to change it to use the searchable dropdown.\nFor this I have to convert the data into SelectionOptions and with that I have problems. Everything works fine but I no longer get the change detection.\nIt is not really surprising since I now have to create a static SelectionOptions instance and that is the only thing I am handing to the view component.</p>\n\n<pre><code>&lt;material-dropdown-select [buttonText]=\"organizer?.name\"\n  [options]=\"filteredSailingClubs\"\n  [itemRenderer]=\"displayNameRenderer\"&gt;\n  &lt;div header&gt;\n    &lt;material-select-searchbox\n      label=\"Search...\"\n      [filterable]=\"filteredSailingClubs\"&gt;\n    &lt;/material-select-searchbox&gt;\n  &lt;/div&gt;\n&lt;/material-dropdown-select&gt;\n</code></pre>\n\n<p>and this is how I create the filteredSailingClubs</p>\n\n<pre><code>filteredSailingClubs = new StringSelectionOptions(_store.state.sailingClubs.values, toFilterableString: displayNameRenderer);\n</code></pre>\n\n<p>and access the name property</p>\n\n<pre><code>ItemRenderer&lt;SailingClub&gt; displayNameRenderer = (SailingClub item) =&gt; item.name;\n</code></pre>\n"}, {"tags": ["dart", "angular-material", "angular-dart"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 3449401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ad2213eb06545dbb37e7e5fea44860d?s=128&d=identicon&r=PG&f=1", "display_name": "user3449401", "link": "https://stackoverflow.com/users/3449401/user3449401"}, "edited": false, "score": 0, "creation_date": 1504903203, "post_id": 46123818, "comment_id": 79211170, "body": "Works like a charm, just tried it. I looked up some info on the lifecycle hooks. Why did you specifically implement AfterViewInit and not, for example, AfterViewChecked? Is the rendering complete when AfterViewInit executes? BTW, tnx G&#252;nter."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 13, "user_id": 3449401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ad2213eb06545dbb37e7e5fea44860d?s=128&d=identicon&r=PG&f=1", "display_name": "user3449401", "link": "https://stackoverflow.com/users/3449401/user3449401"}, "edited": false, "score": 0, "creation_date": 1505055251, "post_id": 46123818, "comment_id": 79245725, "body": "<code>ngAfterViewInit</code> is called exactly once after the view and content is initialized. <code>ngAfter*Checked</code> can be called more than once. <a href=\"https://angular.io/guide/lifecycle-hooks\" rel=\"nofollow noreferrer\">angular.io/guide/lifecycle-hooks</a>"}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 0, "last_activity_date": 1504901075, "creation_date": 1504901075, "answer_id": 46123818, "question_id": 46123260, "link": "https://stackoverflow.com/questions/46123260/angulardart-cannot-cast-to-a-material-component/46123818#46123818", "title": "AngularDart: cannot cast to a material component", "body": "<p>There is no way to get the component instance from an element queried this way.</p>\n\n<p>You can use <code>@ViewChild()</code></p>\n\n<pre><code>class TwoBoxes implements AfterViewInit {\n\n  @ViewChild(MaterialCheckboxComponent) MaterialCheckboxComponent cb;\n\n  ngAfterViewInit() {\n    print(cb.checked);\n  }\n</code></pre>\n\n<p>to get a specific one if you have more than one, you can use a template variable</p>\n\n<pre><code>&lt;material-checkbox #foo label=\"Material Checkbox\"&gt;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>@ViewChild('foo') MaterialCheckboxComponent cb;\n</code></pre>\n\n<p>You can find more information about this topic in this TypeScript answer <a href=\"https://stackoverflow.com/questions/32693061/angular-2-typescript-get-hold-of-an-element-in-the-template/35209681#35209681\">angular 2 / typescript : get hold of an element in the template</a></p>\n\n<p>The syntax is a bit different (type annotations on the right and <code>{}</code> around the optional <code>read</code> parameter, which are not used in Dart.</p>\n"}], "owner": {"reputation": 13, "user_id": 3449401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ad2213eb06545dbb37e7e5fea44860d?s=128&d=identicon&r=PG&f=1", "display_name": "user3449401", "link": "https://stackoverflow.com/users/3449401/user3449401"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "accepted_answer_id": 46123818, "answer_count": 1, "score": 1, "last_activity_date": 1504901075, "creation_date": 1504898364, "question_id": 46123260, "link": "https://stackoverflow.com/questions/46123260/angulardart-cannot-cast-to-a-material-component", "title": "AngularDart: cannot cast to a material component", "body": "<p>I have a dart app that contains a template with a material-checkbox which I am unable to use in my component. Here is a simple template to demonstrate the problem (two_boxes.html):</p>\n\n<pre><code>&lt;!--\nSimple HTML to test checkboxes\n--&gt;\n\n&lt;input type=\"checkbox\" id=\"cb0\"&gt;\n&lt;label&gt;Standard Checkbox&lt;/label&gt;\n\n&lt;material-checkbox label=\"Material Checkbox\" id=\"cb1\"&gt;\n&lt;/material-checkbox&gt;\n\n&lt;button (click)=\"doTest()\"&gt;Test&lt;/button&gt;\n</code></pre>\n\n<p>and the corresponding component in which I try to use the checkboxes (two_boxes.dart). I can use the standard checkbox in a cast as expected but cannot find a way to do the same with the material checkbox:</p>\n\n<pre><code>// Component for testing\n\nimport 'package:angular/angular.dart';\nimport 'package:angular_components/angular_components.dart';\n\nimport 'dart:html';\n\n@Component(\n    selector: 'two-boxes',\n    templateUrl: 'two_boxes.html',\n    directives: const [MaterialCheckboxComponent],\n    pipes: const [\n      COMMON_PIPES\n    ])\nclass TwoBoxes {\n\n  // Get the the two checkboxes and see if they are checked\n  void doTest() {\n    var checkbox_standard = querySelector(\"#cb0\");\n    print(checkbox_standard.runtimeType.toString()); // InputElement\n    print((checkbox_standard as CheckboxInputElement).checked); // Succeeds\n\n    var checkbox_material = querySelector(\"#cb1\");\n    print(checkbox_material.runtimeType.toString()); // HtmlElement\n    print((checkbox_material as MaterialCheckboxComponent).checked); // Error!\n  }\n}\n</code></pre>\n\n<p>The last statement fails when I run the app in Dartium following a \"pub serve\" (no errors) with:</p>\n\n<pre><code>VM54:1 EXCEPTION: type 'HtmlElementImpl' is not a subtype of type\nMaterialCheckboxComponent' in type cast where HtmlElementImpl is \nfrom dart:html MaterialCheckboxComponent is from   \npackage:angular_components/src/components/\nmaterial_checkbox/material_checkbox.dart\n</code></pre>\n\n<p>Clearly this way of casting does not work. I searched for hours how to solve this error and find the correct way to do this but obviously in the wrong places. What am I missing here? I am using Dart VM version 1.24.2. </p>\n"}, {"tags": ["dart", "emoji", "angular-dart", "dart-html", "dart-webui"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1504858512, "post_id": 46111577, "comment_id": 79185833, "body": "How does the resulting HTML andCSS look like for the emoji icons? Can you please add a screenshot from the browser devtools from  the HTML part and the &quot;Styles&quot; tab?"}, {"owner": {"reputation": 1804, "user_id": 5846565, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/zihvw.jpg?s=128&g=1", "display_name": "Tushar Rai", "link": "https://stackoverflow.com/users/5846565/tushar-rai"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1504858640, "post_id": 46111577, "comment_id": 79185903, "body": "yes of course, its pure black"}, {"owner": {"reputation": 1804, "user_id": 5846565, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/zihvw.jpg?s=128&g=1", "display_name": "Tushar Rai", "link": "https://stackoverflow.com/users/5846565/tushar-rai"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1504858878, "post_id": 46111577, "comment_id": 79186041, "body": "I Have added the resulting image in the question"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1504859090, "post_id": 46111577, "comment_id": 79186164, "body": "That doesn&#39;t help. I&#39;d need to see the HTML and CSS the browsers DOM actually contains."}, {"owner": {"reputation": 1804, "user_id": 5846565, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/zihvw.jpg?s=128&g=1", "display_name": "Tushar Rai", "link": "https://stackoverflow.com/users/5846565/tushar-rai"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1504860951, "post_id": 46111577, "comment_id": 79187275, "body": "Kindly have a look, does image contains the needful"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1504861126, "post_id": 46111577, "comment_id": 79187412, "body": "Have you tried <code>.yns-app-icon {    font-size: 125px; color: red; }</code>? What is the expected behavior anyway? What color should be rendered. There is no color in your CSS except the background color."}, {"owner": {"reputation": 1804, "user_id": 5846565, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/zihvw.jpg?s=128&g=1", "display_name": "Tushar Rai", "link": "https://stackoverflow.com/users/5846565/tushar-rai"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1504861250, "post_id": 46111577, "comment_id": 79187500, "body": "yes, it colors the icon with only red. I am adding a image what results color:red and what I am expecting."}, {"owner": {"reputation": 1804, "user_id": 5846565, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/zihvw.jpg?s=128&g=1", "display_name": "Tushar Rai", "link": "https://stackoverflow.com/users/5846565/tushar-rai"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1504861609, "post_id": 46111577, "comment_id": 79187731, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/153936/discussion-between-tushar-rai-and-gunter-zochbauer\">continue this discussion in chat</a>."}, {"owner": {"reputation": 1804, "user_id": 5846565, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/zihvw.jpg?s=128&g=1", "display_name": "Tushar Rai", "link": "https://stackoverflow.com/users/5846565/tushar-rai"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1504861673, "post_id": 46111577, "comment_id": 79187779, "body": "kindly have a look at the image in the question, what I am expecting"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1504862665, "post_id": 46111577, "comment_id": 79188366, "body": "Either you copied the wrong emoji code (try copying one from <a href=\"https://apps.timwhitlock.info/emoji/tables/unicode\" rel=\"nofollow noreferrer\">apps.timwhitlock.info/emoji/tables/unicode</a>) or some style is breaking it&#39;s display. I&#39;d suggest you select the emoji in the browser devtools and disable the checkmark in the styles tab for every entry until you find the one that causes it to not be displayed as as you expect."}, {"owner": {"reputation": 1804, "user_id": 5846565, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/zihvw.jpg?s=128&g=1", "display_name": "Tushar Rai", "link": "https://stackoverflow.com/users/5846565/tushar-rai"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1504877358, "post_id": 46111577, "comment_id": 79197534, "body": "G&#252;nter Z&#246;chbauer, thank for your support and changing the browser gave me the expected solution."}], "answers": [{"comments": [{"owner": {"reputation": 1804, "user_id": 5846565, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/zihvw.jpg?s=128&g=1", "display_name": "Tushar Rai", "link": "https://stackoverflow.com/users/5846565/tushar-rai"}, "edited": false, "score": 1, "creation_date": 1504877250, "post_id": 46114471, "comment_id": 79197467, "body": "Thanks Nick, yes the problem was with the browser not with the codes."}], "tags": [], "owner": {"reputation": 26, "user_id": 4538797, "user_type": "registered", "profile_image": "https://graph.facebook.com/1763989383826992/picture?type=large", "display_name": "Nick Wu", "link": "https://stackoverflow.com/users/4538797/nick-wu"}, "is_accepted": true, "score": 1, "last_activity_date": 1504866785, "creation_date": 1504866785, "answer_id": 46114471, "question_id": 46111577, "link": "https://stackoverflow.com/questions/46111577/emojis-doesnt-render-color-in-my-angulardart-project/46114471#46114471", "title": "Emoji&#39;s doesn&#39;t render color in my AngularDart project", "body": "<p>I see you are using <code>Chromium</code> to load the page. I have seen weird things happen in <code>Chromium</code> before. The emoji renders fine in <code>Chrome</code>, <code>Firefox</code> and <code>Safari</code> on my machine.</p>\n\n<p>Let me know if this helps.</p>\n\n<p>Nick</p>\n"}], "owner": {"reputation": 1804, "user_id": 5846565, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/zihvw.jpg?s=128&g=1", "display_name": "Tushar Rai", "link": "https://stackoverflow.com/users/5846565/tushar-rai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 46114471, "answer_count": 1, "score": 1, "last_activity_date": 1504866785, "creation_date": 1504857873, "last_edit_date": 1504861595, "question_id": 46111577, "link": "https://stackoverflow.com/questions/46111577/emojis-doesnt-render-color-in-my-angulardart-project", "title": "Emoji&#39;s doesn&#39;t render color in my AngularDart project", "body": "<p><a href=\"https://i.stack.imgur.com/DEVCK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DEVCK.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/Iym5j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Iym5j.png\" alt=\"enter image description here\"></a>In an angular dart project I am trying to populate a welcome page with app name and emoji's, but while resulting it doesn't render the color. It's only being populated in black color. kindly help.\napp_component.html</p>\n\n<pre><code>&lt;div class=\"yns-welcome\"&gt;\n    &lt;div class=\"yns-app-icon\"&gt;{{appIcon}}&lt;/div&gt;\n    &lt;div class=\"yns-main-header\"&gt;{{appTitle}}&lt;/div&gt;\n    &lt;div class=\"yns-sub-header\"&gt;{{appSubtitle}}&lt;/div&gt;\n    &lt;div class=\"yns-main-footer\"&gt;{{appMainFooter}}&lt;/div&gt;\n    &lt;div class=\"yns-sub-footer\"&gt;{{appSubFooter}}&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>app_component.css</p>\n\n<pre><code>:host {\n    font-family: \"Lucida Sans Unicode\", \"Lucida Grande\", sans-serif;\n}\n\n.yns-welcome {\n    height: 100%;\n    justify-content: center;\n    align-items: center;\n    display: flex;\n    flex-direction: column;\n    text-align: center;\n}\n\n.yns-app-icon {\n   font-size: 125px;\n}\n\n.yns-main-header {\n    font-size: 40px;\n}\n\n.yns-sub-header {\n    padding: 0 0 20px;\n    font-size: 16px;\n}\n\n.yns-login-btn {\n    background-color: dodgerblue;\n    margin: 20px 0;\n}\n\n.yns-main-footer {\n    font-size: 12px;\n    padding: 5px 0 10px;\n}\n\n.yns-sub-footer {\n    font-size: 10px;\n}\n</code></pre>\n"}, {"tags": ["angular", "dart"], "comments": [{"owner": {"reputation": 4756, "user_id": 272425, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/af6977727f08b19d0701465099e54aac?s=128&d=identicon&r=PG", "display_name": "Fabian", "link": "https://stackoverflow.com/users/272425/fabian"}, "edited": false, "score": 0, "creation_date": 1504816587, "post_id": 46104642, "comment_id": 79172276, "body": "Of course after posting this I immediately found the error. I am regenerating the StringSelectionOptions in the get method. But now I wonder. my list of sailingclubs changes from outside (firebase) but my example only works with a static list, so how would I deal with this?"}, {"owner": {"reputation": 2071, "user_id": 7117017, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jZmAx2-S2uw/AAAAAAAAAAI/AAAAAAAAHlg/0D73i8yexr0/photo.jpg?sz=128", "display_name": "Harry Terkelsen", "link": "https://stackoverflow.com/users/7117017/harry-terkelsen"}, "edited": false, "score": 0, "creation_date": 1504821075, "post_id": 46104642, "comment_id": 79174229, "body": "You could make <code>filteredSailingClubs</code> a field, and then update the field whenever you update <code>_list</code>."}, {"owner": {"reputation": 4756, "user_id": 272425, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/af6977727f08b19d0701465099e54aac?s=128&d=identicon&r=PG", "display_name": "Fabian", "link": "https://stackoverflow.com/users/272425/fabian"}, "reply_to_user": {"reputation": 2071, "user_id": 7117017, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jZmAx2-S2uw/AAAAAAAAAAI/AAAAAAAAHlg/0D73i8yexr0/photo.jpg?sz=128", "display_name": "Harry Terkelsen", "link": "https://stackoverflow.com/users/7117017/harry-terkelsen"}, "edited": false, "score": 0, "creation_date": 1504849089, "post_id": 46104642, "comment_id": 79181154, "body": "Thanks for the idea, I still don&#39;t see how this could work. I changed the filteredSailingClubs into a field which gets initialized in the constructor. But that is of course way earlier then my data is loaded. I also could asynchronously get more SailingClubs added through firebase which would only update the list in the store but not my field. Up until now I iterated over the list with ngFor and that would take care of the update automatically. How would I do this now? My store would not call me if the list changed and it shouldn&#39;t."}], "answers": [{"tags": [], "owner": {"reputation": 4756, "user_id": 272425, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/af6977727f08b19d0701465099e54aac?s=128&d=identicon&r=PG", "display_name": "Fabian", "link": "https://stackoverflow.com/users/272425/fabian"}, "is_accepted": true, "score": 0, "last_activity_date": 1504942795, "creation_date": 1504942795, "answer_id": 46128318, "question_id": 46104642, "link": "https://stackoverflow.com/questions/46104642/material-dropdown-select-with-search-produces-100-cpu/46128318#46128318", "title": "material-dropdown-select with search produces 100% cpu", "body": "<p>Ok the reason was simple. I am reconstructing the OptionList on every access of the list:</p>\n\n<pre><code>StringSelectionOptions&lt;SailingClub&gt; get filteredSailingClubs =&gt; new StringSelectionOptions(_list, toFilterableString: displayNameRenderer);\n</code></pre>\n\n<p>it should only be constructed once e.g. in the constructor of the class.</p>\n"}], "owner": {"reputation": 4756, "user_id": 272425, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/af6977727f08b19d0701465099e54aac?s=128&d=identicon&r=PG", "display_name": "Fabian", "link": "https://stackoverflow.com/users/272425/fabian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 46128318, "answer_count": 1, "score": 0, "last_activity_date": 1504942795, "creation_date": 1504816275, "question_id": 46104642, "link": "https://stackoverflow.com/questions/46104642/material-dropdown-select-with-search-produces-100-cpu", "title": "material-dropdown-select with search produces 100% cpu", "body": "<p>I have the following html code</p>\n\n<pre><code>&lt;material-dropdown-select [buttonText]=\"organizer?.name\"\n    [options]=\"filteredSailingClubs\"\n    [itemRenderer]=\"displayNameRenderer\"&gt;\n    &lt;div header&gt;\n        &lt;material-select-searchbox\n            label=\"Search...\"\n            [filterable]=\"filteredSailingClubs\"&gt;\n        &lt;/material-select-searchbox&gt;\n    &lt;/div&gt;\n&lt;/material-dropdown-select&gt;\n</code></pre>\n\n<p>and the following implementation</p>\n\n<pre><code>var _list = [new SailingClub('123', 'Example1'), new SailingClub('456', 'Example2')];\n\nfinal ItemRenderer&lt;SailingClub&gt; displayNameRenderer = (SailingClub item) =&gt; item.name;\n\nStringSelectionOptions&lt;SailingClub&gt; get filteredSailingClubs =&gt; new StringSelectionOptions(_list, toFilterableString: displayNameRenderer);\n</code></pre>\n\n<p>Unfortunately the momemnt I load a page with this content in the browser the tab seems to produce 100% cpu load and I have no idea how to debug this.</p>\n"}, {"tags": ["https", "dart", "lets-encrypt", "certbot"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 3, "creation_date": 1504799562, "post_id": 46100348, "comment_id": 79163608, "body": "What does &quot;But not work!&quot; mean exactly? Do you get any error message?"}, {"owner": {"reputation": 11, "user_id": 5918256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/551d431fbf9a7d649cee5fcbc12f782a?s=128&d=identicon&r=PG&f=1", "display_name": "hdias", "link": "https://stackoverflow.com/users/5918256/hdias"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1504805702, "post_id": 46100348, "comment_id": 79166975, "body": "Sorry I forget the message!"}], "answers": [{"comments": [{"owner": {"reputation": 2231, "user_id": 1746515, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CFnjd.png?s=128&g=1", "display_name": "neeh", "link": "https://stackoverflow.com/users/1746515/neeh"}, "edited": false, "score": 0, "creation_date": 1509464017, "post_id": 47038384, "comment_id": 81024808, "body": "Welcome to StackOverflow! Please consider editing your answer instead of creating a new one"}], "tags": [], "owner": {"reputation": 11, "user_id": 5918256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/551d431fbf9a7d649cee5fcbc12f782a?s=128&d=identicon&r=PG&f=1", "display_name": "hdias", "link": "https://stackoverflow.com/users/5918256/hdias"}, "is_accepted": false, "score": 0, "last_activity_date": 1509538522, "last_edit_date": 1509538522, "creation_date": 1509461763, "answer_id": 47038384, "question_id": 46100348, "link": "https://stackoverflow.com/questions/46100348/how-can-i-set-up-a-letsencrypt-ssl-certificate-and-use-it-in-a-https-server-in-d/47038384#47038384", "title": "How can I set up a letsencrypt SSL certificate and use it in a https server in dart?", "body": "<p>I found the solution to the problem:</p>\n\n<pre><code>import 'dart:io';\nimport \"dart:isolate\";\n\nmain() {\n    SecurityContext context = new SecurityContext();\n    var chain = Platform.script.resolve('/etc/letsencrypt/live/www.example.com/fullchain.pem').toFilePath();\n    var key = Platform.script.resolve('/etc/letsencrypt/live/www.example.com/privkey.pem').toFilePath();\n    context.useCertificateChain(chain);\n    // Password not Required\n    context.usePrivateKey(key);\n\n    HttpServer.bindSecure(InternetAddress.ANY_IP_V4, 443, context).then((server) {\n        server.listen((HttpRequest request) {\n            request.response.write('Hello, world!');\n            request.response.close();\n        });\n    });\n}\n\n$ wget https://www.example.com/\n--2017-10-31 14:51:29--  https://www.example.com/\nLoaded CA certificate '/etc/ssl/certs/ca-certificates.crt'\nResolving www.example.com... xxx.xxx.xxx.xxx\nConnecting to www.example.com|xxx.xxx.xxx.xxx|:443... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: unspecified [text/html]\nSaving to: \u2018index.html\u2019\n\nindex.html                  [ &lt;=&gt;                            ]   5.06K  --.-KB/s    in 0s      \n\n2017-10-31 14:51:31 (11.2 MB/s) - \u2018index.html\u2019 saved [20589]\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5918256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/551d431fbf9a7d649cee5fcbc12f782a?s=128&d=identicon&r=PG&f=1", "display_name": "hdias", "link": "https://stackoverflow.com/users/5918256/hdias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 379, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1509538522, "creation_date": 1504798674, "last_edit_date": 1504805919, "question_id": 46100348, "link": "https://stackoverflow.com/questions/46100348/how-can-i-set-up-a-letsencrypt-ssl-certificate-and-use-it-in-a-https-server-in-d", "title": "How can I set up a letsencrypt SSL certificate and use it in a https server in dart?", "body": "<p>I try:</p>\n\n<pre><code>import 'dart:io';\nimport \"dart:isolate\";\nmain() {\n    SecurityContext context = new SecurityContext();\n    var chain = Platform.script.resolve('/etc/letsencrypt/live/example.com/chain.pem').toFilePath();\n    var key = Platform.script.resolve('/etc/letsencrypt/live/example.com/privkey.pem').toFilePath();\n    context.useCertificateChain(chain);\n    // context.usePrivateKey(key, password: '?????');\n    context.usePrivateKey(key);\n\n    HttpServer.bindSecure(InternetAddress.ANY_IP_V4, 443, context).then((server) {\n        server.listen((HttpRequest request) {\n            request.response.write('Hello, world!');\n            request.response.close();\n        });\n    });\n}\n</code></pre>\n\n<p>But not work! Any ideas to make this work?\n<a href=\"https://api.dartlang.org/stable/1.24.2/dart-io/HttpServer-class.html#id_bindSecure\" rel=\"nofollow noreferrer\">https://api.dartlang.org/stable/1.24.2/dart-io/HttpServer-class.html#id_bindSecure</a></p>\n\n<p>Error Message:</p>\n\n<pre><code>Unhandled exception:\nTlsException: Failure in usePrivateKeyBytes (OS Error: \n    KEY_VALUES_MISMATCH(x509_cmp.c:331), errno = 0)\n#0      _SecurityContext.usePrivateKeyBytes (dart:io-patch/secure_socket_patch.dart:156)\n#1      _SecurityContext.usePrivateKey (dart:io-patch/secure_socket_patch.dart:152)\n#2      main (file:///usr/local/www/www.revisortextos.pt/bin/main.dart:2105:10)\n&lt;asynchronous suspension&gt;\n#3      _startIsolate.&lt;anonymous closure&gt; (dart:isolate-patch/isolate_patch.dart:263)\n#4      _RawReceivePortImpl._handleMessage (dart:isolate-patch/isolate_patch.dart:151)\n</code></pre>\n"}, {"tags": ["angular", "dart", "angular-dart", "dart-webui"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1504798157, "post_id": 46097591, "comment_id": 79162710, "body": "Do you get any errors in the browser console? Did you add all the directives to the component (like in the example code)?"}, {"owner": {"reputation": 1059, "user_id": 4001247, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/848fa431a7a985cd64705a47f34eb008?s=128&d=identicon&r=PG&f=1", "display_name": "Muka", "link": "https://stackoverflow.com/users/4001247/muka"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1504800404, "post_id": 46097591, "comment_id": 79164192, "body": "There is a error in the browser console: <code>EXCEPTION: Invalid argument(s): No provider found for DomService. html_dart2js.dart:3559</code>. I don&#180;t know why! Directives are being used: <code>directives: const [ ... ,MaterialListComponent, MaterialListItemComponent, ],</code>"}], "answers": [{"comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 1059, "user_id": 4001247, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/848fa431a7a985cd64705a47f34eb008?s=128&d=identicon&r=PG&f=1", "display_name": "Muka", "link": "https://stackoverflow.com/users/4001247/muka"}, "edited": false, "score": 0, "creation_date": 1504801654, "post_id": 46100908, "comment_id": 79164872, "body": "Glad to hear :)"}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 8, "last_activity_date": 1574259035, "last_edit_date": 1574259035, "creation_date": 1504800546, "answer_id": 46100908, "question_id": 46097591, "link": "https://stackoverflow.com/questions/46097591/app-layout-with-angulardart-does-not-show-item-on-drawer/46100908#46100908", "title": "App Layout with AngularDart does not show Item on Drawer", "body": "<p>The error message means that <code>materialProviders</code> is missing</p>\n\n<pre><code>import 'package:angular_components/angular_components.dart';\n\n@Component(\n  selector: 'my-app',\n  providers: [materialProviders],\n</code></pre>\n\n<p>they only need to be provided once for the whole application, therefore <code>AppComponent</code> is the best place.</p>\n"}, {"tags": [], "owner": {"reputation": 8869, "user_id": 142714, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GM4Ok.png?s=128&g=1", "display_name": "a darren", "link": "https://stackoverflow.com/users/142714/a-darren"}, "is_accepted": false, "score": 2, "last_activity_date": 1513533604, "last_edit_date": 1513533604, "creation_date": 1513533084, "answer_id": 47857882, "question_id": 46097591, "link": "https://stackoverflow.com/questions/46097591/app-layout-with-angulardart-does-not-show-item-on-drawer/47857882#47857882", "title": "App Layout with AngularDart does not show Item on Drawer", "body": "<p>Note that if you're running a newer version of the AngularDart examples (e.g. 5.0) and you're seeing the same error (<code>No provider found for DomService.</code>), you may find that you need to add the following import:</p>\n\n<pre><code>import 'package:angular_components/laminate/popup/module.dart';\n</code></pre>\n\n<p>And the following to your root Component (as G\u00fcnter mentions):</p>\n\n<pre><code>@Component(\n  selector: 'my-app',\n  providers: const [popupBindings]\n</code></pre>\n\n<p>As per: <a href=\"https://github.com/dart-lang/angular_components_example/blob/master/lib/app_component.dart#L64\" rel=\"nofollow noreferrer\">https://github.com/dart-lang/angular_components_example/blob/master/lib/app_component.dart#L64</a></p>\n\n<p>UPDATE:</p>\n\n<p>However, if you do want to import the <code>materialProviders</code> - as per accepted answer - simply add the following import:</p>\n\n<pre><code>import 'package:angular_components/angular_components.dart';\n</code></pre>\n\n<p>And add the following to your root Component:</p>\n\n<pre><code>@Component(\n  selector: 'my-app',\n  providers: const [materialProviders]\n</code></pre>\n"}], "owner": {"reputation": 1059, "user_id": 4001247, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/848fa431a7a985cd64705a47f34eb008?s=128&d=identicon&r=PG&f=1", "display_name": "Muka", "link": "https://stackoverflow.com/users/4001247/muka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1145, "favorite_count": 0, "accepted_answer_id": 46100908, "answer_count": 2, "score": 1, "last_activity_date": 1574259035, "creation_date": 1504790684, "last_edit_date": 1513532730, "question_id": 46097591, "link": "https://stackoverflow.com/questions/46097591/app-layout-with-angulardart-does-not-show-item-on-drawer", "title": "App Layout with AngularDart does not show Item on Drawer", "body": "<p>I am trying reproduce the following App Layout Demo (app_layout_demo) example:</p>\n\n<p><a href=\"https://github.com/dart-lang/angular_components_example/tree/master/lib/src/app_layout_demo\" rel=\"nofollow noreferrer\">https://github.com/dart-lang/angular_components_example/tree/master/lib/src/app_layout_demo</a></p>\n\n<p>There are these items that should appear in the drawer:</p>\n\n<pre><code>&lt;material-drawer persistent #drawer=\"drawer\" [attr.end]=\"end ? '' : null\"&gt;\n  &lt;material-list *deferredContent&gt;\n    &lt;div group class=\"mat-drawer-spacer\"&gt;&lt;/div&gt;\n    &lt;div group&gt;\n      &lt;material-list-item&gt;\n        &lt;material-icon icon=\"inbox\"&gt;&lt;/material-icon&gt;Inbox\n      &lt;/material-list-item&gt;\n      &lt;material-list-item&gt;\n        &lt;material-icon icon=\"star\"&gt;&lt;/material-icon&gt;Star\n      &lt;/material-list-item&gt;\n      &lt;material-list-item&gt;\n        &lt;material-icon icon=\"send\"&gt;&lt;/material-icon&gt;Sent Mail\n      &lt;/material-list-item&gt;\n      &lt;material-list-item&gt;\n        &lt;material-icon icon=\"drafts\"&gt;&lt;/material-icon&gt;Drafts\n      &lt;/material-list-item&gt;\n    &lt;/div&gt;\n    &lt;div group&gt;\n      &lt;div label&gt;Tags&lt;/div&gt;\n      &lt;material-list-item&gt;\n        &lt;material-icon icon=\"star\"&gt;&lt;/material-icon&gt;Favorites\n      &lt;/material-list-item&gt;\n    &lt;/div&gt;\n  &lt;/material-list&gt;\n&lt;/material-drawer&gt;\n</code></pre>\n\n<p>But it does not show Item on Drawer. See:</p>\n\n<p><a href=\"https://i.stack.imgur.com/uGU3V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uGU3V.png\" alt=\"enter image description here\"></a></p>\n\n<p>There is also an error in the browser console: </p>\n\n<pre><code>EXCEPTION: Invalid argument(s): No provider found for DomService. html_dart2js.dart:3559\n</code></pre>\n\n<p>What could be the problem?</p>\n"}, {"tags": ["dart", "angular-dart", "angular-components", "dart-html", "dart-webui"], "answers": [{"tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1504770473, "creation_date": 1504770473, "answer_id": 46090798, "question_id": 46089985, "link": "https://stackoverflow.com/questions/46089985/how-can-i-apply-toggle-switch-between-light-and-dark-theme-in-angulardart/46090798#46090798", "title": "How can I apply toggle switch between light and dark theme in AngularDart", "body": "<p>I haven't tried but I think this is the way to do it.\nWrap your applications content into a component different from your root component and use <code>*ngIf</code> to enable the dark or non-dark version.</p>\n\n<p>This will destroy and recreate all components. Therefore keeping the application status in global services might be a good idea.</p>\n\n<p><strong>app_component.html</strong></p>\n\n<pre><code>&lt;material-toggle [checked]=\"dark\" label=\"Off\"&gt;&lt;/material-toggle&gt;    \n&lt;my-app-inner *ngIf=\"!dark\"&gt;&lt;/my-app-inner&gt;\n&lt;my-app-inner *ngIf=\"dark\" darkTheme&gt;&lt;/my-app-inner&gt;\n</code></pre>\n\n<p>ensure <code>DarkThemeDirective</code> is listed in </p>\n\n<pre><code>directives: [DarkThemeDirective]\n</code></pre>\n\n<p>You can put the <code>&lt;material-toggle&gt;</code> everywhere in your application, you just need to ensure that the value <code>*ngIf</code> is bound to is updated accordingly.</p>\n"}], "owner": {"reputation": 1804, "user_id": 5846565, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/zihvw.jpg?s=128&g=1", "display_name": "Tushar Rai", "link": "https://stackoverflow.com/users/5846565/tushar-rai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 435, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504770473, "creation_date": 1504768143, "question_id": 46089985, "link": "https://stackoverflow.com/questions/46089985/how-can-i-apply-toggle-switch-between-light-and-dark-theme-in-angulardart", "title": "How can I apply toggle switch between light and dark theme in AngularDart", "body": "<p>I want to apply a toggle between dark and light theme in AngularDart.</p>\n\n<p>app_component</p>\n\n<pre><code>&lt;material-icon icon=\"brightness_2\" \n               class=\"material-list-item-primary\"\n               aria-hidden=\"true\"&gt;&lt;/material-icon&gt;\nDark Theme\n&lt;span class=\"material-list-item-secondary\"&gt;\n&lt;material-toggle [checked]=\"dark\" label=\"Off\"&gt;\n&lt;/material-toggle&gt;\n&lt;/span&gt;\n</code></pre>\n\n<p>app_component.dart</p>\n\n<pre><code>class LayoutComponent {\n  bool dark = false;\n }\n</code></pre>\n"}]