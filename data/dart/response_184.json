[{"tags": ["dart"], "answers": [{"comments": [{"owner": {"reputation": 2695, "user_id": 1130342, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52ff3fc6190f6f2b4813a5683697fbf6?s=128&d=identicon&r=PG", "display_name": "Luke Pighetti", "link": "https://stackoverflow.com/users/1130342/luke-pighetti"}, "edited": false, "score": 0, "creation_date": 1532031504, "post_id": 51412337, "comment_id": 89833091, "body": "I get an error <code>Fields cannot be initialized in both the parameter list and the initializers.</code>"}, {"owner": {"reputation": 2695, "user_id": 1130342, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52ff3fc6190f6f2b4813a5683697fbf6?s=128&d=identicon&r=PG", "display_name": "Luke Pighetti", "link": "https://stackoverflow.com/users/1130342/luke-pighetti"}, "edited": false, "score": 1, "creation_date": 1532031552, "post_id": 51412337, "comment_id": 89833103, "body": "Nevermind, if I follow your example exactly it works."}], "tags": [], "owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "is_accepted": true, "score": 4, "last_activity_date": 1531956802, "creation_date": 1531956802, "answer_id": 51412337, "question_id": 51411956, "link": "https://stackoverflow.com/questions/51411956/default-values-for-arguments-when-argument-is-null/51412337#51412337", "title": "Default values for arguments when argument is null?", "body": "<pre><code>Thing({text}) : this.text = text ?? 'default';\n</code></pre>\n\n<p>You will need to add this small snippet because default values in constructors only work  if there is <strong><em>no</strong> value</em> specified.<br>\nThe <code>??</code> <em>null-aware</em> operator will only use the <code>'default'</code> value if the value that is being passed is actually <code>null</code> (which will also be the case if no value is specified).</p>\n"}], "owner": {"reputation": 2695, "user_id": 1130342, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52ff3fc6190f6f2b4813a5683697fbf6?s=128&d=identicon&r=PG", "display_name": "Luke Pighetti", "link": "https://stackoverflow.com/users/1130342/luke-pighetti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 51412337, "answer_count": 1, "score": 2, "last_activity_date": 1531956802, "creation_date": 1531953694, "question_id": 51411956, "link": "https://stackoverflow.com/questions/51411956/default-values-for-arguments-when-argument-is-null", "title": "Default values for arguments when argument is null?", "body": "<p>Is there any way to get this to return \"default\" without writing out special functions to check the argument and set it?</p>\n\n<pre><code>void main() {\n    Thing stuff = Thing(text: null);\n  print(stuff.text);\n}\n\n\nclass Thing{\n  String text;\n\n  Thing({this.text: \"default\"});\n}\n</code></pre>\n\n<p>I have a map coming in from Firebase and sometimes values will be null and I'd like my class to use its default values when it is provided null.</p>\n"}, {"tags": ["android", "firebase", "dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 9360243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/217236e9d9ec02db34ecbc2140cbf30e?s=128&d=identicon&r=PG&f=1", "display_name": "maddeveloper123", "link": "https://stackoverflow.com/users/9360243/maddeveloper123"}, "edited": false, "score": 0, "creation_date": 1532026665, "post_id": 51412614, "comment_id": 89831019, "body": "Hello!  This looks correct, but I am still unsure on how to display the data in the buildprofilesynopisis() class, instead of the Streambuilder widget. Do you know how to do that?  Sorry if you already explained it, I just have no idea"}, {"owner": {"reputation": 157, "user_id": 6520704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP94i.jpg?s=128&g=1", "display_name": "Yousuf AL-Mawali", "link": "https://stackoverflow.com/users/6520704/yousuf-al-mawali"}, "reply_to_user": {"reputation": 47, "user_id": 9360243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/217236e9d9ec02db34ecbc2140cbf30e?s=128&d=identicon&r=PG&f=1", "display_name": "maddeveloper123", "link": "https://stackoverflow.com/users/9360243/maddeveloper123"}, "edited": false, "score": 0, "creation_date": 1532286175, "post_id": 51412614, "comment_id": 89905176, "body": "sorry to be late, you don&#39;t need to use Streambuilder widget, use the ordinary flutter widgets to display data. I never used Streambuilder in my projects so I don&#39;t know how to explain it. sorry :("}], "tags": [], "owner": {"reputation": 157, "user_id": 6520704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP94i.jpg?s=128&g=1", "display_name": "Yousuf AL-Mawali", "link": "https://stackoverflow.com/users/6520704/yousuf-al-mawali"}, "is_accepted": false, "score": 2, "last_activity_date": 1531959314, "creation_date": 1531959314, "answer_id": 51412614, "question_id": 51410710, "link": "https://stackoverflow.com/questions/51410710/displaying-data-in-firebase-for-flutter/51412614#51412614", "title": "Displaying data in firebase for flutter", "body": "<p>Good morning </p>\n\n<p>My method is quietly different from you. I always write a class to get the data from the datasource then I use it every where. I think you are new in this framework so I will explain by steps </p>\n\n<p>Get data class is :</p>\n\n<pre><code>class GetItemsFromDb {\n  static Future&lt;List&gt; getItems( ) async {\n    Completer&lt;List&gt; completer = new Completer&lt;List&gt;();\n\n    FirebaseDatabase.instance\n        .reference()\n        .child(\"males\")\n        .once()\n        .then( (DataSnapshot snapshot) {\n      //print(snapshot.value);\n      List map = snapshot.value;\n      completer.complete(map);\n    } );\n\n    return completer.future;\n  }\n}\n</code></pre>\n\n<p>as you said, you want all the items in the male. Firebase database will give you a list of maps( Map is a dictionary). </p>\n\n<p>I will rewrite your Males object again </p>\n\n<pre><code>class Males {\n  String names;\n  String desc;\n\n\n  // empty constructor \n  Males();\n\n  // constructor for firebase databases \n  Males.fromMap(Map&lt;String, dynamic&gt; map){\n    names = map[\"name\"];\n    desc  = map[\"description\"];\n  }\n\n}\n</code></pre>\n\n<p>Now you put this in your view </p>\n\n<pre><code>  List&lt;Males&gt; _males = [];\n  @override\n  void initState() {\n    // TODO: implement initState\n    super.initState();\n\n    GetItemsFromDb.getItems().then((list){\n      print(\"Now the list is here\");\n\n      setState(() {\n        for (int i=0; i &lt; list.length; i++) {\n          Map&lt;String, dynamic&gt; map = list[i];\n\n          Males male = new Males.fromMap(map);\n          _males.add(male);\n        }\n      });\n\n    });\n  }\n</code></pre>\n\n<p><strong>now you have the full list from firebase and their data, and you can display them all</strong></p>\n"}, {"comments": [{"owner": {"reputation": 47, "user_id": 9360243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/217236e9d9ec02db34ecbc2140cbf30e?s=128&d=identicon&r=PG&f=1", "display_name": "maddeveloper123", "link": "https://stackoverflow.com/users/9360243/maddeveloper123"}, "edited": false, "score": 0, "creation_date": 1532357945, "post_id": 51469986, "comment_id": 89932375, "body": "Thank you so much!"}], "tags": [], "owner": {"reputation": 2217, "user_id": 2865073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b973f84cc0d80c5dc44fcdfc701828ab?s=128&d=identicon&r=PG&f=1", "display_name": "Mans", "link": "https://stackoverflow.com/users/2865073/mans"}, "is_accepted": true, "score": 1, "last_activity_date": 1532301361, "creation_date": 1532301361, "answer_id": 51469986, "question_id": 51410710, "link": "https://stackoverflow.com/questions/51410710/displaying-data-in-firebase-for-flutter/51469986#51469986", "title": "Displaying data in firebase for flutter", "body": "<p>You were very close. </p>\n\n<p>You declare the Map <code>Map&lt;dynamic, dynamic&gt; data = event.data.snapshot.value;</code> but then don't use it, and instead just use <code>event.data.snapshot.value</code> in your <code>Text</code> widget. <code>event.data.snapshot.value</code> is the all of the data under the child in Firebase. Which is why you see all of the data in both the name and the description. Instead to get the name you should use <code>data['name']</code> and the description <code>data['description']</code>. The string in the square brackets are the keys in the firebase database. </p>\n\n<p>Another suggestion would be to display all user data in a <code>Column</code> in <strong>one</strong> <code>StreamBuilder</code> as you wont download the data twice. In a simple example like this it doesn't matter, but when you start dealing with bigger data this could impact loading times.</p>\n\n<p>Here is a revised version of <code>_ProfileCardState</code> that (hopefully) will work for you. Let me know if you have any more questions. </p>\n\n<pre><code>class _ProfileCardState extends State&lt;ProfileCard&gt; {\n  Widget _buildProfileSynopsis() {\n    return new Positioned(\n      left: 0.0,\n      right: 0.0,\n      bottom: 0.0,\n      child: new Container(\n        padding: const EdgeInsets.all(24.0),\n        child: new Row(\n          mainAxisSize: MainAxisSize.max,\n          children: &lt;Widget&gt;[\n            new Expanded(\n              child: new Column(\n                crossAxisAlignment: CrossAxisAlignment.start,\n                mainAxisSize: MainAxisSize.min,\n                children: &lt;Widget&gt;[\n                  new StreamBuilder&lt;Event&gt;(\n                    stream: FirebaseDatabase.instance\n                        .reference()\n                        .child('items')\n                        .child('-LD2vzOCd54yEFNXJpGj')\n                        .onValue,\n                    builder:\n                        (BuildContext context, AsyncSnapshot&lt;Event&gt; event) {\n                      if (!event.hasData)\n                        return new Center(child: new Text('Loading...'));\n                      Map&lt;dynamic, dynamic&gt; data = event.data.snapshot.value;\n                      return Column(children: [\n                        new Text('${data['name']}',\n                            style: new TextStyle(fontSize: 30.0)),\n                        new Text('-${data['description']}')\n\n                      ]);\n                    },\n                  ),\n                ],\n              ),\n            ),\n            new Icon(\n              Icons.info,\n              color: Colors.black,\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n</code></pre>\n\n<p>Here is an image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/6BeHUl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6BeHUl.png\" alt=\"firebase data\"></a></p>\n"}], "owner": {"reputation": 47, "user_id": 9360243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/217236e9d9ec02db34ecbc2140cbf30e?s=128&d=identicon&r=PG&f=1", "display_name": "maddeveloper123", "link": "https://stackoverflow.com/users/9360243/maddeveloper123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4592, "favorite_count": 3, "accepted_answer_id": 51469986, "answer_count": 2, "score": 0, "last_activity_date": 1572988311, "creation_date": 1531946700, "question_id": 51410710, "link": "https://stackoverflow.com/questions/51410710/displaying-data-in-firebase-for-flutter", "title": "Displaying data in firebase for flutter", "body": "<p>I am currently facing a problem with Flutter and Firebase.</p>\n\n<p>I want to display data from my Firebase Databse.</p>\n\n<p>Most of the code is from Fluttery's video on Tinder Cards, I just wanted to learn how to display name, photos, age and biography on the cards. I only want to do name and description for now.</p>\n\n<p>My current code: </p>\n\n<pre><code>class _ProfileCardState extends State&lt;ProfileCard&gt; {\n\n   Widget _buildProfileSynopsis() {\n    return new Positioned(\n      left: 0.0,\n      right: 0.0,\n      bottom: 0.0,\n      child: new Container(\n        padding: const EdgeInsets.all(24.0),\n        child: new Row(\n          mainAxisSize: MainAxisSize.max,\n          children: &lt;Widget&gt;[\n            new Expanded(\n              child: new Column(\n                crossAxisAlignment: CrossAxisAlignment.start,\n                mainAxisSize: MainAxisSize.min,\n                children: &lt;Widget&gt;[\n                   new StreamBuilder&lt;Event&gt;(\n                      stream: FirebaseDatabase.instance\n                      .reference()\n                      .child('items')\n                      .child('-LD2vzOCd54yEFNXJpGj')\n                      .onValue,\n                      builder: (BuildContext context, AsyncSnapshot&lt;Event&gt; event) {\n                        if (!event.hasData)\n                          return new Center(child: new Text('Loading...'));\n                        Map&lt;dynamic, dynamic&gt; data = event.data.snapshot.value;\n                      return new Text('${event.data.snapshot.value}', style: new TextStyle(\n                        fontSize: 30.0)\n                        );\n                      },\n                    ),\n                    new StreamBuilder&lt;Event&gt;(\n                      stream: FirebaseDatabase.instance\n                      .reference()\n                      .child('items')\n                      .child('-LD2vzOCd54yEFNXJpGj')\n                      .onValue,\n                      builder: (BuildContext context, AsyncSnapshot&lt;Event&gt; event) {\n                        if (!event.hasData)\n                          return new Center(child: new Text('Loading...'));\n                        Map&lt;dynamic, dynamic&gt; data = event.data.snapshot.value;\n                      return new Text('-${event.data.snapshot.value}');\n                      },\n                    ),\n                ],\n              ),\n            ),\n            new Icon(\n              Icons.info,\n              color: Colors.black,\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return new Container(\n      decoration: new BoxDecoration(\n        borderRadius: new BorderRadius.circular(10.0),\n        boxShadow: [\n          new BoxShadow(\n            color: const Color(0x11000000),\n            blurRadius: 5.0,\n            spreadRadius: 2.0,\n          ),\n        ],\n      ),\n      child: ClipRRect(\n        borderRadius: new BorderRadius.circular(10.0),\n        child: new Material(\n          child: new Stack(\n            fit: StackFit.expand,\n            children: &lt;Widget&gt;[\n              _buildProfileSynopsis(),\n            ],\n          ),\n        ),\n      ),\n    );\n  }\nclass Males {\n  String name, description;\n\n  Males(this.name, this.description);\n}\n}\n</code></pre>\n\n<p>Images:</p>\n\n<p><a href=\"https://i.stack.imgur.com/G8GW1.jpg\" rel=\"nofollow noreferrer\">Importan screenshot</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/F52RF.jpg\" rel=\"nofollow noreferrer\">Image of my Database</a></p>\n\n<p>As you can see in the screenshot of my Firebase, every person has a unique key, \nwhich makes it hard to refer to the individual data. This is my main problem, as I do not know how to save the accountkey in a String, so I can do .child(accountkey).</p>\n\n<p>All of the youtube tuturials show a Listview, but that just displays the data in a list on the card, which isn't useful because every card shows every user.</p>\n\n<p>Thanks in advance, let me know if you have any questions. I hope that you can help :)</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 9995030, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2vHI38IHqpI/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3CLPKijlqxuyyWNLG5PDVKNeyRaQ/mo/photo.jpg?sz=128", "display_name": "Ryan Moeller", "link": "https://stackoverflow.com/users/9995030/ryan-moeller"}, "edited": false, "score": 0, "creation_date": 1532097294, "post_id": 51412098, "comment_id": 89859852, "body": "Thank you, this worked perfectly. It seems odd how the state cannot be refreshed real-time unless you make the simple dialog its own class."}, {"owner": {"reputation": 2224, "user_id": 7940500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TSHV3.jpg?s=128&g=1", "display_name": "Aman Malhotra", "link": "https://stackoverflow.com/users/7940500/aman-malhotra"}, "reply_to_user": {"reputation": 131, "user_id": 9995030, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2vHI38IHqpI/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3CLPKijlqxuyyWNLG5PDVKNeyRaQ/mo/photo.jpg?sz=128", "display_name": "Ryan Moeller", "link": "https://stackoverflow.com/users/9995030/ryan-moeller"}, "edited": false, "score": 0, "creation_date": 1532097896, "post_id": 51412098, "comment_id": 89860278, "body": "that is just the way dialogs work . a simple dialog acts as a stateless widget if we simply open it the way you were doing before . but to make it stateful we have to make a stateful widget inside showDialiog function ."}], "tags": [], "owner": {"reputation": 2224, "user_id": 7940500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TSHV3.jpg?s=128&g=1", "display_name": "Aman Malhotra", "link": "https://stackoverflow.com/users/7940500/aman-malhotra"}, "is_accepted": true, "score": 1, "last_activity_date": 1531955671, "last_edit_date": 1531955671, "creation_date": 1531954750, "answer_id": 51412098, "question_id": 51410056, "link": "https://stackoverflow.com/questions/51410056/textfield-errortext-will-not-refresh-state/51412098#51412098", "title": "TextField ErrorText Will not Refresh State", "body": "<p>The code you posted dosen't help with anything but i think ik what might be the error.\nWhen we open a <code>SimpleDialog</code> on a button click and try to perform something inside it.\nTake care the <code>SimpleDialog</code> here acts as a <code>stateless widget .</code>\nwhen we write </p>\n\n<pre><code>showDialog(\ncontext: context,\nbuilder: (BuildContext context){\nreturn SimpeDialog(\n.... // the code for deigning the simpleDialog\n);\n});\n</code></pre>\n\n<p>What you have to do is inspite of doing this .\nyou need to do something like this :- </p>\n\n<pre><code>showDialog(\ncontext: context,\nbuilder: (BuildContext context){\nreturn DialogDemo();\n});\n</code></pre>\n\n<p>in that <code>DialogDemo</code> create a <code>stateful widget</code> and inside that widget copy paste all the code under your main build function.</p>\n\n<pre><code>class DialogDemo extends StatefulWidget {\n\u00a0\u00a0DialogDemoState createState() =&gt; new DialogDemoState();\n}\n\nclass DialogDemoState extends State&lt;DialogDemo&gt; {\n\n\u00a0\u00a0@override\n\u00a0\u00a0void initState() {\n\u00a0\u00a0\u00a0\u00a0super.initState();\n\u00a0\u00a0}\n\n\u00a0\u00a0@override\n\n\u00a0\u00a0Widget build(BuildContext context) {\nreturn SimpleDialog(\n.... // the code for deigning the simpleDialog\n);\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 9995030, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2vHI38IHqpI/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3CLPKijlqxuyyWNLG5PDVKNeyRaQ/mo/photo.jpg?sz=128", "display_name": "Ryan Moeller", "link": "https://stackoverflow.com/users/9995030/ryan-moeller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 628, "favorite_count": 0, "accepted_answer_id": 51412098, "answer_count": 1, "score": 1, "last_activity_date": 1531955671, "creation_date": 1531943681, "question_id": 51410056, "link": "https://stackoverflow.com/questions/51410056/textfield-errortext-will-not-refresh-state", "title": "TextField ErrorText Will not Refresh State", "body": "<p>I currently have a TextField embedded inside a SimpleDialog for entering information. The information entered needs to be validated before being used. If this validation fails, I want to show an error message using the TextField's ErrorText field. This validation occurs when the user presses a \"save\" button.</p>\n\n<p>On fail, I update the text's value from null to \"Error!\". I know this is being done correctly because if I exit the SimpleDialog and then go back into the dialog, the text is updated. Clearly this is an issue with state.</p>\n\n<p>Here is my code for the OnPressed method for the save button:</p>\n\n<pre><code>onPressed: () {\n    if (!checkDevEUICorrectness()) {\n        setState(() {\n            devEUIErrorText = \"Error!\";\n        });\n    }\n    else {\n        setState((){\n            devEUIErrorText = null;\n        });\n    }\n},\n</code></pre>\n\n<p>And here a brief bit of code for the TextField:</p>\n\n<pre><code>new TextField(\n\ncontroller: devEUIController,\n    decoration: new InputDecoration(\n        errorText: devEUIErrorText,\n        // This is the save button whose code is above\n        icon: new IconButton(...implementation...),\n    ),\n),\n</code></pre>\n\n<p>How should I properly be updating the state for the text? I don't see a difference in what I am doing compared to the many guides I have looked at online.</p>\n"}, {"tags": ["sqlite", "dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 757, "user_id": 10101381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1487142565a10e70ff193014d3a595a5?s=128&d=identicon&r=PG&f=1", "display_name": "HDiamond", "link": "https://stackoverflow.com/users/10101381/hdiamond"}, "edited": false, "score": 0, "creation_date": 1532020007, "post_id": 51412848, "comment_id": 89827845, "body": "So this example is if you hard code the id, i need to make it grab the id of selected value from the sqlite database to pass on the next page... so if i&#39;m listing a bunch of books and need to grab the id of the selected book, its not always going to have the id of &quot;5&quot;"}, {"owner": {"reputation": 157, "user_id": 6520704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP94i.jpg?s=128&g=1", "display_name": "Yousuf AL-Mawali", "link": "https://stackoverflow.com/users/6520704/yousuf-al-mawali"}, "reply_to_user": {"reputation": 757, "user_id": 10101381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1487142565a10e70ff193014d3a595a5?s=128&d=identicon&r=PG&f=1", "display_name": "HDiamond", "link": "https://stackoverflow.com/users/10101381/hdiamond"}, "edited": false, "score": 0, "creation_date": 1532286084, "post_id": 51412848, "comment_id": 89905152, "body": "ok. let assume you are building a list of objects. then you have to make for loop to build all of them, put this   ---   Navigator.push(context, new MaterialPageRoute(builder: (context)=&gt; new DetailsPage(id: 5,))); ---- inside the loop and instead of passing 5, pass the id of the object or map or any property"}], "tags": [], "owner": {"reputation": 157, "user_id": 6520704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP94i.jpg?s=128&g=1", "display_name": "Yousuf AL-Mawali", "link": "https://stackoverflow.com/users/6520704/yousuf-al-mawali"}, "is_accepted": false, "score": 0, "last_activity_date": 1531961680, "creation_date": 1531961680, "answer_id": 51412848, "question_id": 51409717, "link": "https://stackoverflow.com/questions/51409717/passing-ids-of-selected-value-to-different-flutter-page-sqlite/51412848#51412848", "title": "Passing id&#39;s of selected value to different flutter page, sqlite", "body": "<p>first:build a new page call it \"DetailsPage\" and put it in details.dart file </p>\n\n<pre><code>import 'package:flutter/material.dart';\nclass DetailsPage extends StatefulWidget {\n\n  int id;\n\n  DetailsPage({this.id});\n\n  @override\n  _DetailsPageState createState() =&gt; new _DetailsPageState();\n}\n\nclass _DetailsPageState extends State&lt;DetailsPage&gt; {\n\n  final int id;\n  _DetailsPageState({this.id});\n\n  @override\n  void initState() {\n    // TODO: implement initState\n    super.initState();\n    // get the data from db here\n    print(\"id is : \" + id.toString());\n  }\n\n  @override\n  Widget build(BuildContext context) {\n\n\n    return new Scaffold(\n      // in app bar you can modify the themes, the bar .. etc\n        appBar: new AppBar(\n          title: new Text(\"title\"),\n        ),\n        body: new Text(\"Details Container \")\n    );\n  }\n\n\n}\n</code></pre>\n\n<p>now in your listView view, import this file \"details.dart\"\nand now you can navigate to it :</p>\n\n<pre><code>new GestureDetector(\n   onTap: (){\n     Navigator.push(context, new MaterialPageRoute(builder: (context)=&gt; new DetailsPage(id: 5,)));\n  },\n   child: new Text(\"id : 5\"),\n   )\n</code></pre>\n\n<p>passing the id to the next page and then you can use </p>\n\n<pre><code>select * from tbl_books where genre_id = 5\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2224, "user_id": 7940500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TSHV3.jpg?s=128&g=1", "display_name": "Aman Malhotra", "link": "https://stackoverflow.com/users/7940500/aman-malhotra"}, "is_accepted": false, "score": 0, "last_activity_date": 1532144974, "creation_date": 1532144974, "answer_id": 51452625, "question_id": 51409717, "link": "https://stackoverflow.com/questions/51409717/passing-ids-of-selected-value-to-different-flutter-page-sqlite/51452625#51452625", "title": "Passing id&#39;s of selected value to different flutter page, sqlite", "body": "<p>Just wanted to ask you what are the columns inside the table <code>tbl_genres</code> ?? \nif there is a table named id which i am supposing there should be and also that it contains integer values as per your ques what you can do is pass this in place of 5 in the answer given by @Yousuf Al-Mawali <code>_genreList[index].id</code> and you are good to go . \n<a href=\"https://stackoverflow.com/a/51412848/7940500\">Link to his answer here </a></p>\n"}], "owner": {"reputation": 757, "user_id": 10101381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1487142565a10e70ff193014d3a595a5?s=128&d=identicon&r=PG&f=1", "display_name": "HDiamond", "link": "https://stackoverflow.com/users/10101381/hdiamond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1169, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1532144974, "creation_date": 1531942265, "question_id": 51409717, "link": "https://stackoverflow.com/questions/51409717/passing-ids-of-selected-value-to-different-flutter-page-sqlite", "title": "Passing id&#39;s of selected value to different flutter page, sqlite", "body": "<p>I have a sqlite database created and populated already with two tables tbl_genres and tbl_books, and I am calling them in flutter by doing raw sql queries like so.. </p>\n\n<pre><code>_genreList= await db.rawQuery('SELECT genre_name[] FROM tbl_genres');\n</code></pre>\n\n<p>and placing them on to the page using a ListView.builder, where the page displays a list of genres.</p>\n\n<pre><code>title: new Text(\"${_genreList[index]}\")\n</code></pre>\n\n<p>Then, I want to be able to select a genre through the onTap() method, to navigate to a new page which displays all the books from tbl_books within that specific genre. In order to do so, I am trying to grab the id of the selected genre and pass them into the next page so that I can do something like this for my raw sql query on the next page.</p>\n\n<pre><code>select * from tbl_books where genre_id = (passed id of selected value)\n</code></pre>\n\n<p>How can I interpolate data to show all the data \"books\" related to a \"genre\"?</p>\n"}, {"tags": ["android", "dart", "flutter", "flutter-layout"], "answers": [{"comments": [{"owner": {"reputation": 2526, "user_id": 7387089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SKNuw.jpg?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/7387089/robin"}, "edited": false, "score": 3, "creation_date": 1531942040, "post_id": 51409417, "comment_id": 89790662, "body": "oh ! &quot;Paint()..color = Colors.red&quot; , its called cascade method. I just learn this new things. Thanks"}], "tags": [], "owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "is_accepted": true, "score": 10, "last_activity_date": 1531941033, "creation_date": 1531941033, "answer_id": 51409417, "question_id": 51409239, "link": "https://stackoverflow.com/questions/51409239/the-argument-type-materialcolor-cant-be-assigned-to-the-parameter-type-paint/51409417#51409417", "title": "The argument type &#39;MaterialColor&#39; can&#39;t be assigned to the parameter type &#39;Paint&#39;", "body": "<p>Simply set <code>color</code> property of <code>Paint</code> to <code>Colors.red</code></p>\n\n<pre><code>Text(\n  \"Hello\",\n  style: TextStyle(background: Paint()..color = Colors.red),\n),\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user11644496"}, "is_accepted": false, "score": 0, "last_activity_date": 1600849189, "creation_date": 1600849189, "answer_id": 64023787, "question_id": 51409239, "link": "https://stackoverflow.com/questions/51409239/the-argument-type-materialcolor-cant-be-assigned-to-the-parameter-type-paint/64023787#64023787", "title": "The argument type &#39;MaterialColor&#39; can&#39;t be assigned to the parameter type &#39;Paint&#39;", "body": "<p>Instead of using <code>background</code> to define a color, I advise you to use directly the <code>backgroundColor</code> property like this:</p>\n<pre><code>   Text(\n        'Wow',\n        style: TextStyle(backgroundColor: Colors.red),\n      ),\n</code></pre>\n"}], "owner": {"reputation": 2526, "user_id": 7387089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SKNuw.jpg?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/7387089/robin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6768, "favorite_count": 1, "accepted_answer_id": 51409417, "answer_count": 2, "score": 3, "last_activity_date": 1600849189, "creation_date": 1531940342, "question_id": 51409239, "link": "https://stackoverflow.com/questions/51409239/the-argument-type-materialcolor-cant-be-assigned-to-the-parameter-type-paint", "title": "The argument type &#39;MaterialColor&#39; can&#39;t be assigned to the parameter type &#39;Paint&#39;", "body": "<p><a href=\"https://i.stack.imgur.com/5PCND.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5PCND.png\" alt=\"enter image description here\"></a></p>\n\n<p>I want to set the background color red, but there is no <strong>'backgroundColor'</strong> property under <strong>TextStyle</strong> widget. </p>\n\n<p>There is background property but i can't set the value for background. It shows error &amp; the error is </p>\n\n<blockquote>\n  <p>The argument type 'MaterialColor' can't be assigned to the parameter\n  type 'Paint'</p>\n</blockquote>\n\n<p><strong>The error is reasonable, i know.</strong> But what should be the value of background property ? </p>\n\n<p>I search but unfortunately can't find :( \nI can set background as <code>background: Paint()</code> and the background goes to black. But i need red background. \n<strong><em>What should be the value of background ?</em></strong></p>\n\n<p>Thanks</p>\n"}, {"tags": ["dart"], "comments": [{"owner": {"reputation": 5606, "user_id": 374798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53255beb029d8a0074a6a65c9d3f63c?s=128&d=identicon&r=PG", "display_name": "Nate Bosch", "link": "https://stackoverflow.com/users/374798/nate-bosch"}, "edited": false, "score": 1, "creation_date": 1531944969, "post_id": 51408966, "comment_id": 89792071, "body": "<a href=\"https://github.com/dart-lang/sdk/issues/28389\" rel=\"nofollow noreferrer\">github.com/dart-lang/sdk/issues/28389</a> is the issue requesting special syntax for this."}, {"owner": {"reputation": 2470, "user_id": 195969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8edd86b67c7e654104f7681b925358c?s=128&d=identicon&r=PG", "display_name": "AWhitford", "link": "https://stackoverflow.com/users/195969/awhitford"}, "edited": false, "score": 0, "creation_date": 1571688068, "post_id": 51408966, "comment_id": 103316578, "body": "It appears that this feature is on the roadmap: <a href=\"https://github.com/dart-lang/language/blob/master/accepted/future-releases/nnbd/feature-specification.md\" rel=\"nofollow noreferrer\">github.com/dart-lang/language/blob/master/accepted/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 2, "last_activity_date": 1531942001, "creation_date": 1531942001, "answer_id": 51409647, "question_id": 51408966, "link": "https://stackoverflow.com/questions/51408966/conditional-member-access-for-map-children/51409647#51409647", "title": "Conditional member access for map children?", "body": "<p>One way would be</p>\n\n<pre><code>final result = (((nestedMap ?? const {})['this'] ?? const {})['is an'] ?? const {})['error'];\n</code></pre>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/51141109/null-aware-operator-with-maps/51141153#51141153\">Null-aware operator with Maps</a></p>\n"}, {"tags": [], "owner": {"reputation": 5738, "user_id": 2118226, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/SgUMa.jpg?s=128&g=1", "display_name": "matanlurey", "link": "https://stackoverflow.com/users/2118226/matanlurey"}, "is_accepted": false, "score": 2, "last_activity_date": 1531967650, "creation_date": 1531967650, "answer_id": 51413519, "question_id": 51408966, "link": "https://stackoverflow.com/questions/51408966/conditional-member-access-for-map-children/51413519#51413519", "title": "Conditional member access for map children?", "body": "<p>You could write a simple function to help do what you want:</p>\n\n<pre><code>R lookup&lt;R, K&gt;(Map&lt;K, dynamic&gt; map, Iterable&lt;K&gt; keys, [R defaultTo]);\n</code></pre>\n\n<p>Example usage:</p>\n\n<pre><code>final result = lookup(inputMap, ['this', 'is', 'something']);\n</code></pre>\n\n<p>Example implementation:\n<a href=\"https://dartpad.dartlang.org/1a937b2d8cdde68e6d6f14d216e4c291\" rel=\"nofollow noreferrer\">https://dartpad.dartlang.org/1a937b2d8cdde68e6d6f14d216e4c291</a></p>\n\n<pre><code>void main() {\n  var nestedMap = {\n    'this':{\n      'is':{\n        'sometimes':'here'\n      }\n    }\n  };\n\n  print(lookup(nestedMap, ['this']));\n  print(lookup(nestedMap, ['this', 'is']));\n  print(lookup(nestedMap, ['this', 'is', 'sometimes']));\n  print(lookup(nestedMap, ['this', 'is', 'error']));\n\n  // Bail out on null:\n  print(lookup(nestedMap, ['error'], 'Default Value'));\n}\n\nR lookup&lt;R, K&gt;(Map&lt;K, dynamic&gt; map, Iterable&lt;K&gt; keys, [R defaultTo]) {\n  dynamic current = map;\n  for (final key in keys) {\n    if (current is Map&lt;K, dynamic&gt;) {\n      current = current[key];\n    } else {\n      return defaultTo;\n    }\n  }\n  return current as R;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1760, "user_id": 1122851, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4262055c4f931f97127481d263dd5579?s=128&d=identicon&r=PG", "display_name": "oodavid", "link": "https://stackoverflow.com/users/1122851/oodavid"}, "is_accepted": false, "score": 1, "last_activity_date": 1573750600, "creation_date": 1573750600, "answer_id": 58862045, "question_id": 51408966, "link": "https://stackoverflow.com/questions/51408966/conditional-member-access-for-map-children/58862045#58862045", "title": "Conditional member access for map children?", "body": "<p>I like @matanlurey's approach, but have made two changes:</p>\n\n<ol>\n<li>Drop the <code>defaultTo</code> since you can still use <code>??</code> which is more readable. </li>\n<li>Swallow type-cast errors.</li>\n</ol>\n\n<pre class=\"lang-dart prettyprint-override\"><code>R lookup &lt;R, K&gt;(Map&lt;K, dynamic&gt; map, Iterable&lt;K&gt; keys) {\n  dynamic current = map;\n  for (final key in keys) {\n    if (current is Map&lt;K, dynamic&gt;) {\n      current = current[key];\n    }\n  }\n  try{\n    return current as R;\n  } catch(e){\n    // do nothing\n  }\n}\n</code></pre>\n\n<p>Usage is similar</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>String someValue = lookup(nestedMap, ['some', 'value']) ?? 'Default Value';\n</code></pre>\n"}], "owner": {"reputation": 2695, "user_id": 1130342, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52ff3fc6190f6f2b4813a5683697fbf6?s=128&d=identicon&r=PG", "display_name": "Luke Pighetti", "link": "https://stackoverflow.com/users/1130342/luke-pighetti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 895, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1573750600, "creation_date": 1531939375, "last_edit_date": 1531941540, "question_id": 51408966, "link": "https://stackoverflow.com/questions/51408966/conditional-member-access-for-map-children", "title": "Conditional member access for map children?", "body": "<p>Lets say you are trying to access deeply nested children in a map and you are not able to expect their parents to be there. Example:</p>\n\n<pre><code>Map awesomeMap = {\n    \"this\":{\n        \"is\":{\n            \"sometimes\":\"not here\"\n        }\n    }\n}\n\nMap notAwesomeMap = {\n    \"this\":{\n        \"haha\":{\n            \"we\":\"switched\"\n        }\n    }\n}\n</code></pre>\n\n<p>When I go to access <code>notAwesomeMap['this']['is']['sometimes']</code> it will return an error because <code>['this']['is']</code> is <code>null</code>, and you cannot look for the value <code>['sometimes']</code> of <code>null</code>.</p>\n\n<p>So that's fine, but I was hoping to be able to use conditional member access operators...</p>\n\n<p><code>notAwesomeMap['this']?.['is']?.['sometimes']</code></p>\n\n<p>but that doesn't work...</p>\n\n<p>Short of wrapping everything in a try block, is there a good way to handle these situations?</p>\n\n<p>Edit: I tried playing around with this and I didn't find anything really illuminating, but maybe this gives someone an idea</p>\n\n<pre><code>void main() {\n  Map nestedMap = {\n    'this':{\n      'is':{\n        'sometimes':'here'\n      }\n    }\n  };\n\n  final mapResult = nestedMap['this'];\n  print(mapResult); //returns {is: {sometimes: here}}\n\n  final nullResult = nestedMap['this']['is an'];\n  print(nullResult); // returns null\n\n\n  final nullifiedResult = nullify(nestedMap['this']['is an']['error']);\n  print(nullifiedResult); // returns error, but is this possible another way?\n\n  final errorResult = nestedMap['this']['is an']['error'];\n  print(errorResult); // returns error\n}\n\n\n\nnullify(object){\n  try {\n    final result = object;\n    return result;\n  }\n  catch (e) {\n    return null;\n  }\n}\n</code></pre>\n"}, {"tags": ["dart", "flutter", "flutter-layout", "flutter-sliver"], "answers": [{"comments": [{"owner": {"reputation": 2224, "user_id": 7940500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TSHV3.jpg?s=128&g=1", "display_name": "Aman Malhotra", "link": "https://stackoverflow.com/users/7940500/aman-malhotra"}, "reply_to_user": {"reputation": 21, "user_id": 10092351, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SG9FWe4aErs/AAAAAAAAAAI/AAAAAAAAAAc/l0qUXmHQXOw/photo.jpg?sz=128", "display_name": "Developers NTS", "link": "https://stackoverflow.com/users/10092351/developers-nts"}, "edited": false, "score": 0, "creation_date": 1531999326, "post_id": 51408981, "comment_id": 89813612, "body": "You need to give a sample link so that i can try your code and see what i can do so the image fits in the height .but i still think that the above code i told you to change should have worked just fine ."}], "tags": [], "owner": {"reputation": 2224, "user_id": 7940500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TSHV3.jpg?s=128&g=1", "display_name": "Aman Malhotra", "link": "https://stackoverflow.com/users/7940500/aman-malhotra"}, "is_accepted": false, "score": 0, "last_activity_date": 1531939460, "creation_date": 1531939460, "answer_id": 51408981, "question_id": 51408852, "link": "https://stackoverflow.com/questions/51408852/infinity-height-in-the-listview-of-the-flutter/51408981#51408981", "title": "infinity height in the listview of the flutter", "body": "<p>You can edit the line </p>\n\n<pre><code>fit: BoxFit.cover\n</code></pre>\n\n<p>to </p>\n\n<pre><code>fit: BoxFit.fitHeight\n</code></pre>\n\n<p>inside you container that grabs image from network.</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 10092351, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SG9FWe4aErs/AAAAAAAAAAI/AAAAAAAAAAc/l0qUXmHQXOw/photo.jpg?sz=128", "display_name": "Developers NTS", "link": "https://stackoverflow.com/users/10092351/developers-nts"}, "edited": false, "score": 0, "creation_date": 1531963124, "post_id": 51412916, "comment_id": 89797626, "body": "no its the builder class where i am building the single list item in it"}, {"owner": {"reputation": 157, "user_id": 6520704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP94i.jpg?s=128&g=1", "display_name": "Yousuf AL-Mawali", "link": "https://stackoverflow.com/users/6520704/yousuf-al-mawali"}, "reply_to_user": {"reputation": 21, "user_id": 10092351, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SG9FWe4aErs/AAAAAAAAAAI/AAAAAAAAAAc/l0qUXmHQXOw/photo.jpg?sz=128", "display_name": "Developers NTS", "link": "https://stackoverflow.com/users/10092351/developers-nts"}, "edited": false, "score": 0, "creation_date": 1531964225, "post_id": 51412916, "comment_id": 89797836, "body": "yes I can see that, &quot;SliverList&quot; is a list (main list). then you put inside the card a &quot;Column&quot; which is a list. both of them are lists. Doing this &quot;a list inside a list&quot; will cause you that error &quot; infinity height in the listview&quot;"}], "tags": [], "owner": {"reputation": 157, "user_id": 6520704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP94i.jpg?s=128&g=1", "display_name": "Yousuf AL-Mawali", "link": "https://stackoverflow.com/users/6520704/yousuf-al-mawali"}, "is_accepted": false, "score": 0, "last_activity_date": 1531962441, "creation_date": 1531962441, "answer_id": 51412916, "question_id": 51408852, "link": "https://stackoverflow.com/questions/51408852/infinity-height-in-the-listview-of-the-flutter/51412916#51412916", "title": "infinity height in the listview of the flutter", "body": "<p>I think you are trying to put a list inside another list, so the error shows\nyou can put the list (nested list which is inside the list) in a container and specify a height :</p>\n\n<pre><code> ListView _buildMainView(){\n\n    return new ListView(\n      children: &lt;Widget&gt;[\n        new Text(\"Main List\"),\n        new Container(\n          height: 100.0,\n          child: new ListView(\n            children: &lt;Widget&gt;[\n              new Text(\"Nested List\")\n            ],\n          ),\n\n        )\n      ],\n    );\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4688, "user_id": 6241184, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1022848011119215/picture?type=large", "display_name": "Vinicius Brasil", "link": "https://stackoverflow.com/users/6241184/vinicius-brasil"}, "is_accepted": false, "score": 1, "last_activity_date": 1560981834, "creation_date": 1560981834, "answer_id": 56676476, "question_id": 51408852, "link": "https://stackoverflow.com/questions/51408852/infinity-height-in-the-listview-of-the-flutter/56676476#56676476", "title": "infinity height in the listview of the flutter", "body": "<p>If you have a <code>ListView</code> with vertical scroll direction, and want it to have a infinity height, <strong>maybe</strong> you don't need a <code>ListView</code>.</p>\n\n<p>You can use a regular <code>Column</code>.</p>\n"}], "owner": {"reputation": 21, "user_id": 10092351, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SG9FWe4aErs/AAAAAAAAAAI/AAAAAAAAAAc/l0qUXmHQXOw/photo.jpg?sz=128", "display_name": "Developers NTS", "link": "https://stackoverflow.com/users/10092351/developers-nts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6293, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1560981834, "creation_date": 1531938911, "question_id": 51408852, "link": "https://stackoverflow.com/questions/51408852/infinity-height-in-the-listview-of-the-flutter", "title": "infinity height in the listview of the flutter", "body": "<p>Hi friends i am new to the flutter development here i am using the list view please find this image <a href=\"https://i.stack.imgur.com/SouaG.jpg\" rel=\"nofollow noreferrer\">Please check this image</a> where i am want to remove the white space above and below the image make it stretch on this white spaces i am tried to sized box but its given error that double.infinity cant be used please find the below code please help me out friends</p>\n\n<pre><code>new SliverList(\n          delegate: new SliverChildBuilderDelegate(\n            (BuildContext context, int index) {\n              return new GestureDetector(\n                onTap: () {\n                  Navigator.push(\n                      context,\n                      new MaterialPageRoute(\n                          builder: (context) =&gt; new News_Details(\n                                postid: latest_news_list[index]['id'],\n                              )));\n                },\n                child: new Card(\n                  elevation: 4.0,\n                  margin: EdgeInsets.only(left: 10.0, right: 10.0, top: 5.0),\n                  child: new Row(\n                    children: &lt;Widget&gt;[\n                      **new Container(\n                        child: new Image.network(\n                          latest_news_list[index]['image'],\n                          width: 150.0,\n                          fit: BoxFit.cover,\n                        ),\n                      ),**\n                      new Flexible(\n                        child: new Column(\n                          crossAxisAlignment: CrossAxisAlignment.start,\n                          children: &lt;Widget&gt;[\n                            new Container(\n                              child: new Text(latest_news_list[index]['title']),\n                              margin: EdgeInsets.only(left: 10.0, top: 10.0),\n                            ),\n                            new Container(\n                              child: new Divider(\n                                color: secondarycolor,\n                              ),\n                              margin: EdgeInsets.only(right: 10.0, left: 10.0),\n                            ),\n                            new Container(\n                              child: new Text(\n                                latest_news_list[index]['content'],\n                                softWrap: true,\n                                maxLines: 4,\n                              ),\n                              margin: EdgeInsets.only(\n                                  left: 10.0, top: 5.0, bottom: 5.0),\n                            ),\n                            new Row(\n                              mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                              children: &lt;Widget&gt;[\n                                new Container(\n                                  child: new Text('VSB News'),\n                                  margin:\n                                      EdgeInsets.only(left: 10.0, top: 10.0,bottom: 10.0),\n                                ),\n                                new Container(\n                                  child: new Text(\n                                      latest_news_list[index]['post_dt']),\n                                  margin:\n                                      EdgeInsets.only(left: 10.0, top: 10.0,right: 10.0,bottom: 10.0),\n                                ),\n                              ],\n                            )\n                          ],\n                        ),\n                      )\n                    ],\n                  ),\n                ),\n              );\n            },\n            childCount: latest_news_list == null ? 0 : latest_news_list.length,\n          ),\n        ),\n</code></pre>\n"}, {"tags": ["dart", "angular-dart"], "comments": [{"owner": {"reputation": 55, "user_id": 8102671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/741190915eccd07051438e3d834e0673?s=128&d=identicon&r=PG", "display_name": "Avni Onur Pehlivan", "link": "https://stackoverflow.com/users/8102671/avni-onur-pehlivan"}, "edited": false, "score": 0, "creation_date": 1531940853, "post_id": 51408637, "comment_id": 89790096, "body": "I&#39;m using Angular 5.0.0-beta+1, Dart version 2.0.0-dev.69.0  (beta)"}], "answers": [{"tags": [], "owner": {"reputation": 55, "user_id": 8102671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/741190915eccd07051438e3d834e0673?s=128&d=identicon&r=PG", "display_name": "Avni Onur Pehlivan", "link": "https://stackoverflow.com/users/8102671/avni-onur-pehlivan"}, "is_accepted": false, "score": 0, "last_activity_date": 1531997897, "creation_date": 1531997897, "answer_id": 51420914, "question_id": 51408637, "link": "https://stackoverflow.com/questions/51408637/exception-type-httprequesteventtarget-is-not-a-subtype-of-expected-type-http/51420914#51420914", "title": "Exception: Type &#39;HttpRequestEventTarget&#39; is not a subtype of expected type &#39;HttpRequest&#39;", "body": "<p>I solved the problem. I added PaceJs for the page loading status. I stopped using it.</p>\n\n<p>PACE <a href=\"https://github.hubspot.com/pace/docs/welcome/\" rel=\"nofollow noreferrer\">https://github.hubspot.com/pace/docs/welcome/</a></p>\n"}], "owner": {"reputation": 55, "user_id": 8102671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/741190915eccd07051438e3d834e0673?s=128&d=identicon&r=PG", "display_name": "Avni Onur Pehlivan", "link": "https://stackoverflow.com/users/8102671/avni-onur-pehlivan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531997897, "creation_date": 1531938092, "last_edit_date": 1531940298, "question_id": 51408637, "link": "https://stackoverflow.com/questions/51408637/exception-type-httprequesteventtarget-is-not-a-subtype-of-expected-type-http", "title": "Exception: Type &#39;HttpRequestEventTarget&#39; is not a subtype of expected type &#39;HttpRequest&#39;", "body": "<p>I need to HTTP request but I'm getting an exception, </p>\n\n<p>Exception: Type 'HttpRequestEventTarget' is not a subtype of expected type 'HttpRequest'.    </p>\n\n<p>I have trouble with that code, could you please help me correct it.</p>\n\n<pre><code>import 'dart:async';\nimport 'dart:convert';\n\nimport 'package:angular/angular.dart';\nimport 'package:angular_router/angular_router.dart';\nimport 'package:flowapp/src/person.dart';\nimport 'package:flowapp/src/workflow_base.dart';\nimport 'package:http/http.dart';\nimport '../globals.dart' as globals;\n\n@Injectable()\nclass SignInService {\n  static const _baseURL = WorkFlowBase.baseUrl;\n  stacit final _headers = {'Content-Type': 'application/json'};  \n\n  final Client _http;\n  final Router _router;\n\n  SignInService(this._http, this._router);\n\n  /// SignIn \n  /// -------\n\n  Future&lt;List&lt;Person&gt;&gt; loginWorkflow(String username, String password) async {\n    try {\n      final response = await _http.post(\n        _baseURL + '/signin', \n        headers: _headers,\n        body: json.encode({\n          'username': username,\n          'password': password\n        })\n      );\n\n      final person = (_extractData(response) as List)\n        .map((value) =&gt; Person.fromJson(value))\n        .toList();\n\n      return person;\n    } catch (e) {\n      throw _handleError(e, 'loginWorkFlow()');\n    }\n  }\n\n  dynamic _extractData(Response resp) =&gt; json.decode(resp.body);\n  Exception _handleError(dynamic e, String methodName) {\n    return Exception('Error : Method: $methodName ERROR: $e');\n  }\n}\n</code></pre>\n"}, {"tags": ["dart", "dart-isolates"], "answers": [{"comments": [{"owner": {"reputation": 190, "user_id": 2363741, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/8GhCP.jpg?s=128&g=1", "display_name": "jbaxe2", "link": "https://stackoverflow.com/users/2363741/jbaxe2"}, "edited": false, "score": 0, "creation_date": 1532116659, "post_id": 51417349, "comment_id": 89869598, "body": "Thanks for your response.  After several days of experimenting, it turned out the issue was in sending a response message back from the spawned isolate.  Something changed with the past few dev releases, and now it seems the isolate does not like sending a map that contains another map as a value.  I have more experimenting to do..."}], "tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": false, "score": 0, "last_activity_date": 1531987216, "creation_date": 1531987216, "answer_id": 51417349, "question_id": 51406200, "link": "https://stackoverflow.com/questions/51406200/isolate-spawnuri-currently-results-in-error-when-including-sendport-within-messa/51417349#51417349", "title": "Isolate.spawnUri currently results in error when including SendPort within message?", "body": "<p>This does not reproduce for me with a freshly build VM from the 2.0.0-dev.69.0 tag (--version is: Dart VM version: 2.0.0-dev.69.0 (Tue Jul 17 14:57:16 2018 +0200) on \"linux_x64\").</p>\n\n<p>Using this complete program:</p>\n\n<pre><code>import 'dart:convert' show json;                                                    \nimport 'dart:isolate';\nmain(args, message) {\n  if (message != null) {\n    print(\"Out, \");\n    message[\"sendPort\"].send(\"And home again!\");\n    return;\n  }\n  var servicePort = new ReceivePort();\n  servicePort.forEach((m) {  \n    print(m);\n    servicePort.close();\n  });\n  Map isolateRequest = {\n    'sendPort': servicePort.sendPort, //  &lt;-- String =&gt; SendPort\n    'info': json.encode({})  // &lt;-- String =&gt; String\n  };\n  Isolate.spawnUri (new Uri(path:\"iso.dart\"), [], isolateRequest);\n}\n</code></pre>\n\n<p>it runs and prints the expected lines. \nThe isolate request does look like something that should be serializable (map with string keys and values that are either strings or a <code>SendPort</code>), something <em>else</em> must be going on in the code you are not showing.</p>\n\n<p>Can you extract a runnable program from your code which still exhibits this behavior, or say something more about what happens around the code?</p>\n"}], "owner": {"reputation": 190, "user_id": 2363741, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/8GhCP.jpg?s=128&g=1", "display_name": "jbaxe2", "link": "https://stackoverflow.com/users/2363741/jbaxe2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531987216, "creation_date": 1531928966, "last_edit_date": 1531929065, "question_id": 51406200, "link": "https://stackoverflow.com/questions/51406200/isolate-spawnuri-currently-results-in-error-when-including-sendport-within-messa", "title": "Isolate.spawnUri currently results in error when including SendPort within message?", "body": "<p>Current Dart environment:<br>\nDart VM version: 2.0.0-dev.69.0 (Unknown timestamp) on \"linux_x64\"</p>\n\n<p>I am attempting to spawn an isolate via the <strong>Isolate</strong>.<em>spawnUri</em> method, and include a <strong>SendPort</strong> within the message.  The code I have is set up like:</p>\n\n<pre><code>import 'dart:convert' show json;\nimport 'dart:isolate';\n\nvar servicePort = new ReceivePort()\n  ..listen (/stuff to handle response/);\n\nMap isolateRequest = {\n  'sendPort': servicePort.sendPort,  &lt;-- String =&gt; SendPort\n  'info': json.encode (/info to send to spawned isolate/)  &lt;-- String =&gt; String\n};\n\nIsolate.spawnUri (new Uri.file (/isolate main/), [], isolateRequest);\n</code></pre>\n\n<p>This type of set up used to work.  Now I get the following error:  </p>\n\n<blockquote>\n  <p>\"Invalid argument(s): Illegal argument in isolate message : (object is a regular Dart Instance)\"</p>\n</blockquote>\n\n<p>The two keys for the Map are strings, and the values include a <strong>SendPort</strong> and another string.  Simple, nothing fancy, and should be acceptable to send as the message to spawn the isolate (worked perfectly up until a few days ago).</p>\n\n<p>Questions:  what changed that I am now doing something wrong?  What are potential workarounds?</p>\n\n<p>Any help will be greatly appreciated.</p>\n"}, {"tags": ["android", "ios", "dart", "flutter", "flutter-dependencies"], "comments": [{"owner": {"reputation": 2224, "user_id": 7940500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TSHV3.jpg?s=128&g=1", "display_name": "Aman Malhotra", "link": "https://stackoverflow.com/users/7940500/aman-malhotra"}, "edited": false, "score": 0, "creation_date": 1531924313, "post_id": 51404391, "comment_id": 89780188, "body": "what exactly is your question ?? which class is undefined . and what is that code sample . you need to clearly state some things."}, {"owner": {"reputation": 1429, "user_id": 9435761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iKNLL.jpg?s=128&g=1", "display_name": "Jake4142", "link": "https://stackoverflow.com/users/9435761/jake4142"}, "reply_to_user": {"reputation": 2224, "user_id": 7940500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TSHV3.jpg?s=128&g=1", "display_name": "Aman Malhotra", "link": "https://stackoverflow.com/users/7940500/aman-malhotra"}, "edited": false, "score": 0, "creation_date": 1531924484, "post_id": 51404391, "comment_id": 89780328, "body": "&#39;Directory&#39; and &#39;File&#39; are undefined, the problem occured after I tried to implement path_provider to my project in pubspec.yaml (needed to add a string to a text file on button press) I&#39;ll add this to my original question"}], "answers": [{"comments": [{"owner": {"reputation": 1429, "user_id": 9435761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iKNLL.jpg?s=128&g=1", "display_name": "Jake4142", "link": "https://stackoverflow.com/users/9435761/jake4142"}, "edited": false, "score": 0, "creation_date": 1531925086, "post_id": 51404890, "comment_id": 89780740, "body": "Thanks for the suggestion, but this hasn&#39;t made much of a difference as both classes are still undefined :/"}, {"owner": {"reputation": 2224, "user_id": 7940500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TSHV3.jpg?s=128&g=1", "display_name": "Aman Malhotra", "link": "https://stackoverflow.com/users/7940500/aman-malhotra"}, "reply_to_user": {"reputation": 1429, "user_id": 9435761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iKNLL.jpg?s=128&g=1", "display_name": "Jake4142", "link": "https://stackoverflow.com/users/9435761/jake4142"}, "edited": false, "score": 0, "creation_date": 1531925136, "post_id": 51404890, "comment_id": 89780778, "body": "could you tell which two lines are showing the error ??"}, {"owner": {"reputation": 1429, "user_id": 9435761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iKNLL.jpg?s=128&g=1", "display_name": "Jake4142", "link": "https://stackoverflow.com/users/9435761/jake4142"}, "edited": false, "score": 0, "creation_date": 1531925272, "post_id": 51404890, "comment_id": 89780885, "body": "check the original question as its been edited to reflect these two lines"}, {"owner": {"reputation": 1429, "user_id": 9435761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iKNLL.jpg?s=128&g=1", "display_name": "Jake4142", "link": "https://stackoverflow.com/users/9435761/jake4142"}, "edited": false, "score": 0, "creation_date": 1531931661, "post_id": 51404890, "comment_id": 89785133, "body": "Amazing, one note though is that its with a semi colon between &#39;dart&#39; and &#39;io&#39; and not a full stop"}, {"owner": {"reputation": 2224, "user_id": 7940500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TSHV3.jpg?s=128&g=1", "display_name": "Aman Malhotra", "link": "https://stackoverflow.com/users/7940500/aman-malhotra"}, "reply_to_user": {"reputation": 1429, "user_id": 9435761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iKNLL.jpg?s=128&g=1", "display_name": "Jake4142", "link": "https://stackoverflow.com/users/9435761/jake4142"}, "edited": false, "score": 0, "creation_date": 1531931743, "post_id": 51404890, "comment_id": 89785187, "body": "My bad \ud83d\ude05 edited that . and not a semicolon but a colon ."}], "tags": [], "owner": {"reputation": 2224, "user_id": 7940500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TSHV3.jpg?s=128&g=1", "display_name": "Aman Malhotra", "link": "https://stackoverflow.com/users/7940500/aman-malhotra"}, "is_accepted": true, "score": 5, "last_activity_date": 1531931724, "last_edit_date": 1531931724, "creation_date": 1531924877, "answer_id": 51404890, "question_id": 51404391, "link": "https://stackoverflow.com/questions/51404391/undefined-class-in-path-provider-dependency-for-flutter/51404890#51404890", "title": "Undefined class in &#39;path_provider&#39; dependency for Flutter", "body": "<p>Import this  and you are good to go :- </p>\n\n<pre><code>import 'dart:io';\n</code></pre>\n"}], "owner": {"reputation": 1429, "user_id": 9435761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iKNLL.jpg?s=128&g=1", "display_name": "Jake4142", "link": "https://stackoverflow.com/users/9435761/jake4142"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2811, "favorite_count": 0, "accepted_answer_id": 51404890, "answer_count": 1, "score": 0, "last_activity_date": 1531931724, "creation_date": 1531923499, "last_edit_date": 1531925246, "question_id": 51404391, "link": "https://stackoverflow.com/questions/51404391/undefined-class-in-path-provider-dependency-for-flutter", "title": "Undefined class in &#39;path_provider&#39; dependency for Flutter", "body": "<p>After adding the path_provider dependency I'm running into problems around certain classes being undefined.'Directory' and 'File' are undefined, the problem occured after I tried to implement path_provider to my project in pubspec.yaml. This is needed to add a string to a text file on icon button press.</p>\n\n<p><strong>Imports:</strong></p>\n\n<pre><code>import 'package:flutter/foundation.dart';\nimport 'package:flutter/material.dart';\nimport 'package:cryptick/data/crypto_data.dart';\nimport 'package:cryptick/modules/crypto_presenter.dart';\nimport 'package:shimmer/shimmer.dart';\nimport 'dart:async';\nimport 'package:path_provider/path_provider.dart';\n</code></pre>\n\n<p><strong>Code in question:</strong></p>\n\n<pre><code>ListTile _getListItemUi(Crypto currency, MaterialColor color) {\n    return new ListTile(\n      leading: new Image.network(\"http://cryptoicons.co/32@2x/color/\"+currency.symbol.toLowerCase()+\"@2x.png\"),\n      title: new Text(currency.name,\n          style: new TextStyle(fontWeight: FontWeight.bold)),\n      subtitle:\n      _getSubtitleText(currency.price_usd, currency.percent_change_1h),\n      isThreeLine: true,\n      trailing: new IconButton(\n        icon: new Icon(Icons.add),\n        onPressed: () async { Directory appDocDir = await getApplicationDocumentsDirectory();\n        String appDocPath = appDocDir.path;\n        new File('$appDocPath/my_file.txt').writeAsStringSync('myVar: $_currencies');  \n        }\n      ),\n    );\n  }\n</code></pre>\n\n<p><strong>These are the two lines showing the errors:</strong></p>\n\n<pre><code>onPressed: () async { Directory appDocDir = await getApplicationDocumentsDirectory();\n</code></pre>\n\n<p><strong>And:</strong></p>\n\n<pre><code>new File('$appDocPath/my_file.txt').writeAsStringSync('myVar: $_currencies');  \n</code></pre>\n"}, {"tags": ["web", "dart", "google-oauth", "google-authentication"], "answers": [{"tags": [], "owner": {"reputation": 230, "user_id": 960440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b408fcb3123dad4cb041a47e05e4ea4?s=128&d=identicon&r=PG", "display_name": "zreptil", "link": "https://stackoverflow.com/users/960440/zreptil"}, "is_accepted": false, "score": 1, "last_activity_date": 1532089800, "creation_date": 1532089800, "answer_id": 51442597, "question_id": 51403340, "link": "https://stackoverflow.com/questions/51403340/google-auth-and-dart-2/51442597#51442597", "title": "google_auth and Dart 2", "body": "<p>Meanwhile i managed to make it run. The main problem was the development webserver from WebStorm that always gets an random port at startup. For google authentication there must be a url in the api-console of the web-project that is linked to the calling domain, including the port. The port must not be a wildcard.</p>\n\n<p>Now i start the development server by myself using always the same port, that i also placed in the authorized javascript origins in the api-console of google. After doing this the login worked.</p>\n"}], "owner": {"reputation": 230, "user_id": 960440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b408fcb3123dad4cb041a47e05e4ea4?s=128&d=identicon&r=PG", "display_name": "zreptil", "link": "https://stackoverflow.com/users/960440/zreptil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1532089800, "creation_date": 1531920667, "last_edit_date": 1532008276, "question_id": 51403340, "link": "https://stackoverflow.com/questions/51403340/google-auth-and-dart-2", "title": "google_auth and Dart 2", "body": "<p>i am trying to create a webapp that uses google apis and needs to authenticate the user with the google auth api. so i got the example at </p>\n\n<p><a href=\"https://github.com/dart-lang/googleapis_examples/tree/master/drive_search_web\" rel=\"nofollow noreferrer\">https://github.com/dart-lang/googleapis_examples/tree/master/drive_search_web</a></p>\n\n<p>and tried to run it. i use webstorm and dart 2.0.0-dev.68.0. the webpage can be called, but the code never runs into the then-part of authorizedClient in main-function and also gives me no popup window where i can login to google services. </p>\n\n<p>i have disabled the popupblocker and i am also aware of the blocked popup when it tries to show. nothing of this kind happens.</p>\n\n<p>meanwhile i have rewritten the example to use await / async instead of Future, so that i can better see, where it stops working. the code looks like this:</p>\n\n<pre><code>Future&lt;auth.AutoRefreshingAuthClient&gt; authorizedClient(ButtonElement loginButton, auth.ClientId id, scopes)\nasync {\n  loginButton.text = \"lets go!\";\n\n  auth.BrowserOAuth2Flow flow = await auth.createImplicitBrowserFlow(id, scopes);\n  loginButton.text = \"i am flowing\";\n  auth.AutoRefreshingAuthClient client;\n  try\n  {\n    loginButton.text = \"give it a try...\";\n    client = await flow.clientViaUserConsent(immediate: true);\n    loginButton.text = \"i tried it!\";\n  }\n  catch (e)\n  {\n    loginButton.text = \"i failed so bad!\";\n    client = null;\n  }\n\n  if (client == null)\n  {\n    loginButton.text = \"no client available\";\n    {\n      loginButton.text = \"give me rights!\";\n      client = await flow.clientViaUserConsent(immediate: false);\n    }\n  }\n\n  return client;\n}\n</code></pre>\n\n<p>when i run this code, the display on the loginButton changes to \"give it a try...\" and then nothing more happens. it seems that the function flow.clientViaUserConsent is running forever not even creating an error so that the text \"i failed so bad!\" is not shown.</p>\n\n<p>is the support of google_auth in dart 2 broken or is the example on github not up to date with the current dart development?</p>\n"}, {"tags": ["json", "variables", "static", "dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 9451897, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mDIUV-oEgFc/AAAAAAAAAAI/AAAAAAAAAGA/GxfyhM63PB4/photo.jpg?sz=128", "display_name": "Rafael Nonino", "link": "https://stackoverflow.com/users/9451897/rafael-nonino"}, "edited": false, "score": 0, "creation_date": 1531999387, "post_id": 51405617, "comment_id": 89813656, "body": "thanks for the help Letsar, but if i do this i get a lot of others errors with List&lt;RelProduto&gt; and List&lt;Responde&lt;RelProduto&gt;&gt;, i did it to fix this problem"}, {"owner": {"reputation": 175, "user_id": 9451897, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mDIUV-oEgFc/AAAAAAAAAAI/AAAAAAAAAGA/GxfyhM63PB4/photo.jpg?sz=128", "display_name": "Rafael Nonino", "link": "https://stackoverflow.com/users/9451897/rafael-nonino"}, "edited": false, "score": 0, "creation_date": 1531999415, "post_id": 51405617, "comment_id": 89813675, "body": "parseRelatorioPorProduto(String responseBody) {   final parsed = json.decode(responseBody);   var relatorio = parsed[&#39;Relatorio&#39;];   var mensagem = parsed[&#39;Mensagem&#39;];   if(mensagem[0].toString().substring(16,17) == &quot;0&quot;){     List&lt;RelatorioProdutos&gt; asd = new List();     RelatorioProdutos aimeudeus = new RelatorioProdutos(Descricao: mensagem[0].toString(), CodigoProduto: &quot;a&quot;, TotalVendas: 0, QtdVendida: 0);     asd.add(aimeudeus);     return asd;   }else{     return relatorio.map&lt;RelatorioProdutos&gt;((json) =&gt; new RelatorioProdutos.fromJson(json)).toList();   } }"}], "tags": [], "owner": {"reputation": 3294, "user_id": 3241871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/507b4cdea988f396c60b921a93a5f1a1?s=128&d=identicon&r=PG", "display_name": "Romain Rastel", "link": "https://stackoverflow.com/users/3241871/romain-rastel"}, "is_accepted": false, "score": 0, "last_activity_date": 1531927100, "creation_date": 1531927100, "answer_id": 51405617, "question_id": 51402134, "link": "https://stackoverflow.com/questions/51402134/flutter-dart-variables-lost-and-keep-getting-reinitialized/51405617#51405617", "title": "Flutter - Dart variables lost and keep getting reinitialized", "body": "<p>If I understand correctly, you want to access a local variable of a function from another class. I don't think it's possible.</p>\n\n<p>One way to do it, would be to wrap your response in another object containing the response, and this variable:</p>\n\n<pre><code>List&lt;Response&lt;RelatorioProdutos&gt;&gt; parseRelatorioPorProduto(\n    String responseBody) {\n  final parsed = json.decode(responseBody);\n  var relatorio = parsed['Relatorio'];\n  var mensagem = parsed['Mensagem'];\n  print(mensagem); // Here the variable returns well,\n  //but when i need it in other class i receive null.\n\n  return relatorio\n      .map((json) =&gt; new Response&lt;RelatorioProdutos&gt;(\n          new RelatorioProdutos.fromJson(json), mensagem))\n      .toList();\n}\n\nclass RelatorioProdutos {\n  String CodigoProduto;\n  var QtdVendida;\n  var TotalVendas;\n  String Descricao;\n\n  RelatorioProdutos({\n    this.CodigoProduto,\n    this.QtdVendida,\n    this.TotalVendas,\n    this.Descricao,\n  });\n\n  factory RelatorioProdutos.fromJson(Map json) {\n    //returns a List of Maps\n    return new RelatorioProdutos(\n      CodigoProduto: json['CodigoProduto'] as String,\n      QtdVendida: json['QtdVendida'],\n      TotalVendas: json['TotalVendas'],\n      Descricao: json['Descricao'] as String,\n    );\n  }\n}\n\nclass Response&lt;T&gt; {\n  const Response(\n    this.value,\n    this.errorMessage,\n  );\n\n  final T value;\n\n  final String errorMessage;\n\n  bool get hasError =&gt; errorMessage != null;\n}\n</code></pre>\n\n<p>In this example I created a <code>Response</code> object that can contains both the response value and an error message.</p>\n\n<p>In the <code>parseRelatorioPorProduto</code>, instead of returning the <em>relatorio</em>, I changed the return type to <code>Response&lt;RelatorioProdutos&gt;</code> in order to have access to the value and the error message from any class which call this function.</p>\n"}, {"tags": [], "owner": {"reputation": 175, "user_id": 9451897, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mDIUV-oEgFc/AAAAAAAAAAI/AAAAAAAAAGA/GxfyhM63PB4/photo.jpg?sz=128", "display_name": "Rafael Nonino", "link": "https://stackoverflow.com/users/9451897/rafael-nonino"}, "is_accepted": false, "score": 0, "last_activity_date": 1531999489, "creation_date": 1531999489, "answer_id": 51421437, "question_id": 51402134, "link": "https://stackoverflow.com/questions/51402134/flutter-dart-variables-lost-and-keep-getting-reinitialized/51421437#51421437", "title": "Flutter - Dart variables lost and keep getting reinitialized", "body": "<p>Thanks Letsar, i tried yout ideia but i get a lot of others erros.</p>\n\n<p>To solve this problem i used this:</p>\n\n<pre><code>List&lt;RelatorioProdutos&gt;  parseRelatorioPorProduto(String responseBody) {\n  final parsed = json.decode(responseBody);\n  var relatorio = parsed['Relatorio'];\n  var mensagem = parsed['Mensagem'];\n\n  if(mensagem[0].toString().substring(16,17) == \"0\"){\n    List&lt;RelatorioProdutos&gt; asd = new List();\n    RelatorioProdutos aimeudeus = new RelatorioProdutos(Descricao: mensagem[0].toString(), CodigoProduto: \"a\", TotalVendas: 0, QtdVendida: 0);\n    asd.add(aimeudeus);\n    return asd;\n  }else{\n    return relatorio.map&lt;RelatorioProdutos&gt;((json) =&gt; new RelatorioProdutos.fromJson(json)).toList();\n  }\n\n\n}\n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 9451897, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mDIUV-oEgFc/AAAAAAAAAAI/AAAAAAAAAGA/GxfyhM63PB4/photo.jpg?sz=128", "display_name": "Rafael Nonino", "link": "https://stackoverflow.com/users/9451897/rafael-nonino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 454, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1531999489, "creation_date": 1531917198, "question_id": 51402134, "link": "https://stackoverflow.com/questions/51402134/flutter-dart-variables-lost-and-keep-getting-reinitialized", "title": "Flutter - Dart variables lost and keep getting reinitialized", "body": "<p>I'm trying out things with Flutter right now. But my variables keep getting reinitialised when accessed from another class.</p>\n\n<p>I'm using json parsing and i need two parts of my request. The \"Relatorio\" part and the \"Mensagem\" part.</p>\n\n<p>to parse this json i'm doing this:</p>\n\n<pre><code>List&lt;RelatorioProdutos&gt; parseRelatorioPorProduto(String responseBody) {\n  final parsed = json.decode(responseBody);\n  var relatorio = parsed['Relatorio'];\n  var mensagem = parsed['Mensagem'];\n  print (mensagem); // Here the variable returns well,\n //but when i need it in other class i receive null.\n\n  return  relatorio.map&lt;RelatorioProdutos&gt;((json) =&gt; new RelatorioProdutos.fromJson(json)).toList();\n}\n\nclass RelatorioProdutos {\n  String CodigoProduto;\n  var QtdVendida;\n  var TotalVendas;\n  String Descricao;\n\n  RelatorioProdutos({this.CodigoProduto, this.QtdVendida, this.TotalVendas, this.Descricao,});\n\n  factory RelatorioProdutos.fromJson(Map json) {\n\n    //returns a List of Maps\n    return new RelatorioProdutos(\n\n      CodigoProduto: json['CodigoProduto'] as String,\n      QtdVendida: json['QtdVendida'],\n      TotalVendas: json['TotalVendas'],\n      Descricao: json['Descricao'] as String,\n    );\n  }\n}\n</code></pre>\n\n<p>I want to use this 'mensagem' variable in another class to show the error for user, but i always receive 'null'.</p>\n\n<p>i already tried setState but it reloads my json and i dont want to request the RestServer again.</p>\n\n<p>Thanks from now!</p>\n"}, {"tags": ["firebase", "dart", "google-cloud-firestore", "flutter"], "comments": [{"owner": {"reputation": 22853, "user_id": 8708524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1005bc21463c9b1dcec6a3be2ab26943?s=128&d=identicon&r=PG&f=1", "display_name": "Hemanth Raj", "link": "https://stackoverflow.com/users/8708524/hemanth-raj"}, "edited": false, "score": 0, "creation_date": 1531914319, "post_id": 51400549, "comment_id": 89772963, "body": "Some code might help understand the problem"}, {"owner": {"reputation": 61, "user_id": 10089798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b7c7f1b5d96dd65f3da64eab8388f6?s=128&d=identicon&r=PG&f=1", "display_name": "Fernando Henrique K&#246;etz", "link": "https://stackoverflow.com/users/10089798/fernando-henrique-k%c3%b6etz"}, "reply_to_user": {"reputation": 22853, "user_id": 8708524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1005bc21463c9b1dcec6a3be2ab26943?s=128&d=identicon&r=PG&f=1", "display_name": "Hemanth Raj", "link": "https://stackoverflow.com/users/8708524/hemanth-raj"}, "edited": false, "score": 0, "creation_date": 1531917923, "post_id": 51400549, "comment_id": 89775451, "body": "And when is wrapped, there&#39;s not error message, just doesn&#39;t show nothing."}, {"owner": {"reputation": 22853, "user_id": 8708524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1005bc21463c9b1dcec6a3be2ab26943?s=128&d=identicon&r=PG&f=1", "display_name": "Hemanth Raj", "link": "https://stackoverflow.com/users/8708524/hemanth-raj"}, "edited": false, "score": 1, "creation_date": 1531918067, "post_id": 51400549, "comment_id": 89775551, "body": "Try wrapping <code>StreamBuilder</code> in a <code>Expanded</code> widget."}, {"owner": {"reputation": 61, "user_id": 10089798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b7c7f1b5d96dd65f3da64eab8388f6?s=128&d=identicon&r=PG&f=1", "display_name": "Fernando Henrique K&#246;etz", "link": "https://stackoverflow.com/users/10089798/fernando-henrique-k%c3%b6etz"}, "reply_to_user": {"reputation": 22853, "user_id": 8708524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1005bc21463c9b1dcec6a3be2ab26943?s=128&d=identicon&r=PG&f=1", "display_name": "Hemanth Raj", "link": "https://stackoverflow.com/users/8708524/hemanth-raj"}, "edited": false, "score": 0, "creation_date": 1531949090, "post_id": 51400549, "comment_id": 89793883, "body": "Thank you, @HemanthRaj It works when wrapped in a Expanded widget!"}], "answers": [{"comments": [{"owner": {"reputation": 684, "user_id": 6525350, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/965383236912462/picture?type=large", "display_name": "Magnus", "link": "https://stackoverflow.com/users/6525350/magnus"}, "edited": false, "score": 1, "creation_date": 1545164669, "post_id": 52437218, "comment_id": 94529371, "body": "Yes, this works perfectly! @Fernando please mark this answer as correct"}], "tags": [], "owner": {"reputation": 2060, "user_id": 9774005, "user_type": "registered", "profile_image": "https://graph.facebook.com/2098232107068282/picture?type=large", "display_name": "Rajesh Jr.", "link": "https://stackoverflow.com/users/9774005/rajesh-jr"}, "is_accepted": false, "score": 12, "last_activity_date": 1537508191, "creation_date": 1537508191, "answer_id": 52437218, "question_id": 51400549, "link": "https://stackoverflow.com/questions/51400549/how-to-wrap-a-streambuilder-class-with-a-column-or-listview-class-in-flutter/52437218#52437218", "title": "How to wrap a StreamBuilder class with a Column or ListView class in Flutter?", "body": "<p>Wrap Streambuilder with Flexible(),then wrap Flexible with Column() set column as body of your scaffold()</p>\n"}, {"tags": [], "owner": {"reputation": 3228, "user_id": 8700937, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100002557288121/picture?type=large", "display_name": "Farwa", "link": "https://stackoverflow.com/users/8700937/farwa"}, "is_accepted": false, "score": 1, "last_activity_date": 1574236641, "creation_date": 1574236641, "answer_id": 58949310, "question_id": 51400549, "link": "https://stackoverflow.com/questions/51400549/how-to-wrap-a-streambuilder-class-with-a-column-or-listview-class-in-flutter/58949310#58949310", "title": "How to wrap a StreamBuilder class with a Column or ListView class in Flutter?", "body": "<p>Also, you can just make the attribute <code>shrinkWrap: true</code> inside <code>ListView.builder()</code>. </p>\n\n<pre><code> return new ListView.builder(\n          shrinkWrap: true,\n          itemCount: cardLength,\n          itemBuilder: (int index) {\n            final DocumentSnapshot _card= snapshot.data.documents[index];\n            return new ListTile(\n              title: new Text(_card['title']),\n              subtitle: new Text(_card['description']),\n            );\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 10089798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b7c7f1b5d96dd65f3da64eab8388f6?s=128&d=identicon&r=PG&f=1", "display_name": "Fernando Henrique K&#246;etz", "link": "https://stackoverflow.com/users/10089798/fernando-henrique-k%c3%b6etz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11367, "favorite_count": 3, "answer_count": 2, "score": 5, "last_activity_date": 1574236641, "creation_date": 1531912359, "last_edit_date": 1531917782, "question_id": 51400549, "link": "https://stackoverflow.com/questions/51400549/how-to-wrap-a-streambuilder-class-with-a-column-or-listview-class-in-flutter", "title": "How to wrap a StreamBuilder class with a Column or ListView class in Flutter?", "body": "<p>I'm having a problem with my Flutter app, I have a class that returns only a StreamBuilder, it works well, displaying data from Cloud Firestore. But, when I try to wrap this class in a Column or ListView class, it just doesn't show anything.</p>\n\n<p>I need this to display the name of the current page. And the AppBar class is already with the app name, so I can't use this too.</p>\n\n<p>Does anyone know how I can wrap this and keep it running?</p>\n\n<p>A sample code working</p>\n\n<pre><code>  class NewCardsList extends StatelessWidget {\n\n  @override\n  Widget build(BuildContext context) {\n    return new StreamBuilder&lt;QuerySnapshot&gt;(\n      stream: firestore.collection('cards_list').snapshots(),\n      builder: (BuildContext context, AsyncSnapshot&lt;QuerySnapshot&gt; snapshot) {\n        if (!snapshot.hasData) return const Text('Connecting...');\n        final int cardLength = snapshot.data.documents.length;\n        return new ListView.builder(\n          itemCount: cardLength,\n          itemBuilder: (int index) {\n            final DocumentSnapshot _card= snapshot.data.documents[index];\n            return new ListTile(\n              title: new Text(_card['title']),\n              subtitle: new Text(_card['description']),\n            );\n          },\n        );\n      },\n    );\n  }\n}\n</code></pre>\n\n<p>A sample code not working</p>\n\n<pre><code>class NewCardsList extends StatelessWidget {\n\n      @override\n      Widget build(BuildContext context) {\n        return new Column(\n          children: &lt;Widget&gt; [\n            Text(\"Your Card List\"),\n            StreamBuilder&lt;QuerySnapshot&gt;(\n          stream: firestore.collection('cards_list').snapshots(),\n          builder: (BuildContext context, AsyncSnapshot&lt;QuerySnapshot&gt; snapshot) {\n            if (!snapshot.hasData) return const Text('Connecting...');\n            final int cardLength = snapshot.data.documents.length;\n            return new ListView.builder(\n              itemCount: cardLength,\n              itemBuilder: (int index) {\n                final DocumentSnapshot _card= snapshot.data.documents[index];\n                return new ListTile(\n                  title: new Text(_card['title']),\n                  subtitle: new Text(_card['description']),\n                );\n              },\n            );\n          },\n        ]));\n      }\n    }\n</code></pre>\n"}, {"tags": ["android-studio", "dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 5447, "user_id": 1024322, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/pm2Uh.jpg?s=128&g=1", "display_name": "xorinzor", "link": "https://stackoverflow.com/users/1024322/xorinzor"}, "edited": false, "score": 0, "creation_date": 1531911159, "post_id": 51400133, "comment_id": 89770960, "body": "I&#39;m not sure how this relates to the indentation of <code>dartfmt</code> being very inconsistent"}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "reply_to_user": {"reputation": 5447, "user_id": 1024322, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/pm2Uh.jpg?s=128&g=1", "display_name": "xorinzor", "link": "https://stackoverflow.com/users/1024322/xorinzor"}, "edited": false, "score": 1, "creation_date": 1531911187, "post_id": 51400133, "comment_id": 89770978, "body": "Because the output you desire can be achieved by adding a trailing comma where you didn&#39;t put one"}, {"owner": {"reputation": 5447, "user_id": 1024322, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/pm2Uh.jpg?s=128&g=1", "display_name": "xorinzor", "link": "https://stackoverflow.com/users/1024322/xorinzor"}, "edited": false, "score": 0, "creation_date": 1531911278, "post_id": 51400133, "comment_id": 89771029, "body": "line 91 - 96 doesn&#39;t really have any code where a trailing comma can be placed. And I want the indentation to always be 4 spaces, not sometimes 4 and sometimes 2"}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "reply_to_user": {"reputation": 5447, "user_id": 1024322, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/pm2Uh.jpg?s=128&g=1", "display_name": "xorinzor", "link": "https://stackoverflow.com/users/1024322/xorinzor"}, "edited": false, "score": 0, "creation_date": 1531911720, "post_id": 51400133, "comment_id": 89771321, "body": "You can&#39;t change such thing. But this will solve your problem with parenthesis"}], "tags": [], "owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "is_accepted": false, "score": 8, "last_activity_date": 1531911077, "creation_date": 1531911077, "answer_id": 51400133, "question_id": 51399980, "link": "https://stackoverflow.com/questions/51399980/android-studio-dart-code-formatting-problems/51400133#51400133", "title": "Android Studio - Dart Code formatting problems", "body": "<p>You can't configure <code>dartfmt</code>. This is voluntary. But <code>dartfmt</code> uses trailing comma as it's core to determine where to go to newline. </p>\n\n<p>The following :</p>\n\n<pre><code>foo({String foo, String bar}) {}\n\nvoid main() {\n  foo(foo: \"Hello\", bar: \"Hello\");\n}\n</code></pre>\n\n<p>will stay unchanged when running <code>dartfmt</code>.</p>\n\n<p>But simply changing to <code>foo</code> call to :</p>\n\n<pre><code>  ...bar: \"Hello\",);\n</code></pre>\n\n<p>will reformat it to :</p>\n\n<pre><code>foo({String foo, String bar}) {}\n\nvoid main() {\n  foo(\n    foo: \"Hello\",\n    bar: \"Hello\",\n  );\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5447, "user_id": 1024322, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/pm2Uh.jpg?s=128&g=1", "display_name": "xorinzor", "link": "https://stackoverflow.com/users/1024322/xorinzor"}, "edited": false, "score": 0, "creation_date": 1531931276, "post_id": 51406661, "comment_id": 89784880, "body": "I&#39;m surprised that the internal formatter isn&#39;t able to properly format it either though, considering it has always worked for Java and PHP.  But I guess there&#39;s not much else to it then"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 5447, "user_id": 1024322, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/pm2Uh.jpg?s=128&g=1", "display_name": "xorinzor", "link": "https://stackoverflow.com/users/1024322/xorinzor"}, "edited": false, "score": 0, "creation_date": 1531931481, "post_id": 51406661, "comment_id": 89785021, "body": "Uh, Java is so long in the past. There were no closures back then. No idea if you could write comparable code now in Java. As mentioned, if you want a more profound answer, create an issue. Bob usually explains what rules are at play and what tradeoffs were accepted for what reason. He&#39;s a bit swamped lately though, so no promises."}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1531930433, "creation_date": 1531930433, "answer_id": 51406661, "question_id": 51399980, "link": "https://stackoverflow.com/questions/51399980/android-studio-dart-code-formatting-problems/51406661#51406661", "title": "Android Studio - Dart Code formatting problems", "body": "<p>Deeply nested code is quite challenging to format and when the remaining space in lines become too short dartformat unindents to be able to format the rest of the code better.</p>\n\n<p>It's better to avoid deeply nested code and instead refactor parts into their own function/method or if it is a Flutter build method, into widgets.</p>\n\n<p>If you still think the behavior is invalid, please create an issue in dart-lang/dart_style and the maintainer will very likely respond with a profound answer.</p>\n"}, {"tags": [], "owner": {"reputation": 79, "user_id": 2372662, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6f3f3fbb4660b0913de5f92597117f6c?s=128&d=identicon&r=PG", "display_name": "jamal", "link": "https://stackoverflow.com/users/2372662/jamal"}, "is_accepted": false, "score": 2, "last_activity_date": 1607355584, "creation_date": 1607355584, "answer_id": 65184741, "question_id": 51399980, "link": "https://stackoverflow.com/questions/51399980/android-studio-dart-code-formatting-problems/65184741#65184741", "title": "Android Studio - Dart Code formatting problems", "body": "<p>It is too late but it can help.</p>\n<p>In Android Studio go to</p>\n<p><strong>File &gt; Settings &gt; Editor &gt; Code Style &gt; Dart</strong></p>\n<p>and increase the value of Line Length.</p>\n"}], "owner": {"reputation": 5447, "user_id": 1024322, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/pm2Uh.jpg?s=128&g=1", "display_name": "xorinzor", "link": "https://stackoverflow.com/users/1024322/xorinzor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4056, "favorite_count": 1, "accepted_answer_id": 51406661, "answer_count": 3, "score": 3, "last_activity_date": 1607355584, "creation_date": 1531910631, "last_edit_date": 1531911383, "question_id": 51399980, "link": "https://stackoverflow.com/questions/51399980/android-studio-dart-code-formatting-problems", "title": "Android Studio - Dart Code formatting problems", "body": "<p>I've been trying different configurations in the code-formatting settings from Android-Studio, but the results have been pretty disappointing (and triggering) so far.</p>\n\n<p>This is what the <code>reformat code</code> does without the <code>dartfmt</code> tool (notice line 94 - 110):\n<a href=\"https://i.stack.imgur.com/nTKbr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nTKbr.png\" alt=\"enter image description here\"></a></p>\n\n<p><code>dartfmt</code> does a better job of it, but the indentation is horrible (line 91 - 96) and very inconsistent with seemingly no settings to configure for it:\n<a href=\"https://i.stack.imgur.com/uc1FD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uc1FD.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is what I would want it to look like:\n<a href=\"https://i.stack.imgur.com/3hOVi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3hOVi.png\" alt=\"enter image description here\"></a></p>\n\n<p>What settings do I need to change to achieve this? It's currently pretty hard to read the code.</p>\n"}, {"tags": ["dart", "material-design", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 1102, "user_id": 8034738, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/75654d09c63323a6c9a37fd19770c32c?s=128&d=identicon&r=PG&f=1", "display_name": "Theodorus Agum Gumilang", "link": "https://stackoverflow.com/users/8034738/theodorus-agum-gumilang"}, "edited": false, "score": 0, "creation_date": 1531907064, "post_id": 51398684, "comment_id": 89768345, "body": "what should i use in my method it says The expression here has a type of &#39;void&#39;, and therefore cannot be used."}, {"owner": {"reputation": 1102, "user_id": 8034738, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/75654d09c63323a6c9a37fd19770c32c?s=128&d=identicon&r=PG&f=1", "display_name": "Theodorus Agum Gumilang", "link": "https://stackoverflow.com/users/8034738/theodorus-agum-gumilang"}, "edited": false, "score": 0, "creation_date": 1531907182, "post_id": 51398684, "comment_id": 89768424, "body": "i updated my question and add my method to navigate and my custom button will be like this buttonMenu(&#39;MVP Arc&#39;, Icons.star, _navigate(&#39;EmployeeScreen&#39;)) but there is a error says cant be use void"}, {"owner": {"reputation": 729, "user_id": 10059717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTCH2.png?s=128&g=1", "display_name": "Kirill Shashov", "link": "https://stackoverflow.com/users/10059717/kirill-shashov"}, "reply_to_user": {"reputation": 1102, "user_id": 8034738, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/75654d09c63323a6c9a37fd19770c32c?s=128&d=identicon&r=PG&f=1", "display_name": "Theodorus Agum Gumilang", "link": "https://stackoverflow.com/users/8034738/theodorus-agum-gumilang"}, "edited": false, "score": 0, "creation_date": 1531908122, "post_id": 51398684, "comment_id": 89769062, "body": "@TheodorusAgumGumilang try this: <code>buttonMenu(&#39;MVP Arc&#39;, Icons.star, () {_navigate(&#39;EmployeeScreen&#39;);})</code>"}, {"owner": {"reputation": 1102, "user_id": 8034738, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/75654d09c63323a6c9a37fd19770c32c?s=128&d=identicon&r=PG&f=1", "display_name": "Theodorus Agum Gumilang", "link": "https://stackoverflow.com/users/8034738/theodorus-agum-gumilang"}, "edited": false, "score": 0, "creation_date": 1531908467, "post_id": 51398684, "comment_id": 89769262, "body": "yep done thanks i use this and work  buttonMenu(&#39;MVP Arc&#39;, Icons.star, (){ _navigate(&#39;EmployeeScreen&#39;);})"}, {"owner": {"reputation": 19333, "user_id": 4511702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8D658.jpg?s=128&g=1", "display_name": "Raouf Rahiche", "link": "https://stackoverflow.com/users/4511702/raouf-rahiche"}, "reply_to_user": {"reputation": 729, "user_id": 10059717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTCH2.png?s=128&g=1", "display_name": "Kirill Shashov", "link": "https://stackoverflow.com/users/10059717/kirill-shashov"}, "edited": false, "score": 0, "creation_date": 1531908579, "post_id": 51398684, "comment_id": 89769330, "body": "sorry for the delay @KirillShashov way is the best for you but i added another way so you can understand better"}], "tags": [], "owner": {"reputation": 19333, "user_id": 4511702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8D658.jpg?s=128&g=1", "display_name": "Raouf Rahiche", "link": "https://stackoverflow.com/users/4511702/raouf-rahiche"}, "is_accepted": true, "score": 11, "last_activity_date": 1531908522, "last_edit_date": 1531908522, "creation_date": 1531906844, "answer_id": 51398684, "question_id": 51398531, "link": "https://stackoverflow.com/questions/51398531/how-to-give-onpressed-a-method-in-custom-button-flutter/51398684#51398684", "title": "How to give onPressed a method in custom button flutter", "body": "<p>the <code>onPressed</code> type is <code>VoidCallback</code> so make your parameter like this this type. </p>\n\n<pre><code>FlatButton buttonMenu(String title, IconData icon, VoidCallback onCustomButtonPressed ) \n</code></pre>\n\n<p>and when you call it pass a reference to it </p>\n\n<pre><code>buttonMenu('MVP Arc', Icons.star, myMethod)\n</code></pre>\n\n<p>and don't forget to do the same in your function body</p>\n\n<pre><code>  onPressed: onCustomButtonPressed ,\n</code></pre>\n\n<p><strong>UPDATE:</strong>\nif you want to pass parameters you have to declare your own Signature :</p>\n\n<blockquote>\n  <p>Example in your case : </p>\n</blockquote>\n\n<pre><code>typedef VoidNavigate = void  Function(String route);\n</code></pre>\n\n<p>and then use this new type</p>\n\n<pre><code>FlatButton buttonMenu(String title, IconData icon, VoidNavigate onCustomButtonPressed) \n</code></pre>\n\n<p>call it like this </p>\n\n<pre><code>onPressed: (){onCustomButtonPressed},\n</code></pre>\n\n<p>and you pass your function like this</p>\n\n<pre><code>buttonMenu('MVP Arc', Icons.star, _navigate('EmployeeScreen')) \n</code></pre>\n\n<p>or you can just do it like this as @Kirill Shashov said </p>\n\n<pre><code>buttonMenu('MVP Arc', Icons.star, () {_navigate('EmployeeScreen');})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3298, "user_id": 8928024, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/75f4b1f5d87975964979ce2718af1ae9?s=128&d=identicon&r=PG&f=1", "display_name": "ZF007", "link": "https://stackoverflow.com/users/8928024/zf007"}, "edited": false, "score": 0, "creation_date": 1572270405, "post_id": 58591751, "comment_id": 103497165, "body": "Update your answer with the flutter version from which your solution works. (End of Review)."}, {"owner": {"reputation": 23, "user_id": 11363418, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-z8Fg1uF_y-4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd9abrJl67QnL93EuCsHl1_fhBFDw/mo/photo.jpg?sz=128", "display_name": "Wei Wei Zhu", "link": "https://stackoverflow.com/users/11363418/wei-wei-zhu"}, "reply_to_user": {"reputation": 3298, "user_id": 8928024, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/75f4b1f5d87975964979ce2718af1ae9?s=128&d=identicon&r=PG&f=1", "display_name": "ZF007", "link": "https://stackoverflow.com/users/8928024/zf007"}, "edited": false, "score": 0, "creation_date": 1572357331, "post_id": 58591751, "comment_id": 103528457, "body": "Thank you ZF007, I forgot to add that, fixed."}], "tags": [], "owner": {"reputation": 23, "user_id": 11363418, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-z8Fg1uF_y-4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd9abrJl67QnL93EuCsHl1_fhBFDw/mo/photo.jpg?sz=128", "display_name": "Wei Wei Zhu", "link": "https://stackoverflow.com/users/11363418/wei-wei-zhu"}, "is_accepted": false, "score": 2, "last_activity_date": 1572357182, "last_edit_date": 1592644375, "creation_date": 1572269060, "answer_id": 58591751, "question_id": 51398531, "link": "https://stackoverflow.com/questions/51398531/how-to-give-onpressed-a-method-in-custom-button-flutter/58591751#58591751", "title": "How to give onPressed a method in custom button flutter", "body": "<p>The accepted answer for passing parameters no longer seems to work on newer versions of Flutter.</p>\n<p>In case someone searches for a similar issue, the modifications below worked for me.</p>\n<blockquote>\n<p>Modifying Raouf Rahiche's answer, the working method as of 2019. October 28 is as follows.</p>\n<p><strong>Update:</strong> <em>added mising flutter version number below</em></p>\n<p>Flutter version: 1.9.1+hotfix.5</p>\n<p>Dart version: 2.5.0</p>\n</blockquote>\n<p>Using the existing typedef:</p>\n<pre><code>typedef VoidNavigate = void Function(String route);\n</code></pre>\n<p>Using the type changed in a small way, you have to pass the parameter to the button separately.</p>\n<pre><code>FlatButton buttonMenu(\n   String title,\n   IconData icon, \n   VoidNavigate onCustomButtonPressed, \n   String route //New addition\n) {\n   ...\n}\n</code></pre>\n<p>Calling it now:</p>\n<pre><code>onPressed: () { onCustomButtonPressed(route); },\n</code></pre>\n<p>Passing the function:</p>\n<pre><code>buttonMenu('MVP Arc', Icons.star, _navigate, 'EmployeeScreen') \n</code></pre>\n"}], "owner": {"reputation": 1102, "user_id": 8034738, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/75654d09c63323a6c9a37fd19770c32c?s=128&d=identicon&r=PG&f=1", "display_name": "Theodorus Agum Gumilang", "link": "https://stackoverflow.com/users/8034738/theodorus-agum-gumilang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13161, "favorite_count": 0, "accepted_answer_id": 51398684, "answer_count": 2, "score": 0, "last_activity_date": 1572357182, "creation_date": 1531906418, "last_edit_date": 1531907102, "question_id": 51398531, "link": "https://stackoverflow.com/questions/51398531/how-to-give-onpressed-a-method-in-custom-button-flutter", "title": "How to give onPressed a method in custom button flutter", "body": "<p>i have custom button and i want to add method in my onpressed from my parameter,unfortunately i'm still stuck what type should i use in my custom button parameter, curently i hard code the onpressed method and pass a string route to navigate the problem is not all my button is made to navigate there is one button to logout, i already used void in my parameter but it's still doesn't work. \nhere is my custom button</p>\n\n<pre><code>FlatButton buttonMenu(String title, IconData icon, String route) {\n    return new FlatButton(\n      shape: new RoundedRectangleBorder(\n          borderRadius: new BorderRadius.circular(25.0)),\n      color: Colors.blueGrey,\n      child: new Container(\n        height: 50.0,\n        width: 120.0,\n        child: new Row(\n          mainAxisAlignment: MainAxisAlignment.center,\n          crossAxisAlignment: CrossAxisAlignment.center,\n          children: &lt;Widget&gt;[\n            new Padding(\n              padding: EdgeInsets.only(right: 10.0),\n              child: new Icon(\n                icon,\n                color: Colors.white70,\n                size: 30.0,\n              ),\n            ),\n            new Text(\n              title,\n              style: new TextStyle(fontSize: 20.0, fontWeight: FontWeight.w300),\n            ),\n          ],\n        ),\n      ),\n      onPressed: () {\n      Navigator.of(context).pushNamed('/$route');\n      },\n    );\n  }\n}\n</code></pre>\n\n<p>and here is how i call the custom button </p>\n\n<pre><code> buttonMenu('MVP Arc', Icons.star, 'EmployeeScreen')\n</code></pre>\n\n<p>and what i want is i can send method in my parameter to my onpressed so it will be like this </p>\n\n<pre><code>buttonMenu('MVP Arc', Icons.star, myMethod())\n</code></pre>\n\n<p>my method for navigate</p>\n\n<pre><code>void _navigate(String route){\n    Navigator.of(context).pushNamed('/$route');\n  }\n</code></pre>\n"}, {"tags": ["dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 522, "user_id": 2797140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab8e68a00ca84a60a11d08998d0abe5?s=128&d=identicon&r=PG", "display_name": "Renan C. Araujo", "link": "https://stackoverflow.com/users/2797140/renan-c-araujo"}, "is_accepted": true, "score": 2, "last_activity_date": 1531906947, "creation_date": 1531906947, "answer_id": 51398718, "question_id": 51397650, "link": "https://stackoverflow.com/questions/51397650/can-anyone-suggest-package-related-to-zooming-images-in-flutter/51398718#51398718", "title": "Can anyone suggest package related to zooming images in flutter", "body": "<p>I have been working on something like that:\n<a href=\"https://github.com/renancaraujo/photo_view\" rel=\"nofollow noreferrer\">https://github.com/renancaraujo/photo_view</a></p>\n\n<p>Give it a look and if you find any bug or suggestion, please, open an issue. </p>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 10097702, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TvugaNPDS4A/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qPWkVfZQX_UxlUPmZdeDRJs2Re2Q/mo/photo.jpg?sz=128", "display_name": "shuzuka", "link": "https://stackoverflow.com/users/10097702/shuzuka"}, "edited": false, "score": 0, "creation_date": 1532093826, "post_id": 51413005, "comment_id": 89857485, "body": "But with this plugin, image zooms out too far and image scrolls out of the view."}, {"owner": {"reputation": 157, "user_id": 6520704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP94i.jpg?s=128&g=1", "display_name": "Yousuf AL-Mawali", "link": "https://stackoverflow.com/users/6520704/yousuf-al-mawali"}, "reply_to_user": {"reputation": 31, "user_id": 10097702, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TvugaNPDS4A/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qPWkVfZQX_UxlUPmZdeDRJs2Re2Q/mo/photo.jpg?sz=128", "display_name": "shuzuka", "link": "https://stackoverflow.com/users/10097702/shuzuka"}, "edited": false, "score": 0, "creation_date": 1532286308, "post_id": 51413005, "comment_id": 89905218, "body": "yeah that&#39;s a problem. did you find anything useful ?"}], "tags": [], "owner": {"reputation": 157, "user_id": 6520704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP94i.jpg?s=128&g=1", "display_name": "Yousuf AL-Mawali", "link": "https://stackoverflow.com/users/6520704/yousuf-al-mawali"}, "is_accepted": false, "score": 0, "last_activity_date": 1531963156, "creation_date": 1531963156, "answer_id": 51413005, "question_id": 51397650, "link": "https://stackoverflow.com/questions/51397650/can-anyone-suggest-package-related-to-zooming-images-in-flutter/51413005#51413005", "title": "Can anyone suggest package related to zooming images in flutter", "body": "<p>I'm using this\n<a href=\"https://pub.dartlang.org/packages/zoomable_image\" rel=\"nofollow noreferrer\">zoomable_image 1.2.0</a></p>\n"}], "owner": {"reputation": 31, "user_id": 10097702, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TvugaNPDS4A/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qPWkVfZQX_UxlUPmZdeDRJs2Re2Q/mo/photo.jpg?sz=128", "display_name": "shuzuka", "link": "https://stackoverflow.com/users/10097702/shuzuka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 892, "favorite_count": 0, "closed_date": 1589464036, "accepted_answer_id": 51398718, "answer_count": 2, "score": 1, "last_activity_date": 1531963156, "creation_date": 1531904048, "last_edit_date": 1531906152, "question_id": 51397650, "link": "https://stackoverflow.com/questions/51397650/can-anyone-suggest-package-related-to-zooming-images-in-flutter", "closed_reason": "Not suitable for this site", "title": "Can anyone suggest package related to zooming images in flutter", "body": "<p>i used zoomable_image plugin while doing zoom out images are not visible. so can any one suggest me any other plugin related to zooming in flutter.</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 349, "user_id": 5397217, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1139618619400552/picture?type=large", "display_name": "Oniya Daniel", "link": "https://stackoverflow.com/users/5397217/oniya-daniel"}, "edited": false, "score": 0, "creation_date": 1562955528, "post_id": 51396769, "comment_id": 100556854, "body": "Sometimes, the issue could just be to do a hot restart <code>(Shift+r)</code> instead of a hot reload <code>(r)</code>"}, {"owner": {"reputation": 6667, "user_id": 667879, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bcc1f783c383a55c83198fb838c7dac1?s=128&d=identicon&r=PG", "display_name": "anoop4real", "link": "https://stackoverflow.com/users/667879/anoop4real"}, "edited": false, "score": 1, "creation_date": 1602963664, "post_id": 51396769, "comment_id": 113887992, "body": "Did you manage to resolve this issue?"}, {"owner": {"reputation": 2411, "user_id": 5219397, "user_type": "registered", "profile_image": "https://graph.facebook.com/869545729803533/picture?type=large", "display_name": "BINAY THAPA MAGAR", "link": "https://stackoverflow.com/users/5219397/binay-thapa-magar"}, "edited": false, "score": 0, "creation_date": 1603284874, "post_id": 51396769, "comment_id": 113987947, "body": "Yeah, Find the answers below."}], "answers": [{"comments": [{"owner": {"reputation": 2411, "user_id": 5219397, "user_type": "registered", "profile_image": "https://graph.facebook.com/869545729803533/picture?type=large", "display_name": "BINAY THAPA MAGAR", "link": "https://stackoverflow.com/users/5219397/binay-thapa-magar"}, "edited": false, "score": 0, "creation_date": 1531904009, "post_id": 51396947, "comment_id": 89766239, "body": "Thank you R&#233;mi Rousselet for your response. I exposed the broadcast stream by simply calling myStream.asBroadcastStream. But i am getting snapshot.hasData as null and the progressbar keeps moving as the streambuilder might not able to fetch the data."}, {"owner": {"reputation": 9969, "user_id": 1227166, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GrxLO.jpg?s=128&g=1", "display_name": "Michel Feinstein", "link": "https://stackoverflow.com/users/1227166/michel-feinstein"}, "edited": false, "score": 6, "creation_date": 1565121119, "post_id": 51396947, "comment_id": 101250474, "body": "R&#233;mi, could you elaborate a little more on the difference between <code>StreamControler.broadcast()</code> and <code>Stream.asBroadcastStream</code>?"}, {"owner": {"reputation": 6667, "user_id": 667879, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bcc1f783c383a55c83198fb838c7dac1?s=128&d=identicon&r=PG", "display_name": "anoop4real", "link": "https://stackoverflow.com/users/667879/anoop4real"}, "edited": false, "score": 0, "creation_date": 1602964670, "post_id": 51396947, "comment_id": 113888286, "body": "I get connectionstate.waiting if I am doing a broadcast"}], "tags": [], "owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "is_accepted": false, "score": 35, "last_activity_date": 1531901936, "creation_date": 1531901936, "answer_id": 51396947, "question_id": 51396769, "link": "https://stackoverflow.com/questions/51396769/flutter-bad-state-stream-has-already-been-listened-to/51396947#51396947", "title": "Flutter : Bad state: Stream has already been listened to", "body": "<p>The most common form of <code>Stream</code> can be listened only once at a time. If you try to add multiple listeners, it will throw </p>\n\n<blockquote>\n  <p>Bad state: Stream has already been listened to</p>\n</blockquote>\n\n<p>To prevent this error, expose a <em>broadcast</em> <code>Stream</code>. You can convert your stream to a broadcast using <code>myStream.asBroadcastStream</code></p>\n\n<p>This needs to be done inside your class that expose <code>Stream</code>. Not as parameter of <code>StreamBuilder</code>. Since <code>asBroadcastStream</code> internally listen to the original stream to generate the broadcast one, this imply you can't call this method twice on the same stream.</p>\n"}, {"tags": [], "owner": {"reputation": 2411, "user_id": 5219397, "user_type": "registered", "profile_image": "https://graph.facebook.com/869545729803533/picture?type=large", "display_name": "BINAY THAPA MAGAR", "link": "https://stackoverflow.com/users/5219397/binay-thapa-magar"}, "is_accepted": true, "score": 10, "last_activity_date": 1533487155, "creation_date": 1533487155, "answer_id": 51696275, "question_id": 51396769, "link": "https://stackoverflow.com/questions/51396769/flutter-bad-state-stream-has-already-been-listened-to/51696275#51696275", "title": "Flutter : Bad state: Stream has already been listened to", "body": "<p>The problem was due to not disposing the controllers in bloc.</p>\n\n<pre><code>  void dispose() {\n    monthChangedController.close();\n    dayPressedController.close();\n    resultController.close();\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23316, "user_id": 1321917, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xUiET.jpg?s=128&g=1", "display_name": "Andrey Gordeev", "link": "https://stackoverflow.com/users/1321917/andrey-gordeev"}, "edited": false, "score": 2, "creation_date": 1570252088, "post_id": 53902572, "comment_id": 102862775, "body": "<code>broadcast</code> doesn&#39;t emit old events. <code>BehaviorSubject</code> from <code>rxdart</code> does. See this: <a href=\"https://stackoverflow.com/a/55893532/1321917\">stackoverflow.com/a/55893532/1321917</a>"}], "tags": [], "owner": {"reputation": 2134, "user_id": 6818308, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/15d0bd4d7dd3a1b641f47ba82179529f?s=128&d=identicon&r=PG&f=1", "display_name": "amenbo", "link": "https://stackoverflow.com/users/6818308/amenbo"}, "is_accepted": false, "score": 76, "last_activity_date": 1545558044, "creation_date": 1545558044, "answer_id": 53902572, "question_id": 51396769, "link": "https://stackoverflow.com/questions/51396769/flutter-bad-state-stream-has-already-been-listened-to/53902572#53902572", "title": "Flutter : Bad state: Stream has already been listened to", "body": "<p>You should use the following.</p>\n\n<pre><code>StreamController&lt;...&gt; _controller = StreamController&lt;...&gt;.broadcast();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 11105259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v3rAW.png?s=128&g=1", "display_name": "Serhii", "link": "https://stackoverflow.com/users/11105259/serhii"}, "is_accepted": false, "score": 2, "last_activity_date": 1592900595, "last_edit_date": 1592900595, "creation_date": 1550913378, "answer_id": 54840067, "question_id": 51396769, "link": "https://stackoverflow.com/questions/51396769/flutter-bad-state-stream-has-already-been-listened-to/54840067#54840067", "title": "Flutter : Bad state: Stream has already been listened to", "body": "<p>I have had the same issue when I used a result of Observable.combineLatest2 for StreamBuilder into Drawer:</p>\n<blockquote>\n<p>flutter: Bad state: Stream has already been listened to.</p>\n</blockquote>\n<p>As for me, the best solution has added the result of this combine to new BehaviorSubject and listen new one.</p>\n<p><strong>Don't forget to listen old one !!!</strong></p>\n<pre><code>class VisitsBloc extends Object {\n    Map&lt;Visit, Location&gt; visitAndLocation;\n\n    VisitsBloc() {\n        visitAndLocations.listen((data) {\n            visitAndLocation = data;\n        });\n    }\n\n    final _newOne = new BehaviorSubject&lt;Map&lt;Visit, Location&gt;&gt;();\n\n    Stream&lt;Map&lt;Visit, Location&gt;&gt; get visitAndLocations =&gt; Observable.combineLatest2(_visits.stream, _locations.stream, (List&lt;vis.Visit&gt; visits, Map&lt;int, Location&gt; locations) {\n        Map&lt;vis.Visit, Location&gt; result = {};\n\n        visits.forEach((visit) {\n            if (locations.containsKey(visit.skuLocationId)) {\n                result[visit] = locations[visit.skuLocationId];\n            }\n        });\n\n        if (result.isNotEmpty) {\n            _newOne.add(result);\n        }\n    });\n}\n</code></pre>\n<p>I didn't use <code>.broadcast</code> because it slowed my UI.</p>\n"}, {"comments": [{"owner": {"reputation": 2046, "user_id": 658493, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/be38f103e2685e1c32553c25243d2db4?s=128&d=identicon&r=PG", "display_name": "K-Dawg", "link": "https://stackoverflow.com/users/658493/k-dawg"}, "edited": false, "score": 0, "creation_date": 1590413084, "post_id": 56279276, "comment_id": 109662141, "body": "I keep seeing that the broadcast method does not exist!   final _order = StreamController&lt;Order&gt;().broadcast();"}, {"owner": {"reputation": 1231, "user_id": 529442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b4643afba35a68075b6dadc1bc2c17c?s=128&d=identicon&r=PG", "display_name": "Eugene Gr. Philippov", "link": "https://stackoverflow.com/users/529442/eugene-gr-philippov"}, "reply_to_user": {"reputation": 2046, "user_id": 658493, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/be38f103e2685e1c32553c25243d2db4?s=128&d=identicon&r=PG", "display_name": "K-Dawg", "link": "https://stackoverflow.com/users/658493/k-dawg"}, "edited": false, "score": 6, "creation_date": 1595146988, "post_id": 56279276, "comment_id": 111368717, "body": "@PrimeByDesign <code>StreamController&lt;T&gt;.broadcast()</code> and not <code>StreamController&lt;T&gt;().broadcast()</code>"}], "tags": [], "owner": {"reputation": 2625, "user_id": 3044062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7eb276c10e9ac587363fb298520f15e8?s=128&d=identicon&r=PG&f=1", "display_name": "Samer", "link": "https://stackoverflow.com/users/3044062/samer"}, "is_accepted": false, "score": 17, "last_activity_date": 1610509557, "last_edit_date": 1610509557, "creation_date": 1558628038, "answer_id": 56279276, "question_id": 51396769, "link": "https://stackoverflow.com/questions/51396769/flutter-bad-state-stream-has-already-been-listened-to/56279276#56279276", "title": "Flutter : Bad state: Stream has already been listened to", "body": "<p>In my case, I was getting this error because the same line of code <code>myStream.listen()</code> was being called twice in the same widget on the same stream. Apparently this is not allowed!</p>\n<p><strong>UPDATE:</strong>\nIf you intend to subscribe to the same stream more than once, you may want to choose behavior subject instead:</p>\n<pre><code>final _myController = BehaviorSubject&lt;String&gt;();\nStream&lt;String&gt; get myStream =&gt;\n      _myController.stream;\n// use myStream.listen((latestEvent) {// run code when event is received});\nSink&lt;String&gt; get mySteamInputSink =&gt; _myController.sink;\n// use myStreamInputSink.add('new event'); to trigger events\n</code></pre>\n<p>OR If a widget subscribes to a stream, and this widget is destroyed then redrawn which results for its new instance to subscribe to the same listener a second time, it's best to reset on widget dispose:</p>\n<pre><code>_flush() {\n  _myController.close();\n  _myController = StreamController&lt;String&gt;();\n}\n</code></pre>\n<h2>Old Answer:</h2>\n<p>What fixed it for me is to both create a my stream controller as a broadcast stream controller:</p>\n<pre><code>var myStreamController = StreamController&lt;bool&gt;.broadcast();\n</code></pre>\n<p>AND</p>\n<p>use stream as a broadcast stream:</p>\n<pre><code>myStreamController.stream.asBroadcastStream().listen(onData);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1554, "user_id": 3537158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/abkoa.png?s=128&g=1", "display_name": "haroldolivieri", "link": "https://stackoverflow.com/users/3537158/haroldolivieri"}, "is_accepted": false, "score": 2, "last_activity_date": 1569271254, "creation_date": 1569271254, "answer_id": 58069927, "question_id": 51396769, "link": "https://stackoverflow.com/questions/51396769/flutter-bad-state-stream-has-already-been-listened-to/58069927#58069927", "title": "Flutter : Bad state: Stream has already been listened to", "body": "<p>Just to sum up:</p>\n\n<p>The main difference is <code>broadcast()</code> <strong>creates</strong> a <code>Stream</code> listenable for multiple sources but it needs to be listened for at least one source to start emitting items.</p>\n\n<blockquote>\n  <p>A Stream should be inert until a subscriber starts listening on it (using the [onListen] callback to start producing events).</p>\n</blockquote>\n\n<p><code>asBroadcastStream</code> turns an existing <code>Stream</code> into a multi listenable one but it doesn't need to be listened to start emitting since it calls <code>onListen()</code> under the hood.</p>\n"}, {"tags": [], "owner": {"reputation": 23316, "user_id": 1321917, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xUiET.jpg?s=128&g=1", "display_name": "Andrey Gordeev", "link": "https://stackoverflow.com/users/1321917/andrey-gordeev"}, "is_accepted": false, "score": 29, "last_activity_date": 1596612634, "last_edit_date": 1596612634, "creation_date": 1570252771, "answer_id": 58245557, "question_id": 51396769, "link": "https://stackoverflow.com/questions/51396769/flutter-bad-state-stream-has-already-been-listened-to/58245557#58245557", "title": "Flutter : Bad state: Stream has already been listened to", "body": "<p>You could use <code>broadcast</code>, which allows to listen stream more than once, <strong>but it also prevents from listening past events</strong>:</p>\n<blockquote>\n<p>Broadcast streams do not buffer events when there is no listener.</p>\n</blockquote>\n<p><strong>A better option</strong> is to use <code>BehaviorSubject</code> from <code>rxdart</code> package class as <code>StreamController</code>. <code>BehaviorSubject</code> is:</p>\n<blockquote>\n<p>A special StreamController that captures the latest item that has been added to the controller, and emits that as the first item to any new listener.</p>\n</blockquote>\n<p>The usage is as simple as:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>StreamController&lt;...&gt; _controller = BehaviorSubject();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 430, "user_id": 6519348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O0LOC.jpg?s=128&g=1", "display_name": "E. Sun", "link": "https://stackoverflow.com/users/6519348/e-sun"}, "is_accepted": false, "score": 1, "last_activity_date": 1583373899, "creation_date": 1583373899, "answer_id": 60537255, "question_id": 51396769, "link": "https://stackoverflow.com/questions/51396769/flutter-bad-state-stream-has-already-been-listened-to/60537255#60537255", "title": "Flutter : Bad state: Stream has already been listened to", "body": "<p>For those of you running into this while doing <code>Future.asStream()</code>, you'll need <code>Future.asStream().shareReplay(maxSize: 1)</code> to make it a broadcast/hot stream.</p>\n"}, {"tags": [], "owner": {"reputation": 47, "user_id": 12535847, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDeUpGo7FmMw0P_yRX9KO5LyqEggYl5XHqbjtGN=k-s128", "display_name": "Sanskar Tiwari", "link": "https://stackoverflow.com/users/12535847/sanskar-tiwari"}, "is_accepted": false, "score": 1, "last_activity_date": 1587872707, "creation_date": 1587872707, "answer_id": 61435530, "question_id": 51396769, "link": "https://stackoverflow.com/questions/51396769/flutter-bad-state-stream-has-already-been-listened-to/61435530#61435530", "title": "Flutter : Bad state: Stream has already been listened to", "body": "<p>For me defining my stream as a global variable worked </p>\n\n<p>Stream infostream (was inside the ...State in a stateful widget i defined it outside the widget and it worked</p>\n\n<p>(not sure if the best solution but give it a try)</p>\n"}, {"tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1592402120, "creation_date": 1592402120, "answer_id": 62430725, "question_id": 51396769, "link": "https://stackoverflow.com/questions/51396769/flutter-bad-state-stream-has-already-been-listened-to/62430725#62430725", "title": "Flutter : Bad state: Stream has already been listened to", "body": "<p><a href=\"https://pub.dev/documentation/async/latest/async/StreamSplitter-class.html\" rel=\"nofollow noreferrer\">StreamSplitter.split()</a> from the <a href=\"https://pub.dev/packages/async\" rel=\"nofollow noreferrer\"><code>async</code></a> can be used for this use case</p>\n\n<pre><code>import 'package:async/async.dart';\n...\n\nmain() {\n  var process = Process.start(...);\n  var stdout = StreamSplitter&lt;List&lt;int&gt;&gt;(process.stdout);\n  readStdoutFoo(stdout.split());\n  readStdoutBar(stdout.split());\n}\n\nreadStdoutFoo(Stream&lt;List&lt;int&gt;&gt; stdout) {\n  stdout.transform(utf8.decoder)...\n}\n\nreadStdoutBar(Stream&lt;List&lt;int&gt;&gt; stdout) {\n  stdout.transform(utf8.decoder)...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 7447054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aabe9bc43a54779eb5eaed01660d6067?s=128&d=identicon&r=PG&f=1", "display_name": "nani", "link": "https://stackoverflow.com/users/7447054/nani"}, "is_accepted": false, "score": 0, "last_activity_date": 1596110447, "creation_date": 1596110447, "answer_id": 63172720, "question_id": 51396769, "link": "https://stackoverflow.com/questions/51396769/flutter-bad-state-stream-has-already-been-listened-to/63172720#63172720", "title": "Flutter : Bad state: Stream has already been listened to", "body": "<p>In my case I was Using the Package Connectivity while on flutter web.\nCommenting all Connectivity calls solved the issue.</p>\n<p>I'm now just using Connectivity while only on Android/iOS.</p>\n<p>So maybe check your Packages im you are using some packages that have some issues on Web in case you are developing for web.</p>\n<p>Hopefully I could help someone with this Information.</p>\n"}, {"comments": [{"owner": {"reputation": 187, "user_id": 7505665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e73e1d9b5f71e8025c370118cc475e6a?s=128&d=identicon&r=PG&f=1", "display_name": "ShadeToD", "link": "https://stackoverflow.com/users/7505665/shadetod"}, "edited": false, "score": 0, "creation_date": 1617871006, "post_id": 66237134, "comment_id": 118430690, "body": "You will end up with creating many classes. It&#39;s easier to close() stream."}], "tags": [], "owner": {"reputation": 101, "user_id": 11241548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tKgHR.jpg?s=128&g=1", "display_name": "abhijith k", "link": "https://stackoverflow.com/users/11241548/abhijith-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1613545341, "creation_date": 1613545341, "answer_id": 66237134, "question_id": 51396769, "link": "https://stackoverflow.com/questions/51396769/flutter-bad-state-stream-has-already-been-listened-to/66237134#66237134", "title": "Flutter : Bad state: Stream has already been listened to", "body": "<p>This is a problem for the provider, I solved it by change provider initialization</p>\n<p>Eg</p>\n<pre><code>locator.registerSingleton&lt;LoginProvider&gt;(LoginProvider());\n</code></pre>\n<p>TO</p>\n<pre><code> locator.registerFactory(() =&gt; TaskProvider());\n</code></pre>\n<p>Where locator is</p>\n<pre><code>GetIt locator = GetIt.instance;\n</code></pre>\n"}], "owner": {"reputation": 2411, "user_id": 5219397, "user_type": "registered", "profile_image": "https://graph.facebook.com/869545729803533/picture?type=large", "display_name": "BINAY THAPA MAGAR", "link": "https://stackoverflow.com/users/5219397/binay-thapa-magar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44705, "favorite_count": 9, "accepted_answer_id": 51696275, "answer_count": 12, "score": 68, "last_activity_date": 1613545341, "creation_date": 1531901284, "last_edit_date": 1605767964, "question_id": 51396769, "link": "https://stackoverflow.com/questions/51396769/flutter-bad-state-stream-has-already-been-listened-to", "title": "Flutter : Bad state: Stream has already been listened to", "body": "<pre class=\"lang-dart prettyprint-override\"><code>\n    class MyPage extends StatelessWidget {\n      @override\n      Widget build(BuildContext context) {\n        return DefaultTabController(\n          length: 2,\n          child: new Scaffold(\n            appBar: TabBar(\n              tabs: [\n                Tab(child: Text(&quot;MY INFORMATION&quot;,style: TextStyle(color: Colors.black54),)),\n                Tab(child: Text(&quot;WEB CALENDER&quot;,style: TextStyle(color: Colors.black54),)),\n              ],\n            ),\n            body:PersonalInformationBlocProvider(\n              movieBloc: PersonalInformationBloc(),\n              child: TabBarView(\n                children: [\n                  MyInformation(),\n                  new SmallCalendarExample(),\n                ],\n              ),\n            ),\n          ),\n        );\n      }\n    }\n    \n    class MyInformation extends StatelessWidget{\n      // TODO: implement build\n      var deviceSize;\n    \n      //Column1\n      Widget profileColumn(PersonalInformation snapshot) =&gt; Container(\n        height: deviceSize.height * 0.24,\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: &lt;Widget&gt;[\n            Row(\n              mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n              children: &lt;Widget&gt;[\n                Container(\n                  decoration: BoxDecoration(\n                    borderRadius:\n                    new BorderRadius.all(new Radius.circular(50.0)),\n                    border: new Border.all(\n                      color: Colors.black,\n                      width: 4.0,\n                    ),\n                  ),\n                  child: CircleAvatar(\n                    backgroundImage: NetworkImage(\n                        &quot;http://www.binaythapa.com.np/img/me.jpg&quot;),\n                    foregroundColor: Colors.white,\n                    backgroundColor: Colors.white,\n                    radius: 40.0,\n                  ),\n                ),\n                ProfileTile(\n                  title: snapshot.firstName,\n                  subtitle: &quot;Developer&quot;,\n                ),\n                SizedBox(\n                  height: 10.0,\n                ),\n              ],\n            )\n          ],\n        ),\n      );\n      Widget bodyData(PersonalInformation snapshot) {\n        return SingleChildScrollView(\n            child: Column(\n              children: &lt;Widget&gt;[\n                profileColumn(snapshot)\n              ],\n            ),\n        );\n      }\n    \n    \n      @override\n      Widget build(BuildContext context) {\n        final personalInformationBloc = PersonalInformationBlocProvider.of(context);\n    \n        deviceSize = MediaQuery.of(context).size;\n        return StreamBuilder(\n            stream: personalInformationBloc.results,\n            builder: (context,snapshot){\n              if (!snapshot.hasData)\n                return Center(\n                  child: CircularProgressIndicator(),\n                );\n              return bodyData(snapshot.data);\n            }\n        );\n      }\n    }\n   \n\n</code></pre>\n<p>I am using Bloc Pattern for retrieving data from Rest API (just called the whole object from JSON and parsed user name only). The Page consists of two tabs MyInformation and SmallCalendar. When the app runs the data are fetched correctly and everything is good. When I go to tab two and return to tab one then the whole screens in tab one goes to red showing error:\n<code>Bad state: Stream has already been listened to.</code></p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "is_accepted": true, "score": 31, "last_activity_date": 1531902951, "creation_date": 1531902951, "answer_id": 51397263, "question_id": 51395729, "link": "https://stackoverflow.com/questions/51395729/what-is-the-difference-between-streamcontroller-add-and-streamcontroller-sink/51397263#51397263", "title": "What is the difference between streamController.add() and streamController.sink.add()?", "body": "<p>Nothing. This does the same thing internally. </p>\n\n<p>The real purpose of <code>.sink</code> property is to pass it as parameter of other object. Such as :</p>\n\n<pre><code>MyClass(\n  sink: myController.sink,\n)\n</code></pre>\n\n<p>This prevents classes to access to properties they shouldn't be able to.</p>\n\n<p><strong>But <code>StreamController</code> implements <code>Sink</code> so what's the point ?</strong></p>\n\n<p>Well true. But casting <code>StreamController</code> to <code>Sink</code> is different than creating a <code>Sink</code>.</p>\n\n<p>For example, the class that uses <code>Sink</code> could very well do the following :</p>\n\n<pre><code>StreamSink sink = StreamController();\nif (sink is StreamController) { // this is true\n    // access StreamController custom methods\n}\n</code></pre>\n\n<p>The <code>sink</code> field is here to prevent this. It translates into the following :</p>\n\n<pre><code>StreamSink sink = StreamController().sink;\nif (sink is StreamController) { // false this time\n   // never reached\n}\n</code></pre>\n"}], "owner": {"reputation": 767, "user_id": 4302472, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/1tcbB.jpg?s=128&g=1", "display_name": "Ayush Gupta", "link": "https://stackoverflow.com/users/4302472/ayush-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2947, "favorite_count": 1, "accepted_answer_id": 51397263, "answer_count": 1, "score": 21, "last_activity_date": 1531902951, "creation_date": 1531898002, "question_id": 51395729, "link": "https://stackoverflow.com/questions/51395729/what-is-the-difference-between-streamcontroller-add-and-streamcontroller-sink", "title": "What is the difference between streamController.add() and streamController.sink.add()?", "body": "<p>There are two ways that i know to add data to streamcontroller, one directly and other by use of a sink. I tried to read docs of Sink but i am not able to understand its concept like piping of data etc.</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 1877, "user_id": 2076759, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/47c092e185020f83fcb35e3ed998ca0e?s=128&d=identicon&r=PG", "display_name": "Leo Cavalcante", "link": "https://stackoverflow.com/users/2076759/leo-cavalcante"}, "is_accepted": false, "score": 1, "last_activity_date": 1531886925, "creation_date": 1531886925, "answer_id": 51393442, "question_id": 51392892, "link": "https://stackoverflow.com/questions/51392892/is-this-loginrequiredf-the-way-to-handle-login-required-functions-in-dart/51393442#51393442", "title": "Is this loginRequired(f)() the way to handle login required functions in dart?", "body": "<p>I like the functional approach. I'd only avoid using globals, you can wrap it in a <code>Context</code> so you can mock then for tests and use <code>Future</code>s as Monads: <a href=\"https://dartpad.dartlang.org/ac24a5659b893e8614f3c29a8006a6cc\" rel=\"nofollow noreferrer\">https://dartpad.dartlang.org/ac24a5659b893e8614f3c29a8006a6cc</a></p>\n"}, {"tags": [], "owner": {"reputation": 5606, "user_id": 374798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53255beb029d8a0074a6a65c9d3f63c?s=128&d=identicon&r=PG", "display_name": "Nate Bosch", "link": "https://stackoverflow.com/users/374798/nate-bosch"}, "is_accepted": false, "score": 1, "last_activity_date": 1531892480, "creation_date": 1531892480, "answer_id": 51394314, "question_id": 51392892, "link": "https://stackoverflow.com/questions/51392892/is-this-loginrequiredf-the-way-to-handle-login-required-functions-in-dart/51394314#51394314", "title": "Is this loginRequired(f)() the way to handle login required functions in dart?", "body": "<p>Passing the function is not buying much value. In a typical larger Dart project using a framework there will be some way to guard at a higher level than a function - such as an entire page or component/widget.</p>\n\n<p>If you do want to guard at a per-function level you first need to decide with it should be the <em>function</em> or the <em>call site</em> that decides what needs to be guarded. In your example it is the <em>call site</em> making the decision. After that decision you can implement a <code>throwIfNotAuthenticated</code> and add a call at either the definition or call site.</p>\n\n<pre><code>void throwIfNotAuthenticated() {\n  if (!userIsAuthenticated) {\n    throw new LoginRequiredException();\n  }\n}\n\n// Function decides authentication is required:\nvoid secretPrint() {\n  throwIfNotAuthenticated();\n  print('This is a secret');\n}\n\n// Call site decides authentication is required:\nvoid main() {\n  // do stuff...\n  throwIfNotAuthenticated();\n  anotherSecreteMethod();\n}\n</code></pre>\n"}], "owner": {"reputation": 2895, "user_id": 348719, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb180bc6dd7e72a35a27319fcd7e6fda?s=128&d=identicon&r=PG&f=1", "display_name": "sgon00", "link": "https://stackoverflow.com/users/348719/sgon00"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1531892480, "creation_date": 1531882341, "last_edit_date": 1531884575, "question_id": 51392892, "link": "https://stackoverflow.com/questions/51392892/is-this-loginrequiredf-the-way-to-handle-login-required-functions-in-dart", "title": "Is this loginRequired(f)() the way to handle login required functions in dart?", "body": "<p>I am new to Dart programming. I am trying to figure out what is the proper way (what everyone will do) to handle/guard those functions which are login required. The following is my first trial:</p>\n\n<p><code>$ vim login_sample.dart:</code></p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>var isLoggedIn;\n\nclass LoginRequiredException implements Exception {\n  String cause;\n  LoginRequiredException(this.cause);\n}\n\nFunction loginRequired(Function f) {\n  if (!isLoggedIn) {\n    throw new LoginRequiredException(\"Login is reuiqred.\");\n  }\n  return f;\n}\n\nvoid secretPrint() {\n  print(\"This is a secret\");\n}\n\nvoid main(List&lt;String&gt; args) {\n  if (args.length != 1) return null;\n  isLoggedIn = (args[0] == '1') ? true : false;\n  try {\n    loginRequired(secretPrint)();\n  } on LoginRequiredException {\n    print(\"Login is required!\");\n  }\n}\n</code></pre>\n\n<p>then, run it with <code>$ dart login_sample.dart 1</code> and <code>$ dart login_sample.dart 2</code>.</p>\n\n<p>I am wondering if this is the recommended way to guard login required functions or not. </p>\n\n<p>Thank you very much for your help.</p>\n\n<p><strong>Edited:</strong></p>\n\n<p>My question is more about general programming skills in <code>Dart</code> than how to use a plugin. In python, I just need to add <code>@login_required</code> decorator in the front of the function to protect it. I am wondering if this decorator function way is recommended in dart or not. </p>\n\n<p>PS: All firebase/google/twitter/facebook etc... are blocked in my country.</p>\n"}, {"tags": ["dart", "dart-pub"], "answers": [{"comments": [{"owner": {"reputation": 5606, "user_id": 374798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53255beb029d8a0074a6a65c9d3f63c?s=128&d=identicon&r=PG", "display_name": "Nate Bosch", "link": "https://stackoverflow.com/users/374798/nate-bosch"}, "edited": false, "score": 0, "creation_date": 1531892738, "post_id": 51394265, "comment_id": 89760031, "body": "In particular something is preventing you from getting <code>async</code> version 2"}, {"owner": {"reputation": 157, "user_id": 3658574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f91fd0eaff9b5b2033b696254e2ba4a?s=128&d=identicon&r=PG", "display_name": "Andy Castille", "link": "https://stackoverflow.com/users/3658574/andy-castille"}, "edited": false, "score": 0, "creation_date": 1531943904, "post_id": 51394265, "comment_id": 89791567, "body": "I removed all dependencies and added them back in one by one until it broke at gorgon. I then added everything except gorgon and it works, so I forked it and I&#39;ll update the dependencies and then depend on the git-hosted version. Thanks!"}], "tags": [], "owner": {"reputation": 14105, "user_id": 4231909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NbwgO.jpg?s=128&g=1", "display_name": "Jonah Williams", "link": "https://stackoverflow.com/users/4231909/jonah-williams"}, "is_accepted": true, "score": 1, "last_activity_date": 1531893847, "last_edit_date": 1531893847, "creation_date": 1531892208, "answer_id": 51394265, "question_id": 51392855, "link": "https://stackoverflow.com/questions/51392855/dart-2-async-package-precompilation-error/51394265#51394265", "title": "Dart 2 async package precompilation error", "body": "<p>You are depending on several libraries that haven't been updated for Dart 2.  Unfortunately the only solution would be to remove these dependencies or move back to a Dart 1 SDK. For reference:</p>\n\n<ul>\n<li>browser_detect: v 1.0.4 \u2022 Updated: Mar 2, 2016</li>\n<li>gorgon v 0.14.2 \u2022 Updated: Dec 6, 2014</li>\n<li>jsonx v 2.0.2 \u2022 Updated: May 19, 2016</li>\n<li>slack 1.2.2 \u2022 Updated: Jun 6, 2015 WEB</li>\n</ul>\n\n<p>In general, only libraries which were last updated sometime in 2018 will work in Dart 2, and usually only the very latest version. You can check the status of your dependencies by searching for the package name on <a href=\"https://pub.dartlang.org/\" rel=\"nofollow noreferrer\">pub.dartlang.org</a></p>\n\n<p>Edit: gorgon in particular has a dependency on an older version of <code>async</code>, I would start by removing that</p>\n"}], "owner": {"reputation": 157, "user_id": 3658574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f91fd0eaff9b5b2033b696254e2ba4a?s=128&d=identicon&r=PG", "display_name": "Andy Castille", "link": "https://stackoverflow.com/users/3658574/andy-castille"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 51394265, "answer_count": 1, "score": 1, "last_activity_date": 1531893847, "creation_date": 1531882089, "question_id": 51392855, "link": "https://stackoverflow.com/questions/51392855/dart-2-async-package-precompilation-error", "title": "Dart 2 async package precompilation error", "body": "<p>I'm trying to run a web app with the Dart 2 SDK using <code>webdev</code>. I finally got the dependencies to resolve successfully, but now <code>pub get</code> cannot precompile the <code>async</code> package.</p>\n\n<p>I found this issue that seems relevant, but the <code>pub global run</code> workaround they suggested did not work: <a href=\"https://github.com/dart-lang/pub/issues/1932\" rel=\"nofollow noreferrer\">https://github.com/dart-lang/pub/issues/1932</a></p>\n\n<h2>pubspec.yaml</h2>\n\n<pre><code>environment:\n  sdk: '&gt;=2.0.0-dev.68.0 &lt;3.0.0'\n\ndependencies:\n  browser_detect: ^1.0.4\n  dnd: ^1.2.0\n  firebase: ^0.5.0\n  gorgon: ^0.14.2\n  intl: ^0.15.6\n  jsonx: ^2.0.2\n  slack: ^1.2.2\n  stagexl: ^1.3.1+4\n  xml: ^3.0.0\n\ndev_dependencies:\n  build_runner: '&gt;=0.8.10 &lt;0.10.0'\n  build_web_compilers: '&gt;=0.3.6 &lt;0.5.0'\n</code></pre>\n\n<h2>pub get</h2>\n\n<p>Dart VM version: 2.0.0-dev.69.0 (Unknown timestamp) on \"linux_x64\"</p>\n\n<pre><code>Resolving dependencies...\nOverriding the upper bound Dart SDK constraint to &lt;=2.0.0-dev.69.0 for the following packages:\n\nargs, async, browser, browser_detect, coUemoticons, convert, cou_toolkit, edit_distance, firebase, fixnum, glob, gorgon, graphs, http_parser, js, jsonx, libld, logging, meta, petitparser, pub_semver, quiver, quiver_iterables, scproxy, slack, source_span, stack_trace, stagexl, string_scanner, transmit, typed_data, xml\n\nTo disable this you can set the PUB_ALLOW_PRERELEASE_SDK system environment variable to `false`, or you can silence this message by setting it to `quiet`.\nGot dependencies!\nPrecompiling executables...\nFailed to precompile build_runner:graph_inspector:\nfile:///home/andy/.pub-cache/hosted/pub.dartlang.org/async-1.13.3/lib/src/typed/stream.dart:56:10: Error: The return type of the method 'TypeSafeStream::firstWhere' is dart.async::Future&lt;dynamic&gt;, which does not match the return type of the overridden method (dart.async::Future&lt;#lib1::TypeSafeStream::T&gt;).\nChange to a subtype of dart.async::Future&lt;#lib1::TypeSafeStream::T&gt;.\n  Future firstWhere(bool test(T element), {Object defaultValue()}) =&gt;\n         ^\nfile:///home/andy/.pub-cache/hosted/pub.dartlang.org/async-1.13.3/lib/src/typed/stream.dart:56:10: Error: The method 'TypeSafeStream::firstWhere' doesn't have the named parameter 'orElse' of overriden method 'Stream::firstWhere'.\n  Future firstWhere(bool test(T element), {Object defaultValue()}) =&gt;\n         ^\nfile:///home/andy/.pub-cache/hosted/pub.dartlang.org/async-1.13.3/lib/src/typed/stream.dart:59:10: Error: The return type of the method 'TypeSafeStream::lastWhere' is dart.async::Future&lt;dynamic&gt;, which does not match the return type of the overridden method (dart.async::Future&lt;#lib1::TypeSafeStream::T&gt;).\nChange to a subtype of dart.async::Future&lt;#lib1::TypeSafeStream::T&gt;.\n  Future lastWhere(bool test(T element), {Object defaultValue()}) =&gt;\n         ^\nfile:///home/andy/.pub-cache/hosted/pub.dartlang.org/async-1.13.3/lib/src/typed/stream.dart:59:10: Error: The method 'TypeSafeStream::lastWhere' doesn't have the named parameter 'orElse' of overriden method 'Stream::lastWhere'.\n  Future lastWhere(bool test(T element), {Object defaultValue()}) =&gt;\n         ^\nfile:///home/andy/.pub-cache/hosted/pub.dartlang.org/async-1.13.3/lib/src/typed/stream.dart:62:13: Error: The method 'TypeSafeStream::singleWhere' has fewer named arguments than those of overridden method 'Stream::singleWhere'.\n  Future&lt;T&gt; singleWhere(bool test(T element)) async =&gt;\n            ^\nfile:///home/andy/.pub-cache/hosted/pub.dartlang.org/async-1.13.3/lib/src/restartable_timer.dart:11:7: Error: The non-abstract class 'RestartableTimer' is missing implementations for these members:\n  'tick'.\nTry to either\n - provide an implementation,\n - inherit an implementation from a superclass or mixin,\n - mark the class as abstract, or\n - provide a 'noSuchMethod' implementation.\n\nclass RestartableTimer implements Timer {\n      ^^^^^^^^^^^^^^^^\nfile:///home/andy/.pub-cache/hosted/pub.dartlang.org/async-1.13.3/lib/src/result/capture_transformer.dart:15:7: Error: The non-abstract class 'CaptureStreamTransformer' is missing implementations for these members:\n  'cast'.\nTry to either\n - provide an implementation,\n - inherit an implementation from a superclass or mixin,\n - mark the class as abstract, or\n - provide a 'noSuchMethod' implementation.\n\nclass CaptureStreamTransformer&lt;T&gt; implements StreamTransformer&lt;T, Result&lt;T&gt;&gt; {\n      ^^^^^^^^^^^^^^^^^^^^^^^^\nfile:///home/andy/.pub-cache/hosted/pub.dartlang.org/async-1.13.3/lib/src/result/release_transformer.dart:12:7: Error: The non-abstract class 'ReleaseStreamTransformer' is missing implementations for these members:\n  'cast'.\nTry to either\n - provide an implementation,\n - inherit an implementation from a superclass or mixin,\n - mark the class as abstract, or\n - provide a 'noSuchMethod' implementation.\n\nclass ReleaseStreamTransformer&lt;T&gt; implements StreamTransformer&lt;Result&lt;T&gt;, T&gt; {\n      ^^^^^^^^^^^^^^^^^^^^^^^^\nfile:///home/andy/.pub-cache/hosted/pub.dartlang.org/async-1.13.3/lib/src/single_subscription_transformer.dart:16:7: Error: The non-abstract class 'SingleSubscriptionTransformer' is missing implementations for these members:\n  'cast'.\nTry to either\n - provide an implementation,\n - inherit an implementation from a superclass or mixin,\n - mark the class as abstract, or\n - provide a 'noSuchMethod' implementation.\n\nclass SingleSubscriptionTransformer&lt;S, T&gt; implements StreamTransformer&lt;S, T&gt; {\n      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nfile:///home/andy/.pub-cache/hosted/pub.dartlang.org/async-1.13.3/lib/src/typed_stream_transformer.dart:23:7: Error: The non-abstract class '_TypeSafeStreamTransformer' is missing implementations for these members:\n  'cast'.\nTry to either\n - provide an implementation,\n - inherit an implementation from a superclass or mixin,\n - mark the class as abstract, or\n - provide a 'noSuchMethod' implementation.\n\nclass _TypeSafeStreamTransformer&lt;S, T&gt; implements StreamTransformer&lt;S, T&gt; {\n      ^^^^^^^^^^^^^^^^^^^^^^^^^^\nFailed to precompile build_runner:build_runner:\nfile:///home/andy/.pub-cache/hosted/pub.dartlang.org/async-1.13.3/lib/src/typed/stream.dart:56:10: Error: The return type of the method 'TypeSafeStream::firstWhere' is dart.async::Future&lt;dynamic&gt;, which does not match the return type of the overridden method (dart.async::Future&lt;#lib1::TypeSafeStream::T&gt;).\nChange to a subtype of dart.async::Future&lt;#lib1::TypeSafeStream::T&gt;.\n  Future firstWhere(bool test(T element), {Object defaultValue()}) =&gt;\n         ^\nfile:///home/andy/.pub-cache/hosted/pub.dartlang.org/async-1.13.3/lib/src/typed/stream.dart:56:10: Error: The method 'TypeSafeStream::firstWhere' doesn't have the named parameter 'orElse' of overriden method 'Stream::firstWhere'.\n  Future firstWhere(bool test(T element), {Object defaultValue()}) =&gt;\n         ^\nfile:///home/andy/.pub-cache/hosted/pub.dartlang.org/async-1.13.3/lib/src/typed/stream.dart:59:10: Error: The return type of the method 'TypeSafeStream::lastWhere' is dart.async::Future&lt;dynamic&gt;, which does not match the return type of the overridden method (dart.async::Future&lt;#lib1::TypeSafeStream::T&gt;).\nChange to a subtype of dart.async::Future&lt;#lib1::TypeSafeStream::T&gt;.\n  Future lastWhere(bool test(T element), {Object defaultValue()}) =&gt;\n         ^\nfile:///home/andy/.pub-cache/hosted/pub.dartlang.org/async-1.13.3/lib/src/typed/stream.dart:59:10: Error: The method 'TypeSafeStream::lastWhere' doesn't have the named parameter 'orElse' of overriden method 'Stream::lastWhere'.\n  Future lastWhere(bool test(T element), {Object defaultValue()}) =&gt;\n         ^\nfile:///home/andy/.pub-cache/hosted/pub.dartlang.org/async-1.13.3/lib/src/typed/stream.dart:62:13: Error: The method 'TypeSafeStream::singleWhere' has fewer named arguments than those of overridden method 'Stream::singleWhere'.\n  Future&lt;T&gt; singleWhere(bool test(T element)) async =&gt;\n            ^\nfile:///home/andy/.pub-cache/hosted/pub.dartlang.org/async-1.13.3/lib/src/restartable_timer.dart:11:7: Error: The non-abstract class 'RestartableTimer' is missing implementations for these members:\n  'tick'.\nTry to either\n - provide an implementation,\n - inherit an implementation from a superclass or mixin,\n - mark the class as abstract, or\n - provide a 'noSuchMethod' implementation.\n\nclass RestartableTimer implements Timer {\n      ^^^^^^^^^^^^^^^^\nfile:///home/andy/.pub-cache/hosted/pub.dartlang.org/async-1.13.3/lib/src/result/capture_transformer.dart:15:7: Error: The non-abstract class 'CaptureStreamTransformer' is missing implementations for these members:\n  'cast'.\nTry to either\n - provide an implementation,\n - inherit an implementation from a superclass or mixin,\n - mark the class as abstract, or\n - provide a 'noSuchMethod' implementation.\n\nclass CaptureStreamTransformer&lt;T&gt; implements StreamTransformer&lt;T, Result&lt;T&gt;&gt; {\n      ^^^^^^^^^^^^^^^^^^^^^^^^\nfile:///home/andy/.pub-cache/hosted/pub.dartlang.org/async-1.13.3/lib/src/result/release_transformer.dart:12:7: Error: The non-abstract class 'ReleaseStreamTransformer' is missing implementations for these members:\n  'cast'.\nTry to either\n - provide an implementation,\n - inherit an implementation from a superclass or mixin,\n - mark the class as abstract, or\n - provide a 'noSuchMethod' implementation.\n\nclass ReleaseStreamTransformer&lt;T&gt; implements StreamTransformer&lt;Result&lt;T&gt;, T&gt; {\n      ^^^^^^^^^^^^^^^^^^^^^^^^\nfile:///home/andy/.pub-cache/hosted/pub.dartlang.org/async-1.13.3/lib/src/single_subscription_transformer.dart:16:7: Error: The non-abstract class 'SingleSubscriptionTransformer' is missing implementations for these members:\n  'cast'.\nTry to either\n - provide an implementation,\n - inherit an implementation from a superclass or mixin,\n - mark the class as abstract, or\n - provide a 'noSuchMethod' implementation.\n\nclass SingleSubscriptionTransformer&lt;S, T&gt; implements StreamTransformer&lt;S, T&gt; {\n      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nfile:///home/andy/.pub-cache/hosted/pub.dartlang.org/async-1.13.3/lib/src/typed_stream_transformer.dart:23:7: Error: The non-abstract class '_TypeSafeStreamTransformer' is missing implementations for these members:\n  'cast'.\nTry to either\n - provide an implementation,\n - inherit an implementation from a superclass or mixin,\n - mark the class as abstract, or\n - provide a 'noSuchMethod' implementation.\n\nclass _TypeSafeStreamTransformer&lt;S, T&gt; implements StreamTransformer&lt;S, T&gt; {\n      ^^^^^^^^^^^^^^^^^^^^^^^^^^\n</code></pre>\n\n<p>Am I doing something wrong in my <code>pubspec.yaml</code>, or is there an issue with <code>async</code> or another package? This project has worked fine for about 4 years now, but I can't get it to work in Dart 2. Any help is appreciated.</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 10096107, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Tt3uW-jwmpY/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qhvdzGtK9IQVKsg9wMewQS7YfLRA/mo/photo.jpg?sz=128", "display_name": "Daniel Santiago Muoz Jaramillo", "link": "https://stackoverflow.com/users/10096107/daniel-santiago-muoz-jaramillo"}, "edited": false, "score": 0, "creation_date": 1531921554, "post_id": 51391070, "comment_id": 89778204, "body": "Thank you for answering, although i&#39;m stuck in the 4th step, could you please post an example so i can follow it?"}, {"owner": {"reputation": 18691, "user_id": 2461957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba93508b1cdbe37fd102cff4982e0d47?s=128&d=identicon&r=PG", "display_name": "boformer", "link": "https://stackoverflow.com/users/2461957/boformer"}, "reply_to_user": {"reputation": 143, "user_id": 10096107, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Tt3uW-jwmpY/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qhvdzGtK9IQVKsg9wMewQS7YfLRA/mo/photo.jpg?sz=128", "display_name": "Daniel Santiago Muoz Jaramillo", "link": "https://stackoverflow.com/users/10096107/daniel-santiago-muoz-jaramillo"}, "edited": false, "score": 0, "creation_date": 1531959365, "post_id": 51391070, "comment_id": 89796846, "body": "added an example (although I also linked one)"}, {"owner": {"reputation": 18691, "user_id": 2461957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba93508b1cdbe37fd102cff4982e0d47?s=128&d=identicon&r=PG", "display_name": "boformer", "link": "https://stackoverflow.com/users/2461957/boformer"}, "reply_to_user": {"reputation": 143, "user_id": 10096107, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Tt3uW-jwmpY/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qhvdzGtK9IQVKsg9wMewQS7YfLRA/mo/photo.jpg?sz=128", "display_name": "Daniel Santiago Muoz Jaramillo", "link": "https://stackoverflow.com/users/10096107/daniel-santiago-muoz-jaramillo"}, "edited": false, "score": 0, "creation_date": 1556447380, "post_id": 51391070, "comment_id": 98435736, "body": "Someone suggested an edit where the TextEditingControllers are disposed in the dispose() method. While it is good practice to dispose controllers, it is not necessary (look at the source code of the controller), so I rejected it."}, {"owner": {"reputation": 142, "user_id": 4085588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-hTLKEfAdzHg/AAAAAAAAAAI/AAAAAAAAABg/3ZgvUUToef4/photo.jpg?sz=128", "display_name": "KHALDOUN Mohsen", "link": "https://stackoverflow.com/users/4085588/khaldoun-mohsen"}, "edited": false, "score": 0, "creation_date": 1598259558, "post_id": 51391070, "comment_id": 112389158, "body": "How can I do that if i have a file called LoginUI.dart where I put login UI components and one on them is another file called LoginEmailTextfield.dart where I put LoginEmailTextfield properties and finally a loginBtn.dart where I put login button proprietes ? LoginEmailTextfield.dart &amp; loginBtn.dart  are imported in LoginUI.dart"}], "tags": [], "owner": {"reputation": 18691, "user_id": 2461957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba93508b1cdbe37fd102cff4982e0d47?s=128&d=identicon&r=PG", "display_name": "boformer", "link": "https://stackoverflow.com/users/2461957/boformer"}, "is_accepted": true, "score": 30, "last_activity_date": 1556447118, "last_edit_date": 1556447118, "creation_date": 1531866868, "answer_id": 51391070, "question_id": 51390824, "link": "https://stackoverflow.com/questions/51390824/capture-data-from-textformfield-on-flutter-for-http-post-request/51391070#51391070", "title": "Capture data from TextFormField on flutter for http POST request", "body": "<p>See <a href=\"https://flutter.io/cookbook/forms/retrieve-input/\" rel=\"noreferrer\">Retrieve the value of a text field</a>.</p>\n\n<ol>\n<li>Wrap a <code>StatefulWidget</code> around your form</li>\n<li>Add two <code>TextEditingController</code> fields in your <code>State</code>, one for each <code>TextFormField</code></li>\n<li>Pass the controllers to your form fields (<code>controller</code> constructor parameter)</li>\n<li>Retrieve the values, for example in a button click listener using <code>myController.text</code></li>\n</ol>\n\n<p>I'm not sure if you are also asking how to send a HTTP post request. </p>\n\n<p>Here is a very minimal example:</p>\n\n<pre><code>class LoginScreen extends StatefulWidget {\n  @override\n  State&lt;StatefulWidget&gt; createState() =&gt; _LoginScreenState();\n}\n\nclass _LoginScreenState extends State&lt;LoginScreen&gt; {\n\n  final _usernameController = TextEditingController();\n  final _passwordController = TextEditingController();\n\n  @override\n  Widget build(BuildContext context) {\n    return Column(\n      children: &lt;Widget&gt;[\n        TextFormField(controller: _usernameController,),\n        TextFormField(controller: _passwordController, obscureText: true,),\n        RaisedButton(\n          onPressed: _performLogin,\n          child: Text('Login'),\n        )\n      ],\n    );\n  }\n\n  void _performLogin() {\n    String username = _usernameController.text;\n    String password = _passwordController.text;\n\n    print('login attempt: $username with $password');\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 67096, "user_id": 265521, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/34a66330977044d70165288c56740d4b?s=128&d=identicon&r=PG", "display_name": "Timmmm", "link": "https://stackoverflow.com/users/265521/timmmm"}, "edited": false, "score": 2, "creation_date": 1577191005, "post_id": 51406586, "comment_id": 105116961, "body": "This seems simpler than using <code>TextEditingController</code>. Is there any reason to use that approach over this one?"}], "tags": [], "owner": {"reputation": 520, "user_id": 5853931, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-dWdEiG-YGD8/AAAAAAAAAAI/AAAAAAAACKE/8uupHOCuZ4U/photo.jpg?sz=128", "display_name": "Ali Turki", "link": "https://stackoverflow.com/users/5853931/ali-turki"}, "is_accepted": false, "score": 8, "last_activity_date": 1618235676, "last_edit_date": 1618235676, "creation_date": 1531930147, "answer_id": 51406586, "question_id": 51390824, "link": "https://stackoverflow.com/questions/51390824/capture-data-from-textformfield-on-flutter-for-http-post-request/51406586#51406586", "title": "Capture data from TextFormField on flutter for http POST request", "body": "<p>Here is a full example of a login Screen ... where you can validate inputs and submit the data after passing the validation.</p>\n<pre><code>import 'package:flutter/material.dart';\nimport '../mixins/validate_mixin.dart';\n\nclass LoginScreen extends StatefulWidget{\n  final GlobalKey&lt;ScaffoldState&gt; scaffoldKey;\n  LoginScreen(this.scaffoldKey);\n  @override\n  State&lt;StatefulWidget&gt; createState() {\n    return LoginScreenState(scaffoldKey);\n  }\n}\n\nclass LoginScreenState extends State&lt;LoginScreen&gt;  with ValidateMixin{\n  final formKey = GlobalKey&lt;FormState&gt;();\n  final GlobalKey&lt;ScaffoldState&gt; scaffoldKey;\n\n  LoginScreenState(this.scaffoldKey);\n\n  String _email;\n  String _password;\n\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n      margin: EdgeInsets.all(40.0),\n      child: Form(\n        key: formKey,\n        child: Column(\n          children: &lt;Widget&gt;[\n            emailField(),\n            passwordField(),\n            Container(margin: EdgeInsets.only(bottom: 25.0),),\n            submitButton(),\n          ],\n        ),\n      ),\n    );\n  }\n\n  Widget emailField() {\n    return TextFormField(\n      decoration: InputDecoration(hintText: 'ali@gmail.co', labelText: 'Email'),\n      keyboardType: TextInputType.emailAddress,\n      validator: validateEmail,\n      onSaved: (String value) {\n        _email = value;\n      },\n    );\n  }\n\n  Widget passwordField() {\n    return TextFormField(\n      obscureText: true,\n      decoration: InputDecoration(hintText: '*****', labelText: 'Password'),\n      onSaved: (String value) {\n        _password = value;\n      },\n    );\n  }\n\n  Widget submitButton() {\n    return RaisedButton.icon(\n      color: Colors.cyan[900],\n      textColor: Colors.white,\n      label: Text('Submit'),\n      icon: Icon(Icons.save), \n      onPressed: () {\n        final bool v = formKey.currentState.validate();\n        if (v) {\n          formKey.currentState.save();\n          _performLogin();\n          print('object');\n        }\n    },);\n  }\n\n  void _performLogin () {\n    var snackbar = new SnackBar(\n      content: Text('Email: $_email and Password $_password'),\n    );\n    scaffoldKey.currentState.showSnackBar(snackbar);\n  }\n}\n</code></pre>\n<p>You can back to the full example.\n<a href=\"https://github.com/anbturki/flutter_login_screen\" rel=\"nofollow noreferrer\">https://github.com/anbturki/flutter_login_screen</a></p>\n"}], "owner": {"reputation": 143, "user_id": 10096107, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Tt3uW-jwmpY/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qhvdzGtK9IQVKsg9wMewQS7YfLRA/mo/photo.jpg?sz=128", "display_name": "Daniel Santiago Muoz Jaramillo", "link": "https://stackoverflow.com/users/10096107/daniel-santiago-muoz-jaramillo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19615, "favorite_count": 3, "accepted_answer_id": 51391070, "answer_count": 2, "score": 11, "last_activity_date": 1618235676, "creation_date": 1531865085, "last_edit_date": 1531921323, "question_id": 51390824, "link": "https://stackoverflow.com/questions/51390824/capture-data-from-textformfield-on-flutter-for-http-post-request", "title": "Capture data from TextFormField on flutter for http POST request", "body": "<p>i am trying to make a login with flutter.\nI am consulting a web service.\nI want to send in the body of the Post request the username and the password from different TextFormField. how can i do that?\nHere is the code i've been working on.</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:device_id/device_id.dart';\nimport 'package:http/http.dart' as http;\n\nimport 'dart:async';\nimport 'dart:convert';\n\n\nclass SignIn extends StatefulWidget {\n  @override\n  _SignInState createState() =&gt; _SignInState();\n}\n\nclass _SignInState extends State&lt;SignIn&gt; {\n  Future&lt;String&gt; getData() async {\n    final response = await http.post(\n        Uri.encodeFull(\"The route i'm consulting),\n        body: {\n          \"username\": user,\n          \"password\": password\n        },\n</code></pre>\n\n<p>I want to retrieve the input texts from username and password TextFormField below in here</p>\n\n<pre><code>        headers: {\n          \"Accept\": \"application/json\",\n        });\n    print(response.statusCode);\n    print(response.body);\n  }\n\n  String _deviceid = 'Unknown';\n  String user = '';\n  String password = '';\n\n  TextEditingController controller = new TextEditingController();\n  TextEditingController controller2 = new TextEditingController();\n\n  @override\n  void dispose() {\n    controller.dispose();\n    controller2.dispose();\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n     username = TextFormField(\n</code></pre>\n\n<p>This is the first TextFormField i want to retrieve to send it in the body of the request</p>\n\n<pre><code>      controller: controller,\n      keyboardType: TextInputType.text,\n      autofocus: false,\n      decoration: InputDecoration(\n          hintText: \"Username\",\n          hintStyle: TextStyle(fontSize: 16.0),\n          contentPadding: EdgeInsets.fromLTRB(20.0, 0.0, 20.0, 10.0),\n          border:\n              UnderlineInputBorder(borderRadius: BorderRadius.circular(32.0))),\n    );\n    final password = TextFormField(\n</code></pre>\n\n<p>This is the second TextFormField i want to retrieve to send it in the body of the request</p>\n\n<pre><code>      controller: controller2,\n      autofocus: false,\n      obscureText: true,\n      decoration: InputDecoration(\n          hintText: \"Password\",\n          hintStyle: TextStyle(fontSize: 16.0),\n          contentPadding: EdgeInsets.fromLTRB(20.0, 25.0, 20.0, 10.0),\n          border:\n              UnderlineInputBorder(borderRadius: BorderRadius.circular(32.0))),\n    );\n\n    final loginButton = Padding(\n      padding: EdgeInsets.symmetric(vertical: 25.0),\n      child: Material(\n        borderRadius: BorderRadius.circular(30.0),\n        shadowColor: Colors.blueAccent.shade100,\n        elevation: 10.0,\n        child: MaterialButton(\n          minWidth: 200.0,\n          height: 42.0,\n          color: Colors.blueAccent,\n          onPressed: (){\n\n          },\n          child: Text(\n            \"Login\",\n            style: TextStyle(color: Colors.white),\n          ),\n        ),\n      ),\n    );\n\n    return Form(\n      child: new Center(\n        child: ListView(\n            padding: EdgeInsets.only(left: 24.0, right: 24.0, top: 10.0),\n            children: &lt;Widget&gt;[\n              username,\n              SizedBox(height: 8.0),\n              password,\n              SizedBox(height: 24.0),\n              loginButton\n            ]),\n      ),\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["firebase", "firebase-realtime-database", "dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 1491, "user_id": 9356153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FKw6H.jpg?s=128&g=1", "display_name": "DomingoMG", "link": "https://stackoverflow.com/users/9356153/domingomg"}, "edited": false, "score": 0, "creation_date": 1532085829, "post_id": 51392941, "comment_id": 89852732, "body": "I have deleted the order of the line, but it still gives the same problem.  Here is a clear example of how I record the firebase data: 1&#186; After being registered, it is messing me up. <a href=\"https://gyazo.com/c80b86a77d8f8db35d1be16b0712a3e0\" rel=\"nofollow noreferrer\">gyazo.com/c80b86a77d8f8db35d1be16b0712a3e0</a>  2&#186; A photo of how the data registered in Firebase looks. <a href=\"https://gyazo.com/2b272dfa41d4c4f30e3f86f3d9909dfb\" rel=\"nofollow noreferrer\">gyazo.com/2b272dfa41d4c4f30e3f86f3d9909dfb</a>  3&#186; If we compare the 1st and 3rd is not the same order. <a href=\"https://gyazo.com/845fa21b93e4aa7fe094250e64c47084\" rel=\"nofollow noreferrer\">gyazo.com/845fa21b93e4aa7fe094250e64c47084</a>"}, {"owner": {"reputation": 2224, "user_id": 7940500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TSHV3.jpg?s=128&g=1", "display_name": "Aman Malhotra", "link": "https://stackoverflow.com/users/7940500/aman-malhotra"}, "reply_to_user": {"reputation": 1491, "user_id": 9356153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FKw6H.jpg?s=128&g=1", "display_name": "DomingoMG", "link": "https://stackoverflow.com/users/9356153/domingomg"}, "edited": false, "score": 0, "creation_date": 1532086172, "post_id": 51392941, "comment_id": 89852894, "body": "when you are sending a single  message then why is your database updating two values ?? can you open those messages to show what exactly they are . i mean u are sending one message but your database is receiving 2 ."}, {"owner": {"reputation": 1491, "user_id": 9356153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FKw6H.jpg?s=128&g=1", "display_name": "DomingoMG", "link": "https://stackoverflow.com/users/9356153/domingomg"}, "edited": false, "score": 0, "creation_date": 1532086201, "post_id": 51392941, "comment_id": 89852912, "body": "I still think that it is not a problem of the application, but of the part of firebase.  Firebase is messing up my records."}, {"owner": {"reputation": 1491, "user_id": 9356153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FKw6H.jpg?s=128&g=1", "display_name": "DomingoMG", "link": "https://stackoverflow.com/users/9356153/domingomg"}, "edited": false, "score": 0, "creation_date": 1532086270, "post_id": 51392941, "comment_id": 89852946, "body": "I&#39;m simulating a conversation in two phones but does not follow the order when leaving the application"}], "tags": [], "owner": {"reputation": 2224, "user_id": 7940500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TSHV3.jpg?s=128&g=1", "display_name": "Aman Malhotra", "link": "https://stackoverflow.com/users/7940500/aman-malhotra"}, "is_accepted": false, "score": 1, "last_activity_date": 1531882788, "creation_date": 1531882788, "answer_id": 51392941, "question_id": 51390515, "link": "https://stackoverflow.com/questions/51390515/flutter-firebase-realtime-messy-chat/51392941#51392941", "title": "Flutter: Firebase Realtime messy chat", "body": "<p>I cant try your code but what i think is that the issue you are having is in this line </p>\n\n<pre><code>sort: (a, b) =&gt; b.key.compareTo(a.key),\n</code></pre>\n\n<p>Try and change this sort or just remove it if it isnt a necessary property of the respective widget and try to run your code again . the rearrangement in you whole code is only possible from this bit of code . I dont see any error otherwise. that could cause this .</p>\n"}, {"comments": [{"owner": {"reputation": 449, "user_id": 10854681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HaPsL.jpg?s=128&g=1", "display_name": "Syed Mushaheed", "link": "https://stackoverflow.com/users/10854681/syed-mushaheed"}, "edited": false, "score": 0, "creation_date": 1574205454, "post_id": 51469790, "comment_id": 104147044, "body": "How does <code>sort: (a, b) =&gt; b.key.compareTo(a.key)</code> work?"}], "tags": [], "owner": {"reputation": 1491, "user_id": 9356153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FKw6H.jpg?s=128&g=1", "display_name": "DomingoMG", "link": "https://stackoverflow.com/users/9356153/domingomg"}, "is_accepted": true, "score": 0, "last_activity_date": 1533119994, "last_edit_date": 1533119994, "creation_date": 1532298941, "answer_id": 51469790, "question_id": 51390515, "link": "https://stackoverflow.com/questions/51390515/flutter-firebase-realtime-messy-chat/51469790#51469790", "title": "Flutter: Firebase Realtime messy chat", "body": "<pre><code>query: itemRef.orderByChild(\"message_id\"),\n</code></pre>\n\n<p>I made use of <strong>orderByChild</strong> (\"<strong>message_id</strong>\"), where message_id contains the <strong>date</strong> and <strong>time</strong>, and I ordered it.</p>\n\n<pre><code>message_id = ServerValue.timestamp;\n</code></pre>\n\n<p>FirebaseAnimatedList add this line:</p>\n\n<pre><code>    sort: (a, b) =&gt; b.value['message_id'].toString().compareTo(a.value['message_id'].toString()),\n</code></pre>\n"}], "owner": {"reputation": 1491, "user_id": 9356153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FKw6H.jpg?s=128&g=1", "display_name": "DomingoMG", "link": "https://stackoverflow.com/users/9356153/domingomg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2036, "favorite_count": 1, "accepted_answer_id": 51469790, "answer_count": 2, "score": 2, "last_activity_date": 1533119994, "creation_date": 1531863292, "last_edit_date": 1532087201, "question_id": 51390515, "link": "https://stackoverflow.com/questions/51390515/flutter-firebase-realtime-messy-chat", "title": "Flutter: Firebase Realtime messy chat", "body": "<p>I'm creating an application with flutter, I use the realtime firebase plugin.</p>\n\n<p><strong>Plugin Firebase Realtime:</strong> <a href=\"https://pub.dartlang.org/packages/firebase_database\" rel=\"nofollow noreferrer\">https://pub.dartlang.org/packages/firebase_database</a></p>\n\n<p>I'm building a chat where users can send messages.</p>\n\n<p>The first time is the right one but when I go back into the chat, the messages get messed up.</p>\n\n<p><a href=\"https://i.stack.imgur.com/wSGcq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wSGcq.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>class <strong>ChatScreenState</strong></p>\n\n<pre><code>class ChatScreenState extends State&lt;chatScreen&gt; {\nfinal TextEditingController _textController = new TextEditingController();\nbool _isTyping = false;\n// Firebase Database Chats\nList&lt;ChatsItems&gt; items = List();\nChatsItems item;\nDatabaseReference itemRef;\n\n@override\nvoid initState() {\n  super.initState();\n\n  // Chats\n  item = ChatsItems(\"\",\"\",\"\");\n  final FirebaseDatabase database = FirebaseDatabase.instance;\n  itemRef = database.reference().child(player_game_platform).child(\"CHAT\");\n\n  itemRef.onChildAdded.listen(_onEntryAdded);\n  itemRef.onChildChanged.listen(_onEntryChanged);\n}\n\n\n// Chats\n_onEntryAdded(Event event) {\n  setState(() {\n    items.add(ChatsItems.fromSnapshot(event.snapshot));\n});\n}\n\n_onEntryChanged(Event event) {\n  var old = items.singleWhere((entry) {\n    return entry.key == event.snapshot.key;\n});\nsetState(() {\n  items[items.indexOf(old)] = ChatsItems.fromSnapshot(event.snapshot);\n});\n}\n\n\n@override\nWidget build(BuildContext context) {\nreturn new Scaffold(\n  appBar: new AppBar(\n    title: new Text(\"Flutter Chat\"),\n    elevation: Theme.of(context).platform == TargetPlatform.iOS ? 0.0 : 4.0,\n  ),\n  body: new Container(\n      child: new Column(\n        children: &lt;Widget&gt;[\n          new Flexible(\n              child: new FirebaseAnimatedList(\n                query: itemRef,\n                sort: (a, b) =&gt; b.key.compareTo(a.key),\n                padding: new EdgeInsets.all(8.0),\n                reverse: true,\n                itemBuilder: (_, DataSnapshot snapshot, Animation&lt;double&gt; animation, int index) {\n                  return new ChatMessage(\n                      snapshot: snapshot,\n                      animation: animation,\n                  );\n                },\n              )\n          ),\n          new Divider(height: 1.0),\n          new Container(\n            decoration: new BoxDecoration(\n                color: Theme.of(context).cardColor),\n            child: _buildTestComposer(),\n          ),\n        ],\n      ),\n      decoration: Theme.of(context).platform == TargetPlatform.iOS ? new BoxDecoration(border: new Border(top: new BorderSide(color: Colors.grey[200]))) : null),//new\n);\n} \n\n\nWidget _buildTestComposer() {\nreturn new IconTheme(\n    data: new IconThemeData(color: Theme.of(context).accentColor),\n    child: new Container(\n      margin: const EdgeInsets.symmetric(horizontal: 8.0),\n      child: new Row(\n          children: &lt;Widget&gt;[\n            new Flexible(\n              child: new TextField(\n                controller: _textController,\n                onChanged: (String text) {\n                  setState(() {\n                    _isTyping = true;\n                  });\n                },\n                onSubmitted: _handleSubmitted,\n                decoration: new InputDecoration.collapsed(hintText: \"Introduzca su mensaje\"),\n              ),\n            ),\n            new Container(\n              margin: new EdgeInsets.symmetric(horizontal: 4.0),\n              child: Theme.of(context).platform == TargetPlatform.iOS ?\n              new CupertinoButton(\n                child: new Text(\"Enviar\"),\n                onPressed: _isTyping ? () =&gt;_handleSubmitted(_textController.text) : null,\n              ) :\n\n              new IconButton(\n                icon: new Icon(Icons.send),\n                onPressed: _isTyping ?\n                    () =&gt; _handleSubmitted(_textController.text) :\n                null,\n              ),\n            ),\n\n          ]\n      ),\n    )\n);\n}\n\nFuture&lt;Null&gt; _handleSubmitted(String player_message) async {\n_textController.clear();\nsetState(() {\n  _isTyping = false;\n});\n_sendMessage(\n  player_message:player_message,\n  player_avatar: player_avatar,\n  player_user: player_user,\n);\n}\n\nvoid _sendMessage({ String player_message, String player_avatar, String player_user, int player_id}) {\nitem.player_user = player_user;\nitem.player_avatar = player_avatar;\nitem.player_message = player_message;\nitemRef.push().set(item.toJson());\n}\n\n}\n</code></pre>\n\n<p>class <strong>ChatMessage</strong></p>\n\n<pre><code>class ChatMessage extends StatelessWidget {\nList&lt;ChatsItems&gt; items = List();\n\n\n@override\nWidget build(BuildContext context) {\nreturn new SizeTransition(\n    sizeFactor: new CurvedAnimation(\n        parent: animation,\n        curve: Curves.easeOut\n    ),\n    axisAlignment: 0.0,\n    child: new Container(\n      margin: const EdgeInsets.symmetric(vertical: 10.0),\n      child: new ListTile(\n        leading: new Container(\n          width: 60.0,\n          height: 60.0,\n          decoration: new BoxDecoration(\n            shape: BoxShape.circle,\n            image: new DecorationImage(\n                image: new AssetImage(items[contador].player_avatar),\n                fit: BoxFit.fill\n            ),\n            color: Colors.lightBlue,\n            border: Border.all(\n              color: Colors.black,\n              width: 2.0,\n            ),\n          ),\n        ),\n        title: new Text(items[contador].player_user, style: new TextStyle(color: Colors.black),),\n        subtitle: new Text(items[contador].player_message),\n      ),\n    )\n);\n}\n}\n</code></pre>\n\n<p>class <strong>ChatsItems</strong></p>\n\n<pre><code>class ChatsItems {\nString key;\nString player_user, player_message, player_avatar, message_id;\n\n  ChatsItems(\n      this.player_user,\n      this.player_avatar,\n      this.player_message,\n  );\n\n  ChatsItems.fromSnapshot(DataSnapshot snapshot)\n      : key = snapshot.key,\n        player_user = snapshot.value[\"player_user\"],\n        player_avatar = snapshot.value[\"player_avatar\"],\n        player_message = snapshot.value[\"player_message\"];\n\n\n  toJson() {\n    return {\n      \"player_user\": player_user,\n      \"player_avatar\": player_avatar,\n      \"player_message\": player_message,\n    };\n  }\n}\n</code></pre>\n\n<p>I hope to solve this problem, I appreciate any help, thanks.</p>\n\n<p>**</p>\n\n<h2>Updated July 20, 2018</h2>\n\n<p>**</p>\n\n<p>I have deleted the order of the line, but it still gives the same problem. Here is a clear example of how I record the firebase data: </p>\n\n<p>I'm simulating a conversation in two phones but does not follow the order when leaving the application</p>\n\n<p>1\u00ba After being registered, it is messing me up. <a href=\"https://www.gyazo.com/c80b86a77d8f8db35d1be16b0712a3e0\" rel=\"nofollow noreferrer\">https://www.gyazo.com/c80b86a77d8f8db35d1be16b0712a3e0</a> </p>\n\n<p>2\u00ba A photo of how the data registered in Firebase looks. <a href=\"https://www.gyazo.com/2b272dfa41d4c4f30e3f86f3d9909dfb\" rel=\"nofollow noreferrer\">https://www.gyazo.com/2b272dfa41d4c4f30e3f86f3d9909dfb</a></p>\n\n<p>3\u00ba The first chat that looks is the right one, when I re-open the chat I messed up, due to the registration disorder that firebase has made me</p>\n\n<p><a href=\"https://www.gyazo.com/845fa21b93e4aa7fe094250e64c47084\" rel=\"nofollow noreferrer\">https://www.gyazo.com/845fa21b93e4aa7fe094250e64c47084</a> </p>\n"}, {"tags": ["dart", "flutter", "dart-async"], "comments": [{"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1531862924, "post_id": 51390250, "comment_id": 89753018, "body": "why chain? why not do them all in parallel?"}, {"owner": {"reputation": 131, "user_id": 9995030, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2vHI38IHqpI/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3CLPKijlqxuyyWNLG5PDVKNeyRaQ/mo/photo.jpg?sz=128", "display_name": "Ryan Moeller", "link": "https://stackoverflow.com/users/9995030/ryan-moeller"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1531863063, "post_id": 51390250, "comment_id": 89753060, "body": "Doing the reads in parallel causes an exception to be thrown, so I cannot do them in parallel."}], "answers": [{"tags": [], "owner": {"reputation": 713, "user_id": 7823010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7RAvr.jpg?s=128&g=1", "display_name": "R. C. Howell", "link": "https://stackoverflow.com/users/7823010/r-c-howell"}, "is_accepted": false, "score": 5, "last_activity_date": 1531863194, "creation_date": 1531863194, "answer_id": 51390493, "question_id": 51390250, "link": "https://stackoverflow.com/questions/51390250/chaining-futures-do-not-execute-in-order/51390493#51390493", "title": "Chaining Futures Do Not Execute In Order", "body": "<p>If you would like to chain Futures, you must <code>return</code> the previous Future from within the <code>then</code> method of the previous Future.</p>\n\n<p>The documentation says to chain like so,</p>\n\n<pre><code>expensiveA()\n    .then((aValue) =&gt; expensiveB())\n    .then((bValue) =&gt; expensiveC())\n    .then((cValue) =&gt; doSomethingWith(cValue));\n</code></pre>\n\n<p>Which is the same as,</p>\n\n<pre><code>expensiveA()\n    .then((aValue) {\n        return expensiveB();\n    }).then((bValue) {\n        return expensiveC();\n    }).then((cValue) =&gt; doSomethingWith(cValue));\n</code></pre>\n\n<p>As this applies to your case,</p>\n\n<pre><code>readCharacteristic(scanDurationCharacteristic)\n    .then((list) {\n        sensorScanDuration = list[0].toDouble();\n        return readCharacteristic(scanPeriodCharacteristic);\n    }).then((list) {\n        sensorScanPeriod = list[0].toDouble());\n        return readCharacteristic(aggregateCharacteristic);\n    }).then((list) {\n        sensorAggregateCount = list[0].toDouble());\n        return readCharacteristic(appEUICharacteristic);\n    }).then((list) {\n        appEUI = decimalToHexString(list));\n        return readCharacteristic(devEUICharacteristic);\n    }).then((list) {\n        devEUI = decimalToHexString(list));\n        return readCharacteristic(appKeyCharacteristic);\n    }).then((list) =&gt; appKey = decimalToHexString(list));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "is_accepted": true, "score": 4, "last_activity_date": 1531863608, "last_edit_date": 1531863608, "creation_date": 1531863493, "answer_id": 51390560, "question_id": 51390250, "link": "https://stackoverflow.com/questions/51390250/chaining-futures-do-not-execute-in-order/51390560#51390560", "title": "Chaining Futures Do Not Execute In Order", "body": "<p>Although R.C Howell answer is correct, prefer using <code>async</code>/<code>await</code> keywords instead. This is much more readable and you're less likely to make an error</p>\n\n<pre><code>Future&lt;void&gt; scanBluetooth() async {\n  sensorScanDuration = (await readCharacteristic(scanDurationCharacteristic))[0].toDouble();\n  sensorScanPeriod = (await readCharacteristic(scanPeriodCharacteristic))[0].toDouble();\n  sensorAggregateCount = (await readCharacteristic(aggregateCharacteristic))[0].toDouble();\n  appEUI = await readCharacteristic(appEUICharacteristic).then(decimalToHexString);\n  devEUI = await readCharacteristic(devEUICharacteristic).then(decimalToHexString);\n  appKey = await readCharacteristic(appKeyCharacteristic).then(decimalToHexString);\n}\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 9995030, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2vHI38IHqpI/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3CLPKijlqxuyyWNLG5PDVKNeyRaQ/mo/photo.jpg?sz=128", "display_name": "Ryan Moeller", "link": "https://stackoverflow.com/users/9995030/ryan-moeller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1433, "favorite_count": 0, "accepted_answer_id": 51390560, "answer_count": 2, "score": 0, "last_activity_date": 1531863608, "creation_date": 1531861879, "question_id": 51390250, "link": "https://stackoverflow.com/questions/51390250/chaining-futures-do-not-execute-in-order", "title": "Chaining Futures Do Not Execute In Order", "body": "<p>I'm currently reading variables from a Bluetooth device. This obviously takes an undetermined amount of time, so I am using futures (This method is readCharacteristic in my code down below). </p>\n\n<p>More than one read operation cannot take place at a time - if a second read operation is started while a first operation is still in progress, Flutter will throw an error.</p>\n\n<p>My understanding was that chaining futures together using .then() would only allow the next statement to execute when the previous call had finished. This idea seems to be true until I try to read a third value - that is when the error is thrown, because of the overlapping read events.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>readCharacteristic(scanDurationCharacteristic)\n    .then((list) =&gt; sensorScanDuration = list[0].toDouble())\n    .then((_) {\n  readCharacteristic(scanPeriodCharacteristic)\n      .then((list) =&gt; sensorScanPeriod = list[0].toDouble());\n}).then((_) {\n  readCharacteristic(aggregateCharacteristic)\n      .then((list) =&gt; sensorAggregateCount = list[0].toDouble());\n}).then((_) {\n  readCharacteristic(appEUICharacteristic)\n      .then((list) =&gt; appEUI = decimalToHexString(list));\n}).then((_) {\n  readCharacteristic(devEUICharacteristic)\n      .then((list) =&gt; devEUI = decimalToHexString(list));\n}).then((_) {\n  readCharacteristic(appKeyCharacteristic)\n      .then((list) =&gt; appKey = decimalToHexString(list));\n});\n</code></pre>\n\n<p>What is a better way to ensure that these read events will not overlap?</p>\n"}, {"tags": ["dart", "flutter", "flutter-layout"], "answers": [{"tags": [], "owner": {"reputation": 2224, "user_id": 7940500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TSHV3.jpg?s=128&g=1", "display_name": "Aman Malhotra", "link": "https://stackoverflow.com/users/7940500/aman-malhotra"}, "is_accepted": true, "score": 1, "last_activity_date": 1531932876, "creation_date": 1531932876, "answer_id": 51407300, "question_id": 51390074, "link": "https://stackoverflow.com/questions/51390074/using-scopedmodel-to-filter-a-flutter-listview-throws-strange-error/51407300#51407300", "title": "Using ScopedModel to filter a Flutter ListView throws strange error", "body": "<p>You are missing a very small thing. <code>ListView.builder</code> takes a value <code>itemCount</code> that tells the length of list and you havent mentioned the value of <code>itemCount</code> for the <code>ListView.builder</code> so the compiler keeps on compiling the itemBuilder function again and again until it gives the error out of range. i.e if your list (filtered) is of length 2 then the error comes when the function runs with index value 2 i.e the 3rd element of list <code>filtered[2]</code>\nthat does not exist coz the filtered list is of length 2 \nwhat you need to do is this:- \nadd this property to your <code>ListView.builder</code> </p>\n\n<pre><code>itemCount : filtered.length,\n</code></pre>\n"}], "owner": {"reputation": 1272, "user_id": 568485, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/52e0c8bc6476aa3922c36f8031bf3b4d?s=128&d=identicon&r=PG", "display_name": "HBG", "link": "https://stackoverflow.com/users/568485/hbg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1129, "favorite_count": 0, "accepted_answer_id": 51407300, "answer_count": 1, "score": 0, "last_activity_date": 1531932876, "creation_date": 1531861015, "question_id": 51390074, "link": "https://stackoverflow.com/questions/51390074/using-scopedmodel-to-filter-a-flutter-listview-throws-strange-error", "title": "Using ScopedModel to filter a Flutter ListView throws strange error", "body": "<p>I have an app where I show a list of strings where the user can type into a <code>TextField</code> to filter the list items. I'm using <code>ScopedModel</code> to update the filters that I'll apply to the list based on what the user has typed in the parent widget.</p>\n\n<p>My <code>ScopedModel</code> works completely fine and I receive an update for each new letter typed.</p>\n\n<p>The issue I'm having is that when I update the list, I get successful filtering when I enter just one or two characters. If I enter three or more, I get an error that I'm not sure I can decipher correctly. I've tried this with lists of 20 items and lists of 2000 items and the result is the same in each case.</p>\n\n<p>Any idea what I'm doing wrong?</p>\n\n<pre><code>class MyListView extends StatefulWidget {\n  final String id;\n  final List&lt;Content&gt; items;\n\n  MyListView(this.id, this.items);\n\n  @override\n  State&lt;StatefulWidget&gt; createState() =&gt; _MyListViewState(id, items);\n}\n\nclass _MyListViewState extends State&lt;MyListView&gt; {\n  final String id;\n  List&lt;Content&gt; items;\n\n  _MyListViewState(this.id, this.items);\n\n  @override\n  Widget build(BuildContext context) {\n    return ScopedModelDescendant&lt;ContentListDisplayOptions&gt;(\n      builder: (context, child, model) {\n        List&lt;Content&gt; filtered = filter(model, items);\n        if(filtered == null || filtered.isEmpty) {\n          return Column(children: &lt;Widget&gt;[Text(\"empty\")]);\n        } else {\n          return ListView.builder(\n              itemBuilder: (BuildContext context, int index) {\n                return ListTile(\n                  title: Text(filtered[index].name),\n                );\n              });\n        }\n      },\n    );\n  }\n\n  List&lt;Content&gt; filter(\n      ContentListDisplayOptions model, List&lt;Content&gt; names) {\n    if (noSearchFilters(model)) {\n      return names;\n    }\n\n    return names\n        .where((i) =&gt; i.name.startsWith(model.filter.searchQuery))\n        .toList();\n  }\n\n  bool noSearchFilters(ContentListDisplayOptions model) =&gt;\n      model == null || model.filter == null || model.filter.searchQuery == null;\n}\n</code></pre>\n\n<p><strong>ContentListDisplayOptions</strong></p>\n\n<pre><code>class ContentListDisplayOptions extends Model {\n\n  Filter _filter;\n\n  Filter get filter =&gt; _filter;\n\n  void updateFilters(Filter filter) {\n    this._filter = filter;\n    notifyListeners();\n  }\n}\n\nclass Filter {\n\n  final String searchQuery;\n\n  Filter(this.searchQuery);\n\n}\n</code></pre>\n\n<p>The error manifests itself in a strange way too. It doesn't always take up the full screen:</p>\n\n<p><a href=\"https://i.stack.imgur.com/DgWeP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DgWeP.png\" alt=\"Error output\"></a></p>\n\n<p>Here's the stack trace:</p>\n\n<pre><code>flutter: \u2550\u2550\u2561 EXCEPTION CAUGHT BY WIDGETS LIBRARY \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nflutter: The following RangeError was thrown building MediaQuery(MediaQueryData(size: Size(375.0, 812.0),\nflutter: devicePixelRatio: 3.0, textScaleFactor: 1.0, padding: EdgeInsets.zero, viewInsets: EdgeInsets.zero,\nflutter: alwaysUse24HourFormat: false)):\nflutter: RangeError (index): Invalid value: Only valid value is 0: 1\nflutter:\nflutter: When the exception was thrown, this was the stack:\nflutter: #0      List.[] (dart:core/runtime/libgrowable_array.dart:141:60)\nflutter: #1      _MyListViewState.build.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:my_app/names/names_list.dart:33:39)\nflutter: #2      SliverChildBuilderDelegate.build (package:flutter/src/widgets/sliver.dart:197:20)\nflutter: #3      SliverMultiBoxAdaptorElement._build.&lt;anonymous closure&gt; (package:flutter/src/widgets/sliver.dart:716:67)\nflutter: #4      _HashMap.putIfAbsent (dart:collection/runtime/libcollection_patch.dart:143:29)\nflutter: #5      SliverMultiBoxAdaptorElement._build (package:flutter/src/widgets/sliver.dart:716:26)\nflutter: #6      SliverMultiBoxAdaptorElement.performRebuild (package:flutter/src/widgets/sliver.dart:702:69)\nflutter: #7      SliverMultiBoxAdaptorElement.update (package:flutter/src/widgets/sliver.dart:671:7)\nflutter: #8      Element.updateChild (package:flutter/src/widgets/framework.dart:2699:15)\nflutter: #9      ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:3653:16)\nflutter: #10     Element.rebuild (package:flutter/src/widgets/framework.dart:3495:5)\nflutter: #11     ProxyElement.update (package:flutter/src/widgets/framework.dart:3909:5)\nflutter: #12     Element.updateChild (package:flutter/src/widgets/framework.dart:2699:15)\nflutter: #13     SingleChildRenderObjectElement.update (package:flutter/src/widgets/framework.dart:4661:14)\nflutter: #14     Element.updateChild (package:flutter/src/widgets/framework.dart:2699:15)\nflutter: #15     RenderObjectElement.updateChildren (package:flutter/src/widgets/framework.dart:4379:32)\nflutter: #16     MultiChildRenderObjectElement.update (package:flutter/src/widgets/framework.dart:4769:17)\nflutter: #17     _ViewportElement.update (package:flutter/src/widgets/viewport.dart:192:11)\nflutter: #18     Element.updateChild (package:flutter/src/widgets/framework.dart:2699:15)\nflutter: #19     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:3653:16)\nflutter: #20     Element.rebuild (package:flutter/src/widgets/framework.dart:3495:5)\nflutter: #21     ProxyElement.update (package:flutter/src/widgets/framework.dart:3909:5)\nflutter: #22     Element.updateChild (package:flutter/src/widgets/framework.dart:2699:15)\nflutter: #23     SingleChildRenderObjectElement.update (package:flutter/src/widgets/framework.dart:4661:14)\nflutter: #24     Element.updateChild (package:flutter/src/widgets/framework.dart:2699:15)\nflutter: #25     SingleChildRenderObjectElement.update (package:flutter/src/widgets/framework.dart:4661:14)\nflutter: #26     Element.updateChild (package:flutter/src/widgets/framework.dart:2699:15)\nflutter: #27     SingleChildRenderObjectElement.update (package:flutter/src/widgets/framework.dart:4661:14)\nflutter: #28     Element.updateChild (package:flutter/src/widgets/framework.dart:2699:15)\nflutter: #29     SingleChildRenderObjectElement.update (package:flutter/src/widgets/framework.dart:4661:14)\nflutter: #30     Element.updateChild (package:flutter/src/widgets/framework.dart:2699:15)\nflutter: #31     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:3653:16)\nflutter: #32     Element.rebuild (package:flutter/src/widgets/framework.dart:3495:5)\nflutter: #33     StatefulElement.update (package:flutter/src/widgets/framework.dart:3799:5)\nflutter: #34     Element.updateChild (package:flutter/src/widgets/framework.dart:2699:15)\nflutter: #35     SingleChildRenderObjectElement.update (package:flutter/src/widgets/framework.dart:4661:14)\nflutter: #36     Element.updateChild (package:flutter/src/widgets/framework.dart:2699:15)\nflutter: #37     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:3653:16)\nflutter: #38     Element.rebuild (package:flutter/src/widgets/framework.dart:3495:5)\nflutter: #39     StatefulElement.update (package:flutter/src/widgets/framework.dart:3799:5)\nflutter: #40     Element.updateChild (package:flutter/src/widgets/framework.dart:2699:15)\nflutter: #41     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:3653:16)\nflutter: #42     Element.rebuild (package:flutter/src/widgets/framework.dart:3495:5)\nflutter: #43     ProxyElement.update (package:flutter/src/widgets/framework.dart:3909:5)\nflutter: #44     Element.updateChild (package:flutter/src/widgets/framework.dart:2699:15)\nflutter: #45     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:3653:16)\nflutter: #46     Element.rebuild (package:flutter/src/widgets/framework.dart:3495:5)\nflutter: #47     StatelessElement.update (package:flutter/src/widgets/framework.dart:3702:5)\nflutter: #48     Element.updateChild (package:flutter/src/widgets/framework.dart:2699:15)\nflutter: #49     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:3653:16)\nflutter: #50     Element.rebuild (package:flutter/src/widgets/framework.dart:3495:5)\nflutter: #51     BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:2242:33)\nflutter: #52     _WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding&amp;PaintingBinding&amp;RendererBinding&amp;WidgetsBinding.drawFrame (package:flutter/src/widgets/binding.dart:626:20)\nflutter: #53     _WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding&amp;PaintingBinding&amp;RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:208:5)\nflutter: #54     _WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:990:15)\nflutter: #55     _WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:930:9)\nflutter: #56     _WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding._handleDrawFrame (package:flutter/src/scheduler/binding.dart:842:5)\nflutter: #57     _invoke (dart:ui/hooks.dart:120:13)\nflutter: #58     _drawFrame (dart:ui/hooks.dart:109:3)\nflutter: \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nflutter: Another exception was thrown: A RenderSliverPadding expected a child of type RenderSliver but received a child of type RenderErrorBox.\nflutter: Another exception was thrown: 'package:flutter/src/widgets/framework.dart': Failed assertion: line 3497 pos 14: 'owner._debugCurrentBuildTarget == this': is not true.\nflutter: Another exception was thrown: 'package:flutter/src/widgets/framework.dart': Failed assertion: line 3497 pos 14: 'owner._debugCurrentBuildTarget == this': is not true.\nflutter: Another exception was thrown: 'package:flutter/src/widgets/framework.dart': Failed assertion: line 3497 pos 14: 'owner._debugCurrentBuildTarget == this': is not true.\nflutter: Another exception was thrown: 'package:flutter/src/widgets/framework.dart': Failed assertion: line 3497 pos 14: 'owner._debugCurrentBuildTarget == this': is not true.\nflutter: Another exception was thrown: 'package:flutter/src/widgets/framework.dart': Failed assertion: line 3497 pos 14: 'owner._debugCurrentBuildTarget == this': is not true.\nflutter: Another exception was thrown: 'package:flutter/src/widgets/framework.dart': Failed assertion: line 3497 pos 14: 'owner._debugCurrentBuildTarget == this': is not true.\n</code></pre>\n"}, {"tags": ["json", "api", "post", "dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 713, "user_id": 7823010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7RAvr.jpg?s=128&g=1", "display_name": "R. C. Howell", "link": "https://stackoverflow.com/users/7823010/r-c-howell"}, "is_accepted": false, "score": 0, "last_activity_date": 1531860650, "last_edit_date": 1531860650, "creation_date": 1531860186, "answer_id": 51389905, "question_id": 51389491, "link": "https://stackoverflow.com/questions/51389491/how-to-make-post-to-a-external-api-with-methods-and-data-by-dart/51389905#51389905", "title": "How To Make Post To A External API With Methods And Data By Dart", "body": "<p>Could you please provide more details on the API?</p>\n\n<p>Imagine your API takes data like so, <a href=\"http://localhost:3000\" rel=\"nofollow noreferrer\">http://localhost:3000</a></p>\n\n<p>You can make the request as follows</p>\n\n<pre><code>  Future&lt;String&gt; create(String text) async {\n    HttpClient client = new HttpClient();\n    try {\n      HttpClientRequest req = await client.post('localhost', 3000, '/');\n      req.headers.contentType = new ContentType(\"application\", \"json\", charset: \"utf-8\");\n      req.write('{\"key\":\"value\"}');\n      HttpClientResponse res = await req.close();\n      if (res.statusCode == HttpStatus.CREATED) return await res.transform(UTF8.decoder).join();\n      else throw('Http Error: ${res.statusCode}');\n    } catch (exception) {\n      throw(exception.toString());\n    }\n}\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<p>If you would like to post a Map (created from whatever json you have), you can use the <code>http</code> package. <a href=\"https://pub.dartlang.org/packages/http\" rel=\"nofollow noreferrer\">https://pub.dartlang.org/packages/http</a></p>\n\n<p>import 'package:http/http.dart' as http;</p>\n\n<pre><code>String url = \"http://example.com/whatsit/create\";\nhttp.post(url, body: {\"name\": \"doodle\", \"color\": \"blue\"})\n    .then((response) {\n  print(\"Response status: ${response.statusCode}\");\n  print(\"Response body: ${response.body}\");\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19333, "user_id": 4511702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8D658.jpg?s=128&g=1", "display_name": "Raouf Rahiche", "link": "https://stackoverflow.com/users/4511702/raouf-rahiche"}, "is_accepted": false, "score": 1, "last_activity_date": 1531861022, "creation_date": 1531861022, "answer_id": 51390077, "question_id": 51389491, "link": "https://stackoverflow.com/questions/51389491/how-to-make-post-to-a-external-api-with-methods-and-data-by-dart/51390077#51390077", "title": "How To Make Post To A External API With Methods And Data By Dart", "body": "<p>you need to be more specif about the API and what you want to send. this is a simple example from the <a href=\"https://pub.dartlang.org/packages/http\" rel=\"nofollow noreferrer\">HTTP client library</a></p>\n\n<pre><code>import 'package:http/http.dart' as http;\n\nvar url = \"http://example.com/whatsit/create\";\nhttp.post(url, body: {\"name\": \"doodle\", \"color\": \"blue\"})\n    .then((response) {\n  print(\"Response status: ${response.statusCode}\");\n  print(\"Response body: ${response.body}\");\n});\n\nhttp.read(\"http://example.com/foobar.txt\").then(print);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 157, "user_id": 6520704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP94i.jpg?s=128&g=1", "display_name": "Yousuf AL-Mawali", "link": "https://stackoverflow.com/users/6520704/yousuf-al-mawali"}, "is_accepted": false, "score": 0, "last_activity_date": 1531964452, "creation_date": 1531964452, "answer_id": 51413165, "question_id": 51389491, "link": "https://stackoverflow.com/questions/51389491/how-to-make-post-to-a-external-api-with-methods-and-data-by-dart/51413165#51413165", "title": "How To Make Post To A External API With Methods And Data By Dart", "body": "<p>I recommend using this packages <a href=\"https://pub.dartlang.org/packages/dio\" rel=\"nofollow noreferrer\">dio package</a></p>\n\n<p>doing post will be like this :</p>\n\n<pre><code>Future&lt;List&gt; postDataFromURL_list(String url, Map map) async {\n    // TODO: implement postDataFromURL_list\n    Response response;\n    Dio dio = new Dio();\n    FormData formData = new FormData.from(map);\n\n    response = await dio.post(url, data: formData);\n\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6165, "user_id": 10005707, "user_type": "registered", "profile_image": "https://graph.facebook.com/1752900328133019/picture?type=large", "display_name": "Jaswant Singh", "link": "https://stackoverflow.com/users/10005707/jaswant-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1533236507, "last_edit_date": 1533236507, "creation_date": 1533236092, "answer_id": 51660414, "question_id": 51389491, "link": "https://stackoverflow.com/questions/51389491/how-to-make-post-to-a-external-api-with-methods-and-data-by-dart/51660414#51660414", "title": "How To Make Post To A External API With Methods And Data By Dart", "body": "<p>For REST API calls I prefer to use a library named <a href=\"https://pub.dartlang.org/packages/dio\" rel=\"nofollow noreferrer\">Dio</a>. Its way too easy to make GET, POST, PUT, DELETE etc calls using Dio.</p>\n\n<p>For Example </p>\n\n<pre><code>import 'package:dio/dio.dart';\n\n   //Now like this\n\nvoid _makeApiCall() async {\n   Dio dio = new Dio();\n   Response apiResponse = await dio.get('${YOUR URL}?id=$id'); //Where id is just a parameter in GET api call\n   print(apiResponse.data.toString());\n}\n</code></pre>\n\n<p>And If you want to make a POST call and you need to send Form data with that do like this</p>\n\n<pre><code>void _makeApiCall() async {\n   Dio dio = new Dio();\n   FormData formData = FromData.from({\n    name : \"name\",\n    password: \"your password\",\n   }); // where name and password are api parameters\n   Response apiResponse = await dio.post('${YOUR URL}', data: formData); \n   print(apiResponse.data.toString());\n}\n</code></pre>\n\n<p>Also you can map the received data into so called POJOs for better handling and usage.\nIf you want to know how to map the data into POJO (Objects), Just let me know.</p>\n"}], "owner": {"reputation": 93, "user_id": 9863180, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fAlG.jpg?s=128&g=1", "display_name": "Karim Mohamed", "link": "https://stackoverflow.com/users/9863180/karim-mohamed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2307, "favorite_count": 1, "accepted_answer_id": 51660414, "answer_count": 4, "score": 1, "last_activity_date": 1533236507, "creation_date": 1531858332, "question_id": 51389491, "link": "https://stackoverflow.com/questions/51389491/how-to-make-post-to-a-external-api-with-methods-and-data-by-dart", "title": "How To Make Post To A External API With Methods And Data By Dart", "body": "<p>I Have A Web Service And Want To Post Data By Flutter Dart json In My WebService API Link </p>\n"}, {"tags": ["dart", "angular-dart"], "answers": [{"comments": [{"owner": {"reputation": 1804, "user_id": 5846565, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/zihvw.jpg?s=128&g=1", "display_name": "Tushar Rai", "link": "https://stackoverflow.com/users/5846565/tushar-rai"}, "edited": false, "score": 1, "creation_date": 1531884710, "post_id": 51389178, "comment_id": 89758030, "body": "Dart VM version: 1.24.3 (Wed Dec 13 18:05:29 2017) on &quot;windows_x64&quot;"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 1804, "user_id": 5846565, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/zihvw.jpg?s=128&g=1", "display_name": "Tushar Rai", "link": "https://stackoverflow.com/users/5846565/tushar-rai"}, "edited": false, "score": 0, "creation_date": 1531918776, "post_id": 51389178, "comment_id": 89776038, "body": "Angular 5 requires Dart 2. <a href=\"https://webdev.dartlang.org/tools/sdk#install\" rel=\"nofollow noreferrer\">webdev.dartlang.org/tools/sdk#install</a> shows how to install Dart 2 dev channel (no final available yet)."}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 0, "last_activity_date": 1531856917, "creation_date": 1531856917, "answer_id": 51389178, "question_id": 51388936, "link": "https://stackoverflow.com/questions/51388936/angulardart-tour-of-heroes-tutorial-throws-an-error-hero-isnt-a-function/51389178#51389178", "title": "AngularDart tour of heroes tutorial throws an error &#39;Hero&#39; isn&#39;t a function?", "body": "<p>Sounds like you are using a too old Dart version that still requires the now optional <code>new</code></p>\n"}, {"comments": [{"owner": {"reputation": 1804, "user_id": 5846565, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/zihvw.jpg?s=128&g=1", "display_name": "Tushar Rai", "link": "https://stackoverflow.com/users/5846565/tushar-rai"}, "edited": false, "score": 0, "creation_date": 1531884706, "post_id": 51389210, "comment_id": 89758027, "body": "Dart VM version: 1.24.3 (Wed Dec 13 18:05:29 2017) on &quot;windows_x64&quot;"}, {"owner": {"reputation": 12020, "user_id": 3046255, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c735441a8f71994ab500ce5e599b7fda?s=128&d=identicon&r=PG", "display_name": "Patrice Chalin", "link": "https://stackoverflow.com/users/3046255/patrice-chalin"}, "reply_to_user": {"reputation": 1804, "user_id": 5846565, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/zihvw.jpg?s=128&g=1", "display_name": "Tushar Rai", "link": "https://stackoverflow.com/users/5846565/tushar-rai"}, "edited": false, "score": 0, "creation_date": 1531950690, "post_id": 51389210, "comment_id": 89794544, "body": "I&#39;ve edited my answer to provide a link to the Angular 4 version of the tutorial. Use that version of the app sources if you want to keep working with Dart 1.24.3. But I&#39;d recommend you use Angular 2 and Dart 2."}], "tags": [], "owner": {"reputation": 12020, "user_id": 3046255, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c735441a8f71994ab500ce5e599b7fda?s=128&d=identicon&r=PG", "display_name": "Patrice Chalin", "link": "https://stackoverflow.com/users/3046255/patrice-chalin"}, "is_accepted": false, "score": 0, "last_activity_date": 1531950631, "last_edit_date": 1531950631, "creation_date": 1531857011, "answer_id": 51389210, "question_id": 51388936, "link": "https://stackoverflow.com/questions/51388936/angulardart-tour-of-heroes-tutorial-throws-an-error-hero-isnt-a-function/51389210#51389210", "title": "AngularDart tour of heroes tutorial throws an error &#39;Hero&#39; isn&#39;t a function?", "body": "<p>It seems like you are using a Angular 5 / Dart 2 version of the tutorial under Dart 1. Which version of the Dart SDK are you using? (Run: <code>dart --version</code>).</p>\n\n<p>I'd suggest using <strong>Angular 2 and Dart 2</strong>.</p>\n\n<p>If you want to use <strong>Dart 1.24.3</strong>, then you'll need the <a href=\"https://webdev-angular4-dartlang-org.firebaseapp.com/angular/tutorial\" rel=\"nofollow noreferrer\">Angular 4 version of the tutorial</a>.</p>\n"}], "owner": {"reputation": 1804, "user_id": 5846565, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/zihvw.jpg?s=128&g=1", "display_name": "Tushar Rai", "link": "https://stackoverflow.com/users/5846565/tushar-rai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 51389178, "answer_count": 2, "score": 1, "last_activity_date": 1531950631, "creation_date": 1531855825, "question_id": 51388936, "link": "https://stackoverflow.com/questions/51388936/angulardart-tour-of-heroes-tutorial-throws-an-error-hero-isnt-a-function", "title": "AngularDart tour of heroes tutorial throws an error &#39;Hero&#39; isn&#39;t a function?", "body": "<p>error: 'Hero' isn't a function. (invocation_of_non_function at [angular_dart_tour_of_heroes] lib\\app_component.dart:18)</p>\n\n<p>hero.dart</p>\n\n<pre><code>class Hero {\n  final int id;\n  String name;\n\n  Hero(this.id, this.name);\n}\n</code></pre>\n\n<p>app_component.dart</p>\n\n<pre><code>import 'package:angular/angular.dart';\nimport 'package:angular_components/angular_components.dart';\n\nimport 'hero.dart';\n\n@Component(\n  selector: 'my-app',\n  styleUrls: const ['app_component.css'],\n  templateUrl: 'app_component.html',\n  directives: const [materialDirectives,],\n  providers: const [materialProviders],\n)\nclass AppComponent {\n  final title = 'Tour of Heroes';\n  Hero hero = Hero(1, 'Windstorm');\n\n}\n</code></pre>\n\n<p>app_component.html</p>\n\n<pre><code>&lt;h1&gt;{{title}}&lt;/h1&gt;\n&lt;h2&gt;{{hero.name}}&lt;/h2&gt;\n&lt;div&gt;&lt;label&gt;id: &lt;/label&gt;{{hero.id}}&lt;/div&gt;\n&lt;div&gt;&lt;label&gt;name: &lt;/label&gt;{{hero.name}}&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["dart", "angular-dart", "dart-pub"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1531848336, "post_id": 51387133, "comment_id": 89746178, "body": "What Dart version are you using? Perhaps you are using a package that is not prepared for Dart 2?"}, {"owner": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1531848420, "post_id": 51387133, "comment_id": 89746226, "body": "I am using pub 1.24.3"}, {"owner": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1531868995, "post_id": 51387133, "comment_id": 89754791, "body": "@G&#252;nterZ&#246;chbauer I was noticing that during the get process, it was never populating the .pub folder with the packages necessary to run.  It seems that the reason why those libraries dont exist because within the confines of the Project, they dont.  Somewhere within Pub I noticed it would get the packages, but it never saved them locally for some reason."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1531918738, "post_id": 51387133, "comment_id": 89776007, "body": "You shouldn&#39;t have to do anything with the <code>.pub</code> folder. That is maintained by <code>pub</code>. Perhaps you get an error when you run <code>pub get</code>/<code>pub upgrade</code>."}, {"owner": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1531961123, "post_id": 51387133, "comment_id": 89797222, "body": "You are correct.  In some instances, get will eventually fail due to packages.  The issue which i have found odd is that a colleague with the same code has it work correctly. The fail to get was occuring during the LibraryBuilder phase of get.  Thats why i am confused.  Maybe there is something prior to it that is inhibiting .pub to properly populate.  Ill have to do more research into it.  Very odd if you ask me."}], "owner": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1531848676, "creation_date": 1531848262, "last_edit_date": 1531848676, "question_id": 51387133, "link": "https://stackoverflow.com/questions/51387133/pub-get-doesnt-build-pub-folder-and-will-then-cause-library-build-errors", "title": "`pub get` doesnt build .pub folder, and will then cause library build errors", "body": "<p>I cloned down a repo and afterwards, I run pub get as usual.  The issue I have run into is that pub get will fail.  I looked at the errors which say:</p>\n\n<pre><code>[BuilderTransformer: Instance of 'LibraryBuilder' on MY_PACKAGE|primary]:\n| Error running TemplateGenerator for MY_PACKAGE|lib/src/components/datetime/pickers/datetime_range/datetime_range_picker.dart.\n| Error: NoSuchMethodError: The getter 'library' was called on null.\n| Receiver: null\n| Tried calling: library\n</code></pre>\n\n<p>And What I determined is that when looking at the .pub directory, it was actually empty.</p>\n\n<p>Does anyone know why this would be?  I am thinking that this is the reason why this error is called, because the path doesnt exist.</p>\n\n<p>Assume: no ~/.pub-cache, ./.pub/, ./.packages</p>\n\n<p>I can get additional information, but the dump from -v is very large.</p>\n\n<p>When looking at a child project as a dependancy, it properly created the folder .pub/</p>\n\n<p>Is there any insight from you all?</p>\n"}, {"tags": ["database", "sqlite", "flutter", "dart", "sqflite"], "answers": [{"comments": [{"owner": {"reputation": 2107, "user_id": 9989514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbf63c873cc48b4fdccdadefb4ec3025?s=128&d=identicon&r=PG&f=1", "display_name": "Mfreeman", "link": "https://stackoverflow.com/users/9989514/mfreeman"}, "edited": false, "score": 0, "creation_date": 1531845052, "post_id": 51384987, "comment_id": 89744482, "body": "Ok so what i did was do a mysql dump and used that .db as a document asset, how would i query against that file? Not to list it but for it to show up in the terminal"}, {"owner": {"reputation": 1998, "user_id": 3123267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xEX7t.jpg?s=128&g=1", "display_name": "Yamin", "link": "https://stackoverflow.com/users/3123267/yamin"}, "reply_to_user": {"reputation": 2107, "user_id": 9989514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbf63c873cc48b4fdccdadefb4ec3025?s=128&d=identicon&r=PG&f=1", "display_name": "Mfreeman", "link": "https://stackoverflow.com/users/9989514/mfreeman"}, "edited": false, "score": 0, "creation_date": 1531894168, "post_id": 51384987, "comment_id": 89760566, "body": "R. C. Howell&#39;s answer is complete for using SQL and CSV file. But I recommend using JSON using key-value pairs. If you&#39;re interested in using that tell me to edit my answer and add JSON way."}], "tags": [], "owner": {"reputation": 1998, "user_id": 3123267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xEX7t.jpg?s=128&g=1", "display_name": "Yamin", "link": "https://stackoverflow.com/users/3123267/yamin"}, "is_accepted": false, "score": 1, "last_activity_date": 1531840625, "creation_date": 1531840625, "answer_id": 51384987, "question_id": 51384175, "link": "https://stackoverflow.com/questions/51384175/sqlite-in-flutter-how-database-assets-work/51384987#51384987", "title": "Sqlite in flutter, how database assets work", "body": "<p>This .db file is used to save SQL data in it.so you could be able to save and get data with SQL commands. The plugin itself will parse the data in the .db file.</p>\n\n<p>If you want to save your data as CSV and parse it in class, it's better to store data in the raw file (Look <a href=\"https://flutter.io/cookbook/persistence/reading-writing-files/\" rel=\"nofollow noreferrer\">here</a> for saving file) or use <a href=\"https://pub.dartlang.org/packages/csv\" rel=\"nofollow noreferrer\">this plugin</a>.\nAlthough, there are some other ways as save data as JSON file or save it in a <a href=\"https://flutter.io/cookbook/persistence/key-value/\" rel=\"nofollow noreferrer\">key-value pair</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 2107, "user_id": 9989514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbf63c873cc48b4fdccdadefb4ec3025?s=128&d=identicon&r=PG&f=1", "display_name": "Mfreeman", "link": "https://stackoverflow.com/users/9989514/mfreeman"}, "edited": false, "score": 0, "creation_date": 1531858854, "post_id": 51387985, "comment_id": 89751239, "body": "You might need to edit &quot;.import data.csv&quot; to &quot;.import data.csv users&quot; . Syntax says it needs a table"}, {"owner": {"reputation": 2107, "user_id": 9989514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbf63c873cc48b4fdccdadefb4ec3025?s=128&d=identicon&r=PG&f=1", "display_name": "Mfreeman", "link": "https://stackoverflow.com/users/9989514/mfreeman"}, "edited": false, "score": 0, "creation_date": 1531861078, "post_id": 51387985, "comment_id": 89752254, "body": "I am using android studio and when i use the .db file under assets, it says that .db isnt associated with any file type"}, {"owner": {"reputation": 713, "user_id": 7823010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7RAvr.jpg?s=128&g=1", "display_name": "R. C. Howell", "link": "https://stackoverflow.com/users/7823010/r-c-howell"}, "reply_to_user": {"reputation": 2107, "user_id": 9989514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbf63c873cc48b4fdccdadefb4ec3025?s=128&d=identicon&r=PG&f=1", "display_name": "Mfreeman", "link": "https://stackoverflow.com/users/9989514/mfreeman"}, "edited": false, "score": 1, "creation_date": 1531861151, "post_id": 51387985, "comment_id": 89752290, "body": "That is correct. The file extension is not necessary. You could change .db to .sqlite3 (which I believe is common) or you could drop it altogether. That is a non-critical warning. You can see in the sqflite readme that the author uses &quot;.db&quot; as well."}, {"owner": {"reputation": 2107, "user_id": 9989514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbf63c873cc48b4fdccdadefb4ec3025?s=128&d=identicon&r=PG&f=1", "display_name": "Mfreeman", "link": "https://stackoverflow.com/users/9989514/mfreeman"}, "edited": false, "score": 0, "creation_date": 1531861354, "post_id": 51387985, "comment_id": 89752381, "body": "ok so now im getting an encoding error it says &quot;file was loaded in the wrong encoding: &#39;utf-8&#39;&quot;,"}, {"owner": {"reputation": 2107, "user_id": 9989514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbf63c873cc48b4fdccdadefb4ec3025?s=128&d=identicon&r=PG&f=1", "display_name": "Mfreeman", "link": "https://stackoverflow.com/users/9989514/mfreeman"}, "edited": false, "score": 0, "creation_date": 1531861433, "post_id": 51387985, "comment_id": 89752412, "body": "what should this db file look like exactly because im getting a lot of weird characters within it"}, {"owner": {"reputation": 713, "user_id": 7823010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7RAvr.jpg?s=128&g=1", "display_name": "R. C. Howell", "link": "https://stackoverflow.com/users/7823010/r-c-howell"}, "reply_to_user": {"reputation": 2107, "user_id": 9989514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbf63c873cc48b4fdccdadefb4ec3025?s=128&d=identicon&r=PG&f=1", "display_name": "Mfreeman", "link": "https://stackoverflow.com/users/9989514/mfreeman"}, "edited": false, "score": 1, "creation_date": 1531862451, "post_id": 51387985, "comment_id": 89752833, "body": "It is a sqlite database file. It is a binary. You are getting an error because it is not encoded in utf-8. If you attempt to open it in a text editor, you will see many weird characters because the editor is attempting to decode what should not be decoded. Please follow the steps I&#39;ve provided you. You can interact with your database by running <code>sqlite3 database.db</code> which will provide you with a sqlite prompt."}, {"owner": {"reputation": 676, "user_id": 6423542, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zHRI5xIh4Sk/AAAAAAAAAAI/AAAAAAAAABg/8V9OTa_bahM/photo.jpg?sz=128", "display_name": "Bryon Nicoson", "link": "https://stackoverflow.com/users/6423542/bryon-nicoson"}, "edited": false, "score": 1, "creation_date": 1537928937, "post_id": 51387985, "comment_id": 91958313, "body": "This answer is excellent.  Note that <code>FileSystemEntityType.NOT_FOUND</code> has been <b>deprecated</b>.  Use <code>FileSystemEntityType.notFound</code>."}, {"owner": {"reputation": 4351, "user_id": 3826232, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/odxpv.jpg?s=128&g=1", "display_name": "iKK", "link": "https://stackoverflow.com/users/3826232/ikk"}, "edited": false, "score": 0, "creation_date": 1552241144, "post_id": 51387985, "comment_id": 96926128, "body": "question: is the copy from asset folder to application-documents folder needed if I only read data from the SQLite DB ?? (i.e. no writing to DB needed). Is it possible to read SQLite data directly from the assets-bundle location (without copying to application-documents folder beforehand) ?"}, {"owner": {"reputation": 1757, "user_id": 3846715, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/89L8K.jpg?s=128&g=1", "display_name": "akshay bhange", "link": "https://stackoverflow.com/users/3846715/akshay-bhange"}, "edited": false, "score": 0, "creation_date": 1559309790, "post_id": 51387985, "comment_id": 99390766, "body": "&#39;Unhandled Exception: Unable to load asset: assets/mydatabase.sql&#39; at line ByteData data = await rootBundle.load(join(&#39;assets&#39;, &#39;mydatabase.sql&#39;));"}, {"owner": {"reputation": 450, "user_id": 1168075, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/88eecac05dbde1f88f3e481f847ec84c?s=128&d=identicon&r=PG", "display_name": "Alicester4WonderlandPresident", "link": "https://stackoverflow.com/users/1168075/alicester4wonderlandpresident"}, "edited": false, "score": 0, "creation_date": 1560117163, "post_id": 51387985, "comment_id": 99622350, "body": "what is rootBundle? How do I init it?"}, {"owner": {"reputation": 1355, "user_id": 8346770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cde873809b130126e10e52e251697b7?s=128&d=identicon&r=PG&f=1", "display_name": "Taba", "link": "https://stackoverflow.com/users/8346770/taba"}, "edited": false, "score": 0, "creation_date": 1593762299, "post_id": 51387985, "comment_id": 110897721, "body": "would you please take a look at this question too?  <a href=\"https://stackoverflow.com/questions/62697002/how-to-update-preloaded-asset-sqflite-database-flutter\" title=\"how to update preloaded asset sqflite database flutter\">stackoverflow.com/questions/62697002/&hellip;</a>"}], "tags": [], "owner": {"reputation": 713, "user_id": 7823010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7RAvr.jpg?s=128&g=1", "display_name": "R. C. Howell", "link": "https://stackoverflow.com/users/7823010/r-c-howell"}, "is_accepted": true, "score": 30, "last_activity_date": 1537929463, "last_edit_date": 1537929463, "creation_date": 1531851605, "answer_id": 51387985, "question_id": 51384175, "link": "https://stackoverflow.com/questions/51384175/sqlite-in-flutter-how-database-assets-work/51387985#51387985", "title": "Sqlite in flutter, how database assets work", "body": "<p>First off, you will need to construct a sqlite database from your csv. This can be done in the following way:</p>\n\n<ol>\n<li><p>Create the necessary table (users.sql)</p>\n\n<pre><code>CREATE TABLE users(\n   firstname TEXT NOT NULL,\n   lastname TEXT NOT NULL,\n   dob TEXT NOT NULL\n);\n</code></pre></li>\n<li><p>Create the sqlite database</p>\n\n<pre><code>sqlite3 database.db &lt; users.sql\n</code></pre></li>\n<li><p>Insert the csv data</p>\n\n<pre><code>sqlite3 database.db\n.mode csv\n.import data.csv users\n</code></pre></li>\n<li><p>Put database.db into your assets and add that in pubspec.yaml.</p>\n\n<pre><code>flutter:\n  # ...\n  assets:\n    - assets/database.db\n</code></pre></li>\n<li><p>In your app, you'll have to copy the asset file into \"documents\". This is slightly complicated.</p>\n\n<pre><code>// Construct a file path to copy database to\nDirectory documentsDirectory = await getApplicationDocumentsDirectory();\nString path = join(documentsDirectory.path, \"asset_database.db\");\n\n// Only copy if the database doesn't exist\nif (FileSystemEntity.typeSync(path) == FileSystemEntityType.notFound){\n  // Load database from asset and copy\n  ByteData data = await rootBundle.load(join('assets', 'database.db'));\n  List&lt;int&gt; bytes = data.buffer.asUint8List(data.offsetInBytes, data.lengthInBytes);\n\n  // Save copied asset to documents\n  await new File(path).writeAsBytes(bytes);\n}\n</code></pre></li>\n<li><p>Lastly, you can access the database like so.</p>\n\n<pre><code>Directory appDocDir = await getApplicationDocumentsDirectory();\nString databasePath = join(appDocDir.path, 'asset_database.db');\nthis.db = await openDatabase(databasePath);\ninitialized = true;\n</code></pre></li>\n<li><p>Example query (this._initialize() is step 6)</p>\n\n<pre><code>Future&lt;List&lt;Page&gt;&gt; search(String word, int parentId) async {\n    if (!initialized) await this._initialize();\n    String query = '''\n      SELECT * FROM users\n      LIMIT 25''';\n    return await this.db.rawQuery(query);\n}\n</code></pre></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 1355, "user_id": 8346770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cde873809b130126e10e52e251697b7?s=128&d=identicon&r=PG&f=1", "display_name": "Taba", "link": "https://stackoverflow.com/users/8346770/taba"}, "edited": false, "score": 0, "creation_date": 1593640245, "post_id": 61085034, "comment_id": 110855395, "body": "Is it possible to update that db? Im using the same method to open the db but when I update it, no error occurs but data doesnt change... any idea?"}], "tags": [], "owner": {"reputation": 33554, "user_id": 436341, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fy1Dv.png?s=128&g=1", "display_name": "live-love", "link": "https://stackoverflow.com/users/436341/live-love"}, "is_accepted": false, "score": 1, "last_activity_date": 1586277752, "creation_date": 1586277752, "answer_id": 61085034, "question_id": 51384175, "link": "https://stackoverflow.com/questions/51384175/sqlite-in-flutter-how-database-assets-work/61085034#61085034", "title": "Sqlite in flutter, how database assets work", "body": "<p>Add the asset in your file system at the root of your project. Create an assets folder and put your db file in it:</p>\n\n<pre><code>assets/examples.db\n</code></pre>\n\n<p>Specify the asset(s) in your pubspec.yaml in the flutter section</p>\n\n<pre><code>flutter:\n\n  assets:\n\n    - assets/example.db\n</code></pre>\n\n<p>Then you will need to open the database if it exists, or copy if it doesn't.</p>\n\n<p>The link here shows the code to open/copy a pre-existing sqlite database:</p>\n\n<p><a href=\"https://github.com/tekartik/sqflite/blob/master/sqflite/doc/opening_asset_db.md\" rel=\"nofollow noreferrer\">https://github.com/tekartik/sqflite/blob/master/sqflite/doc/opening_asset_db.md</a></p>\n"}], "owner": {"reputation": 2107, "user_id": 9989514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbf63c873cc48b4fdccdadefb4ec3025?s=128&d=identicon&r=PG&f=1", "display_name": "Mfreeman", "link": "https://stackoverflow.com/users/9989514/mfreeman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13762, "favorite_count": 11, "accepted_answer_id": 51387985, "answer_count": 3, "score": 10, "last_activity_date": 1607660174, "creation_date": 1531838321, "last_edit_date": 1607660174, "question_id": 51384175, "link": "https://stackoverflow.com/questions/51384175/sqlite-in-flutter-how-database-assets-work", "title": "Sqlite in flutter, how database assets work", "body": "<p>I am looking at this (<a href=\"https://github.com/tekartik/sqflite/blob/master/doc/opening_asset_db.md\" rel=\"nofollow noreferrer\">https://github.com/tekartik/sqflite/blob/master/doc/opening_asset_db.md</a>) for populating data that is already formatted and need for the app, for read functionality only.</p>\n<p>So my understanding of creating an SQLite database when we already have all the information in an outside CSV file is to, create the class models in a .dart file in my app, such as</p>\n<pre><code>class User {\n\n  int id;\n  String _firstName;\n  String _lastName;\n  String _dob;\n\n  User(this._firstName, this._lastName, this._dob);\n\n  User.map(dynamic obj) {\n    this._firstName = obj[&quot;firstname&quot;];\n    this._lastName = obj[&quot;lastname&quot;];\n    this._dob = obj[&quot;dob&quot;];\n  }\n\n  String get firstName =&gt; _firstName;\n\n  String get lastName =&gt; _lastName;\n\n  String get dob =&gt; _dob;\n\n  Map&lt;String, dynamic&gt; toMap() {\n    var map = new Map&lt;String, dynamic&gt;();\n    map[&quot;firstname&quot;] = _firstName;\n    map[&quot;lastname&quot;] = _lastName;\n    map[&quot;dob&quot;] = _dob;\n    return map;\n  }\n  void setUserId(int id) {\n    this.id = id;\n  }\n}\n</code></pre>\n<p>then if I have a CSV file with all the user information inside of it (with values that correspond to the user class), could I be using the database asset to have that fill out the information and then call to it inside of the flutter app? I realize there are probably many ways to go about this, but What exactly is the .db file storing, and how is it formatted? Can i implement a .csv file into this .db file?</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1613825951, "post_id": 51382721, "comment_id": 117198806, "body": "Interesting ! but how to change font size ?"}], "tags": [], "owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "is_accepted": true, "score": 9, "last_activity_date": 1531834317, "creation_date": 1531834317, "answer_id": 51382721, "question_id": 51382553, "link": "https://stackoverflow.com/questions/51382553/flutter-theme-not-applied-to-text-widget/51382721#51382721", "title": "Flutter: Theme not applied to Text Widget", "body": "<p>To theme a <code>Text</code> you need to assign the value to <code>style</code> property</p>\n\n<pre><code>Text(\"Hello\", style: Theme.of(context).textTheme.body1)\n</code></pre>\n\n<p>Make sure to use the correct <code>context</code> when doing <code>Theme.of(context)</code>. You need a <code>context</code> that is a child of your new <code>Theme</code>.</p>\n\n<p>You'll need to do the following :</p>\n\n<pre><code> Theme(\n     child: Builder(\n       builder: (context) {\n         return Text(\"Hello\", style: Theme.of(context).textTheme.body1);\n       }\n     )\n  )\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 729, "user_id": 10059717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTCH2.png?s=128&g=1", "display_name": "Kirill Shashov", "link": "https://stackoverflow.com/users/10059717/kirill-shashov"}, "is_accepted": false, "score": 6, "last_activity_date": 1531836278, "last_edit_date": 1531836278, "creation_date": 1531835600, "answer_id": 51383209, "question_id": 51382553, "link": "https://stackoverflow.com/questions/51382553/flutter-theme-not-applied-to-text-widget/51383209#51383209", "title": "Flutter: Theme not applied to Text Widget", "body": "<p>This is another way, because sometimes it's more convenient to override the default style</p>\n\n<p><strong>Text widget:</strong></p>\n\n<blockquote>\n  <p>If the <code>style</code> argument is null, the text will use the style from the\n  closest enclosing <code>DefaultTextStyle</code>.</p>\n</blockquote>\n\n<pre><code>  @override\n  Widget build(BuildContext context) {\n    final DefaultTextStyle defaultTextStyle = DefaultTextStyle.of(context);\n    TextStyle effectiveTextStyle = style;\n    if (style == null || style.inherit)\n      effectiveTextStyle = defaultTextStyle.style.merge(style);\n</code></pre>\n\n<hr>\n\n<p>So, if you want to override the default style for the <code>Text</code> widget (when you do not pass the <code>style</code> property), you need to use the <code>DefaultTextStyle</code> widget</p>\n\n<pre><code>return new Scaffold(\n    appBar: new AppBar(\n      title: Text(widget.title),\n    ),\n    body: Center(\n        child: DefaultTextStyle(\n          style: Theme.of(context).textTheme.body1.copyWith(color: Colors.yellow), \n          child: Text(\"hello\"))\n        )\n);\n</code></pre>\n\n<h2><a href=\"https://i.stack.imgur.com/Oh1BB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Oh1BB.png\" alt=\"DefaultTextStyle\"></a></h2>\n\n<p><code>MaterialApp</code> uses its <code>TextStyle</code> as its <code>DefaultTextStyle</code> to encourage developers to be intentional about their <code>DefaultTextStyle</code></p>\n"}, {"tags": [], "owner": {"reputation": 14163, "user_id": 5106574, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-NCHwlqWjLo8/AAAAAAAAAAI/AAAAAAAAADY/SlsCrtUF90E/photo.jpg?sz=128", "display_name": "Jitesh Mohite", "link": "https://stackoverflow.com/users/5106574/jitesh-mohite"}, "is_accepted": false, "score": 0, "last_activity_date": 1594144926, "creation_date": 1594144926, "answer_id": 62781291, "question_id": 51382553, "link": "https://stackoverflow.com/questions/51382553/flutter-theme-not-applied-to-text-widget/62781291#62781291", "title": "Flutter: Theme not applied to Text Widget", "body": "<p>Latest Flutter Release mark <code>body1</code> has deprecated, so now we can use <code>bodyText2</code>:</p>\n<pre><code>Text(&quot;My Text&quot;, style: Theme.of(context).textTheme.bodyText2)\n</code></pre>\n<p><strong>New params(Right ones are new)</strong></p>\n<pre><code>body2 =&gt; bodyText1;\nbody1 =&gt; bodyText2;\n</code></pre>\n"}], "owner": {"reputation": 602, "user_id": 10093860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84bfe12a4c999473be2be923dea4fd57?s=128&d=identicon&r=PG&f=1", "display_name": "markt", "link": "https://stackoverflow.com/users/10093860/markt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5079, "favorite_count": 0, "accepted_answer_id": 51382721, "answer_count": 3, "score": 12, "last_activity_date": 1594144926, "creation_date": 1531833843, "question_id": 51382553, "link": "https://stackoverflow.com/questions/51382553/flutter-theme-not-applied-to-text-widget", "title": "Flutter: Theme not applied to Text Widget", "body": "<p>I am trying to make a custom theme that is applied to only the children of that theme. </p>\n\n<p>However when I run the app, the Text widget that displays \"hello\" is still blue. I want to make it yellow. </p>\n\n<p>Can anyone show me where i'm going wrong?</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(new MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      title: 'Flutter Demo',\n      theme: ThemeData(\n          brightness: Brightness.dark,\n          primaryColor: Colors.lightBlue[800],\n          accentColor: Colors.cyan[600],\n          textTheme: TextTheme(body1: TextStyle(color: Colors.blue))),\n      home: new MyHomePage(title: 'Flutter Demo Home Page'),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  MyHomePage({Key key, this.title}) : super(key: key);\n\n  final String title;\n\n  @override\n  _MyHomePageState createState() =&gt; new _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n        appBar: new AppBar(\n          title: Text(widget.title),\n        ),\n        body: Center(\n            child: Theme(\n                data: Theme.of(context).copyWith(\n                    textTheme:\n                        TextTheme(body1: TextStyle(color: Colors.yellow))),\n                child: Text(\"hello\"))));\n  }\n}\n</code></pre>\n"}, {"tags": ["flutter", "dart", "flutter-layout"], "comments": [{"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1531837592, "post_id": 51382348, "comment_id": 89739689, "body": "What do you mean by saying <i>&quot;widget is never drawn&quot;</i>? Is the error widget drawn?"}, {"owner": {"reputation": 729, "user_id": 10059717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTCH2.png?s=128&g=1", "display_name": "Kirill Shashov", "link": "https://stackoverflow.com/users/10059717/kirill-shashov"}, "edited": false, "score": 0, "creation_date": 1531837919, "post_id": 51382348, "comment_id": 89739944, "body": "I think you change the widget tree in your <code>FutureBuilder</code> and this leads to the rebuilding of the <code>LayoutBuilder</code>. As a result, this process is looped"}, {"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "reply_to_user": {"reputation": 729, "user_id": 10059717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTCH2.png?s=128&g=1", "display_name": "Kirill Shashov", "link": "https://stackoverflow.com/users/10059717/kirill-shashov"}, "edited": false, "score": 0, "creation_date": 1531846918, "post_id": 51382348, "comment_id": 89745466, "body": "@KirillShashov That is what I thought as well, but it does not seem like that from what I can see in the code."}, {"owner": {"reputation": 1729, "user_id": 1579939, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8529d416ed7ef60b7027d11b1e0ed22f?s=128&d=identicon&r=PG", "display_name": "Natwar Singh", "link": "https://stackoverflow.com/users/1579939/natwar-singh"}, "edited": false, "score": 0, "creation_date": 1532061791, "post_id": 51382348, "comment_id": 89840464, "body": "No, as you can see in the code sample the Image Painter is returned without any changes to widget tree. Its in a loop all the time."}, {"owner": {"reputation": 408, "user_id": 3954808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e97c724a884bad19ec6c0b308ab7840b?s=128&d=identicon&r=PG&f=1", "display_name": "Braj", "link": "https://stackoverflow.com/users/3954808/braj"}, "edited": false, "score": 0, "creation_date": 1577446807, "post_id": 51382348, "comment_id": 105172905, "body": "@NatwarSingh Were you able to solve it? I am facing similar issue."}, {"owner": {"reputation": 1729, "user_id": 1579939, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8529d416ed7ef60b7027d11b1e0ed22f?s=128&d=identicon&r=PG", "display_name": "Natwar Singh", "link": "https://stackoverflow.com/users/1579939/natwar-singh"}, "edited": false, "score": 0, "creation_date": 1577943050, "post_id": 51382348, "comment_id": 105285541, "body": "No. I have changed to layout completely as my use case is solved by Image and transform widget."}], "answers": [{"comments": [{"owner": {"reputation": 1729, "user_id": 1579939, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8529d416ed7ef60b7027d11b1e0ed22f?s=128&d=identicon&r=PG", "display_name": "Natwar Singh", "link": "https://stackoverflow.com/users/1579939/natwar-singh"}, "edited": false, "score": 0, "creation_date": 1591383130, "post_id": 61291559, "comment_id": 110045937, "body": "The issue is when you put Future builder inside a layout builder."}], "tags": [], "owner": {"reputation": 61, "user_id": 11718370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bd30a38c094f2106b3bf58239df72c5?s=128&d=identicon&r=PG&f=1", "display_name": "ritz", "link": "https://stackoverflow.com/users/11718370/ritz"}, "is_accepted": false, "score": -1, "last_activity_date": 1587223290, "creation_date": 1587223290, "answer_id": 61291559, "question_id": 51382348, "link": "https://stackoverflow.com/questions/51382348/futurebuilder-inside-a-layoutbuilder-call-future-many-times/61291559#61291559", "title": "FutureBuilder inside a LayoutBuilder call future many times", "body": "<pre><code>class ImagePainter extends StatelessWidget{\nFuture&lt;ui.Image&gt; loadImage() async {\nByteData data = await rootBundle.load(\"graphics/test.jpg\");\nif (data == null) {\n  print(\"data is null\");\n} else {\n  var codec = await ui.instantiateImageCodec(data.buffer.asUint8List());\n  var frame = await codec.getNextFrame();\n  return frame.image;\n}\n\n\n}\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n            child: FutureBuilder(\n    future: loadImage(),\n    builder: (BuildContext context, AsyncSnapshot&lt;ui.Image&gt; snapshot) {\n      switch(snapshot.connectionState) {\n        case ConnectionState.waiting : \n            print(\"data: ${snapshot.data}\");\n          //return Center(child: Text(\"loading...\"),);\n        default:\n          if (snapshot.hasError) {\n            return Center(child: Text(\"error: ${snapshot.error}\"),);\n          } /*else {\n            print(\"data: ${snapshot.data}\");\n            return Placeholder(); //just for testing\n           }*/\n         }\n        },\n      ),\n   );\n }\n}\n</code></pre>\n"}], "owner": {"reputation": 1729, "user_id": 1579939, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8529d416ed7ef60b7027d11b1e0ed22f?s=128&d=identicon&r=PG", "display_name": "Natwar Singh", "link": "https://stackoverflow.com/users/1579939/natwar-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1156, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1595946624, "creation_date": 1531833269, "last_edit_date": 1595946624, "question_id": 51382348, "link": "https://stackoverflow.com/questions/51382348/futurebuilder-inside-a-layoutbuilder-call-future-many-times", "title": "FutureBuilder inside a LayoutBuilder call future many times", "body": "<p>I just came to a situation while experimenting with <code>LayoutBuilder</code> and <code>FutureBuilder</code>. If I put the <code>FutureBuilder</code> inside a widget other than <code>LayoutBuilder</code> every thing is fine and future is resolved only once. But when I put <code>FutureBuilder</code> inside a <code>LayoutBuilder</code> the future is resolved infinitely and final widget is never drawn. </p>\n\n<pre><code>class MyApp extends StatelessWidget {\n\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      title: 'Photo View example',\n      theme: theme,\n      home: new Scaffold(\n        body: LayoutBuilder(\n          builder: (BuildContext context, BoxConstraints constraints) {\n            return ImagePainter();\n          }\n      ),\n      ),\n    );\n  }\n} \n\n\nclass ImagePainter extends StatelessWidget{\n  Future&lt;ui.Image&gt; loadImage() async {\n    ByteData data = await rootBundle.load(\"graphics/test.jpg\");\n    if (data == null) {\n      print(\"data is null\");\n    } else {\n      var codec = await ui.instantiateImageCodec(data.buffer.asUint8List());\n      var frame = await codec.getNextFrame();\n      return frame.image;\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n                child: FutureBuilder(\n        future: loadImage(),\n        builder: (BuildContext context, AsyncSnapshot&lt;ui.Image&gt; snapshot) {\n          switch(snapshot.connectionState) {\n            case ConnectionState.waiting : \n              return Center(child: Text(\"loading...\"),);\n            default:\n              if (snapshot.hasError) {\n                return Center(child: Text(\"error: ${snapshot.error}\"),);\n              } else {\n                print(\"data: ${snapshot.data}\");\n                return Placeholder(); //just for testing\n              }\n            }\n          },\n        ),\n    );\n  }\n}\n</code></pre>\n\n<p>So it can be explained?, Or I am doing some thing wrong.</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 1998, "user_id": 3123267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xEX7t.jpg?s=128&g=1", "display_name": "Yamin", "link": "https://stackoverflow.com/users/3123267/yamin"}, "edited": false, "score": 0, "creation_date": 1531836526, "post_id": 51378727, "comment_id": 89738902, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/48930372/flutter-collapsing-expansiontile-after-choosing-an-item\">Flutter - Collapsing ExpansionTile after choosing an item</a>"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1547805887, "post_id": 51378727, "comment_id": 95327319, "body": "Upvote <a href=\"https://github.com/flutter/flutter/issues/7024\" rel=\"nofollow noreferrer\">github.com/flutter/flutter/issues/7024</a>"}, {"owner": {"reputation": 2473, "user_id": 10159557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/533e013df6c77276026201635b59b8d5?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/10159557/nick"}, "edited": false, "score": 0, "creation_date": 1548830046, "post_id": 51378727, "comment_id": 95678455, "body": "I am getting error error: The argument type &#39;(Null) \u2192 Null&#39; can&#39;t be assigned to the parameter type &#39;(void) \u2192 dynamic&#39;. (argument_type_not_assignable at [capital_expansiontile] lib/main.dart:175). on _controller.reverse().then&lt;void&gt;((Null value)"}, {"owner": {"reputation": 802, "user_id": 2240957, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FEbsb.jpg?s=128&g=1", "display_name": "Mohsen Emami", "link": "https://stackoverflow.com/users/2240957/mohsen-emami"}, "reply_to_user": {"reputation": 2473, "user_id": 10159557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/533e013df6c77276026201635b59b8d5?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/10159557/nick"}, "edited": false, "score": 0, "creation_date": 1561874900, "post_id": 51378727, "comment_id": 100198229, "body": "@Nick remove the <code>Null</code> in parenthesis to solve the error"}, {"owner": {"reputation": 1706, "user_id": 6584292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f36a6fda1070ace216abe3c0982bb14?s=128&d=identicon&r=PG&f=1", "display_name": "praveen Dp", "link": "https://stackoverflow.com/users/6584292/praveen-dp"}, "edited": false, "score": 0, "creation_date": 1568023155, "post_id": 51378727, "comment_id": 102130001, "body": "@alex blaze did you find any solution for this issue using expanison tile?"}, {"owner": {"reputation": 1551, "user_id": 8406063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rp2Gy.jpg?s=128&g=1", "display_name": "axel blaze", "link": "https://stackoverflow.com/users/8406063/axel-blaze"}, "reply_to_user": {"reputation": 1706, "user_id": 6584292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f36a6fda1070ace216abe3c0982bb14?s=128&d=identicon&r=PG&f=1", "display_name": "praveen Dp", "link": "https://stackoverflow.com/users/6584292/praveen-dp"}, "edited": false, "score": 0, "creation_date": 1568030283, "post_id": 51378727, "comment_id": 102133286, "body": "@praveenDp using Global key also you can try this"}], "answers": [{"comments": [{"owner": {"reputation": 1834, "user_id": 1533368, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/QXzmg.jpg?s=128&g=1", "display_name": "Samarth Agarwal", "link": "https://stackoverflow.com/users/1533368/samarth-agarwal"}, "edited": false, "score": 1, "creation_date": 1537135939, "post_id": 51383677, "comment_id": 91662008, "body": "Do you also notice the additional margin on top of each ExpansionPanel when expanded? Can we get rid of it?"}, {"owner": {"reputation": 557, "user_id": 536339, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/208df3f08c22d9d74d9aaeb95633a971?s=128&d=identicon&r=PG", "display_name": "Ameer", "link": "https://stackoverflow.com/users/536339/ameer"}, "edited": false, "score": 0, "creation_date": 1552569518, "post_id": 51383677, "comment_id": 97066102, "body": "Any clue on how to overcome additional margin on expansion?"}, {"owner": {"reputation": 239, "user_id": 12192918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6badd5205d791a968ea7bddbe072d676?s=128&d=identicon&r=PG&f=1", "display_name": "Zhangir Siranov", "link": "https://stackoverflow.com/users/12192918/zhangir-siranov"}, "edited": false, "score": 0, "creation_date": 1572103898, "post_id": 51383677, "comment_id": 103460950, "body": "just convert the card to container"}, {"owner": {"reputation": 288, "user_id": 9166207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZrQiH.jpg?s=128&g=1", "display_name": "Hafiz Nordin", "link": "https://stackoverflow.com/users/9166207/hafiz-nordin"}, "edited": false, "score": 0, "creation_date": 1599017351, "post_id": 51383677, "comment_id": 112639576, "body": "Instead of having to maintain the active state in <code>expansionCallback</code>, you can use <code>ExpansionPanelList.radio</code> which accepts a list of <code>ExpansionPanelRadio</code> as its children. This will help you maintain the active state automatically. Refer to the <a href=\"https://api.flutter.dev/flutter/material/ExpansionPanelList/ExpansionPanelList.radio.html\" rel=\"nofollow noreferrer\">flutter documentation for example usage</a>."}], "tags": [], "owner": {"reputation": 1033, "user_id": 5689857, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a7e64ca6a93c5b1a163b6795cd760ef6?s=128&d=identicon&r=PG&f=1", "display_name": "Aravindh Kumar", "link": "https://stackoverflow.com/users/5689857/aravindh-kumar"}, "is_accepted": true, "score": 15, "last_activity_date": 1531836906, "creation_date": 1531836906, "answer_id": 51383677, "question_id": 51378727, "link": "https://stackoverflow.com/questions/51378727/flutter-expansiontile-expand-and-collapse-on-click/51383677#51383677", "title": "Flutter- ExpansionTile expand and collapse on click", "body": "<p>You can use ExpandablePanelList to do perform expand and collapse view. \nUse expansionCallback to maintain active state to perform expand or collapse.\nhere is the working example</p>\n\n<pre><code>class TestExpandableView extends StatefulWidget {\n  @override\n  _TestExpandableViewState createState() =&gt; _TestExpandableViewState();\n}\n\nclass _TestExpandableViewState extends State&lt;TestExpandableView&gt; {\n  int _activeMeterIndex;\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n      child: new ListView.builder(\n          itemCount:  2,\n          itemBuilder: (BuildContext context, int i) {\n            return Card(\n              margin:\n              const EdgeInsets.fromLTRB(10.0, 15.0, 10.0, 0.0),\n              child: new ExpansionPanelList(\n                expansionCallback: (int index, bool status) {\n                  setState(() {\n                    _activeMeterIndex = _activeMeterIndex == i ? null : i;\n                  });\n                },\n                children: [\n                  new ExpansionPanel(\n                      isExpanded: _activeMeterIndex == i,\n                      headerBuilder: (BuildContext context,\n                          bool isExpanded) =&gt;\n                      new Container(\n                          padding:\n                          const EdgeInsets.only(left: 15.0),\n                          alignment: Alignment.centerLeft,\n                          child: new Text(\n                            'list-$i',\n                          )),\n                      body: new Container(child: new Text('content-$i'),),),\n                ],\n              ),\n            );\n          }),\n    );\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32, "user_id": 6276410, "user_type": "registered", "profile_image": "https://graph.facebook.com/1286348424727058/picture?type=large", "display_name": "Kaptkaos", "link": "https://stackoverflow.com/users/6276410/kaptkaos"}, "is_accepted": false, "score": -2, "last_activity_date": 1578867171, "creation_date": 1578867171, "answer_id": 59708550, "question_id": 51378727, "link": "https://stackoverflow.com/questions/51378727/flutter-expansiontile-expand-and-collapse-on-click/59708550#59708550", "title": "Flutter- ExpansionTile expand and collapse on click", "body": "<p>I think you'll need to track the expansion state of each expansion tile individually. Something like:</p>\n\n<pre><code>Map&lt;String, bool&gt; expansionState = Map();\n</code></pre>\n\n<p>On initialization, you'll need to specify the keys and whether or not you want the associated expansion tile to show as opened or closed. In my code I have a List for the expansion tile names. On page load, I do the following:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>categoryList.forEach((name) {\n   expansionState.putIfAbsent(name, () =&gt; true);\n});\n</code></pre>\n\n<p>Then the builder simply refers to the expansionState:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Widget _buildCategory(String name, List&lt;OrderItem&gt; children) {\n    return ExpansionTile(\n      key: PageStorageKey&lt;String&gt;(name),\n      initiallyExpanded: expansionState[name], // true,\n      title: RichText(\n          text: TextSpan(\n        text: name,\n        style: TextStyle(\n            color: Colors.blue[800], fontSize: 16, fontWeight: FontWeight.bold),\n        children: &lt;TextSpan&gt;[\n          TextSpan(\n              text: ' - ' + children.length.toString() + ' items',\n              style: TextStyle(\n                  color: Colors.grey[800],\n                  fontSize: 16,\n                  fontWeight: FontWeight.normal)),\n        ],\n      )),\n      onExpansionChanged: ((newState) {\n        print(name + ' is now ' + newState.toString());\n        expansionState[name] = newState;\n      }),\n      children: children.map&lt;Widget&gt;(_buildChild).toList(),\n    );\n  }\n</code></pre>\n\n<p>At this point, you have the ability to add a button whose <code>onPressed()</code> method can manipulate the expansionState map any way you want inside of a <code>setState()</code> call. You could open them all, close them all, toggle their current states, etc.</p>\n"}, {"tags": [], "owner": {"reputation": 288, "user_id": 9166207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZrQiH.jpg?s=128&g=1", "display_name": "Hafiz Nordin", "link": "https://stackoverflow.com/users/9166207/hafiz-nordin"}, "is_accepted": false, "score": 1, "last_activity_date": 1599018180, "creation_date": 1599018180, "answer_id": 63698377, "question_id": 51378727, "link": "https://stackoverflow.com/questions/51378727/flutter-expansiontile-expand-and-collapse-on-click/63698377#63698377", "title": "Flutter- ExpansionTile expand and collapse on click", "body": "<p>Instead of having to maintain the active state in <code>expansionCallback</code> like @Aravindh Kumar did, you can use <code>ExpansionPanelList.radio</code> which accepts a list of <code>ExpansionPanelRadio</code> as its children. This widget allows for at most one panel in the list to be open and maintains the active state for you automatically.</p>\n<p>Refer to the <a href=\"https://api.flutter.dev/flutter/material/ExpansionPanelList/ExpansionPanelList.radio.html\" rel=\"nofollow noreferrer\">flutter documentation for example usage</a>.</p>\n<pre><code>// Flutter code sample for ExpansionPanelList.radio\n\n// Here is a simple example of how to implement ExpansionPanelList.radio.\n\nimport 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\n/// This Widget is the main application widget.\nclass MyApp extends StatelessWidget {\n  static const String _title = 'Flutter Code Sample';\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: _title,\n      home: Scaffold(\n        appBar: AppBar(title: const Text(_title)),\n        body: MyStatefulWidget(),\n      ),\n    );\n  }\n}\n\n// stores ExpansionPanel state information\nclass Item {\n  Item({\n    this.id,\n    this.expandedValue,\n    this.headerValue,\n  });\n\n  int id;\n  String expandedValue;\n  String headerValue;\n}\n\nList&lt;Item&gt; generateItems(int numberOfItems) {\n  return List.generate(numberOfItems, (int index) {\n    return Item(\n      id: index,\n      headerValue: 'Panel $index',\n      expandedValue: 'This is item number $index',\n    );\n  });\n}\n\nclass MyStatefulWidget extends StatefulWidget {\n  MyStatefulWidget({Key key}) : super(key: key);\n\n  @override\n  _MyStatefulWidgetState createState() =&gt; _MyStatefulWidgetState();\n}\n\nclass _MyStatefulWidgetState extends State&lt;MyStatefulWidget&gt; {\n  List&lt;Item&gt; _data = generateItems(8);\n\n  @override\n  Widget build(BuildContext context) {\n    return SingleChildScrollView(\n      child: Container(\n        child: _buildPanel(),\n      ),\n    );\n  }\n\n  Widget _buildPanel() {\n    return ExpansionPanelList.radio(\n      initialOpenPanelValue: 2,\n      children: _data.map&lt;ExpansionPanelRadio&gt;((Item item) {\n        return ExpansionPanelRadio(\n            value: item.id,\n            headerBuilder: (BuildContext context, bool isExpanded) {\n              return ListTile(\n                title: Text(item.headerValue),\n              );\n            },\n            body: ListTile(\n                title: Text(item.expandedValue),\n                subtitle: Text('To delete this panel, tap the trash can icon'),\n                trailing: Icon(Icons.delete),\n                onTap: () {\n                  setState(() {\n                    _data.removeWhere((currentItem) =&gt; item == currentItem);\n                  });\n                }));\n      }).toList(),\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1551, "user_id": 8406063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rp2Gy.jpg?s=128&g=1", "display_name": "axel blaze", "link": "https://stackoverflow.com/users/8406063/axel-blaze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21328, "favorite_count": 3, "accepted_answer_id": 51383677, "answer_count": 3, "score": 8, "last_activity_date": 1611379061, "creation_date": 1531822276, "question_id": 51378727, "link": "https://stackoverflow.com/questions/51378727/flutter-expansiontile-expand-and-collapse-on-click", "title": "Flutter- ExpansionTile expand and collapse on click", "body": "<p>I am taking this as a reference to expanding and collapsing of expansion tile-------<a href=\"https://stackoverflow.com/questions/48930372/flutter-collapsing-expansiontile-after-choosing-an-item----\">Flutter - Collapsing ExpansionTile after choosing an item</a><a href=\"https://i.stack.imgur.com/RVpLO.png\" rel=\"noreferrer\"></a></p>\n\n<p>What I want is if I one expansion tile is open and the user clicks on another one the other open expansion tiles should be closed.</p>\n\n<p><a href=\"https://i.stack.imgur.com/TW7Xm.png\" rel=\"noreferrer\">snapshot of my app</a></p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:meta/meta.dart';\n\nvoid main() {\n  runApp(new ExpansionTileSample());\n}\n\nclass ExpansionTileSample extends StatefulWidget {\n  @override\n  ExpansionTileSampleState createState() =&gt; new ExpansionTileSampleState();\n}\n\nclass ExpansionTileSampleState extends State&lt;ExpansionTileSample&gt; {\n  final GlobalKey&lt;AppExpansionTileState&gt; expansionTile = new GlobalKey();\n  String foos = 'One';\n\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      home: new Scaffold(\n        appBar: new AppBar(\n          title: const Text('ExpansionTile'),\n        ),\n        body: GestureDetector(\n          onTap: () {\n            setState(() {\n             // this.foos = 'One';\n              expansionTile.currentState.collapse();\n            });\n          },\n          child: Column(\n            children: &lt;Widget&gt;[\n              new AppExpansionTile(\n                  key: expansionTile,\n                  title: new Text('1-3'),\n                  backgroundColor:\n                      Theme.of(context).accentColor.withOpacity(0.025),\n                  children: &lt;Widget&gt;[\n                    new ListTile(\n                      title: const Text('One'),\n                    ),\n                    new ListTile(\n                      title: const Text('Two'),\n                    ),\n                    new ListTile(\n                      title: const Text('Three'),\n                    ),\n                  ]),\n              new AppExpansionTile(\n                  title: new Text('4-6'),\n                  backgroundColor:\n                      Theme.of(context).accentColor.withOpacity(0.025),\n                  children: &lt;Widget&gt;[\n                    new ListTile(\n                      title: const Text('four'),\n                    ),\n                    new ListTile(\n                      title: const Text('five'),\n                    ),\n                    new ListTile(\n                      title: const Text('six'),\n                    ),\n                  ]),\n              new AppExpansionTile(\n                  title: new Text('6-9'),\n                  backgroundColor:\n                      Theme.of(context).accentColor.withOpacity(0.025),\n                  children: &lt;Widget&gt;[\n                    new ListTile(\n                      title: const Text('seven'),\n                    ),\n                    new ListTile(\n                      title: const Text('eight'),\n                    ),\n                    new ListTile(\n                      title: const Text('nine'),\n                    ),\n                  ]),\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n}\n\n// --- Copied and slightly modified version of the ExpansionTile.\n\nconst Duration _kExpand = const Duration(milliseconds: 200);\n\nclass AppExpansionTile extends StatefulWidget {\n  const AppExpansionTile({\n    Key key,\n    this.leading,\n    @required this.title,\n    this.backgroundColor,\n    this.onExpansionChanged,\n    this.children: const &lt;Widget&gt;[],\n    this.trailing,\n    this.initiallyExpanded: false,\n  })  : assert(initiallyExpanded != null),\n        super(key: key);\n\n  final Widget leading;\n  final Widget title;\n  final ValueChanged&lt;bool&gt; onExpansionChanged;\n  final List&lt;Widget&gt; children;\n  final Color backgroundColor;\n  final Widget trailing;\n  final bool initiallyExpanded;\n\n  @override\n  AppExpansionTileState createState() =&gt; new AppExpansionTileState();\n}\n\nclass AppExpansionTileState extends State&lt;AppExpansionTile&gt;\n    with SingleTickerProviderStateMixin {\n  AnimationController _controller;\n  CurvedAnimation _easeOutAnimation;\n  CurvedAnimation _easeInAnimation;\n  ColorTween _borderColor;\n  ColorTween _headerColor;\n  ColorTween _iconColor;\n  ColorTween _backgroundColor;\n  Animation&lt;double&gt; _iconTurns;\n\n  bool _isExpanded = false;\n\n  @override\n  void initState() {\n    super.initState();\n    _controller = new AnimationController(duration: _kExpand, vsync: this);\n    _easeOutAnimation =\n        new CurvedAnimation(parent: _controller, curve: Curves.easeOut);\n    _easeInAnimation =\n        new CurvedAnimation(parent: _controller, curve: Curves.easeIn);\n    _borderColor = new ColorTween();\n    _headerColor = new ColorTween();\n    _iconColor = new ColorTween();\n    _iconTurns =\n        new Tween&lt;double&gt;(begin: 0.0, end: 0.5).animate(_easeInAnimation);\n    _backgroundColor = new ColorTween();\n\n    _isExpanded =\n        PageStorage.of(context)?.readState(context) ?? widget.initiallyExpanded;\n    if (_isExpanded) _controller.value = 1.0;\n  }\n\n  @override\n  void dispose() {\n    _controller.dispose();\n    super.dispose();\n  }\n\n  void expand() {\n    _setExpanded(true);\n  }\n\n  void collapse() {\n    _setExpanded(false);\n  }\n\n  void toggle() {\n    _setExpanded(!_isExpanded);\n  }\n\n  void _setExpanded(bool isExpanded) {\n    if (_isExpanded != isExpanded) {\n      setState(() {\n        _isExpanded = isExpanded;\n        if (_isExpanded)\n          _controller.forward();\n        else\n          _controller.reverse().then&lt;void&gt;((Null value) {\n            setState(() {\n              // Rebuild without widget.children.\n            });\n          });\n        PageStorage.of(context)?.writeState(context, _isExpanded);\n      });\n      if (widget.onExpansionChanged != null) {\n        widget.onExpansionChanged(_isExpanded);\n      }\n    }\n  }\n\n  Widget _buildChildren(BuildContext context, Widget child) {\n    final Color borderSideColor =\n        _borderColor.evaluate(_easeOutAnimation) ?? Colors.transparent;\n    final Color titleColor = _headerColor.evaluate(_easeInAnimation);\n\n    return new Container(\n      decoration: new BoxDecoration(\n          color: _backgroundColor.evaluate(_easeOutAnimation) ??\n              Colors.transparent,\n          border: new Border(\n            top: new BorderSide(color: borderSideColor),\n            bottom: new BorderSide(color: borderSideColor),\n          )),\n      child: new Column(\n        mainAxisSize: MainAxisSize.min,\n        children: &lt;Widget&gt;[\n          IconTheme.merge(\n            data:\n                new IconThemeData(color: _iconColor.evaluate(_easeInAnimation)),\n            child: new ListTile(\n              onTap: toggle,\n              leading: widget.leading,\n              title: new DefaultTextStyle(\n                style: Theme\n                    .of(context)\n                    .textTheme\n                    .subhead\n                    .copyWith(color: titleColor),\n                child: widget.title,\n              ),\n              trailing: widget.trailing ??\n                  new RotationTransition(\n                    turns: _iconTurns,\n                    child: const Icon(Icons.expand_more),\n                  ),\n            ),\n          ),\n          new ClipRect(\n            child: new Align(\n              heightFactor: _easeInAnimation.value,\n              child: child,\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    final ThemeData theme = Theme.of(context);\n    _borderColor.end = theme.dividerColor;\n    _headerColor\n      ..begin = theme.textTheme.subhead.color\n      ..end = theme.accentColor;\n    _iconColor\n      ..begin = theme.unselectedWidgetColor\n      ..end = theme.accentColor;\n    _backgroundColor.end = widget.backgroundColor;\n\n    final bool closed = !_isExpanded &amp;&amp; _controller.isDismissed;\n    return new AnimatedBuilder(\n      animation: _controller.view,\n      builder: _buildChildren,\n      child: closed ? null : new Column(children: widget.children),\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 10092822, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gMwxiXZ1fbI/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pv7EWOxup136Go3Yx_JkEtUh_I5Q/mo/photo.jpg?sz=128", "display_name": "ZP L", "link": "https://stackoverflow.com/users/10092822/zp-l"}, "edited": false, "score": 0, "creation_date": 1531898843, "post_id": 51380796, "comment_id": 89763089, "body": "Yes, ScrollController is a good idea. I run your code sample, it shows a list  without scroll."}, {"owner": {"reputation": 3294, "user_id": 3241871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/507b4cdea988f396c60b921a93a5f1a1?s=128&d=identicon&r=PG", "display_name": "Romain Rastel", "link": "https://stackoverflow.com/users/3241871/romain-rastel"}, "reply_to_user": {"reputation": 31, "user_id": 10092822, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gMwxiXZ1fbI/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pv7EWOxup136Go3Yx_JkEtUh_I5Q/mo/photo.jpg?sz=128", "display_name": "ZP L", "link": "https://stackoverflow.com/users/10092822/zp-l"}, "edited": false, "score": 0, "creation_date": 1531899388, "post_id": 51380796, "comment_id": 89763418, "body": "Oh yes, you maybe have to add more initial items for that: <code>List&lt;int&gt; items = List.generate(20, (i) =&gt; i);</code>"}], "tags": [], "owner": {"reputation": 3294, "user_id": 3241871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/507b4cdea988f396c60b921a93a5f1a1?s=128&d=identicon&r=PG", "display_name": "Romain Rastel", "link": "https://stackoverflow.com/users/3241871/romain-rastel"}, "is_accepted": false, "score": 3, "last_activity_date": 1531828603, "creation_date": 1531828603, "answer_id": 51380796, "question_id": 51378641, "link": "https://stackoverflow.com/questions/51378641/how-to-build-dynamic-list-from-http-server-in-flutter/51380796#51380796", "title": "how to build dynamic list from http server in flutter?", "body": "<p>To implement this, you can attach a <code>ScrollController</code> to your <code>ListView</code> and listen its changes. In this listener when you are in the end of the scroll you fetch more data and update your app state.</p>\n\n<p><strong>Example:</strong></p>\n\n<p>The following code is extracted from this well explained blog post: <a href=\"https://marcinszalek.pl/flutter/infinite-dynamic-listview/\" rel=\"nofollow noreferrer\">https://marcinszalek.pl/flutter/infinite-dynamic-listview/</a>.</p>\n\n<pre><code>import 'dart:async';\n\nimport 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(new MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      theme: new ThemeData(primarySwatch: Colors.blue),\n      home: new MyHomePage(),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  @override\n  _MyHomePageState createState() =&gt; _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  List&lt;int&gt; items = List.generate(10, (i) =&gt; i);\n  ScrollController _scrollController = new ScrollController();\n  bool isPerformingRequest = false;\n\n  @override\n  void initState() {\n    super.initState();\n    _scrollController.addListener(() {\n      if (_scrollController.position.pixels ==\n          _scrollController.position.maxScrollExtent) {\n        _getMoreData();\n      }\n    });\n  }\n\n  @override\n  void dispose() {\n    _scrollController.dispose();\n    super.dispose();\n  }\n\n  _getMoreData() async {\n    if (!isPerformingRequest) {\n      setState(() =&gt; isPerformingRequest = true);\n      List&lt;int&gt; newEntries = await fakeRequest(\n          items.length, items.length + 10); //returns empty list\n      if (newEntries.isEmpty) {\n        double edge = 50.0;\n        double offsetFromBottom = _scrollController.position.maxScrollExtent -\n            _scrollController.position.pixels;\n        if (offsetFromBottom &lt; edge) {\n          _scrollController.animateTo(\n              _scrollController.offset - (edge - offsetFromBottom),\n              duration: new Duration(milliseconds: 500),\n              curve: Curves.easeOut);\n        }\n      }\n      setState(() {\n        items.addAll(newEntries);\n        isPerformingRequest = false;\n      });\n    }\n  }\n\n  Widget _buildProgressIndicator() {\n    return new Padding(\n      padding: const EdgeInsets.all(8.0),\n      child: new Center(\n        child: new Opacity(\n          opacity: isPerformingRequest ? 1.0 : 0.0,\n          child: new CircularProgressIndicator(),\n        ),\n      ),\n    );\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      appBar: AppBar(\n        title: Text(\"Infinite ListView\"),\n      ),\n      body: ListView.builder(\n        itemCount: items.length + 1,\n        itemBuilder: (context, index) {\n          if (index == items.length) {\n            return _buildProgressIndicator();\n          } else {\n            return ListTile(title: new Text(\"Number $index\"));\n          }\n        },\n        controller: _scrollController,\n      ),\n    );\n  }\n}\n\n/// from - inclusive, to - exclusive\nFuture&lt;List&lt;int&gt;&gt; fakeRequest(int from, int to) async {\n  return Future.delayed(Duration(seconds: 2), () {\n    return List.generate(to - from, (i) =&gt; i + from);\n  });\n}\n</code></pre>\n\n<p>You will have to adapt this code to your scenario (mainly by changing the <code>fakeRequest</code> method and how the tiles are rendered), but I think it will give you the main idea.</p>\n"}, {"tags": [], "owner": {"reputation": 713, "user_id": 7823010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7RAvr.jpg?s=128&g=1", "display_name": "R. C. Howell", "link": "https://stackoverflow.com/users/7823010/r-c-howell"}, "is_accepted": false, "score": 1, "last_activity_date": 1531854473, "last_edit_date": 1531854473, "creation_date": 1531853994, "answer_id": 51388537, "question_id": 51378641, "link": "https://stackoverflow.com/questions/51378641/how-to-build-dynamic-list-from-http-server-in-flutter/51388537#51388537", "title": "how to build dynamic list from http server in flutter?", "body": "<p>What you're looking for is \"infinite-scrolling\". There are Flutter tutorials out there which explain this in detail, and here a common pattern that I've found works well.</p>\n\n<pre><code>import 'dart:async';\nimport 'package:flutter/services.dart';\nimport 'package:flutter/material.dart';\n\n\nclass Feed extends StatefulWidget {\n  @override\n  State&lt;StatefulWidget&gt; createState() =&gt; new _FeedState();\n}\n\nclass _FeedState extends State&lt;Feed&gt; {\n  final GlobalKey&lt;ScaffoldState&gt; _scaffoldKey = new GlobalKey&lt;ScaffoldState&gt;();\n  final GlobalKey&lt;RefreshIndicatorState&gt; _refreshIndicatorKey =\n      new GlobalKey&lt;RefreshIndicatorState&gt;();\n\n  bool _initialized;\n  bool _readyToFetchNextPage;\n  ScrollController _scrollController;\n  Repository _repository;\n\n  int _page;\n  Map&lt;int, Widget&gt; _cache;\n\n  @override\n  void initState() {\n    _initialized = false;\n    _repository = Repository();\n    _readyToFetchNextPage = true;\n    _initialize();\n    super.initState();\n  }\n\n\n  Future&lt;Null&gt; _initialize() async {\n    _initialized = false;\n    _readyToFetchNextPage = false;\n    final Completer&lt;Null&gt; completer = new Completer&lt;Null&gt;();\n    // Reset cache\n    _cache = new Map();\n    // Reset page\n    _page = 1;\n    // Fetch initial data\n    List results = repository.getPage(_page);\n    // Add results to the cache\n    _update(_cache.length, results);\n    completer.complete();\n    // Let the refresh indicator know the method has completed\n    _readyToFetchNextPage = true;\n    // SetState must be called to dismiss the CircularProgressIndicator\n    setState(() { _initialized = true; });\n    return completer.future;\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      key: _scaffoldKey,\n      body: new RefreshIndicator(\n        key: _refreshIndicatorKey,\n        onRefresh: _initialize,\n        child: CustomScrollView(\n          slivers: &lt;Widget&gt;[\n            AppBar(),\n            (_initialized) ? new SliverList(\n              delegate: new SliverChildBuilderDelegate(\n                  (BuildContext context, int index) {\n                return _getItem(index);\n              }),\n            ) : new SliverFillRemaining(\n              child: new Center(\n                child: new CircularProgressIndicator(),\n              ),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n\n  Widget _getItem(int index) {\n    if (_cache.containsKey(index)) {\n      return _cache[index];\n    } else {\n      if (_readyToFetchNextPage) {\n        _readyToFetchNextPage = false;\n        _page += 1;\n        _repository.getPage(_page).then((results) {\n          setState(() {\n            _update(_cache.length, results);\n          });\n        });\n      }\n      return null;\n    }\n  }\n\n  void _update(int offset, List results) {\n    for (int i = 0; i &lt; results.length; i += 1) {\n      int index = i + offset;\n      _cache.putIfAbsent(\n          index,\n          () =&gt; new ListTile(\n                key: new Key('post-$index'),\n                title: Text(results[i]),\n              ));\n    }\n    _readyToFetchNextPage = true;\n  }\n}\n</code></pre>\n\n<p>This works as follows.</p>\n\n<ol>\n<li>You have a <code>Repository</code> which makes your API calls given a page number\n\n<blockquote>\n  <p>Ex: repository.getPage(1) => GET <a href=\"http://api.com?page=1\" rel=\"nofollow noreferrer\">http://api.com?page=1</a> => List</p>\n</blockquote></li>\n<li>You collect the results and run them through <code>_update</code></li>\n<li><code>_update</code> adds all of these posts to a cache (a Map).</li>\n<li>The <code>ScrollView</code> takes a function called <code>getItem(int index)</code> which must return a <code>Widget</code> for the given index.</li>\n<li>My <code>getItem</code> function looks for the item in the cache, and returns it if it's found.</li>\n<li>If it's not found, I tell the <code>Repository</code> to get the next page and update the cache and so on...</li>\n</ol>\n\n<p>You should certainly consider using this pattern as it will allow to you to fetch new pages on demand.</p>\n\n<p><strong>IMPORTANT</strong> This is not a direct implementation. The <code>Repository</code> that I'm \"using\" in this code sample is meant to show you where you would make your API calls. It is not an existing class, rather an abstract representation of a repository that you would implement. Furthermore, you will specify the <code>Widget</code> you would like to appear in the list when you call <code>_cache.putIfAbsent(index, () =&gt; MyWidget())</code></p>\n"}], "owner": {"reputation": 31, "user_id": 10092822, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gMwxiXZ1fbI/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pv7EWOxup136Go3Yx_JkEtUh_I5Q/mo/photo.jpg?sz=128", "display_name": "ZP L", "link": "https://stackoverflow.com/users/10092822/zp-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3418, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1531854473, "creation_date": 1531822018, "question_id": 51378641, "link": "https://stackoverflow.com/questions/51378641/how-to-build-dynamic-list-from-http-server-in-flutter", "title": "how to build dynamic list from http server in flutter?", "body": "<p>Flutter newbie\uff0c learned a lot from here.  </p>\n\n<p>In a common case, people will request resource from web servers and server return an array of objects: </p>\n\n<pre><code>[ { \"key\": \"value\"}, {\"key\": \"value}...]\n</code></pre>\n\n<p>We can easily handle this use FutureBuilder.  </p>\n\n<p>But I have a server with massive data which I have to get resource in this way:  </p>\n\n<ol>\n<li>Query records count with an api, say \"/resources/counts\"  </li>\n<li>Query a few records with an api , say \"/resource?offset=101&amp;limit=20\" to get 20 records.</li>\n<li>When user scroll down the menu will trigger \"/resource?offset=121&amp;limit=20\" to get another 20 records.</li>\n</ol>\n\n<p>So I have a list with fix count some kind, but the resource have to dynamic loaded from server. how to do that? </p>\n\n<p>Some code.</p>\n\n<pre><code> @override\n  Widget build(BuildContext context) {\n    // _max == -1, request in progress.\n    return _max == -1\n        ? new CircularProgressIndicator()\n        : ListView.builder(\n            padding: const EdgeInsets.all(16.0),\n            itemBuilder: (context, i) {\n              return new FutureBuilder(\n                future: _getFollowingContracts(),\n                builder: (context, snapshot) {\n                  if (i.isOdd) return new Divider();\n                  switch (snapshot.connectionState) {\n                    case ConnectionState.none:\n                    case ConnectionState.waiting:\n                    case ConnectionState.active:\n                      return new Text('loading...');\n                    case ConnectionState.done:\n                      if (i.isOdd)\n                        return new Divider(\n                          height: 2.0,\n                        );\n                      final int index = i ~/ 2;\n                      // when user scroll down here we got exception\n                      // because only 20 records is available. \n                      // how to get another 20 records?\n                      return _buildRow(_contracts[index]);\n                  }\n                },\n              );\n            },\n            itemCount: _max * 2,\n          );\n  }\n</code></pre>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1531816272, "post_id": 51376583, "comment_id": 89724831, "body": "What line causes this error?"}, {"owner": {"reputation": 21, "user_id": 10092351, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SG9FWe4aErs/AAAAAAAAAAI/AAAAAAAAAAc/l0qUXmHQXOw/photo.jpg?sz=128", "display_name": "Developers NTS", "link": "https://stackoverflow.com/users/10092351/developers-nts"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1531817666, "post_id": 51376583, "comment_id": 89725734, "body": "return value in the method"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 10092351, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SG9FWe4aErs/AAAAAAAAAAI/AAAAAAAAAAc/l0qUXmHQXOw/photo.jpg?sz=128", "display_name": "Developers NTS", "link": "https://stackoverflow.com/users/10092351/developers-nts"}, "edited": false, "score": 0, "creation_date": 1531822563, "post_id": 51377050, "comment_id": 89729153, "body": "its giving me this &#39;Future&lt;String&gt;&#39; not the return value"}], "tags": [], "owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "is_accepted": false, "score": 1, "last_activity_date": 1531817563, "creation_date": 1531817563, "answer_id": 51377050, "question_id": 51376583, "link": "https://stackoverflow.com/questions/51376583/dart-programming-calling-the-method-from-another-class/51377050#51377050", "title": "Dart programming calling the method from another class", "body": "<p>You need to define the return type of your function to <code>Future&lt;String&gt;</code></p>\n\n<pre><code>Future&lt;String&gt; getuserid() async {\n ....\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 99, "user_id": 9992370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8557ea8dc7c078262c7ded556fd57c68?s=128&d=identicon&r=PG&f=1", "display_name": "rannes", "link": "https://stackoverflow.com/users/9992370/rannes"}, "is_accepted": false, "score": 0, "last_activity_date": 1531829245, "creation_date": 1531829245, "answer_id": 51380989, "question_id": 51376583, "link": "https://stackoverflow.com/questions/51376583/dart-programming-calling-the-method-from-another-class/51380989#51380989", "title": "Dart programming calling the method from another class", "body": "<p>remove null and place String after Future...\nFuture</p>\n"}, {"tags": [], "owner": {"reputation": 2224, "user_id": 7940500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TSHV3.jpg?s=128&g=1", "display_name": "Aman Malhotra", "link": "https://stackoverflow.com/users/7940500/aman-malhotra"}, "is_accepted": false, "score": 0, "last_activity_date": 1531839366, "last_edit_date": 1531839366, "creation_date": 1531839016, "answer_id": 51384419, "question_id": 51376583, "link": "https://stackoverflow.com/questions/51376583/dart-programming-calling-the-method-from-another-class/51384419#51384419", "title": "Dart programming calling the method from another class", "body": "<p>You have got quiet a few errors there . \n1. In the first code sample you were returning a null future while your code you were returning a string . that dosen't make any sense.\n2. In your second code sample you are returning just a string while your function is an async function so its another error that might even be shown to u on whichever IDE you are working with . \nsomething like -> you need to return a future . So it should be Future\nas mentioned in the previous answer. </p>\n\n<pre><code>Future&lt;String&gt;\n</code></pre>\n\n<ol start=\"3\">\n<li><p>Create a String var just say </p>\n\n<p>String userId = \"\";</p></li>\n</ol>\n\n<p>inside your class getdetails.\nthen inside your function <code>getuserid()</code> do this supposing that you already have some value in <code>userid</code> key that you are using for shared preferences.</p>\n\n<pre><code>getuserid() async{\nSharedPreferences pref = await SharedPreferences.getInstance(); \nString u = pref.getString('userid'); \nuserId = u ;\n}\n</code></pre>\n\n<p>now create another function in same class just to make things simple and clear .</p>\n\n<pre><code>String userdetails(){\nreturn userId;\n}\n</code></pre>\n\n<p>now in the <code>class/widget(stateful/stateless)</code> where you want to get the userId do this :- </p>\n\n<p>create an object of that class like this </p>\n\n<pre><code>getdetails g ; \n</code></pre>\n\n<p>now call the functions created like this ..</p>\n\n<pre><code>g.getuserid().then((){\nString ID = g.userdetails();\n});\n</code></pre>\n\n<p>What i am doing here is first create a function that gets your value and stores it into a local variable then call another function to get the value of that local variable when the value have been retrieved from the shared prefs class and stored into that local variable  using the same object i.e why i used <code>.then((){})</code> function\nI hope it helps . </p>\n"}], "owner": {"reputation": 21, "user_id": 10092351, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SG9FWe4aErs/AAAAAAAAAAI/AAAAAAAAAAc/l0qUXmHQXOw/photo.jpg?sz=128", "display_name": "Developers NTS", "link": "https://stackoverflow.com/users/10092351/developers-nts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 830, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1531839366, "creation_date": 1531816012, "question_id": 51376583, "link": "https://stackoverflow.com/questions/51376583/dart-programming-calling-the-method-from-another-class", "title": "Dart programming calling the method from another class", "body": "<p>I need some help here i am trying to this getdetails.getuserid method in the another class but i am getting error like this <code>type 'Future&lt;dynamic&gt;' is not a subtype of type 'String'</code>   </p>\n\n<pre><code>class getdetails {\n  Future&lt;Null&gt; getuserid() async {\n    SharedPreferences pref = await SharedPreferences.getInstance();\n    String userid = pref.getString('userid');\n    return userid;\n  }\n}\n</code></pre>\n\n<p>I am getting this error <code>Closure: () =&gt; dynamic from Function 'getuserid': static.() in dart</code> if i try to call like below</p>\n\n<pre><code>String getuserid() async {\n    SharedPreferences pref = await SharedPreferences.getInstance();\n    String userid = pref.getString('userid');\n    return userid;\n  }\n</code></pre>\n"}, {"tags": ["dart", "flutter", "flutter-dependencies"], "comments": [{"owner": {"reputation": 6317, "user_id": 2863386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1351f3dc176c08f5596077a9d2d9f024?s=128&d=identicon&r=PG&f=1", "display_name": "Shyju M", "link": "https://stackoverflow.com/users/2863386/shyju-m"}, "edited": false, "score": 1, "creation_date": 1531901850, "post_id": 51376297, "comment_id": 89764821, "body": "you can convert the list to JSON string and pass it, refer <a href=\"https://stackoverflow.com/a/49773862/2863386\">stackoverflow.com/a/49773862/2863386</a>"}, {"owner": {"reputation": 908, "user_id": 1937875, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/9j4Nh.jpg?s=128&g=1", "display_name": "Erfan Jazeb Nikoo", "link": "https://stackoverflow.com/users/1937875/erfan-jazeb-nikoo"}, "reply_to_user": {"reputation": 6317, "user_id": 2863386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1351f3dc176c08f5596077a9d2d9f024?s=128&d=identicon&r=PG&f=1", "display_name": "Shyju M", "link": "https://stackoverflow.com/users/2863386/shyju-m"}, "edited": false, "score": 0, "creation_date": 1531903880, "post_id": 51376297, "comment_id": 89766154, "body": "@ShyjuMadathil Thanks for your response, I am testing your solution, I will notify you as soon as I see any results"}, {"owner": {"reputation": 622, "user_id": 6420773, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-U0qwcqawijU/AAAAAAAAAAI/AAAAAAAAAk4/f9iecPch-wA/photo.jpg?sz=128", "display_name": "Mauricio Pastorini", "link": "https://stackoverflow.com/users/6420773/mauricio-pastorini"}, "reply_to_user": {"reputation": 6317, "user_id": 2863386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1351f3dc176c08f5596077a9d2d9f024?s=128&d=identicon&r=PG&f=1", "display_name": "Shyju M", "link": "https://stackoverflow.com/users/2863386/shyju-m"}, "edited": false, "score": 2, "creation_date": 1553009933, "post_id": 51376297, "comment_id": 97222557, "body": "What I dont like about @ShyjuM approach is that you have an overhead of encoding and decoding json strings. Not sure why it seems to be the only way"}, {"owner": {"reputation": 1196, "user_id": 5265359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb0248a5be1f39f83620a55c3dfa9776?s=128&d=identicon&r=PG&f=1", "display_name": "Chirag Mittal", "link": "https://stackoverflow.com/users/5265359/chirag-mittal"}, "reply_to_user": {"reputation": 622, "user_id": 6420773, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-U0qwcqawijU/AAAAAAAAAAI/AAAAAAAAAk4/f9iecPch-wA/photo.jpg?sz=128", "display_name": "Mauricio Pastorini", "link": "https://stackoverflow.com/users/6420773/mauricio-pastorini"}, "edited": false, "score": 0, "creation_date": 1589279001, "post_id": 51376297, "comment_id": 109223292, "body": "@MauricioPastorini Also, do so might break in the case when converted json has slash(<code>&#47;</code>)"}, {"owner": {"reputation": 1196, "user_id": 5265359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb0248a5be1f39f83620a55c3dfa9776?s=128&d=identicon&r=PG&f=1", "display_name": "Chirag Mittal", "link": "https://stackoverflow.com/users/5265359/chirag-mittal"}, "edited": false, "score": 1, "creation_date": 1589279102, "post_id": 51376297, "comment_id": 109223342, "body": "@ErfanJazebNikoo If you found any reliable solution, please post an answer."}, {"owner": {"reputation": 206, "user_id": 2304445, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/Mswly.png?s=128&g=1", "display_name": "Florian", "link": "https://stackoverflow.com/users/2304445/florian"}, "reply_to_user": {"reputation": 1196, "user_id": 5265359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb0248a5be1f39f83620a55c3dfa9776?s=128&d=identicon&r=PG&f=1", "display_name": "Chirag Mittal", "link": "https://stackoverflow.com/users/5265359/chirag-mittal"}, "edited": false, "score": 0, "creation_date": 1597496913, "post_id": 51376297, "comment_id": 112155032, "body": "@ChiragMittal I think I found a reliable solution. Posted the answer below."}], "answers": [{"tags": [], "owner": {"reputation": 4739, "user_id": 1348187, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/dZMOO.jpg?s=128&g=1", "display_name": "Rafael Ruiz Mu&#241;oz", "link": "https://stackoverflow.com/users/1348187/rafael-ruiz-mu%c3%b1oz"}, "is_accepted": false, "score": 2, "last_activity_date": 1594923735, "creation_date": 1594923735, "answer_id": 62941210, "question_id": 51376297, "link": "https://stackoverflow.com/questions/51376297/how-to-pass-object-or-list-of-objects-in-the-fluro-or-flutter-route-navigator/62941210#62941210", "title": "How to pass object or list of objects in the Fluro or Flutter route navigator?", "body": "<p>The solution presented at <a href=\"https://stackoverflow.com/questions/49731289/how-to-pass-json-response-to-another-view/49773862#49773862\">How to pass JSON response to another view</a> works unless your object has a string (or the decoded JSON contains) a <code>/</code> as @Chirag said.</p>\n<p>I'm giving my solution as it worked, since my object has an URL inside.</p>\n<h3>Given the router:</h3>\n<pre><code>_router.define(&quot;/groups/:group&quot;, handler: Handler(handlerFunc: (context, params) {\n  String param = params[&quot;group&quot;][0];\n  GroupAPIModel group = GroupAPIModel.fromJson(decodeJsonDataForFluro(param));\n  return GroupDetailsScreen(group);\n}));\n</code></pre>\n<h3>Defining:</h3>\n<pre><code>String encodeJsonDataForFluro(Map&lt;String, dynamic&gt; mapToEncode) {\n  return jsonEncode(mapToEncode).replaceAll(&quot;/&quot;, HtmlEscape().convert(&quot;/&quot;));\n} \n\nMap&lt;String, dynamic&gt; decodeJsonDataForFluro(String encodedMap) {\n  return jsonDecode(encodedMap.replaceAll(HtmlEscape().convert(&quot;/&quot;), &quot;/&quot;));\n}\n</code></pre>\n<h2>This method would reach that route:</h2>\n<pre><code>void _onGroupClicked(GroupAPIModel group) {\n  String bodyJson = encodeJsonDataForFluro(group.toJson());\n  router.navigateTo(context: context, path: &quot;/groups/$bodyJson&quot;);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 206, "user_id": 2304445, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/Mswly.png?s=128&g=1", "display_name": "Florian", "link": "https://stackoverflow.com/users/2304445/florian"}, "is_accepted": false, "score": 2, "last_activity_date": 1597496904, "last_edit_date": 1597496904, "creation_date": 1597496588, "answer_id": 63426351, "question_id": 51376297, "link": "https://stackoverflow.com/questions/51376297/how-to-pass-object-or-list-of-objects-in-the-fluro-or-flutter-route-navigator/63426351#63426351", "title": "How to pass object or list of objects in the Fluro or Flutter route navigator?", "body": "<p>Just struggled with this and found a solution. You can do this:</p>\n<pre><code>Object object = &lt;Your Object&gt;\nNavigator.of(context).pushNamed(&quot;/page/&quot; + object.id.toString(),\n        arguments: object);\n</code></pre>\n<p>And then access the custom object in Fluro like this:</p>\n<pre><code>  static void setupRouter() {\n    router.define(&quot;page/:pageId&quot;, handler: _pageHandler);\n  }\n\n  static Handler _pageHandler =\n      Handler(handlerFunc: (BuildContext context, Map&lt;String, dynamic&gt; params) {\n    Object object = ModalRoute.of(context).settings.arguments;\n    return Widget(object);\n  });\n</code></pre>\n<p>While Fluro doesn't have this, this is a solution that isn't completely terrible.</p>\n"}, {"tags": [], "owner": {"reputation": 5159, "user_id": 4679965, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uKZ3d.jpg?s=128&g=1", "display_name": "Nuts", "link": "https://stackoverflow.com/users/4679965/nuts"}, "is_accepted": false, "score": 3, "last_activity_date": 1598786412, "last_edit_date": 1598786412, "creation_date": 1598764307, "answer_id": 63654157, "question_id": 51376297, "link": "https://stackoverflow.com/questions/51376297/how-to-pass-object-or-list-of-objects-in-the-fluro-or-flutter-route-navigator/63654157#63654157", "title": "How to pass object or list of objects in the Fluro or Flutter route navigator?", "body": "<p>You could do that via <a href=\"https://flutter.dev/docs/cookbook/navigation/navigate-with-arguments\" rel=\"nofollow noreferrer\">ModalRoute.of(context).settings.arguments</a></p>\n<p>so if you have object:</p>\n<pre><code>class ScreenArguments {\n  final String title;\n  ScreenArguments(this.title);\n}\n</code></pre>\n<p>navigate with:</p>\n<pre><code>Navigator.of(context).pushNamed(&quot;/screen&quot;, arguments: ScreenArguments(&quot;Title&quot;));\n</code></pre>\n<p>and in handler:</p>\n<pre><code>static Handler _screenHandler = Handler(handlerFunc: (BuildContext context, Map&lt;String, dynamic&gt; params) {\n    final ScreenArguments args = ModalRoute.of(context).settings.arguments;\n    return PassArgumentsScreen(args?.title);\n});\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 908, "user_id": 1937875, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/9j4Nh.jpg?s=128&g=1", "display_name": "Erfan Jazeb Nikoo", "link": "https://stackoverflow.com/users/1937875/erfan-jazeb-nikoo"}, "is_accepted": true, "score": 1, "last_activity_date": 1615209884, "creation_date": 1615209884, "answer_id": 66530679, "question_id": 51376297, "link": "https://stackoverflow.com/questions/51376297/how-to-pass-object-or-list-of-objects-in-the-fluro-or-flutter-route-navigator/66530679#66530679", "title": "How to pass object or list of objects in the Fluro or Flutter route navigator?", "body": "<p>I used to pass the data as an encoded JSON and String format like all other solutions in this question. Recently, the <a href=\"https://pub.dev/packages/fluro\" rel=\"nofollow noreferrer\">Fluro</a> plugin provides a way of pass arguments as a class object between the routes like a Flutter navigator.</p>\n<p>After pushing a route with a custom <code>RouteSettings</code> you can use the <code>BuildContext.settings</code> extension to extract the settings. Typically this would be done in <code>Handler.handlerFunc</code> so you can pass <code>RouteSettings.arguments</code> to your screen widgets.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>/// Push a route with custom RouteSettings if you don't want to use path params\nFluroRouter.appRouter.navigateTo(\n  context,\n  'home',\n  routeSettings: RouteSettings(\n    arguments: MyArgumentsDataClass('foo!'),\n  ),\n);\n\n/// Extract the arguments using [BuildContext.settings.arguments] or [BuildContext.arguments] for short\nvar homeHandler = Handler(\n  handlerFunc: (context, params) {\n    final args = context.settings.arguments as MyArgumentsDataClass;\n\n    return HomeComponent(args);\n  },\n);\n</code></pre>\n<p>In the case of <strong>using the Flutter navigator instead of the Fluro plugin</strong> use this <a href=\"https://flutter.dev/docs/cookbook/navigation/navigate-with-arguments#1-define-the-arguments-you-need-to-pass\" rel=\"nofollow noreferrer\">link</a> or check the following approach.</p>\n<p>The <a href=\"https://api.flutter.dev/flutter/widgets/Navigator-class.html\" rel=\"nofollow noreferrer\">Navigator</a> provides the ability to navigate to a named route from any part of an app using a common identifier. In some cases, you might also need to pass arguments to a named route. For example, you might wish to navigate to the <code>/user</code> route and pass information about the user to that route.</p>\n<p>To pass different pieces of data, create a class that stores this information.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>// You can pass any object to the arguments parameter.\n// In this example, create a class that contains a customizable\n// title and message.\nclass ScreenArguments {\n  final String title;\n  final String message;\n\n  ScreenArguments(this.title, this.message);\n}\n</code></pre>\n<p>Now you need to define a handler using <a href=\"https://api.flutter.dev/flutter/widgets/ModalRoute-class.html\" rel=\"nofollow noreferrer\">ModalRoute</a>:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>static Handler _screenHandler = Handler(\n    handlerFunc: (BuildContext context, Map&lt;String, dynamic&gt; params) {\n      final ScreenArguments args = ModalRoute\n          .of(context)\n          .settings\n          .arguments;\n      return PassArgumentsScreen(args?.title);\n    });\n</code></pre>\n<p>And navigate with:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>Navigator.pushNamed(\n      context,\n      &quot;/screen&quot;,\n      arguments: ScreenArguments(\n        'Class Arguments Screen',\n        'This message is extracted in the build method.',\n      ),\n    );\n</code></pre>\n"}], "owner": {"reputation": 908, "user_id": 1937875, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/9j4Nh.jpg?s=128&g=1", "display_name": "Erfan Jazeb Nikoo", "link": "https://stackoverflow.com/users/1937875/erfan-jazeb-nikoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2084, "favorite_count": 1, "accepted_answer_id": 66530679, "answer_count": 4, "score": 5, "last_activity_date": 1615209884, "creation_date": 1531814957, "last_edit_date": 1615206641, "question_id": 51376297, "link": "https://stackoverflow.com/questions/51376297/how-to-pass-object-or-list-of-objects-in-the-fluro-or-flutter-route-navigator", "title": "How to pass object or list of objects in the Fluro or Flutter route navigator?", "body": "<p>I have used <a href=\"https://github.com/theyakka/fluro\" rel=\"nofollow noreferrer\">Fluro</a> package inside my Flutter app, and I implemented all of my routes with a handler like the example of this package.\nCould you please let me know what is the correct way to pass an object or list of objects between routes?</p>\n"}, {"tags": ["dart", "flutter", "flutter-dependencies"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1531812905, "post_id": 51375674, "comment_id": 89722810, "body": "I assume you are using the <code>beta</code> channel. I think this doesn&#39;t happen in <code>dev</code> channel. Run in command line shell <code>flutter channel dev</code> <code>flutter doctor</code> and try again."}, {"owner": {"reputation": 438, "user_id": 3404777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e943e88c334233681c41d30d43ad90c?s=128&d=identicon&r=PG&f=1", "display_name": "Conscript", "link": "https://stackoverflow.com/users/3404777/conscript"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1531813645, "post_id": 51375674, "comment_id": 89723282, "body": "@G&#252;nterZ&#246;chbauer okay, I am testing your solution and it is trying to download many things, I will notify you as soon as I see any results."}, {"owner": {"reputation": 438, "user_id": 3404777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e943e88c334233681c41d30d43ad90c?s=128&d=identicon&r=PG&f=1", "display_name": "Conscript", "link": "https://stackoverflow.com/users/3404777/conscript"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1531813867, "post_id": 51375674, "comment_id": 89723434, "body": "@G&#252;nterZ&#246;chbauer that was indeed the issue, thank you for your quick response. Please submit your answer so I can mark it."}], "answers": [{"comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 3894, "user_id": 1726832, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/wzdIt.jpg?s=128&g=1", "display_name": "rubStackOverflow", "link": "https://stackoverflow.com/users/1726832/rubstackoverflow"}, "edited": false, "score": 1, "creation_date": 1592579744, "post_id": 51376009, "comment_id": 110485111, "body": "Sure <code>flutter channel stable</code> <code>flutter doctor</code>"}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 3, "last_activity_date": 1531813943, "creation_date": 1531813943, "answer_id": 51376009, "question_id": 51375674, "link": "https://stackoverflow.com/questions/51375674/error-after-running-flutter-upgrade/51376009#51376009", "title": "Error after running &quot;flutter upgrade&quot;", "body": "<p>I assume you are using the beta channel.<br>\nI think this doesn't happen in <code>dev</code> channel. </p>\n\n<p>To switch to the <code>dev</code> channel run in a command line shell </p>\n\n<pre><code>flutter channel dev \nflutter doctor \n</code></pre>\n\n<p>and try again.</p>\n"}, {"tags": [], "owner": {"reputation": 623, "user_id": 3209936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c1cd6136cb09a2f0d17473f1403b0?s=128&d=identicon&r=PG&f=1", "display_name": "dujianchi", "link": "https://stackoverflow.com/users/3209936/dujianchi"}, "is_accepted": false, "score": 1, "last_activity_date": 1542175467, "creation_date": 1542175467, "answer_id": 53294052, "question_id": 51375674, "link": "https://stackoverflow.com/questions/51375674/error-after-running-flutter-upgrade/53294052#53294052", "title": "Error after running &quot;flutter upgrade&quot;", "body": "<p>I've had similar problems. My problem like this:</p>\n\n<blockquote>\n  <p>Because every version of flutter_test from sdk depends on http 0.12.0\n  and flutter_cache_manager 0.1.2 depends on http ^0.11.3+14,\n  flutter_test from sdk is incompatible with flutter_cache_manager\n  0.1.2. And because no versions of flutter_cache_manager match >0.1.2 &lt;0.2.0, flutter_test from sdk is incompatible with\n  flutter_cache_manager ^0.1.2.  </p>\n</blockquote>\n\n<p>Here's how I solved it:</p>\n\n<pre><code>dependencies:\n    ...\ndependency_overrides:\n  http: ^0.12.0\n</code></pre>\n\n<p>so, I thank you can try it:</p>\n\n<pre><code>dependencies:\n    ...\ndependency_overrides:\n  path: ^1.6.0\n</code></pre>\n"}], "owner": {"reputation": 438, "user_id": 3404777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e943e88c334233681c41d30d43ad90c?s=128&d=identicon&r=PG&f=1", "display_name": "Conscript", "link": "https://stackoverflow.com/users/3404777/conscript"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2026, "favorite_count": 0, "accepted_answer_id": 51376009, "answer_count": 2, "score": 5, "last_activity_date": 1542175467, "creation_date": 1531812804, "last_edit_date": 1531813219, "question_id": 51375674, "link": "https://stackoverflow.com/questions/51375674/error-after-running-flutter-upgrade", "title": "Error after running &quot;flutter upgrade&quot;", "body": "<p>I am getting the following error after running <code>flutter upgrade</code>:</p>\n\n<blockquote>\n  <p>Because every version of flutter_test from sdk depends on path 1.5.1 and flutter_advanced_networkimage >=0.2.9+1 depends on path ^1.6.0, flutter_test from sdk is incompatible with flutter_advanced_networkimage >=0.2.9+1.\n  So, because testapp depends on both flutter_advanced_networkimage ^0.2.10 and flutter_test any from sdk, version solving failed.\n  pub upgrade failed (1)</p>\n</blockquote>\n\n<p>My <code>pubspec.yaml</code>:</p>\n\n<pre><code>name: testapp\ndescription: A new Flutter application.\n\ndependencies:\n  flutter:\n    sdk: flutter\n  device_info: \"^0.2.0\"\n  shared_preferences: \"^0.4.1\"\n  flutter_parallax: \"^0.1.1\"\n  cached_network_image: \"^0.4.1\"\n  connectivity: \"^0.3.1\"\n  chewie: \"^0.6.0\"\n  flutter_statusbarcolor: \"^0.0.3\"\n  fluro: \"^1.3.1\"\n  carousel_slider: \"^0.0.4\"\n  flutter_advanced_networkimage: \"^0.2.10\"\n  flutter_sticky_header: \"^0.3.0\"\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n\nflutter:\n  uses-material-design: true\n</code></pre>\n\n<p>I'm trying to get it working for hours, please help</p>\n"}, {"tags": ["android", "dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 2, "last_activity_date": 1531811864, "creation_date": 1531811864, "answer_id": 51375383, "question_id": 51375134, "link": "https://stackoverflow.com/questions/51375134/app-space-built-using-flutter-dart/51375383#51375383", "title": "App space built using Flutter/Dart", "body": "<p>For one, Flutter apps ship with the whole runtime. There is no dependency to a specific Android SDK (if you don't use plugins) which amounts to about 7MB for simple applications.</p>\n\n<p>The main issue here is that you are using a debug build, which ships the Dart VM and debug information and whatnot.</p>\n\n<p>Create a release build and the size will go down to about 7MB </p>\n\n<pre><code>flutter build apk --release\n</code></pre>\n"}], "owner": {"reputation": 1238, "user_id": 7961110, "user_type": "registered", "profile_image": "https://graph.facebook.com/1450092395047988/picture?type=large", "display_name": "Sushant Somani", "link": "https://stackoverflow.com/users/7961110/sushant-somani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "accepted_answer_id": 51375383, "answer_count": 1, "score": 0, "last_activity_date": 1531811864, "creation_date": 1531810975, "question_id": 51375134, "link": "https://stackoverflow.com/questions/51375134/app-space-built-using-flutter-dart", "title": "App space built using Flutter/Dart", "body": "<p>I have created an android app using flutter/dart which has an app bar and a \"Hellow world\" string at the centre of the activity.\nWhen I checked the settings of the app, it shows that this app occupies some 44Mb of the phone space.</p>\n\n<p>The same app built using XML/Java occupies mere 2-3 Mb.\nWhy is there such a significant increase in space occupied by flutter/dart?\nCan I reduce it anyhow?</p>\n"}, {"tags": ["list", "build", "dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 1823, "user_id": 3816476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eRioD.jpg?s=128&g=1", "display_name": "Sunil", "link": "https://stackoverflow.com/users/3816476/sunil"}, "is_accepted": false, "score": 0, "last_activity_date": 1531813436, "creation_date": 1531813436, "answer_id": 51375878, "question_id": 51375064, "link": "https://stackoverflow.com/questions/51375064/how-to-use-futurebuilder-to-build-listtile-using-list-data/51375878#51375878", "title": "How to use FutureBuilder to build ListTile using List data", "body": "<p>You have to provide an instance of <strong>FutureBuilder</strong> to home or root widget. As you can see below.</p>\n\n<pre><code>body: new FutureBuilder&lt;List&lt;Country&gt;&gt;(\n        future: fetchCountry(new http.Client()),\n        builder: (context, snapshot) {\n          if (snapshot.hasError) print(snapshot.error);\n\n          return snapshot.hasData\n              ? new CountyList(country: snapshot.data)\n              : new Center(child: new CircularProgressIndicator());\n        },\n</code></pre>\n\n<p>I have found a simple example for it <a href=\"https://www.developerlibs.com/2018/06/flutter-display-list-of-country-by.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9239214"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 491, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531813436, "creation_date": 1531810704, "question_id": 51375064, "link": "https://stackoverflow.com/questions/51375064/how-to-use-futurebuilder-to-build-listtile-using-list-data", "title": "How to use FutureBuilder to build ListTile using List data", "body": "<p>List> _userAccounts;</p>\n\n<p><strong>Result:</strong></p>\n\n<pre><code>_CurrentUserAccounts: [\n    [Current Account, 10.06, United States Dollar USD], \n    [Demand Deposit, 55.22, British Pound GBP], \n    [Current Account, 250, Euro EUR], \n    [Deposit Account, 0, Euro EUR]\n]\n</code></pre>\n\n<p><strong>Format:</strong>\n[AccountName, CurrentBalance, CurrencyName], </p>\n\n<p>I need to use this info (List>) to build a ListTile.\nThis is for only one user. Some user might 1 account and some of them might have over 10 accounts.</p>\n\n<p>What is the best practice to show this data? I am planing to use ListTile so, if user tabs the ListTile so they can get details of the\ncertain account.</p>\n\n<p>So, How to use FutureBuilder to build ListTile using List data?</p>\n"}, {"tags": ["dart", "flutter"], "owner": {"reputation": 2979, "user_id": 635504, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/HMtxo.png?s=128&g=1", "display_name": "\u6700\u767d\u76ee", "link": "https://stackoverflow.com/users/635504/%e6%9c%80%e7%99%bd%e7%9b%ae"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 192, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1531807330, "creation_date": 1531807330, "question_id": 51374226, "link": "https://stackoverflow.com/questions/51374226/pageview-jumps-when-dragged", "title": "PageView &quot;jumps&quot; when dragged", "body": "<p>Does somebody noticed this?</p>\n\n<p>I have a PageView, and when I drag it to slide to the next page, it first doesnt move, and then after I drag a bit more, the slide suddenly \"jumps\", as if the distance dragged all happen instantly.</p>\n\n<p>I also run the app in release and profile mode, but it\u00b4s always the same behaviour. Also the amount of subviews per page doesn't seem to affect it.</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'TipField.dart';\nimport '../data/TipFieldData.dart';\nimport 'package:flutter_ticket/theme.dart';\n\nclass Ticket extends StatefulWidget {\n\n\n  @override\n  _TicketState createState() =&gt; _TicketState();\n}\n\n\nclass _TicketState extends State&lt;Ticket&gt; {\n\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n      width: 400.0,\n      height:400.0,\n      child: PageView.builder(\n            scrollDirection: Axis.horizontal,\n            itemBuilder: (BuildContext context, int index) {\n                return TipField(\n                  index,\n                  7,\n                  TipFieldData(1, 6),\n                  AppColors.redLight,\n                  AppColors.redLightest,\n                  AppColors.red\n                );\n              },\n            itemCount: 12,\n          )\n    );\n\n  }\n\n}\n</code></pre>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 14105, "user_id": 4231909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NbwgO.jpg?s=128&g=1", "display_name": "Jonah Williams", "link": "https://stackoverflow.com/users/4231909/jonah-williams"}, "edited": false, "score": 1, "creation_date": 1531792273, "post_id": 51372067, "comment_id": 89716209, "body": "<a href=\"https://flutter.io/platform-channels/\" rel=\"nofollow noreferrer\">flutter.io/platform-channels</a> - for native interop, is this what you are looking for?"}, {"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1531792686, "post_id": 51372067, "comment_id": 89716286, "body": "Will probably only work on Android."}, {"owner": {"reputation": 1255, "user_id": 2530100, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/574019723f9bb5251c5135c75b4ae189?s=128&d=identicon&r=PG", "display_name": "richard", "link": "https://stackoverflow.com/users/2530100/richard"}, "edited": false, "score": 0, "creation_date": 1531803278, "post_id": 51372067, "comment_id": 89718514, "body": "thanks, I didn&#39;t go through all document"}], "owner": {"reputation": 1255, "user_id": 2530100, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/574019723f9bb5251c5135c75b4ae189?s=128&d=identicon&r=PG", "display_name": "richard", "link": "https://stackoverflow.com/users/2530100/richard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1531791585, "creation_date": 1531791585, "question_id": 51372067, "link": "https://stackoverflow.com/questions/51372067/can-flutter-invokes-my-own-sdk", "title": "can flutter invokes my own sdk", "body": "<p>I am newer to flutter, and evaluates whether we can use in our project. In our project, we need to use some existing sdk which is built by java. I didn't find any document to introduce how can call existing java api. </p>\n"}, {"tags": ["search", "dart", "google-cloud-firestore", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 5984185, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/O9c8K.jpg?s=128&g=1", "display_name": "W P", "link": "https://stackoverflow.com/users/5984185/w-p"}, "edited": false, "score": 0, "creation_date": 1531794378, "post_id": 51371647, "comment_id": 89716634, "body": "That isn&#39;t working for me. The print(idOfBarcodeValue) still doesn&#39;t even get called. Same problem as the initial method. If, I move the print statement inside of the await method, it works. Wont work for what I need though."}, {"owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "reply_to_user": {"reputation": 71, "user_id": 5984185, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/O9c8K.jpg?s=128&g=1", "display_name": "W P", "link": "https://stackoverflow.com/users/5984185/w-p"}, "edited": false, "score": 0, "creation_date": 1531824819, "post_id": 51371647, "comment_id": 89730573, "body": "If you add a print inside the await for loop what do you see? If you add a <code>print(&#39;here&#39;);</code> after the loop when do you see it?"}, {"owner": {"reputation": 71, "user_id": 5984185, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/O9c8K.jpg?s=128&g=1", "display_name": "W P", "link": "https://stackoverflow.com/users/5984185/w-p"}, "edited": false, "score": 0, "creation_date": 1531824995, "post_id": 51371647, "comment_id": 89730686, "body": "If I print inside of the loop, I see it. If I print outside of the loop - nothing happens. Seems to break before then. Can&#39;t figure out why."}, {"owner": {"reputation": 71, "user_id": 5984185, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/O9c8K.jpg?s=128&g=1", "display_name": "W P", "link": "https://stackoverflow.com/users/5984185/w-p"}, "edited": false, "score": 0, "creation_date": 1531825039, "post_id": 51371647, "comment_id": 89730714, "body": "What I am ultimately trying to do is to pass the idOfBarcodeValue to a Navigator.push() and to a new view as a value."}, {"owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "reply_to_user": {"reputation": 71, "user_id": 5984185, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/O9c8K.jpg?s=128&g=1", "display_name": "W P", "link": "https://stackoverflow.com/users/5984185/w-p"}, "edited": false, "score": 0, "creation_date": 1531825768, "post_id": 51371647, "comment_id": 89731170, "body": "do you ever see the <code>print(&#39;here&#39;);</code> after the loop? Or, if you pass <code>context</code> into <code>findBarcode</code> can you call <code>Navigator.push</code> inside the <code>await for</code> loop?"}, {"owner": {"reputation": 71, "user_id": 5984185, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/O9c8K.jpg?s=128&g=1", "display_name": "W P", "link": "https://stackoverflow.com/users/5984185/w-p"}, "edited": false, "score": 0, "creation_date": 1531826007, "post_id": 51371647, "comment_id": 89731323, "body": "No. print(&#39;here&#39;); did not show after the loop. I will try passing context into findBarcode. Didn&#39;t think of/realize that. Tried without and there was a context error. (I&#39;m self-taught/learning so please excuse any amateur mistakes)"}, {"owner": {"reputation": 71, "user_id": 5984185, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/O9c8K.jpg?s=128&g=1", "display_name": "W P", "link": "https://stackoverflow.com/users/5984185/w-p"}, "edited": false, "score": 0, "creation_date": 1531841342, "post_id": 51371647, "comment_id": 89742295, "body": "Passing in context resolved it. Richard Heap, is there a way to put that for statement inside an if statement? So I can perform an action if a match is not found?"}, {"owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "reply_to_user": {"reputation": 71, "user_id": 5984185, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/O9c8K.jpg?s=128&g=1", "display_name": "W P", "link": "https://stackoverflow.com/users/5984185/w-p"}, "edited": false, "score": 0, "creation_date": 1531841964, "post_id": 51371647, "comment_id": 89742711, "body": "Interesting question... It&#39;s not clear to me why that firestore <code>.where().snapshots()</code> stream doesn&#39;t complete after all matching results are returned, which should allow it to drop out of the <code>await for</code> loop. My suggestion would be to ask precisely that question with as small an example as possible and hopefully a firestore expert will suggest a different query. After all, as you mention, if it doesn&#39;t complete, how do you know there were zero results?"}], "tags": [], "owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "is_accepted": true, "score": 1, "last_activity_date": 1531787543, "creation_date": 1531787543, "answer_id": 51371647, "question_id": 51371534, "link": "https://stackoverflow.com/questions/51371534/flutter-firestore-query-listen-cant-refer-to-variable-from-listen/51371647#51371647", "title": "Flutter Firestore Query Listen - Can&#39;t refer to variable from Listen", "body": "<p><code>snapshots()</code> returns a <code>Stream&lt;Query&gt;</code>. In the same way that you would <code>await</code> a function returning <code>Future</code>, you can <code>await for</code> all of the values (could be zero, one or more) that a <code>Stream</code> produces, for example:</p>\n\n<pre><code>Future findBarcode() async {\n  String searchBarcode = await BarcodeScanner.scan();\n\n  String idOfBarcodeValue;\n  Stream&lt;Query&gt; stream = Firestore.instance\n      .collection('${newUser.userLocation}')\n      .where('barcode', isEqualTo: '${searchBarcode}')\n      .snapshots();\n  await for (Query q in stream) {\n    idOfBarcodeValue = q.documents[0].documentID;\n  }\n\n  print(idOfBarcodeValue);\n  // if the stream had no results, this will be null\n  // if the stream has one or more results, this will be the last result\n  return idOfBarcodeValue;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13020460, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GiH2TQylGcCHWE-s8I_kIy0QCSFh_F96g7jh2PZ=k-s128", "display_name": "Daud Codes", "link": "https://stackoverflow.com/users/13020460/daud-codes"}, "is_accepted": false, "score": 0, "last_activity_date": 1583520299, "creation_date": 1583520299, "answer_id": 60569905, "question_id": 51371534, "link": "https://stackoverflow.com/questions/51371534/flutter-firestore-query-listen-cant-refer-to-variable-from-listen/60569905#60569905", "title": "Flutter Firestore Query Listen - Can&#39;t refer to variable from Listen", "body": "<p>I think i should revision the code from <strong>Richard Heap</strong>, This is my latest code about barcode scan in 7 March 2020, you can use it for barcode scan if you want to get where value from barcode</p>\n\n<pre><code>String barcode = \"\";\nFuture scan() async {\ntry {\n  barcode = await BarcodeScanner.scan();\n  setState(() =&gt; this.barcode = barcode);\n\n  String idOfBarcodeValue;\n  Stream&lt;QuerySnapshot&gt; stream = dbReference\n      .collection('userLocation')\n      .where('qrCodeNumber', isEqualTo: barcode)\n      .snapshots();\n  await for (QuerySnapshot q in stream) {\n    idOfBarcodeValue = q.documents[0].documentID;\n    print(idOfBarcodeValue);\n  }\n\n} on PlatformException catch (e) {\n  if (e.code == BarcodeScanner.CameraAccessDenied) {\n    setState(() {\n      this.barcode = 'The user did not grant the camera permission!';\n    });\n  } else {\n    setState(() =&gt; this.barcode = 'Unknown error: $e');\n  }\n} on FormatException {\n  setState(() =&gt;\n      this.barcode = 'User after click \"back\"-button before result');\n} catch (e) {\n  setState(() =&gt; this.barcode = 'Unknown error: $e');\n}\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 5984185, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/O9c8K.jpg?s=128&g=1", "display_name": "W P", "link": "https://stackoverflow.com/users/5984185/w-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 811, "favorite_count": 1, "accepted_answer_id": 51371647, "answer_count": 2, "score": 1, "last_activity_date": 1583520299, "creation_date": 1531786155, "question_id": 51371534, "link": "https://stackoverflow.com/questions/51371534/flutter-firestore-query-listen-cant-refer-to-variable-from-listen", "title": "Flutter Firestore Query Listen - Can&#39;t refer to variable from Listen", "body": "<p>I have a Query to find the documentID for a specified barcode as such:</p>\n\n<pre><code>Future findBarcode() async {\n  String searchBarcode = await BarcodeScanner.scan();\n\nFirestore.instance.collection('${newUser.userLocation}').where('barcode', isEqualTo: '${searchBarcode}').snapshots().listen(\n(data) { \n  String idOfBarcodeValue = data.documents[0].documentID;\n  print(idOfBarcodeValue);\n     }\n  );  \n}    \n</code></pre>\n\n<p>However, I want to refer to the idOfBarcodeValue outside of the function. I'm trying to find a way to pass that to another function to pass into a SimpleDialog.</p>\n\n<p>Presently, nothing outside of the function recognizes it. It does work, the print verifies. </p>\n\n<p>Here is the scan function that is also being performed: </p>\n\n<pre><code>Future scan() async {\n   try {\n    String barcode = await BarcodeScanner.scan();\n    setState(() =&gt; this.barcode = barcode);\n        } on PlatformException catch (e) {\n          if (e.code == BarcodeScanner.CameraAccessDenied) {\n            setState(() {\n              this.barcode = 'The user did not grant the camera permission!';\n            });\n          } else {\n            setState(() =&gt; this.barcode = 'Unknown error: $e');\n          }\n        } on FormatException{\n          setState(() =&gt; this.barcode = 'null (User returned using the \"back\"-button before scanning anything. Result)');\n        } catch (e) {\n          setState(() =&gt; this.barcode = 'Unknown error: $e');\n        }\n      }\n</code></pre>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 12277, "user_id": 2125442, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c6a7fc5cbee05e27232bb07c6ba32cf9?s=128&d=identicon&r=PG", "display_name": "bartektartanus", "link": "https://stackoverflow.com/users/2125442/bartektartanus"}, "edited": false, "score": 0, "creation_date": 1531781743, "post_id": 51370831, "comment_id": 89714322, "body": "Might be easier to work with SharedPreferences if you use this package: <a href=\"https://pub.dartlang.org/packages/pref_dessert\" rel=\"nofollow noreferrer\">pub.dartlang.org/packages/pref_dessert</a>"}], "answers": [{"tags": [], "owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "is_accepted": true, "score": 1, "last_activity_date": 1531780714, "creation_date": 1531780714, "answer_id": 51370955, "question_id": 51370831, "link": "https://stackoverflow.com/questions/51370831/how-to-return-from-an-async-method/51370955#51370955", "title": "How to return from an async method?", "body": "<p>No, as you've guessed, those returns return from the <code>then</code> callback.</p>\n\n<p>To return from <code>loadIPAddress</code>, refactor it like this:</p>\n\n<pre><code>Future&lt;String&gt; loadIPAddress() async {\n  SharedPreferences prefs = await SharedPreferences.getInstance();\n  try {\n    var loadedValue = prefs.getString('serverIPAddress');\n    print('loadIPAddress &lt;= ' + loadedValue);\n    return loadedValue;\n  } catch (e) {\n    print('loadIPAddress &lt;= NOPE');\n    return '---';\n  }\n}\n</code></pre>\n\n<p>Note that having made <code>loadIPAddress</code> async, it now returns a Future, so you should call it like:</p>\n\n<pre><code>String ip = await loadIPAddress();\n// or\nloadIPAddress().then((String ip) {\n  // do something with ip - probably setState\n});\n</code></pre>\n"}], "owner": {"reputation": 10753, "user_id": 433392, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dcac8a5eaf6c9c94f0e38475613c0d05?s=128&d=identicon&r=PG&f=1", "display_name": "SteAp", "link": "https://stackoverflow.com/users/433392/steap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 51370955, "answer_count": 1, "score": 0, "last_activity_date": 1531780714, "creation_date": 1531779667, "last_edit_date": 1531780192, "question_id": 51370831, "link": "https://stackoverflow.com/questions/51370831/how-to-return-from-an-async-method", "title": "How to return from an async method?", "body": "<p>Based on the <a href=\"https://pub.dartlang.org/packages/shared_preferences#-example-tab-\" rel=\"nofollow noreferrer\">SharedPreferences</a> class, I try to retrieve a preference value like so:</p>\n\n<pre><code>String loadIPAddress() {\n\n    SharedPreferences.getInstance().then((SharedPreferences prefs) {\n\n      try {\n\n        var loadedValue = prefs.getString('serverIPAddress');\n        print('loadIPAddress &lt;= ' + loadedValue);\n        return loadedValue; // [1]\n\n      } catch (e) {\n\n        print('loadIPAddress &lt;= NOPE');\n        return '---'; [2]\n\n      }\n    });\n  }\n</code></pre>\n\n<p>Unfortunately, this doesn't return a value each time.</p>\n\n<p><strong>Q: Does the <a href=\"https://pub.dartlang.org/packages/shared_preferences#-example-tab-\" rel=\"nofollow noreferrer\">1</a> and [2] return statements return the value of loadIPAddress()?</strong></p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 25392, "user_id": 2927226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53acfb6713e194462bfa7182966a9531?s=128&d=identicon&r=PG", "display_name": "rmtmckenzie", "link": "https://stackoverflow.com/users/2927226/rmtmckenzie"}, "edited": false, "score": 0, "creation_date": 1531787195, "post_id": 51370795, "comment_id": 89715322, "body": "Hmmm. any chance you can share a bit more of your source code? That looks like it should work to me, but there could be something weird with the mapview or something.  Although it sounds like you&#39;re not seeing any errors, so you must have a Scaffold and Navigator..."}, {"owner": {"reputation": 7642, "user_id": 1757321, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f47b6fc12c9c2b7a93419b0f65de0a32?s=128&d=identicon&r=PG", "display_name": "KhoPhi", "link": "https://stackoverflow.com/users/1757321/khophi"}, "reply_to_user": {"reputation": 25392, "user_id": 2927226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53acfb6713e194462bfa7182966a9531?s=128&d=identicon&r=PG", "display_name": "rmtmckenzie", "link": "https://stackoverflow.com/users/2927226/rmtmckenzie"}, "edited": false, "score": 0, "creation_date": 1531843841, "post_id": 51370795, "comment_id": 89743841, "body": "@rmtmckenzie I&#39;ve added extra snippets. I hope it helps."}], "answers": [{"comments": [{"owner": {"reputation": 7642, "user_id": 1757321, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f47b6fc12c9c2b7a93419b0f65de0a32?s=128&d=identicon&r=PG", "display_name": "KhoPhi", "link": "https://stackoverflow.com/users/1757321/khophi"}, "edited": false, "score": 0, "creation_date": 1531859261, "post_id": 51389258, "comment_id": 89751423, "body": "Great. Lemme try them all now."}, {"owner": {"reputation": 7642, "user_id": 1757321, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f47b6fc12c9c2b7a93419b0f65de0a32?s=128&d=identicon&r=PG", "display_name": "KhoPhi", "link": "https://stackoverflow.com/users/1757321/khophi"}, "edited": false, "score": 0, "creation_date": 1531865982, "post_id": 51389258, "comment_id": 89753970, "body": "So I split the <code>showMap</code> part into a separate file into a separate Widget. Loads alright the map, but bottomsheet still doesn&#39;t show, and no errors, and yes, I&#39;m in debug mode on cli. My theory is, the <code>MapView.show()</code> opens a persistent BottomSheet, thus another ModalBottomSheet doesn&#39;t get to show. Or?"}, {"owner": {"reputation": 25392, "user_id": 2927226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53acfb6713e194462bfa7182966a9531?s=128&d=identicon&r=PG", "display_name": "rmtmckenzie", "link": "https://stackoverflow.com/users/2927226/rmtmckenzie"}, "reply_to_user": {"reputation": 7642, "user_id": 1757321, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f47b6fc12c9c2b7a93419b0f65de0a32?s=128&d=identicon&r=PG", "display_name": "KhoPhi", "link": "https://stackoverflow.com/users/1757321/khophi"}, "edited": false, "score": 1, "creation_date": 1531868575, "post_id": 51389258, "comment_id": 89754714, "body": "Ah. I think I may know what&#39;s going on... that MapView actually opens a new android activity that shows on top of the flutter activity and therefore stops you from seeing anything happening in the flutter view. I don&#39;t know what your use-case is but if you use their <a href=\"https://github.com/apptreesoftware/flutter_google_map_view#static-maps-for-inline-display\" rel=\"nofollow noreferrer\">inline display</a> it may do what you want; otherwise, I&#39;d suggest contacting the developers of the plugin to see if there is anything they can do."}], "tags": [], "owner": {"reputation": 25392, "user_id": 2927226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53acfb6713e194462bfa7182966a9531?s=128&d=identicon&r=PG", "display_name": "rmtmckenzie", "link": "https://stackoverflow.com/users/2927226/rmtmckenzie"}, "is_accepted": false, "score": 2, "last_activity_date": 1531857253, "creation_date": 1531857253, "answer_id": 51389258, "question_id": 51370795, "link": "https://stackoverflow.com/questions/51370795/flutter-trying-to-fire-a-showmodalbottomsheet-mystery/51389258#51389258", "title": "Flutter Trying to fire a showModalBottomSheet mystery", "body": "<p>The reason you've having issues is that your <code>context</code> doesn't contain a scaffold. If you look what you're doing in your code, your context actually comes from the widget enclosing your scaffold.</p>\n\n<pre><code>YourWidget &lt;------------ context\n  MaterialApp\n    Scaffold\n      AppBar\n      Column\n        showMap....\n</code></pre>\n\n<p>There are a couple of ways to get around this. You can use a Builder widget something like this:</p>\n\n<pre><code>    body: new WidgetBuilder(\n      builder: (context) =&gt; new Column(\n        mainAxisAlignment: MainAxisAlignment.start,\n        children: &lt;Widget&gt;[\n          showMap(context),\n        ],\n      )\n    ),\n</code></pre>\n\n<p>in which case the context is actually rooted below the scaffold.</p>\n\n<pre><code>YourWidget \n  MaterialApp\n    Scaffold\n      AppBar\n      Builder &lt;------------ context\n        Column\n          showMap....\n</code></pre>\n\n<p>However, <em>what I would actually recommend</em> is breaking your class into multiple classes. If your build function gets large enough you have to separate it out into another function (that's only used once), there's a good chance you need a new widget!</p>\n\n<p>You could either make a body widget (probably Stateless), or a widget just for showing the map (Stateless or Stateful depending on your needs)... or more likely both!</p>\n\n<p>Now as to why you're not seeing any errors... are you running in debug or release mode (if you're in debug mode there should be a little banner in the top right of the screen)? If you're in release mode it might ignore the fact that there is no scaffold in the context and fail silently, whereas in debug mode it should throw an assertion error. Running from the IDE or with <code>flutter run</code> generally runs in debug mode, but you may have changed it.</p>\n"}], "owner": {"reputation": 7642, "user_id": 1757321, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f47b6fc12c9c2b7a93419b0f65de0a32?s=128&d=identicon&r=PG", "display_name": "KhoPhi", "link": "https://stackoverflow.com/users/1757321/khophi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2126, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1531857253, "creation_date": 1531779374, "last_edit_date": 1531843801, "question_id": 51370795, "link": "https://stackoverflow.com/questions/51370795/flutter-trying-to-fire-a-showmodalbottomsheet-mystery", "title": "Flutter Trying to fire a showModalBottomSheet mystery", "body": "<p>I question myself sometimes, whether I'm dumb, or Dart (Flutter) is weird.</p>\n\n<p>How does this not work?</p>\n\n<p>I'm using <a href=\"https://github.com/apptreesoftware/flutter_google_map_view\" rel=\"nofollow noreferrer\">https://github.com/apptreesoftware/flutter_google_map_view</a></p>\n\n<p>I show a map, and have added markers. </p>\n\n<p>Since the package supports listeners, when a marker is tapped, I want to show a modal.</p>\n\n<p>Does the listener work? Yep, because the print statement happens.</p>\n\n<p>Does the modal work? I don't know. No error shows, nothing!</p>\n\n<pre><code>mapView.onTouchAnnotation.listen((annotation) {\n  print(annotation);\n  showModalBottomSheet&lt;void&gt;(\n    context: context,\n    builder: (BuildContext context) {\n      return Container(\n        height: 260.0,\n        child: Text('Text'),\n      );\n    },\n  );\n});\n</code></pre>\n\n<p>Please, what is the magic bullet?</p>\n\n<p><strong>Edit</strong></p>\n\n<p>Lemme thrown in more flesh. This is my Scaffold widget.</p>\n\n<pre><code>MapView mapView = new MapView();  \n\n@override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      home: new Scaffold(\n        key: scaffoldKey,\n        appBar: new AppBar(\n          title: new Text('Map View Example'),\n        ),\n        body: new Column(\n          mainAxisAlignment: MainAxisAlignment.start,\n          children: &lt;Widget&gt;[\n            showMap(context),\n          ],\n        ),\n      ),\n    );\n</code></pre>\n\n<p>And <code>showMap(...)</code> looks like this:</p>\n\n<pre><code> showMap(context) {\n    mapView.show(\n      new MapOptions(\n          mapViewType: MapViewType.normal,\n          showUserLocation: true,\n          showMyLocationButton: true,\n          showCompassButton: true,\n          initialCameraPosition:\n              new CameraPosition(new Location(5.6404963, -0.2285315), 15.0),\n          hideToolbar: false,\n          title: \"Dashboard\"),\n      // toolbarActions: [new ToolbarAction(\"Close\", 1)],\n    );\n    mapView.onMapReady.listen((_) {\n      mapView.setMarkers(_markers);\n    });\n    mapView.onTouchAnnotation.listen((annotation) {\n      print(annotation);\n      showModalBottomSheet&lt;void&gt;(\n        context: context,\n        builder: (BuildContext context) {\n          return Container(\n            height: 260.0,\n            child: Text('Text'),\n          );\n        },\n      );\n    });\n  }\n</code></pre>\n"}, {"tags": ["firebase", "dart", "firebase-authentication", "flutter"], "comments": [{"owner": {"reputation": 907, "user_id": 5739790, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HXP0O.jpg?s=128&g=1", "display_name": "Tran Triet", "link": "https://stackoverflow.com/users/5739790/tran-triet"}, "edited": false, "score": 0, "creation_date": 1531807665, "post_id": 51370773, "comment_id": 89719937, "body": "According to implementation of Firebaseauth, when invoking _signOut, the FirebaseAuth.instance.onAuthStateChanged stream will receive a FirebaseUser (which mean the snapshot is non-null). The flutter doc says hasData checks whether the stream is null. So I guess it is not working as expected because the test !snapShot.hasData returns <code>false</code> when you call _signout. You can test this by printing the snapshot"}, {"owner": {"reputation": 265, "user_id": 10075718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5897dc6555afb55a34cde9658fe870?s=128&d=identicon&r=PG&f=1", "display_name": "serjo macken", "link": "https://stackoverflow.com/users/10075718/serjo-macken"}, "reply_to_user": {"reputation": 907, "user_id": 5739790, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HXP0O.jpg?s=128&g=1", "display_name": "Tran Triet", "link": "https://stackoverflow.com/users/5739790/tran-triet"}, "edited": false, "score": 0, "creation_date": 1531824110, "post_id": 51370773, "comment_id": 89730147, "body": "can you suggest me an edit @TranTriet"}, {"owner": {"reputation": 907, "user_id": 5739790, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HXP0O.jpg?s=128&g=1", "display_name": "Tran Triet", "link": "https://stackoverflow.com/users/5739790/tran-triet"}, "edited": false, "score": 0, "creation_date": 1531824366, "post_id": 51370773, "comment_id": 89730284, "body": "I will try to help you with this. But first, it would be nice if you could test to see if what I think is correct so we know we&#39;re in the correct path. To test it, in the second <code>else</code>, please put this statement <code>print(snapshot.data);</code> then tell me what is printed out when you log in and log out then we&#39;ll continue further troubleshooting."}, {"owner": {"reputation": 265, "user_id": 10075718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5897dc6555afb55a34cde9658fe870?s=128&d=identicon&r=PG&f=1", "display_name": "serjo macken", "link": "https://stackoverflow.com/users/10075718/serjo-macken"}, "reply_to_user": {"reputation": 907, "user_id": 5739790, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HXP0O.jpg?s=128&g=1", "display_name": "Tran Triet", "link": "https://stackoverflow.com/users/5739790/tran-triet"}, "edited": false, "score": 0, "creation_date": 1531825121, "post_id": 51370773, "comment_id": 89730767, "body": "ok I will give it a try wait a minute @TranTriet"}, {"owner": {"reputation": 265, "user_id": 10075718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5897dc6555afb55a34cde9658fe870?s=128&d=identicon&r=PG&f=1", "display_name": "serjo macken", "link": "https://stackoverflow.com/users/10075718/serjo-macken"}, "reply_to_user": {"reputation": 907, "user_id": 5739790, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HXP0O.jpg?s=128&g=1", "display_name": "Tran Triet", "link": "https://stackoverflow.com/users/5739790/tran-triet"}, "edited": false, "score": 0, "creation_date": 1531825617, "post_id": 51370773, "comment_id": 89731083, "body": "I inserted the code in the second else but nothing is printed so maybe it is null.@TranTriet"}, {"owner": {"reputation": 907, "user_id": 5739790, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HXP0O.jpg?s=128&g=1", "display_name": "Tran Triet", "link": "https://stackoverflow.com/users/5739790/tran-triet"}, "edited": false, "score": 0, "creation_date": 1531825889, "post_id": 51370773, "comment_id": 89731252, "body": "That&#39;s not what I expected. Could you also insert another print statement <code>print(&#39;without data ${snapshot.data}&#39;)</code> in the first else statement and tell me what happens when you do the logins and logouts?"}, {"owner": {"reputation": 265, "user_id": 10075718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5897dc6555afb55a34cde9658fe870?s=128&d=identicon&r=PG&f=1", "display_name": "serjo macken", "link": "https://stackoverflow.com/users/10075718/serjo-macken"}, "reply_to_user": {"reputation": 907, "user_id": 5739790, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HXP0O.jpg?s=128&g=1", "display_name": "Tran Triet", "link": "https://stackoverflow.com/users/5739790/tran-triet"}, "edited": false, "score": 0, "creation_date": 1531826021, "post_id": 51370773, "comment_id": 89731336, "body": "ok I will insert it @TranTriet"}, {"owner": {"reputation": 265, "user_id": 10075718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5897dc6555afb55a34cde9658fe870?s=128&d=identicon&r=PG&f=1", "display_name": "serjo macken", "link": "https://stackoverflow.com/users/10075718/serjo-macken"}, "reply_to_user": {"reputation": 907, "user_id": 5739790, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HXP0O.jpg?s=128&g=1", "display_name": "Tran Triet", "link": "https://stackoverflow.com/users/5739790/tran-triet"}, "edited": false, "score": 0, "creation_date": 1531826152, "post_id": 51370773, "comment_id": 89731428, "body": "also nothing is displayed @TranTriet"}, {"owner": {"reputation": 907, "user_id": 5739790, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HXP0O.jpg?s=128&g=1", "display_name": "Tran Triet", "link": "https://stackoverflow.com/users/5739790/tran-triet"}, "edited": false, "score": 0, "creation_date": 1531826417, "post_id": 51370773, "comment_id": 89731612, "body": "Ok, just to make sure that the log in and log out actually works, could you please modify <code>_signOut()</code> as follows: <code>_signOut().then((FirebaseUser user) =&gt; print(&#39;log out ${user}&#39;));</code> Then when you do login and log out, please tell me what is printed out from the two <code>print</code> statements in the <code>then</code> blocks."}, {"owner": {"reputation": 265, "user_id": 10075718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5897dc6555afb55a34cde9658fe870?s=128&d=identicon&r=PG&f=1", "display_name": "serjo macken", "link": "https://stackoverflow.com/users/10075718/serjo-macken"}, "reply_to_user": {"reputation": 907, "user_id": 5739790, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HXP0O.jpg?s=128&g=1", "display_name": "Tran Triet", "link": "https://stackoverflow.com/users/5739790/tran-triet"}, "edited": false, "score": 0, "creation_date": 1531827466, "post_id": 51370773, "comment_id": 89732371, "body": "I created my signout function as a void so I cant add this code @TranTriet"}, {"owner": {"reputation": 265, "user_id": 10075718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5897dc6555afb55a34cde9658fe870?s=128&d=identicon&r=PG&f=1", "display_name": "serjo macken", "link": "https://stackoverflow.com/users/10075718/serjo-macken"}, "reply_to_user": {"reputation": 907, "user_id": 5739790, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HXP0O.jpg?s=128&g=1", "display_name": "Tran Triet", "link": "https://stackoverflow.com/users/5739790/tran-triet"}, "edited": false, "score": 0, "creation_date": 1531827588, "post_id": 51370773, "comment_id": 89732452, "body": "but all the sign in and logout are working since I am receiving the info  in my firebase account and the text displayed properly except on the logout"}, {"owner": {"reputation": 265, "user_id": 10075718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5897dc6555afb55a34cde9658fe870?s=128&d=identicon&r=PG&f=1", "display_name": "serjo macken", "link": "https://stackoverflow.com/users/10075718/serjo-macken"}, "reply_to_user": {"reputation": 907, "user_id": 5739790, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HXP0O.jpg?s=128&g=1", "display_name": "Tran Triet", "link": "https://stackoverflow.com/users/5739790/tran-triet"}, "edited": false, "score": 0, "creation_date": 1531827865, "post_id": 51370773, "comment_id": 89732641, "body": "cant we get the value of the variable &#39;username &#39; that i created and change it to &#39;you are not logged &#39; in the void function _signout after we await for the signout to be succesful.I was trying to do so, but I cant modify the variable that I created in the listtile , since It wont be defined, can we try this edit?@TranTriet"}, {"owner": {"reputation": 907, "user_id": 5739790, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HXP0O.jpg?s=128&g=1", "display_name": "Tran Triet", "link": "https://stackoverflow.com/users/5739790/tran-triet"}, "edited": false, "score": 0, "creation_date": 1531828953, "post_id": 51370773, "comment_id": 89733357, "body": "I can think of one way to implement that solution. If the <code>Widget</code> you are using to render this <code>ListTile</code> is a <code>StatefulWidget</code>, you can make that <code>username</code> a state variable. Then inside the <code>_signOut()</code>, <code>await</code> for the <code>auth signout</code> and then call <code>setState()</code>. If you use that variable to set the text for the subtitle, I think it will change as expected."}, {"owner": {"reputation": 907, "user_id": 5739790, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HXP0O.jpg?s=128&g=1", "display_name": "Tran Triet", "link": "https://stackoverflow.com/users/5739790/tran-triet"}, "edited": false, "score": 0, "creation_date": 1531829587, "post_id": 51370773, "comment_id": 89733813, "body": "[This is the overview idea of my implementation] (<a href=\"https://gist.github.com/minhtrietbkit/788198ad424d40af7d8231a5ce244782\" rel=\"nofollow noreferrer\">gist.github.com/minhtrietbkit/788198ad424d40af7d8231a5ce244&zwnj;&#8203;782</a>)"}, {"owner": {"reputation": 265, "user_id": 10075718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5897dc6555afb55a34cde9658fe870?s=128&d=identicon&r=PG&f=1", "display_name": "serjo macken", "link": "https://stackoverflow.com/users/10075718/serjo-macken"}, "reply_to_user": {"reputation": 907, "user_id": 5739790, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HXP0O.jpg?s=128&g=1", "display_name": "Tran Triet", "link": "https://stackoverflow.com/users/5739790/tran-triet"}, "edited": false, "score": 0, "creation_date": 1531829815, "post_id": 51370773, "comment_id": 89733973, "body": "sorry but I am using a stateless widget@TranTriet"}, {"owner": {"reputation": 907, "user_id": 5739790, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HXP0O.jpg?s=128&g=1", "display_name": "Tran Triet", "link": "https://stackoverflow.com/users/5739790/tran-triet"}, "edited": false, "score": 0, "creation_date": 1531831817, "post_id": 51370773, "comment_id": 89735382, "body": "Ok, I just implemented a similar situation with <code>firebase auth</code>. I copy paste your code (the part doing the checking) and turns out your test is correct! It works. I guess I must have misunderstood the <a href=\"https://github.com/flutter/plugins/blob/master/packages/firebase_auth/lib/firebase_auth.dart\" rel=\"nofollow noreferrer\">implementation of Firebase auth</a>. When I successfully log out, the <code>FirebaseAuth.instance.onAuthStateChanged</code> really returns null and <code>hasData</code> evaluates to false. I don&#39;t know how to further troubleshoot your issue, but I thought I just might shout out to confirm that your logic is correct."}, {"owner": {"reputation": 265, "user_id": 10075718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5897dc6555afb55a34cde9658fe870?s=128&d=identicon&r=PG&f=1", "display_name": "serjo macken", "link": "https://stackoverflow.com/users/10075718/serjo-macken"}, "reply_to_user": {"reputation": 907, "user_id": 5739790, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HXP0O.jpg?s=128&g=1", "display_name": "Tran Triet", "link": "https://stackoverflow.com/users/5739790/tran-triet"}, "edited": false, "score": 0, "creation_date": 1531832131, "post_id": 51370773, "comment_id": 89735600, "body": "I have changed my widget into stateful, but can you please send me the edited code that I suggested about variables since I cant figure out how to implement it@TranTriet"}, {"owner": {"reputation": 907, "user_id": 5739790, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HXP0O.jpg?s=128&g=1", "display_name": "Tran Triet", "link": "https://stackoverflow.com/users/5739790/tran-triet"}, "edited": false, "score": 0, "creation_date": 1531832243, "post_id": 51370773, "comment_id": 89735673, "body": "[Here] (<a href=\"https://gist.github.com/minhtrietbkit/788198ad424d40af7d8231a5ce244782\" rel=\"nofollow noreferrer\">gist.github.com/minhtrietbkit/788198ad424d40af7d8231a5ce244&zwnj;&#8203;782</a>). This is the general idea, if there&#39;s anything you don&#39;t understand then feel free to ask."}, {"owner": {"reputation": 265, "user_id": 10075718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5897dc6555afb55a34cde9658fe870?s=128&d=identicon&r=PG&f=1", "display_name": "serjo macken", "link": "https://stackoverflow.com/users/10075718/serjo-macken"}, "reply_to_user": {"reputation": 907, "user_id": 5739790, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HXP0O.jpg?s=128&g=1", "display_name": "Tran Triet", "link": "https://stackoverflow.com/users/5739790/tran-triet"}, "edited": false, "score": 0, "creation_date": 1531837831, "post_id": 51370773, "comment_id": 89739887, "body": "I think there is some error since it is giving me that auth is not defined@TranTriet"}, {"owner": {"reputation": 907, "user_id": 5739790, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HXP0O.jpg?s=128&g=1", "display_name": "Tran Triet", "link": "https://stackoverflow.com/users/5739790/tran-triet"}, "edited": false, "score": 0, "creation_date": 1531843114, "post_id": 51370773, "comment_id": 89743446, "body": "ah, it doesn&#39;t work because it&#39;s only the general idea (sort of like pseudo code) since I don&#39;t know the variable names that you use. The idea is that you implement the sign out function there."}], "owner": {"reputation": 265, "user_id": 10075718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5897dc6555afb55a34cde9658fe870?s=128&d=identicon&r=PG&f=1", "display_name": "serjo macken", "link": "https://stackoverflow.com/users/10075718/serjo-macken"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1531802458, "creation_date": 1531779250, "last_edit_date": 1531802458, "question_id": 51370773, "link": "https://stackoverflow.com/questions/51370773/dealing-with-google-auth-and-users", "title": "dealing with google auth and users", "body": "<p>I have code that displays \"you are not logged in\" as a subtitle when the user is not logged in, it then displays the users name after login, but if I press the logout button the text doesnt change to log out even if I close the app and restart it. Can you help me. Here is the code for log in and log out.</p>\n\n<pre><code>new ListTile(\n          title: new Text(\"Log In\"),\n          leading: new Icon(Icons.account_box),\n          onTap: () =&gt; _signIn()\n              .then((FirebaseUser user) =&gt; print(user))\n              .catchError((e) =&gt; print(e)),\n          subtitle: StreamBuilder(\n            stream: FirebaseAuth.instance.onAuthStateChanged,\n            builder: (BuildContext context, AsyncSnapshot&lt;FirebaseUser&gt; snapshot) {\n              var username ='';\n              if (snapshot.connectionState == ConnectionState.waiting) {\n                return Text('loading');\n              } else if (!snapshot.hasData) {\n                username= 'you are not logged in';\n                return Text(username);\n              } else {\n                username = snapshot.data.displayName;\n                return Text(username);\n              }\n            },\n          ),\n        ),\n        new ListTile(\n          title: new Text(\"Log Out\"),\n          leading: new Icon(Icons.account_circle),\n          onTap: () =&gt; _signOut(),\n        ),\n</code></pre>\n\n<p>I want text in the subtitle to change when the user logs in and becomes the name of the user and when the user logs out the text changes to you are not logged in( this is the main thing that I want but if you can make it display a snackbar when the user presses the log in tile when he is already logged in and a snackbar when he is already logged out)\nthanks </p>\n"}, {"tags": ["list", "replace", "dart", "flutter"], "comments": [{"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1531768949, "post_id": 51368763, "comment_id": 89709829, "body": "<code>1</code> is equal to <code>01</code> so I don&#39;t get what you want."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9239214"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1531802275, "post_id": 51368763, "comment_id": 89718301, "body": "no 01 is the 01 as an string not an integer"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9239214"}, "edited": false, "score": 0, "creation_date": 1531808692, "post_id": 51371782, "comment_id": 89720406, "body": "Thanks, @Mans. I modify your answer a bit to get correct solution to my problem."}], "tags": [], "owner": {"reputation": 2217, "user_id": 2865073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b973f84cc0d80c5dc44fcdfc701828ab?s=128&d=identicon&r=PG&f=1", "display_name": "Mans", "link": "https://stackoverflow.com/users/2865073/mans"}, "is_accepted": true, "score": 0, "last_activity_date": 1531788731, "creation_date": 1531788731, "answer_id": 51371782, "question_id": 51368763, "link": "https://stackoverflow.com/questions/51368763/how-to-replace-list-item-value-with-certain-condition/51371782#51371782", "title": "How to replace List item value with certain condition?", "body": "<p>This is a weird question so I'm not sure if this is what you're looking for:</p>\n\n<pre><code>void main() {\n\n  List&lt;List&lt;num&gt;&gt; bigList = [\n    [4, 175.52, 00, 175.52, 175.52],\n    [3, 175.52, 01, 175.52, 175.52]\n  ];\n\n  List&lt;List&lt;dynamic&gt;&gt; newBigList = [];\n\n  for (List&lt;num&gt; smallList in bigList) {\n    List&lt;dynamic&gt; newSmallList = [];\n    for (num number in smallList) {\n\n      switch (number) {\n        case 1:\n          newSmallList.add(\"A\");\n          break;\n        case 2:\n          newSmallList.add(\"B\");\n          break;\n        case 3:\n          newSmallList.add(\"C\");\n          break;\n        case 4:\n          newSmallList.add(\"D\");\n          break;\n\n        case 00:\n          newSmallList.add(\"AA\");\n          break;\n        case 01:\n          newSmallList.add(\"BB\");\n          break;\n        case 12:\n          newSmallList.add(\"CC\");\n          break;\n        case 15:\n          newSmallList.add(\"DD\");\n          break;\n\n        default: \n          newSmallList.add(number);\n      }\n    }\n\n    newBigList.add(newSmallList);\n  }\n\n  print(newBigList);\n}\n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>[[D, 175.52, AA, 175.52, 175.52], [C, 175.52, A, 175.52, 175.52]]\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9239214"}, "is_accepted": false, "score": 0, "last_activity_date": 1531808928, "creation_date": 1531808928, "answer_id": 51374579, "question_id": 51368763, "link": "https://stackoverflow.com/questions/51368763/how-to-replace-list-item-value-with-certain-condition/51374579#51374579", "title": "How to replace List item value with certain condition?", "body": "<p>My question was replace the first (item(0)) and third (item(2)) in the this list. [4, 175.52, 00, 175.52, 175.52]. above post @mans gave me the correct answer. Differences is that in his solution you can replace every item in list if it meets the certain condition. In my problem is similar but replace only 2 items. I use if else statement before switch condition to get what I need.</p>\n\n<pre><code>void main() {\n  List&lt;List&lt;dynamic&gt;&gt; bigList = [\n    [2, 175.52, 00, 175.52, 175.52],\n    [3, 175.52, 01, 175.52, 175.52]\n  ];\n\n  List&lt;List&lt;dynamic&gt;&gt; newBigList = [];\n\n  for (List&lt;dynamic&gt; smallList in bigList) {\n    List&lt;dynamic&gt; newSmallList = [];\n    for (var number in smallList) {\n      if (number == smallList[0]) {\n        switch (number) {\n          case 1:\n            newSmallList.add(\"A\");\n            break;\n          case 2:\n            newSmallList.add(\"B\");\n            break;\n          case 3:\n            newSmallList.add(\"C\");\n            break;\n          case 4:\n            newSmallList.add(\"D\");\n            break;\n\n          default:\n            newSmallList.add(number);\n        }\n      } else if (number == smallList[2]) {\n        switch (number) {\n          case 00:\n            newSmallList.add(\"AA\");\n            break;\n          case 01:\n            newSmallList.add(\"BB\");\n            break;\n          case 12:\n            newSmallList.add(\"CC\");\n            break;\n          case 15:\n            newSmallList.add(\"DD\");\n            break;\n          default:\n            newSmallList.add(number);\n        }\n      } else {\n        newSmallList.add(number);\n      }\n\n      // if else\n    } // inner for\n    newBigList.add(newSmallList);\n  } // outer for\n  print(newBigList);\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9239214"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 51371782, "answer_count": 2, "score": 0, "last_activity_date": 1531808928, "creation_date": 1531768804, "question_id": 51368763, "link": "https://stackoverflow.com/questions/51368763/how-to-replace-list-item-value-with-certain-condition", "title": "How to replace List item value with certain condition?", "body": "<p><strong>Example:</strong> List of List = </p>\n\n<pre><code>[ \n    [4, 175.52, 00, 175.52, 175.52], \n    [3, 175.52, 01, 175.52, 175.52]\n]\n</code></pre>\n\n<ul>\n<li>1 = A </li>\n<li>2 = B </li>\n<li>3 = C </li>\n<li>4 = D</li>\n</ul>\n\n<p>And </p>\n\n<ul>\n<li>00 = AA</li>\n<li>01 = BB</li>\n<li>12 = CC</li>\n<li>15 = DD</li>\n</ul>\n\n<p>I know I can use for loop and replace example in first item like: \n4 to D and 00 to AA </p>\n\n<p><strong>Expected result:</strong></p>\n\n<pre><code>[ \n    [D, 175.52, AA, 175.52, 175.52], \n    [C, 175.52, BB, 175.52, 175.52]\n]\n</code></pre>\n\n<p>So, How to replace List item value with certain condition?</p>\n"}, {"tags": ["dart", "flutter", "reactivex"], "answers": [{"tags": [], "owner": {"reputation": 500, "user_id": 10514118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1be8c97a5c1f18d13dc2c7d06c661e5?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammed", "link": "https://stackoverflow.com/users/10514118/mohammed"}, "is_accepted": false, "score": 1, "last_activity_date": 1539803197, "last_edit_date": 1539803197, "creation_date": 1539801785, "answer_id": 52861616, "question_id": 51368676, "link": "https://stackoverflow.com/questions/51368676/flutter-stream-builder-does-not-work-correctly-when-it-is-fed-with-observable1/52861616#52861616", "title": "Flutter: Stream Builder does not work correctly when it is fed with observable1.mergeWith([observable2])", "body": "<p>I think what the problem here is that each stream emits an event when the response from Firebase arrives, where the data is a collection of entries.</p>\n\n<p>One event example is the result from <code>StreamA</code> is <code>['a', 'b', 'c']</code> and<br>\none event from <code>StreamB</code> is <code>['e', 'f', 'g']</code>.</p>\n\n<p>What you seem to expect from <code>Observable.merge()</code> is</p>\n\n<pre><code>['a', 'b', 'c', 'e', 'f', 'g'],\n</code></pre>\n\n<p>but actually it emits 2 events.<br>\nFirst </p>\n\n<pre><code>['a', 'b', 'c']\n</code></pre>\n\n<p>and then </p>\n\n<pre><code>['e', 'f', 'g'].\n</code></pre>\n\n<p><code>Flutter/StreamBuilder</code> first causes the data from the first event to render, then, when the 2nd event arrives at the widget, it is rebuilt with the data from the 2nd event.</p>\n\n<p>The <code>Observable.scan</code> operator allows you to combine data from multiple events into a single event.</p>\n"}], "owner": {"reputation": 11, "user_id": 10090024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecc70abf680e4cc0f85bcffdfccd529a?s=128&d=identicon&r=PG&f=1", "display_name": "shubham soni", "link": "https://stackoverflow.com/users/10090024/shubham-soni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 676, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1539803197, "creation_date": 1531768414, "last_edit_date": 1531768513, "question_id": 51368676, "link": "https://stackoverflow.com/questions/51368676/flutter-stream-builder-does-not-work-correctly-when-it-is-fed-with-observable1", "title": "Flutter: Stream Builder does not work correctly when it is fed with observable1.mergeWith([observable2])", "body": "<p>I want to merge two Observables or Streams to be used as a streamed input for A Stream Builder to build build out a listview out of those Streamed objects . .</p>\n\n<p>I tried </p>\n\n<pre><code>observable1.mergeWith([observable2])\n</code></pre>\n\n<p>this but the lsit view only showed observable 2. \nif i chain another observable like <code>observable1.mergeWith([observable2]).mergewith([observable3]) Or observable1.mergeWith([observable2,observable3])</code></p>\n\n<p>this only showed me obervable3.</p>\n\n<p>I tried concatwith , combinelatest2 but nothing worked. Any Solution to this. </p>\n\n<p>I tried this too </p>\n\n<pre><code>Observable.combineLatest2(\n                         Observable1, Observable2, (a, b) {\n                         print(\"lengtsdfsdf\"+a.length);\n                        print(\"lengtsdfsdf\"+b.length);\n                        return List.from(a)..addAll(b);\n                       }); // Here the Obsevables are of type Observable&lt;List&lt;obj&gt;&gt; \n</code></pre>\n"}, {"tags": ["rest", "dart", "flutter", "cjk"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 2, "creation_date": 1531768477, "post_id": 51368663, "comment_id": 89709655, "body": "Might be the same issue as <a href=\"https://github.com/dart-lang/http/issues/175\" rel=\"nofollow noreferrer\">github.com/dart-lang/http/issues/175</a>"}], "answers": [{"comments": [{"owner": {"reputation": 907, "user_id": 5739790, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HXP0O.jpg?s=128&g=1", "display_name": "Tran Triet", "link": "https://stackoverflow.com/users/5739790/tran-triet"}, "edited": false, "score": 0, "creation_date": 1531799583, "post_id": 51370010, "comment_id": 89717659, "body": "Thanks for the extra info regarding the encoding tag. That was helpful! Just to make sure I understand you correctly, when I use postman, there are 9 response headers, 2 of which are <code>Content-Encoding \u2192gzip</code> and <code>content-type \u2192application&#47;json</code>. So I guess the <code>encoding</code> tag is not missing, but its value is wrong (e.g. the value should have been &#39;utf-8` instead of &#39;gzip&#39;). Is that right?"}, {"owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "reply_to_user": {"reputation": 907, "user_id": 5739790, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HXP0O.jpg?s=128&g=1", "display_name": "Tran Triet", "link": "https://stackoverflow.com/users/5739790/tran-triet"}, "edited": false, "score": 7, "creation_date": 1531825344, "post_id": 51370010, "comment_id": 89730917, "body": "Actually, just the Content-Type header. With <code>Content-Type: application&#47;json</code> Dart will assume Latin-1 encoding. With <code>Content-Type: application&#47;json; charset=utf-8</code>  Dart will use the specified charset to decode from bytes (response.bodyBytes) to characters (response.body). The work around is to decode the bytes yourself, since you know that the charset is utf-8."}, {"owner": {"reputation": 4857, "user_id": 998537, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/t1FT1.jpg?s=128&g=1", "display_name": "Istiaque Ahmed", "link": "https://stackoverflow.com/users/998537/istiaque-ahmed"}, "edited": false, "score": 0, "creation_date": 1585256559, "post_id": 51370010, "comment_id": 107704729, "body": "@RichardHeap, may I ask you to have a look at a Flutter related question here : <a href=\"https://stackoverflow.com/questions/60565658/fluter-image-picker-package-show-images-one-after-another-with-delete-action\" title=\"fluter image picker package show images one after another with delete action\">stackoverflow.com/questions/60565658/&hellip;</a> ?"}], "tags": [], "owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "is_accepted": true, "score": 80, "last_activity_date": 1531774725, "creation_date": 1531774725, "answer_id": 51370010, "question_id": 51368663, "link": "https://stackoverflow.com/questions/51368663/flutter-fetched-japanese-character-from-server-decoded-wrong/51370010#51370010", "title": "Flutter fetched Japanese character from server decoded wrong", "body": "<p>If you look in postman, you will probably see that the <code>Content-Type</code> http header sent by the server is missing the <code>encoding</code> tag. This causes the Dart http client to decode the body as Latin-1 instead of utf-8. There's a simple workaround:</p>\n\n<pre><code>http.Response response = await http.get('SOME URL',headers: {'Content-Type': 'application/json'});\nList&lt;dynamic&gt; responseJson = json.decode(utf8.decode(response.bodyBytes));\n</code></pre>\n"}], "owner": {"reputation": 907, "user_id": 5739790, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HXP0O.jpg?s=128&g=1", "display_name": "Tran Triet", "link": "https://stackoverflow.com/users/5739790/tran-triet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12678, "favorite_count": 5, "accepted_answer_id": 51370010, "answer_count": 1, "score": 33, "last_activity_date": 1531774725, "creation_date": 1531768367, "question_id": 51368663, "link": "https://stackoverflow.com/questions/51368663/flutter-fetched-japanese-character-from-server-decoded-wrong", "title": "Flutter fetched Japanese character from server decoded wrong", "body": "<p>I am building a mobile app with Flutter.</p>\n\n<p>I need to fetch a <code>json</code> file from server which includes Japanese text. A part of the returned <code>json</code> is: </p>\n\n<pre><code>{\n     \"id\": \"egsPu39L5bLhx3m21t1n\",  \n     \"userId\": \"MCetEAeZviyYn5IMYjnp\",  \n     \"userName\": \"\u5dfd \u88d5\u4eae\",  \n     \"content\": \"\u30d5\u30eb\u30de\u30e9\u30bd\u30f3\u5b8c\u8d70\u306b\u5bfe\u3057\u30662018/05/06\u306e\u3075\u308a\u304b\u3048\u308a\u3092\u884c\u3044\u307e\u3057\u305f\uff01\"\n}\n</code></pre>\n\n<p>Trying the same request on postman or chrome gives the expected result (Japanese characters are rendered properly in the output).</p>\n\n<p>But when the data is fetched with Dart by the following code snippet:</p>\n\n<pre><code>  import 'dart:convert';\n  import 'package:http/http.dart' as http;\n\n  //irrelevant parts have been omitted    \n  final response = await http.get('SOME URL',headers: {'Content-Type': 'application/json'});\n  final List&lt;dynamic&gt; responseJson = json.decode(response.body)\n  print(responseJson);\n</code></pre>\n\n<p>The result of the <code>print</code> statement in logcat is </p>\n\n<pre><code>{\n     id: egsPu39L5bLhx3m21t1n, \n     userId: MCetEAeZviyYn5IMYjnp, \n     userName: \u00e5\u00b7\u00bd \u00e8\u00a3\u00e4\u00ba\u00ae, \n     content: \u00e3\u00e3\u00ab\u00e3\u00e3\u00a9\u00e3\u00bd\u00e3\u00b3\u00e5\u00ae\u00e8\u00b5\u00b0\u00e3\u00ab\u00e5\u00af\u00be\u00e3\u00e3\u00a62018/05/06\u00e3\u00ae\u00e3\u00b5\u00e3\u00e3\u00e3\u00e3\u00e3\u00e8\u00a1\u00e3\u00e3\u00be\u00e3\u00e3\u00ef\u00bc\n}\n</code></pre>\n\n<p>Note that only the Japanese characters (value of the <code>content</code> key) is turns into gibberish, the other non-Japanese values are still displayed properly.</p>\n\n<p>Two notices are:</p>\n\n<ol>\n<li>If I try to display this Japanese text in my app via <code>Text()</code>, the same gibberish is rendered, so it is not a fault of Android Studio's logcat. </li>\n<li>If I use <code>Text('put some Japanese text here directly')</code> (ex: <code>Text('\u7761\u7720')</code>), Flutter displays it correctly, so it is not the <code>Text</code> widget that messes up the Japanese characters.</li>\n</ol>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 149, "user_id": 1445913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43b1b0bedd854af8e7049d8c52ffb7de?s=128&d=identicon&r=PG", "display_name": "Drugo", "link": "https://stackoverflow.com/users/1445913/drugo"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1531879742, "post_id": 51368505, "comment_id": 89756917, "body": "I cannot figure out how I could implement the same result with one big PageView. Any ideas?"}, {"owner": {"reputation": 379, "user_id": 2766148, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/ayl2X.png?s=128&g=1", "display_name": "Markus", "link": "https://stackoverflow.com/users/2766148/markus"}, "edited": false, "score": 0, "creation_date": 1556583847, "post_id": 51368505, "comment_id": 98479469, "body": "It&#39;s been a while, but I think nesting is possible. Just listen to the drag event of the scroll. (If you&#39;re on the on the last tab-slide (length of your tabs) disable inner scroll with * physics: leftDragActive ? NeverScrollableScrollPhysics() : PageScrollPhysics() * Let me know if it works :)"}], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 1445913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43b1b0bedd854af8e7049d8c52ffb7de?s=128&d=identicon&r=PG", "display_name": "Drugo", "link": "https://stackoverflow.com/users/1445913/drugo"}, "edited": false, "score": 0, "creation_date": 1601568482, "post_id": 64068621, "comment_id": 113454743, "body": "Thanks! Thats a great out-of-the-box solution! The only donwside I see is that the <code>BottomNavigationBar</code> animation does not follow the swipping, and just vanish when on the outside page. But I really likes this solution."}], "tags": [], "owner": {"reputation": 1059, "user_id": 2497859, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/20Vbv.png?s=128&g=1", "display_name": "Omatt", "link": "https://stackoverflow.com/users/2497859/omatt"}, "is_accepted": true, "score": 1, "last_activity_date": 1601054120, "creation_date": 1601054120, "answer_id": 64068621, "question_id": 51368505, "link": "https://stackoverflow.com/questions/51368505/nesting-pageviews-in-flutter/64068621#64068621", "title": "Nesting PageViews in flutter", "body": "<p>I was able to replicate the issue on the nested <code>PageView</code>. It seems that the inner <code>PageView</code> overrides the detected gestures. This explains why we're unable to navigate to other pages of the outer <code>PageView</code>, but the <code>BottomNavigationBar</code> can. More details of this behavior is explained in this <a href=\"https://github.com/flutter/flutter/issues/66498\" rel=\"nofollow noreferrer\">thread</a>.</p>\n<p>As a workaround, you can use a single PageView and just hide the <code>BottomNavigationBar</code> on the outer pages. I've modified your code a bit.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(new MyApp());\n\nclass MyApp extends StatefulWidget {\n  @override\n  State&lt;StatefulWidget&gt; createState() {\n    return _MyAppState();\n  }\n}\n\nclass _MyAppState extends State&lt;MyApp&gt; {\n  var index = 0;\n  final PageController pageController = PageController();\n  final Curve _curve = Curves.ease;\n  final Duration _duration = Duration(milliseconds: 300);\n  var isBottomBarVisible = false;\n\n  _navigateToPage(value) {\n    // When BottomNavigationBar button is clicked, navigate to assigned page\n    switch (value) {\n      case 0:\n        value = 1;\n        break;\n      case 1:\n        value = 2;\n        break;\n      case 2:\n        value = 3;\n        break;\n    }\n    pageController.animateToPage(value, duration: _duration, curve: _curve);\n    setState(() {\n      index = value;\n    });\n  }\n\n  // Set BottomNavigationBar indicator only on pages allowed\n  _getNavBarIndex(index) {\n    if (index &lt;= 1)\n      return 0;\n    else if (index == 2)\n      return 1;\n    else if (index &gt;= 3)\n      return 2;\n    else\n      return 0;\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'PageViewCeption',\n      home: Scaffold(\n        body: Container(\n          child: PageView(\n            controller: pageController,\n            onPageChanged: (page) {\n              setState(() {\n                // BottomNavigationBar only appears on page 1 to 3\n                isBottomBarVisible = page &gt; 0 &amp;&amp; page &lt; 4;\n                print('page: $page bottom bar: $isBottomBarVisible');\n                index = page;\n              });\n            },\n            children: &lt;Widget&gt;[\n              Container(\n                color: Colors.red,\n              ),\n              Container(\n                color: Colors.orange,\n              ),\n              Container(\n                color: Colors.yellow,\n              ),\n              Container(\n                color: Colors.green,\n              ),\n              Container(color: Colors.lightBlue)\n            ],\n          ),\n        ),\n        bottomNavigationBar: isBottomBarVisible // if true, generate BottomNavigationBar\n            ? new BottomNavigationBar(\n                type: BottomNavigationBarType.fixed,\n                onTap: (value) =&gt; _navigateToPage(value),\n                currentIndex: _getNavBarIndex(index),\n                items: [\n                  BottomNavigationBarItem(icon: Icon(Icons.cake), label: '1'),\n                  BottomNavigationBarItem(icon: Icon(Icons.cake), label: '2'),\n                  BottomNavigationBarItem(icon: Icon(Icons.cake), label: '3')\n                ],\n              )\n        //else, create an empty container to hide the BottomNavigationBar\n            : Container(\n                height: 0,\n              ),\n      ),\n    );\n  }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/4wKXe.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4wKXe.gif\" alt=\"enter image description here\" /></a></p>\n"}], "owner": {"reputation": 149, "user_id": 1445913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43b1b0bedd854af8e7049d8c52ffb7de?s=128&d=identicon&r=PG", "display_name": "Drugo", "link": "https://stackoverflow.com/users/1445913/drugo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2992, "favorite_count": 2, "accepted_answer_id": 64068621, "answer_count": 1, "score": 3, "last_activity_date": 1601054120, "creation_date": 1531767527, "last_edit_date": 1531879998, "question_id": 51368505, "link": "https://stackoverflow.com/questions/51368505/nesting-pageviews-in-flutter", "title": "Nesting PageViews in flutter", "body": "<p>I want to nest PageViews in flutter, with a PageView inside a Scaffold inside a PageView. In the outer PageView I will have the logo and contact informations, as well as secundary infos. As a child, I will have a scaffold with the inner PageView and a BottomNavigationBar as the main user interaction screen. Here is the code I have so far:</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(new MyApp());\n\nclass MyApp extends StatefulWidget{\n\n    @override\n    State&lt;StatefulWidget&gt; createState() {\n        return _MyAppState();\n  }\n\n}\n\nclass _MyAppState extends State&lt;MyApp&gt;{\n    int index = 0;\n    final PageController pageController = PageController();\n    final Curve _curve = Curves.ease;\n    final Duration _duration = Duration(milliseconds: 300);\n\n    _navigateToPage(value){\n        pageController.animateToPage(\n            value,\n            duration: _duration,\n            curve: _curve\n        );\n        setState((){\n            index = value;\n        });\n    }\n\n    @override\n    Widget build(BuildContext context) {\n\n        return MaterialApp(\n            title: 'PageViewCeption',\n            home: PageView(\n                children: &lt;Widget&gt;[\n                    Container(\n                        color: Colors.blue,\n                    ),\n                    Scaffold(\n                        body: PageView(\n                            controller: pageController,\n                            onPageChanged: (page){\n                                setState(() {\n                                  index = page;\n                                });\n                            },\n                            children: &lt;Widget&gt;[\n                                Container(\n                                    child: Center(\n                                        child: Text('1', style: TextStyle(color: Colors.white))\n                                    )\n                                ),\n                                Container(\n                                    child: Center(\n                                        child: Text('2', style: TextStyle(color: Colors.white))\n                                    )\n                                ),\n                                Container(\n                                    child: Center(\n                                        child: Text('3', style: TextStyle(color: Colors.white))\n                                    )\n                                ),\n                            ],\n                        ),\n                        backgroundColor: Colors.green,\n                        bottomNavigationBar: BottomNavigationBar(\n                            type: BottomNavigationBarType.fixed,\n                            onTap: (value) =&gt;_navigateToPage(value),\n                            currentIndex: index,\n                            items: [\n                                BottomNavigationBarItem(\n                                    icon: Icon(Icons.cake),\n                                    title: Text('1')\n                                ),\n                                BottomNavigationBarItem(\n                                    icon: Icon(Icons.cake),\n                                    title: Text('2')\n                                ),\n                                BottomNavigationBarItem(\n                                    icon: Icon(Icons.cake),\n                                    title: Text('3')\n                                )\n                            ],\n                        ),\n                    ),\n                    Container(\n                        color: Colors.blue\n                    )\n                ],\n            ),\n        );\n    }\n}\n</code></pre>\n\n<p>Here is the result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wFUeh.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wFUeh.gif\" alt=\"PageViewCeption\"></a></p>\n\n<p>Problem is: When I am in the inner PageView, I can't get away from it to the outer one scrolling left on the first page, or scrolling right on the last page of the inner PageView. The only way to go back to the outer PageView in scrolling (swiping) on the BottomNavigationBar.\nIn <a href=\"https://docs.flutter.io/flutter/widgets/ScrollPhysics-class.html\" rel=\"nofollow noreferrer\">the docs</a> of the Scroll Physics Class we find this in the description: </p>\n\n<blockquote>\n  <p>For example, determines how the Scrollable will behave when the user reaches the maximum scroll extent or when the user stops scrolling.</p>\n</blockquote>\n\n<p>But I haven't been able to come up with a solution yet. Any thoughts?</p>\n\n<h1>Update 1</h1>\n\n<p>I had progress working with a CustomScrollPhysics class:</p>\n\n<pre><code>class CustomScrollPhysics extends ScrollPhysics{\n\n     final PageController _controller;\n\n     const CustomScrollPhysics(this._controller, {ScrollPhysics parent }) : super(parent: parent);\n\n     @override\n     CustomScrollPhysics applyTo(ScrollPhysics ancestor) {\n       return CustomScrollPhysics(_controller, parent: buildParent(ancestor));\n     }\n\n     @override\n     double applyBoundaryConditions(ScrollMetrics position, double value) {\n       assert(() {\n         if (value == position.pixels) {\n           throw new FlutterError(\n             '$runtimeType.applyBoundaryConditions() was called redundantly.\\n'\n             'The proposed new position, $value, is exactly equal to the current position of the '\n             'given ${position.runtimeType}, ${position.pixels}.\\n'\n             'The applyBoundaryConditions method should only be called when the value is '\n             'going to actually change the pixels, otherwise it is redundant.\\n'\n             'The physics object in question was:\\n'\n             '  $this\\n'\n             'The position object in question was:\\n'\n             '  $position\\n'\n           );\n         }\n         return true;\n       }());\n       if (value &lt; position.pixels &amp;&amp; position.pixels &lt;= position.minScrollExtent){ // underscroll\n         _controller.jumpTo(position.viewportDimension + value);\n         return 0.0;\n       }\n       if (position.maxScrollExtent &lt;= position.pixels &amp;&amp; position.pixels &lt; value) {// overscroll\n         _controller.jumpTo(position.viewportDimension + (value - position.viewportDimension*2));\n         return 0.0;\n       }\n       if (value &lt; position.minScrollExtent &amp;&amp; position.minScrollExtent &lt; position.pixels) // hit top edge\n         return value - position.minScrollExtent;\n       if (position.pixels &lt; position.maxScrollExtent &amp;&amp; position.maxScrollExtent &lt; value) // hit bottom edge\n         return value - position.maxScrollExtent;\n       return 0.0;\n     }\n}\n</code></pre>\n\n<p>Which is a modification of the ClampingScrollPhysics applyBoundaryConditions. It kinda works but because of the pageSnapping it is really buggy. It happens, because according to <a href=\"https://docs.flutter.io/flutter/widgets/ScrollController/jumpTo.html\" rel=\"nofollow noreferrer\">the docs</a>:</p>\n\n<blockquote>\n  <p>Any active animation is canceled. If the user is currently scrolling, that\n  action is canceled.</p>\n</blockquote>\n\n<p>When the action is canceled, the PageView starts to snap back to the Scafold page, if the user stop draggin the screen, and this messes things up. Any ideas on how to avoid the page snapping in this case, or for better implementation for that matter?</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 14105, "user_id": 4231909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NbwgO.jpg?s=128&g=1", "display_name": "Jonah Williams", "link": "https://stackoverflow.com/users/4231909/jonah-williams"}, "edited": false, "score": 0, "creation_date": 1531793696, "post_id": 51368088, "comment_id": 89716494, "body": "This works just fine for me, are you sure the problem isn&#39;t somewhere else?"}, {"owner": {"reputation": 146, "user_id": 8338783, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jO6d3BQRMiA/AAAAAAAAAAI/AAAAAAAAFSM/1IOD4MyY5XE/photo.jpg?sz=128", "display_name": "Spencer", "link": "https://stackoverflow.com/users/8338783/spencer"}, "reply_to_user": {"reputation": 14105, "user_id": 4231909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NbwgO.jpg?s=128&g=1", "display_name": "Jonah Williams", "link": "https://stackoverflow.com/users/4231909/jonah-williams"}, "edited": false, "score": 0, "creation_date": 1531836061, "post_id": 51368088, "comment_id": 89738552, "body": "If I place all of the classes into the same file, it works. When I separate the view into a different file, I get this error."}], "owner": {"reputation": 146, "user_id": 8338783, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jO6d3BQRMiA/AAAAAAAAAAI/AAAAAAAAFSM/1IOD4MyY5XE/photo.jpg?sz=128", "display_name": "Spencer", "link": "https://stackoverflow.com/users/8338783/spencer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 638, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1531836576, "creation_date": 1531765844, "last_edit_date": 1531836576, "question_id": 51368088, "link": "https://stackoverflow.com/questions/51368088/subclass-of-custom-state-object-cannot-be-used-in-createstate", "title": "Subclass of custom State object cannot be used in createState", "body": "<p>I am attempting to separate my state from my views as this tutorial describes: <a href=\"https://blog.usejournal.com/easily-navigate-through-your-flutter-code-by-separating-view-and-view-model-240026191106\" rel=\"nofollow noreferrer\">https://blog.usejournal.com/easily-navigate-through-your-flutter-code-by-separating-view-and-view-model-240026191106</a>. Unfortunately, it looks like Flutter is expecting <code>createState</code> to return an object that extends <code>State&lt;&gt;</code> directly and not a subclass of another class.</p>\n\n<p>Exception:</p>\n\n<p><code>StatefulWidget.createState must return a subtype of State&lt;RateAdvisorScreen&gt;. The createState function for RateAdvisorScreen returned a state of type RateAdvisorView, which is not a subtype of State&lt;RateAdvisorScreen&gt;, violating the contract for createState.</code></p>\n\n<p>Here are my class definitions:</p>\n\n<p><code>class RateAdvisorScreen extends StatefulWidget\nabstract class RateAdvisorState extends State&lt;RateAdvisorScreen&gt;\nclass RateAdvisorView extends RateAdvisorState</code></p>\n\n<p>Any help would be greatly appreciated. Thanks.</p>\n\n<p><strong>Additional information</strong></p>\n\n<p>This only seems to happen when the view class has been separated into its own file. If all three classes have been defined in the same file, there are no issues.</p>\n"}, {"tags": ["firebase", "dart", "google-cloud-firestore", "flutter"], "comments": [{"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 1, "creation_date": 1531765892, "post_id": 51368038, "comment_id": 89708567, "body": "It sounds like you want to make periodic changes to the database from a trusted system. Cloud Functions are a great choice for this, especially when using something like cron-job.org to trigger them. See <a href=\"https://stackoverflow.com/questions/42790735/cloud-functions-for-firebase-trigger-on-time\" title=\"cloud functions for firebase trigger on time\">stackoverflow.com/questions/42790735/&hellip;</a>"}, {"owner": {"reputation": 61, "user_id": 10089798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b7c7f1b5d96dd65f3da64eab8388f6?s=128&d=identicon&r=PG&f=1", "display_name": "Fernando Henrique K&#246;etz", "link": "https://stackoverflow.com/users/10089798/fernando-henrique-k%c3%b6etz"}, "reply_to_user": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1531825704, "post_id": 51368038, "comment_id": 89731130, "body": "I read about Firebase Cloud Functions... this will probably work well in my project. Thank you so much, @FrankvanPuffelen"}], "owner": {"reputation": 61, "user_id": 10089798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b7c7f1b5d96dd65f3da64eab8388f6?s=128&d=identicon&r=PG&f=1", "display_name": "Fernando Henrique K&#246;etz", "link": "https://stackoverflow.com/users/10089798/fernando-henrique-k%c3%b6etz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 14, "favorite_count": 0, "closed_date": 1531832762, "answer_count": 0, "score": 1, "last_activity_date": 1531765632, "creation_date": 1531765632, "question_id": 51368038, "link": "https://stackoverflow.com/questions/51368038/delivering-programmed-content-with-timer-on-a-flutter-firebase-app", "closed_reason": "Duplicate", "title": "Delivering programmed content with timer on a Flutter/Firebase app", "body": "<p>I've been developing a Flutter mobile App, and I'm using the Firebase Cloud Firestore to deliver \"cards\" on the app. But I need to create a \"rule\" to change for another card each 24 hours, or if possible, to change every midnight in the user's time. </p>\n\n<p>I don't know how I can do this... if I create a code for this in the app, will not this restart the timer always the user restart the app? </p>\n\n<p>Please, if the solution is in Flutter/Firebase docs, invite me the link, I didn't find nothing about this.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["firebase", "authentication", "dart", "firebase-authentication", "flutter"], "comments": [{"owner": {"reputation": 314, "user_id": 1780668, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/662b9bc09131b372511d0f6472b4c9df?s=128&d=identicon&r=PG&f=1", "display_name": "Vignesh", "link": "https://stackoverflow.com/users/1780668/vignesh"}, "edited": false, "score": 0, "creation_date": 1531765598, "post_id": 51366942, "comment_id": 89708428, "body": "you want to re-use the <code>username</code> variable?"}, {"owner": {"reputation": 265, "user_id": 10075718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5897dc6555afb55a34cde9658fe870?s=128&d=identicon&r=PG&f=1", "display_name": "serjo macken", "link": "https://stackoverflow.com/users/10075718/serjo-macken"}, "reply_to_user": {"reputation": 314, "user_id": 1780668, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/662b9bc09131b372511d0f6472b4c9df?s=128&d=identicon&r=PG&f=1", "display_name": "Vignesh", "link": "https://stackoverflow.com/users/1780668/vignesh"}, "edited": false, "score": 0, "creation_date": 1531766160, "post_id": 51366942, "comment_id": 89708682, "body": "yes I want to reuse it @Vignesh"}, {"owner": {"reputation": 1400, "user_id": 6775560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a58c4e4004e0b4aa7d08a1d7cdd0b14?s=128&d=identicon&r=PG", "display_name": "Rodrigo Mata", "link": "https://stackoverflow.com/users/6775560/rodrigo-mata"}, "edited": false, "score": 0, "creation_date": 1531932941, "post_id": 51366942, "comment_id": 89785813, "body": "Have you tried moving the scope of <code>username</code>? Eg: before <code>new Tile(...)</code>"}], "owner": {"reputation": 265, "user_id": 10075718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5897dc6555afb55a34cde9658fe870?s=128&d=identicon&r=PG&f=1", "display_name": "serjo macken", "link": "https://stackoverflow.com/users/10075718/serjo-macken"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 157, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1531761137, "creation_date": 1531761137, "question_id": 51366942, "link": "https://stackoverflow.com/questions/51366942/updating-the-values-of-variables-in-flutter", "title": "updating the values of variables in flutter", "body": "<p>i have a variable declared in a list tile and i have many other list tiles and I want to use the value of this variable In other places since it is important , can you help?? This is the code :</p>\n\n<pre><code>new ListTile(\n          title: new Text(\"Log In\"),\n          leading: new Icon(Icons.account_box),\n          onTap: () =&gt; _signIn()\n              .then((FirebaseUser user) =&gt; print(user))\n              .catchError((e) =&gt; print(e)),\n          subtitle: StreamBuilder(\n            stream: FirebaseAuth.instance.onAuthStateChanged,\n            builder: (BuildContext context, AsyncSnapshot&lt;FirebaseUser&gt; snapshot) {\n              var username='';\n              if (snapshot.connectionState == ConnectionState.waiting) {\n                return Text('loading');\n              } else if (!snapshot.hasData) {\n                username= 'you are not logged in';\n                return Text(username);\n              } else {\n                username = snapshot.data.displayName;\n                return Text(username);\n              }\n            },\n          )\n        ),\n        new ListTile(\n          title: new Text(\"Log Out\"),\n          leading: new Icon(Icons.account_circle),\n          onTap: () =&gt; _signOut(),\n        ),\n</code></pre>\n\n<p>I want to use the variable in the next tile in the ontap function</p>\n"}, {"tags": ["dart"], "answers": [{"comments": [{"owner": {"reputation": 13928, "user_id": 1058292, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/M7vPd.jpg?s=128&g=1", "display_name": "atreeon", "link": "https://stackoverflow.com/users/1058292/atreeon"}, "edited": false, "score": 0, "creation_date": 1531761903, "post_id": 51366801, "comment_id": 89706512, "body": "Perfect :-) Thanks"}], "tags": [], "owner": {"reputation": 14105, "user_id": 4231909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NbwgO.jpg?s=128&g=1", "display_name": "Jonah Williams", "link": "https://stackoverflow.com/users/4231909/jonah-williams"}, "is_accepted": true, "score": 8, "last_activity_date": 1531760538, "creation_date": 1531760538, "answer_id": 51366801, "question_id": 51366751, "link": "https://stackoverflow.com/questions/51366751/what-is-the-dart-equivalent-of-cs-funcbool-string-type-ie-how-do-i-declare/51366801#51366801", "title": "What is the dart equivalent of C#&#39;s Func&lt;bool, String&gt; type, ie how do I declare a strongly typed function variable?", "body": "<p><code>Function</code> allows you to specify your input and output types, and can be used as method parameters and return types, in generics, or they can be given a name using a typedef.</p>\n\n<pre><code>/// As a method parameter.\nvoid takesACallback(void Function(int, String) callback) {}\n\n/// As a type parameter.\nfinal mapOfFunctions = &lt;int, String Function(bool)&gt;{};\n\n/// Named with a typedef.\ntypedef MyCallback = void Function(int);\n\n/// Using the typedef\nvoid myMethod(MyCallback myCallback) {}\n</code></pre>\n"}], "owner": {"reputation": 13928, "user_id": 1058292, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/M7vPd.jpg?s=128&g=1", "display_name": "atreeon", "link": "https://stackoverflow.com/users/1058292/atreeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 258, "favorite_count": 0, "accepted_answer_id": 51366801, "answer_count": 1, "score": 2, "last_activity_date": 1531760538, "creation_date": 1531760308, "question_id": 51366751, "link": "https://stackoverflow.com/questions/51366751/what-is-the-dart-equivalent-of-cs-funcbool-string-type-ie-how-do-i-declare", "title": "What is the dart equivalent of C#&#39;s Func&lt;bool, String&gt; type, ie how do I declare a strongly typed function variable?", "body": "<p>In C# it is possible to strongly type function variables and parameters.</p>\n\n<p>What is the dart equivalent of this c# code?</p>\n\n<pre><code>Func&lt;bool, String&gt; myFunc;\n</code></pre>\n\n<p>I am aware of the <code>Function</code> type but it doesn't allow me to define my input and output types, is there any way to acheive this in dart?</p>\n"}, {"tags": ["firebase", "dart", "firebase-authentication", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 265, "user_id": 10075718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5897dc6555afb55a34cde9658fe870?s=128&d=identicon&r=PG&f=1", "display_name": "serjo macken", "link": "https://stackoverflow.com/users/10075718/serjo-macken"}, "edited": false, "score": 0, "creation_date": 1531753005, "post_id": 51364381, "comment_id": 89701716, "body": "this code is good but the text doesnt change unless I close the app from the task manager then reopen it can you suggest another edit creativecreatorormaybenot"}, {"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "reply_to_user": {"reputation": 265, "user_id": 10075718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5897dc6555afb55a34cde9658fe870?s=128&d=identicon&r=PG&f=1", "display_name": "serjo macken", "link": "https://stackoverflow.com/users/10075718/serjo-macken"}, "edited": false, "score": 0, "creation_date": 1531754195, "post_id": 51364381, "comment_id": 89702459, "body": "@serjomacken Done."}], "tags": [], "owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "is_accepted": false, "score": 1, "last_activity_date": 1531754185, "last_edit_date": 1592644375, "creation_date": 1531752106, "answer_id": 51364381, "question_id": 51364154, "link": "https://stackoverflow.com/questions/51364154/usernames-in-google-auth-flutter/51364381#51364381", "title": "usernames in google auth flutter", "body": "<h3>Fixing the problem</h3>\n<p>You can simply replace <code>snapshot.connectionState == ConnectionState.waiting</code> with <code>snapshot.hasData</code>, which <a href=\"https://github.com/flutter/flutter/blob/master/packages/flutter/lib/src/widgets/async.dart#L255\" rel=\"nofollow noreferrer\">is the equivalent of <code>snpashot.data != null</code></a>. This, however, will display <code>'you are not logged in'</code> even when still waiting. I added a <code>'loading'</code> <code>Text</code> for waiting:</p>\n<pre><code>builder: (BuildContext context, AsyncSnapshot&lt;FirebaseUser&gt; snapshot) {\n  if (snapshot.connectionState == ConnectionState.waiting) {\n    return Text('loading');\n  } else if (!snapshot.hasData) {\n    return Text('you are not logged in');\n  } else {\n    return Text(snapshot.data.displayName);\n  }\n}\n</code></pre>\n<p>This works because <a href=\"https://github.com/flutter/plugins/blob/master/packages/firebase_auth/lib/firebase_auth.dart#L279\" rel=\"nofollow noreferrer\"><code>currentUser()</code> returns <code>null</code> if there is no current user</a>.</p>\n<h3>A suggestion</h3>\n<p>You are currently using <code>currentUser()</code>, which does not update on authentication changes. You can use <a href=\"https://github.com/flutter/plugins/blob/master/packages/firebase_auth/lib/firebase_auth.dart#L115\" rel=\"nofollow noreferrer\"><code>onAuthStateChanged</code></a>, which is a stream that will update <em><strong>every</strong> time</em> and always provide you with the latest user. For this, you will have to migrate to <code>StreamBuilder</code>:</p>\n<pre><code>subtitle: StreamBuilder(\n            stream: FirebaseAuth.instance.onAuthStateChanged,\n            builder: (BuildContext context, AsyncSnapshot&lt;FirebaseUser&gt; snapshot) {\n              if (snapshot.connectionState == ConnectionState.waiting) {\n                return Text('loading');\n              } else if (!snapshot.hasData) {\n                return Text('you are not logged in');\n              } else {\n                return Text(snapshot.data.displayName);\n              }\n            },\n          )\n</code></pre>\n"}], "owner": {"reputation": 265, "user_id": 10075718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5897dc6555afb55a34cde9658fe870?s=128&d=identicon&r=PG&f=1", "display_name": "serjo macken", "link": "https://stackoverflow.com/users/10075718/serjo-macken"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531754185, "creation_date": 1531751352, "last_edit_date": 1531753574, "question_id": 51364154, "link": "https://stackoverflow.com/questions/51364154/usernames-in-google-auth-flutter", "title": "usernames in google auth flutter", "body": "<p>I am facing the following problem: I am displaying the username of the google account of the user in a subtitle in a list tile, but the code that I use displays an error if the user is not logged in first, so how can I edit this code to display you are not logged in when the user is not logged in or is logged out. Also, how to display the username of the google account if the user is signed in or changed his account this is the code:</p>\n\n<pre><code>subtitle: new FutureBuilder&lt;FirebaseUser&gt;(\n            future: FirebaseAuth.instance.currentUser(),\n            builder: (BuildContext context,AsyncSnapshot&lt;FirebaseUser&gt; snapshot){\n              if (snapshot.connectionState == ConnectionState.waiting) {\n                return new Text(snapshot.data.displayName);\n              }\n              else {\n                return new Text('you are not logged in');\n              }\n            },\n</code></pre>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 579, "user_id": 5767017, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/342ac10b2950696c69f9ed632cc49ed8?s=128&d=identicon&r=PG&f=1", "display_name": "Anderson Oki", "link": "https://stackoverflow.com/users/5767017/anderson-oki"}, "edited": false, "score": 1, "creation_date": 1531735123, "post_id": 51359059, "comment_id": 89690385, "body": "Worked like a charm. I can convert to a list using <code>_buildGitIgnoreTemplateItems().toList()</code>. Thank you @G&#252;nter"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 579, "user_id": 5767017, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/342ac10b2950696c69f9ed632cc49ed8?s=128&d=identicon&r=PG&f=1", "display_name": "Anderson Oki", "link": "https://stackoverflow.com/users/5767017/anderson-oki"}, "edited": false, "score": 0, "creation_date": 1531735292, "post_id": 51359059, "comment_id": 89690497, "body": "Not sure though what the purpose is that you want to do it this way. Looks like what you want might be just  <code>_gitIgnoreTemplateNames.map((templateName) =&gt; DropdownMenuItem(child Text(templateName), value: templateName)).toList()</code>"}, {"owner": {"reputation": 579, "user_id": 5767017, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/342ac10b2950696c69f9ed632cc49ed8?s=128&d=identicon&r=PG&f=1", "display_name": "Anderson Oki", "link": "https://stackoverflow.com/users/5767017/anderson-oki"}, "edited": false, "score": 0, "creation_date": 1531738158, "post_id": 51359059, "comment_id": 89692202, "body": "The <code>map</code> method is what i was looking for. Thank you"}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 2, "last_activity_date": 1531738682, "last_edit_date": 1531738682, "creation_date": 1531734729, "answer_id": 51359059, "question_id": 51358988, "link": "https://stackoverflow.com/questions/51358988/c-yield-return-on-dart-flutter-return-liststring-in-loop/51359059#51359059", "title": "C# Yield Return on Dart / Flutter Return List&lt;String&gt; in Loop", "body": "<p>C# is way too long ago, but it looks like <a href=\"https://www.dartlang.org/articles/language/beyond-async#synchronous-generators-sync\" rel=\"nofollow noreferrer\">Synchronous generators</a></p>\n\n<pre><code>Iterable&lt;DropdownMenuItem&lt;String&gt;&gt; _buildGitIgnoreTemplateItems() sync* {\n    for(var templateName in _gitIgnoreTemplateNames) {\n        yield DropdownMenuItem(\n            child: Text(templateName),\n            value: templateName,\n        );\n    }\n}\n</code></pre>\n\n<p>but perhaps you just want</p>\n\n<pre><code>_gitIgnoreTemplateNames.map((templateName) =&gt; \n    DropdownMenuItem(\n      child Text(templateName), \n      value: templateName)\n    ).toList()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "is_accepted": false, "score": 1, "last_activity_date": 1531734775, "creation_date": 1531734775, "answer_id": 51359070, "question_id": 51358988, "link": "https://stackoverflow.com/questions/51358988/c-yield-return-on-dart-flutter-return-liststring-in-loop/51359070#51359070", "title": "C# Yield Return on Dart / Flutter Return List&lt;String&gt; in Loop", "body": "<p>The equivalent in dart is with <code>Stream</code> and <code>StreamController</code> for async. And <code>Iterable</code> for sync. You can create them manually or using custom function with <code>async*</code> or <code>sync*</code> keywords</p>\n\n<pre><code>Iterable&lt;String&gt; foo() sync* {\n  yield \"Hello\";\n}\n\n\nStream&lt;String&gt; foo() async* {\n  yield \"Hello\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "is_accepted": false, "score": 1, "last_activity_date": 1531735311, "creation_date": 1531735311, "answer_id": 51359231, "question_id": 51358988, "link": "https://stackoverflow.com/questions/51358988/c-yield-return-on-dart-flutter-return-liststring-in-loop/51359231#51359231", "title": "C# Yield Return on Dart / Flutter Return List&lt;String&gt; in Loop", "body": "<p>Dart has a simpler syntax to achieve what you want:</p>\n\n<pre><code>List&lt;DropdownMenuItem&lt;String&gt;&gt; _buildGitIgnoreTemplateItems() {\n  return _gitIgnoreTemplateNames\n      .map((g) =&gt; DropdownMenuItem(\n            child: Text(g),\n            value: g,\n          ))\n      .toList();\n}\n</code></pre>\n"}], "owner": {"reputation": 579, "user_id": 5767017, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/342ac10b2950696c69f9ed632cc49ed8?s=128&d=identicon&r=PG&f=1", "display_name": "Anderson Oki", "link": "https://stackoverflow.com/users/5767017/anderson-oki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 775, "favorite_count": 0, "accepted_answer_id": 51359059, "answer_count": 3, "score": 1, "last_activity_date": 1531738682, "creation_date": 1531734521, "question_id": 51358988, "link": "https://stackoverflow.com/questions/51358988/c-yield-return-on-dart-flutter-return-liststring-in-loop", "title": "C# Yield Return on Dart / Flutter Return List&lt;String&gt; in Loop", "body": "<p>I have the following method:</p>\n\n<pre><code>List&lt;DropdownMenuItem&lt;String&gt;&gt; _buildGitIgnoreTemplateItems() {\n    var _dropDownMenuItems = List&lt;DropdownMenuItem&lt;String&gt;&gt;();\n\n    _gitIgnoreTemplateNames.forEach((templateName) {\n        _dropDownMenuItems.add(DropdownMenuItem(\n            child: Text(templateName),\n            value: templateName,\n        ));\n    });\n\n    return _dropDownMenuItems;\n}\n</code></pre>\n\n<p>What i am trying to achived is remove the variable <code>_dropDownMenuItems</code> something like:</p>\n\n<pre><code>List&lt;DropdownMenuItem&lt;String&gt;&gt; _buildGitIgnoreTemplateItems() {\n    _gitIgnoreTemplateNames.forEach((templateName) {\n        **yield return** DropdownMenuItem(\n            child: Text(templateName),\n            value: templateName,\n        );\n    });\n}\n</code></pre>\n\n<p>You can see similar implementation in other languages like: <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/yield\" rel=\"nofollow noreferrer\" title=\"C#\">C#</a></p>\n"}, {"tags": ["arrays", "list", "dart", "flutter"], "comments": [{"owner": {"reputation": 60118, "user_id": 97572, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/78e766598ac1d90c5c9b273558a912c5?s=128&d=identicon&r=PG", "display_name": "RameshVel", "link": "https://stackoverflow.com/users/97572/rameshvel"}, "edited": false, "score": 1, "creation_date": 1531733256, "post_id": 51357382, "comment_id": 89689269, "body": "Dart lists are arrays... And you have <code>split</code> already return the List.. so whats the issue??"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9239214"}, "edited": false, "score": 0, "creation_date": 1531734167, "post_id": 51357382, "comment_id": 89689777, "body": "I need to save as table in flutter local sqlite or use shard_preferencs. How do I do this? First example is [1][4] and second one is [2][4] array. But I don&#39;t know how to do it."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9239214"}, "edited": false, "score": 0, "creation_date": 1531734284, "post_id": 51358790, "comment_id": 89689854, "body": "Sorry, but into is not an option. I need to save as table in flutter local sqlite or use shard_preferencs. So I have a format and list in my hand. But I don&#39;t know how to save as a table in flutter local sqlite or use shard_preferencs."}, {"owner": {"reputation": 15917, "user_id": 5211833, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Pyme2.jpg?s=128&g=1", "display_name": "Adriaan", "link": "https://stackoverflow.com/users/5211833/adriaan"}, "edited": false, "score": 0, "creation_date": 1531813193, "post_id": 51358790, "comment_id": 89722956, "body": "@NiyaziToros seeing you are not the original poster of this question, please ask a separate question if this one does not address your issues."}], "tags": [], "owner": {"reputation": 228, "user_id": 936371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2918e31aa4ddc7818ddbb52c7a52df90?s=128&d=identicon&r=PG", "display_name": "speedyGonzales", "link": "https://stackoverflow.com/users/936371/speedygonzales"}, "is_accepted": false, "score": 0, "last_activity_date": 1531733943, "creation_date": 1531733943, "answer_id": 51358790, "question_id": 51357382, "link": "https://stackoverflow.com/questions/51357382/how-to-add-formatted-string-into-list-or-array/51358790#51358790", "title": "How to add formatted String into List or Array?", "body": "<p>Most probably you need to use <a href=\"https://pub.dartlang.org/packages/intl\" rel=\"nofollow noreferrer\">intl</a> package to handle string manipulation . \"This package provides internationalization and localization facilities, including message translation, plurals and genders, date/number formatting and parsing, and bidirectional text.\"</p>\n\n<p>About your second question - I would create class Person with  name, surname, city, country String fields and then have  List to hold my data. </p>\n"}, {"comments": [{"owner": {"reputation": 664, "user_id": 3362234, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/FsL5r.png?s=128&g=1", "display_name": "NTMS", "link": "https://stackoverflow.com/users/3362234/ntms"}, "edited": false, "score": 0, "creation_date": 1531747087, "post_id": 51360753, "comment_id": 89697672, "body": "@Irn can you show me how to get data from return statement?"}, {"owner": {"reputation": 664, "user_id": 3362234, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/FsL5r.png?s=128&g=1", "display_name": "NTMS", "link": "https://stackoverflow.com/users/3362234/ntms"}, "edited": false, "score": 0, "creation_date": 1531760634, "post_id": 51360753, "comment_id": 89705919, "body": "I called it like;  List&lt;List&lt;String&gt;&gt; niyazi = makeTable(mText);"}, {"owner": {"reputation": 664, "user_id": 3362234, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/FsL5r.png?s=128&g=1", "display_name": "NTMS", "link": "https://stackoverflow.com/users/3362234/ntms"}, "edited": false, "score": 0, "creation_date": 1531760677, "post_id": 51360753, "comment_id": 89705951, "body": "List&lt;List&lt;String&gt;&gt; returnArray = new List.generate(       row, (i) =&gt; entries.sublist(2 + i * col, 2 + (i + 1) * col));    return returnArray;"}], "tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": true, "score": 2, "last_activity_date": 1531740487, "creation_date": 1531740487, "answer_id": 51360753, "question_id": 51357382, "link": "https://stackoverflow.com/questions/51357382/how-to-add-formatted-string-into-list-or-array/51360753#51360753", "title": "How to add formatted String into List or Array?", "body": "<p>Would this do the job:</p>\n\n<pre><code>List&lt;List&lt;String&gt;&gt; makeTable(String text) {\n  var entries = text.split(\"#.#\");\n  if (entries.length &lt; 2) {\n    throw ArgumentError.value(text, \"text\", \"Invalid format\");\n  }\n  int row = int.parse(entries[0]);\n  int col = int.parse(entries[1]);\n  if (entries.length != 2 + row * col) {\n    throw ArgumentError.value(text, \"text\", \"Invalid format\");\n  }\n  return List.generate(row, (i) =&gt; \n      entries.sublist(2 + i * col, 2 + (i + 1) * col));\n}\n</code></pre>\n\n<p>This parses the first two entries as integers to find the expected dimensions, then creates a list-of-lists (of strings) containing the remaining entries.</p>\n"}], "owner": {"reputation": 664, "user_id": 3362234, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/FsL5r.png?s=128&g=1", "display_name": "NTMS", "link": "https://stackoverflow.com/users/3362234/ntms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 850, "favorite_count": 1, "accepted_answer_id": 51360753, "answer_count": 2, "score": -1, "last_activity_date": 1531740487, "creation_date": 1531728983, "last_edit_date": 1531732965, "question_id": 51357382, "link": "https://stackoverflow.com/questions/51357382/how-to-add-formatted-string-into-list-or-array", "title": "How to add formatted String into List or Array?", "body": "<p>I have an incoming socket data as shown below;</p>\n\n<p><strong>Example-1:</strong>\n       1#.#4#.#B#.#175.52#.#USD#.#Currency</p>\n\n<p><strong>Example-2:</strong> \n2#.#4#.#MyName#.#MySurname#.#MyCity#.#MyCountry#.#YourName#.#YourSurname#.#YourCity#.#YourCountry</p>\n\n<p><strong>Explanation for Example-1:</strong>\n       Separator:       #.#\n       Column_count:    4\n       Rows_count:      1</p>\n\n<pre><code>                Col1    Col2    Col3    Col4\nRow-1:          B       175.52  USD     Currency\n</code></pre>\n\n<p><strong>Explanation for Example-2:</strong>\n       Separator:       #.#\n       Column_count:    4\n       Rows_count:      2</p>\n\n<pre><code>                Col1        Col2        Col3        Col4\nRow-1:          MyName      MySurname   MyCity      MyCountry\nRow-2:          YourName.   YourSurname YourCity    YourCountry\n</code></pre>\n\n<p>In dart (or flutter) how can I add this into List or Array? What is the best practice?\nHow can I iterate incoming string use split function and add some array?</p>\n\n<p><strong>Update-1:</strong></p>\n\n<p>I know how to use split function. My problem is that I need to add the string in table, array or map, so I can save it to device and use it later. How can achieve this? I need to use the function in Fluter.</p>\n\n<pre><code>main() {\n  String mText = \"1#.#4#.#B#.#175.52#.#USD#.#Currency\";\n  List&lt;String&gt; mData = mText.split(\"#.#\");\n  print(mData.toString());\n  // The List: [1, 4, B, 175.52, USD, Currency]\n}\n</code></pre>\n\n<p>Any help please?</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1545925078, "post_id": 51355904, "comment_id": 94733238, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/q/50431055/608639\">what is the difference in between &#39;&#39;const&#39;&#39; and &#39;&#39;final&#39;&#39; keyword in Dart?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2557, "user_id": 8164116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/41EGb.jpg?s=128&g=1", "display_name": "Daksh Gargas", "link": "https://stackoverflow.com/users/8164116/daksh-gargas"}, "edited": false, "score": 0, "creation_date": 1531723482, "post_id": 51355956, "comment_id": 89684116, "body": "That&#39;s exactly what I was thinking, I didn&#39;t expect the developers at Flutter.io to make such a mistake so I decided to ask some fellow developers. Thanks :)"}, {"owner": {"reputation": 2557, "user_id": 8164116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/41EGb.jpg?s=128&g=1", "display_name": "Daksh Gargas", "link": "https://stackoverflow.com/users/8164116/daksh-gargas"}, "edited": false, "score": 0, "creation_date": 1531723537, "post_id": 51355956, "comment_id": 89684141, "body": "I can&#39;t accept the answer within 9 minutes, I&#39;ll mark it as answered ASAP! :)"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 2557, "user_id": 8164116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/41EGb.jpg?s=128&g=1", "display_name": "Daksh Gargas", "link": "https://stackoverflow.com/users/8164116/daksh-gargas"}, "edited": false, "score": 0, "creation_date": 1531723913, "post_id": 51355956, "comment_id": 89684315, "body": "@Dennis there was a mistake in my answer. See my updated answer."}, {"owner": {"reputation": 2557, "user_id": 8164116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/41EGb.jpg?s=128&g=1", "display_name": "Daksh Gargas", "link": "https://stackoverflow.com/users/8164116/daksh-gargas"}, "edited": false, "score": 0, "creation_date": 1531724321, "post_id": 51355956, "comment_id": 89684498, "body": "But I did not get any suggestion in my IDE (IntelliJ Idea) :/"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 2557, "user_id": 8164116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/41EGb.jpg?s=128&g=1", "display_name": "Daksh Gargas", "link": "https://stackoverflow.com/users/8164116/daksh-gargas"}, "edited": false, "score": 0, "creation_date": 1531724570, "post_id": 51355956, "comment_id": 89684629, "body": "This is only inside a method or function. Might be the result of an enabled linter rule, but I haven&#39;t found which one."}, {"owner": {"reputation": 2557, "user_id": 8164116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/41EGb.jpg?s=128&g=1", "display_name": "Daksh Gargas", "link": "https://stackoverflow.com/users/8164116/daksh-gargas"}, "edited": false, "score": 0, "creation_date": 1531731654, "post_id": 51355956, "comment_id": 89688314, "body": "After the update, I am unable to figure out the exact reason for that. Can you explain it to me?"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 2557, "user_id": 8164116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/41EGb.jpg?s=128&g=1", "display_name": "Daksh Gargas", "link": "https://stackoverflow.com/users/8164116/daksh-gargas"}, "edited": false, "score": 0, "creation_date": 1531733736, "post_id": 51355956, "comment_id": 89689530, "body": "See my comment under lrn&#39;s answer."}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1531723886, "last_edit_date": 1531723886, "creation_date": 1531723376, "answer_id": 51355956, "question_id": 51355904, "link": "https://stackoverflow.com/questions/51355904/what-is-the-purpose-of-assigning-const-value-to-a-final-variable-in-dart/51355956#51355956", "title": "What is the purpose of assigning `const` value to a `final` variable in dart?", "body": "<p><code>const</code> values are canonicalized.</p>\n\n<p>This means no matter how often your code contains</p>\n\n<pre><code>final _biggerFont = const TextStyle(fontSize: 18.0);\n</code></pre>\n\n<p>there will only a single <code>const TextStyle(fontSize: 18.0)</code> instance.</p>\n\n<p>Using const for class' fields requires <code>static</code>, this would not allow to access its value using a reference to an instance of <code>RandomWordsState</code>.</p>\n\n<p>There are different preferences for classes with const constructors </p>\n\n<p><a href=\"http://dart-lang.github.io/linter/lints/avoid_field_initializers_in_const_classes.html\" rel=\"nofollow noreferrer\">http://dart-lang.github.io/linter/lints/avoid_field_initializers_in_const_classes.html</a></p>\n\n<blockquote>\n  <p>AVOID field initializers in const classes.</p>\n  \n  <p>Instead of final x = const expr;, you should write get x => const\n  expr; and not allocate a useless field. As of April 2018 this is true\n  for the VM, but not for code that will be compiled to JS.</p>\n</blockquote>\n\n<p>and top-level fields</p>\n\n<p><a href=\"http://dart-lang.github.io/linter/lints/prefer_const_declarations.html\" rel=\"nofollow noreferrer\">http://dart-lang.github.io/linter/lints/prefer_const_declarations.html</a></p>\n\n<blockquote>\n  <p>PREFER using const for const declarations.</p>\n  \n  <p>Const declarations are more hot-reload friendly and allow to use const\n  constructors if an instantiation references this declaration.</p>\n</blockquote>\n\n<p>The IDE also suggests to replace <code>final</code> with <code>const</code> for local variables that are initialized with constant values</p>\n\n<p><a href=\"https://i.stack.imgur.com/EYfV2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EYfV2.png\" alt=\"enter image description here\"></a></p>\n\n<p>I haven't found where this suggestion comes from, but it makes sense because local variables can be <code>const</code> without <code>static</code></p>\n"}, {"comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1531728147, "post_id": 51356999, "comment_id": 89686432, "body": "&quot;As an opposing opinion&quot; My intention was not to argue that it should not be static, just that changing it to <code>const</code> would be a breaking change. Lots of great information in your answer though, as always."}, {"owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1531728450, "post_id": 51356999, "comment_id": 89686569, "body": "Good point, I&#39;ll change it to not be opposed :)"}, {"owner": {"reputation": 2557, "user_id": 8164116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/41EGb.jpg?s=128&g=1", "display_name": "Daksh Gargas", "link": "https://stackoverflow.com/users/8164116/daksh-gargas"}, "edited": false, "score": 0, "creation_date": 1531731863, "post_id": 51356999, "comment_id": 89688437, "body": "I guess I still didn&#39;t understand the reason behind that statement. And as I googled some definitions, I found that <code>const</code> constructors cannot have a body and It&#39;s class must not have any non-final fields, so is this the reason why we used the <code>const</code> keyword? Because if you&#39;ll look at the <code>TextStyle</code> class&#39;s design, you&#39;ll realise that they have done the exact same thing here."}, {"owner": {"reputation": 2557, "user_id": 8164116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/41EGb.jpg?s=128&g=1", "display_name": "Daksh Gargas", "link": "https://stackoverflow.com/users/8164116/daksh-gargas"}, "edited": false, "score": 0, "creation_date": 1531732071, "post_id": 51356999, "comment_id": 89688570, "body": "<a href=\"https://github.com/flutter/flutter/blob/master/packages/flutter/lib/src/painting/text_style.dart\" rel=\"nofollow noreferrer\">github.com/flutter/flutter/blob/master/packages/flutter/lib/&zwnj;&#8203;src/&hellip;</a>"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1531733601, "post_id": 51356999, "comment_id": 89689446, "body": "&quot;that statement&quot; Not sure what you mean by that. You can have different const instances of a class with a const constructor, this is why the values are held by instance fields instead of static fields. Static fields can only have a single value per class. Canonicalization means that there won&#39;t be more than one const instance with the same constructor parameter values."}, {"owner": {"reputation": 2557, "user_id": 8164116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/41EGb.jpg?s=128&g=1", "display_name": "Daksh Gargas", "link": "https://stackoverflow.com/users/8164116/daksh-gargas"}, "edited": false, "score": 0, "creation_date": 1531735132, "post_id": 51356999, "comment_id": 89690393, "body": "I guess I&#39;m just too dumb to understand all this right now. I&#39;m am unable to connect any of those explanations with my question, it&#39;s not that I am not getting what you are saying."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1531735950, "post_id": 51356999, "comment_id": 89690892, "body": "I found it confusing as well when I started working with Dart and to some degree still do, so I think this is no reason to worry. &quot;purpose of assigning <code>const</code> value to a <code>final</code> variable in dart?&quot; As lrn said it&#39;s probably not the best design if there is no specific reason to have it an instance field. My argument was that just replacing <code>final</code> with <code>const</code> won&#39;t work because <code>const</code> alone is invalid at this place - it would need to be <code>static const</code> and that might need to change code that uses the class."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1531735953, "post_id": 51356999, "comment_id": 89690893, "body": "So with an isolated view at the <code>RandomWordsState</code> class it&#39;s not entirely clear, but because the field is private it should be easy to make the necessary changes to make the code work with <code>static const _biggerFont = const TextStyle(fontSize: 18.0);</code>"}], "tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": false, "score": 3, "last_activity_date": 1531728506, "last_edit_date": 1531728506, "creation_date": 1531727537, "answer_id": 51356999, "question_id": 51355904, "link": "https://stackoverflow.com/questions/51355904/what-is-the-purpose-of-assigning-const-value-to-a-final-variable-in-dart/51356999#51356999", "title": "What is the purpose of assigning `const` value to a `final` variable in dart?", "body": "<p>I personally think</p>\n\n<pre><code>final _biggerFont = const TextStyle(fontSize: 18.0);\n</code></pre>\n\n<p>looks like a mistake, and that that alone is reason enough to change it. </p>\n\n<p>The member is only used inside the same class, so there is no reason not to make it <code>static</code>. Then it will not take up one extra memory location for each instance of the class, all pointing to the same value. (That's assuming the compiler doesn't recognize the field as always having the same value, and just inlines the value everywhere).</p>\n\n<p>If the member is <code>static</code>, it might as well also be <code>const</code>, so I'd write it as:</p>\n\n<pre><code>static const _biggerFont = TextStyle(fontSize: 18.0);\n</code></pre>\n\n<p>This assumes that the code is what I found by searching for <code>final _biggerFont = const</code>. </p>\n\n<p>If there is a subclass in the same library which overrides <code>_bifferFont</code>, then it does need to be an instance variable. It could still be a getter instead of a field, then. Whether that's an efficiency improvement depends on how the class is used, and how well a compiler optmizes a final field that always has the same value.</p>\n\n<p>In any case, creating a private instance member which always has the same constant value looks like something that should just be a static constant to begin with, and code that looks like a mistake is confusing to read. I'd rewrite it (or document it) just for that reason - to avoid the reader being confused about why it is the way it is.</p>\n"}], "owner": {"reputation": 2557, "user_id": 8164116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/41EGb.jpg?s=128&g=1", "display_name": "Daksh Gargas", "link": "https://stackoverflow.com/users/8164116/daksh-gargas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3001, "favorite_count": 1, "closed_date": 1545925131, "answer_count": 2, "score": 3, "last_activity_date": 1531732058, "creation_date": 1531723157, "last_edit_date": 1531732058, "question_id": 51355904, "link": "https://stackoverflow.com/questions/51355904/what-is-the-purpose-of-assigning-const-value-to-a-final-variable-in-dart", "closed_reason": "Duplicate", "title": "What is the purpose of assigning `const` value to a `final` variable in dart?", "body": "<p>So I was doing the <a href=\"https://flutter.io/get-started/codelab/\" rel=\"nofollow noreferrer\">first example</a> for Flutter, and under\nStep 4: <em>Create an infinite scrolling ListView</em>, </p>\n\n<p>I encountered this piece of code:</p>\n\n<pre><code>class RandomWordsState extends State&lt;RandomWords&gt; {\n  final _suggestions = &lt;WordPair&gt;[];\n\n  final _biggerFont = const TextStyle(fontSize: 18.0);\n  ...\n} \n</code></pre>\n\n<p>But I found the following line a little spooky.</p>\n\n<pre><code>final _biggerFont = const TextStyle(fontSize: 18.0);\n</code></pre>\n\n<p>My question is, what is the purpose of assigning a <code>const</code>ant value to a <code>final</code> variable?</p>\n\n<p>I know that </p>\n\n<blockquote>\n  <p>Compile-time constants are canonicalized,i.e. no matter how many times\n  you write <code>const MyObj(0, 0)</code>,you only create one object.</p>\n</blockquote>\n\n<p>This may sound useful, but you can simply create the const variable to hold the value and use that variable instead.</p>\n\n<p>Well, don't you think it's kinda redundant? I get it that the developers at Flutter wanted to create a compile-time constant object, but hey! you are assigning that value to a <code>final</code> variable. Which is somewhat the same thing.</p>\n\n<p>Any thoughts?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I googled some definitions, I found that </p>\n\n<blockquote>\n  <p><code>const</code> constructors cannot have a body and It's class must not have\n  any non-final fields</p>\n</blockquote>\n\n<p>So is this the reason why we used the <code>const</code> keyword? Because if you'll look at the <a href=\"https://github.com/flutter/flutter/blob/master/packages/flutter/lib/src/painting/text_style.dart\" rel=\"nofollow noreferrer\"><code>TextStyle</code></a> class's design, you'll realize that they have done the exact same thing here. </p>\n"}, {"tags": ["ios", "dart", "httprequest", "flutter", "request-timed-out"], "comments": [{"owner": {"reputation": 41, "user_id": 10086104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0258b44c1db1b8364470221a6454ec37?s=128&d=identicon&r=PG&f=1", "display_name": "BeBeBerr", "link": "https://stackoverflow.com/users/10086104/bebeberr"}, "reply_to_user": {"reputation": 2626, "user_id": 8079610, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/k5Wrb.png?s=128&g=1", "display_name": "Ramprasath Selvam", "link": "https://stackoverflow.com/users/8079610/ramprasath-selvam"}, "edited": false, "score": 1, "creation_date": 1531723656, "post_id": 51354538, "comment_id": 89684189, "body": "@Ramprasathselvam As you can see, I&#39;m making an HTTPS request. Not for this reason, thanks."}], "answers": [{"tags": [], "owner": {"reputation": 60118, "user_id": 97572, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/78e766598ac1d90c5c9b273558a912c5?s=128&d=identicon&r=PG", "display_name": "RameshVel", "link": "https://stackoverflow.com/users/97572/rameshvel"}, "is_accepted": false, "score": 0, "last_activity_date": 1531733671, "creation_date": 1531733671, "answer_id": 51358697, "question_id": 51354538, "link": "https://stackoverflow.com/questions/51354538/flutter-app-failed-to-make-http-request-on-ios-simulator/51358697#51358697", "title": "Flutter App failed to make HTTP request on iOS simulator", "body": "<p>If none of the API's are working in simulator, I assume this is due to your systems proxy settings since it uses your machines internet. Please have a look.</p>\n"}, {"tags": [], "owner": {"reputation": 6667, "user_id": 667879, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bcc1f783c383a55c83198fb838c7dac1?s=128&d=identicon&r=PG", "display_name": "anoop4real", "link": "https://stackoverflow.com/users/667879/anoop4real"}, "is_accepted": false, "score": 0, "last_activity_date": 1531734088, "last_edit_date": 1531734088, "creation_date": 1531733727, "answer_id": 51358718, "question_id": 51354538, "link": "https://stackoverflow.com/questions/51354538/flutter-app-failed-to-make-http-request-on-ios-simulator/51358718#51358718", "title": "Flutter App failed to make HTTP request on iOS simulator", "body": "<p>I was able to get it working with <code>Dio</code> using the below code in iOS simulator, if you want to see how <code>http</code> work check the <a href=\"https://flutter.io/cookbook/networking/fetch-data/\" rel=\"nofollow noreferrer\">cookbook</a>, also try connecting to an open network like home wifi or something and see...</p>\n\n<p>Note: This is a piece from iOS/ Android flutter project</p>\n\n<pre><code>import 'dart:async';\n\nimport 'package:flutter/material.dart';\nimport 'package:dio/dio.dart';\n\nvoid main() =&gt; runApp(new MyApp());\n\nclass MyApp extends StatelessWidget {\n\n  fetchData()async {\n\n    Dio dio = new Dio();\n    Response response=await dio.get('https://www.baidu.com');\n    print(response.data);\n  }\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Fetch Data Example',\n      theme: ThemeData(\n        primarySwatch: Colors.blue,\n      ),\n      home: Scaffold(\n        appBar: AppBar(\n          title: Text('Fetch Data Example'),\n        ),\n        body: Center(\n          child: new IconButton(icon:new Icon(Icons.all_inclusive) , onPressed: (){\n            fetchData();\n          })\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>RESPONSE</p>\n\n<pre><code>flutter: &lt;!DOCTYPE html&gt;\n&lt;!--STATUS OK--&gt;\n\n&lt;html&gt;\n&lt;head&gt;\n\n    &lt;meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8\"&gt;\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=Edge\"&gt;\n    &lt;meta content=\"always\" name=\"referrer\"&gt;\n    &lt;meta name=\"theme-color\" content=\"#2932e1\"&gt;\n    &lt;link rel=\"shortcut icon\" href=\"/favicon.ico\" type=\"image/x-icon\" /&gt;\n    &lt;link rel=\"search\" type=\"application/opensearchdescription+xml\" href=\"/content-search.xml\" title=\"\u767e\u5ea6\u641c\u7d22\" /&gt;\n    &lt;link rel=\"icon\" sizes=\"any\" mask href=\"//www.baidu.com/img/baidu_85beaf5496f291521eb75ba38eacbd87.svg\"&gt;\n\n\n    &lt;link rel=\"dns-prefetch\" href=\"//s1.bdstatic.com\"&lt;\u2026&gt;\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 10086104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0258b44c1db1b8364470221a6454ec37?s=128&d=identicon&r=PG&f=1", "display_name": "BeBeBerr", "link": "https://stackoverflow.com/users/10086104/bebeberr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2470, "favorite_count": 2, "answer_count": 2, "score": 4, "last_activity_date": 1531734088, "creation_date": 1531714863, "last_edit_date": 1531723406, "question_id": 51354538, "link": "https://stackoverflow.com/questions/51354538/flutter-app-failed-to-make-http-request-on-ios-simulator", "title": "Flutter App failed to make HTTP request on iOS simulator", "body": "<p>I tried to make a simple HTTP get request using <a href=\"https://pub.dartlang.org/packages/dio\" rel=\"nofollow noreferrer\">Dio</a> in a Flutter App like this:</p>\n\n<pre><code>Dio dio = new Dio();\nResponse response = await dio.get('https://www.baidu.com');\nprint(response.data.toString());\n</code></pre>\n\n<p>It works perfect on a real iOS device, but time out on iOS simulators.</p>\n\n<pre><code>SocketException: OS Error: Operation timed out, errno = 60\n</code></pre>\n\n<p>I also tried other packets such as <a href=\"https://pub.dartlang.org/packages/http\" rel=\"nofollow noreferrer\">http</a>, but still time out. Native apps running on the simulator doesn't have the same problem. \nWhat can I do to fix it?</p>\n"}, {"tags": ["android", "ios", "macos", "dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 606, "user_id": 5222029, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cnMwpXQkt2M/AAAAAAAAAAI/AAAAAAAAAX8/FrkCxpxSJlo/photo.jpg?sz=128", "display_name": "Sujith Royal", "link": "https://stackoverflow.com/users/5222029/sujith-royal"}, "edited": false, "score": 0, "creation_date": 1570431558, "post_id": 51355587, "comment_id": 102897290, "body": "I have moved flutter to /Users/username/flutter and flutter still needs superuser privileges. Any other reason?"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 606, "user_id": 5222029, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cnMwpXQkt2M/AAAAAAAAAAI/AAAAAAAAAX8/FrkCxpxSJlo/photo.jpg?sz=128", "display_name": "Sujith Royal", "link": "https://stackoverflow.com/users/5222029/sujith-royal"}, "edited": false, "score": 0, "creation_date": 1570436829, "post_id": 51355587, "comment_id": 102899349, "body": "Perhaps because the permissions were moved with it? You vould try delete snd reinstall instead of moving."}, {"owner": {"reputation": 7698, "user_id": 3231778, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sXrnX.png?s=128&g=1", "display_name": "Evandro Pomatti", "link": "https://stackoverflow.com/users/3231778/evandro-pomatti"}, "edited": false, "score": 0, "creation_date": 1582813326, "post_id": 51355587, "comment_id": 106912686, "body": "Ran into this problem and had to go back to Flutter build 1.9 instead of 1.12 temporarily. It seems that superuser is now required when running on Mac. I will follow up with an issue on github."}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 3, "last_activity_date": 1531721671, "creation_date": 1531721671, "answer_id": 51355587, "question_id": 51354351, "link": "https://stackoverflow.com/questions/51354351/why-is-flutter-only-running-as-superuser/51355587#51355587", "title": "Why is Flutter only running as Superuser?", "body": "<p>Flutter maintains several files in it's installation directory like Dart snapshot files, this is why <code>/Applications</code>, which has by default write permissions only for the root user, is not a good place to install Flutter to.</p>\n\n<p><code>/Users/yourUser/flutter</code> would work fine without root privileges.</p>\n"}, {"tags": [], "owner": {"reputation": 606, "user_id": 5222029, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cnMwpXQkt2M/AAAAAAAAAAI/AAAAAAAAAX8/FrkCxpxSJlo/photo.jpg?sz=128", "display_name": "Sujith Royal", "link": "https://stackoverflow.com/users/5222029/sujith-royal"}, "is_accepted": false, "score": 3, "last_activity_date": 1570432105, "creation_date": 1570432105, "answer_id": 58264890, "question_id": 51354351, "link": "https://stackoverflow.com/questions/51354351/why-is-flutter-only-running-as-superuser/58264890#58264890", "title": "Why is Flutter only running as Superuser?", "body": "<p>I tried changing the location of flutter as answered by G\u00fcnter Z\u00f6chbauer. But, flutter still needed superuser privileges. So, I gave them directly like this</p>\n\n<pre><code>sudo chown -R $USER /Users/yourUser/flutter/\n</code></pre>\n\n<p>This worked fine for me. Basically, giving permissions to the user for the specific folder. </p>\n"}], "owner": {"reputation": 21, "user_id": 10086030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6208438f5c37ee78c0b16b36898bf14e?s=128&d=identicon&r=PG&f=1", "display_name": "Vikram", "link": "https://stackoverflow.com/users/10086030/vikram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3949, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1570432105, "creation_date": 1531713097, "question_id": 51354351, "link": "https://stackoverflow.com/questions/51354351/why-is-flutter-only-running-as-superuser", "title": "Why is Flutter only running as Superuser?", "body": "<p>I recently tried installing the <a href=\"https://flutter.io/\" rel=\"nofollow noreferrer\">Flutter</a> framework on my Macbook Pro (Early 2015, MacOS v10.13.6). I unzipped the packages in the <code>/Applications</code> directory and created the respective path in my bash profile. However, when running the <code>flutter doctor</code> command on Terminal as the default user I encounter the following error.</p>\n\n<pre><code>shlock: open(/Applications/flutter/bin/cache/shlock2538): Permission denied\nshlock: open(/Applications/flutter/bin/cache/shlock2540): Permission denied\nshlock: open(/Applications/flutter/bin/cache/shlock2542): Permission denied\nshlock: open(/Applications/flutter/bin/cache/shlock2544): Permission denied\nshlock: open(/Applications/flutter/bin/cache/shlock2546): Permission denied\nshlock: open(/Applications/flutter/bin/cache/shlock2548): Permission denied\nshlock: open(/Applications/flutter/bin/cache/shlock2550): Permission denied\n</code></pre>\n\n<p>When I run the <code>flutter doctor</code> command using the superuser privileges (<code>sudo</code>), it is able to run, and I get the following terminal output.</p>\n\n<pre><code>Woah! You appear to be trying to run flutter as root.\n   We strongly recommend running the flutter tool without superuser privileges.\n  /\n\ud83d\udcce\nDoctor summary (to see all details, run flutter doctor -v):\n[\u2713] Flutter (Channel beta, v0.5.1, on Mac OS X 10.13.6 17G65, locale en)\n[\u2713] Android toolchain - develop for Android devices (Android SDK 28.0.1)\n[!] iOS toolchain - develop for iOS devices (Xcode 9.4.1)\n    \u2717 CocoaPods not installed.\n        CocoaPods is used to retrieve the iOS platform side's plugin code that responds to your plugin usage on the Dart side.\n        Without resolving iOS dependencies with CocoaPods, plugins will not work on iOS.\n        For more info, see https://flutter.io/platform-plugins\n      To install:\n        brew install cocoapods\n        pod setup\n[\u2713] Android Studio (version 3.1)\n[!] Connected devices\n    ! No devices available\n\n! Doctor found issues in 2 categories.\n</code></pre>\n\n<p>I would rather prefer running Flutter as a default user rather than with superuser privileges (even since I got a warning from the framework to run as a default user).</p>\n\n<p>Can anyone please help me understand how I can fix this error and start running the Flutter framework using my default user account? Thank you.</p>\n"}, {"tags": ["dart"], "comments": [{"owner": {"reputation": 19885, "user_id": 1961059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvYjK.jpg?s=128&g=1", "display_name": "rinukkusu", "link": "https://stackoverflow.com/users/1961059/rinukkusu"}, "edited": false, "score": 0, "creation_date": 1531715773, "post_id": 51352622, "comment_id": 89681698, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/13107906/how-can-i-clone-an-object-deep-copy-in-dart\">How can I clone an Object (deep copy) in Dart?</a>"}, {"owner": {"reputation": 1059, "user_id": 4001247, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/848fa431a7a985cd64705a47f34eb008?s=128&d=identicon&r=PG&f=1", "display_name": "Muka", "link": "https://stackoverflow.com/users/4001247/muka"}, "reply_to_user": {"reputation": 19885, "user_id": 1961059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvYjK.jpg?s=128&g=1", "display_name": "rinukkusu", "link": "https://stackoverflow.com/users/1961059/rinukkusu"}, "edited": false, "score": 0, "creation_date": 1531751422, "post_id": 51352622, "comment_id": 89700634, "body": "Because the thread was posted some time ago, it was dealing with the Dart 1 version. My intention was to post a new post to specifically address Dart 2, which is bringing excellent improvements, and could have something to do with cloning complex objects."}], "answers": [{"comments": [{"owner": {"reputation": 1059, "user_id": 4001247, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/848fa431a7a985cd64705a47f34eb008?s=128&d=identicon&r=PG&f=1", "display_name": "Muka", "link": "https://stackoverflow.com/users/4001247/muka"}, "edited": false, "score": 0, "creation_date": 1531751661, "post_id": 51356837, "comment_id": 89700811, "body": "Understood. I really wanted to avoid doing the copy of attribute values \u200b\u200bby attribute. In the other alternative, using isolate, it has some impacts as well. Maybe until the release of the final version of Dart 2, we can some more direct way."}, {"owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "reply_to_user": {"reputation": 1059, "user_id": 4001247, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/848fa431a7a985cd64705a47f34eb008?s=128&d=identicon&r=PG&f=1", "display_name": "Muka", "link": "https://stackoverflow.com/users/4001247/muka"}, "edited": false, "score": 0, "creation_date": 1531904533, "post_id": 51356837, "comment_id": 89766580, "body": "Dart very much wants to <i>avoid</i> having a general way to clone objects without going through a constructor. The only way to safely allow cloning is to require the class itself to expose the functionality. Cloning a class from the outside is fragile and dangerous."}], "tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": true, "score": 6, "last_activity_date": 1531740557, "last_edit_date": 1531740557, "creation_date": 1531726871, "answer_id": 51356837, "question_id": 51352622, "link": "https://stackoverflow.com/questions/51352622/how-to-clone-copy-values-a-complex-object-in-dart-2/51356837#51356837", "title": "How to clone (copy values) a complex object in Dart 2", "body": "<p>With the classes you have shown us here, there is nothing shorter than</p>\n\n<pre><code>Person p2 = Person()\n  ..name = p1.name\n  ..surname = p1.surname\n  ..city = (City()..name = p1.city.name..state = p1.city.state);\n</code></pre>\n\n<p>If you add a <code>clone</code> method to <code>Person</code> and <code>City</code>, then you can obviously use that.\nThere is nothing built in to the language to allow you to copy the state of an object.</p>\n\n<p>I would recommend changing the classes, at least by adding a constructor:</p>\n\n<pre><code>class Person {\n  String name;\n  String surname;\n  City city;\n  Person(this.name, this.surname, this.city);\n}\nclass City {\n  String name;\n  String state;\n  City(this.name, this.state);\n}\n</code></pre>\n\n<p>Then you can clone by just writing:</p>\n\n<pre><code>Person P2 = Person(p1.name, p1.surname, City(p1.city.name, p1.city.state));\n</code></pre>\n\n<p>(And <a href=\"https://www.kalzumeus.com/2010/06/17/falsehoods-programmers-believe-about-names/\" rel=\"noreferrer\">ob-link</a> about names)</p>\n\n<p>I say that there is no language feature to copy objects, but there actually is, if you have access to the <code>dart:isolate</code> library: Sending the object over a isolate communication port. I cannot recommend using that feature, but it's here for completeness:</p>\n\n<pre><code>import \"dart:isolate\";\nFuture&lt;T&gt; clone&lt;T&gt;(T object) {\n  var c = Completer&lt;T&gt;();\n  var port = RawReceivePort();\n  port.handler = (Object o) {\n    port.close();\n    c.complete(o);\n  }\n  return c.future;\n}\n</code></pre>\n\n<p>Again, I cannot recommend using this approach.\nIt would work for simple objects like this, but it doesn't work for all objects (not all objects can be sent over a communication port, e.g., first-class functions or any object containing a first class function).</p>\n\n<p>Write your classes to support the operations you need on them, that includes copying.</p>\n"}, {"tags": [], "owner": {"reputation": 1877, "user_id": 2076759, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/47c092e185020f83fcb35e3ed998ca0e?s=128&d=identicon&r=PG", "display_name": "Leo Cavalcante", "link": "https://stackoverflow.com/users/2076759/leo-cavalcante"}, "is_accepted": false, "score": 2, "last_activity_date": 1531842658, "creation_date": 1531842658, "answer_id": 51385633, "question_id": 51352622, "link": "https://stackoverflow.com/questions/51352622/how-to-clone-copy-values-a-complex-object-in-dart-2/51385633#51385633", "title": "How to clone (copy values) a complex object in Dart 2", "body": "<p>As said, there is no built in solution for that, but if the ideia is to accomplish <strong>immutable value types</strong> you can check <a href=\"https://pub.dartlang.org/packages/built_value\" rel=\"nofollow noreferrer\">built_value</a>.</p>\n\n<p><a href=\"https://medium.com/dartlang/darts-built-value-for-immutable-object-models-83e2497922d4\" rel=\"nofollow noreferrer\">https://medium.com/dartlang/darts-built-value-for-immutable-object-models-83e2497922d4</a></p>\n"}, {"tags": [], "owner": {"reputation": 615, "user_id": 9418115, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6YyIP.png?s=128&g=1", "display_name": "Adrien Arcuri", "link": "https://stackoverflow.com/users/9418115/adrien-arcuri"}, "is_accepted": false, "score": 1, "last_activity_date": 1611759045, "last_edit_date": 1611759045, "creation_date": 1606081076, "answer_id": 64959859, "question_id": 51352622, "link": "https://stackoverflow.com/questions/51352622/how-to-clone-copy-values-a-complex-object-in-dart-2/64959859#64959859", "title": "How to clone (copy values) a complex object in Dart 2", "body": "<p>I noted that using <code>Map.from()</code> <em>do a shallow copy and not a deep copy</em>.</p>\n<p><strong>To do a deep copy of a class containing a Map of anoter Class</strong>, one solution can be to use a nammed constructor</p>\n<pre><code>class MyClassB {\n   int myVar;\n   \n   // Constructor\n   MyClassB(this.id);\n   \n   // Named Constructor to do a deep clone\n   MyClassB.clone(MyClassB b){\n     id = b.id;\n   }\n}\n\nclass MyClassA { \n  Map&lt;int,MyClassB&gt; mapOfClassB;\n\n  // Constructor\n  MyClassA(this.myClassB)\n\n  // Named constructor to do a deep clone\n  MyClassA.clone(MyClassA a){\n    Map&lt;int,myClassB&gt; m = {};\n    myClassB  = a.mapOfClassB.forEach((k,v)=&gt; m[k] = MyClassB.clone(v)); // Use the clone constructor here, if not the maps in MyClassA and MyClassB will be linked\n  }\n}\n\nmain() {\n  var b1 = MyClassB(20);\n  var a1 = MyClassA({0:b1});\n  \n  var a2 = MyClass1A.clone(a1);\n  \n  a2.mapOfClassB[0].id = 50;\n  \n  print(a1.mapOfClassB[0].id); // Should display 20\n  print(a2.(a1.mapOfClassB[0].id) // Should display 50 \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 507, "user_id": 5239250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66692f487ce0af1dd362c72797818c51?s=128&d=identicon&r=PG", "display_name": "a.l.e", "link": "https://stackoverflow.com/users/5239250/a-l-e"}, "is_accepted": false, "score": 1, "last_activity_date": 1608213025, "last_edit_date": 1608213025, "creation_date": 1608212631, "answer_id": 65341916, "question_id": 51352622, "link": "https://stackoverflow.com/questions/51352622/how-to-clone-copy-values-a-complex-object-in-dart-2/65341916#65341916", "title": "How to clone (copy values) a complex object in Dart 2", "body": "<p>My <em>simpler</em> solution just let <code>clone()</code> return a new <code>Person</code> with the current values:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class Person {\n  String name;\n  String surname;\n  City city;\n  Person(this.name, this.surname, this.city);\n  clone() =&gt; Person(name, surname, city);\n}\n</code></pre>\n<p>You might further need to recursively clone the objects in your <code>Person</code>. as an example by creating a similar <code>clone()</code> function in the <code>City</code> and using it here as <code>city.clone()</code>.<br />\nFor the strings you will need to check their behavior or also create / add a way for cleaning them.</p>\n"}], "owner": {"reputation": 1059, "user_id": 4001247, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/848fa431a7a985cd64705a47f34eb008?s=128&d=identicon&r=PG&f=1", "display_name": "Muka", "link": "https://stackoverflow.com/users/4001247/muka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9007, "favorite_count": 1, "accepted_answer_id": 51356837, "answer_count": 4, "score": 14, "last_activity_date": 1611759045, "creation_date": 1531693037, "last_edit_date": 1531757960, "question_id": 51352622, "link": "https://stackoverflow.com/questions/51352622/how-to-clone-copy-values-a-complex-object-in-dart-2", "title": "How to clone (copy values) a complex object in Dart 2", "body": "<p>I would like to clone a complex object (copy values), not referencing, using Dart 2.</p>\n\n<p>Example:</p>\n\n<pre><code>class Person {\n  String name;\n  String surname;\n  City city;\n}\n\nclass City {\n  String name;\n  String state;\n}\n\nmain List&lt;String&gt; args {\n  City c1 = new City()..name = 'Blum'..state = 'SC';\n  Person p1 = new Person()..name = 'John'..surname = 'Xuebl'..city = c1;\n\n\n  Person p2 = // HERE, to clone/copy values... Something similar to p1.clone();\n}\n</code></pre>\n\n<p>What would be the way (best practice) to do this?</p>\n\n<p><strong>Update note:</strong> This <a href=\"https://stackoverflow.com/questions/13107906/how-can-i-clone-an-object-deep-copy-in-dart\">How can I clone an Object (deep copy) in Dart?</a> was posted some time ago. The focus here is to understand if Dart 2 that is bringing many improvements, has a facility for copying complex objects.</p>\n"}, {"tags": ["firebase", "dart", "firebase-authentication", "flutter"], "comments": [{"owner": {"reputation": 33685, "user_id": 3434970, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/cWyFQ.png?s=128&g=1", "display_name": "Shady Aziza", "link": "https://stackoverflow.com/users/3434970/shady-aziza"}, "edited": false, "score": 0, "creation_date": 1531692219, "post_id": 51351441, "comment_id": 89677631, "body": "which text does not print? and what does it print instead ?"}, {"owner": {"reputation": 2217, "user_id": 2865073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b973f84cc0d80c5dc44fcdfc701828ab?s=128&d=identicon&r=PG&f=1", "display_name": "Mans", "link": "https://stackoverflow.com/users/2865073/mans"}, "edited": false, "score": 0, "creation_date": 1531693569, "post_id": 51351441, "comment_id": 89677834, "body": "we need more information to help you. does the signin popup happen? if not then you probably installed the google sign in plugin wrong.  if not, like what aziza said - what gets printed on tap?"}, {"owner": {"reputation": 265, "user_id": 10075718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5897dc6555afb55a34cde9658fe870?s=128&d=identicon&r=PG&f=1", "display_name": "serjo macken", "link": "https://stackoverflow.com/users/10075718/serjo-macken"}, "edited": false, "score": 0, "creation_date": 1531742074, "post_id": 51351441, "comment_id": 89694527, "body": "everything works correctl byt  I want to display the username in a text form"}], "answers": [{"comments": [{"owner": {"reputation": 265, "user_id": 10075718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5897dc6555afb55a34cde9658fe870?s=128&d=identicon&r=PG&f=1", "display_name": "serjo macken", "link": "https://stackoverflow.com/users/10075718/serjo-macken"}, "edited": false, "score": 0, "creation_date": 1531747267, "post_id": 51356109, "comment_id": 89697790, "body": "I have tried it but in my class all the instances must be final, so i cant use string because setState will not be defined"}, {"owner": {"reputation": 1163, "user_id": 8775432, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/61fhB.png?s=128&g=1", "display_name": "Yogesh kataria", "link": "https://stackoverflow.com/users/8775432/yogesh-kataria"}, "reply_to_user": {"reputation": 265, "user_id": 10075718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5897dc6555afb55a34cde9658fe870?s=128&d=identicon&r=PG&f=1", "display_name": "serjo macken", "link": "https://stackoverflow.com/users/10075718/serjo-macken"}, "edited": false, "score": 0, "creation_date": 1531754293, "post_id": 51356109, "comment_id": 89702527, "body": "Any specific reason for that? Anyways other way could be routing to a new scene or class and passing the _auth to that class and use the same to display name."}], "tags": [], "owner": {"reputation": 1163, "user_id": 8775432, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/61fhB.png?s=128&g=1", "display_name": "Yogesh kataria", "link": "https://stackoverflow.com/users/8775432/yogesh-kataria"}, "is_accepted": false, "score": 1, "last_activity_date": 1531723967, "creation_date": 1531723967, "answer_id": 51356109, "question_id": 51351441, "link": "https://stackoverflow.com/questions/51351441/using-google-auth-in-flutter-and-displaying-usernames-and-images/51356109#51356109", "title": "using google auth in flutter and displaying usernames and images", "body": "<p>You can do it like this. </p>\n\n<p>Make a variable '<strong><em>name</em></strong>' and then use the following code.</p>\n\n<pre><code>String name = 'Log In';\n\n  final FirebaseAuth _auth = FirebaseAuth.instance;\n  final GoogleSignIn googleSignIn = new GoogleSignIn();\n  FirebaseUser _user;\n\n    Future&lt;FirebaseUser&gt; _signIn() async {\n\n        GoogleSignInAccount googleSignInAccount = await googleSignIn.signIn();\n        GoogleSignInAuthentication googleSignInAuthentication = await googleSignInAccount.authentication;\n\n        FirebaseUser user = await _auth.signInWithGoogle(\n          idToken: googleSignInAuthentication.idToken,\n          accessToken: googleSignInAuthentication.accessToken\n        );\n\n        setState(() {\n            name = user.displayName.toString();\n        });\n\n        return user;\n  }\n</code></pre>\n\n<p>Using <strong><a href=\"http://docs.flutter.io/flutter/widgets/State/setState.html\" rel=\"nofollow noreferrer\">setState()</a></strong> function solves your problem :)</p>\n"}], "owner": {"reputation": 265, "user_id": 10075718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5897dc6555afb55a34cde9658fe870?s=128&d=identicon&r=PG&f=1", "display_name": "serjo macken", "link": "https://stackoverflow.com/users/10075718/serjo-macken"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1688, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1531723967, "creation_date": 1531682158, "last_edit_date": 1531685311, "question_id": 51351441, "link": "https://stackoverflow.com/questions/51351441/using-google-auth-in-flutter-and-displaying-usernames-and-images", "title": "using google auth in flutter and displaying usernames and images", "body": "<p>I am trying to get the username of google account that  user used in his sign in and I want to display it as text not print can you help.this is the code:</p>\n\n<pre><code>FirebaseUser user = await _auth.signInWithGoogle(\n    idToken: gSA.idToken, accessToken: gSA.accessToken);\nprint(\"User Name : ${user.displayName}\");\nreturn user;}\n</code></pre>\n\n<p>and the part that I want to put the username in as a text is here </p>\n\n<pre><code>new ListTile(\n          title: new Text(\"Log In\"),\n          leading: new Icon(Icons.account_box),\n          onTap: () =&gt; _signIn()\n              .then((FirebaseUser user) =&gt; print(user))\n              .catchError((e) =&gt; print(e)),\n          subtitle: new Text(display username here),\n        ),\n</code></pre>\n"}, {"tags": ["mobile", "dart", "flutter", "mobile-development", "drawingcontext"], "answers": [{"comments": [{"owner": {"reputation": 446, "user_id": 10050942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/896d0e87b08f04037bec7a1b3818b932?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Stephens", "link": "https://stackoverflow.com/users/10050942/daniel-stephens"}, "edited": false, "score": 1, "creation_date": 1531714236, "post_id": 51351522, "comment_id": 89681365, "body": "Excellent! Seems my problem got fixed. Thanks for the help (again) :-)"}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1531682795, "creation_date": 1531682795, "answer_id": 51351522, "question_id": 51351415, "link": "https://stackoverflow.com/questions/51351415/content-of-listview-gets-drawn-over-ui-elements-below-in-flutter/51351522#51351522", "title": "Content of Listview gets drawn over UI elements below in Flutter", "body": "<p>I believe this is an issue already fixed in <code>dev</code> channel.</p>\n\n<p>Execute in command line shell</p>\n\n<pre><code>flutter channel dev\nflutter doctor\n</code></pre>\n"}], "owner": {"reputation": 446, "user_id": 10050942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/896d0e87b08f04037bec7a1b3818b932?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Stephens", "link": "https://stackoverflow.com/users/10050942/daniel-stephens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 51351522, "answer_count": 1, "score": 1, "last_activity_date": 1531682795, "creation_date": 1531681996, "last_edit_date": 1531682377, "question_id": 51351415, "link": "https://stackoverflow.com/questions/51351415/content-of-listview-gets-drawn-over-ui-elements-below-in-flutter", "title": "Content of Listview gets drawn over UI elements below in Flutter", "body": "<p>Could someone help me with the following issue? I am not sure if this is a bug or intended behaviour. I have the following layout:</p>\n\n<pre><code>Column(\n    Flexible( ListView[..] )\n\n    Row(\n        Flexible(\n            TextField(..) &lt;-- input field\n        ),\n        Container(Icon[]) &lt;-- button\n\n)\n</code></pre>\n\n<p>Scrolling very very quickly makes the content of my ListView getting drawn over the Row in the other container? Could this be a bug in Flutters drawing engine or did I miss to set some boundaries for my ListView?</p>\n\n<hr/>\n\n<h1>Normal / expected layout:</h1>\n\n<p><a href=\"https://i.stack.imgur.com/VjBqr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VjBqr.png\" alt=\"enter image description here\"></a></p>\n\n<hr/>\n\n<h1>After scrolling very quickly:</h1>\n\n<p><a href=\"https://i.stack.imgur.com/IgnIl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IgnIl.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["dart", "flutter", "mobile-development"], "answers": [{"comments": [{"owner": {"reputation": 446, "user_id": 10050942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/896d0e87b08f04037bec7a1b3818b932?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Stephens", "link": "https://stackoverflow.com/users/10050942/daniel-stephens"}, "edited": false, "score": 1, "creation_date": 1531672062, "post_id": 51350041, "comment_id": 89672884, "body": "Perfect, the <code>widget</code> object was finally what I was looking for! Thanks"}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 2, "last_activity_date": 1531671043, "creation_date": 1531671043, "answer_id": 51350041, "question_id": 51350006, "link": "https://stackoverflow.com/questions/51350006/scrollable-listview-in-flutter-with-dart/51350041#51350041", "title": "Scrollable Listview in Flutter with Dart", "body": "<p>Add a constructor and pass the controller as parameter</p>\n\n<pre><code>class MainView extends StatelessWidget {\n    ...\n    // is this the correct place?\n    final ScrollController scrollController = ScrollController();\n\n    @override\n    Widget build(BuildContext context) {\n        return new Scaffold(\n            body: new ChatListView(scrollController: scrollController)\n        );\n    }\n}\n</code></pre>\n\n\n\n<pre><code>class ChatListView extends StatefulWidget {\n    ChatListView({@required this.scrollController}); \n\n    final ScrollController scrollController;\n\n    @override\n    _ChatListView createState() =&gt; _ChatListView();\n}\n</code></pre>\n\n\n\n<pre><code>class _ChatListView extends State&lt; ChatListView &gt; {\n\n    Widget build(BuildContext context) {\n        return ListView.builder(\n          controller: widget.scrollController,\n          );\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 446, "user_id": 10050942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/896d0e87b08f04037bec7a1b3818b932?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Stephens", "link": "https://stackoverflow.com/users/10050942/daniel-stephens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 380, "favorite_count": 1, "accepted_answer_id": 51350041, "answer_count": 1, "score": 2, "last_activity_date": 1531671043, "creation_date": 1531670694, "question_id": 51350006, "link": "https://stackoverflow.com/questions/51350006/scrollable-listview-in-flutter-with-dart", "title": "Scrollable Listview in Flutter with Dart", "body": "<p>Can someone explain me where I should define a scroll controller? I have chat list view which is the body of a scrollable view. I want to be able to control the scrolling behaviour from <code>MainView</code> but don't know how to pass the controller down to <code>_ChatListView</code>. Any ideas?</p>\n\n<p><strong>mainview.dart</strong></p>\n\n<pre><code>class MainView extends StatelessWidget {\n    ...\n    // is this the correct place?\n    final ScrollController scrollController = ScrollController();\n\n    @override\n    Widget build(BuildContext context) {\n        return new Scaffold(\n            body: new ChatListView()\n        );\n    }\n}\n</code></pre>\n\n<p><strong>chatlistview.dart</strong></p>\n\n<pre><code>class ChatListView extends StatefulWidget {\n    @override\n    _ChatListView createState() =&gt; _ChatListView();\n}\n\nclass _ChatListView extends State&lt; ChatListView &gt; {\n    Widget build(BuildContext context) {\n        return ListView.builder(\n          controller: scrollController,\n          );\n    }\n}\n</code></pre>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 952, "user_id": 4036703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feNq6.jpg?s=128&g=1", "display_name": "goops17", "link": "https://stackoverflow.com/users/4036703/goops17"}, "edited": false, "score": 1, "creation_date": 1531761630, "post_id": 51348165, "comment_id": 89706391, "body": "you can wrap Icon with inkwell and us ontap property."}], "answers": [{"comments": [{"owner": {"reputation": 1930, "user_id": 5877937, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/IFiok.jpg?s=128&g=1", "display_name": "Dhaval", "link": "https://stackoverflow.com/users/5877937/dhaval"}, "reply_to_user": {"reputation": 265, "user_id": 10075718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5897dc6555afb55a34cde9658fe870?s=128&d=identicon&r=PG&f=1", "display_name": "serjo macken", "link": "https://stackoverflow.com/users/10075718/serjo-macken"}, "edited": false, "score": 0, "creation_date": 1531656898, "post_id": 51348189, "comment_id": 89669104, "body": "You can use above code to replace your &quot;child: new Icon(Icons.bookmark),&quot;."}, {"owner": {"reputation": 1930, "user_id": 5877937, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/IFiok.jpg?s=128&g=1", "display_name": "Dhaval", "link": "https://stackoverflow.com/users/5877937/dhaval"}, "reply_to_user": {"reputation": 265, "user_id": 10075718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5897dc6555afb55a34cde9658fe870?s=128&d=identicon&r=PG&f=1", "display_name": "serjo macken", "link": "https://stackoverflow.com/users/10075718/serjo-macken"}, "edited": false, "score": 0, "creation_date": 1531751719, "post_id": 51348189, "comment_id": 89700856, "body": "@serjomacken Please accept the answer which has worked for you. So others can use it."}, {"owner": {"reputation": 355, "user_id": 10020910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/029f300e521d6c1909e5e3f294c06d9c?s=128&d=identicon&r=PG&f=1", "display_name": "s.j", "link": "https://stackoverflow.com/users/10020910/s-j"}, "edited": false, "score": 0, "creation_date": 1602139571, "post_id": 51348189, "comment_id": 113626788, "body": "children: &lt;Widget&gt;[                             Icon(Icons.cloud_upload, color: UtilColors.blueColor), how  to add tap listenr on this."}], "tags": [], "owner": {"reputation": 1930, "user_id": 5877937, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/IFiok.jpg?s=128&g=1", "display_name": "Dhaval", "link": "https://stackoverflow.com/users/5877937/dhaval"}, "is_accepted": true, "score": 34, "last_activity_date": 1531657391, "last_edit_date": 1531657391, "creation_date": 1531656262, "answer_id": 51348189, "question_id": 51348165, "link": "https://stackoverflow.com/questions/51348165/add-on-tap-function-flutter/51348189#51348189", "title": "Add on tap function flutter", "body": "<p>Use <code>IconButton</code> instead.</p>\n\n<pre><code>new IconButton(\n  icon: new Icon(Icons.bookmark),\n  onPressed: () { /* Your code */ },\n)\n</code></pre>\n\n<p>In your code, you can use like this</p>\n\n<pre><code>trailing: new Column(\n                    children: &lt;Widget&gt;[\n                      new Container(\n                        child: new IconButton(\n                                 icon: new Icon(Icons.bookmark),\n                                 onPressed: () { /* Your code */ },\n                               ),\n                        margin: EdgeInsets.only(top: 25.0),\n                      )\n                    ],\n                  ),\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2526, "user_id": 7387089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SKNuw.jpg?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/7387089/robin"}, "is_accepted": false, "score": 7, "last_activity_date": 1531659798, "creation_date": 1531659798, "answer_id": 51348654, "question_id": 51348165, "link": "https://stackoverflow.com/questions/51348165/add-on-tap-function-flutter/51348654#51348654", "title": "Add on tap function flutter", "body": "<p>Create the button and Wrap it in a <strong>GestureDetector</strong> with an <strong>onTap</strong> callback</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    final title = 'Gesture Demo';\n\n    return MaterialApp(\n      title: title,\n      home: MyHomePage(title: title),\n    );\n  }\n}\n\nclass MyHomePage extends StatelessWidget {\n  final String title;\n\n  MyHomePage({Key key, this.title}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(title),\n      ),\n      body: Center(child: MyButton()),\n    );\n  }\n}\n\nclass MyButton extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    // Our GestureDetector wraps our button\n    return GestureDetector(\n      // When the child is tapped, show a snackbar\n      onTap: () {\n        final snackBar = SnackBar(content: Text(\"Tap\"));\n\n        Scaffold.of(context).showSnackBar(snackBar);\n      },\n      // Our Custom Button!\n      child: Container(\n        padding: EdgeInsets.all(12.0),\n        decoration: BoxDecoration(\n          color: Theme.of(context).buttonColor,\n          borderRadius: BorderRadius.circular(8.0),\n        ),\n        child: Text('My Button'),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p><strong><em>Important :</em></strong> for user interactivity, you can use <strong>onPressed</strong> property.</p>\n"}], "owner": {"reputation": 265, "user_id": 10075718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5897dc6555afb55a34cde9658fe870?s=128&d=identicon&r=PG&f=1", "display_name": "serjo macken", "link": "https://stackoverflow.com/users/10075718/serjo-macken"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19687, "favorite_count": 2, "accepted_answer_id": 51348189, "answer_count": 2, "score": 16, "last_activity_date": 1531659798, "creation_date": 1531656068, "question_id": 51348165, "link": "https://stackoverflow.com/questions/51348165/add-on-tap-function-flutter", "title": "Add on tap function flutter", "body": "<p>hello guys i want to create an <strong>onTap</strong> option for my icon, my code is like this and I cant figure out how to do so can you help me.this is my code:</p>\n\n<pre><code>trailing: new Column(\n                    children: &lt;Widget&gt;[\n                      new Container(\n                        child: new Icon(Icons.bookmark),\n                        margin: EdgeInsets.only(top: 25.0),\n                      )\n                    ],\n                  ),\n</code></pre>\n"}, {"tags": ["forms", "validation", "dart", "flutter", "stepper"], "comments": [{"owner": {"reputation": 2902, "user_id": 8581389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9a6afff8d25a7c95daede417864c44?s=128&d=identicon&r=PG&f=1", "display_name": "ap14", "link": "https://stackoverflow.com/users/8581389/ap14"}, "edited": false, "score": 0, "creation_date": 1531656908, "post_id": 51347317, "comment_id": 89669106, "body": "form won&#39;t validate until you tell it. Set <code>autoValidate</code> to true for each form whenever you want to validate or make it true by default."}, {"owner": {"reputation": 1195, "user_id": 1407560, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/365a9e12ddfea9dcf3d50d8b21564987?s=128&d=identicon&r=PG", "display_name": "Sana.91", "link": "https://stackoverflow.com/users/1407560/sana-91"}, "reply_to_user": {"reputation": 2902, "user_id": 8581389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9a6afff8d25a7c95daede417864c44?s=128&d=identicon&r=PG&f=1", "display_name": "ap14", "link": "https://stackoverflow.com/users/8581389/ap14"}, "edited": false, "score": 0, "creation_date": 1531669808, "post_id": 51347317, "comment_id": 89672337, "body": "It validates whenever  if (!this._formKey.currentState.validate()) {       return false;     }  is called ... The issue is .. Its returning false even when input data is correct @ap14"}, {"owner": {"reputation": 2902, "user_id": 8581389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9a6afff8d25a7c95daede417864c44?s=128&d=identicon&r=PG&f=1", "display_name": "ap14", "link": "https://stackoverflow.com/users/8581389/ap14"}, "edited": false, "score": 0, "creation_date": 1531716462, "post_id": 51347317, "comment_id": 89681871, "body": "i encountered a similar problem but my code works when I only write <code>_validateIdentifier</code> in validator property. Don&#39;t change the function just write only the function name <code>validator: _validateIdentifier</code>"}, {"owner": {"reputation": 1195, "user_id": 1407560, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/365a9e12ddfea9dcf3d50d8b21564987?s=128&d=identicon&r=PG", "display_name": "Sana.91", "link": "https://stackoverflow.com/users/1407560/sana-91"}, "reply_to_user": {"reputation": 2902, "user_id": 8581389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9a6afff8d25a7c95daede417864c44?s=128&d=identicon&r=PG&f=1", "display_name": "ap14", "link": "https://stackoverflow.com/users/8581389/ap14"}, "edited": false, "score": 0, "creation_date": 1531745572, "post_id": 51347317, "comment_id": 89696707, "body": "@ap14 i did not get you ... what are u asking to change"}, {"owner": {"reputation": 1195, "user_id": 1407560, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/365a9e12ddfea9dcf3d50d8b21564987?s=128&d=identicon&r=PG", "display_name": "Sana.91", "link": "https://stackoverflow.com/users/1407560/sana-91"}, "reply_to_user": {"reputation": 2902, "user_id": 8581389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9a6afff8d25a7c95daede417864c44?s=128&d=identicon&r=PG&f=1", "display_name": "ap14", "link": "https://stackoverflow.com/users/8581389/ap14"}, "edited": false, "score": 0, "creation_date": 1535548264, "post_id": 51347317, "comment_id": 91106483, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/51231128/flutter-stepper-widget-validating-fields-in-individual-steps\">flutter stepper widget - validating fields in individual steps</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1195, "user_id": 1407560, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/365a9e12ddfea9dcf3d50d8b21564987?s=128&d=identicon&r=PG", "display_name": "Sana.91", "link": "https://stackoverflow.com/users/1407560/sana-91"}, "edited": false, "score": 0, "creation_date": 1532331182, "post_id": 51473021, "comment_id": 89915483, "body": "no this too return form state as invalid even though it is valid"}, {"owner": {"reputation": 2902, "user_id": 8581389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9a6afff8d25a7c95daede417864c44?s=128&d=identicon&r=PG&f=1", "display_name": "ap14", "link": "https://stackoverflow.com/users/8581389/ap14"}, "reply_to_user": {"reputation": 1195, "user_id": 1407560, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/365a9e12ddfea9dcf3d50d8b21564987?s=128&d=identicon&r=PG", "display_name": "Sana.91", "link": "https://stackoverflow.com/users/1407560/sana-91"}, "edited": false, "score": 0, "creation_date": 1532332863, "post_id": 51473021, "comment_id": 89916359, "body": "Firstly Use <code>TextFormField</code> as child of your <code>Form</code> then customize it on proper functioning."}, {"owner": {"reputation": 1195, "user_id": 1407560, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/365a9e12ddfea9dcf3d50d8b21564987?s=128&d=identicon&r=PG", "display_name": "Sana.91", "link": "https://stackoverflow.com/users/1407560/sana-91"}, "edited": false, "score": 1, "creation_date": 1535486909, "post_id": 51473021, "comment_id": 91081516, "body": "We just need to return null and not &quot;&quot; from validators, please check my answer"}, {"owner": {"reputation": 2902, "user_id": 8581389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9a6afff8d25a7c95daede417864c44?s=128&d=identicon&r=PG&f=1", "display_name": "ap14", "link": "https://stackoverflow.com/users/8581389/ap14"}, "reply_to_user": {"reputation": 1195, "user_id": 1407560, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/365a9e12ddfea9dcf3d50d8b21564987?s=128&d=identicon&r=PG", "display_name": "Sana.91", "link": "https://stackoverflow.com/users/1407560/sana-91"}, "edited": false, "score": 0, "creation_date": 1535543966, "post_id": 51473021, "comment_id": 91103464, "body": "@Sana.91 I have edited my answer. For a string <code>&quot;&quot;</code> and <code>null</code> will result in no error message. Though use of <code>null</code> is a better approach."}, {"owner": {"reputation": 1195, "user_id": 1407560, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/365a9e12ddfea9dcf3d50d8b21564987?s=128&d=identicon&r=PG", "display_name": "Sana.91", "link": "https://stackoverflow.com/users/1407560/sana-91"}, "edited": false, "score": 0, "creation_date": 1535544590, "post_id": 51473021, "comment_id": 91103871, "body": "empty string &quot;&quot; will cause FormState.Validate to fail , please check docs <a href=\"https://flutter.io/cookbook/forms/validation/\" rel=\"nofollow noreferrer\">flutter.io/cookbook/forms/validation</a>"}, {"owner": {"reputation": 2902, "user_id": 8581389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9a6afff8d25a7c95daede417864c44?s=128&d=identicon&r=PG&f=1", "display_name": "ap14", "link": "https://stackoverflow.com/users/8581389/ap14"}, "reply_to_user": {"reputation": 1195, "user_id": 1407560, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/365a9e12ddfea9dcf3d50d8b21564987?s=128&d=identicon&r=PG", "display_name": "Sana.91", "link": "https://stackoverflow.com/users/1407560/sana-91"}, "edited": false, "score": 0, "creation_date": 1535545202, "post_id": 51473021, "comment_id": 91104304, "body": "@Sana.91 thanks for updating me on that. I hope you haven&#39;t waste time due to my error."}], "tags": [], "owner": {"reputation": 2902, "user_id": 8581389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9a6afff8d25a7c95daede417864c44?s=128&d=identicon&r=PG&f=1", "display_name": "ap14", "link": "https://stackoverflow.com/users/8581389/ap14"}, "is_accepted": false, "score": -1, "last_activity_date": 1535543423, "last_edit_date": 1535543423, "creation_date": 1532328538, "answer_id": 51473021, "question_id": 51347317, "link": "https://stackoverflow.com/questions/51347317/validation-using-globalkeyformstate-in-individual-steps-of-flutter-stepper-wid/51473021#51473021", "title": "Validation using GlobalKey&lt;FormState&gt; in individual steps of Flutter Stepper widget returns false even for correct input", "body": "<p>Firstly declare a <code>bool</code> variable.</p>\n\n<pre><code> bool _autoValidate = false;\n</code></pre>\n\n<p>Then use this bool in your form's autoValidate property. As mentioned below</p>\n\n<pre><code>Form(\n    key: _formKey,\n    autovalidate: _autoValidate,\n    child: Column(\n      children: &lt;Widget&gt;[\n        CustomTextField(\n          focusNode: _focusNodeID,\n          hintText: Translations.of(context).cnic,\n          labelText: Translations.of(context).cnic,\n          controller: _controllerIdentifier,\n          keyboardType: TextInputType.number,\n          hasError: _isIdentifierRequired,\n          validator:  _validateIdentifier,\n          maxLength: 13,\n        ),\n        CustomTextField(\n          focusNode: _focusNodeAmount,\n          hintText: Translations.of(context).amount,\n          labelText: Translations.of(context).amount,\n          controller: _controllerAmount,\n          keyboardType: TextInputType.number,\n          hasError: _isAmountRequired,\n          validator: (String t) =&gt; _validateAmount(t),\n          maxLength: 6,\n        ),\n      ],\n    ));\n</code></pre>\n\n<p>Now whenever you want to validate the fields call this function.</p>\n\n<pre><code>setState(() {\n      _autoValidate = true;\n    });\n</code></pre>\n\n<p>This will automatically verify all the fields in the form which have a validator function.</p>\n\n<p>And your validator functions goes like this.</p>\n\n<pre><code>String _validateIdentifier(String value) {\nif (value.isEmpty || value.length &lt; 11 || value.length &gt; 13) {\n  setState(() =&gt; _isIdentifierRequired = true);\n  return Translations.of(context).invalidInput;\n}\nreturn null;\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 1195, "user_id": 1407560, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/365a9e12ddfea9dcf3d50d8b21564987?s=128&d=identicon&r=PG", "display_name": "Sana.91", "link": "https://stackoverflow.com/users/1407560/sana-91"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3725, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1535548198, "creation_date": 1531649062, "last_edit_date": 1531669913, "question_id": 51347317, "link": "https://stackoverflow.com/questions/51347317/validation-using-globalkeyformstate-in-individual-steps-of-flutter-stepper-wid", "title": "Validation using GlobalKey&lt;FormState&gt; in individual steps of Flutter Stepper widget returns false even for correct input", "body": "<p>I am using stepper widget, and using a Form widget in each step of stepper with different form keys in order to validate each step ... the problem is that <code>this._formKey.currentState.validate()</code> always returns false even if the validation criteria fulfills for the current step ... following is the code that i use to build individual steps in stepper:</p>\n\n<pre><code>  Widget _buildCustomerInfoWidget() {\n    return Form(\n        key: _formKey,\n        child: Column(\n          children: &lt;Widget&gt;[\n            CustomTextField(\n              focusNode: _focusNodeID,\n              hintText: Translations.of(context).cnic,\n              labelText: Translations.of(context).cnic,\n              controller: _controllerIdentifier,\n              keyboardType: TextInputType.number,\n              hasError: _isIdentifierRequired,\n              validator: (String t) =&gt; _validateIdentifier(t),\n              maxLength: 13,\n            ),\n            CustomTextField(\n              focusNode: _focusNodeAmount,\n              hintText: Translations.of(context).amount,\n              labelText: Translations.of(context).amount,\n              controller: _controllerAmount,\n              keyboardType: TextInputType.number,\n              hasError: _isAmountRequired,\n              validator: (String t) =&gt; _validateAmount(t),\n              maxLength: 6,\n            ),\n          ],\n        ));\n  }\n\n  Widget _buildCustomerVerificationWidget() {\n    return Form(\n        key: _formKeyOTP,\n        child: Column(\n          children: &lt;Widget&gt;[\n            Center(\n                child: Padding(\n                    padding:\n                        EdgeInsets.symmetric(horizontal: 16.0, vertical: 5.0),\n                    child: Text(\n                      Translations.of(context).helpLabelOTP,\n                      style: new TextStyle(\n                          color: Theme.of(context).primaryColor,\n                          fontStyle: FontStyle.italic),\n                    ))),\n            CustomTextField(\n              focusNode: _focusNodeOTP,\n              hintText: Translations.of(context).otp,\n              labelText: Translations.of(context).otp,\n              controller: _controllerOTP,\n              keyboardType: TextInputType.number,\n              hasError: _isAmountRequired,\n              validator: (String t) =&gt; _validateOTP(t),\n              maxLength: 4,\n              obscureText: true,\n            ),\n          ],\n        ));\n  }\n\n  List&lt;Step&gt; _buildStepperSteps(BuildContext context) {\n    List&lt;Step&gt; paymentSteps = [\n      Step(\n          title: Text(\n            Translations.of(context).infoStepLabel,\n          ),\n          content: _buildCustomerInfoWidget(),\n          state: StepState.indexed,\n          isActive: _isStepActive),\n      Step(\n          title: Text(Translations.of(context).submitStepLabel),\n          state: StepState.indexed,\n          content: _buildCustomerVerificationWidget(),\n          isActive: !_isStepActive),\n    ];\n\n    return paymentSteps;\n  }\n</code></pre>\n\n<p>Complete code for reference:</p>\n\n<pre><code>class PullPaymentPage extends StatefulWidget {\n  PullPaymentPage({Key key, this.title}) : super(key: key);\n\n  final String title;\n\n  @override\n  State&lt;StatefulWidget&gt; createState() {\n    return PullPaymentState();\n  }\n}\n\nclass PullPaymentState extends State&lt;PullPaymentPage&gt; {\n  final GlobalKey&lt;FormState&gt; _formKey = new GlobalKey&lt;FormState&gt;();\n  final GlobalKey&lt;FormState&gt; _formKeyOTP = new GlobalKey&lt;FormState&gt;();\n  final TextEditingController _controllerIdentifier =\n      new TextEditingController();\n  final FocusNode _focusNodeOTP = new FocusNode();\n  final FocusNode _focusNodeID = new FocusNode();\n  final FocusNode _focusNodeAmount = new FocusNode();\n  final TextEditingController _controllerAmount = new TextEditingController();\n  final TextEditingController _controllerOTP = new TextEditingController();\n\n  bool _isIdentifierRequired = false;\n  bool _isAmountRequired = false;\n  bool _isOTPRequired = false;\n  bool _isStepActive = true;\n  int _currentStep = 0;\n\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n        appBar: _buildAppBar(context),\n        body: new Builder(builder: (BuildContext context) {\n          return Container(child: _buildStepper(context));\n        }));\n  }\n\n  Stepper _buildStepper(BuildContext context) {\n    final Map functionMap = {0: _sendOTP, 1: _pullPayment};\n\n    List&lt;Step&gt; paymentSteps = _buildStepperSteps(context);\n\n    return Stepper(\n      steps: paymentSteps,\n      type: StepperType.vertical,\n      currentStep: this._currentStep,\n      onStepTapped: (step) {\n        setState(() {\n          if (step != 1) {\n            _currentStep = step;\n          }\n          (_currentStep == 0) ? _isStepActive = true : _isStepActive = false;\n        });\n      },\n      onStepContinue: () {\n        functionMap[_currentStep]().then((value) {\n          if (value == true) {\n            setState(() {\n              _currentStep++;\n            });\n            if (_currentStep == 1) {\n              Scaffold.of(context).showSnackBar(SnackBar(\n                    content: Text(Translations.of(context).otpSuccess),\n                    duration: Duration(seconds: 4),\n                  ));\n            }\n          }\n        });\n      },\n      onStepCancel: () {\n        setState(() {\n          _currentStep == 0 ? Navigator.of(context).pop() : stepBack();\n        });\n      },\n    );\n  }\n\n  void stepBack() {\n    _isStepActive = true;\n    _currentStep--;\n  }\n\n  Map&lt;int, Function&gt; createFunctionMap() {\n    Map functionMap = {1: _sendOTP(), 2: _pullPayment()};\n    return functionMap;\n  }\n\n  AppBar _buildAppBar(BuildContext context) {\n    return AppBar(\n      title: Text(\n        Translations.of(context).pullPayment,\n      ),\n      backgroundColor: Theme.of(context).primaryColorDark,\n      leading: new BackButton(),\n    );\n  }\n\n  Widget _buildCustomerInfoWidget() {\n    return Form(\n        key: _formKey,\n        child: Column(\n          children: &lt;Widget&gt;[\n            CustomTextField(\n              focusNode: _focusNodeID,\n              hintText: Translations.of(context).cnic,\n              labelText: Translations.of(context).cnic,\n              controller: _controllerIdentifier,\n              keyboardType: TextInputType.number,\n              hasError: _isIdentifierRequired,\n              validator: (String t) =&gt; _validateIdentifier(t),\n              maxLength: 13,\n            ),\n            CustomTextField(\n              focusNode: _focusNodeAmount,\n              hintText: Translations.of(context).amount,\n              labelText: Translations.of(context).amount,\n              controller: _controllerAmount,\n              keyboardType: TextInputType.number,\n              hasError: _isAmountRequired,\n              validator: (String t) =&gt; _validateAmount(t),\n              maxLength: 6,\n            ),\n          ],\n        ));\n  }\n\n  Widget _buildCustomerVerificationWidget() {\n    return Form(\n        key: _formKeyOTP,\n        child: Column(\n          children: &lt;Widget&gt;[\n            Center(\n                child: Padding(\n                    padding:\n                        EdgeInsets.symmetric(horizontal: 16.0, vertical: 5.0),\n                    child: Text(\n                      Translations.of(context).helpLabelOTP,\n                      style: new TextStyle(\n                          color: Theme.of(context).primaryColor,\n                          fontStyle: FontStyle.italic),\n                    ))),\n            CustomTextField(\n              focusNode: _focusNodeOTP,\n              hintText: Translations.of(context).otp,\n              labelText: Translations.of(context).otp,\n              controller: _controllerOTP,\n              keyboardType: TextInputType.number,\n              hasError: _isAmountRequired,\n              validator: (String t) =&gt; _validateOTP(t),\n              maxLength: 4,\n              obscureText: true,\n            ),\n          ],\n        ));\n  }\n\n  List&lt;Step&gt; _buildStepperSteps(BuildContext context) {\n    List&lt;Step&gt; paymentSteps = [\n      Step(\n          title: Text(\n            Translations.of(context).infoStepLabel,\n          ),\n          content: _buildCustomerInfoWidget(),\n          state: StepState.indexed,\n          isActive: _isStepActive),\n      Step(\n          title: Text(Translations.of(context).submitStepLabel),do\n          state: StepState.indexed,\n          content: _buildCustomerVerificationWidget(),\n          isActive: !_isStepActive),\n    ];\n\n    return paymentSteps;\n  }\n\n  String _validateIdentifier(String value) {\n    if (value.isEmpty || value.length &lt; 11 || value.length &gt; 13) {\n      setState(() =&gt; _isIdentifierRequired = true);\n      return Translations.of(context).invalidInput;\n    }\n    return \"\";\n  }\n\n  String _validateAmount(String value) {\n    if (value.isEmpty) {\n      setState(() =&gt; _isAmountRequired = true);\n      return Translations.of(context).amountRequiredError;\n    } else if (!RegexHelpers.amountValidatorRegex.hasMatch(value)) {\n      return Translations.of(context).validAmountError;\n    }\n    return \"\";\n  }\n\n  String _validateOTP(String value) {\n    if (value.isEmpty || value.length &lt; 4) {\n      setState(() =&gt; _isOTPRequired = true);\n      return Translations.of(context).invalidOtp;\n    }\n    return \"\";\n  }\n\n  bool _validateInfoForm() {\n    _isOTPRequired = false;\n    _isAmountRequired = false;\n    _isIdentifierRequired = false;\n\n    if (!this._formKey.currentState.validate()) {\n      return false;\n    }\n    _formKey.currentState.save();\n    return true;\n  }\n\n  bool _validateOtpForm() {\n    _isOTPRequired = false;\n    _isAmountRequired = false;\n    _isIdentifierRequired = false;\n\n    if (!this._formKeyOTP.currentState.validate()) {\n      return false;\n    }\n    _formKeyOTP.currentState.save();\n    return true;\n  }\n\n  Future&lt;bool&gt; _sendOTP() async {\n    bool sendOTP = false;\n    setState(() {\n      _isIdentifierRequired = false;\n      _isAmountRequired = false;\n      _isOTPRequired = false;\n    });\n\n    if (!_validateInfoForm()) {\n      setState(() {\n        _validateAmount(_controllerAmount.text);\n        _validateIdentifier(_controllerIdentifier.text);\n      });\n\n      if (_validateAmount(_controllerAmount.text).isNotEmpty ||\n          _validateIdentifier(_controllerIdentifier.text).isNotEmpty) {\n        return false;\n      }\n    }\n    try {\n      showDialog(\n        barrierDismissible: false,\n        context: context,\n        builder: (context) =&gt; AlertDialog(\n              content: ListTile(\n                leading: CircularProgressIndicator(),\n                title: Text(Translations.of(context).processingSendOtpDialog),\n              ),\n            ),\n      );\n\n      TransactionApi api =\n          new TransactionApi(httpDataSource, authenticator.sessionToken);\n      sendOTP = await api.sendOTP(_controllerIdentifier.text);\n\n      if (sendOTP) {\n        _isStepActive = false;\n        _controllerOTP.clear();\n      }\n\n      Navigator.of(context).pop();\n    } catch (exception) {\n      await showAlertDialog(context, Translations.of(context).pullPayment,\n          '${exception.message}');\n      Navigator.of(context).pop();\n      return false;\n    }\n\n    return sendOTP;\n  }\n\n  Future&lt;bool&gt; _pullPayment() async {\n    Result pullPaymentResponse = new Result();\n    setState(() {\n      _isIdentifierRequired = false;\n      _isAmountRequired = false;\n      _isOTPRequired = false;\n    });\n\n    if (!_validateOtpForm()) {\n      setState(() {\n        _validateOTP(_controllerAmount.text);\n      });\n\n      if (_validateAmount(_controllerAmount.text).isNotEmpty ||\n          _validateIdentifier(_controllerIdentifier.text).isNotEmpty ||\n          _validateOTP(_controllerOTP.text).isNotEmpty) {\n        return false;\n      }\n    }\n\n    try {\n      setState(() {\n        _isOTPRequired = false;\n      });\n      showDialog(\n        barrierDismissible: false,\n        context: context,\n        builder: (context) =&gt; AlertDialog(\n              content: ListTile(\n                leading: CircularProgressIndicator(),\n                title: Text(Translations.of(context).processingPaymentDialog),\n              ),\n            ),\n      );\n\n      TransactionApi api =\n          new TransactionApi(httpDataSource, authenticator.sessionToken);\n      pullPaymentResponse = await api.pullPayment(_controllerIdentifier.text,\n          _controllerAmount.text, _controllerOTP.text);\n\n      Navigator.of(context).pop();\n    } catch (exception) {\n      await showAlertDialog(context, Translations.of(context).pullPayment,\n          '${exception.message}');\n      Navigator.of(context).pop();\n      return false;\n    }\n\n    if (successResponseCodes.contains(pullPaymentResponse.responseCode)) {\n      await showAlertDialog(context, Translations.of(context).pullPayment,\n          '${pullPaymentResponse.description}');\n      Navigator.pop(context);\n      return true;\n    }\n    return false;\n  }\n}\n</code></pre>\n"}, {"tags": ["flutter", "dart", "flutter-packages"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1531646899, "post_id": 51346791, "comment_id": 89666803, "body": "Restarting the IDE usually fixes it. You can also try deleting <code>~&#47;.dartServer&#47;.analysis-driver</code>"}, {"owner": {"reputation": 425, "user_id": 10048625, "user_type": "registered", "profile_image": "https://graph.facebook.com/2587056038186364/picture?type=large", "display_name": "Farah B&#233;doui", "link": "https://stackoverflow.com/users/10048625/farah-b%c3%a9doui"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1531647271, "post_id": 51346791, "comment_id": 89666880, "body": "I restarted my IDE several times but no clue :( ! and when trying to upgrade flutter or flutter packages it shows an exception  &quot;Oops; flutter has exited unexpectedly.&quot;"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1531647314, "post_id": 51346791, "comment_id": 89666889, "body": "Sounds like a harddisk problem."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1531647353, "post_id": 51346791, "comment_id": 89666905, "body": "Have you tried deleting the mentioned directory? Perhaps the disk is too small?"}, {"owner": {"reputation": 425, "user_id": 10048625, "user_type": "registered", "profile_image": "https://graph.facebook.com/2587056038186364/picture?type=large", "display_name": "Farah B&#233;doui", "link": "https://stackoverflow.com/users/10048625/farah-b%c3%a9doui"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1531647637, "post_id": 51346791, "comment_id": 89666983, "body": "harddisk is 1 To not small at all ! my pc is ASUS i7 7th generation also so hard issu i think ! I didn&#39;t understand why should i delete the folder you mentioned?"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1531647751, "post_id": 51346791, "comment_id": 89667012, "body": "It&#39;s a cache for the dartAnalyzer with a ton of files wich might be corrupted. Deleting causes it to be recreated (I didn&#39;t have a need to do that since months, but worth a try I think)."}, {"owner": {"reputation": 14291, "user_id": 69537, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b93340637646c5ad72bfd036f54a2bcd?s=128&d=identicon&r=PG&f=1", "display_name": "B Faley", "link": "https://stackoverflow.com/users/69537/b-faley"}, "edited": false, "score": 0, "creation_date": 1553363569, "post_id": 51346791, "comment_id": 97360330, "body": "<code>flutter packages get</code> fixed the problem for me."}], "answers": [{"comments": [{"owner": {"reputation": 1194, "user_id": 4696610, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pnh70.jpg?s=128&g=1", "display_name": "Ravi Vaniya", "link": "https://stackoverflow.com/users/4696610/ravi-vaniya"}, "edited": false, "score": 0, "creation_date": 1603283373, "post_id": 53583007, "comment_id": 113987056, "body": "finally, I am able to run my 1st project, thx @MohamedMesalm +1"}], "tags": [], "owner": {"reputation": 554, "user_id": 6002868, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xzVP34vRMLU/AAAAAAAAAAI/AAAAAAAAAAs/kti6Bhrr5Sg/photo.jpg?sz=128", "display_name": "Mohamed Mesalm", "link": "https://stackoverflow.com/users/6002868/mohamed-mesalm"}, "is_accepted": false, "score": 18, "last_activity_date": 1543773229, "creation_date": 1543773229, "answer_id": 53583007, "question_id": 51346791, "link": "https://stackoverflow.com/questions/51346791/target-of-uri-doesnt-exist-packageflutter-material-dart/53583007#53583007", "title": "Target of URI doesn&#39;t exist &#39;package:flutter/material.dart&#39;", "body": "<ol>\n<li>ctrl -> Shift -> A (Find Action)</li>\n<li>Search for \"Dart Analysis\"</li>\n<li>Click the icon that says \"Restart the Dart Analysis server\"</li>\n<li>The red underline disappears from the package import and everything works.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 198, "user_id": 6072156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1Lpne.png?s=128&g=1", "display_name": "Watth", "link": "https://stackoverflow.com/users/6072156/watth"}, "edited": false, "score": 0, "creation_date": 1598878519, "post_id": 57664281, "comment_id": 112591580, "body": "This one, combined with the proposed VSCode restart from here, worked for me: <a href=\"https://stackoverflow.com/questions/44909653/visual-studio-code-target-of-uri-doesnt-exist-packageflutter-material-dart\" title=\"visual studio code target of uri doesnt exist packageflutter material dart\">stackoverflow.com/questions/44909653/&hellip;</a>"}], "tags": [], "owner": {"reputation": 486, "user_id": 3894304, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G3i2N.jpg?s=128&g=1", "display_name": "Marcel Hofgesang", "link": "https://stackoverflow.com/users/3894304/marcel-hofgesang"}, "is_accepted": false, "score": 1, "last_activity_date": 1566849810, "creation_date": 1566849810, "answer_id": 57664281, "question_id": 51346791, "link": "https://stackoverflow.com/questions/51346791/target-of-uri-doesnt-exist-packageflutter-material-dart/57664281#57664281", "title": "Target of URI doesn&#39;t exist &#39;package:flutter/material.dart&#39;", "body": "<p>Taking a look into Flutters Github Issues there can be many causes.</p>\n\n<ol>\n<li>Your git causes this error (<a href=\"https://github.com/flutter/flutter/issues/19384\" rel=\"nofollow noreferrer\">issue 19384</a>)</li>\n</ol>\n\n<p>Just delete every entry in your projects .gitignore on your maschine.</p>\n\n<ol start=\"2\">\n<li>There are some missing flutter packages (<a href=\"https://github.com/flutter/flutter/issues/17016\" rel=\"nofollow noreferrer\">issue 17016</a>)</li>\n</ol>\n\n<p>Even when you've just installed flutter yet it can occur that some packages are going to be missed.\nGoing to the root of your Flutter project via command prompt and typing the command <code>flutter packages get</code> will fix this.</p>\n"}, {"tags": [], "owner": {"reputation": 59, "user_id": 9502744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/729d14c52faa1a530b78ee70751639ec?s=128&d=identicon&r=PG&f=1", "display_name": "Adel Bashaibah", "link": "https://stackoverflow.com/users/9502744/adel-bashaibah"}, "is_accepted": false, "score": 5, "last_activity_date": 1614310584, "last_edit_date": 1614310584, "creation_date": 1580574632, "answer_id": 60018874, "question_id": 51346791, "link": "https://stackoverflow.com/questions/51346791/target-of-uri-doesnt-exist-packageflutter-material-dart/60018874#60018874", "title": "Target of URI doesn&#39;t exist &#39;package:flutter/material.dart&#39;", "body": "<p>I tried this solution and it worked just perfect:</p>\n<p>open terminal from the project directory\nand run</p>\n<pre><code>flutter packages get\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7056, "user_id": 3400991, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9CY36.jpg?s=128&g=1", "display_name": "Shobhakar Tiwari", "link": "https://stackoverflow.com/users/3400991/shobhakar-tiwari"}, "is_accepted": true, "score": 2, "last_activity_date": 1615377290, "last_edit_date": 1615377290, "creation_date": 1587282651, "answer_id": 61301160, "question_id": 51346791, "link": "https://stackoverflow.com/questions/51346791/target-of-uri-doesnt-exist-packageflutter-material-dart/61301160#61301160", "title": "Target of URI doesn&#39;t exist &#39;package:flutter/material.dart&#39;", "body": "<p><strong>Flutter Issue Fix: 18-April-2020</strong></p>\n<p>It happened due to :</p>\n<ol>\n<li>You have created a project and then you try to push the code to Git ( and keeping your vscode open)</li>\n<li>Your package needs to update using command flutter packages get ( simply from vscode menu choose terminal and then run this command )</li>\n<li>If you still it didn't fix your issue, simply go to File Menu, choose Close Folder, it fixes your issue.</li>\n<li>Last option restart VSCode.</li>\n</ol>\n<p>Keep Coding #Flutter</p>\n"}, {"tags": [], "owner": {"reputation": 55, "user_id": 7087049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2c4844e2c572ba0c2dc9e36da58b0dc?s=128&d=identicon&r=PG&f=1", "display_name": "Atefeh Mohammadpoor", "link": "https://stackoverflow.com/users/7087049/atefeh-mohammadpoor"}, "is_accepted": false, "score": 1, "last_activity_date": 1588353384, "creation_date": 1588353384, "answer_id": 61547283, "question_id": 51346791, "link": "https://stackoverflow.com/questions/51346791/target-of-uri-doesnt-exist-packageflutter-material-dart/61547283#61547283", "title": "Target of URI doesn&#39;t exist &#39;package:flutter/material.dart&#39;", "body": "<p>Check bupspec.yaml file. Something may be removed from there. I had the same issue and found out this problem and it's fixed now.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 13979376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/prUon.jpg?s=128&g=1", "display_name": "Igbokwenu", "link": "https://stackoverflow.com/users/13979376/igbokwenu"}, "is_accepted": false, "score": 1, "last_activity_date": 1597373051, "creation_date": 1597373051, "answer_id": 63405798, "question_id": 51346791, "link": "https://stackoverflow.com/questions/51346791/target-of-uri-doesnt-exist-packageflutter-material-dart/63405798#63405798", "title": "Target of URI doesn&#39;t exist &#39;package:flutter/material.dart&#39;", "body": "<p>Solution that worked for me: inside your pubspec.yaml file, make sure that the name field (it's the first line of your pubspec.yaml file) has the correct name of the project. If it doesn't, change it and run pub get.</p>\n"}, {"tags": [], "owner": {"reputation": 265, "user_id": 1095610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/920d9d381959b61019fc406df74b6f4d?s=128&d=identicon&r=PG", "display_name": "marcolav", "link": "https://stackoverflow.com/users/1095610/marcolav"}, "is_accepted": false, "score": 0, "last_activity_date": 1599930053, "creation_date": 1599930053, "answer_id": 63862800, "question_id": 51346791, "link": "https://stackoverflow.com/questions/51346791/target-of-uri-doesnt-exist-packageflutter-material-dart/63862800#63862800", "title": "Target of URI doesn&#39;t exist &#39;package:flutter/material.dart&#39;", "body": "<p>I had to delete flutter folder and reinstall it from scratch...</p>\n"}, {"tags": [], "owner": {"reputation": 11993, "user_id": 10563627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xQL2O.jpg?s=128&g=1", "display_name": "Paresh Mangukiya", "link": "https://stackoverflow.com/users/10563627/paresh-mangukiya"}, "is_accepted": false, "score": 1, "last_activity_date": 1607598090, "last_edit_date": 1607598090, "creation_date": 1601700751, "answer_id": 64180845, "question_id": 51346791, "link": "https://stackoverflow.com/questions/51346791/target-of-uri-doesnt-exist-packageflutter-material-dart/64180845#64180845", "title": "Target of URI doesn&#39;t exist &#39;package:flutter/material.dart&#39;", "body": "<p>This error occurs mostly when moving the project from one computer to another, this may happen, that the packages are not taken into</p>\n<p>Regenerate the package to solve this, here is the step</p>\n<ol>\n<li>Deleting <code>pubspeck.lock</code></li>\n<li>Then run <code>flutter pub get</code></li>\n</ol>\n<p>Sometimes, this issue is resolved simply by running <code>flutter pub get</code> once again...</p>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 10949995, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3cl79-pgFw0/AAAAAAAAAAI/AAAAAAAAK_M/-m61quyUqVk/photo.jpg?sz=128", "display_name": "Clement Tong", "link": "https://stackoverflow.com/users/10949995/clement-tong"}, "is_accepted": false, "score": 0, "last_activity_date": 1610971556, "creation_date": 1610971556, "answer_id": 65774208, "question_id": 51346791, "link": "https://stackoverflow.com/questions/51346791/target-of-uri-doesnt-exist-packageflutter-material-dart/65774208#65774208", "title": "Target of URI doesn&#39;t exist &#39;package:flutter/material.dart&#39;", "body": "<p>For me, I needed to remove ':' colons from the app description in the pubspec.yaml file, and run</p>\n<pre><code>flutter packages get\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 260423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27cee98fb6efe8b0322e407258643132?s=128&d=identicon&r=PG", "display_name": "Diogo Fernandes", "link": "https://stackoverflow.com/users/260423/diogo-fernandes"}, "is_accepted": false, "score": 0, "last_activity_date": 1617548865, "creation_date": 1617548865, "answer_id": 66942673, "question_id": 51346791, "link": "https://stackoverflow.com/questions/51346791/target-of-uri-doesnt-exist-packageflutter-material-dart/66942673#66942673", "title": "Target of URI doesn&#39;t exist &#39;package:flutter/material.dart&#39;", "body": "<p>I only re-save my old file. Then restart VSCode.</p>\n"}], "owner": {"reputation": 425, "user_id": 10048625, "user_type": "registered", "profile_image": "https://graph.facebook.com/2587056038186364/picture?type=large", "display_name": "Farah B&#233;doui", "link": "https://stackoverflow.com/users/10048625/farah-b%c3%a9doui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14358, "favorite_count": 4, "accepted_answer_id": 61301160, "answer_count": 10, "score": 11, "last_activity_date": 1617548865, "creation_date": 1531644595, "last_edit_date": 1615377256, "question_id": 51346791, "link": "https://stackoverflow.com/questions/51346791/target-of-uri-doesnt-exist-packageflutter-material-dart", "title": "Target of URI doesn&#39;t exist &#39;package:flutter/material.dart&#39;", "body": "<p>My Flutter IDE (Android Studio) doesn't recognize <code>material.dart</code> anymore! It happened suddenly, I was working normally then my PC turned off because of CPU 100% consumption and when I restarted I found this problem.</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 2224, "user_id": 7940500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TSHV3.jpg?s=128&g=1", "display_name": "Aman Malhotra", "link": "https://stackoverflow.com/users/7940500/aman-malhotra"}, "edited": false, "score": 0, "creation_date": 1531635272, "post_id": 51345575, "comment_id": 89664648, "body": "You need to tell some things clearly when u ask a question .. What do you mean when u say &quot;Root&quot; widget , &quot;Home Screen &quot;Widget and &quot;Other Screen&quot; widget ??Please add the tree just to tell which is a parent widget and which is the child widget and you are calling which widget from which one .."}], "answers": [{"comments": [{"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1531642097, "post_id": 51345907, "comment_id": 89665881, "body": "Link to the issue? There are cases where this is actually normal"}, {"owner": {"reputation": 978, "user_id": 7605215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b409c3475616603a6caf7c84b9e4ae81?s=128&d=identicon&r=PG&f=1", "display_name": "Conner", "link": "https://stackoverflow.com/users/7605215/conner"}, "edited": false, "score": 1, "creation_date": 1531670602, "post_id": 51345907, "comment_id": 89672509, "body": "I believe this is the issue <a href=\"https://github.com/flutter/flutter/issues/11655\" rel=\"nofollow noreferrer\">github.com/flutter/flutter/issues/11655</a>"}, {"owner": {"reputation": 1644, "user_id": 3551778, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/42eebb0a5dfae3e309ebaa9168051513?s=128&d=identicon&r=PG&f=1", "display_name": "Vikalp", "link": "https://stackoverflow.com/users/3551778/vikalp"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 1, "creation_date": 1577042064, "post_id": 51345907, "comment_id": 105077205, "body": "@R&#233;miRousselet Can you pls tell cases where this is normal? Also, the purpose of using &#39;Providers&#39; fails if the build is called again. Consider a case where I listen to my data changes with the help of &#39;Providers&#39; and the data change is done in a widget added with Navigator. This defeats the purpose of using Providers; I can use the static class level data instead."}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "reply_to_user": {"reputation": 1644, "user_id": 3551778, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/42eebb0a5dfae3e309ebaa9168051513?s=128&d=identicon&r=PG&f=1", "display_name": "Vikalp", "link": "https://stackoverflow.com/users/3551778/vikalp"}, "edited": false, "score": 0, "creation_date": 1577042451, "post_id": 51345907, "comment_id": 105077300, "body": "@Vikalp The purpose of <code>provider</code> has never been about optimizing rebuilds"}, {"owner": {"reputation": 1644, "user_id": 3551778, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/42eebb0a5dfae3e309ebaa9168051513?s=128&d=identicon&r=PG&f=1", "display_name": "Vikalp", "link": "https://stackoverflow.com/users/3551778/vikalp"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 3, "creation_date": 1577043323, "post_id": 51345907, "comment_id": 105077482, "body": "@R&#233;miRousselet Consider a case where I am using ChangeNotifierProvider&lt;T&gt; in Widget A to update the part of my widget tree with the help of Consumers. Then I navigate to Widget B with the help of Navigator.pushNamed(). Here, I make changes to my data &lt;T&gt; and then pop the Widget B. Now if Widget A is to rebuild again then the purpose of using a Consumer failed which was listening to data changes. To be precise, If the consumer does not get notified of data changes but created again during rebuild of Widget A then it is just acting as a one-time bridge b/w data and my widget."}], "tags": [], "owner": {"reputation": 2334, "user_id": 10045194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lV19Q.png?s=128&g=1", "display_name": "blaneyneil", "link": "https://stackoverflow.com/users/10045194/blaneyneil"}, "is_accepted": true, "score": 3, "last_activity_date": 1531636477, "creation_date": 1531636477, "answer_id": 51345907, "question_id": 51345575, "link": "https://stackoverflow.com/questions/51345575/widget-is-being-rebuilt-when-child-widget-is-calling-a-push-named/51345907#51345907", "title": "Widget is being rebuilt when Child Widget is calling a Push Named", "body": "<p>it's currently a bug (or at least an oversight).  Flutter will rebuild a parent widget, needlessly, upon both a push and a pop.  There's already a github issue filed.</p>\n"}], "owner": {"reputation": 978, "user_id": 7605215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b409c3475616603a6caf7c84b9e4ae81?s=128&d=identicon&r=PG&f=1", "display_name": "Conner", "link": "https://stackoverflow.com/users/7605215/conner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 853, "favorite_count": 0, "accepted_answer_id": 51345907, "answer_count": 1, "score": 2, "last_activity_date": 1531670579, "creation_date": 1531633141, "last_edit_date": 1531670579, "question_id": 51345575, "link": "https://stackoverflow.com/questions/51345575/widget-is-being-rebuilt-when-child-widget-is-calling-a-push-named", "title": "Widget is being rebuilt when Child Widget is calling a Push Named", "body": "<h1>This is My Home Screen Widget Build</h1>\n\n<pre><code>@override\nWidget build(BuildContext context) {\n  print(\"Rebuilt root widget\");\n  switch (authStatus) {\n    case AuthStatus.notSignedIn:\n      return Child1(\n        auth: widget.auth,\n        onSignedIn: _signedIn,\n      );\n    case AuthStatus.signedIn:\n      return Child2(\n        auth: widget.auth,\n        onSignedOut: _signedOut,\n      );\n    }\n  }\n  return null;\n}\n</code></pre>\n\n<h1>This is a strip of code being called from my \"Child2\" Widget</h1>\n\n<pre><code>Navigator.of(context).pushNamed('/OtherScreen');\n</code></pre>\n\n<p>When the \"OtherScreen\" Widget is pushed, the text <em>Rebuilt root widget</em> is printed again, implying my root widget is being rebuilt. Why is this so?</p>\n"}, {"tags": ["dart", "google-cloud-firestore", "flutter"], "comments": [{"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 2, "creation_date": 1531631465, "post_id": 51345345, "comment_id": 89664000, "body": "<code>double weight = json[&#39;weight&#39;].toDouble()</code>?"}, {"owner": {"reputation": 878, "user_id": 8439576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Jdn9.jpg?s=128&g=1", "display_name": "Mohith7548", "link": "https://stackoverflow.com/users/8439576/mohith7548"}, "edited": false, "score": 1, "creation_date": 1531635355, "post_id": 51345345, "comment_id": 89664656, "body": "you can do like this: <code>double weight = json[&#39;weight&#39;] + 0.0;</code>"}, {"owner": {"reputation": 2334, "user_id": 10045194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lV19Q.png?s=128&g=1", "display_name": "blaneyneil", "link": "https://stackoverflow.com/users/10045194/blaneyneil"}, "edited": false, "score": 0, "creation_date": 1531636781, "post_id": 51345345, "comment_id": 89664862, "body": "it&#39;s Dart, not Flutter per se.  Dart is insanely strict with typing.  ultimately, it makes for cleaner code.  but it takes a bit to get used to it - Dart won&#39;t just magically convert variables for you."}], "answers": [{"comments": [{"owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "edited": false, "score": 3, "creation_date": 1531727740, "post_id": 51348453, "comment_id": 89686207, "body": "This is mostly wrong. Dart never converts an integer value to a double for you, you have to call <code>.toDouble()</code>. Doing an <code>as</code> cast on a number does not change its type. If you run <code>double x = 42 as num;</code> on the VM, you will get a run-time error because the integer is not a double. It works when compiled to JavaScript, but only because all number instances in JavaScript are doubles, even the ones that are also <code>int</code>."}, {"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "reply_to_user": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "edited": false, "score": 0, "creation_date": 1531747762, "post_id": 51348453, "comment_id": 89698125, "body": "@lrn It works fine. I tested it before posting.. You could have also checked out what I linked."}, {"owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "edited": false, "score": 1, "creation_date": 1531904944, "post_id": 51348453, "comment_id": 89766890, "body": "I&#39;m probably misreading what you are writing, and if so, I apologize. I&#39;m very confused about what it is that you say is working (the <code>.toDouble()</code> works, everything else does not when run on the VM, but it&#39;s not clear from the text that it&#39;s examples that are not supposed to work). The &quot;Parsing&quot; part is actually casting from int to double, the &quot;Casting&quot; part is doing things that all fails at run-time. So, maybe I&#39;m just saying that the message isn&#39;t clear."}, {"owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "edited": false, "score": 0, "creation_date": 1531905431, "post_id": 51348453, "comment_id": 89767227, "body": "Not sure which link you are referring to, but I&#39;m quite familiar with the Dart type system and run-time behavior. I&#39;m speaking from the perspective of the Dart 2 static and run-time type system, but what I say here also goes for Dart 1 in <code>--checked</code> more (which checks types instead of ignoring them and allowing anything)."}], "tags": [], "owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "is_accepted": true, "score": 35, "last_activity_date": 1531659877, "last_edit_date": 1531659877, "creation_date": 1531658303, "answer_id": 51348453, "question_id": 51345345, "link": "https://stackoverflow.com/questions/51345345/why-cant-i-convert-a-number-into-a-double/51348453#51348453", "title": "Why can&#39;t I convert a Number into a Double?", "body": "<p>When parsing <code>100</code> from Firestore (which actually does not support a \"number type\", but <a href=\"https://firebase.google.com/docs/firestore/manage-data/data-types\" rel=\"noreferrer\">converts it</a>), it will by standard be parsed to an <strong><code>int</code></strong>.<br>\n<em>Dart</em> does not automatically \"smartly\" cast those types. In fact, you cannot cast an <code>int</code> to a <code>double</code>, which is the problem you are facing. If it were possible, your code would just work fine.</p>\n\n<h3>Parsing</h3>\n\n<p>Instead, you can <em>parse</em> it yourself:</p>\n\n<pre><code>double weight = json['weight'].toDouble();\n</code></pre>\n\n<h3>Casting</h3>\n\n<p>What also works, is parsing the JSON to a <code>num</code> and then assigning it to a <code>double</code>, which will cast <code>num</code> to <code>double</code>.</p>\n\n<pre><code>double weight = json['weight'] as num;\n</code></pre>\n\n<p>This seems a bit odd at first and in fact the <a href=\"https://pub.dartlang.org/packages/analyzer\" rel=\"noreferrer\">Dart Analysis tool</a> (which is e.g. built in into the Dart plugin for VS Code and IntelliJ) will mark it as an <strong>\"unnecessary cast\"</strong>, which it is not.</p>\n\n<pre><code>double a = 100; // this will not compile\n\ndouble b = 100 as num; // this will compile, but is still marked as an \"unnecessary cast\"\n</code></pre>\n\n<p><code>double b = 100 as num</code> compiles because <a href=\"https://api.dartlang.org/stable/1.24.3/dart-core/num-class.html\" rel=\"noreferrer\"><code>num</code> is the super class</a> of <a href=\"https://api.dartlang.org/stable/1.24.3/dart-core/double-class.html\" rel=\"noreferrer\"><code>double</code></a> and Dart casts super to sub types even without explicit casts.<br>\nAn <strong>explicit cast</strong> would be the follwing:</p>\n\n<pre><code>double a = 100 as double; // does not compile because int is not the super class of double\n\ndouble b = (100 as num) as double; // compiles, you can also omit the double cast\n</code></pre>\n\n<p><a href=\"https://news.dartlang.org/2012/05/types-and-casting-in-dart.html\" rel=\"noreferrer\">Here is a nice read</a> about <em>\"Types and casting in Dart\"</em>.</p>\n\n<h3>Explanation</h3>\n\n<p>What happened to you is the following:</p>\n\n<pre><code>double weight;\n\nweight = 100; // cannot compile because 100 is considered an int\n// is the same as\nweight = 100 as double; // which cannot work as I explained above\n// Dart adds those casts automatically\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1531747754, "post_id": 51357224, "comment_id": 89698116, "body": "You do not get a run time error. I do not see where you got that from. Maybe that was once the case, but you can try it on the VM. There is neither a compile nor run time error."}, {"owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "reply_to_user": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 2, "creation_date": 1531905290, "post_id": 51357224, "comment_id": 89767147, "body": "Just tried: <code>main() { num n = 100; double d = n; }</code> run on the Dart 2 VM gives <code>Unhandled exception:                                                                 type &#39;int&#39; is not a subtype of type &#39;double&#39;</code>. Adding the <code>as double</code> makes no difference. The assignment used to work in <i>unchecked</i> Dart 1 code, but if you use <code>--checked</code> when running Dart 1, it would fail in exactly the same way. An <code>int</code> is not a <code>double</code>. (Again, when compiling to JavaScript, integers actually are doubles too, because JavaScript only has one numeric type)."}], "tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": false, "score": 0, "last_activity_date": 1531924859, "last_edit_date": 1531924859, "creation_date": 1531728398, "answer_id": 51357224, "question_id": 51345345, "link": "https://stackoverflow.com/questions/51345345/why-cant-i-convert-a-number-into-a-double/51357224#51357224", "title": "Why can&#39;t I convert a Number into a Double?", "body": "<p>In Dart, <code>int</code> and <code>double</code> are separate types, both subtypes of <code>num</code>.</p>\n\n<p>There is no automatic conversion between number types. If you write:</p>\n\n<pre><code>num n = 100;\ndouble d = n;\n</code></pre>\n\n<p>you will get a run-time error. Dart's static type system allows unsafe down-casts, so the unsafe assignment of <code>n</code> to <code>d</code> (unsafe because not all <code>num</code> values are <code>double</code> values) is treated implicitly as:</p>\n\n<pre><code>num n = 100;\ndouble d = n as double;\n</code></pre>\n\n<p>The <code>as double</code> <em>checks</em> that the value is actually a <code>double</code> (or <code>null</code>), and throws if it isn't. If that check succeeds, then it can safely assign the value to <code>d</code> since it is known to match the variable's type.</p>\n\n<p>That's what's happening here. The actual value of <code>json['weight']</code> (likely with static type <code>Object</code> or <code>dynamic</code>) is the <code>int</code> object with value 100. Assigning that to <code>int</code> works. Assigning it to <code>num</code> works. Assigning it to <code>double</code> throws.</p>\n\n<p>The Dart JSON parser parses numbers as integers if they have no decimal or exponent parts (<code>0.0</code> is a double, <code>0e0</code> is a double, <code>0</code> is an integer). That's very convenient in most cases, but occasionally annoying in cases like yours where you want a <code>double</code>, but the code creating the JSON didn't write it as a double.</p>\n\n<p>In cases like that, you just have to write <code>.toDouble()</code> on the values when you extract them. That's a no-op on actual doubles.</p>\n\n<p>As a side note, Dart compiled to JavaScript represents all numbers as the JavaScript Number type, which means that all numbers are doubles. In JS compiled code, all integers can be assigned to double without conversion. That will <em>not</em> work when the code is run on a non-JS implementation, like Flutter, Dart VM/server or ahead-of-time compilation for iOS, so don't depend on it, or your code will not be portable.</p>\n"}, {"comments": [{"owner": {"reputation": 1437, "user_id": 2249026, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/b19ab2d879b5b7e40278cf2b0bacca68?s=128&d=identicon&r=PG", "display_name": "tod", "link": "https://stackoverflow.com/users/2249026/tod"}, "edited": false, "score": 0, "creation_date": 1541569948, "post_id": 53184040, "comment_id": 93257953, "body": "this can safely go as a comment"}], "tags": [], "owner": {"reputation": 31, "user_id": 7515822, "user_type": "registered", "profile_image": "https://graph.facebook.com/1062096307269975/picture?type=large", "display_name": "Dishant Mahajan", "link": "https://stackoverflow.com/users/7515822/dishant-mahajan"}, "is_accepted": false, "score": 3, "last_activity_date": 1580904164, "last_edit_date": 1580904164, "creation_date": 1541568726, "answer_id": 53184040, "question_id": 51345345, "link": "https://stackoverflow.com/questions/51345345/why-cant-i-convert-a-number-into-a-double/53184040#53184040", "title": "Why can&#39;t I convert a Number into a Double?", "body": "<p>You can Parse the data Like given below:</p>\n\n<p>Here document is a <code>Map&lt;String,dynamic&gt;</code></p>\n\n<pre><code>double opening = double.tryParse(document['opening'].toString());\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1036, "user_id": 4688566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RzYqO.jpg?s=128&g=1", "display_name": "Sateesh", "link": "https://stackoverflow.com/users/4688566/sateesh"}, "edited": false, "score": 0, "creation_date": 1575456711, "post_id": 59169865, "comment_id": 104570495, "body": "Why down vote? I have tested this solution its working fine. If you have dynamic list with int data then type casting also fails, then only this solution worked. Please try once down vote."}], "tags": [], "owner": {"reputation": 1036, "user_id": 4688566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RzYqO.jpg?s=128&g=1", "display_name": "Sateesh", "link": "https://stackoverflow.com/users/4688566/sateesh"}, "is_accepted": false, "score": -2, "last_activity_date": 1575439703, "creation_date": 1575439703, "answer_id": 59169865, "question_id": 51345345, "link": "https://stackoverflow.com/questions/51345345/why-cant-i-convert-a-number-into-a-double/59169865#59169865", "title": "Why can&#39;t I convert a Number into a Double?", "body": "<p>Simply convert <code>int</code> to <code>double</code> like this</p>\n\n<pre><code>int a = 10;\ndouble b = a + 0.0;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 353, "user_id": 6146879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9d7c5bf599cdeb0e0501d30d9ec4218?s=128&d=identicon&r=PG&f=1", "display_name": "Mi Be", "link": "https://stackoverflow.com/users/6146879/mi-be"}, "is_accepted": false, "score": 6, "last_activity_date": 1580897316, "creation_date": 1580897316, "answer_id": 60073357, "question_id": 51345345, "link": "https://stackoverflow.com/questions/51345345/why-cant-i-convert-a-number-into-a-double/60073357#60073357", "title": "Why can&#39;t I convert a Number into a Double?", "body": "<p>You can do it in one line:</p>\n\n<pre><code> double weight = (json['weight'] as num).toDouble();\n</code></pre>\n"}], "owner": {"reputation": 615, "user_id": 1010816, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/29ec7e40a7f47785bc935cd4610d34d0?s=128&d=identicon&r=PG", "display_name": "kenwen", "link": "https://stackoverflow.com/users/1010816/kenwen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22418, "favorite_count": 2, "accepted_answer_id": 51348453, "answer_count": 5, "score": 10, "last_activity_date": 1580904164, "creation_date": 1531629916, "last_edit_date": 1531659563, "question_id": 51345345, "link": "https://stackoverflow.com/questions/51345345/why-cant-i-convert-a-number-into-a-double", "title": "Why can&#39;t I convert a Number into a Double?", "body": "<p><code>weight</code> is a field (Number in <a href=\"https://firebase.google.com/docs/firestore/manage-data/data-types\" rel=\"noreferrer\">Firestore</a>), set as <code>100</code>.</p>\n\n<pre><code>int weight = json['weight'];\ndouble weight = json['weight'];\n</code></pre>\n\n<p><code>int weight</code> works fine, returns <code>100</code> as expected, but <code>double weight</code> crashes (<code>Object.noSuchMethod</code> exception) rather than returning <code>100.0</code>, which is what I expected.</p>\n\n<p>However, the following works:</p>\n\n<pre><code>num weight = json['weight'];\nnum.toDouble();\n</code></pre>\n"}, {"tags": ["dictionary", "caching", "concurrency", "dart", "thread-safety"], "answers": [{"comments": [{"owner": {"reputation": 11845, "user_id": 3280538, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pYuGC.jpg?s=128&g=1", "display_name": "flakes", "link": "https://stackoverflow.com/users/3280538/flakes"}, "edited": false, "score": 0, "creation_date": 1531641125, "post_id": 51346381, "comment_id": 89665674, "body": "I meant that adding async to the lambda isnt allowed due to the method signature of <code>putIfAbsent</code>. Caching the future does seem like a pretty clean solution! Going to look into that!"}], "tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": true, "score": 2, "last_activity_date": 1531640937, "creation_date": 1531640937, "answer_id": 51346381, "question_id": 51345291, "link": "https://stackoverflow.com/questions/51345291/how-to-use-putifabsent-for-when-action-returns-future/51346381#51346381", "title": "How to use putIfAbsent for when action returns Future", "body": "<p>What do you mean by \"this async is not allowed\"? I see no particular issue with the <code>putIfAbsent</code> code, and I believe it should work.\nThe one probelem I see is that the cache is not caching futures, but strings. Since your function is returning a future anyway, you might as well store the future in the cache.</p>\n\n<p>I would write it as:</p>\n\n<pre><code>final Map&lt;String, Future&lt;String&gt;&gt; _cache = new Map();\n\nFuture&lt;String&gt; parse(final String name) =&gt;\n    _cache.putIfAbsent(name, () =&gt; File(name).readAsString());\n</code></pre>\n\n<p>but apart from fixing the <code>_cache</code> map type, that is effectively the same, it's just avoiding creating and waiting for a couple of extra futures.</p>\n"}], "owner": {"reputation": 11845, "user_id": 3280538, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pYuGC.jpg?s=128&g=1", "display_name": "flakes", "link": "https://stackoverflow.com/users/3280538/flakes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "accepted_answer_id": 51346381, "answer_count": 1, "score": 2, "last_activity_date": 1531640937, "creation_date": 1531629272, "question_id": 51345291, "link": "https://stackoverflow.com/questions/51345291/how-to-use-putifabsent-for-when-action-returns-future", "title": "How to use putIfAbsent for when action returns Future", "body": "<p>In my class I'm loading some files, and for efficiency I wanted to make a thread safe cache. I see in the map class that there is a <code>putIfAbsent</code> method, but it doesn't accept <code>async</code> types. Also not sure if this structure in general is safe to use.</p>\n\n<p>This is the style of what I'm trying to do:</p>\n\n<pre><code>final Map&lt;String, String&gt; _cache = new Map();\n\nFuture&lt;String&gt; parse(final String name) async {\n  _cache.putIfAbsent(name, () async { // this async is not allowed\n    return await new File(name).readAsString();\n  });\n  return _cache[name];\n}\n</code></pre>\n\n<p>Since I can use async on the parameter I've opted to use locks instead, but it makes the code far more verbose..</p>\n\n<pre><code>final Lock _lock = new Lock();\nfinal Map&lt;String, String&gt; _cache = new Map();\n\nFuture&lt;String&gt; parse(final String name) async {\n  if (!_cache.containsKey(name)) {\n    await _lock.synchronized(() async {\n      if (!_cache.containsKey(name)) {\n        _cache[name] = await new File(name).readAsString();\n      }\n    });\n  }\n\n  return _cache[name];\n}\n</code></pre>\n\n<p>Does anyone know how I can simplify this code, or if there are better libraries I can use for thread safe cache?</p>\n"}, {"tags": ["class", "inheritance", "dart", "constants"], "answers": [{"comments": [{"owner": {"reputation": 11845, "user_id": 3280538, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pYuGC.jpg?s=128&g=1", "display_name": "flakes", "link": "https://stackoverflow.com/users/3280538/flakes"}, "edited": false, "score": 0, "creation_date": 1531629158, "post_id": 51345248, "comment_id": 89663703, "body": "Thanks! This seems like what I was looking for! That last case is really interesting.. I didn&#39;t know you could just implement any existing classes. I guess trying to stop the last case is just going to be pedantic / impossible."}, {"owner": {"reputation": 14105, "user_id": 4231909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NbwgO.jpg?s=128&g=1", "display_name": "Jonah Williams", "link": "https://stackoverflow.com/users/4231909/jonah-williams"}, "reply_to_user": {"reputation": 11845, "user_id": 3280538, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pYuGC.jpg?s=128&g=1", "display_name": "flakes", "link": "https://stackoverflow.com/users/3280538/flakes"}, "edited": false, "score": 1, "creation_date": 1531629418, "post_id": 51345248, "comment_id": 89663749, "body": "I usually go with the comment <code>&#47;&#47; Do not mock this class</code>... it&#39;s not the best."}], "tags": [], "owner": {"reputation": 14105, "user_id": 4231909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NbwgO.jpg?s=128&g=1", "display_name": "Jonah Williams", "link": "https://stackoverflow.com/users/4231909/jonah-williams"}, "is_accepted": true, "score": 7, "last_activity_date": 1531628781, "creation_date": 1531628781, "answer_id": 51345248, "question_id": 51344769, "link": "https://stackoverflow.com/questions/51344769/creating-a-non-instantiable-non-extendable-class/51345248#51345248", "title": "Creating a Non-Instantiable, Non-Extendable Class", "body": "<p>Giving you class a private constructor will make it so it can only be created within the same file, otherwise it will not be visible.  This also prevents users from extending or mixing-in the class in other files.  Note that within the same file, you will still be able to extend it since you can still access the constructor.  Also, users will always be able to implement your class, since all classes define an implicit interface.</p>\n\n<pre><code>class Foo {\n  /// Private constructor, can only be invoked inside of this file (library).\n  Foo._();\n\n}\n\n// Same file (library).\nclass Fizz extends Foo {\n  Fizz() : super._();\n}\n\n// Different file (library).\nclass Bar extends Foo {} // Error: Foo does not have a zero-argument constructor\n\nclass Fizz extends Object with Foo {} // Error: The class Foo cannot be used as a mixin.\n\n// Always allowed.\nclass Boo implements Foo {}\n</code></pre>\n"}], "owner": {"reputation": 11845, "user_id": 3280538, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pYuGC.jpg?s=128&g=1", "display_name": "flakes", "link": "https://stackoverflow.com/users/3280538/flakes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1011, "favorite_count": 1, "accepted_answer_id": 51345248, "answer_count": 1, "score": 8, "last_activity_date": 1531628781, "creation_date": 1531621408, "last_edit_date": 1531621838, "question_id": 51344769, "link": "https://stackoverflow.com/questions/51344769/creating-a-non-instantiable-non-extendable-class", "title": "Creating a Non-Instantiable, Non-Extendable Class", "body": "<p>I want to make a class to group some <code>static const</code> values. </p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>// SomeClass.dart\nclass SomeClass {\n  static const SOME_CONST = 'some value';\n}\n</code></pre>\n\n<p>What is the idiomatic way in dart to prevent dependent code from instantiating this class? I would also like to prevent extension to this class. In <code>Java</code> I would do the following:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// SomeClass.java\npublic final class SomeClass {\n    private SomeClass () {}\n    public static final String SOME_CONST = 'some value';\n}\n</code></pre>\n\n<p>So far all I can think of is throwing an <code>Exception</code>, but I'd like to have compile safety as opposed to halting code in run-time.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class SomeClass {\n  SomeClass() {\n    throw new Exception(\"Instantiation of consts class not permitted\");\n  }\n  ...\n</code></pre>\n"}, {"tags": ["firebase", "firebase-realtime-database", "dart", "flutter"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1531612465, "post_id": 51344247, "comment_id": 89661778, "body": "When posting to Stack Overflow, please don&#39;t post pictures of code and errors. Instead, it&#39;s much better to copy the text into the question so it&#39;s easier to read and search."}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1531612636, "post_id": 51344247, "comment_id": 89661799, "body": "Firebase transactions are going to work the same way with flutter as they do with other languages.  Try starting with the documentation for transactions for one of the other supported languages to get a sense of how they work."}, {"owner": {"reputation": 2695, "user_id": 1130342, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52ff3fc6190f6f2b4813a5683697fbf6?s=128&d=identicon&r=PG", "display_name": "Luke Pighetti", "link": "https://stackoverflow.com/users/1130342/luke-pighetti"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 1, "creation_date": 1531612679, "post_id": 51344247, "comment_id": 89661802, "body": "The photos above contain context that cannot be described in text, and all important code is already in text."}, {"owner": {"reputation": 2695, "user_id": 1130342, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52ff3fc6190f6f2b4813a5683697fbf6?s=128&d=identicon&r=PG", "display_name": "Luke Pighetti", "link": "https://stackoverflow.com/users/1130342/luke-pighetti"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1531612846, "post_id": 51344247, "comment_id": 89661816, "body": "I know how to achieve this in JavaScript but I am unable to complete the task in this context."}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1531613092, "post_id": 51344247, "comment_id": 89661853, "body": "Closest match is probably Android.  The semantics of the various objects and callbacks are unchanged."}, {"owner": {"reputation": 2695, "user_id": 1130342, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52ff3fc6190f6f2b4813a5683697fbf6?s=128&d=identicon&r=PG", "display_name": "Luke Pighetti", "link": "https://stackoverflow.com/users/1130342/luke-pighetti"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1531613853, "post_id": 51344247, "comment_id": 89661941, "body": "I&#39;ve been through the Java examples as well and they do not shed light on this. The semantics of the various objects and callbacks are not the same."}, {"owner": {"reputation": 2695, "user_id": 1130342, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52ff3fc6190f6f2b4813a5683697fbf6?s=128&d=identicon&r=PG", "display_name": "Luke Pighetti", "link": "https://stackoverflow.com/users/1130342/luke-pighetti"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1531613921, "post_id": 51344247, "comment_id": 89661950, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/175996/discussion-between-luke-pighetti-and-doug-stevenson\">continue this discussion in chat</a>."}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1531614601, "post_id": 51344247, "comment_id": 89662027, "body": "Perhaps you could edit the question to include the differences in semantics that you observed, that might help.  For example, you could say &quot;this is what the code would look like in language X, but I&#39;m unable to translate these concepts to Y&quot;.  I personally can&#39;t help because I haven&#39;t written a line of Dart in my life.  But I know that transactions functionally work very similarly everywhere."}], "answers": [{"comments": [{"owner": {"reputation": 1420, "user_id": 2831595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/35Yc4.jpg?s=128&g=1", "display_name": "Jorge Vieira", "link": "https://stackoverflow.com/users/2831595/jorge-vieira"}, "edited": false, "score": 0, "creation_date": 1558305928, "post_id": 51344498, "comment_id": 99046294, "body": "I am trying do this way and getting an error, some idea?: java.lang.RuntimeException: Methods marked with @UiThread must be executed on the main thread. Current thread: FirebaseDatabaseWorker"}], "tags": [], "owner": {"reputation": 2695, "user_id": 1130342, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52ff3fc6190f6f2b4813a5683697fbf6?s=128&d=identicon&r=PG", "display_name": "Luke Pighetti", "link": "https://stackoverflow.com/users/1130342/luke-pighetti"}, "is_accepted": true, "score": 14, "last_activity_date": 1531959015, "last_edit_date": 1531959015, "creation_date": 1531616477, "answer_id": 51344498, "question_id": 51344247, "link": "https://stackoverflow.com/questions/51344247/how-do-i-perform-a-transaction-in-firebase-database-in-flutter/51344498#51344498", "title": "How do I perform a transaction in firebase_database in Flutter?", "body": "<p>A transaction is an atomic read/write on a piece of data in a Firebase Realtime Database or Cloud Firestore.</p>\n\n<p>Flutter is a mobile development framework that uses the Dart language.</p>\n\n<p>This is how you perform a transaction using the firebase_database package in a Flutter app.</p>\n\n<pre><code>final dataRef = database.reference().child('path/to/data');\n\ndataRef.runTransaction((MutableData transaction) async{\n    transaction.value = (transaction.value ?? 0) + 1;\n    return transaction;\n});\n</code></pre>\n"}], "owner": {"reputation": 2695, "user_id": 1130342, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52ff3fc6190f6f2b4813a5683697fbf6?s=128&d=identicon&r=PG", "display_name": "Luke Pighetti", "link": "https://stackoverflow.com/users/1130342/luke-pighetti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4230, "favorite_count": 0, "accepted_answer_id": 51344498, "answer_count": 1, "score": 7, "last_activity_date": 1531959015, "creation_date": 1531612186, "last_edit_date": 1531616562, "question_id": 51344247, "link": "https://stackoverflow.com/questions/51344247/how-do-i-perform-a-transaction-in-firebase-database-in-flutter", "title": "How do I perform a transaction in firebase_database in Flutter?", "body": "<p>How do I perform an atomic read/write transaction in firebase_database in Flutter?</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 8824, "user_id": 1274485, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/2SoGM.jpg?s=128&g=1", "display_name": "Yann39", "link": "https://stackoverflow.com/users/1274485/yann39"}, "edited": false, "score": 0, "creation_date": 1549189592, "post_id": 51343735, "comment_id": 95808011, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/41475303/preloading-local-image-assets-in-flutter\">Preloading local image assets in Flutter</a>"}], "answers": [{"comments": [{"owner": {"reputation": 14105, "user_id": 4231909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NbwgO.jpg?s=128&g=1", "display_name": "Jonah Williams", "link": "https://stackoverflow.com/users/4231909/jonah-williams"}, "edited": false, "score": 7, "creation_date": 1531608271, "post_id": 51343936, "comment_id": 89661138, "body": "This does not actually answer the question that was asked"}, {"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "reply_to_user": {"reputation": 14105, "user_id": 4231909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NbwgO.jpg?s=128&g=1", "display_name": "Jonah Williams", "link": "https://stackoverflow.com/users/4231909/jonah-williams"}, "edited": false, "score": 6, "creation_date": 1531611601, "post_id": 51343936, "comment_id": 89661673, "body": "@JonahWilliams I think so because most of the question consists of the &quot;blink&quot; effect as a whole, even though the title does not suggest that: &quot;so there is no such effect&quot; is what I tried to answer."}, {"owner": {"reputation": 951, "user_id": 7962825, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7iMIVaEfxqE/AAAAAAAAAAI/AAAAAAAAASY/pK2ov-FQUFM/photo.jpg?sz=128", "display_name": "Mugetsu", "link": "https://stackoverflow.com/users/7962825/mugetsu"}, "edited": false, "score": 0, "creation_date": 1531731937, "post_id": 51343936, "comment_id": 89688494, "body": "Ye this does not answer the question. I need the image to be instantly loaded no fading no blinking. Just open drawer with already cached image something like this."}, {"owner": {"reputation": 6468, "user_id": 1949390, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/64cd775c51fc47067f0d133544385691?s=128&d=identicon&r=PG", "display_name": "Brian Oh", "link": "https://stackoverflow.com/users/1949390/brian-oh"}, "edited": false, "score": 0, "creation_date": 1557944523, "post_id": 51343936, "comment_id": 98940121, "body": "Exactly what I needed."}, {"owner": {"reputation": 1632, "user_id": 8135721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0VAdN.png?s=128&g=1", "display_name": "Bawantha", "link": "https://stackoverflow.com/users/8135721/bawantha"}, "edited": false, "score": 0, "creation_date": 1604938124, "post_id": 51343936, "comment_id": 114493219, "body": "what is <code>kTransparentImage</code>"}, {"owner": {"reputation": 400, "user_id": 9488787, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3jmZFJjM1bI/AAAAAAAAAAI/AAAAAAAAEn8/qamTqlCbqVg/photo.jpg?sz=128", "display_name": "mertcanb", "link": "https://stackoverflow.com/users/9488787/mertcanb"}, "reply_to_user": {"reputation": 1632, "user_id": 8135721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0VAdN.png?s=128&g=1", "display_name": "Bawantha", "link": "https://stackoverflow.com/users/8135721/bawantha"}, "edited": false, "score": 1, "creation_date": 1605761734, "post_id": 51343936, "comment_id": 114752706, "body": "@Bawantha it comes with <code>package:transparent_image&#47;transparent_image.dart</code>"}, {"owner": {"reputation": 1258, "user_id": 8371825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b409bd818fe0ab6a3380fc0b6f4cfe6?s=128&d=identicon&r=PG&f=1", "display_name": "jon", "link": "https://stackoverflow.com/users/8371825/jon"}, "edited": false, "score": 0, "creation_date": 1609363294, "post_id": 51343936, "comment_id": 115826180, "body": "You will need to add to your <code>pubspec.yaml dependencies</code>:   <code>transparent_image: ^1.0.0</code>"}], "tags": [], "owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "is_accepted": false, "score": 8, "last_activity_date": 1531608004, "creation_date": 1531608004, "answer_id": 51343936, "question_id": 51343735, "link": "https://stackoverflow.com/questions/51343735/flutter-image-preload/51343936#51343936", "title": "Flutter image preload", "body": "<p>To get rid of the \"blink\", you can simply use the <a href=\"https://docs.flutter.io/flutter/widgets/FadeInImage-class.html\" rel=\"noreferrer\"><code>FadeInImage</code> class</a> in combination with <a href=\"https://pub.dartlang.org/packages/transparent_image#-installing-tab-\" rel=\"noreferrer\"><code>transparent_image</code></a>, which will fade instead of appearing instantly. Usage, in your case, looks as follow:</p>\n\n<pre><code>// you need to add transparent_image to your pubspec and import it\n// as it is required to have the actual image fade in from nothing\nimport 'package:transparent_image/transparent_image.dart';\nimport 'package:flutter/material.dart';\n\n...\n  FadeInImage(\n    placeholder: MemoryImage(kTransparentImage),\n    image: AssetImage('image.png'),\n  )\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2620, "user_id": 2877004, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uB2Hp.png?s=128&g=1", "display_name": "Alecs", "link": "https://stackoverflow.com/users/2877004/alecs"}, "edited": false, "score": 9, "creation_date": 1544777273, "post_id": 51343954, "comment_id": 94403508, "body": "In my case the precacheImage method need the context:  precacheImage(new AssetImage(&#39;...&#39;), context);"}, {"owner": {"reputation": 1068, "user_id": 3298338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2aaa1fe64a6475a99db76b6443268287?s=128&d=identicon&r=PG&f=1", "display_name": "Aurast", "link": "https://stackoverflow.com/users/3298338/aurast"}, "edited": false, "score": 1, "creation_date": 1552380858, "post_id": 51343954, "comment_id": 96976363, "body": "This helps a lot, but it seems the image will get kicked out of the cache after a lot of other images have been loaded. Is there a way to keep it in the cache permanently?"}, {"owner": {"reputation": 400, "user_id": 9488787, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3jmZFJjM1bI/AAAAAAAAAAI/AAAAAAAAEn8/qamTqlCbqVg/photo.jpg?sz=128", "display_name": "mertcanb", "link": "https://stackoverflow.com/users/9488787/mertcanb"}, "reply_to_user": {"reputation": 1068, "user_id": 3298338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2aaa1fe64a6475a99db76b6443268287?s=128&d=identicon&r=PG&f=1", "display_name": "Aurast", "link": "https://stackoverflow.com/users/3298338/aurast"}, "edited": false, "score": 0, "creation_date": 1605761658, "post_id": 51343954, "comment_id": 114752696, "body": "@Aurast you can set <code>imageCache.maximumSize</code>, however be wary of going out of memory especially on devices with low RAM."}, {"owner": {"reputation": 1068, "user_id": 3298338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2aaa1fe64a6475a99db76b6443268287?s=128&d=identicon&r=PG&f=1", "display_name": "Aurast", "link": "https://stackoverflow.com/users/3298338/aurast"}, "reply_to_user": {"reputation": 400, "user_id": 9488787, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3jmZFJjM1bI/AAAAAAAAAAI/AAAAAAAAEn8/qamTqlCbqVg/photo.jpg?sz=128", "display_name": "mertcanb", "link": "https://stackoverflow.com/users/9488787/mertcanb"}, "edited": false, "score": 0, "creation_date": 1611601591, "post_id": 51343954, "comment_id": 116499684, "body": "Thanks @mertcanb that helps, was hoping there might be a way to keep a specific image cached, since there&#39;s really only one I wanted to keep in memory (the drawer menu banner). But I guess that&#39;s probably not possible."}, {"owner": {"reputation": 34579, "user_id": 11527, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/2YJM0.jpg?s=128&g=1", "display_name": "Ber", "link": "https://stackoverflow.com/users/11527/ber"}, "edited": false, "score": 1, "creation_date": 1614678678, "post_id": 51343954, "comment_id": 117451808, "body": "<code>precacheImage</code> should be called in <code>didChangeDependencies()</code> because it needs a <code>BuildContext</code> that allows media queries. Calling it in <code>initState()</code> may cause unhandled exceptions etc. See @Ethirallan&#39;s answer"}], "tags": [], "owner": {"reputation": 14105, "user_id": 4231909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NbwgO.jpg?s=128&g=1", "display_name": "Jonah Williams", "link": "https://stackoverflow.com/users/4231909/jonah-williams"}, "is_accepted": true, "score": 39, "last_activity_date": 1531608581, "last_edit_date": 1531608581, "creation_date": 1531608249, "answer_id": 51343954, "question_id": 51343735, "link": "https://stackoverflow.com/questions/51343735/flutter-image-preload/51343954#51343954", "title": "Flutter image preload", "body": "<p>Use the <a href=\"https://docs.flutter.io/flutter/widgets/precacheImage.html\" rel=\"noreferrer\"><code>precacheImage</code></a> function to start loading an image before your drawer is built. For example, in the widget that contains your drawer:</p>\n\n<pre><code>class MyWidgetState extends State&lt;MyWidget&gt; {\n\n  @override\n  void initState() {\n    // adjust the provider based on the image type\n    precacheImage(new AssetImage('...'));\n    super.initState();\n  }\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2323, "user_id": 5758711, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qQYFYVfaKMg/AAAAAAAAAAI/AAAAAAAAAm4/GIkdBNHP5MM/photo.jpg?sz=128", "display_name": "Valentina Konyukhova", "link": "https://stackoverflow.com/users/5758711/valentina-konyukhova"}, "edited": false, "score": 2, "creation_date": 1569130749, "post_id": 56265182, "comment_id": 102492119, "body": "It really helps if the widget is stateful. If stateless it is possible to precache before creating the widget"}], "tags": [], "owner": {"reputation": 541, "user_id": 11145317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb3449f4fddf223709c8f48d27d459db?s=128&d=identicon&r=PG&f=1", "display_name": "Ethirallan", "link": "https://stackoverflow.com/users/11145317/ethirallan"}, "is_accepted": false, "score": 24, "last_activity_date": 1558560057, "creation_date": 1558560057, "answer_id": 56265182, "question_id": 51343735, "link": "https://stackoverflow.com/questions/51343735/flutter-image-preload/56265182#56265182", "title": "Flutter image preload", "body": "<p>I had problems with the upper solution which uses precacheImage() inside initState. The code below resolved them. Also note that you might not see expected results in the debug mode but only in the release mode.</p>\n\n<pre><code>Image myImage;\n\n  @override\n  void initState() {\n    super.initState();\n    myImage= Image.asset(path);\n  }\n\n  @override\n  void didChangeDependencies() {\n    super.didChangeDependencies();\n    precacheImage(myImage.image, context);\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3639, "user_id": 12483095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Jlh3.png?s=128&g=1", "display_name": "iDecode", "link": "https://stackoverflow.com/users/12483095/idecode"}, "edited": false, "score": 1, "creation_date": 1605003861, "post_id": 60624657, "comment_id": 114513866, "body": "This answer is already provided <a href=\"https://stackoverflow.com/a/56265182/12483095\">here</a>.  Let me know what new relevant information you added to it."}], "tags": [], "owner": {"reputation": 553, "user_id": 10007295, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-s1Zg_eSXW1M/AAAAAAAAAAI/AAAAAAAAAA8/CAxgd9hRdlE/photo.jpg?sz=128", "display_name": "Richard Bonneau", "link": "https://stackoverflow.com/users/10007295/richard-bonneau"}, "is_accepted": false, "score": 6, "last_activity_date": 1601392540, "last_edit_date": 1601392540, "creation_date": 1583868541, "answer_id": 60624657, "question_id": 51343735, "link": "https://stackoverflow.com/questions/51343735/flutter-image-preload/60624657#60624657", "title": "Flutter image preload", "body": "<p>There is a good article on this subject : <a href=\"https://alex.domenici.net/archive/preload-images-in-a-stateful-widget-on-flutter\" rel=\"nofollow noreferrer\">https://alex.domenici.net/archive/preload-images-in-a-stateful-widget-on-flutter</a></p>\n<p>It should look something like this</p>\n<pre><code>class _SampleWidgetState extends State&lt;SampleWidget&gt; {\n  Image image1;\n  Image image2;\n  Image image3;\n  Image image4;\n\n  @override\n  void initState() {\n    super.initState();\n\n    image1 = Image.asset(&quot;assets/image1.png&quot;);\n    image2 = Image.asset(&quot;assets/image2.png&quot;);\n    image3 = Image.asset(&quot;assets/image3.png&quot;);\n    image4 = Image.asset(&quot;assets/image4.png&quot;);\n  }\n\n  @override\n  void didChangeDependencies() {\n    super.didChangeDependencies();\n\n    precacheImage(image1.image, context);\n    precacheImage(image2.image, context);\n    precacheImage(image3.image, context);\n    precacheImage(image4.image, context);\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n          child: Stack(\n            children: &lt;Widget&gt;[\n              image1,\n              image2,\n              image3,\n              image4,\n            ],\n          ),\n        );\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 472, "user_id": 2012594, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/dbc5c373d6e97a6c585dc74375e1f50c?s=128&d=identicon&r=PG", "display_name": "Tanvir", "link": "https://stackoverflow.com/users/2012594/tanvir"}, "is_accepted": false, "score": 4, "last_activity_date": 1584884453, "creation_date": 1584884453, "answer_id": 60800056, "question_id": 51343735, "link": "https://stackoverflow.com/questions/51343735/flutter-image-preload/60800056#60800056", "title": "Flutter image preload", "body": "<p>The <code>precacheImage()</code> function <em>(as used in most of the answers)</em> returns a <code>Future</code>, and for certain use case scenarios it can be really useful. For instance, in my app I needed to load an external image and like everyone else did not want to experience the flickering. So I ended up with something like this:</p>\n\n<pre><code>// show some sort of loading indicator\n...\n\nprecacheImage(\n    NetworkImage(),\n    context,\n).then((_) {\n    // replace the loading indicator and show the image\n    // (may be with some soothing fade in effect etc.)\n    ...\n});\n</code></pre>\n\n<p>Please note that, in the above example I wanted to illustrate how the <code>Future</code> can be potentially used. The comments are just to help express the idea. Actual implementation has to be done in a <code>Fluttery</code> way.</p>\n"}, {"comments": [{"owner": {"reputation": 996, "user_id": 3751594, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9f4d97b8ad8b602557f57144cfee517b?s=128&d=identicon&r=PG&f=1", "display_name": "Jorge", "link": "https://stackoverflow.com/users/3751594/jorge"}, "edited": false, "score": 1, "creation_date": 1601137803, "post_id": 62764868, "comment_id": 113314609, "body": "Hi @fedor.belov, does this really preload the image before calling build() method?   Normally, to get the advantage of precacheImage (which is loading before rendering), the precacheImage is declared in didChangeDependencies for example. However, here you are calling it already in the build..."}, {"owner": {"reputation": 34579, "user_id": 11527, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/2YJM0.jpg?s=128&g=1", "display_name": "Ber", "link": "https://stackoverflow.com/users/11527/ber"}, "reply_to_user": {"reputation": 996, "user_id": 3751594, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9f4d97b8ad8b602557f57144cfee517b?s=128&d=identicon&r=PG&f=1", "display_name": "Jorge", "link": "https://stackoverflow.com/users/3751594/jorge"}, "edited": false, "score": 0, "creation_date": 1614678977, "post_id": 62764868, "comment_id": 117451940, "body": "@Jorge I Think you are right. Since this would be part of the  <code>build()</code> method, no actual pre-loading will occur. It will simply delay building the Scaffold until the image is loaded and the Future returned by AssetImage has completed. This may however be enough to avoid flicker cause by the image arriving late"}], "tags": [], "owner": {"reputation": 19234, "user_id": 716027, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d5f2b174543d691ec26df9751647a6?s=128&d=identicon&r=PG", "display_name": "fedor.belov", "link": "https://stackoverflow.com/users/716027/fedor-belov"}, "is_accepted": false, "score": 1, "last_activity_date": 1594071224, "creation_date": 1594071224, "answer_id": 62764868, "question_id": 51343735, "link": "https://stackoverflow.com/questions/51343735/flutter-image-preload/62764868#62764868", "title": "Flutter image preload", "body": "<p>I had the following problem: image requires some space. So after loading, it pushed UI down which is not good for UX. I decided to create a builder to display an empty (or loading) container until the image is loaded and after that display my UI.</p>\n<p>Looks like <code>precacheImage</code> returns future which is resolved. The tricky part for me was <code>FutureBuilder</code> and <code>snapshot.hasData</code> which was always <code>false</code> because future is resolved with <code>null</code>. So I added future transformation to fix <code>snapshot.hasData</code>:</p>\n<pre><code>precacheImage(this.widget.imageProvider, context).then((value) =&gt; true)\n</code></pre>\n<p>I'm not sure is it ok to call <code>precacheImage</code> multiple times so I decided to wrap it into <code>StatefulWidget</code>.</p>\n<p>You can check the final builder <a href=\"https://gist.github.com/fedotxxl/aa03b152fdc2e3c5d3573e2a656acfb2\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Use builder the following way:</p>\n<pre><code>return PreloadingImageBuilder(\n      imageProvider: AssetImage(&quot;assets/images/logo-main.png&quot;),\n      builder: (context, snapshot) {\n        if (snapshot.hasData) {\n          return Scaffold(\n            ...\n          );\n        } else {\n          return Container();\n        }\n      },\n    );\n</code></pre>\n"}], "owner": {"reputation": 951, "user_id": 7962825, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7iMIVaEfxqE/AAAAAAAAAAI/AAAAAAAAASY/pK2ov-FQUFM/photo.jpg?sz=128", "display_name": "Mugetsu", "link": "https://stackoverflow.com/users/7962825/mugetsu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27375, "favorite_count": 9, "accepted_answer_id": 51343954, "answer_count": 6, "score": 37, "last_activity_date": 1601392540, "creation_date": 1531605847, "question_id": 51343735, "link": "https://stackoverflow.com/questions/51343735/flutter-image-preload", "title": "Flutter image preload", "body": "<p>Is it possible to preload somehow the image on the app start? Like I have an background image in my drawer but for the first time when I open the drawer I can see the image blinks like it is fetched from assets and then displayed and it gives bad experience to me once I see it for the first time other openings of the drawer are behaving as expected because it is cached. I would like to prefetch it on the app load so there is no such effect.</p>\n"}, {"tags": ["mobile", "dart", "flutter", "mobile-development"], "answers": [{"comments": [{"owner": {"reputation": 446, "user_id": 10050942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/896d0e87b08f04037bec7a1b3818b932?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Stephens", "link": "https://stackoverflow.com/users/10050942/daniel-stephens"}, "edited": false, "score": 0, "creation_date": 1531610448, "post_id": 51343869, "comment_id": 89661488, "body": "Awesome! Thanks a lot for the example! Works like a charm"}], "tags": [], "owner": {"reputation": 2217, "user_id": 2865073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b973f84cc0d80c5dc44fcdfc701828ab?s=128&d=identicon&r=PG&f=1", "display_name": "Mans", "link": "https://stackoverflow.com/users/2865073/mans"}, "is_accepted": true, "score": 8, "last_activity_date": 1531608199, "last_edit_date": 1531608199, "creation_date": 1531607261, "answer_id": 51343869, "question_id": 51343567, "link": "https://stackoverflow.com/questions/51343567/append-items-dynamically-to-listview/51343869#51343869", "title": "Append items dynamically to ListView", "body": "<p>Calling <code>setState</code> is the correct way of triggering an UI update.</p>\n\n<p>From the <a href=\"https://docs.flutter.io/flutter/widgets/State/setState.html\" rel=\"noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>Calling setState notifies the framework that the internal state of\n  this object has changed in a way that might impact the user interface\n  in this subtree, which causes the framework to schedule a build for\n  this State object.</p>\n  \n  <p>If you just change the state directly without calling setState, the\n  framework might not schedule a build and the user interface for this\n  subtree might not be updated to reflect the new state.</p>\n</blockquote>\n\n<p>Here is a small example of a <code>ListView</code> with a <code>Button</code> that appends items to it.</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(new MaterialApp(home: MyList()));\n\nclass MyList extends StatefulWidget {\n  @override\n  _MyListState createState() =&gt; _MyListState();\n}\n\nclass _MyListState extends State&lt;MyList&gt; {\n  int value = 2;\n\n  _addItem() {\n    setState(() {\n      value = value + 1;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      appBar: AppBar(\n        title: Text(\"MyApp\"),\n      ),\n      body: ListView.builder(\n          itemCount: this.value,\n          itemBuilder: (context, index) =&gt; this._buildRow(index)),\n      floatingActionButton: FloatingActionButton(\n        onPressed: _addItem,\n        child: Icon(Icons.add),\n      ),\n    );\n  }\n\n  _buildRow(int index) {\n    return Text(\"Item \" + index.toString());\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 446, "user_id": 10050942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/896d0e87b08f04037bec7a1b3818b932?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Stephens", "link": "https://stackoverflow.com/users/10050942/daniel-stephens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13701, "favorite_count": 0, "accepted_answer_id": 51343869, "answer_count": 1, "score": 4, "last_activity_date": 1531608199, "creation_date": 1531604193, "last_edit_date": 1531604932, "question_id": 51343567, "link": "https://stackoverflow.com/questions/51343567/append-items-dynamically-to-listview", "title": "Append items dynamically to ListView", "body": "<p>I am new to Dart and Flutter and try to append a new item to my ListView. I created a button that increments <code>this.value</code> but nothing happens. Am I missing an update call on the UI and is this even the correct approach?\nSince I return the value of <code>ListView.builder</code> directly to the caller of <code>build</code> I am not sure how to get the list to add more items. Thanks a lot!</p>\n\n<pre><code>class MyList extends State&lt;MyList&gt; {\n\n... \nint value = 2;\n\n@override\nWidget build(BuildContext context) {\nreturn ListView.builder(\n    itemCount: this.value,\n    itemBuilder: (context, index) =&gt; this._buildRow(index)\n);\n</code></pre>\n\n<p><strong>TL;DR:</strong> Is calling <code>setState</code> the correct way to trigger an UI update?</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 19333, "user_id": 4511702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8D658.jpg?s=128&g=1", "display_name": "Raouf Rahiche", "link": "https://stackoverflow.com/users/4511702/raouf-rahiche"}, "edited": false, "score": 1, "creation_date": 1531604287, "post_id": 51343557, "comment_id": 89660446, "body": "ask one question at a time"}], "answers": [{"tags": [], "owner": {"reputation": 1059, "user_id": 2497859, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/20Vbv.png?s=128&g=1", "display_name": "Omatt", "link": "https://stackoverflow.com/users/2497859/omatt"}, "is_accepted": false, "score": 1, "last_activity_date": 1618772921, "last_edit_date": 1618772921, "creation_date": 1617900586, "answer_id": 67008482, "question_id": 51343557, "link": "https://stackoverflow.com/questions/51343557/flutter-get-values-of-multiple-textformfield-in-dart/67008482#67008482", "title": "Flutter: Get values of Multiple TextFormField in Dart", "body": "<blockquote>\n<p>When the user selects a value in the dropdown, all the values in the other generated dropdown fields changes to the new one. How do I solve this?</p>\n</blockquote>\n<p>The reason why <code>DropdownButton</code> children in ListView updates synchronously is because it fetches all its value from the <code>_unit</code> variable. I suggest using a <code>List&lt;Object&gt;</code> to manage the data of ListView items.</p>\n<p>i.e.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class Course {\n  var title;\n  var grade;\n  var unit;\n}\n\n...\n\nList&lt;Course&gt; _listCourse = [];\n</code></pre>\n<blockquote>\n<p>I'd like to add all the number value of the each of the generated Grade field together and also add the value of each of the generated Course Unit field together. i.e Add(sum) the value of all Grade fields the user generated.</p>\n</blockquote>\n<p>With ListView data being managed in <code>List&lt;Course&gt;</code>, data inputted in the fields can be set in <code>onChanged()</code></p>\n<pre class=\"lang-dart prettyprint-override\"><code>// Course Grade\nTextFormField(\n   onChanged: (String value) {\n     setState(() {\n       _listCourse[index].grade = value;\n     });\n   },\n)\n</code></pre>\n<p>and the values can be summed up with the help of a <code>foreach</code> loop.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>int sumGrade = 0;\n_listCourse.forEach((course) {\n  // Add up all Course Grade\n  sumGrade += num.tryParse(course.grade);\n});\n</code></pre>\n<p>Here's a complete working sample based from the snippet you've shared.</p>\n<p><a href=\"https://i.stack.imgur.com/VSptG.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VSptG.gif\" alt=\"Demo\" /></a></p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(new MyApp());\n\nclass MyApp extends StatelessWidget {\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      title: 'My Grade Point',\n      theme: new ThemeData(\n        primarySwatch: Colors.blue,\n      ),\n      home: new MyHomePage(title: 'Flutter Demo Home Page'),\n    );\n  }\n}\n\nclass Course {\n  var title;\n  var grade;\n  var unit;\n}\n\nclass MyHomePage extends StatefulWidget {\n  MyHomePage({Key key, this.title}) : super(key: key);\n\n  final String title;\n\n  @override\n  _MyHomePageState createState() =&gt; new _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  bool _isLoading = false;\n  final formKey = new GlobalKey&lt;FormState&gt;();\n  final scaffoldKey = new GlobalKey&lt;ScaffoldState&gt;();\n  String _course;\n  int _grade;\n  String _unit;\n  String _mygp;\n  String _units;\n  int _totalGrade;\n  int counter = 1;\n\n  List&lt;Course&gt; _listCourse = [];\n\n  @override\n  void initState() {\n    // Initialize empty List\n    _listCourse.add(Course());\n    super.initState();\n  }\n\n  void _submit() {\n    debugPrint('List Course Length: ${_listCourse.length}');\n    int sumGrade = 0;\n    _listCourse.forEach((course) {\n      debugPrint('Course Title: ${course.title}');\n      debugPrint('Course Grade: ${course.grade}');\n      // Add up all Course Grade\n      sumGrade += num.tryParse(course.grade);\n      debugPrint('Course Unit: ${course.unit}');\n    });\n    final form = formKey.currentState;\n\n    if (form.validate()) {\n      setState(() =&gt; _totalGrade = sumGrade);\n      form.save();\n    }\n  }\n\n  Widget buildField(int index) {\n    return new Column(\n      children: &lt;Widget&gt;[\n        new TextFormField(\n          onChanged: (String value) {\n            setState(() {\n              // _course = value;\n              _listCourse[index].title = value;\n            });\n          },\n          validator: (val) {\n            return val.isEmpty ? &quot;Enter Course Title $index&quot; : null;\n          },\n          decoration: new InputDecoration(labelText: &quot;Course Title&quot;),\n        ),\n        new Row(\n          children: &lt;Widget&gt;[\n            new Expanded(\n              child: new TextFormField(\n                onChanged: (value) {\n                  setState(() {\n                    // _grade = value;\n                    _listCourse[index].grade = value;\n                  });\n                },\n                keyboardType: TextInputType.number,\n                decoration: new InputDecoration(labelText: &quot;Grade&quot;),\n              ),\n            ),\n            new Expanded(\n              child: new DropdownButton&lt;String&gt;(\n                onChanged: (String value) {\n                  setState(() {\n                    // _unit = value;\n                    _listCourse[index].unit = value;\n                  });\n                },\n                hint: new Text('Course Unit'),\n                value: _listCourse[index].unit,\n                items: &lt;String&gt;[&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;].map((String value) {\n                  return new DropdownMenuItem&lt;String&gt;(\n                    value: value,\n                    child: new Text(value),\n                  );\n                }).toList(),\n              ),\n            ),\n          ],\n        ),\n      ],\n    );\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    final Size screenSize = MediaQuery.of(context).size;\n    var loginBtn = new RaisedButton(\n      onPressed: _submit,\n      child: new Text(&quot;CALCULATE&quot;),\n      color: Colors.primaries[0],\n    );\n    var showForm = new Container(\n      padding: new EdgeInsets.all(20.0),\n      child: new Column(\n        children: &lt;Widget&gt;[\n          new Expanded(\n            child: new Form(\n              key: formKey,\n              child: ListView.builder(\n                itemBuilder: (BuildContext context, int index) {\n                  return buildField(index);\n                },\n                itemCount: counter,\n                scrollDirection: Axis.vertical,\n              ),\n            ),\n          ),\n          _isLoading ? new CircularProgressIndicator() : loginBtn\n        ],\n      ),\n    );\n    return new Scaffold(\n      appBar: new AppBar(\n        title: new Text(_totalGrade.toString()),\n      ),\n      body: showForm,\n      floatingActionButton: new FloatingActionButton(\n        onPressed: () {\n          setState(() {\n            // Add an empty Course object on the List\n            _listCourse.add(Course());\n            counter++;\n          });\n        },\n        child: new Icon(Icons.add),\n      ),\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 965, "user_id": 9694045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z9Nqx.jpg?s=128&g=1", "display_name": "Tayo.dev", "link": "https://stackoverflow.com/users/9694045/tayo-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1629, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1618772921, "creation_date": 1531604049, "last_edit_date": 1618772884, "question_id": 51343557, "link": "https://stackoverflow.com/questions/51343557/flutter-get-values-of-multiple-textformfield-in-dart", "title": "Flutter: Get values of Multiple TextFormField in Dart", "body": "<p>I'm using <code>floatingActionButton</code> to increase TextForm Fields. i.e the fields increase by 1 once the button is tapped. The fields are actually increased on tap of the button but so confused on how to get values for each fields generated.</p>\n<p>My problems:</p>\n<ol>\n<li><p>When the user selects a value in the dropdown, all the values in the other generated dropdown fields changes to the new one. How do I solve this?</p>\n</li>\n<li><p>I'd like to add all the number value of the each of the generated <code>Grade</code> field together and also add the value of each of the generated <code>Course Unit</code> field together. i.e Add(sum) the value of all <code>Grade</code> fields the user generated.</p>\n</li>\n</ol>\n<p>See my full code below:</p>\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(new MyApp());\n\nclass MyApp extends StatelessWidget {\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      title: 'My Grade Point',\n      theme: new ThemeData(primarySwatch: Colors.blue,\n      ),\n      home: new MyHomePage(title: 'Flutter Demo Home Page'),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  MyHomePage({Key key, this.title}) : super(key: key);\n\n  final String title;\n\n  @override\n  _MyHomePageState createState() =&gt; new _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  bool _isLoading = false;\n  final formKey = new GlobalKey&lt;FormState&gt;();\n  final scaffoldKey = new GlobalKey&lt;ScaffoldState&gt;();\n  String _course;\n  String _grade;\n  String _unit;\n  String _mygp;\n  String _units;\n  String _totalgrade;\n  int counter = 1;\n\n  void _submit() {\n    final form = formKey.currentState;\n\n    if (form.validate()) {\n      setState(() =&gt; _totalgrade = _grade);\n      form.save();\n    }\n  }\n  Widget buildfields(int index) {\n    return new Column(\n      children: &lt;Widget&gt;[\n        new TextFormField(\n          onSaved: (String value) {\n            setState((){\n              _course = value;\n            });\n          },\n          validator: (val) {\n            return val.isEmpty\n                ? &quot;Enter Course Title $index&quot;\n                : null;\n          },\n          decoration: new InputDecoration(labelText: &quot;Course Title&quot;),\n        ),\n        new Row(\n          children: &lt;Widget&gt;[\n            new Expanded(\n              child: new TextFormField(\n                onSaved: (value) {\n                  setState((){\n                    _grade = value;\n                  });\n                  },\n                keyboardType: TextInputType.number,\n                decoration: new InputDecoration(labelText: &quot;Grade&quot;),\n              ),\n            ),\n            new Expanded(\n              child: new DropdownButton&lt;String&gt;(\n                onChanged: (String value) { setState((){\n                  _unit = value;\n                });\n                },\n                hint: new Text('Course Unit'),\n                value: _unit,\n                items: &lt;String&gt;[&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;].map((String value) {\n                  return new DropdownMenuItem&lt;String&gt;(\n                    value: value,\n                    child: new Text(value),\n                  );\n                }).toList(),\n              ),\n            ),\n          ],\n        ),\n      ],\n    );\n  }\n  @override\n  Widget build(BuildContext context) {\n    final Size screenSize = MediaQuery.of(context).size;\n    var loginBtn = new RaisedButton(\n      onPressed: _submit,\n      child: new Text(&quot;CALCULATE&quot;),\n      color: Colors.primaries[0],\n    );\n    var showForm = new Container(\n      padding: new EdgeInsets.all(20.0),\n      child: new Column(\n        children: &lt;Widget&gt;[\n          new Expanded(child: new Form(\n            key: formKey,\n            child: new ListView.builder(\n              itemBuilder: (BuildContext context, int index) {\n                return buildfields(index); },\n              itemCount: counter,\n              scrollDirection: Axis.vertical,\n            ),\n          ),\n          ),\n          _isLoading ? new CircularProgressIndicator() : loginBtn\n        ],\n      ),\n    );\n    return new Scaffold(\n      appBar: new AppBar(\n        // Here we take the value from the MyHomePage object that was created by\n        // the App.build method, and use it to set our appbar title.\n        title: new Text(_totalgrade.toString()),\n      ),\n      body: showForm,\n      floatingActionButton: new FloatingActionButton(\n          onPressed: () {\n            setState(() {\n              counter++;\n            });\n          },\n          child: new Icon(Icons.add),\n      ),\n\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "is_accepted": false, "score": 6, "last_activity_date": 1531604476, "creation_date": 1531604476, "answer_id": 51343586, "question_id": 51343527, "link": "https://stackoverflow.com/questions/51343527/flutter-a-card-with-a-circleavatar-which-stick-out/51343586#51343586", "title": "Flutter: A Card with a CircleAvatar, which stick out", "body": "<p><code>Stack</code> indeed is the solution.</p>\n\n<p><a href=\"https://i.stack.imgur.com/fyWbS.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fyWbS.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>Stack(\n  children: &lt;Widget&gt;[\n    Card(\n      margin: const EdgeInsets.only(top: 20.0),\n      child: SizedBox(\n          height: 100.0,\n          width: double.infinity,\n          child: Padding(\n            padding: const EdgeInsets.only(top: 45.0),\n            child: Column(\n              crossAxisAlignment: CrossAxisAlignment.center,\n              children: &lt;Widget&gt;[\n                Text(\n                  \"Foo\",\n                  style: Theme.of(context).textTheme.subhead,\n                ),\n                Text(\"bar\")\n              ],\n            ),\n          )),\n    ),\n    Positioned(\n      top: .0,\n      left: .0,\n      right: .0,\n      child: Center(\n        child: CircleAvatar(\n          radius: 30.0,\n          child: Text(\"D\"),\n        ),\n      ),\n    )\n  ],\n),\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19333, "user_id": 4511702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8D658.jpg?s=128&g=1", "display_name": "Raouf Rahiche", "link": "https://stackoverflow.com/users/4511702/raouf-rahiche"}, "is_accepted": true, "score": 4, "last_activity_date": 1531606662, "creation_date": 1531606662, "answer_id": 51343807, "question_id": 51343527, "link": "https://stackoverflow.com/questions/51343527/flutter-a-card-with-a-circleavatar-which-stick-out/51343807#51343807", "title": "Flutter: A Card with a CircleAvatar, which stick out", "body": "<p>i think @R\u00e9mi Rousselet way is better but here is another way to do it using <code>FractionalTranslation</code> so you can play more with the position of the <code>CircleAvatar</code></p>\n\n<pre><code>class CustomCard extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Padding(\n      padding: const EdgeInsets.only(top: 30.0),\n      child: Container(\n        child: new Stack(\n          children: &lt;Widget&gt;[\n            Card(\n              child: Container(\n                height: 100.0,\n              ),\n            ),\n            FractionalTranslation(\n              translation: Offset(0.0, -0.4),\n              child: Align(\n                child: CircleAvatar(\n                  radius: 25.0,\n                  child: Text(\"A\"),\n                ),\n                alignment: FractionalOffset(0.5, 0.0),\n              ),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<blockquote>\n  <p>test :</p>\n</blockquote>\n\n<pre><code>return Scaffold(\n  appBar: AppBar(),\n  body: ListView(\n    children: &lt;Widget&gt;[\n      CustomCard(),\n      CustomCard(),\n      CustomCard(),\n    ],\n  ),\n);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/wECY0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wECY0.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 462, "user_id": 7150807, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/90aa21cf0612fa30cf9c898c000bb8c9?s=128&d=identicon&r=PG&f=1", "display_name": "Maseed", "link": "https://stackoverflow.com/users/7150807/maseed"}, "is_accepted": false, "score": 3, "last_activity_date": 1586522298, "last_edit_date": 1586522298, "creation_date": 1586521870, "answer_id": 61140292, "question_id": 51343527, "link": "https://stackoverflow.com/questions/51343527/flutter-a-card-with-a-circleavatar-which-stick-out/61140292#61140292", "title": "Flutter: A Card with a CircleAvatar, which stick out", "body": "<p>I also needed a card with circular image at the top. Got an idea from @R\u00e9mi Rousselet 's answer. Thought it might benefit you too.</p>\n\n<p>Result of the code.</p>\n\n<p><a href=\"https://i.stack.imgur.com/t45DZ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t45DZ.jpg\" alt=\"enter image description here\"></a></p>\n\n<pre><code>Stack(\n  alignment: Alignment.topCenter,\n  children: &lt;Widget&gt;[\n    Container(\n      margin: EdgeInsets.only(top: 30),\n      width: double.infinity,\n      child: Card(\n          color: Color(0xffeeeeee),\n          child: Column(\n            mainAxisSize: MainAxisSize.min,\n            children: &lt;Widget&gt;[\n              Padding(\n                padding: EdgeInsets.only(top: 40, bottom: 0, left: 10, right: 10),\n                child: Column(\n                  children: &lt;Widget&gt;[\n                    Text(\"Dr. Maseed\", style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold),),\n                    Text(\"Dr. Maseed is a radiation oncologist in Indianapolis, Indiana and is affiliated with multiple hospitals in the area. He has been in practice for more than 20 years.\", style: TextStyle()),\n                    ButtonBar(children: &lt;Widget&gt;[\n                      FlatButton(child: Text(\"APPOINTMENT\", style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),), onPressed: (){},)\n                    ],)\n                  ],\n                ),\n              )\n            ],\n          )),\n    ),\n    Utils.circularImageWithBorder(\n        \"assets/images/maseed.png\", 30, 2, Colors.black),\n  ],\n),\n</code></pre>\n\n<p>A static method to return a circular avatar.</p>\n\n<pre><code>static Widget circularImageWithBorder(String imgPath, double rad, double borderWidth, Color borderColor) {\n  return CircleAvatar(\n      radius: rad + borderWidth,\n      backgroundColor: borderColor,\n      child: CircleAvatar(\n        backgroundImage: AssetImage(imgPath),\n        radius: rad,\n      ));\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 9647104, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MGfEsEbtRW4/AAAAAAAAAAI/AAAAAAAAAEQ/sXkbVHptkps/photo.jpg?sz=128", "display_name": "CodingBrain", "link": "https://stackoverflow.com/users/9647104/codingbrain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5857, "favorite_count": 3, "accepted_answer_id": 51343807, "answer_count": 3, "score": 4, "last_activity_date": 1586522298, "creation_date": 1531603710, "last_edit_date": 1532189252, "question_id": 51343527, "link": "https://stackoverflow.com/questions/51343527/flutter-a-card-with-a-circleavatar-which-stick-out", "title": "Flutter: A Card with a CircleAvatar, which stick out", "body": "<p>I want to make a card with a <code>CircleAvatar</code>, which stick out (you can see the details in this picture):</p>\n\n<p><a href=\"https://i.stack.imgur.com/9NY1A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9NY1A.png\" alt=\"Card\"></a></p>\n\n<p>I don't know, how it could work :/ I tried something with a <code>Stack</code> and the Positioned Widget, but it didn't work...</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1531600700, "post_id": 51342944, "comment_id": 89659711, "body": "I don&#39;t really know if SO is fine for such questions. Although I&#39;m interested in the content, so expect an answer from me pretty soon :p"}, {"owner": {"reputation": 146, "user_id": 9229867, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j1zY14GuUpI/AAAAAAAAAAI/AAAAAAAAA-Q/vrA-uwTRaNs/photo.jpg?sz=128", "display_name": "Mark Anthony", "link": "https://stackoverflow.com/users/9229867/mark-anthony"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1531601836, "post_id": 51342944, "comment_id": 89659952, "body": "thanks @R&#233;miRousselet  i&#39;m willing to wait for that."}], "answers": [{"comments": [{"owner": {"reputation": 146, "user_id": 9229867, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j1zY14GuUpI/AAAAAAAAAAI/AAAAAAAAA-Q/vrA-uwTRaNs/photo.jpg?sz=128", "display_name": "Mark Anthony", "link": "https://stackoverflow.com/users/9229867/mark-anthony"}, "edited": false, "score": 0, "creation_date": 1531605818, "post_id": 51343448, "comment_id": 89660729, "body": "thanks your there this is actually I&#39;m looking at. if you notice me this is my first question on StackOverflow and I got the answer very well and it awesome,  you build is working very well man, I really appreciate your help. thanks a lot @R&#233;mi Rousselet"}], "tags": [], "owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "is_accepted": true, "score": 1, "last_activity_date": 1531603020, "creation_date": 1531603020, "answer_id": 51343448, "question_id": 51342944, "link": "https://stackoverflow.com/questions/51342944/how-build-a-widget-with-meter-with-arrow-like-in-photo-provided-in-flutter/51343448#51343448", "title": "How build a widget with meter with arrow like in photo provided in flutter", "body": "<p>With a combination of <code>Row</code>, <code>Column</code> and <code>Align</code> it can be done in a few lines.</p>\n\n<p>The hardest part is actually the triangle. Usually, you'll want to use <code>CustomPainter</code> for the triangle, but I was lazy here. So I combined translation, rotation, and a clip.</p>\n\n<p><a href=\"https://i.stack.imgur.com/0p2sp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0p2sp.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>import 'dart:math';\n\nimport 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: MyHome(),\n    );\n  }\n}\n\nclass MyHome extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(),\n      body: Column(\n        children: &lt;Widget&gt;[\n          Padding(\n            padding: const EdgeInsets.all(8.0),\n            child: ScoreMeter(\n              score: 1,\n            ),\n          )\n        ],\n      ),\n    );\n  }\n}\n\nclass ScoreMeter extends StatelessWidget {\n  final int score;\n\n  ScoreMeter(\n      {\n      this.score,\n      Key key})\n      : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return SizedBox(\n      height: 100.0,\n      child: Row(\n        children: &lt;Widget&gt;[\n          Expanded(\n            child: ScoreMeterItem(\n                score: score, color: Colors.green, minRange: 0, maxRange: 50),\n          ),\n          Expanded(\n            child: ScoreMeterItem(\n                score: score,\n                color: Colors.yellow,\n                minRange: 51,\n                maxRange: 100),\n          ),\n          Expanded(\n            child: ScoreMeterItem(\n                score: score,\n                color: Colors.orange,\n                minRange: 101,\n                maxRange: 150),\n          ),\n          Expanded(\n            child: ScoreMeterItem(\n                score: score, color: Colors.red, minRange: 151, maxRange: 200),\n          ),\n          Expanded(\n            child: ScoreMeterItem(\n                score: score,\n                color: Colors.purple,\n                minRange: 201,\n                maxRange: 250),\n          ),\n          Expanded(\n            child: ScoreMeterItem(\n                score: score,\n                color: Colors.brown,\n                minRange: 251,\n                maxRange: 300),\n          ),\n        ],\n      ),\n    );\n  }\n}\n\nclass ScoreMeterItem extends StatelessWidget {\n  /// Hello World\n  final int score;\n  final Color color;\n  final int minRange;\n  final int maxRange;\n\n  ScoreMeterItem(\n      {this.score,\n      this.color = Colors.grey,\n      @required this.minRange,\n      @required this.maxRange,\n      Key key})\n      : assert(minRange != null),\n        assert(maxRange != null),\n        super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    final theme = Theme.of(context);\n    return Padding(\n      padding: const EdgeInsets.symmetric(horizontal: 4.0),\n      child: Column(\n        children: &lt;Widget&gt;[\n          Row(\n            mainAxisAlignment: MainAxisAlignment.spaceBetween,\n            children: &lt;Widget&gt;[\n              Text(minRange.toString(), style: theme.textTheme.caption),\n              Text(maxRange.toString(), style: theme.textTheme.caption),\n            ],\n          ),\n          ScoreMeterBar(color: color),\n          score &gt;= minRange &amp;&amp; score &lt;= maxRange\n              ? SizedBox(\n                  height: 10.0,\n                  child: Align(\n                    alignment: Alignment(\n                        (score - minRange) / (maxRange - minRange) * 2 - 1,\n                        0.0),\n                    child: Arrow(color: color),\n                  ),\n                )\n              : SizedBox()\n        ],\n      ),\n    );\n  }\n}\n\nclass Arrow extends StatelessWidget {\n  final Color color;\n\n  Arrow({this.color});\n\n  @override\n  Widget build(BuildContext context) {\n    return SizedBox(\n      height: 5.0,\n      width: 10.0,\n      child: ClipRect(\n        child: OverflowBox(\n          maxWidth: 10.0,\n          maxHeight: 10.0,\n          child: Align(\n            alignment: Alignment.topCenter,\n            child: Transform.translate(\n              offset: Offset(.0, 5.0),\n              child: Transform.rotate(\n                angle: pi / 4,\n                child: Container(\n                  width: 10.0,\n                  height: 10.0,\n                  color: color,\n                ),\n              ),\n            ),\n          ),\n        ),\n      ),\n    );\n  }\n}\n\nclass ScoreMeterBar extends StatelessWidget {\n  final Color color;\n\n  ScoreMeterBar({this.color = Colors.grey, Key key}) : super(key: key);\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n      height: 8.0,\n      decoration: BoxDecoration(\n        borderRadius: BorderRadius.all(\n          Radius.circular(4.0),\n        ),\n        color: color,\n      ),\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 146, "user_id": 9229867, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j1zY14GuUpI/AAAAAAAAAAI/AAAAAAAAA-Q/vrA-uwTRaNs/photo.jpg?sz=128", "display_name": "Mark Anthony", "link": "https://stackoverflow.com/users/9229867/mark-anthony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1450, "favorite_count": 1, "accepted_answer_id": 51343448, "answer_count": 1, "score": 3, "last_activity_date": 1531603020, "creation_date": 1531598587, "last_edit_date": 1531599524, "question_id": 51342944, "link": "https://stackoverflow.com/questions/51342944/how-build-a-widget-with-meter-with-arrow-like-in-photo-provided-in-flutter", "title": "How build a widget with meter with arrow like in photo provided in flutter", "body": "<p>I want to create a widget that will build describe in this photo\n<a href=\"https://i.stack.imgur.com/bgyXQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bgyXQ.jpg\" alt=\"this photo\"></a></p>\n\n<p>I already created the meter bar but I still don't know how to add numbers from start to end of bar and a arrow in bottom where place what points you have and with same color above of it</p>\n\n<pre><code>child: Row(children: &lt;Widget&gt;[\n        Column(children: &lt;Widget&gt;[\n            Padding(\n              padding: EdgeInsets.all(5.0),\n              child: Container(\n                decoration: new BoxDecoration(\n                  border: new Border(right: BorderSide(color: Colors.black))\n                ),\n                child: Column(\n                        children: &lt;Widget&gt;[\n                          Text('Points'),\n                          Text('38'),\n                        ],\n                      ),\n              ),\n            ),\n\n        ],),\n        // green bar\n        Column(children: &lt;Widget&gt;[\n          Padding(\n            padding: EdgeInsets.only(right:10.0),\n            child: Container(\n              width:ratewidth,\n              decoration: new BoxDecoration(\n                    border: new Border(bottom: BorderSide(color: Colors.green, width: 5.0))\n                  ),\n            ),\n          )\n\n        ],),\n        //yellow bar\n        Column(children: &lt;Widget&gt;[\n          Padding(\n            padding: EdgeInsets.only(right:10.0),\n            child: Container(\n              width:ratewidth,\n              decoration: new BoxDecoration(\n                    border: new Border(bottom: BorderSide(color: Colors.yellow, width: 5.0))\n                  ),\n            ),\n          ),\n        ],),\n\n        ...\n\n      ],)\n</code></pre>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 10753, "user_id": 433392, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dcac8a5eaf6c9c94f0e38475613c0d05?s=128&d=identicon&r=PG&f=1", "display_name": "SteAp", "link": "https://stackoverflow.com/users/433392/steap"}, "edited": false, "score": 0, "creation_date": 1531586850, "post_id": 51341416, "comment_id": 89656344, "body": "Thx! And there is no way to wait for completion of the future at a certain point of code?"}, {"owner": {"reputation": 10753, "user_id": 433392, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dcac8a5eaf6c9c94f0e38475613c0d05?s=128&d=identicon&r=PG&f=1", "display_name": "SteAp", "link": "https://stackoverflow.com/users/433392/steap"}, "edited": false, "score": 0, "creation_date": 1531587114, "post_id": 51341416, "comment_id": 89656415, "body": "OK, I see. The code should load localized strings. And I need them to show the first widget. Should I then load the resources asynchronously and put the creation of the app / widget in a top level then() part?"}, {"owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "reply_to_user": {"reputation": 10753, "user_id": 433392, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dcac8a5eaf6c9c94f0e38475613c0d05?s=128&d=identicon&r=PG&f=1", "display_name": "SteAp", "link": "https://stackoverflow.com/users/433392/steap"}, "edited": false, "score": 0, "creation_date": 1531587498, "post_id": 51341416, "comment_id": 89656530, "body": "You could make <code>main()</code> async and load stuff there, but better, see edited answer"}], "tags": [], "owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "is_accepted": true, "score": 0, "last_activity_date": 1531588071, "last_edit_date": 1531588071, "creation_date": 1531586537, "answer_id": 51341416, "question_id": 51341055, "link": "https://stackoverflow.com/questions/51341055/loading-a-file-using-rootbundle/51341416#51341416", "title": "Loading a file using rootBundle", "body": "<p>the <code>.then()</code> is getting executed, but <em>after</em> the rest of the body. As you mention <code>loadString()</code> returns a Future, so completes in the future. To wait for a Future to complete use <code>await</code>. (Note that when you mark the function as async, the function must now return a Future itself - as it has to wait for loadString to complete in the future, so it itself has to complete in the future...) When you call <code>l('something')</code> you will have to await the result.</p>\n\n<pre><code>Future&lt;String&gt; l(String name) async {\n  try {\n    String contents = await rootBundle.loadString('i10n/de.yaml');\n\n    return contents == null ? '@null@' : loadYaml(contents);\n  } catch (e) {\n    return 'oops $e';\n  }\n}\n</code></pre>\n\n<p>It's no big deal that lots of your utility functions become <code>async</code> as a result of having to wait for things (there's a lot of waiting - for files to read, http requests to complete, etc). You'll eventually end up at the top with something like (call this from <code>initState</code>)</p>\n\n<pre><code>refresh(String s) {\n  l(s).then((r) {\n    setState(() {\n      i18nStuff = r;\n    });\n  });\n}\n</code></pre>\n\n<p>to set the state of your Widget when the i18nStuff is ready, and a Widget that has this in its build to switch between a dummy ui for the few milliseconds until it's ready, and then the real UI.</p>\n\n<pre><code>Widget build() {\n  if (i18nStuff == null) {\n    return new Container();\n  }\n\n  return new Column(\n      // build the real UI here\n      );\n}\n</code></pre>\n"}], "owner": {"reputation": 10753, "user_id": 433392, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dcac8a5eaf6c9c94f0e38475613c0d05?s=128&d=identicon&r=PG&f=1", "display_name": "SteAp", "link": "https://stackoverflow.com/users/433392/steap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3013, "favorite_count": 0, "accepted_answer_id": 51341416, "answer_count": 1, "score": 2, "last_activity_date": 1531588071, "creation_date": 1531583853, "last_edit_date": 1531586283, "question_id": 51341055, "link": "https://stackoverflow.com/questions/51341055/loading-a-file-using-rootbundle", "title": "Loading a file using rootBundle", "body": "<p>I need to load a string from a file. The following code always returns null:</p>\n\n<pre><code>static String  l( String name ) {\n\n    String contents;\n\n    rootBundle\n     .loadString( 'i10n/de.yaml' )\n     .then( (String r)  { contents = 'found'; print( 'then()' ); })\n     .catchError( (e) { contents =  '@Error@'; print( 'catchError()' );  })\n     .whenComplete(() { contents = 'dd'; print( 'whenComplete()' );  })\n     ;\n\n    print( 'after' );\n\n    if ( null == contents ) {\n      return '@null@';\n    }\n\n    String doc = loadYaml( contents );\n\n    return doc;\n\n  }\n</code></pre>\n\n<p>I have added this to the flutter: section in pupspec.yaml section:</p>\n\n<pre><code>  assets:\n    - i10n/de.yaml\n    - i10n/en.yaml\n</code></pre>\n\n<p>The file i10n/de.yaml exists.</p>\n\n<p>I'm aware, that rootBundle.loadString() is async. Therefore I appended the then() call - assuming that</p>\n\n<pre><code>(String r)  { contents = 'found'; }\n</code></pre>\n\n<p>only gets executed if the Future returned by rootBundle.loadString() is able to return a value.</p>\n\n<p>Actually, the method always returns '@null@'. Therefore, I added the print() statements, which output this:</p>\n\n<pre><code>I/flutter (22382): after\nI/flutter (22382): then()\nI/flutter (22382): whenComplete()\n</code></pre>\n\n<p>OK, obviously the future of loadString() executes later than the final print() statement.</p>\n\n<p><strong>Q: But how do I force the future to execute, so that I may retrieve its value?</strong></p>\n\n<p><strong>In other words: How do I wrap some async stuff in certain code to retrieve its value immediately?</strong></p>\n\n<p>PS: First day of flutter/dart. Probably a trivial question...</p>\n"}, {"tags": ["dart", "flutter", "reactive-programming"], "comments": [{"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 1, "creation_date": 1531583682, "post_id": 51341022, "comment_id": 89655605, "body": "You can&#39;t. If you want to, you have to purposefully expose it."}, {"owner": {"reputation": 87, "user_id": 876087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db2c812fc5c33d5779ec04360c554cf6?s=128&d=identicon&r=PG", "display_name": "Alexandre Roba", "link": "https://stackoverflow.com/users/876087/alexandre-roba"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1531584077, "post_id": 51341022, "comment_id": 89655700, "body": "Thanks for the quick reply. Do you have any recommendation on how to implement this kind of pattern. It does not seem to ba like a crazy use case... Most of the exemple have a simple input. Not a combination of several inputs to compute the output state :("}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1531584609, "post_id": 51341022, "comment_id": 89655818, "body": "Considering you&#39;re using rx, you could use a <code>buffer</code> operator. Such as <a href=\"https://www.dartdocs.org/documentation/rxdart/latest/rx/Observable/bufferCount.html\" rel=\"nofollow noreferrer\"><code>bufferCount</code></a>. And make an observable that emit the current value + the previous one together."}, {"owner": {"reputation": 87, "user_id": 876087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db2c812fc5c33d5779ec04360c554cf6?s=128&d=identicon&r=PG", "display_name": "Alexandre Roba", "link": "https://stackoverflow.com/users/876087/alexandre-roba"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1531586012, "post_id": 51341022, "comment_id": 89656132, "body": "Thanks.Unless I&#39;m missing something, I&#39;m not sure this is doable as it is not the previous version of the phone or country code that I need. but the previous version of the state &quot;When&quot; the phone or the country change. This leave me with no other choice than to expose the previous state by saving it in a variable. Weird that no elegant solution exist for this..."}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1531586135, "post_id": 51341022, "comment_id": 89656156, "body": "I don&#39;t get what you want. If <code>merge</code> doesn&#39;t fit your case, maybe <code>combineLatest</code> or any other fusion operator will do."}], "owner": {"reputation": 87, "user_id": 876087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db2c812fc5c33d5779ec04360c554cf6?s=128&d=identicon&r=PG", "display_name": "Alexandre Roba", "link": "https://stackoverflow.com/users/876087/alexandre-roba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 550, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1531583571, "creation_date": 1531583571, "question_id": 51341022, "link": "https://stackoverflow.com/questions/51341022/how-can-access-the-previous-value-of-a-merged-stream", "title": "How can access the previous value of a merged stream?", "body": "<p>I've been struggling with this for couple of hours and can't seem tof ind a solution. I'll appreciate any help.</p>\n\n<p>I building a flutter app trying to follow the BLOC pattern.\nI have a widget with two text fields: Country code and PhoneNumber.\nI have define a Bloc with two Sink (one for each field) and a Stream with a state. The Stream State is a merge of the two sink such as:</p>\n\n<pre><code>factory AuthenticationBloc(AuthenticationRepository authRepository) {\n    final onPhoneChanged = PublishSubject&lt;String&gt;();\n    final onCountryChanged = PublishSubject&lt;String&gt;();\n\n    //oldState would be the last entry in the stream state.\n    final stateChangeFromThePhone = onPhoneChanged.map((newPhone)=&gt;oldState.copyWith(phone:newPhone));\n    final stateChangeFromtheCountry = onCountryChanged.map((newCountry)=&gt;oldState.copyWith(country:newCountry));\n    final state = Observable.merge[stateChangeFromThePhone, stateChangeFromtheCountry];\n}\n</code></pre>\n\n<p>This is pseudo code but the idea is there. My question is how can I get access to the latest event from the state stream represented in the code by oldState?</p>\n\n<p>I could define a variable on which I store this value on each new event in the state stream but looks ugly... :(</p>\n\n<p>Any advice?</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 593, "user_id": 3700909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0cd8310dfa1a85c80270c2b070c6498?s=128&d=identicon&r=PG&f=1", "display_name": "knezzz", "link": "https://stackoverflow.com/users/3700909/knezzz"}, "edited": false, "score": 1, "creation_date": 1553864321, "post_id": 51340588, "comment_id": 97554820, "body": "You could use: <a href=\"https://pub.dartlang.org/packages/random_color\" rel=\"nofollow noreferrer\">pub.dartlang.org/packages/random_color</a>"}], "answers": [{"tags": [], "owner": {"reputation": 13728, "user_id": 3675035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2PXUu.jpg?s=128&g=1", "display_name": "Blasanka", "link": "https://stackoverflow.com/users/3675035/blasanka"}, "is_accepted": true, "score": 29, "last_activity_date": 1531586481, "last_edit_date": 1531586481, "creation_date": 1531584682, "answer_id": 51341167, "question_id": 51340588, "link": "https://stackoverflow.com/questions/51340588/flutter-how-can-i-make-a-random-color-generator-background/51341167#51341167", "title": "Flutter: How can I make a Random color generator Background", "body": "<p>You can use <code>Random</code> class to do that:</p>\n\n<p>But if you want to change the color when button is pressed, you have to use a <code>StatefulWidget</code>. A simple example is like below:</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'dart:math';\n\nvoid main() {\n  runApp(\n    MaterialApp(\n      home: MyApp(),\n    ),\n  );\n}\n\nclass MyApp extends StatefulWidget {\n  _MyAppState createState() =&gt; _MyAppState();\n}\n\nclass _MyAppState extends State&lt;MyApp&gt; {\n\n  List colors = [Colors.red, Colors.green, Colors.yellow];\n  Random random = new Random();\n\n  int index = 0;\n\n  void changeIndex() {\n    setState(() =&gt; index = random.nextInt(3));\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Center(\n      child: RaisedButton(\n        onPressed: () =&gt; changeIndex(),\n        child: Text('Click'),\n        color: colors[index],\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>Also, there is a package called <a href=\"https://github.com/iampawan/FlutterWidgets/blob/master/lib/Episode1_SizedBox/sized_box.dart\" rel=\"noreferrer\">random_pk</a> by <a href=\"https://github.com/iampawan/RandomColorWidget\" rel=\"noreferrer\">pawankumar</a>, that will give us random color each and every time your app's build method get called.</p>\n"}, {"tags": [], "owner": {"reputation": 1159, "user_id": 10111260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83e1d2ee0c7bbb911b33d1f0bc2b5fb5?s=128&d=identicon&r=PG&f=1", "display_name": "Kofi Nartey", "link": "https://stackoverflow.com/users/10111260/kofi-nartey"}, "is_accepted": false, "score": 4, "last_activity_date": 1532095575, "creation_date": 1532095575, "answer_id": 51444360, "question_id": 51340588, "link": "https://stackoverflow.com/questions/51340588/flutter-how-can-i-make-a-random-color-generator-background/51444360#51444360", "title": "Flutter: How can I make a Random color generator Background", "body": "<p>This will generate a different color for the button everytime the build method for the app is called</p>\n\n<pre><code>    import 'package:flutter/material.dart';\n    import 'dart:math';\n\n    void main() =&gt; runApp(new MyApp());\n\n    class MyApp extends StatelessWidget {\n      @override\n      Widget build(BuildContext context) {\n      // TODO: implement build\n        return new MaterialApp(\n            title: \"Raised Button\",\n            theme: new ThemeData(\n               primarySwatch: Colors.teal,\n            ),\n            home: new HomePage());\n      }\n    }\n\n    class HomePage extends StatefulWidget {\n      @override\n      HomePageState createState() =&gt; new HomePageState();\n    }\n\n    class HomePageState extends State&lt;HomePage&gt; {\n      //contains the colours for the circle Avatars\n      final List&lt;Color&gt; circleColors = [Colors.red, Colors.blue, Colors.green];\n\n      Color randomGenerator() {\n        return circleColors[new Random().nextInt(2)];\n      }\n\n      @override\n      Widget build(BuildContext context) {\n        return Center(\n          child: RaisedButton(\n            onPressed: () =&gt; {},\n            child: Text('Click'),\n            color: randomGenerator(),\n          ),\n        );\n      }\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1179, "user_id": 8411356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qkAw6FuphAE/AAAAAAAAAAI/AAAAAAAALl4/TYX8-1_aAOA/photo.jpg?sz=128", "display_name": "Michael Hathi", "link": "https://stackoverflow.com/users/8411356/michael-hathi"}, "edited": false, "score": 15, "creation_date": 1548169497, "post_id": 52638545, "comment_id": 95442053, "body": "for beginners: use this import statement <code>import &#39;dart:math&#39; as math;</code>"}, {"owner": {"reputation": 5606, "user_id": 374798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53255beb029d8a0074a6a65c9d3f63c?s=128&d=identicon&r=PG", "display_name": "Nate Bosch", "link": "https://stackoverflow.com/users/374798/nate-bosch"}, "edited": false, "score": 1, "creation_date": 1565112451, "post_id": 52638545, "comment_id": 101246784, "body": "What is the <code>&lt;&lt; 0</code> accomplishing? That should be removed."}, {"owner": {"reputation": 1451, "user_id": 1464430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LQkv.jpg?s=128&g=1", "display_name": "Ascension", "link": "https://stackoverflow.com/users/1464430/ascension"}, "reply_to_user": {"reputation": 5606, "user_id": 374798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53255beb029d8a0074a6a65c9d3f63c?s=128&d=identicon&r=PG", "display_name": "Nate Bosch", "link": "https://stackoverflow.com/users/374798/nate-bosch"}, "edited": false, "score": 0, "creation_date": 1587870024, "post_id": 52638545, "comment_id": 108677599, "body": "Yes, @NateBosch, <code>&lt;&lt; 0</code> is not doing nothing here. That was a mistake."}], "tags": [], "owner": {"reputation": 1451, "user_id": 1464430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LQkv.jpg?s=128&g=1", "display_name": "Ascension", "link": "https://stackoverflow.com/users/1464430/ascension"}, "is_accepted": false, "score": 88, "last_activity_date": 1588099878, "last_edit_date": 1588099878, "creation_date": 1538623720, "answer_id": 52638545, "question_id": 51340588, "link": "https://stackoverflow.com/questions/51340588/flutter-how-can-i-make-a-random-color-generator-background/52638545#52638545", "title": "Flutter: How can I make a Random color generator Background", "body": "<p>This is my way to get a random color:</p>\n\n<pre><code>Color((math.Random().nextDouble() * 0xFFFFFF).toInt()).withOpacity(1.0)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13728, "user_id": 3675035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2PXUu.jpg?s=128&g=1", "display_name": "Blasanka", "link": "https://stackoverflow.com/users/3675035/blasanka"}, "is_accepted": false, "score": 4, "last_activity_date": 1547298701, "creation_date": 1547298701, "answer_id": 54159912, "question_id": 51340588, "link": "https://stackoverflow.com/questions/51340588/flutter-how-can-i-make-a-random-color-generator-background/54159912#54159912", "title": "Flutter: How can I make a Random color generator Background", "body": "<p>Another way to get tons of colors is using <code>Random</code> class with <code>Color.fromARGB</code> or <code>Color.fromRGBO</code>:</p>\n\n<pre><code>import 'dart:math';\nimport 'package:flutter/material.dart';\n\nvoid main() {\n  runApp(MaterialApp(home: MyPage()));\n}\n\nclass MyPage extends StatefulWidget {\n  @override\n  _MyPageState createState() =&gt; new _MyPageState();\n}\n\nclass _MyPageState extends State&lt;MyPage&gt; {\n  final Random _random = Random();\n\n  Color _color = Color(0xFFFFFFFF);\n\n  void changeColor() {\n    setState(() {\n      _color = Color.fromARGB(\n        //or with fromRGBO with fourth arg as _random.nextDouble(),\n        _random.nextInt(256),\n        _random.nextInt(256),\n        _random.nextInt(256),\n        _random.nextInt(256),\n      );\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: InkWell(\n        onTap: changeColor,\n        child: Container(\n          color: _color,\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>If you use <code>Color.fromRGBO</code>:</p>\n\n<p>Fourth argument should be within <code>0.0</code> to <code>1.0</code> and fortunately we have <code>_random.nextDouble()</code> that gives a value between <code>0.0</code> to <code>1.0</code> randomly.</p>\n\n<p>By the way:</p>\n\n<ul>\n<li><strong>R</strong> - Red</li>\n<li><strong>B</strong> - Blue</li>\n<li><strong>G</strong> - Green</li>\n<li><strong>O</strong> - Opacity</li>\n<li><strong>A</strong> - Alpha</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1170, "user_id": 10412870, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-iCHkzIWJIkQ/AAAAAAAAAAI/AAAAAAAAHz0/90MRVJ9GK-k/photo.jpg?sz=128", "display_name": "Akshat Tamrakar", "link": "https://stackoverflow.com/users/10412870/akshat-tamrakar"}, "is_accepted": false, "score": 0, "last_activity_date": 1559061273, "creation_date": 1559061273, "answer_id": 56346620, "question_id": 51340588, "link": "https://stackoverflow.com/questions/51340588/flutter-how-can-i-make-a-random-color-generator-background/56346620#56346620", "title": "Flutter: How can I make a Random color generator Background", "body": "<p>Simplest and best suggested way to do this is:</p>\n\n<p>Step 1: Add dependency in pubspec.yaml\n      random_color: ^1.0.3</p>\n\n<p>Step 2: Add import \n      import 'package:random_color/random_color.dart';</p>\n\n<p>Step 3: In \"color\" attribute write\n      color: RandomColor().randomColor();</p>\n"}, {"comments": [{"owner": {"reputation": 107, "user_id": 11089167, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eiIFTuzc6i8/AAAAAAAAAAI/AAAAAAAABHs/u0NF4ACZ-HE/photo.jpg?sz=128", "display_name": "Jalakam Kiran", "link": "https://stackoverflow.com/users/11089167/jalakam-kiran"}, "edited": false, "score": 2, "creation_date": 1596050410, "post_id": 57034842, "comment_id": 111689098, "body": "Can we get which color has been generated using this method?"}, {"owner": {"reputation": 1734, "user_id": 2606342, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/ogUXw.jpg?s=128&g=1", "display_name": "Akbar Sha Ebrahim", "link": "https://stackoverflow.com/users/2606342/akbar-sha-ebrahim"}, "reply_to_user": {"reputation": 107, "user_id": 11089167, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eiIFTuzc6i8/AAAAAAAAAAI/AAAAAAAABHs/u0NF4ACZ-HE/photo.jpg?sz=128", "display_name": "Jalakam Kiran", "link": "https://stackoverflow.com/users/11089167/jalakam-kiran"}, "edited": false, "score": 0, "creation_date": 1600236065, "post_id": 57034842, "comment_id": 113019605, "body": "Yes, you can. The generated random <code>int</code> decides which colour is being selected. You can use that random <code>int</code> in <code>local variable</code> and use that again to know what colour you had generated."}], "tags": [], "owner": {"reputation": 1734, "user_id": 2606342, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/ogUXw.jpg?s=128&g=1", "display_name": "Akbar Sha Ebrahim", "link": "https://stackoverflow.com/users/2606342/akbar-sha-ebrahim"}, "is_accepted": false, "score": 40, "last_activity_date": 1595503692, "last_edit_date": 1595503692, "creation_date": 1563174779, "answer_id": 57034842, "question_id": 51340588, "link": "https://stackoverflow.com/questions/51340588/flutter-how-can-i-make-a-random-color-generator-background/57034842#57034842", "title": "Flutter: How can I make a Random color generator Background", "body": "<p>There is an in-built list of material colors in the <strong>Colors</strong> class. You can use it like below</p>\n<pre><code>Colors.primaries[Random().nextInt(Colors.primaries.length)]\n</code></pre>\n<p>e.g</p>\n<pre><code>import 'dart:math';\n\nIcon(\n    Icons.account_circle,\n    size: 40,\n    color: Colors.primaries[Random().nextInt(Colors.primaries.length)],\n)\n</code></pre>\n<p>Above is the simplest and fastest way to colorize your list with random colors. You don't need to maintain a list of colors.</p>\n"}, {"tags": [], "owner": {"reputation": 263, "user_id": 3044484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c554674ab99be91e7f2a59cc7310123?s=128&d=identicon&r=PG&f=1", "display_name": "user3044484", "link": "https://stackoverflow.com/users/3044484/user3044484"}, "is_accepted": false, "score": 9, "last_activity_date": 1597748393, "last_edit_date": 1597748393, "creation_date": 1563718821, "answer_id": 57134038, "question_id": 51340588, "link": "https://stackoverflow.com/questions/51340588/flutter-how-can-i-make-a-random-color-generator-background/57134038#57134038", "title": "Flutter: How can I make a Random color generator Background", "body": "<pre><code>import 'dart:math';\nimport 'dart:ui';\n\nclass Util {\n  static Color randomColor() {\n    return Color(Random().nextInt(0xffffffff));\n  }\n}\n</code></pre>\n<p>for opaque color:</p>\n<pre><code>static Color randomOpaqueColor() {\n  return Color(Random().nextInt(0xffffffff)).withAlpha(0xff);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 30876, "user_id": 2079831, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/707e9914d5a39558c376e8db47c60151?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/2079831/andrew"}, "is_accepted": false, "score": 4, "last_activity_date": 1567853022, "last_edit_date": 1567853022, "creation_date": 1567852199, "answer_id": 57832841, "question_id": 51340588, "link": "https://stackoverflow.com/questions/51340588/flutter-how-can-i-make-a-random-color-generator-background/57832841#57832841", "title": "Flutter: How can I make a Random color generator Background", "body": "<p>To get random color I do the next:</p>\n\n<pre><code>import 'dart:math' as math;\n\nfinal rnd = math.Random();\n\nColor getRandomColor() =&gt; Color(rnd.nextInt(0xffffffff));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 10290854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e0201a76aeed28401752cfdbe957119?s=128&d=identicon&r=PG&f=1", "display_name": "Legend", "link": "https://stackoverflow.com/users/10290854/legend"}, "is_accepted": false, "score": 2, "last_activity_date": 1586773101, "creation_date": 1586773101, "answer_id": 61185741, "question_id": 51340588, "link": "https://stackoverflow.com/questions/51340588/flutter-how-can-i-make-a-random-color-generator-background/61185741#61185741", "title": "Flutter: How can I make a Random color generator Background", "body": "<p>We can use random class for that But there is a <strong>random_color plugin</strong> in the flutter that can help us for generating random color and also we can select high saturation colors with this code:</p>\n\n<pre><code>import 'package:random_color/random_color.dart';\n\nRandomColor _randomColor = RandomColor();\n\nColor _color = _randomColor.randomColor(\n  colorSaturation: ColorSaturation.highSaturation\n);\n</code></pre>\n\n<p>And light colors with this code:</p>\n\n<pre><code>import 'package:random_color/random_color.dart';\n\nRandomColor _randomColor = RandomColor();\n\nColor _color = _randomColor.randomColor(\n  colorBrightness: ColorBrightness.light\n);\n</code></pre>\n\n<p>For more options read this <a href=\"https://pub.dev/packages/random_color#-readme-tab-\" rel=\"nofollow noreferrer\">https://pub.dev/packages/random_color#-readme-tab-</a></p>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 9968840, "user_type": "registered", "profile_image": "https://graph.facebook.com/2049173762000015/picture?type=large", "display_name": "clevercat", "link": "https://stackoverflow.com/users/9968840/clevercat"}, "is_accepted": false, "score": 0, "last_activity_date": 1608061296, "creation_date": 1608061296, "answer_id": 65312619, "question_id": 51340588, "link": "https://stackoverflow.com/questions/51340588/flutter-how-can-i-make-a-random-color-generator-background/65312619#65312619", "title": "Flutter: How can I make a Random color generator Background", "body": "<p>I think we need a separate class for that (you can use static or top-level functions).</p>\n<p><strong>Just don't forget that nextInt</strong>: <a href=\"https://api.dart.dev/stable/2.10.4/dart-math/Random-class.html\" rel=\"nofollow noreferrer\">&quot;Generates a non-negative random integer uniformly distributed in the range from 0, inclusive, to max, exclusive.&quot;</a>.\nSo set &quot;max&quot; to 0x100000000 (0xFFFFFFFF + 1)!</p>\n<pre><code>import 'dart:math';\n\nimport 'package:flutter/cupertino.dart';\n\nclass RandomColor {\n  static const _MAX_VALUE = 0x100000000;\n  final _random = Random();\n\n  Color nextColor() =&gt; Color(_random.nextInt(_MAX_VALUE));\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10504299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/277f0be5dc9324a945c6d71d14829d90?s=128&d=identicon&r=PG&f=1", "display_name": "Jeison", "link": "https://stackoverflow.com/users/10504299/jeison"}, "is_accepted": false, "score": -2, "last_activity_date": 1614976549, "last_edit_date": 1614976549, "creation_date": 1614974189, "answer_id": 66498871, "question_id": 51340588, "link": "https://stackoverflow.com/questions/51340588/flutter-how-can-i-make-a-random-color-generator-background/66498871#66498871", "title": "Flutter: How can I make a Random color generator Background", "body": "<p>In this way below you can obtain a random color with a one line command without needing any import:</p>\n<pre><code> ([...Colors.primaries]..shuffle()).first\n</code></pre>\n<p>This is also a great example of cascade notation and spread operators in dart. <a href=\"https://dart.dev/guides/language/language-tour\" rel=\"nofollow noreferrer\">Here</a> you can find more information about it.</p>\n"}], "owner": {"reputation": 339, "user_id": 9513370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6fef43cad20320f5ec2f3b570ba5727?s=128&d=identicon&r=PG&f=1", "display_name": "Dev Ed", "link": "https://stackoverflow.com/users/9513370/dev-ed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38025, "favorite_count": 6, "accepted_answer_id": 51341167, "answer_count": 11, "score": 40, "last_activity_date": 1614976549, "creation_date": 1531580165, "question_id": 51340588, "link": "https://stackoverflow.com/questions/51340588/flutter-how-can-i-make-a-random-color-generator-background", "title": "Flutter: How can I make a Random color generator Background", "body": "<blockquote>\n  <p>Generate random colors </p>\n</blockquote>\n\n<pre><code>return new RaisedButton(\n\n\n    padding:  EdgeInsets.symmetric(vertical: 30.0),\n    color: Colors.primaries random  List &lt;blue,green&gt;,\n</code></pre>\n"}, {"tags": ["listview", "dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 729, "user_id": 10059717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTCH2.png?s=128&g=1", "display_name": "Kirill Shashov", "link": "https://stackoverflow.com/users/10059717/kirill-shashov"}, "is_accepted": true, "score": 1, "last_activity_date": 1531844812, "last_edit_date": 1531844812, "creation_date": 1531578376, "answer_id": 51340404, "question_id": 51340228, "link": "https://stackoverflow.com/questions/51340228/listview-not-updating-correctly/51340404#51340404", "title": "ListView not updating correctly", "body": "<p>Try to add a key for <code>Order</code></p>\n\n<pre><code>// constructor    \nOrder(..., {Key key}): super(key: key)\n\n// you should use unique key for stateful widgets, otherwise the list rebuild will be incorrect\nitemBuilder: (context, i) {\n   return Order(_orders[i], Key(_orders[i].id));\n},\n</code></pre>\n\n<p><a href=\"https://flutter.io/widgets-intro/#keys\" rel=\"nofollow noreferrer\">see article</a></p>\n\n<blockquote>\n  <p>You can use keys to control which widgets the framework matches up\n  with other widgets when a widget rebuilds. By default, the framework\n  matches widgets in the current and previous build according to their\n  runtimeType and the order in which they appear. With keys, the\n  framework requires that the two widgets have the same key as well as\n  the same runtimeType.</p>\n</blockquote>\n"}], "owner": {"reputation": 921, "user_id": 3473663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f84e15dee62e025fdd537c12b5862409?s=128&d=identicon&r=PG&f=1", "display_name": "Karan", "link": "https://stackoverflow.com/users/3473663/karan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 51340404, "answer_count": 1, "score": 0, "last_activity_date": 1531844812, "creation_date": 1531577042, "last_edit_date": 1531577449, "question_id": 51340228, "link": "https://stackoverflow.com/questions/51340228/listview-not-updating-correctly", "title": "ListView not updating correctly", "body": "<p>I'm trying to replace the ListView with new data but this is not behaving as expected. The main focus is on the </p>\n\n<pre><code>ListView.builder(\n          itemBuilder: (context, i) {\n            return Order(_orders[i]);\n          }\n</code></pre>\n\n<p>and </p>\n\n<pre><code>_getOrders() async {\n    String authToken = await Auth.getAuthToken();\n\n    http.Response response = await http.get(\n        API_URL + '?date=' + _formatDate(_activePeriod),\n        headers: {'x-auth': authToken});\n\n    var parsedJson = json.decode(response.body);\n\n\n    setState(() {\n      if (parsedJson.runtimeType.toString() != 'List&lt;dynamic&gt;') {\n        _orders = [];\n      } else {\n        _orders = parsedJson;\n      }\n    });\n  }\n</code></pre>\n\n<p>the first render is correct when the app starts but when I call the <code>_changeMonth</code> method on Prev/Next button press which, in turn, calls the <code>_getOrders</code>, it doesn't reload the ListView after I override the <code>_orders</code> variable. \nIf the array has more items than the previous then  I see the new items added at the end but the previous (first time rendered) items stay on the screen.\nI can correctly see the new data but overriding the <code>_orders</code> variable after the API call does not render the new data in the ListView. Do I need to do something more than using the <code>setState()</code>?</p>\n\n<p>Full code of main file. <code>Order</code> class is defined in other file but I believe it is not required here.</p>\n\n<pre><code>class Home extends StatefulWidget {\n  @override\n  State&lt;StatefulWidget&gt; createState() {\n    return HomeState();\n  }\n}\n\n class HomeState extends State {\n      final DateTime _thisMonth = DateTime.now();\n      DateTime _activePeriod = DateTime.now();\n\n  final String app = 'Orders';\n\n  List&lt;dynamic&gt; _orders = [];\n\n  bool isLoggedIn = false;\n\n  @override\n  initState() {\n    super.initState();\n    Auth.init().then((loggedIn) {\n      if (loggedIn) {\n        setState(() {\n          isLoggedIn = true;\n        });\n        _getOrders();\n      }\n    });\n  }\n\n  HomeState() {}\n\n  @override\n  build(BuildContext context) {\n    return MaterialApp(\n      title: app,\n      home: Scaffold(\n        appBar: new AppBar(\n          title: Text(app),\n        ),\n        body: isLoggedIn\n            ? ListView.builder(\n          itemBuilder: (context, i) {\n            return Order(_orders[i]);\n          },\n          itemCount: _orders.length,\n        )\n            : Auth.showLoginForm(),\n        persistentFooterButtons: &lt;Widget&gt;[\n          Row(\n            mainAxisAlignment: MainAxisAlignment.start,\n            children: &lt;Widget&gt;[              \n              FlatButton(\n                child: Text('Prev'),\n                onPressed: () {\n                  _changeMonth(-1);\n                },\n              ),\n              FlatButton(\n                child: Text('Next'),\n                onPressed: _activePeriod.month == _thisMonth.month\n                    ? null\n                    : () {\n                  _changeMonth(1);\n                },\n              ),\n            ],\n          )\n        ],\n      ),\n    );\n  }\n\n  _changeMonth(int increment) async {\n    setState(() {\n      _activePeriod =\n          DateTime(_activePeriod.year, _activePeriod.month + increment, 1);\n      _getOrders();\n    });\n  }\n\n  _formatDate(DateTime date) {\n    return '${date.year}/${date.month}/${date.day}';\n  }\n\n  _getOrders() async {\n    String authToken = await Auth.getAuthToken();\n\n    http.Response response = await http.get(\n        API_URL + '?date=' + _formatDate(_activePeriod),\n        headers: {'x-auth': authToken});\n\n    var parsedJson = json.decode(response.body);\n    //print(parsedJson);// new data appears fine\n    setState(() {\n      if (parsedJson.runtimeType.toString() != 'List&lt;dynamic&gt;') {\n        _orders = [];\n      } else {\n        _orders = parsedJson;\n      }\n    });\n  }\n}\n</code></pre>\n"}, {"tags": ["foreach", "async-await", "dart", "dart-async"], "answers": [{"tags": [], "owner": {"reputation": 14105, "user_id": 4231909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NbwgO.jpg?s=128&g=1", "display_name": "Jonah Williams", "link": "https://stackoverflow.com/users/4231909/jonah-williams"}, "is_accepted": true, "score": 7, "last_activity_date": 1531592498, "creation_date": 1531592498, "answer_id": 51342248, "question_id": 51339904, "link": "https://stackoverflow.com/questions/51339904/dart-is-it-possible-to-change-a-future-foreach-to-a-map/51342248#51342248", "title": "Dart - is it possible to change a future.forEach. to a map?", "body": "<p>To turn a list of Futures into a single Future, use <a href=\"https://api.dartlang.org/stable/1.24.3/dart-async/Future/wait.html\" rel=\"noreferrer\"><code>Future.wait</code></a> from <code>dart:async</code>.  (Also don't forget to return the user object).</p>\n\n<pre><code>final List&lt;User&gt; = await Future.wait(querySnapshot.documents.map((doc) async {\n  final snapshot = await doc['user'].get();\n  return User(id: snapshot[\"id\"], name: snapshot[\"mail\"]);\n}));\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 2968494, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1556725772/picture?type=large", "display_name": "N&#233;odigi", "link": "https://stackoverflow.com/users/2968494/n%c3%a9odigi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2632, "favorite_count": 1, "accepted_answer_id": 51342248, "answer_count": 1, "score": 3, "last_activity_date": 1531592498, "creation_date": 1531574442, "question_id": 51339904, "link": "https://stackoverflow.com/questions/51339904/dart-is-it-possible-to-change-a-future-foreach-to-a-map", "title": "Dart - is it possible to change a future.forEach. to a map?", "body": "<p>So basically i have this piece of working code:</p>\n\n<pre><code>List&lt;User&gt; users = List();\nawait Future.forEach(querySnapshot.documents, (doc) async {\n  final snapshot = await doc['user'].get();\n  users.add(User(id: snapshot[\"id\"], name: snapshot[\"mail\"]));\n});\n\nreturn users;\n</code></pre>\n\n<p>It's working fine and does exactly what I need but I was wondering if there was a way to somehow change it to a map, such as:</p>\n\n<pre><code>return querySnapshot.documents.map((doc) async {\n  final snapshot = await doc['user'].get();\n  User(id: snapshot[\"id\"], name: snapshot[\"mail\"]);\n}).toList{growable: true};\n</code></pre>\n\n<p>The problem when I do that is that it says: a value of type List&lt; Future&lt; Null>> can't be assigned to a variable of type List&lt; User>.</p>\n\n<p>So I was wondering if it was possible or if the only way is with a Future.forEach</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 6515, "user_id": 884522, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9b06d01e141676a2fbe165ede9303a7a?s=128&d=identicon&r=PG", "display_name": "Jacob Phillips", "link": "https://stackoverflow.com/users/884522/jacob-phillips"}, "edited": false, "score": 0, "creation_date": 1531593688, "post_id": 51338238, "comment_id": 89658109, "body": "A current limitation in Flutter is that the code only runs when the app is in the foreground. There is a <a href=\"https://pub.dartlang.org/packages/android_alarm_manager\" rel=\"nofollow noreferrer\">plugin</a> for Android to use the <code>AlarmManager</code> which might help."}], "owner": {"reputation": 99, "user_id": 9992370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8557ea8dc7c078262c7ded556fd57c68?s=128&d=identicon&r=PG&f=1", "display_name": "rannes", "link": "https://stackoverflow.com/users/9992370/rannes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1531569177, "creation_date": 1531569177, "question_id": 51338238, "link": "https://stackoverflow.com/questions/51338238/can-anyone-give-me-an-idea-for-redirecting-session-time-out-to-the-login-screen", "title": "Can anyone give me an idea for redirecting session time out to the login screen in flutter?", "body": "<p>In mobile device, when we clicked on home button it is going to Applifecyclestate-pausestate and after session time out it is navigating to login screen. But when i locked the mobile screen session time out is not working can u please help me in this issue .\nthank you</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 2690, "user_id": 5546443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MqHNK.jpg?s=128&g=1", "display_name": "krishnakumarcn", "link": "https://stackoverflow.com/users/5546443/krishnakumarcn"}, "edited": false, "score": 4, "creation_date": 1533550311, "post_id": 51338178, "comment_id": 90371232, "body": "How can I retrieve this file and display later to the user? Which file read operation can I use?"}, {"owner": {"reputation": 948, "user_id": 2559535, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a728e1a05edfad00445dc3ee9d0393f6?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek Bansal", "link": "https://stackoverflow.com/users/2559535/vivek-bansal"}, "edited": false, "score": 2, "creation_date": 1553267195, "post_id": 51338178, "comment_id": 97333529, "body": "We can save &quot;Path&quot; of the file as a string and later on can retrieve the file using a path like this File(path). Use this handy method to load the images FileImage(File(path))."}, {"owner": {"reputation": 10619, "user_id": 965176, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ed0bd5633c083e69192a9d633c83c21b?s=128&d=identicon&r=PG", "display_name": "qwertzguy", "link": "https://stackoverflow.com/users/965176/qwertzguy"}, "edited": false, "score": 0, "creation_date": 1554739379, "post_id": 51338178, "comment_id": 97853681, "body": "@creativecreatorormaybenot I should have been more specific: does that add the photo to the camera roll on iOS?"}, {"owner": {"reputation": 348, "user_id": 3455405, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/01c43f4dbd423c41c3e9cbe661a5bb86?s=128&d=identicon&r=PG&f=1", "display_name": "Luiggi", "link": "https://stackoverflow.com/users/3455405/luiggi"}, "edited": false, "score": 0, "creation_date": 1568201458, "post_id": 51338178, "comment_id": 102198056, "body": "somebody has a complete example. I can&#39;t achieve it"}, {"owner": {"reputation": 3311, "user_id": 4641073, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh4.googleusercontent.com/-ZjmXf5kmIIo/AAAAAAAAAAI/AAAAAAAAADU/BvIdertZ_JM/photo.jpg?sz=128", "display_name": "Giacomo M", "link": "https://stackoverflow.com/users/4641073/giacomo-m"}, "edited": false, "score": 0, "creation_date": 1574325453, "post_id": 51338178, "comment_id": 104194817, "body": "@creativecreatorormaybenot you wrote the image taken is automatically saved to the gallery, but it does not happen to me. You know which could be the problem?"}, {"owner": {"reputation": 95, "user_id": 10032794, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_pVX9Wv-xc0/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3Ku_5foItiRN8ceWKSKbefXL6IzA/mo/photo.jpg?sz=128", "display_name": "Speedy11", "link": "https://stackoverflow.com/users/10032794/speedy11"}, "edited": false, "score": 0, "creation_date": 1574590508, "post_id": 51338178, "comment_id": 104279744, "body": "@creativecreatorormaybenot, everything works fine but my file does not get renamed to &#39;image1.png&#39;. whats the way out bro? thank you"}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1579667207, "post_id": 51338178, "comment_id": 105838266, "body": "but what if image is not taken from camera and gallery ? <a href=\"https://stackoverflow.com/questions/59852587/how-to-convert-image-to-file\" title=\"how to convert image to file\">stackoverflow.com/questions/59852587/&hellip;</a>"}, {"owner": {"reputation": 311, "user_id": 11924836, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D7D2O.jpg?s=128&g=1", "display_name": "Bliv_Dev", "link": "https://stackoverflow.com/users/11924836/bliv-dev"}, "edited": false, "score": 0, "creation_date": 1590711609, "post_id": 51338178, "comment_id": 109791615, "body": "Sorry but you need to add path_provider: ^1.6.9 to your pubspec.yaml in order to have this work. <a href=\"https://pub.dev/packages/path_provider\" rel=\"nofollow noreferrer\">pub.dev/packages/path_provider</a>"}], "tags": [], "owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "is_accepted": true, "score": 46, "last_activity_date": 1531568767, "creation_date": 1531568767, "answer_id": 51338178, "question_id": 51338041, "link": "https://stackoverflow.com/questions/51338041/how-to-save-image-file-in-flutter-file-selected-using-image-picker-plugin/51338178#51338178", "title": "How to Save Image File in Flutter ? File selected using Image_picker plugin", "body": "<p>Using <code>await ImagePicker.pickImage(...)</code>, you are already on the right track because the function returns a <a href=\"https://github.com/flutter/plugins/blob/master/packages/image_picker/lib/image_picker.dart#L56\" rel=\"noreferrer\"><code>File</code></a>.</p>\n\n<p>The <code>File</code> class has a <a href=\"https://docs.flutter.io/flutter/dart-io/File/copy.html\" rel=\"noreferrer\"><code>copy</code> method</a>, which you can use to copy the file (which is already saved on disk by either the camera or by lying in gallery) and put it into your application documents directory:</p>\n\n<pre><code>// using your method of getting an image\nfinal File image = await ImagePicker.pickImage(source: imageSource);\n\n// getting a directory path for saving\nfinal String path = await getApplicationDocumentsDirectory().path;\n\n// copy the file to a new path\nfinal File newImage = await image.copy('$path/image1.png');\n\nsetState(() {\n  _image = newImage;\n});\n</code></pre>\n\n<p>You should also note that you can get the path of the image file from <code>ImagePicker</code> using <code>image.path</code>, which will also contain the file ending that you might want to extract and you can save your image path by using <code>newImage.path</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 594, "user_id": 9715309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hf0k4.jpg?s=128&g=1", "display_name": "Shadeeka Nimesh", "link": "https://stackoverflow.com/users/9715309/shadeeka-nimesh"}, "edited": false, "score": 0, "creation_date": 1555583570, "post_id": 55313355, "comment_id": 98165053, "body": "how can multiple images select and temporary show in one activity, also user can remove selected images and add more images again? if you have any source code about my case please help me"}, {"owner": {"reputation": 948, "user_id": 2559535, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a728e1a05edfad00445dc3ee9d0393f6?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek Bansal", "link": "https://stackoverflow.com/users/2559535/vivek-bansal"}, "reply_to_user": {"reputation": 594, "user_id": 9715309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hf0k4.jpg?s=128&g=1", "display_name": "Shadeeka Nimesh", "link": "https://stackoverflow.com/users/9715309/shadeeka-nimesh"}, "edited": false, "score": 0, "creation_date": 1556044203, "post_id": 55313355, "comment_id": 98301327, "body": "ShadeekaNimesh, I don&#39;t have logic for multiple images you can check on image_picker plugin documentation."}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1579667254, "post_id": 55313355, "comment_id": 105838280, "body": "but what if image is not taken from camera and gallery ?<a href=\"https://stackoverflow.com/questions/59852587/how-to-convert-image-to-file\" title=\"how to convert image to file\">stackoverflow.com/questions/59852587/&hellip;</a>"}], "tags": [], "owner": {"reputation": 948, "user_id": 2559535, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a728e1a05edfad00445dc3ee9d0393f6?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek Bansal", "link": "https://stackoverflow.com/users/2559535/vivek-bansal"}, "is_accepted": false, "score": 16, "last_activity_date": 1553341205, "creation_date": 1553341205, "answer_id": 55313355, "question_id": 51338041, "link": "https://stackoverflow.com/questions/51338041/how-to-save-image-file-in-flutter-file-selected-using-image-picker-plugin/55313355#55313355", "title": "How to Save Image File in Flutter ? File selected using Image_picker plugin", "body": "<p>@creativecreatorormaybenot answer is really helpful but it missed one important part i.e retrieving the image for later use. </p>\n\n<p><strong>Saving Image</strong></p>\n\n<pre><code>// Step 1: Retrieve image from picker \nfinal File image = await ImagePicker.pickImage(source: imageSource);\n\n// Step 2: Check for valid file\nif (image == null) return;\n\n// Step 3: Get directory where we can duplicate selected file.\nfinal String path = await getApplicationDocumentsDirectory().path;\n\n// Step 4: Copy the file to a application document directory. \nfinal var fileName = basename(file.path);\nfinal File localImage = await image.copy('$path/$fileName');\n</code></pre>\n\n<blockquote>\n  <p>Tip: you can retrieve <strong>file name</strong> from original file using <strong>basename(file.path)</strong>. Make sure you import 'package:path/path.dart';</p>\n</blockquote>\n\n<p><strong>Retrieving/Loading Image</strong></p>\n\n<pre><code>// Step 1: Save image/file path as string either db or shared pref\nSharedPreferences prefs = await SharedPreferences.getInstance();\nprefs.setString('test_image', localImage.path)\n\n// Step 2: Loading image by using the path that we saved earlier. We can create a file using path \n//         and can use FileImage provider for loading image from file.\nCircleAvatar(\n          backgroundImage: FileImage(File(prefs.getString('test_image')),\n          radius: 50,\n          backgroundColor: Colors.white)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 328, "user_id": 11997814, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mARyzUytG7NK1i_Ed433Fo8O9gWAuzwJR7AHHzF=k-s128", "display_name": "ifredom", "link": "https://stackoverflow.com/users/11997814/ifredom"}, "is_accepted": false, "score": 4, "last_activity_date": 1584430379, "creation_date": 1584430379, "answer_id": 60718009, "question_id": 51338041, "link": "https://stackoverflow.com/questions/51338041/how-to-save-image-file-in-flutter-file-selected-using-image-picker-plugin/60718009#60718009", "title": "How to Save Image File in Flutter ? File selected using Image_picker plugin", "body": "<p>Hope to help and see people\u3002give a like\u3002</p>\n\n<p><code>RepaintBoundary</code> will help you\u3002</p>\n\n<pre><code>final GlobalKey _repaintKey = new GlobalKey();\n\n\n//  Image Widget\n\n\nWidget _buildQrImage() {\n_avatar = RepaintBoundary(\n  key: _repaintKey,\n  child: Image.asset('assets/ifredom.jpg')\n);\n\nreturn Column(\n  children: &lt;Widget&gt;[\n    _avatar,\n    (imageFile == null)\n        ? Image.asset('assets/default.jpg')\n        : Image.file(imageFile),\n    FlatButton(\n      child: Text(\"save\"),\n      onPressed: () {\n        _saveScreenShot(context);\n      },\n    ),\n\n  ],\n);\n}\n\n\n\nvoid _saveScreenShot(BuildContext context) {\nRenderRepaintBoundary boundary = _repaintKey.currentContext.findRenderObject();\n\n// ScreenShot and save\nsaveScreenShot(boundary, success: () {\n  saveScreenShot2SDCard(boundary, success: () {\n    showToast('save ok');\n  }, fail: () {\n    showToast('save ok');\n  });\n}, fail: () {\n  showToast('save fail!');\n});\n}\n</code></pre>\n\n<p>this file is utils.</p>\n\n<p>Flutter provides a RepaintBoundaryWidget to implement the screenshot function. </p>\n\n<p>RepaintBoundary is used to wrap the part that needs to be intercepted. </p>\n\n<p>RenderRepaintBoundary can be used to intercept the part that is wrapped by RepaintBoundary. </p>\n\n<p>Then it is converted into a ui.Image object by using the boundary.toImage () method, and then image.toByteData ( ) Convert the image to byteData; </p>\n\n<p>finally store it as a file object via File (). WriteAsBytes ():</p>\n\n<pre><code>import 'dart:async';\nimport 'dart:io';\nimport 'dart:typed_data';\nimport 'dart:ui' as ui;\n\nimport 'package:flutter/rendering.dart';\nimport 'package:path_provider/path_provider.dart';\nimport 'package:permission_handler/permission_handler.dart';\n\nimport 'package:oktoast/oktoast.dart';\n\nfinal String scrawlImagePath = '/screen_shot_scraw.png';\n\n\nFuture&lt;File&gt; getScreenShotFile() async {\n  Directory tempDir = await getTemporaryDirectory();\n  String tempPath = '${tempDir.path}$scrawlImagePath';\n  File image = File(tempPath);\n  bool isExist = await image.exists();\n  return isExist ? image : null;\n}\n\nFuture saveScreenShot2SDCard(RenderRepaintBoundary boundary,\n    {Function success, Function fail}) async {\n  // check storage permission.\n  PermissionHandler().requestPermissions([PermissionGroup.storage]).then((map) {\n    if (map[PermissionGroup.storage] == PermissionStatus.granted) {\n      capturePng2List(boundary).then((uint8List) async {\n        if (uint8List == null || uint8List.length == 0) {\n          if (fail != null) fail();\n          return;\n        }\n        Directory tempDir = await getExternalStorageDirectory();\n        _saveImage(uint8List, Directory('${tempDir.path}/flutter_ui'),\n            '/screen_shot_scraw_${DateTime.now()}.png',\n            success: success, fail: fail);\n      });\n    } else {\n      showToast('\u8bf7\u6253\u5f00SD\u5361\u5b58\u50a8\u6743\u9650\uff01');\n//      if (fail != null) fail();\n      return;\n    }\n  });\n}\n\nvoid saveScreenShot(RenderRepaintBoundary boundary,\n    {Function success, Function fail}) {\n  capturePng2List(boundary).then((uint8List) async {\n    if (uint8List == null || uint8List.length == 0) {\n      if (fail != null) fail();\n      return;\n    }\n    Directory tempDir = await getTemporaryDirectory();\n    _saveImage(uint8List, tempDir, scrawlImagePath,\n        success: success, fail: fail);\n  });\n}\n\nvoid _saveImage(Uint8List uint8List, Directory dir, String fileName,\n    {Function success, Function fail}) async {\n  bool isDirExist = await Directory(dir.path).exists();\n  if (!isDirExist) Directory(dir.path).create();\n  String tempPath = '${dir.path}$fileName';\n  File image = File(tempPath);\n  bool isExist = await image.exists();\n  if (isExist) await image.delete();\n  File(tempPath).writeAsBytes(uint8List).then((_) {\n    if (success != null) success();\n  });\n}\n\nFuture&lt;Uint8List&gt; capturePng2List(RenderRepaintBoundary boundary) async {\n  ui.Image image =\n      await boundary.toImage(pixelRatio: ui.window.devicePixelRatio);\n  ByteData byteData = await image.toByteData(format: ui.ImageByteFormat.png);\n  Uint8List pngBytes = byteData.buffer.asUint8List();\n  return pngBytes;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 974, "user_id": 5622882, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/66d94921c62973c8a85d68c4517e22ba?s=128&d=identicon&r=PG&f=1", "display_name": "MAA", "link": "https://stackoverflow.com/users/5622882/maa"}, "edited": false, "score": 0, "creation_date": 1594621198, "post_id": 62236091, "comment_id": 111177611, "body": "Thank you for using the new methods. There&#39;s a slight syntactic error. You meant to write pickedFile instead of pickedImage. Also, I tried your method, and it takes the image, but do not save it anywhere. Oddly, the second block of code, shows the emulator to check the taken image and delete, but the first block of code, gives you the option to cancel or go back to taking the image. They were not equivalent. Please update as I need to implement this in my code."}], "tags": [], "owner": {"reputation": 1312, "user_id": 2437838, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mhyrY.jpg?s=128&g=1", "display_name": "Ilker Cat", "link": "https://stackoverflow.com/users/2437838/ilker-cat"}, "is_accepted": false, "score": 13, "last_activity_date": 1591468470, "last_edit_date": 1591468470, "creation_date": 1591467580, "answer_id": 62236091, "question_id": 51338041, "link": "https://stackoverflow.com/questions/51338041/how-to-save-image-file-in-flutter-file-selected-using-image-picker-plugin/62236091#62236091", "title": "How to Save Image File in Flutter ? File selected using Image_picker plugin", "body": "<p><strong>As of image_picker 0.6.7</strong></p>\n\n<p><code>pickImage</code>, <code>pickVideo</code> and <code>retrieveLostData</code> are <strong>deprecated</strong>.<br>\n<a href=\"https://pub.dev/packages/image_picker#-changelog-tab-\" rel=\"noreferrer\">https://pub.dev/packages/image_picker#-changelog-tab-</a></p>\n\n<p>Those methods have to be replaced by</p>\n\n<ul>\n<li><code>getImage</code></li>\n<li><code>getVideo</code></li>\n<li><code>getLostData</code></li>\n</ul>\n\n<p>An example usage of the <code>getImage()</code> method:</p>\n\n<pre><code>...\nFile _storedImage;\n...\n\nvoid _takePicture() async {\n  // 1. Create an ImagePicker instance.\n  final ImagePicker _picker = ImagePicker();\n\n  // 2. Use the new method.\n  //\n  // getImage now returns a PickedFile instead of a File (form dart:io)\n  final PickedFile pickedImage = await _picker.getImage(...)\n\n  // 3. Check if an image has been picked or take with the camera.\n  if (pickedImage == null) {\n    return;\n  }\n\n  // 4. Create a File from PickedFile so you can save the file locally\n  // This is a new/additional step.\n  File tmpFile = File(pickedFile.path);\n\n  // 5. Get the path to the apps directory so we can save the file to it.\n  final String path = await getApplicationDocumentsDirectory().path;\n  final String fileName = basename(pickedFile.path); // Filename without extension\n  final String fileExtension = extension(pickedFile.path); // e.g. '.jpg'\n\n  // 6. Save the file by copying it to the new location on the device.\n  tmpFile = await tmpFile.copy('$path/$fileName$fileExtension');\n\n  // 7. Optionally, if you want to display the taken picture we need to update the state\n  // Note: Copying and awaiting the file needs to be done outside the setState function.\n  setState(() =&gt; _storedImage = tmpFile);\n}\n</code></pre>\n\n<p>A <strong>slightly more compact example</strong>:  </p>\n\n<pre><code>File _image;\nfinal picker = ImagePicker();\n\nFuture getImage() async {\n  final File pickedImage = await picker.getImage(source: ImageSource.camera);\n\n  if (pickedImage == null) return;\n\n  File tmpFile = File(pickedImage.path);\n  tmpFile = await tmpFile.copy(tmpFile.path);\n\n  setState(() {\n    _image = tmpFile;\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 1568, "user_id": 8854366, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HPE9M.jpg?s=128&g=1", "display_name": "Ravindra Bhanderi", "link": "https://stackoverflow.com/users/8854366/ravindra-bhanderi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52981, "favorite_count": 16, "accepted_answer_id": 51338178, "answer_count": 4, "score": 24, "last_activity_date": 1591468470, "creation_date": 1531567737, "last_edit_date": 1546923837, "question_id": 51338041, "link": "https://stackoverflow.com/questions/51338041/how-to-save-image-file-in-flutter-file-selected-using-image-picker-plugin", "title": "How to Save Image File in Flutter ? File selected using Image_picker plugin", "body": "<p>I am really confused. Flutter is awesome but some time is stuck the mind</p>\n\n<p>All the code are done. selected file also showing in preview but I try to save that file in local android storage. I can't get success in </p>\n\n<pre><code>  Future getImage(ImageSource imageSource) async {\n    var image = await ImagePicker.pickImage(source: imageSource);\n\n    setState(() {\n      _image = image;\n    });\n  } \n</code></pre>\n\n<p>Select file using this code and my file in <code>_image</code> now I try to store using path_provider and <code>dart.io</code> but I can't get save methodology.</p>\n"}, {"tags": ["dart", "flutter", "flutter-layout"], "answers": [{"tags": [], "owner": {"reputation": 5835, "user_id": 7334184, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HfhsA3j-Ocs/AAAAAAAAAAI/AAAAAAAAACs/ujQDfoNtLvA/photo.jpg?sz=128", "display_name": "Ammy Kang", "link": "https://stackoverflow.com/users/7334184/ammy-kang"}, "is_accepted": false, "score": 0, "last_activity_date": 1533216114, "creation_date": 1533216114, "answer_id": 51654770, "question_id": 51337825, "link": "https://stackoverflow.com/questions/51337825/how-to-fix-text-widget-overflow-issue-to-show-the-overflowed-text-in-next-line/51654770#51654770", "title": "How to fix Text widget overflow issue to show the overflowed text in next line?", "body": "<p>Here is how I fixed this issue: </p>\n\n<pre><code>return new Container(\n\n                      child: new Column(\n                        children: &lt;Widget&gt;[\n                          new Container(\n                            margin: EdgeInsets.all(10.0),\n\n\n                            child: new Column(\n\n                              children: &lt;Widget&gt;[\n                                new Column(\n                                  children: &lt;Widget&gt;[\n                                    new Padding(padding: const EdgeInsets.only(top: 5.0)),\n                                    new Row(\n                                      mainAxisAlignment:  MainAxisAlignment.spaceBetween,\n                                      children: &lt;Widget&gt;[\n\n                                        new Container(\n                                          alignment: FractionalOffset.topLeft ,\n                                          width: 250.0,\n                                          child: new Column(\n                                            mainAxisAlignment: MainAxisAlignment.start,\n                                            children: &lt;Widget&gt;[\n                                              new Text(productList[index].name,\n\n                                                style: new TextStyle(color: Colors.black,\n                                                    fontSize: 18.0, fontWeight: FontWeight.bold),\n                                              )\n\n                                            ],\n                                          ),\n                                        ),\n\n\n                                        new Text(\"\u00a3\"+productList[index].price.toString(),\n                                          style: new TextStyle(color: Colors.black,\n                                              fontSize: 18.0, fontWeight: FontWeight.bold\n                                          ),),\n\n                                      ],\n                                    )\n\n\n                                  ],\n                                ),\n\n                                new Row(\n                                  mainAxisAlignment: MainAxisAlignment.start,\n                                  children: &lt;Widget&gt;[\n                                    new Flexible(\n                                        child: new Column(\n                                          crossAxisAlignment: CrossAxisAlignment.start ,\n                                          children: &lt;Widget&gt;[\n\n                                            new Text(\n\n                                              productList[index].description,\n                                              overflow:  TextOverflow.fade ,),\n                                          ],\n                                        ))\n                                  ],\n                                ),\n\n                                new Row(\n                                  mainAxisAlignment: MainAxisAlignment.end,\n                                  children: &lt;Widget&gt;[\n                                    new  ListTileItemAddRemove(productList[index]),\n\n\n                                    new Padding(padding: EdgeInsets.only(bottom: 10.0))\n                                  ],\n                                )\n\n\n                              ],\n                            ),\n                          ),\n                          new Divider(color: Colors.black,)\n                        ],\n                      ),\n\n                    );\n</code></pre>\n"}], "owner": {"reputation": 5835, "user_id": 7334184, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HfhsA3j-Ocs/AAAAAAAAAAI/AAAAAAAAACs/ujQDfoNtLvA/photo.jpg?sz=128", "display_name": "Ammy Kang", "link": "https://stackoverflow.com/users/7334184/ammy-kang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 183, "favorite_count": 2, "answer_count": 1, "score": 0, "last_activity_date": 1533216114, "creation_date": 1531566116, "question_id": 51337825, "link": "https://stackoverflow.com/questions/51337825/how-to-fix-text-widget-overflow-issue-to-show-the-overflowed-text-in-next-line", "title": "How to fix Text widget overflow issue to show the overflowed text in next line?", "body": "<p>My title Text widget is overflowing and hiding my price Text widget, I want these both Text widget in same row and when the title contains max numbers of characters then I want to show this in next line, how can I fix it. I am attaching image of overflowing text.</p>\n\n<p>Here is my code: </p>\n\n<pre><code> new Column(\n                children: &lt;Widget&gt;[\n                  new Column(\n\n                    children: &lt;Widget&gt;[\n                      new Column(\n                        children: &lt;Widget&gt;[\n                          new Padding(padding: const EdgeInsets.only(top: 5.0)),\n                          new Row(\n                            mainAxisAlignment:  MainAxisAlignment.spaceBetween,\n                            children: &lt;Widget&gt;[\n\n                              new Column(\n                                children: &lt;Widget&gt;[\n                                  new Text(productList[index].name,\n\n                                    style: new TextStyle(color: Colors.black,\n                                        fontSize: 18.0, fontWeight: FontWeight.bold),\n                                  )\n\n                                ],\n                              ),\n\n\n                              new Text(\"\u20ac\"+productList[index].price.toString(),\n                                style: new TextStyle(color: Colors.black,\n                                    fontSize: 18.0, fontWeight: FontWeight.bold\n                                ),),\n\n                            ],\n                          )\n\n\n                        ],\n                      ),\n\n                      new Row(\n                        mainAxisAlignment: MainAxisAlignment.start,\n                        children: &lt;Widget&gt;[\n                          new Flexible(\n                              child: new Column(\n                                crossAxisAlignment: CrossAxisAlignment.start ,\n                                children: &lt;Widget&gt;[\n\n                                  new Text(\n\n                                    productList[index].description,\n                                    overflow:  TextOverflow.fade ,),\n                                ],\n                              ))\n                        ],\n                      ),\n\n                      new Row(\n                        mainAxisAlignment: MainAxisAlignment.end,\n                        children: &lt;Widget&gt;[\n                         new  ListTileItemAddRemove(productList[index]),\n\n\n                          new Padding(padding: EdgeInsets.only(bottom: 10.0))\n                        ],\n                      )\n\n\n                    ],\n                  ),\n                  new Divider(color: Colors.black,)\n                ],\n              ),\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/2HYE8.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2HYE8.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "ios", "sqlite", "dart", "flutter"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9047282"}, "edited": false, "score": 0, "creation_date": 1531563835, "post_id": 51337503, "comment_id": 89649624, "body": "That solved the problem with the error. But there is still no data coming from the database. And I&#39;m pretty sure about it that there is some data in it."}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1603767702, "post_id": 51337503, "comment_id": 114134342, "body": "Why <code>CheckBox</code> no displaying in <code>futureBuilder</code> ? It will only display after hot reload."}], "tags": [], "owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "is_accepted": true, "score": 0, "last_activity_date": 1531563553, "creation_date": 1531563553, "answer_id": 51337503, "question_id": 51337482, "link": "https://stackoverflow.com/questions/51337482/futurebuilderlist-is-not-displaying-any-data/51337503#51337503", "title": "FutureBuilder&lt;List&gt; is not displaying any data", "body": "<p>when <code>snapshot.hasData</code> is false, <code>snapshot.data</code> equals <code>null</code>. Therefore you can't do</p>\n\n<p><code>if (snapshot.hasData) {} else if (snapshot.data.length &gt; 0) {}</code></p>\n\n<p>Instead just do a <code>if (snapshot.hasData == false)</code></p>\n"}, {"tags": [], "owner": {"reputation": 1823, "user_id": 3816476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eRioD.jpg?s=128&g=1", "display_name": "Sunil", "link": "https://stackoverflow.com/users/3816476/sunil"}, "is_accepted": false, "score": 0, "last_activity_date": 1582049040, "last_edit_date": 1582049040, "creation_date": 1531719872, "answer_id": 51355237, "question_id": 51337482, "link": "https://stackoverflow.com/questions/51337482/futurebuilderlist-is-not-displaying-any-data/51355237#51355237", "title": "FutureBuilder&lt;List&gt; is not displaying any data", "body": "<p>I think that there is no need to use <code>$</code>. Try the below code snippet. It is explained <a href=\"https://www.developerlibs.com/2018/07/flutter-sqlite-database-example.html\" rel=\"nofollow noreferrer\">here</a> in detail.</p>\n\n<pre><code>Future&lt;List&lt;Statistik&gt;&gt; getStatistik() async{\n    var dbClient = await db;\n    List&lt;Map&gt; list = await dbClient.rawQuery('SELECT * FROM statistik');\n    List&lt;Statistik&gt; statistik = new List();\n    for(int i = 0; i&lt;list.length; i++){\n      statistik.add(new Statistik(name: list[i][\"statistikName\"] , spielanzahl: list[i][\"statistikSpielanzahl\"], gewonneneSpiele: list[i][\"statistikWins\"], erfolgsquote: list[i][\"erfolgsquote\"]));\n    }\n    return statistik;\n  }\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9047282"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 838, "favorite_count": 0, "accepted_answer_id": 51337503, "answer_count": 2, "score": 0, "last_activity_date": 1582049040, "creation_date": 1531563349, "last_edit_date": 1531569481, "question_id": 51337482, "link": "https://stackoverflow.com/questions/51337482/futurebuilderlist-is-not-displaying-any-data", "title": "FutureBuilder&lt;List&gt; is not displaying any data", "body": "<p>I am writing a flutter app that is listing the whole players of a card game. And if no players are inside the database, then there should be a text that is saying, that is no data found. But my problem is inside the <code>getStatistik()</code>. That function is returning no data. </p>\n\n<p>This is my code where I want to display the player in sort of a ranking:</p>\n\n<pre><code>import 'dart:async';\n\nimport 'package:flutter/material.dart';\n\nimport 'package:watten/model/statistik.dart';\nimport 'package:watten/database/database.dart';\nimport 'package:watten/statistik/deleteStatistikDialog.dart';\n\nFuture&lt;List&lt;Statistik&gt;&gt; fetchStatistik() async{\n  var dbHelper = DBHelper();\n  List&lt;Statistik&gt; statistik = await dbHelper.getStatistik();\n  print(\"Length: \"+statistik.length.toString()\");\n  return statistik;\n}\n\n\nclass Spielerstatistik extends StatefulWidget{\n  @override\n  State&lt;StatefulWidget&gt; createState() =&gt; _Spielerstatistik();\n}\n\nclass _Spielerstatistik extends State&lt;Spielerstatistik&gt;{\n\n  List statistik;\n  var dbHelper = DBHelper();\n  bool datenVorhanden = true;\n\n  @override\n  Widget build(BuildContext context) {\n\n    return Scaffold(\n      appBar: new AppBar(\n        backgroundColor: Color(0xFF9C27B0),\n        title: new Text(\"Ranking\")\n      ),\n      body: new FutureBuilder&lt;List&lt;Statistik&gt;&gt;(\n        future: fetchStatistik(),\n        builder: (context, snapshot){\n          if(snapshot.hasData){\n            return new Column(\n              children: &lt;Widget&gt;[\n                new Expanded(\n                    child: new ListView.builder(\n                        itemCount: snapshot.data.length,\n                        itemBuilder: (context, index) {\n\n                          return new Card(\n                            color: Colors.red,\n                            child: new Column(\n                              mainAxisSize: MainAxisSize.min,\n                              children: &lt;Widget&gt;[\n                                ListTile(\n                                    leading: platzNr\n                                        ? platzierung\n                                        : new Text(\"     ${index+1}\"),\n                                    title: new Row(\n                                      crossAxisAlignment: CrossAxisAlignment.center,\n                                      children: &lt;Widget&gt;[\n                                        new Container(\n                                          child: new Text(\n                                            snapshot.data[index].name,\n                                            style: TextStyle(color: Colors.black),\n                                            overflow: TextOverflow.ellipsis,\n                                          ),\n                                          width: 80.0,\n                                        ),\n                                        new Padding(padding: EdgeInsets.only(left: 45.0)),\n                                        new Container(\n                                          child: new Text(\n                                            snapshot.data[index].spielanzahl.toString(),\n                                            style: TextStyle(color: Colors.black),\n                                            overflow: TextOverflow.ellipsis,\n                                          ),\n                                          width: 55.0,\n                                        ),\n                                        new Container(\n                                          decoration: new BoxDecoration(\n                                              border: new Border(\n                                                  left: BorderSide(color: Colors.black26)\n                                              )\n                                          ),\n                                          height: 40.0,\n                                          margin: EdgeInsets.only(right: 22.0),\n                                        ),\n                                        new Container(\n                                          child: new Text(\n                                            snapshot.data[index].gewonneneSpiele.toString(),\n                                            style: TextStyle(color: textfarbe),\n                                            overflow: TextOverflow.ellipsis,\n                                          ),\n                                          width: 12.0,\n                                          margin: EdgeInsets.only(right: 20.0),\n                                        ),\n                                        new Container(\n                                          decoration: new BoxDecoration(\n                                              border: new Border(\n                                                  left: BorderSide(color: Colors.black26)\n                                              )\n                                          ),\n                                          height: 40.0,\n                                          margin: EdgeInsets.only(right: 8.0),\n                                        ),\n                                        new Container(\n                                          child: new Text(\n                                            snapshot.data[index].erfolgsquote.roundToDouble().toString() + \" %\",//Erfolgsquote\n                                            style: TextStyle(color: Colors.black),\n                                            overflow: TextOverflow.ellipsis,\n                                          ),\n                                          width: 65.0,\n                                        ),\n                                      ],\n                                    )\n                                )\n                              ],\n                            ),\n                          );\n                        }\n                    )\n                )\n              ],\n            );\n          } else if(snapshot.data.length == 0){\n\n            return new Text(\"No Data found!\");\n\n          }\n          return new Container(alignment: AlignmentDirectional.center,child: new CircularProgressIndicator(),);\n        }\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>And this is my code where I get the data for the database from:</p>\n\n<pre><code>Future&lt;List&lt;Statistik&gt;&gt; getStatistik() async{\n    var dbClient = await db;\n    List&lt;Map&gt; list = await dbClient.rawQuery('SELECT * FROM statistik');\n    List&lt;Statistik&gt; statistik = new List();\n    for(int i = 0; i&lt;list.length; i++){\n      statistik.add(new Statistik(name: list[i][\"$statistikName\"] , spielanzahl: list[i][\"$statistikSpielanzahl\"], gewonneneSpiele: list[i][\"$statistikWins\"], erfolgsquote: list[i][\"erfolgsquote\"]));\n    }\n    return statistik;\n  }\n</code></pre>\n\n<p>My thoughts are that the FutureBuilder is not even making a real call, because <code>print(\"Length: \"+statistik.length.toString()\");</code> that I built in, wasn't printing anything.</p>\n"}, {"tags": ["ios", "firebase", "dart", "flutter", "flutter-dependencies"], "comments": [{"owner": {"reputation": 360, "user_id": 8912043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8rpCU.jpg?s=128&g=1", "display_name": "Taz", "link": "https://stackoverflow.com/users/8912043/taz"}, "edited": false, "score": 0, "creation_date": 1556847844, "post_id": 51335251, "comment_id": 98575819, "body": "how about check this link?? <a href=\"https://stackoverflow.com/a/55962172/8912043\">stackoverflow.com/a/55962172/8912043</a> I hope to U solve it"}], "owner": {"reputation": 816, "user_id": 2877726, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10203852741787593/picture?type=large", "display_name": "Itzdsp", "link": "https://stackoverflow.com/users/2877726/itzdsp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 244, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1531859106, "creation_date": 1531542810, "last_edit_date": 1592644375, "question_id": 51335251, "link": "https://stackoverflow.com/questions/51335251/flutter-firebase-integration-leveled-db-file-not-found-error", "title": "flutter firebase integration leveled/db file not found error", "body": "<p>Am trying to build an iOS app with firebase database!\nits a flutter app.\nWhen I try to build the app for iOS device or simulator, am getting below error</p>\n<p>/Users/dsp/Development/mia_flutter/ios/Pods/FirebaseDatabase/Firebase/Database/third_party/Wrap-leveldb/APLevelDB.mm:54:9: fatal error: 'leveldb/db.h' file not found</p>\n<h1>import &quot;leveldb/db.h&quot;</h1>\n<p>if I change the leveldb to leveled-library its working fine. Its working fine in android:</p>\n<p>Below is My pub spec.yaml:</p>\n<p>dependencies:</p>\n<p>flutter:</p>\n<pre><code>   sdk: flutter\n</code></pre>\n<p>firebase_admob: ^0.5.4+1</p>\n<p>flutter_facebook_login: &quot;^1.1.1&quot;</p>\n<p>cloud_firestore: ^0.7.3</p>\n<p>firebase_auth: &quot;^0.5.11&quot;</p>\n"}, {"tags": ["class", "sockets", "callback", "dart"], "comments": [{"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1531524598, "post_id": 51333774, "comment_id": 89643216, "body": "Which callback do you want to pass to which class or function?"}, {"owner": {"reputation": 3671, "user_id": 8745788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTs7z.png?s=128&g=1", "display_name": "Mattia", "link": "https://stackoverflow.com/users/8745788/mattia"}, "reply_to_user": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1531525012, "post_id": 51333774, "comment_id": 89643303, "body": "@creativecreatormaybenot <code>socket.write</code> writes something to the socket and than the <code>dataHandler</code> process the output, I need to pass that as return value of <code>send</code>"}], "answers": [{"comments": [{"owner": {"reputation": 3671, "user_id": 8745788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTs7z.png?s=128&g=1", "display_name": "Mattia", "link": "https://stackoverflow.com/users/8745788/mattia"}, "edited": false, "score": 0, "creation_date": 1531555480, "post_id": 51335983, "comment_id": 89647838, "body": "Thanks for the answer but it gives me this error: <code>Unhandled exception: Bad state: No element #0      ListQueue.removeFirst (dart:collection&#47;queue.dart:793:25) #1      TeamSpeak3._dataHandler (file:&#47;&#47;&#47;D:&#47;Documents&#47;PhpstormProjects&#47;TS3Bot&#47;lib&#47;ts3.dart:6&zwnj;&#8203;7:16)</code>"}, {"owner": {"reputation": 3671, "user_id": 8745788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTs7z.png?s=128&g=1", "display_name": "Mattia", "link": "https://stackoverflow.com/users/8745788/mattia"}, "edited": false, "score": 0, "creation_date": 1531556650, "post_id": 51335983, "comment_id": 89648082, "body": "Indeed after debugging: <code>if (_queue.isEmpty){print(&quot;Empty&quot;) }</code> it shows that it&#39;s empty"}, {"owner": {"reputation": 3671, "user_id": 8745788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTs7z.png?s=128&g=1", "display_name": "Mattia", "link": "https://stackoverflow.com/users/8745788/mattia"}, "edited": false, "score": 0, "creation_date": 1531557452, "post_id": 51335983, "comment_id": 89648243, "body": "nvm I solved that the issue was that connect too trigger an answer from the server."}, {"owner": {"reputation": 3671, "user_id": 8745788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTs7z.png?s=128&g=1", "display_name": "Mattia", "link": "https://stackoverflow.com/users/8745788/mattia"}, "edited": false, "score": 0, "creation_date": 1531744482, "post_id": 51335983, "comment_id": 89696010, "body": "Hi again, I&#39;m having issue calling a function that will trigger another server response inside the data handler ie: Client send to the bot <code>!help</code> the bot should reply with <code>I&#39;m here to help you</code>. But the behavior it&#39;s this: if I call another function inside the call (to get more client info) the first reply get stuck, the second send the reply twice and from the third are fine. The full sourcecode:  <a href=\"https://github.com/Hexer10/TeamSpeak3-Library/blob/master/bin/main.dart#L39\" rel=\"nofollow noreferrer\">github.com/Hexer10/TeamSpeak3-Library/blob/master/bin/&hellip;</a>"}], "tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": true, "score": 1, "last_activity_date": 1531550469, "creation_date": 1531550469, "answer_id": 51335983, "question_id": 51333774, "link": "https://stackoverflow.com/questions/51333774/handling-callbacks-in-dart-classes/51335983#51335983", "title": "Handling callbacks in Dart classes", "body": "<p>First of all, you don't know for sure that the entire response to your send arrives in one packet, so you might not have the entire response.\nLet's assume that you do (otherwise you'll have to do more processing in <code>dataHandler</code> to collect the response before delivering it).</p>\n\n<p>The canonical way to allow a callback to be called when something has happened in the future, is to return a <code>Future</code>. You will also need a way to complete that future, so you create a <code>Completer</code> and store it until you need it. Since you can probably do more sends, you need to remember more than one completer. So, all in all, I'd write this as:</p>\n\n<pre><code>Queue&lt;Completer&lt;String&gt;&gt; _queue = Queue();\n\nFuture&lt;String&gt; send(String cmd){\n    socket.writeln(cmd);\n    var completer = new Completer&lt;String&gt;();\n    _queue.add(completer);\n    return completer.future;\n}\n\nvoid _dataHandler(data){\n    var reply = new String.fromCharCodes(data).trim();\n    // Add some sanity checking here. Make sure you have the entire response before\n    // executing the code below.\n    _queue.removeFirst().complete(reply);\n}\n</code></pre>\n\n<p>(I made <code>_dataHandler</code> private because you probably don't want the user calling <code>send</code> to alse be able to call <code>dataHandler</code>).</p>\n"}], "owner": {"reputation": 3671, "user_id": 8745788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTs7z.png?s=128&g=1", "display_name": "Mattia", "link": "https://stackoverflow.com/users/8745788/mattia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 991, "favorite_count": 0, "accepted_answer_id": 51335983, "answer_count": 1, "score": 0, "last_activity_date": 1531550469, "creation_date": 1531522727, "question_id": 51333774, "link": "https://stackoverflow.com/questions/51333774/handling-callbacks-in-dart-classes", "title": "Handling callbacks in Dart classes", "body": "<p>My dart application it's listening to a socket I want to return the socket reply on the <code>command(...)</code> function after it is processed in the <code>dataHandler</code> event.</p>\n\n<pre><code>import 'dart:io';\nimport 'dart:async';\n\nclass TeamSpeak3{\n\n    Socket socket;\n    String command;\n\n    String _ip;\n    int _port;\n\n\n\n    TeamSpeak3(String ip, int port) {\n        this._ip = ip;\n        this._port = port;\n    }\n\n    Future&lt;int&gt; connect() async {\n        await Socket.connect(_ip, _port)\n            .then((Socket sock) {\n            socket = sock;\n            socket.listen(\n                dataHandler,\n                onError: errorHandler,\n                onDone: doneHandler,\n                cancelOnError: false);\n        }).catchError((AsyncError e) {\n            print(\"Connection failed: $e\");\n            exit(1);\n        });\n        socket.done;\n        return 1;\n    }\n\n\n    void auth(String name, String pass){\n        socket.write(\"login $name $pass\\n\");\n    }\n\n    void send(String cmd){\n        command = cmd;\n        socket.write('$cmd\\n');\n        //return reply from dataHandler\n    }\n\n    void dataHandler(data){\n        var reply = new String.fromCharCodes(data).trim();\n        //return $reply on the send function\n    }\n\n    void errorHandler(error, StackTrace trace){\n        print(error);\n    }\n\n    void doneHandler(){\n        print(\"Connection termiated!\");\n        socket.destroy();\n        exit(0);\n    }\n}\n</code></pre>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 18691, "user_id": 2461957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba93508b1cdbe37fd102cff4982e0d47?s=128&d=identicon&r=PG", "display_name": "boformer", "link": "https://stackoverflow.com/users/2461957/boformer"}, "edited": false, "score": 0, "creation_date": 1531527286, "post_id": 51333474, "comment_id": 89643641, "body": "You may want to make the title a bit more specific: &quot;How to handle navigation after login/logout using BLoC&quot; or something similar."}, {"owner": {"reputation": 2503, "user_id": 9185192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w6wZT.png?s=128&g=1", "display_name": "Pedro Massango", "link": "https://stackoverflow.com/users/9185192/pedro-massango"}, "edited": false, "score": 0, "creation_date": 1563673636, "post_id": 51333474, "comment_id": 100775906, "body": "Maybe you want something like this: <a href=\"https://dev.to/pedromassango/flutter-bloc-a-better-way-to-handle-navigation-4fig\" rel=\"nofollow noreferrer\">dev.to/pedromassango/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1951, "user_id": 3176232, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1630352659/picture?type=large", "display_name": "Eike", "link": "https://stackoverflow.com/users/3176232/eike"}, "edited": false, "score": 0, "creation_date": 1535640240, "post_id": 51334166, "comment_id": 91150216, "body": "You could provide the <code>home</code> property to avoid the assert"}, {"owner": {"reputation": 18691, "user_id": 2461957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba93508b1cdbe37fd102cff4982e0d47?s=128&d=identicon&r=PG", "display_name": "boformer", "link": "https://stackoverflow.com/users/2461957/boformer"}, "reply_to_user": {"reputation": 1951, "user_id": 3176232, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1630352659/picture?type=large", "display_name": "Eike", "link": "https://stackoverflow.com/users/3176232/eike"}, "edited": false, "score": 0, "creation_date": 1535643687, "post_id": 51334166, "comment_id": 91152403, "body": "I think that would again trigger other assertions or cause a navigator to be generated"}], "tags": [], "owner": {"reputation": 18691, "user_id": 2461957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba93508b1cdbe37fd102cff4982e0d47?s=128&d=identicon&r=PG", "display_name": "boformer", "link": "https://stackoverflow.com/users/2461957/boformer"}, "is_accepted": true, "score": 10, "last_activity_date": 1535370105, "last_edit_date": 1535370105, "creation_date": 1531527205, "answer_id": 51334166, "question_id": 51333474, "link": "https://stackoverflow.com/questions/51333474/right-way-to-handle-navigation-using-bloc/51334166#51334166", "title": "Right way to handle navigation using BLoC", "body": "<p><strong>Edit: After a few months with this solution in place, I noticed that there are a few problems with it:</strong></p>\n\n<ol>\n<li><strong>Android hardware back button does not work</strong></li>\n<li>The app resets when you toggle \"inspect\" mode.</li>\n<li>No transitions possible</li>\n<li>No guarantee that no forbidden route is displayed</li>\n</ol>\n\n<p>So I no longer recommend using this approach!</p>\n\n<hr>\n\n<p>For normal user-initiated navigation, you don't need the BLoC pattern at all. Just use the <code>Navigator</code>.</p>\n\n<p>Login is a special case. Following the BLoC pattern, it would make sense to provide a <code>isAuthenticated</code> stream:</p>\n\n<pre><code>abstract class MyBloc {\n  Stream&lt;bool&gt; get isAuthenticated;\n}\n</code></pre>\n\n<p>Your app will probably have 2 different named route trees: One for logged in users, and one for anonymous users:</p>\n\n<pre><code>final Map&lt;String, WidgetBuilder&gt; anonymousRoutes = {\n  '/': (context) =&gt; new LoginScreen(), // default for anon\n  '/register': (context) =&gt; new RegisterScreen(),\n};\n\nfinal Map&lt;String, WidgetBuilder&gt; authenticatedRoutes = {\n  '/': (context) =&gt; new HomeScreen(), // default for logged in\n  '/savings': (context) =&gt; new SavingsScreen(),\n  // ...\n};\n</code></pre>\n\n<p>Usually the <code>Navigator</code> and its named routes are tightly coupled to the <code>MaterialApp</code>, but you can also define your own that is rebuilt when the <code>isAuthenticated</code> stream is updated:</p>\n\n<pre><code>class MyApp extends StatelessWidget {\n  const MyApp({Key key, this.bloc}) : super(key: key);\n\n  final MyBloc bloc;\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      builder: (BuildContext context, Widget child) {\n        return StreamBuilder&lt;bool&gt;(\n          stream: bloc.isAuthenticated,\n          builder: (BuildContext context, AsyncSnapshot&lt;bool&gt; snapshot) {\n            if (!snapshot.hasData) {\n              return Text('loading...');\n            }\n\n            bool isAuthenticated = snapshot.data;\n            return _buildNavigator(isAuthenticated);\n          },\n        );\n      },\n    );\n  }\n}\n\nNavigator _buildNavigator(bool isAuthenticated) {\n  // different route tree and different default route depending on auth state\n  final routes = isAuthenticated ? authenticatedRoutes : anonymousRoutes;\n\n  return Navigator(\n    key: new ValueKey(isAuthenticated),\n    onGenerateRoute: (RouteSettings settings) {\n      final name = settings.name;\n      return new MaterialPageRoute(\n        builder: routes[name],\n        settings: settings,\n      );\n    },\n    onUnknownRoute: (RouteSettings settings) {\n      throw Exception('unknown route');\n    },\n  );\n}\n</code></pre>\n\n<hr>\n\n<p>Sadly right now (2018-07-14) <a href=\"https://github.com/flutter/flutter/issues/18904\" rel=\"noreferrer\">there are a 2 conflicting asserts</a> in the Flutter code which you have to remove to make the code above work (you can just edit it with your IDE):</p>\n\n<p>Line 93 and 96 in <code>packages\\flutter\\lib\\src\\widgets\\app.dart</code></p>\n\n<pre><code>//assert(navigatorObservers != null),\n//assert(onGenerateRoute != null || navigatorObservers == const &lt;NavigatorObserver&gt;[]),\n</code></pre>\n"}], "owner": {"reputation": 938, "user_id": 3820641, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/58350e62b68a86f07c0400096d10706c?s=128&d=identicon&r=PG&f=1", "display_name": "harisk92", "link": "https://stackoverflow.com/users/3820641/harisk92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5614, "favorite_count": 5, "accepted_answer_id": 51334166, "answer_count": 1, "score": 14, "last_activity_date": 1568809676, "creation_date": 1531520311, "question_id": 51333474, "link": "https://stackoverflow.com/questions/51333474/right-way-to-handle-navigation-using-bloc", "title": "Right way to handle navigation using BLoC", "body": "<p>Hello guys I'm using BLoC for app I'm currently developing but there some cases which I'm clueless like when you do login you fire API call and wait for result naturally I would send loading state and show loader but after \nthat finishes how to handle for example navigating to different screen.\nI've currently have something like this</p>\n\n<pre><code>typedef void LoginSuccessCallback();\n    class LoginBloc(){\n    LoginBloc(Api this.api,LoginSuccessCallback loginSuccesCallback){\n      _login.switchMap((ev) =&gt; api.login(ev.payload.email,ev.payload.password)).listen((_) =&gt; loginSuccessCallback);\n     }\n    }\n</code></pre>\n\n<p>But I'm sure there is much cleaner way for handling this I've tried to search some samples which have something similar but couldn't find anything.</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 331, "user_id": 1389039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0c936b44b67913c902d46b3dcc17e34?s=128&d=identicon&r=PG", "display_name": "mastohhh", "link": "https://stackoverflow.com/users/1389039/mastohhh"}, "is_accepted": true, "score": 27, "last_activity_date": 1556118504, "creation_date": 1556118504, "answer_id": 55833281, "question_id": 51333105, "link": "https://stackoverflow.com/questions/51333105/flutter-add-box-shadow-to-a-transparent-container/55833281#55833281", "title": "Flutter: Add box shadow to a transparent Container", "body": "<p>As you can see in the <code>BoxShadow</code> class, they subclass the <code>toPaint()</code> method like this :</p>\n\n<pre><code>Paint toPaint() {\n  final Paint result = Paint()\n    ..color = color\n    ..maskFilter = MaskFilter.blur(BlurStyle.normal, blurSigma);\n  assert(() {\n    if (debugDisableShadows)\n      result.maskFilter = null;\n    return true;\n  }());\n  return result;\n}\n</code></pre>\n\n<p>... with <code>BlurStyle.normal</code> instead of <code>BlurStyle.outer</code> as we wanted.</p>\n\n<p>Let's just create a custom <code>BoxShadow</code> that takes the <code>BlurStyle</code> as parameter.</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nclass CustomBoxShadow extends BoxShadow {\n  final BlurStyle blurStyle;\n\n  const CustomBoxShadow({\n    Color color = const Color(0xFF000000),\n    Offset offset = Offset.zero,\n    double blurRadius = 0.0,\n    this.blurStyle = BlurStyle.normal,\n  }) : super(color: color, offset: offset, blurRadius: blurRadius);\n\n  @override\n  Paint toPaint() {\n    final Paint result = Paint()\n      ..color = color\n      ..maskFilter = MaskFilter.blur(this.blurStyle, blurSigma);\n    assert(() {\n      if (debugDisableShadows)\n        result.maskFilter = null;\n      return true;\n    }());\n    return result;\n  }\n}\n</code></pre>\n\n<p>Now we can use it like this :</p>\n\n<pre><code>new CustomBoxShadow(\n  color: Colors.black,\n  offset: new Offset(5.0, 5.0),\n  blurRadius: 5.0,\n  blurStyle: BlurStyle.outer\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1331, "user_id": 7639019, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3gzc1.jpg?s=128&g=1", "display_name": "Seddiq Sorush", "link": "https://stackoverflow.com/users/7639019/seddiq-sorush"}, "is_accepted": false, "score": 3, "last_activity_date": 1606271041, "last_edit_date": 1606271041, "creation_date": 1577596536, "answer_id": 59517014, "question_id": 51333105, "link": "https://stackoverflow.com/questions/51333105/flutter-add-box-shadow-to-a-transparent-container/59517014#59517014", "title": "Flutter: Add box shadow to a transparent Container", "body": "<pre><code>Container(\nheight: 200.0,\ndecoration: BoxDecoration(\n    boxShadow: [\n      BoxShadow(\n        color: Colors.black,\n        blurRadius: 10.0, // soften the shadow\n        spreadRadius: 7.0, //extend the shadow\n        offset: Offset(\n          5.0, // Move to right 10  horizontally\n          5.0, // Move to bottom 5 Vertically\n        ),\n      )\n    ],\n),\nchild: Text(&quot; \ud83c\udf39&quot;, style:TextStyle(fontSize:30)),\n</code></pre>\n<p>);</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 12959495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bec86eb5d880d83291b5ba67bff2c19d?s=128&d=identicon&r=PG&f=1", "display_name": "Mahesh Gv", "link": "https://stackoverflow.com/users/12959495/mahesh-gv"}, "is_accepted": false, "score": 0, "last_activity_date": 1583580683, "creation_date": 1583580683, "answer_id": 60577081, "question_id": 51333105, "link": "https://stackoverflow.com/questions/51333105/flutter-add-box-shadow-to-a-transparent-container/60577081#60577081", "title": "Flutter: Add box shadow to a transparent Container", "body": "<p>This is working for everyone         </p>\n\n<pre><code>  Container(\n    height: 210.0,\n    decoration: BoxDecoration(\n        boxShadow: [\n          new BoxShadow(\n            color: Colors.grey,\n            blurRadius: 10.0,\n          ),],\n\n    ),\n  child: ClipPath(\n    clipper: ShapeBorderClipper(\n        shape: RoundedRectangleBorder(\n            borderRadius: BorderRadius.all(Radius.circular(10))\n        )\n    ),\n    child: Container(\n      height: 200.0,\n        decoration: BoxDecoration(\n            color: Colors.white,\n            border: Border(\n                left: BorderSide(\n                    color: Theme.of(context).primaryColor,\n                    width: 7.0\n                )\n            )\n        ),\n      child: Text(\"kokoko\"),\n    ),\n  ),\n);\n</code></pre>\n"}], "owner": {"reputation": 183, "user_id": 10078108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tN2_3CY1BFk/AAAAAAAAAAI/AAAAAAAACfM/Z9-a1UFNfMc/photo.jpg?sz=128", "display_name": "bec", "link": "https://stackoverflow.com/users/10078108/bec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39056, "favorite_count": 8, "accepted_answer_id": 55833281, "answer_count": 3, "score": 18, "last_activity_date": 1606271041, "creation_date": 1531517810, "question_id": 51333105, "link": "https://stackoverflow.com/questions/51333105/flutter-add-box-shadow-to-a-transparent-container", "title": "Flutter: Add box shadow to a transparent Container", "body": "<p>I'm trying to make a widget that renders one of the circles shown in this <a href=\"https://i.stack.imgur.com/JCDVj.png\" rel=\"noreferrer\">image</a>. It is a transparent circle with a box-shadow. The circle should show whichever color or background image that is applied to the parent container. The circle is transparent but what I see is <a href=\"https://i.stack.imgur.com/I10D0.png\" rel=\"noreferrer\">this</a>: a black box shadow and not the background color of the parent. Any suggestions?</p>\n\n<p>Here is what I have so far:</p>\n\n<pre><code>class TransParentCircle extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n        child: new Center(\n          child: new Container(\n            decoration: new BoxDecoration(\n              border: new Border.all(width: 1.0, color: Colors.black),\n              shape: BoxShape.circle,\n              color: Colors.transparent,\n              boxShadow: &lt;BoxShadow&gt;[\n                BoxShadow(\n                  color: Colors.black,\n                  offset: Offset(1.0, 6.0),\n                  blurRadius: 40.0,\n                ),\n              ],\n            ),\n            padding: EdgeInsets.all(16.0),\n          ),\n        ),\n        width: 320.0,\n        height: 240.0,\n        margin: EdgeInsets.only(bottom: 16.0));\n  }\n}\n</code></pre>\n"}, {"tags": ["dart", "telnet", "teamspeak"], "comments": [{"owner": {"reputation": 2432, "user_id": 4700841, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8ab51f7e9a70996576549b5c611a2833?s=128&d=identicon&r=PG&f=1", "display_name": "Persistence", "link": "https://stackoverflow.com/users/4700841/persistence"}, "edited": false, "score": 0, "creation_date": 1531507638, "post_id": 51331120, "comment_id": 89638022, "body": "You really should reconsider using telnet in 2018 IMHO..."}, {"owner": {"reputation": 3671, "user_id": 8745788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTs7z.png?s=128&g=1", "display_name": "Mattia", "link": "https://stackoverflow.com/users/8745788/mattia"}, "reply_to_user": {"reputation": 2432, "user_id": 4700841, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8ab51f7e9a70996576549b5c611a2833?s=128&d=identicon&r=PG&f=1", "display_name": "Persistence", "link": "https://stackoverflow.com/users/4700841/persistence"}, "edited": false, "score": 0, "creation_date": 1531507755, "post_id": 51331120, "comment_id": 89638070, "body": "@JamesHughes teamspeak server query supports only that protocol"}, {"owner": {"reputation": 2432, "user_id": 4700841, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8ab51f7e9a70996576549b5c611a2833?s=128&d=identicon&r=PG&f=1", "display_name": "Persistence", "link": "https://stackoverflow.com/users/4700841/persistence"}, "edited": false, "score": 0, "creation_date": 1531507926, "post_id": 51331120, "comment_id": 89638135, "body": "It&#39;s not using telnet mate, it&#39;s using any character mode terminal... You should just be able to shoot commands at it&#39;s TCP port if you format it right. Take a look at this <a href=\"http://media.teamspeak.com/ts3_literature/TeamSpeak%203%20Server%20Query%20Manual.pdf\" rel=\"nofollow noreferrer\">media.teamspeak.com/ts3_literature/&hellip;</a>"}, {"owner": {"reputation": 2432, "user_id": 4700841, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8ab51f7e9a70996576549b5c611a2833?s=128&d=identicon&r=PG&f=1", "display_name": "Persistence", "link": "https://stackoverflow.com/users/4700841/persistence"}, "edited": false, "score": 0, "creation_date": 1531507990, "post_id": 51331120, "comment_id": 89638153, "body": "Also, if you could use a .NET language rather than dash there are a tonne of libraries out there to help"}, {"owner": {"reputation": 3671, "user_id": 8745788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTs7z.png?s=128&g=1", "display_name": "Mattia", "link": "https://stackoverflow.com/users/8745788/mattia"}, "reply_to_user": {"reputation": 2432, "user_id": 4700841, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8ab51f7e9a70996576549b5c611a2833?s=128&d=identicon&r=PG&f=1", "display_name": "Persistence", "link": "https://stackoverflow.com/users/4700841/persistence"}, "edited": false, "score": 0, "creation_date": 1531508631, "post_id": 51331120, "comment_id": 89638417, "body": "@JamesHughes What do you mean saying: <code>You should just be able to shoot commands at it&#39;s TCP port if you format it right.</code> How should I format the commands? to send and recive the replies(when I register the events)"}, {"owner": {"reputation": 2432, "user_id": 4700841, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8ab51f7e9a70996576549b5c611a2833?s=128&d=identicon&r=PG&f=1", "display_name": "Persistence", "link": "https://stackoverflow.com/users/4700841/persistence"}, "edited": false, "score": 0, "creation_date": 1531508673, "post_id": 51331120, "comment_id": 89638434, "body": "Honestly mate, I don&#39;t know Dash or Teamspeak, I just had a glance at the docs. Good luck!"}, {"owner": {"reputation": 32377, "user_id": 25124, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/4aec6b9ca532bc29a9c23e5147efa2fa?s=128&d=identicon&r=PG", "display_name": "Danny Tuppeny", "link": "https://stackoverflow.com/users/25124/danny-tuppeny"}, "edited": false, "score": 0, "creation_date": 1531517224, "post_id": 51331120, "comment_id": 89641395, "body": "It&#39;s not clear what the current issue is after your edits, but if do you need a newline after sending <code>help login</code>?"}], "owner": {"reputation": 3671, "user_id": 8745788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTs7z.png?s=128&g=1", "display_name": "Mattia", "link": "https://stackoverflow.com/users/8745788/mattia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 366, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1531520247, "creation_date": 1531507186, "last_edit_date": 1531520247, "question_id": 51331120, "link": "https://stackoverflow.com/questions/51331120/telnet-protocol-with-dart", "title": "Telnet protocol with dart", "body": "<p>Is there any way to establish a telnet connection in dart?</p>\n\n<p>Basically what I want to achive it's to create a <a href=\"http://media.teamspeak.com/ts3_literature/TeamSpeak%203%20Server%20Query%20Manual.pdf\" rel=\"nofollow noreferrer\">teamspeak 3</a> bot using Dart.</p>\n\n<p>I tought about using socket with I have no idea about how to go on.</p>\n\n<p>EDIT: I managed to estabilish a socket connection to the ts3 but I cannot make dart to keep the connection open:</p>\n\n<p>EDIT: Managed to keep the connection open</p>\n\n<p>EDIT: Now the commands are sent but the spaces are not recognized.</p>\n\n<p>EDIT: <code>\\u0020</code> made the space work but the param(login) it's not read</p>\n\n<p>EDIT: Finally all it's working, <code>\\n</code> was required at the string end.</p>\n\n<pre><code>import 'dart:io';\nimport 'dart:async';\n\nconst String user = \"serveradmin\";\nconst String pass = \"------\";\n\nSocket socket;\n\nvoid main() async {\n    await Socket.connect(\"localhost\", 10011)\n        .then((Socket sock) {\n        socket = sock;\n        socket.listen(dataHandler,\n            onError: errorHandler,\n            onDone: doneHandler,\n            cancelOnError: false);\n    })\n        .catchError((AsyncError e) {\n        print(\"Unable to connect: $e\");\n        exit(1);\n    });\n\n    socket.write('help login\\n');\n    print(\"End main\");\n\n}\n\nvoid dataHandler(data){\n    print(\"Data Handler!\");\n    print(\" ${new String.fromCharCodes(data).trim()}\");\n    socket.write(new String.fromCharCodes(data).trim() + 'help login');\n}\n\nvoid errorHandler(error, StackTrace trace){\n    print(error);\n}\n\nvoid doneHandler(){\n    print(\"Done Handler!\");\n    socket.destroy();\n    exit(0);\n}\n</code></pre>\n\n<p>Also seems like to login command it's not sent.</p>\n"}, {"tags": ["syntax", "dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 3108, "user_id": 5040941, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/291199b5e862bf2befb8ee158c6e544e?s=128&d=identicon&r=PG&f=1", "display_name": "3-14159265358979323846264", "link": "https://stackoverflow.com/users/5040941/3-14159265358979323846264"}, "is_accepted": false, "score": 0, "last_activity_date": 1531504249, "creation_date": 1531504249, "answer_id": 51330444, "question_id": 51330375, "link": "https://stackoverflow.com/questions/51330375/meaning-of-after-class-extend-in-dart/51330444#51330444", "title": "meaning of &lt;&gt; after class extend in dart", "body": "<p>I believe State&lt;> is a generic class, and Random words is a generic argument for that class. It basically means that you are tailoring the inherited RandomWordsState class so it is specialised for dealing with RandomWords.</p>\n\n<p>Further reading ... <a href=\"https://en.m.wikipedia.org/wiki/Generic_programming\" rel=\"nofollow noreferrer\">https://en.m.wikipedia.org/wiki/Generic_programming</a></p>\n"}], "owner": {"reputation": 836, "user_id": 858040, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/nWDeU.jpg?s=128&g=1", "display_name": "iLevi", "link": "https://stackoverflow.com/users/858040/ilevi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 0, "closed_date": 1531508124, "answer_count": 1, "score": 0, "last_activity_date": 1531504249, "creation_date": 1531503941, "question_id": 51330375, "link": "https://stackoverflow.com/questions/51330375/meaning-of-after-class-extend-in-dart", "closed_reason": "Duplicate", "title": "meaning of &lt;&gt; after class extend in dart", "body": "<p>I am reading the <a href=\"https://flutter.io/get-started/codelab/#step-3-add-a-stateful-widget\" rel=\"nofollow noreferrer\">beginner tutorial of flutter</a>, and when I found the <code>&lt;RandomWords&gt;</code> part I don't know what it really means.</p>\n\n<pre><code>class RandomWordsState extends State&lt;RandomWords&gt; {...}\n</code></pre>\n"}, {"tags": ["dart", "flutter"], "owner": {"reputation": 13032, "user_id": 230340, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3591e9adea97943ab462c84b0745e110?s=128&d=identicon&r=PG", "display_name": "Zippo", "link": "https://stackoverflow.com/users/230340/zippo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1531565796, "creation_date": 1531502085, "last_edit_date": 1531565796, "question_id": 51329981, "link": "https://stackoverflow.com/questions/51329981/accessing-the-routes-transition-animation-from-a-widget", "title": "Accessing the route&#39;s transition animation from a widget?", "body": "<p>I have two pages, both with their own Scaffold and a slightly different AppBar. I use <code>Navigator.push</code> to switch between them.</p>\n\n<p>The second page is a popup which overlays the first page by having a transparent Scaffold with body of about 50% screen height. Here's how it looks:</p>\n\n<p><a href=\"https://i.stack.imgur.com/8sxy4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8sxy4.png\" alt=\"The second page\"></a></p>\n\n<p>In the first page, the red curtain ends just below the AppBar. When you open the second page, the curtain animates down to the screenshot above. I achieved this by starting the down animation in <code>initState</code> of the second screen.</p>\n\n<p>Now, I want the opposite animation of the curtain rolling back up when you leave the second page. How would I do that? Is there a way to animate widgets (not just fade/slide whole pages) when you enter/leave the page?</p>\n\n<p>Can I access the <code>Route</code>'s transition animation (the same one that is passed to <code>Route.buildTransitions</code>) and use it to animate widgets inside the page itself?</p>\n"}, {"tags": ["firebase", "asynchronous", "dart", "google-cloud-firestore", "flutter"], "comments": [{"owner": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "edited": false, "score": 0, "creation_date": 1531537825, "post_id": 51329746, "comment_id": 89645013, "body": "Maybe you could try a nested get like <a href=\"https://github.com/swat-cat/booker/blob/44ca9aa2ede23bb9a51535e39f6e16c30e308fda/lib/services/activities.dart#L28\" rel=\"nofollow noreferrer\">github.com/swat-cat/booker/blob/&hellip;</a> I am not an expert, but this might help."}], "answers": [{"tags": [], "owner": {"reputation": 9818, "user_id": 272539, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/451c927ee96675fa05751927524d9b45?s=128&d=identicon&r=PG", "display_name": "Amsakanna", "link": "https://stackoverflow.com/users/272539/amsakanna"}, "is_accepted": false, "score": 0, "last_activity_date": 1551762141, "creation_date": 1551762141, "answer_id": 54995705, "question_id": 51329746, "link": "https://stackoverflow.com/questions/51329746/flutter-getting-data-from-firestore-in-a-loop/54995705#54995705", "title": "Flutter - Getting data from firestore in a loop", "body": "<p>You're missing a return statement after <code>final user = await doc[\"user\"].get();</code></p>\n\n<p><br/></p>\n\n<hr>\n\n<p><em>This could become a lot easier if you use <a href=\"https://www.dartlang.org/tutorials/language/streams\" rel=\"nofollow noreferrer\">Streams</a> or fancy <a href=\"https://pub.dartlang.org/packages/rxdart\" rel=\"nofollow noreferrer\">rxdart</a></em></p>\n"}], "owner": {"reputation": 173, "user_id": 2968494, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1556725772/picture?type=large", "display_name": "N&#233;odigi", "link": "https://stackoverflow.com/users/2968494/n%c3%a9odigi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2111, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1551762141, "creation_date": 1531500949, "question_id": 51329746, "link": "https://stackoverflow.com/questions/51329746/flutter-getting-data-from-firestore-in-a-loop", "title": "Flutter - Getting data from firestore in a loop", "body": "<p>So basically I have a collection a User and within each user there is a subcollection for the pending friend request that the user have, something like that:</p>\n\n<p>/users/[auto-id]/friend_requests/[auto-id]/{user: ref to another user}</p>\n\n<p>But one user can obviously have multiple requests at the same time and I have an hard time to get the data correctly.</p>\n\n<p>What I'm correctly trying to do is to get a list of user that are in the subcollection \"friend_requests\":</p>\n\n<pre><code>_loadFriendRequests() async {\n    try {\n      this._users.addAll(await _dataService.fetchFriend());\n    } catch (e, stackTrace) {\n      printException(e, stackTrace, \"Error loading friends\");\n    }\n}\n</code></pre>\n\n<p>And in dataService:</p>\n\n<pre><code>Future&lt;List&lt;User&gt;&gt; fetchFriend() async {\n    final querySnapshot =\n        await _currentUserDoc.reference.collection(\"friend_requests\").getDocuments();\n\n    return await Future.wait(querySnapshot.documents.map((doc) async {\n      final user = await doc[\"user\"].get();\n      User(\n        id: user[\"id\"],\n        name: user[\"name\"],\n      );\n    }).toList(growable: false));\n  }\n</code></pre>\n\n<p>This is just the last thing that I tried but I tried in so many ways, with Future.wait() too, with/without async/await, etc\nI just can't seem to make it work...</p>\n"}, {"tags": ["intellij-idea", "dart", "angular-dart"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1531506940, "post_id": 51329551, "comment_id": 89637770, "body": "Usually restarting the IDE fixes that. Haven&#39;t seen this happen often."}, {"owner": {"reputation": 162, "user_id": 2241579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UK6Hn.jpg?s=128&g=1", "display_name": "Aggieborn", "link": "https://stackoverflow.com/users/2241579/aggieborn"}, "edited": false, "score": 1, "creation_date": 1531510310, "post_id": 51329551, "comment_id": 89639069, "body": "It sounds like the move might have changed some references. Have you tried running the pub commands from a terminal or command prompt? It could be something messed up with IntelliJ.  By &quot;moved the whole dart directory&quot;, are you referring to moving the location of the dart SDK or the your AngularDart project?"}, {"owner": {"reputation": 103, "user_id": 7156426, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TO0Ks.jpg?s=128&g=1", "display_name": "cyluxx", "link": "https://stackoverflow.com/users/7156426/cyluxx"}, "edited": false, "score": 0, "creation_date": 1531921171, "post_id": 51329551, "comment_id": 89777889, "body": "I was referring to my project. It seems that it has something to do with IntelliJ. Opened the project in some other IDEs and it&#39;s working fine. Will analyse it further and maybe post an issue to JetBrains later."}], "answers": [{"tags": [], "owner": {"reputation": 155, "user_id": 8959458, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HIV2tROg84Y/AAAAAAAAAAI/AAAAAAAABP8/H3eGF5qwiOQ/photo.jpg?sz=128", "display_name": "Andrew Lorenzen", "link": "https://stackoverflow.com/users/8959458/andrew-lorenzen"}, "is_accepted": false, "score": 2, "last_activity_date": 1531520766, "creation_date": 1531520766, "answer_id": 51333540, "question_id": 51329551, "link": "https://stackoverflow.com/questions/51329551/how-to-fix-target-of-uri-does-not-exist-in-general/51333540#51333540", "title": "How to fix &#39;target of URI does not exist&#39; in general?", "body": "<p>If you are using angular v5, then this is probably referring to a generated file, such as <code>foo.template.dart</code>. In that case, you will need to do an initial build via <code>webdev build</code> or <code>webdev serve</code> so that those files can be generated.</p>\n\n<p>Once you've done the build, the analyzer should detect them. You may need to restart the analyzer in intellij if it doesn't update automatically.</p>\n"}], "owner": {"reputation": 103, "user_id": 7156426, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TO0Ks.jpg?s=128&g=1", "display_name": "cyluxx", "link": "https://stackoverflow.com/users/7156426/cyluxx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 736, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531520766, "creation_date": 1531500042, "question_id": 51329551, "link": "https://stackoverflow.com/questions/51329551/how-to-fix-target-of-uri-does-not-exist-in-general", "title": "How to fix &#39;target of URI does not exist&#39; in general?", "body": "<p>I'm currently working on a Angular Dart project. It seems that packages in general can't be found. I've tried several combinations of pub commands (get, upgrade, repair cache), but none of them worked.</p>\n\n<p>I'm not looking for the solution of a specific package, but for tips how to approach this problem in general. So: <strong>What are crucial steps to take / places to look at?</strong> </p>\n\n<p>I should mention: I'm currently working with IntelliJ IDEA, the Dart plugin and sdk are setup correctly, but the dart section of my project went completely red, after I <strong>moved</strong> the whole dart directory.</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 1930, "user_id": 5877937, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/IFiok.jpg?s=128&g=1", "display_name": "Dhaval", "link": "https://stackoverflow.com/users/5877937/dhaval"}, "edited": false, "score": 0, "creation_date": 1531500098, "post_id": 51329270, "comment_id": 89634696, "body": "You are getting an error because of this line: &quot;String storeNumber = storeDate.storeNumber;&quot;. As you are calling getter on the null storeDate object. You can use the approach which I have shown in the answer."}], "answers": [{"comments": [{"owner": {"reputation": 4783, "user_id": 7561129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SeoPr.png?s=128&g=1", "display_name": "Zeusox", "link": "https://stackoverflow.com/users/7561129/zeusox"}, "edited": false, "score": 0, "creation_date": 1531500382, "post_id": 51329472, "comment_id": 89634832, "body": "Can I still refer to the entity class StoreData ? Or you mean just use field variables from within the main class"}, {"owner": {"reputation": 1930, "user_id": 5877937, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/IFiok.jpg?s=128&g=1", "display_name": "Dhaval", "link": "https://stackoverflow.com/users/5877937/dhaval"}, "reply_to_user": {"reputation": 4783, "user_id": 7561129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SeoPr.png?s=128&g=1", "display_name": "Zeusox", "link": "https://stackoverflow.com/users/7561129/zeusox"}, "edited": false, "score": 0, "creation_date": 1531500564, "post_id": 51329472, "comment_id": 89634917, "body": "Use the fields variables to create a new StoreData. And then pass that to Another page. Because in your main.dart you are creating variables and assign them values from the null StoreData object(which causes the error in your case). Which is not necessary. Just create variables and use them to create a new StoreData object."}, {"owner": {"reputation": 4783, "user_id": 7561129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SeoPr.png?s=128&g=1", "display_name": "Zeusox", "link": "https://stackoverflow.com/users/7561129/zeusox"}, "edited": false, "score": 0, "creation_date": 1531501120, "post_id": 51329472, "comment_id": 89635176, "body": "Are you implying I should get rid of the StoreData class with the private variable and just create field variables in the main class and go from there ?"}, {"owner": {"reputation": 1930, "user_id": 5877937, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/IFiok.jpg?s=128&g=1", "display_name": "Dhaval", "link": "https://stackoverflow.com/users/5877937/dhaval"}, "reply_to_user": {"reputation": 4783, "user_id": 7561129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SeoPr.png?s=128&g=1", "display_name": "Zeusox", "link": "https://stackoverflow.com/users/7561129/zeusox"}, "edited": false, "score": 0, "creation_date": 1531501239, "post_id": 51329472, "comment_id": 89635227, "body": "No. You must keep the StoreData class. Just remove the &quot;StoreData storeDate;&quot; from your main.dart file.  You need StoreData class to create new stores and pass it around."}, {"owner": {"reputation": 1930, "user_id": 5877937, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/IFiok.jpg?s=128&g=1", "display_name": "Dhaval", "link": "https://stackoverflow.com/users/5877937/dhaval"}, "reply_to_user": {"reputation": 4783, "user_id": 7561129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SeoPr.png?s=128&g=1", "display_name": "Zeusox", "link": "https://stackoverflow.com/users/7561129/zeusox"}, "edited": false, "score": 0, "creation_date": 1531501391, "post_id": 51329472, "comment_id": 89635283, "body": "I have updated the answer. Now it will be more clear to you."}, {"owner": {"reputation": 4783, "user_id": 7561129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SeoPr.png?s=128&g=1", "display_name": "Zeusox", "link": "https://stackoverflow.com/users/7561129/zeusox"}, "edited": false, "score": 0, "creation_date": 1531501525, "post_id": 51329472, "comment_id": 89635340, "body": "Ok I removed the StoreData storedata from the main class. Also declared field variables as in &quot;String storeNumber;&quot; in the main class. passed these variables in the constructor that sends data to second screen through the Navigator.push, but it still shows as null once I rout to second screen ? I also assigned the form values to these variables as in: onSaved: (String val) {               storeNumber = val;"}, {"owner": {"reputation": 4783, "user_id": 7561129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SeoPr.png?s=128&g=1", "display_name": "Zeusox", "link": "https://stackoverflow.com/users/7561129/zeusox"}, "edited": false, "score": 0, "creation_date": 1531502341, "post_id": 51329472, "comment_id": 89635695, "body": "I also tried the main class code you provided, but the same issue ? It displays null on the second screen ?"}, {"owner": {"reputation": 1930, "user_id": 5877937, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/IFiok.jpg?s=128&g=1", "display_name": "Dhaval", "link": "https://stackoverflow.com/users/5877937/dhaval"}, "reply_to_user": {"reputation": 4783, "user_id": 7561129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SeoPr.png?s=128&g=1", "display_name": "Zeusox", "link": "https://stackoverflow.com/users/7561129/zeusox"}, "edited": false, "score": 0, "creation_date": 1531503248, "post_id": 51329472, "comment_id": 89636106, "body": "I have edited the answer. &quot;_key.currentState.save();&quot; was missing in the &quot;_sendData()&quot; method. I have tried your code by my self and it is working now. You can check it."}], "tags": [], "owner": {"reputation": 1930, "user_id": 5877937, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/IFiok.jpg?s=128&g=1", "display_name": "Dhaval", "link": "https://stackoverflow.com/users/5877937/dhaval"}, "is_accepted": true, "score": 2, "last_activity_date": 1531503174, "last_edit_date": 1531503174, "creation_date": 1531499637, "answer_id": 51329472, "question_id": 51329270, "link": "https://stackoverflow.com/questions/51329270/the-getter-storenumber-was-called-on-null-receiver-null/51329472#51329472", "title": "The getter &#39;storeNumber&#39; was called on null (Receiver: null)", "body": "<p>You can use the following approach. </p>\n\n<p>Remove the following lines from your code:</p>\n\n<pre><code>//get our entity class\nStoreData storeDate;\n</code></pre>\n\n<p>As initially there will be no instance of StoreData available right now.</p>\n\n<p>Now, declare new variables like the following:</p>\n\n<pre><code>String storeNumber;\nString repName;\nString repCell;\nDateTime transactionDate;\n</code></pre>\n\n<p>And then assign the form values to them in <code>onSaved</code> method.\nSo when your form will be submitted, these values will be used for creating new StoreData and it will be passed to the Second page.</p>\n\n<p>Here is the code for your main.dart file:</p>\n\n<pre><code>    import 'package:flutter/material.dart';\n\nimport 'FeedBack.dart';\nimport 'StoreData.dart';\n\nvoid main() {\n  runApp(MaterialApp(\n    title: 'Navigation Basics',\n    home: FirstScreen(),\n  ));\n}\n\n\n// get variables from entity class\nString storeNumber;\nString repName;\nString repCell;\nDateTime transactionDate = DateTime.now();\n\nclass FirstScreen extends StatefulWidget {\n  @override\n  _FirstScreenState createState() =&gt; _FirstScreenState();\n}\n\nclass _FirstScreenState extends State&lt;FirstScreen&gt; {\n  GlobalKey&lt;FormState&gt; _key = GlobalKey();\n  bool _validate = false;\n\n  _sendData() {\n\n    _key.currentState.save();\n\n    Navigator.push(\n      context,\n      MaterialPageRoute(\n          builder: (context) =&gt; FeedBack(\n              storeData: StoreData(\n                  storeNumber, repName, repCell, transactionDate))),\n    );\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: new Scaffold(\n        appBar: new AppBar(\n          title: new Text('Test App'),\n        ),\n        body: new SingleChildScrollView(\n          child: new Container(\n            margin: new EdgeInsets.all(15.0),\n            child: new Form(\n              key: _key,\n              autovalidate: _validate,\n              child: formUI(),\n            ),\n          ),\n        ),\n      ),\n    );\n  }\n\n  Widget formUI() {\n    return new Column(\n      children: &lt;Widget&gt;[\n        new TextFormField(\n            decoration: new InputDecoration(hintText: 'Store Number'),\n            keyboardType: TextInputType.number,\n            validator: validateRepCell,\n            onSaved: (String val) {\n              storeNumber = val;\n            }),\n        new TextFormField(\n            decoration: new InputDecoration(hintText: 'Rep Full Name'),\n            validator: validateRepName,\n            onSaved: (String val) {\n              repName = val;\n            }),\n        new TextFormField(\n            decoration: new InputDecoration(hintText: 'Rep Phone Number'),\n            keyboardType: TextInputType.number,\n            validator: validateRepCell,\n            onSaved: (String val) {\n              repCell = val;\n            }),\n        new SizedBox(height: 15.0),\n        new RaisedButton(\n          onPressed: _sendData,\n          child: new Text('Proceed'),\n        )\n      ],\n    );\n  }\n\n// Validate Fields\n\n  String validateRepCell(String value) {\n    // String patttern = r'(^[a-zA-Z ]*$)';\n    RegExp regExp = new RegExp(r'^[+-]?([0-9]+([.][0-9]*)?|[.][0-9]+)$');\n    if (value.length == 0) {\n      return \"Store Number  is Required\";\n    } else if (!regExp.hasMatch(value)) {\n      return \"Store Number must be only have numbers\";\n    }\n    return null;\n  }\n\n  String validateRepName(String value) {\n    String patttern = r'(^[a-zA-Z ]*$)';\n    RegExp regExp = new RegExp(patttern);\n    if (value.length == 0) {\n      return \"Rep Name is Required\";\n    } else if (!regExp.hasMatch(value)) {\n      return \"Name must be a-z and A-Z\";\n    }\n    return null;\n  }\n\n\n}\n</code></pre>\n"}], "owner": {"reputation": 4783, "user_id": 7561129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SeoPr.png?s=128&g=1", "display_name": "Zeusox", "link": "https://stackoverflow.com/users/7561129/zeusox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3560, "favorite_count": 1, "accepted_answer_id": 51329472, "answer_count": 1, "score": 0, "last_activity_date": 1606737339, "creation_date": 1531498803, "question_id": 51329270, "link": "https://stackoverflow.com/questions/51329270/the-getter-storenumber-was-called-on-null-receiver-null", "title": "The getter &#39;storeNumber&#39; was called on null (Receiver: null)", "body": "<p>I am trying to pass data from one screen to another, but I keep getting a null exception. Whenever I fill in the form on the first screen and proceed to next screen, I get a `</p>\n\n<blockquote>\n  <p>NoSuchMethodError: The getter 'storeNumber' was called on null</p>\n</blockquote>\n\n<p>` </p>\n\n<p>My variables class is ==> This entity class has variables that I populate using a form in the following class:</p>\n\n<pre><code>class StoreData {\n  String _storeNumber;\n  String _repName;\n  String _repCell;\n  DateTime _transactionDate = new DateTime.now();\n\n  StoreData(\n      this._storeNumber, this._repName, this._repCell, this._transactionDate);\n\n  String get storeNumber =&gt; _storeNumber;\n\n  set storeNumber(String value) {\n    _storeNumber = value;\n  }\n\n  String get repName =&gt; _repName;\n\n  DateTime get transactionDate =&gt; _transactionDate;\n\n  set transactionDate(DateTime value) {\n    _transactionDate = value;\n  }\n\n  String get repCell =&gt; _repCell;\n\n  set repCell(String value) {\n    _repCell = value;\n  }\n\n  set repName(String value) {\n    _repName = value;\n  }\n}\n</code></pre>\n\n<p>The main class (in this case this is the first screen that sends data to second screen) includes the following code:\nThis class has a form that takes in 3 inputs and send them to second screen.</p>\n\n<pre><code>import 'package:cloud_firestore/cloud_firestore.dart';\nimport 'package:flutter/material.dart';\n\nimport 'FeedBack.dart';\nimport 'StoreData.dart';\n\nvoid main() {\n  runApp(MaterialApp(\n    title: 'Navigation Basics',\n    home: FirstScreen(),\n  ));\n}\n\n//get our entity class\nStoreData storeDate;\n\n// get variables from entity class\nString storeNumber = storeDate.storeNumber;\nString repName = storeDate.repName;\nString repCell = storeDate.repCell;\nDateTime transactionDate = storeDate.transactionDate;\n\nclass FirstScreen extends StatefulWidget {\n  @override\n  _FirstScreenState createState() =&gt; _FirstScreenState();\n}\n\nclass _FirstScreenState extends State&lt;FirstScreen&gt; {\n  GlobalKey&lt;FormState&gt; _key = GlobalKey();\n  bool _validate = false;\n\n  _sendData() {\n    Navigator.push(\n      context,\n      MaterialPageRoute(\n          builder: (context) =&gt; FeedBack(\n              storeData: new StoreData(\n                  storeNumber, repName, repCell, transactionDate))),\n    );\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: new Scaffold(\n        appBar: new AppBar(\n          title: new Text('Test App'),\n        ),\n        body: new SingleChildScrollView(\n          child: new Container(\n            margin: new EdgeInsets.all(15.0),\n            child: new Form(\n              key: _key,\n              autovalidate: _validate,\n              child: formUI(),\n            ),\n          ),\n        ),\n      ),\n    );\n  }\n\n  Widget formUI() {\n    return new Column(\n      children: &lt;Widget&gt;[\n        new TextFormField(\n            decoration: new InputDecoration(hintText: 'Store Number'),\n            keyboardType: TextInputType.number,\n            validator: validateRepCell,\n            onSaved: (String val) {\n              storeNumber = val;\n            }),\n        new TextFormField(\n            decoration: new InputDecoration(hintText: 'Rep Full Name'),\n            validator: validateRepName,\n            onSaved: (String val) {\n              repName = val;\n            }),\n        new TextFormField(\n            decoration: new InputDecoration(hintText: 'Rep Phone Number'),\n            keyboardType: TextInputType.number,\n            validator: validateRepCell,\n            onSaved: (String val) {\n              repCell = val;\n            }),\n        new SizedBox(height: 15.0),\n        new RaisedButton(\n          onPressed: _sendData,\n          child: new Text('Proceed'),\n        )\n      ],\n    );\n  }\n\n// Validate Fields\n\n  String validateRepCell(String value) {\n    // String patttern = r'(^[a-zA-Z ]*$)';\n    RegExp regExp = new RegExp(r'^[+-]?([0-9]+([.][0-9]*)?|[.][0-9]+)$');\n    if (value.length == 0) {\n      return \"Store Number  is Required\";\n    } else if (!regExp.hasMatch(value)) {\n      return \"Store Number must be only have numbers\";\n    }\n    return null;\n  }\n\n  String validateRepName(String value) {\n    String patttern = r'(^[a-zA-Z ]*$)';\n    RegExp regExp = new RegExp(patttern);\n    if (value.length == 0) {\n      return \"Rep Name is Required\";\n    } else if (!regExp.hasMatch(value)) {\n      return \"Name must be a-z and A-Z\";\n    }\n    return null;\n  }\n\n\n}\n</code></pre>\n\n<p>The second screen's code is here:</p>\n\n<pre><code>class FeedBack extends StatelessWidget {\n  final StoreData storeData;\n\n  FeedBack({Key key, @required this.storeData}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(\"FeedBack Screen\"),\n      ),\n      body: new Container(\n        child: new Column(\n          children: &lt;Widget&gt;[\n            new RaisedButton(\n              onPressed: _sendToDatabase,\n              child: new Text('Press Me'),\n            ),\n            new Text(\"${storeData.storeNumber}\"),\n          ],\n        ),\n      ),\n    );\n  }\n\n  _sendToDatabase() {\n    Firestore.instance.runTransaction((Transaction transaction) async {\n      CollectionReference reference = Firestore.instance.collection('Stores');\n\n      await reference.add({\"test\": \"test\", \"testII\": \"test\"});\n    });\n  }\n}\n</code></pre>\n\n<p>I have been trying to solve this problem for a week now, but given my new experience with Dart and Flutter framework, it has been tough !</p>\n\n<p>Any help would be appreciated,</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 19333, "user_id": 4511702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8D658.jpg?s=128&g=1", "display_name": "Raouf Rahiche", "link": "https://stackoverflow.com/users/4511702/raouf-rahiche"}, "edited": false, "score": 1, "creation_date": 1531497980, "post_id": 51329006, "comment_id": 89633612, "body": "is the <a href=\"https://docs.flutter.io/flutter/material/InputDecoration-class.html\" rel=\"nofollow noreferrer\">InputDecoration</a>  not enough ?"}, {"owner": {"reputation": 1191, "user_id": 3279156, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/SuVxV.jpg?s=128&g=1", "display_name": "sreeramu", "link": "https://stackoverflow.com/users/3279156/sreeramu"}, "edited": false, "score": 1, "creation_date": 1531498240, "post_id": 51329006, "comment_id": 89633744, "body": "<a href=\"https://stackoverflow.com/a/50098175/3279156\">stackoverflow.com/a/50098175/3279156</a> , please check this for more about padding"}, {"owner": {"reputation": 2526, "user_id": 7387089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SKNuw.jpg?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/7387089/robin"}, "reply_to_user": {"reputation": 19333, "user_id": 4511702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8D658.jpg?s=128&g=1", "display_name": "Raouf Rahiche", "link": "https://stackoverflow.com/users/4511702/raouf-rahiche"}, "edited": false, "score": 0, "creation_date": 1531498489, "post_id": 51329006, "comment_id": 89633872, "body": "@RaoufRahiche yes, its more than enough what i want. I just find the solution. Thanks."}, {"owner": {"reputation": 2526, "user_id": 7387089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SKNuw.jpg?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/7387089/robin"}, "reply_to_user": {"reputation": 1191, "user_id": 3279156, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/SuVxV.jpg?s=128&g=1", "display_name": "sreeramu", "link": "https://stackoverflow.com/users/3279156/sreeramu"}, "edited": false, "score": 0, "creation_date": 1531498528, "post_id": 51329006, "comment_id": 89633896, "body": "@sreeramu Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 2526, "user_id": 7387089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SKNuw.jpg?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/7387089/robin"}, "edited": false, "score": 0, "creation_date": 1531498847, "post_id": 51329203, "comment_id": 89634060, "body": "I wanted to know how can i set the margin and padding property of TextField."}, {"owner": {"reputation": 19333, "user_id": 4511702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8D658.jpg?s=128&g=1", "display_name": "Raouf Rahiche", "link": "https://stackoverflow.com/users/4511702/raouf-rahiche"}, "reply_to_user": {"reputation": 2526, "user_id": 7387089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SKNuw.jpg?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/7387089/robin"}, "edited": false, "score": 0, "creation_date": 1531498883, "post_id": 51329203, "comment_id": 89634079, "body": "use the contentPadding  property you can&#39;t set the margin directly but you can set the padding"}, {"owner": {"reputation": 2526, "user_id": 7387089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SKNuw.jpg?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/7387089/robin"}, "edited": false, "score": 0, "creation_date": 1531499085, "post_id": 51329203, "comment_id": 89634177, "body": "Yes, i just find it. But there is no contentMargin property for margin. And thats why i need to wrap my TextField with Container. And then set the margin property."}, {"owner": {"reputation": 19333, "user_id": 4511702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8D658.jpg?s=128&g=1", "display_name": "Raouf Rahiche", "link": "https://stackoverflow.com/users/4511702/raouf-rahiche"}, "reply_to_user": {"reputation": 2526, "user_id": 7387089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SKNuw.jpg?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/7387089/robin"}, "edited": false, "score": 0, "creation_date": 1531499285, "post_id": 51329203, "comment_id": 89634267, "body": "yes i think for the maring you have to wrap it inside a Container"}], "tags": [], "owner": {"reputation": 19333, "user_id": 4511702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8D658.jpg?s=128&g=1", "display_name": "Raouf Rahiche", "link": "https://stackoverflow.com/users/4511702/raouf-rahiche"}, "is_accepted": false, "score": 0, "last_activity_date": 1531499562, "last_edit_date": 1531499562, "creation_date": 1531498607, "answer_id": 51329203, "question_id": 51329006, "link": "https://stackoverflow.com/questions/51329006/is-there-any-way-to-customize-text-field-without-wrap-with-container-in-flutter/51329203#51329203", "title": "Is there any way to customize text field without wrap with Container in Flutter?", "body": "<p>You are looking for <a href=\"https://docs.flutter.io/flutter/material/InputDecoration-class.html\" rel=\"nofollow noreferrer\">InputDecoration</a></p>\n\n<pre><code>TextField(\n  decoration: InputDecoration(\n    contentPadding : new EdgeInsets.all(8.0),\n    border: InputBorder.none,\n    hintText: 'Please enter a search term'\n  ),\n);\n</code></pre>\n"}], "owner": {"reputation": 2526, "user_id": 7387089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SKNuw.jpg?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/7387089/robin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531499562, "creation_date": 1531497806, "last_edit_date": 1531498078, "question_id": 51329006, "link": "https://stackoverflow.com/questions/51329006/is-there-any-way-to-customize-text-field-without-wrap-with-container-in-flutter", "title": "Is there any way to customize text field without wrap with Container in Flutter?", "body": "<p><a href=\"https://i.stack.imgur.com/TSZXR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TSZXR.png\" alt=\"Example of TextField - flutter\"></a></p>\n\n<p>I can customize a TextField wrap it with a Container. Like i can set margin property.\nBut is there any way to customize the TextField without wrapping it with Container ?</p>\n\n<p><strong><em>More specifically:</em></strong>\nCan i set the margin/padding attribute on TextField ?</p>\n"}, {"tags": ["android", "firebase", "dart", "google-cloud-firestore", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 2458, "user_id": 5848767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5ORvI.jpg?s=128&g=1", "display_name": "Marko", "link": "https://stackoverflow.com/users/5848767/marko"}, "edited": false, "score": 0, "creation_date": 1531516150, "post_id": 51329884, "comment_id": 89641068, "body": "Seem to have the same issue :("}, {"owner": {"reputation": 1971, "user_id": 1420881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1dc24f3e9583bd1b318d6d91cf515af?s=128&d=identicon&r=PG", "display_name": "mmccabe", "link": "https://stackoverflow.com/users/1420881/mmccabe"}, "reply_to_user": {"reputation": 2458, "user_id": 5848767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5ORvI.jpg?s=128&g=1", "display_name": "Marko", "link": "https://stackoverflow.com/users/5848767/marko"}, "edited": false, "score": 0, "creation_date": 1531534751, "post_id": 51329884, "comment_id": 89644634, "body": "Once the image is stored, you can display it using <code>Image.network(uriOfImage).image</code>."}], "tags": [], "owner": {"reputation": 1971, "user_id": 1420881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1dc24f3e9583bd1b318d6d91cf515af?s=128&d=identicon&r=PG", "display_name": "mmccabe", "link": "https://stackoverflow.com/users/1420881/mmccabe"}, "is_accepted": false, "score": 2, "last_activity_date": 1531501648, "creation_date": 1531501648, "answer_id": 51329884, "question_id": 51328368, "link": "https://stackoverflow.com/questions/51328368/how-to-upload-image-to-firebase-using-flutter/51329884#51329884", "title": "How to upload image to Firebase using Flutter", "body": "<p>The following works for me:</p>\n\n<pre><code>Future&lt;Uri&gt; _pickSaveImage(String imageId) async {\n  File imageFile = await ImagePicker.pickImage(source: ImageSource.camera);\n  StorageReference ref =\n    FirebaseStorage.instance.ref().child(imageId).child(\"image.jpg\");\n  StorageUploadTask uploadTask = ref.putFile(imageFile);\n  return (await uploadTask.future).downloadUrl;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 692, "user_id": 7696746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca8fe6f591ff72db96eb3553a8a57585?s=128&d=identicon&r=PG&f=1", "display_name": "Yarm", "link": "https://stackoverflow.com/users/7696746/yarm"}, "edited": false, "score": 0, "creation_date": 1540511979, "post_id": 52883503, "comment_id": 92903859, "body": "This works. But if a second image is uploaded in quick succession, then the app will crash."}, {"owner": {"reputation": 1477, "user_id": 1004379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6f5679275c965b9ea897e27026be433?s=128&d=identicon&r=PG", "display_name": "SacWebDeveloper", "link": "https://stackoverflow.com/users/1004379/sacwebdeveloper"}, "edited": false, "score": 0, "creation_date": 1567094174, "post_id": 52883503, "comment_id": 101869809, "body": "Why does it fail? How to fix?"}, {"owner": {"reputation": 2138, "user_id": 5365164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pHeCs.jpg?s=128&g=1", "display_name": "J. Saw", "link": "https://stackoverflow.com/users/5365164/j-saw"}, "edited": false, "score": 0, "creation_date": 1594831647, "post_id": 52883503, "comment_id": 111267284, "body": "FYI: &#39;ImagePicker.pickImage&#39; is deprecated and shouldn&#39;t be used. Use ImagePicker.getImage() method instead -- This also means you have to change the type <code>File</code> to <code>PickedFile</code> (e.g., <code>PickedFile imageFile = await ImagePicker.getImage(...)</code>)"}], "tags": [], "owner": {"reputation": 2217, "user_id": 2865073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b973f84cc0d80c5dc44fcdfc701828ab?s=128&d=identicon&r=PG&f=1", "display_name": "Mans", "link": "https://stackoverflow.com/users/2865073/mans"}, "is_accepted": false, "score": 10, "last_activity_date": 1551087413, "last_edit_date": 1551087413, "creation_date": 1539901951, "answer_id": 52883503, "question_id": 51328368, "link": "https://stackoverflow.com/questions/51328368/how-to-upload-image-to-firebase-using-flutter/52883503#52883503", "title": "How to upload image to Firebase using Flutter", "body": "<p>Updated version of mmccabe's answer that works with version <code>1.0.4</code> of the firebase_storage plugin</p>\n\n<pre><code>Future&lt;String&gt; _pickSaveImage(String imageId) async {\n  File imageFile = await ImagePicker.pickImage(source: ImageSource.camera);\n  StorageReference ref =\n    FirebaseStorage.instance.ref().child(imageId).child(\"image.jpg\");\n  StorageUploadTask uploadTask = ref.putFile(imageFile);\n  return await (await uploadTask.onComplete).ref.getDownloadURL();\n}\n</code></pre>\n\n<p>As of now you have to do:</p>\n\n<blockquote>\n  <p>var downloadURL = (await uploadTask.onComplete).ref.getDownloadURL();</p>\n</blockquote>\n\n<p>because <a href=\"https://i.stack.imgur.com/XyEg7.png\" rel=\"noreferrer\">error: The getter 'future' isn't defined for the class 'StorageUploadTask'. (undefined_getter at [timetracker] lib/screens/image_detection.dart:63)</a></p>\n"}, {"tags": [], "owner": {"reputation": 1452, "user_id": 6133329, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5VAQ6Bzgjy8/AAAAAAAAAAI/AAAAAAAAC5s/c80SLwIjoG0/photo.jpg?sz=128", "display_name": "Sultanmyrza Kasymbekov", "link": "https://stackoverflow.com/users/6133329/sultanmyrza-kasymbekov"}, "is_accepted": false, "score": 0, "last_activity_date": 1551087594, "last_edit_date": 1551087594, "creation_date": 1551086762, "answer_id": 54863003, "question_id": 51328368, "link": "https://stackoverflow.com/questions/51328368/how-to-upload-image-to-firebase-using-flutter/54863003#54863003", "title": "How to upload image to Firebase using Flutter", "body": "<pre><code>Future&lt;String&gt; _pickSaveImage(String imageId) async {\n  File imageFile = await ImagePicker.pickImage(source: ImageSource.camera);\n  StorageReference ref =\n    FirebaseStorage.instance.ref().child(imageId).child(\"image.jpg\");\n  StorageUploadTask uploadTask = ref.putFile(imageFile);\n  return await (await uploadTask.onComplete).ref.getDownloadURL();\n}\n</code></pre>\n\n<p>As of now, </p>\n\n<p><strong>This gives an error:</strong></p>\n\n<blockquote>\n  <p>return await (await uploadTask.onComplete).ref.getDownloadURL();</p>\n</blockquote>\n\n<p><strong>This does not:</strong></p>\n\n<blockquote>\n  <p>return (await uploadTask.onComplete).ref.getDownloadURL();</p>\n</blockquote>\n\n<p>Error message: </p>\n\n<pre><code>The getter 'future' isn't defined for the class 'StorageUploadTask'. \n\nundefined_getter at [timetracker] lib/screens/image_detection.dart:63)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/986QE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/986QE.png\" alt=\"\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 9021750, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5ZyvRQv6IGI/AAAAAAAAAAI/AAAAAAAAAIY/OXDqk9xcqjk/photo.jpg?sz=128", "display_name": "Enigma I am", "link": "https://stackoverflow.com/users/9021750/enigma-i-am"}, "is_accepted": false, "score": 2, "last_activity_date": 1573137724, "creation_date": 1573137724, "answer_id": 58751155, "question_id": 51328368, "link": "https://stackoverflow.com/questions/51328368/how-to-upload-image-to-firebase-using-flutter/58751155#58751155", "title": "How to upload image to Firebase using Flutter", "body": "<p>This worked for me... In my case, I also needed to get the download URL and push to a firestore collection. After doing some reading I found that it's best to use a StorageTaskSnapshot and then get download URL </p>\n\n<pre><code>uploadImage(File image) async {\n    StorageReference reference =\n             FirebaseStorage.instance.ref().child(image.path.toString());\n    StorageUploadTask uploadTask = reference.putFile(image);\n\n    StorageTaskSnapshot downloadUrl = (await uploadTask.onComplete);\n\n    String url = (await downloadUrl.ref.getDownloadURL());\n\n\n}\n</code></pre>\n"}], "owner": {"reputation": 2458, "user_id": 5848767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5ORvI.jpg?s=128&g=1", "display_name": "Marko", "link": "https://stackoverflow.com/users/5848767/marko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13140, "favorite_count": 5, "protected_date": 1588592658, "answer_count": 4, "score": 13, "last_activity_date": 1588590470, "creation_date": 1531495388, "last_edit_date": 1531496548, "question_id": 51328368, "link": "https://stackoverflow.com/questions/51328368/how-to-upload-image-to-firebase-using-flutter", "title": "How to upload image to Firebase using Flutter", "body": "<p>I am using the image_picker library <a href=\"https://pub.dartlang.org/packages/image_picker\" rel=\"noreferrer\">https://pub.dartlang.org/packages/image_picker</a>  with for selecting/taking the photo that I want to upload. The code so far uploads the image to Firebase storage successfully the only issue is that after the image is uploaded the app shuts down (doesn't really crash, it just closes and VS code looses connection to the device). The code is the following:</p>\n\n<pre><code> File _image;\n\n  Future _takeProfilePicture() async{\n    var image = await ImagePicker.pickImage(source: ImageSource.camera);\n\n    setState((){\n      _image = image;\n    });\n  }\n\n  Future _selectProfilePicture() async{\n    var image = await ImagePicker.pickImage(source: ImageSource.gallery);\n\n    setState((){\n      _image = image;\n    });\n  }\n\n  Future&lt;Null&gt; _uploadProfilePicture() async{\n    FirebaseUser user = await FirebaseAuth.instance.currentUser();\n\n    final StorageReference ref = FirebaseStorage.instance.ref().child('${user.email}/${user.email}_profilePicture.jpg');\n    final StorageUploadTask uploadTask = ref.putFile(_image);\n    final Uri downloadUrl = (await uploadTask.future).downloadUrl;\n  }\n\n  void _selectAndUploadPicture() async{\n    await _selectProfilePicture();\n    await _uploadProfilePicture();\n  }\n\n  void _takeAndUploadPicture() async{\n    await _takeProfilePicture();\n    await _uploadProfilePicture();\n  }\n</code></pre>\n\n<p>And the terminal prints the following:</p>\n\n<pre><code>W/Firestore( 6873): (0.6.6-dev) [Firestore]: The behavior for java.util.Date objects stored in Firestore is going to change AND YOUR APP MAY BREAK.\nW/Firestore( 6873): To hide this warning and ensure your app does not break, you need to add the following code to your app before calling any other Cloud Firestore methods:\nW/Firestore( 6873):\nW/Firestore( 6873): FirebaseFirestore firestore = FirebaseFirestore.getInstance();\nW/Firestore( 6873): FirebaseFirestoreSettings settings = new FirebaseFirestoreSettings.Builder()\nW/Firestore( 6873):     .setTimestampsInSnapshotsEnabled(true)\nW/Firestore( 6873):     .build();\nW/Firestore( 6873): firestore.setFirestoreSettings(settings);\nW/Firestore( 6873):\nW/Firestore( 6873): With this change, timestamps stored in Cloud Firestore will be read back as com.google.firebase.Timestamp objects instead of as system java.util.Date objects. So you will also need to update code expecting a java.util.Date to instead expect a Timestamp. For example:\nW/Firestore( 6873):\nW/Firestore( 6873): // Old:\nW/Firestore( 6873): java.util.Date date = snapshot.getDate(\"created_at\");\nW/Firestore( 6873): // New:\nW/Firestore( 6873): Timestamp timestamp = snapshot.getTimestamp(\"created_at\");\nW/Firestore( 6873): java.util.Date date = timestamp.toDate();\nW/Firestore( 6873):\nW/Firestore( 6873): Please audit all existing usages of java.util.Date when you enable the new behavior. In a future release, the behavior will be changed to the new behavior, so if you do not follow these steps, YOUR APP MAY BREAK.\n</code></pre>\n\n<p>I tried implementing the suggested java code from the terminal but I cannot seem to find a way to write the equivalent in flutter using the cloud_firestore library <a href=\"https://pub.dartlang.org/packages/cloud_firestore\" rel=\"noreferrer\">https://pub.dartlang.org/packages/cloud_firestore</a> , it does not have an equivalent for FirebaseFirestoreSettings (or I cannot seem to find one). Is there a way around this?</p>\n\n<p>Thank you in advance!</p>\n"}, {"tags": ["dart", "flutter", "dart-http"], "answers": [{"comments": [{"owner": {"reputation": 1997, "user_id": 1517483, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/43389f5e86230f9c8ab6046079a0e670?s=128&d=identicon&r=PG", "display_name": "devrocca", "link": "https://stackoverflow.com/users/1517483/devrocca"}, "edited": false, "score": 0, "creation_date": 1531498827, "post_id": 51327634, "comment_id": 89634050, "body": "Thank you very much, I kinda feel ashamed that I hadn&#39;t thought of this myself :)"}, {"owner": {"reputation": 2544, "user_id": 2849458, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/o7RRM.png?s=128&g=1", "display_name": "M.ArslanKhan", "link": "https://stackoverflow.com/users/2849458/m-arslankhan"}, "edited": false, "score": 0, "creation_date": 1587639241, "post_id": 51327634, "comment_id": 108592746, "body": "@Richard Heap I am confuced about try{}catch and try{}on socketException{}. what if i used &#39;On SocketException instead of Catch in your exception handling?"}, {"owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "edited": false, "score": 1, "creation_date": 1587675703, "post_id": 51327634, "comment_id": 108612744, "body": "<code>on</code> is a shorthand for filtering the type of exception you want to handle in a particular block of code. See: <a href=\"https://dart.dev/guides/language/language-tour#catch\" rel=\"nofollow noreferrer\">dart.dev/guides/language/language-tour#catch</a>"}], "tags": [], "owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "is_accepted": true, "score": 15, "last_activity_date": 1531492762, "creation_date": 1531492762, "answer_id": 51327634, "question_id": 51325758, "link": "https://stackoverflow.com/questions/51325758/how-to-catch-socketexception-using-the-http-library/51327634#51327634", "title": "How to catch SocketException using the http library?", "body": "<p>You can change <code>login</code> to be <code>async</code> so that you can await the response. That allows you to catch the exception (and, for example, return <code>null</code> instead of the <code>Response</code>).</p>\n\n<pre><code>Future&lt;Response&gt; login(String user, String pwd) async {\n  final String authHeader = encodeBasicCredentials(user, pwd);\n  try {\n    return await get(\n        'http://192.168.0.100:8080/login',\n        headers: {\n          HttpHeaders.AUTHORIZATION: authHeader,\n        },\n      );\n  } catch (e) {\n    print(e);\n    return null;\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7877, "user_id": 8822337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ojyRl.jpg?s=128&g=1", "display_name": "BloodLoss", "link": "https://stackoverflow.com/users/8822337/bloodloss"}, "is_accepted": false, "score": 0, "last_activity_date": 1604650831, "creation_date": 1604650831, "answer_id": 64711048, "question_id": 51325758, "link": "https://stackoverflow.com/questions/51325758/how-to-catch-socketexception-using-the-http-library/64711048#64711048", "title": "How to catch SocketException using the http library?", "body": "<p>SocketException on http</p>\n<pre><code> try {\n\n    } on SocketException {\n\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 335, "user_id": 10425818, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dV17c755CV0/AAAAAAAAAAI/AAAAAAAAABE/i1itxXLnKmo/photo.jpg?sz=128", "display_name": "Fabio Dias", "link": "https://stackoverflow.com/users/10425818/fabio-dias"}, "is_accepted": false, "score": 0, "last_activity_date": 1618582757, "creation_date": 1618582757, "answer_id": 67126938, "question_id": 51325758, "link": "https://stackoverflow.com/questions/51325758/how-to-catch-socketexception-using-the-http-library/67126938#67126938", "title": "How to catch SocketException using the http library?", "body": "<p>You can check the type of the exception and treat it accordingly something like:</p>\n<pre><code>Future&lt;Response&gt; login(String user, String pwd) async {\n  final String authHeader = encodeBasicCredentials(user, pwd);\n  try {\n    return await get(\n        'http://192.168.0.100:8080/login',\n        headers: {\n          HttpHeaders.AUTHORIZATION: authHeader,\n        },\n      );\n  } catch (e) {\n    if(e is SocketException){\n       //treat SocketException\n       print(&quot;Socket exception: ${e.toString()}&quot;);\n    }\n    else if(e is TimeoutException){\n       //treat TimeoutException\n       print(&quot;Timeout exception: ${e.toString()}&quot;);\n    }\n    else print(&quot;Unhandled exception: ${e.toString()}&quot;);\n  }\n}\n</code></pre>\n<p>Probly better off making an error handler lib, so you can just call a function like <code>handleException(e);</code> on the catch block.</p>\n"}], "owner": {"reputation": 1997, "user_id": 1517483, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/43389f5e86230f9c8ab6046079a0e670?s=128&d=identicon&r=PG", "display_name": "devrocca", "link": "https://stackoverflow.com/users/1517483/devrocca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9917, "favorite_count": 0, "accepted_answer_id": 51327634, "answer_count": 3, "score": 8, "last_activity_date": 1618582757, "creation_date": 1531486876, "question_id": 51325758, "link": "https://stackoverflow.com/questions/51325758/how-to-catch-socketexception-using-the-http-library", "title": "How to catch SocketException using the http library?", "body": "<p>This problem has already been pointed out by others (like <a href=\"https://stackoverflow.com/questions/32810051/cannot-catch-socketexception\">here</a>). Althought I may have understood the cause, I still haven't found a solution when using the higher-level <code>http</code> library.\nFor example:</p>\n\n<pre><code>import 'package:http/http.dart';\n\n// yes, pwd is String, it's just a test...\nFuture&lt;Response&gt; login(String user, String pwd) {\n  final authHeader = encodeBasicCredentials(user, pwd);\n  return get(\n    'http://192.168.0.100:8080/login',\n    headers: &lt;String, String&gt;{\n    HttpHeaders.AUTHORIZATION: authHeader,\n    },\n  ));\n}\n</code></pre>\n\n<p>I can't find a way to catch a <code>SocketException</code> that is thrown, for example, if the host can't be reached (in my case, wrong host ip).\nI have tried wrapping the <code>await</code> in <code>try/catch</code>, or using <code>Future.catchError</code>.</p>\n\n<p>This is a stacktrace of the exception:</p>\n\n<pre><code>[ERROR:topaz/lib/tonic/logging/dart_error.cc(16)] Unhandled exception:\nE/flutter ( 4036): SocketException: OS Error: Connection refused, errno = 111, address = 192.168.0.100, port = 35588\nE/flutter ( 4036): #0      IOClient.send (package:http/src/io_client.dart:30:23)\nE/flutter ( 4036): &lt;asynchronous suspension&gt;\nE/flutter ( 4036): #1      BaseClient._sendUnstreamed (package:http/src/base_client.dart:171:38)\nE/flutter ( 4036): &lt;asynchronous suspension&gt;\nE/flutter ( 4036): #2      BaseClient.get (package:http/src/base_client.dart:34:5)\nE/flutter ( 4036): #3      get.&lt;anonymous closure&gt; (package:http/http.dart:47:34)\nE/flutter ( 4036): #4      _withClient (package:http/http.dart:167:20)\nE/flutter ( 4036): &lt;asynchronous suspension&gt;\nE/flutter ( 4036): #5      get (package:http/http.dart:47:3)\n</code></pre>\n"}, {"tags": ["objective-c", "function", "logging", "dart"], "answers": [{"tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": true, "score": 8, "last_activity_date": 1531641121, "last_edit_date": 1531641121, "creation_date": 1531506061, "answer_id": 51330886, "question_id": 51325575, "link": "https://stackoverflow.com/questions/51325575/how-to-log-the-current-function-name-in-dart/51330886#51330886", "title": "How to log the current function name in Dart?", "body": "<p>You can't in general. Dart does not have such a feature.</p>\n\n<p>What you can do is to take the first line of <code>StackTrace.current.toString()</code> write that in your log. The <a href=\"https://pub.dartlang.org/packages/stack_trace\" rel=\"noreferrer\">stack_trace package</a> may help you parse the stack trace. It knows about the most common stack trace formats.</p>\n"}], "owner": {"reputation": 3383, "user_id": 77265, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c5e2cafad90940217f650762d555ad8d?s=128&d=identicon&r=PG", "display_name": "Hahnemann", "link": "https://stackoverflow.com/users/77265/hahnemann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1058, "favorite_count": 0, "accepted_answer_id": 51330886, "answer_count": 1, "score": 2, "last_activity_date": 1531641121, "creation_date": 1531486357, "question_id": 51325575, "link": "https://stackoverflow.com/questions/51325575/how-to-log-the-current-function-name-in-dart", "title": "How to log the current function name in Dart?", "body": "<p>In Objective-C I can log the current function name using <code>__func__</code> from <code>C99</code>:</p>\n\n<pre><code>NSLog(@\"%s\", __func__);\n</code></pre>\n\n<p>How can I do this in Dart?</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 1930, "user_id": 5877937, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/IFiok.jpg?s=128&g=1", "display_name": "Dhaval", "link": "https://stackoverflow.com/users/5877937/dhaval"}, "edited": false, "score": 0, "creation_date": 1531481012, "post_id": 51323960, "comment_id": 89623008, "body": "Have you tried using Column widget?"}], "answers": [{"tags": [], "owner": {"reputation": 1930, "user_id": 5877937, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/IFiok.jpg?s=128&g=1", "display_name": "Dhaval", "link": "https://stackoverflow.com/users/5877937/dhaval"}, "is_accepted": false, "score": 0, "last_activity_date": 1531481301, "creation_date": 1531481301, "answer_id": 51324086, "question_id": 51323960, "link": "https://stackoverflow.com/questions/51323960/add-a-subtitle-in-my-flutter-code/51324086#51324086", "title": "add a subtitle in my flutter code", "body": "<pre><code>return new Card(\n      child: new Container(\n        padding: EdgeInsets.all(10.0),\n        child: new Row(\n          mainAxisAlignment: MainAxisAlignment.start,\n          children: &lt;Widget&gt;[\n            CircleAvatar(\n              backgroundColor: Colors.grey,\n              backgroundImage: new NetworkImage(\"${document['Picture']}\"),\n              radius: 40.0,\n            ),\n            SizedBox(\n              width: 10.0,\n            ),\n            Column(\n              children: &lt;Widget&gt;[\n                Text(document['name']),\n                Text('subtitle'),\n              ],\n            )\n          ],\n        ),\n      ),\n    );\n</code></pre>\n\n<p>You can use something like this.</p>\n"}, {"comments": [{"owner": {"reputation": 265, "user_id": 10075718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5897dc6555afb55a34cde9658fe870?s=128&d=identicon&r=PG&f=1", "display_name": "serjo macken", "link": "https://stackoverflow.com/users/10075718/serjo-macken"}, "edited": false, "score": 0, "creation_date": 1531566239, "post_id": 51326161, "comment_id": 89650155, "body": "thanks I will try one of your edits and see which one suits me more"}, {"owner": {"reputation": 265, "user_id": 10075718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5897dc6555afb55a34cde9658fe870?s=128&d=identicon&r=PG&f=1", "display_name": "serjo macken", "link": "https://stackoverflow.com/users/10075718/serjo-macken"}, "edited": false, "score": 0, "creation_date": 1531649009, "post_id": 51326161, "comment_id": 89667278, "body": "well I edited it further more and it became perfect , thanks"}], "tags": [], "owner": {"reputation": 952, "user_id": 4036703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feNq6.jpg?s=128&g=1", "display_name": "goops17", "link": "https://stackoverflow.com/users/4036703/goops17"}, "is_accepted": false, "score": 1, "last_activity_date": 1531488165, "creation_date": 1531488165, "answer_id": 51326161, "question_id": 51323960, "link": "https://stackoverflow.com/questions/51323960/add-a-subtitle-in-my-flutter-code/51326161#51326161", "title": "add a subtitle in my flutter code", "body": "<p>This is what you want, simply add <a href=\"https://docs.flutter.io/flutter/material/ListTile-class.html\" rel=\"nofollow noreferrer\">ListTile</a></p>\n\n<pre><code>body: StreamBuilder(\n          stream: Firestore.instance.collection('Doctors').snapshots(),\n          builder:\n              (BuildContext context, AsyncSnapshot&lt;QuerySnapshot&gt; snapshot) {\n            if (!snapshot.hasData)\n              return const Center(child: CircularProgressIndicator());\n            return ListView(\n              padding: const EdgeInsets.only(top: 8.0),\n              children:\n              snapshot.data.documents.map((DocumentSnapshot document) {\n                return new Card(\n                  child: new Container(\n                    padding: EdgeInsets.all(10.0),\n                    child: new Row(\n                      mainAxisAlignment: MainAxisAlignment.start,\n                      children: &lt;Widget&gt;[\n                        CircleAvatar(\n                          backgroundColor: Colors.grey,\n                          backgroundImage:\n                          new NetworkImage(\"${document['Picture']}\"),\n                          radius: 40.0,\n                        ),\n                        SizedBox(width: 10.0,\n                        ),\n                        new ListTile(\n                         title: Text(document['name']),\n                         subtitle: Text('subtitle'),\n                      ],\n                    ),\n                  ),\n                );\n              }).toList(),\n            );\n          },\n        ),\n      ),\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1729, "user_id": 1579939, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8529d416ed7ef60b7027d11b1e0ed22f?s=128&d=identicon&r=PG", "display_name": "Natwar Singh", "link": "https://stackoverflow.com/users/1579939/natwar-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1531488808, "creation_date": 1531488808, "answer_id": 51326368, "question_id": 51323960, "link": "https://stackoverflow.com/questions/51323960/add-a-subtitle-in-my-flutter-code/51326368#51326368", "title": "add a subtitle in my flutter code", "body": "<p>I think you are trying to display list of data but I am not sure if you really need card style because your cards does not have gap. \nFor your design you can use List Tile which have <code>leading</code> for circular image or avatar, <code>title</code>, <code>subtitle</code> and <code>trailing</code> in case you need.\nhere is an example</p>\n\n<pre><code>return new Card(\n  child: ListTile(        \n    leading: CircleAvatar(\n          backgroundColor: Colors.grey,\n          backgroundImage: new NetworkImage(\"${document['Picture']}\"),\n          radius: 40.0,\n        ),\n    title: Text(document['name']),\n    subtitle: Text('subtitle'),              \n    ),\n);\n</code></pre>\n\n<p>without card</p>\n\n<pre><code>return ListTile(        \n    leading: CircleAvatar(\n          backgroundColor: Colors.grey,\n          backgroundImage: new NetworkImage(\"${document['Picture']}\"),\n          radius: 40.0,\n        ),\n    title: Text(document['name']),\n    subtitle: Text('subtitle'),              \n);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 99, "user_id": 6590589, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hkh_NrtCqbU/AAAAAAAAAAI/AAAAAAAAABI/oodt3cndmyw/photo.jpg?sz=128", "display_name": "Nguy\u1ec5n V\u0103n Linh", "link": "https://stackoverflow.com/users/6590589/nguy%e1%bb%85n-v%c4%83n-linh"}, "is_accepted": false, "score": 5, "last_activity_date": 1550118073, "creation_date": 1550118073, "answer_id": 54683169, "question_id": 51323960, "link": "https://stackoverflow.com/questions/51323960/add-a-subtitle-in-my-flutter-code/54683169#54683169", "title": "add a subtitle in my flutter code", "body": "<pre><code> title: Column(\n      mainAxisAlignment: MainAxisAlignment.center,\n      crossAxisAlignment: CrossAxisAlignment.center,\n      children: [\n    Text(\n      \"Title\",\n      style: TextStyle(color: Colors.white, fontSize: 16.0),\n    ),\n    Text(\n      'Sub Title',\n      style: TextStyle(color: Colors.white, fontSize: 14.0),\n    ),\n  ]),\n</code></pre>\n\n<p>This is final to use SubTitle in Appbar</p>\n"}], "owner": {"reputation": 265, "user_id": 10075718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5897dc6555afb55a34cde9658fe870?s=128&d=identicon&r=PG&f=1", "display_name": "serjo macken", "link": "https://stackoverflow.com/users/10075718/serjo-macken"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6792, "favorite_count": 1, "answer_count": 4, "score": 0, "last_activity_date": 1589491245, "creation_date": 1531480833, "last_edit_date": 1531480929, "question_id": 51323960, "link": "https://stackoverflow.com/questions/51323960/add-a-subtitle-in-my-flutter-code", "title": "add a subtitle in my flutter code", "body": "<p>I have this flutter code :</p>\n\n<pre><code>body: StreamBuilder(\n          stream: Firestore.instance.collection('Doctors').snapshots(),\n          builder:\n              (BuildContext context, AsyncSnapshot&lt;QuerySnapshot&gt; snapshot) {\n            if (!snapshot.hasData)\n              return const Center(child: CircularProgressIndicator());\n            return ListView(\n              padding: const EdgeInsets.only(top: 8.0),\n              children:\n              snapshot.data.documents.map((DocumentSnapshot document) {\n                return new Card(\n                  child: new Container(\n                    padding: EdgeInsets.all(10.0),\n                    child: new Row(\n                      mainAxisAlignment: MainAxisAlignment.start,\n                      children: &lt;Widget&gt;[\n                        CircleAvatar(\n                          backgroundColor: Colors.grey,\n                          backgroundImage:\n                          new NetworkImage(\"${document['Picture']}\"),\n                          radius: 40.0,\n                        ),\n                        SizedBox(width: 10.0,\n                        ),\n                        Text(\n                          document['Name'],\n                        )\n                      ],\n                    ),\n                  ),\n                );\n              }).toList(),\n            );\n          },\n        ),\n      ),\n</code></pre>\n\n<p>and I need to insert another text as a subtitle under the text connected to Text(document['Name'],) but i cant do so, can you help me please</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 19333, "user_id": 4511702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8D658.jpg?s=128&g=1", "display_name": "Raouf Rahiche", "link": "https://stackoverflow.com/users/4511702/raouf-rahiche"}, "edited": false, "score": 0, "creation_date": 1531480551, "post_id": 51323233, "comment_id": 89622755, "body": "take a look at this <a href=\"https://medium.com/@vigneshprakash15/flutter-image-rotate-animation-6b6eaed7fb33\" rel=\"nofollow noreferrer\">example</a>"}, {"owner": {"reputation": 1729, "user_id": 1579939, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8529d416ed7ef60b7027d11b1e0ed22f?s=128&d=identicon&r=PG", "display_name": "Natwar Singh", "link": "https://stackoverflow.com/users/1579939/natwar-singh"}, "reply_to_user": {"reputation": 19333, "user_id": 4511702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8D658.jpg?s=128&g=1", "display_name": "Raouf Rahiche", "link": "https://stackoverflow.com/users/4511702/raouf-rahiche"}, "edited": false, "score": 0, "creation_date": 1531483004, "post_id": 51323233, "comment_id": 89624086, "body": "@RaoufRahiche I need rotation with canvas draw"}, {"owner": {"reputation": 1982, "user_id": 1426489, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Oc1H5.jpg?s=128&g=1", "display_name": "Jezer Crespo", "link": "https://stackoverflow.com/users/1426489/jezer-crespo"}, "edited": false, "score": 0, "creation_date": 1539624358, "post_id": 51323233, "comment_id": 92560625, "body": "were you able to workaround this? @NatwarSingh"}, {"owner": {"reputation": 1729, "user_id": 1579939, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8529d416ed7ef60b7027d11b1e0ed22f?s=128&d=identicon&r=PG", "display_name": "Natwar Singh", "link": "https://stackoverflow.com/users/1579939/natwar-singh"}, "edited": false, "score": 0, "creation_date": 1545393282, "post_id": 51323233, "comment_id": 94615053, "body": "haven&#39;t tried but I was able to solve my problem with <code>Transform.rotate</code> and <code>Transform.translate</code> widget."}], "answers": [{"tags": [], "owner": {"reputation": 1481, "user_id": 4869425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2e90f27dcdc56c7b6c629a948f108ba?s=128&d=identicon&r=PG&f=1", "display_name": "KimNguyen", "link": "https://stackoverflow.com/users/4869425/kimnguyen"}, "is_accepted": true, "score": 7, "last_activity_date": 1548279584, "creation_date": 1548279584, "answer_id": 54336099, "question_id": 51323233, "link": "https://stackoverflow.com/questions/51323233/flutter-how-to-rotate-an-image-around-the-center-with-canvas/54336099#54336099", "title": "Flutter - How to rotate an image around the center with canvas", "body": "<p><a href=\"https://i.stack.imgur.com/nLDuY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nLDuY.png\" alt=\"figure 1\"></a>\n<a href=\"https://i.stack.imgur.com/Ei9Vs.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Ei9Vs.png\" alt=\"figure 2\"></a></p>\n\n<p>This can achieve by shifting the coordinate space as illustrated in figure 1.\nThe translation is the difference in coordinates between C1 and C2, which are exactly as between A and B in figure 2.\nWith some geometry formulas, we can calculate the desired translation and produce the rotated image as in the method below</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>ui.Image rotatedImage({ui.Image image, double angle}) {\r\n  var pictureRecorder = ui.PictureRecorder();\r\n  Canvas canvas = Canvas(pictureRecorder);\r\n\r\n  final double r = sqrt(image.width * image.width + image.height * image.height) / 2;\r\n  final alpha = atan(image.height / image.width);\r\n  final beta = alpha + angle;\r\n  final shiftY = r * sin(beta);\r\n  final shiftX = r * cos(beta);\r\n  final translateX = image.width / 2 - shiftX;\r\n  final translateY = image.height / 2 - shiftY;\r\n  canvas.translate(translateX, translateY);\r\n  canvas.rotate(angle);\r\n  canvas.drawImage(image, Offset.zero, Paint());\r\n\r\n  return pictureRecorder.endRecording().toImage(image.width, image.height);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>alpha, beta, angle are all in radian.</p>\n\n<p>Here is the repo of the <a href=\"https://github.com/nguyenbakim/flutter_canvas_rotate\" rel=\"noreferrer\">demo app</a></p>\n"}, {"tags": [], "owner": {"reputation": 4735, "user_id": 789545, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d3b562b08d059597ddc2f255894c8652?s=128&d=identicon&r=PG", "display_name": "spydon", "link": "https://stackoverflow.com/users/789545/spydon"}, "is_accepted": false, "score": 3, "last_activity_date": 1611657503, "last_edit_date": 1611657503, "creation_date": 1566346294, "answer_id": 57582911, "question_id": 51323233, "link": "https://stackoverflow.com/questions/51323233/flutter-how-to-rotate-an-image-around-the-center-with-canvas/57582911#57582911", "title": "Flutter - How to rotate an image around the center with canvas", "body": "<p>If you don't want to rotate the image around the center of the image you can use this way. You won't have to care about what the offset of the canvas should be in relation to the image rotation, because the canvas is moved back to its original position after the image is drawn.</p>\n<pre><code>void rotate(Canvas c, Image image, Offset focalPoint, Size screenSize, double angle) {\n  c.save();\n  c.translate(screenSize.width/2, screenSize.height/2);\n  c.rotate(angle);\n  // To rotate around the center of the image, focal point is the\n  // image width and height divided by 2\n  c.drawImage(image, focalPoint*-1, Paint());\n  c.translate(-screenSize.width/2, -screenSize.height/2);\n  c.restore();\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2771, "user_id": 6045409, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e1127001433f2ab5bbab9523853e3e4e?s=128&d=identicon&r=PG&f=1", "display_name": "Tokenyet", "link": "https://stackoverflow.com/users/6045409/tokenyet"}, "edited": false, "score": 1, "creation_date": 1588405661, "post_id": 58042892, "comment_id": 108886172, "body": "This is the cleanest method! It would be better If add some mathematical details to explain the code tho."}, {"owner": {"reputation": 122, "user_id": 6841962, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tylZK0vXyBg/AAAAAAAAAAI/AAAAAAAABQ0/oD6iQZo94Wg/photo.jpg?sz=128", "display_name": "Zac", "link": "https://stackoverflow.com/users/6841962/zac"}, "edited": false, "score": 0, "creation_date": 1610172474, "post_id": 58042892, "comment_id": 116053915, "body": "Thanks! This worked fine for me!. For those wondering, I was trying to rotate an element using Transform. The transformation I ended up applying was:   <code>Matrix4.identity()..translate(Constants.elementCardHalfSize)&zwnj;&#8203;..rotateY(initialRot&zwnj;&#8203;ateX)..translate(-Co&zwnj;&#8203;nstants.elementCardH&zwnj;&#8203;alfSize)</code>"}, {"owner": {"reputation": 1832, "user_id": 3321579, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8507b1ffc84187a23597ae23ad773458?s=128&d=identicon&r=PG&f=1", "display_name": "Scorb", "link": "https://stackoverflow.com/users/3321579/scorb"}, "edited": false, "score": 0, "creation_date": 1616081045, "post_id": 58042892, "comment_id": 117896685, "body": "what is cx and cy?"}, {"owner": {"reputation": 1375, "user_id": 1881719, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/f9d319fb5c2669d9bab860c9b2227505?s=128&d=identicon&r=PG", "display_name": "Wouter Vandenputte", "link": "https://stackoverflow.com/users/1881719/wouter-vandenputte"}, "reply_to_user": {"reputation": 1832, "user_id": 3321579, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8507b1ffc84187a23597ae23ad773458?s=128&d=identicon&r=PG&f=1", "display_name": "Scorb", "link": "https://stackoverflow.com/users/3321579/scorb"}, "edited": false, "score": 0, "creation_date": 1616259119, "post_id": 58042892, "comment_id": 117948267, "body": "@Scorb You can call them <code>x</code> and <code>y</code> if you want, I called them <code>cx</code> and <code>cy</code> because I wanted my pivot to be in the center hence center x and center y"}], "tags": [], "owner": {"reputation": 1375, "user_id": 1881719, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/f9d319fb5c2669d9bab860c9b2227505?s=128&d=identicon&r=PG", "display_name": "Wouter Vandenputte", "link": "https://stackoverflow.com/users/1881719/wouter-vandenputte"}, "is_accepted": false, "score": 11, "last_activity_date": 1588856404, "last_edit_date": 1588856404, "creation_date": 1569089454, "answer_id": 58042892, "question_id": 51323233, "link": "https://stackoverflow.com/questions/51323233/flutter-how-to-rotate-an-image-around-the-center-with-canvas/58042892#58042892", "title": "Flutter - How to rotate an image around the center with canvas", "body": "<p><a href=\"https://stackoverflow.com/questions/58042432/flutter-custompainter-canvas-rotate-pivot/58042557#58042557\">Had the same problem</a>, Solution was simply making your own rotation method in three lines</p>\n\n<pre><code>void rotate(Canvas canvas, double cx, double cy, double angle) {\n  canvas.translate(cx, cy);\n  canvas.rotate(angle);\n  canvas.translate(-cx, -cy);\n}\n</code></pre>\n\n<p>We thus first move the canvas towards the point you want to pivot around. We then rotate along the the topleft (default for Flutter) which in coordinate space is the pivot you want and then put the canvas back to the desired position, with the rotation applied. Method is very efficient, requiring only 4 additions for the translation and the rotation cost is identical to the original one.</p>\n"}], "owner": {"reputation": 1729, "user_id": 1579939, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8529d416ed7ef60b7027d11b1e0ed22f?s=128&d=identicon&r=PG", "display_name": "Natwar Singh", "link": "https://stackoverflow.com/users/1579939/natwar-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7882, "favorite_count": 0, "accepted_answer_id": 54336099, "answer_count": 3, "score": 3, "last_activity_date": 1611657503, "creation_date": 1531478250, "question_id": 51323233, "link": "https://stackoverflow.com/questions/51323233/flutter-how-to-rotate-an-image-around-the-center-with-canvas", "title": "Flutter - How to rotate an image around the center with canvas", "body": "<p>I am trying to implement a custom painter that can draw an image (scaled down version) on the canvas and the drawn image can be rotated and scaled.</p>\n\n<p>I get to know that to scale the image I have to scale the canvas using scale method. </p>\n\n<p><strong>Now the questions is how to rotate the scaled image on its center (or any other point). The rotate method of canvas allow only to rotate on top left corner.</strong></p>\n\n<p><a href=\"https://gist.github.com/netsmertia/53170bf3a0b2e9fe7822d3786e00971a#file-imagescaleandrotate-dart-L98\" rel=\"nofollow noreferrer\">Here is my implementation that can be extended</a></p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 843, "user_id": 3400771, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QevHb.jpg?s=128&g=1", "display_name": "Poras Bhardwaj", "link": "https://stackoverflow.com/users/3400771/poras-bhardwaj"}, "edited": false, "score": 0, "creation_date": 1531479055, "post_id": 51323228, "comment_id": 89621928, "body": "Tahnks @Raouf, It would good if  you could elaborate the difference a little. Please!"}, {"owner": {"reputation": 19333, "user_id": 4511702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8D658.jpg?s=128&g=1", "display_name": "Raouf Rahiche", "link": "https://stackoverflow.com/users/4511702/raouf-rahiche"}, "reply_to_user": {"reputation": 843, "user_id": 3400771, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QevHb.jpg?s=128&g=1", "display_name": "Poras Bhardwaj", "link": "https://stackoverflow.com/users/3400771/poras-bhardwaj"}, "edited": false, "score": 0, "creation_date": 1531479980, "post_id": 51323228, "comment_id": 89622464, "body": "@PorasBhardwaj what do you want exactly to know ?"}, {"owner": {"reputation": 843, "user_id": 3400771, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QevHb.jpg?s=128&g=1", "display_name": "Poras Bhardwaj", "link": "https://stackoverflow.com/users/3400771/poras-bhardwaj"}, "edited": false, "score": 0, "creation_date": 1531481894, "post_id": 51323228, "comment_id": 89623466, "body": "@RaoufRahiche I wanted to know what happened when we pass increaseCount() or increaseCount. Natwar elobrate a little in his answer. Please share If you have more info."}, {"owner": {"reputation": 403, "user_id": 4722635, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b3dfa6ba31fec73a9f330845c6948fd7?s=128&d=identicon&r=PG&f=1", "display_name": "zeromaro", "link": "https://stackoverflow.com/users/4722635/zeromaro"}, "edited": false, "score": 0, "creation_date": 1567697785, "post_id": 51323228, "comment_id": 102049263, "body": "Hi @RaoufRahiche, I just had exactly same issue. I don&#39;t really understand, why it works without (). Could you please explain more in depth about it?"}], "tags": [], "owner": {"reputation": 19333, "user_id": 4511702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8D658.jpg?s=128&g=1", "display_name": "Raouf Rahiche", "link": "https://stackoverflow.com/users/4511702/raouf-rahiche"}, "is_accepted": true, "score": 4, "last_activity_date": 1531478233, "creation_date": 1531478233, "answer_id": 51323228, "question_id": 51323114, "link": "https://stackoverflow.com/questions/51323114/callback-function-not-working-in-flutter/51323228#51323228", "title": "Callback function not working in flutter", "body": "<p>remove the the bracket in <code>increaseCount()</code> because using the bracket  you are creating an instance of your <code>VoidCallback</code>  and this will run one time  only so try this</p>\n\n<pre><code>return BoxWidget(onPressed: increaseCount, counter: _counter,);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1729, "user_id": 1579939, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8529d416ed7ef60b7027d11b1e0ed22f?s=128&d=identicon&r=PG", "display_name": "Natwar Singh", "link": "https://stackoverflow.com/users/1579939/natwar-singh"}, "is_accepted": false, "score": 1, "last_activity_date": 1531479074, "creation_date": 1531479074, "answer_id": 51323452, "question_id": 51323114, "link": "https://stackoverflow.com/questions/51323114/callback-function-not-working-in-flutter/51323452#51323452", "title": "Callback function not working in flutter", "body": "<p>You should provide the reference of <code>increaseCount</code> to the <code>onPressed</code> callback. </p>\n\n<p>Here you are assigning <code>increaseCount()</code> (check braces) to the callback which first call <code>increaseCount()</code> function and its return value will be assigned to the <code>onPressed</code>. Thats why it is only incrementing one time on hot reload. </p>\n\n<pre><code>return BoxWidget(onPressed: increaseCount, counter: _counter,);\n</code></pre>\n"}], "owner": {"reputation": 843, "user_id": 3400771, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QevHb.jpg?s=128&g=1", "display_name": "Poras Bhardwaj", "link": "https://stackoverflow.com/users/3400771/poras-bhardwaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5502, "favorite_count": 0, "accepted_answer_id": 51323228, "answer_count": 2, "score": 1, "last_activity_date": 1531479074, "creation_date": 1531477820, "question_id": 51323114, "link": "https://stackoverflow.com/questions/51323114/callback-function-not-working-in-flutter", "title": "Callback function not working in flutter", "body": "<p>Creating an example to learn callbacks in <code>Flutter</code>. It's a simple programme to increase the counter onTap of a <code>GestureDetetor</code> But, the callback method is not working. The count increase on hot reload but not on tap. Below is the code with comments.</p>\n\n<pre><code>class BoxState extends State&lt;ChangeBoxState&gt;{\n  int _counter = 0;\n\n  //Callback method changes the state onTap of GestureDetector widget. It is not calling onTap.\n  increaseCount(){\n    setState(() {\n      ++_counter;\n      print(_counter);\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    // Passing the callback method,\"increaseCount()\" to stateless class where GestureDetector is defined.\n    return BoxWidget(onPressed: increaseCount(), counter: _counter,);\n  }\n\n}\n</code></pre>\n\n<p>Stateless class:</p>\n\n<pre><code>class BoxWidget extends StatelessWidget{\n\n  BoxWidget({this.onPressed, this.counter});\n\n  final VoidCallback onPressed;\n  final int counter;\n\n  @override\n  Widget build(BuildContext context) {\n    // TODO: implement build\n    return Container(\n      decoration: BoxDecoration(color: Colors.blue[500]),\n      child: Column(\n        children: &lt;Widget&gt;[Center(child: Text('Hello, world!')),\n        GestureDetector(\n          onTap: onPressed, //Passing onPressed to onTap.\n\n          child: Container(\n            margin: const EdgeInsets.only(left:0.0, top:200.0, right:0.0, bottom:0.0),\n            height: 200.0,\n            width: 200.0,\n            decoration: BoxDecoration(\n              color: Colors.teal[200],\n              border: Border.all(color: Colors.yellow, width: 10.0, style: BorderStyle.solid),\n              borderRadius: BorderRadius.all(Radius.circular(20.0)),\n            ),\n            child: Center(child: Text(counter.toString())),\n          ),\n        ),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>\n"}]