[{"tags": ["annotations", "dart", "metadata"], "answers": [{"comments": [{"owner": {"reputation": 705, "user_id": 5396835, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w4iDZ.jpg?s=128&g=1", "display_name": "Jonas Bojesen", "link": "https://stackoverflow.com/users/5396835/jonas-bojesen"}, "edited": false, "score": 0, "creation_date": 1490215433, "post_id": 42961088, "comment_id": 73018686, "body": "Thanks gave me a clue. Maybe dart-polymer could be a little misleading, I suspect some of the annotations also are used by js-polymer. Will look at <code>package:reflectable</code> instead."}, {"owner": {"reputation": 19885, "user_id": 1961059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvYjK.jpg?s=128&g=1", "display_name": "rinukkusu", "link": "https://stackoverflow.com/users/1961059/rinukkusu"}, "edited": false, "score": 0, "creation_date": 1490265354, "post_id": 42961088, "comment_id": 73039257, "body": "The link to &quot;Polymer transformer source&quot; seems broken. :)"}, {"owner": {"reputation": 633, "user_id": 5673558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f95c9abf6c7cc8dc21c398e3fc638d3?s=128&d=identicon&r=PG", "display_name": "Tobe O", "link": "https://stackoverflow.com/users/5673558/tobe-o"}, "reply_to_user": {"reputation": 19885, "user_id": 1961059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvYjK.jpg?s=128&g=1", "display_name": "rinukkusu", "link": "https://stackoverflow.com/users/1961059/rinukkusu"}, "edited": false, "score": 1, "creation_date": 1490406392, "post_id": 42961088, "comment_id": 73112867, "body": "@rinukkusu Fixed. :)"}], "tags": [], "owner": {"reputation": 633, "user_id": 5673558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f95c9abf6c7cc8dc21c398e3fc638d3?s=128&d=identicon&r=PG", "display_name": "Tobe O", "link": "https://stackoverflow.com/users/5673558/tobe-o"}, "is_accepted": true, "score": 2, "last_activity_date": 1490406378, "last_edit_date": 1490406378, "creation_date": 1490211297, "answer_id": 42961088, "question_id": 42959207, "link": "https://stackoverflow.com/questions/42959207/howto-access-dart-annotations-metadata/42961088#42961088", "title": "Howto access Dart annotations metadata", "body": "<p>Typically, <a href=\"https://pub.dartlang.org/packages/analyzer\" rel=\"nofollow noreferrer\"><code>package:analyzer</code></a> is used. You'll end up writing a custom visitor for most functions that involve statically analyzing Dart code. If you look at the <a href=\"https://github.com/dart-lang/polymer-dart/blob/master/lib/transformer.dart\" rel=\"nofollow noreferrer\">Polymer transformer source</a>, you'll see it uses <a href=\"https://pub.dartlang.org/packages/reflectable\" rel=\"nofollow noreferrer\">package:reflectable</a> and <a href=\"https://pub.dartlang.org/packages/web_components\" rel=\"nofollow noreferrer\"><code>package:web_components</code></a>, two transformers which use static analysis.</p>\n\n<p><a href=\"https://github.com/dart-lang/web-components/blob/master/lib/transformer.dart\" rel=\"nofollow noreferrer\">https://github.com/dart-lang/web-components/blob/master/lib/transformer.dart</a></p>\n\n<p><a href=\"https://github.com/dart-lang/reflectable/blob/master/reflectable/lib/transformer.dart\" rel=\"nofollow noreferrer\">https://github.com/dart-lang/reflectable/blob/master/reflectable/lib/transformer.dart</a></p>\n"}], "owner": {"reputation": 705, "user_id": 5396835, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w4iDZ.jpg?s=128&g=1", "display_name": "Jonas Bojesen", "link": "https://stackoverflow.com/users/5396835/jonas-bojesen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 582, "favorite_count": 0, "accepted_answer_id": 42961088, "answer_count": 1, "score": 2, "last_activity_date": 1490406378, "creation_date": 1490205084, "last_edit_date": 1495540835, "question_id": 42959207, "link": "https://stackoverflow.com/questions/42959207/howto-access-dart-annotations-metadata", "title": "Howto access Dart annotations metadata", "body": "<p>Got most of the logic behind what is going on here : \n<a href=\"https://stackoverflow.com/questions/21553436/how-to-create-our-own-metadata-in-dart\">How to create our own metadata in Dart?</a></p>\n\n<p>Apart from a thing. The annotation <code>@column</code> is put above the property <code>String name</code>, but I don't grab how this relation is obtained, where is the information with <code>String Person.name</code> located/accessed?</p>\n\n<p>Dart-polymer 0.x uses this intensive. A property is marked for binding with <code>@property</code>.</p>\n\n<p><a href=\"https://github.com/dart-lang/polymer-dart/blob/master/lib/src/common/property.dart#L29\" rel=\"nofollow noreferrer\">https://github.com/dart-lang/polymer-dart/blob/master/lib/src/common/property.dart#L29</a></p>\n\n<p><a href=\"https://github.com/dart-lang/polymer-dart/wiki/properties\" rel=\"nofollow noreferrer\">https://github.com/dart-lang/polymer-dart/wiki/properties</a></p>\n\n<p>So it works, looking into the Dart-polymer source don't give me that much of a clue.</p>\n"}, {"tags": ["dart", "dart-js-interop", "dart-isolates"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1490194662, "post_id": 42948602, "comment_id": 73005245, "body": "AFAIK this will be fixed with DDC (Dart development compiler) when there is no dependency on Dartium for development anymore which makes such scenarios complicated."}], "answers": [{"comments": [{"owner": {"reputation": 641, "user_id": 6461389, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/076e73542aee89c4f29beca9b3595d5b?s=128&d=identicon&r=PG&f=1", "display_name": "SSS", "link": "https://stackoverflow.com/users/6461389/sss"}, "edited": false, "score": 0, "creation_date": 1490520400, "post_id": 42955230, "comment_id": 73140371, "body": "Thanks - checked this and that was exactly it."}], "tags": [], "owner": {"reputation": 30488, "user_id": 22483, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b337d1e52bf3d796a7728def67a602fd?s=128&d=identicon&r=PG", "display_name": "Randal Schwartz", "link": "https://stackoverflow.com/users/22483/randal-schwartz"}, "is_accepted": true, "score": 1, "last_activity_date": 1490194508, "creation_date": 1490194508, "answer_id": 42955230, "question_id": 42948602, "link": "https://stackoverflow.com/questions/42948602/dart-using-jsobject-and-window-api-in-an-isolate/42955230#42955230", "title": "Dart: Using JsObject and window API in an isolate", "body": "<p>I've read somewhere that only the main thread has access to the DOM, which would cause any other JS action to fail if not in the main thread.</p>\n"}], "owner": {"reputation": 641, "user_id": 6461389, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/076e73542aee89c4f29beca9b3595d5b?s=128&d=identicon&r=PG&f=1", "display_name": "SSS", "link": "https://stackoverflow.com/users/6461389/sss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 42955230, "answer_count": 1, "score": 0, "last_activity_date": 1490194508, "creation_date": 1490177694, "last_edit_date": 1495535410, "question_id": 42948602, "link": "https://stackoverflow.com/questions/42948602/dart-using-jsobject-and-window-api-in-an-isolate", "title": "Dart: Using JsObject and window API in an isolate", "body": "<p>I am having some difficulties making use of isolates in Dart. The first problem is I wanted to use dart:js to use a javascript library in one of my isolates. I tried with the following code:</p>\n\n<pre><code>void runCode(SendPort sendPort)\n{\n    print(\"still ok...\");\n    JsObject object = new JsObject(context['jsCode']);\n    print(\"still ok?\");\n}\n\nvoid main()\n{\n    ReceivePort receivePort = new ReceivePort();\n    JsObject object = new JsObject(context['jsCode']);\n    print(\"ok so far\");\n    Isolate.spawn(runCode, receivePort.sendPort);\n}\n</code></pre>\n\n<p>The code runs as far as \"still ok...\" in the runCode function and breaks when I try to use JsObject.</p>\n\n<p>The second problem was I wanted to use the fileSystem API in the isolate. So I tried the following:</p>\n\n<pre><code>void runCode(SendPort sendPort)\n{\n    window.requestFileSystem.then((FileSystem filesytem) =&gt; print('ok'));\n}\n\nvoid main()\n{\n    ReceivePort receivePort = new ReceivePort();\n    Isolate.spawn(runCode, receivePort.sendPort);\n}\n</code></pre>\n\n<p>This second example breaks when I reach the filesystem.</p>\n\n<p>I have read: <a href=\"https://stackoverflow.com/questions/23419979/dart-isolate-not-working-when-using-html-import\">Dart : Isolate not working when using html import</a> and from here it suggests that dart:html cannot be used in an isolate. Is this the reason why the filesystem API will not work? Is this the same case for dart:js? Or am I completely missing something?</p>\n\n<p>Thanks for any help!</p>\n"}, {"tags": ["dart", "angular-dart", "angular2-dart", "dart-angular-templates"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1490129681, "post_id": 42936803, "comment_id": 72972889, "body": "I don&#39;t see why these &quot;Does not work&quot; examples would not work. Do you get an error? <code>&lt;br&#47;&gt;</code> in <code>{{...}}</code> won&#39;t work though because it will be added as text, not as markup."}, {"owner": {"reputation": 11950, "user_id": 576746, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fd655b00d23f25a744dbd630b7fdd09d?s=128&d=identicon&r=PG", "display_name": "Blackbam", "link": "https://stackoverflow.com/users/576746/blackbam"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1490130023, "post_id": 42936803, "comment_id": 72973069, "body": "Must check when back to the project. So you think for Strings only it should work and for markup I have to use <code>*ngIf</code> ?"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1490130171, "post_id": 42936803, "comment_id": 72973150, "body": "For markup you can use something like <code>&lt;div [innerHTML]=&quot;&lt;br&#47;&gt;&quot;</code> but I guess <code>&lt;</code> and <code>&gt;</code> in a literal string inside the template won&#39;t work because it invalidates the templates HTML. You can use markup if it is stored in a variable though and also do concatenation inside the template."}], "answers": [{"comments": [{"owner": {"reputation": 11950, "user_id": 576746, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fd655b00d23f25a744dbd630b7fdd09d?s=128&d=identicon&r=PG", "display_name": "Blackbam", "link": "https://stackoverflow.com/users/576746/blackbam"}, "edited": false, "score": 0, "creation_date": 1490127429, "post_id": 42937195, "comment_id": 72971587, "body": "Upvote but in a top level component I may end up with very much getters which blow the controller .. is there another way?"}, {"owner": {"reputation": 4118, "user_id": 5189745, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9KVgR-blq7M/AAAAAAAAAAI/AAAAAAAAB8s/fy6ZAPen-_c/photo.jpg?sz=128", "display_name": "Hadrien Lejard", "link": "https://stackoverflow.com/users/5189745/hadrien-lejard"}, "reply_to_user": {"reputation": 11950, "user_id": 576746, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fd655b00d23f25a744dbd630b7fdd09d?s=128&d=identicon&r=PG", "display_name": "Blackbam", "link": "https://stackoverflow.com/users/576746/blackbam"}, "edited": false, "score": 0, "creation_date": 1490129802, "post_id": 42937195, "comment_id": 72972951, "body": "what error do you have with the two last examples ?, like G&#252;nter said, <code>&lt;br&#47;&gt;</code> inside <code>{{...}}</code> wont&#39; work, <code>&lt;br&#47;&gt;</code> should be outside"}], "tags": [], "owner": {"reputation": 4118, "user_id": 5189745, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9KVgR-blq7M/AAAAAAAAAAI/AAAAAAAAB8s/fy6ZAPen-_c/photo.jpg?sz=128", "display_name": "Hadrien Lejard", "link": "https://stackoverflow.com/users/5189745/hadrien-lejard"}, "is_accepted": true, "score": 5, "last_activity_date": 1490126936, "creation_date": 1490126936, "answer_id": 42937195, "question_id": 42936803, "link": "https://stackoverflow.com/questions/42936803/angular-2-dart-template-syntax-how-to-concatenate-strings/42937195#42937195", "title": "Angular 2 Dart: Template syntax - how to concatenate strings?", "body": "<p>The best way is to declare a getter inside your Component controller that does the concatenation for you, you will get dart syntax support and the html template will looks cleaner.</p>\n\n<pre><code>String get myConcatenation =&gt; \"${order.pickupPlace.name}${order.pickupPlace.email}\";\n\n\n&lt;div id=\"abc\"&gt;\n   {{myConcatenation}}\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7339, "user_id": 37086, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b0c677599ee6fa21baa6dfe4e19683e6?s=128&d=identicon&r=PG", "display_name": "rkj", "link": "https://stackoverflow.com/users/37086/rkj"}, "is_accepted": false, "score": 4, "last_activity_date": 1490130807, "creation_date": 1490130807, "answer_id": 42938224, "question_id": 42936803, "link": "https://stackoverflow.com/questions/42936803/angular-2-dart-template-syntax-how-to-concatenate-strings/42938224#42938224", "title": "Angular 2 Dart: Template syntax - how to concatenate strings?", "body": "<p>The last two examples can be made to work easily:</p>\n\n<pre><code>&lt;div id=\"abc\"&gt;\n  &lt;br/&gt;{{order.pickupPlace.email}}\n&lt;/div&gt;\n</code></pre>\n\n<p>And:</p>\n\n<pre><code>&lt;div id=\"abc\"&gt;\n  {{order.pickupPlace.name}} {{order.pickupPlace.email}}\n&lt;/div&gt;\n</code></pre>\n\n<p>Angular handles this pretty well. If you need some more complicated logic you can move it to the Dart code (but you cannot use HTML there easily).</p>\n\n<p>If you find creating lot of weird logic consider creating more smaller components that can handle this for you.</p>\n"}], "owner": {"reputation": 11950, "user_id": 576746, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fd655b00d23f25a744dbd630b7fdd09d?s=128&d=identicon&r=PG", "display_name": "Blackbam", "link": "https://stackoverflow.com/users/576746/blackbam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26107, "favorite_count": 0, "accepted_answer_id": 42937195, "answer_count": 2, "score": 4, "last_activity_date": 1490130807, "creation_date": 1490125560, "question_id": 42936803, "link": "https://stackoverflow.com/questions/42936803/angular-2-dart-template-syntax-how-to-concatenate-strings", "title": "Angular 2 Dart: Template syntax - how to concatenate strings?", "body": "<p>Feels like a dumb question but I do not get it. How can I do fast string concatenation in Angular 2 Dart templates?</p>\n\n<p>I have a seperate html file for my component lets say <em>my_component.html</em>:</p>\n\n<p>Works:</p>\n\n<pre><code>....\n&lt;div id=\"abc\"&gt;\n{{order.pickupPlace.email}}\n&lt;/div&gt;\n...\n</code></pre>\n\n<p>Works:</p>\n\n<pre><code>....\n&lt;div id=\"abc\"&gt;\n{{ ((order.pickupPlace.state) ? order.pickupPlace.state+\" \":'')}}\n&lt;/div&gt;\n...\n</code></pre>\n\n<p>Does not work:</p>\n\n<pre><code>....\n&lt;div id=\"abc\"&gt;\n{{\"&lt;br/&gt;\"+order.pickupPlace.email}}\n&lt;/div&gt;\n...\n</code></pre>\n\n<p>Does not work:</p>\n\n<pre><code>....\n&lt;div id=\"abc\"&gt;\n{{order.pickupPlace.name+\" \"+order.pickupPlace.email}}\n&lt;/div&gt;\n...\n</code></pre>\n\n<p>Have tried to find an answer in the docs here (<a href=\"https://webdev.dartlang.org/angular/guide/template-syntax#!#expression-operators\" rel=\"nofollow noreferrer\">https://webdev.dartlang.org/angular/guide/template-syntax#!#expression-operators</a>) but no luck. </p>\n\n<p>Of course I could use <code>*ngIf</code> on every element which I output conditionally but is there a way for simple string concatenation?</p>\n"}, {"tags": ["dart", "dart-polymer"], "answers": [{"tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 4, "last_activity_date": 1490106369, "creation_date": 1490106369, "answer_id": 42929893, "question_id": 42929683, "link": "https://stackoverflow.com/questions/42929683/what-is-the-purpose-of-putting-override-in-my-polymerdart-methods-when-it-work/42929893#42929893", "title": "What is the purpose of putting @override in my PolymerDart methods, when it works without?", "body": "<p>If you enable the <a href=\"https://pub.dartlang.org/packages/linter\" rel=\"nofollow noreferrer\">linter</a> rule <a href=\"http://dart-lang.github.io/linter/lints/annotate_overrides.html\" rel=\"nofollow noreferrer\">annotate_overrides</a> the DartAnalyzer provides hints </p>\n\n<ul>\n<li>for members that override other members of superclasses or interfaces, but don't have the <code>@override</code> annotation</li>\n<li>for members that have the <code>@override</code> annotation, but don't actually override other members of superclasses or interfaces.</li>\n</ul>\n\n<p>The <code>@override</code> annotation is helpful if it is used consistently, because it shows when a member is an override.<br>\nThe linter rule ensures that it is used consistently.</p>\n\n<p>There is also the `<a href=\"http://dart-lang.github.io/linter/lints/overridden_fields.html\" rel=\"nofollow noreferrer\">overridden_fields</a> lint, but AFAIK this is going to be deprecated because. This was forbidden until recently in Dart Development compiler but this restriction was removed. I don't know if it is still discouraged, but there are cases where it makes sense and therefore I think the linter rule shouldn't be used anymore because it is prone to cause hints for valid code. </p>\n"}], "owner": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "accepted_answer_id": 42929893, "answer_count": 1, "score": 5, "last_activity_date": 1490106369, "creation_date": 1490105828, "question_id": 42929683, "link": "https://stackoverflow.com/questions/42929683/what-is-the-purpose-of-putting-override-in-my-polymerdart-methods-when-it-work", "title": "What is the purpose of putting @override in my PolymerDart methods, when it works without?", "body": "<p>In terms of creating classes which involve inheritance, some actually need the annotation of override.  When working with PolymerDart though, specifically </p>\n\n<pre><code>@override\nattached(){...}\n</code></pre>\n\n<p>I see no reason why i need it.  It works as expected without it.</p>\n\n<p>Since it is just an annotation, is it just for Developers to see so they understand that function is overriding some other function?</p>\n\n<p>My bet is that it is just for developers, and unlike other annotations which carry out some sort of execution, these do not.</p>\n"}, {"tags": ["intellij-idea", "dart", "angular2-dart"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1489956385, "post_id": 42890191, "comment_id": 72885338, "body": "Sounds like <a href=\"https://github.com/dart-lang/angular2/issues/277#issuecomment-279690371\" rel=\"nofollow noreferrer\">github.com/dart-lang/angular2/issues/277#issuecomment-279690&zwnj;&#8203;371</a>"}, {"owner": {"reputation": 250, "user_id": 944321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/864b949c96626155ceb9f319023579c5?s=128&d=identicon&r=PG", "display_name": "TaisPH", "link": "https://stackoverflow.com/users/944321/taisph"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1489962836, "post_id": 42890191, "comment_id": 72887364, "body": "@G&#252;nterZ&#246;chbauer, that was exactly it. Sooo many hours wasted. Thank you."}], "answers": [{"tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 0, "last_activity_date": 1490976091, "creation_date": 1490976091, "answer_id": 43145034, "question_id": 42890191, "link": "https://stackoverflow.com/questions/42890191/using-intellij-idea-and-the-dart-plugin-where-does-the-dart-exceptions-end-up/43145034#43145034", "title": "Using IntelliJ IDEA and the Dart plugin, where does the Dart exceptions end up?", "body": "<p>This will be fixed in Angular3 beta.x due to be released the next days it seems.</p>\n"}], "owner": {"reputation": 250, "user_id": 944321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/864b949c96626155ceb9f319023579c5?s=128&d=identicon&r=PG", "display_name": "TaisPH", "link": "https://stackoverflow.com/users/944321/taisph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "accepted_answer_id": 43145034, "answer_count": 1, "score": 1, "last_activity_date": 1490976091, "creation_date": 1489946787, "question_id": 42890191, "link": "https://stackoverflow.com/questions/42890191/using-intellij-idea-and-the-dart-plugin-where-does-the-dart-exceptions-end-up", "title": "Using IntelliJ IDEA and the Dart plugin, where does the Dart exceptions end up?", "body": "<p>I've been playing with Angular2 using IntelliJ IDEA (2016.3.5) and the latest Dart plugin, and I just can't figure out where the errors, exceptions, assert failures etc. ends up.</p>\n\n<p>I am running Dartium with <code>DART_FLAGS=\"--checked\"</code> and <code>pub serve</code> seems to default to debug mode as far as I can read. Dart2js is configured to run in checked mode as well and the analysis server is configured for strong mode. I have also tried using the JetBrains Chrome extension so I get everything shown directly in IDEA, including the console saying <code>Observatory listening at http://127.0.0.1:35517/</code>.</p>\n\n<p>When there are no errors the Angular2 Dart app runs just fine in Dartium but if I add an assert some where in the code, ie. on a button trigger, the app just stops working at that point with no error output anywhere. Same goes if there's some other error somewhere that <code>pub serve</code> didn't detect.</p>\n\n<p>Dart and Dartium are both at the currently latest version, 1.22.1.</p>\n"}, {"tags": ["unit-testing", "angular", "mocking", "dart", "mockito"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1489933378, "post_id": 42887057, "comment_id": 72877374, "body": "Do you provide <code>QuizkService</code> in <code>MultipleChoiceQuizComponent</code>? (or in <code>AppComponent</code> or <code>bootstrap(AppCompoennt, [...])</code>?"}, {"owner": {"reputation": 2562, "user_id": 174368, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/384637bfcac484cf8a243ad31f7f6453?s=128&d=identicon&r=PG", "display_name": "Tek", "link": "https://stackoverflow.com/users/174368/tek"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1489934798, "post_id": 42887057, "comment_id": 72877838, "body": "@G&#252;nterZ&#246;chbauer that service is provided in <code>MultipleChoiceQuizComponent</code>"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1489934912, "post_id": 42887057, "comment_id": 72877870, "body": "It doesn&#39;t look like <code>TestBed</code> supports replacing providers of components."}, {"owner": {"reputation": 2562, "user_id": 174368, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/384637bfcac484cf8a243ad31f7f6453?s=128&d=identicon&r=PG", "display_name": "Tek", "link": "https://stackoverflow.com/users/174368/tek"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1489934970, "post_id": 42887057, "comment_id": 72877892, "body": "Damn, I thought that&#39;s what <code>addProviders</code> did :("}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1489935024, "post_id": 42887057, "comment_id": 72877904, "body": "To me it looks like <code>addProviders</code> allows to provide services at the parent of the tested component."}, {"owner": {"reputation": 2562, "user_id": 174368, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/384637bfcac484cf8a243ad31f7f6453?s=128&d=identicon&r=PG", "display_name": "Tek", "link": "https://stackoverflow.com/users/174368/tek"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1489935817, "post_id": 42887057, "comment_id": 72878162, "body": "What do you mean by the parent? That&#39;s a standalone component."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1489935912, "post_id": 42887057, "comment_id": 72878191, "body": "What I mean is that the <code>TestBed</code> can emulate a parent component with providers, but not modify the tested component."}, {"owner": {"reputation": 2562, "user_id": 174368, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/384637bfcac484cf8a243ad31f7f6453?s=128&d=identicon&r=PG", "display_name": "Tek", "link": "https://stackoverflow.com/users/174368/tek"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1489936175, "post_id": 42887057, "comment_id": 72878288, "body": "So there&#39;s no way to provide the mock to <code>MultipleChoiceQuizComponent</code>&#39;s constructor?"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1489936260, "post_id": 42887057, "comment_id": 72878322, "body": "Sure there is, but it looks like there is no way to override a provider you provide at the same component where you inject it."}], "answers": [{"comments": [{"owner": {"reputation": 2562, "user_id": 174368, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/384637bfcac484cf8a243ad31f7f6453?s=128&d=identicon&r=PG", "display_name": "Tek", "link": "https://stackoverflow.com/users/174368/tek"}, "edited": false, "score": 0, "creation_date": 1490013490, "post_id": 42894015, "comment_id": 72907081, "body": "I&#39;ve added the component code to my question. I&#39;m not sure what you mean by moving the binding higher."}, {"owner": {"reputation": 5606, "user_id": 374798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53255beb029d8a0074a6a65c9d3f63c?s=128&d=identicon&r=PG", "display_name": "Nate Bosch", "link": "https://stackoverflow.com/users/374798/nate-bosch"}, "edited": false, "score": 1, "creation_date": 1490282800, "post_id": 42894015, "comment_id": 73052715, "body": "Instead of putting <code>QuizService</code> in the <code>providers</code> on your component, can you put it in the providers in the call to <code>bootstrap</code>?  &quot;Higher in the tree&quot; means in the providers of a component that is higher in the DOM tree, or in bootstrap which is the root of the DI tree"}, {"owner": {"reputation": 2562, "user_id": 174368, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/384637bfcac484cf8a243ad31f7f6453?s=128&d=identicon&r=PG", "display_name": "Tek", "link": "https://stackoverflow.com/users/174368/tek"}, "reply_to_user": {"reputation": 5606, "user_id": 374798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53255beb029d8a0074a6a65c9d3f63c?s=128&d=identicon&r=PG", "display_name": "Nate Bosch", "link": "https://stackoverflow.com/users/374798/nate-bosch"}, "edited": false, "score": 0, "creation_date": 1490285566, "post_id": 42894015, "comment_id": 73054999, "body": "@Nate Too bad it&#39;s against Angular best practices <a href=\"https://webdev.dartlang.org/angular/guide/hierarchical-dependency-injection#webmaindart-bad-alternative\" rel=\"nofollow noreferrer\">webdev.dartlang.org/angular/guide/&hellip;</a>"}, {"owner": {"reputation": 5606, "user_id": 374798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53255beb029d8a0074a6a65c9d3f63c?s=128&d=identicon&r=PG", "display_name": "Nate Bosch", "link": "https://stackoverflow.com/users/374798/nate-bosch"}, "reply_to_user": {"reputation": 2562, "user_id": 174368, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/384637bfcac484cf8a243ad31f7f6453?s=128&d=identicon&r=PG", "display_name": "Tek", "link": "https://stackoverflow.com/users/174368/tek"}, "edited": false, "score": 0, "creation_date": 1490388764, "post_id": 42894015, "comment_id": 73107421, "body": "@Tek - Does each <code>MultipleChoiceQuizComponent</code> need it&#39;s own instance of a <code>QuizService</code>? That is the situation discussed in the guide you linked. If that is the case then I would recommend against mocking QuizService for your tests."}, {"owner": {"reputation": 2562, "user_id": 174368, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/384637bfcac484cf8a243ad31f7f6453?s=128&d=identicon&r=PG", "display_name": "Tek", "link": "https://stackoverflow.com/users/174368/tek"}, "reply_to_user": {"reputation": 5606, "user_id": 374798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53255beb029d8a0074a6a65c9d3f63c?s=128&d=identicon&r=PG", "display_name": "Nate Bosch", "link": "https://stackoverflow.com/users/374798/nate-bosch"}, "edited": false, "score": 0, "creation_date": 1490687871, "post_id": 42894015, "comment_id": 73211396, "body": "@Nate Ah, ok. It doesn&#39;t need it&#39;s own instance... for now. Although I still don&#39;t understand how the mock the service to make my test pass."}], "tags": [], "owner": {"reputation": 7339, "user_id": 37086, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b0c677599ee6fa21baa6dfe4e19683e6?s=128&d=identicon&r=PG", "display_name": "rkj", "link": "https://stackoverflow.com/users/37086/rkj"}, "is_accepted": false, "score": 2, "last_activity_date": 1490588508, "last_edit_date": 1490588508, "creation_date": 1489969039, "answer_id": 42894015, "question_id": 42887057, "link": "https://stackoverflow.com/questions/42887057/dart-angular-replacing-provider-with-mock-in-unit-testing/42894015#42894015", "title": "Dart Angular replacing provider with mock in unit testing", "body": "<p>You cannot override <code>providers:</code> in the <code>@Component</code> annotation of the widget. </p>\n\n<p>What you can do is move the binding higher in the tree, so that parent (or app bootstrap) provide the binding.</p>\n"}], "owner": {"reputation": 2562, "user_id": 174368, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/384637bfcac484cf8a243ad31f7f6453?s=128&d=identicon&r=PG", "display_name": "Tek", "link": "https://stackoverflow.com/users/174368/tek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 388, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1490588508, "creation_date": 1489929630, "last_edit_date": 1490013408, "question_id": 42887057, "link": "https://stackoverflow.com/questions/42887057/dart-angular-replacing-provider-with-mock-in-unit-testing", "title": "Dart Angular replacing provider with mock in unit testing", "body": "<p>How can I replace the provider <code>QuizService</code> to <code>QuickServiceMock</code> in Angular Dart unit testing?</p>\n\n<p>I tried using <code>addProviders</code> method but that didn't replace <code>QuizService</code> with <code>QuizkServiceMock</code>.</p>\n\n<p>It seems <code>MultipleChoiceQuizComponent</code> is still using the original class <code>QuizkService</code> and not <code>QuizServiceMock</code> like I want it to.</p>\n\n<pre><code>import 'dart:html';\nimport 'package:angular2/angular2.dart';\nimport 'package:angular_test/angular_test.dart';\nimport 'package:test/test.dart';\nimport 'package:mockito/mockito.dart';\n\nimport '...quiz_service.dart';\nimport '...multiple_choice_quiz_component.dart';\nimport '...multiple_choice_quiz.dart';\n\nclass MockQuizService extends Mock implements QuizService {}\n\n@AngularEntrypoint()\nvoid main()\n{\n    group('$MultipleChoiceQuizComponent', () {\n        MockQuizService quizServiceMock;\n        setUp(() async {\n            quizServiceMock = new MockQuizService();\n            List&lt;String&gt; mockChoiceList = [\n                \"incorrect1\",\n                \"incorrect2\",\n                \"correct answer\",\n                \"incorrect3\"\n            ];\n            when(quizServiceMock.getQuiz())\n                .thenReturn(\n                    new MultipleChoiceQuiz(\n                        mockChoiceList,\n                        \"correct answer\",\n                        'test question description'\n                )\n            );\n        });\n\n        test('should add \"incorrect\" css class to incorrect answer', () async {\n            NgTestBed bed = new NgTestBed&lt;MultipleChoiceQuizComponent&gt;().addProviders([\n                provide(QuizService, useValue: quizServiceMock)\n            ]);\n            NgTestFixture fixture = await bed.create();\n            Element answer = fixture.rootElement.querySelector('.quiz-choice:nth-child(2)');\n            answer.dispatchEvent(new MouseEvent('click'));\n            bool hasClass = answer.classes.contains('incorrect');\n            expect(hasClass, true);\n        });\n    });\n\n}\n</code></pre>\n\n<p><strong>multiple_choice_quiz_component.dart:</strong></p>\n\n<pre><code>import 'package:angular2/core.dart';\nimport 'package:angular2/common.dart';\nimport 'package:angular2_components/angular2_components.dart';\n\nimport '.../quiz/quiz.dart';\nimport '.../service/quiz_service.dart';\n\n@Component\n(\n    selector: 'multiple-choice-quiz-component',\n    directives: const [materialDirectives, NgFor],\n    providers: const [materialProviders, QuizService],\n    templateUrl: 'multiple_choice_quiz_component.html',\n    styleUrls: const['/app_component.css', 'quiz.css']\n)\n\nclass MultipleChoiceQuizComponent\n{\n    String selectedAnswer;\n    String description;\n    bool correctAnswer = false;\n    Quiz quiz;\n\n    MultipleChoiceQuizComponent(QuizService quizService)\n    {\n        this.quiz = quizService.getQuiz();\n    }\n\n    void onSelect(String answer)\n    {\n        selectedAnswer = answer;\n        this.correctAnswer = this.quiz.isAnswer(answer);\n    }\n}\n</code></pre>\n\n<p>What am I missing?</p>\n"}, {"tags": ["unit-testing", "angular", "dart"], "answers": [{"tags": [], "owner": {"reputation": 5606, "user_id": 374798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53255beb029d8a0074a6a65c9d3f63c?s=128&d=identicon&r=PG", "display_name": "Nate Bosch", "link": "https://stackoverflow.com/users/374798/nate-bosch"}, "is_accepted": false, "score": 1, "last_activity_date": 1490391975, "creation_date": 1490391975, "answer_id": 43009671, "question_id": 42877684, "link": "https://stackoverflow.com/questions/42877684/cant-run-more-than-one-ngtestbed-in-one-angular-dart-test/43009671#43009671", "title": "Can&#39;t run more than one NgTestBed in one angular dart test", "body": "<p>There appears to be a bug where <code>disposeAnyRunningTest</code> doesn't actually do what we want.</p>\n\n<p><a href=\"https://github.com/dart-lang/angular_test/issues/46\" rel=\"nofollow noreferrer\">https://github.com/dart-lang/angular_test/issues/46</a></p>\n\n<p>This is why it behaves differently for you when you have the test cases in separate files, but doesn't work when they run together.</p>\n\n<p>The tests might not work when they aren't properly disposed for a few reasons.</p>\n\n<ul>\n<li>The component you are testing might have a bug which does not allow multiple copies on the page at once. Do you use element ids anywhere that might make them only work when there is a single instance?</li>\n<li><code>Fixture.rootElement</code> might have a bug which is causing it to return the element from the previous test instead of the new one.</li>\n</ul>\n"}], "owner": {"reputation": 2562, "user_id": 174368, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/384637bfcac484cf8a243ad31f7f6453?s=128&d=identicon&r=PG", "display_name": "Tek", "link": "https://stackoverflow.com/users/174368/tek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1490391975, "creation_date": 1489858736, "question_id": 42877684, "link": "https://stackoverflow.com/questions/42877684/cant-run-more-than-one-ngtestbed-in-one-angular-dart-test", "title": "Can&#39;t run more than one NgTestBed in one angular dart test", "body": "<p>I have two test methods in one file. However when I run them the last one fails. </p>\n\n<p>When I try to debug the test inside the browser after the first <code>answer.dispatchEvent(new MouseEvent('click'));</code> executes the event listeners on the second row won't activate as if they weren't able to listen to any click events. I tried clicking manually as well and the rows didn't change color like the first row (using the exact same code).</p>\n\n<pre><code>import 'dart:html';\nimport 'package:angular2/angular2.dart';\nimport 'package:angular_test/angular_test.dart';\nimport 'package:test/test.dart';\n\nimport '...multiple_choice_quiz_component.dart';\n\n@AngularEntrypoint()\nvoid main()\n{\n    tearDown(disposeAnyRunningTest);\n\n    group('$MultipleChoiceQuizComponent', () {\n        test('should add \"incorrect\" css class to incorrect answer', () async {\n            NgTestBed bed = new NgTestBed&lt;MultipleChoiceQuizComponent&gt;();\n            NgTestFixture fixture = await bed.create();\n            Element answer = fixture.rootElement.querySelector('.quiz-choice:nth-child(2)');\n            answer.dispatchEvent(new MouseEvent('click'));\n            bool hasClass = answer.classes.contains('incorrect');\n            expect(hasClass, true);\n        });\n\n        test('should add \"correct\" css class to correct answer', () async {\n            NgTestBed bed = new NgTestBed&lt;MultipleChoiceQuizComponent&gt;();\n            NgTestFixture fixture = await bed.create();\n            Element answer = fixture.rootElement.querySelector('.quiz-choice:nth-child(3)');\n            answer.dispatchEvent(new MouseEvent('click'));\n            bool hasClass = answer.classes.contains('correct');\n            expect(hasClass, true);\n        });\n    });\n\n}\n</code></pre>\n\n<p>Here is a screenshot.</p>\n\n<p><a href=\"https://i.stack.imgur.com/3GMad.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3GMad.png\" alt=\"screenshot\"></a></p>\n\n<p>The first row is the first test method. <code>answer.dispatchEvent(new MouseEvent('click'));</code> executes correctly and the color changes.</p>\n\n<p>However on the second row with the exact same code the whole second row is unresponsive. Like I said it's almost as if the event listeners for the second row are disabled.</p>\n\n<p>In fact, if I put the two methods in different <code>dart</code> test files <strong>both tests pass</strong>.</p>\n\n<p>Why can't I have these two tests in one file?</p>\n"}, {"tags": ["unit-testing", "angular", "dart"], "answers": [{"tags": [], "owner": {"reputation": 2562, "user_id": 174368, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/384637bfcac484cf8a243ad31f7f6453?s=128&d=identicon&r=PG", "display_name": "Tek", "link": "https://stackoverflow.com/users/174368/tek"}, "is_accepted": false, "score": 2, "last_activity_date": 1489847246, "creation_date": 1489847246, "answer_id": 42875586, "question_id": 42873120, "link": "https://stackoverflow.com/questions/42873120/how-to-trigger-component-event-in-angular-dart-tests/42875586#42875586", "title": "How to trigger component event in angular dart tests?", "body": "<p>I thought I wasn't going to figure it out, but I did. </p>\n\n<p>Using a <a href=\"https://github.com/dart-lang/angular2_api_examples/blob/master/testing/test/issue_body_debug.html\" rel=\"nofollow noreferrer\">debug html test file</a> helped a lot. On the console I could set breakpoints. Using the console I could navigate through the methods of these objects to find out what I needed to call.</p>\n\n<pre><code>    NgTestBed bed = new NgTestBed&lt;MultipleChoiceQuizComponent&gt;();\n    NgTestFixture fixture = await bed.create();\n    Element incorrectAnswer = fixture.rootElement.querySelector('.quiz-choice:nth-child(2)');\n    incorrectAnswer.dispatchEvent(new MouseEvent('click'));\n    bool hasClass = incorrectAnswer.classes.contains('incorrect');\n    expect(true, hasClass);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2562, "user_id": 174368, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/384637bfcac484cf8a243ad31f7f6453?s=128&d=identicon&r=PG", "display_name": "Tek", "link": "https://stackoverflow.com/users/174368/tek"}, "edited": false, "score": 0, "creation_date": 1489949265, "post_id": 42888784, "comment_id": 72882779, "body": "How is it used for an example like mine?"}], "tags": [], "owner": {"reputation": 7339, "user_id": 37086, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b0c677599ee6fa21baa6dfe4e19683e6?s=128&d=identicon&r=PG", "display_name": "rkj", "link": "https://stackoverflow.com/users/37086/rkj"}, "is_accepted": false, "score": 1, "last_activity_date": 1489939380, "creation_date": 1489939380, "answer_id": 42888784, "question_id": 42873120, "link": "https://stackoverflow.com/questions/42873120/how-to-trigger-component-event-in-angular-dart-tests/42888784#42888784", "title": "How to trigger component event in angular dart tests?", "body": "<p>You can use PageObjects to interact with the page:\n<a href=\"https://github.com/google/pageloader\" rel=\"nofollow noreferrer\">https://github.com/google/pageloader</a></p>\n"}], "owner": {"reputation": 2562, "user_id": 174368, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/384637bfcac484cf8a243ad31f7f6453?s=128&d=identicon&r=PG", "display_name": "Tek", "link": "https://stackoverflow.com/users/174368/tek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 396, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1489939380, "creation_date": 1489832631, "last_edit_date": 1489833271, "question_id": 42873120, "link": "https://stackoverflow.com/questions/42873120/how-to-trigger-component-event-in-angular-dart-tests", "title": "How to trigger component event in angular dart tests?", "body": "<p>I'm using <code>angular_test.dart</code> to test my components. I want to test that clicking on a particular <code>&lt;li&gt;</code> will mark it as selected.</p>\n\n<p><strong>multiple_choice_quiz_component.html</strong></p>\n\n<pre><code>&lt;div&gt;\n    &lt;div class=\"contain-center\"&gt;\n    &lt;h1&gt;{{quiz.getDescription}}&lt;/h1&gt;\n    &lt;/div&gt;\n    &lt;div class=\"contain-center\"&gt;\n        &lt;ul&gt;\n            &lt;li *ngFor=\"let answer of quiz.getChoiceList\"\n                (click)=\"onSelect(answer)\"\n                [class.selected]=\"answer == selectedAnswer\"\n                [class.correct]=\"correctAnswer &amp;&amp; answer == selectedAnswer\"\n                [class.incorrect]=\"!correctAnswer &amp;&amp; answer == selectedAnswer\"\n            &gt;\n                {{answer}}\n            &lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>multiple_choice_quiz_component.dart</strong></p>\n\n<pre><code>class MultipleChoiceQuizComponent\n{\n    String selectedAnswer;\n    String description;\n    bool correctAnswer = false;\n    Quiz quiz;\n\n    MultipleChoiceQuizComponent(QuizService quizService)\n    {\n        this.quiz = quizService.getQuiz();\n    }\n\n    void onSelect(String answer)\n    {\n        selectedAnswer = answer;\n        this.correctAnswer = this.quiz.isAnswer(answer);\n    }\n}\n</code></pre>\n\n<p><strong>test.dart</strong></p>\n\n<pre><code>...\nimport 'package:angular_test/angular_test.dart';\n....\ngroup('My Tests', () {\n    test('should change li element to selected', () async {\n    var bed = new NgTestBed&lt;MultipleChoiceQuizComponent&gt;();\n    var fixture = await bed.create();\n    await fixture.update((MultipleChoiceQuizComponent Component) {\n    });\n});});\n</code></pre>\n\n<p>In my test, how can I trigger a click on let's say the second <code>&lt;li&gt;</code> and evaluate that it has the selected property? And how do I mock the quiz service and inject it to the constructor?</p>\n"}, {"tags": ["dart"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1489845155, "post_id": 42867696, "comment_id": 72854617, "body": "What is <code>objector</code>. Can you please provide more code?"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1489848201, "post_id": 42867696, "comment_id": 72855570, "body": "This can&#39;t work. How would you create an <code>AdvformBaseComponent</code> (or subclass) if you first need an instance to be able to create one because it&#39;s required as a constructor parameter. How do you provide <code>AdvformObjectComponent</code>?"}, {"owner": {"reputation": 4194, "user_id": 127735, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/pAFe7.jpg?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/127735/jonathan"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1489848428, "post_id": 42867696, "comment_id": 72855643, "body": "It is currently working, the problem is just the analyzer. I need the objector within the base component because the objector is a parent node within the html. it is only a panel basically. I can&#39;t see the complexity here =\\"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1489854376, "post_id": 42867696, "comment_id": 72857572, "body": "Hard to tell what&#39;s going on from the few lines of code you posted."}, {"owner": {"reputation": 7339, "user_id": 37086, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b0c677599ee6fa21baa6dfe4e19683e6?s=128&d=identicon&r=PG", "display_name": "rkj", "link": "https://stackoverflow.com/users/37086/rkj"}, "edited": false, "score": 0, "creation_date": 1489940041, "post_id": 42867696, "comment_id": 72879633, "body": "I do not get any strong errors for the code snippet you provided: <a href=\"https://dartpad.dartlang.org/804d51ad9a85c0f60ec8bec6c252b5b3\" rel=\"nofollow noreferrer\">dartpad.dartlang.org/804d51ad9a85c0f60ec8bec6c252b5b3</a>"}, {"owner": {"reputation": 4194, "user_id": 127735, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/pAFe7.jpg?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/127735/jonathan"}, "edited": false, "score": 0, "creation_date": 1489962220, "post_id": 42867696, "comment_id": 72887209, "body": "Hi, just uploaded the zip with the project: <a href=\"http://vai.la/rzxv\" rel=\"nofollow noreferrer\">vai.la/rzxv</a>"}, {"owner": {"reputation": 4296, "user_id": 39827, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/289adeb0bd8b3017a29329ed94364c3a?s=128&d=identicon&r=PG", "display_name": "Kevin Moore", "link": "https://stackoverflow.com/users/39827/kevin-moore"}, "edited": false, "score": 0, "creation_date": 1490056546, "post_id": 42867696, "comment_id": 72931779, "body": "What version of the Dart SDK are you using? I&#39;m on 1.23.0-dev.9.0 and I see no issues in analyzer"}, {"owner": {"reputation": 4194, "user_id": 127735, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/pAFe7.jpg?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/127735/jonathan"}, "edited": false, "score": 0, "creation_date": 1490103601, "post_id": 42867696, "comment_id": 72954983, "body": "Dart SDK 1.22.1"}], "answers": [{"tags": [], "owner": {"reputation": 4194, "user_id": 127735, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/pAFe7.jpg?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/127735/jonathan"}, "is_accepted": true, "score": 0, "last_activity_date": 1494424188, "creation_date": 1494424188, "answer_id": 43894448, "question_id": 42867696, "link": "https://stackoverflow.com/questions/42867696/analyzer-warns-that-an-argument-type-cant-be-itself/43894448#43894448", "title": "Analyzer warns that an argument type can&#39;t be itself", "body": "<p>the error stopped after the 1.23.0</p>\n"}], "owner": {"reputation": 4194, "user_id": 127735, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/pAFe7.jpg?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/127735/jonathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 43894448, "answer_count": 1, "score": 0, "last_activity_date": 1494424188, "creation_date": 1489787838, "last_edit_date": 1489846291, "question_id": 42867696, "link": "https://stackoverflow.com/questions/42867696/analyzer-warns-that-an-argument-type-cant-be-itself", "title": "Analyzer warns that an argument type can&#39;t be itself", "body": "<p>The error: The argument type 'AdvformBaseComponent(advform/base.dart)' can't be assigned to the parameter type 'AdvformBaseComponent(advform/base.dart)'.</p>\n\n<p>The analyzer is warning that the argument type can't be AdvformBaseComponent, but the function is expecting that exact class as argument: </p>\n\n<pre><code>void addControl(AdvformBaseComponent baseComponent, String fieldName);\n</code></pre>\n\n<p>the below snippet is within a ngOnInit of AdvformBaseComponent.  </p>\n\n<pre><code>objector.addControl(this, name);\n</code></pre>\n\n<p>It only hides the warning if I do a \"addControl(this as dynamic\", but that is so hacky and non performant...<br>\nsdk 1.22.1</p>\n\n<p><a href=\"https://i.stack.imgur.com/2xU8c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2xU8c.png\" alt=\"the weird warning\"></a></p>\n\n<p>EDIT:</p>\n\n<p>The AdvformBaseComponent is an abstract class that is implemented by other components. It is essentially a base class for form components.<br>\nThe AdvformObjectComponent is a panel group of AdvformBaseComponent based components. It is mandatory that any AdvformBaseComponent have a parent of AdvformObjectComponent.<br>\nThey are in the same project and same directory.<br>\nI can share these files if you find it useful, they are browser components anyway.</p>\n\n<pre><code>abstract class AdvformBaseComponent implements OnInit, AfterViewInit,\n        OnDestroy {\n    AdvformObjectComponent objector;\n    AdvformBaseComponent(this.objector, @Optional() this._submitter, this.translator, @Optional() this._group) {\n        if (objector == null)\n            throw new Exception(\n                    'Advform inputs must have a advform-object as parent.');\n    }\n}\n\n\n\n\nclass AdvformObjectComponent implements OnInit {\n  void addControl(AdvformBaseComponent baseComponent, String fieldName) {\n    ...\n  }\n}\n</code></pre>\n"}, {"tags": ["constructor", "dart", "final"], "answers": [{"comments": [{"owner": {"reputation": 5531, "user_id": 3088045, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/N7VDG.jpg?s=128&g=1", "display_name": "Kamafeather", "link": "https://stackoverflow.com/users/3088045/kamafeather"}, "edited": false, "score": 1, "creation_date": 1535769625, "post_id": 42864979, "comment_id": 91199968, "body": "I&#39;d add to <a href=\"https://www.dartlang.org/guides/language/language-tour#final-and-const\" rel=\"nofollow noreferrer\">familiarise with <code>final</code></a> and its implication within constructors, regarding separation of concerns. What&#39;s <code>final</code> is meant to be assigned just once; so Drat provides its interface/sugar to quicker assign value to those properties (common pattern). While, if you are gonna change &#180;x&#180; property&#39;s value, then don&#39;t make it <code>final</code> (or, in case you need more operations/manipulation for setting a final, you can see the <code>factory</code> suggestion by @rkj )"}, {"owner": {"reputation": 554, "user_id": 2199350, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RUDJL.png?s=128&g=1", "display_name": "Nk54", "link": "https://stackoverflow.com/users/2199350/nk54"}, "edited": false, "score": 1, "creation_date": 1554454307, "post_id": 42864979, "comment_id": 97766480, "body": "Hello, what if the class Point inherits another class and must call to its parent constructor with super(x,y) AND instantiating a final field like distanceFromOrigin?"}, {"owner": {"reputation": 554, "user_id": 2199350, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RUDJL.png?s=128&g=1", "display_name": "Nk54", "link": "https://stackoverflow.com/users/2199350/nk54"}, "edited": false, "score": 0, "creation_date": 1554455311, "post_id": 42864979, "comment_id": 97767061, "body": "I found the answer to my question : just separate both instruction with a coma. Notice that the super() call must be the last thing."}, {"owner": {"reputation": 192, "user_id": 3475105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/777fbe62afe35b48c4d0ef73fe325f9d?s=128&d=identicon&r=PG", "display_name": "Bansook Nam", "link": "https://stackoverflow.com/users/3475105/bansook-nam"}, "reply_to_user": {"reputation": 6021, "user_id": 1134192, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/2FKNr.jpg?s=128&g=1", "display_name": "Oliver Dixon", "link": "https://stackoverflow.com/users/1134192/oliver-dixon"}, "edited": false, "score": 2, "creation_date": 1569909179, "post_id": 42864979, "comment_id": 102737706, "body": "@OliverDixon I found this is working  <code>dart  class Point {   final num x;   final num y;   final num distanceFromOrigin;   final num distanceFromOrigin2;    Point(this.x, this.y)       : distanceFromOrigin = sqrt(pow(x, 2) + pow(y, 2)),         distanceFromOrigin2 = sqrt(pow(x, 2) + pow(y, 2)); } </code>"}, {"owner": {"reputation": 192, "user_id": 3475105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/777fbe62afe35b48c4d0ef73fe325f9d?s=128&d=identicon&r=PG", "display_name": "Bansook Nam", "link": "https://stackoverflow.com/users/3475105/bansook-nam"}, "edited": false, "score": 1, "creation_date": 1569909421, "post_id": 42864979, "comment_id": 102737792, "body": "and add <code>, super(key: key)</code> in the end of it."}], "tags": [], "owner": {"reputation": 13635, "user_id": 547365, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ddefbca930fdd39846b698bab7ac3146?s=128&d=identicon&r=PG", "display_name": "w.brian", "link": "https://stackoverflow.com/users/547365/w-brian"}, "is_accepted": true, "score": 149, "last_activity_date": 1562763130, "last_edit_date": 1562763130, "creation_date": 1489776100, "answer_id": 42864979, "question_id": 42864913, "link": "https://stackoverflow.com/questions/42864913/how-do-i-initialize-a-final-class-property-in-a-constructor/42864979#42864979", "title": "How do I initialize a final class property in a constructor?", "body": "<p>You <em>cannot</em> instantiate final fields in the constructor body. There is a special syntax for that:</p>\n\n<pre><code>class Point {\n  final num x;\n  final num y;\n  final num distanceFromOrigin;\n\n  // Old syntax\n  // Point(x, y) :\n  //   x = x,\n  //   y = y,\n  //   distanceFromOrigin = sqrt(pow(x, 2) + pow(y, 2));\n\n  // New syntax\n  Point(this.x, this.y) :\n    distanceFromOrigin = sqrt(pow(x, 2) + pow(y, 2));\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 730, "user_id": 7171329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37f2b5a66f31896ad0caf0d89e911502?s=128&d=identicon&r=PG&f=1", "display_name": "Syph", "link": "https://stackoverflow.com/users/7171329/syph"}, "edited": false, "score": 0, "creation_date": 1599090244, "post_id": 42888819, "comment_id": 112668879, "body": "Late question but what does the factory keyword do here. I thought it was used for deciding whether to return an existing or new object, but you always return a new one here right"}, {"owner": {"reputation": 7339, "user_id": 37086, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b0c677599ee6fa21baa6dfe4e19683e6?s=128&d=identicon&r=PG", "display_name": "rkj", "link": "https://stackoverflow.com/users/37086/rkj"}, "reply_to_user": {"reputation": 730, "user_id": 7171329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37f2b5a66f31896ad0caf0d89e911502?s=128&d=identicon&r=PG&f=1", "display_name": "Syph", "link": "https://stackoverflow.com/users/7171329/syph"}, "edited": false, "score": 0, "creation_date": 1599278750, "post_id": 42888819, "comment_id": 112732269, "body": "The factory is needed, as the Point object cannot be created right away - we first need to compute <code>distance</code>, only then we have everything ready to initialize all the final variables."}], "tags": [], "owner": {"reputation": 7339, "user_id": 37086, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b0c677599ee6fa21baa6dfe4e19683e6?s=128&d=identicon&r=PG", "display_name": "rkj", "link": "https://stackoverflow.com/users/37086/rkj"}, "is_accepted": false, "score": 74, "last_activity_date": 1489939614, "creation_date": 1489939614, "answer_id": 42888819, "question_id": 42864913, "link": "https://stackoverflow.com/questions/42864913/how-do-i-initialize-a-final-class-property-in-a-constructor/42888819#42888819", "title": "How do I initialize a final class property in a constructor?", "body": "<p>You can make it even shorter with <code>this.</code> syntax in the constructor (described in <a href=\"https://www.dartlang.org/guides/language/language-tour#constructors\" rel=\"noreferrer\">https://www.dartlang.org/guides/language/language-tour#constructors</a>):</p>\n\n<pre><code>class Point {\n  final num x;\n  final num y;\n  final num distanceFromOrigin;\n\n  Point(this.x, this.y)\n      : distanceFromOrigin = sqrt(pow(x, 2) + pow(y, 2));\n}\n</code></pre>\n\n<p>If you have some more complicated initialization you should use factory constructor, and the code become:</p>\n\n<pre><code>class Point {\n  final num x;\n  final num y;\n  final num distanceFromOrigin;\n\n  Point._(this.x, this.y, this.distanceFromOrigin);\n\n  factory Point(num x, num y) {\n    num distance = distanceFromOrigin = sqrt(pow(x, 2) + pow(y, 2));\n    return new Point._(x, y, distance);\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4739, "user_id": 1348187, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/dZMOO.jpg?s=128&g=1", "display_name": "Rafael Ruiz Mu&#241;oz", "link": "https://stackoverflow.com/users/1348187/rafael-ruiz-mu%c3%b1oz"}, "is_accepted": false, "score": 2, "last_activity_date": 1589672286, "creation_date": 1589672286, "answer_id": 61845041, "question_id": 42864913, "link": "https://stackoverflow.com/questions/42864913/how-do-i-initialize-a-final-class-property-in-a-constructor/61845041#61845041", "title": "How do I initialize a final class property in a constructor?", "body": "<p>I've come to a dilemma here where I wanted to initialize a final List with no items, and a <code>Stream</code> to be defined inside the constructor (like in this case <code>distanceFromOrigin</code>).</p>\n\n<p>I couldn't do that with any of the answers below, but I mixed them both and it worked.</p>\n\n<p>Example:</p>\n\n<pre><code>class MyBloc {\n  final BehaviorSubject&lt;List&lt;String&gt;&gt; itemsStream;\n  final List&lt;String&gt; items = [];\n\n  MyBloc() : this.itemsStream = BehaviorSubject&lt;List&lt;String&gt;&gt;.seeded([]) {\n    items.addAll(List.generate(20, (index) =&gt; \"Hola! I'm number $index\"));\n    itemsStream.add(items);\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1288, "user_id": 6063416, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/zTPqR.jpg?s=128&g=1", "display_name": "SnuKies", "link": "https://stackoverflow.com/users/6063416/snukies"}, "is_accepted": false, "score": 6, "last_activity_date": 1595157469, "creation_date": 1595157469, "answer_id": 62979549, "question_id": 42864913, "link": "https://stackoverflow.com/questions/42864913/how-do-i-initialize-a-final-class-property-in-a-constructor/62979549#62979549", "title": "How do I initialize a final class property in a constructor?", "body": "<p>I've had a similar problem: I was trying to initialise a <code>final</code> field from the constructor, while simultaneously calling a super constructor. You could think of the following example</p>\n<pre><code>class Point2d {\n  final int x;\n  final int y;\n\n  Point2d.fromCoordinates(Coordinates coordinates)\n      : this.x = coordinates.x,\n        this.y = coordinates.y;\n}\n\nclass Point3d extends Point2d {\n  final int z;\n\n  Point3d.fromCoordinates(Coordinates coordinates)\n      :this.z = coordinates.z,\n        super.fromCoordinates(coordinates);\n}\n</code></pre>\n<pre><code>/// Demo class, to simulate constructing an object\n/// from another object.\nclass Coordinates {\n  final int x;\n  final int y;\n  final int z;\n}\n</code></pre>\n<p>Well apparently this works. You can initialise your final fields by using the above syntax (<em>check Point3d's constructor</em>) and it works just fine!</p>\n<p>Run a small program like this to check:</p>\n<pre><code>void main() {\n  var coordinates = Coordinates(1, 2, 3);\n  var point3d = Point3d.fromCoordinates(coordinates);\n  print(&quot;x: ${point3d.x}, y: ${point3d.y}, z: ${point3d.z}&quot;);\n}\n</code></pre>\n<p>It should prin <code>x: 1, y: 2, z: 3</code></p>\n"}, {"tags": [], "owner": {"reputation": 358195, "user_id": 3681880, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3b7ad8915f552cd4e23caf38eee10030?s=128&d=identicon&r=PG", "display_name": "Suragch", "link": "https://stackoverflow.com/users/3681880/suragch"}, "is_accepted": false, "score": 1, "last_activity_date": 1616742176, "last_edit_date": 1616742176, "creation_date": 1616739784, "answer_id": 66811971, "question_id": 42864913, "link": "https://stackoverflow.com/questions/42864913/how-do-i-initialize-a-final-class-property-in-a-constructor/66811971#66811971", "title": "How do I initialize a final class property in a constructor?", "body": "<p>Here is a simplified summary of the ways to initialize a final class variable.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class MyClass {\n  final int x; //     &lt;-- initialize this\n}\n</code></pre>\n<h2>Initializer value</h2>\n<pre class=\"lang-dart prettyprint-override\"><code>class MyClass {\n  final int x = 'hello'.length;\n}\n</code></pre>\n<p>You'd only use <code>final</code> if the initialization could only be done at runtime. Otherwise, <code>static const</code> is better:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class MyClass {\n  static const int x = 0;\n}\n</code></pre>\n<h2>Initializer formal</h2>\n<pre class=\"lang-dart prettyprint-override\"><code>class MyClass {\n  MyClass(this.x);\n  final int x;\n}\n</code></pre>\n<p>This is the most common approach.</p>\n<h2>Initializer list</h2>\n<pre class=\"lang-dart prettyprint-override\"><code>class MyClass {\n  MyClass(int x) \n    : _x = x;\n  final int _x;\n}\n</code></pre>\n<p>This is useful when you want to keep a field private.</p>\n<h2>Default parameter value</h2>\n<p>You can surround the parameter with square brackets (<code>[]</code>) for an unnamed parameter or curly braces (<code>{}</code>) for a named parameter and then give it a default value.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class MyClass {\n  MyClass({this.x = 0});\n  final int x;\n}\n</code></pre>\n<p>This is useful if you want to make the parameter optional.</p>\n<p>You could accomplish the same thing with an initializer list as well:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class MyClass {\n  MyClass({int? x}) \n    : _x = x ?? 0;\n  final int _x;\n}\n</code></pre>\n<h2>Late initialization</h2>\n<pre class=\"lang-dart prettyprint-override\"><code>class MyClass {\n  MyClass(String? a) {\n    x = a?.length ?? 0;\n  }\n  late final int x;\n}\n</code></pre>\n<p>This is useful if you need to do more complex initialization than is allowed in the initializer list. For example, I've done this when initializing a gesture recognizer in Flutter.</p>\n<h2>Lazy initialization</h2>\n<p>Another advantage of using <code>late</code> is that it doesn't initialize a value until you access the value.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class MyClass {\n  late final int x = _doHeavyTask();\n  int _doHeavyTask() {\n    var sum = 0;\n    for (var i = 0; i &lt; 100000000; i++) {\n      sum += 1;\n    }\n    return sum;\n  }\n}\n</code></pre>\n<p>This is useful if you have a heavy calculation that you only want call if you absolutely need it.</p>\n<p>This doesn't initialize <code>x</code>:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>final myClass = MyClass();\n</code></pre>\n<p>But this does initialize <code>x</code>:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>final myClass = MyClass();\nfinal value = myClass.x;\n</code></pre>\n"}], "owner": {"reputation": 11950, "user_id": 576746, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fd655b00d23f25a744dbd630b7fdd09d?s=128&d=identicon&r=PG", "display_name": "Blackbam", "link": "https://stackoverflow.com/users/576746/blackbam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38839, "favorite_count": 8, "accepted_answer_id": 42864979, "answer_count": 5, "score": 99, "last_activity_date": 1616742176, "creation_date": 1489775885, "last_edit_date": 1536773807, "question_id": 42864913, "link": "https://stackoverflow.com/questions/42864913/how-do-i-initialize-a-final-class-property-in-a-constructor", "title": "How do I initialize a final class property in a constructor?", "body": "<p>In Java you are allowed to do this:</p>\n\n<pre><code>class A {    \n    private final int x;\n\n    public A() {\n        x = 5;\n    }\n}\n</code></pre>\n\n<p>In Dart, I tried:</p>\n\n<pre><code>class A {    \n    final int x;\n\n    A() {\n        this.x = 5;\n    }\n}\n</code></pre>\n\n<p>I get two compilation errors:</p>\n\n<blockquote>\n  <p>The final variable 'x' must be initialized.</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>'x' can't be used as a setter because its final.</p>\n</blockquote>\n\n<p>Is there a way to set final properties in the constructor in Dart?</p>\n"}, {"tags": ["dart"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1489661424, "post_id": 42831703, "comment_id": 72773316, "body": "Currently not supported."}, {"owner": {"reputation": 708, "user_id": 7091129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/884cb1c98e3af6dfe399ed8d90e33ea6?s=128&d=identicon&r=PG&f=1", "display_name": "aelayeb", "link": "https://stackoverflow.com/users/7091129/aelayeb"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1489661634, "post_id": 42831703, "comment_id": 72773492, "body": "&quot;Currently&quot; means it&#39;s planned ? It would really be nice to have this feature, especially when using Flutter where methods can have a lot of parameters."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1489661749, "post_id": 42831703, "comment_id": 72773590, "body": "I don&#39;t think it&#39;s planned, but they are working on more broader changes and something like that might be considered later. You can check the issues <a href=\"https://github.com/dart-lang/sdk/issues\" rel=\"nofollow noreferrer\">github.com/dart-lang/sdk/issues</a>. I guess most features one can think of were already suggested at least once ;-)"}, {"owner": {"reputation": 708, "user_id": 7091129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/884cb1c98e3af6dfe399ed8d90e33ea6?s=128&d=identicon&r=PG&f=1", "display_name": "aelayeb", "link": "https://stackoverflow.com/users/7091129/aelayeb"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1489661967, "post_id": 42831703, "comment_id": 72773760, "body": "Ok thank you ! I&#39;ll check that."}], "answers": [{"tags": [], "owner": {"reputation": 7339, "user_id": 37086, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b0c677599ee6fa21baa6dfe4e19683e6?s=128&d=identicon&r=PG", "display_name": "rkj", "link": "https://stackoverflow.com/users/37086/rkj"}, "is_accepted": false, "score": 3, "last_activity_date": 1489698079, "creation_date": 1489698079, "answer_id": 42844702, "question_id": 42831703, "link": "https://stackoverflow.com/questions/42831703/packing-unpacking-arguments-in-dart/42844702#42844702", "title": "Packing/Unpacking arguments in Dart", "body": "<p>This is not currently supported, but you can very easily pack yourself, by passing a list &amp; map:</p>\n\n<pre><code>void packArguments(List listOfArguments, Map mapOfArguments) {\n    listOfArguments.forEach((arg) =&gt; print(arg));\n    mapOfArguments.forEach((key, val) =&gt; print(\"$key =&gt; $val\"));\n}\n\nvoid main() {\n  packArguments(['a', 3], {'arg1': 'a', 'arg2': 5});\n}\n</code></pre>\n\n<p><a href=\"https://dartpad.dartlang.org/98ed3a3b07a2cca049cde69ca50ca269\" rel=\"nofollow noreferrer\">https://dartpad.dartlang.org/98ed3a3b07a2cca049cde69ca50ca269</a></p>\n"}], "owner": {"reputation": 708, "user_id": 7091129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/884cb1c98e3af6dfe399ed8d90e33ea6?s=128&d=identicon&r=PG&f=1", "display_name": "aelayeb", "link": "https://stackoverflow.com/users/7091129/aelayeb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2743, "favorite_count": 0, "closed_date": 1490249239, "answer_count": 1, "score": 5, "last_activity_date": 1489732431, "creation_date": 1489660812, "last_edit_date": 1489732431, "question_id": 42831703, "link": "https://stackoverflow.com/questions/42831703/packing-unpacking-arguments-in-dart", "closed_reason": "Duplicate", "title": "Packing/Unpacking arguments in Dart", "body": "<p>Is there a way in Dart to pack/unpack arguments in a function (like Python for example) ?</p>\n\n<p>For <strong>packing</strong> example, being able to declare a function like this :</p>\n\n<pre><code>packArguments(*listOfArguments, **mapOfArguments) {\n    listOfArguments.forEach((arg) =&gt; print(arg));\n    mapOfArguments.forEach((key, val) =&gt; print(\"$key =&gt; $val\"));\n}\n</code></pre>\n\n<p>And then doing this :</p>\n\n<pre><code>packArguments(\"I\", \"Put\", \"whatever\", \"I\", \"want, arg1: \"A\", arg2: 1);\n</code></pre>\n\n<p>Would display :</p>\n\n<pre><code>I\nPut\nwhatever\nI\nwant\narg1 =&gt; A\narg2 =&gt; 1\n</code></pre>\n\n<p>As for <strong>unpacking</strong>, being able to do something like that :</p>\n\n<pre><code>functionWithLotOfArgument(a, b, c, d, e, {aa, bb = null, cc = null}) {\n  // do stuff\n}\nvar argList = [1, 2, 3, 4, 5];\nvar argMap = {\"aa\": \"haha\", bb: \"baby\"};\n\nfunctionWithLotOfArgument(*argList, **argMap);\n</code></pre>\n\n<p>Related issue <a href=\"https://github.com/dart-lang/sdk/issues/29087\" rel=\"nofollow noreferrer\">https://github.com/dart-lang/sdk/issues/29087</a></p>\n"}, {"tags": ["unit-testing", "dart", "dart-shelf"], "answers": [{"tags": [], "owner": {"reputation": 1117, "user_id": 3130717, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8dd8c8ecf16e5c83e93d7f2ac2434d52?s=128&d=identicon&r=PG&f=1", "display_name": "Anders", "link": "https://stackoverflow.com/users/3130717/anders"}, "is_accepted": true, "score": 2, "last_activity_date": 1489647176, "creation_date": 1489647176, "answer_id": 42827147, "question_id": 42824533, "link": "https://stackoverflow.com/questions/42824533/unit-testing-with-darts-shelf-rest/42827147#42827147", "title": "Unit testing with dart&#39;s shelf_rest", "body": "<p>To create a unit test (i.e. without a running server) then you need to split <code>myRouter</code> outside of the <code>main</code> function and put it in a file in the <code>lib</code> dir. e.g</p>\n\n<pre><code>import 'dart:convert';\n\nimport 'package:shelf/shelf.dart';\nimport 'package:shelf_rest/shelf_rest.dart';\n\nvar myRouter = router()\n  ..get('/accounts/{accountId}', (Request request) {\n    var account =\n        new Account.build(accountId: getPathParameter(request, 'accountId'));\n    return new Response.ok(JSON.encode(account));\n  });\n\nclass Account {\n  final String accountId;\n\n  Account.build({this.accountId});\n\n  Account.fromJson(Map json) : this.accountId = json['accountId'];\n\n  Map toJson() =&gt; {'accountId': accountId};\n}\n</code></pre>\n\n<p>Then create a test file in the <code>test</code> directory and test like</p>\n\n<pre><code>import 'package:soQshelf_rest/my_router.dart';\nimport 'package:test/test.dart';\nimport 'package:shelf/shelf.dart';\nimport 'dart:convert';\n\nmain() {\n  test('/account/{accountId} should return expected response', () async {\n    final Handler handler = myRouter.handler;\n    final Response response = await handler(\n        new Request('GET', Uri.parse('http://localhost:9999/accounts/123')));\n    expect(response.statusCode, equals(200));\n    expect(JSON.decode(await response.readAsString()),\n        equals({\"accountId\": \"123\"}));\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 162, "user_id": 2517723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73524bd9cfa65502c2075ef1dbc46073?s=128&d=identicon&r=PG", "display_name": "Todd M", "link": "https://stackoverflow.com/users/2517723/todd-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 42827147, "answer_count": 1, "score": 2, "last_activity_date": 1489647176, "creation_date": 1489633398, "question_id": 42824533, "link": "https://stackoverflow.com/questions/42824533/unit-testing-with-darts-shelf-rest", "title": "Unit testing with dart&#39;s shelf_rest", "body": "<p>I'm trying to test a Dart REST app run on <a href=\"https://pub.dartlang.org/packages/shelf_rest\" rel=\"nofollow noreferrer\">shelf_rest</a>. Assuming a setup similar to the <code>shelf_rest</code> example, how can one test the configured routes without actually running an HTTP server?</p>\n\n<pre><code>import 'package:shelf/shelf.dart';\nimport 'package:shelf/shelf_io.dart' as io;\nimport 'package:shelf_rest/shelf_rest.dart';\n\nvoid main() {\n  var myRouter = router()\n    ..get('/accounts/{accountId}', (Request request) {\n      var account = new Account.build(accountId: getPathParameter(request, 'accountId'));\n      return new Response.ok(JSON.encode(account));\n    });\n\n  io.serve(myRouter.handler, 'localhost', 8080);\n}\n\nclass Account {\n  final String accountId;\n\n  Account.build({this.accountId});\n\n  Account.fromJson(Map json) : this.accountId = json['accountId'];\n\n  Map toJson() =&gt; {'accountId': accountId};\n}  \n\nclass AccountResource {\n  @Get('{accountId}')\n  Account find(String accountId) =&gt; new Account.build(accountId: accountId);\n}\n</code></pre>\n\n<p>Without getting into too much additional logic, how could the GET <code>account</code> endpoint be unit tested? Some basic tests I'd like to run would be:</p>\n\n<ul>\n<li><code>GET /accounts/123</code> returns 200</li>\n<li><code>GET /accounts/bogus</code> returns 404</li>\n</ul>\n"}]