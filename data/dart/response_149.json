[{"tags": ["angular", "dart", "angular-dart", "angular-components"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1510742705, "post_id": 47303187, "comment_id": 81560984, "body": "Highlighting &quot;AngularDart dropdown select&quot; doesn&#39;t help if you&#39;re actually using <code>material-dropdown-select</code>. You still didn&#39;t add your code to the question."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1510744083, "post_id": 47303187, "comment_id": 81561912, "body": "Have you tried trigger as suggested in my answer?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8943960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bae8a4f1e172e2eb15481cba167bfdb6?s=128&d=identicon&r=PG&f=1", "display_name": "Leah L", "link": "https://stackoverflow.com/users/8943960/leah-l"}, "edited": false, "score": 0, "creation_date": 1510745763, "post_id": 47303345, "comment_id": 81562952, "body": "I tried your suggested and it doesn&#39;t work, but <code>material-select</code> is diffrent from <code>material-dropdown-select</code> because I used <code>[Options]</code> and not <code>material-select-item</code> so I need to use event that is relevant for <code>material-dropdown-select</code>."}, {"owner": {"reputation": 11, "user_id": 8943960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bae8a4f1e172e2eb15481cba167bfdb6?s=128&d=identicon&r=PG&f=1", "display_name": "Leah L", "link": "https://stackoverflow.com/users/8943960/leah-l"}, "edited": false, "score": 0, "creation_date": 1510750734, "post_id": 47303345, "comment_id": 81566335, "body": "Do you have a sample code for it? I didn&#39;t understand how to do it."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 11, "user_id": 8943960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bae8a4f1e172e2eb15481cba167bfdb6?s=128&d=identicon&r=PG&f=1", "display_name": "Leah L", "link": "https://stackoverflow.com/users/8943960/leah-l"}, "edited": false, "score": 0, "creation_date": 1510751492, "post_id": 47303345, "comment_id": 81566861, "body": "It would be better if you posted the code that demonstrates what you tried and where you failed."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 11, "user_id": 8943960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bae8a4f1e172e2eb15481cba167bfdb6?s=128&d=identicon&r=PG&f=1", "display_name": "Leah L", "link": "https://stackoverflow.com/users/8943960/leah-l"}, "edited": false, "score": 0, "creation_date": 1510816712, "post_id": 47303345, "comment_id": 81598115, "body": "Glad to hear. . ."}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 2, "last_activity_date": 1510746361, "last_edit_date": 1510746361, "creation_date": 1510737096, "answer_id": 47303345, "question_id": 47303187, "link": "https://stackoverflow.com/questions/47303187/angulardart-components-dropdown-selects-selectionchange-event/47303345#47303345", "title": "AngularDart Components Dropdown Selects selectionChange event", "body": "<p>You can subscribe to <a href=\"https://github.com/dart-lang/angular_components/blob/a616a05190402f9127ddadd057948f0920dbd467/lib/src/model/selection/selection_change_notifier.dart#L22\" rel=\"nofollow noreferrer\"><code>selectionChanges</code></a> of the <a href=\"https://github.com/dart-lang/angular_components_example/blob/master/lib/src/material_select_demo/material_select_demo.dart#L146\" rel=\"nofollow noreferrer\">selection model</a> </p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8943960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bae8a4f1e172e2eb15481cba167bfdb6?s=128&d=identicon&r=PG&f=1", "display_name": "Leah L", "link": "https://stackoverflow.com/users/8943960/leah-l"}, "is_accepted": false, "score": 1, "last_activity_date": 1510815998, "creation_date": 1510815998, "answer_id": 47323560, "question_id": 47303187, "link": "https://stackoverflow.com/questions/47303187/angulardart-components-dropdown-selects-selectionchange-event/47323560#47323560", "title": "AngularDart Components Dropdown Selects selectionChange event", "body": "<p>Based on the answer from G\u00fcnter I wrote this code and it works!</p>\n\n<pre><code>singleSelectModel.selectionChanges.listen((e)=&gt;onChange());\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8943960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bae8a4f1e172e2eb15481cba167bfdb6?s=128&d=identicon&r=PG&f=1", "display_name": "Leah L", "link": "https://stackoverflow.com/users/8943960/leah-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 473, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1514555139, "creation_date": 1510736565, "last_edit_date": 1514555139, "question_id": 47303187, "link": "https://stackoverflow.com/questions/47303187/angulardart-components-dropdown-selects-selectionchange-event", "title": "AngularDart Components Dropdown Selects selectionChange event", "body": "<p>I'm using <code>material-dropdown-select</code> component, but I didn't find the way to trigger the event when the user changes the  selection.</p>\n\n<p>(on selection change ??)</p>\n\n<pre><code>&lt;material-dropdown-select class=\"psDropDown\" dir=\"rtl\"\n                    [buttonText]=\"dropDownSelectLabel\" \n                    [selection]=\"singleSelectModel\" \n                    [options]=\"lookUpOptions\"\n                    &gt;&lt;/material-dropdown-select&gt;\n</code></pre>\n\n<p>How can I react to a selection change event</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 1978, "user_id": 8079239, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/630167203460c27c1bbaef40358c828f?s=128&d=identicon&r=PG&f=1", "display_name": "grepLines", "link": "https://stackoverflow.com/users/8079239/greplines"}, "edited": false, "score": 1, "creation_date": 1510701638, "post_id": 47296753, "comment_id": 81545135, "body": "How can I test it locally before submitting a pull request? I think running <code>flutter packages get</code> will get the published plugin."}, {"owner": {"reputation": 159093, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "reply_to_user": {"reputation": 1978, "user_id": 8079239, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/630167203460c27c1bbaef40358c828f?s=128&d=identicon&r=PG&f=1", "display_name": "grepLines", "link": "https://stackoverflow.com/users/8079239/greplines"}, "edited": false, "score": 1, "creation_date": 1510703286, "post_id": 47296753, "comment_id": 81545689, "body": "You can specify a local path for your plugin instead of a version number."}], "tags": [], "owner": {"reputation": 159093, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "is_accepted": false, "score": 2, "last_activity_date": 1510700843, "creation_date": 1510700843, "answer_id": 47296753, "question_id": 47296617, "link": "https://stackoverflow.com/questions/47296617/how-to-modify-plugins-dart-code-flutter/47296753#47296753", "title": "How to modify plugins Dart code Flutter?", "body": "<p>With the git reposity of the desired plugin <a href=\"https://github.com/apptreesoftware/flutter_google_map_view\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Clone it.</p>\n\n<p>Make your modification</p>\n\n<p>Submit a pull request.</p>\n\n<p>And done</p>\n"}, {"tags": [], "owner": {"reputation": 6165, "user_id": 10005707, "user_type": "registered", "profile_image": "https://graph.facebook.com/1752900328133019/picture?type=large", "display_name": "Jaswant Singh", "link": "https://stackoverflow.com/users/10005707/jaswant-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1533013257, "creation_date": 1533013257, "answer_id": 51605736, "question_id": 47296617, "link": "https://stackoverflow.com/questions/47296617/how-to-modify-plugins-dart-code-flutter/51605736#51605736", "title": "How to modify plugins Dart code Flutter?", "body": "<p>We usually use packages by importing them in the files where we need them.\nTo modify a plugin, you need to Ctrl + click on the import line (for e.g. import 'package:dio/dio.dart';) ctrl + clicking on this line will open the source code for this plugin. You can edit the code there. \nRemember, the change won't be permanent and if you push your code to git and then clone it later, the changes you've done will be reverted to the original. \nSo to avoid this, you can just copy all the source code and make a separate dart file and copy and modify all the code there to play safe.</p>\n"}, {"comments": [{"owner": {"reputation": 1233, "user_id": 7621577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67c6ec2ea181bac7c08b49a7172d3fb5?s=128&d=identicon&r=PG&f=1", "display_name": "rmalviya", "link": "https://stackoverflow.com/users/7621577/rmalviya"}, "edited": false, "score": 1, "creation_date": 1576228812, "post_id": 53886647, "comment_id": 104839250, "body": "One can always refer to official <a href=\"https://flutter.dev/docs/development/packages-and-plugins/using-packages#dependencies-on-unpublished-packages\" rel=\"nofollow noreferrer\">documentation</a> and use local directory or Git repository."}, {"owner": {"reputation": 2324, "user_id": 12000053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6PcKp.jpg?s=128&g=1", "display_name": "Sagar Acharya", "link": "https://stackoverflow.com/users/12000053/sagar-acharya"}, "edited": false, "score": 0, "creation_date": 1580994744, "post_id": 53886647, "comment_id": 106286634, "body": "I was trying to do the same way but some how its not working for iOS build. GeneratedPluginRegistrant in ios doesn&#39;t contain any entry for the plugin that I include with <code>path:</code> and I consistently get the error on run <code>MissingPluginException</code> I tried flutter clean, upgrade, pod file clean update but nothing worked. Does anybody has any suggestion for this?"}, {"owner": {"reputation": 1116, "user_id": 7626162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zr647.jpg?s=128&g=1", "display_name": "thachnb", "link": "https://stackoverflow.com/users/7626162/thachnb"}, "edited": false, "score": 0, "creation_date": 1581009688, "post_id": 53886647, "comment_id": 106295677, "body": "Probably you are not using relative path, please check your pod config or anywhere with path related."}, {"owner": {"reputation": 183, "user_id": 6910465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c01ecdeaeb55e36cbf49eedfc4bba77e?s=128&d=identicon&r=PG&f=1", "display_name": "Casanova", "link": "https://stackoverflow.com/users/6910465/casanova"}, "edited": false, "score": 0, "creation_date": 1581162566, "post_id": 53886647, "comment_id": 106343299, "body": "What if I directly change the code there instead of copying? Will it be permanent?"}, {"owner": {"reputation": 1116, "user_id": 7626162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zr647.jpg?s=128&g=1", "display_name": "thachnb", "link": "https://stackoverflow.com/users/7626162/thachnb"}, "edited": false, "score": 4, "creation_date": 1581346335, "post_id": 53886647, "comment_id": 106391528, "body": "No, when you run <code>flutter pub get</code>, it will download and replace your changes."}, {"owner": {"reputation": 1411, "user_id": 10830091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/liSnh.jpg?s=128&g=1", "display_name": "om-ha", "link": "https://stackoverflow.com/users/10830091/om-ha"}, "edited": false, "score": 0, "creation_date": 1589566997, "post_id": 53886647, "comment_id": 109355554, "body": "It is worth noting that you should delete example folders since they contain internal <code>import</code> statements that will make the compiler complain about unreachable URI&#39;s. <a href=\"https://dart.dev/tools/diagnostic-messages#uri_does_not_exist\" rel=\"nofollow noreferrer\">darturi_does_not_exist</a>"}, {"owner": {"reputation": 5405, "user_id": 4619958, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/cVA9W.png?s=128&g=1", "display_name": "ch271828n", "link": "https://stackoverflow.com/users/4619958/ch271828n"}, "edited": false, "score": 0, "creation_date": 1594198378, "post_id": 53886647, "comment_id": 111039367, "body": "This does not work for internal packages. For instance, I want to modify WebSocket in dart:io (actually dart:_http) but cannot copy clearly... It has so many internal dependencies..."}], "tags": [], "owner": {"reputation": 1116, "user_id": 7626162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zr647.jpg?s=128&g=1", "display_name": "thachnb", "link": "https://stackoverflow.com/users/7626162/thachnb"}, "is_accepted": false, "score": 56, "last_activity_date": 1556203857, "last_edit_date": 1556203857, "creation_date": 1545403371, "answer_id": 53886647, "question_id": 47296617, "link": "https://stackoverflow.com/questions/47296617/how-to-modify-plugins-dart-code-flutter/53886647#53886647", "title": "How to modify plugins Dart code Flutter?", "body": "<p>Here is step by step of how to modify plugin locally, my plugin named: <code>flutter_abc-0.4.1</code></p>\n\n<ol>\n<li><p>Right click on package/plugin's import file name, choose Reveal in Finder\nOr hold CMD + Click on that file name to go to that file, then Right click anywhere in the file and choose \"Reveal in Finder\". </p>\n\n<p>Normally it's located at <code>~/.pub-cache/hosted/pub.darlang.org/flutter_abc-0.4.1</code></p></li>\n<li><p>Copy whole package folder to your app folder</p>\n\n<p>For easy hijacking files, just copy all to your app folder (same level with <code>pubspec.yaml</code>, not in the <code>lib</code> folder), then renaming version:</p>\n\n<p>For example: <code>flutter_abc-0.4.1-hijacking</code> </p>\n\n<p>Now you can modify whatever you want to fix bug locally.</p></li>\n<li><p>Modify pubspec.yaml to point to local package</p>\n\n<p>Open your project pubspec.yaml \nChange path of dependencies to, for example:</p>\n\n<p><code>flutter_abc:\n  path: ./flutter_abcd-0.4.1-hijacking/</code></p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 1239, "user_id": 5700535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uwwXK.jpg?s=128&g=1", "display_name": "Owczar", "link": "https://stackoverflow.com/users/5700535/owczar"}, "is_accepted": false, "score": 6, "last_activity_date": 1602591763, "creation_date": 1602591763, "answer_id": 64335185, "question_id": 47296617, "link": "https://stackoverflow.com/questions/47296617/how-to-modify-plugins-dart-code-flutter/64335185#64335185", "title": "How to modify plugins Dart code Flutter?", "body": "<p>The most elegant way is to <a href=\"https://docs.github.com/en/free-pro-team@latest/github/getting-started-with-github/fork-a-repo\" rel=\"noreferrer\">fork a repo</a>, do all changes you need and commit them to your fork of the repo. After that you just need to <a href=\"https://dart.dev/tools/pub/dependencies#git-packages\" rel=\"noreferrer\">add forked repo from git</a> as a dependency in <code>pubspec.yaml</code> file.</p>\n"}], "owner": {"reputation": 1978, "user_id": 8079239, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/630167203460c27c1bbaef40358c828f?s=128&d=identicon&r=PG&f=1", "display_name": "grepLines", "link": "https://stackoverflow.com/users/8079239/greplines"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11355, "favorite_count": 7, "answer_count": 4, "score": 24, "last_activity_date": 1602591763, "creation_date": 1510700076, "question_id": 47296617, "link": "https://stackoverflow.com/questions/47296617/how-to-modify-plugins-dart-code-flutter", "title": "How to modify plugins Dart code Flutter?", "body": "<p>I am developing a Flutter app, and it uses <a href=\"https://pub.dartlang.org/packages/map_view\" rel=\"noreferrer\">map_view</a> plugin. I want to add new functionalities to the plugin by modifying the source code. How do I find the actual source code of the plugin in my project after installing it through Flutter? </p>\n\n<p><strong>How plugin is added in Flutter</strong></p>\n\n<p>The dependency for <code>map_view</code> plugin is added to <code>pubspec.yaml</code> as below, then running <code>flutter packages get</code> will add it to the project. \n           dev_dependecies:\n              map_view: </p>\n"}, {"tags": ["dart", "flutter", "flutter-test"], "comments": [{"owner": {"reputation": 159093, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1510701086, "post_id": 47296126, "comment_id": 81544940, "body": "I don&#39;t think asking 5 &quot;one line&quot; questions in 5 minutes is a good idea. Especially when the documentation is pretty good already. <a href=\"https://docs.flutter.io/flutter/matcher/Matcher-class.html\" rel=\"nofollow noreferrer\">docs.flutter.io/flutter/matcher/Matcher-class.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 141, "user_id": 1704813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6224fa62518066c21c8a6a044ab0d945?s=128&d=identicon&r=PG", "display_name": "user1704813", "link": "https://stackoverflow.com/users/1704813/user1704813"}, "is_accepted": true, "score": 3, "last_activity_date": 1510699229, "creation_date": 1510699229, "answer_id": 47296456, "question_id": 47296126, "link": "https://stackoverflow.com/questions/47296126/can-i-make-a-custom-matcher-for-flutter-unit-or-integration-tests/47296456#47296456", "title": "Can I make a custom matcher for Flutter unit or integration tests?", "body": "<p>Yes, you can create custom <a href=\"https://docs.flutter.io/flutter/matcher/Matcher-class.html\" rel=\"nofollow noreferrer\"><code>Matcher</code></a> classes and custom <a href=\"https://docs.flutter.io/flutter/flutter_test/Finder-class.html\" rel=\"nofollow noreferrer\"><code>Finder</code></a> classes.</p>\n\n<p>Here's one of Flutter's custom matchers that asserts that the given <code>Finder</code> finds a widget that's inside a <code>Card</code> widget:</p>\n\n<pre><code>class _IsInCard extends Matcher {\n  const _IsInCard();\n\n  @override\n  bool matches(covariant Finder finder, Map&lt;dynamic, dynamic&gt; matchState) =&gt; _hasAncestorOfType(finder, Card);\n\n  @override\n  Description describe(Description description) =&gt; description.add('in card');\n}\n</code></pre>\n\n<p>The <a href=\"https://docs.flutter.io/flutter/matcher/Matcher-class.html\" rel=\"nofollow noreferrer\"><code>Matcher</code></a> class is not part of the Flutter framework. It is defined in <a href=\"https://pub.dartlang.org/packages/matcher\" rel=\"nofollow noreferrer\"><code>package:mathcer</code></a>. Flutter inherits it from <a href=\"https://pub.dartlang.org/packages/test\" rel=\"nofollow noreferrer\"><code>package:test</code></a>. All Flutter's own Matcher classes are custom implementations of it.</p>\n\n<p>Flutter's <a href=\"https://docs.flutter.io/flutter/flutter_test/flutter_test-library.html\" rel=\"nofollow noreferrer\">test framework</a> has lots of <a href=\"https://github.com/flutter/flutter/blob/master/packages/flutter_test/lib/src/matchers.dart\" rel=\"nofollow noreferrer\">custom matchers</a> and <a href=\"https://github.com/flutter/flutter/blob/master/packages/flutter_test/lib/src/finders.dart\" rel=\"nofollow noreferrer\">custom finders</a> you can learn from.</p>\n"}], "owner": {"reputation": 75233, "user_id": 123471, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/t75zo.jpg?s=128&g=1", "display_name": "Seth Ladd", "link": "https://stackoverflow.com/users/123471/seth-ladd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 881, "favorite_count": 0, "accepted_answer_id": 47296456, "answer_count": 1, "score": 1, "last_activity_date": 1534957433, "creation_date": 1510697624, "question_id": 47296126, "link": "https://stackoverflow.com/questions/47296126/can-i-make-a-custom-matcher-for-flutter-unit-or-integration-tests", "title": "Can I make a custom matcher for Flutter unit or integration tests?", "body": "<p>I'm writing a unit or integration test for mobile. Can I make a custom matcher?</p>\n"}, {"tags": ["dart", "flutter", "flutter-test"], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 2777640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e16eb83179df99686be21d808281e38?s=128&d=identicon&r=PG&f=1", "display_name": "Yuhao", "link": "https://stackoverflow.com/users/2777640/yuhao"}, "edited": false, "score": 0, "creation_date": 1580937085, "post_id": 47296291, "comment_id": 106266384, "body": "is very outdated. anyone know what&#39;s the latest update? how to access state, properties inside a Text"}], "tags": [], "owner": {"reputation": 1808, "user_id": 1270501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdb65988c65d9ee6646787cf9aca1472?s=128&d=identicon&r=PG", "display_name": "Yegor", "link": "https://stackoverflow.com/users/1270501/yegor"}, "is_accepted": true, "score": 4, "last_activity_date": 1510698467, "creation_date": 1510698467, "answer_id": 47296291, "question_id": 47296101, "link": "https://stackoverflow.com/questions/47296101/can-i-get-the-text-or-other-attributes-of-a-widget-once-i-find-it/47296291#47296291", "title": "Can I get the text, or other attributes of a widget, once I find it?", "body": "<p>Yes, <a href=\"https://docs.flutter.io/flutter/flutter_test/WidgetTester-class.html\" rel=\"nofollow noreferrer\"><code>WidgetTester</code></a> provides multiple methods for probing into the UI tree (widgets, states, elements, render objects). Here's an example of how you can use it to read out the text out of a <code>Text</code> widget:</p>\n\n<pre><code>tester.widget(find.byType(Text)).data;\n</code></pre>\n\n<p>See also <a href=\"https://flutter.io/testing/#widget-testing\" rel=\"nofollow noreferrer\">https://flutter.io/testing/#widget-testing</a>, which explains how to write widget tests in Flutter.</p>\n"}], "owner": {"reputation": 75233, "user_id": 123471, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/t75zo.jpg?s=128&g=1", "display_name": "Seth Ladd", "link": "https://stackoverflow.com/users/123471/seth-ladd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1176, "favorite_count": 0, "accepted_answer_id": 47296291, "answer_count": 1, "score": 2, "last_activity_date": 1510698467, "creation_date": 1510697506, "question_id": 47296101, "link": "https://stackoverflow.com/questions/47296101/can-i-get-the-text-or-other-attributes-of-a-widget-once-i-find-it", "title": "Can I get the text, or other attributes of a widget, once I find it?", "body": "<p>I'm writing a unit or integration test for Flutter. Can I get the text, or other attributes of a widget, once I find it?</p>\n"}, {"tags": ["dart", "flutter", "flutter-test"], "answers": [{"tags": [], "owner": {"reputation": 1808, "user_id": 1270501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdb65988c65d9ee6646787cf9aca1472?s=128&d=identicon&r=PG", "display_name": "Yegor", "link": "https://stackoverflow.com/users/1270501/yegor"}, "is_accepted": true, "score": 26, "last_activity_date": 1510698251, "creation_date": 1510698251, "answer_id": 47296248, "question_id": 47296080, "link": "https://stackoverflow.com/questions/47296080/is-it-possible-to-access-children-parent-widgets-from-a-given-widget-in-a-flutt/47296248#47296248", "title": "Is it possible to access children/parent widgets from a given widget, in a Flutter test?", "body": "<p>Yes, you can use <a href=\"https://docs.flutter.io/flutter/flutter_test/CommonFinders/descendant.html\" rel=\"noreferrer\"><code>find.descendant</code></a> and <a href=\"https://docs.flutter.io/flutter/widgets/Element/ancestorWidgetOfExactType.html\" rel=\"noreferrer\"><code>Element.ancestorWidgetOfExactType</code></a>.</p>\n\n<p>Examples:</p>\n\n<pre><code>// Finds a RichText widget that a descendant (child/grand-child/etc) of a\n// tab widget with text \"Tab 1\"\nfind.descendant(of: find.text('Tab 1'), matching: find.byType(RichText));\n\n// Finds a parent widget of type MyParentWidget.\ntester.element(find.byType(MyChildWidget))\n  .ancestorWidgetOfExactType(MyParentWidget);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 13151929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8fae811c3b336b2e883465b881adc5?s=128&d=identicon&r=PG&f=1", "display_name": "Josua", "link": "https://stackoverflow.com/users/13151929/josua"}, "is_accepted": false, "score": 3, "last_activity_date": 1585595656, "creation_date": 1585595656, "answer_id": 60937860, "question_id": 47296080, "link": "https://stackoverflow.com/questions/47296080/is-it-possible-to-access-children-parent-widgets-from-a-given-widget-in-a-flutt/60937860#60937860", "title": "Is it possible to access children/parent widgets from a given widget, in a Flutter test?", "body": "<p>ancestorWidgetOfExactType is deprecated, prefer using <a href=\"https://api.flutter.dev/flutter/widgets/Element/findAncestorWidgetOfExactType.html\" rel=\"nofollow noreferrer\">findAncestorWidgetOfExactType</a></p>\n"}, {"tags": [], "owner": {"reputation": 1585, "user_id": 483628, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w17o4.png?s=128&g=1", "display_name": "Srikanth", "link": "https://stackoverflow.com/users/483628/srikanth"}, "is_accepted": false, "score": 0, "last_activity_date": 1604381585, "last_edit_date": 1604381585, "creation_date": 1604380836, "answer_id": 64657186, "question_id": 47296080, "link": "https://stackoverflow.com/questions/47296080/is-it-possible-to-access-children-parent-widgets-from-a-given-widget-in-a-flutt/64657186#64657186", "title": "Is it possible to access children/parent widgets from a given widget, in a Flutter test?", "body": "<pre><code>// Parent with a child &amp; grand child\nclass ParentWidget extends StatelessWidget {\n  \n  @override\n  Widget build(BuildContext context) {\n    return ChildWidget(\n      child: GrandChildWidget(),\n    );\n  }\n}\n\n// Tests\nvoid main() {\n  testWidgets('parent, child &amp; grand-child hierarchy', (WidgetTester tester) async {\n    Widget parentWidget = ParentWidget();\n    await tester.pumpWidget(parentWidget);\n    \n    final childFinder = find.descendant(of: find.byWidget(parentWidget), matching: find.byType(ChildWidget));\n    expect(childFinder, findsOneWidget);\n    \n    final grandChildFinder = find.descendant(of: find.byWidget(parentWidget), matching: find.byType(GrandChildWidget));\n    expect(grandChildFinder, findsOneWidget);\n    \n    final parentFinder = find.ancestor(of: find.byWidget(childWidget), matching: find.byType(ParentWidget));\n    expect(parentFinder, findsOneWidget);\n  });\n}\n</code></pre>\n<p>Flutter docs - <a href=\"https://api.flutter.dev/flutter/flutter_test/CommonFinders/descendant.html\" rel=\"nofollow noreferrer\">descendant</a> &amp; <a href=\"https://api.flutter.dev/flutter/flutter_test/CommonFinders/ancestor.html\" rel=\"nofollow noreferrer\">ancestor</a></p>\n"}], "owner": {"reputation": 75233, "user_id": 123471, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/t75zo.jpg?s=128&g=1", "display_name": "Seth Ladd", "link": "https://stackoverflow.com/users/123471/seth-ladd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11355, "favorite_count": 0, "accepted_answer_id": 47296248, "answer_count": 3, "score": 19, "last_activity_date": 1604381585, "creation_date": 1510697434, "question_id": 47296080, "link": "https://stackoverflow.com/questions/47296080/is-it-possible-to-access-children-parent-widgets-from-a-given-widget-in-a-flutt", "title": "Is it possible to access children/parent widgets from a given widget, in a Flutter test?", "body": "<p>I'm writing unit and integration tests for Flutter. Is it possible to access children/parent widgets from a given widget?</p>\n"}, {"tags": ["dart", "flutter", "flutter-test"], "answers": [{"comments": [{"owner": {"reputation": 6408, "user_id": 190309, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6148edff748af0a7a734c434b6f54a4b?s=128&d=identicon&r=PG", "display_name": "anticafe", "link": "https://stackoverflow.com/users/190309/anticafe"}, "edited": false, "score": 0, "creation_date": 1564371832, "post_id": 47296214, "comment_id": 100994391, "body": "For code usage of <code>find.descendant</code>, please see this answer <a href=\"https://stackoverflow.com/a/47296248/190309\">stackoverflow.com/a/47296248/190309</a>"}], "tags": [], "owner": {"reputation": 1808, "user_id": 1270501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdb65988c65d9ee6646787cf9aca1472?s=128&d=identicon&r=PG", "display_name": "Yegor", "link": "https://stackoverflow.com/users/1270501/yegor"}, "is_accepted": false, "score": 2, "last_activity_date": 1510698084, "creation_date": 1510698084, "answer_id": 47296214, "question_id": 47296052, "link": "https://stackoverflow.com/questions/47296052/when-writing-a-test-for-flutter-what-happens-when-similar-aspects-appear-more-t/47296214#47296214", "title": "When writing a test for Flutter, what happens when similar aspects appear more than one time? How to filter for the right one?", "body": "<p>There are several options:</p>\n\n<ul>\n<li><a href=\"https://docs.flutter.io/flutter/flutter_test/Finder/first.html\" rel=\"nofollow noreferrer\"><code>Finder.first</code></a> finds the first occurrence of the widget</li>\n<li><a href=\"https://docs.flutter.io/flutter/flutter_test/Finder/last.html\" rel=\"nofollow noreferrer\"><code>Finder.last</code></a> finds the last occurrence of the widget</li>\n<li><a href=\"https://docs.flutter.io/flutter/flutter_test/Finder/hitTestable.html\" rel=\"nofollow noreferrer\"><code>Finder.hitTestable</code></a> finds only the widgets that can be reached by a hit test (e.g. by a tap)</li>\n<li><a href=\"https://docs.flutter.io/flutter/flutter_test/Finder/skipOffstage.html\" rel=\"nofollow noreferrer\"><code>Finder.skipOffstage</code></a> finds only widgets considered to be \"on-stage\" (see <a href=\"https://docs.flutter.io/flutter/widgets/Offstage-class.html\" rel=\"nofollow noreferrer\">Offstage</a> widget)</li>\n<li><a href=\"https://docs.flutter.io/flutter/flutter_test/CommonFinders/descendant.html\" rel=\"nofollow noreferrer\"><code>find.descendant</code></a> finds only widgets that are descendants of another widget</li>\n</ul>\n\n<p>Finally you can use <a href=\"https://docs.flutter.io/flutter/flutter_test/CommonFinders/byWidgetPredicate.html\" rel=\"nofollow noreferrer\"><code>find.byPredicate</code></a> or even extend the <a href=\"https://docs.flutter.io/flutter/flutter_test/Finder-class.html\" rel=\"nofollow noreferrer\"><code>Finder</code></a> class and get much more flexibility.</p>\n"}], "owner": {"reputation": 75233, "user_id": 123471, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/t75zo.jpg?s=128&g=1", "display_name": "Seth Ladd", "link": "https://stackoverflow.com/users/123471/seth-ladd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 484, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510698084, "creation_date": 1510697335, "question_id": 47296052, "link": "https://stackoverflow.com/questions/47296052/when-writing-a-test-for-flutter-what-happens-when-similar-aspects-appear-more-t", "title": "When writing a test for Flutter, what happens when similar aspects appear more than one time? How to filter for the right one?", "body": "<p>I'm writing unit and integration tests for Flutter. If many widgets, with similar aspects (e.g. text), appear more than one time, how to filter for the right one?</p>\n"}, {"tags": ["dart", "flutter", "flutter-test"], "answers": [{"tags": [], "owner": {"reputation": 1808, "user_id": 1270501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdb65988c65d9ee6646787cf9aca1472?s=128&d=identicon&r=PG", "display_name": "Yegor", "link": "https://stackoverflow.com/users/1270501/yegor"}, "is_accepted": true, "score": 2, "last_activity_date": 1510697309, "creation_date": 1510697309, "answer_id": 47296048, "question_id": 47295880, "link": "https://stackoverflow.com/questions/47295880/can-i-check-for-existence-of-a-given-element-does-find-throw-errors-when-it-can/47296048#47296048", "title": "Can I check for existence of a given element? Does find throw errors when it cannot find any matching elements?", "body": "<p>Yes, you can use the <a href=\"https://docs.flutter.io/flutter/flutter_test/find.html\" rel=\"nofollow noreferrer\">find</a> utility (or more generally the <a href=\"https://docs.flutter.io/flutter/flutter_test/Finder-class.html\" rel=\"nofollow noreferrer\">Finder</a> class). Finders are quite powerful in what you can express with them, including checking for existence of widgets in the UI or even check how many of them are there. We have plenty of examples in the <a href=\"https://github.com/flutter/flutter/tree/master/packages/flutter/test\" rel=\"nofollow noreferrer\">framework tests</a>. Here are some examples:</p>\n\n<pre><code>// check that MyWidget is displayed\nexpect(find.byType(MyWidget), findOneWidget);\n\n// check that 5 widgets of type MyWidgets are displayed\nexpect(find.byType(MyWidget), findNWidgets(5));\n</code></pre>\n\n<p>The finder itself does not throw errors, but <code>expect</code> does when the matcher (e.g. <code>findOneWidget</code>) is not satisfied. If you need to interact with the widget rather than simply assert its existence, use one of the methods in <a href=\"https://docs.flutter.io/flutter/flutter_test/WidgetTester-class.html\" rel=\"nofollow noreferrer\">WidgetTester</a>, e.g.:</p>\n\n<pre><code>// Get the layout size of the render object for the given widget\ntester.renderObject&lt;RenderBox&gt;(find.byType(Text)).size;\n</code></pre>\n"}], "owner": {"reputation": 75233, "user_id": 123471, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/t75zo.jpg?s=128&g=1", "display_name": "Seth Ladd", "link": "https://stackoverflow.com/users/123471/seth-ladd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 593, "favorite_count": 0, "accepted_answer_id": 47296048, "answer_count": 1, "score": 1, "last_activity_date": 1510697309, "creation_date": 1510696539, "question_id": 47295880, "link": "https://stackoverflow.com/questions/47295880/can-i-check-for-existence-of-a-given-element-does-find-throw-errors-when-it-can", "title": "Can I check for existence of a given element? Does find throw errors when it cannot find any matching elements?", "body": "<p>Using Flutter, I'd like to write a test to check for existence of a given element. How do I do that?</p>\n\n<p>Also, will the test throw errors when it cannot find any matching elements?</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 7736, "user_id": 2744242, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/71d3267f5993b6b79619213c789524b5?s=128&d=identicon&r=PG&f=1", "display_name": "rafaelcb21", "link": "https://stackoverflow.com/users/2744242/rafaelcb21"}, "edited": false, "score": 0, "creation_date": 1510675162, "post_id": 47287206, "comment_id": 81530715, "body": "Thank you for your help, could you give an example of how to use the <code>key</code>?"}, {"owner": {"reputation": 159093, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "reply_to_user": {"reputation": 7736, "user_id": 2744242, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/71d3267f5993b6b79619213c789524b5?s=128&d=identicon&r=PG&f=1", "display_name": "rafaelcb21", "link": "https://stackoverflow.com/users/2744242/rafaelcb21"}, "edited": false, "score": 1, "creation_date": 1510675432, "post_id": 47287206, "comment_id": 81530916, "body": "Pass it to <code>ItemCategory</code> in your <code>buildTiles</code>. Using <code>key: new Key(list[i])</code> should do the trick"}], "tags": [], "owner": {"reputation": 159093, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "is_accepted": true, "score": 2, "last_activity_date": 1510666454, "creation_date": 1510666454, "answer_id": 47287206, "question_id": 47286895, "link": "https://stackoverflow.com/questions/47286895/flutter-widget-animation-status-remains-even-after-it-has-been-removed/47287206#47287206", "title": "Flutter - Widget animation status remains even after it has been removed", "body": "<p>You need to pass a <code>key</code> to your children. Or else the renderer won't be able to know which <code>SlideTransition</code> got removed, and use the index.</p>\n\n<p>But in your case there's a <em>much</em> easier solution. Use <a href=\"https://docs.flutter.io/flutter/widgets/Dismissible-class.html\" rel=\"nofollow noreferrer\">Dismissible</a></p>\n\n<p>This is exactly what you're trying to do. But already implemented. </p>\n"}], "owner": {"reputation": 7736, "user_id": 2744242, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/71d3267f5993b6b79619213c789524b5?s=128&d=identicon&r=PG&f=1", "display_name": "rafaelcb21", "link": "https://stackoverflow.com/users/2744242/rafaelcb21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 482, "favorite_count": 1, "accepted_answer_id": 47287206, "answer_count": 1, "score": 0, "last_activity_date": 1510676468, "creation_date": 1510665540, "last_edit_date": 1510676468, "question_id": 47286895, "link": "https://stackoverflow.com/questions/47286895/flutter-widget-animation-status-remains-even-after-it-has-been-removed", "title": "Flutter - Widget animation status remains even after it has been removed", "body": "<p>I'm updating a <code>List&lt;Widget&gt; tiles</code>, but even updating, in which I remove one of the elements of <code>tiles</code>, the state of the animation of the element that came out is still active.</p>\n\n<p>In other words, I redo <code>tiles</code> with <code>this.tiles = buildTile(list);</code> the animation <code>state</code> does not change.</p>\n\n<p>In the example below is removed the Widget that has in its text the string <code>foo3</code>, but its animation continues, and the Widget that has in its text the string <code>foo4</code> receives this animation.</p>\n\n<p>Is there any way to solve this or is this a bug?</p>\n\n<p><a href=\"https://i.stack.imgur.com/ovgAR.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ovgAR.gif\" alt=\"enter image description here\"></a></p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'dart:ui' as ui;\n\nvoid main() {\n  runApp(new MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      home: new MyHomePage(),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  @override\n  _MyHomePageState createState() =&gt; new _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  List&lt;Widget&gt; tiles;\n  List foos = [];\n\n  @override\n  void initState() {\n    this.foos = ['foo1', 'foo2', 'foo3', 'foo4'];\n    this.tiles = buildTile(this.foos);\n    super.initState();\n  }\n\n  //function\n  List&lt;Widget&gt; buildTile(List list) {\n    var x = [];\n    for(var i = 0; i &lt; list.length; i++) {\n      x.add(\n        new ItemCategory(\n          key: new Key(list[i]), //new\n          category: list[i],\n          onPressed: () {\n            setState(() {\n              list.removeAt(i);\n              this.tiles = buildTile(list);\n            });\n          },\n        )\n      );\n    }\n    return x;\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      appBar: new AppBar(\n        title: new Text('Categories'),\n      ),\n      body: new ListView(\n        padding: new EdgeInsets.only(top: 8.0, right: 0.0, left: 0.0),\n        children: this.tiles\n      )\n    );\n  }\n}\n\nclass ItemCategory extends StatefulWidget {\n  ItemCategory({ Key key, this.category, this.onPressed}) : super(key: key);\n\n  final String category;\n  final VoidCallback onPressed;\n\n  @override\n  ItemCategoryState createState() =&gt; new ItemCategoryState();\n}\n\nclass ItemCategoryState extends State&lt;ItemCategory&gt; with TickerProviderStateMixin {\n  ItemCategoryState();\n\n  AnimationController _controller;\n  Animation&lt;double&gt; _animation;\n  double flingOpening;\n  bool startFling = true;\n\n  void initState() {\n    super.initState();\n    _controller = new AnimationController(duration: \n      const Duration(milliseconds: 246), vsync: this);\n\n    _animation = new CurvedAnimation(\n      parent: _controller,\n      curve: new Interval(0.0, 1.0, curve: Curves.linear),\n    );\n  }\n\n  void _move(DragUpdateDetails details) {\n    final double delta = details.primaryDelta / 304;\n    _controller.value -= delta;\n  }\n\n  void _settle(DragEndDetails details) {\n    if(this.startFling) {\n      _controller.fling(velocity: 1.0);\n      this.startFling = false;\n    } else if(!this.startFling){\n      _controller.fling(velocity: -1.0);\n      this.startFling = true;\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    final ui.Size logicalSize = MediaQuery.of(context).size;\n    final double _width = logicalSize.width;\n    this.flingOpening = -(48.0/_width);\n\n    return new GestureDetector(\n      onHorizontalDragUpdate: _move,\n      onHorizontalDragEnd: _settle,\n      child: new Stack(\n        children: &lt;Widget&gt;[\n          new Positioned.fill(\n            child: new Row(\n              mainAxisAlignment: MainAxisAlignment.end,\n              children: &lt;Widget&gt;[\n                new Container(\n                  decoration: new BoxDecoration(\n                    color: new Color(0xFFE57373),\n                  ),\n                  child: new IconButton(\n                    icon: new Icon(Icons.delete),\n                    color: new Color(0xFFFFFFFF),\n                    onPressed: widget.onPressed\n                  )\n                ),\n              ],\n            ),\n          ),\n          new SlideTransition(\n            position: new Tween&lt;Offset&gt;(\n              begin:  Offset.zero,\n              end: new Offset(this.flingOpening, 0.0),\n            ).animate(_animation),\n            child: new Container(\n              decoration: new BoxDecoration(\n                border: new Border(\n                  top: new BorderSide(style: BorderStyle.solid, color: Colors.black26),\n                ),\n                color: new Color(0xFFFFFFFF),\n              ),\n              margin: new EdgeInsets.only(top: 0.0, bottom: 0.0),\n              child: new Row(\n                mainAxisAlignment: MainAxisAlignment.start,\n                crossAxisAlignment: CrossAxisAlignment.center,\n                children: &lt;Widget&gt;[\n                  new Expanded(\n                    child: new Row(\n                      mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                      children: &lt;Widget&gt;[\n                        new Container(\n                          margin: new EdgeInsets.only(left: 16.0),\n                          padding: new EdgeInsets.only(right: 40.0, top: 4.5, bottom: 4.5),\n                          child: new Row(\n                            children: &lt;Widget&gt;[\n                              new Container(\n                                margin: new EdgeInsets.only(right: 16.0),\n                                child: new Icon(\n                                  Icons.brightness_1,\n                                  color: Colors.black,\n                                  size: 35.0,\n                                ),\n                              ),\n                              new Text(widget.category),\n                            ],\n                          )\n                        )\n                      ],\n                    ),\n                  )\n                ],\n              ),\n            )\n          ),\n        ],\n      )\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["forms", "angular", "css", "dart", "angular-dart"], "comments": [{"owner": {"reputation": 781, "user_id": 8118965, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-v4zO9jAAxNg/AAAAAAAAAAI/AAAAAAAAADM/kBbaf9Iotlw/photo.jpg?sz=128", "display_name": "Veena K. Suresh", "link": "https://stackoverflow.com/users/8118965/veena-k-suresh"}, "edited": false, "score": 0, "creation_date": 1510652427, "post_id": 47282167, "comment_id": 81514739, "body": "it will be helpful if u share the code or create a plunker demo. thanx."}], "answers": [{"tags": [], "owner": {"reputation": 233, "user_id": 8941730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ea71571082520339b47192261d66ea?s=128&d=identicon&r=PG&f=1", "display_name": "Rasidre", "link": "https://stackoverflow.com/users/8941730/rasidre"}, "is_accepted": false, "score": 1, "last_activity_date": 1510705236, "last_edit_date": 1510705236, "creation_date": 1510704821, "answer_id": 47297394, "question_id": 47282167, "link": "https://stackoverflow.com/questions/47282167/ng-valid-and-ng-invalid-classes-in-angular-dart-forms-are-no-more-exposed/47297394#47297394", "title": "ng-valid and ng-invalid classes in angular dart forms are no more exposed", "body": "<p>I don't know whether they are exposed or not.</p>\n\n<p>At first I would recommend you to work with \"Model driven forms\" - and set the validation in your component. In my opinion it is better for UnitTests and easier to handle.</p>\n\n<p>and here an example:</p>\n\n<p>Specify CSS (test.component.css) class:</p>\n\n<pre><code>.error {\n  border: 2px solid red;     \n}\n</code></pre>\n\n<p>Component (test.component.ts):</p>\n\n<pre><code>imports ...;\n\n@Component({\nselector: 'test-component',\ntemplateUrl: 'test.component.html',\nstyleUrls: ['./test.component.css']\n})\nexport class TestComponent implements OnInit {\n\n form: FormGroup;\n\n constructor(private navCtrl: NavController, private auth: AuthService, private toast: ToastController, private fb: FormBuilder) {\n\n }\n\n ngOnInit() {\n  this.form = this.fb.group({\n   email: ['', [\n     Validators.required,\n     Validators.email]],\n   password: ['', [\n     Validators.required,\n     Validators.minLength(6)]],\n });\n}\n</code></pre>\n\n<p>and your template (test.component.html) looks like this:</p>\n\n<pre><code>&lt;form [formGroup]=\"form\" (ngSubmit)=\"login()\" [ngClass]=\"{'error': !form.valid}\"&gt;\n  *** YOUR FORM DIV'S HERE ***\n&lt;/form&gt;\n</code></pre>\n\n<p>I don't know if this is working with Dart too. But as Verena commented, we can help you most if you upload some code.</p>\n"}, {"tags": [], "owner": {"reputation": 155, "user_id": 8959458, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HIV2tROg84Y/AAAAAAAAAAI/AAAAAAAABP8/H3eGF5qwiOQ/photo.jpg?sz=128", "display_name": "Andrew Lorenzen", "link": "https://stackoverflow.com/users/8959458/andrew-lorenzen"}, "is_accepted": true, "score": 5, "last_activity_date": 1510944610, "creation_date": 1510944610, "answer_id": 47357398, "question_id": 47282167, "link": "https://stackoverflow.com/questions/47282167/ng-valid-and-ng-invalid-classes-in-angular-dart-forms-are-no-more-exposed/47357398#47357398", "title": "ng-valid and ng-invalid classes in angular dart forms are no more exposed", "body": "<p>Yes, this behavior changed in a recent release of <code>angular_forms</code>.</p>\n\n<p>Previously, the <code>NgControlStatus</code> directive was included in list of <code>formDirectives</code>. However, this caused every component that used forms to pay the price for these host bindings.</p>\n\n<p>Now, if you want the behavior, you need to include <code>NgControlStatus</code> explicitly in the <code>directives</code> list of the <code>@Component</code>.</p>\n\n<p><a href=\"https://github.com/dart-lang/angular/blob/master/angular_forms/lib/src/directives/ng_control_status.dart#L15\" rel=\"noreferrer\">https://github.com/dart-lang/angular/blob/master/angular_forms/lib/src/directives/ng_control_status.dart#L15</a></p>\n"}], "owner": {"reputation": 576, "user_id": 5685762, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0989ddfa79e368846a0bb4f1a1ef6ab6?s=128&d=identicon&r=PG&f=1", "display_name": "J F", "link": "https://stackoverflow.com/users/5685762/j-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 416, "favorite_count": 1, "accepted_answer_id": 47357398, "answer_count": 2, "score": 0, "last_activity_date": 1510947585, "creation_date": 1510652152, "last_edit_date": 1510947585, "question_id": 47282167, "link": "https://stackoverflow.com/questions/47282167/ng-valid-and-ng-invalid-classes-in-angular-dart-forms-are-no-more-exposed", "title": "ng-valid and ng-invalid classes in angular dart forms are no more exposed", "body": "<p>Dart: 1.24.2;\nAngular: 4.0.0;\nI created some CSS rules based on <code>.ng-valid</code> and <code>.ng-invalid</code> classes in angular forms. But, in last releases, it seems that <code>ng-valid</code> and <code>ng-invalid</code> classes are no more exposed, so my CSS rules are no more working.\nIs it correct? \nif yes, how can I by-pass this change?</p>\n\n<p>Edit1: Test case\nI simply generated a brand new project with angular and angular-material in my IDE (WebStorm). It generates a simple todo application. I took the todo_list_component.html and wrapped the whole content with a <code>&lt;form&gt;</code> <code>&lt;/form&gt;</code> tag. In the todo_list_component.dart I have added an import for angular_forms and added formDirectives to the directives list.\nInspecting the form in dartium no <code>ng-valid</code> class has been added. The only class added, in my case is: <code>class=\"_ngcontent-umj-2\"</code></p>\n\n<p>Edit2: Shortcut\nNot very elegant, but working:</p>\n\n<pre><code>&lt;form #form=\"ngForm\" [class.ng-valid]=\"form.valid\" [class.ng-invalid]=\"!form.valid\"&gt;\n</code></pre>\n"}, {"tags": ["angular", "firebase", "dart", "master-detail", "angular-dart"], "comments": [{"owner": {"reputation": 16340, "user_id": 505810, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/76df8d243d91e68ef15e5fde3474bf90?s=128&d=identicon&r=PG", "display_name": "Pacane", "link": "https://stackoverflow.com/users/505810/pacane"}, "edited": false, "score": 0, "creation_date": 1510611563, "post_id": 47267914, "comment_id": 81500253, "body": "Didn&#39;t succeed how?"}, {"owner": {"reputation": 1804, "user_id": 5846565, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/zihvw.jpg?s=128&g=1", "display_name": "Tushar Rai", "link": "https://stackoverflow.com/users/5846565/tushar-rai"}, "reply_to_user": {"reputation": 16340, "user_id": 505810, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/76df8d243d91e68ef15e5fde3474bf90?s=128&d=identicon&r=PG", "display_name": "Pacane", "link": "https://stackoverflow.com/users/505810/pacane"}, "edited": false, "score": 0, "creation_date": 1510658585, "post_id": 47267914, "comment_id": 81518876, "body": "@Pacane Kindly have look at the added code of the question."}], "answers": [{"comments": [{"owner": {"reputation": 416, "user_id": 7235145, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--QTW4A_iRGs/AAAAAAAAAAI/AAAAAAAABco/Dc0b3issIC4/photo.jpg?sz=128", "display_name": "David Morgan", "link": "https://stackoverflow.com/users/7235145/david-morgan"}, "reply_to_user": {"reputation": 1804, "user_id": 5846565, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/zihvw.jpg?s=128&g=1", "display_name": "Tushar Rai", "link": "https://stackoverflow.com/users/5846565/tushar-rai"}, "edited": false, "score": 0, "creation_date": 1511168354, "post_id": 47351505, "comment_id": 81729413, "body": "I think the typo was the problem :) it should work now. No?"}, {"owner": {"reputation": 1804, "user_id": 5846565, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/zihvw.jpg?s=128&g=1", "display_name": "Tushar Rai", "link": "https://stackoverflow.com/users/5846565/tushar-rai"}, "edited": false, "score": 0, "creation_date": 1511170097, "post_id": 47351505, "comment_id": 81730337, "body": "No, it&#39;s not working you can see the image of the output attached in the question with the name &#39;output image&#39;"}, {"owner": {"reputation": 416, "user_id": 7235145, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--QTW4A_iRGs/AAAAAAAAAAI/AAAAAAAABco/Dc0b3issIC4/photo.jpg?sz=128", "display_name": "David Morgan", "link": "https://stackoverflow.com/users/7235145/david-morgan"}, "reply_to_user": {"reputation": 1804, "user_id": 5846565, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/zihvw.jpg?s=128&g=1", "display_name": "Tushar Rai", "link": "https://stackoverflow.com/users/5846565/tushar-rai"}, "edited": false, "score": 0, "creation_date": 1511188035, "post_id": 47351505, "comment_id": 81741598, "body": "The error that you quoted should be fixed, though -- the part about &quot;Can&#39;t bind to ngif&quot;. Do you get a different error now?"}, {"owner": {"reputation": 1804, "user_id": 5846565, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/zihvw.jpg?s=128&g=1", "display_name": "Tushar Rai", "link": "https://stackoverflow.com/users/5846565/tushar-rai"}, "edited": false, "score": 0, "creation_date": 1511190241, "post_id": 47351505, "comment_id": 81742982, "body": "No it&#39;s showing <code>{{note.title}} {{note.subject}} {{note.text}}</code> as a result"}, {"owner": {"reputation": 416, "user_id": 7235145, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--QTW4A_iRGs/AAAAAAAAAAI/AAAAAAAABco/Dc0b3issIC4/photo.jpg?sz=128", "display_name": "David Morgan", "link": "https://stackoverflow.com/users/7235145/david-morgan"}, "reply_to_user": {"reputation": 1804, "user_id": 5846565, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/zihvw.jpg?s=128&g=1", "display_name": "Tushar Rai", "link": "https://stackoverflow.com/users/5846565/tushar-rai"}, "edited": false, "score": 0, "creation_date": 1511363247, "post_id": 47351505, "comment_id": 81830345, "body": "You&#39;re looking at the template in the browser -- note_detail_component.html. So what you see is exactly what you type in that file. What you need to do is to load the compiled application, which I think should be at the top level index.html."}, {"owner": {"reputation": 1804, "user_id": 5846565, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/zihvw.jpg?s=128&g=1", "display_name": "Tushar Rai", "link": "https://stackoverflow.com/users/5846565/tushar-rai"}, "edited": false, "score": 0, "creation_date": 1511370559, "post_id": 47351505, "comment_id": 81835579, "body": "Ok, but on <code>(click)=&quot;onSekect(note)</code> function also doesn&#39;t work can you check the above code and suggest me what&#39;s missing?"}], "tags": [], "owner": {"reputation": 416, "user_id": 7235145, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--QTW4A_iRGs/AAAAAAAAAAI/AAAAAAAABco/Dc0b3issIC4/photo.jpg?sz=128", "display_name": "David Morgan", "link": "https://stackoverflow.com/users/7235145/david-morgan"}, "is_accepted": false, "score": 1, "last_activity_date": 1510924452, "creation_date": 1510924452, "answer_id": 47351505, "question_id": 47267914, "link": "https://stackoverflow.com/questions/47267914/how-to-implement-master-detail-view-of-firebase-list-with-angulardart/47351505#47351505", "title": "How to implement master detail view of firebase list with AngularDart", "body": "<p>You need to write \"ngIf\", not \"ngif\", in the template.</p>\n"}, {"comments": [{"owner": {"reputation": 1804, "user_id": 5846565, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/zihvw.jpg?s=128&g=1", "display_name": "Tushar Rai", "link": "https://stackoverflow.com/users/5846565/tushar-rai"}, "edited": false, "score": 0, "creation_date": 1513878285, "post_id": 47930105, "comment_id": 82828866, "body": "After running the <code>pub serve</code> command, onclick doesn&#39;t works on the populated list item. It doesn&#39;t route next to detail view, neither the click respond"}], "tags": [], "owner": {"reputation": 26, "user_id": 4538797, "user_type": "registered", "profile_image": "https://graph.facebook.com/1763989383826992/picture?type=large", "display_name": "Nick Wu", "link": "https://stackoverflow.com/users/4538797/nick-wu"}, "is_accepted": false, "score": 0, "last_activity_date": 1513878020, "creation_date": 1513878020, "answer_id": 47930105, "question_id": 47267914, "link": "https://stackoverflow.com/questions/47267914/how-to-implement-master-detail-view-of-firebase-list-with-angulardart/47930105#47930105", "title": "How to implement master detail view of firebase list with AngularDart", "body": "<p>It seems like you are opening <code>localhost/.../app/.../note_detail_component.html</code> in your browser. This doesn't work because the browser won't treat your html as an Angular component.</p>\n\n<p>If you run <code>pub serve</code> and load the component(may need <a href=\"https://webdev.dartlang.org/angular/guide/router/1\" rel=\"nofollow noreferrer\">routing</a>), you should be able to see the component as you expected.</p>\n"}], "owner": {"reputation": 1804, "user_id": 5846565, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/zihvw.jpg?s=128&g=1", "display_name": "Tushar Rai", "link": "https://stackoverflow.com/users/5846565/tushar-rai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 469, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1513878020, "creation_date": 1510587072, "last_edit_date": 1513847130, "question_id": 47267914, "link": "https://stackoverflow.com/questions/47267914/how-to-implement-master-detail-view-of-firebase-list-with-angulardart", "title": "How to implement master detail view of firebase list with AngularDart", "body": "<p>I want to implement detail master view with the click function on list item of firebase database, When I am defining the detail view component in notes_component with the following code it binds the data and populates, but with the separate detail view component the code doesn't work and while debugging it gives the result</p>\n\n<pre><code>&lt;div *ngIf=\"selectedNote != null\"&gt;\n    &lt;h2&gt;{{selectedNote.title}}&lt;/h2&gt;\n    &lt;h4&gt;{{selectedNote.subject}}&lt;/h4&gt;\n    &lt;p&gt;{{selectedNote.text}}&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>result image</p>\n\n<p><a href=\"https://i.stack.imgur.com/nFGUg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nFGUg.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://webdev.dartlang.org/angular/tutorial/toh-pt2\" rel=\"nofollow noreferrer\">https://webdev.dartlang.org/angular/tutorial/toh-pt2</a></p>\n\n<p>notes_component.html</p>\n\n<pre><code>&lt;div id=\"notes\" class=\"mdl-grid\"&gt;\n    &lt;div *ngFor=\"let note of notes\"\n         class=\"mdl-card mdl-cell mdl-cell--4-col section--center mdl-shadow--2dp\"\n         (click)=\"onSelect(note)\"\n         [class.selected]=\"note === selectedNote\"&gt;\n        &lt;div class=\"mdl-card__supporting-text note-text\"&gt;\n            &lt;img *ngIf=\"note.imageUrl != null\" [src]=\"note.imageUrl\"&gt;\n            &lt;h4 class=\"note-subject\"&gt;{{note.subject}}&lt;/h4&gt;\n            &lt;p class=\"note-title\" *ngIf=\"note.title?.isNotEmpty\"&gt;{{note.title}}&lt;/p&gt;\n        &lt;/div&gt;\n\n        &lt;div *ngIf=\"service.user != null\" style=\"visibility: hidden\" class=\"mdl-card__actions note-actions\"&gt;\n            &lt;a (click)=\"service.removeItem(note.key)\" title=\"Remove note\" class=\"note-remove\"&gt;\n                &lt;i class=\"material-icons\"&gt;delete&lt;/i&gt;\n            &lt;/a&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;note-detail [note]=\"selectedNote\"&gt;&lt;/note-detail&gt;\n</code></pre>\n\n<p>notes_component.dart</p>\n\n<pre><code>import 'package:angular/angular.dart';\n\nimport '../../firebase_service.dart';\nimport '../../model/note.dart';\n\n@Component(\n    selector: 'notes',\n    templateUrl: 'notes_component.html',\n    directives: const [CORE_DIRECTIVES, NgIf, NgFor,])\nclass NotesComponent implements OnInit {\n  final FirebaseService service;\n  List&lt;Note&gt; notes = [];\n  Note selectedNote;\n\n  NotesComponent(this.service);\n\n  void onSelect(Note note) =&gt; selectedNote = note;\n  @override\n  ngOnInit() {\n    notes = service.notes;\n  }\n}\n</code></pre>\n\n<p>note.dart\nlibrary tr_app.item;</p>\n\n<pre><code>const String jsonTagText = \"text\";\nconst String jsonTagSubject = \"subject\";\nconst String jsonTagTitle = \"title\";\nconst String jsonTagImgUrl = \"img_url\";\n\nclass Note {\n  int id;\n  String key;\n  String text;\n  String title;\n  String subject;\n  String imageUrl;\n\n  Note([this.text, this.title, this.subject, this.imageUrl, this.key]);\n\n  static Map toMap(Note item) {\n    Map jsonMap = {\n      jsonTagText: item.text,\n      jsonTagSubject: item.subject,\n      jsonTagTitle: item.title,\n      jsonTagImgUrl: item.imageUrl\n    };\n    return jsonMap;\n  }\n}\n</code></pre>\n\n<p>firebase_service.dart</p>\n\n<pre><code>import 'dart:html';\nimport 'package:angular/angular.dart';\nimport 'package:firebase/firebase.dart' as fb;\n\nimport '../src/model/note.dart';\n\n@Injectable()\nclass FirebaseService {\n  final fb.Auth auth;\n  final fb.DatabaseReference databaseRef;\n  final fb.StorageReference storageRef;\n  final List&lt;Note&gt; notes = [];\n  fb.User user;\n  bool loading = true;\n\n  FirebaseService()\n      : auth = fb.auth(),\n        databaseRef = fb.database().ref(\"notes\"),\n        storageRef = fb.storage().ref(\"notes\");\n\n  init() {\n    databaseRef.onChildAdded.listen((e) {\n      // Snapshot of the data.\n      fb.DataSnapshot data = e.snapshot;\n\n      // Value of data from snapshot.\n      var val = data.val();\n      // Creates a new Note item. It is possible to retrieve a key from data.\n      var item = new Note(\n          val[jsonTagText], val[jsonTagTitle], val[jsonTagImgUrl], data.key);\n      notes.insert(0, item);\n    });\n\n    // Setups listening on the child_removed event on the database ref.\n    databaseRef.onChildRemoved.listen((e) {\n      fb.DataSnapshot data = e.snapshot;\n      var val = data.val();\n\n      // Removes also the image from storage.\n      var imageUrl = val[jsonTagImgUrl];\n      if (imageUrl != null) {\n        removeItemImage(imageUrl);\n      }\n      notes.removeWhere((n) =&gt; n.key == data.key);\n    });\n\n    // Sets loading to true when path changes\n    databaseRef.onValue.listen((e) {\n      loading = false;\n    });\n\n    // Sets user when auth state changes\n    auth.onIdTokenChanged.listen((e) {\n      user = e;\n    });\n  }\n\n  // Pushes a new item as a Map to database.\n  postItem(Note item) async {\n    try {\n      await databaseRef.push(Note.toMap(item)).future;\n    } catch (e) {\n      print(\"Error in writing to database: $e\");\n    }\n  }\n\n  // Removes item with a key from database.\n  removeItem(String key) async {\n    try {\n      await databaseRef.child(key).remove();\n    } catch (e) {\n      print(\"Error in deleting $key: $e\");\n    }\n  }\n\n  // Puts image into a storage.\n  postItemImage(File file) async {\n    try {\n      var task = storageRef.child(file.name).put(file);\n      task.onStateChanged\n          .listen((_) =&gt; loading = true, onDone: () =&gt; loading = false);\n\n      var snapshot = await task.future;\n      return snapshot.downloadURL;\n    } catch (e) {\n      print(\"Error in uploading to storage: $e\");\n    }\n  }\n\n  // Removes image with an imageUrl from the storage.\n  removeItemImage(String imageUrl) async {\n    try {\n      var imageRef = fb.storage().refFromURL(imageUrl);\n      await imageRef.delete();\n    } catch (e) {\n      print(\"Error in deleting $imageUrl: $e\");\n    }\n  }\n\n  // Signs in with the Google auth provider.\n  signInWithGoogle() async {\n    var provider = new fb.GoogleAuthProvider();\n    try {\n      await auth.signInWithPopup(provider);\n    } catch (e) {\n      print(\"Error in sign in with Google: $e\");\n    }\n  }\n\n  signOut() async {\n    await auth.signOut();\n  }\n}\n</code></pre>\n\n<p>note_detail_component.html</p>\n\n<pre><code>&lt;div *ngIf=\"note != null\"&gt;\n    &lt;h2&gt;{{note.title}}&lt;/h2&gt;\n    &lt;h4&gt;{{note.subject}}&lt;/h4&gt;\n    &lt;img *ngIf=\"note.imageUrl != null\" [src]=\"note.imageUrl\"&gt;\n    &lt;p&gt;{{note.text}}&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>note_detail_component.dart</p>\n\n<pre><code>import 'package:angular/angular.dart';\nimport 'package:tr_app/src/firebase_service.dart';\nimport 'package:tr_app/src/model/note.dart';\n\n@Component(\n    selector: 'note-detail',\n    templateUrl: 'note_detail_component.html',\n    styleUrls: const ['note_detail_component.css'],\n    directives: const [\n      CORE_DIRECTIVES,\n      NgIf,\n      NgFor,\n    ])\nclass NoteDetailComponent {\n\n  final FirebaseService service;\n  Note note;\n\n  NoteDetailComponent(this.service);\n\n}\n</code></pre>\n"}, {"tags": ["dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 7736, "user_id": 2744242, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/71d3267f5993b6b79619213c789524b5?s=128&d=identicon&r=PG&f=1", "display_name": "rafaelcb21", "link": "https://stackoverflow.com/users/2744242/rafaelcb21"}, "is_accepted": true, "score": 2, "last_activity_date": 1510678892, "creation_date": 1510678892, "answer_id": 47291366, "question_id": 47265564, "link": "https://stackoverflow.com/questions/47265564/flutter-drag-animation-is-not-returning-to-the-start-after-listview-update/47291366#47291366", "title": "Flutter - Drag Animation is not returning to the start after ListView update", "body": "<p>According to the <a href=\"https://stackoverflow.com/questions/47286895/flutter-widget-animation-status-remains-even-after-it-has-been-removed\">Flutter - Widget animation status remains even after it has been removed</a></p>\n\n<p>Simply insert the key into the new ItemCategory (</p>\n\n<p>I needed to pass a <code>key</code> to the children. Or else the renderer won't be able to know which SlideTransition got removed, and use the index.</p>\n\n<pre><code>...\n@override\nWidget build(BuildContext context) {\n  List&lt;Widget&gt; buildTile(List list) {\n    this.tiles = [];\n    for(var dict in list) {\n      this.tiles.add(\n        new ItemCategory(\n          key: new Key(dict), //new\n          id: dict['id'],\n          category: dict['name'],\n...\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/HrsZZ.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HrsZZ.gif\" alt=\"enter image description here\"></a></p>\n\n<p>The complete code is:</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'dart:async';\nimport 'dart:io';\nimport 'package:path/path.dart';\nimport 'package:sqflite/sqflite.dart';\nimport 'package:path_provider/path_provider.dart';\nimport 'dart:ui' as ui;\n\nenum DialogOptionsAction {\n  cancel,\n  ok\n}\n\nvoid main() {\n  runApp(new MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      home: new MyHomePage(),\n      routes: &lt;String, WidgetBuilder&gt; {\n        '/newpage': (BuildContext context) =&gt; new NewPage(),\n      },\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  @override\n  _MyHomePageState createState() =&gt; new _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  DatabaseClient _db = new DatabaseClient();\n  List listCategory = [];\n  List&lt;Widget&gt; tiles;\n\n  List colors = [\n    const Color(0xFFFFA500),\n    const Color(0xFF279605),\n    const Color(0xFF005959)\n  ];\n\n  createdb() async {\n    await _db.create().then(\n      (data){\n        _db.getAllCategory().then((list){\n          setState(() {\n            this.listCategory = list;\n          });\n        });\n      }\n    );\n  }\n\n  @override\n  void initState() {\n    super.initState();\n    createdb();    \n  }\n\n  void showCategoryDelete&lt;T&gt;({ BuildContext context, Widget child }) {\n    showDialog&lt;T&gt;(\n      context: context,\n      child: child,\n    )\n    .then&lt;Null&gt;((T value) {\n      if (value != null) {\n        setState(() { print(value); });\n      }\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    List&lt;Widget&gt; buildTile(List list) {\n      this.tiles = [];\n      for(var dict in list) {\n        this.tiles.add(\n          new ItemCategory(\n            key: new Key(dict), //new\n            id: dict['id'],\n            category: dict['name'],\n            color: this.colors[dict['color']],\n            onPressed: () async {\n              showCategoryDelete&lt;DialogOptionsAction&gt;(\n                context: context,\n                child: new AlertDialog(\n                  title: const Text('Delete Category'),\n                  content: new Text(\n                    'Do you want to delete this category?',\n                      style: new TextStyle(\n                        color: Colors.black26,\n                        fontSize: 16.0,\n                        fontFamily: \"Roboto\",\n                        fontWeight: FontWeight.w500,\n                      )\n                  ),\n                  actions: &lt;Widget&gt;[\n                    new FlatButton(\n                      child: const Text('CANCEL'),\n                      onPressed: () {\n                        Navigator.pop(context);\n                      }\n                    ),\n                    new FlatButton(\n                      child: const Text('OK'),\n                      onPressed: () {\n                        _db.deleteCategory(dict['id']).then(\n                          (list) {\n                            setState(() {\n                              this.listCategory = list;\n                            });\n                          }\n                        );\n                        Navigator.pop(context);\n                      }\n                    )\n                  ]\n                )\n              );\n            },\n          )\n        );\n      }\n      return this.tiles;\n    }\n    return new Scaffold(\n      appBar: new AppBar(\n        title: new Text('Categories'),\n        actions: &lt;Widget&gt;[\n          new IconButton(\n            icon: const Icon(Icons.add),\n            color: new Color(0xFFFFFFFF),\n            onPressed: () async {\n              await Navigator.of(context).pushNamed('/newpage').then(\n                (data){\n                  _db.getAllCategory().then((list){\n                    setState(() {\n                      this.listCategory = list;\n                    });\n                  });\n                }\n              );\n            }\n          )\n        ],\n      ),\n      body: new ListView(\n        padding: new EdgeInsets.only(top: 8.0, right: 0.0, left: 0.0),\n        children: buildTile(this.listCategory)\n      )\n    );\n  }\n}\n\nclass NewPage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      appBar: new AppBar(\n        title: new Text('New Page'),\n      ),\n    );\n  }\n}\n\n//Creating Database with some data and two queries\nclass DatabaseClient {\n  Database db;\n\n  Future create() async {\n    Directory path = await getApplicationDocumentsDirectory();\n    String dbPath = join(path.path, \"database.db\");\n    db = await openDatabase(dbPath, version: 1, onCreate: this._create);\n  }\n\n  Future _create(Database db, int version) async {\n    await db.execute(\"\"\"\n      CREATE TABLE category (\n        id INTEGER PRIMARY KEY,\n        name TEXT NOT NULL,\n        color INTEGER NOT NULL\n      )\"\"\");\n    await db.rawInsert(\"INSERT INTO category (name, color) VALUES ('foo1', 0)\");\n    await db.rawInsert(\"INSERT INTO category (name, color) VALUES ('foo2', 1)\");\n    await db.rawInsert(\"INSERT INTO category (name, color) VALUES ('foo3', 2)\");\n  }\n\n  Future getAllCategory() async {\n    Directory path = await getApplicationDocumentsDirectory();\n    String dbPath = join(path.path, \"database.db\");\n    Database db = await openDatabase(dbPath);\n\n    List list = await db.rawQuery('SELECT * FROM category');\n    await db.close();\n\n    return list;\n  }\n\n  Future deleteCategory(int id) async {\n    Directory path = await getApplicationDocumentsDirectory();\n    String dbPath = join(path.path, \"database.db\");\n    Database db = await openDatabase(dbPath);\n\n    await db.delete('category', where: \"id = ?\", whereArgs: [id]);\n    List list = await db.rawQuery('SELECT * FROM category');\n\n    await db.close();\n\n    return list;\n  }\n}\n\n//Creating ListViews items\nclass ItemCategory extends StatefulWidget {\n  ItemCategory({ Key key, this.id, this.category, this.color, this.onPressed}) : super(key: key);\n\n  final int id;\n  final String category;\n  final Color color;\n  final VoidCallback onPressed;\n\n  @override\n  ItemCategoryState createState() =&gt; new ItemCategoryState();\n}\n\nclass ItemCategoryState extends State&lt;ItemCategory&gt; with TickerProviderStateMixin {\n  ItemCategoryState();\n\n  DatabaseClient db = new DatabaseClient();\n  AnimationController _controller;\n  Animation&lt;double&gt; _animation;\n  double flingOpening;\n  bool startFling = true;\n\n  void initState() {\n    super.initState();\n    _controller = new AnimationController(duration: \n      const Duration(milliseconds: 246), vsync: this);\n\n    _animation = new CurvedAnimation(\n      parent: _controller,\n      curve: new Interval(0.0, 1.0, curve: Curves.linear),\n    );\n  }\n\n  void _move(DragUpdateDetails details) {\n    final double delta = details.primaryDelta / 304;\n    _controller.value -= delta;\n  }\n\n  void _settle(DragEndDetails details) {\n    if(this.startFling) {\n      _controller.fling(velocity: 1.0);\n      this.startFling = false;\n    } else if(!this.startFling){\n      _controller.fling(velocity: -1.0);\n      this.startFling = true;\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    final ui.Size logicalSize = MediaQuery.of(context).size;\n    final double _width = logicalSize.width;\n    this.flingOpening = -(48.0/_width);\n\n    return new GestureDetector(\n      onHorizontalDragUpdate: _move,\n      onHorizontalDragEnd: _settle,\n      child: new Stack(\n        children: &lt;Widget&gt;[\n          new Positioned.fill(\n            child: new Row(\n              mainAxisAlignment: MainAxisAlignment.end,\n              children: &lt;Widget&gt;[\n                new Container(\n                  decoration: new BoxDecoration(\n                    color: new Color(0xFFE57373),\n                  ),\n                  child: new IconButton(\n                    icon: new Icon(Icons.delete),\n                    color: new Color(0xFFFFFFFF),\n                    onPressed: widget.onPressed\n                  )\n                ),\n              ],\n            ),\n          ),\n          new SlideTransition(\n            position: new Tween&lt;Offset&gt;(\n              begin:  Offset.zero,\n              end: new Offset(this.flingOpening, 0.0),\n            ).animate(_animation),\n            child: new Container(\n              decoration: new BoxDecoration(\n                border: new Border(\n                  top: new BorderSide(style: BorderStyle.solid, color: Colors.black26),\n                ),\n                color: new Color(0xFFFFFFFF),\n              ),\n              margin: new EdgeInsets.only(top: 0.0, bottom: 0.0),\n              child: new Row(\n                mainAxisAlignment: MainAxisAlignment.start,\n                crossAxisAlignment: CrossAxisAlignment.center,\n                children: &lt;Widget&gt;[\n                  new Expanded(\n                    child: new Row(\n                      mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                      children: &lt;Widget&gt;[\n                        new Container(\n                          margin: new EdgeInsets.only(left: 16.0),\n                          padding: new EdgeInsets.only(right: 40.0, top: 4.5, bottom: 4.5),\n                          child: new Row(\n                            children: &lt;Widget&gt;[\n                              new Container(\n                                margin: new EdgeInsets.only(right: 16.0),\n                                child: new Icon(\n                                  Icons.brightness_1,\n                                  color: widget.color,\n                                  size: 35.0,\n                                ),\n                              ),\n                              new Text(\n                                widget.category,\n                                style: new TextStyle(\n                                  color: Colors.black87,\n                                  fontSize: 14.0,\n                                  fontFamily: \"Roboto\",\n                                  fontWeight: FontWeight.w500,\n                                ),\n                              ),\n                            ],\n                          )\n                        )\n                      ],\n                    ),\n                  )\n                ],\n              ),\n            )\n          ),\n        ],\n      )\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 7736, "user_id": 2744242, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/71d3267f5993b6b79619213c789524b5?s=128&d=identicon&r=PG&f=1", "display_name": "rafaelcb21", "link": "https://stackoverflow.com/users/2744242/rafaelcb21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 879, "favorite_count": 1, "accepted_answer_id": 47291366, "answer_count": 1, "score": 0, "last_activity_date": 1510678892, "creation_date": 1510580019, "question_id": 47265564, "link": "https://stackoverflow.com/questions/47265564/flutter-drag-animation-is-not-returning-to-the-start-after-listview-update", "title": "Flutter - Drag Animation is not returning to the start after ListView update", "body": "<p>The animation of <code>ListView</code> items that is about dragging to the left and the delete button appears works fine. The problem is that if I leave the delete button appearing and changing the page, when I return <code>pop()</code> to the previous page the button keeps appearing.</p>\n\n<p>The animation did not go back to the beginning. The same happens if I update the items in the <code>ListView</code>, for example deleting an item. The item is deleted but the animation is not.</p>\n\n<p>It looks like I'm updating the <code>ListView</code> content and not the <code>ListView</code> itself.</p>\n\n<p>How could you solve this problem?</p>\n\n<p>I'm trying to destroy <code>ListView</code> with every update in its items, but I'm not getting it. I also do not know if this is the right way to solve the problem.</p>\n\n<p>The <code>ListView</code> is built through the <code>buildTile()</code> function and its items come from the database.</p>\n\n<p>Below I put the code and a gif demonstrating what the problem is.</p>\n\n<p>To work the code below, you need to insert the <code>sqflite</code> and <code>path_provider</code> dependencies into <code>pubspec.yaml</code>, thus:</p>\n\n<pre><code>dependencies:\n  sqflite: any\n  path_provider: any\n  flutter:\n    sdk: flutter\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/kSunx.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kSunx.gif\" alt=\"enter image description here\"></a></p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'dart:async';\nimport 'dart:io';\nimport 'package:path/path.dart';\nimport 'package:sqflite/sqflite.dart';\nimport 'package:path_provider/path_provider.dart';\nimport 'dart:ui' as ui;\n\nenum DialogOptionsAction {\n  cancel,\n  ok\n}\n\nvoid main() {\n  runApp(new MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      home: new MyHomePage(),\n      routes: &lt;String, WidgetBuilder&gt; {\n        '/newpage': (BuildContext context) =&gt; new NewPage(),\n      },\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  @override\n  _MyHomePageState createState() =&gt; new _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  DatabaseClient _db = new DatabaseClient();\n  List listCategory = [];\n  List&lt;Widget&gt; tiles;\n\n  List colors = [\n    const Color(0xFFFFA500),\n    const Color(0xFF279605),\n    const Color(0xFF005959)\n  ];\n\n  createdb() async {\n    await _db.create().then(\n      (data){\n        _db.getAllCategory().then((list){\n          setState(() {\n            this.listCategory = list;\n          });\n        });\n      }\n    );\n  }\n\n  @override\n  void initState() {\n    super.initState();\n    createdb();    \n  }\n\n  void showCategoryDelete&lt;T&gt;({ BuildContext context, Widget child }) {\n    showDialog&lt;T&gt;(\n      context: context,\n      child: child,\n    )\n    .then&lt;Null&gt;((T value) {\n      if (value != null) {\n        setState(() { print(value); });\n      }\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    List&lt;Widget&gt; buildTile(List list) {\n      this.tiles = [];\n      for(var dict in list) {\n        this.tiles.add(\n          new ItemCategory(\n            id: dict['id'],\n            category: dict['name'],\n            color: this.colors[dict['color']],\n            onPressed: () async {\n              showCategoryDelete&lt;DialogOptionsAction&gt;(\n                context: context,\n                child: new AlertDialog(\n                  title: const Text('Delete Category'),\n                  content: new Text(\n                    'Do you want to delete this category?',\n                      style: new TextStyle(\n                        color: Colors.black26,\n                        fontSize: 16.0,\n                        fontFamily: \"Roboto\",\n                        fontWeight: FontWeight.w500,\n                      )\n                  ),\n                  actions: &lt;Widget&gt;[\n                    new FlatButton(\n                      child: const Text('CANCEL'),\n                      onPressed: () {\n                        Navigator.pop(context);\n                      }\n                    ),\n                    new FlatButton(\n                      child: const Text('OK'),\n                      onPressed: () {\n                        _db.deleteCategory(dict['id']).then(\n                          (list) {\n                            setState(() {\n                              this.listCategory = list;\n                            });\n                          }\n                        );\n                        Navigator.pop(context);\n                      }\n                    )\n                  ]\n                )\n              );\n            },\n          )\n        );\n      }\n      return this.tiles;\n    }\n    return new Scaffold(\n      appBar: new AppBar(\n        title: new Text('Categories'),\n        actions: &lt;Widget&gt;[\n          new IconButton(\n            icon: const Icon(Icons.add),\n            color: new Color(0xFFFFFFFF),\n            onPressed: () async {\n              await Navigator.of(context).pushNamed('/newpage').then(\n                (data){\n                  _db.getAllCategory().then((list){\n                    setState(() {\n                      this.listCategory = list;\n                    });\n                  });\n                }\n              );\n            }\n          )\n        ],\n      ),\n      body: new ListView(\n        padding: new EdgeInsets.only(top: 8.0, right: 0.0, left: 0.0),\n        children: buildTile(this.listCategory)\n      )\n    );\n  }\n}\n\nclass NewPage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      appBar: new AppBar(\n        title: new Text('New Page'),\n      ),\n    );\n  }\n}\n\n//Creating Database with some data and two queries\nclass DatabaseClient {\n  Database db;\n\n  Future create() async {\n    Directory path = await getApplicationDocumentsDirectory();\n    String dbPath = join(path.path, \"database.db\");\n    db = await openDatabase(dbPath, version: 1, onCreate: this._create);\n  }\n\n  Future _create(Database db, int version) async {\n    await db.execute(\"\"\"\n      CREATE TABLE category (\n        id INTEGER PRIMARY KEY,\n        name TEXT NOT NULL,\n        color INTEGER NOT NULL\n      )\"\"\");\n    await db.rawInsert(\"INSERT INTO category (name, color) VALUES ('foo1', 0)\");\n    await db.rawInsert(\"INSERT INTO category (name, color) VALUES ('foo2', 1)\");\n    await db.rawInsert(\"INSERT INTO category (name, color) VALUES ('foo3', 2)\");\n  }\n\n  Future getAllCategory() async {\n    Directory path = await getApplicationDocumentsDirectory();\n    String dbPath = join(path.path, \"database.db\");\n    Database db = await openDatabase(dbPath);\n\n    List list = await db.rawQuery('SELECT * FROM category');\n    await db.close();\n\n    return list;\n  }\n\n  Future deleteCategory(int id) async {\n    Directory path = await getApplicationDocumentsDirectory();\n    String dbPath = join(path.path, \"database.db\");\n    Database db = await openDatabase(dbPath);\n\n    await db.delete('category', where: \"id = ?\", whereArgs: [id]);\n    List list = await db.rawQuery('SELECT * FROM category');\n\n    await db.close();\n\n    return list;\n  }\n}\n\n//Creating ListViews items\nclass ItemCategory extends StatefulWidget {\n  ItemCategory({ Key key, this.id, this.category, this.color, this.onPressed}) : super(key: key);\n\n  final int id;\n  final String category;\n  final Color color;\n  final VoidCallback onPressed;\n\n  @override\n  ItemCategoryState createState() =&gt; new ItemCategoryState();\n}\n\nclass ItemCategoryState extends State&lt;ItemCategory&gt; with TickerProviderStateMixin {\n  ItemCategoryState();\n\n  DatabaseClient db = new DatabaseClient();\n  AnimationController _controller;\n  Animation&lt;double&gt; _animation;\n  double flingOpening;\n  bool startFling = true;\n\n  void initState() {\n    super.initState();\n    _controller = new AnimationController(duration: \n      const Duration(milliseconds: 246), vsync: this);\n\n    _animation = new CurvedAnimation(\n      parent: _controller,\n      curve: new Interval(0.0, 1.0, curve: Curves.linear),\n    );\n  }\n\n  void _move(DragUpdateDetails details) {\n    final double delta = details.primaryDelta / 304;\n    _controller.value -= delta;\n  }\n\n  void _settle(DragEndDetails details) {\n    if(this.startFling) {\n      _controller.fling(velocity: 1.0);\n      this.startFling = false;\n    } else if(!this.startFling){\n      _controller.fling(velocity: -1.0);\n      this.startFling = true;\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    final ui.Size logicalSize = MediaQuery.of(context).size;\n    final double _width = logicalSize.width;\n    this.flingOpening = -(48.0/_width);\n\n    return new GestureDetector(\n      onHorizontalDragUpdate: _move,\n      onHorizontalDragEnd: _settle,\n      child: new Stack(\n        children: &lt;Widget&gt;[\n          new Positioned.fill(\n            child: new Row(\n              mainAxisAlignment: MainAxisAlignment.end,\n              children: &lt;Widget&gt;[\n                new Container(\n                  decoration: new BoxDecoration(\n                    color: new Color(0xFFE57373),\n                  ),\n                  child: new IconButton(\n                    icon: new Icon(Icons.delete),\n                    color: new Color(0xFFFFFFFF),\n                    onPressed: widget.onPressed\n                  )\n                ),\n              ],\n            ),\n          ),\n          new SlideTransition(\n            position: new Tween&lt;Offset&gt;(\n              begin:  Offset.zero,\n              end: new Offset(this.flingOpening, 0.0),\n            ).animate(_animation),\n            child: new Container(\n              decoration: new BoxDecoration(\n                border: new Border(\n                  top: new BorderSide(style: BorderStyle.solid, color: Colors.black26),\n                ),\n                color: new Color(0xFFFFFFFF),\n              ),\n              margin: new EdgeInsets.only(top: 0.0, bottom: 0.0),\n              child: new Row(\n                mainAxisAlignment: MainAxisAlignment.start,\n                crossAxisAlignment: CrossAxisAlignment.center,\n                children: &lt;Widget&gt;[\n                  new Expanded(\n                    child: new Row(\n                      mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                      children: &lt;Widget&gt;[\n                        new Container(\n                          margin: new EdgeInsets.only(left: 16.0),\n                          padding: new EdgeInsets.only(right: 40.0, top: 4.5, bottom: 4.5),\n                          child: new Row(\n                            children: &lt;Widget&gt;[\n                              new Container(\n                                margin: new EdgeInsets.only(right: 16.0),\n                                child: new Icon(\n                                  Icons.brightness_1,\n                                  color: widget.color,\n                                  size: 35.0,\n                                ),\n                              ),\n                              new Text(\n                                widget.category,\n                                style: new TextStyle(\n                                  color: Colors.black87,\n                                  fontSize: 14.0,\n                                  fontFamily: \"Roboto\",\n                                  fontWeight: FontWeight.w500,\n                                ),\n                              ),\n                            ],\n                          )\n                        )\n                      ],\n                    ),\n                  )\n                ],\n              ),\n            )\n          ),\n        ],\n      )\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["dart"], "answers": [{"comments": [{"owner": {"reputation": 1722, "user_id": 2712148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJXes.jpg?s=128&g=1", "display_name": "stwupton", "link": "https://stackoverflow.com/users/2712148/stwupton"}, "edited": false, "score": 3, "creation_date": 1510564603, "post_id": 47260515, "comment_id": 81472205, "body": "Or you could use <code>new Map.from(data2)</code> instead of <code>{}..addAll(data2)</code>."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 1722, "user_id": 2712148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJXes.jpg?s=128&g=1", "display_name": "stwupton", "link": "https://stackoverflow.com/users/2712148/stwupton"}, "edited": false, "score": 0, "creation_date": 1510564632, "post_id": 47260515, "comment_id": 81472221, "body": "Right, that&#39;s better."}, {"owner": {"reputation": 3696, "user_id": 6107079, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CUGlv.jpg?s=128&g=1", "display_name": "Mahi", "link": "https://stackoverflow.com/users/6107079/mahi"}, "edited": false, "score": 0, "creation_date": 1510565171, "post_id": 47260515, "comment_id": 81472599, "body": "Wow, that&#39;s amazing thank you very much @G&#252;nter Z&#246;chbauer you have saved me a lot of time as I was trying to figure out what was wrong for quite a long time."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1510565230, "post_id": 47260515, "comment_id": 81472642, "body": "You&#39;re welcome :-). Glad to hear this worked for you."}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 5, "last_activity_date": 1510564649, "last_edit_date": 1510564649, "creation_date": 1510564062, "answer_id": 47260515, "question_id": 47260179, "link": "https://stackoverflow.com/questions/47260179/map-in-dart-is-replacing-the-values-of-previous-keys-with-the-last-updated-value/47260515#47260515", "title": "Map in Dart is replacing the values of previous keys with the last updated value", "body": "<p>In the first iteration, here you assign <code>data2</code></p>\n\n<pre><code>floorDetails['floor${(i+1)}'] = data2;\n</code></pre>\n\n<p>but the first line in the next iteration is</p>\n\n<pre><code>data2.clear();\n</code></pre>\n\n<p>which clears <code>data2</code>. This also clears the content of floorDetails['floor1']`, because it references the same map. </p>\n\n<p>Either you create a new map, instead of clearing it by changing</p>\n\n<pre><code>data2.clear();\ndata1.clear();\n</code></pre>\n\n<p>to</p>\n\n<pre><code>data2 = {}; // or new Map()\ndata1 = {};\n</code></pre>\n\n<p>or create a copy of the map before assigning it</p>\n\n<pre><code>floorDetails['floor${(i+1)}'] = new Map.from(data2);\n</code></pre>\n\n<p>Map is an object and copied by reference. Only primitive types like <code>bool</code>, <code>double</code>, <code>int</code>, and <code>String</code> are copied by value.</p>\n"}], "owner": {"reputation": 3696, "user_id": 6107079, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CUGlv.jpg?s=128&g=1", "display_name": "Mahi", "link": "https://stackoverflow.com/users/6107079/mahi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1505, "favorite_count": 0, "accepted_answer_id": 47260515, "answer_count": 1, "score": 3, "last_activity_date": 1601081076, "creation_date": 1510562983, "last_edit_date": 1601081076, "question_id": 47260179, "link": "https://stackoverflow.com/questions/47260179/map-in-dart-is-replacing-the-values-of-previous-keys-with-the-last-updated-value", "title": "Map in Dart is replacing the values of previous keys with the last updated value", "body": "<p>I am actually working with <code>map</code>s in Dart and I couldn't figure out why the <code>map</code> variable in my example is behaving strangely or I am doing something wrong in my code.</p>\n<p>Please can someone help me to debug the code, I have posted the code to reproduce the issue.</p>\n<blockquote>\n<p>example.dart</p>\n</blockquote>\n<pre><code>void main() {\n  var data2 = {};\n  var data1 = {};\n\n  var floorDetails = new Map();\n  floorDetails.clear();\n  for (int i = 0; i &lt; 2; i++) {\n    data2.clear();\n    data1.clear();\n    for (int j = 0; j &lt; 2; j++) {\n      data1 = {\n        'flat${(i + 1) * 100 + (j + 1)}': {'flattype': &quot;flat&quot;},\n      };\n      data2.addAll(data1);\n    }\n    print('data2=$data2');\n\n    floorDetails['floor${(i+1)}'] = data2;\n\n    print('floorDetails = $floorDetails');\n  }\n\n  print(floorDetails.keys);\n}\n</code></pre>\n<p>The output from the code is:</p>\n<pre><code>floorDetails = {\n  floor1: {\n    flat201: {flattype: flat}, \n    flat202: {flattype: flat}\n  },\n  floor2: {\n    flat201: {flattype: flat},\n    flat202: {flattype: flat}\n  }\n}\n</code></pre>\n<p>Actually I was expecting the output to be:</p>\n<pre><code>floorDetails = {\n  floor1: {\n    flat101: {flattype: flat},\n    flat102: {flattype: flat}\n  }, \n  floor2: {\n    flat201: {flattype: flat}, \n    flat202: {flattype: flat}\n  }\n}\n</code></pre>\n<p>this is actually overwriting the values of all the keys inside the <code>map</code> <code>floorDetails</code> as per documentation for <code>Map.addAll()</code> method</p>\n<blockquote>\n<pre><code>void addAll(\n  Map&lt;K, V&gt; other\n)\n</code></pre>\n<p>Adds all key-value pairs of other to this map.</p>\n<p>If a key of other is already in this map, its value is overwritten.</p>\n<p>The operation is equivalent to doing <code>this[key] = value</code> for each key and associated value in other. It iterates over other, which must therefore not change during the iteration.</p>\n</blockquote>\n<p>although in the given example the keys are different but it is still overwriting the values.</p>\n<p>Please, any help would be much appreciated.\nMany Thanks,\nMahi</p>\n"}, {"tags": ["firebase-realtime-database", "async-await", "dart", "future", "flutter"], "comments": [{"owner": {"reputation": 33685, "user_id": 3434970, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/cWyFQ.png?s=128&g=1", "display_name": "Shady Aziza", "link": "https://stackoverflow.com/users/3434970/shady-aziza"}, "edited": false, "score": 0, "creation_date": 1510541276, "post_id": 47253272, "comment_id": 81463731, "body": "Why are you using animated list and stream for one query ?"}, {"owner": {"reputation": 5103, "user_id": 4139698, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/BHdOL.jpg?s=128&g=1", "display_name": "Charles Jr", "link": "https://stackoverflow.com/users/4139698/charles-jr"}, "reply_to_user": {"reputation": 33685, "user_id": 3434970, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/cWyFQ.png?s=128&g=1", "display_name": "Shady Aziza", "link": "https://stackoverflow.com/users/3434970/shady-aziza"}, "edited": false, "score": 0, "creation_date": 1510541375, "post_id": 47253272, "comment_id": 81463752, "body": "Previous examples use it like this.  If there&#39;s a more efficient way please let me know."}, {"owner": {"reputation": 33685, "user_id": 3434970, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/cWyFQ.png?s=128&g=1", "display_name": "Shady Aziza", "link": "https://stackoverflow.com/users/3434970/shady-aziza"}, "edited": false, "score": 0, "creation_date": 1510541618, "post_id": 47253272, "comment_id": 81463804, "body": "How about not using an animated list at all and use StreamBuilder only ? I do not see the reason behind using animated list here."}, {"owner": {"reputation": 33685, "user_id": 3434970, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/cWyFQ.png?s=128&g=1", "display_name": "Shady Aziza", "link": "https://stackoverflow.com/users/3434970/shady-aziza"}, "edited": false, "score": 0, "creation_date": 1510541781, "post_id": 47253272, "comment_id": 81463845, "body": "You may have noticed that your animated list is doing except it is has a query on the whole database for no reason."}, {"owner": {"reputation": 33685, "user_id": 3434970, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/cWyFQ.png?s=128&g=1", "display_name": "Shady Aziza", "link": "https://stackoverflow.com/users/3434970/shady-aziza"}, "edited": false, "score": 0, "creation_date": 1510542007, "post_id": 47253272, "comment_id": 81463887, "body": "In your case I would just use one of them not both."}, {"owner": {"reputation": 5103, "user_id": 4139698, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/BHdOL.jpg?s=128&g=1", "display_name": "Charles Jr", "link": "https://stackoverflow.com/users/4139698/charles-jr"}, "reply_to_user": {"reputation": 33685, "user_id": 3434970, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/cWyFQ.png?s=128&g=1", "display_name": "Shady Aziza", "link": "https://stackoverflow.com/users/3434970/shady-aziza"}, "edited": false, "score": 0, "creation_date": 1510555417, "post_id": 47253272, "comment_id": 81467538, "body": "I&#39;ll try using a StreamBuilder.  I think the problem is that FirebaseAnimatedList does not allow for indexing.  If I am wrong or if there&#39;s a work around for this that doesn&#39;t need both please let me know."}, {"owner": {"reputation": 5103, "user_id": 4139698, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/BHdOL.jpg?s=128&g=1", "display_name": "Charles Jr", "link": "https://stackoverflow.com/users/4139698/charles-jr"}, "reply_to_user": {"reputation": 33685, "user_id": 3434970, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/cWyFQ.png?s=128&g=1", "display_name": "Shady Aziza", "link": "https://stackoverflow.com/users/3434970/shady-aziza"}, "edited": false, "score": 0, "creation_date": 1510801505, "post_id": 47253272, "comment_id": 81592813, "body": "@aziza I&#39;ve adjusted my code.  Now I&#39;m getting the error <code>getter &quot;snapshot&quot; was called on null</code>.  Any idea on how to find this type of error and present a loading message?"}, {"owner": {"reputation": 33685, "user_id": 3434970, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/cWyFQ.png?s=128&g=1", "display_name": "Shady Aziza", "link": "https://stackoverflow.com/users/3434970/shady-aziza"}, "edited": false, "score": 0, "creation_date": 1510825068, "post_id": 47253272, "comment_id": 81602895, "body": "Both _getFriends method and AnimatedList are not needed here. You can actually use AnimatedList alone to get the exact same result you are looking for."}], "owner": {"reputation": 5103, "user_id": 4139698, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/BHdOL.jpg?s=128&g=1", "display_name": "Charles Jr", "link": "https://stackoverflow.com/users/4139698/charles-jr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 371, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1618665630, "creation_date": 1510516504, "last_edit_date": 1618665630, "question_id": 47253272, "link": "https://stackoverflow.com/questions/47253272/how-to-correctly-perform-a-future-on-a-firebasequery-using-firebaseanimatedlist", "title": "How to correctly perform a future on a FirebaseQuery using FirebaseAnimatedList in Flutter?", "body": "<p>My FirebaseQuery is not correctly awaiting for information when I initially view the FirebaseAnimatedList.  Once I leave the page and come back everything's as expected. Here is my code...</p>\n<pre><code>var fb = FirebaseDatabase.instance.reference();\n\nvar allUsers = FirebaseDatabase.instance\n    .reference()\n    .child('users')\n    .orderByChild('displayName');\n\n@override\n  Future &lt;Null&gt; _getFriends(value) async {\n    try {\n      Map myMap = await value; //store each map\n      String n;\n      String p;\n\n      var titles = await myMap.values;\n      for (var items in titles) {\n        n = (items['displayName']);\n        p = (items['photo']);\n      }\n      await name.add(n);\n      await photos.add(p);\n    } catch (error) {}\n  }\n\nchild: new FirebaseAnimatedList(\n                          query: fb,\n                          padding: new EdgeInsets.all(15.0),\n                          //sort: ,\n                          reverse: false,\n                          itemBuilder: (_, DataSnapshot usersSnap,\n                              Animation&lt;double&gt; animation, int Index) {\n                            return new StreamBuilder&lt;Event&gt;(\n                                stream: fb\n                                    .child('users')\n                                    .orderByChild('displayName')\n                                    .onValue,\n                                builder: (BuildContext context,\n                                    AsyncSnapshot&lt;Event&gt; event) {\n                                  switch (event.connectionState) {\n                                    case ConnectionState.none:\n                                      _getFriends(event.data.snapshot.value);\n                          \n                                      return new InkWell(\n                                        splashColor: Colors.blueAccent,\n                                        onTap: null,\n                                        child: new ListTile(\n                                            leading: new CircleAvatar(\n                                              backgroundImage: new AssetImage(\n                                                  'assets/placeholder.png'),\n                                              radius: 35.0,\n                                            ),\n                                            title: new Text(name[Index],\n                                              style: new TextStyle(\n                                                  fontWeight: FontWeight.bold,\n                                                  fontSize: 20.0,\n                                                  color: Colors.black\n                                              ),)\n                                        ),\n                                      );\n</code></pre>\n"}, {"tags": ["android", "timer", "dart", "flutter", "ticker"], "answers": [{"comments": [{"owner": {"reputation": 3804, "user_id": 541794, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e68f829331a1daed2bc631493c6e9e92?s=128&d=identicon&r=PG", "display_name": "forgemo", "link": "https://stackoverflow.com/users/541794/forgemo"}, "edited": false, "score": 0, "creation_date": 1510601784, "post_id": 47255379, "comment_id": 81495240, "body": "I felt that amirs solution is more idomatic. Thanks for the answer, though!"}, {"owner": {"reputation": 2038, "user_id": 1054938, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f39d72df3e972440eb6e919a8b7ff29b?s=128&d=identicon&r=PG", "display_name": "edhubbell", "link": "https://stackoverflow.com/users/1054938/edhubbell"}, "edited": false, "score": 0, "creation_date": 1531316410, "post_id": 47255379, "comment_id": 89551459, "body": "This may be obvious to others, but it took me a while to figure out I needed to move this to a location after the Flutter runApp call."}], "tags": [], "owner": {"reputation": 4921, "user_id": 911289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03edd77079e1c7331ef68cc6921cce0b?s=128&d=identicon&r=PG", "display_name": "German Saprykin", "link": "https://stackoverflow.com/users/911289/german-saprykin"}, "is_accepted": false, "score": 11, "last_activity_date": 1510531254, "creation_date": 1510531254, "answer_id": 47255379, "question_id": 47250308, "link": "https://stackoverflow.com/questions/47250308/how-to-handle-onpause-onresume-in-flutter-app/47255379#47255379", "title": "How to handle onPause/onResume in Flutter App?", "body": "<p>You can use <a href=\"https://docs.flutter.io/flutter/services/SystemChannels/lifecycle-constant.html\" rel=\"noreferrer\">lifecycle</a> channel from <a href=\"https://docs.flutter.io/flutter/services/SystemChannels-class.html\" rel=\"noreferrer\">SystemChannels</a>.</p>\n\n<p>Example:</p>\n\n<pre><code>SystemChannels.lifecycle.setMessageHandler((msg){\n  debugPrint('SystemChannels&gt; $msg');\n});\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>I/flutter ( 3672): SystemChannels&gt; AppLifecycleState.paused\nI/flutter ( 3672): SystemChannels&gt; AppLifecycleState.resumed\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 371, "user_id": 2195524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1419a276c51a12c37f4d954eaa54b11?s=128&d=identicon&r=PG", "display_name": "amir", "link": "https://stackoverflow.com/users/2195524/amir"}, "is_accepted": true, "score": 17, "last_activity_date": 1510544004, "last_edit_date": 1510544004, "creation_date": 1510541576, "answer_id": 47256443, "question_id": 47250308, "link": "https://stackoverflow.com/questions/47250308/how-to-handle-onpause-onresume-in-flutter-app/47256443#47256443", "title": "How to handle onPause/onResume in Flutter App?", "body": "<p>You can override the <code>didChangeAppLifecycleState</code> of the <code>WidgetBindingObserver</code> interface to receive notifications for <em>app lifecycle</em> changes.</p>\n\n<p>There's sample code in <a href=\"https://docs.flutter.io/flutter/widgets/WidgetsBindingObserver-class.html\" rel=\"noreferrer\">this page</a></p>\n"}], "owner": {"reputation": 3804, "user_id": 541794, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e68f829331a1daed2bc631493c6e9e92?s=128&d=identicon&r=PG", "display_name": "forgemo", "link": "https://stackoverflow.com/users/541794/forgemo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12067, "favorite_count": 5, "accepted_answer_id": 47256443, "answer_count": 2, "score": 15, "last_activity_date": 1510544004, "creation_date": 1510499243, "question_id": 47250308, "link": "https://stackoverflow.com/questions/47250308/how-to-handle-onpause-onresume-in-flutter-app", "title": "How to handle onPause/onResume in Flutter App?", "body": "<p>I'm new to Dart/Flutter and would like to build a simple app where a LinearProgressBar gets updated every second.</p>\n\n<p>Without getting too much into the actual code, I have the following setup working.</p>\n\n<ul>\n<li>A function that calculates the progress, based on passed time.</li>\n<li>A LinearProgressBar showing the progress.</li>\n<li>A periodic Timer recalculating the progress and updating the progress bar every second.</li>\n<li>I debugprint 'tick' every time, the recalculation is done.</li>\n</ul>\n\n<p>Everything is working as expected with one exception. The 'tick' keeps getting printed when I move the app in the background on my Android device.</p>\n\n<p>On native Android, I would cancel my periodic Timer when the 'onPause' event is triggered.</p>\n\n<p>Is there something similar in Flutter? All I could find was 'initState' and 'dispose'. Dispose, however, does not get called when moving the app to background.</p>\n\n<p>I don't want the timer to keep ticking in the background. </p>\n\n<p>On my research, I found this Stack Overflow question <a href=\"https://stackoverflow.com/questions/44331725/onresume-and-onpause-for-widgets-on-flutter\">onresume-and-onpause-for-widgets-on-flutter</a>. It's answer suggests using <a href=\"https://docs.flutter.io/flutter/widgets/TickerProviderStateMixin-class.html\" rel=\"noreferrer\">TickerProviderStateMixin</a>.</p>\n\n<p>I used it the following way.</p>\n\n<pre><code>class _BarItemState extends State&lt;BarItem&gt; with SingleTickerProviderStateMixin {\n    Ticker ticker;\n    num progress = 1.0;\n\n    @override\n    void initState() {\n       super.initState();\n       ticker = createTicker((duration) =&gt; setState(() {\n          debugPrint('tick');\n          progress = duration.inSeconds / 30;\n       }))\n      ..start();\n    }\n\n    // other stuff omitted\n\n}\n</code></pre>\n\n<p>It is working, but I'm still not satisfied.</p>\n\n<p>The reason is, that the ticker callback is getting now called every few milliseconds instead of once a second. This seems to me like a waste of resources (I don't need a smooth animation), ... am I overcomplicating things? </p>\n\n<p>Even if it seems that I don't need it for my use case, I still would like to know: </p>\n\n<p>How to handle the onPause/onResume events on my own?</p>\n"}, {"tags": ["dart", "angular-routing", "angular-dart"], "answers": [{"comments": [{"owner": {"reputation": 3936, "user_id": 233242, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5af9d21726509b6867511ccd9c6f947?s=128&d=identicon&r=PG", "display_name": "Aaron", "link": "https://stackoverflow.com/users/233242/aaron"}, "edited": false, "score": 0, "creation_date": 1510516351, "post_id": 47249840, "comment_id": 81456683, "body": "Oh I see... that makes sense. Thanks!"}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1510496098, "creation_date": 1510496098, "answer_id": 47249840, "question_id": 47249801, "link": "https://stackoverflow.com/questions/47249801/angulardart-routedata-not-available/47249840#47249840", "title": "AngularDart RouteData not available", "body": "<p>If you add data to the <code>Home</code> route, you can only inject it to the <code>HomeComponent</code>. You can use a globally shared service to make it available elsewhere in your application. </p>\n"}], "owner": {"reputation": 3936, "user_id": 233242, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5af9d21726509b6867511ccd9c6f947?s=128&d=identicon&r=PG", "display_name": "Aaron", "link": "https://stackoverflow.com/users/233242/aaron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "accepted_answer_id": 47249840, "answer_count": 1, "score": 1, "last_activity_date": 1510496098, "creation_date": 1510495930, "question_id": 47249801, "link": "https://stackoverflow.com/questions/47249801/angulardart-routedata-not-available", "title": "AngularDart RouteData not available", "body": "<p>I'm trying to receive RouteData in my component, but it isn't working like I'd expect. The message I receive is: <code>ORIGINAL EXCEPTION: Invalid argument(s): No provider found for RouteData.</code></p>\n\n<p>Pubspec.yaml:</p>\n\n<pre><code>dependencies:\n  angular: ^4.0.0\n  angular_components: ^0.8.0\n  angular_router: ^1.0.2\n</code></pre>\n\n<p>main.dart:</p>\n\n<pre><code>void main() {\n  bootstrap(AppComponent, [\n    ROUTER_PROVIDERS,\n    const Provider(LocationStrategy, useClass: HashLocationStrategy),\n  ]);\n}\n</code></pre>\n\n<p>my component:</p>\n\n<pre><code>@RouteConfig(\n  const [\n    const Route(\n        path: '/',\n        name: 'Home',\n        component: HomeComponent,\n        useAsDefault: true,\n        data: const {\n          'title': 'Page Title',\n        }),\n  ],\n)\nclass AppComponent {\n  final Router _router;\n  final RouteData _routeData;\n  AppComponent(this._router, this._routeData);\n}\n</code></pre>\n\n<p>Is there something I'm obviously doing wrong?  </p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 3883, "user_id": 92694, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3e0b5461e0e5c733af00292ec2d15c83?s=128&d=identicon&r=PG", "display_name": "DragonFax", "link": "https://stackoverflow.com/users/92694/dragonfax"}, "edited": false, "score": 0, "creation_date": 1510602137, "post_id": 47261803, "comment_id": 81495435, "body": "Thanks. I&#39;ll try testing the asset changes again. I tried it myself once, but wasn&#39;t certain if I had it right because I&#39;m a flutter noob."}, {"owner": {"reputation": 3883, "user_id": 92694, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3e0b5461e0e5c733af00292ec2d15c83?s=128&d=identicon&r=PG", "display_name": "DragonFax", "link": "https://stackoverflow.com/users/92694/dragonfax"}, "edited": false, "score": 0, "creation_date": 1510802770, "post_id": 47261803, "comment_id": 81593163, "body": "I have verified through testing that new assets in the pubspec are capture during a hot-reload. And I think changes to existing assets are also captured."}], "tags": [], "owner": {"reputation": 5105, "user_id": 2008962, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ghXgv.jpg?s=128&g=1", "display_name": "Arnold Parge", "link": "https://stackoverflow.com/users/2008962/arnold-parge"}, "is_accepted": true, "score": 2, "last_activity_date": 1510567852, "creation_date": 1510567852, "answer_id": 47261803, "question_id": 47244423, "link": "https://stackoverflow.com/questions/47244423/does-hot-reload-pick-up-changes-to-assets/47261803#47261803", "title": "Does hot-reload pick up changes to assets?", "body": "<p><strong>changed assets</strong>: Yes.<br><br>\n<strong>changes to the pubspec.yml</strong>: Maybe. Please check by yourself and do reply with what result you get.</p>\n\n<p>It would be better to restart in such cases. Hot-reload may or may not work.</p>\n"}], "owner": {"reputation": 3883, "user_id": 92694, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3e0b5461e0e5c733af00292ec2d15c83?s=128&d=identicon&r=PG", "display_name": "DragonFax", "link": "https://stackoverflow.com/users/92694/dragonfax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 306, "favorite_count": 0, "accepted_answer_id": 47261803, "answer_count": 1, "score": 1, "last_activity_date": 1510567852, "creation_date": 1510448217, "question_id": 47244423, "link": "https://stackoverflow.com/questions/47244423/does-hot-reload-pick-up-changes-to-assets", "title": "Does hot-reload pick up changes to assets?", "body": "<p>Does hot-reload pick up new assets, changed assets, or changes to the pubspec.yml?</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 3883, "user_id": 92694, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3e0b5461e0e5c733af00292ec2d15c83?s=128&d=identicon&r=PG", "display_name": "DragonFax", "link": "https://stackoverflow.com/users/92694/dragonfax"}, "edited": false, "score": 1, "creation_date": 1510681083, "post_id": 47284638, "comment_id": 81534471, "body": "yes, but you can&#39;t access that meta during a flutter app runtime. Those are just annotations for the static tools and compiler."}], "tags": [], "owner": {"reputation": 22853, "user_id": 8708524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1005bc21463c9b1dcec6a3be2ab26943?s=128&d=identicon&r=PG&f=1", "display_name": "Hemanth Raj", "link": "https://stackoverflow.com/users/8708524/hemanth-raj"}, "is_accepted": false, "score": -1, "last_activity_date": 1510658906, "creation_date": 1510658906, "answer_id": 47284638, "question_id": 47243647, "link": "https://stackoverflow.com/questions/47243647/can-i-access-metadata-annotations-of-a-type-or-parameter-in-flutter/47284638#47284638", "title": "Can I access metadata annotations of a type or parameter in flutter?", "body": "<p>Yes, of course you can use metadata annotations in flutter. Flutter has a <a href=\"https://docs.flutter.io/flutter/meta/meta-library.html\" rel=\"nofollow noreferrer\">meta-library</a>, which you can look into to know about available annotations that can be used with flutter.</p>\n\n<p>Hope this helped!</p>\n"}, {"tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1510659334, "creation_date": 1510659334, "answer_id": 47284797, "question_id": 47243647, "link": "https://stackoverflow.com/questions/47243647/can-i-access-metadata-annotations-of-a-type-or-parameter-in-flutter/47284797#47284797", "title": "Can I access metadata annotations of a type or parameter in flutter?", "body": "<p>Annotations can only be used for static analysis in Flutter.</p>\n\n<p>For example the analyzer that generates hints and warnings in your IDE, code generation tools like built_value, built_redux, json_serializable, and other packages that use <a href=\"https://github.com/dart-lang/build\" rel=\"nofollow noreferrer\">https://github.com/dart-lang/build</a> make use of this.</p>\n\n<p>There is no way to get metadata information at runtime without <code>dart:mirrors</code>.</p>\n\n<p>There is work in progress to make the reflectable package work with code generation. This might work with Flutter eventually to generate code that allows to access predefined metadata at runtime.\nSee also <a href=\"https://github.com/dart-lang/reflectable/tree/use_build\" rel=\"nofollow noreferrer\">https://github.com/dart-lang/reflectable/tree/use_build</a></p>\n"}], "owner": {"reputation": 3883, "user_id": 92694, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3e0b5461e0e5c733af00292ec2d15c83?s=128&d=identicon&r=PG", "display_name": "DragonFax", "link": "https://stackoverflow.com/users/92694/dragonfax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 958, "favorite_count": 0, "accepted_answer_id": 47284797, "answer_count": 2, "score": 2, "last_activity_date": 1510659334, "creation_date": 1510440662, "question_id": 47243647, "link": "https://stackoverflow.com/questions/47243647/can-i-access-metadata-annotations-of-a-type-or-parameter-in-flutter", "title": "Can I access metadata annotations of a type or parameter in flutter?", "body": "<p>Or is that capability lost with the loss of the reflect package?</p>\n\n<p>What I'm curious about is can I use annotations in my own flutter app? Or is that a feature only available in dart, but not flutter?</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 2654, "user_id": 3450755, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/5356a5c4305b6c53407fc97b19c2149d?s=128&d=identicon&r=PG", "display_name": "stt106", "link": "https://stackoverflow.com/users/3450755/stt106"}, "edited": false, "score": 12, "creation_date": 1539338398, "post_id": 47209606, "comment_id": 92475692, "body": "wow, using SO as an online doc is a great idea"}, {"owner": {"reputation": 516, "user_id": 934347, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kMI9m.jpg?s=128&g=1", "display_name": "hEngi", "link": "https://stackoverflow.com/users/934347/hengi"}, "edited": false, "score": 8, "creation_date": 1542214666, "post_id": 47209606, "comment_id": 93491293, "body": "Is it?! I think its better to keep this site as it intended to use. If you want a FAQ make a FAQ, if you want a documentation write a documentation. I want my documentation in my IDE not in SO... I don&#39;t think pumped up questions would make this site better. I want questions from the developers that uses the language and answers from the guys that making it.   If there is a question thats shows up many times or got more upvotes maybe there is some problem with their product or their documentation that should be fixed..."}, {"owner": {"reputation": 2114, "user_id": 2102328, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/lQW2s.jpg?s=128&g=1", "display_name": "Schnodderbalken", "link": "https://stackoverflow.com/users/2102328/schnodderbalken"}, "edited": false, "score": 1, "creation_date": 1600779872, "post_id": 47209606, "comment_id": 113190674, "body": "I am lacking the ability to distinguish sarcasm / trolling from serious answers. I just hope the first answer is sarcasm and the second one mistakenly interpreted it as serious."}], "answers": [{"comments": [{"owner": {"reputation": 1326, "user_id": 1082824, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/MbEvE.jpg?s=128&g=1", "display_name": "Ride Sun", "link": "https://stackoverflow.com/users/1082824/ride-sun"}, "edited": false, "score": 1, "creation_date": 1512526186, "post_id": 47237163, "comment_id": 82290603, "body": "why not exposing that under flutter doctor ?"}, {"owner": {"reputation": 1811, "user_id": 2710246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d14b1dcd13755bcbafc5ac9c9ab1426?s=128&d=identicon&r=PG", "display_name": "Andrei Tudor Diaconu", "link": "https://stackoverflow.com/users/2710246/andrei-tudor-diaconu"}, "edited": false, "score": 4, "creation_date": 1526660752, "post_id": 47237163, "comment_id": 87846914, "body": "Since the answer is also edited by Seth, it looked for a second like he also answered it. Since 3 out of 4 questions I look at on SO lately are Seth&#39;s I&#39;d say the strategy is working. Thank you"}], "tags": [], "owner": {"reputation": 5105, "user_id": 2008962, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ghXgv.jpg?s=128&g=1", "display_name": "Arnold Parge", "link": "https://stackoverflow.com/users/2008962/arnold-parge"}, "is_accepted": true, "score": 51, "last_activity_date": 1605626347, "last_edit_date": 1605626347, "creation_date": 1510398108, "answer_id": 47237163, "question_id": 47209606, "link": "https://stackoverflow.com/questions/47209606/how-do-i-clear-flutters-image-cache/47237163#47237163", "title": "How do I clear Flutter&#39;s image cache?", "body": "<p>Found this solution in the <a href=\"https://docs.flutter.io/flutter/painting/imageCache.html\" rel=\"noreferrer\">Flutter docs</a></p>\n<pre><code>import 'package:flutter/services.dart';\n\nimageCache.clear();\n</code></pre>\n"}], "owner": {"reputation": 75233, "user_id": 123471, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/t75zo.jpg?s=128&g=1", "display_name": "Seth Ladd", "link": "https://stackoverflow.com/users/123471/seth-ladd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14635, "favorite_count": 2, "accepted_answer_id": 47237163, "answer_count": 1, "score": 29, "last_activity_date": 1605626347, "creation_date": 1510254000, "last_edit_date": 1510507551, "question_id": 47209606, "link": "https://stackoverflow.com/questions/47209606/how-do-i-clear-flutters-image-cache", "title": "How do I clear Flutter&#39;s image cache?", "body": "<p><a href=\"https://flutter.io\" rel=\"noreferrer\">Flutter</a> has its own internal cache of images. I need to clear that image cache. How do I do that?</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 839, "user_id": 6437420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0FAtZ.jpg?s=128&g=1", "display_name": "Haroon khan", "link": "https://stackoverflow.com/users/6437420/haroon-khan"}, "edited": false, "score": 19, "creation_date": 1579627464, "post_id": 47266011, "comment_id": 105826480, "body": "Please mention specifically what you have changed. We are unable to identify what was the actual change in your main.dart file."}, {"owner": {"reputation": 610, "user_id": 9092489, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wtid-tDJLSA/AAAAAAAAAAI/AAAAAAAAB_M/5YM7oTXXvJk/photo.jpg?sz=128", "display_name": "Dmitrii Chichuk", "link": "https://stackoverflow.com/users/9092489/dmitrii-chichuk"}, "edited": false, "score": 0, "creation_date": 1606381094, "post_id": 47266011, "comment_id": 114948426, "body": "For anyone wondering, here&#39;s a diff <a href=\"https://www.diffchecker.com/j3ukAZV9\" rel=\"nofollow noreferrer\">diffchecker.com/j3ukAZV9</a> 2 noticable things are ternary op in MaterialApp&gt;home&gt;body and new setState((){})"}], "tags": [], "owner": {"reputation": 3696, "user_id": 6107079, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CUGlv.jpg?s=128&g=1", "display_name": "Mahi", "link": "https://stackoverflow.com/users/6107079/mahi"}, "is_accepted": true, "score": -2, "last_activity_date": 1510581363, "creation_date": 1510581363, "answer_id": 47266011, "question_id": 47198533, "link": "https://stackoverflow.com/questions/47198533/failed-assertion-line-3927-pos-14-dependents-isempty-is-not-true/47266011#47266011", "title": "Failed assertion: line 3927 pos 14: &#39;_dependents.isEmpty&#39;: is not true", "body": "<p>One of my colleague actually changed the way I've built my ListView.builder and I am not seeing the error now. I'll keep an eye on this and post any new ways to answer this question or any errors creeping up again.</p>\n\n<p>I only changed the main.dart file which I have posted for reference.</p>\n\n<blockquote>\n  <p>main.dart</p>\n</blockquote>\n\n<pre><code>import 'dart:async';\nimport 'package:flutter/material.dart';\nimport 'package:flutter/rendering.dart';\nimport 'package:flutter/widgets.dart';\nimport 'package:firebase_auth/firebase_auth.dart';\nimport 'package:firebase_database/firebase_database.dart';\nimport 'package:untitled1/addnewbranch.dart';\n\nvoid main() {\n  runApp(\n    new MaterialApp(\n      home: new Branches(),\n    ),\n  );\n}\n\nclass ProjectModel {\n  BranchSetUpModelData branchesModel;\n\n  ProjectModel(this.branchesModel);\n}\n\nclass BranchSetUpModelData {\n  String branchName;\n  String hostelType;\n  String area;\n  String city;\n\n  BranchSetUpModelData(this.branchName, this.hostelType, this.area, this.city);\n}\n\nDatabaseReference _branchesRef;\nList&lt;ProjectModel&gt; projectModel = new List();\nMap data = {};\n\nList&lt;String&gt; mapKeys = new List();\n\nDataSnapshot dataSnapshot;\n\nclass Branches extends StatefulWidget {\n  //const BranchView({ Key key }) : super(key: key);\n  const Branches({Key key}) : super(key: key);\n\n  @override\n  _BranchesState createState() =&gt; new _BranchesState();\n}\n\nclass _BranchesState extends State&lt;Branches&gt; {\n  String userUid = '';\n  String text;\n\n  Future&lt;Null&gt; getUserUid() async {\n    try {\n      //FirebaseUser user = await FirebaseAuth.instance.currentUser();\n      //userUid = user.uid;\n      //print(userUid);\n      _branchesRef =\n          FirebaseDatabase.instance.reference().child('data').child('branches');\n      print('branchesref = $_branchesRef');\n\n      if (_branchesRef != null) {\n        try {\n          _branchesRef.once().then((DataSnapshot snapShot) {\n            dataSnapshot = snapShot;\n            print(snapShot is Map);\n\n            print(dataSnapshot.value);\n            data = dataSnapshot.value;\n            print(data is Map);\n            print(data);\n\n            data.forEach((key, value) {\n              mapKeys.add(key);\n            });\n\n            projectModel.clear();\n            mapKeys.forEach((value) {\n              _branchesRef.child(value).once().then((DataSnapshot b) {\n                data = b.value;\n                setState(() {\n                  data.keys.forEach((k) {\n                    BranchSetUpModelData x = new BranchSetUpModelData(\n                      b.value['branchDetails']['branchName'],\n                      b.value['branchDetails']['hostelType'],\n                      b.value['branchDetails']['area'],\n                      b.value['branchDetails']['city'],\n                    );\n                    print('details from for each loop');\n                    ProjectModel projectModelData = new ProjectModel(x);\n\n                    projectModel.add(projectModelData);\n                  });\n                });\n                print('projectmodel length = ${projectModel.length}');\n              });\n            });\n\n            data.keys.forEach((k) {\n              print('inside this foreach loop');\n              print(k);\n            });\n          });\n        } catch (Exception) {\n          showDialog(\n              context: context,\n              child: new AlertDialog(\n                  content: new Text(Exception.message.toString())));\n        }\n      } else {\n        print('user does not exist');\n      }\n    } catch (Exception) {\n      print(Exception.toString());\n      showDialog(\n          context: context,\n          child: new AlertDialog(\n            content: new Text(Exception.toString()),\n          ));\n    }\n  }\n\n  @override\n  void initState() {\n    super.initState();\n    mapKeys.clear();\n    FirebaseDatabase.instance.setPersistenceEnabled(true);\n    FirebaseDatabase.instance.setPersistenceCacheSizeBytes(10000000);\n    getUserUid();\n    /*setState((){\n      noOfBranches = mapKeys.length;\n    });*/\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    //if(noOfBranches!=0) {\n    return new MaterialApp(\n      title: 'Branches',\n      theme: new ThemeData(\n        primaryColor: const Color(0xFF229E9C),\n      ),\n      home: new Scaffold(\n        appBar: new AppBar(\n          title: const Text('Branches'),\n          backgroundColor: Colors.teal[300],\n        ),\n        floatingActionButton: new FloatingActionButton(\n          heroTag: 'branchesHeroTag',\n          child: new Icon(Icons.add),\n          backgroundColor: Colors.teal[300],\n          onPressed: (() {\n            Navigator.push(\n              context,\n              new MaterialPageRoute(\n                builder: (_) =&gt; new AddNewBranch(),\n              ),\n            );\n          }),\n          tooltip: 'Add Branch',\n        ),\n        body: (projectModel.length == 0)\n            ? new Center(\n                child: new Column(\n//            mainAxisSize: MainAxisSize.min,\n                  mainAxisAlignment: MainAxisAlignment.center,\n\n                  children: &lt;Widget&gt;[\n                    new Text(\n                      'Setup your Hostel',\n                      style: new TextStyle(\n                        fontSize: 24.0,\n                        color: Colors.grey[400],\n                        fontWeight: FontWeight.bold,\n                      ),\n                    ),\n                    new Text(\n                      'Please click below + icon to Setup your Hostel',\n                      style: new TextStyle(\n                        fontSize: 16.0,\n                        color: Colors.grey[400],\n                      ),\n                    ),\n                  ],\n                ),\n              )\n            : new Container(\n                child: new ListView.builder(\n                  padding: const EdgeInsets.only(\n                    left: 4.0,\n                    right: 4.0,\n                  ),\n                  itemCount: projectModel.length,\n                  itemBuilder: (BuildContext context, int index) {\n                    // children: &lt;Widget&gt;[\n\n                    return new InkWell(\n                      onTap: (() {\n                        /*Navigate here to a different page*/\n                      }),\n                      child: new Card(\n                        child: new Column(\n                          children: &lt;Widget&gt;[\n                            new Container(\n                              //margin: const EdgeInsets.only(top:16.0),\n                              padding: const EdgeInsets.only(top: 16.0),\n                              child: new Row(\n                                children: &lt;Widget&gt;[\n                                  new Expanded(\n                                    child: new Row(\n                                      children: &lt;Widget&gt;[\n                                        new Container(\n                                            margin: const EdgeInsets.only(\n                                                left: 16.0,\n                                                right: 8.0,\n                                                top: 4.0,\n                                                bottom: 4.0),\n                                            child: new IconButton(\n                                                icon: new Icon(Icons.call),\n                                                onPressed: (() {}))),\n                                        new Container(\n                                          child: new Text(\n                                            '80/125',\n                                            style: new TextStyle(\n                                              fontSize: 18.0,\n                                            ),\n                                          ),\n                                        ),\n                                      ],\n                                    ),\n                                  ),\n                                  new Expanded(\n                                    child: new Row(\n                                      textDirection: TextDirection.rtl,\n                                      children: [\n                                        new Container(\n                                          margin: const EdgeInsets.only(\n                                              right: 16.0),\n                                          child: new Text(\n                                            projectModel[index]\n                                                .branchesModel\n                                                .hostelType,\n                                            style: new TextStyle(\n                                              fontSize: 18.0,\n                                            ),\n                                          ),\n                                        ),\n                                      ],\n                                    ),\n                                  ),\n                                ],\n                              ),\n                            ),\n                            new Container(\n                              margin: const EdgeInsets.fromLTRB(\n                                  16.0, 8.0, 16.0, 4.0),\n                              child: new Row(children: &lt;Widget&gt;[\n                                new Text(\n                                  projectModel[index].branchesModel.branchName,\n                                  style: new TextStyle(\n                                    fontSize: 24.0,\n                                  ),\n                                ),\n                              ]),\n                            ),\n                            new Container(\n                              margin: const EdgeInsets.only(\n                                  left: 16.0, right: 16.0, bottom: 8.0),\n                              child: new Row(\n                                children: &lt;Widget&gt;[\n                                  new Text(\n                                      projectModel[index].branchesModel.city),\n                                ],\n                              ),\n                            ),\n                          ],\n                        ),\n                      ),\n                    ); // InkWell ends here so this has to go into ListView.builder\n                  },\n                ), // ListView.builder ends here.\n              ),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>I hope this will help everyone who is struggling with the same use case to solve their problem,\nMany Thanks.\nMahi.</p>\n"}, {"comments": [{"owner": {"reputation": 963, "user_id": 10876063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T9tzR.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/10876063/umair"}, "edited": false, "score": 1, "creation_date": 1579699371, "post_id": 55138114, "comment_id": 105852890, "body": "Your answer saved a lot of my time."}, {"owner": {"reputation": 189, "user_id": 11980816, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7e-Uhh03Tjc/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNez-nuLrwV7j1yIhwKCzAu8COUuQ/mo/photo.jpg?sz=128", "display_name": "mohammad shabani", "link": "https://stackoverflow.com/users/11980816/mohammad-shabani"}, "edited": false, "score": 0, "creation_date": 1595930634, "post_id": 55138114, "comment_id": 111637329, "body": "i solve this problem with convert  StateFullWidget to stateLessWidget"}, {"owner": {"reputation": 1216, "user_id": 1424378, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ffb07d39eccb7309c53b83f430345a34?s=128&d=identicon&r=PG&f=1", "display_name": "James Cameron", "link": "https://stackoverflow.com/users/1424378/james-cameron"}, "edited": false, "score": 0, "creation_date": 1612102119, "post_id": 55138114, "comment_id": 116655782, "body": "For me it was simply the order - before I had it at the end of the initState method. Moving it to the top fixed the issue for me."}, {"owner": {"reputation": 483, "user_id": 10489887, "user_type": "registered", "profile_image": "https://graph.facebook.com/1718668371686170/picture?type=large", "display_name": "Nijat Mursali", "link": "https://stackoverflow.com/users/10489887/nijat-mursali"}, "edited": false, "score": 0, "creation_date": 1618596650, "post_id": 55138114, "comment_id": 118659042, "body": "Solved my problem as well. No idea why"}], "tags": [], "owner": {"reputation": 249, "user_id": 5934608, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MpfHeqbiLzY/AAAAAAAAAAI/AAAAAAAAABQ/e5X8SK-PufM/photo.jpg?sz=128", "display_name": "Efi Kaltirimidou", "link": "https://stackoverflow.com/users/5934608/efi-kaltirimidou"}, "is_accepted": false, "score": 11, "last_activity_date": 1552468518, "creation_date": 1552468518, "answer_id": 55138114, "question_id": 47198533, "link": "https://stackoverflow.com/questions/47198533/failed-assertion-line-3927-pos-14-dependents-isempty-is-not-true/55138114#55138114", "title": "Failed assertion: line 3927 pos 14: &#39;_dependents.isEmpty&#39;: is not true", "body": "<p>I recently had the same exception when I was trying to navigate to another route from a Stateful Widget. Turns out I had forgotten to add the line <code>super.initState();</code> at the start of my widget's <code>initState()</code></p>\n\n<p>Once I change it to this it worked perfectly</p>\n\n<pre><code> @override\n  void initState() {\n    super.initState();\n    ....\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 484, "user_id": 11198609, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c460379bbd383ae29fe56027bc18a13?s=128&d=identicon&r=PG&f=1", "display_name": "Giles Correia Morton", "link": "https://stackoverflow.com/users/11198609/giles-correia-morton"}, "is_accepted": false, "score": 2, "last_activity_date": 1589457976, "creation_date": 1589457976, "answer_id": 61796955, "question_id": 47198533, "link": "https://stackoverflow.com/questions/47198533/failed-assertion-line-3927-pos-14-dependents-isempty-is-not-true/61796955#61796955", "title": "Failed assertion: line 3927 pos 14: &#39;_dependents.isEmpty&#39;: is not true", "body": "<p>For anyone who may find this helpful, I recently had this issue too and it was caused by incorrectly setting a number of <code>key</code> parameters in a list of widgets. I was setting the key based on an id:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>key: Key(item.id.toString())\n</code></pre>\n\n<p>However due to some other logic <code>item.id</code> can sometimes be null and because there are a number of these widgets I ended up with multiple widgets with the key: <code>Key(\"null\")</code>. Updating my key to ensure it was unique solved my problem:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>key: Key(items.indexOf(item).toString())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 9461753, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MEV2OVoKFo4/AAAAAAAAAAI/AAAAAAAABE8/46ZLkGHRcI8/photo.jpg?sz=128", "display_name": "Daniel Kabu Asare", "link": "https://stackoverflow.com/users/9461753/daniel-kabu-asare"}, "is_accepted": false, "score": 0, "last_activity_date": 1607096911, "creation_date": 1607096911, "answer_id": 65146589, "question_id": 47198533, "link": "https://stackoverflow.com/questions/47198533/failed-assertion-line-3927-pos-14-dependents-isempty-is-not-true/65146589#65146589", "title": "Failed assertion: line 3927 pos 14: &#39;_dependents.isEmpty&#39;: is not true", "body": "<p>In my case i was using a modalBox. So i created another form key and used it with it. Thats how i solved mine</p>\n"}, {"tags": [], "owner": {"reputation": 785, "user_id": 5899585, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dXukM.jpg?s=128&g=1", "display_name": "larsaars", "link": "https://stackoverflow.com/users/5899585/larsaars"}, "is_accepted": false, "score": 1, "last_activity_date": 1608398132, "creation_date": 1608398132, "answer_id": 65372430, "question_id": 47198533, "link": "https://stackoverflow.com/questions/47198533/failed-assertion-line-3927-pos-14-dependents-isempty-is-not-true/65372430#65372430", "title": "Failed assertion: line 3927 pos 14: &#39;_dependents.isEmpty&#39;: is not true", "body": "<p>This happened to me as I wrapped a <code>ListView.builder</code> with an <code>Expanded</code> without a container surrounding the <code>Expanded</code> directly as the <code>body</code> of my <code>Scaffold</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 194, "user_id": 4227746, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vSj9SgHMUGs/AAAAAAAAAAI/AAAAAAAABuY/ce2CfdbjHFw/photo.jpg?sz=128", "display_name": "m.i.n.a.r.", "link": "https://stackoverflow.com/users/4227746/m-i-n-a-r"}, "is_accepted": false, "score": -1, "last_activity_date": 1614774665, "creation_date": 1614774665, "answer_id": 66457137, "question_id": 47198533, "link": "https://stackoverflow.com/questions/47198533/failed-assertion-line-3927-pos-14-dependents-isempty-is-not-true/66457137#66457137", "title": "Failed assertion: line 3927 pos 14: &#39;_dependents.isEmpty&#39;: is not true", "body": "<p>In my case, the issue was a <code>form</code> i was using in two different screens, while declaring its <code>key</code> <strong>before</strong> the widget itself, statically. Moving the <code>key</code> declaration in the state solved the issue.</p>\n"}], "owner": {"reputation": 3696, "user_id": 6107079, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CUGlv.jpg?s=128&g=1", "display_name": "Mahi", "link": "https://stackoverflow.com/users/6107079/mahi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12931, "favorite_count": 1, "accepted_answer_id": 47266011, "answer_count": 6, "score": 15, "last_activity_date": 1614774665, "creation_date": 1510220674, "question_id": 47198533, "link": "https://stackoverflow.com/questions/47198533/failed-assertion-line-3927-pos-14-dependents-isempty-is-not-true", "title": "Failed assertion: line 3927 pos 14: &#39;_dependents.isEmpty&#39;: is not true", "body": "<p>I am back again with the issue related to the question already posted by me on stack overflow <a href=\"https://stackoverflow.com/questions/46728408/error-elements-containselement-is-not-true/46770966#46770966\">Error: &#39;_elements.contains(element)&#39;: is not true</a></p>\n\n<p>this issue has been plaguing me but i was unable to reproduce the same issue and now i have somehow tried to repro again and I have posted the code for everyone to figure out what is it that i am doing wrong that's throwing up this assertion error and crashing the app.</p>\n\n<p>I am new to programming and any help would be greatly appreciated. I have trimmed down the code and I am aware of the some of the bugs. But, the only main concern is the <code>Failed assertion: line 3927 pos 14: '_dependents.isEmpty': is not true.</code> and <code>Failed assertion: line 1766 pos 12: '_elements.contains(element)': is not true.</code></p>\n\n<p>Steps to reproduce.</p>\n\n<blockquote>\n  <p>main.dart</p>\n</blockquote>\n\n<pre><code>import 'dart:async';\nimport 'package:flutter/material.dart';\nimport 'package:flutter/rendering.dart';\nimport 'package:flutter/widgets.dart';\nimport 'package:firebase_auth/firebase_auth.dart';\nimport 'package:firebase_database/firebase_database.dart';\nimport 'package:untitled1/addnewbranch.dart';\n\nvoid main() {\n  runApp(\n    new MaterialApp(\n      home: new Branches(),\n    ),\n  );\n}\n\nclass ProjectModel {\n  BranchSetUpModelData branchesModel;\n  ProjectModel(this.branchesModel);\n}\n\nclass BranchSetUpModelData {\n  String branchName;\n  String hostelType;\n  String area;\n  String city;\n  BranchSetUpModelData(this.branchName, this.hostelType, this.area, this.city);\n}\n\nDatabaseReference _branchesRef;\nList&lt;ProjectModel&gt; projectModel = new List();\nMap data = {};\n\nList&lt;String&gt; mapKeys = new List();\n\nDataSnapshot dataSnapshot;\n\nclass Branches extends StatefulWidget {\n  //const BranchView({ Key key }) : super(key: key);\n  const Branches({Key key}) : super(key: key);\n  @override\n  _BranchesState createState() =&gt; new _BranchesState();\n}\n\nclass _BranchesState extends State&lt;Branches&gt; {\n  String userUid = '';\n  String text;\n  int noOfBranches = 0;\n  int itemCount;\n\n  Future&lt;Null&gt; getUserUid() async {\n    try {\n      //FirebaseUser user = await FirebaseAuth.instance.currentUser();\n      //userUid = user.uid;\n      //print(userUid);\n      _branchesRef =\n          FirebaseDatabase.instance.reference().child('data').child('branches');\n      print('branchesref = $_branchesRef');\n\n      if (_branchesRef != null) {\n        try {\n          _branchesRef.once().then((DataSnapshot snapShot) {\n            dataSnapshot = snapShot;\n            print(snapShot is Map);\n\n            print(dataSnapshot.value);\n            data = dataSnapshot.value;\n            print(data is Map);\n            print(data);\n\n            data.forEach((key, value) {\n              mapKeys.add(key);\n            });\n            print('no of branches = $noOfBranches');\n            projectModel.clear();\n            mapKeys.forEach((value) {\n              _branchesRef.child(value).once().then((DataSnapshot b) {\n                data = b.value;\n                data.keys.forEach((k) {\n                  BranchSetUpModelData x = new BranchSetUpModelData(\n                    b.value['branchDetails']['branchName'],\n                    b.value['branchDetails']['hostelType'],\n                    b.value['branchDetails']['area'],\n                    b.value['branchDetails']['city'],\n                  );\n                  print('details from for each loop');\n                  ProjectModel projectModelData = new ProjectModel(x);\n\n                  projectModel.add(projectModelData);\n                });\n                print('projectmodel length = ${projectModel.length}');\n              });\n            });\n            setState(() {\n              noOfBranches = mapKeys.length;\n              itemCount = noOfBranches;\n            });\n            print('no of branches = $noOfBranches');\n\n            data.keys.forEach((k) {\n              print('inside this foreach loop');\n              print(k);\n            });\n          });\n        } catch (Exception) {\n          showDialog(\n              context: context,\n              child: new AlertDialog(\n                  content: new Text(Exception.message.toString())));\n        }\n      } else {\n        print('user does not exist');\n      }\n    } catch (Exception) {\n      print(Exception.toString());\n      showDialog(\n          context: context,\n          child: new AlertDialog(\n            content: new Text(Exception.toString()),\n          ));\n    }\n  }\n\n  @override\n  void initState() {\n    super.initState();\n    mapKeys.clear();\n    FirebaseDatabase.instance.setPersistenceEnabled(true);\n    FirebaseDatabase.instance.setPersistenceCacheSizeBytes(10000000);\n    getUserUid();\n    /*setState((){\n      noOfBranches = mapKeys.length;\n    });*/\n    print('noOfBranches in init state= $noOfBranches');\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    print('noof branches inside widget build = $noOfBranches');\n    //if(noOfBranches!=0) {\n    return new MaterialApp(\n      title: 'Branches',\n      theme: new ThemeData(\n        primaryColor: const Color(0xFF229E9C),\n      ),\n      home: new Scaffold(\n        appBar: new AppBar(\n          title: const Text('Branches'),\n          backgroundColor: Colors.teal[300],\n        ),\n        floatingActionButton: new FloatingActionButton(\n          heroTag: 'branchesHeroTag',\n          child: new Icon(Icons.add),\n          backgroundColor: Colors.teal[300],\n          onPressed: (() {\n            Navigator.push(\n              context,\n              new MaterialPageRoute(\n                builder: (_) =&gt; new AddNewBranch(),\n              ),\n            );\n          }),\n          tooltip: 'Add Branch',\n        ),\n        body: new Container(\n          child: new ListView.builder(\n            padding: const EdgeInsets.only(\n              left: 4.0,\n              right: 4.0,\n            ),\n            itemCount: itemCount,\n            itemBuilder: (BuildContext context, int index) {\n              if (noOfBranches != 0) {\n                // children: &lt;Widget&gt;[\n\n                return new InkWell(\n                  onTap: (() {\n                    /*Navigate here to a different page*/\n                  }),\n                  child: new Card(\n                    child: new Column(\n                      children: &lt;Widget&gt;[\n                        new Container(\n                          //margin: const EdgeInsets.only(top:16.0),\n                          padding: const EdgeInsets.only(top: 16.0),\n                          child: new Row(\n                            children: &lt;Widget&gt;[\n                              new Expanded(\n                                child: new Row(\n                                  children: &lt;Widget&gt;[\n                                    new Container(\n                                        margin: const EdgeInsets.only(\n                                            left: 16.0,\n                                            right: 8.0,\n                                            top: 4.0,\n                                            bottom: 4.0),\n                                        child: new IconButton(\n                                            icon: new Icon(Icons.call),\n                                            onPressed: (() {}))),\n                                    new Container(\n                                      child: new Text(\n                                        '80/125',\n                                        style: new TextStyle(\n                                          fontSize: 18.0,\n                                        ),\n                                      ),\n                                    ),\n                                  ],\n                                ),\n                              ),\n                              new Expanded(\n                                child: new Row(\n                                  textDirection: TextDirection.rtl,\n                                  children: [\n                                    new Container(\n                                      margin:\n                                          const EdgeInsets.only(right: 16.0),\n                                      child: new Text(\n                                        projectModel[index]\n                                            .branchesModel\n                                            .hostelType,\n                                        style: new TextStyle(\n                                          fontSize: 18.0,\n                                        ),\n                                      ),\n                                    ),\n                                  ],\n                                ),\n                              ),\n                            ],\n                          ),\n                        ),\n                        new Container(\n                          margin:\n                              const EdgeInsets.fromLTRB(16.0, 8.0, 16.0, 4.0),\n                          child: new Row(children: &lt;Widget&gt;[\n                            new Text(\n                              projectModel[index].branchesModel.branchName,\n                              style: new TextStyle(\n                                fontSize: 24.0,\n                              ),\n                            ),\n                          ]),\n                        ),\n                        new Container(\n                          margin: const EdgeInsets.only(\n                              left: 16.0, right: 16.0, bottom: 8.0),\n                          child: new Row(\n                            children: &lt;Widget&gt;[\n                              new Text(projectModel[index].branchesModel.city),\n                            ],\n                          ),\n                        ),\n                      ],\n                    ),\n                  ),\n                ); // InkWell ends here so this has to go into ListView.builder\n              } else {\n                itemCount = 1;\n\n                return new Center(\n                  child: new Column(\n//            mainAxisSize: MainAxisSize.min,\n                    mainAxisAlignment: MainAxisAlignment.center,\n\n                    children: &lt;Widget&gt;[\n                      new Text(\n                        'Setup your Hostel',\n                        style: new TextStyle(\n                          fontSize: 24.0,\n                          color: Colors.grey[400],\n                          fontWeight: FontWeight.bold,\n                        ),\n                      ),\n                      new Text(\n                        'Please click below + icon to Setup your Hostel',\n                        style: new TextStyle(\n                          fontSize: 16.0,\n                          color: Colors.grey[400],\n                        ),\n                      ),\n                    ],\n                  ),\n                );\n              }\n            },\n          ), // ListView.builder ends here.\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<blockquote>\n  <p>globals.dart</p>\n</blockquote>\n\n<pre><code>library my_app.globals;\nimport 'package:firebase_auth/firebase_auth.dart';\nimport 'package:firebase_database/firebase_database.dart';\n\nfinal FirebaseAuth auth = FirebaseAuth.instance;\nfinal DatabaseReference databaseReference = FirebaseDatabase.instance.reference();\n</code></pre>\n\n<blockquote>\n  <p>addnewbranch.dart</p>\n</blockquote>\n\n<pre><code>import 'dart:async';\nimport 'package:meta/meta.dart';\nimport 'package:firebase_auth/firebase_auth.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter/rendering.dart';\nimport 'package:flutter/widgets.dart';\nimport 'package:untitled1/main.dart';\nimport './globals.dart' as gl;\n\nclass BranchSetupModel {\n  String branchName;\n  String hostelType;\n  String area;\n  String city;\n  BranchSetupModel(this.branchName, this.hostelType, this.area, this.city);\n}\n\nBranchSetupModel branchSetupModel =\n    new BranchSetupModel('', 'Hostel Type', '', '');\n\nclass AddNewBranch extends StatefulWidget {\n  const AddNewBranch({Key key}) : super(key: key);\n\n  @override\n  State&lt;StatefulWidget&gt; createState() {\n    return new _AddNewBranchState();\n  }\n}\n\nclass _AddNewBranchState extends State&lt;AddNewBranch&gt; {\n  String actionsString = 'Next';\n  String userUid;\n\n  TextEditingController _branchNameController = new TextEditingController();\n  TextEditingController _areaController = new TextEditingController();\n  TextEditingController _cityController = new TextEditingController();\n\n  final GlobalKey&lt;FormState&gt; _formKey = new GlobalKey&lt;FormState&gt;();\n  final GlobalKey&lt;ScaffoldState&gt; _scaffoldKey = new GlobalKey&lt;ScaffoldState&gt;();\n  bool _formWasEdited = false;\n  bool _autovalidate = false;\n  String dropDownvalue = 'Hostel Type';\n\n  //FocusNode _branchManagerNameFocusNode = new FocusNode();\n\n  String _validateName(String value) {\n    _formWasEdited = true;\n    if (value.isEmpty) return 'Name is required.';\n    final RegExp nameExp = new RegExp(r'^[A-Za-z ]+$');\n    if (!nameExp.hasMatch(value))\n      return 'Please enter only alphabetical characters and spaces.';\n    return null;\n  }\n\n  Future&lt;Null&gt; getUserUid() async {\n    try {\n      FirebaseUser user = await FirebaseAuth.instance.currentUser();\n      userUid = user.uid;\n      print(userUid);\n    } catch (Exception) {\n      print(Exception.toString());\n    }\n  }\n\n  @override\n  void initState() {\n    super.initState();\n    getUserUid();\n    _branchNameController =\n        new TextEditingController(text: branchSetupModel.branchName);\n    _areaController = new TextEditingController(text: branchSetupModel.area);\n    _cityController = new TextEditingController(text: branchSetupModel.city);\n    dropDownvalue = branchSetupModel.hostelType;\n    branchSetupModel = new BranchSetupModel('', 'Hostel Type', '', '');\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      theme: new ThemeData(\n        primarySwatch: Colors.teal,\n      ),\n      title: 'Branch Setup',\n      home: new Scaffold(\n        appBar: new AppBar(\n          title: const Text('Add New Branch'),\n          backgroundColor: Colors.teal[300],\n          leading: new IconButton(\n            icon: new Icon(Icons.arrow_back),\n            onPressed: (() {\n              print('back button clicked');\n              //to be removed and to include functionality here\n              Navigator.push(\n                context,\n                new MaterialPageRoute(\n                  builder: (_) =&gt; new Branches(),\n                ),\n              );\n            }),\n          ),\n          actions: &lt;Widget&gt;[\n            new Center(\n              child: new Column(\n                mainAxisAlignment: MainAxisAlignment.center,\n                mainAxisSize: MainAxisSize.min,\n                children: &lt;Widget&gt;[\n                  new FlatButton(\n                    child: new Text(\n                      actionsString,\n                      style: new TextStyle(\n                        fontSize: 20.0,\n                        fontWeight: FontWeight.w500,\n                        color: Colors.white,\n                      ),\n                    ),\n                    onPressed: () {\n                      print('Save button clicked');\n\n                      String pushKey = gl.databaseReference\n                          .child('data')\n                          .child('branches')\n                          .push()\n                          .key;\n                      gl.databaseReference\n                          .child('data')\n                          .child('branches')\n                          .child(pushKey)\n                          .child('branchDetails')\n                          .set({\n                        \"branchName\": branchSetupModel.branchName,\n                        \"hostelType\": branchSetupModel.hostelType,\n                        \"area\": branchSetupModel.area,\n                        \"city\": branchSetupModel.city,\n                        \"pushKey\": pushKey\n                      });\n                      Navigator.push(\n                        context,\n                        new MaterialPageRoute(\n                          builder: (_) =&gt; new Branches(),\n                        ),\n                      );\n                    },\n                    splashColor: const Color(0xFF229E9C),\n                  ),\n                ],\n              ),\n            ),\n          ],\n        ),\n        body: new Form(\n          key: _formKey,\n          child: new ListView(\n            children: &lt;Widget&gt;[\n              new Container(\n                margin: const EdgeInsets.only(left: 16.0, right: 16.0),\n                child: new Row(\n                  children: &lt;Widget&gt;[\n                    new Text('Hostel Type'),\n                  ],\n                ),\n              ),\n              new Container(\n                //height: 56.0,\n                margin: const EdgeInsets.only(left: 16.0, right: 16.0),\n                child: new Column(\n                  children: &lt;Widget&gt;[\n                    new DropdownButton&lt;String&gt;(\n                      //key: _dropDownKey,\n                      hint: new Text(dropDownvalue),\n\n                      items: &lt;String&gt;[\n                        'Mens',\n                        'Womens',\n                      ].map(\n                        (String value) {\n                          return new DropdownMenuItem&lt;String&gt;(\n                            value: value,\n                            child: new Text(value),\n                          );\n                        },\n                      ).toList(),\n                      onChanged: (String value) {\n                        setState(() {\n                          dropDownvalue = value;\n                          branchSetupModel.hostelType = value;\n                          print(branchSetupModel.hostelType);\n                        });\n                      },\n                    ),\n                  ],\n                ),\n              ),\n              new Container(\n                margin: const EdgeInsets.only(left: 16.0, right: 16.0),\n                child: new Row(\n                  children: &lt;Widget&gt;[\n                    new Expanded(\n                      child: new TextField(\n                        autocorrect: false,\n                        decoration: new InputDecoration(\n                          labelText: 'Branch Name',\n                        ),\n                        controller: _branchNameController,\n                        onChanged: (String value) {\n                          branchSetupModel.branchName =\n                              _branchNameController.text;\n                          print(branchSetupModel.branchName);\n                        },\n                        //validator: _validateName,\n                      ),\n                    ),\n                  ],\n                ),\n              ),\n              new Container(\n                margin: const EdgeInsets.only(left: 16.0, right: 16.0),\n                child: new Row(\n                  children: &lt;Widget&gt;[\n                    new Expanded(\n                      child: new TextField(\n                        decoration: new InputDecoration(\n                          labelText: 'Area/Location',\n                        ),\n                        controller: _areaController,\n                        onChanged: (String value) {\n                          branchSetupModel.area = value;\n                          print(branchSetupModel.area);\n                        },\n                        //validator: _validateName,\n                      ),\n                    ),\n                  ],\n                ),\n              ),\n              new Container(\n                margin: const EdgeInsets.only(\n                  left: 16.0,\n                  right: 16.0,\n                ),\n                child: new Row(\n                  children: &lt;Widget&gt;[\n                    new Expanded(\n                      child: new TextField(\n                        decoration: new InputDecoration(\n                          labelText: 'City',\n                        ),\n                        controller: _cityController,\n                        onChanged: (String value) {\n                          branchSetupModel.city = value;\n                        },\n                      ),\n                    ),\n                  ],\n                ),\n              ),\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<blockquote>\n  <p>pubspec.yaml</p>\n</blockquote>\n\n<pre><code>name: untitled1\ndescription: A new Flutter project.\n\ndependencies:\n  flutter:\n    sdk: flutter\n  google_sign_in: ^1.0.1\n  firebase_analytics: ^0.1.1\n  firebase_auth: ^0.3.1\n  firebase_database: ^0.1.2\n  firebase_storage: ^0.0.7\n\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n\n\n# For information on the generic Dart part of this file, see the\n# following page: https://www.dartlang.org/tools/pub/pubspec\n\n# The following section is specific to Flutter.\nflutter:\n\n  # The following line ensures that the Material Icons font is\n  # included with your application, so that you can use the icons in\n  # the material Icons class.\n  uses-material-design: true\n</code></pre>\n\n<p>Please integrate the firebase app to run the code before trying to reproduce the error and make sure the read and write access set to 'true' as I have not added any authentication.</p>\n\n<p>As far as I know the error only occurs in the main.dart file.It works fine for a few times and then the errors start coming in. First, it throws up the error <code>RangeError (index): Invalid value: Valid value range is empty: 0</code> this error is for the <code>ListView.builder()</code> and then the other two assertion errors come up.</p>\n\n<p>Please can someone tell me what I am doing wrong or is there a different way to achieve the same goal without these errors.</p>\n\n<blockquote>\n  <p>output from flutter doctor command.</p>\n</blockquote>\n\n<pre><code>    [\u221a] Flutter (on Microsoft Windows [Version 10.0.15063], locale en-GB, channel alpha)\n    \u2022 Flutter at C:\\Users\\Prayuta\\flutter\n    \u2022 Framework revision e8aa40eddd (3 weeks ago), 2017-10-17 15:42:40 -0700\n    \u2022 Engine revision 7c4142808c\n    \u2022 Tools Dart version 1.25.0-dev.11.0\n\n[\u221a] Android toolchain - develop for Android devices (Android SDK 27.0.0)\n    \u2022 Android SDK at C:\\Users\\Prayuta\\AppData\\Local\\Android\\sdk\n    \u2022 Platform android-27, build-tools 27.0.0\n    \u2022 Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java\n    \u2022 Java version OpenJDK Runtime Environment (build 1.8.0_152-release-915-b01)\n\n[\u221a] Android Studio (version 3.0)\n    \u2022 Android Studio at C:\\Program Files\\Android\\Android Studio\n    \u2022 Java version OpenJDK Runtime Environment (build 1.8.0_152-release-915-b01)\n\n[\u221a] IntelliJ IDEA Community Edition (version 2017.2)\n    \u2022 Flutter plugin version 18.4\n    \u2022 Dart plugin version 172.4343.25\n\n[\u221a] Connected devices\n    \u2022 Android SDK built for x86 \u2022 emulator-5554 \u2022 android-x86 \u2022 Android 7.1.1 (API 25) (emulator)\n\nProcess finished with exit code 0.\n</code></pre>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 429, "user_id": 3748958, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/aa2cdf01e3a352c01772f746631e4572?s=128&d=identicon&r=PG&f=1", "display_name": "Bil5", "link": "https://stackoverflow.com/users/3748958/bil5"}, "edited": false, "score": 0, "creation_date": 1556381672, "post_id": 47211548, "comment_id": 98423492, "body": "Excellent solution. However, if you would want to be more flexible, the &#39;Offset(-0.6, 0.0)&#39; should be programmatically resolved. A way to do it is to wrap the gesture detector into a LayoutBuilder which comes with a boxConstraints arguments. Knowing the width of the action buttons and of course their number, it becomes easy to compute the necessary offset as following :      Offset(-1 * (actionWidth * actionButtons.length)/ constraints.maxWidth, 0.0)"}], "tags": [], "owner": {"reputation": 7736, "user_id": 2744242, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/71d3267f5993b6b79619213c789524b5?s=128&d=identicon&r=PG&f=1", "display_name": "rafaelcb21", "link": "https://stackoverflow.com/users/2744242/rafaelcb21"}, "is_accepted": true, "score": 9, "last_activity_date": 1510261685, "creation_date": 1510261685, "answer_id": 47211548, "question_id": 47193119, "link": "https://stackoverflow.com/questions/47193119/flutter-partial-slidetransition-in-widget/47211548#47211548", "title": "Flutter - Partial SlideTransition in widget", "body": "<p>I found a solution, follow the code below and the demonstration:</p>\n\n<p><a href=\"https://i.stack.imgur.com/1T0rd.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1T0rd.gif\" alt=\"enter image description here\"></a></p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() {\n  runApp(new MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      home: new MyHomePage(),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  @override\n  _MyHomePageState createState() =&gt; new _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; with TickerProviderStateMixin {\n  AnimationController _controller;\n  Animation&lt;double&gt; _animation;\n\n  void initState() {\n    super.initState();\n    _controller = new AnimationController(duration: \n      const Duration(milliseconds: 246), vsync: this);\n\n    _animation = new CurvedAnimation(\n      parent: _controller,\n      curve: new Interval(0.0, 1.0, curve: Curves.linear),\n    );\n  }\n\n  void _move(DragUpdateDetails details) {\n    final double delta = details.primaryDelta / 304;\n    switch (Directionality.of(context)) {\n      case TextDirection.rtl:\n        _controller.value += delta;\n        break;\n      case TextDirection.ltr:\n        _controller.value -= delta;\n        break;\n    }\n  }  \n\n  void _handleDragEnd(DragEndDetails details) {\n    bool _isFlingGesture = -details.velocity.pixelsPerSecond.dx &gt; 700;\n\n    if (_isFlingGesture) {\n      final double flingVelocity = details.velocity.pixelsPerSecond.dx;\n      _controller.fling(velocity: flingVelocity.abs() * 0.003333);\n    } else if (_controller.value &lt; 0.4) {\n      _controller.reverse();\n    } else {\n      _controller.forward();\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      appBar: new AppBar(),\n      body: new Center(\n        child: new GestureDetector(\n          onHorizontalDragUpdate: _move,\n          onHorizontalDragEnd: _handleDragEnd,\n          child: new Stack(\n            children: &lt;Widget&gt;[\n              new Positioned.fill(            \n                child: new Row(\n                  mainAxisAlignment: MainAxisAlignment.end,\n                  children: &lt;Widget&gt;[\n                    new Container(\n                      decoration: new BoxDecoration(\n                        color: Colors.black38,\n                        border: new Border(\n                          top: new BorderSide(style: BorderStyle.solid, color: Colors.black12),\n                          bottom: new BorderSide(style: BorderStyle.solid, color: Colors.black12),\n                        ),\n                      ),\n                      child: new IconButton(                          \n                        padding: new EdgeInsets.only(top: 16.0, bottom: 16.0, left: 24.0, right: 24.0),\n                        icon: new Icon(Icons.thumb_up),\n                        color: new Color(0xFFFFFFFF),\n                        onPressed: () {},\n                      )\n                    ),\n                    new Container(\n                      decoration: new BoxDecoration(\n                        color: Colors.black54,\n                        border: new Border(\n                          top: new BorderSide(style: BorderStyle.solid, color: Colors.black12),\n                          bottom: new BorderSide(style: BorderStyle.solid, color: Colors.black12),\n                        ),\n                      ),\n                      child: new IconButton(                          \n                        padding: new EdgeInsets.only(top: 16.0, bottom: 16.0, left: 24.0, right: 24.0),\n                        icon: new Icon(Icons.edit),\n                        color: new Color(0xFFFFFFFF),\n                        onPressed: () {},\n                      )\n                    ),\n                    new Container(\n                      decoration: new BoxDecoration(\n                        color: new Color(0xFFE57373),\n                        border: new Border(\n                          top: new BorderSide(style: BorderStyle.solid, color: const Color(0xFFE57373)),\n                          bottom: new BorderSide(style: BorderStyle.solid, color: const Color(0xFFE57373)),\n                        ),\n                      ),\n                      child: new IconButton(                          \n                        padding: new EdgeInsets.only(top: 16.0, bottom: 16.0, left: 24.0, right: 24.0),\n                        icon: new Icon(Icons.delete),\n                        color: new Color(0xFFFFFFFF),\n                        onPressed: () {},\n                      )\n                    ),\n                  ],\n                ),\n              ),\n              new SlideTransition(\n                position: new Tween&lt;Offset&gt;(\n                  begin:  Offset.zero,\n                  end: const Offset(-0.6, 0.0), //controls the opening of the slice\n                ).animate(_animation),\n                child: new Container(\n                  decoration: new BoxDecoration(\n                    border: new Border(\n                      top: new BorderSide(style: BorderStyle.solid, color: Colors.black26),\n                      bottom: new BorderSide(style: BorderStyle.solid, color: Colors.black26),\n                    ),\n                    color: new Color(0xFFFFFFFF),\n                  ),\n                  padding: new EdgeInsets.only(top: 20.0, bottom: 20.0),\n                  child: new Row(\n                    mainAxisAlignment: MainAxisAlignment.center,\n                    crossAxisAlignment: CrossAxisAlignment.center,\n                    children: &lt;Widget&gt;[\n                      new Text('foo'),\n                    ],\n                  ),\n                ),\n              ),                           \n            ],\n          )\n        )\n      ),\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 7736, "user_id": 2744242, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/71d3267f5993b6b79619213c789524b5?s=128&d=identicon&r=PG&f=1", "display_name": "rafaelcb21", "link": "https://stackoverflow.com/users/2744242/rafaelcb21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2262, "favorite_count": 6, "accepted_answer_id": 47211548, "answer_count": 1, "score": 3, "last_activity_date": 1510261685, "creation_date": 1510195958, "question_id": 47193119, "link": "https://stackoverflow.com/questions/47193119/flutter-partial-slidetransition-in-widget", "title": "Flutter - Partial SlideTransition in widget", "body": "<p>I'm trying to create the animation below, in which there is widget behind the <code>Container</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/EdggH.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EdggH.gif\" alt=\"enter image description here\"></a></p>\n\n<p>I tried to use the class <code>Dismissible</code> but its animation does not stop at a certain point, it goes to the end and disappears with the item, according to the gif below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/04upj.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/04upj.gif\" alt=\"enter image description here\"></a></p>\n\n<p>I inserted the code into the <code>SlideTransition</code> class but I'm not sure how to integrate the <code>onHorizontalDragStart</code>, <code>onHorizontalDragUpdate</code>, <code>onHorizontalDragEnd</code> to generate the expected effect with the hidden back widget.</p>\n\n<p>Could you help me solve the problem?</p>\n\n<p>Follow the code below along with your screen:</p>\n\n<p><a href=\"https://i.stack.imgur.com/GlxY7.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GlxY7.gif\" alt=\"enter image description here\"></a></p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() {\n  runApp(new MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      home: new MyHomePage(),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  @override\n  _MyHomePageState createState() =&gt; new _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; with TickerProviderStateMixin {\n  AnimationController _controller;\n  Animation&lt;double&gt; _animation;\n  bool _dragUnderway = false;\n\n  @override\n  void initState() {\n    _controller = new AnimationController(\n      vsync: this,\n      duration: const Duration(milliseconds: 200),\n    );\n    _animation = new CurvedAnimation(\n      parent: _controller,\n      curve: new Interval(0.0, 1.0, curve: Curves.linear),\n    );\n    _controller.reverse();\n    super.initState();\n  }\n\n\n\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      appBar: new AppBar(),\n      body: new Center(\n        child: new GestureDetector(\n          //onHorizontalDragStart: ,\n          //onHorizontalDragUpdate:,\n          //onHorizontalDragEnd: ,\n          child: new SlideTransition(\n            position: new Tween&lt;Offset&gt;(\n              begin:  Offset.zero,\n              end: const Offset(1.0, 0.0),\n            ).animate(_animation),\n            child: new Container(\n              decoration: new BoxDecoration(\n                border: new Border(\n                  top: new BorderSide(style: BorderStyle.solid, color: Colors.black26),\n                  bottom: new BorderSide(style: BorderStyle.solid, color: Colors.black26),\n                )\n              ),\n              padding: new EdgeInsets.only(top: 20.0, bottom: 20.0),\n              child: new Row(\n                mainAxisAlignment: MainAxisAlignment.center,\n                crossAxisAlignment: CrossAxisAlignment.center,\n                children: &lt;Widget&gt;[\n                  new Text('foo'),                  \n                ],\n              ),\n            ),\n          )\n        )\n      ),\n    );\n  }\n}\n</code></pre>\n"}]