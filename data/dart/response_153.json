[{"tags": ["dart", "dart-html"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 7670032, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/723f0b8153798ff716df527ccec36a12?s=128&d=identicon&r=PG", "display_name": "Tux", "link": "https://stackoverflow.com/users/7670032/tux"}, "edited": false, "score": 0, "creation_date": 1513187659, "post_id": 47799386, "comment_id": 82559842, "body": "By sibling, do you mean it has to be in the same directory? Or can it be in a sub-directory?"}, {"owner": {"reputation": 47, "user_id": 7670032, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/723f0b8153798ff716df527ccec36a12?s=128&d=identicon&r=PG", "display_name": "Tux", "link": "https://stackoverflow.com/users/7670032/tux"}, "edited": false, "score": 1, "creation_date": 1513187743, "post_id": 47799386, "comment_id": 82559887, "body": "Sorry... Apparently I can&#39;t hit enter on mobile here...  This looks like it should work. I will test it out later (have to go run a kid to the dentist), and post back, but it makes me hopeful! Thanks!!!"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 47, "user_id": 7670032, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/723f0b8153798ff716df527ccec36a12?s=128&d=identicon&r=PG", "display_name": "Tux", "link": "https://stackoverflow.com/users/7670032/tux"}, "edited": false, "score": 0, "creation_date": 1513187944, "post_id": 47799386, "comment_id": 82559998, "body": "Sure, no worries. I hope there won&#39;t be any pain for the kid :-["}, {"owner": {"reputation": 47, "user_id": 7670032, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/723f0b8153798ff716df527ccec36a12?s=128&d=identicon&r=PG", "display_name": "Tux", "link": "https://stackoverflow.com/users/7670032/tux"}, "edited": false, "score": 1, "creation_date": 1513188422, "post_id": 47799386, "comment_id": 82560223, "body": "Heh. Not immediately. Consultation to decide when to do orthodontics. :("}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 0, "last_activity_date": 1513187583, "creation_date": 1513187583, "answer_id": 47799386, "question_id": 47799327, "link": "https://stackoverflow.com/questions/47799327/using-dart-for-html5-app-but-want-to-load-a-file-from-the-server-side/47799386#47799386", "title": "Using Dart for HTML5 app, but want to load a file from the server-side", "body": "<p>If the file you are loading is a sibling of the <code>index.html</code> your game is loaded from, then you can just make an HTTP request to fetch the file.</p>\n\n<p>To download <code>web/level1.json</code> you can use</p>\n\n<pre><code>Future&lt;String&gt; getGameData(String name) {\n  var response = await HttpRequest.getString('${name}.json');\n  print(response);\n  return response;\n}\n\notherMethod() async {\n  var data = await getGameData('level1');\n}\n</code></pre>\n\n<p>See also <a href=\"https://api.dartlang.org/stable/1.24.3/dart-html/HttpRequest-class.html\" rel=\"nofollow noreferrer\">https://api.dartlang.org/stable/1.24.3/dart-html/HttpRequest-class.html</a></p>\n"}], "owner": {"reputation": 47, "user_id": 7670032, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/723f0b8153798ff716df527ccec36a12?s=128&d=identicon&r=PG", "display_name": "Tux", "link": "https://stackoverflow.com/users/7670032/tux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 311, "favorite_count": 0, "accepted_answer_id": 47799386, "answer_count": 1, "score": 1, "last_activity_date": 1513187583, "creation_date": 1513187361, "question_id": 47799327, "link": "https://stackoverflow.com/questions/47799327/using-dart-for-html5-app-but-want-to-load-a-file-from-the-server-side", "title": "Using Dart for HTML5 app, but want to load a file from the server-side", "body": "<p>I'm new to Dart, and trying to create my first Dart web game. Sorry if I missed an answered question related to this. I did search, but wasn't having much luck. </p>\n\n<p>To load a level, I would like to be able to read in a text file with the level data, then process that and use it to build the level. Unfortunately, I am running into the issue where dart:io and dart:html can not both be loaded if you want to use the File() object. From what I can tell, dart:html's File() object is client-side, so that would not be able to open the text-file I will have on the server. </p>\n\n<p>Is there another way to read in a text file from the server? If not, do I need to set up a database just to store the game data, or is there a better option I'm not thinking about here?</p>\n\n<p>In case it helps, the game data I'm working with currently is just a text file that gives a map of what the level will look like. For example:</p>\n\n<p>~~~~Z~~~~</p>\n\n<p>P</p>\n\n<p>GGGGLLGGG</p>\n\n<p>Each of those characters would denote a type of block to be placed in the level. It's not the best way to store levels, but it is pretty easy to create and easy to read in and process. </p>\n\n<p>Thanks so much for the help! </p>\n"}, {"tags": ["gridview", "firebase-realtime-database", "dart", "flutter"], "comments": [{"owner": {"reputation": 389, "user_id": 3471361, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/OMzPO.png?s=128&g=1", "display_name": "abnerh69", "link": "https://stackoverflow.com/users/3471361/abnerh69"}, "edited": false, "score": 0, "creation_date": 1513134332, "post_id": 47784829, "comment_id": 82531151, "body": "NOTE: drMenues is a reference to a Firebase database: DatabaseReference drMenues = FirebaseDatabase.instance.reference().child(tMenues);"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1513149026, "post_id": 47784829, "comment_id": 82535775, "body": "You can edit your question and add additional info there. Code in comments is hard to read."}, {"owner": {"reputation": 159093, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1513181500, "post_id": 47784829, "comment_id": 82555893, "body": "I understand nothing too."}, {"owner": {"reputation": 3784, "user_id": 2924323, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/6XBqj.jpg?s=128&g=1", "display_name": "Ramesh-X", "link": "https://stackoverflow.com/users/2924323/ramesh-x"}, "edited": false, "score": 0, "creation_date": 1593496981, "post_id": 47784829, "comment_id": 110793832, "body": "I think you can find some help in <a href=\"https://www.fcodelabs.com/2020/06/29/Effectively-Use-Future-Builders/\" rel=\"nofollow noreferrer\">this article</a>."}], "answers": [{"comments": [{"owner": {"reputation": 33685, "user_id": 3434970, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/cWyFQ.png?s=128&g=1", "display_name": "Shady Aziza", "link": "https://stackoverflow.com/users/3434970/shady-aziza"}, "edited": false, "score": 2, "creation_date": 1513267784, "post_id": 47815698, "comment_id": 82596996, "body": "Usually when listening to the database it is a stream of data rather than a future, consider using StreamBuilder instead of FutureBuilder"}, {"owner": {"reputation": 389, "user_id": 3471361, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/OMzPO.png?s=128&g=1", "display_name": "abnerh69", "link": "https://stackoverflow.com/users/3471361/abnerh69"}, "reply_to_user": {"reputation": 33685, "user_id": 3434970, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/cWyFQ.png?s=128&g=1", "display_name": "Shady Aziza", "link": "https://stackoverflow.com/users/3434970/shady-aziza"}, "edited": false, "score": 0, "creation_date": 1513297597, "post_id": 47815698, "comment_id": 82610894, "body": "Can you please, provide an example for StreamBuilder?"}, {"owner": {"reputation": 407, "user_id": 1449997, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/USukN.jpg?s=128&g=1", "display_name": "alltooconfusingthereforesleep", "link": "https://stackoverflow.com/users/1449997/alltooconfusingthereforesleep"}, "edited": false, "score": 0, "creation_date": 1523544134, "post_id": 47815698, "comment_id": 86613615, "body": "Were you able to work with the streambuilder? I tried this with a stream builder but couldn&#39;t get the gridview builder to work."}, {"owner": {"reputation": 749, "user_id": 7418129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZ0oR.jpg?s=128&g=1", "display_name": "ABHIMANGAL MS", "link": "https://stackoverflow.com/users/7418129/abhimangal-ms"}, "edited": false, "score": 0, "creation_date": 1579238019, "post_id": 47815698, "comment_id": 105706931, "body": "How to make a &quot;Click event&quot; on this ? Please let me know"}], "tags": [], "owner": {"reputation": 389, "user_id": 3471361, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/OMzPO.png?s=128&g=1", "display_name": "abnerh69", "link": "https://stackoverflow.com/users/3471361/abnerh69"}, "is_accepted": false, "score": 0, "last_activity_date": 1513261603, "creation_date": 1513261603, "answer_id": 47815698, "question_id": 47784829, "link": "https://stackoverflow.com/questions/47784829/flutter-how-to-load-future-data-from-firebase-to-gridview/47815698#47815698", "title": "Flutter: How to load Future data from firebase to GridView?", "body": "<p>What a have been investigating and learning, what I need is a <strong>FutureBuilder</strong> the gets the query in \"<strong>future:</strong>\" and builds the GridView in \"<strong>builder:</strong>\".</p>\n\n<p>This is how I solved \"<strong>Flutter: How to load Future data from firebase to GridView?</strong>\":</p>\n\n<p>NOTES: </p>\n\n<p><strong>drMenues</strong> is a reference to a Firebase database: </p>\n\n<pre><code>DatabaseReference drMenues = FirebaseDatabase.instance.reference().child(tMenues);\n</code></pre>\n\n<p><strong>Menues</strong> is just a container for static constants and static functions.</p>\n\n<p><strong>Menu</strong> is a class for each data in my firebase database.</p>\n\n<p><strong>MenuItem</strong> is a StatefulWidget which returns a Widget to show in the GridView. </p>\n\n<pre><code>new FutureBuilder&lt;DataSnapshot&gt;(\n              future: Menues.drMenues.orderByChild(Menues.ORDEN).once(),\n              builder:\n                  (BuildContext context, AsyncSnapshot&lt;DataSnapshot&gt; snapshot) {\n                if (!snapshot.hasData) return new Container();\n                Map content = snapshot.data.value;\n                List&lt;Menu&gt; lista = new List&lt;Menu&gt;();\n                content.forEach((key, value) {\n                  Menu _menu = new Menu();\n                  _menu.fromValue(key, value);\n                  lista.add(_menu);\n                });\n                lista.sort((a,b) =&gt; a.orden.compareTo(b.orden));\n                return new GridView.count(\n                  crossAxisCount: 3,\n                  childAspectRatio: 1.3,\n                  children: lista.map((Menu menu) {\n                    return new MenuItem(menu: menu);\n                  }).toList(),\n                );\n              },\n            ),\n</code></pre>\n\n<p>If anyone need a little help on this, please let me know.</p>\n"}, {"comments": [{"owner": {"reputation": 2060, "user_id": 9774005, "user_type": "registered", "profile_image": "https://graph.facebook.com/2098232107068282/picture?type=large", "display_name": "Rajesh Jr.", "link": "https://stackoverflow.com/users/9774005/rajesh-jr"}, "edited": false, "score": 0, "creation_date": 1537607988, "post_id": 50570839, "comment_id": 91852952, "body": "thank u so much i was using strembuilder for firestore and recently switched to realtime databse ,...was looking for strembuilder on realtimedatabase, now i have controll over limiting and startAt endAt functions easily"}], "tags": [], "owner": {"reputation": 1290, "user_id": 9156951, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kaO0z9SkMNo/AAAAAAAAAAI/AAAAAAAAAFI/SlibfLYQ4uE/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/9156951/daniel"}, "is_accepted": false, "score": 11, "last_activity_date": 1547510085, "last_edit_date": 1547510085, "creation_date": 1527527011, "answer_id": 50570839, "question_id": 47784829, "link": "https://stackoverflow.com/questions/47784829/flutter-how-to-load-future-data-from-firebase-to-gridview/50570839#50570839", "title": "Flutter: How to load Future data from firebase to GridView?", "body": "<p>Here is a complete example if you need a little more help.</p>\n\n<p>This is how my data is organized in Firebase:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nFPSt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nFPSt.png\" alt=\"this is how my data is organized in Firebase\"></a></p>\n\n<pre><code>return StreamBuilder(\n    stream: FirebaseDatabase.instance\n        .reference()\n        .child(\"Communities\")\n        .onValue,\n    builder: (BuildContext context, AsyncSnapshot&lt;Event&gt; snapshot) {\n      if (snapshot.hasData) {\n        Map&lt;dynamic, dynamic&gt; map = snapshot.data.snapshot.value;\n        map.forEach((dynamic, v) =&gt; print(v[\"pic\"]));\n\n        return GridView.builder(\n          gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(\n              crossAxisCount: 3),\n          itemCount: map.values.toList().length,\n          padding: EdgeInsets.all(2.0),\n          itemBuilder: (BuildContext context, int index) {\n            return Container(\n              child: Image.network(\n                map.values.toList()[index][\"pic\"],\n                fit: BoxFit.cover,\n              ),\n              padding: EdgeInsets.all(2.0),\n            );\n          },\n        );\n      } else {\n        return CircularProgressIndicator();\n      }\n    });\n\nvoid initState() {\n  final FirebaseDatabase database = FirebaseDatabase(app: widget.app);\n  database.setPersistenceEnabled(true);\n  database.setPersistenceCacheSizeBytes(10000000);\n  super.initState();\n}\n</code></pre>\n"}], "owner": {"reputation": 389, "user_id": 3471361, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/OMzPO.png?s=128&g=1", "display_name": "abnerh69", "link": "https://stackoverflow.com/users/3471361/abnerh69"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9982, "favorite_count": 3, "answer_count": 2, "score": 7, "last_activity_date": 1547510085, "creation_date": 1513133751, "question_id": 47784829, "link": "https://stackoverflow.com/questions/47784829/flutter-how-to-load-future-data-from-firebase-to-gridview", "title": "Flutter: How to load Future data from firebase to GridView?", "body": "<p>Hi everybody (the ones that loves Flutter),</p>\n\n<p>It is very simple (but I don't know how).</p>\n\n<p>I have dynamic menu options in a Firebase database.  I need to show it to final user in a GridView.  </p>\n\n<p>I have a Future list (let's say Future>) that returns a list from Firebase data:</p>\n\n<pre><code>static Future&lt;List&lt;Menu&gt;&gt; list() async {\n    List&lt;Menu&gt; _list = new List();\n    await drMenues.onValue.listen((event) {\n      Menu _menu = new Menu();\n      _menu.desdeData(event.snapshot);\n      _list.add(_menu);\n    });\n    return _list;\n  }\n</code></pre>\n\n<p>Now, I need to fill my GridView with these menu options.</p>\n\n<pre><code>final datosMenues = list();\n...\nnew GridView.count(\n  crossAxisCount: (orientation == Orientation.portrait) ? 3 : 4,\n  childAspectRatio: (orientation == Orientation.portrait) ? 1.0 : 1.3,\n      children: datosMenues.then\n...\n</code></pre>\n\n<p>I need a little help to finish it.  I know I need a \"then\" because is a Future list.</p>\n\n<p>Please any advice?</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 1917, "user_id": 1434177, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/0ead24000bf08c224d5e0f776bf43da4?s=128&d=identicon&r=PG", "display_name": "user1434177", "link": "https://stackoverflow.com/users/1434177/user1434177"}, "is_accepted": false, "score": 5, "last_activity_date": 1513149074, "last_edit_date": 1513149074, "creation_date": 1513119376, "answer_id": 47782918, "question_id": 47782591, "link": "https://stackoverflow.com/questions/47782591/how-to-get-offset-of-a-current-widget/47782918#47782918", "title": "How to get offset of a current widget", "body": "<p>Ok for anyone else who has the same issue I needed to create my own widget and use </p>\n\n<pre><code>context.findRenderObject() \n</code></pre>\n\n<p>and </p>\n\n<pre><code>globalToLocal()\n</code></pre>\n\n<p>Just FYI global to local did not work while in the one solution I needed to make it its own widget.</p>\n"}], "owner": {"reputation": 1917, "user_id": 1434177, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/0ead24000bf08c224d5e0f776bf43da4?s=128&d=identicon&r=PG", "display_name": "user1434177", "link": "https://stackoverflow.com/users/1434177/user1434177"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3059, "favorite_count": 1, "answer_count": 1, "score": 8, "last_activity_date": 1524903479, "creation_date": 1513117728, "last_edit_date": 1524903479, "question_id": 47782591, "link": "https://stackoverflow.com/questions/47782591/how-to-get-offset-of-a-current-widget", "title": "How to get offset of a current widget", "body": "<p>I am trying to draw a widget whenever a user presses the screen.\nCurrently I am doing this by storing a list of widgets and when ontapup is fired on the gesture i am adding to a list of widgets.</p>\n\n<pre><code>Widget build(BuildContext context) {\nWidget draw = new Text(\"A\");\nList&lt;Widget&gt; children = new List&lt;Widget&gt;();\nreturn new Scaffold(\n  appBar: new AppBar(\n    title: const Text('Heading'),\n    leading: new Icon(Icons.question_answer),\n  ),\n  body: new GestureDetector(\n    onTapUp: (details) {\n      setState(() {\n          children.add(new Positioned(\n            left: details.globalPosition.dx,\n            top: details.globalPosition.dy,\n            child: draw,\n          ));\n         });\n    },\n    child: new Stack(children: children)\n    ...\n</code></pre>\n\n<p>So my code is working I am drawing the widget when I click but my problem is that when adding the new Positioned() to stack the position is based on the screen which does not include the appbar offset. Is there a way to get the stacks initial x/y position? Or is there a way to get the appbars height? How do I get a widgets position or height/width?</p>\n"}, {"tags": ["dart"], "answers": [{"comments": [{"owner": {"reputation": 894, "user_id": 4880243, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-agVTj9utZTU/AAAAAAAAAAI/AAAAAAAAACQ/omwq5YdZrlw/photo.jpg?sz=128", "display_name": "PsychoX", "link": "https://stackoverflow.com/users/4880243/psychox"}, "edited": false, "score": 4, "creation_date": 1559293561, "post_id": 47800540, "comment_id": 99382769, "body": "The worse thing now is choose the interval :C"}, {"owner": {"reputation": 1024, "user_id": 10286880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/24o1e.png?s=128&g=1", "display_name": "Milvintsiss", "link": "https://stackoverflow.com/users/10286880/milvintsiss"}, "edited": false, "score": 0, "creation_date": 1616425595, "post_id": 47800540, "comment_id": 117991559, "body": "great solution, thanks!"}], "tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": true, "score": 10, "last_activity_date": 1513192378, "creation_date": 1513192378, "answer_id": 47800540, "question_id": 47776045, "link": "https://stackoverflow.com/questions/47776045/is-there-a-good-way-to-write-wait-for-variables-to-change-in-darts-async-meth/47800540#47800540", "title": "Is there a good way to write &quot;wait for variables to change&quot; in Dart&#39;s async method?", "body": "\n\n<p>You are polling the variable at intervals using a timer. There are lots of ways to do that. I'd just go for the completely straight-forward implementation:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Future waitWhile(bool test(), [Duration pollInterval = Duration.zero]) {\n  var completer = new Completer();\n  check() {\n    if (!test()) {\n      completer.complete();\n    } else {\n      new Timer(pollInterval, check);\n    }\n  }\n  check();\n  return completer.future;\n}\n</code></pre>\n\n<p>With that function, you can then just write</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>await waitWhile(() =&gt; foo);\n</code></pre>\n\n<p>to wait for <code>foo</code> to become false.</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 7887936, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-laX-aTje_6A/AAAAAAAAAAI/AAAAAAAAAks/Rcprqt7wYdE/photo.jpg?sz=128", "display_name": "Rithvik Nishad", "link": "https://stackoverflow.com/users/7887936/rithvik-nishad"}, "is_accepted": false, "score": 0, "last_activity_date": 1617720301, "creation_date": 1617720301, "answer_id": 66970898, "question_id": 47776045, "link": "https://stackoverflow.com/questions/47776045/is-there-a-good-way-to-write-wait-for-variables-to-change-in-darts-async-meth/66970898#66970898", "title": "Is there a good way to write &quot;wait for variables to change&quot; in Dart&#39;s async method?", "body": "<p>By using <code>Future.doWhile</code>.</p>\n<p><strong>Without</strong> a polling interval:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>await Future.doWhile(() =&gt; isPaused);\n</code></pre>\n<p><strong>With</strong> a polling interval:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>if (isPaused) {\n  await Future.doWhile(() =&gt; Future.delayed(interval).then((_) =&gt; isPaused));\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5081698"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1175, "favorite_count": 0, "accepted_answer_id": 47800540, "answer_count": 2, "score": 5, "last_activity_date": 1617720301, "creation_date": 1513092267, "question_id": 47776045, "link": "https://stackoverflow.com/questions/47776045/is-there-a-good-way-to-write-wait-for-variables-to-change-in-darts-async-meth", "title": "Is there a good way to write &quot;wait for variables to change&quot; in Dart&#39;s async method?", "body": "<p>I wrote a program in Dartlang that stops processing until the variable <code>foo</code> becomes false as shown below.\nIt is executable, but continuing to return Future in a while statement is clumsy.\nIs there a way to write it clearly?</p>\n\n<pre><code>  Future asyncMethod() async {\n\n      while (foo) {\n        await new Future(() {\n          return null;\n        });\n      }\n</code></pre>\n\n<p>Unity's coroutine can be written in a single line as below, so I'd like to make this much clearer.</p>\n\n<pre><code>yield return new WaitWhile(() =&gt; foo);\n</code></pre>\n"}, {"tags": ["html", "dart"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1513062063, "post_id": 47764231, "comment_id": 82494866, "body": "This can be done, but this is not a good use case for Dart. Dart is best used for Single Page Applications, not a page per view. <a href=\"http://dartdoc.takyam.com/docs/tutorials/forms/#submitting-a-form\" rel=\"nofollow noreferrer\">dartdoc.takyam.com/docs/tutorials/forms/#submitting-a-form</a> might provide some more insight."}, {"owner": {"reputation": 81, "user_id": 3720066, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100002655830068/picture?type=large", "display_name": "Ross Albertson", "link": "https://stackoverflow.com/users/3720066/ross-albertson"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1513108934, "post_id": 47764231, "comment_id": 82522561, "body": "I was hoping Dart could be an alternative to PHP, Javascript and ASP.NET/C#. I guess PHP 7 it is! I really don&#39;t want to have to monkey with Apache."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1513109467, "post_id": 47764231, "comment_id": 82522843, "body": "Dart can be a good alternative to PHP, but Dart can play it&#39;s strenghts in SPAs. Each view a different page (application) won&#39;t work well with Dart on the client. That would work with Dart only on the server, but for this scenario PHP is probably the better choice."}], "owner": {"reputation": 81, "user_id": 3720066, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100002655830068/picture?type=large", "display_name": "Ross Albertson", "link": "https://stackoverflow.com/users/3720066/ross-albertson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1513043709, "creation_date": 1513043709, "question_id": 47764231, "link": "https://stackoverflow.com/questions/47764231/retrieving-post-form-input-using-dart", "title": "Retrieving POST form input using Dart", "body": "<p>I am using IIS, so I need to avoid using port numbers. I have this index.html...</p>\n\n<pre><code>&lt;body&gt;\n\n&lt;div id=\"output\"&gt;&lt;/div&gt;\n&lt;p&gt; &lt;/p&gt;\n&lt;form action=\"verify.html\" method=\"post\"&gt;\n&lt;div&gt;First name: &lt;input type=\"text\" name=\"first_name\" required=\"\"&gt;&lt;/div&gt;\n&lt;div&gt;Last name:  &lt;input type=\"text\" name=\"last_name\" required=\"\"&gt;&lt;/div&gt;\n&lt;div&gt;&lt;input type=\"submit\" value=\"Add Name\"&gt;&lt;/div&gt;\n&lt;/form&gt;\n\n\n\n&lt;/body&gt;\n</code></pre>\n\n<p>All I want to do right now is display the user's input on verify.html. I wired a \"verify.dart\" to verify.html. I know that input can be retrieved in PHP 7 using</p>\n\n<pre><code>$firstName = filter_input(INPUT_POST, 'first_name');\n</code></pre>\n\n<p>Is there an analog to that code in the Dart SDK?</p>\n"}, {"tags": ["dart", "jwt", "flutter"], "comments": [{"owner": {"reputation": 33685, "user_id": 3434970, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/cWyFQ.png?s=128&g=1", "display_name": "Shady Aziza", "link": "https://stackoverflow.com/users/3434970/shady-aziza"}, "edited": false, "score": 1, "creation_date": 1513039748, "post_id": 47763248, "comment_id": 82488928, "body": "You basically answered yourself."}, {"owner": {"reputation": 75233, "user_id": 123471, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/t75zo.jpg?s=128&g=1", "display_name": "Seth Ladd", "link": "https://stackoverflow.com/users/123471/seth-ladd"}, "edited": false, "score": 1, "creation_date": 1513100495, "post_id": 47763248, "comment_id": 82518127, "body": "David, go ahead and self-answer this question with the header/authorization/content-type code snippet. That should work. Making it a self-answer tells the next reader that &quot;yes, that is a way&quot;"}, {"owner": {"reputation": 93, "user_id": 4500444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5058c1a0b83c05c4020c622ae396f1ee?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/4500444/david"}, "edited": false, "score": 0, "creation_date": 1515449347, "post_id": 47763248, "comment_id": 83297026, "body": "I&#39;ve solved the problem using two functions; the first one return a Future, the second which is triggered by the button;it creates the future and manage the response. The http call is made with httpclient as shown before."}], "answers": [{"tags": [], "owner": {"reputation": 3228, "user_id": 2903491, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/093d4db018c69ca01c8a004bed6ec52f?s=128&d=identicon&r=PG&f=1", "display_name": "Chaythanya nair", "link": "https://stackoverflow.com/users/2903491/chaythanya-nair"}, "is_accepted": false, "score": 0, "last_activity_date": 1523874625, "creation_date": 1523874625, "answer_id": 49855105, "question_id": 47763248, "link": "https://stackoverflow.com/questions/47763248/dart-flutter-httpclient-authorization/49855105#49855105", "title": "dart flutter httpclient : authorization", "body": "<p>You can use something like this.</p>\n\n<pre><code>var request = new http.Request('POST', Uri.parse(url));\nrequest.headers[HttpHeaders.CONTENT_TYPE] = 'application/json';\nrequest.headers[HttpHeaders.AUTHORIZATION] = token;\nrequest.body = json.encode(loginRequest.toMap());\nawait client.send(request).then((response) {\n  response.stream.bytesToString().then((value) {\n    print(value.toString());\n    jsonResponse = value.toString();\n    completer.complete(jsonResponse);\n  });\n}).catchError((error) {\n    print(error.toString());\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2176, "user_id": 6561930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JZFBL.jpg?s=128&g=1", "display_name": "Ridha Rezzag", "link": "https://stackoverflow.com/users/6561930/ridha-rezzag"}, "is_accepted": false, "score": 1, "last_activity_date": 1588061262, "creation_date": 1588061262, "answer_id": 61475501, "question_id": 47763248, "link": "https://stackoverflow.com/questions/47763248/dart-flutter-httpclient-authorization/61475501#61475501", "title": "dart flutter httpclient : authorization", "body": "<p>Pay attention to the word Bearer its must be Capitalized other ways it wont work, not sure whats the reason, but for flutter http calls make sure to capitalize that word like this</p>\n\n<pre><code>var response = await httpClient.post(\nurl, \nheaders:{ \n    \"Accept\": \"application/json\",\n    \"Content-type\": \"application/json\",\n    \"Authorization\": \"Bearer $token\"\n},\nbody :{some body});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 303, "user_id": 12481479, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LfPdX.jpg?s=128&g=1", "display_name": "my bytecode", "link": "https://stackoverflow.com/users/12481479/my-bytecode"}, "is_accepted": false, "score": 0, "last_activity_date": 1588063672, "creation_date": 1588063672, "answer_id": 61476166, "question_id": 47763248, "link": "https://stackoverflow.com/questions/47763248/dart-flutter-httpclient-authorization/61476166#61476166", "title": "dart flutter httpclient : authorization", "body": "<p>I will prefer to use <a href=\"https://pub.dev/packages/dio\" rel=\"nofollow noreferrer\">Dio</a> library which has many features.\nFile uploading is also super easy.\nSo many things are handled by Dio itself.</p>\n"}], "owner": {"reputation": 93, "user_id": 4500444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5058c1a0b83c05c4020c622ae396f1ee?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/4500444/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6629, "favorite_count": 1, "answer_count": 3, "score": 5, "last_activity_date": 1588063672, "creation_date": 1513035752, "last_edit_date": 1513062162, "question_id": 47763248, "link": "https://stackoverflow.com/questions/47763248/dart-flutter-httpclient-authorization", "title": "dart flutter httpclient : authorization", "body": "<p>i would like to perform a basic authentication with a simple token; how to perform this in flutter?  which is the best way? </p>\n\n<pre><code>var response = await httpClient.post(url, \n    body: {'name': 'doodle', 'color': 'blue'});\n</code></pre>\n\n<p>is it sufficient to ad an authentication header, for example in this way ? </p>\n\n<pre><code>var response = await httpClient.post(\n    url, \n    header:{ \n        'authorization' : 'bearer $token', \n        'content-type':'application/json'\n    },\n    body :{some body});\n</code></pre>\n\n<p>I'm using a JWT token type</p>\n"}, {"tags": ["polymer", "dart", "polymer-1.0"], "answers": [{"tags": [], "owner": {"reputation": 60698, "user_id": 6277151, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IiQqGfyhC7o/AAAAAAAAAAI/AAAAAAAAAbc/VpCYOZzASQc/photo.jpg?sz=128", "display_name": "tony19", "link": "https://stackoverflow.com/users/6277151/tony19"}, "is_accepted": false, "score": 2, "last_activity_date": 1513036493, "creation_date": 1513036493, "answer_id": 47763344, "question_id": 47762642, "link": "https://stackoverflow.com/questions/47762642/polymer-1-0-data-binding-options-for-accessing-lists/47763344#47763344", "title": "Polymer 1.0 data binding options for accessing lists", "body": "<p>It looks like you're trying to change the name of the iterator to \"object\", which can be done by setting the <a href=\"https://www.polymer-project.org/1.0/docs/api/elements/dom-repeat#property-as\" rel=\"nofollow noreferrer\"><code>&lt;dom-repeat&gt;.as</code> property</a> (i.e., <code>as=\"object\"</code>).</p>\n\n<p>And yes, you can bind <code>&lt;dom-repeat&gt;.items</code> to a subproperty of an object as long as the subproperty is an <code>Array</code>.</p>\n\n<pre><code>&lt;template is=\"dom-repeat\" items=\"{{house.animals}}\" as=\"{{object}}\"&gt;\n  &lt;div&gt;Type: {{object.type}}&lt;/div&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p><a href=\"https://codepen.io/tony19/pen/mpbNRq?editors=1010\" rel=\"nofollow noreferrer\">demo</a></p>\n"}], "owner": {"reputation": 77, "user_id": 7698195, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a964923f74a13ff923b20aa17ce3955e?s=128&d=identicon&r=PG&f=1", "display_name": "user101010", "link": "https://stackoverflow.com/users/7698195/user101010"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1513036745, "creation_date": 1513032178, "last_edit_date": 1513036745, "question_id": 47762642, "link": "https://stackoverflow.com/questions/47762642/polymer-1-0-data-binding-options-for-accessing-lists", "title": "Polymer 1.0 data binding options for accessing lists", "body": "<p>In Polymer 1.0, is it possible to do:</p>\n\n<pre><code>{{ object in house.animals }}\n</code></pre>\n\n<p>where <code>house.animals</code> is a list? In the documentation, I found only simple examples in the binding, like <code>{{ animals }}</code>.</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 1342, "user_id": 1803735, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VV9N7.jpg?s=128&g=1", "display_name": "Hossain Khademian", "link": "https://stackoverflow.com/users/1803735/hossain-khademian"}, "edited": false, "score": 0, "creation_date": 1522074237, "post_id": 47750069, "comment_id": 85991137, "body": "Hi, what is <code>FarsiText</code> you use instead of <code>Text</code> widget for that persian text? is there any benefits to use that for Fasi apps?"}, {"owner": {"reputation": 1417, "user_id": 1922314, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/2lASm.jpg?s=128&g=1", "display_name": "zero.zero.seven", "link": "https://stackoverflow.com/users/1922314/zero-zero-seven"}, "reply_to_user": {"reputation": 1342, "user_id": 1803735, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VV9N7.jpg?s=128&g=1", "display_name": "Hossain Khademian", "link": "https://stackoverflow.com/users/1803735/hossain-khademian"}, "edited": false, "score": 0, "creation_date": 1522075610, "post_id": 47750069, "comment_id": 85992228, "body": "@HossainKhademian it&#39;s a wrapper around Text Class"}], "answers": [{"tags": [], "owner": {"reputation": 1417, "user_id": 1922314, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/2lASm.jpg?s=128&g=1", "display_name": "zero.zero.seven", "link": "https://stackoverflow.com/users/1922314/zero-zero-seven"}, "is_accepted": false, "score": 0, "last_activity_date": 1513006014, "creation_date": 1513006014, "answer_id": 47756119, "question_id": 47750069, "link": "https://stackoverflow.com/questions/47750069/flutter-sliverappbar-bottom-tabbar-not-shown-overflow-hidden/47756119#47756119", "title": "Flutter : SliverAppBar bottom TabBar not shown / overflow / hidden", "body": "<p>I upgraded flutter to the latest version.</p>\n\n<p>The issue still persisted.</p>\n\n<p>I was using the following code as ThemeData for MaterialApp:</p>\n\n<pre><code>primaryColor: Colors.blue[200],\nprimaryTextTheme: new TextTheme(\n  title: new TextStyle(\n    fontSize: 20.0,\n    color: Colors.white,\n  ),\n),\nprimaryIconTheme: new IconThemeData(\n  color: Colors.white,\n),\n</code></pre>\n\n<p>I replaced it with:</p>\n\n<pre><code>primarySwatch: Colors.blue,\n</code></pre>\n\n<p>now I can see the TabBar!</p>\n\n<p>_</p>\n"}], "owner": {"reputation": 1417, "user_id": 1922314, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/2lASm.jpg?s=128&g=1", "display_name": "zero.zero.seven", "link": "https://stackoverflow.com/users/1922314/zero-zero-seven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1534, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1513006014, "creation_date": 1512985583, "last_edit_date": 1512999450, "question_id": 47750069, "link": "https://stackoverflow.com/questions/47750069/flutter-sliverappbar-bottom-tabbar-not-shown-overflow-hidden", "title": "Flutter : SliverAppBar bottom TabBar not shown / overflow / hidden", "body": "<p>Flutter - SliverAppBar TabBar not shown</p>\n\n<p>At first I tought the issue is related to flexibleSpace, so I commented it, but the yellow+black borders are still there.</p>\n\n<p><a href=\"https://youtu.be/FcNMTg6ok4s\" rel=\"nofollow noreferrer\">https://youtu.be/FcNMTg6ok4s</a></p>\n\n<p>Youtube VIDEO ^^^</p>\n\n<p><a href=\"https://i.stack.imgur.com/J7EHq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J7EHq.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/zI1pY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zI1pY.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>return new DefaultTabController(\n      length: 2,\n      child: new Scaffold(\n        body: new NestedScrollView(\n          headerSliverBuilder: (BuildContext context, bool innerBoxIsScrolled) {\n            return &lt;Widget&gt;[\n              new SliverAppBar(\n                forceElevated: innerBoxIsScrolled,\n                floating: true,\n                //elevation: elevation,\n                pinned: true,\n                expandedHeight: 250.0,\n                bottom: new TabBar(\n                  tabs: &lt;Tab&gt;[\n                    new Tab(\n                      text: 'green',\n                      icon: new Icon(Icons.show_chart),\n                    ),\n                    new Tab(\n                      text: 'purple',\n                      icon: new Icon(Icons.history),\n                    ),\n                  ],\n                ),\n                flexibleSpace: new FlexibleSpaceBar(\n                  title: new FarsiText(\n                    \"\u0622\u0642\u0627\u06cc \u0646\u0648\u0631\u06cc\",\n                    style: titleTextStyle,\n                  ),\n                  centerTitle: true,\n                  background: new Container(\n                    decoration: new BoxDecoration(\n                      gradient: new LinearGradient(\n                        begin: const Alignment(0.5, -0.5),\n                        end: const Alignment(-1.5, 1.5),\n                        colors: &lt;Color&gt;[\n                          Colors.purple[400],\n                          Colors.lightBlue[100],\n                        ],\n                      ),\n                    ),\n                    padding: new EdgeInsets.only(\n                      top: screenWidth / 4,\n                      bottom: screenWidth / 7,\n                    ),\n                    child: new Column(\n                      children: &lt;Widget&gt;[\n                        new Stack(\n                          overflow: Overflow.visible,\n                          children: &lt;Widget&gt;[\n                            new CircleAvatar2(\n                              boxShadow: new BoxShadow(\n                                color: Colors.white70,\n                                spreadRadius: 0.0,\n                                blurRadius: 50.0,\n                              ),\n                              radius: 40.0,\n                              backgroundImage:\n                                  const AssetImage(\"assets/images/noori.jpg\"),\n                            ),\n                            new Positioned(\n                              child: new Container(\n                                padding: const EdgeInsets.all(3.0),\n                                decoration: new BoxDecoration(\n                                  borderRadius: new BorderRadius.all(\n                                    const Radius.circular(8.0),\n                                  ),\n                                  border: new Border.all(\n                                    color: Colors.white,\n                                    width: 1.5,\n                                  ),\n                                ),\n                                child: new FarsiText(\n                                  \"\u062a\u0627\u06cc\u06cc\u062f \u0634\u062f\u0647\",\n                                  color: Colors.white,\n                                  fontSize: 15.0,\n                                ),\n                              ),\n                              left: -100.0,\n                            ),\n                          ],\n                        ),\n                      ],\n                    ),\n                  ),\n                ),\n                leading: getAppBarLeading(context),\n              ),\n            ];\n          },\n          body: new TabBarView(\n            children: &lt;Widget&gt;[\n              new Center(\n                child: new Container(\n                  height: 1000.0,\n                  color: Colors.green.shade200,\n                  child: new Center(\n                    child: new FlutterLogo(colors: Colors.green),\n                  ),\n                ),\n              ),\n              new Center(\n                child: new Container(\n                  height: 1000.0,\n                  color: Colors.purple.shade200,\n                  child: new Center(\n                    child: new FlutterLogo(colors: Colors.purple),\n                  ),\n                ),\n              ),\n            ],\n          ),\n        ),\n      ),\n    );\n</code></pre>\n"}, {"tags": ["dart", "dart-js-interop"], "answers": [{"comments": [{"owner": {"reputation": 2709, "user_id": 189738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/33f1cd5293cf175f67ab8208d29b3c42?s=128&d=identicon&r=PG", "display_name": "adeel41", "link": "https://stackoverflow.com/users/189738/adeel41"}, "edited": false, "score": 0, "creation_date": 1512939386, "post_id": 47743305, "comment_id": 82446816, "body": "Thanks.<code>var func = js.allowInterop(() =&gt; data);</code> fixed the issue :D"}], "tags": [], "owner": {"reputation": 51074, "user_id": 634863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198449a7e196c4b0f2ed25f65279bf84?s=128&d=identicon&r=PG", "display_name": "Alexandre Ardhuin", "link": "https://stackoverflow.com/users/634863/alexandre-ardhuin"}, "is_accepted": true, "score": 2, "last_activity_date": 1512938896, "creation_date": 1512938896, "answer_id": 47743305, "question_id": 47743070, "link": "https://stackoverflow.com/questions/47743070/returning-anonymous-js-function-which-returns-javascript-plain-object-from-dart/47743305#47743305", "title": "Returning anonymous JS function which returns javascript plain object from Dart", "body": "<p>See <a href=\"https://pub.dartlang.org/packages/js\" rel=\"nofollow noreferrer\">js package doc</a>:</p>\n\n<blockquote>\n  <p>Passing functions to JavaScript.</p>\n  \n  <p>If you are passing a Dart function to a JavaScript API, you must wrap it using <code>allowInterop</code> or <code>allowInteropCaptureThis</code>.</p>\n</blockquote>\n"}], "owner": {"reputation": 2709, "user_id": 189738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/33f1cd5293cf175f67ab8208d29b3c42?s=128&d=identicon&r=PG", "display_name": "adeel41", "link": "https://stackoverflow.com/users/189738/adeel41"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 47743305, "answer_count": 1, "score": 0, "last_activity_date": 1512938896, "creation_date": 1512937359, "question_id": 47743070, "link": "https://stackoverflow.com/questions/47743070/returning-anonymous-js-function-which-returns-javascript-plain-object-from-dart", "title": "Returning anonymous JS function which returns javascript plain object from Dart", "body": "<p><strong>Dart Code</strong></p>\n\n<pre><code>import 'dart:html' as html;\nimport 'dart:js' as js;\nimport 'package:js/js.dart';\n\nvoid main() {\n\n  var data = new AddLocationData(locationName: \"Location1\", locationPath: \"ThisFolder\");\n  var func = () =&gt; data;\n  html.window.console.log(func);\n  html.window.console.log(func());\n}\n\n@JS(\"\")\n@anonymous\nclass AddLocationData {\n  external String get locationName;\n  external String get locationPath;\n  external factory AddLocationData({String locationName, String locationPath});\n}\n</code></pre>\n\n<p>You would assume that <code>func</code> will be a js function but its not. Its type/name is <code>main_closure</code>. See the screenshot</p>\n\n<p><a href=\"https://i.stack.imgur.com/G8R74.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G8R74.png\" alt=\"Screenshot\"></a></p>\n\n<p>So the first two lines were printed from Dart code then I used Chrome Inspect Element window and right clicked on <code>main_closure' and selected \"Store as global variable\" which then printed</code>temp1` and then I used it to display some information about the generated code.</p>\n\n<p>So it is clear Dart returned an object and not a js function and so is the reason of asking this question.</p>\n\n<p>So I want <code>temp1</code> to be a function instead of <code>temp1.call$0</code> so that I can get the data by calling <code>temp1()</code> and not <code>temp1.call$0()</code>.</p>\n"}, {"tags": ["dart", "dart-mirrors"], "answers": [{"tags": [], "owner": {"reputation": 464, "user_id": 5603708, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-up2PRq9j-Nw/AAAAAAAAAAI/AAAAAAAAAD4/8-ASAdDJw0I/photo.jpg?sz=128", "display_name": "Erik Ernst", "link": "https://stackoverflow.com/users/5603708/erik-ernst"}, "is_accepted": true, "score": 1, "last_activity_date": 1514988540, "creation_date": 1514988540, "answer_id": 48079032, "question_id": 47737876, "link": "https://stackoverflow.com/questions/47737876/access-to-type-of-declarationmirror/48079032#48079032", "title": "Access to type of DeclarationMirror", "body": "<p>FYI: This was raised <a href=\"https://github.com/dart-lang/sdk/issues/31597\" rel=\"nofollow noreferrer\">on github</a> as well, and I think the responses given there resolved the issue.</p>\n"}], "owner": {"reputation": 314, "user_id": 4667174, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh6.googleusercontent.com/-NW74SwIUKwQ/AAAAAAAAAAI/AAAAAAAAAEw/9gM5PPgQpSo/photo.jpg?sz=128", "display_name": "Ivan Montilla", "link": "https://stackoverflow.com/users/4667174/ivan-montilla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 48079032, "answer_count": 1, "score": 0, "last_activity_date": 1514988540, "creation_date": 1512901546, "question_id": 47737876, "link": "https://stackoverflow.com/questions/47737876/access-to-type-of-declarationmirror", "title": "Access to type of DeclarationMirror", "body": "<p>I need to access the type of <code>DeclarationMirror</code>. In the <a href=\"https://api.dartlang.org/stable/1.24.2/dart-mirrors/DeclarationMirror-class.html\" rel=\"nofollow noreferrer\">DeclarationMirror public API</a> I can't see any method or property to access the type, but in Dartium, the <code>DeclarationMirror</code> missing property <code>type</code> is working and returning a <code>ClassMirror</code> with the type of the <code>DeclarationMirror</code>.</p>\n\n<pre><code>&gt; declare is DeclarationMirror\n&lt; true\n&gt; declare.type\n&lt; ClassMirror on 'Logger'\n&gt; declare.type.reflectedType\n&lt; class Logger\n</code></pre>\n\n<p>Is safe using this way to get the type of DeclarationMirror?</p>\n\n<p>If it is not safe, there is any other way safer to access it?</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 33685, "user_id": 3434970, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/cWyFQ.png?s=128&g=1", "display_name": "Shady Aziza", "link": "https://stackoverflow.com/users/3434970/shady-aziza"}, "edited": false, "score": 0, "creation_date": 1512901800, "post_id": 47736218, "comment_id": 82435964, "body": "Can&#39;t you just change override the leading property?"}], "answers": [{"tags": [], "owner": {"reputation": 1417, "user_id": 1922314, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/2lASm.jpg?s=128&g=1", "display_name": "zero.zero.seven", "link": "https://stackoverflow.com/users/1922314/zero-zero-seven"}, "is_accepted": true, "score": 0, "last_activity_date": 1513064660, "last_edit_date": 1513064660, "creation_date": 1512929648, "answer_id": 47741931, "question_id": 47736218, "link": "https://stackoverflow.com/questions/47736218/change-appbar-default-arrow-back-icon/47741931#47741931", "title": "Change Appbar default arrow_back icon", "body": "<p><strong>UPDATE</strong></p>\n\n<p><strong>Flutter now handles directionality for icons.</strong></p>\n\n<hr>\n\n<p>I've read the source code, Directionality isn't considered right now for BackButton.</p>\n\n<p>So I made my own BackButton2 and getAppBarLeading function</p>\n\n<pre><code>appBar: new AppBar(\n        leading: getAppBarLeading(context),\n</code></pre>\n\n<p>SRC:</p>\n\n<pre><code> // Copyright 2017 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport 'package:flutter/material.dart';\n\nconst double _kLeadingWidth =\n    kToolbarHeight; // So the leading button is square.\n\n/// A \"back\" icon that's appropriate for the current [TargetPlatform].\n///\n/// The current platform is determined by querying for the ambient [Theme].\n///\n/// See also:\n///\n///  * [BackButton], an [IconButton] with a [BackButtonIcon] that calls\n///    [Navigator.maybePop] to return to the previous route.\n///  * [IconButton], which is a more general widget for creating buttons\n///    with icons.\n///  * [Icon], a material design icon.\n///  * [ThemeData.platform], which specifies the current platform.\nclass BackButtonIcon2 extends StatelessWidget {\n  /// Creates an icon that shows the appropriate \"back\" image for\n  /// the current platform (as obtained from the [Theme]).\n  const BackButtonIcon2({Key key}) : super(key: key);\n\n  /// Returns the appropriate \"back\" icon for the given `platform`.\n  static IconData _getIconData(\n      TargetPlatform platform, TextDirection direction) {\n    switch (platform) {\n      case TargetPlatform.android:\n      case TargetPlatform.fuchsia:\n        return (direction == TextDirection.rtl)\n            ? Icons.arrow_forward\n            : Icons.arrow_back;\n      case TargetPlatform.iOS:\n        return (direction == TextDirection.rtl)\n            ? Icons.arrow_forward_ios\n            : Icons.arrow_back_ios;\n    }\n    assert(false);\n    return null;\n  }\n\n  @override\n  Widget build(BuildContext context) =&gt; new Icon(_getIconData(\n        Theme.of(context).platform,\n        Directionality.of(context),\n      ));\n}\n\n/// A material design back button.\n///\n/// A [BackButton] is an [IconButton] with a \"back\" icon appropriate for the\n/// current [TargetPlatform]. When pressed, the back button calls\n/// [Navigator.maybePop] to return to the previous route.\n///\n/// When deciding to display a [BackButton], consider using\n/// `ModalRoute.of(context)?.canPop` to check whether the current route can be\n/// popped. If that value is false (e.g., because the current route is the\n/// initial route), the [BackButton] will not have any effect when pressed,\n/// which could frustrate the user.\n///\n/// Requires one of its ancestors to be a [Material] widget.\n///\n/// See also:\n///\n///  * [AppBar], which automatically uses a [BackButton] in its\n///    [AppBar.leading] slot when the [Scaffold] has no [Drawer] and the\n///    current [Route] is not the [Navigator]'s first route.\n///  * [BackButtonIcon], which is useful if you need to create a back button\n///    that responds differently to being pressed.\n///  * [IconButton], which is a more general widget for creating buttons with\n///    icons.\n///  * [CloseButton], an alternative which may be more appropriate for leaf\n///    node pages in the navigation tree.\nclass BackButton2 extends StatelessWidget {\n  /// Creates an [IconButton] with the appropriate \"back\" icon for the current\n  /// target platform.\n  const BackButton2({Key key, this.color}) : super(key: key);\n\n  /// The color to use for the icon.\n  ///\n  /// Defaults to the [IconThemeData.color] specified in the ambient [IconTheme],\n  /// which usually matches the ambient [Theme]'s [ThemeData.iconTheme].\n  final Color color;\n\n  @override\n  Widget build(BuildContext context) {\n    return new IconButton(\n        icon: const BackButtonIcon2(),\n        color: color,\n        tooltip: MaterialLocalizations.of(context).backButtonTooltip,\n        onPressed: () {\n          Navigator.of(context).maybePop();\n        });\n  }\n}\n\n/// A material design close button.\n///\n/// A [CloseButton] is an [IconButton] with a \"close\" icon. When pressed, the\n/// close button calls [Navigator.maybePop] to return to the previous route.\n///\n/// Use a [CloseButton] instead of a [BackButton] on fullscreen dialogs or\n/// pages that may solicit additional actions to close.\n///\n/// See also:\n///\n///  * [AppBar], which automatically uses a [CloseButton] in its\n///    [AppBar.leading] slot when appropriate.\n///  * [BackButton], which is more appropriate for middle nodes in the\n///    navigation tree or where pages can be popped instantaneously with\n///    no user data consequence.\n///  * [IconButton], to create other material design icon buttons.\nclass CloseButton2 extends StatelessWidget {\n  /// Creates a Material Design close button.\n  const CloseButton2({Key key}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return new IconButton(\n      icon: const Icon(Icons.close),\n      tooltip: MaterialLocalizations.of(context).closeButtonTooltip,\n      onPressed: () {\n        Navigator.of(context).maybePop();\n      },\n    );\n  }\n}\n\nWidget getAppBarLeading(BuildContext context) {\n  final ModalRoute&lt;dynamic&gt; parentRoute = ModalRoute.of(context);\n  final bool canPop = parentRoute?.canPop ?? false;\n  final bool useCloseButton =\n      parentRoute is MaterialPageRoute&lt;dynamic&gt; &amp;&amp; parentRoute.fullscreenDialog;\n  Widget leading = canPop\n      ? (useCloseButton ? const CloseButton2() : const BackButton2())\n      : null;\n  if (leading != null) {\n    leading = new ConstrainedBox(\n      constraints: const BoxConstraints.tightFor(width: _kLeadingWidth),\n      child: leading,\n    );\n  }\n  return leading;\n}\n</code></pre>\n"}], "owner": {"reputation": 1417, "user_id": 1922314, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/2lASm.jpg?s=128&g=1", "display_name": "zero.zero.seven", "link": "https://stackoverflow.com/users/1922314/zero-zero-seven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4396, "favorite_count": 1, "accepted_answer_id": 47741931, "answer_count": 1, "score": 1, "last_activity_date": 1513064660, "creation_date": 1512884070, "last_edit_date": 1512888639, "question_id": 47736218, "link": "https://stackoverflow.com/questions/47736218/change-appbar-default-arrow-back-icon", "title": "Change Appbar default arrow_back icon", "body": "<p><a href=\"https://i.stack.imgur.com/NHWAX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NHWAX.png\" alt=\"enter image description here\"></a></p>\n\n<p>On Navigator.push the new page's appbar's leading icon is arrow_back,\nI want to implicitly change the icon to arrow_forward for all pages.</p>\n\n<p>Directionality is RTL</p>\n\n<p>Is it possible?</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 1568, "user_id": 433998, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nl6pP.jpg?s=128&g=1", "display_name": "Don Boots", "link": "https://stackoverflow.com/users/433998/don-boots"}, "edited": false, "score": 0, "creation_date": 1513273114, "post_id": 47745586, "comment_id": 82600295, "body": "That is clearly what the error message says. In this specific case, the Dimissible is not part of a ListView. I did not find a way to remove a widget that wasn&#39;t part of a ListView."}, {"owner": {"reputation": 159093, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "reply_to_user": {"reputation": 1568, "user_id": 433998, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nl6pP.jpg?s=128&g=1", "display_name": "Don Boots", "link": "https://stackoverflow.com/users/433998/don-boots"}, "edited": false, "score": 0, "creation_date": 1513273239, "post_id": 47745586, "comment_id": 82600349, "body": "In the code you provided, <code>Dismissible</code> <i>is</i> part of a <code>ListView</code>"}, {"owner": {"reputation": 2695, "user_id": 1130342, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52ff3fc6190f6f2b4813a5683697fbf6?s=128&d=identicon&r=PG", "display_name": "Luke Pighetti", "link": "https://stackoverflow.com/users/1130342/luke-pighetti"}, "edited": false, "score": 1, "creation_date": 1535835538, "post_id": 47745586, "comment_id": 91214743, "body": "The message might be clear, but it&#39;s not clear how you <b>immediately remove the Dismissible widget from the application</b>"}, {"owner": {"reputation": 159093, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "reply_to_user": {"reputation": 2695, "user_id": 1130342, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52ff3fc6190f6f2b4813a5683697fbf6?s=128&d=identicon&r=PG", "display_name": "Luke Pighetti", "link": "https://stackoverflow.com/users/1130342/luke-pighetti"}, "edited": false, "score": 3, "creation_date": 1535835641, "post_id": 47745586, "comment_id": 91214762, "body": "@LukePighetti Make a setState that will rerender without the dismissible"}], "tags": [], "owner": {"reputation": 159093, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "is_accepted": false, "score": 2, "last_activity_date": 1512958421, "creation_date": 1512958421, "answer_id": 47745586, "question_id": 47735143, "link": "https://stackoverflow.com/questions/47735143/dismissing-a-dismissible-with-flutter-dart/47745586#47745586", "title": "Dismissing a Dismissible with Flutter/Dart", "body": "<p>The error message is pretty clear. </p>\n\n<blockquote>\n  <p>Make sure to implement the onDismissed handler and to <strong>immediately remove the Dismissible widget from the application</strong> once that handler has fired. </p>\n</blockquote>\n\n<p>An empty function is not enough. Once an item has been dismissed, that widget has to be removed from the widget tree. Which means that you <strong>must</strong> remove the <code>Dismissible</code> from your <code>ListView</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 3340, "user_id": 1957455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8aeda6f7ce535fa10332ec7556153876?s=128&d=identicon&r=PG", "display_name": "Anirudha Agashe", "link": "https://stackoverflow.com/users/1957455/anirudha-agashe"}, "is_accepted": false, "score": 11, "last_activity_date": 1522593056, "creation_date": 1522593056, "answer_id": 49599088, "question_id": 47735143, "link": "https://stackoverflow.com/questions/47735143/dismissing-a-dismissible-with-flutter-dart/49599088#49599088", "title": "Dismissing a Dismissible with Flutter/Dart", "body": "<p>The error comes when the widget is dismissed but not removed from the tree since the state still contains the dismissed object. Ideal implementation for onDismissed should remove the item and set the new state </p>\n\n<p>So in your example you would do something like this</p>\n\n<pre><code>onDismissed: (DismissDirection direction) { dismissPerson(person); }\n</code></pre>\n\n<p>and in dismissPerson function remove the person and set new state.</p>\n\n<pre><code>dismissPerson(person) {\n    if (_personList.contains(person)) {\n    //_personList is list of person shown in ListView\n      setState(() {\n        _personList.remove(person);\n      });\n    }\n}\n</code></pre>\n\n<p>If you refer to the same <a href=\"https://github.com/flutter/flutter/blob/80b820a26d78a0c8d0e3c8ddf7dbb996c9a1548b/dev/manual_tests/lib/card_collection.dart\" rel=\"noreferrer\">link</a> posted in the question it now contains proper implementation for dismissible. Adding the relevant snippet of code from the link for convenience</p>\n\n<pre><code>final Widget card = new Dismissible(\n      key: new ObjectKey(cardModel),\n      direction: _dismissDirection,\n      onDismissed: (DismissDirection direction) { dismissCard(cardModel); },\n\n      ....\n\n    );\n\n\nvoid dismissCard(CardModel card) {\n    if (_cardModels.contains(card)) {\n      setState(() {\n        _cardModels.remove(card);\n      });\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 140, "user_id": 6657101, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-a3yyBoohpso/AAAAAAAAAAI/AAAAAAAAAOY/G0SvCsRJZoc/photo.jpg?sz=128", "display_name": "sanjay singh Bisht", "link": "https://stackoverflow.com/users/6657101/sanjay-singh-bisht"}, "is_accepted": false, "score": 9, "last_activity_date": 1538032771, "creation_date": 1538032771, "answer_id": 52531548, "question_id": 47735143, "link": "https://stackoverflow.com/questions/47735143/dismissing-a-dismissible-with-flutter-dart/52531548#52531548", "title": "Dismissing a Dismissible with Flutter/Dart", "body": "<p>simplest way\n1-> set unique id for each item of list with </p>\n\n<pre><code>var uuid = new Uuid();\n\n  new MyItem(title: \"Sanjay Singh Bisht\",color:\"#123ab\",uniqueId:uuid.v1()));\n</code></pre>\n\n<p>as mentioned in above post  Dismissible widget required unique id</p>\n\n<p>2-> now to delete item its simple</p>\n\n<pre><code>if (items.contains(deletedItem)) {\n    setState(() {\n      items.remove(deletedItem);\n    });\n  }\n</code></pre>\n\n<p>3- to undo delete item just update that item id so that Dismissible widget has unique id always </p>\n\n<pre><code>setState(() {\ndeletedItem.uniqueId=uuid.v1();\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 206, "user_id": 4639982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7350aa435dacedd620c2b1810c8a459?s=128&d=identicon&r=PG&f=1", "display_name": "aleor", "link": "https://stackoverflow.com/users/4639982/aleor"}, "edited": false, "score": 0, "creation_date": 1568297825, "post_id": 56299578, "comment_id": 102237280, "body": "Great one, thanks! I&#39;ve used index as a part of key as well, didn&#39;t realize it would remain and cause the problem."}, {"owner": {"reputation": 968, "user_id": 11009696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OgrVj.jpg?s=128&g=1", "display_name": "Sana&#39;a Al-ahdal", "link": "https://stackoverflow.com/users/11009696/sanaa-al-ahdal"}, "edited": false, "score": 0, "creation_date": 1583702525, "post_id": 56299578, "comment_id": 107196828, "body": "Thanks for your answer , It helped me , Thanks, I used the index , and cause me the Error"}], "tags": [], "owner": {"reputation": 404, "user_id": 8073770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V4IYK.png?s=128&g=1", "display_name": "Mike O.", "link": "https://stackoverflow.com/users/8073770/mike-o"}, "is_accepted": false, "score": 18, "last_activity_date": 1558732286, "creation_date": 1558732286, "answer_id": 56299578, "question_id": 47735143, "link": "https://stackoverflow.com/questions/47735143/dismissing-a-dismissible-with-flutter-dart/56299578#56299578", "title": "Dismissing a Dismissible with Flutter/Dart", "body": "<p>Make sure the values you're passing to the <code>key</code> parameters are unique as well. And DO NOT use the index of an item. Since after removing an item from an array, the array will shift the positions of the items, the <code>Dismissable</code> widget will not recognize the removal of an item.  </p>\n"}, {"comments": [{"owner": {"reputation": 448, "user_id": 9705557, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gDHSSH5XN3o/AAAAAAAAAAI/AAAAAAAAABQ/KvLq9DbqHwE/photo.jpg?sz=128", "display_name": "Jaime Noel Alvarez Luna", "link": "https://stackoverflow.com/users/9705557/jaime-noel-alvarez-luna"}, "edited": false, "score": 4, "creation_date": 1572281321, "post_id": 56779926, "comment_id": 103502975, "body": "you can just call <code>key: UniqueKey()</code> instead of  key: <code>Key(UniqueKey().toString())</code>"}, {"owner": {"reputation": 3774, "user_id": 7198006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T7qo3.jpg?s=128&g=1", "display_name": "awaik", "link": "https://stackoverflow.com/users/7198006/awaik"}, "edited": false, "score": 0, "creation_date": 1573716709, "post_id": 56779926, "comment_id": 103975491, "body": "2 RoyalGriffin from here <a href=\"https://flutter.dev/docs/cookbook/gestures/dismissible\" rel=\"nofollow noreferrer\">flutter.dev/docs/cookbook/gestures/dismissible</a>   // Each Dismissible must contain a Key. Keys allow Flutter to   // uniquely identify widgets.   key: Key(item),"}], "tags": [], "owner": {"reputation": 931, "user_id": 5154739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ec826bfc000044f78e203029745db8f?s=128&d=identicon&r=PG&f=1", "display_name": "Salil Luley", "link": "https://stackoverflow.com/users/5154739/salil-luley"}, "is_accepted": false, "score": 90, "last_activity_date": 1573717228, "last_edit_date": 1573717228, "creation_date": 1561577842, "answer_id": 56779926, "question_id": 47735143, "link": "https://stackoverflow.com/questions/47735143/dismissing-a-dismissible-with-flutter-dart/56779926#56779926", "title": "Dismissing a Dismissible with Flutter/Dart", "body": "<p>Please try this.I provided UniqueKey as key to Dismissible widget, and it worked just fine.</p>\n\n<pre><code>key: UniqueKey(), \n</code></pre>\n"}], "owner": {"reputation": 1568, "user_id": 433998, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nl6pP.jpg?s=128&g=1", "display_name": "Don Boots", "link": "https://stackoverflow.com/users/433998/don-boots"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23470, "favorite_count": 3, "answer_count": 5, "score": 38, "last_activity_date": 1573717228, "creation_date": 1512871240, "last_edit_date": 1592644375, "question_id": 47735143, "link": "https://stackoverflow.com/questions/47735143/dismissing-a-dismissible-with-flutter-dart", "title": "Dismissing a Dismissible with Flutter/Dart", "body": "<p>In the majority of the <a href=\"https://docs.flutter.io/flutter/widgets/Dismissible-class.html\" rel=\"noreferrer\">Dismissible</a> examples provided by Flutter, they are dismissing items within a ListView. For example, <a href=\"https://github.com/flutter/flutter/blob/80b820a26d78a0c8d0e3c8ddf7dbb996c9a1548b/dev/manual_tests/lib/card_collection.dart\" rel=\"noreferrer\">this</a>.</p>\n<p>What I am currently doing is this:</p>\n<pre><code>Widget build(BuildContext context) {\n  return new Scaffold(\n    key: _scaffoldKey,\n    appBar: new AppBar(\n      title: new Text(widget.title),\n    ),\n    body: new Center(\n      child: new ListView(\n        children: &lt;Widget&gt;[\n          new Dismissible(\n            key: personKey,\n            child: new Text('Dismiss Me'),\n            onDismissed: (DismissDirection direction) {}\n          )\n        ],\n      ) // end ListView\n    ) // end Center\n  ); // end return\n} // end build()\n</code></pre>\n<p>After I dismiss the text box, I get the error:</p>\n<blockquote>\n<p>A dismissed Dismissible widget is still part of the tree.</p>\n<p>Make sure to implement the onDismissed handler and to immediately remove the Dismissible widget from the application once that handler has fired.</p>\n</blockquote>\n<p>Digging through the Dismissible <a href=\"https://github.com/flutter/flutter/blob/master/packages/flutter/lib/src/widgets/dismissible.dart\" rel=\"noreferrer\">source</a> at , I see that it checks that status of <code>_resizeAnimation</code>, but I'm not sure how that fits into the grand scheme of a <code>Dismissible</code> constructor or <code>onDismissed</code> handler.</p>\n"}, {"tags": ["testing", "dart", "mockito", "flutter", "flutter-test"], "answers": [{"comments": [{"owner": {"reputation": 3004, "user_id": 7829326, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/f3eCN.jpg?s=128&g=1", "display_name": "Marcin Sza\u0142ek", "link": "https://stackoverflow.com/users/7829326/marcin-sza%c5%82ek"}, "edited": false, "score": 0, "creation_date": 1512752551, "post_id": 47715682, "comment_id": 82398174, "body": "According to link you provided, I simply created new function that does exactly what I do without Mockito. It seems like the cleanest solution. Thanks!"}, {"owner": {"reputation": 293, "user_id": 558398, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5601f9ead33760322a0faaa432cc8b12?s=128&d=identicon&r=PG", "display_name": "svi3c", "link": "https://stackoverflow.com/users/558398/svi3c"}, "edited": false, "score": 1, "creation_date": 1601472499, "post_id": 47715682, "comment_id": 113418908, "body": "You can even remove <code>.call</code>."}], "tags": [], "owner": {"reputation": 346, "user_id": 8210363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o0R5N.jpg?s=128&g=1", "display_name": "brianegan", "link": "https://stackoverflow.com/users/8210363/brianegan"}, "is_accepted": true, "score": 6, "last_activity_date": 1512740886, "creation_date": 1512740886, "answer_id": 47715682, "question_id": 47714342, "link": "https://stackoverflow.com/questions/47714342/mockito-with-functions-in-dart/47715682#47715682", "title": "Mockito with functions in Dart", "body": "<p>I think you have three problems here:</p>\n\n<ol>\n<li>Mockito only works with Classes, not functions (see <a href=\"https://github.com/dart-lang/mockito/issues/62\" rel=\"noreferrer\">https://github.com/dart-lang/mockito/issues/62</a>). You have some options: create a test implementation of the function, or for <code>redux.dart</code>, you can implement the <code>ReducerClass</code> (which acts as a <code>Reducer</code> function by implementing <code>call</code>).</li>\n<li>You need to verify <em>methods</em> being called, not the whole Mock class. </li>\n<li>You must use <code>verifyNever</code> instead of <code>verify(X).called(0)</code>.</li>\n</ol>\n\n<p>Working example:</p>\n\n<pre><code>class MockReducer extends Mock implements ReducerClass {}\n\nmain() {\n  test('should be able to mock a reducer', () {\n    final reducer = new MockReducer();\n\n    verifyNever(reducer.call(any, any));\n  });\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 96, "user_id": 6744531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1af52f4837fd5df3a5b45b87993a687f?s=128&d=identicon&r=PG&f=1", "display_name": "Diogo Sequeira", "link": "https://stackoverflow.com/users/6744531/diogo-sequeira"}, "edited": false, "score": 0, "creation_date": 1618403892, "post_id": 67060954, "comment_id": 118590317, "body": "This works! I&#39;ve trying to use mock functions before in testing environment and this is the easiest, cleanest way to mock and test methods passed to widget via constructor."}], "tags": [], "owner": {"reputation": 11, "user_id": 12664985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VJohu.jpg?s=128&g=1", "display_name": "manoellribeiro", "link": "https://stackoverflow.com/users/12664985/manoellribeiro"}, "is_accepted": false, "score": 1, "last_activity_date": 1618240390, "creation_date": 1618240390, "answer_id": 67060954, "question_id": 47714342, "link": "https://stackoverflow.com/questions/47714342/mockito-with-functions-in-dart/67060954#67060954", "title": "Mockito with functions in Dart", "body": "<p>If you want to just create a mocked function to use as onTap on widget test environment, with mockito you can do something like that:</p>\n<pre><code>abstract class MyFunction {\n  void call();\n}\n\nclass MyFunctionMock extends Mock implements MyFunction {}\n</code></pre>\n<p>Test:</p>\n<pre><code>void main() {\n final mock = MyFunctionMock();\n ...\n\n  // This is inside the the testWidgets callback \n  await tester.pumpWidget(\n          widgetToBeTested(\n            item: registeredListItem,\n            onTap: mock,\n          ),\n        );\n\n  //Logic to tap the widgetToBeTested\n\n  verify(mock()).called(1);\n\n}\n</code></pre>\n"}], "owner": {"reputation": 3004, "user_id": 7829326, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/f3eCN.jpg?s=128&g=1", "display_name": "Marcin Sza\u0142ek", "link": "https://stackoverflow.com/users/7829326/marcin-sza%c5%82ek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2970, "favorite_count": 1, "accepted_answer_id": 47715682, "answer_count": 2, "score": 3, "last_activity_date": 1618240390, "creation_date": 1512735757, "last_edit_date": 1512737023, "question_id": 47714342, "link": "https://stackoverflow.com/questions/47714342/mockito-with-functions-in-dart", "title": "Mockito with functions in Dart", "body": "<p>I have a method that I would like to mock, however when I am trying to verify calls of this method. I get an error that says:</p>\n\n<pre><code>Used on a non-mockito object\n</code></pre>\n\n<p>Here is the simplified code:</p>\n\n<pre><code>test('test',() {\n  MockReducer reducer = new MockReducer();\n  verify(reducer).called(0);\n});\n\nclass MockReducer extends Mock {\n  call(state, action) =&gt; state;\n}\n</code></pre>\n\n<p>Why can't I do something like this?</p>\n"}, {"tags": ["c++", "encryption", "dart", "aes"], "comments": [{"owner": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 1, "creation_date": 1512745390, "post_id": 47712938, "comment_id": 82394090, "body": "The Dart Cipher docs are a POS, they provide essentially no information thus interoperability is going to be difficult. From the docs: &quot;most of the classes are ports of Bouncy Castle from Java to Dart&quot; so you will have to go to the Bouncy Castle docs and try and figure out how they apply to Dart. Best case: do not use."}], "answers": [{"tags": [], "owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "is_accepted": false, "score": 3, "last_activity_date": 1512984182, "creation_date": 1512984182, "answer_id": 47749673, "question_id": 47712938, "link": "https://stackoverflow.com/questions/47712938/dart-encryption-decryption-aes-example/47749673#47749673", "title": "dart encryption decryption AES example", "body": "<p>I'm not going to supply a complete sample code, but <strong>if</strong> you want to use Dart crypto, you should be going with counter mode (CTR) encryption, simply because that seems to be the only actual AES cipher mode implemented by Dart.</p>\n\n<p>CTR is also called SIC mode and the implementation can be found <a href=\"https://www.dartdocs.org/documentation/cipher/0.3.0/cipher.modes.sic/SICBlockCipher-class.html\" rel=\"nofollow noreferrer\">here</a>. It helpfully uses a <code>ParametersWithIV</code>. If you would use a non-randomized nonce you should place it at the high order (leftmost, starting with byte index 0, as CTR mode is usually big endian) end of the IV.</p>\n"}, {"tags": [], "owner": {"reputation": 211, "user_id": 1853441, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/803a3b98485c48e91fefa44468381a6e?s=128&d=identicon&r=PG", "display_name": "ctNGUYEN", "link": "https://stackoverflow.com/users/1853441/ctnguyen"}, "is_accepted": false, "score": 2, "last_activity_date": 1514509602, "creation_date": 1514509602, "answer_id": 48016241, "question_id": 47712938, "link": "https://stackoverflow.com/questions/47712938/dart-encryption-decryption-aes-example/48016241#48016241", "title": "dart encryption decryption AES example", "body": "<p>I finally get my encryption decryption example work, so I answer to my question. The easiest way is to use Salsa20 algorithm, then transform everything to hex string before serialize and send it.</p>\n\n<ul>\n<li>encrypt data</li>\n<li>encode IV to hex String</li>\n<li>encode encrypted data to hex String</li>\n<li>serialize all and send through the network</li>\n<li>the other end of the network decode the hex string to get the IV and the encrypted data.</li>\n<li>then use the same IV, same key (implicitly set to be the same) to decrypt the data</li>\n</ul>\n\n<p>Below is the code encrypt/decrypt without sending through the network.</p>\n\n<pre><code>import \"dart:typed_data\";\nimport 'dart:convert';\nimport \"package:cipher/cipher.dart\";\nimport \"package:cipher/impl/base.dart\";\n\nUint8List StringToUint8List( String s ) {\n  var ret = new Uint8List(s.length);\n  for( var i=0 ; i&lt;s.length ; i++ ) {\n    ret[i] = s.codeUnitAt(i);\n  }\n  return ret;\n}\n\n/// UTF16 Decoding\nString Uint8ListToString( Uint8List ui ) {\n  String s = new String.fromCharCodes(ui);\n  return s;\n}\n\nvoid main() {\n    initCipher();\n    final testStr = \"Hello, i am a very very very very very very very very long string, please encrypte me\";\n    final ivStr  = \"2urPAr4H\"; // Need to have size 8\n    final keyStr = \"QuJuesMhcssE4e8Q4Kt1XCJW3tcpzcEI\"; // Need to have size 32\n\n    final _ivEncoded = UTF8.encode(ivStr);\n    final _keyEncoded = UTF8.encode(keyStr);\n    final _key = new KeyParameter(_keyEncoded);\n    final params = new ParametersWithIV(_key,_ivEncoded);\n\n    var cipher = new StreamCipher( \"Salsa20\" );\n    cipher..reset()..init( true, params );\n    var encryptedEncodedData = cipher.process( StringToUint8List(testStr) );\n     var encryptedDataStr = Uint8ListToString(encryptedEncodedData);\n\n    cipher..reset()..init( false, params );\n    var dencryptedEncodedData = cipher.process( StringToUint8List(encryptedDataStr) );\n    var dencryptedDataStr = Uint8ListToString(dencryptedEncodedData);\n    //expect(testStr, dencryptedDataStr);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320, "user_id": 11944104, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-f6yYt9EPQDM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re52YjF__mXuL1s2C2_REdQbI-gPg/photo.jpg?sz=128", "display_name": "AKushWarrior", "link": "https://stackoverflow.com/users/11944104/akushwarrior"}, "is_accepted": false, "score": 0, "last_activity_date": 1572387031, "creation_date": 1572387031, "answer_id": 58616083, "question_id": 47712938, "link": "https://stackoverflow.com/questions/47712938/dart-encryption-decryption-aes-example/58616083#58616083", "title": "dart encryption decryption AES example", "body": "<p>For anyone coming here now, I wrote a custom package based off PointyCastle and written entirely in Dart which can greatly simplify AES for you.</p>\n\n<p><a href=\"https://pub.dev/packages/steel_crypt\" rel=\"nofollow noreferrer\">https://pub.dev/packages/steel_crypt</a></p>\n\n<p>It looks something like this implemented:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>var FortunaKey = CryptKey().genFortuna(); //generate 32 byte key with Fortuna //you can also enter your own\nvar iv = CryptKey().genDart(16); //generate iv for AES with Dart Random.secure() //you can also enter your own\nvar aesEncrypter = AesCrypt(FortunaKey, 'cbc', 'pkcs7'); //generate AES CBC block encrypter with key and PKCS7 padding\nString encrypted = aesEncrypter.encrypt('somedatahere', iv); //encrypt\nString decrypted = aesEncrypter.decrypt(encrypted, iv); //decrypt\n</code></pre>\n\n<p>This solves any issues with inputs that may have occurred earlier.</p>\n"}], "owner": {"reputation": 211, "user_id": 1853441, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/803a3b98485c48e91fefa44468381a6e?s=128&d=identicon&r=PG", "display_name": "ctNGUYEN", "link": "https://stackoverflow.com/users/1853441/ctnguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2085, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1572387031, "creation_date": 1512730610, "question_id": 47712938, "link": "https://stackoverflow.com/questions/47712938/dart-encryption-decryption-aes-example", "title": "dart encryption decryption AES example", "body": "<p>\nHi,\nI would like to have an example of AES encryption and decryption with Dart. I saw in Dart there are a library cipher</p>\n\n<p><a href=\"https://www.dartdocs.org/documentation/cipher/0.3.0/cipher.api/cipher.api-library.html\" rel=\"nofollow noreferrer\">https://www.dartdocs.org/documentation/cipher/0.3.0/cipher.api/cipher.api-library.html</a> </p>\n\n<p>that can help to do that. But I have 2 problems here : </p>\n\n<ul>\n<li><p>An simple example of encrypting a string, and decrypt it to get the initial string.</p></li>\n<li><p>I need it to work with other AES library, assuming that they all follow the standard. In particular I have my frontend in Dart and backend in C++ which I plan to use crypto++ for that purpose. The point is in crypto++, the required input are the key and the Initialization Vector (IV), while in Dart/cipher, it doesn't seem to require the IV. I wonder if the input requirement are different, they couldn't work together. </p></li>\n</ul>\n\n<p>Conclusion, if someone can help with an example of using Dart with any library (cipher/crypto) that can encrypt/decrypt a string with 2 inputs Key and IV, that will amazingly help me.</p>\n\n<p>Thank you all</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 4811, "user_id": 1462442, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4da53bea02367ebc6c8fe96f4f825961?s=128&d=identicon&r=PG", "display_name": "user1462442", "link": "https://stackoverflow.com/users/1462442/user1462442"}, "edited": false, "score": 1, "creation_date": 1513319964, "post_id": 47708063, "comment_id": 82616325, "body": "don&#39;t double scaffold hit strange bugs."}], "answers": [{"comments": [{"owner": {"reputation": 4811, "user_id": 1462442, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4da53bea02367ebc6c8fe96f4f825961?s=128&d=identicon&r=PG", "display_name": "user1462442", "link": "https://stackoverflow.com/users/1462442/user1462442"}, "edited": false, "score": 1, "creation_date": 1513320084, "post_id": 47721295, "comment_id": 82616379, "body": "btw, here is the original bug report <a href=\"https://github.com/flutter/flutter/issues/3782\" rel=\"nofollow noreferrer\">github.com/flutter/flutter/issues/3782</a>"}], "tags": [], "owner": {"reputation": 1417, "user_id": 1922314, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/2lASm.jpg?s=128&g=1", "display_name": "zero.zero.seven", "link": "https://stackoverflow.com/users/1922314/zero-zero-seven"}, "is_accepted": true, "score": 6, "last_activity_date": 1512762925, "creation_date": 1512762925, "answer_id": 47721295, "question_id": 47708063, "link": "https://stackoverflow.com/questions/47708063/long-press-inkresponse-not-working-when-using-container-with-decoration/47721295#47721295", "title": "Long Press InkResponse not working when using Container with Decoration", "body": "<p>This is what the docs say:</p>\n\n<blockquote>\n  <p>The InkResponse widget must have a Material widget as an ancestor. The\n  Material widget is where the ink reactions are actually painted. This\n  matches the material design premise wherein the Material is what is\n  actually reacting to touches by spreading ink.</p>\n</blockquote>\n\n<p>So I added a Material ancestor to the Container.</p>\n\n<pre><code>new Material(\n      color: Colors.white,\n      child: new Container(\n        padding: new EdgeInsets.all(16.0),\n        child: new Column(\n</code></pre>\n"}], "owner": {"reputation": 1417, "user_id": 1922314, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/2lASm.jpg?s=128&g=1", "display_name": "zero.zero.seven", "link": "https://stackoverflow.com/users/1922314/zero-zero-seven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1356, "favorite_count": 0, "accepted_answer_id": 47721295, "answer_count": 1, "score": 0, "last_activity_date": 1512762925, "creation_date": 1512709662, "last_edit_date": 1512762100, "question_id": 47708063, "link": "https://stackoverflow.com/questions/47708063/long-press-inkresponse-not-working-when-using-container-with-decoration", "title": "Long Press InkResponse not working when using Container with Decoration", "body": "<p>Long Press InkResponse not working when using Container with Decoration</p>\n\n<p><a href=\"https://github.com/flutter/flutter/issues/13421\" rel=\"nofollow noreferrer\">https://github.com/flutter/flutter/issues/13421</a></p>\n\n<pre><code>return new Container(\n      color: Colors.white,\n      padding: new EdgeInsets.all(16.0),\n      child: new Column(\n</code></pre>\n\n<p>or</p>\n\n<pre><code>return new Container(\n      decoration: new BoxDecoration(\n        color: Colors.white,\n      ),\n      padding: new EdgeInsets.all(16.0),\n      child: new Column(\n</code></pre>\n\n<p>(both are identical)</p>\n\n<p>If I comment color, everything goes back to normal.</p>\n\n<p>It is the same for <strong>image</strong> property.</p>\n\n<p><strong>But not</strong> for the <strong>border</strong> property.</p>\n\n<p>I placed a <strong>GestureDetector</strong> over <strong>Container</strong> to see if the gestures are detected,\nthere was no problem with the detection, its just the <strong>long press</strong> animations that are not working.</p>\n\n<p>I could also confirm this <strong>without</strong> using the GestureDetector, I can Hear the <strong>Tapping Sound</strong> from the Emulator when doing a <strong>long press</strong> or a <strong>tap</strong>.</p>\n\n<p><strong>Temporary Workaround</strong> is to use <strong>Scaffold</strong></p>\n\n<pre><code>return new Scaffold(\n      backgroundColor: Colors.white,\n      body: new Container(\n        padding: new EdgeInsets.all(16.0),\n        child: new Column(\n</code></pre>\n"}, {"tags": ["image", "firebase", "dart", "firebase-storage", "flutter"], "comments": [{"owner": {"reputation": 918, "user_id": 7660084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aejXH.png?s=128&g=1", "display_name": "Mr Special", "link": "https://stackoverflow.com/users/7660084/mr-special"}, "edited": false, "score": 0, "creation_date": 1572967696, "post_id": 47704821, "comment_id": 103722273, "body": "is this txt file or image ?"}], "answers": [{"tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 2, "last_activity_date": 1512732559, "creation_date": 1512732559, "answer_id": 47713491, "question_id": 47704821, "link": "https://stackoverflow.com/questions/47704821/download-an-image-from-firebase-to-flutter/47713491#47713491", "title": "Download an image from Firebase to Flutter", "body": "<p>You can just use the Storage API to download, like with upload</p>\n\n<pre><code>someMethod() async {\n  var data = await FirebaseStorage.instance.ref().child(\"foo$rand.txt\").getData();\n  var text = new String.fromCharCodes(data);\n  print(data);\n}\n</code></pre>\n"}], "owner": {"reputation": 3707, "user_id": 3217522, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/79da44beeaf86c3df5a16264908e63b3?s=128&d=identicon&r=PG&f=1", "display_name": "user3217522", "link": "https://stackoverflow.com/users/3217522/user3217522"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2878, "favorite_count": 0, "accepted_answer_id": 47713491, "answer_count": 1, "score": 4, "last_activity_date": 1512732559, "creation_date": 1512685417, "last_edit_date": 1512712352, "question_id": 47704821, "link": "https://stackoverflow.com/questions/47704821/download-an-image-from-firebase-to-flutter", "title": "Download an image from Firebase to Flutter", "body": "<p>There are many examples of uploading a file to firebase and getting a downloadUrl but there's no example that I found to get the DownloadURL for an image and using it in a Flutter widget.</p>\n\n<p>This is the one which is related to uploading a file</p>\n\n<pre><code>final StorageReference ref =\n    FirebaseStorage.instance.ref().child(\"foo$rand.txt\");\nfinal StorageUploadTask uploadTask = ref.put(file);\nfinal Uri downloadUrl = (await uploadTask.future).downloadUrl;\nfinal http.Response downloadData = await http.get(downloadUrl);\n</code></pre>\n\n<p>Can anyone give an example of one where the file already exists in firebase and how to get a download link?</p>\n"}, {"tags": ["web", "design-patterns", "dart", "single-page-application", "angular-dart"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1512663304, "post_id": 47699052, "comment_id": 82358538, "body": "I don&#39;t really understand what you ask for, but it might be similar to <a href=\"https://stackoverflow.com/questions/36325212/angular-2-dynamic-tabs-with-user-click-chosen-components/36325468#36325468\" title=\"angular 2 dynamic tabs with user click chosen components\">stackoverflow.com/questions/36325212/&hellip;</a>"}, {"owner": {"reputation": 5, "user_id": 3307760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ef5845b6a6713b716f85706620214c2?s=128&d=identicon&r=PG&f=1", "display_name": "TiKi", "link": "https://stackoverflow.com/users/3307760/tiki"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1512666129, "post_id": 47699052, "comment_id": 82360184, "body": "@G&#252;nterZ&#246;chbauer , my question is little different, I know how to use dynamic components.  But the question is how can a static component definition be detected (discovered) by the parent component. In my case Texts is parent component Text is child components.  When i use it statically in markup how can they be added to my collection components in above example? If you look at the code i have injecting United States instance via constructor and Life, Liberty thru markup, the components collection is only aware of United States how can i make it aware of Life and Liberty."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1512671950, "post_id": 47699052, "comment_id": 82363212, "body": "I think you need an approach like shown in my linked answer. Just add them dynamically, then you can control them. You can&#39;t move around components added statically (still not sure I understand what you try to accomplish)"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 3307760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ef5845b6a6713b716f85706620214c2?s=128&d=identicon&r=PG&f=1", "display_name": "TiKi", "link": "https://stackoverflow.com/users/3307760/tiki"}, "edited": false, "score": 0, "creation_date": 1512697544, "post_id": 47703081, "comment_id": 82373173, "body": "your answer was correct, I wish there was a way to aggregate both viewchild and contentchild as one, but I do agree with your comments. Ideally, it would just make sense to have all the components be rendered from a single data input list or a stream."}], "tags": [], "owner": {"reputation": 260, "user_id": 8599167, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iIi_6GzF-Zk/AAAAAAAAAAI/AAAAAAAAAAw/kOP4OSiXclQ/photo.jpg?sz=128", "display_name": "Leon Senft", "link": "https://stackoverflow.com/users/8599167/leon-senft"}, "is_accepted": true, "score": 2, "last_activity_date": 1512677797, "creation_date": 1512677797, "answer_id": 47703081, "question_id": 47699052, "link": "https://stackoverflow.com/questions/47699052/angulardart-way-to-aggregate-statically-defined-child-component-with-dynamic-o/47703081#47703081", "title": "AngularDart - Way to aggregate statically defined child component with dynamic once", "body": "<p>You can use <code>@ViewChildren</code> and <code>@ContentChildren</code> to query for child components. <code>@ViewChildren</code> will query for components declared in your template, whereas <code>@ContentChildren</code> will query for components projected into an <code>&lt;ng-content&gt;</code> in your template.</p>\n\n<p>It's worth mentioning that in your example, your dynamic <code>TextComponent</code> is being created twice. First, you create one in your constructor, then again when you declare a <code>&lt;md-text&gt;</code> in your template. This means the instance you're keeping a reference to, isn't actually the component rendered in your view. To avoid this, don't bother creating the instance imperatively. Just keep a model of the data needed to create them, then pass that through inputs in your template where you declare the components. You can then use <code>@ViewChildren</code> to query for those components you've created.</p>\n\n<p>Here's an example</p>\n\n<pre><code>@Component(\n  selector: 'md-texts',\n  template: '''\n    &lt;ol&gt;\n      &lt;md-text *ngFor=\"let text of texts\" [text]=\"text\"&gt;&lt;/md-text&gt;\n      &lt;ng-content&gt;&lt;/ng-content&gt;\n    &lt;/ol&gt;\n  ''',\n  directives: const [NgFor, TextComponent],\n)\nclass TextsComponent {\n  /// Text that was projected through `&lt;ng-content&gt;`.\n  @ContentChildren(TextComponent)\n  QueryList&lt;TextComponent&gt; contentTexts;\n\n  /// Text that was created in our view from our model.\n  @ViewChildren(TextComponent)\n  QueryList&lt;TextComponent&gt; viewTexts;\n\n  /// Data model for the text in our view.\n  final List&lt;String&gt; texts = [\n    ...\n  ];\n}\n</code></pre>\n\n<p>Alternatively, you could render all of the <code>&lt;md-text&gt;</code> from a single source of data in your view, and rely on passing in a model for the static data rather than projecting the components.</p>\n"}], "owner": {"reputation": 5, "user_id": 3307760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ef5845b6a6713b716f85706620214c2?s=128&d=identicon&r=PG&f=1", "display_name": "TiKi", "link": "https://stackoverflow.com/users/3307760/tiki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "accepted_answer_id": 47703081, "answer_count": 1, "score": 0, "last_activity_date": 1512697790, "creation_date": 1512662621, "last_edit_date": 1512697790, "question_id": 47699052, "link": "https://stackoverflow.com/questions/47699052/angulardart-way-to-aggregate-statically-defined-child-component-with-dynamic-o", "title": "AngularDart - Way to aggregate statically defined child component with dynamic once", "body": "<p>\nI would like to aggregate statically defined child components with dynamical once that might be sourced from the stream. I want a generic way to define carousel in this carousel where I can have a typed collection of components. The collection can be defined statically or dynamically. Below is an example:</p>\n\n<pre><code>import 'package:angular/angular.dart';\nimport 'package:angular/core.dart';\nimport 'package:angular_components/angular_components.dart';\n\n\n/**\n *\n */\n@Component(\n    selector: 'md-text',\n    styleUrls: const ['md_text.css'],\n    template: '&lt;li&gt;{{name}}&lt;/li&gt;',\n    directives: const [\n      materialDirectives,\n    ]\n)\nclass TextComponent implements OnInit{\n  @Input()\n  String name;\n\n  TextComponent([this.name]);\n\n  TextComponent.withName(String name)\n      : this(name);\n\n  @override\n  ngOnInit() {\n  }\n}\n\n@Component(\n    selector: 'md-texts',\n    styleUrls: const ['text_component.css'],\n    template: '&lt;ol&gt;&lt;md-text *ngFor=\"let component of components\" [name]=\"component.name\"&gt;&lt;/md-text&gt;&lt;ng-content&gt;&lt;/ng-content&gt;&lt;/ol&gt;',\n    directives: const [\n      CORE_DIRECTIVES,\n      materialDirectives,\n      TextComponent\n    ]\n)\nclass TextsComponent&lt;TextComponent&gt; implements OnInit\n{\n  Set&lt;T&gt; _components;\n\n  Set&lt;T&gt; get components =&gt; _components;\n\n  addComponent(T component){\n    this._components.add(component);\n  }\n\n  removeComponent(T component) {\n    this._components.remove(component);\n  }\n\n  TextsComponent() {\n    this._components = new LinkedHashSet&lt;T&gt;();\n    TextComponent declarativeChannel = new TextComponent.withName(\"United States\");\n    this.addComponent(declarativeChannel);\n  }\n\n  @override\n  ngOnInit(){\n    print(\"I am here\");\n  }\n}\n</code></pre>\n\n<p>in my dashboard component, I have statically defined the usage as follows:</p>\n\n<pre><code>&lt;md-texts&gt;\n    &lt;md-text [name]=\"'Liberty'\"&gt;&lt;/md-text&gt;\n    &lt;md-text [name]=\"'Life'\"&gt;&lt;/md-text&gt; \n&lt;md-texts&gt;\n</code></pre>\n\n<p>The display is as following\nUnited States\nLiberty\nLife</p>\n\n<p>What I want to do is have the \"Liberty\" and \"Life\" also be aggregated to my component collection, so I can control it with the next and previous button. I also only want to render them when their index is called for.  What is the best way to do this in AngularDart.</p>\n\n<p>I found a similar question with old version but with older version <a href=\"https://stackoverflow.com/questions/26764718/how-to-reference-child-component-from-its-parent-in-angulardart-in-ad-1-0-0\">How to reference child component from its parent in AngularDart in AD 1.0.0</a> and <a href=\"https://stackoverflow.com/questions/26764718/how-to-reference-child-component-from-its-parent-in-angulardart-in-ad-1-0-0\">How to reference child component from its parent in AngularDart in AD 1.0.0</a></p>\n\n<p>Regards,  Hopefully i have explained my problem and i will get clear direction on what is the correct way of addressing this design issue.</p>\n"}]