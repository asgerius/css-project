[{"tags": ["firebase", "dart", "firebase-realtime-database"], "comments": [{"owner": {"reputation": 51074, "user_id": 634863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198449a7e196c4b0f2ed25f65279bf84?s=128&d=identicon&r=PG", "display_name": "Alexandre Ardhuin", "link": "https://stackoverflow.com/users/634863/alexandre-ardhuin"}, "edited": false, "score": 0, "creation_date": 1474525113, "post_id": 39617965, "comment_id": 66567909, "body": "Do you use a package (which one) or js interop directly ?"}, {"owner": {"reputation": 11, "user_id": 6858514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5563ae93056e457ec385904e528c8813?s=128&d=identicon&r=PG", "display_name": "Shahab Dogar", "link": "https://stackoverflow.com/users/6858514/shahab-dogar"}, "reply_to_user": {"reputation": 51074, "user_id": 634863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198449a7e196c4b0f2ed25f65279bf84?s=128&d=identicon&r=PG", "display_name": "Alexandre Ardhuin", "link": "https://stackoverflow.com/users/634863/alexandre-ardhuin"}, "edited": false, "score": 0, "creation_date": 1474560376, "post_id": 39617965, "comment_id": 66591214, "body": "I use the firebase3 dart wrapper. <a href=\"https://pub.dartlang.org/packages/firebase3\" rel=\"nofollow noreferrer\">pub.dartlang.org/packages/firebase3</a>"}], "owner": {"reputation": 11, "user_id": 6858514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5563ae93056e457ec385904e528c8813?s=128&d=identicon&r=PG", "display_name": "Shahab Dogar", "link": "https://stackoverflow.com/users/6858514/shahab-dogar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1474467563, "creation_date": 1474464491, "last_edit_date": 1474467563, "question_id": 39617965, "link": "https://stackoverflow.com/questions/39617965/firebase-transaction-in-dart", "title": "firebase.transaction in dart", "body": "<p>I was trying to use the firebase.transaction function using dart in Angular 2, in javascript I would just be able to do something like</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>fbRef.transaction(function (currentdata) {\n  return currentdata + 1;\n});\n</code></pre>\n\n<p>But in dart it seems quite different and asks for a \"dynamic\" as it's parameter. How should I use this function in dart and what exactly does dynamic mean?</p>\n"}, {"tags": ["dart", "angular-dart"], "answers": [{"comments": [{"owner": {"reputation": 3974, "user_id": 433895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26ffb8939a8111e0321254ae5259c7f8?s=128&d=identicon&r=PG", "display_name": "curt", "link": "https://stackoverflow.com/users/433895/curt"}, "edited": false, "score": 0, "creation_date": 1474423600, "post_id": 39605439, "comment_id": 66521155, "body": "Thanks for the clarification. I read several mentions of the return of the future, but no example on how to use it."}, {"owner": {"reputation": 3974, "user_id": 433895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26ffb8939a8111e0321254ae5259c7f8?s=128&d=identicon&r=PG", "display_name": "curt", "link": "https://stackoverflow.com/users/433895/curt"}, "edited": false, "score": 0, "creation_date": 1474423670, "post_id": 39605439, "comment_id": 66521170, "body": "I agree about the while loop when I went to look up an example, they were quite complex. Dart does not have a wait(time)."}, {"owner": {"reputation": 3974, "user_id": 433895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26ffb8939a8111e0321254ae5259c7f8?s=128&d=identicon&r=PG", "display_name": "curt", "link": "https://stackoverflow.com/users/433895/curt"}, "edited": false, "score": 0, "creation_date": 1474424283, "post_id": 39605439, "comment_id": 66521302, "body": "So if the try catch in getCredit(id) catches the error, it will set the error message and the processing will continue at await future? If so, would adding a try catch to onUpdateCredit fix the problem? The method _creditService.getCredit also contains a try catch. If I need to add a third one, it seems like it would make sense to get rid of getCredit and call _creditService.getCredit directly."}, {"owner": {"reputation": 4654, "user_id": 3763321, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c892710c396e6b2502b643a76206fdfe?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/3763321/douglas"}, "reply_to_user": {"reputation": 3974, "user_id": 433895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26ffb8939a8111e0321254ae5259c7f8?s=128&d=identicon&r=PG", "display_name": "curt", "link": "https://stackoverflow.com/users/433895/curt"}, "edited": false, "score": 0, "creation_date": 1474425832, "post_id": 39605439, "comment_id": 66521670, "body": "@curt The async-compatible non-blocking equivalent of <code>wait(time)</code> for Dart is <code>await Future.delayed(time)</code>. This will put the rest of the code as a callback on the event loop after the specified time and, as with all uses of the <code>await</code> keyword, is only allowed in an <code>async</code> function. Adding a try/catch around the <code>await</code> in <code>onUpdateCredit</code> would help only if you remove the one in <code>getCredit</code>, allowing the exception to propagate. You could instead put a null check, but I&#39;d agree <code>getCredit</code> isn&#39;t adding much value in the code you&#39;ve shown."}, {"owner": {"reputation": 4654, "user_id": 3763321, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c892710c396e6b2502b643a76206fdfe?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/3763321/douglas"}, "reply_to_user": {"reputation": 3974, "user_id": 433895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26ffb8939a8111e0321254ae5259c7f8?s=128&d=identicon&r=PG", "display_name": "curt", "link": "https://stackoverflow.com/users/433895/curt"}, "edited": false, "score": 0, "creation_date": 1474426802, "post_id": 39605439, "comment_id": 66521907, "body": "@curt Also, do you understand the usage of <code>.then()</code>, <code>.catchError()</code>, etc. on futures? I could explain how <code>async</code> and <code>await</code> map to the function based equivalents pretty concisely, if you already understand the functional concepts."}, {"owner": {"reputation": 3974, "user_id": 433895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26ffb8939a8111e0321254ae5259c7f8?s=128&d=identicon&r=PG", "display_name": "curt", "link": "https://stackoverflow.com/users/433895/curt"}, "edited": false, "score": 0, "creation_date": 1474434698, "post_id": 39605439, "comment_id": 66523939, "body": "I&#39;ve used .then or the equivalent in javascript. I implemented the first solution you gave. Thanks for the help. I&#39;ll probably end up coding about 50 these calls"}, {"owner": {"reputation": 4654, "user_id": 3763321, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c892710c396e6b2502b643a76206fdfe?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/3763321/douglas"}, "reply_to_user": {"reputation": 3974, "user_id": 433895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26ffb8939a8111e0321254ae5259c7f8?s=128&d=identicon&r=PG", "display_name": "curt", "link": "https://stackoverflow.com/users/433895/curt"}, "edited": false, "score": 0, "creation_date": 1474436734, "post_id": 39605439, "comment_id": 66524660, "body": "@curt See my edit for an expansion on what <code>async</code> and <code>await</code> mean in <code>.then</code>-like terms, then."}], "tags": [], "owner": {"reputation": 4654, "user_id": 3763321, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c892710c396e6b2502b643a76206fdfe?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/3763321/douglas"}, "is_accepted": true, "score": 3, "last_activity_date": 1474436431, "last_edit_date": 1474436431, "creation_date": 1474415494, "answer_id": 39605439, "question_id": 39604857, "link": "https://stackoverflow.com/questions/39604857/dart-async-do-something-else-then-wait/39605439#39605439", "title": "Dart Async Do Something Else Then Wait", "body": "<p><code>getCredit(credit_id)</code> does not just kick off an asynchronous call, it also returns a <code>Future</code> object - immediately. Store that object in a local variable, and you can use it later to asynchronously execute additional code when it completes.</p>\n\n<p>There are two ways to use that <code>Future</code> object. The easier and more fluent way requires that you declare <code>onUpdateCredit</code> to be <code>async</code>. Inside an <code>async</code> function, the line <code>await futureObject</code> will cause all code after that line to be executed asynchronously after the <code>Future</code> completes. The complete version of <code>onUpdateCredit</code> using this technique would look like this:</p>\n\n<pre><code>Future&lt;Null&gt; onUpdateCredit(int credit_id) async {\n  Future future = getCredit(credit_id);\n  creditDialogTitle = 'Update Credit';\n  await future;\n  creditArtistIndex = credit.artist_id;\n  instrument = credit.instrument;\n  creditNotes = credit.notes;\n  creditDialog.open();\n}\n</code></pre>\n\n<p>The other way is to explicitly register the rest of your code as a callback using <code>.then()</code>. That would look like this:</p>\n\n<pre><code>void onUpdateCredit(int credit_id) {\n  Future future = getCredit(credit_id);\n  creditDialogTitle = 'Update Credit';\n  future.then((_) =&gt; {\n    creditArtistIndex = credit.artist_id;\n    instrument = credit.instrument;\n    creditNotes = credit.notes;\n    creditDialog.open();\n  });\n}\n</code></pre>\n\n<p>Note that in either case, if the exception path occurs in <code>getCredit(id)</code> you will get errors for <code>credit</code> not being set. If you truly want the exception to be swallowed silently, you should have its handler fill in a default value for <code>credit</code> so that code that assumes it completed normally will still work.</p>\n\n<p>Also note that your while loop version would fail - Dart, like JavaScript, is not truly multithreaded, and busy waiting like that will block the event loop forever, preventing the code that would set <code>credit</code> from ever running.</p>\n\n<p>A short summary of how <code>async</code> and <code>await</code> work in general:</p>\n\n<pre><code>Future someFunc(args) async {\n  ...\n  return value;\n}\n</code></pre>\n\n<p>is equivalent to:</p>\n\n<pre><code>Future someFunc(args) {\n  return new Future(() =&gt; {\n    ...\n    return value;\n  }\n}\n</code></pre>\n\n<p>The code inside gets executed on a later iteration of the event loop, and the returned future completes either successfully with <code>value</code> or exceptionally with anything thrown in that code.</p>\n\n<p>Meanwhile this:</p>\n\n<pre><code>try {\n  value = await someFutureObject;\n  ...more code here...\n} catch (e) {\n  ...exception handling here...\n}\n</code></pre>\n\n<p>is equivalent to:</p>\n\n<pre><code>someFutureObject.then((value) =&gt; {\n  ...more code here...\n}).catchError((e) =&gt; {\n  ...exception handling here...\n});\n</code></pre>\n\n<p>The most common use case is <code>someVar = await someAsyncCall();</code>, but you can save the <code>Future</code> itself by omitting <code>await</code>, or you can <code>await</code> on an arbitrary <code>Future</code> object no matter where it comes from.</p>\n\n<p><em>However</em> - and this is what makes <code>await</code> and <code>async</code> so incredibly convenient - you can have 5 different exit points from the <code>async</code> function interspersed with three <code>await</code> calls (in the same <code>async</code> function) in assorted places inside 13 nested loops, switches, try/catch, and <code>if</code> blocks, and Dart will automatically figure out the necessary tree of callbacks to make it all follow the same code path as if all the calls were synchronous.</p>\n"}], "owner": {"reputation": 3974, "user_id": 433895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26ffb8939a8111e0321254ae5259c7f8?s=128&d=identicon&r=PG", "display_name": "curt", "link": "https://stackoverflow.com/users/433895/curt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 973, "favorite_count": 0, "accepted_answer_id": 39605439, "answer_count": 1, "score": 1, "last_activity_date": 1474438580, "creation_date": 1474411478, "last_edit_date": 1474438580, "question_id": 39604857, "link": "https://stackoverflow.com/questions/39604857/dart-async-do-something-else-then-wait", "title": "Dart Async Do Something Else Then Wait", "body": "<p>I've read several stackoverflow questions, dart documents, and even watched a video on async and await. I haven't found an answer to my question. I would like to call an async method, execute other code, and then wait on the completion of the async task.</p>\n\n<p>Here's an example of what I'm working with. This is my component</p>\n\n<pre><code>Credit credit;\n...\nFuture&lt;Null&gt; getCredit(id) async {\n  try {\n    credit = await _creditService.getCredit(id);\n  }\n  catch (e) {\n    errorMessage = e.toString();\n  }\n}\n...\nvoid onUpdateCredit(int credit_id) {\n  getCredit(credit_id);\n  creditDialogTitle = 'Update Credit';\n  creditArtistIndex = credit.artist_id;\n  instrument = credit.instrument;\n  creditNotes = credit.notes;\n  creditDialog.open();\n}\n</code></pre>\n\n<p>This code crashes because credit is null when an attempt is made to use it. One way around it is combine the two methods:</p>\n\n<pre><code>Future&lt;Null&gt; onUpdateCredit(id) async {\n  try {\n    credit = await _creditService.getCredit(id);\n    creditDialogTitle = 'Update Credit';\n    creditArtistIndex = credit.artist_id;\n    instrument = credit.instrument;\n    creditNotes = credit.notes;\n    creditDialog.open();\n  }\n  catch (e) {\n    errorMessage = e.toString();\n  }\n}\n</code></pre>\n\n<p>Nothing is done is parallel and, if I need the credit some where else in my code, I would have to duplicate the try/catch portion of the method. I could also code it like this:</p>\n\n<pre><code>void onUpdateCredit(int credit_id) {\n  credit = null;\n  getCredit(credit_id);\n  creditDialogTitle = 'Update Credit';\n  while (credit == null) {//wait a period of time}\n  creditArtistIndex = credit.artist_id;\n  instrument = credit.instrument;\n  creditNotes = credit.notes;\n  creditDialog.open();\n}\n</code></pre>\n\n<p>In other situations, I do something similar to this in my html with *ngIf=\"var != null\" where var is populated by a future.</p>\n\n<p>Is there a better way than using while (credit == null) ? This example only executes one instruction between the request and the completion so is trivial. I'm sure I'll other situations where I have a lot to do in between. I'm also adding the service method:</p>\n\n<pre><code>Future&lt;Credit&gt; getCredit(int id) async {\n  try {\n    String url = \"http://catbox.loc/credits/${id.toString()}\";\n    HttpRequest response = await HttpRequest.request(\n        url, requestHeaders: headers);\n    Map data = JSON.decode(response.responseText);\n    final credit = new Credit.fromJson(data);\n    return credit;\n  }\n  catch (e) {\n    throw _handleError(e);\n  }\n}\n</code></pre>\n\n<h2>Update</h2>\n\n<p>Based on @Douglas' answer, this works:</p>\n\n<pre><code>Future&lt;Null&gt; onUpdateCredit(id) async {\n  Future future = getCredit(id);\n  creditDialogTitle = 'Update Credit';\n  await future;\n  creditArtistIndex = credit.artist_id;\n  instrument = credit.instrument;\n  creditNotes = credit.notes;\n  creditDialog.open();\n}\n</code></pre>\n\n<p>I then eliminated the intervening method.</p>\n\n<pre><code>Future&lt;Null&gt; onUpdateCredit(id) async {\n  try {\n    Future&lt;Credit&gt; future =  _creditService.getCredit(id);\n    creditDialogTitle = 'Update Credit';\n    credit = await future;\n    creditArtistIndex = credit.artist_id;\n    instrument = credit.instrument;\n    creditNotes = credit.notes;\n    creditDialog.open();\n  }\n  catch (e) {\n    errorMessage = e.toString();\n    }\n}\n</code></pre>\n"}, {"tags": ["angular", "dart", "angular-dart"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1474289977, "post_id": 39573807, "comment_id": 66457323, "body": "Are you using <code>@MirrorsUsed()</code> anywhere? Can you please add your <code>pubspec.yaml</code>?"}, {"owner": {"reputation": 316, "user_id": 2883604, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cb8bfdfc613c9a26033a7dfee32602f2?s=128&d=identicon&r=PG&f=1", "display_name": "djointster", "link": "https://stackoverflow.com/users/2883604/djointster"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1474290410, "post_id": 39573807, "comment_id": 66457643, "body": "I&#39;m sorry, forgot to add my pubspec.yaml. And no, i&#39;m not using <code>@MirrorsUsed()</code>."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1474290709, "post_id": 39573807, "comment_id": 66457835, "body": "Everything you posted seems fine. Are you loading the app into Chrome (or what your other browser is) from <code>pub serve</code> or from <code>pub build</code>?"}, {"owner": {"reputation": 316, "user_id": 2883604, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cb8bfdfc613c9a26033a7dfee32602f2?s=128&d=identicon&r=PG&f=1", "display_name": "djointster", "link": "https://stackoverflow.com/users/2883604/djointster"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1474291089, "post_id": 39573807, "comment_id": 66458093, "body": "I&#39;m loading from <code>pub serve</code>, and i tried to load it in Chrome, in Firefox and in IE11."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1474291365, "post_id": 39573807, "comment_id": 66458291, "body": "What Dart version are you using? Did you update Dartium to match the Dart version you are using?"}, {"owner": {"reputation": 316, "user_id": 2883604, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cb8bfdfc613c9a26033a7dfee32602f2?s=128&d=identicon&r=PG&f=1", "display_name": "djointster", "link": "https://stackoverflow.com/users/2883604/djointster"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1474291754, "post_id": 39573807, "comment_id": 66458570, "body": "I&#39;m using Dart version 1.19.0 and Dartium 1.19.0.0. It works in Dartium.  It fails in Chrome 52.0.2743.116 m, Firefox 38.2.1 and IE 11. All with the same error."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1474291889, "post_id": 39573807, "comment_id": 66458658, "body": "Can you please try to delete the <code>.pub</code> directory in your project, then run <code>pub get</code> again and launch the app again."}, {"owner": {"reputation": 316, "user_id": 2883604, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cb8bfdfc613c9a26033a7dfee32602f2?s=128&d=identicon&r=PG&f=1", "display_name": "djointster", "link": "https://stackoverflow.com/users/2883604/djointster"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1474292143, "post_id": 39573807, "comment_id": 66458843, "body": "I&#39;ve deleted <code>.pub</code>, run <code>pub get</code> and relaunched and i still have the error."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1474292206, "post_id": 39573807, "comment_id": 66458890, "body": "But it&#39;s working with the Tour of Heroes examples?"}, {"owner": {"reputation": 316, "user_id": 2883604, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cb8bfdfc613c9a26033a7dfee32602f2?s=128&d=identicon&r=PG&f=1", "display_name": "djointster", "link": "https://stackoverflow.com/users/2883604/djointster"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1474292347, "post_id": 39573807, "comment_id": 66458983, "body": "Yes, the Tour of Heroes works.  At first i thought it could be the place where i&#39;m trying to handle the click, but i&#39;ve tried doing it exactly like the Tour of Heroes and it gave me the same error."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1474292474, "post_id": 39573807, "comment_id": 66459087, "body": "When exactly do you get the error. When you click on a routerLink or when you load the app, ...?"}, {"owner": {"reputation": 316, "user_id": 2883604, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cb8bfdfc613c9a26033a7dfee32602f2?s=128&d=identicon&r=PG&f=1", "display_name": "djointster", "link": "https://stackoverflow.com/users/2883604/djointster"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1474292648, "post_id": 39573807, "comment_id": 66459221, "body": "I can list the users, but when i click on a row, i can see that the <code>gotoUser(User user)</code> is called, it runs the <code>ngOnInit()</code> of the <code>user_edit_component</code>, the data is returned from the service, but after that it gives the error and never renders the page."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1474293119, "post_id": 39573807, "comment_id": 66459539, "body": "Can you try to use different HTML than <code>&lt;tbody&gt;</code>, <code>&lt;tr&gt;</code>, and <code>&lt;td&gt;</code> (no table related elements)? Do you have any bindings inside <code>&lt;tr&gt;</code> or <code>&lt;td&gt;</code>?"}, {"owner": {"reputation": 316, "user_id": 2883604, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cb8bfdfc613c9a26033a7dfee32602f2?s=128&d=identicon&r=PG&f=1", "display_name": "djointster", "link": "https://stackoverflow.com/users/2883604/djointster"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1474293289, "post_id": 39573807, "comment_id": 66459643, "body": "Inside the <code>&lt;tr&gt;</code> i have bindings to some properties of the user.  I&#39;ve changed the table to a <code>&lt;ui&gt;</code> with a <code>&lt;li *ngFor=&quot;let user of users&quot; (click)=&quot;gotoUser(user)&quot;&gt;</code> and i have the same error."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1474293376, "post_id": 39573807, "comment_id": 66459703, "body": "Can you try to comment these out to narrow down where the error can happen."}, {"owner": {"reputation": 316, "user_id": 2883604, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cb8bfdfc613c9a26033a7dfee32602f2?s=128&d=identicon&r=PG&f=1", "display_name": "djointster", "link": "https://stackoverflow.com/users/2883604/djointster"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1474293744, "post_id": 39573807, "comment_id": 66459952, "body": "Hmm, i think my problem is with the user_edit_component.html and the .dart.  I was able to render the page without having any bindings on it. It must be one of those small errors. I&#39;ll add the properties one by one and i&#39;ll get back :)"}, {"owner": {"reputation": 316, "user_id": 2883604, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cb8bfdfc613c9a26033a7dfee32602f2?s=128&d=identicon&r=PG&f=1", "display_name": "djointster", "link": "https://stackoverflow.com/users/2883604/djointster"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1474294630, "post_id": 39573807, "comment_id": 66460618, "body": "I&#39;ve added my user_edit_component.html. It seems that if i comment out the line <code>&lt;input [(ngModel)}=&quot;user.domain&quot; placeholder=&quot;domain&quot;&#47;&gt;</code> it renders the page. I&#39;ve checked and double checked the documentation and think i don&#39;t have any error there."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1474294775, "post_id": 39573807, "comment_id": 66460712, "body": "Nothing wrong with this input except the typo (see my answer). Are you sure <code>domain</code> always contains a string?"}, {"owner": {"reputation": 316, "user_id": 2883604, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cb8bfdfc613c9a26033a7dfee32602f2?s=128&d=identicon&r=PG&f=1", "display_name": "djointster", "link": "https://stackoverflow.com/users/2883604/djointster"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1474295058, "post_id": 39573807, "comment_id": 66460908, "body": "Tha <code>domain</code> is a <code>String</code> yes, but it can be <code>null</code> or empty"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1474295463, "post_id": 39573807, "comment_id": 66461152, "body": "It shouldn&#39;t really matter. <code>null</code> and empty should work as well. I also can&#39;t see any error. Can you please also add the <code>User</code> class?"}, {"owner": {"reputation": 316, "user_id": 2883604, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cb8bfdfc613c9a26033a7dfee32602f2?s=128&d=identicon&r=PG&f=1", "display_name": "djointster", "link": "https://stackoverflow.com/users/2883604/djointster"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1474297694, "post_id": 39573807, "comment_id": 66462641, "body": "added the User class"}, {"owner": {"reputation": 316, "user_id": 2883604, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cb8bfdfc613c9a26033a7dfee32602f2?s=128&d=identicon&r=PG&f=1", "display_name": "djointster", "link": "https://stackoverflow.com/users/2883604/djointster"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1474297793, "post_id": 39573807, "comment_id": 66462704, "body": "I&#39;ll take another approach, i&#39;ll download the <code>Tour of Heroes</code> and try to edit it to my needs instead of creating my project."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1474297799, "post_id": 39573807, "comment_id": 66462708, "body": "I&#39;d try next to <code>print(&#39;user.domain: ${user?.domain}&#39;);</code> after <code>user = await _userService.getUser(userId);</code> and run it in browsers where the app fails to check what it prints there to the browser console."}, {"owner": {"reputation": 316, "user_id": 2883604, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cb8bfdfc613c9a26033a7dfee32602f2?s=128&d=identicon&r=PG&f=1", "display_name": "djointster", "link": "https://stackoverflow.com/users/2883604/djointster"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1474980473, "post_id": 39573807, "comment_id": 66747538, "body": "I printed the values as you said, and it print my user data that comes from the webservice. I also started to change the &#180;Tour of Heroes` to accommodate my need and it is working now."}], "answers": [{"comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1475405042, "post_id": 39816170, "comment_id": 66922749, "body": "That&#39;s not the case if they are listed in <code>pubspec.yaml</code> transformers section as shown in the question (<code>platform_directives</code>, <code>platform_pipes</code>). This way built-in and custom directives and pipes can be made globally available."}, {"owner": {"reputation": 197, "user_id": 5038070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YZllM.jpg?s=128&g=1", "display_name": "Thibault Sottiaux", "link": "https://stackoverflow.com/users/5038070/thibault-sottiaux"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1475405671, "post_id": 39816170, "comment_id": 66922882, "body": "You&#39;re right, edited answer to reflect that it probably is the FORM_DIRECTIVES then."}], "tags": [], "owner": {"reputation": 197, "user_id": 5038070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YZllM.jpg?s=128&g=1", "display_name": "Thibault Sottiaux", "link": "https://stackoverflow.com/users/5038070/thibault-sottiaux"}, "is_accepted": false, "score": 1, "last_activity_date": 1475405631, "last_edit_date": 1475405631, "creation_date": 1475404948, "answer_id": 39816170, "question_id": 39573807, "link": "https://stackoverflow.com/questions/39573807/angular-dart-js-error-when-routing-to-another-page/39816170#39816170", "title": "Angular + Dart JS Error when routing to another page", "body": "<p>NgModel is part of the forms directives and not the core, so it seems that you're missing the <code>FORM_DIRECTIVES</code> bag of directives in your list of directives for the <code>user_edit_component</code> component. </p>\n\n<pre><code>@Component(\n    selector: 'user-detail',\n    templateUrl: 'user_edit_component.html',\n    directives: const [FORM_DIRECTIVES]\n)\n</code></pre>\n\n<p>In Angular2 Dart you have to explicitly list all the directives that you want to make available in your template, unless you make them globally available through the pubspec.yaml.</p>\n"}], "owner": {"reputation": 316, "user_id": 2883604, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cb8bfdfc613c9a26033a7dfee32602f2?s=128&d=identicon&r=PG&f=1", "display_name": "djointster", "link": "https://stackoverflow.com/users/2883604/djointster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1475405631, "creation_date": 1474289862, "last_edit_date": 1474297679, "question_id": 39573807, "link": "https://stackoverflow.com/questions/39573807/angular-dart-js-error-when-routing-to-another-page", "title": "Angular + Dart JS Error when routing to another page", "body": "<p>I'm trying to develop a simple Dart + Angular2 web application.\nI've done the <a href=\"https://angular.io/docs/ts/latest/tutorial/\" rel=\"nofollow\">Tour of Heroes</a> tutorial and i've been reading about Dart.</p>\n\n<p>I have a problem that i can't seem to understand.</p>\n\n<p>I'm trying to build a simple app that has a list of users and then allows you to select a user and edit it.</p>\n\n<p>I have 3 dart files in my project, the app_component, the user_list and the user_edit:</p>\n\n<p>This are my dart files:</p>\n\n<p><strong>app_component.dart</strong></p>\n\n<pre><code>@RouteConfig(const [\n    const Route(path: '/users', name: 'UsersList', component: UserListComponent),\n    const Route(path: '/user/:id', name: 'UserDetail', component: UserEditComponent)\n])\n\n@Component(\n    selector: 'users',\n    templateUrl: 'app_component.html',\n    directives: const [ROUTER_DIRECTIVES],\n    providers: const [UserService, ROUTER_PROVIDERS]\n)\nclass AppComponent {}\n</code></pre>\n\n<p><strong>user_list_component.dart</strong></p>\n\n<pre><code>@Component(\n    selector: 'user-list',\n    templateUrl: 'user_list_component.html'\n)\nclass UserListComponent implements OnInit {\n    List&lt;User&gt; users;\n\n    final UserService _userService;\n    final Router _router;\n\n    UserListComponent(this._userService, this._router);\n\n    Future&lt;Null&gt; ngOnInit() async {\n       users = await _userService.getUsers();\n    }\n\n    void gotoUser(User user) {\n        _router.navigate([\"UserDetail\", {'id': user.userId.toString()}]);\n    }\n}\n</code></pre>\n\n<p><strong>user_edit_component.dart</strong></p>\n\n<pre><code>@Component(\n    selector: 'user-detail',\n    templateUrl: 'user_edit_component.html'\n)\nclass UserEditComponent implements OnInit {\n    @Input()\n    User user;\n\n    final UserService _userService;\n    final RouteParams _routeParams;\n\n    UserEditComponent(this._userService, this._routeParams);\n\n    Future&lt;Null&gt; ngOnInit() async {\n        var userId = _routeParams.get('id');\n        if(userId != null) {\n            user = await _userService.getUser(userId);\n        }\n    }\n}\n</code></pre>\n\n<p>In user_list view, i display the user data as a table, and i have a click event on each row, that i expect to take me to the user edit page.</p>\n\n<p><strong>user_list_component.html</strong></p>\n\n<pre><code>...\n&lt;tbody&gt;\n    &lt;tr *ngFor=\"let user of users\" (click)=\"gotoUser(user)\"&gt;\n        &lt;td&gt;...&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/tbody&gt;\n...\n</code></pre>\n\n<p>Running this on Dartium, gives me the expected result, and i can navigate between the user list and the user edit page, but it fails on every other browser and the browser doesn't give any info in the error. </p>\n\n<p>This is the error i get</p>\n\n<pre><code>js_helper.dart:1729 Uncaught \n  wrapException @ js_helper.dart:1729\n  call$0 @ async_patch.dart:561\n  _microtaskLoop @ schedule_microtask.dart:41\n  dart._startMicrotaskLoop @schedule_microtask.dart:50\n  dart._AsyncRun__initializeScheduleImmediate_internalCallback.call$1 @async_patch.dart:54\n  call$0 @ js_helper.dart:2409\n  eval$1 @ isolate_helper.dart:462\n  _callInIsolate @isolate_helper.dart:54\n  dart.invokeClosure @ js_helper.dart:2409\n  (anonymous function) @ js_helper.dart:2429\n</code></pre>\n\n<p>I'm trying to learn Angular with Dart, and i'm probably doing something wrong here, but i can't find out what and i'd really appreciate some help :)</p>\n\n<p>Thanks in advance.</p>\n\n<p><strong>EDIT 1:</strong></p>\n\n<p><strong>pubspec.yaml</strong></p>\n\n<pre><code>name: test_app\ndescription: Test App\nversion: 0.0.1\nenvironment:\n  sdk: '&gt;=1.13.0 &lt;2.0.0'\ndependencies:\n  angular2: 2.0.0-beta.21\n  browser: ^0.10.0\n  dart_to_js_script_rewriter: ^1.0.1\ntransformers:\n- angular2:\n  platform_directives:\n  - 'package:angular2/common.dart#COMMON_DIRECTIVES'\n  platform_pipes:\n  - 'package:angular2/common.dart#COMMON_PIPES'\n  entry_points: web/main.dart\n- dart_to_js_script_rewriter\n</code></pre>\n\n<p><strong>EDIT 2:</strong></p>\n\n<p><strong>user_edit_component.html</strong></p>\n\n<pre><code>&lt;div *ngIf=\"user != null\"&gt;\n    &lt;label&gt;User &lt;/label&gt;&lt;span&gt;{{user.userId}}&lt;/span&gt;\n    &lt;label&gt;Name: &lt;/label&gt;&lt;span&gt;{{user.fullName}}&lt;/span&gt;\n    &lt;label&gt;Domain: &lt;/label&gt;\n    &lt;input [(ngModel)]=\"user.domain\" placeholder=\"domain\"/&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>EDIT 3:</strong></p>\n\n<pre><code>class User {\n  String userId;\n  String firstName;\n  String lastName;\n  String fullName;\n  String email;\n  String domain;\n  List&lt;String&gt; roles;\n\n  User(this.userId, this.domain);\n}\n</code></pre>\n"}, {"tags": ["dart", "polymer", "dart-polymer"], "comments": [{"owner": {"reputation": 705, "user_id": 5396835, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w4iDZ.jpg?s=128&g=1", "display_name": "Jonas Bojesen", "link": "https://stackoverflow.com/users/5396835/jonas-bojesen"}, "edited": false, "score": 0, "creation_date": 1474307544, "post_id": 39570331, "comment_id": 66468337, "body": "Tried the same in my environment. It runs ok through the loop with no exception. On the other hand no output is produced in the dom. Googled on how this should work, but with very sparse result. Do you have suggestions where to find more info?"}, {"owner": {"reputation": 705, "user_id": 5396835, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w4iDZ.jpg?s=128&g=1", "display_name": "Jonas Bojesen", "link": "https://stackoverflow.com/users/5396835/jonas-bojesen"}, "edited": false, "score": 0, "creation_date": 1474616318, "post_id": 39570331, "comment_id": 66612962, "body": "Now I got the valid output and reproduced the exception in Dartium. Tried to wrap the array data with <code>JsProxy</code> like this <code>class PersonData extends JsProxy</code> still same error. Building with <code>dart2js</code> and the things works ok in Chrome with no exception. Seems like something missing in the dart wrapper for running in Dartium. Tried with a <code>String</code> instead of a structured type and worked ok in Dartium."}, {"owner": {"reputation": 705, "user_id": 5396835, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w4iDZ.jpg?s=128&g=1", "display_name": "Jonas Bojesen", "link": "https://stackoverflow.com/users/5396835/jonas-bojesen"}, "edited": false, "score": 0, "creation_date": 1474627939, "post_id": 39570331, "comment_id": 66619706, "body": "Digged more, with <code>dart2js</code> build an exception is thrown, but swallown by Chrome and updates the value in the browser ok. The exception in Chrome is similar to that in Dartium"}], "answers": [{"tags": [], "owner": {"reputation": 705, "user_id": 5396835, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w4iDZ.jpg?s=128&g=1", "display_name": "Jonas Bojesen", "link": "https://stackoverflow.com/users/5396835/jonas-bojesen"}, "is_accepted": true, "score": 0, "last_activity_date": 1474628271, "creation_date": 1474628271, "answer_id": 39659088, "question_id": 39570331, "link": "https://stackoverflow.com/questions/39570331/editing-input-field-in-a-polymer-dart-templatizer-instance-throws-an-error/39659088#39659088", "title": "Editing input field in a Polymer Dart templatizer instance throws an error", "body": "<p>Seems as a variant of a known bug in js Polymer.</p>\n\n<p><a href=\"https://github.com/Polymer/polymer/issues/3899\" rel=\"nofollow\">https://github.com/Polymer/polymer/issues/3899</a></p>\n\n<p>For the research, see comments.</p>\n"}], "owner": {"reputation": 45, "user_id": 3017076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bd0082681e4701789f6247a455e9f86?s=128&d=identicon&r=PG&f=1", "display_name": "domosi", "link": "https://stackoverflow.com/users/3017076/domosi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 39659088, "answer_count": 1, "score": 1, "last_activity_date": 1474628271, "creation_date": 1474279113, "last_edit_date": 1474290340, "question_id": 39570331, "link": "https://stackoverflow.com/questions/39570331/editing-input-field-in-a-polymer-dart-templatizer-instance-throws-an-error", "title": "Editing input field in a Polymer Dart templatizer instance throws an error", "body": "<p>We have a polymer element written in dart (version 1.0.0-rc.18).\nThe <code>&lt;list-outer&gt;</code> element uses the Templatizer behavior to iterate an object list.</p>\n\n<pre><code>&lt;list-outer&gt;\n    &lt;template&gt;               \n        &lt;iron-label&gt;{{row.name}}&lt;/iron-label&gt;\n        &lt;paper-input value=\"{{row.name}}\"&gt;&lt;/paper-input&gt;\n    &lt;/template&gt;\n&lt;/list-outer&gt;\n</code></pre>\n\n<p>The dart part:</p>\n\n<pre><code>@PolymerRegister('list-outer')\nclass ListOuter extends PolymerElement with Templatizer {\n\n  @property\n  List&lt;Object&gt; datax = [\n    {\"name\": \"xxx\", \"age\": 2},\n    {\"name\": \"yyy\", \"age\": 3}\n  ];\n\n  ListOuter.created() : super.created() ;\n\n  @override\n  void ready() {   \n    Element template = Polymer.dom(this).querySelector('template');\n\n    this.templatize(template);\n\n    datax.forEach((row) {\n      TemplateInstance instance = this.stamp({});\n\n      Polymer.dom(this).append(instance.root);\n\n      instance.set('row', row);\n    });\n  }\n}\n</code></pre>\n\n<p>If I try to edit the data in the inner <code>&lt;paper-input&gt;</code> we always get the  exception below. Maybe we are missing something, but don't know what.</p>\n\n<pre><code>**Uncaught TypeError: dataHost._templatized._notifyPath is not a function**\nPolymer.Templatizer._notifyPathUpImpl @ index.html\n_ijt=afoakvu673o0o9qkl500u98qfp:11533Polymer.Base._addFeature._notifyPath @ index.html\n_ijt=afoakvu673o0o9qkl500u98qfp:8009Polymer.Base._addFeature.set @ index.html\n_ijt=afoakvu673o0o9qkl500u98qfp:8108(anonymous function) @ index.html\n_ijt=afoakvu673o0o9qkl500u98qfp:7118Polymer.Base._addFeature._notifyListener @ index.html\n_ijt=afoakvu673o0o9qkl500u98qfp:7885(anonymous function) @ index.html\n_ijt=afoakvu673o0o9qkl500u98qfp:7151Polymer.Base._addFeature.fire @ index.html\n_ijt=afoakvu673o0o9qkl500u98qfp:6627Polymer.Bind._modelApi._notifyChange @ index.html\n_ijt=afoakvu673o0o9qkl500u98qfp:6904Polymer.Base.extend._notifyEffect @ index.html\n_ijt=afoakvu673o0o9qkl500u98qfp:7185Polymer.Bind._modelApi._effectEffects @ index.html\n_ijt=afoakvu673o0o9qkl500u98qfp:6962Polymer.Bind._modelApi._propertySetter @ index.html\n_ijt=afoakvu673o0o9qkl500u98qfp:6937setter @ index.html\n</code></pre>\n\n<p>...</p>\n"}, {"tags": ["inheritance", "angular", "dart", "components", "viewchild"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1474057110, "post_id": 39537405, "comment_id": 66392949, "body": "Never seen <code>quieries</code> ind <code>@Component()</code> mentioned before. I knew about the <code>@Query()</code> annotation for constructor parameters but it is deprecated for as long as I used Angular2 (since late alpha). Your query seems to query elements from the template. I don&#39;t understand how this relates to &quot;ancestors&quot;"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1474057199, "post_id": 39537405, "comment_id": 66392993, "body": "AFAIK <code>@ViewChild(ren)</code> and <code>@ContentChild(ren)</code> are built on top of <code>@Query</code> and I wouldn&#39;t expect <code>@Query</code> to do something substantial different."}], "answers": [{"tags": [], "owner": {"reputation": 5606, "user_id": 374798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53255beb029d8a0074a6a65c9d3f63c?s=128&d=identicon&r=PG", "display_name": "Nate Bosch", "link": "https://stackoverflow.com/users/374798/nate-bosch"}, "is_accepted": false, "score": 1, "last_activity_date": 1503095813, "creation_date": 1503095813, "answer_id": 45765873, "question_id": 39537405, "link": "https://stackoverflow.com/questions/39537405/dart-replacing-viewchildren-by-queries/45765873#45765873", "title": "dart: replacing ViewChildren by queries", "body": "<p>As of angular 4.0.0-alpha+1 it will inherit the annotation from the parent if you use <code>@ViewChildren</code> on the field in the parent class. The <code>queries</code> argument to <code>Component</code> will be going away.</p>\n"}], "owner": {"reputation": 2034, "user_id": 1704895, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/SvOnC.jpg?s=128&g=1", "display_name": "Cequiel", "link": "https://stackoverflow.com/users/1704895/cequiel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1503095813, "creation_date": 1474048061, "question_id": 39537405, "link": "https://stackoverflow.com/questions/39537405/dart-replacing-viewchildren-by-queries", "title": "dart: replacing ViewChildren by queries", "body": "<p>I know that I could use the <code>@ViewChildren</code> annotation to access DOM elements. But, in this particular case, the <code>entries</code> property is defined in the ancestor component (<code>MenuComp</code>). So I tried to use the <code>queries</code> property, as follows:</p>\n\n<pre><code>@Component(\n    selector: 'my-component',\n    template: '''\n    &lt;ul&gt;\n      &lt;subentry-comp #entries *ngFor=\"let item of items\" [item]=\"item\"&gt;&lt;/subentry-comp&gt;\n    &lt;/ul&gt;''',\n    inputs: const &lt;String&gt;['items'],\n    queries: const &lt;String, dynamic&gt;{'entries': const ViewChildren('entries')})\nclass SubmenuComp extends MenuComp {}\n</code></pre>\n\n<p>But <code>entries</code> is still null. Am I using the <code>queries</code> property in a wrong way?</p>\n"}, {"tags": ["dart", "webstorm"], "comments": [{"owner": {"reputation": 136418, "user_id": 783119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bbfd3e5e9f8b698abf7cd1c7aae7a10?s=128&d=identicon&r=PG", "display_name": "LazyOne", "link": "https://stackoverflow.com/users/783119/lazyone"}, "edited": false, "score": 0, "creation_date": 1474016227, "post_id": 39525413, "comment_id": 66369676, "body": "WebStorm cannot open multiple projects in one frame/window while having separate project settings for each of them (like VS does, for example) -- only one project per frame. If you still need to work with some code from multiple projects .. you can add other project folders as Additional Content Roots (<code>Settings&#47;Preferences | Directories</code>) -- they will be listed as additional nodes in a Project View (well, actual project is just a single main Content Root) and will be treated as part of this project (no separate settings)"}, {"owner": {"reputation": 1636, "user_id": 999080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6967289baca601572cbec9c638e177ff?s=128&d=identicon&r=PG", "display_name": "Alexander Doroshko", "link": "https://stackoverflow.com/users/999080/alexander-doroshko"}, "edited": false, "score": 0, "creation_date": 1474019985, "post_id": 39525413, "comment_id": 66371991, "body": "&quot;actual project is just a single main Content Root&quot;. Not sure what you mean by an &#39;actual project&#39;. All content roots are equal, there&#39;s no more important or less important or main content root."}, {"owner": {"reputation": 136418, "user_id": 783119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bbfd3e5e9f8b698abf7cd1c7aae7a10?s=128&d=identicon&r=PG", "display_name": "LazyOne", "link": "https://stackoverflow.com/users/783119/lazyone"}, "reply_to_user": {"reputation": 1636, "user_id": 999080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6967289baca601572cbec9c638e177ff?s=128&d=identicon&r=PG", "display_name": "Alexander Doroshko", "link": "https://stackoverflow.com/users/999080/alexander-doroshko"}, "edited": false, "score": 0, "creation_date": 1474022611, "post_id": 39525413, "comment_id": 66373646, "body": "@AlexanderDoroshko I meant that WebStorm project by default consists of a single Content Root; so code in additional one(s) will be treated in the same manner."}], "answers": [{"comments": [{"owner": {"reputation": 1636, "user_id": 999080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6967289baca601572cbec9c638e177ff?s=128&d=identicon&r=PG", "display_name": "Alexander Doroshko", "link": "https://stackoverflow.com/users/999080/alexander-doroshko"}, "edited": false, "score": 0, "creation_date": 1474019780, "post_id": 39525496, "comment_id": 66371854, "body": "&quot;I did&#39;t bother to try to understand how this exactly work&quot;. It looks easy and straight-forward to me. You open Settings (Preferences) | Directories and add Content Roots."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 1636, "user_id": 999080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6967289baca601572cbec9c638e177ff?s=128&d=identicon&r=PG", "display_name": "Alexander Doroshko", "link": "https://stackoverflow.com/users/999080/alexander-doroshko"}, "edited": false, "score": 0, "creation_date": 1474025347, "post_id": 39525496, "comment_id": 66375209, "body": "@AlexanderDoroshko Perhaps I should look again now, but when I started using WebStorm with Dart there were several things with content roots and included and excluded directories that caused lots of troubles. I assume that these issues are fixed since a long time, but I&#39;m just fine with my current setup and don&#39;t miss anything."}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 2, "last_activity_date": 1474009196, "creation_date": 1474009196, "answer_id": 39525496, "question_id": 39525413, "link": "https://stackoverflow.com/questions/39525413/webstorm-solution-with-several-dart-projects/39525496#39525496", "title": "WebStorm solution with several Dart projects", "body": "<p>You can put the project directories together in a directory and then open that directory instead. </p>\n\n<p>There are also ways with project root configurations to do that with projects that are not in the same directory but I did't bother to try to understand how this exactly work.</p>\n\n<p>I moved away from this setup and use different windows for different projects a while ago because I don't want to maintain project configurations. I have many Dart projects that are reusable packages that I use in many other projects. </p>\n\n<p>Using one window for one Dart package seems to be the easiest setup.\nI configured keyboard shortcuts (there are probably defaults anyway) for easier switching between WebStorm windows.</p>\n"}, {"tags": [], "owner": {"reputation": 1636, "user_id": 999080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6967289baca601572cbec9c638e177ff?s=128&d=identicon&r=PG", "display_name": "Alexander Doroshko", "link": "https://stackoverflow.com/users/999080/alexander-doroshko"}, "is_accepted": false, "score": 3, "last_activity_date": 1474019729, "creation_date": 1474019729, "answer_id": 39528594, "question_id": 39525413, "link": "https://stackoverflow.com/questions/39525413/webstorm-solution-with-several-dart-projects/39528594#39528594", "title": "WebStorm solution with several Dart projects", "body": "<p>You can configure as many content roots as you want in one WebStorm project, see Settings (Preferences) | Directories. \nSee also <a href=\"https://www.jetbrains.com/help/webstorm/directories.html\" rel=\"nofollow\">https://www.jetbrains.com/help/webstorm/directories.html</a> and <a href=\"https://www.jetbrains.com/help/webstorm/content-root.html\" rel=\"nofollow\">https://www.jetbrains.com/help/webstorm/content-root.html</a></p>\n"}], "owner": {"reputation": 23, "user_id": 6379969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7fbab7c16d86fcb482e0d93aae775ff?s=128&d=identicon&r=PG&f=1", "display_name": "M. Mossner", "link": "https://stackoverflow.com/users/6379969/m-mossner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 39525496, "answer_count": 2, "score": 2, "last_activity_date": 1474019729, "creation_date": 1474008910, "question_id": 39525413, "link": "https://stackoverflow.com/questions/39525413/webstorm-solution-with-several-dart-projects", "title": "WebStorm solution with several Dart projects", "body": "<p>I develop Dart with WebStorm. I have a server-project, a client-project and some shared code. </p>\n\n<p>Is it possible to create a project solution, containing several Dart projects (like you can do in VisualStudio)? Or is it common to develop each project in it's own WebStorm window?</p>\n"}, {"tags": ["angular", "dart"], "answers": [{"comments": [{"owner": {"reputation": 4756, "user_id": 272425, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/af6977727f08b19d0701465099e54aac?s=128&d=identicon&r=PG", "display_name": "Fabian", "link": "https://stackoverflow.com/users/272425/fabian"}, "edited": false, "score": 0, "creation_date": 1474005320, "post_id": 39519076, "comment_id": 66364403, "body": "Well I am using pub serve and Dartium so I thought that would be a development setup."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 4756, "user_id": 272425, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/af6977727f08b19d0701465099e54aac?s=128&d=identicon&r=PG", "display_name": "Fabian", "link": "https://stackoverflow.com/users/272425/fabian"}, "edited": false, "score": 0, "creation_date": 1474005406, "post_id": 39519076, "comment_id": 66364442, "body": "I just mentioned that so you are aware that there is a difference. The other parts of my answer apply no matter what mode you use. You probably get different errors depending on the mode."}, {"owner": {"reputation": 4756, "user_id": 272425, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/af6977727f08b19d0701465099e54aac?s=128&d=identicon&r=PG", "display_name": "Fabian", "link": "https://stackoverflow.com/users/272425/fabian"}, "edited": false, "score": 0, "creation_date": 1474006352, "post_id": 39519076, "comment_id": 66364833, "body": "Thanks and I now know and I fully understand that. I was just wondering why my error went silent, but that is explained by the production mode. Still I have no idea how to bind a DateTime. I e.g. tried: [ngModel]=&quot;event.startDate | date: &#39;y-M-d&#39;&quot; to set the initial value but that ends up in a display of &#39;tt.mm.jjjj&#39;"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 4756, "user_id": 272425, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/af6977727f08b19d0701465099e54aac?s=128&d=identicon&r=PG", "display_name": "Fabian", "link": "https://stackoverflow.com/users/272425/fabian"}, "edited": false, "score": 0, "creation_date": 1474007033, "post_id": 39519076, "comment_id": 66365113, "body": "<code>ngModel</code> uses the <code>value&#180; property. Check https:&#47;&#47;dartpad.dartlang.org&#47;191ca4b46d0ea30cafa67e536e46f14&zwnj;&#8203;1. Select a date and click the button, then check the console output (link on the top right). What you can do is bind to a getter&#47;setter that converts between </code>String` and <code>DateTime</code> or build a custom <code>MyDateTimeComponent</code> component  with a <code>ControlValueAccessor</code> that wraps <code>&lt;input type=&quot;datetime&quot;&gt;</code> for easier reuse  (this still requires you to implement the conversion between <code>String</code> and <code>DateTime</code>."}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1473968345, "creation_date": 1473968345, "answer_id": 39519076, "question_id": 39518996, "link": "https://stackoverflow.com/questions/39518996/angular2-dart-datetime-not-type-save/39519076#39519076", "title": "Angular2 dart DateTime not type save?", "body": "<p>In production mode there are not type information. They are only available in checked (development mode). </p>\n\n<p>It's not clear what mode you're using.</p>\n\n<p>The Input elements value is a string and you need to take care yourself to get it in <code>DateTime</code> format (<code>DateTime.parse()</code>). \nJust because a variable you use is of type <code>DateTime</code> doesn't mean anything you \"throw\" at it automatically becomes a valid date.</p>\n"}, {"tags": [], "owner": {"reputation": 4756, "user_id": 272425, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/af6977727f08b19d0701465099e54aac?s=128&d=identicon&r=PG", "display_name": "Fabian", "link": "https://stackoverflow.com/users/272425/fabian"}, "is_accepted": true, "score": 0, "last_activity_date": 1474355426, "creation_date": 1474355426, "answer_id": 39587808, "question_id": 39518996, "link": "https://stackoverflow.com/questions/39518996/angular2-dart-datetime-not-type-save/39587808#39587808", "title": "Angular2 dart DateTime not type save?", "body": "<p>So I now took G\u00fcnters advice and solved this with the following construct:</p>\n\n<pre><code>class Event {\n  final int id;\n  DateTime startDate;\n\n  String get startDateStr {\n    var formatter = new DateFormat('yyyy-MM-dd');\n    return formatter.format(startDate);\n  }\n\n  void set startDateStr(String date) {\n    startDate = DateTime.parse(date);\n  }\n}\n</code></pre>\n\n<p>With this extra properties it is now possible to write the following in the html template:</p>\n\n<pre><code>&lt;div class=\"form-group\"&gt;\n  &lt;label for=\"start_date\"&gt;Start Date&lt;/label&gt;\n  &lt;input type=\"date\" class=\"form-control\" required\n         [(ngModel)]=\"event.startDateStr\"\n         ngControl=\"start_date\"\n         #start_date=\"ngForm\"&gt;\n  &lt;div [hidden]=\"start_date.valid\" class=\"alert alert-danger\"&gt;\n    Start date is required\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This looks to me the cleanest and preserves the Event class structure. I still would be interested if there is a common pattern for something like this, if yes please comment on my answer.</p>\n"}], "owner": {"reputation": 4756, "user_id": 272425, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/af6977727f08b19d0701465099e54aac?s=128&d=identicon&r=PG", "display_name": "Fabian", "link": "https://stackoverflow.com/users/272425/fabian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "accepted_answer_id": 39587808, "answer_count": 2, "score": 1, "last_activity_date": 1474355426, "creation_date": 1473968041, "question_id": 39518996, "link": "https://stackoverflow.com/questions/39518996/angular2-dart-datetime-not-type-save", "title": "Angular2 dart DateTime not type save?", "body": "<p>I have an Angular2 Dart application where I have the following type defined.</p>\n\n<pre><code>class Event {\n  final int id;\n  DateTime startDate;\n}\n</code></pre>\n\n<p>I now want to let the user input a new date so I bind this field the following.</p>\n\n<pre><code>&lt;div class=\"form-group\"&gt;\n  &lt;label for=\"start_date\"&gt;Start Date&lt;/label&gt;\n  &lt;input type=\"text\" class=\"form-control\" required\n         [(ngModel)]=\"event.startDate\"\n         ngControl=\"start_date\"\n         #start_date=\"ngForm\"&gt;\n  &lt;div [hidden]=\"start_date.valid\" class=\"alert alert-danger\"&gt;\n    Start date is required\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Now I am surprised to see that the user can input an invalid date string and that if I e.g. do a print(event.startDate) I get this invalid string. My impression was that the DateTime variable would be type safe but it just seems to behave like an ordinary string. What am I missing. I understand that I would need to add validators but why do I have a type defined in the first place? I would at least expect it to blow up :-)</p>\n\n<p>So how would you go about entering dates correctly? If I change the input type to \"date\" then it can't even load the inital value due to the time part of the DateTime.</p>\n"}, {"tags": ["dart"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1473946573, "post_id": 39512455, "comment_id": 66340819, "body": "Looks like a dup of <a href=\"http://stackoverflow.com/questions/13595098/how-to-trigger-a-keyboardevent-in-dart\" title=\"how to trigger a keyboardevent in dart\">stackoverflow.com/questions/13595098/&hellip;</a>"}, {"owner": {"reputation": 2009, "user_id": 2141794, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/79a98b10be364eeb72f6133c364f1692?s=128&d=identicon&r=PG", "display_name": "matth3o", "link": "https://stackoverflow.com/users/2141794/matth3o"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1473947053, "post_id": 39512455, "comment_id": 66341185, "body": "I wanted to use the <code>event.trigger</code> from the google maps library, but maybe this can be done via the <code>dispatch</code> method."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1473949093, "post_id": 39512455, "comment_id": 66342716, "body": "I guess the main problem is to create a <code>KeyboardEvent</code> with the right keycode and other properties set."}, {"owner": {"reputation": 29609, "user_id": 492335, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e5594b71e9f54f3e73f6294b054f5616?s=128&d=identicon&r=PG", "display_name": "duncan", "link": "https://stackoverflow.com/users/492335/duncan"}, "edited": false, "score": 0, "creation_date": 1473950740, "post_id": 39512455, "comment_id": 66343929, "body": "The Google Maps Api&#39;s <code>trigger</code> is really for objects in the google.maps class, not text input fields."}, {"owner": {"reputation": 2009, "user_id": 2141794, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/79a98b10be364eeb72f6133c364f1692?s=128&d=identicon&r=PG", "display_name": "matth3o", "link": "https://stackoverflow.com/users/2141794/matth3o"}, "edited": false, "score": 0, "creation_date": 1473954214, "post_id": 39512455, "comment_id": 66346269, "body": "Thanks for your replies. I tried <code>event.trigger(input, &#39;keydown&#39;, {&quot;keyCode&quot;: 40});</code> without any success."}, {"owner": {"reputation": 2009, "user_id": 2141794, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/79a98b10be364eeb72f6133c364f1692?s=128&d=identicon&r=PG", "display_name": "matth3o", "link": "https://stackoverflow.com/users/2141794/matth3o"}, "edited": false, "score": 0, "creation_date": 1473955853, "post_id": 39512455, "comment_id": 66347264, "body": "I also tried with only the methods of dart html packages, but it doesn&#39;t work : input.onKeyPress.listen((KeyboardEvent e) {       if(e.keyCode == html.KeyCode.ENTER) {         html.window.dispatchEvent(new html.KeyboardEvent(&quot;keypress&quot;, keyLocation: html.KeyCode.DOWN));       }     });"}], "answers": [{"comments": [{"owner": {"reputation": 2009, "user_id": 2141794, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/79a98b10be364eeb72f6133c364f1692?s=128&d=identicon&r=PG", "display_name": "matth3o", "link": "https://stackoverflow.com/users/2141794/matth3o"}, "edited": false, "score": 0, "creation_date": 1473958894, "post_id": 39516306, "comment_id": 66348922, "body": "Thanks for your answer. Unfortunately it still doesn&#39;t work, the suggested addresses are still there but the first choice hasn&#39;t the focus, like it should have if I press the down key."}], "tags": [], "owner": {"reputation": 51074, "user_id": 634863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198449a7e196c4b0f2ed25f65279bf84?s=128&d=identicon&r=PG", "display_name": "Alexandre Ardhuin", "link": "https://stackoverflow.com/users/634863/alexandre-ardhuin"}, "is_accepted": false, "score": 2, "last_activity_date": 1474037758, "last_edit_date": 1474037758, "creation_date": 1473957807, "answer_id": 39516306, "question_id": 39512455, "link": "https://stackoverflow.com/questions/39512455/dart-google-maps-triggering-event/39516306#39516306", "title": "dart google-maps - triggering event", "body": "<p>The following code should work:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:js_util' show jsify;\n\nevent.addDomListener(input, 'keypress', (e) {\n  assert(e is html.KeyboardEvent);\n  if (e.keyCode == html.KeyCode.ENTER) {\n      event.trigger(input, 'keydown', jsify({'keyCode': html.KeyCode.DOWN}));\n  }\n});\n</code></pre>\n\n<p>You can alternatively use the following to trigger events:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>input.dispatchEvent(new html.KeyEvent('keydown', keyCode: html.KeyCode.DOWN));\n</code></pre>\n"}], "owner": {"reputation": 2009, "user_id": 2141794, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/79a98b10be364eeb72f6133c364f1692?s=128&d=identicon&r=PG", "display_name": "matth3o", "link": "https://stackoverflow.com/users/2141794/matth3o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1474037758, "creation_date": 1473946435, "last_edit_date": 1474010507, "question_id": 39512455, "link": "https://stackoverflow.com/questions/39512455/dart-google-maps-triggering-event", "title": "dart google-maps - triggering event", "body": "<p>I try to add a listener to my autocomplete box in order to select the first choice when pressing enter but it doesn't work.</p>\n\n<pre><code>event.addDomListener(input, 'keypress', (e) {\n  if (e.keyCode == 13) {\n    event.trigger(html.document.getElementById('pac-input').innerHtml, 'keydown',\n        html.KeyCode.DOWN);\n  }\n});\n</code></pre>\n\n<p>I am not sure concerning </p>\n\n<pre><code>html.document.getElementById('pac-input').innerHtml\n</code></pre>\n\n<p>Thanks for your help.</p>\n\n<p>[edit]</p>\n\n<p>I use angular2.0.0-beta.21.</p>\n\n<p>My template is :</p>\n\n<pre><code>&lt;input id=\"pac-input\" class=\"controls\" type=\"text\"\n   placeholder=\"Enter a location\"&gt;\n&lt;div id=\"map-canvas\" style=\"height: 500px;\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>and my component :</p>\n\n<pre><code> @Component(\n     selector: 'myComponent',\n     templateUrl: 'template.html',\n     pipes: const [IntlPipe]\n )\n class MyComponent implements OnInit {\n\n   final UserService _userService;\n   final IntlService _intlService;\n\n   Autocomplete autocomplete;\n\n   GMap map;\n\n   String infoMessage = \"\";\n   String errorMessage = \"\";\n\n   CornersComponent(this._userService, this._intlService);\n\n   @override\n   ngOnInit() {\n     var mapOptions = new MapOptions()\n       ..zoom = 13\n       ..maxZoom = 19\n       ..minZoom = 12\n       ..center = new LatLng(48.871083, 2.346348)\n       ..mapTypeId = MapTypeId.ROADMAP\n       ..streetViewControl = false\n       ..panControl = false\n       ..mapTypeControl = false\n       ..scrollwheel = false\n       ..styles = &lt;MapTypeStyle&gt;[\n         new MapTypeStyle()\n           ..featureType = MapTypeStyleFeatureType.POI_BUSINESS\n           ..elementType = MapTypeStyleElementType.LABELS\n           ..stylers = &lt;MapTypeStyler&gt;[\n             new MapTypeStyler()\n               ..visibility = 'off'\n           ]\n       ];\n\n     map = new GMap(html.querySelector(\"#map-canvas\"), mapOptions);\n\n     var input = html.document.getElementById('pac-input') as html\n         .InputElement;\n     map.controls[ControlPosition.TOP_LEFT].push(input);\n     autocomplete = new Autocomplete(input);\n     autocomplete.bindTo('bounds', map);\n\n     final infowindow = new InfoWindow();\n     final marker = new Marker(new MarkerOptions()\n       ..map = map\n       ..anchorPoint = new Point(0, -29));\n\n\n     autocomplete.onPlaceChanged.listen((_) {\n       infowindow.close();\n       marker.visible = false;\n\n       final place = autocomplete.place;\n       if (place.geometry == null) {\n         return;\n       }\n\n       // If the place has a geometry, then present it on a map.\n       if (place.geometry.viewport != null) {\n         map.fitBounds(place.geometry.viewport);\n       } else {\n         map.center = place.geometry.location;\n         map.zoom = 15; // Why 17? Because it looks good.\n       }\n\n       marker.icon = new Icon()\n         ..url = place.icon\n         ..size = new Size(71, 71)\n         ..origin = new Point(0, 0)\n         ..anchor = new Point(17, 34)\n         ..scaledSize = new Size(35, 35);\n       marker.position = place.geometry.location;\n       marker.visible = true;\n\n       String address = '';\n       if (place.addressComponents != null) {\n         address = [\n           (place.addressComponents[0] != null &amp;&amp;\n               place.addressComponents[0].shortName != null\n               ? place.addressComponents[0].shortName\n               : ''),\n           (place.addressComponents[1] != null &amp;&amp;\n               place.addressComponents[1].shortName != null\n               ? place.addressComponents[1].shortName\n               : ''),\n           (place.addressComponents[2] != null &amp;&amp;\n               place.addressComponents[2].shortName != null\n               ? place.addressComponents[2].shortName\n               : '')\n         ].join(' ');\n       }\n\n       infowindow.content = '&lt;div&gt;&lt;strong&gt;${place.name}&lt;/strong&gt;&lt;br&gt;${address}';\n       infowindow.open(map, marker);\n     });     \n\n    event.addDomListener(input, 'keypress', (e) {\n        assert(e is html.KeyboardEvent);\n        if (e.keyCode == html.KeyCode.ENTER) {\n             event.trigger(input, 'keydown',\n             new html.KeyEvent('keydown', keyCode: html.KeyCode.DOWN));\n  }\n});\n   }\n }\n</code></pre>\n\n<p>I have found a workaround : </p>\n\n<p>Calling at the end on the <code>ngOnInit</code> method : <code>\n    context.callMethod('myJavascriptMethod');</code></p>\n\n<pre><code>function myJavascriptMethod() {\n    var input = document.getElementById('pac-input');\n    google.maps.event.addDomListener(input, 'keypress', function (e) {\n\n        if (e.keyCode === 13) {\n            google.maps.event.trigger(this, 'keydown', {\"keyCode\": 40});\n\n        }\n    });\n}\n</code></pre>\n"}, {"tags": ["dart", "versioning"], "answers": [{"comments": [{"owner": {"reputation": 2009, "user_id": 2141794, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/79a98b10be364eeb72f6133c364f1692?s=128&d=identicon&r=PG", "display_name": "matth3o", "link": "https://stackoverflow.com/users/2141794/matth3o"}, "edited": false, "score": 0, "creation_date": 1473929983, "post_id": 39506339, "comment_id": 66330338, "body": "Thanks for your reply."}, {"owner": {"reputation": 2009, "user_id": 2141794, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/79a98b10be364eeb72f6133c364f1692?s=128&d=identicon&r=PG", "display_name": "matth3o", "link": "https://stackoverflow.com/users/2141794/matth3o"}, "edited": false, "score": 0, "creation_date": 1473930367, "post_id": 39506339, "comment_id": 66330530, "body": "When I only left the 2 dependencies (angular2: 2.0.0-beta.21,  google_maps: 3.1.0), the same error message shows up. What&#39;s weird it that code_transformers is not a dependency or transitive dependency of google_maps: 3.1.0. google_maps depends on js_wrapping wich depends on source_gen. source_gen currently has a dependency to code_transformers, but it hasn&#39;t in the version requested by google_maps: 3.1.0. It is possible &quot;pub get&quot; bugged ?"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 2009, "user_id": 2141794, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/79a98b10be364eeb72f6133c364f1692?s=128&d=identicon&r=PG", "display_name": "matth3o", "link": "https://stackoverflow.com/users/2141794/matth3o"}, "edited": false, "score": 1, "creation_date": 1473930509, "post_id": 39506339, "comment_id": 66330612, "body": "I had to add `  source_gen: ^0.5.1` to <code>dependency_overrides</code> to make <code>google_maps</code> work with <code>angular2</code>. It&#39;s a known issue of <code>js_wrapping</code>"}, {"owner": {"reputation": 2009, "user_id": 2141794, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/79a98b10be364eeb72f6133c364f1692?s=128&d=identicon&r=PG", "display_name": "matth3o", "link": "https://stackoverflow.com/users/2141794/matth3o"}, "edited": false, "score": 1, "creation_date": 1473931017, "post_id": 39506339, "comment_id": 66330931, "body": "Thanks, indeed i saw you already had this problem <a href=\"https://github.com/a14n/dart-js-wrapping/issues/10\" rel=\"nofollow noreferrer\">github.com/a14n/dart-js-wrapping/issues/10</a> :)"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 2009, "user_id": 2141794, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/79a98b10be364eeb72f6133c364f1692?s=128&d=identicon&r=PG", "display_name": "matth3o", "link": "https://stackoverflow.com/users/2141794/matth3o"}, "edited": false, "score": 0, "creation_date": 1473931055, "post_id": 39506339, "comment_id": 66330963, "body": "The error message from <code>pub get</code>/<code>pub upgrade</code> are often misleading as in your case. The Dart team is aware and are planning a bigger rework of the dependency resolver but that&#39;s quite a difficult task and good developers always have enough on their platter ..."}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1473927940, "creation_date": 1473927940, "answer_id": 39506339, "question_id": 39506273, "link": "https://stackoverflow.com/questions/39506273/dart-versioning-no-matching-version/39506339#39506339", "title": "Dart versioning - no matching version", "body": "<p>This means that <code>pub get</code> or <code>pub upgrade</code> could not find a set of dependencies that are compatible.</p>\n\n<p>Try to commenting out all dependencies except two and run <code>pub get</code> or <code>pub upgrade</code> again. Then add one dependency and run again and so on until you get the error. This way you can figure out what dependency causes the problem.</p>\n\n<p>Don't use <code>any</code> as dependency constraint in your <code>pubspec.yaml</code>. This is known to cause troubles because <code>pub</code> has to analyze the whole search space which is gigantic.</p>\n"}], "owner": {"reputation": 2009, "user_id": 2141794, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/79a98b10be364eeb72f6133c364f1692?s=128&d=identicon&r=PG", "display_name": "matth3o", "link": "https://stackoverflow.com/users/2141794/matth3o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 377, "favorite_count": 0, "accepted_answer_id": 39506339, "answer_count": 1, "score": 2, "last_activity_date": 1473927940, "creation_date": 1473927723, "question_id": 39506273, "link": "https://stackoverflow.com/questions/39506273/dart-versioning-no-matching-version", "title": "Dart versioning - no matching version", "body": "<p>In my angular2 project I don't manage to add the \"google_maps: 3.1.0\" dependency. \nIt seems that this library is in conflict with \"angular2: 2.0.0-beta.20\".</p>\n\n<p>The error message is :</p>\n\n<pre><code>Package code_transformers has no versions that match &gt;=0.4.1 &lt;0.5.0 derived from:\n- build 0.3.0 depends on version ^0.4.1\n</code></pre>\n\n<p>However, \"google_maps: 3.1.0\" do not contain \"code_transformers\" or \"build\" package in its dependencies and transitive dependencies.</p>\n\n<p>Thanks for your help.</p>\n"}]