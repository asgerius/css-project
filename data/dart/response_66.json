[{"tags": ["dart", "angular-dart", "dart-html"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1460562582, "post_id": 36603506, "comment_id": 60804071, "body": "Are you starting with Dart and Angular? Why not use Angular2 for Dart?"}, {"owner": {"reputation": 209, "user_id": 3613162, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9e9ad43b8345debc10fdde4d57b99c66?s=128&d=identicon&r=PG&f=1", "display_name": "user3613162", "link": "https://stackoverflow.com/users/3613162/user3613162"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1460567435, "post_id": 36603506, "comment_id": 60807355, "body": "Yes, I am already starting with Dart and Angular.  Is it an easy change to update everything to Angular2?"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1460568779, "post_id": 36603506, "comment_id": 60808153, "body": "No update to Angular2 won&#39;t be too easy. Angular.dart is quite stale (about 1,5 years). All effort goes into Angular2."}, {"owner": {"reputation": 209, "user_id": 3613162, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9e9ad43b8345debc10fdde4d57b99c66?s=128&d=identicon&r=PG&f=1", "display_name": "user3613162", "link": "https://stackoverflow.com/users/3613162/user3613162"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1460569936, "post_id": 36603506, "comment_id": 60808853, "body": "So without updating to Angular 2, is there a way to accomplish what I am trying to do?"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1460570050, "post_id": 36603506, "comment_id": 60808929, "body": "Sorry, I don&#39;t know. It&#39;s too long ago that I used Angular.dart. I&#39;m just wondering why now more and more Angular.dart questions appear on SO after such a long time of silence. Some of them turned out to be a misunderstanding about what Angular.dart is related to Angular2 for Dart. Therefore I figured I just ask."}], "owner": {"reputation": 209, "user_id": 3613162, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9e9ad43b8345debc10fdde4d57b99c66?s=128&d=identicon&r=PG&f=1", "display_name": "user3613162", "link": "https://stackoverflow.com/users/3613162/user3613162"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1460562431, "creation_date": 1460562431, "question_id": 36603506, "link": "https://stackoverflow.com/questions/36603506/how-can-i-access-a-custom-angular-dart-component-from-within-a-different-compone", "title": "How can I access a custom angular dart component from within a different component that uses it?", "body": "<p>Is there a way to access a component used in a different component's dart file?</p>\n\n<p>Component1.dart</p>\n\n<pre><code>@Component(\n    selector: 'comp1',\n    templateUrl: 'packages/comp1_package/Component1.html',\n    cssUrl: 'packages/comp1_package/Component1.css',\n    useShadowDom: false)\nclass Component1 {\n  Component1 get comp1ctrl =&gt; this;\n\n  Component1()  {\n\n  }\n\n  void testing() {\n      // WANT TO CALL COMP2 printTest HERE\n  }\n}\n</code></pre>\n\n<p>Component1.html</p>\n\n<pre><code>&lt;div id=\"mainTab\" class=\"maincontainer\"&gt;\n    &lt;comp2&gt;&lt;/comp2&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Component2.dart</p>\n\n<pre><code>@Component(\n    selector: 'comp2',\n    templateUrl: 'packages/comp2_package/Component2.html',\n    cssUrl: 'packages/comp2_package/Component2.css',\n    useShadowDom: false)\nclass Component2 {\n  Component2 get comp2ctrl =&gt; this;\n\n  Component2()  {\n\n  }\n\n  void printTest() {\n      print(\"PRINTING FROM IN COMP2\");\n  }\n}\n</code></pre>\n\n<p>Component2.html</p>\n\n<pre><code>&lt;h3&gt;TEST HEADER&lt;/h3&gt;\n</code></pre>\n\n<p>How can I get access to the Component2 object in Component1.dart and be able to call a method in it?  Any help would be appreciated!</p>\n"}, {"tags": ["dart", "polymer", "paper-elements"], "comments": [{"owner": {"reputation": 479, "user_id": 2001554, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1b78a957dda49ae7f600667156f0f433?s=128&d=identicon&r=PG", "display_name": "Vitaliy Vostrikov", "link": "https://stackoverflow.com/users/2001554/vitaliy-vostrikov"}, "edited": false, "score": 0, "creation_date": 1461052384, "post_id": 36603278, "comment_id": 61010412, "body": "I get answer on this page: <a href=\"http://stackoverflow.com/questions/36689312/programmatically-create-polymer-elements-in-dart\" title=\"programmatically create polymer elements in dart\">stackoverflow.com/questions/36689312/&hellip;</a>"}], "owner": {"reputation": 479, "user_id": 2001554, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1b78a957dda49ae7f600667156f0f433?s=128&d=identicon&r=PG", "display_name": "Vitaliy Vostrikov", "link": "https://stackoverflow.com/users/2001554/vitaliy-vostrikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 135, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1460561879, "creation_date": 1460561879, "question_id": 36603278, "link": "https://stackoverflow.com/questions/36603278/bwudatagrid-and-paperdropdownmenu-like-a-field-editor", "title": "BwuDatagrid and PaperDropdownMenu like a field editor", "body": "<p>I try add custom editor for BwuDatagrid in newInstance I tried to write:</p>\n\n<pre><code>PaperDropdownMenu dropMenu = new dom.Element.tag('paper-dropdown-menu');\n\nPaperListbox listBox = new dom.Element.tag('paper-listbox');\n\nmakePapersElements(){\n  List _items = new List();\n\n  for (var i = 0; i &lt; 13; i++){\n    PaperItem item = new dom.Element.tag('paper-item');\n    item.text = i;\n\n    _items.add(item);\n  }\n\n  return  _items;\n}\n\nList&lt;PaperItem&gt; items  = makePapersElements();\n\nlistBox.children.addAll(items);\n\ndropMenu.append(listBox);\n\nargs.container.append(dropMenu);\nlistBox.selected = 2;\n</code></pre>\n\n<p>But i have got wrong structure:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZMjU6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZMjU6.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then I try:</p>\n\n<pre><code>args.container.appendHtml(\n    ''' &lt;paper-material&gt;\n          &lt;paper-dropdown-menu class='dropdown-menu'&gt;\n          &lt;paper-listbox class=\"dropdown-content\"&gt;\n          &lt;/paper-listbox&gt;\n        &lt;/paper-dropdown-menu&gt;\n        &lt;/paper-material&gt;''',\n    treeSanitizer: new NullTreeSanitizer());\n\nPaperDropdownMenu menu = dom.querySelector('paper-dropdown-menu');\nPaperListbox listbox = menu.querySelector('paper-listbox');\n\nlistbox.nodes.addAll(makePapersElements());\n\nlistbox.selected = 8;\n</code></pre>\n\n<p>With treeSanitizer:</p>\n\n<pre><code>class NullTreeSanitizer implements dom.NodeTreeSanitizer {\n  void sanitizeTree(node) {}\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/uA3Q5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uA3Q5.png\" alt=\"enter image description here\"></a></p>\n\n<p>It's works, but position of selected element not in focus.\nAnd scrollTop does not work too:</p>\n\n<pre><code>listbox.scrollTop = 120;\n</code></pre>\n\n<p>How I can focus selected element in paper-dropdown-menu?</p>\n"}, {"tags": ["dart", "dart-async"], "answers": [{"comments": [{"owner": {"reputation": 2059, "user_id": 2142626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0aa8432aa19f3d54166381e01e77097d?s=128&d=identicon&r=PG", "display_name": "Brett", "link": "https://stackoverflow.com/users/2142626/brett"}, "edited": false, "score": 0, "creation_date": 1460466071, "post_id": 36572309, "comment_id": 60746743, "body": "I think this has gotten me closer to an answer, but it isn&#39;t the answer. The thing is, the n input Streams will present in a random order. I want to hold off generating any result through the output Stream until I have seen at least one entry from each input Stream, and there after a new result through the output Stream each time one of the input Streams fire. Think of this as a reactive stream fusion, if you like."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 2059, "user_id": 2142626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0aa8432aa19f3d54166381e01e77097d?s=128&d=identicon&r=PG", "display_name": "Brett", "link": "https://stackoverflow.com/users/2142626/brett"}, "edited": false, "score": 0, "creation_date": 1460466616, "post_id": 36572309, "comment_id": 60747275, "body": "Looks like <code>Combine.all(List&lt;String&gt;)</code> <a href=\"https://pub.dartlang.org/packages/stream_transformers#combine\" rel=\"nofollow noreferrer\">pub.dartlang.org/packages/stream_transformers#combine</a> does what you want."}, {"owner": {"reputation": 2939, "user_id": 652220, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/B3Bm7.png?s=128&g=1", "display_name": "Argenti Apparatus", "link": "https://stackoverflow.com/users/652220/argenti-apparatus"}, "edited": false, "score": 3, "creation_date": 1460479739, "post_id": 36572309, "comment_id": 60757917, "body": "I have not have a chance to look at that library, but one thing I would be cautious about is single subscription streams and their ability to buffer events. If many events are delivered to one stream while the other is starved, the first will have to buffer while you wait for events on the second."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1460479876, "post_id": 36572309, "comment_id": 60758013, "body": "Or they pause the subscription. If the <code>StreamController</code> is set up correctly it shouldn&#39;t produce events while paused (might not be possible, depending on the use case)."}, {"owner": {"reputation": 2939, "user_id": 652220, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/B3Bm7.png?s=128&g=1", "display_name": "Argenti Apparatus", "link": "https://stackoverflow.com/users/652220/argenti-apparatus"}, "edited": false, "score": 1, "creation_date": 1460489835, "post_id": 36572309, "comment_id": 60763921, "body": "Presumably if one needs to do this kind of processing one can get some guarantees about the arrival of events on the A and B streams; and define the conditions under which an error occurs."}, {"owner": {"reputation": 2939, "user_id": 652220, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/B3Bm7.png?s=128&g=1", "display_name": "Argenti Apparatus", "link": "https://stackoverflow.com/users/652220/argenti-apparatus"}, "reply_to_user": {"reputation": 2059, "user_id": 2142626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0aa8432aa19f3d54166381e01e77097d?s=128&d=identicon&r=PG", "display_name": "Brett", "link": "https://stackoverflow.com/users/2142626/brett"}, "edited": false, "score": 0, "creation_date": 1460501211, "post_id": 36572309, "comment_id": 60769687, "body": "@Brett, does lrn&#39;s solution not work for you? It looks like it does what you want based on your first comment on this answer."}, {"owner": {"reputation": 2059, "user_id": 2142626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0aa8432aa19f3d54166381e01e77097d?s=128&d=identicon&r=PG", "display_name": "Brett", "link": "https://stackoverflow.com/users/2142626/brett"}, "reply_to_user": {"reputation": 2939, "user_id": 652220, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/B3Bm7.png?s=128&g=1", "display_name": "Argenti Apparatus", "link": "https://stackoverflow.com/users/652220/argenti-apparatus"}, "edited": false, "score": 1, "creation_date": 1460607462, "post_id": 36572309, "comment_id": 60824243, "body": "@ArgentiApparatus By the looks of things, @lrn&#39;s utilisation of StreamZipper locks me into having to have the number of changes on <code>Stream&lt;A&gt;</code> and <code>Stream&lt;B&gt;</code> be exactly equal and matching in timing. The source of data for the streams are different points in a Firebase database, and thus the updates are at random points in time, and most definitely not equal in number. So, no, not really.  I&#39;ll accept it anyway, because it answers the question as asked."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1460607677, "post_id": 36572309, "comment_id": 60824317, "body": "How should it work then? Exactly one event of each stream but the streams don&#39;t provide the same number of events, doesn&#39;t sound like compatible requirements."}, {"owner": {"reputation": 2939, "user_id": 652220, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/B3Bm7.png?s=128&g=1", "display_name": "Argenti Apparatus", "link": "https://stackoverflow.com/users/652220/argenti-apparatus"}, "reply_to_user": {"reputation": 2059, "user_id": 2142626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0aa8432aa19f3d54166381e01e77097d?s=128&d=identicon&r=PG", "display_name": "Brett", "link": "https://stackoverflow.com/users/2142626/brett"}, "edited": false, "score": 3, "creation_date": 1460632913, "post_id": 36572309, "comment_id": 60838943, "body": "@Brett StreamZip does not require the events on A and B to arrive at the same time. When it receives an event from one stream it waits for an event from the other. I&#39;m not sure what StreamZip does when one stream closes but I assume it quits listening to other streams.  However, If your A and B events are not really &#39;paired&#39; I don&#39;t think the zipping streams approach is going to work for you."}, {"owner": {"reputation": 4057, "user_id": 5502121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad48f3a14f696fb103e7b7a6931d2351?s=128&d=identicon&r=PG&f=1", "display_name": "Kirill Karmazin", "link": "https://stackoverflow.com/users/5502121/kirill-karmazin"}, "edited": false, "score": 0, "creation_date": 1617973819, "post_id": 36572309, "comment_id": 118467951, "body": "<i>Note:</i> <code>StreamGroup.merge()</code> Merges  into a single single-subscription stream, if you need a broadcast use:  <code>StreamGroup.mergeBroadcast()</code>"}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 27, "last_activity_date": 1460461409, "creation_date": 1460461409, "answer_id": 36572309, "question_id": 36571924, "link": "https://stackoverflow.com/questions/36571924/how-can-i-merge-multiple-streams-into-a-higher-level-stream/36572309#36572309", "title": "How can I merge multiple Streams into a higher level Stream?", "body": "<pre><code>import 'dart:async' show Stream;\nimport 'package:async/async.dart' show StreamGroup;\n\nmain() async {\n  var s1 = stream(10);\n  var s2 = stream(20);\n  var s3 = StreamGroup.merge([s1, s2]);\n  await for(int val in s3) {\n    print(val);\n  }\n}\n\nStream&lt;int&gt; stream(int min) async* {\n  int i = min;\n  while(i &lt; min + 10) {\n    yield i++;\n  }\n}\n</code></pre>\n\n<p>See also <a href=\"http://news.dartlang.org/2016/03/unboxing-packages-async-part-2.html\" rel=\"noreferrer\">http://news.dartlang.org/2016/03/unboxing-packages-async-part-2.html</a></p>\n\n<p>prints</p>\n\n<pre><code>10\n20\n11\n21\n12\n22\n13\n23\n14\n24\n15\n25\n16\n26\n17\n27\n18\n28\n19\n29\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 16930, "user_id": 1032613, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/h4jzP.jpg?s=128&g=1", "display_name": "user1032613", "link": "https://stackoverflow.com/users/1032613/user1032613"}, "edited": false, "score": 7, "creation_date": 1572459827, "post_id": 36574707, "comment_id": 103570243, "body": "Note however, <code>StreamZip</code> only emits pairs. If As and Bs emit at different rates, C will wait until they&#39;ve both emitted a value before emitting a merged pair. This may or may not be what people want/expect."}, {"owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "reply_to_user": {"reputation": 16930, "user_id": 1032613, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/h4jzP.jpg?s=128&g=1", "display_name": "user1032613", "link": "https://stackoverflow.com/users/1032613/user1032613"}, "edited": false, "score": 0, "creation_date": 1572478289, "post_id": 36574707, "comment_id": 103576833, "body": "I don&#39;t see any alternative, though. You can&#39;t create a new <code>C</code> object until you have both an A` and a <code>B</code> available. Unless you create a new <code>C</code> every time either an <code>A</code> or a <code>B</code> arrives, using the old value for the other one. That&#39;ll still give issues if you get two <code>A</code>s before the first <code>B</code>."}], "tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": true, "score": 16, "last_activity_date": 1460467497, "creation_date": 1460467497, "answer_id": 36574707, "question_id": 36571924, "link": "https://stackoverflow.com/questions/36571924/how-can-i-merge-multiple-streams-into-a-higher-level-stream/36574707#36574707", "title": "How can I merge multiple Streams into a higher level Stream?", "body": "<p>\nYou can use <code>StreamZip</code> in <code>package:async</code> to combine two streams into one stream of pairs, then create the <code>C</code> objects from that.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import \"package:async\" show StreamZip;\n...\nStream&lt;C&gt; createCs(Stream&lt;A&gt; as, Stream&lt;B&gt; bs) =&gt;\n  new StreamZip([as, bs]).map((ab) =&gt; new C(ab[0], ab[1]));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1013, "user_id": 2514425, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d44a4241d92a840e98ed62652d37089?s=128&d=identicon&r=PG", "display_name": "scrimau", "link": "https://stackoverflow.com/users/2514425/scrimau"}, "edited": false, "score": 2, "creation_date": 1567760706, "post_id": 55912217, "comment_id": 102068198, "body": "this only emits events, when both streams emitted at least one event, so when only ever one stream emits events, you wont get notified. One could argue, that this is the natural interpretation, i thought, i would just get result of Stream A and null for Stream B for example, but this is not the case."}, {"owner": {"reputation": 4690, "user_id": 2019549, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/900a3735d55a0473c975ba9266bf0c68?s=128&d=identicon&r=PG", "display_name": "cambunctious", "link": "https://stackoverflow.com/users/2019549/cambunctious"}, "reply_to_user": {"reputation": 1013, "user_id": 2514425, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d44a4241d92a840e98ed62652d37089?s=128&d=identicon&r=PG", "display_name": "scrimau", "link": "https://stackoverflow.com/users/2514425/scrimau"}, "edited": false, "score": 1, "creation_date": 1592515690, "post_id": 55912217, "comment_id": 110462153, "body": "@scrimau Good point. If that is an issue, you might want to use <a href=\"https://pub.dev/documentation/stream_transform/latest/stream_transform/Concatenate/startWith.html\" rel=\"nofollow noreferrer\">startWith</a>"}], "tags": [], "owner": {"reputation": 4690, "user_id": 2019549, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/900a3735d55a0473c975ba9266bf0c68?s=128&d=identicon&r=PG", "display_name": "cambunctious", "link": "https://stackoverflow.com/users/2019549/cambunctious"}, "is_accepted": false, "score": 13, "last_activity_date": 1592515483, "last_edit_date": 1592515483, "creation_date": 1556582351, "answer_id": 55912217, "question_id": 36571924, "link": "https://stackoverflow.com/questions/36571924/how-can-i-merge-multiple-streams-into-a-higher-level-stream/55912217#55912217", "title": "How can I merge multiple Streams into a higher level Stream?", "body": "<p>If you need to react when either <code>Stream&lt;A&gt;</code> or <code>Stream&lt;B&gt;</code> emits an event and use the latest value from both streams, use <a href=\"https://pub.dev/documentation/stream_transform/latest/stream_transform/CombineLatest/combineLatest.html\" rel=\"noreferrer\"><code>combineLatest</code></a>.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Stream&lt;C&gt; merge(Stream&lt;A&gt; streamA, Stream&lt;B&gt; streamB) {\n  return streamA\n    .combineLatest(streamB, (a, b) =&gt; new C(a, b));\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3544, "user_id": 2837443, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/675519074/picture?type=large", "display_name": "Alex.F", "link": "https://stackoverflow.com/users/2837443/alex-f"}, "is_accepted": false, "score": 7, "last_activity_date": 1604010258, "last_edit_date": 1604010258, "creation_date": 1604009713, "answer_id": 64599942, "question_id": 36571924, "link": "https://stackoverflow.com/questions/36571924/how-can-i-merge-multiple-streams-into-a-higher-level-stream/64599942#64599942", "title": "How can I merge multiple Streams into a higher level Stream?", "body": "<p>For people that need to combine <strong>more than two</strong> streams of <strong>different types</strong> and get all latest values on each update of any stream.</p>\n<pre><code>import 'package:stream_transform/stream_transform.dart';\n\nStream&lt;List&gt; combineLatest(Iterable&lt;Stream&gt; streams) {\n  final Stream&lt;Object&gt; first = streams.first.cast&lt;Object&gt;();\n  final List&lt;Stream&lt;Object&gt;&gt; others = [...streams.skip(1)];\n  return first.combineLatestAll(others);\n}\n</code></pre>\n<p>The combined stream will produce:</p>\n<pre><code>streamA:  a----b------------------c--------d---|\nstreamB:  --1---------2-----------------|\nstreamC:  -------&amp;----------%---|\ncombined: -------b1&amp;--b2&amp;---b2%---c2%------d2%-|\n</code></pre>\n<p>Why not <code>StreamZip</code>? Because <code>StreamZip</code> would produce:</p>\n<pre><code>streamA:  a----b------------------c--------d---|\nstreamB:  --1---------2-----------------|\nstreamC:  -------&amp;----------%---|\ncombined: -------a1&amp;-------b2%--|\n</code></pre>\n<p>Usage:</p>\n<pre><code>Stream&lt;T&gt; sA;\nStream&lt;K&gt; sB;\nStream&lt;Y&gt; sC;\ncombineLatest([sA, sB, sC]).map((data) {\n  T resA = data[0];\n  K resB = data[1];\n  Y resC = data[2];\n  return D(resA, resB, resC);\n});\n</code></pre>\n"}], "owner": {"reputation": 2059, "user_id": 2142626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0aa8432aa19f3d54166381e01e77097d?s=128&d=identicon&r=PG", "display_name": "Brett", "link": "https://stackoverflow.com/users/2142626/brett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11495, "favorite_count": 8, "accepted_answer_id": 36574707, "answer_count": 4, "score": 27, "last_activity_date": 1604010258, "creation_date": 1460460418, "last_edit_date": 1460461472, "question_id": 36571924, "link": "https://stackoverflow.com/questions/36571924/how-can-i-merge-multiple-streams-into-a-higher-level-stream", "title": "How can I merge multiple Streams into a higher level Stream?", "body": "<p>I have two streams, <code>Stream&lt;A&gt;</code> and <code>Stream&lt;B&gt;</code>. I have a constructor for a type <code>C</code> that takes an <code>A</code> and a <code>B</code>. How do I merge the two <code>Stream</code>s into a <code>Stream&lt;C&gt;</code>?</p>\n"}, {"tags": ["dart", "polymer-1.0"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1460707498, "post_id": 36559083, "comment_id": 60877125, "body": "Would you mind posting the <code>MutationObserver</code> code you tried? I think that&#39;s the way to go. I&#39;m sure it&#39;s working and I don&#39;t know anything else that would be a good fit."}, {"owner": {"reputation": 336, "user_id": 4237845, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh6.googleusercontent.com/-M52APKaweu0/AAAAAAAAAAI/AAAAAAAAAB0/7_PQQGq0Pjs/photo.jpg?sz=128", "display_name": "Alex L.", "link": "https://stackoverflow.com/users/4237845/alex-l"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1461025311, "post_id": 36559083, "comment_id": 61000678, "body": "@G&#252;nterZ&#246;chbauer Thank you, I ended up just using: <code>&lt;content select&gt;</code> with multiple selection parameters. This works since I can change both &quot;A/B&quot; components, and the content selectors allows me to specify multiple selectors.  <code>&lt;content select=&quot;my-b-component[label=&#39;first&#39;][label=&#39;last&#39;]&quot;&gt;&lt;&#47;conte&zwnj;&#8203;nt&gt;</code>"}], "owner": {"reputation": 336, "user_id": 4237845, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh6.googleusercontent.com/-M52APKaweu0/AAAAAAAAAAI/AAAAAAAAAB0/7_PQQGq0Pjs/photo.jpg?sz=128", "display_name": "Alex L.", "link": "https://stackoverflow.com/users/4237845/alex-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1460408187, "creation_date": 1460408187, "question_id": 36559083, "link": "https://stackoverflow.com/questions/36559083/dart-polymer-1-how-to-detect-changes-to-content-nested-components", "title": "Dart Polymer 1 - How to detect changes to &lt;content&gt; nested components", "body": "<p>Given custom component A:</p>\n\n<pre><code>&lt;dom-module id=\"my-a-component\"&gt;\n  &lt;template&gt;\n    &lt;content id=\"nestednodes\"&gt;&lt;/content&gt;\n  &lt;/template&gt;\n&lt;/dom-module&gt;\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>&lt;my-a-component&gt;\n  &lt;my-b-component label='{{blabel}}'&gt;&lt;/my-b-component&gt;\n&lt;/my-a-component&gt;\n</code></pre>\n\n<p>How can I get updated inside \"my-a-component\" when any children under \"#nestednodes\" is updated? or, when a new component gets added to the <code>&lt;content&gt;</code>?</p>\n\n<p>I've been toying with MutationObserver but can't seem to see any updates to those nodes. Any guidance is highly appreciated.</p>\n"}, {"tags": ["asynchronous", "dart", "timeout", "async-await", "future"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1460436344, "post_id": 36554233, "comment_id": 60727763, "body": "It looks like there is no cleanup happening. I guess the timeout callback would have to take care of this. There is a related issue for <code>HttpRequest</code> <a href=\"https://github.com/dart-lang/http/issues/21\" rel=\"nofollow noreferrer\">github.com/dart-lang/http/issues/21</a>"}], "answers": [{"tags": [], "owner": {"reputation": 330, "user_id": 864520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20bc2171855bb87ec0a19e71668c61ce?s=128&d=identicon&r=PG", "display_name": "Jim Beveridge", "link": "https://stackoverflow.com/users/864520/jim-beveridge"}, "is_accepted": false, "score": 3, "last_activity_date": 1461365447, "creation_date": 1461365447, "answer_id": 36804490, "question_id": 36554233, "link": "https://stackoverflow.com/questions/36554233/how-does-dartio-clean-up-futures-that-timeout/36804490#36804490", "title": "How does Dart:io clean up Futures that timeout?", "body": "<p>A Future will get garbage collected when there are no references to it, just like any other variable. There's nothing inherently different about Future variables. For example, they are not an operating system construct.</p>\n\n<p>In your http example, the timeout Future is chained from the original Future, so if the original Future completes, then the timeout Future will complete too. In the opposite case, where the timeout triggers, the http operation will hold a reference to the original future (which holds a reference to the timeout future) until the http operation completes. So the only way that the Futures might leak is if the http request never returned, but at that point you are leaking http connections and you have bigger problems than leaking a couple of Futures.</p>\n\n<p>Note that the fact that the timeout Future completes doesn't mean there's an error. Errors behave differently. An error would cause the Future to either call catchError() or to call your callback.</p>\n"}], "owner": {"reputation": 1516, "user_id": 2535095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdf1873a9a1f8b1eec22faabf60c013e?s=128&d=identicon&r=PG", "display_name": "Joe Conway", "link": "https://stackoverflow.com/users/2535095/joe-conway"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 391, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1461365447, "creation_date": 1460391989, "question_id": 36554233, "link": "https://stackoverflow.com/questions/36554233/how-does-dartio-clean-up-futures-that-timeout", "title": "How does Dart:io clean up Futures that timeout?", "body": "<p>Assume we make an HTTP request from a dart:io application using the http package with a timeout configured:</p>\n\n<pre><code>dynamic getSomething(String url) async {\n  try {\n    var response = await http.get(url).timeout(new Duration(seconds: 30));\n    return JSON.decode(response.body);\n  } catch (_) {\n    return null;\n  }\n}\n</code></pre>\n\n<p>There are two futures here, one generated by http.get (the request Future) and the other generated by Future.timeout (the timeout Future). Should the request Future complete, \nits value is delivered to the timeout Future which is in turn completed. That's good.</p>\n\n<p>However, if the http.get does not complete in 30 seconds, the timeout future will complete and throw a TimeoutException. What happens to the request Future?\nThere is certainly some state and memory allocation associated with the request Future that isn't specifically cleaned up by just running the timeout Future. Worse yet,\nif the request Future does complete after the timeout, that code will still execute. Is it the responsibility of the timeout Future to specifically cancel the request -\nwhich in this case, is not possible because it is buried in package - or is there some other mechanism that must be used?</p>\n\n<p>More generally, does a Future that doesn't ever complete eventually get its state and memory cleaned up, or does it hang around forever?</p>\n"}, {"tags": ["jquery", "jquery-plugins", "dart", "angular"], "answers": [{"comments": [{"owner": {"reputation": 273, "user_id": 3417225, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b1f60858e74da148bdbfd1490739b963?s=128&d=identicon&r=PG&f=1", "display_name": "Ronald", "link": "https://stackoverflow.com/users/3417225/ronald"}, "edited": false, "score": 0, "creation_date": 1460396013, "post_id": 36541453, "comment_id": 60711230, "body": "I put the tag [hidden] , but it is the same, the select2 is called but the list of profession is not shown, it is empty, with tag ngif the list is not empty but it doesn&#39;t work as select2"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 273, "user_id": 3417225, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b1f60858e74da148bdbfd1490739b963?s=128&d=identicon&r=PG&f=1", "display_name": "Ronald", "link": "https://stackoverflow.com/users/3417225/ronald"}, "edited": false, "score": 0, "creation_date": 1460397577, "post_id": 36541453, "comment_id": 60712161, "body": "Can you provide a Plunker? I&#39;m not familiar with these widgets but I could have a looks what&#39;s going on if you provide a Plunker."}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 1, "last_activity_date": 1460356609, "creation_date": 1460356609, "answer_id": 36541453, "question_id": 36541322, "link": "https://stackoverflow.com/questions/36541322/jquery-select-in-dart-and-angularjs-2/36541453#36541453", "title": "Jquery select in dart and angularjs 2", "body": "<p>Instead of </p>\n\n<pre><code>*ngIf=\"paramsByTypeCode != null\"\n</code></pre>\n\n<p>use</p>\n\n<pre><code>[hidden]=\"paramsByTypeCode == null\"\n</code></pre>\n\n<p>Then the element exists even when <code>paramsByTypeCode</code> is <code>null</code> otherwise <code>*ngIf</code> removes it from the DOM and jQuery can't find it.</p>\n\n<p>I'm not sure what the intention of this code is</p>\n\n<pre><code> new Timer(new Duration(seconds: 1),()=&gt;js.context.callMethod('__selectProfession',[\".select_profession\"]));\n</code></pre>\n\n<p>but I guess it should be</p>\n\n<pre><code> new Future.delayed(new Duration(seconds: 1),()=&gt;js.context.callMethod('__selectProfession',[\".select_profession\"]));\n</code></pre>\n"}], "owner": {"reputation": 273, "user_id": 3417225, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b1f60858e74da148bdbfd1490739b963?s=128&d=identicon&r=PG&f=1", "display_name": "Ronald", "link": "https://stackoverflow.com/users/3417225/ronald"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1460356609, "creation_date": 1460356121, "question_id": 36541322, "link": "https://stackoverflow.com/questions/36541322/jquery-select-in-dart-and-angularjs-2", "title": "Jquery select in dart and angularjs 2", "body": "<p>I am working with Dart and Angularjs 2, I want to use select2 the view but it is not working, my code is:</p>\n\n<p>code in html</p>\n\n<pre><code>&lt;div class=\"form-group\"&gt;\n &lt;label for=\"nivelEducativo\" class=\"col-sm-2 control-label\"&gt;Nivel Educativo&lt;/label&gt;\n &lt;div class=\"col-sm-4\"&gt;\n &lt;select class=\"select_profession form-control\" id=\"nivelEducativo\" \n*ngIf=\"paramsByTypeCode != null\" [(ngModel)]=\"model.situacionEducativaId\"&gt;\n     &lt;option *ngFor=\"#param of paramsByTypeCode['PRT014']\" \n    value=\"{{param.id}}\"&gt;{{param.nombre}}&lt;/option&gt;\n &lt;/select&gt;\n &lt;/div&gt;\n&lt;/div&gt;\n...\n&lt;script&gt;\n  function __selectProfession(selector) {\n    $(selector).select2({\n    placeholder: \"Select One\",\n    allowClear: true\n  });\n }\n&lt;/script&gt;\n</code></pre>\n\n<p>code in Dart</p>\n\n<pre><code>  void ngAfterViewInit(){\n    new Timer(new Duration(seconds: 1),()=&gt;js.context.callMethod('__selectProfession',[\".select_profession\"]));\n  }\n</code></pre>\n\n<p>The select2 doesn't work, but if I remove ngIf tag the select2 works but it doesn't show the list of professions, the select2 works well without angular2. I want to know,so how can I work with it?.</p>\n\n<p>Thanks for all.</p>\n"}, {"tags": ["constructor", "dart", "constants", "factory"], "comments": [{"owner": {"reputation": 4908, "user_id": 2813263, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/fa58c516577bcbd4ef082553dedad4a5?s=128&d=identicon&r=PG", "display_name": "Domino", "link": "https://stackoverflow.com/users/2813263/domino"}, "edited": false, "score": 0, "creation_date": 1611340723, "post_id": 36534233, "comment_id": 116429524, "body": "Warning for newcomers to dart: const in C++ = immutability guarantee. const in JS = constant reference. const in dart = compile-time optimization."}], "answers": [{"comments": [{"owner": {"reputation": 4908, "user_id": 2813263, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/fa58c516577bcbd4ef082553dedad4a5?s=128&d=identicon&r=PG", "display_name": "Domino", "link": "https://stackoverflow.com/users/2813263/domino"}, "edited": false, "score": 0, "creation_date": 1460319132, "post_id": 36534315, "comment_id": 60673613, "body": "I thought so. In that case, I&#39;ll just get rid of const, making my class less robust doesn&#39;t seem like the logical thing to do."}, {"owner": {"reputation": 2939, "user_id": 652220, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/B3Bm7.png?s=128&g=1", "display_name": "Argenti Apparatus", "link": "https://stackoverflow.com/users/652220/argenti-apparatus"}, "edited": false, "score": 1, "creation_date": 1460329729, "post_id": 36534315, "comment_id": 60676799, "body": "If you are trying to make the instances immutable, the class does not need to be const, just have no means to modify it&#39;s data fields."}, {"owner": {"reputation": 4908, "user_id": 2813263, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/fa58c516577bcbd4ef082553dedad4a5?s=128&d=identicon&r=PG", "display_name": "Domino", "link": "https://stackoverflow.com/users/2813263/domino"}, "edited": false, "score": 1, "creation_date": 1460335376, "post_id": 36534315, "comment_id": 60678725, "body": "Yeah, I&#39;m aware of that, I just thought it would be nice to optimize with const. But I&#39;m probably trying to optimize too early, I should make a game now instead :)"}, {"owner": {"reputation": 2869, "user_id": 67655, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3163c67e166be66e3a719c4c81bac8bb?s=128&d=identicon&r=PG", "display_name": "Venkat D.", "link": "https://stackoverflow.com/users/67655/venkat-d"}, "edited": false, "score": 0, "creation_date": 1605537579, "post_id": 36534315, "comment_id": 114672935, "body": "Now in 2020, I want to confirm the importance const in Flutter. I&#39;ve seen heavy usage of const and it appears to be important for performance optimization. Is this true?"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1605538448, "post_id": 36534315, "comment_id": 114673328, "body": "<code>const</code> is considered to lead to better performance, but not long ago there was a discussion and not much evidence (benchmarks) could be found. As usual performance strongly depends on your concrete situation. If you have a complex application where this actually matters, make sure you do proper benchmarking yourself to ensure you are optimizing for the right thing with the right measures."}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 4, "last_activity_date": 1460315522, "creation_date": 1460315522, "answer_id": 36534315, "question_id": 36534233, "link": "https://stackoverflow.com/questions/36534233/how-to-use-factory-const-constructors/36534315#36534315", "title": "How to use factory const constructors?", "body": "<p>Dart doesn't execute Dart code during compilation. This is the reason <code>const</code> constructors can't have a body and why there is no other way to work around this limitation.</p>\n\n<p>If you want to execute code when an instance is created, just don't make use of <code>const</code>. Const isn't that important in Dart anyway. There were even discussions to remove it from the language because the benefits are not big enough.</p>\n"}], "owner": {"reputation": 4908, "user_id": 2813263, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/fa58c516577bcbd4ef082553dedad4a5?s=128&d=identicon&r=PG", "display_name": "Domino", "link": "https://stackoverflow.com/users/2813263/domino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2926, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1460315522, "creation_date": 1460315035, "last_edit_date": 1495540241, "question_id": 36534233, "link": "https://stackoverflow.com/questions/36534233/how-to-use-factory-const-constructors", "title": "How to use factory const constructors?", "body": "<p>To test my understanding of Dart, I made a 2D immutable vector that stores not only its x and y components, but also its angle and length. They are computed only at construction out of the x and y values. I soon realized that final fields need to be set with initializer lists or the <code>this</code>-parameter shortcut, which don't allow for much computed values. Like <a href=\"https://stackoverflow.com/a/29137214/2813263\">this answer</a> points out, I had to use a factory constructor to create my vector out of its x and y components. The factory constructor then validates input and computes the length and angle before calling the private constructor.</p>\n\n<pre><code>import 'dart:math';\n\nclass ImmutableVector {\n\n  // private fields\n  final double _x;\n  final double _y;\n  final double _angle;\n  final double _length;\n\n  // getters\n  double get x =&gt; _x;\n  double get y =&gt; _y;\n  double get angle =&gt; _angle;\n  double get length =&gt; _length;\n\n  /// Constructs a vector out of cartesian components.\n  /// \n  /// Converts both arguments to doubles.\n  /// Null values will be treated as zeroes.\n  factory ImmutableVector.xy(num x, num y) {\n\n    x ??= 0.0;\n    y ??= 0.0;\n    x = x.toDouble();\n    y = y.toDouble();\n    var angle = atan2(y, x) % (2*PI);\n    var length = sqrt(pow(x, 2) + pow(y, 2));\n\n    return new ImmutableVector._raw(x, y, angle, length);\n  }\n\n  /// Constructs a vector by setting the fields directly.\n  const ImmutableVector._raw(this._x, this._y, this._angle, this._length);\n}\n</code></pre>\n\n<p>But it came to my attention that I could not make the factory constructor const, because const factories can only be redirecting constructors. Is there absolutely no way to make my vector have code in its constructor and still have it an immutable with const constructors? And if so, why?</p>\n\n<p>I'll also mention that I used to throw errors if the values passed were null, but I made it default to zero so I could actually use initializer lists. I then tried to do this, and turns out it works when the constructor isn't a factory:</p>\n\n<pre><code>ImmutableVector.xy(num x, num y) : this._raw(\n       x = (x ?? 0.0).toDouble(),\n       y = (y ?? 0.0).toDouble(),\n       atan2(y, x) % (2*PI),\n       sqrt(pow(x, 2) + pow(y, 2)));\n</code></pre>\n\n<p>But as soon as I try to make it const, it tells me that the code in the initializer list contains non-compile-time constants.</p>\n\n<p>The only immutable vector I could find in dart was <a href=\"https://github.com/bisrael/Phart/blob/master/Vector.dart\" rel=\"nofollow noreferrer\">here on GitHub</a>, and it doesn't do any kind of null-validation or computation on constructor parameters, relying entirely on the fact that methods will break at some point on null-vectors. It also has a constructor that creates a unit vector out of another one with poor performance and repetition thanks to the obligatory initializer list:</p>\n\n<pre><code>const Vector.unit(final num x, final num y, final num z) : \n    this(x / PMath.len(x, y, z), y / PMath.len(x, y, z), z / PMath.len(x, y, z));\n</code></pre>\n\n<p>So what should be my conclusion? Did I miss a feature that makes this possible, or should I just give up on using const for this class?</p>\n"}, {"tags": ["dart", "dart-polymer"], "comments": [{"owner": {"reputation": 705, "user_id": 5396835, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w4iDZ.jpg?s=128&g=1", "display_name": "Jonas Bojesen", "link": "https://stackoverflow.com/users/5396835/jonas-bojesen"}, "edited": false, "score": 0, "creation_date": 1460350508, "post_id": 36532508, "comment_id": 60682231, "body": "This just guessing, but maybe a factory contructor similar to this is missing <a href=\"https://github.com/dart-lang/polymer_elements/blob/master/lib/neon_animation/animations/slide_left_animation.dart#L28\" rel=\"nofollow noreferrer\">github.com/dart-lang/polymer_elements/blob/master/lib/&hellip;</a>"}, {"owner": {"reputation": 1958, "user_id": 830641, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/a70b7.jpg?s=128&g=1", "display_name": "James Hurford", "link": "https://stackoverflow.com/users/830641/james-hurford"}, "reply_to_user": {"reputation": 705, "user_id": 5396835, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w4iDZ.jpg?s=128&g=1", "display_name": "Jonas Bojesen", "link": "https://stackoverflow.com/users/5396835/jonas-bojesen"}, "edited": false, "score": 0, "creation_date": 1460351758, "post_id": 36532508, "comment_id": 60682561, "body": "I&#39;ll give it a go, but I doubt it."}, {"owner": {"reputation": 1958, "user_id": 830641, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/a70b7.jpg?s=128&g=1", "display_name": "James Hurford", "link": "https://stackoverflow.com/users/830641/james-hurford"}, "reply_to_user": {"reputation": 705, "user_id": 5396835, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w4iDZ.jpg?s=128&g=1", "display_name": "Jonas Bojesen", "link": "https://stackoverflow.com/users/5396835/jonas-bojesen"}, "edited": false, "score": 0, "creation_date": 1460580996, "post_id": 36532508, "comment_id": 60815443, "body": "No adding the factory constructor for this didn&#39;t make any difference"}, {"owner": {"reputation": 1958, "user_id": 830641, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/a70b7.jpg?s=128&g=1", "display_name": "James Hurford", "link": "https://stackoverflow.com/users/830641/james-hurford"}, "edited": false, "score": 0, "creation_date": 1463875396, "post_id": 36532508, "comment_id": 62250966, "body": "None. I&#39;ve given up on answering this myself. The only thing I can think of is to write it in JS and wrap it in a Polymer Dart wrapper"}], "answers": [{"tags": [], "owner": {"reputation": 1958, "user_id": 830641, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/a70b7.jpg?s=128&g=1", "display_name": "James Hurford", "link": "https://stackoverflow.com/users/830641/james-hurford"}, "is_accepted": true, "score": 1, "last_activity_date": 1482632415, "last_edit_date": 1495542824, "creation_date": 1482631639, "answer_id": 41318209, "question_id": 36532508, "link": "https://stackoverflow.com/questions/36532508/how-do-you-create-a-custom-neon-animation-in-dart/41318209#41318209", "title": "How do you create a custom neon animation in Dart", "body": "<p>I have yet again answered my own question.  The only method I can get to work is to write the animation in JS, and then wrap it in a Polymer Dart wrapper.  The easiest way is to use the <a href=\"https://pub.dartlang.org/packages/custom_element_apigen\" rel=\"nofollow noreferrer\">custom_element_apigen</a>.  The problem is that's not working with the current Dart version, due to changes in pub.  There is a pull request that answers that problem, but in the meantime you'll have to do it manually.  I mimic the way <a href=\"https://pub.dartlang.org/packages/custom_element_apigen\" rel=\"nofollow noreferrer\">custom_element_apigen</a> does things.</p>\n\n<p>JavaScript version in lib/src/test-animation/test-animation.html</p>\n\n<pre><code>&lt;link rel=\"import\" href=\"../../../../packages/polymer/polymer.html\"&gt;\n&lt;link rel=\"import\" href=\"../../../../packages/polymer_elements/src/neon-animation/neon-animation-behavior.html\"&gt;\n&lt;link rel=\"import\" href=\"../../../../packages/polymer_elements/src/neon-animation/web-animations.html\"&gt;\n\n\n&lt;script&gt;\n\n    Polymer({\n\n        is: 'test-animation',\n\n        behaviors: [\n            Polymer.NeonAnimationBehavior\n        ],\n\n        configure: function(config) {\n            var node = config.node;\n\n            node.style.perspective = \"600px\";\n            node.style.backfaceVisibility = \"hidden\";\n            node.style.transformStyle = \"preserve-3d\";\n            node.style.transition = \"transform 1s\";\n            node.style.position = \"absolute\";\n\n\n            this._effect = new KeyframeEffect(node, [\n                {'transform': 'rotateY(-20deg)'},\n                {'transform': 'rotateY(-40deg)'},\n                {'transform': 'rotateY(-60deg)'},\n                {'transform': 'rotateY(-80deg)'},\n                {'transform': 'rotateY(-100deg)'},\n                {'transform': 'rotateY(-120deg)'},\n                {'transform': 'rotateY(-140deg)'},\n                {'transform': 'rotateY(-160deg)'},\n                {'transform': 'rotateY(-180deg)'},\n                {'transform': 'rotateY(0deg)'}\n            ], this.timingFromConfig(config));\n\n            return this._effect;\n        }\n\n    });\n\n&lt;/script&gt;\n</code></pre>\n\n<p>Create a nodart html file lib/test_animation_nodart.html</p>\n\n<pre><code>&lt;link rel=\"import\" href=\"src/test-animation/test-animation.html\"&gt;\n&lt;link rel=\"import\" href=\"../../packages/polymer_elements/neon_animation_behavior_nodart.html\"&gt;\n</code></pre>\n\n<p>Create the dart polymer html wrapper lib/test_animation.html.  You actually don't need this file, but <a href=\"https://pub.dartlang.org/packages/custom_element_apigen\" rel=\"nofollow noreferrer\">custom_element_apigen</a> creates it, so I leave it in.</p>\n\n<pre><code>&lt;link rel=\"import\" href=\"test_animation_nodart.html\"&gt;\n\n&lt;script type=\"application/dart\" src=\"test_animation.dart\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>And then finally the dart wrapper lib test_animation.dart</p>\n\n<pre><code>@HtmlImport('test_animation_nodart.html')\nlibrary family_tree.lib.src.test_animation.test_animation;\n\nimport 'dart:html';\nimport 'package:web_components/web_components.dart';\nimport 'package:polymer_interop/polymer_interop.dart';\nimport 'package:polymer_elements/neon_animation_behavior.dart';\n\n\n@CustomElementProxy('test-animation')\nclass TestAnimation extends HtmlElement with CustomElementProxyMixin, PolymerBase, NeonAnimationBehavior {\n  TestAnimation.created() : super.created();\n}\n</code></pre>\n\n<p>You should now be able to include this in your neon animation element, in the animationConfig field.  See <a href=\"https://stackoverflow.com/questions/36367159/how-do-i-get-neon-animation-to-work-in-polymer-dart-1-0\">this answer</a> on how to do this.</p>\n\n<p>This isn't the answer I was hoping for, but it works.</p>\n"}], "owner": {"reputation": 1958, "user_id": 830641, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/a70b7.jpg?s=128&g=1", "display_name": "James Hurford", "link": "https://stackoverflow.com/users/830641/james-hurford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "accepted_answer_id": 41318209, "answer_count": 1, "score": 5, "last_activity_date": 1482632415, "creation_date": 1460306372, "last_edit_date": 1482111468, "question_id": 36532508, "link": "https://stackoverflow.com/questions/36532508/how-do-you-create-a-custom-neon-animation-in-dart", "title": "How do you create a custom neon animation in Dart", "body": "<p>In Polymer you can create neon-animations like their already built 'fade-in-animation'.  You would implement the Polymer.NeonAnimationBehavior like this</p>\n\n<pre><code>&lt;script&gt;\n  Polymer({\n    is: 'fade-in-animation',\n    behaviors: [\n      Polymer.NeonAnimationBehavior\n    ],\n    configure: function(config) {\n      var node = config.node;\n      this._effect = new KeyframeEffect(node, [\n        {'opacity': '0'},\n        {'opacity': '1'}\n      ], this.timingFromConfig(config));\n      return this._effect;\n    }\n  });\n&lt;/script&gt;\n</code></pre>\n\n<p>I could create something similar to that and just provide the configure function, which returns a KeyframeEffect.  I tried reproducing this in Polymer Dart 1.0</p>\n\n<pre><code>@HtmlImport('diagonal-left.html')\nlibrary wellington.elements.animation.diagonal_left;\n\nimport 'dart:html';\n\nimport 'package:web_components/web_components.dart';\nimport 'package:polymer/polymer.dart';\n\nimport 'package:polymer_elements/neon_animation_behavior.dart';\n\n@CustomElement('diagonal-left')\nclass DiagonalLeft extends PolymerElement with NeonAnimationBehavior {\n  KeyframeEffect _effect;\n\n  configure(config) {\n    var node = config.node;\n    if (config.transformOrigin) {\n      setPrefixedProperty(node, 'transformOrigin', config.transformOrigin);\n    } else {\n      setPrefixedProperty(node, 'transformOrigin', '0 75%');\n    }\n    _effect = new KeyframeEffect(node, [\n      {'transform': 'none'},\n      {'transform': 'translateX(-100%)'}\n    ], timingFromConfig(config));\n\n    return _effect;\n  }\n\n  DiagonalLeft.created() : super.created();\n}\n</code></pre>\n\n<p>with the HTMLImport importing this</p>\n\n<pre><code>&lt;script type=\"application/dart\" src=\"diagonal_left.dart\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>I try importing this, and putting this in the animationConfig</p>\n\n<pre><code>@property\nMap get animationConfig =&gt;  {\n  'entry': [\n  {\n    'name': 'fade-in-animation',\n    'node': this,\n    'timing': {'delay': 500, 'duration': 1000}\n  },\n  {\n    'name': 'scale-up-animation',\n    'node': this,\n    'timing': {'duration': 2000}\n  }],\n  'exit': [{\n    'name': 'fade-out-animation',\n    'node': this,\n    'timing': {'delay': 500, 'duration': 1000}\n  },\n  {\n    'name': 'slide-left-animation',\n    'node': this,\n    'timing': {'duration': 1000}\n  },\n  {\n    'name': 'diagonal-left',\n    'node': this\n  }]\n};\n</code></pre>\n\n<p>and all I get is a message in the browser console saying</p>\n\n<pre><code>neon-animated-pages: diagonal-left not found!\n</code></pre>\n\n<p>What am I doing wrong?  In other words, how can I create a custom animation for use in neon-animations in Polymer Dart 1.0?</p>\n\n<p>UPDATE:</p>\n\n<p>I've found the reason it was failing to find the custom animation I had created.  Surprised no one noticed my mistake.  I was using</p>\n\n<pre><code>@CustomElement('diagonal-left')\n</code></pre>\n\n<p>which is the old pre Polymer Dart 1.0 way of registering an element.  It should be instead</p>\n\n<p>@PolymerRegister('diagonal-left')</p>\n\n<p>Now it's able to find my animation, but that only gave me another error in Dartium</p>\n\n<pre><code>VM4374:1 ORIGINAL EXCEPTION: V8 Exception(anonymous function) @ VM4374:1\nVM4374:1 ORIGINAL STACKTRACE:(anonymous function) @ VM4374:1\nVM4374:1 #0      JsFunction._apply (dart:js:1490)\n#1      JsFunction.apply (dart:js:1488)\n#2      BrowserDomAdapter.setProperty (package:angular2/src/platform/browser/browser_adapter.dart:140:20)\n#3      DomRenderer.setElementProperty (package:angular2/src/platform/dom/dom_renderer.dart:190:9)\n#4      DebugDomRenderer.setElementProperty (package:angular2/src/core/debug/debug_renderer.dart:127:10)\n#5      AppView.notifyOnBinding (package:angular2/src/core/linker/view.dart:211:23)\n#6      AbstractChangeDetector.notifyDispatcher (package:angular2/src/core/change_detection/abstract_change_detector.dart:280:21)\n#7      _WaterfrontView_0.detectChangesInRecordsInternal (package:wellington/views/waterfront_view/waterfront_view.template.dart:66:20)\n#8      AbstractChangeDetector.detectChangesInRecords (package:angular2/src/core/change_detection/abstract_change_detector.dart:151:12)\n#9      AbstractChangeDetector.runDetectChanges (package:angular2/src/core/change_detection/abstract_change_detector.dart:125:10)\n#10     AbstractChangeDetector._detectChangesInViewChildren (package:angular2/src/core/change_detection/abstract_change_detector.dart:244:12)\n#11     AbstractChangeDetector.runDetectChanges (package:angular2/src/core/change_detection/abstract_change_detector.dart:128:10)\n#12     AbstractChangeDetector._detectChangesInViewChildren (package:angular2/src/core/change_detection/abstract_change_detector.dart:244:12)\n#13     AbstractChangeDetector.runDetectChanges (package:angular2/src/core/change_detection/abstract_change_detector.dart:128:10)\n#14     AbstractChangeDetector.detectChanges (package:angular2/src/core/change_detection/abstract_change_detector.dart:111:10)\n#15     ChangeDetectorRef_.detectChanges (package:angular2/src/core/change_detection/change_detector_ref.dart:209:14)\n#16     ApplicationRef_.tick.&lt;anonymous closure&gt; (package:angular2/src/core/application_ref.dart:512:63)\n#17     List.forEach (dart:core-patch/growable_array.dart:258)\n#18     ApplicationRef_.tick (package:angular2/src/core/application_ref.dart:512:32)\n#19     ApplicationRef_.ApplicationRef_.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:angular2/src/core/application_ref.dart:410:16)\n#20     _rootRun (dart:async/zone.dart:1150)\n#21     _ZoneDelegate.run (dart:async/zone.dart:693)\n#22     NgZoneImpl._run (package:angular2/src/core/zone/ng_zone_impl.dart:150:21)\n#23     _CustomZone.run (dart:async/zone.dart:1026)\n#24     _CustomZone.runGuarded (dart:async/zone.dart:924)\n#25     NgZoneImpl.runInner (package:angular2/src/core/zone/ng_zone_impl.dart:121:23)\n#26     NgZone.run (package:angular2/src/core/zone/ng_zone.dart:219:27)\n#27     ApplicationRef_.ApplicationRef_.&lt;anonymous closure&gt; (package:angular2/src/core/application_ref.dart:409:20)\n#28     _RootZone.runUnaryGuarded (dart:async/zone.dart:1338)\n#29     _BufferingStreamSubscription._sendData (dart:async/stream_impl.dart:331)\n#30     _BufferingStreamSubscription._add (dart:async/stream_impl.dart:258)\n#31     _SyncBroadcastStreamController._sendData (dart:async/broadcast_stream_controller.dart:386)\n#32     _BroadcastStreamController.add (dart:async/broadcast_stream_controller.dart:261)\n#33     EventEmitter.emit (package:angular2/src/facade/async.dart:95:17)\n#34     NgZone._checkStable (package:angular2/src/core/zone/ng_zone.dart:146:34)\n#35     NgZone.NgZone.&lt;anonymous closure&gt; (package:angular2/src/core/zone/ng_zone.dart:129:16)\n#36     NgZoneImpl._run (package:angular2/src/core/zone/ng_zone_impl.dart:152:14)\n#37     NgZoneImpl._runUnary (package:angular2/src/core/zone/ng_zone_impl.dart:157:7)\n#38     _CustomZone.runUnary (dart:async/zone.dart:1037)\n#39     _CustomZone.runUnaryGuarded (dart:async/zone.dart:932)\n#40     _CustomZone.bindUnaryCallback.&lt;anonymous closure&gt; (dart:async/zone.dart:961)\n#41     _Timer._Timer.&lt;anonymous closure&gt; (dart:html:49206)\n</code></pre>\n\n<p>and when run through <code>pub serve</code>  I get the following in Chrome</p>\n\n<pre><code>EXCEPTION: NoSuchMethodError: method not found: 'configure' (animation.configure is not a function) in [selected in WaterfrontView@7:40]  html_dart2js.dart:3351\nEXCEPTION: NoSuchMethodError: method not found: 'configure' (animation.configure is not a function) in [selected in WaterfrontView@7:40]\nORIGINAL EXCEPTION: NoSuchMethodError: method not found: 'configure' (animation.configure is not a function)\nORIGINAL STACKTRACE:\n\nTypeError: animation.configure is not a function\nat HTMLElement._configureAnimationEffects (index.html?_ijt=j7c5fphk4jffr92eaclvnf00al:20326)\nat HTMLElement.playAnimation (index.html?_ijt=j7c5fphk4jffr92eaclvnf00al:20362)\nat HTMLElement._selectedChanged (index.html?_ijt=j7c5fphk4jffr92eaclvnf00al:20572)\nat HTMLElement._complexObserverEffect (index.html?_ijt=j7c5fphk4jffr92eaclvnf00al:7749)\nat HTMLElement._effectEffects (index.html?_ijt=j7c5fphk4jffr92eaclvnf00al:7496)\nat HTMLElement._propertySetter (index.html?_ijt=j7c5fphk4jffr92eaclvnf00al:7473)\nat HTMLElement.setter (index.html?_ijt=j7c5fphk4jffr92eaclvnf00al:7582)\nat eval (eval at F (js_dart2js.dart:358), &lt;anonymous&gt;:1:39)\nat h2.bt (js_dart2js.dart:387)\nat h2.aC (js_dart2js.dart:392)\naE @ html_dart2js.dart:3351\n(anonymous function) @ exception_handler.dart:80\ndart.cI.$3 @ exception_handler.dart:91\ndart.yu.$1 @ application_ref.dart:262\ndart.xS.$0 @ ng_zone_impl.dart:157\ndart.nY @ zone.dart:1150\ndart.xN.fj @ zone.dart:693\ndart.xN.lB @ ng_zone_impl.dart:157\n(anonymous function) @ VM202:2\nbP @ zone.dart:1037\nbQ @ zone.dart:932\nW @ stream_impl.dart:331\ndart.ey.ay @ stream_impl.dart:258\nW @ broadcast_stream_controller.dart:386\n$1 @ broadcast_stream_controller.dart:261\ndart.xN.lz @ ng_zone_impl.dart:190\n(anonymous function) @ VM198:2\naq @ zone.dart:1005\nai @ zone.dart:926\ndart.ug.$1 @ ng_zone_impl.dart:121\nbQ @ zone.dart:1338\nW @ stream_impl.dart:331\ndart.ey.ay @ stream_impl.dart:258\nW @ broadcast_stream_controller.dart:386\neH @ broadcast_stream_controller.dart:261\n$0 @ ng_zone.dart:129\ndart.xN.fj @ ng_zone_impl.dart:152\ndart.xN.lB @ ng_zone_impl.dart:157\n(anonymous function) @ VM202:2\nbP @ zone.dart:1037\nbQ @ zone.dart:932\ndart.Ar.$1 @ zone.dart:961\ndart.zF.$0 @ isolate_helper.dart:1396\n$0 @ js_helper.dart:2408\nbz @ isolate_helper.dart:462\nd9 @ isolate_helper.dart:54\ndart.HW @ js_helper.dart:2408\n(anonymous function) @ js_helper.dart:2430\n</code></pre>\n\n<p>Which is telling me the dart method configure(config) is not being converted/wrapped into a JS function.  Is there something I can do to fix this and get a custom dart animation to work in Polymer?  And yes this is Polymer being run in a Angular 2 app, which means I am forced to use shadowroot.</p>\n\n<p>UPDATE 2:</p>\n\n<p>I encountered an error in the version of Chrome I was using, which relates to this bug <a href=\"https://github.com/Polymer/core-animation/pull/28\" rel=\"nofollow noreferrer\">https://github.com/Polymer/core-animation/pull/28</a>. I found I needed to update to the latest polymer_elements 1.0.0-rc.9.  Now I'm back to square one with the error being</p>\n\n<pre><code>neon-animated-pages: diagonal-left not found!\n</code></pre>\n\n<p>Oh well so much for progress.</p>\n"}, {"tags": ["dart", "dart-pub"], "comments": [{"owner": {"reputation": 2939, "user_id": 652220, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/B3Bm7.png?s=128&g=1", "display_name": "Argenti Apparatus", "link": "https://stackoverflow.com/users/652220/argenti-apparatus"}, "edited": false, "score": 0, "creation_date": 1460153436, "post_id": 36507099, "comment_id": 60626895, "body": "What do you mean by &#39;shutdown pub serve on the machine automatically&#39;?"}, {"owner": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "reply_to_user": {"reputation": 2939, "user_id": 652220, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/B3Bm7.png?s=128&g=1", "display_name": "Argenti Apparatus", "link": "https://stackoverflow.com/users/652220/argenti-apparatus"}, "edited": false, "score": 0, "creation_date": 1460392727, "post_id": 36507099, "comment_id": 60709237, "body": "@ArgentiApparatus after i do <code>pub serve</code> and im done, i just break out of it.  if i wanted to spool up that process and detach it from the console, how would i fetch and kill the pub serve thread?    example:  <code>pub serve &amp;</code> to call it detached from the terminal / cmd-prompt"}], "answers": [{"comments": [{"owner": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "edited": false, "score": 0, "creation_date": 1460473165, "post_id": 36560038, "comment_id": 60752885, "body": "You know what, you are absolutely right.  Thank you very much for your informative answer."}, {"owner": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "edited": false, "score": 0, "creation_date": 1460473445, "post_id": 36560038, "comment_id": 60753129, "body": "I was not sure if there was a dart way to do it, but im sure that i could just push command line stuff through dart to execute the target goals"}], "tags": [], "owner": {"reputation": 2939, "user_id": 652220, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/B3Bm7.png?s=128&g=1", "display_name": "Argenti Apparatus", "link": "https://stackoverflow.com/users/652220/argenti-apparatus"}, "is_accepted": true, "score": 2, "last_activity_date": 1460411933, "creation_date": 1460411933, "answer_id": 36560038, "question_id": 36507099, "link": "https://stackoverflow.com/questions/36507099/getting-process-id-of-a-pub-serve-to-then-kill-that-thread-process/36560038#36560038", "title": "getting process ID of a pub serve to then kill that thread/process", "body": "<p>This is not a Dart or Pub question really, it's a Windows, MacOS, Linux etc. shell process control question.</p>\n\n<p>The question is more suited to Stack Exchange Superuser <a href=\"https://superuser.com/\">https://superuser.com/</a> I believe. You could look over there for more detailed answer ... but ... assuming you are using the windows command prompt: </p>\n\n<p><code>start /B</code> starts a process in the background.</p>\n\n<p><code>tasklist</code> can be used to look up running process PIDs.</p>\n\n<p><code>taskkill /PID</code> kills a running process.</p>\n\n<p>You can use <code>help &lt;command&gt;</code> or search for documentation. </p>\n\n<p>I have not used these personally but it looks awkward as <code>start /B</code> does not give you the PID of the process it ran. Unix shells such as Bash have good facilities for running processes in the background. Windows Powershell may have better support also.   </p>\n"}], "owner": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 0, "accepted_answer_id": 36560038, "answer_count": 1, "score": 0, "last_activity_date": 1460411933, "creation_date": 1460141350, "question_id": 36507099, "link": "https://stackoverflow.com/questions/36507099/getting-process-id-of-a-pub-serve-to-then-kill-that-thread-process", "title": "getting process ID of a pub serve to then kill that thread/process", "body": "<p>So when I run my Polymer Dart application, i use <code>pub serve</code> and the serve is created and served.  It will stay running until until i break out of it.  I was curious if there is a way to programmatically stop it.</p>\n\n<p>One of the options I was looking at was looking at the running processes and then killing the pub serve process.</p>\n\n<p>I was not sure though how i would get the process id to kill it, or unless there was another option.</p>\n\n<p>Maybe someone has an even better approach to shutdown pub serve on the machine automatically, as a form of cleanup?</p>\n\n<p>The issue I have noticed is that if i get the running proceesses, i only see \"cmd\" as a process so that isnt the best determining factor.</p>\n\n<p>I was not sure if there was a way via pub on serve to get its process if, if it set a flag or global of sorts I could leverage</p>\n"}, {"tags": ["dart", "dart-isolates"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1460121089, "post_id": 36500139, "comment_id": 60608278, "body": "It&#39;s a while I played with isolates. <a href=\"https://pub.dartlang.org/packages/isolate\" rel=\"nofollow noreferrer\">pub.dartlang.org/packages/isolate</a> is supposed to provide a nice API to isolates. I assume it&#39;s worth having a closer look."}, {"owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "edited": false, "score": 1, "creation_date": 1460324299, "post_id": 36500139, "comment_id": 60675301, "body": "The <code>IsolateRunner</code> in <code>package:isolate</code> is intended for calling a function in a spawned isolate more than once. I think it will work for this problem: <code>var runner = await IsolateRunner.spawn(); for (var arg in something) }{ ... await runner.run(queryFunction, arg); ... } await runner.close();</code>"}, {"owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "edited": false, "score": 1, "creation_date": 1460325126, "post_id": 36500139, "comment_id": 60675527, "body": "Another option is to have a service isolate running, but instead of having it return the result on the same port each time, each request can send its own <code>SendPort</code> with it. Then each request can create a <code>ResponsePort</code> and return the <code>first</code> getter of that for the response: <code>Future askIsolate(isolateArgs) { var p = new ReceivePort(); runningIsolatePort.send([isolateArgs, p.sendPort]); return p.first; }</code>."}, {"owner": {"reputation": 662, "user_id": 5417498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2025254f85f914ab7cd28198b83954b?s=128&d=identicon&r=PG", "display_name": "ilikerobots", "link": "https://stackoverflow.com/users/5417498/ilikerobots"}, "edited": false, "score": 0, "creation_date": 1460365208, "post_id": 36500139, "comment_id": 60689359, "body": "I haven&#39;t been successful in getting IsolateRunner to work well in spawnURI situation.  I need to be able to call and exec a known method on an external dart script.  I know you can manually wrap an Isolate with IsolateRunner, but I&#39;ve failed to see how I can utilize IsolateRunner.run to exec external methods.  However, lrn&#39;s second suggestion appears to work well.  I&#39;ll finish some tests and post a full example"}], "answers": [{"comments": [{"owner": {"reputation": 662, "user_id": 5417498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2025254f85f914ab7cd28198b83954b?s=128&d=identicon&r=PG", "display_name": "ilikerobots", "link": "https://stackoverflow.com/users/5417498/ilikerobots"}, "edited": false, "score": 0, "creation_date": 1460365479, "post_id": 36505805, "comment_id": 60689507, "body": "Actually, the former in your two bullets is what I&#39;d like.  Thank you for the catch on the then(...).catchError(...) issue!"}, {"owner": {"reputation": 2939, "user_id": 652220, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/B3Bm7.png?s=128&g=1", "display_name": "Argenti Apparatus", "link": "https://stackoverflow.com/users/652220/argenti-apparatus"}, "reply_to_user": {"reputation": 662, "user_id": 5417498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2025254f85f914ab7cd28198b83954b?s=128&d=identicon&r=PG", "display_name": "ilikerobots", "link": "https://stackoverflow.com/users/5417498/ilikerobots"}, "edited": false, "score": 0, "creation_date": 1460413469, "post_id": 36505805, "comment_id": 60721136, "body": "Do you want to implement a function that sends an input to an isolate, and returns a future that completes when the isolate sends back a result, which you can call repeatedly?"}], "tags": [], "owner": {"reputation": 2939, "user_id": 652220, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/B3Bm7.png?s=128&g=1", "display_name": "Argenti Apparatus", "link": "https://stackoverflow.com/users/652220/argenti-apparatus"}, "is_accepted": false, "score": 2, "last_activity_date": 1460214860, "last_edit_date": 1460214860, "creation_date": 1460136486, "answer_id": 36505805, "question_id": 36500139, "link": "https://stackoverflow.com/questions/36500139/encapsulate-repeated-send-responses-to-the-same-dart-isolate-within-a-single-asy/36505805#36505805", "title": "encapsulate repeated send/responses to the same Dart isolate within a single asyncronous function", "body": "<p>The answer depend on how you intend to use the isolate</p>\n\n<ul>\n<li><p>Do you intend to keep it running indefinitely, sending it inputs and expecting to receive answers asynchronously?</p></li>\n<li><p>Do you want to send the isolate many (but finite) inputs at once, expect to receive answers asynchronously, then close the isolate?</p></li>\n</ul>\n\n<p>I'm guessing the latter, and your <code>askIsolate()</code> function needs to immediately return a <code>Future</code> than completes when it receives all the answers.</p>\n\n<p>The <code>await for</code> loop can be used to listen to a stream and consume events until it closes.</p>\n\n<p>I'm not familiar with isolates, so I hope this is OK, I have not tested it. I've assumed that the isolate terminates and response closes. </p>\n\n<pre><code>String askIsolate(Map&lt;String,dynamic&gt; isolateArgs) async {\n\n  ReceivePort response = new ReceivePort();\n  var uri = Uri.parse(ISOLATE_URI);\n\n  Isolate.spawnUri(uri, [JSON.encode(isolateArgs)], response.sendPort)\n    .catchError((e)) {\n     throw ...;\n   });\n\n  List&lt;String&gt; answers = new List&lt;String&gt;;\n\n  await for(var answer in response) {\n    out.add(answer.toString());\n  }\n\n  return answers;\n}\n</code></pre>\n\n<p>Note:</p>\n\n<ul>\n<li><p><code>response</code> is the stream you are listening to for answers. It's created <em>before</em> spawning the isolate so you don't need to (and probably should not) wait for the isolate future to complete before listening to it.</p></li>\n<li><p>I made <code>askIsolate()</code> async because that makes it very easy to immediately return a future which completes when the function returns - without all that tedious mucking about with <code>.then(...)</code> chains, which I personally find confusing and hard to read.</p></li>\n</ul>\n\n<p>BTW, your original <code>then(...).catchError(...)</code> style code would be better written like this:</p>\n\n<pre><code>  Isolate.spawnUri(uri, [JSON.encode(isolateArgs)], response.sendPort)\n    .catchError((e) { ... });\n\n   return response.first)\n     .then((msg) =&gt; msg.toString());\n</code></pre>\n\n<p>I believe that delaying attaching a catchError handler to the line after the isolate's creation might allow the future to complete with an error <em>before</em> the handler is in place.</p>\n\n<p>See: <a href=\"https://www.dartlang.org/articles/futures-and-error-handling/#potential-problem-failing-to-register-error-handlers-early\" rel=\"nofollow\">https://www.dartlang.org/articles/futures-and-error-handling/#potential-problem-failing-to-register-error-handlers-early</a> .</p>\n"}, {"tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": false, "score": 2, "last_activity_date": 1460324929, "creation_date": 1460324929, "answer_id": 36535911, "question_id": 36500139, "link": "https://stackoverflow.com/questions/36500139/encapsulate-repeated-send-responses-to-the-same-dart-isolate-within-a-single-asy/36535911#36535911", "title": "encapsulate repeated send/responses to the same Dart isolate within a single asyncronous function", "body": "<p>\nI also recommend looking at <code>IsolateRunner</code> in <code>package:isolate</code>, it is intended to solve problems like this - calling a function in the same isolate several times instead of just once when the isolate is created. </p>\n\n<p>If you don't want that, there are other, more primitive, options</p>\n\n<p>Async functions can wait on futures or streams and a <code>ReceivePort</code> is a stream. \nFor a quick hack, you can probably do something with an <code>await for</code> on the response stream, but it won't be very convenient.</p>\n\n<p>Wrapping the <code>ReceivePort</code> in a <code>StreamQueue</code> from <code>package:async</code> is a better choice. That allows you to convert the individual events into futures. Something like:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>myFunc() async {  \n  var responses = new ReceivePort();\n  var queue = new StreamQueue(responses);\n  // queryFunction sends its own SendPort on the port you pass to it.\n  var isolate = await isolate.spawn(queryFunction, [], responses.sendPort);\n  var queryPort = await queue.next();\n  for (var something in somethingToDo) {\n    queryPort.send(something);\n    var response = await queue.next();\n    doSomethingWithIt(response);\n  }\n  queryPort.send(\"shutdown command\");  \n  // or isolate.kill(), but it's better to shut down cleanly.\n  responses.close();  // Don't forget to close the receive port.\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 662, "user_id": 5417498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2025254f85f914ab7cd28198b83954b?s=128&d=identicon&r=PG", "display_name": "ilikerobots", "link": "https://stackoverflow.com/users/5417498/ilikerobots"}, "is_accepted": true, "score": 1, "last_activity_date": 1460469520, "creation_date": 1460469520, "answer_id": 36575515, "question_id": 36500139, "link": "https://stackoverflow.com/questions/36500139/encapsulate-repeated-send-responses-to-the-same-dart-isolate-within-a-single-asy/36575515#36575515", "title": "encapsulate repeated send/responses to the same Dart isolate within a single asyncronous function", "body": "<p>A quick working example based on lrn's comment above follows.  The example initializes an isolate via spawnURI, and then communicates with the isolate by passing a new ReceivePort upon which a reply is expected.  This allows the askIsolate to directly return a response from a running spawnURI isolate.</p>\n\n<p>Note error handling has been omitted for clarity.</p>\n\n<p><strong>Isolate code:</strong></p>\n\n<pre><code>import 'dart:isolate';\nimport 'dart:convert' show JSON;\n\nmain(List&lt;String&gt; initArgs, SendPort replyTo) async {\n  ReceivePort receivePort = new ReceivePort();\n  replyTo.send(receivePort.sendPort);\n\n  receivePort.listen((List&lt;dynamic&gt; callArgs) async {\n    SendPort thisResponsePort = callArgs.removeLast(); //last arg must be the offered sendport\n    thisResponsePort.send(\"Map values: \" + JSON.decode(callArgs[0]).values.join(\",\"));\n  });\n}\n</code></pre>\n\n<p><strong>Calling code:</strong></p>\n\n<pre><code>import 'dart:async';\nimport 'dart:isolate';\nimport 'dart:convert';\n\n\nconst String ISOLATE_URI = \"http://localhost/isolates/test_iso.dart\";\nSendPort isolateSendPort = null;\n\nFuture&lt;SendPort&gt; initIsolate(Uri uri) async {\n    ReceivePort response = new ReceivePort();\n    await Isolate.spawnUri(uri, [], response.sendPort, errorsAreFatal: true);\n    print(\"Isolate spawned from $ISOLATE_URI\");\n    return await response.first;\n}\n\n\nFuture&lt;dynamic&gt; askIsolate(Map&lt;String,String&gt; args) async {\n  if (isolateSendPort == null) {\n    print(\"ERROR: Isolate has not yet been spawned\");\n    isolateSendPort = await initIsolate(Uri.parse(ISOLATE_URI)); //try again\n  }\n\n  //Send args to the isolate, along with a receiveport upon which we listen for first response \n  ReceivePort response = new ReceivePort();\n  isolateSendPort.send([JSON.encode(args), response.sendPort]);\n  return await response.first;\n}\n\nmain() async {\n  isolateSendPort = await initIsolate(Uri.parse(ISOLATE_URI));\n\n  askIsolate({ 'foo':'bar', 'biz':'baz'}).then(print);\n  askIsolate({ 'zab':'zib', 'rab':'oof'}).then(print);\n  askIsolate({ 'One':'Thanks', 'Two':'lrn'}).then(print);\n}  \n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>Isolate spawned from http://localhost/isolates/test_iso.dart\nMap values: bar,baz\nMap values: zib,oof\nMap values: Thanks,lrn\n</code></pre>\n"}], "owner": {"reputation": 662, "user_id": 5417498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2025254f85f914ab7cd28198b83954b?s=128&d=identicon&r=PG", "display_name": "ilikerobots", "link": "https://stackoverflow.com/users/5417498/ilikerobots"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 272, "favorite_count": 1, "accepted_answer_id": 36575515, "answer_count": 3, "score": 1, "last_activity_date": 1460469520, "creation_date": 1460120196, "question_id": 36500139, "link": "https://stackoverflow.com/questions/36500139/encapsulate-repeated-send-responses-to-the-same-dart-isolate-within-a-single-asy", "title": "encapsulate repeated send/responses to the same Dart isolate within a single asyncronous function", "body": "<p>Is it possible to encapsulate repeated send/responses to the same dart isolate within a single asynchronous function?</p>\n\n<p>Background:</p>\n\n<p>In order to design a convenient API, I would like to have a function asynchronously return the result generated by an isolate, e.g.</p>\n\n<pre><code>var ans = await askIsolate(isolateArgs);\n</code></pre>\n\n<p>This works fine if I directly use the response generated by a spawnUri call, e.g</p>\n\n<pre><code>Future&lt;String&gt; askIsolate(Map&lt;String,dynamic&gt; isolateArgs) {\n\nReceivePort response = new ReceivePort();\nvar uri = Uri.parse(ISOLATE_URI);\n\nFuture&lt;Isolate&gt; remote = Isolate.spawnUri(uri, [JSON.encode(isolateArgs)], response.sendPort);\nreturn remote.then((i) =&gt; response.first)\n               .catchError((e) { print(\"Failed to spawn isolate\"); })\n               .then((msg) =&gt; msg.toString());\n}\n</code></pre>\n\n<p>The downside of the above approach, however, is that if I need to repeatedly call askIsolate, the isolate must be spawned each time.  </p>\n\n<p>I would instead like to communicate with a running isolate, which is certainly possible by having the isolate return a sendPort to the caller.  But I believe since the <a href=\"https://groups.google.com/a/dartlang.org/forum/#!topic/misc/EVUMkZXFXtY\" rel=\"nofollow\">2013 Isolate refactoring</a>  , this requires the caller to listen to subsequent messages on the receivePort, making encapsulation within a single async function impossible.</p>\n\n<p>Is there some mechanism to accomplish this that I'm missing?</p>\n"}, {"tags": ["dart", "dart-js-interop"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1460051091, "post_id": 36483451, "comment_id": 60576511, "body": "I guess the -1 is because of the javascript tag (the question doesn&#39;t make much sense to them if they don&#39;t know Dart) and maybe because the question should contain the essential parts necessary to diagnose the problem (code you linked to)."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1460051117, "post_id": 36483451, "comment_id": 60576528, "body": "Don&#39;t you get any error messages (browser console or IDE)?"}, {"owner": {"reputation": 101, "user_id": 6173478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e96d403040fc6b986dd41bc9f1f61f9f?s=128&d=identicon&r=PG&f=1", "display_name": "EdSv", "link": "https://stackoverflow.com/users/6173478/edsv"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1460051805, "post_id": 36483451, "comment_id": 60576908, "body": "code compiles without any errors in IDE console, but sometimes (seldom) after some time in dubug mode in Webstorm appears exception: dart.js : Failed assertion in line 397 !p.isNamed is not true, ....Internal error Dart_invoke  expects library argument &#39;target&#39; to be loaded."}, {"owner": {"reputation": 101, "user_id": 6173478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e96d403040fc6b986dd41bc9f1f61f9f?s=128&d=identicon&r=PG&f=1", "display_name": "EdSv", "link": "https://stackoverflow.com/users/6173478/edsv"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1460051945, "post_id": 36483451, "comment_id": 60577000, "body": "I provided code, go by bottom hyperlink to gist.github"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1460052111, "post_id": 36483451, "comment_id": 60577133, "body": "Do you get error messages if you run it in another browser than Dartium?"}, {"owner": {"reputation": 217, "user_id": 545408, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3d27f362facb85cb06e93651ee05c9b2?s=128&d=identicon&r=PG", "display_name": "Andrew Skalkin", "link": "https://stackoverflow.com/users/545408/andrew-skalkin"}, "edited": false, "score": 0, "creation_date": 1460052240, "post_id": 36483451, "comment_id": 60577231, "body": "This looks like a relevant issue: <a href=\"http://stackoverflow.com/questions/33168767/how-to-map-a-dart-class-to-a-js-class-with-the-new-js-0-6-0-package\" title=\"how to map a dart class to a js class with the new js 0 6 0 package\">stackoverflow.com/questions/33168767/&hellip;</a> (try using a regular constructor, not a factory)"}, {"owner": {"reputation": 101, "user_id": 6173478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e96d403040fc6b986dd41bc9f1f61f9f?s=128&d=identicon&r=PG&f=1", "display_name": "EdSv", "link": "https://stackoverflow.com/users/6173478/edsv"}, "edited": false, "score": 0, "creation_date": 1460052657, "post_id": 36483451, "comment_id": 60577489, "body": "here direct link to example visjs (before was on general) <a href=\"http://visjs.org/examples/network/basicUsage.html\" rel=\"nofollow noreferrer\">visjs.org/examples/network/basicUsage.html</a>"}, {"owner": {"reputation": 101, "user_id": 6173478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e96d403040fc6b986dd41bc9f1f61f9f?s=128&d=identicon&r=PG&f=1", "display_name": "EdSv", "link": "https://stackoverflow.com/users/6173478/edsv"}, "edited": false, "score": 0, "creation_date": 1460053502, "post_id": 36483451, "comment_id": 60578005, "body": "result same in any browser"}, {"owner": {"reputation": 101, "user_id": 6173478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e96d403040fc6b986dd41bc9f1f61f9f?s=128&d=identicon&r=PG&f=1", "display_name": "EdSv", "link": "https://stackoverflow.com/users/6173478/edsv"}, "edited": false, "score": 0, "creation_date": 1461861421, "post_id": 36483451, "comment_id": 61402796, "body": "I wrapped visjs, it works ) .  Main misleading feature for me was  parameters in  methods, constructors, when they expected as varios types in js (bool String  Object array -all can be accepted as one parameter). I am trying  to refine situation using generics  in order to get more staticataly typed and checked ide code, but because we anyway receive just JsObjectImpl type under wrapped dart  class it has not much sense, i replaced all by dynamic type."}, {"owner": {"reputation": 101, "user_id": 6173478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e96d403040fc6b986dd41bc9f1f61f9f?s=128&d=identicon&r=PG&f=1", "display_name": "EdSv", "link": "https://stackoverflow.com/users/6173478/edsv"}, "edited": false, "score": 1, "creation_date": 1461861474, "post_id": 36483451, "comment_id": 61402830, "body": "In first attempt i  used for dynamic parameter  optionally named parameters, for me it was logical and reliable, but it doesn&#39;t work correct, it works, create property, but when in dart code converted to js using optioanal parameters leads to creating array property as expected,  in native js code acceptance an array [] leads to creating map instead array. (of course it is not obligatory..). I checked it in chrome console. Using dynamic or generic one parameter resolve that issue. Question is closed, my comment just for help."}], "answers": [{"tags": [], "owner": {"reputation": 4982, "user_id": 89493, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bb2875329e95d041e24558129847ebc4?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/89493/jeff"}, "is_accepted": false, "score": 0, "last_activity_date": 1538964036, "creation_date": 1538964036, "answer_id": 52694493, "question_id": 36483451, "link": "https://stackoverflow.com/questions/36483451/using-javascript-library-in-dart/52694493#52694493", "title": "Using javascript library in Dart", "body": "<p>The attribute @anonymous is meant to be used when the object you're describing doesn't actually exist in the JS library you're binding, and is only used as a plain old data object.  By adding it to all of your objects, my guess is that dart is never attempting to create anything from the visjs library.</p>\n\n<p>Try removing the @anonymous from your Network class and see if that has an effect. You will likely also need to make these abstract classes as well.</p>\n"}], "owner": {"reputation": 101, "user_id": 6173478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e96d403040fc6b986dd41bc9f1f61f9f?s=128&d=identicon&r=PG&f=1", "display_name": "EdSv", "link": "https://stackoverflow.com/users/6173478/edsv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 474, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1538964036, "creation_date": 1460050716, "last_edit_date": 1460050969, "question_id": 36483451, "link": "https://stackoverflow.com/questions/36483451/using-javascript-library-in-dart", "title": "Using javascript library in Dart", "body": "<p>I try  to use JavaScript library  visjs.org in Dart. I prepared  \u2018adapter\u2019 code according examples on Dart site pub.dartlang.org/packages/js and github.com/google/chartjs.dart/blob/master/lib/chartjs.dart.</p>\n\n<p>Also according basic use case example from <a href=\"http://visjs.org/docs/network/\" rel=\"nofollow\">http://visjs.org</a> I prepare client dart code.</p>\n\n<p>While code compiles without any errors and warnings nothing happens in browser, expected to see graph-tree.</p>\n\n<p>What I did wrong or miss to do?  </p>\n\n<p><a href=\"https://gist.github.com/EdSv/e274a4d12ad3491c383fb4fe76ee671e\" rel=\"nofollow\">https://gist.github.com/EdSv/e274a4d12ad3491c383fb4fe76ee671e</a></p>\n"}, {"tags": ["dart", "overriding", "subtype"], "comments": [{"owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "edited": false, "score": 0, "creation_date": 1460281181, "post_id": 36472795, "comment_id": 60660432, "body": "Unrelated to the error, the <code>operator==</code> method should accept any <code>Object</code>. If you have the code above and have a <code>Bar</code> and a <code>Foo</code> in the same <code>HashSet</code>, then you get type errors when it tries to do <code>bar == foo</code> because <code>Bar.operator==</code> doesn&#39;t accept a <code>Foo</code>."}], "answers": [{"comments": [{"owner": {"reputation": 176, "user_id": 121561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8de96fc831b6ae3021e7d9566924e0e5?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/121561/mark"}, "edited": false, "score": 0, "creation_date": 1460428576, "post_id": 36548810, "comment_id": 60725587, "body": "As you&#39;ve already figured out, when you override the == operator, the parameter should be of type Object, and you should also override the hashCode getter. Just wanted to add a good source - <a href=\"http://work.j832.com/2014/05/equality-and-dart.html\" rel=\"nofollow noreferrer\">work.j832.com/2014/05/equality-and-dart.html</a>"}, {"owner": {"reputation": 211, "user_id": 5664590, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1d77dbb78f59448bffaf687854373187?s=128&d=identicon&r=PG&f=1", "display_name": "jfp", "link": "https://stackoverflow.com/users/5664590/jfp"}, "reply_to_user": {"reputation": 176, "user_id": 121561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8de96fc831b6ae3021e7d9566924e0e5?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/121561/mark"}, "edited": false, "score": 0, "creation_date": 1460548194, "post_id": 36548810, "comment_id": 60791579, "body": "Thanks.  Good article!"}], "tags": [], "owner": {"reputation": 211, "user_id": 5664590, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1d77dbb78f59448bffaf687854373187?s=128&d=identicon&r=PG&f=1", "display_name": "jfp", "link": "https://stackoverflow.com/users/5664590/jfp"}, "is_accepted": false, "score": 1, "last_activity_date": 1460377978, "creation_date": 1460377978, "answer_id": 36548810, "question_id": 36472795, "link": "https://stackoverflow.com/questions/36472795/error-invalid-override-in/36548810#36548810", "title": "Error: Invalid override in ==", "body": "<p>This may not be a bug.  I just realized that the == operator should probably have a type of Object to work effectively.  A better error message would be helpful.</p>\n"}, {"tags": [], "owner": {"reputation": 1107, "user_id": 7906279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BggyS.jpg?s=128&g=1", "display_name": "Ares", "link": "https://stackoverflow.com/users/7906279/ares"}, "is_accepted": false, "score": 1, "last_activity_date": 1555353505, "creation_date": 1555353505, "answer_id": 55695392, "question_id": 36472795, "link": "https://stackoverflow.com/questions/36472795/error-invalid-override-in/55695392#55695392", "title": "Error: Invalid override in ==", "body": "<p>The problem is that you mentioned Class name in operator ==</p>\n\n<pre><code>1  class Foo {\n2    int foo;\n\n3    Foo(this.foo);\n\n4    bool operator ==(Foo a) =&gt; foo == a.foo;\n5    int get hashCode =&gt; foo * 17;\n6  }\n\n7  class Bar extends Foo {\n8    int bar;\n\n8    Bar(int foo, this.bar) : super(foo);\n\n10   bool operator ==(Bar a) =&gt; (bar == a.bar) &amp;&amp; (foo == a.foo);\n11   int get hashCode =&gt; bar * (foo * 17);\n12 }\n</code></pre>\n\n<p>bool operator ==(Foo a) => foo == a.foo;</p>\n\n<p>bool operator ==(Bar a) => (bar == a.bar) &amp;&amp; (foo == a.foo);</p>\n\n<p>These two lines cause problems.</p>\n\n<p>You must update these lines like this.</p>\n\n<p>bool operator ==(a) => foo == a.foo;</p>\n\n<p>bool operator ==(a) => (bar == a.bar) &amp;&amp; (foo == a.foo);</p>\n"}], "owner": {"reputation": 211, "user_id": 5664590, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1d77dbb78f59448bffaf687854373187?s=128&d=identicon&r=PG&f=1", "display_name": "jfp", "link": "https://stackoverflow.com/users/5664590/jfp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 899, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1555353505, "creation_date": 1460023302, "question_id": 36472795, "link": "https://stackoverflow.com/questions/36472795/error-invalid-override-in", "title": "Error: Invalid override in ==", "body": "<p>The following error:</p>\n\n<pre><code>ERROR: Invalid override. The type of Bar.== ((Bar) \u2192 bool) is not a subtype of \nFoo.== ((Foo) \u2192 bool). \n</code></pre>\n\n<p>Occurs in line 10 of the following code (v1.15.0):</p>\n\n<pre><code>1  class Foo {\n2    int foo;\n\n3    Foo(this.foo);\n\n4    bool operator ==(Foo a) =&gt; foo == a.foo;\n5    int get hashCode =&gt; foo * 17;\n6  }\n\n7  class Bar extends Foo {\n8    int bar;\n\n8    Bar(int foo, this.bar) : super(foo);\n\n10   bool operator ==(Bar a) =&gt; (bar == a.bar) &amp;&amp; (foo == a.foo);\n11   int get hashCode =&gt; bar * (foo * 17);\n12 }\n</code></pre>\n\n<p>I have assumed that Bar is a subtype of Foo.  What is the problem with this code?</p>\n"}, {"tags": ["dart", "dart-polymer"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1460043508, "post_id": 36470577, "comment_id": 60571788, "body": "I run into this as well frequently. I couldn&#39;t pin it down. Usually killing <code>pub serve</code> (for example using the <code>stop</code> button in the <code>Pub Serve</code> view in WebStorm` fixes the issue. Often <code>pub serve</code> also prints syntax errors when the application is loaded from a freshly started <code>pub serve</code> which it doesn&#39;t print when the application is just reloaded."}], "answers": [{"tags": [], "owner": {"reputation": 783, "user_id": 4145218, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/0799ebc719896b086690bb786878891a?s=128&d=identicon&r=PG&f=1", "display_name": "Lymp", "link": "https://stackoverflow.com/users/4145218/lymp"}, "is_accepted": false, "score": 1, "last_activity_date": 1460190391, "creation_date": 1460190391, "answer_id": 36514495, "question_id": 36470577, "link": "https://stackoverflow.com/questions/36470577/polymer-dart-http-www-xxx-index-bootstrap-initialize-dart-failed-to-load-reso/36514495#36514495", "title": "Polymer-dart: http://www.xxx/index.bootstrap.initialize.dart Failed to load resource - where is it?", "body": "<p>I was missing:</p>\n\n<pre><code>&lt;script src=\"packages/web_components/webcomponents-lite.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>in index.html.  Now it works in Firefox, and Dartium isn't looking for the bootstrap file.</p>\n"}], "owner": {"reputation": 783, "user_id": 4145218, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/0799ebc719896b086690bb786878891a?s=128&d=identicon&r=PG&f=1", "display_name": "Lymp", "link": "https://stackoverflow.com/users/4145218/lymp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1451, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461749520, "creation_date": 1460017370, "last_edit_date": 1495541257, "question_id": 36470577, "link": "https://stackoverflow.com/questions/36470577/polymer-dart-http-www-xxx-index-bootstrap-initialize-dart-failed-to-load-reso", "title": "Polymer-dart: http://www.xxx/index.bootstrap.initialize.dart Failed to load resource - where is it?", "body": "<p>I have a Dart (1_16_0_dev_2) Polymer web app. I see <a href=\"https://stackoverflow.com/questions/34954862/dart-app-cannot-find-index-bootstrap-initialize-dart\">>the problem here&lt;</a> , but I still have it. My yaml is :</p>\n\n<pre><code>dependencies:\n  browser: ^0.10.0\n  polymer: ^1.0.0-rc.16\n  polymer_elements: ^1.0.0-rc.8\n\ntransformers:\n- polymer:\n    entry_points:\n      - web/index.html\n- $dart2js:\n    $include: '**/*.bootstrap.initialize.dart' (I've tried with and without this line)\n    minify: true\n    commandLineOptions:\n    - --trust-type-annotations\n    - --trust-primitives\n</code></pre>\n\n<p>I've tried without the dart2js too. I can view my website in (some!?) Chromes on different devices, but Dartium gives this complaint </p>\n\n<pre><code>http://www.xxx/index.bootstrap.initialize.dart Failed to load resource: the server responded with a status of 404 (Not Found)\n</code></pre>\n\n<p>(and I assume it's why FireFox and Edge show a blank page).</p>\n\n<p>What am I doing wrong please?\nThanks,\ncheers,\ns</p>\n"}]