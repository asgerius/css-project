[{"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 12252350, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-t0Bf2-QFoyY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfzuy3bZwiL2kGvIINjeRiLpejEvA/photo.jpg?sz=128", "display_name": "Hasib Akon", "link": "https://stackoverflow.com/users/12252350/hasib-akon"}, "edited": false, "score": 0, "creation_date": 1573719133, "post_id": 58849918, "comment_id": 103976488, "body": "actually i am checking here"}, {"owner": {"reputation": 13, "user_id": 12252350, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-t0Bf2-QFoyY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfzuy3bZwiL2kGvIINjeRiLpejEvA/photo.jpg?sz=128", "display_name": "Hasib Akon", "link": "https://stackoverflow.com/users/12252350/hasib-akon"}, "edited": false, "score": 0, "creation_date": 1573719137, "post_id": 58849918, "comment_id": 103976491, "body": "child: Icon(                                     Icons.favorite,                                     color:read_fav(_key[index])!=null &amp;&amp; read_fav(_key[index]) == true                                         ? Colors.blue                                         : Colors.black,                                   )),"}], "tags": [], "owner": {"reputation": 4149, "user_id": 5715935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1659768280958223/picture?type=large", "display_name": "Jay Mungara", "link": "https://stackoverflow.com/users/5715935/jay-mungara"}, "is_accepted": true, "score": 0, "last_activity_date": 1573709114, "creation_date": 1573709114, "answer_id": 58849918, "question_id": 58847407, "link": "https://stackoverflow.com/questions/58847407/can-not-convert-future-data-to-exact-data/58849918#58849918", "title": "Can not convert Future data to exact data", "body": "<p>Just follow the code like,</p>\n\n<pre><code>    Future&lt;bool&gt; _isfav(String post_key) async {\n    bool _is_fav;\n    var snapData = await FirebaseDatabase.instance\n        .reference()\n        .child(Common.user)\n        .child(Common.number)\n        .child(\"favourite\")\n        .child(post_key)\n        .once();\n\n    if (v.value != null) {\n      _is_fav = true;\n    } else {\n      _is_fav = false;\n    }\n\n    return _is_fav;\n  }\n\n  Future&lt;bool&gt; read_fav(String index) async{\n    bool data=false;\n    data=await _isfav(index);\n    return data;\n  }\n</code></pre>\n\n<p>Also, read_fav will be a future method. because it depends on _isFav() return value which will be predicted in future.</p>\n\n<pre><code>bool isReadFav=await read_fav(index);\n</code></pre>\n\n<p>Just refer dart await and then concepts at <a href=\"https://toastguyz.com/dart/dart-async/\" rel=\"nofollow noreferrer\">Here</a></p>\n\n<p>You're all set.</p>\n"}], "owner": {"reputation": 13, "user_id": 12252350, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-t0Bf2-QFoyY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfzuy3bZwiL2kGvIINjeRiLpejEvA/photo.jpg?sz=128", "display_name": "Hasib Akon", "link": "https://stackoverflow.com/users/12252350/hasib-akon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 58849918, "answer_count": 1, "score": -2, "last_activity_date": 1573722879, "creation_date": 1573689458, "last_edit_date": 1573722879, "question_id": 58847407, "link": "https://stackoverflow.com/questions/58847407/can-not-convert-future-data-to-exact-data", "title": "Can not convert Future data to exact data", "body": "<p>I am using Future to return some information from Firebase database that return Future .Now i wanted to convert bool.Here i am faceting null .But into the then function i found my value but when i return it its remain null.</p>\n\n<pre><code> Future&lt;bool&gt; _isfav(String post_key)  async {\n bool _is_fav;\n\nawait   FirebaseDatabase.instance\n    .reference()\n    .child(Common.user)\n    .child(Common.number)\n    .child(\"favourite\")\n    .child(post_key)\n    .once()\n    .then((v) {\n  print(v.value);\n  if (v.value != null) {\n    _is_fav = true;\n  } else {\n     _is_fav= false;\n  }\n}).catchError((err) =&gt; print(err));\n return _is_fav;  }\n</code></pre>\n\n<p>This code perfectly fine .But now </p>\n\n<pre><code>  bool read_fav(String index)  {\n\nbool data;\n\n_isfav(index).then((v){\n\n\n    data= v;\n\n    print(data); /// printing data\n\n\n});\n\nprint(data); //printing null\nreturn  data; //returning null   }\n</code></pre>\n\n<p>When i print data into the then function its show my data but when i return  it its return null.</p>\n\n<p>i wanted calling the function from here </p>\n\n<pre><code> child: Icon(\n                                Icons.favorite,\n                                color:read_fav(_key[index])!=null &amp;&amp; read_fav(_key[index]) == true\n                                    ? Colors.blue\n                                    : Colors.black,\n                              )),\n</code></pre>\n"}, {"tags": ["php", "flutter", "dart", "firebase-authentication", "google-signin"], "owner": {"reputation": 11, "user_id": 12369453, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f0NBGsCUBbU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcLQM4CKXYQSmEy2zUIUxPL5J3r4Q/photo.jpg?sz=128", "display_name": "Vidya Prakash Awasthi", "link": "https://stackoverflow.com/users/12369453/vidya-prakash-awasthi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1573738967, "creation_date": 1573685166, "last_edit_date": 1573738967, "question_id": 58846790, "link": "https://stackoverflow.com/questions/58846790/unable-to-get-google-signin-authenticated-with-backend-srever-with-futter-androi", "title": "Unable to get google signin authenticated with backend srever with futter android app even after sending right Id_token", "body": "<p><strong>Just a map to store post request body</strong></p>\n\n<pre><code>var rqstParameters = {\n  'email': '',\n  'loginMethod': '',\n  'name': '',\n  'token': ''\n};\n\n</code></pre>\n\n<p><strong>Google Login triggered on this button pressed</strong></p>\n\n<pre><code>\n\nreturn RaisedButton(\n            onPressed: () {\n              authService.googleSignIn().then((user) {\n                user.getIdToken(refresh: true).then((usrTokenId) {\n                  rqstParameters['email'] = user.email;\n                  rqstParameters['loginMethod'] = '4';\n                  rqstParameters['name'] = user.displayName;\n                  // printWrapped(usrTokenId.token);\n                  rqstParameters['token'] = usrTokenId.token;\n                }).whenComplete(() {\n                  fetchPost().then((response) {\n                    var body = response.body;\n                    print(body);\n                  });\n                });\n              });\n            },\n            color: Colors.transparent,\n            child: Text(\n              'Signin with GOOGLE',\n              style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold),\n            ),\n          );\n</code></pre>\n\n<p><strong>Request Looks like this---></strong></p>\n\n<pre><code>Future&lt;http.Response&gt; fetchPost() async {\n  // print(rqstParameters);\n\n  final response = await http.post(\n    'https://this/is/the_server.in/dashboard/login.php',\n    headers: {'Accept': 'application/json'},\n    body: rqstParameters,\n  );\n  print(response.statusCode);\n\n  return response;\n}\n</code></pre>\n\n<p><strong>This is Authentication Logic used for Google Signin</strong></p>\n\n<pre><code>import 'package:firebase_auth/firebase_auth.dart';\nimport 'package:google_sign_in/google_sign_in.dart';\nimport 'package:rxdart/rxdart.dart';\n\nclass AuthService {\n  FirebaseUser mCurrentUser;\n  final GoogleSignIn _googleSignIn = GoogleSignIn();\n  final FirebaseAuth _auth = FirebaseAuth.instance;\n\n  // Shared State for Widgets\n  Observable&lt;FirebaseUser&gt; user; // firebase\n  PublishSubject loading = PublishSubject();\n\n  // constructor\n  AuthService() {\n    user = Observable(_auth.onAuthStateChanged);\n  }\n\n  Future&lt;FirebaseUser&gt; googleSignIn() async {\n    loading.add(true);\n\n    final GoogleSignInAccount googleUser = await _googleSignIn.signIn();\n\n    final GoogleSignInAuthentication googleAuth =\n        await googleUser.authentication;\n\n    final AuthCredential credential = GoogleAuthProvider.getCredential(\n      accessToken: googleAuth.accessToken,\n      idToken: googleAuth.idToken,\n    ); \n\n\n    final AuthResult result = await _auth.signInWithCredential(credential);\n    final FirebaseUser user = result.user;\n\n    // Done\n    loading.add(false); \n    print(\"signed in as \" + user.displayName );\n    return user;\n  }\n\n  void signOut() {\n    _auth.signOut();\n  }\n\n\nfinal AuthService authService = AuthService();\n</code></pre>\n\n<p><strong>This is the response body i am getting back from server--></strong></p>\n\n<pre><code>{\"email\":\"example@question.com\",\"name\":\"Users Display Name\",\"token\":\"eyJhbGciOiJSUzI1NiIsImtpZCI6IjI1MDgxMWNkYzYwOWQ5MGY5ODE1MTE5MWIyYmM5YmQwY2ViOWMwMDQiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoiVmlkeWkjfhjkEgUHJha2FzaCBBd2FzdGhpIiwjxdfbicGljdHVyZSI6Imh0dHBzOi8vbGg2Lmdvb2dsZXVzZXJjb250ZW50LmNvbS8tYjJoZ20yeFNfRlkvQUFBQUFBQUFBQUkvQUFBQUFBQUFBQUEvQUNIaTNyZTZwMXlBQVlUXzNQUkwyVWFGczlDQXNwcElCdy9zOTYtYy9waG90by5qcGciLCJpc3MiOiJodHRwczovL3NlY3VyZXRvaskdlfjkl2VuLmdvb2dsZS5jb20vdGF4aGVhbGlubWFjaGluZSIsImF1ZklsdfjklCI6InRheGhlYWxpbm1hY2hpbmUiLCJhdXRoX3RpbWUiOjE1NzM2ODM0MzIsInVzZXJfaWQiOiJRTmVUT3cyRnpraEJhczRQQVM3S2lwTWhNVFcyIiwic3ViIjoiUU5lVE93MkZ6a2hCYXM0UEFTN0tpcE1oTVRXMiIsImlhdCI6MTU3MzY4MzQzMywiZdkjfhkjXhwIjoxNTczNjg3MDMzLCJlbWFpbCI6InByYWthc2h2aWR5YTY4QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7Imdvb2dsZS5jb20iOlsiMTE0MzE5MjI5ODQ1NTEyOTYsdgf5MzAwIl0sImVtYWlsIjpbInByYWthc2h2aWR5YTY4QGdtYWlsLmNvbSJdfSwic2lnbl9pbl9wcm92aWRlciI6Imdvb2dsZS5jb20ifX0.NBuuCCtFMjBQghBjEDajSyEqbBYF567yN3u7fk1gCx8nzrVAYyVLc1f7zQoId0dsjfjahPnnMoTpU3mAdrL-PyWgJIwxI4WjKNyhhAy9XXgWZa8gUb5APAPYbcomPxiuThrE8-Bfkr-vdSTkviwRLzk2XKCNi-wtXGYrikQ34Rj5FzmRsPzGa6dLICyB-qyhbAOwQ-jhjsdhfuCMgUISseyl-ol5Ua_RnE7KHwdjNxTvVdnax_cT42uY88cpGGQc3JksdjhfrKAvTe19dzu092kMVnG91euFMBUQw2Nu6a6cdq7k4vz-egZd1IMIwkrmSQiRQihG3ODEOhPPuuo2lEsO7iHMldF3c4D_oA\",\"payload\":false,\"error\":\"payload not verified\"}\n\n</code></pre>\n\n<p><strong>server uses this PHP code to verify client</strong></p>\n\n<pre><code>$client = new Google_Client(['client_id' =&gt; $CLIENT_ID]); \n$payload = $client-&gt;verifyIdToken($id_token);\nif ($payload) {\n   //login Successful\n} else {\n  // payload not verified\n  // login Failed\n\n}\n</code></pre>\n\n<p>Why payload is not getting verified when the tokens are all sent correctly and proper flow is maintained...please help.. :(</p>\n"}, {"tags": ["mongodb", "flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 12369361, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tR7NP9JcB_4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdxmJBEGrMmWGfLC0vz5bsD7LFZVQ/photo.jpg?sz=128", "display_name": "adrian souto", "link": "https://stackoverflow.com/users/12369361/adrian-souto"}, "edited": false, "score": 0, "creation_date": 1573682270, "post_id": 58846223, "comment_id": 103966143, "body": "I try with the IP and dont works, anyway i working with android studio and android mobile emulator"}, {"owner": {"reputation": 428, "user_id": 11370121, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V21op.png?s=128&g=1", "display_name": "Pyth0nGh057", "link": "https://stackoverflow.com/users/11370121/pyth0ngh057"}, "reply_to_user": {"reputation": 11, "user_id": 12369361, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tR7NP9JcB_4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdxmJBEGrMmWGfLC0vz5bsD7LFZVQ/photo.jpg?sz=128", "display_name": "adrian souto", "link": "https://stackoverflow.com/users/12369361/adrian-souto"}, "edited": false, "score": 0, "creation_date": 1573682617, "post_id": 58846223, "comment_id": 103966269, "body": "Ok. Does your db have a password ?"}], "tags": [], "owner": {"reputation": 428, "user_id": 11370121, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V21op.png?s=128&g=1", "display_name": "Pyth0nGh057", "link": "https://stackoverflow.com/users/11370121/pyth0ngh057"}, "is_accepted": false, "score": 0, "last_activity_date": 1573682106, "creation_date": 1573682106, "answer_id": 58846223, "question_id": 58846141, "link": "https://stackoverflow.com/questions/58846141/problem-with-flutter-and-mongodb-connection/58846223#58846223", "title": "problem with flutter and mongodb connection", "body": "<p>I suppose that you have a local mongoDB server. If it is the case, you have to connect your local server and your android phone to the same network (through wifi).</p>\n\n<p>Then get the IP of your local server and replacing <code>localhost</code> in your url with the IP you found.</p>\n\n<p>If you can't, it is possible that your firewall is blocking your requests.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 12369361, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tR7NP9JcB_4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdxmJBEGrMmWGfLC0vz5bsD7LFZVQ/photo.jpg?sz=128", "display_name": "adrian souto", "link": "https://stackoverflow.com/users/12369361/adrian-souto"}, "is_accepted": true, "score": 1, "last_activity_date": 1573688050, "creation_date": 1573688050, "answer_id": 58847208, "question_id": 58846141, "link": "https://stackoverflow.com/questions/58846141/problem-with-flutter-and-mongodb-connection/58847208#58847208", "title": "problem with flutter and mongodb connection", "body": "<p>solved ==> <a href=\"https://stackoverflow.com/a/55786011/12369361\">https://stackoverflow.com/a/55786011/12369361</a></p>\n\n<p>due to use emulator I need to use 10.0.2.2 instead of localhost</p>\n"}], "owner": {"reputation": 11, "user_id": 12369361, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tR7NP9JcB_4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdxmJBEGrMmWGfLC0vz5bsD7LFZVQ/photo.jpg?sz=128", "display_name": "adrian souto", "link": "https://stackoverflow.com/users/12369361/adrian-souto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 809, "favorite_count": 0, "accepted_answer_id": 58847208, "answer_count": 2, "score": 0, "last_activity_date": 1573688050, "creation_date": 1573681696, "question_id": 58846141, "link": "https://stackoverflow.com/questions/58846141/problem-with-flutter-and-mongodb-connection", "title": "problem with flutter and mongodb connection", "body": "<pre><code>import 'package:mongo_dart/mongo_dart.dart';\n\nmain() async{\n  Db db = new Db(\"mongodb://localhost:27017/workouts\");\n  await db.open();\n  print(\"success ---------------------------------\");\n}\n</code></pre>\n\n<p>this symple code and dont connect, i dont know why.\n    this is the output:</p>\n\n<pre><code>Syncing files to device Android SDK built for x86...\nRestarted application in 306ms.\nE/flutter ( 5415): [ERROR:flutter/lib/ui/ui_dart_state.cc(148)] Unhandled Exception: SocketException: OS Error: Connection refused, errno = 111, address = localhost, port = 52206\nE/flutter ( 5415): #0      _ConnectionManager._connect (package:mongo_dart/src/network/connection_manager.dart:23:5)\n</code></pre>\n\n<p>.... \nand more logs </p>\n\n<p>\u00bfsome help? :(</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 3890, "user_id": 3626078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/SBXjb.jpg?s=128&g=1", "display_name": "magicleon94", "link": "https://stackoverflow.com/users/3626078/magicleon94"}, "edited": false, "score": 1, "creation_date": 1573728617, "post_id": 58844862, "comment_id": 103981873, "body": "how are you switching?"}, {"owner": {"reputation": 2056, "user_id": 11829057, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mabUZXql6Ss/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd8xuCsBWOYttvev76OEWj4v5uz4w/photo.jpg?sz=128", "display_name": "Karel Debedts", "link": "https://stackoverflow.com/users/11829057/karel-debedts"}, "reply_to_user": {"reputation": 3890, "user_id": 3626078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/SBXjb.jpg?s=128&g=1", "display_name": "magicleon94", "link": "https://stackoverflow.com/users/3626078/magicleon94"}, "edited": false, "score": 0, "creation_date": 1573805202, "post_id": 58844862, "comment_id": 104013319, "body": "I &#39;switch&#39; with a gesturedetector, it does &#39;setState&#39; and adjusts the PageSelect. Is it possible that am doing the wrong approach to switch pages? Are there better ways to use a sort of TabBar with custom layout?"}], "owner": {"reputation": 2056, "user_id": 11829057, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mabUZXql6Ss/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd8xuCsBWOYttvev76OEWj4v5uz4w/photo.jpg?sz=128", "display_name": "Karel Debedts", "link": "https://stackoverflow.com/users/11829057/karel-debedts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1573675872, "creation_date": 1573675872, "question_id": 58844862, "link": "https://stackoverflow.com/questions/58844862/flutter-keep-client-alive-doesnt-wrok", "title": "Flutter keep client alive doesn&#39;t wrok", "body": "<p>I have an app that switches widgets on a page.\n(custom made container with 2 gestureDetectors to switch between the 2 pages)</p>\n\n<p>the stateless widget to switch the pages: (it returns the chosen widget)</p>\n\n<pre><code>  class Layer2 extends StatelessWidget {\n  Layer2({this.pageName});\n\n  PageSelect pageName;\n  @override\n  Widget build(BuildContext context) {\n    if (pageName == PageSelect.Friends) {\n      return DiscoverFriends();\n    } else if (pageName == PageSelect.FriendRequests) {\n      return Requests();\n    } else {\n      return Text(\"\");\n    }\n  }\n}\n</code></pre>\n\n<p>Then I use this stful widget where I added the 'keep alive client'.</p>\n\n<pre><code>class Requests extends StatefulWidget {\n  @override\n  _RequestsState createState() =&gt; _RequestsState();\n}\n\nclass _RequestsState extends State&lt;Requests&gt;\n    with AutomaticKeepAliveClientMixin&lt;Requests&gt; {\n\n  @override\n  bool get wantKeepAlive =&gt; true;\n</code></pre>\n\n<p>etc....</p>\n\n<p>It works, but it doesn't keep the 2 widgets alive. (when I switch, the init state runs again)</p>\n\n<p>What am I doing wrong?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["flutter", "dart", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1573674047, "post_id": 58844095, "comment_id": 103962540, "body": "Not sure what you&#39;re asking here.  Could you edit the question to show the code that you&#39;re working with, and where you need this ID?"}, {"owner": {"reputation": 131, "user_id": 6607935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zZgss.png?s=128&g=1", "display_name": "Milie", "link": "https://stackoverflow.com/users/6607935/milie"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1573725379, "post_id": 58844095, "comment_id": 103979847, "body": "I need to fetch single documents from the users&#39; collection. Updated question."}], "answers": [{"tags": [], "owner": {"reputation": 1313, "user_id": 8213910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DFst7.jpg?s=128&g=1", "display_name": "Nolence", "link": "https://stackoverflow.com/users/8213910/nolence"}, "is_accepted": true, "score": 4, "last_activity_date": 1573683468, "creation_date": 1573683468, "answer_id": 58846472, "question_id": 58844095, "link": "https://stackoverflow.com/questions/58844095/how-to-get-firestore-document-id/58846472#58846472", "title": "How to get Firestore document ID?", "body": "<p>To get the auto generated id, you can just call the <code>document</code> method on whatever collection you're trying to get a document from and the returned value will have a getter for <code>documentID</code></p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>final userDocument = usersCollection.document();\nfinal documentID = userDocument.documentID;\n</code></pre>\n\n<p>You usually do this when you first want to create a document. To retrieve the <code>documentID</code> after you've created it, I'd add it to the user document itself:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>userDocument.setData({\n  documentID: documentID,\n  /* ... */\n});\n</code></pre>\n\n<p>Instead of using the auto generated <code>documentID</code> though, I personally use the firebase user's <code>uid</code> property just because it ties it back to Firebase auth</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>// user is a FirebaseUser\nfinal userDocument = usersCollection.document(user.uid);\nuserDocument.setData({\n  uid: user.uid,\n  // ...displayName, email, etc.\n});\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 6607935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zZgss.png?s=128&g=1", "display_name": "Milie", "link": "https://stackoverflow.com/users/6607935/milie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3026, "favorite_count": 1, "accepted_answer_id": 58846472, "answer_count": 1, "score": 2, "last_activity_date": 1573725238, "creation_date": 1573672695, "last_edit_date": 1573725238, "question_id": 58844095, "link": "https://stackoverflow.com/questions/58844095/how-to-get-firestore-document-id", "title": "How to get Firestore document ID?", "body": "<p>In Dart, how do you retrieve the auto-generated ID within a collection's document?</p>\n\n<p>I have a collection called \"users\" that has auto ID documents with the users details. How do you retrieve that ID?</p>\n\n<pre><code>ID eg: yyHYmbDelykMPDWXHJaV\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/INXRI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/INXRI.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm trying to get this id. When the document is first created, when user is first created, the <code>user.uid</code> is stored in it's collection. </p>\n\n<p>I can retrieve all the data from the <code>users</code> database, which I don't want: </p>\n\n<pre><code>  void getData() {\n    databaseReference\n     .collection('users')\n     .getDocuments()\n     .then((QuerySnapshot snapshot) {\n    snapshot.documents.forEach((f) =&gt; print('${f.data}'));\n   });\n  } \n</code></pre>\n\n<p>I can get a future reference for the current user's user.uid but that still doesn't give me the unique document ID.</p>\n\n<pre><code>  Future&lt;DocumentReference&gt; getUserDoc() async {\n    final FirebaseAuth _auth = FirebaseAuth.instance;\n    final Firestore _firestore = Firestore.instance;\n    FirebaseUser user = await _auth.currentUser();\n    DocumentReference ref = \n      _firestore.collection('users').document(user.uid);\n    print(ref);\n    return ref;\n  }\n</code></pre>\n\n<p>Is it possible to search the user.uid against the database users and retrieve the ID that way?</p>\n"}, {"tags": ["android", "ios", "flutter", "dart", "responsive"], "comments": [{"owner": {"reputation": 176, "user_id": 2043275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d297774602b9dfdedf5324e893dc4e3e?s=128&d=identicon&r=PG", "display_name": "thusith.92", "link": "https://stackoverflow.com/users/2043275/thusith-92"}, "edited": false, "score": 1, "creation_date": 1573678804, "post_id": 58843913, "comment_id": 103964607, "body": "Maybe you can try a <code>Column</code>, with 2 <code>Row</code> widgets, one with <code>mainAxisAlignment: MainAxisAlignment.start</code> and the other <code>mainAxisAlignment: MainAxisAlignment.end</code>"}, {"owner": {"reputation": 749, "user_id": 9439899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/moFN0.jpg?s=128&g=1", "display_name": "josxha", "link": "https://stackoverflow.com/users/9439899/josxha"}, "reply_to_user": {"reputation": 176, "user_id": 2043275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d297774602b9dfdedf5324e893dc4e3e?s=128&d=identicon&r=PG", "display_name": "thusith.92", "link": "https://stackoverflow.com/users/2043275/thusith-92"}, "edited": false, "score": 0, "creation_date": 1573687953, "post_id": 58843913, "comment_id": 103967979, "body": "Thanks for the idea, but in this case both text fields will be displayed one below the other."}], "answers": [{"tags": [], "owner": {"reputation": 749, "user_id": 9439899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/moFN0.jpg?s=128&g=1", "display_name": "josxha", "link": "https://stackoverflow.com/users/9439899/josxha"}, "is_accepted": true, "score": 0, "last_activity_date": 1573688692, "creation_date": 1573688692, "answer_id": 58847305, "question_id": 58843913, "link": "https://stackoverflow.com/questions/58843913/flutter-align-two-text-widgets-on-extremes-with-a-wrap/58847305#58847305", "title": "Flutter align two text widgets on extremes with a wrap", "body": "<p><a href=\"https://stackoverflow.com/questions/55092977/is-it-possible-to-force-the-alignment-of-a-specific-child-widget-in-a-wrap-widge\">I've found the solution here that works perfectly.</a></p>\n\n<pre><code>@override\nWidget build(BuildContext context) {\n  return LeftRightAlign(\n    left: Text('left side',),\n    right: Text('right side'),\n  );\n}\n</code></pre>\n\n<p>Here's the code for the custom <code>LeftRightAlign</code> widget:</p>\n\n<pre><code>import 'package:flutter/widgets.dart';\nimport 'package:flutter/rendering.dart';\nimport 'dart:math' as math;\n\nclass LeftRightAlign extends MultiChildRenderObjectWidget {\n  LeftRightAlign({\n    Key key,\n    @required Widget left,\n    @required Widget right,\n  }) : super(key: key, children: [left, right]);\n\n  @override\n  RenderLeftRightAlign createRenderObject(BuildContext context) {\n    return RenderLeftRightAlign();\n  }\n}\n\nclass LeftRightAlignParentData extends ContainerBoxParentData&lt;RenderBox&gt; {}\n\nclass RenderLeftRightAlign extends RenderBox\n    with\n        ContainerRenderObjectMixin&lt;RenderBox, LeftRightAlignParentData&gt;,\n        RenderBoxContainerDefaultsMixin&lt;RenderBox, LeftRightAlignParentData&gt; {\n\n  RenderLeftRightAlign({\n    List&lt;RenderBox&gt; children,\n  }) {\n    addAll(children);\n  }\n\n  @override\n  void setupParentData(RenderBox child) {\n    if (child.parentData is! LeftRightAlignParentData)\n      child.parentData = LeftRightAlignParentData();\n  }\n\n  @override\n  void performLayout() {\n    final BoxConstraints childConstraints = constraints.loosen();\n\n    final RenderBox leftChild = firstChild;\n    final RenderBox rightChild = lastChild;\n\n    leftChild.layout(childConstraints, parentUsesSize: true);\n    rightChild.layout(childConstraints, parentUsesSize: true);\n\n    final LeftRightAlignParentData leftParentData = leftChild.parentData;\n    final LeftRightAlignParentData rightParentData = rightChild.parentData;\n\n    final bool wrapped =\n        leftChild.size.width + rightChild.size.width &gt; constraints.maxWidth;\n\n    leftParentData.offset = Offset.zero;\n    rightParentData.offset = Offset(\n        constraints.maxWidth - rightChild.size.width,\n        wrapped ? leftChild.size.height : 0);\n\n    size = Size(\n        constraints.maxWidth,\n        wrapped\n            ? leftChild.size.height + rightChild.size.height\n            : math.max(leftChild.size.height, rightChild.size.height));\n  }\n\n  @override\n  bool hitTestChildren(HitTestResult result, {Offset position}) {\n    return defaultHitTestChildren(result, position: position);\n  }\n\n  @override\n  void paint(PaintingContext context, Offset offset) {\n    defaultPaint(context, offset);\n  }\n}\n</code></pre>\n\n<p>All credits to Jamens (:</p>\n"}], "owner": {"reputation": 749, "user_id": 9439899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/moFN0.jpg?s=128&g=1", "display_name": "josxha", "link": "https://stackoverflow.com/users/9439899/josxha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1516, "favorite_count": 0, "accepted_answer_id": 58847305, "answer_count": 1, "score": 0, "last_activity_date": 1573688692, "creation_date": 1573671877, "question_id": 58843913, "link": "https://stackoverflow.com/questions/58843913/flutter-align-two-text-widgets-on-extremes-with-a-wrap", "title": "Flutter align two text widgets on extremes with a wrap", "body": "<p>I would like to have two text widgets in a row, one on the left and one on the right. If the texts are too long there would be an overflow. To prevent this I want to display the right text in such a case one line below.</p>\n\n<p>Here's what I'd like to have:\n<a href=\"https://i.stack.imgur.com/ekYrP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ekYrP.png\" alt=\"with short texts on both sides\"></a>\n<a href=\"https://i.stack.imgur.com/msYLe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/msYLe.png\" alt=\"with long texts on both sides\"></a></p>\n\n<p>Here's what I've tried with <code>WrapAlignment.spaceBetween</code> and a <code>Wrap</code> widget:</p>\n\n<pre><code>@override\nWidget build(BuildContext context) {\n  return Wrap(\n    alignment: WrapAlignment.spaceBetween,\n    spacing: 16,\n    children: &lt;Widget&gt;[\n      Text('a long text on the left side', textAlign: TextAlign.start),\n      Text('a long text on the right side', textAlign: TextAlign.end),\n    ],\n  );\n}\n</code></pre>\n\n<p>However, both texts stick to the left side:</p>\n\n<p><a href=\"https://i.stack.imgur.com/dpHpc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dpHpc.png\" alt=\"the result of my 1st attempt\"></a></p>\n\n<p>I have already tried to work with Align widgets, but it did not have the desired success. This is the code of my attempt:</p>\n\n<pre><code>Wrap(\n  alignment: WrapAlignment.spaceBetween,\n  spacing: 16,\n  children: &lt;Widget&gt;[\n    Align(alignment: Alignment.topLeft, child: Text('left side')),\n    Align(alignment: Alignment.topRight, child: Text('right side')),\n  ],\n)\n</code></pre>\n\n<p>However, this did not produce the desired result either:</p>\n\n<p><a href=\"https://i.stack.imgur.com/DAq8h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DAq8h.png\" alt=\"the result of my 2nd attempt\"></a>\nThank's in advance.</p>\n"}, {"tags": ["android", "flutter", "dart", "stream"], "owner": {"reputation": 77, "user_id": 10583694, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6XgLVEhjao4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbC3-2gARhYQ0fZEfm27xwGyw8TcCQ/mo/photo.jpg?sz=128", "display_name": "STEPHANE DEGRAS", "link": "https://stackoverflow.com/users/10583694/stephane-degras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 511, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1573670755, "creation_date": 1573669231, "last_edit_date": 1573670755, "question_id": 58843283, "link": "https://stackoverflow.com/questions/58843283/understanding-the-streams-coupled-with-http-request-in-flutter", "title": "Understanding the streams coupled with HTTP request in flutter", "body": "<p>Hello everyone I'm new on flutter and rigth now I'm trying to know how Stream work in flutter so I've done a little app to make it clear\nthis my service making GET resquest to a REST API (django rest framework ) :</p>\n\n<pre><code>class DataService {\n\n  static Future loadJson(String url) async {\n\n     await Future.delayed(Duration(seconds: 5));\n\n     http.Response response = await http.get(url);\n     if (response.statusCode == 200) {\n       String content = response.body;\n       var jsonResponse = convert.jsonDecode(response.body);\n       data = jsonResponse;\n       print('$jsonResponse');\n\n      } else {\n         print('Request failed with status: ${response.statusCode}.');\n   }\n }\n} \n</code></pre>\n\n<p>To feed my StreamBuilder inside my class State with data from the API, I'm using a stream which call my service :</p>\n\n<pre><code> class DataManager{\n    Stream&lt;List&gt; get colistView async*{\n         yield await DataService.loadJson(colis);\n    }\n  }\n</code></pre>\n\n<p>But I've got an issue calling <strong>new DataManager.colistView</strong> in the <strong>StreamBuilder</strong> when I run the app and switch several time on page from the same screen (page where stream is called include) its display <strong>Bad State: stream has already been listened to.</strong>\nWhat to do? Ideas?</p>\n\n<p>Put <strong>new DataManager.colistView.asBroadcastStream()</strong> in the StreamBuilder don't show data</p>\n\n<p>I called like this:</p>\n\n<pre><code>      StreamBuilder(\n        stream:new DataManager.colistView.asBroadcastStream(),\n          builder:(context, snapshot){\n             //return something if shapshot hasdata according to a connectionState\n          }\n      )\n</code></pre>\n\n<p>Its displays nothing on the screen page event after the full restart</p>\n"}, {"tags": ["google-maps", "flutter", "dart"], "comments": [{"owner": {"reputation": 1916, "user_id": 7783718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a43d3514a1097af1e17c0cb9b0bbfd8?s=128&d=identicon&r=PG&f=1", "display_name": "Abhay Koradiya", "link": "https://stackoverflow.com/users/7783718/abhay-koradiya"}, "edited": false, "score": 0, "creation_date": 1574317183, "post_id": 58842810, "comment_id": 104191141, "body": "what do you mean by active marker ?"}, {"owner": {"reputation": 2857, "user_id": 312943, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/350b93befcb7bc70e76aacca378fa883?s=128&d=identicon&r=PG", "display_name": "DrLazer", "link": "https://stackoverflow.com/users/312943/drlazer"}, "reply_to_user": {"reputation": 1916, "user_id": 7783718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a43d3514a1097af1e17c0cb9b0bbfd8?s=128&d=identicon&r=PG&f=1", "display_name": "Abhay Koradiya", "link": "https://stackoverflow.com/users/7783718/abhay-koradiya"}, "edited": false, "score": 0, "creation_date": 1574682331, "post_id": 58842810, "comment_id": 104305933, "body": "when you click on a market it shows info, and it becomes an active marker.  I cant find a way to achieve that with code only"}], "answers": [{"comments": [{"owner": {"reputation": 5497, "user_id": 11019743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R8NmK.png?s=128&g=1", "display_name": "Christine", "link": "https://stackoverflow.com/users/11019743/christine"}, "edited": false, "score": 0, "creation_date": 1573752738, "post_id": 58842979, "comment_id": 103996130, "body": "It&#39;s best to explain what your code snippet is doing, and why this is meant to be the answer to OP&#39;s question."}], "tags": [], "owner": {"reputation": 38, "user_id": 12362569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69d8d8efa6bb90feea51291754ff215e?s=128&d=identicon&r=PG&f=1", "display_name": "nordine enn", "link": "https://stackoverflow.com/users/12362569/nordine-enn"}, "is_accepted": false, "score": 0, "last_activity_date": 1573667960, "creation_date": 1573667960, "answer_id": 58842979, "question_id": 58842810, "link": "https://stackoverflow.com/questions/58842810/how-do-you-set-an-active-marker-with-google-maps-on-flutter/58842979#58842979", "title": "How do you set an active Marker with Google Maps on Flutter", "body": "<pre><code>   mapController.addMarker(\n  MarkerOptions(\n    position: LatLng(your values here),\n  ),\n);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9609, "user_id": 1891712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/phU0u.jpg?s=128&g=1", "display_name": "Spatz", "link": "https://stackoverflow.com/users/1891712/spatz"}, "is_accepted": false, "score": 1, "last_activity_date": 1574168345, "creation_date": 1574168345, "answer_id": 58934705, "question_id": 58842810, "link": "https://stackoverflow.com/questions/58842810/how-do-you-set-an-active-marker-with-google-maps-on-flutter/58934705#58934705", "title": "How do you set an active Marker with Google Maps on Flutter", "body": "<p>You can implement custom active state through <code>onTap</code> event handler.\nIn stateful widget create state to track selected marker and rebuild all markers comparing their IDs to the highlighted one:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:flutter/material.dart';\nimport 'package:google_maps_flutter/google_maps_flutter.dart';\n\nclass GoogleMapsLabPage extends StatefulWidget {\n  @override\n  State&lt;GoogleMapsLabPage&gt; createState() =&gt; GoogleMapsLabPageState();\n}\n\nclass GoogleMapsLabPageState extends State&lt;GoogleMapsLabPage&gt; {\n  final preset = [\n    {\"id\": \"mountain-view\", \"lat\": 37.421512, \"lng\": -122.084101},\n    {\"id\": \"san-bruno\", \"lat\": 37.62816, \"lng\": -122.426491},\n    {\"id\": \"san-francisco\", \"lat\": 37.789972, \"lng\": -122.390013},\n    {\"id\": \"sunnyvale\", \"lat\": 37.403694, \"lng\": -122.031583}\n  ];\n\n  String _selectedOffice = '';\n\n  List&lt;Marker&gt; _buildMarkers() {\n    return preset.map((office) {\n      return Marker(\n          markerId: MarkerId(office['id']),\n          position: LatLng(office['lat'], office['lng']),\n          icon: office['id'] == _selectedOffice\n              ? BitmapDescriptor.defaultMarkerWithHue(BitmapDescriptor.hueBlue)\n              : BitmapDescriptor.defaultMarker,\n          consumeTapEvents: true,\n          onTap: () {\n            setState(() {\n              _selectedOffice = office['id'];\n            });\n          });\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      body: GoogleMap(\n        initialCameraPosition: CameraPosition(target: LatLng(37.7, -122.2), zoom: 9.0),\n        markers: _buildMarkers().toSet(),\n      ),\n    );\n  }\n}\n\n</code></pre>\n\n<p>By setting <code>consumeTapEvents</code> parameter to <code>true</code> we can disable default tap handling by centering the map on the marker and displaying its info window.</p>\n"}, {"tags": [], "owner": {"reputation": 1578, "user_id": 7579549, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-pHcdnSpqfZE/AAAAAAAAAAI/AAAAAAAAEHk/x3rP65yp31A/photo.jpg?sz=128", "display_name": "Anirudh Bagri", "link": "https://stackoverflow.com/users/7579549/anirudh-bagri"}, "is_accepted": false, "score": 2, "last_activity_date": 1574169865, "creation_date": 1574169865, "answer_id": 58935147, "question_id": 58842810, "link": "https://stackoverflow.com/questions/58842810/how-do-you-set-an-active-marker-with-google-maps-on-flutter/58935147#58935147", "title": "How do you set an active Marker with Google Maps on Flutter", "body": "<p>There are ongoing issues in flutter related to the same thing <a href=\"https://github.com/flutter/flutter/issues/29899\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://github.com/flutter/flutter/issues/33481\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Currently, It is not possible to do this via official maps SDK.</p>\n\n<p>However, thanks to the community there is another forked project which has an implementation which can help you achieve this. Checkout <a href=\"http://%20https://github.com/flutter/flutter/issues/33481#issuecomment-536334663\" rel=\"nofollow noreferrer\">this</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 13240042, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2K1oMc3YF5c/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJN11Umtdn9OX2SOGUYURVdjKmMpzg/photo.jpg?sz=128", "display_name": "Seahlolo Makofane", "link": "https://stackoverflow.com/users/13240042/seahlolo-makofane"}, "is_accepted": false, "score": 2, "last_activity_date": 1586249867, "last_edit_date": 1586249867, "creation_date": 1586189853, "answer_id": 61064235, "question_id": 58842810, "link": "https://stackoverflow.com/questions/58842810/how-do-you-set-an-active-marker-with-google-maps-on-flutter/61064235#61064235", "title": "How do you set an active Marker with Google Maps on Flutter", "body": "<p>Use GoogleMapController to set the marker active, allMarkers here is a list of markers which might be coming from the database and the first one (index 0) will be active after execution of:</p>\n\n<pre><code>_googleMapController.showMarkerInfoWindow(allMarkers[0].markerId);\n</code></pre>\n\n<p><a href=\"https://pub.dev/documentation/google_maps_flutter/latest/google_maps_flutter/GoogleMapController/showMarkerInfoWindow.html\" rel=\"nofollow noreferrer\">Documentation</a></p>\n"}], "owner": {"reputation": 2857, "user_id": 312943, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/350b93befcb7bc70e76aacca378fa883?s=128&d=identicon&r=PG", "display_name": "DrLazer", "link": "https://stackoverflow.com/users/312943/drlazer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1313, "favorite_count": 0, "answer_count": 4, "score": 5, "last_activity_date": 1586249867, "creation_date": 1573667267, "question_id": 58842810, "link": "https://stackoverflow.com/questions/58842810/how-do-you-set-an-active-marker-with-google-maps-on-flutter", "title": "How do you set an active Marker with Google Maps on Flutter", "body": "<p>I have a GoogleMap in my Flutter app.\nWhen the page loads it calls on API and gets a list of geolocations which I use to create a list of markers.</p>\n\n<p>My GoogleMap uses this list of markers and they display nicely, however, I would like one of them to be active.  I can't see anything in the API documentation that says this is possible.  How can I achieve this?</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 3890, "user_id": 3626078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/SBXjb.jpg?s=128&g=1", "display_name": "magicleon94", "link": "https://stackoverflow.com/users/3626078/magicleon94"}, "edited": false, "score": 0, "creation_date": 1573728844, "post_id": 58842536, "comment_id": 103982029, "body": "do you mean something like preloading the view in order to &quot;have it ready&quot; when it needs to be shown?"}, {"owner": {"reputation": 646, "user_id": 11212916, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lETc_QrGde8/AAAAAAAAAAI/AAAAAAAAA18/NdAqtUgZywc/photo.jpg?sz=128", "display_name": "Hannes Hulterg&#229;rd", "link": "https://stackoverflow.com/users/11212916/hannes-hulterg%c3%a5rd"}, "reply_to_user": {"reputation": 3890, "user_id": 3626078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/SBXjb.jpg?s=128&g=1", "display_name": "magicleon94", "link": "https://stackoverflow.com/users/3626078/magicleon94"}, "edited": false, "score": 0, "creation_date": 1573729184, "post_id": 58842536, "comment_id": 103982233, "body": "Yes, that&#39;s exactly what I want"}, {"owner": {"reputation": 312, "user_id": 3215469, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5ad69cd6c0626c8932c539bd6c0c8f76?s=128&d=identicon&r=PG&f=1", "display_name": "KBeckers", "link": "https://stackoverflow.com/users/3215469/kbeckers"}, "edited": false, "score": 0, "creation_date": 1584017056, "post_id": 58842536, "comment_id": 107310553, "body": "Did you made any progress on this topic?"}, {"owner": {"reputation": 646, "user_id": 11212916, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lETc_QrGde8/AAAAAAAAAAI/AAAAAAAAA18/NdAqtUgZywc/photo.jpg?sz=128", "display_name": "Hannes Hulterg&#229;rd", "link": "https://stackoverflow.com/users/11212916/hannes-hulterg%c3%a5rd"}, "edited": false, "score": 0, "creation_date": 1584017336, "post_id": 58842536, "comment_id": 107310706, "body": "The best solution I could come up with was to use a Stack to always have the WebView in the background. But that is not an ideal solution I in my opinion, and we eventually gave up on the idea."}, {"owner": {"reputation": 5806, "user_id": 5362583, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/XYISG.jpg?s=128&g=1", "display_name": "Alok", "link": "https://stackoverflow.com/users/5362583/alok"}, "edited": false, "score": 0, "creation_date": 1596374723, "post_id": 58842536, "comment_id": 111785624, "body": "Can you not show <code>CircularProgressIndicator()</code> until it loads. I mean that gives the idea that we are loading, right @HannesHulterg&#229;rd ? You can use the indicator in the <code>WebView</code> <code>placeholder</code>"}], "owner": {"reputation": 646, "user_id": 11212916, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lETc_QrGde8/AAAAAAAAAAI/AAAAAAAAA18/NdAqtUgZywc/photo.jpg?sz=128", "display_name": "Hannes Hulterg&#229;rd", "link": "https://stackoverflow.com/users/11212916/hannes-hulterg%c3%a5rd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1596368234, "creation_date": 1573666119, "last_edit_date": 1596368234, "question_id": 58842536, "link": "https://stackoverflow.com/questions/58842536/how-can-i-load-flutter-webview-on-app-start", "title": "How can I load Flutter WebView on app start?", "body": "<p>I am developing an app where there is a WebView that will be viewed a lot. The people telling me what to do therefore wants the website to load when the app starts, so that it will be ready when the user decides to open the page with the WebView.</p>\n<p>One of my ideas were to use a <code>Future&lt;http.Response&gt;</code>, as described <a href=\"https://flutter.dev/docs/cookbook/networking/fetch-data\" rel=\"nofollow noreferrer\">Here</a>, but I don't think that will work since WebView expects a string as initialUrl.</p>\n<p>Do you have any ideas on how I can achieve this?</p>\n<p>Thanks!</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 1062, "user_id": 1597583, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100000686598648/picture?type=large", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/1597583/mahesh"}, "edited": false, "score": 0, "creation_date": 1573708432, "post_id": 58848632, "comment_id": 103972575, "body": "Thanks. Do you have any idea why is it not working before the extract?"}, {"owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "reply_to_user": {"reputation": 1062, "user_id": 1597583, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100000686598648/picture?type=large", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/1597583/mahesh"}, "edited": false, "score": 1, "creation_date": 1573709060, "post_id": 58848632, "comment_id": 103972747, "body": "I think the reason is the same as Javascript Closures. It&#39;s return a Container function link to string address not return a Container value link to string value"}], "tags": [], "owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "is_accepted": false, "score": 1, "last_activity_date": 1573699579, "creation_date": 1573699579, "answer_id": 58848632, "question_id": 58841700, "link": "https://stackoverflow.com/questions/58841700/flutter-for-loop-and-layoutbuilder/58848632#58848632", "title": "Flutter : For loop and LayoutBuilder", "body": "<p>Works when extract Container to another function return widget <br>\nYou can copy paste run full code below <br></p>\n\n<p>code snippet</p>\n\n<pre><code>Widget _textWdiget(string)\n  {\n    return Container(\n        child: LayoutBuilder(\n        builder: (context, constraint) {\n      return Text(string); //This return line makes problem with the for loop\n    }));\n  }\n\n  Widget getTextWidgets()\n  {\n    String string;\n    List&lt;Widget&gt; _temp = [];\n\n    for(int i = 0; i &lt; 10; i++) {\n      if(i == 0) { string = \"Hello\"; } else { string = \"World\";}\n      _temp.add(_textWdiget(string));\n    }\n    return Column(children: _temp);\n  }\n</code></pre>\n\n<p>demo</p>\n\n<p><a href=\"https://i.stack.imgur.com/nbgYb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nbgYb.png\" alt=\"enter image description here\"></a></p>\n\n<p>full code</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Flutter Demo',\n      theme: ThemeData(\n        // This is the theme of your application.\n        //\n        // Try running your application with \"flutter run\". You'll see the\n        // application has a blue toolbar. Then, without quitting the app, try\n        // changing the primarySwatch below to Colors.green and then invoke\n        // \"hot reload\" (press \"r\" in the console where you ran \"flutter run\",\n        // or simply save your changes to \"hot reload\" in a Flutter IDE).\n        // Notice that the counter didn't reset back to zero; the application\n        // is not restarted.\n        primarySwatch: Colors.blue,\n      ),\n      home: MyHomePage(title: 'Flutter Demo Home Page'),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  MyHomePage({Key key, this.title}) : super(key: key);\n\n  // This widget is the home page of your application. It is stateful, meaning\n  // that it has a State object (defined below) that contains fields that affect\n  // how it looks.\n\n  // This class is the configuration for the state. It holds the values (in this\n  // case the title) provided by the parent (in this case the App widget) and\n  // used by the build method of the State. Fields in a Widget subclass are\n  // always marked \"final\".\n\n  final String title;\n\n  @override\n  _MyHomePageState createState() =&gt; _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  int _counter = 0;\n\n  void _incrementCounter() {\n    setState(() {\n      // This call to setState tells the Flutter framework that something has\n      // changed in this State, which causes it to rerun the build method below\n      // so that the display can reflect the updated values. If we changed\n      // _counter without calling setState(), then the build method would not be\n      // called again, and so nothing would appear to happen.\n      _counter++;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    // This method is rerun every time setState is called, for instance as done\n    // by the _incrementCounter method above.\n    //\n    // The Flutter framework has been optimized to make rerunning build methods\n    // fast, so that you can just rebuild anything that needs updating rather\n    // than having to individually change instances of widgets.\n    return Scaffold(\n      appBar: AppBar(\n        // Here we take the value from the MyHomePage object that was created by\n        // the App.build method, and use it to set our appbar title.\n        title: Text(widget.title),\n      ),\n      body: Center(\n        // Center is a layout widget. It takes a single child and positions it\n        // in the middle of the parent.\n        child:  getTextWidgets(),\n      ),\n      floatingActionButton: FloatingActionButton(\n        onPressed: _incrementCounter,\n        tooltip: 'Increment',\n        child: Icon(Icons.add),\n      ), // This trailing comma makes auto-formatting nicer for build methods.\n    );\n  }\n\n  Widget _textWdiget(string)\n  {\n    return Container(\n        child: LayoutBuilder(\n        builder: (context, constraint) {\n      return Text(string); //This return line makes problem with the for loop\n    }));\n  }\n\n  Widget getTextWidgets()\n  {\n    String string;\n    List&lt;Widget&gt; _temp = [];\n\n    for(int i = 0; i &lt; 10; i++) {\n      if(i == 0) { string = \"Hello\"; } else { string = \"World\";}\n      _temp.add(_textWdiget(string));\n    }\n    return Column(children: _temp);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1062, "user_id": 1597583, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100000686598648/picture?type=large", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/1597583/mahesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 445, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1573699579, "creation_date": 1573663294, "question_id": 58841700, "link": "https://stackoverflow.com/questions/58841700/flutter-for-loop-and-layoutbuilder", "title": "Flutter : For loop and LayoutBuilder", "body": "<pre><code>List&lt;Widget&gt; _temp = [];    \n\nfor(int i = 0; i &lt; 10; i++) {\n   if(i == 0) { string = \"Hello\"; } else { string = \"World\"; }\n   _temp.add(Container(\n      child: LayoutBuilder(\n        builder: (context, constraint) { \n          return Text(string); //This return line makes problem with the for loop\n        })\n   ));\n}\n\nreturn _temp;\n</code></pre>\n\n<p>It prints only world.\nIf i use the Text widget as the direct child of Container widget without LayoutBuilder, Hello and World are printed.</p>\n\n<p>I think the <code>return</code> keyword is the problem.\nWhat is the solution?</p>\n"}, {"tags": ["flutter", "dart", "flutter-redux"], "answers": [{"tags": [], "owner": {"reputation": 178, "user_id": 8592338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AZzyD.jpg?s=128&g=1", "display_name": "Ali Esfandiari", "link": "https://stackoverflow.com/users/8592338/ali-esfandiari"}, "is_accepted": false, "score": 0, "last_activity_date": 1586434260, "creation_date": 1586434260, "answer_id": 61120856, "question_id": 58841653, "link": "https://stackoverflow.com/questions/58841653/generics-in-typedreducer-in-darts-flutter-redux/61120856#61120856", "title": "Generics in TypedReducer in dart&#39;s flutter redux", "body": "<p>in Android Studio Hold the Ctrl and click on TypedReducer or any other types that you don't know, then you can read more info in the source file.</p>\n\n<p>In this Case : TypedReducer </p>\n\n<p>/// Creates a reducer that will only be executed if the dispatched action\n/// matches the [Action] type.</p>\n"}], "owner": {"reputation": 7769, "user_id": 1291122, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/xQ8Ud.jpg?s=128&g=1", "display_name": "rahulserver", "link": "https://stackoverflow.com/users/1291122/rahulserver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 115, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1586434260, "creation_date": 1573663132, "question_id": 58841653, "link": "https://stackoverflow.com/questions/58841653/generics-in-typedreducer-in-darts-flutter-redux", "title": "Generics in TypedReducer in dart&#39;s flutter redux", "body": "<p>I'm just playing a bit with flutter, and the generics in function call is confusing me. \nConsider the call below:</p>\n\n<pre><code>final signinReducer = combineReducers&lt;SignInState&gt;([\n  TypedReducer&lt;SignInState,ValidateEmailAction&gt;(_validateEmail),\n  TypedReducer&lt;SignInState,ValidatePasswordAction&gt;(_validatePassword),\n  TypedReducer&lt;SignInState,ValidateLoginFields&gt;(_validateLoginFieldsAction),\n  TypedReducer&lt;SignInState,ChangeLoadingStatusAction&gt;(_changeLoadingStatusAction),\n  TypedReducer&lt;SignInState,EmailErrorAction&gt;(_emailErrorAction),\n  TypedReducer&lt;SignInState,PasswordErrorAction&gt;(_passwordErrorAction),\n  TypedReducer&lt;SignInState,SaveTokenAction&gt;(_saveToken),\n  TypedReducer&lt;SignInState,ConfirmForgotPasswordAction&gt;(_confirmCodeAction),\n  TypedReducer&lt;SignInState,CheckTokenAction&gt;(_checkTokenAction),\n  TypedReducer&lt;SignInState,ClearErrorsAction&gt;(_clearErrorsAction),\n  TypedReducer&lt;SignInState,ChangeScreenStateAction&gt;(_changeScreenStateAction),\n]);\n\n...\n\nSignInState _validateEmail(SignInState state, ValidateEmailAction action){\n  return state.copyWith(email: action.email);\n}\n\nSignInState _validatePassword(SignInState state, ValidatePasswordAction action) =&gt;\n    state.copyWith(password: action.password);\n....\n</code></pre>\n\n<p>So what does the generic in <code>combineReducers&lt;SignInState&gt;</code> indicate? </p>\n\n<p>Also most confusing is this syntax: <code>TypedReducer&lt;SignInState, ValidateEmailAction&gt;(_validateEmail)</code>. What does the second type <code>ValidateEmailAction</code> do here?</p>\n"}, {"tags": ["ios", "macos", "android-studio", "flutter", "dart"], "comments": [{"owner": {"reputation": 1386, "user_id": 4878961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b7b18a02d56939223da923e9215a28e?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/4878961/sam"}, "edited": false, "score": 1, "creation_date": 1573662583, "post_id": 58841418, "comment_id": 103957121, "body": "Hi Danish, it looks like Xcode can&#39;t locate &quot;GoogleService-Info.plist&quot; which is required for Firebase initialization. Check out this link - <a href=\"https://stackoverflow.com/questions/45317777/could-not-find-a-valid-googleservice-info-plist-in-your-project\" title=\"could not find a valid googleservice info plist in your project\">stackoverflow.com/questions/45317777/&hellip;</a>"}, {"owner": {"reputation": 562, "user_id": 6589177, "user_type": "registered", "profile_image": "https://graph.facebook.com/710769222425389/picture?type=large", "display_name": "Dani", "link": "https://stackoverflow.com/users/6589177/dani"}, "reply_to_user": {"reputation": 1386, "user_id": 4878961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b7b18a02d56939223da923e9215a28e?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/4878961/sam"}, "edited": false, "score": 0, "creation_date": 1573663237, "post_id": 58841418, "comment_id": 103957524, "body": "oh my bad. let me add this"}, {"owner": {"reputation": 562, "user_id": 6589177, "user_type": "registered", "profile_image": "https://graph.facebook.com/710769222425389/picture?type=large", "display_name": "Dani", "link": "https://stackoverflow.com/users/6589177/dani"}, "reply_to_user": {"reputation": 1386, "user_id": 4878961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b7b18a02d56939223da923e9215a28e?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/4878961/sam"}, "edited": false, "score": 0, "creation_date": 1573727379, "post_id": 58841418, "comment_id": 103981026, "body": "when application run it show white screen on iPhone but it is working fine on android  os. when i click app icon it open and crash but this all code is perfectly working on android."}], "owner": {"reputation": 562, "user_id": 6589177, "user_type": "registered", "profile_image": "https://graph.facebook.com/710769222425389/picture?type=large", "display_name": "Dani", "link": "https://stackoverflow.com/users/6589177/dani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 434, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1573662325, "creation_date": 1573662325, "question_id": 58841418, "link": "https://stackoverflow.com/questions/58841418/terminating-with-uncaught-exception-of-type-nsexception-in-xcode", "title": "Terminating with uncaught exception of type NSException in xcode", "body": "<p>I move the flutter project from the window PC to Mac. I am facing error while running project in Xcode I also try flutter clean but it did not work for. I do search a lot but could not find the solution.\nIs there any other way to make ipa?</p>\n\n<pre><code>2019-11-13 20:37:15.449711+0500 Naija TV[6295:758910]  - &lt;AppMeasurement&gt;[I-ACS036002] Analytics screen reporting is enabled. Call +[FIRAnalytics setScreenName:setScreenClass:] to set the screen name or override the default screen class name. To disable screen reporting, set the flag FirebaseScreenReportingEnabled to NO (boolean) in the Info.plist\n    2019-11-13 20:37:15.742255+0500 Naija TV[6295:758623] FirebaseAdMobPlugin &lt;warning&gt; [FIRApp configure]\n    2019-11-13 20:37:15.748279+0500 Naija TV[6295:758623] *** Terminating app due to uncaught exception 'com.firebase.core', reason: '`[FIRApp configure];` (`FirebaseApp.configure()` in Swift) could not find a valid GoogleService-Info.plist in your project. Please download one from https://console.firebase.google.com/.'\n    *** First throw call stack:\n    (0x1b9f2e190 0x1b91039f8 0x1b9e383b0 0x100d11fec 0x100f3790c 0x100f37644 0x100d0d0c4 0x100d0d73c 0x100d0dabc 0x1e68330f0 0x1e6834854 0x1e6839fe0 0x1e60fd2a4 0x1e610583c 0x1e60fcf28 0x1e60fd818 0x1e60fbb64 0x1e60fb82c 0x1e610036c 0x1e6101150 0x1e6100224 0x1e6104f24 0x1e68385e8 0x1e6434e04 0x1bc8aa9fc 0x1bc8b440c 0x1bc8b3c14 0x1034f8c78 0x1034fc840 0x1bc8e5040 0x1bc8e4cdc 0x1bc8e5294 0x1b9ebff2c 0x1b9ebfeac 0x1b9ebf794 0x1b9eba6d0 0x1b9eb9fc4 0x1bc0bb79c 0x1e683bc38 0x100d0dcac 0x1b997a8e0)\n    libc++abi.dylib: terminating with uncaught exception of type NSException\n</code></pre>\n"}, {"tags": ["flutter", "dart", "navigationbar"], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 6607935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zZgss.png?s=128&g=1", "display_name": "Milie", "link": "https://stackoverflow.com/users/6607935/milie"}, "edited": false, "score": 1, "creation_date": 1573658363, "post_id": 58839978, "comment_id": 103954532, "body": "Right. Adding <code>BottomNavigationBarType.fixed</code> for the <code>type</code> solved it. Thanks."}], "tags": [], "owner": {"reputation": 2783, "user_id": 1027936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7c00c38a2a2840ee056e39b4a900d274?s=128&d=identicon&r=PG", "display_name": "nicowernli", "link": "https://stackoverflow.com/users/1027936/nicowernli"}, "is_accepted": true, "score": 2, "last_activity_date": 1573657546, "creation_date": 1573657546, "answer_id": 58839978, "question_id": 58839930, "link": "https://stackoverflow.com/questions/58839930/bottom-navigation-bar-is-completely-white-how-to-fix/58839978#58839978", "title": "Bottom Navigation Bar is completely white, how to fix?", "body": "<p>From flutters <a href=\"https://api.flutter.dev/flutter/material/BottomNavigationBar-class.html\" rel=\"nofollow noreferrer\">official documentation</a>:</p>\n\n<blockquote>\n  <p>BottomNavigationBarType.fixed, the default when there are less than\n  four items. The selected item is rendered with the selectedItemColor\n  if it's non-null, otherwise the theme's ThemeData.primaryColor is\n  used. If backgroundColor is null, The navigation bar's background\n  color defaults to the Material background color, ThemeData.canvasColor\n  (essentially opaque white).</p>\n  \n  <p>BottomNavigationBarType.shifting, the default when there are four or\n  more items. If selectedItemColor is null, all items are rendered in\n  white. The navigation bar's background color is the same as the\n  BottomNavigationBarItem.backgroundColor of the selected item. In this\n  case it's assumed that each item will have a different background\n  color and that background color will contrast well with white.</p>\n</blockquote>\n"}], "owner": {"reputation": 131, "user_id": 6607935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zZgss.png?s=128&g=1", "display_name": "Milie", "link": "https://stackoverflow.com/users/6607935/milie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 0, "accepted_answer_id": 58839978, "answer_count": 1, "score": 2, "last_activity_date": 1573657546, "creation_date": 1573657385, "question_id": 58839930, "link": "https://stackoverflow.com/questions/58839930/bottom-navigation-bar-is-completely-white-how-to-fix", "title": "Bottom Navigation Bar is completely white, how to fix?", "body": "<p>My <code>BottomNavigationBar</code> is completely white. It works fine when there is <code>3</code> icons but when increased to <code>4</code>, the Navbar goes completely white. The tabs can still be selected and changed.</p>\n\n<p>This is the output of the console when the widget is run.</p>\n\n<pre><code>ic=null mNaviBarColor -15724014 mIsGetNaviBarColorSuccess true , NavVisible : true , NavTrans : false\n</code></pre>\n\n<p>This is the build of the Navbar:</p>\n\n<pre><code>_bottomNavChildren[_currentIndex],\n  bottomNavigationBar: BottomNavigationBar(\n    onTap: onTabTapped,\n    currentIndex: _currentIndex,\n    items: [\n      BottomNavigationBarItem(\n        icon: Icon(Icons.search),\n        title: Text('Browse'),\n      ),\n      BottomNavigationBarItem(\n        icon: Icon(Icons.message),\n        title: Text('Messages'),\n      ),\n      BottomNavigationBarItem(\n        icon: Icon(Icons.person_outline),\n        title: Text('Profile'),\n</code></pre>\n\n<p>And this is the <code>List</code> widget that points to the relevant indexed classes.</p>\n\n<pre><code>  int _currentIndex = 0;\n  final List&lt;Widget&gt; _bottomNavChildren = [\n    BrowsePage(),\n    MessagesPage(),\n    ProfilePage(),\n  ];\n</code></pre>\n\n<p>Anyone know what the issue is?\nThanks</p>\n"}, {"tags": ["button", "flutter", "dart", "onclick", "listener"], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 12324472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f7d4ce66e0d4ed953ef3d438c7973e2?s=128&d=identicon&r=PG&f=1", "display_name": "dfdfdsfsd", "link": "https://stackoverflow.com/users/12324472/dfdfdsfsd"}, "edited": false, "score": 0, "creation_date": 1573657277, "post_id": 58839743, "comment_id": 103953930, "body": "it isn&#39;t what I want, I want to listen the next click in any time such as maybe after minutes, seconds, etc,"}, {"owner": {"reputation": 2783, "user_id": 1027936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7c00c38a2a2840ee056e39b4a900d274?s=128&d=identicon&r=PG", "display_name": "nicowernli", "link": "https://stackoverflow.com/users/1027936/nicowernli"}, "reply_to_user": {"reputation": 157, "user_id": 12324472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f7d4ce66e0d4ed953ef3d438c7973e2?s=128&d=identicon&r=PG&f=1", "display_name": "dfdfdsfsd", "link": "https://stackoverflow.com/users/12324472/dfdfdsfsd"}, "edited": false, "score": 1, "creation_date": 1573657367, "post_id": 58839743, "comment_id": 103953992, "body": "so you just use a single click and save the amount of clicks in the state."}], "tags": [], "owner": {"reputation": 2783, "user_id": 1027936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7c00c38a2a2840ee056e39b4a900d274?s=128&d=identicon&r=PG", "display_name": "nicowernli", "link": "https://stackoverflow.com/users/1027936/nicowernli"}, "is_accepted": true, "score": 0, "last_activity_date": 1573656778, "creation_date": 1573656778, "answer_id": 58839743, "question_id": 58839669, "link": "https://stackoverflow.com/questions/58839669/how-can-i-listen-for-second-click-in-gesture-detector-in-flutter/58839743#58839743", "title": "How can I listen for second click in gesture detector in Flutter?", "body": "<p>GestureDetector has the <code>onDoubleTap</code> listener. This will be trigger if the user double clicks the widget within certain amount of time.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>GestureDetector(\n    onDoubleTap: () {\n        // Your code here\n    }\n...\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 12324472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f7d4ce66e0d4ed953ef3d438c7973e2?s=128&d=identicon&r=PG&f=1", "display_name": "dfdfdsfsd", "link": "https://stackoverflow.com/users/12324472/dfdfdsfsd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 973, "favorite_count": 0, "accepted_answer_id": 58839743, "answer_count": 1, "score": 0, "last_activity_date": 1603229565, "creation_date": 1573656520, "last_edit_date": 1603229565, "question_id": 58839669, "link": "https://stackoverflow.com/questions/58839669/how-can-i-listen-for-second-click-in-gesture-detector-in-flutter", "title": "How can I listen for second click in gesture detector in Flutter?", "body": "<p>I want to create a button with a gesture detector, and I want to listen for the second click from the user on this button.</p>\n<p>I want to do something like this:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>GestureDetector(\n  onSecondTap: () {\n    // My code\n  }\n  child: FlatButton(),\n), // GestureDetector\n</code></pre>\n"}, {"tags": ["listview", "flutter", "dart"], "comments": [{"owner": {"reputation": 2097, "user_id": 4756173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e50f7e8bb3963d1dc749e278c3d8d33?s=128&d=identicon&r=PG", "display_name": "Philippe Fanaro", "link": "https://stackoverflow.com/users/4756173/philippe-fanaro"}, "edited": false, "score": 0, "creation_date": 1573656965, "post_id": 58839641, "comment_id": 103953758, "body": "Maybe I should go for a <code>CustomScrollView</code> or use the <code>controller</code> property of the <code>ListView</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 2097, "user_id": 4756173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e50f7e8bb3963d1dc749e278c3d8d33?s=128&d=identicon&r=PG", "display_name": "Philippe Fanaro", "link": "https://stackoverflow.com/users/4756173/philippe-fanaro"}, "edited": false, "score": 0, "creation_date": 1573658171, "post_id": 58839904, "comment_id": 103954422, "body": "The behavior of the <code>SliverAppBar</code> is apparently what I want, where the box seems flexible to go up and down in height. But how to I render my list of widgets (cards) inside of the <code>FlexibleSpaceBar</code>?"}, {"owner": {"reputation": 2783, "user_id": 1027936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7c00c38a2a2840ee056e39b4a900d274?s=128&d=identicon&r=PG", "display_name": "nicowernli", "link": "https://stackoverflow.com/users/1027936/nicowernli"}, "reply_to_user": {"reputation": 2097, "user_id": 4756173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e50f7e8bb3963d1dc749e278c3d8d33?s=128&d=identicon&r=PG", "display_name": "Philippe Fanaro", "link": "https://stackoverflow.com/users/4756173/philippe-fanaro"}, "edited": false, "score": 0, "creation_date": 1573658249, "post_id": 58839904, "comment_id": 103954469, "body": "Your list comes after the <code>FlexibleSpaceBar</code>, you use the <code>SliverList</code> inside of the <code>(context, index) {}</code>"}, {"owner": {"reputation": 2097, "user_id": 4756173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e50f7e8bb3963d1dc749e278c3d8d33?s=128&d=identicon&r=PG", "display_name": "Philippe Fanaro", "link": "https://stackoverflow.com/users/4756173/philippe-fanaro"}, "edited": false, "score": 0, "creation_date": 1573658420, "post_id": 58839904, "comment_id": 103954566, "body": "But that would render my scrollable list below the box with flexible height you&#39;ve just designed, which is not what I had in mind."}, {"owner": {"reputation": 2783, "user_id": 1027936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7c00c38a2a2840ee056e39b4a900d274?s=128&d=identicon&r=PG", "display_name": "nicowernli", "link": "https://stackoverflow.com/users/1027936/nicowernli"}, "reply_to_user": {"reputation": 2097, "user_id": 4756173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e50f7e8bb3963d1dc749e278c3d8d33?s=128&d=identicon&r=PG", "display_name": "Philippe Fanaro", "link": "https://stackoverflow.com/users/4756173/philippe-fanaro"}, "edited": false, "score": 0, "creation_date": 1573658862, "post_id": 58839904, "comment_id": 103954813, "body": "Do you have a preview of what do you want to achieve?"}, {"owner": {"reputation": 2097, "user_id": 4756173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e50f7e8bb3963d1dc749e278c3d8d33?s=128&d=identicon&r=PG", "display_name": "Philippe Fanaro", "link": "https://stackoverflow.com/users/4756173/philippe-fanaro"}, "edited": false, "score": 0, "creation_date": 1573661661, "post_id": 58839904, "comment_id": 103956528, "body": "There isn&#39;t much to it, it&#39;s just having <code>Flutter</code> fill the top with empty space when trying to make the first item of the <code>ListView</code> get to the bottom of the screen. <a href=\"https://imgur.com/a/5TwTBSH\" rel=\"nofollow noreferrer\">Here</a> is something I did with <code>Adobe XD</code> that might be of help."}, {"owner": {"reputation": 2097, "user_id": 4756173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e50f7e8bb3963d1dc749e278c3d8d33?s=128&d=identicon&r=PG", "display_name": "Philippe Fanaro", "link": "https://stackoverflow.com/users/4756173/philippe-fanaro"}, "edited": false, "score": 0, "creation_date": 1573664875, "post_id": 58839904, "comment_id": 103958376, "body": "After messing around with it, this actually does seem to work, and I intend to maybe edit your code to have it closer to what I wanted originally. I just used one <code>SliverAppBar</code> at the top and another at the bottom. But two problems I&#39;m having right now are: (1) how to disable the blurring effect of the top <code>SliverAppBar</code> when it&#39;s collapsing? (2) how do I start the page scroll from the cards and not the first <code>SliverAppBar</code>?"}, {"owner": {"reputation": 2097, "user_id": 4756173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e50f7e8bb3963d1dc749e278c3d8d33?s=128&d=identicon&r=PG", "display_name": "Philippe Fanaro", "link": "https://stackoverflow.com/users/4756173/philippe-fanaro"}, "edited": false, "score": 0, "creation_date": 1573854388, "post_id": 58839904, "comment_id": 104037384, "body": "Another question I have, related to your answer, is <a href=\"https://stackoverflow.com/q/58884360/4756173\">this one</a>."}], "tags": [], "owner": {"reputation": 2783, "user_id": 1027936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7c00c38a2a2840ee056e39b4a900d274?s=128&d=identicon&r=PG", "display_name": "nicowernli", "link": "https://stackoverflow.com/users/1027936/nicowernli"}, "is_accepted": false, "score": 1, "last_activity_date": 1573751822, "last_edit_date": 1573751822, "creation_date": 1573657279, "answer_id": 58839904, "question_id": 58839641, "link": "https://stackoverflow.com/questions/58839641/flutter-infinite-scroll-listview-builder-with-finite-content/58839904#58839904", "title": "(Flutter) Infinite Scroll `ListView.builder` with Finite Content", "body": "<p>If I understand it correctly, your best bet would be using a <code>CustomScrollView</code> with an expandable space in the <code>SliverAppBar</code>.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Widget build(BuildContext context) {\n  return Scaffold(\n    body: CustomScrollView(\n      slivers: [\n         SliverAppBar(\n           automaticallyImplyLeading: false, // gets rid of the back arrow\n           expandedHeight: 250, // the collapsible space you want to use \n           flexibleSpace: FlexibleSpaceBar(\n             background: Container(\n               color: Colors.transparent\n             ),\n           ),\n         ),\n         SliverList(\n          delegate: SliverChildBuilderDelegate(\n            (context, index) {\n              // put your widgetsList here\n            },\n            childCount: widgetsList.length,\n          ),\n        ),\n      ]\n    ),\n  );\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2097, "user_id": 4756173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e50f7e8bb3963d1dc749e278c3d8d33?s=128&d=identicon&r=PG", "display_name": "Philippe Fanaro", "link": "https://stackoverflow.com/users/4756173/philippe-fanaro"}, "is_accepted": true, "score": 1, "last_activity_date": 1573854257, "creation_date": 1573854257, "answer_id": 58885094, "question_id": 58839641, "link": "https://stackoverflow.com/questions/58839641/flutter-infinite-scroll-listview-builder-with-finite-content/58885094#58885094", "title": "(Flutter) Infinite Scroll `ListView.builder` with Finite Content", "body": "<p>That is possible to be achived with your \"<code>Container</code> workaround\". You could use a <code>ScrollController</code> and have its <code>initialScrollOffset</code> where the top <code>Container</code> ends. It is something I only later found out <a href=\"https://stackoverflow.com/q/58885038/4756173\">through this other StackOverflow question</a>.</p>\n\n<ol>\n<li>Declare your <code>ScrollController</code> inside your widget's class.\n\n<pre class=\"lang-dart prettyprint-override\"><code>ScrollController scrollController = ScrollController(\n  initialScrollOffset: 10, // or whatever offset you wish\n  keepScrollOffset: true,\n);\n</code></pre></li>\n<li>Add the controller to your <code>ListView</code>\n\n<pre class=\"lang-dart prettyprint-override\"><code>ListView.builder(\n  controller: scrollController,\n  itemCount: widgetsList.length,\n  itemBuilder: (context, index){\n    return widgetsList[index];\n  },\n),\n</code></pre></li>\n</ol>\n\n<p>Additionally, you may even want to create animations for the background scrolling action. That is possible through using the <code>.animateTo</code> method inside your widget's <code>initState</code>.</p>\n"}], "owner": {"reputation": 2097, "user_id": 4756173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e50f7e8bb3963d1dc749e278c3d8d33?s=128&d=identicon&r=PG", "display_name": "Philippe Fanaro", "link": "https://stackoverflow.com/users/4756173/philippe-fanaro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1959, "favorite_count": 0, "accepted_answer_id": 58885094, "answer_count": 2, "score": 0, "last_activity_date": 1609782985, "creation_date": 1573656437, "last_edit_date": 1573734741, "question_id": 58839641, "link": "https://stackoverflow.com/questions/58839641/flutter-infinite-scroll-listview-builder-with-finite-content", "title": "(Flutter) Infinite Scroll `ListView.builder` with Finite Content", "body": "<h1>1. The Problem</h1>\n\n<p><strong>How do I make my <code>ListView.builder</code> be able to scroll to empty space both to the top and to the bottom?</strong></p>\n\n<p>For example, I have a list of custom widgets, and I would like the user to be able to get the top card on the list &#8212; which is at the top of the screen &#8212; closer to his thumb by scrolling to it, while <code>Flutter</code> renders the top space with an empty background.</p>\n\n<h1>2. What I've tried so far</h1>\n\n<p>The basic shape of my code is a basic implementation of the <code>ListView.builder</code> constructor:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>ListView.builder(\n  itemCount: widgetsList.length,\n  itemBuilder: (context, index){\n    return widgetsList[index];\n  },\n),\n</code></pre>\n\n<p>I've tried fiddling with some of the <a href=\"https://api.flutter.dev/flutter/widgets/ListView-class.html\" rel=\"nofollow noreferrer\"><code>ListView.builder</code>'s properties</a> and also some workarounds so far:</p>\n\n<ol>\n<li>At first, I thought that either <code>shrinkWrap: true</code> or <code>physics: AlwaysScrollableScrollPhysics()</code> &#8212; maybe I have to set the <code>parent</code> parameter of <code>AlwaysScrollableScrollPhysics()</code>? &#8212; would do the job, but none of them seem to work.</li>\n<li>I've also tried to do this artifially by creating empty <code>Container</code>s both on the top and the bottom of the list, and adding something like <code>dragStartBehavior: DragStartBehavior.values[1]</code> &#8212; I don't think that's how you use the <code>.values</code> property actually &#8212; to make the list start from the second value, but it didn't work.</li>\n</ol>\n"}, {"tags": ["testing", "dart", "aqueduct"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 3631875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c321c9c276a79fd7d2b41cb66c198dc7?s=128&d=identicon&r=PG&f=1", "display_name": "JereK", "link": "https://stackoverflow.com/users/3631875/jerek"}, "edited": false, "score": 0, "creation_date": 1574430065, "post_id": 58864781, "comment_id": 104241219, "body": "Thank you for the answer. I have been wrestling with this on/off for some time now. It seems that <code>ContentType</code> class does not provide a property for <code>multipart&#47;form-data</code>. So what property should I be using?"}, {"owner": {"reputation": 45, "user_id": 3631875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c321c9c276a79fd7d2b41cb66c198dc7?s=128&d=identicon&r=PG&f=1", "display_name": "JereK", "link": "https://stackoverflow.com/users/3631875/jerek"}, "edited": false, "score": 0, "creation_date": 1574432034, "post_id": 58864781, "comment_id": 104242289, "body": "Ok I was able to do this in tests:  <code>harness.agent.contentType = ContentType(&quot;multipart&quot;, &quot;form-data&quot;);</code>  and that eradicated my Unsupported Media Type problem, but now the implementation fails with another error message, which might be out of scope for this question.  Was my approach correct?"}], "tags": [], "owner": {"reputation": 1516, "user_id": 2535095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdf1873a9a1f8b1eec22faabf60c013e?s=128&d=identicon&r=PG", "display_name": "Joe Conway", "link": "https://stackoverflow.com/users/2535095/joe-conway"}, "is_accepted": false, "score": 0, "last_activity_date": 1573761299, "creation_date": 1573761299, "answer_id": 58864781, "question_id": 58839496, "link": "https://stackoverflow.com/questions/58839496/how-to-test-file-upload-with-aqueduct-harness/58864781#58864781", "title": "How to test file upload with Aqueduct harness?", "body": "<p>The 415 status code response would indicate that the ResourceController has rejected the content-type of the request. You have correctly set the <code>acceptedContentTypes</code>, however, there is a (admittedly confusing) nuance to the test agent that is buried in the documentation of <code>Agent.headers</code>:</p>\n\n<pre><code>Default headers to be added to requests made by this agent.\n\nBy default, this value is the empty map.\n\nDo not provide a 'content-type' key. If the key 'content-type' is present, it will be removed prior to sending the request. It is replaced by the value of TestRequest.contentType, which also controls body encoding.\n\nSee also setBasicAuthorization, bearerAuthorization, accept, contentType for setting common headers.\n</code></pre>\n\n<p>See the API reference <a href=\"https://pub.dev/documentation/aqueduct_test/latest/aqueduct_test/Agent/headers.html\" rel=\"nofollow noreferrer\">here</a>. As to why this exists this way: like your Responses, the content type of a TestRequest (which is the object created and executed when you use an agent to make a request) determines which Codec from the CodecRegistry to use as an encoder. This allows you to always deal with 'Dart objects' and let Aqueduct handle encoding/decoding.</p>\n"}, {"tags": [], "owner": {"reputation": 1239, "user_id": 5700535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uwwXK.jpg?s=128&g=1", "display_name": "Owczar", "link": "https://stackoverflow.com/users/5700535/owczar"}, "is_accepted": false, "score": 0, "last_activity_date": 1590416640, "last_edit_date": 1590416640, "creation_date": 1590407947, "answer_id": 62001985, "question_id": 58839496, "link": "https://stackoverflow.com/questions/58839496/how-to-test-file-upload-with-aqueduct-harness/62001985#62001985", "title": "How to test file upload with Aqueduct harness?", "body": "<p>I wrote a bunch of classes to simplify and clarify multipart requests testing. So, if anyone still struggle with this, be welcome to try my solution:</p>\n\n<p><strong>test</strong></p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'multipart_body_parser.dart';\n//[...]\n    test('POST /upload-file uploads a file to the server', () async {\n      final boundary = '7d82a244f2ea5xd0s046';\n      final file = File('test.txt');\n\n      var encodedBody = MultipartBodyParser(boundary).parse([\n        FileBodyPart(\n          'file',\n          'test.txt',\n          File('test.txt'),\n        ),\n      ]);\n\n      final response = await harness.agent.post(\n        '/upload-file',\n        body: encodedBody,\n      );\n\n      expectResponse(response, 200);\n    });\n</code></pre>\n\n<p><strong>multipart_body_parser.dart</strong></p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:convert';\nimport 'dart:io';\n\nclass MultipartBodyParser {\n  final String boundary;\n\n  MultipartBodyParser(this.boundary)\n      : assert(\n          boundary != null,\n          'The boundary is empty. Please set it ' +\n              'and keep on mind that it MUST NOT appear inside any of the ' +\n              'encapsulated parts. Example: \"sampleBoundary7da24f2e50046\".',\n        );\n\n  List&lt;int&gt; get encodedNonLastBoundary =&gt;\n      ascii.encode('\\r\\n--' + boundary + '\\r\\n');\n\n  List&lt;int&gt; get encodedLastBoundary =&gt;\n      ascii.encode('\\r\\n--' + boundary + '--\\r\\n\\r\\n');\n\n  List&lt;int&gt; parse(List&lt;_BodyPart&gt; parts) {\n    if (parts == null || parts.isEmpty) {\n      throw MultipartBodyParserException(\n        'Parts CAN NOT be empty. Please set at least one part of body.',\n      );\n    }\n    var body = encodedNonLastBoundary;\n    parts.forEach((part) {\n      body += part.parse();\n      if (parts.last != part) {\n        body += encodedNonLastBoundary;\n      }\n    });\n    body += encodedLastBoundary;\n    return body;\n  }\n}\n\nclass TextBodyPart extends _BodyPart {\n  final String content;\n\n  TextBodyPart(formFieldName, _content)\n      : content = _content ?? '',\n        super(\n          _ContentDisposition(\n            formFieldName,\n            'form-data',\n          ),\n          _ContentType(),\n        );\n\n  @override\n  List&lt;int&gt; get encodedContent =&gt; ascii.encode(content);\n}\n\nclass FileBodyPart extends _BodyPart {\n  final File file;\n  final String fileName;\n\n  FileBodyPart(formFieldName, this.fileName, this.file)\n      : super(\n          _ContentDisposition(\n            formFieldName,\n            'form-data',\n            '; filename=\"$fileName\"',\n          ),\n          _ContentType('application/octet-stream'),\n        );\n\n  @override\n  List&lt;int&gt; get encodedContent =&gt; file.readAsBytesSync();\n}\n\nabstract class _BodyPart {\n  final _ContentDisposition contentDisposition;\n  final _ContentType contentType;\n\n  _BodyPart(this.contentDisposition, this.contentType)\n      : assert(contentDisposition != null),\n        assert(contentType != null);\n\n  String get partHeader =&gt;\n      contentDisposition.toString() + contentType.toString();\n\n  List&lt;int&gt; get encodedContent;\n\n  List&lt;int&gt; parse() =&gt; ascii.encode(partHeader) + encodedContent;\n}\n\nclass _ContentDisposition {\n  final String formFieldName;\n  final String formFieldType;\n  final String additionalParams;\n  _ContentDisposition(this.formFieldName, [_formFieldType, _additionalParams])\n      : formFieldType = _formFieldType ?? 'form-data',\n        additionalParams = _additionalParams ?? '',\n        assert(formFieldName != null);\n\n  @override\n  String toString() =&gt;\n      'content-disposition: $formFieldType; name=\"$formFieldName\"$additionalParams\\r\\n';\n}\n\nclass _ContentType {\n  final String type;\n  _ContentType([this.type = 'text/plain']) : assert(type != null);\n\n  @override\n  String toString() =&gt; 'content-type: $type\\r\\n\\r\\n';\n}\n\nclass MultipartBodyParserException implements Exception {\n  final String message;\n\n  const MultipartBodyParserException([this.message]);\n}\n\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 3631875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c321c9c276a79fd7d2b41cb66c198dc7?s=128&d=identicon&r=PG&f=1", "display_name": "JereK", "link": "https://stackoverflow.com/users/3631875/jerek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 284, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1590416640, "creation_date": 1573655884, "question_id": 58839496, "link": "https://stackoverflow.com/questions/58839496/how-to-test-file-upload-with-aqueduct-harness", "title": "How to test file upload with Aqueduct harness?", "body": "<p>I followed the Aqueduct tutorial for creating tests, but it was missing one example that I am in a dire need; I am unable to test a file uploading endpoint with my controller.</p>\n\n<p>I have implemented a controller as such:</p>\n\n<pre><code>class FileController extends ResourceController {\n\n  FileController() {\n    acceptedContentTypes = [ContentType(\"multipart\", \"form-data\")];\n  }\n\n  @Operation.post()\n  Future&lt;Response&gt; postForm() async {\n\n    final transformer = MimeMultipartTransformer(request.raw.headers.contentType.parameters[\"boundary\"]);\n    final bodyStream = Stream.fromIterable([await request.body.decode&lt;List&lt;int&gt;&gt;()]);\n    final parts = await transformer.bind(bodyStream).toList();\n\n    for (var part in parts) {\n      final headers = part.headers;\n\n      HttpMultipartFormData multipart = HttpMultipartFormData.parse(part);\n      final content = multipart.cast&lt;List&lt;int&gt;&gt;();\n\n      final filePath = \"uploads/test.txt\";\n\n      await new File(filePath).create(recursive: true);\n\n      IOSink sink = File(filePath).openWrite();\n      await content.forEach(sink.add);\n\n      await sink.flush();\n      await sink.close();\n    }\n\n    return Response.ok({});   \n  }\n}\n</code></pre>\n\n<p>And it works fine when using Postman for a file upload.</p>\n\n<p>Now I am trying to write a test for this endpoint:</p>\n\n<pre><code>test(\"POST /upload-file uploads a file to the server\", () async {\n\n    final file = File('test.txt');\n    final sink = file.openWrite();\n    sink.write('test');\n    await sink.close();\n\n    final bytes = file.readAsBytesSync();\n\n    harness.agent.headers['Content-Type'] = 'multipart/form-data; boundary=MultipartBoundry';\n    harness.agent.headers['Content-Disposition'] = 'form-data; name=\"file\"; filename=\"test.txt\"';\n\n\n    final response = await harness.agent.post(\"/upload-file\", body: bytes);\n\n    expectResponse(response, 200);\n  });\n</code></pre>\n\n<p>And get this in the vscode debugger:</p>\n\n<pre><code>Expected: --- HTTP Response ---\n          - Status code must be 200\n          - Headers can be anything\n          - Body can be anything\n          ---------------------\n  Actual: TestResponse:&lt;-----------\n          - Status code is 415\n          - Headers are the following:\n            - x-frame-options: SAMEORIGIN\n            - x-xss-protection: 1; mode=block\n            - x-content-type-options: nosniff\n            - server: aqueduct/1\n            - content-length: 0\n          - Body is empty\n          -------------------------\n          &gt;\n   Which: Status codes are different. Expected: 200. Actual: 415\n</code></pre>\n"}, {"tags": ["listview", "flutter", "dart", "stream", "stream-builder"], "answers": [{"tags": [], "owner": {"reputation": 2783, "user_id": 1027936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7c00c38a2a2840ee056e39b4a900d274?s=128&d=identicon&r=PG", "display_name": "nicowernli", "link": "https://stackoverflow.com/users/1027936/nicowernli"}, "is_accepted": false, "score": 4, "last_activity_date": 1573656287, "creation_date": 1573656287, "answer_id": 58839599, "question_id": 58839378, "link": "https://stackoverflow.com/questions/58839378/flutter-how-to-use-streambuilder-with-listview-separated/58839599#58839599", "title": "Flutter: How to use StreamBuilder with ListView.separated", "body": "<p>Your <code>snapshot</code> should be a list of elements so you can access the <code>length</code> of the list like this:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>body: StreamBuilder(\n        stream: someStream,\n        initialData: [],\n        builder: (ctx, snapshot) {\n          return ListView.separated(\n            separatorBuilder: (context, index) =&gt; Divider(color: Colors.black),\n            itemCount: snapshot.data.length,\n            itemBuilder: (BuildContext ctx, int index) {\n                final element = snapshot.data[index];\n</code></pre>\n\n<p>I would suggest to add also the <code>initialData</code> to the StreamBuilder so you don't work with a null value in your snapshot.</p>\n\n<p>Hope it helps</p>\n"}, {"comments": [{"owner": {"reputation": 172, "user_id": 2032538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/LuYx9.jpg?s=128&g=1", "display_name": "papirosnik", "link": "https://stackoverflow.com/users/2032538/papirosnik"}, "edited": false, "score": 1, "creation_date": 1573728186, "post_id": 58839605, "comment_id": 103981542, "body": "ok, now I see, the main problem was I was intended to use Stream&lt;Data&gt; instead of Stream&lt;List&lt;Data&gt;&gt;. So, since shanpshot couldn&#39;t provide me proper information, I sucessfullly ignored it."}, {"owner": {"reputation": 187, "user_id": 7505665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e73e1d9b5f71e8025c370118cc475e6a?s=128&d=identicon&r=PG&f=1", "display_name": "ShadeToD", "link": "https://stackoverflow.com/users/7505665/shadetod"}, "edited": false, "score": 0, "creation_date": 1598425972, "post_id": 58839605, "comment_id": 112451239, "body": "(!snapshot.hasError) - this will return when there is no error."}, {"owner": {"reputation": 3890, "user_id": 3626078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/SBXjb.jpg?s=128&g=1", "display_name": "magicleon94", "link": "https://stackoverflow.com/users/3626078/magicleon94"}, "edited": false, "score": 0, "creation_date": 1598426653, "post_id": 58839605, "comment_id": 112451573, "body": "uopo, you&#39;re right, there&#39;s a &quot;!&quot; that shouldn&#39;t be there. Fixed, thank you!"}], "tags": [], "owner": {"reputation": 3890, "user_id": 3626078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/SBXjb.jpg?s=128&g=1", "display_name": "magicleon94", "link": "https://stackoverflow.com/users/3626078/magicleon94"}, "is_accepted": true, "score": 3, "last_activity_date": 1598426665, "last_edit_date": 1598426665, "creation_date": 1573656314, "answer_id": 58839605, "question_id": 58839378, "link": "https://stackoverflow.com/questions/58839378/flutter-how-to-use-streambuilder-with-listview-separated/58839605#58839605", "title": "Flutter: How to use StreamBuilder with ListView.separated", "body": "<p><code>snapshot</code> can have different states.</p>\n<p>Generally you can do something like this:</p>\n<pre><code>if (snapshot.hasError){\n    //return error message\n}\n\nif (!snapshot.hasData){\n    //return a loader\n}\n\n//else you have data\nList&lt;your items&gt; = snapshot.data;\n// do your thing with ListView.builder\n</code></pre>\n<p>For more control you can check the <code>snapshot.connectionsState</code> which can be <code>none</code>,<code>done</code>,<code>active</code>,<code>waiting</code>.</p>\n<p>You can find more <a href=\"https://api.flutter.dev/flutter/widgets/AsyncSnapshot-class.html\" rel=\"nofollow noreferrer\">here for the AsyncSnapshot class</a> and <a href=\"https://medium.com/@sidky/using-streambuilder-in-flutter-dcc2d89c2eae\" rel=\"nofollow noreferrer\">here for a quick tutorial</a></p>\n"}, {"tags": [], "owner": {"reputation": 368, "user_id": 11379469, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sXC2YipTO0U/AAAAAAAAAAI/AAAAAAAAABk/YqL-6pvnqzE/photo.jpg?sz=128", "display_name": "GirlWhoCode", "link": "https://stackoverflow.com/users/11379469/girlwhocode"}, "is_accepted": false, "score": 1, "last_activity_date": 1573656375, "creation_date": 1573656375, "answer_id": 58839623, "question_id": 58839378, "link": "https://stackoverflow.com/questions/58839378/flutter-how-to-use-streambuilder-with-listview-separated/58839623#58839623", "title": "Flutter: How to use StreamBuilder with ListView.separated", "body": "<p>try this hope it works for you</p>\n\n<pre><code>    body: StreamBuilder(\n            stream: someStream,\n            builder: (ctx, snapshot) {\n              return ListView.separated(\n                separatorBuilder: (context, index) =&gt; Divider(color: Colors.black),\n                itemCount: snapshot.data.lenght,\n                itemBuilder: (BuildContext ctx, int index) {\n    final titre= snapshot.data[index].title ;  // for example\n\nreturn ListTile ( title : Text(titre)) ;  \n     //....\n</code></pre>\n"}], "owner": {"reputation": 172, "user_id": 2032538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/LuYx9.jpg?s=128&g=1", "display_name": "papirosnik", "link": "https://stackoverflow.com/users/2032538/papirosnik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10328, "favorite_count": 0, "accepted_answer_id": 58839605, "answer_count": 3, "score": 1, "last_activity_date": 1598426665, "creation_date": 1573655470, "last_edit_date": 1585570867, "question_id": 58839378, "link": "https://stackoverflow.com/questions/58839378/flutter-how-to-use-streambuilder-with-listview-separated", "title": "Flutter: How to use StreamBuilder with ListView.separated", "body": "<p>I want a ListView with items from a Stream.\nOf course, content of the List should reflect changes in the Stream.\nAnd due to my designer quirks, I want items in the List be separated by a divider.</p>\n\n<p>Just wondering, what is the proper way to create a ListView with separators, and reacting on Stream changes.</p>\n\n<pre><code>body: StreamBuilder(\n        stream: someStream,\n        builder: (ctx, snapshot) {\n          return ListView.separated(\n            separatorBuilder: (context, index) =&gt; Divider(color: Colors.black),\n            itemCount: ***whatsHere***?,\n            itemBuilder: (BuildContext ctx, int index) {\n...\n</code></pre>\n\n<p>Hope I've missed something.\nSince an idea to get somehow the length of the source stream looks at least strange, because of the asynchronous nature of the streams.\nIt seems might be feasible by StatefullWidget with stream subsriptions (and setState invoking), \nbut StreamBuilder is invented to do exactly the same, isn't it?</p>\n"}, {"tags": ["dart"], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 5004129, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GrW_SlD_waU/AAAAAAAAAAI/AAAAAAAAAPs/PHLV7vGZFuc/photo.jpg?sz=128", "display_name": "Martin Labanic", "link": "https://stackoverflow.com/users/5004129/martin-labanic"}, "is_accepted": false, "score": 4, "last_activity_date": 1578526851, "last_edit_date": 1578526851, "creation_date": 1576191864, "answer_id": 59313946, "question_id": 58838193, "link": "https://stackoverflow.com/questions/58838193/pass-uint8list-to-pointervoid-in-dartffi/59313946#59313946", "title": "Pass Uint8List to Pointer&lt;Void&gt; in dart:ffi", "body": "<p>I'm not sure if you're still having this issue but I recently found a way to pass camera data from the image stream api to c++.</p>\n\n<p><strong>2020/01/08 Update</strong>:</p>\n\n<p>A working example can be found here <a href=\"https://github.com/martin-labanic/camera_preview_ffi_image_processing\" rel=\"nofollow noreferrer\">https://github.com/martin-labanic/camera_preview_ffi_image_processing</a>. Caveat: there is an issue here that is currently being investigated <a href=\"https://github.com/flutter/flutter/issues/48360\" rel=\"nofollow noreferrer\">https://github.com/flutter/flutter/issues/48360</a>.</p>\n\n<p><strong>Initial Answer</strong>:</p>\n\n<p>My setup:\n    Flutter (Channel beta, v1.12.13+hotfix.6)\n        \u2022 Flutter version 1.12.13+hotfix.6\n        \u2022 Framework revision 18cd7a3601 (30 hours ago), 2019-12-11 06:35:39 -0800\n        \u2022 Engine revision 2994f7e1e6\n        \u2022 Dart version 2.7.0\n    ffi version 0.1.3 (<a href=\"https://pub.dev/packages/ffi\" rel=\"nofollow noreferrer\">https://pub.dev/packages/ffi</a>)</p>\n\n<p>In your flutter code prepare the image data with this:</p>\n\n<pre><code>import \"dart:ffi\" as ffi;\n\n// 'data' is a Uint8List created by concatenating the planes received from the CameraImage the camera puts out.\n// Based on the code found here https://github.com/renancaraujo/bitmap/blob/master/lib/ffi.dart in the execute function\n// https://groups.google.com/forum/#!searchin/dart-ffi/list%7Csort:date/dart-ffi/V_6g5hpABec/U9we6UyvBAAJ\n  final ffi.Pointer&lt;ffi.Uint8&gt; frameData = allocate&lt;ffi.Uint8&gt;(count: data.length); // Allocate a pointer large enough.\n  final pointerList = frameData.asTypedList(data.length); // Create a list that uses our pointer and copy in the image data.\n  pointerList.setAll(0, data);\n</code></pre>\n\n<p>This is using the <code>allocation.dart</code> file found in <a href=\"https://github.com/dart-lang/ffi/tree/master/lib/src\" rel=\"nofollow noreferrer\">the ffi example repository</a>.</p>\n\n<p>This is the binding I use in flutter:</p>\n\n<pre><code>final int Function(ffi.Pointer&lt;ffi.Uint8&gt;, int, int, int) cppFunc = dynamicLibrary\n    .lookup&lt;ffi.NativeFunction&lt;ffi.Int32 Function(ffi.Pointer&lt;ffi.Uint8&gt;, ffi.Int32, ffi.Int32, ffi.Int32)&gt;&gt;(\"cppFunc\")\n    .asFunction();\n</code></pre>\n\n<p>The c++ function looks like this:</p>\n\n<pre><code>extern \"C\" {\n__attribute__((visibility(\"default\"))) __attribute__((used))\n    int cppFunc(unsigned char *data, int width, int height, int scanline) {\n.\n.\n.\n</code></pre>\n\n<p>I have no idea if this will continue to work as the dart:ffi progresses towards 1.0 but I'll try to keep this answer up to date.</p>\n"}], "owner": {"reputation": 1038, "user_id": 7252179, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/bkNb0.jpg?s=128&g=1", "display_name": "Th&#233;o Champion", "link": "https://stackoverflow.com/users/7252179/th%c3%a9o-champion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1380, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1578526851, "creation_date": 1573651639, "question_id": 58838193, "link": "https://stackoverflow.com/questions/58838193/pass-uint8list-to-pointervoid-in-dartffi", "title": "Pass Uint8List to Pointer&lt;Void&gt; in dart:ffi", "body": "<p>I have a C function with the Following signature</p>\n\n<pre><code>bool sendFrame(int width, int height, int channelNumber, void *data, bool clone);\n</code></pre>\n\n<p>data here being a raw image.</p>\n\n<p>My ffi function signature is:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>  final int Function(int, int, int, Pointer&lt;Void&gt;, int) rPPGSendFrame = rPPGLib\n      .lookup&lt;\n          NativeFunction&lt;\n              Int32 Function(\n                  Int32, Int32, Int32, Pointer&lt;Void&gt;, Int32)&gt;&gt;(\"sendFrame\")\n      .asFunction();\n</code></pre>\n\n<p>(the bools have to be converted to ints because the bool type is not supported yet (right?))</p>\n\n<p>I'm trying to call this method from dart with a <code>Uint8List</code> coming from a frame of the camera stream <a href=\"https://pub.dev/documentation/camera/latest/camera/Plane-class.html\" rel=\"nofollow noreferrer\">https://pub.dev/documentation/camera/latest/camera/Plane-class.html</a> but I'm not sure how to convert/allocate my <code>Uint8List</code> to <code>void *</code></p>\n\n<p>Any idea?</p>\n\n<p>Cheers!</p>\n"}, {"tags": ["flutter", "dart"], "owner": {"reputation": 11, "user_id": 12366845, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBRY9KcmgVHTWwlkOdnFwMlwGxeLcIusrGJasqz=k-s128", "display_name": "Salem Matloob", "link": "https://stackoverflow.com/users/12366845/salem-matloob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 249, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1573649920, "creation_date": 1573649920, "question_id": 58837694, "link": "https://stackoverflow.com/questions/58837694/can-we-have-a-command-line-arguments-in-flutter-build-command-just-like-the-one", "title": "can we have a command line arguments in flutter build command just like the one for Flutter run (flutter run -t lib/main_di.dart)", "body": "<p>When generating an apk/ipa. Is it possible to pass command-line arguments along the <strong>flutter build apk --release --target-platforms = [android-arm32/android-arm64] -t lib/main_di.dart</strong></p>\n\n<p>is that possible?</p>\n\n<p>the scenario is that, I have an app that should have a theme, background images and wording differently, however, the code base is the same and the structure of the screen/screens is the same.</p>\n\n<p>so I need to know what I build to link to the appropriate assets and database.</p>\n"}, {"tags": ["flutter", "dart", "visual-studio-code"], "answers": [{"tags": [], "owner": {"reputation": 2215, "user_id": 4712391, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U9oPV.png?s=128&g=1", "display_name": "Tinus Jackson", "link": "https://stackoverflow.com/users/4712391/tinus-jackson"}, "is_accepted": false, "score": 1, "last_activity_date": 1573650238, "last_edit_date": 1573650238, "creation_date": 1573649880, "answer_id": 58837686, "question_id": 58837610, "link": "https://stackoverflow.com/questions/58837610/flutter-how-can-i-create-this-circle-avatar-thats-half-out-of-the-container/58837686#58837686", "title": "Flutter : How can i create this circle avatar that&#39;s half out of the container?", "body": "<p>You can use a <code>ClipOval</code> with the <code>Image</code> for the Circle</p>\n\n<p>Then to get it in the half of the container use the <code>Stack</code> widget combined with the <code>Positioned</code> Widget</p>\n\n<p>Example:</p>\n\n<pre><code>Stack(\n    children: &lt;Widget&gt;[\n      Container(\n        width: 250,\n        height: 250,\n        color: Colors.red,\n      ),\n      Positioned(\n       top:50 ,//change this as needed\n       child:ClipOval(\n         child: Image.network(\n          'https://picsum.photos/250?image=9',\n         ),\n     ),\n    ),\n   ],\n  ),\n</code></pre>\n\n<p>References</p>\n\n<ul>\n<li><a href=\"https://flutter.dev/docs/cookbook/images/network-image\" rel=\"nofollow noreferrer\">Network Image</a></li>\n<li><a href=\"https://api.flutter.dev/flutter/widgets/ClipOval-class.html\" rel=\"nofollow noreferrer\">ClipOval</a></li>\n<li><a href=\"https://medium.com/flutter-community/clipping-in-flutter-e9eaa6b1721a\" rel=\"nofollow noreferrer\">Great Tutorial</a></li>\n<li><a href=\"https://api.flutter.dev/flutter/widgets/Stack-class.html\" rel=\"nofollow noreferrer\">Stack</a></li>\n<li><a href=\"https://api.flutter.dev/flutter/widgets/Positioned-class.html\" rel=\"nofollow noreferrer\">Positioned</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1355, "user_id": 8346770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cde873809b130126e10e52e251697b7?s=128&d=identicon&r=PG&f=1", "display_name": "Taba", "link": "https://stackoverflow.com/users/8346770/taba"}, "is_accepted": false, "score": 4, "last_activity_date": 1589271552, "creation_date": 1589271552, "answer_id": 61746892, "question_id": 58837610, "link": "https://stackoverflow.com/questions/58837610/flutter-how-can-i-create-this-circle-avatar-thats-half-out-of-the-container/61746892#61746892", "title": "Flutter : How can i create this circle avatar that&#39;s half out of the container?", "body": "<p>To let that half circle get out of the box you need to add some padding on top of the Container to make room for what you desire. Here's a sample code. first define the size of the circle container. here I named it \"circleRadius\" :</p>\n\n<p><code>final double circleRadius = 120.0;</code></p>\n\n<pre><code>Container(\n    height: double.infinity,\n    width: double.infinity,\n    color: Color(0xffE0E0E0),\n    child: Stack(children: &lt;Widget&gt;[\n\n      Padding(\n        padding: const EdgeInsets.all(16.0),\n        child: Stack(\n          alignment: Alignment.topCenter,\n          children: &lt;Widget&gt;[\n            Padding(\n              padding:\n              EdgeInsets.only(top: circleRadius / 2.0, ),  ///here we create space for the circle avatar to get ut of the box\n              child: Container(\n                height: 300.0,\n                decoration: BoxDecoration(\n                  borderRadius: BorderRadius.circular(15.0),\n                  color: Colors.white,\n                  boxShadow: [\n                    BoxShadow(\n                      color: Colors.black26,\n                      blurRadius: 8.0,\n                      offset: Offset(0.0, 5.0),\n                    ),\n                  ],\n                ),\n                width: double.infinity,\n                child: Padding(\n                  padding: const EdgeInsets.only(top: 15.0, bottom: 15.0),\n                      child: Column(\n                        children: &lt;Widget&gt;[\n                          SizedBox(height: circleRadius/2,),\n\n                          Text('Maria Elliot', style: TextStyle(fontWeight: FontWeight.bold, fontSize: 34.0),),\n                          Text('Albany, NewYork', style: TextStyle(fontWeight: FontWeight.bold, fontSize: 16.0, color: Colors.lightBlueAccent),),\n\n                          SizedBox(\n                            height: 30.0,\n                          ),\n                          Padding(\n                            padding: const EdgeInsets.symmetric(horizontal: 32.0),\n                            child: Row(\n                              mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                              children: &lt;Widget&gt;[\n                                Column(\n                                  children: &lt;Widget&gt;[\n                                    Text('Likes', style: TextStyle( fontSize: 20.0,  color: Colors.black54,),),\n                                    Text('12K', style: TextStyle( fontSize: 34.0, color: Colors.black87, fontFamily: ''),),\n                                  ],\n                                ),\n                                Column(\n                                  children: &lt;Widget&gt;[\n                                    Text('Wished', style: TextStyle( fontSize: 20.0,  color: Colors.black54),),\n                                    Text('12K', style: TextStyle( fontSize: 34.0, color: Colors.black87, fontFamily: ''),),\n                                  ],\n                                ),\n                                Column(\n                                  children: &lt;Widget&gt;[\n                                    Text('Purchased', style: TextStyle( fontSize: 20.0,  color: Colors.black54),),\n                                    Text('12K', style: TextStyle( fontSize: 34.0, color: Colors.black87, fontFamily: ''),),\n                                  ],\n                                ),\n                              ],\n                            ),\n                          )\n                        ],\n                      )\n                ),\n              ),\n            ),\n\n\n\n            ///Image Avatar\n            Container(\n              width: circleRadius,\n              height: circleRadius,\n              decoration: BoxDecoration(\n                shape: BoxShape.circle,\n                color: Colors.white,\n                boxShadow: [\n                  BoxShadow(\n                    color: Colors.black26,\n                    blurRadius: 8.0,\n                    offset: Offset(0.0, 5.0),\n                  ),\n                ],\n              ),\n              child: Padding(\n                padding: EdgeInsets.all(4.0),\n                child: Center(\n                  child: Container(\n                    child: Icon(Icons.person), /// replace your image with the Icon\n                  ),\n                ),\n              ),\n            ),\n          ],\n        ),\n      ),\n    ]),\n  ),\n</code></pre>\n\n<p>and the output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/6r8nO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6r8nO.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 31, "user_id": 12273900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Jm0Rqb1EAxM/AAAAAAAAAAI/AAAAAAAAABM/w8UbymWlD-8/photo.jpg?sz=128", "display_name": "Shreyansh Gholse", "link": "https://stackoverflow.com/users/12273900/shreyansh-gholse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3584, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1589271552, "creation_date": 1573649670, "last_edit_date": 1573650999, "question_id": 58837610, "link": "https://stackoverflow.com/questions/58837610/flutter-how-can-i-create-this-circle-avatar-thats-half-out-of-the-container", "title": "Flutter : How can i create this circle avatar that&#39;s half out of the container?", "body": "<p>How can I create this design I found in pinterest </p>\n\n<p><img src=\"https://i.stack.imgur.com/6snxm.jpg\" alt=\"ui design by inspiredesign.me\"></p>\n\n<p>I just wanted to create the user circle half of the container I tried many ways but failed.\nThanks.</p>\n"}, {"tags": ["flutter", "dart", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 1792, "user_id": 9942346, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xgDzwMLWI-8/AAAAAAAAAAI/AAAAAAAAAkA/T9WQvF9kaQw/photo.jpg?sz=128", "display_name": "Guillaume Roux", "link": "https://stackoverflow.com/users/9942346/guillaume-roux"}, "edited": false, "score": 0, "creation_date": 1573653294, "post_id": 58837587, "comment_id": 103951605, "body": "Looks like a duplicate to this questions : <a href=\"https://stackoverflow.com/questions/53931266/dependency-android-arch-lifecycleruntime-has-different-version-for-classpath\">dependency &#39;android.arch.lifecycle:runtime&#39; has different version for classpath in Flutter</a>"}], "answers": [{"tags": [], "owner": {"reputation": 56, "user_id": 8507527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ap3HH.jpg?s=128&g=1", "display_name": "Isuru B. Ranapana", "link": "https://stackoverflow.com/users/8507527/isuru-b-ranapana"}, "is_accepted": false, "score": 0, "last_activity_date": 1574084617, "creation_date": 1574084617, "answer_id": 58915973, "question_id": 58837587, "link": "https://stackoverflow.com/questions/58837587/error-while-installing-cloud-firestore-in-flutter/58915973#58915973", "title": "Error while installing cloud_firestore in flutter", "body": "<p>Add this to android\\build.gradle inside buildscript{...}</p>\n\n<pre><code>subprojects {\n    project.configurations.all {\n        resolutionStrategy.eachDependency { details -&gt;\n            if (details.requested.group == 'com.android.support'\n                    &amp;&amp; !details.requested.name.contains('multidex') ) {\n                details.useVersion \"26.0.0\"\n            }\n            if (details.requested.group == 'androidx.core'\n                    &amp;&amp; !details.requested.name.contains('androidx') ) {\n                details.useVersion \"1.0.1\"\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9011364, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8EaHt8gBiq0/AAAAAAAAAAI/AAAAAAAAANs/sLPO1vgeWzg/photo.jpg?sz=128", "display_name": "satish mankar", "link": "https://stackoverflow.com/users/9011364/satish-mankar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 210, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574084617, "creation_date": 1573649575, "question_id": 58837587, "link": "https://stackoverflow.com/questions/58837587/error-while-installing-cloud-firestore-in-flutter", "title": "Error while installing cloud_firestore in flutter", "body": "<p>FAILURE: Build failed with an exception.</p>\n\n<ul>\n<li><p>What went wrong:\nExecution failed for task ':app:preDebugBuild'.</p>\n\n<blockquote>\n  <p>Android dependency 'android.arch.lifecycle:runtime' has different version for the compile (1.0.0) and runtime (1.1.1) classpath. You should manually set the same version via DependencyResolution</p>\n</blockquote></li>\n<li><p>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</p></li>\n<li><p>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></p></li>\n</ul>\n"}, {"tags": ["android", "flutter", "dart", "flutter-layout", "flutter-animation"], "answers": [{"tags": [], "owner": {"reputation": 1792, "user_id": 9942346, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xgDzwMLWI-8/AAAAAAAAAAI/AAAAAAAAAkA/T9WQvF9kaQw/photo.jpg?sz=128", "display_name": "Guillaume Roux", "link": "https://stackoverflow.com/users/9942346/guillaume-roux"}, "is_accepted": false, "score": 0, "last_activity_date": 1573653736, "creation_date": 1573653736, "answer_id": 58838850, "question_id": 58837522, "link": "https://stackoverflow.com/questions/58837522/nosuchmethoderror-class-type-has-no-instance-getter-imgpath/58838850#58838850", "title": "NoSuchMethodError: Class &#39;_Type&#39; has no instance getter &#39;imgPath&#39;", "body": "<p>It looks like you didn't give any parameter to your <code>BusinessCard</code> constructor when declaring the variable <code>card</code>. Also you named your getter <code>_imgPath</code>. In Flutter if you put an <code>_</code> in front of something it means that it is private so you don't have access to it outside from its class.</p>\n"}, {"tags": [], "owner": {"reputation": 2075, "user_id": 8773560, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4263c95e332a7fe29736c8d526d35289?s=128&d=identicon&r=PG", "display_name": "Constantin N.", "link": "https://stackoverflow.com/users/8773560/constantin-n"}, "is_accepted": true, "score": 0, "last_activity_date": 1616602225, "last_edit_date": 1616602225, "creation_date": 1583935222, "answer_id": 60637817, "question_id": 58837522, "link": "https://stackoverflow.com/questions/58837522/nosuchmethoderror-class-type-has-no-instance-getter-imgpath/60637817#60637817", "title": "NoSuchMethodError: Class &#39;_Type&#39; has no instance getter &#39;imgPath&#39;", "body": "<p>You can solve this issue by changing your code like this</p>\n<pre><code>dynamic card = BusinessCard;\n</code></pre>\n<p>to</p>\n<pre><code>dynamic card = BusinessCard();\n</code></pre>\n<p>In fact you are trying to get <code>imagePath</code> in <code>BusinessCard</code> which is a type not a value. You need to create an instance of this class before accessing instance variables (by calling default constructor with <code>ExampleClass()</code>or by calling static constructor like <code>ExampleClass.fromTest(test)</code>).</p>\n<p>You can learn more <a href=\"https://medium.com/jay-tillu/constructors-in-dart-4f972186c372\" rel=\"nofollow noreferrer\">Here</a></p>\n"}], "owner": {"reputation": 3, "user_id": 12366718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60e3113ebea74ed8e908745234933532?s=128&d=identicon&r=PG&f=1", "display_name": "Coder_Manuel", "link": "https://stackoverflow.com/users/12366718/coder-manuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1073, "favorite_count": 0, "accepted_answer_id": 60637817, "answer_count": 2, "score": 0, "last_activity_date": 1616602225, "creation_date": 1573649343, "last_edit_date": 1573649420, "question_id": 58837522, "link": "https://stackoverflow.com/questions/58837522/nosuchmethoderror-class-type-has-no-instance-getter-imgpath", "title": "NoSuchMethodError: Class &#39;_Type&#39; has no instance getter &#39;imgPath&#39;", "body": "<p>Am Trying to access a field by the name <em>imgPath</em> that is in class <em>BusinessCard</em> \nHere's the Code</p>\n\n<pre><code>class BusinessCard extends StatelessWidget {\n\n\n final String imgPath;\n  final String bsnName;\n  final String bsnDescription;\n  final String bsnLocation;\n  final String bsnReview;\n  get _imgPath =&gt; imgPath;\n  BusinessCard(\n      this.imgPath, this.bsnName, this.bsnDescription, this.bsnLocation, this.bsnReview);\n...}\n</code></pre>\n\n<p>Here's Where am trying to access it from</p>\n\n<pre><code>class _DetailsTopPartState extends State&lt;DetailsTopPart&gt; {\n\n\n    Color fcl = const Color(0xffff005d);\n      Color lcl = const Color(0xffeb0ec6);\n      Color txt = const Color(0xff042fc9);\n\n  dynamic card = BusinessCard;\n\n  decoration: BoxDecoration(\n          image: DecorationImage(\n            image: AssetImage(card._imgPath)\n          ),}`\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 263, "user_id": 8884254, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sDNbhEb1JQE/AAAAAAAAAAI/AAAAAAAAFw8/IsbTd312RyU/photo.jpg?sz=128", "display_name": "Dhaval Patel", "link": "https://stackoverflow.com/users/8884254/dhaval-patel"}, "edited": false, "score": 0, "creation_date": 1573647466, "post_id": 58836681, "comment_id": 103948316, "body": "You can use custom input validation on &quot;OnChange&quot; method."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 12355722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13c46777bec02ba232da2696cbcead5b?s=128&d=identicon&r=PG&f=1", "display_name": "JDevs-id", "link": "https://stackoverflow.com/users/12355722/jdevs-id"}, "edited": false, "score": 0, "creation_date": 1573660589, "post_id": 58837394, "comment_id": 103955914, "body": "thanks buddy, but this is for the result I think I need some code that works while still typing."}, {"owner": {"reputation": 428, "user_id": 11370121, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V21op.png?s=128&g=1", "display_name": "Pyth0nGh057", "link": "https://stackoverflow.com/users/11370121/pyth0ngh057"}, "reply_to_user": {"reputation": 35, "user_id": 12355722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13c46777bec02ba232da2696cbcead5b?s=128&d=identicon&r=PG&f=1", "display_name": "JDevs-id", "link": "https://stackoverflow.com/users/12355722/jdevs-id"}, "edited": false, "score": 0, "creation_date": 1573665247, "post_id": 58837394, "comment_id": 103958551, "body": "Then I would suggest that you use a <code>TextFormField</code> inside a <code>Form</code>, you specify your custom validation in the <code>validator</code> and set the <code>autovalidate</code> property to <code>true</code>. If you do not like the autovalidation. You could set a <code>TextEditingController</code> and add a listener to it."}], "tags": [], "owner": {"reputation": 428, "user_id": 11370121, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V21op.png?s=128&g=1", "display_name": "Pyth0nGh057", "link": "https://stackoverflow.com/users/11370121/pyth0ngh057"}, "is_accepted": false, "score": 0, "last_activity_date": 1573648930, "creation_date": 1573648930, "answer_id": 58837394, "question_id": 58836681, "link": "https://stackoverflow.com/questions/58836681/how-to-make-range-number-value-on-textfield-flutter/58837394#58837394", "title": "How to make range number value on TextField() Flutter", "body": "<p>You could replace <code>onChanged</code> by:</p>\n\n<pre><code>onChanged: (String value) {\n    try\u00a0{\n        if(int.parse(value) &gt;= 1 &amp;&amp; int.parse(value) &lt;= 20) {\n            nilai = value;\n        }\n    } catch (e) {}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 12355722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13c46777bec02ba232da2696cbcead5b?s=128&d=identicon&r=PG&f=1", "display_name": "JDevs-id", "link": "https://stackoverflow.com/users/12355722/jdevs-id"}, "edited": false, "score": 0, "creation_date": 1573660195, "post_id": 58837704, "comment_id": 103955696, "body": "thanks, but maxLenght is equal with LengthLimitingTextInputFormatter(2), and that was for lenght not range of value"}], "tags": [], "owner": {"reputation": 81, "user_id": 7430614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nw03b.jpg?s=128&g=1", "display_name": "Android", "link": "https://stackoverflow.com/users/7430614/android"}, "is_accepted": false, "score": -1, "last_activity_date": 1573649960, "creation_date": 1573649960, "answer_id": 58837704, "question_id": 58836681, "link": "https://stackoverflow.com/questions/58836681/how-to-make-range-number-value-on-textfield-flutter/58837704#58837704", "title": "How to make range number value on TextField() Flutter", "body": "<p>There is a property available for Max length <code>maxLength: 20,</code> so you can use this</p>\n\n<pre><code>        Padding(\n          padding: const EdgeInsets.only(left: 8.0),\n          child: TextField(\n            inputFormatters: [\n              LengthLimitingTextInputFormatter(2),\n              WhitelistingTextInputFormatter.digitsOnly,\n            ],\n            maxLength: 20,\n            keyboardType: TextInputType.number,\n            decoration: new InputDecoration(\n                icon: Icon(Icons.assessment),\n                hintText: \"Nilai\",\n                border: InputBorder.none),\n            onChanged: (String str) {\n              nilai = str;\n            },\n          ),\n        ),\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 10458605, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2mUp9AT6uyQ/AAAAAAAAAAI/AAAAAAAACrA/ugvC0hFiB7A/photo.jpg?sz=128", "display_name": "Edycar Reyes", "link": "https://stackoverflow.com/users/10458605/edycar-reyes"}, "is_accepted": false, "score": 0, "last_activity_date": 1581567172, "creation_date": 1581567172, "answer_id": 60200351, "question_id": 58836681, "link": "https://stackoverflow.com/questions/58836681/how-to-make-range-number-value-on-textfield-flutter/60200351#60200351", "title": "How to make range number value on TextField() Flutter", "body": "<pre><code>int.parse(value.toString()) &lt; rangoMinimo ? 'El valor debe de ser mayor o igual a ${rangoMinimo}' : int.parse(value.toString()) &gt; rangoMaximo ? 'El valor debe de ser menor o igual a ${rangoMaximo}' : null : null\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1521, "user_id": 3899229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76eb4d61ee03ff07137be15cf7f175cb?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak Gehlot", "link": "https://stackoverflow.com/users/3899229/deepak-gehlot"}, "edited": false, "score": 0, "creation_date": 1604489734, "post_id": 60200714, "comment_id": 114361203, "body": "This one work for me just litte chage, it change cursor position, so i added this line  return int.parse(newValue.text) &gt; 20 ? TextEditingValue(selection: TextSelection.collapsed(offset: max.toString().length),).copyWith(text: &#39;20&#39;) : newValue;"}], "tags": [], "owner": {"reputation": 3319, "user_id": 10959473, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-KjPLfqxoYzA/AAAAAAAAAAI/AAAAAAAAK0A/6v3ZP8lIX68/photo.jpg?sz=128", "display_name": "thebuggycoder", "link": "https://stackoverflow.com/users/10959473/thebuggycoder"}, "is_accepted": false, "score": 3, "last_activity_date": 1581569706, "creation_date": 1581569706, "answer_id": 60200714, "question_id": 58836681, "link": "https://stackoverflow.com/questions/58836681/how-to-make-range-number-value-on-textfield-flutter/60200714#60200714", "title": "How to make range number value on TextField() Flutter", "body": "<p>You can implement you own <code>TextInputFormatter</code> by extending the <code>TextInputFormatter</code> class and then implementing the <code>formatEditUpdate()</code> method.</p>\n\n<p>Here is an example for you use case -</p>\n\n<pre><code>class CustomRangeTextInputFormatter extends TextInputFormatter {\n\n  @override\n  TextEditingValue formatEditUpdate(TextEditingValue oldValue,TextEditingValue newValue,) { \n    if(newValue.text == '')\n      return TextEditingValue();\n    else if(int.parse(newValue.text) &lt; 1)\n      return TextEditingValue().copyWith(text: '1');\n\n    return int.parse(newValue.text) &gt; 20 ? TextEditingValue().copyWith(text: '20') : newValue;\n  }\n}\n</code></pre>\n\n<p>And you can add the custom formatter to the <code>TextField</code> like so -</p>\n\n<pre><code>TextField(\n  inputFormatters: [\n    WhitelistingTextInputFormatter.digitsOnly,\n    CustomRangeTextInputFormatter(),\n  ],\n  // Rest of the TextField code\n)\n</code></pre>\n\n<p>Hope this helps!</p>\n"}, {"comments": [{"owner": {"reputation": 3889, "user_id": 2750589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZFXND.png?s=128&g=1", "display_name": "Ketan P", "link": "https://stackoverflow.com/users/2750589/ketan-p"}, "edited": false, "score": 0, "creation_date": 1608712664, "post_id": 60582192, "comment_id": 115661991, "body": "WhitelistingTextInputFormatter.digitsOnly is deprecated"}], "tags": [], "owner": {"reputation": 11, "user_id": 12759146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fbbdb2cc4111d4320866a2b7c41a57c?s=128&d=identicon&r=PG&f=1", "display_name": "Kinkar Roy", "link": "https://stackoverflow.com/users/12759146/kinkar-roy"}, "is_accepted": false, "score": 1, "last_activity_date": 1583615153, "creation_date": 1583615153, "answer_id": 60582192, "question_id": 58836681, "link": "https://stackoverflow.com/questions/58836681/how-to-make-range-number-value-on-textfield-flutter/60582192#60582192", "title": "How to make range number value on TextField() Flutter", "body": "<pre><code>keyboardType:\n   TextInputType.number,\n  inputFormatters:[                        //only numeric keyboard.\n    LengthLimitingTextInputFormatter(6),      //only 6 digit\n    WhitelistingTextInputFormatter.digitsOnly\n  ],\n</code></pre>\n\n<blockquote>\n  <p>hope this will help you</p>\n</blockquote>\n"}], "owner": {"reputation": 35, "user_id": 12355722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13c46777bec02ba232da2696cbcead5b?s=128&d=identicon&r=PG&f=1", "display_name": "JDevs-id", "link": "https://stackoverflow.com/users/12355722/jdevs-id"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2704, "favorite_count": 0, "answer_count": 5, "score": 1, "last_activity_date": 1583615153, "creation_date": 1573646449, "last_edit_date": 1573662597, "question_id": 58836681, "link": "https://stackoverflow.com/questions/58836681/how-to-make-range-number-value-on-textfield-flutter", "title": "How to make range number value on TextField() Flutter", "body": "<p>This is my code :</p>\n\n<pre><code>            Padding(\n              padding: const EdgeInsets.only(left: 8.0),\n              child: TextField(\n                inputFormatters: [\n                  LengthLimitingTextInputFormatter(2),\n                  WhitelistingTextInputFormatter.digitsOnly,\n                ],\n                keyboardType: TextInputType.number,\n                decoration: new InputDecoration(\n                    icon: Icon(Icons.assessment),\n                    hintText: \"Nilai\",\n                    border: InputBorder.none),\n                onChanged: (String str) {\n                  nilai = str;\n                },\n              ),\n            ),\n</code></pre>\n\n<blockquote>\n  <p>How to make the input number like only range 1 - 20?</p>\n</blockquote>\n\n<p>I'm try to using</p>\n\n<pre><code>WhitelistingTextInputFormatter(RegExp(\"[1-20]\")),\n</code></pre>\n\n<p>but, because this WhitelistingTextInputFormatter RegExp type is string, then I can still type 22 because 2 is allowed there.</p>\n"}, {"tags": ["flutter", "dart", "polyline", "currentlocation"], "owner": {"reputation": 2019, "user_id": 11873978, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kx1YQoaQmm0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd9JQ9vSPKPyuX5gu32Q3QKsdylGg/photo.jpg?sz=128", "display_name": "Shruti Ramnandan Sharma", "link": "https://stackoverflow.com/users/11873978/shruti-ramnandan-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 409, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1573646075, "creation_date": 1573641400, "last_edit_date": 1573646075, "question_id": 58835211, "link": "https://stackoverflow.com/questions/58835211/how-to-resolve-unhandled-exception-type-listdynamic-is-not-a-subtype-of-ty", "title": "How to resolve &quot;Unhandled Exception: type &#39;List&lt;dynamic&gt;&#39; is not a subtype of type &#39;PlaceDetails&#39; &quot;?", "body": "<p><a href=\"https://i.stack.imgur.com/2AC2F.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2AC2F.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I want to draw Polyline from my current location to another dynamic location. But\nsometimes it's being draw but sometimes throwing exception when I search places with <a href=\"https://pub.dev/packages/flutter_google_places\" rel=\"nofollow noreferrer\">flutter_google_places</a>  plugin.</p>\n\n<p><code>Unhandled Exception: type 'List&lt;dynamic&gt;' is not a subtype of type 'PlaceDetails'</code></p>\n\n<p>here Some piece of my code:</p>\n\n<p>Api:</p>\n\n<pre><code>const kGoogleApiKey = \"AIz#######_###############\";\n\nGoogleMapsPlaces _places = GoogleMapsPlaces(apiKey: kGoogleApiKey);\n</code></pre>\n\n<p>Here I Declared a list type variable with LatLng type:</p>\n\n<pre><code>List&lt;LatLng&gt; latlng = [];\n</code></pre>\n\n<p>current Location:</p>\n\n<pre><code>// I called this method from initState() method\n\nvoid getCurrentLocation()async{\n    Position pos= await Geolocator().getCurrentPosition();\n    setState(() {\n      position = pos;\n      print(\"CurrentLatLng__= ${position.latitude + position.longitude }\");\n      latlng.add(LatLng(position.latitude,position.longitude)); // Adding current location to the list\n    });\n  }\n\n</code></pre>\n\n<p>Google Map:</p>\n\n<pre><code>body: GoogleMap(\n            initialCameraPosition: CameraPosition(\n              target: LatLng(position.latitude,position.longitude), \n              zoom: 14.4746,\n            ),\n            compassEnabled: true,\n            myLocationEnabled: true,\n           // myLocationButtonEnabled: true,\n            mapType: MapType.normal,\n            onMapCreated: (GoogleMapController controller){\n              _controller.complete(controller);\n            },\n            markers: isSelectedDropff\n             ?{ Marker(\n                  markerId: MarkerId(globalPlaceIdDropOff),\n                  infoWindow: InfoWindow(\n                  title: placeNameDropOff,\n                  // snippet: \"${responseResult.types?.first}\"\n                  ),\n                  icon: BitmapDescriptor.defaultMarker,\n                  position: LatLng(dropOffLat , dropOffLng ),  \n               ),\n\n              }:\n              { \n                Marker(\n                  markerId: MarkerId(\"current loc\"),\n                  infoWindow: InfoWindow(\n                   title: \"Current\",\n                   // snippet: \"${responseResult.types?.first}\"\n                  ),\n                  icon: BitmapDescriptor.defaultMarkerWithHue(BitmapDescriptor.hueGreen),\n                  position: LatLng(position.latitude, position.longitude),\n                ),\n\n\n              },\n              polylines: isSelectedDropOff ?{\n                Polyline(\n                  polylineId: PolylineId(\"One\") , \n                  points:latlng,\n                  color: Colors.red,\n                  visible: true\n                )\n              }\n              :null,\n          ),\n</code></pre>\n\n<p>Autocompleter:</p>\n\n<pre><code>onTap: ()async{\n                    // show input autocomplete with selected mode\n                    // then get the Prediction selected\n                    Prediction p =await PlacesAutocomplete.show(\n                      context: context,\n                      apiKey: kGoogleApiKey,\n                      mode: Mode.overlay, // Mode.fullscreen\n                      language: \"fr\",\n                      components: [new Component(Component.country, \"fr\")]\n                    );\n                    displayPredictionDropOff(p);                \n                  },\n\n\n\n// called it from TextField widget with it's constructor onTap:\n\nFuture&lt;Null&gt; displayPredictionDropOff(Prediction p) async {\n    if (p != null) {\n      PlacesDetailsResponse detail =\n      await _places.getDetailsByPlaceId(p.placeId); //Note: exception occurring at this line\n\n      var placeId = p.placeId;\n      double lat = detail.result.geometry.location.lat;\n      double lng = detail.result.geometry.location.lng;\n\n      var address = await Geocoder.local.findAddressesFromQuery(p.description);\n      setState(() {\n        placeNameDropOff = detail.result.name;\n        dropOffLat = lat;\n        dropOffLng = lng;\n        globalPlaceIdDropOff = placeId;\n        isSelectedDropOff = true;\n        latlng.add(LatLng(lat,lng)); // add second location to the list\n      });\n\n\n      print(\"lat------$lat\");\n      print(\"lng--------$lng\");\n      print(\"description-----${p.description}\");\n      print(\"name------${detail.result.name}\");\n      print(\"address----------$address\");\n\n      final GoogleMapController controller = await _controller.future;\n      controller.animateCamera(CameraUpdate.newCameraPosition(\n        CameraPosition(\n          target: LatLng(lat, lng),\n          zoom: 19.151926040649414\n        ),\n      ));\n    }\n  }\n</code></pre>\n\n<p>Note: exception (Unhandled Exception: type 'List' is not a subtype of type 'PlaceDetails') occurring at below line</p>\n\n<pre><code>PlacesDetailsResponse detail =\n      await _places.getDetailsByPlaceId(p.placeId);\n</code></pre>\n"}, {"tags": ["json", "flutter", "dart"], "comments": [{"owner": {"reputation": 1404, "user_id": 10685785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hogSG.jpg?s=128&g=1", "display_name": "cipli onat", "link": "https://stackoverflow.com/users/10685785/cipli-onat"}, "edited": false, "score": 1, "creation_date": 1573640843, "post_id": 58834854, "comment_id": 103944945, "body": "Future.wait may help you <a href=\"https://stackoverflow.com/a/54465973/10685785\">stackoverflow.com/a/54465973/10685785</a>"}], "answers": [{"tags": [], "owner": {"reputation": 428, "user_id": 11370121, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V21op.png?s=128&g=1", "display_name": "Pyth0nGh057", "link": "https://stackoverflow.com/users/11370121/pyth0ngh057"}, "is_accepted": false, "score": 0, "last_activity_date": 1573641040, "creation_date": 1573641040, "answer_id": 58835070, "question_id": 58834854, "link": "https://stackoverflow.com/questions/58834854/multiple-rest-api-with-dart/58835070#58835070", "title": "Multiple REST API with dart", "body": "<p>You could try to use <code>Streams</code> to do this.</p>\n\n<p>I would suggest that you take a look at <a href=\"https://www.burkharts.net/apps/blog/rxdart-magical-transformations-of-streams/\" rel=\"nofollow noreferrer\">this article</a> that explains alot on how combine multiple streams.</p>\n\n<p>Doing this, you could have a <code>repository</code> class fetching data from your apis. Each of this would return you a <code>Future</code> and you could use the method <code>then()</code> to push to a stream controller.</p>\n"}], "owner": {"reputation": 11, "user_id": 8473319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad1d57ac750ace633b59685f631a3921?s=128&d=identicon&r=PG&f=1", "display_name": "johan", "link": "https://stackoverflow.com/users/8473319/johan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 209, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1573641040, "creation_date": 1573640273, "question_id": 58834854, "link": "https://stackoverflow.com/questions/58834854/multiple-rest-api-with-dart", "title": "Multiple REST API with dart", "body": "<p>I have <strong>three</strong> JSON APIs are loading in one page but when run its take more time to load the contents  , what is the best way to make it more speed and efficient? </p>\n"}, {"tags": ["dart", "int", "double"], "comments": [{"owner": {"reputation": 46708, "user_id": 179715, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e240f1a5bb197450dfb8934dd55d9e3a?s=128&d=identicon&r=PG", "display_name": "jamesdlin", "link": "https://stackoverflow.com/users/179715/jamesdlin"}, "edited": false, "score": 0, "creation_date": 1573686054, "post_id": 58834678, "comment_id": 103967494, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/588004/is-floating-point-math-broken\">Is floating point math broken?</a>"}, {"owner": {"reputation": 46708, "user_id": 179715, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e240f1a5bb197450dfb8934dd55d9e3a?s=128&d=identicon&r=PG", "display_name": "jamesdlin", "link": "https://stackoverflow.com/users/179715/jamesdlin"}, "edited": false, "score": 0, "creation_date": 1573686108, "post_id": 58834678, "comment_id": 103967514, "body": "If you dealing with currency, I would recommend that you store <i>int</i>s that represent the number of cents instead."}], "answers": [{"tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": true, "score": 4, "last_activity_date": 1573655662, "creation_date": 1573655662, "answer_id": 58839447, "question_id": 58834678, "link": "https://stackoverflow.com/questions/58834678/why-multiply-two-double-in-dart-result-in-very-strange-number/58839447#58839447", "title": "Why multiply two double in dart result in very strange number", "body": "<p>In short: Because many fractional double values are not precise, and adding imprecise values can give even more imprecise results. That's an inherent property of IEEE-754 floating point numbers, which is what Dart (and most other languages and the CPUs running them) are working with.</p>\n\n<p>Neither of the rational numbers 2.11 and 0.42 are precisely representable as a <code>double</code> value. When you write <code>2.11</code> as source code, the meaning of that is the actual <code>double</code> values that is closest to the mathematical number 2.11.</p>\n\n<p>The value of <code>2.11</code> is precisely 2.109999999999999875655021241982467472553253173828125.\nThe value of <code>0.42</code> is precisely 0.419999999999999984456877655247808434069156646728515625.\nAs you can see, both are slightly smaller than the value you intended.</p>\n\n<p>Then you add those two values, which gives the precise <code>double</code> result  2.529999999999999804600747665972448885440826416015625. This loses a few of the last digits of the <code>0.42</code> to rounding, and since both were already smaller than 2.11 and 0.42, the result is now even more smaller than 2.53.\nFinally you multiply that by 100, which gives the precise result 252.999999999999971578290569595992565155029296875.</p>\n\n<p>This is different from the double value 253.0.</p>\n\n<p>The <code>double.toString</code> method doesn't return a string of the exact value, but it does return different strings for different values, and since the value is different from 253.0, it must return a different string. It then returns a string of the <em>shortest</em> number which is still closer to the result than to the next adjacent double value, and that is the string you see.</p>\n"}], "owner": {"reputation": 979, "user_id": 11833029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/291332ad774d3c7505e6b72aa1176996?s=128&d=identicon&r=PG&f=1", "display_name": "mactrix", "link": "https://stackoverflow.com/users/11833029/mactrix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 747, "favorite_count": 0, "accepted_answer_id": 58839447, "answer_count": 1, "score": 1, "last_activity_date": 1573655662, "creation_date": 1573639699, "question_id": 58834678, "link": "https://stackoverflow.com/questions/58834678/why-multiply-two-double-in-dart-result-in-very-strange-number", "title": "Why multiply two double in dart result in very strange number", "body": "<p>Can anyone explain why the result is 252.99999999999997 and not 253? What should be used instead to get 253?</p>\n\n<pre><code>double x = 2.11;\ndouble y = 0.42;\nprint(((x + y) * 100)); // print 252.99999999999997\n</code></pre>\n\n<p>I am basically trying to convert a currency value with 2 decimal (ie \u00a32.11) into pence/cent (ie 211p)\nThanks</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1573639249, "post_id": 58834163, "comment_id": 103944101, "body": "if you still want to use <code>InAppUpdate.checkForUpdate().then(...)</code> then return its value from <code>checkForUpdate</code> method"}, {"owner": {"reputation": 1177, "user_id": 6324029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/293ab6d0d3810adb641b0d37b800f774?s=128&d=identicon&r=PG&f=1", "display_name": "hoangquyy", "link": "https://stackoverflow.com/users/6324029/hoangquyy"}, "edited": false, "score": 1, "creation_date": 1573640273, "post_id": 58834163, "comment_id": 103944652, "body": "Do you check _updateInfo.immediateUpdateAllowed value? seem like the value of _updateInfo.immediateUpdateAllowed is null so it can&#39;t check the condition but it still get in await InAppUpdate.performImmediateUpdate(); inside the condition"}], "answers": [{"comments": [{"owner": {"reputation": 1066, "user_id": 7910735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOHri.png?s=128&g=1", "display_name": "Sahdeep Singh", "link": "https://stackoverflow.com/users/7910735/sahdeep-singh"}, "edited": false, "score": 0, "creation_date": 1573639086, "post_id": 58834277, "comment_id": 103944019, "body": "will it make any difference? can you please explain why? Cause i have been using same callbacks and it works as expected. I mean is there any performance issue or anything like that if we use <code>then</code> instead of await? thanks"}, {"owner": {"reputation": 4405, "user_id": 2387962, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1d0fa26a26b23ce79494e0d372aea815?s=128&d=identicon&r=PG", "display_name": "flutter", "link": "https://stackoverflow.com/users/2387962/flutter"}, "edited": false, "score": 1, "creation_date": 1573640173, "post_id": 58834277, "comment_id": 103944587, "body": "it made the difference ...Don&#39;t know why. Maybe a good question on stackoverflow ;)"}, {"owner": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "reply_to_user": {"reputation": 1066, "user_id": 7910735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOHri.png?s=128&g=1", "display_name": "Sahdeep Singh", "link": "https://stackoverflow.com/users/7910735/sahdeep-singh"}, "edited": false, "score": 1, "creation_date": 1573641526, "post_id": 58834277, "comment_id": 103945319, "body": "@SahdeepSingh It makes difference, because when you set a callback using <i>then</i> it doesn&#39;t wait for the future to resolve - it just continues to execute code. That&#39;s why _updateInfo variable is null."}, {"owner": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "reply_to_user": {"reputation": 1066, "user_id": 7910735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOHri.png?s=128&g=1", "display_name": "Sahdeep Singh", "link": "https://stackoverflow.com/users/7910735/sahdeep-singh"}, "edited": false, "score": 0, "creation_date": 1573643039, "post_id": 58834277, "comment_id": 103946167, "body": "@SahdeepSingh I&#39;ve updated the answer. I tried to explain the difference in execution order as good as I can."}, {"owner": {"reputation": 1066, "user_id": 7910735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOHri.png?s=128&g=1", "display_name": "Sahdeep Singh", "link": "https://stackoverflow.com/users/7910735/sahdeep-singh"}, "edited": false, "score": 0, "creation_date": 1573643557, "post_id": 58834277, "comment_id": 103946445, "body": "thanks @IgorKharakhordin perfectly understood. Thanks again :)"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1573643558, "post_id": 58834277, "comment_id": 103946449, "body": "and the quick fix is just to <code>return InAppUpdate.checkForUpdate().then(...)</code> - no really need for <code>await</code>"}, {"owner": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "edited": false, "score": 0, "creation_date": 1573646587, "post_id": 58834277, "comment_id": 103947904, "body": "Yes, it is another approach. But I consider this as a bad code style (at least in this case). It creates more unnecessary syntax."}], "tags": [], "owner": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "is_accepted": true, "score": 2, "last_activity_date": 1573646719, "last_edit_date": 1573646719, "creation_date": 1573638512, "answer_id": 58834277, "question_id": 58834163, "link": "https://stackoverflow.com/questions/58834163/null-value-for-state-variable/58834277#58834277", "title": "null value for state variable", "body": "<p>Use <em>await</em> keyword instead of setting callbacks in <em>checkForUpdate</em>:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Future&lt;void&gt; checkForUpdate() async {\n  final info = await InAppUpdate.checkForUpdate();\n\n  setState(() {\n    _updateInfo = info;\n    print('@@@@@@@@@@@@@@@@@@@@@@@@@@$_updateInfo');\n  });\n}\n</code></pre>\n\n<p>When you set a callback using <em>then</em> and don't use <em>await</em> keyword, it doesn't wait for the future to resolve a value and just continues to execute the code - that's why variable in null. It would set state later when future is resolved. But when you use <em>await</em> keyword, code won't continue executing UNTIL future is resolved.</p>\n\n<p>Execution order without <strong>await</strong>:</p>\n\n<ul>\n<li><em>checkForUpdate</em> is called, <em>InAppUpdate.checkForUpdate</em> is called with Future object returned;</li>\n<li>Callback is set for Future object, <em>checkForUpdate</em> function is completed;</li>\n<li><em>doImmediateUpdate</em> executes;</li>\n<li>(async gap before Future is resolved)</li>\n<li>Future callback for <em>checkForUpdate</em> is called and it sets state.</li>\n</ul>\n\n<p>Execution order with <strong>await</strong>:</p>\n\n<ul>\n<li><em>checkForUpdate</em> is called, <em>InAppUpdate.checkForUpdate</em> is called with Future object returned;</li>\n<li>Waiting for the Future to resolve;</li>\n<li>Setting variable in state, <em>checkForUpdate</em> function is completed;</li>\n<li><em>doImmediateUpdate</em> executes.</li>\n</ul>\n"}], "owner": {"reputation": 4405, "user_id": 2387962, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1d0fa26a26b23ce79494e0d372aea815?s=128&d=identicon&r=PG", "display_name": "flutter", "link": "https://stackoverflow.com/users/2387962/flutter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 58834277, "answer_count": 1, "score": 0, "last_activity_date": 1573646719, "creation_date": 1573638163, "question_id": 58834163, "link": "https://stackoverflow.com/questions/58834163/null-value-for-state-variable", "title": "null value for state variable", "body": "<p>I've two async methods:</p>\n\n<pre><code>Future&lt;void&gt; checkForUpdate() async {\n        InAppUpdate.checkForUpdate().then((info) {\n            setState(() {\n                _updateInfo = info;\n                print('@@@@@@@@@@@@@@@@@@@@@@@@@@$_updateInfo');\n\n            });\n        }).catchError((e) =&gt; _showError(e));\n    }\n\n\nFuture&lt;void&gt; doImmediateUpdate(AppUpdateInfo info) async{\n       if(_updateInfo.immediateUpdateAllowed){\n           await InAppUpdate.performImmediateUpdate();\n       }\n\n    }\n</code></pre>\n\n<p><code>_updateInfo</code> is my state variable that I set in <code>checkForUpdate()</code> and use in <code>doImmediateUpdate</code>.</p>\n\n<p>I'm calling both methods like this  </p>\n\n<pre><code>`//.....'\n\n    platformUpdates() async {\n           if (Platform.isAndroid) {\n               await checkForUpdate();\n               await doImmediateUpdate(_updateInfo);\n</code></pre>\n\n<p>However I'm getting the error\n<code>Unhandled Exception: NoSuchMethodError: The getter 'immediateUpdateAllowed' was called on null.</code></p>\n\n<p>But the print statement for <code>_updateInfo</code> returns what I'm looking for..</p>\n\n<pre><code>@@@@@@@@@@@@@@@@@@@@@@@@@@InAppUpdateState{updateAvailable: true, immediateUpdateAllowed: true, flexibleUpdateAllowed: true, availableVersionCode: 14}\n</code></pre>\n\n<p>obviously there's something amiss in my code... \ncheers.</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 1404, "user_id": 10685785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hogSG.jpg?s=128&g=1", "display_name": "cipli onat", "link": "https://stackoverflow.com/users/10685785/cipli-onat"}, "edited": false, "score": 0, "creation_date": 1573641632, "post_id": 58833991, "comment_id": 103945385, "body": "What I understand from your question is When you want to logout The App has to navigate to the home screen and after that navigation, you want to call some functions Am I right?"}, {"owner": {"reputation": 463, "user_id": 8995290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Uvww2.jpg?s=128&g=1", "display_name": "Michel Engelen", "link": "https://stackoverflow.com/users/8995290/michel-engelen"}, "reply_to_user": {"reputation": 1404, "user_id": 10685785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hogSG.jpg?s=128&g=1", "display_name": "cipli onat", "link": "https://stackoverflow.com/users/10685785/cipli-onat"}, "edited": false, "score": 0, "creation_date": 1573642578, "post_id": 58833991, "comment_id": 103945880, "body": "correct ... basically updating the store, but only <b>AFTER</b> the transition animation is done!"}, {"owner": {"reputation": 463, "user_id": 8995290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Uvww2.jpg?s=128&g=1", "display_name": "Michel Engelen", "link": "https://stackoverflow.com/users/8995290/michel-engelen"}, "reply_to_user": {"reputation": 1404, "user_id": 10685785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hogSG.jpg?s=128&g=1", "display_name": "cipli onat", "link": "https://stackoverflow.com/users/10685785/cipli-onat"}, "edited": false, "score": 0, "creation_date": 1573642700, "post_id": 58833991, "comment_id": 103945948, "body": "One more thing that is kinda strange, is that the method <code>pushNamedAndRemoveUntil</code> is never entering the <code>then</code>, <code>catchError</code> or even <code>whenComplete</code>."}, {"owner": {"reputation": 1404, "user_id": 10685785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hogSG.jpg?s=128&g=1", "display_name": "cipli onat", "link": "https://stackoverflow.com/users/10685785/cipli-onat"}, "edited": false, "score": 0, "creation_date": 1573644636, "post_id": 58833991, "comment_id": 103946969, "body": "I think It must return something maybe you couldn&#39;t catch <a href=\"https://api.flutter.dev/flutter/widgets/NavigatorState/pushNamedAndRemoveUntil.html\" rel=\"nofollow noreferrer\">pushNamedAndRemoveUntil</a>"}], "answers": [{"comments": [{"owner": {"reputation": 463, "user_id": 8995290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Uvww2.jpg?s=128&g=1", "display_name": "Michel Engelen", "link": "https://stackoverflow.com/users/8995290/michel-engelen"}, "edited": false, "score": 0, "creation_date": 1573647289, "post_id": 58836801, "comment_id": 103948229, "body": "It is not working ... and you made one assumption that is not quite right: I do only unset the user when the <code>auth.signOut()</code> succeeds, so that I am safe, when it might fail.  Problem is still there. And I think that the method <code>pushNamedAndRemoveUntil</code> is not correctly executed.  I tried runnig it like this (without all the store dispatches): <code>nav.pushNamedAndRemoveUntil(Routes.home, (Route&lt;dynamic&gt; route) =&gt; false).then&lt;void&gt;((Object _) =&gt; print(&#39;#### THEN: CLEARED STACK&#39;)).catchError((dynamic error) =&gt; print(&#39;#### CATCH: DID NOT CLEAR STACK&#39;));</code>"}, {"owner": {"reputation": 463, "user_id": 8995290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Uvww2.jpg?s=128&g=1", "display_name": "Michel Engelen", "link": "https://stackoverflow.com/users/8995290/michel-engelen"}, "edited": false, "score": 0, "creation_date": 1573647321, "post_id": 58836801, "comment_id": 103948242, "body": "It is never entering either <code>then</code> or <code>catchError</code>."}, {"owner": {"reputation": 8707, "user_id": 6919963, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f6e821b392cb6c281097a8f668669efe?s=128&d=identicon&r=PG", "display_name": "Miguel Ruivo", "link": "https://stackoverflow.com/users/6919963/miguel-ruivo"}, "reply_to_user": {"reputation": 463, "user_id": 8995290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Uvww2.jpg?s=128&g=1", "display_name": "Michel Engelen", "link": "https://stackoverflow.com/users/8995290/michel-engelen"}, "edited": false, "score": 0, "creation_date": 1573648430, "post_id": 58836801, "comment_id": 103948800, "body": "Yes, it won&#39;t enter in the <code>catchError</code> like I said. That&#39;s one of the reasons this might not be the best solution if you really want to catch the error on logout. Is the <code>store.dispatch(UnsetUser());</code> being called at all?"}, {"owner": {"reputation": 463, "user_id": 8995290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Uvww2.jpg?s=128&g=1", "display_name": "Michel Engelen", "link": "https://stackoverflow.com/users/8995290/michel-engelen"}, "edited": false, "score": 0, "creation_date": 1573649343, "post_id": 58836801, "comment_id": 103949267, "body": "Yes, it is.   BTW: I found the reason why the future is (seamingly) never completed in the method. I will edit my post and file an issue with the flutter package."}], "tags": [], "owner": {"reputation": 8707, "user_id": 6919963, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f6e821b392cb6c281097a8f668669efe?s=128&d=identicon&r=PG", "display_name": "Miguel Ruivo", "link": "https://stackoverflow.com/users/6919963/miguel-ruivo"}, "is_accepted": false, "score": 0, "last_activity_date": 1573646904, "creation_date": 1573646904, "answer_id": 58836801, "question_id": 58833991, "link": "https://stackoverflow.com/questions/58833991/flutter-wait-for-the-navigation-transition-to-end/58836801#58836801", "title": "flutter: wait for the navigation transition to end", "body": "<p>As you have it right now, it can be quite tricky to get the desired result because you are awaiting for the sign out (where the <code>FirebaseUser</code> is removed) and only <em>then</em> pushing to the new screen.</p>\n\n<p>The problem is that in the meantime, as soon as you remove the user, you'll still need some data on the current screen (I believe?) and you'll get an exception during the transition because you are trying to access data that isn't currently available. Am I right?</p>\n\n<p>One easy solution (and perhaps the most correct one) is to let a reference to the user in the screen where you make the logout to live until the end of the its own life, thus, removing it only when disposing. We don't have access to your widget, but you can create a variable that gets the user reference and then signing out will sign out the user but you still have access to the previous data by that reference on your widget.</p>\n\n<p>Another solution would be signing out only after pushing to the new screen, but you woulnd't be able to properly fallback if for some reason the sign out fails, however, typically this sign outs on the client side are made in a <em>best effort</em> approach, where it will always logout for the user, regardless of failing or not remotely. So, this way, you can simply remove the <code>await</code> from the <code>signOut</code> as it will end that method synchronously and call the sign out afterwards, or you can make it more explicitly like so:</p>\n\n<pre><code>   try {\n      await nav.pushNamedAndRemoveUntil(\n      Routes.home, (Route&lt;dynamic&gt; route) =&gt; false).then((_) =&gt; auth.signOut());\n      store.dispatch(UnsetUser());\n      store.dispatch(AppIsLoaded());\n      action.completer.complete();\n    } on PlatformException catch (error) {\n      var response = await Future&lt;void&gt;.error(error);\n      await nav.maybePop(nav.context);\n      action.completer.completeError(response);\n      store.dispatch(AppIsLoaded());\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 193, "user_id": 1484467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f41b388876765bcb370340ea64a6d2f?s=128&d=identicon&r=PG", "display_name": "avioli", "link": "https://stackoverflow.com/users/1484467/avioli"}, "edited": false, "score": 0, "creation_date": 1607346088, "post_id": 58839854, "comment_id": 115234640, "body": "The <code>pushNamedAndRemoveUntil</code> behaviour is consistent with the rest of the Navigator&#39;s push methods - they all return a Future, which resolves when that route is popped. The remove is synchronous (the method is not async, it only returns a Future), so you can act immediately after the call."}], "tags": [], "owner": {"reputation": 463, "user_id": 8995290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Uvww2.jpg?s=128&g=1", "display_name": "Michel Engelen", "link": "https://stackoverflow.com/users/8995290/michel-engelen"}, "is_accepted": false, "score": 1, "last_activity_date": 1573657142, "creation_date": 1573657142, "answer_id": 58839854, "question_id": 58833991, "link": "https://stackoverflow.com/questions/58833991/flutter-wait-for-the-navigation-transition-to-end/58839854#58839854", "title": "flutter: wait for the navigation transition to end", "body": "<p>I found the solution ... and it is apparently a bug in the <code>flutter</code> framework.</p>\n\n<p>I dug around in the <code>Navigator</code> and <code>NavigatorState</code> classes of the flutter package and found the reason why the Future was never completed.</p>\n\n<p>The method <code>pushNamedAndRemoveUntil</code> (as well as several others) do return a completer. So far it is (kinda) correct. But it only completes when the <code>Route</code> is popped from the stack. And that's incorrect behaviour.</p>\n\n<p>As far as I am concerned it should complete when the new Route gets pushed to the stack (and the transition/animation did finish). There is actually a method present on the Route called <code>didPush</code> which returns a TickerFuture from the Animation:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>TickerFuture didPush() =&gt; TickerFuture.complete();\n</code></pre>\n\n<p>This is as much as I would expect from a method like this.</p>\n\n<p>For now I fixed it directly in the package, but will file an issue afterwards so that it can be fixed in the future.</p>\n"}], "owner": {"reputation": 463, "user_id": 8995290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Uvww2.jpg?s=128&g=1", "display_name": "Michel Engelen", "link": "https://stackoverflow.com/users/8995290/michel-engelen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2215, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1573657142, "creation_date": 1573637531, "last_edit_date": 1573640382, "question_id": 58833991, "link": "https://stackoverflow.com/questions/58833991/flutter-wait-for-the-navigation-transition-to-end", "title": "flutter: wait for the navigation transition to end", "body": "<p>I have a kinda special use-case which is giving me headaches for hours now.</p>\n\n<p>I do have an application which is using firebase and social logins for authentication. Additionally I implemented redux to manage the apps state.</p>\n\n<p>Everything is working fine like this, but only when I try to logout while on a screen which needs data from the <code>FirebaseUser</code> class the rendering will fail, because the transition of the navigator is still running (triggers a rerendering of the screen I am navigating away from) and finally ends up in the desired place, but with a faulty screen while transitioning.</p>\n\n<p>My middleware code for this is this:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Middleware&lt;RootState&gt; _signOutUser(GlobalKey navigatorKey) {\n  return (Store&lt;RootState&gt; store, dynamic dynamicAction, NextDispatcher next) {\n    final SignOut action = dynamicAction;\n    final NavigatorState nav = navigatorKey.currentState;\n\n    next(action);\n\n    store.dispatch(AppIsLoading());\n\n    Future&lt;dynamic&gt;(() async {\n      try {\n        await auth.signOut();\n      } on PlatformException catch (error) {\n        return Future&lt;void&gt;.error(error);\n      }\n    }).then&lt;void&gt;((dynamic _) {\n      nav.pushNamedAndRemoveUntil(Routes.home, (Route&lt;dynamic&gt; route) =&gt; false);\n      store.dispatch(UnsetUser());\n      store.dispatch(AppIsLoaded());\n      action.completer.complete();\n    }).catchError((Object response) {\n      nav.maybePop(nav.context);\n      action.completer.completeError(response);\n      store.dispatch(AppIsLoaded());\n    });\n  };\n}\n</code></pre>\n\n<p>I would ideally do it like this:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Middleware&lt;RootState&gt; _signOutUser(GlobalKey navigatorKey) {\n  return (Store&lt;RootState&gt; store, dynamic dynamicAction, NextDispatcher next) {\n    final SignOut action = dynamicAction;\n    final NavigatorState nav = navigatorKey.currentState;\n\n    next(action);\n\n    store.dispatch(AppIsLoading());\n\n    Future&lt;dynamic&gt;(() async {\n      try {\n        await auth.signOut();\n      } on PlatformException catch (error) {\n        return Future&lt;void&gt;.error(error);\n      }\n    }).then&lt;void&gt;((dynamic _) {\n      return nav.pushNamedAndRemoveUntil(Routes.home, (Route&lt;dynamic&gt; route) =&gt; false);\n    }).then&lt;void&gt;((dynamic _) {\n      store.dispatch(UnsetUser());\n      store.dispatch(AppIsLoaded());\n      action.completer.complete();\n    }).catchError((Object response) {\n      nav.maybePop(nav.context);\n      action.completer.completeError(response);\n      store.dispatch(AppIsLoaded());\n    });\n  };\n}\n</code></pre>\n\n<p>But this way as well, the rendering while transitioning takes place.</p>\n\n<p>I could just add guards to the screen, but that would result in a screen that is not looking like the one i was just viewing.</p>\n\n<p>Or is there a way inside the widget to prevent re-rendering at a special event, so that it just stays the way it was?</p>\n\n<p>I am kinda lost atm, so any help is appreciated.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["android", "flutter", "dart", "notifications", "admob"], "comments": [{"owner": {"reputation": 285, "user_id": 7941213, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/7f86315ad9447aec441e7a8a008b5325?s=128&d=identicon&r=PG&f=1", "display_name": "Marian", "link": "https://stackoverflow.com/users/7941213/marian"}, "edited": false, "score": 0, "creation_date": 1573736609, "post_id": 58833734, "comment_id": 103986266, "body": "I found a temporary solution. Instead of Navigator.Push in the onSelectNotification  I will just runApp(Root()); again."}, {"owner": {"reputation": 1079, "user_id": 9078384, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/063e7069245954c5246276c925113801?s=128&d=identicon&r=PG&f=1", "display_name": "djalmafreestyler", "link": "https://stackoverflow.com/users/9078384/djalmafreestyler"}, "edited": false, "score": 0, "creation_date": 1575729580, "post_id": 58833734, "comment_id": 104667796, "body": "I recommend you to use the official plugin for Flutter: <a href=\"https://pub.dev/packages/firebase_admob\" rel=\"nofollow noreferrer\">pub.dev/packages/firebase_admob</a>"}], "owner": {"reputation": 285, "user_id": 7941213, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/7f86315ad9447aec441e7a8a008b5325?s=128&d=identicon&r=PG&f=1", "display_name": "Marian", "link": "https://stackoverflow.com/users/7941213/marian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1573656588, "creation_date": 1573636567, "last_edit_date": 1573656588, "question_id": 58833734, "link": "https://stackoverflow.com/questions/58833734/admob-not-initialized-from-flutter-notification", "title": "AdMob not initialized from flutter notification", "body": "<p>So I have a very simple application.\nIn Main I initialize Admob and call Root Widget.<br>\nFrom Root I show a Stateful Widget \"Home\".<br>\nFrom Home Call the Notification Logic.<br>\nWhen you \"click\" on the notification I send you again to Root.  </p>\n\n<p>When I first run the application, the adMobBanner works good.\nAfter you receive the notification and you click on it, the app starts again, everything works as expected but the adMobBanner is a black banner now.</p>\n\n<p>I think the Admob is not initialized properly. I tried to \"Admob.initialize(\"appId\")\" in Root, in LocalNotification widget, everywhere, but still the same result.</p>\n\n<p>Any ideas?</p>\n\n<pre><code>void main() async {\n  Admob.initialize(\"appId\");\n  runApp(Root());\n}\n\nclass Root extends StatelessWidget {\n  final String title = \"Title\";\n  Root();\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n        title: title,\n        ),\n        home: Home(title: title));\n  }\n}\n\nclass Home extends StatefulWidget {\n  final String title;\n  Home({this.title});\n\n  @override\n  _HomeState createState() =&gt; _HomeState();\n}\n\nclass _HomeState extends State&lt;Home&gt; {\n  @override\n  Widget build(BuildContext context) {\n    final adMobBanner = AdmobBanner(adUnitId: \"id\", adSize: AdmobBannerSize.BANNER);\n    return Scaffold(\n      appBar: appBar,\n      body: Column(\n        children: &lt;Widget&gt;[\n          Container(),\n          adMobBanner,\n          LocalNotification()\n        ],\n      ),\n    );\n  }\n}\n\nclass LocalNotification extends StatefulWidget {\n  @override\n  _LocalNotificationState createState() =&gt; _LocalNotificationState();\n}\n\nclass _LocalNotificationState extends State&lt;LocalNotification&gt; {\n\n  void initState() {\n    super.initState();\n    //initialization notification plugin\n    showNotification(); //the notification with onSelectNotification callback\n  }\n\n  Future onSelectNotification(String payload) async {\n    await Navigator.push(context, MaterialPageRoute(builder: (context) {\n      return Root(); // send you to Root again\n    }));\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Container();\n  }\n}\n</code></pre>\n"}, {"tags": ["dart", "callable"], "answers": [{"tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": true, "score": 7, "last_activity_date": 1573686197, "last_edit_date": 1573686197, "creation_date": 1573636654, "answer_id": 58833763, "question_id": 58833369, "link": "https://stackoverflow.com/questions/58833369/what-is-the-implementation-of-call-in-dart/58833763#58833763", "title": "What is the implementation of call() in dart?", "body": "<p>All Dart <em>functions</em> (objects which has a function type rather than an class/interface type) have a <code>call</code> method. </p>\n\n<p>The <code>call</code> method has the same function type as the function itself, and it behaves exactly the same when you call it. You could even say that calling a function <em>is</em> implicitly calling its <code>call</code> method. \nAnd, not by coincidence, the specification actually does say that: If you write the function invocation <code>e1(e2, e3)</code>, then the compiler checks if <code>e1</code> has <code>call</code> method, and if so converts it to the <em>method</em> invocation <code>e1.call(e2, e3)</code>.</p>\n\n<p>Other Dart objects may have a <code>call</code> method too. It's just a normal method for interface types, but if class <code>C</code> has a call method like <code>int call(int x) =&gt; ...</code>, and <code>c</code> has type <code>C</code>, then <code>c(e2, e3)</code> is also converted to <code>c.call(e2, e3)</code>. It has to be a <code>call</code> <em>method</em>, not just a <code>call</code> getter returning a function.</p>\n"}], "owner": {"reputation": 89, "user_id": 10397838, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_WOyfTMQ9N4/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW0v11DWDTHTeFCov91kDHryuBE4w/mo/photo.jpg?sz=128", "display_name": "wurikiji", "link": "https://stackoverflow.com/users/10397838/wurikiji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1376, "favorite_count": 0, "accepted_answer_id": 58833763, "answer_count": 1, "score": 4, "last_activity_date": 1573686197, "creation_date": 1573635224, "question_id": 58833369, "link": "https://stackoverflow.com/questions/58833369/what-is-the-implementation-of-call-in-dart", "title": "What is the implementation of call() in dart?", "body": "<p>I somehow found the <code>call()</code> method is on every function. \nUsing this method I could change my <code>if (callback != null) callback()</code> to <code>callback?.call()</code>. </p>\n\n<p>So I tried to find the implementation and document of <code>call()</code>, but I couldn't. Is it just built-in method? What will be the implementation of this method? <code>Function.apply()</code> will be called inside it? </p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 1066, "user_id": 7910735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOHri.png?s=128&g=1", "display_name": "Sahdeep Singh", "link": "https://stackoverflow.com/users/7910735/sahdeep-singh"}, "edited": false, "score": 0, "creation_date": 1573633977, "post_id": 58832931, "comment_id": 103941312, "body": "hey, Can you show us the code. how you used safeArea?"}, {"owner": {"reputation": 6962, "user_id": 5020932, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/3DCVM.jpg?s=128&g=1", "display_name": "Mahendra", "link": "https://stackoverflow.com/users/5020932/mahendra"}, "edited": false, "score": 0, "creation_date": 1573634016, "post_id": 58832931, "comment_id": 103941332, "body": "use <code>SafeArea</code> widget"}], "answers": [{"tags": [], "owner": {"reputation": 263, "user_id": 8884254, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sDNbhEb1JQE/AAAAAAAAAAI/AAAAAAAAFw8/IsbTd312RyU/photo.jpg?sz=128", "display_name": "Dhaval Patel", "link": "https://stackoverflow.com/users/8884254/dhaval-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1573645328, "creation_date": 1573645328, "answer_id": 58836339, "question_id": 58832931, "link": "https://stackoverflow.com/questions/58832931/title-text-cut-out-in-android-notch-phone-in-flutter/58836339#58836339", "title": "Title text cut out in Android Notch Phone in flutter", "body": "<p>You can use \"SafeArea\" Like Below Code:-</p>\n\n<pre><code>return Scaffold(\n      body: SafeArea(\n          child: Container()),\n);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38, "user_id": 12362569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69d8d8efa6bb90feea51291754ff215e?s=128&d=identicon&r=PG&f=1", "display_name": "nordine enn", "link": "https://stackoverflow.com/users/12362569/nordine-enn"}, "is_accepted": false, "score": 0, "last_activity_date": 1573645868, "creation_date": 1573645868, "answer_id": 58836509, "question_id": 58832931, "link": "https://stackoverflow.com/questions/58832931/title-text-cut-out-in-android-notch-phone-in-flutter/58836509#58836509", "title": "Title text cut out in Android Notch Phone in flutter", "body": "<p>you can put Scaffold into safe area </p>\n\n<pre><code> return SafeArea(    \n child: Scaffold  ( ),\n );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2698, "user_id": 7216580, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/66240bf7edb13b989030747f39811adb?s=128&d=identicon&r=PG&f=1", "display_name": "Hardik1344", "link": "https://stackoverflow.com/users/7216580/hardik1344"}, "is_accepted": true, "score": 1, "last_activity_date": 1573649399, "creation_date": 1573649399, "answer_id": 58837538, "question_id": 58832931, "link": "https://stackoverflow.com/questions/58832931/title-text-cut-out-in-android-notch-phone-in-flutter/58837538#58837538", "title": "Title text cut out in Android Notch Phone in flutter", "body": "<p>Finally!! \nI found the solutions.</p>\n\n<p>Create one folder inside Android res's folder with the name of <strong>\"values-v28\"</strong>\nCopy the code from <strong>Values</strong> folder's styles.xml file and paste it into new folder or replace the below code inside the new folder's styles.xml file.\nForce quit terminal which you used.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n    &lt;style name=\"LaunchTheme\" parent=\"@android:style/Theme.Black.NoTitleBar\"&gt;\n        &lt;!-- Show a splash screen on the activity. Automatically removed when\n             Flutter draws its first frame --&gt;\n        &lt;item name=\"android:windowLayoutInDisplayCutoutMode\"&gt;shortEdges&lt;/item&gt;\n    &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>It works for me.\nthanks for your valuable respose.</p>\n"}], "owner": {"reputation": 2698, "user_id": 7216580, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/66240bf7edb13b989030747f39811adb?s=128&d=identicon&r=PG&f=1", "display_name": "Hardik1344", "link": "https://stackoverflow.com/users/7216580/hardik1344"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 704, "favorite_count": 0, "accepted_answer_id": 58837538, "answer_count": 3, "score": 1, "last_activity_date": 1573649399, "creation_date": 1573633374, "last_edit_date": 1573635428, "question_id": 58832931, "link": "https://stackoverflow.com/questions/58832931/title-text-cut-out-in-android-notch-phone-in-flutter", "title": "Title text cut out in Android Notch Phone in flutter", "body": "<p>I am developing on flutter based hybrid mobile app on which I am using <strong>Google Pixel XL</strong> API 28 \nemulator.\nThe application works fine but my title on the application is cut due to notch of the screen.\nI have tried to add a <strong>safe area</strong> too but could not get success. Anyone have any idea of this.\nThanks in advance.</p>\n\n<p><strong>Image:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/LJ1qY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LJ1qY.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["flutter", "dart", "assets", "photo"], "answers": [{"comments": [{"owner": {"reputation": 1781, "user_id": 5257704, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/34f9dfd2df35241769bec4262a946de2?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5257704/tony"}, "edited": false, "score": 0, "creation_date": 1573633986, "post_id": 58833012, "comment_id": 103941317, "body": "Unfortunately I gives me anaother error <code>Arguments of a constant creation must be constant expressions. Try making the argument a valid constant, or use &#39;new&#39; to call the constructor.</code>"}, {"owner": {"reputation": 581, "user_id": 2419001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ay1VK.jpg?s=128&g=1", "display_name": "lyio", "link": "https://stackoverflow.com/users/2419001/lyio"}, "reply_to_user": {"reputation": 1781, "user_id": 5257704, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/34f9dfd2df35241769bec4262a946de2?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5257704/tony"}, "edited": false, "score": 1, "creation_date": 1573634066, "post_id": 58833012, "comment_id": 103941365, "body": "I guess you have to remove the <code>const</code> before the <code>FullScreenWrapper</code> as well."}, {"owner": {"reputation": 1930, "user_id": 1639385, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/17ef14f5ad2f5ca0eaa8ce41e9c2a6f4?s=128&d=identicon&r=PG", "display_name": "Ulysses Alves", "link": "https://stackoverflow.com/users/1639385/ulysses-alves"}, "edited": false, "score": 1, "creation_date": 1601574567, "post_id": 58833012, "comment_id": 113457390, "body": "I think I might have copied my code from somewhere and didn&#39;t realize it had a leading &quot;const&quot; keyword in front of one of my widgets. Removing it solved the problem."}], "tags": [], "owner": {"reputation": 581, "user_id": 2419001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ay1VK.jpg?s=128&g=1", "display_name": "lyio", "link": "https://stackoverflow.com/users/2419001/lyio"}, "is_accepted": true, "score": 11, "last_activity_date": 1573633704, "creation_date": 1573633704, "answer_id": 58833012, "question_id": 58832925, "link": "https://stackoverflow.com/questions/58832925/error-not-a-constant-expression-flutter/58833012#58833012", "title": "Error: Not a constant expression. (Flutter)", "body": "<p>Here <code>const AssetImage(snapshot.data[index])</code> you are using a <code>const</code> constructor. The compiler is expecting a compile time constant and is complaining because the arguments you are passing in are not constant but depend on the runtime value of <code>snapshot.data</code>.</p>\n\n<p>If you simply remove the <code>const</code> keyword it should compile without errors.</p>\n"}], "owner": {"reputation": 1781, "user_id": 5257704, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/34f9dfd2df35241769bec4262a946de2?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5257704/tony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6715, "favorite_count": 0, "accepted_answer_id": 58833012, "answer_count": 1, "score": 5, "last_activity_date": 1573634107, "creation_date": 1573633355, "last_edit_date": 1573634107, "question_id": 58832925, "link": "https://stackoverflow.com/questions/58832925/error-not-a-constant-expression-flutter", "title": "Error: Not a constant expression. (Flutter)", "body": "<p>I using the demo from this <a href=\"https://pub.dev/packages/photo_view\" rel=\"noreferrer\">library</a> and it works perfectly.\nBut when I implement in my project, I get error on this line</p>\n\n<blockquote>\n  <p>Error: Not a constant expression. const\n  AssetImage(snapshot.data[index]),</p>\n</blockquote>\n\n<p>My <code>Container</code> is wrapping in <code>InkWell</code>.</p>\n\n<pre><code>  InkWell(\n      child: Container(\n                 padding:\n                      EdgeInsets.zero,\n                     height: 150,\n                      width: 150,\n                      decoration:\n                            BoxDecoration(\n                                      image: DecorationImage(\n                                       image: AssetImage(snapshot.data[index]),\n                                            fit: BoxFit .fill),\n                                  ),\n                           ),\n      onTap: () {\n               print('The value is ' + snapshot .data[index]);\n                    Navigator.push(\n                      context,\n                      MaterialPageRoute(\n                        builder:\n                         (context) =&gt;\n                            const FullScreenWrapper(imageProvider:const AssetImage(snapshot.data[index]),  // here the error\n                                    )));\n               },\n       ),\n</code></pre>\n\n<p>Here the printed value</p>\n\n<blockquote>\n  <p>The value is\n  /storage/emulated/0/Android/data/xxx/files/Pictures/scaled_1572364487252xxx.jpg</p>\n</blockquote>\n\n<p>If I remove the <strong>const</strong>, I get others error</p>\n\n<blockquote>\n  <p>Arguments of a constant creation must be constant expressions. Try\n  making the argument a valid constant, or use 'new' to call the\n  constructor.</p>\n</blockquote>\n\n<p>I even tried using <code>new</code> but to no avail.</p>\n"}, {"tags": ["flutter", "dart", "build", "navigator", "statefulwidget"], "comments": [{"owner": {"reputation": 1066, "user_id": 7910735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOHri.png?s=128&g=1", "display_name": "Sahdeep Singh", "link": "https://stackoverflow.com/users/7910735/sahdeep-singh"}, "edited": false, "score": 1, "creation_date": 1573633317, "post_id": 58832813, "comment_id": 103941025, "body": "I have a question... animation would make build method to be called for almost every frame. And you are calling your api&#39;s in the build function?  wouldn&#39;t it make thousands of api&#39;s call in just that duration of animation??"}, {"owner": {"reputation": 4293, "user_id": 2919052, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mfshI.jpg?s=128&g=1", "display_name": "codeKiller", "link": "https://stackoverflow.com/users/2919052/codekiller"}, "reply_to_user": {"reputation": 1066, "user_id": 7910735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOHri.png?s=128&g=1", "display_name": "Sahdeep Singh", "link": "https://stackoverflow.com/users/7910735/sahdeep-singh"}, "edited": false, "score": 0, "creation_date": 1573634956, "post_id": 58832813, "comment_id": 103941782, "body": "no, I am using other kind of animations, not that kind of animation you are thinking about"}], "answers": [{"comments": [{"owner": {"reputation": 4293, "user_id": 2919052, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mfshI.jpg?s=128&g=1", "display_name": "codeKiller", "link": "https://stackoverflow.com/users/2919052/codekiller"}, "edited": false, "score": 0, "creation_date": 1573635064, "post_id": 58832891, "comment_id": 103941843, "body": "that is a very good suggestion, thanks, it solves the double-API call stuff, however the issue about unnecessarily calling the previous route build is still there."}, {"owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "reply_to_user": {"reputation": 4293, "user_id": 2919052, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mfshI.jpg?s=128&g=1", "display_name": "codeKiller", "link": "https://stackoverflow.com/users/2919052/codekiller"}, "edited": false, "score": 2, "creation_date": 1573642662, "post_id": 58832891, "comment_id": 103945934, "body": "I don&#39;t think Flutter makes any guarantees about how many times it will call the build function. They actually tell us to be ready for it to be called many times for various reasons. I wouldn&#39;t worry about it. Here&#39;s more information about this specific situation: <a href=\"https://github.com/flutter/flutter/issues/11655\" rel=\"nofollow noreferrer\">github.com/flutter/flutter/issues/11655</a>"}, {"owner": {"reputation": 1233, "user_id": 8275088, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rcQt2.png?s=128&g=1", "display_name": "Robert Williams", "link": "https://stackoverflow.com/users/8275088/robert-williams"}, "edited": false, "score": 0, "creation_date": 1583483491, "post_id": 58832891, "comment_id": 107139740, "body": "@GazihanAlankus For example I have a streambuilder inside build method and it is mapped with firestore snapshots. It is resulting in unwanted firestore reads even when the route is in background. Where should I use this streambuilder other than in build method itself?"}, {"owner": {"reputation": 1233, "user_id": 8275088, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rcQt2.png?s=128&g=1", "display_name": "Robert Williams", "link": "https://stackoverflow.com/users/8275088/robert-williams"}, "edited": false, "score": 0, "creation_date": 1583487278, "post_id": 58832891, "comment_id": 107141536, "body": "<code>Please move your API calls to the initState method</code> I am doing exactly the same and still it is making api calls in background."}, {"owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "reply_to_user": {"reputation": 1233, "user_id": 8275088, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rcQt2.png?s=128&g=1", "display_name": "Robert Williams", "link": "https://stackoverflow.com/users/8275088/robert-williams"}, "edited": false, "score": 0, "creation_date": 1583575755, "post_id": 58832891, "comment_id": 107168915, "body": "@RobertWilliams that shouldn&#39;t happen if you&#39;re doing it in <code>initState</code> I believe. It&#39;s kind of difficult to tell without seeing the details."}, {"owner": {"reputation": 1233, "user_id": 8275088, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rcQt2.png?s=128&g=1", "display_name": "Robert Williams", "link": "https://stackoverflow.com/users/8275088/robert-williams"}, "edited": false, "score": 0, "creation_date": 1583576014, "post_id": 58832891, "comment_id": 107168947, "body": "@GazihanAlankus Actually i have Nested Custom widgets. Like <code>Home( ... CustomWidget1( ) , CustomWidget2( )   )</code>  the home widget&#39;s init is fine but all other nested custom widget&#39;s init function being called again and again."}, {"owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "edited": false, "score": 0, "creation_date": 1583576986, "post_id": 58832891, "comment_id": 107169145, "body": "That shouldn&#39;t happen normally. I would trace up the tree and see which widget is causing those <code>initState</code> calls. Normally, even though things are being rebuilt, <code>initState</code> is not called. You would have to change the key to prevent Flutter from matching your newly built widget with an old one to force calling <code>initState</code>."}, {"owner": {"reputation": 1233, "user_id": 8275088, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rcQt2.png?s=128&g=1", "display_name": "Robert Williams", "link": "https://stackoverflow.com/users/8275088/robert-williams"}, "edited": false, "score": 0, "creation_date": 1583603897, "post_id": 58832891, "comment_id": 107176136, "body": "@GazihanAlankus I was using streambuilder with firestore query to dynamically generating widgets. It was streambuilder causing this issue."}], "tags": [], "owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "is_accepted": true, "score": 5, "last_activity_date": 1573633207, "creation_date": 1573633207, "answer_id": 58832891, "question_id": 58832813, "link": "https://stackoverflow.com/questions/58832813/flutter-avoid-build-method-of-previous-route-being-called-when-navigate-to-ne/58832891#58832891", "title": "Flutter: avoid build() method of previous route being called when navigate to next route", "body": "<p>What you are trying to do is to work against the framework. It's a futile effort. Instead, you should work with the framework. Here is why and how:</p>\n\n<p>Build methods should not make API requests. Build methods should use fields of your state class to generate a UI without any side effects. </p>\n\n<p>Please move your API calls to the <code>initState</code> method, save their results in fields of your state class with <code>setState</code> and get the <code>build</code> method to use them without generating any side effects. </p>\n"}], "owner": {"reputation": 4293, "user_id": 2919052, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mfshI.jpg?s=128&g=1", "display_name": "codeKiller", "link": "https://stackoverflow.com/users/2919052/codekiller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1179, "favorite_count": 0, "accepted_answer_id": 58832891, "answer_count": 1, "score": 1, "last_activity_date": 1573633207, "creation_date": 1573632896, "question_id": 58832813, "link": "https://stackoverflow.com/questions/58832813/flutter-avoid-build-method-of-previous-route-being-called-when-navigate-to-ne", "title": "Flutter: avoid build() method of previous route being called when navigate to next route", "body": "<p>My flutter app is showing a splash screen (<code>statefulWidget</code>) as a first route. This route is showing an animation while, on the background, calling an API to get some data.</p>\n\n<p>Once the data has been received and the animation is complete, it navigates to the second route.</p>\n\n<p>All works fine, except that, when calling the <code>Navigator</code> to navigate to the second route, the second route is shown, but i can see again the response from the API on the first route, that is being called.</p>\n\n<p>It turns out that, when the second route is built, the build method of the previous route is called too, making an unnecessary API call again.</p>\n\n<p>How to avoid this behaviour?, I believe this must be a bug on <code>Flutter</code>??</p>\n\n<p><strong>current flow (non-desired): SplashRoute(build) ---> Navigator ---> HomeRoute(build)+SplashRoute(build)</strong></p>\n\n<p><strong>desired flow: SplashRoute(build) ---> Navigator ---> HomeRoute(build)</strong></p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1573632045, "post_id": 58832445, "comment_id": 103940507, "body": "you have no control over those properties when using <code>CheckboxListTile</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1382, "user_id": 1032201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jR2J7.jpg?s=128&g=1", "display_name": "rstrelba", "link": "https://stackoverflow.com/users/1032201/rstrelba"}, "is_accepted": false, "score": 0, "last_activity_date": 1573635653, "creation_date": 1573635653, "answer_id": 58833490, "question_id": 58832445, "link": "https://stackoverflow.com/questions/58832445/flutter-checkboxlisttile-border-color-white/58833490#58833490", "title": "Flutter - CheckboxListTile - Border color white", "body": "<p>You can use Checkbox inside a Row</p>\n\n<pre><code>Row(children:[Checkbox(...), Text(...)]);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 598, "user_id": 4265096, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d115b78583bfc181e60c67d0c5384dd6?s=128&d=identicon&r=PG&f=1", "display_name": "Luke Le", "link": "https://stackoverflow.com/users/4265096/luke-le"}, "is_accepted": false, "score": 2, "last_activity_date": 1603461518, "creation_date": 1603461518, "answer_id": 64501397, "question_id": 58832445, "link": "https://stackoverflow.com/questions/58832445/flutter-checkboxlisttile-border-color-white/64501397#64501397", "title": "Flutter - CheckboxListTile - Border color white", "body": "<p>Try this solution:</p>\n<pre><code>Theme(\n    data: ThemeData(unselectedWidgetColor: Colors.white),\n    child: CheckboxListTile(....),\n    )\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14910716, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GhZQZRPSoUPARXGbz6RLyy9ECcSfGNOazK5RJTDEg=k-s128", "display_name": "Solution Maestro", "link": "https://stackoverflow.com/users/14910716/solution-maestro"}, "is_accepted": false, "score": -1, "last_activity_date": 1612991002, "last_edit_date": 1612991002, "creation_date": 1612948162, "answer_id": 66133859, "question_id": 58832445, "link": "https://stackoverflow.com/questions/58832445/flutter-checkboxlisttile-border-color-white/66133859#66133859", "title": "Flutter - CheckboxListTile - Border color white", "body": "<p>This only work for Checkbox.</p>\n<pre><code>Theme(\n    data: ThemeData(unselectedWidgetColor: Colors.white),\n    child: CheckboxListTile(....),\n    )\n\n-&gt; This provide text color changing as well.\nRow(children:[Checkbox(...), Text(...)]);\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 12271757, "user_type": "registered", "profile_image": "https://graph.facebook.com/143208027046924/picture?type=large", "display_name": "Paul White", "link": "https://stackoverflow.com/users/12271757/paul-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1120, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1612991002, "creation_date": 1573631182, "last_edit_date": 1573642545, "question_id": 58832445, "link": "https://stackoverflow.com/questions/58832445/flutter-checkboxlisttile-border-color-white", "title": "Flutter - CheckboxListTile - Border color white", "body": "<p>I don't have any idea how to change the color of checkbox border and move the text closer. Below is my code and image of I want to achieve.</p>\n\n<p>Thanks!</p>\n\n<p><a href=\"https://i.stack.imgur.com/6xgaO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6xgaO.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>CheckboxListTile(\n                  title: const Text('Remember Me'),\n                  value: _isSelected,\n                  onChanged: (bool value) {\n                    setState(() {\n                      _isSelected = value;\n                    });\n                  },\n                  controlAffinity: ListTileControlAffinity.leading,\n                ),\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 16714, "user_id": 7924072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pwcXh.jpg?s=128&g=1", "display_name": "Viren V Varasadiya", "link": "https://stackoverflow.com/users/7924072/viren-v-varasadiya"}, "edited": false, "score": 0, "creation_date": 1573628126, "post_id": 58831652, "comment_id": 103938801, "body": "Did you try crossAxisAlignment: CrossAxisAlighnment.center ?"}, {"owner": {"reputation": 221, "user_id": 6005699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0RdZ7.jpg?s=128&g=1", "display_name": "Martin Zhu", "link": "https://stackoverflow.com/users/6005699/martin-zhu"}, "reply_to_user": {"reputation": 16714, "user_id": 7924072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pwcXh.jpg?s=128&g=1", "display_name": "Viren V Varasadiya", "link": "https://stackoverflow.com/users/7924072/viren-v-varasadiya"}, "edited": false, "score": 0, "creation_date": 1573628429, "post_id": 58831652, "comment_id": 103938900, "body": "@VirenVVarasadiya, CrossAxisAxisAlignment&#39;s default is CrossAxisAlignment.center."}, {"owner": {"reputation": 3431, "user_id": 10409567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F9li.jpg?s=128&g=1", "display_name": "griffins", "link": "https://stackoverflow.com/users/10409567/griffins"}, "edited": false, "score": 0, "creation_date": 1573629271, "post_id": 58831652, "comment_id": 103939208, "body": "and are you styling your text, else you can do something like Text(&quot;00&quot; + &quot; : &quot; + &quot;47&quot;)"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1573629427, "post_id": 58831652, "comment_id": 103939279, "body": "agreed, what is the reason for using 3 different <code>Text</code> widgets?"}, {"owner": {"reputation": 221, "user_id": 6005699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0RdZ7.jpg?s=128&g=1", "display_name": "Martin Zhu", "link": "https://stackoverflow.com/users/6005699/martin-zhu"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1573629836, "post_id": 58831652, "comment_id": 103939473, "body": "Actually, I used <code>Text(&#39;$minutes:$seconds&#39;)</code>. But when minutes and seconds change, the colon not always in the middle of the screen, it will moves left or right. @pskink"}, {"owner": {"reputation": 1980, "user_id": 4659987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0o5WF.jpg?s=128&g=1", "display_name": "Cenk YAGMUR", "link": "https://stackoverflow.com/users/4659987/cenk-yagmur"}, "edited": false, "score": 0, "creation_date": 1573631044, "post_id": 58831652, "comment_id": 103940042, "body": "you can use center wigdet"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1573631068, "post_id": 58831652, "comment_id": 103940054, "body": "and how will it help if you have 3 <code>Text</code>s? maybe you should use <a href=\"https://en.wikipedia.org/wiki/List_of_monospaced_typefaces\" rel=\"nofollow noreferrer\">monospaced font</a>?"}, {"owner": {"reputation": 221, "user_id": 6005699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0RdZ7.jpg?s=128&g=1", "display_name": "Martin Zhu", "link": "https://stackoverflow.com/users/6005699/martin-zhu"}, "edited": false, "score": 0, "creation_date": 1573631523, "post_id": 58831652, "comment_id": 103940277, "body": "It&#39;s the same as this question: <a href=\"https://stackoverflow.com/a/54936651/6005699\">stackoverflow.com/a/54936651/6005699</a>"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1573632716, "post_id": 58831652, "comment_id": 103940781, "body": "so the <a href=\"https://stackoverflow.com/a/54936541/2252830\">answer</a> is: <code>&quot;Use a monospaced font, also called a fixed-pitch, fixed-width, or non-proportional font&quot;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 12078384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xGztt.jpg?s=128&g=1", "display_name": "Mushfiq Salehin", "link": "https://stackoverflow.com/users/12078384/mushfiq-salehin"}, "is_accepted": false, "score": 0, "last_activity_date": 1573638108, "creation_date": 1573638108, "answer_id": 58834146, "question_id": 58831652, "link": "https://stackoverflow.com/questions/58831652/how-to-align-text-in-different-text-widgets-in-flutter/58834146#58834146", "title": "How to align text in different Text widgets in Flutter?", "body": "<p>You can try this</p>\n\n<pre><code>  Row(\n      mainAxisAlignment: MainAxisAlignment.center,\n      children: [\n      Text('00'),\n      Padding(\n        padding: const EdgeInsets.only(bottom: 10),\n        child: Text(':'),\n      ),\n      Text('47'),\n    ],\n  )\n</code></pre>\n"}], "owner": {"reputation": 221, "user_id": 6005699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0RdZ7.jpg?s=128&g=1", "display_name": "Martin Zhu", "link": "https://stackoverflow.com/users/6005699/martin-zhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 187, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1573646233, "creation_date": 1573627536, "last_edit_date": 1573630410, "question_id": 58831652, "link": "https://stackoverflow.com/questions/58831652/how-to-align-text-in-different-text-widgets-in-flutter", "title": "How to align text in different Text widgets in Flutter?", "body": "<p>When I using <code>Text('00:47')</code>, the colon in the middle can be centered vertically with the number, as shown below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/3sjUB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3sjUB.png\" alt=\"enter image description here\"></a></p>\n\n<p>But when I combine three  <code>Text</code> widgets, the colon loses its alignment.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Row(\n  mainAxisAlignment: MainAxisAlignment.center,\n  children: [\n    Text('00'),\n    Text(':'),\n    Text('47'),\n  ],\n)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/idOqx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/idOqx.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can I make the colon and number vertically centered?</p>\n"}, {"tags": ["flutter", "dart", "setter"], "answers": [{"comments": [{"owner": {"reputation": 7658, "user_id": 4997239, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/53b77115da2bf4001930b7334cb684e6?s=128&d=identicon&r=PG&f=1", "display_name": "Hasen", "link": "https://stackoverflow.com/users/4997239/hasen"}, "edited": false, "score": 0, "creation_date": 1573625154, "post_id": 58831156, "comment_id": 103937860, "body": "The error message for this in flutter is awful I have to say. If I write <code>test.setRng</code> it&#39;s red underlined and says it&#39;s not defined. Clearly this is wrong and should say it&#39;s missing a parameter or something."}], "tags": [], "owner": {"reputation": 1592, "user_id": 9211949, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pny8Y.png?s=128&g=1", "display_name": "CoderCharmander", "link": "https://stackoverflow.com/users/9211949/codercharmander"}, "is_accepted": true, "score": 5, "last_activity_date": 1607867965, "last_edit_date": 1607867965, "creation_date": 1573624930, "answer_id": 58831156, "question_id": 58831086, "link": "https://stackoverflow.com/questions/58831086/dart-the-method-setrng-isnt-defined-for-the-class/58831156#58831156", "title": "Dart The method &#39;setRng&#39; isn&#39;t defined for the class", "body": "<p>In Dart, you invoke setters with <code>setter = value;</code>. So your code can be modified like this:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>test.setRng = 0;\n</code></pre>\n<p>Getters and setters make member functions look like member variables. By convention, they can then have variable like names, for example:</p>\n<pre><code>class Test {\n  int _range = 1000;\n\n  set range(int val) =&gt; _range = val; // optionally perform validation, etc\n\n  int get range =&gt; _range;\n}\n</code></pre>\n<p>now it looks more natural when you use:</p>\n<pre><code>test.range = 123; // using the setter\nprint(test.range); // using the getter\n</code></pre>\n"}], "owner": {"reputation": 7658, "user_id": 4997239, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/53b77115da2bf4001930b7334cb684e6?s=128&d=identicon&r=PG&f=1", "display_name": "Hasen", "link": "https://stackoverflow.com/users/4997239/hasen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2076, "favorite_count": 0, "accepted_answer_id": 58831156, "answer_count": 1, "score": 2, "last_activity_date": 1607867965, "creation_date": 1573624539, "last_edit_date": 1573721091, "question_id": 58831086, "link": "https://stackoverflow.com/questions/58831086/dart-the-method-setrng-isnt-defined-for-the-class", "title": "Dart The method &#39;setRng&#39; isn&#39;t defined for the class", "body": "<p>I made a class and not sure why my getter is fine but the setter is showing as not defined in flutter.</p>\n\n<pre><code>class Test {\n  int range = 1000;\n\n  set setRng(int val) =&gt; range = val;\n\n  get getRng =&gt; range;\n}\n</code></pre>\n\n<p><code>Test.getRng</code> no errors..</p>\n\n<p><code>Test.setRng(100)</code> throws the error <code>The method 'setRng' isn't defined for the class 'Test'</code></p>\n\n<p>Clearly they're both defined..?</p>\n"}, {"tags": ["google-maps", "flutter", "google-maps-api-3", "dart"], "comments": [{"owner": {"reputation": 1066, "user_id": 7910735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOHri.png?s=128&g=1", "display_name": "Sahdeep Singh", "link": "https://stackoverflow.com/users/7910735/sahdeep-singh"}, "edited": false, "score": 0, "creation_date": 1573625995, "post_id": 58830914, "comment_id": 103938132, "body": "I am finding it hard to understand what the actual problem is. Please can you elaborate it a bit."}, {"owner": {"reputation": 7877, "user_id": 8822337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ojyRl.jpg?s=128&g=1", "display_name": "BloodLoss", "link": "https://stackoverflow.com/users/8822337/bloodloss"}, "reply_to_user": {"reputation": 1066, "user_id": 7910735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOHri.png?s=128&g=1", "display_name": "Sahdeep Singh", "link": "https://stackoverflow.com/users/7910735/sahdeep-singh"}, "edited": false, "score": 0, "creation_date": 1573626631, "post_id": 58830914, "comment_id": 103938285, "body": "@SahdeepSingh I updated my question. please check.. I added another photo..please check"}], "answers": [{"comments": [{"owner": {"reputation": 1101, "user_id": 8168140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fec4400ec41945af60475874f9edb66?s=128&d=identicon&r=PG&f=1", "display_name": "gsm", "link": "https://stackoverflow.com/users/8168140/gsm"}, "edited": false, "score": 0, "creation_date": 1602230823, "post_id": 58831792, "comment_id": 113660411, "body": "if i want to get location list for encoded polyline, how can I get it using above code?"}, {"owner": {"reputation": 1066, "user_id": 7910735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOHri.png?s=128&g=1", "display_name": "Sahdeep Singh", "link": "https://stackoverflow.com/users/7910735/sahdeep-singh"}, "reply_to_user": {"reputation": 1101, "user_id": 8168140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fec4400ec41945af60475874f9edb66?s=128&d=identicon&r=PG&f=1", "display_name": "gsm", "link": "https://stackoverflow.com/users/8168140/gsm"}, "edited": false, "score": 0, "creation_date": 1602235477, "post_id": 58831792, "comment_id": 113662375, "body": "@gsm You need to convert encoded polyline to list of Points and from points you can get a list of LatLng. Both methods to get these (first points and then list of latlng) are there in the answer."}, {"owner": {"reputation": 308, "user_id": 11951244, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kFCy0sVkgcU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdx1dfvJLuY5gGvfqBl5feeugE3xA/photo.jpg?sz=128", "display_name": "Shriya Pandya", "link": "https://stackoverflow.com/users/11951244/shriya-pandya"}, "edited": false, "score": 0, "creation_date": 1613733503, "post_id": 58831792, "comment_id": 117173261, "body": "@SahdeepSingh hello, I want to change my polyline when user takes wrong turn , just like google map app is doing. Can you help?"}, {"owner": {"reputation": 1066, "user_id": 7910735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOHri.png?s=128&g=1", "display_name": "Sahdeep Singh", "link": "https://stackoverflow.com/users/7910735/sahdeep-singh"}, "reply_to_user": {"reputation": 308, "user_id": 11951244, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kFCy0sVkgcU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdx1dfvJLuY5gGvfqBl5feeugE3xA/photo.jpg?sz=128", "display_name": "Shriya Pandya", "link": "https://stackoverflow.com/users/11951244/shriya-pandya"}, "edited": false, "score": 0, "creation_date": 1613748480, "post_id": 58831792, "comment_id": 117179824, "body": "@ShriyaPandya you might want to manage your state of origin and destination. and using live location you can make changes to origin variable and rerun the whole process of fetching the Route, after clearing the previous polyline."}, {"owner": {"reputation": 308, "user_id": 11951244, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kFCy0sVkgcU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdx1dfvJLuY5gGvfqBl5feeugE3xA/photo.jpg?sz=128", "display_name": "Shriya Pandya", "link": "https://stackoverflow.com/users/11951244/shriya-pandya"}, "edited": false, "score": 0, "creation_date": 1613973978, "post_id": 58831792, "comment_id": 117231450, "body": "@SahdeepSingh yes i am doing the same. while updating user live location , first clear the polyline list and then update live location latllng to source latlng. But this way the polyline blinks on map every single second. When i walk through the road, polyline stops showing. because that time live location changes frequently fast."}, {"owner": {"reputation": 1066, "user_id": 7910735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOHri.png?s=128&g=1", "display_name": "Sahdeep Singh", "link": "https://stackoverflow.com/users/7910735/sahdeep-singh"}, "reply_to_user": {"reputation": 308, "user_id": 11951244, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kFCy0sVkgcU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdx1dfvJLuY5gGvfqBl5feeugE3xA/photo.jpg?sz=128", "display_name": "Shriya Pandya", "link": "https://stackoverflow.com/users/11951244/shriya-pandya"}, "edited": false, "score": 0, "creation_date": 1613990415, "post_id": 58831792, "comment_id": 117237602, "body": "@ShriyaPandya the blink you are mentioning is bcoz you are removing polylines first and then making request to get route. You might want to first create new polyline and then update. Also yes, live tracking is very much frequent, you can add ~3 seconds gap in network request."}, {"owner": {"reputation": 308, "user_id": 11951244, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kFCy0sVkgcU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdx1dfvJLuY5gGvfqBl5feeugE3xA/photo.jpg?sz=128", "display_name": "Shriya Pandya", "link": "https://stackoverflow.com/users/11951244/shriya-pandya"}, "edited": false, "score": 0, "creation_date": 1613992837, "post_id": 58831792, "comment_id": 117238715, "body": "@SahdeepSingh i appreciate for your explanations. I am having some issue , provided my code below. Please check it. I am stuck here since 2 weeks."}], "tags": [], "owner": {"reputation": 1066, "user_id": 7910735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOHri.png?s=128&g=1", "display_name": "Sahdeep Singh", "link": "https://stackoverflow.com/users/7910735/sahdeep-singh"}, "is_accepted": true, "score": 5, "last_activity_date": 1573628245, "creation_date": 1573628245, "answer_id": 58831792, "question_id": 58830914, "link": "https://stackoverflow.com/questions/58830914/how-to-get-real-direction-steps-using-flutter-draw-real-route/58831792#58831792", "title": "how to get real direction steps using Flutter? (draw real route)", "body": "<p>to find the exact route you have to get <code>points</code> out of the <code>polylineoverview</code> from the json from directions api.</p>\n\n<p>This is how I extracted the exact route just like you show in the second image.</p>\n\n<p>Its is a function that return points as a string</p>\n\n<pre><code>Future&lt;String&gt; getRouteCoordinates(LatLng l1, LatLng l2) async {\n    String url =\n        \"https://maps.googleapis.com/maps/api/directions/json?origin=${l1.latitude},${l1.longitude}&amp;destination=${l2.latitude},${l2.longitude}&amp;key=${Constants.anotherApiKey}\";\n    http.Response response = await http.get(url);\n    Map values = jsonDecode(response.body);\n    ProjectLog.logIt(TAG, \"Predictions\", values.toString());\n    return values[\"routes\"][0][\"overview_polyline\"][\"points\"];\n  }\n</code></pre>\n\n<p>you will get a string of <code>points</code> somewhat similiar to this </p>\n\n<pre><code> u|umDs`gwML}A_GGgFGAWwDEm@TcFGsAAa@BeA\\QDe@AYISOKHKJGFw@^?jAAnAEnOA|GAhHEx@?jA@tC?XFLLf@Bf@@t@?xAA|E?dEEj_@GxMChG@tCIvl@@tAK`DQlA?zBApE?lBExNAlH@rMAtGJdDJnATfB`AnEdAzEj@~B|@lEF\\xAvGnAlF~@lEv@`DvAxFxAxGzCdN`H`ZnEnRr@hDnB|IhDlNvKnd@vDhPrFzUzGjYxBtH|@hCdAzBXl@fAhBtAtBjBhCfArAdAhAvBtBlB|AjGfFhLzJfEzDzCvDz@pA`BpC`ApBbAzBxCrIr@rBjNta@x@nBbAlBzCbI|R|j@hA`FBVC`ASpD?lA[FiMpCaBVgABiAPoE~@cIdBiLfCcHdBsCl@yJvBmDt@y@l@{@X_@P[VGJGZCd@r@tCf@rBTbAV`BB`@?n@GdA@XHj@bAxBl@hBPjADf@?v@Ej@Ml@Ut@[r@]h@sA`C{@lAMZGl@KjECbDGhBuGMsJKcCGw@CqJCiECAd@ALoBbKs@jDM^x@j@vPfLvCnB~DnCx@f@R@RAd@GDIbBmDv@y@LId@On@A~EJX@pDJrADb@QFC\n</code></pre>\n\n<p>Now you will add the polyline in the set of polylines like this</p>\n\n<pre><code>_polyLines.add(Polyline(\n        polylineId: PolylineId(Constants.currentRoutePolylineId),//pass any string here\n        width: 3,\n        geodesic: true,\n        points: Utils.convertToLatLng(Utils.decodePoly(encodedPoly)),\n        color: ConstantColors.PrimaryColor));\n</code></pre>\n\n<p>here <code>encodedPoly</code> is the same string that extracted from previous method.</p>\n\n<p>In the function above you have to convert the <code>points\\encodedPoly</code> into the list of latlng. Like i did using utils function.</p>\n\n<p>Both functions that i used are</p>\n\n<p>decodePoly : </p>\n\n<pre><code>// !DECODE POLY\n  static List decodePoly(String poly) {\n    var list = poly.codeUnits;\n    var lList = new List();\n    int index = 0;\n    int len = poly.length;\n    int c = 0;\n    // repeating until all attributes are decoded\n    do {\n      var shift = 0;\n      int result = 0;\n\n      // for decoding value of one attribute\n      do {\n        c = list[index] - 63;\n        result |= (c &amp; 0x1F) &lt;&lt; (shift * 5);\n        index++;\n        shift++;\n      } while (c &gt;= 32);\n      /* if value is negative then bitwise not the value */\n      if (result &amp; 1 == 1) {\n        result = ~result;\n      }\n      var result1 = (result &gt;&gt; 1) * 0.00001;\n      lList.add(result1);\n    } while (index &lt; len);\n\n    /*adding to previous value as done in encoding */\n    for (var i = 2; i &lt; lList.length; i++) lList[i] += lList[i - 2];\n\n    print(lList.toString());\n\n    return lList;\n  }\n</code></pre>\n\n<p>and convertToLatLng() : </p>\n\n<pre><code>static List&lt;LatLng&gt; convertToLatLng(List points) {\n    List&lt;LatLng&gt; result = &lt;LatLng&gt;[];\n    for (int i = 0; i &lt; points.length; i++) {\n      if (i % 2 != 0) {\n        result.add(LatLng(points[i - 1], points[i]));\n      }\n    }\n    return result;\n  }\n</code></pre>\n\n<p>This would make a exact route like i did in my app : </p>\n\n<p>Here is the screenshot :\n<a href=\"https://i.stack.imgur.com/nFUUb.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nFUUb.jpg\" alt=\"ScreenShot\"></a></p>\n"}], "owner": {"reputation": 7877, "user_id": 8822337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ojyRl.jpg?s=128&g=1", "display_name": "BloodLoss", "link": "https://stackoverflow.com/users/8822337/bloodloss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2778, "favorite_count": 1, "protected_date": 1595500001, "accepted_answer_id": 58831792, "answer_count": 1, "score": 1, "last_activity_date": 1613992529, "creation_date": 1573623465, "last_edit_date": 1573626599, "question_id": 58830914, "link": "https://stackoverflow.com/questions/58830914/how-to-get-real-direction-steps-using-flutter-draw-real-route", "title": "how to get real direction steps using Flutter? (draw real route)", "body": "<p>I'm working with taxi app. Is it possible to draw real route on real road using flutter?</p>\n\n<p>I used this way: <a href=\"https://developers.google.com/maps/documentation/directions/intro#ExampleRequests\" rel=\"nofollow noreferrer\">https://developers.google.com/maps/documentation/directions/intro#ExampleRequests</a></p>\n\n<pre><code>  getDirectionSteps(double destinationLat, double destinationLng) {\n    network\n        .get(\"origin=\" +\n            location.latitude.toString() +\n            \",\" +\n            location.longitude.toString() +\n            \"&amp;destination=\" +\n            destinationLat.toString() +\n            \",\" +\n            destinationLng.toString() +\n            \"&amp;key=api_key\")\n        .then((dynamic res) {\n      List&lt;Steps&gt; rr = res;\n      print(res.toString());\n\n      ccc = new List();\n      for (final i in rr) {\n        ccc.add(i.startLocation);\n        ccc.add(i.endLocation);\n      }\n\n      mapView.onMapReady.listen((_) {\n        mapView.setMarkers(getMarker(location.latitude,location.longitude,destinationLat,destinationLng));\n        mapView.addPolyline(new Polyline(\"12\", ccc, width: 15.0));\n      });\n      _screenListener.dismissLoader();\n      showMap();\n    }).catchError((Exception error) =&gt; _screenListener.dismissLoader());\n  }\n</code></pre>\n\n<p>my output look like this: </p>\n\n<p><a href=\"https://i.stack.imgur.com/6VtZC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6VtZC.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>But I need like this: (draw destination route on real road)</p>\n\n<p><a href=\"https://i.stack.imgur.com/iD1hR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iD1hR.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["flutter", "dart", "flutter-dependencies"], "answers": [{"tags": [], "owner": {"reputation": 4755, "user_id": 11404883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DbTF2.jpg?s=128&g=1", "display_name": "A R", "link": "https://stackoverflow.com/users/11404883/a-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1597778940, "last_edit_date": 1597778940, "creation_date": 1573629834, "answer_id": 58832142, "question_id": 58830884, "link": "https://stackoverflow.com/questions/58830884/lost-connection-to-device-in-flutter/58832142#58832142", "title": "Lost connection to device in Flutter?", "body": "<p>Try your method with dispose()</p>\n<pre><code>@override\nvoid dispose() {\n  [your method name].dispose();\n  super.dispose();\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 235, "user_id": 1459653, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/d1jpt.png?s=128&g=1", "display_name": "Mark Gavagan", "link": "https://stackoverflow.com/users/1459653/mark-gavagan"}, "edited": false, "score": 0, "creation_date": 1611866514, "post_id": 63464938, "comment_id": 116595926, "body": "More info via Apple docs: Requesting Authorization for Media Capture on iOS (<a href=\"https://developer.apple.com/documentation/avfoundation/cameras_and_media_capture/requesting_authorization_for_media_capture_on_ios\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/avfoundation/&hellip;</a>)"}], "tags": [], "owner": {"reputation": 379, "user_id": 13912232, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xzzGl.png?s=128&g=1", "display_name": "Aravind Siruvuru", "link": "https://stackoverflow.com/users/13912232/aravind-siruvuru"}, "is_accepted": false, "score": 0, "last_activity_date": 1597768165, "last_edit_date": 1597768165, "creation_date": 1597740137, "answer_id": 63464938, "question_id": 58830884, "link": "https://stackoverflow.com/questions/58830884/lost-connection-to-device-in-flutter/63464938#63464938", "title": "Lost connection to device in Flutter?", "body": "<p>You just need to configure to ask for permission beforehand.</p>\n<p>For iOS, add the following keys to your <code>Info.plist</code> file, located at <code>&lt;project root&gt;/ios/Runner/Info.plist</code>:</p>\n<ul>\n<li><strong>NSPhotoLibraryUsageDescription</strong> - describes why your app needs permission for the photo library. This is called <code>Privacy - Photo Library Usage Description</code> in the visual editor.</li>\n<li><strong>NSCameraUsageDescription</strong> - describes why your app needs access to the camera. This is called <code>Privacy - Camera Usage Description</code> in the visual editor.</li>\n<li><strong>NSMicrophoneUsageDescription</strong> - describes why your app needs access to the microphone, if you intend to record videos. This is called <code>Privacy - Microphone Usage Description</code> in the visual editor.</li>\n</ul>\n<p>In the same way, you need to add permissions in Android.</p>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 9170948, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5QP1o-vc6_g/AAAAAAAAAAI/AAAAAAAAAHw/cg8WROj8oBA/photo.jpg?sz=128", "display_name": "chinazhangyujia", "link": "https://stackoverflow.com/users/9170948/chinazhangyujia"}, "is_accepted": false, "score": 0, "last_activity_date": 1602307411, "creation_date": 1602307411, "answer_id": 64290258, "question_id": 58830884, "link": "https://stackoverflow.com/questions/58830884/lost-connection-to-device-in-flutter/64290258#64290258", "title": "Lost connection to device in Flutter?", "body": "<p>I got the same issue and found the solution. If you have TextField and imager picker in the same page, please make sure the textfield is unfocused (the cursor should be gone from you TextField) when you pick image.\nDo something like <code>FocusScope.of(context).requestFocus(new FocusNode());</code> in your pickImage method.</p>\n"}], "owner": {"reputation": 33, "user_id": 11988932, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sqabmzntOUw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc5lUZ4n6ef6bTR388DlrWkY6d8cQ/photo.jpg?sz=128", "display_name": "Utkarsh Sharma", "link": "https://stackoverflow.com/users/11988932/utkarsh-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1533, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1602307411, "creation_date": 1573623275, "last_edit_date": 1573666500, "question_id": 58830884, "link": "https://stackoverflow.com/questions/58830884/lost-connection-to-device-in-flutter", "title": "Lost connection to device in Flutter?", "body": "<p>I'm facing a problem while using the plugins image_picker: \"0.6.1+11\" and \n  barcode_scan: \"^1.0.0\". Firstly I scan a barcode and then take a picture from the camera.\nThe problem is most of the times the android app restarts itself after taking image from the camera without any log. The log just prints \"Lost connection to the device.\"\n Here is the code:</p>\n\n<pre><code>    Future scanCarton() async {\n    try {\n\n      String barcode = await BarcodeScanner.scan();\n\n      await getImage().then((imageFile){\n\n        if (imageFile != null){\n          Map&lt;String,String&gt;requestData = new Map&lt;String,String&gt;();\n          requestData[\"content\"] = barcode;\n          requestData[\"type\"] = \"carton\";\n          requestData[\"mode\"] = \"job\";\n          if (widget.orderData.product_type.toLowerCase() == \"batched\"){\n            requestData[\"carton_id\"] = \"0\";\n          }else{\n            requestData[\"carton_id\"] = \"${scannedCartonCount + 1}\";\n          }\n          if(this.mounted){\n            setState(() {\n              _isLoading = true;\n            });\n          }else{\n            print(\"Gotcha 2\");\n          }\n          upload(imageFile, UrlFile.UPLOAD_SCAN_IMAGE, \"carton\", requestData).then((value){\n            if(this.mounted){\n              setState(() {\n                _isLoading = false;\n              });\n            }else{\n              print(\"Gotcha 4\");\n            }\n            incrementCartonCount();\n            if(widget.orderData.product_type.toLowerCase() == \"batched\"){\n              openNextCartonPopup();\n            }\n          });\n        }\n      });\n    } on PlatformException catch (e) {\n      if (e.code == BarcodeScanner.CameraAccessDenied) {\n        print('The user did not grant the camera permission!');\n      } else {\n         print('Unknown error $e') ;\n      }\n    } on FormatException{\n      print( 'null (User returned using the \"back\"-button before scanning anything. Result)');\n    } catch (e) {\n       print('Unknown error: $e');\n    }\n  }\n</code></pre>\n"}, {"tags": ["json", "http", "flutter", "dart", "get"], "comments": [{"owner": {"reputation": 1382, "user_id": 1032201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jR2J7.jpg?s=128&g=1", "display_name": "rstrelba", "link": "https://stackoverflow.com/users/1032201/rstrelba"}, "edited": false, "score": 0, "creation_date": 1573631846, "post_id": 58830505, "comment_id": 103940414, "body": "future: fetchPost,  and remove fetchPost() from initState."}, {"owner": {"reputation": 3, "user_id": 5364971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/14tY5.jpg?s=128&g=1", "display_name": "Forte", "link": "https://stackoverflow.com/users/5364971/forte"}, "reply_to_user": {"reputation": 1382, "user_id": 1032201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jR2J7.jpg?s=128&g=1", "display_name": "rstrelba", "link": "https://stackoverflow.com/users/1032201/rstrelba"}, "edited": false, "score": 0, "creation_date": 1573669534, "post_id": 58830505, "comment_id": 103960572, "body": "I gave that a shot and no luck, still seems to be hanging without any error"}], "answers": [{"tags": [], "owner": {"reputation": 1382, "user_id": 1032201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jR2J7.jpg?s=128&g=1", "display_name": "rstrelba", "link": "https://stackoverflow.com/users/1032201/rstrelba"}, "is_accepted": false, "score": 0, "last_activity_date": 1573677306, "creation_date": 1573677306, "answer_id": 58845217, "question_id": 58830505, "link": "https://stackoverflow.com/questions/58830505/flutter-loading-json-data-within-second-page-flutter-class-timing-out-without-e/58845217#58845217", "title": "Flutter: Loading json data within second page Flutter Class timing out without error", "body": "<p>Man, I rewrite your code as I like</p>\n\n<pre><code>import 'dart:async';\nimport 'dart:convert';\n\n//import 'package:basic_utils/basic_utils.dart';\nimport 'package:flutter/material.dart';\nimport 'package:http/http.dart' as http;\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: MyHomePage(),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  @override\n  _MyHomePageState createState() =&gt; _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  TextEditingController editingController = TextEditingController();\n  String url = 'https://pokeapi.co/api/v2/pokemon/?limit=151';\n  List data;\n\n  Future&lt;String&gt; makeRequest() async {\n    var response = await http.get(Uri.encodeFull(url), headers: {\"Accept\": \"application/json\"});\n\n    setState(() {\n      var extractData = json.decode(response.body);\n      data = extractData[\"results\"];\n    });\n  }\n\n  @override\n  void initState() {\n    super.initState();\n    makeRequest();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text('Pokemon List'),\n      ),\n      body: Container(\n        child: Column(\n          children: &lt;Widget&gt;[\n            Padding(\n              padding: const EdgeInsets.all(15.0),\n              child: TextField(\n                onChanged: (value) {},\n                decoration: InputDecoration(\n                  labelText: \"Search\",\n                  hintText: \"Search\",\n                  contentPadding: const EdgeInsets.all(10.0),\n                  prefixIcon: Icon(Icons.search),\n                  border: OutlineInputBorder(borderRadius: BorderRadius.all(Radius.circular(6.0))),\n                ),\n              ),\n            ),\n            Expanded(\n              child: ListView.builder(\n                  itemCount: data == null ? 0 : data.length,\n                  itemBuilder: (BuildContext context, i) {\n                    return ListTile(\n                      title: Text(data[i][\"name\"].toString().toUpperCase()),\n                      subtitle: Text(data[i][\"url\"]),\n                      //  leading:  CircleAvatar(\n                      // backgroundImage:\n                      //  NetworkImage(data[i][\"picture\"][\"thumbnail\"]),\n                      //  ),\n                      onTap: () {\n                        Navigator.push(\n                            context, MaterialPageRoute(builder: (BuildContext context) =&gt; SecondPage(data[i])));\n                      },\n                    );\n                  }),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n\nclass SecondPage extends StatefulWidget {\n  Map data;\n\n  SecondPage(this.data);\n\n  _SecondState createState() =&gt; _SecondState();\n}\n\nclass _SecondState extends State&lt;SecondPage&gt; {\n  @override\n  void initState() {\n    super.initState();\n    _fetchPost();\n  }\n\n  Map post;\n  bool isLoad = true;\n\n  _fetchPost() async {\n    setState(() {\n      isLoad = true;\n    });\n    var url = widget.data[\"url\"];\n    debugPrint(url);\n    final response = await http.get(url);\n    if (response.statusCode == 200) {\n      // If the call to the server was successful, parse the JSON.\n      post = json.decode(response.body.toString());\n      setState(() {\n        isLoad = false;\n      });\n    } else {\n      // If that call was not successful, throw an error.\n      throw Exception('Failed to load post');\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: Text(widget.data[\"name\"] + ' - ' + widget.data[\"url\"])),\n      body: _buildPokemon(context),\n    );\n  }\n\n  Widget _buildPokemon(BuildContext context) {\n    if (isLoad) return Center(child: CircularProgressIndicator());\n    return Container(\n      padding: EdgeInsets.all(10),\n      child: Column(\n        mainAxisAlignment: MainAxisAlignment.start,\n        crossAxisAlignment: CrossAxisAlignment.start,\n        children: [\n          Text(post['name']),\n          Text(post['weight'].toString()),\n          Text(post['height'].toString()),\n          Image.network(post['sprites']['front_default'])\n        ],\n      ),\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5364971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/14tY5.jpg?s=128&g=1", "display_name": "Forte", "link": "https://stackoverflow.com/users/5364971/forte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 728, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1573677306, "creation_date": 1573620618, "question_id": 58830505, "link": "https://stackoverflow.com/questions/58830505/flutter-loading-json-data-within-second-page-flutter-class-timing-out-without-e", "title": "Flutter: Loading json data within second page Flutter Class timing out without error", "body": "<p>I've generated a listView from the Pokemon API of a list of Pokemon, I then have onTap events to trigger a new page/class, where I'm passing the name and URL from the API to the new secondPage Class/Screen.</p>\n\n<p>I need to make a second request in this new page because the API Url needs to change to grab specific details but my request seems to be timing out..</p>\n\n<p>Here is my code: If loaded into a new project the first screen should function fine, loading a bunch of Pokemon and their API specific URLs into a listView.</p>\n\n<p>I can successfully pass the name and URL onto the second screen because they do appear in the Appbar.</p>\n\n<p>However when loading the new json data it seems to be timing out without any error.</p>\n\n<p>Does anyone have any advice for a newbie trying to get his footing?</p>\n\n<pre><code>import 'dart:async';\nimport 'dart:convert';\nimport 'package:basic_utils/basic_utils.dart';\nimport 'package:flutter/material.dart';\nimport 'package:http/http.dart' as http;\n\nvoid main() =&gt; runApp(new MyApp());\n\nclass MyApp extends StatelessWidget {\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      home: new MyHomePage(),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  @override\n  _MyHomePageState createState() =&gt; new _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  TextEditingController editingController = TextEditingController();\n  String url = 'https://pokeapi.co/api/v2/pokemon/?limit=151';\n  List data;\n\n  Future&lt;String&gt; makeRequest() async {\n    var response = await http\n        .get(Uri.encodeFull(url), headers: {\"Accept\": \"application/json\"});\n\n    setState(() {\n      var extractData = json.decode(response.body);\n      data = extractData[\"results\"];\n    });\n  }\n\n  @override\n  void initState() {\n    this.makeRequest();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      appBar: new AppBar(\n        title: new Text('Pokemon List'),\n      ),\n      body: Container(\n        child: Column(\n          children: &lt;Widget&gt;[\n            Padding(\n              padding: const EdgeInsets.all(15.0),\n              child: new TextField(\n                onChanged: (value) {\n                },\n                decoration: InputDecoration(\n                  labelText: \"Search\",\n                  hintText: \"Search\",\n                  contentPadding: const EdgeInsets.all(10.0),\n                  prefixIcon: Icon(Icons.search),\n                  border: OutlineInputBorder(\n                      borderRadius: BorderRadius.all(Radius.circular(6.0))\n                  ),\n                ),\n              ),\n            ),\n            Expanded(\n              child: new ListView.builder(\n                  itemCount: data == null ? 0 : data.length,\n                  itemBuilder: (BuildContext context, i) {\n                    return new ListTile(\n                      title: new Text(StringUtils.capitalize(data[i][\"name\"])),\n                      subtitle: new Text(data[i][\"url\"]),\n                      //  leading: new CircleAvatar(\n                      // backgroundImage:\n                      // new NetworkImage(data[i][\"picture\"][\"thumbnail\"]),\n                      //  ),\n                      onTap: () {\n                        Navigator.push(\n                            context,\n                            new MaterialPageRoute(\n                                builder: (BuildContext context) =&gt;\n                                new SecondPage(data[i])\n                            )\n                        );\n                      },\n                    );\n                  }\n              ),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n\n// Class for getting Specific Details on SecondPage\nclass Post {\n  final String name;\n  final int weight;\n\n  Post({this.name, this.weight});\n\n  factory Post.fromJson(Map&lt;String, dynamic&gt; json) {\n    return Post(\n      name: json['name'],\n      weight: json['weight'],\n    );\n  }\n}\n// New Request for Specific Details\nclass SecondPage extends StatelessWidget {\n  SecondPage(this.data);\n  final data;\n\n  Future&lt;Post&gt; fetchPost() async {\n    final response =\n    await http.get('https://pokeapi.co/api/v2/pokemon/' + data[\"name\"]);\n    if (response.statusCode == 200) {\n      // If the call to the server was successful, parse the JSON.\n      return Post.fromJson(json.decode(response.body));\n    } else {\n      // If that call was not successful, throw an error.\n      throw Exception('Failed to load post');\n    }\n  }\n\n  Future&lt;Post&gt; post;\n\n  @override\n  void initState() {\n    fetchPost();\n    post = fetchPost();\n  }\n\n  @override\n  Widget build(BuildContext context) =&gt;\n      new Scaffold(\n          appBar: new AppBar(\n              title: new Text(data[\"name\"] + ' - ' + data[\"url\"])),\n          body: new Center(\n            child: Column(\n              children: &lt;Widget&gt;[\n                Container(\n                  padding: const EdgeInsets.all(30.0),\n                  child: FutureBuilder&lt;Post&gt;(\n                    future: post,\n                    builder: (context, snapshot) {\n                      if (snapshot.hasData) {\n                         Text(snapshot.data.name);\n                      } else if (snapshot.hasError) {\n                        return Text(\"${snapshot.error}\");\n                      }\n                      // By default, show a loading spinner.\n                      return CircularProgressIndicator();\n                    },\n                  ),\n                ),\n              ],\n            ),\n          )\n      );\n  }\n</code></pre>\n"}, {"tags": ["flutter", "dart", "qr-code"], "comments": [{"owner": {"reputation": 19, "user_id": 6171176, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jpNuTASOnlE/AAAAAAAAAAI/AAAAAAAAABU/PU-LmPvJd1w/photo.jpg?sz=128", "display_name": "prof_daily", "link": "https://stackoverflow.com/users/6171176/prof-daily"}, "edited": false, "score": 0, "creation_date": 1573615457, "post_id": 58829863, "comment_id": 103935644, "body": "I mean to generate QR CODE"}], "answers": [{"comments": [{"owner": {"reputation": 2976, "user_id": 2301394, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/268ac6c9cbccdb6a76ab3458ae43bfb9?s=128&d=identicon&r=PG&f=1", "display_name": "Rocx", "link": "https://stackoverflow.com/users/2301394/rocx"}, "edited": false, "score": 0, "creation_date": 1606721581, "post_id": 58830139, "comment_id": 115036466, "body": "how to pass the key-value pair in qrcode? <a href=\"https://stackoverflow.com/questions/65069392/flutter-multiple-key-value-pair-in-qrcode-generator\" title=\"flutter multiple key value pair in qrcode generator\">stackoverflow.com/questions/65069392/&hellip;</a>"}], "tags": [], "owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "is_accepted": false, "score": 10, "last_activity_date": 1573617528, "creation_date": 1573617528, "answer_id": 58830139, "question_id": 58829863, "link": "https://stackoverflow.com/questions/58829863/how-to-generate-qr-code-with-logo-in-flutter/58830139#58830139", "title": "How to generate QR CODE with logo in flutter", "body": "<p>You can use package <a href=\"https://pub.dev/packages/qr_flutter\" rel=\"noreferrer\">https://pub.dev/packages/qr_flutter</a> <br>\nand put your logo in embeddedImage <br></p>\n\n<p>code snippet</p>\n\n<pre><code>QrImage(\n              data: 'This QR code has an embedded image as well',\n              version: QrVersions.auto,\n              size: 320,\n              gapless: false,\n              embeddedImage: AssetImage('assets/images/logo.png'),\n              embeddedImageStyle: QrEmbeddedImageStyle(\n                size: Size(80, 80),\n              ),\n            ),\n</code></pre>\n\n<p>working demo</p>\n\n<p><a href=\"https://i.stack.imgur.com/NS84L.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NS84L.png\" alt=\"enter image description here\"></a></p>\n\n<p>full code</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:qr_flutter/qr_flutter.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Flutter Demo',\n      theme: ThemeData(\n        // This is the theme of your application.\n        //\n        // Try running your application with \"flutter run\". You'll see the\n        // application has a blue toolbar. Then, without quitting the app, try\n        // changing the primarySwatch below to Colors.green and then invoke\n        // \"hot reload\" (press \"r\" in the console where you ran \"flutter run\",\n        // or simply save your changes to \"hot reload\" in a Flutter IDE).\n        // Notice that the counter didn't reset back to zero; the application\n        // is not restarted.\n        primarySwatch: Colors.blue,\n      ),\n      home: MyHomePage(title: 'Flutter Demo Home Page'),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  MyHomePage({Key key, this.title}) : super(key: key);\n\n  // This widget is the home page of your application. It is stateful, meaning\n  // that it has a State object (defined below) that contains fields that affect\n  // how it looks.\n\n  // This class is the configuration for the state. It holds the values (in this\n  // case the title) provided by the parent (in this case the App widget) and\n  // used by the build method of the State. Fields in a Widget subclass are\n  // always marked \"final\".\n\n  final String title;\n\n  @override\n  _MyHomePageState createState() =&gt; _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  int _counter = 0;\n\n  void _incrementCounter() {\n    setState(() {\n      // This call to setState tells the Flutter framework that something has\n      // changed in this State, which causes it to rerun the build method below\n      // so that the display can reflect the updated values. If we changed\n      // _counter without calling setState(), then the build method would not be\n      // called again, and so nothing would appear to happen.\n      _counter++;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    // This method is rerun every time setState is called, for instance as done\n    // by the _incrementCounter method above.\n    //\n    // The Flutter framework has been optimized to make rerunning build methods\n    // fast, so that you can just rebuild anything that needs updating rather\n    // than having to individually change instances of widgets.\n    return Scaffold(\n      appBar: AppBar(\n        // Here we take the value from the MyHomePage object that was created by\n        // the App.build method, and use it to set our appbar title.\n        title: Text(widget.title),\n      ),\n      body: Center(\n        // Center is a layout widget. It takes a single child and positions it\n        // in the middle of the parent.\n        child: Column(\n          // Column is also a layout widget. It takes a list of children and\n          // arranges them vertically. By default, it sizes itself to fit its\n          // children horizontally, and tries to be as tall as its parent.\n          //\n          // Invoke \"debug painting\" (press \"p\" in the console, choose the\n          // \"Toggle Debug Paint\" action from the Flutter Inspector in Android\n          // Studio, or the \"Toggle Debug Paint\" command in Visual Studio Code)\n          // to see the wireframe for each widget.\n          //\n          // Column has various properties to control how it sizes itself and\n          // how it positions its children. Here we use mainAxisAlignment to\n          // center the children vertically; the main axis here is the vertical\n          // axis because Columns are vertical (the cross axis would be\n          // horizontal).\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: &lt;Widget&gt;[\n            QrImage(\n              data: 'This QR code has an embedded image as well',\n              version: QrVersions.auto,\n              size: 320,\n              gapless: false,\n              embeddedImage: AssetImage('assets/images/logo.png'),\n              embeddedImageStyle: QrEmbeddedImageStyle(\n                size: Size(80, 80),\n              ),\n            ),\n            Text(\n              'You have pushed the button this many times:',\n            ),\n            Text(\n              '$_counter',\n              style: Theme.of(context).textTheme.display1,\n            ),\n          ],\n        ),\n      ),\n      floatingActionButton: FloatingActionButton(\n        onPressed: _incrementCounter,\n        tooltip: 'Increment',\n        child: Icon(Icons.add),\n      ), // This trailing comma makes auto-formatting nicer for build methods.\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 6171176, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jpNuTASOnlE/AAAAAAAAAAI/AAAAAAAAABU/PU-LmPvJd1w/photo.jpg?sz=128", "display_name": "prof_daily", "link": "https://stackoverflow.com/users/6171176/prof-daily"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2861, "favorite_count": 1, "protected_date": 1584119596, "answer_count": 1, "score": 0, "last_activity_date": 1584122274, "creation_date": 1573615413, "question_id": 58829863, "link": "https://stackoverflow.com/questions/58829863/how-to-generate-qr-code-with-logo-in-flutter", "title": "How to generate QR CODE with logo in flutter", "body": "<p>i am looking for a way to generate CODE with logo in flutter/DART?</p>\n\n<p>i want to generate QRcodes for every user and brand it with my logo in it.</p>\n\n<pre><code>final qrCode = new QrCode(4, QrErrorCorrectLevel.L);\nqrCode.addData(\"Hello, world in QR form!\");\nqrCode.make();\n</code></pre>\n"}, {"tags": ["flutter", "dart", "stream-builder"], "owner": {"reputation": 77, "user_id": 10583694, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6XgLVEhjao4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbC3-2gARhYQ0fZEfm27xwGyw8TcCQ/mo/photo.jpg?sz=128", "display_name": "STEPHANE DEGRAS", "link": "https://stackoverflow.com/users/10583694/stephane-degras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 227, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1573601668, "creation_date": 1573601668, "question_id": 58828247, "link": "https://stackoverflow.com/questions/58828247/bad-state-stream-has-already-been-listened", "title": "Bad state: Stream has already been listened", "body": "<p>I've got Bad state: Stream has already been listened when running the code below i call my stream inside a Tabview the run work fine but when i play around with the tab view its shows me Stream has already been listened.I don't understand what's the matter.</p>\n\n<pre><code>     class DataServiceColi {\n\n     static Future loadJson(String url) async {\n     await Future.delayed(Duration(seconds: 5));\n\n    // Await the http get response, then decode t he json-formatted response.\n    http.Response response = await http.get(url);\n    if (response.statusCode == 200) {\n       String content = response.body;\n       collectionColi = json.decode(content);\n       print('$collectionColi');\n       return collectionColi;\n     } else {\n       print('Request failed with status: ${response.statusCode}.');\n    }\n    }\n   }\n\n       class DataManagerColis{\n\n       final StreamController&lt;int&gt; _counter = StreamController&lt;int&gt;();\n       final StreamController&lt;List&gt; streamController = new BehaviorSubject();\n       Stream&lt;List&gt; get counterlist =&gt; streamController.stream;\n\n       Stream&lt;List&gt; get colistView async*{\n            yield await DataServiceColi.loadJson(colis);\n       }\n\n      @override\n      void dispose() {\n      print('Disposed Statistics Bloc');\n       streamController.close();\n  }\n\n     DataManagerColis(){\n        colistView.listen((list) =&gt; streamController.add(list));\n    }\n\n   }\n</code></pre>\n\n<p>this my UI widget:</p>\n\n<pre><code> @override\n Widget build(BuildContext context) {\n     return DefaultTabController(\n     length: 3,\n    child: Scaffold(\n    backgroundColor: Color.fromRGBO(58, 66, 86, 1.0),\n    appBar: topAppBar,\n    body:TabBarView(children:[\n      StreamBuilder&lt;List&gt;(\n        stream: manager.colistView,\n          builder:(BuildContext context, AsyncSnapshot&lt;List&lt;dynamic&gt;&gt; snapshot){\n          switch (snapshot.connectionState) {\n            case ConnectionState.none: return Text('Select lot');\n            case ConnectionState.waiting:return Center(child: CircularProgressIndicator(backgroundColor:Colors.amberAccent,));\n            case ConnectionState.active: return Center(child: CircularProgressIndicator(backgroundColor: Colors.cyanAccent,));\n            case ConnectionState.done:\n\n              return ListView.builder(\n                scrollDirection: Axis.vertical,\n                shrinkWrap: true,\n                itemCount: snapshot.data?.length ?? 0,\n                //separatorBuilder: (context, index) =&gt; Divider(),\n                itemBuilder: (BuildContext context, int index) {\n                  print(index);\n                  return Card(\n                    elevation: 8.0,\n                    margin: new EdgeInsets.symmetric(horizontal: 10.0, vertical: 6.0),\n                    child: Container(\n                      decoration: BoxDecoration(color: Color.fromRGBO(64, 75, 96, .9)),\n                      child: ListTile(\n                          onTap: (){\n                            if(snapshot.data[index][\"itin\u00c3\u00a9raires\"].length == 0 ){\n                              showDialog(\n                                  context: context,\n                                  builder: (_) =&gt; NetworkGiffyDialog(\n                                    buttonOkColor: Color.fromRGBO(64, 75, 96, .9),\n                                    key: keys[1],\n                                    image: Image.network(\n                                      \"https://raw.githubusercontent.com/Shashank020519.gif\"            \n                                      fit: BoxFit.cover,\n                                    ),\n                                    entryAnimation: EntryAnimation.DEFAULT,\n                                    title: Text(\n                                      'Pas encore defini',\n                                      textAlign: TextAlign.center,\n                                      style: TextStyle(\n                                          fontSize: 22.0, fontWeight: FontWeight.w600),\n                                    ),\n                                    description: Text(\n                                     \"nothing\"                \n                                      textAlign: TextAlign.center,\n                                    ),\n                                    onOkButtonPressed: () {},\n                                  ));\n                            }else{\n                              Navigator.push(\n                                  context,\n                                  MaterialPageRoute(\n                                      builder: (context) =&gt; TimelinePage(title: 'suivi ${snapshot.data[index][\"libelle_coli\"]}',\n                                        trajet:snapshot.data[index][\"itin\u00c3\u00a9raires\"],\n                                      )\n                                  ));\n                            }\n                          },\n                          contentPadding: EdgeInsets.symmetric(horizontal: 20.0, vertical: 10.0),\n                          leading: Container(\n                            padding: EdgeInsets.only(right: 12.0),\n                            decoration: new BoxDecoration(\n                                border: new Border(\n                                    right: new BorderSide(width: 1.0, color: Colors.white24))),\n                            child: Icon(Icons.autorenew, color: Colors.white),\n                          ),\n                          title: Text(\n                            \"${snapshot.data[index][\"libelle_coli\"]}\",\n                            style: TextStyle(color: Colors.white, fontWeight: FontWeight.bold),\n                          ),\n                          // subtitle: Text(\"Intermediate\", style: TextStyle(color: Colors.white)),\n\n                          subtitle:staut(index,snapshot.data),\n                          trailing:\n                          Icon(Icons.keyboard_arrow_right, color: Colors.white, size: 30.0)),\n                    ),\n                  );\n                },\n              );\n          }\n            //return null;\n          }\n      ),\n      new Container(\n        child: Center(\n          child: Text(\"History\"),\n        ),\n      ),\n      MessagingWidget()\n    ]),\n    floatingActionButton: FloatingActionButton(\n      onPressed: () {\n        // Add your onPressed code here!\n        Navigator.push(\n            context,\n            MaterialPageRoute(\n                builder: (context) =&gt; Page_init()\n            ));\n      },\n      child: Icon(Icons.add, color:Colors.amber,),\n      backgroundColor: Color.fromRGBO(58, 66, 86, 1.0),\n      tooltip: \"register something\",\n    ),\n  ),\n);\n</code></pre>\n\n<p>Please can someone help me?</p>\n"}, {"tags": ["api", "flutter", "dart", "future", "statefulwidget"], "comments": [{"owner": {"reputation": 54, "user_id": 5695205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e342c567d366b6a74ad30eff39ac3f36?s=128&d=identicon&r=PG&f=1", "display_name": "guren", "link": "https://stackoverflow.com/users/5695205/guren"}, "edited": false, "score": 1, "creation_date": 1582024304, "post_id": 58827772, "comment_id": 106625869, "body": "If I&#39;m not mustaken, the issue that I&#39;m having here is that I&#39;m not returning the data in the loadData method at the end. I&#39;m building other app and with a different aproach it is working. I&#39;ll update this in some days, with a valid response."}], "answers": [{"comments": [{"owner": {"reputation": 54, "user_id": 5695205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e342c567d366b6a74ad30eff39ac3f36?s=128&d=identicon&r=PG&f=1", "display_name": "guren", "link": "https://stackoverflow.com/users/5695205/guren"}, "edited": false, "score": 0, "creation_date": 1573600468, "post_id": 58827869, "comment_id": 103932452, "body": "It returns null this way. I only got it working declearing:          &#39;CoachesModelRes data;&#39;  and in the loadData method setting          &#39;data = coaches;&#39;  then using data to create the widget."}, {"owner": {"reputation": 38, "user_id": 12362569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69d8d8efa6bb90feea51291754ff215e?s=128&d=identicon&r=PG&f=1", "display_name": "nordine enn", "link": "https://stackoverflow.com/users/12362569/nordine-enn"}, "reply_to_user": {"reputation": 54, "user_id": 5695205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e342c567d366b6a74ad30eff39ac3f36?s=128&d=identicon&r=PG&f=1", "display_name": "guren", "link": "https://stackoverflow.com/users/5695205/guren"}, "edited": false, "score": 0, "creation_date": 1573600783, "post_id": 58827869, "comment_id": 103932529, "body": "can you try now"}, {"owner": {"reputation": 54, "user_id": 5695205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e342c567d366b6a74ad30eff39ac3f36?s=128&d=identicon&r=PG&f=1", "display_name": "guren", "link": "https://stackoverflow.com/users/5695205/guren"}, "edited": false, "score": 0, "creation_date": 1573601022, "post_id": 58827869, "comment_id": 103932589, "body": "To use a FutureBuilder the var data needs to be Future&lt;CoachesModelRes&gt;  and not CoachesModelRes...  And it return null if I change it."}, {"owner": {"reputation": 38, "user_id": 12362569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69d8d8efa6bb90feea51291754ff215e?s=128&d=identicon&r=PG&f=1", "display_name": "nordine enn", "link": "https://stackoverflow.com/users/12362569/nordine-enn"}, "reply_to_user": {"reputation": 54, "user_id": 5695205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e342c567d366b6a74ad30eff39ac3f36?s=128&d=identicon&r=PG&f=1", "display_name": "guren", "link": "https://stackoverflow.com/users/5695205/guren"}, "edited": false, "score": 0, "creation_date": 1573602337, "post_id": 58827869, "comment_id": 103932904, "body": "ya i understand"}, {"owner": {"reputation": 54, "user_id": 5695205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e342c567d366b6a74ad30eff39ac3f36?s=128&d=identicon&r=PG&f=1", "display_name": "guren", "link": "https://stackoverflow.com/users/5695205/guren"}, "edited": false, "score": 0, "creation_date": 1573676615, "post_id": 58827869, "comment_id": 103963701, "body": "Still null, can&#39;t find a solution to this."}], "tags": [], "owner": {"reputation": 38, "user_id": 12362569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69d8d8efa6bb90feea51291754ff215e?s=128&d=identicon&r=PG&f=1", "display_name": "nordine enn", "link": "https://stackoverflow.com/users/12362569/nordine-enn"}, "is_accepted": false, "score": 0, "last_activity_date": 1573602322, "last_edit_date": 1573602322, "creation_date": 1573599086, "answer_id": 58827869, "question_id": 58827772, "link": "https://stackoverflow.com/questions/58827772/flutter-futurebuilder-returning-null-data/58827869#58827869", "title": "Flutter FutureBuilder returning null data", "body": "<pre><code> Future&lt;CoachesModelRes&gt; loadData(Profile _profile) async {\n     final response = await  getPost(_profile.getToken());\n    try{if (response.statusCode == 200) {\n    CoachesModelRes coaches = coachesModel.postFromJson(response.body);\n    if (coaches.count &gt; 0) {\n      print(coaches.count);\n      print(coaches.coaches[0].description);\n      return coaches;\n    } else {\n      return null;\n    }\n  } else {\n    String code = response.statusCode.toString();\n    return null;\n  }}catch(e){\n\n    return null ; \n  }\n   } \n@override\nvoid initState() {\n  super.initState();\n\n}\n\n@override\nWidget build(BuildContext context) {\n  return Scaffold(\n    backgroundColor: appWhiteColor,\n  appBar: applicationBar(),\n  drawer: adminDrawer(widget.profile, AdminDrawerListEnum.coaches, context),\n  body: FutureBuilder&lt;CoachesModelRes&gt;(\n    future: loadData(widget.profile),\n    builder: (context, snapshot) {\n      //print(snapshot.data.count.toString());\n      if (snapshot.hasData) {\n        return Text(\"nop\");\n      } else if (snapshot.hasError) {\n        return Text(\"${snapshot.error}\");\n      }\n      return Text(\"nop\");\n      // By default, show a loading spinner.\n      return CircularProgressIndicator();\n    },\n  ),\n);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 54, "user_id": 5695205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e342c567d366b6a74ad30eff39ac3f36?s=128&d=identicon&r=PG&f=1", "display_name": "guren", "link": "https://stackoverflow.com/users/5695205/guren"}, "is_accepted": true, "score": 0, "last_activity_date": 1582755987, "creation_date": 1582755987, "answer_id": 60423544, "question_id": 58827772, "link": "https://stackoverflow.com/questions/58827772/flutter-futurebuilder-returning-null-data/60423544#60423544", "title": "Flutter FutureBuilder returning null data", "body": "<p>The issue here is that the return statement should be at the end of the method.</p>\n\n<p>Because the <code>getPost</code> will return data to the <code>loadData</code>.</p>\n\n<p>And when the <code>getPost</code> finishes the <code>loadData</code> will return data to the method that invoked him.</p>\n\n<p>In my case, the <code>loadData</code> is not returning anything so the <code>snapshot</code> in the <code>FutureBuilder</code> it's always null.</p>\n\n<p>It's logic that it is this way now, but at the time I could not figure it out :\\</p>\n\n<pre><code>Future&lt;CoachesModelRes&gt; loadData(Profile _profile) async {\n// So I need to create a variable to return\nCoachesModelRes response;\n//-----\nawait getPost(_profile.getToken()).then((response) {\n  if (response.statusCode == 200) {\n    CoachesModelRes coaches = coachesModel.postFromJson(response.body);\n\n       if (coaches.count &gt; 0) {\n         print(coaches.count);\n         print(coaches.coaches[0].description);\n         // Set the variable value\n         response = coaches;\n         //-----\n       } else {\n         // Set the variable value\n         response = null;\n         //-----\n       }\n     } else {\n       String code = response.statusCode.toString();\n       // Set the variable value\n       response = null;\n       //-----\n     }\n   }).catchError((error) {\n     print(error.toString());\n     // Set the variable value\n     response = null;\n     //-----\n   });\n   // And at the end return the response variable\n   return response;\n   //-----\n}\n</code></pre>\n"}], "owner": {"reputation": 54, "user_id": 5695205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e342c567d366b6a74ad30eff39ac3f36?s=128&d=identicon&r=PG&f=1", "display_name": "guren", "link": "https://stackoverflow.com/users/5695205/guren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2624, "favorite_count": 0, "accepted_answer_id": 60423544, "answer_count": 2, "score": 0, "last_activity_date": 1582755987, "creation_date": 1573598473, "last_edit_date": 1573724488, "question_id": 58827772, "link": "https://stackoverflow.com/questions/58827772/flutter-futurebuilder-returning-null-data", "title": "Flutter FutureBuilder returning null data", "body": "<p>I'm new to Flutter and Dart, and I'm trying to write a application to test it.\nI have an api that I'm getting the data for the app, and was trying to use the StatefulWidget and the FutureBuilder.</p>\n\n<p>When I run the method to call the api I have the results (used print() to test it), but when I get the data from loadData method it retrives null.</p>\n\n<p>So loadData prints the data, initState and FutureBuilder the data returns null. What am I missing here.</p>\n\n<p>I have added the service and the models used for the request... hope it help.</p>\n\n<pre><code>Future&lt;CoachesModelRes&gt; loadData(Profile _profile) async {\nawait getPost(_profile.getToken()).then((response) {\n  if (response.statusCode == 200) {\n    CoachesModelRes coaches = coachesModel.postFromJson(response.body);\n\n    if (coaches.count &gt; 0) {\n      print(coaches.count);\n      print(coaches.coaches[0].description);\n      return coaches;\n    } else {\n      return null;\n    }\n  } else {\n    String code = response.statusCode.toString();\n    return null;\n  }\n}).catchError((error) {\n  print(error.toString());\n  return null;\n});\n}\n\n@override\nvoid initState() {\n  super.initState();\n  print(widget.profile.getToken());\n  data = loadData(widget.profile);\n  data.then((data_) async {\n    var cenas = data_.count;\n    print(\"asdasd $cenas\");\n  });\n}\n\nFuture&lt;CoachesModelRes&gt; data;\n\n@override\nWidget build(BuildContext context) {\n  return Scaffold(\n    backgroundColor: appWhiteColor,\n  appBar: applicationBar(),\n  drawer: adminDrawer(widget.profile, AdminDrawerListEnum.coaches, context),\n  body: FutureBuilder&lt;CoachesModelRes&gt;(\n    future: data,\n    builder: (context, snapshot) {\n      //print(snapshot.data.count.toString());\n      if (snapshot.hasData) {\n        return Text(\"nop\");\n      } else if (snapshot.hasError) {\n        return Text(\"${snapshot.error}\");\n      }\n      return Text(\"nop\");\n      // By default, show a loading spinner.\n      return CircularProgressIndicator();\n    },\n  ),\n);\n}\n\nFuture&lt;http.Response&gt; getPost(String token) async {\n   final response = await http.get(new Uri.http(\"$apiUrl\", \"$coachesEndPoint\"),\n     headers: {\n      HttpHeaders.contentTypeHeader: 'application/json',\n      HttpHeaders.authorizationHeader : 'Bearer $token'\n     },\n  );\n  return response;\n}\n\n\nCoachesModelRes postFromJson(String str) =&gt; CoachesModelRes.fromJson(json.decode(str));\n\nclass CoachesModelRes {\n\n int count;\n List&lt;CoachModelRes&gt; coaches;\n\n CoachesModelRes({\n    this.count,\n    this.coaches,\n });\n\n factory CoachesModelRes.fromJson(Map&lt;String, dynamic&gt; json) =&gt; new CoachesModelRes(\n    count: json[\"count\"],\n\n    coaches: (json[\"coaches\"] as List).map((i) =&gt; CoachModelRes.fromJson(i)).toList(),\n );\n}\n\n\nCoachModelRes postFromJson(String str) =&gt; CoachModelRes.fromJson(json.decode(str));\n\nclass CoachModelRes {\n\n    String id;\n    String firstName;\n    String lastName;\n    String description;\n    String username;\n    String notes;\n    List&lt;String&gt; roles;\n\n    CoachModelRes({\n        this.id,\n        this.firstName,\n        this.lastName,\n        this.description,\n        this.username,\n        this.notes,\n        this.roles,\n    });\n\n    factory CoachModelRes.fromJson(Map&lt;String, dynamic&gt; json) =&gt; new CoachModelRes(\n        id: json[\"id\"],\n        firstName: json[\"firstName\"],\n        lastName: json[\"lastName\"],\n        description: json[\"description\"],\n        username: json[\"username\"],\n        notes: json[\"notes\"],\n        roles: new List&lt;String&gt;.from(json[\"roles\"]),\n    );\n}\n</code></pre>\n"}, {"tags": ["web-services", "flutter", "dart", "service", "encapsulation"], "answers": [{"tags": [], "owner": {"reputation": 909, "user_id": 2925767, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b0aa23e34b24398a6de0b7868f0182c5?s=128&d=identicon&r=PG", "display_name": "icicleking", "link": "https://stackoverflow.com/users/2925767/icicleking"}, "is_accepted": false, "score": 0, "last_activity_date": 1573609471, "creation_date": 1573609471, "answer_id": 58829163, "question_id": 58827044, "link": "https://stackoverflow.com/questions/58827044/encapsulate-web-requests-per-model/58829163#58829163", "title": "Encapsulate Web requests per model", "body": "<p>The answer was fairly obvious once I'd written out the problem. Though I'm still interested in others' opinions/takes on a <code>Webservice</code>.</p>\n\n<p>Basically, I already have an model object, in the example case, an <code>Event</code>. So I make the method non-static, and just call it as is. In this example I'm building a new Event object because my endpoint returns what I need, but you could see a <code>build</code> function or something to help flesh it out.</p>\n\n<p>non-static <code>one</code> function on the model, the key here is the <code>Webservice</code> is now inside this method:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Future&lt;Event&gt; one() async {\n    await Webservice()\n        .load(\n      Resource(\n        url: Constants.baseURI + '/event/' + this.id.toString(),\n        parse: (response) {\n          final result = json.decode(response.body);\n          return Event.fromJson(result);\n        },\n      ),\n    )\n        .then((event) {\n      return event;\n    });\n  }\n</code></pre>\n\n<p>Then the client code:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>this.event.one().then((event) {\\*...*\\}\n</code></pre>\n\n<p>and Bob's your uncle. The <code>Webservice</code> stays the same.</p>\n"}], "owner": {"reputation": 909, "user_id": 2925767, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b0aa23e34b24398a6de0b7868f0182c5?s=128&d=identicon&r=PG", "display_name": "icicleking", "link": "https://stackoverflow.com/users/2925767/icicleking"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573609471, "creation_date": 1573594482, "last_edit_date": 1573594950, "question_id": 58827044, "link": "https://stackoverflow.com/questions/58827044/encapsulate-web-requests-per-model", "title": "Encapsulate Web requests per model", "body": "<p>I'm new to Dart and Flutter, and I'm using a <code>Webservice</code> pattern I found on a blog that seemed clever at the time, but as I move through development it seems more restrictive than it's worth. The goal here is to fetch json from a server, automatically parse and instantiate it based on the <code>model</code> fetched.</p>\n\n<p>I've already had to stretch the class in order to add <code>headers</code> and <code>body</code>, now I need to fetch an individual instance of the <code>event</code>, but I can't make that request with the stateless static <code>all</code> method. The goal is to have a flexible encapsulated service that can make requests and parse them based on <code>model</code> implementations.</p>\n\n<p>If it's not clear, I have the <code>event_id</code>, and now I want to fetch the details of that single event.</p>\n\n<p>Here's the medium post: <a href=\"https://medium.com/flutter-community/fetching-data-in-flutter-and-displaying-in-listview-ec1bb72af22c\" rel=\"nofollow noreferrer\">https://medium.com/flutter-community/fetching-data-in-flutter-and-displaying-in-listview-ec1bb72af22c</a></p>\n\n<p>The <code>Resource</code> class:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class Resource&lt;T&gt; {\n  final String url;\n  String body;\n  Map&lt;String, String&gt; headers;\n  T Function(Response response) parse;\n\n  setBody(String jsonString) {\n    this.body = jsonString;\n  }\n\n  setHeaders(Map&lt;String, String&gt; headerMap) {\n    this.headers = headerMap;\n  }\n\n  Resource({this.url, this.parse});\n}\n</code></pre>\n\n<p>The Webservice class:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class Webservice&lt;T&gt; {\n  Map&lt;String, String&gt; headers;\n  String body;\n\n  Webservice({this.headers, this.body});\n\n  Future&lt;T&gt; load&lt;T&gt;(Resource&lt;T&gt; resource) async {\n    resource.setHeaders(this.headers);\n    final response = await http.get(resource.url, headers: resource.headers);\n    if (response.statusCode == 200) {\n      return resource.parse(response);\n    } else {\n      throw Exception('Failed to load data!');\n    }\n  }\n\n  Future&lt;T&gt; post&lt;T&gt;(Resource&lt;T&gt; resource) async {\n    resource.setHeaders(this.headers);\n    resource.setBody(this.body);\n\n    final response = await http.post(\n      resource.url,\n      headers: resource.headers,\n      body: resource.body,\n    );\n    print(response.statusCode);\n    if (response.statusCode == 200) {\n      return resource.parse(response);\n    } else {\n      throw Exception('Failed to post to endpoint!');\n    }\n  }\n}\n</code></pre>\n\n<p>and one implementation:</p>\n\n<pre><code>class Event {\n  final String title;\n  final int id;\n\n  Event({this.title, this.id});\n\n  factory Event.fromJson(Map&lt;String, dynamic&gt; json) =&gt; Event(\n        title: json['title'] as String,\n        id: json['event_id'] as int,\n      );\n\n  static Resource&lt;List&lt;Event&gt;&gt; get all {\n    return Resource(\n      url: Constants.baseURI + '/events',\n      parse: (response) {\n        final result = json.decode(response.body);\n        Iterable list = result;\n        return list.map((model) =&gt; Event.fromJson(model)).toList();\n      },\n    );\n  }\n</code></pre>\n\n<p>and the client code:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Map&lt;String, String&gt; headers = {\n        HttpHeaders.authorizationHeader: this.user.token.token\n      };\n      Webservice(headers: headers).load(Event.all).then((events) =&gt; {\n            setState(() =&gt; {_events = events})\n          });\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 40591, "user_id": 6583140, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eA8qK.jpg?s=128&g=1", "display_name": "Mihai Alexandru-Ionut", "link": "https://stackoverflow.com/users/6583140/mihai-alexandru-ionut"}, "edited": false, "score": 0, "creation_date": 1573587637, "post_id": 58825503, "comment_id": 103927819, "body": "Maybe the error is thrown at this line: <code>return jsonify(TodoService().create(json))</code>"}, {"owner": {"reputation": 3, "user_id": 9707245, "user_type": "registered", "profile_image": "https://graph.facebook.com/1223668744436482/picture?type=large", "display_name": "Samuel Alves", "link": "https://stackoverflow.com/users/9707245/samuel-alves"}, "reply_to_user": {"reputation": 40591, "user_id": 6583140, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eA8qK.jpg?s=128&g=1", "display_name": "Mihai Alexandru-Ionut", "link": "https://stackoverflow.com/users/6583140/mihai-alexandru-ionut"}, "edited": false, "score": 0, "creation_date": 1573588126, "post_id": 58825503, "comment_id": 103928018, "body": "Wokds fine when i make a request using python  import requests requests.post(&quot;<a href=\"http://127.0.0.1:5000/todo\" rel=\"nofollow noreferrer\">127.0.0.1:5000/todo</a>&quot;,                    json={&quot;Title&quot;:&quot;Titulo da todo&quot;,                          &quot;Description&quot;:&quot;Descri&#231;&#227;o da todo&quot;                         &quot;DueDate Date(&#39;2019-12-01&#39;)&quot;})"}], "answers": [{"tags": [], "owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "is_accepted": true, "score": 1, "last_activity_date": 1573590994, "creation_date": 1573590994, "answer_id": 58826288, "question_id": 58825503, "link": "https://stackoverflow.com/questions/58825503/error-when-i-try-to-send-a-json-from-my-app/58826288#58826288", "title": "Error when i try to send a Json from my app", "body": "<p>From the <a href=\"https://kite.com/python/docs/flask.request.get_json\" rel=\"nofollow noreferrer\">flask documentation</a>:</p>\n\n<blockquote>\n  <p>By default this function will only load the json data if the mimetype\n  is application/json but this can be overridden by the force parameter.</p>\n</blockquote>\n\n<p>Make sure you add the content-type header:</p>\n\n<pre><code>  await client.post(\n    'http://10.0.2.2:5000/todo',\n    headers: {'content-type': 'application/json;charset=utf-8'},\n    body: utf8.encode(json.encode(jsonMap)),\n  );\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9707245, "user_type": "registered", "profile_image": "https://graph.facebook.com/1223668744436482/picture?type=large", "display_name": "Samuel Alves", "link": "https://stackoverflow.com/users/9707245/samuel-alves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 58826288, "answer_count": 1, "score": 0, "last_activity_date": 1573591011, "creation_date": 1573587200, "last_edit_date": 1573591011, "question_id": 58825503, "link": "https://stackoverflow.com/questions/58825503/error-when-i-try-to-send-a-json-from-my-app", "title": "Error when i try to send a Json from my app", "body": "<p>I try to send a json from my Flutter app to my Flask Backend app, but the json is not being sent.</p>\n\n<p>My Dart Code:</p>\n\n<pre><code>    Map&lt;String, dynamic&gt; jsonMap = {\n      \"Title\": \"Titulo da todo\",\n      \"Description\": \"Descri\u00e7\u00e3o da todo\",\n    };\n\n    final response = await client.post(\"http://10.0.2.2:5000/todo\", body: jsonEncode(jsonMap);\n\n    final Map result = jsonDecode(response.body);\n    print(result);\n  }\n</code></pre>\n\n<p>the result.body is always {'error' : 'invalid'}</p>\n\n<p>Python code</p>\n\n<pre><code>def create_todo():\n    try:\n        json = request.get_json()\n        print(\"Json: \", json)\n        #return {'ok' : 'ok post'}\n        return jsonify(TodoService().create(json))\n    except:\n        return {'error' : 'invalid'}\n</code></pre>\n\n<pre><code>Json:  None\n127.0.0.1 - - [12/Nov/2019 16:27:00] \"POST /todo HTTP/1.1\" 200 -\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1573586539, "post_id": 58825316, "comment_id": 103927328, "body": "Both are bad. Extending widgets is an anti-pattern, use composition instead. As for function, see <a href=\"https://stackoverflow.com/questions/53234825/what-is-the-difference-between-functions-and-classes-to-create-widgets/53234826#53234826\" title=\"what is the difference between functions and classes to create widgets\">stackoverflow.com/questions/53234825/&hellip;</a>"}, {"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1573587228, "post_id": 58825316, "comment_id": 103927640, "body": "@R&#233;miRousselet I agree for the first one, but I think you missed the point of the &quot;function&quot; question in relating to your problem."}], "answers": [{"tags": [], "owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "is_accepted": true, "score": 2, "last_activity_date": 1573587601, "creation_date": 1573587601, "answer_id": 58825591, "question_id": 58825316, "link": "https://stackoverflow.com/questions/58825316/flutter-widgets-best-practices-inner-class-vs-function/58825591#58825591", "title": "Flutter widgets best practices: Inner Class vs Function", "body": "<h2>Composition > inheritance</h2>\n\n<p>As mentioned in the comments and <a href=\"https://flutter.dev/docs/resources/technical-overview#composition--inheritance\" rel=\"nofollow noreferrer\">in the Flutter documentation</a>, you should always compose widgets instead of inheriting from e.g. a <code>Container</code>.</p>\n\n<p>In your case, this would look like this:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class _PriceContainer extends StatelessWidget {\n  final double amount;\n\n  const _PriceContainer({\n    Key key,\n    this.amount,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) =&gt; Container(\n        margin: const EdgeInsets.symmetric(\n          vertical: 10,\n          horizontal: 15,\n        ),\n        decoration: BoxDecoration(\n          border: Border.all(\n            color: Colors.purple,\n            width: 2,\n          ),\n        ),\n        padding: EdgeInsets.all(10),\n        child: Text(\n          amount.toString(),\n          style: _amountTextStyle,\n        ),\n      );\n}\n</code></pre>\n\n<p>This is analogous for your other widgets.</p>\n\n<h2>Top-level functions</h2>\n\n<p>Declaring top-level functions is generally fine, however, in this case, you should really define a top-level property instead - preferably declare a <code>const</code> to take advantage of compile-time constants:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>const _amountTextStyle = TextStyle(\n  fontWeight: FontWeight.bold,\n  fontSize: 20,\n  color: Colors.purple,\n);\n</code></pre>\n\n<p>You should be able to apply the same to your other text styles.</p>\n"}], "owner": {"reputation": 1200, "user_id": 846535, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7abc5381bca58afc7ee87ca223dde762?s=128&d=identicon&r=PG", "display_name": "marcellorvalle", "link": "https://stackoverflow.com/users/846535/marcellorvalle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 454, "favorite_count": 0, "accepted_answer_id": 58825591, "answer_count": 1, "score": 2, "last_activity_date": 1573587689, "creation_date": 1573586377, "last_edit_date": 1573587689, "question_id": 58825316, "link": "https://stackoverflow.com/questions/58825316/flutter-widgets-best-practices-inner-class-vs-function", "title": "Flutter widgets best practices: Inner Class vs Function", "body": "<p>I am a Java developer and currently learning about Flutter/Dart. I am an adept of clean code with small functions and some widget examples just scare the s*** out of me.</p>\n\n<p>I am trying to implement a Card widget with some transaction information (price, title and date). Currently the code looks like this:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class TransactionCard extends StatelessWidget {\n  final Transaction _transaction;\n\n  TransactionCard(this._transaction);\n\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n      child: Card(\n        child: Row(\n          mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n          children: [\n            _PriceContainer(_transaction.amount),\n            _DetailContainer(_transaction.title, _transaction.date),\n          ],\n        ),\n      ),\n    );\n  }\n}\n\n// Inner Widgets\n\nclass _PriceContainer extends Container {\n  _PriceContainer(double amount)\n      : super(\n    margin: EdgeInsets.symmetric(\n      vertical: 10,\n      horizontal: 15,\n    ),\n    decoration: BoxDecoration(\n      border: Border.all(\n        color: Colors.purple,\n        width: 2,\n      ),\n    ),\n    padding: EdgeInsets.all(10),\n    child: Text(\n      amount.toString(),\n      style: _amountTextStyle(),\n    ),\n  );\n}\n\nclass _DetailContainer extends Container {\n  _DetailContainer(String title, DateTime date)\n      : super(\n    child: Column(\n      crossAxisAlignment: CrossAxisAlignment.start,\n      children: &lt;Widget&gt;[\n        Text(\n          title,\n          style: _titleTextStyle(),\n        ),\n        Text(\n          date.toString(),\n          style: _dateTextStyle(),\n        ),\n      ],\n    ),\n  );\n}\n\n// Text styles\n\nTextStyle _amountTextStyle() {\n  return TextStyle(\n    fontWeight: FontWeight.bold,\n    fontSize: 20,\n    color: Colors.purple,\n  );\n}\n\nTextStyle _titleTextStyle() {\n  return TextStyle(\n    fontWeight: FontWeight.bold,\n    fontSize: 18,\n  );\n}\n\nTextStyle _dateTextStyle() {\n  return TextStyle(color: Colors.grey);\n}\n</code></pre>\n\n<p>I have used two approaches:</p>\n\n<ol>\n<li>For the inner widgets I extended Containers and gave then specific styling. </li>\n<li>For the text styles I created a function returning the desired style.</li>\n</ol>\n\n<p>Is there an approach preferable to the other? A third one? Is there a bad practice to create multiple Widgets on the same file? </p>\n"}, {"tags": ["dart"], "comments": [{"owner": {"reputation": 11572, "user_id": 1953515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b08d90afd96271299a4dc0fcf672f2?s=128&d=identicon&r=PG", "display_name": "julemand101", "link": "https://stackoverflow.com/users/1953515/julemand101"}, "edited": false, "score": 0, "creation_date": 1573636975, "post_id": 58824260, "comment_id": 103942853, "body": "It is recommended in general to always use curly brackets for all control structures. You can get the analyzer to detect missing brackets by activating the following Linter hint: <a href=\"https://dart-lang.github.io/linter/lints/curly_braces_in_flow_control_structures.html\" rel=\"nofollow noreferrer\">dart-lang.github.io/linter/lints/&hellip;</a>"}, {"owner": {"reputation": 11572, "user_id": 1953515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b08d90afd96271299a4dc0fcf672f2?s=128&d=identicon&r=PG", "display_name": "julemand101", "link": "https://stackoverflow.com/users/1953515/julemand101"}, "edited": false, "score": 0, "creation_date": 1573637083, "post_id": 58824260, "comment_id": 103942928, "body": "I also want to recommend in general to include the Linter hints from the package pedantic or extra_pedantic (I am personally using the last one). The advantage of using this hints are that they hints your code to be more structurally consistent and more readable."}, {"owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "edited": false, "score": 0, "creation_date": 1573637484, "post_id": 58824260, "comment_id": 103943137, "body": "Lots of things are recommended by different people, often even contradictory things. The Dart style guide does <a href=\"https://dart.dev/guides/language/effective-dart/style#do-use-curly-braces-for-all-flow-control-structures\" rel=\"nofollow noreferrer\">allow omitting the braces</a> if the entire control flow structures fits on a single line."}], "answers": [{"tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": false, "score": 0, "last_activity_date": 1573637617, "creation_date": 1573637617, "answer_id": 58834012, "question_id": 58824260, "link": "https://stackoverflow.com/questions/58824260/dart-language-return-on-void-method/58834012#58834012", "title": "Dart Language return on void method", "body": "<p>The reason this was not detected by the compiler is that the program is <em>valid</em>. </p>\n\n<p>As you deduce, returning the result of a <code>void</code> expression like <code>print(...)</code> is allowed in a <code>void</code> function. That's allowed <em>mainly</em> for historical reasons. </p>\n\n<p>In Dart 1, type annotations did not affect language semantics (types were optional), so a function should work the same whether it had a return type of <code>void</code> or not. All you could get was warnings, and some run-time errors when running in \"checked mode\". Because of that, there was no rule against returning something from a <code>void</code> function, the only rule that applied was that you couldn't have both <code>return;</code> and <code>return e;</code> statements in the same function, and even that was just a warning.\nSo, you <em>could</em> write <code>return e;</code> in a <code>void</code> function, and all it would check (in checked mode only) was check that the value was <code>null</code>.</p>\n\n<p>Because of that, a lot of code was written which returned the value of void expression, especially as <code>=&gt;</code> functions like <code>void foo() =&gt; voidBody();</code>.</p>\n\n<p>When moving to Dart 2, where the type system is now checked at compile-time, it was not considered viable to make too much existing code invalid, so Dart 2 still allows <code>return voidExpression();</code> in a <code>void</code> function.</p>\n"}], "owner": {"reputation": 341, "user_id": 4594941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc29b7394b52c7d5da76f9b1869815a1?s=128&d=identicon&r=PG", "display_name": "pirela", "link": "https://stackoverflow.com/users/4594941/pirela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573637617, "creation_date": 1573581722, "question_id": 58824260, "link": "https://stackoverflow.com/questions/58824260/dart-language-return-on-void-method", "title": "Dart Language return on void method", "body": "<p>i spend (again) some hours to find a strange behavior in a dart program.<br>\nI ask me about the reason of the following and if there is something to do at the compiler level.<br>\nThe code is simply about setting and removing entries in a Map and to trace the remove action:   </p>\n\n<pre><code>static void removeLock(String key) {\n    Lock lock = _locks.remove(key);\n    if (lock !=null) return\n    print ( \" uniqueId $key was not locked \");\n  }\n</code></pre>\n\n<p>Map documentation says that remove returns the object if it was in the map before the remove.<br>\nAs it is written, the code says all time the key was not in the map.<br>\nThe raw bug is obvious : the developer has forgotten to put a semicolon after return : </p>\n\n<pre><code>if (lock !=null)  return ; \n</code></pre>\n\n<p>First question was: Why this was not detected by compiler?</p>\n\n<p>My analysis is that Dart try to return <em>the result of the call of print</em>, which is void, so it's ok with the method's signature. QED. </p>\n\n<p>Question two : is there some manner to prevent such a mistake ;<br>\nWhy is it allowed to give a void function call to a return statement ?<br>\nIs it a real use case for that ? </p>\n"}, {"tags": ["dart", "abstract-class"], "answers": [{"comments": [{"owner": {"reputation": 124, "user_id": 3756866, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/06db26af9313205d411543963e798cc6?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/3756866/adam"}, "edited": false, "score": 0, "creation_date": 1573579549, "post_id": 58823549, "comment_id": 103924288, "body": "Thank you! I didn&#39;t even notice that slip-up."}], "tags": [], "owner": {"reputation": 1925, "user_id": 2033394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LWej4.jpg?s=128&g=1", "display_name": "Alex Radzishevsky", "link": "https://stackoverflow.com/users/2033394/alex-radzishevsky"}, "is_accepted": true, "score": 2, "last_activity_date": 1573578850, "creation_date": 1573578850, "answer_id": 58823549, "question_id": 58823084, "link": "https://stackoverflow.com/questions/58823084/intellij-reporting-that-abstract-class-is-missing-implementation-of-concrete-met/58823549#58823549", "title": "IntelliJ reporting that abstract class is missing implementation of concrete method, but method is implemented in abstract class?", "body": "<p>Saying</p>\n\n<pre><code>class ExpenseReport implements Exporter\n</code></pre>\n\n<p>you mean your ExpenseReport implements interface of Exporter, which in turn means that it has to implement all methods declared in Exporter.</p>\n\n<p>If you want to inherit implemented methods from abstract Exporter you need to extend it like this:</p>\n\n<pre><code>class ExpenseReport extends Exporter\n</code></pre>\n"}], "owner": {"reputation": 124, "user_id": 3756866, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/06db26af9313205d411543963e798cc6?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/3756866/adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 58823549, "answer_count": 1, "score": 0, "last_activity_date": 1573578850, "creation_date": 1573576943, "question_id": 58823084, "link": "https://stackoverflow.com/questions/58823084/intellij-reporting-that-abstract-class-is-missing-implementation-of-concrete-met", "title": "IntelliJ reporting that abstract class is missing implementation of concrete method, but method is implemented in abstract class?", "body": "<p>I have an abstract Dart class which contains some abstract methods and a concrete, implemented method that I want to keep consistent across all subclasses. </p>\n\n<p>IntelliJ's Dart Analysis system is reporting in subclasses that no concrete implementation exists for my implemented method \u2014 even though I can see that abstract has a concrete implementation.</p>\n\n<p>I have also tried implementing the method in my subclass and calling the super class, but that is also reported as not being implemented. Both abstract class and child class are in the same file.</p>\n\n<pre><code>abstract class Exporter {\n  List&lt;String&gt; getHeaderRow();\n  List&lt;dynamic&gt; getEntryAsRow(EntriesData entry);\n\n  /// Concrete implementation\n  dynamic getVal(dynamic value) {\n    return null;\n  }\n}\n\n// ExpenseReport underlined in red: missing concrete implementation of getVal\nclass ExpenseReport implements Exporter {\n  List&lt;String&gt; getHeaderRow() {\n    return [];\n  }\n\n  List&lt;dynamic&gt; getEntryAsRow(EntriesData entry) {\n    return [];\n  }\n\n//  dynamic getVal(dynamic value) {\n//    super.getVal(value); // IntelliJ reports \"getval\" as abstract in superclass\n//  }\n\n}\n</code></pre>\n"}, {"tags": ["firebase", "flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 230, "user_id": 9401014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4e774999e7e84978f99a353ca85edee?s=128&d=identicon&r=PG&f=1", "display_name": "Caffo17", "link": "https://stackoverflow.com/users/9401014/caffo17"}, "is_accepted": true, "score": 1, "last_activity_date": 1573576544, "creation_date": 1573576544, "answer_id": 58822954, "question_id": 58822223, "link": "https://stackoverflow.com/questions/58822223/how-to-return-and-display-an-error-message-from-within-a-exception-try-catch/58822954#58822954", "title": "How to return and display an error message from within a exception try catch", "body": "<p>You can call \"setState\" inside the catch.</p>\n\n<pre><code>setState(() {\n  /* update a variable to track the state of the error */\n});\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 6607935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zZgss.png?s=128&g=1", "display_name": "Milie", "link": "https://stackoverflow.com/users/6607935/milie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 0, "accepted_answer_id": 58822954, "answer_count": 1, "score": 0, "last_activity_date": 1573576544, "creation_date": 1573574034, "question_id": 58822223, "link": "https://stackoverflow.com/questions/58822223/how-to-return-and-display-an-error-message-from-within-a-exception-try-catch", "title": "How to return and display an error message from within a exception try catch", "body": "<p>I have a Login/sign up page that is connected to firebase. When the user tries to log in with an incorrect account/password, there is a <code>switch case</code> nestled in the <code>catch</code> that catches and prints the appropriate error to the console.</p>\n\n<pre><code>on PlatformException catch (e) {\n    if (Platform.isAndroid) {\n      switch (e.message) {\n        case 'There is no user record corresponding to this identifier. The user may have been deleted.':\n          errorType = authProblems.UserNotFound;\n          break;\n}\nprint('The error is $errorType');\n</code></pre>\n\n<p>I would like to add a <code>return</code> statement with a <code>String</code> that can be used in a <code>Text</code>widget to display to the user an appropriate message.</p>\n\n<p>The try catch is in a validate/submit class that is called when the user selects to Login/Sign up.</p>\n\n<p>I could add more code if it would help. Thanks</p>\n"}, {"tags": ["flutter", "dart", "flutter-layout"], "comments": [{"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1573575671, "post_id": 58822175, "comment_id": 103922246, "body": "You need a setState somewhere."}, {"owner": {"reputation": 325, "user_id": 10991140, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OeERzR8TalE/AAAAAAAAAAI/AAAAAAAAABs/vKXvDcsMmlI/photo.jpg?sz=128", "display_name": "lino alejandro", "link": "https://stackoverflow.com/users/10991140/lino-alejandro"}, "edited": false, "score": 0, "creation_date": 1573577188, "post_id": 58822175, "comment_id": 103923102, "body": "Could you show the implementation of the MakanikaModel class?"}, {"owner": {"reputation": 547, "user_id": 6774208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x98Oe.png?s=128&g=1", "display_name": "kishea", "link": "https://stackoverflow.com/users/6774208/kishea"}, "edited": false, "score": 0, "creation_date": 1573579622, "post_id": 58822175, "comment_id": 103924314, "body": "<code>class MakanikaModel with ChangeNotifier {   List&lt;Item&gt; _requestItems = List&lt;Item&gt;();   int _quantity = 0;    set quantity(newValue) {     _quantity = newValue;     notifyListeners();   }    set requestItems(newValue) {     _requestItems = newValue;     notifyListeners();   }    &#47;&#47;getters   List&lt;Item&gt; get requestItems =&gt; _requestItems;   int get quantity =&gt; _quantity; }</code>"}, {"owner": {"reputation": 547, "user_id": 6774208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x98Oe.png?s=128&g=1", "display_name": "kishea", "link": "https://stackoverflow.com/users/6774208/kishea"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1573579676, "post_id": 58822175, "comment_id": 103924340, "body": "@R&#233;miRousselet am using provider set state is inbuild with provider."}], "owner": {"reputation": 547, "user_id": 6774208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x98Oe.png?s=128&g=1", "display_name": "kishea", "link": "https://stackoverflow.com/users/6774208/kishea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1573574215, "creation_date": 1573573882, "last_edit_date": 1573574215, "question_id": 58822175, "link": "https://stackoverflow.com/questions/58822175/flutter-provider-patter-not-effecting-ui-changes-on-list-content-change-widget", "title": "Flutter provider patter not effecting UI changes on List content change widget", "body": "<p>the UI gets updated once i change a value directly, \nbut not when I change the value of an Item in the List\nCould someone have encountered this challenge before?\nPlease explain why this could be happening.\nWhat alternatives could be availble ?</p>\n\n<pre><code> class Item {\n      int itemQty;\n      final double itemPrice;\n      final double itemDiscount;\n\n      Item({\n        this.itemDiscount,\n        this.itemQty,\n        this.itemPrice,\n      });\n\n      Map&lt;String, Object&gt; toJson() {\n        return {\n          'itemPrice': itemPrice,\n          'itemQun': itemQty,\n          'itemDiscount': itemDiscount,\n        };\n      }    \n        class Home extends StatelessWidget {    \n          @override\n          Widget build(BuildContext context) {    \n          return Scaffold(\n              body:Container(\n                child: Column(\n                  mainAxisAlignment: MainAxisAlignment.center,\n                  children: &lt;Widget&gt;[\n        IconButton(\n                                        icon: Icon(Icons.remove_circle,\n                                            color: Colors.amber.shade500),\n                                        onPressed: () {\n                                          if (model.quantity &gt;\n                                              0) {\n                                            model.quantity--;\n                                          }\n                                        },\n                                      ),\n\n                                      new IconButton(\n                                        icon: Icon(Icons.remove_circle,\n                                            color: Colors.amber.shade500),\n                                        onPressed: () {\n                                          if (itemList[ind].itemQty &gt;\n                                              0) {\n                                            Provider.of&lt;MakanikaModel&gt;(\n                                              context,\n                                            ).requestItems[ind].itemQty--;\n                                          }\n                                        },\n                                      )\n                  ],\n                ),            \n              ),  \n            );\n          }\n        }\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 2659, "user_id": 2286764, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/L4Qif.png?s=128&g=1", "display_name": "BHuelse", "link": "https://stackoverflow.com/users/2286764/bhuelse"}, "is_accepted": true, "score": 1, "last_activity_date": 1573724824, "creation_date": 1573724824, "answer_id": 58853732, "question_id": 58822008, "link": "https://stackoverflow.com/questions/58822008/fllutter-i18n-is-throwing-an-exception-when-used-in-nested-widget/58853732#58853732", "title": "fllutter I18n is throwing an exception when used in nested widget", "body": "<p>I found the problem. I was using <code>MaterialApp</code> twice. One Time in my main and also on another screen. Switching to <code>Scaffold</code> on the other screen solved the problem.</p>\n"}], "owner": {"reputation": 2659, "user_id": 2286764, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/L4Qif.png?s=128&g=1", "display_name": "BHuelse", "link": "https://stackoverflow.com/users/2286764/bhuelse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 376, "favorite_count": 0, "accepted_answer_id": 58853732, "answer_count": 1, "score": 0, "last_activity_date": 1573724824, "creation_date": 1573573318, "last_edit_date": 1573573633, "question_id": 58822008, "link": "https://stackoverflow.com/questions/58822008/fllutter-i18n-is-throwing-an-exception-when-used-in-nested-widget", "title": "fllutter I18n is throwing an exception when used in nested widget", "body": "<p>I am writing a flutter app, where I am using the flutter I18n package. It works fine on the most placed, but when I try to use it in a method, which creates an other widget, it crashes with the following error.</p>\n\n<blockquote>\n  <p>The following NoSuchMethodError was thrown building LightLocationWidget(dirty, dependencies: [_LocalizationsScope-[GlobalKey#ced6b]], state: _LightLocationWidgetState#3b5b6):\n  The getter 'decodedMap' was called on null.\n  Receiver: null\n  Tried calling: decodedMap\n  When the exception was thrown, this was the stack: \n   Object.noSuchMethod (dart:core-patch/object_patch.dart:51:5)\n   FlutterI18n._translateWithKeyFallback (package:flutter_i18n/flutter_i18n.dart:162:43)\n   FlutterI18n.translate (package:flutter_i18n/flutter_i18n.dart:139:26)</p>\n</blockquote>\n\n<p>In the package its this method:</p>\n\n<pre><code>static String _translateWithKeyFallback(\n  final BuildContext context, final String key) {\nfinal Map&lt;String, dynamic&gt; decodedStrings =\n    _retrieveCurrentInstance(context).decodedMap;\nString translation = _decodeFromMap(decodedStrings, key);\nif (translation == null) {\n  print(\"**$key** not found\");\n  translation = key;\n}\nreturn translation;}\n</code></pre>\n\n<p>My code which throws the exception:</p>\n\n<pre><code>    @override\n    Widget build(BuildContext context) {\n      return Row(\n          children: [\n      Padding(\n      padding: EdgeInsets.all(10),\n      child: getLightButton(1),\n      )\n\n      ...\n\n   ButtonTheme getLightButton(int typeNumber) {   \n    return ButtonTheme(\n      child: FlatButton(\n        child: Column(children: [Text(FlutterI18n.translate(context, \"lightlocation\")\n      ...\n</code></pre>\n\n<p>When I use this key directly on the widget it works without problems.</p>\n"}, {"tags": ["android-studio", "flutter", "dart", "local-storage", "sqflite"], "answers": [{"tags": [], "owner": {"reputation": 604, "user_id": 2113970, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/BsCjm.jpg?s=128&g=1", "display_name": "Derek Fredrickson", "link": "https://stackoverflow.com/users/2113970/derek-fredrickson"}, "is_accepted": false, "score": 1, "last_activity_date": 1573604421, "creation_date": 1573604421, "answer_id": 58828606, "question_id": 58821949, "link": "https://stackoverflow.com/questions/58821949/flutter-sqflite-having-trouble-with-updating-the-listview-with-database-content/58828606#58828606", "title": "Flutter SQFlite: Having trouble with updating the listview with database contents", "body": "<p>Are you aware of <a href=\"https://api.flutter.dev/flutter/widgets/FutureBuilder-class.html\" rel=\"nofollow noreferrer\">FutureBuilder</a>? I would suggest wrapping your <code>ListView.builder</code> in a future builder and passing in the <code>_loadTodos</code> function as the future. Then you can remove all of the initState code that initializes the todos.</p>\n\n<p>Generally, I find that doing async work in <code>initState</code> doesn't always work. The UI has already built, and doesn't know to rebuild when the async work is complete. Another option might just be to call <code>setState</code> once the async function completes with the todos. I would think that the FutureBuilder is the better way to do it though.</p>\n\n<p>If you need some additional help, let me know. I could probably write some of it out for you.</p>\n"}], "owner": {"reputation": 29, "user_id": 8865803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/258d7854d24930693b2b764f89c076e8?s=128&d=identicon&r=PG&f=1", "display_name": "Ceylon Boy", "link": "https://stackoverflow.com/users/8865803/ceylon-boy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 394, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573604421, "creation_date": 1573573085, "question_id": 58821949, "link": "https://stackoverflow.com/questions/58821949/flutter-sqflite-having-trouble-with-updating-the-listview-with-database-content", "title": "Flutter SQFlite: Having trouble with updating the listview with database contents", "body": "<p>I did somehow managed to get the database contents to show via listview. However, its not doing it properly. As soon as i run the emulator the contents stored in the database should appear, but they don't. It also shows that the database is empty even though it clearly isn't. But once i add a new item to the database and click save, everything shows up (except the one i last added and it shows up on the next update). I have no clue how to fix this, i tried placing _listTodos() everywhere to see if it executes before the widgets but there wasn't any improvement. <strong>The issue is in the ListDisplay class</strong> I think, so you can just skip over the rest, I just have the entire code for convenience.</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nimport 'model/todo_model.dart';\nimport 'model/todo.dart';\n\nclass ListGradesPage extends StatefulWidget {\n  final String title;\n\n  ListGradesPage({this.title, Key key}) : super(key: key);\n\n  _ListGradesPageState createState() =&gt; _ListGradesPageState();\n}\n\nvar _todoItem;\nvar _lastInsertedId = 0;\nfinal _model = TodoModel();\n\nFuture&lt;void&gt; _deleteTodo() async {\n  _model.deleteAllTodo();\n}\n\nclass _ListGradesPageState extends State&lt;ListGradesPage&gt; {\n  //final _model = TodoModel();\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(widget.title),\n        actions: &lt;Widget&gt;[\n          IconButton(\n              icon: Icon(Icons.edit),\n              onPressed: () {\n                print('editing...');\n                //_listTodos();\n              }),\n          IconButton(\n              icon: Icon(Icons.delete),\n              onPressed: () {\n                print('deleting all...');\n                setState(() {\n                  _deleteTodo();\n                });\n              }),\n        ],\n      ),\n      body: ListDisplayPage(),\n      floatingActionButton: FloatingActionButton(\n        onPressed: () {\n          Navigator.push(\n            context,\n            MaterialPageRoute(builder: (context) =&gt; AddGrade()),\n          );\n        },\n        child: Icon(Icons.add),\n        backgroundColor: Colors.blue,\n      ),\n    );\n  }\n}\n\nclass ListDisplayPage extends StatefulWidget {\n  ListDisplay createState() =&gt; ListDisplay();\n}\n\nclass ListDisplay extends State&lt;ListDisplayPage&gt; {\n  int _selectedIndex;\n\n  List&lt;Todo&gt; todos = new List&lt;Todo&gt;();\n\n  Future&lt;void&gt; _listTodos() async {\n    todos = await _model.getAllTodos();\n\n    if (todos.isEmpty) {\n      print('it is empty-2.');\n    } else {\n      print(\"not empty-2\");\n    }\n\n    print('To Dos:');\n    for (Todo todo in todos) {\n      print(todo);\n    }\n  }\n\n  _onSelected(int index) {\n    _selectedIndex = index;\n  }\n\n  @override\n  void initState() {\n    super.initState();\n\n\n    _listTodos();\n\n    // _listTodos() is not calling the function above for some reason, but executes everything below it\n    // In the database there are items stored however it says the databse is empty...\n    // until i add a new item and everything shows up except the item i recently added\n\n\n    if (todos.isEmpty) {\n\n      print('To Dos:');\n      for (Todo todo in todos) {\n        print(todo);\n      }\n\n      print('it is empty.');\n    } else {\n      print(\"not empty\");\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    //Color clr = Colors.transparent;\n\n    return todos.isEmpty\n        ? Center(\n            child: Text(\n                'Nothing to show! Is it empty? ' + (todos.isEmpty).toString()))\n        : ListView.builder(\n            itemCount: todos.length,\n            itemBuilder: (context, index) {\n              return Card(\n                //                           &lt;-- Card widget\n                child: Container(\n                  color: _selectedIndex != null &amp;&amp; _selectedIndex == index\n                      ? Colors.lightBlueAccent\n                      : Colors.transparent,\n                  child: ListTile(\n                    leading: GestureDetector(\n                      onTap: () {\n                        setState(() {\n                          _onSelected(index);\n                          print(index);\n                        });\n                      },\n                      child: Container(\n\n                        width: MediaQuery.of(context).size.width / 2,\n                        child:\n                            Text(todos[index].sid + '\\n' + todos[index].grade),\n                      ),\n                    ),\n                  ),\n                ),\n              );\n            },\n          );\n  }\n}\n\nclass AddGrade extends StatelessWidget {\n  String _sid, _grade;\n\n  final _formKey = GlobalKey&lt;FormState&gt;();\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(\"Add Grade\"),\n      ),\n      body: Form(\n        key: _formKey,\n        child: Column(\n          children: &lt;Widget&gt;[\n            Padding(\n              padding: const EdgeInsets.all(15.0),\n              child: TextFormField(\n                decoration: const InputDecoration(\n                  hintText: 'Student ID',\n                  labelText: 'SID',\n                ),\n                onSaved: (String value) {\n                  print('Saving SID $value');\n                  _sid = value.toString();\n                },\n              ),\n            ),\n            Padding(\n              padding: const EdgeInsets.all(15.0),\n              child: TextFormField(\n                decoration: const InputDecoration(\n                  hintText: 'Student Grade',\n                  labelText: 'Grade',\n                ),\n                onSaved: (String value) {\n                  print('Saving Grade $value');\n                  _grade = value.toString();\n                },\n              ),\n            ),\n          ],\n        ),\n      ),\n      floatingActionButton: FloatingActionButton(\n        onPressed: () {\n          _formKey.currentState.save();\n          _addTodo();\n          //_listTodos();\n          Navigator.pop(context);\n        },\n        child: Icon(Icons.save),\n        backgroundColor: Colors.blue,\n      ),\n    );\n  }\n\n  Future&lt;void&gt; _addTodo() async {\n    Todo newTodo = Todo(sid: _sid, grade: _grade);\n    _lastInsertedId = await _model.insertTodo(newTodo);\n  }\n}\n\n</code></pre>\n\n<p>Console Output (on execution):</p>\n\n<pre><code>Restarted application in 1,607ms.\nI/flutter (14196): To Dos:\nI/flutter (14196): it is empty.\nI/flutter (14196): not empty-2\nI/flutter (14196): To Dos:\nI/flutter (14196): Todo{id: 1, sid: q, grade: qq}\nI/flutter (14196): Todo{id: 2, sid: w, grade: ww}\nI/flutter (14196): Todo{id: 3, sid: e, grade: ee}\nI/flutter (14196): Todo{id: 4, sid: r, grade: }\nI/flutter (14196): Todo{id: 5, sid: hh, grade: kk}\n</code></pre>\n\n<p>Screenshots of emulator, before adding new student, and after adding new student (the recent one doesn't show up either until I add another student again),</p>\n\n<p><a href=\"https://i.stack.imgur.com/yp8cH.png\" rel=\"nofollow noreferrer\">Before</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/CJI1y.png\" rel=\"nofollow noreferrer\">After</a></p>\n\n<p>I apologize if i didn't follow the guidelines, never really posted questions on here before.</p>\n"}, {"tags": ["flutter", "dart", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 1293, "user_id": 1846395, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/rzduR.jpg?s=128&g=1", "display_name": "dubace", "link": "https://stackoverflow.com/users/1846395/dubace"}, "edited": false, "score": 0, "creation_date": 1573572453, "post_id": 58821235, "comment_id": 103920461, "body": "You miss some of the code, but I see possible errors with types incompatibility.  Didn&#39;t you forget to use your <code>ScreenHomeDoor.fromMap(Map&lt;dynamic, dynamic&gt; data)</code> method?  Can you show your Firestore object structure from the firebase console?  I can help you if I understand how do you plan convert your  <code>Map&lt;dynamic, dynamic&gt;</code> to <code>Map&lt;String, ScreenHomeDoor&gt;</code>"}, {"owner": {"reputation": 533, "user_id": 8505011, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-LHeyfnycofo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reTiZXkDgulYbU2MpXYqhI-92dLfQ/photo.jpg?sz=128", "display_name": "fkvestak", "link": "https://stackoverflow.com/users/8505011/fkvestak"}, "reply_to_user": {"reputation": 1293, "user_id": 1846395, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/rzduR.jpg?s=128&g=1", "display_name": "dubace", "link": "https://stackoverflow.com/users/1846395/dubace"}, "edited": false, "score": 0, "creation_date": 1573628796, "post_id": 58821235, "comment_id": 103939036, "body": "I added picture from firestore (data structure). I didn&#39;t forget to call .fromMap (ScreenHomeDoor), I&#39;m calling it with &#39;fromEntity&#39; in model class, that is where I&#39;m getting the errors."}], "answers": [{"tags": [], "owner": {"reputation": 533, "user_id": 8505011, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-LHeyfnycofo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reTiZXkDgulYbU2MpXYqhI-92dLfQ/photo.jpg?sz=128", "display_name": "fkvestak", "link": "https://stackoverflow.com/users/8505011/fkvestak"}, "is_accepted": true, "score": 3, "last_activity_date": 1573646544, "creation_date": 1573646544, "answer_id": 58836713, "question_id": 58821235, "link": "https://stackoverflow.com/questions/58821235/flutter-dart-casting-from-firestore-into-map/58836713#58836713", "title": "Flutter/Dart casting from Firestore into map", "body": "<p>Answer:</p>\n\n<p>in model, method 'fromEntity' I didn't cast entity map (dynamics) to model map (object) which is exactly where exception occurred.\nEvery \"value\" from this dynamic map should have been transformed to object, which I was doing wrong all the time.</p>\n\n<pre><code>  static ScreenHome fromEntity(ScreenHomeEntity entity) {\n    return ScreenHome(\n      entity.userName,\n      id: entity.id,\n      userEmail: entity.userEmail,\n      mainDoor: entity.mainDoor,\n      doors: entity.doors\n          .map((k, v) =&gt; MapEntry(k as String, ScreenHomeDoor.fromMap(v))),\n    );\n  }\n</code></pre>\n\n<p>for the whole time I was trying to do it with <code>MapEntry(k as String, v as ScreenHomeDoor.fromMap(v))</code></p>\n\n<p>A simple and stupid mistake....</p>\n"}], "owner": {"reputation": 533, "user_id": 8505011, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-LHeyfnycofo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reTiZXkDgulYbU2MpXYqhI-92dLfQ/photo.jpg?sz=128", "display_name": "fkvestak", "link": "https://stackoverflow.com/users/8505011/fkvestak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1425, "favorite_count": 0, "accepted_answer_id": 58836713, "answer_count": 1, "score": 1, "last_activity_date": 1573646544, "creation_date": 1573570691, "last_edit_date": 1573628658, "question_id": 58821235, "link": "https://stackoverflow.com/questions/58821235/flutter-dart-casting-from-firestore-into-map", "title": "Flutter/Dart casting from Firestore into map", "body": "<p>I have problems with mapping data from firestore into a model. \nI've been trying for hours and always getting cast errors (exceptions) like <em>'Map can't be cast to Map'</em> or 'type <em>'_InternalLinkedHashMap' is not a subtype of type 'Map'</em></p>\n\n<p>I tried examples from these links:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/50808513/how-do-you-load-array-and-object-from-cloud-firestore-in-flutter\">How do you load array and object from Cloud Firestore in Flutter</a></p>\n\n<p><a href=\"https://github.com/dart-lang/sdk/issues/36836\" rel=\"nofollow noreferrer\">https://github.com/dart-lang/sdk/issues/36836</a></p>\n\n<p>and many more, still don't understand how this thing works.</p>\n\n<p>Here is my entity and model class:</p>\n\n<p>Entity</p>\n\n<pre><code>import 'package:cloud_firestore/cloud_firestore.dart';\nimport 'package:equatable/equatable.dart';\n\nclass ScreenHomeEntity extends Equatable {\n  final String id;\n  final String userName;\n  final String userEmail;\n  final String mainDoor;\n  final Map&lt;dynamic, dynamic&gt; doors;\n\n  const ScreenHomeEntity(\n      this.id, this.userName, this.userEmail, this.mainDoor, this.doors);\n\n  @override\n  List&lt;Object&gt; get props =&gt; [id, userName, userEmail, mainDoor, doors];\n\n  @override\n  String toString() =&gt;\n      'ScreenHomeEntity {id: $id, userName: $userName, userEmail: $userEmail, mainDoor: $mainDoor, doors: $doors}';\n\n  Map&lt;String, Object&gt; toJson() {\n    return {\n      'id': id,\n      'userName': userName,\n      'userEmail': userEmail,\n      'mainDoor': mainDoor,\n      'doors': doors,\n    };\n  }\n\n  static ScreenHomeEntity fromJson(Map&lt;String, Object&gt; json) {\n    return ScreenHomeEntity(\n      json['id'] as String,\n      json['userName'] as String,\n      json['userEmail'] as String,\n      json['mainDoor'] as String,\n      json['doors'] as Map&lt;dynamic, dynamic&gt;,\n    );\n  }\n\n  Map&lt;String, Object&gt; toDocument() {\n    return {\n      'userName': userName,\n      'userEmail': userEmail,\n      'mainDoor': mainDoor,\n      'doors': doors,\n    };\n  }\n\n  static ScreenHomeEntity fromDocument(DocumentSnapshot doc) {\n    return ScreenHomeEntity(\n      doc.documentID,\n      doc.data['userName'],\n      doc.data['userEmail'],\n      doc.data['mainDoor'],\n      doc.data['doors'],\n    );\n  }\n}\n</code></pre>\n\n<p>Model: </p>\n\n<pre><code>import 'package:brava_flutter/data/entities/screen_home_entity.dart';\nimport 'package:meta/meta.dart';\n\n@immutable\nclass ScreenHome {\n  final String id;\n  final String userName;\n  final String userEmail;\n  final String mainDoor;\n  final Map&lt;String, ScreenHomeDoor&gt; doors;\n\n  ScreenHome(this.userName,\n      {String userEmail = '',\n      String id,\n      String mainDoor,\n      Map&lt;String, ScreenHomeDoor&gt; doors})\n      : this.userEmail = userEmail ?? '',\n        this.id = id,\n        this.mainDoor = mainDoor ?? '',\n        this.doors = doors ?? Map&lt;String, ScreenHomeDoor&gt;();\n\n  ScreenHome copyWith({\n    String id,\n    String userName,\n    String userEmail,\n    String mainDoor,\n    Map&lt;String, ScreenHomeDoor&gt; doors,\n  }) {\n    return ScreenHome(\n      userName ?? this.userName,\n      id: id ?? this.id,\n      userEmail: userEmail ?? this.userEmail,\n      mainDoor: mainDoor ?? this.mainDoor,\n      doors: doors ?? this.doors,\n    );\n  }\n\n  @override\n  int get hashCode =&gt;\n      id.hashCode ^\n      userName.hashCode ^\n      userEmail.hashCode ^\n      mainDoor.hashCode ^\n      doors.hashCode;\n\n  @override\n  bool operator ==(Object other) =&gt;\n      identical(this, other) ||\n      other is ScreenHome &amp;&amp;\n          runtimeType == other.runtimeType &amp;&amp;\n          id == other.id &amp;&amp;\n          userName == other.userName &amp;&amp;\n          userEmail == other.userEmail &amp;&amp;\n          mainDoor == other.mainDoor &amp;&amp;\n          doors == other.doors;\n\n  @override\n  String toString() =&gt;\n      'ScreenHomeModel {id: $id, userName: $userName, userEmail: $userEmail, mainDoor: $mainDoor, doors: $doors}';\n\n  ScreenHomeEntity toEntity() =&gt;\n      ScreenHomeEntity(id, userName, userEmail, mainDoor, doors);\n\n  static ScreenHome fromEntity(ScreenHomeEntity entity) {\n    return ScreenHome(\n      entity.userName,\n      id: entity.id,\n      userEmail: entity.userEmail,\n      mainDoor: entity.mainDoor,\n      doors: entity.doors, // EXCEPTION\n    );\n  }\n}\n\nclass ScreenHomeDoor {\n  String name;\n  String address;\n\n  ScreenHomeDoor.fromMap(Map&lt;dynamic, dynamic&gt; data)\n      : name = data['name'],\n        address = data['address'];\n}\n</code></pre>\n\n<p>firestore data example:\n<a href=\"https://i.stack.imgur.com/v28dA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v28dA.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["flutter", "dart", "flutter-layout"], "comments": [{"owner": {"reputation": 99, "user_id": 7850506, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--lqfFcD5_1Q/AAAAAAAAAAI/AAAAAAAACFI/-og2qyrlws4/photo.jpg?sz=128", "display_name": "Vaibhav A", "link": "https://stackoverflow.com/users/7850506/vaibhav-a"}, "edited": false, "score": 0, "creation_date": 1603887865, "post_id": 58821129, "comment_id": 114177232, "body": "Did you find the solution to this problem?"}], "owner": {"reputation": 231, "user_id": 6583233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d5a0e8196905079748288d3362b2336?s=128&d=identicon&r=PG&f=1", "display_name": "Lix", "link": "https://stackoverflow.com/users/6583233/lix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1573575649, "creation_date": 1573570334, "last_edit_date": 1573574902, "question_id": 58821129, "link": "https://stackoverflow.com/questions/58821129/flutter-how-to-return-to-a-specific-bottom-navigation-bar", "title": "Flutter: How to return to a specific Bottom Navigation Bar", "body": "<p>I'm having a problem right now in my flutter application. Specifically in my Bottom Navigation Bar. So in my navigation bar I have items which names are (Community, Feeds, My Activity, Profile). The problem I'm facing is in the \"Feeds\" because in my \"Feeds\" I have a card, and in that card I have a button named \"View Profile\", when I click the \"View Profile\" it redirects me to a new page and in that page it shows the \"Profile\" of the selected card. Now the problem is when I go back, when I click the \"&lt;-\" logo in the page, it returns to the \"Community\" page the first navigation on my navigation bar. </p>\n\n<p>Now the question is how can I return to my \"Feeds\" navigation when I click the \"&lt;-\" logo. Please help.</p>\n\n<p>My \"Feeds\" UI:</p>\n\n<p><a href=\"https://i.stack.imgur.com/OQAdM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OQAdM.png\" alt=\"enter image description here\"></a></p>\n\n<p>UI when \"View Profile\" is clicked:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mgWVx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mgWVx.png\" alt=\"enter image description here\"></a></p>\n\n<p>My code when clicking the \"View Profile\" button:</p>\n\n<pre><code>onPressed: () {\n                  Navigator.push(\n                            context,\n                            MaterialPageRoute(\n                                builder: (context) =&gt; new OrgProfile(\n                                    doc.data['Name of Organization'])));\n                      },\n</code></pre>\n\n<p>My code on the new page when you click \"View Profile\":</p>\n\n<pre><code>    class _OrgProfileState extends State&lt;OrgProfile&gt; {\n  @override\n  final db = Firestore.instance;\n\n  Container buildItem(DocumentSnapshot doc) {\n   return Container(\n     child: Column(\n    children: &lt;Widget&gt;[\n      Center(\n        child: Padding(\n          padding: const EdgeInsets.only(top: 20.0),\n          child: CircleAvatar(\n            radius: 70,\n          ),\n        ),\n      ),\n      Text(\n        '${doc.data['Email']}',\n        style: TextStyle(color: Colors.black),\n      )\n    ],\n  ),\n);\n }\n  Widget build(BuildContext context) {\nreturn Scaffold(\n  appBar: AppBar(title: Text(widget.orgName)),\n  body: StreamBuilder&lt;QuerySnapshot&gt;(\n      stream: db\n          .collection('USERS')\n          .where('Name of Organization', isEqualTo: widget.orgName)\n          .snapshots(),\n      builder: (context, snapshot) {\n        if (snapshot.hasData) {\n          return Column(\n              children: snapshot.data.documents\n                  .map((doc) =&gt; buildItem(doc))\n                  .toList());\n        } else {\n          return SizedBox();\n        }\n        }),\n   );\n   }\n  }\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 1038, "user_id": 7252179, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/bkNb0.jpg?s=128&g=1", "display_name": "Th&#233;o Champion", "link": "https://stackoverflow.com/users/7252179/th%c3%a9o-champion"}, "edited": false, "score": 0, "creation_date": 1573573084, "post_id": 58821029, "comment_id": 103920824, "body": "Thanks! I tried your solution but am still getting the same error, I updated my post with my full current setup"}, {"owner": {"reputation": 1038, "user_id": 7252179, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/bkNb0.jpg?s=128&g=1", "display_name": "Th&#233;o Champion", "link": "https://stackoverflow.com/users/7252179/th%c3%a9o-champion"}, "edited": false, "score": 0, "creation_date": 1573575975, "post_id": 58821029, "comment_id": 103922419, "body": "also, isn&#39;t the target in <code>CMakeLists.txt</code> supposed to be just <code>rPPG</code> as the lib is added automatically?"}], "tags": [], "owner": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "is_accepted": false, "score": -1, "last_activity_date": 1573570052, "creation_date": 1573570052, "answer_id": 58821029, "question_id": 58820540, "link": "https://stackoverflow.com/questions/58820540/load-prebuilt-dynamic-libraries-from-flutter-plugin/58821029#58821029", "title": "Load prebuilt dynamic libraries from flutter plugin", "body": "<p>For Android, create <em>src/main/jniLibs</em> folder and sub-directories for each architecture (arm64-v8a, armeabi-v7). Put your .so files for each architecture. Edit <em>build.gradle</em> file of your plugin:</p>\n\n<pre><code>android {\n    defaultConfig {\n        externalNativeBuild {\n            cmake {\n            }\n        }\n    }\n\n    externalNativeBuild {\n        cmake {\n            path \"CMakeLists.txt\"\n        }\n    }\n\n    sourceSets {\n        main {\n            jniLibs.srcDirs = ['src/main/jniLibs']\n        }\n    }\n}\n</code></pre>\n\n<p>In your CMakeFile specify the shared library:</p>\n\n<pre><code>cmake_minimum_required(VERSION 3.4.1)\n\nadd_library( librPPG SHARED IMPORTED )\nset_target_properties(librPPG PROPERTIES IMPORTED_LOCATION ${CMAKE_CURRENT_SOURCE_DIR}/src/main/jniLibs/${ANDROID_ABI}/librPPG.so)\n</code></pre>\n\n<p>If you don't need separate .so for each ABI, you can change path. Also remove '../' from <code>DynamicLibrary.open</code> call - this is a library name, not a path.</p>\n\n<p>I might be wrong about iOS. To include iOS framework, add these lines to .podspec file of your plugin:</p>\n\n<pre class=\"lang-rb prettyprint-override\"><code>  s.preserve_paths = 'rPPG.framework'\n  s.xcconfig = { 'OTHER_LDFLAGS' =&gt; '-framework rPPG' }\n  s.vendored_frameworks = 'rPPG.framework'\n</code></pre>\n"}], "owner": {"reputation": 1038, "user_id": 7252179, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/bkNb0.jpg?s=128&g=1", "display_name": "Th&#233;o Champion", "link": "https://stackoverflow.com/users/7252179/th%c3%a9o-champion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 897, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573573029, "creation_date": 1573568437, "last_edit_date": 1573573029, "question_id": 58820540, "link": "https://stackoverflow.com/questions/58820540/load-prebuilt-dynamic-libraries-from-flutter-plugin", "title": "Load prebuilt dynamic libraries from flutter plugin", "body": "<p>I'm trying to use my C++ library in a Flutter project. To do that I followed this guide <a href=\"https://flutter.dev/docs/development/platform-integration/c-interop\" rel=\"nofollow noreferrer\">https://flutter.dev/docs/development/platform-integration/c-interop</a> skipping the building from source part because in my case the lib is already built. </p>\n\n<p>I have my <code>librPPG.so</code> at the root of my project and when I attempt to load it in <code>./lib/rppg_plugin.dart</code> like so:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>final DynamicLibrary rPPGLib = Platform.isAndroid\n    ? DynamicLibrary.open(\"../librPPG.so\")\n    : DynamicLibrary.open(\"rPPG.framework/rPPG\");\n</code></pre>\n\n<p>I get thrown an error saying the lib is not found.</p>\n\n<p>My question is, therefore, where should I put the <code>.so</code> lib in the project folder so I can access it. Same question for IOS with the <code>.framework</code></p>\n\n<p>Cheers! \ud83d\ude42</p>\n\n<p>Edit:</p>\n\n<p>From the input of @igor here is my current status</p>\n\n<p><code>librPPG.so</code> in <code>android/src/main/jniLibs/</code></p>\n\n<p>in <code>android/build.gradle</code></p>\n\n<pre><code>android {\n    compileSdkVersion 28\n\n    externalNativeBuild {\n        cmake {\n            path \"CMakeLists.txt\"\n        }\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n        main.jniLibs.srcDirs += 'src/main/jniLibs'\n    }\n\n    defaultConfig {\n        externalNativeBuild {\n            cmake {\n            }\n        }\n        minSdkVersion 21\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    lintOptions {\n        disable 'InvalidPackage'\n    }\n}\n</code></pre>\n\n<p>in <code>android/CMakeLists.txt</code></p>\n\n<pre><code>cmake_minimum_required(VERSION 3.4.1)\n\nadd_library(librPPG SHARED IMPORTED )\nset_target_properties(librPPG PROPERTIES IMPORTED_LOCATION ${CMAKE_CURRENT_SOURCE_DIR}/src/main/jniLibs/librPPG.so)\n</code></pre>\n\n<p>and the library is loaded in my plugin like so:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>final DynamicLibrary rPPGLib = Platform.isAndroid\n    ? DynamicLibrary.open(\"librPPG.so\")\n    : DynamicLibrary.open(\"rPPG.framework/rPPG\");\n</code></pre>\n\n<p>when I run my code, I still get this error</p>\n\n<pre><code>ArgumentError (Invalid argument(s): Failed to load dynamic library (dlopen failed: library \"librPPG.so\" not found))\n</code></pre>\n"}, {"tags": ["flutter", "dart", "google-cloud-firestore", "widget", "future"], "comments": [{"owner": {"reputation": 2142, "user_id": 614659, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/3bac45fa9b4da356a1daf06690208ee6?s=128&d=identicon&r=PG", "display_name": "Logemann", "link": "https://stackoverflow.com/users/614659/logemann"}, "edited": false, "score": 0, "creation_date": 1573571163, "post_id": 58819755, "comment_id": 103919681, "body": "So you want to have the standard &quot;onboarding&quot; screens when the users enters your app? But then you cant ask the DB because at this point in time, you dont know the user yet. I ve chosen a different path. I write to the system.preferences the first time the user enters the app on the device and if nothing is written yet, i present the onboarding screens. If thats what you want, i can show you how...."}, {"owner": {"reputation": 1, "user_id": 12361220, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VFqNFtihT2U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfbEqbp8Y-B2en6KXUYP3_NVYf7MQ/photo.jpg?sz=128", "display_name": "Gerard O&#39;Rourke", "link": "https://stackoverflow.com/users/12361220/gerard-orourke"}, "reply_to_user": {"reputation": 2142, "user_id": 614659, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/3bac45fa9b4da356a1daf06690208ee6?s=128&d=identicon&r=PG", "display_name": "Logemann", "link": "https://stackoverflow.com/users/614659/logemann"}, "edited": false, "score": 0, "creation_date": 1573577413, "post_id": 58819755, "comment_id": 103923216, "body": "Thanks Marc. When the user registers I&#39;ve a cloud function that creates a user profile document, which has a field called &#39;welcomed&#39; defaulted to false. So after they authenticate and land on the &#39;account&#39; screen I&#39;d like to be able to query the db and direct them one way or the other. After they go through the welcome screens their profile is updated accordingly.  I&#39;ll have other areas of the application where I&#39;ll need to do db looks like this so I&#39;d prefer to use the query / future approach - but thanks all the same. I&#39;ll keep the system preferences in mind for other areas."}], "owner": {"reputation": 1, "user_id": 12361220, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VFqNFtihT2U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfbEqbp8Y-B2en6KXUYP3_NVYf7MQ/photo.jpg?sz=128", "display_name": "Gerard O&#39;Rourke", "link": "https://stackoverflow.com/users/12361220/gerard-orourke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1573569252, "creation_date": 1573565229, "last_edit_date": 1573569252, "question_id": 58819755, "link": "https://stackoverflow.com/questions/58819755/query-firestore-document-to-drive-a-widget-selection", "title": "Query firestore document to drive a widget selection", "body": "<p>I'm trying to check a user document in firebase so I can then determine which widget to show them. Basically, show them a welcome message first time they access the app.</p>\n\n<p>So I've been stumbling around with something like this. I know this isn't right but it the flow that I'm try to achieve.</p>\n\n<p>I suspect that I need to refactor to use a future (which I've tried with no success) but I can't figure out how to the get result of a future into a variable so that I can drive the logic.</p>\n\n<p>Any help would be appreciated.</p>\n\n<h3>db.dart</h3>\n\n<pre><code>userDetails(FirebaseUser user) async {\n\n final document = await _db.collection('users').document(user.uid).get(); \n final userObject = document.data;\n return (userObject);\n\n}\n</code></pre>\n\n<h3>profile.dart</h3>\n\n<pre><code>Widget build(BuildContext context) { \n\n final db = DatabaseService();\n var user = Provider.of&lt;FirebaseUser&gt;(context);\n\n var userdata = db.userDetails(user);\n var showWidget;\n\n if (!userdata.welcome){\n   showWidget = _profileScreen();\n }else{\n   showWidget = _welcomeScreen();\n }\n\n return Scaffold(\n   appBar: AppTopNav('User Profile').build(context),\n   body: showWidget,\n   bottomNavigationBar: AppBottomNav(),    \n );\n}\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5856820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/445894f67f14a42ccb8cf5ad5f038272?s=128&d=identicon&r=PG&f=1", "display_name": "Poudreuse", "link": "https://stackoverflow.com/users/5856820/poudreuse"}, "edited": false, "score": 0, "creation_date": 1573561576, "post_id": 58818593, "comment_id": 103914702, "body": "Sorry I should have been clearer: I have a variable &#39;laps&#39; that increment =+1 in a set state method, then I add the laps variable to the pomodoro key_value this way : _sauverPomo() async {     SharedPreferences prefs = await SharedPreferences.getInstance();     setState(() {       int pomodoro = (prefs.getInt(&#39;pomodoro&#39;) ?? 0);       pomodoro = pomodoro + laps;       prefs.setInt(&#39;pomodoro&#39;, pomodoro);     });   }"}], "tags": [], "owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "is_accepted": false, "score": 0, "last_activity_date": 1573561057, "creation_date": 1573561057, "answer_id": 58818593, "question_id": 58818536, "link": "https://stackoverflow.com/questions/58818536/set-state-function-on-a-key-value-shared-preferences-doesnt-work-for-displayi/58818593#58818593", "title": "Set state function on a key/value (shared_preferences) doesn&#39;t work for displaying the new value", "body": "<p>Where you do this: </p>\n\n<pre><code>_pomodoro += 1;\n</code></pre>\n\n<p>Convert it into this: </p>\n\n<pre><code>setState(() {\n  _pomodoro += 1;\n});\n</code></pre>\n\n<p>You also do not need to place the <code>prefs.setInt</code> in <code>setState</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 263, "user_id": 8884254, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sDNbhEb1JQE/AAAAAAAAAAI/AAAAAAAAFw8/IsbTd312RyU/photo.jpg?sz=128", "display_name": "Dhaval Patel", "link": "https://stackoverflow.com/users/8884254/dhaval-patel"}, "is_accepted": true, "score": 0, "last_activity_date": 1573561232, "creation_date": 1573561232, "answer_id": 58818639, "question_id": 58818536, "link": "https://stackoverflow.com/questions/58818536/set-state-function-on-a-key-value-shared-preferences-doesnt-work-for-displayi/58818639#58818639", "title": "Set state function on a key/value (shared_preferences) doesn&#39;t work for displaying the new value", "body": "<p>You can try below code:-</p>\n\n<pre><code>int pomodoro = 0;\n_savePomo() async {\n    SharedPreferences prefs = await SharedPreferences.getInstance();\n    await prefs.setInt('pomodoro', pomodoro);\n    pomodoro = await prefs.getInt('pomodoro');\n}\n</code></pre>\n\n<p>You can use pomodoro variable in Text widget like below:-</p>\n\n<pre><code>Text(\"It's your \" + pomodoro.toString() +\"th pomodoro !\");\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5856820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/445894f67f14a42ccb8cf5ad5f038272?s=128&d=identicon&r=PG&f=1", "display_name": "Poudreuse", "link": "https://stackoverflow.com/users/5856820/poudreuse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 58818639, "answer_count": 2, "score": 0, "last_activity_date": 1573561232, "creation_date": 1573560873, "question_id": 58818536, "link": "https://stackoverflow.com/questions/58818536/set-state-function-on-a-key-value-shared-preferences-doesnt-work-for-displayi", "title": "Set state function on a key/value (shared_preferences) doesn&#39;t work for displaying the new value", "body": "<p>I'm building a little pomodoro app with Flutter. I'm using the package shared_preferences to store a String and a Int.</p>\n\n<p>Everything is working fine (loading and saving), but I'm trying to automatically change the displaying of the Int value with SetState, which doesn't work. The displaying value only change when I reload the app.</p>\n\n<p>My saving method is :</p>\n\n<pre><code>_savePomo() async {\nSharedPreferences prefs = await SharedPreferences.getInstance();\nsetState(() {\n  prefs.setInt('pomodoro', pomodoro);\n});\n}\n</code></pre>\n\n<p>The method is called everytime the podomoro finish a cycle. Before calling the method I increment the pomodoro variable =+1.\nI'm showing the value like this :</p>\n\n<pre><code>Text(\"It's your \" + _pomodoro.toString() +\"th pomodoro !\");\n</code></pre>\n\n<p>Everything is happening in a stateful widget.</p>\n"}, {"tags": ["flutter", "dart", "switch-statement"], "comments": [{"owner": {"reputation": 1493, "user_id": 9981031, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2U1drKqppEE/AAAAAAAAAAI/AAAAAAAABE4/HtvBbYvJNo0/photo.jpg?sz=128", "display_name": "Vrushi Patel", "link": "https://stackoverflow.com/users/9981031/vrushi-patel"}, "edited": false, "score": 0, "creation_date": 1573558743, "post_id": 58817926, "comment_id": 103913194, "body": "try using 1...3"}], "answers": [{"tags": [], "owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "is_accepted": true, "score": 44, "last_activity_date": 1600862841, "last_edit_date": 1600862841, "creation_date": 1573558704, "answer_id": 58817942, "question_id": 58817926, "link": "https://stackoverflow.com/questions/58817926/switch-case-with-multiple-values-for-the-same-case/58817942#58817942", "title": "Switch case with multiple values for the same case", "body": "<p>Execution continues until it reaches a <code>break;</code>. Therefore, you can list cases one after the other to get the following code execute on either one of those cases.</p>\n<pre><code>String commentMark(int mark) {\n    switch (mark) {\n        case 0 : // Enter this block if mark == 0\n            return &quot;mark is 0&quot; ;\n        case 1:\n        case 2:\n        case 3: // Enter this block if mark == 1 or mark == 2 or mark == 3\n            return &quot;mark is either 1, 2 or 3&quot; ;\n        // etc.\n        default :\n            return &quot;mark is not 0, 1, 2 or 3&quot; ;\n    }\n}\n\n</code></pre>\n<p>The <code>return</code> statements above serve to get out of the function. If you do not want to <code>return</code>, you have to use <code>break;</code> after each block, of course. This code below is equivalent to the one above.</p>\n<pre><code>String commentMark(int mark) {\n    String msg;\n    switch (mark) {\n        case 0 : // Enter this block if mark == 0\n            msg = &quot;mark is 0&quot; ;\n            break;\n        case 1:\n        case 2:\n        case 3: // Enter this block if mark == 1 or mark == 2 or mark == 3\n            msg = &quot;mark is either 1, 2 or 3&quot; ;\n            break;\n        // etc.\n        default:\n            msg = &quot;mark is not 0, 1, 2 or 3&quot; ;\n            break; // this is a good habit, in case you change default to something else later.\n    }\n    return msg;\n}\n\n</code></pre>\n"}], "owner": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6505, "favorite_count": 0, "accepted_answer_id": 58817942, "answer_count": 1, "score": 19, "last_activity_date": 1600862841, "creation_date": 1573558649, "question_id": 58817926, "link": "https://stackoverflow.com/questions/58817926/switch-case-with-multiple-values-for-the-same-case", "title": "Switch case with multiple values for the same case", "body": "<p>I would like to know the syntax to set a multiple case statement in a switch / case.<br>\nFor example : </p>\n\n<pre><code>String commentMark(int mark) {\n    switch (mark) {\n        case 0 : // Enter this block if mark == 0\n            return \"Well that's bad\" ;\n        case 1, 2, 3 : // Enter this block if mark == 1 or mark == 2 or mark == 3\n            return \"Gods what happend\" ;\n        // etc.\n        default :\n            return \"At least you tried\" ;\n    }\n}\n</code></pre>\n\n<p>I cannot find the right syntax to set multiple case (the line <code>case 1, 2, 3 :</code>), is it even possible in Dart ?</p>\n\n<p>I did not found any informations on pub.dev documentation, neither on dart.dev.</p>\n\n<p>I tried :<br>\n    <code>case 1, 2, 3</code><br>\n    <code>case (1, 2, 3)</code><br>\n    <code>case (1 ; 2 ; 3)</code><br>\n    <code>case (1 : 2 : 3)</code><br>\n    <code>case 1 : 3</code><br>\nand more !</p>\n"}, {"tags": ["flutter", "text", "dart", "google-cloud-firestore"], "answers": [{"tags": [], "owner": {"reputation": 263, "user_id": 8884254, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sDNbhEb1JQE/AAAAAAAAAAI/AAAAAAAAFw8/IsbTd312RyU/photo.jpg?sz=128", "display_name": "Dhaval Patel", "link": "https://stackoverflow.com/users/8884254/dhaval-patel"}, "is_accepted": true, "score": 0, "last_activity_date": 1573559719, "creation_date": 1573559719, "answer_id": 58818185, "question_id": 58817454, "link": "https://stackoverflow.com/questions/58817454/how-can-i-build-conditions-through-widgets-when-streaming-data/58818185#58818185", "title": "How can i build conditions through widgets when streaming data?", "body": "<p>You can use like below code:-</p>\n\n<pre><code>String title = '';\nreturn Container(\n      child: Column(\n        children: &lt;Widget&gt;[\n          Text(title.isNotEmpty ? title : 'empty')\n        ],\n      ),\n);\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11047721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd098c7761fd2bd209dbde9d97b15551?s=128&d=identicon&r=PG&f=1", "display_name": "Keek", "link": "https://stackoverflow.com/users/11047721/keek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 58818185, "answer_count": 1, "score": 0, "last_activity_date": 1573569854, "creation_date": 1573556970, "last_edit_date": 1573569854, "question_id": 58817454, "link": "https://stackoverflow.com/questions/58817454/how-can-i-build-conditions-through-widgets-when-streaming-data", "title": "How can i build conditions through widgets when streaming data?", "body": "<p>I'm streaming a collection as snapshot from a firestore to my flutter project. How can i write inside a text widget e.g. 'empty' when the variable im looping doesn't exist in the collection?</p>\n\n<pre><code>child: Column(     \n    children: &lt;Widget&gt;[\n      if (title != null)\n        {\n          Text(\n            title,\n            ),\n          ),\n        }\n      else {\n        Text('empty'),\n</code></pre>\n"}, {"tags": ["flutter", "dart", "material-design", "flutter-layout"], "answers": [{"comments": [{"owner": {"reputation": 4516, "user_id": 5734205, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zUbjwE44mmU/AAAAAAAAAAI/AAAAAAAAAYA/ooNUZ4dCzfE/photo.jpg?sz=128", "display_name": "Ravinder Kumar", "link": "https://stackoverflow.com/users/5734205/ravinder-kumar"}, "edited": false, "score": 0, "creation_date": 1573624228, "post_id": 58824611, "comment_id": 103937602, "body": "Yes I know, I wish we could have declare this in MaterialApp, also new keyword is optional and discouraged by the <a href=\"https://dart.dev/guides/language/effective-dart/usage#dont-use-new\" rel=\"nofollow noreferrer\">Effective Dart guidelines</a>."}], "tags": [], "owner": {"reputation": 38, "user_id": 12362569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69d8d8efa6bb90feea51291754ff215e?s=128&d=identicon&r=PG&f=1", "display_name": "nordine enn", "link": "https://stackoverflow.com/users/12362569/nordine-enn"}, "is_accepted": false, "score": 1, "last_activity_date": 1573596644, "last_edit_date": 1573596644, "creation_date": 1573583288, "answer_id": 58824611, "question_id": 58817347, "link": "https://stackoverflow.com/questions/58817347/flutter-common-dark-and-light-theme-for-bottomnavigationbar-in-themedata/58824611#58824611", "title": "Flutter: Common Dark and Light theme for bottomNavigationBar in ThemeData", "body": "<p>you can use this code at </p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>bottomNavigationBar: new Theme(\n  data: Theme.of(context).copyWith(),  \n  child: new BottomNavigationBar(items: [  new BottomNavigationBarItem(),] ),\n\n)\n\n\n</code></pre>\n"}], "owner": {"reputation": 4516, "user_id": 5734205, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zUbjwE44mmU/AAAAAAAAAAI/AAAAAAAAAYA/ooNUZ4dCzfE/photo.jpg?sz=128", "display_name": "Ravinder Kumar", "link": "https://stackoverflow.com/users/5734205/ravinder-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1573634733, "creation_date": 1573556635, "last_edit_date": 1573634733, "question_id": 58817347, "link": "https://stackoverflow.com/questions/58817347/flutter-common-dark-and-light-theme-for-bottomnavigationbar-in-themedata", "title": "Flutter: Common Dark and Light theme for bottomNavigationBar in ThemeData", "body": "<p>I want to change unselectedItemColor and selectedItemColor color of bottomNavigationBar in both Dark and light theme mode.</p>\n\n<p>I want to have a common theme of bottomNavigationBar, But In ThemeData there is no property for bottomNavigationBar theme.</p>\n\n<p>Right now I am checking dark and light mode at run time like this, </p>\n\n<pre><code>var brightness = MediaQuery.of(context).platformBrightness;\n\nBottomNavigationBar(\n unselectedItemColor: brightness == Brightness.light\n                  ? AppColors.colorHint\n                  : Colors.white70,\n  selectedItemColor: brightness == Brightness.light\n                  ? AppColors.themeColor\n                  : AppColors.themeColor.shade200,\n);\n</code></pre>\n\n<p>But I Want to have dedicated BottomNavigationBar theme in my main.dart,\n<strong>Like I am declaring appBarTheme here, I want to declare BottomNavigationBar theme also for both Dark and Light mode.</strong></p>\n\n<pre><code>  ThemeData _buildDarkTheme() {\n    final ThemeData base = ThemeData(\n      brightness: Brightness.dark,\n      appBarTheme: AppBarTheme(\n          textTheme: TextTheme(title: AppStyle.titleDark)\n      ),\n\n    );\n    return base;\n  } \n\n  final ThemeData kLightTheme = _buildLightTheme();\n  final ThemeData kDarkTheme = _buildDarkTheme();\n\n   runApp(\n      MaterialApp(\n      theme: kLightTheme,\n      darkTheme: kDarkTheme,\n      ) \n    );\n</code></pre>\n"}, {"tags": ["json", "serialization", "flutter", "dart", "deserialization"], "owner": {"reputation": 161, "user_id": 10573031, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wxr04BG7mSE/AAAAAAAAAAI/AAAAAAAAAMw/uo-K-wWSpjY/photo.jpg?sz=128", "display_name": "Allen Andre Indefenzo", "link": "https://stackoverflow.com/users/10573031/allen-andre-indefenzo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 230, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1573555933, "creation_date": 1573555933, "question_id": 58817134, "link": "https://stackoverflow.com/questions/58817134/how-do-i-deserialize-an-array-from-firebase-cloud-firestore-if-i-already-have-a", "title": "How Do I deserialize an array from Firebase Cloud Firestore if I already have a Json deserialization from the API call (flutter/dart)", "body": "<p>I have this API call wherein I ask Nutritionix(API provider) for food data given a search of food name. I've already finished my JSON deserialization, however I had to serialize some parts of the response(not all) so I can put it in my database, but when I try to deserialize the Firebase data so my user can use it in my application. (Use Case is when a user force-quits the application, all locally stored variables will get cleared, thus upon launch of application I check if there is already a record in the db that the user has already logged food for breakfast/lunch/dinner today, thus just showing the saved food log in the db) </p>\n\n<p>Here is what the response looks like:</p>\n\n<pre><code>{\n    \"foods\": [\n        {\n            \"food_name\": \"cheeseburger\",\n            \"brand_name\": null,\n            \"serving_qty\": 1,\n            \"serving_unit\": \"item\",\n            \"serving_weight_grams\": 199,\n            \"nf_calories\": 535.31,\n            \"nf_total_fat\": 28.66,\n            \"nf_saturated_fat\": 14,\n            \"nf_cholesterol\": 95.52,\n            \"nf_sodium\": 1176.09,\n            \"nf_total_carbohydrate\": 39.24,\n            \"nf_dietary_fiber\": 2.39,\n            \"nf_sugars\": 7.16,\n            \"nf_protein\": 30.27,\n            \"nf_potassium\": 443.77,\n            \"nf_p\": 364.17,\n            \"full_nutrients\": [\n                {\n                    \"attr_id\": 203,\n                    \"value\": 30.2679\n                },\n                {\n                    \"attr_id\": 204,\n                    \"value\": 28.656\n                },\n                {\n                    \"attr_id\": 205,\n                    \"value\": 39.2428\n                },\n                {\n                    \"attr_id\": 207,\n                    \"value\": 4.5969\n                },\n                {\n                    \"attr_id\": 208,\n                    \"value\": 535.31\n                },\n                {\n                    \"attr_id\": 209,\n                    \"value\": 25.87\n                },\n                {\n                    \"attr_id\": 210,\n                    \"value\": 0.2985\n                },\n                {\n                    \"attr_id\": 211,\n                    \"value\": 1.8507\n                },\n                {\n                    \"attr_id\": 212,\n                    \"value\": 2.5671\n                },\n                {\n                    \"attr_id\": 213,\n                    \"value\": 0.9353\n                },\n                {\n                    \"attr_id\": 214,\n                    \"value\": 1.5124\n                },\n                {\n                    \"attr_id\": 221,\n                    \"value\": 0\n                },\n                {\n                    \"attr_id\": 255,\n                    \"value\": 96.2364\n                },\n                {\n                    \"attr_id\": 262,\n                    \"value\": 0\n                },\n                {\n                    \"attr_id\": 263,\n                    \"value\": 0\n                },\n                {\n                    \"attr_id\": 268,\n                    \"value\": 2242.73\n                },\n                {\n                    \"attr_id\": 269,\n                    \"value\": 7.164\n                },\n                {\n                    \"attr_id\": 291,\n                    \"value\": 2.388\n                },\n                {\n                    \"attr_id\": 301,\n                    \"value\": 356.21\n                },\n                {\n                    \"attr_id\": 303,\n                    \"value\": 2.0298\n                },\n                {\n                    \"attr_id\": 304,\n                    \"value\": 51.74\n                },\n                {\n                    \"attr_id\": 305,\n                    \"value\": 364.17\n                },\n                {\n                    \"attr_id\": 306,\n                    \"value\": 443.77\n                },\n                {\n                    \"attr_id\": 307,\n                    \"value\": 1176.09\n                },\n                {\n                    \"attr_id\": 309,\n                    \"value\": 5.6317\n                },\n                {\n                    \"attr_id\": 312,\n                    \"value\": 0.1493\n                },\n                {\n                    \"attr_id\": 315,\n                    \"value\": 0.3244\n                },\n                {\n                    \"attr_id\": 317,\n                    \"value\": 49.153\n                },\n                {\n                    \"attr_id\": 318,\n                    \"value\": 471.63\n                },\n                {\n                    \"attr_id\": 319,\n                    \"value\": 93.53\n                },\n                {\n                    \"attr_id\": 320,\n                    \"value\": 101.49\n                },\n                {\n                    \"attr_id\": 321,\n                    \"value\": 93.53\n                },\n                {\n                    \"attr_id\": 322,\n                    \"value\": 1.99\n                },\n                {\n                    \"attr_id\": 323,\n                    \"value\": 0.398\n                },\n                {\n                    \"attr_id\": 324,\n                    \"value\": 5.97\n                },\n                {\n                    \"attr_id\": 328,\n                    \"value\": 0.199\n                },\n                {\n                    \"attr_id\": 334,\n                    \"value\": 3.98\n                },\n                {\n                    \"attr_id\": 337,\n                    \"value\": 1611.9\n                },\n                {\n                    \"attr_id\": 338,\n                    \"value\": 33.83\n                },\n                {\n                    \"attr_id\": 341,\n                    \"value\": 5.4924\n                },\n                {\n                    \"attr_id\": 342,\n                    \"value\": 0.6368\n                },\n                {\n                    \"attr_id\": 343,\n                    \"value\": 0.1194\n                },\n                {\n                    \"attr_id\": 345,\n                    \"value\": 0\n                },\n                {\n                    \"attr_id\": 346,\n                    \"value\": 0\n                },\n                {\n                    \"attr_id\": 347,\n                    \"value\": 0\n                },\n                {\n                    \"attr_id\": 401,\n                    \"value\": 0.597\n                },\n                {\n                    \"attr_id\": 404,\n                    \"value\": 0.2368\n                },\n                {\n                    \"attr_id\": 405,\n                    \"value\": 0.5174\n                },\n                {\n                    \"attr_id\": 406,\n                    \"value\": 8.0595\n                },\n                {\n                    \"attr_id\": 410,\n                    \"value\": 1.1741\n                },\n                {\n                    \"attr_id\": 415,\n                    \"value\": 0.1851\n                },\n                {\n                    \"attr_id\": 417,\n                    \"value\": 31.84\n                },\n                {\n                    \"attr_id\": 418,\n                    \"value\": 3.4825\n                },\n                {\n                    \"attr_id\": 421,\n                    \"value\": 75.023\n                },\n                {\n                    \"attr_id\": 429,\n                    \"value\": 0\n                },\n                {\n                    \"attr_id\": 430,\n                    \"value\": 8.756\n                },\n                {\n                    \"attr_id\": 431,\n                    \"value\": 23.88\n                },\n                {\n                    \"attr_id\": 432,\n                    \"value\": 7.96\n                },\n                {\n                    \"attr_id\": 435,\n                    \"value\": 47.76\n                },\n                {\n                    \"attr_id\": 601,\n                    \"value\": 95.52\n                },\n                {\n                    \"attr_id\": 606,\n                    \"value\": 13.9957\n                },\n                {\n                    \"attr_id\": 607,\n                    \"value\": 0.3861\n                },\n                {\n                    \"attr_id\": 608,\n                    \"value\": 0.1313\n                },\n                {\n                    \"attr_id\": 609,\n                    \"value\": 0.0975\n                },\n                {\n                    \"attr_id\": 610,\n                    \"value\": 0.2149\n                },\n                {\n                    \"attr_id\": 611,\n                    \"value\": 0.2527\n                },\n                {\n                    \"attr_id\": 612,\n                    \"value\": 1.4428\n                },\n                {\n                    \"attr_id\": 613,\n                    \"value\": 7.2177\n                },\n                {\n                    \"attr_id\": 614,\n                    \"value\": 3.7651\n                },\n                {\n                    \"attr_id\": 615,\n                    \"value\": 0.0398\n                },\n                {\n                    \"attr_id\": 617,\n                    \"value\": 10.6306\n                },\n                {\n                    \"attr_id\": 618,\n                    \"value\": 2.0079\n                },\n                {\n                    \"attr_id\": 619,\n                    \"value\": 0.2527\n                },\n                {\n                    \"attr_id\": 620,\n                    \"value\": 0.0577\n                },\n                {\n                    \"attr_id\": 621,\n                    \"value\": 0\n                },\n                {\n                    \"attr_id\": 624,\n                    \"value\": 0\n                },\n                {\n                    \"attr_id\": 625,\n                    \"value\": 0.2149\n                },\n                {\n                    \"attr_id\": 626,\n                    \"value\": 0.9174\n                },\n                {\n                    \"attr_id\": 627,\n                    \"value\": 0.1552\n                },\n                {\n                    \"attr_id\": 628,\n                    \"value\": 0.0975\n                },\n                {\n                    \"attr_id\": 629,\n                    \"value\": 0\n                },\n                {\n                    \"attr_id\": 630,\n                    \"value\": 0\n                },\n                {\n                    \"attr_id\": 631,\n                    \"value\": 0\n                },\n                {\n                    \"attr_id\": 645,\n                    \"value\": 11.8584\n                },\n                {\n                    \"attr_id\": 646,\n                    \"value\": 2.5154\n                },\n                {\n                    \"attr_id\": 652,\n                    \"value\": 0.1751\n                },\n                {\n                    \"attr_id\": 653,\n                    \"value\": 0.2726\n                },\n                {\n                    \"attr_id\": 654,\n                    \"value\": 0\n                },\n                {\n                    \"attr_id\": 672,\n                    \"value\": 0\n                },\n                {\n                    \"attr_id\": 687,\n                    \"value\": 0\n                },\n                {\n                    \"attr_id\": 689,\n                    \"value\": 0.0398\n                },\n                {\n                    \"attr_id\": 697,\n                    \"value\": 0\n                }\n            ],\n            \"nix_brand_name\": null,\n            \"nix_brand_id\": null,\n            \"nix_item_name\": null,\n            \"nix_item_id\": null,\n            \"upc\": null,\n            \"consumed_at\": \"2019-11-12T10:40:37+00:00\",\n            \"metadata\": {\n                \"is_raw_food\": false\n            },\n            \"source\": 1,\n            \"ndb_no\": 21398,\n            \"tags\": {\n                \"item\": \"cheeseburger\",\n                \"measure\": null,\n                \"quantity\": \"1.0\",\n                \"food_group\": 8,\n                \"tag_id\": 445\n            },\n            \"alt_measures\": [\n                {\n                    \"serving_weight\": 199,\n                    \"measure\": \"item\",\n                    \"seq\": 1,\n                    \"qty\": 1\n                },\n                {\n                    \"serving_weight\": 100,\n                    \"measure\": \"g\",\n                    \"seq\": null,\n                    \"qty\": 100\n                },\n                {\n                    \"serving_weight\": 28.3495,\n                    \"measure\": \"wt. oz\",\n                    \"seq\": null,\n                    \"qty\": 1\n                }\n            ],\n            \"lat\": null,\n            \"lng\": null,\n            \"meal_type\": 1,\n            \"photo\": {\n                \"thumb\": \"https://d2xdmhkmkbyw75.cloudfront.net/445_thumb.jpg\",\n                \"highres\": \"https://d2xdmhkmkbyw75.cloudfront.net/445_highres.jpg\",\n                \"is_user_uploaded\": false\n            },\n            \"sub_recipe\": null\n        }\n    ]\n}\n</code></pre>\n\n<p>Here is my Deserialization model and Serialization model so I can put it in my cloud_firestore db:</p>\n\n<pre><code>class Nutritionix {\n  List&lt;Food&gt; food;\n  Nutritionix({this.food});\n\n  factory Nutritionix.fromJson(Map&lt;String, dynamic&gt; parsedJson) {\n    var list = parsedJson['foods'] as List;\n    List&lt;Food&gt; foodList = list.map((i) =&gt; Food.fromJson(i)).toList();\n\n    return Nutritionix(food: foodList);\n  }\n}\n\nclass Food {\n  String foodName;\n  double servingQuantity;\n  double serving_weight;\n  double calories;\n  double totalFat;\n  double saturatedFat;\n  double cholesterol;\n  double sodium;\n  double totalCarbohydrate;\n  double dietaryFiber;\n  double sugar;\n  double protein;\n  double potassium;\n  double phospate;\n  List&lt;Nutrients&gt; nutrients;\n  Photo photo;\n\n  Food(\n      {this.foodName,\n      this.servingQuantity,\n      this.serving_weight,\n      this.calories,\n      this.totalFat,\n      this.saturatedFat,\n      this.cholesterol,\n      this.sodium,\n      this.totalCarbohydrate,\n      this.dietaryFiber,\n      this.sugar,\n      this.protein,\n      this.potassium,\n      this.phospate,\n      this.nutrients,\n      this.photo});\n\n  factory Food.fromJson(Map&lt;String, dynamic&gt; parsedJson) {\n    var list = parsedJson['full_nutrients'] as List;\n    List&lt;Nutrients&gt; nutrientsList =\n        list.map((i) =&gt; Nutrients.fromJson(i)).toList();\n\n    //TODO: FIX ALL IF NULL AND ADD OTHER SERVING SIZES\n    return Food(\n        foodName: parsedJson['food_name'],\n        servingQuantity: parsedJson['serving_qty'].toDouble(),\n        serving_weight: parsedJson['serving_weight_grams'] != null\n            ? parsedJson['serving_weight_grams'].toDouble()\n            : 0,\n        calories: parsedJson['nf_calories'] != null\n            ? parsedJson['nf_calories'].toDouble()\n            : 0,\n        totalFat: parsedJson['nf_total_fat'] != null\n            ? parsedJson['nf_total_fat'].toDouble()\n            : 0,\n        saturatedFat: parsedJson['nf_saturated_fat'] != null\n            ? parsedJson['nf_saturated_fat'].toDouble()\n            : 0,\n        cholesterol: parsedJson['nf_cholesterol'] != null\n            ? parsedJson['nf_cholesterol'].toDouble()\n            : 0,\n        sodium: parsedJson['nf_sodium'] != null\n            ? parsedJson['nf_sodium'].toDouble()\n            : 0,\n        totalCarbohydrate: parsedJson['nf_total_carbohydrate'] != null\n            ? parsedJson['nf_total_carbohydrate'].toDouble()\n            : 0,\n        dietaryFiber: parsedJson['nf_dietary_fiber'] != null\n            ? parsedJson['nf_dietary_fiber'].toDouble()\n            : 0,\n        sugar: parsedJson['nf_sugars'] != null\n            ? parsedJson['nf_sugars'].toDouble()\n            : 0,\n        protein: parsedJson['nf_protein'] != null\n            ? parsedJson['nf_protein'].toDouble()\n            : 0,\n        potassium: parsedJson['nf_protein'] != null\n            ? parsedJson['nf_potassium'].toDouble()\n            : 0,\n        phospate:\n            parsedJson['nf_p'] != null ? parsedJson['nf_p'].toDouble() : 0,\n        nutrients: nutrientsList,\n        photo: Photo.fromJson(parsedJson['photo']));\n  }\n\n  //JSON SERIALIZATION SO I CAN INPUT IT IN MY DB\n  Map&lt;String, dynamic&gt; toJson() {\n    return {\n      \"foodName\": foodName,\n      \"servingQuantity\": servingQuantity,\n      \"serving_weight\": serving_weight,\n      \"calories\": calories,\n      \"totalFat\": totalFat,\n      \"saturatedFat\": saturatedFat,\n      \"cholesterol\": cholesterol,\n      \"sodium\": sodium,\n      \"totalCarbohydrate\": totalCarbohydrate,\n      \"dietaryFiber\": dietaryFiber,\n      \"sugar\": sugar,\n      \"protein\": protein,\n      \"potassium\": potassium,\n      \"phospate\": phospate,\n      \"photo\": photo.toJson()\n    };\n  }\n}\n\nclass Nutrients {\n  int attributeID;\n  double value;\n  Nutrients({this.attributeID, this.value});\n\n  factory Nutrients.fromJson(Map&lt;String, dynamic&gt; parsedJson) {\n    return Nutrients(\n        attributeID: parsedJson['attr_id'],\n        value: parsedJson['value'].toDouble());\n  }\n}\n\nclass Photo {\n  String thumbnail;\n  String highRes;\n\n  Photo({this.highRes, this.thumbnail});\n\n  factory Photo.fromJson(Map&lt;String, dynamic&gt; parsedJson) {\n    return Photo(\n        highRes: parsedJson['thumbnail'], thumbnail: parsedJson['thumb']);\n  }\n\n  Map&lt;String, dynamic&gt; toJson(){\n    return{\n      \"highRes\": highRes,\n      \"thumbnail\": thumbnail\n    };\n  }\n}\n\n</code></pre>\n\n<p>While here is my code for getting the document(s):</p>\n\n<pre><code>  void checkMealsList() async {\n    final mUserData = Provider.of&lt;UserData&gt;(context);\n    final userLoggedin = mUserData.mUData;\n    int index = userLoggedin.length - 1;\n    List&lt;MealsListData&gt; mealEntry = MealsListData.mealEntry;\n    print('im inside the checkmealslistfunc');\n    var breakfastDocument = await Firestore.instance\n        .collection('users')\n        .document(mUser.uid)\n        .collection('food')\n        .document(DateFormat.yMMMd().format(today))\n        .collection('Breakfast');\n\n    breakfastDocument.getDocuments().then((QuerySnapshot query) {\n      query.documents.forEach((f) {\n        print(f.data);\n          //EDITING THE INDEX OF A LIST GIVEN A CONDITION\n        var newEntry = mealEntry.firstWhere((id) =&gt; id.id == f.data['id'], orElse: null);\n        if (newEntry!= null){\n          newEntry.meals = f.data['meals'];\n          print(newEntry.meals);\n          newEntry.mealType = f.data['mealType'];\n          print(newEntry.mealType);\n          newEntry.nutritionix = Nutritionix.fromJson(f.data['nutritionixData']);\n         // print('this is ${newEntry.nutritionix.food[0].protein}');\n        }\n      });\n    });//.catchError((onError) =&gt; onError);\n  }\n</code></pre>\n\n<p>The error I'm getting is this: </p>\n\n<pre><code>E/flutter ( 8204): #3      _rootRunUnary  (dart:async/zone.dart:1132:38)\nE/flutter ( 8204): #4      _CustomZone.runUnary  (dart:async/zone.dart:1029:19)\nE/flutter ( 8204): #5      _FutureListener.handleValue  (dart:async/future_impl.dart:137:18)\nE/flutter ( 8204): #6      Future._propagateToListeners.handleValueCallback  (dart:async/future_impl.dart:678:45)\nE/flutter ( 8204): #7      Future._propagateToListeners  (dart:async/future_impl.dart:707:32)\nE/flutter ( 8204): #8      Future._completeWithValue  (dart:async/future_impl.dart:522:5)\nE/flutter ( 8204): #9      _AsyncAwaitCompleter.complete  (dart:async-patch/async_patch.dart:30:15)\nE/flutter ( 8204): #10     _completeOnAsyncReturn  (dart:async-patch/async_patch.dart:288:13)\nE/flutter ( 8204): #11     Query.getDocuments (package:cloud_firestore/src/query.dart)\nE/flutter ( 8204): &lt;asynchronous suspension&gt;\nE/flutter ( 8204): #12     _FitnessAppHomeScreenState.checkMealsList \n</code></pre>\n\n<p>Is there a problem with my Serialization method? Or should I make a separate deserialization for my Firebase records? Any help would be appreciated! :)</p>\n"}, {"tags": ["flutter", "dart", "dialog"], "comments": [{"owner": {"reputation": 1493, "user_id": 9981031, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2U1drKqppEE/AAAAAAAAAAI/AAAAAAAABE4/HtvBbYvJNo0/photo.jpg?sz=128", "display_name": "Vrushi Patel", "link": "https://stackoverflow.com/users/9981031/vrushi-patel"}, "edited": false, "score": 1, "creation_date": 1573553055, "post_id": 58815932, "comment_id": 103910341, "body": "You can get <code>provider</code> by this <code>Provider.of&lt;&gt;(context)</code>. Which you have already mentioned . So what is your question?"}, {"owner": {"reputation": 357, "user_id": 11210371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c34fd31d716a20dadfc32ae1d089163?s=128&d=identicon&r=PG&f=1", "display_name": "SimonartM", "link": "https://stackoverflow.com/users/11210371/simonartm"}, "reply_to_user": {"reputation": 1493, "user_id": 9981031, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2U1drKqppEE/AAAAAAAAAAI/AAAAAAAABE4/HtvBbYvJNo0/photo.jpg?sz=128", "display_name": "Vrushi Patel", "link": "https://stackoverflow.com/users/9981031/vrushi-patel"}, "edited": false, "score": 0, "creation_date": 1573553286, "post_id": 58815932, "comment_id": 103910474, "body": "@Vrushi Patel Indeed, now it works, though maybe there is another way of reaching the context - of the widget calling the showGeneralDialog() - in the CustomWidget, other than passing it along as an argument to the CustomWidget. Maybe there isn&#39;t and my update is the only and correct answer."}, {"owner": {"reputation": 357, "user_id": 11210371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c34fd31d716a20dadfc32ae1d089163?s=128&d=identicon&r=PG&f=1", "display_name": "SimonartM", "link": "https://stackoverflow.com/users/11210371/simonartm"}, "reply_to_user": {"reputation": 1493, "user_id": 9981031, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2U1drKqppEE/AAAAAAAAAAI/AAAAAAAABE4/HtvBbYvJNo0/photo.jpg?sz=128", "display_name": "Vrushi Patel", "link": "https://stackoverflow.com/users/9981031/vrushi-patel"}, "edited": false, "score": 0, "creation_date": 1573553634, "post_id": 58815932, "comment_id": 103910679, "body": "@Vrushi Patel, I removed the update and put it as a possible answer"}], "answers": [{"tags": [], "owner": {"reputation": 357, "user_id": 11210371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c34fd31d716a20dadfc32ae1d089163?s=128&d=identicon&r=PG&f=1", "display_name": "SimonartM", "link": "https://stackoverflow.com/users/11210371/simonartm"}, "is_accepted": true, "score": 1, "last_activity_date": 1573553492, "creation_date": 1573553492, "answer_id": 58816405, "question_id": 58815932, "link": "https://stackoverflow.com/questions/58815932/flutter-showgeneraldialog-does-not-share-a-context-with-the-location-that-showg/58816405#58816405", "title": "Flutter: showGeneralDialog does not share a context with the location that showGeneralDialog is originally called from", "body": "<p>I did manage to pass the context, by doing so:</p>\n\n<pre><code>  void _showSignOutAlert(BuildContext superContext) {\n    showGeneralDialog(\n      barrierColor: Colors.black.withOpacity(0.5),\n      transitionBuilder: (context, a1, a2, widget) {\n        return Transform.scale(\n          scale: a1.value,\n          child: Opacity(\n            opacity: a1.value,\n            child: CustomWidget(superContext: superContext),\n          ),\n        );\n      },\n      transitionDuration: Duration(milliseconds: 250),\n      barrierDismissible: true,\n      context: superContext,\n      pageBuilder: (context, animation1, animation2) {\n        return null;\n      },\n    );\n  }\n</code></pre>\n\n<p>And then using the superContext in the CustomWidget to call <code>Provider.of&lt;State&gt;(superContext)</code></p>\n\n<p>But if anyone has another solution, I'd gladly hear it</p>\n"}], "owner": {"reputation": 357, "user_id": 11210371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c34fd31d716a20dadfc32ae1d089163?s=128&d=identicon&r=PG&f=1", "display_name": "SimonartM", "link": "https://stackoverflow.com/users/11210371/simonartm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1078, "favorite_count": 0, "accepted_answer_id": 58816405, "answer_count": 1, "score": 2, "last_activity_date": 1573553492, "creation_date": 1573551964, "last_edit_date": 1592644375, "question_id": 58815932, "link": "https://stackoverflow.com/questions/58815932/flutter-showgeneraldialog-does-not-share-a-context-with-the-location-that-showg", "title": "Flutter: showGeneralDialog does not share a context with the location that showGeneralDialog is originally called from", "body": "<h3>Problem:</h3>\n<p>My showGeneralDialog-creation method looks like this:\n(I'm animating the onShow and onPop of the dialog, that's why I use the transitionbuilder instead of the pagebuilder)</p>\n<pre><code>  void _showSignOutAlert(BuildContext context) {\n    showGeneralDialog(\n      barrierColor: Colors.black.withOpacity(0.5),\n      transitionBuilder: (context, a1, a2, widget) {\n        return Transform.scale(\n          scale: a1.value,\n          child: Opacity(\n            opacity: a1.value,\n            child: CustomWidget(),\n          ),\n        );\n      },\n      transitionDuration: Duration(milliseconds: 250),\n      barrierDismissible: true,\n      context: context,\n      pageBuilder: (context, animation1, animation2) {\n        return null;\n      },\n    );\n  }\n\n</code></pre>\n<p>I'm calling <code>_showSignOutAlert()</code> from a StatelessWidget passing along the StatelessWidget-context in the parameter.</p>\n<p>I'm using the Provider-package and defined the ChangeNotifierProvider-builder above the StatelessWidget which calls the <code>_showSignOutAlert()</code></p>\n<p>When trying to access the Provider from the <code>CustomWidget</code> created by <code>showGeneralDialog()</code>, it's says it couldn't find the Provider.</p>\n<p><em>From the flutter docs about showGeneralDialog():</em></p>\n<blockquote>\n<p>This function takes a pageBuilder which is used to build the primary content of the route (typically a dialog widget). Content below the dialog is dimmed with a [ModalBarrier]. The widget returned by the pageBuilder does not share a context with the location that showGeneralDialog is originally called from. Use a [StatefulBuilder] or a custom [StatefulWidget] if the dialog needs to update dynamically. The pageBuilder argument can not be null.</p>\n</blockquote>\n<h3>Question:</h3>\n<p>I don't really get how I should proceed to be able to access the Provider from the <code>CustomWidget</code>?</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 11916464, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-duh0LE5GIbU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc0b4VnY5hhQuaKC36OgJ6tmjPiGA/photo.jpg?sz=128", "display_name": "HARISH", "link": "https://stackoverflow.com/users/11916464/harish"}, "edited": false, "score": 0, "creation_date": 1573552839, "post_id": 58816034, "comment_id": 103910216, "body": "Hi, Thanks for sharing knowledge. It worked as expected!"}, {"owner": {"reputation": 99, "user_id": 11916464, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-duh0LE5GIbU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc0b4VnY5hhQuaKC36OgJ6tmjPiGA/photo.jpg?sz=128", "display_name": "HARISH", "link": "https://stackoverflow.com/users/11916464/harish"}, "edited": false, "score": 0, "creation_date": 1573563890, "post_id": 58816034, "comment_id": 103915962, "body": "hi, it worked perfectly for the android, but for iOS it still  the same, is there any change needed for  iOS platform"}, {"owner": {"reputation": 3890, "user_id": 3626078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/SBXjb.jpg?s=128&g=1", "display_name": "magicleon94", "link": "https://stackoverflow.com/users/3626078/magicleon94"}, "reply_to_user": {"reputation": 99, "user_id": 11916464, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-duh0LE5GIbU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc0b4VnY5hhQuaKC36OgJ6tmjPiGA/photo.jpg?sz=128", "display_name": "HARISH", "link": "https://stackoverflow.com/users/11916464/harish"}, "edited": false, "score": 0, "creation_date": 1573566249, "post_id": 58816034, "comment_id": 103917262, "body": "Not that I know. Are you using CupertinoApp or MaterialApp?"}, {"owner": {"reputation": 99, "user_id": 11916464, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-duh0LE5GIbU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc0b4VnY5hhQuaKC36OgJ6tmjPiGA/photo.jpg?sz=128", "display_name": "HARISH", "link": "https://stackoverflow.com/users/11916464/harish"}, "edited": false, "score": 1, "creation_date": 1573635451, "post_id": 58816034, "comment_id": 103942063, "body": "hi, Its working now, I forgot to add the code where I am checking if the platform is iOS, thats why it was not working for the iOS. Thanks!"}], "tags": [], "owner": {"reputation": 3890, "user_id": 3626078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/SBXjb.jpg?s=128&g=1", "display_name": "magicleon94", "link": "https://stackoverflow.com/users/3626078/magicleon94"}, "is_accepted": true, "score": 2, "last_activity_date": 1573552261, "creation_date": 1573552261, "answer_id": 58816034, "question_id": 58815642, "link": "https://stackoverflow.com/questions/58815642/logout-button-just-adding-a-new-page-on-top-of-the-current-page-in-flutter/58816034#58816034", "title": "Logout button just adding a new page on top of the current page in flutter", "body": "<p>You need to completely clear the stack and not just replace the top of it.</p>\n\n<p>You can do this way:</p>\n\n<pre><code>Navigator.of(context)\n  .pushAndRemoveUntil(\n    CupertinoPageRoute(\n      builder: (context) =&gt; LoginPage()\n    ),\n  (_) =&gt; false,\n);\n</code></pre>\n\n<p>The second argument is the condition which stops the popping when it returns true.</p>\n\n<p>By making it return always false you'll pop the rest of the stack, keeping only the current route.</p>\n"}, {"comments": [{"owner": {"reputation": 99, "user_id": 11916464, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-duh0LE5GIbU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc0b4VnY5hhQuaKC36OgJ6tmjPiGA/photo.jpg?sz=128", "display_name": "HARISH", "link": "https://stackoverflow.com/users/11916464/harish"}, "edited": false, "score": 0, "creation_date": 1573563825, "post_id": 58816578, "comment_id": 103915922, "body": "Hi Khalil , Thank you for sharing , definitely I will go through that"}], "tags": [], "owner": {"reputation": 163, "user_id": 9874190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tkp9l.jpg?s=128&g=1", "display_name": "Khalil Khalil", "link": "https://stackoverflow.com/users/9874190/khalil-khalil"}, "is_accepted": false, "score": 0, "last_activity_date": 1573554099, "creation_date": 1573554099, "answer_id": 58816578, "question_id": 58815642, "link": "https://stackoverflow.com/questions/58815642/logout-button-just-adding-a-new-page-on-top-of-the-current-page-in-flutter/58816578#58816578", "title": "Logout button just adding a new page on top of the current page in flutter", "body": "<p>Hy Harish,</p>\n\n<p>to switch between the pages after logging in, i would use <code>provider</code>.</p>\n\n<p>Step to step:</p>\n\n<p>\u25b6 Install Provider in your app <code>pubspec.yaml</code> file</p>\n\n<pre><code>dependencies:\n  path_provider: ^3.1.0+1 // install the last version\n</code></pre>\n\n<p>for more info's about this package <a href=\"https://pub.dev/packages/provider#-readme-tab-\" rel=\"nofollow noreferrer\">here</a>.\n<br><br><br>\n\u25b6 Make a new dart file named up to you, as example logging_provider.dart, write in that some thing like this code:</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nclass LoggingProvider with ChangeNotifier{\n\n  final bool isLoggedin = false;\n\n  LoggingProvider(this.isLoggedin);\n\n  setRegistrationStatus(bool status){\n    isLoggedin = status;\n    notifyListeners();\n  }\n}\n</code></pre>\n\n<p><br><br>\n\u25b6 Add provider to your main class in the main.dart file:</p>\n\n<pre><code>class MyApp extends StatelessWidget{\n  @override\n  Widget build(BuildContext context) {\n    return MultiProvider(\n      providers: [\n        ChangeNotifierProvider&lt; LoggingProvider &gt;(\n          builder: (_) =&gt; LoggingProvider(true), // here you can give him a status before abb is complied\n        ),\n      ],\n      child: MaterialApp(\n        home: Provider.of&lt; LoggingProvider &gt;(context).isLoggedin? // if isLoggedin setted as true show Home else show LoginPage\n                                                        HomePage() : // as example\n                                                        LoginPage(),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p><br><br>\n\u25b6 Set the login status from your logout button like:</p>\n\n<pre><code> FlatButton(\n  onPressed: () =&gt; Provider.of&lt;LoggingProvider&gt;(context).setRegistrationStatus(false),\n  ...\n</code></pre>\n\n<p><br><br>\nI hope I could help you with this mini examples of code.</p>\n"}], "owner": {"reputation": 99, "user_id": 11916464, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-duh0LE5GIbU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc0b4VnY5hhQuaKC36OgJ6tmjPiGA/photo.jpg?sz=128", "display_name": "HARISH", "link": "https://stackoverflow.com/users/11916464/harish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 978, "favorite_count": 0, "accepted_answer_id": 58816034, "answer_count": 2, "score": 0, "last_activity_date": 1573554099, "creation_date": 1573550924, "last_edit_date": 1573551368, "question_id": 58815642, "link": "https://stackoverflow.com/questions/58815642/logout-button-just-adding-a-new-page-on-top-of-the-current-page-in-flutter", "title": "Logout button just adding a new page on top of the current page in flutter", "body": "<p>I have a profile page in my app , there a logout button once clicked on that i am displaying the login page. </p>\n\n<p>my code is like this,</p>\n\n<pre><code> FlatButton(\n                    onPressed: () {\n                      setState(() {\n                        token = null;\n                      });\n\n                      Navigator.of(context).pushReplacement(CupertinoPageRoute(\n                        builder: (context) =&gt; LoginPage()\n\n                      ));\n\n                    },\n                    child: Text(\n                      Logout,\n                      style: TextStyle(color: Colors.red),\n                    ),\n                  ),\n</code></pre>\n\n<p>but its just adding a login page on top of the current page. so if I dragged the screen from left to right its going back to the profile page how to fix this.</p>\n\n<p>have a look on this</p>\n\n<p><a href=\"https://i.stack.imgur.com/Gp78g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gp78g.png\" alt=\"this\"></a></p>\n\n<p>Thanks</p>\n"}, {"tags": ["datetime", "flutter", "dart", "format", "flutter-layout"], "comments": [{"owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "edited": false, "score": 1, "creation_date": 1573568283, "post_id": 58815575, "comment_id": 103918086, "body": "<code>DateTime</code> has a <code>.toIso8601String()</code> method, but it does print the fractional seconds. Try <code>print(DateTime.now().toUtc().toIso8601String());</code>"}], "answers": [{"comments": [{"owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "edited": false, "score": 1, "creation_date": 1573568075, "post_id": 58817376, "comment_id": 103917976, "body": "You can/should quote the non-format characters - this allows you to add the Z. <code>var dateFormatted = DateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;).format(DateTime.now()&zwnj;&#8203;);</code>"}, {"owner": {"reputation": 713, "user_id": 5871709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99a8e5a6e4563c8400d8b1aaada73a73?s=128&d=identicon&r=PG", "display_name": "funder7", "link": "https://stackoverflow.com/users/5871709/funder7"}, "edited": false, "score": 0, "creation_date": 1609539183, "post_id": 58817376, "comment_id": 115863487, "body": "@Caffo17 &quot;Z&quot; indicates that the time represented is in UTC!"}], "tags": [], "owner": {"reputation": 230, "user_id": 9401014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4e774999e7e84978f99a353ca85edee?s=128&d=identicon&r=PG&f=1", "display_name": "Caffo17", "link": "https://stackoverflow.com/users/9401014/caffo17"}, "is_accepted": false, "score": 4, "last_activity_date": 1573556729, "creation_date": 1573556729, "answer_id": 58817376, "question_id": 58815575, "link": "https://stackoverflow.com/questions/58815575/how-do-i-format-date-like-this-2019-07-08t103728z-in-flutter/58817376#58817376", "title": "How do i format date like this 2019-07-08T10:37:28Z in flutter", "body": "<p>You can use this:</p>\n\n<pre><code>var now = new DateTime.now();\nvar dateFormatted = DateFormat(\"yyyy-MM-ddTHH:mm:ss\").format(now);\n</code></pre>\n\n<p>You have to add the \"Z\" at the end of the String because is a Char used to format the TimeZone.</p>\n\n<p>You can check it there -> <a href=\"https://pub.dev/documentation/intl/latest/intl/DateFormat-class.html\" rel=\"nofollow noreferrer\">https://pub.dev/documentation/intl/latest/intl/DateFormat-class.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 4939, "user_id": 11250823, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CvxbUK8Jmss/AAAAAAAAAAI/AAAAAAAAARk/_2WQb90YoM0/photo.jpg?sz=128", "display_name": "Debasmita Sarkar", "link": "https://stackoverflow.com/users/11250823/debasmita-sarkar"}, "is_accepted": false, "score": 0, "last_activity_date": 1573557134, "creation_date": 1573557134, "answer_id": 58817511, "question_id": 58815575, "link": "https://stackoverflow.com/questions/58815575/how-do-i-format-date-like-this-2019-07-08t103728z-in-flutter/58817511#58817511", "title": "How do i format date like this 2019-07-08T10:37:28Z in flutter", "body": "<p>You can refer to DateFormat class here <a href=\"https://api.flutter.dev/flutter/intl/DateFormat-class.html\" rel=\"nofollow noreferrer\">https://api.flutter.dev/flutter/intl/DateFormat-class.html</a>\nIt has a constructor where you can put your pattern.</p>\n\n<pre><code>    final format = new DateFormat('yyyy-MM-ddTHH:mm:ssZ','en-US');\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1159, "user_id": 9405238, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IQfNy.jpg?s=128&g=1", "display_name": "Doan Bui", "link": "https://stackoverflow.com/users/9405238/doan-bui"}, "is_accepted": false, "score": 0, "last_activity_date": 1604292308, "creation_date": 1604292308, "answer_id": 64639900, "question_id": 58815575, "link": "https://stackoverflow.com/questions/58815575/how-do-i-format-date-like-this-2019-07-08t103728z-in-flutter/64639900#64639900", "title": "How do i format date like this 2019-07-08T10:37:28Z in flutter", "body": "<p>It's <code>UTC</code> type of <strong>ISO 8601</strong> format datetime.</p>\n<p>Below method to parse this date format and return today default if have exception:</p>\n<pre><code>String formatDateTimeFromUtc(dynamic time){\n  try {\n    return new DateFormat(&quot;yyyy-MM-dd hh:mm:ss&quot;).format(new DateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss&quot;).parse(time));\n  } catch (e){\n    return new DateFormat(&quot;yyyy-MM-dd hh:mm:ss&quot;).format(new DateTime.now());\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 992, "user_id": 11893567, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dRr4Om13Ps0/AAAAAAAAAAI/AAAAAAAAAQU/zRjh8Hgzwv0/photo.jpg?sz=128", "display_name": "Rutvik Gumasana", "link": "https://stackoverflow.com/users/11893567/rutvik-gumasana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3814, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1604292308, "creation_date": 1573550689, "question_id": 58815575, "link": "https://stackoverflow.com/questions/58815575/how-do-i-format-date-like-this-2019-07-08t103728z-in-flutter", "title": "How do i format date like this 2019-07-08T10:37:28Z in flutter", "body": "<p>I want to format the date like this <code>2019-07-08T10:37:28Z</code> but I don't know how to do it can anyone help me with this.</p>\n\n<p>Here is the code for date picker</p>\n\n<pre><code>final format = new DateFormat.yMMMEd('en-US');\n\nreturn DateTimeField(\n      format: format,\n      autocorrect: true,\n      autovalidate: false,\n      controller: _bspLicenseExpiryDate,\n      readOnly: true,\n      validator: (date) =&gt; date == null ? 'Please enter valid date' : null,\n      decoration: InputDecoration(\n          labelText: \"Expiry Date\",\n          hintText: \"Expiry Date\",\n          prefixIcon: Icon(\n            FontAwesomeIcons.calendar,\n            size: 24,\n          )),\n      onShowPicker: (context, currentValue) {\n        return showDatePicker(\n          context: context,\n          firstDate: DateTime.now(),\n          initialDate: currentValue ?? DateTime.now(),\n          lastDate: DateTime(2100),\n        );\n      },\n    );\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1573550954, "post_id": 58815491, "comment_id": 103909229, "body": "try printing <code>u</code> variable to see whats inside: <code>print(u);</code>"}, {"owner": {"reputation": 1094, "user_id": 9512756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZOSif.jpg?s=128&g=1", "display_name": "Nikhil Vadoliya", "link": "https://stackoverflow.com/users/9512756/nikhil-vadoliya"}, "edited": false, "score": 0, "creation_date": 1573554816, "post_id": 58815491, "comment_id": 103911244, "body": "Can you share response JSON and Deal class for best to understand issue?"}, {"owner": {"reputation": 65, "user_id": 10750208, "user_type": "registered", "profile_image": "https://graph.facebook.com/1990139014402511/picture?type=large", "display_name": "Halima Ouatab", "link": "https://stackoverflow.com/users/10750208/halima-ouatab"}, "edited": false, "score": 0, "creation_date": 1573556845, "post_id": 58815491, "comment_id": 103912232, "body": "when i print u i get null   and thisi the <code>response.body</code> [[{id: 1, name: adresse Marrakech, adress: gu&#233;liz, photo: , Description: C&#39;est un endroit zwiiin, discount: 30 }, {id: 2, name: Bogato, adress: gu&#233;liz, photo: , Descri ption: bniiinnn, discount: Offres }]]"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1573557535, "post_id": 58815491, "comment_id": 103912580, "body": "so you mean that <code>u</code> is null inside <code>for( u in jsonData){</code> loop?"}, {"owner": {"reputation": 65, "user_id": 10750208, "user_type": "registered", "profile_image": "https://graph.facebook.com/1990139014402511/picture?type=large", "display_name": "Halima Ouatab", "link": "https://stackoverflow.com/users/10750208/halima-ouatab"}, "edited": false, "score": 0, "creation_date": 1573557600, "post_id": 58815491, "comment_id": 103912615, "body": "this is the whole loop :   for( u in jsonData){        Deal deal = Deal(u[&quot;id&quot;],u[&quot;name&quot;],u[&quot;adress&quot;],u[&quot;photo&quot;],u[&quot;Description&zwnj;&#8203;&quot;],u[&quot;discount&quot;]);        deals.add(deal);      }"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1573557736, "post_id": 58815491, "comment_id": 103912689, "body": "so add <code>print(&#39;u: &gt;$u&lt;&#39;);</code> before <code>Deal deal = ...</code>, what do you see in the logs?"}, {"owner": {"reputation": 65, "user_id": 10750208, "user_type": "registered", "profile_image": "https://graph.facebook.com/1990139014402511/picture?type=large", "display_name": "Halima Ouatab", "link": "https://stackoverflow.com/users/10750208/halima-ouatab"}, "edited": false, "score": 0, "creation_date": 1573558511, "post_id": 58815491, "comment_id": 103913084, "body": "this is the result : &gt;[{id: 1, name: adresse Marrakech, adress: gu&#233;liz, photo: , Description: C&#39;est un endroit zwiiin, discount: 30 }, {id: 2, name: Bogato, adress: gu&#233;liz, photo: , Des cription: bniiinnn, discount: Offres }]&lt;"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1573558991, "post_id": 58815491, "comment_id": 103913322, "body": "so as you can see you nave an array of maps - because the first character is <code>[</code> meaning its an array and the elements of that array is a map because the next character is <code>{</code> - so in order to get the map you have to access it via <code>u[0]</code>, <code>u[1]</code> etc"}, {"owner": {"reputation": 65, "user_id": 10750208, "user_type": "registered", "profile_image": "https://graph.facebook.com/1990139014402511/picture?type=large", "display_name": "Halima Ouatab", "link": "https://stackoverflow.com/users/10750208/halima-ouatab"}, "edited": false, "score": 0, "creation_date": 1573559334, "post_id": 58815491, "comment_id": 103913512, "body": "when i modified my code like this : `  var jsonData = json.decode(response.body);     //print (jsonData);     List&lt;Deal&gt; deals =[];      var u;    // print (u);      for( u in jsonData){     // print(&#39;u: &gt;$u&lt;&#39;);       Deal deal = Deal(u[0],u[1],u[2],u[3],u[4],u[5]);        deals.add(deal);      }` i got this error : **Unhandled Exception: type &#39;_InternalLinkedHashMap&lt;String, dynamic&gt;&#39; is not a subtype of type &#39;int&#39; **"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1573559411, "post_id": 58815491, "comment_id": 103913553, "body": "<code>var v = u[0]; Deal deal = Deal(v[&quot;id&quot;],v[&quot;name&quot;],v[&quot;adress&quot;],v[&quot;photo&quot;],v[&quot;Description&zwnj;&#8203;&quot;],v[&quot;discount&quot;]);</code>"}, {"owner": {"reputation": 65, "user_id": 10750208, "user_type": "registered", "profile_image": "https://graph.facebook.com/1990139014402511/picture?type=large", "display_name": "Halima Ouatab", "link": "https://stackoverflow.com/users/10750208/halima-ouatab"}, "edited": false, "score": 0, "creation_date": 1573560440, "post_id": 58815491, "comment_id": 103914108, "body": "but now i can get just the first result i need another loop to get all the info"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1573560952, "post_id": 58815491, "comment_id": 103914383, "body": "this is what i told you in the previous comment: <code>&quot;so as you can see you nave an array of maps&quot;</code> - so for example you can simply use: <code>u.forEach((v) { Deal deal = Deal(v[&quot;id&quot;],v[&quot;name&quot;],v[&quot;adress&quot;],v[&quot;photo&quot;],v[&quot;Description&zwnj;&#8203;&quot;],v[&quot;discount&quot;]); &#47;&#47; do something with deal })</code>"}, {"owner": {"reputation": 65, "user_id": 10750208, "user_type": "registered", "profile_image": "https://graph.facebook.com/1990139014402511/picture?type=large", "display_name": "Halima Ouatab", "link": "https://stackoverflow.com/users/10750208/halima-ouatab"}, "edited": false, "score": 0, "creation_date": 1573561442, "post_id": 58815491, "comment_id": 103914629, "body": "yes exactly this is what i did ! thank u so much for ur help"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1573561548, "post_id": 58815491, "comment_id": 103914679, "body": "sure, your welcome"}], "answers": [{"tags": [], "owner": {"reputation": 263, "user_id": 8884254, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sDNbhEb1JQE/AAAAAAAAAAI/AAAAAAAAFw8/IsbTd312RyU/photo.jpg?sz=128", "display_name": "Dhaval Patel", "link": "https://stackoverflow.com/users/8884254/dhaval-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1573563165, "creation_date": 1573563165, "answer_id": 58819186, "question_id": 58815491, "link": "https://stackoverflow.com/questions/58815491/unhandled-exception-type-string-is-not-a-subtype-of-type-int-of-index-pro/58819186#58819186", "title": "Unhandled Exception: type &#39;String&#39; is not a subtype of type &#39;int&#39; of &#39;index&#39; Problem Dart &amp; flutter", "body": "<p>I think you can create \"Deal\" class like below:-</p>\n\n<pre><code>class Deal {\n  String id;\n  String name;\n  String adress;\n  String photo;\n  String Description;\n  String discount;\n\n  Deal(\n    this.id,\n    this.name,\n    this.adress,\n    this.photo,\n    this.Description,\n    this.discount,\n  );\n}\n</code></pre>\n\n<p>Then you can use loop like below :-</p>\n\n<pre><code>var u;\nfor (u in jsonData) {\n      Deal deal = Deal(\n          u[\"id\"].toString(),\n          u[\"name\"].toString(),\n          u[\"adress\"].toString(),\n          u[\"photo\"].toString(),\n          u[\"Description\"].toString(),\n          u[\"discount\"].toString());\n}\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 10750208, "user_type": "registered", "profile_image": "https://graph.facebook.com/1990139014402511/picture?type=large", "display_name": "Halima Ouatab", "link": "https://stackoverflow.com/users/10750208/halima-ouatab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1486, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1573563165, "creation_date": 1573550401, "last_edit_date": 1573550667, "question_id": 58815491, "link": "https://stackoverflow.com/questions/58815491/unhandled-exception-type-string-is-not-a-subtype-of-type-int-of-index-pro", "title": "Unhandled Exception: type &#39;String&#39; is not a subtype of type &#39;int&#39; of &#39;index&#39; Problem Dart &amp; flutter", "body": "<p>I have this variables problem \nthis is my <code>getdata</code> function </p>\n\n<pre><code>Future &lt;List &lt;Deal&gt;&gt; getData() async{\n\n\nString myUrl = \"http://10.25.20.27:5000/api/all\";\nvar response = await http.get(myUrl,\n    headers: {\n      'Accept':'application/json',\n\n    });\n\nvar jsonData = json.decode(response.body);\n\nList&lt;Deal&gt; deals =[];\n\nvar u;\n\nfor( u in jsonData){\n\n  Deal deal = Deal(u[\"id\"],u[\"name\"],u[\"adress\"],u[\"photo\"],u[\"Description\"],u[\"discount\"]);\n\n}\n\n\nreturn deals;\n}\n</code></pre>\n\n<p>And I got this error </p>\n\n<blockquote>\n  <p>Performing hot reload...\n  Reloaded 14 of 594 libraries in 902ms.\n  E/flutter ( 4211): [ERROR:flutter/lib/ui/ui_dart_state.cc(148)] Unhandled Exception: type 'String' is not a subtype of type 'int' of 'index'\n  E/flutter ( 4211): #0      DatabaseHelper.getData (package:flutter_app/databasehelper.dart:116:25)\n  E/flutter ( 4211): \n  E/flutter ( 4211): #1      _HomeePageState.build. (package:flutter_app/homee_page.dart:100:80)\n  E/flutter ( 4211): #2      _InkResponseState._handleTap (package:flutter/src/material/ink_well.dart:654:14)\n  E/flutter ( 4211): #3      _InkResponseState.build. (package:flutter/src/material/ink_well.dart:729:32)\n  E/flutter ( 4211): #4      GestureRecognizer.invokeCallback (package:flutter/src/gestures/recognizer.dart:182:24)\n  E/flutter ( 4211): #5      TapGestureRecognizer._checkUp (package:flutter/src/gestures/tap.dart:365:11)\n  E/flutter ( 4211): #6      TapGestureRecognizer.handlePrimaryPointer (package:flutter/src/gestures/tap.dart:275:7)\n  E/flutter ( 4211): #7      PrimaryPointerGestureRecognizer.handleEvent (package:flutter/src/gestures/recognizer.dart:455:9)</p>\n</blockquote>\n"}, {"tags": ["android", "flutter", "dart", "flutter-layout"], "answers": [{"tags": [], "owner": {"reputation": 1475, "user_id": 4637638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/keQOA.jpg?s=128&g=1", "display_name": "Lorenzo Pichilli", "link": "https://stackoverflow.com/users/4637638/lorenzo-pichilli"}, "is_accepted": false, "score": 1, "last_activity_date": 1575045091, "last_edit_date": 1575045091, "creation_date": 1574893511, "answer_id": 59079258, "question_id": 58815456, "link": "https://stackoverflow.com/questions/58815456/android-native-web-view-not-working-flutter/59079258#59079258", "title": "Android native Web View not working flutter", "body": "<p>If you want to load an inline WebView inside the widget tree of your Flutter app or if you want to open an in-app browser, you can try my plugin <a href=\"https://github.com/pichillilorenzo/flutter_inappbrowser\" rel=\"nofollow noreferrer\">flutter_inappbrowser</a> (<strong>EDIT</strong>: it has been renamed to <a href=\"https://github.com/pichillilorenzo/flutter_inappwebview\" rel=\"nofollow noreferrer\">flutter_inappwebview</a>).</p>\n\n<p>An example is presented below (see the full example <a href=\"https://github.com/pichillilorenzo/flutter_inappwebview/tree/master/example\" rel=\"nofollow noreferrer\">here</a>):</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>...\n\nchild: InAppWebView(\n  initialUrl: \"https://flutter.dev/\",\n  initialHeaders: {},\n  initialOptions: InAppWebViewWidgetOptions(\n      inAppWebViewOptions: InAppWebViewOptions(\n        debuggingEnabled: true,\n      )\n  ),\n  onWebViewCreated: (InAppWebViewController controller) {\n    webView = controller;\n  },\n  onLoadStart: (InAppWebViewController controller, String url) {\n\n  },\n  onLoadStop: (InAppWebViewController controller, String url) {\n\n  },\n),\n\n...\n</code></pre>\n"}], "owner": {"reputation": 497, "user_id": 10698559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af427edf79822537ab1cfbd617ed3d0a?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/10698559/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1057, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575045091, "creation_date": 1573550244, "question_id": 58815456, "link": "https://stackoverflow.com/questions/58815456/android-native-web-view-not-working-flutter", "title": "Android native Web View not working flutter", "body": "<p>I am building a flutter app. I want to open webview from android native. I am calling the web using method channel. But when calling webview it showing error \n    <code>Attempt to invoke virtual method 'void android.webkit.WebView.loadUrl(java.lang.String)' on a null object reference</code></p>\n\n<p>The code is shown below</p>\n\n<p><strong><em>main.dart</em></strong></p>\n\n<pre><code>new RaisedButton(onPressed: ()async{\n    final response=await channel.invokeMethod(\"WebView\",\"\");\n        getRes(response);\n    },\nchild:new Text(\"Go to Web View\"))\n</code></pre>\n\n<p>and the java code is</p>\n\n<p><strong><em>MainActivity.java</em></strong></p>\n\n<pre><code>public class MainActivity extends FlutterActivity {\nprivate WebView webview;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n            new MethodChannel(getFlutterView(), CHANNEL).setMethodCallHandler(\n    new MethodCallHandler() {\n        @Override\n\n            if (methodCall.method.equals(\"WebView\")){\n                Log.d(\"LOG\",\"Entered in WebView \");\n                webview.loadUrl(\"https://www.journaldev.com\"); // Error is showing on here\n            }\n    });\n\n        GeneratedPluginRegistrant.registerWith(this);\n        webview2 = (WebView) findViewById(R.id.web_book1);\n\n         }\n    }\n</code></pre>\n\n<p>The error is showing in <code>webview.loadUrl(\"https://www.journaldev.com\");</code> line</p>\n\n<p><strong><em>web_view.xml</em></strong></p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:orientation=\"vertical\" android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n    &lt;WebView\n        android:id=\"@+id/web_book1\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"fill_parent\"\n        android:layout_alignParentStart=\"false\"\n        android:layout_alignParentEnd=\"true\" /&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>How to open android native WebView in flutter view. How it possible?</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1573548063, "post_id": 58814836, "comment_id": 103907773, "body": "random from 0 to infinity?"}, {"owner": {"reputation": 23, "user_id": 12359825, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LcDle06SXJM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf99OZgup3jcaWLIcoo4YmqPWvk3w/photo.jpg?sz=128", "display_name": "chaempain", "link": "https://stackoverflow.com/users/12359825/chaempain"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1573548479, "post_id": 58814836, "comment_id": 103907953, "body": "random from 0 to specified list.length( in my case  25 e.g.)"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1573548573, "post_id": 58814836, "comment_id": 103908006, "body": "use <a href=\"http://localhost/flutter/doc-1.10.15/flutter/dart-core/List/shuffle.html\" rel=\"nofollow noreferrer\">shuffle</a>"}, {"owner": {"reputation": 23, "user_id": 12359825, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LcDle06SXJM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf99OZgup3jcaWLIcoo4YmqPWvk3w/photo.jpg?sz=128", "display_name": "chaempain", "link": "https://stackoverflow.com/users/12359825/chaempain"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1573548740, "post_id": 58814836, "comment_id": 103908107, "body": "to use shuffle, I need an existing list. But I want to create a list with random numbers"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1573550235, "post_id": 58814836, "comment_id": 103908854, "body": "<code>print([0, 1, 2, 3, 4, 5]..shuffle())</code>"}, {"owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "edited": false, "score": 0, "creation_date": 1573568780, "post_id": 58814836, "comment_id": 103918365, "body": "<code>print((List&lt;int&gt;.generate(25, (i) =&gt; i)..shuffle()).take(8));</code>"}], "owner": {"reputation": 23, "user_id": 12359825, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LcDle06SXJM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf99OZgup3jcaWLIcoo4YmqPWvk3w/photo.jpg?sz=128", "display_name": "chaempain", "link": "https://stackoverflow.com/users/12359825/chaempain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1573547851, "creation_date": 1573547851, "question_id": 58814836, "link": "https://stackoverflow.com/questions/58814836/dart-random-unique-numbers", "title": "Dart random unique numbers", "body": "<p>I need help! am creating an app in flutter where I need 8 unique ranodm numbers. So how can I create a list of 8 random numbers which are all unique in Dart? If I go through a for loop using the random class and then append it to a list there is still the chance of repeating numbers. Anybody can help?</p>\n"}, {"tags": ["flutter", "dart", "google-cloud-firestore", "flutter-layout"], "comments": [{"owner": {"reputation": 2643, "user_id": 10471480, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aWUWhOQArrE/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWERAmHGe3PKyq4hS8cPDJgpMay1A/mo/photo.jpg?sz=128", "display_name": "Mangaldeep Pannu", "link": "https://stackoverflow.com/users/10471480/mangaldeep-pannu"}, "edited": false, "score": 0, "creation_date": 1573552948, "post_id": 58814049, "comment_id": 103910278, "body": "Rather than streaming the data directly to ListView, sort the retrived data first."}, {"owner": {"reputation": 51, "user_id": 12245461, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCJqAPJln8FtDyxoW0gu03040yMNjecS6k88g8cNg=k-s128", "display_name": "bibin101", "link": "https://stackoverflow.com/users/12245461/bibin101"}, "reply_to_user": {"reputation": 2643, "user_id": 10471480, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aWUWhOQArrE/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWERAmHGe3PKyq4hS8cPDJgpMay1A/mo/photo.jpg?sz=128", "display_name": "Mangaldeep Pannu", "link": "https://stackoverflow.com/users/10471480/mangaldeep-pannu"}, "edited": false, "score": 0, "creation_date": 1573553738, "post_id": 58814049, "comment_id": 103910726, "body": "Can you please give full solution?"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 12245461, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCJqAPJln8FtDyxoW0gu03040yMNjecS6k88g8cNg=k-s128", "display_name": "bibin101", "link": "https://stackoverflow.com/users/12245461/bibin101"}, "edited": false, "score": 1, "creation_date": 1573556078, "post_id": 58816650, "comment_id": 103911829, "body": "Thank you so much man @G griffo love you. You solved the problem that was giving me headaches for the last two days. THANKS, MAN!"}, {"owner": {"reputation": 3431, "user_id": 10409567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F9li.jpg?s=128&g=1", "display_name": "griffins", "link": "https://stackoverflow.com/users/10409567/griffins"}, "reply_to_user": {"reputation": 51, "user_id": 12245461, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCJqAPJln8FtDyxoW0gu03040yMNjecS6k88g8cNg=k-s128", "display_name": "bibin101", "link": "https://stackoverflow.com/users/12245461/bibin101"}, "edited": false, "score": 0, "creation_date": 1573556881, "post_id": 58816650, "comment_id": 103912250, "body": "@bibin101 glad to help...marking the answer as correct will be appreciated and would be helpful to other users"}], "tags": [], "owner": {"reputation": 3431, "user_id": 10409567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F9li.jpg?s=128&g=1", "display_name": "griffins", "link": "https://stackoverflow.com/users/10409567/griffins"}, "is_accepted": false, "score": 3, "last_activity_date": 1573554314, "creation_date": 1573554314, "answer_id": 58816650, "question_id": 58814049, "link": "https://stackoverflow.com/questions/58814049/make-the-list-items-appear-with-respect-to-date-in-flutter/58816650#58816650", "title": "Make the list items appear with respect to date in Flutter", "body": "<p>while adding data to firestore you can add a timestamp or server timestamp and the while querying your collection you order data based on the timestamp value</p>\n\n<p>adding data </p>\n\n<pre><code>\"timeStamp\":FieldValue.serverTimestamp(); /\"timeStamp\":Timestamp.now(),\n</code></pre>\n\n<p>query your data</p>\n\n<pre><code> .collection('matches').orderby(\"timestamp\", descending:true).snapshots()\n</code></pre>\n\n<blockquote>\n  <p>Also can you please tell me how to convert a string value to color so\n  that i can store and retrieve color from firestore?</p>\n</blockquote>\n\n<p>You  can't do that as Color doesn't have a constructor that accepts a String as a representation of a color.For that, you could use the Color property value. You can save it and then use to create your new Color object.</p>\n\n<p>The code could look like this</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Color pickerColor = new Color(0xff443a49);\nString testingColorString = pickerColor.toString();\n\nColor newColor = new Color(pickerColor.value);\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 12245461, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCJqAPJln8FtDyxoW0gu03040yMNjecS6k88g8cNg=k-s128", "display_name": "bibin101", "link": "https://stackoverflow.com/users/12245461/bibin101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 927, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573581649, "creation_date": 1573544383, "last_edit_date": 1573581649, "question_id": 58814049, "link": "https://stackoverflow.com/questions/58814049/make-the-list-items-appear-with-respect-to-date-in-flutter", "title": "Make the list items appear with respect to date in Flutter", "body": "<p>I have a <strong>streambuilder</strong> which returns <strong>List View Builder</strong>.\nI want my list items to appear in an order in which newly added items appear at top.\ncurrently it is appearing at random positions.</p>\n\n<p>I have generated the items dynamically from the <code>firestore database</code>.</p>\n\n<p>Also can you please tell me how to convert a string value to color so that I can store and retrieve color from <code>firestore</code>?</p>\n\n<p>here is the code for the stream:</p>\n\n<pre><code>import 'package:bvb_firebase/shareable/constants.dart';\nimport 'package:cloud_firestore/cloud_firestore.dart';\nimport 'package:flutter/material.dart';\nimport 'package:intl/intl.dart';\n\nclass HistoryCardStreamer extends StatefulWidget {\n  final int rikeshS;\n  final int bibinS;\n\n  HistoryCardStreamer({this.rikeshS, this.bibinS});\n\n  @override\n  _HistoryCardStreamerState createState() =&gt; _HistoryCardStreamerState();\n}\n\nclass _HistoryCardStreamerState extends State&lt;HistoryCardStreamer&gt; {\n  final _firestore = Firestore.instance;\n\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n      height: 300,\n      child: StreamBuilder&lt;QuerySnapshot&gt;(\n        stream: _firestore.collection('matches').snapshots(),\n        builder: (context, snapshot) {\n          if (!snapshot.hasData)\n            return Center(\n              child: CircularProgressIndicator(),\n            );\n\n          return Container(\n            height: 300,\n            child: ListView.builder(\n              reverse: true,\n              itemCount: snapshot.data.documents.reversed.length,\n              itemBuilder: (context, index) {\n                DocumentSnapshot matchDetail = snapshot.data.documents[index];\n\n                return Card(\n                  elevation: 0,\n                  color: Color(0xffA92323),\n                  child: Container(\n                    margin: EdgeInsets.only(top: 5),\n                    child: ListTile(\n                      title: Text(\n                        matchDetail['WinnerText'],\n                        style: kcardtitleTextStyle,\n                      ),\n                      leading: Container(\n                        width: 45,\n                        margin: EdgeInsets.only(top: 12, right: 5),\n                        child: FittedBox(\n                          child: Text(matchDetail['Score'],\n                              style: kcardtitleTextStyle),\n                        ),\n                      ),\n                      subtitle: Text(\n                          '${DateFormat.yMMMd().format(DateTime.now())}',\n                          style: kcardDateStyle),\n                      trailing: GestureDetector(\n                        onDoubleTap: () async {\n                          await _firestore\n                              .collection('matches')\n                              .document(matchDetail.documentID)\n                              .delete();\n                        },\n                        child: IconButton(\n                          icon: Icon(Icons.delete),\n                          onPressed: () {},\n                        ),\n                      ),\n                    ),\n                  ),\n                );\n              },\n            ),\n          );\n        },\n      ),\n    );\n  }\n} \n</code></pre>\n\n<p>app <a href=\"https://i.stack.imgur.com/Ypzqm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ypzqm.png\" alt=\"as shown\"></a></p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 12851620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb660abedaa18bd4fc0acaddd5fbc5e?s=128&d=identicon&r=PG&f=1", "display_name": "codekls", "link": "https://stackoverflow.com/users/12851620/codekls"}, "edited": false, "score": 0, "creation_date": 1586982866, "post_id": 58815170, "comment_id": 108334835, "body": "Is there a way to define custom values for dark and light theme and use this package alongside?"}], "tags": [], "owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "is_accepted": false, "score": 1, "last_activity_date": 1573549171, "creation_date": 1573549171, "answer_id": 58815170, "question_id": 58813743, "link": "https://stackoverflow.com/questions/58813743/how-to-save-theme-settings-that-have-been-specified-in-flutter/58815170#58815170", "title": "how to save theme settings that have been specified in flutter?", "body": "<p>You can use Package <a href=\"https://pub.dev/packages/theme_provider\" rel=\"nofollow noreferrer\">https://pub.dev/packages/theme_provider</a> <br>\nthis package provide <code>saveThemesOnChange</code> and <code>loadThemeOnInit</code> <br></p>\n\n<p>You can also save / load theme from disk with <code>ThemeProvider.controllerOf(context).saveThemeToDisk();</code> and <code>ThemeProvider.controllerOf(context).loadThemeFromDisk();</code></p>\n\n<p>Run full example code and click Next theme button then restart this app <br>\nYou will see it start from dark theme <br></p>\n\n<p>code snippet</p>\n\n<pre><code>return ThemeProvider(\n      saveThemesOnChange: true,\n      loadThemeOnInit: true,\n      themes: &lt;AppTheme&gt;[\n        AppTheme.light(),\n        AppTheme.dark(),\n        customAppTheme(),\n      ],\n      child: MaterialApp(\n        home: ThemeConsumer(\n          child: HomePage(),\n        ),\n      ),\n    );\n  }\n</code></pre>\n\n<p>full example code</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:theme_provider/theme_provider.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return ThemeProvider(\n      saveThemesOnChange: true,\n      loadThemeOnInit: true,\n      themes: &lt;AppTheme&gt;[\n        AppTheme.light(),\n        AppTheme.dark(),\n        customAppTheme(),\n      ],\n      child: MaterialApp(\n        home: ThemeConsumer(\n          child: HomePage(),\n        ),\n      ),\n    );\n  }\n}\n\nAppTheme customAppTheme() {\n  return AppTheme(\n    id: \"custom_theme\",\n    description: \"Custom Color Scheme\",\n    data: ThemeData(\n      accentColor: Colors.yellow,\n      primaryColor: Colors.red,\n      scaffoldBackgroundColor: Colors.yellow[200],\n      buttonColor: Colors.amber,\n      dialogBackgroundColor: Colors.yellow,\n    ),\n  );\n}\n\nclass HomePage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: Text(\"Example App\")),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: &lt;Widget&gt;[\n            RaisedButton(\n              child: Text(\"Next Theme\"),\n              onPressed: ThemeProvider.controllerOf(context).nextTheme,\n            ),\n            RaisedButton(\n              child: Text(\"Theme Dialog\"),\n              onPressed: () {\n                showDialog(\n                    context: context,\n                    builder: (_) =&gt; ThemeConsumer(child: ThemeDialog()));\n              },\n            ),\n            RaisedButton(\n              child: Text(\"Second Screen\"),\n              onPressed: () {\n                Navigator.push(\n                  context,\n                  MaterialPageRoute(\n                    builder: (_) =&gt; ThemeConsumer(child: SecondPage()),\n                  ),\n                );\n              },\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n\nclass SecondPage extends StatelessWidget {\n  const SecondPage({\n    Key key,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(\"Second Screen\"),\n      ),\n      body: Center(\n        child: RaisedButton(\n          child: Text(\"Next Theme\"),\n          onPressed: ThemeProvider.controllerOf(context).nextTheme,\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>demo </p>\n\n<p><a href=\"https://i.stack.imgur.com/8GcEu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8GcEu.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 135, "user_id": 12069322, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBOTQf24mubDKlpA-4F4r2ApcitWpEdjdfwshLQvw=k-s128", "display_name": "Capt. America", "link": "https://stackoverflow.com/users/12069322/capt-america"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 929, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573549171, "creation_date": 1573543050, "question_id": 58813743, "link": "https://stackoverflow.com/questions/58813743/how-to-save-theme-settings-that-have-been-specified-in-flutter", "title": "how to save theme settings that have been specified in flutter?", "body": "<p>how to save the theme settings that have been specified in flutter?</p>\n\n<p>I'm having problems here. I have difficulty to storing data locally. I tried 'Flutter_Secure_Storage' but I don't understand how to use it. in essence I want the selected theme to be saved locally and when the application is restarted it can use that theme again. I've tried using <code>sharedpreference</code> but it doesn't help.</p>\n\n<p>I will include my source code after this and the <a href=\"https://i.stack.imgur.com/SXO1D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SXO1D.png\" alt=\"image\"></a></p>\n\n<pre><code>     @override\n    Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: PreferredSize(\n        preferredSize: Size.fromHeight(38.0),\n        child: AppBar(\n          automaticallyImplyLeading: true,\n          title: const Text('Theme'),\n          leading: IconButton(\n            icon: const Icon(Icons.arrow_back_ios),\n            onPressed: () {\n              Navigator.pop(context);\n            },\n          ),\n        ),\n      ),\n      body: new Container(\n        child: new Row(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: &lt;Widget&gt;[\n            //text\n            new Container(\n              padding: EdgeInsets.all(10.0),\n              child: new Row(\n                mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n                children: &lt;Widget&gt;[\n                  new Container(\n                    padding: EdgeInsets.only(top: 50, left: 10, right: 10),\n                    child: new Column(\n                      children: &lt;Widget&gt;[\n                        //light theme\n                        new Row(\n                          children: &lt;Widget&gt;[\n                            new Column(\n                              children: &lt;Widget&gt;[\n                                new Container(\n                                    width: 120,\n                                    height: 200,\n                                    color: Color.fromRGBO(255, 127, 80, 5),\n                                    child: new Icon(\n                                      FontAwesomeIcons.cloudSun,\n                                      color: Colors.yellowAccent,\n                                      size: 50,\n                                    )),\n                                new Text(\n                                  'Light',\n                                  style: TextStyle(fontSize: 16),\n                                ),\n                                ButtonBar(\n                                  alignment: MainAxisAlignment.center,\n                                  children: &lt;Widget&gt;[\n                                    Radio(\n                                      value: 1,\n                                      groupValue: selectRadio,\n                                      activeColor: Colors.blue,\n                                      onChanged: (val) {\n                                        //print('Radio $val');\n\n                                        setState(() {\n                                          setSelectedRadio(val);\n                                          Provider.of&lt;ThemeNotifier&gt;(context).switchTheme();\n                                        });\n                                      },\n                                    )\n                                  ],\n                                )\n                              ],\n                            )\n                          ],\n                        )\n                      ],\n                    ),\n                  ),\n                  new Container(\n                    padding: EdgeInsets.only(top: 50, left: 10, right: 10),\n                    child: new Column(\n                      children: &lt;Widget&gt;[\n                        //light theme\n                        new Row(\n                          children: &lt;Widget&gt;[\n                            new Column(\n                              children: &lt;Widget&gt;[\n                                new Container(\n                                    width: 120,\n                                    height: 200,\n                                    color: Color.fromRGBO(173, 216, 230, 5),\n                                    child: new Icon(\n                                      FontAwesomeIcons.cloudMoon,\n                                      color: Color.fromRGBO(2, 22, 69, 5),\n                                      size: 50,\n                                    )),\n                                new Text(\n                                  'Dark',\n                                  style: TextStyle(fontSize: 16),\n                                ),\n                                ButtonBar(\n                                  alignment: MainAxisAlignment.center,\n                                  children: &lt;Widget&gt;[\n                                    Radio(\n                                      value: 2,\n                                      groupValue: selectRadio,\n                                      activeColor: Colors.blue,\n                                      onChanged: (val) {\n                                        //print('Radio $val');\n\n                                        setState(() {\n                                          setSelectedRadio(val);\n                                          Provider.of&lt;ThemeNotifier&gt;(context).switchTheme();\n\n                                        });\n                                      },\n                                    )\n                                  ],\n                                )\n                              ],\n                            )\n                          ],\n                        )\n                      ],\n                    ),\n                  )\n                ],\n              ),\n            )\n          ],\n        ),\n      ),\n    );\n  }\n</code></pre>\n"}, {"tags": ["android", "ios", "flutter", "dart"], "comments": [{"owner": {"reputation": 574, "user_id": 2077907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xs5Kf.jpg?s=128&g=1", "display_name": "Jian Astrero", "link": "https://stackoverflow.com/users/2077907/jian-astrero"}, "edited": false, "score": 0, "creation_date": 1573542883, "post_id": 58813609, "comment_id": 103905551, "body": "Have you tried setting &quot;Accept&quot; from the header"}, {"owner": {"reputation": 574, "user_id": 2077907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xs5Kf.jpg?s=128&g=1", "display_name": "Jian Astrero", "link": "https://stackoverflow.com/users/2077907/jian-astrero"}, "edited": false, "score": 0, "creation_date": 1573543017, "post_id": 58813609, "comment_id": 103905603, "body": "Could you show us the json that you are trying to fetch?"}, {"owner": {"reputation": 15, "user_id": 9786897, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Christy Royo", "link": "https://stackoverflow.com/users/9786897/christy-royo"}, "reply_to_user": {"reputation": 574, "user_id": 2077907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xs5Kf.jpg?s=128&g=1", "display_name": "Jian Astrero", "link": "https://stackoverflow.com/users/2077907/jian-astrero"}, "edited": false, "score": 0, "creation_date": 1573543041, "post_id": 58813609, "comment_id": 103905617, "body": "@JianAstrero yes, still got the same error."}, {"owner": {"reputation": 15, "user_id": 9786897, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Christy Royo", "link": "https://stackoverflow.com/users/9786897/christy-royo"}, "reply_to_user": {"reputation": 574, "user_id": 2077907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xs5Kf.jpg?s=128&g=1", "display_name": "Jian Astrero", "link": "https://stackoverflow.com/users/2077907/jian-astrero"}, "edited": false, "score": 0, "creation_date": 1573543109, "post_id": 58813609, "comment_id": 103905643, "body": "@JianAstrero here&#39;s the endpoint <a href=\"http://www.json-generator.com/api/json/get/cqKhaRYIKq?indent=2\" rel=\"nofollow noreferrer\">json-generator.com/api/json/get/cqKhaRYIKq?indent=2</a>"}], "answers": [{"tags": [], "owner": {"reputation": 574, "user_id": 2077907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xs5Kf.jpg?s=128&g=1", "display_name": "Jian Astrero", "link": "https://stackoverflow.com/users/2077907/jian-astrero"}, "is_accepted": true, "score": 0, "last_activity_date": 1573545243, "creation_date": 1573545243, "answer_id": 58814262, "question_id": 58813609, "link": "https://stackoverflow.com/questions/58813609/flutter-http-get-unhandled-exception-formatexception-unexpected-character/58814262#58814262", "title": "Flutter: http.get() Unhandled Exception: FormatException: Unexpected character (at character 1)", "body": "<p>It seems like it is working, have you checked if you have a stable internet connection or if you are connecting to a wifi that has restricted access? The HTML might be the captive portal or the restrict webpage from the wifi you are connected to.</p>\n"}, {"tags": [], "owner": {"reputation": 427, "user_id": 9015744, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bPVl44NtxcY/AAAAAAAAAAI/AAAAAAAAAVQ/hmNFB7MV6Ho/photo.jpg?sz=128", "display_name": "Simon Pham", "link": "https://stackoverflow.com/users/9015744/simon-pham"}, "is_accepted": false, "score": 0, "last_activity_date": 1573546438, "creation_date": 1573546438, "answer_id": 58814520, "question_id": 58813609, "link": "https://stackoverflow.com/questions/58813609/flutter-http-get-unhandled-exception-formatexception-unexpected-character/58814520#58814520", "title": "Flutter: http.get() Unhandled Exception: FormatException: Unexpected character (at character 1)", "body": "<p>try with this endpoint: <a href=\"http://www.mocky.io/v2/5dca69523300004e003decc5\" rel=\"nofollow noreferrer\">http://www.mocky.io/v2/5dca69523300004e003decc5</a></p>\n\n<p>and use this <code>return json.decode(result.body)['data'];</code> in your getAll() function</p>\n"}], "owner": {"reputation": 15, "user_id": 9786897, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Christy Royo", "link": "https://stackoverflow.com/users/9786897/christy-royo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1209, "favorite_count": 0, "accepted_answer_id": 58814262, "answer_count": 2, "score": 1, "last_activity_date": 1573546438, "creation_date": 1573542381, "last_edit_date": 1573542943, "question_id": 58813609, "link": "https://stackoverflow.com/questions/58813609/flutter-http-get-unhandled-exception-formatexception-unexpected-character", "title": "Flutter: http.get() Unhandled Exception: FormatException: Unexpected character (at character 1)", "body": "<p>I'm creating a Flutter app and I'm trying to fetch my dummy data <a href=\"http://www.json-generator.com/api/json/get/cqKhaRYIKq?indent=2\" rel=\"nofollow noreferrer\">from this endpoint</a>. I wanted to print the response data but my problem is upon fetching the API, the Content-Type is text/html instead of application/json. I'm using the HTTP package.</p>\n\n<p>here's the <a href=\"https://i.stack.imgur.com/be95x.png\" rel=\"nofollow noreferrer\">error</a></p>\n\n<p>here's my code method \nfor <strong>base_api.dart</strong></p>\n\n<pre><code>Future&lt;MODEL&gt; getAll() async {\n  Map&lt;String, String&gt; headers = {\"Content-type\": \"application/json\"};\n  final result = await http.get(url, headers: headers);\n  print(\"Content type: ${result.headers['content-type']}\");\n  if (result.statusCode &gt;= 200 &amp;&amp; result.statusCode &lt; 300 ) {\n     return json.decode(result.body);\n  } else {\n     return json.decode(null);\n  }                                                                                         \n}\n</code></pre>\n\n<p>and here's my code in <strong>services.dart</strong></p>\n\n<pre><code>Future loadUserTimeLogs() async {\n  var userRepo = UserRepository();\n  userRepo.getAll().then((val) {\n    print(\"GET VAL: $val\");\n  }); }                                                                                  \n</code></pre>\n\n<p>and here's my <strong>base_repository.dart</strong></p>\n\n<pre><code>Future getAll({String query}) {\n var completer = Completer();\n api.getAll().then((val) {\n if (val == null) {\n    completer.complete(dao.getAll());\n } else {\n    completer.complete(val);\n }\n });                                                                                     \n return completer.future;\n}\n</code></pre>\n"}, {"tags": ["flutter", "dart", "bloc"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1573542784, "post_id": 58813226, "comment_id": 103905509, "body": "see <a href=\"https://api.flutter.dev/flutter/dart-async/Stream/distinct.html\" rel=\"nofollow noreferrer\">api.flutter.dev/flutter/dart-async/Stream/distinct.html</a>"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1574403230, "post_id": 58813226, "comment_id": 104228574, "body": "sure, your welcome"}], "answers": [{"tags": [], "owner": {"reputation": 861, "user_id": 11216418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jK6uV.jpg?s=128&g=1", "display_name": "digitaljoni", "link": "https://stackoverflow.com/users/11216418/digitaljoni"}, "is_accepted": false, "score": 0, "last_activity_date": 1573541768, "creation_date": 1573541768, "answer_id": 58813490, "question_id": 58813226, "link": "https://stackoverflow.com/questions/58813226/how-to-add-condition-to-streambuilders-rebuild-in-flutter/58813490#58813490", "title": "How to add condition to StreamBuilder&#39;s rebuild in Flutter?", "body": "<p>Are you using any type of State management? i.e. Bloc? </p>\n\n<p>If you don't want the widget to refresh... you should add the logic in the Bloc and not in the StreamBuilder. Basically if the data is the same, do not send add any data to the Sink.</p>\n"}, {"tags": [], "owner": {"reputation": 512, "user_id": 7120147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QRec.jpg?s=128&g=1", "display_name": "Kacper Kogut", "link": "https://stackoverflow.com/users/7120147/kacper-kogut"}, "is_accepted": false, "score": 0, "last_activity_date": 1573823401, "creation_date": 1573823401, "answer_id": 58877768, "question_id": 58813226, "link": "https://stackoverflow.com/questions/58813226/how-to-add-condition-to-streambuilders-rebuild-in-flutter/58877768#58877768", "title": "How to add condition to StreamBuilder&#39;s rebuild in Flutter?", "body": "<p>I would recommend using the <a href=\"https://bloclibrary.dev/#/gettingstarted\" rel=\"nofollow noreferrer\">bloc_library</a>. One of its advantages is that it does not send data to UI if it has not changed. I have recently written <a href=\"https://www.netguru.com/codestories/flutter-bloc\" rel=\"nofollow noreferrer\">blog post</a> where among others I have addressed this functionality.</p>\n"}, {"tags": [], "owner": {"reputation": 221, "user_id": 6005699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0RdZ7.jpg?s=128&g=1", "display_name": "Martin Zhu", "link": "https://stackoverflow.com/users/6005699/martin-zhu"}, "is_accepted": true, "score": 0, "last_activity_date": 1574403694, "last_edit_date": 1574403694, "creation_date": 1574403304, "answer_id": 58988499, "question_id": 58813226, "link": "https://stackoverflow.com/questions/58813226/how-to-add-condition-to-streambuilders-rebuild-in-flutter/58988499#58988499", "title": "How to add condition to StreamBuilder&#39;s rebuild in Flutter?", "body": "<p>As the <a href=\"https://stackoverflow.com/questions/58813226/how-to-add-condition-to-streambuilders-rebuild-in-flutter/58988499#comment103905509_58813226\">comment</a> shows, <code>distinct</code> solves my problem</p>\n"}], "owner": {"reputation": 221, "user_id": 6005699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0RdZ7.jpg?s=128&g=1", "display_name": "Martin Zhu", "link": "https://stackoverflow.com/users/6005699/martin-zhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 604, "favorite_count": 0, "accepted_answer_id": 58988499, "answer_count": 3, "score": 0, "last_activity_date": 1574403694, "creation_date": 1573540403, "question_id": 58813226, "link": "https://stackoverflow.com/questions/58813226/how-to-add-condition-to-streambuilders-rebuild-in-flutter", "title": "How to add condition to StreamBuilder&#39;s rebuild in Flutter?", "body": "<p>I am using <code>StreamBuilder</code> to dynamically refresh UI.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>StreamBuilder&lt;State&gt;( //\n          stream: stateStream,\n          builder: (BuildContext context, AsyncSnapshot&lt;BlocState&gt; snapshot) =&gt;\n              // do anything\n        );\n</code></pre>\n\n<p>When there is new data in the <code>stateStream</code>, UI will be refreshed automatically.</p>\n\n<p>However, sometimes the value of new data and old data may be the same. At this time, there is no need to refresh.</p>\n\n<p>How do I control <code>StreamBuilder</code> not to refresh this time?</p>\n"}, {"tags": ["flutter", "dart", "flutter-layout"], "answers": [{"tags": [], "owner": {"reputation": 581, "user_id": 2419001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ay1VK.jpg?s=128&g=1", "display_name": "lyio", "link": "https://stackoverflow.com/users/2419001/lyio"}, "is_accepted": false, "score": 7, "last_activity_date": 1573541531, "creation_date": 1573541531, "answer_id": 58813440, "question_id": 58812778, "link": "https://stackoverflow.com/questions/58812778/a-borderradius-can-only-be-given-for-uniform-borders/58813440#58813440", "title": "A borderRadius can only be given for uniform borders", "body": "<p>Flutter is complaining because you only apply a right border to your container, but want to have a border radius as well.</p>\n\n<p>Flutter expects the border to be uniform, i.e. all the way around and in the same color, when applying border radius. If you jump to the sources where the assertion error was thrown you can have a look at the actual assertion.</p>\n"}, {"comments": [{"owner": {"reputation": 114, "user_id": 10349485, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nK5MN9nRR-U/AAAAAAAAAAI/AAAAAAAAACk/SsVrpDv1ac0/photo.jpg?sz=128", "display_name": "Lone Wolf", "link": "https://stackoverflow.com/users/10349485/lone-wolf"}, "edited": false, "score": 0, "creation_date": 1614259789, "post_id": 61613471, "comment_id": 117335267, "body": "Silly ?!! This is genius!!! God knows I could never have thought of this. Thank you for even showing me this is possible"}], "tags": [], "owner": {"reputation": 825, "user_id": 9889513, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-U7Pfj4S0emo/AAAAAAAAAAI/AAAAAAAAAAc/kKbv1t3cg6g/photo.jpg?sz=128", "display_name": "ehsaneha", "link": "https://stackoverflow.com/users/9889513/ehsaneha"}, "is_accepted": false, "score": 11, "last_activity_date": 1588682656, "creation_date": 1588682656, "answer_id": 61613471, "question_id": 58812778, "link": "https://stackoverflow.com/questions/58812778/a-borderradius-can-only-be-given-for-uniform-borders/61613471#61613471", "title": "A borderRadius can only be given for uniform borders", "body": "<p>This is the easiest way that I could came up with... as you can see there's 2 container, the color of outer container is actually the color of the border and the margin of inner container is the strokeWidth of the border and the color of inner container is the background color.</p>\n\n<pre><code>Container(\n  decoration: BoxDecoration(\n    color: Colors.grey[400],\n\n    borderRadius: BorderRadius.only(\n      topLeft: const Radius.circular(15.0),\n      topRight: const Radius.circular(15.0),\n    ),// BorderRadius\n\n  ),// BoxDecoration\n  child: Container(\n    margin: const EdgeInsetsDirectional.only(start: 2, end: 2, top: 2),\n    decoration: BoxDecoration(\n      color: Colors.grey[300],\n\n      borderRadius: BorderRadius.only(\n        topLeft: const Radius.circular(13.0),\n        topRight: const Radius.circular(13.0),\n      ),// BorderRadius\n\n    ),// BoxDecoration\n  ),// Container\n),// Container\n</code></pre>\n\n<p>It's a bit silly answer but works! ;)</p>\n"}], "owner": {"reputation": 5668, "user_id": 1331568, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/JqLSi.jpg?s=128&g=1", "display_name": "Code Hunter", "link": "https://stackoverflow.com/users/1331568/code-hunter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6215, "favorite_count": 0, "answer_count": 2, "score": 9, "last_activity_date": 1588682656, "creation_date": 1573537883, "question_id": 58812778, "link": "https://stackoverflow.com/questions/58812778/a-borderradius-can-only-be-given-for-uniform-borders", "title": "A borderRadius can only be given for uniform borders", "body": "<p>I am getting a warning when using following code but my app is running fine:</p>\n\n<pre><code>\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550 Exception caught by rendering library \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nThe following assertion was thrown during paint():\nA borderRadius can only be given for uniform borders.\n'package:flutter/src/painting/box_border.dart':\nFailed assertion: line 510 pos 12: 'borderRadius == null'\n</code></pre>\n\n<p>Here is my code: </p>\n\n<pre><code>           Container(\n              height: screenSize.height*.13,\n              width: AppSize.medium,\n              decoration: BoxDecoration(\n                color: Colors.red,\n                border: Border(\n                  right: BorderSide(\n                    width: 1.0,\n                    color: Colors.blue\n                  ),\n                ),\n                borderRadius: BorderRadius.only(\n                  topRight: Radius.circular(AppSize.small),\n                  bottomRight: Radius.circular(AppSize.small),\n                )\n              ),\n            )\n</code></pre>\n"}, {"tags": ["firebase", "flutter", "dart", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 12235021, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Lmuhq-Cmp4k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdSUZGPMkzph9qqf8AJt10cycaflA/photo.jpg?sz=128", "display_name": "David Escobar", "link": "https://stackoverflow.com/users/12235021/david-escobar"}, "edited": false, "score": 0, "creation_date": 1573536317, "post_id": 58812461, "comment_id": 103903551, "body": "thanks Jay, i made those changes but im still getting the same error. this worked fine before i created a collection &#39;items&#39; under &#39;users&#39;, previously &#39;items&#39; was an individual collection"}, {"owner": {"reputation": 4149, "user_id": 5715935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1659768280958223/picture?type=large", "display_name": "Jay Mungara", "link": "https://stackoverflow.com/users/5715935/jay-mungara"}, "reply_to_user": {"reputation": 21, "user_id": 12235021, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Lmuhq-Cmp4k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdSUZGPMkzph9qqf8AJt10cycaflA/photo.jpg?sz=128", "display_name": "David Escobar", "link": "https://stackoverflow.com/users/12235021/david-escobar"}, "edited": false, "score": 0, "creation_date": 1573539045, "post_id": 58812461, "comment_id": 103904337, "body": "Can you please update your question with changes and errors here ?"}, {"owner": {"reputation": 21, "user_id": 12235021, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Lmuhq-Cmp4k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdSUZGPMkzph9qqf8AJt10cycaflA/photo.jpg?sz=128", "display_name": "David Escobar", "link": "https://stackoverflow.com/users/12235021/david-escobar"}, "edited": false, "score": 0, "creation_date": 1573539269, "post_id": 58812461, "comment_id": 103904425, "body": "added the if statement to check if snapshot != null. for me, snapshot is returning null, but i believe the paths to the firestore documents are correct. no other code changes"}, {"owner": {"reputation": 4149, "user_id": 5715935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1659768280958223/picture?type=large", "display_name": "Jay Mungara", "link": "https://stackoverflow.com/users/5715935/jay-mungara"}, "reply_to_user": {"reputation": 21, "user_id": 12235021, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Lmuhq-Cmp4k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdSUZGPMkzph9qqf8AJt10cycaflA/photo.jpg?sz=128", "display_name": "David Escobar", "link": "https://stackoverflow.com/users/12235021/david-escobar"}, "edited": false, "score": 0, "creation_date": 1573539830, "post_id": 58812461, "comment_id": 103904595, "body": "If you are getting snapshot null then there is no meaning of checking and parsing data further. First make sure your query is correct and you are fetching some data. Otherwise parsing data is meaningless."}], "tags": [], "owner": {"reputation": 4149, "user_id": 5715935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1659768280958223/picture?type=large", "display_name": "Jay Mungara", "link": "https://stackoverflow.com/users/5715935/jay-mungara"}, "is_accepted": false, "score": 0, "last_activity_date": 1573535897, "creation_date": 1573535897, "answer_id": 58812461, "question_id": 58812290, "link": "https://stackoverflow.com/questions/58812290/cannot-query-a-document-from-a-sub-collection-from-firestore-collection/58812461#58812461", "title": "Cannot query a document from a sub collection from Firestore collection", "body": "<p>You should always check whether you're snapshot has any data or null like,</p>\n\n<pre><code>if(snapshot!=null)\n</code></pre>\n\n<p>Then you always should check the data inside snapshot is null or not like,</p>\n\n<pre><code>if(snapshot.data!=null)\n</code></pre>\n\n<p>Also, in your case you are calling you're data on null object.</p>\n\n<p>I think you need to replace your <strong>snapshot['item_name']</strong> with <strong>snapshot.data['item_name']</strong> for all the item.</p>\n\n<p>You are mistakenly calling snapshot[\"your_field\"] instead of snapshot.data[\"your_field\"] which is causing the issue.</p>\n\n<p>Also, checking null safety while parsing the data from the network is recommended always.</p>\n"}], "owner": {"reputation": 21, "user_id": 12235021, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Lmuhq-Cmp4k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdSUZGPMkzph9qqf8AJt10cycaflA/photo.jpg?sz=128", "display_name": "David Escobar", "link": "https://stackoverflow.com/users/12235021/david-escobar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 144, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1579245635, "creation_date": 1573534702, "last_edit_date": 1579245635, "question_id": 58812290, "link": "https://stackoverflow.com/questions/58812290/cannot-query-a-document-from-a-sub-collection-from-firestore-collection", "title": "Cannot query a document from a sub collection from Firestore collection", "body": "<p>I am trying to query a specific document nested under collection'users/document'useruid'/collection'items'/'document'documentid'. I keep getting a 'null' value and it errors out:</p>\n\n<pre><code>   try {\n      final user = await _auth.currentUser();\n      if (user != null) {\n        _loggedInUser = user;\n        _userUid = _loggedInUser.uid;\n        setState(() {\n          // showSpinner = false;\n          print(_userUid);\n        });\n      }\n    } catch (e) {\n      print(e);\n    }\n  }\n\n  void getItemDetail() async {\n    await _firestore\n        .collection('users')\n        .document(_userUid)\n        .collection('items')\n        .document(documentID)\n        .get()\n        .then((DocumentSnapshot snapshot) {\n      itemDetails = snapshot.data;\n      itemName = snapshot['item_name'];\n      itemNum = snapshot['item_num'.toString()];\n      itemDesc = snapshot['item_desc'];\n      itemLoc = snapshot['item_location'];\n      itemQty = snapshot['item_qty'.toString()];\n      itemUom = snapshot['item_uom'];\n      itemMfr = snapshot['item_mfr'];\n      itemStock = snapshot['out_of_stock'];\n      lastEditDate = snapshot['edit_date'];\n      createDate = snapshot['create_date'];\n      imageURL = snapshot['image_url'];\n\n      setState(() {\n        dateCreated =\n            new DateFormat.yMMMMd(\"en_US\").format(createDate.toDate());\n        itemDetails = snapshot.data;\n        showSpinner = false;\n        stockCheck();\n        editDateCheck();\n      });\n    });\n  }\n @override\n  void initState() {\n    testApp();\n    getCurrentUser();\n    getItemDetail();\n    //   editDateCheck();\n    super.initState();\n  }\n</code></pre>\n\n<pre><code>flutter error output:\n[VERBOSE-2:ui_dart_state.cc(148)] Unhandled Exception: NoSuchMethodError: The method '[]' was called on null.\nReceiver: null\nTried calling: [](\"item_name\")\n#0      Object.noSuchMethod (dart:core-patch/object_patch.dart:51:5)\n#1      DocumentSnapshot.[] (package:cloud_firestore/src/document_snapshot.dart:29:42)\n#2      _ItemDetailScreenState.getItemDetail.&lt;anonymous closure&gt; (package:simmanager/screens/item_detail_screen.dart:77:26)\n#3      _rootRunUnary (dart:async/zone.dart:1132:38)\n#4      _CustomZone.runUnary (dart:async/zone.dart:1029:19)\n#5      _FutureListener.handleValue (dart:async/future_impl.dart:137:18)\n#6      Future._propagateToListeners.handleValueCallback (dart:async/future_impl.dart:678:45)\n#7      Future._propagateToListeners (dart:async/future_impl.dart:707:32)\n#8      Future._completeWithValue (dart:async/future_impl.dart:522:5)\n#9      _AsyncAwaitCompleter.complete (dart:async-patch/async_patch.dart:30:15)\n#10     _completeOnAsyncReturn (dart:async-patch/async_patch.dart:288:13)\n#&lt;\u2026&gt;\n</code></pre>\n\n<p>The documentid is passed from the navigator on previous page. I have printed (userid, documentid\" all the values correctly print.</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user12522545"}, "is_accepted": false, "score": 5, "last_activity_date": 1576127874, "creation_date": 1576127874, "answer_id": 59298134, "question_id": 58811375, "link": "https://stackoverflow.com/questions/58811375/tapgesturerecognizer-not-working-in-flutter-webview/59298134#59298134", "title": "tapgesturerecognizer not working in flutter webview", "body": "<p>I run at the same problem and was able to make <code>TapGestureRecognizer</code> work by wrapping <code>WebView</code> into <code>GestureDetector</code> with <code>onTap()</code> inside of it. Except that I don't know why does it work.</p>\n\n<pre><code>@override\n Widget build(BuildContext context) {\nreturn Scaffold(\n  body: GestureDetector(\n    onTap: () {\n      print(\"This one doesn't print\");\n    },\n    child: Container(\n      child: Stack(\n        children: &lt;Widget&gt;[\n          WebView(\n            initialUrl:\n                'example.com',\n            javascriptMode: JavascriptMode.unrestricted,\n            onWebViewCreated: (WebViewController webViewController) {\n              _controller.complete(webViewController);\n            },\n            gestureRecognizers: Set()\n              ..add(\n                  Factory&lt;TapGestureRecognizer&gt;(() =&gt; TapGestureRecognizer()\n                    ..onTapDown = (tap) {\n                      print(\"This one prints\");\n                    })),\n          ),\n        ],\n      ),\n    ),\n  ),\n);\n}\n</code></pre>\n\n<p>Wondering if anyone had similar issue and made it work properly.</p>\n"}], "owner": {"reputation": 971, "user_id": 12176146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i7saa6CD6nU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdnigVUDcRnIS2zpgJROryAZKe46w/photo.jpg?sz=128", "display_name": "raman raman", "link": "https://stackoverflow.com/users/12176146/raman-raman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2757, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1576127874, "creation_date": 1573527649, "last_edit_date": 1575987173, "question_id": 58811375, "link": "https://stackoverflow.com/questions/58811375/tapgesturerecognizer-not-working-in-flutter-webview", "title": "tapgesturerecognizer not working in flutter webview", "body": "<p>I tried using GestureRecognizer in flutter webview to zoom out on Double pinch.But it is not working. If you have any solution then please help me </p>\n\n<pre><code>import 'dart:async';\nimport 'package:flutter/material.dart';\nimport 'package:webview_flutter/webview_flutter.dart';\nimport 'package:flutter/foundation.dart';\nimport 'package:flutter/gestures.dart';\n\nvoid main()=&gt;runApp(WebView());\n\nclass WebView extends StatefulWidget {\n  @override\n  _WebViewState createState() =&gt; _WebViewState();\n}\n\nclass _WebViewState extends State&lt;WebView&gt; {\n  final Completer&lt;WebViewController&gt; _controller =\n      Completer&lt;WebViewController&gt;();\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n\n\n      body: Builder(builder: (BuildContext context) {\n        return WebView(\n          key: UniqueKey(),\n          gestureRecognizers:\n          Set()..add(Factory&lt;TapGestureRecognizer&gt;(() =&gt; TapGestureRecognizer(),)),//ZOOM WEBVIEW\n\n          initialUrl:\n              'https://stackoverflow.com/questions/',\n\n          javascriptMode: JavascriptMode.unrestricted,\n          onWebViewCreated: (WebViewController webViewController) {\n            _controller.complete(webViewController);\n          },\n        );\n      }),\n\n    );\n  }\n}\n\n</code></pre>\n\n<p>This was the important part of code If you need full code then please comment.</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 454, "user_id": 3410835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NRX1V.jpg?s=128&g=1", "display_name": "K Pradeep Kumar Reddy", "link": "https://stackoverflow.com/users/3410835/k-pradeep-kumar-reddy"}, "edited": false, "score": 0, "creation_date": 1597955356, "post_id": 58811133, "comment_id": 112309472, "body": "Did you implement this feature in your app ? If yes, Can you please share the code ?"}, {"owner": {"reputation": 5134, "user_id": 3492996, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/853f44b0d51a51fc3b07a9cc476a30a2?s=128&d=identicon&r=PG&f=1", "display_name": "mrapi", "link": "https://stackoverflow.com/users/3492996/mrapi"}, "edited": false, "score": 0, "creation_date": 1601904916, "post_id": 58811133, "comment_id": 118335933, "body": "You can use <a href=\"https://pub.dev/packages/flutter_downloader\" rel=\"nofollow noreferrer\">pub.dev/packages/flutter_downloader</a> and put the user to download the update (apk file) directly from your app"}], "answers": [{"tags": [], "owner": {"reputation": 2219, "user_id": 8608146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3B2gl.jpg?s=128&g=1", "display_name": "Phani Rithvij", "link": "https://stackoverflow.com/users/8608146/phani-rithvij"}, "is_accepted": false, "score": 5, "last_activity_date": 1607592151, "last_edit_date": 1607592151, "creation_date": 1573544216, "answer_id": 58814006, "question_id": 58811133, "link": "https://stackoverflow.com/questions/58811133/flutter-automatically-update-application-when-new-version-is-available/58814006#58814006", "title": "Flutter automatically update application when new version is available", "body": "<p>It's not possible without using the google play store if you want an <code>automatic update</code>.</p>\n<ul>\n<li>You need to handle the versioning yourself by hosting the apks somewhere (say github for example) and check if a new version exists and prompt the user whether they want to update the app.</li>\n<li>Then download the new apk in the background. (You can use <a href=\"https://pub.dev/packages/flutter_downloader\" rel=\"nofollow noreferrer\">this</a> package)</li>\n<li>Then open the apk when it's done downloading using one of the methods mentioned <a href=\"https://stackoverflow.com/a/4604922/8608146\">here</a></li>\n<li>Which will then prompt the user whether to allow installing apks from your app</li>\n</ul>\n<p>A plugin exists if you want to do it using the play store. <a href=\"https://pub.dev/packages/in_app_update\" rel=\"nofollow noreferrer\"><code>in_app_update</code></a>\nWhich wraps the android in-app update <a href=\"https://developer.android.com/guide/playcore/in-app-updates\" rel=\"nofollow noreferrer\">functionality</a>\n<img src=\"https://developer.android.com/images/app-bundle/immediate_flow.png\" alt=\"s\" />\n<img src=\"https://developer.android.com/images/app-bundle/flexible_flow.png\" alt=\"2\" /></p>\n<p>Their official example on <a href=\"https://github.com/feilfeilundfeil/flutter_in_app_update/tree/master/example\" rel=\"nofollow noreferrer\">github</a></p>\n<p>If you also want an iOS solution, then it's not possible. You could redirect the user to the AppStore. Some more info on the <a href=\"https://recoursive.com/2018/02/22/ios_app_distribution_methods_explained/\" rel=\"nofollow noreferrer\">distribution methods</a> available for apple apps.</p>\n<p>There is <a href=\"https://stackoverflow.com/a/23561783/8608146\">this</a> method which <em>might</em> work if you have an enterprise license.</p>\n<p>Whereas if you have a server running, have an endpoint to query the latest versions and another endpoint that allows users to download the apk.</p>\n<p>Use something like github releases if you don't have a server.</p>\n"}, {"tags": [], "owner": {"reputation": 823, "user_id": 9949983, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZFQqcIeRqhI/AAAAAAAAAAI/AAAAAAAAAGg/zc-B1e4fjjM/photo.jpg?sz=128", "display_name": "Abel Tilahun", "link": "https://stackoverflow.com/users/9949983/abel-tilahun"}, "is_accepted": false, "score": 0, "last_activity_date": 1587763534, "last_edit_date": 1592644375, "creation_date": 1587762804, "answer_id": 61417530, "question_id": 58811133, "link": "https://stackoverflow.com/questions/58811133/flutter-automatically-update-application-when-new-version-is-available/61417530#61417530", "title": "Flutter automatically update application when new version is available", "body": "<p>My way of implementation is to use a variable and compare that variable from a database. It could be Firebase or any other. For this example, I will use Firebase realtime database.</p>\n<pre><code>int version = 1;\nvoid checkLatestVersion(){\n    \n//Here i am getting just the value of the latest version stored on firebase.    \ndatabaseReference.child(&quot;version&quot;).child(&quot;latestRealase&quot;).once().then((snapshot){\n      if(snapshot.value != null){\n          int versionNumberFromDatabase = int.parse(snapshot.value));\n          if(versionNumberFromDatabase&gt;version){\n             print(&quot;the app needs to be updated&quot;);\n             //HERE you can create a dialog to display and force users to update\n          }else{\n             print(&quot;The app doesn't to be need updated &quot;);\n          }\n      }\n     });\n }\n</code></pre>\n<p>The above example will work for both Android and iOS, but there is a package that will let you update your app from the app itself. Check the documentation.</p>\n<p><a href=\"https://pub.dev/packages/in_app_update\" rel=\"nofollow noreferrer\">in_app_update 1.1.7</a></p>\n<p>This will enables <strong>In-App Updates</strong> on Android using the official Android APIs.</p>\n"}, {"comments": [{"owner": {"reputation": 147, "user_id": 2654437, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005832311252/picture?type=large", "display_name": "Firas Abd Alrahman", "link": "https://stackoverflow.com/users/2654437/firas-abd-alrahman"}, "edited": false, "score": 0, "creation_date": 1602072639, "post_id": 62377265, "comment_id": 113603130, "body": "It is better to fetch the current version in your server-side code, because google play HTML code may change anytime. for example   r = await backend.io.get(&quot;<a href=\"https://myserver.com/getcurentversion&quot;\" rel=\"nofollow noreferrer\">myserver.com/getcurentversion&quot;</a>);"}], "tags": [], "owner": {"reputation": 61, "user_id": 11516226, "user_type": "registered", "profile_image": "https://graph.facebook.com/2603597216339007/picture?type=large", "display_name": "Bruno Camargos", "link": "https://stackoverflow.com/users/11516226/bruno-camargos"}, "is_accepted": false, "score": 1, "last_activity_date": 1592251857, "last_edit_date": 1592251857, "creation_date": 1592162921, "answer_id": 62377265, "question_id": 58811133, "link": "https://stackoverflow.com/questions/58811133/flutter-automatically-update-application-when-new-version-is-available/62377265#62377265", "title": "Flutter automatically update application when new version is available", "body": "<p>Maybe this help you</p>\n\n<pre><code>Backend backend = Backend.instance();\nPackageInfo packageInfo = await PackageInfo.fromPlatform();\nString packageName = packageInfo.packageName;\n\nResponse r;\ntry {\n\n  r = await backend.io.get(\"https://play.google.com/store/apps/details?id=$packageName&amp;hl=en\");\n  if(r.statusCode == 200){\n    String data = r.data;\n\n    String pat1 = 'Current Version&lt;/div&gt;&lt;span class=\"htlgb\"&gt;&lt;div class=\"IQ1z0d\"&gt;&lt;span class=\"htlgb\"&gt;';\n    String pat2 = '&lt;/span&gt;';\n\n    int p1 = data.indexOf(pat1) + pat1.length;\n    String f = data.substring(p1, data.length);\n    int p2 = f.indexOf(pat2);\n\n    String currentVersion = f.substring(0, p2);\n\n    return currentVersion;\n  }\n\n  return null;\n\n} catch (e) {\n\n  errors = backend.interceptor.errors;\n\n  return null;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1233, "user_id": 8275088, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rcQt2.png?s=128&g=1", "display_name": "Robert Williams", "link": "https://stackoverflow.com/users/8275088/robert-williams"}, "edited": false, "score": 0, "creation_date": 1595448296, "post_id": 62424083, "comment_id": 111482009, "body": "does the first option work in all android versions?"}, {"owner": {"reputation": 3774, "user_id": 7198006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T7qo3.jpg?s=128&g=1", "display_name": "awaik", "link": "https://stackoverflow.com/users/7198006/awaik"}, "reply_to_user": {"reputation": 1233, "user_id": 8275088, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rcQt2.png?s=128&g=1", "display_name": "Robert Williams", "link": "https://stackoverflow.com/users/8275088/robert-williams"}, "edited": false, "score": 1, "creation_date": 1595448873, "post_id": 62424083, "comment_id": 111482222, "body": "Hi, according to documentation - <code>In-app updates works only with devices running Android 5.0 (API level 21) or higher, and requires you to use Play Core library 1.5.0 or higher. Additionally, in-app updates support apps running on only Android mobile devices and tablets, and Chrome OS devices.</code>"}, {"owner": {"reputation": 454, "user_id": 3410835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NRX1V.jpg?s=128&g=1", "display_name": "K Pradeep Kumar Reddy", "link": "https://stackoverflow.com/users/3410835/k-pradeep-kumar-reddy"}, "edited": false, "score": 0, "creation_date": 1597955170, "post_id": 62424083, "comment_id": 112309396, "body": "How to use the upgrader plugin ? I&#39;m not able to understand the example given in the link. where to call the upgrader code is the confusion ?"}, {"owner": {"reputation": 3774, "user_id": 7198006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T7qo3.jpg?s=128&g=1", "display_name": "awaik", "link": "https://stackoverflow.com/users/7198006/awaik"}, "edited": false, "score": 0, "creation_date": 1598014033, "post_id": 62424083, "comment_id": 112327642, "body": "please look the example from developers <a href=\"https://github.com/larryaasen/upgrader/blob/master/example/lib/main.dart\" rel=\"nofollow noreferrer\">github.com/larryaasen/upgrader/blob/master/example/lib/&hellip;</a>"}], "tags": [], "owner": {"reputation": 3774, "user_id": 7198006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T7qo3.jpg?s=128&g=1", "display_name": "awaik", "link": "https://stackoverflow.com/users/7198006/awaik"}, "is_accepted": false, "score": 15, "last_activity_date": 1592380459, "creation_date": 1592380459, "answer_id": 62424083, "question_id": 58811133, "link": "https://stackoverflow.com/questions/58811133/flutter-automatically-update-application-when-new-version-is-available/62424083#62424083", "title": "Flutter automatically update application when new version is available", "body": "<p>Actually, in June 2020, we have more possibilities with Flutter. Among them:</p>\n\n<p><strong>1.</strong> Make updates inside the app. Display two kinds of notifications if the app has the new version. </p>\n\n<p><a href=\"https://i.stack.imgur.com/435dV.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/435dV.png\" alt=\"enter image description here\"></a></p>\n\n<p>Plugin - <a href=\"https://pub.dev/packages/in_app_update\" rel=\"noreferrer\">https://pub.dev/packages/in_app_update</a>\n(works only on Android, iOS doesn't support such functionality)</p>\n\n<p><strong>2.</strong> When a newer app version is available in the app store, a simple alert prompt widget or card is displayed.</p>\n\n<p><a href=\"https://i.stack.imgur.com/15CRW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/15CRW.png\" alt=\"enter image description here\"></a></p>\n\n<p>Works Android &amp; iOS.\nPlugin - <a href=\"https://pub.dev/packages/upgrader\" rel=\"noreferrer\">https://pub.dev/packages/upgrader</a></p>\n\n<p><strong>3.</strong> Use Firebase in-app messaging. It gives flexibility in the messages and forms of notifications. \n- But a lot more boilerplate code and work.\n+ But you can use it for other messages and notifications when your app is growing.</p>\n\n<p><a href=\"https://firebase.google.com/docs/in-app-messaging\" rel=\"noreferrer\">https://firebase.google.com/docs/in-app-messaging</a></p>\n\n<p><strong>4.</strong> Make it by yourself. Maybe even less code then in the case with Firebase messaging. </p>\n"}], "owner": {"reputation": 179, "user_id": 12347304, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DitxkH7d46g/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdN7aoMeF19I0AeqpQUoyNrq2jf7w/photo.jpg?sz=128", "display_name": "habatot haba", "link": "https://stackoverflow.com/users/12347304/habatot-haba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17658, "favorite_count": 8, "answer_count": 4, "score": 17, "last_activity_date": 1616136518, "creation_date": 1573525670, "last_edit_date": 1573562576, "question_id": 58811133, "link": "https://stackoverflow.com/questions/58811133/flutter-automatically-update-application-when-new-version-is-available", "title": "Flutter automatically update application when new version is available", "body": "<p>How can I implement auto-updating of my application when a new version is released without using Google Play Store? I'm using JSON to check the version.</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 2140, "user_id": 3287366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f08c040d1294c1eba0f013f5f683bbd4?s=128&d=identicon&r=PG&f=1", "display_name": "hola", "link": "https://stackoverflow.com/users/3287366/hola"}, "edited": false, "score": 0, "creation_date": 1573513324, "post_id": 58809530, "comment_id": 103899058, "body": "I&#39;m surprised that that doesn&#39;t work. There is a <code>rethrow</code> keyword. Maybe try that. Here&#39;s an example from the dart language tour: <a href=\"https://dart.dev/guides/language/language-tour#catch\" rel=\"nofollow noreferrer\">Dart Exceptions Catch</a>."}, {"owner": {"reputation": 3807, "user_id": 1525050, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/9238bfadc9187c8a0c79334efdbf560f?s=128&d=identicon&r=PG", "display_name": "skystar7", "link": "https://stackoverflow.com/users/1525050/skystar7"}, "reply_to_user": {"reputation": 2140, "user_id": 3287366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f08c040d1294c1eba0f013f5f683bbd4?s=128&d=identicon&r=PG&f=1", "display_name": "hola", "link": "https://stackoverflow.com/users/3287366/hola"}, "edited": false, "score": 0, "creation_date": 1573513826, "post_id": 58809530, "comment_id": 103899193, "body": "with rethrow keyword still the same behavior!"}, {"owner": {"reputation": 2140, "user_id": 3287366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f08c040d1294c1eba0f013f5f683bbd4?s=128&d=identicon&r=PG&f=1", "display_name": "hola", "link": "https://stackoverflow.com/users/3287366/hola"}, "edited": false, "score": 2, "creation_date": 1573514192, "post_id": 58809530, "comment_id": 103899285, "body": "Could it be because <code>addProduct</code> is async and you have to await it?"}, {"owner": {"reputation": 3807, "user_id": 1525050, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/9238bfadc9187c8a0c79334efdbf560f?s=128&d=identicon&r=PG", "display_name": "skystar7", "link": "https://stackoverflow.com/users/1525050/skystar7"}, "reply_to_user": {"reputation": 2140, "user_id": 3287366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f08c040d1294c1eba0f013f5f683bbd4?s=128&d=identicon&r=PG&f=1", "display_name": "hola", "link": "https://stackoverflow.com/users/3287366/hola"}, "edited": false, "score": 1, "creation_date": 1573514918, "post_id": 58809530, "comment_id": 103899484, "body": "yep, that fixed it, thanks :) it seems that if try-catch is used with future then async-await can be used, otherwise chaining functions is the alternative then() &amp; catchError()"}], "owner": {"reputation": 3807, "user_id": 1525050, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/9238bfadc9187c8a0c79334efdbf560f?s=128&d=identicon&r=PG", "display_name": "skystar7", "link": "https://stackoverflow.com/users/1525050/skystar7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1573511686, "creation_date": 1573511365, "last_edit_date": 1573511686, "question_id": 58809530, "link": "https://stackoverflow.com/questions/58809530/why-the-error-wasnt-caught-after-calling-my-async-function", "title": "Why the error wasn&#39;t caught after calling my async function", "body": "<p>Why my error wasn't caught in my second try-catch block, consider this code</p>\n\n<p>In my provider class:</p>\n\n<pre><code>void addProduct(Product product) async {\n    try {\n      const url = '...';\n      final response = await http.post(url,\n          body: json.encode({\n            'title': product.title,\n            'description': product.description,\n            'price': product.price,\n            'imageUrl': product.imageUrl,\n          }));\n\n      final String id = json.decode(response.body)['name'];\n      final productToAdd = Product(\n        id: id,\n        description: product.description,\n        imageUrl: product.imageUrl,\n        price: product.price,\n        title: product.title,\n      );\n      _products.add(productToAdd);\n      notifyListeners();\n    } catch (onError) {\n      print(onError); // it did log the error here\n      throw onError; // stack was printed at this point instead of re-throw\n    }\n  }\n</code></pre>\n\n<p>In my widget:</p>\n\n<pre><code> try {\n        Provider.of&lt;Products&gt;(context, listen: false)\n            .addProduct(_editedProduct);\n      } catch (error) {\n        print('entered error'); //never reached this point\n        showDialog( // never shown\n            context: context,\n            builder: (ctx) {\n              return AlertDialog(\n                title: Text('An error hapened!'),\n                content: Text('Something went wrong while adding the product!'),\n                actions: &lt;Widget&gt;[\n                  FlatButton(\n                    child: Text('ok'),\n                    onPressed: () {\n                      Navigator.of(ctx).pop();\n                    },\n                  )\n                ],\n              );\n            });\n      }\n</code></pre>\n\n<p>Coming from a Java background, the error should be propagated into the other try-catch block, but it didn't.</p>\n\n<p>Can anyone explain? </p>\n\n<p>Many thanks</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "edited": false, "score": 0, "creation_date": 1573528450, "post_id": 58809252, "comment_id": 103902044, "body": "What do you mean by &quot;when refresh indicator is active&quot;?"}, {"owner": {"reputation": 1282, "user_id": 2710413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ef888944dcef3c3f1adaae3015819919?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie White", "link": "https://stackoverflow.com/users/2710413/jamie-white"}, "reply_to_user": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "edited": false, "score": 0, "creation_date": 1573540846, "post_id": 58809252, "comment_id": 103904902, "body": "when <a href=\"https://api.flutter.dev/flutter/material/RefreshIndicator/onRefresh.html\" rel=\"nofollow noreferrer\">onRefresh()</a> callback gets invoked."}], "answers": [{"comments": [{"owner": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "reply_to_user": {"reputation": 1282, "user_id": 2710413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ef888944dcef3c3f1adaae3015819919?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie White", "link": "https://stackoverflow.com/users/2710413/jamie-white"}, "edited": false, "score": 0, "creation_date": 1573549138, "post_id": 58814380, "comment_id": 103908324, "body": "@JamieWhite Could you, please, describe the problem more precisely?"}, {"owner": {"reputation": 1282, "user_id": 2710413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ef888944dcef3c3f1adaae3015819919?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie White", "link": "https://stackoverflow.com/users/2710413/jamie-white"}, "edited": false, "score": 0, "creation_date": 1573550041, "post_id": 58814380, "comment_id": 103908757, "body": "How do I stop _onStartScroll() from running when I swipe down for RefreshIndicator?"}, {"owner": {"reputation": 1282, "user_id": 2710413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ef888944dcef3c3f1adaae3015819919?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie White", "link": "https://stackoverflow.com/users/2710413/jamie-white"}, "edited": false, "score": 0, "creation_date": 1573552831, "post_id": 58814380, "comment_id": 103910211, "body": "You have this the opposite way around - _onStartScroll needs to run when onNotification() indicates scroll has started. It should NOT run when RefreshIndicator is running."}, {"owner": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "reply_to_user": {"reputation": 1282, "user_id": 2710413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ef888944dcef3c3f1adaae3015819919?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie White", "link": "https://stackoverflow.com/users/2710413/jamie-white"}, "edited": false, "score": 0, "creation_date": 1573553323, "post_id": 58814380, "comment_id": 103910499, "body": "@JamieWhite Change the condition to &gt;? I edited the answer."}, {"owner": {"reputation": 1282, "user_id": 2710413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ef888944dcef3c3f1adaae3015819919?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie White", "link": "https://stackoverflow.com/users/2710413/jamie-white"}, "edited": false, "score": 0, "creation_date": 1573553479, "post_id": 58814380, "comment_id": 103910595, "body": "Still does not print &#39;bottom&#39; - on swipe up _onStartScroll needs to output the word &#39;bottom&#39; (because scroll has reached bottom), on swipe down _onStartScroll should not run."}, {"owner": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "reply_to_user": {"reputation": 1282, "user_id": 2710413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ef888944dcef3c3f1adaae3015819919?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie White", "link": "https://stackoverflow.com/users/2710413/jamie-white"}, "edited": false, "score": 0, "creation_date": 1573553964, "post_id": 58814380, "comment_id": 103910842, "body": "@JamieWhite Try <code>metrics.pixels &gt;= metrics.maxScrollExtent</code> condition in _onStartScroll."}, {"owner": {"reputation": 1282, "user_id": 2710413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ef888944dcef3c3f1adaae3015819919?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie White", "link": "https://stackoverflow.com/users/2710413/jamie-white"}, "edited": false, "score": 0, "creation_date": 1573554710, "post_id": 58814380, "comment_id": 103911198, "body": "Anyway to achieve this without using a flag? I need a solution without variables. I&#39;m trying to refactor all the classes, make them stateless widgets without any variables inside them - using blocs to manage data."}, {"owner": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "reply_to_user": {"reputation": 1282, "user_id": 2710413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ef888944dcef3c3f1adaae3015819919?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie White", "link": "https://stackoverflow.com/users/2710413/jamie-white"}, "edited": false, "score": 0, "creation_date": 1573556560, "post_id": 58814380, "comment_id": 103912089, "body": "@JamieWhite Sorry, I don&#39;t have an idea right now. So did it work for you?"}], "tags": [], "owner": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "is_accepted": true, "score": 0, "last_activity_date": 1573553285, "last_edit_date": 1573553285, "creation_date": 1573545867, "answer_id": 58814380, "question_id": 58809252, "link": "https://stackoverflow.com/questions/58809252/how-to-prevent-refreshindicator-from-triggering-scrollstartnotification/58814380#58814380", "title": "How to prevent RefreshIndicator from triggering ScrollStartNotification", "body": "<p>We can only learn scroll direction on update, so we'll listen only for first update after drag start:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>bool isStarted = false;\n\n...\n      onNotification: (scrollNotification) {\n        if (scrollNotification is ScrollUpdateNotification) {\n          if (!isStarted) {\n            isStarted = true;\n\n            if (scrollNotification.metrics.pixels - scrollNotification.dragDetails.delta.dy &gt; 0) {\n              _onStartScroll(scrollNotification.metrics);\n            }\n          }\n        } else if (scrollNotification is ScrollEndNotification) {\n          isStarted = false;\n        }\n      },\n</code></pre>\n"}], "owner": {"reputation": 1282, "user_id": 2710413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ef888944dcef3c3f1adaae3015819919?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie White", "link": "https://stackoverflow.com/users/2710413/jamie-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 441, "favorite_count": 0, "accepted_answer_id": 58814380, "answer_count": 1, "score": 0, "last_activity_date": 1573556305, "creation_date": 1573509574, "last_edit_date": 1573556305, "question_id": 58809252, "link": "https://stackoverflow.com/questions/58809252/how-to-prevent-refreshindicator-from-triggering-scrollstartnotification", "title": "How to prevent RefreshIndicator from triggering ScrollStartNotification", "body": "<p>How to prevent the function _onStartScroll from running when refresh indicator is active? Try swiping down to activate refresh, you should the word 'bottom' in the console.</p>\n\n<pre><code>class TempScreen extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(),\n      body: NotificationListener(\n          onNotification: (scrollNotification) {\n            if (scrollNotification is ScrollStartNotification) {\n              _onStartScroll(scrollNotification.metrics);\n            }\n          },\n          child: RefreshIndicator(\n            onRefresh: () {\n\n              return Future.delayed(\n                  Duration(\n                    milliseconds: 700,\n                  ),\n                      () =&gt; null);\n            },\n            child: CustomScrollView(\n              physics: AlwaysScrollableScrollPhysics(),\n              slivers: &lt;Widget&gt;[\n                SliverToBoxAdapter(\n                  child: Container(\n                    child: Center(\n                      child: Text(\"Swipe Down\"),\n                    ),\n                    margin: EdgeInsets.only(top: 5),\n                  ),\n                ),\n              ],\n            ),\n          )),\n    );\n  }\n\n  _onStartScroll(ScrollMetrics metrics) {\n    if (metrics.pixels == metrics.maxScrollExtent) {\n      print('bottom');\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["regex", "flutter", "dart"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1573509351, "post_id": 58809161, "comment_id": 103897865, "body": "Try <code>r&#39;^\\d{0,3}(?:-(?:\\d{1,6}(?:-(?:\\d{1,4}P?)?)?)?)?$&#39;</code> or <code>r&#39;^\\d{1,3}(?:-(?:\\d{1,6}(?:-(?:\\d{1,4}P?)?)?)?)?$&#39;</code> (with <code>\\d{1,3}</code> at the start) if empty string is not valid."}, {"owner": {"reputation": 133, "user_id": 10601911, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6G2kDM4T4wY/AAAAAAAAAAI/AAAAAAAAABM/nixm9TBwmhQ/photo.jpg?sz=128", "display_name": "Landy Cuadra", "link": "https://stackoverflow.com/users/10601911/landy-cuadra"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1573510996, "post_id": 58809161, "comment_id": 103898396, "body": "correct me if I&#39;m wrong the solution you gave me do the same as <code>([0-9]{0,3})(\\\\-[0-9]{0,6})?(\\\\-[0-9]{0,4})?([a-zA-Z]{0,1})\\&zwnj;&#8203;$</code>   ?.... and I tried what send, but is there a way that you can forbid &quot;-&quot; and &quot;the letter&quot; in the start?"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1573511096, "post_id": 58809161, "comment_id": 103898427, "body": "See <a href=\"https://regex101.com/r/zu3dxi/2\" rel=\"nofollow noreferrer\">regex101.com/r/zu3dxi/2</a>, this regex does not allow the letter or <code>-</code> at the start."}, {"owner": {"reputation": 133, "user_id": 10601911, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6G2kDM4T4wY/AAAAAAAAAAI/AAAAAAAAABM/nixm9TBwmhQ/photo.jpg?sz=128", "display_name": "Landy Cuadra", "link": "https://stackoverflow.com/users/10601911/landy-cuadra"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1573511797, "post_id": 58809161, "comment_id": 103898637, "body": "not so sure what is the problem but when I tried it, in dart it allows me to put the &quot;-&quot; first and allows me to put the letter &quot;d&quot; at the begining... do you know if I should change something to run it correctly in dart?"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1573511954, "post_id": 58809161, "comment_id": 103898682, "body": "Did you use <code>r</code> as I showed? <code>RegExp(r&#39;...&#39;)</code>? <code>static final RegExp rx = RegExp(r&#39;^\\d{1,3}(?:-(?:\\d{1,6}(?:-(?:\\d{1,4}P?)?)?)?)?$&#39;);</code>"}, {"owner": {"reputation": 133, "user_id": 10601911, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6G2kDM4T4wY/AAAAAAAAAAI/AAAAAAAAABM/nixm9TBwmhQ/photo.jpg?sz=128", "display_name": "Landy Cuadra", "link": "https://stackoverflow.com/users/10601911/landy-cuadra"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1573513052, "post_id": 58809161, "comment_id": 103898988, "body": "yes, but i send it into a string, because I re-use the function that validate the format"}, {"owner": {"reputation": 133, "user_id": 10601911, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6G2kDM4T4wY/AAAAAAAAAAI/AAAAAAAAABM/nixm9TBwmhQ/photo.jpg?sz=128", "display_name": "Landy Cuadra", "link": "https://stackoverflow.com/users/10601911/landy-cuadra"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1573513369, "post_id": 58809161, "comment_id": 103899066, "body": "I edit the question so you can see how I use it"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1573515167, "post_id": 58809161, "comment_id": 103899553, "body": "I provided the syntax below. Just use <code>String regexCedula = r&#39;^\\d{1,3}(?:-(?:\\d{1,6}(?:-(?:\\d{1,4}P?)?)?)?)?$&#39;;</code>"}, {"owner": {"reputation": 133, "user_id": 10601911, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6G2kDM4T4wY/AAAAAAAAAAI/AAAAAAAAABM/nixm9TBwmhQ/photo.jpg?sz=128", "display_name": "Landy Cuadra", "link": "https://stackoverflow.com/users/10601911/landy-cuadra"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1573515862, "post_id": 58809161, "comment_id": 103899695, "body": "It&#39;s not restricting no even a character... and I use just like above"}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 10601911, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6G2kDM4T4wY/AAAAAAAAAAI/AAAAAAAAABM/nixm9TBwmhQ/photo.jpg?sz=128", "display_name": "Landy Cuadra", "link": "https://stackoverflow.com/users/10601911/landy-cuadra"}, "edited": false, "score": 0, "creation_date": 1573569939, "post_id": 58809659, "comment_id": 103919000, "body": "I want playing a bit with regex you gave me, it seems that dart is a bit fussy with the regex, it work like this for me... <code>^$|^[0-9]{1,3}(-([0-9]{1,6}(-([0-9]{1,4}[A-Za-z]?)?)?)?)?$</code> if you can edit your answer so I can check it as solution. it would great... Thank you"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 133, "user_id": 10601911, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6G2kDM4T4wY/AAAAAAAAAAI/AAAAAAAAABM/nixm9TBwmhQ/photo.jpg?sz=128", "display_name": "Landy Cuadra", "link": "https://stackoverflow.com/users/10601911/landy-cuadra"}, "edited": false, "score": 0, "creation_date": 1573570113, "post_id": 58809659, "comment_id": 103919097, "body": "@LandyCuadra You should not use <code>^$|</code>, just use an optional group around the pattern. <code>^([0-9]{1,3}(-([0-9]{1,6}(-([0-9]{1,4}[A-Za-z]?)?)?)?)?)?$</code>"}, {"owner": {"reputation": 133, "user_id": 10601911, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6G2kDM4T4wY/AAAAAAAAAAI/AAAAAAAAABM/nixm9TBwmhQ/photo.jpg?sz=128", "display_name": "Landy Cuadra", "link": "https://stackoverflow.com/users/10601911/landy-cuadra"}, "edited": false, "score": 0, "creation_date": 1573572217, "post_id": 58809659, "comment_id": 103920347, "body": "why shouldn&#39;t I?"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 133, "user_id": 10601911, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6G2kDM4T4wY/AAAAAAAAAAI/AAAAAAAAABM/nixm9TBwmhQ/photo.jpg?sz=128", "display_name": "Landy Cuadra", "link": "https://stackoverflow.com/users/10601911/landy-cuadra"}, "edited": false, "score": 0, "creation_date": 1573572327, "post_id": 58809659, "comment_id": 103920403, "body": "@LandyCuadra It is 1) ugly, 2) makes the pattern less efficient, and 3) redundantly longer."}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 1, "last_activity_date": 1573570290, "last_edit_date": 1573570290, "creation_date": 1573512366, "answer_id": 58809659, "question_id": 58809161, "link": "https://stackoverflow.com/questions/58809161/how-can-i-build-regex-for-an-specific-format-that-works-fine-in-edition/58809659#58809659", "title": "How can I build regex for an specific format, that works fine in edition", "body": "<p>Use </p>\n\n<pre><code>String regexCedula = '^([0-9]{1,3}(-([0-9]{1,6}(-([0-9]{1,4}[A-Za-z]?)?)?)?)?)?$';\n</code></pre>\n\n<p>See the <a href=\"https://regex101.com/r/zu3dxi/3\" rel=\"nofollow noreferrer\">regex demo</a></p>\n\n<p><strong>Details</strong></p>\n\n<ul>\n<li><code>^</code> - start of string</li>\n<li><code>([0-9]{1,3}(-([0-9]{1,6}(-([0-9]{1,4}[A-Za-z]?)?)?)?)?)?</code> - an optional sequence of \n\n<ul>\n<li><code>[0-9]{1,3}</code> - 1, 2 or 3 digits</li>\n<li><code>(-([0-9]{1,6}(-([0-9]{1,4}[A-Za-z]?)?)?)?)?</code> - an optional occurrence of:</li>\n<li><code>-</code> - a hyphen </li>\n<li><code>([0-9]{1,6}(-([0-9]{1,4}[A-Za-z]?)?)?)?</code> - an optional occurrence of:\n\n<ul>\n<li><code>[0-9]{1,6}</code> - one to six digits</li>\n<li><code>(-([0-9]{1,4}[A-Za-z]?)?)?</code> - an optional occurrence of:</li>\n<li><code>-</code>  -  a hyphen</li>\n<li><code>([0-9]{1,4}[A-Za-z]?)?</code> - an optional occurrence of 1 to 4 digits and then an optional ASCII letter</li>\n</ul></li>\n</ul></li>\n<li><code>$</code> - end of string.</li>\n</ul>\n"}], "owner": {"reputation": 133, "user_id": 10601911, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6G2kDM4T4wY/AAAAAAAAAAI/AAAAAAAAABM/nixm9TBwmhQ/photo.jpg?sz=128", "display_name": "Landy Cuadra", "link": "https://stackoverflow.com/users/10601911/landy-cuadra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 58809659, "answer_count": 1, "score": 1, "last_activity_date": 1573570290, "creation_date": 1573509099, "last_edit_date": 1573513317, "question_id": 58809161, "link": "https://stackoverflow.com/questions/58809161/how-can-i-build-regex-for-an-specific-format-that-works-fine-in-edition", "title": "How can I build regex for an specific format, that works fine in edition", "body": "<p>I have to do a regular expression for this format.</p>\n\n<p>002-251285-0008P</p>\n\n<p>the first three digits are a zone code could be any number but just 3 digit. after and only after I can add \"-\".\nThen the six digits are a date in sets of two digit 25 - day, 12 - month, and 85 - year (the last 2 digits \n it would be 1985) after that I can add \"-\".\nthe last group is another code formed by 4 numero and a letter.</p>\n\n<p>I wanted to checking while a textfield is being edited. but always something shows up.\nI will put some of my tries but thing like, \"I can add '-' at beginning\" or 'it doesn't match until I have the complete format so the textfield is never written'</p>\n\n<pre><code>^\\$|^([0-9]{0,3})(\\\\-)?([0-9]{0,6})\\$\n\n^\\$|^([0-9]{3})(\\\\-[0-9]{0,6})\\$\n</code></pre>\n\n<p>they aren't complete they just the first to group, but or they to strict and don't allow me to enter just numbre o they are to soft and allow me to enter \"-\" at the start.</p>\n\n<p>every help is appreciated.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>Here is how i use the regex</p>\n\n<p>Here I declare all my regex strings:</p>\n\n<pre><code>class Regex{\n  String regexNumerocondosdecimales = \"^\\$|^(0|([1-9][0-9]{0,3}))(\\\\.[0-9]{0,2})?\\$\";\n  String regexSoloLetrasyEpacios = \"[a-zA-Z \\s]{0,30}\";\n  String regexSoloNumeros = \"^\\$|^(0|([1-9][0-9]{0,1}))\\$\";\n  String regexCedula = \"r'^\\d{1,3}(?:-(?:\\d{1,6}(?:-(?:\\d{1,4}P?)?)?)?)?\\$'\";\n  String regexLetrasyNumeros = \"[a-zA-Z0-9 \\s]{0,200}\";\n  String regexCelular = \"^[578] [0-9]{0,7}\\$\";\n}\n</code></pre>\n\n<p>Here I set and validate it</p>\n\n<pre><code>abstract class ValidadorString{\n  bool esValido(String value);\n}\n\nclass ValidadorRegex implements ValidadorString{\n  final String fuenteRegex;\n  ValidadorRegex({this.fuenteRegex});\n\n  bool esValido(String value){\n    try{\n      final regex = RegExp(fuenteRegex);\n      final matches = regex.allMatches(value);\n      for(Match match in matches){\n        if (match.start == 0 &amp;&amp; match.end == value.length) {\n          return true;\n        }\n      }\n      return false;\n    } catch (e){\n      assert(false, e.toString());\n      return true;\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["dart"], "comments": [{"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1573510789, "post_id": 58809081, "comment_id": 103898344, "body": "Follow <a href=\"https://stackoverflow.com/a/18508061/6509751\">stackoverflow.com/a/18508061/6509751</a>."}, {"owner": {"reputation": 830, "user_id": 3694477, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/77ab08e09267d2b1e1ea5a0b2c4ede98?s=128&d=identicon&r=PG&f=1", "display_name": "iBob101", "link": "https://stackoverflow.com/users/3694477/ibob101"}, "reply_to_user": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1573852829, "post_id": 58809081, "comment_id": 104036849, "body": "Thanks - useful ideas in that link."}], "answers": [{"tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": true, "score": 2, "last_activity_date": 1573545581, "creation_date": 1573545581, "answer_id": 58814319, "question_id": 58809081, "link": "https://stackoverflow.com/questions/58809081/dart-private-array/58814319#58814319", "title": "Dart private array", "body": "<p>You cannot expose a mutable object and be certain that it's not changed by someone else.\nThat leaves your options as:</p>\n\n<ul>\n<li>Not exposing the object at all.</li>\n<li>Exposing a view of the object which does not allow modification.</li>\n</ul>\n\n<p>The former is not as bad as it sounds. If you give your container class members which accesses the members of the protected object, then you don't have to expose the object itself. (It might even be a good idea, q.v. <a href=\"https://en.wikipedia.org/wiki/Law_of_Demeter\" rel=\"nofollow noreferrer\">\"the law of Demeter\"</a>).</p>\n\n<p>The latter would mean wrapping the real object in a view adapter which throws if you want to make changes. For a <code>List</code>, you can use an <a href=\"https://pub.dev/documentation/collection/latest/collection/UnmodifiableListView-class.html\" rel=\"nofollow noreferrer\">UnmodifiableListView</a>. For other classes, you might need to write one yourself.\nThis solution is obviously only skin deep. Code with access to the unmodifiable list cannot change which objects are elements of the list, but if those objects are themselves mutable, then they can be changed as well.\nUsually protecting the list itself is what you need.</p>\n"}], "owner": {"reputation": 830, "user_id": 3694477, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/77ab08e09267d2b1e1ea5a0b2c4ede98?s=128&d=identicon&r=PG&f=1", "display_name": "iBob101", "link": "https://stackoverflow.com/users/3694477/ibob101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 58814319, "answer_count": 1, "score": 0, "last_activity_date": 1573545581, "creation_date": 1573508625, "question_id": 58809081, "link": "https://stackoverflow.com/questions/58809081/dart-private-array", "title": "Dart private array", "body": "<p>In Dart, I have a class like this that protects _x behind getters/setters which allows me to control changes to _x:</p>\n\n<pre><code>//in a.dart\nclass A {\n  int _x;\n  int get x =&gt; _x;\n  set x(int value) {\n    bool validation_ok=true;\n    //do some validation/processing\n    if (validation_ok) {\n      _x = value;\n      //perform side effects that should happen every time _x changes e.g. save to SharedPreferences\n      print('Validated $value and side effects performed');\n    }\n  }\n}\n//in amain.dart\nimport 'a.dart';\nvoid main() {\n  A a = A();\n  a.x = 5; //if validation successful stores 5 to _x and performs side effects\n  print(a.x); //prints 'Validated 5 and side effects performed' and then '5'\n}\n\n</code></pre>\n\n<p>But what can I do if instead of an int, I want to protect a List or an object?</p>\n\n<pre><code>//in b.dart\nclass B {\n  List&lt;int&gt; _y;\n  List&lt;int&gt; get y =&gt; _y;\n  set y(List&lt;int&gt; value) {\n    bool validation_ok=true;\n    //do some validation/processing\n    if (validation_ok) {\n      _y = value;\n      //perform side effects that should happen every time _y changes e.g. save to SharedPreferences\n      print('Validated $value and side effects performed');\n    }\n  }\n}\n//in bmain.dart\nimport 'b.dart';\nvoid main() {\n  B b = B();\n  b.y = [5]; //if validation successful stores [5] to _y and performs side effects\n  print(b.y); //prints 'Validated [5] and side effects performed' and '[5]'\n  b.y.add(6); //now _y is [5,6] but no validation was done on 6 and no side effects performed\n  print(b.y); //prints '[5,6]' only\n}\n</code></pre>\n\n<p>Notice that in bmain.dart the line <code>b.y.add(6)</code> adds to the private list without going through the setter. How can I ensure no such access is permitted and any changes to the private list or object are controlled?</p>\n"}, {"tags": ["html", "authentication", "flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 636, "user_id": 7825423, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qns2g.jpg?s=128&g=1", "display_name": "DoobieAsDave", "link": "https://stackoverflow.com/users/7825423/doobieasdave"}, "is_accepted": false, "score": 1, "last_activity_date": 1573556768, "creation_date": 1573556768, "answer_id": 58817386, "question_id": 58808855, "link": "https://stackoverflow.com/questions/58808855/post-user-and-password-from-website-in-flutter/58817386#58817386", "title": "post user and password from website in Flutter", "body": "<p>You have to use flutters WebView package to send data from Flutter to HTML using JavaScript.</p>\n\n<p>Follow this short tutorial to get a quick overview off the WebView package:\n<a href=\"https://medium.com/flutter/the-power-of-webviews-in-flutter-a56234b57df2\" rel=\"nofollow noreferrer\">https://medium.com/flutter/the-power-of-webviews-in-flutter-a56234b57df2</a></p>\n\n<p>If you assign a WebViewController to the WebView (see tutorial) you can use the controller to send JavaScript messages to the HTML webpage from Flutter.</p>\n\n<p>Use the following code in the \u00abonPageFinished\u00bb function of the WebView widget:</p>\n\n<pre><code>_webController.evaluateJavascript(\n   '''\n     var email = document.getElementById(\"user\");\n     var password = document.getElementById(\"pass\");\n     email.value = \"${_yourFlutterUserTextController.text}\";\n     password.value = \"${_yourFlutterPasswordTextController.text}\"\n   '''\n);\n</code></pre>\n\n<p>As you can see you can place Flutter variables like the username and password from your Flutter app and send the JavaScript snippet to the website which executes the JavaScript.</p>\n\n<p>You could also fire a button click after filling out the login...</p>\n\n<p>Hope this helps and good luck!</p>\n"}, {"comments": [{"owner": {"reputation": 29, "user_id": 12310053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c584a199487defcf40ef16e07edfd2e0?s=128&d=identicon&r=PG&f=1", "display_name": "miwa", "link": "https://stackoverflow.com/users/12310053/miwa"}, "edited": false, "score": 0, "creation_date": 1573593522, "post_id": 58821608, "comment_id": 103930180, "body": "It works thanks. But in my example I have a problem with the function &quot;print(res.body&quot;). Only a few lines of the html code are shown. Does this happen, because something doesn&#180;t work or does the type var isnt&#180;t big enough?"}, {"owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "reply_to_user": {"reputation": 29, "user_id": 12310053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c584a199487defcf40ef16e07edfd2e0?s=128&d=identicon&r=PG&f=1", "display_name": "miwa", "link": "https://stackoverflow.com/users/12310053/miwa"}, "edited": false, "score": 0, "creation_date": 1573639493, "post_id": 58821608, "comment_id": 103944243, "body": "That&#39;s just the console truncating at ~1000 characters. Use <code>print(res.body.length);</code> to confirm that the whole response is actually there."}, {"owner": {"reputation": 29, "user_id": 12310053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c584a199487defcf40ef16e07edfd2e0?s=128&d=identicon&r=PG&f=1", "display_name": "miwa", "link": "https://stackoverflow.com/users/12310053/miwa"}, "edited": false, "score": 0, "creation_date": 1573734080, "post_id": 58821608, "comment_id": 103984810, "body": "Another problem is, that there is a button on the Website to Login. How can I click the button with flutter after filling in the username and password? I added the code, which you send, but I get a response with the code from the same Website without a values I filled in."}, {"owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "reply_to_user": {"reputation": 29, "user_id": 12310053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c584a199487defcf40ef16e07edfd2e0?s=128&d=identicon&r=PG&f=1", "display_name": "miwa", "link": "https://stackoverflow.com/users/12310053/miwa"}, "edited": false, "score": 0, "creation_date": 1573735189, "post_id": 58821608, "comment_id": 103985407, "body": "The code above mimics what the browser would probably do when you click the login button. Of course, there maybe be other hidden fields in the html you need to post, or the server may have expected a cookie to be returned, or there may be JavaScript hidden behind the button too. You need to dig deeper into the HTML of the login page and/or speak with the server admin to see what you are missing."}], "tags": [], "owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "is_accepted": true, "score": 0, "last_activity_date": 1573571916, "creation_date": 1573571916, "answer_id": 58821608, "question_id": 58808855, "link": "https://stackoverflow.com/questions/58808855/post-user-and-password-from-website-in-flutter/58821608#58821608", "title": "post user and password from website in Flutter", "body": "<p>When you fill in those fields in a browser and hit <code>submit</code> the browser sends a request to the <code>action</code> url, using the <code>method</code> specified in the <code>form</code> tag. If the method is <code>POST</code> it collects the fields, encodes them using a format called <code>x-www-form-urlencoded</code> and adds that as the body of the request.</p>\n\n<p>(Note that the browser may take some additional steps like running JavaScript, which may alter the values. You would need to alter your values in the same way.)</p>\n\n<p>The Dart <code>package:http</code> provides all these functions for you. If you provide a <code>Map&lt;String, String&gt;</code> as the body parameter of a <code>post</code>, it encodes them for you and sets the content type.</p>\n\n<pre><code>void send() async {\n  var form = &lt;String, String&gt;{\n    'user': 'miwa',\n    'pass': 'M1VVA%',\n  };\n\n  var res = await http.post(\n    'https://some.website.de/fuer-studierende/intranet/',\n    body: form,\n  );\n  print(res.statusCode);\n  print(res.body);\n}\n</code></pre>\n\n<p>Of course, you will likely receive in response a large lump of HTML and a session cookie, which you will have to parse and extract respectively.</p>\n"}], "owner": {"reputation": 29, "user_id": 12310053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c584a199487defcf40ef16e07edfd2e0?s=128&d=identicon&r=PG&f=1", "display_name": "miwa", "link": "https://stackoverflow.com/users/12310053/miwa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1599, "favorite_count": 2, "accepted_answer_id": 58821608, "answer_count": 2, "score": 1, "last_activity_date": 1573571916, "creation_date": 1573507221, "question_id": 58808855, "link": "https://stackoverflow.com/questions/58808855/post-user-and-password-from-website-in-flutter", "title": "post user and password from website in Flutter", "body": "<p>I want to use information from a website in an app I programm in flutter. I need to log in at the website first. The html code of the website is this:</p>\n\n<pre><code>&lt;div&gt;Geben Sie Ihren Benutzernamen und Ihr Passwort ein, um sich an der Website anzumelden:&lt;/div&gt;\n&lt;!-- ###LOGIN_FORM### --&gt;\n&lt;form action=\"/fuer-studierende/intranet/\" target=\"_top\" method=\"post\" onsubmit=\"; return true;\"&gt;\n    &lt;fieldset&gt;\n    &lt;legend&gt;Anmelden&lt;/legend&gt;\n    &lt;div&gt;\n        &lt;label for=\"user\"&gt;Benutzername:&lt;/label&gt;\n        &lt;input type=\"text\" id=\"user\" name=\"user\" value=\"\" /&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;label for=\"pass\"&gt;Passwort:&lt;/label&gt;\n        &lt;input type=\"password\" id=\"pass\" name=\"pass\" value=\"\" data-rsa-encryption=\"\" /&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>I need to fill in the user name in line 8 after \"value\" and the password in line 12 after \"value\". How can I do this in flutter?</p>\n"}, {"tags": ["flutter", "dart", "visual-studio-code"], "answers": [{"tags": [], "owner": {"reputation": 3431, "user_id": 10409567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F9li.jpg?s=128&g=1", "display_name": "griffins", "link": "https://stackoverflow.com/users/10409567/griffins"}, "is_accepted": false, "score": -1, "last_activity_date": 1573525374, "creation_date": 1573525374, "answer_id": 58811093, "question_id": 58808784, "link": "https://stackoverflow.com/questions/58808784/bottom-navigation-bar-flutter-detail-page/58811093#58811093", "title": "bottom navigation bar flutter detail page", "body": "<p>here is how to go about adding bottom navigation in flutter</p>\n\n<pre><code> import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\n/// This Widget is the main application widget.\nclass MyApp extends StatelessWidget {\n  static const String _title = ' Code Sample';\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: _title,\n      home: MyStatefulWidget(),\n    );\n  }\n}\n\nclass MyStatefulWidget extends StatefulWidget {\n  MyStatefulWidget({Key key}) : super(key: key);\n\n  @override\n  _MyStatefulWidgetState createState() =&gt; _MyStatefulWidgetState();\n}\n\nclass _MyStatefulWidgetState extends State&lt;MyStatefulWidget&gt; {\n  int _selectedIndex = 0;\n\n  static const List&lt;Widget&gt; _widgetOptions = &lt;Widget&gt;[\n    ScreenOne(),\n    ScreenTwo(),\n    ScreenThree()\n  ];\n\n  void _onItemTapped(int index) {\n    setState(() {\n      _selectedIndex = index;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('BottomNavigationBar Sample'),\n      ),\n      body: Center(\n        child: _widgetOptions.elementAt(_selectedIndex),\n      ),\n      bottomNavigationBar: BottomNavigationBar(\n        items: const &lt;BottomNavigationBarItem&gt;[\n          BottomNavigationBarItem(\n            icon: Icon(Icons.home),\n            title: Text('Home'),\n          ),\n          BottomNavigationBarItem(\n            icon: Icon(Icons.business),\n            title: Text('Business'),\n          ),\n          BottomNavigationBarItem(\n            icon: Icon(Icons.school),\n            title: Text('School'),\n          ),\n        ],\n//handle your selection here\n        currentIndex: _selectedIndex,\n        selectedItemColor: Colors.amber[800],\n\n        onTap: _onItemTapped,\n      ),\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7686015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3a86a0ba250b28bc1945a08217cf78b?s=128&d=identicon&r=PG&f=1", "display_name": "Dramz", "link": "https://stackoverflow.com/users/7686015/dramz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 923, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573525374, "creation_date": 1573506840, "last_edit_date": 1573519729, "question_id": 58808784, "link": "https://stackoverflow.com/questions/58808784/bottom-navigation-bar-flutter-detail-page", "title": "bottom navigation bar flutter detail page", "body": "<p>good morning community\nI have the following flutter code of an interface with bottom navigation tabs, I have two concerns how can the app not navigate the state two every time the user clicks and my other question is how can I go to a detail page without losing the bottom navigation tab on each screen of the application</p>\n\n<p>I've been stuck in this problem for several days without knowing how to handle the topic of navigation of flutter detail pages</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:flutter/services.dart';\nimport 'package:app/helpers/static-tabs.dart';\nimport 'package:app/pages/first-tab.dart' as first;\nimport 'package:app/pages/account-tab.dart' as second;\nimport 'package:app/pages/camara-tab.dart' as third;\nimport 'package:app/pages/fundaciones-tab.dart' as four;\nimport 'package:app/pages/noticias-tab.dart' as five;\nimport 'package:app/helpers/static-tabs.dart';\n\nclass MyTabs extends StatefulWidget{\n@override\nMyTabsState createState() =&gt; new MyTabsState();\n}\n\nclass MyTabsState extends State&lt;MyTabs&gt; with SingleTickerProviderStateMixin{\n\n\n\nTabController controller;\n  int _currentIndex = 0;\n\n  GlobalKey globalKey = new GlobalKey(debugLabel: 'btm_app_bar');\n  final List&lt;Widget&gt;  _children =\n   [\n   first.FirstPage(),\n   second.SecondPage(),\n   third.Third(),\n   four.FourPage(),\n   five.Five()\n  ];\n\n  @override\n  void initState(){\n    super.initState();\n    controller = new TabController(vsync: this, length: 5);\n  }\n\n  @override\n  void dispose(){\n    controller.dispose();\n    super.dispose();\n  }\n\n  void onTappedBar(int index){\n     setState(() {\n      _currentIndex = index; \n     print (index);\n\n\n   final BottomNavigationBar navigationBar = globalKey.currentWidget;\n       if (_currentIndex == 2 ){\n         print (\"entra\");\n\n       navigationBar.onTap(index);\n      //return;\n     }\n\n    });\n  }\n\n    //Use the navigator like you usually do with .of(context) method\n  _openDetailsPage(BuildContext context) =&gt; Navigator.of(context)\n      .push(MaterialPageRoute(builder: (context) =&gt; StaticTabsPage()));\n\n\n  @override\n  Widget build(BuildContext context){\n      SystemChrome.setPreferredOrientations([\n        DeviceOrientation.portraitUp,\n        DeviceOrientation.portraitDown,\n      ]);\n    return new Scaffold(\n      backgroundColor: Color(0xFFEDF0F6),\n      appBar: new AppBar(title: new Text(\"Adoptame\"), centerTitle: true, backgroundColor: Colors.green,\n\n      ),\n\n         bottomNavigationBar: ClipRRect(\n\n        borderRadius: BorderRadius.only(\n          topLeft: Radius.circular(30.0),\n          topRight: Radius.circular(30.0),\n        ),\n        child: BottomNavigationBar(\n          onTap: onTappedBar,\n          type: BottomNavigationBarType.fixed,\n          items: [\n            BottomNavigationBarItem(\n              icon: Icon(\n                Icons.dashboard,\n                size: 30.0,\n                color: Colors.black,\n              ),\n              title: Text(''),\n            ),\n            BottomNavigationBarItem(\n              icon: Icon(\n                Icons.search,\n                size: 30.0,\n                color: Colors.grey,\n              ),\n              title: Text(''),\n            ),\n            BottomNavigationBarItem(\n              icon: Padding(\n                padding: EdgeInsets.symmetric(horizontal: 5.0, vertical: 10.0),\n                child: FlatButton(\n                  padding: EdgeInsets.symmetric(vertical: 10.0),\n                  shape: RoundedRectangleBorder(\n                    borderRadius: BorderRadius.circular(30.0),\n                  ),\n                  color: Color(0xFF23B66F),\n                  onPressed: () =&gt;   _openDetailsPage(context),\n                  child: Icon(\n                    Icons.add,\n                    size: 35.0,\n                    color: Colors.white,\n                  ),\n                ),\n              ),\n              title: Text(''),\n            ),\n            BottomNavigationBarItem(\n              icon: Icon(\n                Icons.favorite_border,\n                size: 30.0,\n                color: Colors.grey,\n              ),\n              title: Text(''),\n            ),\n            BottomNavigationBarItem(\n              icon: Icon(\n                Icons.person_outline,\n                size: 30.0,\n                color: Colors.grey,\n              ),\n              title: Text(''),\n            ),\n          ],\n        ),\n      ),\n      body: _children [_currentIndex] ,\n\n    );\n  }\n}\n</code></pre>\n\n<p>Thank you very much for your answers ,</p>\n\n<p>regards</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4606786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adeae1970da0b477b2cff4dc4bf55bca?s=128&d=identicon&r=PG&f=1", "display_name": "chikilicuatre", "link": "https://stackoverflow.com/users/4606786/chikilicuatre"}, "edited": false, "score": 0, "creation_date": 1573634030, "post_id": 58808428, "comment_id": 103941338, "body": "Executing with Timer, it would load the entire array or the array would be added on array"}, {"owner": {"reputation": 11, "user_id": 4606786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adeae1970da0b477b2cff4dc4bf55bca?s=128&d=identicon&r=PG&f=1", "display_name": "chikilicuatre", "link": "https://stackoverflow.com/users/4606786/chikilicuatre"}, "edited": false, "score": 0, "creation_date": 1573675318, "post_id": 58808428, "comment_id": 103963143, "body": "at the following direction, it explains a similar solution, but I can&#39;t get it to work <a href=\"https://github.com/fayeed/dash_chat/blob/master/lib/src/models/reply.dart\" rel=\"nofollow noreferrer\">github.com/fayeed/dash_chat/blob/master/lib/src/models/&hellip;</a>"}, {"owner": {"reputation": 11, "user_id": 4606786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adeae1970da0b477b2cff4dc4bf55bca?s=128&d=identicon&r=PG&f=1", "display_name": "chikilicuatre", "link": "https://stackoverflow.com/users/4606786/chikilicuatre"}, "edited": false, "score": 0, "creation_date": 1573675382, "post_id": 58808428, "comment_id": 103963166, "body": "main.dart      void initState() {         super.initState();         if (widget.appState.items.isEmpty) {           getMoreItems();         }         {           timer =               Timer.periodic(Duration(seconds: 15), (Timer t) =&gt; getMoreItems());         }       }      ...            getNextItems() async {         List&lt;Item&gt; item =             await Api.getNextItems(++widget.appState.lastPage);         widget.appState.items.add(item);         setState(() {});       }"}, {"owner": {"reputation": 11, "user_id": 4606786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adeae1970da0b477b2cff4dc4bf55bca?s=128&d=identicon&r=PG&f=1", "display_name": "chikilicuatre", "link": "https://stackoverflow.com/users/4606786/chikilicuatre"}, "edited": false, "score": 0, "creation_date": 1573675426, "post_id": 58808428, "comment_id": 103963188, "body": "api.dart        static Future&lt;List&lt;Item&gt;&gt; getNextItem(int page) async {              http.Response response = await http.get(popularUrl(Items));              Map&lt;String, dynamic&gt; decoded = json.decode(response.body);              List&lt;dynamic&gt; list = decoded[&#39;data&#39;];       }"}, {"owner": {"reputation": 11, "user_id": 4606786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adeae1970da0b477b2cff4dc4bf55bca?s=128&d=identicon&r=PG&f=1", "display_name": "chikilicuatre", "link": "https://stackoverflow.com/users/4606786/chikilicuatre"}, "edited": false, "score": 0, "creation_date": 1573675447, "post_id": 58808428, "comment_id": 103963198, "body": "class.dart  class Item {   final int id;   final String name;    Item({     this.id,     this.name,   });    Item.fromJson(Map&lt;String, dynamic&gt; json)       : id = int.parse(json[&#39;id&#39;]),         name = int.parse(json[&#39;name&#39;]); }"}], "tags": [], "owner": {"reputation": 230, "user_id": 12286396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wh6sV.jpg?s=128&g=1", "display_name": "XueQing", "link": "https://stackoverflow.com/users/12286396/xueqing"}, "is_accepted": false, "score": 3, "last_activity_date": 1573817909, "last_edit_date": 1573817909, "creation_date": 1573504954, "answer_id": 58808428, "question_id": 58808162, "link": "https://stackoverflow.com/questions/58808162/is-it-possible-to-recall-a-function-every-x-seconds-at-flutter/58808428#58808428", "title": "Is it possible to recall a function every x seconds at flutter?", "body": "<p>Actually It is easy to run function every x amount of seconds on flatter.\nYou can use Timer to recall function per x seconds.</p>\n\n<pre><code>Timer timer;\n\nvoid initState() {\n  super.initState();\n  timer = Timer.periodic(Duration(seconds: 15), (Timer t) =&gt; checkForNewSharedLists());\n}\n\nvoid dispose() {\n  timer.cancel();\n  super.dispose();\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4606786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adeae1970da0b477b2cff4dc4bf55bca?s=128&d=identicon&r=PG&f=1", "display_name": "chikilicuatre", "link": "https://stackoverflow.com/users/4606786/chikilicuatre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 302, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573817909, "creation_date": 1573503625, "question_id": 58808162, "link": "https://stackoverflow.com/questions/58808162/is-it-possible-to-recall-a-function-every-x-seconds-at-flutter", "title": "Is it possible to recall a function every x seconds at flutter?", "body": "<p>Is it possible to recall a function every x seconds at flutter?  And notify if there are changes?\nthe code is as follows</p>\n\n<pre><code>  List&lt;Any&gt; any =\n      await Api.getAny(++widget.appState.lastPage, widget.datauser);\n  widget.appState.issues.addAll(issues);\n  setState(() {});\n}```\n</code></pre>\n"}, {"tags": ["flutter", "dart", "location"], "comments": [{"owner": {"reputation": 12243, "user_id": 2192494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddd4f75b6e9293967ba3c81f89edd68a?s=128&d=identicon&r=PG", "display_name": "Lee Daniel Crocker", "link": "https://stackoverflow.com/users/2192494/lee-daniel-crocker"}, "edited": false, "score": 1, "creation_date": 1573503665, "post_id": 58808132, "comment_id": 103895666, "body": "Does the machine you&#39;re running it on have an altitude sensor?"}], "answers": [{"tags": [], "owner": {"reputation": 1264, "user_id": 9010507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6aeb52c80e12ee803c8ad6e8114620df?s=128&d=identicon&r=PG&f=1", "display_name": "GILO", "link": "https://stackoverflow.com/users/9010507/gilo"}, "is_accepted": true, "score": 0, "last_activity_date": 1573981967, "creation_date": 1573981967, "answer_id": 58899008, "question_id": 58808132, "link": "https://stackoverflow.com/questions/58808132/flutter-location-altitude-returns-0-0/58899008#58899008", "title": "Flutter location.altitude returns 0.0", "body": "<p>If you are having issues with finding altitude, it is most probably because of either a faulty sensor or the absence of such sensor.</p>\n"}], "owner": {"reputation": 1264, "user_id": 9010507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6aeb52c80e12ee803c8ad6e8114620df?s=128&d=identicon&r=PG&f=1", "display_name": "GILO", "link": "https://stackoverflow.com/users/9010507/gilo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 326, "favorite_count": 1, "accepted_answer_id": 58899008, "answer_count": 1, "score": 1, "last_activity_date": 1598304637, "creation_date": 1573503490, "question_id": 58808132, "link": "https://stackoverflow.com/questions/58808132/flutter-location-altitude-returns-0-0", "title": "Flutter location.altitude returns 0.0", "body": "<p>I know for certain that the my location has higher altitude than 0.0. However when I run this.</p>\n\n<pre><code>  LocationData point = await location.getLocation();\n  elevation = point.altitude;\n  print(\"Elevation: \"+elevation.toString());\n</code></pre>\n\n<p>It outputs </p>\n\n<blockquote>\n  <p>Elevation: 0.0</p>\n</blockquote>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 16038, "user_id": 96811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7df875806d3b905216f51a89cd478d3?s=128&d=identicon&r=PG", "display_name": "smorgan", "link": "https://stackoverflow.com/users/96811/smorgan"}, "edited": false, "score": 0, "creation_date": 1573505654, "post_id": 58808037, "comment_id": 103896422, "body": "As the error message says, you currently need to build in verbose mode to get the output necessary to see why the underlying native build failed. The <code>flutter</code> tool stack trace you have there only indicates that the native build failed; any failure at all in that step would have the same stack."}, {"owner": {"reputation": 1847, "user_id": 4369951, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/100001171805696/picture?type=large", "display_name": "Daniel DirtyNative Martin", "link": "https://stackoverflow.com/users/4369951/daniel-dirtynative-martin"}, "reply_to_user": {"reputation": 16038, "user_id": 96811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7df875806d3b905216f51a89cd478d3?s=128&d=identicon&r=PG", "display_name": "smorgan", "link": "https://stackoverflow.com/users/96811/smorgan"}, "edited": false, "score": 0, "creation_date": 1573505716, "post_id": 58808037, "comment_id": 103896443, "body": "did forget to mention that this is the verbose output"}, {"owner": {"reputation": 16038, "user_id": 96811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7df875806d3b905216f51a89cd478d3?s=128&d=identicon&r=PG", "display_name": "smorgan", "link": "https://stackoverflow.com/users/96811/smorgan"}, "edited": false, "score": 0, "creation_date": 1573505872, "post_id": 58808037, "comment_id": 103896487, "body": "It&#39;s definitely not the entire verbose output, because there&#39;s absolutely no output from the native build step in what you&#39;ve shown. It&#39;s impossible to debug the problem without the part of the output that indicates what failed in the build."}], "answers": [{"tags": [], "owner": {"reputation": 1595, "user_id": 9346520, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wn6xY.jpg?s=128&g=1", "display_name": "Muhammad Ashraf", "link": "https://stackoverflow.com/users/9346520/muhammad-ashraf"}, "is_accepted": false, "score": 0, "last_activity_date": 1594136101, "last_edit_date": 1594136101, "creation_date": 1583500297, "answer_id": 60564779, "question_id": 58808037, "link": "https://stackoverflow.com/questions/58808037/why-does-flutter-desktop-embedding-throw-an-error-on-build/60564779#60564779", "title": "why does flutter desktop-embedding throw an error on build?", "body": "<p>This problem is due Flutter Version to Solve it</p>\n<ol>\n<li><p>Open Terminal and Write <code>flutter upgrade --force</code></p>\n</li>\n<li><p>Open Your Windows Flutter Project and Write <code>flutter run</code></p>\n</li>\n</ol>\n"}], "owner": {"reputation": 1847, "user_id": 4369951, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/100001171805696/picture?type=large", "display_name": "Daniel DirtyNative Martin", "link": "https://stackoverflow.com/users/4369951/daniel-dirtynative-martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 406, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1594136101, "creation_date": 1573502974, "last_edit_date": 1573503388, "question_id": 58808037, "link": "https://stackoverflow.com/questions/58808037/why-does-flutter-desktop-embedding-throw-an-error-on-build", "title": "why does flutter desktop-embedding throw an error on build?", "body": "<p>I want to run my existing flutter app on windows, so I loaded the lastest flutter-desktop-embedding version, placed my code inside and tried to run it. It soon breaks with an exception:</p>\n\n<pre><code>Build process failed. To view the stack trace, please run `flutter run -d windows -v`.\n\n#0      throwToolExit (package:flutter_tools/src/base/common.dart:28:3)\n#1      buildWindows (package:flutter_tools/src/windows/build_windows.dart:82:5)\n&lt;asynchronous suspension&gt;\n#2      WindowsDevice.buildForDevice (package:flutter_tools/src/windows/windows_device.dart:46:11)\n#3      DesktopDevice.startApp (package:flutter_tools/src/desktop_device.dart:87:13)\n&lt;asynchronous suspension&gt;\n#4      FlutterDevice.runHot (package:flutter_tools/src/resident_runner.dart:416:54)\n&lt;asynchronous suspension&gt;\n#5      HotRunner.run (package:flutter_tools/src/run_hot.dart:266:39)\n&lt;asynchronous suspension&gt;\n#6      RunCommand.runCommand (package:flutter_tools/src/commands/run.dart:499:37)\n&lt;asynchronous suspension&gt;\n#7      FlutterCommand.verifyThenRunCommand (package:flutter_tools/src/runner/flutter_command.dart:570:18)\n#8      _asyncThenWrapperHelper.&lt;anonymous closure&gt; (dart:async-patch/async_patch.dart:71:64)\n#9      _rootRunUnary (dart:async/zone.dart:1132:38)\n#10     _CustomZone.runUnary (dart:async/zone.dart:1029:19)\n#11     _FutureListener.handleValue (dart:async/future_impl.dart:137:18)\n#12     Future._propagateToListeners.handleValueCallback (dart:async/future_impl.dart:678:45)\n#13     Future._propagateToListeners (dart:async/future_impl.dart:707:32)\n#14     Future._completeWithValue (dart:async/future_impl.dart:522:5)\n#15     _AsyncAwaitCompleter.complete (dart:async-patch/async_patch.dart:30:15)\n#16     _completeOnAsyncReturn (dart:async-patch/async_patch.dart:288:13)\n#17     RunCommand.usageValues (package:flutter_tools/src/commands/run.dart)\n#18     _asyncThenWrapperHelper.&lt;anonymous closure&gt; (dart:async-patch/async_patch.dart:71:64)\n#19     _rootRunUnary (dart:async/zone.dart:1132:38)\n#20     _CustomZone.runUnary (dart:async/zone.dart:1029:19)\n#21     _FutureListener.handleValue (dart:async/future_impl.dart:137:18)\n#22     Future._propagateToListeners.handleValueCallback (dart:async/future_impl.dart:678:45)\n#23     Future._propagateToListeners (dart:async/future_impl.dart:707:32)\n#24     Future._completeWithValue (dart:async/future_impl.dart:522:5)\n#25     _AsyncAwaitCompleter.complete (dart:async-patch/async_patch.dart:30:15)\n#26     _completeOnAsyncReturn (dart:async-patch/async_patch.dart:288:13)\n#27     IosProject.isSwift (package:flutter_tools/src/project.dart)\n#28     _asyncThenWrapperHelper.&lt;anonymous closure&gt; (dart:async-patch/async_patch.dart:71:64)\n#29     _rootRunUnary (dart:async/zone.dart:1132:38)\n#30     _CustomZone.runUnary (dart:async/zone.dart:1029:19)\n#31     _FutureListener.handleValue (dart:async/future_impl.dart:137:18)\n#32     Future._propagateToListeners.handleValueCallback (dart:async/future_impl.dart:678:45)\n#33     Future._propagateToListeners (dart:async/future_impl.dart:707:32)\n#34     Future._completeWithValue (dart:async/future_impl.dart:522:5)\n#35     Future._asyncComplete.&lt;anonymous closure&gt; (dart:async/future_impl.dart:552:7)\n#36     _rootRun (dart:async/zone.dart:1124:13)\n#37     _CustomZone.run (dart:async/zone.dart:1021:19)\n#38     _CustomZone.runGuarded (dart:async/zone.dart:923:7)\n#39     _CustomZone.bindCallbackGuarded.&lt;anonymous closure&gt; (dart:async/zone.dart:963:23)\n#40     _microtaskLoop (dart:async/schedule_microtask.dart:41:21)\n#41     _startMicrotaskLoop (dart:async/schedule_microtask.dart:50:5)\n#42     _runPendingImmediateCallback (dart:isolate-patch/isolate_patch.dart:116:13)\n#43     _RawReceivePortImpl._handleMessage (dart:isolate-patch/isolate_patch.dart:173:5)\n</code></pre>\n\n<p>I am developing on the master channel, already made <strong>flutter upgrade</strong> and else I think i did everything else I need to do. Running the example comming with flutter-desktop-embedding does not throw any exception, and it seems that if I copy my lib folder into the examples folder, the app will not build.</p>\n\n<p>Does anyone face this issue too?</p>\n"}, {"tags": ["flutter", "methods", "dart"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 10213298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e27164cdd064a4ee4b430977b6b1e75?s=128&d=identicon&r=PG&f=1", "display_name": "Wicks", "link": "https://stackoverflow.com/users/10213298/wicks"}, "edited": false, "score": 0, "creation_date": 1573505956, "post_id": 58808260, "comment_id": 103896521, "body": "You&#39;re a genius!  Thanks a lot.  One final question if it&#39;s not too much trouble - the output is now &#39;Total Beef is: &#163;[{SUM(beef):205.0}].  How do I just get the &#163;205.0?"}, {"owner": {"reputation": 28, "user_id": 12353185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9b162e6c4f5d3ab4f0e6f0ddf7c6fd6?s=128&d=identicon&r=PG&f=1", "display_name": "FillGates", "link": "https://stackoverflow.com/users/12353185/fillgates"}, "reply_to_user": {"reputation": 5, "user_id": 10213298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e27164cdd064a4ee4b430977b6b1e75?s=128&d=identicon&r=PG&f=1", "display_name": "Wicks", "link": "https://stackoverflow.com/users/10213298/wicks"}, "edited": false, "score": 0, "creation_date": 1573518065, "post_id": 58808260, "comment_id": 103900154, "body": "There is issue with your SQL query you wanna do db.rawQuery(&quot;SELECT SUM(beef) as cash FROM $table&quot;); then you need to get the var cash from your result :)"}, {"owner": {"reputation": 28, "user_id": 12353185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9b162e6c4f5d3ab4f0e6f0ddf7c6fd6?s=128&d=identicon&r=PG&f=1", "display_name": "FillGates", "link": "https://stackoverflow.com/users/12353185/fillgates"}, "reply_to_user": {"reputation": 5, "user_id": 10213298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e27164cdd064a4ee4b430977b6b1e75?s=128&d=identicon&r=PG&f=1", "display_name": "Wicks", "link": "https://stackoverflow.com/users/10213298/wicks"}, "edited": false, "score": 0, "creation_date": 1573518405, "post_id": 58808260, "comment_id": 103900217, "body": "Assign result to new var beefRow = await database.addBeef(); then use beefTotal = beefRow[&quot;cash&quot;].toString();"}, {"owner": {"reputation": 5, "user_id": 10213298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e27164cdd064a4ee4b430977b6b1e75?s=128&d=identicon&r=PG&f=1", "display_name": "Wicks", "link": "https://stackoverflow.com/users/10213298/wicks"}, "edited": false, "score": 0, "creation_date": 1573577538, "post_id": 58808260, "comment_id": 103923271, "body": "Sorry, I don&#39;t fully understand your answer - I did the following:"}, {"owner": {"reputation": 5, "user_id": 10213298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e27164cdd064a4ee4b430977b6b1e75?s=128&d=identicon&r=PG&f=1", "display_name": "Wicks", "link": "https://stackoverflow.com/users/10213298/wicks"}, "edited": false, "score": 0, "creation_date": 1573577569, "post_id": 58808260, "comment_id": 103923290, "body": "void sumBeef () async {      beefTotal = await database.addBeef();     var beefRow = await database.addBeef();     beefTotal = beefRow[&quot;cash&quot;].toString();     setState(() {     });     debugPrint(&quot;Total beef: $beefTotal&quot;);   }"}, {"owner": {"reputation": 5, "user_id": 10213298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e27164cdd064a4ee4b430977b6b1e75?s=128&d=identicon&r=PG&f=1", "display_name": "Wicks", "link": "https://stackoverflow.com/users/10213298/wicks"}, "edited": false, "score": 0, "creation_date": 1573577612, "post_id": 58808260, "comment_id": 103923320, "body": "Future&lt;List&lt;Map&lt;String, dynamic&gt;&gt;&gt; addBeef()async{     Database db = await this.database;     var result = await db.rawQuery(&quot;SELECT SUM(beef) as cash FROM $table&quot;);      return result;   }"}, {"owner": {"reputation": 5, "user_id": 10213298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e27164cdd064a4ee4b430977b6b1e75?s=128&d=identicon&r=PG&f=1", "display_name": "Wicks", "link": "https://stackoverflow.com/users/10213298/wicks"}, "edited": false, "score": 0, "creation_date": 1573577692, "post_id": 58808260, "comment_id": 103923357, "body": "the IDE reports that &#39;a value of type String cannot be assigned to a variable of type list&#39;"}, {"owner": {"reputation": 28, "user_id": 12353185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9b162e6c4f5d3ab4f0e6f0ddf7c6fd6?s=128&d=identicon&r=PG&f=1", "display_name": "FillGates", "link": "https://stackoverflow.com/users/12353185/fillgates"}, "reply_to_user": {"reputation": 5, "user_id": 10213298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e27164cdd064a4ee4b430977b6b1e75?s=128&d=identicon&r=PG&f=1", "display_name": "Wicks", "link": "https://stackoverflow.com/users/10213298/wicks"}, "edited": false, "score": 0, "creation_date": 1573582575, "post_id": 58808260, "comment_id": 103925637, "body": "Change the var to string as you have it as List"}], "tags": [], "owner": {"reputation": 28, "user_id": 12353185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9b162e6c4f5d3ab4f0e6f0ddf7c6fd6?s=128&d=identicon&r=PG&f=1", "display_name": "FillGates", "link": "https://stackoverflow.com/users/12353185/fillgates"}, "is_accepted": true, "score": 0, "last_activity_date": 1573504097, "creation_date": 1573504097, "answer_id": 58808260, "question_id": 58808003, "link": "https://stackoverflow.com/questions/58808003/in-dart-flutter-how-do-i-use-a-variable-from-a-method-so-i-can-ouput-it-to-a-te/58808260#58808260", "title": "In Dart/Flutter, how do I use a variable from a method so I can ouput it to a text field", "body": "<p>Just call \nsetState({</p>\n\n<p>});</p>\n\n<pre><code>void sumBeef () async {\n beefTotal = await database.addBeef();\n setState(() {});\n debugPrint(\"Total beef: $beefTotal\");\n}\n</code></pre>\n\n<p>and your good! anytime you make a change you have to call setState method to update the ui (rebuild) in flutters case</p>\n"}], "owner": {"reputation": 5, "user_id": 10213298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e27164cdd064a4ee4b430977b6b1e75?s=128&d=identicon&r=PG&f=1", "display_name": "Wicks", "link": "https://stackoverflow.com/users/10213298/wicks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 58808260, "answer_count": 1, "score": 0, "last_activity_date": 1573504097, "creation_date": 1573502816, "last_edit_date": 1573503639, "question_id": 58808003, "link": "https://stackoverflow.com/questions/58808003/in-dart-flutter-how-do-i-use-a-variable-from-a-method-so-i-can-ouput-it-to-a-te", "title": "In Dart/Flutter, how do I use a variable from a method so I can ouput it to a text field", "body": "<p>Hope somebody can help - I hit this dead end a few weeks ago and think that I've tried everything within my limited knowledge.</p>\n\n<p>I've set up a database that works OK - that is I can add data on one screen, review the data and edit the data on another screen.  Now I want to sum one of the columns (beef) which I've been able to do as proven in the 'debugPrint' to the console.  I want to access this variable 'beefTotal' from the 'sumBeef' method and print show this in a text field in the UI.  I just can't manage it though.  It just returns null.</p>\n\n<p>Thanks in advance for any help.</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:take_note/utils/database_helper.dart';\n\nclass Info extends StatefulWidget {\n  @override\n  State&lt;StatefulWidget&gt; createState() =&gt; _InfoState();\n}\n\nDatabaseHelper helper = DatabaseHelper();\nvar database = DatabaseHelper();\n\nclass _InfoState extends State&lt;Info&gt; {\n  List beefTotal;\n\n  @override\n  Widget build (BuildContext context) {\n\n    return Scaffold(\n        appBar: AppBar(\n          title: Text(\"Beef Info\"),\n          backgroundColor: Colors.lightBlueAccent,\n        ),\n        body: Container(\n          child: Column(\n            children: &lt;Widget&gt;[\n              Expanded(\n                child: Center(\n                  child: RaisedButton(\n                    onPressed: (){\n                      sumBeef();\n                    },\n                  ),\n                ),\n              ),\n              Expanded(\n                child: Center(\n                  child: Text(\"Total Beef is: \u00a3 $beefTotal\", style: TextStyle(\n                      color: Colors.lightBlueAccent,\n                      fontSize: 30.0,\n                      fontWeight: FontWeight.w400\n                  ),),\n                ),\n              ),\n            ],\n          ),\n        )\n    );\n  }\n\n  void sumBeef () async {\n    beefTotal = await database.addBeef();\n    debugPrint(\"Total beef: $beefTotal\");\n  }\n}\n</code></pre>\n\n<p>The code below is from a class called DatabaseHelper which the method sumBeef() uses</p>\n\n<pre><code>  Future&lt;List&lt;Map&lt;String, dynamic&gt;&gt;&gt; addBeef()async{\n    Database db = await this.database;\n    var result = await db.rawQuery(\"SELECT SUM(beef) FROM $table\");\n\n    return result;\n  }\n```[enter image description here][1]\n\n\n  [1]: https://i.stack.imgur.com/L46Gj.png\n</code></pre>\n"}, {"tags": ["android", "flutter", "dart"], "owner": {"reputation": 21, "user_id": 3878935, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003203374790/picture?type=large", "display_name": "Eduardo Ribeiro", "link": "https://stackoverflow.com/users/3878935/eduardo-ribeiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1573520281, "creation_date": 1573502246, "last_edit_date": 1573520281, "question_id": 58807890, "link": "https://stackoverflow.com/questions/58807890/how-to-make-dropdownbutton-inside-an-alertdialog-update-the-text-to-selected-ite", "title": "How to make DropdownButton inside an AlertDialog update the text to selected item in Flutter?", "body": "<p>Basically, after the user taps an Inkwell, the method solicAlert() is called, passing the type of the document. After that, I need to show a dialog in which the user is supposed to pick a Year and click on Ok. But when I select the year on the dropdownbutton, nothing changes in the screen. The option selected as default remains. Any ideas?</p>\n\n<pre><code>@override\nWidget build(BuildContext context) {\n\n  Widget sca = Scaffold(\n    appBar: AppBar(\n      title: Text(\"Servi\u00e7os\"),\n    ),\n    body: GridView.count(\n      padding: EdgeInsets.only(top: 22.0),\n      crossAxisCount: 2,\n      children: _listDocs.map((value) {\n        return Container(\n          alignment: Alignment.center,\n          margin: EdgeInsets.all(2),\n\n          child: Center(\n            child: new InkWell(\n              // onTap: () =&gt; _solicita(value['document'], value['tipo']),  \n              onTap: () {\n                if (value['tipo'] == 1 || value['tipo'] == 2) {                    \n                  solicAlert(value['tipo']);\n                } else {\n                  _solicita(value['document'], value['tipo'], []);\n                }\n              },   \n              child: GridTile(\n                footer: Container(\n                  color: Colors.white,\n                  // margin: new EdgeInsets.all(1.0),\n                  child: Text(\n                    value['document'],\n                    textAlign: TextAlign.center,\n                    style: TextStyle(\n                      fontFamily: \"Humanist\",\n                      fontSize: 16,\n                      fontWeight: FontWeight.bold,\n                      color: Colors.blue[900]\n                    ),\n                  ),\n                ),\n                child: Image.asset(value['image']),\n              ),\n            )\n          )\n        );\n      }).toList(),\n    ),\n    drawer: DrawerMenu(),\n  );\n\n // solicAlert method is called to handle whats next\n\nWidget solicAlert(int tipo) {\nshowDialog(\n  context: context,\n  builder: (BuildContext context) {\n    switch (tipo) {\n      case 1:\n        return formRendimentos();\n        break;\n      case 2:\n        return formHolerite();\n        break;\n      case 3:\n        return _solicita(\"Declara\u00e7\u00e3o de Trabalho\", 3, []);\n        break;\n      case 4:\n        return _solicita(\"Novo Crach\u00e1\", 4, []);\n        break;\n    }\n  }\n);\n}\n\n\nWidget formRendimentos() {\n\nvar now = new DateTime.now();\nvar currentYear = int.parse(DateFormat('yyyy').format(now));\nvar year1 = currentYear - 1;\nvar year2 = currentYear - 2;\nvar year3 = currentYear - 3;\n\nprint(currentYear); \n\nList &lt;String&gt; yearsList = [currentYear.toString(), year1.toString(), year2.toString(), year3.toString()];\n\nString _selectedText = currentYear.toString();\nreturn AlertDialog(\n  title: Text(\"Year of Reference:\"),\n  content: DropdownButton&lt;String&gt;(\n    hint: Text(\"Pick...\"),\n    icon: Icon(Icons.arrow_downward),\n    iconSize: 24,\n    elevation: 16,\n    value: _selectedText,\n    onChanged: (String newValue) {\n      print('new value: '+ newValue);\n      setState(() {\n        _selectedText = newValue;\n        print(\"Changed: \" + _selectedText);\n      });\n      dados = [{\n          'ano': _selectedText\n        }];\n    },\n    isExpanded: true,\n    items: yearsList\n      .map((String value) {\n        return DropdownMenuItem&lt;String&gt;(\n          value: value,\n          child: Text(value),\n        );\n      }).toList(),\n  ),       \n);\n}\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 9478853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac052830096c779d764eda461e461d68?s=128&d=identicon&r=PG&f=1", "display_name": "ashesofphoenix", "link": "https://stackoverflow.com/users/9478853/ashesofphoenix"}, "edited": false, "score": 0, "creation_date": 1573492859, "post_id": 58805192, "comment_id": 103891598, "body": "it turns out u solved another issue of mine :D what I had the problem with here is actually displaying an image from that directory"}, {"owner": {"reputation": 5806, "user_id": 5362583, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/XYISG.jpg?s=128&g=1", "display_name": "Alok", "link": "https://stackoverflow.com/users/5362583/alok"}, "reply_to_user": {"reputation": 85, "user_id": 9478853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac052830096c779d764eda461e461d68?s=128&d=identicon&r=PG&f=1", "display_name": "ashesofphoenix", "link": "https://stackoverflow.com/users/9478853/ashesofphoenix"}, "edited": false, "score": 0, "creation_date": 1573714285, "post_id": 58805192, "comment_id": 103974462, "body": "That&#39;s great. :D"}], "tags": [], "owner": {"reputation": 5806, "user_id": 5362583, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/XYISG.jpg?s=128&g=1", "display_name": "Alok", "link": "https://stackoverflow.com/users/5362583/alok"}, "is_accepted": true, "score": 1, "last_activity_date": 1573489883, "creation_date": 1573489883, "answer_id": 58805192, "question_id": 58805097, "link": "https://stackoverflow.com/questions/58805097/opening-and-displaying-images-from-directory/58805192#58805192", "title": "Opening and displaying images from directory", "body": "<p>With the help of this package, you can get the path the path temporary and from directory <a href=\"https://pub.dartlang.org/packages/path_provider\" rel=\"nofollow noreferrer\">path_provider</a></p>\n\n<p>This is the way how you can utilize this: </p>\n\n<pre><code>final dir = await getApplicationDocumentsDirectory();\nString imgDir = dir + \"/your_directory\";\n</code></pre>\n\n<p>In order to find files from the above directory, you can use <a href=\"https://docs.flutter.io/flutter/dart-io/Directory/listSync.html\" rel=\"nofollow noreferrer\">listSync</a> package.</p>\n\n<pre><code>final myDir = new Directory(imgDir);\nList&lt;FileSystemEntity&gt; _images;\n_images = myDir.listSync(recursive: true, followLinks: false);\n</code></pre>\n\n<p>I guess that'd solve your issue. Thanks</p>\n"}], "owner": {"reputation": 85, "user_id": 9478853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac052830096c779d764eda461e461d68?s=128&d=identicon&r=PG&f=1", "display_name": "ashesofphoenix", "link": "https://stackoverflow.com/users/9478853/ashesofphoenix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 58805192, "answer_count": 1, "score": 0, "last_activity_date": 1573489883, "creation_date": 1573489489, "question_id": 58805097, "link": "https://stackoverflow.com/questions/58805097/opening-and-displaying-images-from-directory", "title": "Opening and displaying images from directory", "body": "<p>I want to display a downloaded image from a temporary directory</p>\n\n<p>I've tried other ways on how to do it but i can't seem to get it to work.\nIn the below example I've tried with Image.asset() but that won't work either because it can't be assigned to Image Provider.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>var dir = Directory.systemTemp;\nfinal String name = data['file_name'];\nfinal String path = \"${dir.path}/$name\";\n\n\nBoxDecoration(\n            borderRadius: BorderRadius.circular(20.0),\n            image: DecorationImage(\n                fit: BoxFit.cover,\n                image: Image.asset(path)),\n            boxShadow: [\n              BoxShadow(\n                color: Colors.black.withOpacity(0.7),\n                offset: new Offset(offset / 2, offset),\n                blurRadius: blur,\n              )\n            ]),\n</code></pre>\n\n<p>I just want my image to be displayed from custom directory</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 140, "user_id": 955739, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8fd74cf6a14701ef11acba0fa3bea2d7?s=128&d=identicon&r=PG", "display_name": "Erdi", "link": "https://stackoverflow.com/users/955739/erdi"}, "edited": false, "score": 1, "creation_date": 1573489741, "post_id": 58804542, "comment_id": 103890077, "body": "As far as I know  we can&#39;t call functions this way. <a href=\"https://api.dartlang.org/stable/2.6.0/dart-core/Function/apply.html\" rel=\"nofollow noreferrer\">Function.apply</a> might work for you."}, {"owner": {"reputation": 971, "user_id": 12176146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i7saa6CD6nU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdnigVUDcRnIS2zpgJROryAZKe46w/photo.jpg?sz=128", "display_name": "raman raman", "link": "https://stackoverflow.com/users/12176146/raman-raman"}, "reply_to_user": {"reputation": 140, "user_id": 955739, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8fd74cf6a14701ef11acba0fa3bea2d7?s=128&d=identicon&r=PG", "display_name": "Erdi", "link": "https://stackoverflow.com/users/955739/erdi"}, "edited": false, "score": 0, "creation_date": 1573521626, "post_id": 58804542, "comment_id": 103900799, "body": "please help me in this method.how can apply functions in this code.@Erdi"}], "answers": [{"comments": [{"owner": {"reputation": 971, "user_id": 12176146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i7saa6CD6nU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdnigVUDcRnIS2zpgJROryAZKe46w/photo.jpg?sz=128", "display_name": "raman raman", "link": "https://stackoverflow.com/users/12176146/raman-raman"}, "edited": false, "score": 0, "creation_date": 1573523377, "post_id": 58810783, "comment_id": 103901130, "body": "Sometimes ago my code was working without buildcontext but this error appeared after shifting this code to a new  app"}], "tags": [], "owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "is_accepted": true, "score": 1, "last_activity_date": 1573522495, "creation_date": 1573522495, "answer_id": 58810783, "question_id": 58804542, "link": "https://stackoverflow.com/questions/58804542/closure-call-with-mismatched-arguments-function-mylistview-functionone/58810783#58810783", "title": "Closure call with mismatched arguments: function &#39;_myListView.functionOne&#39;", "body": "<p>You forgot to add parameter <code>BuildContext context</code> to your function <br>\ncode snippet</p>\n\n<pre><code>functionOne(BuildContext context) {\n    Navigator.push(\n        context, new MaterialPageRoute(builder: (context) =&gt; RamOne()));\n  }\n</code></pre>\n\n<p>working demo</p>\n\n<p><a href=\"https://i.stack.imgur.com/wOrOy.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wOrOy.gif\" alt=\"enter image description here\"></a></p>\n\n<p>full code</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:linear_gradient/linear_gradient.dart';\nimport 'package:gradient_text/gradient_text.dart';\n//import 'package:apple_beauty/cdetails.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Flutter Demo',\n      theme: ThemeData(\n        // This is the theme of your application.\n        //\n        // Try running your application with \"flutter run\". You'll see the\n        // application has a blue toolbar. Then, without quitting the app, try\n        // changing the primarySwatch below to Colors.green and then invoke\n        // \"hot reload\" (press \"r\" in the console where you ran \"flutter run\",\n        // or simply save your changes to \"hot reload\" in a Flutter IDE).\n        // Notice that the counter didn't reset back to zero; the application\n        // is not restarted.\n        primarySwatch: Colors.blue,\n      ),\n      home: MyHomePage(title: 'Flutter Demo Home Page'),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  MyHomePage({Key key, this.title}) : super(key: key);\n\n  // This widget is the home page of your application. It is stateful, meaning\n  // that it has a State object (defined below) that contains fields that affect\n  // how it looks.\n\n  // This class is the configuration for the state. It holds the values (in this\n  // case the title) provided by the parent (in this case the App widget) and\n  // used by the build method of the State. Fields in a Widget subclass are\n  // always marked \"final\".\n\n  final String title;\n\n  @override\n  _MyHomePageState createState() =&gt; _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  int _counter = 0;\n\n  void _incrementCounter() {\n    setState(() {\n      // This call to setState tells the Flutter framework that something has\n      // changed in this State, which causes it to rerun the build method below\n      // so that the display can reflect the updated values. If we changed\n      // _counter without calling setState(), then the build method would not be\n      // called again, and so nothing would appear to happen.\n      _counter++;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    // This method is rerun every time setState is called, for instance as done\n    // by the _incrementCounter method above.\n    //\n    // The Flutter framework has been optimized to make rerunning build methods\n    // fast, so that you can just rebuild anything that needs updating rather\n    // than having to individually change instances of widgets.\n    return Scaffold(\n      appBar: AppBar(\n        // Here we take the value from the MyHomePage object that was created by\n        // the App.build method, and use it to set our appbar title.\n        title: Text(widget.title),\n      ),\n      body: Center(\n        // Center is a layout widget. It takes a single child and positions it\n        // in the middle of the parent.\n        child: Column(\n          // Column is also a layout widget. It takes a list of children and\n          // arranges them vertically. By default, it sizes itself to fit its\n          // children horizontally, and tries to be as tall as its parent.\n          //\n          // Invoke \"debug painting\" (press \"p\" in the console, choose the\n          // \"Toggle Debug Paint\" action from the Flutter Inspector in Android\n          // Studio, or the \"Toggle Debug Paint\" command in Visual Studio Code)\n          // to see the wireframe for each widget.\n          //\n          // Column has various properties to control how it sizes itself and\n          // how it positions its children. Here we use mainAxisAlignment to\n          // center the children vertically; the main axis here is the vertical\n          // axis because Columns are vertical (the cross axis would be\n          // horizontal).\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: &lt;Widget&gt;[\n            Expanded(flex:5, child: RamList()),\n            Text(\n              'You have pushed the button this many times:',\n            ),\n            Text(\n              '$_counter',\n              style: Theme.of(context).textTheme.display1,\n            ),\n          ],\n        ),\n      ),\n      floatingActionButton: FloatingActionButton(\n        onPressed: _incrementCounter,\n        tooltip: 'Increment',\n        child: Icon(Icons.add),\n      ), // This trailing comma makes auto-formatting nicer for build methods.\n    );\n  }\n}\n\nGradient gradient =\n    LinearGradient(colors: [Colors.teal, Colors.deepOrange, Colors.pink]);\n\nclass RamList extends StatefulWidget {\n  @override\n  _RamListState createState() =&gt; _RamListState();\n}\n\nclass _RamListState extends State&lt;RamList&gt; {\n  @override\n  Widget build(BuildContext context) {\n    return _myListView(context);\n  }\n}\n\nWidget _myListView(BuildContext context) {\n  final titles = [\n    '1st',\n    '2nd',\n    '3rd',\n    '4th',\n    '5th',\n  ];\n\n  final numbers = [\n    '1 ',\n    '2 ',\n    '3 ',\n    '4 ',\n    '5 ',\n  ];\n\n  functionOne(BuildContext context) {\n    Navigator.push(\n        context, new MaterialPageRoute(builder: (context) =&gt; RamOne()));\n  }\n\n  functionTwo(BuildContext context) {\n    Navigator.push(context, MaterialPageRoute(builder: (context) =&gt; RamTwo()));\n  }\n\n  functionThree(BuildContext context) {\n    Navigator.push(\n        context, MaterialPageRoute(builder: (context) =&gt; RamThree()));\n  }\n\n  functionFour(BuildContext context) {\n    Navigator.push(context, MaterialPageRoute(builder: (context) =&gt; RamFour()));\n  }\n\n  functionFive(BuildContext context) =&gt; _onAlertButtonPressed1(context);\n\n  final List&lt;Function&gt; onTaps = [\n    functionOne,\n    functionTwo,\n    functionThree,\n    functionFour,\n    functionFive,\n  ];\n\n  return ListView.builder(\n      itemCount: titles.length,\n      itemBuilder: (context, index) {\n        return Card(\n            elevation: 50,\n            child: InkWell(\n              splashColor: Colors.green,\n              highlightColor: Colors.red,\n              child: Row(\n                children: &lt;Widget&gt;[\n                  Container(\n                    height: 100.0,\n                    width: 50.0,\n                    decoration: BoxDecoration(\n                        gradient: LinearGradientStyle.linearGradient(\n                            orientation:\n                                LinearGradientStyle.ORIENTATION_HORIZONTAL,\n                            gradientType:\n                                LinearGradientStyle.GRADIENT_TYPE_AMIN)),\n                  ),\n                  Container(\n                      margin: EdgeInsets.all(10),\n                      child: Text(\n                        numbers[index],\n                      )),\n                  Flexible(\n                      child: Container(\n                    margin: EdgeInsets.all(10),\n                    child: GradientText(\n                      (titles[index]),\n                      gradient: gradient,\n                      style: TextStyle(\n                        fontSize: 20.0,\n                        fontWeight: FontWeight.bold,\n                      ),\n                    ),\n                    //Text(titles[index]),\n                  ))\n                ],\n              ),\n              onTap: () =&gt; onTaps[index](context),\n            ));\n      });\n}\n\n_onAlertButtonPressed1(context) {\n  AlertDialog alert = AlertDialog(\n    title: Text('Coming soon'),\n    content: Text(\"This link will be available in future updates\"),\n    actions: [],\n  );\n\n  showDialog(\n    context: context,\n    builder: (BuildContext context) {\n      return alert;\n    },\n  );\n}\n\nclass RamOne extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Text(\"RamOne\");\n  }\n}\n\nclass RamTwo extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Text(\"RamTwo\");\n  }\n}\n\nclass RamThree extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Text(\"RamThree\");\n  }\n}\n\nclass RamFour extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Text(\"RamFour\");\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 971, "user_id": 12176146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i7saa6CD6nU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdnigVUDcRnIS2zpgJROryAZKe46w/photo.jpg?sz=128", "display_name": "raman raman", "link": "https://stackoverflow.com/users/12176146/raman-raman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 960, "favorite_count": 0, "accepted_answer_id": 58810783, "answer_count": 1, "score": 0, "last_activity_date": 1573522495, "creation_date": 1573487266, "question_id": 58804542, "link": "https://stackoverflow.com/questions/58804542/closure-call-with-mismatched-arguments-function-mylistview-functionone", "title": "Closure call with mismatched arguments: function &#39;_myListView.functionOne&#39;", "body": "<p>I don't know why this error is appearing in the console box. everything appears fine but still this below appears </p>\n\n<blockquote>\n  <p>Closure call with mismatched arguments: function '_myListView.functionOne'\n  Receiver: Closure: () => Null\n  Tried calling: _myListView.functionOne(Instance of 'SliverMultiBoxAdaptorElement')\n  Found: _myListView.functionOne() => Null</p>\n</blockquote>\n\n<p><strong>HERE IS MY CODE FOR LISTVIEW</strong> </p>\n\n<pre><code>\nimport 'package:flutter/material.dart';\n\nimport 'package:linear_gradient/linear_gradient.dart';\nimport 'package:gradient_text/gradient_text.dart';\nimport 'package:apple_beauty/cdetails.dart';\n\n\n\nGradient gradient = LinearGradient(\n    colors: [Colors.teal, Colors.deepOrange, Colors.pink]);\n\n\nclass RamList extends StatefulWidget {\n  @override\n  _RamListState createState() =&gt; _RamListState();\n}\n\nclass _RamListState extends State&lt;RamList&gt; {\n  @override\n  Widget build(BuildContext context) {\n    return _myListView(context);\n  }\n}\n\n\n\n\nWidget _myListView(BuildContext context) {\n  final titles = [\n    '1st',\n    '2nd',\n    '3rd',\n    '4th',\n    '5th',\n                ];\n\n  final numbers = [\n    '1 ',\n    '2 ',\n    '3 ',\n    '4 ',\n    '5 ',\n\n\n\n  ];\n\n  functionOne() {\n    Navigator.push(\n        context, new MaterialPageRoute(builder: (context) =&gt;  RamOne()));\n  }\n\n  functionTwo() {\n    Navigator.push(context, MaterialPageRoute(builder: (context) =&gt; RamTwo()));\n  }\n\n  functionThree() {\n    Navigator.push(\n        context, MaterialPageRoute(builder: (context) =&gt; RamThree()));\n  }\n\n  functionFour() {\n    Navigator.push(context, MaterialPageRoute(builder: (context) =&gt; RamFour()));\n  }\n\n\n\n\n  functionFive(BuildContext context)=&gt;_onAlertButtonPressed1(context);\n\n\n\n\n\n  final List&lt;Function&gt; onTaps = [\n    functionOne,\n    functionTwo,\n    functionThree,\n    functionFour,\n    functionFive,\n\n  ];\n\n  return ListView.builder(\n\n      itemCount: titles.length,\n      itemBuilder: (context, index) {\n        return Card(\n            elevation: 50,\n            child: InkWell(\n\n\n              splashColor: Colors.green,\n              highlightColor: Colors.red,\n              child: Row(\n                children: &lt;Widget&gt;[\n\n\n                  Container(\n\n\n                    height: 100.0,\n                    width:50.0,\n\n                    decoration: BoxDecoration(\n                        gradient:LinearGradientStyle.linearGradient(\n                            orientation:LinearGradientStyle.ORIENTATION_HORIZONTAL,\n                            gradientType: LinearGradientStyle.GRADIENT_TYPE_AMIN\n                        )\n                    ),),\n\n                  Container(\n                      margin: EdgeInsets.all(10),\n                      child: Text(\n                        numbers[index],\n                      )),\n\n\n                  Flexible(child:  Container(\n                    margin: EdgeInsets.all(10),\n                    child: GradientText((titles[index]),\n                      gradient:gradient,\n\n                      style:TextStyle(fontSize:20.0,fontWeight:FontWeight.bold, ),\n                    ),\n                    //Text(titles[index]),\n                  ))\n                ],\n              ),\n              onTap: () =&gt; onTaps[index](context),\n            ));\n      });\n\n\n}\n\n_onAlertButtonPressed1(context) {\n  AlertDialog alert = AlertDialog(\n    title: Text('Coming soon'),\n    content: Text(\"This link will be available in future updates\"),\n    actions: [\n\n    ],\n  );\n\n\n  showDialog(\n    context: context,\n    builder: (BuildContext context) {\n      return alert;\n    },\n  );\n}\n\n\n</code></pre>\n\n<p><strong>HERE IS MY CODE FOR LISTVIEW NAVIGATION DETAILS</strong> </p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:flutter_html/flutter_html.dart';\n//import 'package:html/dom.dart' as dom;\nimport 'package:gradient_app_bar/gradient_app_bar.dart';\n\nclass RamOne extends StatefulWidget {\n  RamOne({Key key, this.title}) : super(key: key);\n\n  final String title;\n\n  @override\n  _RamOneState createState() =&gt; new _RamOneState();\n}\n\nclass _RamOneState extends State&lt;RamOne&gt; {\n  @override\n  Widget build(BuildContext context) {\n    return  Scaffold(\n        appBar:   GradientAppBar(\n            gradient: LinearGradient(\n                colors: [Colors.green, Colors.greenAccent]),\n          title:  Text('Overview'),\n        ),\n        body: new Center(\n          child: SingleChildScrollView(\n            child: Html(\n\n              data: \"\"\" &lt;h1&gt;1st page&lt;/h1&gt;\n\n\n  \"\"\",\n\n            ),\n          ),\n        ));\n  }}\n\n\nclass RamTwo extends StatefulWidget {\n  RamTwo({Key key, this.title}) : super(key: key);\n\n  final String title;\n\n  @override\n  _RamTwoState createState() =&gt; new _RamTwoState();\n}\n\nclass _RamTwoState extends State&lt;RamTwo&gt; {\n  @override\n  Widget build(BuildContext context) {\n    return  Scaffold(\n        appBar:   GradientAppBar(\n          gradient: LinearGradient(\n              colors: [Colors.green, Colors.greenAccent]),\n          title:  Text('Nutritional Value'),\n        ),\n        body: new Center(\n          child: SingleChildScrollView(\n            child: Html(\n              data: \"\"\"\n&lt;h1&gt;1st page&lt;/h1&gt;\"\"\",\n\n            ),\n          ),\n        ));\n  }}\n\n\nclass RamThree extends StatefulWidget {\n  RamThree({Key key, this.title}) : super(key: key);\n\n  final String title;\n\n  @override\n  _RamThreeState createState() =&gt; new _RamThreeState();\n}\n\nclass _RamThreeState extends State&lt;RamThree&gt; {\n  @override\n  Widget build(BuildContext context) {\n    return  Scaffold(\n        appBar:   GradientAppBar(\n          gradient: LinearGradient(\n              colors: [Colors.green, Colors.greenAccent]),\n          title:  Text('Types of apple'),\n        ),\n        body: new Center(\n          child: SingleChildScrollView(\n            child: Html(\n              data: \"\"\"\n              &lt;h1&gt;1st page&lt;/h1&gt;\n  \"\"\",\n\n            ),\n          ),\n        ));\n  }}\n\n\nclass RamFour extends StatefulWidget {\n  RamFour({Key key, this.title}) : super(key: key);\n\n  final String title;\n\n  @override\n  _RamFourState createState() =&gt; new _RamFourState();\n}\n\nclass _RamFourState extends State&lt;RamFour&gt; {\n  @override\n  Widget build(BuildContext context) {\n    return  Scaffold(\n        appBar:   GradientAppBar(\n          gradient: LinearGradient(\n              colors: [Colors.green, Colors.greenAccent]),\n          title:  Text('Good for Neuron'),\n        ),\n        body: new Center(\n          child: SingleChildScrollView(\n            child: Html(\n              data: \"\"\"\n     &lt;h1&gt;1st page&lt;/h1&gt;\n  \"\"\",\n\n            ),\n          ),\n        ));\n  }}\n\n\n\n\n\n  }}\n\n\n</code></pre>\n"}, {"tags": ["gradle", "flutter", "dart"], "comments": [{"owner": {"reputation": 479, "user_id": 11999529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5bb2de6d0a6d2f2c6313d31576d14cd?s=128&d=identicon&r=PG&f=1", "display_name": "Developer ", "link": "https://stackoverflow.com/users/11999529/developer"}, "edited": false, "score": 0, "creation_date": 1573485909, "post_id": 58804163, "comment_id": 103888210, "body": "did you clean your project?"}, {"owner": {"reputation": 562, "user_id": 6589177, "user_type": "registered", "profile_image": "https://graph.facebook.com/710769222425389/picture?type=large", "display_name": "Dani", "link": "https://stackoverflow.com/users/6589177/dani"}, "reply_to_user": {"reputation": 479, "user_id": 11999529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5bb2de6d0a6d2f2c6313d31576d14cd?s=128&d=identicon&r=PG&f=1", "display_name": "Developer ", "link": "https://stackoverflow.com/users/11999529/developer"}, "edited": false, "score": 0, "creation_date": 1573485959, "post_id": 58804163, "comment_id": 103888231, "body": "yeah I did but it did not work for me."}, {"owner": {"reputation": 140, "user_id": 955739, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8fd74cf6a14701ef11acba0fa3bea2d7?s=128&d=identicon&r=PG", "display_name": "Erdi", "link": "https://stackoverflow.com/users/955739/erdi"}, "edited": false, "score": 0, "creation_date": 1573490017, "post_id": 58804163, "comment_id": 103890184, "body": "Does &quot;flutter --version&quot; gives same response on both environment?"}], "answers": [{"comments": [{"owner": {"reputation": 562, "user_id": 6589177, "user_type": "registered", "profile_image": "https://graph.facebook.com/710769222425389/picture?type=large", "display_name": "Dani", "link": "https://stackoverflow.com/users/6589177/dani"}, "edited": false, "score": 0, "creation_date": 1573489441, "post_id": 58804407, "comment_id": 103889931, "body": "I update the question look what I got after running flutter create"}, {"owner": {"reputation": 317, "user_id": 10097848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MbcVb.jpg?s=128&g=1", "display_name": "seyed ali Aghamali", "link": "https://stackoverflow.com/users/10097848/seyed-ali-aghamali"}, "reply_to_user": {"reputation": 562, "user_id": 6589177, "user_type": "registered", "profile_image": "https://graph.facebook.com/710769222425389/picture?type=large", "display_name": "Dani", "link": "https://stackoverflow.com/users/6589177/dani"}, "edited": false, "score": 0, "creation_date": 1573490065, "post_id": 58804407, "comment_id": 103890201, "body": "that&#39;s even worse, I recommend you to create a new project and transfer your codes"}, {"owner": {"reputation": 562, "user_id": 6589177, "user_type": "registered", "profile_image": "https://graph.facebook.com/710769222425389/picture?type=large", "display_name": "Dani", "link": "https://stackoverflow.com/users/6589177/dani"}, "edited": false, "score": 0, "creation_date": 1573572240, "post_id": 58804407, "comment_id": 103920361, "body": "I have multiple projects to work on so transferring code will not be ok I need to have a solid solution to avoid such problems in future"}], "tags": [], "owner": {"reputation": 317, "user_id": 10097848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MbcVb.jpg?s=128&g=1", "display_name": "seyed ali Aghamali", "link": "https://stackoverflow.com/users/10097848/seyed-ali-aghamali"}, "is_accepted": false, "score": 0, "last_activity_date": 1573487530, "last_edit_date": 1573487530, "creation_date": 1573486699, "answer_id": 58804407, "question_id": 58804163, "link": "https://stackoverflow.com/questions/58804163/flutter-project-build-error-when-moved-from-one-pc-to-other-window-to-mac/58804407#58804407", "title": "flutter project build error when moved from one PC to other( window to mac)", "body": "<p>don't  copy your .flutter-plugins file \nand make sure to run </p>\n\n<pre><code>flutter clean\n</code></pre>\n\n<p>and </p>\n\n<pre><code>flutter packages get\n</code></pre>\n\n<p>At last if not above mentioned worked, you try in the same project folder:</p>\n\n<pre><code>flutter create\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 575, "user_id": 10667764, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6ImyFFDhiAc/AAAAAAAAAAI/AAAAAAAABVs/e4MS067zjv8/photo.jpg?sz=128", "display_name": "Arun Aditya", "link": "https://stackoverflow.com/users/10667764/arun-aditya"}, "edited": false, "score": 0, "creation_date": 1615862701, "post_id": 62964461, "comment_id": 117817585, "body": "thanks brother you don&#39;t your answer saved how much time for me actually i upgraded my pc from windows 7 to 10 so i migrated my project also but it was taking my older project path"}], "tags": [], "owner": {"reputation": 31, "user_id": 6363123, "user_type": "registered", "profile_image": "https://graph.facebook.com/600023016827840/picture?type=large", "display_name": "Yoandre Saavedra Gonz&#225;lez", "link": "https://stackoverflow.com/users/6363123/yoandre-saavedra-gonz%c3%a1lez"}, "is_accepted": false, "score": 3, "last_activity_date": 1595047158, "last_edit_date": 1595047158, "creation_date": 1595044558, "answer_id": 62964461, "question_id": 58804163, "link": "https://stackoverflow.com/questions/58804163/flutter-project-build-error-when-moved-from-one-pc-to-other-window-to-mac/62964461#62964461", "title": "flutter project build error when moved from one PC to other( window to mac)", "body": "<p>Remove <code>.packages</code> and execute <code>flutter pub get</code> in the command line.</p>\n"}], "owner": {"reputation": 562, "user_id": 6589177, "user_type": "registered", "profile_image": "https://graph.facebook.com/710769222425389/picture?type=large", "display_name": "Dani", "link": "https://stackoverflow.com/users/6589177/dani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3434, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1607377026, "creation_date": 1573485795, "last_edit_date": 1573489139, "question_id": 58804163, "link": "https://stackoverflow.com/questions/58804163/flutter-project-build-error-when-moved-from-one-pc-to-other-window-to-mac", "title": "flutter project build error when moved from one PC to other( window to mac)", "body": "<p>I move the flutter project from the window PC to Mac. I am facing this error I also try flutter clean but it did not work for. got an error by running flutter create.</p>\n\n<pre><code>    could not determine the dependencies of task app complieflutterbuilddebugarm flutter\njava.net.URISytaxSException Illegal character in opaque part at index 2:c:\\\\User\\\\username\\\\Androidstudioprojects\\\\appname\\\\lib\\\\main.dart\n</code></pre>\n\n<p>when I make simple default project on window pc and move it to mac it works fine but my big project is not able to move.</p>\n\n<pre><code>FAILURE: Build failed with an exception.\n\n* Where:\nScript '/Users/admin/Desktop/fluttersdk/flutter/packages/flutter_tools/gradle/flutter.gradle' line: 875\n\n* What went wrong:\nCould not determine the dependencies of task ':app:compileFlutterBuildDebugArm'.\n&gt; java.net.URISyntaxException: Illegal character in opaque part at index 2: C:\\\\Users\\\\Waqas\\\\AndroidStudioProjects\\\\Naija\\\\lib\\\\main.dart\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 45s\nFinished with error: Gradle task assembleDebug failed with exit code 1\n</code></pre>\n\n<p>I got this after running flutter create</p>\n\n<pre><code>admin@mac-mini Naija 2 % flutter create\nWarning! The 'flutter' tool you are currently running is from a different Flutter repository than the one last used by this package. The repository from which the 'flutter' tool is\ncurrently executing will be used instead.\n  running Flutter tool: /Users/admin/Desktop/flutter\n  previous reference  : /Users/admin/Desktop/fluttersdk/flutter\nThis can happen when you have multiple copies of flutter installed. Please check your system path to verify that you are running the expected version (run 'flutter --version' to see\nwhich flutter is on your path).\n\n\nNo option specified for the output directory.\nCreate a new Flutter project.\n\nIf run on a project that already exists, this will repair the project, recreating any files that are missing.\n\nUsage: flutter create &lt;output directory&gt;\n-h, --help                     Print this usage information.\n    --[no-]pub                 Whether to run \"flutter pub get\" after the project has been created.\n                               (defaults to on)\n\n    --[no-]offline             When \"flutter pub get\" is run by the create command, this indicates whether to run it in offline mode or not. In offline mode, it will need to have all\n                               dependencies already available in the pub cache to succeed.\n\n    --[no-]with-driver-test    Also add a flutter_driver dependency and generate a sample 'flutter drive' test.\n-t, --template=&lt;type&gt;          Specify the type of project to create.\n\n          [app]                (default) Generate a Flutter application.\n          [package]            Generate a shareable Flutter project containing modular Dart code.\n          [plugin]             Generate a shareable Flutter project containing an API in Dart code with a platform-specific implementation for Android, for iOS code, or for both.\n\n-s, --sample=&lt;id&gt;              Specifies the Flutter code sample to use as the main.dart for an application. Implies --template=app. The value should be the sample ID of the desired\n                               sample from the API documentation website (http://docs.flutter.dev). An example can be found at\n                               https://master-api.flutter.dev/flutter/widgets/SingleChildScrollView-class.html\n\n    --list-samples=&lt;path&gt;      Specifies a JSON output file for a listing of Flutter code samples that can created with --sample.\n    --[no-]overwrite           When performing operations, overwrite existing files.\n    --description              The description to use for your new Flutter project. This string ends up in the pubspec.yaml file.\n                               (defaults to \"A new Flutter project.\")\n\n    --org                      The organization responsible for your new Flutter project, in reverse domain name notation. This string is used in Java package names and as prefix in the\n                               iOS bundle identifier.\n                               (defaults to \"com.example\")\n\n    --project-name             The project name for this new Flutter project. This must be a valid dart package name.\n-i, --ios-language             [objc, swift (default)]\n-a, --android-language         [java, kotlin (default)]\n    --[no-]androidx            Generate a project using the AndroidX support libraries\n</code></pre>\n"}, {"tags": ["http", "dart", "future"], "comments": [{"owner": {"reputation": 389, "user_id": 1331036, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lrDll.jpg?s=128&g=1", "display_name": "mostafa8026", "link": "https://stackoverflow.com/users/1331036/mostafa8026"}, "edited": false, "score": 0, "creation_date": 1574705402, "post_id": 58804162, "comment_id": 104318316, "body": "Did you find any solution?"}, {"owner": {"reputation": 63, "user_id": 12147590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44b46f443696c899b5f1058a70129c7e?s=128&d=identicon&r=PG&f=1", "display_name": "saxophonix", "link": "https://stackoverflow.com/users/12147590/saxophonix"}, "reply_to_user": {"reputation": 389, "user_id": 1331036, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lrDll.jpg?s=128&g=1", "display_name": "mostafa8026", "link": "https://stackoverflow.com/users/1331036/mostafa8026"}, "edited": false, "score": 0, "creation_date": 1574762520, "post_id": 58804162, "comment_id": 104337244, "body": "I did actually, though it was more a silly error on my part. Basically, earlier in the program I do a WS-Discovery to get the xAddrs of the device you see in this method. This Discovery probe sent back two xAddrss for the device so I just assumed that I could iterate over both with this method and choose the first one that works. Turns out I was wrong. The first xAddress was a link local address (starting with 169.) and when posting to this address there&#39;s no response, hence why it was hanging on that line."}, {"owner": {"reputation": 63, "user_id": 12147590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44b46f443696c899b5f1058a70129c7e?s=128&d=identicon&r=PG&f=1", "display_name": "saxophonix", "link": "https://stackoverflow.com/users/12147590/saxophonix"}, "reply_to_user": {"reputation": 389, "user_id": 1331036, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lrDll.jpg?s=128&g=1", "display_name": "mostafa8026", "link": "https://stackoverflow.com/users/1331036/mostafa8026"}, "edited": false, "score": 0, "creation_date": 1574762750, "post_id": 58804162, "comment_id": 104337367, "body": "I found this out by just doing some simple post requests in the terminal using curl. There is a nice method in the dart InternetAddress class <a href=\"https://api.dartlang.org/stable/2.6.1/dart-io/InternetAddress/isLinkLocal.html\" rel=\"nofollow noreferrer\">api.dartlang.org/stable/2.6.1/dart-io/InternetAddress/&hellip;</a> which will allow you to check for it."}], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 12147590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44b46f443696c899b5f1058a70129c7e?s=128&d=identicon&r=PG&f=1", "display_name": "saxophonix", "link": "https://stackoverflow.com/users/12147590/saxophonix"}, "is_accepted": true, "score": 0, "last_activity_date": 1574763357, "creation_date": 1574763357, "answer_id": 59048563, "question_id": 58804162, "link": "https://stackoverflow.com/questions/58804162/dart-client-post-method-in-the-http-dart-package-is-hanging-and-isnt-returni/59048563#59048563", "title": "Dart: client.post() method in the http.dart package is hanging and isn&#39;t returning a future", "body": "<p>To briefly answer my own question, turns out it was a silly error on my part where the address I was using was link-local - hence why it was hanging at <code>client.post()</code>. There is a nice method in the InternetAddress class <a href=\"https://api.dartlang.org/stable/2.6.1/dart-io/InternetAddress/isLinkLocal.html\" rel=\"nofollow noreferrer\">here</a>, amongst some other useful methods, which checks to see if the address is link-local or not.</p>\n"}], "owner": {"reputation": 63, "user_id": 12147590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44b46f443696c899b5f1058a70129c7e?s=128&d=identicon&r=PG&f=1", "display_name": "saxophonix", "link": "https://stackoverflow.com/users/12147590/saxophonix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 59048563, "answer_count": 1, "score": 1, "last_activity_date": 1574763357, "creation_date": 1573485794, "question_id": 58804162, "link": "https://stackoverflow.com/questions/58804162/dart-client-post-method-in-the-http-dart-package-is-hanging-and-isnt-returni", "title": "Dart: client.post() method in the http.dart package is hanging and isn&#39;t returning a future", "body": "<p>I am currently implementing a simple ONVIF client program in dart and am having a bit of trouble with handling futures in the http.dart package.</p>\n\n<p>In my code below, the <code>client.post()</code> method returns a <code>Future&lt;response&gt;</code> (containing body/header/status code and so on...) and in my case I would need to receive this before the if/else statement, hence why I have used <code>await</code>. Trouble is the program just hangs and doesn't proceed past the <code>client.post()</code>line.\nI know I might need to do a <code>client.close()</code> somewhere but I've tried lots of different ways and nothing works. Here is my current code with some comments to try and explain it a bit:</p>\n\n<pre><code>// The Variables: \n// reqSysDateAndTime is a soap message we are sending to the device.\n// onvifDev is just a place where the device details are stored.\n// probeMatch is a class that stores important info from the ws-discovery stage.\n\nFuture&lt;String&gt; checkXaddrsAndGetTime(Device onvifDev, ProbeMatch probeMatch) async {\n\n  // Set up the client and uri.\n  Uri uri = Uri.parse(probeMatch.xaddrs);\n  http.Client client = http.Client();\n\n  // Send the POST request, with full SOAP envelope as the request body\n  print('[Setup]: Listening for Date/Time response...');\n  Response response = await client.post(uri, body: reqSysDateAndTime);\n  print(\"${response.body}\");\n\n  // Determine if the address is usable or not.\n  if (response != null) {\n    // Set this address as 'working'\n    onvifDev.xAddrs = probeMatch.xaddrs;\n    return response.body;\n  }\n  else {\n    return null; // The address does not work\n  }\n}\n</code></pre>\n\n<p>I also know that this isn't an issue with the actual body of the request because if I do...</p>\n\n<pre><code>client.post(uri, body: reqSysDateAndTime).then((onValue) =&gt; print(onValue.body));\n</code></pre>\n\n<p>...instead, it will print out the response which I'm expecting.</p>\n\n<p>I understand that this is probably a small fix that I'm missing but any help would be much appreciated.</p>\n\n<p>Cheers.</p>\n"}, {"tags": ["android", "ios", "flutter", "dart"], "comments": [{"owner": {"reputation": 1177, "user_id": 6324029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/293ab6d0d3810adb641b0d37b800f774?s=128&d=identicon&r=PG&f=1", "display_name": "hoangquyy", "link": "https://stackoverflow.com/users/6324029/hoangquyy"}, "edited": false, "score": 0, "creation_date": 1573525203, "post_id": 58803541, "comment_id": 103901480, "body": "You can check this: <a href=\"https://pub.dev/packages/native_device_orientation\" rel=\"nofollow noreferrer\">pub.dev/packages/native_device_orientation</a>"}], "answers": [{"comments": [{"owner": {"reputation": 190, "user_id": 12184173, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FI9NxIP31ys/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcVeziBVVKYzoIP2ZXbb3W5xtcK4w/photo.jpg?sz=128", "display_name": "Simon B", "link": "https://stackoverflow.com/users/12184173/simon-b"}, "edited": false, "score": 0, "creation_date": 1573484552, "post_id": 58803784, "comment_id": 103887521, "body": "And with the newest version, the orientation is working with iOS too ?"}, {"owner": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "reply_to_user": {"reputation": 190, "user_id": 12184173, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FI9NxIP31ys/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcVeziBVVKYzoIP2ZXbb3W5xtcK4w/photo.jpg?sz=128", "display_name": "Simon B", "link": "https://stackoverflow.com/users/12184173/simon-b"}, "edited": false, "score": 0, "creation_date": 1573484623, "post_id": 58803784, "comment_id": 103887563, "body": "@SimonB At least it should be working. According to the issue they merged the fix 10 days ago."}], "tags": [], "owner": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "is_accepted": false, "score": 1, "last_activity_date": 1573484302, "creation_date": 1573484302, "answer_id": 58803784, "question_id": 58803541, "link": "https://stackoverflow.com/questions/58803541/i-wanna-change-the-orientation-of-my-app-while-the-app-is-runing-force-certain/58803784#58803784", "title": "I wanna change the orientation of my app while the app is runing (force certain pages portrait only and other landscape only)", "body": "<p>It's a <a href=\"https://github.com/flutter/flutter/issues/13238\" rel=\"nofollow noreferrer\">known issue</a> for Flutter on iOS. You can either wait for the release or switch to the newest Flutter version by running command <code>flutter channel master</code>. But be careful - master branch isn't stable enough to use in production.</p>\n"}, {"tags": [], "owner": {"reputation": 190, "user_id": 12184173, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FI9NxIP31ys/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcVeziBVVKYzoIP2ZXbb3W5xtcK4w/photo.jpg?sz=128", "display_name": "Simon B", "link": "https://stackoverflow.com/users/12184173/simon-b"}, "is_accepted": true, "score": 0, "last_activity_date": 1580806659, "last_edit_date": 1580806659, "creation_date": 1580135368, "answer_id": 59933128, "question_id": 58803541, "link": "https://stackoverflow.com/questions/58803541/i-wanna-change-the-orientation-of-my-app-while-the-app-is-runing-force-certain/59933128#59933128", "title": "I wanna change the orientation of my app while the app is runing (force certain pages portrait only and other landscape only)", "body": "<p>With the new version of flutter, it works with the preferred orientation.</p>\n\n<pre><code>SystemChrome.setPreferredOrientations([\n    DeviceOrientation.landscapeLeft,\n    DeviceOrientation.landscapeRight,\n])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 399, "user_id": 12703737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9286e5319beb43ce987f8d3c6902950e?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Efford", "link": "https://stackoverflow.com/users/12703737/adrian-efford"}, "is_accepted": false, "score": 0, "last_activity_date": 1580709946, "last_edit_date": 1580709946, "creation_date": 1580709551, "answer_id": 60033820, "question_id": 58803541, "link": "https://stackoverflow.com/questions/58803541/i-wanna-change-the-orientation-of-my-app-while-the-app-is-runing-force-certain/60033820#60033820", "title": "I wanna change the orientation of my app while the app is runing (force certain pages portrait only and other landscape only)", "body": "<p>Try to use:</p>\n\n<pre><code>setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\n</code></pre>\n\n<p>This worked for me!</p>\n"}], "owner": {"reputation": 190, "user_id": 12184173, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FI9NxIP31ys/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcVeziBVVKYzoIP2ZXbb3W5xtcK4w/photo.jpg?sz=128", "display_name": "Simon B", "link": "https://stackoverflow.com/users/12184173/simon-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 59933128, "answer_count": 3, "score": 0, "last_activity_date": 1580806659, "creation_date": 1573483448, "question_id": 58803541, "link": "https://stackoverflow.com/questions/58803541/i-wanna-change-the-orientation-of-my-app-while-the-app-is-runing-force-certain", "title": "I wanna change the orientation of my app while the app is runing (force certain pages portrait only and other landscape only)", "body": "<p>I wanna force the orientation of some pages of my game app. Like, I want the orientation to be Portrait for the landing page, the options of my game, and the player selection, but I want to force the orientation to be landscape when the game begins... I tried using:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>super.initState();\n  SystemChrome.setPreferredOrientations([\n    DeviceOrientation.landscapeLeft,\n    DeviceOrientation.landscapeRight,\n])\n</code></pre>\n\n<p>and it does work on android, (except that it change the orientation 3 times before getting the right orientation...) But on iOS, it doesn't force the change... It only change when you turn the device and then it works and stays in landscape mode. I want the view to change even if I keep my phone in portrait...</p>\n\n<p>Does anyone had the same issue and know how to fix it ?</p>\n\n<p>I tried to put the <code>SystemChrome.setPreferredOrientations</code> in the Widget build function but it didn't worked.</p>\n"}, {"tags": ["flutter", "dart", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 1, "creation_date": 1573483010, "post_id": 58803138, "comment_id": 103886697, "body": "Order by dateAdded, limit 1.  You&#39;ll have to build a reference to the specific goal collection you want, since it seems to be a subcollection under documents of users."}, {"owner": {"reputation": 161, "user_id": 10573031, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wxr04BG7mSE/AAAAAAAAAAI/AAAAAAAAAMw/uo-K-wWSpjY/photo.jpg?sz=128", "display_name": "Allen Andre Indefenzo", "link": "https://stackoverflow.com/users/10573031/allen-andre-indefenzo"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1573483416, "post_id": 58803138, "comment_id": 103886901, "body": "Hello, I do not understand the Order by dateAdded, here is my code so far:  var document = await Firestore.instance.collection(&#39;users&#39;).document(userData[ind&zwnj;&#8203;ex].uID).collection(&zwnj;&#8203;&#39;goal&#39;).orderBy(&#39;dat&zwnj;&#8203;eAdded&#39;); I can&#39;t seem to add  &#39;limit 1&#39; since it throws some errors"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 2, "creation_date": 1573483471, "post_id": 58803138, "comment_id": 103886935, "body": "Please edit the question to show the exact code that isn&#39;t working the way you expect, as well as the specific errors.  We should be able to reproduce exactly what you&#39;re seeing."}], "answers": [{"tags": [], "owner": {"reputation": 161, "user_id": 10573031, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wxr04BG7mSE/AAAAAAAAAAI/AAAAAAAAAMw/uo-K-wWSpjY/photo.jpg?sz=128", "display_name": "Allen Andre Indefenzo", "link": "https://stackoverflow.com/users/10573031/allen-andre-indefenzo"}, "is_accepted": false, "score": 0, "last_activity_date": 1573485290, "creation_date": 1573485290, "answer_id": 58804048, "question_id": 58803138, "link": "https://stackoverflow.com/questions/58803138/how-do-i-get-the-first-document-in-a-cloud-firestore-collection-flutter-dart/58804048#58804048", "title": "How do I get the first document in a Cloud Firestore collection (Flutter/Dart)", "body": "<p>Thanks to @Doug Stevenson, I managed to arrive at the answer! </p>\n\n<pre><code>var document2 = await Firestore.instance\n        .collection('users')\n        .document(userData[index].uID) // I store my user's UID locally in a FutueBuilder func hence the index\n        .collection('goal')\n        .orderBy(\"dateAdded\")\n        .limit(1)\n        .getDocuments()\n        .then((QuerySnapshot a) {});\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 10573031, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wxr04BG7mSE/AAAAAAAAAAI/AAAAAAAAAMw/uo-K-wWSpjY/photo.jpg?sz=128", "display_name": "Allen Andre Indefenzo", "link": "https://stackoverflow.com/users/10573031/allen-andre-indefenzo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 315, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1579245557, "creation_date": 1573481961, "last_edit_date": 1579245557, "question_id": 58803138, "link": "https://stackoverflow.com/questions/58803138/how-do-i-get-the-first-document-in-a-cloud-firestore-collection-flutter-dart", "title": "How do I get the first document in a Cloud Firestore collection (Flutter/Dart)", "body": "<p>I have this collection in cloud Firestore named ('goal'), and so far there are two documents 'Nov 10, 2019', and 'Nov 11, 2019'. How do I get the document that was first created (Nov 10,2019) programmatically?</p>\n\n<p>Here is how my Firestore looks like:\n<a href=\"https://i.stack.imgur.com/7ShQT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7ShQT.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 2215, "user_id": 4712391, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U9oPV.png?s=128&g=1", "display_name": "Tinus Jackson", "link": "https://stackoverflow.com/users/4712391/tinus-jackson"}, "edited": false, "score": 0, "creation_date": 1573479729, "post_id": 58802307, "comment_id": 103884961, "body": "This might help to override the <a href=\"https://flutter.dev/docs/development/packages-and-plugins/using-packages#conflict-resolution\" rel=\"nofollow noreferrer\">Dependency</a>"}], "answers": [{"comments": [{"owner": {"reputation": 529, "user_id": 9074761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7mx6o.jpg?s=128&g=1", "display_name": "Liliana J", "link": "https://stackoverflow.com/users/9074761/liliana-j"}, "edited": false, "score": 0, "creation_date": 1583428685, "post_id": 58805514, "comment_id": 107122492, "body": "You&#39;right, I had intl: ^0.16.1  it didn&#39;t work ,   I have to change to  ^0.16.0"}], "tags": [], "owner": {"reputation": 521, "user_id": 3782288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OsWtT.png?s=128&g=1", "display_name": "B&#252;lent Hacioglu", "link": "https://stackoverflow.com/users/3782288/b%c3%bclent-hacioglu"}, "is_accepted": true, "score": 26, "last_activity_date": 1573491037, "creation_date": 1573491037, "answer_id": 58805514, "question_id": 58802307, "link": "https://stackoverflow.com/questions/58802307/not-able-to-use-jiffy-and-flutter-localizations-because-different-versions-of-in/58805514#58805514", "title": "Not able to use jiffy and flutter_localizations because different versions of intl", "body": "<p>You just need to add this to your <code>pubspec.yaml</code> file:</p>\n\n<p><code>dependency_overrides:\n  intl: ^0.16.0</code></p>\n"}, {"tags": [], "owner": {"reputation": 4200, "user_id": 10699119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aYUPn.jpg?s=128&g=1", "display_name": "sana ebadi", "link": "https://stackoverflow.com/users/10699119/sana-ebadi"}, "is_accepted": false, "score": 0, "last_activity_date": 1577620855, "creation_date": 1577620855, "answer_id": 59519213, "question_id": 58802307, "link": "https://stackoverflow.com/questions/58802307/not-able-to-use-jiffy-and-flutter-localizations-because-different-versions-of-in/59519213#59519213", "title": "Not able to use jiffy and flutter_localizations because different versions of intl", "body": "<p>go to your pubspec.yamal and \nunder of  <code>global_configuration</code>:</p>\n\n<p>set intl version like this :</p>\n\n<pre><code>     dependency_overrides:\n  intl: ^0.15.8\n</code></pre>\n\n<p>and change it to :</p>\n\n<pre><code>dependency_overrides:\n intl: ^0.16.0\n</code></pre>\n"}], "owner": {"reputation": 2659, "user_id": 2286764, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/L4Qif.png?s=128&g=1", "display_name": "BHuelse", "link": "https://stackoverflow.com/users/2286764/bhuelse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6068, "favorite_count": 1, "accepted_answer_id": 58805514, "answer_count": 2, "score": 5, "last_activity_date": 1577620855, "creation_date": 1573478836, "last_edit_date": 1573478969, "question_id": 58802307, "link": "https://stackoverflow.com/questions/58802307/not-able-to-use-jiffy-and-flutter-localizations-because-different-versions-of-in", "title": "Not able to use jiffy and flutter_localizations because different versions of intl", "body": "<p>I am trying to use the <code>Jiffy</code> package and the <code>flutter</code> localization package. Problem is now, that both are using the intl package, but with different versions. When I try \"Packages get\" I get the following error:</p>\n\n<blockquote>\n  <p>Because every version of flutter_localizations from sdk depends on intl 0.15.8 and every version of jiffy depends on intl ^0.16.0, flutter_localizations from sdk is incompatible with jiffy.</p>\n</blockquote>\n\n<p>Is there a way to solve it? To use both version of intl for example?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 6712, "user_id": 6678991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vT7P5.jpg?s=128&g=1", "display_name": "Mahdi-Malv", "link": "https://stackoverflow.com/users/6678991/mahdi-malv"}, "edited": false, "score": 2, "creation_date": 1598372635, "post_id": 58802263, "comment_id": 112435342, "body": "Emphasis on being before <code>super.dispose();</code>"}, {"owner": {"reputation": 103440, "user_id": 6618622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z7q0p.jpg?s=128&g=1", "display_name": "CopsOnRoad", "link": "https://stackoverflow.com/users/6618622/copsonroad"}, "reply_to_user": {"reputation": 6712, "user_id": 6678991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vT7P5.jpg?s=128&g=1", "display_name": "Mahdi-Malv", "link": "https://stackoverflow.com/users/6678991/mahdi-malv"}, "edited": false, "score": 0, "creation_date": 1598384647, "post_id": 58802263, "comment_id": 112440630, "body": "@Mahdi-Malv Sorry I didn&#39;t get that."}, {"owner": {"reputation": 7877, "user_id": 8822337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ojyRl.jpg?s=128&g=1", "display_name": "BloodLoss", "link": "https://stackoverflow.com/users/8822337/bloodloss"}, "edited": false, "score": 0, "creation_date": 1599891302, "post_id": 58802263, "comment_id": 112921181, "body": "@CopsOnRoad why still come to this error when dispose like this?    <code>@override   void dispose() {     super.dispose();    controller.dispose();   }</code>"}, {"owner": {"reputation": 7877, "user_id": 8822337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ojyRl.jpg?s=128&g=1", "display_name": "BloodLoss", "link": "https://stackoverflow.com/users/8822337/bloodloss"}, "edited": false, "score": 0, "creation_date": 1599891324, "post_id": 58802263, "comment_id": 112921186, "body": "<code>super.dispose();</code> on top"}, {"owner": {"reputation": 6712, "user_id": 6678991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vT7P5.jpg?s=128&g=1", "display_name": "Mahdi-Malv", "link": "https://stackoverflow.com/users/6678991/mahdi-malv"}, "edited": false, "score": 5, "creation_date": 1600022644, "post_id": 58802263, "comment_id": 112950528, "body": "@CopsOnRoad I wanted to bold that <code>controller.dispose()</code> must be before <code>super.dispose()</code>."}, {"owner": {"reputation": 103440, "user_id": 6618622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z7q0p.jpg?s=128&g=1", "display_name": "CopsOnRoad", "link": "https://stackoverflow.com/users/6618622/copsonroad"}, "reply_to_user": {"reputation": 6712, "user_id": 6678991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vT7P5.jpg?s=128&g=1", "display_name": "Mahdi-Malv", "link": "https://stackoverflow.com/users/6678991/mahdi-malv"}, "edited": false, "score": 0, "creation_date": 1600068252, "post_id": 58802263, "comment_id": 112959906, "body": "@Mahdi-Malv It&#39;s actually before <code>super.dispose()</code> in the answer."}, {"owner": {"reputation": 6712, "user_id": 6678991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vT7P5.jpg?s=128&g=1", "display_name": "Mahdi-Malv", "link": "https://stackoverflow.com/users/6678991/mahdi-malv"}, "edited": false, "score": 0, "creation_date": 1600070458, "post_id": 58802263, "comment_id": 112960883, "body": "I know. I just <b>emphasized</b>"}, {"owner": {"reputation": 821, "user_id": 5971579, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oTTnV.jpg?s=128&g=1", "display_name": "Ruben", "link": "https://stackoverflow.com/users/5971579/ruben"}, "edited": false, "score": 1, "creation_date": 1604549708, "post_id": 58802263, "comment_id": 114382342, "body": "Just struggling where to add the method?  Since animationController is not recognized into the state class..."}], "tags": [], "owner": {"reputation": 103440, "user_id": 6618622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z7q0p.jpg?s=128&g=1", "display_name": "CopsOnRoad", "link": "https://stackoverflow.com/users/6618622/copsonroad"}, "is_accepted": true, "score": 35, "last_activity_date": 1573478699, "creation_date": 1573478699, "answer_id": 58802263, "question_id": 58802223, "link": "https://stackoverflow.com/questions/58802223/flutter-ticker-must-be-disposed-before-calling-super-dispose/58802263#58802263", "title": "Flutter: Ticker must be disposed before calling super.dispose()", "body": "<p>Override <code>dispose</code> method and dispose the <code>AnimationController</code> instance. </p>\n\n<pre><code>@override\ndispose() {\n  animationController.dispose(); // you need this\n  super.dispose();\n}\n</code></pre>\n"}], "owner": {"reputation": 971, "user_id": 12176146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i7saa6CD6nU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdnigVUDcRnIS2zpgJROryAZKe46w/photo.jpg?sz=128", "display_name": "raman raman", "link": "https://stackoverflow.com/users/12176146/raman-raman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8788, "favorite_count": 3, "accepted_answer_id": 58802263, "answer_count": 1, "score": 10, "last_activity_date": 1608307951, "creation_date": 1573478522, "last_edit_date": 1573479353, "question_id": 58802223, "link": "https://stackoverflow.com/questions/58802223/flutter-ticker-must-be-disposed-before-calling-super-dispose", "title": "Flutter: Ticker must be disposed before calling super.dispose()", "body": "<p>I don't know why  this error is appearing in the console box</p>\n\n<p>Console message: </p>\n\n<blockquote>\n  <p>SplashScreenState created a Ticker via its SingleTickerProviderStateMixin, but at the time dispose() was called on the mixin, that Ticker was still active. The Ticker must be disposed before calling super.dispose(). \n  Tickers used by AnimationControllers should\n   be disposed by calling dispose() on\n   the AnimationController itself. Otherwise, \n  the ticker will leak.\n  The offending ticker was: \n  Ticker(created by SplashScreenState#dae31(lifecycle state: created))</p>\n</blockquote>\n\n<p><strong>HERE IS MY FULL CODE FOR SPLASHSCREEN:</strong></p>\n\n<pre><code>import 'dart:async';\nimport 'package:flutter/cupertino.dart';\nimport 'package:flutter/material.dart';\n\n\nclass SplashScreen extends StatefulWidget {\n  @override\n  SplashScreenState createState() =&gt; new SplashScreenState();\n}\n\nclass SplashScreenState extends State&lt;SplashScreen&gt;\n    with SingleTickerProviderStateMixin {\n  var _visible = true;\n\n  AnimationController animationController;\n  Animation&lt;double&gt; animation;\n\n  startTime() async {\n    var _duration = new Duration(seconds: 3);\n    return new Timer(_duration, navigationPage);\n  }\n\n  void navigationPage() {\n    Navigator.of(context).pushReplacementNamed(HOME_SCREEN);\n  }\n\n\n\n\n  @override\n  void initState() {\n    super.initState();\n    animationController = new AnimationController(\n      vsync: this,\n      duration: new Duration(seconds: 2),\n    );\n    animation =\n    new CurvedAnimation(parent: animationController, curve: Curves.easeOut);\n\n    animation.addListener(() =&gt; this.setState(() {}));\n    animationController.forward();\n\n    setState(() {\n      _visible = !_visible;\n    });\n    startTime();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Stack(\n        fit: StackFit.expand,\n        children: &lt;Widget&gt;[\n\n          new Column(\n            mainAxisAlignment: MainAxisAlignment.center,\n            children: &lt;Widget&gt;[\n              new Image.asset(\n                'assets/vegan1.png',\n                width: animation.value * 280,\n                height: animation.value * 280,\n              ),\n            ],\n          ),\n        ],\n      ),\n    );\n  }\n}\n\n\n</code></pre>\n\n<p>How can I solve this error. Please answer if you have any solution or idea to solve this.only added important points are added reduce the size of code. If you need more console code then please comment. </p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 1366, "user_id": 6117675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LqCoI.jpg?s=128&g=1", "display_name": "Taym95", "link": "https://stackoverflow.com/users/6117675/taym95"}, "edited": false, "score": 0, "creation_date": 1573477493, "post_id": 58800829, "comment_id": 103883815, "body": "But this is logic, right? you are trying to open an image witch exists in another device! you need to save an image in the cloud, not in the device, then save the image path in a cloud database like that all devices will have access to the image!"}, {"owner": {"reputation": 45, "user_id": 11344665, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kDS3pYioxVI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcJxjwVLYhJprpZOhoIleuxYhEy8g/mo/photo.jpg?sz=128", "display_name": "alia aljabri", "link": "https://stackoverflow.com/users/11344665/alia-aljabri"}, "reply_to_user": {"reputation": 1366, "user_id": 6117675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LqCoI.jpg?s=128&g=1", "display_name": "Taym95", "link": "https://stackoverflow.com/users/6117675/taym95"}, "edited": false, "score": 0, "creation_date": 1573479099, "post_id": 58800829, "comment_id": 103884653, "body": "the image path is actually saved in the database, var image = await ImagePicker.pickImage(source: ImageSource.camera );     ImageNearby = image.path; &gt;&gt; rhis path is saved in the database"}], "owner": {"reputation": 45, "user_id": 11344665, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kDS3pYioxVI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcJxjwVLYhJprpZOhoIleuxYhEy8g/mo/photo.jpg?sz=128", "display_name": "alia aljabri", "link": "https://stackoverflow.com/users/11344665/alia-aljabri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 272, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1573475551, "creation_date": 1573473108, "last_edit_date": 1573475551, "question_id": 58800829, "link": "https://stackoverflow.com/questions/58800829/my-flutter-app-wont-open-image-path-file", "title": "my flutter app won&#39;t open image path file", "body": "<p>I'm trying to save an image added by the user in the database as a string, my application will take the path of the inserted image, but the problem is when another device open the application this error appears</p>\n\n<pre><code>Cannot open file, path =\n'/storage/emulated/0/Android/data/com.sad\n(OS Error: Permission denied, errno = 13)\n</code></pre>\n\n<p>but in the same device, the image will appear </p>\n\n<p>any idea how to solve this?</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 819, "user_id": 9907366, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PA8dauX8bto/AAAAAAAAAAI/AAAAAAAAAGg/b6BphmC227g/photo.jpg?sz=128", "display_name": "satish", "link": "https://stackoverflow.com/users/9907366/satish"}, "edited": false, "score": 0, "creation_date": 1573473588, "post_id": 58800808, "comment_id": 103882020, "body": "Image picker is quite faster than others."}, {"owner": {"reputation": 692, "user_id": 12208004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3aebc69fa9a17c57d92f86c28099cc23?s=128&d=identicon&r=PG&f=1", "display_name": "user12208004", "link": "https://stackoverflow.com/users/12208004/user12208004"}, "reply_to_user": {"reputation": 819, "user_id": 9907366, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PA8dauX8bto/AAAAAAAAAAI/AAAAAAAAAGg/b6BphmC227g/photo.jpg?sz=128", "display_name": "satish", "link": "https://stackoverflow.com/users/9907366/satish"}, "edited": false, "score": 0, "creation_date": 1573474095, "post_id": 58800808, "comment_id": 103882214, "body": "image picker maybe faster, but it seems not compressed image size so much than others..."}, {"owner": {"reputation": 819, "user_id": 9907366, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PA8dauX8bto/AAAAAAAAAAI/AAAAAAAAAGg/b6BphmC227g/photo.jpg?sz=128", "display_name": "satish", "link": "https://stackoverflow.com/users/9907366/satish"}, "edited": false, "score": 0, "creation_date": 1573474616, "post_id": 58800808, "comment_id": 103882439, "body": "It should, Bcz lates image picker has more functionality compare to the older ones, You can pass max height and maxWidth and image Quality."}, {"owner": {"reputation": 1382, "user_id": 1032201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jR2J7.jpg?s=128&g=1", "display_name": "rstrelba", "link": "https://stackoverflow.com/users/1032201/rstrelba"}, "edited": false, "score": 0, "creation_date": 1573503674, "post_id": 58800808, "comment_id": 103895669, "body": "Remember, you can resize your image with  ImagePicker.pickImage(source: ImageSource.camera, maxHeight: 1024, maxWidth: 1024);"}, {"owner": {"reputation": 692, "user_id": 12208004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3aebc69fa9a17c57d92f86c28099cc23?s=128&d=identicon&r=PG&f=1", "display_name": "user12208004", "link": "https://stackoverflow.com/users/12208004/user12208004"}, "edited": false, "score": 0, "creation_date": 1573526383, "post_id": 58800808, "comment_id": 103901666, "body": "Thanks for comments. I knew how to do it. I want to know which way is the best in terms of process speed and compress quality."}], "answers": [{"comments": [{"owner": {"reputation": 692, "user_id": 12208004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3aebc69fa9a17c57d92f86c28099cc23?s=128&d=identicon&r=PG&f=1", "display_name": "user12208004", "link": "https://stackoverflow.com/users/12208004/user12208004"}, "edited": false, "score": 0, "creation_date": 1573526356, "post_id": 58811124, "comment_id": 103901661, "body": "Thanks for answering. I knew how to do it. I want to know which way is the best in terms of process speed and compress quality."}, {"owner": {"reputation": 3431, "user_id": 10409567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F9li.jpg?s=128&g=1", "display_name": "griffins", "link": "https://stackoverflow.com/users/10409567/griffins"}, "reply_to_user": {"reputation": 692, "user_id": 12208004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3aebc69fa9a17c57d92f86c28099cc23?s=128&d=identicon&r=PG&f=1", "display_name": "user12208004", "link": "https://stackoverflow.com/users/12208004/user12208004"}, "edited": false, "score": 0, "creation_date": 1573527399, "post_id": 58811124, "comment_id": 103901864, "body": "i would go with image_picker as its supported by the flutter team and you can rely on it in the long term"}, {"owner": {"reputation": 692, "user_id": 12208004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3aebc69fa9a17c57d92f86c28099cc23?s=128&d=identicon&r=PG&f=1", "display_name": "user12208004", "link": "https://stackoverflow.com/users/12208004/user12208004"}, "edited": false, "score": 0, "creation_date": 1573538984, "post_id": 58811124, "comment_id": 103904309, "body": "Appreciate to your thought and help!"}, {"owner": {"reputation": 478, "user_id": 9731472, "user_type": "registered", "profile_image": "https://graph.facebook.com/236636036913128/picture?type=large", "display_name": "Israel Obanijesu", "link": "https://stackoverflow.com/users/9731472/israel-obanijesu"}, "edited": false, "score": 0, "creation_date": 1579337354, "post_id": 58811124, "comment_id": 105738878, "body": "is there something similar to this for <code>pickVideo</code>?"}, {"owner": {"reputation": 3431, "user_id": 10409567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F9li.jpg?s=128&g=1", "display_name": "griffins", "link": "https://stackoverflow.com/users/10409567/griffins"}, "edited": false, "score": 1, "creation_date": 1579337555, "post_id": 58811124, "comment_id": 105738918, "body": "With image picker apparently of today no..you can check other ways to compress video"}], "tags": [], "owner": {"reputation": 3431, "user_id": 10409567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F9li.jpg?s=128&g=1", "display_name": "griffins", "link": "https://stackoverflow.com/users/10409567/griffins"}, "is_accepted": false, "score": 5, "last_activity_date": 1573525633, "creation_date": 1573525633, "answer_id": 58811124, "question_id": 58800808, "link": "https://stackoverflow.com/questions/58800808/flutter-the-best-way-to-compress-image/58811124#58811124", "title": "Flutter the best way to compress image", "body": "<p><strong>image picker</strong></p>\n\n<p>with image picker you can set image quality easily and efficiently just as shown below </p>\n\n<pre><code>File _image;\n\n  Future getImage() async {\n    var image = await ImagePicker.pickImage(\n        source: ImageSource.camera, imageQuality: 50);\n\n    setState(() {\n      _image = image;\n    });\n  }\n</code></pre>\n\n<p>image quality is in percentage % 100 being the highest</p>\n"}, {"comments": [{"owner": {"reputation": 6248, "user_id": 8253662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FuMpZ.jpg?s=128&g=1", "display_name": "Mahesh Jamdade", "link": "https://stackoverflow.com/users/8253662/mahesh-jamdade"}, "edited": false, "score": 0, "creation_date": 1608781088, "post_id": 64690920, "comment_id": 115684041, "body": "can you please tell how did you calculate the image size in megabytes of the picked file?"}, {"owner": {"reputation": 160, "user_id": 4937024, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/02887638ea6c57b36409086a239a9140?s=128&d=identicon&r=PG&f=1", "display_name": "kk_", "link": "https://stackoverflow.com/users/4937024/kk"}, "edited": false, "score": 0, "creation_date": 1611935354, "post_id": 64690920, "comment_id": 116617965, "body": "You can take the files length in bytes and calculate in kilobytes or megabytes and so on. Like this:  file.readAsBytesSync().lengthInBytes -&gt; file size in bytes (file.readAsBytesSync().lengthInBytes) / 1024 -&gt; file size in kilobyte (file.readAsBytesSync().lengthInBytes) / 1024 / 1024 -&gt; file size in megabyte"}], "tags": [], "owner": {"reputation": 1990, "user_id": 12806961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XBSyG.jpg?s=128&g=1", "display_name": "Joe Muller", "link": "https://stackoverflow.com/users/12806961/joe-muller"}, "is_accepted": false, "score": 25, "last_activity_date": 1604547803, "creation_date": 1604547803, "answer_id": 64690920, "question_id": 58800808, "link": "https://stackoverflow.com/questions/58800808/flutter-the-best-way-to-compress-image/64690920#64690920", "title": "Flutter the best way to compress image", "body": "<p>Here's a breakdown of the potential solutions. The TLDR is that the flutter_image_compress package shrinks files much more than the ImagePicker class can itself.</p>\n<p><strong>Image Picker</strong></p>\n<p>As others have suggested, you can use the built in imaqeQuality property from ImagePicker to compress the image. This property takes a value between 0 and 100 and represents a percentage of the original image quality. The benefit to this approach is that it's built into the image_picker package and is therefore incredibly easy to use.</p>\n<pre><code>  File _image;\n\n  Future getImage() async {\n    var image = await ImagePicker.pickImage(\n        source: ImageSource.gallery,  \n                imageQuality: 25,\n    );\n\n    setState(() {\n      _image = image;\n    });\n  }\n</code></pre>\n<p>I did a little test to see how much various values effect the size of the image:<br></p>\n<p><strong>100% Image Quality - 4.58MB</strong>\n<a href=\"https://i.stack.imgur.com/THI6y.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/THI6y.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>50% Image Quality - 3.58MB</strong>\n<a href=\"https://i.stack.imgur.com/QKI01.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/QKI01.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>25% Image Quality - 2.61MB</strong>\n<a href=\"https://i.stack.imgur.com/v2fAa.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/v2fAa.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>1% Image Quality - 2.12MB</strong>\n<a href=\"https://i.stack.imgur.com/pK5q4.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pK5q4.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>0% Image Quality - 3.9MB</strong>\n<a href=\"https://i.stack.imgur.com/ZtbDI.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ZtbDI.jpg\" alt=\"enter image description here\" /></a></p>\n<p>In summary, you can reduce the file size of an image by more than half without much of a visible difference. Trying to force the image quality to 0% doesn't actually shrink the file size.</p>\n<p><strong>flutter_image_compress</strong><br>\nThe <a href=\"https://pub.dev/packages/flutter_image_compress\" rel=\"noreferrer\">flutter_image_compress</a> package is fairly simple to use and it appears to be much better at actually reducing the file size.</p>\n<pre><code>Future&lt;File&gt; compressFile(File file) async {\n  final filePath = file.absolute.path;\n\n  // Create output file path\n  // eg:- &quot;Volume/VM/abcd_out.jpeg&quot;\n  final lastIndex = filePath.lastIndexOf(new RegExp(r'.jp'));\n  final splitted = filePath.substring(0, (lastIndex));\n  final outPath = &quot;${splitted}_out${filePath.substring(lastIndex)}&quot;;\n  var result = await FlutterImageCompress.compressAndGetFile(\n    file.absolute.path, outPath,\n    quality: 5,\n  );\n\n  print(file.lengthSync());\n  print(result.lengthSync());\n\n  return result;\n }\n</code></pre>\n<p>I'll omit the images here because the all look the same:<br>\n<strong>50% Image Quality - 590KB</strong><br>\n<strong>25% Image Quality - 276KB</strong><br>\n<strong>5% Image Quality - 211KB</strong><br></p>\n<p><strong>flutter_native_image</strong>\nThe <a href=\"https://pub.dev/packages/flutter_native_image\" rel=\"noreferrer\">flutter_native_image</a> package is comparable to the flutter_image_compress package as far as file sizes go.<br></p>\n<pre><code>Future&lt;File&gt; compressFile(File file) async{\n    File compressedFile = await FlutterNativeImage.compressImage(file.path,\n        quality: 5,);\n    return compressedFile;\n  }\n</code></pre>\n<p><strong>50% Image Quality - 1.02MB</strong><br>\n<strong>25% Image Quality - 309KB</strong><br>\n<strong>5% Image Quality - 204KB</strong><br></p>\n<p>I guess one of the benefits to this method is that you don't need to provide it with an output pathway for the compressed file.</p>\n"}, {"tags": [], "owner": {"reputation": 7877, "user_id": 8822337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ojyRl.jpg?s=128&g=1", "display_name": "BloodLoss", "link": "https://stackoverflow.com/users/8822337/bloodloss"}, "is_accepted": false, "score": 0, "last_activity_date": 1618831179, "creation_date": 1618831179, "answer_id": 67160996, "question_id": 58800808, "link": "https://stackoverflow.com/questions/58800808/flutter-the-best-way-to-compress-image/67160996#67160996", "title": "Flutter the best way to compress image", "body": "<p>An image compress package like Luban for Dart. This library has no system platform constraints.</p>\n<p><a href=\"https://github.com/crazecoder/flutter_luban\" rel=\"nofollow noreferrer\">plugin</a></p>\n"}], "owner": {"reputation": 692, "user_id": 12208004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3aebc69fa9a17c57d92f86c28099cc23?s=128&d=identicon&r=PG&f=1", "display_name": "user12208004", "link": "https://stackoverflow.com/users/12208004/user12208004"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9641, "favorite_count": 1, "answer_count": 3, "score": 10, "last_activity_date": 1618831179, "creation_date": 1573473025, "question_id": 58800808, "link": "https://stackoverflow.com/questions/58800808/flutter-the-best-way-to-compress-image", "title": "Flutter the best way to compress image", "body": "<p>I'm try to compress image before upload to the storage using flutter image_picker package.\nI found three ways to do it, but I'm not sure which way is the best.</p>\n\n<ol>\n<li>using image_picker package's imageQuality params</li>\n</ol>\n\n<p><a href=\"https://pub.dev/packages/image_picker\" rel=\"noreferrer\">image_picker</a></p>\n\n<ol start=\"2\">\n<li>using flutter_image_compress package</li>\n</ol>\n\n<p><a href=\"https://pub.dev/packages/flutter_image_compress\" rel=\"noreferrer\">flutter_image_compress</a></p>\n\n<ol start=\"3\">\n<li>using flutter_native_image package</li>\n</ol>\n\n<p><a href=\"https://github.com/btastic/flutter_native_image\" rel=\"noreferrer\">flutter_native_image</a></p>\n\n<p>is there any difference between these options?</p>\n\n<p>Appreciate any helps and explanation.</p>\n"}, {"tags": ["json", "api", "flutter", "dart"], "comments": [{"owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "edited": false, "score": 0, "creation_date": 1573488431, "post_id": 58800751, "comment_id": 103889465, "body": "You don&#39;t mark classes <code>async</code> - you mark methods (or top level functions). You also have some statements (the <code>if</code> etc) that aren&#39;t even in a method"}], "answers": [{"comments": [{"owner": {"reputation": 290, "user_id": 10011315, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iDzuOOYlfg0/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3KUxocq6jzHRaaJlwoD84gevERig/mo/photo.jpg?sz=128", "display_name": "Andrew Stevenson", "link": "https://stackoverflow.com/users/10011315/andrew-stevenson"}, "edited": false, "score": 0, "creation_date": 1573552678, "post_id": 58808151, "comment_id": 103910134, "body": "Hi Richard,  Thanks so much. I can&#39;t believe I put async on a class and not a method. One of those days yesterday and couldn&#39;t see the wood for the trees.  Appreciate your time and effort."}], "tags": [], "owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "is_accepted": true, "score": 2, "last_activity_date": 1573503573, "creation_date": 1573503573, "answer_id": 58808151, "question_id": 58800751, "link": "https://stackoverflow.com/questions/58800751/how-do-i-calculate-the-sunrise-and-sunset-in-flutter/58808151#58808151", "title": "How do I calculate the sunrise and sunset in flutter?", "body": "<p>1 - don't mark a class as <code>async</code> - only functions can be async.</p>\n\n<p>2 - you should call the package from an async function. The simplest way to do that is from the <code>initState</code> method - note <code>initState</code> itself is not async - so you will need another method.</p>\n\n<p>3 - in that async method, store the results and call <code>setState</code> so that the widget is rebuilt to show them</p>\n\n<p>4 - in <code>build</code> you need to be able to cope with the gap while the results are being fetched - use a progress indicator, etc. (I've just replaced the result with the word <em>working</em>).</p>\n\n<pre><code>class _JsonApiDemoState extends State&lt;JsonApiDemo&gt; {\n  DateTime sunrise;\n  DateTime sunset;\n\n  @override\n  void initState() {\n    super.initState();\n    getSunData();\n  }\n\n  void getSunData() async {\n    var response = await SunriseSunset.getResults(\n      latitude: 39.001735,\n      longitude: -119.752744,\n    );\n\n    if (response.success) {\n      var data = response.data;\n      setState(() {\n        sunrise = data.sunrise;\n        sunset = data.sunset;\n      });\n\n      print('Sunrise: $sunrise');\n      print('Sunset: $sunset');\n    } else {\n      print(response.error);\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Hello World!',\n      theme: ThemeData(\n        primarySwatch: Colors.blue,\n      ),\n      home: Scaffold(\n        appBar: AppBar(\n          title: Text('Hello World!'),\n        ),\n        body: Center(\n          child: Text(sunrise == null ? 'Working...' : '$sunrise-$sunset'),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 290, "user_id": 10011315, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iDzuOOYlfg0/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3KUxocq6jzHRaaJlwoD84gevERig/mo/photo.jpg?sz=128", "display_name": "Andrew Stevenson", "link": "https://stackoverflow.com/users/10011315/andrew-stevenson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 623, "favorite_count": 0, "accepted_answer_id": 58808151, "answer_count": 1, "score": 1, "last_activity_date": 1573503573, "creation_date": 1573472812, "question_id": 58800751, "link": "https://stackoverflow.com/questions/58800751/how-do-i-calculate-the-sunrise-and-sunset-in-flutter", "title": "How do I calculate the sunrise and sunset in flutter?", "body": "<p>I would like to be able to change the text on a screen from day to night, depending on the the sun has set, or not. I found this api (<a href=\"https://sunrise-sunset.org/api\" rel=\"nofollow noreferrer\">https://sunrise-sunset.org/api</a>) and more recently this package sunrise_sunset: \"^1.0.3\", but I am having difficulty.</p>\n\n<p>This is part of a much bigger project that will be a map (google_maps) that will automatically change theme depending on the time of day(sunrise and sunset)</p>\n\n<p>I know that whenever you use await, you have to make the class async, which I have done, but I am getting errors.</p>\n\n<p>I have simply copied the code in the package example tab into my project</p>\n\n<p><a href=\"https://pub.dev/packages/sunrise_sunset#-example-tab-\" rel=\"nofollow noreferrer\">https://pub.dev/packages/sunrise_sunset#-example-tab-</a></p>\n\n<p>I really am stuck with this, so any help would be very much appreciated.</p>\n\n<p>thanks</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:sunrise_sunset/sunrise_sunset.dart';\n\nvoid main() =&gt; runApp(JsonApiDemo());\n\nclass JsonApiDemo extends StatefulWidget {\n  JsonApiDemo({Key key}) : super(key: key);\n\n  @override\n  _JsonApiDemoState createState() =&gt; _JsonApiDemoState();\n}\n\nclass _JsonApiDemoState extends State&lt;JsonApiDemo&gt; async {\n\n  var response = await SunriseSunset.getResults(latitude: 39.001735, longitude: -119.752744);\n\n  if (response.success) {\n    print('Sunrise: ${response.data.sunrise}');\n    print('Sunset: ${response.data.sunset}');\n  } else {\n    print(response.error);\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Hello World!',\n      theme: ThemeData(\n        primarySwatch: Colors.blue,\n      ),\n      home: Scaffold(\n        appBar: AppBar(\n          title: Text('Hello World!'),\n        ),\n        body: Center(\n          child: Text('Hello World!'),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>Missing concrete implementation of State.build.\nTry implementing the missing method, or make the class abstract.</p>\n\n<p>A class declaration must have a body, even if it is empty.\nTry adding an empty body.</p>\n\n<p>Functions must have an explicit list of parameters.\nTry adding a parameter list.</p>\n\n<p>The await expression can only be used in an async function.\nTry marking the function body with either 'async' or 'async*'.</p>\n\n<p>The declaration 'build' isn't referenced.\nTry removing the declaration of 'build'.</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1573464927, "post_id": 58798719, "comment_id": 103877944, "body": "your <code>checked</code> value is evaluated for all 7 items, so all of them are either teal or white - what you need is most likely <code>List&lt;bool&gt;</code> with 7 elements"}, {"owner": {"reputation": 979, "user_id": 3410328, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/736057926ca8533cb6d1a2650f4a630a?s=128&d=identicon&r=PG&f=1", "display_name": "Boby", "link": "https://stackoverflow.com/users/3410328/boby"}, "edited": false, "score": 0, "creation_date": 1573464948, "post_id": 58798719, "comment_id": 103877951, "body": "why not use <a href=\"https://api.flutter.dev/flutter/material/CheckboxListTile-class.html\" rel=\"nofollow noreferrer\">api.flutter.dev/flutter/material/CheckboxListTile-class.html</a>&zwnj;&#8203;?"}], "answers": [{"comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1573465464, "post_id": 58798897, "comment_id": 103878215, "body": "and this only works if OP wants only one item to be checked (radio button style) - otherwise he needs an array of bools"}, {"owner": {"reputation": 67, "user_id": 4056049, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/MVIRg.jpg?s=128&g=1", "display_name": "arma_best", "link": "https://stackoverflow.com/users/4056049/arma-best"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1573465550, "post_id": 58798897, "comment_id": 103878260, "body": "@pskink that&#39;s true, but I think he wants that in this case. There is more then one solution for this problem"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1573465649, "post_id": 58798897, "comment_id": 103878316, "body": "sure thing, i agree"}], "tags": [], "owner": {"reputation": 67, "user_id": 4056049, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/MVIRg.jpg?s=128&g=1", "display_name": "arma_best", "link": "https://stackoverflow.com/users/4056049/arma-best"}, "is_accepted": false, "score": 0, "last_activity_date": 1573465703, "last_edit_date": 1573465703, "creation_date": 1573465290, "answer_id": 58798897, "question_id": 58798719, "link": "https://stackoverflow.com/questions/58798719/change-only-one-item-style-instead-everyone-theres-changing-all-listtile-inste/58798897#58798897", "title": "Change only one item style instead everyone. There&#39;s changing all ListTile instead one", "body": "<p>Try using number which will hold index of tapped list item instead of bool and just check <code>if(i == checked_index)</code>. In your case problem is that your bool checked don't know which item is checked because checked is global variable for your whole list.</p>\n"}, {"tags": [], "owner": {"reputation": 3865, "user_id": 3235048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/UwwwL.jpg?s=128&g=1", "display_name": "Sagar Zala", "link": "https://stackoverflow.com/users/3235048/sagar-zala"}, "is_accepted": false, "score": 2, "last_activity_date": 1573465872, "creation_date": 1573465872, "answer_id": 58799047, "question_id": 58798719, "link": "https://stackoverflow.com/questions/58798719/change-only-one-item-style-instead-everyone-theres-changing-all-listtile-inste/58799047#58799047", "title": "Change only one item style instead everyone. There&#39;s changing all ListTile instead one", "body": "<p>Try below code,</p>\n\n<pre><code>class _HomeScreenState extends State&lt;HomeScreen&gt; {\n  int checkedIndex = -1;\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: ListView.builder(\n        itemCount: 7,\n        itemBuilder: (BuildContext context, int i) {\n          return Container(\n            decoration: BoxDecoration(\n                color: checkedIndex == i ? Colors.teal : Colors.white\n            ),\n            child: ListTile(\n              onTap: () =&gt; setState(() =&gt; checkedIndex = i),\n              title: Text(\"My product\"),\n            ),\n          );\n        },\n      ),\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 10970944, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Af5aHTjAiZI/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMaRMrbN7HIoObmCZJ8krNg1kAddw/mo/photo.jpg?sz=128", "display_name": "Bartosz Zielinski", "link": "https://stackoverflow.com/users/10970944/bartosz-zielinski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1573479103, "creation_date": 1573464653, "question_id": 58798719, "link": "https://stackoverflow.com/questions/58798719/change-only-one-item-style-instead-everyone-theres-changing-all-listtile-inste", "title": "Change only one item style instead everyone. There&#39;s changing all ListTile instead one", "body": "<p>After when I tapped the ListTile there should change only one item but when I tapped there changed all ListTile.</p>\n\n<pre><code>  class _HomeScreenState extends State&lt;HomeScreen&gt; {\n  bool checked = false;\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: ListView.builder(\n        itemCount: 7,\n        itemBuilder: (BuildContext context, int i) {\n          child: return Container(\n            decoration: new BoxDecoration(\n              color: checked ? Colors.teal : Colors.white\n            ),\n            child: ListTile(\n              onTap: () =&gt; setState(() =&gt; checked = true),\n              title: Text(\"My product\"),\n            ),\n          );\n        },\n      ),\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["flutter", "dart", "bloc"], "comments": [{"owner": {"reputation": 301, "user_id": 7598031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3f691c458457e0102c8e80d26532d3f?s=128&d=identicon&r=PG&f=1", "display_name": "Jigar", "link": "https://stackoverflow.com/users/7598031/jigar"}, "edited": false, "score": 0, "creation_date": 1573465426, "post_id": 58798312, "comment_id": 103878194, "body": "May be this can help you: <a href=\"https://bloclibrary.dev/#/flutterbloccoreconcepts?id=multirepositoryprovider\" rel=\"nofollow noreferrer\">bloclibrary.dev/#/&hellip;</a>"}, {"owner": {"reputation": 6724, "user_id": 4608334, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bzyiD.jpg?s=128&g=1", "display_name": "Vinoth Vino", "link": "https://stackoverflow.com/users/4608334/vinoth-vino"}, "edited": false, "score": 0, "creation_date": 1582164439, "post_id": 58798312, "comment_id": 106686614, "body": "You can create multiple repository for bloc. For instance, auth_repository, user_repository, service_repository etc. See this <a href=\"https://bloclibrary.dev/#/flutterbloccoreconcepts?id=multirepositoryprovider\" rel=\"nofollow noreferrer\">bloclibrary.dev/#/&hellip;</a>"}], "owner": {"reputation": 53, "user_id": 10747605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60448bb86b8caad92232e7415ad3bfc4?s=128&d=identicon&r=PG&f=1", "display_name": "Virendra", "link": "https://stackoverflow.com/users/10747605/virendra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 753, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1573463063, "creation_date": 1573463063, "question_id": 58798312, "link": "https://stackoverflow.com/questions/58798312/can-i-use-multiple-repositories-in-flutter-bloc-pattern", "title": "can I use multiple repositories in flutter bloc pattern", "body": "<p>Hi I am new with flutter and trying to implement bloc pattern. I have checked so many tutorials in those tutorials. <a href=\"https://github.com/hoc081098/node-auth-flutter-BLoC-pattern-RxDart\" rel=\"nofollow noreferrer\">this is one of them.</a> they always using a single repository for small sample project and if we use single repository in a large project then the repository will become very messy so I have a doubt </p>\n\n<p>can I use multiple repository with bloc pattern If yes then how If no then what's is best way to manage repository so that it won't become messy?</p>\n"}, {"tags": ["android-studio", "flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 1553, "user_id": 1315174, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/faf941d4c7266b2d274d78da110adf8b?s=128&d=identicon&r=PG&f=1", "display_name": "Dimitar", "link": "https://stackoverflow.com/users/1315174/dimitar"}, "edited": false, "score": 0, "creation_date": 1573463740, "post_id": 58797992, "comment_id": 103877382, "body": "yeah that makes sense"}, {"owner": {"reputation": 408, "user_id": 3954808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e97c724a884bad19ec6c0b308ab7840b?s=128&d=identicon&r=PG&f=1", "display_name": "Braj", "link": "https://stackoverflow.com/users/3954808/braj"}, "reply_to_user": {"reputation": 1553, "user_id": 1315174, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/faf941d4c7266b2d274d78da110adf8b?s=128&d=identicon&r=PG&f=1", "display_name": "Dimitar", "link": "https://stackoverflow.com/users/1315174/dimitar"}, "edited": false, "score": 0, "creation_date": 1573463888, "post_id": 58797992, "comment_id": 103877460, "body": "Cool right? Acceptable answer above description? :)"}], "tags": [], "owner": {"reputation": 408, "user_id": 3954808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e97c724a884bad19ec6c0b308ab7840b?s=128&d=identicon&r=PG&f=1", "display_name": "Braj", "link": "https://stackoverflow.com/users/3954808/braj"}, "is_accepted": false, "score": 0, "last_activity_date": 1573462199, "last_edit_date": 1573462199, "creation_date": 1573461598, "answer_id": 58797992, "question_id": 58797896, "link": "https://stackoverflow.com/questions/58797896/a-non-null-string-must-be-provided-to-a-text-widget-when-using-a-provider-ofpro/58797992#58797992", "title": "A non-null String must be provided to a Text widget when using a Provider.of&lt;ProvoiderName&gt;(context)", "body": "<p>So the braces are for using the value of a parameter inside a string which is in double quotes. So when the 'email' param doesn't have any value, guess what goes inside the double quotes? Only empty double quotes, which is a valid string. But when you give the param value without braces and double quotes, if the param is null(i.e. in the beginning) then Text(null) gets null. And for the Text widget one parameter- the string is mandatory. Can't take null.\nCorrect method? Do you want to show a placeholder inside the Text()? Then inside Text() - email??\"Placeholder\".\nWant to keep it empty? Text(\"$email\")</p>\n"}], "owner": {"reputation": 1553, "user_id": 1315174, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/faf941d4c7266b2d274d78da110adf8b?s=128&d=identicon&r=PG&f=1", "display_name": "Dimitar", "link": "https://stackoverflow.com/users/1315174/dimitar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573462199, "creation_date": 1573461150, "question_id": 58797896, "link": "https://stackoverflow.com/questions/58797896/a-non-null-string-must-be-provided-to-a-text-widget-when-using-a-provider-ofpro", "title": "A non-null String must be provided to a Text widget when using a Provider.of&lt;ProvoiderName&gt;(context)", "body": "<p>I have a question. When using this line of code</p>\n\n<pre><code>final String email = Provider.of&lt;Auth&gt;(context).email;\n</code></pre>\n\n<p>Inside my <code>build</code> method in my <code>StatelessWidget</code> and when I try to execute it/call it like this:</p>\n\n<pre><code>child: Text(email),\n</code></pre>\n\n<p>I am getting the following error</p>\n\n<blockquote>\n  <p>The following assertion was thrown building InitDrawer(dirty, dependencies:\n  I/flutter (17778): [InheritedProvider, MediaQuery]):\n  I/flutter (17778): A non-null String must be provided to a Text widget.</p>\n</blockquote>\n\n<p>But when I use it like this</p>\n\n<pre><code>child: Text(\"${email}\"),\n</code></pre>\n\n<p>Can you tell me what is the difference and why I am not getting error when calling it with braces? And is this the right way to code in flutter? I am getting my email with an async method, so I guess that's why I am getting null when first the app is loaded, but in the App itself I can see the email without any errors I only see the error in the Console in Android Studio.</p>\n"}, {"tags": ["datetime", "flutter", "dart"], "comments": [{"owner": {"reputation": 408, "user_id": 3954808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e97c724a884bad19ec6c0b308ab7840b?s=128&d=identicon&r=PG&f=1", "display_name": "Braj", "link": "https://stackoverflow.com/users/3954808/braj"}, "edited": false, "score": 0, "creation_date": 1573460302, "post_id": 58797469, "comment_id": 103876018, "body": "Do you need the date field to be editable? Can&#39;t you make it uneditable?"}, {"owner": {"reputation": 470, "user_id": 9161521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46bc636e9abc89ed23efeb4871b01427?s=128&d=identicon&r=PG&f=1", "display_name": "JJuice", "link": "https://stackoverflow.com/users/9161521/jjuice"}, "reply_to_user": {"reputation": 408, "user_id": 3954808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e97c724a884bad19ec6c0b308ab7840b?s=128&d=identicon&r=PG&f=1", "display_name": "Braj", "link": "https://stackoverflow.com/users/3954808/braj"}, "edited": false, "score": 0, "creation_date": 1573544565, "post_id": 58797469, "comment_id": 103906232, "body": "Well, the problem is the DateFormField has no property to set editable to false. In earlier version 0.2.0 (current is 0.4.3) it did, but that property is no longer present."}], "owner": {"reputation": 470, "user_id": 9161521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46bc636e9abc89ed23efeb4871b01427?s=128&d=identicon&r=PG&f=1", "display_name": "JJuice", "link": "https://stackoverflow.com/users/9161521/jjuice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 657, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1573458989, "creation_date": 1573458989, "question_id": 58797469, "link": "https://stackoverflow.com/questions/58797469/how-to-handle-datetime-overflow-in-dart-flutter", "title": "How to handle DateTime overflow in Dart / Flutter?", "body": "<p>In a Flutter project I have an input form with a date picker. When a user picked a date, it is possible to alter the picked date by typing. I want to validate the form input and make sure the date input is a correct date.</p>\n\n<p>Here is a screenshot of the input form: </p>\n\n<p><a href=\"https://i.stack.imgur.com/DiTVp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DiTVp.png\" alt=\"enter image description here\"></a></p>\n\n<p>Unfortunately, the Dart language <code>DateTime</code> object allows overflows. So, giving an input of <code>2019-13-1</code> (DateTime field is formatted like <code>yyyy-MM-dd</code>) and then validating that input will pass the validation, giving back a Date of <code>2020-1-1</code>. The 13th month, due to Dart Date overflow behavior turns into the 1st month, next year.</p>\n\n<p>I know there is a Github issue for this already: <a href=\"https://github.com/dart-lang/sdk/issues/11189\" rel=\"nofollow noreferrer\">https://github.com/dart-lang/sdk/issues/11189</a></p>\n\n<p><strong>Is there anybody who has a working solution to get around this issue?</strong> Thanks for the help in advance!</p>\n\n<p>Code for the DateTimeField is shown below:</p>\n\n<pre><code>                  ListTile(\n                    leading: Icon(Icons.calendar_today, size: 21),\n                    title: DateTimeField(\n                      decoration: InputDecoration(\n                        hintText: 'Date'\n                      ),\n                      autovalidate: false,\n                      format: DateFormat('yyyy-MM-dd'),\n                      onShowPicker: (context, currentValue) {\n                        return showDatePicker(\n                          firstDate: DateTime(2019),\n                          initialDate: DateTime.now(),\n                          lastDate: DateTime(DateTime.now().year + 1),\n                          context: context\n                        );\n                      },\n                      validator: (value) {\n                        if ((value.toString().isEmpty) || (DateTime.tryParse(value.toString()) == null)) {\n                          return 'Please enter a valid date';\n                        } \n                        return null;\n                      },\n                      onChanged: (value) {\n                        setState(() =&gt; expense.date = value);\n                      },\n                    )\n                  ),\n</code></pre>\n"}]