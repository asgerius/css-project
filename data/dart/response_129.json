[{"tags": ["animation", "dart", "tween", "flutter"], "comments": [{"owner": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "edited": false, "score": 0, "creation_date": 1498752653, "post_id": 44810995, "comment_id": 76640846, "body": "I&#39;m having trouble understanding of what the problem is because your one-square working example seems to behave as intended, and I don&#39;t have runnable code for something that doesn&#39;t behave as intended."}, {"owner": {"reputation": 593, "user_id": 3700909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0cd8310dfa1a85c80270c2b070c6498?s=128&d=identicon&r=PG&f=1", "display_name": "knezzz", "link": "https://stackoverflow.com/users/3700909/knezzz"}, "reply_to_user": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "edited": false, "score": 0, "creation_date": 1498753537, "post_id": 44810995, "comment_id": 76641333, "body": "For me, all 3 samples work the same like <a href=\"https://i.stack.imgur.com/lmuOj.gif\" rel=\"nofollow noreferrer\">this</a> but I was hoping for smoother transition something like  <a href=\"https://i.imgur.com/PBxkWMZ.gif\" rel=\"nofollow noreferrer\">this</a>. And like I said even If I equalize the first vector on both matrices then view does not sink but, I don&#39;t see scaling or rotation animation taking place at all it just snaps to position of 2nd matrix"}], "answers": [{"comments": [{"owner": {"reputation": 593, "user_id": 3700909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0cd8310dfa1a85c80270c2b070c6498?s=128&d=identicon&r=PG&f=1", "display_name": "knezzz", "link": "https://stackoverflow.com/users/3700909/knezzz"}, "edited": false, "score": 0, "creation_date": 1498750693, "post_id": 44812675, "comment_id": 76639471, "body": "I tried that right now, and while animation does feel smoother it&#39;s still doing the same thing. Just to verify this is what you had in mind:  Edit: I don&#39;t know how to markdown code here I will edit my question.   I will try to replace all my animations with builder maybe that will help?"}, {"owner": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "reply_to_user": {"reputation": 593, "user_id": 3700909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0cd8310dfa1a85c80270c2b070c6498?s=128&d=identicon&r=PG&f=1", "display_name": "knezzz", "link": "https://stackoverflow.com/users/3700909/knezzz"}, "edited": false, "score": 0, "creation_date": 1498750894, "post_id": 44812675, "comment_id": 76639602, "body": "Consider updating your question with a complete, runnable example. it will make it easier to understand what you&#39;re talking about."}, {"owner": {"reputation": 593, "user_id": 3700909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0cd8310dfa1a85c80270c2b070c6498?s=128&d=identicon&r=PG&f=1", "display_name": "knezzz", "link": "https://stackoverflow.com/users/3700909/knezzz"}, "edited": false, "score": 0, "creation_date": 1498751148, "post_id": 44812675, "comment_id": 76639778, "body": "Ok, I will. But basically, it seems like matrix rotation and scale are not being animated"}, {"owner": {"reputation": 593, "user_id": 3700909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0cd8310dfa1a85c80270c2b070c6498?s=128&d=identicon&r=PG&f=1", "display_name": "knezzz", "link": "https://stackoverflow.com/users/3700909/knezzz"}, "edited": false, "score": 0, "creation_date": 1498752542, "post_id": 44812675, "comment_id": 76640777, "body": "I&#39;ve added my code and I&#39;ve tried yours but, it still behaves the same. Goes down a bit and then jumps to the 2nd matrix. Pretty much same as gif from the question but with the whole screen."}, {"owner": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "reply_to_user": {"reputation": 593, "user_id": 3700909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0cd8310dfa1a85c80270c2b070c6498?s=128&d=identicon&r=PG&f=1", "display_name": "knezzz", "link": "https://stackoverflow.com/users/3700909/knezzz"}, "edited": false, "score": 0, "creation_date": 1498753174, "post_id": 44812675, "comment_id": 76641137, "body": "It&#39;s working fine for me, what platform are you running on?"}, {"owner": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "reply_to_user": {"reputation": 593, "user_id": 3700909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0cd8310dfa1a85c80270c2b070c6498?s=128&d=identicon&r=PG&f=1", "display_name": "knezzz", "link": "https://stackoverflow.com/users/3700909/knezzz"}, "edited": false, "score": 0, "creation_date": 1498753532, "post_id": 44812675, "comment_id": 76641329, "body": "(I&#39;m testing on the ios simulator)"}, {"owner": {"reputation": 593, "user_id": 3700909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0cd8310dfa1a85c80270c2b070c6498?s=128&d=identicon&r=PG&f=1", "display_name": "knezzz", "link": "https://stackoverflow.com/users/3700909/knezzz"}, "edited": false, "score": 0, "creation_date": 1498753662, "post_id": 44812675, "comment_id": 76641401, "body": "Oh yeah, I should&#39;ve said that. I&#39;m using Android devices (S7 Edge and Nexus 5)"}, {"owner": {"reputation": 593, "user_id": 3700909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0cd8310dfa1a85c80270c2b070c6498?s=128&d=identicon&r=PG&f=1", "display_name": "knezzz", "link": "https://stackoverflow.com/users/3700909/knezzz"}, "edited": false, "score": 0, "creation_date": 1498754202, "post_id": 44812675, "comment_id": 76641685, "body": "I just tried with iOS emulator (iP7+) and I still don&#39;t see any rotation or scaling taking place during the animation, just the translation is moving."}, {"owner": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "reply_to_user": {"reputation": 593, "user_id": 3700909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0cd8310dfa1a85c80270c2b070c6498?s=128&d=identicon&r=PG&f=1", "display_name": "knezzz", "link": "https://stackoverflow.com/users/3700909/knezzz"}, "edited": false, "score": 0, "creation_date": 1498754892, "post_id": 44812675, "comment_id": 76642071, "body": "This is what I see when I run your example on the iOS emulator (iP7+). It seems to be rotating and scaling! <a href=\"https://i.stack.imgur.com/y1d6V.gif\" rel=\"nofollow noreferrer\">i.stack.imgur.com/y1d6V.gif</a> The behavior you&#39;re seeing sounds like a bug, so please file an issue and include your <code>flutter doctor</code> results: <a href=\"https://github.com/flutter/flutter/issues/new\" rel=\"nofollow noreferrer\">github.com/flutter/flutter/issues/new</a>"}, {"owner": {"reputation": 593, "user_id": 3700909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0cd8310dfa1a85c80270c2b070c6498?s=128&d=identicon&r=PG&f=1", "display_name": "knezzz", "link": "https://stackoverflow.com/users/3700909/knezzz"}, "edited": false, "score": 0, "creation_date": 1498755171, "post_id": 44812675, "comment_id": 76642210, "body": "Ohh yeah that&#39;s not what I see at all. Ok I will do that :)"}], "tags": [], "owner": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "is_accepted": true, "score": 2, "last_activity_date": 1498770648, "last_edit_date": 1498770648, "creation_date": 1498684623, "answer_id": 44812675, "question_id": 44810995, "link": "https://stackoverflow.com/questions/44810995/matrix4tween-not-working-properly/44812675#44812675", "title": "Matrix4Tween not working properly?", "body": "<p>Pass your <code>Animation</code> to an <code>AnimatedBuilder</code> instead of calling <code>addListener</code>. This reduces the amount of private state you're carrying around and allows you to use the result of <code>_buildSquares()</code> as the <code>child</code> argument so you aren't recomputing everything on every frame when the animation ticks. It should improve animation smoothness.</p>\n\n<p>Edit: Added a working code sample below.</p>\n\n<p>Edit 2: It sounds like you're running into a bug that I'm not experiencing, so please file an issue.</p>\n\n<p>Edit 3: It sounds like the <a href=\"https://github.com/flutter/flutter/issues/11037#issuecomment-312105254\" rel=\"nofollow noreferrer\">issue</a> has been fixed already on master.</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:vector_math/vector_math_64.dart' as vector;\n\nclass HomeScreen extends StatefulWidget {\n  HomeScreenState createState() =&gt; new HomeScreenState();\n}\n\nclass HomeScreenState extends State&lt;HomeScreen&gt; with TickerProviderStateMixin {\n\n  AnimationController _controller;\n\n  @override initState() {\n    _controller = new AnimationController(\n      vsync: this, duration: const Duration(milliseconds: 300));\n  }\n\n  static Matrix4 originalTransformation = new Matrix4.compose(\n    new vector.Vector3(1.0, 1.0, 1.0),\n    new vector.Quaternion.euler(0.0, 0.0, 0.0),\n    new vector.Vector3(1.0, 1.0, 1.0));\n\n  static Matrix4 animatedTransformation = new Matrix4.compose(\n    new vector.Vector3(5.0, 260.0, 1.0),\n    new vector.Quaternion.euler(0.0, 1.0, -0.7),\n    new vector.Vector3(0.6, 0.6, 0.6));\n\n\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      floatingActionButton: new FloatingActionButton(\n        child: new Icon(Icons.play_arrow),\n        onPressed: () =&gt; _controller.forward(from: 0.0),\n      ),\n      body: new Column(\n        mainAxisSize: MainAxisSize.max,\n        mainAxisAlignment: MainAxisAlignment.start,\n        children: [\n          new AnimatedBuilder(\n            builder: (BuildContext context, Widget child) {\n              return new Container(\n                color: Colors.red,\n                width: 100.0,\n                height: 100.0,\n                transform: new Matrix4Tween(\n                  begin: originalTransformation,\n                  end: animatedTransformation\n                ).evaluate(_controller)\n              );\n            },\n            animation: _controller,\n          ),\n        ],\n      ),\n    );\n  }\n}\n\nclass ExampleApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      theme: new ThemeData(\n        primarySwatch: Colors.teal,\n      ),\n      home: new HomeScreen(),\n      debugShowCheckedModeBanner: false,\n    );\n  }\n}\n\nvoid main() {\n  runApp(new ExampleApp());\n}\n</code></pre>\n"}], "owner": {"reputation": 593, "user_id": 3700909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0cd8310dfa1a85c80270c2b070c6498?s=128&d=identicon&r=PG&f=1", "display_name": "knezzz", "link": "https://stackoverflow.com/users/3700909/knezzz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 843, "favorite_count": 0, "accepted_answer_id": 44812675, "answer_count": 1, "score": 1, "last_activity_date": 1498770648, "creation_date": 1498678057, "last_edit_date": 1498752119, "question_id": 44810995, "link": "https://stackoverflow.com/questions/44810995/matrix4tween-not-working-properly", "title": "Matrix4Tween not working properly?", "body": "<p>I am making a game with flutter and found this problem.\nWhile animation starts and ends correctly, everything in between that is a miss as you can see <a href=\"https://i.stack.imgur.com/lmuOj.gif\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>It starts going down (Because of the first vector in the matrix) but even if I put first vector exactly the same then matrix animation won't do anything but just appear after the animation has ended in a new state.</p>\n\n<p>Code for state (I removed everything I think is unnecessary but if you need more info I can paste whole class)</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>  class _GameState extends State&lt;GameWindow&gt; with TickerProviderStateMixin{\n      static Matrix4 originalTransformation = new Matrix4.compose(\n          new vector.Vector3(1.0, 1.0, 1.0),\n          new vector.Quaternion.euler(0.0, 0.0, 0.0),\n          new vector.Vector3(1.0, 1.0, 1.0));\n\n      static Matrix4 animatedTransformation = new Matrix4.compose(\n          new vector.Vector3(5.0, 260.0, 1.0),\n          new vector.Quaternion.euler(0.0, 1.0, -0.7),\n          new vector.Vector3(0.6, 0.6, 0.6));\n\n      Matrix4 currentMatrix = originalTransformation;\n\n      @override\n      Widget build(BuildContext context){\n          return new Scaffold(\n              body: new Column(\n                  mainAxisSize: MainAxisSize.max,\n                  mainAxisAlignment: MainAxisAlignment.end,\n                  children: [\n                      new Container(\n                          // Applying default transformation matrix\n                          transform: currentMatrix,\n                          child: _buildSquares(), // Builds GridView with custom squares\n                      ),\n                      _getFooter(), // Footer\n                  ],\n              ),\n          );\n      }\n\n\n      @override\n      void initState(){\n          // Init animation tween\n          animationTween = new Matrix4Tween(\n              begin: originalTransformation,\n              end: animatedTransformation\n          );\n\n          // Init animation controller\n          animationController = new AnimationController(\n              vsync: this,\n              duration: new Duration(milliseconds: 800),\n          )..addListener((){\n              this.setState((){\n                  currentMatrix = animationTween.evaluate(animationController);\n              });\n          });\n      }\n\n      _clickListener(){\n          // Trigger animation\n          animationController.forward(from: 0.0);\n\n          if(_squares[_currentSquareIndex].state.isClicked()){\n              _increaseScore();\n          }else{\n              _showGameOver();\n          }\n      }\n  }\n</code></pre>\n\n<p>So after on click animation obviously starts and a matrix is changing but not in a smooth way. Any ideas why? Did I miss something?</p>\n\n<p>Working example with one square:</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:vector_math/vector_math_64.dart' as vector;\n\nvoid main() {\n    runApp(new MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n    @override\n    Widget build(BuildContext context) {\n        return new MaterialApp(\n            title: 'Flutter Demo',\n            theme: new ThemeData(\n                primarySwatch: Colors.blue,\n            ),\n            home: new MyHomePage(),\n        );\n    }\n}\n\nclass MyHomePage extends StatefulWidget {\n    MyHomePage({Key key}) : super(key: key);\n\n    @override\n    _MyHomePageState createState() =&gt; new _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; with TickerProviderStateMixin{\n    static Matrix4 originalTransformation = new Matrix4.compose(\n            new vector.Vector3(1.0, 1.0, 1.0),\n            new vector.Quaternion.euler(0.0, 0.0, 0.0),\n            new vector.Vector3(1.0, 1.0, 1.0));\n\n    static Matrix4 animatedTransformation = new Matrix4.compose(\n            new vector.Vector3(5.0, 260.0, 1.0),\n            new vector.Quaternion.euler(0.0, 1.0, -0.7),\n            new vector.Vector3(0.6, 0.6, 0.6));\n\n    Matrix4 currentMatrix = originalTransformation;\n    AnimationController animationController;\n    Matrix4Tween animationTween;\n\n    @override\n    Widget build(BuildContext context) {\n        return new Scaffold(\n            resizeToAvoidBottomPadding: true,\n            body: new Column(\n                mainAxisSize: MainAxisSize.max,\n                mainAxisAlignment: MainAxisAlignment.center,\n                children: [\n                    new AnimatedBuilder(\n                        // Pass animation controller\n                        animation: animationController,\n                        builder: (BuildContext context, Widget child) =&gt; new Container(\n                            // Apply transformation\n                            transform: animationTween.evaluate(animationController),\n                            child: child,\n                        ),\n                        // Passing child argument\n                        child: new GestureDetector(\n                            onTap: _onClick,\n                            child: new Container(\n                                height: 400.0,\n                                width: 400.0,\n                                color: Colors.red,\n                            ),\n                        ),\n                    ),\n                ],\n            ),\n        );\n    }\n\n    _onClick() {\n        // Start animation\n        animationController.forward(from: 0.0);\n        return;\n    }\n\n    @override\n    void initState() {\n        super.initState();\n\n        // Init tween for matrix\n        animationTween = new Matrix4Tween(\n                begin: originalTransformation,\n                end: animatedTransformation\n        );\n\n        // Init animation controller\n        animationController = new AnimationController(\n            vsync: this,\n            duration: new Duration(milliseconds: 800),\n        );\n    }\n}\n</code></pre>\n\n<p>Edit: I tried removing listener and passing animation to AnimatedBuilder like this but that did not work either.</p>\n\n<p>Edit 2: Added working example of this with one square.</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 5420, "user_id": 6414732, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/pBmXr.png?s=128&g=1", "display_name": "Rainer Wittmann", "link": "https://stackoverflow.com/users/6414732/rainer-wittmann"}, "edited": false, "score": 0, "creation_date": 1498724552, "post_id": 44807997, "comment_id": 76619751, "body": "Thanks for that, works like a charm. But is this documented somewhere? I couldn&#39;t find a reference to this kind of key..."}, {"owner": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "reply_to_user": {"reputation": 5420, "user_id": 6414732, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/pBmXr.png?s=128&g=1", "display_name": "Rainer Wittmann", "link": "https://stackoverflow.com/users/6414732/rainer-wittmann"}, "edited": false, "score": 0, "creation_date": 1498749543, "post_id": 44807997, "comment_id": 76638610, "body": "I opened <a href=\"https://github.com/flutter/flutter/pull/11034\" rel=\"nofollow noreferrer\">github.com/flutter/flutter/pull/11034</a> to improve the documentation."}], "tags": [], "owner": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "is_accepted": true, "score": 4, "last_activity_date": 1498667244, "creation_date": 1498667244, "answer_id": 44807997, "question_id": 44803911, "link": "https://stackoverflow.com/questions/44803911/expansiontile-doesnt-keep-state/44807997#44807997", "title": "ExpansionTile doesn&#39;t keep state", "body": "<p>Use a <code>PageStorageKey</code> instead of a <code>GlobalKey</code>.</p>\n"}], "owner": {"reputation": 5420, "user_id": 6414732, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/pBmXr.png?s=128&g=1", "display_name": "Rainer Wittmann", "link": "https://stackoverflow.com/users/6414732/rainer-wittmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1303, "favorite_count": 0, "accepted_answer_id": 44807997, "answer_count": 1, "score": 2, "last_activity_date": 1498667244, "creation_date": 1498656520, "question_id": 44803911, "link": "https://stackoverflow.com/questions/44803911/expansiontile-doesnt-keep-state", "title": "ExpansionTile doesn&#39;t keep state", "body": "<p>following problem:\nI have a list of <a href=\"https://docs.flutter.io/flutter/material/ExpansionTile-class.html\" rel=\"nofollow noreferrer\">ExpansionTiles</a> which works very well. The only problem I'm facing is that a expanded ExpansionTile which is scrolled out of view will, after scrolling it into view again, no longer be expanded. This leads to undesired user experience and also a kind of \"jumpy\" scrolling.</p>\n\n<p>The documentation states the following: </p>\n\n<blockquote>\n  <p>When used with scrolling widgets like ListView, a unique key must be specified to enable the ExpansionTile to save and restore its expanded state when it is scrolled in and out of view.</p>\n</blockquote>\n\n<p>This doesn't work though. So far I have found no way to make this work.<br>\nHere is the code so far:</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() {\n  runApp(new MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      title: 'ExpansionTile Test',\n      home: new MyHomePage(),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  @override\n  _MyHomePageState createState() =&gt; new _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  List&lt;Widget&gt; _getChildren() {\n    List&lt;Widget&gt; elements = [];\n    for (int i = 0; i &lt; 20; i++) {\n      elements.add(new ListChild());\n    }\n    return elements;\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      appBar: new AppBar(\n        title: new Text('ExpansionTile Test'),\n      ),\n      body: new ListView(\n        children: _getChildren(),\n      ),\n    );\n  }\n}\n\nclass ListChild extends StatefulWidget {\n  @override\n  State createState() =&gt; new ListChildState();\n}\n\nclass ListChildState extends State&lt;ListChild&gt; {\n  GlobalKey&lt;ListChildState&gt; _key = new GlobalKey();\n  @override\n  Widget build(BuildContext context) {\n    return new ExpansionTile(\n      key: _key,\n      title: const Text('Test Tile'),\n      children: &lt;Widget&gt;[\n        const Text('body'),\n      ],\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 4826, "user_id": 5578655, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/MSqGy.png?s=128&g=1", "display_name": "Alexi Coard", "link": "https://stackoverflow.com/users/5578655/alexi-coard"}, "edited": false, "score": 0, "creation_date": 1498634954, "post_id": 44790353, "comment_id": 76572716, "body": "Something like and expansion panel could do the work ? <a href=\"https://docs.flutter.io/flutter/material/ExpansionPanel-class.html\" rel=\"nofollow noreferrer\">docs.flutter.io/flutter/material/ExpansionPanel-class.html</a>"}, {"owner": {"reputation": 235, "user_id": 1533112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6945d15016c935593b72394486e656c4?s=128&d=identicon&r=PG", "display_name": "nonameden", "link": "https://stackoverflow.com/users/1533112/nonameden"}, "reply_to_user": {"reputation": 4826, "user_id": 5578655, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/MSqGy.png?s=128&g=1", "display_name": "Alexi Coard", "link": "https://stackoverflow.com/users/5578655/alexi-coard"}, "edited": false, "score": 0, "creation_date": 1498781509, "post_id": 44790353, "comment_id": 76654154, "body": "Not really, tricky part here is having expanded panel over the content"}, {"owner": {"reputation": 11993, "user_id": 10563627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xQL2O.jpg?s=128&g=1", "display_name": "Paresh Mangukiya", "link": "https://stackoverflow.com/users/10563627/paresh-mangukiya"}, "edited": false, "score": 0, "creation_date": 1589193398, "post_id": 44790353, "comment_id": 109185807, "body": "There is a awesome library for this which is a very excellent for this :- <a href=\"https://stackoverflow.com/a/61727561/10563627\">stackoverflow.com/a/61727561/10563627</a>"}], "answers": [{"comments": [{"owner": {"reputation": 235, "user_id": 1533112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6945d15016c935593b72394486e656c4?s=128&d=identicon&r=PG", "display_name": "nonameden", "link": "https://stackoverflow.com/users/1533112/nonameden"}, "edited": false, "score": 0, "creation_date": 1498676814, "post_id": 44798561, "comment_id": 76601763, "body": "Thank you, yep it exact problem which I facing, expanding panel will move whole list down =( Is it possible to have ListView and Container in Stack, and have container some how fixed as a header during a scroll?  Another problem why I can not put container with filters in the &quot;bottom&quot; of SliverAppBar is - filters only should be visible for first tab."}, {"owner": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "reply_to_user": {"reputation": 235, "user_id": 1533112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6945d15016c935593b72394486e656c4?s=128&d=identicon&r=PG", "display_name": "nonameden", "link": "https://stackoverflow.com/users/1533112/nonameden"}, "edited": false, "score": 0, "creation_date": 1498676977, "post_id": 44798561, "comment_id": 76601855, "body": "Feel free to file an issue if you feel this should be provided by the framework. And if you do end up modifying NestedScrollView I hope you&#39;ll share your solution!"}, {"owner": {"reputation": 235, "user_id": 1533112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6945d15016c935593b72394486e656c4?s=128&d=identicon&r=PG", "display_name": "nonameden", "link": "https://stackoverflow.com/users/1533112/nonameden"}, "edited": false, "score": 0, "creation_date": 1499119411, "post_id": 44798561, "comment_id": 76766770, "body": "thank you @collin for pointing me in a right direction. After playing with NestedScrollView I found that it does not respect minExtent from headers, so inner scroll content been scrolled under pinned headers. Not sure is it bug or supposed to work like that, but it was a reason why you cant have anything pinned to the top in the body if sliver appbar has something in the bottom and &quot;pinned &amp; floating&quot;"}], "tags": [], "owner": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "is_accepted": true, "score": 7, "last_activity_date": 1498667371, "last_edit_date": 1498667371, "creation_date": 1498641900, "answer_id": 44798561, "question_id": 44790353, "link": "https://stackoverflow.com/questions/44790353/how-to-do-sliding-panel-in-flutter/44798561#44798561", "title": "How to do sliding panel in Flutter?", "body": "<p>You can expand the panel with an <code>Animation</code>. In the code below, I used <code>AnimatedBuilder</code> to resize the panel as the animation ticks.</p>\n\n<p>Because the panel is in the app bar, it's tricky to get it to interact well with scrolling. Once approach (shown below) is to use a <code>NestedScrollView</code> and put your expanding panel in the <code>bottom</code> of a <code>SliverAppBar</code>. It feels nice, but it does cause the content to get pushed down by the expanding panel and has some mild interactions with scroll physics at the edges of your item list. If you want to customize the behavior further you could copy <code>NestedScrollView</code> and modify it to your liking.</p>\n\n<p><img src=\"https://i.stack.imgur.com/zhVKo.gif\" width=\"300\"></p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nclass DayPickerBar extends StatefulWidget {\n  DayPickerBar({ this.selectedDate, this.onChanged });\n\n  final DateTime selectedDate;\n\n  final ValueChanged&lt;DateTime&gt; onChanged;\n\n  DayPickerBarState createState() =&gt; new DayPickerBarState();\n}\n\nclass DayPickerBarState extends State&lt;DayPickerBar&gt; {\n  DateTime _displayedMonth = new DateTime.now();\n\n  @override\n  Widget build(BuildContext context) {\n    return new Container(\n      color: Theme\n        .of(context)\n        .canvasColor,\n      height: 250.0,\n      child: new Row(\n        children: &lt;Widget&gt;[\n          new IconButton(\n            icon: new Icon(Icons.chevron_left),\n            onPressed: () {\n              setState(() {\n                _displayedMonth = new DateTime(\n                  _displayedMonth.year,\n                  _displayedMonth.month - 1,\n                );\n              });\n            },\n          ),\n          new Expanded(\n            child: new DayPicker(\n              selectedDate: widget.selectedDate,\n              currentDate: new DateTime.now(),\n              displayedMonth: _displayedMonth,\n              firstDate: new DateTime.now().subtract(new Duration(days: 1)),\n              lastDate: new DateTime.now().add(new Duration(days: 30)),\n              onChanged: widget.onChanged,\n            ),\n          ),\n          new IconButton(\n            icon: new Icon(Icons.chevron_right),\n            onPressed: () {\n              setState(() {\n                _displayedMonth = new DateTime(\n                  _displayedMonth.year,\n                  _displayedMonth.month + 1,\n                );\n              });\n            },\n          ),\n        ],\n      ),\n    );\n  }\n}\n\nclass FilterBar extends StatelessWidget {\n  FilterBar({ this.isExpanded, this.onExpandedChanged });\n\n  /// Whether this filter bar is showing the day picker or not\n  final bool isExpanded;\n\n  /// Called when the user toggles expansion\n  final ValueChanged&lt;bool&gt; onExpandedChanged;\n\n  static const Color _kFilterColor = Colors.deepOrangeAccent;\n\n  @override\n  Widget build(BuildContext context) {\n    ThemeData theme = Theme.of(context);\n    return new Container(\n      color: Theme.of(context).canvasColor,\n      child: new Row(\n        children: &lt;Widget&gt;[\n          new FlatButton(\n            onPressed: () =&gt; onExpandedChanged(!isExpanded),\n            textColor: theme.primaryColor,\n            child: new Row(\n              children: &lt;Widget&gt;[\n                new Text('Watch Today'),\n                new Icon(isExpanded ? Icons.expand_less : Icons.expand_more),\n              ],\n            ),\n          ),\n          new Expanded(\n            child: new Container(),\n          ),\n          new Container(\n            decoration: new BoxDecoration(\n              color: _kFilterColor,\n              borderRadius: new BorderRadius.circular(16.0),\n            ),\n            padding: const EdgeInsets.all(6.0),\n            child: new Text(\n              'All Cinemas',\n              style: theme.primaryTextTheme.button,\n            ),\n          ),\n          new Container(\n            decoration: new BoxDecoration(\n              color: _kFilterColor,\n              shape: BoxShape.circle,\n            ),\n            padding: const EdgeInsets.all(6.0),\n            margin: const EdgeInsets.symmetric(\n              horizontal: 6.0),\n            child: new Text(\n              ' + ',\n              style: theme.primaryTextTheme.button,\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n}\n\nclass HomeScreen extends StatefulWidget {\n  HomeScreenState createState() =&gt; new HomeScreenState();\n}\n\nclass HomeScreenState extends State&lt;HomeScreen&gt; with TickerProviderStateMixin {\n  bool _isExpanded = false;\n  DateTime _selectedDate = new DateTime.now();\n  AnimationController _expandAnimationController;\n  Animation&lt;Size&gt; _bottomSize;\n\n  @override\n  void initState() {\n    super.initState();\n    _expandAnimationController = new AnimationController(\n      vsync: this,\n      duration: const Duration(milliseconds: 200),\n    );\n    _bottomSize = new SizeTween(\n      begin: new Size.fromHeight(kTextTabBarHeight + 40.0),\n      end: new Size.fromHeight(kTextTabBarHeight + 280.0),\n    ).animate(new CurvedAnimation(\n      parent: _expandAnimationController,\n      curve: Curves.ease,\n    ));\n  }\n\n  static const List&lt;Tab&gt; _tabs = const &lt;Tab&gt;[\n    const Tab(text: 'NOW SHOWING'),\n    const Tab(text: 'COMING SOON'),\n  ];\n\n  Widget _buildMovie(BuildContext context, int index) {\n    ThemeData theme = Theme.of(context);\n    return new Container(\n      decoration: new BoxDecoration(\n        border: new Border(\n          bottom: new BorderSide(\n            color: Colors.grey[500],\n          ),\n        ),\n        image: new DecorationImage(\n          fit: BoxFit.cover,\n          image: new NetworkImage(\n            'http://cdn.bloody-disgusting.com/wp-content/uploads/2016/06/hollywood-takes-a-bite-out-of-green-lantern-star-2-new-shark-movies-on-the-horizon-835796.jpg',\n          ),\n        ),\n      ),\n      child: new Stack(\n        children: &lt;Widget&gt;[\n          new Positioned(\n            bottom: 0.0,\n            left: 0.0,\n            right: 0.0,\n            child: new Container(\n              padding: const EdgeInsets.all(20.0),\n              color: Colors.grey[800].withOpacity(0.2),\n              child: new Column(\n                crossAxisAlignment: CrossAxisAlignment.start,\n                children: &lt;Widget&gt;[\n                  new Text(\n                    '27 Meters Down',\n                    style: theme\n                      .primaryTextTheme.subhead,\n                  ),\n                  new Text(\n                    'M 1h 29min, Horror',\n                    style: theme.primaryTextTheme.\n                    caption,\n                  ),\n                ],\n              )\n            )\n          ),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildBottom() {\n    return new PreferredSize(\n      child: new SizedBox(\n        height: _bottomSize.value.height,\n        child: new Column(\n          children: &lt;Widget&gt;[\n            new TabBar(\n              tabs: _tabs,\n            ),\n            new FilterBar(\n              onExpandedChanged: (bool value) async {\n                if (value &amp;&amp;\n                  _expandAnimationController.isDismissed) {\n                  await _expandAnimationController.forward();\n                  setState(() {\n                    _isExpanded = true;\n                  });\n                } else if (!value &amp;&amp;\n                  _expandAnimationController.isCompleted) {\n                  await _expandAnimationController.reverse();\n                  setState(() {\n                    _isExpanded = false;\n                  });\n                }\n              },\n              isExpanded: _isExpanded,\n            ),\n            new Flexible(\n              child: new Stack(\n                overflow: Overflow.clip,\n                children: &lt;Widget&gt;[\n                  new Positioned(\n                    top: 0.0,\n                    left: 0.0,\n                    right: 0.0,\n                    child: new DayPickerBar(\n                      onChanged: (DateTime value) {\n                        setState(() {\n                          _selectedDate = value;\n                        });\n                      },\n                      selectedDate: _selectedDate,\n                    ),\n                  )\n                ],\n              ),\n            ),\n          ],\n        ),\n      ),\n      preferredSize: _bottomSize.value,\n    );\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      drawer: new Container(),\n      floatingActionButton: new FloatingActionButton(\n        child: new Icon(Icons.filter_list),\n        onPressed: () {},\n      ),\n      body: new DefaultTabController(\n        length: _tabs.length,\n        child: new NestedScrollView(\n          headerSliverBuilder: (BuildContext context, bool innerBoxIsScrolled) {\n            return [\n              new AnimatedBuilder(\n                animation: _bottomSize,\n                builder: (BuildContext context, Widget child) {\n                  return new SliverAppBar(\n                    pinned: true,\n                    floating: true,\n                    title: const Text('Movies'),\n                    actions: &lt;Widget&gt;[\n                      new IconButton(\n                        icon: new Icon(Icons.search),\n                        onPressed: () {},\n                      ),\n                      new PopupMenuButton(\n                        child: new Icon(Icons.more_vert),\n                        itemBuilder: (BuildContext context) {\n                          return &lt;PopupMenuEntry&gt;[\n                            new PopupMenuItem(\n                              child: new Text('Not implemented'),\n                            )\n                          ];\n                        },\n                      ),\n                    ],\n                    bottom: _buildBottom(),\n                  );\n                },\n              ),\n            ];\n          },\n          body: new TabBarView(\n            children: &lt;Widget&gt;[\n              new ListView.builder(\n                itemBuilder: _buildMovie,\n                itemExtent: 200.0,\n              ),\n              new Container(\n                child: new Center(\n                  child: new Text('Coming soon!'),\n                ),\n              ),\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n}\n\nclass ExampleApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      theme: new ThemeData(\n        primarySwatch: Colors.teal,\n      ),\n      home: new HomeScreen(),\n      debugShowCheckedModeBanner: false,\n    );\n  }\n}\n\nvoid main() {\n  runApp(new ExampleApp());\n}\n</code></pre>\n"}], "owner": {"reputation": 235, "user_id": 1533112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6945d15016c935593b72394486e656c4?s=128&d=identicon&r=PG", "display_name": "nonameden", "link": "https://stackoverflow.com/users/1533112/nonameden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7658, "favorite_count": 6, "accepted_answer_id": 44798561, "answer_count": 1, "score": 3, "last_activity_date": 1611370839, "creation_date": 1498599447, "last_edit_date": 1611370839, "question_id": 44790353, "link": "https://stackoverflow.com/questions/44790353/how-to-do-sliding-panel-in-flutter", "title": "How to do sliding panel in Flutter?", "body": "<p>I am building proof of concept on Flutter and trying as much as possible copy existing app. Our current app has sliding panel aka drop down at the top of the list, is there any way to do same behaviour in Flutter?</p>\n<p><a href=\"https://i.stack.imgur.com/pDvFN.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pDvFN.gif\" alt=\"Current behaviour GIF\" /></a></p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "is_accepted": true, "score": 4, "last_activity_date": 1498596667, "last_edit_date": 1498596667, "creation_date": 1498592803, "answer_id": 44788660, "question_id": 44788256, "link": "https://stackoverflow.com/questions/44788256/updating-data-in-flutter/44788660#44788660", "title": "Updating data in Flutter", "body": "<p>You can have your <code>State</code> subscribe to a <code>Stream</code> of messages.</p>\n\n<p><a href=\"https://i.stack.imgur.com/D2scN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D2scN.png\" alt=\"screenshot\"></a></p>\n\n<pre><code>import 'dart:async';\nimport 'package:flutter/material.dart';\n\nclass Server {\n  StreamController&lt;String&gt; _controller = new StreamController.broadcast();\n  void simulateMessage(String message) {\n    _controller.add(message);\n  }\n  Stream get messages =&gt; _controller.stream;\n}\n\nfinal server = new Server();\n\nclass HomeScreen extends StatefulWidget {\n  @override\n  _HomeScreenState createState() =&gt; new _HomeScreenState();\n}\n\nclass _HomeScreenState extends State&lt;HomeScreen&gt; {\n  List&lt;String&gt; _messages = &lt;String&gt;[];\n  StreamSubscription&lt;String&gt; _subscription;\n\n  @override\n  void initState() {\n    _subscription = server.messages.listen((String message) {\n      setState(() {\n        _messages.add(message);\n      });\n    });\n    super.initState();\n  }\n\n  @override\n  void dispose() {\n    _subscription.cancel();\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    TextStyle textStyle = Theme.of(context).textTheme.display2;\n    return new Scaffold(\n      appBar: new AppBar(\n        title: new Text('Telnet Example'),\n      ),\n      body: new ListView(\n        children: _messages.map((String message) {\n          return new Card(\n            child: new Container(\n              height: 100.0,\n              child: new Center(\n                child: new Text(message, style: textStyle),\n              ),\n            ),\n          );\n        }).toList(),\n      ),\n      floatingActionButton: new FloatingActionButton(\n        child: new Icon(Icons.add),\n        onPressed: () {\n          // simulate a message arriving\n          server.simulateMessage('Hello Dayrona!');\n        },\n      ),\n    );\n  }\n}\n\nclass TelnetSample extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      theme: new ThemeData.dark(),\n      home: new HomeScreen(),\n    );\n  }\n}\n\nvoid main() {\n  runApp(new TelnetSample());\n}\n</code></pre>\n\n<p>Note: You can have the <code>List</code> of messages be owned by the <code>Server</code> class if you want to make it persist even if the user visits other screens. You'll still need a <code>Stream</code> or other notification callback to let your the <code>State</code> know the list has been changed.</p>\n"}], "owner": {"reputation": 401, "user_id": 3238070, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/06bd132f3d8b962f20a56983b105edb6?s=128&d=identicon&r=PG&f=1", "display_name": "faku", "link": "https://stackoverflow.com/users/3238070/faku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3182, "favorite_count": 1, "accepted_answer_id": 44788660, "answer_count": 1, "score": 1, "last_activity_date": 1498596667, "creation_date": 1498591339, "question_id": 44788256, "link": "https://stackoverflow.com/questions/44788256/updating-data-in-flutter", "title": "Updating data in Flutter", "body": "<p>I just started learning Dart and Flutter and for starting, I would like to develop an application that acts as a server (to which we send messages from <code>telnet</code>).</p>\n\n<p>So at the moment, I have the two following classes:</p>\n\n<pre><code>class HomeScreen extends StatefulWidget {\n    @override\n    _HomeScreenState createState() =&gt; new _HomeScreenState();\n}\n</code></pre>\n\n<p>&nbsp;</p>\n\n<pre><code> class _HomeScreenState extends State&lt;HomeScreen&gt; {\n    List&lt;String&gt; _messages = &lt;String&gt;[];\n\n    ...\n}\n</code></pre>\n\n<p>So as I said, the app will run as a server. I want to update the list <code>_messages</code> every time the server receives a message.</p>\n\n<p>I would like to update it from another class, let's call it <code>Server</code>, from which I call i.e. <code>HomeScreen.addMessage(String message)</code> and I would also like to keep <code>_HomeScreenState</code> private.</p>\n\n<p>I've searched a lot of time for a solution but didn't find anything suitable for my needs.</p>\n\n<p>Could you guys help me?</p>\n\n<p>Many thanks in advance!</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 656, "user_id": 1135795, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2673fde0b7068bf75f5143bca39376ee?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/1135795/martin"}, "edited": false, "score": 1, "creation_date": 1498556588, "post_id": 44769847, "comment_id": 76534454, "body": "Could you add an example using Streams ?"}, {"owner": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "reply_to_user": {"reputation": 656, "user_id": 1135795, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2673fde0b7068bf75f5143bca39376ee?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/1135795/martin"}, "edited": false, "score": 2, "creation_date": 1498574760, "post_id": 44769847, "comment_id": 76547340, "body": "Here&#39;s an example, although I feel like added complexity of <code>Stream</code> isn&#39;t worth it in this case. The <code>Keyboard</code> widget doesn&#39;t want to manage the current list of numbers, and neither does the <code>Display</code>; it feels most natural in a model object owned by the parent. <a href=\"https://gist.github.com/collinjackson/85530d110ce4d20630a00e77ab6bf825\" rel=\"nofollow noreferrer\">gist.github.com/collinjackson/85530d110ce4d20630a00e77ab6bf8&zwnj;&#8203;25</a>"}, {"owner": {"reputation": 656, "user_id": 1135795, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2673fde0b7068bf75f5143bca39376ee?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/1135795/martin"}, "edited": false, "score": 0, "creation_date": 1498591027, "post_id": 44769847, "comment_id": 76557098, "body": "Thanks, I haven&#39;t seen any other examples using Streams for widget communication, so thank you for this."}], "tags": [], "owner": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "is_accepted": true, "score": 3, "last_activity_date": 1498520289, "last_edit_date": 1498520289, "creation_date": 1498517844, "answer_id": 44769847, "question_id": 44769472, "link": "https://stackoverflow.com/questions/44769472/flutter-generate-in-app-interactivity/44769847#44769847", "title": "Flutter - Generate in app interactivity", "body": "<p>Check out the <a href=\"https://flutter.io/tutorials/interactive/\" rel=\"nofollow noreferrer\">Flutter interactivity tutorial</a>. At a high level (heh), your problem is that you are trying to store state in the leaves of your widget tree. You should store your state higher up in your tree and then pass it down to the children.</p>\n\n<p>The example below uses <a href=\"https://docs.flutter.io/flutter/foundation/ValueNotifier-class.html\" rel=\"nofollow noreferrer\"><code>ValueNotifier</code></a> but you can also pass state around using streams, callbacks, or even <a href=\"https://pub.dartlang.org/packages/firebase_database\" rel=\"nofollow noreferrer\">Firebase Database</a>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/RhDI7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RhDI7.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>import \"package:flutter/material.dart\";\n\nvoid main() {\n  runApp(new KeyboardApp());\n}\n\nclass KeyboardApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      home: new HomePage(),\n    );\n  }\n}\n\nclass HomePage extends StatefulWidget {\n  HomePageState createState() =&gt; new HomePageState();\n}\n\nclass HomePageState extends State&lt;HomePage&gt; {\n  ValueNotifier&lt;List&lt;int&gt;&gt; numbers = new ValueNotifier&lt;List&lt;int&gt;&gt;(&lt;int&gt;[]);\n\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      body: new ListView  (\n        children: &lt;Widget&gt;[\n          new NumberDisplay(numbers: numbers),\n          new Keyboard(numbers: numbers),\n        ],\n      ),\n    );\n  }\n}\n\nclass NumberDisplay extends AnimatedWidget {\n  NumberDisplay({ this.numbers }) : super(listenable: numbers);\n  final ValueNotifier&lt;List&lt;int&gt;&gt; numbers;\n\n  final Color _color = new Color(0xFFE57373);\n\n  @override\n  Widget build(BuildContext context) {\n    return new Container(\n      height: 145.0,\n      child: new Column(\n        mainAxisAlignment: MainAxisAlignment.center,\n        children: &lt;Widget&gt;[\n          new Container(\n            padding: new EdgeInsets.only(right: 16.0, top: 35.0),\n            child: new Row(\n              mainAxisAlignment: MainAxisAlignment.end,\n              children: &lt;Widget&gt;[\n                new Text(\n                  '\\$  ',\n                  style: new TextStyle(\n                    fontFamily: 'Roboto',\n                    color: new Color(0xFFFFFFFF),\n                    fontSize: 20.0\n                  )\n                ),\n                new Text(\n                  this.numbers.value.join(''),\n                  style: new TextStyle(\n                    fontFamily: 'Roboto',\n                    color: new Color(0xFFFFFFFF),\n                    fontSize: 45.0\n                  ),\n                ),\n              ],\n            ),\n          ),\n        ],\n      ),\n      color: _color,\n    );\n  }\n}\n\nclass Keyboard extends StatelessWidget {\n  Keyboard({ this.numbers });\n  final ValueNotifier&lt;List&lt;int&gt;&gt; numbers;\n\n  final Color _color = new Color(0xFFE57373);\n\n  @override\n  Widget build(BuildContext context) {\n    return new Container(\n      padding: new EdgeInsets.only(right: 15.0, left: 15.0, top: 47.0, bottom: 20.0),\n      child: new Column(\n        children: &lt;Widget&gt;[\n          new Row(\n            mainAxisAlignment: MainAxisAlignment.spaceAround,\n            children: &lt;Widget&gt;[\n              new FlatButton(\n                textColor: _color,\n                child: new Text(\n                  '1',\n                  style: new TextStyle(\n                    fontSize: 35.0\n                  ),\n                ),\n                onPressed: () {\n                  numbers.value = new List.from(numbers.value)..add(1);\n                },\n              ),\n              new FlatButton(\n                textColor: _color,\n                child: new Text(\n                  '2',\n                  style: new TextStyle(\n                    fontSize: 35.0\n                  ),\n                ),\n                onPressed: () {\n                  numbers.value = new List.from(numbers.value)..add(2);\n                },\n              ),\n              new FlatButton(\n                textColor: _color,\n                child: new Icon(\n                  Icons.backspace,\n                  size: 35.0\n                ),\n                onPressed: () {\n                  numbers.value = new List.from(numbers.value)..removeLast();\n                },\n              ),\n            ],\n          ),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 7736, "user_id": 2744242, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/71d3267f5993b6b79619213c789524b5?s=128&d=identicon&r=PG&f=1", "display_name": "rafaelcb21", "link": "https://stackoverflow.com/users/2744242/rafaelcb21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2038, "favorite_count": 0, "accepted_answer_id": 44769847, "answer_count": 1, "score": 2, "last_activity_date": 1498520289, "creation_date": 1498515432, "question_id": 44769472, "link": "https://stackoverflow.com/questions/44769472/flutter-generate-in-app-interactivity", "title": "Flutter - Generate in app interactivity", "body": "<p>I'm kind of lost in generating interactivity on Flutter.</p>\n\n<p>I'm trying to make tapping the FlatButtons the value shown above, and in the order it was tapped.</p>\n\n<p>For example, tap number 1, then 2, 1, 1, 1 and last 2 should appear <code>$ 12111</code>, remembering quite a list.</p>\n\n<p>Taping on the backspace icon removes the last number that has entered the list.</p>\n\n<p>I am not aware of generating this communication between classes.</p>\n\n<p>Can you help me?  I'm trying to use the StatefulWidget but I'm not succeeding.</p>\n\n<p>Below I left the code that generates the screen described above.</p>\n\n<p><strong>main.dart</strong></p>\n\n<pre><code>import \"package:flutter/material.dart\";\n\nvoid main() {\n  runApp(new KeyboardApp());\n}\n\nclass KeyboardApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      home: new HomePage(),\n    );\n  }\n}\n\nclass HomePage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      body: new ListView  (\n        children: &lt;Widget&gt;[\n          new Number(),\n          new Keyboard(),\n        ],\n      ),\n    );\n  }  \n}\n\nclass NumberState extends StatefulWidget {\n  NumberList createState() =&gt; new NumberList();\n}\n\nclass NumberList extends State&lt;NumberState&gt; {\n  List&lt;String&gt; numbers = &lt;String&gt;[];\n  String number;\n\n  @override\n  Widget build(BuildContext context) {\n    number = this.numbers.join('');\n    return new Text(\n      this.number,\n      style: new TextStyle(\n        fontFamily: 'Roboto',\n        color: new Color(0xFFFFFFFF),\n        fontSize: 45.0\n      )\n    ); \n  }\n}\n\nclass Number extends StatelessWidget {\n  final Color color = new Color(0xFFE57373);\n\n  @override\n  Widget build(BuildContext context) {\n    return new Container(\n      height: 145.0,\n      child: new Column(\n        mainAxisAlignment: MainAxisAlignment.center,\n        children: &lt;Widget&gt;[\n          new Container(\n            padding: new EdgeInsets.only(right: 16.0, top: 35.0),\n            child: new Row(\n              mainAxisAlignment: MainAxisAlignment.end,\n              children: &lt;Widget&gt;[\n                new Text(\n                  '\\$  ',\n                  style: new TextStyle(\n                    fontFamily: 'Roboto',\n                    color: new Color(0xFFFFFFFF),\n                    fontSize: 20.0\n                  )\n                ),\n                new NumberState(),\n              ],\n            )\n          )\n        ],\n      ),\n      color: color,\n    );\n  }\n}\n\nclass Keyboard extends StatelessWidget {\n  final Color color = new Color(0xFFE57373);\n\n  var list = new NumberList().numbers;\n  @override\n  Widget build(BuildContext context) {\n    return new Container(\n      padding: new EdgeInsets.only(right: 15.0, left: 15.0, top: 47.0, bottom: 20.0),\n      child: new Column(\n        children: &lt;Widget&gt;[\n          new Row(\n            mainAxisAlignment: MainAxisAlignment.spaceAround,\n            children: &lt;Widget&gt;[\n              new FlatButton(\n                textColor: color,\n                child: new Text(\n                  '1',\n                  style: new TextStyle(\n                    fontSize: 35.0\n                  ),\n                ),\n                onPressed: () {\n                  this.list.add('1');\n                },\n              ),\n              new FlatButton(\n                textColor: color,\n                child: new Text(\n                  '2',\n                  style: new TextStyle(\n                    fontSize: 35.0\n                  ),\n                ),\n                onPressed: () {\n                  this.list.add('2');\n                },\n              ),\n              new FlatButton(\n                textColor: color,\n                child: new Icon(\n                  Icons.backspace,\n                  size: 35.0\n                ),\n                onPressed: () {\n                  this.list.removeLast();\n                },\n              ),\n            ],\n          ),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/kSrBD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kSrBD.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["multithreading", "dart"], "answers": [{"tags": [], "owner": {"reputation": 19885, "user_id": 1961059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvYjK.jpg?s=128&g=1", "display_name": "rinukkusu", "link": "https://stackoverflow.com/users/1961059/rinukkusu"}, "is_accepted": true, "score": 1, "last_activity_date": 1498570366, "creation_date": 1498570366, "answer_id": 44781653, "question_id": 44768647, "link": "https://stackoverflow.com/questions/44768647/threading-in-dart-could-not-import-package/44781653#44781653", "title": "Threading in Dart : Could not import Package", "body": "<p>You probably need to generate a <code>pubspec.yaml</code> file yourself with a config somewhat like this:</p>\n\n<pre class=\"lang-yaml prettyprint-override\"><code>name: my_test_lib\n\ndependencies:\n  threading: ^0.0.8\n</code></pre>\n\n<p>Then you can do a <code>pub get</code> which will install the needed dependency.</p>\n"}], "owner": {"reputation": 126, "user_id": 5718351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F8T4C.jpg?s=128&g=1", "display_name": "SH&#39;", "link": "https://stackoverflow.com/users/5718351/sh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "accepted_answer_id": 44781653, "answer_count": 1, "score": 1, "last_activity_date": 1498575683, "creation_date": 1498510986, "last_edit_date": 1498575683, "question_id": 44768647, "link": "https://stackoverflow.com/questions/44768647/threading-in-dart-could-not-import-package", "title": "Threading in Dart : Could not import Package", "body": "<p><strong>Machine: Linux (Ubuntu 17.04)</strong></p>\n\n<p>Trying to execute this program:\n<a href=\"https://github.com/mezoni/threading/blob/master/example/example_interleaved_execution.dart\" rel=\"nofollow noreferrer\">example/example_interleaved_execution.dart</a></p>\n\n<pre><code>$ dart example_interleaved_execution.dart\n</code></pre>\n\n<p><strong>Error:</strong></p>\n\n<pre><code>Unhandled exception:\nCould not import \"package:threading/threading.dart\" from \"file:///home/xxxxs/devel/dartprog/example_interleaved_execution.dart\": Could not resolve a package location for base at file:///home/xxxxs/devel/dartprog/example_interleaved_execution.dart\nnull:\n</code></pre>\n\n<p><strong>Already Tried:</strong></p>\n\n<ul>\n<li><code>pub cache repair</code> <a href=\"https://stackoverflow.com/questions/26842778/dart-import-packages-not-working\">Post1</a></li>\n<li>Deleted <code>~/.pub-cache</code></li>\n<li>Rebooted machine and tried  <code>$ dart example_interleaved_execution.dart</code> and same error. </li>\n</ul>\n\n<p>How to solve this one?</p>\n\n<p>(<strong>Note:</strong> If anyone is working behind proxy, make sure \"pub\" is working under root too.)</p>\n"}, {"tags": ["build", "dart", "directory", "dart2js"], "answers": [{"tags": [], "owner": {"reputation": 4296, "user_id": 39827, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/289adeb0bd8b3017a29329ed94364c3a?s=128&d=identicon&r=PG", "display_name": "Kevin Moore", "link": "https://stackoverflow.com/users/39827/kevin-moore"}, "is_accepted": false, "score": 0, "last_activity_date": 1498681849, "creation_date": 1498681849, "answer_id": 44812017, "question_id": 44751541, "link": "https://stackoverflow.com/questions/44751541/dart2js-pub-build-fails-to-traverse-project-folders-correctly/44812017#44812017", "title": "Dart2JS Pub Build Fails to Traverse Project Folders Correctly", "body": "<p>Code within the web directory should only access files in two places:</p>\n\n<ol>\n<li><p>Things in the web directory, via relative paths</p></li>\n<li><p>Things in packages via <code>package:</code> imports</p></li>\n</ol>\n\n<p>#2 is interesting. This can include files within your own project, you just need to put those files in the <code>lib</code> directory and access them via a <code>package:my_proj</code> URI.</p>\n\n<p>See <a href=\"https://github.com/dart-lang/sample-pop_pop_win/\" rel=\"nofollow noreferrer\">https://github.com/dart-lang/sample-pop_pop_win/</a> as an example</p>\n\n<p>See also <a href=\"https://www.dartlang.org/tools/pub/package-layout\" rel=\"nofollow noreferrer\">https://www.dartlang.org/tools/pub/package-layout</a></p>\n"}], "owner": {"reputation": 121, "user_id": 2511908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bm251.jpg?s=128&g=1", "display_name": "Zzzach...", "link": "https://stackoverflow.com/users/2511908/zzzach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1498681849, "creation_date": 1498433816, "last_edit_date": 1498439955, "question_id": 44751541, "link": "https://stackoverflow.com/questions/44751541/dart2js-pub-build-fails-to-traverse-project-folders-correctly", "title": "Dart2JS Pub Build Fails to Traverse Project Folders Correctly", "body": "<p>I'm working on a long-term project for some time now. After moving some folders around, correctly refactoring different parts of the code, Webstorm's Dart analyser is showing NO errors, but running either <code>pub serve</code> or <code>pub build</code> fails.</p>\n\n<p>Pub or Dart2JS doesn't seems to be traversing folders correctly.</p>\n\n<p>This is the first error I get:\n<code><pre>[Error from Dart2JS on CS_Game_Engine|web/main.dart]:\nweb/UIElements/NodeSettingsItems/TextVariableEditor.dart:4:1:\nCan't read 'file:///Data/ownCloud/cybersecgame/CS%20Game%20Engine/web/UIElements/Data/Variables/Variable.dart' (Could not find asset CS_Game_Engine|web/UIElements/Data/Variables/Variable.dart.).\nimport '../../Data/Variables/Variable.dart';\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</pre></code></p>\n\n<p>This is interesting, because the file <code>TextVariableEditor.dart</code>, as you see in the error, is located in the <code>web/UIElements/NodeSettingsItems/</code> directory.</p>\n\n<p>The file I am trying to access (<code>Variables.dart</code>) is located in <code>web/Data/Variables/Variable.dart</code>.</p>\n\n<p>The import statement moves 2 folders up with the <code>../../</code>, but Pub or Dart2JS is not going 2 folders up, its only going 1 folder up. See the error again:</p>\n\n<pre><code>Can't read 'file:///Data/ownCloud/cybersecgame/CS%20Game%20Engine/web/UIElements/Data/Variables/Variable.dart'\n</code></pre>\n\n<p>It's looking for the file in the wrong place. I'm not sure what to do to fix this, and I've looked around and can't really find anything. Again, Webstorm's Dart Analyzer shows no issues, but the pub build or pub serve both fail, unable to find the file.</p>\n\n<p>I've used the <code>../../</code> many times before in my code, but this is the first time it is causing issues. There are other errors similar to this, but having the same issue of not reading the <code>../../</code> correctly.</p>\n\n<h2>Update 1:</h2>\n\n<p>I've done more testing, and adding an additional <code>../</code> to the path's beginning fixes the error during the <code>pub build</code>. However, now Webstorm and it's Dart Analyzer is showing lots of errors since the path is obviously wrong (1 too many <code>../</code>). This is a workaround, but not a fix. Does anybody know why pub or the Dart2JS is reading the path incorrectly? Somehow skipping one of the <code>../</code>?</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 13728, "user_id": 3675035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2PXUu.jpg?s=128&g=1", "display_name": "Blasanka", "link": "https://stackoverflow.com/users/3675035/blasanka"}, "edited": false, "score": 0, "creation_date": 1553404167, "post_id": 44741335, "comment_id": 97368488, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/48405123/how-to-set-custom-height-for-widget-in-gridview-in-flutter\">How to set Custom height for Widget in GridView in Flutter?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7756, "user_id": 3140227, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/62a968f41c1feb83fd1cd142e7c043f3?s=128&d=identicon&r=PG", "display_name": "Vipul Asri", "link": "https://stackoverflow.com/users/3140227/vipul-asri"}, "edited": false, "score": 0, "creation_date": 1523246121, "post_id": 44753010, "comment_id": 86464443, "body": "Can you please show some code, on how to implement this varying height of each child?"}, {"owner": {"reputation": 5101, "user_id": 5066615, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iL2xP.jpg?s=128&g=1", "display_name": "Rohan Taneja", "link": "https://stackoverflow.com/users/5066615/rohan-taneja"}, "edited": false, "score": 9, "creation_date": 1532605151, "post_id": 44753010, "comment_id": 90043338, "body": "This is a basic requirement. I wonder why it needs to be so complicated that it cannot be taken into consideration by GridView.count(...)."}], "tags": [], "owner": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "is_accepted": true, "score": 6, "last_activity_date": 1498450291, "creation_date": 1498450291, "answer_id": 44753010, "question_id": 44741335, "link": "https://stackoverflow.com/questions/44741335/gridview-containing-cards-doesnt-calculate-height-correctly/44753010#44753010", "title": "GridView containing Cards doesn&#39;t calculate height correctly", "body": "<p>Your problem is that the tiles of <code>GridView.count</code> have a default aspect ratio of <code>1.0</code> (i.e. square), and it sounds like you want your tiles to be shorter than that.</p>\n\n<p>A quick fix would be to hard code the <code>childAspectRatio</code> to a number you like. A more nuanced approach would be to implement a <code>SliverGridDelegate</code> that describes the layout you want and use <code>GridView.custom</code>. You could also just do a <code>ListView</code> of 2-element <code>Row</code> widgets and not use <code>GridView</code> at all.</p>\n"}, {"tags": [], "owner": {"reputation": 46, "user_id": 7819975, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xyxiBQO74qU/AAAAAAAAAAI/AAAAAAAAAGY/hWp8ERjv398/photo.jpg?sz=128", "display_name": "Paul Kumchi", "link": "https://stackoverflow.com/users/7819975/paul-kumchi"}, "is_accepted": false, "score": 0, "last_activity_date": 1597892051, "creation_date": 1597892051, "answer_id": 63497639, "question_id": 44741335, "link": "https://stackoverflow.com/questions/44741335/gridview-containing-cards-doesnt-calculate-height-correctly/63497639#63497639", "title": "GridView containing Cards doesn&#39;t calculate height correctly", "body": "<p>Changing the aspect ratio of the <code>GridView.count</code> should do the trick. the code below worked for me. you can tweak it as you want</p>\n<pre><code> GridView.count(\n      ...\n      childAspectRatio: 10 / 9,\n</code></pre>\n"}], "owner": {"reputation": 1221, "user_id": 5056459, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ffc78034c187d9f5e94ff1ed1dfce7db?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Williams", "link": "https://stackoverflow.com/users/5056459/adam-williams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3069, "favorite_count": 1, "accepted_answer_id": 44753010, "answer_count": 2, "score": 5, "last_activity_date": 1597892051, "creation_date": 1498341669, "question_id": 44741335, "link": "https://stackoverflow.com/questions/44741335/gridview-containing-cards-doesnt-calculate-height-correctly", "title": "GridView containing Cards doesn&#39;t calculate height correctly", "body": "<p>I have an app using a <code>GridView</code> to try and lay out some <code>Card</code>s. The relevant code looks a bit like this</p>\n\n<pre><code>body: new GridView.count(\n  crossAxisCount: 2,\n  children: [new Card(\n    child: new Column(\n      mainAxisSize: MainAxisSize.min,\n      children: &lt;Widget&gt;[\n        const ListTile(\n          leading: const Text(\"0\", style: const TextStyle(\n              fontWeight: FontWeight.bold, fontSize: 24.0)),\n          title: const Text('Some Heading'),\n          subtitle: const Text('My Subtitle'),\n        ),\n        new ButtonTheme\n            .bar( // make buttons use the appropriate styles for cards\n          child: new ButtonBar(\n            children: &lt;Widget&gt;[\n              new FlatButton(\n                child: const Text('CALL TO ACTION'),\n                onPressed: () {\n                  /* ... */\n                },\n              ),\n            ],\n          ),\n        ),\n      ],\n    ),\n  ),\n  // same card repeated\n  ],\n),\n</code></pre>\n\n<p>Unfortunately, it doesn't render well:</p>\n\n<p><a href=\"https://i.stack.imgur.com/s6dBj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/s6dBj.png\" alt=\"rendered\"></a></p>\n\n<p>The cards are too tall, they should end just below the \"CALL TO ACTION\" button. How can I fix this, and have the grid rows automatically respect the height of the contents?</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 75233, "user_id": 123471, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/t75zo.jpg?s=128&g=1", "display_name": "Seth Ladd", "link": "https://stackoverflow.com/users/123471/seth-ladd"}, "edited": false, "score": 0, "creation_date": 1498344021, "post_id": 44740617, "comment_id": 76464395, "body": "I don&#39;t have a code sample but you can read and write files. You can try reading if a file exists and if not, consider it the first run. <a href=\"https://flutter.io/reading-writing-files/\" rel=\"nofollow noreferrer\">flutter.io/reading-writing-files</a>"}, {"owner": {"reputation": 11993, "user_id": 10563627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xQL2O.jpg?s=128&g=1", "display_name": "Paresh Mangukiya", "link": "https://stackoverflow.com/users/10563627/paresh-mangukiya"}, "edited": false, "score": 0, "creation_date": 1592023913, "post_id": 44740617, "comment_id": 110281953, "body": "Check this, from here you will get a very easy solution :- <a href=\"https://stackoverflow.com/a/62355674/10563627\">stackoverflow.com/a/62355674/10563627</a>"}], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 6074443, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3P4AnmjwKYM/AAAAAAAAAAI/AAAAAAAAAJw/Yr8wl0GblCo/photo.jpg?sz=128", "display_name": "Nihad Delic", "link": "https://stackoverflow.com/users/6074443/nihad-delic"}, "edited": false, "score": 1, "creation_date": 1560417533, "post_id": 44749517, "comment_id": 99732349, "body": "That works, but what if user deletes cache for this app. Shared preference will be also removed right?"}, {"owner": {"reputation": 948, "user_id": 9528391, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQCNN5aFY14/AAAAAAAAAAI/AAAAAAAAAXk/lzbmC7DipXg/photo.jpg?sz=128", "display_name": "evals", "link": "https://stackoverflow.com/users/9528391/evals"}, "reply_to_user": {"reputation": 169, "user_id": 6074443, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3P4AnmjwKYM/AAAAAAAAAAI/AAAAAAAAAJw/Yr8wl0GblCo/photo.jpg?sz=128", "display_name": "Nihad Delic", "link": "https://stackoverflow.com/users/6074443/nihad-delic"}, "edited": false, "score": 0, "creation_date": 1563723189, "post_id": 44749517, "comment_id": 100785156, "body": "@NihadDelic yes it will be removed, but the SharedPreferences is the only available option locally"}, {"owner": {"reputation": 1326, "user_id": 1082824, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/MbEvE.jpg?s=128&g=1", "display_name": "Ride Sun", "link": "https://stackoverflow.com/users/1082824/ride-sun"}, "edited": false, "score": 0, "creation_date": 1575776257, "post_id": 44749517, "comment_id": 104677320, "body": "What if the app is just updated - I guess the shared preferences survive. That might be a problem. I guess I could save the app version with a saved app version and decide."}, {"owner": {"reputation": 747, "user_id": 4038308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WslLh.png?s=128&g=1", "display_name": "Zakir", "link": "https://stackoverflow.com/users/4038308/zakir"}, "edited": false, "score": 0, "creation_date": 1578308385, "post_id": 44749517, "comment_id": 105384908, "body": "What if user delete the app and re-install it"}], "tags": [], "owner": {"reputation": 423, "user_id": 8142607, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ypBSbqfcHTc/AAAAAAAAAAI/AAAAAAAADIo/Ke7tqTdav_I/photo.jpg?sz=128", "display_name": "Abhi Agarwal", "link": "https://stackoverflow.com/users/8142607/abhi-agarwal"}, "is_accepted": true, "score": 24, "last_activity_date": 1498416856, "creation_date": 1498416856, "answer_id": 44749517, "question_id": 44740617, "link": "https://stackoverflow.com/questions/44740617/check-if-an-application-is-on-its-first-run-with-flutter/44749517#44749517", "title": "Check if an application is on its first run with Flutter", "body": "<p>Use <a href=\"http://pub.dartlang.org/packages/shared_preferences\" rel=\"noreferrer\">Shared Preferences Package</a>. You can read it with <code>FutureBuilder</code>, and you can check if there is a bool named <code>welcome</code> for example. This is the implementation I have in my code:</p>\n\n<pre><code>return new FutureBuilder&lt;SharedPreferences&gt;(\n      future: SharedPreferences.getInstance(),\n      builder:\n          (BuildContext context, AsyncSnapshot&lt;SharedPreferences&gt; snapshot) {\n        switch (snapshot.connectionState) {\n          case ConnectionState.none:\n          case ConnectionState.waiting:\n            return new LoadingScreen();\n          default:\n            if (!snapshot.hasError) {\n              @ToDo(\"Return a welcome screen\")\n              return snapshot.data.getBool(\"welcome\") != null\n                  ? new MainView()\n                  : new LoadingScreen();\n            } else {\n              return new ErrorScreen(error: snapshot.error);\n            }\n        }\n      },\n    );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 160, "user_id": 5892625, "user_type": "registered", "accept_rate": 42, "profile_image": "https://graph.facebook.com/520191738161045/picture?type=large", "display_name": "Naveed Abbas", "link": "https://stackoverflow.com/users/5892625/naveed-abbas"}, "is_accepted": false, "score": 2, "last_activity_date": 1600867956, "creation_date": 1600867956, "answer_id": 64029173, "question_id": 44740617, "link": "https://stackoverflow.com/questions/44740617/check-if-an-application-is-on-its-first-run-with-flutter/64029173#64029173", "title": "Check if an application is on its first run with Flutter", "body": "<p>Above code work fine but for beginners I make it little bit simple\n<strong>main.dart</strong></p>\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:healthtic/IntroScreen.dart';\nimport 'package:healthtic/user_preferences.dart';\nimport 'login.dart';\nimport 'profile.dart';\n\nvoid main() {\n  runApp(MyApp());\n}\n\nclass MyApp extends StatefulWidget {\n  @override\n  State&lt;StatefulWidget&gt; createState() {\n    // TODO: implement createState\n    return MyAppState();\n  }\n}\n\nclass MyAppState extends State&lt;MyApp&gt; {\n  // This widget is the root of your application.\n\n  bool isLoggedIn = false;\n\n  MyAppState() {\n    MySharedPreferences.instance\n        .getBooleanValue(&quot;isfirstRun&quot;)\n        .then((value) =&gt; setState(() {\n      isLoggedIn = value;\n    }));\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n        debugShowCheckedModeBanner: false,\n        title: 'Flutter Demo',\n        //if true return intro screen for first time Else go to login Screen\n        home: isLoggedIn ? Login() : IntroScreen());\n  }\n}\n</code></pre>\n<p>then share preferences\n<strong>MySharedPreferences</strong></p>\n<pre><code>import 'package:shared_preferences/shared_preferences.dart';\n\nclass MySharedPreferences {\n  MySharedPreferences._privateConstructor();\n\n  static final MySharedPreferences instance =\n  MySharedPreferences._privateConstructor();\n  setBooleanValue(String key, bool value) async {\n    SharedPreferences myPrefs = await SharedPreferences.getInstance();\n    myPrefs.setBool(key, value);\n  }\n\n  Future&lt;bool&gt; getBooleanValue(String key) async {\n    SharedPreferences myPrefs = await SharedPreferences.getInstance();\n    return myPrefs.getBool(key) ?? false;\n  }\n}\n</code></pre>\n<p>then create two dart files <strong>IntroScreen</strong> and <strong>Login</strong>\nIntro Screen will apear just once when user run application for first time usless the app is removed or caches are cleard\n<strong>IntroScreen</strong></p>\n<pre><code>import 'dart:io';\nimport 'package:flutter/material.dart';\nimport 'package:healthtic/SliderModel.dart';\nimport 'package:healthtic/login.dart';\nimport 'package:healthtic/user_preferences.dart';\nimport 'package:shared_preferences/shared_preferences.dart';\n\nclass IntroScreen extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: &quot;Healthtic&quot;,\n      home: IntorHome(),\n      debugShowCheckedModeBanner: false,\n    );\n  }\n}\nclass IntorHome extends StatefulWidget {\n  @override\n  _IntorHomeState createState() =&gt; _IntorHomeState();\n}\n\nclass _IntorHomeState extends State&lt;IntorHome&gt; {\n  List&lt;SliderModel&gt; slides=new List&lt;SliderModel&gt;();\n  int currentIndex=0;\n\n  PageController pageController=new PageController(initialPage: 0);\n\n\n  @override\n  void initState() {\n    // TODO: implement initState\n    super.initState();\n    slides=getSlides();\n  }\n\n  Widget pageIndexIndicator(bool isCurrentPage) {\n    return Container(\n      margin: EdgeInsets.symmetric(horizontal: 2.0),\n      height: isCurrentPage ? 10.0 : 6.0,\n      width: isCurrentPage ? 10.0 :6.0,\n      decoration: BoxDecoration(\n          color: isCurrentPage ? Colors.grey : Colors.grey[300],\n          borderRadius: BorderRadius.circular(12)\n      ),\n    );\n\n  }\n  @override\n  Widget build(BuildContext context) {\n\n\n    return Scaffold(\n\n      body: PageView.builder(\n\n          controller: pageController,\n          onPageChanged: (val){\n            setState(() {\n              currentIndex=val;\n\n            });\n          },\n          itemCount: slides.length,\n          itemBuilder: (context,index){\n\n            return SliderTile(\n\n\n              ImageAssetPath: slides[index].getImageAssetPath(),\n              title: slides[index].getTile(),\n              desc: slides[index].getDesc(),\n\n\n            );\n          }),\n      bottomSheet: currentIndex != slides.length-1 ? Container(\n        height:  Platform.isIOS ? 70:60,\n        padding: EdgeInsets.symmetric(horizontal: 20),\n        child: Row(\n          mainAxisAlignment: MainAxisAlignment.spaceBetween,\n          children: &lt;Widget&gt;[\n            GestureDetector(\n                onTap: (){\n                  pageController.animateToPage(slides.length-1, duration: Duration(\n                    microseconds: 400,\n                  ), curve: Curves.linear);\n                },\n                child: Text(&quot;Skip&quot;)\n            ),\n            Row(\n              children: &lt;Widget&gt;[\n                for(int i=0;i&lt;slides.length;i++) currentIndex == i ?pageIndexIndicator(true): pageIndexIndicator(false)\n              ],\n            ),\n            GestureDetector(\n                onTap: (){\n                  pageController.animateToPage(currentIndex+1, duration: Duration(\n                      microseconds: 400\n                  ), curve: Curves.linear);\n                },\n                child: Text(&quot;Next&quot;)\n            ),\n          ],\n        ),\n      ) : Container(\n        alignment: Alignment.center,\n        width: MediaQuery.of(context).size.width,\n        height: Platform.isIOS ? 70:60,\n        color: Colors.blue,\n        child:\n        RaisedButton(\n          child: Text(&quot;Get Started Now&quot;,style: TextStyle(\n              color: Colors.white,\n              fontWeight: FontWeight.w300\n          ),\n          ),\n          onPressed: (){\n            MySharedPreferences.instance\n                .setBooleanValue(&quot;isfirstRun&quot;, true);\n\n            Navigator.pushReplacement(\n              context,\n              MaterialPageRoute(builder: (_) =&gt; Login()),\n            );\n          },\n        ),\n\n      ),\n    );\n  }\n}\nclass SliderTile extends StatelessWidget {\n  String ImageAssetPath, title, desc;\n\n  SliderTile({this.ImageAssetPath, this.title, this.desc});\n\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n\n      child: Column(\n        crossAxisAlignment: CrossAxisAlignment.center,\n        mainAxisSize: MainAxisSize.max,\n        mainAxisAlignment: MainAxisAlignment.center,\n\n        children: &lt;Widget&gt;[\n\n          Image.asset(ImageAssetPath),\n          SizedBox(height: 20,),\n          Text(title),\n          SizedBox(height: 12,),\n          Text(desc),\n        ],\n      )\n      ,\n    );\n  }\n}\n</code></pre>\n<p>final step <strong>Login</strong></p>\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:healthtic/user_preferences.dart';\nimport 'profile.dart';\n\nclass Login extends StatefulWidget {\n  @override\n  State&lt;StatefulWidget&gt; createState() {\n    // TODO: implement createState\n    return LoginState();\n  }\n}\n\nclass LoginState extends State&lt;Login&gt; {\n  TextEditingController controllerEmail = new TextEditingController();\n  TextEditingController controllerUserName = new TextEditingController();\n  TextEditingController controllerPassword = new TextEditingController();\n\n  @override\n  Widget build(BuildContext context) {\n\n    final formKey = GlobalKey&lt;FormState&gt;();\n\n    // TODO: implement build\n    return SafeArea(\n      child: Scaffold(\n          body: SingleChildScrollView(\n            child: Container(\n              margin: EdgeInsets.all(25),\n              child: Form(\n                key: formKey,\n                autovalidate: false,\n                child: Column(\n                  mainAxisAlignment: MainAxisAlignment.center,\n                  children: &lt;Widget&gt;[\n                    Row(\n                      mainAxisAlignment: MainAxisAlignment.start,\n                      children: &lt;Widget&gt;[\n                        Text(&quot;Email Id:&quot;, style: TextStyle(fontSize: 18)),\n                        SizedBox(width: 20),\n                        Expanded(\n                          child: TextFormField(\n                            controller: controllerEmail,\n                            decoration: InputDecoration(\n                              hintText: &quot;Please enter email&quot;,\n                            ),\n                            keyboardType: TextInputType.emailAddress,\n                            validator: (value) {\n                              if (value.trim().isEmpty) {\n                                return &quot;Email Id is Required&quot;;\n                              }\n                            },\n                          ),\n                        )\n                      ],\n                    ),\n                    SizedBox(height: 60),\n                    Row(\n                      mainAxisAlignment: MainAxisAlignment.start,\n                      children: &lt;Widget&gt;[\n                        Text(&quot;UserName:&quot;, style: TextStyle(fontSize: 18)),\n                        SizedBox(width: 20),\n                        Expanded(\n                          child: TextFormField(\n                              decoration: InputDecoration(\n                                hintText: &quot;Please enter username&quot;,\n                              ),\n                              validator: (value) {\n                                if (value.trim().isEmpty) {\n                                  return &quot;UserName is Required&quot;;\n                                }\n                              },\n                              controller: controllerUserName),\n                        )\n                      ],\n                    ),\n                    SizedBox(height: 60),\n                    Row(\n                      mainAxisAlignment: MainAxisAlignment.start,\n                      children: &lt;Widget&gt;[\n                        Text(&quot;Password:&quot;, style: TextStyle(fontSize: 18)),\n                        SizedBox(width: 20),\n                        Expanded(\n                          child: TextFormField(\n                              decoration: InputDecoration(\n                                hintText: &quot;Please enter password&quot;,\n                              ),\n                              obscureText: true,\n                              validator: (value) {\n                                if (value.trim().isEmpty) {\n                                  return &quot;Password is Required&quot;;\n                                }\n                              },\n                              controller: controllerPassword),\n                        )\n                      ],\n                    ),\n                    SizedBox(height: 100),\n                    SizedBox(\n                      width: 150,\n                      height: 50,\n                      child: RaisedButton(\n                        color: Colors.grey,\n                        child: Text(&quot;Submit&quot;,\n                            style: TextStyle(color: Colors.white, fontSize: 18)),\n                        onPressed: () {\n                          if(formKey.currentState.validate()) {\n                            var getEmail = controllerEmail.text;\n                            var getUserName = controllerUserName.text;\n                            var getPassword = controllerPassword.text;\n                            \n                            MySharedPreferences.instance\n                                .setBooleanValue(&quot;loggedin&quot;, true);\n\n                            Navigator.pushReplacement(\n                              context,\n                              MaterialPageRoute(builder: (_) =&gt; Profile()),\n                            );\n                          }\n                        },\n                      ),\n                    )\n                  ],\n                ),\n              ),\n            ),\n          )),\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 366, "user_id": 2901007, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/0Gm8T.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/2901007/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8734, "favorite_count": 3, "accepted_answer_id": 44749517, "answer_count": 2, "score": 12, "last_activity_date": 1600867956, "creation_date": 1498335557, "last_edit_date": 1498335906, "question_id": 44740617, "link": "https://stackoverflow.com/questions/44740617/check-if-an-application-is-on-its-first-run-with-flutter", "title": "Check if an application is on its first run with Flutter", "body": "<p>Basically, I want to have a screen/view that will open when the user opens up the app for the first time. This will be a login screen type of thing. </p>\n"}, {"tags": ["ios", "dart", "google-signin", "flutter"], "comments": [{"owner": {"reputation": 8821, "user_id": 997108, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ODSYS.jpg?s=128&g=1", "display_name": "zirinisp", "link": "https://stackoverflow.com/users/997108/zirinisp"}, "edited": false, "score": 1, "creation_date": 1528810118, "post_id": 44740034, "comment_id": 88641913, "body": "I am having the same problem with google sign in 3.0.4"}, {"owner": {"reputation": 2690, "user_id": 5546443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MqHNK.jpg?s=128&g=1", "display_name": "krishnakumarcn", "link": "https://stackoverflow.com/users/5546443/krishnakumarcn"}, "edited": false, "score": 1, "creation_date": 1545278755, "post_id": 44740034, "comment_id": 94572476, "body": "Any solutions found?"}], "answers": [{"comments": [{"owner": {"reputation": 8821, "user_id": 997108, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ODSYS.jpg?s=128&g=1", "display_name": "zirinisp", "link": "https://stackoverflow.com/users/997108/zirinisp"}, "edited": false, "score": 9, "creation_date": 1528810131, "post_id": 44753041, "comment_id": 88641924, "body": "I am having the same problem with google sign in 3.0.4. So I do not believe it was fixed"}], "tags": [], "owner": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "is_accepted": false, "score": 1, "last_activity_date": 1498450568, "creation_date": 1498450568, "answer_id": 44753041, "question_id": 44740034, "link": "https://stackoverflow.com/questions/44740034/how-do-i-catch-flutter-google-sign-in-platformexception/44753041#44753041", "title": "How do I catch Flutter Google sign-in PlatformException?", "body": "<p>I believe this was <a href=\"https://github.com/flutter/plugins/commit/7b0c0a39918de036e064aa7eca450407cc5bb84f#diff-69007229df7209b2d3902192b19516e7\" rel=\"nofollow noreferrer\">fixed</a> in <a href=\"https://pub.dartlang.org/packages/google_sign_in\" rel=\"nofollow noreferrer\">google_sign_in version 0.2.1</a>.</p>\n\n<p>Try putting changing your <code>google_sign_in</code> dependency in your <code>pubspec.yaml</code> to <code>^0.2.1</code> and see if that helps.</p>\n"}], "owner": {"reputation": 271, "user_id": 1280983, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/fe420b8a64a6d1ccd8c1de22cf81e891?s=128&d=identicon&r=PG&f=1", "display_name": "Yaya", "link": "https://stackoverflow.com/users/1280983/yaya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1831, "favorite_count": 0, "answer_count": 1, "score": 14, "last_activity_date": 1589949012, "creation_date": 1498331543, "question_id": 44740034, "link": "https://stackoverflow.com/questions/44740034/how-do-i-catch-flutter-google-sign-in-platformexception", "title": "How do I catch Flutter Google sign-in PlatformException?", "body": "<p>Following the brilliant <a href=\"https://codelabs.developers.google.com/codelabs/flutter-firebase/#0\" rel=\"noreferrer\">Firebase Flutter</a> tutorial, I'm trying to incorporate Google sign-in into my app.</p>\n\n<p>The flow: If not logged in, user will always arrive at login page (via checks at the <code>MaterialApp</code>'s <code>onGenerateRoute</code>), user then presses the Login button and redirected to the Google sign-in flow. However, should the user cancel the flow midway, I'd like to return to the login page, forcing her to press the button again.</p>\n\n<p>I fail to catch the PlatformException for some reason (you can see it in the debugger, and the app hanging in the simulator):\n<a href=\"https://i.stack.imgur.com/mmOdF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/mmOdF.png\" alt=\"the exception in the debugger, the app hangs in the simulator\"></a></p>\n\n<p>The code I'm using:</p>\n\n<pre><code>  Future&lt;bool&gt; logIn() async {\n    print('Login::logIn()');\n    bool loggedIn = await logInSilently();\n    print('Login::logIn() - silent login returned $loggedIn');\n    if (loggedIn == false) {\n      try {\n        await googleSignIn.signIn();\n      } catch (e) {\n        print('Login::logIn() - interactive login failed: $e');\n        return false;\n      }\n    }\n    return true;\n  }\n</code></pre>\n\n<p>The <code>print</code> statement inside the catch block is never printed, and the app hangs. I've upgraded flutter and re-tested before posting the question - the issue is still there.</p>\n\n<p>(To clarify: The \"happy path\" -- i.e. user successfully going through the Google sign-in flow -- <em>works</em>.)</p>\n"}, {"tags": ["json", "dart"], "answers": [{"tags": [], "owner": {"reputation": 1722, "user_id": 2712148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJXes.jpg?s=128&g=1", "display_name": "stwupton", "link": "https://stackoverflow.com/users/2712148/stwupton"}, "is_accepted": true, "score": 3, "last_activity_date": 1498323139, "creation_date": 1498323139, "answer_id": 44738760, "question_id": 44738461, "link": "https://stackoverflow.com/questions/44738461/nosuchmethod-in-dart-for-json-decode/44738760#44738760", "title": "NosuchMethod in dart for JSON.decode", "body": "<p>Firstly, when importing the <code>dart:convert</code> library you are giving it an alias called <code>JSON</code>. Which means you would have to use it like;</p>\n\n<pre><code>JSON.JSON.decode(jsonString);\n</code></pre>\n\n<p>I think you want to use <code>show</code> instead of <code>as</code>. See <a href=\"https://stackoverflow.com/questions/19723063/import-show-vs-as\">this</a> SO question for more details.</p>\n\n<p>The other issue is this line;</p>\n\n<pre><code>final jsonAsString = new File('./text.json').readAsString().then(print);\n</code></pre>\n\n<p>You're not actually assigning a <code>String</code> to that variable because because the <code>.then()</code> method is returning a <code>Future</code>.</p>\n\n<p>Either read the file synchronously;</p>\n\n<pre><code>final jsonAsString = new File('./text.json').readAsStringSync();\nprint(jsonAsString);\nfinal json = JSON.decode(jsonAsString);\nprint('$json');\n</code></pre>\n\n<p>or change it to...</p>\n\n<pre><code>new File('./text.json').readAsString().then((String jsonAsString) {\n  print(jsonAsString);\n  final json = JSON.decode(jsonAsString);\n  print('$json');\n});\n</code></pre>\n"}], "owner": {"reputation": 1155, "user_id": 4983469, "user_type": "registered", "accept_rate": 94, "profile_image": "https://lh6.googleusercontent.com/-btlwMISgi2c/AAAAAAAAAAI/AAAAAAAAAKs/L041fOZBcY0/photo.jpg?sz=128", "display_name": "leoOrion", "link": "https://stackoverflow.com/users/4983469/leoorion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 411, "favorite_count": 0, "accepted_answer_id": 44738760, "answer_count": 1, "score": 0, "last_activity_date": 1498323139, "creation_date": 1498321203, "question_id": 44738461, "link": "https://stackoverflow.com/questions/44738461/nosuchmethod-in-dart-for-json-decode", "title": "NosuchMethod in dart for JSON.decode", "body": "<p>Im trying to parse JSON from a file in dart. I've managed to read the file and print it, but when I try to convert it to JSON, it throws and error.</p>\n\n<p>file.dart:</p>\n\n<pre><code>import 'dart:convert' as JSON;\nimport 'dart:io';\n\nmain() {\n    final jsonAsString = new File('./text.json').readAsString().then(print); //Successful printing of json\n    final json = JSON.decode(jsonAsString);\n\n\n    print('$json');\n}\n</code></pre>\n\n<p>Error: </p>\n\n<pre><code>Unhandled exception:\nNoSuchMethodError: No top-level method 'JSON.decode' declared.\nReceiver: top-level\nTried calling: JSON.decode(Instance of '_Future')\n#0      NoSuchMethodError._throwNew (dart:core-patch/errors_patch.dart:196)\n#1      main (file:///Users/ninanjohn/Trials/dartTrials/stubVerifier.dart:7:15)\n#2      _startIsolate.&lt;anonymous closure&gt; (dart:isolate-patch/isolate_patch.dart:265)\n#3      _RawReceivePortImpl._handleMessage (dart:isolate-patch/isolate_patch.dart:151)\n</code></pre>\n\n<p>What am I missing or doing wrong here?</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 7736, "user_id": 2744242, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/71d3267f5993b6b79619213c789524b5?s=128&d=identicon&r=PG&f=1", "display_name": "rafaelcb21", "link": "https://stackoverflow.com/users/2744242/rafaelcb21"}, "edited": false, "score": 0, "creation_date": 1498250456, "post_id": 44729570, "comment_id": 76442024, "body": "But if I have 3 <code>FlatButton</code> each one sends a color, how do I step each color specified by the push?"}, {"owner": {"reputation": 4059, "user_id": 5832842, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/656131bd44fe54e1d5ff70048310807c?s=128&d=identicon&r=PG&f=1", "display_name": "Bram  Vanbilsen", "link": "https://stackoverflow.com/users/5832842/bram-vanbilsen"}, "reply_to_user": {"reputation": 7736, "user_id": 2744242, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/71d3267f5993b6b79619213c789524b5?s=128&d=identicon&r=PG&f=1", "display_name": "rafaelcb21", "link": "https://stackoverflow.com/users/2744242/rafaelcb21"}, "edited": false, "score": 0, "creation_date": 1498250500, "post_id": 44729570, "comment_id": 76442049, "body": "The onPressed method would look like this: onPressed: () {   color = &quot;myNewColor&quot;   Navigator.of(context).pushNamed(&#39;/conta&#39;); },"}, {"owner": {"reputation": 4059, "user_id": 5832842, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/656131bd44fe54e1d5ff70048310807c?s=128&d=identicon&r=PG&f=1", "display_name": "Bram  Vanbilsen", "link": "https://stackoverflow.com/users/5832842/bram-vanbilsen"}, "reply_to_user": {"reputation": 7736, "user_id": 2744242, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/71d3267f5993b6b79619213c789524b5?s=128&d=identicon&r=PG&f=1", "display_name": "rafaelcb21", "link": "https://stackoverflow.com/users/2744242/rafaelcb21"}, "edited": false, "score": 0, "creation_date": 1498250580, "post_id": 44729570, "comment_id": 76442088, "body": "You simply change the color in the onPressed function before you navigate."}, {"owner": {"reputation": 1116, "user_id": 361211, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/ef9341ba2f30559a2d8c6dc1621b9d38?s=128&d=identicon&r=PG", "display_name": "Agreensh", "link": "https://stackoverflow.com/users/361211/agreensh"}, "edited": false, "score": 1, "creation_date": 1517481944, "post_id": 44729570, "comment_id": 84117242, "body": "Surely you can&#39;t change the color as its static?"}], "tags": [], "owner": {"reputation": 4059, "user_id": 5832842, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/656131bd44fe54e1d5ff70048310807c?s=128&d=identicon&r=PG&f=1", "display_name": "Bram  Vanbilsen", "link": "https://stackoverflow.com/users/5832842/bram-vanbilsen"}, "is_accepted": false, "score": 6, "last_activity_date": 1498250200, "creation_date": 1498250200, "answer_id": 44729570, "question_id": 44729512, "link": "https://stackoverflow.com/questions/44729512/flutter-push-and-get-value-between-routes/44729570#44729570", "title": "Flutter - Push and Get value between routes", "body": "<p>You could always make a static variable String with green as it's value in your HomePage and use that value in your routes when you are creating a new ContaPage. Something like this:</p>\n\n<pre><code>import \"package:flutter/material.dart\";\n\nvoid main() {\n  runApp(new MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      title: \"MyApp\",\n      home: new HomePage(),\n      routes: &lt;String, WidgetBuilder&gt; {\n        '/home': (BuildContext context) =&gt; new HomePage(),\n        '/conta': (BuildContext context) =&gt; new ContaPage(HomePage.color)\n      },\n    );\n  }\n}\n\nclass HomePage extends StatelessWidget {\n\n  static String color = \"green\";\n\n  @override\n  Widget build(BuildContext context) =&gt; new Scaffold(\n    appBar: new AppBar(\n      backgroundColor: new Color(0xFF26C6DA),\n    ),\n    body: new ListView  (\n      children: &lt;Widget&gt;[\n        new FlatButton(\n          child: new Text(\"ok\"),\n          textColor: new Color(0xFF66BB6A),               \n          onPressed: () {\n            Navigator.of(context).pushNamed('/conta');\n          },\n        ),\n      ],\n    )\n  );\n}\n\nclass ContaPage extends StatelessWidget {\n\n  ContaPage({this.color})\n  String color;\n\n  @override\n  Widget build(BuildContext context) =&gt; new Scaffold(\n    appBar: new AppBar(\n      backgroundColor: new Color(0xFF26C6DA),\n    ), \n  );\n}\n</code></pre>\n\n<p>There is probably better solutions but this popped into my head first :)</p>\n"}, {"comments": [{"owner": {"reputation": 7736, "user_id": 2744242, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/71d3267f5993b6b79619213c789524b5?s=128&d=identicon&r=PG&f=1", "display_name": "rafaelcb21", "link": "https://stackoverflow.com/users/2744242/rafaelcb21"}, "edited": false, "score": 1, "creation_date": 1498250961, "post_id": 44729625, "comment_id": 76442249, "body": "Is the process the same if it is <code>popAndPushNamed</code>?"}, {"owner": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "reply_to_user": {"reputation": 7736, "user_id": 2744242, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/71d3267f5993b6b79619213c789524b5?s=128&d=identicon&r=PG&f=1", "display_name": "rafaelcb21", "link": "https://stackoverflow.com/users/2744242/rafaelcb21"}, "edited": false, "score": 1, "creation_date": 1498251038, "post_id": 44729625, "comment_id": 76442279, "body": "Just call <code>Navigator.pop(context)</code> and then <code>Navigator.push(context, ...)</code>. It does the same thing."}], "tags": [], "owner": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "is_accepted": true, "score": 23, "last_activity_date": 1498250484, "creation_date": 1498250484, "answer_id": 44729625, "question_id": 44729512, "link": "https://stackoverflow.com/questions/44729512/flutter-push-and-get-value-between-routes/44729625#44729625", "title": "Flutter - Push and Get value between routes", "body": "<p>You can create a <code>MaterialPageRoute</code> on demand and pass the argument to the <code>ContaPage</code> constructor.</p>\n\n<pre><code>import \"package:flutter/material.dart\";\n\nvoid main() {\n  runApp(new MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      title: \"MyApp\",\n      home: new HomePage(),\n    );\n  }\n}\n\nclass HomePage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) =&gt; new Scaffold(\n    appBar: new AppBar(\n      backgroundColor: new Color(0xFF26C6DA),\n    ),\n    body: new ListView  (\n      children: &lt;Widget&gt;[\n        new FlatButton(\n          child: new Text(\"ok\"),\n          textColor: new Color(0xFF66BB6A),\n          onPressed: () {\n            Navigator.push(context, new MaterialPageRoute(\n              builder: (BuildContext context) =&gt; new ContaPage(new Color(0xFF66BB6A)),\n            ));\n          },\n        ),\n      ],\n    )\n  );\n}\n\nclass ContaPage extends StatelessWidget {\n  ContaPage(this.color);\n  final Color color;\n  @override\n  Widget build(BuildContext context) =&gt; new Scaffold(\n    appBar: new AppBar(\n      backgroundColor: color,\n    ),\n  );\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4018, "user_id": 2022000, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/o8sqE.jpg?s=128&g=1", "display_name": "Anuj Sharma", "link": "https://stackoverflow.com/users/2022000/anuj-sharma"}, "edited": false, "score": 0, "creation_date": 1536046826, "post_id": 51902244, "comment_id": 91271891, "body": "What if I&#39;m having json Object then how can I send ?? I&#39;m trying this navigateTo(context, &#39;/detail_screen/$propertyObj&#39;,               transition: TransitionType.native); but having no luck. Its giving error on NextScreen."}, {"owner": {"reputation": 434, "user_id": 7393754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36122ebdb8879bb50876c13728003f48?s=128&d=identicon&r=PG", "display_name": "karianpour", "link": "https://stackoverflow.com/users/7393754/karianpour"}, "reply_to_user": {"reputation": 4018, "user_id": 2022000, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/o8sqE.jpg?s=128&g=1", "display_name": "Anuj Sharma", "link": "https://stackoverflow.com/users/2022000/anuj-sharma"}, "edited": false, "score": 0, "creation_date": 1537101516, "post_id": 51902244, "comment_id": 91653018, "body": "@AnujSharma, try <code>json.encode</code> and <code>json.decode</code>. Actually what I mean is to send the json as a string."}, {"owner": {"reputation": 1450, "user_id": 7784230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5248e600744cd2c04080634b1bc9a9f?s=128&d=identicon&r=PG&f=1", "display_name": "Hemant Kaushik", "link": "https://stackoverflow.com/users/7784230/hemant-kaushik"}, "reply_to_user": {"reputation": 4018, "user_id": 2022000, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/o8sqE.jpg?s=128&g=1", "display_name": "Anuj Sharma", "link": "https://stackoverflow.com/users/2022000/anuj-sharma"}, "edited": false, "score": 0, "creation_date": 1555564620, "post_id": 51902244, "comment_id": 98156303, "body": "@AnujSharma you can try <a href=\"https://stackoverflow.com/a/55325051/7784230\">stackoverflow.com/a/55325051/7784230</a> if it is not solved yet."}], "tags": [], "owner": {"reputation": 434, "user_id": 7393754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36122ebdb8879bb50876c13728003f48?s=128&d=identicon&r=PG", "display_name": "karianpour", "link": "https://stackoverflow.com/users/7393754/karianpour"}, "is_accepted": false, "score": 2, "last_activity_date": 1534536549, "creation_date": 1534536549, "answer_id": 51902244, "question_id": 44729512, "link": "https://stackoverflow.com/questions/44729512/flutter-push-and-get-value-between-routes/51902244#51902244", "title": "Flutter - Push and Get value between routes", "body": "<p>It is a bit late, but it might help some one. I think the best way is to use flutter route project <a href=\"https://github.com/theyakka/fluro\" rel=\"nofollow noreferrer\">fluro</a>.</p>\n\n<p>define some where globally:</p>\n\n<pre><code>final router = Router();\n</code></pre>\n\n<p>after that define the routes</p>\n\n<pre><code>var contaHandler = Handler(handlerFunc: (BuildContext context, Map&lt;String, dynamic&gt; params) {\n  return ContaPage(color: params[\"color\"][0]);\n});\n\nvoid defineRoutes(Router router) {\n  router.define(\"/conta/:color\", handler: contaHandler);\n}\n</code></pre>\n\n<p>set the <code>onGenerateRoute</code> in <code>MaterialApp</code> to use the router generator:</p>\n\n<pre><code> new MaterialApp (\n   ...\n   nGenerateRoute: router.generator\n   ...\n ),\n</code></pre>\n\n<p>you have to add the fluro in the dependencies :</p>\n\n<pre><code> dependencies:\n     fluro: \"^1.3.4\"\n</code></pre>\n\n<p>and do the package upgrade by the following or the IDE way.</p>\n\n<pre><code> flutter packages upgrade\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 854, "user_id": 1870517, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/4alSy.jpg?s=128&g=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/1870517/nicolas"}, "edited": false, "score": 1, "creation_date": 1553858385, "post_id": 55325051, "comment_id": 97551454, "body": "This is the only solution it worked for me. The examples I saw in the flutter page involved the use of <code>onGeneratedRoute</code>, but that event was never called in my case when pushing the named route."}], "tags": [], "owner": {"reputation": 1450, "user_id": 7784230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5248e600744cd2c04080634b1bc9a9f?s=128&d=identicon&r=PG&f=1", "display_name": "Hemant Kaushik", "link": "https://stackoverflow.com/users/7784230/hemant-kaushik"}, "is_accepted": false, "score": 7, "last_activity_date": 1553439206, "creation_date": 1553439206, "answer_id": 55325051, "question_id": 44729512, "link": "https://stackoverflow.com/questions/44729512/flutter-push-and-get-value-between-routes/55325051#55325051", "title": "Flutter - Push and Get value between routes", "body": "<p>A better solution is already given on Flutter website, how to use:</p>\n\n<p><strong>Arguments</strong></p>\n\n<pre><code>class ScreenArguments {\n  final String title;\n  final String message;\n\n  ScreenArguments(this.title, this.message);\n}\n</code></pre>\n\n<p><strong>Extract arguments</strong></p>\n\n<pre><code>class ExtractArgumentsScreen extends StatelessWidget {\n  static const routeName = '/extractArguments';\n\n  @override\n  Widget build(BuildContext context) {\n    final ScreenArguments args = ModalRoute.of(context).settings.arguments;\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(args.title),\n      ),\n      body: Center(\n        child: Text(args.message),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p><strong>Register Route</strong></p>\n\n<pre><code>MaterialApp(\n  //...\n  routes: {\n    ExtractArgumentsScreen.routeName: (context) =&gt; ExtractArgumentsScreen(),\n    //...\n  },     \n);\n</code></pre>\n\n<p><strong>Navigate</strong></p>\n\n<pre><code>Navigator.pushNamed(\n      context,\n      ExtractArgumentsScreen.routeName,\n      arguments: ScreenArguments(\n        'Extract Arguments Screen',\n        'This message is extracted in the build method.',\n      ),\n    );\n</code></pre>\n\n<blockquote>\n  <p>Code copied from <a href=\"https://flutter.dev/docs/cookbook/navigation/navigate-with-arguments\" rel=\"noreferrer\">link</a>.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 103440, "user_id": 6618622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z7q0p.jpg?s=128&g=1", "display_name": "CopsOnRoad", "link": "https://stackoverflow.com/users/6618622/copsonroad"}, "is_accepted": false, "score": 2, "last_activity_date": 1565788467, "creation_date": 1565788467, "answer_id": 57495489, "question_id": 44729512, "link": "https://stackoverflow.com/questions/44729512/flutter-push-and-get-value-between-routes/57495489#57495489", "title": "Flutter - Push and Get value between routes", "body": "<p><strong>Passing data from 1st Page to 2nd</strong> </p>\n\n<p>In 1st page</p>\n\n<pre><code>// sending \"Foo\" from 1st page\nNavigator.push(context, MaterialPageRoute(builder: (_) =&gt; Page2(\"Foo\")));\n</code></pre>\n\n<p>In 2nd page. </p>\n\n<pre><code>class Page2 extends StatelessWidget {\n  final String string;\n  Page2(this.string); // receiving \"Foo\" in 2nd\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Passing data back from 2nd Page back to 1st</strong> </p>\n\n<p>In 2nd page</p>\n\n<pre><code>// sending \"Bar\" from 2nd\nNavigator.pop(context, \"Bar\");\n</code></pre>\n\n<p>In 1st page, it is the same which was used earlier but with little modification. </p>\n\n<pre><code>// receiving \"Bar\" in 1st\nString received = await Navigator.push(context, MaterialPageRoute(builder: (_) =&gt; Page2(\"Foo\")));\n</code></pre>\n"}], "owner": {"reputation": 7736, "user_id": 2744242, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/71d3267f5993b6b79619213c789524b5?s=128&d=identicon&r=PG&f=1", "display_name": "rafaelcb21", "link": "https://stackoverflow.com/users/2744242/rafaelcb21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23210, "favorite_count": 6, "accepted_answer_id": 44729625, "answer_count": 5, "score": 20, "last_activity_date": 1565788467, "creation_date": 1498249824, "question_id": 44729512, "link": "https://stackoverflow.com/questions/44729512/flutter-push-and-get-value-between-routes", "title": "Flutter - Push and Get value between routes", "body": "<p>How do I send the green string from the HomePage page to the ContaPage page?</p>\n\n<p>I think it's so <code>Navigator.of(context).pushNamed('/conta/green');</code> but I do not know how to get in the page <code>conta</code> the <code>green</code> string</p>\n\n<p>So, by getting the value of the string I can for example change the color of the backgroundColor of <code>appBar</code> in <code>ContaPage</code>.</p>\n\n<p><strong>main.dart</strong></p>\n\n<pre><code>import \"package:flutter/material.dart\";\n\nvoid main() {\n  runApp(new MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      title: \"MyApp\",\n      home: new HomePage(),\n      routes: &lt;String, WidgetBuilder&gt; {\n        '/home': (BuildContext context) =&gt; new HomePage(),\n        '/conta': (BuildContext context) =&gt; new ContaPage()\n      },\n    );\n  }\n}\n\nclass HomePage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) =&gt; new Scaffold(\n    appBar: new AppBar(\n      backgroundColor: new Color(0xFF26C6DA),\n    ),\n    body: new ListView  (\n      children: &lt;Widget&gt;[\n        new FlatButton(\n          child: new Text(\"ok\"),\n          textColor: new Color(0xFF66BB6A),               \n          onPressed: () {\n            Navigator.of(context).pushNamed('/conta');\n          },\n        ),\n      ],\n    )\n  );\n}\n\nclass ContaPage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) =&gt; new Scaffold(\n    appBar: new AppBar(\n      backgroundColor: new Color(0xFF26C6DA),\n    ), \n  );\n}\n</code></pre>\n"}, {"tags": ["ios", "dart", "flutter", "xcode8"], "answers": [{"comments": [{"owner": {"reputation": 271, "user_id": 1280983, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/fe420b8a64a6d1ccd8c1de22cf81e891?s=128&d=identicon&r=PG&f=1", "display_name": "Yaya", "link": "https://stackoverflow.com/users/1280983/yaya"}, "edited": false, "score": 0, "creation_date": 1498293577, "post_id": 44725688, "comment_id": 76450848, "body": "Upgrading solved the issue, as suggested. Thanks. Apparently, I should upgrade more often than once per week - this is really bleeding edge."}], "tags": [], "owner": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "is_accepted": true, "score": 2, "last_activity_date": 1498233669, "creation_date": 1498233669, "answer_id": 44725688, "question_id": 44721146, "link": "https://stackoverflow.com/questions/44721146/how-to-disable-mach-msg-trap-breakpoint-xcode-8-3/44725688#44725688", "title": "How to disable mach_msg_trap breakpoint xcode 8.3?", "body": "<p>I believe this has been <a href=\"https://github.com/flutter/flutter/issues/10358\" rel=\"nofollow noreferrer\">fixed</a> on master. Try upgrading.</p>\n\n<p>Or you can add this to your app delegate:</p>\n\n<pre><code> signal(SIGPIPE, SIG_IGN);\n</code></pre>\n"}], "owner": {"reputation": 271, "user_id": 1280983, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/fe420b8a64a6d1ccd8c1de22cf81e891?s=128&d=identicon&r=PG&f=1", "display_name": "Yaya", "link": "https://stackoverflow.com/users/1280983/yaya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 682, "favorite_count": 0, "accepted_answer_id": 44725688, "answer_count": 1, "score": 1, "last_activity_date": 1498233669, "creation_date": 1498219846, "last_edit_date": 1498220207, "question_id": 44721146, "link": "https://stackoverflow.com/questions/44721146/how-to-disable-mach-msg-trap-breakpoint-xcode-8-3", "title": "How to disable mach_msg_trap breakpoint xcode 8.3?", "body": "<p>When I run my Flutter Dart app from XCode on a connected iPhone, XCode breaks multiple times on any user interaction on SIGPIPE in \"libsystem_kernel.dylib`mach_msg_trap\".</p>\n\n<p>Neither the breakpoint navigator in XCode nor <code>breakpoint list</code> in <code>lldb</code> show any breakpoints, so I cannot disable this.</p>\n\n<p>How can I either disable this strange breakpoint or workaround the issue by telling XCode to always continue execution when it happens? Thanks.</p>\n"}, {"tags": ["dart", "flutter", "floating-action-button", "center-align"], "answers": [{"tags": [], "owner": {"reputation": 7736, "user_id": 2744242, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/71d3267f5993b6b79619213c789524b5?s=128&d=identicon&r=PG&f=1", "display_name": "rafaelcb21", "link": "https://stackoverflow.com/users/2744242/rafaelcb21"}, "is_accepted": false, "score": 0, "last_activity_date": 1498199535, "creation_date": 1498199535, "answer_id": 44714526, "question_id": 44713501, "link": "https://stackoverflow.com/questions/44713501/flutter-floatingactionbutton-in-the-center/44714526#44714526", "title": "Flutter - FloatingActionButton in the center", "body": "<p>I modified the code, now the button is in the bottom center but I do not know if it will always stay in the bottom, regardless of the size of the screen.</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'number.dart';\nimport 'keyboard.dart';\n\nclass ContaPage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) =&gt; new Scaffold(\n    body: new Column(\n      children: &lt;Widget&gt;[\n        new Number(),\n        new Keyboard(),\n        new Stack(\n          alignment: new FractionalOffset(0.5, 1.0),\n          children: &lt;Widget&gt;[\n            new FloatingActionButton(\n              elevation: 0.0,\n              child: new Icon(Icons.check),\n              backgroundColor: new Color(0xFFE57373),\n              onPressed: (){}\n            )\n          ],\n        )\n      ],\n    ), \n  );\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/PpyDt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PpyDt.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 7736, "user_id": 2744242, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/71d3267f5993b6b79619213c789524b5?s=128&d=identicon&r=PG&f=1", "display_name": "rafaelcb21", "link": "https://stackoverflow.com/users/2744242/rafaelcb21"}, "edited": false, "score": 0, "creation_date": 1498234162, "post_id": 44725787, "comment_id": 76433912, "body": "But where In floatingActionButton or in body?"}, {"owner": {"reputation": 7736, "user_id": 2744242, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/71d3267f5993b6b79619213c789524b5?s=128&d=identicon&r=PG&f=1", "display_name": "rafaelcb21", "link": "https://stackoverflow.com/users/2744242/rafaelcb21"}, "edited": false, "score": 0, "creation_date": 1498234452, "post_id": 44725787, "comment_id": 76434075, "body": "I try in floatingActionButton propertie the new Center wrap the new FloatingActionButton, the button is approximately in the center of the screen, and not in the center at the bottom of the screen"}, {"owner": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "reply_to_user": {"reputation": 7736, "user_id": 2744242, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/71d3267f5993b6b79619213c789524b5?s=128&d=identicon&r=PG&f=1", "display_name": "rafaelcb21", "link": "https://stackoverflow.com/users/2744242/rafaelcb21"}, "edited": false, "score": 0, "creation_date": 1498234500, "post_id": 44725787, "comment_id": 76434092, "body": "Make it the last element of a Column. You can also use a crossAxisAlignment of CrossAxisAlignment.center on your Column instead"}, {"owner": {"reputation": 105, "user_id": 14335655, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EMeW4PvQZ-Y/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf6kW0De2vjqiJI3dJB40kl-jtlWA/photo.jpg?sz=128", "display_name": "Karolina Hageg&#229;rd", "link": "https://stackoverflow.com/users/14335655/karolina-hageg%c3%a5rd"}, "edited": false, "score": 0, "creation_date": 1615883884, "post_id": 44725787, "comment_id": 117822767, "body": "This answer is wrong! The <code>floatingActionButton</code> property of the <code>Scaffold()</code> widget is not in ANY way influenced by the <code>mainAxisAlignment</code> property of the <code>Column()</code> widget which is in the <code>body</code> property! Luckily... It would be very annoying if those two parts of the <code>Scaffold()</code> couldn&#39;t be managed separately."}], "tags": [], "owner": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "is_accepted": true, "score": 8, "last_activity_date": 1498234633, "last_edit_date": 1498234633, "creation_date": 1498233952, "answer_id": 44725787, "question_id": 44713501, "link": "https://stackoverflow.com/questions/44713501/flutter-floatingactionbutton-in-the-center/44725787#44725787", "title": "Flutter - FloatingActionButton in the center", "body": "<p>Try wrapping it in a <code>Center</code> widget or use a <code>crossAxisAlignment</code> of <code>CrossAxisAlignment.center</code> on your <code>Column</code>.</p>\n\n<p>You should pick one part of your <code>Column</code> to be wrapped in a <code>Flexible</code> that will collapse to avoid overflow, or replace some or all of it with a <code>ListView</code> so users can scroll to see the parts that are hidden.</p>\n"}, {"tags": [], "owner": {"reputation": 7736, "user_id": 2744242, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/71d3267f5993b6b79619213c789524b5?s=128&d=identicon&r=PG&f=1", "display_name": "rafaelcb21", "link": "https://stackoverflow.com/users/2744242/rafaelcb21"}, "is_accepted": false, "score": 1, "last_activity_date": 1498242861, "creation_date": 1498242861, "answer_id": 44727940, "question_id": 44713501, "link": "https://stackoverflow.com/questions/44713501/flutter-floatingactionbutton-in-the-center/44727940#44727940", "title": "Flutter - FloatingActionButton in the center", "body": "<p>By changing the logic to use crossAxisAlignment, the mainAxisAlignment and the Flexible the FloatingActionButton were centered at the bottom of the screen</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'number.dart';\nimport 'keyboard.dart';\n\nclass ContaPage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) =&gt; new Scaffold(\n    body: new Column(\n      crossAxisAlignment: CrossAxisAlignment.center,\n      mainAxisAlignment: MainAxisAlignment.spaceBetween,       \n      children: &lt;Widget&gt;[\n        new Number(),\n        new Keyboard(),\n        new Flexible(\n          child: new Container(\n            padding: new EdgeInsets.only(bottom: 16.0),\n            child: new FloatingActionButton(\n              elevation: 0.0,\n              child: new Icon(Icons.check),\n              backgroundColor: new Color(0xFFE57373),\n              onPressed: (){}\n            )\n          )         \n        )\n      ],\n    ), \n  );\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2757, "user_id": 1042144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d1bc195cf067a719735316e970a5449?s=128&d=identicon&r=PG", "display_name": "Brian Kung", "link": "https://stackoverflow.com/users/1042144/brian-kung"}, "is_accepted": false, "score": 104, "last_activity_date": 1523497412, "last_edit_date": 1523497412, "creation_date": 1523389195, "answer_id": 49761700, "question_id": 44713501, "link": "https://stackoverflow.com/questions/44713501/flutter-floatingactionbutton-in-the-center/49761700#49761700", "title": "Flutter - FloatingActionButton in the center", "body": "<p>I don't know if this was added since this question was first answered, but there's now <code>floatingActionButtonLocation</code> property on the <code>Scaffold</code> class.</p>\n\n<p>It would work like this in your original question:</p>\n\n<pre><code>class ContaPage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) =&gt; new Scaffold(\n    // ...\n\n    floatingActionButton: new FloatingActionButton(\n      // ...FloatingActionButton properties...\n    ),\n\n    // Here's the new attribute:\n\n    floatingActionButtonLocation: FloatingActionButtonLocation.centerFloat,\n  );\n}\n</code></pre>\n\n<p>Also see the documentation:</p>\n\n<ul>\n<li><code>Scaffold</code> class (search <code>floatingActionButtonLocation</code>): <a href=\"https://docs.flutter.io/flutter/material/Scaffold-class.html\" rel=\"noreferrer\">https://docs.flutter.io/flutter/material/Scaffold-class.html</a></li>\n<li>...and the <code>FloatingActionButtonLocation</code> class: <a href=\"https://docs.flutter.io/flutter/material/FloatingActionButtonLocation-class.html\" rel=\"noreferrer\">https://docs.flutter.io/flutter/material/FloatingActionButtonLocation-class.html</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 19333, "user_id": 4511702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8D658.jpg?s=128&g=1", "display_name": "Raouf Rahiche", "link": "https://stackoverflow.com/users/4511702/raouf-rahiche"}, "is_accepted": false, "score": 32, "last_activity_date": 1531242125, "creation_date": 1531242125, "answer_id": 51270724, "question_id": 44713501, "link": "https://stackoverflow.com/questions/44713501/flutter-floatingactionbutton-in-the-center/51270724#51270724", "title": "Flutter - FloatingActionButton in the center", "body": "<p>With the new flutter API you do that very easily just change the <code>floatingActionButtonLocation</code> property in the Scaffold to </p>\n\n<pre><code>FloatingActionButtonLocation.centerFloat\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/RF4HN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/RF4HN.png\" alt=\"enter image description here\"></a></p>\n\n<blockquote>\n  <p>Example :</p>\n</blockquote>\n\n<pre><code>return new Scaffold(\n  floatingActionButton: new FloatingActionButton(\n    child: const Icon(Icons.add),\n  ),\n  floatingActionButtonLocation:    \n      FloatingActionButtonLocation.centerFloat,\n  bottomNavigationBar: new BottomAppBar(\n    color: Colors.white,\n    child: new Row(...),\n  ),\n);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 1081153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68d24eccca2990a7210fc1685783b751?s=128&d=identicon&r=PG", "display_name": "sam", "link": "https://stackoverflow.com/users/1081153/sam"}, "is_accepted": false, "score": 4, "last_activity_date": 1551601784, "creation_date": 1551601784, "answer_id": 54966946, "question_id": 44713501, "link": "https://stackoverflow.com/questions/44713501/flutter-floatingactionbutton-in-the-center/54966946#54966946", "title": "Flutter - FloatingActionButton in the center", "body": "<p>You can use Container and Align widgets as below:</p>\n\n<pre><code>@override\nWidget build(BuildContext context) {\n    return new Scaffold(\n      body: Center(\n\n      ),\n      floatingActionButton: Container(\n        padding: EdgeInsets.only(bottom: 100.0),\n        child: Align(\n          alignment: Alignment.bottomCenter,\n          child: FloatingActionButton.extended(\n            onPressed: _getPhoneAuthResult,\n            icon: Icon(Icons.phone_android),\n            label: Text(\"Authenticate using Phone\"),\n          ),\n        ),\n      ),\n      floatingActionButtonLocation: FloatingActionButtonLocation.centerFloat,\n    );\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 694, "user_id": 11157840, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-smKSiXTNiig/AAAAAAAAAAI/AAAAAAAAAA0/ePkf3_FNfnU/photo.jpg?sz=128", "display_name": "Tushar Nikam", "link": "https://stackoverflow.com/users/11157840/tushar-nikam"}, "is_accepted": false, "score": 3, "last_activity_date": 1578464496, "creation_date": 1578464496, "answer_id": 59640390, "question_id": 44713501, "link": "https://stackoverflow.com/questions/44713501/flutter-floatingactionbutton-in-the-center/59640390#59640390", "title": "Flutter - FloatingActionButton in the center", "body": "<p>after end of the floating action button widget, you can Use <code>floatingActionButtonLocation: FloatingActionButtonLocation.centerFloat,</code></p>\n\n<p>For Example</p>\n\n<pre><code>   import 'dart:io';\nimport 'package:flutter/material.dart';\nimport 'package:image_picker/image_picker.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatefulWidget {\n  @override\n  _MyAppState createState() =&gt; _MyAppState();\n}\n\nclass _MyAppState extends State&lt;MyApp&gt; {\n  File _image;\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      theme: ThemeData.dark(),\n      title: \"Camera App\",\n      home: Scaffold(\n        appBar: AppBar(\n          title: Text(\"Camera App\"),\n        ),\n        body: Center(\n          child: Center(\n            child: _image == null\n                ? Text('No image selected.')\n                : Image.file(_image,\n                alignment: Alignment.topLeft,\n                ),\n          ),\n        ),\n        floatingActionButton: FloatingActionButton(\n          elevation: 50,\n          hoverColor: Colors.red,\n          autofocus: true,\n          onPressed: () {\n            imagepicker();\n          },\n          child: Icon(Icons.camera_alt),\n          tooltip: 'Pick Image',\n        ),\n         floatingActionButtonLocation: FloatingActionButtonLocation.centerFloat,\n      ),\n    );\n  }\n\n  Future imagepicker() async {\n    var image = await ImagePicker.pickImage(source: ImageSource.gallery);\n    setState(() {\n      _image = image;\n    });\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 79, "user_id": 12450498, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-93j__gEtCZU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcH6NnVRI6hng77uidRig-M5ozcrg/photo.jpg?sz=128", "display_name": "Dulya Perera", "link": "https://stackoverflow.com/users/12450498/dulya-perera"}, "is_accepted": false, "score": 4, "last_activity_date": 1582343289, "creation_date": 1582343289, "answer_id": 60348836, "question_id": 44713501, "link": "https://stackoverflow.com/questions/44713501/flutter-floatingactionbutton-in-the-center/60348836#60348836", "title": "Flutter - FloatingActionButton in the center", "body": "<pre><code>Align(\n                      alignment: Alignment.center,\n                      child: Container(\n                        child: FloatingActionButton(\n                          hoverColor: Colors.black,\n                          elevation: 10,\n                          onPressed: () {},\n                          backgroundColor: Colors.pink,\n                          child: Icon(Icons.add,),\n                          shape: RoundedRectangleBorder(\n                              borderRadius: BorderRadius.all(Radius.circular(20.0))),\n                        ),\n                      ),\n                    ),\n</code></pre>\n\n<p>Here I used \"Align\" widget to make the FloatingActionButton center. <a href=\"https://i.stack.imgur.com/HgF0h.png\" rel=\"nofollow noreferrer\">You can see it here.</a></p>\n"}, {"tags": [], "owner": {"reputation": 646, "user_id": 8008095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0e6b75408d5c4e3adf73d4a7140d1d4?s=128&d=identicon&r=PG&f=1", "display_name": "Ashraful", "link": "https://stackoverflow.com/users/8008095/ashraful"}, "is_accepted": false, "score": 14, "last_activity_date": 1592982702, "creation_date": 1592982702, "answer_id": 62549609, "question_id": 44713501, "link": "https://stackoverflow.com/questions/44713501/flutter-floatingactionbutton-in-the-center/62549609#62549609", "title": "Flutter - FloatingActionButton in the center", "body": "<p>Use the Property <strong>floatingActionButtonLocation</strong> of <strong>scaffold</strong> class.</p>\n<p><strong>floatingActionButtonLocation: FloatingActionButtonLocation.centerFloat,</strong></p>\n<p>Full Example:</p>\n<pre><code>import 'package:flutter/material.dart';\n\nfinal Color darkBlue = Color.fromARGB(255, 18, 32, 47);\n\nvoid main() {\n  runApp(MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      theme: ThemeData.dark().copyWith(scaffoldBackgroundColor: darkBlue),\n      debugShowCheckedModeBanner: false,\n      home: HomePage()\n    );\n  }\n}\n\nclass HomePage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(),\n      body: Container(child: Center(child: Text('Hello World')),),\n      floatingActionButton: FloatingActionButton(\n        onPressed: () {},\n        child: Icon(Icons.camera, color: Colors.white, size: 29,),\n        backgroundColor: Colors.black,\n        tooltip: 'Capture Picture',\n        elevation: 5,\n        splashColor: Colors.grey,\n      ),\n      floatingActionButtonLocation: FloatingActionButtonLocation.centerFloat,\n    );\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 386, "user_id": 11120516, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CY5xFv5F1d0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdf4iauscTr5R0hC5LyVPI9YS8LXg/mo/photo.jpg?sz=128", "display_name": "Athira Reddy", "link": "https://stackoverflow.com/users/11120516/athira-reddy"}, "is_accepted": false, "score": 4, "last_activity_date": 1613699700, "creation_date": 1613699700, "answer_id": 66270728, "question_id": 44713501, "link": "https://stackoverflow.com/questions/44713501/flutter-floatingactionbutton-in-the-center/66270728#66270728", "title": "Flutter - FloatingActionButton in the center", "body": "<p><a href=\"https://i.stack.imgur.com/WghJz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WghJz.png\" alt=\"floatingActionButton center\" /></a></p>\n<pre><code>floatingActionButtonLocation: FloatingActionButtonLocation.centerFloat,\n</code></pre>\n<p>Use this property with floatingActionButtonLocation property in Scaffold.</p>\n<p><a href=\"https://androidride.com/floating-action-button-flutter-example/\" rel=\"nofollow noreferrer\">FloatingActionButton Flutter - More Details</a></p>\n"}], "owner": {"reputation": 7736, "user_id": 2744242, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/71d3267f5993b6b79619213c789524b5?s=128&d=identicon&r=PG&f=1", "display_name": "rafaelcb21", "link": "https://stackoverflow.com/users/2744242/rafaelcb21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82220, "favorite_count": 7, "accepted_answer_id": 44725787, "answer_count": 10, "score": 31, "last_activity_date": 1617714562, "creation_date": 1498194761, "last_edit_date": 1566400052, "question_id": 44713501, "link": "https://stackoverflow.com/questions/44713501/flutter-floatingactionbutton-in-the-center", "title": "Flutter - FloatingActionButton in the center", "body": "<p>Is it possible to make the <code>FloatingActionButton</code> in the centre instead of the right side?</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'number.dart';\nimport 'keyboard.dart';\n\nclass ContaPage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) =&gt; new Scaffold(\n    body: new Column(\n      children: &lt;Widget&gt;[\n        new Number(),\n        new Keyboard(),\n      ],\n    ),\n    floatingActionButton: new FloatingActionButton(\n      elevation: 0.0,\n      child: new Icon(Icons.check),\n      backgroundColor: new Color(0xFFE57373),\n      onPressed: (){}\n    )\n  );\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/wlEnM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wlEnM.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "dart", "angular-components"], "comments": [{"owner": {"reputation": 1868, "user_id": 1416886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1816b2eac989b20642bb419e3b51605?s=128&d=identicon&r=PG", "display_name": "filiph", "link": "https://stackoverflow.com/users/1416886/filiph"}, "edited": false, "score": 0, "creation_date": 1498547037, "post_id": 44711127, "comment_id": 76528606, "body": "Hi, I see you <a href=\"https://stackoverflow.com/a/44711653/1416886\">went another way</a> (with ItemRenderer). Does this make the question completely obsolete? Or do you still feel that other people might need LabelFunction?"}, {"owner": {"reputation": 336, "user_id": 4237845, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh6.googleusercontent.com/-M52APKaweu0/AAAAAAAAAAI/AAAAAAAAAB0/7_PQQGq0Pjs/photo.jpg?sz=128", "display_name": "Alex L.", "link": "https://stackoverflow.com/users/4237845/alex-l"}, "reply_to_user": {"reputation": 1868, "user_id": 1416886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1816b2eac989b20642bb419e3b51605?s=128&d=identicon&r=PG", "display_name": "filiph", "link": "https://stackoverflow.com/users/1416886/filiph"}, "edited": false, "score": 0, "creation_date": 1500072702, "post_id": 44711127, "comment_id": 77196795, "body": "Well, I&#39;m afraid this question might come from my own ignorance with Angular and the new material-tree. But, I would like to know if this is even remotely possible...I mean, I can see how someone sees &quot;withLabelFunction&quot; and assumes &quot;Aha!, I can pass my localization/regex/string-template/ect here!&quot; and be confused on how to apply it."}], "answers": [{"tags": [], "owner": {"reputation": 336, "user_id": 4237845, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh6.googleusercontent.com/-M52APKaweu0/AAAAAAAAAAI/AAAAAAAAAB0/7_PQQGq0Pjs/photo.jpg?sz=128", "display_name": "Alex L.", "link": "https://stackoverflow.com/users/4237845/alex-l"}, "is_accepted": true, "score": 0, "last_activity_date": 1498180903, "creation_date": 1498180903, "answer_id": 44711653, "question_id": 44711127, "link": "https://stackoverflow.com/questions/44711127/dart-angular-components-optiongrouplabelfunction/44711653#44711653", "title": "dart angular components OptionGroup:LabelFunction", "body": "<p>Nevermind, I opted for an ItemRenderer.</p>\n"}], "owner": {"reputation": 336, "user_id": 4237845, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh6.googleusercontent.com/-M52APKaweu0/AAAAAAAAAAI/AAAAAAAAAB0/7_PQQGq0Pjs/photo.jpg?sz=128", "display_name": "Alex L.", "link": "https://stackoverflow.com/users/4237845/alex-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 44711653, "answer_count": 1, "score": 1, "last_activity_date": 1498180903, "creation_date": 1498176478, "question_id": 44711127, "link": "https://stackoverflow.com/questions/44711127/dart-angular-components-optiongrouplabelfunction", "title": "dart angular components OptionGroup:LabelFunction", "body": "<p>I'm playing with the new material-tree and wanted to pass a series of custom objects as a OptionGroup, these objects contain a label property which I need to enhance with a LabelFunction, but, this particular typedef doesn't accept any values, and simply is expected to output a String, I guess, I need an example or perhaps a sanity check as to my usage.\nGiven this simple class:</p>\n\n<pre><code>class pulsar {\n  String label = '';\n  String id = '';\n\n  pulsar();\n}\n</code></pre>\n\n<p>I'll like to create:</p>\n\n<pre><code>final SelectionOptions pulsars = new SelectionOptions([\n    new OptionGroup.withLabelFunction(\n        [pulsar1, pulsar2, pulsar3],\n        (T) =&gt; labeler(T)\n]);\n// This is the problem, since the typedef String LabelFunction()\n// Does not accept parameters.\n// I will want this to work...\nString labeler(pulsar p) =&gt; \"${p.id} : ${p.label}\";\n</code></pre>\n\n<p>I guess, I'm wondering if I'm missing the point of this <strong>LabelFunction</strong>..</p>\n"}, {"tags": ["android", "dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 4059, "user_id": 5832842, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/656131bd44fe54e1d5ff70048310807c?s=128&d=identicon&r=PG&f=1", "display_name": "Bram  Vanbilsen", "link": "https://stackoverflow.com/users/5832842/bram-vanbilsen"}, "edited": false, "score": 0, "creation_date": 1498163947, "post_id": 44708232, "comment_id": 76400853, "body": "Still a bit confused on this. Perhaps I&#39;m mssing something. Will the plugin and user project work as 2 seperate things? And are AndroidManifest.xml and strings.xml merged in the sense that the plugin is aware of those files in the main project and can use that data?"}, {"owner": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "reply_to_user": {"reputation": 4059, "user_id": 5832842, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/656131bd44fe54e1d5ff70048310807c?s=128&d=identicon&r=PG&f=1", "display_name": "Bram  Vanbilsen", "link": "https://stackoverflow.com/users/5832842/bram-vanbilsen"}, "edited": false, "score": 0, "creation_date": 1498165660, "post_id": 44708232, "comment_id": 76401678, "body": "You can read data out of the user&#39;s AndroidManifest.xml or strings.xml in the plugin if you want. <a href=\"https://stackoverflow.com/questions/10311890/is-it-possible-to-have-custom-attributes-in-androidmanifest-xml-tags\" title=\"is it possible to have custom attributes in androidmanifest xml tags\">stackoverflow.com/questions/10311890/&hellip;</a> <a href=\"https://stackoverflow.com/questions/6583843/how-to-access-resource-with-dynamic-name-in-my-case\" title=\"how to access resource with dynamic name in my case\">stackoverflow.com/questions/6583843/&hellip;</a>"}, {"owner": {"reputation": 4059, "user_id": 5832842, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/656131bd44fe54e1d5ff70048310807c?s=128&d=identicon&r=PG&f=1", "display_name": "Bram  Vanbilsen", "link": "https://stackoverflow.com/users/5832842/bram-vanbilsen"}, "edited": false, "score": 0, "creation_date": 1498167802, "post_id": 44708232, "comment_id": 76402528, "body": "I&#39;m not really an android guy. But to simplify the question a bit more: if I place some meta data in a project in androidmanifest, will the plugin be able to get to that data and use it. So i.e. an unique app key in androidmanifest in the project will be recognized and usable for the plugin?"}], "tags": [], "owner": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "is_accepted": true, "score": 1, "last_activity_date": 1498161168, "creation_date": 1498161168, "answer_id": 44708232, "question_id": 44707548, "link": "https://stackoverflow.com/questions/44707548/flutter-plugin-develoment-importing-libraries/44708232#44708232", "title": "Flutter plugin develoment: importing libraries", "body": "<p>Dependencies can be added in the <code>build.gradle</code> and <code>podspec</code> of the plugin. Though if it depends on a non-standard Maven or CocoaPods repo, users will need to specify that in their project. </p>\n\n<p>Permissions are added by the user if needed. Same with configuration files. Use the README of the plugin to explain what needs to be done.</p>\n\n<p>If the configuration info is the same across iOS and Android (API keys etc), passing it from Dart to native is a good practice to avoid duplication. If the configuration info is different for each platform, having it be read out of a file by the plugin (or specified in the AppDelegate/Activity) allows the Dart to be agnostic to which platform it's on.</p>\n\n<p>Check out the <a href=\"https://github.com/flutter/plugins/tree/master/packages/google_sign_in\" rel=\"nofollow noreferrer\">google_sign_in</a> plugin for inspiration.</p>\n"}], "owner": {"reputation": 4059, "user_id": 5832842, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/656131bd44fe54e1d5ff70048310807c?s=128&d=identicon&r=PG&f=1", "display_name": "Bram  Vanbilsen", "link": "https://stackoverflow.com/users/5832842/bram-vanbilsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 645, "favorite_count": 0, "accepted_answer_id": 44708232, "answer_count": 1, "score": 1, "last_activity_date": 1498161168, "creation_date": 1498158604, "question_id": 44707548, "link": "https://stackoverflow.com/questions/44707548/flutter-plugin-develoment-importing-libraries", "title": "Flutter plugin develoment: importing libraries", "body": "<p>I'm trying to create a Facebook login plugin for Flutter and already got the native code running. There is one thing I don't get though. Where do the dependencies, uses permissions and meta data go? I guess the dependencies and permissions could be added to the plugin's android folder. But the meta data needs a key that only the user can provide. So I can not put it in the android folder of my plugin, only in an android folder in projects using the plugin. But I need the meta data to make the plugin work. So I'm kinda stuck atm. Any one who has experience with this?</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 75233, "user_id": 123471, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/t75zo.jpg?s=128&g=1", "display_name": "Seth Ladd", "link": "https://stackoverflow.com/users/123471/seth-ladd"}, "edited": false, "score": 1, "creation_date": 1498095706, "post_id": 44688544, "comment_id": 76361352, "body": "You may have better luck using a WebView. I don&#39;t have the code for this, so I can&#39;t leave an answer, but you may be able to open an &quot;invisible&quot; webview, ask it to load the URL, wait until you&#39;re satisfied that the page rendered, and then get the DOM from the WebView."}, {"owner": {"reputation": 4811, "user_id": 1462442, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4da53bea02367ebc6c8fe96f4f825961?s=128&d=identicon&r=PG", "display_name": "user1462442", "link": "https://stackoverflow.com/users/1462442/user1462442"}, "edited": false, "score": 0, "creation_date": 1501122184, "post_id": 44688544, "comment_id": 77642393, "body": "<a href=\"https://pub.dartlang.org/packages/http\" rel=\"nofollow noreferrer\">pub.dartlang.org/packages/http</a> you can import http?  import &#39;package:http/http.dart&#39; as http;"}], "answers": [{"tags": [], "owner": {"reputation": 3042, "user_id": 8342742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EMVCJ.jpg?s=128&g=1", "display_name": "M\u03b1\u03c0\u03bcQ\u03bc\u03b1\u03c0k\u03b3V\u03c0.0", "link": "https://stackoverflow.com/users/8342742/m%ce%b1%cf%80%ce%bcq%ce%bc%ce%b1%cf%80k%ce%b3v%cf%80-0"}, "is_accepted": false, "score": 0, "last_activity_date": 1611169512, "creation_date": 1611169512, "answer_id": 65816003, "question_id": 44688544, "link": "https://stackoverflow.com/questions/44688544/flutter-scraping-a-site-with-javascript-generated-content-without-darthtml/65816003#65816003", "title": "Flutter: Scraping a site with JavaScript generated content without dart:html", "body": "<p>I agree on using WebView to load the URL needed. Here is an example implementation of WebView using the <a href=\"https://pub.dev/packages/webview_flutter\" rel=\"nofollow noreferrer\">webview_flutter</a>.</p>\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:webview_flutter/webview_flutter.dart';\nimport 'dart:async';\n\nvoid main() {\n  runApp(MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Flutter Demo',\n      theme: ThemeData(\n        primarySwatch: Colors.blue,\n        visualDensity: VisualDensity.adaptivePlatformDensity,\n      ),\n      home: MyHomePage(title: 'Flutter Demo Home Page'),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  MyHomePage({Key key, this.title}) : super(key: key);\n\n  final String title;\n\n  @override\n  _MyHomePageState createState() =&gt; _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  final Completer&lt;WebViewController&gt; _controller =\n      Completer&lt;WebViewController&gt;();\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(widget.title),\n      ),\n      body: WebView(\n        initialUrl: &quot;https://flutter.dev/&quot;,\n        onWebViewCreated: (WebViewController webViewController) {\n          _controller.complete(webViewController);\n        },\n        javascriptMode: JavascriptMode.unrestricted,\n      ),\n    );\n  }\n}\n</code></pre>\n<p>This is how it will look like:</p>\n<p><a href=\"https://i.stack.imgur.com/Pc2bQ.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pc2bQ.gif\" alt=\"enter image description here\" /></a></p>\n<p>And when the page is rendered you will be able to get the DOM from the WebView. There is also an available example of getting DOM from WebView. Check it <a href=\"https://gist.github.com/fredriccliver/97f98965d765107086ea045ee7c7909b\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 11, "user_id": 8196703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YxEc4JraWtM/AAAAAAAAAAI/AAAAAAAAAJU/Z2gJzeRcp9o/photo.jpg?sz=128", "display_name": "Allan Bailey", "link": "https://stackoverflow.com/users/8196703/allan-bailey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2100, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1611169512, "creation_date": 1498093869, "last_edit_date": 1611126027, "question_id": 44688544, "link": "https://stackoverflow.com/questions/44688544/flutter-scraping-a-site-with-javascript-generated-content-without-darthtml", "title": "Flutter: Scraping a site with JavaScript generated content without dart:html", "body": "<p>How do I scrape a web page that generates some of its content with a JavaScript element? It is a local court booking site for my squash club and from what I can see, this is the JavaScript script it calls to retrieve the court bookings:</p>\n<pre><code>function load_js(url) {\n    var e = document.createElement(&quot;script&quot;);\n    e.src = url;\n    e.type = &quot;text/javascript&quot;;\n    if (document.getElementsByTagName(&quot;head&quot;)[0].lastChild.src == e.src) {\n        document.getElementsByTagName(&quot;head&quot;)[0].replaceChild(e, document.getElementsByTagName(&quot;head&quot;)[0].lastChild);\n    }\n    else {\n        document.getElementsByTagName(&quot;head&quot;)[0].appendChild(e);\n    }\n}\n\nonload = function () {\n    setInterval(&quot;load_js('/js/bookings_reload.js.php')&quot;, 30000);\n};\n</code></pre>\n<p>How could I replicate this in Flutter? I can scrape the HTML and parse it to create an HTML document, but since Flutter disallows the use of the dart:html library, I can't create a ScriptElement to duplicate the JavaScript script. Is there an alternative in Flutter?</p>\n<p>Here is my Dart function so far:</p>\n<pre><code>var httpClient = createHttpClient();\ngetData() async {\n      // Send POST request to get authorized cookie\n      var response = await httpClient.post('http://bookings.squashgym.co.nz/login',\n          body: {'username': username, 'password': password});\n\n      // Send get request with authenticated cookie to get bookings\n      var courts = await httpClient.get('http://bookings.squashgym.co.nz/booking-sheet',\n      headers: {'cookie': response.headers['set-cookie']});\n\n      Document data = parse(courts.body);\n      httpClient.close();\n}\n</code></pre>\n<p>Thanks!</p>\n"}]