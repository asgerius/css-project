[{"tags": ["constructor", "dart"], "answers": [{"comments": [{"owner": {"reputation": 303, "user_id": 2322935, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/0fbd01c02f255231fca1a106d0097f22?s=128&d=identicon&r=PG", "display_name": "Hemel", "link": "https://stackoverflow.com/users/2322935/hemel"}, "edited": false, "score": 0, "creation_date": 1426762154, "post_id": 29137214, "comment_id": 46508330, "body": "Thank you, this solution is perfect :)"}, {"owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "edited": false, "score": 1, "creation_date": 1426842164, "post_id": 29137214, "comment_id": 46544904, "body": "I&#39;d also consider adding it as a method: <code>Vector3 scaleTo([int length = 1]);</code>. When you have a constructor taking another value as input, it can often be converted to a method on that other value - at least when it&#39;s the same class anyway."}], "tags": [], "owner": {"reputation": 4220, "user_id": 137065, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7b65f24a42ee8680046000aef42e3da7?s=128&d=identicon&r=PG", "display_name": "Ozan", "link": "https://stackoverflow.com/users/137065/ozan"}, "is_accepted": true, "score": 5, "last_activity_date": 1583373962, "last_edit_date": 1583373962, "creation_date": 1426739339, "answer_id": 29137214, "question_id": 29134457, "link": "https://stackoverflow.com/questions/29134457/how-constructors-can-initialize-final-fields-with-complex-algorithm/29137214#29137214", "title": "How constructors can initialize final fields with complex algorithm?", "body": "<p>Use a <a href=\"https://dart.dev/guides/language/language-tour#factory-constructors\" rel=\"nofollow noreferrer\">factory constructor</a>:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class Vector3\n{\n  final num x, y, z;\n  Vector3(this.x, this.y, this.z);\n\n  factory Vector3.unit(Vector3 vector) {\n    var length = vector.length;\n    return new Vector3(vector.x/length, vector.y/length, vector.z/length);\n  }\n\n  num get length =&gt; ...some heavy code\n}\n</code></pre>\n"}], "owner": {"reputation": 303, "user_id": 2322935, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/0fbd01c02f255231fca1a106d0097f22?s=128&d=identicon&r=PG", "display_name": "Hemel", "link": "https://stackoverflow.com/users/2322935/hemel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 379, "favorite_count": 1, "accepted_answer_id": 29137214, "answer_count": 1, "score": 2, "last_activity_date": 1583373962, "creation_date": 1426720587, "question_id": 29134457, "link": "https://stackoverflow.com/questions/29134457/how-constructors-can-initialize-final-fields-with-complex-algorithm", "title": "How constructors can initialize final fields with complex algorithm?", "body": "<p>I am writing an immutable class Vector3.</p>\n\n<pre><code>class Vector3\n{\n  final num x, y, z;\n  Vector3(this.x, this.y, this.z);\n  num get length =&gt; ...some heavy code\n}\n</code></pre>\n\n<p>Now, I want to write a constructor that computes the unit vector from another vector. I want to do that according to the Dart's recommendations (avoid writing a static method when we create a new object).</p>\n\n<p>My problem is that I can't write this constructor because the final fields must be initialized before the constructor's body and cannot be initialized inside. I can write something like :</p>\n\n<pre><code>Vector3.unit(Vector3 vector)\n  : x = vector.x / vector.length,\n    y = vector.y / vector.length,\n    z = vector.z / vector.length;\n</code></pre>\n\n<p>But this is so sad I have to compute three times the length of the vector...</p>\n\n<p>How am I supposed to do that? Should I finally write a static method to compute the unit vector? (It would be a shame)</p>\n\n<p>And, at last, isn't it possible to write anything in the constructor's body related to the initialization of the final fields? And why?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["eclipse", "dart", "dart-editor"], "comments": [{"owner": {"reputation": 1977, "user_id": 4129445, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tBePx.png?s=128&g=1", "display_name": "Alex Haslam", "link": "https://stackoverflow.com/users/4129445/alex-haslam"}, "edited": false, "score": 0, "creation_date": 1426766409, "post_id": 29132836, "comment_id": 46510820, "body": "I don&#39;t know, but I do know Intellij WebStorm can do this."}], "answers": [{"tags": [], "owner": {"reputation": 2594, "user_id": 496862, "user_type": "registered", "accept_rate": 52, "profile_image": "https://graph.facebook.com/132500947/picture?type=large", "display_name": "Jack Murphy", "link": "https://stackoverflow.com/users/496862/jack-murphy"}, "is_accepted": false, "score": 4, "last_activity_date": 1426773449, "creation_date": 1426773449, "answer_id": 29146563, "question_id": 29132836, "link": "https://stackoverflow.com/questions/29132836/how-do-i-tell-the-dart-editor-to-use-the-path-location-of-the-sdk/29146563#29146563", "title": "How do i tell the Dart Editor to use the PATH location of the SDK?", "body": "<p>Inside the containing folder create a file called editor.properties (The Dart Editor Bundle already includes this) </p>\n\n<p>ensure the following pair exists:</p>\n\n<pre><code>dart.sdk=/path/to/dart-sdk\n</code></pre>\n\n<p>Note: Windows environments do not need the drive letter prefix, dart will figure it out - so C:\\dart-sdk would by dart.sdk=/dart-sdk </p>\n\n<p>The above path variables for DART_SDK seem relevant to some 3rd party utilities - but AFAIK not the Dart Editor itself. I would love clarification or a list of pertinent configuration variables. </p>\n"}], "owner": {"reputation": 2594, "user_id": 496862, "user_type": "registered", "accept_rate": 52, "profile_image": "https://graph.facebook.com/132500947/picture?type=large", "display_name": "Jack Murphy", "link": "https://stackoverflow.com/users/496862/jack-murphy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 446, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1426773449, "creation_date": 1426713341, "last_edit_date": 1426719221, "question_id": 29132836, "link": "https://stackoverflow.com/questions/29132836/how-do-i-tell-the-dart-editor-to-use-the-path-location-of-the-sdk", "title": "How do i tell the Dart Editor to use the PATH location of the SDK?", "body": "<p>I would like to store my dart-sdk outside of the folder where i keep the editor. For sake of brevity lets say its stored in C:/dart-sdk/bin</p>\n\n<pre><code>C:\\Users\\John&gt; echo %PATH%\n..;..;C:\\dart-sdk\\bin\n\nC:\\Users\\John&gt; dart--version   \nDart VM version: 1.8.5\n\nC:\\Users\\John&gt; echo %DART_SDK%\nC:\\dart-sdk\n</code></pre>\n\n<p>However, when i open the dart editor, it cannot find the SDK. </p>\n\n<p>Results in \"Missing Dart SDK\" in the description.</p>\n\n<p>If i moved the SDK back into the dart folder, it works as expected, but seems brittle. </p>\n\n<p>How do i point Dart/Eclipse to the execution path of dart-sdk? Is there a linked resources variable i need to define? </p>\n"}, {"tags": ["dart", "dart-async"], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 2, "last_activity_date": 1426671144, "last_edit_date": 1426671144, "creation_date": 1426670814, "answer_id": 29118233, "question_id": 29118168, "link": "https://stackoverflow.com/questions/29118168/dart-nested-futures-whencomplete-fires-first/29118233#29118233", "title": "Dart nested futures whenComplete fires first", "body": "<p>I guess you just miss the return of the future </p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>Future.forEach(centerLdapNames.values, (center) {\n   return db // &lt;== always return the returned future from calls to async functions to keep the chain connected\n       .collection(center)\n       .find({'date': {'\\$gte': json['from'], '\\$lt': json['to']}})\n       .forEach(sendAppointmentToClient);\n }).whenComplete(() =&gt; sendCompleteMessageToClient(\"all\"));\n</code></pre>\n\n<p>If you use wait these calls might be executed in parallel instead of one after the other</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Future.wait(centerLdapNames.values.map((center) { ...}, eagerError: false)\n.whenComplete((...))\n</code></pre>\n"}], "owner": {"reputation": 265, "user_id": 4554497, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tKl48KSgPk8/AAAAAAAAAAI/AAAAAAAAASc/BqcuIcQ0_sg/photo.jpg?sz=128", "display_name": "Manuel Riviere", "link": "https://stackoverflow.com/users/4554497/manuel-riviere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1256, "favorite_count": 1, "accepted_answer_id": 29118233, "answer_count": 1, "score": 1, "last_activity_date": 1426671161, "creation_date": 1426670660, "last_edit_date": 1426671161, "question_id": 29118168, "link": "https://stackoverflow.com/questions/29118168/dart-nested-futures-whencomplete-fires-first", "title": "Dart nested futures whenComplete fires first", "body": "<p>I need to make a series of database queries that each return a stream of results. Once all the information is collected and sent the 'complete' message needs to be send last. In my code 'sendCompleteMessageToClient' gets sent first.</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code> Future.forEach(centerLdapNames.values, (center) {\n   db\n       .collection(center)\n       .find({'date': {'\\$gte': json['from'], '\\$lt': json['to']}})\n       .forEach(sendAppointmentToClient);\n }).whenComplete(() =&gt; sendCompleteMessageToClient(\"all\"));\n</code></pre>\n\n<p>How do I wait for all 'sendAppointmentToClient' to finish properly?</p>\n"}, {"tags": ["dart", "dart-html"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1426658573, "post_id": 29115049, "comment_id": 46458529, "body": "You can just make a HTTP request and insert the received text into the dom. There are enough examples for both things here on SO. You can&#39;t load Dart code this way though. You can load Dart code into an isolate but this code doesn&#39;t have access to the dom."}, {"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1426660422, "post_id": 29115049, "comment_id": 46459191, "body": "That sounds awesome, thanks Gunter! I&#39;ll just load all the dart code and css on index.html."}], "answers": [{"tags": [], "owner": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "is_accepted": false, "score": 1, "last_activity_date": 1426682865, "creation_date": 1426682865, "answer_id": 29122502, "question_id": 29115049, "link": "https://stackoverflow.com/questions/29115049/dart-equivalent-of-pjax/29122502#29122502", "title": "Dart equivalent of Pjax", "body": "<p>You can use <code>Elements</code> <a href=\"https://api.dartlang.org/apidocs/channels/stable/dartdoc-viewer/dart:html.Element#id_appendHtml\" rel=\"nofollow\"><code>appendHTML</code></a> to insert HTML from a string.</p>\n"}, {"tags": [], "owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "is_accepted": true, "score": 0, "last_activity_date": 1426706102, "creation_date": 1426706102, "answer_id": 29130794, "question_id": 29115049, "link": "https://stackoverflow.com/questions/29115049/dart-equivalent-of-pjax/29130794#29130794", "title": "Dart equivalent of Pjax", "body": "<p>This works for me:</p>\n\n<pre><code>  HttpRequest.getString('page.html').then((html){\n    querySelector(\"#content\").children.clear();\n    querySelector('#content').appendHtml(html);\n  });\n</code></pre>\n"}], "owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 1, "accepted_answer_id": 29130794, "answer_count": 2, "score": 0, "last_activity_date": 1426789871, "creation_date": 1426658162, "last_edit_date": 1426789871, "question_id": 29115049, "link": "https://stackoverflow.com/questions/29115049/dart-equivalent-of-pjax", "title": "Dart equivalent of Pjax", "body": "<p>Pjax loads an html page via ajax into a div, see \n<a href=\"http://pjax.herokuapp.com/\" rel=\"nofollow\">http://pjax.herokuapp.com/</a>\nand \n<a href=\"https://github.com/defunkt/jquery-pjax/tree/heroku\" rel=\"nofollow\">https://github.com/defunkt/jquery-pjax/tree/heroku</a></p>\n\n<p>What would be the equivalent mechanism in pure dart to load html into a div from a file that would work for all modern browsers? (doesn't matter if it's via GET, POST, AJAX, etc)</p>\n"}, {"tags": ["dart", "symbols", "dart-editor", "dart-analyzer"], "answers": [{"comments": [{"owner": {"reputation": 3798, "user_id": 3098092, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/12c6b0fa6ec2efc5e87e54df4e8c78ae?s=128&d=identicon&r=PG&f=1", "display_name": "DomJack", "link": "https://stackoverflow.com/users/3098092/domjack"}, "edited": false, "score": 0, "creation_date": 1426730073, "post_id": 29115261, "comment_id": 46496875, "body": "Is it possible to have a symbol literal that is identical to a top-level setter-method? From what I understand, setter symbols always end in &quot;=&quot;, but it looks like #x= gets tokenized into [#x, =]."}, {"owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "reply_to_user": {"reputation": 3798, "user_id": 3098092, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/12c6b0fa6ec2efc5e87e54df4e8c78ae?s=128&d=identicon&r=PG&f=1", "display_name": "DomJack", "link": "https://stackoverflow.com/users/3098092/domjack"}, "edited": false, "score": 0, "creation_date": 1426771721, "post_id": 29115261, "comment_id": 46514283, "body": "A setter <code>Symbol</code> can&#39;t be created using a symbol literal, but it can be created using <code>const Symbol(&quot;x=&quot;)</code>. That&#39;s issue <a href=\"http://dartbug.com/13640\" rel=\"nofollow noreferrer\">dartbug.com/13640</a>. It makes it somewhat harder to create a private setter symbol, and if it doesn&#39;t have to be a constant, the easiest way is likely to create an object with a <code>noSuchMethod</code> that leaks the <code>Invocation.memberName</code> symbol."}], "tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": true, "score": 3, "last_activity_date": 1426669190, "last_edit_date": 1426669190, "creation_date": 1426659090, "answer_id": 29115261, "question_id": 29113434, "link": "https://stackoverflow.com/questions/29113434/symbol-with-private-identifier-argument/29115261#29115261", "title": "Symbol with private identifier argument", "body": "<p>If it doesn't throw then the VM has a bug in the const Symbol constructor.</p>\n\n<p>The problem is that \"_s\" does not identify a private variable without also saying which library it belongs to. The symbol constructor has a second argument taking a <code>LibraryMirror</code> for that reason, and passing in a private name without also passing in a mirror should throw.\nThat's hard to do in a const constructor without side-stepping the requirements of a const constructor (no executing code!), which is likely why the VM doesn't handle it. It needs to be special-cased at the compiler level.</p>\n\n<p>You will also find that <code>const Symbol('_s')</code> is not the same as <code>#_s</code>. The latter creates a private symbol for the current library, the former (if it runs) creates a non-private symbol with the name '_s', which is not really useful. For example <code>print(identical(#_s, const Symbol('_s')));</code> prints false.</p>\n"}, {"tags": [], "owner": {"reputation": 2111, "user_id": 794906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4572b9e492319217d840854fcd7c3b2?s=128&d=identicon&r=PG", "display_name": "Alan Knight", "link": "https://stackoverflow.com/users/794906/alan-knight"}, "is_accepted": false, "score": 1, "last_activity_date": 1426781780, "creation_date": 1426781780, "answer_id": 29149775, "question_id": 29113434, "link": "https://stackoverflow.com/questions/29113434/symbol-with-private-identifier-argument/29149775#29149775", "title": "Symbol with private identifier argument", "body": "<p>The To get hold of the symbol I think you would need to get it from the object. e.g.</p>\n\n<pre><code>  reflect(thing).type.declarations.keys.firstWhere(\n    (x) =&gt; MirrorSystem.getName(x) == \"_privateThingIWant\");\n</code></pre>\n"}], "owner": {"reputation": 3798, "user_id": 3098092, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/12c6b0fa6ec2efc5e87e54df4e8c78ae?s=128&d=identicon&r=PG&f=1", "display_name": "DomJack", "link": "https://stackoverflow.com/users/3098092/domjack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 2, "accepted_answer_id": 29115261, "answer_count": 2, "score": 2, "last_activity_date": 1426781780, "creation_date": 1426647793, "last_edit_date": 1426649641, "question_id": 29113434, "link": "https://stackoverflow.com/questions/29113434/symbol-with-private-identifier-argument", "title": "Symbol with private identifier argument", "body": "<p>I want to create a symbol equal to that of a private MethodMirror's simplename. However, Symbol's documentation states the argument of new Symbol must be a valid public identifier. If I try and create a <code>const Symbol('_privateIdentifier')</code> dart editor informs me that evaluation of this constant expression will throw an exception - though the program runs fine, and I am able to use it without any issues.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>void main(){\n  //error flagged in dart editor, though runs fine.\n  const s = const Symbol('_s');\n  print(s); //Symbol(\"_s\");\n}\n</code></pre>\n\n<p>It seems the mirror system uses symbols.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:mirrors';\nclass ClassA{\n  _privateMethod(){}\n}\n\nvoid main(){\n  var classMirror = reflect(new ClassA()).type;\n  classMirror.declarations.keys.forEach(print);\n  //Symbol(\"_privateMethod\"), Symbol(\"ClassA\")\n}\n</code></pre>\n\n<p>Is the documentation/error flagging in dart editor a legacy bug due to an outdated dart analyzer? Or are there plans to enforce this public requirement in future? Is there another way to create a unique identifying symbol that will be minified to the same symbol as the declaration's simple name</p>\n"}, {"tags": ["dart", "packages", "private"], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1426609562, "creation_date": 1426609562, "answer_id": 29104486, "question_id": 29104439, "link": "https://stackoverflow.com/questions/29104439/how-does-dart-implement-library-privacy-under-the-hood/29104486#29104486", "title": "How does dart implement library privacy under the hood?", "body": "<p>As far as I know are the names prefixed with a random string which is unique per library.</p>\n"}, {"comments": [{"owner": {"reputation": 3158, "user_id": 1467202, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a08ba466953435a072ca8a285a58a736?s=128&d=identicon&r=PG", "display_name": "kjh", "link": "https://stackoverflow.com/users/1467202/kjh"}, "edited": false, "score": 0, "creation_date": 1426647347, "post_id": 29109818, "comment_id": 46455669, "body": "when you write _foo@1238fa12, is &quot;1238fa12&quot; the hashcode that would get returned from the hashCode getter on the mirror of _foo (returned from reflect(_foo) if _foo is an instance or class). In other words, Could I deduce this generated name in my dart code and somehow call that private function?"}, {"owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "reply_to_user": {"reputation": 3158, "user_id": 1467202, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a08ba466953435a072ca8a285a58a736?s=128&d=identicon&r=PG", "display_name": "kjh", "link": "https://stackoverflow.com/users/1467202/kjh"}, "edited": false, "score": 0, "creation_date": 1426658789, "post_id": 29109818, "comment_id": 46458600, "body": "I actually don&#39;t know where the random-looking string comes from. You can call private functions directly using mirrors, so you don&#39;t need to know the mangled name. You can never call it directly from Dart code because <code>_foo@1238fa12</code> is not a valid identifier, even if you know it."}], "tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": true, "score": 5, "last_activity_date": 1426626772, "creation_date": 1426626772, "answer_id": 29109818, "question_id": 29104439, "link": "https://stackoverflow.com/questions/29104439/how-does-dart-implement-library-privacy-under-the-hood/29109818#29109818", "title": "How does dart implement library privacy under the hood?", "body": "<p>Internally, the VM suffixes the variable name with a string that is unique to the library, so <code>_foo</code> might become <code>_foo@1238fa12</code>. The <code>@</code> ensures that it can't collide with a user variable because <code>@</code> isn't valid in a normal identifier. After appending the string, the VM can treat the variable as a completely normal variable, and because there is no other library that can possibly have a reference to the variable, it is effectively library private (although there are probably a few corner cases where it needs to be more clever about private names).</p>\n\n<p>That's not the only possible implementation strategy, but private variables were designed from the beginning to make this strategy possible.</p>\n"}], "owner": {"reputation": 3158, "user_id": 1467202, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a08ba466953435a072ca8a285a58a736?s=128&d=identicon&r=PG", "display_name": "kjh", "link": "https://stackoverflow.com/users/1467202/kjh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 29109818, "answer_count": 2, "score": 2, "last_activity_date": 1426626772, "creation_date": 1426609413, "question_id": 29104439, "link": "https://stackoverflow.com/questions/29104439/how-does-dart-implement-library-privacy-under-the-hood", "title": "How does dart implement library privacy under the hood?", "body": "<p>When a library name is prefixed with a '_' it becomes private to its library. How does the dart vm actually implement this privacy?</p>\n"}, {"tags": ["unit-testing", "dart", "future", "dart-async", "dart-unittest"], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 3492953, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b84dabbf0e6cc782cdf74e59bed2ea67?s=128&d=identicon&r=PG&f=1", "display_name": "fandegw", "link": "https://stackoverflow.com/users/3492953/fandegw"}, "edited": false, "score": 0, "creation_date": 1426609948, "post_id": 29103990, "comment_id": 46439198, "body": "It works, it is not the perfect solution, but it works. I will post a comment with my case to support the resolving of this &quot;issue&quot;. Thanks again!"}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 2, "last_activity_date": 1426608220, "creation_date": 1426608220, "answer_id": 29103990, "question_id": 29102574, "link": "https://stackoverflow.com/questions/29102574/how-can-i-make-test-inside-a-then-statement-in-dart/29103990#29103990", "title": "How can I make test inside a then statement in Dart", "body": "<p>I guess it is not supported to wrap tests in other functions like you did here</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>registerToServer(contentOfRequest).then((id){\n</code></pre>\n\n<p>test('test function1', () {</p>\n\n<p>You can use <code>setUp()</code> to prepare for the test</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>main() {\n  group('xxx', () {\n    setUp(() {\n      return registerToServer(contentOfRequest);\n    });\n\n    test('some', () {\n      return function1(id, contentOfRequest).then((val){\n       expect(val, whatIExpect);\n      }));\n    });\n  });\n}\n</code></pre>\n\n<p>The disadvantage is that currently there is no way to do setup for a group of tests. <code>setUp()</code> and <code>tearDown()</code> is called before/after each single test.\nPlease add a comment (+1 or similar) to <a href=\"https://github.com/dart-lang/unittest/issues/18\" rel=\"nofollow\">https://github.com/dart-lang/unittest/issues/18</a> </p>\n\n<p>When using async calls within setUp/tearDown/test always return the future. The test framework recognizes when a future is returned and waits until the future finishes before it ends. This way you don't have to cope with <code>expectAsync</code> or similar tools.</p>\n"}], "owner": {"reputation": 119, "user_id": 3492953, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b84dabbf0e6cc782cdf74e59bed2ea67?s=128&d=identicon&r=PG&f=1", "display_name": "fandegw", "link": "https://stackoverflow.com/users/3492953/fandegw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 29103990, "answer_count": 1, "score": 1, "last_activity_date": 1426608220, "creation_date": 1426604594, "last_edit_date": 1426607753, "question_id": 29102574, "link": "https://stackoverflow.com/questions/29102574/how-can-i-make-test-inside-a-then-statement-in-dart", "title": "How can I make test inside a then statement in Dart", "body": "<p>I want to do some unit tests on some functions, but I need to execute all the tests after the completion of a Future.</p>\n\n<p>To develop my problem, Here an example of what I want to do :</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>registerToServer(contentOfRequest).then((id){\n  test('test function1', () {\n    function1(id, contentOfRequest).then(expectAsync((val){\n       expect(val, whatIExpect);\n    }));\n  });\n  test('test function2', () {\n    function2(id, contentOfRequest).then(expectAsync((val){\n       expect(val, whatIExpect);\n    }));\n  }):\n  ...\n};\n</code></pre>\n\n<p>I have tried with a alternate solution, but this does not change anything :</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>String id;\nregisterToServer(contentOfRequest).then((sid){\n  id = sid;\n}).then((_){\n  test('test function1', () {\n    function1(id, contentOfRequest).then(expectAsync((val){\n       expect(val, whatIExpect);\n    }));\n  });\n  test('test function2', () {\n    function2(id, contentOfRequest).then(expectAsync((val){\n       expect(val, whatIExpect);\n    }));\n  }):\n  ...\n};\n</code></pre>\n\n<p>And I would have, if possible the tests organize as that, as I want a description for all the tests.</p>\n\n<p>The stacktrace is something like that :</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Unhandled exception:\nUncaught Error: Bad state: Not allowed when tests are running.\nStack Trace:\n#0      _requireNotRunning (package:unittest/unittest.dart:430:3)\n#1      test (package:unittest/unittest.dart:100:21)\n#2      main.&lt;anonymous closure&gt; (file:///.../server_test.dart:260:11)\n#3      _RootZone.runUnary (dart:async/zone.dart:1155)\n#4      _Future._propagateToListeners.handleValueCallback (dart:async/future_impl.dart:484)\n#5      _Future._propagateToListeners (dart:async/future_impl.dart:567)\n#6      _Future._completeWithValue (dart:async/future_impl.dart:358)\n#7      _Future._asyncComplete.&lt;anonymous closure&gt; (dart:async/future_impl.dart:412)\n#8      _asyncRunCallbackLoop (dart:async/schedule_microtask.dart:41)\n#9      _asyncRunCallback (dart:async/schedule_microtask.dart:48)\n#10     _runPendingImmediateCallback (dart:isolate-patch/isolate_patch.dart:84)\n#11     _startIsolate (dart:isolate-patch/isolate_patch.dart:244)\n#12     _startMainIsolate.&lt;anonymous closure&gt; (dart:isolate-patch/isolate_patch.dart:192)\n#13     _RawReceivePortImpl._handleMessage (dart:isolate-patch/isolate_patch.dart:130)\n\n#0      _rootHandleUncaughtError.&lt;anonymous closure&gt; (dart:async/zone.dart:886)\n#1      _asyncRunCallbackLoop (dart:async/schedule_microtask.dart:41)\n#2      _asyncRunCallback (dart:async/schedule_microtask.dart:48)\n#3      _runPendingImmediateCallback (dart:isolate-patch/isolate_patch.dart:84)\n#4      _startIsolate (dart:isolate-patch/isolate_patch.dart:244)\n#5      _startMainIsolate.&lt;anonymous closure&gt; (dart:isolate-patch/isolate_patch.dart:192)\n#6      _RawReceivePortImpl._handleMessage (dart:isolate-patch/isolate_patch.dart:130)\n</code></pre>\n"}, {"tags": ["dart", "phaser-framework"], "answers": [{"comments": [{"owner": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "edited": false, "score": 1, "creation_date": 1426579866, "post_id": 29089913, "comment_id": 46419459, "body": "I think playing mp3s requires licensed software which is shipped in chrome, but not in the open source chromium code base. Try running in chrome, or convert your audio to ogg vorbis."}, {"owner": {"reputation": 437, "user_id": 1799985, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a4a0c045a485ec377a89655b030b949c?s=128&d=identicon&r=PG", "display_name": "The Ice Mage", "link": "https://stackoverflow.com/users/1799985/the-ice-mage"}, "reply_to_user": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "edited": false, "score": 0, "creation_date": 1426611412, "post_id": 29089913, "comment_id": 46440235, "body": "Thanks, I&#39;ll look into it. For now I found a <a href=\"http://www.bigsoundbank.com/\" rel=\"nofollow noreferrer\">different site for sounds</a> which seems to offer everything in a number of formats including .ogg :)"}], "tags": [], "owner": {"reputation": 437, "user_id": 1799985, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a4a0c045a485ec377a89655b030b949c?s=128&d=identicon&r=PG", "display_name": "The Ice Mage", "link": "https://stackoverflow.com/users/1799985/the-ice-mage"}, "is_accepted": true, "score": 0, "last_activity_date": 1426556047, "creation_date": 1426556047, "answer_id": 29089913, "question_id": 29089725, "link": "https://stackoverflow.com/questions/29089725/exception-when-trying-to-load-mp3-file-in-phaser/29089913#29089913", "title": "Exception when trying to load .mp3 file in Phaser", "body": "<p>Oh, seems like I found the offender here... <a href=\"https://github.com/playif/play_phaser/blob/ae6a08e5a6eb159149fac01e5831fd8572223a44/lib/loader/loader.dart#L1447\" rel=\"nofollow\">https://github.com/playif/play_phaser/blob/ae6a08e5a6eb159149fac01e5831fd8572223a44/lib/loader/loader.dart#L1447</a></p>\n\n<p>When the <code>Loader</code> is setting up stuff about a newly added file it calls this <code>getAudioUrl</code> if the file is an audio file...\n</p>\n\n<pre><code>getAudioURL(urls) {\n\n//String extension;\n\nif (urls is String) {\n  urls = [urls];\n}\n\nfor (var i = 0; i &lt; urls.length; i++) {\n  var url = urls[i];\n  //extension = urls[i].toLowerCase();\n  //extension = extension.substr((Math.max(0, extension.lastIndexOf(\".\")) || Infinity) + 1);\n\n  if (this.game.device.canPlayAudio(url.split('.').last)) {\n    //return urls[i];\n    return url;\n  }\n\n}\n\nreturn null;\n</code></pre>\n\n<p>}</p>\n\n<p>...and as you may gather from the above, the method will return <code>null</code> seemingly if the device cannot play the the type of file supplied. So then, Dartium can't play .mp3s?</p>\n"}], "owner": {"reputation": 437, "user_id": 1799985, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a4a0c045a485ec377a89655b030b949c?s=128&d=identicon&r=PG", "display_name": "The Ice Mage", "link": "https://stackoverflow.com/users/1799985/the-ice-mage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 286, "favorite_count": 2, "accepted_answer_id": 29089913, "answer_count": 1, "score": 1, "last_activity_date": 1426556047, "creation_date": 1426554784, "question_id": 29089725, "link": "https://stackoverflow.com/questions/29089725/exception-when-trying-to-load-mp3-file-in-phaser", "title": "Exception when trying to load .mp3 file in Phaser", "body": "<p>I am trying to load a <a href=\"http://www.freesoundeffects.com/free-track/swordraw-426864/\" rel=\"nofollow\">very short .mp3 file</a> in my <code>preload()</code> function like this:\n</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>game.load.audio('sword', '$assetPath/swordraw.mp3', true);\n</code></pre>\n\n<p>As soon as this code gets executed, it crashes with the error</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Breaking on exception: Invalid arguments(s)\n</code></pre>\n\n<p>pointing to a <code>console.warn</code> in Phaser's <code>Loader</code>'s <code>fileError</code> function which is as below:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>fileError(int index) {\n\n  this._fileList[index]['loaded'] = true;\n  this._fileList[index]['error'] = true;\n\n  this.onFileError.dispatch([this._fileList[index]['key'], this._fileList[index]]);\n\n  window.console.warn(\"Phaser.Loader error loading file: \" \n  + this._fileList[index]['key'] + ' from URL ' + this._fileList[index]['url']);\n\n    this.nextFile(index, false);\n\n}\n</code></pre>\n\n<p>Through the debugger of DartEditor I have seen that for some reason <code>_fileList[10]['url']</code> (URL for audio file) is picked up as being null here, and that is the cause of the exception (can't concat. <code>null</code> to a string) but why is url null?</p>\n\n<p>I've checked the obvious: the file name is correct and <code>assetPath</code> is certainly initialised correctly since all the other files (which are images) before this load fine. So this seems like an audio file issue of some kind but I can't see what the problem is.</p>\n"}, {"tags": ["dart", "angular-ui-router", "angular-dart"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1426587525, "post_id": 29086459, "comment_id": 46423720, "body": "Looks similar to <a href=\"https://github.com/angular/angular.dart/issues/1599\" rel=\"nofollow noreferrer\">github.com/angular/angular.dart/issues/1599</a> which seems to be fixed but not published. You could try to add a dependency to the git repo instead the hosted package."}, {"owner": {"reputation": 1977, "user_id": 4129445, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tBePx.png?s=128&g=1", "display_name": "Alex Haslam", "link": "https://stackoverflow.com/users/4129445/alex-haslam"}, "edited": false, "score": 0, "creation_date": 1426767207, "post_id": 29086459, "comment_id": 46511318, "body": "is bookingservice.html your index? If so.... where is ng-app?"}, {"owner": {"reputation": 335, "user_id": 3755268, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e2d25737f9d141e633d272ceaa606287?s=128&d=identicon&r=PG&f=1", "display_name": "user7702", "link": "https://stackoverflow.com/users/3755268/user7702"}, "edited": false, "score": 0, "creation_date": 1426783832, "post_id": 29086459, "comment_id": 46522728, "body": "Added ng-app in, but still same issue."}], "answers": [{"tags": [], "owner": {"reputation": 335, "user_id": 3755268, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e2d25737f9d141e633d272ceaa606287?s=128&d=identicon&r=PG&f=1", "display_name": "user7702", "link": "https://stackoverflow.com/users/3755268/user7702"}, "is_accepted": false, "score": 0, "last_activity_date": 1426783957, "creation_date": 1426783957, "answer_id": 29150496, "question_id": 29086459, "link": "https://stackoverflow.com/questions/29086459/angulardart-view-is-not-properly-routing/29150496#29150496", "title": "AngularDart View is not properly routing", "body": "<p>I got it working by changing the name of my index from bookingservice.html to index.html. Not sure exactly why I need to have an index.html for it to work properly. If anyone has a reason behind this please feel free to comment below. I'll do some more digging on the reason. </p>\n"}], "owner": {"reputation": 335, "user_id": 3755268, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e2d25737f9d141e633d272ceaa606287?s=128&d=identicon&r=PG&f=1", "display_name": "user7702", "link": "https://stackoverflow.com/users/3755268/user7702"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1426783957, "creation_date": 1426538203, "last_edit_date": 1426587052, "question_id": 29086459, "link": "https://stackoverflow.com/questions/29086459/angulardart-view-is-not-properly-routing", "title": "AngularDart View is not properly routing", "body": "<p>I'm new to Dart and I'm having some issues with my Views/Router. </p>\n\n<p>The router in lib/routing/booking_service_router.dart:</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>void bookingServiceRouteInitializer(Router router, RouteViewFactory views) {\n\n  views.configure({\n    'reservations': ngRoute(\n            path: '/reservations',\n            view: 'view/homeReservation.html')\n  });\n}\n</code></pre>\n\n<p>The main module bookingservice.dart: </p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class BookingServiceModule extends Module { \n\n  BookingServiceModule() {\n    bind(ReservationHome);\n    bind(TabMenu);\n    bind(RouteInitializerFn, toValue: bookingServiceRouteInitializer);\n    bind(NgRoutingUsePushState, toValue: new NgRoutingUsePushState.value(false));\n  }\n}\n\nvoid main() {\n  Logger.root.level = Level.FINEST;\n  Logger.root.onRecord.listen((LogRecord r) { print(r.message); });\n  applicationFactory().addModule(new BookingServiceModule()).run();\n}\n</code></pre>\n\n<p>The main html bookingservice.html: </p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n    &lt;title&gt;BookingService&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" href=\"bookingservice.css\"&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n\n  &lt;tab-menu ng-cloak&gt;&lt;/tab-menu&gt; \n\n  &lt;div&gt;\n    &lt;section&gt;\n      &lt;ng-view&gt;&lt;/ng-view&gt;\n    &lt;/section&gt;  \n  &lt;/div&gt;\n\n  &lt;script type=\"application/dart\" src=\"bookingservice.dart\"&gt;&lt;/script&gt;\n  &lt;script type=\"text/javascript\" src=\"packages/browser/dart.js\"&gt;&lt;/script&gt;\n\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>and /lib/component/tab_menu.html: </p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>&lt;link rel=\"stylesheet\" href=\"tab_menu.css\"&gt;\n\n&lt;div&gt;  \n  &lt;ul&gt;\n    &lt;li&gt;\n      &lt;a href=\"#/reservations\"&gt;click this&lt;/a&gt;\n    &lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>and finally the view I am trying to route to web/view/homeReservation.html:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>&lt;div&gt;\n  &lt;h1&gt;Hello!&lt;/h1&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>When I click the link to route to the homeReservation.html I need it to route to the url path: <a href=\"http://127.0.0.1:3030/BookingService/web/bookingservice.html#/reservations\" rel=\"nofollow\">http://127.0.0.1:3030/BookingService/web/bookingservice.html#/reservations</a></p>\n\n<p>However, the url it actually routes to is: \n<a href=\"http://127.0.0.1:3030/BookingService/web/BookingService/packages/BookingService/component/tab_menu.html#/reservations\" rel=\"nofollow\">http://127.0.0.1:3030/BookingService/web/BookingService/packages/BookingService/component/tab_menu.html#/reservations</a></p>\n\n<p>Which basically takes it back to the same view and not showing my homeReservation.html.</p>\n\n<p>Any pointers/tips/advice on what I may be missing? </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["routing", "dart", "polymer", "dart-polymer"], "comments": [{"owner": {"reputation": 924, "user_id": 3341001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/55IpD.jpg?s=128&g=1", "display_name": "Greg Sherman", "link": "https://stackoverflow.com/users/3341001/greg-sherman"}, "edited": false, "score": 0, "creation_date": 1426565591, "post_id": 29084797, "comment_id": 46414521, "body": "I found that the routing capabilities of route_hierarchical, used in the Polymer example are hard to work with. There&#39;s a library that&#39;s been built to make the process simpler - <a href=\"https://github.com/bwu-dart/bwu_polymer_routing\" rel=\"nofollow noreferrer\">github.com/bwu-dart/bwu_polymer_routing</a> ."}, {"owner": {"reputation": 73, "user_id": 3509659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ecfd0422276d94b66457ea85d083406?s=128&d=identicon&r=PG", "display_name": "Ji\u0159&#237; Nov&#225;k", "link": "https://stackoverflow.com/users/3509659/ji%c5%99%c3%ad-nov%c3%a1k"}, "reply_to_user": {"reputation": 924, "user_id": 3341001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/55IpD.jpg?s=128&g=1", "display_name": "Greg Sherman", "link": "https://stackoverflow.com/users/3341001/greg-sherman"}, "edited": false, "score": 0, "creation_date": 1426601096, "post_id": 29084797, "comment_id": 46432401, "body": "I had a brief loog on the bwu_polymer_routing package, but even the simple example presented on the homepage seems to be pretty complicated, a little bit overkill for the simple page switching... I am looking for an easy to consume solution like the JavaScript &lt;app-router&gt;..."}, {"owner": {"reputation": 924, "user_id": 3341001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/55IpD.jpg?s=128&g=1", "display_name": "Greg Sherman", "link": "https://stackoverflow.com/users/3341001/greg-sherman"}, "edited": false, "score": 0, "creation_date": 1426614093, "post_id": 29084797, "comment_id": 46441943, "body": "I agree, it is overly complex. Unfortunately, the way the situation stands with Dart is there&#39;s only one good routing library, and it&#39;s been developed for AngularDart. Both the polymer example and bwu_polymer_routing packages scaffold the routing library to some extent. If you want easy to use routing, consider making your app with AngularDart - its support for the routing framework is more seamless specifically because the routing framework was built as part of AngularDart."}, {"owner": {"reputation": 73, "user_id": 3509659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ecfd0422276d94b66457ea85d083406?s=128&d=identicon&r=PG", "display_name": "Ji\u0159&#237; Nov&#225;k", "link": "https://stackoverflow.com/users/3509659/ji%c5%99%c3%ad-nov%c3%a1k"}, "reply_to_user": {"reputation": 924, "user_id": 3341001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/55IpD.jpg?s=128&g=1", "display_name": "Greg Sherman", "link": "https://stackoverflow.com/users/3341001/greg-sherman"}, "edited": false, "score": 0, "creation_date": 1426616074, "post_id": 29084797, "comment_id": 46443137, "body": "Sure I will give an AngularDart version a try later on, I just wanted to taste the Dart Polymer flavour, and just was struck by the lack of Dart components. I like Polymer and I like Dart, so for this &quot;project&quot; it was a natural choice, so I am still looking into the issue..."}], "owner": {"reputation": 73, "user_id": 3509659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ecfd0422276d94b66457ea85d083406?s=128&d=identicon&r=PG", "display_name": "Ji\u0159&#237; Nov&#225;k", "link": "https://stackoverflow.com/users/3509659/ji%c5%99%c3%ad-nov%c3%a1k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1426532123, "creation_date": 1426532123, "question_id": 29084797, "link": "https://stackoverflow.com/questions/29084797/route-hierarchical-polymer-and-submenu", "title": "route_hierarchical, polymer and submenu", "body": "<p>I was toying with the Polymer SPA example from the dartlang.org website, decided to teach it some new tricks, starting by the page fragment loading using , and now I am stuck with the submenu handling. So far the templating part of code works as expected using conditional templates, but I am stuck at routing.</p>\n\n<p>So far I have modified the Page model like so:</p>\n\n<pre><code>class Page { \n final String name;\n final String path;\n final String url;\n final String icon;\n final bool isDefault;\n final bool isSubmenu;\n final List&lt;Page&gt; subPages;\n\n const Page(this.name, this.path, this.url, this.icon, {this.isDefault: false, this.isSubmenu: false, this.subPages: null});\n String toString() =&gt; '$name';\n}\n</code></pre>\n\n<p>and I am adding the pages into the router like this:</p>\n\n<pre><code>domReady() {\nfor (Page page in pages) {\n  if (!page.isSubmenu){\n    router.root.addRoute(name: page.name, path: page.path, defaultRoute: page.isDefault, enter: enterRoute);\n  } else {\n    for(Page subPage in page.subPages) {\n      router.root.addRoute(name: subPage.name, path: subPage.path, defaultRoute: subPage.isDefault, enter: enterRoute);\n    }\n  }\n}\nrouter.listen();\n}\n</code></pre>\n\n<p>and I am getting <pre>Exception: Uncaught Error: Bad state: No element</pre> exception in Dartium console.\nWhat am I doing wrong?</p>\n"}, {"tags": ["sockets", "dart"], "answers": [{"comments": [{"owner": {"reputation": 2693, "user_id": 1338952, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8b68393134f679f403bf573569e94161?s=128&d=identicon&r=PG", "display_name": "user1338952", "link": "https://stackoverflow.com/users/1338952/user1338952"}, "edited": false, "score": 0, "creation_date": 1426528743, "post_id": 29082598, "comment_id": 46400548, "body": "Thanks Gunter. I guess a fundamental follow up would be why have socket implement something like <i>Stream&lt;List&lt;int&gt;&gt;</i> as it is not clear what is going on since int has a hierarchy. But <i>Stream&lt; ByteArray &gt;</i> is clear that it is leaving it to the higher layer to interpret some number of bytes. Also, how do you read n bytes from the socket? It seems buffering is inherent and from logging I see the number of elements in the data is indeterminate."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 2693, "user_id": 1338952, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8b68393134f679f403bf573569e94161?s=128&d=identicon&r=PG", "display_name": "user1338952", "link": "https://stackoverflow.com/users/1338952/user1338952"}, "edited": false, "score": 0, "creation_date": 1426530769, "post_id": 29082598, "comment_id": 46401653, "body": "I guess it should be <code>Stream&lt;Uint8List&gt;</code> to be explicit and avoid ambiguity. Hopefully we get some additional info from LRHN when he sees the question."}, {"owner": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "edited": false, "score": 0, "creation_date": 1426559027, "post_id": 29082598, "comment_id": 46412942, "body": "Uint8List is in dart:typed_data, I&#39;m guessing that don&#39;t want to introduce a dependency in dart:io. If Dart fully implements typedef, then it would be possible to &quot;typedef byte int;&quot;, and then it would become a Stream&lt;List&lt;byte&gt;&gt;. I kind of like the composable nature of Streams and Lists, so I&#39;m not sure if I like &quot;typedef ByteStream Stream&lt;List&lt;int&gt;&gt;;&quot;, which would be another way to do the same."}, {"owner": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "edited": false, "score": 0, "creation_date": 1426559571, "post_id": 29082598, "comment_id": 46413081, "body": "@G&#252;nterZ&#246;chbauer - Is it safe to assume that the chunks passed to IntConverter.convert() are always a multiple of 8?"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "edited": false, "score": 0, "creation_date": 1426568250, "post_id": 29082598, "comment_id": 46415169, "body": "@GregLowe I&#39;m not sure I fully understand your question. It depends on the type you use. If I&#39;d use Uint32List it would insert 4 bytes per int instead of 8."}, {"owner": {"reputation": 11352, "user_id": 1460491, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hAkIT.jpg?s=128&g=1", "display_name": "Greg Lowe", "link": "https://stackoverflow.com/users/1460491/greg-lowe"}, "edited": false, "score": 1, "creation_date": 1426578239, "post_id": 29082598, "comment_id": 46418758, "body": "The numbers are converted to binary and sent over the network. The network layer splits the binary into packets of some arbitrary size, then receiving software gets packets from the network layer the size of which depends on the operating systems networking implementation. What happens if the network decides to chop up data the data into packets of size 1500 bytes, which is not a multiple of 8? You&#39;ll get half of a int64 in one packet, and then the other half in the next packet. Your IntConverter class doesn&#39;t handle this correctly."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1426578305, "post_id": 29082598, "comment_id": 46418792, "body": "Ok, I see what you mean."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9239214"}, "edited": false, "score": 0, "creation_date": 1530805491, "post_id": 29082598, "comment_id": 89372305, "body": "only client side (the last part) how to catch connection error, data error etc...?"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1530805641, "post_id": 29082598, "comment_id": 89372398, "body": "You can use <code>try{ for(var e in client.transform(new IntConverter())) { ...\u00a0} } catch(e) {...}</code> or <code>.listen((e) {...}, onError: (e) { ...\u00a0});</code>"}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 4, "last_activity_date": 1426576919, "last_edit_date": 1426576919, "creation_date": 1426524961, "answer_id": 29082598, "question_id": 29081144, "link": "https://stackoverflow.com/questions/29081144/writing-reading-number-of-bytes-to-from-socket-data-in-dart/29082598#29082598", "title": "writing/reading number of bytes to/from socket data in Dart", "body": "<p>This worked for me, I'm not sure this is the most elegant solution</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:io';\nimport 'dart:async';\nimport 'dart:typed_data';\n\nmain() async {\n  final server = await ServerSocket.bind('127.0.0.1', 4041);\n  server.listen((Socket socket) {\n    print('Got connected ${socket.remoteAddress}');\n\n    var toByte = new StreamTransformer&lt;List&lt;int&gt;, Uint8List&gt;.fromHandlers(\n        handleData: (data, sink) {\n      sink.add(new Uint64List.fromList(data).buffer.asUint8List());\n    });\n\n    var streamController = new StreamController&lt;List&lt;int&gt;&gt;();\n    streamController.stream.transform(toByte).pipe(socket);\n\n    for (int i = 0; i &lt; 1024; i++) {\n      streamController.add([i]);\n    }\n    streamController.close();\n    print('Closed ${socket.remoteAddress}');\n  });\n}\n</code></pre>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:io';\nimport 'dart:async';\n\nmain() async {\n  final Socket client = await Socket.connect('127.0.0.1', 4041);\n\n  var fromByte = new StreamTransformer&lt;List&lt;int&gt;, List&lt;int&gt;&gt;.fromHandlers(\n      handleData: (data, sink) {\n    sink.add(data.buffer.asInt64List());\n  });\n\n  client.transform(fromByte).listen((e) =&gt; e.forEach(print));\n  print('main done');\n}\n</code></pre>\n\n<p><strong>Original attempt:</strong></p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:io';\nimport 'dart:typed_data';\n\nmain() async {\n  final server = await ServerSocket.bind('127.0.0.1', 4041);\n  server.listen((Socket socket) {\n    print('Got connected ${socket.remoteAddress}');\n    for(int i=0; i&lt;1024; i++) {\n      socket.add(new Uint64List.fromList([i]).buffer.asUint8List());\n    }\n    socket.close();\n    print('Closed ${socket.remoteAddress}');\n  });\n}\n</code></pre>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:io';\nimport 'dart:typed_data';\n\nmain() async {\n  final Socket client = await Socket.connect('127.0.0.1', 4041);\n  client.listen(\n      (var data) {\n        var ints = new Uint8List.fromList(data).buffer.asInt64List();\n        ints.forEach((i) =&gt; print('Got $i'));\n      },\n      onDone: () { print('Done'); client.close(); },\n      onError: (e) { print('Got error $e'); client.close(); });\n  print('main done');\n}\n</code></pre>\n\n<p>If you don't need the range of an Int64 you can also use Int32, Int16 or some of the UIntXX types or whatever fits your value range best, to save some redundantly transmitted 0-bytes.</p>\n\n<p>I have the suspicion that using a converter like it's explained here <a href=\"https://www.dartlang.org/articles/converters-and-codecs/\" rel=\"nofollow\">https://www.dartlang.org/articles/converters-and-codecs/</a> could be used to do it more elegantly. This seems similar <a href=\"https://gist.github.com/xxgreg/9104926\" rel=\"nofollow\">https://gist.github.com/xxgreg/9104926</a> but I have to admit that I'm not able to apply these examples for your use case.</p>\n\n<p><strong>Update</strong></p>\n\n<p>I got it working like shown in the articles linked above</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:convert';\nimport 'dart:typed_data';\n\nclass IntConverter extends Converter&lt;List&lt;int&gt;, List&lt;int&gt;&gt; {\n  const IntConverter();\n\n  List&lt;int&gt; convert(List&lt;int&gt; data) {\n    if (data is Uint8List) {\n      return data.buffer.asInt64List();\n    } else {\n      return new Uint64List.fromList(data).buffer.asUint8List();\n    }\n  }\n\n  IntSink startChunkedConversion(sink) {\n    return new IntSink(sink);\n  }\n}\n\nclass IntSink extends ChunkedConversionSink&lt;List&lt;int&gt;&gt; {\n  final _converter;\n  // fales when this type is used\n  // final ChunkedConversionSink&lt;List&lt;int&gt;&gt; _outSink;\n  final _outSink;\n\n  IntSink(this._outSink) : _converter = new IntConverter();\n\n  void add(List&lt;int&gt; data) {\n    _outSink.add(_converter.convert(data));\n  }\n\n  void close() {\n    _outSink.close();\n  }\n}\n</code></pre>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:io';\nimport 'dart:typed_data';\n\nmain() async {\n  final server = await ServerSocket.bind('127.0.0.1', 4041);\n  server.listen((Socket socket) {\n    print('Got connected ${socket.remoteAddress}');\n\n    for (int i = 0; i &lt; 1024; i++) {\n      socket.add(new Uint64List.fromList([i]).buffer.asUint8List());\n    }\n    socket.close();\n    print('Closed ${socket.remoteAddress}');\n  });\n}\n</code></pre>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:io';\nimport 'byte_converter.dart';\n\nmain() async {\n  final Socket client = await Socket.connect('127.0.0.1', 4041);\n  client.transform(new IntConverter()).listen((e) =&gt; e.forEach(print));\n  print('main done');\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2085, "user_id": 2418642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661bf0e57b634fc69c154d2e1901520c?s=128&d=identicon&r=PG", "display_name": "sgjesse", "link": "https://stackoverflow.com/users/2418642/sgjesse"}, "is_accepted": false, "score": 5, "last_activity_date": 1426607984, "creation_date": 1426607984, "answer_id": 29103895, "question_id": 29081144, "link": "https://stackoverflow.com/questions/29081144/writing-reading-number-of-bytes-to-from-socket-data-in-dart/29103895#29103895", "title": "writing/reading number of bytes to/from socket data in Dart", "body": "<p>One thing to make clear is that even though most methods in <code>dart:io</code> operate on <code>List&lt;int&gt;</code> the <em>underlying assumption</em> for all IO in Dart is that these lists are list of byte values. The documentation it probably not that precise about that.</p>\n\n<p>This means that you can use whatever <code>List</code> implementation you like when sending bytes - including typed data, e.g.</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>var socket = ...\nsocket.add([1, 2, 3]);\nsocket.add(new List&lt;int&gt;.generate(3, (int index) =&gt; index * index);\nsocket.add('ASCII'.codeUnits);\nsocket.add(UTF8.encode('S\u00f8ren'));\n\nvar typedData = new Uint8List(8);\nvar data = new ByteData.view(typedData.buffer);\ndata.setInt32(0, 256 * 256 - 1);\ndata.setInt32(4, 256 * 256 - 1, Endianness.LITTLE_ENDIAN);\nsocket.add(typedData)\n</code></pre>\n\n<p>When receiving data from a socket the data delivered on the <code>Socket</code> stream are the byte-chunks as delivered from the OS. You can make no predictions of how many bytes are received at the time. If you want to be able to read a specific number of bytes one option is to implement a byte reader which have a method like this:</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>Future&lt;List&lt;int&gt;&gt; read(int numBytes);\n</code></pre>\n\n<p>This byte reader can then be initialized with a stream of <code>List&lt;int&gt;</code> and handle the framing. What you could do is have a buffer (maybe use <a href=\"https://api.dartlang.org/apidocs/channels/stable/dartdoc-viewer/dart:io.BytesBuilder\" rel=\"noreferrer\"><code>BytesBuilder</code></a> from <code>dart:io</code>) which collect data as it is received. When <code>read</code> is called the <code>Future</code> completed when enough bytes are available. Such a byte reader can also pause the stream when the amount of buffered data reaches a certain limit and resume it again when data is read.</p>\n"}], "owner": {"reputation": 2693, "user_id": 1338952, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8b68393134f679f403bf573569e94161?s=128&d=identicon&r=PG", "display_name": "user1338952", "link": "https://stackoverflow.com/users/1338952/user1338952"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4030, "favorite_count": 1, "accepted_answer_id": 29082598, "answer_count": 2, "score": 4, "last_activity_date": 1426607984, "creation_date": 1426520956, "last_edit_date": 1426523165, "question_id": 29081144, "link": "https://stackoverflow.com/questions/29081144/writing-reading-number-of-bytes-to-from-socket-data-in-dart", "title": "writing/reading number of bytes to/from socket data in Dart", "body": "<p>In the following server/client socket code, the server tries to send ints from 0 to 1023. The client receives the right number of ints but they wrap at 255. Why is this and what is the proper way?</p>\n\n\n\n<h3><strong>* Server *</strong></h3>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:async';\nimport 'dart:io';\n\nmain() async {\n  final server = await ServerSocket.bind('127.0.0.1', 4041);\n  server.listen((Socket socket) {\n    print('Got connected ${socket.remoteAddress}');\n    for(int i=0; i&lt;1024; i++) {\n      socket.add([i]);\n    }\n    socket.close();\n    print('Closed ${socket.remoteAddress}');\n  });\n}\n</code></pre>\n\n<h3><strong>* Client *</strong></h3>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:async';\nimport 'dart:io';\n\nmain() async {\n  final client = await Socket.connect('127.0.0.1', 4041);\n  client.listen(\n      (var data) =&gt; print('Got $data'),\n      onDone: () { print('Done'); client.close(); },\n      onError: (e) { print('Got error $e'); client.close(); });\n  print('main done');\n}\n</code></pre>\n\n<p>Also, it feels like the Socket api is a bit different - being more Dartish than other languages the way it supports reading as a stream. But what if you just want to read <em>N</em> bytes? How do you achieve that? I see the <em>take</em> method (<em>Stream take(int count)</em>) but I'm not clear on what exactly <em>count</em> is taking, especially in terms of how many bytes have been read. Because Socket implements <em>Stream&lt; List &lt; int > ></em> and because int is not really a fixed size entity (I think??), how do you know how many bytes have been read?</p>\n"}, {"tags": ["dart", "dart-polymer"], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1426520398, "last_edit_date": 1426520398, "creation_date": 1426519243, "answer_id": 29080521, "question_id": 29074633, "link": "https://stackoverflow.com/questions/29074633/on-blur-handler-is-triggered-only-on-alternate-events/29080521#29080521", "title": "On-blur handler is triggered only on alternate events", "body": "<p>Just change <code>el.focus();</code> to <code>new Future(() =&gt; el.focus());</code>.\nThis way you delay <code>focus</code> a bit and allow the InputElement to get unhidden before <code>focus()</code> is called. </p>\n"}], "owner": {"reputation": 333, "user_id": 1748903, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/53518a02163146ad2eaf612920c18b83?s=128&d=identicon&r=PG", "display_name": "Hesh", "link": "https://stackoverflow.com/users/1748903/hesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "accepted_answer_id": 29080521, "answer_count": 1, "score": 1, "last_activity_date": 1426520840, "creation_date": 1426502051, "last_edit_date": 1426520840, "question_id": 29074633, "link": "https://stackoverflow.com/questions/29074633/on-blur-handler-is-triggered-only-on-alternate-events", "title": "On-blur handler is triggered only on alternate events", "body": "<p>I have a custom element which toggles hidden states of a span and an input element when clicked so that the user perceives that the span is replaced by the input each time he clicks it.</p>\n\n<p>I want the input to toggle back to hidden state and span to visible state when the input loses focus. </p>\n\n<p>However, once the input is revealed and given the focus, exiting the field (e.g., by clicking outside), the blur handler method is not triggered the first time. On repeating the process the second time, the blur is triggered. For the method to fire, one has to enter the field twice, each time.</p>\n\n<p>How to avoid the need for entering into the input field twice to trigger the <em>on-blur</em> event?</p>\n\n<p>I include my code.</p>\n\n<p><strong>index.html</strong> </p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head lang=\"en\"&gt;\n  &lt;link rel=\"import\" href=\"packages/polymer/polymer.html\"&gt;\n  &lt;link rel=\"import\" href=\"toggle_el.html\"&gt;\n  &lt;meta charset=\"UTF-8\"&gt;\n  &lt;title&gt;&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;toggle-el&gt;&lt;/toggle-el&gt;\n  &lt;script type=\"application/dart\" src='main.dart'&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I am initializing polymer from the <strong>main.dart</strong></p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:polymer/polymer.dart';\n\nmain() {\n  initPolymer();\n}\n</code></pre>\n\n<p>Custom Element html file: <strong>toggle_el.html</strong></p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>&lt;link rel=\"import\" href=\"packages/polymer/polymer.html\"&gt;\n&lt;polymer-element name=\"toggle-el\"&gt;\n  &lt;template&gt;\n    &lt;span hidden?=\"{{editMode}}\" \n        on-click=\"{{switchEdit}}\" id=\"name\"&gt;{{name}}&lt;/span&gt;\n    &lt;input id=\"nmInput\" hidden?=\"{{!editMode}}\" \n        on-blur=\"{{switchEdit}}\" type=\"text\"\n        value=\"{{name}}\"/&gt;\n  &lt;/template&gt;\n  &lt;script type=\"application/dart\" src=\"toggle_el.dart\"&gt;&lt;/script&gt;\n&lt;/polymer-element&gt;\n</code></pre>\n\n<p>Custom Element dart file: <strong>toggle_el.dart</strong></p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:polymer/polymer.dart';\nimport 'dart:html';\n\n@CustomTag('toggle-el')\nclass toggleElement extends PolymerElement {\n  @observable String name = 'Dartgnan';\n  @observable bool editMode = false;\n\n  toggleElement.created() : super.created();\n\n  @override ready();\n\n  void switchEdit(Event ev, var detail, Node sender) {\n    editMode = !editMode;\n    print('edit mode is now ${editMode ? 'on' : 'off'}');\n    if (editMode) {\n      InputElement el = $['nmInput'];\n      el.focus();\n      el.selectionStart = 0;\n      el.selectionEnd = 999;\n    }\n  } \n}\n</code></pre>\n"}, {"tags": ["dart", "dart-polymer"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1426483141, "post_id": 29068460, "comment_id": 46375024, "body": "Have you tried adding it to the library instead of the part?"}, {"owner": {"reputation": 4633, "user_id": 2258442, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7dc1f8dac4d92b4abb781ec2b11d8be6?s=128&d=identicon&r=PG", "display_name": "st_clair_clarke", "link": "https://stackoverflow.com/users/2258442/st-clair-clarke"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1426543320, "post_id": 29068460, "comment_id": 46408371, "body": "No. I have now tried your suggestion, but a question arises. The library directive would be the first library entry - library | epimss_shared.components; |. When I put the reference | @HtmlImport(&#39;blue-theme&#39;) | does this implicitly says that the blue-theme is now part of the mentioned library? From the given usage, the HtmlImport is usually followed by its reference library. Is this correct or incorrect."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1426567967, "post_id": 29068460, "comment_id": 46415096, "body": "This just says when you import the library the transformer adds an HTML import for the components HTML so you or users of your component doesn&#39;t have to do it manually."}], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1429515422, "last_edit_date": 1495534217, "creation_date": 1429515422, "answer_id": 29741813, "question_id": 29068460, "link": "https://stackoverflow.com/questions/29068460/how-to-make-a-dart-file-with-an-htmlimport-directive-part-of-a-library/29741813#29741813", "title": "How to make a .dart file with an @HtmlImport directive part of a library", "body": "<p>When you import the library the transformer adds an HTML import declared by <code>@HtmlImport(...)</code> for the components HTML so you or users of your component don't have to do it manually.</p>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/29708183\">Dart. How to use @HtmlImport on the example of Polymer?</a></p>\n"}], "owner": {"reputation": 4633, "user_id": 2258442, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7dc1f8dac4d92b4abb781ec2b11d8be6?s=128&d=identicon&r=PG", "display_name": "st_clair_clarke", "link": "https://stackoverflow.com/users/2258442/st-clair-clarke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1429520107, "creation_date": 1426470460, "last_edit_date": 1429520107, "question_id": 29068460, "link": "https://stackoverflow.com/questions/29068460/how-to-make-a-dart-file-with-an-htmlimport-directive-part-of-a-library", "title": "How to make a .dart file with an @HtmlImport directive part of a library", "body": "<p>Given that the library directive can be the only directive in a file, how can I make a component .dart file that is part of a library also contain the @HtmlImport directive?</p>\n\n<p>For example, given the following:</p>\n\n<p><strong>.dart</strong></p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>part of epimss_shared.components;\n\n@CustomTag('blue-theme')\nclass BlueTheme extends PolymerElement {\n  String topic = '';\n\n  @observable String lb50 = lightBlue_50;\n  @observable String lb100 = lightBlue_100;\n  @observable String lb200 = lightBlue_200;\n  @observable String lb700 = lightBlue_700;\n\n  BlueTheme.created() : super.created();\n\n  @published\n  String get width =&gt; readValue(#width);\n  set width(String value) =&gt; writeValue(#width, value);\n\n  @override\n  void attached() {\n    super.attached();\n    topic = this.dataset['topic'];\n  }\n}\n</code></pre>\n\n<p><strong>.html</strong></p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;link href='../../../../packages/core_elements/core_style.html' rel='import' &gt;\n\n&lt;polymer-element name='blue-theme'&gt;\n\n  &lt;template&gt;\n    &lt;core-style id='blue-theme'&gt;\n      :host {}\n      &lt;!-- BLUE THEME --&gt;   \n      .lblue50 {\n        background-color: {{lb50}};\n        padding-top: 5px;\n        padding-bottom: 5px;\n        border-radius: 10px;\n        width: {{width}};\n      }   \n\n      .lblue100 {\n        background-color: {{lb100}};\n        padding-top: 5px;\n        padding-bottom: 5px;\n        border-radius: 10px;\n      }  \n\n      .lblue200 {\n        background-color: {{lb200}};\n        border-radius: 10px;\n        padding-left: 2px;\n        padding-right: 2px;\n        padding-top: 4px; \n      }  \n\n      .lblue700 {\n        background-color: {{lb700}};\n        border-radius: 10px;\n      }\n    &lt;/core-style&gt;\n  &lt;/template&gt;\n\n  &lt;script type='application/dart' src='blue_theme.dart'&gt;&lt;/script&gt;\n&lt;/polymer-element&gt;\n</code></pre>\n\n<p>If I should add ..</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>@HtmlImport('blue_theme.html')\nlibrary epimss_shared.component.dart;\n</code></pre>\n\n<p>to the .dart src, errors are suggested that that the library directive can be the only directive on the page.</p>\n\n<p>I thought that with the new HtmlImport I could now finally put .dart and .html file in a library the same way I can do it with .dart files alone, but this seems incorrect.</p>\n\n<p>Is there a way to accomplish what I am trying to do? Thanks</p>\n"}, {"tags": ["css", "dart", "angular-dart"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1426486791, "post_id": 29068415, "comment_id": 46376078, "body": "Weird, have you tried to investigate in Chrome DevTools?"}, {"owner": {"reputation": 3974, "user_id": 433895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26ffb8939a8111e0321254ae5259c7f8?s=128&d=identicon&r=PG", "display_name": "curt", "link": "https://stackoverflow.com/users/433895/curt"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1426523693, "post_id": 29068415, "comment_id": 46397209, "body": "What tool exactly? Do you mean using Chromium and dartium?"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1426523829, "post_id": 29068415, "comment_id": 46397313, "body": "Yes, investigate the DOM and look why the CSS is not applied."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1426525309, "post_id": 29068415, "comment_id": 46398357, "body": "Looks fine. When you select the second <code>&lt;span class=&quot;cite-text...&quot;&gt;</code> is the <code>border-bottom: ...</code> listed in the CSS attributes?"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1426526017, "post_id": 29068415, "comment_id": 46398828, "body": "Did you check in Dartium or Chrome. Can you please also check with the other browser and check if it behaves the same?"}, {"owner": {"reputation": 3974, "user_id": 433895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26ffb8939a8111e0321254ae5259c7f8?s=128&d=identicon&r=PG", "display_name": "curt", "link": "https://stackoverflow.com/users/433895/curt"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1426526024, "post_id": 29068415, "comment_id": 46398834, "body": "I don&#39;t know where the CSS attributes are listed. I took my best shot and added it to the question. There is a difference that explains why it&#39;s not rendering correctly."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1426526072, "post_id": 29068415, "comment_id": 46398873, "body": "It seems to be a browser issue. If this is in Dartium (Chromium) please also test in Chrome."}, {"owner": {"reputation": 1656, "user_id": 1694116, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/268a458dc746a58c84cc18f9c1d3321b?s=128&d=identicon&r=PG", "display_name": "Alex McCabe", "link": "https://stackoverflow.com/users/1694116/alex-mccabe"}, "edited": false, "score": 0, "creation_date": 1426526233, "post_id": 29068415, "comment_id": 46398977, "body": "The citations don&#39;t actually have the class of <code>.citation-text</code> applied to them, hence you cannot target them. Are you able to do it the more &#39;traditional&#39; way, instead of using the shadow DOM?"}, {"owner": {"reputation": 3974, "user_id": 433895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26ffb8939a8111e0321254ae5259c7f8?s=128&d=identicon&r=PG", "display_name": "curt", "link": "https://stackoverflow.com/users/433895/curt"}, "edited": false, "score": 0, "creation_date": 1426526939, "post_id": 29068415, "comment_id": 46399424, "body": "Sorry Alex, I changed the class tag to cite-text after my initial post because I thought it might have been a duplicate name."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1426527231, "post_id": 29068415, "comment_id": 46399619, "body": "If it works in Chrome it&#39;s a Dartium bug. Please report at <a href=\"http://dartbug.com\" rel=\"nofollow noreferrer\">dartbug.com</a> and please add a link to this SO question."}], "owner": {"reputation": 3974, "user_id": 433895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26ffb8939a8111e0321254ae5259c7f8?s=128&d=identicon&r=PG", "display_name": "curt", "link": "https://stackoverflow.com/users/433895/curt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1426526829, "creation_date": 1426470083, "last_edit_date": 1426526829, "question_id": 29068415, "link": "https://stackoverflow.com/questions/29068415/css-only-working-on-first-angular-selector", "title": "CSS Only Working on First Angular Selector", "body": "<p>I'm trying to apply css to my Angular selector. It works on the first one, but not the next two. They're all the same selector.</p>\n\n<h3>citation.dart</h3>\n\n<pre><code>library citation_component;\n\nimport 'package:angular/angular.dart';\nimport 'package:citation/tooltip/tooltip.dart' show TooltipModel;\n\n@Component(\n    selector: 'citation',\n    template: '&lt;span class=\"citation-text\" tooltip=\"tooltipForFootnote()\"&gt;{{citationText}}&lt;/span&gt;',\n    cssUrl: 'citation.css')\n\nclass CitationComponent\n{\n  @NgAttr('bibliographicEntry')\n  int bibliographicEntry;\n\n  @NgAttr('citationText')\n  String citationText;\n\n  // Set up the decorator\n  static final tooltip = new Expando&lt;TooltipModel&gt;();\n\n  TooltipModel tooltipForFootnote()\n  {\n    if (tooltip[this] == null)\n    {\n      tooltip[this] = new TooltipModel(bibliographicEntry);\n    }\n    return tooltip[this];\n  }\n}\n</code></pre>\n\n<h3>citation.css</h3>\n\n<pre><code>.citation-text { border-bottom: 1px dashed #808080; }\n</code></pre>\n\n<h3>index.html</h3>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html ng-app&gt;\n&lt;head&gt;\n  &lt;title&gt;Citable Prototype&lt;/title&gt;\n  &lt;link rel=\"stylesheet\" href=\"style.css\"&gt;\n\n  &lt;script src=\"packages/web_components/webcomponents.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"packages/web_components/dart_support.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;The Blow Family&lt;/h1&gt;\n&lt;p&gt;Joe Blow born &lt;citation bibliographicEntry=\"1\" citationText=\"12 Apr 1858\"&gt;  &lt;/citation&gt;&lt;/p&gt;\n\n&lt;p&gt;Robin Blow born &lt;citation bibliographicEntry=\"1\" citationText=\"9 Jan 1852\"&gt;   &lt;/citation&gt;&lt;/p&gt;\n\n&lt;p&gt;This is a long entry to see what happens when the tooltip hits the right side of the page John Blow born &lt;citation bibliographicEntry=\"2\" citationText=\"13 Dec 1850\"&gt;&lt;/citation&gt;&lt;/p&gt;\n\n&lt;div style=\"visibility: hidden;\"&gt;\n  &lt;div id=\"be1\"&gt;\n    &lt;h2&gt;Citation 1&lt;/h2&gt;\n    &lt;p&gt;source specification&lt;/p&gt;\n    &lt;p&gt;additional information&lt;/p&gt;\n  &lt;/div&gt;\n\n  &lt;div id=\"be2\"&gt;\n    &lt;h2&gt;Citation 2&lt;/h2&gt;\n    &lt;p&gt;source specification&lt;/p&gt;\n    &lt;p&gt;additional information&lt;/p&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;script type=\"application/dart\" src=\"main.dart\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"packages/browser/dart.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<h3>screen shot</h3>\n\n<p><img src=\"https://i.stack.imgur.com/S6wba.png\" alt=\"enter image description here\"></p>\n\n<p>The tooltip decorator works on all three.</p>\n\n<p>I usually serve the app through a virtual host entry and an Apache server. I also tried running pub serve and accessing it through <a href=\"http://localhost:8080\" rel=\"nofollow noreferrer\">http://localhost:8080</a>. I get the same problem. When I tried <a href=\"http://localhost:8081\" rel=\"nofollow noreferrer\">http://localhost:8081</a>, I got a 404 error. I also tried the Chromium browser. I've always got a log of error when I try to run the dart code directly as opposed to the build. I ran pub serve and tried <a href=\"http://localhost:8080\" rel=\"nofollow noreferrer\">http://localhost:8080</a> in Chromium. I had the same problem.</p>\n\n<h3>Debug output</h3>\n\n<p>This is what I saw when I did inspect element in Chromium.</p>\n\n<p><img src=\"https://i.stack.imgur.com/Y7b8Y.png\" alt=\"enter image description here\"></p>\n\n<p>The working and non-working entries appear identical. Very strange. FYI, I changed the css class to cite-text since my initial post.</p>\n\n<h3>More debug output</h3>\n\n<p>When I do inspect element on the second occurrence and view computed styles, I get:</p>\n\n<pre><code>border-bottom-color: rgb(0, 0, 0);\nborder-bottom-style: none;\nborder-bottom-width: 0px;\ndisplay: inline;\nheight: auto;\nwidth: auto;\n</code></pre>\n\n<p>The working entry had what you would expect to have it display correctly.</p>\n\n<h3>browser test</h3>\n\n<p>I tried the site in other browsers. I doesn't work in Chrome and Chromium. It works in Firefox and Safari. And now it works in Chrome! I stopped and restarted Chrome before seeing it working.</p>\n"}, {"tags": ["dart", "dart-async"], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 2, "last_activity_date": 1426483762, "creation_date": 1426483762, "answer_id": 29070144, "question_id": 29067514, "link": "https://stackoverflow.com/questions/29067514/how-to-add-data-to-a-synchronous-broadcast-streamcontroller-from-inside-an-event/29070144#29070144", "title": "How to add data to a synchronous broadcast StreamController from inside an event listener to that controller&#39;s Stream?", "body": "<p>I'm pretty sure this does the same as your example:</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>void broadcast(Event e) {\n    new Future(() =&gt; _ctrl.add(e));\n  });\n}\n</code></pre>\n\n<p>Instead of synchronously adding to <code>_ctrl</code> it registers a callback on the event queue to do the add. This is executed after the previous sync execution is done, so this should exactly do what you need.</p>\n"}], "owner": {"reputation": 308, "user_id": 2216134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0dc1aab952ca12357ee5c680ce85e42?s=128&d=identicon&r=PG", "display_name": "Alec Henninger", "link": "https://stackoverflow.com/users/2216134/alec-henninger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 354, "favorite_count": 0, "accepted_answer_id": 29070144, "answer_count": 1, "score": 2, "last_activity_date": 1426483762, "creation_date": 1426462310, "last_edit_date": 1426483472, "question_id": 29067514, "link": "https://stackoverflow.com/questions/29067514/how-to-add-data-to-a-synchronous-broadcast-streamcontroller-from-inside-an-event", "title": "How to add data to a synchronous broadcast StreamController from inside an event listener to that controller&#39;s Stream?", "body": "<p>In the documentation for <code>StreamController.broadcast()</code>:</p>\n\n<blockquote>\n  <p>The controller distributes any events to all currently subscribed\n  listeners at the time when [add], [addError] or [close] is called.\n  It is not allowed to call <code>add</code>, <code>addError</code>, or <code>close</code> before a previous\n  call has returned</p>\n</blockquote>\n\n<p>I understand the need for this limitation (at least, for synchronous broadcast streams), however I'd like to get around this somehow, as events triggering other events is central to my design goal (I'm open to critique on this design, if relevant).</p>\n\n<p>I have tried a solution that seems to be working, but I'd like to either understand if this solution is flawed or if there is a better one. I am using an intermediary method to add data to a Stream. That method uses a future that completes when a current <code>add</code> call is finished. In this way, when an event listener broadcasts an event, it is \"queued\" until all of the other handlers for the current event being added are called. This seems to work, but I was honestly surprised it did, and am wondering if any Dart experts can poke holes in it or let me know if there is a better way.</p>\n\n<p>Here is the code:</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>// Instance field... starts off complete on initialization\nCompleter _broadcasting = new Completer()..complete();\n\nvoid broadcast(Event e) {\n  _broadcasting.future.then((_) {\n    _broadcasting = new Completer();\n\n    _ctrl.add(e);\n\n    _broadcasting.complete();\n  });\n}\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["dart", "command"], "answers": [{"comments": [{"owner": {"reputation": 3158, "user_id": 1467202, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a08ba466953435a072ca8a285a58a736?s=128&d=identicon&r=PG", "display_name": "kjh", "link": "https://stackoverflow.com/users/1467202/kjh"}, "edited": false, "score": 0, "creation_date": 1426557856, "post_id": 29070630, "comment_id": 46412644, "body": "This worked. Idk why it didn&#39;t occur to me that options was just a property of argParser.  I suppose keeping a dart implementation of python&#39;s <code>dir()</code> function would be handy."}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1426486587, "creation_date": 1426486587, "answer_id": 29070630, "question_id": 29066973, "link": "https://stackoverflow.com/questions/29066973/dart-nosuchmethoderror-method-not-found-options-when-using-commandrunner/29070630#29070630", "title": "Dart, NoSuchMethodError: method not found: &#39;options&#39; when using CommandRunner", "body": "<p>I guess the example should look like </p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:args/args.dart';\nimport 'package:args/command_runner.dart';\n\nvoid main(List&lt;String&gt; args) {\n  var parser = new ArgParser();\n\n  var command = new ArgParser();\n  parser.addCommand('shuffle', command);\n\n  var runner = new CommandRunner('shuffle', '')\n    ..addCommand(new ShuffleCommand())\n    ..run(args);\n\n}\n\nclass ShuffleCommand extends Command {\n\n  final name = \"shuffle\";\n  final description = \"Shuffle and choose cards from a deck\";\n\n  ShuffleCommand() {\n    argParser\n      ..addFlag('count', abbr: 'c', defaultsTo: true)\n      ..addOption('deck');\n  }\n\n  void run() {\n    print(argParser.options);\n  }\n}\n</code></pre>\n\n<p>when you run it with <code>dart main.dart shuffle</code>, <code>run()</code> is executed and the options printed out. </p>\n"}], "owner": {"reputation": 3158, "user_id": 1467202, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a08ba466953435a072ca8a285a58a736?s=128&d=identicon&r=PG", "display_name": "kjh", "link": "https://stackoverflow.com/users/1467202/kjh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 209, "favorite_count": 1, "accepted_answer_id": 29070630, "answer_count": 1, "score": 1, "last_activity_date": 1426486671, "creation_date": 1426458724, "last_edit_date": 1426486671, "question_id": 29066973, "link": "https://stackoverflow.com/questions/29066973/dart-nosuchmethoderror-method-not-found-options-when-using-commandrunner", "title": "Dart, NoSuchMethodError: method not found: &#39;options&#39; when using CommandRunner", "body": "<p>Using the example here: <a href=\"http://www.dartdocs.org/documentation/args/0.13.0/index.html\" rel=\"nofollow\">http://www.dartdocs.org/documentation/args/0.13.0/index.html</a></p>\n\n<p>I'm trying to write a command line app, but I get <code>NoSuchMethodError: method not found: 'options'</code> when I try to use this example code. Why isn't <code>options</code> defined for the Command subclass instance? If I'm not supposed to use <code>options</code> then what am I supposed to use to access the options passed to this command?</p>\n\n<p>Here's my code which also fails:</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>class ShuffleCommand extends Command {\n\n  final name = \"shuffle\";\n  final description = \"Shuffle and choose cards from a deck\";\n\n  ShuffleCommand() {\n    argParser\n      ..addFlag('count', abbr: 'c', defaultsTo: \"1\")\n      ..addOption('deck');\n  }\n\n  void run() {\n    print(options);\n  }\n} \n</code></pre>\n"}, {"tags": ["javascript", "dart", "sublimetext", "sublimetext3"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 1, "creation_date": 1426427920, "post_id": 29061420, "comment_id": 46359075, "body": "You have to make sure that your PATH environment variable includes the path to the SDK."}], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1426433565, "last_edit_date": 1426433565, "creation_date": 1426428107, "answer_id": 29061471, "question_id": 29061420, "link": "https://stackoverflow.com/questions/29061420/programming-dart-in-sublime-text-3-changing-path-to-dart-sdk/29061471#29061471", "title": "Programming Dart in Sublime Text 3, Changing Path to dart-sdk", "body": "<p>Ensure the <code>PATH</code> environment variable includes the path to the <code>dart-sdk/bin</code> directory. This should be enough if you have only one Dart version installed at one time. </p>\n"}], "owner": {"reputation": 11, "user_id": 4673213, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206160806722946/picture?type=large", "display_name": "Arnold Wey", "link": "https://stackoverflow.com/users/4673213/arnold-wey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1074, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1426433565, "creation_date": 1426427814, "last_edit_date": 1426430108, "question_id": 29061420, "link": "https://stackoverflow.com/questions/29061420/programming-dart-in-sublime-text-3-changing-path-to-dart-sdk", "title": "Programming Dart in Sublime Text 3, Changing Path to dart-sdk", "body": "<p>I downloaded Sublime Text 3 on my 14.04 Ubuntu machine, installed Package Control, and installed the Dart Plugin. I also have the dart-sdk that I downloaded from dartlang.</p>\n\n<p>I went into the user preferences file in Sublime Text and added</p>\n\n<pre><code>\"dart_sdk_path\": \"/home/arnold/Documents/dart/dart-sdk\",\n</code></pre>\n\n<p>For good measure, I also tried </p>\n\n<pre><code>\"dartsdk_path\": \"/home/arnold/Documents/dart/dart-sdk\",\n\"dart-sdk_path\": \"/home/arnold/Documents/dart/dart-sdk\",\n</code></pre>\n\n<p>When I try to compile to JavaScript using dart2js, with <code>Ctrl+Shift+P</code> and selecting Build: Dart: dart2js, I get the following error:</p>\n\n<pre><code>[Errno 2] No such file or directory: 'dart2js'\n[cmd: ['dart2js', '--minify', '-o/home/arnold/Documents/ECE161/Python/Flask/templates/dart.html.js', '/home/arnold/Documents/ECE161/Python/Flask/templates/dart.html']]\n[dir: /home/arnold/Documents/ECE161/Python/Flask]\n[path: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games]\n[Finished]\n</code></pre>\n\n<p>I've already told Sublime Text where the sdk is, right? So why is it pointing to </p>\n\n<pre><code>[path: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games] \n</code></pre>\n\n<p>and how can I fix this, if that's the issue.</p>\n"}, {"tags": ["dart", "dart-polymer"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1426334070, "post_id": 29048084, "comment_id": 46335426, "body": "It should be compatible. There were already one or two updates with bug fixes. If you have the most recent and still doesn&#39;t work report the issue."}, {"owner": {"reputation": 1117, "user_id": 3130717, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8dd8c8ecf16e5c83e93d7f2ac2434d52?s=128&d=identicon&r=PG&f=1", "display_name": "Anders", "link": "https://stackoverflow.com/users/3130717/anders"}, "edited": false, "score": 0, "creation_date": 1426382643, "post_id": 29048084, "comment_id": 46349622, "body": "I just tried it with gitbacklog and got crazy things happening so reverted back to 0.15. I didn&#39;t have time to look into it but there are definitely backward compatibility issues"}, {"owner": {"reputation": 4633, "user_id": 2258442, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7dc1f8dac4d92b4abb781ec2b11d8be6?s=128&d=identicon&r=PG", "display_name": "st_clair_clarke", "link": "https://stackoverflow.com/users/2258442/st-clair-clarke"}, "edited": false, "score": 0, "creation_date": 1426423035, "post_id": 29048084, "comment_id": 46357533, "body": "After many attempts of installation it is working. I found that I had to use the popup menu update and get as the command line update and get hangs the application."}, {"owner": {"reputation": 897, "user_id": 1609153, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7f27f99d230fd321eafead95ebbf566b?s=128&d=identicon&r=PG", "display_name": "Tom Russell", "link": "https://stackoverflow.com/users/1609153/tom-russell"}, "edited": false, "score": 0, "creation_date": 1451078478, "post_id": 29048084, "comment_id": 56675037, "body": "This happens occasionally when I introduce a change, esp an error, into an application I&#39;m developing in WebStorm. I also see in on the command line. When restarting <code>pub serve</code>, the app again runs normally. Seems like it happened in Dart 0.12 and now in 0.13 with Dartium. Sometimes there&#39;s a msg about failing to inline an import."}], "owner": {"reputation": 4633, "user_id": 2258442, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7dc1f8dac4d92b4abb781ec2b11d8be6?s=128&d=identicon&r=PG", "display_name": "st_clair_clarke", "link": "https://stackoverflow.com/users/2258442/st-clair-clarke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 654, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1426330447, "creation_date": 1426330447, "question_id": 29048084, "link": "https://stackoverflow.com/questions/29048084/404-not-found-could-not-find-asset-web-index-html-in-package-polymer-snippet", "title": "404 Not Found Could not find asset web/index.html in package polymer_snippet", "body": "<p>I have a working app prior to upgrading to the current polymer 0.16 and the current paper-element and core-element packages. Now when I run my index.html, I receive the following errors.</p>\n\n<p><strong>browser output</strong></p>\n\n<pre><code>404 Not Found\nCould not find asset web/index.html in package polymer_snippet.\n</code></pre>\n\n<p><strong>console output</strong> </p>\n\n<pre><code>Serving polymer_snippet web on http://localhost:8080\nBuild error:\nTransform polymer (PolymerBootstrapTransformer) on polymer_snippet|web/index.html threw error: Bad state: No element\ndart:collection/list.dart 133                                         Object&amp;ListMixin.firstWhere\npackage:initialize/transformer.dart 452                               InitializerData.annotationNode\npackage:web_components/build/html_import_annotation_recorder.dart 30  HtmlImportAnnotationRecorder.shouldApply\npackage:initialize/transformer.dart 279                               _BootstrapFileBuilder._buildNewEntryPoint.&lt;fn&gt;\ndart:collection/list.dart 127                                         Object&amp;ListMixin.firstWhere\npackage:initialize/transformer.dart 279                               _BootstrapFileBuilder._buildNewEntryPoint\npackage:initialize/transformer.dart 195                               _BootstrapFileBuilder.run\npackage:initialize/transformer.dart 35                                generateBootstrapFile\npackage:web_components/build/web_components.dart 32                   generateWebComponentsBootstrap\npackage:polymer/src/build/polymer_bootstrap.dart 55                   PolymerBootstrapTransformer.apply.&lt;fn&gt;.&lt;fn&gt;\ndart:async/zone.dart 1155                                             _RootZone.runUnary\ndart:async/future_impl.dart 484                                       _Future._propagateToListeners.handleValueCallback\ndart:async/future_impl.dart 567                                       _Future._propagateToListeners\ndart:async/future_impl.dart 550                                       _Future._propagateToListeners.handleWhenCompleteCallback.&lt;fn&gt;\ndart:async/zone.dart 1155                                             _RootZone.runUnary\ndart:async/future_impl.dart 484                                       _Future._propagateToListeners.handleValueCallback\ndart:async/future_impl.dart 567                                       _Future._propagateToListeners\ndart:async/future_impl.dart 358                                       _Future._completeWithValue\ndart:async/future_impl.dart 412                                       _Future._asyncComplete.&lt;fn&gt;\ndart:async/schedule_microtask.dart 41                                 _asyncRunCallbackLoop\ndart:async/schedule_microtask.dart 48                                 _asyncRunCallback\ndart:isolate-patch/isolate_patch.dart 96                              _runPendingImmediateCallback\ndart:isolate-patch/isolate_patch.dart 143                             _RawReceivePortImpl._handleMessage\n\ndart:collection                                                       Object&amp;ListMixin.firstWhere\npackage:initialize/transformer.dart 452                               InitializerData.annotationNode\npackage:web_components/build/html_import_annotation_recorder.dart 30  HtmlImportAnnotationRecorder.shouldApply\npackage:initialize/transformer.dart 279                               _BootstrapFileBuilder._buildNewEntryPoint.&lt;fn&gt;\ndart:collection                                                       Object&amp;ListMixin.firstWhere\npackage:initialize/transformer.dart 279                               _BootstrapFileBuilder._buildNewEntryPoint\npackage:initialize/transformer.dart 195                               _BootstrapFileBuilder.run\npackage:initialize/transformer.dart 35                                generateBootstrapFile\npackage:web_components/build/web_components.dart 32                   generateWebComponentsBootstrap\npackage:polymer/src/build/polymer_bootstrap.dart 55                   PolymerBootstrapTransformer.apply.&lt;fn&gt;.&lt;fn&gt;\ndart:isolate                                                          _RawReceivePortImpl._handleMessage\nBuild completed with 1 errors.\n[web] GET /index.html =&gt; Could not find asset polymer_snippet|web/index.html.\n[web] GET /favicon.ico =&gt; polymer_snippet|web/favicon.ico\n</code></pre>\n\n<p><strong>index.html</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n\n&lt;!--\n  Copyright (c) 2014, &lt;your name&gt;. All rights reserved. Use of this source code\n  is governed by a BSD-style license that can be found in the LICENSE file.\n--&gt;\n\n&lt;html&gt;\n&lt;head&gt;\n  &lt;meta charset=\"utf-8\"&gt;\n  &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"&gt;\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n  &lt;meta name=\"scaffolded-by\" content=\"https://github.com/google/stagehand\"&gt;\n  &lt;title&gt;polymer_snippet&lt;/title&gt;\n\n  &lt;!-- Add to homescreen for Chrome on Android --&gt;\n  &lt;meta name=\"mobile-web-app-capable\" content=\"yes\"&gt;\n  &lt;link rel=\"icon\" sizes=\"192x192\" href=\"images/touch/chrome-touch-icon-192x192.png\"&gt;\n\n  &lt;!-- Add to homescreen for Safari on iOS --&gt;\n  &lt;meta name=\"apple-mobile-web-app-capable\" content=\"yes\"&gt;\n  &lt;meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black\"&gt;\n  &lt;meta name=\"apple-mobile-web-app-title\" content=\"Web Starter Kit\"&gt;\n  &lt;link rel=\"apple-touch-icon-precomposed\" href=\"apple-touch-icon-precomposed.png\"&gt;\n\n  &lt;!-- Tile icon for Win8 (144x144 + tile color) --&gt;\n  &lt;meta name=\"msapplication-TileImage\" content=\"images/touch/ms-touch-icon-144x144-precomposed.png\"&gt;\n  &lt;meta name=\"msapplication-TileColor\" content=\"#3372DF\"&gt;\n\n  &lt;!-- example of using a paper element --&gt;\n  &lt;link rel=\"import\" href=\"packages/paper_elements/roboto.html\"&gt;\n\n  &lt;!-- example of your own custom element --&gt;\n  &lt;link rel=\"import\" href=\"packages/polymer_snippet/main_app.html\"&gt;\n  &lt;link rel=\"import\" href='../lib/main_app.html'&gt;\n\n  &lt;link rel=\"stylesheet\" href=\"styles.css\"&gt;\n\n  &lt;link href='packages/core_elements/core_icon.html'  rel='import'&gt;\n  &lt;link href='packages/bwu_fontawesome_iconset_svg/bwu_fontawesome_iconset_svg.html' rel='import' &gt;\n  &lt;link href='packages/bwu_emojione_iconset_svg/emojione_emoticons.html'  rel='import'&gt;\n  &lt;link href='packages/bwu_emojione_iconset_svg/emojione_dingbats.html'  rel='import'&gt;\n  &lt;link href='packages/bwu_emojione_iconset_svg/emojione_enclosed_characters.html'  rel='import'&gt;\n  &lt;link href='packages/bwu_emojione_iconset_svg/emojione_transport_and_map.html'  rel='import'&gt;\n  &lt;link href='packages/bwu_emojione_iconset_svg/emojione_uncategorized.html'  rel='import'&gt;\n\n&lt;/head&gt;\n\n&lt;body unresolved&gt;\n  &lt;bwu-fontawesome-iconset-svg&gt;&lt;/bwu-fontawesome-iconset-svg&gt;\n  &lt;emojione-emoticons&gt;&lt;/emojione-emoticons&gt;\n  &lt;emojione-dingbats&gt;&lt;/emojione-dingbats&gt;\n  &lt;emojione-enclosed-characters&gt;&lt;/emojione-enclosed-characters&gt;\n  &lt;emojione-transport-and-map&gt;&lt;/emojione-transport-and-map&gt;\n  &lt;emojione-uncategorized&gt;&lt;/emojione-uncategorized&gt;  &lt;main-app&gt;&lt;/main-app&gt;\n\n  &lt;script type=\"application/dart\"&gt;export 'package:polymer/init.dart';&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>Questions</strong>\n- Is polymer 0.16 backward compatible with 0.15?\n-Or is it that I will have to use @HtmlImport instead of the previos  styles?</p>\n"}, {"tags": ["dart", "dart-html"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1426334846, "post_id": 29045037, "comment_id": 46335627, "body": "What does &quot;throws up on it&quot; mean?"}, {"owner": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "edited": false, "score": 0, "creation_date": 1426334966, "post_id": 29045037, "comment_id": 46335662, "body": "My DartEditor recognizes that attribute just fine (Latest Dev Version)"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1426351046, "post_id": 29045037, "comment_id": 46340575, "body": "Where do you have this line? Is this within a function/method? This line is a getter and it seems to be somewhere where getters can&#39;t be used. Remove <code>get</code> and <code>&gt;</code> to verify or show more of your code."}, {"owner": {"reputation": 3974, "user_id": 433895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26ffb8939a8111e0321254ae5259c7f8?s=128&d=identicon&r=PG", "display_name": "curt", "link": "https://stackoverflow.com/users/433895/curt"}, "edited": false, "score": 0, "creation_date": 1426352601, "post_id": 29045037, "comment_id": 46341139, "body": "I made the change. The editor was happy, but I got two suppressed warnings. I was able to see issues in the Dart editor I fixed one because textSpan was out of scope. The other says CssRect is undefined. Do I need another import for it?"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1426353469, "post_id": 29045037, "comment_id": 46341435, "body": "As I assumed, you can&#39;t have a getter within a method. remove get and &gt; from this line and you should be fine."}, {"owner": {"reputation": 3974, "user_id": 433895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26ffb8939a8111e0321254ae5259c7f8?s=128&d=identicon&r=PG", "display_name": "curt", "link": "https://stackoverflow.com/users/433895/curt"}, "edited": false, "score": 0, "creation_date": 1426432305, "post_id": 29045037, "comment_id": 46360572, "body": "My code is now &quot;CssRect borderEdge = tooltipElem.borderEdge;&quot;. The dart editor doesn&#39;t like CssRect. It says it&#39;s undefined."}, {"owner": {"reputation": 3974, "user_id": 433895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26ffb8939a8111e0321254ae5259c7f8?s=128&d=identicon&r=PG", "display_name": "curt", "link": "https://stackoverflow.com/users/433895/curt"}, "edited": false, "score": 0, "creation_date": 1426436514, "post_id": 29045037, "comment_id": 46362057, "body": "Never mind, I figured it out. It should be dom.CssRect in my case."}], "answers": [{"comments": [{"owner": {"reputation": 3974, "user_id": 433895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26ffb8939a8111e0321254ae5259c7f8?s=128&d=identicon&r=PG", "display_name": "curt", "link": "https://stackoverflow.com/users/433895/curt"}, "edited": false, "score": 0, "creation_date": 1426444746, "post_id": 29046874, "comment_id": 46365057, "body": "See G&#252;nter Z&#246;chbauer&#39;s fix in the comments to the question and my summary."}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1426335008, "last_edit_date": 1426335008, "creation_date": 1426320798, "answer_id": 29046874, "question_id": 29045037, "link": "https://stackoverflow.com/questions/29045037/how-to-code-cssrect-borderedge/29046874#29046874", "title": "How to code CssRect borderEdge", "body": "<p>I tried and it works just fine (I'm using Dart bleeding edge/nightly build)</p>\n"}], "owner": {"reputation": 3974, "user_id": 433895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26ffb8939a8111e0321254ae5259c7f8?s=128&d=identicon&r=PG", "display_name": "curt", "link": "https://stackoverflow.com/users/433895/curt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 29046874, "answer_count": 1, "score": 1, "last_activity_date": 1426444558, "creation_date": 1426302913, "last_edit_date": 1426444558, "question_id": 29045037, "link": "https://stackoverflow.com/questions/29045037/how-to-code-cssrect-borderedge", "title": "How to code CssRect borderEdge", "body": "<p>I found just what I needed to determine the dimensions of a div in Dart <a href=\"https://api.dartlang.org/apidocs/channels/stable/dartdoc-viewer/dart:html.DivElement#id_borderEdge\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>In short, it says:</p>\n\n<pre><code>Experimental\nCssRect get borderEdge\n\nAccess the dimensions and position of this element's content + padding + border box.\n</code></pre>\n\n<p>How do code this?</p>\n\n<p>I'm trying to use it with this variable:</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:html' as dom;\ndom.DivElement textSpan = new dom.DivElement()\n</code></pre>\n\n<p>I found this example:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>CssRect get borderEdge =&gt; textSpan.borderEdge;\n</code></pre>\n\n<p>My IDE (PHPStorm) throws up on it. I'm a Dart noob so I may be missing something obvious. Here's a screen shot:</p>\n\n<p><img src=\"https://i.stack.imgur.com/h7TfT.png\" alt=\"enter image description here\"></p>\n\n<p>I also get a build error:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Compiling citation|web/main.dart...\n[Error from Dart2JS on citation|web/main.dart]:\npackages/citation/tooltip/tooltip.dart:68:5:\nExpected ';' after this.\nCssRect get borderEdge =&gt; textSpan.borderEdge;\n^^^^^^^\n[Info from Dart2JS]:\nTook 0:00:04.330468 to compile citation|web/main.dart.\nBuild failed.\n</code></pre>\n\n<p>I installed the Dart Editor and open the program in it. It didn't like it either:</p>\n\n<p><img src=\"https://i.stack.imgur.com/QJNLB.png\" alt=\"enter image description here\"></p>\n\n<h3>tooltip.dart</h3>\n\n<p>This started out as the tooltip component from the Angular Dart Chapter 4 Tutorial</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>library tooltip;\n\nimport 'dart:html' as dom;\nimport 'package:angular/angular.dart';\n\n@Decorator(selector: '[tooltip]')\n\nclass Tooltip\n{\nfinal dom.Element element;\n\n@NgOneWay('tooltip')\nTooltipModel displayModel;\n\ndom.Element tooltipElem;\ndom.Element entry;          // Bibliographic entry: div in the index.html\n\nTooltip(this.element)\n{\nelement..onMouseEnter.listen((_) =&gt; _createTemplate())\n       ..onMouseLeave.listen((_) =&gt; _destroyTemplate());\n}\n\nvoid _createTemplate()\n{\nassert(displayModel != null);\n\ntooltipElem = new dom.DivElement();\n\n// All entries have the id 'bex' where x is an integer\n\nentry = dom.querySelector('#be${displayModel.entryRef.toString()}');\nString htmlText = entry.innerHtml;\n\n\nif (displayModel.entryRef != null)\n{\n  dom.DivElement textSpan = new dom.DivElement()\n      ..appendHtml('&lt;hr&gt;')\n      ..appendHtml(htmlText)\n      ..style.color = \"black\"\n      ..style.fontSize = \"smaller\"\n      ..style.paddingBottom = \"5px\";\n\n  tooltipElem.append(textSpan);\n}\nint entryWidth = 200;\ntooltipElem.style\n    ..padding = \"5px\"\n    ..paddingBottom = \"0px\"\n    ..backgroundColor = \"#FFF5E0\"\n    ..borderRadius = \"5px\"\n    ..width = \"${entryWidth}px\";\n\n// position the tooltip.\n\nint windowHeight = dom.window.innerHeight;\nint windowWidth = dom.window.innerWidth;\nvar elTopRight = element.offset.topRight;\nvar elBottomLeft = element.offset.bottomLeft;\nint height = 100;\nint top = elTopRight.y;\nint bottom = elBottomLeft.y;\nint left = elBottomLeft.x;\nint right = elTopRight.x;\nCssRect get borderEdge =&gt; textSpan.borderEdge;\nprint('borderEdge:$borderEdge');\n// See if it will fit above\nint y = top - height - 10;\nif (y &lt; 0) y = bottom + 10;   // If it doesn't fit, put it below\n// Start with the left\nint x = left;\ntooltipElem.style\n    ..position = \"absolute\"\n    ..top = \"${y}px\"\n    ..left = \"${x}px\";\n\n // Add the tooltip to the document body. We add it here because we need to position it\n // absolutely, without reference to its parent element.\ndom.document.body.append(tooltipElem);\n}\n\nvoid _destroyTemplate()\n{\n  tooltipElem.remove();\n}\n}\n\nclass TooltipModel\n{\n  final int entryRef;\n\n  TooltipModel(this.entryRef);\n}\n</code></pre>\n\n<h2>Answer</h2>\n\n<p>This summarizes G\u00fcnter Z\u00f6chbauer's answer in the comments and an answer of my own.</p>\n\n<p>The first problem was that I was using the wrong syntax given the location of the code. The correct code for this location is:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code> CssRect borderEdge = tooltipElem.borderEdge;\n</code></pre>\n\n<p>The second problem unique to my situation was that my import statement was declared as:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:html' as dom;\n</code></pre>\n\n<p>The 'as dom' requires me to prefix all html api references with dom. So in my case, I needed to code:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code> dom.CssRect borderEdge = tooltipElem.borderEdge;\n</code></pre>\n\n<p>I got this code from the Angular dart tutorial. My next step is to remove that prefix so it doesn't screw me up again. Also note the answer code uses tooltipElem instead of textSpan. That change has nothing to do with the fix to the problem.</p>\n"}, {"tags": ["dart"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 2, "creation_date": 1426264331, "post_id": 29037318, "comment_id": 46315402, "body": "What are you in doubt about?"}, {"owner": {"reputation": 1977, "user_id": 4129445, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tBePx.png?s=128&g=1", "display_name": "Alex Haslam", "link": "https://stackoverflow.com/users/4129445/alex-haslam"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1426264436, "post_id": 29037318, "comment_id": 46315459, "body": "I am unsure if I should be using a static function in a constructor."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1426264526, "post_id": 29037318, "comment_id": 46315518, "body": "What do you mean by &quot;static function in a constructor&quot;. It is preferable to use a constructor <i>instead</i> of a static method. It&#39;s fine in your code."}, {"owner": {"reputation": 1977, "user_id": 4129445, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tBePx.png?s=128&g=1", "display_name": "Alex Haslam", "link": "https://stackoverflow.com/users/4129445/alex-haslam"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1426264758, "post_id": 29037318, "comment_id": 46315656, "body": "I know this. But in this case I call pastePages() in the constructor. Is there a &quot;more correct&quot; way of doing this?"}, {"owner": {"reputation": 6430, "user_id": 1075247, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6de7362951ec5bf3d40fa02de7175552?s=128&d=identicon&r=PG", "display_name": "Pureferret", "link": "https://stackoverflow.com/users/1075247/pureferret"}, "edited": false, "score": 2, "creation_date": 1426266717, "post_id": 29037318, "comment_id": 46316821, "body": "Have you tried <a href=\"https://codereview.stackexchange.com\">codereview.stackexchange.com</a> ?"}, {"owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "edited": false, "score": 0, "creation_date": 1426454334, "post_id": 29037318, "comment_id": 46368154, "body": "There&#39;s absolutely nothing wrong with using a static function in a constructor initializer list. If the function isn&#39;t used anywhere else, and users are not expected to use it, I&#39;d make it private, but otherwise I&#39;d have no problem submitting this code."}, {"owner": {"reputation": 218, "user_id": 2965191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b9dbe7d7d3568c4884b215b6aa7f76?s=128&d=identicon&r=PG", "display_name": "Pajn", "link": "https://stackoverflow.com/users/2965191/pajn"}, "edited": false, "score": 0, "creation_date": 1426710987, "post_id": 29037318, "comment_id": 46490141, "body": "If you don&#39;t need the <code>parsePages</code> method for anything other than constructing I would probably move the code into the <code>fromJson</code> constructor, but if you do I see no problem with having it.  I would also use a list literal <code>[]</code> instead of calling the <code>List</code> constructor. And if going deeper I would rewrite that <code>forEach</code> + adding to a list into mapping over <code>pageJson</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1117, "user_id": 3130717, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8dd8c8ecf16e5c83e93d7f2ac2434d52?s=128&d=identicon&r=PG&f=1", "display_name": "Anders", "link": "https://stackoverflow.com/users/3130717/anders"}, "edited": false, "score": 0, "creation_date": 1426290777, "post_id": 29037595, "comment_id": 46327382, "body": "I can&#39;t find the linter on pub"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 1117, "user_id": 3130717, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8dd8c8ecf16e5c83e93d7f2ac2434d52?s=128&d=identicon&r=PG&f=1", "display_name": "Anders", "link": "https://stackoverflow.com/users/3130717/anders"}, "edited": false, "score": 0, "creation_date": 1426321128, "post_id": 29037595, "comment_id": 46332394, "body": "You are right. I tried it on my PC and the output didn&#39;t look like an error message and because I had it already installed running it worked. I updated my answer."}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 3, "last_activity_date": 1426321077, "last_edit_date": 1426321077, "creation_date": 1426264943, "answer_id": 29037595, "question_id": 29037318, "link": "https://stackoverflow.com/questions/29037318/dart-style-guidance/29037595#29037595", "title": "Dart style guidance", "body": "<p>What can be improved is the formatting. Dartformat does this automatically (should be integrated in DartEditor). You can also run it manually from command line.</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code># install\npub global activate dart_style\n# run \npub global run dartformat -w myfile.dart\n# or to format a whole directory incl subdirs\npub global run dartformat -w .\n</code></pre>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>library ch_panel.section_model;\n\nimport 'package:ch_padart/models/page.dart';\n\nclass Section {\n  String icon;\n  String title;\n  List&lt;Page&gt; pages;\n\n  Section(this.icon, this.title, this.pages);\n  Section.fromJson(Map&lt;String, dynamic&gt; json)\n      : this(json['icon'], json['title'], parsePages(json['pages']));\n\n  static List&lt;Page&gt; parsePages(List&lt;Map&gt; pageJson) {\n    List&lt;Page&gt; itemPages = new List();\n\n    pageJson.forEach((v) {\n      itemPages.add(new Page(v['icon'], v['title']));\n    });\n\n    return itemPages;\n  }\n}\n</code></pre>\n\n<p>There is also a linter work in progress which checks style violations  (very early stage but can already be used)</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code> # install\n pub global activate -s git git@github.com:dart-lang/linter.git\n # run\n pub global run linter myfile.dart\n</code></pre>\n"}], "owner": {"reputation": 1977, "user_id": 4129445, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tBePx.png?s=128&g=1", "display_name": "Alex Haslam", "link": "https://stackoverflow.com/users/4129445/alex-haslam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 29037595, "answer_count": 1, "score": 0, "last_activity_date": 1426321077, "creation_date": 1426264109, "last_edit_date": 1426264987, "question_id": 29037318, "link": "https://stackoverflow.com/questions/29037318/dart-style-guidance", "title": "Dart style guidance", "body": "<p>I am trying to follow the dart style guide for my dart code but I am unsure about this:</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>library ch_panel.section_model;\n\nimport 'package:ch_padart/models/page.dart';\n\nclass Section {\n\n  String icon;\n  String title;\n  List&lt;Page&gt; pages;\n\n  Section(this.icon, this.title, this.pages);\n  Section.fromJson(Map&lt;String, dynamic&gt; json): this(json['icon'], json['title'], parsePages(json['pages']));\n\n  static List&lt;Page&gt; parsePages(List&lt;Map&gt; pageJson) {\n    List&lt;Page&gt; itemPages = new List();\n\n    pageJson.forEach((v) {\n      itemPages.add(new Page(v['icon'], v['title']));\n    });\n\n    return itemPages;\n  }\n}\n</code></pre>\n\n<p>Style guide I am referring to:\n<a href=\"https://www.dartlang.org/articles/style-guide/#members\" rel=\"nofollow\">https://www.dartlang.org/articles/style-guide/#members</a></p>\n\n<p>Can you re-do this code as an example of the correct use of style in this case?</p>\n"}, {"tags": ["dart"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1426229904, "post_id": 29026505, "comment_id": 46294916, "body": "You could try <a href=\"https://pub.dartlang.org/packages/odbc\" rel=\"nofollow noreferrer\">pub.dartlang.org/packages/odbc</a> instead."}, {"owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1426230960, "post_id": 29026505, "comment_id": 46295326, "body": "i checked it, it is not that cool in real :("}], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1426231126, "creation_date": 1426231126, "answer_id": 29026765, "question_id": 29026505, "link": "https://stackoverflow.com/questions/29026505/dartjs-in-the-server-handling-nodejs-package-in-dart-server/29026765#29026765", "title": "dart:js in the server (handling nodejs package in Dart server)", "body": "<p>There is no way to interact with JavaScript like this on the server.\nA workaround would be a service in a language where you have proper MSSQL support and your Dart server app communicates with this service using a network connection to pass queries and results.</p>\n"}], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 29026765, "answer_count": 1, "score": 0, "last_activity_date": 1426231126, "creation_date": 1426229840, "question_id": 29026505, "link": "https://stackoverflow.com/questions/29026505/dartjs-in-the-server-handling-nodejs-package-in-dart-server", "title": "dart:js in the server (handling nodejs package in Dart server)", "body": "<p>We need to interact with MSSQL data base, and could not find a proper package at pub.dartlang.org, we used ti use <a href=\"http://docs.sequelizejs.com/en/latest/\" rel=\"nofollow\">SEQUELIZEJS</a> nodejs package before.</p>\n\n<p>I understood the dart:js is for client side only, is there an equivalent way so I can run nodejs package as DART pub! ory work around solution to avoid coding what we need in pure nodejs. </p>\n"}, {"tags": ["html", "dart", "polymer", "dart-polymer"], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1426223318, "creation_date": 1426223318, "answer_id": 29025244, "question_id": 29023837, "link": "https://stackoverflow.com/questions/29023837/dart-referencing-outer-html-div-using-queryselector-from-polymer-class/29025244#29025244", "title": "Dart - Referencing outer HTML div using querySelector from Polymer class", "body": "<p>Use the documents <code>querySelector</code> instead:</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:html';\n\n...\n\ndocument.querySelector('#select_this');\n</code></pre>\n\n<p>You can get access to elements within other elements shadow DOM </p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>// old\ndocument.querySelector('* /deep/ #select_this');\n// or new (probably not yet supported everywhere\ndocument.querySelector('* &gt;&gt;&gt; #select_this');\n</code></pre>\n"}], "owner": {"reputation": 563, "user_id": 1175108, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c8ec0398ecef8c3deca150c19108634c?s=128&d=identicon&r=PG", "display_name": "LuxuryMaster", "link": "https://stackoverflow.com/users/1175108/luxurymaster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 641, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1426223318, "creation_date": 1426213196, "last_edit_date": 1426213574, "question_id": 29023837, "link": "https://stackoverflow.com/questions/29023837/dart-referencing-outer-html-div-using-queryselector-from-polymer-class", "title": "Dart - Referencing outer HTML div using querySelector from Polymer class", "body": "<p>I'm trying to get a reference of outer HTML(index.html)'s div from the polymer dart class. I know I can query the reference of app_element.html's div by the following code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>shadowRoot.querySelector('#select_this')\n</code></pre>\n\n\n\n<p>However, if I were to get a reference of index.html's div (#select_this), how can I do that from app_element.dart class? Is this even possible? If not, how can I design the polymer elements so that it can access DOM of other HTML pages and not only the ones that bind that particular polymer element?</p>\n\n<p><strong>app_element.dart</strong>\n</p>\n\n<pre><code>@CustomTag('app-element')\nclass AppElement extends PolymerElement {\n\n  @override\n  void attached() {\n    var my_div = shadowRoot.querySelector('#select_this');  // contains app_element.html's #select_this div\n  }\n}\n</code></pre>\n\n\n\n<p><strong>index.html</strong>\n</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n  &lt;head&gt;\n    &lt;link rel=\"import\" href=\"../lib/app_element.html\"&gt;\n  &lt;/head&gt;\n\n  &lt;app-element&gt;&lt;/app-element&gt;\n\n  &lt;div id=\"select_this\"&gt;&lt;/div&gt; &lt;!-- Not sure how to select this... --&gt;\n\n  &lt;script type=\"application/dart\"&gt;export 'package:polymer/init.dart';&lt;/script&gt;--&gt;\n  &lt;script src=\"packages/browser/dart.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>app_element.html</strong>\n</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n    &lt;polymer-element name='app-element'&gt;\n\n        &lt;div id=\"select_this\"&gt; &lt;!-- selectable via: shadowRoot.querySelector('#select_this') --&gt;\n\n        &lt;script type=\"application/dart\" src=\"app_element.dart\"&gt;&lt;/script&gt;\n    &lt;/polymer-element&gt;\n</code></pre>\n\n\n"}, {"tags": ["dart", "dart-html"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1426223355, "post_id": 29023803, "comment_id": 46292875, "body": "What Dart/Dartium version do you use?"}], "answers": [{"comments": [{"owner": {"reputation": 987, "user_id": 29176, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fb436f386c71b1c22d31f2d8504e5574?s=128&d=identicon&r=PG", "display_name": "ALW", "link": "https://stackoverflow.com/users/29176/alw"}, "edited": false, "score": 0, "creation_date": 1426294310, "post_id": 29025414, "comment_id": 46328154, "body": "I took your comment to mean that Web Animations worked at some point via Dart, so they&#39;re supported, but currently not working due to some kind of bug in Dart."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 987, "user_id": 29176, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fb436f386c71b1c22d31f2d8504e5574?s=128&d=identicon&r=PG", "display_name": "ALW", "link": "https://stackoverflow.com/users/29176/alw"}, "edited": false, "score": 0, "creation_date": 1426321198, "post_id": 29025414, "comment_id": 46332410, "body": "I played around with it about a year ago and several things worked already back then."}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1426224223, "creation_date": 1426224223, "answer_id": 29025414, "question_id": 29023803, "link": "https://stackoverflow.com/questions/29023803/do-web-animations-work-in-dart/29025414#29025414", "title": "Do Web Animations work in Dart?", "body": "<p>I get <code>Exception: Unsupported operation: [info: ../../third_party/WebKit/Source/bindings/core/dart/custom/DartElementCustom.cpp:100]</code> even with an example that worked months ago.</p>\n\n<p>Please create a bug report.</p>\n"}, {"comments": [{"owner": {"reputation": 2111, "user_id": 794906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4572b9e492319217d840854fcd7c3b2?s=128&d=identicon&r=PG", "display_name": "Alan Knight", "link": "https://stackoverflow.com/users/794906/alan-knight"}, "edited": false, "score": 0, "creation_date": 1427167125, "post_id": 29087823, "comment_id": 46657029, "body": "Fixed now in dart2js. Will be in 1.10."}], "tags": [], "owner": {"reputation": 2111, "user_id": 794906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4572b9e492319217d840854fcd7c3b2?s=128&d=identicon&r=PG", "display_name": "Alan Knight", "link": "https://stackoverflow.com/users/794906/alan-knight"}, "is_accepted": false, "score": 2, "last_activity_date": 1426543638, "creation_date": 1426543638, "answer_id": 29087823, "question_id": 29023803, "link": "https://stackoverflow.com/questions/29023803/do-web-animations-work-in-dart/29087823#29087823", "title": "Do Web Animations work in Dart?", "body": "<p>There seems to be a bug in the Element.animate API. It looks like the problem is that it takes Map arguments, and it's not being correctly converted, so in dart2js we're passing a Dart LinkedHashMap to JS, and it doesn't understand it. So it's just a matter of convincing the generation script to add the right type conversions. At least for dart2js, I haven't yet investigated Dartium.</p>\n"}], "owner": {"reputation": 987, "user_id": 29176, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fb436f386c71b1c22d31f2d8504e5574?s=128&d=identicon&r=PG", "display_name": "ALW", "link": "https://stackoverflow.com/users/29176/alw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 29025414, "answer_count": 2, "score": 1, "last_activity_date": 1426543638, "creation_date": 1426212923, "question_id": 29023803, "link": "https://stackoverflow.com/questions/29023803/do-web-animations-work-in-dart", "title": "Do Web Animations work in Dart?", "body": "<p>Dartium raises a \"Not Supported\" exception when calling <code>Element.animate()</code>, and Chrome, via dart2js, doesn't do anything at all.</p>\n\n<p>Web Animations via JavaScript work completely fine in the aforementioned browsers.</p>\n\n<p>Does Dart actually support Web Animations?</p>\n"}, {"tags": ["css", "dart"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1426180407, "post_id": 29016114, "comment_id": 46276748, "body": "I&#39;m pretty sure this should just work."}, {"owner": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "edited": false, "score": 0, "creation_date": 1426182219, "post_id": 29016114, "comment_id": 46277742, "body": "This surely works. Post more code please."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1426183353, "post_id": 29016114, "comment_id": 46278338, "body": "Have you checked the code is actually executed?"}], "owner": {"reputation": 783, "user_id": 4145218, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/0799ebc719896b086690bb786878891a?s=128&d=identicon&r=PG&f=1", "display_name": "Lymp", "link": "https://stackoverflow.com/users/4145218/lymp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1426180319, "creation_date": 1426180319, "question_id": 29016114, "link": "https://stackoverflow.com/questions/29016114/dart-applying-a-class-to-an-element-does-not-have-an-immediate-effect", "title": "Dart - applying a class to an element does not have an immediate effect", "body": "<p>I am using Dart and polymer. I want to apply a style to an element (following a user selection,for example). This method works immediately:<br></p>\n\n<pre><code>tablecell.style.borderTopColor='red';\n</code></pre>\n\n<p>But if I use a class:</p>\n\n<pre><code>tablecell.classes.add(\"myclass\");\n</code></pre>\n\n<p>this does not work immediately - until I rebuild the whole (expensive) table (so I know it has accepted the class).<br>First, is that a bug? Should it work? Or, is there someway to refresh just that one cell/element? I thought maybe with a dispatchEvent, but I don't know which event to use. Can it be done? like<br></p>\n\n<pre><code>cell.refresh();\ntable.refresh();\ntable.dispatchevent(blur);\n</code></pre>\n\n<p><br>Cheers, Steve</p>\n"}, {"tags": ["dart", "dart-async"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1426668784, "post_id": 29013591, "comment_id": 46462704, "body": "See also  - <a href=\"http://stackoverflow.com/questions/22056647\">stackoverflow.com/questions/22056647</a> - <a href=\"http://stackoverflow.com/questions/28843720\">stackoverflow.com/questions/28843720</a>"}], "answers": [{"tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 8, "last_activity_date": 1454387783, "last_edit_date": 1454387783, "creation_date": 1426173446, "answer_id": 29013592, "question_id": 29013591, "link": "https://stackoverflow.com/questions/29013591/how-to-get-the-full-stack-trace-for-async-execution/29013592#29013592", "title": "How to get the full stack trace for async execution", "body": "<p>The <code>stack_trace</code> package <a href=\"https://pub.dartlang.org/packages/stack_trace\" rel=\"noreferrer\">https://pub.dartlang.org/packages/stack_trace</a> puts together the whole stack trace.</p>\n\n<p>See also<br>\n- <a href=\"http://news.dartlang.org/2016/01/unboxing-packages-stacktrace.html?m=1\" rel=\"noreferrer\">this blog post</a> from a developer of the stack_trace package.<br>\n- <a href=\"http://news.dartlang.org/2016/01/unboxing-packages-stacktrace.html?m=1\" rel=\"noreferrer\">http://news.dartlang.org/2016/01/unboxing-packages-stacktrace.html?m=1</a></p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:async';\nimport 'package:stack_trace/stack_trace.dart';\n\nvoid main() {\n  Chain.capture(() {\n    scheduleAsync(); // &lt;= pass my code in Chain.capture\n    }, onError: (error, stack) {\n      print(error);\n      print(stack);\n    });\n}\n\nvoid scheduleAsync() {\n  new Future.delayed(new Duration(seconds: 1))\n      .then((_) =&gt; runAsync());\n}\n\nvoid runAsync() {\n  throw 'oh no!';\n}\n</code></pre>\n\n<p>produces this output which allows trace back to the first line in <code>main</code>.</p>\n\n<pre>\noh no!\nmain.dart 19:3                                                runAsync\nmain.dart 15:28                                               scheduleAsync.\npackage:stack_trace/src/stack_zone_specification.dart 134:26  registerUnaryCallback..\npackage:stack_trace/src/stack_zone_specification.dart 210:15  StackZoneSpecification._run\npackage:stack_trace/src/stack_zone_specification.dart 134:18  registerUnaryCallback.\ndart:async/zone.dart 902                                      _rootRunUnary\ndart:async/zone.dart 804                                      _CustomZone.runUnary\ndart:async/future_impl.dart 484                               _Future._propagateToListeners.handleValueCallback\ndart:async/future_impl.dart 567                               _Future._propagateToListeners\ndart:async/future_impl.dart 348                               _Future._complete\ndart:async/future.dart 228                                    Future.Future.delayed.\npackage:stack_trace/src/stack_zone_specification.dart 210:15  StackZoneSpecification._run\npackage:stack_trace/src/stack_zone_specification.dart 124:52  registerCallback.\ndart:async/zone.dart 891                                      _rootRun\ndart:async/zone.dart 796                                      _CustomZone.run\ndart:async/zone.dart 704                                      _CustomZone.runGuarded\ndart:async/zone.dart 729                                      _CustomZone.bindCallback.\npackage:stack_trace/src/stack_zone_specification.dart 210:15  StackZoneSpecification._run\npackage:stack_trace/src/stack_zone_specification.dart 124:52  registerCallback.\ndart:async/zone.dart 895                                      _rootRun\ndart:async/zone.dart 796                                      _CustomZone.run\ndart:async/zone.dart 704                                      _CustomZone.runGuarded\ndart:async/zone.dart 729                                      _CustomZone.bindCallback.\ndart:async-patch/timer_patch.dart 16                          Timer._createTimer.\ndart:isolate-patch/timer_impl.dart 385                        _Timer._runTimers\ndart:isolate-patch/timer_impl.dart 411                        _handleMessage\ndart:isolate-patch/isolate_patch.dart 142                     _RawReceivePortImpl._handleMessage\n===== asynchronous gap ===========================\ndart:async/zone.dart 828                                      _CustomZone.registerUnaryCallback\ndart:async/future_impl.dart 208                               _Future.then\nmain.dart 15:12                                               scheduleAsync\nmain.dart 6:18                                                main.\npackage:stack_trace/src/chain.dart 82:24                      Chain.capture.\ndart:async/zone.dart 895                                      _rootRun\ndart:async/zone.dart 796                                      _CustomZone.run\ndart:async/zone.dart 1251                                     runZoned\npackage:stack_trace/src/chain.dart 80:20                      Chain.capture\nmain.dart 5:16                                                main\ndart:isolate-patch/isolate_patch.dart 255                     _startIsolate.\ndart:isolate-patch/isolate_patch.dart 142                     _RawReceivePortImpl._handleMessage\n\n\nProcess finished with exit code 0\n\n</pre>\n\n<p>Even more useful is the terse version </p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:async';\nimport 'package:stack_trace/stack_trace.dart';\n\nvoid main() {\n  Chain.capture(() {\n    scheduleAsync();\n    }, onError: (error, stack) {\n      print(error);\n      print(new Trace.from(stack).terse);\n    });\n}\n\nvoid scheduleAsync() {\n  new Future.delayed(new Duration(seconds: 1))\n      .then((_) =&gt; runAsync());\n}\n\nvoid runAsync() {\n  throw 'oh no!';\n}\n</code></pre>\n\n<p>which produces:</p>\n\n<pre>\noh no!\nmain.dart 19:3       runAsync\nmain.dart 15:28      scheduleAsync.\n===== asynchronous gap ===========================\ndart:async           _Future.then\nmain.dart 15:12      scheduleAsync\nmain.dart 6:18       main.\npackage:stack_trace  Chain.capture\nmain.dart 5:16       main\n\n\nProcess finished with exit code 0\n\n</pre>\n"}], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1970, "favorite_count": 3, "accepted_answer_id": 29013592, "answer_count": 1, "score": 7, "last_activity_date": 1454387783, "creation_date": 1426173446, "question_id": 29013591, "link": "https://stackoverflow.com/questions/29013591/how-to-get-the-full-stack-trace-for-async-execution", "title": "How to get the full stack trace for async execution", "body": "<p>For a small example like</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:async';\nimport 'package:stack_trace/stack_trace.dart';\n\nvoid main() {\n  scheduleAsync();\n}\n\nvoid scheduleAsync() {\n  new Future.delayed(new Duration(seconds: 1))\n      .then((_) =&gt; runAsync());\n}\n\nvoid runAsync() {\n  throw 'oh no!';\n}\n</code></pre>\n\n<p>I get this stack trace. The furthest I can trace the call back is the <code>runAsync()</code> call in <code>scheduleAsync()</code>. \nThere is no information left, that <code>scheduleAsync</code> was called from <code>main</code>.</p>\n\n<pre>\nUnhandled exception:\nUncaught Error: oh no!\nStack Trace:\n#0      runAsync (file:///home/myuser/dart/playground/bin/stack_trace/main.dart:14:3)\n#1      scheduleAsync. (file:///home/myuser/dart/playground/bin/stack_trace/main.dart:10:28)\n#2      _RootZone.runUnary (dart:async/zone.dart:1155)\n#3      _Future._propagateToListeners.handleValueCallback (dart:async/future_impl.dart:484)\n#4      _Future._propagateToListeners (dart:async/future_impl.dart:567)\n#5      _Future._complete (dart:async/future_impl.dart:348)\n#6      Future.Future.delayed. (dart:async/future.dart:228)\n#7      Timer._createTimer. (dart:async-patch/timer_patch.dart:16)\n#8      _Timer._runTimers (dart:isolate-patch/timer_impl.dart:385)\n#9      _handleMessage (dart:isolate-patch/timer_impl.dart:411)\n#10     _RawReceivePortImpl._handleMessage (dart:isolate-patch/isolate_patch.dart:142)\n\n#0      _rootHandleUncaughtError. (dart:async/zone.dart:886)\n#1      _asyncRunCallbackLoop (dart:async/schedule_microtask.dart:41)\n#2      _asyncRunCallback (dart:async/schedule_microtask.dart:48)\n#3      _runPendingImmediateCallback (dart:isolate-patch/isolate_patch.dart:96)\n#4      _Timer._runTimers (dart:isolate-patch/timer_impl.dart:392)\n#5      _handleMessage (dart:isolate-patch/timer_impl.dart:411)\n#6      _RawReceivePortImpl._handleMessage (dart:isolate-patch/isolate_patch.dart:142)\n\nProcess finished with exit code 255\n</pre>\n\n<p>Is there a way to get the full stack trace?</p>\n"}, {"tags": ["dart", "queue"], "answers": [{"comments": [{"owner": {"reputation": 3798, "user_id": 3098092, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/12c6b0fa6ec2efc5e87e54df4e8c78ae?s=128&d=identicon&r=PG&f=1", "display_name": "DomJack", "link": "https://stackoverflow.com/users/3098092/domjack"}, "edited": false, "score": 0, "creation_date": 1426143557, "post_id": 29003277, "comment_id": 46253924, "body": "Alas, I feared as much. Issue created at <a href=\"http://code.google.com/p/dart/issues/detail?id=22802&amp;thanks=22802&amp;ts=1426143440\" rel=\"nofollow noreferrer\">code.google.com/p/dart/issues/&hellip;</a> . Guess I&#39;ll hack together something that does it myself..."}, {"owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "edited": false, "score": 0, "creation_date": 1426172215, "post_id": 29003277, "comment_id": 46271145, "body": "Bug was filed as <a href=\"http://dartbug.com/22802\" rel=\"nofollow noreferrer\">dartbug.com/22802</a> and I&#39;m looking into it. I think it&#39;s safe to say that the <code>DoubleLinkedQueue</code> and <code>DoubleLinkedQueueEntry</code> interfaces were missed when cleaning up before the 1.0 release, and likely haven&#39;t been looked at since then."}], "tags": [], "owner": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "is_accepted": true, "score": 0, "last_activity_date": 1426143643, "last_edit_date": 1426143643, "creation_date": 1426142060, "answer_id": 29003277, "question_id": 29002083, "link": "https://stackoverflow.com/questions/29002083/dart-doublelinkedqueue-length-after-entry-prepend/29003277#29003277", "title": "Dart: DoubleLinkedQueue length after entry prepend", "body": "<p>It looks like the length getter is only pointing to an internal counter. This is done because counting the elements everytime might take very long for long lists.</p>\n\n<p>The internal counter is only updated if you use the methods that directly operate on the list instead of using the prepend method of an element. In your example you should use <code>q.addFirst(0);</code> which results in the length being updates. The <code>.prepend()</code> method just inserts a new element and changes the pointer. Which results in correct traversation of the elements, but the counter is wrong anyway.</p>\n\n<p>Unfortunately it looks like you cannot insert elements in the middle of the list, nor can you make the list recount the elements. You should consider creating a bug over at www.dartbug.com.</p>\n\n<p>// Update:</p>\n\n<p><code>toList()</code> throws an error because there are more elements than <code>length</code>.</p>\n"}], "owner": {"reputation": 3798, "user_id": 3098092, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/12c6b0fa6ec2efc5e87e54df4e8c78ae?s=128&d=identicon&r=PG&f=1", "display_name": "DomJack", "link": "https://stackoverflow.com/users/3098092/domjack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 29003277, "answer_count": 1, "score": 2, "last_activity_date": 1426143643, "creation_date": 1426135853, "last_edit_date": 1426142336, "question_id": 29002083, "link": "https://stackoverflow.com/questions/29002083/dart-doublelinkedqueue-length-after-entry-prepend", "title": "Dart: DoubleLinkedQueue length after entry prepend", "body": "<p>I'm manipulating entries inside a DoubleLinkedQueue via the DoubleLinkedQueueElement.append/prepend methods. This results in the new elements being inserted into the queue, but fails to update the length, and the toList() method results in an error being thrown.</p>\n\n<p>I understand queues are only supposed to have elements added at the start/end, but it looks like the interface should allow for adding in the middle via the entries. I find it hard to believe such a common/well understood data structure would have a bug at this point - so am I using DoubleLinkedQueues incorrectly? Is there another data structure that I should be using? I'm looking to merge values from another iterable into my own sorted iterable - a SplayTreeSet might get me there in n log n time, but a simple merge should get me there in linear time...</p>\n\n<p>Example of code that acts unexpectedly:</p>\n\n\n\n<pre class=\"lang-dart prettyprint-override\"><code>main() {\n  var q = new DoubleLinkedQueue&lt;int&gt;.from([1]);\n  q.firstEntry().prepend(0);\n  print('length: ${q.length}');\n  int i = 0;\n  for (var qi in q){\n    print('${i++}: $qi');\n  }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>length: 1\n0: 0\n1: 1\n</code></pre>\n"}, {"tags": ["dart", "polymer", "core-elements"], "comments": [{"owner": {"reputation": 8915, "user_id": 940300, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7IWb0.jpg?s=128&g=1", "display_name": "Basic Coder", "link": "https://stackoverflow.com/users/940300/basic-coder"}, "edited": false, "score": 0, "creation_date": 1426166559, "post_id": 29000536, "comment_id": 46266841, "body": "Srsly, I got a down vote? Would someone please explain to me why?..."}], "answers": [{"comments": [{"owner": {"reputation": 8915, "user_id": 940300, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7IWb0.jpg?s=128&g=1", "display_name": "Basic Coder", "link": "https://stackoverflow.com/users/940300/basic-coder"}, "edited": false, "score": 0, "creation_date": 1426143748, "post_id": 29003322, "comment_id": 46254001, "body": "As stated in my initial question, setting the iterations to 1 does not work."}, {"owner": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "reply_to_user": {"reputation": 8915, "user_id": 940300, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7IWb0.jpg?s=128&g=1", "display_name": "Basic Coder", "link": "https://stackoverflow.com/users/940300/basic-coder"}, "edited": false, "score": 0, "creation_date": 1426150578, "post_id": 29003322, "comment_id": 46256977, "body": "You edited your question from <code>iterationCount</code> to <code>iterations</code>. Please note that there are two attributes <code>iterationCount</code> and <code>iterations</code>."}, {"owner": {"reputation": 8915, "user_id": 940300, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7IWb0.jpg?s=128&g=1", "display_name": "Basic Coder", "link": "https://stackoverflow.com/users/940300/basic-coder"}, "edited": false, "score": 0, "creation_date": 1426166587, "post_id": 29003322, "comment_id": 46266866, "body": "Neither one of them is working. Same effect as before. //added my approaches"}, {"owner": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "reply_to_user": {"reputation": 8915, "user_id": 940300, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7IWb0.jpg?s=128&g=1", "display_name": "Basic Coder", "link": "https://stackoverflow.com/users/940300/basic-coder"}, "edited": false, "score": 0, "creation_date": 1427032044, "post_id": 29003322, "comment_id": 46603178, "body": "Yeah ... vote my post down because you edited your post. wow."}, {"owner": {"reputation": 8915, "user_id": 940300, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7IWb0.jpg?s=128&g=1", "display_name": "Basic Coder", "link": "https://stackoverflow.com/users/940300/basic-coder"}, "edited": false, "score": 0, "creation_date": 1427245709, "post_id": 29003322, "comment_id": 46697116, "body": "No I vote your post down, because it doesn&#39;t work. Also the answer you gave states &#39;try to&#39; and not &#39;do&#39; which is more like &#39;well, I have no idea but let&#39;s try this or that&#39; and not an answer which is from good value. Thus the down vote. Don&#39;t take it personal."}], "tags": [], "owner": {"reputation": 4812, "user_id": 2515341, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/INO5m.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2515341/robert"}, "is_accepted": false, "score": -1, "last_activity_date": 1426142269, "creation_date": 1426142269, "answer_id": 29003322, "question_id": 29000536, "link": "https://stackoverflow.com/questions/29000536/coreanimation-automatically-restarts-when-iterationstart-is-set/29003322#29003322", "title": "CoreAnimation automatically restarts when iterationStart is set", "body": "<p>Try to set <code>animation.iterations</code> to 1.</p>\n"}], "owner": {"reputation": 8915, "user_id": 940300, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7IWb0.jpg?s=128&g=1", "display_name": "Basic Coder", "link": "https://stackoverflow.com/users/940300/basic-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1426166623, "creation_date": 1426124413, "last_edit_date": 1426166623, "question_id": 29000536, "link": "https://stackoverflow.com/questions/29000536/coreanimation-automatically-restarts-when-iterationstart-is-set", "title": "CoreAnimation automatically restarts when iterationStart is set", "body": "<p>I want to skip the first part of an animation and jump right to let's say 3/4 of the duration. For this purpose I build the following script in Dart.</p>\n\n<pre><code>Element target = getTarget(layer.element);\nCoreAnimation animation = new CoreAnimation();\nanimation.target = target;\nanimation.duration = 2000;\nanimation.iterationStart = 0.75; // 1500ms\nanimation.keyframes = [\n  {'transform': 'translate(0px, 0px)'},\n  {'transform': 'translate(20px, 50px)'}\n];\n\n// I also tried to add the following attributes\nanimation.iterations = 1; // doesnt work \nanimation.iterationCount = 1; // doesnt work\n\nanimation.play();\n</code></pre>\n\n<p>The animation starts at the correct position, but once it has reached its last keyframe {'transform': 'translate(20px, 50px)'} it jumps back to the first keyframe and play the complete animation again. What for gods sake is happening here? Am I missing something?</p>\n\n<p>Note: I already tried to set iteration count to 1. </p>\n"}]