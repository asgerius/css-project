[{"tags": ["button", "dart", "icons", "flutter", "border"], "answers": [{"comments": [{"owner": {"reputation": 402, "user_id": 6448312, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b08f952002d7bd1c0ab676f9aba82bb0?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Smith", "link": "https://stackoverflow.com/users/6448312/ian-smith"}, "edited": false, "score": 0, "creation_date": 1589179174, "post_id": 52303225, "comment_id": 109178844, "body": "Hmm, did an update break this? This now has a whitebox as the background due to the BoxDecoration shape. Maybe it was never noticed.."}, {"owner": {"reputation": 1373, "user_id": 2081451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa22caf8e7dc944dd38da7105ff261ab?s=128&d=identicon&r=PG", "display_name": "Xander", "link": "https://stackoverflow.com/users/2081451/xander"}, "reply_to_user": {"reputation": 402, "user_id": 6448312, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b08f952002d7bd1c0ab676f9aba82bb0?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Smith", "link": "https://stackoverflow.com/users/6448312/ian-smith"}, "edited": false, "score": 0, "creation_date": 1589187027, "post_id": 52303225, "comment_id": 109182541, "body": "@IanSmith, it&#39;s still working for me on the latest Flutter stable (1.17). Happy to take a look at your code."}, {"owner": {"reputation": 402, "user_id": 6448312, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b08f952002d7bd1c0ab676f9aba82bb0?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Smith", "link": "https://stackoverflow.com/users/6448312/ian-smith"}, "edited": false, "score": 0, "creation_date": 1589202187, "post_id": 52303225, "comment_id": 109190583, "body": "@Xander here&#39;s an example app showing the issue: <a href=\"https://pastebin.com/raw/tTCVzRmP\" rel=\"nofollow noreferrer\">pastebin.com/raw/tTCVzRmP</a>"}, {"owner": {"reputation": 1373, "user_id": 2081451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa22caf8e7dc944dd38da7105ff261ab?s=128&d=identicon&r=PG", "display_name": "Xander", "link": "https://stackoverflow.com/users/2081451/xander"}, "reply_to_user": {"reputation": 402, "user_id": 6448312, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b08f952002d7bd1c0ab676f9aba82bb0?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Smith", "link": "https://stackoverflow.com/users/6448312/ian-smith"}, "edited": false, "score": 1, "creation_date": 1589212303, "post_id": 52303225, "comment_id": 109197015, "body": "@IanSmith Thanks, I see what you mean. We should probably be using <code>Material(type: MaterialType.transparency)</code>. I&#39;ll update the answer \ud83d\udc4d"}], "tags": [], "owner": {"reputation": 1373, "user_id": 2081451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa22caf8e7dc944dd38da7105ff261ab?s=128&d=identicon&r=PG", "display_name": "Xander", "link": "https://stackoverflow.com/users/2081451/xander"}, "is_accepted": true, "score": 20, "last_activity_date": 1589212452, "last_edit_date": 1589212452, "creation_date": 1536785095, "answer_id": 52303225, "question_id": 52302625, "link": "https://stackoverflow.com/questions/52302625/how-do-i-add-a-border-to-a-flutter-button/52303225#52303225", "title": "How do I add a border to a flutter button?", "body": "<p>Hi Kathleen and welcome!</p>\n\n<p>You can achieve what you want by diving a little deeper into the widgets that make up <code>MaterialButton</code>.</p>\n\n<p>First you need the <a href=\"https://docs.flutter.io/flutter/material/Ink-class.html\" rel=\"noreferrer\">Ink</a> widget. This offers more flexible styling using a <a href=\"https://docs.flutter.io/flutter/painting/BoxDecoration-class.html\" rel=\"noreferrer\">BoxDecoration</a>.</p>\n\n<p><code>Ink</code> can then contain an <a href=\"https://docs.flutter.io/flutter/material/InkWell-class.html\" rel=\"noreferrer\">InkWell</a> widget which recognises <code>onTap</code> and draws the splash effect. By default, the splash continues to the edges of the containing box, but you can make it circular by giving <code>InkWell</code> a really big <code>borderRadius</code>.</p>\n\n<p>Here's an example of the button you're after:</p>\n\n<pre><code>Material(\n  type: MaterialType.transparency, //Makes it usable on any background color, thanks @IanSmith\n  child: Ink(\n    decoration: BoxDecoration(\n      border: Border.all(color: Colors.indigoAccent, width: 4.0),\n      color: Colors.indigo[900],\n      shape: BoxShape.circle,\n    ),\n    child: InkWell(\n      //This keeps the splash effect within the circle\n      borderRadius: BorderRadius.circular(1000.0), //Something large to ensure a circle\n      onTap: _messages,\n      child: Padding(\n        padding:EdgeInsets.all(20.0),\n        child: Icon(\n          Icons.message,\n          size: 30.0,\n          color: Colors.white,\n        ),\n      ),\n    ),\n  )\n),\n</code></pre>\n\n<p>And here's the result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/zT0aj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zT0aj.png\" alt=\"screenshot of Flutter app with custom styled button\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 853, "user_id": 3311219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f955689be0073f63d093f084465a37da?s=128&d=identicon&r=PG", "display_name": "Tarek360", "link": "https://stackoverflow.com/users/3311219/tarek360"}, "is_accepted": false, "score": 9, "last_activity_date": 1590144060, "creation_date": 1590144060, "answer_id": 61953154, "question_id": 52302625, "link": "https://stackoverflow.com/questions/52302625/how-do-i-add-a-border-to-a-flutter-button/61953154#61953154", "title": "How do I add a border to a flutter button?", "body": "<p>Just wrap an <code>IconButton</code> into a <code>Container</code> and set its <code>decoration</code> as following:</p>\n\n<pre><code>Container(\n  decoration: BoxDecoration(\n    border: Border.all(color: Colors.blue, width: 4),\n    color: Colors.yellow,\n    shape: BoxShape.circle,\n  ),\n  child: IconButton(\n    iconSize: 56,\n    icon: Icon(Icons.check),\n    onPressed: () {},\n  ),\n),\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 9854260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UgZO0.jpg?s=128&g=1", "display_name": "Esmaeil Ahmadipour", "link": "https://stackoverflow.com/users/9854260/esmaeil-ahmadipour"}, "is_accepted": false, "score": 0, "last_activity_date": 1615313946, "creation_date": 1615313946, "answer_id": 66552611, "question_id": 52302625, "link": "https://stackoverflow.com/questions/52302625/how-do-i-add-a-border-to-a-flutter-button/66552611#66552611", "title": "How do I add a border to a flutter button?", "body": "<p>Can Using FloatingActionButton with Border :</p>\n<pre><code>   FloatingActionButton(\n                              mini: false,\n                              backgroundColor: Colors.blue.shade900,\n                              splashColor: Colors.black,\n                              onPressed: () {\n                                logOutDialog(context);\n                              },\n                              hoverElevation: 1.5,\n                              shape: StadiumBorder(\n                                  side: BorderSide(\n                                      color: Colors.blue, width: 4)),\n                              elevation: 1.5,\n                              child: Icon(\n                                Icons.logout,\n                                color: _foregroundColor,\n                              ),\n                            )\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 8580174, "user_type": "registered", "profile_image": "https://graph.facebook.com/1799743386710357/picture?type=large", "display_name": "Hrvoje \u010cukman", "link": "https://stackoverflow.com/users/8580174/hrvoje-%c4%8cukman"}, "is_accepted": false, "score": 0, "last_activity_date": 1616662065, "creation_date": 1616662065, "answer_id": 66795917, "question_id": 52302625, "link": "https://stackoverflow.com/questions/52302625/how-do-i-add-a-border-to-a-flutter-button/66795917#66795917", "title": "How do I add a border to a flutter button?", "body": "<p>In Flutter 2 there is <code>TextButton</code>:</p>\n<pre><code>TextButton(\n  style: ButtonStyle(\n   side: RedSelectedBorderSide(),\n  ),\n  child: Text(\n    &quot;Button&quot;\n  ),\n  onPressed: (){}\n);\n</code></pre>\n<p>Where <code>RedSelectedBorderSide()</code> is:</p>\n<pre><code>class RedSelectedBorderSide extends MaterialStateBorderSide {\n  @override\n  BorderSide resolve(Set&lt;MaterialState&gt; states) {\n    if (states.contains(MaterialState.selected)) {\n      return BorderSide(\n        width: 2,\n        color: Colors.red,\n      ); // \n    }\n    return null;// Defer to default value on the theme or widget.\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 10210404, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DxQqTIRvtYY/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7q2RcRf8ZszlddRDwSzTalRkR7x7w/mo/photo.jpg?sz=128", "display_name": "Kathleen Levi", "link": "https://stackoverflow.com/users/10210404/kathleen-levi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20007, "favorite_count": 3, "accepted_answer_id": 52303225, "answer_count": 4, "score": 12, "last_activity_date": 1616662065, "creation_date": 1536782589, "question_id": 52302625, "link": "https://stackoverflow.com/questions/52302625/how-do-i-add-a-border-to-a-flutter-button", "title": "How do I add a border to a flutter button?", "body": "<p>I've just recently gotten into flutter and am loving it so far but I've gotten stuck on some UI changes. Any help is appreciated!</p>\n\n<p>My goal is to get a circular button that has an icon with a blue background but then have a border around the outside that is a darker blue. There are pictures attached.</p>\n\n<p>My approach was:</p>\n\n<ol>\n<li>Get a circular blue button.</li>\n<li>Put an icon in that button.</li>\n<li>Add a border.</li>\n</ol>\n\n<p>I got stuck on step 3 because I do not know how to add a border, or if it is even possible given the way I approached the problem. The specific colors do not matter to me at the moment, I will change the theme later. </p>\n\n<p>This is what I currently have code wise:</p>\n\n<pre><code>  var messageBtn = new Row(\n  children: &lt;Widget&gt;[\n    new Padding(\n      padding: const EdgeInsets.all(20.0),\n      child: new RawMaterialButton(\n        onPressed: _messages,\n        child: new Padding(\n          padding: const EdgeInsets.all(20.0),\n          child: new Icon(\n            Icons.message,\n            size: 30.0,\n            color: Colors.white,\n          ),\n        ),\n        shape: new CircleBorder(),\n        fillColor: Colors.deepPurple,\n      ),\n    ),\n    new Padding(\n        padding: const EdgeInsets.all(8.0),\n        child: new Text(\n          'Send Messages',\n          style: new TextStyle(\n            fontSize: 20.0,\n          ),\n        )),\n  ],\n);\n</code></pre>\n\n<p>It produces this: <a href=\"https://i.stack.imgur.com/5cVyd.png\" rel=\"noreferrer\">see screenshot</a></p>\n\n<p>I want this:<a href=\"https://i.stack.imgur.com/vpZww.png\" rel=\"noreferrer\">see second screenshot</a></p>\n"}, {"tags": ["firebase", "dart", "admob", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 6317, "user_id": 2863386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1351f3dc176c08f5596077a9d2d9f024?s=128&d=identicon&r=PG&f=1", "display_name": "Shyju M", "link": "https://stackoverflow.com/users/2863386/shyju-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1540967317, "creation_date": 1540967317, "answer_id": 53077513, "question_id": 52302408, "link": "https://stackoverflow.com/questions/52302408/app-id-problems-with-firebase-admob-0-6-1-for-flutter/53077513#53077513", "title": "App ID problems with firebase_admob 0.6.1 for flutter", "body": "<p>There is an issue with the latest plugin </p>\n\n<p>I was able to get the app to open by changing: <code>firebase_admob: ^0.5.5</code></p>\n\n<p>and:</p>\n\n<pre><code>dependencies {\n    api 'com.google.firebase:firebase-ads:15.0.1'\n}\n</code></pre>\n\n<p>And adding to the AndroidManifest.xml with my AdMob keys:</p>\n\n<pre><code> &lt;/activity&gt;\n        &lt;meta-data\n            android:name=\"com.google.android.gms.ads.APP_ID_HERE\"\n            android:value=\"ca-app-pub-XXXXXXXXXXXXXXXX\"/&gt;\n    &lt;/application&gt;\n</code></pre>\n\n<p>Also</p>\n\n<pre><code>FirebaseAdMob.instance.initialize(appId: \"appid\");\n</code></pre>\n\n<p><a href=\"https://github.com/flutter/flutter/issues/23215\" rel=\"nofollow noreferrer\">GitHub Issue</a></p>\n\n<p>Hope it helps</p>\n"}], "owner": {"reputation": 412, "user_id": 10341521, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155505790647260/picture?type=large", "display_name": "Allex Radu", "link": "https://stackoverflow.com/users/10341521/allex-radu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2678, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1540967317, "creation_date": 1536781671, "question_id": 52302408, "link": "https://stackoverflow.com/questions/52302408/app-id-problems-with-firebase-admob-0-6-1-for-flutter", "title": "App ID problems with firebase_admob 0.6.1 for flutter", "body": "<p>I've created a new android app in admob, I've got the id, and I tried using it in the example on the firebase_admob page.</p>\n\n<p>I've added the latest version in a default flutter project and I copied and pasted the code on the page. I only modified the id, I've tried single quotes, I've tried double quotes, with no avail, I've got the same error in the console.</p>\n\n<p>What do I do wrong? I really don't get it, I've spend all day trying to figgure this out. Please help me.</p>\n\n<p>getGoogleAppId failed with exception: java.lang.IllegalStateException: Initialize must be called before getGoogleAppId.: com.google.android.gms.measurement.AppMeasurement.getGmpAppId(Unknown Source:0)</p>\n\n<p>I also get the error </p>\n\n<p>GoogleService failed to initialize, status: 10, Missing google app id value from from string resources with name google_app_id.</p>\n\n<p>and </p>\n\n<p>Missing google_app_id. Firebase Analytics disabled. See ...</p>\n\n<p>This is the code:</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:firebase_admob/firebase_admob.dart';\n\n// You can also test with your own ad unit IDs by registering your device as     a\n// test device. Check the logs for your device's ID value.\nconst String testDevice = 'YOUR_DEVICE_ID';\n\nclass MyApp extends StatefulWidget {\n@override\n_MyAppState createState() =&gt; new _MyAppState();\n}\n\nclass _MyAppState extends State&lt;MyApp&gt; {\n\nstatic final MobileAdTargetingInfo targetingInfo = new MobileAdTargetingInfo(\ntestDevices: testDevice != null ? &lt;String&gt;[testDevice] : null,\nkeywords: &lt;String&gt;['foo', 'bar'],\ncontentUrl: 'http://foo.com/bar.html',\nbirthday: new DateTime.now(),\nchildDirected: true,\ngender: MobileAdGender.male,\nnonPersonalizedAds: true,\n);\n\nBannerAd _bannerAd;\nInterstitialAd _interstitialAd;\n\nint _coins = 0;\n\nBannerAd createBannerAd() {\nreturn new BannerAd(\nadUnitId: BannerAd.testAdUnitId,\nsize: AdSize.banner,\ntargetingInfo: targetingInfo,\nlistener: (MobileAdEvent event) {\nprint(\"BannerAd event $event\");\n},\n);\n}\n\nInterstitialAd createInterstitialAd() {\nreturn new InterstitialAd(\n  adUnitId: InterstitialAd.testAdUnitId,\n  targetingInfo: targetingInfo,\n  listener: (MobileAdEvent event) {\n    print(\"InterstitialAd event $event\");\n  },\n);\n}\n\n@override\nvoid initState() {\nsuper.initState();\nFirebaseAdMob.instance\n    .initialize(appId: 'ca-app-pub-0463943530925483~4865006927');\n_bannerAd = createBannerAd()..load();\nRewardedVideoAd.instance.listener =\n    (RewardedVideoAdEvent event, {String rewardType, int rewardAmount}) {\n  print(\"RewardedVideoAd event $event\");\n  if (event == RewardedVideoAdEvent.rewarded) {\n    setState(() {\n      _coins += rewardAmount;\n    });\n  }\n};\n}\n\n@override\nvoid dispose() {\n_bannerAd?.dispose();\n_interstitialAd?.dispose();\nsuper.dispose();\n}\n\n\n@override\nWidget build(BuildContext context) {\nreturn new MaterialApp(\n  home: new Scaffold(\n    appBar: new AppBar(\n      title: const Text('AdMob Plugin example app'),\n    ),\n    body: new SingleChildScrollView(\n      child: new Center(\n        child: new Column(\n          crossAxisAlignment: CrossAxisAlignment.center,\n          mainAxisSize: MainAxisSize.min,\n          children: &lt;Widget&gt;[\n            new RaisedButton(\n                child: const Text('SHOW BANNER'),\n                onPressed: () {\n                  _bannerAd ??= createBannerAd();\n                  _bannerAd\n                    ..load()\n                    ..show();\n                }),\n            new RaisedButton(\n                child: const Text('REMOVE BANNER'),\n                onPressed: () {\n                  _bannerAd?.dispose();\n                  _bannerAd = null;\n                }),\n            new RaisedButton(\n              child: const Text('LOAD INTERSTITIAL'),\n              onPressed: () {\n                _interstitialAd?.dispose();\n                _interstitialAd = createInterstitialAd()..load();\n              },\n            ),\n            new RaisedButton(\n              child: const Text('SHOW INTERSTITIAL'),\n              onPressed: () {\n                _interstitialAd?.show();\n              },\n            ),\n            new RaisedButton(\n              child: const Text('LOAD REWARDED VIDEO'),\n              onPressed: () {\n                RewardedVideoAd.instance.load(\n                    adUnitId: RewardedVideoAd.testAdUnitId,\n                    targetingInfo: targetingInfo);\n              },\n            ),\n            new RaisedButton(\n              child: const Text('SHOW REWARDED VIDEO'),\n              onPressed: () {\n                RewardedVideoAd.instance.show();\n              },\n            ),\n            new Text(\"You have $_coins coins.\"),\n          ].map((Widget button) {\n            return new Padding(\n              padding: const EdgeInsets.symmetric(vertical: 16.0),\n              child: button,\n            );\n          }).toList(),\n        ),\n      ),\n    ),\n  ),\n);\n}\n}\n\nvoid main() {\nrunApp(new MyApp());\n}\n</code></pre>\n"}, {"tags": ["dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 2000, "user_id": 7448506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zAGx9.jpg?s=128&g=1", "display_name": "Kirollos Morkos", "link": "https://stackoverflow.com/users/7448506/kirollos-morkos"}, "is_accepted": true, "score": 2, "last_activity_date": 1536801503, "last_edit_date": 1536801503, "creation_date": 1536794383, "answer_id": 52304677, "question_id": 52302195, "link": "https://stackoverflow.com/questions/52302195/creating-a-variable-with-an-ontap-navigator-flutter/52304677#52304677", "title": "Creating a variable with an onTap navigator flutter", "body": "<p>You should change appBarTitle to be a method that can generate the widget on state change rather than saving it to a variable. This way, you can ensure that it will only be generated when <code>context</code> is available. </p>\n\n<pre><code>// Define a bool to hold the current search state\nbool _isSearching = false;\n\n...\n\n// In your build method\nappBar: AppBar(\n  iconTheme: new IconThemeData(color: Theme.CompanyColors.coolGrey),\n  backgroundColor: Colors.white,\n  centerTitle: true,\n  title: _buildAppBarTitle(),\n  actions: &lt;Widget&gt;[\n    new IconButton(\n      icon: _isSearching\n        ? new Icon(Icons.close, color: Theme.CompanyColors.coolGrey)\n        : new Icon(Icons.search, color: Theme.CompanyColors.coolGrey),\n      onPressed: () {\n        setState(() =&gt; _isSearching = !_isSearching);\n      },\n    ),\n  ],\n),\n\n...\n\n// Define a separate method to build the appBarTitle\nWidget _buildAppBarTitle() {\n  if (_isSearching) {\n    return new TextField(\n      onSubmitted: (String str) {\n        setState(() {\n          result = str;\n        });\n        controller.text = \"\";\n        Navigator.push(\n          context,\n          MaterialPageRoute(\n            builder: (context) =&gt; ControlSearchPage(\n                search: result, title: \"${widget.title}\"),\n          ),\n        );\n      },\n      style: new TextStyle(\n        color: Colors.black,\n      ),\n      decoration: new InputDecoration(\n          prefixIcon:\n              new Icon(Icons.search, color: Theme.CompanyColors.coolGrey),\n          hintText: \"Search...\",\n          hintStyle: new TextStyle(color: Theme.CompanyColors.coolGrey)),\n    );\n  } else {\n    return new InkWell (\n      child: Image.asset(\n        'images/logoGrey.png',\n        fit: BoxFit.fill,\n      ),\n      onTap: () {\n        Navigator.push(\n          context,\n          MaterialPageRoute(\n            builder: (context) =&gt;\n                LandingPage(),\n          ),\n        );\n      },\n    );\n  }\n</code></pre>\n"}], "owner": {"reputation": 2107, "user_id": 9989514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbf63c873cc48b4fdccdadefb4ec3025?s=128&d=identicon&r=PG&f=1", "display_name": "Mfreeman", "link": "https://stackoverflow.com/users/9989514/mfreeman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2389, "favorite_count": 0, "accepted_answer_id": 52304677, "answer_count": 1, "score": 0, "last_activity_date": 1536801503, "creation_date": 1536780820, "last_edit_date": 1536786220, "question_id": 52302195, "link": "https://stackoverflow.com/questions/52302195/creating-a-variable-with-an-ontap-navigator-flutter", "title": "Creating a variable with an onTap navigator flutter", "body": "<p>This will be a lot of explaining but i hope someone will be able to help.</p>\n\n<p>Currently i have search button on my appbar that, when pressed, covers over my appbar title with a textfield</p>\n\n<p>The normal appbar title is an image and i am adding functionality that when pressed, it brings you to the home screen.  This is were it gets tricky, because i need to use this line of code to accomplish just that</p>\n\n<pre><code>new InkWell (\n    child: Image.asset(\n      'images/logoGrey.png',\n      fit: BoxFit.fill,\n    ),\n    onTap: () {\n      Navigator.push(\n        context,\n        MaterialPageRoute(\n          builder: (context) =&gt;\n              LandingPage(),\n        ),\n      );\n    },\n  ); \n</code></pre>\n\n<p>so i set that to a variable like so</p>\n\n<pre><code>class _ControlsPageState extends State&lt;ControlsPage&gt; {\n  Widget appBarTitle = new InkWell (\n    child: Image.asset(\n      'images/logoGrey.png',\n      fit: BoxFit.fill,\n    ),\n    onTap: () {\n      Navigator.push(\n        context,\n        MaterialPageRoute(\n          builder: (context) =&gt;\n              LandingPage(),\n        ),\n      );\n    },\n  );\n</code></pre>\n\n<p>The reason i have this variable is so that i can change the state of the appbar(title) to a textfield when i click on the search button and back to the image when i close out.</p>\n\n<p>but this wont work (error on \"context\") seeing as though this line of code below can only be used under \"Widget build(BuildContext context)\" and not in my class....</p>\n\n<pre><code>onTap: () {\n      Navigator.push(\n        context,\n        MaterialPageRoute(\n          builder: (context) =&gt;\n              LandingPage(),\n        ),\n      );\n    },\n</code></pre>\n\n<p>The bottom line is i need my appbar title to be a callback to the variable \"appBarTitle\", and the variable gets an error on \"context\", is there anyway i can make this work? </p>\n\n<p>here is the appbar code in case it helps</p>\n\n<pre><code>appBar: AppBar(\n          iconTheme: new IconThemeData(color: Theme.CompanyColors.coolGrey),\n          backgroundColor: Colors.white,\n          centerTitle: true,\n          title: appBarTitle ,\n          actions: &lt;Widget&gt;[\n            new IconButton(\n              icon: actionIcon,\n              onPressed: () {\n                setState(() {\n                  if (this.actionIcon.icon == Icons.search) {\n                    this.actionIcon =\n                        new Icon(Icons.close, color: Theme.CompanyColors.coolGrey);\n                    this.appBarTitle = new TextField(\n                      onSubmitted: (String str) {\n                        setState(() {\n                          result = str;\n                        });\n                        controller.text = \"\";\n                        Navigator.push(\n                          context,\n                          MaterialPageRoute(\n                            builder: (context) =&gt; ControlSearchPage(\n                                search: result, title: \"${widget.title}\"),\n                          ),\n                        );\n                      },\n                      style: new TextStyle(\n                        color: Colors.black,\n                      ),\n                      decoration: new InputDecoration(\n                          prefixIcon:\n                              new Icon(Icons.search, color: Theme.CompanyColors.coolGrey),\n                          hintText: \"Search...\",\n                          hintStyle: new TextStyle(color: Theme.CompanyColors.coolGrey)),\n                    );\n                  } else {\n                    this.actionIcon =\n                        new Icon(Icons.search, color: Theme.CompanyColors.coolGrey);\n                    this.appBarTitle = new InkWell (\n                      child: Image.asset(\n                        'images/logoGrey.png',\n                        fit: BoxFit.fill,\n                      ),\n                      onTap: () {\n                        Navigator.push(\n                          context,\n                          MaterialPageRoute(\n                            builder: (context) =&gt;\n                                LandingPage(),\n                          ),\n                        );\n                      },\n                    );\n                  }\n                });\n              },\n            ),\n          ],\n        ),\n</code></pre>\n\n<p>any comments will be appreciated</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1536785864, "post_id": 52302231, "comment_id": 91554407, "body": "Awesome, I did not know about this widget."}], "tags": [], "owner": {"reputation": 31302, "user_id": 10269042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6ac9efa53566934533a6364994c03b6?s=128&d=identicon&r=PG&f=1", "display_name": "anmol.majhail", "link": "https://stackoverflow.com/users/10269042/anmol-majhail"}, "is_accepted": true, "score": 1, "last_activity_date": 1536785855, "last_edit_date": 1536785855, "creation_date": 1536780937, "answer_id": 52302231, "question_id": 52301850, "link": "https://stackoverflow.com/questions/52301850/how-to-wrap-text-in-showmodalbottomsheet/52302231#52302231", "title": "How to wrap Text in showModalBottomSheet?", "body": "<p>You can make use of the <a href=\"https://docs.flutter.io/flutter/widgets/Wrap-class.html\" rel=\"nofollow noreferrer\">Wrap</a> widget:</p>\n\n<pre><code>// WidgetTree\nWrap(\n  children: [\n    Text('some string') // if this string is long enough, it will overflow instead of displaying on a second line\n  ]\n);\n</code></pre>\n"}], "owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 52302231, "answer_count": 1, "score": 0, "last_activity_date": 1536786257, "creation_date": 1536779170, "last_edit_date": 1536786257, "question_id": 52301850, "link": "https://stackoverflow.com/questions/52301850/how-to-wrap-text-in-showmodalbottomsheet", "title": "How to wrap Text in showModalBottomSheet?", "body": "<p>My widget tree looks like this:</p>\n\n<pre><code>showModalBottomSheet(... =&gt; WidgetTree()); // this symbolizes that I pass exactly what you can see below into the builder function\n\n// WidgetTree\nRow(\n  children: [\n    Text('some string') // if this string is long enough, it will overflow instead of displaying on a second line\n  ]\n);\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/wZ5GE.png\" alt=\"\"></p>\n\n<p><em>Above</em> you can see the <em>Modal Bottom Sheet</em>.<br>\nAs you can see, the <code>Text</code> does not expand over the next lines, like it does in other scenarios, but I get a <code>RenderFlex OVERFLOWING</code> error.</p>\n"}, {"tags": ["android", "dart", "flutter", "back-button"], "comments": [{"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 1, "creation_date": 1536773403, "post_id": 52300595, "comment_id": 91548897, "body": "WillPopScore doesn&#39;t need to show a dialog at all. You can do whatever you like with it."}, {"owner": {"reputation": 545, "user_id": 7784017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13973c6d641075e245e260220d9ff2d6?s=128&d=identicon&r=PG&f=1", "display_name": "Shayan", "link": "https://stackoverflow.com/users/7784017/shayan"}, "edited": false, "score": 0, "creation_date": 1600609277, "post_id": 52300595, "comment_id": 113135521, "body": "I believe the way Flutter acts around back button has changed now, instead of closing the app, it now goes back to previous screen. Is that correct?"}], "answers": [{"tags": [], "owner": {"reputation": 31302, "user_id": 10269042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6ac9efa53566934533a6364994c03b6?s=128&d=identicon&r=PG&f=1", "display_name": "anmol.majhail", "link": "https://stackoverflow.com/users/10269042/anmol-majhail"}, "is_accepted": true, "score": 2, "last_activity_date": 1536777629, "creation_date": 1536777629, "answer_id": 52301536, "question_id": 52300595, "link": "https://stackoverflow.com/questions/52300595/flutter-android-back-button-navigating-back-to-main-page/52301536#52301536", "title": "Flutter Android back button navigating back to main page", "body": "<p>You can Use Navigator.canPop() Method to avoid app from Exiting.</p>\n\n<pre><code>class _MyHomePageState extends State&lt;MyHomePage&gt; {\n  @override\n  Widget build(BuildContext context) {\n    return WillPopScope(\n      onWillPop: () async {\n        return Navigator.canPop(context);\n      },\n      child: Scaffold(\n        appBar: AppBar(title: const Text('HomePage')),\n        floatingActionButtonLocation: FloatingActionButtonLocation.centerFloat,\n        floatingActionButton: FloatingActionButton(\n          child: const Icon(Icons.add),\n          backgroundColor: Colors.red,\n          onPressed: () {\n            Navigator.push(\n                context, MaterialPageRoute(builder: (context) =&gt; SecondPage()));\n          },\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2217, "user_id": 8506648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uE5Mc.jpg?s=128&g=1", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/8506648/sebastian"}, "is_accepted": false, "score": 1, "last_activity_date": 1536781249, "creation_date": 1536781249, "answer_id": 52302301, "question_id": 52300595, "link": "https://stackoverflow.com/questions/52300595/flutter-android-back-button-navigating-back-to-main-page/52302301#52302301", "title": "Flutter Android back button navigating back to main page", "body": "<p>The onWillPop callback needs a Future of bool returned. You just can do</p>\n\n<pre><code>Widget build(BuildContext context) {\n    return WillPopScope(\n      onWillPop: () {\n        return Future.value(true); // or return Future.value(false);\n      },\n      child: Container()\n    );\n}\n</code></pre>\n"}], "owner": {"reputation": 445, "user_id": 10194309, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f9b4kSOdgvE/AAAAAAAAAAI/AAAAAAAAOO0/cd-vFig9x2k/photo.jpg?sz=128", "display_name": "Darwish Al-Neyadi", "link": "https://stackoverflow.com/users/10194309/darwish-al-neyadi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4408, "favorite_count": 1, "accepted_answer_id": 52301536, "answer_count": 2, "score": 1, "last_activity_date": 1536781249, "creation_date": 1536773363, "question_id": 52300595, "link": "https://stackoverflow.com/questions/52300595/flutter-android-back-button-navigating-back-to-main-page", "title": "Flutter Android back button navigating back to main page", "body": "<p>I would like to be able to use the back button to navigate back to the main page instead of closing the app, I have seen the WillPopScope widget option but that needs to show a dialog, is there a way to pop back using the android back button without a dialog?</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 3, "creation_date": 1536768189, "post_id": 52299304, "comment_id": 91546372, "body": "Factory constructors are not actual constructors. They are functions hidden behind a fake constructor.  They are used to replace static methods that you&#39;d use in other languages"}], "answers": [{"comments": [{"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 2, "creation_date": 1536768666, "post_id": 52299408, "comment_id": 91546653, "body": "I think the main point of factory constructor is to hide the fact that it&#39;s a static function as an implementation detail; to provide a consistent way of instantiating objects"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1536768717, "post_id": 52299408, "comment_id": 91546683, "body": "But that&#39;s much less relevant now with <code>new</code> being optional. The main advantage is that it&#39;s quite obvious when you look at the source of the class that it is to create or return an instance of the class in a special way."}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 4, "creation_date": 1536768889, "post_id": 52299408, "comment_id": 91546764, "body": "You can&#39;t use it as a variable like you&#39;d do with callbacks though. But yeah, with dart 2 the gain is limited"}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 3, "creation_date": 1536769099, "post_id": 52299408, "comment_id": 91546854, "body": "Maybe mention that subclasses can&#39;t <code>super.factory</code>?"}, {"owner": {"reputation": 471, "user_id": 10167929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94161dd4de9149a6f003f6364f240455?s=128&d=identicon&r=PG&f=1", "display_name": "mjordan", "link": "https://stackoverflow.com/users/10167929/mjordan"}, "edited": false, "score": 2, "creation_date": 1536794500, "post_id": 52299408, "comment_id": 91556840, "body": "Thanks for the reply, Gunter. It seems like using a factory constructor verses a named constructor has valid special case uses but shouldn&#39;t be used capriciously. The majority of examples I saw could be adequately addressed just using a named constructor but were using a factory constructor. In the example I used in my question it seems like the correct implementation would be this:  <code>Student.fromJson(Map&lt;String, dynamic&gt; parsedJson) : studentId = parsedJson[&#39;id&#39;], studentName = parsedJson[&#39;name&#39;], studentScores = parsedJson[&#39;score&#39;];</code>"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1536806461, "post_id": 52299408, "comment_id": 91559133, "body": "Right, if you made the 3 fields in the class <code>final</code> it would look differently though."}, {"owner": {"reputation": 46708, "user_id": 179715, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e240f1a5bb197450dfb8934dd55d9e3a?s=128&d=identicon&r=PG", "display_name": "jamesdlin", "link": "https://stackoverflow.com/users/179715/jamesdlin"}, "edited": false, "score": 0, "creation_date": 1541169248, "post_id": 52299408, "comment_id": 93135461, "body": "The &quot;has no initializer list&quot; part doesn&#39;t make sense. Static methods (which is what you&#39;re comparing against in that section) don&#39;t have initializer lists either."}, {"owner": {"reputation": 46708, "user_id": 179715, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e240f1a5bb197450dfb8934dd55d9e3a?s=128&d=identicon&r=PG", "display_name": "jamesdlin", "link": "https://stackoverflow.com/users/179715/jamesdlin"}, "edited": false, "score": 1, "creation_date": 1541170111, "post_id": 52299408, "comment_id": 93136003, "body": "Also, I think other than being usable with <code>new</code>, perhaps the only thing a factory constructor can do that a static method <i>can&#39;t</i> is to be the unnamed, default constructor."}, {"owner": {"reputation": 2666, "user_id": 4469112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j9rSU.jpg?s=128&g=1", "display_name": "Alessio", "link": "https://stackoverflow.com/users/4469112/alessio"}, "edited": false, "score": 0, "creation_date": 1583311095, "post_id": 52299408, "comment_id": 107068901, "body": "@G&#252;nterZ&#246;chbauer I&#39;m looking at this <a href=\"https://flutter.dev/docs/cookbook/networking/fetch-data\" rel=\"nofollow noreferrer\">official example</a>, where all fields are final, and even in such case I can write a named constructor like mjordan is suggesting: <code>Album.fromJson(Map&lt;String, dynamic&gt; json) : userId = json[&#39;userId&#39;], id =    json[&#39;id&#39;], title = json[&#39;title&#39;];</code> so I wonder, what&#39;s the real reason to use a factory constructor instead? It&#39;s used in all the official examples for json parsing."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1583313039, "post_id": 52299408, "comment_id": 107069890, "body": "Code in initializer list can become hard to read, but I don&#39;t think there is any other argument not to use your approach. If you for example want to return a differrent subclass dependening on the JSON content, you&#39;re out of luck with initializer list. A factory method allows you to do <code>if ( json[&#39;kind&#39;] == &#39;vinyl&#39;) return VinylAlbum(...)</code>"}, {"owner": {"reputation": 2852, "user_id": 3047318, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/QPoQU.jpg?s=128&g=1", "display_name": "Pavel Shorokhov", "link": "https://stackoverflow.com/users/3047318/pavel-shorokhov"}, "edited": false, "score": 0, "creation_date": 1585504051, "post_id": 52299408, "comment_id": 107776561, "body": "Ok, there is a lot of difference. But what is the basic meaning of this keyword? It looks like sugar without any obvious advantages."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1585511623, "post_id": 52299408, "comment_id": 107779351, "body": "You are right, now with <code>new</code> being optional there isn&#39;t much difference to static functions anymore."}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 42, "last_activity_date": 1536769422, "last_edit_date": 1536769422, "creation_date": 1536768406, "answer_id": 52299408, "question_id": 52299304, "link": "https://stackoverflow.com/questions/52299304/dart-advantage-of-a-factory-constructor-identifier/52299408#52299408", "title": "dart advantage of a factory constructor identifier", "body": "<p>A normal constructor <strong>always</strong> returns a new instance of the current class (except when the constructor throws an exception).</p>\n\n<p>A factory constructor is quite similar to a static method with the differences that it</p>\n\n<ul>\n<li>can only return an instance of the current class or one of its subclasses</li>\n<li>can be invoked with <code>new</code> but that is now less relevant since <code>new</code> became optional.</li>\n<li>has no initializer list (no <code>: super()</code>)  </li>\n</ul>\n\n<p>So a factory constructor can be used </p>\n\n<ul>\n<li>to create instances of subclasses (for example depending on the passed parameter  </li>\n<li>to return a cached instance instead of a new one </li>\n<li>to prepare calculated values to forward them as parameters to a normal constructor so that final fields can be initialized with them. This is often used to work around limitations of what can be done in an initializer list of a normal constructor (like error handling).</li>\n</ul>\n\n<p>In your example this code </p>\n\n<pre><code>  studentId: parsedJson['id'],\n  studentName : parsedJson['name'],\n  studentScores : parsedJson ['score']\n</code></pre>\n\n<p>could be moved to the body of a normal constructor because no <code>final</code> fields need to be initialized.</p>\n"}, {"comments": [{"owner": {"reputation": 2666, "user_id": 4469112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j9rSU.jpg?s=128&g=1", "display_name": "Alessio", "link": "https://stackoverflow.com/users/4469112/alessio"}, "edited": false, "score": 0, "creation_date": 1583309829, "post_id": 54997386, "comment_id": 107068330, "body": "that doesn&#39;t really answer the question. You explain the difference between a factory constructor and a normal one, and a static method respectively. The question instead is about why to use factory constructor when parsing json, given in the official examples a new instance is always created within the factory constructor."}, {"owner": {"reputation": 3639, "user_id": 12483095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Jlh3.png?s=128&g=1", "display_name": "iDecode", "link": "https://stackoverflow.com/users/12483095/idecode"}, "reply_to_user": {"reputation": 2666, "user_id": 4469112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j9rSU.jpg?s=128&g=1", "display_name": "Alessio", "link": "https://stackoverflow.com/users/4469112/alessio"}, "edited": false, "score": 0, "creation_date": 1588336526, "post_id": 54997386, "comment_id": 108862797, "body": "@Alessio This is a very well written answer, and he works in Dart for Google, +1 from me."}, {"owner": {"reputation": 2666, "user_id": 4469112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j9rSU.jpg?s=128&g=1", "display_name": "Alessio", "link": "https://stackoverflow.com/users/4469112/alessio"}, "reply_to_user": {"reputation": 3639, "user_id": 12483095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Jlh3.png?s=128&g=1", "display_name": "iDecode", "link": "https://stackoverflow.com/users/12483095/idecode"}, "edited": false, "score": 0, "creation_date": 1588588114, "post_id": 54997386, "comment_id": 108945750, "body": "@iKeepChangingName that&#39;s ok, but I still keep my opinion that the answer is not actually answering the question, while been a well written summary of what a factory constructor is and isn&#39;t. The fact that he works in Dart for Google doesn&#39;t change my opinion either. No worries we can disagree about it :)"}], "tags": [], "owner": {"reputation": 46708, "user_id": 179715, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e240f1a5bb197450dfb8934dd55d9e3a?s=128&d=identicon&r=PG", "display_name": "jamesdlin", "link": "https://stackoverflow.com/users/179715/jamesdlin"}, "is_accepted": false, "score": 33, "last_activity_date": 1612241938, "last_edit_date": 1612241938, "creation_date": 1551770449, "answer_id": 54997386, "question_id": 52299304, "link": "https://stackoverflow.com/questions/52299304/dart-advantage-of-a-factory-constructor-identifier/54997386#54997386", "title": "dart advantage of a factory constructor identifier", "body": "<h2>A factory constructor vs. a normal constructor</h2>\n<ul>\n<li>A factory constructor <em>invokes</em> another constructor.</li>\n<li>Since a factory constructor does not directly create a new instance, it cannot use a constructor initializer list.</li>\n<li>A normal constructor always returns a new instance of the class.  A factory constructor is permitted to return an existing instance, an instance of a derived class, or <code>null</code>. (However, <a href=\"https://stackoverflow.com/questions/21792489/is-it-acceptable-to-return-null-from-a-factory-constructor-in-dart\">some people dislike returning <code>null</code> from a factory constructor</a>.  Note that returning <code>null</code> from a factory constructor is disallowed with null-safety.)</li>\n<li>Due to the above, an extending class cannot invoke a factory constructor as the superclass constructor.  A class that provides only <code>factory</code> constructors therefore cannot be extended with derived classes.</li>\n</ul>\n<h2>A factory constructor vs. a static method</h2>\n<ul>\n<li>A factory constructor can be the unnamed, default constructor of a class.</li>\n<li>A factory constructor can be used with <code>new</code>. (But <a href=\"https://www.dartlang.org/guides/language/effective-dart/usage#dont-use-new\" rel=\"noreferrer\">using <code>new</code> is now discouraged</a>.)</li>\n<li>Static methods can be used to create tear-offs (i.e., they can be used as callbacks) but <a href=\"https://github.com/dart-lang/language/issues/216\" rel=\"noreferrer\">constructors currently can't</a>.</li>\n<li>Static methods can be <code>async</code>. (A factory constructor must return a type of its class, so it cannot return a <code>Future</code>.)</li>\n<li>Factory constructors can be declared <code>const</code>.</li>\n<li>In null-safe Dart, a factory constructor cannot return a nullable type.</li>\n<li>In generated dartdoc documentation, a factory constructor obviously will be listed in the &quot;Constructors&quot; section (which is prominently at the top) whereas a static method will be in the &quot;Static Methods&quot; section (which currently is buried at the bottom).</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 2666, "user_id": 4469112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j9rSU.jpg?s=128&g=1", "display_name": "Alessio", "link": "https://stackoverflow.com/users/4469112/alessio"}, "is_accepted": false, "score": 2, "last_activity_date": 1588588513, "creation_date": 1588588513, "answer_id": 61590219, "question_id": 52299304, "link": "https://stackoverflow.com/questions/52299304/dart-advantage-of-a-factory-constructor-identifier/61590219#61590219", "title": "dart advantage of a factory constructor identifier", "body": "<p>After I've been noticing and wondering the same, and given I don't think the other answers actually answer the question (\"I've been investigating JSON parsing [...] I'm trying to understand the advantage of using a factory constructor verses a plain constructor\"), here my try:</p>\n\n<p>there's no advantage or difference that I could see or understand, when parsing json, in using a factory constructor instead of a plain constructor. I tried both, and both works fine, with all the types of parameters. I decided eventually to adopt the factory constructor, because of the convenience of how the code is written, and readability, but it's a matter  of choice and both will work fine in all the cases.</p>\n"}], "owner": {"reputation": 471, "user_id": 10167929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94161dd4de9149a6f003f6364f240455?s=128&d=identicon&r=PG&f=1", "display_name": "mjordan", "link": "https://stackoverflow.com/users/10167929/mjordan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22416, "favorite_count": 12, "answer_count": 3, "score": 46, "last_activity_date": 1612241938, "creation_date": 1536768041, "last_edit_date": 1601903218, "question_id": 52299304, "link": "https://stackoverflow.com/questions/52299304/dart-advantage-of-a-factory-constructor-identifier", "title": "dart advantage of a factory constructor identifier", "body": "<p>I've been investigating JSON parsing for my Flutter app and have a question about factory constructors that I can't resolve. I'm trying to understand the advantage of using a factory constructor versus a plain constructor. For example, I see quite a few JSON parsing examples that create a model class with a JSON constructor like this:</p>\n<pre><code>class Student{\n  String studentId;\n  String studentName;\n  int studentScores;\n\n  Student({\n    this.studentId,\n    this.studentName,\n    this.studentScores\n  });\n\n  factory Student.fromJson(Map&lt;String, dynamic&gt; parsedJson){\n    return Student(\n      studentId: parsedJson['id'],\n      studentName : parsedJson['name'],\n      studentScores : parsedJson ['score']\n    );\n  }\n}\n</code></pre>\n<p>I've also seen an equal number of examples that DON'T declare the constructor as a factory. Both types of classname.fromJSON constructors create an object from the JSON data so is there an advantage to declaring the constructor as a factory or is using a factory here superfluous?</p>\n"}, {"tags": ["video", "background", "dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 2245, "user_id": 469335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DGzs0.jpg?s=128&g=1", "display_name": "F-1", "link": "https://stackoverflow.com/users/469335/f-1"}, "is_accepted": true, "score": 4, "last_activity_date": 1536785460, "creation_date": 1536785460, "answer_id": 52303295, "question_id": 52299162, "link": "https://stackoverflow.com/questions/52299162/video-background-in-flutter/52303295#52303295", "title": "Video background in flutter", "body": "<p>Try this package <a href=\"https://pub.dartlang.org/packages/video_player\" rel=\"nofollow noreferrer\">https://pub.dartlang.org/packages/video_player</a> the example provided is pretty straight forward to follow. You can then just place the video widget inside a Stack layout with your content displayed overlayed - <a href=\"https://docs.flutter.io/flutter/widgets/Stack-class.html\" rel=\"nofollow noreferrer\">https://docs.flutter.io/flutter/widgets/Stack-class.html</a> Any feature request you can email the creator via the github link</p>\n"}, {"tags": [], "owner": {"reputation": 466, "user_id": 3695912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18592bb3467aa59ba4f6342594e1597e?s=128&d=identicon&r=PG", "display_name": "Ben Hagen", "link": "https://stackoverflow.com/users/3695912/ben-hagen"}, "is_accepted": false, "score": 10, "last_activity_date": 1567462372, "last_edit_date": 1567462372, "creation_date": 1567462046, "answer_id": 57763089, "question_id": 52299162, "link": "https://stackoverflow.com/questions/52299162/video-background-in-flutter/57763089#57763089", "title": "Video background in flutter", "body": "<p>A solution which handles overflow using a FittedBox widget:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Stack(\n  children: &lt;Widget&gt;[\n    SizedBox.expand(\n      child: FittedBox(\n        fit: BoxFit.cover,\n        child: SizedBox(\n          width: _controller.value.size?.width ?? 0,\n          height: _controller.value.size?.height ?? 0,\n          child: VideoPlayer(_controller),\n        ),\n      ),\n    ),\n    LoginWidget()\n  ],\n)\n</code></pre>\n\n<p>A full example would be:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:video_player/video_player.dart';\nimport 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(BackgroundVideo());\n\nclass BackgroundVideo extends StatefulWidget {\n  @override\n  _BackgroundVideoState createState() =&gt; _BackgroundVideoState();\n}\n\nclass _BackgroundVideoState extends State&lt;BackgroundVideo&gt; {\n  VideoPlayerController _controller;\n\n  @override\n  void initState() {\n    super.initState();\n    _controller = VideoPlayerController.network(\n        'http://www.sample-videos.com/video123/mp4/720/big_buck_bunny_720p_20mb.mp4')\n      ..initialize().then((_) {\n        _controller.play();\n        _controller.setLooping(true);\n        // Ensure the first frame is shown after the video is initialized\n        setState(() {});\n      });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: Scaffold(\n        body: Stack(\n          children: &lt;Widget&gt;[\n            SizedBox.expand(\n              child: FittedBox(\n                fit: BoxFit.cover,\n                child: SizedBox(\n                  width: _controller.value.size?.width ?? 0,\n                  height: _controller.value.size?.height ?? 0,\n                  child: VideoPlayer(_controller),\n                ),\n              ),\n            ),\n            LoginWidget()\n          ],\n        ),\n      ),\n    );\n  }\n\n  @override\n  void dispose() {\n    super.dispose();\n    _controller.dispose();\n  }\n}\n\nclass LoginWidget extends StatelessWidget {\n  const LoginWidget({\n    Key key,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Column(\n      mainAxisAlignment: MainAxisAlignment.spaceAround,\n      children: &lt;Widget&gt;[\n        Container(),\n        Container(\n          padding: EdgeInsets.all(16),\n          width: 300,\n          height: 200,\n          color: Colors.grey.withAlpha(200),\n          child: Column(\n            mainAxisAlignment: MainAxisAlignment.spaceAround,\n            children: &lt;Widget&gt;[\n              TextField(\n                decoration: InputDecoration(\n                  hintText: 'Username',\n                ),\n              ),\n              TextField(\n                decoration: InputDecoration(\n                  hintText: 'Password',\n                ),\n              ),\n              RaisedButton(\n                child: Text('Login'),\n                onPressed: () {},\n              ),\n            ],\n          ),\n        ),\n      ],\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 388, "user_id": 1781908, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/VoUjW.jpg?s=128&g=1", "display_name": "Juan Jose Rodrigo", "link": "https://stackoverflow.com/users/1781908/juan-jose-rodrigo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7327, "favorite_count": 3, "accepted_answer_id": 52303295, "answer_count": 2, "score": 7, "last_activity_date": 1567462372, "creation_date": 1536767505, "last_edit_date": 1536769318, "question_id": 52299162, "link": "https://stackoverflow.com/questions/52299162/video-background-in-flutter", "title": "Video background in flutter", "body": "<p>It is possible to have a background video playing all time in flutter?</p>\n\n<p>i was looking for some packages and trying to make it function but i dont know how.</p>\n\n<p>maybe using something like this but with video.</p>\n\n<pre><code>decoration: new BoxDecoration(\n\n    image: new DecorationImage(\n    image: new AssetImage(\"images/f1.jpg\"),\n    fit: BoxFit.cover,\n),),\n</code></pre>\n\n<p>inside a container.</p>\n"}, {"tags": ["events", "dart", "bootstrap-modal", "dart-html", "dart2js"], "answers": [{"comments": [{"owner": {"reputation": 3671, "user_id": 8745788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTs7z.png?s=128&g=1", "display_name": "Mattia", "link": "https://stackoverflow.com/users/8745788/mattia"}, "edited": false, "score": 0, "creation_date": 1536758417, "post_id": 52296087, "comment_id": 91540190, "body": "Thanks for you answer, but unfortunately it isnt working, the <code>ModalElements</code> methods don&#39;t do anything and neither throw an Error."}, {"owner": {"reputation": 3671, "user_id": 8745788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTs7z.png?s=128&g=1", "display_name": "Mattia", "link": "https://stackoverflow.com/users/8745788/mattia"}, "edited": false, "score": 0, "creation_date": 1536759250, "post_id": 52296087, "comment_id": 91540789, "body": "now it&#39;s working, but is it possible to add more methods like: <code>toggle() =&gt; this.modal(&#39;toggle&#39;);</code> to the <code>ModalElement</code> class?"}], "tags": [], "owner": {"reputation": 4118, "user_id": 5189745, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9KVgR-blq7M/AAAAAAAAAAI/AAAAAAAAB8s/fy6ZAPen-_c/photo.jpg?sz=128", "display_name": "Hadrien Lejard", "link": "https://stackoverflow.com/users/5189745/hadrien-lejard"}, "is_accepted": true, "score": 2, "last_activity_date": 1536758482, "last_edit_date": 1536758482, "creation_date": 1536757971, "answer_id": 52296087, "question_id": 52295737, "link": "https://stackoverflow.com/questions/52295737/handling-bootstrap4-modals-in-dart/52296087#52296087", "title": "Handling bootstrap4 modals in Dart", "body": "<p>you defined the jquery class but you need to get it from the window and you also need to defined you modal using @JS annotation, I don't think you can extend the jQuery class</p>\n\n<p>I would have done like that</p>\n\n<pre><code>@JS('\\$')\nexternal dynamic jQuery(query);\n\n@JS()\n@anonymous\nclass ModalElement {\n  external modal(String call);\n  external on(String event, Function callback);\n  ...\n}\n\nfinal modal = jQuery('#myModal') as ModalElement;\nmodal.modal('toggle');\n\nmodal.on('event', allowInterop((event) {}));\n</code></pre>\n"}], "owner": {"reputation": 3671, "user_id": 8745788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTs7z.png?s=128&g=1", "display_name": "Mattia", "link": "https://stackoverflow.com/users/8745788/mattia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 52296087, "answer_count": 1, "score": 0, "last_activity_date": 1536758482, "creation_date": 1536756873, "last_edit_date": 1536758451, "question_id": 52295737, "link": "https://stackoverflow.com/questions/52295737/handling-bootstrap4-modals-in-dart", "title": "Handling bootstrap4 modals in Dart", "body": "<p>I need to call bootstrap modals from Dart code and this is what I've tried (using the <code>js</code> library):</p>\n\n<pre><code>@JS('jQuery')\nclass jQuery {\n\n  @JS()\n  jQuery(obj);\n\n  @JS('modal')\n  external dynamic modal(func);\n}\n\nclass Modal extends jQuery {\n\n  Modal(obj) : super(obj);\n\n  dynamic toggle() =&gt; super.modal('toggle');\n  dynamic show() =&gt; super.modal('show');\n  dynamic hide() =&gt; super.modal('hide');\n  dynamic handleUpdate() =&gt; super.modal('handleUpdate');\n  dynamic dispose() =&gt; super.modal('dispose');\n\n}\n</code></pre>\n\n<p>in that code if I use the jQuery class directly I get no issues (<code>jQuery.modal('show')</code>) but if I use the <code>Modal</code> methods i.e.:</p>\n\n<pre><code>Modal modal = Modal('#myModal');\nmodal.toggle();\n</code></pre>\n\n<p>I will get a <code>TypeError: Cannot read property 'call' of undefined (NullError)</code> .</p>\n\n<p>The javascript the code is <code>jQuery('#myModal').modal(func)</code></p>\n\n<p>My second issue is how to hook a custom event for example: <code>show.bs.modal</code> in jQuery I would use <code>.on(...)</code> but in Dart I have no clue, I've used <code>element.addEventListener('show.bs.modal', onModalShown)</code> but it isn't triggered and I don't get any errors.</p>\n"}, {"tags": ["dart", "angular-dart"], "comments": [{"owner": {"reputation": 1821, "user_id": 7711920, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-04zzMRK9qvE/AAAAAAAAAAI/AAAAAAAABHQ/tjs-Q8LOBQc/photo.jpg?sz=128", "display_name": "Ted Sander", "link": "https://stackoverflow.com/users/7711920/ted-sander"}, "edited": false, "score": 0, "creation_date": 1536957582, "post_id": 52295624, "comment_id": 91625137, "body": "Angular CD works on identity so it should be checking if the exact instance of Place has changed. Do you happen to return the same instance in the service? Another possibility is there is a runtime exception being thrown which is breaking CD. Is there anything in the browser console?"}, {"owner": {"reputation": 2947, "user_id": 1262322, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/g2T0e.jpg?s=128&g=1", "display_name": "Christopher Armstrong", "link": "https://stackoverflow.com/users/1262322/christopher-armstrong"}, "reply_to_user": {"reputation": 1821, "user_id": 7711920, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-04zzMRK9qvE/AAAAAAAAAAI/AAAAAAAABHQ/tjs-Q8LOBQc/photo.jpg?sz=128", "display_name": "Ted Sander", "link": "https://stackoverflow.com/users/7711920/ted-sander"}, "edited": false, "score": 0, "creation_date": 1537060240, "post_id": 52295624, "comment_id": 91645533, "body": "Thanks Ted, i solved it. I didn&#39;t consider that the list was actually it&#39;s own component too. So communication was from child component to child component. Once I hooked up the EventBus to the other child component it worked."}], "answers": [{"comments": [{"owner": {"reputation": 2947, "user_id": 1262322, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/g2T0e.jpg?s=128&g=1", "display_name": "Christopher Armstrong", "link": "https://stackoverflow.com/users/1262322/christopher-armstrong"}, "edited": false, "score": 0, "creation_date": 1536762374, "post_id": 52296227, "comment_id": 91542912, "body": "Thanks a lot for your feedback, tried both options, but it didn&#39;t do the trick. it&#39;s still not reloading."}, {"owner": {"reputation": 553, "user_id": 3755079, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JxkWF.jpg?s=128&g=1", "display_name": "Adel Ben Hamadi", "link": "https://stackoverflow.com/users/3755079/adel-ben-hamadi"}, "edited": false, "score": 1, "creation_date": 1571996478, "post_id": 52296227, "comment_id": 103431354, "body": "detectChanges() is deprecated please use markForCheck() instead"}], "tags": [], "owner": {"reputation": 4118, "user_id": 5189745, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9KVgR-blq7M/AAAAAAAAAAI/AAAAAAAAB8s/fy6ZAPen-_c/photo.jpg?sz=128", "display_name": "Hadrien Lejard", "link": "https://stackoverflow.com/users/5189745/hadrien-lejard"}, "is_accepted": false, "score": 1, "last_activity_date": 1536758405, "creation_date": 1536758405, "answer_id": 52296227, "question_id": 52295624, "link": "https://stackoverflow.com/questions/52295624/how-to-notify-parent-component-of-change-and-refresh-view/52296227#52296227", "title": "How to notify parent component of change and refresh view", "body": "<p>Sometimes Angular does not trigger change detection after async call, you need to force it using <a href=\"https://webdev.dartlang.org/api/angular/angular/ChangeDetectorRef/ChangeDetectorRef\" rel=\"nofollow noreferrer\"><code>ChangeDetectorRef</code></a></p>\n\n<pre><code>final ChangeDetectorRef cdRef;\n\nPlaceComponent(this.cdRef);\n\nFuture&lt;void&gt; loadPosts() async {\n if (_id != null) place = await (_placeService.get(_id));\n ////\n\n cdRef.markForCheck();\n\n // or \n\n cdRef.detectChanges();\n\n /// actually I don't know what is the best here\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2947, "user_id": 1262322, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/g2T0e.jpg?s=128&g=1", "display_name": "Christopher Armstrong", "link": "https://stackoverflow.com/users/1262322/christopher-armstrong"}, "is_accepted": true, "score": 0, "last_activity_date": 1537068892, "last_edit_date": 1537068892, "creation_date": 1537062051, "answer_id": 52350269, "question_id": 52295624, "link": "https://stackoverflow.com/questions/52295624/how-to-notify-parent-component-of-change-and-refresh-view/52350269#52350269", "title": "How to notify parent component of change and refresh view", "body": "<p>I had following setup:</p>\n\n<ul>\n<li>Parent Component places_component </li>\n<li>Child Component post_new_component</li>\n<li>Child Component post_list_component</li>\n</ul>\n\n<p>To solve my problem I had to send the event not to the Parent Component, but to the other child component. So @Output wouldn't have worked. I just hooked up the EventBus to the other child component.</p>\n\n<p>So the html of the parent component in short looked like this:</p>\n\n<pre><code>...\n&lt;div&gt;&lt;new-post [place]=\"place\"&gt;&lt;/new-post&gt;&lt;/div&gt;\n&lt;div&gt;&lt;list-posts [place]=\"place\"&gt;&lt;/list-posts&gt;&lt;/div&gt;\n...\n</code></pre>\n\n<p>So the child component new-post needs to notify the child component list-posts, that a new post has been added and list-posts should re-fetch all posts related to a place.</p>\n\n<p><strong>post_event.dart (Event Bus Service)</strong></p>\n\n<p>The Event Bus service is setup between the post_new_component and the post_list_component.</p>\n\n<p>I'm passing an int to the Stream (int id), this is not important right now, as I only need to check, if an event has fired, you could also parse a string, an object or anything else, if you need to send data with the event.</p>\n\n<pre><code>@Injectable()\nclass PostEvent {\n  final StreamController&lt;int&gt; _onEventStream = new StreamController.broadcast();\n    Stream&lt;int&gt; onEventStream = null;\n\n    static final PostEvent _singleton = new PostEvent._internal(); \n\n    factory PostEvent() {\n         return _singleton;\n    }\n\n    PostEvent._internal() {\n         onEventStream = _onEventStream.stream;\n    }\n\n    onEvent(int id) {\n         _onEventStream.add(id);\n    }\n}\n</code></pre>\n\n<p><strong>post_new_component.dart</strong></p>\n\n<p>After the post has been added, _postEvent.onEvent(1) is executed. As explained above \"1\" is not important, as I only want to know, if an event was fired.</p>\n\n<pre><code>@Component(\n  selector: 'new-post',\n  directives: [coreDirectives, \n                formDirectives,\n                FileUploader,\n                materialInputDirectives,\n                MaterialButtonComponent],\n  templateUrl: 'post_new_component.html',\n  styleUrls: ['post_new_component.css'],\n  providers: [ClassProvider(PostService), ClassProvider(PostEvent)]\n)\nclass PostNewComponent {\n  final PostService _postService;\n  final PostEvent _postEvent;\n\n  String postText;\n  Post post;\n\n  @Input()\n  Place place;\n\n  PostNewComponent(this._postService, this._postEvent);\n\n  // Save a new post\n  Future&lt;void&gt; save() async {\n    // Create a new post and then fire a post event to notify the post list component to update itself.\n    await _postService.create(postText,place.id).then(((_) =&gt; _postEvent.onEvent(1)));\n  }\n}\n</code></pre>\n\n<p><strong>post_list_component.dart</strong></p>\n\n<p>I setup the event listener in the constructor of the component, that listens for event changes from the post-new component. Each time an event is received, I fetch all posts through the _getPosts() function.</p>\n\n<pre><code>@Component(\n  selector: 'list-posts',\n  directives: [coreDirectives, formDirectives],\n  templateUrl: 'post_list_component.html',\n  styleUrls: ['post_list_component.css'],\n  providers: [ClassProvider(PostService), ClassProvider(PostEvent)]\n)\nclass PostListComponent implements OnInit {\n  final PostService _postService;\n  final PostEvent _postEvent;\n  List&lt;Post&gt; posts;\n\n  @Input()\n  Place place;\n\n  PostListComponent(this._postService, this._postEvent) {\n    // listen for postEvents, if received re-fetch posts\n    _postEvent.onEventStream.listen((int id) =&gt; _getPosts());\n  }\n\n  // Get all posts when page loads the first time\n  void ngOnInit() =&gt; _getPosts();\n\n  // Function to get all the posts related to a place\n  Future&lt;void&gt; _getPosts() async {\n    posts = await _postService.getPostsByPlace(place.id);\n  }\n}\n</code></pre>\n\n<p>If anybody knows a better way to do it, by any means correct me, as I'm not that familiar with the framework yet, and have a hard time to understand the concepts. The documentation covers much, but if somebody is totally new to the framework, like me, I'm missing some info. An extension to the Hero Documentation would be appreciated, that covers the more complex topics, such as communication between child components, and child to parent, but not sure, if this is explained somewhere, and I just missed it.</p>\n"}], "owner": {"reputation": 2947, "user_id": 1262322, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/g2T0e.jpg?s=128&g=1", "display_name": "Christopher Armstrong", "link": "https://stackoverflow.com/users/1262322/christopher-armstrong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1521, "favorite_count": 0, "accepted_answer_id": 52350269, "answer_count": 2, "score": 0, "last_activity_date": 1537068892, "creation_date": 1536756521, "last_edit_date": 1536847112, "question_id": 52295624, "link": "https://stackoverflow.com/questions/52295624/how-to-notify-parent-component-of-change-and-refresh-view", "title": "How to notify parent component of change and refresh view", "body": "<p>I want to notify a parent component from a child component to update a view in the parent component. I'm using the @Output annotation to do that. </p>\n\n<p>In the parent component the function \"loadPosts()\" is actually invoked, but the view is not updated. Does anybody know why?</p>\n\n<p>What happens:</p>\n\n<ul>\n<li>place_component contains a \"list-post\" directive, which displays all posts. </li>\n<li>place_component contains a modal, to add a new post with a directive \"new-post\"</li>\n<li>When a new post is saved, a message is parsed back over @output to the \"new-post\" directive in the modal: (doneIt)=\"loadPosts()\" </li>\n<li>The loadPosts() function is executed, but the \"list-post\" directive does not reload.</li>\n</ul>\n\n<p><strong>Parent Component:</strong></p>\n\n<p>place_component.dart:</p>\n\n<pre><code>@Component(\n  selector: 'my-place',\n  directives: [coreDirectives, \n                formDirectives, \n                PostNewComponent, \n                PostListComponent,\n                MaterialButtonComponent,\n                MaterialDialogComponent,\n                ModalComponent,\n                MaterialTabPanelComponent,\n                MaterialTabComponent],\n  templateUrl: 'place_component.html',\n  styleUrls: ['place_component.css'],\n  providers: [materialProviders]\n)\nclass PlaceComponent implements OnActivate, OnInit {\n  Place place;\n\n  final PlaceService _placeService;\n  final Location _location;\n  final ChangeDetectorRef cdRef;\n\n  int _id;\n\n  bool showBasicDialog = false;\n\n  final tabLabels = const &lt;String&gt;[\n    'Posts',\n    'Pictures',\n    'Pending Invitations'\n  ];\n\n  PlaceComponent(this._placeService, this._location, this.cdRef);\n\n  @override\n  Future&lt;void&gt; onActivate(_, RouterState current) async {\n    _id = paths.getId(current.parameters);\n    loadPosts();\n  }\n\n  @override\n  Future&lt;void&gt; ngOnInit() async {\n    print(\"init executed\");\n  }\n\n  Future&lt;void&gt; loadPosts() async {\n    if (_id != null) place = await (_placeService.get(_id));\n    cdRef.detectChanges();\n    print(\"loaded posts $_id\");\n  }\n\n  void goBack() =&gt; _location.back(); \n\n  Future&lt;void&gt; save() async {\n    await _placeService.update(place);\n    goBack();\n  }\n}\n</code></pre>\n\n<p>place_component.html:</p>\n\n<pre><code>&lt;div *ngIf=\"place != null\"&gt;\n    &lt;h2&gt;{{place.name}}&lt;/h2&gt;\n    &lt;div class=\"grid\"&gt;\n      &lt;div class=\"col-1-3\"&gt;\n        &lt;div class=\"module\"&gt;\n          &lt;material-button class=\"open-post-button\" (trigger)=\"showBasicDialog = true\" [disabled]=\"showBasicDialog\" raised&gt;\n            New Post\n          &lt;/material-button&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\"col-2-3\"&gt;\n        &lt;div class=\"module\"&gt;\n          &lt;material-tab-panel class=\"tab-panel\" [activeTabIndex]=\"0\"&gt;\n            &lt;material-tab label=\"Posts\"&gt;\n              &lt;div class=\"posts\"&gt;\n                &lt;div class=\"post\"&gt;\n                  &lt;list-posts [place]=\"place\"&gt;&lt;/list-posts&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/material-tab&gt;\n            &lt;material-tab label=\"Pictures\"&gt;\n              Pictures\n            &lt;/material-tab&gt;\n            &lt;material-tab label=\"Videos\"&gt;\n              Videos\n            &lt;/material-tab&gt;            \n          &lt;/material-tab-panel&gt;\n          &lt;div class=\"divider10\"&gt;&lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;  \n&lt;/div&gt;\n&lt;modal [visible]=\"showBasicDialog\"&gt;\n    &lt;material-dialog class=\"basic-dialog\"&gt;\n\n      &lt;h1 header&gt;New Post&lt;/h1&gt;\n\n      &lt;div class=\"new-post\"&gt;\n          &lt;new-post (doneIt)=\"loadPosts()\" [place]=\"place\"&gt;&lt;/new-post&gt;\n      &lt;/div&gt;\n\n      &lt;div footer&gt;\n        &lt;material-button autoFocus clear-size (trigger)=\"showBasicDialog = false\" class=\"close-button\"&gt;\n          Close\n        &lt;/material-button&gt;\n      &lt;/div&gt;\n\n    &lt;/material-dialog&gt;\n  &lt;/modal&gt;\n</code></pre>\n\n<p><strong>Child Component</strong></p>\n\n<p>post_new_component.dart:</p>\n\n<pre><code>@Component(\n  selector: 'new-post',\n  directives: [coreDirectives, \n                formDirectives,\n                FileUploader,\n                materialInputDirectives,\n                MaterialButtonComponent],\n  templateUrl: 'post_new_component.html',\n  styleUrls: ['post_new_component.css'],\n  providers: [ClassProvider(PostService)]\n)\nclass PostNewComponent {\n  final PostService _postService;\n  final _onDone = new StreamController.broadcast();\n\n  String postText;\n  Post post;\n\n  @Input()\n  Place place;\n\n  @Output()\n  Stream get doneIt =&gt; _onDone.stream;\n\n  PostNewComponent(this._postService);\n\n  Future&lt;void&gt; save() async {\n    await _postService.create(postText,place.id).then(((_) =&gt; _onDone.add(1)));\n  }\n}\n</code></pre>\n\n<p>post_new_component.html:</p>\n\n<pre><code>&lt;div class=\"post-new-component\"&gt;\n    &lt;div&gt;\n        &lt;material-input floatingLabel\n            multiline\n            rows=\"2\"\n            maxRows=\"4\"\n            label=\"Add a new post here....\" \n            [(ngModel)]=\"postText\"\n            class=\"post-text\"&gt;\n        &lt;/material-input&gt;\n    &lt;/div&gt;\n    &lt;div class=\"post-buttons\"&gt;\n        &lt;file-uploader class=\"file-uploader\"&gt;&lt;/file-uploader&gt;\n        &lt;div&gt;&lt;material-button (trigger)=\"save()\" raised class=\"send-button\"&gt;Post&lt;/material-button&gt;&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"clear-float\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I have now additionally also tried with an EventBus according to this example: <a href=\"https://stackoverflow.com/questions/44170126/angulardart-how-do-you-pass-an-event-from-a-child-component-to-a-second-level-p\">AngularDart: How do you pass an event from a Child component to a second level parent</a></p>\n\n<pre><code>  PlaceComponent(this._placeService, this._location, this._postEvent, this.cdRef) {\n    _postEvent.onEventStream.listen((int id) =&gt; loadPosts().then((_){cdRef.markForCheck();}));\n  }\n</code></pre>\n\n<p>The behaviour is exactly the same. The loadPosts function is executed, but the view is not loading.</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 2795, "user_id": 10139611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9417a433ed16a09cf75fe161f8114d?s=128&d=identicon&r=PG&f=1", "display_name": "Little Monkey", "link": "https://stackoverflow.com/users/10139611/little-monkey"}, "edited": false, "score": 0, "creation_date": 1536755666, "post_id": 52295275, "comment_id": 91538133, "body": "OOooops, you are right, something totally wrong happened in my mind when I made this code. Thanks a lot!"}, {"owner": {"reputation": 103440, "user_id": 6618622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z7q0p.jpg?s=128&g=1", "display_name": "CopsOnRoad", "link": "https://stackoverflow.com/users/6618622/copsonroad"}, "edited": false, "score": 0, "creation_date": 1536772234, "post_id": 52295275, "comment_id": 91548372, "body": "<code>super.initState()</code> should always be the first line to execute in <code>initState()</code> method."}], "tags": [], "owner": {"reputation": 4118, "user_id": 5189745, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9KVgR-blq7M/AAAAAAAAAAI/AAAAAAAAB8s/fy6ZAPen-_c/photo.jpg?sz=128", "display_name": "Hadrien Lejard", "link": "https://stackoverflow.com/users/5189745/hadrien-lejard"}, "is_accepted": true, "score": 6, "last_activity_date": 1536838401, "last_edit_date": 1536838401, "creation_date": 1536755547, "answer_id": 52295275, "question_id": 52295092, "link": "https://stackoverflow.com/questions/52295092/textformfield-with-default-text/52295275#52295275", "title": "TextFormField with default text", "body": "<p>You are setting the default text inside build method, each time you rebuild the UI, the build method is call so you put back the default text.</p>\n\n<p>move you initialization inside <code>initState</code> method</p>\n\n<pre><code>@override\nvoid initState() {\n  super.initState();\n  _userTextController.text = \"test\";\n}\n</code></pre>\n\n<p>also don't forget to dispose your controller</p>\n\n<pre><code>@override\nvoid dispose() {\n  _userTextController.dispose();\n  super.dispose();\n}\n</code></pre>\n"}], "owner": {"reputation": 2795, "user_id": 10139611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9417a433ed16a09cf75fe161f8114d?s=128&d=identicon&r=PG&f=1", "display_name": "Little Monkey", "link": "https://stackoverflow.com/users/10139611/little-monkey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1071, "favorite_count": 0, "accepted_answer_id": 52295275, "answer_count": 1, "score": 0, "last_activity_date": 1536838401, "creation_date": 1536755001, "last_edit_date": 1536762449, "question_id": 52295092, "link": "https://stackoverflow.com/questions/52295092/textformfield-with-default-text", "title": "TextFormField with default text", "body": "<p>I want to have some FormTextFields with some default text inside that the user can change.\nThe problem that I have is that, once I have modified a field, if I press to another field or a button, everything is good, but, if I press on the \"complete\" button on the keyboard, then came back the default text, deleting the new one inserted by the user. This is what I've done so far:</p>\n\n<pre><code>class _LoginSettingsViewState extends State&lt;LoginSettingsView&gt; {\n\n  final GlobalKey&lt;FormState&gt; _formKey = new GlobalKey&lt;FormState&gt;();\n\n  var _userTextController = new TextEditingController();\n\n@override\n  Widget build(BuildContext context) {\n\n    _userTextController.text = \"test\";\n\n return Scaffold(\n\n      appBar: AppBar(\n        title: Text(\"Settings\"),\n      ),\n\n      body: ListView(\n        children: &lt;Widget&gt;[\n          new Container(\n            margin: EdgeInsets.only(\n              left: 10.0,\n              right: 10.0,\n              top: MediaQuery.of(context).size.height / 10\n            ),\n            child: Form(\n                key: _formKey,\n                child: Column(\n                  children: &lt;Widget&gt;[\n                    TextFormField(\n                      decoration: _fieldDecoration(\"user\", null),\n                      controller: _userTextController,\n                      validator: (val) =&gt; val.isEmpty ? \"Insert user\" : null,\n                      onSaved: (val){\n                        print(val);\n                      },\n                    ),\n</code></pre>\n"}, {"tags": ["variables", "dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 792, "user_id": 9363835, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ztCRobtQNGg/AAAAAAAAAAI/AAAAAAAAAPU/iJWHavVnXyM/photo.jpg?sz=128", "display_name": "Denis Ramdan", "link": "https://stackoverflow.com/users/9363835/denis-ramdan"}, "edited": false, "score": 0, "creation_date": 1536755876, "post_id": 52295033, "comment_id": 91538286, "body": "thank for your comment @lrn, i will try.. best regard"}], "tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": true, "score": 0, "last_activity_date": 1536761492, "last_edit_date": 1536761492, "creation_date": 1536754848, "answer_id": 52295033, "question_id": 52293654, "link": "https://stackoverflow.com/questions/52293654/edit-string-variable-in-flutter/52295033#52295033", "title": "Edit String Variable in Flutter", "body": "<p>You are changing the value, but that happens after the print statement has been executed.</p>\n\n<p>Try adding an <code>await</code> before <code>socketUtil.join(id).then( ... )</code> to wait for that operation to complete before continuing to the print statement. </p>\n\n<p>Even better, use <code>await</code> consistently instead of mixing it with <code>then</code> calls:</p>\n\n<pre><code>Future&lt;List&lt;ChatTile&gt;&gt; fetchChat(socketutil,id) async {\n  String messagePrefs = '[]';\n  try {\n    var result = await sockeutil.join(id);\n    print(\"DUA\");\n    SharedPreferences prefs = await SharedPreferences.getInstance();\n    messagePrefs = (prefs.getString('messagePrefs') ?? \"[]\");\n    print(messagePrefs);\n  } catch (e) {\n    print(e);\n  }\n  print(messagePrefs);\n  return await compute(parseListChat, messagePrefs);\n}\n</code></pre>\n\n<p>(I didn't see any use of <code>completer</code> so I removed it too).</p>\n"}], "owner": {"reputation": 792, "user_id": 9363835, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ztCRobtQNGg/AAAAAAAAAAI/AAAAAAAAAPU/iJWHavVnXyM/photo.jpg?sz=128", "display_name": "Denis Ramdan", "link": "https://stackoverflow.com/users/9363835/denis-ramdan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 657, "favorite_count": 0, "accepted_answer_id": 52295033, "answer_count": 1, "score": 0, "last_activity_date": 1536761492, "creation_date": 1536750315, "question_id": 52293654, "link": "https://stackoverflow.com/questions/52293654/edit-string-variable-in-flutter", "title": "Edit String Variable in Flutter", "body": "<p>how to edit value of <code>messagePrefs</code> variable.\nin this my code : </p>\n\n<pre><code>Future&lt;List&lt;ChatTile&gt;&gt; fetchChat(socketutil,id) async {\n  Completer completer = new Completer();\n  String messagePrefs = '[]';\n  socketutil.join(id)\n  .then((result) async {\n    print(\"DUA\");\n    SharedPreferences prefs = await SharedPreferences.getInstance();\n    messagePrefs = (prefs.getString('messagePrefs') ?? \"[]\");\n    print(messagePrefs); value is '[{\"createdAt\":\"2018-09-07T15:24:26.280Z\",\"is_read\":1,\"_id\":\"5b92982a5d31755e82288456\",\"from_id\":\"5b751f8a052e8b0a19f1c684\",\"from_name\":\"RITA .L. Bubun\",\"from_photo\":\"https:\\/\\/lh3.googleusercontent.com\\/-Nocv8SNhvn0\\/AAAAAAAAAAI\\/AAAAAAAAALk\\/nwOSRVOuPKg\\/photo.jpg\",\"from_device\":\"Mobile Phone\",\"text\":\"Assalamualaikum, mohon kiranya kami dapat diinformasikan terkait dokumen akreditasi prodi, apabila kami telah mengirim dokumen dengan mengisi SAPTO online, dan kemudian masih ad perbaikan dan perbaikan tersebut dikirim pada bulan Oktober, apakah prodi tersebut akan terkena aturan pemberlakuan 9 standar atau tetap menggunakan 7 standar sesuai pengajuan sebelum Oktober\"}]'\n    completer.complete(result);\n  })\n  .catchError((e) {\n    print(e);\n  });\n  print(messagePrefs); //value is '[]'\n  return await compute(parseListChat, messagePrefs);\n}\n</code></pre>\n\n<p>what can i do, to change the value of <code>messagePrefs</code> variable?</p>\n\n<p>thank you, best regard.</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536750448, "post_id": 52293149, "comment_id": 91535062, "body": "<a href=\"https://github.com/bwu-dart/bwu_docker/blob/0244aa90079e4e8515b5ca412e73b8f858cab809/lib/src/remote_api.dart#L136\" rel=\"nofollow noreferrer\">github.com/bwu-dart/bwu_docker/blob/&hellip;</a> might work as example"}], "answers": [{"comments": [{"owner": {"reputation": 2623, "user_id": 772374, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ZItnC.jpg?s=128&g=1", "display_name": "stuckedoverflow", "link": "https://stackoverflow.com/users/772374/stuckedoverflow"}, "edited": false, "score": 0, "creation_date": 1551266540, "post_id": 52328955, "comment_id": 96575722, "body": "what is inside <code>getTemporaryDirectory</code> ?"}, {"owner": {"reputation": 331, "user_id": 2231833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fc6b7a237fd9d29976350d261d153ee?s=128&d=identicon&r=PG", "display_name": "annalaufey", "link": "https://stackoverflow.com/users/2231833/annalaufey"}, "reply_to_user": {"reputation": 2623, "user_id": 772374, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ZItnC.jpg?s=128&g=1", "display_name": "stuckedoverflow", "link": "https://stackoverflow.com/users/772374/stuckedoverflow"}, "edited": false, "score": 0, "creation_date": 1551357604, "post_id": 52328955, "comment_id": 96616455, "body": "It&#39;s a function from path_provider that gives you a path to the temporary directory on the device. Here&#39;s the library: <a href=\"https://pub.dartlang.org/packages/path_provider\" rel=\"nofollow noreferrer\">pub.dartlang.org/packages/path_provider</a>"}], "tags": [], "owner": {"reputation": 331, "user_id": 2231833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fc6b7a237fd9d29976350d261d153ee?s=128&d=identicon&r=PG", "display_name": "annalaufey", "link": "https://stackoverflow.com/users/2231833/annalaufey"}, "is_accepted": false, "score": 8, "last_activity_date": 1536917291, "creation_date": 1536917291, "answer_id": 52328955, "question_id": 52293149, "link": "https://stackoverflow.com/questions/52293149/flutter-how-to-download-a-file-from-server-using-binary-stream/52328955#52328955", "title": "Flutter - How to download a file from server using binary stream", "body": "<p>I was able to do this successfully with this code:</p>\n\n<pre><code> void getImage(String url, String userId, sessionToken) async{\n    var uri = Uri.parse(url);\n\n    Map body = {'Session': sessionToken, 'UserId': userId};\n    try {\n      final response = await http.post(uri,\n          headers: {\"Content-Type\": \"application/json\"},\n          body: utf8.encode(json.encode(body)));\n\n      if (response.contentLength == 0){\n        return;\n      }\n      Directory tempDir = await getTemporaryDirectory();\n      String tempPath = tempDir.path;\n      File file = new File('$tempPath/$userId.png');\n      await file.writeAsBytes(response.bodyBytes);\n      displayImage(file);\n    }\n    catch (value) {\n      print(value);\n    }\n  }\n</code></pre>\n\n<p>Thanks for the help :)</p>\n"}, {"tags": [], "owner": {"reputation": 358195, "user_id": 3681880, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3b7ad8915f552cd4e23caf38eee10030?s=128&d=identicon&r=PG", "display_name": "Suragch", "link": "https://stackoverflow.com/users/3681880/suragch"}, "is_accepted": false, "score": 0, "last_activity_date": 1599299511, "creation_date": 1599299511, "answer_id": 63752600, "question_id": 52293149, "link": "https://stackoverflow.com/questions/52293149/flutter-how-to-download-a-file-from-server-using-binary-stream/63752600#63752600", "title": "Flutter - How to download a file from server using binary stream", "body": "<p>Here is a related example showing only how to stream the content of a webpage or file:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:http/http.dart' as http;\n\nFuture&lt;void&gt; main() async {\n  final url = Uri.parse('https://google.com/');\n  final client = http.Client();\n  final request = http.Request('GET', url);\n  final response = await client.send(request);\n  final stream = response.stream;\n  await for (var data in stream) {\n    print(data.length);\n  }\n  client.close();\n}\n</code></pre>\n<p>It is a complete example so if you add the <a href=\"https://pub.dev/packages/http\" rel=\"nofollow noreferrer\">http</a> package to your pubspec.yaml file, you can copy the whole thing to test it. The example prints the size of each data chunk coming in. If you want to convert those bytes to a string you could use <code>stream.transform(utf8.decoder)</code>.</p>\n<p>I'm using the above example to learn how streaming works. A more complete solution would need to handle errors and save the file.</p>\n<p>Thanks to <a href=\"https://github.com/dart-lang/http/issues/210#issuecomment-432763559\" rel=\"nofollow noreferrer\">this answer</a> for help with this.</p>\n<h3>See also</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/54911880/difference-between-http-and-httpclient-in-dart\">Difference between http and HttpClient in Dart</a></li>\n</ul>\n"}], "owner": {"reputation": 331, "user_id": 2231833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fc6b7a237fd9d29976350d261d153ee?s=128&d=identicon&r=PG", "display_name": "annalaufey", "link": "https://stackoverflow.com/users/2231833/annalaufey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5650, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1599299511, "creation_date": 1536748579, "question_id": 52293149, "link": "https://stackoverflow.com/questions/52293149/flutter-how-to-download-a-file-from-server-using-binary-stream", "title": "Flutter - How to download a file from server using binary stream", "body": "<p>I need to be able to download and display an image from a private server. The request that I send needs to include a header with content-type and a body with sessionToken and userId. \nThe server responds with a binary stream with the Content-type application/octet-stream. </p>\n\n<p>This is the code I have right now: </p>\n\n<pre><code> Future&lt;Null&gt; _downloadFile(String url, String userId, sessionToken) async {\n    Map map = {'token': sessionToken, 'UserId': userId};\n\n    try {\n      var request = await httpClient.getUrl(Uri.parse(url));\n      request.headers.set('content-type', 'application/json');\n      request.add(utf8.encode(json.encode(map)));\n      var response = await request.close();\n      var bytes = await consolidateHttpClientResponseBytes(response);\n      await _image.writeAsBytes(bytes);\n      userImage(_image);\n    }\n    catch (value){\n      print(value);\n    }\n\n  }\n</code></pre>\n\n<p>When I try to read the response I get this error: \nHttpException: Content size exceeds specified contentLength. 72 bytes written while expected 0. </p>\n\n<p>I've tried to google this endlessly on how to download a file from a server using a stream, but I can't find anything. What I need is something similar to the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.drawing.bitmap?redirectedfrom=MSDN&amp;view=netframework-4.7.2\" rel=\"noreferrer\">bitmap class in .NET</a> that can take in a stream and turn it into an image. </p>\n\n<p>Can anybody help me? It would be greatly appreciated. </p>\n"}, {"tags": ["firebase", "dart", "firebase-authentication", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 1, "last_activity_date": 1536830951, "last_edit_date": 1536830951, "creation_date": 1536750635, "answer_id": 52293765, "question_id": 52293129, "link": "https://stackoverflow.com/questions/52293129/how-to-change-password-using-firebase-in-flutter/52293765#52293765", "title": "How to change password using Firebase in Flutter", "body": "<p>This is currently not supported. </p>\n\n<p>When this pull request is merged <a href=\"https://github.com/flutter/plugins/pull/678\" rel=\"nofollow noreferrer\">https://github.com/flutter/plugins/pull/678</a> the Flutter firebase_auth package will support that.</p>\n"}, {"tags": [], "owner": {"reputation": 24384, "user_id": 7814783, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/WmVpD.jpg?s=128&g=1", "display_name": "Vamsi Krishna", "link": "https://stackoverflow.com/users/7814783/vamsi-krishna"}, "is_accepted": false, "score": 0, "last_activity_date": 1536754860, "last_edit_date": 1536754860, "creation_date": 1536754468, "answer_id": 52294919, "question_id": 52293129, "link": "https://stackoverflow.com/questions/52293129/how-to-change-password-using-firebase-in-flutter/52294919#52294919", "title": "How to change password using Firebase in Flutter", "body": "<p>As <strong>@Gunter</strong> mentioned that the feature is currently still unavailable, you can make use of the <a href=\"https://firebase.google.com/docs/reference/rest/auth/#section-change-password\" rel=\"nofollow noreferrer\">firebase REST API</a> way of changing the password for the time being.</p>\n\n<pre><code>import 'package:http/http.dart' as http;\nimport 'dart:convert';\nimport 'dart:async';\n\nFuture&lt;Null&gt; changePassword(String newPassword) async {\n  const String API_KEY = 'YOUR_API_KEY';\n  final String changePasswordUrl =\n      'https://www.googleapis.com/identitytoolkit/v3/relyingparty/setAccountInfo?key=$API_KEY';\n\n      final String idToken = await user.getIdToken(); // where user is FirebaseUser user\n\n    final Map&lt;String, dynamic&gt; payload = {\n      'email': idToken,\n      'password': newPassword,\n      'returnSecureToken': true\n    };\n\n  await http.post(changePasswordUrl, \n    body: json.encode(payload), \n    headers: {'Content-Type': 'application/json'},  \n  )\n}\n</code></pre>\n\n<p>You can get the <code>idToken</code> by using the <a href=\"https://pub.dartlang.org/documentation/firebase_auth/latest/firebase_auth/FirebaseUser/getIdToken.html\" rel=\"nofollow noreferrer\"><code>getIdToken()</code></a> method on the <a href=\"https://pub.dartlang.org/documentation/firebase_auth/latest/firebase_auth/FirebaseUser-class.html\" rel=\"nofollow noreferrer\">FirebaseUser</a> object</p>\n\n<p>You can get the firebase api key under the project setting in your console</p>\n\n<p><a href=\"https://i.stack.imgur.com/NKwzQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NKwzQ.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 823, "user_id": 9949983, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZFQqcIeRqhI/AAAAAAAAAAI/AAAAAAAAAGg/zc-B1e4fjjM/photo.jpg?sz=128", "display_name": "Abel Tilahun", "link": "https://stackoverflow.com/users/9949983/abel-tilahun"}, "is_accepted": false, "score": 15, "last_activity_date": 1610565886, "last_edit_date": 1610565886, "creation_date": 1563269360, "answer_id": 57054143, "question_id": 52293129, "link": "https://stackoverflow.com/questions/52293129/how-to-change-password-using-firebase-in-flutter/57054143#57054143", "title": "How to change password using Firebase in Flutter", "body": "<p>I know this is a late post, but now it's possible to change the password of the logged-in user. Make sure to notify the user to log in again since this is a sensitive operation.</p>\n<pre><code>void _changePassword(String password) async{\n   //Create an instance of the current user. \n    FirebaseUser user = await FirebaseAuth.instance.currentUser();\n   \n    //Pass in the password to updatePassword.\n    user.updatePassword(password).then((_){\n      print(&quot;Successfully changed password&quot;);\n    }).catchError((error){\n      print(&quot;Password can't be changed&quot; + error.toString());\n      //This might happen, when the wrong password is in, the user isn't found, or if the user hasn't logged in recently.\n    });\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 372, "user_id": 11585187, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cBFuRcCCxLg/AAAAAAAAAAI/AAAAAAAAAbc/RUf3Hq4X-WU/photo.jpg?sz=128", "display_name": "Peter Wauyo", "link": "https://stackoverflow.com/users/11585187/peter-wauyo"}, "is_accepted": false, "score": 2, "last_activity_date": 1619214975, "last_edit_date": 1619214975, "creation_date": 1608032943, "answer_id": 65305270, "question_id": 52293129, "link": "https://stackoverflow.com/questions/52293129/how-to-change-password-using-firebase-in-flutter/65305270#65305270", "title": "How to change password using Firebase in Flutter", "body": "<p>This should work according to the latest version of firebase:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>final FirebaseAuth firebaseAuth = FirebaseAuth.instance;  \nUser currentUser = firebaseAuth.currentUser; \ncurrentUser.updatePassword(&quot;newpassword&quot;).then((){\n  // Password has been updated.\n}).catchError((err){\n  // An error has occured.\n})\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 10097702, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TvugaNPDS4A/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qPWkVfZQX_UxlUPmZdeDRJs2Re2Q/mo/photo.jpg?sz=128", "display_name": "shuzuka", "link": "https://stackoverflow.com/users/10097702/shuzuka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9120, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1619214975, "creation_date": 1536748483, "last_edit_date": 1536762523, "question_id": 52293129, "link": "https://stackoverflow.com/questions/52293129/how-to-change-password-using-firebase-in-flutter", "title": "How to change password using Firebase in Flutter", "body": "<p>I want to change current user password using Firebase in Flutter.\nCan any one help me on how to implement change password method?</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 1934, "user_id": 7913153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74a113afcafb3099b52ed8f4199689bc?s=128&d=identicon&r=PG&f=1", "display_name": "Madhan Varadhodiyil", "link": "https://stackoverflow.com/users/7913153/madhan-varadhodiyil"}, "edited": false, "score": 0, "creation_date": 1536740114, "post_id": 52290431, "comment_id": 91528777, "body": "<a href=\"https://stackoverflow.com/questions/19723063/what-is-the-difference-between-show-and-as-in-an-import-statement\">This might help you understand</a>"}, {"owner": {"reputation": 831, "user_id": 7831858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9375cbb391fa293efd3e65ad2d30c17?s=128&d=identicon&r=PG&f=1", "display_name": "draysams", "link": "https://stackoverflow.com/users/7831858/draysams"}, "reply_to_user": {"reputation": 1934, "user_id": 7913153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74a113afcafb3099b52ed8f4199689bc?s=128&d=identicon&r=PG&f=1", "display_name": "Madhan Varadhodiyil", "link": "https://stackoverflow.com/users/7913153/madhan-varadhodiyil"}, "edited": false, "score": 1, "creation_date": 1536740249, "post_id": 52290431, "comment_id": 91528851, "body": "@MadhanVaradhodiyil yeah. That page has a lot of great nuggets related to this question"}, {"owner": {"reputation": 345, "user_id": 8348582, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/254349505057363/picture?type=large", "display_name": "Ben Ghaleb", "link": "https://stackoverflow.com/users/8348582/ben-ghaleb"}, "reply_to_user": {"reputation": 1934, "user_id": 7913153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74a113afcafb3099b52ed8f4199689bc?s=128&d=identicon&r=PG&f=1", "display_name": "Madhan Varadhodiyil", "link": "https://stackoverflow.com/users/7913153/madhan-varadhodiyil"}, "edited": false, "score": 0, "creation_date": 1536742265, "post_id": 52290431, "comment_id": 91530072, "body": "@MadhanVaradhodiyil thank you very much this was very helpflul"}], "answers": [{"tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 5, "last_activity_date": 1536740330, "creation_date": 1536740330, "answer_id": 52290600, "question_id": 52290431, "link": "https://stackoverflow.com/questions/52290431/what-is-the-difference-between-these-two-packages-importing-ways-in-dart-languag/52290600#52290600", "title": "What is the difference between these two packages importing ways in Dart language?", "body": "<p><code>as io</code> specifies a prefix.</p>\n\n<p>Without you can use members <code>dart:io</code> exports like</p>\n\n<pre><code>var f = File();\n</code></pre>\n\n<p>with prefix it would be</p>\n\n<pre><code>var f = io.File();\n</code></pre>\n\n<p>This is useful to disambiguate imports if names collide with declarations in your current library or another imported library.</p>\n\n<p>Packages like <code>path</code> assume that they are imported with a prefix, because it exports many top-level functions with common names that without a prefix would clutter the scope.</p>\n"}], "owner": {"reputation": 345, "user_id": 8348582, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/254349505057363/picture?type=large", "display_name": "Ben Ghaleb", "link": "https://stackoverflow.com/users/8348582/ben-ghaleb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 52290600, "answer_count": 1, "score": 0, "last_activity_date": 1536740330, "creation_date": 1536739767, "question_id": 52290431, "link": "https://stackoverflow.com/questions/52290431/what-is-the-difference-between-these-two-packages-importing-ways-in-dart-languag", "title": "What is the difference between these two packages importing ways in Dart language?", "body": "<p>There are two ways to import packages in Dart programming language, I need to know what is the difference between them both, please?\nAlso when to use the first way and when to use the second way?</p>\n\n<p>First way: </p>\n\n<pre><code>import 'dart:io';\n</code></pre>\n\n<p>Second way </p>\n\n<pre><code>import 'dart:io' as io;\n</code></pre>\n"}, {"tags": ["json", "dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 1373, "user_id": 10227686, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--F3qjkFKT4s/AAAAAAAAAAI/AAAAAAAABCo/3GeZ8XsT0Mc/photo.jpg?sz=128", "display_name": "Asyraf Dayan", "link": "https://stackoverflow.com/users/10227686/asyraf-dayan"}, "edited": false, "score": 0, "creation_date": 1536746082, "post_id": 52292166, "comment_id": 91532513, "body": "A simple answer and a correct one. Thanks a lot, Hadrien."}], "tags": [], "owner": {"reputation": 4118, "user_id": 5189745, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9KVgR-blq7M/AAAAAAAAAAI/AAAAAAAAB8s/fy6ZAPen-_c/photo.jpg?sz=128", "display_name": "Hadrien Lejard", "link": "https://stackoverflow.com/users/5189745/hadrien-lejard"}, "is_accepted": true, "score": 1, "last_activity_date": 1536745496, "creation_date": 1536745496, "answer_id": 52292166, "question_id": 52288865, "link": "https://stackoverflow.com/questions/52288865/flutter-json-duplicate-index/52292166#52292166", "title": "Flutter JSON duplicate index", "body": "<p>you are creating 2 list here, you are recreating a <code>Column</code> with the entire list inside the item build, the ListView.builder is already taking care of iterating on your list using the itemCount.</p>\n\n<pre><code>itemBuilder: (context, index) {\n          final f = fifthList[index];\n          return Card(\n                child: new ListTile(\n                  title: new Text(f.name),\n                  subtitle: new Text(f.relationship),\n                  trailing: new Text(index.toString()),\n                  onTap: (){\n                    makeDialog(index.toString());\n                  },\n                ),\n              );\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1787, "user_id": 760331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f186983b2e3c2422be9cb7269bf6638?s=128&d=identicon&r=PG", "display_name": "Lian", "link": "https://stackoverflow.com/users/760331/lian"}, "is_accepted": false, "score": 1, "last_activity_date": 1536745882, "creation_date": 1536745882, "answer_id": 52292289, "question_id": 52288865, "link": "https://stackoverflow.com/questions/52288865/flutter-json-duplicate-index/52292289#52292289", "title": "Flutter JSON duplicate index", "body": "<p>Looks like you have only 2 items in the JSON object but you are showing 4.</p>\n\n<p>I think you meant to only show 2? If so, in your itemBuilder function, you should do this:</p>\n\n<pre><code>return new ListView.builder(\n    shrinkWrap: true,\n    itemCount: fifthList.length,\n    itemBuilder: (context, index) {\n      var f = fifthList[index];\n      return new Card(\n        child: new ListTile(\n          title: new Text(f.name),\n          subtitle: new Text(f.relationship),\n          trailing: new Text(index.toString()),\n          onTap: () {\n            makeDialog(index.toString());\n          },\n        ),\n      );\n    });\n</code></pre>\n\n<p>You were using <code>.map()</code> which looped through the list again on each item. You had 2 items, so you ended up with 4. If you had 3, it would show 6 items, and so on.</p>\n"}], "owner": {"reputation": 1373, "user_id": 10227686, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--F3qjkFKT4s/AAAAAAAAAAI/AAAAAAAABCo/3GeZ8XsT0Mc/photo.jpg?sz=128", "display_name": "Asyraf Dayan", "link": "https://stackoverflow.com/users/10227686/asyraf-dayan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 785, "favorite_count": 0, "accepted_answer_id": 52292166, "answer_count": 2, "score": 0, "last_activity_date": 1536745882, "creation_date": 1536734211, "question_id": 52288865, "link": "https://stackoverflow.com/questions/52288865/flutter-json-duplicate-index", "title": "Flutter JSON duplicate index", "body": "<p>I have a list of users that I am reading from JSON.</p>\n\n<p>This is the JSON file:</p>\n\n<pre><code>{\n\"Dependents\": [\n    {\n      \"Name\": \"Kim\",\n      \"Relationship\": \"Parent\"\n    },\n    {\n      \"Name\": \"Tim\",\n      \"Relationship\": \"Spouse\"\n    }\n  ]\n}\n</code></pre>\n\n<p>This is the model class:</p>\n\n<p><strong>new_fifth_model.dart</strong></p>\n\n<pre><code>class NewFifthModel {\n\n  String name;\n  String relationship;\n\n  NewFifthModel(this.name, this.relationship);\n}\n</code></pre>\n\n<p>And this is the class to bring out the users in a list.</p>\n\n<p><strong>NewFifth.dart</strong></p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:emas_app/model/new_fifth_model.dart';\nimport 'dart:convert';\nimport 'dart:async' show Future;\nimport 'package:http/http.dart' as http;\n\nfinal String url = \"http://crm.emastpa.com.my/MemberInfo.json\";\nfinal int page = 5;\n\n//Future to get list of dependent names\nFuture&lt;List&lt;NewFifthModel&gt;&gt; fetchUserInfo() async{\n\n  var response = await http.get(url, headers: {\"Accept\": \"application/json\"});\n\n  List data = json.decode(response.body)[\"Dependents\"];\n  var fifthmodel = &lt;NewFifthModel&gt;[];\n  data.forEach((f) =&gt; fifthmodel.add(new NewFifthModel(f[\"Name\"], f[\"Relationship\"])));\n\n  print(fifthmodel);\n\n  return fifthmodel;\n}\n\nclass NewFifth extends StatefulWidget {\n  @override\n  _FifthState createState() =&gt; _FifthState();\n}\n\nclass _FifthState extends State&lt;NewFifth&gt; {\n\n  List&lt;NewFifthModel&gt; fifthList;\n\n  @override\n  void initState() {\n    super.initState();\n    if (fifthList == null) {\n      fetchUserInfo().then((data) {\n        this.setState(() {\n          fifthList = data;\n        });\n      });\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n\n    //body widget\n    Widget _createBody() {\n\n      if(fifthList == null){\n        return new Center(\n          child: new CircularProgressIndicator(),\n        );\n      }\n\n      else{\n        return new ListView.builder(\n            shrinkWrap: true,\n            itemCount: fifthList.length,\n            itemBuilder: (context, index){\n              return new Column(\n                children: fifthList.map((f){\n                   return new Card(\n                    child: new ListTile(\n                      title: new Text(f.name),\n                      subtitle: new Text(f.relationship),\n                      trailing: new Text(index.toString()),\n                      onTap: (){\n                        makeDialog(index.toString());\n                      },\n                    ),\n                  );\n                }).toList(),\n              );\n            });\n      }\n    }\n\n    return new Scaffold(\n      body: _createBody(),\n    );\n  }\n}\n</code></pre>\n\n<p>This is the output on the screen.</p>\n\n<p><a href=\"https://i.stack.imgur.com/gozGw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gozGw.png\" alt=\"Duplicate Index number\"></a></p>\n\n<p>The problem I am having (as you can see in the picture) is that the index number I put in the trailing part of the ListTile is duplicating and I really need the index number in order to proceed.</p>\n\n<p>How do I rectify this problem?</p>\n\n<p>Any help is very much appreciated.</p>\n"}, {"tags": ["dart", "async-await", "flutter"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536734467, "post_id": 52288864, "comment_id": 91525604, "body": "Looks like you expect <code>return await result;</code> to return from <code>join(...)</code> which is not what it does. It just returns from the callback you passed to <code>subscribe(...)</code>. I don&#39;t know what <code>socketIO</code> is exactly or what <code>socketIO.subscribe()</code> returns but subscribe sounds like the returned Future may only return when the connection is closed which probably is never and this is why <code>compute()</code> never completes."}, {"owner": {"reputation": 792, "user_id": 9363835, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ztCRobtQNGg/AAAAAAAAAAI/AAAAAAAAAPU/iJWHavVnXyM/photo.jpg?sz=128", "display_name": "Denis Ramdan", "link": "https://stackoverflow.com/users/9363835/denis-ramdan"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536739332, "post_id": 52288864, "comment_id": 91528333, "body": "Thank you for the answer @G&#252;nter Z&#246;chbauer , I have tried adding <code>await</code> <code>behind socketutil.join (id);</code> be like this await <code>socketutil.join (id);</code> but the code still pause and does not continue the next execution. What is the best way to handle this case?"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536739512, "post_id": 52288864, "comment_id": 91528436, "body": "As I said I don&#39;t know what <code>socketIO.subscribe()</code> returns, so it&#39;s hard to make suggestions. My assumption is that <code>socketIO.subscribe()</code> never completes so awaiting that won&#39;t help you."}], "answers": [{"comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536745320, "post_id": 52292019, "comment_id": 91532013, "body": "Is the callback passed to <code>subscribe</code> only called once? If it is called more than once then I assume there should be unsubscribe be called somewhere as well."}, {"owner": {"reputation": 4118, "user_id": 5189745, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9KVgR-blq7M/AAAAAAAAAAI/AAAAAAAAB8s/fy6ZAPen-_c/photo.jpg?sz=128", "display_name": "Hadrien Lejard", "link": "https://stackoverflow.com/users/5189745/hadrien-lejard"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536745603, "post_id": 52292019, "comment_id": 91532196, "body": "indeed, if you only want one result, you have to unsubscribe the event, I will update"}, {"owner": {"reputation": 792, "user_id": 9363835, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ztCRobtQNGg/AAAAAAAAAAI/AAAAAAAAAPU/iJWHavVnXyM/photo.jpg?sz=128", "display_name": "Denis Ramdan", "link": "https://stackoverflow.com/users/9363835/denis-ramdan"}, "edited": false, "score": 0, "creation_date": 1536750451, "post_id": 52292019, "comment_id": 91535064, "body": "@ G&#252;nter Z&#246;chbauer and @Hadrien Lejard the <code>subscribe</code> can be called several times."}, {"owner": {"reputation": 4118, "user_id": 5189745, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9KVgR-blq7M/AAAAAAAAAAI/AAAAAAAAB8s/fy6ZAPen-_c/photo.jpg?sz=128", "display_name": "Hadrien Lejard", "link": "https://stackoverflow.com/users/5189745/hadrien-lejard"}, "reply_to_user": {"reputation": 792, "user_id": 9363835, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ztCRobtQNGg/AAAAAAAAAAI/AAAAAAAAAPU/iJWHavVnXyM/photo.jpg?sz=128", "display_name": "Denis Ramdan", "link": "https://stackoverflow.com/users/9363835/denis-ramdan"}, "edited": false, "score": 0, "creation_date": 1536755270, "post_id": 52292019, "comment_id": 91537866, "body": "@DenisRamdan in your <code>fetchChat</code> function, do you want to update Shared preferences each time you have an <code>updateMessageList</code> or just one time then execute the rest of your function ?"}, {"owner": {"reputation": 4118, "user_id": 5189745, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9KVgR-blq7M/AAAAAAAAAAI/AAAAAAAAB8s/fy6ZAPen-_c/photo.jpg?sz=128", "display_name": "Hadrien Lejard", "link": "https://stackoverflow.com/users/5189745/hadrien-lejard"}, "edited": false, "score": 0, "creation_date": 1536756657, "post_id": 52292019, "comment_id": 91538857, "body": "I update my example and hope I gave you all blocs (Completer, Future, Stream) that could help you"}, {"owner": {"reputation": 792, "user_id": 9363835, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ztCRobtQNGg/AAAAAAAAAAI/AAAAAAAAAPU/iJWHavVnXyM/photo.jpg?sz=128", "display_name": "Denis Ramdan", "link": "https://stackoverflow.com/users/9363835/denis-ramdan"}, "edited": false, "score": 0, "creation_date": 1536831444, "post_id": 52292019, "comment_id": 91568648, "body": "many thanks for all of you who have commented and helped. <i>terimakasih banyak</i>"}], "tags": [], "owner": {"reputation": 4118, "user_id": 5189745, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9KVgR-blq7M/AAAAAAAAAAI/AAAAAAAAB8s/fy6ZAPen-_c/photo.jpg?sz=128", "display_name": "Hadrien Lejard", "link": "https://stackoverflow.com/users/5189745/hadrien-lejard"}, "is_accepted": true, "score": 1, "last_activity_date": 1536756560, "last_edit_date": 1536756560, "creation_date": 1536744997, "answer_id": 52292019, "question_id": 52288864, "link": "https://stackoverflow.com/questions/52288864/flutter-await-callback-not-give-any-response/52292019#52292019", "title": "Flutter Await Callback Not Give Any Response", "body": "<p>I suggest you to add <code>await_only_futures</code> to your analyzer config</p>\n\n<p>analysis_options.yaml</p>\n\n<pre><code>lint:\n  rules:\n   - await_only_futures\n</code></pre>\n\n<p>You also don't need to do <code>return await something</code> since your function already return a future, this is redondant.</p>\n\n<p>And from what I see of the socketio subscribe method, it does not return the result like you expect but use a callback and does not return it (<a href=\"https://pub.dartlang.org/documentation/flutter_socket_io/latest/flutter_socket_io/SocketIO/subscribe.html\" rel=\"nofollow noreferrer\">https://pub.dartlang.org/documentation/flutter_socket_io/latest/flutter_socket_io/SocketIO/subscribe.html</a>)</p>\n\n<p>to handle this you should use a <a href=\"https://api.dartlang.org/stable/2.0.0/dart-async/Completer-class.html\" rel=\"nofollow noreferrer\"><code>Completer</code></a></p>\n\n<pre><code>final completer = Completer&lt;String&gt;()\n\nsocketIO.subscribe(\"updateMessageList\", (result) async {\n    SharedPreferences prefs = await SharedPreferences.getInstance();\n    await prefs.setString('messagePrefs', result);\n    socketIO.unSubscribe(\"updateMessageList\");\n    completer.complete(result);\n  });\n\nreturn completer.future;\n</code></pre>\n\n<p>you probably want to handle error when there is using <code>completer.completeError(error)</code></p>\n\n<h2>Update</h2>\n\n<p>You can alos convert the subscription to a Dart Stream to handle more case.</p>\n\n<pre><code>StreamController&lt;String&gt; controller;\n\nStream&lt;String&gt; get onUpdateMessageList {\n   if (controller != null) return controller.stream;\n\n   constroller = StreamController&lt;String&gt;.broadcast(\n     onCancel: () =&gt; socketIO.unSubscribe(\"updateMessageList\"),\n   );\n\n   socketIO.subscribe(\"updateMessageList\", constroller.add);\n\n   return controller.stream;\n}\n\n\n\nFuture&lt;StreamSubscription&gt; join(String id_room) async {\n  ...\n  return onUpdateMessageList.listen((result) async {\n   SharedPreferences prefs = await SharedPreferences.getInstance();\n   await prefs.setString('messagePrefs', result);\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 792, "user_id": 9363835, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ztCRobtQNGg/AAAAAAAAAAI/AAAAAAAAAPU/iJWHavVnXyM/photo.jpg?sz=128", "display_name": "Denis Ramdan", "link": "https://stackoverflow.com/users/9363835/denis-ramdan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1425, "favorite_count": 1, "accepted_answer_id": 52292019, "answer_count": 1, "score": 0, "last_activity_date": 1536756560, "creation_date": 1536734196, "question_id": 52288864, "link": "https://stackoverflow.com/questions/52288864/flutter-await-callback-not-give-any-response", "title": "Flutter Await Callback Not Give Any Response", "body": "<p>I am still a beginner on dart flutter, now I am trying to retrieve data from the REST API and socket.IO. at this time I have a confusing problem, I have tried searching on the internet for 3 days, but there is no solution. I have async and await scripts, but the function I added await doesn't give any response and still pause.</p>\n\n<p>it is assumed that I have two different files, the first is the main file and the second is the helper file.</p>\n\n<p><strong>main.dart</strong></p>\n\n<pre><code>Future&lt;List&lt;ChatTile&gt;&gt; fetchChat(socketutil,id) async {\n\n  socketutil.join(id); //STACK IN HERE\n  SharedPreferences prefs = await SharedPreferences.getInstance();\n  String messagePrefs = prefs.getString('messagePrefs');\n  print(\"DUA\");\n  return await compute(parseListChat, messagePrefs);\n}\n</code></pre>\n\n<p><strong>helper.dart</strong></p>\n\n<pre><code>Future&lt;void&gt; join(String id_room) async {\n      String jsonData ='{\"room_id\" : \"$id_room\",\"user_id\" : \"5a91687811138e74009839c9\",\"user_name\" : \"Denis Muhammad Ramdan\",\"user_photo\" : \"photo.jpg\",\"user_status\" : \"1\"}';\n      socketIO.sendMessage(\"join\", jsonData, null);\n      //subscribe event\n      return await socketIO.subscribe(\"updateMessageList\", (result) async {\n        SharedPreferences prefs = await SharedPreferences.getInstance();\n        await prefs.setString('messagePrefs', result);\n        print('SATU');\n        return await result;\n      });\n  }\n</code></pre>\n\n<p><strong>my  question is there something wrong with my code, and how is the best way?</strong></p>\n\n<p>many thanks,</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 877, "user_id": 4091289, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/CGjau.png?s=128&g=1", "display_name": "salih kallai", "link": "https://stackoverflow.com/users/4091289/salih-kallai"}, "edited": false, "score": 1, "creation_date": 1571289400, "post_id": 52288579, "comment_id": 103192324, "body": "how to do if list is not a valid JSON"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 877, "user_id": 4091289, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/CGjau.png?s=128&g=1", "display_name": "salih kallai", "link": "https://stackoverflow.com/users/4091289/salih-kallai"}, "edited": false, "score": 2, "creation_date": 1571289478, "post_id": 52288579, "comment_id": 103192350, "body": "Then you need to parse the string with custom code."}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 25, "last_activity_date": 1601953838, "last_edit_date": 1601953838, "creation_date": 1536732913, "answer_id": 52288579, "question_id": 52288553, "link": "https://stackoverflow.com/questions/52288553/flutter-how-to-convert-string-to-liststring/52288579#52288579", "title": "Flutter how to convert String to List&lt;String&gt;", "body": "<p>Your string looks like a valid JSON, so this should work for you:</p>\n<pre><code>import 'dart:convert';\n...\n\nvar a = '[&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;]';\nvar ab = json.decode(a);\nprint(ab[0]); // returns &quot;one&quot;\n</code></pre>\n"}], "owner": {"reputation": 6468, "user_id": 8698490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c79b4028f89d002cfe77656d6e59403c?s=128&d=identicon&r=PG&f=1", "display_name": "Daibaku", "link": "https://stackoverflow.com/users/8698490/daibaku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18508, "favorite_count": 3, "accepted_answer_id": 52288579, "answer_count": 1, "score": 11, "last_activity_date": 1601953838, "creation_date": 1536732772, "question_id": 52288553, "link": "https://stackoverflow.com/questions/52288553/flutter-how-to-convert-string-to-liststring", "title": "Flutter how to convert String to List&lt;String&gt;", "body": "<p>I have this <code>String</code>.</p>\n\n<pre><code>  var String a = '[\"one\", \"two\", \"three\", \"four\"]';\n  var ab = (a.split(','));\n  print(ab[0]); // return [\"one\"\n</code></pre>\n\n<p>I want to convert this to <code>List&lt;String&gt;</code>.\nThe problem is it returns square bracket too. I want to List looks this <code>[\"one\", \"two\", \"three\", \"four\"]</code> not <code>[[\"one\", \"two\", \"three\", \"four\"]]</code>.\nHow can I convert this properly?</p>\n"}, {"tags": ["firebase", "dart", "firebase-authentication", "flutter"], "comments": [{"owner": {"reputation": 2000, "user_id": 7448506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zAGx9.jpg?s=128&g=1", "display_name": "Kirollos Morkos", "link": "https://stackoverflow.com/users/7448506/kirollos-morkos"}, "edited": false, "score": 1, "creation_date": 1536729901, "post_id": 52286400, "comment_id": 91523630, "body": "Did you add your Firebase url scheme to CFBundleURLTypes to your Info.plist?"}, {"owner": {"reputation": 887, "user_id": 9574848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QpNKQ.jpg?s=128&g=1", "display_name": "Djiveradjane Canessane", "link": "https://stackoverflow.com/users/9574848/djiveradjane-canessane"}, "reply_to_user": {"reputation": 2000, "user_id": 7448506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zAGx9.jpg?s=128&g=1", "display_name": "Kirollos Morkos", "link": "https://stackoverflow.com/users/7448506/kirollos-morkos"}, "edited": false, "score": 0, "creation_date": 1536781731, "post_id": 52286400, "comment_id": 91552753, "body": "can you give more details about Firebase url scheme and how to find it? Or do you have any example? Thanks for your answer."}, {"owner": {"reputation": 2000, "user_id": 7448506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zAGx9.jpg?s=128&g=1", "display_name": "Kirollos Morkos", "link": "https://stackoverflow.com/users/7448506/kirollos-morkos"}, "edited": false, "score": 0, "creation_date": 1536785791, "post_id": 52286400, "comment_id": 91554383, "body": "I just added a more complete answer. Hope it helps!"}], "answers": [{"comments": [{"owner": {"reputation": 887, "user_id": 9574848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QpNKQ.jpg?s=128&g=1", "display_name": "Djiveradjane Canessane", "link": "https://stackoverflow.com/users/9574848/djiveradjane-canessane"}, "edited": false, "score": 0, "creation_date": 1536786315, "post_id": 52303358, "comment_id": 91554540, "body": "is there any specific step to do for an Android device? Thank you very much it works for iOS."}, {"owner": {"reputation": 2000, "user_id": 7448506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zAGx9.jpg?s=128&g=1", "display_name": "Kirollos Morkos", "link": "https://stackoverflow.com/users/7448506/kirollos-morkos"}, "reply_to_user": {"reputation": 887, "user_id": 9574848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QpNKQ.jpg?s=128&g=1", "display_name": "Djiveradjane Canessane", "link": "https://stackoverflow.com/users/9574848/djiveradjane-canessane"}, "edited": false, "score": 2, "creation_date": 1536787315, "post_id": 52303358, "comment_id": 91554927, "body": "For Android, just make sure you add your certificate&#39;s sha1 and sha256 signature in the Firebase console. Follow the steps <a href=\"https://developers.google.com/android/guides/client-auth\" rel=\"nofollow noreferrer\">here</a> and add the output in your Firebase console"}, {"owner": {"reputation": 417, "user_id": 9241646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d470b06691ba2080d500babed8562e03?s=128&d=identicon&r=PG&f=1", "display_name": "Jo&#227;o Pedro Ache Virgili", "link": "https://stackoverflow.com/users/9241646/jo%c3%a3o-pedro-ache-virgili"}, "edited": false, "score": 2, "creation_date": 1573665671, "post_id": 52303358, "comment_id": 103958747, "body": "Hey, it worked for me but it is opening a screen showing &quot;Verifying you&#39;re not a robot&quot;"}], "tags": [], "owner": {"reputation": 2000, "user_id": 7448506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zAGx9.jpg?s=128&g=1", "display_name": "Kirollos Morkos", "link": "https://stackoverflow.com/users/7448506/kirollos-morkos"}, "is_accepted": true, "score": 36, "last_activity_date": 1536785766, "creation_date": 1536785766, "answer_id": 52303358, "question_id": 52286400, "link": "https://stackoverflow.com/questions/52286400/firebase-phone-auth-flutter-crash/52303358#52303358", "title": "Firebase phone auth flutter crash", "body": "<p>You need to add the Firebase url scheme to your Info.plist. Go to <code>&lt;app_directory&gt;/ios/Runner/Info.plist</code> and add the following:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\"&gt;\n&lt;plist version=\"1.0\"&gt;\n&lt;dict&gt;\n    ...\n\n    &lt;key&gt;CFBundleURLTypes&lt;/key&gt;\n    &lt;array&gt;\n        &lt;dict&gt;\n            &lt;key&gt;CFBundleTypeRole&lt;/key&gt;\n            &lt;string&gt;Editor&lt;/string&gt;\n            &lt;key&gt;CFBundleURLSchemes&lt;/key&gt;\n            &lt;array&gt;\n                &lt;!-- Insert your reversed client ID here --&gt;\n                &lt;string&gt; REVERSED_CLIENT_ID &lt;/string&gt;\n            &lt;/array&gt;\n        &lt;/dict&gt;\n    &lt;/array&gt;\n\n    ...\n&lt;/dict&gt;\n&lt;/plist&gt;\n</code></pre>\n\n<p>You can get the <code>REVERSED_CLIENT_ID</code> from your <code>GoogleService-Info.plist</code> file. </p>\n\n<p>You can find more information <a href=\"https://developers.google.com/identity/sign-in/ios/start-integrating#add_a_url_scheme_to_your_project\" rel=\"noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 887, "user_id": 9574848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QpNKQ.jpg?s=128&g=1", "display_name": "Djiveradjane Canessane", "link": "https://stackoverflow.com/users/9574848/djiveradjane-canessane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3502, "favorite_count": 3, "accepted_answer_id": 52303358, "answer_count": 1, "score": 13, "last_activity_date": 1536785766, "creation_date": 1536717336, "last_edit_date": 1536724138, "question_id": 52286400, "link": "https://stackoverflow.com/questions/52286400/firebase-phone-auth-flutter-crash", "title": "Firebase phone auth flutter crash", "body": "<p>When I run this code on the simulator or on a real device (iPhone SE), the app is just stopping when I press the \"confirm\" button.\nWhen I try to put some breakpoint in debug mode, it does not stop the app at the breakpoint.\nFinally, I do not get any exception during the running or even when it freezes.</p>\n\n<p>So I am asking for your help, thanks in advance.</p>\n\n<pre><code>import 'dart:async';\n\nimport 'package:flutter/material.dart';\n\nimport 'package:firebase_auth/firebase_auth.dart';\n\nimport 'package:chart_test/testDeg.dart';\nimport 'main.dart';\n\n\nclass Login extends StatefulWidget {\n  @override\n  _LoginState createState() =&gt; new _LoginState();\n}\n\nclass _LoginState extends State&lt;Login&gt; {\n  String phoneNo;\n  String smsCode;\n  String verificationId;\n\n  Future&lt;void&gt; verifyPhone() async {\n    final PhoneCodeAutoRetrievalTimeout autoRetrieve = (String verId) {\n      this.verificationId = verId;\n    };\n\n    final PhoneCodeSent smsCodeSent = (String verId, [int forceCodeResend]) {\n      this.verificationId = verId;\n      smsCodeDialog(context).then((value) {\n        print('Signed in');\n      });\n    };\n\n    final PhoneVerificationCompleted verifiedSuccess = (FirebaseUser user) {\n      print('verified');\n    };\n\n    final PhoneVerificationFailed veriFailed = (AuthException exception) {\n      print('${exception.message}');\n    };\n\n    await FirebaseAuth.instance.verifyPhoneNumber(\n        phoneNumber: this.phoneNo,\n        codeAutoRetrievalTimeout: autoRetrieve,\n        codeSent: smsCodeSent,\n        timeout: const Duration(seconds: 5),\n        verificationCompleted: verifiedSuccess,\n        verificationFailed: veriFailed);\n  }\n\n  Future&lt;bool&gt; smsCodeDialog(BuildContext context) {\n    return showDialog(\n        context: context,\n        barrierDismissible: false,\n        builder: (BuildContext context) {\n          return new AlertDialog(\n            title: Text('Enter sms Code'),\n            content: TextField(\n              keyboardType: TextInputType.number,\n              onChanged: (value) {\n                this.smsCode = value;\n              },\n            ),\n            contentPadding: EdgeInsets.all(10.0),\n            actions: &lt;Widget&gt;[\n              new FlatButton(\n                child: Text('Done'),\n                onPressed: () {\n                  FirebaseAuth.instance.currentUser().then((user) {\n                    if (user != null) {\n                      Navigator.of(context).pop();\n                      Navigator.push(\n                        context,\n                        MaterialPageRoute(builder: (context) =&gt; TestDeg(user.phoneNumber,key:MyApp.link)),\n                      );\n                    } else {\n                      Navigator.of(context).pop();\n                      //signIn();\n                    }\n                  });\n                },\n              )\n            ],\n          );\n        });\n  }\n\n  signIn() {\n    FirebaseAuth.instance\n        .signInWithPhoneNumber(verificationId: verificationId, smsCode: smsCode)\n        .then((user) {\n      Navigator.of(context).pushReplacementNamed('/homepage');\n    }).catchError((e) {\n      print(e);\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      appBar: new AppBar(\n        title: new Text('Connexion'),\n      ),\n      body: new Center(\n        child: Container(\n            padding: EdgeInsets.all(25.0),\n            child: Column(\n              mainAxisAlignment: MainAxisAlignment.center,\n              children: &lt;Widget&gt;[\n                TextField(\n                  decoration: InputDecoration(hintText: 'number'),\n                  onChanged: (value) {\n                    this.phoneNo = value;\n                  },\n                ),\n                SizedBox(height: 10.0),\n                RaisedButton(\n                    onPressed: verifyPhone,\n                    child: Text('Confirm'),\n                    textColor: Colors.white,\n                    elevation: 7.0,\n                    color: Colors.blue)\n              ],\n            )),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>First throw call stack:</p>\n\n<pre><code>(\n0   CoreFoundation                      0x00000001075521e6 __exceptionPreprocess + 294\n1   libobjc.A.dylib                     0x00000001066ab031 objc_exception_throw + 48\n2   CoreFoundation                      0x00000001075c7975 +[NSException raise:format:] + 197\n3   Runner                              0x000000010246a5db -[FIRPhoneAuthProvider verifyPhoneNumber:UIDelegate:completion:] + 187\n4   Runner                              0x00000001027e11af -[FLTFirebaseAuthPlugin handleMethodCall:result:] + 13919\n5   Flutter                             0x00000001041defe3 __45-[FlutterMethodChannel setMethodCallHandler:]_block_invoke + 118\n6   Flutter                             0x00000001041f90d0 _ZNK5shell21PlatformMessageRouter21HandlePlatfor&lt;\u2026&gt;\nLost connection to device.\nExited (sigterm)\n</code></pre>\n"}, {"tags": ["dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 5738, "user_id": 2118226, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/SgUMa.jpg?s=128&g=1", "display_name": "matanlurey", "link": "https://stackoverflow.com/users/2118226/matanlurey"}, "is_accepted": false, "score": 8, "last_activity_date": 1536715030, "creation_date": 1536715030, "answer_id": 52286140, "question_id": 52286139, "link": "https://stackoverflow.com/questions/52286139/is-it-possible-to-require-generic-type-arguments-on-a-dart-class/52286140#52286140", "title": "Is it possible to require generic type arguments on a Dart class?", "body": "<p>Strictly speaking, yes, <em>and</em> no.</p>\n\n<p>If you want to enforce that type arguments are <em>always</em> used in your own projects (instead of relying on type inference or defaults), you can use <em>optional</em> <a href=\"https://dart-lang.github.io/linter/lints/always_specify_types.html\" rel=\"noreferrer\">linter rules such as <code>always_specify_types</code></a>. Do note this rule violates the official Dart style guide's recommendation of <a href=\"https://www.dartlang.org/guides/language/effective-dart/design#avoid-redundant-type-arguments-on-generic-invocations\" rel=\"noreferrer\"><code>AVOID redundant type arguments on generic invocations</code></a> in many cases.</p>\n\n<p>If you want to enforce that <em>generic</em> type arguments are <em>always</em> used <em>when</em> the default would be confusing - such as <code>List</code> implicitly meaning <code>List&lt;dynamic&gt;</code>, no such lint exists <em>yet</em> - though we plan on adding this as a <em>mode</em> of the analyzer: <a href=\"https://github.com/dart-lang/sdk/issues/33119\" rel=\"noreferrer\">https://github.com/dart-lang/sdk/issues/33119</a>.</p>\n\n<hr>\n\n<p>Both of the above recommendations will help <em>yourself</em>, but if you are creating a library for <em>others</em> to use, you might be asking if you can <em>require</em> a type argument to use your class. For example, from above:</p>\n\n<pre><code>abstract class Mixin&lt;T&gt; {}\nabstract class Class extends Object with Mixin {}\n</code></pre>\n\n<p>The first thing you could do is add a default bounds to <code>T</code>:</p>\n\n<pre><code>// If T is omitted/not inferred, it defaults to num, not dynamic.\nabstract class Mixin&lt;T extends num&gt; {}\n</code></pre>\n\n<p>If you want to allow <em>anything</em> but want to make it difficult to use your class/mixin when <code>T</code> is dynamic you could choose a different default bound, for example <code>Object</code>, or even better <a href=\"https://medium.com/dartlang/dart-2-legacy-of-the-void-e7afb5f44df0\" rel=\"noreferrer\">I recommend <code>void</code></a>:</p>\n\n<blockquote>\n  <p>In practice, I use <code>void</code> to mean \u201canything and I don\u2019t care about the elements\u201d </p>\n</blockquote>\n\n<pre><code>abstract class Mixin&lt;T extends void&gt; {\n  T value;\n}\n\nclass Class extends Mixin {}\n\nvoid main() {\n  var c = Class();\n  // Compile-time error: 'oops' isn't defined for the class 'void'.\n  c.value.oops();\n}\n</code></pre>\n\n<p>(You could also use <code>Object</code> for this purpose)</p>\n\n<p>If this is a class under your control, you could add an <em>assertion</em> that prevents the class from being used in a way you don't support or expect. For example:</p>\n\n<pre><code>class AlwaysSpecifyType&lt;T&gt; {\n  AlwaysSpecifyType() {\n    assert(T != dynamic);\n  }\n}\n</code></pre>\n\n<p>Finally, you could write a custom lint or tool to disallow certain generic type arguments from being omitted, but that is likely the most amount of work, and if any of the previous approaches work for you, I'd strongly recommend those!</p>\n"}], "owner": {"reputation": 5738, "user_id": 2118226, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/SgUMa.jpg?s=128&g=1", "display_name": "matanlurey", "link": "https://stackoverflow.com/users/2118226/matanlurey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4462, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1536715030, "creation_date": 1536715030, "question_id": 52286139, "link": "https://stackoverflow.com/questions/52286139/is-it-possible-to-require-generic-type-arguments-on-a-dart-class", "title": "Is it possible to require generic type arguments on a Dart class?", "body": "<p>A common question, specifically since Dart 2, is if it is possible to <em>require</em> some or all generic type arguments on some or all types - for example <code>List&lt;int&gt;</code> instead of <code>List</code> or <code>MyType&lt;Foo&gt;</code> instead of <code>MyType</code>. </p>\n\n<p>It's not always clear what the <em>intention</em> is though - i.e. is this a matter of style (you/your team likes to see the types), to prevent bugs (omitting type arguments seems to cause more bugs for you/your team), or as a matter of contract (your library <em>expects</em> a type argument).</p>\n\n<p>For example, on <a href=\"https://groups.google.com/a/dartlang.org/forum/?utm_medium=email&amp;utm_source=footer#!msg/misc/jDI3QAR6G_M/6X-wbIMsBgAJ\" rel=\"nofollow noreferrer\"><code>dart-misc</code></a>, a user writes:</p>\n\n<p>Basically, if I have this:</p>\n\n<blockquote>\n<pre><code>abstract class Mixin&lt;T&gt; {}\n</code></pre>\n  \n  <p>I don't <em>have</em> to specify the type:</p>\n\n<pre><code>// Works class Cls extends Object with Mixin&lt;int&gt; {} // ...also works\nclass Cls extends Object with Mixin {}\n</code></pre>\n  \n  <p>Is there some way to make the second one not allowed?</p>\n</blockquote>\n"}, {"tags": ["dart"], "answers": [{"comments": [{"owner": {"reputation": 1533, "user_id": 533104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/32cf7928dc8995de4e1300918f0f16eb?s=128&d=identicon&r=PG", "display_name": "dakamojo", "link": "https://stackoverflow.com/users/533104/dakamojo"}, "edited": false, "score": 0, "creation_date": 1536715574, "post_id": 52286178, "comment_id": 91520565, "body": "That part is what I expected and hope to happen.  The fetches are independent and  essentially happening in parallel.  However the &quot;end test&quot; is happening before each of the individual tests end.  I want to make sure that my &quot;await getAll()&quot; actually waits until completion."}], "tags": [], "owner": {"reputation": 30488, "user_id": 22483, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b337d1e52bf3d796a7728def67a602fd?s=128&d=identicon&r=PG", "display_name": "Randal Schwartz", "link": "https://stackoverflow.com/users/22483/randal-schwartz"}, "is_accepted": false, "score": 0, "last_activity_date": 1536715372, "creation_date": 1536715372, "answer_id": 52286178, "question_id": 52285872, "link": "https://stackoverflow.com/questions/52285872/basic-async-await-pattern/52286178#52286178", "title": "Basic Async/Await pattern?", "body": "<p>Your <code>await</code> call inside <code>getAll()</code> allows the event loop to process a different path. So yes, it makes sense that all the early things (begin...) show up first, and the later things (end...) show up in an apparently random order.  This is the inherent nature of async programming.</p>\n"}, {"comments": [{"owner": {"reputation": 1533, "user_id": 533104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/32cf7928dc8995de4e1300918f0f16eb?s=128&d=identicon&r=PG", "display_name": "dakamojo", "link": "https://stackoverflow.com/users/533104/dakamojo"}, "edited": false, "score": 0, "creation_date": 1536851649, "post_id": 52287512, "comment_id": 91580931, "body": "Thanks.  Help me understand why.  In your explanation step 3 &quot;Yielding to the micro-task loop&quot;, where am I doing this?  Or is it that a List&lt;&gt;.forEach by its nature yields?  I have implemented your suggestion of using a regular for loop and it does indeed do what I was expecting.  I am accepting this answer."}], "tags": [], "owner": {"reputation": 5738, "user_id": 2118226, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/SgUMa.jpg?s=128&g=1", "display_name": "matanlurey", "link": "https://stackoverflow.com/users/2118226/matanlurey"}, "is_accepted": true, "score": 0, "last_activity_date": 1536726533, "creation_date": 1536726533, "answer_id": 52287512, "question_id": 52285872, "link": "https://stackoverflow.com/questions/52285872/basic-async-await-pattern/52287512#52287512", "title": "Basic Async/Await pattern?", "body": "<blockquote>\n  <p>I would expect to see \"begin test\" followed by each of the downloads\n  starting in order. Then each of the downloads would finish in random\n  order and then I would see \"end test\". However I am seeing \"end test\"\n  before any of the downloads even begin.</p>\n</blockquote>\n\n<p>That's because you are (accidentally) requesting the asynchronous calls to happen <em>after</em> <code>'end test'</code>:</p>\n\n<pre><code>Future&lt;void&gt; getAll() async {\n  _resourceList.forEach((resource) async {\n    print('begin ${resource['name']}');\n\n    final response = await http.get(resource['url']);\n\n    print('end ${resource['name']}');\n  });\n}\n</code></pre>\n\n<p>Specifically, your function is:</p>\n\n<ol>\n<li>Entering the <code>getAll() function</code></li>\n<li>Invoking <code>_resourceList.forEach(...)</code></li>\n<li>Yielding to the micro-task loop</li>\n<li>Exciting the <code>getAll()</code> function</li>\n<li>In the next microtask, executing the body of the <code>async { ... }</code> callback</li>\n</ol>\n\n<p>You have a few options. You could use likely <a href=\"https://api.dartlang.org/stable/2.0.0/dart-async/Future/wait.html\" rel=\"nofollow noreferrer\"><code>Future.wait</code></a> or <a href=\"https://api.dartlang.org/stable/2.0.0/dart-async/Future/forEach.html\" rel=\"nofollow noreferrer\"><code>Future.forEach</code></a> if you want to use a callback, but otherwise <code>for ...</code> will do what you wanted before exiting <code>getAll()</code> - the built-in <a href=\"https://www.dartlang.org/articles/language/await-async\" rel=\"nofollow noreferrer\"><code>for ...</code> loop will be transformed to completing the <code>Future</code> when you expect</a>.</p>\n\n<pre><code>Future&lt;void&gt; getAll() async {\n  for (var resource in _resourceList) {\n    print('begin ${resource['name']}');\n\n    final response = await http.get(resource['url']);\n\n    print('end ${resource['name']}');\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1536726725, "creation_date": 1536726725, "answer_id": 52287537, "question_id": 52285872, "link": "https://stackoverflow.com/questions/52285872/basic-async-await-pattern/52287537#52287537", "title": "Basic Async/Await pattern?", "body": "<p><code>forEach(callback)</code> ignores the return value from <code>callback</code>.</p>\n\n<p>If you use a <code>for</code> loop, <code>await</code> works as expected:</p>\n\n<pre><code>  Future&lt;void&gt; getAll() async {\n    for(var resource in _resourceList) {\n      print('begin ${resource['name']}');\n\n      final response = await http.get(resource['url']);\n\n      print('end ${resource['name']}');\n    }\n  }\n</code></pre>\n\n<p>alternatively to have the loop body execute concurrently, you can use</p>\n\n<pre><code>  Future&lt;void&gt; getAll() async {\n    return Future.wait(_resourceList.map((resource) async {\n      print('begin ${resource['name']}');\n\n      final response = await http.get(resource['url']);\n\n      print('end ${resource['name']}');\n    }));\n  }\n</code></pre>\n\n<p>With <code>map</code> the <code>Future</code>s returned from the callbacks are collected and when they are all completed (success or error), the returned <code>Future</code> will complete.</p>\n"}], "owner": {"reputation": 1533, "user_id": 533104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/32cf7928dc8995de4e1300918f0f16eb?s=128&d=identicon&r=PG", "display_name": "dakamojo", "link": "https://stackoverflow.com/users/533104/dakamojo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 52287512, "answer_count": 3, "score": 0, "last_activity_date": 1536726725, "creation_date": 1536712454, "last_edit_date": 1536726499, "question_id": 52285872, "link": "https://stackoverflow.com/questions/52285872/basic-async-await-pattern", "title": "Basic Async/Await pattern?", "body": "<p>I'm trying to figure out a async/await problem in Dart.  I am calling a short sequence of http fetches and wanting to await them all.  I created this sample code to demonstrate the problem.</p>\n\n<p>I would expect to see \"begin test\" followed by each of the downloads starting in order.  Then each of the downloads would finish in random order and then I would see \"end test\".  However I am seeing \"end test\" before any of the downloads even begin.</p>\n\n<p>Please help me understand what I am doing wrong.</p>\n\n<pre><code>import 'dart:async';\nimport 'package:http/http.dart' as http;\n\nclass AsyncTest {\n  final _resourceList = [\n    {\n      'name': 'Test 1',\n      'url': 'https://jsonplaceholder.typicode.com/posts'\n    },\n    {\n      'name': 'Test 2',\n      'url': 'https://jsonplaceholder.typicode.com/comments'\n    },\n    {\n      'name': 'Test 3',\n      'url': 'https://jsonplaceholder.typicode.com/albums'\n    },\n    {\n      'name': 'Test 4',\n      'url': 'https://jsonplaceholder.typicode.com/photos'\n    },\n    {\n      'name': 'Test 5',\n      'url': 'https://jsonplaceholder.typicode.com/users'\n    },\n  ];\n\n  void beginTest() async {\n    print('begin test');\n    await getAll();\n    print('end test');\n  }\n\n  Future&lt;void&gt; getAll() async {\n    _resourceList.forEach((resource) async {\n      print('begin ${resource['name']}');\n\n      final response = await http.get(resource['url']);\n\n      print('end ${resource['name']}');\n    });\n  }\n}\n</code></pre>\n\n<p>Here is the output.</p>\n\n<pre><code>flutter: begin test\nflutter: end test\nflutter: begin Test 1\nflutter: begin Test 2\nflutter: begin Test 3\nflutter: begin Test 4\nflutter: begin Test 5\nflutter: end Test 1\nflutter: end Test 5\nflutter: end Test 3\nflutter: end Test 2\nflutter: end Test 4\n</code></pre>\n"}, {"tags": ["dart"], "answers": [{"comments": [{"owner": {"reputation": 5738, "user_id": 2118226, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/SgUMa.jpg?s=128&g=1", "display_name": "matanlurey", "link": "https://stackoverflow.com/users/2118226/matanlurey"}, "edited": false, "score": 1, "creation_date": 1536726573, "post_id": 52286158, "comment_id": 91522768, "body": "Try to answer with constructive answers, if possible with context (&quot;why&quot;) or references to the language. Thanks!"}, {"owner": {"reputation": 30488, "user_id": 22483, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b337d1e52bf3d796a7728def67a602fd?s=128&d=identicon&r=PG", "display_name": "Randal Schwartz", "link": "https://stackoverflow.com/users/22483/randal-schwartz"}, "reply_to_user": {"reputation": 5738, "user_id": 2118226, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/SgUMa.jpg?s=128&g=1", "display_name": "matanlurey", "link": "https://stackoverflow.com/users/2118226/matanlurey"}, "edited": false, "score": 0, "creation_date": 1536802404, "post_id": 52286158, "comment_id": 91558280, "body": "Well, without a context of &quot;why would you expect that to work&quot;, it&#39;s hard to answer why it doesn&#39;t work, except, yes, that&#39;s how it&#39;s designed."}], "tags": [], "owner": {"reputation": 30488, "user_id": 22483, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b337d1e52bf3d796a7728def67a602fd?s=128&d=identicon&r=PG", "display_name": "Randal Schwartz", "link": "https://stackoverflow.com/users/22483/randal-schwartz"}, "is_accepted": false, "score": -2, "last_activity_date": 1536715193, "creation_date": 1536715193, "answer_id": 52286158, "question_id": 52285494, "link": "https://stackoverflow.com/questions/52285494/returning-class-from-function/52286158#52286158", "title": "Returning Class from function", "body": "<p>It doesn't work because it isn't designed to work that way.</p>\n"}, {"tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 3, "last_activity_date": 1536755054, "last_edit_date": 1536755054, "creation_date": 1536726433, "answer_id": 52287502, "question_id": 52285494, "link": "https://stackoverflow.com/questions/52285494/returning-class-from-function/52287502#52287502", "title": "Returning Class from function", "body": "<p>Dart currently doesn't support constructor tear-offs, but it's planned to be added to the language eventually.</p>\n\n<p><code>test()</code> returns a <code>Type&lt;Foo&gt;</code>, but that doesn't allow you to invoke the constructor.</p>\n\n<p>What you can do to simulate tear-offs is creating a closure</p>\n\n<pre><code>var test = (String foo) =&gt; Foo(foo);\ntest(\"blah\").sayFoo(); // should work now\n</code></pre>\n"}], "owner": {"reputation": 543, "user_id": 6754526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/60bc5a2322d33e27c6c7cf874a93d234?s=128&d=identicon&r=PG&f=1", "display_name": "M. Walker", "link": "https://stackoverflow.com/users/6754526/m-walker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 52287502, "answer_count": 2, "score": 1, "last_activity_date": 1536755054, "creation_date": 1536709014, "question_id": 52285494, "link": "https://stackoverflow.com/questions/52285494/returning-class-from-function", "title": "Returning Class from function", "body": "<p>Can someone explain why this does not work?</p>\n\n<pre><code>class Foo {\n  Foo(this.foo);\n  sayFoo() {\n    print(foo);\n  }\n}\n\nvar test = () =&gt; Foo;\ntest()(\"blah\").sayFoo(); // ERROR\n</code></pre>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1536698010, "post_id": 52283743, "comment_id": 91515781, "body": "Your <code>loadContent</code> function is useless. You have direct access to the file value inside <code>snapshot.data</code> :)"}, {"owner": {"reputation": 1, "user_id": 10349548, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155436417137237/picture?type=large", "display_name": "flutterbeginner", "link": "https://stackoverflow.com/users/10349548/flutterbeginner"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1536698306, "post_id": 52283743, "comment_id": 91515895, "body": "I actually just changed that now, and moved that loadContent activity to the FutureBuilder section like you suggested (removing the need for setState of course, and using if snapshot.hasData instead of checking the connectionstate), but still it doesn&#39;t change anything... so strange"}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1536698898, "post_id": 52283743, "comment_id": 91516159, "body": "Can you update your code?"}, {"owner": {"reputation": 1, "user_id": 10349548, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155436417137237/picture?type=large", "display_name": "flutterbeginner", "link": "https://stackoverflow.com/users/10349548/flutterbeginner"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1536699277, "post_id": 52283743, "comment_id": 91516328, "body": "sure, should be updated now"}, {"owner": {"reputation": 2000, "user_id": 7448506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zAGx9.jpg?s=128&g=1", "display_name": "Kirollos Morkos", "link": "https://stackoverflow.com/users/7448506/kirollos-morkos"}, "edited": false, "score": 0, "creation_date": 1536731202, "post_id": 52283743, "comment_id": 91524049, "body": "Why don&#39;t you forego the FutureBuilder and just do another call to setState when the file is loaded?"}, {"owner": {"reputation": 1, "user_id": 10349548, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155436417137237/picture?type=large", "display_name": "flutterbeginner", "link": "https://stackoverflow.com/users/10349548/flutterbeginner"}, "edited": false, "score": 0, "creation_date": 1536732234, "post_id": 52283743, "comment_id": 91524482, "body": "The problem is updating the display to show &#39;Loading&#39; before the long operation starts. It only gets updated to Loading for a split second and then changes to the actual content of the file, meaning, even though I put setState after I update the content variable to be &#39;Loading&#39; and even though the rest of that function is executing Futures, the build function doesn&#39;t get called again until the long operation has ended."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10349548, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155436417137237/picture?type=large", "display_name": "flutterbeginner", "link": "https://stackoverflow.com/users/10349548/flutterbeginner"}, "edited": false, "score": 0, "creation_date": 1536791046, "post_id": 52293526, "comment_id": 91556091, "body": "thank you all for the replies! Unfortunately, this still doesn&#39;t work. After executing the Future and doing setState (to get the build function to execute again, so FutureBuilder will work and return the loading animation until the Future is actually done), the build function doesn&#39;t get called again, until after the Future has ended (so the loading animation never shows up). Again, I think that dart is a one-threaded application, and therefore the actual execution of the Future is put on the event loop before the setState and build only gets called after the Future is complete."}, {"owner": {"reputation": 2245, "user_id": 469335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DGzs0.jpg?s=128&g=1", "display_name": "F-1", "link": "https://stackoverflow.com/users/469335/f-1"}, "reply_to_user": {"reputation": 1, "user_id": 10349548, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155436417137237/picture?type=large", "display_name": "flutterbeginner", "link": "https://stackoverflow.com/users/10349548/flutterbeginner"}, "edited": false, "score": 0, "creation_date": 1536828347, "post_id": 52293526, "comment_id": 91566774, "body": "I used this to open an epub file I don&#39;t set state at all, the loading text displays for a good 5 seconds or so whilst the epub is being decoded."}, {"owner": {"reputation": 1, "user_id": 10349548, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155436417137237/picture?type=large", "display_name": "flutterbeginner", "link": "https://stackoverflow.com/users/10349548/flutterbeginner"}, "edited": false, "score": 0, "creation_date": 1536853883, "post_id": 52293526, "comment_id": 91582168, "body": "It will show the &#39;Loading&#39; text, but the CircularProgressIndicator&#39;s animation will be stuck until the big task finishes. I saw somewhere that for big tasks it&#39;s recommended to use the &#39;compute&#39; function if you don&#39;t want the UI to get stuck, but that&#39;s not perfect either (you need to report to the main Isolate that the compute function was done and display the content, but apparently you can&#39;t use global variables to communicate that because different Isolates get their own copy). Thought this should be an easy use-case (do a big task while animation works in the background)."}, {"owner": {"reputation": 2245, "user_id": 469335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DGzs0.jpg?s=128&g=1", "display_name": "F-1", "link": "https://stackoverflow.com/users/469335/f-1"}, "reply_to_user": {"reputation": 1, "user_id": 10349548, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155436417137237/picture?type=large", "display_name": "flutterbeginner", "link": "https://stackoverflow.com/users/10349548/flutterbeginner"}, "edited": false, "score": 0, "creation_date": 1536911553, "post_id": 52293526, "comment_id": 91601557, "body": "I&#39;ll have to look into the compute function. I&#39;ll share with you a loading class I use in my project."}, {"owner": {"reputation": 1, "user_id": 10349548, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155436417137237/picture?type=large", "display_name": "flutterbeginner", "link": "https://stackoverflow.com/users/10349548/flutterbeginner"}, "edited": false, "score": 0, "creation_date": 1537428350, "post_id": 52293526, "comment_id": 91782620, "body": "Thank you for the sample code! The widget still doesn&#39;t update with time (i.e. adding &#39;.&#39; to the Loading text). I really think it happens because once the long task starts to execute it blocks the UI thread (can&#39;t escape it if we are not multi-threaded, unless I use Isolates here, which is what the compute function is doing).  I think the framework should support a much easier way to do something like this."}, {"owner": {"reputation": 2245, "user_id": 469335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DGzs0.jpg?s=128&g=1", "display_name": "F-1", "link": "https://stackoverflow.com/users/469335/f-1"}, "reply_to_user": {"reputation": 1, "user_id": 10349548, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155436417137237/picture?type=large", "display_name": "flutterbeginner", "link": "https://stackoverflow.com/users/10349548/flutterbeginner"}, "edited": false, "score": 0, "creation_date": 1537882012, "post_id": 52293526, "comment_id": 91939262, "body": "Have you made any progress? I came across this stackoverflow question which might help you <a href=\"https://stackoverflow.com/a/52498902/469335\">stackoverflow.com/a/52498902/469335</a>"}, {"owner": {"reputation": 1, "user_id": 10349548, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155436417137237/picture?type=large", "display_name": "flutterbeginner", "link": "https://stackoverflow.com/users/10349548/flutterbeginner"}, "edited": false, "score": 1, "creation_date": 1537988284, "post_id": 52293526, "comment_id": 91988449, "body": "Thank you, that is helpful and confirms what I thought. I also bumped into AsyncLoader while researching the subject and thought it might do the trick but again, there was no progress due to what is written in the article you provided. So I would say the only way to make it work is run it in an isolate and send a message back to the main thread with the data that was loaded upon completion."}], "tags": [], "owner": {"reputation": 2245, "user_id": 469335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DGzs0.jpg?s=128&g=1", "display_name": "F-1", "link": "https://stackoverflow.com/users/469335/f-1"}, "is_accepted": false, "score": 0, "last_activity_date": 1536912180, "last_edit_date": 1536912180, "creation_date": 1536749859, "answer_id": 52293526, "question_id": 52283743, "link": "https://stackoverflow.com/questions/52283743/how-to-make-sure-ui-gets-updated-in-flutter-before-a-long-task-completes-on-the/52293526#52293526", "title": "How to make sure UI gets updated in flutter before a long task completes on the main thread", "body": "<p>Try changing your build method slightly</p>\n\n<pre><code>    buildContent() {\n    new FutureBuilder&lt;FileObject&gt;(\n      future: loadData(),\n      builder: (BuildContext context, AsyncSnapshot&lt;FileObject&gt; snapshot) {\n      FileObject file = new FileObject();\n        if (snapshot.hasData) {\n          file = snapshot.data;\n          content = file.text; // The FileObject has a text property\n          return Expanded(\n          child: SingleChildScrollView(\n            child: Text(\n              content,\n              textAlign: TextAlign.center,\n              style: TextStyle(\n                color: Colors.lightBlue[100],\n                fontSize: 25.0,\n                fontWeight: FontWeight.normal,\n              ),\n            ),\n          ),\n        );\n        } else {\n          return new Center(\n            child: Column(\n              children: &lt;Widget&gt;[\n                new LoadingIndicator(),                \n              ],\n            )\n          );\n        }\n      },\n    );\n  }\n</code></pre>\n\n<p>In the above code I've changed a few things. </p>\n\n<p>First, the buildContent method isn't a return method so I've removed the Future and return statements. </p>\n\n<p>Secondly, the future now calls the the loadData() method. The snapshot will return your FileObject when it is ready. </p>\n\n<p>Lastly, the Expanded widget is moved inside the IF clause so that only when the Futurebuilder is finished it will create a FileObject for you to display the content string. However, if the snapshot is empty meaning the Futurebuilder hasn't finished or there was an error creating the FileObject then it should just display the loading text and spinner (I've added the spinner because it's good to know the app hasn't frozen).</p>\n\n<p>EDIT:</p>\n\n<p>Here is my loading class, I've edited the code above call the class</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nclass LoadingIndicator extends StatefulWidget {\n  @override\n  _LoadingIndicatorState createState() =&gt; new _LoadingIndicatorState();\n}\n\nclass _LoadingIndicatorState extends State&lt;LoadingIndicator&gt;\n    with TickerProviderStateMixin {\n  Animation&lt;int&gt; animation;\n  AnimationController controller;\n\n  Widget childBuilder(int value) {\n    String text = 'one moment\\n';\n    for (int i = 0; i &lt; value; i++) {\n      text += '.';\n    }\n\n    return new Stack(\n      alignment: Alignment(0.0, 0.0),\n      children: &lt;Widget&gt;[ \n        // SizedBox(  \n        // child: new CircularProgressIndicator(),\n        // height:  10.0,\n        // width: 400.0,\n        // ),\n       SizedBox(  \n        // height:  40.0,\n        child: new Padding(\n          padding: EdgeInsets.fromLTRB(0.0, 0.0, 0.0, 30.0),\n          child: new Text(text,style: new TextStyle(color: Colors.blueGrey, fontSize: 20.0, fontWeight: FontWeight.w500,), textAlign: TextAlign.center,),\n        )\n       )\n      ]\n    );\n\n\n  }\n\n  @override\n  void initState() {\n    super.initState();\n    controller = new AnimationController(\n        vsync: this, duration: const Duration(seconds: 2));\n    animation = new StepTween(begin: 0, end: 4).animate(controller)\n    .. addStatusListener((status){\n      if (status == AnimationStatus.completed) {\n        controller.reset();\n        controller.forward();\n      }\n    });\n    controller.forward();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return new AnimatedBuilder(\n        animation: animation,\n        builder: (BuildContext context, _) {\n          return childBuilder(animation.value);\n        });\n  }\n\n  @override\n  void dispose() {\n    controller.dispose();\n    super.dispose();\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10349548, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155436417137237/picture?type=large", "display_name": "flutterbeginner", "link": "https://stackoverflow.com/users/10349548/flutterbeginner"}, "is_accepted": true, "score": 0, "last_activity_date": 1538327003, "creation_date": 1538327003, "answer_id": 52580156, "question_id": 52283743, "link": "https://stackoverflow.com/questions/52283743/how-to-make-sure-ui-gets-updated-in-flutter-before-a-long-task-completes-on-the/52580156#52580156", "title": "How to make sure UI gets updated in flutter before a long task completes on the main thread", "body": "<p>I finally solved it, using Isolates as discussed in the thread above.</p>\n\n<p>The process is pretty simple, I followed the example here: <a href=\"https://github.com/flutter/flutter/blob/master/examples/layers/services/isolate.dart\" rel=\"nofollow noreferrer\">Isolate Example</a></p>\n\n<p>Because the long task now runs in a separate Isolate/thread than the main one, the animation for loading works as expected until the callback from the Isolate gets triggered and shows the loaded content.</p>\n\n<p>Thanks everyone for the help.</p>\n"}], "owner": {"reputation": 1, "user_id": 10349548, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155436417137237/picture?type=large", "display_name": "flutterbeginner", "link": "https://stackoverflow.com/users/10349548/flutterbeginner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2014, "favorite_count": 1, "accepted_answer_id": 52580156, "answer_count": 2, "score": 0, "last_activity_date": 1538327042, "creation_date": 1536697593, "last_edit_date": 1538327042, "question_id": 52283743, "link": "https://stackoverflow.com/questions/52283743/how-to-make-sure-ui-gets-updated-in-flutter-before-a-long-task-completes-on-the", "title": "How to make sure UI gets updated in flutter before a long task completes on the main thread", "body": "<p>Update: Solved, look at the answer below.</p>\n\n<p>I have a simple Text(initial text value is 'Empty') widget and a button at the top of the screen. When I click the button, I am loading a file that takes a long time to complete. While it is working to complete that, I want to change the Text widget to say 'Loading' and then display the content of the file once that task is finished loading the file. </p>\n\n<p>I run the loading task in a Future and in my build function of the State class I am using a FutureBuilder widget to know what the Text widget should show based on if the task is complete yet or not. </p>\n\n<p>The problem, I think, is that because dart is a single-threaded app, changing the text of the Text widget to 'Loading' doesn't get executed only after the task is completed, which beats the purpose (even when calling setState, because it is added to the event loop I believe where the Future is also scheduled to run). </p>\n\n<p>Should I be running the long task in a separate Isolate? Is that the right way to go? I've been on this for a long time, hopefully someone can help, it's something that should be so simple..</p>\n\n<p>This is the code I am using: </p>\n\n<pre><code>void main() =&gt; runApp(new MyApp());\n\nclass MyApp extends StatelessWidget {\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      debugShowCheckedModeBanner: false,\n      title: 'Flutter Demo',\n      home: new MyHomePage(),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  MyHomePage({Key key}) : super(key: key);\n\n  @override\n  _MyHomePageState createState() =&gt; new _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  String content = 'Empty';\n  Future&lt;FileObject&gt; file;\n\n  loadData() async {\n     // do the loading of the file here (that takes a LONG time)\nfile = /*loadfunction for the file (returns a Future, because it takes long)*/;\n  }\n\n\n  loadTask() {\n    setState(() {\n      content = 'Loading...';\n    });\n    loadData();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      backgroundColor: Colors.black,\n      body: Column(\n        children: &lt;Widget&gt;[\n          buildTitle(),\n          buildContent(),\n        ],\n      ),\n    );\n  }\n\n  FutureBuilder&lt;FileObject&gt; buildContent() {\n    return FutureBuilder&lt;FileObject&gt;(\n      future: file,\n      builder: (BuildContext context, AsyncSnapshot&lt;FileObject&gt; snapshot) {\n        if (snapshot.hasData) {\n           content = snapshot.data.text; // The FileObject has a text property\n        }\n\n        return Expanded(\n          child: SingleChildScrollView(\n            child: Text(\n              content,\n              textAlign: TextAlign.center,\n              style: TextStyle(\n                color: Colors.lightBlue[100],\n                fontSize: 25.0,\n                fontWeight: FontWeight.normal,\n              ),\n            ),\n          ),\n        );\n      },\n    );\n  }\n\n  Padding buildTitle() {\n    return Padding(\n      padding: const EdgeInsets.only(left: 8.0, top: 50.0, bottom: 30.0),\n      child: Row(\n        children: &lt;Widget&gt;[\n          IconButton(\n            icon: Icon(\n              Icons.update,\n              color: Colors.lightBlue[50],\n            ),\n            onPressed: loadTask,\n          ),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "routing", "dart"], "comments": [{"owner": {"reputation": 5738, "user_id": 2118226, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/SgUMa.jpg?s=128&g=1", "display_name": "matanlurey", "link": "https://stackoverflow.com/users/2118226/matanlurey"}, "edited": false, "score": 0, "creation_date": 1536726687, "post_id": 52283625, "comment_id": 91522792, "body": "At least from your example above, you wrote <code>templateUrl: &#39;app_component.html&#39;</code>, but named your HTML file <code>appComponent.html</code>. That might be the source of your issue?"}, {"owner": {"reputation": 73, "user_id": 6184106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c27da4d6722464209264f99044d51fad?s=128&d=identicon&r=PG&f=1", "display_name": "jupper", "link": "https://stackoverflow.com/users/6184106/jupper"}, "reply_to_user": {"reputation": 5738, "user_id": 2118226, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/SgUMa.jpg?s=128&g=1", "display_name": "matanlurey", "link": "https://stackoverflow.com/users/2118226/matanlurey"}, "edited": false, "score": 0, "creation_date": 1536733678, "post_id": 52283625, "comment_id": 91525195, "body": "Thank, but it&#39;s a mistake, the files are named &quot;app_component.*&quot;"}, {"owner": {"reputation": 1293, "user_id": 4223471, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4BObBSHEeGs/AAAAAAAAAAI/AAAAAAAALoM/x0XAln25lII/photo.jpg?sz=128", "display_name": "Jake MacDonald", "link": "https://stackoverflow.com/users/4223471/jake-macdonald"}, "edited": false, "score": 0, "creation_date": 1536768134, "post_id": 52283625, "comment_id": 91546340, "body": "If you look in your <code>.dart_tool&#47;build&#47;generated&#47;Muellbot&#47;lib&#47;</code> directory, do you see the <code>app_component.template.dart</code> file?"}, {"owner": {"reputation": 73, "user_id": 6184106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c27da4d6722464209264f99044d51fad?s=128&d=identicon&r=PG&f=1", "display_name": "jupper", "link": "https://stackoverflow.com/users/6184106/jupper"}, "edited": false, "score": 0, "creation_date": 1536769518, "post_id": 52283625, "comment_id": 91547056, "body": "No, there is no such a file."}, {"owner": {"reputation": 1293, "user_id": 4223471, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4BObBSHEeGs/AAAAAAAAAAI/AAAAAAAALoM/x0XAln25lII/photo.jpg?sz=128", "display_name": "Jake MacDonald", "link": "https://stackoverflow.com/users/4223471/jake-macdonald"}, "edited": false, "score": 0, "creation_date": 1536776263, "post_id": 52283625, "comment_id": 91550224, "body": "Ok - so for some reason then it is not being generated. Do you have any other errors in your build?  You could also navigate to /$graph (in serve mode), and in the search box type in &quot;lib/app_component.template.dart&quot; and click search. Does it find a node? If so can you copy/past the information for it in the top right corner?"}, {"owner": {"reputation": 73, "user_id": 6184106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c27da4d6722464209264f99044d51fad?s=128&d=identicon&r=PG&f=1", "display_name": "jupper", "link": "https://stackoverflow.com/users/6184106/jupper"}, "edited": false, "score": 0, "creation_date": 1536776479, "post_id": 52283625, "comment_id": 91550335, "body": "This is the output: Error requesting query &quot;ib/app_component.template.dart&quot;. 404 Not Found Could not find asset for path &quot;ib/app_component.template.dart&quot;. Tried: - Muellbot|ib/app_component.template.dart - Muellbot|web/ib/app_component.template.dart"}, {"owner": {"reputation": 1293, "user_id": 4223471, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4BObBSHEeGs/AAAAAAAAAAI/AAAAAAAALoM/x0XAln25lII/photo.jpg?sz=128", "display_name": "Jake MacDonald", "link": "https://stackoverflow.com/users/4223471/jake-macdonald"}, "edited": false, "score": 0, "creation_date": 1536779270, "post_id": 52283625, "comment_id": 91551652, "body": "It looks like you missed the leading <code>l</code>, should be <code>lib&#47;app_component.template.dart</code>"}, {"owner": {"reputation": 73, "user_id": 6184106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c27da4d6722464209264f99044d51fad?s=128&d=identicon&r=PG&f=1", "display_name": "jupper", "link": "https://stackoverflow.com/users/6184106/jupper"}, "edited": false, "score": 0, "creation_date": 1536779764, "post_id": 52283625, "comment_id": 91551879, "body": "Oh, you are right, I&#39;m sorry. So here is the right output:      ID: Muellbot|lib/app_component.template.dart     Generated: true     Hidden: true     State: NodeState.mayNeedUpdate     Was Output: false     Failed: true     Phase: 907     Globs: null"}, {"owner": {"reputation": 1293, "user_id": 4223471, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4BObBSHEeGs/AAAAAAAAAAI/AAAAAAAALoM/x0XAln25lII/photo.jpg?sz=128", "display_name": "Jake MacDonald", "link": "https://stackoverflow.com/users/4223471/jake-macdonald"}, "reply_to_user": {"reputation": 73, "user_id": 6184106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c27da4d6722464209264f99044d51fad?s=128&d=identicon&r=PG&f=1", "display_name": "jupper", "link": "https://stackoverflow.com/users/6184106/jupper"}, "edited": false, "score": 0, "creation_date": 1536780219, "post_id": 52283625, "comment_id": 91552066, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/179932/discussion-between-jake-macdonald-and-jupper\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 73, "user_id": 6184106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c27da4d6722464209264f99044d51fad?s=128&d=identicon&r=PG&f=1", "display_name": "jupper", "link": "https://stackoverflow.com/users/6184106/jupper"}, "is_accepted": false, "score": 0, "last_activity_date": 1536787512, "last_edit_date": 1536787512, "creation_date": 1536785750, "answer_id": 52303356, "question_id": 52283625, "link": "https://stackoverflow.com/questions/52283625/error-unable-to-find-modules-for-some-sources-in-dart/52303356#52303356", "title": "Error &quot;Unable to find modules for some sources...&quot; in Dart", "body": "<p>Ok removing </p>\n\n<pre><code>&lt;span *ngIf=\"!create\" id=\"error\"&gt;Fehler&lt;/span&gt;\n&lt;span *ngIf=\"create\" id=\"success\"&gt;Benutzer angelegt&lt;/span&gt;\n</code></pre>\n\n<p>helped.</p>\n\n<p>But now I got another error. The server loads and when I visit the page, it just says </p>\n\n<pre><code>Loading...\n</code></pre>\n\n<p>In the console I get the message </p>\n\n<pre><code>TypeError: e.message is undefined\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 15419233, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0PsVYPJSVFg/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucnNOPkRlgGyBiUAdDyTlRZeMozMpA/s96-c/photo.jpg?sz=128", "display_name": "user15419233", "link": "https://stackoverflow.com/users/15419233/user15419233"}, "is_accepted": false, "score": 0, "last_activity_date": 1616120549, "last_edit_date": 1616120549, "creation_date": 1616023293, "answer_id": 66682643, "question_id": 52283625, "link": "https://stackoverflow.com/questions/52283625/error-unable-to-find-modules-for-some-sources-in-dart/66682643#66682643", "title": "Error &quot;Unable to find modules for some sources...&quot; in Dart", "body": "<p>This problem can be solved by importing the packages in full which includes your Project <code>dir path</code> in your <code>routes.dart</code>\nmake sure imports look like this</p>\n<pre><code>import 'package:Muellbot/home_component.template.dart' as home_template;\nimport 'package:Muellbot/create_new_user_component.template.dart' as new_user_template;\n</code></pre>\n<p>and not this</p>\n<pre><code>import 'home_component.template.dart' as home_template;\nimport 'create_new_user_component.template.dart' as new_user_template;\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 6184106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c27da4d6722464209264f99044d51fad?s=128&d=identicon&r=PG&f=1", "display_name": "jupper", "link": "https://stackoverflow.com/users/6184106/jupper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1339, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1616120549, "creation_date": 1536696984, "question_id": 52283625, "link": "https://stackoverflow.com/questions/52283625/error-unable-to-find-modules-for-some-sources-in-dart", "title": "Error &quot;Unable to find modules for some sources...&quot; in Dart", "body": "<p>I'm learning dart and trying to make a simple webapp, wich should make it possible to create an user. </p>\n\n<p>But when I'm trying to run it, the following message appears:</p>\n\n<blockquote>\n  <p>[SEVERE] build_web_compilers|entrypoint on web/main.dart (cached):\n  Unable to find modules for some sources, this is usually the result of either a\n  bad import, a missing dependency in a package (or possibly a dev_dependency\n  needs to move to a real dependency), or a build failure (if importing a\n  generated file).</p>\n  \n  <p>Please check the following imports:</p>\n  \n  <p><code>import 'package:Muellbot/app_component.template.dart' as ng;</code> \n   from Muellbot|web/main.template.dart at 9:1\n  <code>import 'package:Muellbot/app_component.template.dart' as ng;</code> \n   from Muellbot|web/main.dart at 2:1</p>\n  \n  <p>[SEVERE] Failed after 2.2s</p>\n</blockquote>\n\n<p>Here are my files:</p>\n\n<p>main.dart</p>\n\n<pre><code>import 'package:angular/angular.dart';\nimport 'package:Muellbot/app_component.template.dart' as ng;\nimport 'package:angular_router/angular_router.dart';\n\nimport 'main.template.dart' as self;\n\n@GenerateInjector(\n  routerProvidersHash,\n)\nfinal InjectorFactory injector = self.injector;\n\nvoid main() {\n  runApp(ng.AppComponentNgFactory, createInjector: injector);\n}\n</code></pre>\n\n<p>appComponent.dart</p>\n\n<pre><code>import 'package:angular/angular.dart';\nimport 'package:angular_router/angular_router.dart';\n\nimport 'src/routes.dart';\n\n@Component(\n  selector: 'my-app',\n  styleUrls: ['app_component.css'],\n  templateUrl: 'app_component.html',\n  directives: [routerDirectives],\n  exports: [RoutePaths, Routes],\n\n)\nclass AppComponent {\n\n}\n</code></pre>\n\n<p>appComponent.html</p>\n\n<pre><code>&lt;h1&gt;M\u00fcllbot&lt;/h1&gt;\n&lt;nav&gt;\n    &lt;a [routerLink]=\"RoutePaths.home.toUrl()\"\n   [    routerLinkActive]=\"'active'\"&gt;Home&lt;/a&gt;\n    &lt;a [routerLink]=\"RoutePaths.newUser.toUrl()\"\n       [routerLinkActive]=\"'active'\"&gt;Neuen Benutzer anlegen&lt;/a&gt;\n&lt;/nav&gt;\n&lt;router-outlet [routes]=\"Routes.all\"&gt;&lt;/router-outlet&gt;\n&lt;img src=\"logo.png\" width=\"50%\"&gt;\n</code></pre>\n\n<p>routes.dart</p>\n\n<pre><code>import 'package:angular_router/angular_router.dart';\n\nimport 'route_paths.dart';\nimport 'home_component.template.dart' as home_template;\nimport 'create_new_user_component.template.dart' as new_user_template;\n\nexport 'route_paths.dart';\n\nclass Routes {\n  static final home = RouteDefinition(\n    routePath: RoutePaths.home,\n    component: home_template.HomeComponentNgFactory,\n  );\n  static final newUser = RouteDefinition(\n    routePath: RoutePaths.newUser,\n    component: new_user_template.NewUserComponentNgFactory,\n  );\n\n  static final all = &lt;RouteDefinition&gt;[\n    home,\n    newUser,\n  ];\n}\n</code></pre>\n\n<p>routhe_paths.dart</p>\n\n<pre><code>import 'package:angular_router/angular_router.dart';\n\nclass RoutePaths {\n  static final home = RoutePath(path: 'home');\n  static final newUser = RoutePath(path: 'newUser');\n\n}\n</code></pre>\n\n<p>home_component.html</p>\n\n<pre><code>    &lt;h4&gt;Hallo {{user.firstName}}&lt;/h4&gt;\n</code></pre>\n\n<p>home_component.dart</p>\n\n<pre><code>import 'package:angular/angular.dart';\n\nimport 'user.dart';\n\n@Component(\n  selector: 'home',\n  templateUrl: 'home_component.html'\n)\n\nclass HomeComponent {\n\n  User user = new User('Axel', 'Foley', 'axel@sfoley.de');\n\n}\n</code></pre>\n\n<p>create_new_user_component.html</p>\n\n<pre><code>&lt;h3&gt;Neuen Benutzer anlegen&lt;/h3&gt;\n&lt;div&gt;\n    &lt;span *ngIf=\"!create\" id=\"error\"&gt;Fehler&lt;/span&gt;\n    &lt;span *ngIf=\"create\" id=\"success\"&gt;Benutzer angelegt&lt;/span&gt;\n    &lt;table&gt;\n        &lt;tr&gt;\n            &lt;td&gt;&lt;label&gt;Vorname:&lt;/label&gt;&lt;/td&gt;&lt;td&gt;&lt;input #firstName/&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;label&gt;Nachname:&lt;/label&gt;&lt;/td&gt;&lt;td&gt;&lt;input #lastName/&gt;&lt;/td&gt;\n        &lt;/tr&gt;&lt;tr&gt;\n            &lt;td&gt;&lt;label&gt;Email:&lt;/label&gt;&lt;/td&gt;&lt;td&gt;&lt;input #email/&gt;&lt;/td&gt;\n        &lt;/tr&gt;&lt;tr&gt;\n            &lt;td&gt;&lt;label&gt;Passwort:&lt;/label&gt;&lt;/td&gt;&lt;td&gt;&lt;input #password/&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;label&gt;Passwort wiederholen:&lt;/label&gt;&lt;/td&gt;&lt;td&gt;&lt;input #passwordRe/&gt;&lt;/td&gt;\n        &lt;/tr&gt;&lt;tr&gt;\n            &lt;td&gt;&lt;button (click)=\"add(firstName.value, lastName.value, email.value, password.value)\"&gt;Hinzuf\u00fcgen&lt;/button&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>create_new_user_component.dart</p>\n\n<pre><code>import 'dart:async';\nimport 'dart:convert';\nimport 'package:http/http.dart';\n\nimport 'package:angular/angular.dart';\n\n\n@Component(\n  selector: 'new-user',\n  templateUrl: 'create_new_user_component.html'\n)\n\nclass NewUserComponent {\n  bool create = false;\n  final Client _http;\n  static final _headers = {'Content-Type': 'application/json'};\n  final url = \"http://localhost:4040/user/new\";\n\n  Future&lt;void&gt; add(String firstName, String lastName, String email, String password) async {\n    try {\n      final response = await _http.post(url, headers: _headers, body: json.encode({'firstName': firstName, 'lastName': lastName, 'email': email, 'password': password}));\n      if (response.statusCode == 200) {\n        create = true;\n      }\n    } catch (e) {\n      throw new Exception(e);\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["dart", "flutter", "flutter-layout", "flutter-animation"], "comments": [{"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1536695746, "post_id": 52283140, "comment_id": 91514808, "body": "It will be much more performant to draw them manually on the canvas (RenderObject/CustomPainter)."}, {"owner": {"reputation": 18691, "user_id": 2461957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba93508b1cdbe37fd102cff4982e0d47?s=128&d=identicon&r=PG", "display_name": "boformer", "link": "https://stackoverflow.com/users/2461957/boformer"}, "edited": false, "score": 0, "creation_date": 1536695829, "post_id": 52283140, "comment_id": 91514844, "body": "Can you be more specific about the use case and the animations? Is it just a fixed animation, or something you can interact with?"}, {"owner": {"reputation": 301, "user_id": 10348916, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o7r5wN7mqk4/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsMtFxSWtDTdrWAmB9R8CxT09FlQ/mo/photo.jpg?sz=128", "display_name": "BenSabo", "link": "https://stackoverflow.com/users/10348916/bensabo"}, "edited": false, "score": 0, "creation_date": 1536696404, "post_id": 52283140, "comment_id": 91515115, "body": "It&#39;s only a fixed animation."}], "owner": {"reputation": 301, "user_id": 10348916, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o7r5wN7mqk4/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsMtFxSWtDTdrWAmB9R8CxT09FlQ/mo/photo.jpg?sz=128", "display_name": "BenSabo", "link": "https://stackoverflow.com/users/10348916/bensabo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536694888, "creation_date": 1536694888, "question_id": 52283140, "link": "https://stackoverflow.com/questions/52283140/draw-many-circles-on-canvas-vs-create-a-custom-container-for-them", "title": "Draw many circles on canvas vs create a custom Container for them", "body": "<p>I'm new in flutter, and I need to visualize somehow many huge pixels in my application and refresh their color in every 150ms.</p>\n\n<p>The pixels will be in a matrix form and their count can be more than 1000.</p>\n\n<p>What can be the most effective way to visualize them?</p>\n\n<p>For such amount elements, should i still stick to creating a custom StatelessWidget or try to draw them on a canvas?\nAlso I've noticed, using animations would rebuild the whole pixel matrix, what is also really not efficient, can you advise how should I do the refreshes?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "firebase", "dart", "package", "flutter"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 2, "creation_date": 1536696355, "post_id": 52283117, "comment_id": 91515099, "body": "Try <code>flutter clean</code> and then build again."}, {"owner": {"reputation": 2430, "user_id": 1762493, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/pEEmF.jpg?s=128&g=1", "display_name": "Mikeumus", "link": "https://stackoverflow.com/users/1762493/mikeumus"}, "edited": false, "score": 0, "creation_date": 1551193626, "post_id": 52283117, "comment_id": 96546100, "body": "Deleting <code>.vscode&#47;launch.json</code> worked for me: <a href=\"https://github.com/Microsoft/vscode-java-debug/blob/master/Troubleshooting.md#reason-7\" rel=\"nofollow noreferrer\">github.com/Microsoft/vscode-java-debug/blob/master/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1326, "user_id": 5976718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afd738647a0e1308796755837de6acfd?s=128&d=identicon&r=PG", "display_name": "Eric Duffett", "link": "https://stackoverflow.com/users/5976718/eric-duffett"}, "edited": false, "score": 4, "creation_date": 1551801572, "post_id": 52283615, "comment_id": 96768829, "body": "I had enabled Kotlin in my project so my update was made in Mainactivity.kt. Thanks! This was hugely helpful!!"}, {"owner": {"reputation": 425, "user_id": 8267876, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/845395558956280/picture?type=large", "display_name": "Daniel Szy", "link": "https://stackoverflow.com/users/8267876/daniel-szy"}, "edited": false, "score": 2, "creation_date": 1569520030, "post_id": 52283615, "comment_id": 102632958, "body": "You saved me hours I guess. Thank you."}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 1, "creation_date": 1583468143, "post_id": 52283615, "comment_id": 107135157, "body": "saved my day !!"}, {"owner": {"reputation": 147, "user_id": 5728873, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/R37ba.jpg?s=128&g=1", "display_name": "Dheeraj Sarwaiya", "link": "https://stackoverflow.com/users/5728873/dheeraj-sarwaiya"}, "edited": false, "score": 1, "creation_date": 1588205742, "post_id": 52283615, "comment_id": 108814089, "body": "after wasting hours, this saved me"}, {"owner": {"reputation": 150, "user_id": 5424678, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-p6K3YRlSptc/AAAAAAAAAAI/AAAAAAAAC9E/fWSUVQKXbF0/photo.jpg?sz=128", "display_name": "William Romero", "link": "https://stackoverflow.com/users/5424678/william-romero"}, "edited": false, "score": 1, "creation_date": 1608788101, "post_id": 52283615, "comment_id": 115685212, "body": "Thank you for this response! You saved my day."}], "tags": [], "owner": {"reputation": 1314, "user_id": 7657749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66522a52b771a77d933f0323dd5e3cf0?s=128&d=identicon&r=PG&f=1", "display_name": "Jan D.M.", "link": "https://stackoverflow.com/users/7657749/jan-d-m"}, "is_accepted": true, "score": 53, "last_activity_date": 1559202573, "last_edit_date": 1559202573, "creation_date": 1536696939, "answer_id": 52283615, "question_id": 52283117, "link": "https://stackoverflow.com/questions/52283117/flutter-app-is-not-working-after-changing-package-name/52283615#52283615", "title": "Flutter App is not working after changing package name", "body": "<p>You also need to update your package name in: Mainactivity.java</p>\n\n<p>Update: If you have enabled Kotlin, you should update your package name in Mainactivity.kt</p>\n"}], "owner": {"reputation": 445, "user_id": 10194309, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f9b4kSOdgvE/AAAAAAAAAAI/AAAAAAAAOO0/cd-vFig9x2k/photo.jpg?sz=128", "display_name": "Darwish Al-Neyadi", "link": "https://stackoverflow.com/users/10194309/darwish-al-neyadi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10719, "favorite_count": 3, "protected_date": 1595243024, "accepted_answer_id": 52283615, "answer_count": 1, "score": 16, "last_activity_date": 1595241374, "creation_date": 1536694798, "question_id": 52283117, "link": "https://stackoverflow.com/questions/52283117/flutter-app-is-not-working-after-changing-package-name", "title": "Flutter App is not working after changing package name", "body": "<p>I am trying to release my apk and just changed the com.example package name to my own com.[companynamehere].[appname] in the AndroidManifest.xml file and app/build.gradle file, however now my app stops working as soon as i run it. any idea what might be the problem? is there anywhere else i need to change the package name? I'm also using firebase and i generated a new google-services.json file with the new package name.</p>\n"}, {"tags": ["dart", "flutter", "flutter-layout", "flutter-animation"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536687803, "post_id": 52281166, "comment_id": 91510893, "body": "Why do you want to use an animation if you don&#39;t want change continuously? Can you please elaborate more on what you actually try to accomplish?"}, {"owner": {"reputation": 301, "user_id": 10348916, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o7r5wN7mqk4/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsMtFxSWtDTdrWAmB9R8CxT09FlQ/mo/photo.jpg?sz=128", "display_name": "BenSabo", "link": "https://stackoverflow.com/users/10348916/bensabo"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536690147, "post_id": 52281166, "comment_id": 91512062, "body": "I&#39;m working on an application that has an n x m matrix of colored &quot;pixels&quot;, and i wan&#39;t to refresh all of their colors in every 150ms.  Sorry if animations are really out of context, i&#39;m really new in flutter."}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1536690524, "post_id": 52281166, "comment_id": 91512274, "body": "No, don&#39;t worry. Using the animation framework here is the most ideal solution."}], "answers": [{"comments": [{"owner": {"reputation": 301, "user_id": 10348916, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o7r5wN7mqk4/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsMtFxSWtDTdrWAmB9R8CxT09FlQ/mo/photo.jpg?sz=128", "display_name": "BenSabo", "link": "https://stackoverflow.com/users/10348916/bensabo"}, "edited": false, "score": 0, "creation_date": 1536689937, "post_id": 52281709, "comment_id": 91511948, "body": "Thanks for your excellent answer, the problem here is that StepCurve has gaps in positons, but i want to have them in time. I mean, the first step would happen after 1s, the second step after another 1s and so on and so forth."}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "reply_to_user": {"reputation": 301, "user_id": 10348916, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o7r5wN7mqk4/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsMtFxSWtDTdrWAmB9R8CxT09FlQ/mo/photo.jpg?sz=128", "display_name": "BenSabo", "link": "https://stackoverflow.com/users/10348916/bensabo"}, "edited": false, "score": 0, "creation_date": 1536690201, "post_id": 52281709, "comment_id": 91512089, "body": "You can convert time to steps. In your example, there are 40 steps for a total duration of 2 seconds."}, {"owner": {"reputation": 301, "user_id": 10348916, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o7r5wN7mqk4/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsMtFxSWtDTdrWAmB9R8CxT09FlQ/mo/photo.jpg?sz=128", "display_name": "BenSabo", "link": "https://stackoverflow.com/users/10348916/bensabo"}, "edited": false, "score": 0, "creation_date": 1536690951, "post_id": 52281709, "comment_id": 91512520, "body": "I noticed Animatables don&#39;t have animation value, is there any way to have a counter or current step value here?"}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "reply_to_user": {"reputation": 301, "user_id": 10348916, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o7r5wN7mqk4/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsMtFxSWtDTdrWAmB9R8CxT09FlQ/mo/photo.jpg?sz=128", "display_name": "BenSabo", "link": "https://stackoverflow.com/users/10348916/bensabo"}, "edited": false, "score": 0, "creation_date": 1536691316, "post_id": 52281709, "comment_id": 91512716, "body": "I think you want  <a href=\"https://docs.flutter.io/flutter/animation/TweenSequence-class.html\" rel=\"nofollow noreferrer\">TweenSequence</a> instead"}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "reply_to_user": {"reputation": 301, "user_id": 10348916, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o7r5wN7mqk4/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsMtFxSWtDTdrWAmB9R8CxT09FlQ/mo/photo.jpg?sz=128", "display_name": "BenSabo", "link": "https://stackoverflow.com/users/10348916/bensabo"}, "edited": false, "score": 0, "creation_date": 1536692736, "post_id": 52281709, "comment_id": 91513461, "body": "@BenSabo Added an example, go take a look :)"}], "tags": [], "owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "is_accepted": true, "score": 3, "last_activity_date": 1536692720, "last_edit_date": 1536692720, "creation_date": 1536688863, "answer_id": 52281709, "question_id": 52281166, "link": "https://stackoverflow.com/questions/52281166/how-to-define-discrete-animation-in-flutter/52281709#52281709", "title": "How to define discrete animation in Flutter?", "body": "<p>It is possible to define a Curve to animations; to have non-linear progression.</p>\n\n<p>Flutter doesn't provides a \"step\" curves, but you can make one fairly easily:</p>\n\n<pre><code>class StepCurve extends Curve {\n  final int stepCount;\n\n  const StepCurve([this.stepCount = 2]) : assert(stepCount &gt; 1);\n\n  @override\n  double transform(double t) {\n    final progress = (t * stepCount).truncate();\n    return 1 / (stepCount - 1) * progress;\n  }\n}\n</code></pre>\n\n<p>You can then freely use it by associating it to a <code>CurveTween</code>: </p>\n\n<pre><code>@override\nWidget build(BuildContext context) {\n  return AlignTransition(\n    alignment: AlignmentGeometryTween(\n      begin: Alignment.centerLeft,\n      end: Alignment.centerRight,\n    )\n        .chain(CurveTween(curve: const StepCurve(5)))\n        .animate(animationController),\n    child: Container(\n      color: Colors.red,\n      width: 42.0,\n      height: 42.0,\n    ),\n  );\n}\n</code></pre>\n\n<p><a href=\"https://im5.ezgif.com/tmp/ezgif-5-caa46f69cc.gif\" rel=\"nofollow noreferrer\"><img src=\"https://im5.ezgif.com/tmp/ezgif-5-caa46f69cc.gif\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p>Another solution is using <a href=\"https://docs.flutter.io/flutter/animation/TweenSequence-class.html\" rel=\"nofollow noreferrer\">TweenSequence</a>. </p>\n\n<p><a href=\"https://i.stack.imgur.com/VJwRv.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VJwRv.gif\" alt=\"enter image description here\"></a></p>\n\n<pre><code>class TestAnim extends StatefulWidget {\n  @override\n  _TestAnimState createState() =&gt; _TestAnimState();\n}\n\nclass _TestAnimState extends State&lt;TestAnim&gt;\n    with SingleTickerProviderStateMixin {\n  AnimationController animationController;\n\n  @override\n  void initState() {\n    super.initState();\n    animationController = AnimationController(\n      vsync: this,\n      duration: const Duration(seconds: 1),\n    )..repeat();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    final colors = &lt;Color&gt;[\n      Colors.red,\n      Colors.blue,\n      Colors.lime,\n      Colors.purple,\n    ];\n\n    return DecoratedBoxTransition(\n      decoration: TweenSequence(colorsToTween(colors).toList())\n          .animate(animationController),\n      child: const SizedBox.expand(),\n    );\n  }\n}\n\nIterable&lt;TweenSequenceItem&lt;Decoration&gt;&gt; colorsToTween(\n    List&lt;Color&gt; colors) sync* {\n  for (int i = 0; i &lt; colors.length - 1; i++) {\n    yield TweenSequenceItem&lt;Decoration&gt;(\n      tween: DecorationTween(\n        begin: BoxDecoration(color: colors[i]),\n        end: BoxDecoration(color: colors[i + 1]),\n      ),\n      weight: 1.0,\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 301, "user_id": 10348916, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o7r5wN7mqk4/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsMtFxSWtDTdrWAmB9R8CxT09FlQ/mo/photo.jpg?sz=128", "display_name": "BenSabo", "link": "https://stackoverflow.com/users/10348916/bensabo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1026, "favorite_count": 1, "accepted_answer_id": 52281709, "answer_count": 1, "score": 2, "last_activity_date": 1536692720, "creation_date": 1536686541, "last_edit_date": 1536687476, "question_id": 52281166, "link": "https://stackoverflow.com/questions/52281166/how-to-define-discrete-animation-in-flutter", "title": "How to define discrete animation in Flutter?", "body": "<p>Is it possible to create an animation in flutter that doesn't continously change its value, but only with a given time gaps?</p>\n\n<p>I have the following code working right now, but i'm sure there is a better solution out there.</p>\n\n<pre><code>  int aniValue = 0;\n  bool lock = false;\n  _asyncFunc() async {\n    if(lock) return;\n    else     lock = true;\n\n    await new Future.delayed(const Duration(milliseconds: 50), () {\n      ++aniValue;\n\n      if (aniValue == 41) {\n        aniValue = 0;\n      }\n    });\n\n    lock = false;\n\n    setState(() {});\n    _asyncFunc();\n  }\n</code></pre>\n"}, {"tags": ["http", "post", "dart", "flutter"], "owner": {"reputation": 11, "user_id": 10348750, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/neLFu.jpg?s=128&g=1", "display_name": "amirsina mandegari", "link": "https://stackoverflow.com/users/10348750/amirsina-mandegari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 249, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1537003179, "creation_date": 1536685506, "last_edit_date": 1537003179, "question_id": 52280912, "link": "https://stackoverflow.com/questions/52280912/can-not-login-with-flutter-in-graphql-with-python-backend", "title": "can not login with flutter in graphql with python backend", "body": "<p>i try to login in in graphql API in Django backend.i send the request and get the session ID from API but when i try to use that session ID in another post requests i get the access denied error. i think maybe flutter device can not stay login or post requests are just single use because try this function from postman and get true answer. so what should i do?\nhere is my login request:</p>\n\n<pre><code>static Future&lt;String&gt; Login(String user,String password) async {\n  var url = \"my url\";\n\n  var request = \"mutation{logIn(username:${'\"'+user+'\"'}, password:${'\"'+password+'\"'}){result session error}}\";\n  http.Response res = await http.post(url, body:{\n    \"query\": request\n  }) ; // post api call\n  Map login = json.decode(res.body);\n  print(res);\n  print(res.headers);\n  print(login);\n  var RawData = login['data']['logIn'];\n  if (RawData['result']){\n    return(RawData['session']);\n  }else{\n    return '';\n  }\n}\n</code></pre>\n\n<p>and my check session request:</p>\n\n<pre><code>static Future&lt;String&gt; checkSession(String session) async {\n  var url = \"my url\";\n\n  print('session is here: '+ session);\n\n  http.Response res = await http.post(\n    url,\n    headers: {'sessionid':session},\n    body:{\n      \"query\":\"mutation{checkSessionValidation{result,error}}\"\n    },) ;\n\n  Map state = json.decode(res.body);\n  print(res.headers);\n  print('send validator :' + res.body);\n  var RawData = state['data'];\n  print(\"raw data is: \"+RawData);\n  return RawData;\n}\n</code></pre>\n"}, {"tags": ["firebase", "dart", "flutter", "google-cloud-firestore"], "answers": [{"tags": [], "owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "is_accepted": true, "score": 1, "last_activity_date": 1536675486, "last_edit_date": 1592644375, "creation_date": 1536673863, "answer_id": 52277541, "question_id": 52277456, "link": "https://stackoverflow.com/questions/52277456/can-i-filter-multiple-fields-in-a-firestore-search/52277541#52277541", "title": "Can I filter Multiple Fields in a Firestore search?", "body": "<p><strong>No</strong>, you <em>cannot do this</em>.<br />\nLooking at the <a href=\"https://firebase.google.com/docs/firestore/query-data/queries\" rel=\"nofollow noreferrer\">Firebase Firestore Documentation page about queries</a>, you will find out about the following:</p>\n<blockquote>\n<p>Cloud Firestore does not support the following types of queries:</p>\n<ul>\n<li><a href=\"https://firebase.google.com/docs/firestore/query-data/queries#query_limitations\" rel=\"nofollow noreferrer\">Queries with range filters on different fields, as described in the previous section.</a></li>\n</ul>\n</blockquote>\n<p>This does not directly apply to your specific use case, but the reasoning for why your request will not work is similar: There is no index that allows you to sort according to multiple different fields.<br />\nYou could e.g. create indexes that sort each of the fields, but only query them individually. To understand why certain queries are not supported, you can <a href=\"https://youtu.be/Ofux_4c94FI\" rel=\"nofollow noreferrer\">check out this in depth explanatory video from the Firebase team</a>.</p>\n<p>Concluding, this means that you will need to do the filtering client side.</p>\n<h2>Workaround Concept in Flutter</h2>\n<pre><code>final QuerySnapshot querySnapshot = \n  await Firestore.instance.collection('cakes').getDocuments();\nfinal List&lt;DocumentSnapshot&gt; documents = \n  querySnapshot.documents.where((snapshot) =&gt; snapshot.data.containsValue('cheesecake'));\n// now the [documents] object will only contain documents, which have &quot;cheesecake&quot; as any of their fields\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "is_accepted": false, "score": 1, "last_activity_date": 1536676838, "creation_date": 1536676838, "answer_id": 52278487, "question_id": 52277456, "link": "https://stackoverflow.com/questions/52277456/can-i-filter-multiple-fields-in-a-firestore-search/52278487#52278487", "title": "Can I filter Multiple Fields in a Firestore search?", "body": "<p>As creativecreatorormaybenot explained, there is no straightforward solution for your requirement. Filtering in the client side may be very time and money consuming, depending on the size of your database.</p>\n\n<p>There is another possibility, which would be to enable full text search on Cloud Firestore documents by using an Algolia hosted search service. There is an official Cloud Function sample that shows how to set this up: <a href=\"https://github.com/firebase/functions-samples/tree/Node-8/fulltext-search-firestore\" rel=\"nofollow noreferrer\">https://github.com/firebase/functions-samples/tree/Node-8/fulltext-search-firestore</a> </p>\n"}], "owner": {"reputation": 725, "user_id": 9826180, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EOVLloKDR2M/AAAAAAAAAAI/AAAAAAAAATs/UwVjPKw2_x8/photo.jpg?sz=128", "display_name": "Hitanshu Gogoi", "link": "https://stackoverflow.com/users/9826180/hitanshu-gogoi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6352, "favorite_count": 2, "accepted_answer_id": 52277541, "answer_count": 2, "score": 2, "last_activity_date": 1536676838, "creation_date": 1536673608, "last_edit_date": 1536675493, "question_id": 52277456, "link": "https://stackoverflow.com/questions/52277456/can-i-filter-multiple-fields-in-a-firestore-search", "title": "Can I filter Multiple Fields in a Firestore search?", "body": "<p>I use Firestore database in my app.<br>\nNow, is it possible to search for a particular word in multiple fields?</p>\n\n<p>For example: Imagine a word like <em>\"cheesecake\"</em>. Now, I have 100 documents in collection and each document has 10 different fields.<br>\nCan I filter for the word <em>on <strong>all of the fields</em></strong>, so that it returns any document that contains the word <em>\"cheesecake\"</em> in <em>any of the fields</em>, in Flutter?</p>\n"}, {"tags": ["dart", "mockito", "flutter", "flutter-test"], "comments": [{"owner": {"reputation": 1971, "user_id": 1420881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1dc24f3e9583bd1b318d6d91cf515af?s=128&d=identicon&r=PG", "display_name": "mmccabe", "link": "https://stackoverflow.com/users/1420881/mmccabe"}, "edited": false, "score": 0, "creation_date": 1536725401, "post_id": 52277270, "comment_id": 91522482, "body": "I was able to reproduce the problem I think, but could not figure out what was causing it. If not solved, if you post some sample code on github that reproduces the problem I can take another look. Be nice of u could post here how u fix it if u figure it out."}, {"owner": {"reputation": 405, "user_id": 3815630, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c246eccc1ee095c37a0b205902b3fa17?s=128&d=identicon&r=PG&f=1", "display_name": "ssiddh", "link": "https://stackoverflow.com/users/3815630/ssiddh"}, "reply_to_user": {"reputation": 1971, "user_id": 1420881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1dc24f3e9583bd1b318d6d91cf515af?s=128&d=identicon&r=PG", "display_name": "mmccabe", "link": "https://stackoverflow.com/users/1420881/mmccabe"}, "edited": false, "score": 0, "creation_date": 1536725589, "post_id": 52277270, "comment_id": 91522535, "body": "Sure thing, will post some samples tomorrow morning, I am in EST and it is a little late. Thanks a lot for looking into this!"}], "answers": [{"tags": [], "owner": {"reputation": 9865, "user_id": 1383790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dc76f4af9ec383cd18134c6c7f24a6b?s=128&d=identicon&r=PG", "display_name": "Simon", "link": "https://stackoverflow.com/users/1383790/simon"}, "is_accepted": false, "score": 1, "last_activity_date": 1536769256, "creation_date": 1536769256, "answer_id": 52299637, "question_id": 52277270, "link": "https://stackoverflow.com/questions/52277270/flutter-mockito-behaves-weird-when-trying-to-throw-custom-exception/52299637#52299637", "title": "Flutter - Mockito behaves weird when trying to throw custom Exception", "body": "<p>I think you are using the wrong <code>TypeMatcher</code> class. You need to use the one from the testing framework and not the one from the Flutter framework.</p>\n\n<pre><code>import 'package:flutter_test/flutter_test.dart';\nimport 'package:matcher/matcher.dart';\n\nclass AuthorizationException implements Exception {\n  const AuthorizationException();\n}\n\nFuture&lt;List&lt;String&gt;&gt; getNotificationList(int id) async {\n  throw AuthorizationException();\n}\n\nvoid main() {\n  test('getNotification observable gets error on AuthorizationException',\n  () async {\n    expect(getNotificationList(1536333713),\n      throwsA(const TypeMatcher&lt;AuthorizationException&gt;()));\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 405, "user_id": 3815630, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c246eccc1ee095c37a0b205902b3fa17?s=128&d=identicon&r=PG&f=1", "display_name": "ssiddh", "link": "https://stackoverflow.com/users/3815630/ssiddh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1794, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1536769256, "creation_date": 1536673104, "question_id": 52277270, "link": "https://stackoverflow.com/questions/52277270/flutter-mockito-behaves-weird-when-trying-to-throw-custom-exception", "title": "Flutter - Mockito behaves weird when trying to throw custom Exception", "body": "<p>Trying to use Mockito to test my BLoC, the BLoC makes a server call using a repository class and the server call function is supposed to throw a custom exception if the user is not authenticated.</p>\n\n<p>But when I am trying to stub the repository function to throw that custom exception, the test just fails with the following error:</p>\n\n<pre><code>sunapsis Authorization error (test error): test description\n\npackage:mockito/src/mock.dart 342:7                                     PostExpectation.thenThrow.&lt;fn&gt;\npackage:mockito/src/mock.dart 119:37                                    Mock.noSuchMethod\npackage:sunapsis/datasource/models/notifications_repository.dart 28:37  MockNotificationRepository.getNotificationList\npackage:sunapsis/blocs/notification_blocs/notification_bloc.dart 36:10  NotificationBloc.fetchNotifications\ntest/blocs/notification_blocs/notification_bloc_test.dart 53:48         main.&lt;fn&gt;.&lt;fn&gt;.&lt;fn&gt;\n===== asynchronous gap ===========================\ndart:async                                                              scheduleMicrotask\ntest/blocs/notification_blocs/notification_bloc_test.dart 53:7          main.&lt;fn&gt;.&lt;fn&gt;\n</code></pre>\n\n<p>And this is what my BLoC code looks like: <code>fetchNotifications</code> function calls the repository function and handles the response and errors. There are two catchError blocks, one handles AuthorizationException case and other handles any other Exception. Handling AuthorizationException differently because it will be used to set the Login state of the application.  </p>\n\n<p><strong>notification_bloc.dart</strong></p>\n\n<pre><code>import 'dart:async';\n\nimport 'package:logging/logging.dart';\nimport 'package:rxdart/rxdart.dart';\nimport 'package:sunapsis/datasource/dataobjects/notification.dart';\nimport 'package:sunapsis/datasource/models/notifications_repository.dart';\nimport 'package:sunapsis/utils/authorization_exception.dart';\n\nclass NotificationBloc {\n  final NotificationsRepository _notificationsRepository;\n\n  final Logger log = Logger('NotificationBloc');\n  final _listNotifications = PublishSubject&lt;List&lt;NotificationElement&gt;&gt;();\n  final _isEmptyList = PublishSubject&lt;bool&gt;();\n  final _isLoggedIn = PublishSubject&lt;bool&gt;();\n\n  Observable&lt;List&lt;NotificationElement&gt;&gt; get getNotificationList =&gt;\n      _listNotifications.stream;\n\n  Observable&lt;bool&gt; get isLoggedIn =&gt; _isLoggedIn.stream;\n\n  Observable&lt;bool&gt; get isEmptyList =&gt; _isEmptyList.stream;\n\n  NotificationBloc({NotificationsRepository notificationsRepository})\n      : _notificationsRepository =\n            notificationsRepository ?? NotificationsRepository();\n\n  void fetchNotifications() {\n    _notificationsRepository\n        .getNotificationList()\n        .then((List&lt;NotificationElement&gt; list) {\n          if (list.length &gt; 0) {\n            _listNotifications.add(list);\n          } else {\n            _isEmptyList.add(true);\n          }\n        })\n        .catchError((e) =&gt; _handleErrorCase,\n            test: (e) =&gt; e is AuthorizationException)\n        .catchError((e) {\n          log.shout(\"Error occurred while fetching notifications $e\");\n          _listNotifications.sink.addError(\"$e\");\n        });\n  }\n  void _handleErrorCase(e) {\n     log.shout(\"Session invalid: $e\");\n     _isLoggedIn.sink.add(false);\n     _listNotifications.sink.addError(\"Error\");\n }\n}\n</code></pre>\n\n<p>This is what my repository code looks like:</p>\n\n<p><strong>notifications_repository.dart</strong></p>\n\n<pre><code>import 'dart:async';\n\nimport 'package:logging/logging.dart';\nimport 'package:sunapsis/datasource/dataobjects/notification.dart';\nimport 'package:sunapsis/datasource/db/sunapsis_db_provider.dart';\nimport 'package:sunapsis/datasource/network/api_response.dart';\nimport 'package:sunapsis/datasource/network/sunapsis_api_provider.dart';\nimport 'package:sunapsis/utils/authorization_exception.dart';\n\n/// Repository class which makes available all notifications related API functions\n/// for server calls and database calls\nclass NotificationsRepository {\n  final Logger log = Logger('NotificationsRepository');\n  final SunapsisApiProvider apiProvider;\n  final SunapsisDbProvider dbProvider;\n\n  /// Optional [SunapsisApiProvider] and [SunapsisDbProvider] instances expected for unit testing\n  /// If instances are not provided - default case - a new instance is created\n  NotificationsRepository({SunapsisApiProvider api, SunapsisDbProvider db})\n      : apiProvider = api ?? SunapsisApiProvider(),\n        dbProvider = db ?? SunapsisDbProvider();\n\n  /// Returns a [Future] of [List] of [NotificationElement]\n  /// Tries to first look for notifications on the db\n  /// if notifications are found that list is returned\n  /// else a server call is made to fetch notifications\n  Future&lt;List&lt;NotificationElement&gt;&gt; getNotificationList([int currentTime]) {\n    return dbProvider.fetchNotifications().then(\n        (List&lt;NotificationElement&gt; notifications) {\n      if (notifications.length == 0) {\n        return getNotificationsListFromServer(currentTime);\n      }\n      return notifications;\n    }, onError: (_) {\n      return getNotificationsListFromServer(currentTime);\n    });\n  }\n}\n</code></pre>\n\n<p>The function <code>getNotificationsListFromServer</code> is supposed to throw the <code>AuthorizationException</code>, which is supposed to be propagated through <code>getNotificationList</code></p>\n\n<p>This is the test case that is failing with the error mentioned before:</p>\n\n<pre><code>test('getNotification observable gets error on AuthorizationException',\n    () async {\n  when(mockNotificationsRepository.getNotificationList())\n      .thenThrow(AuthorizationException(\"test error\", \"test description\"));\n  scheduleMicrotask(() =&gt; notificationBloc.fetchNotifications());\n  await expectLater(\n      notificationBloc.getNotificationList, emitsError(\"Error\"));\n});\n</code></pre>\n\n<p>And this is what the custom exception looks like:</p>\n\n<p><strong>authorization_exception.dart</strong></p>\n\n<pre><code>class AuthorizationException implements Exception {\n  final String error;\n\n  final String description;\n\n  AuthorizationException(this.error, this.description);\n\n  String toString() {\n    var header = 'sunapsis Authorization error ($error)';\n    if (description != null) {\n      header = '$header: $description';\n    }\n    return '$header';\n  }\n}\n</code></pre>\n\n<p>PS: When I tested my repository class and the function throwing the custom exception those tests were passed.</p>\n\n<pre><code>test('throws AuthorizationException on invalidSession()', () async {\n  when(mockSunapsisDbProvider.fetchNotifications())\n      .thenAnswer((_) =&gt; Future.error(\"Error\"));\n  when(mockSunapsisDbProvider.getCachedLoginSession(1536333713))\n      .thenAnswer((_) =&gt; Future.value(authorization));\n  when(mockSunapsisApiProvider.getNotifications(authHeader))\n      .thenAnswer((_) =&gt; Future.value(ApiResponse.invalidSession()));\n  expect(notificationsRepository.getNotificationList(1536333713),\n      throwsA(TypeMatcher&lt;AuthorizationException&gt;()));\n});\n</code></pre>\n\n<p>Above test passed and works as expected.</p>\n\n<p>I am a new college grad working my first full time role and I might be doing something wrong. I will really appreciate any feedback or help, everything helps. Thanks for looking into this question.</p>\n"}, {"tags": ["dart", "dart-js-interop", "dart-dev-compiler"], "answers": [{"comments": [{"owner": {"reputation": 5724, "user_id": 405481, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2da73993f7541faabba0624fc7acb3fd?s=128&d=identicon&r=PG", "display_name": "Andr&#225;s Szepesh&#225;zi", "link": "https://stackoverflow.com/users/405481/andr%c3%a1s-szepesh%c3%a1zi"}, "edited": false, "score": 1, "creation_date": 1536674018, "post_id": 52277367, "comment_id": 91503007, "body": "Both suggestions worked just great! Awesome. Thanks."}, {"owner": {"reputation": 1559, "user_id": 2354162, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/07Dq3.jpg?s=128&g=1", "display_name": "Standaa - Monica side", "link": "https://stackoverflow.com/users/2354162/standaa-monica-side"}, "edited": false, "score": 1, "creation_date": 1569696943, "post_id": 52277367, "comment_id": 102682692, "body": "If I understand correctly, this implies manually editing the js library. This would require a local copy it if you were importing it in a script tag. Is there any other way that would not require doing so ?"}], "tags": [], "owner": {"reputation": 14105, "user_id": 4231909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NbwgO.jpg?s=128&g=1", "display_name": "Jonah Williams", "link": "https://stackoverflow.com/users/4231909/jonah-williams"}, "is_accepted": true, "score": 3, "last_activity_date": 1536683868, "last_edit_date": 1536683868, "creation_date": 1536673364, "answer_id": 52277367, "question_id": 52276662, "link": "https://stackoverflow.com/questions/52276662/using-dart-js-interop-with-es6-classes/52277367#52277367", "title": "Using Dart JS interop with ES6 classes", "body": "<p>Normally JS interop would rely on function hoisting to ensure that an old-style JS class was in scope. ES6 classes however aren't hoisted and aren't available where Dart expects them to be. There are several different ways you can make the class available to Dart:</p>\n\n<h3>Placing the class object on the window</h3>\n\n<p>This places the class in the same scope that a function definition would be hoisted to. In JavaScript:</p>\n\n<pre><code>class MyClass { ... }\n\nwindow.MyClass = MyClass;\n</code></pre>\n\n<h3>Creating a module object</h3>\n\n<p>You can also place the class in a sort of pseudo module or namespace. In JavaScript:</p>\n\n<pre><code>class MyClass { ... }\nvar myModule = { MyClass: MyClass };\n</code></pre>\n\n<p>Which is then accessible at <code>myModule.myClass</code> in Dart:</p>\n\n<pre><code>@JS('myModule.myClass')\nclass MyClass { ... }\n</code></pre>\n"}], "owner": {"reputation": 5724, "user_id": 405481, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2da73993f7541faabba0624fc7acb3fd?s=128&d=identicon&r=PG", "display_name": "Andr&#225;s Szepesh&#225;zi", "link": "https://stackoverflow.com/users/405481/andr%c3%a1s-szepesh%c3%a1zi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 779, "favorite_count": 0, "accepted_answer_id": 52277367, "answer_count": 1, "score": 1, "last_activity_date": 1536683868, "creation_date": 1536671153, "question_id": 52276662, "link": "https://stackoverflow.com/questions/52276662/using-dart-js-interop-with-es6-classes", "title": "Using Dart JS interop with ES6 classes", "body": "<p>JavaSscript:</p>\n\n<pre><code>class MyClass {\n\n    constructor() {\n        console.log(\"MyClass instance created\");\n        this.answer = 42;\n    }\n}\n\nlet example = new MyClass();\nconsole.log(example.answer);\n</code></pre>\n\n<p>Dart:</p>\n\n<pre><code>@JS()\nlibrary interop_test;\n\nimport 'package:js/js.dart';\n\n@JS()\nclass MyClass {\n  external int get answer;\n  external set answer(int value);\n}\n</code></pre>\n\n<p>Creating an instance of the the interop class <code>MyClass</code> as </p>\n\n<pre><code>MyClass myClass = MyClass();\n</code></pre>\n\n<p>results in:</p>\n\n<blockquote>\n  <p>EXCEPTION: TypeError: dart.global.MyClass is not a constructor</p>\n</blockquote>\n\n<p>I've also tried to add a <code>external MyClass();</code> and <code>external factory MyClass();</code> to the <code>@JS()</code> annotated class, but got the same message. If I add <code>@anonymous</code> annotation to the interop class, the exception goes away, but I can't access instance members. (But I don't see why this would need the anonymous annotation)</p>\n\n<p>I'm using <code>dart 2.0.0</code>, <code>angular 5.0.0</code>, <code>js 0.6.1+1</code> and <code>dartdevc</code> through <code>webdev</code>.</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 2217, "user_id": 8506648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uE5Mc.jpg?s=128&g=1", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/8506648/sebastian"}, "is_accepted": false, "score": 1, "last_activity_date": 1536675371, "creation_date": 1536675371, "answer_id": 52278016, "question_id": 52276659, "link": "https://stackoverflow.com/questions/52276659/flutter-floatingbutton-overlap-bottomnavigation-bar-item/52278016#52278016", "title": "flutter Floatingbutton overlap bottomnavigation bar item", "body": "<p><code>BottomAppBar</code> can have a notch along the top that makes room for an overlapping FloatingActionButton.</p>\n\n<p>You should use <code>BottomNavigationBar</code> instead of <code>BottomAppBar</code> and the floating action button will be placed above the navigation bar</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 13926616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d78eafbcede66edc011399d6b6d17db9?s=128&d=identicon&r=PG&f=1", "display_name": "Vaibhav", "link": "https://stackoverflow.com/users/13926616/vaibhav"}, "is_accepted": false, "score": 1, "last_activity_date": 1601364795, "creation_date": 1601364795, "answer_id": 64114876, "question_id": 52276659, "link": "https://stackoverflow.com/questions/52276659/flutter-floatingbutton-overlap-bottomnavigation-bar-item/64114876#64114876", "title": "flutter Floatingbutton overlap bottomnavigation bar item", "body": "<p>try this</p>\n<pre><code>@override\nWidget build(BuildContext context) {\n    return Scaffold(\n\n  body: PageStorage(\n    child: currentScreen,\n    bucket: bucket,\n  ),\n\n  floatingActionButton: FloatingActionButton(\n    child: Icon(Icons.all_inclusive),\n    tooltip: 'Increment',\n    elevation: 2.0,\n    backgroundColor: Colors.purple[900],\n    onPressed: (){\n\n\n      setState(() {\n        currentScreen=Profile();\n        currentTab = 0;\n      },\n      );\n    },\n\n  ),\n\n  floatingActionButtonLocation: FloatingActionButtonLocation.centerDocked,\n  bottomNavigationBar: BottomAppBar(\n\n    notchMargin: 7,\n    shape: CircularNotchedRectangle(),\n\n    child: Container(\n      // color: Colors.black12,\n      // color: Colors.deepPurple[500],\n        height: 60,\n        child: Row(\n      mainAxisSize: MainAxisSize.max,\n          mainAxisAlignment: MainAxisAlignment.spaceBetween,\n          children: &lt;Widget&gt;[\n            Row(\n\n              crossAxisAlignment: CrossAxisAlignment.center,\n              children: &lt;Widget&gt;[\n                MaterialButton(\n\n                  // minWidth: 40,\n                  onPressed: (){\n                    setState(() {\n                      currentScreen=Profile();\n                      currentTab = 0;\n                    },\n                    );\n                  },\n                  child: Column(\n                    mainAxisAlignment: MainAxisAlignment.center,\n                    children: &lt;Widget&gt;[\n                      Icon(Icons.group,color: currentTab ==0 ? Colors.blue:Colors.grey[500]),\n                      Text('Profile',style: TextStyle(color: currentTab ==0 ? Colors.blue:Colors.grey[500],\n                      ),\n                      )\n                    ],\n                  ),\n                ),\n                MaterialButton(\n                  // minWidth: 40,\n                  onPressed: (){\n                    setState(() {\n                      currentScreen=About();\n                      currentTab = 2;\n                    },);\n                  },\n                  child: Column(\n                    mainAxisAlignment: MainAxisAlignment.center,\n                    children: &lt;Widget&gt;[\n                      Icon(Icons.perm_contact_calendar,color: currentTab ==2 ? Colors.blue:Colors.grey[500]),\n                      Text('Contact',style: TextStyle(color: currentTab ==2 ? Colors.blue:Colors.grey[500]),\n                      ),\n                    ],\n                  ),\n                )\n              ],\n            ),\n            // SizedBox(width: 48,),\n            Row(\n              // mainAxisSize: MainAxisSize.max,\n              crossAxisAlignment: CrossAxisAlignment.center,\n              children: &lt;Widget&gt;[\n                MaterialButton(\n                  // minWidth: 40,\n                  onPressed: (){\n                    setState(() {\n                      currentScreen=About();\n                      currentTab = 1;\n                    },);\n                  },\n                  child: Column(\n                    mainAxisAlignment: MainAxisAlignment.center,\n                    children: &lt;Widget&gt;[\n                      Icon(Icons.info_outline,color: currentTab ==1 ? Colors.blue:Colors.grey[500]),\n                      Text('About',style: TextStyle(color: currentTab ==1 ? Colors.blue:Colors.grey[500],\n                      ),\n                      )\n                    ],\n                  ),\n                ),\n                MaterialButton(\n                  // minWidth: 40,\n                  onPressed: (){\n                    setState(() {\n                      currentScreen=Noti();\n                      currentTab = 3;\n                    },);\n                  },\n                  child: Column(\n                    mainAxisAlignment: MainAxisAlignment.center,\n                    children: &lt;Widget&gt;[\n                      Icon(Icons.notifications,color: currentTab ==3 ? Colors.blue:Colors.grey[500]),\n                      Text('Notification',style: TextStyle(color: currentTab ==3 ? Colors.blue:Colors.grey[500],\n                      ),\n                      )\n                    ],\n                  ),\n                ),\n              ],\n            )\n\n          ],\n        )\n    ),\n\n  ),\n\n\n);\n</code></pre>\n<p>}</p>\n<p>I have just created <strong>2 different rows</strong> for items in bottomnav bar</p>\n<p>i.e. <strong>one from left and one from right</strong> that's it</p>\n<p><a href=\"https://i.stack.imgur.com/5cHKg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5cHKg.jpg\" alt=\"enter image description here\" /></a></p>\n"}], "owner": {"reputation": 117, "user_id": 5084949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f206e3d01ed4b1d720bd31b77c398af1?s=128&d=identicon&r=PG&f=1", "display_name": "user5084949", "link": "https://stackoverflow.com/users/5084949/user5084949"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1257, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1601364795, "creation_date": 1536671146, "question_id": 52276659, "link": "https://stackoverflow.com/questions/52276659/flutter-floatingbutton-overlap-bottomnavigation-bar-item", "title": "flutter Floatingbutton overlap bottomnavigation bar item", "body": "<p>how to set padding on bottombar with floating button. floatingbutton is overlaping tbottom bar item.</p>\n\n<pre><code>return new Scaffold(\n      appBar: AppBar(title: const Text('Bottom App Bar')),\n      floatingActionButtonLocation: FloatingActionButtonLocation.endDocked,\n      floatingActionButton: FloatingActionButton(\n        child: const Icon(Icons.add),\n        backgroundColor: Colors.red,\n        onPressed: () {},\n      ),\n      bottomNavigationBar: BottomAppBar(\n        shape: CircularNotchedRectangle(),\n        notchMargin: 5.0,\n        elevation: 5.0,\n        child: new BottomNavigationBar(\n            type: BottomNavigationBarType.fixed,\n            items: [\n          BottomNavigationBarItem(\n            icon: new Icon(Icons.home),\n            title: new Text('Home'),\n          ),\n          BottomNavigationBarItem(\n            icon: new Icon(Icons.mail),\n            title: new Text('Messages'),\n          ),\n          BottomNavigationBarItem(\n            icon: new Icon(Icons.mail),\n            title: new Text('Messages'),\n          ),\n        ]),\n      ),\n    );\n</code></pre>\n\n<p>here is a example. thank you for your help\n<a href=\"https://i.stack.imgur.com/jMUdm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jMUdm.png\" alt=\"flutter image\"></a></p>\n\n<p>please help!</p>\n"}, {"tags": ["dictionary", "asynchronous", "foreach", "dart", "async-await"], "answers": [{"comments": [{"owner": {"reputation": 861, "user_id": 1103688, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/iwxq2.jpg?s=128&g=1", "display_name": "Vijay Kumar Kanta", "link": "https://stackoverflow.com/users/1103688/vijay-kumar-kanta"}, "edited": false, "score": 0, "creation_date": 1536671576, "post_id": 52276702, "comment_id": 91501231, "body": "Hmmm ok, looks like it&#39;ll work, but I require both key and value, the reason why I had to use a map in the first place."}, {"owner": {"reputation": 14105, "user_id": 4231909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NbwgO.jpg?s=128&g=1", "display_name": "Jonah Williams", "link": "https://stackoverflow.com/users/4231909/jonah-williams"}, "reply_to_user": {"reputation": 861, "user_id": 1103688, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/iwxq2.jpg?s=128&g=1", "display_name": "Vijay Kumar Kanta", "link": "https://stackoverflow.com/users/1103688/vijay-kumar-kanta"}, "edited": false, "score": 0, "creation_date": 1536671755, "post_id": 52276702, "comment_id": 91501372, "body": "Edited - the entry gives you the key and the value. If you have requirements like that it is easier to give them in your question then later in comments"}, {"owner": {"reputation": 861, "user_id": 1103688, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/iwxq2.jpg?s=128&g=1", "display_name": "Vijay Kumar Kanta", "link": "https://stackoverflow.com/users/1103688/vijay-kumar-kanta"}, "edited": false, "score": 1, "creation_date": 1536671907, "post_id": 52276702, "comment_id": 91501496, "body": "Yep, I am new to dart and Flutter, and also the myMap should actually be myMap.entries in your code. Thanks, it worked."}], "tags": [], "owner": {"reputation": 14105, "user_id": 4231909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NbwgO.jpg?s=128&g=1", "display_name": "Jonah Williams", "link": "https://stackoverflow.com/users/4231909/jonah-williams"}, "is_accepted": true, "score": 25, "last_activity_date": 1536672210, "last_edit_date": 1536672210, "creation_date": 1536671306, "answer_id": 52276702, "question_id": 52276412, "link": "https://stackoverflow.com/questions/52276412/how-to-avoid-using-await-key-in-dart-map-by-foreach-function/52276702#52276702", "title": "How to avoid using await key in dart Map by foreach function", "body": "<p>Use a for loop over <a href=\"https://api.dartlang.org/stable/2.0.0/dart-core/Map/entries.html\" rel=\"noreferrer\">Map.entries</a> instead of forEach. Provided you are in an async function, await-ing in the body of a for loop will pause the iteration. The entry object will also allow you to access both the key and value.</p>\n\n<pre><code>Future&lt;void&gt; myFunction() async {\n  for (var entry in myMap.entries) {\n    await myAsyncFunction(entry.key, entry.value);\n  }\n  callFunc();\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 861, "user_id": 1103688, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/iwxq2.jpg?s=128&g=1", "display_name": "Vijay Kumar Kanta", "link": "https://stackoverflow.com/users/1103688/vijay-kumar-kanta"}, "edited": false, "score": 0, "creation_date": 1536673288, "post_id": 52276919, "comment_id": 91502426, "body": "Thanks for answer. However I got what I required from the selected answer. Cheers!"}, {"owner": {"reputation": 5932, "user_id": 3016654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f841e106c58a9e27aa79fcb686607c9a?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei T\u0103tar", "link": "https://stackoverflow.com/users/3016654/andrei-t%c4%83tar"}, "reply_to_user": {"reputation": 861, "user_id": 1103688, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/iwxq2.jpg?s=128&g=1", "display_name": "Vijay Kumar Kanta", "link": "https://stackoverflow.com/users/1103688/vijay-kumar-kanta"}, "edited": false, "score": 3, "creation_date": 1536673399, "post_id": 52276919, "comment_id": 91502513, "body": "@VijayKumarKanta You&#39;re welcome. Keep in mind the result is slightly different. While my answer starts all the async work at once and awaits for all at the end, the other answer starts each one and awaits it before starting the next one."}, {"owner": {"reputation": 861, "user_id": 1103688, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/iwxq2.jpg?s=128&g=1", "display_name": "Vijay Kumar Kanta", "link": "https://stackoverflow.com/users/1103688/vijay-kumar-kanta"}, "edited": false, "score": 0, "creation_date": 1536818089, "post_id": 52276919, "comment_id": 91561992, "body": "I think your solution is a bit nicer and performance effective. I think it should be used instead. However Im not changing answer selection though. Thanks a lot!"}, {"owner": {"reputation": 5932, "user_id": 3016654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f841e106c58a9e27aa79fcb686607c9a?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei T\u0103tar", "link": "https://stackoverflow.com/users/3016654/andrei-t%c4%83tar"}, "reply_to_user": {"reputation": 861, "user_id": 1103688, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/iwxq2.jpg?s=128&g=1", "display_name": "Vijay Kumar Kanta", "link": "https://stackoverflow.com/users/1103688/vijay-kumar-kanta"}, "edited": false, "score": 0, "creation_date": 1537013170, "post_id": 52276919, "comment_id": 91634962, "body": "No problem. Wasn&#39;t asking to :)"}], "tags": [], "owner": {"reputation": 5932, "user_id": 3016654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f841e106c58a9e27aa79fcb686607c9a?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei T\u0103tar", "link": "https://stackoverflow.com/users/3016654/andrei-t%c4%83tar"}, "is_accepted": false, "score": 7, "last_activity_date": 1536672042, "creation_date": 1536672042, "answer_id": 52276919, "question_id": 52276412, "link": "https://stackoverflow.com/questions/52276412/how-to-avoid-using-await-key-in-dart-map-by-foreach-function/52276919#52276919", "title": "How to avoid using await key in dart Map by foreach function", "body": "<p>You could also use <code>map</code> like:</p>\n\n<pre><code>const futures = myMap.map((a, b) =&gt; myAsyncFunc());\nawait Future.wait(futures);\ncallFunc();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2398, "user_id": 6717610, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209019804184982/picture?type=large", "display_name": "Samet &#214;ZTOPRAK", "link": "https://stackoverflow.com/users/6717610/samet-%c3%96ztoprak"}, "is_accepted": false, "score": 1, "last_activity_date": 1554986366, "creation_date": 1554986366, "answer_id": 55632756, "question_id": 52276412, "link": "https://stackoverflow.com/questions/52276412/how-to-avoid-using-await-key-in-dart-map-by-foreach-function/55632756#55632756", "title": "How to avoid using await key in dart Map by foreach function", "body": "<p>entries used in extract Maplist from HashMap.</p>\n\n<pre><code> products.entries.forEach((e) {\n  var key = e.key;\n  var values = e.value;\n    double sum = 0;\n    values.forEach((value) =&gt; sum += value[PlanogramShelf.SHELF_FULL]);\n    target.add(OrdinalSales(\n        key, double.parse((sum / valueslength).toStringAsFixed(2))));\n  });\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23322, "user_id": 1675568, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b40691ae252834b2792b6a838b80962?s=128&d=identicon&r=PG", "display_name": "tomrozb", "link": "https://stackoverflow.com/users/1675568/tomrozb"}, "edited": false, "score": 0, "creation_date": 1583393855, "post_id": 58502152, "comment_id": 107102505, "body": "This should be accepted answer as it does use forEach instead of for loop. Thanks Jordan!"}], "tags": [], "owner": {"reputation": 91, "user_id": 12256720, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAjH6HRQHnOPr0a0CAAl8ai4Q-qM34errkOzxGSLPE=k-s128", "display_name": "Jordan Alcaraz", "link": "https://stackoverflow.com/users/12256720/jordan-alcaraz"}, "is_accepted": false, "score": 9, "last_activity_date": 1571739832, "creation_date": 1571739832, "answer_id": 58502152, "question_id": 52276412, "link": "https://stackoverflow.com/questions/52276412/how-to-avoid-using-await-key-in-dart-map-by-foreach-function/58502152#58502152", "title": "How to avoid using await key in dart Map by foreach function", "body": "<p>You can also use Future.forEach with a map like this :</p>\n\n<pre><code>await Future.forEach(myMap.entries, (MapEntry entry) async {\n  await myAsyncFunc();          \n});\ncallFunc();\n</code></pre>\n"}], "owner": {"reputation": 861, "user_id": 1103688, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/iwxq2.jpg?s=128&g=1", "display_name": "Vijay Kumar Kanta", "link": "https://stackoverflow.com/users/1103688/vijay-kumar-kanta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6029, "favorite_count": 3, "accepted_answer_id": 52276702, "answer_count": 4, "score": 9, "last_activity_date": 1571994237, "creation_date": 1536670292, "last_edit_date": 1571994237, "question_id": 52276412, "link": "https://stackoverflow.com/questions/52276412/how-to-avoid-using-await-key-in-dart-map-by-foreach-function", "title": "How to avoid using await key in dart Map by foreach function", "body": "<p>So, I have a map which has to do with some asynchronous processing using the items inside. I used the forEach loop construct and inside the callback is designed to be async because I call an await inside the iteration body</p>\n\n<pre><code>myMap.forEach((a, b) { await myAsyncFunc(); } );\ncallFunc();\n</code></pre>\n\n<p>I need the callFunc() to be called after all the items have been iterated. But the forEach exits immediately. Help!</p>\n"}, {"tags": ["multithreading", "loops", "flutter", "dart", "dart-isolates"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536670517, "post_id": 52276338, "comment_id": 91500476, "body": "How many images do you convert? Have you tried to wrap <code>resize</code> in <code>try</code>/<code>catch</code> and print the error? Have you tried setting a breakpoint? Perhaps you are just not awaiting async execution and the code completed correctly, but just the result is not available?"}, {"owner": {"reputation": 861, "user_id": 1103688, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/iwxq2.jpg?s=128&g=1", "display_name": "Vijay Kumar Kanta", "link": "https://stackoverflow.com/users/1103688/vijay-kumar-kanta"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536670829, "post_id": 52276338, "comment_id": 91500719, "body": "Yes resize is within try-catch, and I am gracefully handling error there. The issue is with isolate. I am not enclosing that within try-catch as it sounded odd, and no the log I created doesn&#39;t give success message on completion which happens without isolate (but with jank and stutter)."}], "owner": {"reputation": 861, "user_id": 1103688, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/iwxq2.jpg?s=128&g=1", "display_name": "Vijay Kumar Kanta", "link": "https://stackoverflow.com/users/1103688/vijay-kumar-kanta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1572342003, "creation_date": 1536670092, "last_edit_date": 1572342003, "question_id": 52276338, "link": "https://stackoverflow.com/questions/52276338/using-compute-to-convert-images-in-different-thread-kills-isolate", "title": "Using compute() to convert images in different thread kills isolate", "body": "<p>Basically I used an isolate to convert a changeable number of image files from a system directory using the Image package and the Foundation Isolate.</p>\n\n<pre><code>await compute(xyzFunc, abcArg);\n</code></pre>\n\n<p>The function which does the things will take the list of image paths in the arguments</p>\n\n<pre><code>xyzFunc(abcArg) {\n    for(String path in abcArg) {\n        resize(path);\n</code></pre>\n\n<p>This will go until some point and throws an error of main() spawn exited with some error. The isolate was killed. There's no indication of any message anywhere. Need help in this.<code>enter code here</code></p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536669916, "post_id": 52276158, "comment_id": 91500066, "body": "Where does <code>http.</code> from <code>http.post</code> come from? Please add the import to your question."}, {"owner": {"reputation": 191, "user_id": 10314536, "user_type": "registered", "profile_image": "https://graph.facebook.com/1874478459313620/picture?type=large", "display_name": "Archu Mohan", "link": "https://stackoverflow.com/users/10314536/archu-mohan"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536670003, "post_id": 52276158, "comment_id": 91500121, "body": "i just used  void upload() async  method"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536670012, "post_id": 52276158, "comment_id": 91500128, "body": "Where does <code>files</code> come from?"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536670036, "post_id": 52276158, "comment_id": 91500150, "body": "&quot; just used void upload() async method&quot;, sorry, no idea what that means."}, {"owner": {"reputation": 191, "user_id": 10314536, "user_type": "registered", "profile_image": "https://graph.facebook.com/1874478459313620/picture?type=large", "display_name": "Archu Mohan", "link": "https://stackoverflow.com/users/10314536/archu-mohan"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536670101, "post_id": 52276158, "comment_id": 91500192, "body": "this  method is working for without using a image ,,, but when i upload image only this error occurs"}, {"owner": {"reputation": 191, "user_id": 10314536, "user_type": "registered", "profile_image": "https://graph.facebook.com/1874478459313620/picture?type=large", "display_name": "Archu Mohan", "link": "https://stackoverflow.com/users/10314536/archu-mohan"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536670141, "post_id": 52276158, "comment_id": 91500220, "body": "file is the camera picking image"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536670302, "post_id": 52276158, "comment_id": 91500322, "body": "But your code uses <code>files</code> not <code>file</code>"}, {"owner": {"reputation": 191, "user_id": 10314536, "user_type": "registered", "profile_image": "https://graph.facebook.com/1874478459313620/picture?type=large", "display_name": "Archu Mohan", "link": "https://stackoverflow.com/users/10314536/archu-mohan"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536670601, "post_id": 52276158, "comment_id": 91500555, "body": "files only sorry"}, {"owner": {"reputation": 2000, "user_id": 7448506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zAGx9.jpg?s=128&g=1", "display_name": "Kirollos Morkos", "link": "https://stackoverflow.com/users/7448506/kirollos-morkos"}, "edited": false, "score": 0, "creation_date": 1536731437, "post_id": 52276158, "comment_id": 91524147, "body": "I think what you&#39;re looking for is a MultiPartRequest which will accept files. Check out this link: <a href=\"https://docs.flutter.io/flutter/package-http_http/MultipartRequest-class.html\" rel=\"nofollow noreferrer\">docs.flutter.io/flutter/package-http_http/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 191, "user_id": 10314536, "user_type": "registered", "profile_image": "https://graph.facebook.com/1874478459313620/picture?type=large", "display_name": "Archu Mohan", "link": "https://stackoverflow.com/users/10314536/archu-mohan"}, "edited": false, "score": 0, "creation_date": 1536670639, "post_id": 52276406, "comment_id": 91500588, "body": "Try executing <code>flutter clean</code> in the project directory and then try again."}, {"owner": {"reputation": 191, "user_id": 10314536, "user_type": "registered", "profile_image": "https://graph.facebook.com/1874478459313620/picture?type=large", "display_name": "Archu Mohan", "link": "https://stackoverflow.com/users/10314536/archu-mohan"}, "edited": false, "score": 0, "creation_date": 1536670707, "post_id": 52276406, "comment_id": 91500634, "body": "when i used log for file message will be :"}, {"owner": {"reputation": 191, "user_id": 10314536, "user_type": "registered", "profile_image": "https://graph.facebook.com/1874478459313620/picture?type=large", "display_name": "Archu Mohan", "link": "https://stackoverflow.com/users/10314536/archu-mohan"}, "edited": false, "score": 0, "creation_date": 1536670713, "post_id": 52276406, "comment_id": 91500639, "body": "File: &#39;/storage/emulated/0/Android/data/com.example.myapp/files/Pi&zwnj;&#8203;ctures/2798d03d-2c6b&zwnj;&#8203;-4f80-8198-94866dfc4&zwnj;&#8203;59620281032216801962&zwnj;&#8203;42.jpg&#39;"}, {"owner": {"reputation": 191, "user_id": 10314536, "user_type": "registered", "profile_image": "https://graph.facebook.com/1874478459313620/picture?type=large", "display_name": "Archu Mohan", "link": "https://stackoverflow.com/users/10314536/archu-mohan"}, "edited": false, "score": 0, "creation_date": 1536671835, "post_id": 52276406, "comment_id": 91501435, "body": "now its return type &#39;List&lt;String&gt;&#39; is not a subtype of type &#39;String&#39; in type cast"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 191, "user_id": 10314536, "user_type": "registered", "profile_image": "https://graph.facebook.com/1874478459313620/picture?type=large", "display_name": "Archu Mohan", "link": "https://stackoverflow.com/users/10314536/archu-mohan"}, "edited": false, "score": 0, "creation_date": 1536672031, "post_id": 52276406, "comment_id": 91501590, "body": "Please provide more complete information. What line does cause this error? Perhaps you want just <code>fileContentBase64</code> instead of <code>[fileContentBase64]</code>. I assumed a list because of plural <code>files</code> you used in your question."}, {"owner": {"reputation": 191, "user_id": 10314536, "user_type": "registered", "profile_image": "https://graph.facebook.com/1874478459313620/picture?type=large", "display_name": "Archu Mohan", "link": "https://stackoverflow.com/users/10314536/archu-mohan"}, "edited": false, "score": 0, "creation_date": 1536728679, "post_id": 52276406, "comment_id": 91523295, "body": "Future getImage() async {     var image = await ImagePicker.pickImage(source: ImageSource.camera);     setState(() {       files = image;     });   }"}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 1, "last_activity_date": 1536670271, "creation_date": 1536670271, "answer_id": 52276406, "question_id": 52276158, "link": "https://stackoverflow.com/questions/52276158/file-is-not-a-subtype-of-type-string-in-type-cast/52276406#52276406", "title": "&#39;_File&#39; is not a subtype of type &#39;String&#39; in type cast", "body": "<p><code>files</code> in your code looks like plural, but your code doesn't show details.</p>\n\n<p>This is the code to get a single file and this is sent as an array where more than one entry can be added\n<code>[fileContentBase64]</code> or <code>[file1ContentBase64, file2ContentBase64, file3ContentBase64]</code></p>\n\n<pre><code>import 'dart:convert';\n\n...\nvar fileContent = file.readAsBytesSync();\nvar fileContentBase64 = base64.encode(fileContent); \n\nvar response = await http.post(\"http://206.189.92.174:4000/API/Posts/Cube_Post_Submit\",\n\n    body :\n       {\n        'attachments' : [fileContentBase64] ,\n       'User_Id' : \"5acc5d6e1295332c28f7e205\",\n       'Cubes_Id' : jsonstring,\n       'Post_Text' : \"hello\",\n       'Post_Category' : \"Story\",\n       'Post_Link': \"\"\n       }\n    );\n   print(response.body);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 453, "user_id": 10018291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f3IUh.jpg?s=128&g=1", "display_name": "Preet Shah", "link": "https://stackoverflow.com/users/10018291/preet-shah"}, "is_accepted": false, "score": 0, "last_activity_date": 1613660986, "creation_date": 1613660986, "answer_id": 66262667, "question_id": 52276158, "link": "https://stackoverflow.com/questions/52276158/file-is-not-a-subtype-of-type-string-in-type-cast/66262667#66262667", "title": "&#39;_File&#39; is not a subtype of type &#39;String&#39; in type cast", "body": "<p>You can use the detailed example <a href=\"https://dev.to/carminezacc/advanced-flutter-networking-part-1-uploading-a-file-to-a-rest-api-from-flutter-using-a-multi-part-form-data-post-request-2ekm\" rel=\"nofollow noreferrer\">here</a> that will help you achieve your goals.</p>\n"}], "owner": {"reputation": 191, "user_id": 10314536, "user_type": "registered", "profile_image": "https://graph.facebook.com/1874478459313620/picture?type=large", "display_name": "Archu Mohan", "link": "https://stackoverflow.com/users/10314536/archu-mohan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3775, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1613660986, "creation_date": 1536669545, "last_edit_date": 1536669848, "question_id": 52276158, "link": "https://stackoverflow.com/questions/52276158/file-is-not-a-subtype-of-type-string-in-type-cast", "title": "&#39;_File&#39; is not a subtype of type &#39;String&#39; in type cast", "body": "<p>When I try to upload a image to server from Flutter, this error occurres. I don't know how to pass the file to HTTP POSST method, but I took the image and got the file path using the <code>image_picker</code> plugin.</p>\n\n<p>my file path is </p>\n\n<blockquote>\n  <p>:I/flutter ( 9123): File:\n  '/storage/emulated/0/Android/data/com.example.myapp/files/Pictures/2798d03d-2c6b-4f80-8198-94866dfc45962028103221680196242.jpg'</p>\n</blockquote>\n\n<p>my POST method is like ;</p>\n\n<pre><code>var response = await \n\nhttp.post(\"http://206.189.92.174:4000/API/Posts/Cube_Post_Submit\",\n\n    body :\n       {\n        'attachments' : files ,\n       'User_Id' : \"5acc5d6e1295332c28f7e205\",\n       'Cubes_Id' : jsonstring,\n       'Post_Text' : \"hello\",\n       'Post_Category' : \"Story\",\n       'Post_Link': \"\"\n       }\n    );\n   print(response.body);\n</code></pre>\n\n<p>error will be like this :</p>\n\n<blockquote>\n  <p>[ERROR:flutter/shell/common/shell.cc(181)] Dart Error: Unhandled\n  exception: E/flutter ( 9123): type '_File' is not a subtype of type\n  'String' in type cast E/flutter ( 9123): #0      Object._as\n  (dart:core/runtime/libobject_patch.dart:74:25) E/flutter ( 9123): #1<br>\n  CastMap.forEach. (dart:_internal/cast.dart:323:25)\n  E/flutter ( 9123): #2<br>\n  __InternalLinkedHashMap&amp;_HashVMBase&amp;MapMixin&amp;_LinkedHashMapMixin.forEach\n  (dart:collection/runtime/libcompact_hash.dart:365:8) E/flutter (\n  9123): #3      CastMap.forEach (dart:_internal/cast.dart:322:13)</p>\n</blockquote>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 339, "user_id": 6081174, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/3oeRb.jpg?s=128&g=1", "display_name": "Maulik", "link": "https://stackoverflow.com/users/6081174/maulik"}, "edited": false, "score": 0, "creation_date": 1566279567, "post_id": 52275940, "comment_id": 101595442, "body": "But what if I am on another screen and then back it to TabBar screen that time I want to switch tab ? [ for ex. : I have two tabs &quot;One&quot; and &quot;Two&quot; if I pressed on tab Two then it navigates to another screen and then from this screen when I do back-press then I want to show tab &quot;Two&quot; not tab &quot;One&quot; ? ]"}], "tags": [], "owner": {"reputation": 24384, "user_id": 7814783, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/WmVpD.jpg?s=128&g=1", "display_name": "Vamsi Krishna", "link": "https://stackoverflow.com/users/7814783/vamsi-krishna"}, "is_accepted": true, "score": 1, "last_activity_date": 1536668910, "creation_date": 1536668910, "answer_id": 52275940, "question_id": 52274920, "link": "https://stackoverflow.com/questions/52274920/flutter-set-tabindex-using-backbutton-function-like-in-twitter-with-bottomnavig/52275940#52275940", "title": "Flutter: set tabindex using Backbutton function like in twitter with bottomnavigationbar?", "body": "<p>Yes it can be done using <a href=\"https://docs.flutter.io/flutter/material/TabController-class.html\" rel=\"nofollow noreferrer\">TabController</a>. It has a method <a href=\"https://docs.flutter.io/flutter/material/TabController/animateTo.html\" rel=\"nofollow noreferrer\"><code>animateTo()</code></a> which can be used in the <code>onWillPop</code> callback of the <a href=\"https://docs.flutter.io/flutter/widgets/WillPopScope-class.html\" rel=\"nofollow noreferrer\">WillPopScope</a> widget.</p>\n\n<p>Here is an example implementation</p>\n\n<pre><code>class HomePage extends StatefulWidget {\n  @override\n  HomePageState createState() {\n    return new HomePageState();\n  }\n}\n\nclass HomePageState extends State&lt;HomePage&gt;\n    with SingleTickerProviderStateMixin {\n  List&lt;Widget&gt; _tabs = &lt;Widget&gt;[\n    Icon(Icons.directions_car),\n    Icon(Icons.directions_transit),\n    Icon(Icons.directions_bike),\n  ];\n  TabController _tabController;\n\n  initState() {\n    super.initState();\n    _tabController = TabController(length: _tabs.length, vsync: this);\n  }\n\n   @override  \n   dispose(){\n      _tabController.dispose();\n      super.dispose();\n\n\n   }\n  @override\n  Widget build(BuildContext context) {\n    return WillPopScope(\n      onWillPop: () {\n        _tabController.animateTo(0);\n      },\n      child: Scaffold(\n        appBar: AppBar(\n          bottom: TabBar(\n            controller: _tabController,\n            tabs: [\n              Tab(icon: Icon(Icons.directions_car)),\n              Tab(icon: Icon(Icons.directions_transit)),\n              Tab(icon: Icon(Icons.directions_bike)),\n            ],\n          ),\n          title: Text('Tabs Demo'),\n        ),\n        body: TabBarView(\n          controller: _tabController,\n          children: _tabs.toList(),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 203, "user_id": 10040349, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gqlFZoOM8-0/AAAAAAAAAAI/AAAAAAAAACQ/yx4fyhe4PFQ/photo.jpg?sz=128", "display_name": "user10040349", "link": "https://stackoverflow.com/users/10040349/user10040349"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 375, "favorite_count": 0, "accepted_answer_id": 52275940, "answer_count": 1, "score": 0, "last_activity_date": 1536668910, "creation_date": 1536665554, "question_id": 52274920, "link": "https://stackoverflow.com/questions/52274920/flutter-set-tabindex-using-backbutton-function-like-in-twitter-with-bottomnavig", "title": "Flutter: set tabindex using Backbutton function like in twitter with bottomnavigationbar?", "body": "<p>is it possible to use OnWillpopScope to be like the twitter app when your in a different tab when you press back it returns home or the tabindex gets or sets to zero.</p>\n"}, {"tags": ["flutter", "dart", "flutter-animation"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1536664717, "post_id": 52274511, "comment_id": 91496655, "body": "for the second case, this could be helpful: <a href=\"https://docs.flutter.io/flutter/scheduler/timeDilation.html\" rel=\"nofollow noreferrer\">timeDilation</a>, more <a href=\"https://flutter.io/debugging/#debugging-animations\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 18691, "user_id": 2461957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba93508b1cdbe37fd102cff4982e0d47?s=128&d=identicon&r=PG", "display_name": "boformer", "link": "https://stackoverflow.com/users/2461957/boformer"}, "edited": false, "score": 1, "creation_date": 1536677789, "post_id": 52274511, "comment_id": 91505508, "body": "Why not just record a video from the emulator, or even the real device?"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1536729062, "post_id": 52274511, "comment_id": 91523387, "body": "but in general. if you want those frames you should probably see <a href=\"https://docs.flutter.io/flutter/rendering/rendering-library.html\" rel=\"nofollow noreferrer\">rendering library</a>"}, {"owner": {"reputation": 2509, "user_id": 3649297, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rcDDf.jpg?s=128&g=1", "display_name": "Bolein95", "link": "https://stackoverflow.com/users/3649297/bolein95"}, "edited": false, "score": 0, "creation_date": 1572800413, "post_id": 52274511, "comment_id": 103664514, "body": "@John did you find a solution?"}], "answers": [{"comments": [{"owner": {"reputation": 189, "user_id": 4209887, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-H6P2wOTKlh8/AAAAAAAAAAI/AAAAAAAAA8o/lRQ05FqyQCU/photo.jpg?sz=128", "display_name": "Purvik Rana", "link": "https://stackoverflow.com/users/4209887/purvik-rana"}, "edited": false, "score": 0, "creation_date": 1616409034, "post_id": 65368700, "comment_id": 117983549, "body": "Can I have info, how <code>fileWriterFutures</code> has been defined?"}, {"owner": {"reputation": 106, "user_id": 13168253, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBMUvrxLHp_gp2XaF-Slh7Wq3YiZLitXFI8Ub9BVQ=k-s128", "display_name": "Erik W. Development", "link": "https://stackoverflow.com/users/13168253/erik-w-development"}, "reply_to_user": {"reputation": 189, "user_id": 4209887, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-H6P2wOTKlh8/AAAAAAAAAAI/AAAAAAAAA8o/lRQ05FqyQCU/photo.jpg?sz=128", "display_name": "Purvik Rana", "link": "https://stackoverflow.com/users/4209887/purvik-rana"}, "edited": false, "score": 0, "creation_date": 1616500163, "post_id": 65368700, "comment_id": 118015831, "body": "@PurvikRana It&#39;s just a list of <code>Future&lt;File&gt;</code>, <code>List&lt;Future&lt;File&gt;&gt; fileWriterFutures = [];</code>. I think <code>List&lt;Future&lt;void&gt;&gt; fileWriterFutures = [];</code> works as well."}, {"owner": {"reputation": 189, "user_id": 4209887, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-H6P2wOTKlh8/AAAAAAAAAAI/AAAAAAAAA8o/lRQ05FqyQCU/photo.jpg?sz=128", "display_name": "Purvik Rana", "link": "https://stackoverflow.com/users/4209887/purvik-rana"}, "edited": false, "score": 0, "creation_date": 1616506208, "post_id": 65368700, "comment_id": 118018802, "body": "Ok. Let me try with this."}], "tags": [], "owner": {"reputation": 106, "user_id": 13168253, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBMUvrxLHp_gp2XaF-Slh7Wq3YiZLitXFI8Ub9BVQ=k-s128", "display_name": "Erik W. Development", "link": "https://stackoverflow.com/users/13168253/erik-w-development"}, "is_accepted": false, "score": 5, "last_activity_date": 1616656465, "last_edit_date": 1616656465, "creation_date": 1608372888, "answer_id": 65368700, "question_id": 52274511, "link": "https://stackoverflow.com/questions/52274511/render-flutter-animation-directly-to-video/65368700#65368700", "title": "Render Flutter animation directly to video", "body": "<p>It's not pretty, but I have managed to get a prototype working.\nFirstly, all animations need to be powered by a single main animation controller so that we can step through to any part of the animation we want. Secondly, the widget tree that we want to record has to be wrapped inside a <code>RepaintBoundary</code> with a global key. The RepaintBoundary and it's key can produce snapshots of the widget tree as such:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>Future&lt;Uint8List&gt; _capturePngToUint8List() async {\n    // renderBoxKey is the global key of my RepaintBoundary\n    RenderRepaintBoundary boundary = renderBoxKey.currentContext.findRenderObject(); \n    \n    // pixelratio allows you to render it at a higher resolution than the actual widget in the application.\n    ui.Image image = await boundary.toImage(pixelRatio: 2.0);\n    ByteData byteData = await image.toByteData(format: ui.ImageByteFormat.png);\n    Uint8List pngBytes = byteData.buffer.asUint8List();\n\n    return pngBytes;\n  }\n</code></pre>\n<p>The above method can then be used inside a loop which captures the widget tree into pngBytes, and steps the animationController forward by a deltaT specified by the framerate you want as such:</p>\n<pre><code>double t = 0;\nint i = 1;\n\nsetState(() {\n  animationController.value = 0.0;\n});\n\nMap&lt;int, Uint8List&gt; frames = {};\ndouble dt = (1 / 60) / animationController.duration.inSeconds.toDouble();\n\nwhile (t &lt;= 1.0) {\n  print(&quot;Rendering... ${t * 100}%&quot;);\n  var bytes = await _capturePngToUint8List();\n  frames[i] = bytes;\n\n  t += dt;\n  setState(() {\n    animationController.value = t;\n  });\n  i++;\n}\n</code></pre>\n<p>Finally, all these png frames can be piped into an ffmpeg subprocess to be written into a video.\nI haven't managed to get this part working nicely yet, so what I've done instead is write out all the png-frames into actual png files and I then manually run ffmpeg inside the folder where they are written. (Note: I've used flutter desktop to be able to access my installation of ffmpeg, but there is <a href=\"https://pub.dev/packages/flutter_ffmpeg\" rel=\"nofollow noreferrer\">a package on pub.dev to get ffmpeg on mobile too</a>)</p>\n<pre class=\"lang-dart prettyprint-override\"><code>List&lt;Future&lt;File&gt;&gt; fileWriterFutures = [];\n\nframes.forEach((key, value) {\n  fileWriterFutures.add(_writeFile(bytes: value, location: r&quot;D:\\path\\to\\my\\images\\folder\\&quot; + &quot;frame_$key.png&quot;));\n});\n\nawait Future.wait(fileWriterFutures);\n\n_runFFmpeg();\n</code></pre>\n<p>Here is my file-writer help-function:</p>\n<pre><code>Future&lt;File&gt; _writeFile({@required String location, @required Uint8List bytes}) async {\n  File file = File(location);\n  return file.writeAsBytes(bytes);\n}\n</code></pre>\n<p>And here is my FFmpeg runner function:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>void _runFFmpeg() async {\n  // ffmpeg -y -r 60 -start_number 1 -i frame_%d.png -c:v libx264 -preset medium -tune animation -pix_fmt yuv420p test.mp4\n  var process = await Process.start(\n      &quot;ffmpeg&quot;,\n      [\n        &quot;-y&quot;, // replace output file if it already exists\n        &quot;-r&quot;, &quot;60&quot;, // framrate\n        &quot;-start_number&quot;, &quot;1&quot;,\n        &quot;-i&quot;, r&quot;./test/frame_%d.png&quot;, // &lt;- Change to location of images\n        &quot;-an&quot;, // don't expect audio\n        &quot;-c:v&quot;, &quot;libx264rgb&quot;, // H.264 encoding\n        &quot;-preset&quot;, &quot;medium&quot;,\n        &quot;-crf&quot;,\n        &quot;10&quot;, // Ranges 0-51 indicates lossless compression to worst compression. Sane options are 0-30\n        &quot;-tune&quot;, &quot;animation&quot;,\n        &quot;-preset&quot;, &quot;medium&quot;,\n        &quot;-pix_fmt&quot;, &quot;yuv420p&quot;,\n        r&quot;./test/test.mp4&quot; // &lt;- Change to location of output\n      ],\n      mode: ProcessStartMode.inheritStdio // This mode causes some issues at times, so just remove it if it doesn't work. I use it mostly to debug the ffmpeg process' output\n   );\n\n  print(&quot;Done Rendering&quot;);\n}\n</code></pre>\n"}], "owner": {"reputation": 1145, "user_id": 10346978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772aedb26cf606dc3f18612cc13f2df0?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/10346978/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1282, "favorite_count": 6, "answer_count": 1, "score": 10, "last_activity_date": 1616656465, "creation_date": 1536664080, "last_edit_date": 1596782890, "question_id": 52274511, "link": "https://stackoverflow.com/questions/52274511/render-flutter-animation-directly-to-video", "title": "Render Flutter animation directly to video", "body": "<p>Considering that Flutter uses its own graphics engine, is there a way to render Flutter animations directly to video, or create screenshots in a frame by frame fashion? </p>\n\n<p>One use case would be that this allows easier demonstration for the audience. </p>\n\n<p>For example, an author wants to create a Flutter animation tutorial, where they builds a demo app and writes a companion blog post, using the animation GIF/videos rendered directly with Flutter.</p>\n\n<p>Another example would be one developer outside the UI team discovers a complex animation has tiny mistake in it. Without actually learning the animation code, they can render the animation into a video and edit that short clip with annotations, then send it to the UI team for diagnoses.</p>\n"}, {"tags": ["scope", "dart", "angular-dart", "angular-material-stepper"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536657239, "post_id": 52272510, "comment_id": 91492223, "body": "&quot;is a template, it creates its own scope&quot; - but <code>{{form.valid}}</code> is part of the same template. It&#39;s a while I worked with Angular but this sounds weird."}, {"owner": {"reputation": 1, "user_id": 10346288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd279464a25bc63272fed6c5aef68dc5?s=128&d=identicon&r=PG&f=1", "display_name": "Rik Bellens", "link": "https://stackoverflow.com/users/10346288/rik-bellens"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536671098, "post_id": 52272510, "comment_id": 91500907, "body": "The <code>{{form.valid}}</code> is indeed in the same scope, that is not the problem and behaves as expected, but the <code>[canContinue]=&quot;form.valid&quot;</code> on the template tag has a different scope."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536671831, "post_id": 52272510, "comment_id": 91501428, "body": "I see. I&#39;d use a shared service that you provide in the component that contains above markup and add a component or directive to the <code>&lt;template&gt;</code> that injects that service and communicates from the template with the parent using that service. The parent that provides the service needs also to inject it so that both communication ends have a reference to the same service instance. The service can use a stream to allow one (or both) party to emit events and the other to subscribe to them."}, {"owner": {"reputation": 1, "user_id": 10346288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd279464a25bc63272fed6c5aef68dc5?s=128&d=identicon&r=PG&f=1", "display_name": "Rik Bellens", "link": "https://stackoverflow.com/users/10346288/rik-bellens"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536848554, "post_id": 52272510, "comment_id": 91578915, "body": "thanks, that could work."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10346288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd279464a25bc63272fed6c5aef68dc5?s=128&d=identicon&r=PG&f=1", "display_name": "Rik Bellens", "link": "https://stackoverflow.com/users/10346288/rik-bellens"}, "edited": false, "score": 0, "creation_date": 1537172295, "post_id": 52338892, "comment_id": 91671030, "body": "Don&#39;t think that is the problem. I haven&#39;t found a way to access the form from within the component after everything has been rendered either, unless I am missing something. Gunter&#39;s suggestion works, but maybe is not the most elegant solution for all cases (you need quite some extra code). On the other hand it fits nicely with a BLoC architecture."}], "tags": [], "owner": {"reputation": 1821, "user_id": 7711920, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-04zzMRK9qvE/AAAAAAAAAAI/AAAAAAAABHQ/tjs-Q8LOBQc/photo.jpg?sz=128", "display_name": "Ted Sander", "link": "https://stackoverflow.com/users/7711920/ted-sander"}, "is_accepted": false, "score": 1, "last_activity_date": 1536957081, "creation_date": 1536957081, "answer_id": 52338892, "question_id": 52272510, "link": "https://stackoverflow.com/questions/52272510/how-to-access-a-form-inside-a-material-step-template-in-angulardart/52338892#52338892", "title": "How to access a form inside a material step template in AngularDart?", "body": "<p>The way that templates work is that the components aren't instantiated until they are needed. In this case you are asking for the state of a form before the form is added to the component tree.</p>\n\n<p>In terms of what you could do I suggest following Gunter's answer in the comments:</p>\n\n<blockquote>\n  <p>I'd use a shared service that you provide in the component that\n  contains above markup and add a component or directive to the\n   that injects that service and communicates from the\n  template with the parent using that service. The parent that provides\n  the service needs also to inject it so that both communication ends\n  have a reference to the same service instance. The service can use a\n  stream to allow one (or both) party to emit events and the other to\n  subscribe to them.</p>\n</blockquote>\n"}], "owner": {"reputation": 1, "user_id": 10346288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd279464a25bc63272fed6c5aef68dc5?s=128&d=identicon&r=PG&f=1", "display_name": "Rik Bellens", "link": "https://stackoverflow.com/users/10346288/rik-bellens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1536957081, "creation_date": 1536657033, "question_id": 52272510, "link": "https://stackoverflow.com/questions/52272510/how-to-access-a-form-inside-a-material-step-template-in-angulardart", "title": "How to access a form inside a material step template in AngularDart?", "body": "<p>I am trying to combine a <code>material-stepper</code> with a form in AngularDart. The continue button from the material-stepper should be disabled as long as some required inputs are missing from the form. When the form is completed, the continue button should trigger a submit on the form.</p>\n\n<p>However, as the step is a template, it creates its own scope and the reference to <code>form</code> cannot be used outside this scope. Therefore, the following code will not compile with error <code>The getter 'form' isn't defined for the class...</code>. </p>\n\n<pre><code>&lt;material-stepper&gt;\n    &lt;template step\n          name=\"Personal data\"\n          (continue)=\"form.submit()\"\n          [canContinue]=\"form.valid\"\n    &gt;\n        &lt;form #form=\"ngForm\"&gt;\n            &lt;material-input required\n                            label=\"Name\"\n                            ngControl=\"name\"\n            &gt;&lt;/material-input&gt;\n        &lt;/form&gt;\n        form complete: {{form.valid}}\n    &lt;/template&gt;\n&lt;/material-stepper&gt;\n</code></pre>\n\n<p>Is there another way to access the form or another solution to accomplish the same behavior?</p>\n"}, {"tags": ["dart", "angular-dart"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536656815, "post_id": 52272426, "comment_id": 91491940, "body": "Some code example would make it easier to understand."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536656895, "post_id": 52272426, "comment_id": 91491997, "body": "You should be able to inject <code>AppBar</code> to <code>Authenticator</code> if you change <code>visibility</code> of <code>AppBar</code>, but the right approach would probably be to move that function you want to use to a service instead."}, {"owner": {"reputation": 1, "user_id": 10346421, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209637586416863/picture?type=large", "display_name": "Amaury Astier", "link": "https://stackoverflow.com/users/10346421/amaury-astier"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536657633, "post_id": 52272426, "comment_id": 91492473, "body": "You&#39;re right, I updated so it&#39;s easier to see, the function I try to use is setIcon. I don&#39;t know anything about visibility of a component, what is it? You mean making a dependency injection of AppBar inside Authenticator ?"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536658488, "post_id": 52272426, "comment_id": 91493002, "body": "If you register components as providers, instances of the components plain class are created (without the component part). This is hardly ever what you want. A provider for a component makes only sense if you want a &quot;redirecting&quot; provider (<code>useClass</code>). What you want is to change <code>visibility</code> of the component you want to inject. The injector knows about parent components automatically if visibility is not hidden."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536658515, "post_id": 52272426, "comment_id": 91493024, "body": "<a href=\"https://webdev.dartlang.org/api/angular/angular/Visibility-class\" rel=\"nofollow noreferrer\">webdev.dartlang.org/api/angular/angular/Visibility-class</a>"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536658557, "post_id": 52272426, "comment_id": 91493052, "body": "I still suggest using a shared service for communication between components that are not direct parent/child (where you can&#39;t use template bindings)"}, {"owner": {"reputation": 1, "user_id": 10346421, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209637586416863/picture?type=large", "display_name": "Amaury Astier", "link": "https://stackoverflow.com/users/10346421/amaury-astier"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536661340, "post_id": 52272426, "comment_id": 91494766, "body": "This shared communication service seems a good idea, do you have any example I could look into ? thanks for your help by the way, really appreciate it."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536661595, "post_id": 52272426, "comment_id": 91494888, "body": "No, but I&#39;d expect webdev.dartlang.org to provide some. If you&#39;re stuck I&#39;d suggest to just ask again (a more focused question) here on SO."}, {"owner": {"reputation": 1, "user_id": 10346421, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209637586416863/picture?type=large", "display_name": "Amaury Astier", "link": "https://stackoverflow.com/users/10346421/amaury-astier"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536661966, "post_id": 52272426, "comment_id": 91495088, "body": "Alright no problem, will do :) Thanks again."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536662075, "post_id": 52272426, "comment_id": 91495161, "body": "Just a correction from above &quot;redirecting&quot; provider (<code>useClass</code>).&quot; should have been <code>useExisting</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1821, "user_id": 7711920, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-04zzMRK9qvE/AAAAAAAAAAI/AAAAAAAABHQ/tjs-Q8LOBQc/photo.jpg?sz=128", "display_name": "Ted Sander", "link": "https://stackoverflow.com/users/7711920/ted-sander"}, "is_accepted": false, "score": 0, "last_activity_date": 1536955598, "last_edit_date": 1592644375, "creation_date": 1536955598, "answer_id": 52338620, "question_id": 52272426, "link": "https://stackoverflow.com/questions/52272426/use-a-class-function-from-a-nested-component-without-output-property/52338620#52338620", "title": "Use a class function from a nested component without @Output property", "body": "<p>This answer is from the comments. Gunter answered it correctly, but moving it here for others:</p>\n<blockquote>\n<p>You should be able to inject AppBar to Authenticator if you change visibility of AppBar, but the right approach would probably be to move that function you want to use to a service instead.</p>\n<p>What you want is to change visibility of the component you want to inject. The injector knows about parent components automatically if visibility is not hidden.</p>\n</blockquote>\n"}], "owner": {"reputation": 1, "user_id": 10346421, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209637586416863/picture?type=large", "display_name": "Amaury Astier", "link": "https://stackoverflow.com/users/10346421/amaury-astier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1536955598, "creation_date": 1536656778, "last_edit_date": 1536657462, "question_id": 52272426, "link": "https://stackoverflow.com/questions/52272426/use-a-class-function-from-a-nested-component-without-output-property", "title": "Use a class function from a nested component without @Output property", "body": "<p>Does anyone know how to use a class's instantiation (and not create another instance) from a nested component inside of this very class ?</p>\n\n<p>To be clearer : I have a component and class named AppBar that contains a component Authenticator and I'd like to use an Appbar's function inside of the Authenticator (kind of returning a value to the AppBar without using @Output property). And the trick is to keep the AppBar to only one instance because otherwise I get a null exception since the component isn't being instantiate properly and is not the same as the one that contains the Authenticator. I hope I'm clear, otherwise I'll try my best to explain it better. </p>\n\n<p>Thanks by advance.</p>\n\n<p>Here is the AppBar Class</p>\n\n<pre><code>import 'dart:html';\n\nimport 'package:angular/angular.dart';\nimport 'package:angular_components/angular_components.dart';\nimport 'package:angular_components/app_layout/material_persistent_drawer.dart';\nimport 'package:angular_components/content/deferred_content.dart';\nimport 'package:angular_components/material_button/material_button.dart';\nimport 'package:angular_components/material_icon/material_icon.dart';\nimport 'package:angular_components/material_list/material_list.dart';\nimport 'package:angular_components/material_list/material_list_item.dart';\nimport 'package:angular_components/material_toggle/material_toggle.dart';\nimport 'package:angular_forms/angular_forms.dart';\n\nimport '../../utils/init/authenticator.dart';\n\n@Component(\n  selector: 'app_bar',\n  templateUrl: 'app_bar.html',\n  styleUrls: ['package:angular_components/app_layout/layout.scss.css',\n    'app_bar.css'\n  ],\n  directives: [\n    Authenticator,\n    coreDirectives,\n    formDirectives,\n  ],providers: [\n    ClassProvider(Authenticator),\n],\n)\n\nclass AppBar implements OnInit{\n\n  HtmlElement avatar = querySelector(\"#avatar\");\n\n  @ViewChild('myAuthenticator')\n  Authenticator authenticator;\n\n    //This is the function to use from the nested component\n  setIcon(String text,String email) {\n    avatar.setAttribute(\"src\",text);\n    avatar.setAttribute(\"title\",email);\n\n\n  }\n\n  void ngOnInit(){\n\n  }\n\n}\n</code></pre>\n\n<p>And here is the Authenticator one :</p>\n\n<pre><code>import 'dart:async';\nimport 'dart:html';\n\nimport 'package:angular/angular.dart';\nimport 'package:googleapis/plus/v1.dart';\nimport \"package:googleapis_auth/auth_browser.dart\";\n\nimport '../../components/app_bar/app_bar.dart';\n\n@Component(\n  selector: 'authenticator',\n  templateUrl: 'authenticator.html',\n  styleUrls: [],\n  directives: [\n    AppBar,\n    coreDirectives,\n  ],\n  providers: [\n    ClassProvider(AppBar),\n  ],\n)\n\nclass Authenticator implements OnInit{\n\n  Person loggedUser;\n\n  @override\n  void ngOnInit(){\n    log.info(\"Initialisation of the Authenticator\");\n      ...\n  }\n\n...\n...\n\n  Future&lt;Person&gt; initUser(AutoRefreshingAuthClient client) async {\n    Person person = await auth.getPlusUser(client);\n    if (person != null) {\n      printAccountEmailInfo(person);\n      loggedUser = person;\n        //This is where the AppBar shouldn't be re-created but use the same as the one from the directives\n      AppBar().setIcon(person.image.url,auth.getPlusAccountEmail(person).value);\n    }\n    return person;\n  }\n\n}\n</code></pre>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 18158, "user_id": 3293914, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fPAnb.jpg?s=128&g=1", "display_name": "Dan Field", "link": "https://stackoverflow.com/users/3293914/dan-field"}, "edited": false, "score": 0, "creation_date": 1598463099, "post_id": 52272131, "comment_id": 112470075, "body": "This isn&#39;t possible today, unless you decode all the frames into individual images yourself."}, {"owner": {"reputation": 4290, "user_id": 6915572, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/M0NbN.jpg?s=128&g=1", "display_name": "Shubhamhackz", "link": "https://stackoverflow.com/users/6915572/shubhamhackz"}, "edited": false, "score": 0, "creation_date": 1611383790, "post_id": 52272131, "comment_id": 116438913, "body": "Workaround : <a href=\"https://stackoverflow.com/a/65822669/6915572\">stackoverflow.com/a/65822669/6915572</a>"}], "owner": {"reputation": 1551, "user_id": 8406063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rp2Gy.jpg?s=128&g=1", "display_name": "axel blaze", "link": "https://stackoverflow.com/users/8406063/axel-blaze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1360, "favorite_count": 0, "answer_count": 0, "score": 5, "last_activity_date": 1536655716, "creation_date": 1536655716, "question_id": 52272131, "link": "https://stackoverflow.com/questions/52272131/how-can-we-control-animated-gif-image-using-button", "title": "How can we control animated gif image using button?", "body": "<p>I want to control the gif animation by clicking the button i.e., If I pressed the 'click me' button animation start and again pressing animation should stop.  I am taking reference for this question <a href=\"https://stackoverflow.com/questions/46519260/how-to-display-an-animated-picture-in-flutter#\">How to display an animated picture in Flutter? \n</a><br>\nI don't want to split the gif images into frames, I have to use only one gif image and control only that. Here is my code.</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() {\n  runApp(new MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      home: new MyHomePage(),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  @override\n  State createState() =&gt; new MyHomePageState();\n}\n\nclass MyHomePageState extends State&lt;MyHomePage&gt; with TickerProviderStateMixin {\n  AnimationController _controller;\n  Animation&lt;int&gt; _animation;\n\n  @override\n  void initState() {\n    _controller = new AnimationController(\n        vsync: this, duration: const Duration(seconds: 3))\n      ..stop();\n    _animation = new IntTween(begin: 0, end: 7).animate(_controller);\n  }\n\n  @override\n  void dispose() {\n    _controller.dispose();\n    super.dispose();\n  }\n\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      body: new Column(\n        mainAxisAlignment: MainAxisAlignment.center,\n        children: &lt;Widget&gt;[\n          new AnimatedBuilder(\n            animation: _animation,\n            builder: (BuildContext context, Widget child) {\n              String frame = _animation.value.toString().padLeft(0, '0');\n              return new Image.asset(\n                'assets/lips.gif',\n                gaplessPlayback: true,\n              );\n            },\n          ),\n          new RaisedButton(\n            child: new Text('click me'),\n            onPressed: () {\n              if (_controller.isAnimating) {\n                _controller.stop();\n              } else {\n                _controller.repeat();\n              }\n            },\n          ),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/V6Kn1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/V6Kn1.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/cZBdN.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/cZBdN.gif\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536652141, "post_id": 52271069, "comment_id": 91489383, "body": "You need to create a custom TextEditingController and pass it to the TextField. Ensure the controller won&#39;t be recreated on each build by keeping the instance outside of the build method."}, {"owner": {"reputation": 5835, "user_id": 7334184, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HfhsA3j-Ocs/AAAAAAAAAAI/AAAAAAAAACs/ujQDfoNtLvA/photo.jpg?sz=128", "display_name": "Ammy Kang", "link": "https://stackoverflow.com/users/7334184/ammy-kang"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536652477, "post_id": 52271069, "comment_id": 91489557, "body": "I&#39;ve created controller and initialised it, and assigned it to <code>TextFormField</code> as <code>controller: _textEdititingController,</code> but it doesn&#39;t seem to make any difference."}, {"owner": {"reputation": 4118, "user_id": 5189745, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9KVgR-blq7M/AAAAAAAAAAI/AAAAAAAAB8s/fy6ZAPen-_c/photo.jpg?sz=128", "display_name": "Hadrien Lejard", "link": "https://stackoverflow.com/users/5189745/hadrien-lejard"}, "edited": false, "score": 0, "creation_date": 1536653362, "post_id": 52271069, "comment_id": 91490024, "body": "Do you have the example with the controller ?"}, {"owner": {"reputation": 5835, "user_id": 7334184, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HfhsA3j-Ocs/AAAAAAAAAAI/AAAAAAAAACs/ujQDfoNtLvA/photo.jpg?sz=128", "display_name": "Ammy Kang", "link": "https://stackoverflow.com/users/7334184/ammy-kang"}, "edited": false, "score": 0, "creation_date": 1536654046, "post_id": 52271069, "comment_id": 91490391, "body": "I din understand, what example? , let me edit my question for the code that I&#39;ve added for controller."}], "answers": [{"tags": [], "owner": {"reputation": 5000, "user_id": 3487611, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a9d779ea596b2de17e9a9b1466a63bf9?s=128&d=identicon&r=PG", "display_name": "Albert Lardizabal", "link": "https://stackoverflow.com/users/3487611/albert-lardizabal"}, "is_accepted": false, "score": 0, "last_activity_date": 1536683224, "creation_date": 1536683224, "answer_id": 52280378, "question_id": 52271069, "link": "https://stackoverflow.com/questions/52271069/textformfield-is-not-working-properly-its-blinking-continuously/52280378#52280378", "title": "TextFormField is not working properly, its blinking continuously", "body": "<p>I added a floating action button that presents a dialog that will show what you entered into the <code>TextField</code> (using the controller). I'm not sure what form key you were passing in before but making the <code>GlobalKey</code> instance a member variable eliminates the keyboard present/dismiss issue.</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Flutter Demo',\n      theme: ThemeData(\n        primarySwatch: Colors.blue,\n      ),\n      home: MyHomePage(title: 'Flutter Demo'),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  MyHomePage({Key key, this.title}) : super(key: key);\n  final String title;\n\n  @override\n  _MyHomePageState createState() =&gt; _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  String language;\n  TextEditingController _textEditingController;\n  final _formKey = GlobalKey&lt;FormState&gt;();\n\n  @override\n  void initState() {\n    _textEditingController =\n        TextEditingController(); //Initialised TextEditingController\n    super.initState();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    final theme = Theme.of(context);\n    final Size size = MediaQuery.of(context).size;\n\n    final formData = Form(\n      key: _formKey,\n      child: Container(\n        padding: const EdgeInsets.only(left: 35.0, right: 35.0),\n        child: Column(\n          children: &lt;Widget&gt;[\n            Theme(\n              data: theme.copyWith(primaryColor: Colors.black54),\n              child: TextFormField(\n                  controller: _textEditingController,\n                  //ADDED CONTROLLER HERE\n                  style: const TextStyle(color: Colors.black54),\n                  decoration: InputDecoration(\n                      labelText: 'Amount',\n                      labelStyle: const TextStyle(color: Colors.black54)),\n                  // validator: this._validateEmail,\n                  validator: (val) {\n                    return val.isEmpty ? \"Please enter amount\" : null;\n                  },\n                  onSaved: (String value) {\n                    // this._data.email = value;\n                    language = value;\n                  }),\n            ),\n          ],\n        ),\n      ),\n    );\n    return Scaffold(\n      appBar: AppBar(\n        leading: null,\n        title: const Text(\n          'Send Money',\n          style: const TextStyle(color: Colors.white),\n        ),\n      ),\n      body: Container(\n        color: Colors.grey[300],\n        child: ListView(\n          children: &lt;Widget&gt;[\n            Container(\n                child: Column(\n              children: &lt;Widget&gt;[\n                Container(\n                  height: 60.0,\n                  padding: const EdgeInsets.all(5.0),\n                  child: Card(\n                    child: Row(\n                      children: &lt;Widget&gt;[\n                        Padding(\n                          padding: const EdgeInsets.only(left: 8.0),\n                          child: Text(\n                            \"Available  balance  in  wallet\",\n                            style: TextStyle(\n                                color: Colors.black54, fontSize: 16.0),\n                          ),\n                        ),\n                        Padding(\n                          padding: const EdgeInsets.only(left: 8.0),\n                          child: Text(\n                            \"123 KSH\",\n                            style: TextStyle(\n                                color: Colors.blueAccent, fontSize: 16.0),\n                          ),\n                        ),\n                      ],\n                    ),\n                  ),\n                ),\n                Container(\n                  //height: 300.0,\n                  padding: const EdgeInsets.all(5.0),\n                  child: Card(\n                    child: Container(\n                      child: Center(\n                        child: Column(\n                          children: &lt;Widget&gt;[formData],\n                        ),\n                      ),\n                    ),\n                  ),\n                )\n              ],\n            )),\n          ],\n        ),\n      ),\n      floatingActionButton: FloatingActionButton(\n        // When the user presses the button, show an alert dialog with the\n        // text the user has typed into our text field.\n        onPressed: () {\n          return showDialog(\n            context: context,\n            builder: (context) {\n              return AlertDialog(\n                // Retrieve the text the user has typed in using our\n                // TextEditingController\n                content: Text(_textEditingController.text),\n              );\n            },\n          );\n        },\n        tooltip: 'Show me the value!',\n        child: Icon(Icons.text_fields),\n      ),\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 5835, "user_id": 7334184, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HfhsA3j-Ocs/AAAAAAAAAAI/AAAAAAAAACs/ujQDfoNtLvA/photo.jpg?sz=128", "display_name": "Ammy Kang", "link": "https://stackoverflow.com/users/7334184/ammy-kang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 601, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1536683224, "creation_date": 1536651916, "last_edit_date": 1536654184, "question_id": 52271069, "link": "https://stackoverflow.com/questions/52271069/textformfield-is-not-working-properly-its-blinking-continuously", "title": "TextFormField is not working properly, its blinking continuously", "body": "<p>TextFormField is not working properly, its blinking continuously and it doesn't allow me to write anything, as I tap on the TextFormField my keyboard appears for a second and disappear instantly. I am confused what wrong I have done with my code, I've matched my code with previous working code, but still getting this behaviour .</p>\n\n<p>Here is my code. </p>\n\n<pre><code>class ComingSoonState extends State&lt;ComingSoon&gt; {\n\nString language;\n\n  TextEditingController _textEdititingController ;\n\n@override\nvoid initState() {\n_textEdititingController = new TextEditingController(); //Initialised TextEditingController\nsuper.initState();\n}\n\n@override\nWidget build(BuildContext context) {\nfinal theme = Theme.of(context);\nfinal Size size = MediaQuery.of(context).size;\n\nfinal formData = new Form(\n  key: widget._formKey,\n  child: new Container(\n    padding: const EdgeInsets.only(\n        left: 35.0,\n        right: 35.0),\n    child: new Column(\n\n      children: &lt;Widget&gt;[\n\n\n        new Theme(\n          data: theme.copyWith(primaryColor: Colors.black54),\n          child: new TextFormField(\n              controller: _textEdititingController, //ADDED CONTROLLER HERE\n              style: const TextStyle(color: Colors.black54),\n              decoration: new InputDecoration(\n\n                  labelText: 'Amount',\n                  labelStyle: const TextStyle(color: Colors.black54)\n              ),\n              // validator: this._validateEmail,\n              validator: (val) {\n                return val.isEmpty\n                    ? \"Please enter amount\"\n                    : null;\n              },\n              onSaved: (String value) {\n                // this._data.email = value;\n                this.language = value;\n              }\n          ),\n        ),\n\n\n\n      ],\n    ),\n  ),\n);\nreturn Scaffold(\n\n  appBar: new AppBar(\n    leading: null,\n    title: const Text('Send Money', style: const TextStyle(\n        color: Colors.white\n    ),\n\n    ),\n  ),\n  body: new Container(\n\n    color: Colors.grey[300],\n    child: new ListView(\n      children: &lt;Widget&gt;[\n        new Container(\n            child: new Column(\n              children: &lt;Widget&gt;[\n                new Container(\n                  height: 60.0 ,\n                  padding: const EdgeInsets.all(5.0),\n                  child: new Card(\n                    child: new Row(\n                      children: &lt;Widget&gt;[\n                        Padding(\n                          padding: const EdgeInsets.only(left: 8.0),\n                          child: new Text(\"Available  balance  in  wallet\", style:\n                          new TextStyle(color: Colors.black54,\n                              fontSize: 16.0\n                          ),),\n                        ),\n                        Padding(\n                          padding: const EdgeInsets.only(left: 8.0),\n                          child: new Text(\"123 KSH\", style:\n                          new TextStyle(color: Colors.blueAccent,\n                              fontSize: 16.0\n                          ),),\n                        ),\n\n                      ],\n                    ),\n                  ),\n                ) ,\n\n                new Container(\n                  //height: 300.0,\n                  padding: const EdgeInsets.all(5.0),\n                  child: new Card(\n                    child: new Container(\n                      child: new Center(\n                        child: new Column(\n                          children: &lt;Widget&gt;[\n\n                            formData\n                          ],\n                        ),\n                      ),\n                    ),\n                  ),\n                )\n              ],\n            )\n        ),\n      ],\n    ),\n  ),\n);\n}\n}\n</code></pre>\n"}, {"tags": ["sqlite", "firebase", "dart", "flutter"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1536647898, "post_id": 52268815, "comment_id": 91487291, "body": "<a href=\"https://firebase.google.com/docs/storage\" rel=\"nofollow noreferrer\">firebase.google.com/docs/storage</a> is made for that."}], "answers": [{"comments": [{"owner": {"reputation": 510, "user_id": 9985489, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-s4mdA2Brgvg/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq2xEI4s7RZCO4gaZiSbUPPebmTnHA/mo/photo.jpg?sz=128", "display_name": "Coder", "link": "https://stackoverflow.com/users/9985489/coder"}, "edited": false, "score": 0, "creation_date": 1536641779, "post_id": 52268851, "comment_id": 91485167, "body": "Do you know how I can store videos as files and store the path to the file in the database? I think I would go with Firebase so please tell me how to do this."}, {"owner": {"reputation": 31155, "user_id": 4744514, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RQ2Np.jpg?s=128&g=1", "display_name": "MikeT", "link": "https://stackoverflow.com/users/4744514/miket"}, "reply_to_user": {"reputation": 510, "user_id": 9985489, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-s4mdA2Brgvg/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq2xEI4s7RZCO4gaZiSbUPPebmTnHA/mo/photo.jpg?sz=128", "display_name": "Coder", "link": "https://stackoverflow.com/users/9985489/coder"}, "edited": false, "score": 0, "creation_date": 1536641940, "post_id": 52268851, "comment_id": 91485213, "body": "Sorry I&#39;ve never used Firebase. Storing the path is just a matter of storing is as a string in a column that can store strings (nearly any column in SQLite)."}, {"owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "reply_to_user": {"reputation": 510, "user_id": 9985489, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-s4mdA2Brgvg/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq2xEI4s7RZCO4gaZiSbUPPebmTnHA/mo/photo.jpg?sz=128", "display_name": "Coder", "link": "https://stackoverflow.com/users/9985489/coder"}, "edited": false, "score": 0, "creation_date": 1536649366, "post_id": 52268851, "comment_id": 91487982, "body": "@Coder See G&#252;nter Z&#246;chbauer comment above: Cloud Storage for Firebase <a href=\"https://firebase.google.com/docs/storage/\" rel=\"nofollow noreferrer\">firebase.google.com/docs/storage</a> and <code>getDownloadURL</code> method to get the path (<a href=\"https://firebase.google.com/docs/reference/js/firebase.storage.Reference#getDownloadURL\" rel=\"nofollow noreferrer\">firebase.google.com/docs/reference/js/&hellip;</a>)."}], "tags": [], "owner": {"reputation": 31155, "user_id": 4744514, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RQ2Np.jpg?s=128&g=1", "display_name": "MikeT", "link": "https://stackoverflow.com/users/4744514/miket"}, "is_accepted": true, "score": 1, "last_activity_date": 1536641824, "last_edit_date": 1536641824, "creation_date": 1536641394, "answer_id": 52268851, "question_id": 52268815, "link": "https://stackoverflow.com/questions/52268815/which-is-better-for-adding-videos-firebase-or-sqlite/52268851#52268851", "title": "Which is better for adding videos? Firebase or Sqlite", "body": "<p>Unless the videos were really short then you wouldn't store them in a database. You would store them as files and store the path to the file in the database.</p>\n\n<p>SQLite would be better if the data in the database is device specific and thus needed no syncing with other devices. </p>\n\n<p>Firebase could be the choice if syncing the data across devices.</p>\n"}], "owner": {"reputation": 510, "user_id": 9985489, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-s4mdA2Brgvg/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq2xEI4s7RZCO4gaZiSbUPPebmTnHA/mo/photo.jpg?sz=128", "display_name": "Coder", "link": "https://stackoverflow.com/users/9985489/coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 1, "closed_date": 1536672488, "accepted_answer_id": 52268851, "answer_count": 1, "score": 0, "last_activity_date": 1536641824, "creation_date": 1536641091, "question_id": 52268815, "link": "https://stackoverflow.com/questions/52268815/which-is-better-for-adding-videos-firebase-or-sqlite", "closed_reason": "Opinion-based", "title": "Which is better for adding videos? Firebase or Sqlite", "body": "<p>I have an app in which the user should be able to store videos. I was wondering if Firebase or Sqlite would be better for the job. Please get back to me as soon as possible.</p>\n"}, {"tags": ["firebase", "dart", "flutter", "google-cloud-firestore", "flutter-test"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536647969, "post_id": 52268590, "comment_id": 91487326, "body": "Can you please add the imports from the top of the test file?"}, {"owner": {"reputation": 405, "user_id": 3815630, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c246eccc1ee095c37a0b205902b3fa17?s=128&d=identicon&r=PG&f=1", "display_name": "ssiddh", "link": "https://stackoverflow.com/users/3815630/ssiddh"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536663325, "post_id": 52268590, "comment_id": 91495851, "body": "@G&#252;nterZ&#246;chbauer, I have added the imports. I thought it was a import issue after reading your comment and tried adding the imports again, but it didn&#39;t solve. Thank you so much for looking into this."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536663591, "post_id": 52268590, "comment_id": 91495983, "body": "Looks good. Don&#39;t know what could cause this."}, {"owner": {"reputation": 405, "user_id": 3815630, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c246eccc1ee095c37a0b205902b3fa17?s=128&d=identicon&r=PG&f=1", "display_name": "ssiddh", "link": "https://stackoverflow.com/users/3815630/ssiddh"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536673333, "post_id": 52268590, "comment_id": 91502461, "body": "Now I am worried, because I was pretty sure you will be able to help. <code>ailed to emit an event that [Instance of &#39;ConferenceEvent&#39;] because it emitted an event that was &lt;Instance of &#39;ConferenceEvent&#39;&gt; instead of &lt;Instance of &#39;ConferenceEvent&#39;&gt; at location [0]</code> this doesn&#39;t make a lot of sense, especially the <code>location[0]</code> part."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536674610, "post_id": 52268590, "comment_id": 91503417, "body": "That&#39;s not the kind of code I can reason about with just looking at it and I don&#39;t have the time to investigate."}, {"owner": {"reputation": 405, "user_id": 3815630, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c246eccc1ee095c37a0b205902b3fa17?s=128&d=identicon&r=PG&f=1", "display_name": "ssiddh", "link": "https://stackoverflow.com/users/3815630/ssiddh"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536675680, "post_id": 52268590, "comment_id": 91504147, "body": "I understand, thanks a lot for your time."}, {"owner": {"reputation": 1971, "user_id": 1420881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1dc24f3e9583bd1b318d6d91cf515af?s=128&d=identicon&r=PG", "display_name": "mmccabe", "link": "https://stackoverflow.com/users/1420881/mmccabe"}, "edited": false, "score": 2, "creation_date": 1536726114, "post_id": 52268590, "comment_id": 91522654, "body": "Here&#39;s an example of how to unit test Cloud Firestore dart code that might help: <a href=\"https://github.com/brianegan/flutter_architecture_samples/blob/master/example/firebase_flutter_repository/test/firebase_flutter_repository_test.dart\" rel=\"nofollow noreferrer\">github.com/brianegan/flutter_architecture_samples/blob/maste&zwnj;&#8203;r/&hellip;</a>"}, {"owner": {"reputation": 23316, "user_id": 1321917, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xUiET.jpg?s=128&g=1", "display_name": "Andrey Gordeev", "link": "https://stackoverflow.com/users/1321917/andrey-gordeev"}, "reply_to_user": {"reputation": 1971, "user_id": 1420881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1dc24f3e9583bd1b318d6d91cf515af?s=128&d=identicon&r=PG", "display_name": "mmccabe", "link": "https://stackoverflow.com/users/1420881/mmccabe"}, "edited": false, "score": 0, "creation_date": 1565880257, "post_id": 52268590, "comment_id": 101491039, "body": "@mmccabe that link is not valid anymore"}, {"owner": {"reputation": 405, "user_id": 3815630, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c246eccc1ee095c37a0b205902b3fa17?s=128&d=identicon&r=PG&f=1", "display_name": "ssiddh", "link": "https://stackoverflow.com/users/3815630/ssiddh"}, "edited": false, "score": 0, "creation_date": 1565889982, "post_id": 52268590, "comment_id": 101495453, "body": "<a href=\"https://github.com/brianegan/flutter_architecture_samples/blob/master/firebase_flutter_repository/test/firebase_flutter_repository_test.dart\" rel=\"nofollow noreferrer\">github.com/brianegan/flutter_architecture_samples/blob/maste&zwnj;&#8203;r/&hellip;</a>"}, {"owner": {"reputation": 987, "user_id": 4796491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93d636cdebb342360df3bc9350a7be11?s=128&d=identicon&r=PG&f=1", "display_name": "sceee", "link": "https://stackoverflow.com/users/4796491/sceee"}, "edited": false, "score": 0, "creation_date": 1569615761, "post_id": 52268590, "comment_id": 102668059, "body": "Here is a library that might help because it&#39;s intention is to mock Firestore: <a href=\"https://github.com/ozanturksever/mock_cloud_firestore\" rel=\"nofollow noreferrer\">github.com/ozanturksever/mock_cloud_firestore</a> It still has some feature gaps but at least the basics work for me."}], "answers": [{"comments": [{"owner": {"reputation": 1362, "user_id": 1387138, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0134459486c5995a06bb0a7f5a5fde61?s=128&d=identicon&r=PG", "display_name": "anavarroma", "link": "https://stackoverflow.com/users/1387138/anavarroma"}, "edited": false, "score": 0, "creation_date": 1600282915, "post_id": 56926468, "comment_id": 113042061, "body": "I had a similar problem and this solution worked. I just had to override == operator and hashCode."}], "tags": [], "owner": {"reputation": 11, "user_id": 4461109, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3X9_YTyrpSg/AAAAAAAAAAI/AAAAAAAAkJU/wcMtnT1V4F4/photo.jpg?sz=128", "display_name": "drosenberger", "link": "https://stackoverflow.com/users/4461109/drosenberger"}, "is_accepted": false, "score": 1, "last_activity_date": 1562537329, "creation_date": 1562537329, "answer_id": 56926468, "question_id": 52268590, "link": "https://stackoverflow.com/questions/52268590/how-to-unit-test-methods-using-firebase-cloud-firestore/56926468#56926468", "title": "How to unit test methods using Firebase Cloud Firestore?", "body": "<p>I think the problem is related to the way <a href=\"https://api.flutter.dev/flutter/package-test_api_test_api/expectLater.html\" rel=\"nofollow noreferrer\">expectLater</a> is comparing the instances of <code>ConferenceEvent</code>. It is using the <a href=\"https://api.flutter.dev/flutter/dart-core/Object/operator_equals.html\" rel=\"nofollow noreferrer\">==</a> (equal) operator to compare those two objects and without overwriting the equal operator of in your <code>ConferenceEvent</code> those objects won't have the same <a href=\"https://api.flutter.dev/flutter/package-test_api_test_api/emitsAnyOf.html\" rel=\"nofollow noreferrer\">hashCode</a>.  </p>\n\n<p>In you mocked code there is a new object instantiated here</p>\n\n<pre><code>ConferenceEvent event =\n          ConferenceEvent.buildFromMap(documentSnapshot.data);\n</code></pre>\n\n<p>And later you compare it with another object of <code>ConferenceEvent</code> created in this line:</p>\n\n<pre><code>final ConferenceEvent _event = ConferenceEvent.buildFromMap(_responseMap);\n</code></pre>\n"}], "owner": {"reputation": 405, "user_id": 3815630, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c246eccc1ee095c37a0b205902b3fa17?s=128&d=identicon&r=PG&f=1", "display_name": "ssiddh", "link": "https://stackoverflow.com/users/3815630/ssiddh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3633, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1604979533, "creation_date": 1536639539, "last_edit_date": 1604979533, "question_id": 52268590, "link": "https://stackoverflow.com/questions/52268590/how-to-unit-test-methods-using-firebase-cloud-firestore", "title": "How to unit test methods using Firebase Cloud Firestore?", "body": "<p>I am trying to use Cloud Firestore on Flutter. So far I have been able to use it but I want to include unit tests for the functions which use firestore, in my project. I am making use of Mockito to do the same and I think it should work.</p>\n<p>But I am really stumped at StreamMatchers of Dart. I am not able to wrap my head around the error message.</p>\n<p>Below is some code of what I am trying to achieve and the error I am getting.</p>\n<p><strong>repository.dart</strong></p>\n<pre class=\"lang-dart prettyprint-override\"><code>    import 'dart:async';\n\n    import 'package:cloud_firestore/cloud_firestore.dart';\n    import 'package:sunapsis_conference18/models/conference_event.dart';\n\n    Stream&lt;List&lt;ConferenceEvent&gt;&gt; getAllEvents() {\n        return _firestore\n            .collection(_collectionName)\n            .snapshots()\n            .map((QuerySnapshot snapshot) =&gt; _eventMapper(snapshot));\n    }\n  \n\n    List&lt;ConferenceEvent&gt; _eventMapper(QuerySnapshot snapshot) {\n        List&lt;ConferenceEvent&gt; events = [];\n        for (int i = 0; i &lt; snapshot.documents.length; i++) {\n          DocumentSnapshot documentSnapshot = snapshot.documents[i];\n          ConferenceEvent event =\n              ConferenceEvent.buildFromMap(documentSnapshot.data);\n          events.add(event);\n        }\n        return events;\n    }\n</code></pre>\n<p>It method tries to get data from a firestore collection and return a stream of list of data objects.</p>\n<p><strong>repository_test.dart</strong></p>\n<pre class=\"lang-dart prettyprint-override\"><code>    import 'dart:async';\n\n    import 'package:cloud_firestore/cloud_firestore.dart';\n    import 'package:mockito/mockito.dart';\n    import 'package:sunapsis_conference18/models/conference_event.dart';\n    import 'package:sunapsis_conference18/repository/repository.dart'; //quotation mark fix    \n    import 'package:test/test.dart';\n\n    class MockDocumentReference extends Mock implements DocumentReference {}\n    \n    class MockFirestore extends Mock implements Firestore {}\n    \n    class MockCollectionReference extends Mock implements CollectionReference {}\n    \n    class MockQuerySnapshot extends Mock implements QuerySnapshot {}\n    \n    class MockDocumentSnapshot extends Mock implements DocumentSnapshot {}\n    \n    class MockQuery extends Mock implements Query {}\n    \n    main() {\n      group('getAllEvents() tests', () {\n        final Firestore mockFirestore = MockFirestore();\n        final CollectionReference mockCollectionReference =\n            MockCollectionReference();\n        final QuerySnapshot mockQuerySnapshot = MockQuerySnapshot();\n        final DocumentSnapshot mockDocumentSnapshot = MockDocumentSnapshot();\n        final Repository repository = Repository(mockFirestore);\n        final DocumentReference _mockDocumentRef = MockDocumentReference();\n        final Map&lt;String, dynamic&gt; _responseMap = {\n          'foo': 123,\n          'bar': 'Test title',\n        };\n        final ConferenceEvent _event = ConferenceEvent.buildFromMap(_responseMap);\n    \n        test('returns correct stream of list of ConferenceEvent', () async {\n          when(mockFirestore.collection('events'))\n              .thenReturn(mockCollectionReference);\n          when(mockCollectionReference.snapshots())\n              .thenAnswer((_) =&gt; Stream.fromIterable([mockQuerySnapshot]));\n    \n          when(mockQuerySnapshot.documents).thenReturn([mockDocumentSnapshot]);\n          when(mockDocumentSnapshot.data).thenReturn(_responseMap);\n          await expectLater(\n              repository.getAllEvents(),\n              emitsAnyOf([\n                [_event],\n                emitsDone\n              ]));\n        });\n      });\n    }\n</code></pre>\n<p>I am not able to formulate the right stream matcher and at the same time not able to comprehend the error message.</p>\n<p><strong>error</strong></p>\n<pre><code>Expected: should do one of the following:\n          \u2022 emit an event that [Instance of 'ConferenceEvent']\n          \u2022 be done\n  Actual: &lt;Instance of '_MapStream&lt;QuerySnapshot, List&lt;ConferenceEvent&gt;&gt;'&gt;\n   Which: emitted \u2022 [Instance of 'ConferenceEvent']\n                  x Stream closed.\n            which failed all options:\n                  \u2022 failed to emit an event that [Instance of 'ConferenceEvent'] because it emitted an event that was &lt;Instance of 'ConferenceEvent'&gt; instead of &lt;Instance of 'ConferenceEvent'&gt; at location [0]\n                  \u2022 failed to be done\n</code></pre>\n<p>Any guidance to help understand the error message will be really appreciated. Also, is this the right approach to test this function?</p>\n"}, {"tags": ["dart"], "comments": [{"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1536631860, "post_id": 52267741, "comment_id": 91483117, "body": "What I truly want is to rename things like CupertinoDialog/CupertinoScaffold of flutter to Dialog/Scaffold. I could then import material/cupertino components using <code>import &#39;...&#39; as material</code> to ultimately do <code>material.Dialog</code>/<code>cupertino.Dialog</code>"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536634679, "post_id": 52267741, "comment_id": 91483648, "body": "This link points to this question ;-)"}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536635756, "post_id": 52267741, "comment_id": 91483877, "body": "What a fail :p <a href=\"https://github.com/dart-lang/sdk/issues/2626\" rel=\"nofollow noreferrer\">github.com/dart-lang/sdk/issues/2626</a>"}], "answers": [{"comments": [{"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 2, "creation_date": 1536635941, "post_id": 52268045, "comment_id": 91483913, "body": "For the &quot;conditional import&quot; part, I use different main.dart. It does the job fairly decently for now, without loosing tree-shaking"}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 2, "last_activity_date": 1536635112, "last_edit_date": 1536635112, "creation_date": 1536634625, "answer_id": 52268045, "question_id": 52267741, "link": "https://stackoverflow.com/questions/52267741/how-to-rename-classes-with-exports/52268045#52268045", "title": "How to rename classes with exports?", "body": "<p>There is no such thing in Dart.</p>\n\n<p>Imports allow only to show or hide members of the imported library or specify an import prefix.</p>\n\n<p>I can imagine that <code>typedef</code>s will be extended to do that eventually.</p>\n\n<p>What you can do is to create subclasses</p>\n\n<pre><code>class Dialog extends CupertinoDialog {}\n</code></pre>\n\n<p>and in another library </p>\n\n<pre><code>class Dialog extends MaterialDialog {}\n</code></pre>\n\n<p>Conditional imports might be extended at some point to allow importing one or the other library depending on some condition (probably only build-time setting).<br>\nCurrently it only allows to distinguish platforms like web, server, Flutter as far as I know.</p>\n"}], "owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 425, "favorite_count": 0, "accepted_answer_id": 52268045, "answer_count": 1, "score": 2, "last_activity_date": 1604439689, "creation_date": 1536631687, "question_id": 52267741, "link": "https://stackoverflow.com/questions/52267741/how-to-rename-classes-with-exports", "title": "How to rename classes with exports?", "body": "<p>I would like to make packages that do nothing besides exporting a few classes of another library under a different name.</p>\n\n<p>In javascript I could do the following: </p>\n\n<pre><code>export { foo as bar } from 'package'\n</code></pre>\n\n<p>But I haven't found anything similar in dart</p>\n"}, {"tags": ["dart", "progressive-web-apps", "angular-dart", "dart-html"], "answers": [{"comments": [{"owner": {"reputation": 1227, "user_id": 5033528, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiIYK.png?s=128&g=1", "display_name": "Mohamed Hassan", "link": "https://stackoverflow.com/users/5033528/mohamed-hassan"}, "edited": false, "score": 0, "creation_date": 1536633318, "post_id": 52266525, "comment_id": 91483337, "body": "I am assuming from your answer that I can build anything that js developer can build in pwa without getting to learn js ... I am also assuming that pwa and service_worker libs in dart are mature enough for any pwa production ... right ?"}, {"owner": {"reputation": 4296, "user_id": 39827, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/289adeb0bd8b3017a29329ed94364c3a?s=128&d=identicon&r=PG", "display_name": "Kevin Moore", "link": "https://stackoverflow.com/users/39827/kevin-moore"}, "reply_to_user": {"reputation": 1227, "user_id": 5033528, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiIYK.png?s=128&g=1", "display_name": "Mohamed Hassan", "link": "https://stackoverflow.com/users/5033528/mohamed-hassan"}, "edited": false, "score": 0, "creation_date": 1536684395, "post_id": 52266525, "comment_id": 91509258, "body": "pwa and service_worker packages need some work. If you follow along with what this app does, you should be okay, though."}, {"owner": {"reputation": 1227, "user_id": 5033528, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiIYK.png?s=128&g=1", "display_name": "Mohamed Hassan", "link": "https://stackoverflow.com/users/5033528/mohamed-hassan"}, "edited": false, "score": 0, "creation_date": 1536686152, "post_id": 52266525, "comment_id": 91510100, "body": "Thank you for the clarification."}], "tags": [], "owner": {"reputation": 4296, "user_id": 39827, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/289adeb0bd8b3017a29329ed94364c3a?s=128&d=identicon&r=PG", "display_name": "Kevin Moore", "link": "https://stackoverflow.com/users/39827/kevin-moore"}, "is_accepted": false, "score": 1, "last_activity_date": 1536620133, "creation_date": 1536620133, "answer_id": 52266525, "question_id": 52266038, "link": "https://stackoverflow.com/questions/52266038/quality-and-complete-pwa-progressive-web-apps-with-dart-or-and-angulardart/52266525#52266525", "title": "Quality and complete PWA (Progressive Web Apps) with dart or/and AngularDart", "body": "<p>We need to get some documentation out for this, but we do have an example application:</p>\n\n<p>Example: <a href=\"https://hnpwa.dartlang.org/\" rel=\"nofollow noreferrer\">https://hnpwa.dartlang.org/</a></p>\n\n<p>Source: <a href=\"https://github.com/dart-lang/angular/tree/master/examples/hacker_news_pwa\" rel=\"nofollow noreferrer\">https://github.com/dart-lang/angular/tree/master/examples/hacker_news_pwa</a></p>\n"}, {"tags": [], "owner": {"reputation": 784, "user_id": 8215090, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j08q0.png?s=128&g=1", "display_name": "droidBomb", "link": "https://stackoverflow.com/users/8215090/droidbomb"}, "is_accepted": true, "score": 1, "last_activity_date": 1536665431, "creation_date": 1536665431, "answer_id": 52274890, "question_id": 52266038, "link": "https://stackoverflow.com/questions/52266038/quality-and-complete-pwa-progressive-web-apps-with-dart-or-and-angulardart/52274890#52274890", "title": "Quality and complete PWA (Progressive Web Apps) with dart or/and AngularDart", "body": "<p>Yes, you can build a PWA using AngularDart.\nAngularDart is usually used for native apps and can be compiled into javascript. With tree shaking, type inference and minification, <a href=\"https://developers.google.com/web/shows/cds/2013/dart-for-the-modern-web-developer\" rel=\"nofollow noreferrer\">Dart</a> can help you optimize your web app. Therefore it is suitable as a framework for Progressive Web App.</p>\n\n<p>Here is another <a href=\"https://stackoverflow.com/questions/48798934/progressive-web-app-and-angulardart\">SO related post</a> regarding PWA using AngularDart.</p>\n"}], "owner": {"reputation": 1227, "user_id": 5033528, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiIYK.png?s=128&g=1", "display_name": "Mohamed Hassan", "link": "https://stackoverflow.com/users/5033528/mohamed-hassan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1131, "favorite_count": 1, "accepted_answer_id": 52274890, "answer_count": 2, "score": 2, "last_activity_date": 1536665431, "creation_date": 1536616651, "question_id": 52266038, "link": "https://stackoverflow.com/questions/52266038/quality-and-complete-pwa-progressive-web-apps-with-dart-or-and-angulardart", "title": "Quality and complete PWA (Progressive Web Apps) with dart or/and AngularDart", "body": "<p>Can I build a complete and quality PWA (Progressive Web Apps) using just dart language - or AngularDart - with no javascript prior experience?</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 3548, "user_id": 5717640, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/D9X3M.png?s=128&g=1", "display_name": "Nerdy Bunz", "link": "https://stackoverflow.com/users/5717640/nerdy-bunz"}, "edited": false, "score": 0, "creation_date": 1536621064, "post_id": 52265843, "comment_id": 91481111, "body": "duplicate: <a href=\"https://stackoverflow.com/questions/52251705/how-to-add-google-text-to-speech-tts-to-flutter\" title=\"how to add google text to speech tts to flutter\">stackoverflow.com/questions/52251705/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 6634633, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/40c218308cce92a3d9ed825b436f0d6b?s=128&d=identicon&r=PG&f=1", "display_name": "LoveCoding", "link": "https://stackoverflow.com/users/6634633/lovecoding"}, "is_accepted": false, "score": 1, "last_activity_date": 1554244440, "last_edit_date": 1554244440, "creation_date": 1554244120, "answer_id": 55484411, "question_id": 52265843, "link": "https://stackoverflow.com/questions/52265843/how-to-can-add-google-text-to-speech-tts-to-flutter/55484411#55484411", "title": "how to can add google text to speech TTS to flutter", "body": "<p>First of all you'll have to add the following to the dependencies (in your pubspec.yaml file):</p>\n\n<pre><code>flutter_tts: ^0.2.4\n</code></pre>\n\n<p>Then run from command line: </p>\n\n<blockquote>\n  <p>flutter packages get</p>\n</blockquote>\n\n<p>After you have done these two steps you'll have to import</p>\n\n<pre><code>import 'package:flutter_tts/flutter_tts.dart';\n</code></pre>\n\n<p>and then instantiate inside your class:</p>\n\n<pre><code>FlutterTts flutterTts = 'Whatever text you what to listen to';\n</code></pre>\n\n<p>Inside the body of your scaffold you'll now have to add a RaisedButton which has an Icon as it's child and the onPressed method which contains the method to convert your text to audio. </p>\n\n<pre><code>Scaffold(\nbody: Center(\nchild: RaisedButton(\nbackgroundColor: Colors.white,\nchild: Icon(Icons.volume_up, color: Colors.grey),\nonPressed: () {\nflutterTts.speak(flutterTts);\n},\n)\n)\n)\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10275101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 768, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554244440, "creation_date": 1536615476, "question_id": 52265843, "link": "https://stackoverflow.com/questions/52265843/how-to-can-add-google-text-to-speech-tts-to-flutter", "title": "how to can add google text to speech TTS to flutter", "body": "<p>Hey there I'm wondering what I need to add google text to speech like what we see in the picture when click to microphone icon he speak the text</p>\n\n<p><a href=\"https://i.stack.imgur.com/D42gH.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}, {"tags": ["dart", "amp-html", "angular-dart", "accelerated-mobile-page", "google-amp"], "answers": [{"comments": [{"owner": {"reputation": 1227, "user_id": 5033528, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiIYK.png?s=128&g=1", "display_name": "Mohamed Hassan", "link": "https://stackoverflow.com/users/5033528/mohamed-hassan"}, "edited": false, "score": 0, "creation_date": 1536617403, "post_id": 52265324, "comment_id": 91480243, "body": "Many thanks Kevin, glad that the answer came from you \ud83d\ude42."}, {"owner": {"reputation": 4296, "user_id": 39827, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/289adeb0bd8b3017a29329ed94364c3a?s=128&d=identicon&r=PG", "display_name": "Kevin Moore", "link": "https://stackoverflow.com/users/39827/kevin-moore"}, "reply_to_user": {"reputation": 1227, "user_id": 5033528, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiIYK.png?s=128&g=1", "display_name": "Mohamed Hassan", "link": "https://stackoverflow.com/users/5033528/mohamed-hassan"}, "edited": false, "score": 0, "creation_date": 1536619036, "post_id": 52265324, "comment_id": 91480683, "body": "Of course. Please mark the question as answered so other folks can keep track."}], "tags": [], "owner": {"reputation": 4296, "user_id": 39827, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/289adeb0bd8b3017a29329ed94364c3a?s=128&d=identicon&r=PG", "display_name": "Kevin Moore", "link": "https://stackoverflow.com/users/39827/kevin-moore"}, "is_accepted": true, "score": 1, "last_activity_date": 1536612693, "creation_date": 1536612693, "answer_id": 52265324, "question_id": 52264897, "link": "https://stackoverflow.com/questions/52264897/amp-accelerated-mobile-pages-with-dart-or-its-frameworks/52265324#52265324", "title": "AMP (Accelerated Mobile Pages) with Dart or its frameworks", "body": "<p>There's nothing stopping you from creating an AMP site w/ Dart. Just follow the docs: <a href=\"https://www.ampproject.org/docs\" rel=\"nofollow noreferrer\">https://www.ampproject.org/docs</a></p>\n\n<p>Keep in mind, Dart web support has been focused on complex app experiences \u2013\u00a0which is not what AMP is for.</p>\n"}], "owner": {"reputation": 1227, "user_id": 5033528, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiIYK.png?s=128&g=1", "display_name": "Mohamed Hassan", "link": "https://stackoverflow.com/users/5033528/mohamed-hassan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 345, "favorite_count": 0, "accepted_answer_id": 52265324, "answer_count": 1, "score": 0, "last_activity_date": 1536612693, "creation_date": 1536610678, "question_id": 52264897, "link": "https://stackoverflow.com/questions/52264897/amp-accelerated-mobile-pages-with-dart-or-its-frameworks", "title": "AMP (Accelerated Mobile Pages) with Dart or its frameworks", "body": "<p>Can I create an AMP (Accelerated Mobile Pages) using dart language or/and AngularDart ? If yes, Is it an easy process like other web language or it's a painful process ?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 13074624, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRg5P.jpg?s=128&g=1", "display_name": "auro", "link": "https://stackoverflow.com/users/13074624/auro"}, "is_accepted": false, "score": 1, "last_activity_date": 1587667780, "creation_date": 1587667780, "answer_id": 61394820, "question_id": 52264270, "link": "https://stackoverflow.com/questions/52264270/refreshindicator-with-nestedscrollview/61394820#61394820", "title": "RefreshIndicator with NestedScrollview", "body": "<p>If you want floating app bar then you have to use nested scroll view and sliver app bar . When you try to use refresh indicator in a list which a child of tab bar view , refresh indicator doesn't work. This is just because of the nested scroll view . </p>\n\n<p>If you have suppose two lists as child of tab bar view, you want to refresh only one or both at a time then follow the below code.</p>\n\n<p>Wrap the nested scroll view with refresh indicator then on refresh part ,</p>\n\n<pre><code>RefreshIndicator(\n    color: Colors.red,\n    displacement: 70,\n\n\n    onRefresh: _refreshGeneralList,\n    key: _refreshIndicatorKey,\n    child: NestedScrollView(\n\n\n      headerSliverBuilder: (BuildContext context, bool innerBoxIsScrolled) {\n        return &lt;Widget&gt;[\n\n          SliverAppBar(\n\n            centerTitle: true,\n            title: Text(\n              \"App Bar\",\n              style: TextStyle(\n                  color: Colors.black,\n                  fontSize: 14,\n            ),\n            leading: Padding(\n              padding: const EdgeInsets.only(left: 8.0),\n              child: IconButton(\n                icon: Icon(Icons.profile),\n                onPressed: () {\n                  Navigator.of(context).pop();\n                },\n              ),\n            ),\n            actions: [\n              InkWell(\n                  onTap: () {\n                    setState(() {\n                      isPremium = !isPremium;\n                    });\n                  },\n                  child: Icon(\n                    Icons.monetization_on,\n                    color: isPremium ? Colors.green : Colors.blueGrey,\n                    size: 33,\n                  )),\n              SizedBox(\n                width: 25,\n              )\n            ],\n\n            elevation: 0,\n            backgroundColor: Colors.white,\n            pinned: true,\n            floating: true,\n            forceElevated: innerBoxIsScrolled,\n            bottom: isPremium\n                ? TabBar(\n\n                labelStyle: TextStyle(\n                    fontSize: 16,\n                    fontWeight: FontWeight.w600),\n                labelColor: Colors.blueGrey,\n                indicatorColor:Colors.red,\n                unselectedLabelColor:\n                Colors.green,\n                labelPadding: EdgeInsets.symmetric(vertical: 13.5),\n                controller: _tabController,\n                tabs: [\n                  Text(\n                    \"General\",\n                  ),\n                  Text(\n                    \"Visitors\",\n                  ),\n                ])\n                : null,\n          )\n        ];\n      },\n\n      body: isPremium\n          ? TabBarView(\n\n          controller: _tabController,\n          children: [\n        generalNotificationsList(context),\n        visitorsNotificationsList(context),\n      ])\n          : generalNotificationsList(context),\n    ),\n  ),\n</code></pre>\n\n<p>add a function which calls a future. In the future part we will write the code if one child or two child of tab bar view will be scrolled. </p>\n\n<pre><code> Future _refreshGeneralList() async{\nprint('refreshing ');\nGeneralNotificationBloc().add(LoadGeneralNotificationEvent(context));\nPremiumNotificationBloc().add(LoadPremiumNotificationEvent(context));\nreturn Future.delayed(Duration(seconds: 1));\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 81, "user_id": 10339348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f599271ec59a0c8a30d713d2bbba7d2?s=128&d=identicon&r=PG&f=1", "display_name": "Steelsmasher", "link": "https://stackoverflow.com/users/10339348/steelsmasher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1693, "favorite_count": 0, "answer_count": 1, "score": 8, "last_activity_date": 1587667780, "creation_date": 1536607607, "question_id": 52264270, "link": "https://stackoverflow.com/questions/52264270/refreshindicator-with-nestedscrollview", "title": "RefreshIndicator with NestedScrollview", "body": "<p>I want 2 tab pages with a ListView each to share a single RefreshIndicator. However, a RefreshIndicator must have Scrollable as a child (which a TabBarView isn't) so instead I tried making 2 RefreshIndicators per tab as shown in the code below.</p>\n\n<p>But this brings a different problem, I also wanted a floating AppBar which meant I had to use a NestedScrollView. So as a result I end up triggering both RefreshIndicators' onRefresh method whenever I scroll down. Whereas I only need one to refresh.</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nmain() {\n    runApp(\n        MaterialApp(\n            home: DefaultTabController(\n                length: 2,\n                child: Scaffold(\n                    body: NestedScrollView(\n                        headerSliverBuilder: (context, innerBoxIsScrolled) {\n                            return [\n                                SliverAppBar(\n                                    floating: true,\n                                    snap: true,\n                                    bottom: TabBar(\n                                        tabs: [\n                                            Tab(text: 'Page1'),\n                                            Tab(text: 'Page2'),\n                                        ],\n                                    ),\n                                ),\n                            ];\n                        },\n                        body: TabBarView(\n                            children: [\n                                Page(1),\n                                Page(2),\n                            ],\n                        ),\n                    ),\n                ),\n            ),\n        ),\n    );\n}\n\nclass Page extends StatefulWidget {\n    final pageNumber;\n    Page(this.pageNumber);\n    createState() =&gt; PageState();\n}\n\nclass PageState extends State&lt;Page&gt; with AutomaticKeepAliveClientMixin {\n    get wantKeepAlive =&gt; true;\n\n    build(context){\n        super.build(context);\n        return RefreshIndicator(\n            onRefresh: () =&gt; Future(() async {\n                print('Refreshing page no. ${widget.pageNumber}');  // This prints twice once both tabs have been opened\n                await Future.delayed(Duration(seconds: 5));\n            }),\n            child: ListView.builder(\n                itemBuilder: ((context, index){\n                    return ListTile(\n                        title: Text('Item $index')\n                    );\n                }),\n            )\n        );\n    }\n}\n</code></pre>\n\n<p>The AutomaticKeepAliveClientMixin is there to prevent the pages rebuilding every time I switch tabs as this would be an expensive process in my actual app.</p>\n\n<p>A solution that uses a single RefreshIndicator for both tabs would be most ideal, but any help is appreciated.</p>\n"}, {"tags": ["dart"], "answers": [{"tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1536608069, "creation_date": 1536608069, "answer_id": 52264353, "question_id": 52264259, "link": "https://stackoverflow.com/questions/52264259/how-do-i-create-a-datetime-instance-in-a-specific-timezone/52264353#52264353", "title": "How do I create a DateTime instance in a specific timezone?", "body": "<p>The included <code>DateTime</code> class only supports the local timezone or UTC but no specific timezone.</p>\n\n<p><a href=\"https://pub.dartlang.org/packages/timezone\" rel=\"nofollow noreferrer\">https://pub.dartlang.org/packages/timezone</a> would provide that but it looks like it needs an update for Dart 2.0.0</p>\n\n<p><a href=\"https://pub.dartlang.org/packages/time_machine\" rel=\"nofollow noreferrer\">https://pub.dartlang.org/packages/time_machine</a> is a newer one.</p>\n"}, {"comments": [{"owner": {"reputation": 1533, "user_id": 533104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/32cf7928dc8995de4e1300918f0f16eb?s=128&d=identicon&r=PG", "display_name": "dakamojo", "link": "https://stackoverflow.com/users/533104/dakamojo"}, "edited": false, "score": 1, "creation_date": 1571695863, "post_id": 58476066, "comment_id": 103319191, "body": "I&#39;ll look at it.  Specifically how can I take the string &quot;1:00&quot; and convert that to a DateTime in the EST time zone?"}, {"owner": {"reputation": 1533, "user_id": 533104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/32cf7928dc8995de4e1300918f0f16eb?s=128&d=identicon&r=PG", "display_name": "dakamojo", "link": "https://stackoverflow.com/users/533104/dakamojo"}, "edited": false, "score": 1, "creation_date": 1571928106, "post_id": 58476066, "comment_id": 103408944, "body": "Sorry I guess I&#39;m not being clear.  Your example takes a UTC time and converts it to a EST time.  That&#39;s useful, but not the problem I&#39;m trying to solve.  In my case I&#39;m calling an old API that returns times like &quot;1:00&quot; and &quot;3:00&quot;.  This service happens to be in the Eastern Time Zone, so I know that they mean &quot;1:00 EST&quot; and &quot;3:00 EST&quot;.  So what I really need is something like this...  DateTime d = dateTimeFrom(hour: &quot;1&quot;, minute:&quot;0&quot;, timeZone: &quot;EST&quot;)"}, {"owner": {"reputation": 320, "user_id": 11944104, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-f6yYt9EPQDM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re52YjF__mXuL1s2C2_REdQbI-gPg/photo.jpg?sz=128", "display_name": "AKushWarrior", "link": "https://stackoverflow.com/users/11944104/akushwarrior"}, "reply_to_user": {"reputation": 1533, "user_id": 533104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/32cf7928dc8995de4e1300918f0f16eb?s=128&d=identicon&r=PG", "display_name": "dakamojo", "link": "https://stackoverflow.com/users/533104/dakamojo"}, "edited": false, "score": 0, "creation_date": 1571954796, "post_id": 58476066, "comment_id": 103420309, "body": "Don&#39;t worry about being unclear; I misunderstood you pretty badly. I fixed up the answer above to work with your situation. I also might end up building this into the main library, since it is more universally useful."}, {"owner": {"reputation": 320, "user_id": 11944104, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-f6yYt9EPQDM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re52YjF__mXuL1s2C2_REdQbI-gPg/photo.jpg?sz=128", "display_name": "AKushWarrior", "link": "https://stackoverflow.com/users/11944104/akushwarrior"}, "reply_to_user": {"reputation": 1533, "user_id": 533104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/32cf7928dc8995de4e1300918f0f16eb?s=128&d=identicon&r=PG", "display_name": "dakamojo", "link": "https://stackoverflow.com/users/533104/dakamojo"}, "edited": false, "score": 0, "creation_date": 1572385772, "post_id": 58476066, "comment_id": 103541483, "body": "@dakamojo did this work for you? If so, could you accept the answer?"}], "tags": [], "owner": {"reputation": 320, "user_id": 11944104, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-f6yYt9EPQDM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re52YjF__mXuL1s2C2_REdQbI-gPg/photo.jpg?sz=128", "display_name": "AKushWarrior", "link": "https://stackoverflow.com/users/11944104/akushwarrior"}, "is_accepted": false, "score": 2, "last_activity_date": 1572020768, "last_edit_date": 1572020768, "creation_date": 1571596437, "answer_id": 58476066, "question_id": 52264259, "link": "https://stackoverflow.com/questions/52264259/how-do-i-create-a-datetime-instance-in-a-specific-timezone/58476066#58476066", "title": "How do I create a DateTime instance in a specific timezone?", "body": "<p>I wrote a package for this. It's called Instant, and it can fetch the latest DateTime in any given zone worldwide. Take a detailed look at <a href=\"https://aditya-kishore.gitbook.io/instant/\" rel=\"nofollow noreferrer\">https://aditya-kishore.gitbook.io/instant/</a></p>\n\n<p>The basic usage to get a DateTime in a timezone is fairly simple. </p>\n\n<p>Note: I assume below that your legacy service delivers a String with format HH:MM in 24 hr time, and that it doesn't deliver a date. If any of the following is untrue, lemme know and I'll change the code sample.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>List&lt;int&gt; _hourmin (String parse) {\n  List&lt;int&gt; timeinint = [];\n  if (parse.length == 5) {\n    //if parse is something like 10:00\n    timeinint.add(int.parse(parse.substring(0,2))); //Add hours (10)\n    timeinint.add(int.parse(parse.substring(3,5))); //Add minutes (0)\n  } //hours &gt;= 10\n  if (parse.length == 4) {\n    //if parse is something like 4:06\n    timeinint.add(int.parse(parse.substring(0,1))); //Add hours (4)\n    timeinint.add(int.parse(parse.substring(2,4))); //Add minutes (6)\n  } //hours &lt; 10\n  return timeinint;\n}\n\nDateTime utcDateTimeFromZone(\n    {@required String zone,\n    int year = 0,\n    int month = 0,\n    int day = 0,\n    int hour = 0,\n    int minute = 0,\n    int second = 0,\n    int millisecond = 0,\n    int microsecond = 0}) {\n\n  hour = (hour - timeZoneOffsets[zone].truncate()) % 24; //Convert to UTC from timezone\n  if (hour&lt;0) {\n    hour = 24 + hour;\n  }\n  minute = (minute - ((timeZoneOffsets[zone]%1)*60).round()) % 60;\n  if (minute&lt;0) {\n    minute = 60 + minute;\n  }\n//Convert to UTC from timezone\n  DateTime inUTC = DateTime.utc(year, month, day, hour, minute, second, millisecond, microsecond); //Initialize in UTC time\n  return inUTC;\n}\n\n  //We get an array containing the hours minutes\n  List&lt;int&gt; time = _hourmin(\"4:25\"); //put your API call as the param here\n  //This is what you need\n  DateTime finished = utcDateTimeFromZone(zone: \"EST\", hour: time[0], minute: time[1]);\n\n  print(formatTime(time: finished.toLocal())); //1:25 for me, because I'm PST, but this works with any local timezone\n</code></pre>\n\n<p>Hope that clears it up!</p>\n"}], "owner": {"reputation": 1533, "user_id": 533104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/32cf7928dc8995de4e1300918f0f16eb?s=128&d=identicon&r=PG", "display_name": "dakamojo", "link": "https://stackoverflow.com/users/533104/dakamojo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 536, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1572020768, "creation_date": 1536607554, "question_id": 52264259, "link": "https://stackoverflow.com/questions/52264259/how-do-i-create-a-datetime-instance-in-a-specific-timezone", "title": "How do I create a DateTime instance in a specific timezone?", "body": "<p>I am calling a legacy service that returns all times in a string format assuming that the timezone is EST.  How do I create a DateTime instance and specify that the timezone is EST?  When I display the times to the user's I will translate to their device timezone.</p>\n"}, {"tags": ["dart", "flutter", "inherited-widget"], "comments": [{"owner": {"reputation": 4247, "user_id": 2203672, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/Tsr1T.jpg?s=128&g=1", "display_name": "boeledi", "link": "https://stackoverflow.com/users/2203672/boeledi"}, "edited": false, "score": 1, "creation_date": 1536613643, "post_id": 52263068, "comment_id": 91479029, "body": "Hi @Sebastian. 1. Your code does not show the LoginBlocProvider (could you please share). 2. I don&#39;t understand why you get the bloc in the didChangeDependencies.  I would rather a) get it from the build method, before the return Scaffold or, b) Add an void initState(){super.initState();WidgetsBinding.instance.addPos&zwnj;&#8203;tFrameCallback((_){b&zwnj;&#8203;loc = LoginBlocProvider.of(context);});  Could you please try and/or answer?  Cheers."}, {"owner": {"reputation": 2217, "user_id": 8506648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uE5Mc.jpg?s=128&g=1", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/8506648/sebastian"}, "reply_to_user": {"reputation": 4247, "user_id": 2203672, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/Tsr1T.jpg?s=128&g=1", "display_name": "boeledi", "link": "https://stackoverflow.com/users/2203672/boeledi"}, "edited": false, "score": 0, "creation_date": 1536614083, "post_id": 52263068, "comment_id": 91479193, "body": "@boeledi I updated the question with the LoginBlocProvider. I try to get the bloc in the didChangeDependencies method because after that I will set up a stream listener. I didn&#39;t do it in initState() because I don&#39;t have access to the context."}, {"owner": {"reputation": 2217, "user_id": 8506648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uE5Mc.jpg?s=128&g=1", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/8506648/sebastian"}, "reply_to_user": {"reputation": 4247, "user_id": 2203672, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/Tsr1T.jpg?s=128&g=1", "display_name": "boeledi", "link": "https://stackoverflow.com/users/2203672/boeledi"}, "edited": false, "score": 0, "creation_date": 1536614629, "post_id": 52263068, "comment_id": 91479386, "body": "@boeledi One more thing. This issue goes beyond where I place the call to the inherited widget. For example if I place it in the build function I get the same getter called on null error. That&#39;s what&#39;s throwing me off. And that&#39;s why I thing it had something to do with the navigator.push method"}, {"owner": {"reputation": 2000, "user_id": 7448506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zAGx9.jpg?s=128&g=1", "display_name": "Kirollos Morkos", "link": "https://stackoverflow.com/users/7448506/kirollos-morkos"}, "edited": false, "score": 0, "creation_date": 1536618627, "post_id": 52263068, "comment_id": 91480572, "body": "@Sebastian you have access to <code>context</code> anywhere within a State class, so you can use it in <code>initState</code>. See here: <a href=\"https://docs.flutter.io/flutter/widgets/State/context.html\" rel=\"nofollow noreferrer\">docs.flutter.io/flutter/widgets/State/context.html</a>"}, {"owner": {"reputation": 2217, "user_id": 8506648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uE5Mc.jpg?s=128&g=1", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/8506648/sebastian"}, "reply_to_user": {"reputation": 2000, "user_id": 7448506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zAGx9.jpg?s=128&g=1", "display_name": "Kirollos Morkos", "link": "https://stackoverflow.com/users/7448506/kirollos-morkos"}, "edited": false, "score": 0, "creation_date": 1536620779, "post_id": 52263068, "comment_id": 91481039, "body": "@KirollosMorkos Thanks for your answer, but the problem I&#39;m having is not about accessing the context of the widget (see my last comment)"}], "answers": [{"comments": [{"owner": {"reputation": 2217, "user_id": 8506648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uE5Mc.jpg?s=128&g=1", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/8506648/sebastian"}, "edited": false, "score": 1, "creation_date": 1536633589, "post_id": 52267114, "comment_id": 91483387, "body": "That make sense, would you mind giving some more detail about it? If i wanted to place a BlocProvider after some navigation, how can I achieve that?"}, {"owner": {"reputation": 2000, "user_id": 7448506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zAGx9.jpg?s=128&g=1", "display_name": "Kirollos Morkos", "link": "https://stackoverflow.com/users/7448506/kirollos-morkos"}, "reply_to_user": {"reputation": 2217, "user_id": 8506648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uE5Mc.jpg?s=128&g=1", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/8506648/sebastian"}, "edited": false, "score": 1, "creation_date": 1536633803, "post_id": 52267114, "comment_id": 91483435, "body": "Just updated my answer to show that! When you use a MaterialApp, it actually bundles a lot of commonly used widgets together for you, including a Navigator. By putting your LoginBlocProvider outside the MaterialApp, you can guarantee that all routes in your app will have access to it."}, {"owner": {"reputation": 2217, "user_id": 8506648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uE5Mc.jpg?s=128&g=1", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/8506648/sebastian"}, "edited": false, "score": 0, "creation_date": 1536634207, "post_id": 52267114, "comment_id": 91483532, "body": "Thank you so much for your answer. I&#39;ll try it"}, {"owner": {"reputation": 2000, "user_id": 7448506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zAGx9.jpg?s=128&g=1", "display_name": "Kirollos Morkos", "link": "https://stackoverflow.com/users/7448506/kirollos-morkos"}, "reply_to_user": {"reputation": 2217, "user_id": 8506648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uE5Mc.jpg?s=128&g=1", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/8506648/sebastian"}, "edited": false, "score": 0, "creation_date": 1536634257, "post_id": 52267114, "comment_id": 91483542, "body": "No problem, glad I could help!"}, {"owner": {"reputation": 2690, "user_id": 5546443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MqHNK.jpg?s=128&g=1", "display_name": "krishnakumarcn", "link": "https://stackoverflow.com/users/5546443/krishnakumarcn"}, "edited": false, "score": 2, "creation_date": 1549532248, "post_id": 52267114, "comment_id": 95938275, "body": "If i wanted to place a BlocProvider after some navigation, how can I achieve that? @KirollosMorkos"}, {"owner": {"reputation": 2000, "user_id": 7448506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zAGx9.jpg?s=128&g=1", "display_name": "Kirollos Morkos", "link": "https://stackoverflow.com/users/7448506/kirollos-morkos"}, "reply_to_user": {"reputation": 2690, "user_id": 5546443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MqHNK.jpg?s=128&g=1", "display_name": "krishnakumarcn", "link": "https://stackoverflow.com/users/5546443/krishnakumarcn"}, "edited": false, "score": 0, "creation_date": 1549734152, "post_id": 52267114, "comment_id": 96012578, "body": "What do you mean @KrishnakumarCN?"}, {"owner": {"reputation": 2690, "user_id": 5546443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MqHNK.jpg?s=128&g=1", "display_name": "krishnakumarcn", "link": "https://stackoverflow.com/users/5546443/krishnakumarcn"}, "edited": false, "score": 0, "creation_date": 1549775459, "post_id": 52267114, "comment_id": 96020900, "body": "Assume I have a module for some user logic which displays several screens after my main executes. So how can I provide a bloc only to that module and its children. If I do some navigation to display my children then the bloc will not be accessible there as per the answers understanding. Do I need to use MaterialApp parent again to my new module? Correct me if I&#39;m wrong with the concepts. @KirollosMorkos"}, {"owner": {"reputation": 2000, "user_id": 7448506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zAGx9.jpg?s=128&g=1", "display_name": "Kirollos Morkos", "link": "https://stackoverflow.com/users/7448506/kirollos-morkos"}, "reply_to_user": {"reputation": 2690, "user_id": 5546443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MqHNK.jpg?s=128&g=1", "display_name": "krishnakumarcn", "link": "https://stackoverflow.com/users/5546443/krishnakumarcn"}, "edited": false, "score": 0, "creation_date": 1549836507, "post_id": 52267114, "comment_id": 96035782, "body": "@KrishnakumarCN, as long as the Bloc is in the widget hierarchy, all of it&#39;s children will have access to it. The bloc is scoped to its descendants. In general, you shouldn&#39;t need more than one instance of MaterialApp in your widget hierarchy, but you can have several bloc instances if that makes sense in your use case."}, {"owner": {"reputation": 71, "user_id": 14191029, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GibQTskDqEfB-BGzNfIEyvxnHi6HEy4lR2GcysPSQ=k-s128", "display_name": "Aryan Sethi", "link": "https://stackoverflow.com/users/14191029/aryan-sethi"}, "edited": false, "score": 0, "creation_date": 1615888506, "post_id": 52267114, "comment_id": 117824833, "body": "@KirollosMorkos I&#39;m facing the same issue. I&#39;ll try to explain what krishnakumarcn wants to say. So suppose my nagivagtion is like this -  MaterialApp -&gt; HomePage -&gt; (A form to ask name) -&gt; (A screen that displays that name) . In this case I will want to wrap the LogicBlocProvider around the form page, then how can I access it in the next pages ?"}, {"owner": {"reputation": 2000, "user_id": 7448506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zAGx9.jpg?s=128&g=1", "display_name": "Kirollos Morkos", "link": "https://stackoverflow.com/users/7448506/kirollos-morkos"}, "reply_to_user": {"reputation": 71, "user_id": 14191029, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GibQTskDqEfB-BGzNfIEyvxnHi6HEy4lR2GcysPSQ=k-s128", "display_name": "Aryan Sethi", "link": "https://stackoverflow.com/users/14191029/aryan-sethi"}, "edited": false, "score": 0, "creation_date": 1616292626, "post_id": 52267114, "comment_id": 117955545, "body": "@AryanSethi - If the next pages you are referring to are descendants of <code>LoginBlocProvider</code>,  you can access the bloc using <code>LoginBlocProvider.of(context)</code>. See <a href=\"https://api.flutter.dev/flutter/widgets/InheritedWidget-class.html#widgets.InheritedWidget.2\" rel=\"nofollow noreferrer\">api.flutter.dev/flutter/widgets/&hellip;</a> for more info."}, {"owner": {"reputation": 179, "user_id": 10901093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OM22u.jpg?s=128&g=1", "display_name": "Ehsan Askari", "link": "https://stackoverflow.com/users/10901093/ehsan-askari"}, "edited": false, "score": 0, "creation_date": 1617100143, "post_id": 52267114, "comment_id": 118202748, "body": "@KirollosMorkos I am a little confused here. <i><code>LoginScreen</code> is not a descendant of <code>LoginBlocProvider</code></i>??"}, {"owner": {"reputation": 179, "user_id": 10901093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OM22u.jpg?s=128&g=1", "display_name": "Ehsan Askari", "link": "https://stackoverflow.com/users/10901093/ehsan-askari"}, "edited": false, "score": 0, "creation_date": 1617100574, "post_id": 52267114, "comment_id": 118202942, "body": "@KirollosMorkos <i>Your code wraps the <code>WelcomeScreen</code> route in <code>LoginBlocProvider</code>, but not the whole navigator.</i>?? How can I wrap the whole <b>navigator</b> inside <code>LoginBlocProvider</code>? I know wrapping the <code>MaterialApp</code> inside <code>LoginBlocProvider</code> makes it globally accessible. But, what I want is to make an <code>InteritedWidget</code> accessible to only a sub tree and screens that are navigated from this sub tree."}], "tags": [], "owner": {"reputation": 2000, "user_id": 7448506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zAGx9.jpg?s=128&g=1", "display_name": "Kirollos Morkos", "link": "https://stackoverflow.com/users/7448506/kirollos-morkos"}, "is_accepted": true, "score": 18, "last_activity_date": 1549734128, "last_edit_date": 1549734128, "creation_date": 1536625671, "answer_id": 52267114, "question_id": 52263068, "link": "https://stackoverflow.com/questions/52263068/inheritedwidget-the-getter-was-called-on-null-after-navigator-push/52267114#52267114", "title": "InheritedWidget - The getter was called on null after navigator.push", "body": "<p>In the code you've provided, <code>LoginScreen</code> is not a descendant of <code>LoginBlocProvider</code> which is why it can't find the ancestor widget. Your code wraps the <code>WelcomeScreen</code> route in <code>LoginBlocProvider</code>, but not the whole navigator. The solution is to wrap your <code>MaterialApp</code> in <code>LoginBlocProvider</code> and then you will have access to it everywhere in your app. </p>\n\n<pre><code>class App extends StatelessWidget {\n  @override\n  Widget build(context) {\n    return LoginBlocProvider(\n      child: MaterialApp(\n        title: 'Iniciar Sesion',\n        home: WelcomeScreen(),\n      ),\n    );\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3549, "user_id": 773718, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/c45b8b879b306d24f8462ddfb3e55db9?s=128&d=identicon&r=PG", "display_name": "MSaudi", "link": "https://stackoverflow.com/users/773718/msaudi"}, "is_accepted": false, "score": 1, "last_activity_date": 1576655871, "creation_date": 1576655871, "answer_id": 59387686, "question_id": 52263068, "link": "https://stackoverflow.com/questions/52263068/inheritedwidget-the-getter-was-called-on-null-after-navigator-push/59387686#59387686", "title": "InheritedWidget - The getter was called on null after navigator.push", "body": "<p><code>InheritedWidget</code> should wrap the full MatrialApp widget (root widget)</p>\n"}], "owner": {"reputation": 2217, "user_id": 8506648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uE5Mc.jpg?s=128&g=1", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/8506648/sebastian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8233, "favorite_count": 3, "accepted_answer_id": 52267114, "answer_count": 2, "score": 11, "last_activity_date": 1576655871, "creation_date": 1536602004, "last_edit_date": 1536613894, "question_id": 52263068, "link": "https://stackoverflow.com/questions/52263068/inheritedwidget-the-getter-was-called-on-null-after-navigator-push", "title": "InheritedWidget - The getter was called on null after navigator.push", "body": "<p>I'm having trouble trying to access an InheritedWidget after navigating to a new widget.</p>\n\n<p>I have my top level widget like this </p>\n\n<pre><code>class App extends StatelessWidget{\n  build(context){\n    return MaterialApp(\n        title: 'Iniciar Sesion',\n        home: LoginBlocProvider(child: WelcomeScreen()),\n    );\n  }  \n}\n</code></pre>\n\n<p>Then WelcomeScreen has a button to navigate to LoginScreen</p>\n\n<pre><code>class WelcomeScreen extends StatelessWidget {\n\n  @override Widget build(BuildContext context){\n    return Scaffold(\n      body: Center(child: MyButton)\n    );\n  }\n}\n\nclass MyButton extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return RaisedButton(\n      shape: StadiumBorder(),\n      child: Text('Ingresar', style: TextStyle(color: Colors.black)),\n      elevation: 5.0,\n      onPressed: () { \n        Navigator.of(context).push(MaterialPageRoute(\n           builder: (BuildContext context) =&gt;LoginScreen()\n        ));\n      }\n    );\n  }\n}\n</code></pre>\n\n<p>Finally in LoginScreen I want to access the InheritedWidget</p>\n\n<pre><code>class LoginScreen extends StatefulWidget {\n  @override\n  _LoginScreenState createState() =&gt; _LoginScreenState();\n}\n\nclass _LoginScreenState extends State&lt;LoginScreen&gt; {\n  LoginBloc bloc;  \n\n  @override void didChangeDependencies() {\n    bloc = LoginBlocProvider.of(context);\n    super.didChangeDependencies();\n  }\n\n  @override Widget build(BuildContext context){\n    return Scaffold(\n      body:\n      Stack(\n        fit: StackFit.expand,\n        children: &lt;Widget&gt;[\n          Positioned(\n            top: 0.0,\n            child: Image.asset('assets/images/img.jpg',\n              fit: BoxFit.none,\n            ),\n          ),\n          _buildLogin(),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p><strong>Edited:</strong> Here it's the LoginBlocProvider </p>\n\n<pre><code>class LoginBlocProvider extends InheritedWidget {\n  final bloc;\n\n  LoginBlocProvider({Key key, Widget child}) \n  : bloc = LoginBloc(), \n  super(key:key, child:child);\n\n  @override\n  bool updateShouldNotify(InheritedWidget oldWidget) =&gt; true;\n\n  static LoginBloc of(BuildContext context) {\n    return (context.inheritFromWidgetOfExactType(LoginBlocProvider) as LoginBlocProvider).bloc;\n  }\n}\n</code></pre>\n\n<p>But, when I run the .of method of the InheritedWidget I get this error </p>\n\n<pre><code>I/flutter (27725): The following NoSuchMethodError was thrown building Builder:\nI/flutter (27725): The getter 'bloc' was called on null.\nI/flutter (27725): Receiver: null\nI/flutter (27725): Tried calling: bloc\n</code></pre>\n\n<p>I have the impression that it all has to do with the context in the Navigator.push builder method.\nBecause if I use the LoginScreen widget without the Navigator.push, I can use the InheritedWidget perfectly fine</p>\n\n<p>The error is happening because the context passed to the <code>LoginBlocProvider.of()</code> method is not finding the instance.</p>\n\n<p>Any thoughts on this?</p>\n"}, {"tags": ["optimization", "dart"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user933161"}, "edited": false, "score": 0, "creation_date": 1536591708, "post_id": 52260569, "comment_id": 91468748, "body": "You can omit the first <code>if</code> and swap the remaining two."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10342794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eyCsG.png?s=128&g=1", "display_name": "Xylobol", "link": "https://stackoverflow.com/users/10342794/xylobol"}, "edited": false, "score": 0, "creation_date": 1536595090, "post_id": 52260681, "comment_id": 91470688, "body": "Ahh, alright, thanks. Do you have any suggestions about optimizing the current <code>if</code> solution? (also, I tried upvoting your post, but I couldn&#39;t due to lack of reputation - much thanks)"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 13, "user_id": 10342794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eyCsG.png?s=128&g=1", "display_name": "Xylobol", "link": "https://stackoverflow.com/users/10342794/xylobol"}, "edited": false, "score": 0, "creation_date": 1536595513, "post_id": 52260681, "comment_id": 91470894, "body": "Why ate you using <code>var num = i + 1;</code>? With <code>for (int i = 1; i &lt; 5000001; i++) {</code> you could drop it."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 13, "user_id": 10342794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eyCsG.png?s=128&g=1", "display_name": "Xylobol", "link": "https://stackoverflow.com/users/10342794/xylobol"}, "edited": false, "score": 0, "creation_date": 1536595660, "post_id": 52260681, "comment_id": 91470952, "body": "You could skip <code>if (num % 15 == 0) {</code> if <code>num % 3</code> and <code>num % 5</code> are <code>!= 0</code>."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 13, "user_id": 10342794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eyCsG.png?s=128&g=1", "display_name": "Xylobol", "link": "https://stackoverflow.com/users/10342794/xylobol"}, "edited": false, "score": 0, "creation_date": 1536595866, "post_id": 52260681, "comment_id": 91471058, "body": "You could also keep track how many numbers you added and tkip the modulo calculation entirely. You know that after incrementing another 3 <code>% 3</code> will be 0 (same for 5 and 15)"}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 0, "last_activity_date": 1536591890, "creation_date": 1536591890, "answer_id": 52260681, "question_id": 52260569, "link": "https://stackoverflow.com/questions/52260569/how-can-i-optimize-dart-code-heavy-on-if-statements/52260681#52260681", "title": "How can I optimize Dart code heavy on if statements?", "body": "<p><code>num</code> is a type of a built in type (common super type of <code>int</code> and <code>double</code>), also the <code>case ...:</code> expression needs to be constant and therefore can't be calculated based on non-constant values.</p>\n\n<p>I think using <code>if</code> is the best option.</p>\n"}, {"tags": [], "owner": {"reputation": 3265, "user_id": 3983442, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4UY5D.jpg?s=128&g=1", "display_name": "Stephen", "link": "https://stackoverflow.com/users/3983442/stephen"}, "is_accepted": false, "score": 0, "last_activity_date": 1536597475, "creation_date": 1536597475, "answer_id": 52262092, "question_id": 52260569, "link": "https://stackoverflow.com/questions/52260569/how-can-i-optimize-dart-code-heavy-on-if-statements/52262092#52262092", "title": "How can I optimize Dart code heavy on if statements?", "body": "<p>Printing to console becomes a non-trivial operation when performance testing like this. With your code you are testing the speed of print here more than anything. The conditional statements and increments are a fraction of your running time.</p>\n\n<p>Try the following:</p>\n\n<pre><code>import 'dart:async';\n\nmain(){\n  // mark the start of go\n  var begin = DateTime.now();\n  go();\n  //mark the time that go completes and goZoned begins\n  var midpoint = DateTime.now();\n  goZoned();\n  // mark the end of goZoned\n  var end = DateTime.now();\n  print(\"done:\\n$begin\\n$midpoint\\n$end\");\n}\n\n// This function runs the go function, but short-circuits any calls to print\n// with a no-op\nvoid goZoned() {\n  runZoned(() {\n    go();\n  }, zoneSpecification: new ZoneSpecification(\n      print: (Zone self, ZoneDelegate parent, Zone zone, String line) {}\n      )\n  );\n}\n\nvoid go(){\n    for (int i = 0; i &lt; 5000000; i++) {\n      var num = i + 1;\n      if (num % 15 == 0) {\n        print('FizzBuzz');\n        continue;\n      }\n      if (num % 5 == 0) {\n        print('Buzz');\n        continue;\n      }\n      if (num % 3 == 0) {\n        print('Fizz');\n        continue;\n      }\n      print(num);\n    }\n}\n</code></pre>\n\n<p>The results on my machine were</p>\n\n<pre><code>done:\n2018-09-10 10:33:23.012086\n2018-09-10 10:33:33.407191\n2018-09-10 10:33:33.827196\n</code></pre>\n\n<p>You can see that the execution with print statements took over 10 seconds, but without print statements took a little more than a third of a second.</p>\n\n<p>(wall time is still a very crude method of measuring run time, but does the job here)</p>\n"}], "owner": {"reputation": 13, "user_id": 10342794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eyCsG.png?s=128&g=1", "display_name": "Xylobol", "link": "https://stackoverflow.com/users/10342794/xylobol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 259, "favorite_count": 0, "accepted_answer_id": 52260681, "answer_count": 2, "score": 1, "last_activity_date": 1536597475, "creation_date": 1536591497, "question_id": 52260569, "link": "https://stackoverflow.com/questions/52260569/how-can-i-optimize-dart-code-heavy-on-if-statements", "title": "How can I optimize Dart code heavy on if statements?", "body": "<p>I'm new to the Dart programming language, and I turned to my usual test, FizzBuzz, to check out the language. At the moment, I've got this relatively <code>if</code>-heavy example, which is pretty slow. Just dropping one if statements takes the execution time from 36 seconds to 25 seconds on my MacBook Pro, with 5000000 loops. I was wondering the ways I could optimize it further.</p>\n\n<pre><code>void main() {\n  for (int i = 0; i &lt; 5000000; i++) {\n    var num = i + 1;\n    if (num % 15 == 0) {\n      print('FizzBuzz');\n      continue;\n    }\n    if (num % 5 == 0) {\n      print('Buzz');\n      continue;\n    }\n    if (num % 3 == 0) {\n      print('Fizz');\n      continue;\n    }\n    print(num);\n  }\n}\n</code></pre>\n\n<p>I tried wrapping it all in a <code>switch</code> statement, as follows, but it doesn't compile to JS, and DartPad gives the error <code>Type 'int' of the switch expression isn't assignable to the type 'bool' of case expressions.</code></p>\n\n<pre><code>void main() {\n  for (int i = 0; i &lt; 5000000; i++) {\n    var num = i + 1;\n    switch (num) {\n      case (num % 15 == 0):\n        print('FizzBuzz');\n        break;\n      case (num % 5 == 0):\n        print('Buzz');\n        break;\n      case (num % 3 == 0):\n        print('Fizz');\n        break;\n      default:\n        print(num);\n    }\n  }\n}\n</code></pre>\n\n<p>Thank you in advanced.</p>\n"}, {"tags": ["dart", "dart-isolates", "dart-2"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1536589449, "post_id": 52259889, "comment_id": 91467274, "body": "<a href=\"https://stackoverflow.com/questions/29247374/what-is-the-best-way-to-track-the-state-of-an-isolate-in-dart/29248794#29248794\" title=\"what is the best way to track the state of an isolate in dart\">stackoverflow.com/questions/29247374/&hellip;</a> is a bit dated but should still work"}], "answers": [{"tags": [], "owner": {"reputation": 4296, "user_id": 39827, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/289adeb0bd8b3017a29329ed94364c3a?s=128&d=identicon&r=PG", "display_name": "Kevin Moore", "link": "https://stackoverflow.com/users/39827/kevin-moore"}, "is_accepted": false, "score": 6, "last_activity_date": 1618219780, "last_edit_date": 1618219780, "creation_date": 1536619177, "answer_id": 52266412, "question_id": 52259889, "link": "https://stackoverflow.com/questions/52259889/bidirectional-communication-with-isolates-in-dart-2/52266412#52266412", "title": "Bidirectional communication with isolates in Dart 2", "body": "<p>Look at <a href=\"https://pub.dev/documentation/stream_channel/latest/isolate_channel/IsolateChannel-class.html\" rel=\"nofollow noreferrer\">IsolateChannel</a> from the <a href=\"https://pub.dartlang.org/packages/stream_channel\" rel=\"nofollow noreferrer\">package:stream_channel</a>.</p>\n<p>This should provide a LOT of help for what you're trying to do.</p>\n"}, {"tags": [], "owner": {"reputation": 1815, "user_id": 1943209, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0865115bcef7a02115b1ac8bcb0835b1?s=128&d=identicon&r=PG", "display_name": "Nico Rodsevich", "link": "https://stackoverflow.com/users/1943209/nico-rodsevich"}, "is_accepted": true, "score": 7, "last_activity_date": 1536676827, "last_edit_date": 1536676827, "creation_date": 1536674498, "answer_id": 52277743, "question_id": 52259889, "link": "https://stackoverflow.com/questions/52259889/bidirectional-communication-with-isolates-in-dart-2/52277743#52277743", "title": "Bidirectional communication with isolates in Dart 2", "body": "<p>With <a href=\"https://stackoverflow.com/users/217408/g%C3%BCnter-z%C3%B6chbauer\">Gunter</a>'s <a href=\"https://stackoverflow.com/questions/52259889/bidirectional-communication-with-isolates-in-dart-2/52277743#comment91467274_52259889\">comment</a> I made this:</p>\n\n<pre><code>import 'dart:async';\nimport 'dart:io';\nimport 'dart:isolate';\n\nStopwatch stopwatch = new Stopwatch();\n\nmain(args) async {\n  ReceivePort rPort = new ReceivePort();\n  rPort.listen((data) {\n    print(\"&lt;root&gt; $data received\");\n    if (data is List) {\n      String action = data[0];\n      if (action == \"register\") {\n        (data[1] as SendPort).send(stopwatch.elapsedMilliseconds);\n      }\n    }\n  });\n  stopwatch.start();\n  await Isolate.spawn(elIsolate, rPort.sendPort);\n  print(\"isolate spawned in ${stopwatch.elapsedMilliseconds} msecs\"); //isolate spawned in 377 msecs\n}\n\nvoid elIsolate(SendPort sPort) {\n  ReceivePort rPort = new ReceivePort();\n  rPort.listen((data) {\n    print(\"&lt;Isolate&gt; '$data' received\"); //&lt;Isolate&gt; '387' received\n  });\n  sPort.send([\"register\", rPort.sendPort]);\n}\n</code></pre>\n\n<p>While with <a href=\"https://stackoverflow.com/users/39827/kevin-moore\">Kevin</a>'s <a href=\"https://stackoverflow.com/questions/52259889/bidirectional-communication-with-isolates-in-dart-2/52266412#52266412\">answer</a> the code simplified to:</p>\n\n<pre><code>import 'dart:async';\nimport 'dart:io';\nimport 'dart:isolate';\nimport 'package:stream_channel/stream_channel.dart';\n\nStopwatch stopwatch = new Stopwatch();\n\nmain(args) async {\n  ReceivePort rPort = new ReceivePort();\n  IsolateChannel channel = new IsolateChannel.connectReceive(rPort);\n  channel.stream.listen((data) {\n    print(\"&lt;root&gt; '$data' received at ${stopwatch.elapsedMilliseconds} msecs\"); //&lt;root&gt; 'hello world' received at 1141 msecs\n    channel.sink.add(stopwatch.elapsedMilliseconds);\n  });\n  stopwatch.start();\n  await Isolate.spawn(elIsolate, rPort.sendPort);\n  print(\"isolate spawned in ${stopwatch.elapsedMilliseconds} msecs\"); //isolate spawned in 1111 msecs\n}\n\nvoid elIsolate(SendPort sPort) {\n  IsolateChannel channel = new IsolateChannel.connectSend(sPort);\n  channel.stream.listen((data) {\n    print(\"&lt;Isolate&gt; '$data' received\");\n  });\n  channel.sink.add(\"hello world\");\n}\n</code></pre>\n"}], "owner": {"reputation": 1815, "user_id": 1943209, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0865115bcef7a02115b1ac8bcb0835b1?s=128&d=identicon&r=PG", "display_name": "Nico Rodsevich", "link": "https://stackoverflow.com/users/1943209/nico-rodsevich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 995, "favorite_count": 0, "accepted_answer_id": 52277743, "answer_count": 2, "score": 7, "last_activity_date": 1618219780, "creation_date": 1536589247, "question_id": 52259889, "link": "https://stackoverflow.com/questions/52259889/bidirectional-communication-with-isolates-in-dart-2", "title": "Bidirectional communication with isolates in Dart 2", "body": "<p>I'm trying isolates and I'm wondering how could I spawn some of them doing heavy computations that, when the root Isolate ask them for their current computing value they respond it, \"on demand\".</p>\n\n<p>As far as I know, the only object that can be used as message for the newly created isolates is SendPort, meaning that only the spawned isolate can communicate with the root one. I tried sending a &lt; SendPort,ReceivePort> tuple, but as ReceivePort isn't a SendPort, it's considered as illegal.</p>\n\n<p>In a nutshell:</p>\n\n<blockquote>\n  <p>root &lt;-- isolate <strong>good</strong></p>\n  \n  <p>root &lt;-> isolate <strong>how to?</strong></p>\n</blockquote>\n"}, {"tags": ["dart", "flutter", "flutter-dependencies"], "answers": [{"comments": [{"owner": {"reputation": 5578, "user_id": 3572546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9FtXx.jpg?s=128&g=1", "display_name": "nonybrighto", "link": "https://stackoverflow.com/users/3572546/nonybrighto"}, "edited": false, "score": 0, "creation_date": 1536588980, "post_id": 52259746, "comment_id": 91466988, "body": "tts should be in quote. Will using <code>&quot;tts&quot;:any</code> also do the trick?"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 5578, "user_id": 3572546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9FtXx.jpg?s=128&g=1", "display_name": "nonybrighto", "link": "https://stackoverflow.com/users/3572546/nonybrighto"}, "edited": false, "score": 0, "creation_date": 1536589300, "post_id": 52259746, "comment_id": 91467175, "body": "There is no need to use quotes for the name. The version constraint needs to be in quotes when it contains spaces like <code>&quot;&gt;= 1.0.0 &lt;2.0.0&quot;</code>. Using <code>any</code> is discouraged because it increases the time to find a compatible set of dependencies because it allows all existing versions. Narrow constraints are usually better."}, {"owner": {"reputation": 5578, "user_id": 3572546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9FtXx.jpg?s=128&g=1", "display_name": "nonybrighto", "link": "https://stackoverflow.com/users/3572546/nonybrighto"}, "edited": false, "score": 0, "creation_date": 1536591748, "post_id": 52259746, "comment_id": 91468774, "body": "Thanks a lot for the explanation. But it is okay to make use of it once and then get the version that works from the <code>package-lock.json</code> file."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 5578, "user_id": 3572546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9FtXx.jpg?s=128&g=1", "display_name": "nonybrighto", "link": "https://stackoverflow.com/users/3572546/nonybrighto"}, "edited": false, "score": 0, "creation_date": 1536592061, "post_id": 52259746, "comment_id": 91468947, "body": "Definitely okay to make use of it for that. It&#39;s just if your application grows and the list of dependencies as well it could lead to troubles."}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1536588780, "creation_date": 1536588780, "answer_id": 52259746, "question_id": 52259661, "link": "https://stackoverflow.com/questions/52259661/dart-flutter-package-how-to-update-a-packge-not-allowing-my-development-to-ma/52259746#52259746", "title": "Dart | Flutter Package: How to update a Packge Not allowing my development to make progress?", "body": "<p>Add this to <code>pubspec.yaml</code> </p>\n\n<pre><code>dependency_overrides:\n  tts: ^1.0.1\n</code></pre>\n\n<p>until <code>tts</code> is updated to support Dart 2 final.</p>\n"}], "owner": {"reputation": 339, "user_id": 9513370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6fef43cad20320f5ec2f3b570ba5727?s=128&d=identicon&r=PG&f=1", "display_name": "Dev Ed", "link": "https://stackoverflow.com/users/9513370/dev-ed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 453, "favorite_count": 0, "accepted_answer_id": 52259746, "answer_count": 1, "score": 1, "last_activity_date": 1536588780, "creation_date": 1536588550, "question_id": 52259661, "link": "https://stackoverflow.com/questions/52259661/dart-flutter-package-how-to-update-a-packge-not-allowing-my-development-to-ma", "title": "Dart | Flutter Package: How to update a Packge Not allowing my development to make progress?", "body": "<p>The Following Package has not been updated:\n<a href=\"https://pub.dartlang.org/packages/tts\" rel=\"nofollow noreferrer\">https://pub.dartlang.org/packages/tts</a> \nI am getting the same error. \nIs there any way I can update or fix this issue on my side to continue <a href=\"https://pub.dartlang.org/packages/tts#-analysis-tab-\" rel=\"nofollow noreferrer\">https://pub.dartlang.org/packages/tts#-analysis-tab-</a></p>\n\n<pre><code>Running flutter packages pub upgrade failed with the following output:\n\nERR: The current Dart SDK version is 2.1.0-dev.1.0.flutter-69fce633b7.\n\nBecause tts requires SDK version &gt;=1.8.0 &lt;=2.0.0, version solving failed.\n</code></pre>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 819, "user_id": 9907366, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PA8dauX8bto/AAAAAAAAAAI/AAAAAAAAAGg/b6BphmC227g/photo.jpg?sz=128", "display_name": "satish", "link": "https://stackoverflow.com/users/9907366/satish"}, "edited": false, "score": 0, "creation_date": 1540365296, "post_id": 52257670, "comment_id": 92832632, "body": "The problem has been solved using <code>ImageShader</code>"}, {"owner": {"reputation": 819, "user_id": 9907366, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PA8dauX8bto/AAAAAAAAAAI/AAAAAAAAAGg/b6BphmC227g/photo.jpg?sz=128", "display_name": "satish", "link": "https://stackoverflow.com/users/9907366/satish"}, "edited": false, "score": 0, "creation_date": 1546248128, "post_id": 52257670, "comment_id": 94808497, "body": "masking issue solved."}, {"owner": {"reputation": 2695, "user_id": 1130342, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52ff3fc6190f6f2b4813a5683697fbf6?s=128&d=identicon&r=PG", "display_name": "Luke Pighetti", "link": "https://stackoverflow.com/users/1130342/luke-pighetti"}, "edited": false, "score": 0, "creation_date": 1563551264, "post_id": 52257670, "comment_id": 100750261, "body": "Can you please reduce the example so it&#39;s easier to read? Thank you."}], "owner": {"reputation": 9, "user_id": 10254138, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WyN7QL2-_qM/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPZUeCHrzRe25U0A6XE8tCNP-M4eA/mo/photo.jpg?sz=128", "display_name": "satish kumar", "link": "https://stackoverflow.com/users/10254138/satish-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2417, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1536591612, "creation_date": 1536581954, "last_edit_date": 1536591612, "question_id": 52257670, "link": "https://stackoverflow.com/questions/52257670/flutter-paint-image-in-canvas", "title": "Flutter- paint image in canvas", "body": "<p>I want to draw Image using the <code>CustomPaint</code> Class. Here I am using the  <code>RenderProxyBox</code> to draw the image and cover with one layer, and using <code>BlendMode.clear</code> I am removing the layer. However I want to do that for multi image.\nIf anyone has any idea please comment</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:flutter/rendering.dart';\nimport 'dart: math' as math;\nclass DemoApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Scratch Card',\n      home: Scaffold(\n        appBar: AppBar(\n          title: Text('Scratch Card'),\n        ),\n        body: Material(\n          child: Center(\n            child: SizedBox(\n              width: 500.0,\n              height: 500.0,\n              child: Stack(\n                children: &lt;Widget&gt;[\n                  ScratchCard(\n                    cover: Stack(\n                      fit: StackFit.expand,\n                      children: &lt;Widget&gt;[\n                        FittedBox(\n                          child: Image.asset(\n                            'assets/bird.jpg',\n                            repeat: ImageRepeat.repeat,\n                          ),\n                        ),\n                      ],\n                    ),\n                    reveal: DecoratedBox(\n                      decoration: const BoxDecoration(color: Colors.black),\n                      child: Center(\n                        child:\n                            FittedBox(child: Image.asset('assets/flower.jpg')),\n                      ),\n                    ),\n                    strokeWidth: 15.0,\n                    finishPercent: 50,\n                    onComplete: () =&gt; print('The card is now clear!'),\n                  ),\n                ],\n              ),\n            ),\n          ),\n        ),\n      ),\n    );\n  }\n}\n\nclass ScratchCard extends StatefulWidget {\n  const ScratchCard({\n    Key key,\n    this.cover,\n    this.reveal,\n    this.strokeWidth = 25.0,\n    this.finishPercent,\n    this.onComplete,\n  }) : super(key: key);\n\n  final Widget cover;\n  final Widget reveal;\n  final double strokeWidth;\n  final int finishPercent;\n  final VoidCallback onComplete;\n\n  @override\n  _ScratchCardState createState() =&gt; _ScratchCardState();\n}\n\nclass _ScratchCardState extends State&lt;ScratchCard&gt; {\n  _ScratchData _data = _ScratchData();\n\n  Offset _lastPoint = null;\n\n  Offset _globalToLocal(Offset global) {\n    return (context.findRenderObject() as RenderBox).globalToLocal(global);\n  }\n\n  double _distanceBetween(Offset point1, Offset point2) {\n    return math.sqrt(math.pow(point2.dx - point1.dx, 2) +\n        math.pow(point2.dy - point1.dy, 2));\n  }\n\n  double _angleBetween(Offset point1, Offset point2) {\n    return math.atan2(point2.dx - point1.dx, point2.dy - point1.dy);\n  }\n\n  void _onPanDown(DragDownDetails details) {\n    _lastPoint = _globalToLocal(details.globalPosition);\n  }\n\n  void _onPanUpdate(DragUpdateDetails details) {\n    final currentPoint = _globalToLocal(details.globalPosition);\n    final distance = _distanceBetween(_lastPoint, currentPoint);\n    final angle = _angleBetween(_lastPoint, currentPoint);\n    for (double i = 0.0; i &lt; distance; i++) {\n      _data.addPoint(Offset(\n        _lastPoint.dx + (math.sin(angle) * i),\n        _lastPoint.dy + (math.cos(angle) * i),\n      ));\n    }\n    _lastPoint = currentPoint;\n  }\n\n  void _onPanEnd(TapUpDetails details) {\n    final areaRect = context.size.width * context.size.height;\n    double touchArea = math.pi * widget.strokeWidth * widget.strokeWidth;\n    double areaRevealed =\n        _data._points.fold(0.0, (double prev, Offset point) =&gt; touchArea);\n    print('areaRect $areaRect $areaRevealed');\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return GestureDetector(\n      behavior: HitTestBehavior.opaque,\n      onPanDown: _onPanDown,\n      onPanUpdate: _onPanUpdate,\n      onTapUp: _onPanEnd,\n      child: Stack(\n        fit: StackFit.expand,\n        children: &lt;Widget&gt;[\n          widget.reveal,\n          _ScratchCardLayout(\n            strokeWidth: widget.strokeWidth,\n            data: _data,\n            child: widget.cover,\n          ),\n        ],\n      ),\n    );\n  }\n}\n\nclass _ScratchCardLayout extends SingleChildRenderObjectWidget {\n  _ScratchCardLayout({\n    Key key,\n    this.strokeWidth = 25.0,\n    @required this.data,\n    @required this.child,\n  }) : super(\n          key: key,\n          child: child,\n        );\n\n  final Widget child;\n  final double strokeWidth;\n  final _ScratchData data;\n\n  @override\n  RenderObject createRenderObject(BuildContext context) {\n    return _ScratchCardRender(\n      strokeWidth: strokeWidth,\n      data: data,\n    );\n  }\n\n  @override\n  void updateRenderObject(\n      BuildContext context, _ScratchCardRender renderObject) {\n    renderObject\n      ..strokeWidth = strokeWidth\n      ..data = data;\n  }\n}\n\nclass _ScratchCardRender extends RenderProxyBox {\n  _ScratchCardRender({\n    RenderBox child,\n    double strokeWidth,\n    _ScratchData data,\n  })  : assert(data != null),\n        _strokeWidth = strokeWidth,\n        _data = data,\n        super(child);\n\n  double _strokeWidth;\n  _ScratchData _data;\n\n  set strokeWidth(double strokeWidth) {\n    assert(strokeWidth != null);\n    if (_strokeWidth == strokeWidth) {\n      return;\n    }\n    _strokeWidth = strokeWidth;\n    markNeedsPaint();\n  }\n\n  set data(_ScratchData data) {\n    assert(data != null);\n    if (_data == data) {\n      return;\n    }\n    if (attached) {\n      _data.removeListener(markNeedsPaint);\n      data.addListener(markNeedsPaint);\n    }\n    _data = data;\n    markNeedsPaint();\n  }\n\n  @override\n  void attach(PipelineOwner owner) {\n    super.attach(owner);\n    _data.addListener(markNeedsPaint);\n  }\n\n  @override\n  void detach() {\n    _data.removeListener(markNeedsPaint);\n    super.detach();\n  }\n\n  @override\n  void paint(PaintingContext context, Offset offset) {\n    if (child != null) {\n      context.canvas.saveLayer(offset &amp; size, Paint());\n      context.paintChild(child, offset);\n      Paint clear = Paint()..blendMode = BlendMode.clear;\n      _data._points.forEach((point) =&gt;\n          context.canvas.drawCircle(offset + point, _strokeWidth, clear));\n      context.canvas.restore();\n    }\n  }\n\n  @override\n  bool get alwaysNeedsCompositing =&gt; child != null;\n}\n\nclass _ScratchData extends ChangeNotifier {\n  List&lt;Offset&gt; _points = [];\n\n  void addPoint(Offset offset) {\n    _points.add(offset);\n    notifyListeners();\n  }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/srrgs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/srrgs.png\" alt=\"output\"></a></p>\n\n<p>Expected: </p>\n\n<p><a href=\"https://i.stack.imgur.com/2jvaR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2jvaR.png\" alt=\"expected\"></a>\n<a href=\"https://i.stack.imgur.com/5ojMv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5ojMv.png\" alt=\"expected-2\"></a></p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536582394, "post_id": 52257654, "comment_id": 91462729, "body": "Dart doesn&#39;t evaluate code provided at runtime. The code has to be available at compile time."}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1536582548, "post_id": 52257654, "comment_id": 91462813, "body": "@G&#252;nterZ&#246;chbauer That&#39;s most likely the topic of an homework."}], "answers": [{"tags": [], "owner": {"reputation": 6165, "user_id": 10005707, "user_type": "registered", "profile_image": "https://graph.facebook.com/1752900328133019/picture?type=large", "display_name": "Jaswant Singh", "link": "https://stackoverflow.com/users/10005707/jaswant-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1536582394, "creation_date": 1536582394, "answer_id": 52257788, "question_id": 52257654, "link": "https://stackoverflow.com/questions/52257654/how-do-i-get-the-answer-of-an-equation-in-dart/52257788#52257788", "title": "How do i get the answer of an equation in dart?", "body": "<p>You can use Stack Data Structure to calculate your expression. There are several rules that will be used while calculation using stack. \nPlease try to google as it can explain you even batter how to use Stack for mathematical expression evaluation.</p>\n\n<p>Or you can use <a href=\"https://pub.dartlang.org/packages/math_expressions\" rel=\"nofollow noreferrer\">math_expressions</a> library for the same</p>\n"}], "owner": {"reputation": 3582, "user_id": 7727376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6391b80ba152a38585be541052332a82?s=128&d=identicon&r=PG&f=1", "display_name": "yashthakkar1173", "link": "https://stackoverflow.com/users/7727376/yashthakkar1173"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 634, "favorite_count": 0, "accepted_answer_id": 52257788, "answer_count": 1, "score": 0, "last_activity_date": 1577280555, "creation_date": 1536581919, "question_id": 52257654, "link": "https://stackoverflow.com/questions/52257654/how-do-i-get-the-answer-of-an-equation-in-dart", "title": "How do i get the answer of an equation in dart?", "body": "<p>I would like to get the answer of the equation in double which is in string like \"2+3*9\". How can I do this with Dart?</p>\n"}, {"tags": ["serialization", "dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 9938698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6028ab911b0cdc26d929d2633675b27?s=128&d=identicon&r=PG&f=1", "display_name": "eturk", "link": "https://stackoverflow.com/users/9938698/eturk"}, "is_accepted": false, "score": 0, "last_activity_date": 1537554985, "last_edit_date": 1537554985, "creation_date": 1537520977, "answer_id": 52440355, "question_id": 52257584, "link": "https://stackoverflow.com/questions/52257584/userserializermixin-do-i-need-it/52440355#52440355", "title": "_$UserSerializerMixin do I need it?", "body": "<p>The error is because <code>_$UserSerializerMixin</code>class isn't in the built user.g.dart.</p>\n\n<p>The example at <a href=\"https://flutter.io/json/#serializing-json-using-code-generation-libraries\" rel=\"nofollow noreferrer\">https://flutter.io/json/#serializing-json-using-code-generation-libraries</a> is old and only runs using package versions shown in the example pubspec.yaml on that page. </p>\n\n<p>If you use latest packages, see example here instead: <a href=\"https://pub.dartlang.org/documentation/json_serializable/latest/\" rel=\"nofollow noreferrer\">https://pub.dartlang.org/documentation/json_serializable/latest/</a></p>\n\n<p>Note that one no longer needs to extend their class with <code>_$UserSerializerMixin</code>. with v1.x of the packages, <code>_$UserToJson</code> is created instead. Changes to your class are now simpler. </p>\n\n<p>(I struggled for quite a while myself as I had used latest package versions in pubspec.yaml but the old example.)</p>\n"}], "owner": {"reputation": 2795, "user_id": 10139611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9417a433ed16a09cf75fe161f8114d?s=128&d=identicon&r=PG&f=1", "display_name": "Little Monkey", "link": "https://stackoverflow.com/users/10139611/little-monkey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 281, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1537554985, "creation_date": 1536581723, "last_edit_date": 1536762483, "question_id": 52257584, "link": "https://stackoverflow.com/questions/52257584/userserializermixin-do-i-need-it", "title": "_$UserSerializerMixin do I need it?", "body": "<p>I was struggling with serializations when I found this guide\n<a href=\"https://flutter.io/json/\" rel=\"nofollow noreferrer\">https://flutter.io/json/</a>\nIn it I found:</p>\n\n<pre><code>import 'package:json_annotation/json_annotation.dart';\n\npart 'user.g.dart';\n\n@JsonSerializable()\nclass User extends Object with _$UserSerializerMixin{\n  final String name;\n  final String email;\n\n  User(this.name, this.email);\n\n  factory User.fromJson(Map&lt;String, dynamic&gt; json) =&gt; _$UserFromJson(json);\n}\n</code></pre>\n\n<p>I followed the guide (also run the flutter packages pub run build_runner watch command) and everything is good except for  <code>_$UserSerializerMixin</code>. It says: classes can only mixin other classes. What should I do?</p>\n"}, {"tags": ["dart", "flutter", "bottomnavigationview"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 12908034, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCTSgoB1YcolIN8r5XcQY25vpmwsRsk9oaqZe7X=k-s128", "display_name": "mr. nobodey", "link": "https://stackoverflow.com/users/12908034/mr-nobodey"}, "is_accepted": false, "score": 0, "last_activity_date": 1601996307, "last_edit_date": 1601996307, "creation_date": 1601995854, "answer_id": 64228304, "question_id": 52257152, "link": "https://stackoverflow.com/questions/52257152/flutter-bottomsheet-with-notch-similar-to-bottomnavigationbar-bottomappbars-s/64228304#64228304", "title": "flutter bottomsheet with notch (similar to bottomNavigationBar: BottomAppBar&#39;s shape property)", "body": "<p>hope its help :)</p>\n<pre><code>Scaffold(\n    floatingActionButtonLocation: FloatingActionButtonLocation.startDocked, //specify the location of the FAB\n    floatingActionButton: FloatingActionButton(\n      backgroundColor: Colors.blue,\n      onPressed: () {\n        print('OK');\n      },\n      tooltip: &quot;start FAB&quot;,\n      child: Container(\n        margin: EdgeInsets.all(15.0),\n        child: Icon(Icons.add),\n\n      ),\n      elevation: 4.0,\n    ),\n    bottomNavigationBar: BottomAppBar(\n      child: Container(\n        color: mycolor,\n        height: 35,\n      ),\n    )\n);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12908034, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCTSgoB1YcolIN8r5XcQY25vpmwsRsk9oaqZe7X=k-s128", "display_name": "mr. nobodey", "link": "https://stackoverflow.com/users/12908034/mr-nobodey"}, "is_accepted": false, "score": 0, "last_activity_date": 1601996997, "creation_date": 1601996997, "answer_id": 64228668, "question_id": 52257152, "link": "https://stackoverflow.com/questions/52257152/flutter-bottomsheet-with-notch-similar-to-bottomnavigationbar-bottomappbars-s/64228668#64228668", "title": "flutter bottomsheet with notch (similar to bottomNavigationBar: BottomAppBar&#39;s shape property)", "body": "<p>You can use this technique too</p>\n<pre><code>Scaffold(\n  backgroundColor: myBackgroundColor,\n    floatingActionButtonLocation: FloatingActionButtonLocation.startDocked, //specify the location of the FAB\n    floatingActionButton: CircleAvatar(\n      radius: 32,\n      backgroundColor: myBackgroundColor,\n      child: Padding(\n        padding: EdgeInsets.all(1),\n        child: FloatingActionButton(\n          backgroundColor: MyColor.textColor,\n          onPressed: () {\n            print('OK');\n          },\n          child: Container(\n            margin: EdgeInsets.all(15.0),\n            child: Icon(Icons.add),\n          ),\n          elevation: 4.0,\n        ),\n      ),\n    ),\n    bottomNavigationBar: BottomAppBar(\n      child: Container(\n        color: MyColor.textColor,\n        height: 35,\n      ),\n    )\n);\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 2407855, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/H8gRR.jpg?s=128&g=1", "display_name": "Derek Zhu", "link": "https://stackoverflow.com/users/2407855/derek-zhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1940, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1601996997, "creation_date": 1536580155, "question_id": 52257152, "link": "https://stackoverflow.com/questions/52257152/flutter-bottomsheet-with-notch-similar-to-bottomnavigationbar-bottomappbars-s", "title": "flutter bottomsheet with notch (similar to bottomNavigationBar: BottomAppBar&#39;s shape property)", "body": "<p>question 1:\n how to add a notch to flutter bottom sheet around the floatingactionbutton, so that it looks like a bottomappbar (with shape of CircularNotchedRectangle()) but behave like bottomsheet (can drag to dismiss)</p>\n\n<p>question 2:\nhow to make a bottomsheet non-dismissible yet still draggable. (similiar to android's bottomsheet)</p>\n\n<p>question 3: \nbottomsheet peek height, bottom sheet that dismissible, but also expandable (again, just like android bottomsheet)</p>\n\n<p>is it possible to achieve what I've listed above? or i'm out of luck and have to use a 3rd party library? (if there's one?)</p>\n\n<p><a href=\"https://i.stack.imgur.com/I8oO2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I8oO2.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["math", "dart", "flutter", "equation"], "comments": [{"owner": {"reputation": 65718, "user_id": 844416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e39c2364935265593d76247ddc6d07c?s=128&d=identicon&r=PG", "display_name": "MBo", "link": "https://stackoverflow.com/users/844416/mbo"}, "edited": false, "score": 0, "creation_date": 1536576883, "post_id": 52256065, "comment_id": 91459683, "body": "Why not use paper and pencil?"}, {"owner": {"reputation": 954, "user_id": 11669683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/847b187674b999cf00bd9cd650ad0c5b?s=128&d=identicon&r=PG&f=1", "display_name": "Parth Bhanderi", "link": "https://stackoverflow.com/users/11669683/parth-bhanderi"}, "edited": false, "score": 1, "creation_date": 1571295404, "post_id": 52256065, "comment_id": 103194588, "body": "you can use math_expressions package to solve this type of equation. <a href=\"https://pub.dev/packages/math_expressions\" rel=\"nofollow noreferrer\">pub.dev/packages/math_expressions</a>"}], "answers": [{"tags": [], "owner": {"reputation": 511, "user_id": 10340130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd380558f8a71a63a89ae9e37195019c?s=128&d=identicon&r=PG", "display_name": "njras", "link": "https://stackoverflow.com/users/10340130/njras"}, "is_accepted": false, "score": 1, "last_activity_date": 1536577564, "creation_date": 1536577564, "answer_id": 52256466, "question_id": 52256065, "link": "https://stackoverflow.com/questions/52256065/how-to-find-math-variables-in-dart-equation/52256466#52256466", "title": "How to find math variables in dart equation", "body": "<p>I am not aware of any such package to solve equations, but you can simplify the equation itself just like you do in mathematics. Below is such a solution-</p>\n\n<pre><code>known = B -\n((B * 0.105 + B * 0.005 + B * 0.055) +\n    ((B - (B * 0.105 + B * 0.005 + B * 0.055)) * 0.16));\n\nknown = B -\n    ((B * 0.165) +\n        ((B - (B * 0.165)) * 0.16));\nknown = B -\n    ((B * 0.165) +\n        ((B * 0.835) * 0.16));\nknown = B -\n    ((B * 0.165) +\n        (B * 0.1336));\nknown = B -\n    (B * 0.2986);\nknown = B * 0.7014;\nB= known / 0.7014;\n</code></pre>\n"}], "owner": {"reputation": 412, "user_id": 10341521, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155505790647260/picture?type=large", "display_name": "Allex Radu", "link": "https://stackoverflow.com/users/10341521/allex-radu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 255, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1536577564, "creation_date": 1536576198, "question_id": 52256065, "link": "https://stackoverflow.com/questions/52256065/how-to-find-math-variables-in-dart-equation", "title": "How to find math variables in dart equation", "body": "<p>I need to know how to find an unknown variable in dart to solve a math equation. B is the unknown variable and the known is the known variable.</p>\n\n<pre><code>double B = 0.0;\ndouble known = 1423.0;\nknown = B -\n    ((B * 0.105 + B * 0.005 + B * 0.055) +\n        ((B - (B * 0.105 + B * 0.005 + B * 0.055)) * 0.16));\n</code></pre>\n"}, {"tags": ["tcp", "dart"], "answers": [{"comments": [{"owner": {"reputation": 166, "user_id": 7301203, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f0J_JCyvTDI/AAAAAAAAAAI/AAAAAAAAAh8/f61V2wxWTTc/photo.jpg?sz=128", "display_name": "Ran Elgiser", "link": "https://stackoverflow.com/users/7301203/ran-elgiser"}, "edited": false, "score": 0, "creation_date": 1536568580, "post_id": 52253498, "comment_id": 91455338, "body": "So I&#39;ll need to open an Isolate for every client? Do you suggest i do it in the <i>handleClient</i> function or in <i>listen</i>?"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 166, "user_id": 7301203, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f0J_JCyvTDI/AAAAAAAAAAI/AAAAAAAAAh8/f61V2wxWTTc/photo.jpg?sz=128", "display_name": "Ran Elgiser", "link": "https://stackoverflow.com/users/7301203/ran-elgiser"}, "edited": false, "score": 0, "creation_date": 1536568968, "post_id": 52253498, "comment_id": 91455531, "body": "You don&#39;t need to, only if you want to have each request handled in another isolate. Creating isolates for each request is a bad idea because isolate startup is slow. A single thread can handle many requests just fine. You can startup a number of isolates in advance and let Dart share requests among them to share load among multiple isolates."}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1536566751, "creation_date": 1536566751, "answer_id": 52253498, "question_id": 52253452, "link": "https://stackoverflow.com/questions/52253452/multi-client-server-in-dart/52253498#52253498", "title": "Multi client server in Dart", "body": "<p>Dart uses single-threaded concurrency by default.\nIf you want code to run on another thread, you need to create a new Isolate explicitely.</p>\n\n<p>Dart supports having more than one thread listening on the same IP and port and automatically distributes incoming connections to listening threads.</p>\n\n<p>See also </p>\n\n<ul>\n<li><a href=\"https://api.dartlang.org/stable/2.0.0/dart-isolate/dart-isolate-library.html\" rel=\"nofollow noreferrer\">https://api.dartlang.org/stable/2.0.0/dart-isolate/dart-isolate-library.html</a></li>\n<li><a href=\"https://pub.dartlang.org/packages/isolate\" rel=\"nofollow noreferrer\">https://pub.dartlang.org/packages/isolate</a> </li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 166, "user_id": 7301203, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f0J_JCyvTDI/AAAAAAAAAAI/AAAAAAAAAh8/f61V2wxWTTc/photo.jpg?sz=128", "display_name": "Ran Elgiser", "link": "https://stackoverflow.com/users/7301203/ran-elgiser"}, "edited": false, "score": 0, "creation_date": 1536652273, "post_id": 52266400, "comment_id": 91489450, "body": "Aren&#39;t both of them for Web applications? I plan on using this for a small mobile application project i&#39;m working on."}, {"owner": {"reputation": 30488, "user_id": 22483, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b337d1e52bf3d796a7728def67a602fd?s=128&d=identicon&r=PG", "display_name": "Randal Schwartz", "link": "https://stackoverflow.com/users/22483/randal-schwartz"}, "reply_to_user": {"reputation": 166, "user_id": 7301203, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f0J_JCyvTDI/AAAAAAAAAAI/AAAAAAAAAh8/f61V2wxWTTc/photo.jpg?sz=128", "display_name": "Ran Elgiser", "link": "https://stackoverflow.com/users/7301203/ran-elgiser"}, "edited": false, "score": 0, "creation_date": 1536679666, "post_id": 52266400, "comment_id": 91506731, "body": "The server-side components provide a RESTful API and server-side database access.  People are using them with Flutter apps, yes."}, {"owner": {"reputation": 633, "user_id": 5673558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f95c9abf6c7cc8dc21c398e3fc638d3?s=128&d=identicon&r=PG", "display_name": "Tobe O", "link": "https://stackoverflow.com/users/5673558/tobe-o"}, "edited": false, "score": 0, "creation_date": 1563839517, "post_id": 52266400, "comment_id": 100825208, "body": "<code>package:angel_framework</code> is the core server library, and can be used by itself (in Flutter too, for that regard). The more &quot;application-y&quot; functionality, like WebSockets, static servers, databases, etc. is in separate, complementary packages."}], "tags": [], "owner": {"reputation": 30488, "user_id": 22483, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b337d1e52bf3d796a7728def67a602fd?s=128&d=identicon&r=PG", "display_name": "Randal Schwartz", "link": "https://stackoverflow.com/users/22483/randal-schwartz"}, "is_accepted": false, "score": 2, "last_activity_date": 1536619084, "creation_date": 1536619084, "answer_id": 52266400, "question_id": 52253452, "link": "https://stackoverflow.com/questions/52253452/multi-client-server-in-dart/52266400#52266400", "title": "Multi client server in Dart", "body": "<p>Both the Aqueduct and Angel web frameworks support pre-spawned Isolates to ensure that all your cores can be in play.</p>\n"}], "owner": {"reputation": 166, "user_id": 7301203, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f0J_JCyvTDI/AAAAAAAAAAI/AAAAAAAAAh8/f61V2wxWTTc/photo.jpg?sz=128", "display_name": "Ran Elgiser", "link": "https://stackoverflow.com/users/7301203/ran-elgiser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 523, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1536619084, "creation_date": 1536566579, "last_edit_date": 1536566812, "question_id": 52253452, "link": "https://stackoverflow.com/questions/52253452/multi-client-server-in-dart", "title": "Multi client server in Dart", "body": "<p>If I want to make a simple multi client TCP server in Java, I would just wait for connections and make another thread which use a thread-pool to handle each one.</p>\n\n<p>I am wondering if this piece of code will allow me the same behavior without explicitly opening a thread for each client in Dart:</p>\n\n<pre><code>ServerSocket.bind('127.0.0.1', 4041)\n  .then((serverSocket) {\n    serverSocket.listen((socket) {\n      socket.transform(utf8.decoder).listen(handleClient);\n    });\n  });\n\nvoid handleClient(Socket socket){\n  // do something\n}\n</code></pre>\n\n<p>If it doesn't, how will I come about implementing such behavior? In a <code>Darty</code> way preferably.</p>\n"}, {"tags": ["orm", "dart"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 1664801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/908403a9d5a7bb3fca1bd2f319cc9e09?s=128&d=identicon&r=PG", "display_name": "user1664801", "link": "https://stackoverflow.com/users/1664801/user1664801"}, "is_accepted": false, "score": 0, "last_activity_date": 1548470192, "creation_date": 1548470192, "answer_id": 54375221, "question_id": 52252521, "link": "https://stackoverflow.com/questions/52252521/jaguar-orm-reflexive-relationship/54375221#54375221", "title": "Jaguar orm - reflexive relationship", "body": "<p>You need to add a @HasOne or @HasMany decorator depending of your case.</p>\n"}], "owner": {"reputation": 2008, "user_id": 411539, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f6772a2be7993c9319dcb80f0e2786aa?s=128&d=identicon&r=PG", "display_name": "juliusspencer", "link": "https://stackoverflow.com/users/411539/juliusspencer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 168, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548470192, "creation_date": 1536562548, "question_id": 52252521, "link": "https://stackoverflow.com/questions/52252521/jaguar-orm-reflexive-relationship", "title": "Jaguar orm - reflexive relationship", "body": "<p>Does jaguar_orm support reflexive relationships?</p>\n\n<p>I have a Category class that can be part of another Category:</p>\n\n<pre><code>class Category {\n  /// constructor\n  Category();\n  Category.make(this.id, this.name);\n\n  /// fields\n  @PrimaryKey()\n  int id;\n\n  @Column(isNullable: false)\n  String name;\n\n  @BelongsTo(CategoryBean, isNullable: true, refCol: 'id')\n  int parentCategoryId;\n\n  /// database\n//  String toString() =&gt; \"Product($id, $name, $parentCategoryId)\";\n  String toString() =&gt; \"Product($id, $name)\";\n}\n</code></pre>\n\n<p>When I try to create one I get a stack overflow as follows:</p>\n\n<pre><code>Exception while parsing field: id!\nStack Overflow\n#0      _Uri._uriEncode (dart:core/runtime/liburi_patch.dart:34:3)\n#1      _Uri._makePath.&lt;anonymous closure&gt; (dart:core/uri.dart:2116:23)\n#2      ListIterable.join (dart:_internal/iterable.dart)\n#3      _Uri._makePath (dart:core/uri.dart:2117:12)\n#4      _SimpleUri.replace (dart:core/uri.dart:4358:19)\n#5      urlOfElement (package:source_gen/src/utils.dart:87:11)\n#6      _MirrorTypeChecker.isExactly (package:source_gen/src/type_checker.dart:264:49)\n#7      _ListBase&amp;Object&amp;ListMixin.any (dart:collection/list.dart)\n#8      TypeChecker.isAssignableFromType (package:source_gen/src/type_checker.dart:162:57)\n#9      ParsedBean._makeField.&lt;anonymous closure&gt; (package:jaguar_orm_gen/src/parser/parser.dart:351:47)\n#10     WhereIterator.moveNext (dart:_internal/iterable.dart)\n#11     MappedIterator.moveNext (dart:_internal/iterable.dart:391:19)\n#12     new List.from (dart:core/runtime/libarray_patch.dart:40:17)\n#13     ParsedBean._makeField (package:jaguar_orm_gen/src/parser/parser.dart:472:34)\n#14     ParsedBean._parseFields (package:jaguar_orm_gen/src/parser/parser.dart:325:21)\n#15     ParsedBean.detect (package:jaguar_orm_gen/src/parser/parser.dart:74:5)\n#16     ParsedBean.detect (package:jaguar_orm_gen/src/parser/parser.dart:85:56)\n</code></pre>\n\n<p>This repeats for some time.</p>\n\n<p>Is there something special I need to do, to prevent the stack overflow?</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8239476"}, "edited": false, "score": 0, "creation_date": 1536610506, "post_id": 52252059, "comment_id": 91477722, "body": "I was trying to avoid using third party packages ;) Also a fixed height is not what I&#39;m looking for. But thank you anyway."}], "tags": [], "owner": {"reputation": 439, "user_id": 4229937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/971756190d5b3d3106e1d2a8a7ebebcd?s=128&d=identicon&r=PG", "display_name": "1ujn4s", "link": "https://stackoverflow.com/users/4229937/1ujn4s"}, "is_accepted": false, "score": 2, "last_activity_date": 1536560194, "creation_date": 1536560194, "answer_id": 52252059, "question_id": 52251853, "link": "https://stackoverflow.com/questions/52251853/building-and-sorting-a-new-list-based-on-provided-list-and-parameters/52252059#52252059", "title": "Building and sorting a new list based on provided list and parameters", "body": "<p>For an easy solution using an existing widget; you may use side_header_list_view (<a href=\"https://pub.dartlang.org/packages/side_header_list_view\" rel=\"nofollow noreferrer\">https://pub.dartlang.org/packages/side_header_list_view</a>)</p>\n\n<p>example :</p>\n\n<pre><code>Widget _buildList(){ \n\n return new SideHeaderListView(\n      itemCount: _models.length,\n      itemExtend: 100.0,\n      headerBuilder: (BuildContext context, int index) {\n        return Text(_models[index].date);\n      },\n      itemBuilder: (BuildContext context, int index) {\n        return new Card(\n          child: Text(_models[index].text),\n        );\n      },\n      hasSameHeader: (int a, int b) {\n        return _models[a].date == _models[b].date;\n      },\n    );\n\n}\n</code></pre>\n\n<p>Haven't tested it, Ideally should work, provided, you might need to do some formatting of date to string type before giving it to Text.. Consider it like a pseudo code for now.</p>\n"}, {"tags": [], "owner": {"reputation": 439, "user_id": 4229937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/971756190d5b3d3106e1d2a8a7ebebcd?s=128&d=identicon&r=PG", "display_name": "1ujn4s", "link": "https://stackoverflow.com/users/4229937/1ujn4s"}, "is_accepted": true, "score": 1, "last_activity_date": 1536951158, "creation_date": 1536951158, "answer_id": 52337761, "question_id": 52251853, "link": "https://stackoverflow.com/questions/52251853/building-and-sorting-a-new-list-based-on-provided-list-and-parameters/52337761#52337761", "title": "Building and sorting a new list based on provided list and parameters", "body": "<p>For another bare-bone example involving no third-party packages:</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nclass Model {\n  final DateTime date;\n  final String text;\n\n  Model({this.date, this.text});\n}\n\nvoid main() =&gt; runApp(new MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      title: 'Sample App',\n      home: MyHomePage(),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  @override\n  _MyHomePageState createState() =&gt; _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n\n  // Populate initial value for the list of models\n  List&lt;Model&gt; _models = [\n    Model(\n      date: DateTime(2018, 9, 1),\n      text: 'Text1',\n    ),\n    Model(\n      date: DateTime(2018, 9, 1),\n      text: 'Text2',\n    ),\n    Model(\n      date: DateTime(2018, 9, 2),\n      text: 'Text3',\n    ),\n    Model(\n      date: DateTime(2018, 9, 3),\n      text: 'Text4',\n    ),\n    Model(\n      date: DateTime(2018, 8, 31),\n      text: 'Text7',\n    ),\n    Model(\n      date: DateTime(2018, 9, 3),\n      text: 'Text5',\n    ),\n    Model(\n      date: DateTime(2018, 9, 3),\n      text: 'Text6',\n    )\n  ];\n\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      appBar: new AppBar(\n        title: new Text(\"Sample App\"),\n      ),\n      floatingActionButton: FloatingActionButton(\n        child: Icon(Icons.plus_one),\n        onPressed: () {\n          setState(() {\n\n            // On click of floating action button, add a hardcoded item to _models list\n            _models.add(Model(\n              date: DateTime(2018, 9, 2),\n              text: 'New Item',\n            ));\n          });\n        },\n      ),\n      body: SortedGroupedList(_models),\n    );\n  }\n}\n\nclass SortedGroupedList extends StatefulWidget {\n  final List&lt;Model&gt; list;\n  SortedGroupedList(this.list);\n\n  @override\n  State&lt;StatefulWidget&gt; createState() =&gt; _SortedGroupedListState();\n}\n\nclass _SortedGroupedListState extends State&lt;SortedGroupedList&gt; {\n  List&lt;Model&gt; _list;\n  @override\n  void initState() {\n    super.initState();\n    _list = widget.list;\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    _list.sort((a, b) =&gt; b.date.compareTo(a.date));\n    Model prev;\n    bool shownHeader = false;\n\n    List&lt;Widget&gt; _listChildren = &lt;Widget&gt;[];\n    _list.forEach((Model model) {\n      if (prev != null &amp;&amp; model.date != prev.date) {\n        shownHeader = false; // if dates are different, beginning of a new group, so header is yet to be shown\n      }\n\n      if (!shownHeader) {\n        // if header for a group is not shown yet, add it to the list\n        _listChildren.add(ListTile(\n            title: Text(\n          model.date.toString(),\n          style: TextStyle(fontWeight: FontWeight.bold),\n        )));\n        prev = model; // keep the current model for reference to check if group has changed\n        shownHeader = true;\n      }\n\n      _listChildren.add(ListTile(title: Text(model.text)));\n    });\n\n    return ListView(children: _listChildren);\n  }\n}\n</code></pre>\n\n<p>In this example, we create a new widget called <code>SortedGroupedList</code>, which will accept the models list and sort it in descending order, then display it using a ListView, while keeping track of items grouped by their dates. </p>\n\n<p>Also the <code>onPress</code> of <code>FloatingActionButton</code> will add one more hard-coded item to the list when floating action buton is pressed, and that is reflected with '<code>no manual stuff</code>' (whatever that is ;) ).  This example can be improved to manipulate <code>_model</code> list and all the changes should ideally be reflected on our view.</p>\n\n<p>Note that, this example may not be ideal for a huge list as the list have to be sorted everytime any changes are made to it. A better approach may be using the ListView.builder(), but that can get complex depending on the operations you want to perform on the list. </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8239476"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2706, "favorite_count": 1, "accepted_answer_id": 52337761, "answer_count": 2, "score": 3, "last_activity_date": 1536951158, "creation_date": 1536558938, "question_id": 52251853, "link": "https://stackoverflow.com/questions/52251853/building-and-sorting-a-new-list-based-on-provided-list-and-parameters", "title": "Building and sorting a new list based on provided list and parameters", "body": "<p>I have a list of Models:</p>\n\n<pre><code>class Model {\nfinal DateTime date;\nfinal String text;\n\nModel({this.date, this.text});\n}\n\nList&lt;Model&gt; _models = [\nModel(date: DateTime(2018, 9, 1), text: 'Text1',),\nModel(date: DateTime(2018, 9, 1), text: 'Text2',),\nModel(date: DateTime(2018, 9, 2), text: 'Text3',),\nModel(date: DateTime(2018, 9, 3), text: 'Text4',),\nModel(date: DateTime(2018, 8, 31), text: 'Text7',),\nModel(date: DateTime(2018, 9, 3), text: 'Text5',),\nModel(date: DateTime(2018, 9, 3), text: 'Text6',),\n];\n</code></pre>\n\n<p>What I am trying to achieve is to take the date parameter from each model and put all models that match that date into a ListView(). So I can return a list of models for each date. Every time I add data to the list I want it to update &amp; sort by date automatically (no manual stuff). Date formatting is not important here. Question: how can I achieve that?</p>\n\n<p>Here is how I want it to look like:<br>\n<strong>2018/9/3</strong><br>\nText4<br>\nText5<br>\nText6</p>\n\n<p><strong>2018/9/2</strong><br>\nText3</p>\n\n<p><strong>2018/9/1</strong><br>\nText1<br>\nText2  </p>\n\n<p><strong>2018/8/31</strong><br>\nText7</p>\n"}, {"tags": ["localization", "dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 1542, "user_id": 556600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/303094312368c43dcb13c6f3061b8364?s=128&d=identicon&r=PG", "display_name": "SoftWyer", "link": "https://stackoverflow.com/users/556600/softwyer"}, "is_accepted": false, "score": 1, "last_activity_date": 1564391487, "creation_date": 1564391487, "answer_id": 57250582, "question_id": 52250002, "link": "https://stackoverflow.com/questions/52250002/flutter-global-material-localizations-and-initialize-date-formatting-not-working/57250582#57250582", "title": "Flutter global material localizations and initialize date formatting not working together", "body": "<p>I too had this issue and, after playing around a little, found that when using Material localisations it appears default to US if you do not specify the supported locales. </p>\n\n<p>Adding the following supported locales allowed the UK date format to be shown rather than the US one.</p>\n\n<pre><code>        localizationsDelegates: [\n          const DemoLocalizationsDelegate(),\n          GlobalMaterialLocalizations.delegate,\n          GlobalWidgetsLocalizations.delegate,\n        ],\n        supportedLocales: [\n          const Locale('en', 'US'), // English US\n          const Locale('en', 'GB'), // English UK\n          // ... other locales the app supports\n        ],\n</code></pre>\n\n<p>I didn't have to explicitly initialise the DateFormat class as Material appears to handle this too.</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 9444229, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "PAKO", "link": "https://stackoverflow.com/users/9444229/pako"}, "is_accepted": false, "score": 6, "last_activity_date": 1577744709, "last_edit_date": 1577744709, "creation_date": 1577744387, "answer_id": 59537459, "question_id": 52250002, "link": "https://stackoverflow.com/questions/52250002/flutter-global-material-localizations-and-initialize-date-formatting-not-working/59537459#59537459", "title": "Flutter global material localizations and initialize date formatting not working together", "body": "<p>I solved the problem by adding in <strong>pubspec.yaml</strong>\nthe next:\n   <strong>flutter_localizations:\n    sdk: flutter</strong></p>\n\n<p>be careful with indentation:\n<a href=\"https://i.stack.imgur.com/6vxvu.png\" rel=\"noreferrer\">pubspec</a></p>\n"}], "owner": {"reputation": 131, "user_id": 7683578, "user_type": "registered", "profile_image": "https://graph.facebook.com/225017034569854/picture?type=large", "display_name": "Andrew P", "link": "https://stackoverflow.com/users/7683578/andrew-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4042, "favorite_count": 0, "answer_count": 2, "score": 9, "last_activity_date": 1577744709, "creation_date": 1536543276, "question_id": 52250002, "link": "https://stackoverflow.com/questions/52250002/flutter-global-material-localizations-and-initialize-date-formatting-not-working", "title": "Flutter global material localizations and initialize date formatting not working together", "body": "<p>I am using localisation in a flutter app but also want to localise the date format using initialise date formatting. My main looks like this ...</p>\n\n<pre><code>  void main() {\n    runApp(new MaterialApp(\n    supportedLocales:\n    [const Locale('en', 'US'),\n    const Locale('en', 'AU')],\n    localizationsDelegates: [\n      const DemoLocalizationsDelegate(),\n      GlobalMaterialLocalizations.delegate,\n      GlobalWidgetsLocalizations.delegate\n    ],\n    home: new ThirdPageWidget(),\n    navigatorObservers: [routeObserver],\n    ));\n }\n</code></pre>\n\n<p>Also I have a initializeDateFormatting in a stateful widget like this ...</p>\n\n<pre><code>@override\nvoid initState() {\n   super.initState();\n   initializeDateFormatting().then((_) {\n      dateFormat = new DateFormat.yMd('en_AU');\n      print(dateFormat.format(DateTime.now()));\n});\n</code></pre>\n\n<p>Now when the locale is en_AU the format of the date is month/day/year american style but when I remove this line of code</p>\n\n<pre><code>GlobalMaterialLocalizations.delegate,\n</code></pre>\n\n<p>The date correctly displays day/month/year. Does any one know what I can do to fix this? How important is it to have the GlobalMaterialLocalizations.delegate?</p>\n"}, {"tags": ["flutter", "dart", "flutter-layout", "flutter-widget", "unbound"], "comments": [{"owner": {"reputation": 954, "user_id": 11232319, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v1CeN15JymQ/AAAAAAAAAAI/AAAAAAAAFfk/1gfU2QmfuiM/photo.jpg?sz=128", "display_name": "bunny", "link": "https://stackoverflow.com/users/11232319/bunny"}, "edited": false, "score": 1, "creation_date": 1554992937, "post_id": 52249578, "comment_id": 97961051, "body": "this post may help you.. <a href=\"https://stackoverflow.com/questions/53223469/flutter-statelesswidget-build-called-multiple-times/55626839#55626839\">https://stackoverflow.com/questions/53223469/flutter-statele&zwnj;&#8203;sswidget-build-calle&zwnj;&#8203;d-multiple-times/556&zwnj;&#8203;26839#55626839</a>"}, {"owner": {"reputation": 358195, "user_id": 3681880, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3b7ad8915f552cd4e23caf38eee10030?s=128&d=identicon&r=PG", "display_name": "Suragch", "link": "https://stackoverflow.com/users/3681880/suragch"}, "edited": false, "score": 16, "creation_date": 1589764985, "post_id": 52249578, "comment_id": 109414765, "body": "In the <a href=\"https://pub.dev/documentation/provider/latest/\" rel=\"nofollow noreferrer\">provider documentation</a> you link here saying &quot;See this stackoverflow answer which explains in further details why using the .value constructor to create values is undesired.&quot; However, you don&#39;t mention the value constructor here or in your answer. Did you mean to link somewhere else?"}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "reply_to_user": {"reputation": 358195, "user_id": 3681880, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3b7ad8915f552cd4e23caf38eee10030?s=128&d=identicon&r=PG", "display_name": "Suragch", "link": "https://stackoverflow.com/users/3681880/suragch"}, "edited": false, "score": 0, "creation_date": 1598206771, "post_id": 52249578, "comment_id": 112375777, "body": "@Suragch this is the correct link. The problem is not specific to provider, and the issue with the &quot;.value&quot; constructor is identical to what is described here. That is, replace FutureBuilder with SomeProvider.value"}, {"owner": {"reputation": 358195, "user_id": 3681880, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3b7ad8915f552cd4e23caf38eee10030?s=128&d=identicon&r=PG", "display_name": "Suragch", "link": "https://stackoverflow.com/users/3681880/suragch"}, "edited": false, "score": 17, "creation_date": 1598227886, "post_id": 52249578, "comment_id": 112380798, "body": "I&#39;d recommend either explaining the undesirable side effects directly in the documentation (first choice) or adding more explanation here (second choice). I don&#39;t know if I&#39;m representative of the average Provider user or not, but when I come here I still don&#39;t understand the relationship between using <code>.value</code> and unwanted widget build or the <code>build</code> method needing to be pure."}], "answers": [{"comments": [{"owner": {"reputation": 9969, "user_id": 1227166, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GrxLO.jpg?s=128&g=1", "display_name": "Michel Feinstein", "link": "https://stackoverflow.com/users/1227166/michel-feinstein"}, "edited": false, "score": 2, "creation_date": 1552537625, "post_id": 52249579, "comment_id": 97049812, "body": "Could you explain why storing <code>subtree</code> in a class field breaks hot-reload?"}, {"owner": {"reputation": 9969, "user_id": 1227166, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GrxLO.jpg?s=128&g=1", "display_name": "Michel Feinstein", "link": "https://stackoverflow.com/users/1227166/michel-feinstein"}, "edited": false, "score": 7, "creation_date": 1552539370, "post_id": 52249579, "comment_id": 97050184, "body": "A problem I am having with <code>StreamBuilder</code> is that when the keyboard appears the screen changes, so routes have to be rebuilt. So <code>StreamBuilder</code> is rebuilt and a new <code>StreamBuilder</code> is created and it subscribes to the <code>stream</code>. When a <code>StreamBuilder</code> subscribes to a <code>stream</code>, <code>snapshot.connectionState</code> becomes <code>ConnectionState.waiting</code> which makes my code return a <code>CircularProgressIndicator</code>, and then <code>snapshot.connectionState</code> changes when there&#39;s data, and my code will return a different widget, which makes the screen flicker with different stuff."}, {"owner": {"reputation": 9969, "user_id": 1227166, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GrxLO.jpg?s=128&g=1", "display_name": "Michel Feinstein", "link": "https://stackoverflow.com/users/1227166/michel-feinstein"}, "edited": false, "score": 0, "creation_date": 1552539374, "post_id": 52249579, "comment_id": 97050185, "body": "Is placing the <code>StreamBuilder</code> in an outside variable the only solution?"}, {"owner": {"reputation": 9969, "user_id": 1227166, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GrxLO.jpg?s=128&g=1", "display_name": "Michel Feinstein", "link": "https://stackoverflow.com/users/1227166/michel-feinstein"}, "edited": false, "score": 1, "creation_date": 1552541580, "post_id": 52249579, "comment_id": 97050780, "body": "I decided to make a <code>StatefulWidget</code>, subscribe to the <code>stream</code> on <code>initState()</code> and set the <code>currentWidget</code> with <code>setState()</code> as the <code>stream</code> sends new data, passing <code>currentWidget</code> to the <code>build()</code> method. Is it there a better solution?"}, {"owner": {"reputation": 2895, "user_id": 348719, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb180bc6dd7e72a35a27319fcd7e6fda?s=128&d=identicon&r=PG&f=1", "display_name": "sgon00", "link": "https://stackoverflow.com/users/348719/sgon00"}, "edited": false, "score": 1, "creation_date": 1552665520, "post_id": 52249579, "comment_id": 97110839, "body": "I am a little bit confused. You are answering your own question, however from the content, it doesn&#39;t look like it."}, {"owner": {"reputation": 968, "user_id": 5511947, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BDYhnOYieM0/AAAAAAAAAAI/AAAAAAAAC7M/UTSsQXWNTj4/photo.jpg?sz=128", "display_name": "Vairavan", "link": "https://stackoverflow.com/users/5511947/vairavan"}, "reply_to_user": {"reputation": 9969, "user_id": 1227166, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GrxLO.jpg?s=128&g=1", "display_name": "Michel Feinstein", "link": "https://stackoverflow.com/users/1227166/michel-feinstein"}, "edited": false, "score": 0, "creation_date": 1552914304, "post_id": 52249579, "comment_id": 97178899, "body": "@mFeinstein you could use Bloc pattern to expose the stream as a behavioursubject, caching last value reusing for next subscription"}, {"owner": {"reputation": 9969, "user_id": 1227166, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GrxLO.jpg?s=128&g=1", "display_name": "Michel Feinstein", "link": "https://stackoverflow.com/users/1227166/michel-feinstein"}, "reply_to_user": {"reputation": 968, "user_id": 5511947, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BDYhnOYieM0/AAAAAAAAAAI/AAAAAAAAC7M/UTSsQXWNTj4/photo.jpg?sz=128", "display_name": "Vairavan", "link": "https://stackoverflow.com/users/5511947/vairavan"}, "edited": false, "score": 0, "creation_date": 1553005485, "post_id": 52249579, "comment_id": 97219563, "body": "sgon00 I was questioning, but then some time later I found an answer by myself, I am just not sure it&#39;s the best. @Vairavan the problem is when there&#39;s no value sent yet and there&#39;s no seed value for a BehaviorSubject that makes sense. For example, if you want to control if there&#39;s a user signed in or not, show a Sign In screen if there&#39;s no user, the Main Screen if there&#39;s a user and a Loading screen if we are still loading the information if there&#39;s a user or not, which is what snapshot.connectionState information does."}, {"owner": {"reputation": 205, "user_id": 3086585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f265be75dd1af4ed6d6c6a832959923a?s=128&d=identicon&r=PG&f=1", "display_name": "Brixto", "link": "https://stackoverflow.com/users/3086585/brixto"}, "reply_to_user": {"reputation": 968, "user_id": 5511947, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BDYhnOYieM0/AAAAAAAAAAI/AAAAAAAAC7M/UTSsQXWNTj4/photo.jpg?sz=128", "display_name": "Vairavan", "link": "https://stackoverflow.com/users/5511947/vairavan"}, "edited": false, "score": 0, "creation_date": 1553088410, "post_id": 52249579, "comment_id": 97255020, "body": "@Vairavan but even with a BevaiourSubject, the StreamBuilder would trigger a single &quot;waiting&quot; frame on widget rebuild. Stuck on this as well, any help appreciated."}, {"owner": {"reputation": 968, "user_id": 5511947, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BDYhnOYieM0/AAAAAAAAAAI/AAAAAAAAC7M/UTSsQXWNTj4/photo.jpg?sz=128", "display_name": "Vairavan", "link": "https://stackoverflow.com/users/5511947/vairavan"}, "reply_to_user": {"reputation": 205, "user_id": 3086585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f265be75dd1af4ed6d6c6a832959923a?s=128&d=identicon&r=PG&f=1", "display_name": "Brixto", "link": "https://stackoverflow.com/users/3086585/brixto"}, "edited": false, "score": 0, "creation_date": 1553090058, "post_id": 52249579, "comment_id": 97256154, "body": "@Brixto Can you share a project via github?"}, {"owner": {"reputation": 3185, "user_id": 1514813, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/02e90ddb6498875c3ac56db76231b595?s=128&d=identicon&r=PG", "display_name": "TheGeekZn", "link": "https://stackoverflow.com/users/1514813/thegeekzn"}, "edited": false, "score": 12, "creation_date": 1560774531, "post_id": 52249579, "comment_id": 99834429, "body": "Uh, saying that a build should not call an HTTP method completely defeats the very practical example of a <code>FutureBuilder</code>."}, {"owner": {"reputation": 853, "user_id": 8960871, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-p66dyxh4__g/AAAAAAAAAAI/AAAAAAAAABE/C3v-Q6M4Tw4/photo.jpg?sz=128", "display_name": "roipeker", "link": "https://stackoverflow.com/users/8960871/roipeker"}, "edited": false, "score": 0, "creation_date": 1561775357, "post_id": 52249579, "comment_id": 100183241, "body": "The nature of Stateful widgets is that, managing states, and http calls are asynchronous, so might have multiple states. Or you create wrap your http call in some sort of cache, to avoid making the call on a future rebuild... or use the initState() to store the future value... you will still make use of the FutureBuilder, unless you wanna manage the Future urself and call setState() later. This is a very good point to avoid unnecessary rebuilds and keep logic separated from UI."}, {"owner": {"reputation": 2393, "user_id": 1464539, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/26ae110ce546ec7f3e8482c48053c827?s=128&d=identicon&r=PG", "display_name": "Dpedrinha", "link": "https://stackoverflow.com/users/1464539/dpedrinha"}, "edited": false, "score": 1, "creation_date": 1568411784, "post_id": 52249579, "comment_id": 102278872, "body": "Ok, but let&#39;s say I have 3 tabs. If I go from the first to the third tab, the second tab build method is called followed by the dispose. But if the build was waiting for a response (let&#39;s say it&#39;s a ChangeNotifierProvider) from a model, it will throw an error when notifyListeners() is called and the response arrives to the second tab (A &#39;model&#39; was used after being disposed. Once you have called dispose() on a &#39;model&#39;, it can no longer be used.)"}, {"owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "edited": false, "score": 0, "creation_date": 1576835145, "post_id": 52249579, "comment_id": 105032423, "body": "So what if you want to have a dialog show up on error and then a button in the dialog which redirects to some other page? How can you do that?"}, {"owner": {"reputation": 3262, "user_id": 4161284, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f09d33de1ddbfce1524fc06700cb213?s=128&d=identicon&r=PG&f=1", "display_name": "sagar suri", "link": "https://stackoverflow.com/users/4161284/sagar-suri"}, "edited": false, "score": 0, "creation_date": 1587997843, "post_id": 52249579, "comment_id": 108722385, "body": "Anyone reading the above solution. Should also see a better approach here(deal with FutureBuilder refiring): <a href=\"https://medium.com/saugo360/flutter-my-futurebuilder-keeps-firing-6e774830bc2\" rel=\"nofollow noreferrer\">medium.com/saugo360/&hellip;</a>"}, {"owner": {"reputation": 5596, "user_id": 7365866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iNhGH.png?s=128&g=1", "display_name": "Ben Butterworth", "link": "https://stackoverflow.com/users/7365866/ben-butterworth"}, "edited": false, "score": 0, "creation_date": 1590088217, "post_id": 52249579, "comment_id": 109555572, "body": "I read the article above, its definitely not better. Its an alternative, and I would say just introduces unnecessary complexity: using AsyncMemoizer. And, what happens when your Future function is more complicated? You need to create an AsyncMemoizer for each function you call in the function generating the future."}, {"owner": {"reputation": 479, "user_id": 1811912, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/408029757998d80793758fc6409a20f4?s=128&d=identicon&r=PG", "display_name": "Ruben", "link": "https://stackoverflow.com/users/1811912/ruben"}, "reply_to_user": {"reputation": 9969, "user_id": 1227166, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GrxLO.jpg?s=128&g=1", "display_name": "Michel Feinstein", "link": "https://stackoverflow.com/users/1227166/michel-feinstein"}, "edited": false, "score": 0, "creation_date": 1600768258, "post_id": 52249579, "comment_id": 113184988, "body": "@MichelFeinstein I have the same problem and it&#39;s exasperating. I decided to make a BehaviorSubjectBuilder on top of an RxDart BehaviorSubject which for this purpose is a stream whose last value you can fetch. It just wraps a StreamBuilder but the initialData is subject.value and the stream is subject.stream. I think you can make it better still by making the stream-built widget take a key so it doesn&#39;t unnecessarily get replaced by an exact copy, but that&#39;s just optimization."}], "tags": [], "owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "is_accepted": true, "score": 301, "last_activity_date": 1577891469, "last_edit_date": 1577891469, "creation_date": 1536537711, "answer_id": 52249579, "question_id": 52249578, "link": "https://stackoverflow.com/questions/52249578/how-to-deal-with-unwanted-widget-build/52249579#52249579", "title": "How to deal with unwanted widget build?", "body": "<p>The <em>build</em> method is designed in such a way that it should be <em>pure/without side effects</em>. This is because many external factors can trigger a new widget build, such as: </p>\n\n<ul>\n<li>Route pop/push</li>\n<li>Screen resize, usually due to keyboard appearance or orientation change</li>\n<li>Parent widget recreated its child</li>\n<li>An InheritedWidget the widget depends on (<code>Class.of(context)</code> pattern) change</li>\n</ul>\n\n<p><strong>This means that the <code>build</code> method should <em>not</em> trigger an http call or modify any state</strong>.</p>\n\n<hr>\n\n<p><em>How is this related to the question?</em></p>\n\n<p>The problem you are facing is that your build method has side-effects/is not pure, making extraneous build call troublesome.</p>\n\n<p>Instead of preventing build call, you should make your build method pure, so that it can be called anytime without impact.</p>\n\n<p>In the case of your example, you'd transform your widget into a <code>StatefulWidget</code> then extract that HTTP call to the <code>initState</code> of your <code>State</code>:</p>\n\n<pre><code>class Example extends StatefulWidget {\n  @override\n  _ExampleState createState() =&gt; _ExampleState();\n}\n\nclass _ExampleState extends State&lt;Example&gt; {\n  Future&lt;int&gt; future;\n\n  @override\n  void initState() {\n    future = Future.value(42);\n    super.initState();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return FutureBuilder(\n      future: future,\n      builder: (context, snapshot) {\n        // create some layout here\n      },\n    );\n  }\n}\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>I know this already. I came here because I <em>really</em> want to optimize rebuilds</p>\n</blockquote>\n\n<p>It is also possible to make a widget capable of rebuilding without forcing its children to build too.</p>\n\n<p>When the instance of a widget stays the same; Flutter purposefully won't rebuild children. It implies that you can cache parts of your widget tree to prevent unnecessary rebuilds.</p>\n\n<p>The easiest way is to use dart <code>const</code> constructors:</p>\n\n<pre><code>@override\nWidget build(BuildContext context) {\n  return const DecoratedBox(\n    decoration: BoxDecoration(),\n    child: Text(\"Hello World\"),\n  );\n}\n</code></pre>\n\n<p>Thanks to that <code>const</code> keyword, the instance of <code>DecoratedBox</code> will stay the same even if build were called hundreds of times. </p>\n\n<p>But you can achieve the same result manually:</p>\n\n<pre><code>@override\nWidget build(BuildContext context) {\n  final subtree = MyWidget(\n    child: Text(\"Hello World\")\n  );\n\n  return StreamBuilder&lt;String&gt;(\n    stream: stream,\n    initialData: \"Foo\",\n    builder: (context, snapshot) {\n      return Column(\n        children: &lt;Widget&gt;[\n          Text(snapshot.data),\n          subtree,\n        ],\n      );\n    },\n  );\n}\n</code></pre>\n\n<p>In this example when StreamBuilder is notified of new values, <code>subtree</code> won't rebuild even if the StreamBuilder/Column do.\nIt happens because, thanks to the closure, the instance of <code>MyWidget</code> didn't change. </p>\n\n<p>This pattern is used a lot in animations. Typical uses are <code>AnimatedBuilder</code> and all transitions such as <code>AlignTransition</code>. </p>\n\n<p>You could also store <code>subtree</code> into a field of your class, although less recommended as it breaks the hot-reload feature. </p>\n"}, {"comments": [{"owner": {"reputation": 391, "user_id": 10415423, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Zg-6KOGdtG4/AAAAAAAAAAI/AAAAAAAANF0/0I-fjDdFXDM/photo.jpg?sz=128", "display_name": "Ezzabuzaid", "link": "https://stackoverflow.com/users/10415423/ezzabuzaid"}, "edited": false, "score": 0, "creation_date": 1607816985, "post_id": 59946297, "comment_id": 115392940, "body": "the first point interferes with the last one &quot;Create child Statefull class for individual small part of UI&quot; with &quot;Parent widget is build then child widget also rebuild&quot;"}, {"owner": {"reputation": 7381, "user_id": 6159856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r6bVp.jpg?s=128&g=1", "display_name": "Sanjayrajsinh", "link": "https://stackoverflow.com/users/6159856/sanjayrajsinh"}, "reply_to_user": {"reputation": 391, "user_id": 10415423, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Zg-6KOGdtG4/AAAAAAAAAAI/AAAAAAAANF0/0I-fjDdFXDM/photo.jpg?sz=128", "display_name": "Ezzabuzaid", "link": "https://stackoverflow.com/users/10415423/ezzabuzaid"}, "edited": false, "score": 0, "creation_date": 1607927958, "post_id": 59946297, "comment_id": 115416010, "body": "No, Let me give example 1st one is If you have register form screen and create small child ui for getting BDay so when you rebuild BDay widget then whole registration form screen is not rebuild But if you rebuild parent screen then whole child also is rebuild"}, {"owner": {"reputation": 447, "user_id": 1258130, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c1bd16bfa545d8a8a2ad5197b54a1ba8?s=128&d=identicon&r=PG", "display_name": "eja", "link": "https://stackoverflow.com/users/1258130/eja"}, "edited": false, "score": 1, "creation_date": 1608493763, "post_id": 59946297, "comment_id": 115595216, "body": "if someone still wonders, @Sanjayrajsinh means that you should create small separate stateful widgets, because updating state within those won&#39;t affect the parent. If you have e.g. huge widgets each setState() will update everything"}], "tags": [], "owner": {"reputation": 7381, "user_id": 6159856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r6bVp.jpg?s=128&g=1", "display_name": "Sanjayrajsinh", "link": "https://stackoverflow.com/users/6159856/sanjayrajsinh"}, "is_accepted": false, "score": 21, "last_activity_date": 1584888908, "last_edit_date": 1584888908, "creation_date": 1580205957, "answer_id": 59946297, "question_id": 52249578, "link": "https://stackoverflow.com/questions/52249578/how-to-deal-with-unwanted-widget-build/59946297#59946297", "title": "How to deal with unwanted widget build?", "body": "<p>You can prevent unwanted build calling, using these way</p>\n\n<p>1) Create child Statefull class for individual small part of UI</p>\n\n<p>2) Use <a href=\"https://pub.dev/packages/provider\" rel=\"noreferrer\">Provider</a> library, so using it you can stop unwanted build method calling<br>\n<br>\nIn these below situation build method call</p>\n\n<ul>\n<li>After calling <a href=\"https://api.flutter.dev/flutter/widgets/State/initState.html\" rel=\"noreferrer\">initState</a><br></li>\n<li>After calling <a href=\"https://api.flutter.dev/flutter/widgets/State/didUpdateWidget.html\" rel=\"noreferrer\">didUpdateWidget</a><br></li>\n<li>when <a href=\"https://api.flutter.dev/flutter/widgets/State/setState.html\" rel=\"noreferrer\">setState()</a> is called.<br></li>\n<li>when keyboard is open <br></li>\n<li>when screen orientation changed<br></li>\n<li>Parent widget is build then child widget also rebuild<br></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1355, "user_id": 8346770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cde873809b130126e10e52e251697b7?s=128&d=identicon&r=PG&f=1", "display_name": "Taba", "link": "https://stackoverflow.com/users/8346770/taba"}, "is_accepted": false, "score": 9, "last_activity_date": 1595870413, "creation_date": 1595870413, "answer_id": 63120366, "question_id": 52249578, "link": "https://stackoverflow.com/questions/52249578/how-to-deal-with-unwanted-widget-build/63120366#63120366", "title": "How to deal with unwanted widget build?", "body": "<p>Flutter also has <code>ValueListenableBuilder&lt;T&gt; class </code>. It allows you to rebuild only some of the widgets necessary for your purpose and skip the expensive widgets.</p>\n<p>you can see the documents here <a href=\"https://api.flutter.dev/flutter/widgets/ValueListenableBuilder-class.html\" rel=\"noreferrer\">ValueListenableBuilder flutter docs</a><br />\nor just the sample code below:</p>\n<pre><code>  return Scaffold(\n  appBar: AppBar(\n    title: Text(widget.title)\n  ),\n  body: Center(\n    child: Column(\n      mainAxisAlignment: MainAxisAlignment.center,\n      children: &lt;Widget&gt;[\n        Text('You have pushed the button this many times:'),\n        ValueListenableBuilder(\n          builder: (BuildContext context, int value, Widget child) {\n            // This builder will only get called when the _counter\n            // is updated.\n            return Row(\n              mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n              children: &lt;Widget&gt;[\n                Text('$value'),\n                child,\n              ],\n            );\n          },\n          valueListenable: _counter,\n          // The child parameter is most helpful if the child is\n          // expensive to build and does not depend on the value from\n          // the notifier.\n          child: goodJob,\n        )\n      ],\n    ),\n  ),\n  floatingActionButton: FloatingActionButton(\n    child: Icon(Icons.plus_one),\n    onPressed: () =&gt; _counter.value += 1,\n  ),\n);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 802, "user_id": 2240957, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FEbsb.jpg?s=128&g=1", "display_name": "Mohsen Emami", "link": "https://stackoverflow.com/users/2240957/mohsen-emami"}, "is_accepted": false, "score": 1, "last_activity_date": 1614163696, "creation_date": 1614163696, "answer_id": 66349312, "question_id": 52249578, "link": "https://stackoverflow.com/questions/52249578/how-to-deal-with-unwanted-widget-build/66349312#66349312", "title": "How to deal with unwanted widget build?", "body": "<p>One of the easiest ways to avoid unwanted re<strong>Build</strong>s that are caused usually by calling <code>setState()</code> in order to update only a specific Widget and not refreshing the whole page, is to cut that part of your code and wrap it as an independent <code>Widget</code> in another <code>Stateful</code> class.<br />\nFor example in following code, <code>Build</code> method of parent page is called over and over by pressing the FAB button:</p>\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() {\n  runApp(TestApp());\n}\n\nclass TestApp extends StatefulWidget {\n\n  @override\n  _TestAppState createState() =&gt; _TestAppState();\n}\n\nclass _TestAppState extends State&lt;TestApp&gt; {\n\n  int c = 0;\n\n  @override\n  Widget build(BuildContext context) {\n\n    print('build is called');\n\n    return MaterialApp(home: Scaffold(\n      appBar: AppBar(\n        title: Text('my test app'),\n      ),\n      body: Center(child:Text('this is a test page')),\n      floatingActionButton: FloatingActionButton(\n        onPressed: (){\n          setState(() {\n            c++;\n          });\n        },\n        tooltip: 'Increment',\n        child: Icon(Icons.wb_incandescent_outlined, color: (c % 2) == 0 ? Colors.white : Colors.black)\n      )\n    ));\n  }\n}\n\n</code></pre>\n<p>But if you separate the FloatingActionButton widget in another class with its own life cycle, <code>setState()</code> method does not cause the parent class <code>Build</code> method to re-run:</p>\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:flutter_app_mohsen/widgets/my_widget.dart';\n\nvoid main() {\n  runApp(TestApp());\n}\n\nclass TestApp extends StatefulWidget {\n\n  @override\n  _TestAppState createState() =&gt; _TestAppState();\n}\n\nclass _TestAppState extends State&lt;TestApp&gt; {\n\n  int c = 0;\n\n  @override\n  Widget build(BuildContext context) {\n\n    print('build is called');\n\n    return MaterialApp(home: Scaffold(\n      appBar: AppBar(\n        title: Text('my test app'),\n      ),\n      body: Center(child:Text('this is a test page')),\n      floatingActionButton: MyWidget(number: c)\n    ));\n  }\n}\n\n</code></pre>\n<p>and the MyWidget class:</p>\n<pre><code>import 'package:flutter/material.dart';\n\nclass MyWidget extends StatefulWidget {\n\n  int number;\n  MyWidget({this.number});\n\n  @override\n  _MyWidgetState createState() =&gt; _MyWidgetState();\n}\n\nclass _MyWidgetState extends State&lt;MyWidget&gt; {\n\n  @override\n  Widget build(BuildContext context) {\n    return FloatingActionButton(\n        onPressed: (){\n          setState(() {\n            widget.number++;\n          });\n        },\n        tooltip: 'Increment',\n        child: Icon(Icons.wb_incandescent_outlined, color: (widget.number % 2) == 0 ? Colors.white : Colors.black)\n    );\n  }\n}\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 59, "user_id": 13182435, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Gha1vhDnsfWvP2EKgi1fSUVaqNn8Xqicr63jKS6JA=k-s128", "display_name": "Rohan", "link": "https://stackoverflow.com/users/13182435/rohan"}, "is_accepted": false, "score": 1, "last_activity_date": 1618551390, "creation_date": 1618551390, "answer_id": 67119643, "question_id": 52249578, "link": "https://stackoverflow.com/questions/52249578/how-to-deal-with-unwanted-widget-build/67119643#67119643", "title": "How to deal with unwanted widget build?", "body": "<p>I just want to share my experience of unwanted widget build mainly due to context but I found a way that is very effective for</p>\n<ul>\n<li>Route pop/push</li>\n</ul>\n<p>So you need to use Navigator.pushReplacement() so that the context of the previous page has no relation with the upcoming page</p>\n<ol>\n<li>Use Navigator.pushReplacement() for navigating from the first page to Second</li>\n<li>In second page again we need to use Navigator.pushReplacement()\nIn appBar we add -\n<pre><code>leading: IconButton(\n        icon: Icon(Icons.arrow_back),\n        onPressed: () {\n          Navigator.pushReplacement(\n            context,\n            RightToLeft(page: MyHomePage()),\n          );\n        },\n      )\n</code></pre>\n</li>\n</ol>\n<p>In this way we can optimize our app</p>\n"}], "owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51198, "favorite_count": 91, "protected_date": 1598899603, "accepted_answer_id": 52249579, "answer_count": 5, "score": 203, "last_activity_date": 1619179946, "creation_date": 1536537711, "last_edit_date": 1603542326, "question_id": 52249578, "link": "https://stackoverflow.com/questions/52249578/how-to-deal-with-unwanted-widget-build", "title": "How to deal with unwanted widget build?", "body": "<p>For various reasons, sometimes the <code>build</code> method of my widgets is called again.</p>\n<p>I know that it happens because a parent updated. But this causes undesired effects.\nA typical situation where it causes problems is when using <code>FutureBuilder</code> this way:</p>\n<pre><code>@override\nWidget build(BuildContext context) {\n  return FutureBuilder(\n    future: httpCall(),\n    builder: (context, snapshot) {\n      // create some layout here\n    },\n  );\n}\n</code></pre>\n<p>In this example, if the <em>build</em> method were to be called again, it would trigger another HTTP request. Which is undesired.</p>\n<p>Considering this, how to deal with the unwanted build? Is there any way to prevent a build call?</p>\n"}, {"tags": ["dart", "flutter", "hybrid-mobile-app", "progressive-web-apps"], "answers": [{"comments": [{"owner": {"reputation": 128, "user_id": 4982878, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TUpFz6njt5w/AAAAAAAAAAI/AAAAAAAADWU/qc7C7Z8HwTI/photo.jpg?sz=128", "display_name": "Manas Singhal", "link": "https://stackoverflow.com/users/4982878/manas-singhal"}, "edited": false, "score": 0, "creation_date": 1536669523, "post_id": 52247694, "comment_id": 91499789, "body": "I cannot use InheritedWidget as widgets in both the tabs are siblings rather than a parent-child. Also it is a small list of items so introducing redux will add more complexity. I will look into Scoped Model Library as it suits my requirements. Thanks for the help!"}], "tags": [], "owner": {"reputation": 3308, "user_id": 7739426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbd2b5e1d3b50d481fe2adc74b5d987c?s=128&d=identicon&r=PG&f=1", "display_name": "Daniil Yakovlev", "link": "https://stackoverflow.com/users/7739426/daniil-yakovlev"}, "is_accepted": false, "score": 0, "last_activity_date": 1536519384, "creation_date": 1536519384, "answer_id": 52247694, "question_id": 52247340, "link": "https://stackoverflow.com/questions/52247340/how-to-manage-state-between-tabs-in-flutter-app/52247694#52247694", "title": "How to Manage state between tabs in Flutter App", "body": "<p>You may want to use architecture for managing and sharing states. There are many approaches to manage state:</p>\n\n<ol>\n<li>InheritedWidget to pass app state down the widget hierarchy</li>\n<li>Scoped model library to hold app state and notify Widgets of Updates</li>\n<li>Redux library to manage app state and update Widgets</li>\n<li>Business Logic Components (BLoC)</li>\n</ol>\n\n<p>Check out this <a href=\"https://medium.com/flutter-io/build-reactive-mobile-apps-in-flutter-companion-article-13950959e381\" rel=\"nofollow noreferrer\">article</a>. Check <a href=\"https://github.com/brianegan/flutter_architecture_samples\" rel=\"nofollow noreferrer\">this GitHub repository</a> with different architecture examples</p>\n"}, {"comments": [{"owner": {"reputation": 128, "user_id": 4982878, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TUpFz6njt5w/AAAAAAAAAAI/AAAAAAAADWU/qc7C7Z8HwTI/photo.jpg?sz=128", "display_name": "Manas Singhal", "link": "https://stackoverflow.com/users/4982878/manas-singhal"}, "edited": false, "score": 0, "creation_date": 1536690104, "post_id": 52249711, "comment_id": 91512038, "body": "This worked and saved my day! Thanks a lot for your help here"}], "tags": [], "owner": {"reputation": 555, "user_id": 2766953, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5e91d68f5f3fe2202517debc55fec1d0?s=128&d=identicon&r=PG", "display_name": "Jason Scott", "link": "https://stackoverflow.com/users/2766953/jason-scott"}, "is_accepted": true, "score": 6, "last_activity_date": 1536539671, "creation_date": 1536539671, "answer_id": 52249711, "question_id": 52247340, "link": "https://stackoverflow.com/questions/52247340/how-to-manage-state-between-tabs-in-flutter-app/52249711#52249711", "title": "How to Manage state between tabs in Flutter App", "body": "<p>I think what you may be after is <code>AutomaticKeepAliveClientMixin</code>. I always add that to my screen widgets within <code>TabBarView</code>. This way when a user enters data into fields in one tab and navigates to other tabs and back the data is still there as you would expect.\nThen when the user performs an action like \"save\" I deal with state management (BLoC etc).</p>\n"}], "owner": {"reputation": 128, "user_id": 4982878, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TUpFz6njt5w/AAAAAAAAAAI/AAAAAAAADWU/qc7C7Z8HwTI/photo.jpg?sz=128", "display_name": "Manas Singhal", "link": "https://stackoverflow.com/users/4982878/manas-singhal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2550, "favorite_count": 2, "accepted_answer_id": 52249711, "answer_count": 2, "score": 4, "last_activity_date": 1536690068, "creation_date": 1536516773, "last_edit_date": 1536690068, "question_id": 52247340, "link": "https://stackoverflow.com/questions/52247340/how-to-manage-state-between-tabs-in-flutter-app", "title": "How to Manage state between tabs in Flutter App", "body": "<p>I am using TabBar in my application where I need to get Input in first tab and show<br>\noutput based on some calculation on other tab.</p>\n\n<p>I am able to get input in first tab but when I click on second tab, my state is lost. I am not sure if I have to make it a Stateful widget at root level.</p>\n\n<p>I am relatively new in Mobile App. Can someone help me out here?</p>\n\n<p>EDIT:</p>\n\n<p>Now I am able to achieve what I said above, but when I am trying to access the list of items from first tab, it throws null exception in second tab?</p>\n\n<p>I solved the above problem using <strong>AutomaticKeepAliveClientMixin</strong> as described in the answer below.</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1536516923, "post_id": 52245905, "comment_id": 91442630, "body": "Thanks for clarification. The example is useless though because it has nothing to do with the use case I proposed, i.e. I do not change state of the parent widget of <code>Scaffold</code>."}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "reply_to_user": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 1, "creation_date": 1536517049, "post_id": 52245905, "comment_id": 91442661, "body": "In your example, that&#39;s the Scaffold which holds your <code>someCondition</code> though. I just respected that"}, {"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1536517270, "post_id": 52245905, "comment_id": 91442719, "body": "Not necessarily, but anyway: Do you that there is a way to play the animation without rebuilding my whole <code>Scaffold</code>?"}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "reply_to_user": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1536517842, "post_id": 52245905, "comment_id": 91442861, "body": "I doubt you can. As you&#39;d have the parent layout depending on the child layout. There are some solutions to it, but I don&#39;t know your use-case. Do you mind explaining it a bit more?"}], "tags": [], "owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "is_accepted": true, "score": 0, "last_activity_date": 1536507234, "last_edit_date": 1536507234, "creation_date": 1536506463, "answer_id": 52245905, "question_id": 52245825, "link": "https://stackoverflow.com/questions/52245825/how-to-make-fab-animate-out-when-removing-it/52245905#52245905", "title": "How to make FAB animate out when removing it?", "body": "<p>The FloatingButton leave animation plays out when you set <code>floatingActionButton</code> to null or when the new root widget has a different <code>key</code>. </p>\n\n<p>Therefore the correct way to play the leave animation in this situation is:</p>\n\n<pre><code>floatingActionButton: someCondition ?\n    SomeBuilder(\n      builder: () =&gt;\n        new FloatingActionButton(),\n    )\n    : null\n</code></pre>\n"}], "owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 309, "favorite_count": 1, "accepted_answer_id": 52245905, "answer_count": 1, "score": 0, "last_activity_date": 1536507234, "creation_date": 1536505955, "question_id": 52245825, "link": "https://stackoverflow.com/questions/52245825/how-to-make-fab-animate-out-when-removing-it", "title": "How to make FAB animate out when removing it?", "body": "<p>I know that there is an animation for <code>FloatingActionButton</code>'s animating out (what I mean by that is that when the FAB disappears, it e.g. gets smaller).<br>\nIn my case I have a <em>FAB</em> placed like this:</p>\n\n<pre><code>Scaffold(\n  floatingActionButton: SomeBuilder(builder:\n    () =&gt; someCondition ? FloatingActionButton() : Container()),\n  ...\n)\n</code></pre>\n\n<p>In that case the <code>FloatingActionButton</code> has <strong>no animation</strong> when <code>someCondition</code> changes to display the <code>Container</code>.<br>\nWhen navigating to a different route the <em><code>FloatingActionButton</code> in the code</em> does animate to represent the position and shape of the other <code>FloatingActionButton</code> in the other route, which is how I know that the Hero Animations are generally working.</p>\n\n<p>Is there any additional step I need to take to make the <strong><em>FAB</strong> have an animation when it is replaced by a <code>Container</code></em>?</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 13239, "user_id": 5305962, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9YbROXbfbBw/AAAAAAAAAAI/AAAAAAAAAEg/v4eIW0Y-eO0/photo.jpg?sz=128", "display_name": "Dinesh Balasubramanian", "link": "https://stackoverflow.com/users/5305962/dinesh-balasubramanian"}, "is_accepted": false, "score": 1, "last_activity_date": 1536543579, "creation_date": 1536543579, "answer_id": 52250031, "question_id": 52245467, "link": "https://stackoverflow.com/questions/52245467/flutter-refresh-another-widget-state-from-another-route/52250031#52250031", "title": "Flutter: Refresh another Widget State from Another Route", "body": "<p>You can use <code>callbacks</code> to indicate the <code>HomePage</code> that the <code>Settings</code> page changed some value in shared preference. Refer <a href=\"https://stackoverflow.com/a/51798698/5305962\">this</a></p>\n"}], "owner": {"reputation": 965, "user_id": 9694045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z9Nqx.jpg?s=128&g=1", "display_name": "Tayo.dev", "link": "https://stackoverflow.com/users/9694045/tayo-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1241, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1536543579, "creation_date": 1536503163, "question_id": 52245467, "link": "https://stackoverflow.com/questions/52245467/flutter-refresh-another-widget-state-from-another-route", "title": "Flutter: Refresh another Widget State from Another Route", "body": "<p>At the HompePage, am navigating to Settings page with;</p>\n\n<pre><code> Navigator.push(\n      context,\n      new MaterialPageRoute(\n          builder: (BuildContext context) =&gt; Settings()));\n</code></pre>\n\n<p>the <code>Settings()</code> page contains an <code>int</code> input to allow user specify the number of posts they want to see at the <code>HomePage</code>. When users input the number and form.save, the value is stored in <code>SharedPreferences</code>. But when the user go back to the <code>HomePage</code>, the initial number of post still there. I want the <code>HomePage</code>state to refresh so that the number of post the user specify at the Settings Page will take effect immediately the form is saved.</p>\n\n<p>Below is some snippets of my code;</p>\n\n<p>This is the form <code>_submit</code> on <code>Settings()</code> page,</p>\n\n<pre><code>_submit() async {\n    final form = _formKey.currentState;\n    SharedPreferences prefs = await SharedPreferences.getInstance();\n    if (form.validate()) {\n      prefs.setInt('defaultField', newva);\n      form.save();\n      final mysb = SnackBar(\n        duration: Duration(seconds: 1),\n        content: new Text(\n          'Data Saved Successfully',\n          style: TextStyle(\n            color: Colors.white,\n            fontWeight: FontWeight.bold,\n          ),\n        ),\n        backgroundColor: Colors.red,\n      );\n      _scaffoldKey.currentState?.showSnackBar(mysb);\n      myHomePageState.setState(() {\n        newSULength = newva;\n      });\n      print('Done for $newva');\n    }\n  }\n</code></pre>\n\n<p>This is my <code>MyHomePage()</code></p>\n\n<pre><code>MyHomePageState myHomePageState = new MyHomePageState();\n\nclass MyHomePage extends StatefulWidget {\n  MyHomePage({Key key, this.title}) : super(key: key);\n  final String title;\n\n  @override\n  State&lt;MyHomePage&gt; createState() =&gt; new MyHomePageState();\n  static MyHomePageState of(BuildContext context){\n    final MyHomePageState navigator = context.ancestorStateOfType(const TypeMatcher&lt;MyHomePageState&gt;());\n    assert(() {\n      if(navigator == null) {\n        throw new FlutterError('Error occoured');\n      }\n      return true;\n    }());\n\n    return navigator;\n  }\n}\n\nclass MyHomePageState extends State&lt;MyHomePage&gt; {\n\n  int newSULength = 0;\n\nvoid initState() {\n    // TODO: implement initState\n    super.initState();\n    loadDF();\n  }\n\n  set newle(String value) =&gt; setState(() =&gt; _string = value);\n\n\n  loadDF() async {\n    SharedPreferences prefs = await SharedPreferences.getInstance();\n    setState(() {\n      newSULength = (prefs.getInt('defaultField') ?? 5);\n      for (int i = 0; i &lt; newSULength; i++) {\n\n\\\\todos\n      }\n    });\n    print('Done');\n  }\n}\n</code></pre>\n"}, {"tags": ["dart", "local-storage", "flutter"], "comments": [{"owner": {"reputation": 33685, "user_id": 3434970, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/cWyFQ.png?s=128&g=1", "display_name": "Shady Aziza", "link": "https://stackoverflow.com/users/3434970/shady-aziza"}, "edited": false, "score": 1, "creation_date": 1536506094, "post_id": 52245183, "comment_id": 91439830, "body": "<a href=\"https://pub.dartlang.org/packages/sqflite\" rel=\"nofollow noreferrer\">pub.dartlang.org/packages/sqflite</a>"}, {"owner": {"reputation": 6908, "user_id": 5366641, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/71e9ba6e3cdac2461999d9c32ad9d507?s=128&d=identicon&r=PG", "display_name": "scopchanov", "link": "https://stackoverflow.com/users/5366641/scopchanov"}, "edited": false, "score": 0, "creation_date": 1536529193, "post_id": 52245183, "comment_id": 91445761, "body": "About <i>What is the recommended package to use</i>: Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it."}, {"owner": {"reputation": 792, "user_id": 9363835, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ztCRobtQNGg/AAAAAAAAAAI/AAAAAAAAAPU/iJWHavVnXyM/photo.jpg?sz=128", "display_name": "Denis Ramdan", "link": "https://stackoverflow.com/users/9363835/denis-ramdan"}, "edited": false, "score": 0, "creation_date": 1536547176, "post_id": 52245183, "comment_id": 91448718, "body": "thank you for the explanation, I really appreciate it."}], "owner": {"reputation": 792, "user_id": 9363835, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ztCRobtQNGg/AAAAAAAAAAI/AAAAAAAAAPU/iJWHavVnXyM/photo.jpg?sz=128", "display_name": "Denis Ramdan", "link": "https://stackoverflow.com/users/9363835/denis-ramdan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 944, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536501160, "creation_date": 1536501160, "question_id": 52245183, "link": "https://stackoverflow.com/questions/52245183/local-storage-in-dart-flutter", "title": "Local Storage in Dart Flutter", "body": "<p>I have now tried the package shared_preferences for the operation of the local storage.</p>\n\n<p>my question is : </p>\n\n<p>how do I use local storage in the flutter socket io? What is the recommended package to use and how easy is it to be used?</p>\n"}, {"tags": ["dart", "dart-http"], "comments": [{"owner": {"reputation": 729, "user_id": 9927423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0389f52eb5c6b3681ef4e8ea6fe593e?s=128&d=identicon&r=PG&f=1", "display_name": "smitty_werbenjagermanjensen", "link": "https://stackoverflow.com/users/9927423/smitty-werbenjagermanjensen"}, "edited": false, "score": 0, "creation_date": 1536496344, "post_id": 52244542, "comment_id": 91437474, "body": "Hi Colin, What exactly is your question?"}, {"owner": {"reputation": 13728, "user_id": 3675035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2PXUu.jpg?s=128&g=1", "display_name": "Blasanka", "link": "https://stackoverflow.com/users/3675035/blasanka"}, "edited": false, "score": 0, "creation_date": 1536496495, "post_id": 52244542, "comment_id": 91437517, "body": "Yeah, what is your question can you explain a little bit more"}, {"owner": {"reputation": 13, "user_id": 10337405, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eZodxeJAbxs/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNjcaK-6bO6fxfOrtYwogRTn6bckw/mo/photo.jpg?sz=128", "display_name": "Colin Demol", "link": "https://stackoverflow.com/users/10337405/colin-demol"}, "edited": false, "score": 0, "creation_date": 1536497018, "post_id": 52244542, "comment_id": 91437621, "body": "Sorry it was just a test too now if the code is correctly formated"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10337405, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eZodxeJAbxs/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNjcaK-6bO6fxfOrtYwogRTn6bckw/mo/photo.jpg?sz=128", "display_name": "Colin Demol", "link": "https://stackoverflow.com/users/10337405/colin-demol"}, "edited": false, "score": 0, "creation_date": 1536520780, "post_id": 52247659, "comment_id": 91443588, "body": "Thanx you Alexandre"}], "tags": [], "owner": {"reputation": 51074, "user_id": 634863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198449a7e196c4b0f2ed25f65279bf84?s=128&d=identicon&r=PG", "display_name": "Alexandre Ardhuin", "link": "https://stackoverflow.com/users/634863/alexandre-ardhuin"}, "is_accepted": true, "score": 1, "last_activity_date": 1536519131, "creation_date": 1536519131, "answer_id": 52247659, "question_id": 52244542, "link": "https://stackoverflow.com/questions/52244542/make-a-http-request-in-dart-whith-dartio/52247659#52247659", "title": "Make a http request in dart whith dart:io", "body": "<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:convert';\nimport 'dart:io';\n\nvoid main() async {\n  final client = HttpClient();\n  final request = await client.getUrl(Uri.parse(\n      'https://api.themoviedb.org/3/movie/76341?api_key=fbe54362add6e62e0e959f0e7662d64e&amp;language=fr'));\n  final response = await request.close();\n  final contentAsString = await utf8.decodeStream(response);\n  final map = json.decode(contentAsString);\n  print(map);\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10337405, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eZodxeJAbxs/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNjcaK-6bO6fxfOrtYwogRTn6bckw/mo/photo.jpg?sz=128", "display_name": "Colin Demol", "link": "https://stackoverflow.com/users/10337405/colin-demol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 273, "favorite_count": 0, "accepted_answer_id": 52247659, "answer_count": 1, "score": 1, "last_activity_date": 1536519131, "creation_date": 1536496086, "last_edit_date": 1536517235, "question_id": 52244542, "link": "https://stackoverflow.com/questions/52244542/make-a-http-request-in-dart-whith-dartio", "title": "Make a http request in dart whith dart:io", "body": "<p>Hey I'm a beginner and I want to interact with an API with dart:io for fetch JSON files I can fetch the data with this code :\n</p>\n\n<pre><code>  final HttpClient client = HttpClient();\n  client.getUrl(Uri.parse(\"https://api.themoviedb.org/3/movie/76341?api_key=fbe54362add6e62e0e959f0e7662d64e&amp;language=fr\"))\n  .then((HttpClientRequest request) {\n    return request.close();\n  })\n  .then((HttpClientResponse response) {\n    Map a;\n    print(a);\n</code></pre>\n\n<p>But I want to have a Map whith the JSON but I can't do it. If I could get a String that contains the JSON I could do it with\n<code>json.decode();</code></p>\n\n<p>also know that the answer is stored in an int list that represents the utf8 values of the characters so with <code>utf8.decode(responce.toList())</code> I can get the utf8 value but <code>responce.toList()</code> return a Future but even if it may be easy I don't know how to get the list.</p>\n"}, {"tags": ["android", "ios", "dart", "flutter"], "comments": [{"owner": {"reputation": 10906, "user_id": 793477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8pV74.jpg?s=128&g=1", "display_name": "Ashton Thomas", "link": "https://stackoverflow.com/users/793477/ashton-thomas"}, "edited": false, "score": 0, "creation_date": 1536488351, "post_id": 52243364, "comment_id": 91435316, "body": "I&#39;ve had trouble in the past adding a background gradient to an ink splash area. The gradient ends up hiding splashes. Are you interested in just having a gradient or having a gradient with a splash effect? (as for a button with elevation, border radius, and gradient - yes that&#39;s possible"}, {"owner": {"reputation": 24384, "user_id": 7814783, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/WmVpD.jpg?s=128&g=1", "display_name": "Vamsi Krishna", "link": "https://stackoverflow.com/users/7814783/vamsi-krishna"}, "reply_to_user": {"reputation": 10906, "user_id": 793477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8pV74.jpg?s=128&g=1", "display_name": "Ashton Thomas", "link": "https://stackoverflow.com/users/793477/ashton-thomas"}, "edited": false, "score": 0, "creation_date": 1536493337, "post_id": 52243364, "comment_id": 91436623, "body": "@AshtonThomas As you said the gradient is hiding the ink splash . This is because the ink splash needs a Material widget as its parent. I had the same situation. So ended up creating my own custom button."}, {"owner": {"reputation": 1064, "user_id": 7448025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b840f3fdf13febcfcee463d6dec039c9?s=128&d=identicon&r=PG", "display_name": "Moein Hosseini", "link": "https://stackoverflow.com/users/7448025/moein-hosseini"}, "edited": false, "score": 0, "creation_date": 1536495263, "post_id": 52243364, "comment_id": 91437173, "body": "I tried the custom button idea and I can&#39;t implement the shadow animation that the default raised button have! could you help me with this?"}], "answers": [{"comments": [{"owner": {"reputation": 1064, "user_id": 7448025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b840f3fdf13febcfcee463d6dec039c9?s=128&d=identicon&r=PG", "display_name": "Moein Hosseini", "link": "https://stackoverflow.com/users/7448025/moein-hosseini"}, "edited": false, "score": 0, "creation_date": 1536495036, "post_id": 52244149, "comment_id": 91437097, "body": "actually, I want the shadow to be exactly like default raised button and couldn&#39;t implement that."}, {"owner": {"reputation": 10906, "user_id": 793477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8pV74.jpg?s=128&g=1", "display_name": "Ashton Thomas", "link": "https://stackoverflow.com/users/793477/ashton-thomas"}, "reply_to_user": {"reputation": 1064, "user_id": 7448025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b840f3fdf13febcfcee463d6dec039c9?s=128&d=identicon&r=PG", "display_name": "Moein Hosseini", "link": "https://stackoverflow.com/users/7448025/moein-hosseini"}, "edited": false, "score": 0, "creation_date": 1536496395, "post_id": 52244149, "comment_id": 91437493, "body": "Vamsi, @MoeinHosseini, try using adding an <code>elevation</code> to the material rather than a shadow"}], "tags": [], "owner": {"reputation": 24384, "user_id": 7814783, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/WmVpD.jpg?s=128&g=1", "display_name": "Vamsi Krishna", "link": "https://stackoverflow.com/users/7814783/vamsi-krishna"}, "is_accepted": true, "score": 55, "last_activity_date": 1536569257, "last_edit_date": 1536569257, "creation_date": 1536493100, "answer_id": 52244149, "question_id": 52243364, "link": "https://stackoverflow.com/questions/52243364/flutter-how-to-make-a-raised-button-that-has-a-gradient-background/52244149#52244149", "title": "flutter - How to make a raised button that has a gradient background?", "body": "<p>You can create a custom one yourself </p>\n\n<pre><code>class RaisedGradientButton extends StatelessWidget {\n  final Widget child;\n  final Gradient gradient;\n  final double width;\n  final double height;\n  final Function onPressed;\n\n  const RaisedGradientButton({\n    Key key,\n    @required this.child,\n    this.gradient,\n    this.width = double.infinity,\n    this.height = 50.0,\n    this.onPressed,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n      width: width,\n      height: 50.0,\n      decoration: BoxDecoration(gradient: gradient, boxShadow: [\n        BoxShadow(\n          color: Colors.grey[500],\n          offset: Offset(0.0, 1.5),\n          blurRadius: 1.5,\n        ),\n      ]),\n      child: Material(\n        color: Colors.transparent,\n        child: InkWell(\n            onTap: onPressed,\n            child: Center(\n              child: child,\n            )),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>And use it anywhere as follows:</p>\n\n<pre><code>RaisedGradientButton(\n  child: Text(\n    'Button',\n    style: TextStyle(color: Colors.white),\n  ),\n  gradient: LinearGradient(\n    colors: &lt;Color&gt;[Colors.green, Colors.black],\n  ),\n  onPressed: (){\n    print('button clicked');\n  }\n),\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/d1yVL.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/d1yVL.png\" alt=\"Custom button\"></a></p>\n\n<p>You can further play around with the shadow and rounded borders by editing the Container's decoration property until it matches your spec. </p>\n"}, {"tags": [], "owner": {"reputation": 6317, "user_id": 2863386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1351f3dc176c08f5596077a9d2d9f024?s=128&d=identicon&r=PG&f=1", "display_name": "Shyju M", "link": "https://stackoverflow.com/users/2863386/shyju-m"}, "is_accepted": false, "score": 6, "last_activity_date": 1552409200, "last_edit_date": 1552409200, "creation_date": 1543484362, "answer_id": 53535906, "question_id": 52243364, "link": "https://stackoverflow.com/questions/52243364/flutter-how-to-make-a-raised-button-that-has-a-gradient-background/53535906#53535906", "title": "flutter - How to make a raised button that has a gradient background?", "body": "<p><a href=\"https://pub.dartlang.org/packages/gradient_widgets#-readme-tab-\" rel=\"noreferrer\">Gradient</a> package is available at pub store which supports few predefined gradients</p>\n\n<p>You can create the gradient button as</p>\n\n<pre><code>GradientButton(\n                 child: Text('Gradient'),\n                 callback: () {},\n                 gradient: Gradients.backToFuture,\n           ),\n</code></pre>\n\n<p>The package have GradientCard, GradientProgressIndicator, GradientButton, CircularGradientButton and the GradientText</p>\n\n<p><a href=\"https://github.com/bluemix/gradient-widgets/raw/master/art/screenshot3_cropped_resized.png\" rel=\"noreferrer\">Gradient Widgets</a></p>\n"}, {"tags": [], "owner": {"reputation": 177, "user_id": 6695355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/457b8af41dbc0d1d052513288eab83fb?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Mustafa", "link": "https://stackoverflow.com/users/6695355/muhammad-mustafa"}, "is_accepted": false, "score": 4, "last_activity_date": 1556887150, "last_edit_date": 1556887150, "creation_date": 1556885815, "answer_id": 55969642, "question_id": 52243364, "link": "https://stackoverflow.com/questions/52243364/flutter-how-to-make-a-raised-button-that-has-a-gradient-background/55969642#55969642", "title": "flutter - How to make a raised button that has a gradient background?", "body": "<p>Simply make one more container as a child set the decoration of that container and make gradient color as you want</p>\n\n<p>Then after this use <strong>RaisedButton</strong> as the child of the above container \nsame as with <strong>MaterialButton</strong> also</p>\n\n<pre><code>   child: Container(\n      decoration: BoxDecoration(\n        gradient: LinearGradient(\n            colors: [Colors.red, Colors.blue],\n            begin: FractionalOffset(0.0, 0.0),\n            end: FractionalOffset(0.5, 0.0),\n            stops: [0.0, 1.0],\n            tileMode: TileMode.clamp),\n      ),\n      child: RaisedButton(\n        color: Colors.transparent,\n        child: Text(\"Ask Permssion\"),\n        onPressed: () {\n          askPermission();\n        },\n      )),\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/TCCn7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TCCn7.png\" alt=\"GradientRaisedButton\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba7fa4aecfb5efb5e0879c6b90f55ada?s=128&d=identicon&r=PG&f=1", "display_name": "Krishna Lohiya", "link": "https://stackoverflow.com/users/6498828/krishna-lohiya"}, "is_accepted": false, "score": 14, "last_activity_date": 1560497047, "last_edit_date": 1560497047, "creation_date": 1559845965, "answer_id": 56483248, "question_id": 52243364, "link": "https://stackoverflow.com/questions/52243364/flutter-how-to-make-a-raised-button-that-has-a-gradient-background/56483248#56483248", "title": "flutter - How to make a raised button that has a gradient background?", "body": "<p>Refer Below -</p>\n\n<pre><code>RaisedButton(\n     onPressed: () {},\n     textColor: Colors.white,\n     padding: const EdgeInsets.all(0.0),\n     shape:RoundedRectangleBorder(borderRadius: BorderRadius.circular(80.0)),\n     child: Container(\n       decoration: const BoxDecoration(\n         gradient: LinearGradient(\n           colors: &lt;Color&gt;[\n             Color(0xFF0D47A1),\n             Color(0xFF1976D2),\n             Color(0xFF42A5F5),\n           ],\n         ),\n         borderRadius: BorderRadius.all(Radius.circular(80.0))\n       ),\n       padding: const EdgeInsets.fromLTRB(20, 10, 20, 10),\n       child: const Text(\n           'Gradient Button',\n           style: TextStyle(fontSize: 20)\n       ),\n     ),\n   )\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1487, "user_id": 11661407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Em5ta.jpg?s=128&g=1", "display_name": "GaboBrandX", "link": "https://stackoverflow.com/users/11661407/gabobrandx"}, "is_accepted": false, "score": 0, "last_activity_date": 1565879017, "creation_date": 1565879017, "answer_id": 57511138, "question_id": 52243364, "link": "https://stackoverflow.com/questions/52243364/flutter-how-to-make-a-raised-button-that-has-a-gradient-background/57511138#57511138", "title": "flutter - How to make a raised button that has a gradient background?", "body": "<p>I know this question is a bit old.. But I've found myself with this requirement and I wanted to share my solution. It uses a <code>Card</code> and animates the elevation when the button is pressed.</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nclass GradientButton extends StatefulWidget {\n  final String label;\n  final VoidCallback onPressed;\n  final Gradient gradient;\n  final double elevation;\n  final double height;\n  final TextStyle labelStyle;\n\n  GradientButton({\n    @required this.label,\n    @required this.onPressed,\n    @required this.gradient,\n    this.elevation,\n    this.height,\n    this.labelStyle,\n  })  : assert(label != null &amp;&amp; onPressed != null),\n        assert(gradient != null);\n\n  @override\n  _GradientButtonState createState() =&gt; _GradientButtonState();\n}\n\nclass _GradientButtonState extends State&lt;GradientButton&gt; with TickerProviderStateMixin {\n  AnimationController _animationController;\n  Animation _animation;\n\n  elevateUp(TapDownDetails details) {\n    _animationController.forward();\n  }\n\n  elevateDown() {\n    _animationController.reverse();\n  }\n\n  @override\n  void initState() {\n    super.initState();\n    _animationController = AnimationController(duration: Duration(milliseconds: 50), vsync: this);\n    _animation = Tween(begin: widget.elevation ?? 2.0, end: 12.0).animate(_animationController);\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return AnimatedBuilder(\n      animation: _animation,\n      builder: (c, w) {\n        return GestureDetector(\n          onTapDown: elevateUp,\n          onTapCancel: elevateDown,\n          onTapUp: (value) {\n            elevateDown();\n            widget.onPressed();\n          },\n          child: Card(\n            elevation: _animation.value,\n            shape: RoundedRectangleBorder(\n              borderRadius: BorderRadius.circular(25.0),\n            ),\n            child: Container(\n              width: double.infinity,\n              height: widget.height ?? 50.0,\n              decoration: BoxDecoration(\n                gradient: widget.gradient,\n                borderRadius: BorderRadius.circular(25.0),\n              ),\n              child: Center(\n                child: Text(\n                  widget.label,\n                  style: widget.labelStyle ?? Theme.of(context).textTheme.button,\n                ),\n              ),\n            ),\n          ),\n        );\n      },\n    );\n  }\n}\n</code></pre>\n\n<p>There's room for improving it (maybe you don't want those rounded borders by default), but hope can be useful for some of you :D</p>\n"}, {"tags": [], "owner": {"reputation": 587, "user_id": 5025015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EAaru.png?s=128&g=1", "display_name": "Fatima Hossny", "link": "https://stackoverflow.com/users/5025015/fatima-hossny"}, "is_accepted": false, "score": 0, "last_activity_date": 1570041941, "creation_date": 1570041941, "answer_id": 58207575, "question_id": 52243364, "link": "https://stackoverflow.com/questions/52243364/flutter-how-to-make-a-raised-button-that-has-a-gradient-background/58207575#58207575", "title": "flutter - How to make a raised button that has a gradient background?", "body": "<p>You can use a more easier way by using <code>RawMaterialButton</code> from <code>material.dart</code> , you can make it's shape as rounded or circle too .\nhere is a simple example of this .</p>\n\n<pre><code>  Card(\n    elevation: 7,\n    child: Container(\n      width: 120.0,\n      height: 75.0,\n      decoration: BoxDecoration(\n        gradient: LinearGradient(\n          begin: Alignment.bottomLeft,\n          end: Alignment.topRight,\n          colors: &lt;Color&gt;[\n            Colors.blue,\n            Colors.red,\n          ],\n        ),\n      ),\n      child: RawMaterialButton(\n        onPressed: () {},\n        splashColor: Colors.grey,\n        child: Text(\n          \"Button\",\n          style: TextStyle(color: Colors.white, fontSize: 20.0),\n        ),\n      ),\n    ),\n  ),\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1373, "user_id": 10227686, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--F3qjkFKT4s/AAAAAAAAAAI/AAAAAAAABCo/3GeZ8XsT0Mc/photo.jpg?sz=128", "display_name": "Asyraf Dayan", "link": "https://stackoverflow.com/users/10227686/asyraf-dayan"}, "edited": false, "score": 1, "creation_date": 1570688708, "post_id": 58250687, "comment_id": 102993324, "body": "Unrelated question here. What font are you using with that button?"}, {"owner": {"reputation": 1665, "user_id": 497058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e5580499dcf6e1d455097efdaa6ac92?s=128&d=identicon&r=PG", "display_name": "Leonardo", "link": "https://stackoverflow.com/users/497058/leonardo"}, "reply_to_user": {"reputation": 1373, "user_id": 10227686, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--F3qjkFKT4s/AAAAAAAAAAI/AAAAAAAABCo/3GeZ8XsT0Mc/photo.jpg?sz=128", "display_name": "Asyraf Dayan", "link": "https://stackoverflow.com/users/10227686/asyraf-dayan"}, "edited": false, "score": 3, "creation_date": 1570731818, "post_id": 58250687, "comment_id": 103016056, "body": "@AsyrafDayan <a href=\"https://fonts.google.com/specimen/Montserrat\" rel=\"nofollow noreferrer\">Montserrat</a>"}], "tags": [], "owner": {"reputation": 1665, "user_id": 497058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e5580499dcf6e1d455097efdaa6ac92?s=128&d=identicon&r=PG", "display_name": "Leonardo", "link": "https://stackoverflow.com/users/497058/leonardo"}, "is_accepted": false, "score": 7, "last_activity_date": 1570297668, "last_edit_date": 1570297668, "creation_date": 1570296327, "answer_id": 58250687, "question_id": 52243364, "link": "https://stackoverflow.com/questions/52243364/flutter-how-to-make-a-raised-button-that-has-a-gradient-background/58250687#58250687", "title": "flutter - How to make a raised button that has a gradient background?", "body": "<p>The Flutter API doc has an example of how to render a <code>RaisedButton</code> with gradient background - see here <a href=\"https://api.flutter.dev/flutter/material/RaisedButton-class.html\" rel=\"noreferrer\">https://api.flutter.dev/flutter/material/RaisedButton-class.html</a></p>\n\n<pre><code>Widget gradientButton = Container(\n  child: RaisedButton(\n    onPressed: () { },\n    textColor: Colors.white,\n    padding: const EdgeInsets.all(0.0),\n    child: Container(\n      width: 300,\n      decoration: new BoxDecoration(\n        gradient: new LinearGradient(\n          colors: [\n            Color.fromARGB(255, 148, 231, 225),\n            Color.fromARGB(255, 62, 182, 226)\n          ],\n        )\n      ),\n      padding: const EdgeInsets.all(10.0),\n      child: Text(\n        \"Gradient Button\",\n        textAlign: TextAlign.center,\n      ),\n    ),\n  ),\n);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/1HzxU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1HzxU.png\" alt=\"Gradient Button\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 853, "user_id": 4067548, "user_type": "registered", "accept_rate": 31, "profile_image": "https://lh5.googleusercontent.com/-vXmgv8SP-4I/AAAAAAAAAAI/AAAAAAAAACw/UIaK_WTm16o/photo.jpg?sz=128", "display_name": "Sandeep Singh", "link": "https://stackoverflow.com/users/4067548/sandeep-singh"}, "edited": false, "score": 1, "creation_date": 1608036017, "post_id": 58417424, "comment_id": 115453787, "body": "thanks mate!, it works like charm!"}], "tags": [], "owner": {"reputation": 12635, "user_id": 2760919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7exCF.png?s=128&g=1", "display_name": "bonnyz", "link": "https://stackoverflow.com/users/2760919/bonnyz"}, "is_accepted": false, "score": 60, "last_activity_date": 1571248912, "last_edit_date": 1571248912, "creation_date": 1571241683, "answer_id": 58417424, "question_id": 52243364, "link": "https://stackoverflow.com/questions/52243364/flutter-how-to-make-a-raised-button-that-has-a-gradient-background/58417424#58417424", "title": "flutter - How to make a raised button that has a gradient background?", "body": "<p>All the solution above are not really working without some minor artifacts or issues (e.g. missing ripple effect, unwanted borders, not respecting the theme's <em>minWidth</em> for buttons).</p>\n\n<p>The <strong>solution below has none of the above issues</strong> (the critical part is to use the <code>Ink</code> widget to retain the ripple capabilities over the gradient):</p>\n\n<pre><code>RaisedButton(\n  onPressed: () { },\n  shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(80.0)),\n  padding: const EdgeInsets.all(0.0),\n  child: Ink(\n    decoration: const BoxDecoration(\n      gradient: myGradient,\n      borderRadius: BorderRadius.all(Radius.circular(80.0)),\n    ),\n    child: Container(\n      constraints: const BoxConstraints(minWidth: 88.0, minHeight: 36.0), // min sizes for Material buttons\n      alignment: Alignment.center,\n      child: const Text(\n        'OK',\n        textAlign: TextAlign.center,\n      ),\n    ),\n  ),\n)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/XJAxM.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/XJAxM.gif\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 654, "user_id": 6112596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b47d99e21a29215e639d5ea45ed8787a?s=128&d=identicon&r=PG&f=1", "display_name": "ztvmark", "link": "https://stackoverflow.com/users/6112596/ztvmark"}, "is_accepted": false, "score": 2, "last_activity_date": 1587182212, "creation_date": 1587182212, "answer_id": 61284066, "question_id": 52243364, "link": "https://stackoverflow.com/questions/52243364/flutter-how-to-make-a-raised-button-that-has-a-gradient-background/61284066#61284066", "title": "flutter - How to make a raised button that has a gradient background?", "body": "<p>Docs last example <a href=\"https://api.flutter.dev/flutter/material/RaisedButton-class.html\" rel=\"nofollow noreferrer\">https://api.flutter.dev/flutter/material/RaisedButton-class.html</a></p>\n\n<pre><code>RaisedButton(\n  onPressed: () {},\n  textColor: Colors.white,\n  padding: const EdgeInsets.all(0.0),\n  child: Container(\n    decoration: const BoxDecoration(\n      gradient: LinearGradient(\n        colors: &lt;Color&gt;[\n          Color(0xFF0D47A1),\n          Color(0xFF1976D2),\n          Color(0xFF42A5F5),\n        ],\n      ),\n    ),\n    padding: const EdgeInsets.all(10.0),\n    child: const Text(\n      'Gradient Button',\n      style: TextStyle(fontSize: 20)\n    ),\n  ),\n);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 14109394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ef25adc637b608ea0c9cad67147aced?s=128&d=identicon&r=PG", "display_name": "Niket Tongare", "link": "https://stackoverflow.com/users/14109394/niket-tongare"}, "is_accepted": false, "score": -1, "last_activity_date": 1613022226, "last_edit_date": 1613022226, "creation_date": 1613021917, "answer_id": 66149313, "question_id": 52243364, "link": "https://stackoverflow.com/questions/52243364/flutter-how-to-make-a-raised-button-that-has-a-gradient-background/66149313#66149313", "title": "flutter - How to make a raised button that has a gradient background?", "body": "<pre><code>DecoratedBox(\n    decoration: ShapeDecoration(\n        shape:\n            RoundedRectangleBorder(borderRadius: BorderRadius.circular(12)),\n        gradient: RadialGradient(\n            radius: 2, colors: [Colors.white, Colors.redAccent]),),\n     child:RaisedButton(),\n),\n</code></pre>\n<p>Add Gradient To Any Widget Using DecoratedBox As Parent Widget</p>\n<p><a href=\"https://i.stack.imgur.com/gSy2e.jpg\" rel=\"nofollow noreferrer\">Example</a></p>\n"}], "owner": {"reputation": 1064, "user_id": 7448025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b840f3fdf13febcfcee463d6dec039c9?s=128&d=identicon&r=PG", "display_name": "Moein Hosseini", "link": "https://stackoverflow.com/users/7448025/moein-hosseini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49924, "favorite_count": 11, "accepted_answer_id": 52244149, "answer_count": 10, "score": 46, "last_activity_date": 1613022226, "creation_date": 1536487026, "question_id": 52243364, "link": "https://stackoverflow.com/questions/52243364/flutter-how-to-make-a-raised-button-that-has-a-gradient-background", "title": "flutter - How to make a raised button that has a gradient background?", "body": "<p>Is there a way to change the raised button background color to a gradient? if not, how can I achieve something like this?</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 203, "user_id": 4851566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68998e20f52bb4dc774377c2bafd8bb3?s=128&d=identicon&r=PG", "display_name": "chemturion", "link": "https://stackoverflow.com/users/4851566/chemturion"}, "edited": false, "score": 0, "creation_date": 1616247423, "post_id": 52243595, "comment_id": 117944911, "body": "The one confusion I have in the docs for CircleAvatar is &quot;If foregroundImage fails then backgroundImage is used.&quot; This, to me, implies that <code>foregroundImage</code> should be preferred as the key. But the constructor does first list the <code>backgroundImage</code> as the first ImageProvider type."}], "tags": [], "owner": {"reputation": 24384, "user_id": 7814783, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/WmVpD.jpg?s=128&g=1", "display_name": "Vamsi Krishna", "link": "https://stackoverflow.com/users/7814783/vamsi-krishna"}, "is_accepted": true, "score": 40, "last_activity_date": 1536489071, "creation_date": 1536489071, "answer_id": 52243595, "question_id": 52242995, "link": "https://stackoverflow.com/questions/52242995/difference-in-networkimage-and-image-network/52243595#52243595", "title": "Difference in NetworkImage and Image.network?", "body": "<blockquote>\n  <p>Are there any difference in both of them?</p>\n</blockquote>\n\n<p>Yes. They are different.</p>\n\n<ul>\n<li><a href=\"https://docs.flutter.io/flutter/painting/NetworkImage-class.html\" rel=\"noreferrer\">NetworkImage</a> class creates an object the provides an image from the <code>src</code> URL passed to it. It is not a widget and does not output an image to the screen.</li>\n<li><p><a href=\"https://docs.flutter.io/flutter/widgets/Image/Image.network.html\" rel=\"noreferrer\">Image.network</a> creates a widget that displays an image on the screen. It is just a named constructor on the <a href=\"https://docs.flutter.io/flutter/widgets/Image-class.html\" rel=\"noreferrer\">Image</a> class(a stateful widget). It sets the <code>image</code> property using the <code>NetworkImage</code> . This <code>image</code> property is used finally to display the image.</p>\n\n<pre><code>class Image extends StatefulWidget{\n  Image(...){}; //default Constructor\n\n\n  //the argument src is passed to the NetworkImage and assinged to the image property\n  Image.network(String src, {...}) : image = NetworkImage(src, ...);\n\n\n  final ImageProvider image;\n\n  @override\n  Widget build(BuildContext context){\n    display the image\n    return RawImage(image: image,\n      ...\n    );\n  }\n}\n</code></pre></li>\n</ul>\n\n<blockquote>\n  <p>Whats the disadvantage and which one is easier to use for normal situation?</p>\n</blockquote>\n\n<p>There is no disadvantage. You should use the one the suits the need. For example consider:</p>\n\n<ol>\n<li><a href=\"https://docs.flutter.io/flutter/material/CircleAvatar-class.html\" rel=\"noreferrer\">CircleAvatar</a> widget that displays acircle that represents a user takes <code>backgroundImage</code>. It requires an ImageProvider. So you pass <code>NetworkImage(http://image.com)</code></li>\n<li><a href=\"https://docs.flutter.io/flutter/widgets/FadeInImage-class.html\" rel=\"noreferrer\">FadeInImage</a> that displays a placeholder while the original image is loading also takes a <code>ImageProvider</code> for its <code>image</code> property. So you can provide it <code>NetworkImage(http://image.com)</code>.</li>\n</ol>\n\n<p>If you just want to display the image as a widget on screen use <code>Image.network</code> and use <code>NetworkImage</code> wherever an <code>ImageProvider</code> is expected.</p>\n"}], "owner": {"reputation": 5801, "user_id": 9506054, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-H_9u4E9pbzQ/AAAAAAAAAAI/AAAAAAAAACI/Giy_6ozOUNc/photo.jpg?sz=128", "display_name": "Daniel Mana", "link": "https://stackoverflow.com/users/9506054/daniel-mana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10371, "favorite_count": 3, "accepted_answer_id": 52243595, "answer_count": 1, "score": 27, "last_activity_date": 1536489071, "creation_date": 1536484146, "question_id": 52242995, "link": "https://stackoverflow.com/questions/52242995/difference-in-networkimage-and-image-network", "title": "Difference in NetworkImage and Image.network?", "body": "<p>Are there any difference in both of them?</p>\n\n<p>Whats the disadvantage and which one is easier to use for normal situation?</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 819, "user_id": 9907366, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PA8dauX8bto/AAAAAAAAAAI/AAAAAAAAAGg/b6BphmC227g/photo.jpg?sz=128", "display_name": "satish", "link": "https://stackoverflow.com/users/9907366/satish"}, "edited": false, "score": 0, "creation_date": 1539875828, "post_id": 52242876, "comment_id": 92668096, "body": "Problem solved, Using <code>ImageShader</code>"}, {"owner": {"reputation": 819, "user_id": 9907366, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PA8dauX8bto/AAAAAAAAAAI/AAAAAAAAAGg/b6BphmC227g/photo.jpg?sz=128", "display_name": "satish", "link": "https://stackoverflow.com/users/9907366/satish"}, "reply_to_user": {"reputation": 21162, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1557292135, "post_id": 52242876, "comment_id": 98710513, "body": "I think the rest of the thing you have to complete, as you can see, the first step, 2nd, and 3rd. So you have to very well knowledge were to put these code. Still, if you are not able to do, then I will send you a GitHub link."}, {"owner": {"reputation": 819, "user_id": 9907366, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PA8dauX8bto/AAAAAAAAAAI/AAAAAAAAAGg/b6BphmC227g/photo.jpg?sz=128", "display_name": "satish", "link": "https://stackoverflow.com/users/9907366/satish"}, "reply_to_user": {"reputation": 21162, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1557310624, "post_id": 52242876, "comment_id": 98719036, "body": "Ok, I will very soon, right now I am a little busy."}, {"owner": {"reputation": 819, "user_id": 9907366, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PA8dauX8bto/AAAAAAAAAAI/AAAAAAAAAGg/b6BphmC227g/photo.jpg?sz=128", "display_name": "satish", "link": "https://stackoverflow.com/users/9907366/satish"}, "reply_to_user": {"reputation": 21162, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1557398019, "post_id": 52242876, "comment_id": 98755473, "body": "Hey, this is my git link here I have created one paint app. in which you can paint, erase and masking as well. <a href=\"https://github.com/satishsoni777/masking\" rel=\"nofollow noreferrer\">github.com/satishsoni777/masking</a>"}], "answers": [{"tags": [], "owner": {"reputation": 819, "user_id": 9907366, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PA8dauX8bto/AAAAAAAAAAI/AAAAAAAAAGg/b6BphmC227g/photo.jpg?sz=128", "display_name": "satish", "link": "https://stackoverflow.com/users/9907366/satish"}, "is_accepted": false, "score": 1, "last_activity_date": 1557398218, "last_edit_date": 1592644375, "creation_date": 1557220833, "answer_id": 56019402, "question_id": 52242876, "link": "https://stackoverflow.com/questions/52242876/flutter-masking-effect-like-wizard-school-app/56019402#56019402", "title": "Flutter- masking effect like Wizard school App", "body": "<p>Step 1 convert JPG/PNG to <code>ui.Image</code> format using this code.</p>\n<pre><code>ui.Image uiImage;\n  static Future&lt;void&gt; cacheImage(String asset) async {\n        if (maskImageMap[asset] == null) {\n          try {\n            ByteData data = await rootBundle.load(asset);\n            ui.Codec codec = await ui.instantiateImageCodec(\n              data.buffer.asUint8List(),\n            );\n            ui.FrameInfo fi = await codec.getNextFrame();\n           uiImage = fi.image;\n          } catch (e) {\n            print(e);\n          }\n        }\n      }\n</code></pre>\n<p>Step 2: Divide the image in the pixel format.</p>\n<pre><code>final Float64List deviceTransform = new Float64List(16)\n      ..[0] = devicePixelRatio\n      ..[5] = devicePixelRatio\n      ..[10] = 1.0\n      ..[15] = 3.5;\n</code></pre>\n<p>Step 3:  Use ImageShader to give mask filter effect.</p>\n<pre><code> canvas.saveLayer();\n        Paint().shader = ImageShader(uiImage,\n                  TileMode.repeated, TileMode.repeated, deviceTransform);\n</code></pre>\n<p>If this answer is not enough then here is my git link\n<a href=\"https://github.com/satishsoni777/masking\" rel=\"nofollow noreferrer\">A Paint Application</a></p>\n"}], "owner": {"reputation": 819, "user_id": 9907366, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PA8dauX8bto/AAAAAAAAAAI/AAAAAAAAAGg/b6BphmC227g/photo.jpg?sz=128", "display_name": "satish", "link": "https://stackoverflow.com/users/9907366/satish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 698, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1557398218, "creation_date": 1536483139, "question_id": 52242876, "link": "https://stackoverflow.com/questions/52242876/flutter-masking-effect-like-wizard-school-app", "title": "Flutter- masking effect like Wizard school App", "body": "<p>Here I want to make a masking effect, like Wizard School app.\nHere I am using <code>RenderProxyBox</code> but I can do only one mask at one time, I want to give multi-time effect. Using <code>blendMode.clear</code> here I am removing the cover image, and revealing reveals the image. So, is there any other way to implement multi masking effect as given in Expected section.</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:flutter/rendering.dart';\nimport 'dart: math' as math;\nclass DemoApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Scratch Card',\n      home: Scaffold(\n        appBar: AppBar(\n          title: Text('Scratch Card'),\n        ),\n        body: Material(\n          child: Center(\n            child: SizedBox(\n              width: 500.0,\n              height: 500.0,\n              child: Stack(\n                children: &lt;Widget&gt;[\n                  ScratchCard(\n                    cover: Stack(\n                      fit: StackFit.expand,\n                      children: &lt;Widget&gt;[\n                        FittedBox(\n                          child: Image.asset(\n                            'assets/bird.jpg',\n                            repeat: ImageRepeat.repeat,\n                          ),\n                        ),\n                      ],\n                    ),\n                    reveal: DecoratedBox(\n                      decoration: const BoxDecoration(color: Colors.black),\n                      child: Center(\n                        child:\n                            FittedBox(child: Image.asset('assets/flower.jpg')),\n                      ),\n                    ),\n                    strokeWidth: 15.0,\n                    finishPercent: 50,\n                    onComplete: () =&gt; print('The card is now clear!'),\n                  ),\n                ],\n              ),\n            ),\n          ),\n        ),\n      ),\n    );\n  }\n}\n\nclass ScratchCard extends StatefulWidget {\n  const ScratchCard({\n    Key key,\n    this.cover,\n    this.reveal,\n    this.strokeWidth = 25.0,\n    this.finishPercent,\n    this.onComplete,\n  }) : super(key: key);\n\n  final Widget cover;\n  final Widget reveal;\n  final double strokeWidth;\n  final int finishPercent;\n  final VoidCallback onComplete;\n\n  @override\n  _ScratchCardState createState() =&gt; _ScratchCardState();\n}\n\nclass _ScratchCardState extends State&lt;ScratchCard&gt; {\n  _ScratchData _data = _ScratchData();\n\n  Offset _lastPoint = null;\n\n  Offset _globalToLocal(Offset global) {\n    return (context.findRenderObject() as RenderBox).globalToLocal(global);\n  }\n\n  double _distanceBetween(Offset point1, Offset point2) {\n    return math.sqrt(math.pow(point2.dx - point1.dx, 2) +\n        math.pow(point2.dy - point1.dy, 2));\n  }\n\n  double _angleBetween(Offset point1, Offset point2) {\n    return math.atan2(point2.dx - point1.dx, point2.dy - point1.dy);\n  }\n\n  void _onPanDown(DragDownDetails details) {\n    _lastPoint = _globalToLocal(details.globalPosition);\n  }\n\n  void _onPanUpdate(DragUpdateDetails details) {\n    final currentPoint = _globalToLocal(details.globalPosition);\n    final distance = _distanceBetween(_lastPoint, currentPoint);\n    final angle = _angleBetween(_lastPoint, currentPoint);\n    for (double i = 0.0; i &lt; distance; i++) {\n      _data.addPoint(Offset(\n        _lastPoint.dx + (math.sin(angle) * i),\n        _lastPoint.dy + (math.cos(angle) * i),\n      ));\n    }\n    _lastPoint = currentPoint;\n  }\n\n  void _onPanEnd(TapUpDetails details) {\n    final areaRect = context.size.width * context.size.height;\n    double touchArea = math.pi * widget.strokeWidth * widget.strokeWidth;\n    double areaRevealed =\n        _data._points.fold(0.0, (double prev, Offset point) =&gt; touchArea);\n    print('areaRect $areaRect $areaRevealed');\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return GestureDetector(\n      behavior: HitTestBehavior.opaque,\n      onPanDown: _onPanDown,\n      onPanUpdate: _onPanUpdate,\n      onTapUp: _onPanEnd,\n      child: Stack(\n        fit: StackFit.expand,\n        children: &lt;Widget&gt;[\n          widget.reveal,\n          _ScratchCardLayout(\n            strokeWidth: widget.strokeWidth,\n            data: _data,\n            child: widget.cover,\n          ),\n        ],\n      ),\n    );\n  }\n}\n\nclass _ScratchCardLayout extends SingleChildRenderObjectWidget {\n  _ScratchCardLayout({\n    Key key,\n    this.strokeWidth = 25.0,\n    @required this.data,\n    @required this.child,\n  }) : super(\n          key: key,\n          child: child,\n        );\n\n  final Widget child;\n  final double strokeWidth;\n  final _ScratchData data;\n\n  @override\n  RenderObject createRenderObject(BuildContext context) {\n    return _ScratchCardRender(\n      strokeWidth: strokeWidth,\n      data: data,\n    );\n  }\n\n  @override\n  void updateRenderObject(\n      BuildContext context, _ScratchCardRender renderObject) {\n    renderObject\n      ..strokeWidth = strokeWidth\n      ..data = data;\n  }\n}\n\nclass _ScratchCardRender extends RenderProxyBox {\n  _ScratchCardRender({\n    RenderBox child,\n    double strokeWidth,\n    _ScratchData data,\n  })  : assert(data != null),\n        _strokeWidth = strokeWidth,\n        _data = data,\n        super(child);\n\n  double _strokeWidth;\n  _ScratchData _data;\n\n  set strokeWidth(double strokeWidth) {\n    assert(strokeWidth != null);\n    if (_strokeWidth == strokeWidth) {\n      return;\n    }\n    _strokeWidth = strokeWidth;\n    markNeedsPaint();\n  }\n\n  set data(_ScratchData data) {\n    assert(data != null);\n    if (_data == data) {\n      return;\n    }\n    if (attached) {\n      _data.removeListener(markNeedsPaint);\n      data.addListener(markNeedsPaint);\n    }\n    _data = data;\n    markNeedsPaint();\n  }\n\n  @override\n  void attach(PipelineOwner owner) {\n    super.attach(owner);\n    _data.addListener(markNeedsPaint);\n  }\n\n  @override\n  void detach() {\n    _data.removeListener(markNeedsPaint);\n    super.detach();\n  }\n\n  @override\n  void paint(PaintingContext context, Offset offset) {\n    if (child != null) {\n      context.canvas.saveLayer(offset &amp; size, Paint());\n      context.paintChild(child, offset);\n      Paint clear = Paint()..blendMode = BlendMode.clear;\n      _data._points.forEach((point) =&gt;\n          context.canvas.drawCircle(offset + point, _strokeWidth, clear));\n      context.canvas.restore();\n    }\n  }\n\n  @override\n  bool get alwaysNeedsCompositing =&gt; child != null;\n}\n\nclass _ScratchData extends ChangeNotifier {\n  List&lt;Offset&gt; _points = [];\n\n  void addPoint(Offset offset) {\n    _points.add(offset);\n    notifyListeners();\n  }\n}\n</code></pre>\n\n<p>output:- <a href=\"https://i.stack.imgur.com/PXn9c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PXn9c.png\" alt=\"enter image description here\"></a></p>\n\n<p>Expected: - <a href=\"https://i.stack.imgur.com/V4ZtL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V4ZtL.png\" alt=\"This first-time image masking is selected\"></a>\nIf I change the color/image than- <a href=\"https://i.stack.imgur.com/3KAgn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3KAgn.png\" alt=\"enter image description here\"></a>\nI want to change the color/image with the new one and keep previous one.</p>\n"}, {"tags": ["file", "dart", "filesystems", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "is_accepted": false, "score": 0, "last_activity_date": 1567927538, "creation_date": 1567927538, "answer_id": 57839935, "question_id": 52240607, "link": "https://stackoverflow.com/questions/52240607/how-to-check-if-a-file-was-edited-modified-by-a-user/57839935#57839935", "title": "How to check if a file was edited/modified by a user?", "body": "<p>Yes, you can use the <code>watcher</code> library's <a href=\"https://pub.dev/documentation/watcher/latest/watcher/FileWatcher-class.html\" rel=\"nofollow noreferrer\">FileWatcher</a>.</p>\n\n<p>Here's an example on how to use it:</p>\n\n<pre><code>final watcher = FileWatcher('main.dart');\nfinal subscription = watcher.events.listen((event) {\n  switch (event.type) {\n    case ChangeType.ADD:\n      print('Added file');\n      break;\n    case ChangeType.MODIFY:\n      print('Modified');\n      break;\n    case ChangeType.REMOVE:\n      print('Removed');\n  }\n});\n</code></pre>\n\n<p>If you need to determine whether the file changed since last time your program ran, then this will of course not work and you will have to use the timestamp as you're doing, or even hash the contents of the file and store it somewhere, so you can check later if the hash is still the same.</p>\n"}], "owner": {"reputation": 749, "user_id": 9764171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c29bfdb3b9837821471823a14b6531c?s=128&d=identicon&r=PG&f=1", "display_name": "Cl&#225;udio Almeida", "link": "https://stackoverflow.com/users/9764171/cl%c3%a1udio-almeida"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 592, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567927538, "creation_date": 1536456295, "last_edit_date": 1536491167, "question_id": 52240607, "link": "https://stackoverflow.com/questions/52240607/how-to-check-if-a-file-was-edited-modified-by-a-user", "title": "How to check if a file was edited/modified by a user?", "body": "<p>I'm having an issue in dart/flutter, I want to check if the user opens a file and modified/edited the file, and only  if this happens I do something that is not important... for that purpose I used this chunk of code:</p>\n\n<pre><code>String dir = await bloc.buildFileDirectory(filePath);\n\nFile file = new File('$dir/filename');\n\nDateTime date = await file.lastModified();\n\nif(date.millisecondsSinceEpoch &lt; someOtherFileTimeStamp)  \n  do something\n</code></pre>\n\n<p>with the method <strong><em>lastModified()</em></strong> from  <strong>File</strong> class in Dart, when the user open the file, it will consider a modification, and so it will trigger the if condition... is there any functional way to check for really modifications on the file? like editing some text inside the file, or change the name...something like that</p>\n\n<p>Ty for your time</p>\n"}, {"tags": ["checkbox", "dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 1078, "user_id": 9972036, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-g6Mt87VG23k/AAAAAAAAAAI/AAAAAAAAACE/CnJQdd6X78M/photo.jpg?sz=128", "display_name": "nypogi", "link": "https://stackoverflow.com/users/9972036/nypogi"}, "edited": false, "score": 0, "creation_date": 1536473430, "post_id": 52240830, "comment_id": 91432157, "body": "Hi Dhiraj! Thank you for your response. I will try this and update you. Thanks!"}], "tags": [], "owner": {"reputation": 2944, "user_id": 3552066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cieP7.jpg?s=128&g=1", "display_name": "Dhiraj Sharma", "link": "https://stackoverflow.com/users/3552066/dhiraj-sharma"}, "is_accepted": true, "score": 1, "last_activity_date": 1536459730, "creation_date": 1536459730, "answer_id": 52240830, "question_id": 52240431, "link": "https://stackoverflow.com/questions/52240431/flutter-checkbox-onchanged/52240830#52240830", "title": "Flutter: checkBox onChanged", "body": "<p>Instead of checking checkBoxValue &amp; setting onPressed, you should check checkBoxValue inside your on press function then manage navigation.\nSO first remove this</p>\n\n<pre><code>if (checkBoxValue) {\n  _floatButtonOnPressed = navToHome();\n}\n</code></pre>\n\n<p>Then update onPressed of floating action button as</p>\n\n<pre><code>onPressed: (){navToHome();},\n</code></pre>\n\n<p>Then update you <code>navToHome()</code> function</p>\n\n<pre><code>navtoHome(){\n  if(checkValue){\n    //your navigation code here\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1078, "user_id": 9972036, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-g6Mt87VG23k/AAAAAAAAAAI/AAAAAAAAACE/CnJQdd6X78M/photo.jpg?sz=128", "display_name": "nypogi", "link": "https://stackoverflow.com/users/9972036/nypogi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8496, "favorite_count": 0, "accepted_answer_id": 52240830, "answer_count": 1, "score": 2, "last_activity_date": 1570297209, "creation_date": 1536453495, "last_edit_date": 1570297209, "question_id": 52240431, "link": "https://stackoverflow.com/questions/52240431/flutter-checkbox-onchanged", "title": "Flutter: checkBox onChanged", "body": "<p>I was trying to implement a checkbox that would disable and enable a button. But I was blocked by this following error:</p>\n\n<pre><code>I/flutter (19999): The following assertion was thrown building DisclaimerPage(dirty, state: DisclaimerPageState#24b3d):\nI/flutter (19999): setState() or markNeedsBuild() called during build.\nI/flutter (19999): This Overlay widget cannot be marked as needing to build because the framework is already in the\nI/flutter (19999): process of building widgets. A widget can be marked as needing to be built during the build phase\nI/flutter (19999): only if one of its ancestors is currently building. This exception is allowed because the framework\nI/flutter (19999): builds parent widgets before children, which means a dirty descendant will always be built.\nI/flutter (19999): Otherwise, the framework might not visit this widget during this build phase.\n</code></pre>\n\n<p>Here is my code for building the page:</p>\n\n<pre><code>class DisclaimerPageState extends State&lt;DisclaimerPage&gt; {\n  bool checkBoxValue = false;\n\n  @override\n  Widget build(BuildContext context) {\n    var _floatButtonOnPressed;\n\n    if (checkBoxValue) {\n      _floatButtonOnPressed = navToHome();\n    }\n\n    return new Scaffold(\n      appBar: AppBar(\n        title: Text(\"Disclaimer\"),\n        leading: Container(),\n      ),\n      body: Container(\n        child: Card(\n          child: Column(\n            children: &lt;Widget&gt;[\n              Text(\"ADHJASDKHKDAD\"),\n              Row(\n                children: &lt;Widget&gt;[\n                  Checkbox(\n                      value: checkBoxValue,\n                      onChanged: (bool newValue) {\n                        setState(() {\n                          checkBoxValue = newValue;\n                        });\n                      }),\n                  Text(\"I understand\"),\n                ],\n              ),\n            ],\n          ),\n        ),\n      ),\n      floatingActionButton: FloatingActionButton.extended(\n        onPressed: _floatButtonOnPressed,\n        label: Text(\"PROCEED\"),\n        icon: Container(),\n      ),\n      floatingActionButtonLocation: FloatingActionButtonLocation.centerDocked,\n    );\n  }\n\n  navToHome() {\n    Navigator.push(\n      context,\n      MaterialPageRoute(\n          builder: (context) =&gt; ImmunityHomePage(title: 'ImMUnity')),\n    );\n  }\n}\n</code></pre>\n\n<p>Am I doing something wrong? My checkbox implementation is based on the documentation of checkbox.dart. So I am a little confused here. Help is appreciated. Thank you so much!</p>\n"}, {"tags": ["firebase", "stream", "dart", "flutter", "rxdart"], "comments": [{"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1536436184, "post_id": 52238875, "comment_id": 91426296, "body": "You may want to use <code>combineLatest</code> instead."}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1536436229, "post_id": 52238875, "comment_id": 91426312, "body": "see <a href=\"https://stackoverflow.com/questions/51930918/update-streams-based-on-filters-in-dart-flutter/51931169#51931169\" title=\"update streams based on filters in dart flutter\">stackoverflow.com/questions/51930918/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11190, "user_id": 1388116, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/t4eGE.jpg?s=128&g=1", "display_name": "dumazy", "link": "https://stackoverflow.com/users/1388116/dumazy"}, "is_accepted": true, "score": 6, "last_activity_date": 1536477083, "creation_date": 1536477083, "answer_id": 52242203, "question_id": 52238875, "link": "https://stackoverflow.com/questions/52238875/merge-firestore-streams-using-rxdart/52242203#52242203", "title": "Merge Firestore streams using rxDart", "body": "<p>Depending on your use case, you might not need RxDart to do this.\nIf you just want to have two Firestore streams merged to one Dart <code>Stream</code> you can use <code>StreamZip</code> from the <code>dart:async</code> package.</p>\n\n<pre><code>import 'dart:async';     \n\nStream&lt;List&lt;QuerySnapshot&gt;&gt; getData() {\n  Stream stream1 = Firestore.instance.collection('test').where('type', isEqualTo: 'type1').snapshots();\n  Stream stream2 = Firestore.instance.collection('test').where('type', isEqualTo: 'type2').snapshots();\n  return StreamZip([stream1, stream2]).asBroadcastStream();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 565, "user_id": 7284784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07e1d58c21a34dc8749de9bff382e1ba?s=128&d=identicon&r=PG&f=1", "display_name": "Maya Mohite", "link": "https://stackoverflow.com/users/7284784/maya-mohite"}, "is_accepted": false, "score": 3, "last_activity_date": 1578911492, "creation_date": 1578911492, "answer_id": 59714807, "question_id": 52238875, "link": "https://stackoverflow.com/questions/52238875/merge-firestore-streams-using-rxdart/59714807#59714807", "title": "Merge Firestore streams using rxDart", "body": "<p>You can use mergeWith to get one Stream from two seperate streams using RxDart like below,</p>\n\n<pre><code> Stream getData() {\n    Stream stream1 = Firestore.instance.collection('test').where('type', isEqualTo: 'type1').snapshots();\n    Stream stream2 = Firestore.instance.collection('test').where('type', isEqualTo: 'type2').snapshots();\n    return stream1.mergeWith([stream2]);\n  }\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 10335740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a261b9348ccd0edb44bebc71fdd19afe?s=128&d=identicon&r=PG&f=1", "display_name": "yokozuna", "link": "https://stackoverflow.com/users/10335740/yokozuna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1796, "favorite_count": 1, "accepted_answer_id": 52242203, "answer_count": 2, "score": 2, "last_activity_date": 1578911492, "creation_date": 1536436138, "last_edit_date": 1536477906, "question_id": 52238875, "link": "https://stackoverflow.com/questions/52238875/merge-firestore-streams-using-rxdart", "title": "Merge Firestore streams using rxDart", "body": "<p>I am trying to merge two streams from Firestore into one stream using RxDart, but it's only returning results of one stream</p>\n\n<pre><code>Stream getData() {\n    Stream stream1 = Firestore.instance.collection('test').where('type', isEqualTo: 'type1').snapshots();\n    Stream stream2 = Firestore.instance.collection('test').where('type', isEqualTo: 'type2').snapshots();\n    return Observable.merge(([stream2, stream1]));\n}\n</code></pre>\n"}, {"tags": ["api", "dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1536433581, "post_id": 52238294, "comment_id": 91425591, "body": "Isn&#39;t this question about async/await keyword instead?"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1536435651, "post_id": 52238294, "comment_id": 91426131, "body": "Good question :D I don&#39;t know, but I think it&#39;s easier to explain why and how my answer doesn&#39;t exactly answer the question than explaining better what exactly the question is about. This is why I rather post a potentionally wrong answer instead of adking for improving the question."}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 2, "last_activity_date": 1536440737, "last_edit_date": 1536440737, "creation_date": 1536431797, "answer_id": 52238294, "question_id": 52238247, "link": "https://stackoverflow.com/questions/52238247/why-is-async-used-when-using-http-request/52238294#52238294", "title": "Why is async used when using http request?", "body": "<p>A network request from a client to a server, possibly over a long distance and slow internet can take an eternity in CPU time scales.\nIf it weren't async, the UI would block until the request is completed.</p>\n\n<p>With async execution the UI thread is free to update a progress bar or render other stuff while the framework or Operating System stack is busy on another thread to send and receive the request your code made.</p>\n\n<p>Most other calls that reach out to the Operating System for files or other resources are async for the same reason, while not all of them are as slow as requests to a remote server, but often you can't know in advance if it will be fast enough to not hurt your frame rate and cause visible disruption or janks in the UI.</p>\n\n<p><code>await</code> is used to make code after that statement starting with <code>wait</code> is executed only when the async request is completed. <code>async</code> / <code>await</code> is used to make async code look more like sync code to make it easier to write and reason about.</p>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 9932234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d4e77faa9aabfc72908389df1264238?s=128&d=identicon&r=PG&f=1", "display_name": "Typhus", "link": "https://stackoverflow.com/users/9932234/typhus"}, "is_accepted": false, "score": 1, "last_activity_date": 1536432845, "creation_date": 1536432845, "answer_id": 52238415, "question_id": 52238247, "link": "https://stackoverflow.com/questions/52238247/why-is-async-used-when-using-http-request/52238415#52238415", "title": "Why is async used when using http request?", "body": "<p>Async helps a lot with scalability and responsiveness.</p>\n\n<p>Using synchronous request blocks the client until a response has been received. As you increase concurrent users you basically have a thread per user. This can create a lot of idle time, and wasted computation. One request gets one response in the order received.</p>\n\n<p>Using asynchronous requests allows the client to receive requests/send responses in any random order of execution, as they are able to be received/sent. This lets your threads work smarter.</p>\n\n<p>Here's a pretty simple and solid resource from Mozilla:\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Synchronous_and_Asynchronous_Requests#Asynchronous_request\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Synchronous_and_Asynchronous_Requests#Asynchronous_request</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9523730"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1536440737, "creation_date": 1536431489, "last_edit_date": 1536433640, "question_id": 52238247, "link": "https://stackoverflow.com/questions/52238247/why-is-async-used-when-using-http-request", "title": "Why is async used when using http request?", "body": "<p>i can't understand why use Asynchronous and await when  fetch data from server</p>\n"}, {"tags": ["dart", "angular-dart", "angular-dart-routing"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 10335334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/925c6ca610d624f08804d92126f5ed9f?s=128&d=identicon&r=PG&f=1", "display_name": "kignwill101", "link": "https://stackoverflow.com/users/10335334/kignwill101"}, "edited": false, "score": 0, "creation_date": 1536427975, "post_id": 52237711, "comment_id": 91424094, "body": "so is there no other way to get the desired result im looking for?"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 73, "user_id": 10335334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/925c6ca610d624f08804d92126f5ed9f?s=128&d=identicon&r=PG&f=1", "display_name": "kignwill101", "link": "https://stackoverflow.com/users/10335334/kignwill101"}, "edited": false, "score": 0, "creation_date": 1536428149, "post_id": 52237711, "comment_id": 91424140, "body": "There is nothing like what these decorators can in JS/TS. Another way might be to implementing some stuff in a subclass and inheriting the widget from such a class."}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 1, "last_activity_date": 1536427658, "creation_date": 1536427658, "answer_id": 52237711, "question_id": 52237693, "link": "https://stackoverflow.com/questions/52237693/use-service-as-decorator/52237711#52237711", "title": "use service as decorator", "body": "<p>Dart doesn't support anything like decorators in TS.</p>\n\n<p>What might work for you is code generation like it's done in <code>build_value</code>, <code>json_serializable</code>, ...</p>\n\n<p><a href=\"https://github.com/dart-lang/build\" rel=\"nofollow noreferrer\">https://github.com/dart-lang/build</a></p>\n"}], "owner": {"reputation": 73, "user_id": 10335334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/925c6ca610d624f08804d92126f5ed9f?s=128&d=identicon&r=PG&f=1", "display_name": "kignwill101", "link": "https://stackoverflow.com/users/10335334/kignwill101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 533, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1536427658, "creation_date": 1536427543, "question_id": 52237693, "link": "https://stackoverflow.com/questions/52237693/use-service-as-decorator", "title": "use service as decorator", "body": "<p>Is there a way to do a static decorator on routes that check certain logics before loading?\nexample</p>\n\n<p>have a auth decorator</p>\n\n<pre><code>@Injector()\nclass Auth{\n    Auth(){\n        if (isLoggedIn){\n        proceed();\n    }else{\n       showLoginRoute();\n    }\n   }\n}\n</code></pre>\n\n<p>and use like</p>\n\n<pre><code>@Auth()\n@Component(\n   selector: 'auth-view',\n   styleUrls: const ['login_component.css'],\n   template:\n          '&lt;router-outlet name=\"dashboard\" [routes]=\"routes.authView_routes\"&gt;&lt;/router-outlet&gt;',\n   directives: const [materialDirectives, routerDirectives, coreDirectives],\n      providers: const [r.Routes, materialProviders, Auth],\n)\nclass Dashboard{\n    ....\n}\n</code></pre>\n\n<p>I know what i want to do but just not sure how to get it done. Currently  i am importing services across several components and doing lots of repetition and i want to avoid that as much as possible.</p>\n"}, {"tags": ["ios", "listview", "dart", "flutter", "uisearchbar"], "comments": [{"owner": {"reputation": 10906, "user_id": 793477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8pV74.jpg?s=128&g=1", "display_name": "Ashton Thomas", "link": "https://stackoverflow.com/users/793477/ashton-thomas"}, "edited": false, "score": 0, "creation_date": 1536422797, "post_id": 52236961, "comment_id": 91422546, "body": "Have you consider <a href=\"https://docs.flutter.io/flutter/material/AppBar/actions.html\" rel=\"nofollow noreferrer\">AppBar.actions</a>? If so, what is the desired affect? That is, do you want a have a dialog pop up to search? Would be cool to have an TextField instead of an Icon and you just expand that our while hiding the other parts of the AppBar."}, {"owner": {"reputation": 1429, "user_id": 9435761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iKNLL.jpg?s=128&g=1", "display_name": "Jake4142", "link": "https://stackoverflow.com/users/9435761/jake4142"}, "reply_to_user": {"reputation": 10906, "user_id": 793477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8pV74.jpg?s=128&g=1", "display_name": "Ashton Thomas", "link": "https://stackoverflow.com/users/793477/ashton-thomas"}, "edited": false, "score": 0, "creation_date": 1536423038, "post_id": 52236961, "comment_id": 91422606, "body": "Yeah I&#39;ll edit the question after this to reflect this comment but is there anyway when you click the search <code>iconButton</code> a search field could replace the title in the <code>appBar</code>?. It&#39;s going to be evident to the user that this is for the crypto <code>listView</code> as I&#39;ll add a hint in the search view identifying this. Thanks"}, {"owner": {"reputation": 11993, "user_id": 10563627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xQL2O.jpg?s=128&g=1", "display_name": "Paresh Mangukiya", "link": "https://stackoverflow.com/users/10563627/paresh-mangukiya"}, "edited": false, "score": 1, "creation_date": 1589192772, "post_id": 52236961, "comment_id": 109185494, "body": "To use this plugin And use it however you want :- <a href=\"https://stackoverflow.com/a/61727414/10563627\">stackoverflow.com/a/61727414/10563627</a>"}, {"owner": {"reputation": 11993, "user_id": 10563627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xQL2O.jpg?s=128&g=1", "display_name": "Paresh Mangukiya", "link": "https://stackoverflow.com/users/10563627/paresh-mangukiya"}, "edited": false, "score": 1, "creation_date": 1593859083, "post_id": 52236961, "comment_id": 110927516, "body": "There&#39;s the Flutter library you could use to implement the same sort of design that Youtube/Instagram uses : <a href=\"https://github.com/pkmangukiya/flutter_search_view_pk\" rel=\"nofollow noreferrer\">github.com/pkmangukiya/flutter_search_view_pk</a>"}, {"owner": {"reputation": 1429, "user_id": 9435761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iKNLL.jpg?s=128&g=1", "display_name": "Jake4142", "link": "https://stackoverflow.com/users/9435761/jake4142"}, "reply_to_user": {"reputation": 11993, "user_id": 10563627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xQL2O.jpg?s=128&g=1", "display_name": "Paresh Mangukiya", "link": "https://stackoverflow.com/users/10563627/paresh-mangukiya"}, "edited": false, "score": 0, "creation_date": 1593870733, "post_id": 52236961, "comment_id": 110930875, "body": "@PareshMangukiya Thanks for the suggestions."}], "answers": [{"comments": [{"owner": {"reputation": 1429, "user_id": 9435761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iKNLL.jpg?s=128&g=1", "display_name": "Jake4142", "link": "https://stackoverflow.com/users/9435761/jake4142"}, "edited": false, "score": 0, "creation_date": 1536425340, "post_id": 52237324, "comment_id": 91423280, "body": "This looks great, just implementing it now"}, {"owner": {"reputation": 1429, "user_id": 9435761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iKNLL.jpg?s=128&g=1", "display_name": "Jake4142", "link": "https://stackoverflow.com/users/9435761/jake4142"}, "edited": false, "score": 0, "creation_date": 1536425952, "post_id": 52237324, "comment_id": 91423458, "body": "Is there anyway you could provide or hint at the code I would need to actually sort the items? The search bar is really good thanks for what you&#39;ve done so far."}, {"owner": {"reputation": 10906, "user_id": 793477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8pV74.jpg?s=128&g=1", "display_name": "Ashton Thomas", "link": "https://stackoverflow.com/users/793477/ashton-thomas"}, "reply_to_user": {"reputation": 1429, "user_id": 9435761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iKNLL.jpg?s=128&g=1", "display_name": "Jake4142", "link": "https://stackoverflow.com/users/9435761/jake4142"}, "edited": false, "score": 0, "creation_date": 1536426572, "post_id": 52237324, "comment_id": 91423645, "body": "@Jake, I added quick update at the end that may help"}, {"owner": {"reputation": 1429, "user_id": 9435761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iKNLL.jpg?s=128&g=1", "display_name": "Jake4142", "link": "https://stackoverflow.com/users/9435761/jake4142"}, "edited": false, "score": 0, "creation_date": 1536426906, "post_id": 52237324, "comment_id": 91423759, "body": "Brilliant, thanks for the help. I&#39;ll take a look at the question @Dinesh Balasubramanian provided and reference it soon."}, {"owner": {"reputation": 1429, "user_id": 9435761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iKNLL.jpg?s=128&g=1", "display_name": "Jake4142", "link": "https://stackoverflow.com/users/9435761/jake4142"}, "edited": false, "score": 0, "creation_date": 1536520951, "post_id": 52237324, "comment_id": 91443632, "body": "Hey @Ashton, just noticed that when the on screen iOS keyboard pops up when I type a value to the search field, I get a severe pixel overflow. Anything I could do about this? Thanks"}, {"owner": {"reputation": 10906, "user_id": 793477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8pV74.jpg?s=128&g=1", "display_name": "Ashton Thomas", "link": "https://stackoverflow.com/users/793477/ashton-thomas"}, "reply_to_user": {"reputation": 1429, "user_id": 9435761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iKNLL.jpg?s=128&g=1", "display_name": "Jake4142", "link": "https://stackoverflow.com/users/9435761/jake4142"}, "edited": false, "score": 0, "creation_date": 1536527313, "post_id": 52237324, "comment_id": 91445296, "body": "You need to wrap the body of your scaffold in a listview to creat a scrollable area"}], "tags": [], "owner": {"reputation": 10906, "user_id": 793477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8pV74.jpg?s=128&g=1", "display_name": "Ashton Thomas", "link": "https://stackoverflow.com/users/793477/ashton-thomas"}, "is_accepted": true, "score": 5, "last_activity_date": 1536426803, "last_edit_date": 1536426803, "creation_date": 1536424916, "answer_id": 52237324, "question_id": 52236961, "link": "https://stackoverflow.com/questions/52236961/flutter-implementing-a-listview-search-feature/52237324#52237324", "title": "Flutter - Implementing a listView search feature", "body": "<p>There are probably many ways to implement this based on the resulting experience you want. A simple solution is to <strong>create <code>activeSearch</code> state that toggles a 'search app bar' and a 'normal app bar'</strong></p>\n\n<p>Here's the normal app bar:</p>\n\n<pre><code>return AppBar(\n  title: Text(\"My App\"),\n  actions: &lt;Widget&gt;[\n    IconButton(\n      icon: Icon(Icons.search),\n      onPressed: () =&gt; setState(() =&gt; activeSearch = true),\n    ),\n  ],\n);\n</code></pre>\n\n<p>And here's the search app bar:</p>\n\n<pre><code>return AppBar(\n  leading: Icon(Icons.search),\n  title: TextField(\n    decoration: InputDecoration(\n      hintText: \"here's a hint\",\n    ),\n  ),\n  actions: &lt;Widget&gt;[\n    IconButton(\n      icon: Icon(Icons.close),\n      onPressed: () =&gt; setState(() =&gt; activeSearch = false),\n    )\n  ],\n);\n</code></pre>\n\n<p><strong>Note: if you don't want to have a leading icon when search is active you may want to disable the default behavior for a <code>drawer</code> and <code>back button</code> icon with:</strong></p>\n\n<blockquote>\n  <p>automaticallyImplyLeading: false</p>\n</blockquote>\n\n<p>Full example:</p>\n\n<pre><code>class MyApp extends StatefulWidget {\n  @override\n  _MyAppState createState() =&gt; _MyAppState();\n}\n\nclass _MyAppState extends State&lt;MyApp&gt; {\n  bool activeSearch;\n\n  @override\n  void initState() {\n    super.initState();\n    activeSearch = false;\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: _appBar(),\n      drawer: _drawer(),\n    );\n  }\n\n  PreferredSizeWidget _appBar() {\n    if (activeSearch) {\n      return AppBar(\n        leading: Icon(Icons.search),\n        title: TextField(\n          decoration: InputDecoration(\n            hintText: \"here's a hint\",\n          ),\n        ),\n        actions: &lt;Widget&gt;[\n          IconButton(\n            icon: Icon(Icons.close),\n            onPressed: () =&gt; setState(() =&gt; activeSearch = false),\n          )\n        ],\n      );\n    } else {\n      return AppBar(\n        title: Text(\"My App\"),\n        actions: &lt;Widget&gt;[\n          IconButton(\n            icon: Icon(Icons.search),\n            onPressed: () =&gt; setState(() =&gt; activeSearch = true),\n          ),\n        ],\n      );\n    }\n  }\n\n  Widget _drawer() {\n    return Container();\n  }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/dzzsq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dzzsq.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/64h3i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/64h3i.png\" alt=\"enter image description here\"></a></p>\n\n<p>UPDATE: Here's a hint at handling results</p>\n\n<pre><code>return AppBar(\n  ...\n  title: TextField(\n    onChanged: _search,\n  ),\n);\n</code></pre>\n\n<p>And what _search <em>could</em> look like: </p>\n\n<pre><code>  List&lt;MyResultObject&gt; _results;\n\n  void _search(String queryString) {\n    // do some searching and sorting\n    // then call setState() with the results\n    // and then in your ListView you can read from results\n    // (handle empty, default case as well in view)\n    setState(() {\n      _results = ...\n    });\n  }\n\n  List&lt;Widget&gt; _resultWidgets() {\n    if (_results.isEmpty) return _defaultWidgets();\n    _results.map((r) =&gt; _buildRowWidget(s)).toList();\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1429, "user_id": 9435761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iKNLL.jpg?s=128&g=1", "display_name": "Jake4142", "link": "https://stackoverflow.com/users/9435761/jake4142"}, "edited": false, "score": 0, "creation_date": 1536425454, "post_id": 52237386, "comment_id": 91423309, "body": "I&#39;ll implement the question from Ashton first, then I&#39;ll add that after. Thanks for the additional info :)"}], "tags": [], "owner": {"reputation": 13239, "user_id": 5305962, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9YbROXbfbBw/AAAAAAAAAAI/AAAAAAAAAEg/v4eIW0Y-eO0/photo.jpg?sz=128", "display_name": "Dinesh Balasubramanian", "link": "https://stackoverflow.com/users/5305962/dinesh-balasubramanian"}, "is_accepted": false, "score": 1, "last_activity_date": 1536425344, "creation_date": 1536425344, "answer_id": 52237386, "question_id": 52236961, "link": "https://stackoverflow.com/questions/52236961/flutter-implementing-a-listview-search-feature/52237386#52237386", "title": "Flutter - Implementing a listView search feature", "body": "<p>Can u refer a simple search view in <a href=\"https://stackoverflow.com/a/51973379/5305962\">this</a> answer. In that example, as the user types, the list will get filtered.</p>\n"}], "owner": {"reputation": 1429, "user_id": 9435761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iKNLL.jpg?s=128&g=1", "display_name": "Jake4142", "link": "https://stackoverflow.com/users/9435761/jake4142"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6037, "favorite_count": 0, "accepted_answer_id": 52237324, "answer_count": 2, "score": 2, "last_activity_date": 1563042997, "creation_date": 1536422381, "last_edit_date": 1536423138, "question_id": 52236961, "link": "https://stackoverflow.com/questions/52236961/flutter-implementing-a-listview-search-feature", "title": "Flutter - Implementing a listView search feature", "body": "<p>I've been trying to implement a search bar into my app for bringing selected <code>listView</code> items to the top of a list. The list contains quite a few items, around approximately 1700 so the addition of a search bar is essential. I'd like the listView search box to appear from a <code>search</code> icon on the right hand side of the top <code>appBar</code>. Below is a picture of the current view for reference.</p>\n\n<p>When you click the search <code>iconButton</code> a search field should replace the title in the <code>appBar</code>. It's going to be evident to the user that this is for the crypto <code>listView</code> as I'll add a hint in the search view identifying this. </p>\n\n<p><a href=\"https://i.stack.imgur.com/txAuc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/txAuc.png\" alt=\"current crypto app view\"></a></p>\n\n<p>I'm not including all my code as this would be cumbersome for a stack question, but below is my <code>home_page.dart</code> file, where as the rest of my classes for the bottom crypto <code>listView</code> can be found at <a href=\"https://github.com/iampawan/CryptoApp\" rel=\"nofollow noreferrer\">this GitHub repo</a>.</p>\n\n<p>This is what my 'home_page.dart` looks like;</p>\n\n<pre><code>import 'package:cryptick/cryptoData/crypto_data.dart';\nimport 'package:cryptick/cryptoData/trending_data.dart';\nimport 'package:cryptick/modules/crypto_presenter.dart';\nimport 'package:flutter/cupertino.dart';\nimport 'package:flutter/gestures.dart';\nimport 'package:flutter/material.dart';\nimport 'background.dart';\n\n//FOLLOWING DART CODE COPYRIGHT OF 2017 - 2018 SQUARED SOFTWARE LONDON\n\nclass HomePage extends StatefulWidget {\n  @override\n  _HomePageState createState() =&gt; new _HomePageState();\n}\n\nclass ServerStatusScreen extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      appBar: new AppBar(\n        iconTheme: new IconThemeData(color: Colors.white),\n        centerTitle: true,\n        backgroundColor: Colors.black,\n        title: new Text(\n          'API Server Status',\n          textAlign: TextAlign.center,\n          style: new TextStyle(\n              color: Colors.white, fontSize: 27.5, fontFamily: 'Kanit'),\n        ),\n      ),\n      body: new Center(\n        child: new Column(\n          children: [\n            new Divider(color: Colors.white),\n            new Text(\n              'News Feed: ',\n              textAlign: TextAlign.center,\n              style: new TextStyle(\n                color: Colors.black,\n                fontSize: 27.5,\n                fontFamily: 'Kanit',\n              ),\n            ),\n            new Divider(),\n            new Text(\n              'Crypto Feed: ',\n              textAlign: TextAlign.center,\n              style: new TextStyle(\n                color: Colors.black,\n                fontSize: 27.5,\n                fontFamily: 'Kanit',\n              ),\n            ),\n            new Divider(),\n            new Wrap(\n              alignment: WrapAlignment.center,\n              children: &lt;Widget&gt;[\n                new Chip(\n                  backgroundColor: Colors.black,\n                  label: new Text(\n                    '\u00a9 2017-2018 Squared Software',\n                    style: new TextStyle(\n                      fontSize: 15.0,\n                      fontFamily: 'Poppins',\n                      color: Colors.white,\n                    ),\n                  ),\n                ),\n              ],\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n\nclass MoreInfoScreen extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    final ThemeData themeData = Theme.of(context);\n    final TextStyle aboutTextStyle = themeData.textTheme.body2;\n    final TextStyle linkStyle =\n        themeData.textTheme.body2.copyWith(color: themeData.accentColor);\n    return new Scaffold(\n      appBar: new AppBar(\n        iconTheme: new IconThemeData(color: Colors.white),\n        centerTitle: true,\n        backgroundColor: Colors.black,\n        title: new Text(\n          'More Info',\n          textAlign: TextAlign.center,\n          style: new TextStyle(\n              color: Colors.white, fontSize: 27.5, fontFamily: 'Kanit'),\n        ),\n      ),\n      body: new Center(\n        child: new Column(\n          children: [\n            new Divider(color: Colors.white),\n            new ListTile(\n                title: new Text('Squared Software',\n                    style: new TextStyle(\n                      fontWeight: FontWeight.w500,\n                      fontFamily: 'Poppins',\n                    )\n                  ),\n                leading: new CircleAvatar(\n                    radius: 30.0,\n                    backgroundImage: new AssetImage(\n                        'images/sqinterlock.png'\n                        )\n                      )\n                    ),\n            new Divider(),\n            new Text('Where do we get our information?',\n                style: new TextStyle(\n                  color: Colors.black,\n                  fontFamily: 'Poppins',\n                  fontSize: 16.5,\n                )\n              ),\n            new Divider(color: Colors.white),\n            new Text(\n              \"News Feed: bit.ly/2MFpzHX\",\n              style: new TextStyle(\n                fontFamily: 'Poppins',\n                fontSize: 16.5,\n              ),\n            ),\n            new Divider(color: Colors.white),\n            new Text(\n              \"Crypto Feed: bit.ly/2iIdJht\",\n              style: new TextStyle(\n                fontFamily: 'Poppins',\n                fontSize: 16.5,\n              ),\n            ),\n            new Divider(color: Colors.white),\n            new Wrap(\n              alignment: WrapAlignment.center,\n              children: &lt;Widget&gt;[\n                new Chip(\n                  backgroundColor: Colors.black,\n                  label: new Text(\n                    '\u00a9 2017-2018 Squared Software',\n                    style: new TextStyle(\n                      fontSize: 15.0,\n                      fontFamily: 'Poppins',\n                      color: Colors.white,\n                    ),\n                  ),\n                ),\n              ],\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n\nclass _HomePageState extends State&lt;HomePage&gt; implements CryptoListViewContract {\n  CryptoListPresenter _presenter;\n  List&lt;Crypto&gt; _currencies;\n  bool _isLoading;\n  final List&lt;MaterialColor&gt; _colors = [Colors.blue, Colors.indigo, Colors.red];\n\n  _HomePageState() {\n    _presenter = new CryptoListPresenter(this);\n  }\n\n  @override\n  void onLoadTrendingComplete(Trending trending) {\n    // TODO:\n    articlesMap = trending.articles;\n\n    for (Map articleMap in articlesMap) {\n      articles.add(Articles.fromMap(articleMap));\n    }\n\n    if (mounted) setState(() {});\n  }\n\n  @override\n  void onLoadTrendingError() {\n    // TODO:\n  }\n\n  List articlesMap = [];\n  List&lt;Articles&gt; articles = [];\n\n  @override\n  void initState() {\n    super.initState();\n    _isLoading = true;\n    _presenter.loadCurrencies();\n    _presenter.loadTrending();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n        appBar: new AppBar(\n          title: new Text(\n            \"Cryp - Tick Exchange\",\n            style: new TextStyle(\n              color: Colors.white,\n              fontFamily: 'Poppins',\n              fontSize: 22.5,\n            ),\n          ),\n          iconTheme: new IconThemeData(color: Colors.white),\n          backgroundColor: const Color(0xFF273A48),\n          elevation: 0.0,\n          centerTitle: true,\n        ),\n        drawer: new Drawer(\n          child: new ListView(padding: EdgeInsets.zero, children: &lt;Widget&gt;[\n            new DrawerHeader(\n              child: new CircleAvatar(\n                child: new Image.asset('images/ctavatar.png'),\n              ),\n              decoration: new BoxDecoration(\n                color: Colors.black,\n              ),\n            ),\n            new MaterialButton(\n                child: new Text(\n                  'Server Status',\n                  textAlign: TextAlign.center,\n                  style: new TextStyle(fontSize: 27.5, fontFamily: 'Kanit'),\n                ),\n                onPressed: () {\n                  Navigator.push(\n                    context,\n                    MaterialPageRoute(\n                        builder: (context) =&gt; ServerStatusScreen()),\n                  );\n                }),\n            new Divider(),\n            new MaterialButton(\n                child: new Text(\n                  'More Info',\n                  textAlign: TextAlign.center,\n                  style: new TextStyle(fontSize: 27.5, fontFamily: 'Kanit'),\n                ),\n                onPressed: () {\n                  Navigator.push(\n                    context,\n                    MaterialPageRoute(builder: (context) =&gt; MoreInfoScreen()),\n                  );\n                }),\n            new Divider(),\n            new Wrap(\n              alignment: WrapAlignment.center,\n              children: &lt;Widget&gt;[\n                new Chip(\n                  backgroundColor: Colors.black,\n                  label: new Text(\n                    'v0.0.1',\n                    style: new TextStyle(\n                      fontSize: 15.0,\n                      fontFamily: 'Poppins',\n                      color: Colors.white,\n                    ),\n                  ),\n                ),\n              ],\n            ),\n          ]),\n        ),\n        body: _isLoading\n            ? new Center(child: new CupertinoActivityIndicator(radius: 15.0))\n            : _allWidget());\n  }\n\n\n  Widget _allWidget() {\n    final _width = MediaQuery.of(context).size.width;\n    final _height = MediaQuery.of(context).size.height;\n//CRYPTO FEED CRYPTO FEED CRYPTO FEED CRYPTO FEED CRYPTO FEED CRYPTO FEED CRYPTO FEED CRYPTO FEED CRYPTO FEED CRYPTO FEED CRYPTO FEED CRYPTO FEED CRYPTO FEED CRYPTO FEED\n    final headerList = new ListView.builder(\n      itemBuilder: (context, index) {\n        EdgeInsets padding = index == 0\n            ? const EdgeInsets.only(\n                left: 20.0, right: 10.0, top: 4.0, bottom: 30.0)\n            : const EdgeInsets.only(\n                left: 10.0, right: 10.0, top: 4.0, bottom: 30.0);\n        return new Padding(\n          padding: padding,\n          child: new InkWell(\n            onTap: () {\n              print('@url');\n            },\n            child: new Container(\n              decoration: new BoxDecoration(\n                borderRadius: new BorderRadius.circular(10.0),\n                color: const Color(0xFF273A48),\n                boxShadow: [\n                  new BoxShadow(\n                    color: Colors.black.withAlpha(70),\n                    offset: const Offset(3.0, 10.0),\n                      blurRadius: 15.0)\n                ],\n                image: new DecorationImage(\n                  image: new NetworkImage(articles[index].urlToImage),\n                  fit: BoxFit.fitHeight,\n                ),\n              ),\n              height: 200.0,\n              width: 275.0,\n              child: new Stack(\n                children: &lt;Widget&gt;[\n                  new Align(\n                    alignment: Alignment.bottomCenter,\n                    child: new Container(\n                      padding: new EdgeInsets.only(left: 10.0),\n                        decoration: new BoxDecoration(\n                          color: const Color(0xFF273A48),\n                          borderRadius: new BorderRadius.only(\n                              bottomLeft: new Radius.circular(10.0),\n                              bottomRight: new Radius.circular(10.0)),\n                        ),\n                        height: 50.0,\n                        child: new Row(\n                          mainAxisAlignment: MainAxisAlignment.center,\n                          children: &lt;Widget&gt;[\n                            new Expanded(child: new Text(\n                              articles[index].title,\n                              overflow: TextOverflow.ellipsis,\n                              maxLines: 2,\n                              style: new TextStyle(\n                                color: Colors.white,\n                                fontFamily: 'Poppins',\n                              ),\n                            ),\n                          ),\n                        ],\n                      )\n                    ),\n                  )\n                ],\n              ),\n            ),\n          ),\n        );\n      },\n      scrollDirection: Axis.horizontal,\n      itemCount: articles.length,\n    );\n\n    final body = new Scaffold(\n      backgroundColor: Colors.transparent,\n      body: new Container(\n        child: new Stack(\n          children: &lt;Widget&gt;[\n            new Padding(\n              padding: new EdgeInsets.only(top: 10.0),\n              child: new Column(\n                crossAxisAlignment: CrossAxisAlignment.center,\n                mainAxisSize: MainAxisSize.max,\n                mainAxisAlignment: MainAxisAlignment.start,\n                children: &lt;Widget&gt;[\n                  new Align(\n                    alignment: Alignment.centerLeft,\n                    child: new Padding(\n                        padding: new EdgeInsets.only(\n                          left: 10.0,\n                        ),\n                        child: new Text(\n                          \"Trending News\",\n                          style: new TextStyle(\n                            letterSpacing: 0.8,\n                            fontFamily: 'Kanit',\n                            fontSize: 17.5,\n                            color: Colors.white,\n                          ),\n                        )),\n                  ),\n                  new Container(\n                      height: 300.0, width: _width, child: headerList),\n                  new Expanded(child: ListView.builder(\n                      itemBuilder: (BuildContext context, int index) {\n                    final int i = index;\n                    final Crypto currency = _currencies[i];\n                    final MaterialColor color = _colors[i % _colors.length];\n                    return new ListTile(\n                      title: new Column(\n                        children: &lt;Widget&gt;[\n                          new Row(\n                            crossAxisAlignment: CrossAxisAlignment.start,\n                            children: &lt;Widget&gt;[\n                              new Container(\n                                height: 72.0,\n                                width: 72.0,\n                                decoration: new BoxDecoration(\n                                    color: Colors.white,\n                                    boxShadow: [\n                                      new BoxShadow(\n                                          color: Colors.black.withAlpha(80),\n                                          offset: const Offset(2.0, 2.0),\n                                          blurRadius: 15.0)\n                                    ],\n                                    borderRadius: new BorderRadius.all(\n                                        new Radius.circular(35.0)),\n                                    image: new DecorationImage(\n                                      image: new ExactAssetImage(\n                                        \"cryptoiconsBlack/\" +\n                                            currency.symbol.toLowerCase() +\n                                            \"@2x.png\",\n                                      ),\n                                      fit: BoxFit.cover,\n                                    )),\n                              ),\n                              new SizedBox(\n                                width: 8.0,\n                              ),\n                              new Expanded(\n                                  child: new Column(\n                                mainAxisAlignment: MainAxisAlignment.start,\n                                crossAxisAlignment: CrossAxisAlignment.start,\n                                children: &lt;Widget&gt;[\n                                  new Text(\n                                    currency.name,\n                                    style: new TextStyle(\n                                        fontSize: 15.0,\n                                        fontFamily: 'Poppins',\n                                        color: Colors.black87,\n                                        fontWeight: FontWeight.bold),\n                                  ),\n                                  _getSubtitleText(currency.price_usd,\n                                      currency.percent_change_1h),\n                                ],\n                              )),\n                            ],\n                          ),\n                          new Divider(),\n                        ],\n                      ),\n                    );\n                  }))\n                ],\n              ),\n            ),\n          ],\n        ),\n      ),\n    );\n\n    return new Container(\n      decoration: new BoxDecoration(\n        color: const Color(0xFF273A48),\n      ),\n      child: new Stack(\n        children: &lt;Widget&gt;[\n          new CustomPaint(\n            size: new Size(_width, _height),\n            painter: new Background(),\n          ),\n          body,\n        ],\n      ),\n    );\n  }\n\n// CRYPTO FEED CRYPTO FEED CRYPTO FEED CRYPTO FEED CRYPTO FEED CRYPTO FEED CRYPTO FEED CRYPTO FEED CRYPTO FEED CRYPTO FEED CRYPTO FEED CRYPTO FEED CRYPTO FEED CRYPTO FEED\n\n  Widget _getSubtitleText(String priceUSD, String percentageChange) {\n    TextSpan priceTextWidget = new TextSpan(\n        text: \"\\$$priceUSD\\n\",\n        style: new TextStyle(\n          color: Colors.black,\n          fontSize: 14.0,\n        ));\n    String percentageChangeText = \"1 hour: $percentageChange%\";\n    TextSpan percentageChangeTextWidget;\n\n    if (double.parse(percentageChange) &gt; 0) {\n      percentageChangeTextWidget = new TextSpan(\n          text: percentageChangeText,\n          style: new TextStyle(\n            color: Colors.green,\n            fontFamily: 'PoppinsMediumItalic',\n          ));\n    } else {\n      percentageChangeTextWidget = new TextSpan(\n          text: percentageChangeText,\n          style: new TextStyle(\n            color: Colors.red,\n            fontFamily: 'PoppinsMediumItalic',\n          ));\n    }\n\n    return new RichText(\n        text: new TextSpan(\n            children: [priceTextWidget, percentageChangeTextWidget]));\n  }\n\n  //Works with cryptoListViewContract implimentation in _MyHomePageState\n  @override\n  void onLoadCryptoComplete(List&lt;Crypto&gt; items) {\n    // TODO: implement onLoadCryptoComplete\n\n    setState(() {\n      _currencies = items;\n      _isLoading = false;\n    });\n  }\n\n  @override\n  void onLoadCryptoError() {\n    // TODO: implement onLoadCryptoError\n  }\n}\n</code></pre>\n\n<p>Thanks for the help, Jake</p>\n"}, {"tags": ["for-loop", "null", "dart", "flutter"], "comments": [{"owner": {"reputation": 30488, "user_id": 22483, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b337d1e52bf3d796a7728def67a602fd?s=128&d=identicon&r=PG", "display_name": "Randal Schwartz", "link": "https://stackoverflow.com/users/22483/randal-schwartz"}, "edited": false, "score": 1, "creation_date": 1536425165, "post_id": 52236721, "comment_id": 91423235, "body": "Not an answer to your question, but it&#39;s code-smell when you have named variables with suffixed numbers.  This code would be far simpler if you had <code>gear[j]</code> instead of separate variables.  You wouldn&#39;t even need the inner switch, just <code>var value= (_finalDrive * (i * 10 * mphtokmph) * gear[j] * _coefficient) &#47; _tireDiameter;</code>  See, much simpler."}], "answers": [{"comments": [{"owner": {"reputation": 445, "user_id": 10194309, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f9b4kSOdgvE/AAAAAAAAAAI/AAAAAAAAOO0/cd-vFig9x2k/photo.jpg?sz=128", "display_name": "Darwish Al-Neyadi", "link": "https://stackoverflow.com/users/10194309/darwish-al-neyadi"}, "edited": false, "score": 0, "creation_date": 1536421294, "post_id": 52236800, "comment_id": 91422181, "body": "All variables are double and even the values that are not null are wrong somehow, i used the same equation in excel and got 908.3 for the first value"}, {"owner": {"reputation": 445, "user_id": 10194309, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f9b4kSOdgvE/AAAAAAAAAAI/AAAAAAAAOO0/cd-vFig9x2k/photo.jpg?sz=128", "display_name": "Darwish Al-Neyadi", "link": "https://stackoverflow.com/users/10194309/darwish-al-neyadi"}, "edited": false, "score": 0, "creation_date": 1536421611, "post_id": 52236800, "comment_id": 91422264, "body": "if it helps the value of _finalDrive is 4.11, mphtokmph is 1.609344, _coefficient is 336.13, _tireDiameter is 31.5, _gear1 is 3.333, _gear2 is 1.96, _gear3 is 1.353, _gear4 is 1, _gear5 is 0.728 and _gear6 is 0.588"}, {"owner": {"reputation": 8689, "user_id": 7380779, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211702939720023/picture?type=large", "display_name": "Frenchy", "link": "https://stackoverflow.com/users/7380779/frenchy"}, "reply_to_user": {"reputation": 445, "user_id": 10194309, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f9b4kSOdgvE/AAAAAAAAAAI/AAAAAAAAOO0/cd-vFig9x2k/photo.jpg?sz=128", "display_name": "Darwish Al-Neyadi", "link": "https://stackoverflow.com/users/10194309/darwish-al-neyadi"}, "edited": false, "score": 0, "creation_date": 1536422551, "post_id": 52236800, "comment_id": 91422480, "body": "i dont know well dart, but you put the result in array, so the value of each element in index  i * j , is it normal? each time j = 0, you write in index 0..  The first index is 0 and the last is 5 * 19"}, {"owner": {"reputation": 445, "user_id": 10194309, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f9b4kSOdgvE/AAAAAAAAAAI/AAAAAAAAOO0/cd-vFig9x2k/photo.jpg?sz=128", "display_name": "Darwish Al-Neyadi", "link": "https://stackoverflow.com/users/10194309/darwish-al-neyadi"}, "edited": false, "score": 0, "creation_date": 1536422845, "post_id": 52236800, "comment_id": 91422566, "body": "Oh okay i get what you mean, that makes sense but how should i make it so it goes from element 0 to 119 inside the for loop"}, {"owner": {"reputation": 445, "user_id": 10194309, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f9b4kSOdgvE/AAAAAAAAAAI/AAAAAAAAOO0/cd-vFig9x2k/photo.jpg?sz=128", "display_name": "Darwish Al-Neyadi", "link": "https://stackoverflow.com/users/10194309/darwish-al-neyadi"}, "edited": false, "score": 0, "creation_date": 1536423265, "post_id": 52236800, "comment_id": 91422668, "body": "I think i figured it out, I&#39;ll have a separate counter in the inner loop that increments everytime and I&#39;ll use that as the index for the list, thanks"}, {"owner": {"reputation": 8689, "user_id": 7380779, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211702939720023/picture?type=large", "display_name": "Frenchy", "link": "https://stackoverflow.com/users/7380779/frenchy"}, "reply_to_user": {"reputation": 445, "user_id": 10194309, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f9b4kSOdgvE/AAAAAAAAAAI/AAAAAAAAOO0/cd-vFig9x2k/photo.jpg?sz=128", "display_name": "Darwish Al-Neyadi", "link": "https://stackoverflow.com/users/10194309/darwish-al-neyadi"}, "edited": false, "score": 0, "creation_date": 1536423891, "post_id": 52236800, "comment_id": 91422865, "body": "you just add a new value indice intialized before loop at -1 and you just do indice = indice + 1. jsute after the beginning of second loop.. and then value[indice] = value1.. its the easier"}], "tags": [], "owner": {"reputation": 8689, "user_id": 7380779, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211702939720023/picture?type=large", "display_name": "Frenchy", "link": "https://stackoverflow.com/users/7380779/frenchy"}, "is_accepted": true, "score": 1, "last_activity_date": 1536424230, "last_edit_date": 1536424230, "creation_date": 1536421091, "answer_id": 52236800, "question_id": 52236721, "link": "https://stackoverflow.com/questions/52236721/for-loop-calculation-giving-null-after-several-loops/52236800#52236800", "title": "for loop calculation giving null after several loops", "body": "<p>Problem with the index of array\nthe code</p>\n\n<pre><code>indice = -1 \nFor loop1...\n  For loop2...\n   indice = indice +1 \n      :\n      :\nvalue[indice] = value1\n</code></pre>\n"}], "owner": {"reputation": 445, "user_id": 10194309, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f9b4kSOdgvE/AAAAAAAAAAI/AAAAAAAAOO0/cd-vFig9x2k/photo.jpg?sz=128", "display_name": "Darwish Al-Neyadi", "link": "https://stackoverflow.com/users/10194309/darwish-al-neyadi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 52236800, "answer_count": 1, "score": 0, "last_activity_date": 1536424230, "creation_date": 1536420562, "question_id": 52236721, "link": "https://stackoverflow.com/questions/52236721/for-loop-calculation-giving-null-after-several-loops", "title": "for loop calculation giving null after several loops", "body": "<p>I want to make a graph from user inputs, when the user inputs the numbers and presses a button, the onpressed function goes into a for loop to calculate all the graph points. however right now the for loop is giving wrong values and after a certain amount of loops it starts giving null values here and there, not sure what is causing this. </p>\n\n<p>here is my onPressed function:</p>\n\n<pre><code>onPressed: () {\n              setState(() {\n                  for (int i = 1; i &lt;= 20; i++) {\n                    for (int j = 0; j &lt; 6; j++) {\n                      value1 = 0.0;\n                      print(i.toString() + ' , ' + j.toString());\n                      if (j == 0) {\n                        value1 = (_finalDrive *\n                                (i * 10 * mphtokmph) *\n                                _gear1 *\n                                _coefficient) /\n                            _tireDiameter;\n                      } else if (j == 1) {\n                        value1 = (_finalDrive *\n                                (i * 10 * mphtokmph) *\n                                _gear2 *\n                                _coefficient) /\n                            _tireDiameter;\n                      } else if (j == 2) {\n                        value1 = (_finalDrive *\n                                (i * 10 * mphtokmph) *\n                                _gear3 *\n                                _coefficient) /\n                            _tireDiameter;\n                      } else if (j == 3) {\n                        value1 = (_finalDrive *\n                                (i * 10 * mphtokmph) *\n                                _gear4 *\n                                _coefficient) /\n                            _tireDiameter;\n                      } else if (j == 4) {\n                        value1 = (_finalDrive *\n                                (i * 10 * mphtokmph) *\n                                _gear5 *\n                                _coefficient) /\n                            _tireDiameter;\n                      } else if (j == 5) {\n                        value1 = (_finalDrive *\n                                (i * 10 * mphtokmph) *\n                                _gear6 *\n                                _coefficient) /\n                            _tireDiameter;\n                      }\n                      values[int.parse(((j) * (i)).toStringAsFixed(0))] =\n                          value1;\n                    }\n                  }\n              });\n            },\n</code></pre>\n\n<p>output comes out like this:\n<code>I/flutter (21824): [47049.25, 1383.39, 2766.77, 4150.16, 5533.55, 6916.93, 8300.32, 9683.7, 11067.09, 12450.48, 13833.86, 15217.25, 16600.64, 17984.02, 19367.41, 20750.8, 22134.18, 23517.57, 24900.96, 26284.34, 27667.73, 4940.67, 10504.56, null, 11459.52, 2075.08, 12414.48, 6352.28, 13369.44, null, 14324.4, null, 15279.36, 7763.9, 16234.32, 2905.11, 17189.28, null, 18144.24, 9175.52, 19099.2, null, 9881.33, null, 5652.12, 10587.14, null, null, 11292.95, null, 4150.16, 11998.76, 6679.78, null, 12704.57, 4565.18, 7193.61, 13410.38, null, null, 14116.19, null, null, null, 8221.27, 5395.21, 4565.18, null, 8735.1, null, 5810.22, null, 9248.93, null, null, 6225.24, 9762.76, null, 5395.21, null, 10276.58, null, null, null, 5810.22, 7055.27, null, null, null, null, 7470.29, null, null, null, null, 7885.3, 6640.25, null, null, null, 8300.32, null, 7055.27, null, null, null, null, null, 7470.29, null, null, null, null, null, 7885.3, null, null, null, null, null]\n</code></p>\n"}, {"tags": ["dart", "flutter", "flutter-dependencies"], "answers": [{"tags": [], "owner": {"reputation": 561, "user_id": 3143283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1aab9fbf4ae3533459ed0c171a5e0ee4?s=128&d=identicon&r=PG&f=1", "display_name": "Ashutosh", "link": "https://stackoverflow.com/users/3143283/ashutosh"}, "is_accepted": true, "score": 1, "last_activity_date": 1536399209, "creation_date": 1536399209, "answer_id": 52233931, "question_id": 52233762, "link": "https://stackoverflow.com/questions/52233762/flutter-painting-package-missing-beveledrectangleborder-class/52233931#52233931", "title": "Flutter painting package missing BeveledRectangleBorder class", "body": "<p>I believe you need to update your fluter framework.\nThis is different from Flutter plugin in andorid studio.</p>\n\n<p>To know the version of framework inside Android studio. \n<code>Go to preferences -&gt; Under Language &amp; framework section -&gt; click on flutter</code>. And see the version you are on. It should not be below <code>0.6.0</code></p>\n\n<p>To update the framework from Android studio open <code>pubspec.yaml</code> file from your project structure. You will see flutter commands on top of the file with 4 options. Click on <code>Flutter upgrade</code> &amp; wait for the framework to update.</p>\n\n<p>This should solve your problem.</p>\n"}], "owner": {"reputation": 325, "user_id": 8710091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fbd7ada5a84cdbaca6325901312d7e19?s=128&d=identicon&r=PG&f=1", "display_name": "Andrea", "link": "https://stackoverflow.com/users/8710091/andrea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 0, "accepted_answer_id": 52233931, "answer_count": 1, "score": 0, "last_activity_date": 1536399209, "creation_date": 1536397884, "question_id": 52233762, "link": "https://stackoverflow.com/questions/52233762/flutter-painting-package-missing-beveledrectangleborder-class", "title": "Flutter painting package missing BeveledRectangleBorder class", "body": "<p>I'm following the flutter shrine <a href=\"https://codelabs.developers.google.com/codelabs/mdc-103-flutter/#6\" rel=\"nofollow noreferrer\">codelab</a> from google but i'm stuck at this point (page 7):</p>\n\n<pre><code>FlatButton(\n  child: Text('CANCEL'),\n  shape: BeveledRectangleBorder(\n    borderRadius: BorderRadius.all(Radius.circular(7.0)),\n),\n</code></pre>\n\n<p>because apparently the flutter <a href=\"https://docs.flutter.io/flutter/painting/painting-library.html\" rel=\"nofollow noreferrer\">painting</a> package is missing the <a href=\"https://docs.flutter.io/flutter/painting/BeveledRectangleBorder-class.html\" rel=\"nofollow noreferrer\">BeveledRectangleBorder</a> class; does anyone knows how to fix it?</p>\n\n<p>p.s. I'm using android studio with the flutter plugin v28.0.1 that seems to be the last release.  </p>\n"}, {"tags": ["php", "encryption", "dart", "flutter"], "comments": [{"owner": {"reputation": 8643, "user_id": 1718554, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/n3jD1.jpg?s=128&g=1", "display_name": "Luke Joshua Park", "link": "https://stackoverflow.com/users/1718554/luke-joshua-park"}, "edited": false, "score": 1, "creation_date": 1536372977, "post_id": 52231243, "comment_id": 91412309, "body": "Why can&#39;t you use HTTPS?"}], "answers": [{"comments": [{"owner": {"reputation": 189, "user_id": 1587760, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/iYPb8.jpg?s=128&g=1", "display_name": "Azhar", "link": "https://stackoverflow.com/users/1587760/azhar"}, "edited": false, "score": 1, "creation_date": 1552971527, "post_id": 52235335, "comment_id": 97201475, "body": "Does this work if I want to encrypt-decrypt an array? because it said string"}, {"owner": {"reputation": 1539, "user_id": 2843041, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/044938a2a4f9ebffb21fa62ff6de9a52?s=128&d=identicon&r=PG", "display_name": "Saman", "link": "https://stackoverflow.com/users/2843041/saman"}, "reply_to_user": {"reputation": 189, "user_id": 1587760, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/iYPb8.jpg?s=128&g=1", "display_name": "Azhar", "link": "https://stackoverflow.com/users/1587760/azhar"}, "edited": false, "score": 2, "creation_date": 1553001990, "post_id": 52235335, "comment_id": 97217247, "body": "@Azhar you can convert array to <code>json</code> and then <code>encrypt &#47;decrypt</code> data."}], "tags": [], "owner": {"reputation": 1539, "user_id": 2843041, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/044938a2a4f9ebffb21fa62ff6de9a52?s=128&d=identicon&r=PG", "display_name": "Saman", "link": "https://stackoverflow.com/users/2843041/saman"}, "is_accepted": false, "score": 1, "last_activity_date": 1536409542, "creation_date": 1536409542, "answer_id": 52235335, "question_id": 52231243, "link": "https://stackoverflow.com/questions/52231243/encrypt-in-php-and-decrypt-in-dartflutter/52235335#52235335", "title": "Encrypt in php and decrypt in Dart(flutter)", "body": "<p>You can use <code>AES</code> encrypt/decrypt that supported on both sides.</p>\n\n<p><a href=\"https://pub.dartlang.org/packages/flutter_string_encryption\" rel=\"nofollow noreferrer\">flutter_string_encryption</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/3422759/php-aes-encrypt-decrypt\">PHP</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11997705, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mB4smz8odLugxb1jXEXNNudUvLq6ycdsFiZb6SeIA=k-s128", "display_name": "Hari Upreti", "link": "https://stackoverflow.com/users/11997705/hari-upreti"}, "is_accepted": false, "score": 0, "last_activity_date": 1573555312, "last_edit_date": 1573555312, "creation_date": 1567144891, "answer_id": 57721246, "question_id": 52231243, "link": "https://stackoverflow.com/questions/52231243/encrypt-in-php-and-decrypt-in-dartflutter/57721246#57721246", "title": "Encrypt in php and decrypt in Dart(flutter)", "body": "<p>You can use <a href=\"https://pub.dev/packages/cipher2\" rel=\"nofollow noreferrer\">Cipher2</a> library for cryptography in flutter with the help of library you can encrypt and decrypt string with \"aes-128-cbc\" method</p>\n\n<pre><code>    //Make sure you import the library, stringEncryption is a user define function you can define your own\n    stringEncryption() async { //call this method \n    String plainText ='String to encrypt';\n    String key = '1245714587458745'; //combination of 16 character\n    String iv = 'e16ce913a20dadb8'; ////combination of 16 character\n    String encryptedString =\n    await Cipher2.encryptAesCbc128Padding7(plainText, key, iv);\n    print(\"key:$key\");\n    print(\"iv:$iv\");\n    print(\"String:$encryptedString\");\n\n    //for decrypt use decrypt function \n    decryptedString = await Cipher2.decryptAesCbc128Padding7(encryptedString, key, iv);\n    //parameters: encryptedString,sameKey,SameIv\n    }\n\n    //To decrypt in PHP\n    $method = 'aes-128-cbc';\n    $decryptedString = openssl_decrypt(\"encryptedString\", $method, \"SameKeyUsedInFlutter\", 0, \"SameIvUsedInFlutter\");\n\n    //To encrypt in PHP\n    $encryptedString = openssl_encrypt(\"Text to encrypt\", $method, \"SameKeyUsedInFlutter\", 0, \"SameIvUsedInFlutter\");\n    //Key and IV must need to match\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14976192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bdc4a6b12c1d592ac42b656dfb34702?s=128&d=identicon&r=PG&f=1", "display_name": "Nguyen Khang", "link": "https://stackoverflow.com/users/14976192/nguyen-khang"}, "is_accepted": false, "score": 0, "last_activity_date": 1610345751, "creation_date": 1610345751, "answer_id": 65662144, "question_id": 52231243, "link": "https://stackoverflow.com/questions/52231243/encrypt-in-php-and-decrypt-in-dartflutter/65662144#65662144", "title": "Encrypt in php and decrypt in Dart(flutter)", "body": "<pre><code>function CryptoJSAesDecrypt(passphrase,encrypted_json_string){\n\nvar obj_json = JSON.parse(encrypted_json_string);\n\nvar encrypted = obj_json.ciphertext;\nvar salt = CryptoJS.enc.Hex.parse(obj_json.salt);\nvar iv = CryptoJS.enc.Hex.parse(obj_json.iv);   \n\nvar key = CryptoJS.PBKDF2(passphrase, salt, { hasher: CryptoJS.algo.SHA512, keySize: 64/8, iterations: 999});\n\n\nvar decrypted = CryptoJS.AES.decrypt(encrypted, key, { iv: iv});\n\nreturn decrypted.toString(CryptoJS.enc.Utf8);\n</code></pre>\n<p>}\ni want to covert php func crypto to flutter</p>\n"}], "owner": {"reputation": 146, "user_id": 4860764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01627acd828f2a7da4defaab64deadcb?s=128&d=identicon&r=PG&f=1", "display_name": "Camahalan Royette", "link": "https://stackoverflow.com/users/4860764/camahalan-royette"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2870, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1610345751, "creation_date": 1536370372, "question_id": 52231243, "link": "https://stackoverflow.com/questions/52231243/encrypt-in-php-and-decrypt-in-dartflutter", "title": "Encrypt in php and decrypt in Dart(flutter)", "body": "<p>Does anyone have an idea about encrypting response from my php api and decrypting data in local using dart. I'm using flutter for my mobile application.</p>\n\n<p>Thank You!</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 59214, "user_id": 666221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1VBx.jpg?s=128&g=1", "display_name": "diegoveloper", "link": "https://stackoverflow.com/users/666221/diegoveloper"}, "is_accepted": false, "score": 2, "last_activity_date": 1536360550, "creation_date": 1536360550, "answer_id": 52230455, "question_id": 52230287, "link": "https://stackoverflow.com/questions/52230287/unable-to-remove-added-list-element/52230455#52230455", "title": "Unable to remove added list element", "body": "<p>You can't remove it because are different objects.</p>\n\n<p>Every time you use <code>italianFood()</code> you create a new instance of the <code>class</code>.</p>\n\n<p>Create a gloval variable :</p>\n\n<pre><code> ListView _myItalianFood;\n</code></pre>\n\n<p>Instantiate:</p>\n\n<p>in your add method:</p>\n\n<pre><code>  _myItalianFood = italianFood();\n  listToAddTo.add(_myItalianFood);\n</code></pre>\n\n<p>Remove:</p>\n\n<pre><code> listToAddTo.remove(_myItalianFood);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2071, "user_id": 7117017, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jZmAx2-S2uw/AAAAAAAAAAI/AAAAAAAAHlg/0D73i8yexr0/photo.jpg?sz=128", "display_name": "Harry Terkelsen", "link": "https://stackoverflow.com/users/7117017/harry-terkelsen"}, "is_accepted": false, "score": 2, "last_activity_date": 1536360555, "creation_date": 1536360555, "answer_id": 52230458, "question_id": 52230287, "link": "https://stackoverflow.com/questions/52230287/unable-to-remove-added-list-element/52230458#52230458", "title": "Unable to remove added list element", "body": "<p>The problem is that <code>italianFood()</code> returns a new <code>ListView</code> instance on each call. So when you call <code>listToAddTo.add(italianFood())</code> you are creating a new <code>ListView</code> instance (let's call it <code>LV1</code>) and you end up with <code>listToAddTo</code> being <code>[LV1]</code>.</p>\n\n<p>When you call <code>listToAddTo.remove(italianFood())</code> you are creating a new <code>ListView</code> instance (let's call it <code>LV2</code>) and asking <code>listToAddTo</code> to remove anything that is equal to <code>LV2</code>, so this ends up doing nothing since <code>LV2</code> is not in <code>listToAddTo</code>.</p>\n\n<p>You could fix this by making <code>italianFood</code> a field.</p>\n\n<p><code>final italianFood = ListView(shrinkWrap: true, ...);\n</code></p>\n"}], "owner": {"reputation": 31, "user_id": 7290991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52dcc99b37b7c45ae6137e0f6c3c2ae8?s=128&d=identicon&r=PG&f=1", "display_name": "Matan", "link": "https://stackoverflow.com/users/7290991/matan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1536367579, "creation_date": 1536359115, "last_edit_date": 1536367579, "question_id": 52230287, "link": "https://stackoverflow.com/questions/52230287/unable-to-remove-added-list-element", "title": "Unable to remove added list element", "body": "<p>I've added a list element by using the following method: </p>\n\n<pre><code>listToAddTo.add(italianFood());\n</code></pre>\n\n<p>However, when I try removing the same element by using the method: </p>\n\n<pre><code>listToAddTo.remove(italianFood());\n</code></pre>\n\n<p>it does not work. </p>\n\n<p>I've tried using the removeWhere method with the parameters item == italianFood(), the retainWhere method with the item != italianFood() parameters, and the removeAt method with the listToAddTo.indexOf(italianFood()) parameters, however, none  of those seem to work. </p>\n\n<p>When I try printing the list, I get the following result:`</p>\n\n<pre><code>ListView(\n   scrollDirection: vertical,\n   primary: using primary controller,\n   scrollPhysics: AlwaysScrollableScrollPhysics,\n   shrinkWrap: shrink-wrapping\n)\n</code></pre>\n\n<p>Above methods with this result also seem to have no effect. </p>\n\n<p>Necessary code is as follows: </p>\n\n<pre><code>  List listToAddTo = [];\n\n ListView italianFood() {\nreturn ListView(\n  shrinkWrap: true,\n  children: &lt;Widget&gt;[\n    listEntry(\n      'Fast Food Nana',\n      'Mon - Sun 06:00 - 04:00',\n      Container(\n        child: IconButton(\n          icon: Icon(\n            Icons.motorcycle,\n            size: 30.0,\n          ),\n        ),\n      ),\n      IconButton(\n        icon: Icon(\n          Icons.navigation,\n          size: 30.0,\n        ),\n      ),\n    ),\n  ],\n);\n\n\n  Container filterItem(String label, value, onChanged) {\nreturn Container(\n  decoration: BoxDecoration(color: Colors.white),\n  child: CheckboxListTile(\n    value: value,\n    title: Text(label),\n    onChanged: onChanged,\n  ),\n);\n\n\n\nbool isTrue = false;\n\n  Widget build(BuildContext context) {\nreturn Stack(\n  children: &lt;Widget&gt;[\n    Container(\n      margin: const EdgeInsets.only(top: 45.0),\n      child: ListView.builder(\n        itemCount: listToAddTo.length,\n        itemBuilder: (BuildContext context, int Index) {\n          return (listToAddTo[Index]);\n        },\n      ),\n    ),\n    ExpansionTile(\n      title: Text('Filters'),\n      children: &lt;Widget&gt;[\n        filterItem(\n          'Italian',\n          isTrue,\n          (bool value) {\n            setState(() {\n              if (isTrue == false) {\n                listToAddTo.add(italianFood());\n                isTrue = !isTrue;\n              } else {\n                listToAddTo.removeAt(listToAddTo.indexOf(italianFood()));\n                isTrue = !isTrue;\n              }\n            });\n            print(listToAddTo);\n            print(italianFood());\n          },\n        ),\n      ],\n    ),\n  ],\n);\n</code></pre>\n"}, {"tags": ["firebase", "dart", "firebase-cloud-messaging", "flutter"], "comments": [{"owner": {"reputation": 18691, "user_id": 2461957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba93508b1cdbe37fd102cff4982e0d47?s=128&d=identicon&r=PG", "display_name": "boformer", "link": "https://stackoverflow.com/users/2461957/boformer"}, "edited": false, "score": 0, "creation_date": 1536362004, "post_id": 52228406, "comment_id": 91410753, "body": "How are you sending the push messages? Are you sending them from a web server, with device tokens? or from the web console?"}, {"owner": {"reputation": 1314, "user_id": 7657749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66522a52b771a77d933f0323dd5e3cf0?s=128&d=identicon&r=PG&f=1", "display_name": "Jan D.M.", "link": "https://stackoverflow.com/users/7657749/jan-d-m"}, "reply_to_user": {"reputation": 18691, "user_id": 2461957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba93508b1cdbe37fd102cff4982e0d47?s=128&d=identicon&r=PG", "display_name": "boformer", "link": "https://stackoverflow.com/users/2461957/boformer"}, "edited": false, "score": 0, "creation_date": 1536390906, "post_id": 52228406, "comment_id": 91414989, "body": "I am sending them from the web console."}], "answers": [{"comments": [{"owner": {"reputation": 1314, "user_id": 7657749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66522a52b771a77d933f0323dd5e3cf0?s=128&d=identicon&r=PG&f=1", "display_name": "Jan D.M.", "link": "https://stackoverflow.com/users/7657749/jan-d-m"}, "edited": false, "score": 0, "creation_date": 1536400876, "post_id": 52230636, "comment_id": 91417056, "body": "Good idea! Thanks!"}], "tags": [], "owner": {"reputation": 18691, "user_id": 2461957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba93508b1cdbe37fd102cff4982e0d47?s=128&d=identicon&r=PG", "display_name": "boformer", "link": "https://stackoverflow.com/users/2461957/boformer"}, "is_accepted": true, "score": 2, "last_activity_date": 1536362133, "creation_date": 1536362133, "answer_id": 52230636, "question_id": 52228406, "link": "https://stackoverflow.com/questions/52228406/how-to-disable-cloud-messaging-in-flutter-app/52230636#52230636", "title": "How to disable cloud messaging in flutter app?", "body": "<p>You can use <a href=\"https://firebase.google.com/docs/cloud-messaging/android/topic-messaging\" rel=\"nofollow noreferrer\">Firebase topics</a> to only send notifications to devices which subscribed to a topic.</p>\n\n<p>The firebase_messaging <a href=\"https://github.com/flutter/plugins/blob/master/packages/firebase_messaging/lib/firebase_messaging.dart#L92-L99\" rel=\"nofollow noreferrer\">also supports topics.</a></p>\n"}], "owner": {"reputation": 1314, "user_id": 7657749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66522a52b771a77d933f0323dd5e3cf0?s=128&d=identicon&r=PG&f=1", "display_name": "Jan D.M.", "link": "https://stackoverflow.com/users/7657749/jan-d-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2271, "favorite_count": 0, "accepted_answer_id": 52230636, "answer_count": 1, "score": 2, "last_activity_date": 1536362133, "creation_date": 1536347500, "last_edit_date": 1536348060, "question_id": 52228406, "link": "https://stackoverflow.com/questions/52228406/how-to-disable-cloud-messaging-in-flutter-app", "title": "How to disable cloud messaging in flutter app?", "body": "<p>I am making an app with push notifications. These are already implemented with FirebaseMessaging.\nThis is the code for it: </p>\n\n<pre><code>_firebaseMessaging = new FirebaseMessaging();\n  _firebaseMessaging.configure(\n    onMessage: (Map&lt;String, dynamic&gt; message) {\n      print(\"Message: \" + message.toString());\n    },\n    onResume: (Map&lt;String, dynamic&gt; message) {\n      print(\"Message: \" + message.toString());\n    },\n    onLaunch: (Map&lt;String, dynamic&gt; message) {\n      print(\"Message: \" + message.toString());\n    },\n  );\n  _firebaseMessaging.getToken().then((token) {\n    print(token);\n  });\n</code></pre>\n\n<p>I also have a settings page in the app. There it is possible for the user to uncheck the property for receiving notifications. Under the hood, it's just a variable that is set to false at the moment.\nMy question is: How is it possible to disable the push notifications for those users?</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 19333, "user_id": 4511702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8D658.jpg?s=128&g=1", "display_name": "Raouf Rahiche", "link": "https://stackoverflow.com/users/4511702/raouf-rahiche"}, "edited": false, "score": 0, "creation_date": 1536345935, "post_id": 52227846, "comment_id": 91405669, "body": "take a <a href=\"https://stackoverflow.com/a/49600394/4511702\">look</a>"}, {"owner": {"reputation": 3020, "user_id": 2813804, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/061Zc.jpg?s=128&g=1", "display_name": "Akshay Paliwal", "link": "https://stackoverflow.com/users/2813804/akshay-paliwal"}, "edited": false, "score": 0, "creation_date": 1546420050, "post_id": 52227846, "comment_id": 94843987, "body": "you can use stack"}], "answers": [{"comments": [{"owner": {"reputation": 314, "user_id": 1321456, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4bd54ccbccbb1bb894075339e4f3a42f?s=128&d=identicon&r=PG", "display_name": "shinriyo", "link": "https://stackoverflow.com/users/1321456/shinriyo"}, "edited": false, "score": 4, "creation_date": 1589087810, "post_id": 52228086, "comment_id": 109150505, "body": "all is better than only"}, {"owner": {"reputation": 392, "user_id": 2585252, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/4VbYI.jpg?s=128&g=1", "display_name": "nitzanwe", "link": "https://stackoverflow.com/users/2585252/nitzanwe"}, "edited": false, "score": 1, "creation_date": 1590399652, "post_id": 52228086, "comment_id": 109655593, "body": "Great answer - tnx! How would you have the ripple effect over the button? currently it&#39;s rippling under the button."}, {"owner": {"reputation": 6724, "user_id": 4608334, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bzyiD.jpg?s=128&g=1", "display_name": "Vinoth Vino", "link": "https://stackoverflow.com/users/4608334/vinoth-vino"}, "edited": false, "score": 1, "creation_date": 1592043956, "post_id": 52228086, "comment_id": 110286455, "body": "It&#39;s better to use <code>borderRadius: BorderRadius.circular(10.0)</code> if every border is same."}, {"owner": {"reputation": 396, "user_id": 6540769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85ed2c77f46c9b4834cc7c761b70daec?s=128&d=identicon&r=PG", "display_name": "Slick Slime", "link": "https://stackoverflow.com/users/6540769/slick-slime"}, "reply_to_user": {"reputation": 392, "user_id": 2585252, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/4VbYI.jpg?s=128&g=1", "display_name": "nitzanwe", "link": "https://stackoverflow.com/users/2585252/nitzanwe"}, "edited": false, "score": 0, "creation_date": 1606048384, "post_id": 52228086, "comment_id": 114835213, "body": "@nitzanwe you can wrap a widget in <code>InkWell</code> widget to get ripple effect on tapping."}], "tags": [], "owner": {"reputation": 10906, "user_id": 793477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8pV74.jpg?s=128&g=1", "display_name": "Ashton Thomas", "link": "https://stackoverflow.com/users/793477/ashton-thomas"}, "is_accepted": false, "score": 309, "last_activity_date": 1601101754, "last_edit_date": 1601101754, "creation_date": 1536345780, "answer_id": 52228086, "question_id": 52227846, "link": "https://stackoverflow.com/questions/52227846/how-can-i-add-shadow-to-the-widget-in-flutter/52228086#52228086", "title": "How can I add shadow to the widget in flutter?", "body": "<p>Check out <a href=\"https://docs.flutter.io/flutter/painting/BoxShadow-class.html\" rel=\"noreferrer\">BoxShadow</a> and <a href=\"https://api.flutter.dev/flutter/painting/BoxDecoration-class.html\" rel=\"noreferrer\">BoxDecoration </a></p>\n<p>A <code>Container</code> can take a <code>BoxDecoration</code> (going off of the code you had originally posted) which takes a <code>boxShadow</code></p>\n<pre><code>return Container(\n  margin: EdgeInsets.only(left: 30, top: 100, right: 30, bottom: 50),\n  height: double.infinity,\n  width: double.infinity,\n  decoration: BoxDecoration(\n    color: Colors.white,\n    borderRadius: BorderRadius.only(\n      topLeft: Radius.circular(10),\n        topRight: Radius.circular(10),\n        bottomLeft: Radius.circular(10),\n        bottomRight: Radius.circular(10)\n    ),\n    boxShadow: [\n      BoxShadow(\n        color: Colors.grey.withOpacity(0.5),\n        spreadRadius: 5,\n        blurRadius: 7,\n        offset: Offset(0, 3), // changes position of shadow\n      ),\n    ],\n  ),\n)\n</code></pre>\n<p><strong>Screenshot</strong></p>\n<p><a href=\"https://i.stack.imgur.com/zo9k8l.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zo9k8l.jpg\" alt=\"enter image description here\" /></a></p>\n"}, {"tags": [], "owner": {"reputation": 103440, "user_id": 6618622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z7q0p.jpg?s=128&g=1", "display_name": "CopsOnRoad", "link": "https://stackoverflow.com/users/6618622/copsonroad"}, "is_accepted": false, "score": 29, "last_activity_date": 1612108479, "last_edit_date": 1612108479, "creation_date": 1571768744, "answer_id": 58510302, "question_id": 52227846, "link": "https://stackoverflow.com/questions/52227846/how-can-i-add-shadow-to-the-widget-in-flutter/58510302#58510302", "title": "How can I add shadow to the widget in flutter?", "body": "<p><strong>Screenshot:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/B8B7F.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/B8B7F.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<ol>\n<li><p><strong>Using <code>BoxShadow</code></strong> (more customizations):</p>\n<pre class=\"lang-dart prettyprint-override\"><code>Container(\n  width: 100,\n  height: 100,\n  decoration: BoxDecoration(\n    color: Colors.teal,\n    borderRadius: BorderRadius.circular(20),\n    boxShadow: [\n      BoxShadow(\n        color: Colors.red,\n        blurRadius: 4,\n        offset: Offset(4, 8), // Shadow position\n      ),\n    ],\n  ),\n)\n</code></pre>\n</li>\n</ol>\n<hr />\n<ol start=\"2\">\n<li><p><strong>Using <code>PhysicalModel</code>:</strong></p>\n<pre class=\"lang-dart prettyprint-override\"><code>PhysicalModel(\n  color: Colors.teal,\n  elevation: 8,\n  shadowColor: Colors.red,\n  borderRadius: BorderRadius.circular(20),\n  child: SizedBox(width: 100, height: 100),\n)\n</code></pre>\n</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 1728, "user_id": 6557958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QosUa.jpg?s=128&g=1", "display_name": "Yudhishthir Singh", "link": "https://stackoverflow.com/users/6557958/yudhishthir-singh"}, "is_accepted": false, "score": 3, "last_activity_date": 1574801217, "creation_date": 1574801217, "answer_id": 59059106, "question_id": 52227846, "link": "https://stackoverflow.com/questions/52227846/how-can-i-add-shadow-to-the-widget-in-flutter/59059106#59059106", "title": "How can I add shadow to the widget in flutter?", "body": "<p>The given answers do the trick for outer shadow i.e. around the widget. I wanted a shadow on the widget which is inside the boundaries and according to the <a href=\"https://github.com/flutter/flutter/issues/18636\" rel=\"nofollow noreferrer\">github issue</a> there is no inset attribute in ShadowBox yet.\nMy workaround was to add a layer of widget with a gradient using the stack widget so that it looks like the widget itself has the shadows. You must use the mediaQuery for dimensions otherwise the layout will be messed up on different devices.\nHere's a sample of code for better understanding:</p>\n\n<pre><code>Stack(\n            children: &lt;Widget&gt;[\n              Container(\n                decoration: BoxDecoration(\n                  image: DecorationImage(\n                    fit: BoxFit.cover,\n                    image: AssetImage(\"assets/sampleFaces/makeup.jpeg\"),\n                    // fit: BoxFit.cover,\n                  ),\n                ),\n                height: 350.0,\n              ),\n              Container(\n                decoration: BoxDecoration(\n                  gradient: LinearGradient(\n                    begin: FractionalOffset.topCenter,\n                    end: FractionalOffset.bottomCenter,\n                    colors: [\n                      Colors.black.withOpacity(0.0),\n                      Colors.black54,\n                    ],\n                    stops: [0.95, 5.0],\n                  ),\n                ),\n              )\n            ],\n          ),\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 358195, "user_id": 3681880, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3b7ad8915f552cd4e23caf38eee10030?s=128&d=identicon&r=PG", "display_name": "Suragch", "link": "https://stackoverflow.com/users/3681880/suragch"}, "is_accepted": false, "score": 65, "last_activity_date": 1601101643, "last_edit_date": 1601101643, "creation_date": 1579260649, "answer_id": 59786514, "question_id": 52227846, "link": "https://stackoverflow.com/questions/52227846/how-can-i-add-shadow-to-the-widget-in-flutter/59786514#59786514", "title": "How can I add shadow to the widget in flutter?", "body": "<p>Use <code>BoxDecoration</code> with <code>BoxShadow</code>.</p>\n<p>Here is a visual demo manipulating the following options:</p>\n<ul>\n<li>opacity</li>\n<li>x offset</li>\n<li>y offset</li>\n<li>blur radius</li>\n<li>spread radius</li>\n</ul>\n<p>The animated gif doesn't do so well with colors. You can try it yourself on a device.</p>\n<p><a href=\"https://i.stack.imgur.com/OqBxp.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/OqBxp.gif\" alt=\"enter image description here\" /></a></p>\n<p>Here is the full code for that demo:</p>\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: Scaffold(\n        body: ShadowDemo(),\n      ),\n    );\n  }\n}\n\nclass ShadowDemo extends StatefulWidget {\n  @override\n  _ShadowDemoState createState() =&gt; _ShadowDemoState();\n}\n\nclass _ShadowDemoState extends State&lt;ShadowDemo&gt; {\n  var _image = NetworkImage('https://placebear.com/300/300');\n\n  var _opacity = 1.0;\n  var _xOffset = 0.0;\n  var _yOffset = 0.0;\n  var _blurRadius = 0.0;\n  var _spreadRadius = 0.0;\n\n  @override\n  Widget build(BuildContext context) {\n    return Stack(\n      children: &lt;Widget&gt;[\n        Center(\n          child:\n          Container(\n            decoration: BoxDecoration(\n              color: Color(0xFF0099EE),\n              boxShadow: [\n                BoxShadow(\n                  color: Color.fromRGBO(0, 0, 0, _opacity),\n                  offset: Offset(_xOffset, _yOffset),\n                  blurRadius: _blurRadius,\n                  spreadRadius: _spreadRadius,\n                )\n              ],\n            ),\n            child: Image(image:_image, width: 100, height: 100,),\n          ),\n        ),\n        Align(\n          alignment: Alignment.bottomCenter,\n          child: Padding(\n            padding: const EdgeInsets.only(bottom: 80.0),\n            child: Column(\n              children: &lt;Widget&gt;[\n                Spacer(),\n                Slider(\n                  value: _opacity,\n                  min: 0.0,\n                  max: 1.0,\n                  onChanged: (newValue) =&gt;\n                  {\n                    setState(() =&gt; _opacity = newValue)\n                  },\n                ),\n                Slider(\n                  value: _xOffset,\n                  min: -100,\n                  max: 100,\n                  onChanged: (newValue) =&gt;\n                  {\n                    setState(() =&gt; _xOffset = newValue)\n                  },\n                ),\n                Slider(\n                  value: _yOffset,\n                  min: -100,\n                  max: 100,\n                  onChanged: (newValue) =&gt;\n                  {\n                    setState(() =&gt; _yOffset = newValue)\n                  },\n                ),\n                Slider(\n                  value: _blurRadius,\n                  min: 0,\n                  max: 100,\n                  onChanged: (newValue) =&gt;\n                  {\n                    setState(() =&gt; _blurRadius = newValue)\n                  },\n                ),\n                Slider(\n                  value: _spreadRadius,\n                  min: 0,\n                  max: 100,\n                  onChanged: (newValue) =&gt;\n                  {\n                    setState(() =&gt; _spreadRadius = newValue)\n                  },\n                ),\n              ],\n            ),\n          ),\n        )\n      ],\n    );\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 12908550, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-K729f3iGoZA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfXhmx_KSe3OIrENi7u_k4_d4tv_w/photo.jpg?sz=128", "display_name": "Yasmin Ali", "link": "https://stackoverflow.com/users/12908550/yasmin-ali"}, "is_accepted": false, "score": 9, "last_activity_date": 1598243909, "last_edit_date": 1598243909, "creation_date": 1581877832, "answer_id": 60251789, "question_id": 52227846, "link": "https://stackoverflow.com/questions/52227846/how-can-i-add-shadow-to-the-widget-in-flutter/60251789#60251789", "title": "How can I add shadow to the widget in flutter?", "body": "<p>Use Material with shadowColor inside Container like this:</p>\n<pre><code>Container(\n  decoration: BoxDecoration(\n      borderRadius: BorderRadius.only(\n          bottomLeft: Radius.circular(10),\n          bottomRight: Radius.circular(10)),\n      boxShadow: [\n        BoxShadow(\n            color: Color(0xffA22447).withOpacity(.05),\n            offset: Offset(0, 0),\n            blurRadius: 20,\n            spreadRadius: 3)\n      ]),\n  child: Material(\n    borderRadius: BorderRadius.only(\n        bottomLeft: Radius.circular(10),\n        bottomRight: Radius.circular(10)),\n    elevation: 5,\n    shadowColor: Color(0xffA22447).withOpacity(.05),\n    color: Color(0xFFF7F7F7),\n    child: SizedBox(\n      height: MediaQuery.of(context).size.height / 3,\n    ),\n  ),\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 328, "user_id": 7767359, "user_type": "registered", "profile_image": "https://graph.facebook.com/1628073393888998/picture?type=large", "display_name": "Amera Abdallah", "link": "https://stackoverflow.com/users/7767359/amera-abdallah"}, "is_accepted": false, "score": 6, "last_activity_date": 1586798400, "creation_date": 1586798400, "answer_id": 61193118, "question_id": 52227846, "link": "https://stackoverflow.com/questions/52227846/how-can-i-add-shadow-to-the-widget-in-flutter/61193118#61193118", "title": "How can I add shadow to the widget in flutter?", "body": "<p>this is how I did it </p>\n\n<pre><code>    Container(\n  decoration: new BoxDecoration(\n    boxShadow: [\n      BoxShadow(\n        color: Colors.grey[200],\n        blurRadius: 2.0, // has the effect of softening the shadow\n        spreadRadius: 2.0, // has the effect of extending the shadow\n        offset: Offset(\n          5.0, // horizontal, move right 10\n          5.0, // vertical, move down 10\n        ),\n      )\n    ],\n  ),\n  child: Container( \n       color: Colors.white, //in your example it's blue, pink etc..\n       child: //your content\n  )\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11993, "user_id": 10563627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xQL2O.jpg?s=128&g=1", "display_name": "Paresh Mangukiya", "link": "https://stackoverflow.com/users/10563627/paresh-mangukiya"}, "is_accepted": false, "score": 0, "last_activity_date": 1588564739, "creation_date": 1588564739, "answer_id": 61584960, "question_id": 52227846, "link": "https://stackoverflow.com/questions/52227846/how-can-i-add-shadow-to-the-widget-in-flutter/61584960#61584960", "title": "How can I add shadow to the widget in flutter?", "body": "<p><strong>Add box shadow to container in flutter</strong></p>\n\n<pre><code>  Container(\n      margin: EdgeInsets.only(left: 30, top: 100, right: 30, bottom: 50),\n      height: double.infinity,\n      width: double.infinity,\n      decoration: BoxDecoration(\n        color: Colors.white,\n        borderRadius: BorderRadius.only(\n          topLeft: Radius.circular(10),\n            topRight: Radius.circular(10),\n            bottomLeft: Radius.circular(10),\n            bottomRight: Radius.circular(10)\n        ),\n        boxShadow: [\n          BoxShadow(\n            color: Colors.grey.withOpacity(0.5),\n            spreadRadius: 5,\n            blurRadius: 7,\n            offset: Offset(0, 3), // changes position of shadow\n          ),\n        ],\n      ),\n  )\n</code></pre>\n\n<p><em>Here is my output</em>\n<a href=\"https://i.stack.imgur.com/k88FO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k88FO.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 543, "user_id": 5600152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bhAqy.jpg?s=128&g=1", "display_name": "O Th\u1ea1nh Ldt", "link": "https://stackoverflow.com/users/5600152/o-th%e1%ba%a1nh-ldt"}, "is_accepted": false, "score": 3, "last_activity_date": 1604981778, "creation_date": 1604981778, "answer_id": 64762810, "question_id": 52227846, "link": "https://stackoverflow.com/questions/52227846/how-can-i-add-shadow-to-the-widget-in-flutter/64762810#64762810", "title": "How can I add shadow to the widget in flutter?", "body": "<pre><code>class ShadowContainer extends StatelessWidget {\n  ShadowContainer({\n    Key key,\n    this.margin = const EdgeInsets.fromLTRB(0, 10, 0, 8),\n    this.padding = const EdgeInsets.symmetric(horizontal: 8),\n    this.circular = 4,\n    this.shadowColor = const Color.fromARGB(\n        128, 158, 158, 158), //Colors.grey.withOpacity(0.5),\n    this.backgroundColor = Colors.white,\n    this.spreadRadius = 1,\n    this.blurRadius = 3,\n    this.offset = const Offset(0, 1),\n    @required this.child,\n  }) : super(key: key);\n\n  final Widget child;\n  final EdgeInsetsGeometry margin;\n  final EdgeInsetsGeometry padding;\n  final double circular;\n  final Color shadowColor;\n  final double spreadRadius;\n  final double blurRadius;\n  final Offset offset;\n  final Color backgroundColor;\n\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n      margin: margin,\n      padding: padding,\n      decoration: BoxDecoration(\n        color: backgroundColor,\n        borderRadius: BorderRadius.circular(circular),\n        boxShadow: [\n          BoxShadow(\n            color: shadowColor,\n            spreadRadius: spreadRadius,\n            blurRadius: blurRadius,\n            offset: offset,\n          ),\n        ],\n      ),\n      child: child,\n    );\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9186, "user_id": 1600058, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b6c4621f5e61cb8fa07c1497b607f334?s=128&d=identicon&r=PG", "display_name": "Amit Prajapati", "link": "https://stackoverflow.com/users/1600058/amit-prajapati"}, "is_accepted": false, "score": 3, "last_activity_date": 1611916257, "creation_date": 1611916257, "answer_id": 65952778, "question_id": 52227846, "link": "https://stackoverflow.com/questions/52227846/how-can-i-add-shadow-to-the-widget-in-flutter/65952778#65952778", "title": "How can I add shadow to the widget in flutter?", "body": "<p><strong>PhysicalModel</strong> will help you to give it elevation shadow.</p>\n<pre><code> Container(\n        alignment: Alignment.center,\n        child: Column(\n          children: &lt;Widget&gt;[\n            SizedBox(\n              height: 60,\n            ),\n            Container(\n              child: PhysicalModel(\n                borderRadius: BorderRadius.circular(20),\n                color: Colors.blue,\n                elevation: 18,\n                shadowColor: Colors.red,\n                child: Container(\n                  height: 100,\n                  width: 100,\n                ),\n              ),\n            ),\n            SizedBox(\n              height: 60,\n            ),\n            Container(\n              child: PhysicalShape(\n                color: Colors.blue,\n                shadowColor: Colors.red,\n                elevation: 18,\n                clipper: ShapeBorderClipper(shape: CircleBorder()),\n                child: Container(\n                  height: 150,\n                  width: 150,\n                ),\n              ),\n            )\n          ],\n        ),\n      )\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0SsHt.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0SsHt.jpg\" alt=\"enter image description here\" /></a></p>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 10983152, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-a1M2B-anv4E/AAAAAAAAAAI/AAAAAAAASu8/hydCFPbcz_w/photo.jpg?sz=128", "display_name": "Bj&#246;rn W", "link": "https://stackoverflow.com/users/10983152/bj%c3%b6rn-w"}, "is_accepted": false, "score": 2, "last_activity_date": 1612590568, "creation_date": 1612590568, "answer_id": 66073972, "question_id": 52227846, "link": "https://stackoverflow.com/questions/52227846/how-can-i-add-shadow-to-the-widget-in-flutter/66073972#66073972", "title": "How can I add shadow to the widget in flutter?", "body": "<p>Maybe it is sufficient if you wrap a <code>Card</code> around the <code>Widget</code> and play a bit with the <code>elevation</code> prop.</p>\n<p>I use this trick to make my <code>ListTile</code> look nicer in <code>Lists</code>.</p>\n<p>For your code it could look like this:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>return Card(\n   elevation: 3, // PLAY WITH THIS VALUE \n   child: Row(\n      crossAxisAlignment: CrossAxisAlignment.center,\n      children: &lt;Widget&gt;[\n         // ... MORE OF YOUR CODE \n      ],\n   ),\n);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 381, "user_id": 12755955, "user_type": "registered", "profile_image": "https://graph.facebook.com/2690244607878388/picture?type=large", "display_name": "Mehedi Hasan", "link": "https://stackoverflow.com/users/12755955/mehedi-hasan"}, "is_accepted": false, "score": 5, "last_activity_date": 1612789097, "last_edit_date": 1612789097, "creation_date": 1612786342, "answer_id": 66101406, "question_id": 52227846, "link": "https://stackoverflow.com/questions/52227846/how-can-i-add-shadow-to-the-widget-in-flutter/66101406#66101406", "title": "How can I add shadow to the widget in flutter?", "body": "<p>A Container can take a <code>BoxDecoration</code> (going off of the code you had originally posted) which takes a <code>boxShadow</code>:</p>\n<pre><code>decoration: BoxDecoration(\n    borderRadius: BorderRadius.circular(10),\n    boxShadow: [\n        BoxShadow(\n            color: Colors.grey.withOpacity(0.5),\n            spreadRadius: 5,\n            blurRadius: 7,\n            offset: Offset(0, 3), // changes position of shadow\n        ),\n    ],\n),\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 430, "user_id": 6519348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O0LOC.jpg?s=128&g=1", "display_name": "E. Sun", "link": "https://stackoverflow.com/users/6519348/e-sun"}, "is_accepted": false, "score": 2, "last_activity_date": 1614265142, "last_edit_date": 1614265142, "creation_date": 1613443971, "answer_id": 66218116, "question_id": 52227846, "link": "https://stackoverflow.com/questions/52227846/how-can-i-add-shadow-to-the-widget-in-flutter/66218116#66218116", "title": "How can I add shadow to the widget in flutter?", "body": "<p>Before you start reinventing the wheel with one of these answers, check out the <a href=\"https://api.flutter.dev/flutter/material/Card-class.html\" rel=\"nofollow noreferrer\">Material Card widget</a>. It also allows you to define a global style via the app theme directly:</p>\n<p><img src=\"https://flutter.github.io/assets-for-api-docs/assets/material/card.png\" alt=\"example\" /></p>\n"}], "owner": {"reputation": 1469, "user_id": 10305190, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-waYzVNvDWi4/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNNg5iqm1d2DsmotkQVzs_P8AOGEQ/mo/photo.jpg?sz=128", "display_name": "Mohammed Mustafa", "link": "https://stackoverflow.com/users/10305190/mohammed-mustafa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175385, "favorite_count": 34, "answer_count": 12, "score": 142, "last_activity_date": 1614265142, "creation_date": 1536344566, "last_edit_date": 1581762502, "question_id": 52227846, "link": "https://stackoverflow.com/questions/52227846/how-can-i-add-shadow-to-the-widget-in-flutter", "title": "How can I add shadow to the widget in flutter?", "body": "<p>How can I add shadow to the widget like in the picture below? </p>\n\n<p><a href=\"https://stackoverflow.com/questions/52173205/how-can-put-image-inside-the-image-in-flutter/52178364#52178364\">This</a> is my current widget code.</p>\n\n<p><img src=\"https://i.stack.imgur.com/gxt9q.png\" width=\"300\" alt=\"Image with shadow\"></p>\n"}, {"tags": ["dart"], "answers": [{"comments": [{"owner": {"reputation": 641, "user_id": 6461389, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/076e73542aee89c4f29beca9b3595d5b?s=128&d=identicon&r=PG&f=1", "display_name": "SSS", "link": "https://stackoverflow.com/users/6461389/sss"}, "edited": false, "score": 0, "creation_date": 1536341398, "post_id": 52227110, "comment_id": 91403761, "body": "Fair enough. Although, if you try to parse this: &#39;2012-02-27 13:27:00.123456z&#39; then you also lose the microseconds. And this is an accepted format. In fact this one of the example accepted formats taken from the Dart docs:  <a href=\"https://api.dartlang.org/stable/2.0.0/dart-core/DateTime/parse.html\" rel=\"nofollow noreferrer\">api.dartlang.org/stable/2.0.0/dart-core/DateTime/parse.html</a>"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 641, "user_id": 6461389, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/076e73542aee89c4f29beca9b3595d5b?s=128&d=identicon&r=PG&f=1", "display_name": "SSS", "link": "https://stackoverflow.com/users/6461389/sss"}, "edited": false, "score": 0, "creation_date": 1536341994, "post_id": 52227110, "comment_id": 91403985, "body": "It even accepts <code>2002-02-27T14:00:00-0500</code>, but without <code>:</code> in the timezone offset. I don&#39;t know why it drops microseconds, because it actually can handle microseconds."}, {"owner": {"reputation": 641, "user_id": 6461389, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/076e73542aee89c4f29beca9b3595d5b?s=128&d=identicon&r=PG&f=1", "display_name": "SSS", "link": "https://stackoverflow.com/users/6461389/sss"}, "edited": false, "score": 0, "creation_date": 1536344472, "post_id": 52227110, "comment_id": 91405039, "body": "DateTime dateTime = new DateTime(2017, 9, 7, 17, 30, 10, 351, 363); print(dateTime); Even that doesn&#39;t keep the microseconds."}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1536341054, "creation_date": 1536341054, "answer_id": 52227110, "question_id": 52227027, "link": "https://stackoverflow.com/questions/52227027/dart-datetime-parse-not-including-microseconds/52227110#52227110", "title": "Dart: DateTime.parse() not including microseconds", "body": "<p><code>'2017-10-11T12:03:46.351363-04:00'</code> is not a format Dart's <code>DateTime</code> can handle.</p>\n\n<p><code>DateTime</code> only supports <code>Z</code> for GMT or no <code>Z</code> for local time.</p>\n\n<p>Just print the value from a created <code>DateTime</code> to see what format it can parse.</p>\n\n<pre><code>print(DateTime.now());\nprint(DateTime.now().toUtc())\n</code></pre>\n\n<p><code>DateTime</code> has also 2 constructors <code>fromMicrosecondsSinceEpoch</code> and <code>fromMillisecondsSinceEpoch</code> to create an instance from an integer value.</p>\n"}, {"tags": [], "owner": {"reputation": 990, "user_id": 1199041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62e78ed02c8979945519b4e6069f7845?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/1199041/terry"}, "is_accepted": false, "score": 0, "last_activity_date": 1571458979, "last_edit_date": 1571458979, "creation_date": 1571457772, "answer_id": 58460420, "question_id": 52227027, "link": "https://stackoverflow.com/questions/52227027/dart-datetime-parse-not-including-microseconds/58460420#58460420", "title": "Dart: DateTime.parse() not including microseconds", "body": "<p>There's an issue here\n<a href=\"https://github.com/dart-lang/co19/issues/17\" rel=\"nofollow noreferrer\">https://github.com/dart-lang/co19/issues/17</a></p>\n\n<p>As the test show it only 6 decimal places\n<a href=\"https://github.com/dart-lang/co19/commit/8465825f60c9580d82ae01ffc040f3b589aaf667#diff-02c526d1dcb5aa2dcdab3500c14ede87R40\" rel=\"nofollow noreferrer\">https://github.com/dart-lang/co19/commit/8465825f60c9580d82ae01ffc040f3b589aaf667#diff-02c526d1dcb5aa2dcdab3500c14ede87R40</a></p>\n\n<p>You can parse format <code>2018-12-11T12:00:32.304272Z</code></p>\n\n<p>but cannot parse <code>2018-12-11T12:00:32.304272001Z</code></p>\n"}], "owner": {"reputation": 641, "user_id": 6461389, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/076e73542aee89c4f29beca9b3595d5b?s=128&d=identicon&r=PG&f=1", "display_name": "SSS", "link": "https://stackoverflow.com/users/6461389/sss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 283, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1571458979, "creation_date": 1536340650, "question_id": 52227027, "link": "https://stackoverflow.com/questions/52227027/dart-datetime-parse-not-including-microseconds", "title": "Dart: DateTime.parse() not including microseconds", "body": "<p>See the following code:</p>\n\n<pre><code>void main() \n{\n  String test = '2017-10-11T12:03:46.351363-04:00';\n  DateTime testDate = DateTime.parse(test);\n  print(testDate.microsecond);\n  print(testDate.toString());\n}\n</code></pre>\n\n<p>When running this code I lose the microseconds in the string that I parse. Why is this and is there anyway to solve this?</p>\n\n<p>The Dart docs say that the parse method supports microseconds.</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 18691, "user_id": 2461957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba93508b1cdbe37fd102cff4982e0d47?s=128&d=identicon&r=PG", "display_name": "boformer", "link": "https://stackoverflow.com/users/2461957/boformer"}, "is_accepted": true, "score": 2, "last_activity_date": 1536339426, "creation_date": 1536339426, "answer_id": 52226784, "question_id": 52226403, "link": "https://stackoverflow.com/questions/52226403/google-search-in-flutter/52226784#52226784", "title": "Google Search in Flutter", "body": "<p>Use the <a href=\"https://pub.dartlang.org/packages/url_launcher\" rel=\"nofollow noreferrer\">url_launcher</a> plugin. To search for a specific thing, append a <a href=\"https://moz.com/blog/the-ultimate-guide-to-the-google-search-parameters\" rel=\"nofollow noreferrer\">query parameter</a> to the google url, e.g.: <code>https://www.google.com/search?q=query+goes+here</code></p>\n"}], "owner": {"reputation": 785, "user_id": 9462043, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1b65c9c2e606f514cd283a03c30205d9?s=128&d=identicon&r=PG&f=1", "display_name": "Sabbir33", "link": "https://stackoverflow.com/users/9462043/sabbir33"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1607, "favorite_count": 0, "accepted_answer_id": 52226784, "answer_count": 1, "score": 0, "last_activity_date": 1536339426, "creation_date": 1536337413, "question_id": 52226403, "link": "https://stackoverflow.com/questions/52226403/google-search-in-flutter", "title": "Google Search in Flutter", "body": "<p>Is there any plugin or possibility to add google search in flutter app? There will be a button with text. If user clicks that button it will take that text and go to browser and search in google. In html it's like this: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form method=\"get\" action=\"http://www.google.com/search\"&gt; \r\n&lt;div style=\"border:1px solid black;padding:4px;width:20em;\"&gt; &lt;table border=\"0\" cellpadding=\"0\"&gt; \r\n&lt;tr&gt;\r\n&lt;td&gt; \r\n&lt;input type=\"text\" name=\"q\" size=\"25\" maxlength=\"255\" value=\"\" /&gt; \r\n&lt;input type=\"submit\" value=\"Google Search\" /&gt;\r\n&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;/table&gt; \r\n&lt;/div&gt;\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>How to implement this in flutter?</p>\n"}, {"tags": ["android", "dart", "flutter"], "comments": [{"owner": {"reputation": 59214, "user_id": 666221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1VBx.jpg?s=128&g=1", "display_name": "diegoveloper", "link": "https://stackoverflow.com/users/666221/diegoveloper"}, "edited": false, "score": 0, "creation_date": 1536336751, "post_id": 52225846, "comment_id": 91401893, "body": "check the post I wrote : <a href=\"https://medium.com/@diegoveloper/flutter-fetching-parsing-json-data-c019ddddaa34\" rel=\"nofollow noreferrer\">medium.com/@diegoveloper/&hellip;</a>"}, {"owner": {"reputation": 792, "user_id": 9363835, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ztCRobtQNGg/AAAAAAAAAAI/AAAAAAAAAPU/iJWHavVnXyM/photo.jpg?sz=128", "display_name": "Denis Ramdan", "link": "https://stackoverflow.com/users/9363835/denis-ramdan"}, "reply_to_user": {"reputation": 5556, "user_id": 1549950, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4e1d79b0859761cf6de8f560784226cc?s=128&d=identicon&r=PG", "display_name": "Michael Lihs", "link": "https://stackoverflow.com/users/1549950/michael-lihs"}, "edited": false, "score": 0, "creation_date": 1536387606, "post_id": 52225846, "comment_id": 91414369, "body": "thank you @Michael Lihs,  I have tried the script that you created on the link that you mean. but my question is different, in the script that I have created, I intend to fill in the <code>List &lt;ChatCard&gt; chatcard</code> variable in the <code>tambah</code> constructor in the <code>ChatCardList</code> class, whether it is possible or not, if so how do I do it,  Best regards,"}, {"owner": {"reputation": 601, "user_id": 13240914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94b74b6ecc04974cbfd9adf58984b4dc?s=128&d=identicon&r=PG&f=1", "display_name": "uyhaW", "link": "https://stackoverflow.com/users/13240914/uyhaw"}, "edited": false, "score": 0, "creation_date": 1588389987, "post_id": 52225846, "comment_id": 108883111, "body": "@DenisRamdan did you find your answer for this question?... I would like to know the answer of this question.. because I have the same question like yours"}], "answers": [{"comments": [{"owner": {"reputation": 792, "user_id": 9363835, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ztCRobtQNGg/AAAAAAAAAAI/AAAAAAAAAPU/iJWHavVnXyM/photo.jpg?sz=128", "display_name": "Denis Ramdan", "link": "https://stackoverflow.com/users/9363835/denis-ramdan"}, "edited": false, "score": 0, "creation_date": 1536396813, "post_id": 52233533, "comment_id": 91416166, "body": "sorry @Dinesh Balasubramanian my mistake, the result is String, not array. <code>[{&quot;createdAt&quot;:&quot;2018-08-16T02:38:37.757Z&quot;,&quot;is_read&quot;:1,&quot;_id&quot;:&quot;&zwnj;&#8203;5b74e3ad26c7de02ed66&zwnj;&#8203;4dd2&quot;,&quot;from_id&quot;:&quot;5b7&zwnj;&#8203;4d3f5e0da63027ab0366&zwnj;&#8203;4&quot;,&quot;from_name&quot;:&quot;Ahma&zwnj;&#8203;d Adiwijaya&quot;,&quot;from_photo&quot;:&quot;&quot;,&quot;from_device&quot;:&quot;Mobile Phone&quot;,&quot;text&quot;:&quot;Kami dari sekolah tinggi yg hanya satu prodi. Apakah lembaga penjaminan mutuh harus 2, yaitu LPM pada level institusi dan UPM pada level prodi?&quot;},{&quot;from_id&quot;:&quot;SystemDate&quot;,&quot;from_name&quot;:&quot;System&quot;,&quot;from_&zwnj;&#8203;photo&quot;:&quot;&quot;,&quot;text&quot;:&quot;20&zwnj;&#8203;18-08-23T11:26:53.96&zwnj;&#8203;8Z&quot;}]</code>"}], "tags": [], "owner": {"reputation": 13239, "user_id": 5305962, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9YbROXbfbBw/AAAAAAAAAAI/AAAAAAAAAEg/v4eIW0Y-eO0/photo.jpg?sz=128", "display_name": "Dinesh Balasubramanian", "link": "https://stackoverflow.com/users/5305962/dinesh-balasubramanian"}, "is_accepted": false, "score": 0, "last_activity_date": 1536395868, "creation_date": 1536395868, "answer_id": 52233533, "question_id": 52225846, "link": "https://stackoverflow.com/questions/52225846/convert-json-string-to-the-list-object-in-flutter/52233533#52233533", "title": "convert JSON String to the list object in flutter", "body": "<p>Are you expecting some like this,</p>\n\n<pre><code>ChatCardList.tambah(String message) {\n  List&lt;ChatCard&gt; chatCardList = message\n    .map((chatCardJson) =&gt; ChatCard.fromJson(chatCardJson))\n    .toList();\n  print(chatCardList); // [Instance of 'ChatCard', Instance of 'ChatCard']\n}\n</code></pre>\n\n<p>Note: But the <code>keys</code> in the json printed in the console and in the <code>keys</code> in the <code>ChatCard</code> are different. You might have to revisit that.</p>\n"}], "owner": {"reputation": 792, "user_id": 9363835, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ztCRobtQNGg/AAAAAAAAAAI/AAAAAAAAAPU/iJWHavVnXyM/photo.jpg?sz=128", "display_name": "Denis Ramdan", "link": "https://stackoverflow.com/users/9363835/denis-ramdan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2550, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1536395868, "creation_date": 1536335056, "last_edit_date": 1536335972, "question_id": 52225846, "link": "https://stackoverflow.com/questions/52225846/convert-json-string-to-the-list-object-in-flutter", "title": "convert JSON String to the list object in flutter", "body": "<p>I'm still new to the dart flutter. now I'm trying to pull data from the REST API. following the script that I have made:</p>\n\n<pre><code>class ChatCard {\n  final String chatdetail_id;\n  final String chatdetail_userfullname;\n  final String chatdetail_userurlphoto;\n  final String chatdetail_message;\n  final int chatdetail_isread;\n  final String chatdetail_datetime;\n\n  ChatCard({\n    this.chatdetail_id,\n    this.chatdetail_userfullname,\n    this.chatdetail_userurlphoto,\n    this.chatdetail_message,\n    this.chatdetail_isread,\n    this.chatdetail_datetime\n  });\n\n  factory ChatCard.fromJson(Map&lt;String, dynamic&gt; json) {\n    return new ChatCard(\n      chatdetail_id : json['chatdetail_id'] as String,\n      chatdetail_userfullname : json['chatdetail_userfullname'] as String,\n      chatdetail_userurlphoto : json['chatdetail_userurlphoto'] as String,\n      chatdetail_message : json['chatdetail_message'] as String,\n      chatdetail_isread : json['chatdetail_isread'] as int,\n      chatdetail_datetime : json['chatdetail_datetime'] as String\n    );\n  }\n}\n\nclass ChatCardList extends StatefulWidget {\n\n  List&lt;ChatCard&gt; chatcard;\n\n  ChatCardList({Key key, this.chatcard}) : super(key: key);\n\n  @override\n  _ChatCardListState createState() =&gt; new _ChatCardListState(chatcard:chatcard);\n\n  ChatCardList.tambah(String message) {\n    print(\"RESULT MESSAGE = \" + message); //result on console : [{\"createdAt\":\"2018-08-16T02:38:37.757Z\",\"is_read\":1,\"_id\":\"5b74e3ad26c7de02ed664dd2\",\"from_id\":\"5b74d3f5e0da63027ab03664\",\"from_name\":\"Ahmad Adiwijaya\",\"from_photo\":\"\",\"from_device\":\"Mobile Phone\",\"text\":\"Kami dari sekolah tinggi yg hanya satu prodi. Apakah lembaga penjaminan mutuh harus 2, yaitu LPM pada level institusi dan UPM pada level prodi?\"},{\"from_id\":\"SystemDate\",\"from_name\":\"System\",\"from_photo\":\"\",\"text\":\"2018-08-23T11:26:53.968Z\"}]\n\n  }\n}\n</code></pre>\n\n<p>My question is, how do I input the 'RESULT MESSAGE' result data above to class <code>List&lt;ChatCard&gt; chatcard</code>?</p>\n\n<p>many thank,</p>\n"}, {"tags": ["dart", "switch-statement", "flutter"], "comments": [{"owner": {"reputation": 4187, "user_id": 1447595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kuRzY.png?s=128&g=1", "display_name": "Zulfiqar", "link": "https://stackoverflow.com/users/1447595/zulfiqar"}, "edited": false, "score": 2, "creation_date": 1536324818, "post_id": 52222712, "comment_id": 91394770, "body": "setState() always change your value to false define it in StatefulWidget extended class instead of State extended."}], "answers": [{"comments": [{"owner": {"reputation": 15775, "user_id": 427292, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b560f3cb49b191dd5cea75cd739c18e8?s=128&d=identicon&r=PG", "display_name": "Josh Kahane", "link": "https://stackoverflow.com/users/427292/josh-kahane"}, "edited": false, "score": 0, "creation_date": 1536325852, "post_id": 52223058, "comment_id": 91395413, "body": "Thanks, but it makes no difference it being declared there. I can swap it there like so: <code>isInstructionView = !isInstructionView;</code>. The issue is <code>isOn</code> doesn&#39;t change, its always provided as <code>true</code>."}, {"owner": {"reputation": 4187, "user_id": 1447595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kuRzY.png?s=128&g=1", "display_name": "Zulfiqar", "link": "https://stackoverflow.com/users/1447595/zulfiqar"}, "reply_to_user": {"reputation": 15775, "user_id": 427292, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b560f3cb49b191dd5cea75cd739c18e8?s=128&d=identicon&r=PG", "display_name": "Josh Kahane", "link": "https://stackoverflow.com/users/427292/josh-kahane"}, "edited": false, "score": 0, "creation_date": 1536326609, "post_id": 52223058, "comment_id": 91395917, "body": "It return always true because of when you setState it change isInstructionView value to false and this value is assigned to switch value i.e. it return again it&#39;s initial state."}, {"owner": {"reputation": 15775, "user_id": 427292, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b560f3cb49b191dd5cea75cd739c18e8?s=128&d=identicon&r=PG", "display_name": "Josh Kahane", "link": "https://stackoverflow.com/users/427292/josh-kahane"}, "edited": false, "score": 0, "creation_date": 1536326779, "post_id": 52223058, "comment_id": 91396035, "body": "I&#39;m sure I understand, but even with your change, it doesn&#39;t affect it because &#39;isOn&#39; value returned by <code>onChanged</code> never changes."}], "tags": [], "owner": {"reputation": 4187, "user_id": 1447595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kuRzY.png?s=128&g=1", "display_name": "Zulfiqar", "link": "https://stackoverflow.com/users/1447595/zulfiqar"}, "is_accepted": false, "score": 1, "last_activity_date": 1536324958, "creation_date": 1536324958, "answer_id": 52223058, "question_id": 52222712, "link": "https://stackoverflow.com/questions/52222712/flutter-switch-onchanged-not-changing/52223058#52223058", "title": "Flutter Switch - onChanged Not Changing", "body": "<pre><code>class Tab_b extends StatefulWidget {\n\nbool isInstructionView = false;\n@override\nState&lt;StatefulWidget&gt; createState() =&gt; new _TabsPageState();\n}\n\nclass _TabsPageState extends State&lt;Tab_b&gt;{\n\n@override\nWidget build(BuildContext context) {\n\nreturn Scaffold(\n    appBar: new AppBar(\n    title: new Text(\"add data\"),\n),\nbody: new Container(\n  child:  Switch(\n    value: widget.isInstructionView,\n    onChanged: (bool isOn) {\n      print(isOn);\n      setState(() {\n        widget.isInstructionView = isOn;\n        print(widget.isInstructionView);\n      });\n    },\n    activeColor: Colors.blue,\n    inactiveTrackColor: Colors.grey,\n    inactiveThumbColor: Colors.grey,\n  ),\n),\n);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2828, "user_id": 9346859, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ytW5RWf_860/AAAAAAAAAAI/AAAAAAAABB4/J53pbgPKMvw/photo.jpg?sz=128", "display_name": "Bilal \u015eim\u015fek", "link": "https://stackoverflow.com/users/9346859/bilal-%c5%9eim%c5%9fek"}, "is_accepted": false, "score": 5, "last_activity_date": 1545647734, "creation_date": 1545647734, "answer_id": 53912245, "question_id": 52222712, "link": "https://stackoverflow.com/questions/52222712/flutter-switch-onchanged-not-changing/53912245#53912245", "title": "Flutter Switch - onChanged Not Changing", "body": "<p>I added additional  code chunks according to @Zulfiqar 's  answer. I didn't test this code but I m using similar codes in my project. if you want to save it and use in another class or if you want to show latest state for everytime you load you can save the state in a global variable and call it when you load the class. hope it will help..</p>\n\n<pre><code>class Tab_b extends StatefulWidget {\n\n  @override\n  State&lt;StatefulWidget&gt; createState() =&gt; new _TabsPageState();\n}\n\nclass _TabsPageState extends State&lt;Tab_b&gt;{\n  bool isInstructionView;\n  @override\n  void initState() {\n    isInstructionView = Global.shared.isInstructionView;\n    super.initState();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: new AppBar(\n        title: new Text(\"add data\"),\n      ),\n      body: new Container(\n        child:  Switch(\n          value: isInstructionView,\n          onChanged: (bool isOn) {\n            print(isOn);\n            setState(() {\n             isInstructionView = isOn;\n             Global.shared.isInstructionView = isOn;\n             isOn =!isOn;\n              print(isInstructionView);\n            });\n          },\n          activeColor: Colors.blue,\n          inactiveTrackColor: Colors.grey,\n          inactiveThumbColor: Colors.grey,\n        ),\n      ),\n    );\n  }\n}\nclass Global{\n  static final shared =Global();\n  bool isInstructionView = false;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 222, "user_id": 2833219, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8ca7c738ebcb17a2e28869ad00456ec0?s=128&d=identicon&r=PG&f=1", "display_name": "Francis Manoj Fernnado", "link": "https://stackoverflow.com/users/2833219/francis-manoj-fernnado"}, "is_accepted": false, "score": 1, "last_activity_date": 1554032997, "creation_date": 1554032997, "answer_id": 55440602, "question_id": 52222712, "link": "https://stackoverflow.com/questions/52222712/flutter-switch-onchanged-not-changing/55440602#55440602", "title": "Flutter Switch - onChanged Not Changing", "body": "<p>You need to rebuild the widget when the state changes. refer the documentation \n<a href=\"https://docs.flutter.io/flutter/material/Switch/onChanged.html\" rel=\"nofollow noreferrer\">https://docs.flutter.io/flutter/material/Switch/onChanged.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 648, "user_id": 2552460, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/J8QfA.png?s=128&g=1", "display_name": "Hiren", "link": "https://stackoverflow.com/users/2552460/hiren"}, "is_accepted": false, "score": 0, "last_activity_date": 1573531378, "creation_date": 1573531378, "answer_id": 58811842, "question_id": 52222712, "link": "https://stackoverflow.com/questions/52222712/flutter-switch-onchanged-not-changing/58811842#58811842", "title": "Flutter Switch - onChanged Not Changing", "body": "<p>I have also got the same problem while I was implementing CupertinoSwitch. I was able to turn it ON but wasn't able to turn it OFF.</p>\n\n<p>According to <a href=\"https://github.com/flutter/flutter/blob/master/examples/flutter_gallery/lib/demo/cupertino/cupertino_switch_demo.dart\" rel=\"nofollow noreferrer\">this</a> example, I tried to put my Switch inside the widget called 'Semantics' and magically it started working.</p>\n\n<p>Below is the code:</p>\n\n<pre><code>body: Column(\n    children: &lt;Widget&gt;[\n      SizedBox(height: 50.0,),\n      Semantics(\n        container: true,\n        child: Row(\n          mainAxisAlignment: MainAxisAlignment.spaceAround,\n          children: &lt;Widget&gt;[\n            CupertinoSwitch(\n              value: _switchValue,\n              onChanged: (bool value){\n                setState(() {\n                  _switchValue = value;\n                  _animating = value;\n                });\n              },\n            ),\n\n            Text(\n              \"${_switchValue ? \"On\" : \"Off\"}\",\n              style: TextStyle(fontSize: 20.0,\n                              fontWeight: FontWeight.bold),\n            ),\n          ],  \n        ),\n        ),\n        SizedBox(\n          height: 50.0,\n        ),\n        Visibility(\n            child: CupertinoActivityIndicator(\n            animating: _animating,\n            radius: 30.0,\n          ),\n          visible: _animating,\n        ),\n    ],\n\n  ),\n</code></pre>\n\n<p>Hope it helps.</p>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 10181807, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NYduj4rwsyk/AAAAAAAAAAI/AAAAAAAAAAs/QwS-pTxdT5Y/photo.jpg?sz=128", "display_name": "Shukry Shahril", "link": "https://stackoverflow.com/users/10181807/shukry-shahril"}, "is_accepted": false, "score": 1, "last_activity_date": 1589507417, "creation_date": 1589507417, "answer_id": 61810387, "question_id": 52222712, "link": "https://stackoverflow.com/questions/52222712/flutter-switch-onchanged-not-changing/61810387#61810387", "title": "Flutter Switch - onChanged Not Changing", "body": "<p>You just need to make sure to declare the bool for the switch toggle outside Widget build to make it global and acessible for SetState method. No need to initstate and etc.</p>\n\n<pre><code>    class ExampleClass extends StatefulWidget {\n     @override\n     _ExampleClassState createState() =&gt; _ExampleClassState();\n    }\n\n    class _ExampleClassState extends State&lt;ExampleClass&gt; {\n\n     bool isInstructionView = false;\n\n     @override\n     Widget build(BuildContext context) {\n\n      return Container(\n       child:  Switch(\n       value: isInstructionView,\n       onChanged: (isOn) {\n\n         setState(() {\n           isInstructionView = isOn\n         });\n\n         print(isInstructionView);\n\n        },\n        ...\n      ),\n     );\n    }\n   }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 12803914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79fddc171f1e5229fb5ec19b5b5ef38e?s=128&d=identicon&r=PG&f=1", "display_name": "tipu sultan", "link": "https://stackoverflow.com/users/12803914/tipu-sultan"}, "is_accepted": false, "score": 3, "last_activity_date": 1606218569, "creation_date": 1606218569, "answer_id": 64985893, "question_id": 52222712, "link": "https://stackoverflow.com/questions/52222712/flutter-switch-onchanged-not-changing/64985893#64985893", "title": "Flutter Switch - onChanged Not Changing", "body": "<p>Here Is my code for toggle button</p>\n<pre><code>class ToggleButtonScreen extends StatefulWidget {\n @override\n _ToggleButtonScreenState createState() =&gt; _ToggleButtonScreenState();\n}\n\nclass _ToggleButtonScreenState extends State&lt;ToggleButtonScreen&gt; {\n bool _value = false;\n\n @override\n Widget build(BuildContext context) {\n   return Scaffold(\n     body: SafeArea(\n       child: Center(\n         child: Container(\n           decoration: BoxDecoration(\n             image: DecorationImage(\n               image: _value ? AssetImage(&quot;images/cnw.png&quot;) : AssetImage(&quot;images/cnw.png&quot;),\n               fit: BoxFit.cover,\n             ),\n           ),\n           child: Padding(\n             padding: EdgeInsets.all(AppDimens.EDGE_REGULAR),\n             child: Column(\n               children: [\n                // _customSwitchButton(),\n                 _normalToggleButton(),\n               ],\n             ),\n           ),\n         ),\n       ),\n     ),\n   );\n }\n\nWidget _normalToggleButton () {\n   return Container(\n     child: Transform.scale(\n       scale: 2.0,\n       child: Switch(\n         activeColor : Colors.greenAccent,\n         inactiveThumbColor: Colors.redAccent,\n         value: _value,\n           activeThumbImage: AssetImage(&quot;images/cnw.png&quot;),\n           inactiveThumbImage : AssetImage(&quot;images/simple_interest.png&quot;),\n           onChanged: (bool value){\n            setState(() {\n              _value = value;\n            });\n           },\n       ),\n     ),\n   );\n}\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 291, "user_id": 10856988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DDlHR.png?s=128&g=1", "display_name": "starzar", "link": "https://stackoverflow.com/users/10856988/starzar"}, "is_accepted": false, "score": 0, "last_activity_date": 1617429327, "creation_date": 1617429327, "answer_id": 66928137, "question_id": 52222712, "link": "https://stackoverflow.com/questions/52222712/flutter-switch-onchanged-not-changing/66928137#66928137", "title": "Flutter Switch - onChanged Not Changing", "body": "<p>To get Switch to work , <code>move the  setState(() {})  outside of Switch in a callback function</code> .</p>\n<pre><code>// Switch  Widget\n    Switch( value: _toggleState,\n            onChanged: _attemptChange,\n            ),\n    \n//Callback\n void _attemptChange(bool newState) {\n    setState(() {\n      _toggleState = newState;\n      newState ? _switchCase = 'ON' : _switchCase = 'OFF';\n    });\n</code></pre>\n"}], "owner": {"reputation": 15775, "user_id": 427292, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b560f3cb49b191dd5cea75cd739c18e8?s=128&d=identicon&r=PG", "display_name": "Josh Kahane", "link": "https://stackoverflow.com/users/427292/josh-kahane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11631, "favorite_count": 0, "answer_count": 7, "score": 7, "last_activity_date": 1617429327, "creation_date": 1536323679, "last_edit_date": 1536325906, "question_id": 52222712, "link": "https://stackoverflow.com/questions/52222712/flutter-switch-onchanged-not-changing", "title": "Flutter Switch - onChanged Not Changing", "body": "<p>When using the following <code>Switch</code> widget, the <code>isOn</code> value always returns <code>true</code> and never changes.</p>\n\n<p>The <code>Switch</code> only moves position on a swipe too, a tap won't move it. How to resolve?</p>\n\n<pre><code>bool isInstructionView = false;\n\nSwitch(\n    value: isInstructionView,\n    onChanged: (bool isOn) {\n      setState(() {\n        isInstructionView = isOn;\n        print(isInstructionView);\n      });\n    },\n    activeColor: Colors.blue,\n    inactiveTrackColor: Colors.grey,\n    inactiveThumbColor: Colors.grey,\n)\n</code></pre>\n\n<p><strong>Update</strong>: For extra clarity, <code>onChanged</code> always returns <code>isOn</code> as <code>true</code>. Why would this be?</p>\n"}, {"tags": ["dart", "internationalization", "flutter"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1536304126, "post_id": 52217090, "comment_id": 91382805, "body": "Can you please add the code of the form fields as well."}, {"owner": {"reputation": 2795, "user_id": 10139611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9417a433ed16a09cf75fe161f8114d?s=128&d=identicon&r=PG&f=1", "display_name": "Little Monkey", "link": "https://stackoverflow.com/users/10139611/little-monkey"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536305923, "post_id": 52217090, "comment_id": 91383726, "body": "form fields code added!"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1536305990, "post_id": 52217090, "comment_id": 91383763, "body": "Do you create the <code>TextFormField</code> inside <code>build</code> or do you hold it in a variable that is reused if build is called multiple times?"}, {"owner": {"reputation": 2795, "user_id": 10139611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9417a433ed16a09cf75fe161f8114d?s=128&d=identicon&r=PG&f=1", "display_name": "Little Monkey", "link": "https://stackoverflow.com/users/10139611/little-monkey"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536306129, "post_id": 52217090, "comment_id": 91383827, "body": "It&#39;s inside the build"}, {"owner": {"reputation": 2795, "user_id": 10139611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9417a433ed16a09cf75fe161f8114d?s=128&d=identicon&r=PG&f=1", "display_name": "Little Monkey", "link": "https://stackoverflow.com/users/10139611/little-monkey"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536308970, "post_id": 52217090, "comment_id": 91385403, "body": "Do you have any Idea?"}], "answers": [{"tags": [], "owner": {"reputation": 159, "user_id": 11317434, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BmZKau1CLzs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcQWzzjOpRRO34SniggqqFp2g_j6g/mo/photo.jpg?sz=128", "display_name": "Hardik Bhalala", "link": "https://stackoverflow.com/users/11317434/hardik-bhalala"}, "is_accepted": false, "score": -1, "last_activity_date": 1569416460, "creation_date": 1569416460, "answer_id": 58099054, "question_id": 52217090, "link": "https://stackoverflow.com/questions/52217090/internationalization-problem-when-i-switch-languages/58099054#58099054", "title": "internationalization problem when I switch Languages", "body": "<blockquote>\n  <p>This AppLocalizations Code Working Fine in My App..do some changes As per Code</p>\n</blockquote>\n\n<pre><code>import 'dart:async';\nimport 'package:COMO/constants/string_constant.dart';\nimport 'package:flutter/foundation.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter/foundation.dart' show SynchronousFuture;\n\nclass AppLocalizations {\n  AppLocalizations(this.locale);\n\n  final Locale locale;\n\n  static AppLocalizations of(BuildContext context) {\n    return Localizations.of&lt;AppLocalizations&gt;(context, AppLocalizations);\n  }\n\n  static Map&lt;String, Map&lt;String, String&gt;&gt; _localizedValues = {\n    'en': {\n      // Section contains SignIn Strings ;\n      'Sign in': 'Sign in',\n      'Email Address': 'Email Address',\n      'Password': 'Password',\n      'LOGIN': 'LOGIN',\n      'Forgot Password?': 'Forgot Password',\n      'Sign Up': 'Sign Up',\n      'lbSignUpStr': 'Do not have an account?',\n      'errorEnterMail': 'Please Enter Email',\n      'errorEnterPwd': 'Please Enter Password',\n      'errorInvalidPwd': 'Invalid Password',\n      'errorInvalidMail': 'Invalid Email',\n\n      // Section contains SignUp Strings ;\n      'First Name': 'First Name',\n      'Last Name': 'Last Name',\n      'phoneNo': 'Phone Number(*)',\n      'createAccount': 'CREATE ACCOUNT',\n      'signUpAgreementStart': StringConstant.TermsAndConditionStrStart,\n      'signUpAgreementEnd': StringConstant.TermsAndConditionStrEnd,\n      'errorEnterFname': 'Please Enter First Name',\n      'errorEnterLname': 'Please Enter Last Name',\n      'errorEnterPhoneNo': \"Please Enter Phone Number\",\n\n      // Section contains Drawer Strings ;\n\n      'writeToUs': 'Write To Us',\n      'comoLocation': 'Como Location',\n      'rateTheApp': 'Rate the App',\n      'whyComo': 'Why..Como..',\n      'serviceRate': 'Service Rate',\n      'followUs': 'Follow us on:',\n\n\n    },\n    'ar': {\n      'Sign in': '\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644',\n      'Email Address': '\u0639\u0646\u0648\u0627\u0646 \u0628\u0631\u064a\u062f \u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a',\n      'Password': '\u0643\u0644\u0645\u0647 \u0627\u0644\u0633\u0631',\n      'LOGIN': '\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644',\n      'Forgot Password?': '\u0647\u0644 \u0646\u0633\u064a\u062a \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631\u061f',\n      'Sign Up': '\u0633\u062c\u0644',\n      'lbSignUpStr': '\u0644\u0627 \u062a\u0645\u0644\u0643 \u062d\u0633\u0627\u0628\u061f',\n      'errorEnterMail': '\u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a',\n      'errorEnterPwd': '\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u062f\u062e\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631',\n      'errorInvalidPwd': '\u0631\u0645\u0632 \u0645\u0631\u0648\u0631 \u062e\u0627\u0637\u0626',\n      'errorInvalidMail': '\u0628\u0631\u064a\u062f \u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u062e\u0627\u0637\u0626',\n      'First Name': '\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0627\u0648\u0644',\n      'Last Name': '\u0627\u0644\u0643\u0646\u064a\u0629',\n      'phoneNo': '\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641(*)',\n      'createAccount': '\u0625\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628',\n      'signUpAgreementStart': '\u0628\u0625\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628\u0643 \u060c \u0623\u0646\u062a \u062a\u0648\u0627\u0641\u0642 \u0639\u0644\u0649 \u0645\u0648\u0642\u0639\u0646\u0627',\n      'signUpAgreementEnd': '\u0627\u0644\u0628\u0646\u0648\u062f \u0648 \u0627\u0644\u0638\u0631\u0648\u0641',\n      'errorEnterFname': '\u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u0648\u0644',\n      'errorEnterLname': '\u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u062e\u064a\u0631',\n      'errorEnterPhoneNo': \"\u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641\",\n\n      // Section contains Drawer Strings ;\n\n      'writeToUs': '\u0627\u0643\u062a\u0628 \u0644\u0646\u0627 ',\n      'comoLocation': '\u0643\u0648\u0645\u0648 \u0627\u0644\u0645\u0648\u0642\u0639',\n      'rateTheApp': '\u0642\u064a\u0645 \u0627\u0644\u062a\u0637\u0628\u064a\u0642',\n      'whyComo': '\u0644\u0645\u0627\u0630\u0627 .. \u0643\u0648\u0645\u0648 ..',\n      'serviceRate': '\u0645\u0639\u062f\u0644 \u062e\u062f\u0645\u0629',\n      'followUs': '\u0627\u062a\u0628\u0639\u0646\u0627:',\n    },\n  };\n\n  // Login UI Localization functions\n  String get lbSignIn {\n    return _localizedValues[locale.languageCode]['Sign in'];\n  }\n\n  String get errorEnterMail {\n    return _localizedValues[locale.languageCode]['errorEnterMail'];\n  }\n\n  String get errorEnterPwd {\n    return _localizedValues[locale.languageCode]['errorEnterPwd'];\n  }\n\n  String get errorInvalidPwd {\n    return _localizedValues[locale.languageCode]['errorInvalidPwd'];\n  }\n\n  String get errorInvalidMail {\n    return _localizedValues[locale.languageCode]['errorInvalidMail'];\n  }\n\n  String get emailAddress {\n    return _localizedValues[locale.languageCode]['Email Address'];\n  }\n\n  String get password {\n    return _localizedValues[locale.languageCode]['Password'];\n  }\n\n  String get login {\n    return _localizedValues[locale.languageCode]['LOGIN'];\n  }\n\n  String get forgotPassword {\n    return _localizedValues[locale.languageCode]['Forgot Password?'];\n  }\n\n  String get signUp {\n    return _localizedValues[locale.languageCode]['Sign Up'];\n  }\n\n  String get lbSignUpStr {\n    return _localizedValues[locale.languageCode]['lbSignUpStr'];\n  }\n\n  // Sign Up UI Localization Function\n  String get firstName {\n    return _localizedValues[locale.languageCode]['First Name'];\n  }\n\n  String get lastName {\n    return _localizedValues[locale.languageCode]['Last Name'];\n  }\n\n  String get phoneNo {\n    return _localizedValues[locale.languageCode]['phoneNo'];\n  }\n\n  String get createAccount {\n    return _localizedValues[locale.languageCode]['createAccount'];\n  }\n\n  String get signUpAgreementStart {\n    return _localizedValues[locale.languageCode]['signUpAgreementStart'];\n  }\n\n  String get signUpAgreementEnd {\n    return _localizedValues[locale.languageCode]['signUpAgreementEnd'];\n  }\n\n  String get errorEnterFirstname {\n    return _localizedValues[locale.languageCode]['errorEnterFname'];\n  }\n\n  String get errorEnterLastname {\n    return _localizedValues[locale.languageCode]['errorEnterLname'];\n  }\n\n  String get errorEnterPhoneNo {\n    return _localizedValues[locale.languageCode]['errorEnterPhoneNo'];\n  }\n\n  // Drawer UI Localization Function\n  String get writeToUs {\n    return _localizedValues[locale.languageCode]['writeToUs'];\n  }\n  String get comoLocation {\n    return _localizedValues[locale.languageCode]['comoLocation'];\n  }\n  String get rateTheApp {\n    return _localizedValues[locale.languageCode]['rateTheApp'];\n  }\n\n  String get whyComo {\n    return _localizedValues[locale.languageCode]['whyComo'];\n  }\n  String get serviceRate {\n    return _localizedValues[locale.languageCode]['serviceRate'];\n  }\n\n  String get followUs {\n    return _localizedValues[locale.languageCode]['followUs'];\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 2795, "user_id": 10139611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9417a433ed16a09cf75fe161f8114d?s=128&d=identicon&r=PG&f=1", "display_name": "Little Monkey", "link": "https://stackoverflow.com/users/10139611/little-monkey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 705, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569416460, "creation_date": 1536304034, "last_edit_date": 1536762545, "question_id": 52217090, "link": "https://stackoverflow.com/questions/52217090/internationalization-problem-when-i-switch-languages", "title": "internationalization problem when I switch Languages", "body": "<p>I have a little bug with the flutter internationalization.\nI used <code>formTextFields</code> and, when the validate is not satisfied, they display some hints like \"<code>Insert username</code>\" or \"<code>insert password</code>\". Now, the problem that I have, when I switch language, while I'm in the app, is that these Strings don't change Instantaneously, but they will change only after I press again the login button (and use so the validate function). Everything else changes, but those hint don't. </p>\n\n<p>Here's my locales file where I set the internationalization:</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nimport 'package:intl/intl.dart';\nimport 'dart:async';\n\nimport 'package:mobile/l10n/messages_all.dart';\n\nclass AppLocalizations {\n\n  static Future&lt;AppLocalizations&gt; load(Locale locale) {\n    final String name =\n        locale.countryCode.isEmpty ? locale.languageCode : locale.toString();\n\n\n    final String localeName = Intl.canonicalizedLocale(name);\n\n\n    return initializeMessages(localeName).then((bool _) {\n      Intl.defaultLocale = localeName;\n      return AppLocalizations();\n    });\n  }\n\n\n  static AppLocalizations of(BuildContext context) {\n    return Localizations.of&lt;AppLocalizations&gt;(context, AppLocalizations);\n  }\n\n\n\n  String get loginText {\n    return Intl.message('Login',\n        //name should be the same as the actual variable name because this\n        //will be the key to associate these values\n        name: 'loginText',\n        //The description is optional\n        desc: \"if you see the world 'login', call this one!\");\n  }\n\n  String get usernameText{\n    return Intl.message('Username',\n    name: 'usernameText',\n    );\n  }\n\n\n  String get passwordText{\n    return Intl.message('Password',\n    name: 'passwordText'\n    );\n  }\n\n\n  String get insertUsernameText{\n    return Intl.message('Insert username',\n        name: 'insertUsernameText'\n    );\n\n  }\n\n  String get insertPasswordText{\n    return Intl.message('Insert password',\n        name: 'insertPasswordText'\n    );\n  }\n\n\n}\n\n\nclass AppLocalizationsDelegate extends LocalizationsDelegate&lt;AppLocalizations&gt; {\n  const AppLocalizationsDelegate();\n\n\n  @override\n  bool isSupported(Locale locale) {\n    // TODO: implement isSupported\n    return ['en', 'de', 'ja'].contains(locale.languageCode);\n  }\n\n  //calls app locations method created up top\n  @override\n  Future&lt;AppLocalizations&gt; load(Locale locale) {\n    return AppLocalizations.load(locale);\n  }\n\n\n  @override\n  shouldReload(AppLocalizationsDelegate old) {\n    return false;\n  }\n}\n</code></pre>\n\n<p>And here's the <code>TextFormField</code> code</p>\n\n<pre><code>TextFormField( decoration: _fieldDecoration(AppLocalizations.of(context).passwordText, Icons.lock),\n                    onSaved: (val) {\n                      _password = val;\n                    },\n                    validator: (val) =&gt; val.isEmpty ? AppLocalizations.of(context).insertPasswordText : null,\n                  ),\n</code></pre>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536301266, "post_id": 52216386, "comment_id": 91381511, "body": "Did you add the file to <code>pubspec.yaml</code> <code>assets: ...</code>? <a href=\"https://flutter.io/assets-and-images/\" rel=\"nofollow noreferrer\">flutter.io/assets-and-images</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2283, "user_id": 320911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/adCJz.jpg?s=128&g=1", "display_name": "Arto Bendiken", "link": "https://stackoverflow.com/users/320911/arto-bendiken"}, "edited": false, "score": 0, "creation_date": 1542300369, "post_id": 52220238, "comment_id": 93528812, "body": "&quot;IMPORTANT: Make sure you use tab for each line.&quot; No tabs are needed. Correct indentation, yes; tab characters, no."}, {"owner": {"reputation": 2245, "user_id": 469335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DGzs0.jpg?s=128&g=1", "display_name": "F-1", "link": "https://stackoverflow.com/users/469335/f-1"}, "reply_to_user": {"reputation": 2283, "user_id": 320911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/adCJz.jpg?s=128&g=1", "display_name": "Arto Bendiken", "link": "https://stackoverflow.com/users/320911/arto-bendiken"}, "edited": false, "score": 0, "creation_date": 1543407880, "post_id": 52220238, "comment_id": 93907372, "body": "We&#39;re talking about the same thing, I just prefer using tabs because it&#39;s easier to be consistent than manually adding spacing which can decrease readability if you aren&#39;t consistent.."}], "tags": [], "owner": {"reputation": 2245, "user_id": 469335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DGzs0.jpg?s=128&g=1", "display_name": "F-1", "link": "https://stackoverflow.com/users/469335/f-1"}, "is_accepted": false, "score": 0, "last_activity_date": 1536314803, "creation_date": 1536314803, "answer_id": 52220238, "question_id": 52216386, "link": "https://stackoverflow.com/questions/52216386/need-help-accessing-assert-bundle-file-in-flutter/52220238#52220238", "title": "Need help accessing assert bundle file in flutter", "body": "<p>In you pubspec.yaml look for the section called assets</p>\n\n<pre><code>flutter:\n  assets:\n    - assets/\n</code></pre>\n\n<p>This tells flutter that all your application assets are located within this folder.\nmore info - <a href=\"https://flutter.io/assets-and-images/\" rel=\"nofollow noreferrer\">https://flutter.io/assets-and-images/</a></p>\n\n<p>IMPORTANT: Make sure you use tab for each line.</p>\n"}], "owner": {"reputation": 161, "user_id": 2585655, "user_type": "registered", "profile_image": "https://graph.facebook.com/1607531934/picture?type=large", "display_name": "Mathew Pierce", "link": "https://stackoverflow.com/users/2585655/mathew-pierce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 175, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1536314803, "creation_date": 1536301052, "last_edit_date": 1536301244, "question_id": 52216386, "link": "https://stackoverflow.com/questions/52216386/need-help-accessing-assert-bundle-file-in-flutter", "title": "Need help accessing assert bundle file in flutter", "body": "<p>I need to access an XML file that is located in my flutter project's <code>xmlfiles</code> directory (I added it to my project directory structure in IntelliJ) and, specifically, access a file within the <code>xmlfiles</code> directory called <code>recipes.xml</code>. </p>\n\n<p>I'm trying to access it following online examples but am not making progress.</p>\n\n<p>My test method is this:</p>\n\n<pre><code>  _loadRecipes(BuildContext context) {\n    dataDepot.recipeBook = new RecipeBook();\n    var recipesXML = DefaultAssetBundle.of(context).loadString('xmlfiles/ingredients.xml');\n    print(\"DUMPING RECIPE BOOK\");\n    print(recipesXML.toString());\n    print(\"LOADED RECIPE BOOK!!!\");\n  }\n</code></pre>\n\n<p>When I try runnng it I get this: </p>\n\n<blockquote>\n  <p>I/flutter (32066): \u2550\u2550\u2561 EXCEPTION CAUGHT BY WIDGETS LIBRARY\n  \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550 I/flutter\n  (32066): The following NoSuchMethodError was thrown building Builder:\n  I/flutter (32066): The method 'inheritFromWidgetOfExactType' was\n  called on null. I/flutter (32066): Receiver: null I/flutter (32066):\n  Tried calling: inheritFromWidgetOfExactType(DefaultAssetBundle)\n  I/flutter (32066): When the exception was thrown, this was the stack:</p>\n</blockquote>\n\n<p>...</p>\n\n<p>What I want to do is open the recipes.xml file and parse it, but I first need to open it. Can someone help me out?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 1200, "user_id": 783662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59b4fa68515563d37c5a644377e77716?s=128&d=identicon&r=PG", "display_name": "Vilsad P P", "link": "https://stackoverflow.com/users/783662/vilsad-p-p"}, "edited": false, "score": 0, "creation_date": 1536292336, "post_id": 52214706, "comment_id": 91379088, "body": "probablly because you are using a ListView inside a ExptansionTile. Instead of this, you can add another ExpansionTile if you want the child to be expandable or use ListTile to show them like list items."}], "answers": [{"comments": [{"owner": {"reputation": 2361, "user_id": 4665984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6uMiU.jpg?s=128&g=1", "display_name": "Hardy", "link": "https://stackoverflow.com/users/4665984/hardy"}, "edited": false, "score": 0, "creation_date": 1568311933, "post_id": 52215186, "comment_id": 102244010, "body": "Nothing worked but your solution worked for me! THanks"}, {"owner": {"reputation": 2140, "user_id": 2173380, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/86b1dec0f031628c10d9dbc2cf2a9952?s=128&d=identicon&r=PG", "display_name": "Jago", "link": "https://stackoverflow.com/users/2173380/jago"}, "edited": false, "score": 0, "creation_date": 1596050262, "post_id": 52215186, "comment_id": 111689029, "body": "What about for a <code>SliverGrid</code> instead of a <code>ListView</code>? There is no <code>shrinkWrap</code> in a <code>SliverGrid</code>"}], "tags": [], "owner": {"reputation": 13239, "user_id": 5305962, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9YbROXbfbBw/AAAAAAAAAAI/AAAAAAAAAEg/v4eIW0Y-eO0/photo.jpg?sz=128", "display_name": "Dinesh Balasubramanian", "link": "https://stackoverflow.com/users/5305962/dinesh-balasubramanian"}, "is_accepted": true, "score": 31, "last_activity_date": 1536293500, "creation_date": 1536293500, "answer_id": 52215186, "question_id": 52214706, "link": "https://stackoverflow.com/questions/52214706/flutter-vertical-viewport-unbounded-height-error/52215186#52215186", "title": "Flutter Vertical Viewport Unbounded Height Error", "body": "<p>There are two solutions:</p>\n\n<ol>\n<li><p>Use <strong>shrinkWrap</strong> property of the ListView</p>\n\n<pre><code>new ListView.builder(\n        shrinkWrap: true,\n        itemCount: ...\n</code></pre>\n\n<p><strong>Reason:</strong></p>\n\n<p>In your case, <code>ListView</code> is inside an <code>ExpansionTile</code>. <code>ExpansionTile</code> will show expand and show how many ever children are there. ListView will <strong>expand to the maximum size</strong> in scrollDirection as it is placed in ExpansionTile(unbounded constraints widget). As per docs,</p>\n\n<pre><code>If the scroll view does not shrink wrap, then the scroll view will expand\nto the maximum allowed size in the [scrollDirection]. If the scroll view\nhas unbounded constraints in the [scrollDirection], then [shrinkWrap] must\nbe true.\n</code></pre></li>\n<li><p>Use <strong>SizedBox</strong> for giving fixed height for ListView.</p>\n\n<pre><code>SizedBox(height: 200.0, child: new ListView.builder(...))\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 1373, "user_id": 10227686, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--F3qjkFKT4s/AAAAAAAAAAI/AAAAAAAABCo/3GeZ8XsT0Mc/photo.jpg?sz=128", "display_name": "Asyraf Dayan", "link": "https://stackoverflow.com/users/10227686/asyraf-dayan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7000, "favorite_count": 2, "accepted_answer_id": 52215186, "answer_count": 1, "score": 7, "last_activity_date": 1536293500, "creation_date": 1536289618, "question_id": 52214706, "link": "https://stackoverflow.com/questions/52214706/flutter-vertical-viewport-unbounded-height-error", "title": "Flutter Vertical Viewport Unbounded Height Error", "body": "<p>I made an app to display a list of hospitals under a state.</p>\n\n<p>This is the <strong>Main.dart</strong></p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:url_launcher/url_launcher.dart';\nimport 'dart:async' show Future;\nimport 'package:flutter/services.dart' show rootBundle;\nimport 'dart:convert';\nimport 'package:emas_app/model/accounts_model.dart';\n\nFuture&lt;String&gt; _loadAsset() async{\n  return await rootBundle.loadString('Assets/accounts.json');\n}\n\nFuture&lt;Accounts&gt; loadAccounts() async{\n\n  final response = await _loadAsset();\n  final jsonResponse = json.decode(response);\n\n  Accounts accounts = new Accounts.fromJson(jsonResponse);\n\n  return accounts;\n}\n\nclass ProviderList extends StatefulWidget {\n\n  @override\n  ListState createState() {\n    return new ListState();\n  }\n}\n\nclass ListState extends State&lt;ProviderList&gt; {\n\n  @override\n  Widget build(BuildContext context) {\n\n    Widget newbody = new ExpansionTile(\n        title: new Text(\"State Name\"),\n        children: &lt;Widget&gt;[\n          new FutureBuilder&lt;Accounts&gt;(\n              future: loadAccounts(),\n              builder: (context, snapshot){\n                if(snapshot.hasData){\n\n                return new ListView.builder(\n                      itemCount: snapshot.data.accountinfo.length,\n                      itemBuilder: (context, index){\n\n                        String username = snapshot.data.accountinfo[index].name;\n                        String address = snapshot.data.accountinfo[index].street;\n                        String lat = snapshot.data.accountinfo[index].coordinates.lat;\n                        String lng = snapshot.data.accountinfo[index].coordinates.lng;\n\n                        return new ListTile(\n                            title: new Text(username),\n                            trailing: new Row(\n                              mainAxisSize: MainAxisSize.min,\n                              mainAxisAlignment: MainAxisAlignment.end,\n                              children: &lt;Widget&gt;[\n                                new IconButton(\n                                    icon: Icon(Icons.info),\n                                    onPressed: null\n                                ),\n                                new IconButton(\n                                    icon: Icon(Icons.directions),\n                                    onPressed: null\n                                )\n                              ],\n                            )\n                        );\n                      });\n                }else{\n                  return new Center(\n                    child: new CircularProgressIndicator(),\n                  );\n                }\n              })\n    ]);\n\n    return new Scaffold(\n      appBar: new AppBar(title: new Text(\"Providers\")),\n      body: newbody\n    );\n  }\n}\n</code></pre>\n\n<p>This is the output where it shows the expanded ExpansionTile is blank:</p>\n\n<p><a href=\"https://i.stack.imgur.com/OHCnA.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/OHCnA.png\" alt=\"Providers List\"></a></p>\n\n<p>And this is the error caught:</p>\n\n<pre><code>I/flutter ( 6305): Vertical viewport was given unbounded height.\nI/flutter ( 6305): Viewports expand in the scrolling direction to fill their container.In this case, a vertical\nI/flutter ( 6305): viewport was given an unlimited amount of vertical space in which to expand. This situation\nI/flutter ( 6305): typically happens when a scrollable widget is nested inside another scrollable widget.\n</code></pre>\n\n<p>I have tried every possible solution I could find in Stack Overflow by wrapping the ListView.builder with Expanded or Flexible but its not working. Any ideas on how I could go about fixing this issue?</p>\n"}, {"tags": ["dart", "flutter"], "owner": {"reputation": 95, "user_id": 10278075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58ddf5240f36465695e9e5f87e0c13bf?s=128&d=identicon&r=PG&f=1", "display_name": "Mister disco", "link": "https://stackoverflow.com/users/10278075/mister-disco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 203, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1536295630, "creation_date": 1536283834, "last_edit_date": 1536295630, "question_id": 52214105, "link": "https://stackoverflow.com/questions/52214105/what-is-the-purpose-of-foundation-dart-in-writing-and-reading-files-using-path-p", "title": "What is the purpose of foundation.dart in Writing and Reading Files using path_provider plugin?", "body": "<p>I am trying to understand how to read and write data on text files using <a href=\"https://pub.dartlang.org/packages/path_provider\" rel=\"nofollow noreferrer\">path_provider</a> plugin. </p>\n\n<p>I've read an example on how to use it on Flutter from <a href=\"https://flutter.io/cookbook/persistence/reading-writing-files/\" rel=\"nofollow noreferrer\">here</a>. Then I saw this line of code which I don't understand:</p>\n\n<pre><code>import \"package:flutter/foundation.dart\";\n</code></pre>\n\n<p>I tried to comment it out from the code and ran \"flutter run\":</p>\n\n<pre><code>//import \"package:flutter/foundation.dart\";\n</code></pre>\n\n<p>And to my surprise, it ran perfectly. Although it raised some errors like:</p>\n\n<pre><code>E/DartVM  (23127): 'dart:core/runtime/libintegers.dart': error: Unexpected tag 0 (Nothing) in ?, expected expression\nE/DartVM  (23127): ../../third_party/dart/runtime/vm/compiler/intrinsifier.cc: 153: error: Intrinsifier failed to find method ~ in class _Smi\n</code></pre>\n\n<p>and </p>\n\n<pre><code>E/DartVM  (23237): 'dart:typed_data': error: Unexpected tag 15 (DirectPropertyGet) in ?, expected type\nE/DartVM  (23237): ../../third_party/dart/runtime/vm/compiler/intrinsifier.cc: 153: error: Intrinsifier failed to find method get:x in class _Float32x4\n</code></pre>\n\n<p>But it ran well. I don't know why. When should I use it? What method from the code did the foundation.dart was used?</p>\n\n<p>I would appreciate any kind of enlightment. Thanks in advance.</p>\n\n<p>[UPDATE]</p>\n\n<p>I think I understand why foundation library was used in the example code. Maybe because the example code used the \"required\" constant from the foundation library. </p>\n"}, {"tags": ["image", "pdf", "optimization", "dart", "flutter"], "comments": [{"owner": {"reputation": 18691, "user_id": 2461957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba93508b1cdbe37fd102cff4982e0d47?s=128&d=identicon&r=PG", "display_name": "boformer", "link": "https://stackoverflow.com/users/2461957/boformer"}, "edited": false, "score": 0, "creation_date": 1536274893, "post_id": 52213116, "comment_id": 91375741, "body": "Did you try to debug your code with breakpoints to find out what takes so long?"}, {"owner": {"reputation": 388, "user_id": 1781908, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/VoUjW.jpg?s=128&g=1", "display_name": "Juan Jose Rodrigo", "link": "https://stackoverflow.com/users/1781908/juan-jose-rodrigo"}, "reply_to_user": {"reputation": 18691, "user_id": 2461957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba93508b1cdbe37fd102cff4982e0d47?s=128&d=identicon&r=PG", "display_name": "boformer", "link": "https://stackoverflow.com/users/2461957/boformer"}, "edited": false, "score": 0, "creation_date": 1536275369, "post_id": 52213116, "comment_id": 91375826, "body": "yes it is the generation of the image in the pdf, because picking the image is fast"}, {"owner": {"reputation": 18691, "user_id": 2461957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba93508b1cdbe37fd102cff4982e0d47?s=128&d=identicon&r=PG", "display_name": "boformer", "link": "https://stackoverflow.com/users/2461957/boformer"}, "edited": false, "score": 0, "creation_date": 1536285370, "post_id": 52213116, "comment_id": 91377855, "body": "This part? <code>writeAsBytesSync(imge.encodeJpg(smallerImage, quality: 85))</code>"}, {"owner": {"reputation": 388, "user_id": 1781908, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/VoUjW.jpg?s=128&g=1", "display_name": "Juan Jose Rodrigo", "link": "https://stackoverflow.com/users/1781908/juan-jose-rodrigo"}, "reply_to_user": {"reputation": 18691, "user_id": 2461957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba93508b1cdbe37fd102cff4982e0d47?s=128&d=identicon&r=PG", "display_name": "boformer", "link": "https://stackoverflow.com/users/2461957/boformer"}, "edited": false, "score": 0, "creation_date": 1536285545, "post_id": 52213116, "comment_id": 91377883, "body": "when it calls _sharePdf(_image); freezes, the compression and getting image its ok"}, {"owner": {"reputation": 18158, "user_id": 3293914, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fPAnb.jpg?s=128&g=1", "display_name": "Dan Field", "link": "https://stackoverflow.com/users/3293914/dan-field"}, "edited": false, "score": 0, "creation_date": 1537803833, "post_id": 52213116, "comment_id": 91907231, "body": "Can you provide a complete but minimal reproduction of this?"}], "answers": [{"tags": [], "owner": {"reputation": 124, "user_id": 11823269, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yh_nJxqGv1s/AAAAAAAAAAI/AAAAAAAAAGM/SxWr6ChqzLg/photo.jpg?sz=128", "display_name": "Abdul Rauf", "link": "https://stackoverflow.com/users/11823269/abdul-rauf"}, "is_accepted": false, "score": 0, "last_activity_date": 1597306503, "creation_date": 1597306503, "answer_id": 63390888, "question_id": 52213116, "link": "https://stackoverflow.com/questions/52213116/flutter-pdf-generation-too-slow-with-image/63390888#63390888", "title": "Flutter pdf generation too slow with image", "body": "<p>flutter_html_to_pdf plugin for iOS and Android for generating PDF files from HTML.</p>\n<p>use:</p>\n<p><a href=\"https://pub.dev/packages/flutter_html_to_pdf\" rel=\"nofollow noreferrer\">https://pub.dev/packages/flutter_html_to_pdf</a></p>\n<p>instead of:</p>\n<p><a href=\"https://pub.dev/packages/pdf\" rel=\"nofollow noreferrer\">https://pub.dev/packages/pdf</a></p>\n<p>First, add flutter_html_to_pdf as a dependency in your pubspec.yaml file.</p>\n<pre><code> dependencies:\n flutter_html_to_pdf: ^0.5.2\n</code></pre>\n<p>Now in your Dart code, you can use:</p>\n<pre><code> import 'package:flutter_html_to_pdf/flutter_html_to_pdf.dart';\n</code></pre>\n<p>Usage #</p>\n<pre><code> var htmlContent =\n &quot;&quot;&quot;\n &lt;!DOCTYPE html&gt;\n &lt;html&gt;\n &lt;head&gt;\n   &lt;style&gt;\n   table, th, td {\n   border: 1px solid black;\n     border-collapse: collapse;\n   }\n   th, td, p {\n     padding: 5px;\n     text-align: left;\n   }\n   &lt;/style&gt;\n &lt;/head&gt;\n   &lt;body&gt;\n     &lt;h2&gt;PDF Generated with flutter_html_to_pdf plugin&lt;/h2&gt;\n     &lt;table style=&quot;width:100%&quot;&gt;\n       &lt;caption&gt;Sample HTML Table&lt;/caption&gt;\n       &lt;tr&gt;\n         &lt;th&gt;Month&lt;/th&gt;\n         &lt;th&gt;Savings&lt;/th&gt;\n       &lt;/tr&gt;\n       &lt;tr&gt;\n        &lt;td&gt;January&lt;/td&gt;\n         &lt;td&gt;100&lt;/td&gt;\n       &lt;/tr&gt;\n       &lt;tr&gt;\n         &lt;td&gt;February&lt;/td&gt;\n         &lt;td&gt;50&lt;/td&gt;\n       &lt;/tr&gt;\n     &lt;/table&gt;\n     &lt;p&gt;Image loaded from web&lt;/p&gt;\n     &lt;img src=&quot;https://i.imgur.com/wxaJsXF.png&quot; alt=&quot;web-img&quot;&gt;\n   &lt;/body&gt;\n &lt;/html&gt;\n &quot;&quot;&quot;;\n\n var targetPath = &quot;/your/sample/path&quot;;\n var targetFileName = &quot;example_pdf_file&quot;\n\n var generatedPdfFile = await FlutterHtmlToPdf.convertFromHtmlContent(\n     htmlContent, targetPath, targetFileName);\n</code></pre>\n<p>You can also pass File object with HTML content inside as parameter</p>\n<pre><code> var file = File(&quot;/sample_path/example.html&quot;);\n var generatedPdfFile = await FlutterHtmlToPdf.convertFromHtmlFile(\n     file, targetPath, targetFileName);\n</code></pre>\n<p>or even just path to this file</p>\n<pre><code> var filePath = &quot;/sample_path/example.html&quot;;\n var generatedPdfFile = await FlutterHtmlToPdf.convertFromHtmlFilePath(\n     filePath, targetPath, targetFileName);\n</code></pre>\n<p>Images\nIf you want to add local image from device to your HTML you need to pass path to image as src value.</p>\n<pre><code> &lt;img src=&quot;file:///storage/example/your_sample_image.png&quot; alt=&quot;web-img&quot;&gt;\n</code></pre>\n<p>or if you want to use the image File object</p>\n<pre><code> &lt;img src=&quot;${imageFile.path}&quot; alt=&quot;web-img&quot;&gt;\n</code></pre>\n<p>And for Multiple images you can add multiple  tags like:</p>\n<pre><code> &lt;img src=&quot;your source&quot; alt=&quot;your alternative&quot;&gt;\n &lt;img src=&quot;your source&quot; alt=&quot;your alternative&quot;&gt;\n &lt;img src=&quot;your source&quot; alt=&quot;your alternative&quot;&gt;\n &lt;img src=&quot;your source&quot; alt=&quot;your alternative&quot;&gt;\n &lt;img src=&quot;your source&quot; alt=&quot;your alternative&quot;&gt;\n</code></pre>\n"}], "owner": {"reputation": 388, "user_id": 1781908, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/VoUjW.jpg?s=128&g=1", "display_name": "Juan Jose Rodrigo", "link": "https://stackoverflow.com/users/1781908/juan-jose-rodrigo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2141, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1597306503, "creation_date": 1536274793, "question_id": 52213116, "link": "https://stackoverflow.com/questions/52213116/flutter-pdf-generation-too-slow-with-image", "title": "Flutter pdf generation too slow with image", "body": "<p>im working on a pdf generator app in flutter, but when i want to add an image to the pdf, it takes too long also i wanted to know how it is possible to add multiple images. </p>\n\n<p>Im using 3 libraries, image picker - pdf - printing</p>\n\n<p>here is my code:</p>\n\n<pre><code>Future getImage() async {\n  var image = await ImagePicker.pickImage(source: ImageSource.gallery);\n  final tempDir = await getTemporaryDirectory();\n  final path = tempDir.path;\n  int rand = new Math.Random().nextInt(10000000);\n  imge.Image imagee = imge.decodeImage(image.readAsBytesSync());\n  imge.Image smallerImage = imge.copyResize(imagee, 500);\n  setState(() {\n   var  _image =  new   File('$path/img_$rand.jpg')..writeAsBytesSync(imge.encodeJpg(smallerImage, quality: 85));\n\n   _sharePdf(_image);\n  });\n\n\n}\n\n\n\n PDFDocument _generateDocument(File _image)  {\n    final pdf = new PDFDocument(deflate: zlib.encode);\n    final page = new PDFPage(pdf, pageFormat: PDFPageFormat.LETTER);\n    final g = page.getGraphics();\n    final font = new PDFFont(pdf);\n    final top = page.pageFormat.height;\n\n    print(top);\n\n    imge.Image img = imge.decodeImage(_image.readAsBytesSync());\n\n\n    PDFImage image = new PDFImage(\n       pdf,\n       image: img.data.buffer.asUint8List(),\n       width: img.width,\n       height: img.height);\n\n   g.drawImage(image, 100.0, top - 150.0, 80.0, 100.0);\n\n    return pdf;\n  }\n\n  void _sharePdf(File _image) {\n    print(\"Share ...\");\n    final pdf = _generateDocument(_image);\n\n    // Calculate the widget center for iPad sharing popup position\n    final RenderBox referenceBox =\n    shareWidget.currentContext.findRenderObject();\n    final topLeft =\n    referenceBox.localToGlobal(referenceBox.paintBounds.topLeft);\n    final bottomRight =\n    referenceBox.localToGlobal(referenceBox.paintBounds.bottomRight);\n    final bounds = new Rect.fromPoints(topLeft, bottomRight);\n\n    Printing.sharePdf(document: pdf, bounds: bounds);\n  }\n</code></pre>\n\n<p>Then im calling the function getImage().</p>\n\n<p>After i pick the image it takes 2-3 minutes in which everything freezes then you can share the pdf!</p>\n"}, {"tags": ["dart", "naming-conventions", "naming", "syntactic-sugar"], "answers": [{"tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": false, "score": 2, "last_activity_date": 1536300422, "creation_date": 1536300422, "answer_id": 52216256, "question_id": 52212952, "link": "https://stackoverflow.com/questions/52212952/function-and-usage-variable-names-in-dart/52216256#52216256", "title": "Function and usage variable names in dart", "body": "<p>In Dart you would usually set the variable directly rather than use a unary function starting with <code>set</code>. That is:</p>\n\n<pre><code>this.color = Colors.blue;\n</code></pre>\n\n<p>Public non-final variables are perfectly fine, you can set them directly.\nIf you want to do something more while setting, you would use a getter and setter with a private variable:</p>\n\n<pre><code>Color get color =&gt; _color;\nset color(Color newColor) {   \n  logColorChange(_color, newColor); \n  _color = newColor; \n}\n// and then still write:\nthis.color = Color.blue;\n</code></pre>\n\n<p>If this isn't really a setter issue, but just a general parameter naming issue, then Dart does not allow you to provide different external and internal names for the same named parameter. If you want a different name, you will have to declare it in the method:</p>\n\n<pre><code>void setColor({Color to}) {\n  Color newColor = to;\n  this.color = newColor;\n}\n</code></pre>\n\n<p>I am not aware of any previous request for such a feature, perhaps because named parameters in Dart are always optional, so they are not used as much as required positional parameters to begin with, and using <code>setFoo(to: something)</code> feels like overhead over just <code>setFoo(something)</code> or <code>setFooTo(something)</code>.</p>\n\n<blockquote>\n  <p>\"The determined Real Programmer can write FORTRAN programs in any language.\"</p>\n</blockquote>\n\n<p>Dart is not Swift, it is different in many obvious and subtle ways. If you try to write Swift in Dart, you <em>will</em> be dissapointed. I recommend trying to write idiomatic Dart instead and see how that feels after a while.</p>\n"}], "owner": {"reputation": 4327, "user_id": 3549629, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/3aopq.png?s=128&g=1", "display_name": "iProgram", "link": "https://stackoverflow.com/users/3549629/iprogram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 812, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1536300422, "creation_date": 1536273452, "question_id": 52212952, "link": "https://stackoverflow.com/questions/52212952/function-and-usage-variable-names-in-dart", "title": "Function and usage variable names in dart", "body": "<p>First of, sorry for the title name. I\u2019m not sure how else to ask this. </p>\n\n<p>In swift, we can run the following code:</p>\n\n<pre><code>func setColor(to newColor: UIcolor) {\n    self.color = newColor\n}\nsetColor(to: .blue)\n</code></pre>\n\n<p>In dart, the only ways I know of doing that code is:</p>\n\n<pre><code>setColor(Color newColor){\n    this.color = newColor;\n}\nsetColor(Colors.blue);\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>setColorTo({Color newColor}){\n    this.color = newColor;\n}\nsetColorTo(newColor: Colors.blue);\n</code></pre>\n\n<p>To me, the swift code is much cleaner. I personally like it when the code explains what is happening. E.g <code>setColor(to: color)</code>. </p>\n\n<p>I like it when you can choose one name for the code and another for the usage. </p>\n\n<p>If you are to call <code>setColor(color)</code>, you know what it is doing but is further away from normal English. You could also do <code>setColorTo(newColor: color)</code> but the word \u2018to\u2019 shouldn\u2019t be in the function. Also calling it <code>newColor</code> makes it more verbose as it fits with the code and when calling the function. </p>\n\n<p>Is there a way to use swift like syntax in dart?</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "dart", "flutter"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1536260934, "post_id": 52210694, "comment_id": 91370753, "body": "<a href=\"https://stackoverflow.com/questions/52203529/what-causes-permission-denied-message-with-firebase-and-flutter/52204476?noredirect=1#comment91359209_52204476\" title=\"what causes permission denied message with firebase and flutter\">stackoverflow.com/questions/52203529/&hellip;</a> might help"}, {"owner": {"reputation": 4408, "user_id": 4916627, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Ainvx.jpg?s=128&g=1", "display_name": "Andr&#233; Kool", "link": "https://stackoverflow.com/users/4916627/andr%c3%a9-kool"}, "edited": false, "score": 0, "creation_date": 1536263709, "post_id": 52210694, "comment_id": 91371966, "body": "Have you checked that the user is actually logged in at the time you are making the write?"}, {"owner": {"reputation": 2485, "user_id": 3899560, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Dh4tr.png?s=128&g=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/3899560/julien"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536303054, "post_id": 52210694, "comment_id": 91382317, "body": "@G&#252;nterZ&#246;chbauer thanks, it works perfectly now:) and also by waiting auth finishing by adding await on initUser() (not sure about the question 100% duplicated)"}], "answers": [{"tags": [], "owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "is_accepted": false, "score": 2, "last_activity_date": 1536279896, "last_edit_date": 1536279896, "creation_date": 1536278404, "answer_id": 52213557, "question_id": 52210694, "link": "https://stackoverflow.com/questions/52210694/flutter-how-to-write-data-in-firebase-realtime-ddb-permission-denied/52213557#52213557", "title": "Flutter - how to write data in Firebase (realtime ddb) : permission denied", "body": "<p>Quick initial check is that you need to <code>await initUser()</code>. So:</p>\n\n<pre><code>Future testFirebase() async {\n\n    await initUser();\n\n    //Initialize Firebase\n    final FirebaseApp firebaseApp = await FirebaseApp.configure( ... );\n</code></pre>\n\n<p>Without that I'd expect the calls to the database to start before auth has finished.</p>\n\n<hr>\n\n<p><strong>Update</strong>: I just verified that is indeed the case with this simple code:</p>\n\n<pre><code>void _signin() async {\n  print(\"Calling __actuallySignin\");\n  __actuallySignin();\n  print(\"called __actuallySignin and waited\");\n}\nvoid __actuallySignin() async {\n  print(\"Calling signIn...\");\n  await FirebaseAuth.instance.signInAnonymously();\n  print(\"called signIn... and waited\");\n}\n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>flutter: Calling __actuallySignin\nflutter: called __actuallySignin and waited\nflutter: Calling signIn...\n...\nflutter: called signIn... and waited\n</code></pre>\n\n<p>So the <code>__actuallySignin</code> method is done before the sign in is done. To make the calling code wait for the result you add <code>await</code>:</p>\n\n<pre><code>await __actuallySignin();\n</code></pre>\n\n<p>Which outputs:</p>\n\n<pre><code>flutter: Calling __actuallySignin\nflutter: Calling signIn...\nflutter: called signIn... and waited\nflutter: called __actuallySignin and waited\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2485, "user_id": 3899560, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Dh4tr.png?s=128&g=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/3899560/julien"}, "is_accepted": true, "score": 1, "last_activity_date": 1536302999, "creation_date": 1536302999, "answer_id": 52216827, "question_id": 52210694, "link": "https://stackoverflow.com/questions/52210694/flutter-how-to-write-data-in-firebase-realtime-ddb-permission-denied/52216827#52216827", "title": "Flutter - how to write data in Firebase (realtime ddb) : permission denied", "body": "<p>Just adding await to initUser() didn't work, the database was also not correctly adressed.</p>\n\n<p>Solution :</p>\n\n<pre><code>FirebaseDatabase.instance.reference().child ...\n</code></pre>\n\n<p>instead of :</p>\n\n<pre><code>final FirebaseApp firebaseApp = await FirebaseApp.configure( ... );\n\nfinal FirebaseDatabase database = new FirebaseDatabase(app: firebaseApp);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10785267, "user_type": "registered", "profile_image": "https://graph.facebook.com/2166888460232481/picture?type=large", "display_name": "Teddy", "link": "https://stackoverflow.com/users/10785267/teddy"}, "is_accepted": false, "score": 0, "last_activity_date": 1546545061, "creation_date": 1546545061, "answer_id": 54028896, "question_id": 52210694, "link": "https://stackoverflow.com/questions/52210694/flutter-how-to-write-data-in-firebase-realtime-ddb-permission-denied/54028896#54028896", "title": "Flutter - how to write data in Firebase (realtime ddb) : permission denied", "body": "<p>I was able to fix this problem by not accessing the database reference using the method listed in the plugin documentation: </p>\n\n<pre><code>final FirebaseDatabase database = FirebaseDatabase(app: app);\nthis.databaseRef = database.reference();\n</code></pre>\n\n<p>But instead making use of this approach:</p>\n\n<pre><code>this.databaseRef = FirebaseDatabase.instance.reference();\n</code></pre>\n\n<p>When you work with multiple pieces of Flutter documentation, you will see that many approaches work for reading public information from the Real Time Database, but only one method worked for reading information that depends on the auth variable. This was my experience.</p>\n\n<p>Working method:  <a href=\"https://marcinszalek.pl/flutter/firebase-database-flutter-weighttracker/\" rel=\"nofollow noreferrer\">https://marcinszalek.pl/flutter/firebase-database-flutter-weighttracker/</a></p>\n\n<p>Non-working method was associated with the plugin documentation: <a href=\"https://pub.dartlang.org/packages/firebase_database#-example-tab-\" rel=\"nofollow noreferrer\">https://pub.dartlang.org/packages/firebase_database#-example-tab-</a></p>\n\n<p>Also, my project was configured using the main Firebase Flutter documentation for linking my app to Firebase:  <a href=\"https://firebase.google.com/docs/flutter/setup\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/flutter/setup</a> </p>\n"}], "owner": {"reputation": 2485, "user_id": 3899560, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Dh4tr.png?s=128&g=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/3899560/julien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3390, "favorite_count": 0, "accepted_answer_id": 52216827, "answer_count": 3, "score": 0, "last_activity_date": 1546545061, "creation_date": 1536260827, "question_id": 52210694, "link": "https://stackoverflow.com/questions/52210694/flutter-how-to-write-data-in-firebase-realtime-ddb-permission-denied", "title": "Flutter - how to write data in Firebase (realtime ddb) : permission denied", "body": "<p>I would like to write data in Firebase and I get a permission error, here is what I tried :</p>\n\n<pre><code>void initState() {\n    super.initState();\n    testFirebase();\n }\n\n Future testFirebase() async {\n\n    initUser();\n\n    //Initialize Firebase\n    final FirebaseApp firebaseApp = await FirebaseApp.configure( ... );\n\n    final FirebaseDatabase database = new FirebaseDatabase(app: firebaseApp);\n\n    database.reference().child('counter').push().set(&lt;String, String&gt;{\n      'var': 'test'\n    });\n  }\n\n  Future initUser() async {\n    googleUser = await _ensureLoggedInOnStartUp();\n    if (googleUser == null) {\n       setState(() {\n         state.isLoading = false;\n       });\n    } else {\n       var firebaseUser = await logIntoFirebase();\n    }\n  }\n</code></pre>\n\n<p><strong>Here is my Firebase rules :</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/CV9sG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CV9sG.png\" alt=\"enter image description here\"></a></p>\n\n<p>The google-services.json file is added to the app root directory :</p>\n\n<p><a href=\"https://i.stack.imgur.com/ubQkI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ubQkI.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Result :</strong></p>\n\n<p>I get the following error message :</p>\n\n<p><a href=\"https://i.stack.imgur.com/FViXC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FViXC.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>I tried also with :</strong> </p>\n\n<blockquote>\n  <p>push().setValue('2')</p>\n</blockquote>\n\n<p>but it doesn't work and that makes me crazy, I don't understand...</p>\n\n<p>Any idea?</p>\n"}, {"tags": ["onclick", "dart", "parent-child", "dart-html", "dart2js"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536255995, "post_id": 52209616, "comment_id": 91368602, "body": "Do you want if it is a direct child or a descendant?"}, {"owner": {"reputation": 3671, "user_id": 8745788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTs7z.png?s=128&g=1", "display_name": "Mattia", "link": "https://stackoverflow.com/users/8745788/mattia"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536256645, "post_id": 52209616, "comment_id": 91368906, "body": "descendant. My aim to create a popover that will disappear when clicked outside of it."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536256878, "post_id": 52209616, "comment_id": 91369011, "body": "Ok, then contains is the way to go."}], "answers": [{"tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 2, "last_activity_date": 1536256034, "creation_date": 1536256034, "answer_id": 52209635, "question_id": 52209616, "link": "https://stackoverflow.com/questions/52209616/check-if-element-is-child-of-another-in-dart/52209635#52209635", "title": "Check if element is child of another in Dart", "body": "<pre><code>element.contains(event.target)\n</code></pre>\n\n<p>should return whether <code>event.target</code> is a descendant of <code>element</code></p>\n"}], "owner": {"reputation": 3671, "user_id": 8745788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTs7z.png?s=128&g=1", "display_name": "Mattia", "link": "https://stackoverflow.com/users/8745788/mattia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 52209635, "answer_count": 1, "score": 1, "last_activity_date": 1536256034, "creation_date": 1536255908, "question_id": 52209616, "link": "https://stackoverflow.com/questions/52209616/check-if-element-is-child-of-another-in-dart", "title": "Check if element is child of another in Dart", "body": "<p>I need to check if a clicked element is child of another, using jQuery I would do: <code>$(event.target).parents('#foo').length === 1</code> but with dart I have no clue.</p>\n\n<pre><code>void main(){\n   (querySelector('body') as BodyElement).onClick.listen(onGlobalClick);\n}\n\nonGlobalClick(Event event){\n Element element = event.target;\n //Check if `element` is child of an element with an id of 'foo'\n}\n</code></pre>\n"}, {"tags": ["email", "dart", "flutter"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536251382, "post_id": 52208487, "comment_id": 91366374, "body": "You need a mail server with a fixed IP address and a domain with the server registered as mail exchange to receive emails. A phone probably won&#39;t do here. You can access such a mail server using POP or SMTP protocol from your phone. If you want to send/receive using an existing mail server or mail service please clarify."}, {"owner": {"reputation": 21, "user_id": 5695210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46309318a174de599958069002c0d80?s=128&d=identicon&r=PG&f=1", "display_name": "TC0r3", "link": "https://stackoverflow.com/users/5695210/tc0r3"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536251845, "post_id": 52208487, "comment_id": 91366574, "body": "Thank you very much for your fast reply.  Yeah, i should really have clarified that earlier:  I want to use existing mailhosters like googlemail for a decentral app using only mails for communication between the clients."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536252063, "post_id": 52208487, "comment_id": 91366686, "body": "Do you want to use a specific one or any or all of them? What is the purpose. Do you want to build an universal mail client or do you want to sent some service mails for specific ocassions, ...?"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536252438, "post_id": 52208487, "comment_id": 91366877, "body": "What mail accounts would that use? Does each user need to provide his own or do you want to create a single one that everyone uses?"}, {"owner": {"reputation": 21, "user_id": 5695210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46309318a174de599958069002c0d80?s=128&d=identicon&r=PG&f=1", "display_name": "TC0r3", "link": "https://stackoverflow.com/users/5695210/tc0r3"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536252666, "post_id": 52208487, "comment_id": 91366986, "body": "I want to create an app including foodshare, a noticeboard, etc without using a server. So I decided to use mails for every necessary communication between the clients. The user wont have to read this mails because the app just needs the information from it and creates posts based on the content.  Different mail hoster might be optional but I need at least one that works with my app.   Each user has its own mail adress"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536252886, "post_id": 52208487, "comment_id": 91367097, "body": "Any provider that provides a REST API for email send and receive would be easy to use. You could try Google mail API using <a href=\"https://pub.dartlang.org/packages/googleapis\" rel=\"nofollow noreferrer\">pub.dartlang.org/packages/googleapis</a> I&#39;m not sure it&#39;s appropriate for your use case. You need to take care that nobody can use the email account you use for that to send spam. This can easily get you account shut down."}, {"owner": {"reputation": 21, "user_id": 5695210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46309318a174de599958069002c0d80?s=128&d=identicon&r=PG&f=1", "display_name": "TC0r3", "link": "https://stackoverflow.com/users/5695210/tc0r3"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536258333, "post_id": 52208487, "comment_id": 91369654, "body": "Thank you for the link, looks nice to me so far.  I think about creating the mailadress with a script and using it only with the app so that the user wont notice it. But i will keep that in mind"}], "owner": {"reputation": 21, "user_id": 5695210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46309318a174de599958069002c0d80?s=128&d=identicon&r=PG&f=1", "display_name": "TC0r3", "link": "https://stackoverflow.com/users/5695210/tc0r3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 831, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1536252324, "creation_date": 1536251102, "last_edit_date": 1536252324, "question_id": 52208487, "link": "https://stackoverflow.com/questions/52208487/receive-mails-with-flutter", "title": "Receive mails with Flutter", "body": "<p>I want to create an app with Flutter for which it is necessary to receive (and send) mails. Clients share information with eachother in a decentral way using i.e. Googlemail without using an own server. \nDuring my research I found several ways to send mails but no way to receive them since this seems to be not implemented yet in any package.</p>\n\n<p>Flutter offers the option to use platform-specific code with platform channels (<a href=\"https://flutter.io/platform-channels/\" rel=\"nofollow noreferrer\">flutter plattform-channels</a>) which might be a solution. \nHowever I haven't tested this yet because I write the app for both iOS and Android which means that I'd have to do this for each java and Swift/Objective C.</p>\n\n<p>Maybe someone here knows a better solution. </p>\n"}, {"tags": ["android", "mobile", "sdk", "dart", "flutter"], "comments": [{"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1536245942, "post_id": 52206846, "comment_id": 91363156, "body": "Is your username actually <code>user</code>?"}, {"owner": {"reputation": 131, "user_id": 5710742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v8q0B.png?s=128&g=1", "display_name": "zencoder", "link": "https://stackoverflow.com/users/5710742/zencoder"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1536246280, "post_id": 52206846, "comment_id": 91363370, "body": "Haha. Nope. That was edited."}, {"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1536246465, "post_id": 52206846, "comment_id": 91363481, "body": "Which Android SDK did you install? You also need to install API 28. The easiest way to do this would be to just install Android Studio and let it download what&#39;s needed."}, {"owner": {"reputation": 131, "user_id": 5710742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v8q0B.png?s=128&g=1", "display_name": "zencoder", "link": "https://stackoverflow.com/users/5710742/zencoder"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1536247965, "post_id": 52206846, "comment_id": 91364424, "body": "Thanks. I previously did that. The install process was slow and seemed heavy. Would like to use VScode instead."}, {"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1536248261, "post_id": 52206846, "comment_id": 91364607, "body": "Well it looks like Flutter depends on Android Studio, just looking at that code. You need to install API 28 manually if you want to avoid Android Studio: <a href=\"https://android.stackexchange.com/questions/102955/how-to-install-sdk-packages-offline-after-download-is-complete\" title=\"how to install sdk packages offline after download is complete\">android.stackexchange.com/questions/102955/&hellip;</a>"}], "owner": {"reputation": 131, "user_id": 5710742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v8q0B.png?s=128&g=1", "display_name": "zencoder", "link": "https://stackoverflow.com/users/5710742/zencoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 311, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536245481, "creation_date": 1536245481, "question_id": 52206846, "link": "https://stackoverflow.com/questions/52206846/panic-broken-avd-system-path-check-your-android-sdk-root-value-home-user-and", "title": "PANIC: Broken AVD system path. Check your ANDROID_SDK_ROOT value [/home/user/Android/sdk]! -- UBUNTU", "body": "<p>After installing flutter, I installed Android SDK on my ubuntu machine and keep getting this error when I try to run the emulator.</p>\n\n<pre><code>./emulator -avd khophi\n</code></pre>\n\n<p>This is my current system's path:</p>\n\n<pre><code>export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\nexport PATH=~/.flutterSetup/flutter/bin:$PATH\n# -------\nexport ANDROID_HOME=/home/user/Android/sdk:$PATH\nexport ANDROID_SDK_ROOT=/home/user/Android/sdk:$PATH\nexport PATH=/home/user/Android/sdk/platform-tools:$PATH\nexport PATH=/home/user/Android/sdk/tools:$PATH\nexport PATH=/home/user/Android/build-tools:$PATH\n</code></pre>\n\n<p>And also get this error when I run flutter doctor:</p>\n\n<pre><code>Doctor summary (to see all details, run flutter doctor -v):\n[\u2713] Flutter (Channel beta, v0.5.1, on Linux, locale en_NG)\n[!] Android toolchain - develop for Android devices (Android SDK \n    28.0.2)\n\u2717 Android SDK file not found: /home/user/Android/sdk/build- \n    tools/28.0.2/aapt.\n[\u2717] Android Studio (not installed)\n</code></pre>\n\n<p>[!] Connected devices\n    ! No devices available</p>\n\n<p>But I can only see version 26.0.3 and 27.0.3 in \"build-tools\". Please help.</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 965, "user_id": 9694045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z9Nqx.jpg?s=128&g=1", "display_name": "Tayo.dev", "link": "https://stackoverflow.com/users/9694045/tayo-dev"}, "edited": false, "score": 0, "creation_date": 1536252339, "post_id": 52208046, "comment_id": 91366829, "body": "Thank you, I&#39;ve spotted where the issue is. Kindly check as i&#39;ve updated my post. Please help."}, {"owner": {"reputation": 5000, "user_id": 3487611, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a9d779ea596b2de17e9a9b1466a63bf9?s=128&d=identicon&r=PG", "display_name": "Albert Lardizabal", "link": "https://stackoverflow.com/users/3487611/albert-lardizabal"}, "reply_to_user": {"reputation": 965, "user_id": 9694045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z9Nqx.jpg?s=128&g=1", "display_name": "Tayo.dev", "link": "https://stackoverflow.com/users/9694045/tayo-dev"}, "edited": false, "score": 0, "creation_date": 1536257437, "post_id": 52208046, "comment_id": 91369236, "body": "If it&#39;s a simple <code>bool</code> check then you can access the <code>Map</code>&#39;s values with <code>selectedUnit.values.contains(someValue)</code>. You&#39;re using a builder so the indices returned work well with a <code>Map</code>. You can create a new key/value pair manually if you want with <code>selectedUnit[&#39;10&#39;] = 1</code> -- just substitute it with the next valid key if that&#39;s what you want to do. It looks like each element is related to a course so unique keys would seem to work better instead of two <code>List</code>s with a series of numbers."}], "tags": [], "owner": {"reputation": 5000, "user_id": 3487611, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a9d779ea596b2de17e9a9b1466a63bf9?s=128&d=identicon&r=PG", "display_name": "Albert Lardizabal", "link": "https://stackoverflow.com/users/3487611/albert-lardizabal"}, "is_accepted": true, "score": 0, "last_activity_date": 1536259541, "last_edit_date": 1536259541, "creation_date": 1536249411, "answer_id": 52208046, "question_id": 52206839, "link": "https://stackoverflow.com/questions/52206839/flutter-setting-default-itemcount-on-listview-builder/52208046#52208046", "title": "Flutter Setting Default ItemCount on ListView Builder", "body": "<p>The below should work for you. I'm unsure of the exact problem. There were a few things I had to fill in with your code to get it to build. Review your <code>notNull</code> logic because that can return an empty <code>List</code>.</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(new MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      title: 'Flutter Demo',\n      theme: new ThemeData(\n        primarySwatch: Colors.blue,\n      ),\n      home: new MyHomePage(title: 'Flutter Demo Home Page'),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  MyHomePage({Key key, this.title}) : super(key: key);\n\n  final String title;\n\n  @override\n  _MyHomePageState createState() =&gt; new _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  final _formKey = GlobalKey&lt;FormState&gt;();\n  int newSULength = 3;\n  var selectedUnit = [0, 0, 0];\n  var selectedGrade = [0, 0, 0];\n  var _course = '';\n\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      appBar: new AppBar(\n        title: new Text(widget.title),\n      ),\n      body: Column(\n        children: &lt;Widget&gt;[\n          Expanded(\n            child: Form(\n              key: _formKey,\n              child: new ListView.builder(\n                itemBuilder: (BuildContext context, int index) {\n                  return buildfields(index);\n                },\n                itemCount: newSULength,\n                scrollDirection: Axis.vertical,\n              ),\n            ),\n          )\n        ],\n      ),\n      floatingActionButton: new FloatingActionButton(\n        onPressed: () {\n          setState(() {\n            newSULength++;\n            selectedUnit.add(0);\n            selectedGrade.add(0);\n          });\n        },\n        child: new Icon(Icons.add),\n      ),\n    );\n  }\n\n  Widget buildfields(int index) {\n    return new Container(\n      margin: EdgeInsets.only(bottom: 10.0),\n      child: Row(\n        mainAxisAlignment: MainAxisAlignment.spaceBetween,\n        children: &lt;Widget&gt;[\n          Container(\n            width: 110.0,\n            child: TextFormField(\n              onSaved: (String value) {\n                setState(() {\n                  _course = value;\n                });\n              },\n              initialValue: 'GNS101',\n              inputFormatters: [\n//                new LengthLimitingTextInputFormatter(6),\n              ],\n              validator: (val) {\n                return val.isEmpty ? \"Enter Course Code\" : null;\n              },\n              textCapitalization: TextCapitalization.characters,\n              decoration: new InputDecoration(\n                border: UnderlineInputBorder(),\n                contentPadding: EdgeInsets.fromLTRB(20.0, 5.0, 20.0, 8.0),\n              ),\n            ),\n          ),\n          new Container(\n            child: new DropdownButton&lt;num&gt;(\n              onChanged: (num value) {\n                setState(() {\n                  selectedGrade[index] = value;\n                });\n              },\n              hint: new Text('Grade Point'),\n              value: selectedGrade[index] != 0 ? selectedGrade[index] : null,\n              items: &lt;num&gt;[0, 1, 2, 3, 4, 5].map((num value) {\n                return new DropdownMenuItem&lt;num&gt;(\n                  value: value,\n                  child: new Text(value.toString()),\n                );\n              }).toList(),\n            ),\n          ),\n          new Container(\n            child: new DropdownButton&lt;num&gt;(\n              onChanged: (num value) {\n                setState(() {\n                  selectedUnit[index] = value;\n                });\n              },\n              hint: new Text('Course Unit'),\n              value: selectedUnit[index] != 0 ? selectedUnit[index] : null,\n              items: &lt;num&gt;[1, 2, 3, 4, 5].map((num value) {\n                return new DropdownMenuItem&lt;num&gt;(\n                  value: value,\n                  child: new Text(value.toString()),\n                );\n              }).toList(),\n            ),\n          ),\n        ].where((value) =&gt; value != null).toList(),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p><strong>UPDATE:</strong> If you want to keep working with <code>List</code>s to store values, initialize your <code>List</code> member variables with placeholder values. The number of values stored in your <code>List</code> member variables must equal the number of elements in your <code>ListView</code>. Update your <code>DropDownButton</code>'s <code>value</code> param to check for the placeholder and return <code>null</code> if found. In your FAB's <code>onPressed</code>, make sure to add new placeholder values for your new element. <code>Map</code>s or proper models would both be better/future alternatives.</p>\n"}], "owner": {"reputation": 965, "user_id": 9694045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z9Nqx.jpg?s=128&g=1", "display_name": "Tayo.dev", "link": "https://stackoverflow.com/users/9694045/tayo-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4171, "favorite_count": 0, "accepted_answer_id": 52208046, "answer_count": 1, "score": 0, "last_activity_date": 1536259541, "creation_date": 1536245461, "last_edit_date": 1536253439, "question_id": 52206839, "link": "https://stackoverflow.com/questions/52206839/flutter-setting-default-itemcount-on-listview-builder", "title": "Flutter Setting Default ItemCount on ListView Builder", "body": "<p>I'm trying to build some input fields with ListView Builder and set the default built fields to 3 then add to the number using the floatActionButtion to generate more fields.</p>\n\n<p>But the 3 default fields i set ain't showing up and I couldn't understand what is happening.</p>\n\n<p>Here is my code.</p>\n\n<pre><code>int newSULength = 3;\n\nnew Expanded(\n              child: new Form(\n                key: formKey,\n                child: new ListView.builder(\n                  itemBuilder: (BuildContext context, int index) {\n                    return buildfields(index);\n                  },\n                  itemCount: newSULength,\n                  scrollDirection: Axis.vertical,\n                ),\n              ),\n            )\nfloatingActionButton: new FloatingActionButton(\n        onPressed: () {\n          setState(() {\n            newSULength++;\n          });\n        },\n        child: new Icon(Icons.add),\n      )\n</code></pre>\n\n<p>Below is the field am trying to Build.</p>\n\n<pre><code>    Widget buildfields(int index) {\n    return new Container(\n      margin: EdgeInsets.only(bottom: 10.0),\n      child: Row(\n        mainAxisAlignment: MainAxisAlignment.spaceBetween,\n        children: &lt;Widget&gt;[\n          _deleteMode ? deleteButton(index) : null,\n          Container(\n            width: 110.0,\n            child: TextFormField(\n              onSaved: (String value) {\n                setState(() {\n                  _course = value;\n                });\n              },\n              initialValue: 'GNS101',\n              inputFormatters: [\n                new LengthLimitingTextInputFormatter(6),\n              ],\n              validator: (val) {\n                return val.isEmpty ? \"Enter Course Code\" : null;\n              },\n              textCapitalization: TextCapitalization.characters,\n              decoration: new InputDecoration(\n                border: UnderlineInputBorder(),\n                contentPadding: EdgeInsets.fromLTRB(20.0, 5.0, 20.0, 8.0),\n              ),\n            ),\n          ),\n          new Container(\n            child: new DropdownButton&lt;num&gt;(\n              onChanged: (num value) {\n                setState(() {\n                  selectedGrade[index] = value;\n                });\n              },\n              hint: new Text('Grade Point'),\n              value: selectedGrade[index],\n              items: &lt;num&gt;[0, 1, 2, 3, 4, 5].map((num value) {\n                return new DropdownMenuItem&lt;num&gt;(\n                  value: value,\n                  child: new Text(value.toString()),\n                );\n              }).toList(),\n            ),\n          ),\n          new Container(\n            child: new DropdownButton&lt;num&gt;(\n              onChanged: (num value) {\n                setState(() {\n                  selectedUnit[index] = value;\n                });\n              },\n              hint: new Text('Course Unit'),\n              value: selectedUnit[index],\n              items: &lt;num&gt;[1, 2, 3, 4, 5].map((num value) {\n                return new DropdownMenuItem&lt;num&gt;(\n                  value: value,\n                  child: new Text(value.toString()),\n                );\n              }).toList(),\n            ),\n          ),\n        ].where(notNull).toList(),\n      ),\n    );\n  }\n</code></pre>\n\n<p><strong>UPDATE:</strong> I discover that my problem is declaring <code>selectedUnit</code> and <code>selectedGrade</code> as List.</p>\n\n<pre><code>List&lt;num&gt; selectedUnit = [];\nList&lt;num&gt; selectedGrade = [];\n</code></pre>\n\n<p>i tried using <code>selectedUnit</code> and <code>selectedGrade</code> as map and it works.</p>\n\n<pre><code>var selectedUnit = {};\nvar selectedGrade = {};\n</code></pre>\n\n<p>But i need to check if the list contains a certain value using <code>selectedUnit.contain()</code> and <code>selectedUnit.add()</code> and these are not available in Map.</p>\n\n<p>Please help.</p>\n"}, {"tags": ["dart", "widget", "flutter"], "comments": [{"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1536245370, "post_id": 52206565, "comment_id": 91362738, "body": "Can you explain a bit more what you expect?"}, {"owner": {"reputation": 1314, "user_id": 7657749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66522a52b771a77d933f0323dd5e3cf0?s=128&d=identicon&r=PG&f=1", "display_name": "Jan D.M.", "link": "https://stackoverflow.com/users/7657749/jan-d-m"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1536247301, "post_id": 52206565, "comment_id": 91364012, "body": "I added a little example."}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1536247978, "post_id": 52206565, "comment_id": 91364432, "body": "Pretty weird that you said the word &quot;InkWell&quot; in your question and expected the InkWell widget as answer"}], "answers": [{"comments": [{"owner": {"reputation": 1314, "user_id": 7657749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66522a52b771a77d933f0323dd5e3cf0?s=128&d=identicon&r=PG&f=1", "display_name": "Jan D.M.", "link": "https://stackoverflow.com/users/7657749/jan-d-m"}, "edited": false, "score": 0, "creation_date": 1536247479, "post_id": 52207355, "comment_id": 91364133, "body": "Looks like the answer was not that difficult! Thank you!"}], "tags": [], "owner": {"reputation": 3308, "user_id": 7739426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbd2b5e1d3b50d481fe2adc74b5d987c?s=128&d=identicon&r=PG&f=1", "display_name": "Daniil Yakovlev", "link": "https://stackoverflow.com/users/7739426/daniil-yakovlev"}, "is_accepted": true, "score": 5, "last_activity_date": 1536247138, "creation_date": 1536247138, "answer_id": 52207355, "question_id": 52206565, "link": "https://stackoverflow.com/questions/52206565/how-to-make-a-card-widget-touchable-in-flutter/52207355#52207355", "title": "How to make a card widget touchable in Flutter?", "body": "<p>Use this</p>\n\n<pre><code>return Card(\n    child: InkWell(\n  onTap: () {},\n  onLongPress: () {}\n  child: Container(),\n));\n</code></pre>\n"}], "owner": {"reputation": 1314, "user_id": 7657749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66522a52b771a77d933f0323dd5e3cf0?s=128&d=identicon&r=PG&f=1", "display_name": "Jan D.M.", "link": "https://stackoverflow.com/users/7657749/jan-d-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1039, "favorite_count": 1, "accepted_answer_id": 52207355, "answer_count": 1, "score": 1, "last_activity_date": 1610197272, "creation_date": 1536244626, "last_edit_date": 1610197272, "question_id": 52206565, "link": "https://stackoverflow.com/questions/52206565/how-to-make-a-card-widget-touchable-in-flutter", "title": "How to make a card widget touchable in Flutter?", "body": "<p>I am currently making an app with lists of a <strong>Card</strong> widgets. This is a code snippet:</p>\n<pre><code>new GestureDetector(\n        onLongPress: () {\n          showAlert(); \n        //pops up an AlertDialog\n        },\n        child: new Card(child: new Text(&quot;Hello&quot;))\n)\n</code></pre>\n<p>Is it possible to make the Card widget touchable, so <strong>the user can feel/see that the card is (long)tapped?</strong> I am searching for an 'InkWell-something result'.</p>\n<p><em>Edit:</em> I want to have a splash effect on my Card widgets when I longpress them.\nAn example of the splash effect that I mean is given in the following GIF:</p>\n<p><a href=\"https://i.stack.imgur.com/nS3zx.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nS3zx.gif\" alt=\"enter image description here\" /></a></p>\n"}, {"tags": ["android", "ios", "dart", "flutter"], "comments": [{"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1536242958, "post_id": 52205982, "comment_id": 91361076, "body": "We need more code then that"}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 4704636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e34efce8e667e9d0b454337cd4b55b9?s=128&d=identicon&r=PG&f=1", "display_name": "iamnull90", "link": "https://stackoverflow.com/users/4704636/iamnull90"}, "edited": false, "score": 0, "creation_date": 1536243080, "post_id": 52206021, "comment_id": 91361178, "body": "So I get that - however - I&#39;m going to be passing in other tokens, such as a fiveQuantity or tenQuantity, so I&#39;m trying to make it dynamic and flexible. Is there a way around this?"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 59, "user_id": 4704636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e34efce8e667e9d0b454337cd4b55b9?s=128&d=identicon&r=PG&f=1", "display_name": "iamnull90", "link": "https://stackoverflow.com/users/4704636/iamnull90"}, "edited": false, "score": 0, "creation_date": 1536243711, "post_id": 52206021, "comment_id": 91361598, "body": "I don&#39;t really understand your question. I&#39;d just name <code>oneQuantity</code> <code>quantity</code> and move it to <code>RedeemTokens</code>. Pass the quantity to the constructor of <code>RedeemTokens</code> and access it from <code>_counterWidget</code> using <code>widget.quantity</code>."}, {"owner": {"reputation": 59, "user_id": 4704636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e34efce8e667e9d0b454337cd4b55b9?s=128&d=identicon&r=PG&f=1", "display_name": "iamnull90", "link": "https://stackoverflow.com/users/4704636/iamnull90"}, "edited": false, "score": 0, "creation_date": 1536244092, "post_id": 52206021, "comment_id": 91361854, "body": "Okay I&#39;ve made some additions to the code for more detail as to what I&#39;m doing. I&#39;m trying to create 3 different instances of _counterWidget that will update the state of the corresponding token. I guess I&#39;m just trying to avoid creating 3 unique types of _counterWidgets for each type of token. Does that make more sense?"}, {"owner": {"reputation": 59, "user_id": 4704636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e34efce8e667e9d0b454337cd4b55b9?s=128&d=identicon&r=PG&f=1", "display_name": "iamnull90", "link": "https://stackoverflow.com/users/4704636/iamnull90"}, "edited": false, "score": 0, "creation_date": 1536247184, "post_id": 52206021, "comment_id": 91363939, "body": "I appreciate the guidance!"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 59, "user_id": 4704636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e34efce8e667e9d0b454337cd4b55b9?s=128&d=identicon&r=PG&f=1", "display_name": "iamnull90", "link": "https://stackoverflow.com/users/4704636/iamnull90"}, "edited": false, "score": 2, "creation_date": 1536247793, "post_id": 52206021, "comment_id": 91364313, "body": "Feel free to ask if something in the code is unclear. <code>TokenType</code> is just an &quot;old-style&quot; enum that allows to set custom values instead of auto-increment. To make it easier to understand I added a <code>toString()</code> to the enum and a print statement in <code>setState</code>."}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 2, "last_activity_date": 1536247745, "last_edit_date": 1536247745, "creation_date": 1536242977, "answer_id": 52206021, "question_id": 52205982, "link": "https://stackoverflow.com/questions/52205982/flutter-stateful-widget-with-child-not-updating-state/52206021#52206021", "title": "Flutter stateful widget with child not updating state", "body": "<p>A generic solution could look like:</p>\n\n<p>Parent widget</p>\n\n<pre><code>class RedeemTokens extends StatefulWidget {\n  @override\n  RedeemTokensState createState() =&gt; RedeemTokensState();\n}\n\nclass RedeemTokensState extends State&lt;RedeemTokens&gt; {\n  final _quantities = new Map&lt;TokenType, int&gt;.fromIterable(TokenType.values,\n      key: (k) =&gt; k, value: (k) =&gt; 0);\n\n  Widget build(BuildContext context) {\n    final widgets = &lt;Widget&gt;[];\n    for (final type in _quantities.keys) {\n      widgets\n        ..add(\n          new TokenQuantity(\n              tokenType: type,\n              quantity: _quantities[type],\n              onQuantityUpdated: (newValue) {\n                setState(() {\n                  print('\\$${type.value}: $newValue');\n                  print(_quantities);\n                  _quantities[type] = newValue;\n                });\n              }),\n        )\n        ..add(Divider());\n    }\n\n    // widgets.add(_buildFreshConnectField());\n    return Card(\n      child: Container(\n        padding: EdgeInsets.all(10.0),\n        child: Column(\n          children: widgets,\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>Child widget added once per TokenType    </p>\n\n<pre><code>class TokenQuantity extends StatelessWidget {\n  const TokenQuantity(\n      {@required this.tokenType,\n      @required this.quantity,\n      this.onQuantityUpdated})\n      : assert(quantity != null);\n\n  final TokenType tokenType;\n  final int quantity;\n  final TokenQuantityUpdatedFn onQuantityUpdated;\n\n  Widget _counterWidget() {\n    return Row(\n      children: &lt;Widget&gt;[\n        Text('$quantity'),\n        Expanded(\n          child: IconButton(\n            icon: Icon(Icons.remove),\n            onPressed: () {\n              if (onQuantityUpdated != null) {\n                onQuantityUpdated(quantity - 1);\n              }\n            },\n          ),\n        ),\n      ],\n    );\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return ListTile(\n      title: Text('\\$${tokenType.value} Token'),\n      trailing: Container(width: 200.0, child: _counterWidget()),\n    );\n  }\n}\n</code></pre>\n\n<p>Typedef for the event callback</p>\n\n<pre><code>typedef TokenQuantityUpdatedFn = void Function(int newValue);\n</code></pre>\n\n<p>\"Old-style\" enum to be able to set custom values.</p>\n\n<pre><code>class TokenType {\n  static const one = const TokenType(1);\n  static const fife = const TokenType(5);\n  static const ten = const TokenType(10);\n\n  static const values = const &lt;TokenType&gt;[one, fife, ten];\n\n  final int value;\n  const TokenType(this.value);\n\n  @override\n  String toString() =&gt; 'TokenType $\\$value';\n}\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 4704636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e34efce8e667e9d0b454337cd4b55b9?s=128&d=identicon&r=PG&f=1", "display_name": "iamnull90", "link": "https://stackoverflow.com/users/4704636/iamnull90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2535, "favorite_count": 0, "accepted_answer_id": 52206021, "answer_count": 1, "score": 2, "last_activity_date": 1536247745, "creation_date": 1536242806, "last_edit_date": 1536243971, "question_id": 52205982, "link": "https://stackoverflow.com/questions/52205982/flutter-stateful-widget-with-child-not-updating-state", "title": "Flutter stateful widget with child not updating state", "body": "<p>I'm working on a part of an app that will essentially just be keeping track of physical tokens that are like forms of currency. I'm trying to build a reusable Widget that will take in the state of that token quantity as a parameter, and increment/decrement that based on user interaction. For the sake of clarity, I've just included the decrement part of the Widget. My question: is the state of the token  that is getting passed into the widget not updating because it's just a reference to that state? Or am I missing something else. </p>\n\n<pre><code>    class RedeemTokensState extends State&lt;RedeemTokens&gt; {\n      int oneQuantity = 0;\n      int fiveQuantity = 0;\n      int tenQuantity = 0;\n      int total = 0;\n\n    Widget _counterWidget(int tokenQuantity) {\n        return Row(\n          children: &lt;Widget&gt;[\n            Expanded(\n              child: IconButton(\n                icon: Icon(Icons.remove),\n                onPressed: () {\n                  setState(() {\n                    tokenQuantity = tokenQuantity - 1;\n                    print(tokenQuantity);\n                  });\n                },\n              ),\n            ),\n    ),\n    }\n\n     Widget _buildOneField() {\n    return ListTile(\n      title: Text('\\$1 Token'),\n      trailing: Container(width: 200.0, child: _counterWidget(oneQuantity)),\n    );\n  }\n\n  Widget _buildFiveField() {\n    return ListTile(\n      title: Text('\\$5 Token'),\n      trailing: Container(width: 200.0, child: _counterWidget(fiveQuantity)),\n    );\n  }\n\n  Widget _buildTenField() {\n    return ListTile(\n      title: Text('\\$10 Token'),\n      trailing: Container(width: 200.0, child: _counterWidget(tenQuantity)),\n    );\n  }\n\n    } \n\n\n    // main scaffold with build method\n     ... Card(\n              child: Container(\n                padding: EdgeInsets.all(10.0),\n                child: Column(\n                  children: &lt;Widget&gt;[\n                    _buildOneField(),\n                    Divider(),\n                    _buildFiveField(),\n                    Divider(),\n                    _buildTenField(),\n                    Divider(),\n                    _buildFreshConnectField(),\n                  ],\n                ),\n              ),\n            ), \n</code></pre>\n"}, {"tags": ["android", "ios", "mobile", "dart", "flutter"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536234062, "post_id": 52203271, "comment_id": 91355466, "body": "&quot;Sadly I cannot provide the code because is for a customer&quot; I can&#39;t imagine that to be the case. Nobody would bother to look at concrete project code anyway. What is required is a minimal reproduction. Creating such would probably be a great idea anyway because it most likely would reveal the bug in your code automatically."}, {"owner": {"reputation": 43, "user_id": 9652508, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Omar Ayala", "link": "https://stackoverflow.com/users/9652508/omar-ayala"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536237062, "post_id": 52203271, "comment_id": 91357366, "body": "@G&#252;nter Z&#246;chbaue I have provided an small example. I hope it may help."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 9652508, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Omar Ayala", "link": "https://stackoverflow.com/users/9652508/omar-ayala"}, "edited": false, "score": 0, "creation_date": 1536236961, "post_id": 52203546, "comment_id": 91357318, "body": "Thanks for the comment but I am trying to use the global key from my reducer in order to show the snackbar/toast when an async action is executed."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1536237385, "post_id": 52203546, "comment_id": 91357563, "body": "Actually I think it&#39;s quite a bad idea to access the view from a reducer. The reducer should just update the store. The view should subscribe to store changes and then update the view accordingly."}], "tags": [], "owner": {"reputation": 893, "user_id": 6891547, "user_type": "registered", "profile_image": "https://graph.facebook.com/1159856220755668/picture?type=large", "display_name": "Vinod Makode", "link": "https://stackoverflow.com/users/6891547/vinod-makode"}, "is_accepted": false, "score": 1, "last_activity_date": 1536234922, "creation_date": 1536234922, "answer_id": 52203546, "question_id": 52203271, "link": "https://stackoverflow.com/questions/52203271/flutter-trying-to-get-the-scaffold-of-a-widget-context-from-reducer/52203546#52203546", "title": "Flutter - Trying to get the scaffold of a widget context from reducer", "body": "<p>I little-bit understand your problem. you are getting problem to show snack toast on view so I have share code to implementing snack bar. </p>\n\n<pre><code>class AprovedScreenState extends State&lt;AprovedScreen&gt; {\n BuildContext buildContext;\n final key = new GlobalKey&lt;ScaffoldState&gt;();\nvoid navigationPage() {\n key.currentState.showSnackBar(new SnackBar(\n  content: new Text(\"Sending Message\"),\n));\n</code></pre>\n\n<p>write key code in scaffold method like below:</p>\n\n<pre><code> @override\nWidget build(BuildContext context) {\n// TODO: implement build\nbuildContext = context;\nreturn new Scaffold(\n  key: key,\n)}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 9652508, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Omar Ayala", "link": "https://stackoverflow.com/users/9652508/omar-ayala"}, "is_accepted": false, "score": 0, "last_activity_date": 1536668376, "creation_date": 1536668376, "answer_id": 52275796, "question_id": 52203271, "link": "https://stackoverflow.com/questions/52203271/flutter-trying-to-get-the-scaffold-of-a-widget-context-from-reducer/52275796#52275796", "title": "Flutter - Trying to get the scaffold of a widget context from reducer", "body": "<p>Finally I decided to follow @G\u00fcnter Z\u00f6chbauer advice and to put the Scaffold into a store conector so when the store is updated I check the value of the store and due that changing the page.</p>\n"}], "owner": {"reputation": 43, "user_id": 9652508, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Omar Ayala", "link": "https://stackoverflow.com/users/9652508/omar-ayala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2162, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1536668376, "creation_date": 1536233933, "last_edit_date": 1536238959, "question_id": 52203271, "link": "https://stackoverflow.com/questions/52203271/flutter-trying-to-get-the-scaffold-of-a-widget-context-from-reducer", "title": "Flutter - Trying to get the scaffold of a widget context from reducer", "body": "<p>I am hitting a wall since I am trying use the context (to call a snackbar when the async action is done) of a widget from a reducer.</p>\n\n<p>I have tried using GlobalKey, but when I get such key and I try to use the context of it to call the widget Scaffold it throws an error which says there is no Scaffold for such context, when there is infact.</p>\n\n<p>Sadly I cannot provide the code because is for a customer and the code cannot be shown, but I can provide you with the details if it is needed.</p>\n\n<p>The snackbar/toast itself is not that important, but if the context of a widget \ncannot be get from the reducer would be and important issue in the future.</p>\n\n<p>Thanks</p>\n\n<p>EDIT:\nHere is a reproduce of the code as @G\u00fcnter Z\u00f6chbauer has suggested:</p>\n\n<p>-keys file</p>\n\n<pre><code>import 'package:flutter/widgets.dart';\n\nclass Keys {\n\n  static final GlobalKey&lt;MyWidgetState&gt; myWidgetStateKey = new \n   GlobalKey&lt;MyWidgetState&gt;();\n}\n</code></pre>\n\n<p>-Widget file</p>\n\n<pre><code>import 'package:myapp/keys.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_redux/flutter_redux.dart';\n\nclass MyPage extends StatefulWidget{\n\n @override\n MyPageState createState()=&gt;new MyPageState();\n}\n\nclass MyPageState extends State&lt;MyPage&gt;{\n\n @override\n Widget build(BuildContext conext){\n\n   return new Scaffold(\n     key: Keys.myWidgetStateKey,\n     appBar:new AppBar(\n       title:new Text(\"My app bar\")\n     ),\n     body: new Text(\"My app body\")\n   );\n  }\n }\n</code></pre>\n\n<p>-Reducer file</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:casinoadmiralapp/appState.dart';\nimport 'package:casinoadmiralapp/actions.dart';\nimport 'package:casinoadmiralapp/keys.dart';\n\nAppState reducer(AppState state,action){\n\n  BuildContext context = Keys.myWidgetStateKey.currentContext;\n\n  if(action is TheAction){\n\n   Scaffold.of(context).showSnackBar(\n    new SnackBar(\n      content:new Text(\"You have done an action\"),\n      action: new SnackBarAction(\n        label: \"UNDO\",\n        onPressed: () =&gt; Scaffold.of( context ).hideCurrentSnackBar(),\n      ),\n    )\n   );\n\n  }\n}\n</code></pre>\n"}]