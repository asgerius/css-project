[{"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 159093, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1516811810, "post_id": 48424076, "comment_id": 83845089, "body": "Edited my post for your bonus point"}], "answers": [{"tags": [], "owner": {"reputation": 159093, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "is_accepted": true, "score": 18, "last_activity_date": 1516811789, "last_edit_date": 1516811789, "creation_date": 1516804322, "answer_id": 48424909, "question_id": 48424076, "link": "https://stackoverflow.com/questions/48424076/how-to-set-a-different-theme-for-a-screen/48424909#48424909", "title": "How to set a different theme for a screen?", "body": "<p>You can override the current theme by wrapping the desired widget in a <a href=\"https://docs.flutter.io/flutter/material/Theme-class.html\" rel=\"noreferrer\"><code>Theme</code></a> widget</p>\n\n<p>Typically you'd have something similar to : </p>\n\n<pre><code>class CustomAppBar extends StatelessWidget implements PreferredSizeWidget {\n  final AppBar appBar;\n\n  CustomAppBar(): appBar = new AppBar();\n\n  @override\n  Widget build(BuildContext context) {\n    return new Theme(\n      child: appBar,\n      data: new ThemeData.dark()\n    );\n  }\n\n  @override\n  Size get preferredSize =&gt; appBar.preferredSize;\n}\n</code></pre>\n\n<p>Had to make a custom class because <code>Scaffold</code> requires a <code>PreferredSizeWidget</code>.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>To answer your \"Bonus Point\", it's dead simple.</p>\n\n<p>Instead of wrapping the <code>AppBar</code> in a <code>Theme</code>, wrap the <code>Scaffold</code> instead. </p>\n"}], "owner": {"reputation": 2439, "user_id": 1016472, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1331172495/picture?type=large", "display_name": "Ralph Bergmann", "link": "https://stackoverflow.com/users/1016472/ralph-bergmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5026, "favorite_count": 2, "accepted_answer_id": 48424909, "answer_count": 1, "score": 7, "last_activity_date": 1516811789, "creation_date": 1516801723, "last_edit_date": 1516806617, "question_id": 48424076, "link": "https://stackoverflow.com/questions/48424076/how-to-set-a-different-theme-for-a-screen", "title": "How to set a different theme for a screen?", "body": "<p>I created the <a href=\"https://codelabs.developers.google.com/codelabs/flutter/index.html\" rel=\"noreferrer\">Friendly Chat app</a> and want to add a new screen with a different theme but it doesn't work :-(</p>\n\n<p>The whole app has a <code>Brightness.dark</code> theme:</p>\n\n<pre><code>void main() =&gt; runApp(new MyApp());\n\nclass MyApp extends StatelessWidget {\n\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    print(\"build MaterialApp\");\n    return new MaterialApp(\n      title: 'Friendly Chat',\n      theme: kTheme,\n      home: new ChatScreen(),\n      routes: &lt;String, WidgetBuilder&gt;{\n        SettingsScreen.PATH: (BuildContext context) =&gt; new SettingsScreen()\n      },\n    );\n  }\n}\n\nfinal ThemeData kTheme = new ThemeData(\n  primarySwatch: Colors.indigo,\n  primaryColor: Colors.indigoAccent[100],\n  primaryColorBrightness: Brightness.dark,\n);\n</code></pre>\n\n<p>When the user clicks a button I push the settings screen:</p>\n\n<pre><code>Map results = await Navigator.of(context).pushNamed(SettingsScreen.PATH);\n</code></pre>\n\n<p>In the settings screen I change the <code>AppBar</code>'s <code>backgroundColor</code> and <code>brightness</code> but the new/different <code>brightness</code> has no effect (changing the <code>backgroundColor</code> works)</p>\n\n<pre><code>class SettingsScreen extends StatefulWidget {\n\n  @override\n  State createState() =&gt; new SettingsScreenState();\n}\n\nclass SettingsScreenState extends State&lt;SettingsScreen&gt; {\n\n  @override\n  Widget build(BuildContext context) {\n    return new WillPopScope(\n      onWillPop: _onWillPop,\n      child: new Scaffold(\n        appBar: new AppBar(\n          title: new Text(\"Settings\"),\n          backgroundColor: Colors.amberAccent[700],\n          brightness: Brightness.light,\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>How can I change the settings screen AppBar theme to a light one?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>At the end I want:</p>\n\n<ul>\n<li><p>all screens have a dark AppBar background color with white title and icons</p></li>\n<li><p>settings screen (only) has a light AppBar background color with dark title and icons</p></li>\n</ul>\n\n<p><strong>Bonus points:</strong> How to set a different theme for the whole screen and not only for the AppBar</p>\n"}, {"tags": ["dart"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1516788481, "post_id": 48413591, "comment_id": 83829075, "body": "I&#39;m using Dart since 2013 and I can&#39;t remember seeing such code. Where did you import it from?"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1516788934, "post_id": 48413591, "comment_id": 83829366, "body": "The closest to the code you mention from the <a href=\"https://pub.dartlang.org/packages/test\" rel=\"nofollow noreferrer\">pub.dartlang.org/packages/test</a> package."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1516789020, "post_id": 48413591, "comment_id": 83829428, "body": "To 2) Just update the code or use a mature language like Jave where only very little changes over the years anymore."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1516789292, "post_id": 48413591, "comment_id": 83829622, "body": "The things you mention are about 5 years old, the language was in very early stage (pre alpha) back then. It was clearly communicated back then that breaking chages are to be expected, not at least by semantic versioning and the used version numbers."}], "answers": [{"tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": false, "score": 4, "last_activity_date": 1516794842, "last_edit_date": 1516794842, "creation_date": 1516794455, "answer_id": 48421780, "question_id": 48413591, "link": "https://stackoverflow.com/questions/48413591/what-happened-to-darts-expect/48421780#48421780", "title": "What happened to Dart&#39;s Expect?", "body": "<p>The <code>Expect</code> class still exists in the \"expect\" package in the <code>pkg/expect</code> directory of the Dart repository. It was built as an internal test tool for the Dart project, and it has never been <a href=\"https://pub.dartlang.org/packages?q=expect\" rel=\"nofollow noreferrer\">released on pub</a>. The class was part of <code>dart:core</code> before the Dart 1.0 release, and was removed in April 2013 (<a href=\"https://github.com/dart-lang/sdk/commit/343fa26d653379872ce754bf39a1c26985467347\" rel=\"nofollow noreferrer\">commit</a>), which predates the changelog.</p>\n\n<p>It's a deliberately simple helper package because it is used to test the language and platform itself. A bug in the platform can make the test package fail and hide the bug, so the fewer features the test framework uses, the more trustworthy the platform tests are. \nThere are a few parts of the expect package that are particular to testing Dart implementations (some annotations used by dart2js).</p>\n\n<p>When you are not building a Dart platform, you should be able to use the <a href=\"https://pub.dartlang.org/packages/test\" rel=\"nofollow noreferrer\">test package</a>. It has many more features and better usability, and you won't have to worry about it not working because of you introducing bugs into the platform.</p>\n\n<p>If you want to use the expect package, you still can (it's open source), but it's not intended or supported for end-users.</p>\n"}], "owner": {"reputation": 943, "user_id": 154079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8538b3aaeb04c0bb2e2562a7caee6d1c?s=128&d=identicon&r=PG", "display_name": "Neil Fraser", "link": "https://stackoverflow.com/users/154079/neil-fraser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1516794842, "creation_date": 1516758103, "question_id": 48413591, "link": "https://stackoverflow.com/questions/48413591/what-happened-to-darts-expect", "title": "What happened to Dart&#39;s Expect?", "body": "<p>Some Dart code I'm maintaining uses Expect.equals, Expect.isTrue, and others.  Expect no longer appears to be part of Dart.  There is no mention of its disappearance in <a href=\"https://github.com/dart-lang/sdk/blob/master/CHANGELOG.md\" rel=\"nofollow noreferrer\">the changelog</a>.  Questions:</p>\n\n<ol>\n<li>Where should I be looking when there is a breaking change such as this?</li>\n<li>Every year for the past five years all my Dart applications stop compiling as a result of core language changes (like string concatenation being removed, or dart:uri disappearing).  How do Dart programmers handle this?</li>\n</ol>\n"}, {"tags": ["gridview", "dart", "height", "flutter"], "comments": [{"owner": {"reputation": 10915, "user_id": 5376789, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6715b3506c7312f63950450070ed8345?s=128&d=identicon&r=PG&f=1", "display_name": "xskxzr", "link": "https://stackoverflow.com/users/5376789/xskxzr"}, "edited": false, "score": 3, "creation_date": 1516722228, "post_id": 48405123, "comment_id": 83799868, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44741335/gridview-containing-cards-doesnt-calculate-height-correctly\">GridView containing Cards doesn&#39;t calculate height correctly</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1010, "user_id": 7370876, "user_type": "registered", "profile_image": "https://graph.facebook.com/1410113292341710/picture?type=large", "display_name": "Dhruvam Sharma", "link": "https://stackoverflow.com/users/7370876/dhruvam-sharma"}, "edited": false, "score": 0, "creation_date": 1579680095, "post_id": 48410521, "comment_id": 105842350, "body": "Thanks for answer. Saved me an hour"}, {"owner": {"reputation": 6021, "user_id": 1134192, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/2FKNr.jpg?s=128&g=1", "display_name": "Oliver Dixon", "link": "https://stackoverflow.com/users/1134192/oliver-dixon"}, "edited": false, "score": 0, "creation_date": 1599038861, "post_id": 48410521, "comment_id": 112646983, "body": "The GridView doesn&#39;t have the property childAspectRatio unless you&#39;re doing the count way :-/"}, {"owner": {"reputation": 2540, "user_id": 1508887, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dcab98a7cbe42c1d6d010c61beab5041?s=128&d=identicon&r=PG", "display_name": "Fifer Sheep", "link": "https://stackoverflow.com/users/1508887/fifer-sheep"}, "reply_to_user": {"reputation": 6021, "user_id": 1134192, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/2FKNr.jpg?s=128&g=1", "display_name": "Oliver Dixon", "link": "https://stackoverflow.com/users/1134192/oliver-dixon"}, "edited": false, "score": 4, "creation_date": 1599338815, "post_id": 48410521, "comment_id": 112746297, "body": "@OliverDixon if you&#39;re using <code>GridView.builder</code> and <code>SliverGridDelegateWithFixedCrossAxisCount</code> then <code>childAspectRatio</code> is on the <code>gridDelegate</code>"}, {"owner": {"reputation": 1324, "user_id": 4858133, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Z3Gih.jpg?s=128&g=1", "display_name": "Dani", "link": "https://stackoverflow.com/users/4858133/dani"}, "edited": false, "score": 7, "creation_date": 1602493716, "post_id": 48410521, "comment_id": 113727703, "body": "how to make this height dynamic?"}], "tags": [], "owner": {"reputation": 3892, "user_id": 4359492, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh5.googleusercontent.com/-bItm3-ieAtU/AAAAAAAAAAI/AAAAAAAAAH8/gizqGXoq7rs/photo.jpg?sz=128", "display_name": "Razvan Cristian Lung", "link": "https://stackoverflow.com/users/4359492/razvan-cristian-lung"}, "is_accepted": true, "score": 193, "last_activity_date": 1563886599, "last_edit_date": 1563886599, "creation_date": 1516740408, "answer_id": 48410521, "question_id": 48405123, "link": "https://stackoverflow.com/questions/48405123/how-to-set-custom-height-for-widget-in-gridview-in-flutter/48410521#48410521", "title": "How to set Custom height for Widget in GridView in Flutter?", "body": "<p>The key is the <code>childAspectRatio</code>. This value is use to determine the layout in <code>GridView</code>. In order to get the desired aspect you have to set it to the (<code>itemWidth</code> / <code>itemHeight</code>). The solution would be this:</p>\n\n<pre><code>class MyHomePage extends StatefulWidget {\n  MyHomePage({Key key, this.title}) : super(key: key);\n\n  final String title;\n\n  @override\n  _MyHomePageState createState() =&gt; new _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  List&lt;String&gt; widgetList = ['A', 'B', 'C'];\n\n  @override\n  Widget build(BuildContext context) {\n    var size = MediaQuery.of(context).size;\n\n    /*24 is for notification bar on Android*/\n    final double itemHeight = (size.height - kToolbarHeight - 24) / 2;\n    final double itemWidth = size.width / 2;\n\n    return new Scaffold(\n      appBar: new AppBar(\n        title: new Text(widget.title),\n      ),\n      body: new Container(\n        child: new GridView.count(\n          crossAxisCount: 2,\n          childAspectRatio: (itemWidth / itemHeight),\n          controller: new ScrollController(keepScrollOffset: false),\n          shrinkWrap: true,\n          scrollDirection: Axis.vertical,\n          children: widgetList.map((String value) {\n            return new Container(\n              color: Colors.green,\n              margin: new EdgeInsets.all(1.0),\n              child: new Center(\n                child: new Text(\n                  value,\n                  style: new TextStyle(\n                    fontSize: 50.0,\n                    color: Colors.white,\n                  ),\n                ),\n              ),\n            );\n          }).toList(),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 885, "user_id": 6744309, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh4.googleusercontent.com/-tQAOMTpSTTU/AAAAAAAAAAI/AAAAAAAAABY/A1YqSem_VsI/photo.jpg?sz=128", "display_name": "Nicholas Jela", "link": "https://stackoverflow.com/users/6744309/nicholas-jela"}, "edited": false, "score": 0, "creation_date": 1615604242, "post_id": 54059826, "comment_id": 117750008, "body": "staggeredTiles is not defined Sir."}, {"owner": {"reputation": 13728, "user_id": 3675035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2PXUu.jpg?s=128&g=1", "display_name": "Blasanka", "link": "https://stackoverflow.com/users/3675035/blasanka"}, "reply_to_user": {"reputation": 885, "user_id": 6744309, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh4.googleusercontent.com/-tQAOMTpSTTU/AAAAAAAAAAI/AAAAAAAAABY/A1YqSem_VsI/photo.jpg?sz=128", "display_name": "Nicholas Jela", "link": "https://stackoverflow.com/users/6744309/nicholas-jela"}, "edited": false, "score": 0, "creation_date": 1615609471, "post_id": 54059826, "comment_id": 117750644, "body": "@NicholasJela syntax may have been changed in latest package. Checkout examples for latest: <a href=\"https://github.com/letsar/flutter_staggered_grid_view/tree/master/example/lib\" rel=\"nofollow noreferrer\">github.com/letsar/flutter_staggered_grid_view/tree/master/&hellip;</a>"}], "tags": [], "owner": {"reputation": 13728, "user_id": 3675035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2PXUu.jpg?s=128&g=1", "display_name": "Blasanka", "link": "https://stackoverflow.com/users/3675035/blasanka"}, "is_accepted": false, "score": 22, "last_activity_date": 1546762941, "creation_date": 1546762941, "answer_id": 54059826, "question_id": 48405123, "link": "https://stackoverflow.com/questions/48405123/how-to-set-custom-height-for-widget-in-gridview-in-flutter/54059826#54059826", "title": "How to set Custom height for Widget in GridView in Flutter?", "body": "<p>Few days ago I came here to find a way to dynamically change height when images are loaded from internet and using <code>childAspectRatio</code> cannot do that because its apply to all widget in GridView(same height for each).</p>\n\n<p>This answer may help someone who want different height according to each and every widget content:</p>\n\n<p>I found a package called <a href=\"https://pub.dartlang.org/packages/flutter_staggered_grid_view\" rel=\"noreferrer\">Flutter Staggered GridView by Romain Rastel</a>. Using this package we can do so many things check examples here.</p>\n\n<p>To get what we want we can use <code>StaggeredGridView.count()</code> and its property <code>staggeredTiles:</code> and for its value you can map all widget and apply <code>StaggeredTile.fit(2)</code>.</p>\n\n<p>Example code:</p>\n\n<pre><code>StaggeredGridView.count(\n    crossAxisCount: 4, // I only need two card horizontally\n    padding: const EdgeInsets.all(2.0),\n    children: yourList.map&lt;Widget&gt;((item) {\n      //Do you need to go somewhere when you tap on this card, wrap using InkWell and add your route\n      return new Card(\n        child: Column(\n          children: &lt;Widget&gt;[\n             Image.network(item.yourImage),\n             Text(yourList.yourText),//may be the structure of your data is different\n          ],\n        ),\n      );\n    }).toList(),\n\n    //Here is the place that we are getting flexible/ dynamic card for various images\n    staggeredTiles: yourList.map&lt;StaggeredTile&gt;((_) =&gt; StaggeredTile.fit(2))\n        .toList(),\n    mainAxisSpacing: 3.0,\n    crossAxisSpacing: 4.0, // add some space\n  ),\n);\n</code></pre>\n\n<p>You can find complete example(copy,paste and run) <a href=\"https://gist.github.com/Blasanka/cc46130f325587a9987371b3883f6202\" rel=\"noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 103440, "user_id": 6618622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z7q0p.jpg?s=128&g=1", "display_name": "CopsOnRoad", "link": "https://stackoverflow.com/users/6618622/copsonroad"}, "is_accepted": false, "score": 12, "last_activity_date": 1564287570, "creation_date": 1564287570, "answer_id": 57237907, "question_id": 48405123, "link": "https://stackoverflow.com/questions/48405123/how-to-set-custom-height-for-widget-in-gridview-in-flutter/57237907#57237907", "title": "How to set Custom height for Widget in GridView in Flutter?", "body": "<p><code>crossAxisCount</code>, <code>crossAxisSpacing</code> and screen width determine <code>width</code>, and  <code>childAspectRatio</code> determines <code>height</code>. </p>\n\n<p>I did bit of calculation to figure out relation between them. </p>\n\n<pre><code>var width = (screenWidth - ((_crossAxisCount - 1) * _crossAxisSpacing)) / _crossAxisCount;\nvar height = width / _aspectRatio;\n</code></pre>\n\n<hr>\n\n<p>Full example: </p>\n\n<pre><code>double _crossAxisSpacing = 8, _mainAxisSpacing = 12, _aspectRatio = 2;\nint _crossAxisCount = 2;\n\n@override\nWidget build(BuildContext context) {\n  double screenWidth = MediaQuery.of(context).size.width;\n\n  var width = (screenWidth - ((_crossAxisCount - 1) * _crossAxisSpacing)) / _crossAxisCount;\n  var height = width / _aspectRatio;\n\n  return Scaffold(\n    body: GridView.builder(\n      itemCount: 10,\n      itemBuilder: (context, index) =&gt; Container(color: Colors.blue[((index) % 9) * 100]),\n      gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(\n        crossAxisCount: _crossAxisCount,\n        crossAxisSpacing: _crossAxisSpacing,\n        mainAxisSpacing: _mainAxisSpacing,\n        childAspectRatio: _aspectRatio,\n      ),\n    ),\n  );\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 121, "user_id": 2667957, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vK53w.png?s=128&g=1", "display_name": "Rakesh Ghasadiya", "link": "https://stackoverflow.com/users/2667957/rakesh-ghasadiya"}, "is_accepted": false, "score": 8, "last_activity_date": 1585541511, "creation_date": 1585541511, "answer_id": 60923954, "question_id": 48405123, "link": "https://stackoverflow.com/questions/48405123/how-to-set-custom-height-for-widget-in-gridview-in-flutter/60923954#60923954", "title": "How to set Custom height for Widget in GridView in Flutter?", "body": "<p><a href=\"https://i.stack.imgur.com/QcOvA.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/QcOvA.png\" alt=\"enter image description here\"></a></p>\n\n<p>It's working for me. </p>\n\n<p>Example code:</p>\n\n<pre><code>var _crossAxisSpacing = 8;\nvar _screenWidth = MediaQuery.of(context).size.width;\nvar _crossAxisCount = 2;\nvar _width = ( _screenWidth - ((_crossAxisCount - 1) * _crossAxisSpacing)) / _crossAxisCount;\nvar cellHeight = 60;\nvar _aspectRatio = _width /cellHeight;\n</code></pre>\n\n<p>GridView: </p>\n\n<pre><code>         GridView.builder(\n                          padding: EdgeInsets.only(\n                              left: 5.0, right: 5.0, top: 10, bottom: 10),\n                          shrinkWrap: false,\n                          itemCount: searchList.length,\n                          gridDelegate:\n                              SliverGridDelegateWithFixedCrossAxisCount(crossAxisCount: _crossAxisCount,childAspectRatio: _aspectRatio),\n                          itemBuilder: (context, index) {\n                            final item = searchList[index];\n                            return Card(\n                              child: ListTile(\n                                title: Text(item.name,maxLines: 1,overflow: TextOverflow.ellipsis),\n                                trailing: Container(\n                                  width: 15,\n                                  height: 15,\n                                  decoration: BoxDecoration(\n                                      color: item.isActive == true\n                                          ? Theme.of(context).primaryColor\n                                          : Colors.red,\n                                      borderRadius: BorderRadius.all(\n                                          Radius.circular(50))),\n                                ),\n                                onTap: () {\n\n                                },\n                              ),\n                              elevation: 0.5,\n                            );\n                          },\n                        ) \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1158, "user_id": 614026, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YQOXY.jpg?s=128&g=1", "display_name": "temirbek", "link": "https://stackoverflow.com/users/614026/temirbek"}, "edited": false, "score": 0, "creation_date": 1617019609, "post_id": 66104713, "comment_id": 118175191, "body": "I wouldn&#39;t say it&#39;s simplest"}], "tags": [], "owner": {"reputation": 918, "user_id": 327447, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c6c2147cfc19a610e1e0b0c864ea806?s=128&d=identicon&r=PG", "display_name": "jdixon04", "link": "https://stackoverflow.com/users/327447/jdixon04"}, "is_accepted": false, "score": 4, "last_activity_date": 1612798849, "creation_date": 1612798849, "answer_id": 66104713, "question_id": 48405123, "link": "https://stackoverflow.com/questions/48405123/how-to-set-custom-height-for-widget-in-gridview-in-flutter/66104713#66104713", "title": "How to set Custom height for Widget in GridView in Flutter?", "body": "<p>All credit goes to @ayRatul on Github for <a href=\"https://github.com/flutter/flutter/issues/55290#issuecomment-703117248\" rel=\"nofollow noreferrer\">this answer</a>, which is by far the best and simplest I've seen to achieve a fixed item height in a <code>GridView</code>:</p>\n<p>Create your own custom delegate:</p>\n<pre><code>class SliverGridDelegateWithFixedCrossAxisCountAndFixedHeight\n    extends SliverGridDelegate {\n  /// Creates a delegate that makes grid layouts with a fixed number of tiles in\n  /// the cross axis.\n  ///\n  /// All of the arguments must not be null. The `mainAxisSpacing` and\n  /// `crossAxisSpacing` arguments must not be negative. The `crossAxisCount`\n  /// and `childAspectRatio` arguments must be greater than zero.\n  const SliverGridDelegateWithFixedCrossAxisCountAndFixedHeight({\n    @required this.crossAxisCount,\n    this.mainAxisSpacing = 0.0,\n    this.crossAxisSpacing = 0.0,\n    this.height = 56.0,\n  })  : assert(crossAxisCount != null &amp;&amp; crossAxisCount &gt; 0),\n        assert(mainAxisSpacing != null &amp;&amp; mainAxisSpacing &gt;= 0),\n        assert(crossAxisSpacing != null &amp;&amp; crossAxisSpacing &gt;= 0),\n        assert(height != null &amp;&amp; height &gt; 0);\n\n  /// The number of children in the cross axis.\n  final int crossAxisCount;\n\n  /// The number of logical pixels between each child along the main axis.\n  final double mainAxisSpacing;\n\n  /// The number of logical pixels between each child along the cross axis.\n  final double crossAxisSpacing;\n\n  /// The height of the crossAxis.\n  final double height;\n\n  bool _debugAssertIsValid() {\n    assert(crossAxisCount &gt; 0);\n    assert(mainAxisSpacing &gt;= 0.0);\n    assert(crossAxisSpacing &gt;= 0.0);\n    assert(height &gt; 0.0);\n    return true;\n  }\n\n  @override\n  SliverGridLayout getLayout(SliverConstraints constraints) {\n    assert(_debugAssertIsValid());\n    final double usableCrossAxisExtent =\n        constraints.crossAxisExtent - crossAxisSpacing * (crossAxisCount - 1);\n    final double childCrossAxisExtent = usableCrossAxisExtent / crossAxisCount;\n    final double childMainAxisExtent = height;\n    return SliverGridRegularTileLayout(\n      crossAxisCount: crossAxisCount,\n      mainAxisStride: childMainAxisExtent + mainAxisSpacing,\n      crossAxisStride: childCrossAxisExtent + crossAxisSpacing,\n      childMainAxisExtent: childMainAxisExtent,\n      childCrossAxisExtent: childCrossAxisExtent,\n      reverseCrossAxis: axisDirectionIsReversed(constraints.crossAxisDirection),\n    );\n  }\n\n  @override\n  bool shouldRelayout(\n      SliverGridDelegateWithFixedCrossAxisCountAndFixedHeight oldDelegate) {\n    return oldDelegate.crossAxisCount != crossAxisCount ||\n        oldDelegate.mainAxisSpacing != mainAxisSpacing ||\n        oldDelegate.crossAxisSpacing != crossAxisSpacing ||\n        oldDelegate.height != height;\n  }\n}\n</code></pre>\n<p>You can then use your custom delegate as so:</p>\n<pre><code>...\nGridView.builder(\n            shrinkWrap: true,\n            itemCount: list.length,\n            gridDelegate: SliverGridDelegateWithFixedCrossAxisCountAndFixedHeight(\n                crossAxisCount: 5,\n                crossAxisSpacing: 5,\n                mainAxisSpacing: 5,\n                height: 48.0, //48 dp of height \n...\n</code></pre>\n"}], "owner": {"reputation": 9045, "user_id": 2868455, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vonDn.png?s=128&g=1", "display_name": "Ajay Kumar", "link": "https://stackoverflow.com/users/2868455/ajay-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101045, "favorite_count": 26, "accepted_answer_id": 48410521, "answer_count": 5, "score": 113, "last_activity_date": 1612798849, "creation_date": 1516720784, "last_edit_date": 1517117534, "question_id": 48405123, "link": "https://stackoverflow.com/questions/48405123/how-to-set-custom-height-for-widget-in-gridview-in-flutter", "title": "How to set Custom height for Widget in GridView in Flutter?", "body": "<p>Even after specifying the height for Container GridView, my code is producing square widgets.</p>\n\n<pre><code>class MyHomePage extends StatefulWidget {\n  MyHomePage({Key key, this.title}) : super(key: key);\n\n  final String title;\n\n  @override\n  _MyHomePageState createState() =&gt; new _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  List&lt;String&gt; widgetList = ['A', 'B', 'C'];\n\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      appBar: new AppBar(\n        title: new Text(widget.title),\n      ),\n      body: new Container(\n        child: new GridView.count(\n          crossAxisCount: 2,\n          controller: new ScrollController(keepScrollOffset: false),\n          shrinkWrap: true,\n          scrollDirection: Axis.vertical,\n          children: widgetList.map((String value) {\n            return new Container(\n              height: 250.0,\n              color: Colors.green,\n              margin: new EdgeInsets.all(1.0),\n              child: new Center(\n                child: new Text(\n                  value,\n                  style: new TextStyle(fontSize: 50.0,color: Colors.white),\n                ),\n              ),\n            );\n          }).toList(),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>The output of the code above is as shown on the left. How can I get a GridView with custom height widget as shown on the right?</p>\n\n<p><a href=\"https://i.stack.imgur.com/5eaSYm.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5eaSYm.png\" alt=\"output\"></a>\n<a href=\"https://i.stack.imgur.com/SCZeOm.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SCZeOm.png\" alt=\"Required Output\"></a></p>\n"}, {"tags": ["android", "ios", "flutter", "dart", "firebase-cloud-messaging"], "comments": [{"owner": {"reputation": 476, "user_id": 6204064, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/233265043727921/picture?type=large", "display_name": "Mikel Tawfik", "link": "https://stackoverflow.com/users/6204064/mikel-tawfik"}, "edited": false, "score": 0, "creation_date": 1568705905, "post_id": 48403786, "comment_id": 102349093, "body": "did fix it , i have same problem"}], "answers": [{"comments": [{"owner": {"reputation": 1947, "user_id": 7114470, "user_type": "registered", "accept_rate": 47, "profile_image": "https://lh5.googleusercontent.com/-QpwskthPCBg/AAAAAAAAAAI/AAAAAAAAA8I/31O3ypPHSiQ/photo.jpg?sz=128", "display_name": "siva kumar", "link": "https://stackoverflow.com/users/7114470/siva-kumar"}, "edited": false, "score": 3, "creation_date": 1516797179, "post_id": 48405551, "comment_id": 83834535, "body": "here I can get the message as you said in on message when my app is in foreground    but my question is how to catch click event from push notification raised in system tray and navigate to required screen"}, {"owner": {"reputation": 2766, "user_id": 501759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a64492e790f89014e1730a8118664bf3?s=128&d=identicon&r=PG", "display_name": "xqwzts", "link": "https://stackoverflow.com/users/501759/xqwzts"}, "reply_to_user": {"reputation": 1947, "user_id": 7114470, "user_type": "registered", "accept_rate": 47, "profile_image": "https://lh5.googleusercontent.com/-QpwskthPCBg/AAAAAAAAAAI/AAAAAAAAA8I/31O3ypPHSiQ/photo.jpg?sz=128", "display_name": "siva kumar", "link": "https://stackoverflow.com/users/7114470/siva-kumar"}, "edited": false, "score": 0, "creation_date": 1516806275, "post_id": 48405551, "comment_id": 83840925, "body": "Are you sending a payload that includes a <code>data</code> key with <code>click_action</code> set to <code>FLUTTER_NOTIFICATION_CLICK</code>?"}, {"owner": {"reputation": 2766, "user_id": 501759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a64492e790f89014e1730a8118664bf3?s=128&d=identicon&r=PG", "display_name": "xqwzts", "link": "https://stackoverflow.com/users/501759/xqwzts"}, "reply_to_user": {"reputation": 1947, "user_id": 7114470, "user_type": "registered", "accept_rate": 47, "profile_image": "https://lh5.googleusercontent.com/-QpwskthPCBg/AAAAAAAAAAI/AAAAAAAAA8I/31O3ypPHSiQ/photo.jpg?sz=128", "display_name": "siva kumar", "link": "https://stackoverflow.com/users/7114470/siva-kumar"}, "edited": false, "score": 0, "creation_date": 1516806530, "post_id": 48405551, "comment_id": 83841116, "body": "Also note that if your app is in the background, clicking a notification will only send the <code>data</code> portion of your payload to the app, the <code>notification</code> portion is used to build the notification in the system tray and not passed through."}, {"owner": {"reputation": 1947, "user_id": 7114470, "user_type": "registered", "accept_rate": 47, "profile_image": "https://lh5.googleusercontent.com/-QpwskthPCBg/AAAAAAAAAAI/AAAAAAAAA8I/31O3ypPHSiQ/photo.jpg?sz=128", "display_name": "siva kumar", "link": "https://stackoverflow.com/users/7114470/siva-kumar"}, "edited": false, "score": 0, "creation_date": 1525978464, "post_id": 48405551, "comment_id": 87576010, "body": "I am able to get on message and onResume  data in android but not in ios"}, {"owner": {"reputation": 1158, "user_id": 614026, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YQOXY.jpg?s=128&g=1", "display_name": "temirbek", "link": "https://stackoverflow.com/users/614026/temirbek"}, "edited": false, "score": 2, "creation_date": 1550655595, "post_id": 48405551, "comment_id": 96344755, "body": "I am able to catch message[&#39;screen&#39;] and calling Navigator doesn&#39;t opening route"}, {"owner": {"reputation": 297, "user_id": 6162078, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-et20-NprZt8/AAAAAAAAAAI/AAAAAAAAACg/dvb4XPFPek8/photo.jpg?sz=128", "display_name": "Tom Stein", "link": "https://stackoverflow.com/users/6162078/tom-stein"}, "edited": false, "score": 0, "creation_date": 1551651963, "post_id": 48405551, "comment_id": 96707869, "body": "Isn&#39;t <code>sound</code> something you would add to <code>notification</code>? <a href=\"https://firebase.google.com/docs/reference/admin/node/admin.messaging.NotificationMessagePayload#sound\" rel=\"nofollow noreferrer\">firebase.google.com/docs/reference/admin/node/&hellip;</a>"}, {"owner": {"reputation": 3441, "user_id": 7318037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VQ3AY.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/7318037/ashish"}, "edited": false, "score": 4, "creation_date": 1559775755, "post_id": 48405551, "comment_id": 99529535, "body": "Not working for me. Here is the message I am getting in onMessage <code>{notification: {title: First Notification, body: hELLO hELLO Test}, data: {click_action: FLUTTER_NOTIFICATION_CLICK}}</code> but the redirection is not working. I have configured onMessage and onResume with <code>Navigator.of(navigatorKey.currentContext).pushNamed(&#39;test&#39;);</code>&zwnj;&#8203;. navigatorKey is GlobalKey set MaterialApp with its navigatorKey."}, {"owner": {"reputation": 9223, "user_id": 1290746, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/bcap5.jpg?s=128&g=1", "display_name": "kris", "link": "https://stackoverflow.com/users/1290746/kris"}, "edited": false, "score": 1, "creation_date": 1574064353, "post_id": 48405551, "comment_id": 104082705, "body": "I&#39;m quite new to Dart and I&#39;m pretty lost by that final paragraph - could you possibly explain that out a bit further @xqwzts ?"}, {"owner": {"reputation": 1682, "user_id": 1843175, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6hISO.png?s=128&g=1", "display_name": "Imran Zahoor", "link": "https://stackoverflow.com/users/1843175/imran-zahoor"}, "edited": false, "score": 1, "creation_date": 1584361659, "post_id": 48405551, "comment_id": 107405244, "body": "Better to include an example of what you&#39;ve commented :)"}, {"owner": {"reputation": 51, "user_id": 2649060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/918bd782509d18a81bbea5148468243b?s=128&d=identicon&r=PG", "display_name": "delletenebre", "link": "https://stackoverflow.com/users/2649060/delletenebre"}, "reply_to_user": {"reputation": 3441, "user_id": 7318037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VQ3AY.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/7318037/ashish"}, "edited": false, "score": 0, "creation_date": 1588790186, "post_id": 48405551, "comment_id": 109038030, "body": "@Ashish I think, you should use it something like this: <code>navigatorKey.currentState.pushNamed(&#39;test&#39;);</code>"}, {"owner": {"reputation": 668, "user_id": 6118808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L2Jzd.jpg?s=128&g=1", "display_name": "Abdulmalek Dery", "link": "https://stackoverflow.com/users/6118808/abdulmalek-dery"}, "edited": false, "score": 0, "creation_date": 1597930202, "post_id": 48405551, "comment_id": 112297473, "body": "when opening notification from background it&#39;s not opening the specific ui although I&#39;m using global key and onGenerationroute"}, {"owner": {"reputation": 3167, "user_id": 502144, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a14b0afdcd244efec7579d4e8bc64b01?s=128&d=identicon&r=PG", "display_name": "fdermishin", "link": "https://stackoverflow.com/users/502144/fdermishin"}, "edited": false, "score": 0, "creation_date": 1606493524, "post_id": 48405551, "comment_id": 114985635, "body": "Currently the answer suggests to include <code>click_action</code> in <code>data</code>, but the code sample contradicts it and includes <code>click_action</code> in <code>notification</code>. Why is that?"}], "tags": [], "owner": {"reputation": 2766, "user_id": 501759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a64492e790f89014e1730a8118664bf3?s=128&d=identicon&r=PG", "display_name": "xqwzts", "link": "https://stackoverflow.com/users/501759/xqwzts"}, "is_accepted": false, "score": 91, "last_activity_date": 1615540496, "last_edit_date": 1615540496, "creation_date": 1516722008, "answer_id": 48405551, "question_id": 48403786, "link": "https://stackoverflow.com/questions/48403786/how-to-open-particular-screen-on-clicking-on-push-notification-for-flutter/48405551#48405551", "title": "how to open particular screen on clicking on push notification for flutter", "body": "<p>A few things here:</p>\n<p>1- <code>click_action</code> has to be set to <code>&quot;FLUTTER_NOTIFICATION_CLICK&quot;</code></p>\n<p>2- <code>click_action</code> has to be set in the <code>data</code> section of a payload</p>\n<pre><code>DATA='{\n  &quot;notification&quot;: {\n    &quot;body&quot;: &quot;this is a body&quot;,\n    &quot;title&quot;: &quot;this is a title&quot;,\n  },\n  &quot;data&quot;: {\n    &quot;click_action&quot;: &quot;FLUTTER_NOTIFICATION_CLICK&quot;,\n    &quot;sound&quot;: &quot;default&quot;, \n    &quot;status&quot;: &quot;done&quot;,\n    &quot;screen&quot;: &quot;screenA&quot;,\n  },\n  &quot;to&quot;: &quot;&lt;FCM TOKEN&gt;&quot;\n}'\n</code></pre>\n<p>This should allow you to receive the message in the <code>onMessage</code> handler in your flutter app.</p>\n<p>From there you can call <code>Navigator.of(context).pushNamed(message['screen'])</code>.</p>\n<p>If you don't have a <code>BuildContext</code> at that point, you can register a <code>GlobalKey</code> as the <code>navigatorKey</code> property of your <code>MaterialApp</code>, and use it to access your <code>Navigator</code> globally, via <code>GlobalKey.currentState</code></p>\n"}, {"tags": [], "owner": {"reputation": 2060, "user_id": 9774005, "user_type": "registered", "profile_image": "https://graph.facebook.com/2098232107068282/picture?type=large", "display_name": "Rajesh Jr.", "link": "https://stackoverflow.com/users/9774005/rajesh-jr"}, "is_accepted": false, "score": 17, "last_activity_date": 1583158800, "last_edit_date": 1583158800, "creation_date": 1535620280, "answer_id": 52093237, "question_id": 48403786, "link": "https://stackoverflow.com/questions/48403786/how-to-open-particular-screen-on-clicking-on-push-notification-for-flutter/52093237#52093237", "title": "how to open particular screen on clicking on push notification for flutter", "body": "<p>As @xqwzts method works well for receiving messages on App is an open state,</p>\n\n<p>the following example will navigate to a specific page,</p>\n\n<blockquote>\n  <p>[THE CODE IS TAKEN FROM THE FIREBASE MESSAGING PLUGIN EXAMPLE CODE\n  ONLY AND IT NAVIGATES TO A NAMED PAGE, IN WHICH THE DATA WE SENT VIA\n  FIREBASE CONSOLE]</p>\n</blockquote>\n\n<pre><code>//eg: if you give /Nexpage3  in the status field then it will navigate to Nextpage3 of your App\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/0ZM7y.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0ZM7y.png\" alt=\"enter image description here\"></a></p>\n\n<blockquote>\n  <p>UNDERSTAND THE 2 THINGS,FCM NOTIFICATIONS HAS 2 SECTIONS</p>\n</blockquote>\n\n<p><strong>1st Message Title</strong> Section in your firebase cloud messaging page is called  <strong>Notification Data</strong>[when the App is minimized or closed it will be shown as a notification]</p>\n\n<p><strong>2nd Message Title section which is in the bottom of the webpage is called Message Data</strong>, [it will be shown In inside app as a notification or an Alert dialogue that's up to your wish]</p>\n\n<p><strong><em>STEPS</em></strong>\nCreate a dummy Project then use firebase message plugin, and in that Box give BMW Cars as \natopic and  click subscribe</p>\n\n<p>Now go to your console then send a message with the FOLLOWING FORMAT it must contain <code>Id</code> and <code>Status</code> keys because we are parsing the Id and Status Keys in order to show NextPage with the Status Key's Value but if u prefer a field like title or body then u can do that too but make sure to parse the map value in ur flutter code.</p>\n\n<pre><code>//THIS IS A LITTLE BIT MODIFIED VERSION OF Example Code given in Firebase \n//Messaging Plugin\n//WHEN U PASTE THE CODE IN UR VS CODE OR ANDROID STUDIO PLEASE Format the \n//Document because it is aligned in single lines\n\nimport 'dart:async';\nimport 'package:firebase_messaging/firebase_messaging.dart';\nimport 'package:flutter/material.dart';\n\nvoid main() {\n  runApp(\n    new MaterialApp(\n      home: new PushMessagingExample(),\n      routes: &lt;String,WidgetBuilder&gt;{\n        \"/Nexpage1\":(BuildContext context)=&gt; new Nexpage1(),\n        \"/Nexpage2\":(BuildContext context)=&gt; new Nexpage2(),\n        \"/Nexpage3\":(BuildContext context)=&gt; new Nexpage3(),\n        } ),);}\n\n\n//INITIAL PARAMETERS\nString _homeScreenText = \"Waiting for token...\";\nbool _topicButtonsDisabled = false;\nfinal FirebaseMessaging _firebaseMessaging = new FirebaseMessaging();\nfinal TextEditingController _topicController = new TextEditingController(text: 'topic');\nfinal Map&lt;String, Item&gt; _items = &lt;String, Item&gt;{};\nItem _itemForMessage(Map&lt;String, dynamic&gt; message) {\n  final String itemId = message['id'];\n  final Item item = _items.putIfAbsent(itemId, () =&gt; new Item(itemId: itemId))..status = message['status'];\n      return item;\n}\n\n//MAIN CLASS WHICH IS THE HOMEPAGE\nclass PushMessagingExample extends StatefulWidget {\n  @override\n  _PushMessagingExampleState createState() =&gt; new _PushMessagingExampleState();\n}\n\n\nclass _PushMessagingExampleState extends State&lt;PushMessagingExample&gt; {\nvoid _navigateToItemDetail(Map&lt;String, dynamic&gt; message) {\nfinal String pagechooser= message['status'];\nNavigator.pushNamed(context, pagechooser);\n}\n\n//CLEAR TOPIC\nvoid _clearTopicText() {setState(() {_topicController.text = \"\";_topicButtonsDisabled = true;});}\n\n//DIALOGUE\nvoid _showItemDialog(Map&lt;String, dynamic&gt; message) {showDialog&lt;bool&gt;(context: context,builder: (_) =&gt; _buildDialog(context, _itemForMessage(message)),).then((bool shouldNavigate) {if (shouldNavigate == true) {_navigateToItemDetail(message);}});}\n\n//WIDGET WHICH IS GOING TO BE CALLED IN THE ABOVE DIALOGUE\nWidget _buildDialog(BuildContext context, Item item) {return new AlertDialog(content: new Text(\"Item ${item.itemId} has been updated\"),actions: &lt;Widget&gt;[new FlatButton(child: const Text('CLOSE'),onPressed: () {Navigator.pop(context, false);},),new FlatButton(child: const Text('SHOW'),onPressed: () {Navigator.pop(context, true);},),]);}\n\n\n@override\nvoid initState() {\nsuper.initState();\n_firebaseMessaging.configure(\nonLaunch: (Map&lt;String, dynamic&gt; message) async { _navigateToItemDetail(message);},\nonResume: (Map&lt;String, dynamic&gt; message) async { _navigateToItemDetail(message);},\nonMessage: (Map&lt;String, dynamic&gt; message) async {_showItemDialog(message);},);\n\n//GETTING TOKEN FOR TESTING MANUALY\n_firebaseMessaging.getToken().then((String token) {assert(token != null);setState(() {_homeScreenText = \"Push Messaging token: $token\";});print(_homeScreenText);});}\n\n\n\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n        appBar: new AppBar(  title: const Text('Push Messaging Demo'),),\n        body: new Material(\n          child: new Column(\n            children: &lt;Widget&gt;[\n              new Center(\n                child: new Text(_homeScreenText),\n              ),\n              new Row(children: &lt;Widget&gt;[\n                new Expanded(\n                  child: new TextField(\n                      controller: _topicController,\n                      onChanged: (String v) {\n                        setState(() {\n                          _topicButtonsDisabled = v.isEmpty;\n                        });\n                      }),\n                ),\n                new FlatButton(\n                  child: const Text(\"subscribe\"),\n                  onPressed: _topicButtonsDisabled\n                      ? null\n                      : () {\n                          _firebaseMessaging\n                              .subscribeToTopic(_topicController.text);\n                          _clearTopicText();\n                        },\n                ),\nnew FlatButton(child: const Text(\"unsubscribe\"),\nonPressed: _topicButtonsDisabled? null: () { _firebaseMessaging.unsubscribeFromTopic(_topicController.text);\n _clearTopicText();},),\n\n])],),));}}\n\n\n\n\n//THREE DUMMY CLASSES FOR TESTING PURPOSE \n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//PAGE1\nclass Nexpage1 extends StatefulWidget {  @override  _Nexpage1State createState() =&gt; _Nexpage1State();}\nclass _Nexpage1State extends State&lt;Nexpage1&gt; { @override Widget build(BuildContext context) { return Scaffold(body: new Center(child: new Text(\" Page1\"),));}}\n\n//PAGE2\nclass Nexpage2 extends StatefulWidget {  @override  _Nexpage2State createState() =&gt; _Nexpage2State();}\nclass _Nexpage2State extends State&lt;Nexpage2&gt; {  @override  Widget build(BuildContext context) {    return Scaffold(      body: Center(child: new Text(\"2pending\"),)      );  }}\n\n//PAGE3\nclass Nexpage3 extends StatefulWidget {  @override  _Nexpage3State createState() =&gt; _Nexpage3State();}\nclass _Nexpage3State extends State&lt;Nexpage3&gt; {  @override  Widget build(BuildContext context) {    return Scaffold(      body: Center(child: new Text(\"3connected\"),)      );  }}\n\n\n//THIS IS THE CLASS WHICH IS USED TO PARSE THE INFORMATION\nclass Item {\n  Item({this.itemId});\n  final String itemId;\n  StreamController&lt;Item&gt; _controller = new StreamController&lt;Item&gt;.broadcast();\n  Stream&lt;Item&gt; get onChanged =&gt; _controller.stream;\n  String _status;\n  String get status =&gt; _status;\n  set status(String value) {\n    _status = value;\n    _controller.add(this);\n}\n\n  static final Map&lt;String, Route&lt;Null&gt;&gt; routes = &lt;String, Route&lt;Null&gt;&gt;{};\n  Route&lt;Null&gt; get route {\n    final String routeName = '/detail/$itemId';\n    return routes.putIfAbsent(\n      routeName,\n      () =&gt; new MaterialPageRoute&lt;Null&gt;(\n            settings: new RouteSettings(name: routeName),\n            builder: (BuildContext context) =&gt; new Nexpage3(),\n          ),\n    );\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7, "user_id": 11362712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae538b01d979973a44ee16adfef4d584?s=128&d=identicon&r=PG&f=1", "display_name": "Gilang", "link": "https://stackoverflow.com/users/11362712/gilang"}, "is_accepted": false, "score": -9, "last_activity_date": 1555325661, "creation_date": 1555325661, "answer_id": 55687643, "question_id": 48403786, "link": "https://stackoverflow.com/questions/48403786/how-to-open-particular-screen-on-clicking-on-push-notification-for-flutter/55687643#55687643", "title": "how to open particular screen on clicking on push notification for flutter", "body": "<pre><code>    onLaunch: (Map&lt;String, dynamic&gt; message) {\n      print(\"I am here onLaunch\");\n      print(message);\n      Navigator.push(\n       context,\n       MaterialPageRoute(\n        builder: (context) =&gt; ScreenA()\n       )\n      );\n    },\n    onResume: (Map&lt;String, dynamic&gt; message) {\n      print(\"I am here onResume\");\n      print(message);\n      Navigator.push(\n       context,\n       MaterialPageRoute(\n        builder: (context) =&gt; ScreenA()\n       )\n      );\n    },\n</code></pre>\n\n<p>try this</p>\n"}, {"tags": [], "owner": {"reputation": 6208, "user_id": 3782085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kRcFk.png?s=128&g=1", "display_name": "Magesh Pandian", "link": "https://stackoverflow.com/users/3782085/magesh-pandian"}, "is_accepted": false, "score": 1, "last_activity_date": 1573731422, "creation_date": 1573731422, "answer_id": 58855886, "question_id": 48403786, "link": "https://stackoverflow.com/questions/48403786/how-to-open-particular-screen-on-clicking-on-push-notification-for-flutter/58855886#58855886", "title": "how to open particular screen on clicking on push notification for flutter", "body": "<p><em>Initially, @xqwzts answer not working for me. After a lot of research, I find that We need to initialize the configure method little delay. I attached the code below. It will helpful for others.</em></p>\n\n<pre><code>void initState() {\n        // TODO: implement initState\n        super.initState();\n        _firebaseMsgListener();\n      }\n\n      void _firebaseMsgListener() {\n        // if (Platform.isIOS) iOS_Permission();\n\n        _firebaseMessaging.getToken().then((token) {\n          Fimber.d(\"=====&gt; token : $token\");\n          UpdateTokenRequest request = UpdateTokenRequest();\n          request.token = token;\n          homeBloc.updateFCMToken(request);\n        });\n\n        Future.delayed(Duration(seconds: 1), () {\n          _firebaseMessaging.configure(\n            onBackgroundMessage: myBackgroundMessageHandler,\n            onMessage: (Map&lt;String, dynamic&gt; message) async {\n              Fimber.d(\"=====&gt;on message $message\");\n              Fluttertoast.showToast(msg: \"onMessage $message\");\n            },\n            onResume: (Map&lt;String, dynamic&gt; message) async {\n              Fimber.d(\"=====&gt;onResume $message\");\n              Fluttertoast.showToast(msg: \"onResume $message\");\n            },\n            onLaunch: (Map&lt;String, dynamic&gt; message) async {\n              Fimber.d(\"=====&gt;onLaunch $message\");\n              Fluttertoast.showToast(msg: \"onLaunch $message\");\n            },\n          );\n        });\n      }\n\n      Future&lt;dynamic&gt; myBackgroundMessageHandler(\n          Map&lt;String, dynamic&gt; message) async {\n        print(\"_backgroundMessageHandler\");\n        if (message.containsKey('data')) {\n          // Handle data message\n          final dynamic data = message['data'];\n          print(\"_backgroundMessageHandler data: ${data}\");\n        }\n\n        if (message.containsKey('notification')) {\n          // Handle notification message\n          final dynamic notification = message['notification'];\n          print(\"_backgroundMessageHandler notification: ${notification}\");\n          Fimber.d(\"=====&gt;myBackgroundMessageHandler $message\");\n        }\n        return Future&lt;void&gt;.value();\n      }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 358, "user_id": 9570941, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "cs guy", "link": "https://stackoverflow.com/users/9570941/cs-guy"}, "edited": false, "score": 0, "creation_date": 1605120552, "post_id": 60590889, "comment_id": 114557255, "body": "what is <code>await print(&quot;onLaunch: $message&quot;);</code>,"}], "tags": [], "owner": {"reputation": 502, "user_id": 1365978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xCUMr.jpg?s=128&g=1", "display_name": "alpc", "link": "https://stackoverflow.com/users/1365978/alpc"}, "is_accepted": false, "score": -3, "last_activity_date": 1583693258, "creation_date": 1583693258, "answer_id": 60590889, "question_id": 48403786, "link": "https://stackoverflow.com/questions/48403786/how-to-open-particular-screen-on-clicking-on-push-notification-for-flutter/60590889#60590889", "title": "how to open particular screen on clicking on push notification for flutter", "body": "<pre><code>      onBackgroundMessage: myBackgroundMessageHandler,\n  onLaunch: (Map&lt;String, dynamic&gt; message) async {\n    await print(\"onLaunch: $message\");\n    ///_navigateToItemDetail(message);\n    await _showItemDialog(message); // Diyalog Kutusu Olu\u015ftur\n  },\n  onResume: (Map&lt;String, dynamic&gt; message) async {\n    await print(\"onResume: $message\");\n    ///_navigateToItemDetail(message);      \n    await _showItemDialog(message); // Diyalog Kutusu Olu\u015ftur\n  },\n</code></pre>\n\n<p>Add <strong>await</strong> is working</p>\n"}, {"comments": [{"owner": {"reputation": 1720, "user_id": 419261, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/FqFgw.jpg?s=128&g=1", "display_name": "humblePilgrim", "link": "https://stackoverflow.com/users/419261/humblepilgrim"}, "edited": false, "score": 0, "creation_date": 1607513750, "post_id": 63057512, "comment_id": 115294487, "body": "how can we access the global key from an inner method ?"}, {"owner": {"reputation": 1598, "user_id": 11724588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sp7QR.jpg?s=128&g=1", "display_name": "Dhaval Kansara", "link": "https://stackoverflow.com/users/11724588/dhaval-kansara"}, "reply_to_user": {"reputation": 1720, "user_id": 419261, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/FqFgw.jpg?s=128&g=1", "display_name": "humblePilgrim", "link": "https://stackoverflow.com/users/419261/humblepilgrim"}, "edited": false, "score": 0, "creation_date": 1607514980, "post_id": 63057512, "comment_id": 115295052, "body": "@humblePilgrim you can declare it at the global level too."}], "tags": [], "owner": {"reputation": 1598, "user_id": 11724588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sp7QR.jpg?s=128&g=1", "display_name": "Dhaval Kansara", "link": "https://stackoverflow.com/users/11724588/dhaval-kansara"}, "is_accepted": false, "score": 7, "last_activity_date": 1595517698, "last_edit_date": 1595517698, "creation_date": 1595517244, "answer_id": 63057512, "question_id": 48403786, "link": "https://stackoverflow.com/questions/48403786/how-to-open-particular-screen-on-clicking-on-push-notification-for-flutter/63057512#63057512", "title": "how to open particular screen on clicking on push notification for flutter", "body": "<p><strong>Step 1:</strong> pass one key-value pair in the firebase notification as <code>click_action</code>: <code>FLUTTER_CLICK_ACTION</code>.</p>\n<p><strong>Step 2:</strong> Using step 1 you'll receive the onTap callback of notification inside <code>onResume</code> or <code>onLaunch</code> method.</p>\n<p><strong>Step 3:</strong> Perform the following scenario for navigating to a specific screen on click of notification.</p>\n<ul>\n<li>When you build your MaterialApp, pass a <a href=\"https://api.flutter.dev/flutter/material/MaterialApp/navigatorKey.html\" rel=\"noreferrer\">navigatorKey</a> parameter which specifies the key to use for the navigator and then assign that key to your material app as shown below:</li>\n</ul>\n<pre><code>class _MyHomePageState extends State&lt;MyHomePage&gt; {\n  final GlobalKey&lt;NavigatorState&gt; navigatorKey = GlobalKey(debugLabel: &quot;Main Navigator&quot;);\n\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      navigatorKey: navigatorKey,\n      home: new Scaffold(\n        appBar: AppBar(),\n        body: new Container(),\n      ),\n    );\n  }\n}\n</code></pre>\n<ul>\n<li>Now, from the <code>onResume</code> or <code>onLuanch</code> method navigate to your screen using below line of code:</li>\n</ul>\n<pre><code> navigatorKey.currentState.push(\n    MaterialPageRoute(builder: (_) =&gt; Dashboard())\n );\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1720, "user_id": 419261, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/FqFgw.jpg?s=128&g=1", "display_name": "humblePilgrim", "link": "https://stackoverflow.com/users/419261/humblepilgrim"}, "edited": false, "score": 1, "creation_date": 1607513673, "post_id": 65197757, "comment_id": 115294459, "body": "what does the delay solve ?"}], "tags": [], "owner": {"reputation": 356, "user_id": 3302373, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/IYuFm.jpg?s=128&g=1", "display_name": "Samar Ali Qazalbash", "link": "https://stackoverflow.com/users/3302373/samar-ali-qazalbash"}, "is_accepted": false, "score": -1, "last_activity_date": 1607425575, "creation_date": 1607425575, "answer_id": 65197757, "question_id": 48403786, "link": "https://stackoverflow.com/questions/48403786/how-to-open-particular-screen-on-clicking-on-push-notification-for-flutter/65197757#65197757", "title": "how to open particular screen on clicking on push notification for flutter", "body": "<p>Use firebase_messaging: &quot;^8.0.0-dev.10&quot;\n<a href=\"https://firebase.flutter.dev/docs/messaging/overview/\" rel=\"nofollow noreferrer\">FlutterFire FCM</a>\n<a href=\"https://firebase.flutter.dev/docs/messaging/notifications\" rel=\"nofollow noreferrer\">FlutterFire FCM notifications</a></p>\n<p>Follow this code. It's much easier.</p>\n<pre><code>class Application extends StatefulWidget {\n  @override\n  State&lt;StatefulWidget&gt; createState() =&gt; _Application();\n}\n\nclass _Application extends State&lt;Application&gt; {\n  @override\n  void initState() async {\n    super.initState();\n\n    // Get any messages which caused the application to open from\n    // a terminated state.\n    RemoteMessage initialMessage =\n        await FirebaseMessaging.instance.getInitialMessage();\n\n    // If the message also contains a data property with a &quot;type&quot; of &quot;chat&quot;,\n    // navigate to a chat screen\n    if (initialMessage?.data['type'] == 'chat') {\n      Navigator.pushNamed(context, '/chat',\n          arguments: ChatArguments(initialMessage));\n    }\n\n    // Also handle any interaction when the app is in the background via a\n    // Stream listener\n    FirebaseMessaging.onMessageOpenedApp.listen((RemoteMessage message) {\n      if (message.data['type'] == 'chat') {\n        Navigator.pushNamed(context, '/chat',\n          arguments: ChatArguments(message));\n      }\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Text(&quot;...&quot;);\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 188, "user_id": 1548674, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd5fcac233cf00064a05912b8fe6ff59?s=128&d=identicon&r=PG", "display_name": "Cnu Federer", "link": "https://stackoverflow.com/users/1548674/cnu-federer"}, "is_accepted": false, "score": 0, "last_activity_date": 1610069332, "creation_date": 1610069332, "answer_id": 65622241, "question_id": 48403786, "link": "https://stackoverflow.com/questions/48403786/how-to-open-particular-screen-on-clicking-on-push-notification-for-flutter/65622241#65622241", "title": "how to open particular screen on clicking on push notification for flutter", "body": "<p><a href=\"https://i.stack.imgur.com/SClsf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SClsf.png\" alt=\"AndroidManifest.xml\" /></a></p>\n<p>This worked for me.\nYou need to add this code in AndroidManifest.xml file. You can have anything as 'click_action', but it need to be same as it is in the manifest file. Not sure of iOS.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14972334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab8c2791dc8278400f66c35f87fd3e68?s=128&d=identicon&r=PG&f=1", "display_name": "gamerwalt", "link": "https://stackoverflow.com/users/14972334/gamerwalt"}, "is_accepted": false, "score": 0, "last_activity_date": 1610199340, "creation_date": 1610199340, "answer_id": 65643283, "question_id": 48403786, "link": "https://stackoverflow.com/questions/48403786/how-to-open-particular-screen-on-clicking-on-push-notification-for-flutter/65643283#65643283", "title": "how to open particular screen on clicking on push notification for flutter", "body": "<p>From the documentation (<a href=\"https://pub.dev/packages/firebase_messaging\" rel=\"nofollow noreferrer\">https://pub.dev/packages/firebase_messaging</a>) of the package, it clearly states you will need to create an Application.java within your android/app/src/main/java/app/{{appName}} location.</p>\n<p>Within that file (Application.java), it specifies the exact code you need to include.</p>\n<p>Once that's done, for the flutter, code, make sure you setup your backgroundMessageHandler function in your main.dart file because it needs to be a top level function.</p>\n<p>One more thing to note, if you get an error with your PluginRegistry, use this code below:</p>\n<pre><code>import io.flutter.plugins.firebasemessaging.FirebaseMessagingPlugin;\nFirebaseMessagingPlugin.registerWith(registry.registrarFor(&quot;io.flutter.plugins.firebasemessaging.FirebaseMessagingPlugin&quot;));\n</code></pre>\n<p>When you do send a notification and you want your backgroundMessage to catch that as well as onResume to catch it when you click the notification, make sure your notification has the title, body, click_action, then your data should have also a title, body, then any data you want.</p>\n<p>I used this in my own example:</p>\n<pre><code>$notification = [\n        'title' =&gt; 'New notification',\n        'body' =&gt; &quot;{$group-&gt;group_name} needs it's members to be updated. It starts on {$startDate-&gt;toFormattedDateString()}, however...&quot;,\n        'icon' =&gt; '',\n        'click_action'=&gt; 'FLUTTER_NOTIFICATION_CLICK',\n        'Test' =&gt; 'Some testing data',\n    ];\n    $data = [\n        'title' =&gt; 'This title is in the data',\n        'body' =&gt; &quot;this body is in the data&quot;,\n        'Test' =&gt; 'Some testing data',\n        'click_action'=&gt; 'FLUTTER_NOTIFICATION_CLICK'\n    ];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1952, "user_id": 6909914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f532ec9f16e75688ac6359bb83b18f6c?s=128&d=identicon&r=PG&f=1", "display_name": "Paolo", "link": "https://stackoverflow.com/users/6909914/paolo"}, "edited": false, "score": 0, "creation_date": 1617122676, "post_id": 66121875, "comment_id": 118213027, "body": "This is the simpliest solution, and it works. Thanks"}, {"owner": {"reputation": 1747, "user_id": 1585340, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4aa2164c46e57de54689ed008191f351?s=128&d=identicon&r=PG", "display_name": "Uriel Arvizu", "link": "https://stackoverflow.com/users/1585340/uriel-arvizu"}, "edited": false, "score": 0, "creation_date": 1618413834, "post_id": 66121875, "comment_id": 118595237, "body": "how do we propose this for the solution? this is the way to go, without the need to use any native code I&#39;ve seen in other replies"}], "tags": [], "owner": {"reputation": 81, "user_id": 8181459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38eVs.jpg?s=128&g=1", "display_name": "iamcloud.dev", "link": "https://stackoverflow.com/users/8181459/iamcloud-dev"}, "is_accepted": false, "score": 7, "last_activity_date": 1612884117, "creation_date": 1612884117, "answer_id": 66121875, "question_id": 48403786, "link": "https://stackoverflow.com/questions/48403786/how-to-open-particular-screen-on-clicking-on-push-notification-for-flutter/66121875#66121875", "title": "how to open particular screen on clicking on push notification for flutter", "body": "<p>To provide the payload use:</p>\n<p>1- click_action has to be set to &quot;FLUTTER_NOTIFICATION_CLICK&quot; - In android manifest file, we have defined the intent for it.</p>\n<p>2- click_action has to be set in the data section of a payload</p>\n<p>Define a global variable for NavigatorState:</p>\n<pre><code>import 'package:flutter/cupertino.dart';\n\n/// Global variables\n/// * [GlobalKey&lt;NavigatorState&gt;]\nclass GlobalVariable {\n  \n  /// This global key is used in material app for navigation through firebase notifications.\n  /// [navState] usage can be found in [notification_notifier.dart] file.\n  static final GlobalKey&lt;NavigatorState&gt; navState = GlobalKey&lt;NavigatorState&gt;();\n}\n\n</code></pre>\n<p>Go to your MaterialApp and add</p>\n<pre><code>class MyApp extends StatelessWidget {\n\n  @override\n  Widget build(BuildContext context) {\n    return ScrollConfiguration(\n      behavior: BounceScrollBehavior(),\n      child: MaterialApp(\n        navigatorKey: GlobalVariable.navState,\n        debugShowCheckedModeBanner: false,\n        theme: themeData,\n        home: App(),\n      ),\n    );\n  }\n}\n</code></pre>\n<p>When you press on the notification in app bar, it calls onResume. You can navigate to the desired page as follows.</p>\n<pre><code>void listenToNotification() {\n    fcm.configure(\n      onMessage: (Map&lt;String, dynamic&gt; message) async {\n        print(&quot;onMessage: $message&quot;);\n        getPreviousNotifications();\n      },\n      onLaunch: (Map&lt;String, dynamic&gt; message) async {\n        print(&quot;onLaunch: $message&quot;);\n      },\n      onResume: (Map&lt;String, dynamic&gt; message) async {\n        print(&quot;onResume: ${message[&quot;data&quot;]}&quot;);\n        SchedulerBinding.instance.addPostFrameCallback((_) {\n          Navigator.of(GlobalVariable.navState.currentContext)\n              .push(MaterialPageRoute(\n                  builder: (context) =&gt; TimelineView(\n                        campaignId: message[&quot;data&quot;][&quot;campaign&quot;],\n                      )));\n        });\n      },\n    );\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 308, "user_id": 5309272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvVBS.jpg?s=128&g=1", "display_name": "Rishabh Rawat", "link": "https://stackoverflow.com/users/5309272/rishabh-rawat"}, "is_accepted": false, "score": 1, "last_activity_date": 1614253252, "last_edit_date": 1614253252, "creation_date": 1614252879, "answer_id": 66367700, "question_id": 48403786, "link": "https://stackoverflow.com/questions/48403786/how-to-open-particular-screen-on-clicking-on-push-notification-for-flutter/66367700#66367700", "title": "how to open particular screen on clicking on push notification for flutter", "body": "<p>I am too late to answer this question but finally, I have achieved this with some android native code and of course flutter code. So, let starts from scratch step by step</p>\n<p>1.) Go to your build.gradle file (PATH <code>android&gt;app&gt;buid.gradle</code>). Add the firebase messaging dependency and after that sync the file from android studio</p>\n<pre><code>implementation 'com.google.firebase:firebase-messaging'\n</code></pre>\n<p>2.) Make a new file name MyApplication.java in the MainActivity file path (PATH <code>android&gt;app&gt;src&gt;main&gt;kotlin&gt;com&gt;yourpackage&gt;MyApplication.java</code>)</p>\n<pre><code>import android.app.NotificationChannel;\nimport android.app.NotificationManager;\nimport android.content.Context;\nimport android.os.Build;\n\nimport io.flutter.app.FlutterApplication;\nimport io.flutter.plugin.common.PluginRegistry;\nimport io.flutter.plugins.firebasemessaging.FlutterFirebaseMessagingService;\nimport io.flutter.plugins.pathprovider.PathProviderPlugin;\n\npublic class MyApplication extends FlutterApplication implements PluginRegistry.PluginRegistrantCallback {\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        this.createChannel();\n        FlutterFirebaseMessagingService.setPluginRegistrant(this);\n    }\n\n    @Override\n    public void registerWith(PluginRegistry registry) {\n        io.flutter.plugins.firebasemessaging.FirebaseMessagingPlugin.registerWith(registry.registrarFor(&quot;io.flutter.plugins.firebasemessaging.FirebaseMessagingPlugin&quot;));\n        PathProviderPlugin.registerWith(registry.registrarFor(&quot;io.flutter.plugins.pathprovider.PathProviderPlugin&quot;));\n    }\n\n    private void createChannel(){\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            String name = getString(R.string.default_notification_channel_id);\n            NotificationChannel channel = new NotificationChannel(name, &quot;default&quot;, NotificationManager.IMPORTANCE_HIGH);\n            NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n            notificationManager.createNotificationChannel(channel);\n        }\n    }\n}\n</code></pre>\n<p>3.) Go to your android app manifest file (PATH <code>android&gt;app&gt;src&gt;main&gt;AndroidManifest.xml</code>) and add replace the <code>&lt;application android:name with &quot;.MyApplication&quot;</code> tag with this</p>\n<pre><code>&lt;application\n        android:name=&quot;.MyApplication&quot; //replace your name with .MyApplication\n        android:label=&quot;helpwise&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\n</code></pre>\n<p>4.) Now you need to add the firebase messaging dependency in the flutter project. So add in the pubspec.yaml</p>\n<pre><code>firebase_messaging: ^6.0.9\n</code></pre>\n<p>5.) Add the firebase code in your main.dart file</p>\n<pre><code>Future&lt;dynamic&gt; myBackgroundMessageHandler(Map&lt;String, dynamic&gt; message) {\n  if (message.containsKey('data')) {\n    final dynamic data = message['data'];\n    print('Notification data is ');\n    print(message['data']);\n  }\n\n  if (message.containsKey('notification')) {\n    // Handle notification message\n    final dynamic notification = message['notification'];\n  }\n}\n\nclass SelectMailbox extends StatefulWidget {\n  static const routeName = '/mailbox-screen';\n\n  @override\n  _SelectMailboxState createState() =&gt; _SelectMailboxState();\n}\n\nclass _SelectMailboxState extends State&lt;SelectMailbox&gt; {\n  final FirebaseMessaging _firebaseMessaging = FirebaseMessaging();\n\n  @override\n  void initState() {\n    \n    _firebaseMessaging.getToken().then((token) async{\n      SharedPreferences preferences = await SharedPreferences.getInstance();\n      final String userData = preferences.get('userData');\n      final String authToken=jsonDecode(userData)['token'];\n      print(&quot;Device token is $token&quot;); //I will use this token to send notif.\n      await http.post(&quot;https://your_domain/mobile/save-token&quot;,\n          headers: {&quot;Content-Type&quot;: &quot;application/json&quot;},\n          body: jsonEncode({&quot;device_token&quot;: token,&quot;type&quot;:&quot;android&quot;,&quot;token&quot;:authToken}));\n    });\n\n    _firebaseMessaging.configure(\n        onMessage: (Map&lt;String, dynamic&gt; message) async {\n         // \n        }, onBackgroundMessage: Platform.isAndroid?myBackgroundMessageHandler:null,\n        onResume: (Map&lt;String, dynamic&gt; message) async {\n           print(&quot;onBackground Message $message&quot;); \n          _selectIdsNotification(message['data']['thread_id'],message['data']['mailbox_id'],14,message['data']['mailboxType'],&quot;All&quot;,context);\n        }, onLaunch: (Map&lt;String, dynamic&gt; message) async {\n      print(&quot;onLaunch Message $message&quot;);\n      _selectIdsNotification(message['data']['thread_id'],message['data']['mailbox_id'],14,message['data']['mailboxType'],&quot;All&quot;,context);\n    });\n\n    super.initState();\n  }\n\n  _selectIdsNotification(threadID,mailboxId,subBox,mailboxType,mailboxTab,myContext) async {\n    // YOU CAN ADD THE LOGIC OF DIFFERENT PAGE ROUTE ACCORDING TO DATA PASS FROM NOTIFICATION in my case i could use the mailboxType\n    Navigator.push(\n      myContext,\n      MaterialPageRoute(\n        builder: (context) =&gt; ThreadDetail(threadID, mailboxType,notificationMailboxId: mailboxId),\n      ),\n    );\n  }\n</code></pre>\n<p>6.) Again go to your AndoridManifest.file and add the intent filter code inside the activity tag and metadata tag code after the activity close tag</p>\n<pre><code>    &lt;application\n            android:name=&quot;.MyApplication&quot;\n            android:label=&quot;helpwise&quot;\n            android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\n            &lt;activity\n                android:name=&quot;.MainActivity&quot;\n                android:launchMode=&quot;singleTop&quot;\n                android:theme=&quot;@style/LaunchTheme&quot;\n                android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode&quot;\n                android:hardwareAccelerated=&quot;true&quot;\n                android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\n               \n                &lt;meta-data\n                  android:name=&quot;io.flutter.embedding.android.NormalTheme&quot;\n                  android:resource=&quot;@style/NormalTheme&quot;\n                  /&gt;\n                &lt;meta-data\n                  android:name=&quot;io.flutter.embedding.android.SplashScreenDrawable&quot;\n                  android:resource=&quot;@drawable/launch_background&quot;\n                  /&gt;\n                &lt;intent-filter&gt;\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n                &lt;/intent-filter&gt;\n    &lt;-- ADD THIS INTENT FILTER IN YOUR CODE --&gt;\n                &lt;intent-filter&gt;\n                    &lt;action android:name=&quot;FLUTTER_NOTIFICATION_CLICK&quot; /&gt;\n                    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;/intent-filter&gt;\n    \n            &lt;/activity&gt;\n            &lt;meta-data\n                android:name=&quot;flutterEmbedding&quot;\n                android:value=&quot;2&quot; /&gt;\n &lt;-- ADD THIS META DATA TAG IN YOUR CODE --&gt;\n            &lt;meta-data android:name=&quot;com.google.firebase.messaging.default_notification_channel_id&quot;\n                       android:value=&quot;@string/default_notification_channel_id&quot; /&gt;\n        &lt;/application&gt; \n</code></pre>\n<p>7.) Now go to the android value folder PATH(<code>android&gt;app&gt;src&gt;main&gt;res&gt;values&gt;strings.xml</code>). If you do not see the file of strings.xml then create a file on the same path with the strings.xml file and add the code below</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;resources&gt;\n    &lt;string name=&quot;default_notification_channel_id&quot;&gt;default_notification_channel_id&lt;/string&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>10.) That's its guys. Now, you need to restart the app and call the firebase messaging notification API to the device token.</p>\n<pre><code>    ar axios = require('axios');\nvar data = JSON.stringify(\n{\n  &quot;to&quot;: &quot;your_mobile_device_token&quot;,\n  &quot;data&quot;: {\n    &quot;mailbox_id&quot;: &quot;11111&quot;,\n    &quot;thread_id&quot;: &quot;1111&quot;,\n    &quot;mailboxType&quot;: &quot;email&quot;,\n    &quot;click_action&quot;: &quot;FLUTTER_NOTIFICATION_CLICK&quot;\n  },\n  &quot;priority&quot;: &quot;high&quot;,\n  &quot;notification&quot;: {\n    &quot;body&quot;: &quot;Hi, You have received new Message&quot;,\n    &quot;title&quot;: &quot;Flutter&quot;,\n    &quot;image&quot;: &quot;your_image_cdn_path&quot;\n  },\n  &quot;click_action&quot;: &quot;FLUTTER_NOTIFICATION_CLICK&quot;\n});\n\nvar config = {\n  method: 'post',\n  url: 'https://fcm.googleapis.com/fcm/send',\n  headers: { \n    'Authorization': 'key=your_firebase_server_key', \n    'Content-Type': 'application/json'\n  },\n  data : data\n};\n\naxios(config)\n.then(function (response) {\n  console.log(JSON.stringify(response.data));\n})\n.catch(function (error) {\n  console.log(error);\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2198, "user_id": 1287785, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/lO07O.jpg?s=128&g=1", "display_name": "X Sham", "link": "https://stackoverflow.com/users/1287785/x-sham"}, "is_accepted": false, "score": 0, "last_activity_date": 1619013444, "last_edit_date": 1619013444, "creation_date": 1618912387, "answer_id": 67176566, "question_id": 48403786, "link": "https://stackoverflow.com/questions/48403786/how-to-open-particular-screen-on-clicking-on-push-notification-for-flutter/67176566#67176566", "title": "how to open particular screen on clicking on push notification for flutter", "body": "<p>For anyone would like to migrate to the latest version of Firebase Messaging before Null Safety (work on iOS and Android), here are the steps</p>\n<p>pubspec.yaml</p>\n<pre><code>firebase_core: ^0.7.0\nfirebase_messaging: ^8.0.0-dev.15\n</code></pre>\n<p>main.dart</p>\n<pre><code>GlobalKey&lt;NavigatorState&gt; navigatorKey = GlobalKey&lt;NavigatorState&gt;();\n\nFuture&lt;void&gt; main() async {\n      \n        WidgetsFlutterBinding.ensureInitialized();\n        await Firebase.initializeApp();\n        await FirebaseMessaging.instance.setForegroundNotificationPresentationOptions(\n          alert: true,\n          badge: true,\n          sound: true,\n        );\n        runApp(new MyApp());\n}\n\n\nclass MyApp extends StatefulWidget {\n\n  @override\n  _MyAppState createState() =&gt; _MyAppState();\n}\n\nclass _MyAppState extends State&lt;MyApp&gt; {\n\n@override\n  Widget build(BuildContext context) {\n  return MaterialApp(\n              navigatorKey: navigatorKey,\n              title: ...\n\n   );\n  }\n\n}\n</code></pre>\n<p>homeScreen.dart</p>\n<pre><code>Future&lt;void&gt; _firebaseMessagingBackgroundHandler(RemoteMessage message) async {\n      print(&quot;onBackgroundMessage: $message&quot;);\n    }\n    \n    class HomeScreen extends StatefulWidget {\n      @override\n      _HomeScreenState createState() =&gt; _HomeScreenState();\n    }\n    \n    class _HomeScreenState extends State&lt;HomeScreen&gt;{\n    \n      @override\n      void initState() {\n        super.initState();\n    \n    FirebaseMessaging.onBackgroundMessage(_firebaseMessagingBackgroundHandler);\n    FirebaseMessaging.onMessage.listen((RemoteMessage message) async {\n        print(&quot;onMessage: $message&quot;);\n    });\n    FirebaseMessaging.onMessageOpenedApp.listen((RemoteMessage message) async {\n        print(&quot;onMessageOpenedApp: $message&quot;);\n            \n                 \n          if (message.data[&quot;navigation&quot;] == &quot;/your_route&quot;) {\n            int _yourId = int.tryParse(message.data[&quot;id&quot;]) ?? 0;\n            Navigator.push(\n                    navigatorKey.currentState.context,\n                    MaterialPageRoute(\n                        builder: (context) =&gt; YourScreen(\n                              yourId:_yourId,\n                            )));\n        });\n      }\n    }\n</code></pre>\n<p>Noted that iOS notification will appear on top (head-up display) and trigger method of <strong><code>onMessage</code></strong> (when app in foreground) and <strong><code>onBackgroundMessage</code></strong> (when app in background or terminated).</p>\n<p>For android notification will appear on tray at the top and trigger method of <strong><code>onBackgroundMessage</code></strong> (when app in background or terminated) ONLY. You have to use third party solution like <code>flutter_local_notifications</code> or <code>overlay_support</code> to display notification during <strong><code>onMessage</code></strong> (app in foreground).</p>\n<p>For iOS, when notification is clicked (when app on background, terminated or foreground), method <strong><code>onMessageOpenedApp</code></strong> will be triggered. For Android, this scenario will work when app on background or terminated only (if head-up notification display/banner is enabled - you need to create channel_id for android)</p>\n<p>You no longer need to send <code>click_action: FLUTTER_CLICK_ACTION</code> on data payload in order to have clickable event on notification. FirebaseMessaging will handle for you</p>\n"}], "owner": {"reputation": 1947, "user_id": 7114470, "user_type": "registered", "accept_rate": 47, "profile_image": "https://lh5.googleusercontent.com/-QpwskthPCBg/AAAAAAAAAAI/AAAAAAAAA8I/31O3ypPHSiQ/photo.jpg?sz=128", "display_name": "siva kumar", "link": "https://stackoverflow.com/users/7114470/siva-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64567, "favorite_count": 33, "answer_count": 12, "score": 72, "last_activity_date": 1619013444, "creation_date": 1516716705, "last_edit_date": 1584419075, "question_id": 48403786, "link": "https://stackoverflow.com/questions/48403786/how-to-open-particular-screen-on-clicking-on-push-notification-for-flutter", "title": "how to open particular screen on clicking on push notification for flutter", "body": "<p>I am trying to achieve  open specific screen on clicking push notification and my payload looks like this:</p>\n\n<pre><code> var payload = {\n        notification: {\n            title: notificationTitle,\n            body: notificationMessage,\n            click_action:\"/screena\",sound:\"default\",\n        }\n    };\n</code></pre>\n\n<p>I am getting notification but I am unable to catch notification click event in flutter how to catch it. I am using flutter messaging</p>\n\n<p><a href=\"https://github.com/flutter/plugins/tree/master/packages/firebase_messaging\" rel=\"noreferrer\">https://github.com/flutter/plugins/tree/master/packages/firebase_messaging</a></p>\n\n<p>and my firebase push message service code looks like this</p>\n\n<pre><code> pushMessagingService() async{\nmessagingreference.configure(\nonMessage: (Map&lt;String, dynamic&gt; message) {\n\n  print(\"I am here in on message\");\n  print(message);\n},\nonLaunch: (Map&lt;String, dynamic&gt; message) {\n  print(\"I am here onLaunch\");\n  print(message);\n},\nonResume: (Map&lt;String, dynamic&gt; message) {\n  print(\"I am hereonResume\");\n  print(message);\n},\n);\n  messagingreference.requestNotificationPermissions(\n  const IosNotificationSettings(sound: true, badge: true, alert: true));\n messagingreference.onIosSettingsRegistered\n  .listen((IosNotificationSettings settings) {\nprint(\"Settings registered: $settings\");\n });\n messagingreference.getToken().then((String token) async {\n\n\nprint(token);\n });\n }\n</code></pre>\n\n<p>here I can get the message as @xqwzts  said in on message when my app is in the foreground but my question is how to catch click event from push notification raised in the system tray and navigate to the required screen.</p>\n"}, {"tags": ["widget", "dart", "firebase-authentication", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 3696, "user_id": 6107079, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CUGlv.jpg?s=128&g=1", "display_name": "Mahi", "link": "https://stackoverflow.com/users/6107079/mahi"}, "is_accepted": false, "score": 0, "last_activity_date": 1516393852, "creation_date": 1516393852, "answer_id": 48349074, "question_id": 48347492, "link": "https://stackoverflow.com/questions/48347492/google-sign-in-returns-an-unhandled-exception-i-am-on-flutter-with-the-firebase/48349074#48349074", "title": "google sign in returns an unhandled exception, i am on flutter with the firebase google sign in", "body": "<p>I think you need to use await for this line mentioned below as well.</p>\n\n<pre><code>GoogleSignInAccount user = googleSignIn.currentUser;\n</code></pre>\n\n<p>so you should actually use.</p>\n\n<pre><code>GoogleSignInAccount user = await googleSignIn.currentUser;\n</code></pre>\n\n<p>let me know if this helped, </p>\n\n<p>Many Thanks,\nMahi.</p>\n"}, {"tags": [], "owner": {"reputation": 3696, "user_id": 6107079, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CUGlv.jpg?s=128&g=1", "display_name": "Mahi", "link": "https://stackoverflow.com/users/6107079/mahi"}, "is_accepted": true, "score": 1, "last_activity_date": 1516460836, "last_edit_date": 1516460836, "creation_date": 1516441682, "answer_id": 48354666, "question_id": 48347492, "link": "https://stackoverflow.com/questions/48347492/google-sign-in-returns-an-unhandled-exception-i-am-on-flutter-with-the-firebase/48354666#48354666", "title": "google sign in returns an unhandled exception, i am on flutter with the firebase google sign in", "body": "<p>sorry it didn't help, try and follow this example <a href=\"https://github.com/flutter/plugins/blob/master/packages/firebase_auth/example/lib/main.dart\" rel=\"nofollow noreferrer\">here</a> and make sure you integrate your app correctly with firebase as well like you have enabled GoogleAuthentication in the Authentication section and change the function to </p>\n\n<pre><code>Future&lt;Null&gt; _ensureLoggedIn() async {\n  GoogleSignInAccount user =  await googleSignIn.currentUser;\n  if (user == null)\n    user = await googleSignIn.signInSilently();\n  if (user == null) {\n    user = await googleSignIn.signIn();\n    analytics.logLogin();\n  }\n\n  var response = await auth.currentUser();\n  if (response.uid == null) {\n    GoogleSignInAuthentication credentials =\n    await googleSignIn.currentUser.authentication;\n    await auth.signInWithGoogle(\n      idToken: credentials.idToken,\n      accessToken: credentials.accessToken,\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 6599996, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh4.googleusercontent.com/-HwHUTT5d9y4/AAAAAAAAAAI/AAAAAAAAAGk/CzyKhK-Mw7o/photo.jpg?sz=128", "display_name": "Dalton Kim", "link": "https://stackoverflow.com/users/6599996/dalton-kim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 664, "favorite_count": 0, "accepted_answer_id": 48354666, "answer_count": 2, "score": -1, "last_activity_date": 1516460836, "creation_date": 1516386815, "question_id": 48347492, "link": "https://stackoverflow.com/questions/48347492/google-sign-in-returns-an-unhandled-exception-i-am-on-flutter-with-the-firebase", "title": "google sign in returns an unhandled exception, i am on flutter with the firebase google sign in", "body": "<p><a href=\"https://i.stack.imgur.com/rWksZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rWksZ.png\" alt=\"these are the errors on logcat\"></a></p>\n\n<p>this is the code with the method to sign in with google account.\n  included with its statistics, any ideas i can solve this log in problem???</p>\n\n<pre><code>     void main() {\n     runApp(new FriendlychatApp());\n      }\n\n      Future&lt;Null&gt; _ensureLoggedIn() async {\n      GoogleSignInAccount user = googleSignIn.currentUser;\n      if (user == null)\n      user = await googleSignIn.signInSilently();\n      if (user == null) {\n      user = await googleSignIn.signIn();\n      analytics.logLogin();\n      }\n      if (await auth.currentUser() == null) {\n      GoogleSignInAuthentication credentials =\n      await googleSignIn.currentUser.authentication;\n      await auth.signInWithGoogle(\n      idToken: credentials.idToken,\n      accessToken: credentials.accessToken,\n      );\n        }\n       }\n</code></pre>\n"}, {"tags": ["dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 19885, "user_id": 1961059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvYjK.jpg?s=128&g=1", "display_name": "rinukkusu", "link": "https://stackoverflow.com/users/1961059/rinukkusu"}, "is_accepted": false, "score": 0, "last_activity_date": 1516349621, "creation_date": 1516349621, "answer_id": 48336686, "question_id": 48336122, "link": "https://stackoverflow.com/questions/48336122/error-while-passing-data-to-flutter-child/48336686#48336686", "title": "Error while passing data to flutter child", "body": "<p>Instead of adding <code>const</code> widgets, instantiate them with <code>new</code>. Since you're having dynamic content, they can't be <code>const</code> anyway :)</p>\n\n<pre><code>    children: &lt;Widget&gt;[\n      new ListTile(\n        leading: const Icon(Icons.album),\n        title: new Text(pokemonName), \n        subtitle: const Text('That is a weird pokemon :O'),\n      ),\n    ],\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 11041853, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-A9jPH2lVHes/AAAAAAAAAAI/AAAAAAAABWI/auQ8-Kbm5NM/photo.jpg?sz=128", "display_name": "Chan Yiu Tsun", "link": "https://stackoverflow.com/users/11041853/chan-yiu-tsun"}, "is_accepted": false, "score": 1, "last_activity_date": 1549819276, "creation_date": 1549819276, "answer_id": 54618969, "question_id": 48336122, "link": "https://stackoverflow.com/questions/48336122/error-while-passing-data-to-flutter-child/54618969#54618969", "title": "Error while passing data to flutter child", "body": "<p>I encountered this problem too.\nThe main problem is you define the \"ListTile\" as \"const\". Remove \"const\" should make your code work.</p>\n"}], "owner": {"reputation": 7704, "user_id": 2968101, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/kUEZQ.jpg?s=128&g=1", "display_name": "mfrachet", "link": "https://stackoverflow.com/users/2968101/mfrachet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1697, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1549819276, "creation_date": 1516347142, "question_id": 48336122, "link": "https://stackoverflow.com/questions/48336122/error-while-passing-data-to-flutter-child", "title": "Error while passing data to flutter child", "body": "<p>I'm trying to learn Google Flutter and I m having an issue while trying to pass a data to a child .</p>\n\n<p>For now, I m having two widgets : one that should display a list of pokemons, and one representing a pokemon.</p>\n\n<p>From the ListPokemon one, I'm creating each line using : </p>\n\n<pre><code>  List&lt;Pokemon&gt; _createRow() {\n    return this\n        ._pokemons\n        .map((pokemonData) =&gt; new Pokemon(pokemonName: 'Super pokemon name'))\n        .toList();\n  }\n</code></pre>\n\n<p>From the PokemonCard, I've tried to make something like :</p>\n\n<pre><code>class Pokemon extends StatelessWidget {\n  Pokemon({Key key, this.pokemonName}) : super(key: key);\n\n  final String pokemonName;\n\n  @override\n  Widget build(BuildContext context) {\n    print(pokemonName); // prints the argument\n    return new Card(\n      child: new Column(\n        mainAxisSize: MainAxisSize.min,\n        children: &lt;Widget&gt;[\n          const ListTile(\n            leading: const Icon(Icons.album),\n            title: const Text(pokemonName), // gives : Arguments of constant creation must be constant expressions\n            subtitle: const Text('That is a weird pokemon :O'),\n          ),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>My problem is that something is going wrong right here :</p>\n\n<pre><code>title: const Text(pokemonName), // gives : Arguments of constant creation must be constant expressions\n</code></pre>\n\n<p>And I don't understand why.</p>\n\n<p>What I wanted was simply to pass a string down to the child widget and display it on the screen.</p>\n\n<p>Can anybody help me understand this error ?</p>\n\n<p>EDIT : I've try to move <code>const Text</code> => <code>new Text</code>. Same thing occurs :(</p>\n"}, {"tags": ["firebase", "dart", "firebase-authentication", "flutter"], "owner": {"reputation": 3696, "user_id": 6107079, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CUGlv.jpg?s=128&g=1", "display_name": "Mahi", "link": "https://stackoverflow.com/users/6107079/mahi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 346, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1516277467, "creation_date": 1516277467, "question_id": 48321045, "link": "https://stackoverflow.com/questions/48321045/what-happens-with-firebaseauth-in-flutter-if-the-app-is-stopped-or-running-in-ba", "title": "what happens with FirebaseAuth in flutter if the app is stopped or running in background?", "body": "<p>Sorry, I am back with a bug again. I am actually trying to optimise my firebase database and wanted to know how the firebase authentication works when the app is running.</p>\n\n<p>1.so the question is how long does a connection persist once we get an instance?</p>\n\n<p>2.what happens to the instance which we have already when the app is in the background or killed by the user?</p>\n\n<p>3.what is the optimised way to go about having a connection with firebase ? is it better if we have a persistent connection or creating new instances?</p>\n\n<ol start=\"4\">\n<li>if persistent connection is better then how can we achieve this functionality in flutter mobile apps.</li>\n</ol>\n\n<p>Many thanks,\nMahi.</p>\n"}]