[{"tags": ["json", "firebase", "firebase-realtime-database", "dart", "flutter"], "comments": [{"owner": {"reputation": 915, "user_id": 2999543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48095928c82a584dd52a06d4426f000a?s=128&d=identicon&r=PG&f=1", "display_name": "Rene", "link": "https://stackoverflow.com/users/2999543/rene"}, "edited": false, "score": 1, "creation_date": 1517392981, "post_id": 48536748, "comment_id": 84073739, "body": "There was een issue that firestore didn&#39;t expose the document id. It was kind of fixed by exposing the path. Not sure if you can work with that or if there is a better fix already. Reference: <a href=\"https://github.com/flutter/plugins/pull/244\" rel=\"nofollow noreferrer\">github.com/flutter/plugins/pull/244</a>"}, {"owner": {"reputation": 33685, "user_id": 3434970, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/cWyFQ.png?s=128&g=1", "display_name": "Shady Aziza", "link": "https://stackoverflow.com/users/3434970/shady-aziza"}, "edited": false, "score": 0, "creation_date": 1517408265, "post_id": 48536748, "comment_id": 84083768, "body": "Why do you want to read the key itself when you can read all the values ?"}, {"owner": {"reputation": 429, "user_id": 5675229, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a1628ffe6bade3717023e4fc1fa916fc?s=128&d=identicon&r=PG", "display_name": "Wonderjimmy", "link": "https://stackoverflow.com/users/5675229/wonderjimmy"}, "edited": false, "score": 0, "creation_date": 1517408673, "post_id": 48536748, "comment_id": 84084106, "body": "Because I need to replace the values under the key. Actually getting the whole set is not a problem, I just want to know how to properly parse the returned result."}, {"owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 1, "creation_date": 1517409538, "post_id": 48536748, "comment_id": 84084767, "body": "<a href=\"//meta.stackexchange.com/a/116105/295637\">You do not need to mark questions as &quot;SOLVED&quot; via editing the title</a>, or <a href=\"//meta.stackexchange.com/a/109959/295637\">posting updates/thanks in posts</a>. Simply add your own answer, and mark as accepted if one of the answers here didn&#39;t give you a solution. Anything additional can be perceived as noise for future visitors. See: <a href=\"//stackoverflow.com/help/self-answer\">Can I answer my own question?</a>."}], "answers": [{"comments": [{"owner": {"reputation": 429, "user_id": 5675229, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a1628ffe6bade3717023e4fc1fa916fc?s=128&d=identicon&r=PG", "display_name": "Wonderjimmy", "link": "https://stackoverflow.com/users/5675229/wonderjimmy"}, "edited": false, "score": 0, "creation_date": 1517385227, "post_id": 48536926, "comment_id": 84069098, "body": "Thanks for your reply, but if using snapshot.key the returned value would be &quot;users&quot;."}, {"owner": {"reputation": 1165, "user_id": 5915102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff356405217cfe87d57325a52308678?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Mounir", "link": "https://stackoverflow.com/users/5915102/alex-mounir"}, "reply_to_user": {"reputation": 429, "user_id": 5675229, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a1628ffe6bade3717023e4fc1fa916fc?s=128&d=identicon&r=PG", "display_name": "Wonderjimmy", "link": "https://stackoverflow.com/users/5675229/wonderjimmy"}, "edited": false, "score": 0, "creation_date": 1517385814, "post_id": 48536926, "comment_id": 84069408, "body": "Updated the response based on your query, there is a forEach method on the snapshot that iterates the childSnapshots with key and val() props"}, {"owner": {"reputation": 429, "user_id": 5675229, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a1628ffe6bade3717023e4fc1fa916fc?s=128&d=identicon&r=PG", "display_name": "Wonderjimmy", "link": "https://stackoverflow.com/users/5675229/wonderjimmy"}, "edited": false, "score": 0, "creation_date": 1517386440, "post_id": 48536926, "comment_id": 84069737, "body": "Thanks Alex, let me try that tonight.  BTW, what I want to do is getting the child key then set the updated JSON back to the original position, what is the best practice for doing something like this? Is iterating the snapshot inevitable?"}, {"owner": {"reputation": 1165, "user_id": 5915102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff356405217cfe87d57325a52308678?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Mounir", "link": "https://stackoverflow.com/users/5915102/alex-mounir"}, "reply_to_user": {"reputation": 429, "user_id": 5675229, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a1628ffe6bade3717023e4fc1fa916fc?s=128&d=identicon&r=PG", "display_name": "Wonderjimmy", "link": "https://stackoverflow.com/users/5675229/wonderjimmy"}, "edited": false, "score": 1, "creation_date": 1517387372, "post_id": 48536926, "comment_id": 84070242, "body": "When you request a snapshot of the db with a criteria it returns a list or null, you have to validate that it exists (not null), store it as you see fit for further use then iterate over the children &amp; / or pick the first match"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1524566919, "post_id": 48536926, "comment_id": 87015429, "body": "This answer uses JavaScript syntax. Flutter uses Dart and the code should look different."}], "tags": [], "owner": {"reputation": 1165, "user_id": 5915102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff356405217cfe87d57325a52308678?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Mounir", "link": "https://stackoverflow.com/users/5915102/alex-mounir"}, "is_accepted": false, "score": 1, "last_activity_date": 1517385729, "last_edit_date": 1517385729, "creation_date": 1517384446, "answer_id": 48536926, "question_id": 48536748, "link": "https://stackoverflow.com/questions/48536748/getting-json-key-value-from-firebase-datasnapshot/48536926#48536926", "title": "Getting JSON Key Value from Firebase Datasnapshot", "body": "<p>You can get the key by snapshot.key, you can find a reference to it here:</p>\n\n<pre><code>snapshot.forEach(function(childSnapshot) {\n  var childKey = childSnapshot.key;\n  var childData = childSnapshot.val();\n  // ...\n});\n</code></pre>\n\n<p><a href=\"https://firebase.google.com/docs/database/web/lists-of-data#listen_for_value_events\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/database/web/lists-of-data#listen_for_value_events</a></p>\n"}, {"comments": [{"owner": {"reputation": 429, "user_id": 5675229, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a1628ffe6bade3717023e4fc1fa916fc?s=128&d=identicon&r=PG", "display_name": "Wonderjimmy", "link": "https://stackoverflow.com/users/5675229/wonderjimmy"}, "edited": false, "score": 0, "creation_date": 1517385302, "post_id": 48536955, "comment_id": 84069137, "body": "Yes, this is exactly what I see. So how can I get the value &quot;-L474-TYYYGPvCChlZCS&quot; just under &quot;users&quot;?"}, {"owner": {"reputation": 1081, "user_id": 7380955, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bmDk8.jpg?s=128&g=1", "display_name": "Mahesh Jadhav", "link": "https://stackoverflow.com/users/7380955/mahesh-jadhav"}, "reply_to_user": {"reputation": 429, "user_id": 5675229, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a1628ffe6bade3717023e4fc1fa916fc?s=128&d=identicon&r=PG", "display_name": "Wonderjimmy", "link": "https://stackoverflow.com/users/5675229/wonderjimmy"}, "edited": false, "score": 0, "creation_date": 1517385411, "post_id": 48536955, "comment_id": 84069190, "body": "after you get the snapshot inside the map you get snapshot right?"}, {"owner": {"reputation": 429, "user_id": 5675229, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a1628ffe6bade3717023e4fc1fa916fc?s=128&d=identicon&r=PG", "display_name": "Wonderjimmy", "link": "https://stackoverflow.com/users/5675229/wonderjimmy"}, "edited": false, "score": 0, "creation_date": 1517385542, "post_id": 48536955, "comment_id": 84069252, "body": "Yes, or any smarter approach ;)"}, {"owner": {"reputation": 1081, "user_id": 7380955, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bmDk8.jpg?s=128&g=1", "display_name": "Mahesh Jadhav", "link": "https://stackoverflow.com/users/7380955/mahesh-jadhav"}, "reply_to_user": {"reputation": 429, "user_id": 5675229, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a1628ffe6bade3717023e4fc1fa916fc?s=128&d=identicon&r=PG", "display_name": "Wonderjimmy", "link": "https://stackoverflow.com/users/5675229/wonderjimmy"}, "edited": false, "score": 0, "creation_date": 1517385919, "post_id": 48536955, "comment_id": 84069464, "body": "are you getting the key like this i guess this is the way i know"}, {"owner": {"reputation": 1081, "user_id": 7380955, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bmDk8.jpg?s=128&g=1", "display_name": "Mahesh Jadhav", "link": "https://stackoverflow.com/users/7380955/mahesh-jadhav"}, "reply_to_user": {"reputation": 429, "user_id": 5675229, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a1628ffe6bade3717023e4fc1fa916fc?s=128&d=identicon&r=PG", "display_name": "Wonderjimmy", "link": "https://stackoverflow.com/users/5675229/wonderjimmy"}, "edited": false, "score": 0, "creation_date": 1517386378, "post_id": 48536955, "comment_id": 84069701, "body": "Ok if it is users then try to map users and then try using key property"}, {"owner": {"reputation": 429, "user_id": 5675229, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a1628ffe6bade3717023e4fc1fa916fc?s=128&d=identicon&r=PG", "display_name": "Wonderjimmy", "link": "https://stackoverflow.com/users/5675229/wonderjimmy"}, "edited": false, "score": 0, "creation_date": 1517408953, "post_id": 48536955, "comment_id": 84084295, "body": "Seems the DataSnapshot returned is just a Map&lt;String, dynamic&gt;, no more no less. If onValue.key = &quot;users&quot;, then the key of the first child is the value I want. Thanks Mahesh!  I will update the question with my finding."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1524566913, "post_id": 48536955, "comment_id": 87015423, "body": "This answer uses JavaScript syntax. Flutter uses Dart and the code should look different."}], "tags": [], "owner": {"reputation": 1081, "user_id": 7380955, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bmDk8.jpg?s=128&g=1", "display_name": "Mahesh Jadhav", "link": "https://stackoverflow.com/users/7380955/mahesh-jadhav"}, "is_accepted": true, "score": 5, "last_activity_date": 1517386464, "last_edit_date": 1517386464, "creation_date": 1517384570, "answer_id": 48536955, "question_id": 48536748, "link": "https://stackoverflow.com/questions/48536748/getting-json-key-value-from-firebase-datasnapshot/48536955#48536955", "title": "Getting JSON Key Value from Firebase Datasnapshot", "body": "<p>for accessing the key from DataSnapshot just use snapshot.key and you will have the relative key of the item in your case Users</p>\n\n<pre><code> .then((onValue) {\n   onValue.map(data =&gt; {\n      var key = data.key\n    })\n });\n</code></pre>\n\n<p>or just use as given in firebase docs inside then</p>\n\n<pre><code>.then(function(snapshot) {\n    snapshot.forEach(function(childSnapshot) {\n      var key = childSnapshot.key; // you will get your key here\n  });\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 9385643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/94bmh.png?s=128&g=1", "display_name": "Stamatis Deliyannis", "link": "https://stackoverflow.com/users/9385643/stamatis-deliyannis"}, "is_accepted": false, "score": 0, "last_activity_date": 1545395473, "creation_date": 1545395473, "answer_id": 53884866, "question_id": 48536748, "link": "https://stackoverflow.com/questions/48536748/getting-json-key-value-from-firebase-datasnapshot/53884866#53884866", "title": "Getting JSON Key Value from Firebase Datasnapshot", "body": "<p>This worked for me:</p>\n\n<pre><code>.then(res =&gt; {\n      // console.log(res)\n      const data = res.data\n      // extracting firebase ids for manipulating existing notes\n      for (let key in data) {\n        const item = data[key]\n        item.id = key\n        console.log(item.id)\n      }\n</code></pre>\n"}], "owner": {"reputation": 429, "user_id": 5675229, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a1628ffe6bade3717023e4fc1fa916fc?s=128&d=identicon&r=PG", "display_name": "Wonderjimmy", "link": "https://stackoverflow.com/users/5675229/wonderjimmy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4653, "favorite_count": 1, "accepted_answer_id": 48536955, "answer_count": 3, "score": 3, "last_activity_date": 1545395473, "creation_date": 1517383787, "last_edit_date": 1517410195, "question_id": 48536748, "link": "https://stackoverflow.com/questions/48536748/getting-json-key-value-from-firebase-datasnapshot", "title": "Getting JSON Key Value from Firebase Datasnapshot", "body": "<p>Meanwhile I am developing a Flutter app with Firebase and it is enjoyable indeed, of course there is hassle to overcome...</p>\n\n<p>I setup a Firebase datastore, and through the firebase_database plugin I got a DataSnapshot returned as follow:</p>\n\n<p><a href=\"https://i.stack.imgur.com/A7OIc.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A7OIc.jpg\" alt=\"enter image description here\"></a></p>\n\n<pre><code>FirebaseDatabase.instance.reference().child('users')\n  .orderByChild('emailAddress')\n  .equalTo('wonderjimmy@gmail.com').once()\n  .then((onValue) {\n   Map data = onValue.value;\n  });\n</code></pre>\n\n<p>I use a Map object to keep this JSON. A stupid question: if I just want to get the value \"<strong>-L474-TYYYGPvCChlZCS</strong>\", how should I do?</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1517395824, "post_id": 48534264, "comment_id": 84075644, "body": "What do you call a variable of type Map <code>list</code>? :D"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1517396261, "post_id": 48534264, "comment_id": 84075982, "body": "I had a brief look and would your code expect to work. I&#39;d suggest you try to simplify the code to ensure nothing else interferes."}, {"owner": {"reputation": 3696, "user_id": 6107079, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CUGlv.jpg?s=128&g=1", "display_name": "Mahi", "link": "https://stackoverflow.com/users/6107079/mahi"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1517404593, "post_id": 48534264, "comment_id": 84081155, "body": "Thanks @G&#252;nterZ&#246;chbauer sorry for declaring map as a list. as i was trying to use lists and maps and just changed the list to maps.   i&#39;ve now edited this. but the code doesnt seem to work for map changes."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1517406010, "post_id": 48534264, "comment_id": 84082169, "body": "Did it work when it was a list?"}, {"owner": {"reputation": 3696, "user_id": 6107079, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CUGlv.jpg?s=128&g=1", "display_name": "Mahi", "link": "https://stackoverflow.com/users/6107079/mahi"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1517421754, "post_id": 48534264, "comment_id": 84093155, "body": "it actually is working absolutely fine for list. Thank you."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1517421844, "post_id": 48534264, "comment_id": 84093220, "body": "Are you talking about <code>addAll(...)</code> or <code>observeMap[&#39;hi&#39;].remove(&#39;hey&#39;);</code>?"}, {"owner": {"reputation": 3696, "user_id": 6107079, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CUGlv.jpg?s=128&g=1", "display_name": "Mahi", "link": "https://stackoverflow.com/users/6107079/mahi"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1517458940, "post_id": 48534264, "comment_id": 84106737, "body": "sorry for the late reply Gunter Zochbauer, even the map was working fine for    &#39;addAll(...)&#39;    but is not working for   &#39;observeMap[&#39;hi&#39;].remove(&#39;hey&#39;);&#39;   although it works for   &#39; observeMap.remove(&#39;hi&#39;) &#39;.  thanks"}], "answers": [{"comments": [{"owner": {"reputation": 3696, "user_id": 6107079, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CUGlv.jpg?s=128&g=1", "display_name": "Mahi", "link": "https://stackoverflow.com/users/6107079/mahi"}, "edited": false, "score": 0, "creation_date": 1517460776, "post_id": 48555372, "comment_id": 84107220, "body": "oh dear, thank you very much for your help Gunter Zochbauer, I will use an EventBus instead."}, {"owner": {"reputation": 3696, "user_id": 6107079, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CUGlv.jpg?s=128&g=1", "display_name": "Mahi", "link": "https://stackoverflow.com/users/6107079/mahi"}, "edited": false, "score": 0, "creation_date": 1517461723, "post_id": 48555372, "comment_id": 84107502, "body": "oh i&#39;ve never tried redux, I will give it a go. thank you."}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 3, "last_activity_date": 1517459380, "creation_date": 1517459380, "answer_id": 48555372, "question_id": 48534264, "link": "https://stackoverflow.com/questions/48534264/observable-package-in-dart-not-listening-for-changes-on-map/48555372#48555372", "title": "observable package in dart not listening for changes on map?", "body": "<p>That's working as intended, the observable map only recognizes if values or keys are added or removed, not when properties of values it holds are modified.</p>\n"}], "owner": {"reputation": 3696, "user_id": 6107079, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CUGlv.jpg?s=128&g=1", "display_name": "Mahi", "link": "https://stackoverflow.com/users/6107079/mahi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1755, "favorite_count": 0, "accepted_answer_id": 48555372, "answer_count": 1, "score": 1, "last_activity_date": 1517459380, "creation_date": 1517371275, "last_edit_date": 1517404797, "question_id": 48534264, "link": "https://stackoverflow.com/questions/48534264/observable-package-in-dart-not-listening-for-changes-on-map", "title": "observable package in dart not listening for changes on map?", "body": "<p>I am actually trying to listen for changes on a map inside my Flutter app which is declared as <code>ObservableMap</code> using <code>Observable</code> package.</p>\n\n<p>I am using a <code>StreamSubscription</code> to notify of any changes. But the problem is it is not listening for changes inside a map which are inside the map objects. I have included an example for reference. Please can someone tell me if I am doing anything wrong or do we have to do this in a different way.</p>\n\n<p>main.dart</p>\n\n<pre><code>    import 'dart:async';\n\nimport 'package:flutter/material.dart';\nimport 'package:observable_map_demo/globals.dart';\nimport 'package:observable_map_demo/second_screen.dart';\n\nvoid main() =&gt; runApp(new MyApp());\n\nclass MyApp extends StatelessWidget {\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      title: 'Flutter Demo',\n      theme: new ThemeData(\n\n        primarySwatch: Colors.blue,\n      ),\n      home: new MyHomePage(title: 'Observable Demo'),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  MyHomePage({Key key, this.title}) : super(key: key);  \n\n  final String title;\n\n  @override\n  _MyHomePageState createState() =&gt; new _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n\n  Map data = new Map();\n  StreamSubscription changeListener;\n  var change;\n\n  @override\n  void initState(){\n    super.initState();\n//    changeListener = observeMap.changes.listen((c){\n//      setState((){\n//        data = observeMap;\n//        print('here');\n//        print(c);\n//\n//      });\n//    });\n\n    change = observeMap.changes.forEach((c){\n      setState((){\n        print(c);\n        data = observeMap;\n        print('here in ');\n\n      });\n\n    }).whenComplete((){\n      setState((){\n        data = observeMap;\n        print('here');\n\n      });\n    });\n\n\n  }\n\n  @override\n  Widget build(BuildContext context) {\n\n    return new Scaffold(\n      appBar: new AppBar(\n\n        title: new Text(widget.title),\n      ),\n      body: new Center(\n\n        child: new Column(\n\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: &lt;Widget&gt;[\n//            \n          new Text(data.toString()),\n\n            new MaterialButton(child: new Text('click for next screen'),onPressed: ()=&gt;Navigator.push(context, new MaterialPageRoute(builder: (_)=&gt; new SecondState())),)\n          ],\n        ),\n      ),\n       // This trailing comma makes auto-formatting nicer for build methods.\n    );\n  }\n}\n</code></pre>\n\n<p>globals.dart:</p>\n\n<pre><code>import 'package:observable/observable.dart';\nObservableMap observeMap = new ObservableMap();\n</code></pre>\n\n<p>second_screen.dart:</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:observable_map_demo/globals.dart';\n\nclass SecondState extends StatefulWidget {\n  @override\n  _SecondStateState createState() =&gt; new _SecondStateState();\n}\n\nclass _SecondStateState extends State&lt;SecondState&gt; {\n  int i=0;\n\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      body: new Column(\n        mainAxisAlignment: MainAxisAlignment.center,\n        children:&lt;Widget&gt;[\n\n          new MaterialButton(onPressed: ((){\n            i++;\n\n            setState((){\n              Map x = {'prayuta':'hyd'};\n              Map data1 = {'hey':x};\n\n              Map data = {'hi': data1,\n              'how':'hello world'};\n\n              observeMap.addAll(data);\n              print(observeMap);\n            });\n\n          }),\n            child: new Text('Hi'+observeMap.toString()),\n          ),\n\n          new MaterialButton(onPressed: ((){\n            setState((){\n              observeMap['hi'].remove('hey');\n              print(observeMap);\n            });\n          }),\n            child: new Text('remove'+observeMap.toString()),\n          ),\n\n        ]\n\n\n      ),\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["dart", "dart-pub"], "answers": [{"comments": [{"owner": {"reputation": 159, "user_id": 3344870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e58114bfce3de819641a0efb96baca9c?s=128&d=identicon&r=PG&f=1", "display_name": "HerrJohr", "link": "https://stackoverflow.com/users/3344870/herrjohr"}, "reply_to_user": {"reputation": 1644, "user_id": 6172447, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/tn7Gu.jpg?s=128&g=1", "display_name": "Tobias Marschall", "link": "https://stackoverflow.com/users/6172447/tobias-marschall"}, "edited": false, "score": 0, "creation_date": 1527512339, "post_id": 48532062, "comment_id": 88144052, "body": "I tested it with AngularDart 5. Do you have an error message or other details to find the cause?"}], "tags": [], "owner": {"reputation": 159, "user_id": 3344870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e58114bfce3de819641a0efb96baca9c?s=128&d=identicon&r=PG&f=1", "display_name": "HerrJohr", "link": "https://stackoverflow.com/users/3344870/herrjohr"}, "is_accepted": true, "score": 8, "last_activity_date": 1517354351, "creation_date": 1517354351, "answer_id": 48532062, "question_id": 48532050, "link": "https://stackoverflow.com/questions/48532050/how-can-i-debug-dart-builders-with-breakpoints-in-webstorm/48532062#48532062", "title": "How can I debug Dart Builders with breakpoints in WebStorm", "body": "<p>Instead of calling pub run build_runner  you can execute and debug the file build.dart which can be found here:</p>\n\n<blockquote>\n  <p>.dart_tool/build/entrypoint/</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/KCaGE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KCaGE.png\" alt=\"enter image description here\"></a></p>\n\n<p>To enter your command like serve as in pub run build_runner serve you can edit your debug configurations:</p>\n\n<p><a href=\"https://i.stack.imgur.com/vfMGZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vfMGZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Put the command inside the field <em>Program arguments</em>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/UhU4b.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UhU4b.png\" alt=\"enter image description here\"></a></p>\n\n<p>Click <em>Apply</em> and start debugging again. Webstorm will interrupt when a breakpoint is reached.</p>\n"}], "owner": {"reputation": 159, "user_id": 3344870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e58114bfce3de819641a0efb96baca9c?s=128&d=identicon&r=PG&f=1", "display_name": "HerrJohr", "link": "https://stackoverflow.com/users/3344870/herrjohr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 626, "favorite_count": 0, "accepted_answer_id": 48532062, "answer_count": 1, "score": 4, "last_activity_date": 1517354351, "creation_date": 1517354288, "question_id": 48532050, "link": "https://stackoverflow.com/questions/48532050/how-can-i-debug-dart-builders-with-breakpoints-in-webstorm", "title": "How can I debug Dart Builders with breakpoints in WebStorm", "body": "<p>Dart uses the <a href=\"https://github.com/dart-lang/build\" rel=\"nofollow noreferrer\">build</a> package to generate code. What if you want to debug your own Builder or an existing one?</p>\n"}, {"tags": ["asynchronous", "dart", "future", "zone", "dart-shelf"], "answers": [{"tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": true, "score": 1, "last_activity_date": 1517414801, "creation_date": 1517414801, "answer_id": 48546518, "question_id": 48529328, "link": "https://stackoverflow.com/questions/48529328/how-can-i-cancel-abort-a-zone-in-dart/48546518#48546518", "title": "How can I cancel/abort a zone in Dart?", "body": "<p>Nothing can kill running code except itself. If you want code to be interruptible, you need some way to tell it, and the code itself needs to terminate (likely by throwing an error). In this case, the <code>innerHandler</code> needs to be able to interrupt itself when requested. If it's not your code, that might not be possible.</p>\n\n<p>You <em>can</em> write a zone that stops execution of asynchronous events when a flag is set (by modifying <code>Zone.run</code> etc.), but you must be very careful about that - it might never get to an asynchronous finally block and release resources if you start throwing away asynchronous events. So, that's not recommended as a general solution, only for very careful people willing to do manual resource management.</p>\n"}], "owner": {"reputation": 3851, "user_id": 84762, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/03f58429e8709df581bedd42f576f649?s=128&d=identicon&r=PG", "display_name": "KOGI", "link": "https://stackoverflow.com/users/84762/kogi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "accepted_answer_id": 48546518, "answer_count": 1, "score": 1, "last_activity_date": 1517424238, "creation_date": 1517341297, "last_edit_date": 1517424238, "question_id": 48529328, "link": "https://stackoverflow.com/questions/48529328/how-can-i-cancel-abort-a-zone-in-dart", "title": "How can I cancel/abort a zone in Dart?", "body": "<p>I have an http web server that I'm trying to detect long-running requests and abort them. The following code successfully returns to the client upon timeout, but the async zone still continues to run to completion. <strong>How can I actually <em>kill</em> the request handler?</strong></p>\n\n<pre><code>var zone = runZoned(() {\n  var timer = new Timer(new Duration(seconds: Config.longRequestTimeoutSeconds), () {\n    if (!completer.isCompleted) { // -- not already completed\n      log.severe('request timed out');\n      // TODO: This successfully responds to the client early, but it does nothing to abort the zone/handler that is already running.\n      //       Even though the client will never see the result (and won't have to wait for it), the zone/handler will continue to run to completion as normal.\n      // TODO: Find a way to kill/abort/cancel the zone\n      completer.complete(new shelf.Response(HttpStatus.SERVICE_UNAVAILABLE, body: 'The server timed out while processing the request'));\n    }\n  });\n\n  return innerHandler(request) // -- handle request as normal (this may consist of several async futures within)\n    .then((shelf.Response response) {\n      timer.cancel(); // -- prevent the timeout intercept\n      if (!completer.isCompleted) { // -- not already completed (not timed out)\n        completer.complete(response);\n      }\n    })\n    .catchError(completer.completeError);\n});\n</code></pre>\n"}, {"tags": ["dart", "angular-dart"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 2728393, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/328f9863618efc7fdc6b79a06071fecd?s=128&d=identicon&r=PG&f=1", "display_name": "pswrdf", "link": "https://stackoverflow.com/users/2728393/pswrdf"}, "edited": false, "score": 0, "creation_date": 1517389343, "post_id": 48523592, "comment_id": 84071369, "body": "It doesn&#39;t work without &quot;provider&quot; string with exception: No provider found for MyComp."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 85, "user_id": 2728393, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/328f9863618efc7fdc6b79a06071fecd?s=128&d=identicon&r=PG&f=1", "display_name": "pswrdf", "link": "https://stackoverflow.com/users/2728393/pswrdf"}, "edited": false, "score": 0, "creation_date": 1517389414, "post_id": 48523592, "comment_id": 84071412, "body": "Sorry, I forgot to remove the constructor parameter. You can&#39;t inject a component from the view this way."}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 2, "last_activity_date": 1517389377, "last_edit_date": 1517389377, "creation_date": 1517321874, "answer_id": 48523592, "question_id": 48521362, "link": "https://stackoverflow.com/questions/48521362/field-in-component-becomes-null-between-ngoninit-and-click-event/48523592#48523592", "title": "Field in component becomes null between ngOnInit and click event", "body": "<p>Angular creates an instance per provider.</p>\n\n<p>If you use </p>\n\n<pre><code>providers: const[MyComp],\n</code></pre>\n\n<p>this provider will hold an instance of the <code>MyComp</code> class. This will not be an Angular component, just an instance of the plain class. Angular won't call <code>ngOnInit</code> because it is not a component.\nThis instance will be passed to the constructor.</p>\n\n<p>Angular creates a component for <code>&lt;mycomp&gt;&lt;/mycomp&gt;</code> though and calls <code>ngOnInit</code> on this instance.<br>\nThis is another instance than the once created by the provider.</p>\n\n<p>To get hold of a reference of a component in the template you can use <code>@ViewChild()</code> or <code>@ContentChild()</code></p>\n\n<pre><code>@Component (\n  selector: 'testcomp',\n  template: '''\n    &lt;button (click)=\"testModeler()\"&gt;load&lt;/button&gt;\n    &lt;mycomp&gt;&lt;/mycomp&gt;''',\n    directives: const[MyComp],\n)\nclass TestComponent {\n  @ViewChild(MyComp) MyComp myComp;\n\n  TestComponent();\n\n  void testModeler() {\n    myComp.mymeth();\n  }\n}\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template/35209681#35209681\">How can I select an element in a component template?</a> provides some additional explanation. It's for TypeScript but most things should work with small syntax changes.</p>\n\n<p><a href=\"https://webdev.dartlang.org/angular/guide\" rel=\"nofollow noreferrer\">https://webdev.dartlang.org/angular/guide</a> should also contain some info.</p>\n"}], "owner": {"reputation": 85, "user_id": 2728393, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/328f9863618efc7fdc6b79a06071fecd?s=128&d=identicon&r=PG&f=1", "display_name": "pswrdf", "link": "https://stackoverflow.com/users/2728393/pswrdf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "accepted_answer_id": 48523592, "answer_count": 1, "score": 1, "last_activity_date": 1517389377, "creation_date": 1517314874, "question_id": 48521362, "link": "https://stackoverflow.com/questions/48521362/field-in-component-becomes-null-between-ngoninit-and-click-event", "title": "Field in component becomes null between ngOnInit and click event", "body": "<p>Typical component:</p>\n\n<pre><code>@Component (\nselector: 'mycomp',\ntemplate: '&lt;div&gt;mycomp&lt;/div&gt;',\n)\nclass MyComp implements OnInit {\nString testobj;\nvoid mymeth() {\n  context.callMethod('alert', [testobj]);\n}\n@override\nngOnInit() {\n  testobj = '123';\n  context.callMethod('alert', ['initialized']);\n}}\n</code></pre>\n\n<p>placed in app root component like that:</p>\n\n<pre><code>import 'mycomp_component.dart';\nimport 'package:angular/angular.dart';\n@Component (\nselector: 'testcomp',\ntemplate: '''\n&lt;button (click)=\"testModeler()\"&gt;load&lt;/button&gt;\n&lt;mycomp&gt;&lt;/mycomp&gt;''',\nproviders: const[MyComp],\ndirectives: const[MyComp],\n)\nclass TestComponent {\nMyComp myComp;\nTestComponent(this.myComp);\nvoid testModeler() {\n  myComp.mymeth();\n}}\n</code></pre>\n\n<p>testobj initializes on page load, but when I click a \"load\" button testobj is null! Why it happens and how to make it working properly?</p>\n\n<p>Also: how to diagnose problems like that in dart, is there a possibility to put a breakpoint on class or field? I don't find a way in dartium/</p>\n"}, {"tags": ["post", "dart", "http-post", "dart-pub"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1517255883, "post_id": 48508370, "comment_id": 84012809, "body": "Why do you think <code>write</code> doesn&#39;t work? Perhaps you want to use <code>add</code>? All other available methods are listed in <a href=\"https://api.dartlang.org/stable/1.24.3/dart-io/HttpClientRequest-class.html#instance-methods\" rel=\"nofollow noreferrer\">api.dartlang.org/stable/1.24.3/dart-io/&hellip;</a>"}, {"owner": {"reputation": 11, "user_id": 9285410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de657d3d61e16f9b9607e80025646b87?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Von Klitzing", "link": "https://stackoverflow.com/users/9285410/nicholas-von-klitzing"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1517258388, "post_id": 48508370, "comment_id": 84014094, "body": "@G&#252;nterZ&#246;chbauer The authentification is working and the the SOAP envelope is 100% correct, but the request results in an internal server error, indicating the envelope wasn&#39;t transferred correctly or not in the way intended. I have tested the same envelope in other languages before and it works perfectly fine."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1517261070, "post_id": 48508370, "comment_id": 84015407, "body": "I don&#39;t know what envelop the server requires. Can you post an exact error message you get from the server?"}, {"owner": {"reputation": 11, "user_id": 9285410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de657d3d61e16f9b9607e80025646b87?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Von Klitzing", "link": "https://stackoverflow.com/users/9285410/nicholas-von-klitzing"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1517262977, "post_id": 48508370, "comment_id": 84016173, "body": "@G&#252;nterZ&#246;chbauer <a href=\"https://pastebin.com/PQpdWFP8\" rel=\"nofollow noreferrer\">The error message</a>"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1517263278, "post_id": 48508370, "comment_id": 84016295, "body": "Dart dosn&#39;t create SOAP requests and I doubt any other language does so without explicitly doing so. I don&#39;t know about a package that would provide that for Dart. Perhaps you can run a server-side service that converts between JSON and SOAP in a language that supports SOAP"}, {"owner": {"reputation": 11, "user_id": 9285410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de657d3d61e16f9b9607e80025646b87?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Von Klitzing", "link": "https://stackoverflow.com/users/9285410/nicholas-von-klitzing"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1517264919, "post_id": 48508370, "comment_id": 84016962, "body": "@G&#252;nterZ&#246;chbauer Thank you for your help so far. I am aware the Dart doesn&#39;t have SOAP support. This is why I am attempting to send SOAP requests by manually setting the headers and body. Shouldn&#39;t what I did be the equivalent of a normal SOAP response?"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1517284987, "post_id": 48508370, "comment_id": 84022066, "body": "Sorry, didn&#39;t look close enough. Do you have a way to investigate what exactly is the difference in what the server receives when you send from Dart to ehen you send it from another language?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9285410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de657d3d61e16f9b9607e80025646b87?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Von Klitzing", "link": "https://stackoverflow.com/users/9285410/nicholas-von-klitzing"}, "edited": false, "score": 0, "creation_date": 1517655905, "post_id": 48587008, "comment_id": 84190085, "body": "Thank you for the comment. I now see that write() is the equivalent of a body. I however now realized what my real problem is. When I send the request, I get an &quot;Unexpected EOF in prolog&quot; error. Do you by any chance know the source of this error? I setup a dev server and it seems to be delivering the whole body, but when I send it to the actual server I get that error."}, {"owner": {"reputation": 32377, "user_id": 25124, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/4aec6b9ca532bc29a9c23e5147efa2fa?s=128&d=identicon&r=PG", "display_name": "Danny Tuppeny", "link": "https://stackoverflow.com/users/25124/danny-tuppeny"}, "reply_to_user": {"reputation": 11, "user_id": 9285410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de657d3d61e16f9b9607e80025646b87?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Von Klitzing", "link": "https://stackoverflow.com/users/9285410/nicholas-von-klitzing"}, "edited": false, "score": 0, "creation_date": 1517678358, "post_id": 48587008, "comment_id": 84196445, "body": "Afraid not - that sounds like another issue on the server side and would need some debugging. I&#39;d suggest trying to send the request from something like Fiddler to see if you can repro there and if so debug the web app (or if it&#39;s not your code, post a more specific question about that issue)."}], "tags": [], "owner": {"reputation": 32377, "user_id": 25124, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/4aec6b9ca532bc29a9c23e5147efa2fa?s=128&d=identicon&r=PG", "display_name": "Danny Tuppeny", "link": "https://stackoverflow.com/users/25124/danny-tuppeny"}, "is_accepted": false, "score": 2, "last_activity_date": 1595008125, "last_edit_date": 1595008125, "creation_date": 1517589095, "answer_id": 48587008, "question_id": 48508370, "link": "https://stackoverflow.com/questions/48508370/is-it-possible-to-add-a-body-to-a-http-post-request-made-with-the-dartiohttpcl/48587008#48587008", "title": "Is it possible to add a body to a http POST request made with the dart:io:HttpClient class?", "body": "<p>Write is the correct thing to use. I took your sample code and posted it to httpbin and it included the data that I wrote back in the response:</p>\n<pre><code>postTest() async {\n  const body = &quot;This is my body&quot;;\n  var httpclient = new HttpClient();\n  await httpclient\n      .postUrl(Uri.parse(\n          &quot;http://httpbin.org/post&quot;))\n      .then(\n          (HttpClientRequest request) {\n    request.headers.contentLength =\n        body.length;\n    request.write(body);\n    return request.close();\n  }).then((HttpClientResponse\n          response) async {\n    print(response.statusCode);\n    print(response.headers);\n    print(await response\n        .transform(UTF8.decoder)\n        .join());\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9285410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de657d3d61e16f9b9607e80025646b87?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Von Klitzing", "link": "https://stackoverflow.com/users/9285410/nicholas-von-klitzing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1693, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1595008125, "creation_date": 1517253129, "last_edit_date": 1517255907, "question_id": 48508370, "link": "https://stackoverflow.com/questions/48508370/is-it-possible-to-add-a-body-to-a-http-post-request-made-with-the-dartiohttpcl", "title": "Is it possible to add a body to a http POST request made with the dart:io:HttpClient class?", "body": "<p>I am currently trying to make http POST requests with Digest Authentication using the Dart programming language. The only Dart http class which supports http digest authentication is the <a href=\"https://api.dartlang.org/stable/1.24.3/dart-io/HttpClient-class.html\" rel=\"nofollow noreferrer\">dart:io:HttpClient</a> class. </p>\n\n<h2>This is my code currently:</h2>\n\n<pre><code>  setup() async {\n    var httpclient = new HttpClient();\n    httpclient.addCredentials(Uri.parse(\"https://example.com/pearson-rest/services/PublicPortalServiceJSON\"), \"Protected\", new HttpClientDigestCredentials(\"pearson\", \"m0bApP5\"));\n    await httpclient.postUrl(Uri.parse(\"https://example.com/pearson-rest/services/PublicPortalServiceJSON\"))\n    .then((HttpClientRequest request) {\n      request.headers.set(\"Content-Type\", \"text/xml; charset=utf-8\");\n      request.headers.set(\"SOAPAction\", \"https://example.com:443/pearson-rest/services/PublicPortalServiceJSON#loginToPublicPortal\");\n      request.headers.set(\"Host\", \"example.com:443\");\n      request.headers.set(\"User-Agent\", \"Apache-HttpClient/UNAVAILABLE (java 1.5)\");\n      request.write(\"\"\"&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;soap:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\" xmlns=\"http://publicportal.rest.powerschool.pearson.com/xsd\"&gt;&lt;soap:Body&gt;&lt;login xmlns=\"http://publicportal.rest.powerschool.pearson.com/xsd\"&gt;&lt;username&gt;&lt;![CDATA[\"\"\"+ studentUsername +\"\"\"]]&gt;&lt;/username&gt;&lt;password&gt;&lt;![CDATA[\"\"\"+ studentPassword +\"\"\"]]&gt;&lt;/password&gt;&lt;userType&gt;2&lt;/userType&gt;&lt;/login&gt;&lt;/soap:Body&gt;&lt;/soap:Envelope&gt;\"\"\");\n      return request.close();\n    })\n    .then((HttpClientResponse response) async {\n      print(response.statusCode);\n      print(response.headers);\n      print(await response.transform(UTF8.decoder).join());\n    });\n  }\n</code></pre>\n\n<p>The request object doesn't seem to have a field for a body. The documentation is horrible as well, so I wasn't able to find a solution so far. I thought that the write() method would be the equivalent of a body, but it is not. How can I add a body to a HttpClient POST request? Or is there a different class that supports digest authentication as well? </p>\n"}, {"tags": ["dart", "game-loop", "stagexl"], "answers": [{"comments": [{"owner": {"reputation": 779, "user_id": 5318121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65bccf833e50238aec64044e252f7676?s=128&d=identicon&r=PG&f=1", "display_name": "PhilipRoman", "link": "https://stackoverflow.com/users/5318121/philiproman"}, "edited": false, "score": 0, "creation_date": 1517382731, "post_id": 48528415, "comment_id": 84067941, "body": "This is exactly what I was looking for! The Juggler framework is wonderful for state control!"}], "tags": [], "owner": {"reputation": 418, "user_id": 394512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db761809eb30b73f87c0f35431e0870c?s=128&d=identicon&r=PG", "display_name": "bp74", "link": "https://stackoverflow.com/users/394512/bp74"}, "is_accepted": true, "score": 0, "last_activity_date": 1517337747, "creation_date": 1517337747, "answer_id": 48528415, "question_id": 48503960, "link": "https://stackoverflow.com/questions/48503960/stagexl-frame-rate-independent-logic/48528415#48528415", "title": "stagexl frame-rate independent logic", "body": "<p>Please take a look at the Juggler Framework that is built into StageXL. It is a freamework to do time-based animations. It also works great with streams as you know it from the Dart language.</p>\n\n<p>You can learn more about it here:<br>\n<a href=\"http://www.stagexl.org/docs/wiki-articles.html?article=juggler\" rel=\"nofollow noreferrer\">http://www.stagexl.org/docs/wiki-articles.html?article=juggler</a></p>\n\n<p>And most of the examples here are using the Juggler too:<br>\n<a href=\"https://github.com/bp74/StageXL_Samples\" rel=\"nofollow noreferrer\">https://github.com/bp74/StageXL_Samples</a></p>\n\n<p>Btw. the Juggler was invented by the author of the Startling framework and was later ported to StageXL.</p>\n"}], "owner": {"reputation": 779, "user_id": 5318121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65bccf833e50238aec64044e252f7676?s=128&d=identicon&r=PG&f=1", "display_name": "PhilipRoman", "link": "https://stackoverflow.com/users/5318121/philiproman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 48528415, "answer_count": 1, "score": 1, "last_activity_date": 1517337747, "creation_date": 1517237267, "question_id": 48503960, "link": "https://stackoverflow.com/questions/48503960/stagexl-frame-rate-independent-logic", "title": "stagexl frame-rate independent logic", "body": "<p>I have created a controller which listens to onKeyUp and onKeyDown events and updates a map of keys (bit set actually). It also listens to onEnterFrame event, upon which it checks which keys are down at the moment and takes actions. Everything works, but since the app is running 60 frames/second, my input is also updated 60 times/second. I'd like to have the input only updated, say 30 times/second and have that speed independent from the display speed.</p>\n\n<p>To generalize my problem, where do I put the update logic, so that it runs independently of the display frame rate (which is what happens using onEnterFrame).</p>\n\n<p>The StageXL documentation isn't much of a help at the moment. <strong>I am aware of how this is done, by measuring the time since last frame</strong>, but I expect that such a high-level framework as StageXL will have a better way of doing this.</p>\n"}, {"tags": ["dart", "petitparser"], "answers": [{"comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1517261604, "post_id": 48510095, "comment_id": 84015619, "body": "That is helpful. I completely missed the <code>build()</code> method and the dart_test.test. That was already quite helpful. Thanks a lot."}], "tags": [], "owner": {"reputation": 8200, "user_id": 82303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c3f0fc1e06aca2fce278a5a8bc0bcc1?s=128&d=identicon&r=PG", "display_name": "Lukas Renggli", "link": "https://stackoverflow.com/users/82303/lukas-renggli"}, "is_accepted": true, "score": 1, "last_activity_date": 1566434223, "last_edit_date": 1566434223, "creation_date": 1517260512, "answer_id": 48510095, "question_id": 48500391, "link": "https://stackoverflow.com/questions/48500391/unsupported-operation-references-cannot-be-parsed/48510095#48510095", "title": "Unsupported operation: References cannot be parsed", "body": "<p>There are unresolved references in your parser graph, you need to resolve them before you can parse an input.</p>\n\n<p>Your example code lacks context to tell exactly what is going wrong. If you subclass <code>GrammarDefinition</code> and call <code>build()</code> on the definition the resulting parser has all references resolved. Have a look at the documentation in <a href=\"https://github.com/petitparser/dart-petitparser/blob/ddd9921d702dd18cda4e2f84190777b7dc20b3e2/lib/src/core/definition/grammar.dart#L68\" rel=\"nofollow noreferrer\">GrammarDefinition</a> and check out how the <code>DartGrammarDefinition</code> is used from <a href=\"https://github.com/petitparser/dart-petitparser/blob/ddd9921d702dd18cda4e2f84190777b7dc20b3e2/test/dart_test.dart#L9\" rel=\"nofollow noreferrer\">its tests</a>.</p>\n"}], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 48510095, "answer_count": 1, "score": 1, "last_activity_date": 1566434223, "creation_date": 1517225940, "last_edit_date": 1566369876, "question_id": 48500391, "link": "https://stackoverflow.com/questions/48500391/unsupported-operation-references-cannot-be-parsed", "title": "Unsupported operation: References cannot be parsed", "body": "<pre><code>static const String tabChar = '\\u0009';\nParser tab() =&gt; ref(token, tabChar);\n</code></pre>\n\n\n\n<pre><code>expect(tab().accept(tabChar), isTrue);\n</code></pre>\n\n<p>with the <code>token</code> method from <a href=\"https://github.com/petitparser/dart-petitparser/blob/ddd9921d702dd18cda4e2f84190777b7dc20b3e2/example/dart/src/grammar.dart\" rel=\"nofollow noreferrer\">https://github.com/petitparser/dart-petitparser/blob/ddd9921d702dd18cda4e2f84190777b7dc20b3e2/example/dart/src/grammar.dart</a> (with the default <code>trim</code> parser)</p>\n\n<p>What needs to be changed to get rid of the error?</p>\n\n<blockquote>\n  <p>Unsupported operation: References cannot be parsed</p>\n</blockquote>\n"}, {"tags": ["dart", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 697, "user_id": 471133, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6c9cd06b030981844e4712e73114b000?s=128&d=identicon&r=PG", "display_name": "Bill Turner", "link": "https://stackoverflow.com/users/471133/bill-turner"}, "edited": false, "score": 0, "creation_date": 1592831242, "post_id": 48500804, "comment_id": 110556782, "body": "Is there an advantage to your solution over that proposed by @nknezevic below? The doc for MediaQuery states that MaterialApp and WidgetsApp introduces a MediaQuery. I am a noob, so would really like to understand. Otherwise, the answer below seems preferable for it is a cleaner, simpler solution, imo."}, {"owner": {"reputation": 53, "user_id": 4150479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd0f30019b744816bdf527962a1152ac?s=128&d=identicon&r=PG&f=1", "display_name": "john7ric", "link": "https://stackoverflow.com/users/4150479/john7ric"}, "edited": false, "score": 0, "creation_date": 1603430330, "post_id": 48500804, "comment_id": 114040528, "body": "or just simply wrap the LoginForm  with a MaterialApp . That should do it  like  testWidget = MaterialApp(home: LoginForm());"}], "tags": [], "owner": {"reputation": 631, "user_id": 5893765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5YLPp.jpg?s=128&g=1", "display_name": "David Shuma", "link": "https://stackoverflow.com/users/5893765/david-shuma"}, "is_accepted": true, "score": 48, "last_activity_date": 1517229848, "last_edit_date": 1517229848, "creation_date": 1517227280, "answer_id": 48500804, "question_id": 48498709, "link": "https://stackoverflow.com/questions/48498709/widget-test-fails-with-no-mediaquery-widget-found/48500804#48500804", "title": "Widget test fails with No MediaQuery widget found", "body": "<p>You need to wrap your widget with the <code>MediaQuery(...)</code> instance, and because you are using <code>Scaffold(..)</code> you must wrap it in a <code>MaterialApp(..)</code></p>\n\n<p><a href=\"https://docs.flutter.io/flutter/widgets/MediaQuery-class.html\" rel=\"noreferrer\">Read more about MediaQuery</a></p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>Widget testWidget = new MediaQuery(\n      data: new MediaQueryData(),\n      child: new MaterialApp(home: new LoginForm())\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 303, "user_id": 6456614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6AQAx.jpg?s=128&g=1", "display_name": "Nemanja Kne\u017eevi\u0107", "link": "https://stackoverflow.com/users/6456614/nemanja-kne%c5%beevi%c4%87"}, "is_accepted": false, "score": 9, "last_activity_date": 1558088357, "creation_date": 1558088357, "answer_id": 56184403, "question_id": 48498709, "link": "https://stackoverflow.com/questions/48498709/widget-test-fails-with-no-mediaquery-widget-found/56184403#56184403", "title": "Widget test fails with No MediaQuery widget found", "body": "<p>I had same problem and I also had to wrap it in MaterialApp, but I did that in a bit other way, without using MediaQuery. In my case it works</p>\n\n<pre><code>void main() {\n\nWidget createWidgetForTesting({Widget child}){\nreturn MaterialApp(\n  home: child,\n);\n}\n\ntestWidgets('Login Page smoke test', (WidgetTester tester) async {\n\nawait tester.pumpWidget(createWidgetForTesting(child: new LoginPage()));\n\nawait tester.pumpAndSettle();\n\n});\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 8015494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73525d6164d40b81dc7903f005cc9ce7?s=128&d=identicon&r=PG&f=1", "display_name": "Tide", "link": "https://stackoverflow.com/users/8015494/tide"}, "is_accepted": false, "score": 0, "last_activity_date": 1616970660, "creation_date": 1616970660, "answer_id": 66846813, "question_id": 48498709, "link": "https://stackoverflow.com/questions/48498709/widget-test-fails-with-no-mediaquery-widget-found/66846813#66846813", "title": "Widget test fails with No MediaQuery widget found", "body": "<p>**A perfect example of how a scaffold() widget should be the child of a MaterialApp()\n**</p>\n<pre><code>          import 'package:flutter/material.dart';\n   \n         class MyApp extends StatelessWidget {\n\n             @override\n          Widget build(BuildContext context) {\n        return MaterialApp(\n         debugShowCheckedModeBanner: false,\n           theme: ThemeData(\n      primarySwatch: Colors.blue,\n      ),\n     home: MyHomePage(title: 'title'),\n    );\n  }\n}\n\n        class MyHomePage extends StatefulWidget {\n        MyHomePage({Key Key, this.title}) : super(key: Key);\n\n       @override\n        _MyHomePageState createState() =&gt; _MyHomePageState();\n\n    }\n\n        class _MyHomePageState extends State&lt;MyHomePage&gt; {\n    Widget build(BuildContext context) {\n      return new Scaffold(\n     appBar: AppBar(\n    backgroundColor: Colors.transparent,\n    title: widget.title\n )\n\n}\n</code></pre>\n"}], "owner": {"reputation": 2107, "user_id": 3523298, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8582b755b86448fe143e0d0f26a4f9df?s=128&d=identicon&r=PG&f=1", "display_name": "Zufar Muhamadeev", "link": "https://stackoverflow.com/users/3523298/zufar-muhamadeev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28153, "favorite_count": 3, "accepted_answer_id": 48500804, "answer_count": 3, "score": 19, "last_activity_date": 1616970660, "creation_date": 1517220491, "last_edit_date": 1517223251, "question_id": 48498709, "link": "https://stackoverflow.com/questions/48498709/widget-test-fails-with-no-mediaquery-widget-found", "title": "Widget test fails with No MediaQuery widget found", "body": "<p>My question is about flutter widget test, what is proper way to test existing widgets wrapped new Scaffold(...)? I have found <code>MediaQuery.of</code> but it accepts <code>BuildContext</code> instead of <code>Widget</code>.</p>\n\n<p>Details: I have wrote simple login form widget and trying to implement widget test for it. After executing test i got exception:</p>\n\n<pre><code>Expected: 'Sorry, only customer can login from mobile device. [Mock]'\n  Actual: FlutterError:&lt;No MediaQuery widget found.\n          Scaffold widgets require a MediaQuery widget ancestor.\n          The specific widget that could not find a MediaQuery ancestor was:\n            Scaffold-[LabeledGlobalKey&lt;ScaffoldState&gt;#8ffee]\n          The ownership chain for the affected widget is:\n            Scaffold-[LabeledGlobalKey&lt;ScaffoldState&gt;#8ffee] \u2190 LoginForm \u2190 [root]\n          Typically, the MediaQuery widget is introduced by the MaterialApp or WidgetsApp widget at\n          the top of your application widget tree.&gt;\n   Which: FlutterError:&lt;No MediaQuery widget found.\n          Scaffold widgets require a MediaQuery widget ancestor.\n          The specific widget that could not find a MediaQuery ancestor was:\n            Scaffold-[LabeledGlobalKey&lt;ScaffoldState&gt;#8ffee]\n          The ownership chain for the affected widget is:\n            Scaffold-[LabeledGlobalKey&lt;ScaffoldState&gt;#8ffee] \u2190 LoginForm \u2190 [root]\n          Typically, the MediaQuery widget is introduced by the MaterialApp or WidgetsApp widget at\n          the top of your application widget tree.&gt;is not a string\n\nWhen the exception was thrown, this was the stack:\n#4      main.&lt;anonymous closure&gt; (C:\\Work\\app_mobile\\test\\login_widget_test.dart:21:5)\n&lt;asynchronous suspension&gt;\n#5      testWidgets.&lt;anonymous closure&gt;.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:flutter_test\\src\\widget_tester.dart:61:25)\n#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test\\src\\binding.dart:471:19)\n&lt;asynchronous suspension&gt;\n#9      TestWidgetsFlutterBinding._runTest (package:flutter_test\\src\\binding.dart:458:14)\n#10     AutomatedTestWidgetsFlutterBinding.runTest.&lt;anonymous closure&gt; (package:flutter_test\\src\\binding.dart:640:24)\n#11     _FakeAsync.run.&lt;anonymous closure&gt; (package:quiver\\testing\\src\\async\\fake_async.dart:186:24)\n#15     _FakeAsync.run (package:quiver\\testing\\src\\async\\fake_async.dart:185:11)\n#16     AutomatedTestWidgetsFlutterBinding.runTest (package:flutter_test\\src\\binding.dart:638:16)\n#17     testWidgets.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:flutter_test\\src\\widget_tester.dart:60:24)\n#18     Declarer.test.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:test\\src\\backend\\declarer.dart:160:19)\n&lt;asynchronous suspension&gt;\n#19     Invoker.waitForOutstandingCallbacks.&lt;anonymous closure&gt; (package:test\\src\\backend\\invoker.dart:206:15)\n&lt;asynchronous suspension&gt;\n#23     Invoker.waitForOutstandingCallbacks (package:test\\src\\backend\\invoker.dart:203:5)\n#24     Declarer.test.&lt;anonymous closure&gt; (package:test\\src\\backend\\declarer.dart:158:29)\n&lt;asynchronous suspension&gt;\n#25     Invoker._onRun.&lt;anonymous closure&gt;.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:test\\src\\backend\\invoker.dart:351:23)\n&lt;asynchronous suspension&gt;\n#27     StackZoneSpecification._run (package:stack_trace\\src\\stack_zone_specification.dart:209:15)\n#28     StackZoneSpecification._registerCallback.&lt;anonymous closure&gt; (package:stack_trace\\src\\stack_zone_specification.dart:119:48)\n#33     StackZoneSpecification._run (package:stack_trace\\src\\stack_zone_specification.dart:209:15)\n#34     StackZoneSpecification._registerCallback.&lt;anonymous closure&gt; (package:stack_trace\\src\\stack_zone_specification.dart:119:48)\n#39     _Timer._runTimers (dart:isolate-patch/dart:isolate/timer_impl.dart:367)\n#40     _Timer._handleMessage (dart:isolate-patch/dart:isolate/timer_impl.dart:401)\n#41     _RawReceivePortImpl._handleMessage (dart:isolate-patch/dart:isolate/isolate_patch.dart:163)\n(elided 17 frames from package dart:async and package dart:async-patch)\n</code></pre>\n\n<p>Here is Login form widget:</p>\n\n<pre><code>import 'dart:async';\nimport 'dart:convert';\n\nimport 'package:app_facade/app_facade.dart';\nimport 'package:app_mobile/utils/dependency_injection.dart';\nimport 'package:flutter/material.dart';\nimport 'package:http/http.dart' as http;\nimport 'package:flutter/services.dart';\n\nclass LoginForm extends StatefulWidget {\n  const LoginForm({ Key key }) : super(key: key);\n\n  static GlobalKey&lt;FormFieldState&lt;String&gt;&gt; emailFieldKey = new GlobalKey&lt;FormFieldState&lt;String&gt;&gt;();\n  static GlobalKey&lt;FormFieldState&lt;String&gt;&gt; passwordFieldKey = new GlobalKey&lt;FormFieldState&lt;String&gt;&gt;();\n  static const String routeName = '/';\n\n  @override\n  LoginFormState createState() =&gt; new LoginFormState();\n}\n\nclass LoginData {\n  String email = '';\n  String password = '';\n}\n\nclass LoginFormState extends State&lt;LoginForm&gt; {\n  final GlobalKey&lt;ScaffoldState&gt; _scaffoldKey = new GlobalKey&lt;ScaffoldState&gt;();\n\n  LoginData loginData = new LoginData();\n\n  UserApi _userApi;\n\n  void showInSnackBar(String value) {\n    _scaffoldKey.currentState.showSnackBar(new SnackBar(\n        content: new Text(value)\n    ));\n  }\n\n  bool _autovalidate = false;\n  bool _formWasEdited = false;\n  final GlobalKey&lt;FormState&gt; _formKey = new GlobalKey&lt;FormState&gt;();\n\n\n  @override\n  void initState() {\n    super.initState();\n    _userApi = new Injector().userApi;\n  }\n\n  Future&lt;Null&gt; _handleSubmitted() async {\n    final FormState form = _formKey.currentState;\n    if (!form.validate()) {\n      _autovalidate = true;  // Start validating on every change.\n      showInSnackBar('Please fix the errors in red before submitting.');\n    } else {\n      form.save();\n      login();\n    }\n  }\n\n  Future&lt;Null&gt; login() async {\n    try {\n      await _userApi.login(loginData.email, loginData.password);\n      Navigator.popAndPushNamed(context, '/user');\n    } catch (e) {\n      showInSnackBar(e.toString());\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      key: _scaffoldKey,\n      appBar: new AppBar(\n        title: const Text('Some'),\n      ),\n      body: new Form(\n          key: _formKey,\n          autovalidate: _autovalidate,\n          child: new ListView(\n            padding: const EdgeInsets.symmetric(horizontal: 16.0),\n            children: &lt;Widget&gt;[\n              new TextFormField(\n                key: new Key('email'),\n                decoration: const InputDecoration(\n                  icon: const Icon(Icons.person),\n                  hintText: 'Your email',\n                  labelText: 'Email *',\n                ),\n                onSaved: (String value) { loginData.email = value; },\n              ),\n              new TextFormField(\n                key: LoginForm.passwordFieldKey,\n                decoration: const InputDecoration(\n                  icon: const Icon(Icons.security),\n                  hintText: 'Your password',\n                  labelText: 'Password *',\n                  ),\n                obscureText: true,\n                onSaved: (String value) { loginData.password = value; },\n              ),\n              new Container(\n                padding: const EdgeInsets.all(20.0),\n                alignment: const FractionalOffset(0.5, 0.5),\n                child: new RaisedButton(\n                  child: const Text('SUBMIT'),\n                  onPressed: _handleSubmitted,\n                ),\n              ),\n              new Container(\n                padding: const EdgeInsets.only(top: 20.0),\n                child: new Text('* indicates required field', style: Theme.of(context).textTheme.caption),\n              ),\n            ],\n          )\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>And here is widget test:</p>\n\n<pre><code>import 'package:app_facade/app_facade.dart';\nimport 'package:app_mobile/login_form.dart';\nimport 'package:app_mobile/utils/dependency_injection.dart';\nimport 'package:flutter_test/flutter_test.dart';\n\nvoid main() {\n  testWidgets('login widget test', (WidgetTester tester) async {\n    Injector.configure(BackendType.MOCK);\n    // Tells the tester to build a UI based on the widget tree passed to it\n    var loginForm = new LoginForm();\n    await tester.pumpWidget(\n      loginForm\n    );\n\n    tester.enterText(find.byKey(LoginForm.emailFieldKey), \"login\");\n    tester.enterText(find.byKey(LoginForm.passwordFieldKey), \"password\");\n\n    var exception = tester.takeException();\n    print(exception);\n    expect(exception, equals('Sorry, only customer can login from mobile device. [Mock]'));\n  });\n}\n</code></pre>\n\n<p>I have found <code>MediaQuery.of</code> but don't understand how can it be used with existing widget? It accept <code>BuildContext</code> as parameter.</p>\n"}, {"tags": ["javascript", "dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 1, "last_activity_date": 1517214856, "creation_date": 1517214856, "answer_id": 48497212, "question_id": 48496958, "link": "https://stackoverflow.com/questions/48496958/dart2js-but-readable/48497212#48497212", "title": "Dart2Js but readable", "body": "<p><a href=\"https://webdev.dartlang.org/tools/dartdevc\" rel=\"nofollow noreferrer\">DDC - Dart Dev Compiler</a> does that to some degree.</p>\n\n<p>It's not intended for production use, but there are projects out there that use it that way anyway.</p>\n"}], "owner": {"reputation": 927, "user_id": 827865, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/40e42b975f04a73935cef620866a7626?s=128&d=identicon&r=PG", "display_name": "swissonid", "link": "https://stackoverflow.com/users/827865/swissonid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1517214856, "creation_date": 1517213701, "last_edit_date": 1517214746, "question_id": 48496958, "link": "https://stackoverflow.com/questions/48496958/dart2js-but-readable", "title": "Dart2Js but readable", "body": "<p>Does someone knows if there is a way to compile a library which is written in Dart to JS. But in a way so that the generated code looks like handwritten or pretty close to it?</p>\n\n<p>I would like to write a flutter app and share the business logic with the web-team. I don't want to force anyone to use Dart.</p>\n\n<p>Right now it seems to me that the way javascript to dart works fine, but the way back dart to javascript doesn't works. I feel's like a one-way road. It would be awesome if some proof me wrong and can show that dart can interop with JS and backward, like Kotlin with Java</p>\n\n<p>Thx for your answer ;D</p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 2475, "user_id": 918867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1239af264c3aac76509604f1d6ef1cd?s=128&d=identicon&r=PG", "display_name": "najeira", "link": "https://stackoverflow.com/users/918867/najeira"}, "edited": false, "score": 0, "creation_date": 1517193423, "post_id": 48493319, "comment_id": 83980443, "body": "Please share the whole code"}, {"owner": {"reputation": 22853, "user_id": 8708524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1005bc21463c9b1dcec6a3be2ab26943?s=128&d=identicon&r=PG&f=1", "display_name": "Hemanth Raj", "link": "https://stackoverflow.com/users/8708524/hemanth-raj"}, "edited": false, "score": 2, "creation_date": 1517210663, "post_id": 48493319, "comment_id": 83985409, "body": "The flutter docs itself has an example of implementing progress indicator and you can take a look at it <a href=\"https://flutter.io/flutter-for-android/#how-do-i-show-progress-indicator-in-flutter-when-there-is-a-task-that-is-running\" rel=\"nofollow noreferrer\">here</a>.  Hope that is what you were looking for."}, {"owner": {"reputation": 3595, "user_id": 4949415, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8919b49d4986be8038c1e099fd80d59f?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/4949415/robert"}, "edited": false, "score": 0, "creation_date": 1517236631, "post_id": 48493319, "comment_id": 84001014, "body": "I have put the code from the stateful widget that does the work, any help would be great."}, {"owner": {"reputation": 6021, "user_id": 1134192, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/2FKNr.jpg?s=128&g=1", "display_name": "Oliver Dixon", "link": "https://stackoverflow.com/users/1134192/oliver-dixon"}, "edited": false, "score": 0, "creation_date": 1559717756, "post_id": 48493319, "comment_id": 99503272, "body": "Every library and framework I use the circular progress spinner is the only widget/component/uiview broken in some weird way."}], "answers": [{"tags": [], "owner": {"reputation": 8338, "user_id": 410652, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8640543f532ccdd97e7828181e8fffab?s=128&d=identicon&r=PG", "display_name": "raju-bitter", "link": "https://stackoverflow.com/users/410652/raju-bitter"}, "is_accepted": false, "score": 4, "last_activity_date": 1517228637, "creation_date": 1517228637, "answer_id": 48501200, "question_id": 48493319, "link": "https://stackoverflow.com/questions/48493319/flutter-how-to-get-a-circular-progress-indicator-working/48501200#48501200", "title": "flutter how to get a circular progress indicator working", "body": "<p>I created an example based on your code snippet above. Black app with an button to toggle the submitting value using setState(). \nTapping the FloatingActionButton calls setState, toggling the value of submitting. And the progress indicator is shown.</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() {\n  runApp(new MaterialApp(home: new SubmitPage()));\n}\n\nclass SubmitPage extends StatefulWidget {\n  @override\n  _SubmitPageState createState() =&gt; new _SubmitPageState();\n}\n\nclass _SubmitPageState extends State&lt;SubmitPage&gt; {\n  bool submitting = false;\n\n  void toggleSubmitState() {\n    setState(() {\n      submitting = !submitting;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      body: new Center(\n        child: !submitting\n            ? new Container(\n                color: Colors.grey,\n              )\n            : const Center(child: const CircularProgressIndicator()),\n      ),\n      floatingActionButton: new FloatingActionButton(\n        child: new Icon(Icons.refresh),\n        onPressed: toggleSubmitState,\n      ),\n    );\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1386, "user_id": 1661186, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/A1yBT.png?s=128&g=1", "display_name": "Darlan D.", "link": "https://stackoverflow.com/users/1661186/darlan-d"}, "edited": false, "score": 0, "creation_date": 1555793500, "post_id": 48981861, "comment_id": 98227291, "body": "the new Container has collapsed?"}], "tags": [], "owner": {"reputation": 1947, "user_id": 7114470, "user_type": "registered", "accept_rate": 47, "profile_image": "https://lh5.googleusercontent.com/-QpwskthPCBg/AAAAAAAAAAI/AAAAAAAAA8I/31O3ypPHSiQ/photo.jpg?sz=128", "display_name": "siva kumar", "link": "https://stackoverflow.com/users/7114470/siva-kumar"}, "is_accepted": true, "score": 7, "last_activity_date": 1519622277, "creation_date": 1519622277, "answer_id": 48981861, "question_id": 48493319, "link": "https://stackoverflow.com/questions/48493319/flutter-how-to-get-a-circular-progress-indicator-working/48981861#48981861", "title": "flutter how to get a circular progress indicator working", "body": "<p>I had Created a example based on your query</p>\n\n<pre><code> import 'package:flutter/material.dart';\n\n void main() {\n  runApp(new MaterialApp(home: new sample()));\n  }\n\n\nclass sample extends StatefulWidget {\n@override\n_sampleState createState() =&gt; new _sampleState();\n}\n\nclass _sampleState extends State&lt;sample&gt; {\n\nbool _progressBarActive = true;\n @override\nWidget build(BuildContext context) {\nreturn new Scaffold(\n  appBar:new AppBar(\n    title: new Text(\"Circular progressbar demo\"),\n  ),\nbody: _progressBarActive == true?const CircularProgressIndicator():new Container());\n}\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 811, "user_id": 1082403, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e26b4cf6f7a91190a48e30c5bfc4913?s=128&d=identicon&r=PG", "display_name": "nick.skriabin", "link": "https://stackoverflow.com/users/1082403/nick-skriabin"}, "edited": false, "score": 2, "creation_date": 1589420039, "post_id": 61440432, "comment_id": 109290165, "body": "gifs are inefficient and huge if wanted to look good (e.g. 60fps). also why use gif that cannot be customized if flutter provides a widget for that kind of a task?"}], "tags": [], "owner": {"reputation": 365, "user_id": 1505065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jZ0if.jpg?s=128&g=1", "display_name": "Amir Aslam", "link": "https://stackoverflow.com/users/1505065/amir-aslam"}, "is_accepted": false, "score": 0, "last_activity_date": 1587907051, "last_edit_date": 1587907051, "creation_date": 1587902639, "answer_id": 61440432, "question_id": 48493319, "link": "https://stackoverflow.com/questions/48493319/flutter-how-to-get-a-circular-progress-indicator-working/61440432#61440432", "title": "flutter how to get a circular progress indicator working", "body": "<p>Why don't you use .gif image instead?</p>\n\n<p>Simply place your gif in your images folder of your project and mention it in pubspec.yaml file,just like you do for images.</p>\n\n<pre><code>Image(\n    image: AssetImage('images/circular-progress-bar.gif'),\n    width: 40,\n    height:40\n );\n</code></pre>\n"}], "owner": {"reputation": 3595, "user_id": 4949415, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8919b49d4986be8038c1e099fd80d59f?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/4949415/robert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35613, "favorite_count": 0, "accepted_answer_id": 48981861, "answer_count": 3, "score": 3, "last_activity_date": 1587907051, "creation_date": 1517190360, "last_edit_date": 1548250798, "question_id": 48493319, "link": "https://stackoverflow.com/questions/48493319/flutter-how-to-get-a-circular-progress-indicator-working", "title": "flutter how to get a circular progress indicator working", "body": "<p><strong><em>UPDATE</em></strong>\nI have changed to use a widget and put all the code for the Stateful Widget below.</p>\n\n<p>There is lots of code to this, I changed to use a stack with a Widget loadingIndicator, but it still does not get called.  My stack is around a future response, with the indicator at the bottom, I then use the onPress from a button click to call a method that changes state and then I call the other process to run.  Still nothing happens with the indicator.</p>\n\n<pre><code>class ChatServerDivided extends StatefulWidget {\n  ChatServerDivided({Key key, this.title, this.mychat}) : super(key: key);\n\n  static const String routeName = \"/ChatServerDivided\";\n\n  final ChatServerList mychat;\n  final String title;\n\n  @override\n  _ChatServerDividedState createState() =&gt; new _ChatServerDividedState();\n}\n\nclass _ChatServerDividedState extends State&lt;ChatServerDivided&gt; {\n  SharedPreferences prefs;\n  int oid = 0;\n  int pid = 0;\n  int authlevel = 0;\n  bool admin = false;\n  int type = 0;\n  String msgid = '';\n  List chatlist;\n  int listcount = 0;\n  bool grpmsg = true;\n  String sender = '';\n  String receiver = '';\n  String message = '';\n  String oname = '';\n  String pname = '';\n  String sendname;\n  String receivename;\n  String replyto = '';\n  String replyfrom = '';\n  String replysub = '';\n  final TextEditingController _newreplycontroller = new TextEditingController();\n  String myfcmtoken = 'NONE';\n  static ScrollController _scrollController;\n  bool messSync = false;\n\n  //Future&lt;http.Response&gt; _responseFuture;\n  Future&lt;List&lt;Map&gt;&gt; _responseFuture;\n  var _urlDates = '';\n  Future&lt;File&gt; _imageFile;\n  String myimage;\n  String myvideo;\n  File myimagefile;\n  File myvidfile;\n  Future&lt;int&gt; myimagelength;\n  String myext;\n  VideoPlayerController vcontroller;\n  bool isImage = false;\n  bool isVideo = false;\n  bool submitting = false;\n\n  //ScrollController scontroller = new ScrollController();\n\n  _getPrefs() async {\n    prefs = await SharedPreferences.getInstance();\n\n    if (mounted) {\n      setState(() {\n        oid = prefs.getInt('oid');\n        pid = prefs.getInt('pid');\n        authlevel = prefs.getInt('authlevel');\n        admin = prefs.getBool('admin');\n        type = 1;\n        msgid = widget.mychat.msgkey;\n        if (widget.mychat.grpid == 0) {\n          grpmsg = false;\n        } else {\n          grpmsg = true;\n        }\n        oname = widget.mychat.oname;\n        pname = widget.mychat.pname;\n        myfcmtoken = prefs.getString('fcmtoken');\n        if (authlevel == 0) {\n          sender = 'o';\n          receiver = 'p';\n          sendname = widget.mychat.oname;\n          receivename = widget.mychat.pname;\n        } else if (authlevel == 1) {\n          sender = 'p';\n          receiver = 'o';\n          sendname = widget.mychat.pname;\n          receivename = widget.mychat.oname;\n        }\n        //_getChats();\n      });\n    }\n  }\n\n  @override\n  void initState() {\n    super.initState();\n    //controller = new TabController(length: 4, vsync: this);\n\n    _scrollController = new ScrollController();\n    //_scrollController.position.maxScrollExtent;\n    _getPrefs();\n    _urlDates =\n        'http://$baseurl/chat/messages/getdates/${widget\n        .mychat.msgkey}';\n    _responseFuture = ChatDB.instance.getMessagesDates(widget.mychat.msgkey);\n  }\n\n  @override\n  void dispose() {\n    super.dispose();\n    if (vcontroller != null) {\n      vcontroller.dispose();\n    }\n\n  }\n\n  var jsonCodec = const JsonCodec();\n  var _focusnode = new FocusNode();\n\n  _getChats() async {\n    var _url =\n        'http://$baseurl/chat/messages/getdates/$msgid';\n\n    var http = createHttpClient();\n    var response = await http.get(_url, headers: getAuthHeader());\n\n    var chats = await jsonCodec.decode(response.body);\n\n    if (mounted) {\n      setState(() {\n        chatlist = chats.toList();\n        listcount = chatlist.length;\n        //replysub = 'Re: ' + chatlist[0]['sub'];\n      });\n    }\n  }\n\n  Future&lt;Null&gt; _onRefresh() {\n    Completer&lt;Null&gt; completer = new Completer&lt;Null&gt;();\n    Timer timer = new Timer(new Duration(seconds: 1), () {\n      setState(() {\n        _responseFuture =\n            ChatDB.instance.getMessagesDates(widget.mychat.msgkey);\n        print('RUNNING LOAD AFTER REFRESH AGAIN');\n      });\n      completer.complete();\n    });\n    return completer.future;\n  }\n\n  Future&lt;String&gt; doImageString() async {\n    return (await _imageFile)\n        .path\n        .substring((await _imageFile).path.length - 3);\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    _toggleProgress() {\n      setState(() {\n        submitting = true;\n      });\n\n    };\n    Widget loadingIndicator =submitting? new Container(\n      color: Colors.grey[300],\n      width: 70.0,\n      height: 70.0,\n      child: new Padding(padding: const EdgeInsets.all(5.0),child: new Center(child: new CircularProgressIndicator())),\n    ):new Container();\n    Widget mytitle;\n    if (grpmsg) {\n      mytitle = new Row(\n        mainAxisAlignment: MainAxisAlignment.start,\n        children: &lt;Widget&gt;[\n          new Icon(Icons.people),\n          new Text('  '),\n          new Text(widget.mychat.referralname)\n        ],\n      );\n    } else {\n      mytitle = new Row(\n        mainAxisAlignment: MainAxisAlignment.start,\n        children: &lt;Widget&gt;[\n          new Icon(Icons.person),\n          new Text('  '),\n          new Text(widget.mychat.referralname)\n        ],\n      );\n    }\n\n    var _children = &lt;Widget&gt;[\n      new Flexible(\n        child: new Stack(\n          children: &lt;Widget&gt;[\n            new FutureBuilder&lt;List&lt;Map&gt;&gt;(\n              future: _responseFuture,\n              builder:\n                  (BuildContext context, AsyncSnapshot&lt;List&lt;Map&gt;&gt; snapshot) {\n                switch (snapshot.connectionState) {\n                  case ConnectionState.none:\n                    return new Text('Waiting to start');\n                  case ConnectionState.waiting:\n                    return new Text('Loading...');\n                  default:\n                    if (snapshot.hasError) {\n                      return new Text('Error: ${snapshot.error}');\n                    } else {\n                      return new RefreshIndicator(\n                          child: new ListView.builder(\n                            itemBuilder: (context, index) {\n                              return new MyChatWidget(\n                                datediv: snapshot.data[index]['msgdate'],\n                                msgkey: snapshot.data[index]['msgkey'],\n                              );\n\n                            },\n                            //itemBuilder: _itemBuilder,\n                            controller: _scrollController,\n                            reverse: true,\n                            itemCount: snapshot.data.length,\n                          ),\n                          onRefresh: _onRefresh\n                      );\n                    }\n                }\n              },\n            ),\n            new Align(child: loadingIndicator,alignment: FractionalOffset.center,),\n          ],\n        ),\n      ),\n\n      new Container(\n          alignment: Alignment.bottomLeft,\n          padding: new EdgeInsets.only(left: 10.0),\n          child: new FutureBuilder&lt;File&gt;(\n              future: _imageFile,\n              builder: (BuildContext context, AsyncSnapshot&lt;File&gt; snapshot) {\n                if (snapshot.connectionState == ConnectionState.done) {\n                  //return new Image.file(snapshot.data);\n                  myimagefile = snapshot.data;\n                  myext = path.extension(myimagefile.path);\n                  if (myext == '.jpg') {\n                    isImage = true;\n                    return new Column(\n                      mainAxisAlignment: MainAxisAlignment.start,\n                      children: &lt;Widget&gt;[\n                        new Container(\n                          alignment: Alignment.bottomLeft,\n                          width: 150.0,\n                          child: new Image.file(snapshot.data),\n                        ),\n                        new FlatButton(\n                            onPressed: _doClear,\n                            child: new Text('Clear Image'))\n                      ],\n                    );\n                  } else {\n                    isVideo = true;\n                    myvidfile = new File(\n                        snapshot.data.path.replaceAll('file://', ''));\n                    vcontroller = new VideoPlayerController(myimagefile.path)..initialize();\n                    return new Column(\n                      mainAxisAlignment: MainAxisAlignment.start,\n                      children: &lt;Widget&gt;[\n                        new Container(\n                          alignment: Alignment.bottomLeft,\n                          width: 150.0,\n                          child: new vplayer.VideoCard(\n                            controller: vcontroller,\n                            title: widget.mychat.referralname,\n                            subtitle: 'Video',\n                          ),\n                        ),\n                        new FlatButton(\n                            onPressed: _doClear,\n                            child: new Text('Clear Video'))\n                      ],\n                    );\n                  }\n                } else {\n                  return const Text('');\n                }\n              })\n      ),\n\n      new Divider(\n        height: 5.0,\n        color: Colors.grey,\n      ),\n      new Row(\n        crossAxisAlignment: CrossAxisAlignment.end,\n        children: &lt;Widget&gt;[\n          new Container(\n            alignment: Alignment.bottomLeft,\n            //width: 50.0,\n            child: new IconButton(\n              icon: new Icon(Icons.add_a_photo),\n              onPressed: _pickImage,\n              alignment: Alignment.bottomLeft,\n            ),\n          ),\n          new Flexible(\n            child: new Container(\n              alignment: Alignment.center,\n              //width: 350.0,\n              child: new TextField(\n                decoration: const InputDecoration(\n                  hintText: 'Reply',\n                  labelText: 'Reply:',\n                ),\n                autofocus: false,\n                focusNode: _focusnode,\n                maxLines: 1,\n                controller: _newreplycontroller,\n                keyboardType: TextInputType.text,\n              ),\n            ),\n          ),\n          new Container(\n              alignment: Alignment.bottomRight,\n              //width: 50.0,\n              child: new IconButton(\n                icon: new Icon(Icons.send),\n                onPressed: () {\n                  _toggleProgress();\n                  _sendReply();\n                },\n                alignment: Alignment.centerRight,\n                disabledColor: Colors.grey,\n              )),\n        ],\n      ),\n    ];\n\n    return new Scaffold(\n      appBar: new AppBar(\n        title: mytitle,\n        actions: getAppBarActions(context),\n      ),\n      body: new Column(\n        children: _children,\n      ),\n    );\n  }\n\n  DateTime getDateDiv(int index) {\n    DateTime msgdate = DateTime.parse(chatlist[index]['chatdate']).toLocal();\n    return msgdate;\n  }\n\n  _doClear() {\n    setState(() {\n      _imageFile = null;\n    });\n  }\n\n  _pickImage() async {\n    await setState(() {\n      _imageFile = ImagePicker.pickImage(maxWidth: 600.0);\n    });\n  }\n\n  _sendReply() {\n    if (_newreplycontroller.text.isEmpty &amp;&amp; myimagefile == null) {\n      /*showDialog(\n        context: context,\n        child: new AlertDialog(\n          content: new Text(\"There is no message to submit\"),\n          actions: &lt;Widget&gt;[\n            new FlatButton(\n                child: const Text('OK'),\n                onPressed: () {\n                  Navigator.pop(context, false);\n                }),\n          ],\n        ),\n      );*/\n    } else {\n\n      TextInputAction.done;\n      DateTime dateSubmit = new DateTime.now();\n      if (myimagefile != null) {\n        if (isImage) {\n          List&lt;int&gt; imageBytes = myimagefile.readAsBytesSync();\n          myimage = BASE64.encode(imageBytes);\n          myvideo = 'NONE';\n        }\n        if (isVideo) {\n          List&lt;int&gt; imageBytes = myvidfile.readAsBytesSync();\n          myvideo = BASE64.encode(imageBytes);\n          myimage = 'NONE';\n        }\n      } else {\n        myimage = 'NONE';\n        myvideo = 'NONE';\n      }\n      var mymessage = _newreplycontroller.text;\n      ChatServerMessage mychat = new ChatServerMessage(\n          widget.mychat.msgkey,\n          'message',\n          widget.mychat.refid,\n          widget.mychat.referralname,\n          replysub,\n          oid,\n          oname,\n          pid,\n          pname,\n          sender,\n          sendname,\n          receiver,\n          receivename,\n          mymessage,\n          dateSubmit.toString(),\n          widget.mychat.grpid.toString(),\n          widget.mychat.prid.toString(),\n          myfcmtoken,\n          myimage,\n          myvideo,\n          myext);\n      _doSendReply(mychat);\n    }\n  }\n\n\n  _doSendReply(mychat) async {\n    var json = jsonCodec.encode(mychat);\n    ChatConnect.instance.sendmessage(json);\n    _checkSync () {\n      messSync = ChatConnect.instance.isSynced;\n      if (messSync) {\n        if (isImage) {\n          Timer synctimer = new Timer(new Duration(seconds: 2), _checkSync);\n        } else if (isVideo) {\n          Timer synctimer = new Timer(new Duration(seconds: 5), _checkSync);\n        } else {\n          Timer synctimer = new Timer(new Duration(seconds: 2), _checkSync);\n        }\n\n      } else {\n        setState(() {\n\n          submitting = false;\n          _onRefresh();\n          _doClear();\n          print('RUNNING LOAD AFTER SEND AGAIN');\n        });\n        _newreplycontroller.text = '';\n        _focusnode.unfocus();\n      }\n    }\n    _checkSync();\n\n  }\n}\n</code></pre>\n"}, {"tags": ["android-studio", "dart", "flutter"], "comments": [{"owner": {"reputation": 5105, "user_id": 2008962, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ghXgv.jpg?s=128&g=1", "display_name": "Arnold Parge", "link": "https://stackoverflow.com/users/2008962/arnold-parge"}, "edited": false, "score": 0, "creation_date": 1517153036, "post_id": 48485633, "comment_id": 83968677, "body": "Please elaborate. What do you mean by <b>use it as a link</b>? do you want the appBar clickable?"}], "answers": [{"comments": [{"owner": {"reputation": 8338, "user_id": 410652, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8640543f532ccdd97e7828181e8fffab?s=128&d=identicon&r=PG", "display_name": "raju-bitter", "link": "https://stackoverflow.com/users/410652/raju-bitter"}, "edited": false, "score": 0, "creation_date": 1517241132, "post_id": 48504209, "comment_id": 84004157, "body": "When using url_launcher with Flutter, make sure your Flutter project&#39;s Gradle build setup is compatible with the Flutter project version. If you get any Gradle error reports, switch to version 1.0.2 of the url_launcher package. See <a href=\"https://pub.dartlang.org/packages/url_launcher/versions/2.0.0#-changelog-tab-\" rel=\"nofollow noreferrer\">pub.dartlang.org/packages/url_launcher/versions/&hellip;</a> for details."}], "tags": [], "owner": {"reputation": 3243, "user_id": 5079849, "user_type": "registered", "accept_rate": 46, "profile_image": "https://lh3.googleusercontent.com/-2CP3JmsQzco/AAAAAAAAAAI/AAAAAAAAAds/VUDQ1UwKiFI/photo.jpg?sz=128", "display_name": "Putra Ardiansyah", "link": "https://stackoverflow.com/users/5079849/putra-ardiansyah"}, "is_accepted": false, "score": 0, "last_activity_date": 1517238196, "creation_date": 1517238196, "answer_id": 48504209, "question_id": 48485633, "link": "https://stackoverflow.com/questions/48485633/flutter-materialapp-how-can-i-use-the-appbar-title-as-a-link/48504209#48504209", "title": "Flutter MaterialApp - How can I use the AppBar title as a link", "body": "<p>Add <code>url_launcher</code> plugin to your <code>pubspec.yaml</code> </p>\n\n<pre><code>dependencies:\n  url_launcher: 2.0.1\n</code></pre>\n\n<p>Write this code:</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:url_launcher/url_launcher.dart';\n\nclass TitleLink extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n        appBar: new AppBar(\n          elevation: 0.5,\n          centerTitle: true,\n          title: new InkWell(\n            child: new Text(\"www.google.com\"),\n            onTap: () =&gt; launch('https://google.com'),\n          ),\n        ),\n        body: new Center(child: new Text(\"Tap on Title to open Google\"))\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 8004391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0548c21d0afee3673f867695c6c10b0?s=128&d=identicon&r=PG&f=1", "display_name": "Donat Treszler", "link": "https://stackoverflow.com/users/8004391/donat-treszler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1254, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1517241428, "creation_date": 1517137473, "last_edit_date": 1517241428, "question_id": 48485633, "link": "https://stackoverflow.com/questions/48485633/flutter-materialapp-how-can-i-use-the-appbar-title-as-a-link", "title": "Flutter MaterialApp - How can I use the AppBar title as a link", "body": "<p>I want to turn the title of the AppBar of a the default Flutter app created by the New Project template into a link. Here is my code:</p>\n\n<pre><code>class MyApp extends StatelessWidget {\n@override\nWidget build(BuildContext context) {\n  return new MaterialApp(\n    title: 'WaterFlow Target',\n    theme: new ThemeData(\n      primarySwatch: Colors.blue,\n    ),\n    home: new MyHomePage(title: 'WaterFlow'),\n  );\n}\n}\n</code></pre>\n\n<p>In the 9th line you can see the MyHomePage constructor call with the title parameter.</p>\n"}, {"tags": ["sass", "dart", "angular-dart", "autoprefixer"], "answers": [{"comments": [{"owner": {"reputation": 1726, "user_id": 3281252, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/U3Vcm.jpg?s=128&g=1", "display_name": "tenhobi", "link": "https://stackoverflow.com/users/3281252/tenhobi"}, "edited": false, "score": 0, "creation_date": 1517225081, "post_id": 48495308, "comment_id": 83993516, "body": "I am using Windows 10. Autoprefixer in command line works fine. I tried to change output of sass_builder, but still, the build or watch fails the same way I have described. :/"}, {"owner": {"reputation": 1726, "user_id": 3281252, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/U3Vcm.jpg?s=128&g=1", "display_name": "tenhobi", "link": "https://stackoverflow.com/users/3281252/tenhobi"}, "edited": false, "score": 0, "creation_date": 1517225358, "post_id": 48495308, "comment_id": 83993672, "body": "Btw. <code>postcss_transformer</code> doesn&#39;t work with only css input either. So the error will be in the transformer or in Windows."}, {"owner": {"reputation": 1821, "user_id": 7711920, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-04zzMRK9qvE/AAAAAAAAAAI/AAAAAAAABHQ/tjs-Q8LOBQc/photo.jpg?sz=128", "display_name": "Ted Sander", "link": "https://stackoverflow.com/users/7711920/ted-sander"}, "reply_to_user": {"reputation": 1726, "user_id": 3281252, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/U3Vcm.jpg?s=128&g=1", "display_name": "tenhobi", "link": "https://stackoverflow.com/users/3281252/tenhobi"}, "edited": false, "score": 1, "creation_date": 1517354456, "post_id": 48495308, "comment_id": 84059740, "body": "postcss_transformer hasn&#39;t been updated in awhile, and probably isn&#39;t well supported. I&#39;d never used it before trying to help with this. The code to run the process is here: <a href=\"https://github.com/ajlai/postcss_transformer.dart/blob/master/lib/postcss_transformer.dart\" rel=\"nofollow noreferrer\">github.com/ajlai/postcss_transformer.dart/blob/master/lib/&hellip;</a>. I wouldn&#39;t be surprised if there is a bug in that configuration when used on a windows machine."}], "tags": [], "owner": {"reputation": 1821, "user_id": 7711920, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-04zzMRK9qvE/AAAAAAAAAAI/AAAAAAAABHQ/tjs-Q8LOBQc/photo.jpg?sz=128", "display_name": "Ted Sander", "link": "https://stackoverflow.com/users/7711920/ted-sander"}, "is_accepted": true, "score": 0, "last_activity_date": 1517206207, "creation_date": 1517206207, "answer_id": 48495308, "question_id": 48485356, "link": "https://stackoverflow.com/questions/48485356/sass-and-autoprefixer-in-dart/48495308#48495308", "title": "Sass and Autoprefixer in Dart", "body": "<p>So I got this to work, but I'm not sure what exactly in your configuration isn't working. What I had to get this to work:</p>\n\n<p>a) postcss command needs to work along with having the autoprefixer. I used this command to install:</p>\n\n<pre><code>npm install -g postcss-cli autoprefixer\n</code></pre>\n\n<p>b) Then I tested the on the command line to ensure it worked.</p>\n\n<p>I used your pubspec.yaml exactly.</p>\n\n<p>The web/index.scss I used was:</p>\n\n<pre><code>$primary-color: #333;\n\nbody {\n  color: $primary-color;\n}\n\na {\n  color: blue;\n}\n\n.grid {\n  grid-gap: 10px;\n}\n\n.one {\n  grid-column: 1/3;\n  grid-row: 1;\n}\n\n.example {\n    display: grid;\n    transition: all .5s;\n    user-select: none;\n    background: linear-gradient(to bottom, white, black);\n}\n</code></pre>\n\n<p>The output was:</p>\n\n<pre><code>body {\n  color: #333;\n}\n\na {\n  color: blue;\n}\n\n.grid {\n  grid-gap: 10px;\n}\n\n.one {\n  grid-column: 1/3;\n  grid-row: 1;\n}\n\n.example {\n  display: grid;\n  -webkit-transition: all 0.5s;\n  transition: all 0.5s;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  background: -webkit-gradient(linear, left top, left bottom, from(white), to(black));\n  background: linear-gradient(to bottom, white, black);\n}\n\n/*# sourceMappingURL=*/\n</code></pre>\n\n<p>This was on a mac. So the configuration is possible. Hopefully this helps some.</p>\n\n<p>Just a note that in the new build_runner system this won't work as is as it overwrites a file which is not allowed in the new system. One could fix this by specifying different output extensions instead of using the same input extension.</p>\n"}], "owner": {"reputation": 1726, "user_id": 3281252, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/U3Vcm.jpg?s=128&g=1", "display_name": "tenhobi", "link": "https://stackoverflow.com/users/3281252/tenhobi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1155, "favorite_count": 0, "accepted_answer_id": 48495308, "answer_count": 1, "score": 0, "last_activity_date": 1517225131, "creation_date": 1517135536, "last_edit_date": 1517225131, "question_id": 48485356, "link": "https://stackoverflow.com/questions/48485356/sass-and-autoprefixer-in-dart", "title": "Sass and Autoprefixer in Dart", "body": "<p>I want to, in Dart project, use Sass (for some nesting and file concatenation) and then apply autoprefixer to the result CSS.</p>\n\n<p>In <code>pubspec.yaml</code> I do have those dependencies and transformers. TL;DR I am trying to use <code>sass_builder</code> (which works just fine on it's own; <a href=\"https://pub.dartlang.org/packages/sass_builder\" rel=\"nofollow noreferrer\">https://pub.dartlang.org/packages/sass_builder</a>) and <code>postcss_transformer</code> (<a href=\"https://pub.dartlang.org/packages/postcss_transformer\" rel=\"nofollow noreferrer\">https://pub.dartlang.org/packages/postcss_transformer</a>):</p>\n\n<pre><code>dependencies:\n\ndev_dependencies:\n  browser: '&gt;=0.10.0 &lt;0.11.0'\n  dart_to_js_script_rewriter: '^1.0.1'\n  postcss_transformer: '^0.1.1'\n  sass_builder: '^1.1.2'\n\ntransformers:\n- dart_to_js_script_rewriter\n- sass_builder\n- postcss_transformer:\n    arguments:\n    - use: autoprefixer\n    - autoprefixer.browsers: '&gt; 1%'\n</code></pre>\n\n<p>However even if the usage of the transformers is, at least I believe, good, it just cannot cooperate OK:</p>\n\n<pre><code>\"C:\\Program Files\\Dart\\dart-sdk\\bin\\pub.bat\" serve web --port=62806\nLoading source assets...\nLoading dart_to_js_script_rewriter, sass_builder and postcss_transformer transformers...\nServing klubFITpp_titani web on http://localhost:62806\n[web] GET Served 4 assets.\n[Info from Dart2JS]:\nCompiling klubFITpp_titani|web/main.dart...\nBuild error:\nTransform Postcss on klubFITpp_titani|web/style/alfa.css threw error: Syst\u00c3\u00a9m nem\u00c5\u00af\u00c5\u00bee nal\u00c3\u00a9zt uveden\u00c3\u00bd soubor.\n\n  Command: postcss --use autoprefixer --autoprefixer.browsers \"&gt; 1%\"\npackage:postcss_transformer/postcss_transformer.dart 65  PostcssTransformer.apply\n===== asynchronous gap ===========================\npackage:$pub/serialize/transformer.dart 31               _serializeTransformer.&lt;fn&gt;.&lt;fn&gt;.&lt;fn&gt;\ndart:async/future.dart 206                               new Future.sync\npackage:$pub/serialize/transformer.dart 30               _serializeTransformer.&lt;fn&gt;.&lt;fn&gt;\npackage:$pub/serialize.dart 150                          respond.&lt;fn&gt;\ndart:async/future.dart 206                               new Future.sync\npackage:$pub/serialize.dart 150                          respond\npackage:$pub/serialize/transformer.dart 17               _serializeTransformer.&lt;fn&gt;\ndart:async/zone.dart 1307                                _RootZone.runUnaryGuarded\ndart:async/stream_impl.dart 330                          _BufferingStreamSubscription._sendData\ndart:async/stream_impl.dart 257                          _BufferingStreamSubscription._add\ndart:async/stream_controller.dart 796                    _StreamController&amp;&amp;_SyncStreamControllerDispatch._sendData\ndart:async/stream_controller.dart 667                    _StreamController._add\ndart:async/stream_controller.dart 613                    _StreamController.add\ndart:isolate-patch/isolate_patch.dart 151                _RawReceivePortImpl._handleMessage\n\npackage:postcss_transformer/postcss_transformer.dart 65  PostcssTransformer.apply\n===== asynchronous gap ===========================\npackage:$pub/serialize/transformer.dart 31               _serializeTransformer.&lt;fn&gt;.&lt;fn&gt;.&lt;fn&gt;\ndart:async                                               new Future.sync\npackage:$pub/serialize/transformer.dart 30               _serializeTransformer.&lt;fn&gt;.&lt;fn&gt;\npackage:$pub/serialize.dart 150                          respond.&lt;fn&gt;\ndart:async                                               new Future.sync\npackage:$pub/serialize.dart 150                          respond\npackage:$pub/serialize/transformer.dart 17               _serializeTransformer.&lt;fn&gt;\n[web] GET style/alfa.css =&gt; Could not find asset klubFITpp_titani|web/style/alfa.css.\n[Info from Dart2JS]:\nTook 0:00:04.000418 to compile klubFITpp_titani|web/main.dart.\nBuild completed with 1 errors.\n</code></pre>\n\n<p>I am seeking for the solution on how to connect those two transformers or what to use to run Autoprefixer properly. I am also fine with instaling <code>postcss</code> etc. using <code>node</code>, which I now for the <code>postcss_transformer</code> transformer. It would be best if it would work using <code>pub build</code> / <code>pub watch</code>, eg. using some Dart transformer or so.</p>\n\n<p>I use Windows 10. <code>postcss</code> works ok in a command line.</p>\n"}, {"tags": ["gridview", "layout", "dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 746, "user_id": 1392578, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/07c9a0c65de5f7e6e6abbed858dc3fc5?s=128&d=identicon&r=PG", "display_name": "Neil", "link": "https://stackoverflow.com/users/1392578/neil"}, "is_accepted": true, "score": 0, "last_activity_date": 1517179460, "creation_date": 1517179460, "answer_id": 48492171, "question_id": 48481505, "link": "https://stackoverflow.com/questions/48481505/flutter-mixed-layout-grid-with-rows/48492171#48492171", "title": "Flutter Mixed Layout - Grid with Rows", "body": "<p>Got help from Flutter Gitter, thanks to @xqwzts &amp; @ahmadzein.</p>\n\n<p>The solution was to wrap each child in \"Expanded\"</p>\n\n<pre><code>void main() =&gt; runApp(new App());\nclass App extends StatelessWidget {\n...\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      ...\n      home: new AppContainer()\n      ...\n  class AppContainer extends StatelessWidget {\n    Widget build(BuildCOntext context) {\n      return new Material( // tried Container as well\n        child: new Column(\n          children: &lt;Widget&gt;[\n            new Expanded (\n              child: new InputWidget() ... ),\n            new Expanded (\n              child: new Row ( \n                mainAxisAlignment: MainAxisAlignment.center,\n                children: &lt;Widget&gt;[new ButtonWidget()] ... )\n        ...\n  class ButtonWidget extends StatelessWidget {\n    Widget build(BuildContext context) {\n      return new Container(\n        child: new MaterialButton(...)\n  ...\n  class InputWidget extends StatefulWidget {\n    Widget build(BuildContext context) {\n      ... \n      _InputWidgetState createState() =&gt; new _InputWidgetState();\n      ...\n  class _InputWidgetState extends State&lt;InputWidget&gt; {\n     Widget build(BuildContext context) {\n       return new Scaffold(\n         appBar: new AppBar(...)\n         body: new Builder(\n           builder: (BuildContext context) {\n             return new GridView.count(\n               children: &lt;Widget&gt;[\n                 // 4 Text Fields here\n               ]\n</code></pre>\n"}], "owner": {"reputation": 746, "user_id": 1392578, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/07c9a0c65de5f7e6e6abbed858dc3fc5?s=128&d=identicon&r=PG", "display_name": "Neil", "link": "https://stackoverflow.com/users/1392578/neil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4071, "favorite_count": 0, "accepted_answer_id": 48492171, "answer_count": 1, "score": 1, "last_activity_date": 1537317320, "creation_date": 1517094602, "last_edit_date": 1537317320, "question_id": 48481505, "link": "https://stackoverflow.com/questions/48481505/flutter-mixed-layout-grid-with-rows", "title": "Flutter Mixed Layout - Grid with Rows", "body": "<p>I'm trying to create a basic Flutter app that has a a 2 by 2 grid of text inputs &amp; a button below it. </p>\n\n<p>Initially, I just had the grid &amp; no buttons with no problems:</p>\n\n<pre><code>void main() =&gt; runApp(new App());\nclass App extends StatelessWidget {\n...\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      ...\n      home: new InputWidget()\n      ...\n  class InputWidget extends StatefulWidget {\n    Widget build(BuildContext context) {\n      ... \n      _InputWidgetState createState() =&gt; new _InputWidgetState();\n      ...\n  class _InputWidgetState extends State&lt;InputWidget&gt; {\n     Widget build(BuildContext context) {\n       return new Scaffold(\n         appBar: new AppBar(...)\n         body: new Builder(\n           builder: (BuildContext context) {\n             return new GridView.count(\n               children: &lt;Widget&gt;[\n                 // 4 Text Fields here\n               ]\n</code></pre>\n\n<p>I need the GridView inside the Scaffold to be able to use the Scaffold for the snackbar.</p>\n\n<p>Now I want to add a button below this grid. And to achieve this I've added a couple of layers in between &amp; I'm getting a \"overflowed by infinity\" error with the following logic:</p>\n\n<pre><code>void main() =&gt; runApp(new App());\nclass App extends StatelessWidget {\n...\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      ...\n      home: new AppContainer()\n      ...\n  class AppContainer extends StatelessWidget {\n    Widget build(BuildCOntext context) {\n      return new Material( // tried Container as well\n        child: new Column(\n          children: &lt;Widget&gt;[\n            new InputWidget()\n            new BUttonWidget()\n        ...\n  class ButtonWidget extends StatelessWidget {\n    Widget build(BuildContext context) {\n      return new Container(\n        child: new MaterialButton(...)\n  ...\n  class InputWidget extends StatefulWidget {\n    Widget build(BuildContext context) {\n      ... \n      _InputWidgetState createState() =&gt; new _InputWidgetState();\n      ...\n  class _InputWidgetState extends State&lt;InputWidget&gt; {\n     Widget build(BuildContext context) {\n       return new Scaffold(\n         appBar: new AppBar(...)\n         body: new Builder(\n           builder: (BuildContext context) {\n             return new GridView.count(\n               children: &lt;Widget&gt;[\n                 // 4 Text Fields here\n               ]\n</code></pre>\n\n<p><a href=\"https://github.com/1nv1n/tip_calc/blob/master/lib/main.dart\" rel=\"nofollow noreferrer\" title=\"GitHub\">Code</a> &amp; <a href=\"https://gist.github.com/1nv1n/e0940a5602a8ecee11d6b00fa929ec31\" rel=\"nofollow noreferrer\">Stack Trace</a>.</p>\n\n<p>The problem seems to be stemming from the \"Column\" part. Seems like I need to provide some sizing to either the Column or the Scaffold but I can't seem to be able to figure out what parameters I'm missing.</p>\n\n<p>I couldn't find anything on SO or the Flutter docs that have an example that I could follow - or I'm completely missing it.</p>\n\n<p>Would appreciate any pointers to get this layout sorted.</p>\n"}, {"tags": ["android", "gradle", "dart", "flutter"], "comments": [{"owner": {"reputation": 27492, "user_id": 3773011, "user_type": "moderator", "profile_image": "https://i.stack.imgur.com/Hmfxy.jpg?s=128&g=1", "display_name": "Makyen", "link": "https://stackoverflow.com/users/3773011/makyen"}, "edited": false, "score": 1, "creation_date": 1538169106, "post_id": 48479284, "comment_id": 92063890, "body": "Please add code, errors and data as <b>text</b> (<a href=\"//stackoverflow.com/editing-help#code\">using code formatting</a>), not images. Images: A) don&#39;t allow us to copy-&amp;-paste the code/errors/data for testing; B) don&#39;t permit searching based on the code/error/data contents; and <a href=\"https://meta.stackoverflow.com/a/285557\">many more reasons</a>. In general, code/errors/data in text format &gt;&gt;&gt;&gt; code/errors/data as an image &gt;&gt; nothing.  Images should only be used, <i>in addition to text in code format</i>, if having the image adds something significant that is not conveyed by just the text code/error/data."}, {"owner": {"reputation": 190, "user_id": 2900861, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/28708898a69106b276e9da406063fd9f?s=128&d=identicon&r=PG&f=1", "display_name": "wagnerdelima", "link": "https://stackoverflow.com/users/2900861/wagnerdelima"}, "edited": false, "score": 1, "creation_date": 1540765331, "post_id": 48479284, "comment_id": 92973336, "body": "Did you manage to solve this?"}], "answers": [{"tags": [], "owner": {"reputation": 5105, "user_id": 2008962, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ghXgv.jpg?s=128&g=1", "display_name": "Arnold Parge", "link": "https://stackoverflow.com/users/2008962/arnold-parge"}, "is_accepted": false, "score": 1, "last_activity_date": 1517155123, "creation_date": 1517155123, "answer_id": 48488288, "question_id": 48479284, "link": "https://stackoverflow.com/questions/48479284/android-gradle-issue-flutter-dart/48488288#48488288", "title": "Android Gradle Issue - Flutter / Dart", "body": "<p>Make your <strong>allpojects->repositories</strong> same like <strong>buildscript->repositories</strong></p>\n\n<p>If the problem still persists check if your project and shared_preferences both uses the same gradle version. If not, then you may need to make few changes in either your project or in shared_preferences project.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4959172, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-k9Gj_IERvr8/AAAAAAAAAAI/AAAAAAAAAZs/lygHeNjo2DE/photo.jpg?sz=128", "display_name": "shubham saxena", "link": "https://stackoverflow.com/users/4959172/shubham-saxena"}, "is_accepted": false, "score": 1, "last_activity_date": 1536220571, "creation_date": 1536220571, "answer_id": 52199186, "question_id": 48479284, "link": "https://stackoverflow.com/questions/48479284/android-gradle-issue-flutter-dart/52199186#52199186", "title": "Android Gradle Issue - Flutter / Dart", "body": "<pre><code>subprojects {\n    project.configurations.all {\n        resolutionStrategy.eachDependency { details -&gt;\n            if (details.requested.group == 'com.android.support'\n                    &amp;&amp; !details.requested.name.contains('multidex') ) {\n                details.useVersion \"27.1.0\"\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>It fixed for me by adding this to my build.gradle in android folder. </p>\n"}, {"tags": [], "owner": {"reputation": 321, "user_id": 8987544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71c4a60a49a1b59d7684847435dc8c9f?s=128&d=identicon&r=PG&f=1", "display_name": "Anaghan Akash", "link": "https://stackoverflow.com/users/8987544/anaghan-akash"}, "is_accepted": false, "score": 6, "last_activity_date": 1561550261, "last_edit_date": 1561550261, "creation_date": 1547060880, "answer_id": 54116746, "question_id": 48479284, "link": "https://stackoverflow.com/questions/48479284/android-gradle-issue-flutter-dart/54116746#54116746", "title": "Android Gradle Issue - Flutter / Dart", "body": "<p><strong>1.</strong> Update your <strong>gradle version</strong> from project -> android -> build. For me :</p>\n\n<pre><code>dependencies {\n        classpath 'com.android.tools.build:gradle:3.2.1'\n}\n</code></pre>\n\n<p><strong>2.</strong> Use <strong>latest sdk tool version</strong></p>\n\n<p><strong>3.</strong> Open terminal from <strong>Tools->Flutter</strong> and run these following commands</p>\n\n<pre><code>flutter upgrade\nflutter doctor\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 6127170, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-X8gXccI7dYM/AAAAAAAAAAI/AAAAAAAAACE/I9SLo_NQxRE/photo.jpg?sz=128", "display_name": "Dnyaneshwar Shinde", "link": "https://stackoverflow.com/users/6127170/dnyaneshwar-shinde"}, "is_accepted": false, "score": 0, "last_activity_date": 1562956370, "creation_date": 1562956370, "answer_id": 57012393, "question_id": 48479284, "link": "https://stackoverflow.com/questions/48479284/android-gradle-issue-flutter-dart/57012393#57012393", "title": "Android Gradle Issue - Flutter / Dart", "body": "<ul>\n<li>yaa It had solved for me..!\nJust go to flutter sdk folder and go to this path \\flutter\\packages\\flutter_tools\\gradle\\flutter.gradle\nand in flutter.gradle file change from this code</li>\n</ul>\n\n<hr>\n\n<pre><code>    buildscript { \n        repositories { \n          jcenter() \n     maven { \n      url 'https://dl.google.com/dl/android/maven2' \n   }\n } \ndependencies { \n         classpath 'com.android.tools.build:gradle:3.1.2' \n       } \n     }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 491, "user_id": 6842112, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-B1No6m9fZdM/AAAAAAAAAAI/AAAAAAAAAYU/mnU_cTpy5qE/photo.jpg?sz=128", "display_name": "Mary Seleznova", "link": "https://stackoverflow.com/users/6842112/mary-seleznova"}, "is_accepted": false, "score": 0, "last_activity_date": 1588800463, "creation_date": 1588800463, "answer_id": 61645713, "question_id": 48479284, "link": "https://stackoverflow.com/questions/48479284/android-gradle-issue-flutter-dart/61645713#61645713", "title": "Android Gradle Issue - Flutter / Dart", "body": "<p>I had the same problem and solved it too.\nPerhaps, will be useful for someone.\nThis was my problem:</p>\n\n<pre><code>FAILURE: Build failed with an exception.\n\n* Where:\nBuild file '/Users/abc/Desktop/user/project/android/app/build.gradle' line: 14\n\n* What went wrong:\nA problem occurred evaluating project ':app'.\n&gt; Failed to apply plugin [id 'com.android.internal.version-check']\n   &gt; Minimum supported Gradle version is 5.6.4. Current version is 5.4.1. If using the gradle wrapper, try editing the distributionUrl in\n   /Users/abc/Desktop/user/project/android/gradle/wrapper/gradle-wrapper.properties to gradle-5.6.4-all.zip\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 8s\n  Command: /Users/abc/Desktop/user/project/android/gradlew app:properties\n\n\nPlease review your Gradle project setup in the android/ folder.\n</code></pre>\n\n<p>I went to gradle-wrapper.properties and changed this line:</p>\n\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-5.6.4-all.zip\n</code></pre>\n\n<p>The problem was solved.</p>\n"}], "owner": {"reputation": 59, "user_id": 9277334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bd98249bd7855e780af78e11c54f7f9?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Schaller", "link": "https://stackoverflow.com/users/9277334/stefan-schaller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25203, "favorite_count": 2, "answer_count": 5, "score": 3, "last_activity_date": 1588800463, "creation_date": 1517078779, "last_edit_date": 1581170738, "question_id": 48479284, "link": "https://stackoverflow.com/questions/48479284/android-gradle-issue-flutter-dart", "title": "Android Gradle Issue - Flutter / Dart", "body": "<p>I have a problem with my Gradle Sync.</p>\n\n<p>I use IntelliJ and Android Studio to build a Flutter / Dart App.</p>\n\n<p>I added 2 new dependencies and now i have an issue with Gradle.\nIn Android Studio all works fine (The Gradle Sync finishes without failures or warnings), but in IntelliJ it is not working.  </p>\n\n<p><a href=\"https://i.stack.imgur.com/kin98.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kin98.png\" alt=\"Gradle build file screenshot\"></a></p>\n\n<pre><code>* Error running Gradle: Exit code 1 from: C:\\Users\\stesc\\Documents\\Programming\\timecoder-flutter\\android\\gradlew.bat app:properties: NDK is missing a \"platforms\" directory. If you are using NDK, verify the ndk.dir is set to a valid NDK directory.  It is currently set to C:\\Users\\stesc\\AppData\\Local\\Android\\Sdk\\ndk-bundle. If you are not using NDK, unset the NDK variable from ANDROID_NDK_HOME or local.properties to remove this warning.\n\n\nBUILD FAILED\n\nTotal time: 4.669 secs\n\n\nFAILURE: Build failed with an exception.\n\n* Where:\n\nBuild file 'C:\\Users\\stesc\\Documents\\Programming\\timecoder-flutter\\android\\build.gradle' line: 25\n\n* What went wrong: A problem occurred evaluating root project 'android'.\n&gt; A problem occurred configuring project ':app'.\n   &gt; Could not resolve all dependencies for configuration ':app:_debugApk'. Finished with error: Please review your Gradle project setup in the android/ folder.\n      &gt; A problem occurred configuring project ':shared_preferences'.\n         &gt; Could not resolve all dependencies for configuration ':shared_preferences:classpath'.\n            &gt; Could not find com.android.tools.build:gradle:3.0.1.\n              Searched in the following locations:\n                  https://jcenter.bintray.com/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.pom\n                  https://jcenter.bintray.com/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.jar\n              Required by:\n                  project :shared_preferences\n\n* Try: Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/2eilY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2eilY.png\" alt=\"More gradle build screenshot\"></a></p>\n"}, {"tags": ["dart", "flutter"], "comments": [{"owner": {"reputation": 16340, "user_id": 505810, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/76df8d243d91e68ef15e5fde3474bf90?s=128&d=identicon&r=PG", "display_name": "Pacane", "link": "https://stackoverflow.com/users/505810/pacane"}, "edited": false, "score": 2, "creation_date": 1517076684, "post_id": 48477625, "comment_id": 83950854, "body": "I really doubt <code>googleapis_auth</code> works on flutter since it depends on <code>http</code>."}, {"owner": {"reputation": 16340, "user_id": 505810, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/76df8d243d91e68ef15e5fde3474bf90?s=128&d=identicon&r=PG", "display_name": "Pacane", "link": "https://stackoverflow.com/users/505810/pacane"}, "edited": false, "score": 1, "creation_date": 1517110593, "post_id": 48477625, "comment_id": 83958802, "body": "<code>html</code> I mean sorry"}], "answers": [{"comments": [{"owner": {"reputation": 1971, "user_id": 1420881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1dc24f3e9583bd1b318d6d91cf515af?s=128&d=identicon&r=PG", "display_name": "mmccabe", "link": "https://stackoverflow.com/users/1420881/mmccabe"}, "edited": false, "score": 0, "creation_date": 1526511243, "post_id": 48485898, "comment_id": 87778189, "body": "Can I use this <code>GoogleHttpClient</code> to send email using gmailAPI and/or to send invites using FireBase Invites?"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 1971, "user_id": 1420881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1dc24f3e9583bd1b318d6d91cf515af?s=128&d=identicon&r=PG", "display_name": "mmccabe", "link": "https://stackoverflow.com/users/1420881/mmccabe"}, "edited": false, "score": 0, "creation_date": 1526525129, "post_id": 48485898, "comment_id": 87780953, "body": "I haven&#39;t used these APIs, but if Google provides APIs for these tasks, you should be able to do it with GiigleHttpClient."}, {"owner": {"reputation": 1971, "user_id": 1420881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1dc24f3e9583bd1b318d6d91cf515af?s=128&d=identicon&r=PG", "display_name": "mmccabe", "link": "https://stackoverflow.com/users/1420881/mmccabe"}, "edited": false, "score": 2, "creation_date": 1526539170, "post_id": 48485898, "comment_id": 87785396, "body": "Was able to get it working for now using <a href=\"https://stackoverflow.com/questions/50079538/flutter-send-email-using-google-api\" title=\"flutter send email using google api\">stackoverflow.com/questions/50079538/&hellip;</a> . Will try to use your approach in future."}, {"owner": {"reputation": 2393, "user_id": 1464539, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/26ae110ce546ec7f3e8482c48053c827?s=128&d=identicon&r=PG", "display_name": "Dpedrinha", "link": "https://stackoverflow.com/users/1464539/dpedrinha"}, "edited": false, "score": 0, "creation_date": 1569291497, "post_id": 48485898, "comment_id": 102539846, "body": "Where does GoogleHttpClient comes from?"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 2, "creation_date": 1569294966, "post_id": 48485898, "comment_id": 102540449, "body": "I invented it in my answer above ;) It&#39;s just the name I used for my custom subclass of <code>IOClient</code>"}, {"owner": {"reputation": 2393, "user_id": 1464539, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/26ae110ce546ec7f3e8482c48053c827?s=128&d=identicon&r=PG", "display_name": "Dpedrinha", "link": "https://stackoverflow.com/users/1464539/dpedrinha"}, "edited": false, "score": 0, "creation_date": 1569298629, "post_id": 48485898, "comment_id": 102541133, "body": "Oh god, sorry I didn&#39;t see it. Care to adapt your answer for this question? <a href=\"https://stackoverflow.com/questions/58072743/how-to-access-google-drive-appdata-folder-file-with-flutter\" title=\"how to access google drive appdata folder file with flutter\">stackoverflow.com/questions/58072743/&hellip;</a>"}, {"owner": {"reputation": 146, "user_id": 5855091, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-STVE5Z6bZmw/AAAAAAAAAAI/AAAAAAAAFIA/uiDpjvavWAQ/photo.jpg?sz=128", "display_name": "chitgoks", "link": "https://stackoverflow.com/users/5855091/chitgoks"}, "edited": false, "score": 0, "creation_date": 1580294656, "post_id": 48485898, "comment_id": 106047675, "body": "do you have a solution on what to do in case the access token expires? instead of calling SignIn() eveyr time"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1580296820, "post_id": 48485898, "comment_id": 106048791, "body": "There should be a <code>await _googleSignIn.signInSilently();</code> for that."}, {"owner": {"reputation": 95, "user_id": 1310079, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4b3ce101c63b4325d278df75bc4c0210?s=128&d=identicon&r=PG", "display_name": "Chris Hardaker", "link": "https://stackoverflow.com/users/1310079/chris-hardaker"}, "edited": false, "score": 0, "creation_date": 1580575857, "post_id": 48485898, "comment_id": 106146107, "body": "I have this verbatim, however am getting an error at GoogleHttpClient(authHeaders) saying &#39;The argument type Future&lt;Map&lt;String,String&gt;&gt; can&#39;t be assigned to the parameters type Map&lt;String,String&gt;. The documentation link for the error is rather unhelpful. Any ideas?"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1580576421, "post_id": 48485898, "comment_id": 106146265, "body": "Try without <code>await</code>. I didn&#39;t work with Flutter since quite some time and haven&#39;t set up anything that would allow to check myself."}, {"owner": {"reputation": 679, "user_id": 8165283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d81daac9c269c34b6fc40b66d278236a?s=128&d=identicon&r=PG&f=1", "display_name": "polymath", "link": "https://stackoverflow.com/users/8165283/polymath"}, "reply_to_user": {"reputation": 95, "user_id": 1310079, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4b3ce101c63b4325d278df75bc4c0210?s=128&d=identicon&r=PG", "display_name": "Chris Hardaker", "link": "https://stackoverflow.com/users/1310079/chris-hardaker"}, "edited": false, "score": 0, "creation_date": 1585305499, "post_id": 48485898, "comment_id": 107718402, "body": "For anyone experiencing the same issue with <code>authHeaders</code> as @ChrisHardaker, add <code>await</code> to the variable: <code>final authHeaders = _googleSignIn.currentUser.authHeaders;</code>"}, {"owner": {"reputation": 316, "user_id": 13090475, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GglJ4Sw45pFTACvVn81BoeKGw5tle5RQJsyuEQ2=k-s128", "display_name": "Hudson Kim", "link": "https://stackoverflow.com/users/13090475/hudson-kim"}, "edited": false, "score": 0, "creation_date": 1596519218, "post_id": 48485898, "comment_id": 111828711, "body": "Can you please elaborate on your answer and explain how you got your answer. For beginners, it can be confusing how to implement your solution into their own problems, i.e. using a different google api."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 316, "user_id": 13090475, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GglJ4Sw45pFTACvVn81BoeKGw5tle5RQJsyuEQ2=k-s128", "display_name": "Hudson Kim", "link": "https://stackoverflow.com/users/13090475/hudson-kim"}, "edited": false, "score": 0, "creation_date": 1596519535, "post_id": 48485898, "comment_id": 111828804, "body": "@HudsonKim sorry, but I won&#39;t have time for this anytime soon."}, {"owner": {"reputation": 316, "user_id": 13090475, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GglJ4Sw45pFTACvVn81BoeKGw5tle5RQJsyuEQ2=k-s128", "display_name": "Hudson Kim", "link": "https://stackoverflow.com/users/13090475/hudson-kim"}, "edited": false, "score": 0, "creation_date": 1596560039, "post_id": 48485898, "comment_id": 111847756, "body": "@G&#252;nterZ&#246;chbauer do you have any resources that would be useful?"}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 316, "user_id": 13090475, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GglJ4Sw45pFTACvVn81BoeKGw5tle5RQJsyuEQ2=k-s128", "display_name": "Hudson Kim", "link": "https://stackoverflow.com/users/13090475/hudson-kim"}, "edited": false, "score": 0, "creation_date": 1596570557, "post_id": 48485898, "comment_id": 111852404, "body": "@HudsonKim sorry (again) I just saw the question and figured that I came up with a solution/workaround earlier and stripped it from project-specific code and posted it. I looked through the source of related packages and collected the bits from there."}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 32, "last_activity_date": 1573617069, "last_edit_date": 1573617069, "creation_date": 1517139456, "answer_id": 48485898, "question_id": 48477625, "link": "https://stackoverflow.com/questions/48477625/how-to-use-google-api-in-flutter/48485898#48485898", "title": "How to use Google API in flutter?", "body": "<p>This worked for me:</p>\n\n<p>Logging in using package <code>google_sign_in</code> and then get auth headers from it:</p>\n\n<pre><code>import 'package:google_sign_in/google_sign_in.dart'\n    show GoogleSignIn, GoogleSignInAccount;\n\nimport 'package:googleapis/people/v1.dart'\n    show ListConnectionsResponse, PeopleApi;\n\nuseGoogleApi() async {\n  final _googleSignIn = new GoogleSignIn(\n    scopes: [\n      'email',\n      'https://www.googleapis.com/auth/contacts.readonly',\n    ],\n  );\n\n  await _googleSignIn.signIn();\n\n  final authHeaders = _googleSignIn.currentUser.authHeaders;\n\n  // custom IOClient from below\n  final httpClient = GoogleHttpClient(authHeaders); \n\n  data = await PeopleApi(httpClient).people.connections.list(\n      'people/me',\n      personFields: 'names,addresses',\n      pageToken: nextPageToken,\n      pageSize: 100,\n  );\n}\n</code></pre>\n\n\n\n<p>This is a custom <code>IOClient</code> implementation that automatically adds the auth headers to each request. The googleapis call support passing a custom HTTP client to be used instead of the default (see above)</p>\n\n<pre><code>import 'package:http/io_client.dart';\nimport 'package:http/http.dart';\n\nclass GoogleHttpClient extends IOClient {\n  Map&lt;String, String&gt; _headers;\n\n  GoogleHttpClient(this._headers) : super();\n\n  @override\n  Future&lt;StreamedResponse&gt; send(BaseRequest request) =&gt;\n      super.send(request..headers.addAll(_headers));\n\n  @override\n  Future&lt;Response&gt; head(Object url, {Map&lt;String, String&gt; headers}) =&gt;\n      super.head(url, headers: headers..addAll(_headers));\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 191, "user_id": 5215523, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/50swZ.jpg?s=128&g=1", "display_name": "Kim Palao", "link": "https://stackoverflow.com/users/5215523/kim-palao"}, "is_accepted": false, "score": 12, "last_activity_date": 1567554083, "last_edit_date": 1567554083, "creation_date": 1549884379, "answer_id": 54629553, "question_id": 48477625, "link": "https://stackoverflow.com/questions/48477625/how-to-use-google-api-in-flutter/54629553#54629553", "title": "How to use Google API in flutter?", "body": "<p>I can't add comments yet, so I'll just post it as an answer.</p>\n\n<p>I kept trying to make a GoogleHttpClient as per the top answer, but on the import, it says \"The library 'package:http/http.dart' doesn't export a member with the shown name 'IOClient'.\"</p>\n\n<p>I found the answer here <a href=\"https://pub.dartlang.org/packages/http#-changelog-tab-\" rel=\"noreferrer\">https://pub.dartlang.org/packages/http#-changelog-tab-</a>, which says you should import IOClient separately as such: <code>import 'package:http/io_client.dart';</code></p>\n\n<p>I thought this might help out others who are new to flutter and its implementation of Google APIs.</p>\n"}, {"comments": [{"owner": {"reputation": 91, "user_id": 13876163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cf27138b638c8b56c69cde5c929e0cd?s=128&d=identicon&r=PG&f=1", "display_name": "Michele Volpato", "link": "https://stackoverflow.com/users/13876163/michele-volpato"}, "edited": false, "score": 1, "creation_date": 1610617865, "post_id": 61362954, "comment_id": 116191363, "body": "Please, do <b>not</b> use a service account in your Flutter app. The private key of a service account is a secret and it should never be on a client (phone and/or browser).  This is a security vulnerability."}], "tags": [], "owner": {"reputation": 1980, "user_id": 4659987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0o5WF.jpg?s=128&g=1", "display_name": "Cenk YAGMUR", "link": "https://stackoverflow.com/users/4659987/cenk-yagmur"}, "is_accepted": false, "score": -1, "last_activity_date": 1587551578, "creation_date": 1587551578, "answer_id": 61362954, "question_id": 48477625, "link": "https://stackoverflow.com/questions/48477625/how-to-use-google-api-in-flutter/61362954#61362954", "title": "How to use Google API in flutter?", "body": "<p>You need to get 2 packages <a href=\"https://pub.dev/packages/googleapis_auth\" rel=\"nofollow noreferrer\">googleapis_auth</a> and <a href=\"https://pub.dev/packages/googleapis\" rel=\"nofollow noreferrer\">googleapis</a> after you can use all listed apis in googleapis packages. I will show you under an example</p>\n\n<pre><code>import 'package:googleapis/androidpublisher/v3.dart' as androidPublisher;\nimport 'package:googleapis_auth/auth_io.dart' as auth;\n\nfinal _credentials = new auth.ServiceAccountCredentials.fromJson(r'''\n      {\n        \"private_key_id\": ...,\n        \"private_key\": ...,\n        \"client_email\": ...,\n        \"client_id\": ...,\n        \"type\": \"service_account\"\n      }\n      ''');\n\n    const _SCOPES = const [\n      androidPublisher.AndroidpublisherApi.AndroidpublisherScope\n    ];\n\n    auth.clientViaServiceAccount(_credentials, _SCOPES).then((httpClient) {\n      var publisher = new androidPublisher.AndroidpublisherApi(httpClient);\n      publisher.purchases.products\n          .get(\n              packageName,\n              productID,\n              purchaseToken)\n          .then((pub) {\n        debugPrint(pub.toJson().toString());\n      });\n    });\n</code></pre>\n\n<p>And you can creat keys like that</p>\n\n<blockquote>\n  <p>Open the IAM &amp; Admin page in the Cloud Console.</p>\n  \n  <p>Open the IAM &amp; Admin page</p>\n  \n  <p>Click Select a project, choose a project, and click Open.</p>\n  \n  <p>In the left nav, click Service accounts.</p>\n  \n  <p>Find the row of the service account that you want to create a key for.\n  In that row, click the More more_vert button, and then click Create\n  key.</p>\n  \n  <p>Select a Key type and click Create.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 2912, "user_id": 2687427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sT6lH.jpg?s=128&g=1", "display_name": "Nelson Yeung", "link": "https://stackoverflow.com/users/2687427/nelson-yeung"}, "edited": false, "score": 0, "creation_date": 1609248524, "post_id": 64072989, "comment_id": 115788561, "body": "Can I ask what&#39;s the difference between this method and using the <code>authenticatedClient</code> function from the <code>googleapis_auth</code> package to get an authenticated client?"}], "tags": [], "owner": {"reputation": 23772, "user_id": 1035008, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/afa583c070c82a0961be918141f953fe?s=128&d=identicon&r=PG", "display_name": "Yuchen", "link": "https://stackoverflow.com/users/1035008/yuchen"}, "is_accepted": false, "score": 3, "last_activity_date": 1602348519, "last_edit_date": 1602348519, "creation_date": 1601082721, "answer_id": 64072989, "question_id": 48477625, "link": "https://stackoverflow.com/questions/48477625/how-to-use-google-api-in-flutter/64072989#64072989", "title": "How to use Google API in flutter?", "body": "<p>The accepted answer is most likely written towards an older version of the SDK I just couldn't get it to work. This is what works for me as of now.</p>\n<p>As an example, the following allow us to access files in Google Drive which is part of <a href=\"https://pub.dev/packages/googleapis\" rel=\"nofollow noreferrer\">googleapis</a>.</p>\n<h3>Dependencies</h3>\n<p>pubspec.yaml:</p>\n<pre><code>dependencies:\n  google_sign_in: any\n  googleapis: any\n</code></pre>\n<p>(I just put <code>any</code> here as a example, but you should specific the version(s) for you actual app.)</p>\n<h3>How it works</h3>\n<p>Necessary imports:</p>\n<pre><code>import 'package:googleapis/drive/v3.dart' as drive;\nimport 'package:google_sign_in/google_sign_in.dart' as signIn;\n</code></pre>\n<p>Step 1, sign in the user and ask for access permission (scope) to google drive:</p>\n<pre><code>final googleSignIn = signIn.GoogleSignIn.standard(scopes: [drive.DriveApi.DriveScope]);\nfinal sign.GoogleSignInAccount account = await googleSignIn.signIn();\n</code></pre>\n<p>Step 2, build a <code>AuthenticateClient</code>:</p>\n<pre><code>class AuthenticateClient extends http.BaseClient {\n  final Map&lt;String, String&gt; headers;\n\n  final http.Client client;\n\n  AuthenticateClient(this.headers, this.client);\n\n  Future&lt;http.StreamedResponse&gt; send(http.BaseRequest request) {\n    return client.send(request..headers.addAll(headers));\n  }\n}\n</code></pre>\n<p>As suggested in <a href=\"https://pub.dev/packages/http\" rel=\"nofollow noreferrer\">http</a>, this is using the <code>BaseClient</code> with extra authentication headers (being composable).</p>\n<p>Step 3, create a authenticated http client with from step 1 and 2 and access google drive API.</p>\n<pre><code>final baseClient = new Client();\nfinal authenticateClient = AuthenticateClient(authHeader, baseClient);\nfinal driveApi = drive.DriveApi(authenticateClient);\n</code></pre>\n<p>Checkout <a href=\"https://medium.com/better-programming/the-minimum-guide-for-using-google-drive-api-with-flutter-9207e4cb05ba\" rel=\"nofollow noreferrer\">How to Use the Google Drive API With Flutter Apps</a> for details.</p>\n"}], "owner": {"reputation": 465, "user_id": 5618091, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/120cf87f089c3b30cd8ff7915a89f0d0?s=128&d=identicon&r=PG&f=1", "display_name": "PrimeNexes", "link": "https://stackoverflow.com/users/5618091/primenexes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29473, "favorite_count": 20, "accepted_answer_id": 48485898, "answer_count": 4, "score": 18, "last_activity_date": 1602348519, "creation_date": 1517068938, "last_edit_date": 1517070085, "question_id": 48477625, "link": "https://stackoverflow.com/questions/48477625/how-to-use-google-api-in-flutter", "title": "How to use Google API in flutter?", "body": "<p>I want to use Google Cloud Natural Language in my Flutter app,I got <a href=\"https://pub.dartlang.org/packages/googleapis\" rel=\"noreferrer\">Google API package</a>\nThis works for flutter and the<a href=\"https://pub.dartlang.org/packages/googleapis_auth\" rel=\"noreferrer\">Google API_AUTH</a> dependence is working for 0.2.1.\nHow do I implement them ?</p>\n"}, {"tags": ["json", "timestamp", "dart", "epoch"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1516943710, "post_id": 48453542, "comment_id": 83904985, "body": "What does &quot;The startime from json is not human readable&quot; mean. Where the value comes from is quite meaningless, the relevant information would be how the value looks like."}, {"owner": {"reputation": 31, "user_id": 3981375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bcb1425b8ecb7136874aa57151db66a?s=128&d=identicon&r=PG&f=1", "display_name": "Auth89", "link": "https://stackoverflow.com/users/3981375/auth89"}, "reply_to_user": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1516992495, "post_id": 48453542, "comment_id": 83928854, "body": "The value for startime looks like  1516920700513 ."}], "answers": [{"tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 1, "last_activity_date": 1516994057, "creation_date": 1516994057, "answer_id": 48468073, "question_id": 48453542, "link": "https://stackoverflow.com/questions/48453542/load-json-from-oracle-timestamp-to-dart-datetime/48468073#48468073", "title": "Load JSON (from oracle TIMESTAMP) to Dart DateTime", "body": "<p><a href=\"https://dartpad.dartlang.org/bab006218074687adee1599e09f82af7\" rel=\"nofollow noreferrer\"><strong>DartPad example</strong></a></p>\n\n<pre><code>new DateTime.fromMillisecondsSinceEpoch(1516920700513);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>new DateTime.fromMillisecondsSinceEpoch(status['startTime']),   \n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 3981375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bcb1425b8ecb7136874aa57151db66a?s=128&d=identicon&r=PG&f=1", "display_name": "Auth89", "link": "https://stackoverflow.com/users/3981375/auth89"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 382, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1516994057, "creation_date": 1516922757, "last_edit_date": 1516943476, "question_id": 48453542, "link": "https://stackoverflow.com/questions/48453542/load-json-from-oracle-timestamp-to-dart-datetime", "title": "Load JSON (from oracle TIMESTAMP) to Dart DateTime", "body": "<p>This is my factory method which takes json from Oracle server. starttime is TIMESTAMP in oracle. </p>\n\n<pre><code>factory Status.fromJson(Map&lt;String, dynamic&gt; status) =&gt;\nnew Status(\n\n    status['dataSize'],\n    status['statusDescription'],\n    status['startTime'],          \n    status['server']\n);\n</code></pre>\n\n<p>The startime from json is not human readable . How to convert this epoch time to something readable . I tried </p>\n\n<pre><code>DateTime.parse(status['startTime']\n</code></pre>\n\n<p>which dint work . How to use </p>\n\n<pre><code>DateTime.fromMillisecondsSinceEpoch(startTime)\n</code></pre>\n\n<p>from json. </p>\n"}, {"tags": ["angular", "dart", "angular-dart"], "answers": [{"comments": [{"owner": {"reputation": 5885, "user_id": 787958, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5930b88072538304c9f866a30a9686b6?s=128&d=identicon&r=PG", "display_name": "ScubaSteve", "link": "https://stackoverflow.com/users/787958/scubasteve"}, "edited": false, "score": 0, "creation_date": 1602678392, "post_id": 48455283, "comment_id": 113795607, "body": "2020 and still getting the almost useless error message."}], "tags": [], "owner": {"reputation": 1821, "user_id": 7711920, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-04zzMRK9qvE/AAAAAAAAAAI/AAAAAAAABHQ/tjs-Q8LOBQc/photo.jpg?sz=128", "display_name": "Ted Sander", "link": "https://stackoverflow.com/users/7711920/ted-sander"}, "is_accepted": false, "score": 2, "last_activity_date": 1516936336, "creation_date": 1516936336, "answer_id": 48455283, "question_id": 48453165, "link": "https://stackoverflow.com/questions/48453165/angulardart-failed-to-execute-setattribute-on-element-is-not-a-valid-at/48455283#48455283", "title": "AngularDart Failed to execute &#39;setAttribute&#39; on &#39;Element&#39;: &#39;)&#39; is not a valid attribute name", "body": "<p>There is an extra ) before the end tag which is not allowed. The error message isn't great. The parser is changing and will provide a better error message which has just landed and will be in the next version of angular.</p>\n\n<p>The message will be changing to:</p>\n\n<pre><code>[SEVERE]: Error running TemplateGenerator for lib/buttons.dart.\nTemplate parse errors:\nline 1, column 16 of ButtonsExampleComponent: \nExpected whitespace before a new decorator\n&lt;section class=\"margin\")&gt;\n               ^^^^^^^^\n</code></pre>\n"}], "owner": {"reputation": 11900, "user_id": 303347, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/508b6e7bd360b4096447ffe8545f4878?s=128&d=identicon&r=PG", "display_name": "Arunabh Das", "link": "https://stackoverflow.com/users/303347/arunabh-das"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4337, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516936336, "creation_date": 1516920487, "question_id": 48453165, "link": "https://stackoverflow.com/questions/48453165/angulardart-failed-to-execute-setattribute-on-element-is-not-a-valid-at", "title": "AngularDart Failed to execute &#39;setAttribute&#39; on &#39;Element&#39;: &#39;)&#39; is not a valid attribute name", "body": "<p>Followed the steps in the tutorial here : </p>\n\n<p><a href=\"https://codelabs.developers.google.com/codelabs/angulardart-firebase-web-app/#9\" rel=\"nofollow noreferrer\">https://codelabs.developers.google.com/codelabs/angulardart-firebase-web-app/#9</a></p>\n\n<p>Everything works well when the app_component.dart looks as follows : </p>\n\n<pre><code>import 'package:angular/angular.dart';\nimport 'package:angular_components/angular_components.dart';\nimport 'package:firebase/firebase.dart';\n\nimport 'src/todo_list/todo_list_component.dart';\n\n// AngularDart info: https://webdev.dartlang.org/angular\n// Components info: https://webdev.dartlang.org/components\n\n@Component(\n  selector: 'my-app',\n  styleUrls: const ['app_component.css'],\n  templateUrl: 'app_component.html',\n  directives: const [materialDirectives, TodoListComponent],\n  providers: const [materialProviders],\n)\n\nclass AppComponent implements OnInit{\n  // Nothing here yet. All logic is in TodoListComponent.\n  int count = 0;\n  DatabaseReference ref;\n\n\n  dislike() {\n    print(\"dislike\");\n  }\n\n  like() {\n    print(\"like\");\n  }\n\n\n  @override\n  ngOnInit() {\n    initializeApp(\n       apiKey: \"AIzaSyAH7S_gsce9RtNI8w0z7doiP3ugVJM8ZbI\",\n       authDomain: \"angulardart-firebase-io-2017.firebaseapp.com\",\n       databaseURL: \"https://angulardart-firebase-io-2017.firebaseio.com\",\n       storageBucket: \"angulardart-firebase-io-2017.appspot.com\");\n\n\n    ref = database().ref('counter');\n\n    ref.onValue.listen((e) {\n      count = e.snapshot.val();\n    });\n  }\n}\n</code></pre>\n\n<p>and the app_component.html looks as follows </p>\n\n<pre><code>{{count}}\n</code></pre>\n\n<p>But, when I change app_component.html to the following : </p>\n\n<pre><code>&lt;button (click)=\"dislike()\")&gt;Dislike&lt;/button&gt;\n&lt;span&gt;{{count}}&lt;/span&gt;\n&lt;button (click)=\"like()\"&gt;Like&lt;/button&gt;\n</code></pre>\n\n<p>And run </p>\n\n<p>pub serve</p>\n\n<p>And open localhost:8080 in the browser, I get the following errors in the console : </p>\n\n<pre><code>    html_dart2js.dart:3558 EXCEPTION: Error in package:holygrail/app_component.html:2:0\nSTACKTRACE: \nEXCEPTION: Error in package:holygrail/app_component.html:2:0\nORIGINAL EXCEPTION: InvalidCharacterError: Failed to execute 'setAttribute' on 'Element': ')' is not a valid attribute name.\nORIGINAL STACKTRACE:\nError: Failed to execute 'setAttribute' on 'Element': ')' is not a valid attribute name.\n    at ViewAppComponent0.build$0 (http://localhost:8080/main.dart.js:58614:12)\n    at ViewAppComponent0.dart.AppView.create$2 (http://localhost:8080/main.dart.js:21820:21)\n    at ViewAppComponent0.create$2 (http://localhost:8080/main.dart.js:23171:21)\n    at _ViewAppComponentHost0.build$0 (http://localhost:8080/main.dart.js:58840:50)\n    at _ViewAppComponentHost0.dart.AppView.createHostView$2 (http://localhost:8080/main.dart.js:21826:21)\n    at _ViewAppComponentHost0.createHostView$2 (http://localhost:8080/main.dart.js:23184:21)\n    at ComponentFactory.create$2 (http://localhost:8080/main.dart.js:22161:53)\n    at ApplicationRefImpl_bootstrap_closure.call$0 (http://localhost:8080/main.dart.js:20852:22)\n    at ApplicationRefImpl_run_closure.dart.ApplicationRefImpl_run_closure.call$0 (http://localhost:8080/main.dart.js:20816:34)\n    at StaticClosure.dart._rootRun (http://localhost:8080/main.dart.js:6921:18)\nERROR CONTEXT:\nInstance of 'DebugContext'\n\n    at Object.wrapException (http://localhost:8080/main.dart.js:4019:17)\n    at ViewAppComponent0._rethrowWithContext$3$stopChangeDetection (http://localhost:8080/main.dart.js:23341:21)\n    at ViewAppComponent0._rethrowWithContext$2 (http://localhost:8080/main.dart.js:23345:21)\n    at ViewAppComponent0.create$2 (http://localhost:8080/main.dart.js:23176:16)\n    at _ViewAppComponentHost0.build$0 (http://localhost:8080/main.dart.js:58840:50)\n    at _ViewAppComponentHost0.dart.AppView.createHostView$2 (http://localhost:8080/main.dart.js:21826:21)\n    at _ViewAppComponentHost0.createHostView$2 (http://localhost:8080/main.dart.js:23184:21)\n    at ComponentFactory.create$2 (http://localhost:8080/main.dart.js:22161:53)\n    at ApplicationRefImpl_bootstrap_closure.call$0 (http://localhost:8080/main.dart.js:20852:22)\n    at ApplicationRefImpl_run_closure.dart.ApplicationRefImpl_run_closure.call$0 (http://localhost:8080/main.dart.js:20816:34)\nORIGINAL EXCEPTION: InvalidCharacterError: Failed to execute 'setAttribute' on 'Element': ')' is not a valid attribute name.\nORIGINAL STACKTRACE:\nError: Failed to execute 'setAttribute' on 'Element': ')' is not a valid attribute name.\n    at ViewAppComponent0.build$0 (http://localhost:8080/main.dart.js:58614:12)\n    at ViewAppComponent0.dart.AppView.create$2 (http://localhost:8080/main.dart.js:21820:21)\n    at ViewAppComponent0.create$2 (http://localhost:8080/main.dart.js:23171:21)\n    at _ViewAppComponentHost0.build$0 (http://localhost:8080/main.dart.js:58840:50)\n    at _ViewAppComponentHost0.dart.AppView.createHostView$2 (http://localhost:8080/main.dart.js:21826:21)\n    at _ViewAppComponentHost0.createHostView$2 (http://localhost:8080/main.dart.js:23184:21)\n    at ComponentFactory.create$2 (http://localhost:8080/main.dart.js:22161:53)\n    at ApplicationRefImpl_bootstrap_closure.call$0 (http://localhost:8080/main.dart.js:20852:22)\n    at ApplicationRefImpl_run_closure.dart.ApplicationRefImpl_run_closure.call$0 (http://localhost:8080/main.dart.js:20816:34)\n    at StaticClosure.dart._rootRun (http://localhost:8080/main.dart.js:6921:18)\nERROR CONTEXT:\n</code></pre>\n"}, {"tags": ["javascript", "dart", "angular-dart"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 3, "creation_date": 1516890767, "post_id": 48445097, "comment_id": 83882239, "body": "Where is the <code>&lt;script&gt;</code> tag in your application? Is <code>&lt;comp&gt;&lt;&#47;comp&gt;</code> your root component of the Angular application? Your script needs to wait until <code>&lt;div #mydiv ...&gt;</code> actually exists. Angular probably takes more time to initialize then the script."}, {"owner": {"reputation": 1821, "user_id": 7711920, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-04zzMRK9qvE/AAAAAAAAAAI/AAAAAAAABHQ/tjs-Q8LOBQc/photo.jpg?sz=128", "display_name": "Ted Sander", "link": "https://stackoverflow.com/users/7711920/ted-sander"}, "edited": false, "score": 1, "creation_date": 1516935994, "post_id": 48445097, "comment_id": 83903491, "body": "+1 to Gunter&#39;s comment. I&#39;d suggest having the code run after ngOnInit runs in the component. Have the &lt;script&gt; expose a function and call it from the dart code. That would guarantee the dom is ready."}], "answers": [{"tags": [], "owner": {"reputation": 85, "user_id": 2728393, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/328f9863618efc7fdc6b79a06071fecd?s=128&d=identicon&r=PG&f=1", "display_name": "pswrdf", "link": "https://stackoverflow.com/users/2728393/pswrdf"}, "is_accepted": true, "score": 0, "last_activity_date": 1516962206, "creation_date": 1516962206, "answer_id": 48459481, "question_id": 48445097, "link": "https://stackoverflow.com/questions/48445097/obtain-component-id-from-javascript/48459481#48459481", "title": "Obtain component id from javascript", "body": "<p>Thanks to comments, I've solve the problem:\nI place code which initializes JS library into ngOnInit() method of a component. So the js library is initialised right after an angular component.</p>\n"}], "owner": {"reputation": 85, "user_id": 2728393, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/328f9863618efc7fdc6b79a06071fecd?s=128&d=identicon&r=PG&f=1", "display_name": "pswrdf", "link": "https://stackoverflow.com/users/2728393/pswrdf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 48459481, "answer_count": 1, "score": 0, "last_activity_date": 1516962206, "creation_date": 1516890053, "question_id": 48445097, "link": "https://stackoverflow.com/questions/48445097/obtain-component-id-from-javascript", "title": "Obtain component id from javascript", "body": "<p>In dart we can obtain dom element through 'querySelector' method. But I need a reverse kind method: insert data into \"dart component\" element from Javascript. Is there a way to achieve that? </p>\n\n<p>I have try:</p>\n\n<p>html file:</p>\n\n<pre><code>&lt;comp&gt;&lt;/comp&gt;\n&lt;script&gt;\n  document.getElementById('mydiv').text = \"HELLO\";\n  document.getElementById('myd').text = \"HELLO\";\n&lt;/script&gt;\n</code></pre>\n\n<p>dart component:</p>\n\n<pre><code>@Component (\n  selector: 'comp',\n  template: '&lt;div #mydiv id=\"myd\"&gt;12345&lt;/div&gt;',\n)\nclass ModelerComponent {\n</code></pre>\n\n<p>PS: I need that because my js library requires element id, and there is no option to port it.</p>\n"}, {"tags": ["dart", "flutter"], "answers": [{"tags": [], "owner": {"reputation": 12877, "user_id": 2498179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rj4HL.jpg?s=128&g=1", "display_name": "chemamolins", "link": "https://stackoverflow.com/users/2498179/chemamolins"}, "is_accepted": true, "score": 1, "last_activity_date": 1517101096, "creation_date": 1517101096, "answer_id": 48482133, "question_id": 48445017, "link": "https://stackoverflow.com/questions/48445017/flutter-error-updating-a-list-in-listview/48482133#48482133", "title": "Flutter - Error updating a list in ListView", "body": "<p>You should set a different key for each ItemCategory. In your code you are now setting all the keys to the same element i[0]</p>\n\n<p>If you use, for example, <code>key: new ObjectKey(i[0]['id'])</code>, it works correctly.</p>\n\n<p>Well, it works for item 21 which is the item removed regardless of the item you click.</p>\n"}], "owner": {"reputation": 7736, "user_id": 2744242, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/71d3267f5993b6b79619213c789524b5?s=128&d=identicon&r=PG&f=1", "display_name": "rafaelcb21", "link": "https://stackoverflow.com/users/2744242/rafaelcb21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2670, "favorite_count": 0, "accepted_answer_id": 48482133, "answer_count": 1, "score": 2, "last_activity_date": 1517101096, "creation_date": 1516889809, "question_id": 48445017, "link": "https://stackoverflow.com/questions/48445017/flutter-error-updating-a-list-in-listview", "title": "Flutter - Error updating a list in ListView", "body": "<p>I'm trying to update a list in <code>ListView</code> only when I go to the last elements of the list and do the update, either adding an item, removing it, going to another Page and returning, the list gets incomplete not showing the first items in the list.</p>\n\n<p>Below is a code in which it shows that after updating the list it was incomplete</p>\n\n<p><a href=\"https://i.stack.imgur.com/jU1X1.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jU1X1.gif\" alt=\"enter image description here\"></a></p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'dart:ui' as ui;\n\nvoid main() {\n  runApp(new MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      home: new CategoriaPage(),\n    );\n  }\n}\n\nclass CategoriaPage extends StatefulWidget {\n  @override\n  CategoriaPageState createState() =&gt; new CategoriaPageState();\n}\n\nclass CategoriaPageState extends State&lt;CategoriaPage&gt;{\n  Color azulAppbar = new Color(0xFF26C6DA);\n  List&lt;Widget&gt; listCategories = [];\n  List listaDB = [];\n\n  @override\n  void initState() {\n    setState(() {\n      this.listaDB = \n        [\n          [{'category': 'foo01', 'id': 1}],\n          [{'category': 'foo02', 'id': 2}],\n          [{'category': 'foo03', 'id': 3}],\n          [{'category': 'foo04', 'id': 4}],\n          [{'category': 'foo05', 'id': 5}],\n          [{'category': 'foo06', 'id': 6}],\n          [{'category': 'foo07', 'id': 7}],\n          [{'category': 'foo08', 'id': 8}],\n          [{'category': 'foo09', 'id': 9}],\n          [{'category': 'foo10', 'id': 10}],\n          [{'category': 'foo11', 'id': 11}],\n          [{'category': 'foo12', 'id': 12}],\n          [{'category': 'foo13', 'id': 13}],\n          [{'category': 'foo14', 'id': 14}],\n          [{'category': 'foo15', 'id': 15}],\n          [{'category': 'foo16', 'id': 16}],\n          [{'category': 'foo17', 'id': 17}],\n          [{'category': 'foo18', 'id': 18}],\n          [{'category': 'foo19', 'id': 19}],\n          [{'category': 'foo20', 'id': 20}],\n          [{'category': 'foo21', 'id': 21}],\n          [{'category': 'foo22', 'id': 22}],\n          [{'category': 'foo23', 'id': 23}],\n          [{'category': 'foo24', 'id': 24}]\n        ];\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n\n    List&lt;Widget&gt; buildListCategories(List list) {\n      this.listCategories = [];\n\n      for(var i in list) {\n        var id = i[0]['id'];\n        var category = i[0]['category'];\n\n        this.listCategories.add(\n          new ItemCategory(\n            key: new ObjectKey(i[0]),\n            id: id,\n            category: category,\n            onPressed: () async {\n              setState(() {\n                this.listaDB = \n                [\n                  [{'category': 'foo01', 'id': 1}],\n                  [{'category': 'foo02', 'id': 2}],\n                  [{'category': 'foo03', 'id': 3}],\n                  [{'category': 'foo04', 'id': 4}],\n                  [{'category': 'foo05', 'id': 5}],\n                  [{'category': 'foo06', 'id': 6}],\n                  [{'category': 'foo07', 'id': 7}],\n                  [{'category': 'foo08', 'id': 8}],\n                  [{'category': 'foo09', 'id': 9}],\n                  [{'category': 'foo10', 'id': 10}],\n                  [{'category': 'foo11', 'id': 11}],\n                  [{'category': 'foo12', 'id': 12}],\n                  [{'category': 'foo13', 'id': 13}],\n                  [{'category': 'foo14', 'id': 14}],\n                  [{'category': 'foo15', 'id': 15}],\n                  [{'category': 'foo16', 'id': 16}],\n                  [{'category': 'foo17', 'id': 17}],\n                  [{'category': 'foo18', 'id': 18}],\n                  [{'category': 'foo19', 'id': 19}],\n                  [{'category': 'foo20', 'id': 20}],\n                  [{'category': 'foo22', 'id': 22}],\n                  [{'category': 'foo23', 'id': 23}],\n                  [{'category': 'foo24', 'id': 24}]\n                ];\n              });\n            }\n          )\n        );  \n      }\n      return this.listCategories;\n    }\n\n    return new Scaffold( \n      appBar: new AppBar(\n        title: new Text('Categorias'),\n        backgroundColor: azulAppbar,\n      ),\n      body: new ListView(\n        padding: new EdgeInsets.only(top: 8.0, right: 0.0, left: 0.0),\n        children: buildListCategories(this.listaDB)\n      )\n    );\n  }\n}\n\nclass ItemCategory extends StatefulWidget {\n\n  final int id;\n  final String category;\n  final VoidCallback onPressed;\n\n  ItemCategory({\n    Key key,\n    this.id,\n    this.category,\n    this.onPressed}) : super(key: key);\n\n  @override\n  ItemCategoryState createState() =&gt; new ItemCategoryState();\n}\n\nclass ItemCategoryState extends State&lt;ItemCategory&gt; with TickerProviderStateMixin {\n  ItemCategoryState();\n\n  AnimationController _controller;\n  Animation&lt;double&gt; _animation;\n  double flingOpening;\n  bool startFling = true;\n\n  void initState() {\n    super.initState();\n    _controller = new AnimationController(duration: \n      const Duration(milliseconds: 246), vsync: this);\n\n    _animation = new CurvedAnimation(\n      parent: _controller,\n      curve: new Interval(0.0, 1.0, curve: Curves.linear),\n    );\n  }\n\n  void _move(DragUpdateDetails details) {\n    final double delta = details.primaryDelta / 304;\n    _controller.value -= delta;\n  }\n\n  void _settle(DragEndDetails details) {\n    if(this.startFling) {\n      _controller.fling(velocity: 1.0);\n      this.startFling = false;\n    } else if(!this.startFling){\n      _controller.fling(velocity: -1.0);\n      this.startFling = true;\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    final ui.Size logicalSize = MediaQuery.of(context).size;\n    final double _width = logicalSize.width;\n    this.flingOpening = -(48.0/_width);\n\n    return new GestureDetector(\n      onHorizontalDragUpdate: _move,\n      onHorizontalDragEnd: _settle,\n      child: new Stack(\n        children: &lt;Widget&gt;[\n          new Positioned.fill(\n            child: new Row(\n              mainAxisAlignment: MainAxisAlignment.end,\n              children: &lt;Widget&gt;[\n                new Container(\n                  decoration: new BoxDecoration(\n                    color: new Color(0xFFE57373),\n                  ),\n                  child: new IconButton(\n                    icon: new Icon(Icons.delete),\n                    color: new Color(0xFFFFFFFF),\n                    onPressed: widget.onPressed\n                  )\n                ),\n              ],\n            ),\n          ),\n          new SlideTransition(\n            position: new Tween&lt;Offset&gt;(\n              begin:  Offset.zero,\n              end: new Offset(this.flingOpening, 0.0),\n            ).animate(_animation),\n            child: new Container(\n              decoration: new BoxDecoration(\n                border: new Border(\n                  top: new BorderSide(style: BorderStyle.solid, color: Colors.black26),\n                ),\n                color: new Color(0xFFFFFFFF),\n              ),\n              margin: new EdgeInsets.only(top: 0.0, bottom: 0.0),\n              child: new Row(\n                mainAxisAlignment: MainAxisAlignment.start,\n                crossAxisAlignment: CrossAxisAlignment.center,\n                children: &lt;Widget&gt;[\n                  new Expanded(\n                    child: new Row(\n                      mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                      children: &lt;Widget&gt;[\n                        new Container(\n                          margin: new EdgeInsets.only(left: 16.0),\n                          padding: new EdgeInsets.only(right: 40.0, top: 4.5, bottom: 4.5),\n                          child: new Row(\n                            children: &lt;Widget&gt;[\n                              new Container(\n                                margin: new EdgeInsets.only(right: 16.0),\n                                child: new Icon(\n                                  Icons.brightness_1,\n                                  color: Colors.black,\n                                  size: 35.0,\n                                ),\n                              ),\n                              new Text(widget.category),\n                            ],\n                          )\n                        )\n                      ],\n                    ),\n                  )\n                ],\n              ),\n            )\n          ),\n        ],\n      )\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["dart", "angular-dart"], "answers": [{"comments": [{"owner": {"reputation": 576, "user_id": 5685762, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0989ddfa79e368846a0bb4f1a1ef6ab6?s=128&d=identicon&r=PG&f=1", "display_name": "J F", "link": "https://stackoverflow.com/users/5685762/j-f"}, "edited": false, "score": 0, "creation_date": 1516949932, "post_id": 48455565, "comment_id": 83906450, "body": "Thanks Ted, it is obviously that."}], "tags": [], "owner": {"reputation": 1821, "user_id": 7711920, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-04zzMRK9qvE/AAAAAAAAAAI/AAAAAAAABHQ/tjs-Q8LOBQc/photo.jpg?sz=128", "display_name": "Ted Sander", "link": "https://stackoverflow.com/users/7711920/ted-sander"}, "is_accepted": true, "score": 1, "last_activity_date": 1516938770, "creation_date": 1516938770, "answer_id": 48455565, "question_id": 48440699, "link": "https://stackoverflow.com/questions/48440699/dropdown-select-dart-angular-components-discards-the-second-selection/48455565#48455565", "title": "Dropdown select (Dart Angular Components) discards the second selection", "body": "<p>There is an error in your equals method:</p>\n\n<pre><code>@override\nbool operator ==(Object other) =&gt; other is SelectElement &amp;&amp; label == label;\n</code></pre>\n\n<p>Do you see it??</p>\n\n<p>Should be</p>\n\n<pre><code>other.label == label\n</code></pre>\n\n<p>I'd probably suggest not overriding the equals method, but that is what is happening here. So when you select/unselect the widget is selecting/unselecting everything because you said they were equal.</p>\n"}], "owner": {"reputation": 576, "user_id": 5685762, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0989ddfa79e368846a0bb4f1a1ef6ab6?s=128&d=identicon&r=PG&f=1", "display_name": "J F", "link": "https://stackoverflow.com/users/5685762/j-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 415, "favorite_count": 0, "accepted_answer_id": 48455565, "answer_count": 1, "score": 0, "last_activity_date": 1516938770, "creation_date": 1516876269, "last_edit_date": 1516877535, "question_id": 48440699, "link": "https://stackoverflow.com/questions/48440699/dropdown-select-dart-angular-components-discards-the-second-selection", "title": "Dropdown select (Dart Angular Components) discards the second selection", "body": "<p>I have the following example class:</p>\n\n<pre><code>import 'package:angular/angular.dart';\nimport 'package:angular_forms/angular_forms.dart';\nimport 'package:angular_components/angular_components.dart'\n    show\n        SelectionModel,\n        HasUIDisplayName,\n        Selectable,\n        SelectableOption,\n        StringSelectionOptions,\n        MaterialDropdownSelectComponent,\n        MaterialSelectSearchboxComponent,\n        SelectionChangeRecord,\n        ItemRenderer,\n        CachingItemRenderer;\n\n@Component(\n    selector: 'example-select',\n    templateUrl: 'example.html',\n    styleUrls: const [\n      'example.css'\n    ],\n    directives: const [\n      CORE_DIRECTIVES,\n      formDirectives,\n      MaterialDropdownSelectComponent,\n      MaterialSelectSearchboxComponent,\n    ])\nclass ExampleSelect {\n  int width = 0;\n  List&lt;SelectElement&gt; valuesList;\n  SelectionOptions&lt;SelectElement&gt; _elementListOptions;\n  StringSelectionOptions&lt;SelectElement&gt; get elementOptions =&gt;\n      _elementListOptions;\n  ItemRenderer&lt;SelectElement&gt; get itemRenderer =&gt; _itemRenderer;\n  // Single Selection Model.\n  final SelectionModel&lt;SelectElement&gt; singleSelectModel =\n      new SelectionModel.withList(selectedValues: []);\n\n// Label for the button for single selection.\n  String get singleSelectLabel =&gt; singleSelectModel.selectedValues.isNotEmpty\n      ? itemRenderer(singleSelectModel.selectedValues.first)\n      : 'No Selection';\n\n  dynamic get singleSelectedValue =&gt; singleSelectModel.selectedValues.isNotEmpty\n      ? singleSelectModel.selectedValues.first.value\n      : null;\n\n  ExampleSelect() {\n    singleSelectModel.selectionChanges.listen(updateModel);\n    valuesList = &lt;SelectElement&gt;[\n      new SelectElement(1, \"First\"),\n      new SelectElement(2, \"Second\"),\n      new SelectElement(3, 'Third')\n    ];\n    _elementListOptions = new SelectionOptions&lt;SelectElement&gt;(valuesList);\n  }\n\n  void updateModel(List&lt;SelectionChangeRecord&gt; record) {\n    print(record);\n  }\n\n  static final ItemRenderer&lt;SelectElement&gt; _itemRenderer =\n      new CachingItemRenderer&lt;SelectElement&gt;(\n          (selectElement) =&gt; \"$selectElement\");\n}\n\nclass SelectElement implements HasUIDisplayName {\n  final value;\n  final String label;\n\n  const SelectElement(this.value, this.label);\n\n  @override\n  String get uiDisplayName =&gt; label;\n\n  @override\n  bool operator ==(Object other) =&gt; other is SelectElement &amp;&amp; label == label;\n  @override\n  int get hashCode =&gt; label.hashCode;\n  @override\n  String toString() =&gt; uiDisplayName;\n}\n\nclass SelectionOptions&lt;T&gt; extends StringSelectionOptions&lt;T&gt;\n    implements Selectable {\n  SelectionOptions(List&lt;T&gt; options)\n      : super(options, toFilterableString: (T option) =&gt; option.toString());\n\n  @override\n  SelectableOption getSelectable(selectElement) =&gt;\n      selectElement is SelectElement\n          ? SelectableOption.Selectable\n          : SelectableOption.Disabled;\n}\n</code></pre>\n\n<p>The html is as follows:</p>\n\n<pre><code>&lt;material-dropdown-select\n        [buttonText]=\"singleSelectLabel\"\n        [selection]=\"singleSelectModel\"\n        [options]=\"elementOptions\"\n        [width]=\"width\"\n        [itemRenderer]=\"itemRenderer\"&gt;\n&lt;/material-dropdown-select&gt;\n\n&lt;br&gt;\n\nSelected: {{singleSelectLabel}}\n</code></pre>\n\n<p>Now, if I run this example, and I select the first element, everything works fine, but when I select the \"Second\" element, the dropdown return to not selected.</p>\n\n<p>This is resumed by the print function that shows the following:</p>\n\n<ol>\n<li><code>[SelectionChangeRecord{added: [First], removed: []}]</code></li>\n<li><code>[SelectionChangeRecord{added: [], removed: [First]}]</code></li>\n</ol>\n\n<p>What I'm doing wrong?</p>\n"}, {"tags": ["dart", "dropdown", "flutter"], "comments": [{"owner": {"reputation": 181, "user_id": 9483375, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kLCc4CSMnu8/AAAAAAAAAAI/AAAAAAAAAA0/Z8HP-PLLwmw/photo.jpg?sz=128", "display_name": "kriti sharma", "link": "https://stackoverflow.com/users/9483375/kriti-sharma"}, "edited": false, "score": 0, "creation_date": 1568637778, "post_id": 48439827, "comment_id": 102326039, "body": "You can refer to this link also and  can customize the class -&gt;<a href=\"https://www.coderzheaven.com/2019/04/16/dropdown-list-in-flutter/\" rel=\"nofollow noreferrer\">coderzheaven.com/2019/04/16/dropdown-list-in-flutter</a>"}], "answers": [{"comments": [{"owner": {"reputation": 155, "user_id": 5400674, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tVOqGZbIEEY/AAAAAAAAAAI/AAAAAAAADXI/_bAJHNi5deM/photo.jpg?sz=128", "display_name": "Pixxu Waku", "link": "https://stackoverflow.com/users/5400674/pixxu-waku"}, "edited": false, "score": 0, "creation_date": 1517212077, "post_id": 48441926, "comment_id": 83986070, "body": "thank you so much for the wonderful example and the reply @aziza. here the solution is for displaying a certain image in the drop down view. that&#39;s cool, but what i was trying to do is to give different images to each item in the drop down list. is it possible?"}, {"owner": {"reputation": 33685, "user_id": 3434970, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/cWyFQ.png?s=128&g=1", "display_name": "Shady Aziza", "link": "https://stackoverflow.com/users/3434970/shady-aziza"}, "reply_to_user": {"reputation": 155, "user_id": 5400674, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tVOqGZbIEEY/AAAAAAAAAAI/AAAAAAAADXI/_bAJHNi5deM/photo.jpg?sz=128", "display_name": "Pixxu Waku", "link": "https://stackoverflow.com/users/5400674/pixxu-waku"}, "edited": false, "score": 1, "creation_date": 1517267357, "post_id": 48441926, "comment_id": 84017802, "body": "Of course you can, this is only a trivial solution to get you started. The thing you are seeking is to make an object of the list of items you seek (img+text) and then use ListView.builder and feed the list to it and it will iterate over it. Let me know if this is not clear enough I can provide you with an example."}], "tags": [], "owner": {"reputation": 33685, "user_id": 3434970, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/cWyFQ.png?s=128&g=1", "display_name": "Shady Aziza", "link": "https://stackoverflow.com/users/3434970/shady-aziza"}, "is_accepted": true, "score": 3, "last_activity_date": 1516880164, "creation_date": 1516880164, "answer_id": 48441926, "question_id": 48439827, "link": "https://stackoverflow.com/questions/48439827/displaying-images-in-drop-down-values/48441926#48441926", "title": "displaying images in drop down values", "body": "<p>This is a simple example to show how to start on that:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Qsjv1.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qsjv1.gif\" alt=\"enter image description here\"></a></p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nclass Test extends StatefulWidget {\n  @override\n  _TestState createState() =&gt; new _TestState();\n}\n\nclass _TestState extends State&lt;Test&gt; {\n  var _img = new Image.network(\"https://upload.wikimedia.org/wikipedia/commons/thumb/8/89/TUCPamplona10.svg/500px-TUCPamplona10.svg.png\");\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      appBar: new AppBar(title: new Text(\"Test Drop\"),),\n      body: new Center(\n        child: new Container (\n            height: 50.0,\n            child:new DropdownButton(\n            items: new List.generate(10, (int index){\n          return new DropdownMenuItem(child: new Container(\n            padding: const EdgeInsets.only(bottom: 5.0),\n            height: 100.0,\n              child: new Row(\n                mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n              children: &lt;Widget&gt;[\n                _img,\n                new Text(\"Under 10\")\n              ],\n            ),\n          ));\n        }) \n        , onChanged: null),),\n      ),\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 155, "user_id": 5400674, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tVOqGZbIEEY/AAAAAAAAAAI/AAAAAAAADXI/_bAJHNi5deM/photo.jpg?sz=128", "display_name": "Pixxu Waku", "link": "https://stackoverflow.com/users/5400674/pixxu-waku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2955, "favorite_count": 1, "accepted_answer_id": 48441926, "answer_count": 1, "score": 0, "last_activity_date": 1611243230, "creation_date": 1516873501, "last_edit_date": 1516885998, "question_id": 48439827, "link": "https://stackoverflow.com/questions/48439827/displaying-images-in-drop-down-values", "title": "displaying images in drop down values", "body": "<p>I try to create a Dart multiple page application.</p>\n\n<p>I have created a page which navigates from the drawer which contains a form. It has a container in it which is used to get user selected item from a dropdown button. \nin this dropdown, i need to give an image in each item. How can I do this with customizing the dropdown button? is it possible ?</p>\n\n<p>i have attached a sample picture of what i needed in my app.</p>\n\n<p><a href=\"https://i.stack.imgur.com/0zQzB.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0zQzB.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["firebase", "dart", "firebase-storage", "flutter"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1516864108, "post_id": 48435365, "comment_id": 83865866, "body": "How do you upload the image? I haven&#39;t seen a simple way to get a download path from a <code>StorageReference</code> yet. I think the Firebase Storage plugin is still missing some features to be able to do something like shown in <a href=\"https://firebase.google.com/docs/storage/web/download-files\" rel=\"nofollow noreferrer\">firebase.google.com/docs/storage/web/download-files</a>"}, {"owner": {"reputation": 9535, "user_id": 5861618, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ug9BL.png?s=128&g=1", "display_name": "Ros&#225;rio Pereira Fernandes", "link": "https://stackoverflow.com/users/5861618/ros%c3%a1rio-pereira-fernandes"}, "edited": false, "score": 0, "creation_date": 1516889616, "post_id": 48435365, "comment_id": 83881385, "body": "As Gunter mentioned, there&#39;s no way get the download path before uploading the image in first place."}, {"owner": {"reputation": 3892, "user_id": 4359492, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh5.googleusercontent.com/-bItm3-ieAtU/AAAAAAAAAAI/AAAAAAAAAH8/gizqGXoq7rs/photo.jpg?sz=128", "display_name": "Razvan Cristian Lung", "link": "https://stackoverflow.com/users/4359492/razvan-cristian-lung"}, "edited": false, "score": 0, "creation_date": 1516911478, "post_id": 48435365, "comment_id": 83895295, "body": "Why do you need it before?"}, {"owner": {"reputation": 3243, "user_id": 5079849, "user_type": "registered", "accept_rate": 46, "profile_image": "https://lh3.googleusercontent.com/-2CP3JmsQzco/AAAAAAAAAAI/AAAAAAAAAds/VUDQ1UwKiFI/photo.jpg?sz=128", "display_name": "Putra Ardiansyah", "link": "https://stackoverflow.com/users/5079849/putra-ardiansyah"}, "edited": false, "score": 0, "creation_date": 1517089021, "post_id": 48435365, "comment_id": 83954489, "body": "I uploaded the image manually from firebase console. It just a few lines to wrap native firebase storage library to flutter platform channel. Well I&#39;ve done it by extending current plugin to my own"}, {"owner": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "edited": false, "score": 0, "creation_date": 1517422298, "post_id": 48435365, "comment_id": 84093510, "body": "This isn&#39;t implemented yet, but we&#39;re working on it. In the meantime pull requests are very welcome."}, {"owner": {"reputation": 271, "user_id": 1619448, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c0d473da64ccab1d4f6a832985a3f5da?s=128&d=identicon&r=PG&f=1", "display_name": "Procedurally Generated", "link": "https://stackoverflow.com/users/1619448/procedurally-generated"}, "reply_to_user": {"reputation": 78696, "user_id": 1463116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TYQU8.jpg?s=128&g=1", "display_name": "Collin Jackson", "link": "https://stackoverflow.com/users/1463116/collin-jackson"}, "edited": false, "score": 0, "creation_date": 1519217107, "post_id": 48435365, "comment_id": 84818162, "body": "@CollinJackson Is there an issue I can subscribe to? How to I follow progress on this?"}, {"owner": {"reputation": 271, "user_id": 1619448, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c0d473da64ccab1d4f6a832985a3f5da?s=128&d=identicon&r=PG&f=1", "display_name": "Procedurally Generated", "link": "https://stackoverflow.com/users/1619448/procedurally-generated"}, "edited": false, "score": 0, "creation_date": 1519221482, "post_id": 48435365, "comment_id": 84821269, "body": "I sent a pull request for this <a href=\"https://github.com/flutter/plugins/pull/390/files\" rel=\"nofollow noreferrer\">github.com/flutter/plugins/pull/390/files</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1978, "user_id": 8079239, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/630167203460c27c1bbaef40358c828f?s=128&d=identicon&r=PG&f=1", "display_name": "grepLines", "link": "https://stackoverflow.com/users/8079239/greplines"}, "edited": false, "score": 0, "creation_date": 1523401086, "post_id": 48981921, "comment_id": 86543600, "body": "if I want to downlaod all files from a folder, can I just provide the folder name?"}, {"owner": {"reputation": 1947, "user_id": 7114470, "user_type": "registered", "accept_rate": 47, "profile_image": "https://lh5.googleusercontent.com/-QpwskthPCBg/AAAAAAAAAAI/AAAAAAAAA8I/31O3ypPHSiQ/photo.jpg?sz=128", "display_name": "siva kumar", "link": "https://stackoverflow.com/users/7114470/siva-kumar"}, "reply_to_user": {"reputation": 1978, "user_id": 8079239, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/630167203460c27c1bbaef40358c828f?s=128&d=identicon&r=PG&f=1", "display_name": "grepLines", "link": "https://stackoverflow.com/users/8079239/greplines"}, "edited": false, "score": 0, "creation_date": 1523697823, "post_id": 48981921, "comment_id": 86674930, "body": "<a href=\"https://stackoverflow.com/questions/37335102/how-to-get-a-list-of-all-files-in-cloud-storage-in-a-firebase-app\" title=\"how to get a list of all files in cloud storage in a firebase app\">stackoverflow.com/questions/37335102/&hellip;</a>"}, {"owner": {"reputation": 5578, "user_id": 3572546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9FtXx.jpg?s=128&g=1", "display_name": "nonybrighto", "link": "https://stackoverflow.com/users/3572546/nonybrighto"}, "edited": false, "score": 1, "creation_date": 1543593201, "post_id": 48981921, "comment_id": 93987275, "body": "<code>put</code> is deprecated. Make use of <code>putFile</code> ."}, {"owner": {"reputation": 3849, "user_id": 4650969, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/--S24vwJjcPU/AAAAAAAAAAI/AAAAAAAAAdA/ZMh1tx27y1A/photo.jpg?sz=128", "display_name": "Midhilaj", "link": "https://stackoverflow.com/users/4650969/midhilaj"}, "edited": false, "score": 1, "creation_date": 1552038725, "post_id": 48981921, "comment_id": 96869426, "body": "The getter &#39;future&#39; isn&#39;t defined for the class &#39;StorageUploadTask"}], "tags": [], "owner": {"reputation": 1947, "user_id": 7114470, "user_type": "registered", "accept_rate": 47, "profile_image": "https://lh5.googleusercontent.com/-QpwskthPCBg/AAAAAAAAAAI/AAAAAAAAA8I/31O3ypPHSiQ/photo.jpg?sz=128", "display_name": "siva kumar", "link": "https://stackoverflow.com/users/7114470/siva-kumar"}, "is_accepted": false, "score": 6, "last_activity_date": 1543834328, "last_edit_date": 1543834328, "creation_date": 1519622718, "answer_id": 48981921, "question_id": 48435365, "link": "https://stackoverflow.com/questions/48435365/get-download-url-from-firebase-storage-in-flutter/48981921#48981921", "title": "Get Download URL from Firebase Storage in Flutter", "body": "<p>I had Implemented a method to save your image with a timestamp and get the downloadable url.</p>\n\n<pre><code>Future&lt;String&gt;photoOption() async {\n    try {\n        DateTime now = new DateTime.now();\n        var datestamp = new DateFormat(\"yyyyMMdd'T'HHmmss\");\n        String currentdate = datestamp.format(now);\n        File imageFile = await ImagePicker.pickImage();\n\n\n        StorageReference ref = FirebaseStorage.instance\n            .ref()\n            .child(\"images\")\n            .child(\"$currentdate.jpg\");\n        StorageUploadTask uploadTask = ref.putFile(imageFile);\n\n        Uri downloadUrl = (await uploadTask.future).downloadUrl;\n        addUser.downloadablelink = downloadUrl.toString();\n\n        downloadableUrl = downloadUrl.toString();\n\n        print(downloadableUrl);\n\n    } catch (error) {\n        print(error);\n    }\n\n    return downloadableUrl;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6146, "user_id": 6204133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vG3q4.jpg?s=128&g=1", "display_name": "Dan Alboteanu", "link": "https://stackoverflow.com/users/6204133/dan-alboteanu"}, "is_accepted": false, "score": 7, "last_activity_date": 1537949970, "creation_date": 1537949970, "answer_id": 52513113, "question_id": 48435365, "link": "https://stackoverflow.com/questions/48435365/get-download-url-from-firebase-storage-in-flutter/52513113#52513113", "title": "Get Download URL from Firebase Storage in Flutter", "body": "<p>use url like this:</p>\n\n<pre><code>printUrl() async {\n    StorageReference ref = \n        FirebaseStorage.instance.ref().child(\"images/sky.jpg\");\n    String url = (await ref.getDownloadURL()).toString();\n    print(url);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 945, "user_id": 4733231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tq8s2.jpg?s=128&g=1", "display_name": "egorikem", "link": "https://stackoverflow.com/users/4733231/egorikem"}, "edited": false, "score": 0, "creation_date": 1564910653, "post_id": 52878527, "comment_id": 101178695, "body": "Now that&#39;s the correct way to do it. Thanks, mate, spent like two hours figuring out wtf!"}, {"owner": {"reputation": 63626, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "edited": false, "score": 2, "creation_date": 1604996836, "post_id": 52878527, "comment_id": 114510722, "body": "The above way is now deprecated, check this answer: <a href=\"https://stackoverflow.com/a/64764390/7015400\">stackoverflow.com/a/64764390/7015400</a>"}], "tags": [], "owner": {"reputation": 271, "user_id": 10213988, "user_type": "registered", "profile_image": "https://graph.facebook.com/1817897028287134/picture?type=large", "display_name": "Alex Moon", "link": "https://stackoverflow.com/users/10213988/alex-moon"}, "is_accepted": false, "score": 25, "last_activity_date": 1539880505, "last_edit_date": 1539880505, "creation_date": 1539879864, "answer_id": 52878527, "question_id": 48435365, "link": "https://stackoverflow.com/questions/48435365/get-download-url-from-firebase-storage-in-flutter/52878527#52878527", "title": "Get Download URL from Firebase Storage in Flutter", "body": "<p>If the above solution doesn't work, try this:</p>\n\n<pre><code>Future&lt;String&gt; uploadImage(var imageFile ) async {\n    StorageReference ref = storage.ref().child(\"/photo.jpg\");\n    StorageUploadTask uploadTask = ref.putFile(imageFile);\n\n    var dowurl = await (await uploadTask.onComplete).ref.getDownloadURL();\n    url = dowurl.toString();\n\n    return url; \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1128, "user_id": 1160314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/991e697bdba47ebed00b2b7745458000?s=128&d=identicon&r=PG", "display_name": "touti", "link": "https://stackoverflow.com/users/1160314/touti"}, "is_accepted": false, "score": 1, "last_activity_date": 1562575596, "creation_date": 1562575596, "answer_id": 56931286, "question_id": 48435365, "link": "https://stackoverflow.com/questions/48435365/get-download-url-from-firebase-storage-in-flutter/56931286#56931286", "title": "Get Download URL from Firebase Storage in Flutter", "body": "<p>He is my solution : </p>\n\n<pre><code>StorageReference storageReference = FirebaseStorage.instance.ref().child(\"myfile\"); \nStorageUploadTask uploadTask = storageReference.putFile(file);\nuploadTask.onComplete.then((s){ \n   s.ref.getDownloadURL(); \n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 737, "user_id": 9960377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rRslI.png?s=128&g=1", "display_name": "Rafsan Uddin Beg Rizan", "link": "https://stackoverflow.com/users/9960377/rafsan-uddin-beg-rizan"}, "is_accepted": false, "score": 2, "last_activity_date": 1567590595, "creation_date": 1567590595, "answer_id": 57785820, "question_id": 48435365, "link": "https://stackoverflow.com/questions/48435365/get-download-url-from-firebase-storage-in-flutter/57785820#57785820", "title": "Get Download URL from Firebase Storage in Flutter", "body": "<p>My Solution</p>\n\n<pre><code>Future mainprofile(File image) async {\n    try {\n      DateTime now = new DateTime.now();\n      var datestamp = new DateFormat(\"yyyyMMdd'T'HHmmss\");\n      String currentdate = datestamp.format(now);\n      _firebaseStorageRef = FirebaseStorage.instance\n          .ref()\n          .child(userRepository.uid)\n          .child('main')\n          .child(\"$currentdate.jpg\");\n      StorageUploadTask uploadTask = _firebaseStorageRef.putFile(image);\n      uploadTask.onComplete.then((onValue) async {\n        _mainurl = (await _firebaseStorageRef.getDownloadURL()).toString();\n      });\n    } catch (error) {\n      print(error);\n    }\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11563547"}, "edited": false, "score": 4, "creation_date": 1568323086, "post_id": 57914381, "comment_id": 102248047, "body": "You should consider adding text to explain the code in the answer"}], "tags": [], "owner": {"reputation": 41, "user_id": 10843951, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-12iuAMJR4ak/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaeC4rZYNAU4PhpCivVguclmU2TuA/mo/photo.jpg?sz=128", "display_name": "Louiza Benhizia", "link": "https://stackoverflow.com/users/10843951/louiza-benhizia"}, "is_accepted": false, "score": 4, "last_activity_date": 1568322496, "last_edit_date": 1568322496, "creation_date": 1568321768, "answer_id": 57914381, "question_id": 48435365, "link": "https://stackoverflow.com/questions/48435365/get-download-url-from-firebase-storage-in-flutter/57914381#57914381", "title": "Get Download URL from Firebase Storage in Flutter", "body": "<pre><code>Future&lt;String&gt; urlDownload(file) async {\nvar uuid = Uuid().v1();\nStorageReference ref =\n    FirebaseStorage.instance.ref().child(\"post_$uuid.jpg\");\nStorageUploadTask uploadTask = ref.putFile(file);\n\nString downloadUrl =\n    await (await uploadTask.onComplete).ref.getDownloadURL();\nreturn downloadUrl;}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 147, "user_id": 7659530, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gm3T0.jpg?s=128&g=1", "display_name": "ekoRem", "link": "https://stackoverflow.com/users/7659530/ekorem"}, "is_accepted": false, "score": 0, "last_activity_date": 1587230423, "creation_date": 1587230423, "answer_id": 61293262, "question_id": 48435365, "link": "https://stackoverflow.com/questions/48435365/get-download-url-from-firebase-storage-in-flutter/61293262#61293262", "title": "Get Download URL from Firebase Storage in Flutter", "body": "<p>Here is my solution</p>\n\n<p>this part is how i get image from picker</p>\n\n<pre><code> Future getImage() async {\n  var image = await ImagePicker.pickImage(source: ImageSource.gallery);\n\n  setState(() {\n    _image = image;\n      print('Image Path $_image');\n  });\n}\n</code></pre>\n\n<p>than i upload it</p>\n\n<pre><code> Future uploadPic(BuildContext context) async {\n\n  String fileName = basename(_image.path);\n  StorageReference firebaseStorageRef = FirebaseStorage.instance.ref().child(fileName);\n  StorageUploadTask uploadTask = firebaseStorageRef.putFile(_image);\n  StorageTaskSnapshot taskSnapshot = await uploadTask.onComplete;\n\n\n  final String url = (await taskSnapshot.ref.getDownloadURL());\n  print('URL Is $url');\n}\n</code></pre>\n\n<p>hope it will help someone</p>\n"}, {"tags": [], "owner": {"reputation": 493, "user_id": 4993045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3hOI.jpg?s=128&g=1", "display_name": "Umer Waqas", "link": "https://stackoverflow.com/users/4993045/umer-waqas"}, "is_accepted": false, "score": 0, "last_activity_date": 1601923713, "creation_date": 1601923713, "answer_id": 64214480, "question_id": 48435365, "link": "https://stackoverflow.com/questions/48435365/get-download-url-from-firebase-storage-in-flutter/64214480#64214480", "title": "Get Download URL from Firebase Storage in Flutter", "body": "<p>Here is my approach, to upload an image to <strong>Firebase Storage</strong> and get the <strong>dowlad URL</strong></p>\n<pre><code> var img_name=DateTime.now().millisecondsSinceEpoch.toString()+&quot;.png&quot;;\n\n final StorageReference storageReference = FirebaseStorage.instance.ref().child(&quot;images/profile/&quot;+img_name);\n\n var upload= await storageReference.putFile(croppedFile);\n await upload.onComplete;\n\n var url=await storageReference.getDownloadURL();\n print(url.toString());\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1084, "user_id": 1060044, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5TTm1.jpg?s=128&g=1", "display_name": "Krishna Shetty", "link": "https://stackoverflow.com/users/1060044/krishna-shetty"}, "edited": false, "score": 1, "creation_date": 1606926084, "post_id": 64732565, "comment_id": 115112466, "body": "Thanks a lot for this answer!"}, {"owner": {"reputation": 563, "user_id": 575235, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/ad9f66fedc1abfbe21392da59d73c751?s=128&d=identicon&r=PG", "display_name": "Ishaan Puniani", "link": "https://stackoverflow.com/users/575235/ishaan-puniani"}, "edited": false, "score": 0, "creation_date": 1607215658, "post_id": 64732565, "comment_id": 115203027, "body": "Hello, This works for 1 file, However I am not sure hot to make it working for a list of files. I need to do something like ``` Future&lt;List&lt;String&gt;&gt; _uploadFiles(List&lt;PickedFile&gt; files) async {``` in previous version it is working fine with StorageTaskSnapshot snapshot = await uploadTask.onComplete; because of &quot;await&quot; inside for loop."}], "tags": [], "owner": {"reputation": 1612, "user_id": 11222495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d6RFB.jpg?s=128&g=1", "display_name": "Md Mahmudul Islam", "link": "https://stackoverflow.com/users/11222495/md-mahmudul-islam"}, "is_accepted": false, "score": 5, "last_activity_date": 1604784155, "creation_date": 1604784155, "answer_id": 64732565, "question_id": 48435365, "link": "https://stackoverflow.com/questions/48435365/get-download-url-from-firebase-storage-in-flutter/64732565#64732565", "title": "Get Download URL from Firebase Storage in Flutter", "body": "<p><strong>At latest version <code>firebase_storage: ^5.0.1</code> Approach should be like below:</strong></p>\n<pre><code>Reference reference = FirebaseStorage.instance.ref().child(&quot;SupportChatImages&quot;).child(fileName);\n\n    UploadTask uploadTask =  reference.putFile(imageFile);\n\n    uploadTask.whenComplete(() async{\n\n      try{\n        imageUrl = await reference.getDownloadURL();\n      }catch(onError){\n        print(&quot;Error&quot;);\n      }\n\n      print(imageUrl);\n\n    });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 9127909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b408e2ff2ce1b0d1a1d8ff49e67d5024?s=128&d=identicon&r=PG&f=1", "display_name": "Arun gwalani", "link": "https://stackoverflow.com/users/9127909/arun-gwalani"}, "is_accepted": false, "score": 1, "last_activity_date": 1612782131, "creation_date": 1612782131, "answer_id": 66100346, "question_id": 48435365, "link": "https://stackoverflow.com/questions/48435365/get-download-url-from-firebase-storage-in-flutter/66100346#66100346", "title": "Get Download URL from Firebase Storage in Flutter", "body": "<p>I have tried many ways and this worked for me after many tries as Firebase Storage removing old methods. If anyone getting error of 404 Object not found Then the below code also solves that.</p>\n<pre><code>Future&lt;String&gt; uploadSingleImage(File file) async {\n    //Set File Name\n    String fileName = DateTime.now().millisecondsSinceEpoch.toString() +\n        AuthRepository.getUser().uid +\n        '.jpg';\n    \n    //Create Reference\n    Reference reference = FirebaseStorage.instance\n        .ref()\n        .child('Single Post Images')\n        .child(fileName);\n\n    //Now We have to check the status of UploadTask\n    UploadTask uploadTask = reference.putFile(file);\n    \n    String url;\n    await uploadTask.whenComplete(() async {\n      url = await uploadTask.snapshot.ref.getDownloadURL();\n    });\n   \n    return url;\n  }\n</code></pre>\n"}], "owner": {"reputation": 3243, "user_id": 5079849, "user_type": "registered", "accept_rate": 46, "profile_image": "https://lh3.googleusercontent.com/-2CP3JmsQzco/AAAAAAAAAAI/AAAAAAAAAds/VUDQ1UwKiFI/photo.jpg?sz=128", "display_name": "Putra Ardiansyah", "link": "https://stackoverflow.com/users/5079849/putra-ardiansyah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21174, "favorite_count": 7, "answer_count": 10, "score": 16, "last_activity_date": 1612782131, "creation_date": 1516852254, "last_edit_date": 1516889583, "question_id": 48435365, "link": "https://stackoverflow.com/questions/48435365/get-download-url-from-firebase-storage-in-flutter", "title": "Get Download URL from Firebase Storage in Flutter", "body": "<p>I'm currently exploring Flutter, I found there is an official Firebase Storage plugin in Flutter <a href=\"https://pub.dartlang.org/packages/firebase_storage\" rel=\"noreferrer\">firebase_storage</a>\nI have storage reference like this one:</p>\n\n<pre><code>final StorageReference ref = FirebaseStorage.instance.ref().child(\"default.png\");\n</code></pre>\n\n<p>But there is no method to get download URL from that StorageReference. </p>\n"}]