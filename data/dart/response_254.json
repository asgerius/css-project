[{"tags": ["android", "ios", "flutter", "dart"], "comments": [{"owner": {"reputation": 485, "user_id": 1348230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/453a9b0f7ecafebcbc3804cf92a51612?s=128&d=identicon&r=PG&f=1", "display_name": "AnsellC", "link": "https://stackoverflow.com/users/1348230/ansellc"}, "edited": false, "score": 0, "creation_date": 1574301541, "post_id": 58964665, "comment_id": 104187186, "body": "Have you tried <code>await videoPlayerController.initialize();</code> before seeking?"}, {"owner": {"reputation": 23, "user_id": 12406913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0e900a362dd9ec04031f78c0c6420b5?s=128&d=identicon&r=PG&f=1", "display_name": "yoyo11", "link": "https://stackoverflow.com/users/12406913/yoyo11"}, "reply_to_user": {"reputation": 485, "user_id": 1348230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/453a9b0f7ecafebcbc3804cf92a51612?s=128&d=identicon&r=PG&f=1", "display_name": "AnsellC", "link": "https://stackoverflow.com/users/1348230/ansellc"}, "edited": false, "score": 0, "creation_date": 1574352343, "post_id": 58964665, "comment_id": 104211240, "body": "I just did per the response below and it worked. Thank you."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 12406913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0e900a362dd9ec04031f78c0c6420b5?s=128&d=identicon&r=PG&f=1", "display_name": "yoyo11", "link": "https://stackoverflow.com/users/12406913/yoyo11"}, "edited": false, "score": 1, "creation_date": 1574352272, "post_id": 58966134, "comment_id": 104211201, "body": "That worked. Thank you! I have a follow up question: I have .setLooping = true. When the video begins, it starts at my desired .seekTo value. However, when it loops, the loop begins in the original start of the video, not the .seekTo value (which is what I prefer). Is it possible to do this?"}, {"owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "reply_to_user": {"reputation": 23, "user_id": 12406913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0e900a362dd9ec04031f78c0c6420b5?s=128&d=identicon&r=PG&f=1", "display_name": "yoyo11", "link": "https://stackoverflow.com/users/12406913/yoyo11"}, "edited": false, "score": 0, "creation_date": 1574643269, "post_id": 58966134, "comment_id": 104292833, "body": "You can check video isEnd with <a href=\"https://github.com/flutter/flutter/issues/21929\" rel=\"nofollow noreferrer\">github.com/flutter/flutter/issues/21929</a> and seek again. or post another question. maybe there is good way."}], "tags": [], "owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "is_accepted": true, "score": 1, "last_activity_date": 1574301635, "creation_date": 1574301635, "answer_id": 58966134, "question_id": 58964665, "link": "https://stackoverflow.com/questions/58964665/flutter-video-player-plugin-videoplayercontroller-seekto/58966134#58966134", "title": "Flutter video_player plugin - VideoPlayerController.seekTo", "body": "<p>You need to initialize first then do seekTo and play <br>\ncode snippet</p>\n\n<pre><code>_videoPlayerController1..initialize().then((_){\n                      setState(() {\n                        _videoPlayerController1.seekTo(Duration(seconds: 3));\n                        _videoPlayerController1.play();\n                      });\n                    });\n</code></pre>\n\n<p>demo skip 3 seconds</p>\n\n<p><a href=\"https://i.stack.imgur.com/jDcv8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jDcv8.png\" alt=\"enter image description here\"></a></p>\n\n<p>full code</p>\n\n<pre><code>import 'package:chewie/chewie.dart';\nimport 'package:chewie/src/chewie_player.dart';\nimport 'package:flutter/cupertino.dart';\nimport 'package:flutter/material.dart';\nimport 'package:video_player/video_player.dart';\n\nvoid main() {\n  runApp(\n    MyApp(),\n  );\n}\n\nclass MyApp extends StatelessWidget {\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Flutter Demo',\n      theme: ThemeData(\n        // This is the theme of your application.\n        //\n        // Try running your application with \"flutter run\". You'll see the\n        // application has a blue toolbar. Then, without quitting the app, try\n        // changing the primarySwatch below to Colors.green and then invoke\n        // \"hot reload\" (press \"r\" in the console where you ran \"flutter run\",\n        // or simply save your changes to \"hot reload\" in a Flutter IDE).\n        // Notice that the counter didn't reset back to zero; the application\n        // is not restarted.\n        primarySwatch: Colors.blue,\n      ),\n      home: ChewieDemo(title: 'Flutter Demo Home Page'),\n    );\n  }\n}\n\nclass ChewieDemo extends StatefulWidget {\n  ChewieDemo({this.title = 'Chewie Demo'});\n\n  final String title;\n\n  @override\n  State&lt;StatefulWidget&gt; createState() {\n    return _ChewieDemoState();\n  }\n}\n\nclass _ChewieDemoState extends State&lt;ChewieDemo&gt; {\n  TargetPlatform _platform;\n  VideoPlayerController _videoPlayerController1;\n  VideoPlayerController _videoPlayerController2;\n  ChewieController _chewieController;\n\n  @override\n  void initState() {\n    super.initState();\n    _videoPlayerController1 = VideoPlayerController.network(\n        'https://flutter.github.io/assets-for-api-docs/assets/videos/butterfly.mp4');\n    _videoPlayerController2 = VideoPlayerController.asset(\n        'assets/videos/sample.mp4');\n    _chewieController = ChewieController(\n      videoPlayerController: _videoPlayerController1,\n      aspectRatio: 3 / 2,\n      autoPlay: false,\n      looping: true,\n      // Try playing around with some of these other options:\n\n      // showControls: false,\n      // materialProgressColors: ChewieProgressColors(\n      //   playedColor: Colors.red,\n      //   handleColor: Colors.blue,\n      //   backgroundColor: Colors.grey,\n      //   bufferedColor: Colors.lightGreen,\n      // ),\n      // placeholder: Container(\n      //   color: Colors.grey,\n      // ),\n      // autoInitialize: true,\n    );\n  }\n\n  @override\n  void dispose() {\n    _videoPlayerController1.dispose();\n    _videoPlayerController2.dispose();\n    _chewieController.dispose();\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: widget.title,\n      theme: ThemeData.light().copyWith(\n        platform: _platform ?? Theme.of(context).platform,\n      ),\n      home: Scaffold(\n        appBar: AppBar(\n          title: Text(widget.title),\n        ),\n        body: Column(\n          children: &lt;Widget&gt;[\n            Expanded(\n              child: Center(\n                child: Chewie(\n                  controller: _chewieController,\n                ),\n              ),\n            ),\n            FlatButton(\n              onPressed: () {\n                _chewieController.enterFullScreen();\n              },\n              child: Text('Fullscreen'),\n            ),\n            Row(\n              children: &lt;Widget&gt;[\n                Expanded(\n                  child: FlatButton(\n                    onPressed: () {\n                      setState(() {\n                        _chewieController.dispose();\n                        /*_videoPlayerController2.pause();\n                        _videoPlayerController2.seekTo(Duration(seconds: 0));*/\n\n                        _chewieController = ChewieController(\n                          videoPlayerController: _videoPlayerController1,\n                          aspectRatio: 3 / 2,\n                          autoPlay: false,\n                          looping: true,\n                        );\n\n                        _videoPlayerController1..initialize().then((_){\n                          setState(() {\n                            _videoPlayerController1.seekTo(Duration(seconds: 3));\n                            _videoPlayerController1.play();\n                          });\n                        });\n\n                      });\n                    },\n                    child: Padding(\n                      child: Text(\"Seek To\"),\n                      padding: EdgeInsets.symmetric(vertical: 16.0),\n                    ),\n                  ),\n                ),\n                Expanded(\n                  child: FlatButton(\n                    onPressed: () {\n                      setState(() {\n                        _chewieController.dispose();\n                        _videoPlayerController2.pause();\n                        _videoPlayerController2.seekTo(Duration(seconds: 0));\n                        _chewieController = ChewieController(\n                          videoPlayerController: _videoPlayerController1,\n                          aspectRatio: 3 / 2,\n                          autoPlay: true,\n                          looping: true,\n                        );\n                      });\n                    },\n                    child: Padding(\n                      child: Text(\"Video 1\"),\n                      padding: EdgeInsets.symmetric(vertical: 16.0),\n                    ),\n                  ),\n                ),\n                Expanded(\n                  child: FlatButton(\n                    onPressed: () {\n                      setState(() {\n                        _chewieController.dispose();\n                        _videoPlayerController1.pause();\n                        _videoPlayerController1.seekTo(Duration(seconds: 0));\n                        _chewieController = ChewieController(\n                          videoPlayerController: _videoPlayerController2,\n                          aspectRatio: 3 / 2,\n                          autoPlay: true,\n                          looping: true,\n                        );\n                      });\n                    },\n                    child: Padding(\n                      padding: EdgeInsets.symmetric(vertical: 16.0),\n                      child: Text(\"Video 2\"),\n                    ),\n                  ),\n                )\n              ],\n            ),\n            Row(\n              children: &lt;Widget&gt;[\n                Expanded(\n                  child: FlatButton(\n                    onPressed: () {\n                      setState(() {\n                        _platform = TargetPlatform.android;\n                      });\n                    },\n                    child: Padding(\n                      child: Text(\"Android controls\"),\n                      padding: EdgeInsets.symmetric(vertical: 16.0),\n                    ),\n                  ),\n                ),\n                Expanded(\n                  child: FlatButton(\n                    onPressed: () {\n                      setState(() {\n                        _platform = TargetPlatform.iOS;\n                      });\n                    },\n                    child: Padding(\n                      padding: EdgeInsets.symmetric(vertical: 16.0),\n                      child: Text(\"iOS controls\"),\n                    ),\n                  ),\n                )\n              ],\n            )\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 12406913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0e900a362dd9ec04031f78c0c6420b5?s=128&d=identicon&r=PG&f=1", "display_name": "yoyo11", "link": "https://stackoverflow.com/users/12406913/yoyo11"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4739, "favorite_count": 0, "accepted_answer_id": 58966134, "answer_count": 1, "score": 2, "last_activity_date": 1574301635, "creation_date": 1574290426, "question_id": 58964665, "link": "https://stackoverflow.com/questions/58964665/flutter-video-player-plugin-videoplayercontroller-seekto", "title": "Flutter video_player plugin - VideoPlayerController.seekTo", "body": "<p>I'm new to flutter and I'm using flutter video_player plugin to play videos. After I capture a video file (using camera plugin), I'd like to start video playback 1 second into the video (essentially to skip the first second). I tried using .seekTo and passed it a Duration but it returned the following error:</p>\n\n<pre><code>[VERBOSE-2:ui_dart_state.cc(148)] Unhandled Exception: NoSuchMethodError: The getter '_duration' was called on null.\nReceiver: null\nTried calling: _duration\n</code></pre>\n\n<p>The API reference seemed straightforward enough but it's not like Duration.  Here's my code and thanks in advance!</p>\n\n<pre><code>Future&lt;void&gt; _startVideoPlayer() async {\n\n    videoPlayerController = VideoPlayerController.file(File(videoPath));\n\n    videoPlayerController.setVolume(1.0);\n    videoPlayerController.setLooping(true);\n    videoPlayerController.seekTo(Duration(seconds: 1));\n    await videoPlayerController.initialize();\n    await videoPlayerController.play();\n\n}\n</code></pre>\n"}, {"tags": ["firebase", "firebase-realtime-database", "flutter", "dart", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 531, "user_id": 10081740, "user_type": "registered", "profile_image": "https://graph.facebook.com/243478899774885/picture?type=large", "display_name": "Ike Mawira", "link": "https://stackoverflow.com/users/10081740/ike-mawira"}, "edited": false, "score": 0, "creation_date": 1574286425, "post_id": 58963751, "comment_id": 104182810, "body": "What do you mean by <code>I am trying to figure out how to pass it and then query it</code>. I think in the code above, the document ID  gets passed to <code>_CategoryState</code>, what was intended?"}, {"owner": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "reply_to_user": {"reputation": 531, "user_id": 10081740, "user_type": "registered", "profile_image": "https://graph.facebook.com/243478899774885/picture?type=large", "display_name": "Ike Mawira", "link": "https://stackoverflow.com/users/10081740/ike-mawira"}, "edited": false, "score": 0, "creation_date": 1574286916, "post_id": 58963751, "comment_id": 104183031, "body": "So right now I have Sub categories. I need the list builder to build out those subCategories for that document ID."}, {"owner": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "reply_to_user": {"reputation": 531, "user_id": 10081740, "user_type": "registered", "profile_image": "https://graph.facebook.com/243478899774885/picture?type=large", "display_name": "Ike Mawira", "link": "https://stackoverflow.com/users/10081740/ike-mawira"}, "edited": false, "score": 0, "creation_date": 1574311316, "post_id": 58963751, "comment_id": 104189408, "body": "widget.category does not work. it gives me an error"}, {"owner": {"reputation": 531, "user_id": 10081740, "user_type": "registered", "profile_image": "https://graph.facebook.com/243478899774885/picture?type=large", "display_name": "Ike Mawira", "link": "https://stackoverflow.com/users/10081740/ike-mawira"}, "edited": false, "score": 0, "creation_date": 1574338312, "post_id": 58963751, "comment_id": 104202581, "body": "What error specifically does it throw?"}, {"owner": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "reply_to_user": {"reputation": 531, "user_id": 10081740, "user_type": "registered", "profile_image": "https://graph.facebook.com/243478899774885/picture?type=large", "display_name": "Ike Mawira", "link": "https://stackoverflow.com/users/10081740/ike-mawira"}, "edited": false, "score": 1, "creation_date": 1574340019, "post_id": 58963751, "comment_id": 104203567, "body": "widget.category in the query throws the error only static members can be accessed in intializers"}, {"owner": {"reputation": 531, "user_id": 10081740, "user_type": "registered", "profile_image": "https://graph.facebook.com/243478899774885/picture?type=large", "display_name": "Ike Mawira", "link": "https://stackoverflow.com/users/10081740/ike-mawira"}, "edited": false, "score": 0, "creation_date": 1574340532, "post_id": 58963751, "comment_id": 104203855, "body": "Ah i see why, can you adjust your code like this to see if it will work, <code>Query collectionReference;    void initState() { collectionReference = Firestore.instance.collection(&quot;mainCategories&quot;).document(wid&zwnj;&#8203;get.category).collec&zwnj;&#8203;tion(&quot;subCategories&quot;&zwnj;&#8203;).orderBy(&quot;title&quot;);     subscription = collectionReference.snapshots().listen((datasnapshot) {       setState(() {         snapshot = datasnapshot.documents;       });     });     super.initState();   }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "edited": false, "score": 0, "creation_date": 1574357926, "post_id": 58975630, "comment_id": 104214313, "body": "Worked perfectly! Thank you! simple enough fix."}], "tags": [], "owner": {"reputation": 531, "user_id": 10081740, "user_type": "registered", "profile_image": "https://graph.facebook.com/243478899774885/picture?type=large", "display_name": "Ike Mawira", "link": "https://stackoverflow.com/users/10081740/ike-mawira"}, "is_accepted": true, "score": 4, "last_activity_date": 1574341076, "creation_date": 1574341076, "answer_id": 58975630, "question_id": 58963751, "link": "https://stackoverflow.com/questions/58963751/flutter-passing-document-id-in-firestore-query/58975630#58975630", "title": "Flutter Passing Document ID in Firestore Query", "body": "<p>I have realised that the code looks shady on the comment so let me make an answer.\nWhat you are trying to do is currently not supported in flutter as can be seen at these GitHub issues <a href=\"https://github.com/dart-lang/sdk/issues/15346\" rel=\"nofollow noreferrer\">1</a> and <a href=\"https://github.com/dart-lang/sdk/issues/26210\" rel=\"nofollow noreferrer\">2</a>.</p>\n\n<p>Change your code to,</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class _CategoryState extends State&lt;Category&gt;{\n  StreamSubscription&lt;QuerySnapshot&gt; subscription;\n\n  List&lt;DocumentSnapshot&gt; snapshot;\n\n  Query collectionReference;\n\n  void initState() {\n    collectionReference = Firestore.instance.collection(\"mainCategories\").document(widget.category).collection(\"subCategories\").orderBy(\"title\");\n    subscription = collectionReference.snapshots().listen((datasnapshot) {\n      setState(() {\n        snapshot = datasnapshot.documents;\n      });\n    });\n    super.initState();\n  }\n\n...\n</code></pre>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2496, "favorite_count": 0, "accepted_answer_id": 58975630, "answer_count": 1, "score": 3, "last_activity_date": 1574355506, "creation_date": 1574285764, "last_edit_date": 1574355506, "question_id": 58963751, "link": "https://stackoverflow.com/questions/58963751/flutter-passing-document-id-in-firestore-query", "title": "Flutter Passing Document ID in Firestore Query", "body": "<p>I am trying to figure out how to do this.</p>\n\n<p>If I pass the document ID hardcoded it works. But Since I have multiple pages, I am trying to figure out how to pass it and then query it..</p>\n\n<p>My main page has the following.</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:onlytag2/pages/category.dart';\nimport 'package:onlytag2/widget/maincard.dart';\nimport 'package:cloud_firestore/cloud_firestore.dart';\nimport 'dart:async';\n\nclass Home extends StatefulWidget {\n  @override\n  _HomeState createState() =&gt; _HomeState();\n}\n\nclass _HomeState extends State&lt;Home&gt; {\n  StreamSubscription&lt;QuerySnapshot&gt; subscription;\n\n  List&lt;DocumentSnapshot&gt; snapshot;\n\n  Query collectionReference = Firestore.instance.collection(\"mainCategories\").orderBy(\"title\");\n\n  void initState() {\n    subscription = collectionReference.snapshots().listen((datasnapshot) {\n      setState(() {\n        snapshot = datasnapshot.documents;\n      });\n    });\n    super.initState();\n  }\n\n  @override\n  void dispose() {\n    subscription.cancel(); //Streams must be closed when not needed\n    super.dispose();\n  }\n\n  passData(DocumentSnapshot snap, String cat, String title) {\n    print(cat);\n    Navigator.of(context).push(\n        MaterialPageRoute(builder: (context) =&gt; Category(snapshot: snap, category: cat, title: title,)));\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    if (snapshot == null) return Center(\n      child: Container(\n        color: Colors.black,\n        alignment: AlignmentDirectional(0.0, 0.0),\n        child: Container(\n          color: Colors.black,\n          constraints: BoxConstraints(\n              maxHeight: 300.0,\n              maxWidth: 200.0,\n              minWidth: 150.0,\n              minHeight: 150.0\n          ),\n          child: CircularProgressIndicator(),\n        ),\n      ),\n    );\n    return Scaffold(\n      backgroundColor: Color(0xff0E0E0F),\n      appBar: AppBar(\n        centerTitle: true,\n        backgroundColor: Colors.black,\n        title: Row(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: &lt;Widget&gt;[\n            Text(\n              \"#\",\n              style: TextStyle(\n                  fontSize: 25, color: Color(0xffff9900), fontFamily: 'Dokyo'),\n            ),\n            Text(\n              \"onlytags\",\n              style: TextStyle(color: Colors.white, fontFamily: 'Dokyo'),\n            )\n          ],\n        ),\n      ),\n      body: Column(\n        children: &lt;Widget&gt;[\n          Expanded(\n            child: Column(\n              children: &lt;Widget&gt;[\n                Expanded(\n                  child: ListView.builder(\n                      itemCount: snapshot.length,\n                      itemBuilder: (context, index) {\n                        return InkWell(\n                          onTap: () =&gt; passData(snapshot[index], snapshot[index].documentID.toString(), snapshot[index].data[\"title\"] ),\n                          child: MainCard(\n                            title: snapshot[index].data[\"title\"],\n                            subtitle: snapshot[index].data[\"subTitle\"],\n                            image: snapshot[index].data[\"image\"],\n                          ),\n                        );\n                      }),\n                ),\n              ],\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>The category widget is where I am having the problem.</p>\n\n<p>Comment Listed where I am having the problem.</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:onlytag2/widget/sub.dart';\nimport 'package:cloud_firestore/cloud_firestore.dart';\nimport 'dart:async';\n\nclass Category extends StatefulWidget {\n  DocumentSnapshot snapshot;\n  final String category;\n  final String title;\n\n  Category({this.snapshot, this.category, this.title});\n\n  @override\n  _CategoryState createState() =&gt; _CategoryState();\n}\n\nclass _CategoryState extends State&lt;Category&gt;{\n  StreamSubscription&lt;QuerySnapshot&gt; subscription;\n\n  List&lt;DocumentSnapshot&gt; snapshot;\n\n  //How do I get the category passed properly? I know it is the Document ID, but since it changes based on what button is pressed before,\n  //I cant figure out how to pass it..\n  Query collectionReference = Firestore.instance.collection(\"mainCategories\").document(widget.category).collection(\"subCategories\").orderBy(\"title\");\n\n  void initState() {\n    subscription = collectionReference.snapshots().listen((datasnapshot) {\n      setState(() {\n        snapshot = datasnapshot.documents;\n      });\n    });\n    super.initState();\n  }\n\n\n  @override\n  void dispose() {\n    subscription.cancel(); //Streams must be closed when not needed\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    if (snapshot == null) return Center(\n      child: Container(\n        color: Colors.black,\n        alignment: AlignmentDirectional(0.0, 0.0),\n        child: Container(\n          color: Colors.black,\n          constraints: BoxConstraints(\n              maxHeight: 300.0,\n              maxWidth: 200.0,\n              minWidth: 150.0,\n              minHeight: 150.0\n          ),\n          child: CircularProgressIndicator(),\n        ),\n      ),\n    );\n    return Scaffold(\n      backgroundColor: Color(0xff0E0E0F),\n      appBar: AppBar(\n        iconTheme: IconThemeData(\n          color: Color(0xffff9900),\n        ),\n        centerTitle: true,\n        backgroundColor: Colors.black,\n        title: Row(\n          mainAxisAlignment: MainAxisAlignment.center,\n          mainAxisSize: MainAxisSize.min,\n          children: &lt;Widget&gt;[\n            Text(\n              \"#\", style: TextStyle(fontSize: 25, color: Color(0xffff9900), fontFamily: 'Dokyo'),\n            ),\n            Text(widget.title.toLowerCase(), style: TextStyle(color: Colors.white, fontFamily: 'Dokyo'),)\n          ],\n        ),\n      ),\n      body: Column(\n        children: &lt;Widget&gt;[\n          Expanded(\n            child: Column(\n              children: &lt;Widget&gt;[\n                Expanded(\n                  child: ListView.builder(\n                      itemCount: snapshot.length,\n                      itemBuilder: (context, index) {\n                        return Sub(\n                          title: snapshot[index].data[\"title\"],\n                          subtitle: snapshot[index].data[\"subTitle\"],\n                          image: snapshot[index].data[\"image\"],\n                        );\n                      }),\n                ),\n                Padding(padding: EdgeInsets.fromLTRB(0, 0, 0, 15),)\n              ],\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 2056, "user_id": 11829057, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mabUZXql6Ss/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd8xuCsBWOYttvev76OEWj4v5uz4w/photo.jpg?sz=128", "display_name": "Karel Debedts", "link": "https://stackoverflow.com/users/11829057/karel-debedts"}, "edited": false, "score": 0, "creation_date": 1574282022, "post_id": 58962819, "comment_id": 104180941, "body": "Thank you very much! How can I implement it in my case?"}, {"owner": {"reputation": 785, "user_id": 793502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5352f20397d4c2f4838ee367eabcf687?s=128&d=identicon&r=PG", "display_name": "voracious", "link": "https://stackoverflow.com/users/793502/voracious"}, "reply_to_user": {"reputation": 2056, "user_id": 11829057, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mabUZXql6Ss/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd8xuCsBWOYttvev76OEWj4v5uz4w/photo.jpg?sz=128", "display_name": "Karel Debedts", "link": "https://stackoverflow.com/users/11829057/karel-debedts"}, "edited": false, "score": 1, "creation_date": 1574282292, "post_id": 58962819, "comment_id": 104181057, "body": "@KarelDebedts I&#39;ve added an example."}, {"owner": {"reputation": 2056, "user_id": 11829057, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mabUZXql6Ss/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd8xuCsBWOYttvev76OEWj4v5uz4w/photo.jpg?sz=128", "display_name": "Karel Debedts", "link": "https://stackoverflow.com/users/11829057/karel-debedts"}, "edited": false, "score": 0, "creation_date": 1574282406, "post_id": 58962819, "comment_id": 104181113, "body": "Thanks! I still get the error: A value of type &#39;SplayTreeMap&#39; can&#39;t be assigned to a variable of type &#39;List&lt;myModel&gt;&#39;."}, {"owner": {"reputation": 2056, "user_id": 11829057, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mabUZXql6Ss/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd8xuCsBWOYttvev76OEWj4v5uz4w/photo.jpg?sz=128", "display_name": "Karel Debedts", "link": "https://stackoverflow.com/users/11829057/karel-debedts"}, "edited": false, "score": 0, "creation_date": 1574282547, "post_id": 58962819, "comment_id": 104181166, "body": "I updated my question, because &#39;querying&#39; works, is there a way to sort like that?"}, {"owner": {"reputation": 785, "user_id": 793502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5352f20397d4c2f4838ee367eabcf687?s=128&d=identicon&r=PG", "display_name": "voracious", "link": "https://stackoverflow.com/users/793502/voracious"}, "reply_to_user": {"reputation": 2056, "user_id": 11829057, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mabUZXql6Ss/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd8xuCsBWOYttvev76OEWj4v5uz4w/photo.jpg?sz=128", "display_name": "Karel Debedts", "link": "https://stackoverflow.com/users/11829057/karel-debedts"}, "edited": false, "score": 1, "creation_date": 1574282550, "post_id": 58962819, "comment_id": 104181170, "body": "@KarelDebedts what&#39;s the type of <code>filteredList</code>? Is it <code>List&lt;myModel&gt;</code>?"}, {"owner": {"reputation": 2056, "user_id": 11829057, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mabUZXql6Ss/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd8xuCsBWOYttvev76OEWj4v5uz4w/photo.jpg?sz=128", "display_name": "Karel Debedts", "link": "https://stackoverflow.com/users/11829057/karel-debedts"}, "edited": false, "score": 0, "creation_date": 1574282602, "post_id": 58962819, "comment_id": 104181194, "body": "Yes, it&#39;s a List&lt;myModel&gt;"}, {"owner": {"reputation": 785, "user_id": 793502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5352f20397d4c2f4838ee367eabcf687?s=128&d=identicon&r=PG", "display_name": "voracious", "link": "https://stackoverflow.com/users/793502/voracious"}, "reply_to_user": {"reputation": 2056, "user_id": 11829057, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mabUZXql6Ss/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd8xuCsBWOYttvev76OEWj4v5uz4w/photo.jpg?sz=128", "display_name": "Karel Debedts", "link": "https://stackoverflow.com/users/11829057/karel-debedts"}, "edited": false, "score": 1, "creation_date": 1574282701, "post_id": 58962819, "comment_id": 104181238, "body": "@KarelDebedts you cannot assign a <code>SplayTreeMap</code> to a <code>List</code>. The <code>filteredList</code> is a <code>List&lt;myModel&gt;</code> and you are trying to assign <code>SplayTreeMap</code> to it, those two types are incompatible with each other."}, {"owner": {"reputation": 2056, "user_id": 11829057, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mabUZXql6Ss/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd8xuCsBWOYttvev76OEWj4v5uz4w/photo.jpg?sz=128", "display_name": "Karel Debedts", "link": "https://stackoverflow.com/users/11829057/karel-debedts"}, "edited": false, "score": 0, "creation_date": 1574282754, "post_id": 58962819, "comment_id": 104181265, "body": "Oh okay, I understand, is there a possibility to sort the list (another way?)."}, {"owner": {"reputation": 785, "user_id": 793502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5352f20397d4c2f4838ee367eabcf687?s=128&d=identicon&r=PG", "display_name": "voracious", "link": "https://stackoverflow.com/users/793502/voracious"}, "reply_to_user": {"reputation": 2056, "user_id": 11829057, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mabUZXql6Ss/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd8xuCsBWOYttvev76OEWj4v5uz4w/photo.jpg?sz=128", "display_name": "Karel Debedts", "link": "https://stackoverflow.com/users/11829057/karel-debedts"}, "edited": false, "score": 1, "creation_date": 1574283367, "post_id": 58962819, "comment_id": 104181548, "body": "@KarelDebedts you are welcome =). Glad I could help!"}], "tags": [], "owner": {"reputation": 785, "user_id": 793502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5352f20397d4c2f4838ee367eabcf687?s=128&d=identicon&r=PG", "display_name": "voracious", "link": "https://stackoverflow.com/users/793502/voracious"}, "is_accepted": true, "score": 1, "last_activity_date": 1574283154, "last_edit_date": 1574283154, "creation_date": 1574281611, "answer_id": 58962819, "question_id": 58962299, "link": "https://stackoverflow.com/questions/58962299/dart-sort-list-of-maps-by-double/58962819#58962819", "title": "Dart: sort list of maps by double", "body": "<p>You cannot pass a <code>List</code> to <code>SplayTreeMap.from(...)</code>.</p>\n\n<p>See the <a href=\"https://api.dartlang.org/stable/2.6.1/dart-collection/SplayTreeMap/SplayTreeMap.from.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>SplayTreeMap.from(Map other, [int compare(K key1 K key2), bool isValidKey(dynamic potentialKey)])\n</code></pre>\n\n<p>You need to use a <code>Map</code> or otherwise use <code>SplayTreeMap.fromIterable(...)</code> (<a href=\"https://api.dartlang.org/stable/2.6.1/dart-collection/SplayTreeMap/SplayTreeMap.fromIterable.html\" rel=\"nofollow noreferrer\">documentation</a>):</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>SplayTreeMap.fromIterable(Iterable iterable, {K key(dynamic element), V value(dynamic element), int compare(K key1 K key2), bool isValidKey(dynamic potentialKey)})\n</code></pre>\n\n<p>You could implement in the following way:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>final filteredList = \n    SplayTreeMap.fromIterable(\n      myList,\n      key: (m) =&gt; m,\n      value: (m) =&gt; m.views,\n      compare: (a, b) =&gt; \n        int.parse(a.views).compareTo(int.parse(b.views))\n    );\n</code></pre>\n\n<p>The above is an example, adjust it to your needs.</p>\n\n<p><strong>EDIT 2:</strong><br>\nGiven your edit, you could do something like:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>final temp = List.from(myList);\ntemp.sort((a, b) =&gt; int.parse(a.views).compareTo(int.parse(b.views)));\n\nfilteredList = temp;\n</code></pre>\n"}], "owner": {"reputation": 2056, "user_id": 11829057, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mabUZXql6Ss/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd8xuCsBWOYttvev76OEWj4v5uz4w/photo.jpg?sz=128", "display_name": "Karel Debedts", "link": "https://stackoverflow.com/users/11829057/karel-debedts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 614, "favorite_count": 0, "accepted_answer_id": 58962819, "answer_count": 1, "score": 0, "last_activity_date": 1574283154, "creation_date": 1574279471, "last_edit_date": 1574282520, "question_id": 58962299, "link": "https://stackoverflow.com/questions/58962299/dart-sort-list-of-maps-by-double", "title": "Dart: sort list of maps by double", "body": "<p>I have a list of maps in dart that I would like to sort.</p>\n\n<p>The list I use: </p>\n\n<pre><code>List&lt;myModel&gt; myList; \n</code></pre>\n\n<p>(with maps inside):</p>\n\n<p>(I created a model called 'myModel', so if I want to get the views: so I can use: myList[index].views to get the views of a map).</p>\n\n<p>I tried this code:</p>\n\n<pre><code>setState(() {\n        filteredList = SplayTreeMap.from(\n            myList,\n            (a, b) =&gt; int.parse(myList[a].views)\n                .compareTo(int.parse(myList[b].views)));\n      });\n</code></pre>\n\n<p>(I want to sort the views, hight to low).</p>\n\n<p>But I get this error:</p>\n\n<pre><code>error: A value of type 'SplayTreeMap' can't be assigned to a variable of type 'List&lt;myModel&gt;'.\n</code></pre>\n\n<p>What am I doing wrong?</p>\n\n<p>Thanks in advance!</p>\n\n<p>EDIT:</p>\n\n<p>I 'query' my list this way.</p>\n\n<pre><code>    filteredList = myList\n        .where((snapshot) =&gt; snapshot.views &gt; 0)\n        .toList();\n</code></pre>\n\n<p>This works...</p>\n\n<p>Is there a possibility to sort that way?</p>\n"}, {"tags": ["flutter", "dart", "flutter-layout"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 12406086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/550d87488606006441db7678751ad40a?s=128&d=identicon&r=PG&f=1", "display_name": "Matheus Bronca", "link": "https://stackoverflow.com/users/12406086/matheus-bronca"}, "edited": false, "score": 0, "creation_date": 1574290849, "post_id": 58964503, "comment_id": 104184461, "body": "Doesn&#39;t work, this render a shadow in all edges of the image (Rectangle). I need this shadow outline the leopard, you know?"}, {"owner": {"reputation": 272, "user_id": 5174125, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CWRwL9e7f2Y/AAAAAAAAAAI/AAAAAAAAAME/Ji6zztyZbV8/photo.jpg?sz=128", "display_name": "hemandroid", "link": "https://stackoverflow.com/users/5174125/hemandroid"}, "reply_to_user": {"reputation": 31, "user_id": 12406086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/550d87488606006441db7678751ad40a?s=128&d=identicon&r=PG&f=1", "display_name": "Matheus Bronca", "link": "https://stackoverflow.com/users/12406086/matheus-bronca"}, "edited": false, "score": 0, "creation_date": 1574305291, "post_id": 58964503, "comment_id": 104188026, "body": "@MatheusBronca I think you need to add the Boxdecoration for your image asset to add shadow effect, please refer to this blog post <a href=\"https://medium.com/jlouage/flutter-boxdecoration-cheat-sheet-72cedaa1ba20\" rel=\"nofollow noreferrer\">medium.com/jlouage/&hellip;</a> If you need anything more, don&#39;t hesitate to reach out to me. Here is my email id hscharan2010@gmail.com"}, {"owner": {"reputation": 31, "user_id": 12406086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/550d87488606006441db7678751ad40a?s=128&d=identicon&r=PG&f=1", "display_name": "Matheus Bronca", "link": "https://stackoverflow.com/users/12406086/matheus-bronca"}, "reply_to_user": {"reputation": 272, "user_id": 5174125, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CWRwL9e7f2Y/AAAAAAAAAAI/AAAAAAAAAME/Ji6zztyZbV8/photo.jpg?sz=128", "display_name": "hemandroid", "link": "https://stackoverflow.com/users/5174125/hemandroid"}, "edited": false, "score": 0, "creation_date": 1574350382, "post_id": 58964503, "comment_id": 104210002, "body": "i&#39;m just replying this comment to say that solution does&#39;nt work, if anyone has any other solution my question still remains unanswered. Thanks for support @hemandroid"}, {"owner": {"reputation": 531, "user_id": 10081740, "user_type": "registered", "profile_image": "https://graph.facebook.com/243478899774885/picture?type=large", "display_name": "Ike Mawira", "link": "https://stackoverflow.com/users/10081740/ike-mawira"}, "reply_to_user": {"reputation": 31, "user_id": 12406086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/550d87488606006441db7678751ad40a?s=128&d=identicon&r=PG&f=1", "display_name": "Matheus Bronca", "link": "https://stackoverflow.com/users/12406086/matheus-bronca"}, "edited": false, "score": 0, "creation_date": 1574367313, "post_id": 58964503, "comment_id": 104218622, "body": "@MatheusBronca try the edited solution. I also hope i understood you well on the leopard background. I assume you wanted to add a box shadow to a PNG image."}, {"owner": {"reputation": 31, "user_id": 12406086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/550d87488606006441db7678751ad40a?s=128&d=identicon&r=PG&f=1", "display_name": "Matheus Bronca", "link": "https://stackoverflow.com/users/12406086/matheus-bronca"}, "edited": false, "score": 0, "creation_date": 1574423492, "post_id": 58964503, "comment_id": 104237796, "body": "@IkeMawira  That&#39;s work, i did this before, but when i put this stack above of any Widget, he&#39;s blurring everything bellow. Any solution?"}, {"owner": {"reputation": 531, "user_id": 10081740, "user_type": "registered", "profile_image": "https://graph.facebook.com/243478899774885/picture?type=large", "display_name": "Ike Mawira", "link": "https://stackoverflow.com/users/10081740/ike-mawira"}, "reply_to_user": {"reputation": 31, "user_id": 12406086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/550d87488606006441db7678751ad40a?s=128&d=identicon&r=PG&f=1", "display_name": "Matheus Bronca", "link": "https://stackoverflow.com/users/12406086/matheus-bronca"}, "edited": false, "score": 0, "creation_date": 1574425408, "post_id": 58964503, "comment_id": 104238785, "body": "@MatheusBronca use this filter instead, <code>ImageFilter.blur(sigmaX: 0.0, sigmaY: 0.0)</code>. I guess the blur is because of this."}, {"owner": {"reputation": 31, "user_id": 12406086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/550d87488606006441db7678751ad40a?s=128&d=identicon&r=PG&f=1", "display_name": "Matheus Bronca", "link": "https://stackoverflow.com/users/12406086/matheus-bronca"}, "edited": false, "score": 0, "creation_date": 1574464399, "post_id": 58964503, "comment_id": 104256134, "body": "@IkeMawira Yes, this works for perfect stroke shadows, but i want a shadow with spread radius (blurred)). I think this is possible only by CustomPaint, but i don&#39;t know how implement."}], "tags": [], "owner": {"reputation": 531, "user_id": 10081740, "user_type": "registered", "profile_image": "https://graph.facebook.com/243478899774885/picture?type=large", "display_name": "Ike Mawira", "link": "https://stackoverflow.com/users/10081740/ike-mawira"}, "is_accepted": false, "score": 0, "last_activity_date": 1574367204, "last_edit_date": 1574367204, "creation_date": 1574289557, "answer_id": 58964503, "question_id": 58962184, "link": "https://stackoverflow.com/questions/58962184/how-implement-dropshadow-shadow-effect-at-images-in-flutter/58964503#58964503", "title": "How implement DropShadow / Shadow effect at Images in Flutter?", "body": "<p>Wrap your image in a material and add an elevation, that should add the shadow effect. \nE.g. </p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>    Material(\n      elevation: 5.0,\n      child: Image.asset('assets/leopard.png',),)\n\n</code></pre>\n\n<p>Edit: Adding a box shadow to a PNG file (If i got you right on the Leopard).\nUse two images, assuming that the leopard's background is transparent, </p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>  Stack(\n    children :&lt;Widget&gt;[\n      Opacity(child: Image.asset(imagePath, color: Colors.black), opacity: 0.2),\n      ClipRect(child: BackdropFilter(\n        filter: ImageFilter.blur(sigmaX: 5.0, sigmaY: 5.0),\n        child: Image.asset(imagePath)))],)\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 12406086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/550d87488606006441db7678751ad40a?s=128&d=identicon&r=PG&f=1", "display_name": "Matheus Bronca", "link": "https://stackoverflow.com/users/12406086/matheus-bronca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1268, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1574367204, "creation_date": 1574279031, "question_id": 58962184, "link": "https://stackoverflow.com/questions/58962184/how-implement-dropshadow-shadow-effect-at-images-in-flutter", "title": "How implement DropShadow / Shadow effect at Images in Flutter?", "body": "<p>I tried to do something like a  two Images in a Stack (one of them filled with black color obviously) with a BackDropFilter. But the result blurs everything bellow of the Stack (even on alpha area of the image). I`d searched about this effect but dont have found the answers yet. i'll appreciate if you can give me a possible solution or path to implement this effect.</p>\n\n<pre><code>                  children: &lt;Widget&gt;[\n                    ClipRect(\n                        child: BackdropFilter(                      \n                        child:Image.asset('assets/leopard.png', color: Colors.black,),\n                        filter: prefix0.ImageFilter.blur(sigmaX: 5, sigmaY: 5),\n                      ),\n                    ),\n                    Image.asset('assets/leopard.png',),\n                    ] ,```\n\n\n  [1]: https://i.stack.imgur.com/iLKYo.jpg\n</code></pre>\n"}, {"tags": ["firebase", "flutter", "dart", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "edited": false, "score": 0, "creation_date": 1574279736, "post_id": 58962258, "comment_id": 104179895, "body": "But if I am navigating in from the Main category, can I pass the index value in? For example if I click on Cat 2 I want the category page to display the cat 2 sub categories."}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "reply_to_user": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "edited": false, "score": 1, "creation_date": 1574280007, "post_id": 58962258, "comment_id": 104180026, "body": "That sounds like a different problem than making the correct query.  I don&#39;t really know enough Flutter to answer this followup, I can only tell you how to make the query."}, {"owner": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "edited": false, "score": 0, "creation_date": 1574280320, "post_id": 58962258, "comment_id": 104180178, "body": "Also the documents are auto generated ID, what would define the &quot;cat&quot; is that the  ID?"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "reply_to_user": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "edited": false, "score": 0, "creation_date": 1574280385, "post_id": 58962258, "comment_id": 104180217, "body": "You&#39;re going to need to remember that value somehow, or query for the document you want using what you know about it fields."}, {"owner": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "edited": false, "score": 0, "creation_date": 1574280549, "post_id": 58962258, "comment_id": 104180278, "body": "Ok perfect. I hardcoded it to test and it worked.. thank you!"}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 1, "last_activity_date": 1574279300, "creation_date": 1574279300, "answer_id": 58962258, "question_id": 58962152, "link": "https://stackoverflow.com/questions/58962152/flutter-and-cloud-firestore-how-to-access-2nd-level-category-list/58962258#58962258", "title": "Flutter and Cloud Firestore how to access 2nd level category list", "body": "<p>If your subcategories actually implemented as nested subcollections in Firestore, the query looks more like this:</p>\n\n<pre><code>Query subCategoriesQuery = Firestore.instance\n    .collection(\"mainCategories\")\n    .document(cat)\n    .collection(subCat)\n</code></pre>\n\n<p>You will need to provide a value for both <code>cat</code> as the name of the top level category document, and a value for <code>subCat</code> for the name of the subcategory subcollection.</p>\n"}], "owner": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 699, "favorite_count": 0, "accepted_answer_id": 58962258, "answer_count": 1, "score": 0, "last_activity_date": 1574279300, "creation_date": 1574278908, "question_id": 58962152, "link": "https://stackoverflow.com/questions/58962152/flutter-and-cloud-firestore-how-to-access-2nd-level-category-list", "title": "Flutter and Cloud Firestore how to access 2nd level category list", "body": "<p>I have a firebase database that is built like this.</p>\n\n<pre><code>MainCategories - Cat 1 - \n                        - SubCategories -\n                                    - Sub Cat 1\n                                    - Sub Cat 2\n                 Cat 2 - SubCategories -\n                                    - Sub Cat 1\n                                    - Sub Cat 2\n                                    - Sub Cat 3\n                 Cat 3 - SubCategories -\n                                    - Sub Cat 1\n                 Cat 4 - SubCategories -\n                                    - Sub Cat 1\n                                    - Sub Cat 2\n                                    - Sub Cat 3\n</code></pre>\n\n<p>I am trying to do a list builder on my homepage to to populate the Main Categories, I have managed to do this with </p>\n\n<pre><code>Query collectionReference = Firestore.instance.collection(\"mainCategories\").orderBy(\"title\");\n</code></pre>\n\n<p>Then I have a list view builder that is working fine for the main Categories</p>\n\n<pre><code>                      ListView.builder(\n                      itemCount: snapshot.length,\n                      itemBuilder: (context, index) {\n                        return InkWell(\n                          onTap: () =&gt; passData(snapshot[index]),\n                          child: MainCard(\n                            title: snapshot[index].data[\"title\"],\n                            subtitle: snapshot[index].data[\"subTitle\"],\n                            image: snapshot[index].data[\"image\"],\n                          ),\n                        );\n                      }),\n                ),\n</code></pre>\n\n<p>Im passing the data with </p>\n\n<pre><code>passData(DocumentSnapshot snap) {\n    Navigator.of(context).push(\n        MaterialPageRoute(builder: (context) =&gt; Category(snapshot: snap,)));\n  }\n</code></pre>\n\n<p>Which I am not even sure if its needed.</p>\n\n<p>IN the Category widget I am looking to build another list view of the sub categories</p>\n\n<p>So in this case if they selected the 2nd category it should show you a list view of the 3 sub categories.</p>\n\n<p>I am not sure if I am passing the data right to begin with and in the Category widget I am sure I am not querying it correctly.</p>\n\n<pre><code>Query collectionReference = Firestore.instance.collection(\"subCategories\");\n</code></pre>\n\n<p>I am looking to see how to populate that 2nd level of categories in the listview builder</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 433, "user_id": 1889231, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/50a2e63f6bfbc3050f8aa4f6bb5739ae?s=128&d=identicon&r=PG", "display_name": "morgred", "link": "https://stackoverflow.com/users/1889231/morgred"}, "edited": false, "score": 0, "creation_date": 1574355602, "post_id": 58966347, "comment_id": 104213134, "body": "I see what you did, but i&#39;m considering other screen sizes as well. I really dislike this particular solution, as it&#39;s not alignment, but in lack of better options i guess it has to do.   Still, for this to work the right padding needs to be calculated as the difference between the screen width and the space the TabBar with the is scrollable property on. Can i do that? Of course, there&#39;s also the case where the screen changes size (orientation) and it needs to be recalculated, but that&#39;s a small case i can go after later."}, {"owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "reply_to_user": {"reputation": 433, "user_id": 1889231, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/50a2e63f6bfbc3050f8aa4f6bb5739ae?s=128&d=identicon&r=PG", "display_name": "morgred", "link": "https://stackoverflow.com/users/1889231/morgred"}, "edited": false, "score": 0, "creation_date": 1574646576, "post_id": 58966347, "comment_id": 104293405, "body": "I have update my answer. You can control full tarBar size with Container, set to relative screen width"}], "tags": [], "owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "is_accepted": true, "score": 1, "last_activity_date": 1574649753, "last_edit_date": 1574649753, "creation_date": 1574303193, "answer_id": 58966347, "question_id": 58961617, "link": "https://stackoverflow.com/questions/58961617/can-i-align-tabs-in-tabbar-to-the-left-instead-of-center/58966347#58966347", "title": "Can i align tabs in TabBar to the left instead of center?", "body": "<p><strong>Edit: I have update full code and working demo</strong> <br>\n<strong>You can use Alignment.centerLeft <br>\nand control full TarBar size with Container and set to relative screen width <br></strong></p>\n\n<pre><code>    appBar: AppBar(\n        title: Text(widget.title),\n        bottom: PreferredSize(\n          preferredSize: const Size.fromHeight(20.0),\n          child: Align(\n            alignment: Alignment.centerLeft,\n            child: Container(\n              width: MediaQuery.of(context).size.width / 2,\n              child: TabBar(\n                isScrollable: true,\n                controller: _tabController,\n                tabs: [\n                  Tab(text: 'Tab 1'),\n                  Tab(text: 'Tab 2'),\n                  Tab(text: 'Tab 3'),\n                  Tab(text: 'Tab 4'),\n                  Tab(text: 'Tab 5'),\n                ],\n              ),\n            ),\n          ),\n        ),\n      ),\n</code></pre>\n\n<p>Working demo</p>\n\n<p><a href=\"https://i.stack.imgur.com/7tcMK.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7tcMK.gif\" alt=\"enter image description here\"></a></p>\n\n<p>full code</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    final appTitle = 'Tabs Demo';\n    return MaterialApp(\n      title: appTitle,\n      home: MyHomePage(title: appTitle),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  final String title;\n\n  const MyHomePage({Key key, this.title}) : super(key: key);\n\n  @override\n  State&lt;StatefulWidget&gt; createState() {\n    return _MyHomePageState();\n  }\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt;\n    with SingleTickerProviderStateMixin {\n  int _tabIndex = 0;\n\n  TabController _tabController;\n\n  @override\n  void initState() {\n    super.initState();\n    _tabController = TabController(vsync: this, length: 5);\n  }\n\n  void _toggleTab() {\n    _tabIndex = _tabController.index + 1;\n    _tabController.animateTo(_tabIndex);\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n        home: Scaffold(\n      floatingActionButtonLocation: FloatingActionButtonLocation.centerDocked,\n      bottomNavigationBar: BottomAppBar(\n        notchMargin: 20,\n        child: new Row(\n          // mainAxisSize: MainAxisSize.max,\n          mainAxisAlignment: MainAxisAlignment.end,\n          children: &lt;Widget&gt;[\n            InkWell(\n              onTap: () {\n                _toggleTab();\n              },\n              child: Text(\n                'Next &gt;',\n                style: TextStyle(fontSize: 20, color: Colors.red),\n              ),\n            )\n          ],\n        ),\n      ),\n      appBar: AppBar(\n        title: Text(widget.title),\n        bottom: PreferredSize(\n          preferredSize: const Size.fromHeight(20.0),\n          child: Align(\n            alignment: Alignment.centerLeft,\n            child: Container(\n              width: MediaQuery.of(context).size.width / 2,\n              child: TabBar(\n                isScrollable: true,\n                controller: _tabController,\n                tabs: [\n                  Tab(text: 'Tab 1'),\n                  Tab(text: 'Tab 2'),\n                  Tab(text: 'Tab 3'),\n                  Tab(text: 'Tab 4'),\n                  Tab(text: 'Tab 5'),\n                ],\n              ),\n            ),\n          ),\n        ),\n      ),\n      body: TabBarView(\n        controller: _tabController,\n        children: [\n          Card(\n            child: Column(\n              mainAxisSize: MainAxisSize.min,\n              children: &lt;Widget&gt;[\n                ListTile(\n                  leading: Icon(Icons.album),\n                  title: Text('Hello 1'),\n                  subtitle: Text('Click on Next Button to go to Tab 2.'),\n                ),\n              ],\n            ),\n          ),\n          Card(\n            child: Column(\n              mainAxisSize: MainAxisSize.min,\n              children: &lt;Widget&gt;[\n                ListTile(\n                  leading: Icon(Icons.album),\n                  title: Text('Hello 2'),\n                  subtitle: Text('Click on Next Button to go to Tab 3'),\n                ),\n              ],\n            ),\n          ),\n          Card(\n            child: Column(\n              mainAxisSize: MainAxisSize.min,\n              children: &lt;Widget&gt;[\n                ListTile(\n                  leading: Icon(Icons.album),\n                  title: Text('Hello 3'),\n                  subtitle: Text('The End'),\n                ),\n              ],\n            ),\n          ),\n          Card(\n            child: Column(\n              mainAxisSize: MainAxisSize.min,\n              children: &lt;Widget&gt;[\n                ListTile(\n                  leading: Icon(Icons.album),\n                  title: Text('Hello 4'),\n                  subtitle: Text('The End'),\n                ),\n              ],\n            ),\n          ),\n          Card(\n            child: Column(\n              mainAxisSize: MainAxisSize.min,\n              children: &lt;Widget&gt;[\n                ListTile(\n                  leading: Icon(Icons.album),\n                  title: Text('Hello 5'),\n                  subtitle: Text('The End'),\n                ),\n              ],\n            ),\n          ),\n        ],\n      ),\n    ));\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 433, "user_id": 1889231, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/50a2e63f6bfbc3050f8aa4f6bb5739ae?s=128&d=identicon&r=PG", "display_name": "morgred", "link": "https://stackoverflow.com/users/1889231/morgred"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1573, "favorite_count": 0, "accepted_answer_id": 58966347, "answer_count": 1, "score": 1, "last_activity_date": 1574649753, "creation_date": 1574276653, "question_id": 58961617, "link": "https://stackoverflow.com/questions/58961617/can-i-align-tabs-in-tabbar-to-the-left-instead-of-center", "title": "Can i align tabs in TabBar to the left instead of center?", "body": "<p>What i'd like to do is align the tabs to the left. I've looked at <a href=\"https://stackoverflow.com/questions/55774056/align-scrollable-tabs-on-left\">this</a> and <a href=\"https://stackoverflow.com/questions/55549762/how-to-align-tabbar-to-the-left-with-a-custom-starting-position\">this</a> but they don't help me. I've also tried including a column so i can use cross axis aligment but that gives me this type mismatch \"The argument type 'Column' can't be assigned to the parameter type 'PreferredSizeWidget'.\" I'm thinking there has to be a simple way, but i'm out of ideas</p>\n\n<pre><code>child: Scaffold(\n  appBar: AppBar(\n    title: Text(advisoryService.number),\n    flexibleSpace: Column(\n      crossAxisAlignment: CrossAxisAlignment.start,\n      children: &lt;Widget&gt;[],\n    ),\n    bottom: TabBar(\n      labelPadding: EdgeInsets.only(left: 8, right: 8),\n      isScrollable: true,\n      tabs: &lt;Widget&gt;[\n        Tab(\n          text: 'General',\n        ),\n        Tab(\n          text: 'Financial',\n        ),\n        Tab(\n          text: 'Experts &amp; Participants',\n        ),\n      ],\n    ),\n  ),\n  body: TabBarView(\n</code></pre>\n"}, {"tags": ["flutter", "dart", "flutter-layout"], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 4757812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4dc82711aae6504ab7c412eafdb1185?s=128&d=identicon&r=PG&f=1", "display_name": "nevertoolateyet", "link": "https://stackoverflow.com/users/4757812/nevertoolateyet"}, "edited": false, "score": 0, "creation_date": 1574276087, "post_id": 58961171, "comment_id": 104178110, "body": "Hi thanks for the prompt reply! Now that it is aligned how do i push my buttons to the left side in? This is current how mine looks like and i would like to align it in line with the first statement. <a href=\"https://imgur.com/a/AONgmmM\" rel=\"nofollow noreferrer\">imgur.com/a/AONgmmM</a>"}, {"owner": {"reputation": 336, "user_id": 8255529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v2qe9.jpg?s=128&g=1", "display_name": "Alex Lysun", "link": "https://stackoverflow.com/users/8255529/alex-lysun"}, "reply_to_user": {"reputation": 89, "user_id": 4757812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4dc82711aae6504ab7c412eafdb1185?s=128&d=identicon&r=PG&f=1", "display_name": "nevertoolateyet", "link": "https://stackoverflow.com/users/4757812/nevertoolateyet"}, "edited": false, "score": 0, "creation_date": 1574279245, "post_id": 58961171, "comment_id": 104179646, "body": "@nevertoolateyet try change <code>crossAxisAlignment: CrossAxisAlignment.start</code>"}, {"owner": {"reputation": 336, "user_id": 8255529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v2qe9.jpg?s=128&g=1", "display_name": "Alex Lysun", "link": "https://stackoverflow.com/users/8255529/alex-lysun"}, "reply_to_user": {"reputation": 89, "user_id": 4757812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4dc82711aae6504ab7c412eafdb1185?s=128&d=identicon&r=PG&f=1", "display_name": "nevertoolateyet", "link": "https://stackoverflow.com/users/4757812/nevertoolateyet"}, "edited": false, "score": 0, "creation_date": 1574327352, "post_id": 58961171, "comment_id": 104195906, "body": "@nevertoolateyet try to move your buttons to <code>content</code>. Please see my example <a href=\"https://gist.github.com/Oleksandr32/3b385e2135e5b7b5f3c23e6e6cc8c8c2\" rel=\"nofollow noreferrer\">gist.github.com/Oleksandr32/3b385e2135e5b7b5f3c23e6e6cc8c8c2</a>"}], "tags": [], "owner": {"reputation": 336, "user_id": 8255529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v2qe9.jpg?s=128&g=1", "display_name": "Alex Lysun", "link": "https://stackoverflow.com/users/8255529/alex-lysun"}, "is_accepted": true, "score": 5, "last_activity_date": 1574327621, "last_edit_date": 1574327621, "creation_date": 1574274841, "answer_id": 58961171, "question_id": 58961000, "link": "https://stackoverflow.com/questions/58961000/how-to-align-flat-buttons-in-flutter/58961171#58961171", "title": "How to align flat buttons in flutter?", "body": "<p>just add your buttons to <code>Column</code></p>\n\n<pre><code>actions: &lt;Widget&gt;[\n    Column(\n        crossAxisAlignment: CrossAxisAlignment.end,\n        children: &lt;Widget&gt;[\n            button,\n            button\n        ]\n    )\n],\n</code></pre>\n\n<p>or if you want that buttons was aligned to left side, move these buttons to <code>content</code>:</p>\n\n<pre><code>builder: (BuildContext context) {\n      return AlertDialog(\n        content: Column(\n          mainAxisSize: MainAxisSize.min,\n          crossAxisAlignment: CrossAxisAlignment.start,\n          children: &lt;Widget&gt;[\n            Text(\"You have routes!\"),\n            new FlatButton(\n              textColor: Colors.black,\n              child: Text(\n                  \"This is route 1! \\n\" +\n                      \"\\n\"),\n              onPressed: () {},\n            ),\n            new FlatButton(\n              textColor: Colors.black,\n              child: Text(\n                  \"This is your second route! \\n\" +\n                      \"\\n\"),\n              onPressed: () {},\n            )\n          ],\n        ),\n      );\n    });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 212, "user_id": 11040700, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iq3lK3hkVpQ/AAAAAAAAAAI/AAAAAAAAAAc/FzVXfdc76CQ/photo.jpg?sz=128", "display_name": "&#214;m&#252;r Al&#231;in", "link": "https://stackoverflow.com/users/11040700/%c3%96m%c3%bcr-al%c3%a7in"}, "is_accepted": false, "score": 0, "last_activity_date": 1574277481, "creation_date": 1574277481, "answer_id": 58961823, "question_id": 58961000, "link": "https://stackoverflow.com/questions/58961000/how-to-align-flat-buttons-in-flutter/58961823#58961823", "title": "How to align flat buttons in flutter?", "body": "<p>You can use <a href=\"https://api.flutter.dev/flutter/widgets/ListView-class.html\" rel=\"nofollow noreferrer\">ListView</a> for synchronizing row by row automatically.</p>\n\n<p>Check below sample for ListView.You should paste it on <strong>body segment</strong> of your code.</p>\n\n<pre><code>//some of codes..\n\n    body: Padding(\n      padding: EdgeInsets.only(top: 15, left: 15, right: 15),\n      child: ListView(\n        children: &lt;Widget&gt;[ \n          RaisedButton(\n            child: Text(\"Confirm\"),\n            color: Colors.lightGreen,\n            elevation: 5.0,\n            onPressed: () {\n              save(1,context);\n              /*  some of codes */\n            },\n          ),\n          RaisedButton(\n            child: Text(\"Cancel\"),\n            color: Colors.redAccent,\n            elevation: 5.0,\n            onPressed: () {\n              save(0,context);\n              /*  some of codes */\n            },\n          ),\n          RaisedButton(\n            child: Text(\"Pass\"),\n            color: Colors.yellowAccent,\n            elevation: 5.0,\n            onPressed: () {\n              save(2,context);\n              /*  some of codes */\n            },\n          ),\n        ],\n      ),\n    ));\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 4757812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4dc82711aae6504ab7c412eafdb1185?s=128&d=identicon&r=PG&f=1", "display_name": "nevertoolateyet", "link": "https://stackoverflow.com/users/4757812/nevertoolateyet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3542, "favorite_count": 0, "accepted_answer_id": 58961171, "answer_count": 2, "score": 1, "last_activity_date": 1574327621, "creation_date": 1574274097, "question_id": 58961000, "link": "https://stackoverflow.com/questions/58961000/how-to-align-flat-buttons-in-flutter", "title": "How to align flat buttons in flutter?", "body": "<p>I'm wondering how do I align buttons in flutter. I'm new to flutter and for my current code I'm not able to throw in any rows, column or wrap. I would like to align my buttons in a vertical manner but current its aligned horizontally and giving me a \"RIGHT OVERFLOW BY 256 PIXELS\" display error</p>\n\n<pre><code>                  return showDialog&lt;void&gt;(\n                      context: context,\n                      builder: (BuildContext context) {\n                        return AlertDialog(\n                          content: Text(\"You have $counts routes!\"),\n                          actions: &lt;Widget&gt;[\n                            new FlatButton(\n                              textColor: Colors.black,\n                              padding:\n                                  EdgeInsets.fromLTRB(20, 0, 0, 10),\n                              child: Text(\n                                  \"This is route 1! \\n\" +\n                                      rList[0] + \"\\n\"),\n                              onPressed: () {},\n                            ),\n                            new FlatButton(\n                              textColor: Colors.black,\n                              padding:\n                                  EdgeInsets.fromLTRB(20, 0, 0, 10),\n                              child: Text(\n                                  \"This is your second route! \\n\" +\n                                      rList[1] + \"\\n\"),\n                              onPressed: () {},\n                            ),\n                          ],\n                        );\n                      });\n</code></pre>\n"}, {"tags": ["node.js", "flutter", "dart", "rsa", "public-key-encryption"], "comments": [{"owner": {"reputation": 107, "user_id": 9607012, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gSjvL.jpg?s=128&g=1", "display_name": "Caroline", "link": "https://stackoverflow.com/users/9607012/caroline"}, "edited": false, "score": 0, "creation_date": 1599067449, "post_id": 58960959, "comment_id": 112661500, "body": "It would be great if you could share your solution or some useful links"}], "answers": [{"tags": [], "owner": {"reputation": 107, "user_id": 9607012, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gSjvL.jpg?s=128&g=1", "display_name": "Caroline", "link": "https://stackoverflow.com/users/9607012/caroline"}, "is_accepted": false, "score": 0, "last_activity_date": 1599471969, "creation_date": 1599471969, "answer_id": 63775113, "question_id": 58960959, "link": "https://stackoverflow.com/questions/58960959/how-to-implement-rsa-in-flutterdecryption-and-nodeencryption/63775113#63775113", "title": "How to implement RSA in flutter(decryption) and Node(encryption)?", "body": "<p><strong>Keygen (NodeJS)</strong></p>\n<p>Docs: <a href=\"https://nodejs.org/api/crypto.html#crypto_crypto_generatekeypair_type_options_callback\" rel=\"nofollow noreferrer\">https://nodejs.org/api/crypto.html#crypto_crypto_generatekeypair_type_options_callback</a></p>\n<pre><code>const { generateKeyPair } = require('crypto');\n\ngenerateKeyPair('rsa', {\n    modulusLength: 4096,    // key size in bits\n    publicKeyEncoding: {\n        type: 'spki',\n        format: 'pem',\n    },\n    privateKeyEncoding: {   \n        type: 'pkcs8',      // !!! pkcs1 doesn't work for me\n        format: 'pem',\n    },\n}, (err, publicKey, privateKey) =&gt; {\n    // Handle errors and use the generated key pair.\n});\n</code></pre>\n<p><strong>NodeJS</strong> encryption via <strong>JSEncrypt</strong> library</p>\n<p>node-jsencrypt: <a href=\"https://www.npmjs.com/package/node-jsencrypt\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/node-jsencrypt</a><br />\nJSEncrypt: <a href=\"https://travistidwell.com/jsencrypt/#\" rel=\"nofollow noreferrer\">https://travistidwell.com/jsencrypt/#</a></p>\n<pre><code>const JSEncrypt = require('node-jsencrypt');  \n\nfunction encrypt(text, key) {\n    const crypt = new JSEncrypt();\n    crypt.setKey(key);\n    return crypt.encrypt(text);\n}\n\nfunction decrypt(encrypted, privateKey) {\n    const crypt = new JSEncrypt();\n    crypt.setPrivateKey(privateKey);\n    return crypt.decrypt(encrypted);\n}\n</code></pre>\n<p><strong>Dart</strong> encryption via <strong>crypton</strong></p>\n<p>GitHub: <a href=\"https://github.com/konstantinullrich/crypton\" rel=\"nofollow noreferrer\">https://github.com/konstantinullrich/crypton</a></p>\n<pre><code>import 'package:crypton/crypton.dart';\n\nimport 'encryption.dart';\n\nclass AsymmetricCrypt implements Encryption {\n  final String _key;\n  RSAPublicKey _publicKey;\n  RSAPrivateKey _privateKey;\n\n  AsymmetricCrypt._(this._key);\n\n  @override\n  String encrypt(String plain) {\n    _publicKey ??= RSAPublicKey.fromPEM(_key);\n    return _publicKey.encrypt(plain);\n  }\n\n  @override\n  String decrypt(String data) {\n    _privateKey ??= RSAPrivateKey.fromPEM(_key);\n    return _privateKey.decrypt(data);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12405791, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aKCZOVXvAL0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcgeVVENhMZS5oSBxq83BL8bGlVuw/photo.jpg?sz=128", "display_name": "kowtha saketh", "link": "https://stackoverflow.com/users/12405791/kowtha-saketh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 599, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1599471969, "creation_date": 1574273948, "last_edit_date": 1574274610, "question_id": 58960959, "link": "https://stackoverflow.com/questions/58960959/how-to-implement-rsa-in-flutterdecryption-and-nodeencryption", "title": "How to implement RSA in flutter(decryption) and Node(encryption)?", "body": "<p>I need to implement RSA. I am generating public and private keys from nodejs i am sending private key to client. I am able to encrypt data using public key from nodejs but i am unable to decrypt from flutter i had tried various libraries in flutter(simple_rsa, encrypt etc\u2026) but those are not working i am getting padding errors, invalid private key errors. Can any one suggest me how to implement this ?</p>\n\n<p>Here is my code<br></p>\n\n<p><strong>Nodejs</strong></p>\n\n<pre><code>    crypto.generateKeyPair('rsa', {\n      modulusLength: 4096,\n      publicKeyEncoding: {\n        type: 'pkcs1',\n        format: 'pem'\n      },\n      privateKeyEncoding: {\n        type: 'pkcs1',\n        format: 'pem',\n        cipher: 'aes-256-cbc',\n        passphrase: '',\n      }\n    }, (err, publicKey, privateKey) =&gt; {\n      // Handle errors and use the generated key pair.\n      if(err)\n        throw err\n        //Publickey, PrivateKey\n    });\n</code></pre>\n\n<pre><code>encrypt = function(data, publicKey) {\n    var buffer = Buffer.from(data);\n    var encrypted = crypto.publicEncrypt(publicKey, buffer);\n    return encrypted.toString(\"base64\");\n};\n</code></pre>\n\n<p>i am sending encrypt function return value to client which is msg in flutter<br>\n<strong>Flutter Code</strong>\n(Tried with many libraries this is one among them using simple_rsa)</p>\n\n<pre><code>    final decpKey = \"-----BEGIN RSA PRIVATE KEY-----\\nProc-Type:.........\";\n    final msg = \"fH2EBmBS4fRHG1.............\"; \n\n    final decryptedText = await decryptString(msg, decpKey); //Error: Invalid private key\n    print(decryptedText);\n\n</code></pre>\n"}, {"tags": ["listview", "flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 459, "user_id": 10616684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dNA8N.jpg?s=128&g=1", "display_name": "attila", "link": "https://stackoverflow.com/users/10616684/attila"}, "edited": false, "score": 0, "creation_date": 1574285019, "post_id": 58960571, "comment_id": 104182256, "body": "great! it seems working for me but I&#39;m still working to reformat list into sliver list many thanks user76706055"}, {"owner": {"reputation": 358, "user_id": 8881535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56a16720d23cf1dc14ec17d8f2b87711?s=128&d=identicon&r=PG&f=1", "display_name": "user76706055", "link": "https://stackoverflow.com/users/8881535/user76706055"}, "reply_to_user": {"reputation": 459, "user_id": 10616684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dNA8N.jpg?s=128&g=1", "display_name": "attila", "link": "https://stackoverflow.com/users/10616684/attila"}, "edited": false, "score": 0, "creation_date": 1574285995, "post_id": 58960571, "comment_id": 104182642, "body": "Great! I believe this is what it should look like (I&#39;m on my phone so there might be some syntax errors)  SliverList( delegate: SliverChildBuilderDelegate((BuildContext context, int index) {  _buildLogStat(pagesList[i], titolo); } childCount: pagesList.length ))"}, {"owner": {"reputation": 459, "user_id": 10616684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dNA8N.jpg?s=128&g=1", "display_name": "attila", "link": "https://stackoverflow.com/users/10616684/attila"}, "edited": false, "score": 0, "creation_date": 1574288908, "post_id": 58960571, "comment_id": 104183772, "body": "your suggestion run perfectly! many thanks for all have a nice day!"}], "tags": [], "owner": {"reputation": 358, "user_id": 8881535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56a16720d23cf1dc14ec17d8f2b87711?s=128&d=identicon&r=PG&f=1", "display_name": "user76706055", "link": "https://stackoverflow.com/users/8881535/user76706055"}, "is_accepted": true, "score": 1, "last_activity_date": 1574272450, "creation_date": 1574272450, "answer_id": 58960571, "question_id": 58959955, "link": "https://stackoverflow.com/questions/58959955/scroll-a-chart-and-a-listview-together/58960571#58960571", "title": "scroll a chart and a ListView together", "body": "<p>I think what you're looking for is a <code>CustomScrollView</code></p>\n\n<p>try this out:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>  return CustomScrollView(\n          slivers: &lt;Widget&gt;[\n          SliverToBoxAdapter(child: your_graph_widget), //Your graph widget\n          SliverList(), //Reformat your list into a sliver list.\n]\n)\n</code></pre>\n"}], "owner": {"reputation": 459, "user_id": 10616684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dNA8N.jpg?s=128&g=1", "display_name": "attila", "link": "https://stackoverflow.com/users/10616684/attila"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 58960571, "answer_count": 1, "score": 0, "last_activity_date": 1574272450, "creation_date": 1574270150, "question_id": 58959955, "link": "https://stackoverflow.com/questions/58959955/scroll-a-chart-and-a-listview-together", "title": "scroll a chart and a ListView together", "body": "<p>I would like to build a screen with a single scroll of a graph and a ListView together</p>\n\n<p>Currently with this code I rightly only get the ListView scroll (see fig)</p>\n\n<pre><code>  Widget loadStat() {\n    pagesStatPageWidget = _buildPagesStat();\n    pagesStatGraphWidget = _graphWidget();\n    return new Column(\n      children: &lt;Widget&gt;[\n        pagesStatGraphWidget,\n        pagesStatPageWidget,\n      ],\n    );\n  }\n\nWidget _graphWidget() {\n    return Container(\n      width: 200.0,\n      height: 200.0,\n      child: new GaugeChart(\n        _createSampleData(),\n        animate: true,\n      ),\n    );\n}\n\nWidget _buildPagesStat() {\n    return Expanded(\n      child: ListView.builder(\n        padding: const EdgeInsets.all(0.0), \n        itemBuilder: (context, i) {\n          return _buildLogStat(pagesList[i], titolo);\n        },\n        itemCount: pagesList.length,\n      ),\n    );\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/EY4Q2.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EY4Q2.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I read that the solution should be inserting chart and ListView under a column\nbut I made several attempts with Column, Flexible, List without any success.</p>\n\n<p>Can someone help me?</p>\n\n<p>Special thanks</p>\n"}, {"tags": ["flutter", "dart", "timer"], "answers": [{"tags": [], "owner": {"reputation": 1233, "user_id": 1387060, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/15a82a765943b530585414649b723b52?s=128&d=identicon&r=PG", "display_name": "Osama FelFel", "link": "https://stackoverflow.com/users/1387060/osama-felfel"}, "is_accepted": false, "score": 0, "last_activity_date": 1574268909, "last_edit_date": 1574268909, "creation_date": 1574263700, "answer_id": 58957939, "question_id": 58956814, "link": "https://stackoverflow.com/questions/58956814/how-to-execute-a-function-after-a-period-of-inactivity-in-flutter/58957939#58957939", "title": "How to execute a function after a period of inactivity in Flutter", "body": "<p>You are on the right track. You need to wrap the whole app in a <code>GestureDetector</code>.</p>\n\n<p>You can add a <code>behavior</code> to the <code>GestureDetector</code>. The desired behaviour should be <a href=\"https://api.flutter.dev/flutter/rendering/HitTestBehavior-class.html\" rel=\"nofollow noreferrer\">HitTestBehavior.translucent</a>. This will allow you to receive touch events while allowing widgets in your app to receive the events also.</p>\n\n<p>Then you will need a timer that will be reset with each tap. Once a it times out, navigate the user to the desired screen.</p>\n\n<p>Here is a high level example</p>\n\n<pre><code>Timer timer;\n\n@override\n  Widget build(BuildContext context)\n  {\n    return GestureDetector(\n      child: Scaffold(\n        appBar: AppBar(\n          title: Text(\"title\"),\n        ),\n        body: Container(),\n      ),\n      behavior: HitTestBehavior.translucent,\n      onTapDown: (tapDown)\n      {\n        if (timer != null)\n        {\n          timer.cancel();\n        }\n        timer = Timer(Duration(minutes: 5), timeOutCallBack);\n      },\n    );\n}\n\n  void timeOutCallBack() {\n    Navigator.push(context, MaterialPageRoute(builder: (context) =&gt; DesiredScreen),);\n  }\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "is_accepted": false, "score": 7, "last_activity_date": 1574265135, "creation_date": 1574265135, "answer_id": 58958425, "question_id": 58956814, "link": "https://stackoverflow.com/questions/58956814/how-to-execute-a-function-after-a-period-of-inactivity-in-flutter/58958425#58958425", "title": "How to execute a function after a period of inactivity in Flutter", "body": "<p>Here's my solution. Some details:</p>\n\n<ul>\n<li>I added <code>Navigator</code> in <em>home</em> widget of the app, so it's possible to access navigator outside of <em>MaterialApp</em> via <code>GlobalKey</code>;</li>\n<li><code>GestureDetector</code> behavior is set to <code>HitTestBehavior.translucent</code> to propagate taps to other widgets;</li>\n<li>You don't need <code>Timer.periodic</code> for this purpose. Periodic timer is used to execute callback repeatedly (e.g., every 10 seconds);</li>\n<li>Timer sets when the widget initializes and when any tap happens. Any following tap will cancel the old timer and create a new one. After <code>_logOutUser</code> callback is called, timer gets cancelled (if there was any), every route is getting popped and new route is pushed.</li>\n</ul>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class MyApp extends StatefulWidget {\n  @override\n  _MyAppState createState() =&gt; _MyAppState();\n}\n\nclass _MyAppState extends State&lt;MyApp&gt; {\n  final _navigatorKey = GlobalKey&lt;NavigatorState&gt;();\n  Timer _timer;\n\n  @override\n  void initState() {\n    super.initState();\n    _initializeTimer();\n  }\n\n  void _initializeTimer() {\n    if (_timer != null) {\n      _timer.cancel();\n    }\n\n    _timer = Timer(const Duration(seconds: 3), _logOutUser);\n  }\n\n  void _logOutUser() {\n    _timer?.cancel();\n    _timer = null;\n\n    // Popping all routes and pushing welcome screen\n    _navigatorKey.currentState.pushNamedAndRemoveUntil('welcome', (_) =&gt; false);\n  }\n\n  void _handleUserInteraction([_]) {\n    _initializeTimer();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return GestureDetector(\n      behavior: HitTestBehavior.translucent,\n      onTap: _handleUserInteraction,\n      onPanDown: _handleUserInteraction,\n      child: MaterialApp(\n        title: 'Flutter Demo',\n        theme: ThemeData(\n          primarySwatch: Colors.blue,\n        ),\n        home: Navigator(\n          initialRoute: 'welcome',\n          key: _navigatorKey,\n          onGenerateRoute: (settings) {\n            return MaterialPageRoute(\n              builder: (context) {\n                return Scaffold(\n                  appBar: AppBar(),\n                  body: SafeArea(\n                    child: Text(settings.name)\n                  ),\n                  floatingActionButton: FloatingActionButton(\n                    onPressed: () =&gt; Navigator.of(context).pushNamed('test'),\n                  ),\n                );\n              }\n            );\n          },\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 106, "user_id": 12650130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/259b65009cc1eaa75b793756ebac8e7c?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Foote", "link": "https://stackoverflow.com/users/12650130/bill-foote"}, "reply_to_user": {"reputation": 427, "user_id": 6786745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hiTMo.png?s=128&g=1", "display_name": "deantawonezvi", "link": "https://stackoverflow.com/users/6786745/deantawonezvi"}, "edited": false, "score": 1, "creation_date": 1580228194, "post_id": 59904022, "comment_id": 106025104, "body": "BTW, I ended up also detecting when the screen turns off due to inactivity, for a little mroe security.  <a href=\"https://pub.dev/packages/screen_state\" rel=\"nofollow noreferrer\">pub.dev/packages/screen_state</a> has a plugin for that, but it&#39;s only implemented for Android at present."}], "tags": [], "owner": {"reputation": 106, "user_id": 12650130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/259b65009cc1eaa75b793756ebac8e7c?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Foote", "link": "https://stackoverflow.com/users/12650130/bill-foote"}, "is_accepted": true, "score": 8, "last_activity_date": 1579901868, "creation_date": 1579901868, "answer_id": 59904022, "question_id": 58956814, "link": "https://stackoverflow.com/questions/58956814/how-to-execute-a-function-after-a-period-of-inactivity-in-flutter/59904022#59904022", "title": "How to execute a function after a period of inactivity in Flutter", "body": "<p>FWIW, I experimented with using a <code>GestureDetector</code> as suggested, but it didn't work as expected.  The problem was that I received a continuous stream of gestures when there was no activity.  This includes when I tried the more restrictive onTap: callback.</p>\n\n<p>I saw this in debug mode on an emulator.  I didn't experiment further to see if real phones manifest the same behavior, because even if they don't now, they might in the future:  There's clearly no spec guarantee that a GestureDetector <em>won't</em> receive spurious events.  For something security-related like an inactivity timeout, that's not acceptable.</p>\n\n<p>For my use case, I decided that it was OK to instead detect when the application is invisible for more than a set amount of time.  My reasoning for my expected usage is that the real danger is when the app is invisible, and they forget it's there.</p>\n\n<p>Setting this kind of inactivity timeout is pretty easy.  I arrange to call <code>startKeepAlive()</code> at the moment the app gains access to sensitive information (e.g. after a password is entered).  For my usage, just crashing out of the app after the timeout is fine; obviously one could get more sophisticated, if needed.  Anyhoo, here's the relevant code:</p>\n\n<pre><code>const _inactivityTimeout = Duration(seconds: 10);\nTimer _keepAliveTimer;\n\nvoid _keepAlive(bool visible) {\n  _keepAliveTimer?.cancel();\n  if (visible) {\n    _keepAliveTimer = null;\n  } else {\n    _keepAliveTimer = Timer(_inactivityTimeout, () =&gt; exit(0));\n  }\n}\n\nclass _KeepAliveObserver extends WidgetsBindingObserver {\n  @override didChangeAppLifecycleState(AppLifecycleState state) {\n    switch(state) {\n      case AppLifecycleState.resumed:\n        _keepAlive(true);\n        break;\n      case AppLifecycleState.inactive:\n      case AppLifecycleState.paused:\n      case AppLifecycleState.detached:\n        _keepAlive(false);  // Conservatively set a timer on all three\n        break;\n    }\n  }\n}\n\n/// Must be called only when app is visible, and exactly once\nvoid startKeepAlive() {\n  assert(_keepAliveTimer == null);\n  _keepAlive(true);\n  WidgetsBinding.instance.addObserver(_KeepAliveObserver());\n}\n\n</code></pre>\n\n<p>In production, I'll probably extend the timeout :-)</p>\n"}, {"tags": [], "owner": {"reputation": 594, "user_id": 10784903, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--6Y2n1HB2Jo/AAAAAAAAAAI/AAAAAAAAAB0/jJKKIk_Pm6g/photo.jpg?sz=128", "display_name": "Blackd", "link": "https://stackoverflow.com/users/10784903/blackd"}, "is_accepted": false, "score": 3, "last_activity_date": 1580813937, "last_edit_date": 1580813937, "creation_date": 1580812310, "answer_id": 60055435, "question_id": 58956814, "link": "https://stackoverflow.com/questions/58956814/how-to-execute-a-function-after-a-period-of-inactivity-in-flutter/60055435#60055435", "title": "How to execute a function after a period of inactivity in Flutter", "body": "<p>For people who want the strict answer to the question of the title (\"How to execute a function after a period of inactivity in Flutter\"), this is the complete solution:</p>\n\n<ul>\n<li>Wrap your MaterialApp inside a <b>GestureDetector</b> so you can detect taps and pans.</li>\n<li>In GestureDetector set following property to avoid messing with the standard gesture system:\n\n<ul>\n<li><b>behavior: HitTestBehavior.translucent</b></li>\n</ul></li>\n<li>In GestureDetector set callbacks to restart timer when tap/pan activity happens:\n\n<ul>\n<li><b>onTap: (_) => _initializeTimer()</b></li>\n<li><b>onPanDown: (_) => _initializeTimer()</b></li>\n<li><b>onPanUpdate: (_) => _initializeTimer()</b></li>\n</ul></li>\n<li>We should not forget that a typing user is also an active user, so we also need to setup callbacks in every TextField of the widget:\n\n<ul>\n<li><b> onChanged: (_) => _initializeTimer()</b></li>\n</ul></li>\n<li>Add <b>Timer _timer;</b> to your class_SomethingState.</li>\n<li>Finally, init _timer at initState(), write _initializeTimer() and write _handleInactivity() including your desired actions when enough inactivity happens:</li>\n</ul>\n\n<pre>\n\n    @override\n    void initState() {\n      super.initState();\n      _initializeTimer();\n    }\n\n    // start/restart timer\n    void _initializeTimer() {\n      if (_timer != null) {\n        _timer.cancel();\n      }\n      // setup action after 5 minutes\n      _timer = Timer(const Duration(minutes: 5), () => _handleInactivity());\n    }\n\n    void _handleInactivity() {\n      _timer?.cancel();\n      _timer = null;\n\n      // TODO: type your desired code here\n    }\n</pre>\n"}], "owner": {"reputation": 427, "user_id": 6786745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hiTMo.png?s=128&g=1", "display_name": "deantawonezvi", "link": "https://stackoverflow.com/users/6786745/deantawonezvi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4715, "favorite_count": 0, "accepted_answer_id": 59904022, "answer_count": 4, "score": 9, "last_activity_date": 1586458307, "creation_date": 1574260497, "question_id": 58956814, "link": "https://stackoverflow.com/questions/58956814/how-to-execute-a-function-after-a-period-of-inactivity-in-flutter", "title": "How to execute a function after a period of inactivity in Flutter", "body": "<p>I need to create an app that navigates a user to after a period of inactivity.</p>\n\n<p>I tried wrapping my app in GestureDetector and run a timer after a specified period as shown below but it is not working:</p>\n\n<pre><code>class _MyAppState extends State&lt;MyApp&gt; {\n  Timer _timer;\n\n  @override\n  void initState() {\n    super.initState();\n\n    _initializeTimer();\n  }\n\n  void _initializeTimer() {\n    _timer = Timer.periodic(const Duration(seconds: 20), (_) =&gt; _logOutUser);\n  }\n\n  void _logOutUser() {\nNavigator.push(\n        context,\n        MaterialPageRoute(\n            builder: (context) =&gt; WelcomePage()));\n    _timer.cancel();\n  }\n\n  void _handleUserInteraction([_]) {\n    if (!_timer.isActive) {\n      return;\n    }\n\n    _timer.cancel();\n    _initializeTimer();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return GestureDetector(\n      onTap: _handleUserInteraction,\n      onPanDown: _handleUserInteraction,\n      child: MaterialApp(\n        title: 'Hello',\n        home: WelcomePage(),\n        routes: &lt;String, WidgetBuilder&gt;{\n          '/welcome': (BuildContext context) =&gt; new WelcomePage(),\n          '/login': (BuildContext context) =&gt; new LoginPage(),\n        },\n        debugShowCheckedModeBanner: false,\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>My question is how best should I implement running a function after a period of inactivity within my flutter app?</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 1252, "user_id": 8595331, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/cmELl.jpg?s=128&g=1", "display_name": "ChyperX", "link": "https://stackoverflow.com/users/8595331/chyperx"}, "is_accepted": true, "score": 0, "last_activity_date": 1574262877, "creation_date": 1574262877, "answer_id": 58957663, "question_id": 58956729, "link": "https://stackoverflow.com/questions/58956729/multiple-choice-qns-test-app-using-flutter-radiolisttile/58957663#58957663", "title": "Multiple Choice Qns Test App using Flutter RadioListTile", "body": "<p>Try like this, Hope this might help</p>\n\n<pre><code>String _selection = '';\n\n  List&lt;List&lt;String&gt;&gt; choices = [\n    [\"ABC\", \"AAB\", \"ACD\"], // 1st qns has 3 choices\n    [\"AND\", \"CQA\", \"QWE\", \"QAL\"], // 2nd qns has 4 choices\n    [\"ASD\", \"JUS\", \"JSB\"] // 3rd qns has 3 choices\n  ];\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(),\n      body: Column(\n        crossAxisAlignment: CrossAxisAlignment.start,\n        children: &lt;Widget&gt;[\n          Text('Question here?'),\n          Column(\n            children: choices[0].map((item) { //change index of choices array as you need\n              return RadioListTile(\n                groupValue: _selection,\n                title: Text(item),\n                value: item,\n                activeColor: Colors.blue,\n                onChanged: (val) {\n                  print(val);\n                  setState(() {\n                    _selection = val;\n                  });\n                },\n              );\n            }).toList(),\n          )\n        ],\n      ),\n    );\n  }\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 12404525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c55573cbb05e4ff1ad66d224cf94a1d0?s=128&d=identicon&r=PG&f=1", "display_name": "Jan", "link": "https://stackoverflow.com/users/12404525/jan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1180, "favorite_count": 0, "accepted_answer_id": 58957663, "answer_count": 1, "score": 1, "last_activity_date": 1574262877, "creation_date": 1574260278, "last_edit_date": 1574262449, "question_id": 58956729, "link": "https://stackoverflow.com/questions/58956729/multiple-choice-qns-test-app-using-flutter-radiolisttile", "title": "Multiple Choice Qns Test App using Flutter RadioListTile", "body": "<p>In my test app, I have questions that comes with 3 or 4 options to choose from. So I put the options into choices (in a class) as shown below, but how do I call for RadioListTile? since choices is in a 2d array.</p>\n\n<pre><code>class Test{\n var choices = [\n    [\"ABC\", \"AAB\", \"ACD\"],           // 1st qns has 3 choices\n    [\"AND\", \"CQA\", \"QWE\", \"QAL\"],    // 2nd qns has 4 choices\n    [\"ASD\", \"JUS\", \"JSB\"]            // 3rd qns has 3 choices\n  ];\n}\n</code></pre>\n"}, {"tags": ["dart"], "answers": [{"comments": [{"owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "edited": false, "score": 1, "creation_date": 1574266112, "post_id": 58956945, "comment_id": 104172776, "body": "Or use <code>MapEquality</code> from <code>package:collection</code>: <code>data.indexWhere((a) =&gt; const MapEquality().equals({&quot;id&quot;: 1, &quot;name&quot;:&quot;job&quot;}, a))</code>."}], "tags": [], "owner": {"reputation": 3671, "user_id": 8745788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTs7z.png?s=128&g=1", "display_name": "Mattia", "link": "https://stackoverflow.com/users/8745788/mattia"}, "is_accepted": true, "score": 1, "last_activity_date": 1574260823, "creation_date": 1574260823, "answer_id": 58956945, "question_id": 58956044, "link": "https://stackoverflow.com/questions/58956044/cant-use-indexof-in-list-of-map-in-dart/58956945#58956945", "title": "Can&#39;t use indexOf in List of Map in DART", "body": "<p>It doesn't work because the two maps aren't the same Object, to solve that, you can either use const objects or use <code>indexWhere</code></p>\n\n<p>With const:</p>\n\n<pre><code>// Create a const (immutable) list.\nList&lt;Map&lt;String, String&gt;&gt; data = const [\n  {\"id\":\"1\", \"name\":\"Job\"},\n  {\"id\":\"2\", \"name\":\"Teh\"},\n  {\"id\":\"3\", \"name\":\"Maru\"},\n  {\"id\":\"4\", \"name\":\"Pam\"},\n];\n\nvoid main() {\n  // Search for the map.\n  var index = data.indexOf(const {\"id\":\"1\", \"name\":\"Job\"});\n  print(\"Index: $index\");\n}\n</code></pre>\n\n<p>Using indexWhere:</p>\n\n<pre><code>List&lt;Map&lt;String, String&gt;&gt; data = const [\n  {\"id\":\"1\", \"name\":\"Job\"},\n  {\"id\":\"2\", \"name\":\"Teh\"},\n  {\"id\":\"3\", \"name\":\"Maru\"},\n  {\"id\":\"4\", \"name\":\"Pam\"},\n];\n\nvoid main() {\n  // Index where id is 1 and name is Job.\n  var index = data.indexWhere((e) =&gt; e[\"id\"] == \"1\" &amp;&amp; e[\"name\"] == \"Job\");\n  print(\"Index: $index\");\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4736587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbb85afd89b905d56e2e7643e0970592?s=128&d=identicon&r=PG&f=1", "display_name": "Philips Null", "link": "https://stackoverflow.com/users/4736587/philips-null"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 58956945, "answer_count": 1, "score": 1, "last_activity_date": 1574260823, "creation_date": 1574258168, "question_id": 58956044, "link": "https://stackoverflow.com/questions/58956044/cant-use-indexof-in-list-of-map-in-dart", "title": "Can&#39;t use indexOf in List of Map in DART", "body": "<p>I have a List of Map like this</p>\n\n<pre><code>List&lt;Map&lt;String, String&gt;&gt; data = [\n  {\"id\":\"1\", \"name\":\"Job\"},\n  {\"id\":\"2\", \"name\":\"Teh\"},\n  {\"id\":\"3\", \"name\":\"Maru\"},\n  {\"id\":\"4\", \"name\":\"Pam\"},\n];\n\nvoid main() {\n  var index = data.indexOf({\"id\":\"1\", \"name\":\"Job\"});\n  print(\"Index: $index\");\n}\n\n</code></pre>\n\n<p>Result run on DartPad was: Index: -1.\nHow can I using indexOf for Map object in List? Thanks</p>\n"}, {"tags": ["listview", "flutter", "dart", "flutter-layout"], "answers": [{"tags": [], "owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "is_accepted": true, "score": 0, "last_activity_date": 1574309809, "creation_date": 1574309809, "answer_id": 58967237, "question_id": 58955893, "link": "https://stackoverflow.com/questions/58955893/how-to-add-items-in-historylisttile-by-a-button-in-this-code-flutter/58967237#58967237", "title": "How to add items in HistoryListTile by a button in this code? Flutter", "body": "<p>You can copy paste run full code below <br>\nUse <code>class History</code> and <code>List&lt;History&gt;</code> to control <br>\nWhen add data to <code>List&lt;History&gt;</code>, with setState , It will show in ListView <br></p>\n\n<p>code snippet</p>\n\n<pre><code>List&lt;History&gt; historyList = [];\n...\nsetState(() {\n  historyList.add(History(iconColor: Colors.blue, transactionAmount: \"100\", transactionIcon: \"abc\", transactionName: \"Hi\",transactionType: \"def\"));\n\n...\nclass History {\n  Color iconColor;\n  String transactionName;\n  String transactionType;\n  String transactionAmount;\n  String transactionIcon;\n\n  History({\n    this.iconColor,\n    this.transactionName,\n    this.transactionType,\n    this.transactionAmount,\n    this.transactionIcon,\n  });\n</code></pre>\n\n<p>working demo</p>\n\n<p><a href=\"https://i.stack.imgur.com/C0Ls7.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C0Ls7.gif\" alt=\"enter image description here\"></a></p>\n\n<p>full code</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Flutter Demo',\n      theme: ThemeData(\n        // This is the theme of your application.\n        //\n        // Try running your application with \"flutter run\". You'll see the\n        // application has a blue toolbar. Then, without quitting the app, try\n        // changing the primarySwatch below to Colors.green and then invoke\n        // \"hot reload\" (press \"r\" in the console where you ran \"flutter run\",\n        // or simply save your changes to \"hot reload\" in a Flutter IDE).\n        // Notice that the counter didn't reset back to zero; the application\n        // is not restarted.\n        primarySwatch: Colors.blue,\n      ),\n      home: MyHomePage(title: 'Flutter Demo Home Page'),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  MyHomePage({Key key, this.title}) : super(key: key);\n\n  // This widget is the home page of your application. It is stateful, meaning\n  // that it has a State object (defined below) that contains fields that affect\n  // how it looks.\n\n  // This class is the configuration for the state. It holds the values (in this\n  // case the title) provided by the parent (in this case the App widget) and\n  // used by the build method of the State. Fields in a Widget subclass are\n  // always marked \"final\".\n\n  final String title;\n\n  @override\n  _MyHomePageState createState() =&gt; _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  int _counter = 0;\n  final List&lt;String&gt; entries = &lt;String&gt;['A', 'B', 'C'];\n  final List&lt;int&gt; colorCodes = &lt;int&gt;[600, 500, 100];\n  List&lt;History&gt; historyList = [];\n\n  void _incrementCounter() {\n    setState(() {\n      historyList.add(History(iconColor: Colors.blue, transactionAmount: \"100\", transactionIcon: \"abc\", transactionName: \"Hi\",transactionType: \"def\"));\n      // This call to setState tells the Flutter framework that something has\n      // changed in this State, which causes it to rerun the build method below\n      // so that the display can reflect the updated values. If we changed\n      // _counter without calling setState(), then the build method would not be\n      // called again, and so nothing would appear to happen.\n      _counter++;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    // This method is rerun every time setState is called, for instance as done\n    // by the _incrementCounter method above.\n    //\n    // The Flutter framework has been optimized to make rerunning build methods\n    // fast, so that you can just rebuild anything that needs updating rather\n    // than having to individually change instances of widgets.\n    return Scaffold(\n      appBar: AppBar(\n        // Here we take the value from the MyHomePage object that was created by\n        // the App.build method, and use it to set our appbar title.\n        title: Text(widget.title),\n      ),\n      body: ListView.builder(\n          padding: const EdgeInsets.all(8),\n          itemCount: historyList.length,\n          itemBuilder: (BuildContext context, int index) {\n            return HistoryListTile(\n              iconColor: historyList[index].iconColor,\n              onTap: () {},\n              transactionAmount: historyList[index].transactionAmount,\n              transactionIcon: historyList[index].transactionIcon,\n              transactionName: historyList[index].transactionName,\n              transactionType: historyList[index].transactionType,\n            );\n\n          }\n      ),\n      floatingActionButton: FloatingActionButton(\n        onPressed: _incrementCounter,\n        tooltip: 'Increment',\n        child: Icon(Icons.add),\n      ), // This trailing comma makes auto-formatting nicer for build methods.\n    );\n  }\n}\n\nclass History {\n  Color iconColor;\n  String transactionName;\n  String transactionType;\n  String transactionAmount;\n  String transactionIcon;\n\n  History({\n    this.iconColor,\n    this.transactionName,\n    this.transactionType,\n    this.transactionAmount,\n    this.transactionIcon,\n  });\n\n  factory History.fromJson(Map&lt;String, dynamic&gt; json) =&gt; History(\n    iconColor: json[\"iconColor\"],\n    transactionName: json[\"transactionName\"],\n    transactionType: json[\"transactionType\"],\n    transactionAmount: json[\"transactionAmount\"],\n    transactionIcon: json[\"ransactionIcon\"],\n  );\n\n  Map&lt;String, dynamic&gt; toJson() =&gt; {\n    \"iconColor\": iconColor,\n    \"transactionName\": transactionName,\n    \"transactionType\": transactionType,\n    \"transactionAmount\": transactionAmount,\n    \"ransactionIcon\": transactionIcon,\n  };\n}\n\n\nclass HistoryListTile extends StatelessWidget {\n  final Color iconColor;\n  final String transactionName,\n      transactionType,\n      transactionAmount,\n      transactionIcon;\n  final GestureTapCallback onTap;\n\n  const HistoryListTile({\n    Key key,\n    this.iconColor,\n    this.transactionName,\n    this.transactionType,\n    this.transactionAmount,\n    this.transactionIcon,\n    this.onTap,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Material(\n      color: Colors.transparent,\n      child: ListTile(\n        title: Text(transactionName),\n        subtitle: Text(transactionType),\n        trailing: Text(transactionAmount),\n        leading: CircleAvatar(\n          radius: 25,\n          child: Image.asset(\n            transactionIcon,\n            height: 25,\n            width: 25,\n          ),\n          backgroundColor: iconColor,\n        ),\n        enabled: true,\n        onTap: onTap,\n      ),\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 12404357, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBGfUok88sPFYLheeKKVNW4uZ8_Mixl0Qt4hg-T=k-s128", "display_name": "Ciliano Carvalho Ramalho", "link": "https://stackoverflow.com/users/12404357/ciliano-carvalho-ramalho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 58967237, "answer_count": 1, "score": -1, "last_activity_date": 1574309809, "creation_date": 1574257692, "last_edit_date": 1574308564, "question_id": 58955893, "link": "https://stackoverflow.com/questions/58955893/how-to-add-items-in-historylisttile-by-a-button-in-this-code-flutter", "title": "How to add items in HistoryListTile by a button in this code? Flutter", "body": "<p><code>ListView(\n                    shrinkWrap: true,\n                    scrollDirection: Axis.vertical,\n                    children: &lt;Widget&gt;[\n                      HistoryListTile(\n                        iconColor: IconColors.transfer,\n                        onTap: () {},\n                        transactionAmount: \"+\\$210.00\",\n                        transactionIcon: IconImgs.transfer,\n                        transactionName: \"Amazigh Halzoun\",\n                        transactionType: \"TRANSFER\",\n                      ),\n                    ],\n                  ),</code></p>\n\n<pre><code>class HistoryListTile extends StatelessWidget {\n  final Color iconColor;\n  final String transactionName,\n     transactionType,\n     transactionAmount,\n     transactionIcon;\n  final GestureTapCallback onTap;\n\n  const HistoryListTile({\n    Key key,\n    this.iconColor,\n    this.transactionName,\n    this.transactionType,\n    this.transactionAmount,\n    this.transactionIcon,\n    this.onTap,\n  }) : super(key: key);\n\n @override\n Widget build(BuildContext context) {\n    return Material(\n    color: Colors.transparent,\n    child: ListTile(\n       title: Text(transactionName),\n       subtitle: Text(transactionType),\n       trailing: Text(transactionAmount),\n       leading: CircleAvatar(\n          radius: 25,\n       child: Image.asset(\n          transactionIcon,\n          height: 25,\n          width: 25,\n      ),\n      backgroundColor: iconColor,\n    ),\n    enabled: true,\n    onTap: onTap,\n     ),\n   );\n  }\n}\n</code></pre>\n\n<blockquote>\n  <p>Soon after we have a Dart file called HistoryListTile, which defines the list's parameters and design.</p>\n</blockquote>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "edited": false, "score": 0, "creation_date": 1574260421, "post_id": 58955831, "comment_id": 104169073, "body": "Which error dispose causing exactly?"}, {"owner": {"reputation": 485, "user_id": 1348230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/453a9b0f7ecafebcbc3804cf92a51612?s=128&d=identicon&r=PG&f=1", "display_name": "AnsellC", "link": "https://stackoverflow.com/users/1348230/ansellc"}, "reply_to_user": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "edited": false, "score": 1, "creation_date": 1574261213, "post_id": 58955831, "comment_id": 104169581, "body": "@IgorKharakhordin <code>videoPlayerController was used after being disposed</code>"}], "answers": [{"comments": [{"owner": {"reputation": 485, "user_id": 1348230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/453a9b0f7ecafebcbc3804cf92a51612?s=128&d=identicon&r=PG&f=1", "display_name": "AnsellC", "link": "https://stackoverflow.com/users/1348230/ansellc"}, "edited": false, "score": 0, "creation_date": 1574268446, "post_id": 58959097, "comment_id": 104174156, "body": "Interesting. I thought <code>final oldController = _controller</code> just creates a new variable ie: pass by value which makes <code>oldController.dispose()</code> only affecting <code>oldController</code> and not the <code>_controller</code> instance."}, {"owner": {"reputation": 189, "user_id": 11980816, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7e-Uhh03Tjc/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNez-nuLrwV7j1yIhwKCzAu8COUuQ/mo/photo.jpg?sz=128", "display_name": "mohammad shabani", "link": "https://stackoverflow.com/users/11980816/mohammad-shabani"}, "edited": false, "score": 0, "creation_date": 1580354505, "post_id": 58959097, "comment_id": 106072517, "body": "thank you very very much mr igor your code work pefectly"}, {"owner": {"reputation": 1874, "user_id": 10329023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cnuxe.jpg?s=128&g=1", "display_name": "Kamlesh", "link": "https://stackoverflow.com/users/10329023/kamlesh"}, "edited": false, "score": 0, "creation_date": 1604841993, "post_id": 58959097, "comment_id": 114464094, "body": "YOU ARE AWESOME IGOR, I HAVE NO WORDS TO EXPLAIN MY BEST WISHES FOR YOU. I was searching playing multiple videos as per user request one by one for 4 days and today you made my day. I know it was my silly mistake that I was setting state &quot;<i>controller = null;&quot; inside the &quot;WidgetsBinding.instance.addPostFrameCallback((</i>) async {&quot; function at the end which should be outside of this function. Once again thanks dear, keep it up and help others same like me. Happy Coding :)"}, {"owner": {"reputation": 558, "user_id": 11284664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6820ff75f093df2d841edd9832baa846?s=128&d=identicon&r=PG&f=1", "display_name": "ebg11", "link": "https://stackoverflow.com/users/11284664/ebg11"}, "edited": false, "score": 0, "creation_date": 1611264235, "post_id": 58959097, "comment_id": 116402711, "body": "Can you tell me what the benefit is of making the oldController final is?"}, {"owner": {"reputation": 153, "user_id": 10997988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c01aee99d38adad4081d47a25da193e?s=128&d=identicon&r=PG&f=1", "display_name": "AkbarB", "link": "https://stackoverflow.com/users/10997988/akbarb"}, "edited": false, "score": 0, "creation_date": 1611519662, "post_id": 58959097, "comment_id": 116472289, "body": "Hi, where in your code do you call _onControllerChange() ?"}], "tags": [], "owner": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "is_accepted": true, "score": 13, "last_activity_date": 1574267351, "creation_date": 1574267351, "answer_id": 58959097, "question_id": 58955831, "link": "https://stackoverflow.com/questions/58955831/flutter-video-player-dispose/58959097#58959097", "title": "Flutter video_player dispose", "body": "<p>When you call <code>dispose</code> your controller is still being used by <em>VideoPlayer</em> widget. First, you need to make sure that it's not used anymore (setting controller in state to null) and AFTER that you call dispose. </p>\n\n<p>I'm not sure about your state management via Provider, but I'll give you an example how to do this with regular State.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>  VideoPlayerController _controller;\n\n  void _initController(String link) {\n    _controller = VideoPlayerController.network(link)\n      ..initialize().then((_) {\n        setState(() {});\n      });\n  }\n\n  Future&lt;void&gt; _onControllerChange(String link) async {\n    if (_controller == null) {\n      // If there was no controller, just create a new one\n      _initController(link);\n    } else {\n      // If there was a controller, we need to dispose of the old one first\n      final oldController = _controller;\n\n      // Registering a callback for the end of next frame\n      // to dispose of an old controller\n      // (which won't be used anymore after calling setState)\n      WidgetsBinding.instance.addPostFrameCallback((_) async {\n        await oldController.dispose();\n\n        // Initing new controller\n        _initController(link);\n      });\n\n      // Making sure that controller is not used by setting it to null\n      setState(() {\n        _controller = null;\n      });\n    }\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 13563505, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GhriBVMCRxE4BydzWX45seBFfIVYiD9RWyyr3-A=k-s128", "display_name": "thenewendrit", "link": "https://stackoverflow.com/users/13563505/thenewendrit"}, "is_accepted": false, "score": 0, "last_activity_date": 1590015079, "creation_date": 1590015079, "answer_id": 61924246, "question_id": 58955831, "link": "https://stackoverflow.com/questions/58955831/flutter-video-player-dispose/61924246#61924246", "title": "Flutter video_player dispose", "body": "<p>I know is later but I think i found one way to fix this.</p>\n\n<p>1.Create <code>initPlayer()</code> (I've created using <code>Provider</code>)</p>\n\n<pre><code>  void initPlayer( {pause = false, update = false, updateUrl = \"\"} ) async {\n  var isPlaying = false;\n\n  if (controller == null) {\n    controller = VideoPlayerController.file(File(url))..addListener(() {\n    isPlaying = true;\n    notifyListeners();\n   })..initialize().then((value) =&gt; notifyListeners());\n   controller.play();\n   } else {\n     print (\"Controller is playing...\");\n   if (pause) {\n    if (controller.value.isPlaying) {\n      controller.pause();\n    } else {\n      controller.play();\n    }\n   }\n   if (update &amp;&amp; updateUrl != \"\") {\n    final oldController = controller;\n    await oldController.dispose();\n    controller = VideoPlayerController.file(File(updateUrl))..addListener(() {\n      isPlaying = true;\n      notifyListeners();\n       })..initialize().then((value) =&gt; notifyListeners());\n      controller.play();\n    }\n  }\n}\n</code></pre>\n\n<ol start=\"2\">\n<li><p>Add <code>Actions</code> (<code>start</code>, <code>pause</code> <code>change</code>) in the widget.</p>\n\n<pre><code>      child: Column(\n    mainAxisAlignment: MainAxisAlignment.center,\n    children: &lt;Widget&gt;[\n    FlatButton(\n      child: Text(\"Play Video\"),\n      color: Colors.red,\n      onPressed: () {\n        musicPlayerProvider.initPlayer();\n      },\n    ),\n    FlatButton(\n      child: Text(\"Stop Video\"),\n      color: Colors.pink,\n      onPressed: () {\n        musicPlayerProvider.initPlayer(pause: true);\n      },\n    ),\n    FlatButton(\n      child: Text(\"Change Video\"),\n      color: Colors.yellow,\n      onPressed: () {\n        musicPlayerProvider.initPlayer(update: true,updateUrl: \n            \"url\");\n      },\n    ),\n  ],),\n</code></pre></li>\n</ol>\n\n<p>For now this <code>works</code> but of course you can make changes.</p>\n\n<p>Later we need to check when the <code>video</code> has <code>finished</code> using <code>addListener</code> method ( I guess ).</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 11408993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6a8ddf9f6c477a4f21b57d0bd2f54f6?s=128&d=identicon&r=PG&f=1", "display_name": "Harsh Barnwal", "link": "https://stackoverflow.com/users/11408993/harsh-barnwal"}, "is_accepted": false, "score": 2, "last_activity_date": 1592557873, "creation_date": 1592557873, "answer_id": 62466967, "question_id": 58955831, "link": "https://stackoverflow.com/questions/58955831/flutter-video-player-dispose/62466967#62466967", "title": "Flutter video_player dispose", "body": "<p>I know its late but this will help others with same problem.</p>\n\n<p>I had same issue, i wanted to change Video when user selects new video from list, after researching so much i finally created a solution by myself.</p>\n\n<p>Follows the below step and you can video video in Video Player in same screen</p>\n\n<ol>\n<li>Create a <code>StatefulWidget</code> class containing <code>VideoPlayer</code> and initialize the videoPlayerController in <code>init</code> method.\nSuppose you created a StatefulWidget class named MyVideoPlayer then in constructor accept two variable, i.e, \ni> String videoLink\nii> UniqueKey()</li>\n</ol>\n\n<p><strong>Note</strong> - You have to pass UniqueKey() to the super of this class, example,</p>\n\n<pre><code>class MyVideoPlayer extends StatefulWidget {\n  final String videoLink;\n  final UniqueKey newKey;\n\n  MyVideoPlayer(this.videoLink, this.newKey): super(key: newKey); // passing Unique key to dispose old class instance and create new with new data\n\n  @override\n  _MyVideoPlayerState createState() =&gt; _MyVideoPlayerState();\n} ...\n</code></pre>\n\n<ol start=\"2\">\n<li><p>Replace your <code>VideoPlayer</code> instance of main dart file where you are playing video with your previously created class i.e, <code>MyVideoPlayer</code> and pass videoLink and <code>UniqueKey()</code>.</p></li>\n<li><p>Now whenever you want to change the video just update videoLink inside <code>setState(() {})</code> of your main dart file and after that a new VideoPlayer instance is created by disposing the old one totally.</p></li>\n</ol>\n\n<p>Note - Here the main work is done by UniqueKey(), by passing UniqueKey() you are saying flutter to create a new unique instance of this particular class;</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14068563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91199760ad568e8714f1d77827d3c587?s=128&d=identicon&r=PG", "display_name": "Luis Felipe Murguia Ramos", "link": "https://stackoverflow.com/users/14068563/luis-felipe-murguia-ramos"}, "is_accepted": false, "score": 0, "last_activity_date": 1602481009, "creation_date": 1602481009, "answer_id": 64312233, "question_id": 58955831, "link": "https://stackoverflow.com/questions/58955831/flutter-video-player-dispose/64312233#64312233", "title": "Flutter video_player dispose", "body": "<p>You can use that:</p>\n<pre><code>@override\n  void dispose() {\n    if (_controller.value.isPlaying) _controller.pause();\n    _controller.removeListener(_videoListener);\n    _controller = null;\n    super.dispose();\n  }\n</code></pre>\n"}], "owner": {"reputation": 485, "user_id": 1348230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/453a9b0f7ecafebcbc3804cf92a51612?s=128&d=identicon&r=PG&f=1", "display_name": "AnsellC", "link": "https://stackoverflow.com/users/1348230/ansellc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4937, "favorite_count": 4, "accepted_answer_id": 58959097, "answer_count": 4, "score": 7, "last_activity_date": 1602481009, "creation_date": 1574257507, "question_id": 58955831, "link": "https://stackoverflow.com/questions/58955831/flutter-video-player-dispose", "title": "Flutter video_player dispose", "body": "<p>I'm using <code>provider</code> with <code>video_player</code> to manage the state. </p>\n\n<p>VideoProvider has:</p>\n\n<pre><code>videoPlayerController = VideoPlayerController.network(...);\n</code></pre>\n\n<p>which I frequently change when the user switches to a new video (same screen). If I directly assign a new <code>VideoPlayerController.network(...)</code> into the <code>videoPlayerController</code>, the old video will still play and you can hear the sound. The workaround is to <code>videoPlayerController.pause()</code> then assign a new <code>VideoPlayerCOntroller.network</code> afterwards. </p>\n\n<p>Is the previous Video being disposed by GC? Are there any performance issues with this? I want to get rid of the previous video and the resources used before switching to a new one. I can't <code>videoPlayerController.dispose()</code> before switching because it causes an error.</p>\n"}, {"tags": ["flutter", "dart", "flutter-layout", "flutter-sliver", "flutter-appbar"], "comments": [{"owner": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "edited": false, "score": 0, "creation_date": 1574259680, "post_id": 58954525, "comment_id": 104168637, "body": "Do you want TabBar to always be under the appbar?"}, {"owner": {"reputation": 103, "user_id": 11163591, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--Syj6RvG9XQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rctNUYeFkVlqbR__B9X8gbisq9KQw/mo/photo.jpg?sz=128", "display_name": "black-hacker", "link": "https://stackoverflow.com/users/11163591/black-hacker"}, "reply_to_user": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "edited": false, "score": 0, "creation_date": 1574261015, "post_id": 58954525, "comment_id": 104169457, "body": "@IgorKharakhordin Yes..."}], "answers": [{"tags": [], "owner": {"reputation": 468, "user_id": 6540631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53fa9845857f94770371e6f4264d23dc?s=128&d=identicon&r=PG&f=1", "display_name": "Lucky Dog", "link": "https://stackoverflow.com/users/6540631/lucky-dog"}, "is_accepted": false, "score": 0, "last_activity_date": 1574253915, "creation_date": 1574253915, "answer_id": 58954681, "question_id": 58954525, "link": "https://stackoverflow.com/questions/58954525/sliverappbar-sliverlist-is-scrolling-all-the-way-to-the-top/58954681#58954681", "title": "SliverAppBar - SliverList is Scrolling all the way to the top", "body": "<p>its maybe a bug\uff1a</p>\n\n<p><a href=\"https://github.com/flutter/flutter/issues/22393\" rel=\"nofollow noreferrer\">https://github.com/flutter/flutter/issues/22393</a></p>\n\n<p>so you can use this <a href=\"https://pub.dev/packages/extended_nested_scroll_view\" rel=\"nofollow noreferrer\">package</a>,it solved this problem.</p>\n"}, {"comments": [{"owner": {"reputation": 103, "user_id": 11163591, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--Syj6RvG9XQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rctNUYeFkVlqbR__B9X8gbisq9KQw/mo/photo.jpg?sz=128", "display_name": "black-hacker", "link": "https://stackoverflow.com/users/11163591/black-hacker"}, "edited": false, "score": 0, "creation_date": 1574330114, "post_id": 58958013, "comment_id": 104197681, "body": "I wrapped TabBarVIew with Container and gave it white color. So, i dont have to change the primary color of whole app. It&#39;s an alternate way... But, it works thanks..."}], "tags": [], "owner": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "is_accepted": true, "score": 1, "last_activity_date": 1574263929, "creation_date": 1574263929, "answer_id": 58958013, "question_id": 58954525, "link": "https://stackoverflow.com/questions/58954525/sliverappbar-sliverlist-is-scrolling-all-the-way-to-the-top/58958013#58958013", "title": "SliverAppBar - SliverList is Scrolling all the way to the top", "body": "<p>Just use <em>bottom</em> parameter of <em>SliverAppBar</em> and pass <em>TabBar</em> to it. In <em>FlexibleSpaceBar</em> add <em>titlePadding</em> to add padding from the TabBar. If you need to change TabBar colour, you can check <a href=\"https://stackoverflow.com/questions/50566868/how-to-change-background-color-of-tabbar-without-changing-the-appbar-in-flutter\">this question</a>.</p>\n\n<p>Be careful with a title inside FlexibleSpaceBar and action icons in AppBar, because long title will cause overlapping in minimized appbar.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>    child: CustomScrollView(\n      slivers: &lt;Widget&gt;[\n        SliverAppBar(\n          //backgroundColor: Colors.transparent,\n          actions: &lt;Widget&gt;[\n            IconButton(icon: Icon(Icons.favorite), onPressed: () {}),\n            IconButton(icon: Icon(Icons.share), onPressed: () {})\n          ],\n          floating: false,\n          pinned: true,\n          expandedHeight: getHeight(context),\n          flexibleSpace: FlexibleSpaceBar(\n            title: Text(\"text\"),\n            // Adding padding from TabBar\n            titlePadding: EdgeInsets.only(bottom: 64, left: 60),\n            background: Container(\n              height: double.infinity,\n              width: double.infinity,\n              decoration: BoxDecoration(\n                  image: DecorationImage(\n                      image: AssetImage(currentImage),\n                      fit: BoxFit.cover)),\n            ),\n          ),\n          // Adding TabBar to the bottom of SliverAppBar\n          bottom: TabBar(\n            tabs: [\n              for (var i = 0; i &lt; 3; i++)\n                Tab(\n                  text: 'test $i',\n                ),\n            ]\n          ),\n        ),\n        SliverList(\n          delegate: SliverChildListDelegate(bottomListView),\n        ),\n      ],\n    ),\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 11163591, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--Syj6RvG9XQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rctNUYeFkVlqbR__B9X8gbisq9KQw/mo/photo.jpg?sz=128", "display_name": "black-hacker", "link": "https://stackoverflow.com/users/11163591/black-hacker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2983, "favorite_count": 0, "accepted_answer_id": 58958013, "answer_count": 2, "score": 0, "last_activity_date": 1574331393, "creation_date": 1574253399, "last_edit_date": 1574331393, "question_id": 58954525, "link": "https://stackoverflow.com/questions/58954525/sliverappbar-sliverlist-is-scrolling-all-the-way-to-the-top", "title": "SliverAppBar - SliverList is Scrolling all the way to the top", "body": "<p>I am currently working with SliverAppBar and i am facing problem while Scrolling the sliverList.</p>\n\n<p><a href=\"https://i.stack.imgur.com/9H3K4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9H3K4.png\" alt=\"enter image description here\"></a></p>\n\n<p>In the Picture above, my TabBar is going all the way up to the notification bar. When sliverAppBar collapse, I want my Tabbar to stick to the bottom of the AppBar.</p>\n\n<p>Here is my Code that i am trying...</p>\n\n<pre><code>    return Scaffold(\n  body: CustomScrollView(\n\n    slivers: &lt;Widget&gt;[\n      SliverAppBar(\n        //backgroundColor: Colors.transparent,\n        actions: &lt;Widget&gt;[\n          IconButton(icon: Icon(Icons.favorite), onPressed: () {}),\n          IconButton(icon: Icon(Icons.share), onPressed: () {})\n        ],\n        floating: false,\n        pinned: true,\n        expandedHeight: getHeight(context),\n        flexibleSpace: FlexibleSpaceBar(\n          title: Text(\"text\"),\n          background: Container(\n            height: double.infinity,\n            width: double.infinity,\n            decoration: BoxDecoration(\n                image: DecorationImage(\n                    image: AssetImage(currentImage),\n                    fit: BoxFit.cover)),\n          ),\n        ),\n      ),\n      SliverList(\n        delegate: SliverChildListDelegate(bottomListView),\n      ),\n    ],\n  )\n  ,\n);\n</code></pre>\n"}, {"tags": ["flutter", "dart", "typeconverter", "uint8list"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 2, "creation_date": 1574253373, "post_id": 58954057, "comment_id": 104164738, "body": "<code>Uint8list</code> implements <code>List&lt;int&gt;</code> - in other words: it is a <code>List&lt;int&gt;</code>"}, {"owner": {"reputation": 103, "user_id": 8639765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1da338538f275242067dce731592499d?s=128&d=identicon&r=PG&f=1", "display_name": "abdullah &#231;elik", "link": "https://stackoverflow.com/users/8639765/abdullah-%c3%a7elik"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1574254911, "post_id": 58954057, "comment_id": 104165649, "body": "if i send directly send CameraImage type , file.writeAsBytes() method return this code : Exception has occurred. _TypeError (type &#39;CameraImage&#39; is not a subtype of type &#39;List&lt;int&gt;&#39;)"}, {"owner": {"reputation": 103, "user_id": 8639765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1da338538f275242067dce731592499d?s=128&d=identicon&r=PG&f=1", "display_name": "abdullah &#231;elik", "link": "https://stackoverflow.com/users/8639765/abdullah-%c3%a7elik"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1574276378, "post_id": 58954057, "comment_id": 104178228, "body": "if i use   <code>img.planes.map((plane) {                           return plane.bytes;                         }).toList();</code>  this is retunr List&lt;Uint8List&gt; you knows anyway this file type save like image ?"}, {"owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "edited": false, "score": 0, "creation_date": 1574289118, "post_id": 58954057, "comment_id": 104183844, "body": "It&#39;s not easy. See: <a href=\"https://stackoverflow.com/questions/54312915/convert-flutter-cameraimage-to-file\" title=\"convert flutter cameraimage to file\">stackoverflow.com/questions/54312915/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 436, "user_id": 11996316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dWP8z.jpg?s=128&g=1", "display_name": "Lucas Matos", "link": "https://stackoverflow.com/users/11996316/lucas-matos"}, "is_accepted": false, "score": 10, "last_activity_date": 1574255464, "creation_date": 1574255464, "answer_id": 58955168, "question_id": 58954057, "link": "https://stackoverflow.com/questions/58954057/how-to-convert-uint8list-to-listint-with-dart/58955168#58955168", "title": "How to convert Uint8list to List&lt;int&gt; with dart?", "body": "<p>Do it</p>\n\n<pre><code>var temp = new Uint8List(500);\nvar list  = new List.from(temp);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/P2tFc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/P2tFc.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/RIX97.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/RIX97.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 103, "user_id": 8639765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1da338538f275242067dce731592499d?s=128&d=identicon&r=PG&f=1", "display_name": "abdullah &#231;elik", "link": "https://stackoverflow.com/users/8639765/abdullah-%c3%a7elik"}, "edited": false, "score": 1, "creation_date": 1574343210, "post_id": 58966922, "comment_id": 104205417, "body": "Hi, is there a way to print in color?"}, {"owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "reply_to_user": {"reputation": 103, "user_id": 8639765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1da338538f275242067dce731592499d?s=128&d=identicon&r=PG&f=1", "display_name": "abdullah &#231;elik", "link": "https://stackoverflow.com/users/8639765/abdullah-%c3%a7elik"}, "edited": false, "score": 1, "creation_date": 1574642919, "post_id": 58966922, "comment_id": 104292772, "body": "Do you mean int color?"}, {"owner": {"reputation": 95, "user_id": 3331888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f1e651e7de468de606826b1eccd79aa?s=128&d=identicon&r=PG&f=1", "display_name": "stan", "link": "https://stackoverflow.com/users/3331888/stan"}, "edited": false, "score": 0, "creation_date": 1610795717, "post_id": 58966922, "comment_id": 116247856, "body": "For the method _convertYUV420 images are in black. Is there a way to have those also in color?"}, {"owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "reply_to_user": {"reputation": 95, "user_id": 3331888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f1e651e7de468de606826b1eccd79aa?s=128&d=identicon&r=PG&f=1", "display_name": "stan", "link": "https://stackoverflow.com/users/3331888/stan"}, "edited": false, "score": 1, "creation_date": 1610931031, "post_id": 58966922, "comment_id": 116280683, "body": "@stan , could you check this <a href=\"https://github.com/flutter/flutter/issues/26348#issuecomment-624244895\" rel=\"nofollow noreferrer\">github.com/flutter/flutter/issues/26348#issuecomment-6242448&zwnj;&#8203;95</a>"}], "tags": [], "owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "is_accepted": true, "score": 6, "last_activity_date": 1574307505, "creation_date": 1574307505, "answer_id": 58966922, "question_id": 58954057, "link": "https://stackoverflow.com/questions/58954057/how-to-convert-uint8list-to-listint-with-dart/58966922#58966922", "title": "How to convert Uint8list to List&lt;int&gt; with dart?", "body": "<p>You can convert CameraImage YUV420 or BGRA8888  to image with the following code snippet <br></p>\n\n<p>code from gist : <a href=\"https://gist.github.com/Alby-o/fe87e35bc21d534c8220aed7df028e03\" rel=\"noreferrer\">https://gist.github.com/Alby-o/fe87e35bc21d534c8220aed7df028e03</a> <br></p>\n\n<pre><code>// imgLib -&gt; Image package from https://pub.dartlang.org/packages/image\nimport 'package:image/image.dart' as imglib;\nimport 'package:camera/camera.dart';\n\nFuture&lt;List&lt;int&gt;&gt; convertImagetoPng(CameraImage image) async {\n  try {\n    imglib.Image img;\n    if (image.format.group == ImageFormatGroup.yuv420) {\n      img = _convertYUV420(image);\n    } else if (image.format.group == ImageFormatGroup.bgra8888) {\n      img = _convertBGRA8888(image);\n    }\n\n    imglib.PngEncoder pngEncoder = new imglib.PngEncoder();\n\n    // Convert to png\n    List&lt;int&gt; png = pngEncoder.encodeImage(img);\n    return png;\n  } catch (e) {\n    print(\"&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; ERROR:\" + e.toString());\n  }\n  return null;\n}\n\n// CameraImage BGRA8888 -&gt; PNG\n// Color\nimglib.Image _convertBGRA8888(CameraImage image) {\n  return imglib.Image.fromBytes(\n    image.width,\n    image.height,\n    image.planes[0].bytes,\n    format: imglib.Format.bgra,\n  );\n}\n\n// CameraImage YUV420_888 -&gt; PNG -&gt; Image (compresion:0, filter: none)\n// Black\nimglib.Image _convertYUV420(CameraImage image) {\n  var img = imglib.Image(image.width, image.height); // Create Image buffer\n\n  Plane plane = image.planes[0];\n  const int shift = (0xFF &lt;&lt; 24);\n\n  // Fill image buffer with plane[0] from YUV420_888\n  for (int x = 0; x &lt; image.width; x++) {\n    for (int planeOffset = 0;\n        planeOffset &lt; image.height * image.width;\n        planeOffset += image.width) {\n      final pixelColor = plane.bytes[planeOffset + x];\n      // color: 0x FF  FF  FF  FF\n      //           A   B   G   R\n      // Calculate pixel color\n      var newVal = shift | (pixelColor &lt;&lt; 16) | (pixelColor &lt;&lt; 8) | pixelColor;\n\n      img.data[planeOffset + x] = newVal;\n    }\n  }\n\n  return img;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 95, "user_id": 3331888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f1e651e7de468de606826b1eccd79aa?s=128&d=identicon&r=PG&f=1", "display_name": "stan", "link": "https://stackoverflow.com/users/3331888/stan"}, "is_accepted": false, "score": 0, "last_activity_date": 1610795627, "last_edit_date": 1610795627, "creation_date": 1608801660, "answer_id": 65436332, "question_id": 58954057, "link": "https://stackoverflow.com/questions/58954057/how-to-convert-uint8list-to-listint-with-dart/65436332#65436332", "title": "How to convert Uint8list to List&lt;int&gt; with dart?", "body": "<p>@hunhunghan Is there a way of also having the <code>_convertYUV420(CameraImage image)</code> method in color? Since those images are black, whereas images from <code>_convertBGRA8888(CameraImage image)</code> are colored.</p>\n"}], "owner": {"reputation": 103, "user_id": 8639765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1da338538f275242067dce731592499d?s=128&d=identicon&r=PG&f=1", "display_name": "abdullah &#231;elik", "link": "https://stackoverflow.com/users/8639765/abdullah-%c3%a7elik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10436, "favorite_count": 3, "accepted_answer_id": 58966922, "answer_count": 3, "score": 7, "last_activity_date": 1610795627, "creation_date": 1574251849, "last_edit_date": 1602835185, "question_id": 58954057, "link": "https://stackoverflow.com/questions/58954057/how-to-convert-uint8list-to-listint-with-dart", "title": "How to convert Uint8list to List&lt;int&gt; with dart?", "body": "<p>I developed a mobile application with flutter. I do object detection use &quot;controller.startImageStream&quot; this method return CameraImage and i use with object detection. I want to save this image file. I tried to convert this file to List and jpg file for save. But uint8list could not converted to List. Is this structure a true way? If you know different solutions for my problem, please share me.</p>\n<p>This is my video streaming method ;</p>\n<pre><code>startVideoStreaming() {\n    if (cameras == null || cameras.length &lt; 1) {\n      print('No camera is found');\n    } else {\n      controller = new CameraController(\n        cameras[0],\n          ResolutionPreset.medium,\n        );\n\n        if(!_busy){\n          controller.initialize().then((_) {\n\n          print(&quot;model y\u00fckleme bitmi\u015f stream dinleme ba\u015fl\u0131yor &quot;);\n\n          controller.startImageStream((CameraImage img){\n                  print(&quot;img format: ${img.format} planes: ${img.planes}&quot;);\n                  List&lt;int&gt; imageBytes = [];\n                  img.planes.map((plane) {\n                    imageBytes.addAll(plane.bytes.toList());\n                  });\n                  \n                  // call save image file method\n                    saveImageFile(imageBytes).then((res) =&gt; {\n                      print(&quot;save image file successfull filepath: $res&quot;)\n                    }).catchError((err) =&gt; {\n                      print(&quot;error on save image file error: $err&quot;)\n                    });\n                  \n                  if(!isDetecting){\n                    isDetecting = true;\n                    print(&quot;Tflite'a stream g\u00f6nderildi&quot;);\n                    Tflite.detectObjectOnFrame(\n                        bytesList: img.planes.map((plane) {\n                          return plane.bytes;\n                        }).toList(),\n                        model: &quot;SSDMobileNet&quot;,\n                        imageHeight: img.height,\n                        imageWidth: img.width,\n                        imageMean: 127.5,\n                        imageStd: 127.5,\n                        numResultsPerClass: 1,\n                        threshold: 0.4,\n                      ).then((recognitions) {\n                        int endTime = new DateTime.now().millisecondsSinceEpoch;\n                        setState(() {\n                          _recognitions=recognitions;\n                        });\n                        print(&quot;Recognitions: $recognitions&quot;);\n                        isDetecting = false;\n                      });\n                  }\n                });\n          });\n        }\n    }\n  }\n</code></pre>\n<p>This is my image save method ;</p>\n<pre><code>Future&lt;String&gt; saveImageFile(imageBytes) async {\n    final Directory extDir = await getApplicationDocumentsDirectory();\n    final String dirPath = '${extDir.path}/Pictures/flutter_test';\n    await Directory(dirPath).create(recursive: true);\n    final String filePath = '$dirPath/${timestamp()}.jpg';\n\n    if (controller.value.isTakingPicture) {\n      // A capture is already pending, do nothing.\n      return null;\n    }\n\n    try {\n      File file = new File(filePath);\n      file.writeAsBytes(imageBytes);\n      print(&quot;finish image saved $imageBytes&quot;);\n    } on CameraException catch (e) {\n      _showCameraException(e);\n      return null;\n    }\n    return filePath;\n  }\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 7286, "user_id": 1942868, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wDB7c.jpg?s=128&g=1", "display_name": "whitebear", "link": "https://stackoverflow.com/users/1942868/whitebear"}, "edited": false, "score": 0, "creation_date": 1574338246, "post_id": 58954515, "comment_id": 104202544, "body": "THank you very much , you hit perfectly my problem. This sample code is perfect and good to learn. I understood why setState is called infinitely."}], "tags": [], "owner": {"reputation": 468, "user_id": 6540631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53fa9845857f94770371e6f4264d23dc?s=128&d=identicon&r=PG&f=1", "display_name": "Lucky Dog", "link": "https://stackoverflow.com/users/6540631/lucky-dog"}, "is_accepted": true, "score": 1, "last_activity_date": 1574253349, "creation_date": 1574253349, "answer_id": 58954515, "question_id": 58953999, "link": "https://stackoverflow.com/questions/58953999/updating-listview-by-api-best-practice/58954515#58954515", "title": "Updating listview by API best practice", "body": "<p>The reason why setState() is called infinitely is setState() will call the build(BuildContext context) method.</p>\n\n<p>so,you should remove setState() from build(BuildContext context) method,and move _callApi() method to initState()\uff0c</p>\n\n<p>like this:</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'dart:ui' as ui;\nimport 'package:flutter/services.dart' show rootBundle;\nimport 'dart:async';\nimport 'dart:typed_data';\n\nclass MyHomePage extends StatefulWidget {\n  MyHomePage({Key key, this.title}) : super(key: key);\n\n  final String title;\n\n  @override\n  _MyHomePageState createState() =&gt; _MyHomePageState();\n}\n\nclass Article {\n  String title;\n  String url;\n\n  Article() {}\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  int _counter = 0;\n  List&lt;Article&gt; articles = [];\n\n  void _incrementCounter() {\n    setState(() {\n      _counter++;\n    });\n  }\n\n  @override\n  void initState() {\n    // TODO: implement initState\n    super.initState();\n    _callApi();\n  }\n\n  void _callApi() async {\n//    final response = await http\n//        .get('http://localhost/mamasoku/web/app_dev.php/api/byLatest/1/10');\n//    if (response.statusCode == 200) {\n//      var document = xml.parse(response.body);\n//      var items = document.findAllElements('item');\n//      print(\"item number:\" + items.length.toString());\n//      items.forEach((var item) {\n//        var a = Article();\n//        a.title = item.findElements('title').single.text;\n//        a.url = item.findElements('url').single.text;\n//        articles.add(a);\n//      });\n//\n//    }\n\n  ///  Analog network request\n  Future.delayed(Duration(seconds: 10)).then((data){\n    articles.add(Article()..title=\"test1\"..url=\"www.123.com\");\n    articles.add(Article()..title=\"test2\"..url=\"www.123.com\");\n    articles.add(Article()..title=\"test3\"..url=\"www.123.com\");\n    articles.add(Article()..title=\"test4\"..url=\"www.123.com\");\n    setState(() =&gt; {});\n  });\n\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(widget.title),\n      ),\n      body: BodyLayout(articles),\n    );\n  }\n}\n\nclass BodyLayout extends StatelessWidget {\n  final List&lt;Article&gt; articles;\n\n  BodyLayout(this.articles);\n\n  @override\n  Widget build(BuildContext context) {\n    return ListView.builder(\n      itemCount: articles.length,\n      itemBuilder: (context, index) {\n        return ListTile(\n          title: Text(articles[index].title),\n        );\n      },\n    );\n  }\n}\n\nvoid onTapped(var index) {\n  print(index);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7286, "user_id": 1942868, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wDB7c.jpg?s=128&g=1", "display_name": "whitebear", "link": "https://stackoverflow.com/users/1942868/whitebear"}, "edited": false, "score": 0, "creation_date": 1574338323, "post_id": 58959080, "comment_id": 104202590, "body": "thank you . I get used to other frameworks view /mode/ controller style already. But now I am struggling with flutter ...."}], "tags": [], "owner": {"reputation": 303, "user_id": 9973108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DnFtHpUYg_w/AAAAAAAAAAI/AAAAAAAAADM/wvP6q6c-R_s/photo.jpg?sz=128", "display_name": "Hairon Chaviano", "link": "https://stackoverflow.com/users/9973108/hairon-chaviano"}, "is_accepted": false, "score": 1, "last_activity_date": 1574267309, "creation_date": 1574267309, "answer_id": 58959080, "question_id": 58953999, "link": "https://stackoverflow.com/questions/58953999/updating-listview-by-api-best-practice/58959080#58959080", "title": "Updating listview by API best practice", "body": "<p>You need to do a lot of changes to apply best practices here, you need separate the model, the api calls, the logic and the views and that way you can apply Single Responsibility pattern, also is recommendable use BloC pattern to separate the logic from the view and create a generic class to handle all the api calls so in the future when you need to do a similar call to the api you don't need to repeat the code (DRY pattern), maybe you need to apply more changes but for now with those changes should be enough is a lot of work but trust me it will help you to improve your app  </p>\n"}], "owner": {"reputation": 7286, "user_id": 1942868, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wDB7c.jpg?s=128&g=1", "display_name": "whitebear", "link": "https://stackoverflow.com/users/1942868/whitebear"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 441, "favorite_count": 0, "accepted_answer_id": 58954515, "answer_count": 2, "score": 0, "last_activity_date": 1574267309, "creation_date": 1574251660, "last_edit_date": 1574261982, "question_id": 58953999, "link": "https://stackoverflow.com/questions/58953999/updating-listview-by-api-best-practice", "title": "Updating listview by API best practice", "body": "<p>This is my code which call API to get the xml items. \nand list view is updated by article.</p>\n\n<p>For now after change the variable of listview I called setState() once.</p>\n\n<p>However as running this code. \nsetState() is called infinitely, and keep updating.</p>\n\n<p>How should I solve or what is the best practice??</p>\n\n<pre><code>class Article{\n  String title;\n  String url;\n  Article() {}\n}\nList&lt;Article&gt; articles = [];\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  int _counter = 0;\n\n\n  void _incrementCounter() {\n    setState(() {\n      _counter++;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    void _callApi() async{\n      final response = await http.get('http://localhost/mamasoku/web/app_dev.php/api/byLatest/1/10');\n      if (response.statusCode == 200) {\n\n        var document = xml.parse(response.body);\n        var items = document.findAllElements('item');\n        print(\"item number:\" + items.length.toString());\n        items.forEach((var item) {\n          var a = Article();\n          a.title = item.findElements('title').single.text;\n          a.url = item.findElements('url').single.text;\n          articles.add(a);\n        });\n        setState(() =&gt; {});\n      }\n    }\n    _callApi();\n\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(widget.title),\n      ),\n      body: BodyLayout(), \n    );\n  }\n}\nclass BodyLayout extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return _myListView(context);\n  }\n}\n Widget _myListView(BuildContext context) {\n\n\n      return ListView.builder(\n        itemCount: articles.length,\n        itemBuilder: (context, index) {\n          return ListTile(\n            title: Text(articles[index].title),\n          );\n        },\n      );\n    }\n\nvoid onTapped(var index) {\n  print(index);\n}\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 3111, "user_id": 7337723, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/edc61b04a0c7e1160cd7227987874927?s=128&d=identicon&r=PG&f=1", "display_name": "Kartik Shandilya", "link": "https://stackoverflow.com/users/7337723/kartik-shandilya"}, "edited": false, "score": 1, "creation_date": 1574249158, "post_id": 58953208, "comment_id": 104162291, "body": "Can you share your complete code logic where you are making http request"}], "answers": [{"tags": [], "owner": {"reputation": 589, "user_id": 4578322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ayi4W.jpg?s=128&g=1", "display_name": "Boobalan", "link": "https://stackoverflow.com/users/4578322/boobalan"}, "is_accepted": false, "score": 0, "last_activity_date": 1574249297, "creation_date": 1574249297, "answer_id": 58953294, "question_id": 58953208, "link": "https://stackoverflow.com/questions/58953208/how-can-i-the-get-the-http-response-in-flutter/58953294#58953294", "title": "How can i the get the http response in flutter", "body": "<ol>\n<li>Add the http package</li>\n</ol>\n\n<blockquote>\n<pre><code>import 'package:http/http.dart' as http;\n</code></pre>\n</blockquote>\n\n<ol start=\"2\">\n<li>Make a network request</li>\n</ol>\n\n<blockquote>\n<pre><code>Future&lt;http.Response&gt; fetchPost() {\n  return http.get('https://jsonplaceholder.typicode.com/posts/1');\n}\n</code></pre>\n</blockquote>\n\n<p>In the above example target url is </p>\n\n<blockquote>\n  <p><a href=\"https://jsonplaceholder.typicode.com/posts/1\" rel=\"nofollow noreferrer\">https://jsonplaceholder.typicode.com/posts/1</a></p>\n</blockquote>\n\n<p>Corresponding response is </p>\n\n<blockquote>\n<pre><code>{\n\"userId\": 1,\n\"id\": 1,\n\"title\": \"sunt aut facere repellat provident occaecati excepturi optio reprehenderit\",\n\"body\": \"quia et suscipit\\nsuscipit recusandae consequuntur expedita et cum\\nreprehenderit molestiae ut ut quas totam\\nnostrum rerum est autem sunt rem eveniet architecto\"\n}\n</code></pre>\n</blockquote>\n\n<p>More details available in</p>\n\n<p><a href=\"https://flutter.dev/docs/cookbook/networking/fetch-data\" rel=\"nofollow noreferrer\">https://flutter.dev/docs/cookbook/networking/fetch-data</a></p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 11734591, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NbRBLIv2ILk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfObYOY-otOMe1oZwFHlzl_6G5XUg/photo.jpg?sz=128", "display_name": "Artem Krupp", "link": "https://stackoverflow.com/users/11734591/artem-krupp"}, "is_accepted": true, "score": 0, "last_activity_date": 1574249495, "creation_date": 1574249495, "answer_id": 58953357, "question_id": 58953208, "link": "https://stackoverflow.com/questions/58953208/how-can-i-the-get-the-http-response-in-flutter/58953357#58953357", "title": "How can i the get the http response in flutter", "body": "<p>You must add the http package to your dependencies in the pubspec.yaml file and call flutter packages get</p>\n\n<pre><code>dependencies:\n  flutter:\n    sdk: flutter\n  cupertino_icons: 0.1.2\n  http: 0.12.0+2\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8354119"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "accepted_answer_id": 58953357, "answer_count": 2, "score": 0, "last_activity_date": 1574249495, "creation_date": 1574249054, "question_id": 58953208, "link": "https://stackoverflow.com/questions/58953208/how-can-i-the-get-the-http-response-in-flutter", "title": "How can i the get the http response in flutter", "body": "<p>when I import class </p>\n\n<pre><code>import 'package:http/http.dart' as http;\n</code></pre>\n\n<p>as per <a href=\"https://flutter.dev/docs/cookbook/networking/fetch-data\" rel=\"nofollow noreferrer\">https://flutter.dev/docs/cookbook/networking/fetch-data</a> </p>\n\n<p>it gives error Target URL doesn't exist </p>\n"}, {"tags": ["user-interface", "flutter", "dart", "colors", "widget"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1574248854, "post_id": 58953081, "comment_id": 104162125, "body": "see <code>SliverPersistentHeader</code> and <code>SliverPersistentHeaderDelegate</code>"}, {"owner": {"reputation": 2587, "user_id": 2196176, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LhZPn.png?s=128&g=1", "display_name": "Sunny", "link": "https://stackoverflow.com/users/2196176/sunny"}, "edited": false, "score": 0, "creation_date": 1574249071, "post_id": 58953081, "comment_id": 104162244, "body": "Check this <a href=\"https://stackoverflow.com/a/54696347/2196176\">stackoverflow.com/a/54696347/2196176</a>"}], "owner": {"reputation": 270, "user_id": 11939257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fed73c4ddecc101f1d949de1fe1161a?s=128&d=identicon&r=PG&f=1", "display_name": "the coder", "link": "https://stackoverflow.com/users/11939257/the-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1574248617, "creation_date": 1574248617, "question_id": 58953081, "link": "https://stackoverflow.com/questions/58953081/how-to-know-if-appbar-is-scrolled-in-flutter", "title": "How to know if appbar is scrolled in flutter?", "body": "<p>I've used the sliver appbar widget to create a UI, but my problem is that I can't control the scroll.</p>\n\n<p>what I want is when it scrolled the text color changes and vice versa.</p>\n\n<p>my code:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:flutter/material.dart';\n\nclass Sliver extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: NestedScrollView(\n        headerSliverBuilder: (context, isScrolled) {\n          return &lt;Widget&gt;[\n            SliverAppBar(\n              backgroundColor: Colors.white,\n              title: Text(\n                'Alexander Sebastian',\n                style: TextStyle(\n                  color: isScrolled ? Colors.black : Colors.white,\n                ),\n              ),\n            ),\n          ];\n        },\n        body: Center(\n          child: Text(\n            'Body',\n          ),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["flutter", "dart", "android-fingerprint-api"], "answers": [{"comments": [{"owner": {"reputation": 576, "user_id": 12338762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ebf97d2dc327075326bc9963e0b4b44?s=128&d=identicon&r=PG&f=1", "display_name": "Maritn Ge", "link": "https://stackoverflow.com/users/12338762/maritn-ge"}, "edited": false, "score": 0, "creation_date": 1574262921, "post_id": 58956825, "comment_id": 104170712, "body": "I tried it in the initState, and it works perfectly, the only issue i now still have i forgot to add earlier was that i have no idea how to do this without a popup or if this is even possible. But thanks so far!"}], "tags": [], "owner": {"reputation": 256, "user_id": 4776988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0348ab28ef9a9fbe694367600f28aaa?s=128&d=identicon&r=PG&f=1", "display_name": "amit", "link": "https://stackoverflow.com/users/4776988/amit"}, "is_accepted": true, "score": 1, "last_activity_date": 1574260525, "creation_date": 1574260525, "answer_id": 58956825, "question_id": 58952524, "link": "https://stackoverflow.com/questions/58952524/is-there-a-way-in-flutter-to-wait-for-fingerprint-input/58956825#58956825", "title": "Is there a way in flutter to wait for fingerprint input", "body": "<p>You have two options:\n1. Call LocalAuth or Touch_Method in init().\n2. You can use timer function to call LocalAuth function.</p>\n"}], "owner": {"reputation": 576, "user_id": 12338762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ebf97d2dc327075326bc9963e0b4b44?s=128&d=identicon&r=PG&f=1", "display_name": "Maritn Ge", "link": "https://stackoverflow.com/users/12338762/maritn-ge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 474, "favorite_count": 0, "accepted_answer_id": 58956825, "answer_count": 1, "score": 0, "last_activity_date": 1574262716, "creation_date": 1574246921, "last_edit_date": 1574262716, "question_id": 58952524, "link": "https://stackoverflow.com/questions/58952524/is-there-a-way-in-flutter-to-wait-for-fingerprint-input", "title": "Is there a way in flutter to wait for fingerprint input", "body": "<p>What I want to do is have a lock screen that is always listening for a fingerprint and which then switches page, and I am not sure how to implement this. I have tried around and found it it is easy to just have a button and then call a function with that button that checks for fingerprints.</p>\n\n<p>My question basically is if I can constantly wait for the fingerprint sensor to be activated, and then automatically switches pages without anything else being done.</p>\n\n<p>Edit: If possible, it would be great if I would not need a popup. Now, i call the fingerprint with</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>try {\n  didAuthenticate = await _localAuthentication.authenticateWithBiometrics(\n      localizedReason: 'Please authenticate to show account balance',\n      useErrorDialogs: false);\n} catch (e) {\n  print(e);\n}\nif (!mounted) return;\nif (didAuthenticate = true) {\n  Navigator.pushReplacement(\n    context,\n    MaterialPageRoute(builder: (context) =&gt; MenuAppPage()),\n  );\n}\n</code></pre>\n\n<p>On <a href=\"https://pub.dev/packages/local_auth\" rel=\"nofollow noreferrer\">https://pub.dev/packages/local_auth</a> I didn't find another way to do this, so if anyone has any hints, that'd be great</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 953, "user_id": 3864551, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/f3ays.jpg?s=128&g=1", "display_name": "Julien Lachal", "link": "https://stackoverflow.com/users/3864551/julien-lachal"}, "edited": false, "score": 0, "creation_date": 1574244666, "post_id": 58951626, "comment_id": 104159634, "body": "I fail to see what indicates that you deal with messages in your code, did you forger to include that?"}, {"owner": {"reputation": 1591, "user_id": 7637261, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c0326f15d9df0ae22ef8eab48729fcba?s=128&d=identicon&r=PG&f=1", "display_name": "EddyG", "link": "https://stackoverflow.com/users/7637261/eddyg"}, "reply_to_user": {"reputation": 953, "user_id": 3864551, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/f3ays.jpg?s=128&g=1", "display_name": "Julien Lachal", "link": "https://stackoverflow.com/users/3864551/julien-lachal"}, "edited": false, "score": 0, "creation_date": 1574244798, "post_id": 58951626, "comment_id": 104159711, "body": "@JulienLachal I only want to display a text widget on the icon of the BottomNavigationBarItem. This is the only thing I am not able to do."}, {"owner": {"reputation": 953, "user_id": 3864551, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/f3ays.jpg?s=128&g=1", "display_name": "Julien Lachal", "link": "https://stackoverflow.com/users/3864551/julien-lachal"}, "edited": false, "score": 0, "creation_date": 1574244840, "post_id": 58951626, "comment_id": 104159735, "body": "yes but, did you try? and if so, how?"}, {"owner": {"reputation": 1591, "user_id": 7637261, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c0326f15d9df0ae22ef8eab48729fcba?s=128&d=identicon&r=PG&f=1", "display_name": "EddyG", "link": "https://stackoverflow.com/users/7637261/eddyg"}, "reply_to_user": {"reputation": 953, "user_id": 3864551, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/f3ays.jpg?s=128&g=1", "display_name": "Julien Lachal", "link": "https://stackoverflow.com/users/3864551/julien-lachal"}, "edited": false, "score": 0, "creation_date": 1574244938, "post_id": 58951626, "comment_id": 104159813, "body": "@JulienLachal sure I tried. I couldn&#39;t find any attribute in BottomNavigationBarItem that allows me to do so."}, {"owner": {"reputation": 1591, "user_id": 7637261, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c0326f15d9df0ae22ef8eab48729fcba?s=128&d=identicon&r=PG&f=1", "display_name": "EddyG", "link": "https://stackoverflow.com/users/7637261/eddyg"}, "reply_to_user": {"reputation": 953, "user_id": 3864551, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/f3ays.jpg?s=128&g=1", "display_name": "Julien Lachal", "link": "https://stackoverflow.com/users/3864551/julien-lachal"}, "edited": false, "score": 0, "creation_date": 1574245017, "post_id": 58951626, "comment_id": 104159854, "body": "@JulienLachal have a look here in stack overflow on the &quot;Recent inbox messages&quot; icon, when you receive new message, how it shows &quot;1&quot; on the icon. I want to do the same."}, {"owner": {"reputation": 56, "user_id": 9458075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0TyCb.png?s=128&g=1", "display_name": "Harshil Jasoliya", "link": "https://stackoverflow.com/users/9458075/harshil-jasoliya"}, "edited": false, "score": 1, "creation_date": 1574245205, "post_id": 58951626, "comment_id": 104159969, "body": "Refer this: <a href=\"https://stackoverflow.com/questions/45155104/displaying-notification-badge-on-bottomnavigationbars-icon\" title=\"displaying notification badge on bottomnavigationbars icon\">stackoverflow.com/questions/45155104/&hellip;</a>"}, {"owner": {"reputation": 1591, "user_id": 7637261, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c0326f15d9df0ae22ef8eab48729fcba?s=128&d=identicon&r=PG&f=1", "display_name": "EddyG", "link": "https://stackoverflow.com/users/7637261/eddyg"}, "reply_to_user": {"reputation": 953, "user_id": 3864551, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/f3ays.jpg?s=128&g=1", "display_name": "Julien Lachal", "link": "https://stackoverflow.com/users/3864551/julien-lachal"}, "edited": false, "score": 0, "creation_date": 1574245609, "post_id": 58951626, "comment_id": 104160219, "body": "@JulienLachal I tried the proposed answers, the icon attribute is not accepting a Stack. Can you try it on your side. Maybe in latest version it is not possible to use Stack for icon attribute!"}, {"owner": {"reputation": 1591, "user_id": 7637261, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c0326f15d9df0ae22ef8eab48729fcba?s=128&d=identicon&r=PG&f=1", "display_name": "EddyG", "link": "https://stackoverflow.com/users/7637261/eddyg"}, "reply_to_user": {"reputation": 953, "user_id": 3864551, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/f3ays.jpg?s=128&g=1", "display_name": "Julien Lachal", "link": "https://stackoverflow.com/users/3864551/julien-lachal"}, "edited": false, "score": 0, "creation_date": 1574261315, "post_id": 58951626, "comment_id": 104169654, "body": "@JulienLachal It worked. I was trying to copy-paste the Stack and it was giving error. I had to erase the BottomNavigationBar and replace it to work. I think it was an IDE (Android Studio) problem. Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 11734591, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NbRBLIv2ILk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfObYOY-otOMe1oZwFHlzl_6G5XUg/photo.jpg?sz=128", "display_name": "Artem Krupp", "link": "https://stackoverflow.com/users/11734591/artem-krupp"}, "edited": false, "score": 0, "creation_date": 1574251127, "post_id": 58953854, "comment_id": 104163429, "body": "If you are experiencing any problems, try removing const before the array in your example"}], "tags": [], "owner": {"reputation": 51, "user_id": 11734591, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NbRBLIv2ILk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfObYOY-otOMe1oZwFHlzl_6G5XUg/photo.jpg?sz=128", "display_name": "Artem Krupp", "link": "https://stackoverflow.com/users/11734591/artem-krupp"}, "is_accepted": true, "score": 1, "last_activity_date": 1574251063, "creation_date": 1574251063, "answer_id": 58953854, "question_id": 58951626, "link": "https://stackoverflow.com/questions/58951626/add-text-widget-on-bottomnavigationbaritem-icon/58953854#58953854", "title": "Add text widget on BottomNavigationBarItem icon", "body": "<p>Instead of an icon, you can put any widget.\nI put there a regular stack with two icons and\nIt works fine: </p>\n\n<pre><code>BottomNavigationBar(\n    items: &lt;BottomNavigationBarItem&gt;[\n      BottomNavigationBarItem(\n        icon: Icon(Icons.home),\n        title: Text('Home'),\n      ),\n      BottomNavigationBarItem(\n        icon: Stack(\n          children: &lt;Widget&gt;[\n            Icon(Icons.message),\n            Positioned(\n              top: 0.0,\n              right: 0.0,\n              child: Icon(\n                Icons.brightness_1,\n                size: 8.0,\n                color: Colors.redAccent,\n              ),\n            ),\n          ],\n        ),\n        title: Text('Messages'),\n      ),\n      BottomNavigationBarItem(\n        icon: Icon(Icons.account_box),\n        title: Text('Profile'),\n      ),\n    ],\n    currentIndex: 1,\n  ),\n</code></pre>\n"}], "owner": {"reputation": 1591, "user_id": 7637261, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c0326f15d9df0ae22ef8eab48729fcba?s=128&d=identicon&r=PG&f=1", "display_name": "EddyG", "link": "https://stackoverflow.com/users/7637261/eddyg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 417, "favorite_count": 0, "accepted_answer_id": 58953854, "answer_count": 1, "score": 0, "last_activity_date": 1574251063, "creation_date": 1574244366, "question_id": 58951626, "link": "https://stackoverflow.com/questions/58951626/add-text-widget-on-bottomnavigationbaritem-icon", "title": "Add text widget on BottomNavigationBarItem icon", "body": "<p>I want to show a small text widget containing a number representing the number of messages that a user received on the bottom right side of the Bottom NavigationBarItem. So if the user has no new messages the text does not appear, and if he has 3 new messages for example, a small circle widget containing \"3\" appears on the Messages icon. </p>\n\n<pre><code>BottomNavigationBar(\n        items: const &lt;BottomNavigationBarItem&gt;[\n          BottomNavigationBarItem(\n            icon: Icon(Icons.home),\n            title: Text('Home'),\n          ),\n          BottomNavigationBarItem(\n            icon: Icon(\n              Icons.message,\n            ),\n            title: Text('Messages'),\n          ),\n          BottomNavigationBarItem(\n            icon: Icon(Icons.account_box),\n            title: Text('Profile'),\n          ),\n        ],\n        currentIndex: 1,\n        onTap: (_onItemTapped),\n      )\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1574246421, "post_id": 58951352, "comment_id": 104160746, "body": "yes, <code>variable.isNaN</code> - why do you think it is not working?"}, {"owner": {"reputation": 251, "user_id": 7103429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99687469d75166866115f376c930bb0e?s=128&d=identicon&r=PG&f=1", "display_name": "Davide Bicego", "link": "https://stackoverflow.com/users/7103429/davide-bicego"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1574249321, "post_id": 58951352, "comment_id": 104162390, "body": "@pskink I added some details"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1574249448, "post_id": 58951352, "comment_id": 104162472, "body": "you have <code>converted == double.nan</code>, not <code>converted.isNaN</code>"}, {"owner": {"reputation": 251, "user_id": 7103429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99687469d75166866115f376c930bb0e?s=128&d=identicon&r=PG&f=1", "display_name": "Davide Bicego", "link": "https://stackoverflow.com/users/7103429/davide-bicego"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1574249487, "post_id": 58951352, "comment_id": 104162503, "body": "@pskink tried both!!!"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1574249574, "post_id": 58951352, "comment_id": 104162550, "body": "no, <code>isNaN</code> is working just fine: <code>var nan = double.nan;   print(nan);   print(nan.isNaN);</code>"}, {"owner": {"reputation": 251, "user_id": 7103429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99687469d75166866115f376c930bb0e?s=128&d=identicon&r=PG&f=1", "display_name": "Davide Bicego", "link": "https://stackoverflow.com/users/7103429/davide-bicego"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1574249720, "post_id": 58951352, "comment_id": 104162636, "body": "Ok, you are right.. maybe debugging I didn&#39;t reloaded the right way. Thank you"}], "answers": [{"comments": [{"owner": {"reputation": 251, "user_id": 7103429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99687469d75166866115f376c930bb0e?s=128&d=identicon&r=PG&f=1", "display_name": "Davide Bicego", "link": "https://stackoverflow.com/users/7103429/davide-bicego"}, "edited": false, "score": 0, "creation_date": 1574245424, "post_id": 58951946, "comment_id": 104160118, "body": "Yeah, i know, in fact I&#39;ve initializated it before my if statement"}], "tags": [], "owner": {"reputation": 4516, "user_id": 5734205, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zUbjwE44mmU/AAAAAAAAAAI/AAAAAAAAAYA/ooNUZ4dCzfE/photo.jpg?sz=128", "display_name": "Ravinder Kumar", "link": "https://stackoverflow.com/users/5734205/ravinder-kumar"}, "is_accepted": true, "score": 1, "last_activity_date": 1574245218, "creation_date": 1574245218, "answer_id": 58951946, "question_id": 58951352, "link": "https://stackoverflow.com/questions/58951352/why-checking-if-double-is-nan-doesnt-work-in-dart/58951946#58951946", "title": "Why checking if double is NaN doesn&#39;t work in Dart?", "body": "<p>It is working fine. However, you might want to initialize your variable because in dart everything is Object(any int, float, bool etc) and default values of the object are <strong>Null</strong>.</p>\n\n<pre><code>  var myVar = 0.0;\n    if (myVar.isNaN)\n      print('Not a number');\n    else\n      print('${myVar} is a number');\n</code></pre>\n"}], "owner": {"reputation": 251, "user_id": 7103429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99687469d75166866115f376c930bb0e?s=128&d=identicon&r=PG&f=1", "display_name": "Davide Bicego", "link": "https://stackoverflow.com/users/7103429/davide-bicego"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 337, "favorite_count": 0, "accepted_answer_id": 58951946, "answer_count": 1, "score": 0, "last_activity_date": 1574249265, "creation_date": 1574243529, "last_edit_date": 1574249265, "question_id": 58951352, "link": "https://stackoverflow.com/questions/58951352/why-checking-if-double-is-nan-doesnt-work-in-dart", "title": "Why checking if double is NaN doesn&#39;t work in Dart?", "body": "<p>Is there a working way to check if a double variable is NaN?</p>\n\n<p>I tried:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>variable.isNaN\nvariable == double.nan\n</code></pre>\n\n<p>Here the complete code:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>bool isValidQuantity(String s) {\n  double converted = toDouble(s);\n  if (converted == double.nan || converted &lt; 0) {\n    return false;\n  }\n  return true;\n}\n</code></pre>\n\n<p><code>toDouble()</code> is a function of the library validators version 2.0.0+1</p>\n\n<p>It just returns <code>double.nan</code> in this case so I don't get why false isn't returned by the <code>isValidQuantity()</code> function</p>\n"}, {"tags": ["android", "ios", "flutter", "dart", "back"], "answers": [{"tags": [], "owner": {"reputation": 420, "user_id": 4138212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/702f04c4fc4192e7c7849315c51c07cb?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas", "link": "https://stackoverflow.com/users/4138212/lukas"}, "is_accepted": true, "score": 3, "last_activity_date": 1574244167, "creation_date": 1574244167, "answer_id": 58951560, "question_id": 58951312, "link": "https://stackoverflow.com/questions/58951312/flutter-how-to-refresh-the-last-page-state-on-navigator-pop/58951560#58951560", "title": "Flutter, How to refresh the last page state on Navigator.pop", "body": "<p>you can call a method to refresh your first page state after the second screen is popped.</p>\n\n<p>p1:</p>\n\n<pre><code>refreshState() {\n  // change your state to refresh the screen\n}\n\nNavigator.push(context, MaterialPageRoute(builder: (context) =&gt; p2()),).then((res) =&gt; refreshPage());\n</code></pre>\n\n<p>p2:</p>\n\n<pre><code>Navigator.pop(context);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4149, "user_id": 5715935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1659768280958223/picture?type=large", "display_name": "Jay Mungara", "link": "https://stackoverflow.com/users/5715935/jay-mungara"}, "is_accepted": false, "score": 2, "last_activity_date": 1574333307, "last_edit_date": 1574333307, "creation_date": 1574244962, "answer_id": 58951837, "question_id": 58951312, "link": "https://stackoverflow.com/questions/58951312/flutter-how-to-refresh-the-last-page-state-on-navigator-pop/58951837#58951837", "title": "Flutter, How to refresh the last page state on Navigator.pop", "body": "<p>Yes, you can.</p>\n\n<p>When you push a new page you can have its pop callback.</p>\n\n<pre><code>// If you want to get particular type of data arguments, then can add it with MaterialPageRoute&lt;Data_Type_Value_You_Want_In_Return&gt;\nNavigator.push(context, MaterialPageRoute&lt;bool&gt;(builder: (context) =&gt; page2()),).then((bool res) {\n      // check here if you got your data or not\n      if(res!=null &amp;&amp; res==true){\n        refreshPage();\n      }\n    });\n</code></pre>\n\n<p>In your next screen</p>\n\n<pre><code>// Let say if i want to pass bool value arguments then pass it inside pop method.\nNavigator.of(context).pop(true);\n</code></pre>\n\n<p>So, in flutter you can pass get pop callback as well as arguments. </p>\n"}], "owner": {"reputation": 190, "user_id": 12184173, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FI9NxIP31ys/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcVeziBVVKYzoIP2ZXbb3W5xtcK4w/photo.jpg?sz=128", "display_name": "Simon B", "link": "https://stackoverflow.com/users/12184173/simon-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1775, "favorite_count": 0, "accepted_answer_id": 58951560, "answer_count": 2, "score": 0, "last_activity_date": 1574333307, "creation_date": 1574243393, "question_id": 58951312, "link": "https://stackoverflow.com/questions/58951312/flutter-how-to-refresh-the-last-page-state-on-navigator-pop", "title": "Flutter, How to refresh the last page state on Navigator.pop", "body": "<p>I have to pages, p1 and p2. When you launch the app, you're on p1 and can open p2. I want that when you leave p2 with the back button, the p1 state refresh (like calling again initState() without creating a new route with Navigator.push or using WillPopScope).</p>\n\n<p>Is it possible ?</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1574239158, "post_id": 58949794, "comment_id": 104156393, "body": "If you want your class to have UI, it needs to be a Widget (either Stateful or Stateless) because that class is what Flutter expects and it contains all the data and logic necessary for Flutter to translate that class into a graphic on the screen. If you give Flutter just some random class and expect it to read your mind and know what to do with it, you&#39;re going to have a bad time."}, {"owner": {"reputation": 2015, "user_id": 12402503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9o7In.png?s=128&g=1", "display_name": "Federick Jonathan", "link": "https://stackoverflow.com/users/12402503/federick-jonathan"}, "reply_to_user": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1574239453, "post_id": 58949794, "comment_id": 104156541, "body": "Both snippets work perfectly fine tho, returning FloatingActionButton. I want to know which approach is better in actual implementation and the reasons."}, {"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1574239670, "post_id": 58949794, "comment_id": 104156647, "body": "Then you need to show how you are using the second snippet, because it can&#39;t be used as is in a way most Flutter widgets would expect. (You can&#39;t for example, use the non-Widget class as the child of a container. i.e. This code wouldn&#39;t compile: <code>Container(child: FloatingActionButtonBuilder2(...))</code>)"}, {"owner": {"reputation": 2015, "user_id": 12402503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9o7In.png?s=128&g=1", "display_name": "Federick Jonathan", "link": "https://stackoverflow.com/users/12402503/federick-jonathan"}, "reply_to_user": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1574241709, "post_id": 58949794, "comment_id": 104157852, "body": "Where should I put the implementation, should I just edit my post?"}, {"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1574241948, "post_id": 58949794, "comment_id": 104157987, "body": "Edit your post to show how you are implementing <b>both</b> snippets."}, {"owner": {"reputation": 2015, "user_id": 12402503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9o7In.png?s=128&g=1", "display_name": "Federick Jonathan", "link": "https://stackoverflow.com/users/12402503/federick-jonathan"}, "reply_to_user": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1574243158, "post_id": 58949794, "comment_id": 104158715, "body": "I&#39;ve edited the question, don&#39;t know how to resize the .gif"}], "answers": [{"comments": [{"owner": {"reputation": 2015, "user_id": 12402503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9o7In.png?s=128&g=1", "display_name": "Federick Jonathan", "link": "https://stackoverflow.com/users/12402503/federick-jonathan"}, "edited": false, "score": 0, "creation_date": 1574241816, "post_id": 58950019, "comment_id": 104157912, "body": "I&#39;m not sure... because both classes have return type Widget not necessarily needs to extend Stateful or Stateless."}, {"owner": {"user_type": "does_not_exist", "display_name": "user12152162"}, "reply_to_user": {"reputation": 2015, "user_id": 12402503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9o7In.png?s=128&g=1", "display_name": "Federick Jonathan", "link": "https://stackoverflow.com/users/12402503/federick-jonathan"}, "edited": false, "score": 0, "creation_date": 1574247926, "post_id": 58950019, "comment_id": 104161632, "body": "@FederickJonathan It is not mandatory to return a widget in normal classes."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user12152162"}, "is_accepted": false, "score": 1, "last_activity_date": 1577936088, "last_edit_date": 1577936088, "creation_date": 1574239360, "answer_id": 58950019, "question_id": 58949794, "link": "https://stackoverflow.com/questions/58949794/what-is-the-difference-between-class-extends-statelesswidget-with-override-build/58950019#58950019", "title": "What is the difference between class extends StatelessWidget with override build function and regular class with my own function", "body": "<p>The difference is that if you extend a class with <strong><a href=\"https://api.flutter.dev/flutter/widgets/StatefulWidget-class.html\" rel=\"nofollow noreferrer\">Stateful</a></strong> or <strong><a href=\"https://api.flutter.dev/flutter/widgets/StatelessWidget-class.html\" rel=\"nofollow noreferrer\">Stateless</a></strong> widget then, the class itself becomes a widget class which will returns a widget. In simple, if you extend a class with Stateful or Stateless widget you will need to override the <strong>build</strong> function which usually create a widget or we can returns a widget :D </p>\n\n<p>I suggest you to first learn more about class widget(<strong>Stateful</strong> and <strong>Statless</strong>), I assure you that you will understand how it works. </p>\n"}, {"comments": [{"owner": {"reputation": 2015, "user_id": 12402503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9o7In.png?s=128&g=1", "display_name": "Federick Jonathan", "link": "https://stackoverflow.com/users/12402503/federick-jonathan"}, "edited": false, "score": 0, "creation_date": 1574244632, "post_id": 58951384, "comment_id": 104159613, "body": "Let&#39;s say I have a generic class that has 2 build methods which return RaisedButton and CupertinoButton. I can write those 2 methods easily with the B approach. But with the A approach which is the better one, I need to make 2 different classes that extends StatefulWidget because it only runs the @override build method ...right?"}, {"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "reply_to_user": {"reputation": 2015, "user_id": 12402503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9o7In.png?s=128&g=1", "display_name": "Federick Jonathan", "link": "https://stackoverflow.com/users/12402503/federick-jonathan"}, "edited": false, "score": 0, "creation_date": 1574245224, "post_id": 58951384, "comment_id": 104159984, "body": "@FederickJonathan You could also just have those methods within the widget class and call one or both of them from the build method. Of course, the more idiomatic way would be to implement both types of buttons as separate widget classes."}, {"owner": {"reputation": 2015, "user_id": 12402503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9o7In.png?s=128&g=1", "display_name": "Federick Jonathan", "link": "https://stackoverflow.com/users/12402503/federick-jonathan"}, "edited": false, "score": 0, "creation_date": 1574246322, "post_id": 58951384, "comment_id": 104160679, "body": "Thank you very much guys. My curiosity has been answered completely."}], "tags": [], "owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "is_accepted": true, "score": 2, "last_activity_date": 1574408593, "last_edit_date": 1574408593, "creation_date": 1574243602, "answer_id": 58951384, "question_id": 58949794, "link": "https://stackoverflow.com/questions/58949794/what-is-the-difference-between-class-extends-statelesswidget-with-override-build/58951384#58951384", "title": "What is the difference between class extends StatelessWidget with override build function and regular class with my own function", "body": "<p>Per your edit, there is a key difference between your two approaches - the class in approach A <em>is</em> a widget, whereas the class in approach B merely includes a method that <em>returns</em> a widget.</p>\n\n<p>To Flutter, this difference is very significant. When you define a new widget, Flutter uses that widget class to track visual elements in the widget tree for changes. It is capable of detecting when a widget is changed and needs to be redrawn, and it is very good at doing so without affecting any more of the widget tree than is absolutely necessary.</p>\n\n<p>However, if you are creating widgets through a method call, Flutter cannot detect you are doing this, so you lose out on these kinds of optimizations. This is why when you are refactoring your UI code to break it into modular pieces, it is the official Flutter recommendation to break the UI code into new widget classes rather than into separate methods in the same widget class.</p>\n\n<p>A more semantic description is this. In approach A, the widget class has a build method as an inherent effect of being a widget class. This build method is called by Flutter, and the widget it returns becomes a child of the widget class itself. (You can see this if you view the widget tree in the Dart DevTools.) In approach B, the build method is just another method that happens to return a widget. That widget will become the child of whatever other widgets you are passing it to where you call the method (in your case, the <code>Scaffold</code>). As such, there is no inherent relationship between the widget being built and the class itself. This lack of relationship will manifest in a fragile widget tree and an incredibly sloppy UI management as a whole, resulting in an app that is held together with twine and prayers.</p>\n\n<p>Another reason to not use the second approach? It makes your code more verbose for no good reason. Compare the implementation of approach A with approach B - everything in the parentheses is identical, but approach B requires the additional call to the build method itself, and you would have to do this everywhere you used your \"not-a-widget\" class. You've traded conciseness of the code in the UI declaration for not having to type <code>StatelessWidget</code> in one place... a terrible trade.</p>\n\n<p>Furthermore, if your class isn't a proper widget, it isn't capable of taking advantage of all the widget lifecycle events. Want to be notified when the widget is initialized? When it is in the process of updating? When it is being navigated to/away from? When it is being disposed? What about if you want to <em>trigger</em> an update? Assuming it's even possible, all that would be a royal pain to implement with a generic class, whereas all that functionality is readily available when your class extends <code>StatefulWidget</code> (plus in trying to force it to work in approach B, you'd likely just end up reinventing <code>StatefulWidget</code> from scratch anyway).</p>\n\n<p>In short, there is literally almost never a good reason to have a generic non-widget class with a builder method that you manually call. If you have UI code, it belongs in a widget class (unless you have a <em>very</em> good reason otherwise).</p>\n"}], "owner": {"reputation": 2015, "user_id": 12402503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9o7In.png?s=128&g=1", "display_name": "Federick Jonathan", "link": "https://stackoverflow.com/users/12402503/federick-jonathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 724, "favorite_count": 1, "accepted_answer_id": 58951384, "answer_count": 2, "score": 2, "last_activity_date": 1577936088, "creation_date": 1574238524, "last_edit_date": 1574242998, "question_id": 58949794, "link": "https://stackoverflow.com/questions/58949794/what-is-the-difference-between-class-extends-statelesswidget-with-override-build", "title": "What is the difference between class extends StatelessWidget with override build function and regular class with my own function", "body": "<p>I am new to Flutter and still don't know how to do things the CORRECT way. I hope the title is clear enough because I don't know the proper keyword to address this. First snippet extends StatelessWidget:</p>\n\n<pre><code>class FloatingActionButtonBuilder extends StatelessWidget {\n  final Function function;\n  final String text;\n  final String toolTip;\n  final IconData icon;\n\n  const FloatingActionButtonBuilder({\n    Key key,\n    @required this.function,\n    @required this.text,\n    @required this.toolTip,\n    this.icon,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return FloatingActionButton.extended(\n      onPressed: function,\n      foregroundColor: Colors.white,\n      tooltip: '$toolTip',\n      icon: Icon(\n        icon,\n      ),\n      label: Text(\n        '$text',\n        style: TextStyle(\n          fontSize: 16.0,\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>Second snippet a regular class:</p>\n\n<pre><code>class FloatingActionButtonBuilder2 {\n  final BuildContext context;\n  final Function function;\n  final String text;\n\n  const FloatingActionButtonBuilder2({\n    @required this.context,\n    @required this.function,\n    @required this.text,\n  });\n\n  Widget buildFAB(String toolTip, IconData icon) {\n    return FloatingActionButton.extended(\n      onPressed: function,\n      foregroundColor: Colors.white,\n      tooltip: '$toolTip',\n      icon: Icon(\n        icon,\n      ),\n      label: Text(\n        '$text',\n        style: TextStyle(\n          fontSize: 16.0,\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>The one I've been using is the regular one. Initially, I made the extends StatelessWidget but then I decided not to because I assumed there's no difference anyway and didn't think much about it. Now, out of nowhere my brain wants to know what the experts think about this particular case, in depth suggestions are deeply appreciated. And I noticed that with override build function I don't need BuildContext as a dependency.</p>\n\n<p><strong>EDIT</strong>:\nSnippet of page using extends StatelessWidget (floatingActionButton property of Scaffold):</p>\n\n<pre><code>class Test extends StatefulWidget {\n  @override\n  _TestState createState() =&gt; _TestState();\n}\n\nclass _TestState extends State&lt;Test&gt; {\n  final String text = 'PUSH';\n  final IconData icon = Icons.add;\n\n  void push() {\n    Navigator.of(context).push(\n      MaterialPageRoute(\n        builder: (context) =&gt; Test3(),\n      ),\n    );\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      floatingActionButton: FloatingActionButtonBuilder(\n        function: push,\n        text: text,\n        toolTip: text,\n        icon: icon,\n      ),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          crossAxisAlignment: CrossAxisAlignment.center,\n          children: &lt;Widget&gt;[\n            Text(\n              'PUSH PAGE',\n              style: TextStyle(\n                fontSize: 32.0,\n              ),\n            ),\n            Text(\n              'EXTENDS CLASS',\n              style: TextStyle(\n                fontSize: 32.0,\n              ),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>Snippet of page using regular class (floatingActionButton property of Scaffold):</p>\n\n<pre><code>class Test3 extends StatefulWidget {\n  @override\n  _Test3State createState() =&gt; _Test3State();\n}\n\nclass _Test3State extends State&lt;Test3&gt; {\n  final String text = 'POP';\n  final IconData icon = Icons.remove;\n\n  void pop() {\n    Navigator.of(context).pop();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      floatingActionButton: FloatingActionButtonBuilder2(\n        context: context,\n        function: pop,\n        text: text,\n      ).buildFAB(text, icon),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          crossAxisAlignment: CrossAxisAlignment.center,\n          children: &lt;Widget&gt;[\n            Text(\n              'POP PAGE',\n              style: TextStyle(\n                fontSize: 32.0,\n              ),\n            ),\n            Text(\n              'REGULAR CLASS',\n              style: TextStyle(\n                fontSize: 32.0,\n              ),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/I5zqf.gif?\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I5zqf.gif?\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["arrays", "database", "firebase", "flutter", "dart"], "comments": [{"owner": {"reputation": 1252, "user_id": 8595331, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/cmELl.jpg?s=128&g=1", "display_name": "ChyperX", "link": "https://stackoverflow.com/users/8595331/chyperx"}, "edited": false, "score": 0, "creation_date": 1574237752, "post_id": 58949514, "comment_id": 104155743, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/48937864/firestore-queries-on-flutter\">Firestore queries on Flutter</a>"}, {"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1574237788, "post_id": 58949514, "comment_id": 104155757, "body": "Lookup a tutorial on Firebase and Flutter. There are loads of them."}, {"owner": {"reputation": 270, "user_id": 11939257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fed73c4ddecc101f1d949de1fe1161a?s=128&d=identicon&r=PG&f=1", "display_name": "the coder", "link": "https://stackoverflow.com/users/11939257/the-coder"}, "edited": false, "score": 0, "creation_date": 1574238287, "post_id": 58949514, "comment_id": 104155984, "body": "suggest me a one, please"}, {"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1574239000, "post_id": 58949514, "comment_id": 104156315, "body": "StackOverflow is a site for problems and solutions, not a forum to ask for recommendations. The tutorials are literally a Google search away."}], "answers": [{"tags": [], "owner": {"reputation": 935, "user_id": 11813065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i3OUZ.jpg?s=128&g=1", "display_name": "Haroon Ashraf Awan", "link": "https://stackoverflow.com/users/11813065/haroon-ashraf-awan"}, "is_accepted": false, "score": 0, "last_activity_date": 1574272186, "last_edit_date": 1574272186, "creation_date": 1574246523, "answer_id": 58952392, "question_id": 58949514, "link": "https://stackoverflow.com/questions/58949514/how-to-work-with-query-in-firebase-with-flutter/58952392#58952392", "title": "How to work with query in firebase with flutter?", "body": "<p>Use this query in StreamBuilder and retrieve data through it.</p>\n\n<p>stream: Firestore.instance.collection('free').snapshots()</p>\n\n<p>In stream we can get all documents.</p>\n\n<p>Finally we can get item  by accessing first document .ie data[0].In the first document we will get ['list'] and in that list we will get the first item which is item 4.</p>\n\n<p>snapshot.data[0]['list'][0]</p>\n"}], "owner": {"reputation": 270, "user_id": 11939257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fed73c4ddecc101f1d949de1fe1161a?s=128&d=identicon&r=PG&f=1", "display_name": "the coder", "link": "https://stackoverflow.com/users/11939257/the-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574272186, "creation_date": 1574237462, "question_id": 58949514, "link": "https://stackoverflow.com/questions/58949514/how-to-work-with-query-in-firebase-with-flutter", "title": "How to work with query in firebase with flutter?", "body": "<p>I want to create a query which contains all the documents in the free collection which have in the field list the value item2</p>\n\n<p><a href=\"https://i.stack.imgur.com/1Ra2x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Ra2x.png\" alt=\"\"></a></p>\n"}, {"tags": ["flutter", "dart", "ssid"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 12286920, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8F79Bwh1xmw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdg2uiHauxzEa5c9L7K9XRTzatiGw/photo.jpg?sz=128", "display_name": "Nicholas Santi", "link": "https://stackoverflow.com/users/12286920/nicholas-santi"}, "edited": false, "score": 0, "creation_date": 1574238161, "post_id": 58949556, "comment_id": 104155909, "body": "Thanks I will try"}], "tags": [], "owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "is_accepted": true, "score": 0, "last_activity_date": 1574237612, "creation_date": 1574237612, "answer_id": 58949556, "question_id": 58949493, "link": "https://stackoverflow.com/questions/58949493/how-to-read-wi-fi-ssid-in-both-platforms-ios/58949556#58949556", "title": "How to read Wi-Fi SSID in both platforms | iOS", "body": "<p>That plugin doesn't support iOS, and short of implementing the iOS side yourself that probably isn't going to change any time soon. Use the <a href=\"https://pub.dev/packages/connectivity\" rel=\"nofollow noreferrer\">connectivity</a> plugin instead:</p>\n\n<pre><code>var wifiBSSID = await Connectivity().getWifiBSSID();\nvar wifiIP = await Connectivity().getWifiIP();\nvar wifiName = await Connectivity().getWifiName();\n</code></pre>\n\n<p>The plugin documentation describes what steps to take to get it enabled for iOS.</p>\n"}], "owner": {"reputation": 37, "user_id": 12286920, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8F79Bwh1xmw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdg2uiHauxzEa5c9L7K9XRTzatiGw/photo.jpg?sz=128", "display_name": "Nicholas Santi", "link": "https://stackoverflow.com/users/12286920/nicholas-santi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 58949556, "answer_count": 1, "score": -1, "last_activity_date": 1574237612, "creation_date": 1574237380, "question_id": 58949493, "link": "https://stackoverflow.com/questions/58949493/how-to-read-wi-fi-ssid-in-both-platforms-ios", "title": "How to read Wi-Fi SSID in both platforms | iOS", "body": "<p>I need to read Wi-Fi SSID from a Flutter app.</p>\n\n<p>I am using <a href=\"https://pub.dev/packages/wifi\" rel=\"nofollow noreferrer\">this plugin</a></p>\n\n<p>I use in a async function this code </p>\n\n<pre><code>String _SSID = await Wifi.ssid;\n</code></pre>\n\n<p>How can I configure the iOS platform in Xcode to make it work? Now it returns null.</p>\n"}, {"tags": ["flutter", "dart", "stack", "draggable", "flutter-layout"], "answers": [{"tags": [], "owner": {"reputation": 353, "user_id": 6146879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9d7c5bf599cdeb0e0501d30d9ec4218?s=128&d=identicon&r=PG&f=1", "display_name": "Mi Be", "link": "https://stackoverflow.com/users/6146879/mi-be"}, "is_accepted": false, "score": 0, "last_activity_date": 1574238557, "creation_date": 1574238557, "answer_id": 58949807, "question_id": 58949248, "link": "https://stackoverflow.com/questions/58949248/flutter-drag-draggable-stack-item-inside-a-draggable-stack-item/58949807#58949807", "title": "Flutter: Drag Draggable Stack item inside a Draggable Stack Item", "body": "<p>Ok, it was my mistake not of the framework:\non <strong>itemStackBuilder.dart</strong> I used an additional <code>Container</code> to size the <code>Stack</code>. I was not able to recognise, because color was transparent:</p>\n\n<pre><code>      Container(\n          height: structureMap[itemKey].size.height,\n          width: structureMap[itemKey].size.width,\n          color: Colors.transparent),\n    ]);\n  }\n</code></pre>\n\n<p>After deleting this part, all works fine for now.</p>\n"}], "owner": {"reputation": 353, "user_id": 6146879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9d7c5bf599cdeb0e0501d30d9ec4218?s=128&d=identicon&r=PG&f=1", "display_name": "Mi Be", "link": "https://stackoverflow.com/users/6146879/mi-be"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 731, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574238557, "creation_date": 1574236374, "question_id": 58949248, "link": "https://stackoverflow.com/questions/58949248/flutter-drag-draggable-stack-item-inside-a-draggable-stack-item", "title": "Flutter: Drag Draggable Stack item inside a Draggable Stack Item", "body": "<p>I have a <code>Draggable</code> on a <code>DragTarget</code> as part of a <code>Stack</code>. Inside is another <code>Stack</code> with <code>Draggables</code>, again on <code>DragTargets</code> and so on... (<code>Stack</code>  over <code>Stack</code> over <code>Stack</code> etc.).\nThe <code>Draggable</code> is a <code>Positioned</code> with a <code>Listener</code> telling where to be placed.\n<a href=\"https://i.stack.imgur.com/G4cZS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G4cZS.png\" alt=\"enter image description here\"></a>\n<strong>homeView.dart</strong></p>\n\n<pre><code>body: Stack(children: [\n   DraggableWidget(parentKey, Offset(0, 0)),\n]),\n</code></pre>\n\n<p><strong>draggableWidget.dart</strong></p>\n\n<pre><code>class DraggableWidget extends StatefulWidget {\n  final Key itemKey;\n  final Offset itemPosition;\n  DraggableWidget(this.itemKey, this.itemPosition);\n\n  @override\n  _DraggableWidgetState createState() =&gt; _DraggableWidgetState();\n}\n\nclass _DraggableWidgetState extends State&lt;DraggableWidget&gt; {\n  Offset tempDelta = Offset(0, 0);\n  Window&lt;List&lt;Key&gt;&gt; item;\n  List&lt;DraggableWidget&gt; childList = [];\n  Map&lt;Key, Window&lt;List&gt;&gt; structureMap;\n\n  initState() {\n    super.initState();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    structureMap = Provider.of&lt;Data&gt;(context).structureMap;\n\n    if (structureMap[widget.itemKey] != null) {\n      structureMap[widget.itemKey].childKeys.forEach(\n            (k) =&gt; childList.add(\n              DraggableWidget(k, item.position),\n            ),\n          );\n    } else {\n      structureMap[widget.itemKey] = Window&lt;List&lt;Key&gt;&gt;(\n          title: 'App',\n          key: widget.itemKey,\n          size: Size(MediaQuery.of(context).size.width,\n              MediaQuery.of(context).size.height),\n          position: Offset(0, 0),\n          color: Colors.blue,\n          childKeys: []);\n    }\n    item = Provider.of&lt;Data&gt;(context).structureMap[widget.itemKey];\n\n    return Positioned(\n      top: item.position.dx,\n      left: item.position.dy,\n      child: DragTarget(\n        builder:\n            (buildContext, List&lt;Window&lt;List&lt;Key&gt;&gt;&gt; candidateData, rejectData) {\n          return Listener(\n            onPointerDown: (PointerDownEvent event) {},\n            onPointerUp: (PointerUpEvent event) {\n              setState(() {\n                item.position = Offset(item.position.dx + tempDelta.dx,\n                    item.position.dy + tempDelta.dy);\n                tempDelta = Offset(0, 0);\n              });\n            },\n            onPointerMove: (PointerMoveEvent event) {\n              tempDelta = Offset((event.delta.dy + tempDelta.dx),\n                  (event.delta.dx + tempDelta.dy));\n            },\n            child: Draggable(\n                childWhenDragging: Container(),\n                feedback: Container(\n                  color: item.color,\n                  height: item.size.height,\n                  width: item.size.width,\n                ),\n                child: Column(children: [\n                  Text(item.title),\n                  Container(\n                    color: item.color,\n                    height: item.size.height,\n                    width: item.size.width,\n                    child: ItemStackBuilder(widget.itemKey, item.position),\n                  ),\n                ]),\n                data: item),\n          );\n        },\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p><strong>itemStackBuilder.dart</strong></p>\n\n<pre><code>class ItemStackBuilder extends StatelessWidget {\n  final Key itemKey;\n  final Offset itemPosition;\n\n  ItemStackBuilder(this.itemKey, this.itemPosition);\n  @override\n  Widget build(BuildContext context) {\n    Map&lt;Key, Window&lt;List&lt;Key&gt;&gt;&gt; structureMap =\n        Provider.of&lt;Data&gt;(context).structureMap;\n    if (structureMap[itemKey] == null) {\n      structureMap[itemKey] = Window(size: Size(20, 20), childKeys: []);\n    }\n\n    return Stack(overflow: Overflow.visible, children: [\n      ...stackItems(context),\n      Container(\n          height: structureMap[itemKey].size.height,\n          width: structureMap[itemKey].size.width,\n          color: Colors.transparent),\n    ]);\n  }\n\n  List&lt;Widget&gt; stackItems(BuildContext context) {\n    List&lt;Key&gt; childKeyList =\n        Provider.of&lt;Data&gt;(context).structureMap[itemKey].childKeys;\n    var stackItemDraggable;\n    List&lt;Widget&gt; stackItemsList = [];\n    if (childKeyList == null || childKeyList.length &lt; 1) {\n      stackItemsList = [Container()];\n    } else {\n      for (int i = 0; i &lt; childKeyList.length; i++) {\n        stackItemDraggable = DraggableWidget(childKeyList[i], itemPosition);\n        stackItemsList.add(stackItemDraggable);\n      }\n    }\n    return stackItemsList;\n  }\n}\n\n</code></pre>\n\n<p>When I want to move the <code>Draggable</code> item on top, the underlying <code>Stack</code> moves.</p>\n\n<p>I tried it with a <code>Listener</code> widget and was able to detect all <code>RenderBoxes</code> inside the <code>Stack</code>.</p>\n\n<p>But how can I select the specific <code>Draggable</code> and/or disable all the other layers? Is it a better idea to forget about <code>Draggables</code> and do it all with <code>Positioned</code> and <code>GestureDetector</code>?</p>\n"}, {"tags": ["flutter", "dart", "flutter-layout"], "answers": [{"comments": [{"owner": {"reputation": 4516, "user_id": 5734205, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zUbjwE44mmU/AAAAAAAAAAI/AAAAAAAAAYA/ooNUZ4dCzfE/photo.jpg?sz=128", "display_name": "Ravinder Kumar", "link": "https://stackoverflow.com/users/5734205/ravinder-kumar"}, "edited": false, "score": 0, "creation_date": 1574234936, "post_id": 58948787, "comment_id": 104154559, "body": "You can also try <a href=\"https://www.youtube.com/watch?v=PEsY654EGZ0\" rel=\"nofollow noreferrer\">FractionallySizedBox</a>"}], "tags": [], "owner": {"reputation": 4516, "user_id": 5734205, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zUbjwE44mmU/AAAAAAAAAAI/AAAAAAAAAYA/ooNUZ4dCzfE/photo.jpg?sz=128", "display_name": "Ravinder Kumar", "link": "https://stackoverflow.com/users/5734205/ravinder-kumar"}, "is_accepted": true, "score": 1, "last_activity_date": 1574234465, "creation_date": 1574234465, "answer_id": 58948787, "question_id": 58948539, "link": "https://stackoverflow.com/questions/58948539/align-row-items-in-specific-position-inside-a-column-widget/58948787#58948787", "title": "Align row items in specific position inside a column widget", "body": "<p>Use <strong>Expanded</strong> and <strong>flex</strong> to achieve this,</p>\n\n<pre><code>  Widget values(String title, String value, bool isAmount) {\n    return Row(\n      children: &lt;Widget&gt;[\n        Expanded(\n          flex: 3,\n          child: Text(\n            title,\n            style: TextStyle(fontWeight: FontWeight.bold, color: Colors.grey),\n          ),\n        ),\n        Spacer(),\n        Expanded(\n          flex: 7,\n          child: Text(\n            value,\n            style: TextStyle(\n              color: isAmount ? Color(0xFF34B3C1) : Colors.black87,\n            ),\n          ),\n        ),\n        Spacer(),\n      ],\n    );\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3228, "user_id": 8700937, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100002557288121/picture?type=large", "display_name": "Farwa", "link": "https://stackoverflow.com/users/8700937/farwa"}, "edited": false, "score": 0, "creation_date": 1574236706, "post_id": 58949007, "comment_id": 104155313, "body": "Can you make it more understandable with a sample code? This might help others as well."}], "tags": [], "owner": {"reputation": 82, "user_id": 12246792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28cab9b5c597c8c6852de3e2d0e8b5ef?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/12246792/adrian"}, "is_accepted": false, "score": 1, "last_activity_date": 1574257809, "last_edit_date": 1574257809, "creation_date": 1574235397, "answer_id": 58949007, "question_id": 58948539, "link": "https://stackoverflow.com/questions/58948539/align-row-items-in-specific-position-inside-a-column-widget/58949007#58949007", "title": "Align row items in specific position inside a column widget", "body": "<p>It could also work by putting <strong>Text('Date')</strong>, <strong>Text(':')</strong> and <strong>Text('Description')</strong>, <strong>Text(':')</strong> inside <strong>children[]</strong> and set Align to spaceBetween. \nFor the values of Date and Description you put them also inside a Row() which is build inside first Row().</p>\n\n<p>Both of the Text Widgets <strong>Date</strong> and <strong>:</strong>, <strong>Description</strong> and <strong>:</strong> can be placed inside Container()</p>\n\n<pre><code> child: Row(\n          mainAxisAlignment: MainAxisAlignment.spaceBetween,\n          children: &lt;Widget&gt;[\n            Row(\n              children: &lt;Widget&gt;[\n                Container(\n                  padding: const EdgeInsets.only(right: 12.0, left: 12.0),\n                  decoration: new BoxDecoration(\n                    border: new Border(\n                      right: new BorderSide(width: 1.0, color: Colors.black26)\n                    )\n                  ),\n                  child: Icon(Icons.person),\n                ),\n                Container(\n                  constraints: BoxConstraints(maxWidth: 250),\n                  padding: const EdgeInsets.only(left: 12.0, right: 12.0),\n                  child: Text(\n                    document['name'],\n                    overflow: TextOverflow.ellipsis,\n                  ),\n                ), \n              ],\n            ),\n            Container(\n              padding: const EdgeInsets.only(right: 12.0),\n              child: Row(\n                children: &lt;Widget&gt;[\n                  Text('0'),\n                  Text('/'),\n                  Text(document['value'].toString())\n                ],)\n            )          \n          ]\n        ),\n</code></pre>\n\n<p>Hope it helps!</p>\n"}], "owner": {"reputation": 3228, "user_id": 8700937, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100002557288121/picture?type=large", "display_name": "Farwa", "link": "https://stackoverflow.com/users/8700937/farwa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 1, "accepted_answer_id": 58948787, "answer_count": 2, "score": 0, "last_activity_date": 1574257809, "creation_date": 1574233454, "question_id": 58948539, "link": "https://stackoverflow.com/questions/58948539/align-row-items-in-specific-position-inside-a-column-widget", "title": "Align row items in specific position inside a column widget", "body": "<p>Having difficulties in positioning row items inside the column widget in a specific marginal position like this image: </p>\n\n<p><a href=\"https://i.stack.imgur.com/MfJZ1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MfJZ1.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>Padding(\n    padding: const EdgeInsets.all(10.0),\n    child: Column(\n      children: &lt;Widget&gt;[\n        values('Date', ': ${DateFormat('MMM dd, yyyy, hh:mm a').format(DateTime.parse(date))}', false),\n        values('Description', ': $description', false),\n      ],\n    ),\n  ),\n\n\n\nWidget values(String title, String value, bool isAmount) {\n    return Row(\n      children: &lt;Widget&gt;[\n        Text(\n          title,\n          style: TextStyle(fontWeight: FontWeight.bold, color: Colors.grey),\n        ),\n        Spacer(),\n        Text(\n          value,\n          style: TextStyle(\n            color: isAmount ? Color(0xFF34B3C1) : Colors.black87,\n          ),\n        ),\n        Spacer(),\n      ],\n    );\n  }\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1574232096, "post_id": 58948173, "comment_id": 104153410, "body": "try <code>json</code>, not <code>JSON</code>, more here: <a href=\"https://api.flutter.dev/flutter/dart-convert/json-constant.html\" rel=\"nofollow noreferrer\">api.flutter.dev/flutter/dart-convert/json-constant.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4516, "user_id": 5734205, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zUbjwE44mmU/AAAAAAAAAAI/AAAAAAAAAYA/ooNUZ4dCzfE/photo.jpg?sz=128", "display_name": "Ravinder Kumar", "link": "https://stackoverflow.com/users/5734205/ravinder-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1574233188, "last_edit_date": 1574233188, "creation_date": 1574232138, "answer_id": 58948232, "question_id": 58948173, "link": "https://stackoverflow.com/questions/58948173/how-to-convert-json-into-string-in-flutter/58948232#58948232", "title": "How to convert json into string in flutter", "body": "<p>It should be <strong>json</strong> not <strong>JSON</strong>, Also make sure to import <a href=\"https://api.dart.dev/stable/2.6.1/dart-convert/dart-convert-library.html\" rel=\"nofollow noreferrer\">dart-convert-library</a> </p>\n\n<pre><code>import 'dart:convert';\n\nvar dataConvertedToJSON = json.decode(snapshot.data.toString());\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1252, "user_id": 8595331, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/cmELl.jpg?s=128&g=1", "display_name": "ChyperX", "link": "https://stackoverflow.com/users/8595331/chyperx"}, "is_accepted": true, "score": 1, "last_activity_date": 1574232508, "creation_date": 1574232508, "answer_id": 58948304, "question_id": 58948173, "link": "https://stackoverflow.com/questions/58948173/how-to-convert-json-into-string-in-flutter/58948304#58948304", "title": "How to convert json into string in flutter", "body": "<p>Add import</p>\n\n<pre><code>import 'dart:convert';\n</code></pre>\n\n<p>and then Change your code</p>\n\n<pre><code>var mydata = JSON.decode(snapshot.data.toString());\n</code></pre>\n\n<p>to</p>\n\n<pre><code>var mydata = json.decode(snapshot.data.toString());\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8354119"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 0, "accepted_answer_id": 58948304, "answer_count": 2, "score": 0, "last_activity_date": 1574233188, "creation_date": 1574231902, "question_id": 58948173, "link": "https://stackoverflow.com/questions/58948173/how-to-convert-json-into-string-in-flutter", "title": "How to convert json into string in flutter", "body": "<pre><code> var mydata = JSON.decode(snapshot.data.toString());\n</code></pre>\n\n<p>when I convert JSON file data to string it throws \"Undefine name JSON\"</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "edited": false, "score": 0, "creation_date": 1574230955, "post_id": 58947223, "comment_id": 104153023, "body": "Can you continue with a detailed &quot;this is what I observe and this is what I want to see instead&quot;?"}], "owner": {"reputation": 13, "user_id": 9325992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa6da6a717d492ed41a06c244364159e?s=128&d=identicon&r=PG&f=1", "display_name": "dma", "link": "https://stackoverflow.com/users/9325992/dma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 3, "answer_count": 0, "score": 1, "last_activity_date": 1574234019, "creation_date": 1574227285, "last_edit_date": 1574234019, "question_id": 58947223, "link": "https://stackoverflow.com/questions/58947223/futurebuilder-firestore-pagination", "title": "FutureBuilder Firestore Pagination", "body": "<p>I want to implement pagination in FutureBuilder I use SliverGrid I want to download 10 by 10 items when the user reaches the last row</p>\n\n<p>Initially the user gets 10 documents, I want that when the user scroll down, he will get another 10 documents ,and start from the last document.</p>\n\n<p>FutureBuilder, here I fetch data from Firestore then I use that data to build item inside SliverGrid</p>\n\n<pre><code>@override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        centerTitle: true,\n        title: Text(\n          'title',\n          style: TextStyle(\n            fontWeight: FontWeight.bold,\n          ),\n        ),\n      ),\n      drawer: CustomDrawer(),\n      body: FutureBuilder&lt;QuerySnapshot&gt;(\n        future: database.fetchData(categoryChoosen),\n        builder: (context, snapshot) {\n          if (!snapshot.hasData) {\n            return LoadingMainScreen();\n          }\n\n          List&lt;Product&gt; products = List&lt;Product&gt;();\n\n          // add each product to the products list\n          snapshot.data.documents.forEach((doc) {\n            Product newProduct = Product.fromMap(doc);\n            products.add(newProduct);\n          });\n\n          return CustomScrollView(\n            slivers: &lt;Widget&gt;[\n              _buildCategoryList(),\n              _buildGridProductList(products),\n            ],\n          );\n        },\n      ),\n      floatingActionButton: FloatingActionButton(\n        child: Icon(\n          Icons.add_shopping_cart,\n          size: 30,\n        ),\n        onPressed: addProduct,\n      ),\n    );\n  }\n</code></pre>\n\n<p>Here, Fetch data by product category</p>\n\n<pre><code>class DatabaseService {\n  final Firestore _db = Firestore.instance;\n\n  fetchData(String category) {\n    if (category != 'all') {\n      return _db\n          .collection('products')\n          .where('category', isEqualTo: category)\n          .orderBy('timestamp', descending: true)\n          .limit(10)\n          .getDocuments();\n    }\n    return _db\n        .collection('products')\n        .orderBy('timestamp', descending: true)\n        .limit(10)\n        .getDocuments();\n  }\n\n}\n\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 320, "user_id": 11944104, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-f6yYt9EPQDM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re52YjF__mXuL1s2C2_REdQbI-gPg/photo.jpg?sz=128", "display_name": "AKushWarrior", "link": "https://stackoverflow.com/users/11944104/akushwarrior"}, "edited": false, "score": 0, "creation_date": 1574227508, "post_id": 58947253, "comment_id": 104151985, "body": "Thanks! That&#39;s what I presumed, but I wasn&#39;t sure. I&#39;ll make sure to use it in future projects."}], "tags": [], "owner": {"reputation": 4000, "user_id": 64435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c6505a4c95f8bc5e703ad9d86c8482e3?s=128&d=identicon&r=PG", "display_name": "MichaelM", "link": "https://stackoverflow.com/users/64435/michaelm"}, "is_accepted": false, "score": 2, "last_activity_date": 1574227434, "creation_date": 1574227434, "answer_id": 58947253, "question_id": 58947187, "link": "https://stackoverflow.com/questions/58947187/is-there-an-efficiency-reason-to-use-the-syntax-for-getters-in-dart/58947253#58947253", "title": "Is there an efficiency reason to use the =&gt; syntax for getters in dart?", "body": "<p>From the <a href=\"https://dart.dev/guides/language/language-tour#functions\" rel=\"nofollow noreferrer\">Dart Language tour</a>:</p>\n\n<blockquote>\n  <p>The <code>=&gt; expr</code> syntax is a shorthand for <code>{ return expr; }</code>.</p>\n</blockquote>\n\n<p>There isn't a performance improvement from using one or the other, arrow functions are just more concise and (in my opinion) quite often easier to read.</p>\n"}, {"comments": [{"owner": {"reputation": 1252, "user_id": 8595331, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/cmELl.jpg?s=128&g=1", "display_name": "ChyperX", "link": "https://stackoverflow.com/users/8595331/chyperx"}, "edited": false, "score": 0, "creation_date": 1574228010, "post_id": 58947275, "comment_id": 104152131, "body": "@AKushWarrior Please accept the answer once your doubt or issue is solved out, someone might get use of it. thanks"}, {"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1574237229, "post_id": 58947275, "comment_id": 104155531, "body": "The parentheses after a getter is a syntax error in Dart. This code would not compile."}, {"owner": {"reputation": 320, "user_id": 11944104, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-f6yYt9EPQDM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re52YjF__mXuL1s2C2_REdQbI-gPg/photo.jpg?sz=128", "display_name": "AKushWarrior", "link": "https://stackoverflow.com/users/11944104/akushwarrior"}, "edited": false, "score": 0, "creation_date": 1574391263, "post_id": 58947275, "comment_id": 104225674, "body": "Sorry about the late acceptance, there is a time limit before you can accept."}], "tags": [], "owner": {"reputation": 1252, "user_id": 8595331, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/cmELl.jpg?s=128&g=1", "display_name": "ChyperX", "link": "https://stackoverflow.com/users/8595331/chyperx"}, "is_accepted": true, "score": 2, "last_activity_date": 1574237560, "last_edit_date": 1574237560, "creation_date": 1574227544, "answer_id": 58947275, "question_id": 58947187, "link": "https://stackoverflow.com/questions/58947187/is-there-an-efficiency-reason-to-use-the-syntax-for-getters-in-dart/58947275#58947275", "title": "Is there an efficiency reason to use the =&gt; syntax for getters in dart?", "body": "<p>That fat arrow <code>=&gt;</code> syntax is just a short hand for returning an expression and is similar to,</p>\n\n<pre><code>int getSomething () { \n   return something; \n}\n</code></pre>\n\n<p>you can find about this and more in <a href=\"https://dart.dev/guides/language/language-tour\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 320, "user_id": 11944104, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-f6yYt9EPQDM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re52YjF__mXuL1s2C2_REdQbI-gPg/photo.jpg?sz=128", "display_name": "AKushWarrior", "link": "https://stackoverflow.com/users/11944104/akushwarrior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 58947275, "answer_count": 2, "score": 1, "last_activity_date": 1574237560, "creation_date": 1574227083, "question_id": 58947187, "link": "https://stackoverflow.com/questions/58947187/is-there-an-efficiency-reason-to-use-the-syntax-for-getters-in-dart", "title": "Is there an efficiency reason to use the =&gt; syntax for getters in dart?", "body": "<p>So, coming from Java, I'm used to writing traditional syntax for Dart. Thus, I have a tendency to write my getters:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>int get foo {\n   return 0;\n}\n</code></pre>\n\n<p>However, I've found the => syntax, which is more concise:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>int get foo =&gt; 0;\n</code></pre>\n\n<p>I can't find what exactly this => syntax does: is it just shorthand, or does it have an efficiency boost? If it's the latter, then I will port my current projects to using it; otherwise, I will just follow the convention in the future. (I can't provide a specific example, due to some strict regulations on sharing code.)</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1574237368, "post_id": 58947181, "comment_id": 104155581, "body": "In what order do the print calls execute?"}], "answers": [{"comments": [{"owner": {"reputation": 1607, "user_id": 5421713, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/e7a5cef7ca9cc75cca5df49deaa5b211?s=128&d=identicon&r=PG&f=1", "display_name": "Mikethetechy", "link": "https://stackoverflow.com/users/5421713/mikethetechy"}, "edited": false, "score": 0, "creation_date": 1574307290, "post_id": 58949962, "comment_id": 104188473, "body": "nice! you were correct, it&#39;s a async call so it was calling after <code>runApp()</code>"}], "tags": [], "owner": {"reputation": 1792, "user_id": 9942346, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xgDzwMLWI-8/AAAAAAAAAAI/AAAAAAAAAkA/T9WQvF9kaQw/photo.jpg?sz=128", "display_name": "Guillaume Roux", "link": "https://stackoverflow.com/users/9942346/guillaume-roux"}, "is_accepted": true, "score": 1, "last_activity_date": 1574239147, "creation_date": 1574239147, "answer_id": 58949962, "question_id": 58947181, "link": "https://stackoverflow.com/questions/58947181/why-does-my-global-variable-keeps-getting-set-back-to-default-when-switching-pag/58949962#58949962", "title": "why does my global variable keeps getting set back to default when switching pages?", "body": "<p>It might not be that it is set back to null but because it is an async process your print execute before your value is set.\nYour print in startingApp will always display the correct value because it is in the same method.\nTry running startingAppFunction() before your runApp(). (using <code>then</code> might be a good option too)</p>\n\n<pre><code>void main(){\n    startingAppFunction().then((_) {\n        runApp(MyApp());\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 1607, "user_id": 5421713, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/e7a5cef7ca9cc75cca5df49deaa5b211?s=128&d=identicon&r=PG&f=1", "display_name": "Mikethetechy", "link": "https://stackoverflow.com/users/5421713/mikethetechy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 58949962, "answer_count": 1, "score": 0, "last_activity_date": 1574239147, "creation_date": 1574227048, "question_id": 58947181, "link": "https://stackoverflow.com/questions/58947181/why-does-my-global-variable-keeps-getting-set-back-to-default-when-switching-pag", "title": "why does my global variable keeps getting set back to default when switching pages?", "body": "<p>I have a <code>GlobalVariables.dart</code> where i store all the global variables.</p>\n\n<pre><code>library lumieres.globals;\n\n\nString appLanguage;\nbool languageChanged = false;\nString appMode = 'dev';\n</code></pre>\n\n<p>in my <code>main.dart</code> file, I'm checking if shared preference contains 'user', if not I am setting the language to be english.</p>\n\n<pre><code>import 'package:shared_preferences/shared_preferences.dart';\nimport 'dart:convert';\n\nimport 'package:intl/intl.dart';\nimport 'GlobalVariables.dart' as globals;\n\n\n\n// void main() =&gt; runApp(MyApp());\n\nvoid main(){\n\n  runApp(MyApp());\n\n  startingAppFunction();\n\n}\n\n\nstartingAppFunction() async{\n\n\n  print('calling startingappfunction from main');\n  SharedPreferences sharedpref = await SharedPreferences.getInstance();\n  var user = sharedpref.getString('user');\n\n   if (user != \"\" &amp;&amp; user != null) {\n      var decodedUser = json.decode(user);\n\n      globals.appLanguage = decodedUser['lang'];\n\n\n   }else{\n\n     globals.appLanguage = \"EN\";\n   }\n\n   print('here is the app language from main dart');\n   print(globals.appLanguage); //prints EN which is correct but on homepage it says null\n\n\n}\n</code></pre>\n\n<p>But in my homepage, it's set back to <code>null</code> seems like the global variable is some how getting set back to <code>String appLanguage;</code> which is null. </p>\n\n<pre><code>import 'GlobalVariables.dart' as globals;\n\n\n\nclass HomePage extends StatefulWidget {\n\n  @override\n  _HomePageState createState() =&gt; _HomePageState();\n}\n\nclass _HomePageState extends State&lt;HomePage&gt; {\n\n  //limiting all results to only 6\n\n  // var refreshKey = GlobalKey&lt;RefreshIndicatorState&gt;();\n   Future&lt;String&gt; dataFuture;\n\n  @override\n  void initState(){\n    super.initState();\n\n\n\n  print('printing from home page...');\n\n  print(globals.appLanguage); //prints null\n\n }\n\n}\n</code></pre>\n\n<p>what am I missing? I followed this suggestion from this stackoverflow answer: <a href=\"https://stackoverflow.com/questions/29182581/global-variables-in-dart\">Global Variables in Dart</a></p>\n"}, {"tags": ["asynchronous", "dart"], "answers": [{"comments": [{"owner": {"reputation": 9969, "user_id": 1227166, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GrxLO.jpg?s=128&g=1", "display_name": "Michel Feinstein", "link": "https://stackoverflow.com/users/1227166/michel-feinstein"}, "edited": false, "score": 0, "creation_date": 1574260100, "post_id": 58948845, "comment_id": 104168894, "body": "Hmm.... I guess my whole confusion is due to the lack of documentation on <code>Future</code>s that are not waited, just created and left for the event loop to process them. All the docs I have seen always have an <code>await</code> or a <code>then</code>."}], "tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": true, "score": 1, "last_activity_date": 1574259995, "last_edit_date": 1574259995, "creation_date": 1574234650, "answer_id": 58948845, "question_id": 58946924, "link": "https://stackoverflow.com/questions/58946924/pass-method-reference-as-an-async-call-in-dart/58948845#58948845", "title": "Pass method reference as an async call in Dart", "body": "<p>In short: Yes. The two pieces of code that you show are almost completely equivalent. Both call <code>myLib.work</code> and complete a future when the call's asynchronous computation completes.\nYou could probably also just write:</p>\n\n<pre><code>RaisedButton(\n  onPressed: myLib.work, \n)\n</code></pre>\n\n<p>and it would still do the same thing.</p>\n\n<p>However, I am not absolutely sure I understand what you mean by an \"asynchronous call\".</p>\n\n<p>Dart function objects are not split into asynchronous functions and non-asynchronous functions that are called differently. They <em>can</em> be split into those returning <code>Future</code>s and those which don't, but you <em>call</em> them the same way. I assume that <code>myLib.work</code> returns a <code>Future</code>. You may then choose to <code>await</code> the result, but that's not part of the call.</p>\n\n<p><em>Calling</em> a function is not itself asynchronous, it's always synchronous - it returns a value before computation continues. That value might be a <code>Future</code> which will be completed later when an asynchronous computation has completed, but the <em>function</em> returns synchronously.</p>\n\n<p>So, when you bind a <code>void Function()</code> method to the <code>onPressed</code> event, it will eventually call that function, ignore the return value, and continue synchronously.</p>\n\n<p>If that function is <code>myLib.work</code>, then it calls <code>myLib.work</code> and ignores the returned <code>Future</code>. When the asynchronous work of <code>work</code> is done, it will complete the returned future, which nobody will notice.</p>\n\n<p>If the function is <code>myFunc</code>, then it calls <code>myFunc</code> which immediately calls <code>myLib.work</code> and remembers the returned future. Then <code>myFunc</code> synchronously returns a new <code>Future</code> (which is ignored) and starts waiting (because of the <code>await</code>) on the future returned by <code>myLib.work</code>. When that future completes the <code>await</code> is done, and then the <code>myFunc</code> body is done, and finally the new <code>Future</code> is also completed. Again, nobody notices.</p>\n\n<p>If the function is <code>() async =&gt; await myFunc()</code> then that function is called. It immediately calls <code>myFunc</code>, which immediately calls <code>myLib.work</code>, which returns a <code>Future</code> that <code>myFunc</code> starts waiting for and then returns a <code>Future</code>, which the function expression starts waiting for and then returns a <code>Future</code>, which is then ignored.\nEventually all these functions are completed, and nobody notices.</p>\n\n<p>\"If a future completes and nobody is listening, does it make an event?\" </p>\n"}], "owner": {"reputation": 9969, "user_id": 1227166, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GrxLO.jpg?s=128&g=1", "display_name": "Michel Feinstein", "link": "https://stackoverflow.com/users/1227166/michel-feinstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 58948845, "answer_count": 1, "score": 0, "last_activity_date": 1574259995, "creation_date": 1574225555, "question_id": 58946924, "link": "https://stackoverflow.com/questions/58946924/pass-method-reference-as-an-async-call-in-dart", "title": "Pass method reference as an async call in Dart", "body": "<p>Is it possible to pass an <code>async</code> method as an <code>async</code> call in Dart?</p>\n\n<p>For example, if I want to simplify this code:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>...\n\nvoid myFunc() async {\n  await myLib.work();\n}\n\n...\n\nRaisedButton(\n  onPressed: () async { await myFunc(); },\n)\n\n</code></pre>\n\n<p>to this:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>...\n\nvoid myFunc() async {\n  await myLib.work();\n}\n\n...\n\nRaisedButton(\n  onPressed: myFunc,\n)\n\n</code></pre>\n\n<p>Passing <code>myFunc</code> just as a reference and still maintain that each time <code>myFunc</code> is called from <code>onPressed</code> as a callback, it will be an asynchronous call.</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 4516, "user_id": 5734205, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zUbjwE44mmU/AAAAAAAAAAI/AAAAAAAAAYA/ooNUZ4dCzfE/photo.jpg?sz=128", "display_name": "Ravinder Kumar", "link": "https://stackoverflow.com/users/5734205/ravinder-kumar"}, "edited": false, "score": 0, "creation_date": 1574231054, "post_id": 58946570, "comment_id": 104153054, "body": "Check my answer here, This might help you <a href=\"https://stackoverflow.com/a/58800596/5734205\">stackoverflow.com/a/58800596/5734205</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6468030"}, "reply_to_user": {"reputation": 4516, "user_id": 5734205, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zUbjwE44mmU/AAAAAAAAAAI/AAAAAAAAAYA/ooNUZ4dCzfE/photo.jpg?sz=128", "display_name": "Ravinder Kumar", "link": "https://stackoverflow.com/users/5734205/ravinder-kumar"}, "edited": false, "score": 0, "creation_date": 1574233125, "post_id": 58946570, "comment_id": 104153763, "body": "Thank you so much. I will test the solution you provided. I think its not a duplication as what his requirement and mine is kinda different."}, {"owner": {"reputation": 4516, "user_id": 5734205, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zUbjwE44mmU/AAAAAAAAAAI/AAAAAAAAAYA/ooNUZ4dCzfE/photo.jpg?sz=128", "display_name": "Ravinder Kumar", "link": "https://stackoverflow.com/users/5734205/ravinder-kumar"}, "edited": false, "score": 0, "creation_date": 1574233584, "post_id": 58946570, "comment_id": 104153962, "body": "Okay, you can upload single and multiple images through my solution."}], "answers": [{"tags": [], "owner": {"reputation": 4149, "user_id": 5715935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1659768280958223/picture?type=large", "display_name": "Jay Mungara", "link": "https://stackoverflow.com/users/5715935/jay-mungara"}, "is_accepted": false, "score": 1, "last_activity_date": 1574224916, "creation_date": 1574224916, "answer_id": 58946825, "question_id": 58946570, "link": "https://stackoverflow.com/questions/58946570/how-to-upload-image-to-server-api-with-flutter/58946825#58946825", "title": "How to upload image to server API with Flutter", "body": "<p>You can upload image using multipart or base64 Encode. </p>\n\n<p>For uploading image using multipart Visit the <a href=\"https://pub.dev/documentation/http/latest/http/MultipartRequest-class.html\" rel=\"nofollow noreferrer\">Official documentation</a></p>\n\n<p>For uploading image using base64 Encode you can checkout the <a href=\"https://www.coderzheaven.com/2019/04/30/upload-image-in-flutter-using-php/\" rel=\"nofollow noreferrer\">Tutorial Here</a></p>\n\n<p>I suggest using multipart image upload as it is even reliable when your image or files are larger in size.</p>\n"}, {"tags": [], "owner": {"reputation": 1252, "user_id": 8595331, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/cmELl.jpg?s=128&g=1", "display_name": "ChyperX", "link": "https://stackoverflow.com/users/8595331/chyperx"}, "is_accepted": false, "score": 0, "last_activity_date": 1574226193, "creation_date": 1574226193, "answer_id": 58947021, "question_id": 58946570, "link": "https://stackoverflow.com/questions/58946570/how-to-upload-image-to-server-api-with-flutter/58947021#58947021", "title": "How to upload image to server API with Flutter", "body": "<p>Hope this could help you,</p>\n\n<p>create a function to upload your image after picking or clicking an image like,</p>\n\n<pre><code>Future&lt;ResponseModel&gt; uploadPhoto(\n  String _token,\n  File _image,\n  String _path,\n) async {\n  Dio dio = new Dio();\n  FormData _formdata = new FormData();\n  _formdata.add(\"photo\", new UploadFileInfo(_image, _path));\n  final response = await dio.post(\n    baseUrl + '/image/upload',\n    data: _formdata,\n    options: Options(\n      method: 'POST',\n      headers: {\n        authTokenHeader: _token,\n      },\n      responseType: ResponseType.json,\n    ),\n  );\n  if (response.statusCode == 200 || response.statusCode == 500) {\n    return ResponseModel.fromJson(json.decode(response.toString()));\n  } else {\n    throw Exception('Failed to upload!');\n  }\n}\n</code></pre>\n\n<p>then you can use use uploadImage,</p>\n\n<pre><code>uploadImage(_token, _image,_image.uri.toFilePath()).then((ResponseModel response) {\n   //do something with the response\n});\n</code></pre>\n\n<p>I have used Dio for the task, you can find more detail about dio <a href=\"https://pub.dev/packages/dio#-readme-tab-\" rel=\"nofollow noreferrer\">here</a> </p>\n\n<p>Add this to your package's pubspec.yaml file:</p>\n\n<pre><code>dependencies:\n  dio: ^3.0.5\n</code></pre>\n\n<p>Then import it in your Dart code, you can use:</p>\n\n<pre><code>import 'package:dio/dio.dart';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6777, "user_id": 4853133, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/3GSSn.jpg?s=128&g=1", "display_name": "Quick learner", "link": "https://stackoverflow.com/users/4853133/quick-learner"}, "is_accepted": false, "score": 0, "last_activity_date": 1574231423, "creation_date": 1574231423, "answer_id": 58948067, "question_id": 58946570, "link": "https://stackoverflow.com/questions/58946570/how-to-upload-image-to-server-api-with-flutter/58948067#58948067", "title": "How to upload image to server API with Flutter", "body": "<p>To upload image using multipart API use this code ie </p>\n\n<p>Add this library <code>dio</code> in your project in <code>pubspec.yaml</code> file</p>\n\n<pre><code>dio: ^3.0.5\n</code></pre>\n\n<p>and import this in your class</p>\n\n<pre><code>import 'package:dio/dio.dart';\n</code></pre>\n\n<p>Declare this variable in your class like <code>State&lt;CustomClass&gt;</code></p>\n\n<pre><code>static var uri = \"BASE_URL_HERE\";\n  static BaseOptions options = BaseOptions(\n      baseUrl: uri,\n      responseType: ResponseType.plain,\n      connectTimeout: 30000,\n      receiveTimeout: 30000,\n      validateStatus: (code) {\n        if (code &gt;= 200) {\n          return true;\n        }\n      });\n  static Dio dio = Dio(options);\n</code></pre>\n\n<p>then use this method to upload file</p>\n\n<pre><code>Future&lt;dynamic&gt; _uploadFile() async {\n    try {\n      Options options = Options(\n          //contentType: ContentType.parse('application/json'), // only for json type api\n          );\n\n      var directory = await getExternalStorageDirectory(); // directory path\n      final path = await directory.path; // path of the directory\n      Response response = await dio.post('/update_profile',\n          data: FormData.from({\n            \"param_key\": \"value\",\n            \"param2_key\": \"value\",\n            \"param3_key\": \"value\",\n            \"profile_pic_param_key\": UploadFileInfo(File(\"$path/pic.jpg\"), \"pic.jpg\"),\n\n          }),\n          options: options);\n      setState(() {\n        isLoading = false;\n      });\n      if (response.statusCode == 200 || response.statusCode == 201) {\n        var responseJson = json.decode(response.data);\n        return responseJson;\n      } else if (response.statusCode == 401) {\n        print(' response code 401');\n        throw Exception(\"Incorrect Email/Password\");\n      } else\n        throw Exception('Authentication Error');\n    } on DioError catch (exception) {\n      if (exception == null ||\n          exception.toString().contains('SocketException')) {\n        throw Exception(\"Network Error\");\n      } else if (exception.type == DioErrorType.RECEIVE_TIMEOUT ||\n          exception.type == DioErrorType.CONNECT_TIMEOUT) {\n        throw Exception(\n            \"Could'nt connect, please ensure you have a stable network.\");\n      } else {\n        return null;\n      }\n    }\n  }\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6468030"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5493, "favorite_count": 0, "closed_date": 1574998927, "answer_count": 3, "score": 0, "last_activity_date": 1574231423, "creation_date": 1574223215, "question_id": 58946570, "link": "https://stackoverflow.com/questions/58946570/how-to-upload-image-to-server-api-with-flutter", "closed_reason": "Duplicate", "title": "How to upload image to server API with Flutter", "body": "<p>I am new to Flutter development. My problem is that I try to upload the image but I keep getting failed request.</p>\n\n<p>This piece of code is where I connect it with a server API which will receive the image file from Flutter. String attachment which consist of the image path that is passed from createIncident function located at another page.</p>\n\n<pre><code>Future&lt;IncidentCreateResponse&gt; createIncident( String requesterName, String requesterEmail, \n                                              String requesterMobile, String attachment, String title,\n                                              String tags, String body, String teamId,\n                                              String address )  async {\n    IncidentCreateResponse incidentCreateResponse;\n    var url = GlobalConfig.API_BASE_HANDESK + GlobalConfig.API_INCIDENT_CREATE_TICKETS;\n    var token = Auth().loginSession.accessToken;\n    var postBody = new Map&lt;String, dynamic&gt;();\n    postBody[\"requester_name\"] = requesterName;\n    postBody[\"requester_email\"] = requesterEmail;\n    postBody[\"requester_mobile_no\"] = requesterMobile;\n    postBody[\"attachment\"] = attachment;\n    postBody[\"title\"] = title;\n    postBody[\"tags\"] = tags;\n    postBody[\"body\"] = body;\n    postBody[\"teamId\"] = teamId;\n    postBody[\"address\"] = address;\n\n    // Await the http get response, then decode the json-formatted responce.\n    var response = await http.post(\n        url,\n        body: postBody,\n        headers: {\n          'X-APP-ID': GlobalConfig.APP_ID,\n          \"Accept\": \"application/json; charset=UTF-8\",\n          // \"Content-Type\": \"application/x-www-form-urlencoded\",\n          HttpHeaders.authorizationHeader: 'Bearer $token',\n          'token': GlobalConfig.API_INCIDENT_REPORT_TOKEN  \n        }\n      );\n    if ((response.statusCode == 200) || (response.statusCode == 201)) {\n      print(response.body);\n      var data = json.decode(response.body);\n\n      incidentCreateResponse = IncidentCreateResponse.fromJson(data['data']);\n    } else {\n      print(\"createIncident failed with status: ${response.statusCode}.\");\n\n      incidentCreateResponse = null;\n    }\n\n    return incidentCreateResponse;\n  }\n</code></pre>\n\n<p>This is the code snippet where I get the image path from the selected image from the gallery</p>\n\n<pre><code>Future getImageFromGallery(BuildContext context) async {\n    var picture = await ImagePicker.pickImage(source: ImageSource.gallery);\n    setState((){\n      _imageFile = picture;\n      attachment = basename(_imageFile.path);\n    });\n    Navigator.of(context).pop();\n  }\n</code></pre>\n\n<p>This is the code where I passed the attachment string to the HTTP Response</p>\n\n<pre><code>this.incidentService.createIncident(\n     Auth().loginSession.name, \n     Auth().loginSession.email, \n     Auth().loginSession.mobile_no, \n     this.attachment,\n     this._titleController.text, \n     this._tags, \n     this._contentController.text, \n     this._teamId,\n     this._addressController.text\n).then((IncidentCreateResponse res) {\n     if (res != null) {\n        print('Ticket Id: ' + res.id);\n        // Navigator.pop(context);\n        this._successSubmittionDialog(context);\n     } else {\n        this._errorSubmittionDialog(context);\n     }\n}\n</code></pre>\n"}, {"tags": ["flutter", "dart", "flutter-test", "flutter-web"], "owner": {"reputation": 157, "user_id": 10592851, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ONqhJO7jwxo/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDHHRe4GnUODxvxo-JeTGfEj6uNtg/mo/photo.jpg?sz=128", "display_name": "Ruben A. Chevez", "link": "https://stackoverflow.com/users/10592851/ruben-a-chevez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 871, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1601386479, "creation_date": 1574219857, "last_edit_date": 1574222787, "question_id": 58946101, "link": "https://stackoverflow.com/questions/58946101/websocketexception-connection-to-http-localhost1234-ws-was-not-upgraded-t", "title": "WebSocketException: Connection to &#39;http://localhost:1234/ws#&#39; was not upgraded to websocket. Unable to connect to Flutter/Dart VM", "body": "<h1>Description</h1>\n\n<p>I am trying to run a flutter web server and connect to the Dart VM programmatically using the <code>vm_service</code> library. The web server is started successfully but when I try to listen to the socket, I receive the following error:</p>\n\n<p><strong>Unhandled exception: WebSocketException: Connection to '<a href=\"http://localhost:1234/ws#\" rel=\"nofollow noreferrer\">http://localhost:1234/ws#</a>' was not upgraded to websocket</strong></p>\n\n<p>My code is based on the <code>vm_service</code> library example in the link below where the developers start a Dart VM and connect to it. </p>\n\n<p><a href=\"https://github.com/dart-lang/sdk/blob/master/pkg/vm_service/example/vm_service_tester.dart\" rel=\"nofollow noreferrer\">https://github.com/dart-lang/sdk/blob/master/pkg/vm_service/example/vm_service_tester.dart</a></p>\n\n<hr>\n\n<h1>Steps to reproduce</h1>\n\n<p>The origin of the error is the following line:</p>\n\n<pre><code>serviceClient = await vmServiceConnect(host, port, log: new StdoutLog());\n</code></pre>\n\n<p>The complete code is the following:</p>\n\n<pre><code>\nlibrary service_tester;\nimport 'dart:async';\nimport 'dart:collection';\nimport 'dart:convert';\nimport 'dart:io';\nimport 'package:path/path.dart' as path;\nimport 'package:pedantic/pedantic.dart';\nimport 'package:vm_service/vm_service.dart';\nimport 'package:vm_service/vm_service_io.dart';\n// import 'package:test/test.dart';\n\nfinal String host = 'localhost';\nfinal int port = 1234;\nVmService serviceClient;\n\nvoid main() async {\n  Directory current = Directory.current;\n  String sdk = path.dirname(path.dirname(Platform.resolvedExecutable));\n  String fsdk = path.dirname(path.dirname(Platform.resolvedExecutable));\n  // var flutterSDK = new Directory('C:/flutter/bin');  //FOR WINDOWS\n  var flutterSDK = new Directory('/opt/flutter/bin');   //FOR LINUX\n\n  print('Using sdk at ${sdk}');\n  print('Directory ${current.path}');\n  print('Directory ${flutterSDK.path}/flutter');\n\n  var commands = [\"run\", \"--target=lib/main.dart\", \"-d\", \"web\", '--web-port=${port}' ];\n  print('Running command: flutter ${commands.join(\" \")}');\n  Process process = await Process.start('flutter', commands , runInShell: true);\n\n  print('dart process started: ${process.pid}');\n  process.exitCode.then((code) =&gt; print('vm exited: ${code}'));\n  process.stdout.transform(utf8.decoder).listen((v)=&gt;print('STDOUT: $v'));\n  process.stderr.transform(utf8.decoder).listen((v)=&gt;print('STDERR: $v'));\n\n  await new Future.delayed(new Duration(milliseconds: 1 * 60 * 1000));\n  print('\\n\\nConnecting to ${host}:${port}\\n\\n');\n  serviceClient = await vmServiceConnect(host, port, log: new StdoutLog());\n  print('\\n\\nSocket connected to ${host}:${port}\\n\\n');\n  // serviceClient.onSend.listen((str) =&gt; print('--&gt; ${str}'));\n\n  // var checkResponseJsonCompatibility = true;\n  // serviceClient.onReceive.listen((str) =&gt;print('&lt;-- ${str}'));\n  // serviceClient.onIsolateEvent.listen((e) =&gt; print('onIsolateEvent: ${e}'));\n  // serviceClient.onDebugEvent.listen((e) =&gt; print('onDebugEvent: ${e}'));\n  // serviceClient.onGCEvent.listen((e) =&gt; print('onGCEvent: ${e}'));\n  // serviceClient.onStdoutEvent.listen((e) =&gt; print('onStdoutEvent: ${e}'));\n  // serviceClient.onStderrEvent.listen((e) =&gt; print('onStderrEvent: ${e}'));\n\n  // unawaited(serviceClient.streamListen(EventStreams.kIsolate));\n  // unawaited(serviceClient.streamListen(EventStreams.kDebug));\n  // unawaited(serviceClient.streamListen(EventStreams.kStdout));\n\n  VM vm = await serviceClient.getVM();\n  print('hostCPU=${vm.hostCPU}');\n  print(await serviceClient.getVersion());\n\n}\n\nclass StdoutLog extends Log {\n  void warning(String message) =&gt; print(message);\n\n  void severe(String message) =&gt; print(message);\n}\n</code></pre>\n\n<p>My pubspec.yaml file is as follows:</p>\n\n<pre><code>name: demo\ndescription: A new Flutter project.\nversion: 1.0.0+1\nenvironment:\n  sdk: \"&gt;=2.1.0 &lt;3.0.0\"\ndependencies:\n  flutter:\n    sdk: flutter\n  vm_service: ^2.1.1\n  path: ^1.6.4\n  pedantic: ^1.8.0+1\n  # test: ^1.9.4\n  cupertino_icons: ^0.1.2\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\nflutter:\n</code></pre>\n\n<p>The logs from <code>flutter doctor -v</code> are the following:</p>\n\n<pre><code>[\u2713] Flutter (Channel master, v1.12.5-pre.27, on Linux, locale en_US.UTF-8)\n    \u2022 Flutter version 1.12.5-pre.27 at /opt/flutter\n    \u2022 Framework revision 29ab6b549a (8 hours ago), 2019-11-19 11:29:35 -0800\n    \u2022 Engine revision ecb32952ff\n    \u2022 Dart version 2.7.0\n\n[\u2713] Android toolchain - develop for Android devices (Android SDK version 28.0.3)\n    \u2022 Android SDK at /opt/sdk\n    \u2022 Android NDK location not configured (optional; useful for native profiling support)\n    \u2022 Platform android-28, build-tools 28.0.3\n    \u2022 ANDROID_HOME = /opt/sdk\n    \u2022 Java binary at: /usr/local/openjdk-8/bin/java\n    \u2022 Java version OpenJDK Runtime Environment (build 1.8.0_232-b09)\n    \u2022 All Android licenses accepted.\n\n[\u2717] Chrome - develop for the web (Cannot find chrome executable at google-chrome)\n    ! Cannot find Chrome. Try setting CHROME_EXECUTABLE to a Chrome executable.\n\n[!] Android Studio (not installed)\n    \u2022 Android Studio not found; download from https://developer.android.com/studio/index.html\n      (or visit https://flutter.dev/setup/#android-setup for detailed instructions).\n\n[\u2713] Connected device (1 available)\n    \u2022 Web Server \u2022 web-server \u2022 web-javascript \u2022 Flutter Tools\n\n! Doctor found issues in 2 categories.\n</code></pre>\n\n<hr>\n\n<h1>Error Logs</h1>\n\n<pre><code>Running \"flutter pub get\" in project...                             2.8s\nUsing sdk at /usr/lib/dart\nDirectory /project\nDirectory /opt/flutter/bin/flutter\nRunning command: flutter run --target=lib/main.dart -d web --web-port=1234\ndart process started: 56\nSTDOUT: Downloading Web SDK...\nSTDOUT:     3.5s\nSTDOUT:\n\nSTDOUT: Launching lib/main.dart on Web Server in debug mode...\nBuilding application for the web...\nSTDOUT:    31.9s\nlib/main.dart is being served at http://localhost:1234/\n\nWarning: Flutter's support for web development is not stable yet and hasn't\nbeen thoroughly tested in production environments.\nFor more information see https://flutter.dev/web\n\n\nSTDOUT: \ud83d\udd25  To hot restart changes while running, press \"r\". To hot restart (and refresh the browser), press \"R\".\nFor a more detailed help message, press \"h\". To quit, press \"q\".\n\n\n\nConnecting to localhost:1234\n\n\nUnhandled exception:\nWebSocketException: Connection to 'http://localhost:1234/ws#' was not upgraded to websocket\n#0      _WebSocketImpl.connect.&lt;anonymous closure&gt;.error (dart:_http/websocket_impl.dart:1052:9)\n#1      _WebSocketImpl.connect.&lt;anonymous closure&gt; (dart:_http/websocket_impl.dart:1061:14)\n#2      _RootZone.runUnary (dart:async/zone.dart:1379:54)\n#3      _FutureListener.handleValue (dart:async/future_impl.dart:137:18)\n#4      Future._propagateToListeners.handleValueCallback (dart:async/future_impl.dart:678:45)\n#5      Future._propagateToListeners (dart:async/future_impl.dart:707:32)\n#6      Future._completeWithValue (dart:async/future_impl.dart:522:5)\n#7      Future.wait.&lt;anonymous closure&gt; (dart:async/future.dart:400:22)\n#8      _RootZone.runUnary (dart:async/zone.dart:1379:54)\n#9      _FutureListener.handleValue (dart:async/future_impl.dart:137:18)\n#10     Future._propagateToListeners.handleValueCallback (dart:async/future_impl.dart:678:45)\n#11     Future._propagateToListeners (dart:async/future_impl.dart:707:32)\n#12     Future._completeWithValue (dart:async/future_impl.dart:522:5)\n#13     Future._asyncComplete.&lt;anonymous closure&gt; (dart:async/future_impl.dart:552:7)\n#14     _microtaskLoop (dart:async/schedule_microtask.dart:41:21)\n#15     _startMicrotaskLoop (dart:async/schedule_microtask.dart:50:5)\n#16     _runPendingImmediateCallback (dart:isolate-patch/isolate_patch.dart:116:13)\n#17     _RawReceivePortImpl._handleMessage (dart:isolate-patch/isolate_patch.dart:173:5)\n\n</code></pre>\n"}, {"tags": ["list", "arraylist", "flutter", "dart", "filtering"], "answers": [{"comments": [{"owner": {"reputation": 650, "user_id": 5637851, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5PEJF.jpg?s=128&g=1", "display_name": "A True Novice", "link": "https://stackoverflow.com/users/5637851/a-true-novice"}, "edited": false, "score": 0, "creation_date": 1574252198, "post_id": 58946864, "comment_id": 104164014, "body": "Its also about filtering the list to match the categories"}], "tags": [], "owner": {"reputation": 2417, "user_id": 4465386, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/vVeFt.png?s=128&g=1", "display_name": "Zvi Karp", "link": "https://stackoverflow.com/users/4465386/zvi-karp"}, "is_accepted": false, "score": 0, "last_activity_date": 1574225231, "creation_date": 1574225231, "answer_id": 58946864, "question_id": 58946059, "link": "https://stackoverflow.com/questions/58946059/tapping-tab-bar-to-filter-list-flutter/58946864#58946864", "title": "Tapping Tab bar to filter list Flutter", "body": "<p>To refresh the hi you need to use <code>setState</code>.</p>\n\n<p><code>productList = tempProducts</code> should be:</p>\n\n<pre><code>setState(()=&gt;productList = tempProducts);\n</code></pre>\n\n<p>Also, the widget should be a <code>stateful</code> widget.</p>\n"}], "owner": {"reputation": 650, "user_id": 5637851, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5PEJF.jpg?s=128&g=1", "display_name": "A True Novice", "link": "https://stackoverflow.com/users/5637851/a-true-novice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1142, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574225231, "creation_date": 1574219533, "question_id": 58946059, "link": "https://stackoverflow.com/questions/58946059/tapping-tab-bar-to-filter-list-flutter", "title": "Tapping Tab bar to filter list Flutter", "body": "<p>I am trying to filter items from an array and create a new one out of it. When a user taps on one of the tabs, the list sorts the products into its categories(ie: When the dinner tab is selected, all products labeled as category \"Dinner\" will show) from there organize into sub categories (Chicken, Beef, Oxtail). I am not sure where I am going wrong here. Here is what I have so far:</p>\n\n<p>Tab Bar</p>\n\n<pre><code>TabBar(\n                    onTap: _changedDropDownItem,\n                    indicatorColor: buddiesGreen,\n                    labelColor: buddiesPurple,\n                    unselectedLabelColor: Colors.grey,\n                    // isScrollable: true,\n                    tabs: [\n                      Tab(icon: Icon(FontAwesomeIcons.medkit), text: \"Dinner\"),\n                      Tab(icon: Icon(FontAwesomeIcons.heart), text: \"Desserts\"),\n                      Tab(icon: Icon(Icons.info), text: \"Taste\"),\n                      Tab(\n                        icon: Icon(FontAwesomeIcons.home),\n                        text: \"More\",\n                      ),\n                    ],\n                  ),\n</code></pre>\n\n<p>Then I use these methods to get the categories from the tab bar:</p>\n\n<pre><code> void _tabBarItemsTapped(int newValue) {\n    setState(() {\n      _selectedCustomerType = newValue;\n    });\n    _tabBarFilterSwitch(newValue);\n    print(_selectedCustomerType);\n  }\n\n\n  void _tabBarFilterSwitch(filterNumb) {\n    if (filterNumb == 0) {\n      _dropdownList = _usage;\n    } else if (filterNumb == 1) {\n      _dropdownList = _productType;\n    } else if (filterNumb == 2) {\n      _dropdownList = _productType;\n    } else if (filterNumb == 3) {\n      _dropdownList = _productType;\n    }\n    print(_dropdownList);\n  }\n</code></pre>\n\n<p>Here is a data model I'm pulling down:</p>\n\n<pre><code>{\n    \"resId\":123,\n \u201cimage\u201d: \u201c    'assets/ChocolateCake.jpg',\n\u201cproductType\u201d: \u201cDinner\u201d\n\u201ctype\u201d: \u201cmain\u201d\n   \u201csizes\u201d : \n   [\n       {\u201csize\u201d:1,\n        \u201cprice\u201d:$2.99},\n       {\u201csize\u201d:3,\n        \"quantity\u201d: $4.99}\n  ]\n}\n</code></pre>\n\n<p>I am trying to tap the tab that would trigger a switch case. This switch chase will update the list:</p>\n\n<pre><code>void _filterProductList(int value, productList, filter) {\n    List tempProducts = [];\n\n    switch (value) {\n      case 0:\n          for (int i = 0; i &lt; productList.length; i++) {\n        tempProducts.add(productList[i].category.contains(filter[i]));\n            // tempProducts = productList\n            // tempProducts.\n            productList =[];\n            productList = tempProducts;\n            print(tempProducts[i].name);\n\n          }\n        break;\n      case 1:\n            for (int i = 0; i &lt; productList.length; i++) {\n        tempProducts.add(productList[i].category.contains(filter[i]));\n            // tempProducts = productList\n            // tempProducts.\n            productList =[];\n            productList = tempProducts;\n            print(tempProducts[i].name);\n          }\n        break;\n      case 2:\n            for (int i = 0; i &lt; productList.length; i++) {\n        tempProducts.add(productList[i].category.contains(filter[i]));\n            // tempProducts = productList\n            // tempProducts.\n            productList =[];\n            productList = tempProducts;\n            print(tempProducts[i].name);\n          }\n        break;\n      case 3:\n            for (int i = 0; i &lt; productList.length; i++) {\n        tempProducts.add(productList[i].category.contains(filter[i]));\n            // tempProducts = productList\n            // tempProducts.\n            productList =[];\n            productList = tempProducts;\n            print(tempProducts[i].name);\n          }\n        break;\n    }\n    return;\n\n  }\n</code></pre>\n\n<p>And presents like:</p>\n\n<pre><code>Container(\n              child: ListView.builder(\n            scrollDirection: Axis.vertical,\n            itemCount: _prodType.length,\n            shrinkWrap: true,\n            itemBuilder: (context, ii) {\n              _filterProductList(filterNumb, productList, _dropdownList);\n              return Container(child: _buildProduct(context, ii));\n            },\n          )),\n</code></pre>\n\n<p>Instead of updating the list with every tap, it just seems like nothing is happening. </p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 1, "creation_date": 1574210461, "post_id": 58944891, "comment_id": 104148287, "body": "See <a href=\"https://stackoverflow.com/questions/52249578/how-to-deal-with-unwanted-widget-build\" title=\"how to deal with unwanted widget build\">stackoverflow.com/questions/52249578/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4000, "user_id": 64435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c6505a4c95f8bc5e703ad9d86c8482e3?s=128&d=identicon&r=PG", "display_name": "MichaelM", "link": "https://stackoverflow.com/users/64435/michaelm"}, "is_accepted": true, "score": 2, "last_activity_date": 1574212554, "creation_date": 1574212554, "answer_id": 58945224, "question_id": 58944891, "link": "https://stackoverflow.com/questions/58944891/how-to-implement-futurebuilder-with-already-obtained-future/58945224#58945224", "title": "How to implement FutureBuilder with already obtained future", "body": "<p>Yes, you are on the right track. The easiest way to deal with this is to store a Future variable in your state. In <code>initState</code> make the API call and store the Future. You can then pass this Future to FutureBuilder.</p>\n\n<p>Something like this:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class MyWidget extends StatefulWidget {\n  State createState() {\n    return MyState();\n  }\n}\n\nclass MyState extends State&lt;MyWidget&gt; {\n  Future userFuture;\n  void initState() {\n    super.initState();\n    // Note here we are not awaiting the user, but rather storing\n    // the future in the variable\n    userFuture = DBProvider.db.getUser();\n  }\n\n  Widget build(BuildContext context) {\n    return FutureBuilder(\n      future: userFuture,\n      builder: (BuildContext, snapshot) {\n        ...\n      }\n    );\n  }\n}\n\n</code></pre>\n"}], "owner": {"reputation": 1197, "user_id": 6327846, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/n0yWJ.jpg?s=128&g=1", "display_name": "Garrett", "link": "https://stackoverflow.com/users/6327846/garrett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 0, "accepted_answer_id": 58945224, "answer_count": 1, "score": 1, "last_activity_date": 1574212554, "creation_date": 1574209759, "last_edit_date": 1574210411, "question_id": 58944891, "link": "https://stackoverflow.com/questions/58944891/how-to-implement-futurebuilder-with-already-obtained-future", "title": "How to implement FutureBuilder with already obtained future", "body": "<p>I'm a little confused about how to implement Flutter's FutureBuilder according to the docs. I have a Future Builder here which work, with the only problem being that it every time the build method is run so to is the future being used:</p>\n\n<pre><code>FutureBuilder(\n    future: DBProvider.db.getUser(),\n    builder: (_, userData) {\n        switch (userData.connectionState) {\n            case ConnectionState.none:\n                return Container();\n            case ConnectionState.waiting:\n                return Container();\n            case ConnectionState.active:\n            case ConnectionState.done:\n                newUser = userData.data;\n                return ListView(\n                    shrinkWrap: true,\n                    children: &lt;Widget&gt;[\n                        ... // Lot's of things\n                    ],\n                );\n        }\n        return null;\n    },\n),\n</code></pre>\n\n<p>I then realize the importance of this part of the docs where it says the future must be \"obtained earlier\" so this problem doesn't happen:</p>\n\n<blockquote>\n  <p>The future must have been obtained earlier, e.g. during\n  State.initState, State.didUpdateConfig, or\n  State.didChangeDependencies. It must not be created during the\n  State.build or StatelessWidget.build method call when constructing the\n  FutureBuilder. If the future is created at the same time as the\n  FutureBuilder, then every time the FutureBuilder's parent is rebuilt,\n  the asynchronous task will be restarted.</p>\n</blockquote>\n\n<p>Here's where my question comes from, I understand what those words are saying, but in terms of writing the code according to that what exactly does mean / look like?</p>\n\n<p>Do I simply make a function and call it in initState like this:</p>\n\n<pre><code>@override\nvoid initState() {\n    super.initState();\n    _getUser();\n}\n\n_getUser() async {\n    newUser = await DBProvider.db.getUser();\n}\n</code></pre>\n\n<p>In this case what goes in the future argument of the FutureBuilder? Or this completely not right?</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 4000, "user_id": 64435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c6505a4c95f8bc5e703ad9d86c8482e3?s=128&d=identicon&r=PG", "display_name": "MichaelM", "link": "https://stackoverflow.com/users/64435/michaelm"}, "is_accepted": false, "score": 0, "last_activity_date": 1574202447, "creation_date": 1574202447, "answer_id": 58943798, "question_id": 58943660, "link": "https://stackoverflow.com/questions/58943660/exception-has-occurred-typeerror-type-internallinkedhashmapstring-dynamic/58943798#58943798", "title": "Exception has occurred. _TypeError (type &#39;_InternalLinkedHashMap&lt;String, dynamic&gt;&#39; is not a subtype of type &#39;List&lt;dynamic&gt;&#39;)", "body": "<p>That get request is returning a JSON object, not a list. JSON objects are decoded to <code>Map&lt;String, dynamic&gt;</code>. So the exception is because you are trying to assign a <code>Map&lt;String, dynamic&gt;</code> to a List variable, which cannot be done.</p>\n\n<p>Looking at the response above though, perhaps you mean to use the <code>categories</code> property in the response, not the entire response?</p>\n\n<p>Have a closer look at the response, and decide which parts of the data you are actually interested in.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 12400420, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mB8SSNzLLGHqpD9PHtDe77zQipB4isKGJJmrNKn4A=k-s128", "display_name": "Great Baedee", "link": "https://stackoverflow.com/users/12400420/great-baedee"}, "edited": false, "score": 0, "creation_date": 1578668118, "post_id": 58945770, "comment_id": 105524989, "body": "Can you please show me in an example, because I am still stuck."}, {"owner": {"reputation": 5292, "user_id": 4205334, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh4.googleusercontent.com/-1wex33gAEbw/AAAAAAAAAAI/AAAAAAAAHv8/B7_KU49MepY/photo.jpg?sz=128", "display_name": "TomTom101", "link": "https://stackoverflow.com/users/4205334/tomtom101"}, "edited": false, "score": 0, "creation_date": 1581673514, "post_id": 58945770, "comment_id": 106523261, "body": "Instead of <code>List collection = json.decode(content);</code> use <code>Iterable collection = json.decode(content);</code>"}], "tags": [], "owner": {"reputation": 13728, "user_id": 3675035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2PXUu.jpg?s=128&g=1", "display_name": "Blasanka", "link": "https://stackoverflow.com/users/3675035/blasanka"}, "is_accepted": false, "score": 0, "last_activity_date": 1574217919, "last_edit_date": 1574217919, "creation_date": 1574217263, "answer_id": 58945770, "question_id": 58943660, "link": "https://stackoverflow.com/questions/58943660/exception-has-occurred-typeerror-type-internallinkedhashmapstring-dynamic/58945770#58945770", "title": "Exception has occurred. _TypeError (type &#39;_InternalLinkedHashMap&lt;String, dynamic&gt;&#39; is not a subtype of type &#39;List&lt;dynamic&gt;&#39;)", "body": "<p>Your <code>json.decode(content);</code> produced a <code>_InternalLinkedHashMap&lt;String, dynamic&gt;</code> but you are try to assign it to a <code>List</code> of type <code>dynamic</code>(default type).</p>\n\n<p>To solve this, first see what is the data format of the response is. Then use required type. You could use <code>final</code> without static type but that's not the best option here. <code>Map&lt;String, dynamic&gt;</code> should work but cannot explicitly say it is correct without looking at the json response.</p>\n"}], "owner": {"reputation": 1, "user_id": 12400420, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mB8SSNzLLGHqpD9PHtDe77zQipB4isKGJJmrNKn4A=k-s128", "display_name": "Great Baedee", "link": "https://stackoverflow.com/users/12400420/great-baedee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574217919, "creation_date": 1574201719, "question_id": 58943660, "link": "https://stackoverflow.com/questions/58943660/exception-has-occurred-typeerror-type-internallinkedhashmapstring-dynamic", "title": "Exception has occurred. _TypeError (type &#39;_InternalLinkedHashMap&lt;String, dynamic&gt;&#39; is not a subtype of type &#39;List&lt;dynamic&gt;&#39;)", "body": "<p>I am new to flutter, so I honestly don't know the why I am receiving this error.</p>\n\n<p><a href=\"https://i.stack.imgur.com/UO5gS.png\" rel=\"nofollow noreferrer\">exact error</a></p>\n\n<pre><code>List &lt; BaseResponse &gt; pEShippingDetail = [];\n  Future loadMessageList() async {\n    http.Response response = await http.get('http://www.efwebservice.com/Public/api/ShipmentItems/GetShippingDetails?token=XE9QZEA5ZLRJ64FLO4210&amp;projectid=1010408');\n    //await Future.delayed(Duration(seconds: 3));\n\n    String content = response.body;\n    List collection = json.decode(content);\n    List &lt; BaseResponse &gt; _messages = collection.map((json) =&gt; BaseResponse.fromJson(json)).toList();\n\n    setState(() {\n      pEShippingDetail = _messages;\n    });\n  }\n\n  void initState() {\n    loadMessageList();\n    super.initState();\n\n  }\n</code></pre>\n"}, {"tags": ["sqlite", "flutter", "dart"], "comments": [{"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1574202027, "post_id": 58943633, "comment_id": 104145934, "body": "Any particular reason you have defined the whole thing inside a <code>main</code> method, particularly considering this isn&#39;t in your <code>main.dart</code> file?"}, {"owner": {"reputation": 853, "user_id": 8273474, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh3.googleusercontent.com/-NE4P6xvUWu4/AAAAAAAAAAI/AAAAAAAAAD8/NR8q9km2FB4/photo.jpg?sz=128", "display_name": "Jonathon", "link": "https://stackoverflow.com/users/8273474/jonathon"}, "reply_to_user": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1574202817, "post_id": 58943633, "comment_id": 104146231, "body": "Hmm.. I&#39;ll be honest, I didn&#39;t even realize"}], "answers": [{"comments": [{"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1574478051, "post_id": 58946608, "comment_id": 104258222, "body": "This is called the &quot;Singleton Pattern&quot;, and it has its pros and cons."}], "tags": [], "owner": {"reputation": 26, "user_id": 12401497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a6094dae70d5a18719955ad284e505c?s=128&d=identicon&r=PG&f=1", "display_name": "MSVCode", "link": "https://stackoverflow.com/users/12401497/msvcode"}, "is_accepted": true, "score": 1, "last_activity_date": 1574223446, "creation_date": 1574223446, "answer_id": 58946608, "question_id": 58943633, "link": "https://stackoverflow.com/questions/58943633/using-sqlite-in-main-dart-from-seperate-file/58946608#58946608", "title": "Using SQLite in main.dart from seperate file?", "body": "<p>You can create a new file containing Class with static members to help. Static members ensure that only one instance of database is created in your whole app.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class DatabaseHelper {\n  static Database _database;\n\n  ///Returns db instance if already opened\n  ///else call the initDatabase\n  static Future&lt;Database&gt; getDBConnector() async {\n    if (_database != null) {\n      return _database;\n    }\n\n    return await _initDatabase();\n  }\n\n  ///Open DB Connection, returns a Database instance.\n  ///\n  static Future&lt;Database&gt; _initDatabase() async {\n    _database = await openDatabase(\n      join(await getDatabasesPath(), \"my_path.db\"),\n\n      onCreate: (db, version) async {\n        //on create\n      },\n      version: 1,\n    );\n\n    return _database;\n  }\n\n  //put your CRUD in static function\n  static Future&lt;void&gt; insertTask (Task task) async {\n    final Database db = await getDBConnector();\n\n    await db.insert(\n      'tasks',\n      task.toMap(),\n      conflictAlgorithm: ConflictAlgorithm.replace\n    );\n  }\n\n  //the same with edit, delete\n}\n</code></pre>\n\n<p>Then in your other file (like main.dart) you can just call it like this:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import \"./databaseHelper.dart\";\nvoid caller() async{\n  //create task\n\n  //insert\n  await DatabaseHelper.insertTask(task);\n}\n</code></pre>\n\n<p>Make sure the caller is asynchronous.</p>\n"}], "owner": {"reputation": 853, "user_id": 8273474, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh3.googleusercontent.com/-NE4P6xvUWu4/AAAAAAAAAAI/AAAAAAAAAD8/NR8q9km2FB4/photo.jpg?sz=128", "display_name": "Jonathon", "link": "https://stackoverflow.com/users/8273474/jonathon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 281, "favorite_count": 0, "accepted_answer_id": 58946608, "answer_count": 1, "score": 1, "last_activity_date": 1574223446, "creation_date": 1574201634, "question_id": 58943633, "link": "https://stackoverflow.com/questions/58943633/using-sqlite-in-main-dart-from-seperate-file", "title": "Using SQLite in main.dart from seperate file?", "body": "<p>I've followed this easy example from the flutter documentation. However, this is wrote in a separate file (db_test.db). I'm aiming to convert data into a ListView at some point. So, how would I use CRUD operations like retrieving data in my main.dart? I could add this to my main.dart file but I'd like to keep it clean and separate.</p>\n\n<p><a href=\"https://flutter.dev/docs/cookbook/persistence/sqlite\" rel=\"nofollow noreferrer\">Official Flutter tutorial</a></p>\n\n<p>My db.dart file</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>void main () async {\n  final database = openDatabase(\n\n    join(await getDatabasesPath(), 'to_do.db'),\n    onCreate: (db, version) {\n      return db.execute(\"CREATE TABLE tasks(id INTEGER PRIMARY KEY, title TEXT, created TEXT, INTEGER is_complete)\");\n    },\n    version: 1,\n  );\n\n  Future&lt;void&gt; insertTask (Task task) async {\n    final Database db = await database;\n\n    await db.insert(\n      'tasks',\n      task.toMap(),\n      conflictAlgorithm: ConflictAlgorithm.replace\n    );\n  }\n\n  Future&lt;List&lt;Task&gt;&gt; tasks () async {\n    final Database db = await database;\n\n    final List&lt;Map&lt;String, dynamic&gt;&gt; maps = await db.query('tasks');\n\n    return List.generate(maps.length, (i) {\n      return Task(\n        id: maps[i]['id'],\n        title: maps[i]['title'],\n        created: maps[i]['created'],\n        isComplete: maps[i]['is_complete']\n      );\n    });\n  }\n\n  Future&lt;void&gt; updateTask(Task task) async {\n    // Get a reference to the database.\n    final db = await database;\n\n    // Update the given Dog.\n    await db.update(\n      'tasks',\n      task.toMap(),\n      // Ensure that the Dog has a matching id.\n      where: \"id = ?\",\n      // Pass the Dog's id as a whereArg to prevent SQL injection.\n      whereArgs: [task.id],\n    );\n  }\n\n  Future&lt;void&gt; deleteTask(int id) async {\n    // Get a reference to the database.\n    final db = await database;\n\n    // Remove the Dog from the database.\n    await db.delete(\n      'tasks',\n      // Use a `where` clause to delete a specific dog.\n      where: \"id = ?\",\n      // Pass the Dog's id as a whereArg to prevent SQL injection.\n      whereArgs: [id],\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["flutter", "dart", "extension-methods"], "comments": [{"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 12, "creation_date": 1574198727, "post_id": 58942985, "comment_id": 104144479, "body": "The file where the extension is defined must be imported"}, {"owner": {"reputation": 786, "user_id": 4312184, "user_type": "registered", "profile_image": "https://graph.facebook.com/671429891/picture?type=large", "display_name": "Ilia Kurtov", "link": "https://stackoverflow.com/users/4312184/ilia-kurtov"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1574199110, "post_id": 58942985, "comment_id": 104144658, "body": "If I add import manually - I really can use extension methods that I declared. Thanks for the advice. But I thought that extension methods should be recognised by IDE as methods for a class that I extend. I want to use autocomplete. Will it be working as I expect at least in the near future?"}, {"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1574201878, "post_id": 58942985, "comment_id": 104145879, "body": "I&#39;m using Dart 2.6.1 and VS Code. When I import my file that contains the extension methods, Intellisense works as it should."}, {"owner": {"reputation": 786, "user_id": 4312184, "user_type": "registered", "profile_image": "https://graph.facebook.com/671429891/picture?type=large", "display_name": "Ilia Kurtov", "link": "https://stackoverflow.com/users/4312184/ilia-kurtov"}, "edited": false, "score": 5, "creation_date": 1574242569, "post_id": 58942985, "comment_id": 104158377, "body": "I came to flutter and dart from Android and Kotlin and it seems very practical to me that extension methods should be available everywhere in your project. Otherwise, I should be aware of what extensions have been declared for what classes everywhere in the app. Static functions can be found but not extension methods? Seems illogical to me."}, {"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1574477934, "post_id": 58942985, "comment_id": 104258205, "body": "The thing about extension methods is that they can be defined anywhere, including external packages. What if one package defines an extension method for a native Dart type and another package defines an extension method with the same name but different behavior? If extension methods were available globally by default, this would cause an irreconcilable conflict. By having to import the extension method file, you are defining when you want to use the extension method or not, and which one you want to use when there are conflicting ones."}, {"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1574478002, "post_id": 58942985, "comment_id": 104258217, "body": "Also, outside of the built-in types and methods, nothing in Dart can be made implicitly global. Any time you want to use code that was written outside of the file you have opened, you need to import it. Why should extension methods be any different?"}, {"owner": {"reputation": 786, "user_id": 4312184, "user_type": "registered", "profile_image": "https://graph.facebook.com/671429891/picture?type=large", "display_name": "Ilia Kurtov", "link": "https://stackoverflow.com/users/4312184/ilia-kurtov"}, "edited": false, "score": 2, "creation_date": 1574512853, "post_id": 58942985, "comment_id": 104263928, "body": "Probably I was not clear about what behaviour I expect. I do not want to use extension methods without importing them. I totally agree that this would be inappropriate. I just want an IDE to be able to see them and suggest me to import them while I&#39;m typing their names - simple auto-completion with auto-importing."}, {"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1574660768, "post_id": 58942985, "comment_id": 104296331, "body": "I&#39;m not sure that makes much sense either. The extension would have to parse every single source file in every single location whether it&#39;s imported or not just to see if there are any extension types in it. It&#39;s different than auto importing things like types and global constants, since the auto importer would have to keep track of every type <i>as well as every other class that references it</i>. Of course, this also comes down to the fact that Dart just barely got support for extension methods, so expecting the extension to already have robust support for it is a bit unreasonable."}, {"owner": {"reputation": 1916, "user_id": 984061, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WPUF4.jpg?s=128&g=1", "display_name": "xip", "link": "https://stackoverflow.com/users/984061/xip"}, "edited": false, "score": 11, "creation_date": 1576600148, "post_id": 58942985, "comment_id": 104948893, "body": "I understand that support is just being added, but I want to leave my two cents on the matter. One huge benefit of extension functions over util functions is that they are suggested in auto-complete. If I need to know where each extension function is, might as well use Utils. In fact, it&#39;s probably easier to use util classes with suggestions and auto-import than it is to remember and manually type import lines."}], "answers": [{"comments": [{"owner": {"reputation": 834, "user_id": 138969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b4589bcc9ade8fc7fd7850b23118f72?s=128&d=identicon&r=PG", "display_name": "Ajay Gautam", "link": "https://stackoverflow.com/users/138969/ajay-gautam"}, "edited": false, "score": 3, "creation_date": 1588873355, "post_id": 61171064, "comment_id": 109075154, "body": "Looks like this broke in 3.6.3 :("}, {"owner": {"reputation": 4735, "user_id": 789545, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d3b562b08d059597ddc2f255894c8652?s=128&d=identicon&r=PG", "display_name": "spydon", "link": "https://stackoverflow.com/users/789545/spydon"}, "edited": false, "score": 0, "creation_date": 1600384461, "post_id": 61171064, "comment_id": 113079311, "body": "The numbers are swapped for dart and flutter."}, {"owner": {"reputation": 588, "user_id": 1499667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oOktc.png?s=128&g=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/1499667/marty"}, "edited": false, "score": 0, "creation_date": 1616139959, "post_id": 61171064, "comment_id": 117914121, "body": "I forgot to make it public, thank you!"}], "tags": [], "owner": {"reputation": 1446, "user_id": 1489446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b98d8daf5e0195807fedda5ffd4370d?s=128&d=identicon&r=PG", "display_name": "Erick M. Sprengel", "link": "https://stackoverflow.com/users/1489446/erick-m-sprengel"}, "is_accepted": false, "score": 16, "last_activity_date": 1586696839, "last_edit_date": 1586696839, "creation_date": 1586692744, "answer_id": 61171064, "question_id": 58942985, "link": "https://stackoverflow.com/questions/58942985/dart-extension-functions-not-found/61171064#61171064", "title": "Dart extension functions not found", "body": "<p>It was not your case, but for me, it worked after updating the Android Studio, Flutter plugin and Dart plugin.\nMaybe it'll help someone else.</p>\n\n<p>Version that <code>extension</code> methods are working:</p>\n\n<ul>\n<li>Android Studio 3.6.2</li>\n<li>Flutter Plugin 192.7761</li>\n<li>Dart Plugin 45.1.1</li>\n</ul>\n\n<p>And another important point is that <code>extension</code> must be named. If it's not named it can't be used in other files:</p>\n\n<p>Private <code>extension</code>:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>extension on Banana {\n  // ...\n}\n</code></pre>\n\n<p>Public <code>extension</code>:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>extension BananaExtension on Banana {\n  // ...\n}\n</code></pre>\n\n<p>I found it in a comment on Dart <code>extension</code> announcement <a href=\"https://www.youtube.com/watch?v=D3j0OSfT9ZI\" rel=\"noreferrer\">on YouTube</a></p>\n"}, {"comments": [{"owner": {"reputation": 786, "user_id": 4312184, "user_type": "registered", "profile_image": "https://graph.facebook.com/671429891/picture?type=large", "display_name": "Ilia Kurtov", "link": "https://stackoverflow.com/users/4312184/ilia-kurtov"}, "edited": false, "score": 0, "creation_date": 1588590014, "post_id": 61576617, "comment_id": 108946640, "body": "Yeah, I declared it from the beginning. But surely it can help someone"}], "tags": [], "owner": {"reputation": 55, "user_id": 4296947, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001583357462/picture?type=large", "display_name": "Vlad Loboda", "link": "https://stackoverflow.com/users/4296947/vlad-loboda"}, "is_accepted": false, "score": 2, "last_activity_date": 1588518041, "creation_date": 1588518041, "answer_id": 61576617, "question_id": 58942985, "link": "https://stackoverflow.com/questions/58942985/dart-extension-functions-not-found/61576617#61576617", "title": "Dart extension functions not found", "body": "<p>Extension methods were introduced in Dart 2.7, so you can change your sdk version: \">=2.7.0 &lt;3.0.0\"</p>\n"}, {"tags": [], "owner": {"reputation": 149, "user_id": 854225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vV0zW.jpg?s=128&g=1", "display_name": "Jayadeep", "link": "https://stackoverflow.com/users/854225/jayadeep"}, "is_accepted": false, "score": 0, "last_activity_date": 1590317775, "creation_date": 1590317775, "answer_id": 61984917, "question_id": 58942985, "link": "https://stackoverflow.com/questions/58942985/dart-extension-functions-not-found/61984917#61984917", "title": "Dart extension functions not found", "body": "<p>You have to update the sdk version in pubspec.yaml to 2.6</p>\n\n<p><a href=\"https://i.stack.imgur.com/t3Tol.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t3Tol.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 484, "user_id": 11198609, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c460379bbd383ae29fe56027bc18a13?s=128&d=identicon&r=PG&f=1", "display_name": "Giles Correia Morton", "link": "https://stackoverflow.com/users/11198609/giles-correia-morton"}, "is_accepted": false, "score": 0, "last_activity_date": 1593767654, "creation_date": 1593767654, "answer_id": 62712234, "question_id": 58942985, "link": "https://stackoverflow.com/questions/58942985/dart-extension-functions-not-found/62712234#62712234", "title": "Dart extension functions not found", "body": "<p>In case this helps someone in the future I had an issue with using extensions on <code>final</code> rather than the class name. I had:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>extension StringExtensions on String {\n  bool isFuture() {\n    ...\n  }\n}\n\nfinal time = 'some time of day';\nif (time.isFuture()) {\n...\n}\n</code></pre>\n<p>This was throwing an error, to solve it I needed to do:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>final String time = 'some time of day';\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 672, "user_id": 11804669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/473c93f2bb6712e9bcab7aad8dcab1a8?s=128&d=identicon&r=PG&f=1", "display_name": "Luke_", "link": "https://stackoverflow.com/users/11804669/luke"}, "edited": false, "score": 0, "creation_date": 1613390361, "post_id": 66207224, "comment_id": 117051881, "body": "The if statement in the last code block is missing a )"}], "tags": [], "owner": {"reputation": 1, "user_id": 15207489, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-x3H4ENNGVCA/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucmon62GxX5EYyw3ujh23oJ9oM9OAw/s96-c/photo.jpg?sz=128", "display_name": "Usman ali", "link": "https://stackoverflow.com/users/15207489/usman-ali"}, "is_accepted": false, "score": -1, "last_activity_date": 1613396342, "last_edit_date": 1613396342, "creation_date": 1613388586, "answer_id": 66207224, "question_id": 58942985, "link": "https://stackoverflow.com/questions/58942985/dart-extension-functions-not-found/66207224#66207224", "title": "Dart extension functions not found", "body": "<p>This is my extension and i have created this extension inside <strong>string_extension.dart</strong></p>\n<pre><code>extension EmailValidator on String {\n  bool isValidEmail() {\n    return RegExp(\n            r'^(([^&lt;&gt;()[\\]\\\\.,;:\\s@\\&quot;]+(\\.[^&lt;&gt;()[\\]\\\\.,;:\\s@\\&quot;]+)*)|(\\&quot;.+\\&quot;))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$')\n        .hasMatch(this);\n  }\n}\n</code></pre>\n<p>So in order to make this extension work you just need to import this extension_file\nlike</p>\n<pre><code>import 'package:projectname/extensions/string_extension.dart';\n\n</code></pre>\n<p>and then</p>\n<pre><code>final String email = 'test@gmail.com';\nif(email.isValidEmail()){\n}\n\n</code></pre>\n"}], "owner": {"reputation": 786, "user_id": 4312184, "user_type": "registered", "profile_image": "https://graph.facebook.com/671429891/picture?type=large", "display_name": "Ilia Kurtov", "link": "https://stackoverflow.com/users/4312184/ilia-kurtov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5525, "favorite_count": 2, "answer_count": 5, "score": 13, "last_activity_date": 1613396342, "creation_date": 1574198496, "question_id": 58942985, "link": "https://stackoverflow.com/questions/58942985/dart-extension-functions-not-found", "title": "Dart extension functions not found", "body": "<p>I have a project on flutter and I want to use extension methods there very much.\nI've upgraded <code>pubspec.yaml</code> file to use <code>sdk: \"&gt;=2.6.0 &lt;3.0.0\"</code>.\nI create a file <code>list_extensions.dart</code> with content</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:math';\n\nextension ListExtension&lt;T&gt; on List&lt;T&gt; {\n\n  T randomElement() =&gt; this.elementAt(Random().nextInt(this.length));\n\n}\n</code></pre>\n\n<p>When I try to use this extension method in other files like this</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>String getRandomText(List&lt;String&gt; texts) =&gt; texts.randomElement();\n</code></pre>\n\n<p>I see a compiler error with text: <code>The method 'randomElement' isn't defined for the class 'List'</code>.</p>\n\n<p>But when I try to use this extension method inside <code>list_extensions.dart</code> file - compiler is ok with that.</p>\n\n<p>The thing is that my other project can found all extension methods that I declare.</p>\n\n<p><code>flutter doctor</code> says:</p>\n\n<pre><code>Doctor summary (to see all details, run flutter doctor -v):\n[\u2713] Flutter (Channel master, v1.10.17-pre.74, on Mac OS X 10.15 19A603, locale en-RU)\n[!] Android toolchain - develop for Android devices (Android SDK version 28.0.3)\n    \u2717 Android license status unknown.\n      Try re-installing or updating your Android SDK Manager.\n      See https://developer.android.com/studio/#downloads or visit https://flutter.dev/setup/#android-setup for detailed instructions.\n[\u2713] Xcode - develop for iOS and macOS (Xcode 10.2)\n[\u2713] Android Studio (version 3.5)\n[\u2713] Android Studio (version 3.4)\n[\u2713] VS Code (version 1.39.2)\n[\u2713] Connected device (1 available)\n</code></pre>\n\n<p><code>flutter --version</code> says:</p>\n\n<pre><code>Flutter 1.10.17-pre.74 \u2022 channel master \u2022 https://github.com/flutter/flutter.git\nFramework \u2022 revision bcc93bca23 (6 days ago) \u2022 2019-11-13 11:31:20 -0800\nEngine \u2022 revision 31cd2dfca2\nTools \u2022 Dart 2.7.0\n</code></pre>\n\n<p>What can I do to force the compiler to see my extension methods?</p>\n"}, {"tags": ["asynchronous", "firebase-realtime-database", "flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "is_accepted": true, "score": 1, "last_activity_date": 1575269354, "last_edit_date": 1575269354, "creation_date": 1574202595, "answer_id": 58943820, "question_id": 58942689, "link": "https://stackoverflow.com/questions/58942689/flutter-async-programming/58943820#58943820", "title": "Flutter async programming", "body": "<p>Your issue is that <code>questions</code> is null, so trying to iterate over it is going to throw an error.</p>\n\n<p>Looking at your code, the root of the error seems to come from your <code>_fetchFromFirebase</code> method. In this case, you call <code>databaseReference.once()</code>, and in the <code>then</code> part you assign the result to <code>questionJson</code>. However, you never <code>await</code> on this call, so the <code>_fetchFromFirebase</code> method ends up returning the value of <code>questionJson</code> immediately after the call is made without waiting for it to finish. At that point, <code>questionJson</code> will be null, so that's what gets returned.</p>\n\n<p>In general, I advise to not mix the <code>Future.then.catchError</code> pattern with the <code>async/await</code> pattern, as it can result in confusing logic that hides what is actually happening. As such, I'd recommend sticking just to <code>async/await</code> like so:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>_fetchFromFirebase() async {\n  try {\n    final snapshot = await databaseReference.once();\n    final questionJson = await snapshot.value;\n    return questionJson;\n  } catch (e) {\n    print(e);\n    return null;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 577, "user_id": 8331312, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/AgCbb.jpg?s=128&g=1", "display_name": "0x45", "link": "https://stackoverflow.com/users/8331312/0x45"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 58943820, "answer_count": 1, "score": 0, "last_activity_date": 1575269354, "creation_date": 1574197094, "question_id": 58942689, "link": "https://stackoverflow.com/questions/58942689/flutter-async-programming", "title": "Flutter async programming", "body": "<p>After <em>using</em> a dataset I want to check how many datasets are <em>unused</em>. If I'm above the threshold I want to fetch new data.</p>\n\n<pre><code>useQuestion(Question question) async {\n    print(\"using question $question\");\n    question.used=1;\n    final db = await database;\n    int count = await db.rawUpdate(\n    'UPDATE Question SET used = ? WHERE question = ?',\n    [question.used,question.question]);\n    print(question);\n    print(\"Made $count changes\");\n    var questions = await _checkQuestionThreshold();\n    print(questions);\n    for (var q in questions) {\n        newQuestion(Question.fromJson(q));\n      }\n  }\n</code></pre>\n\n<p><strong>Check Threshold</strong></p>\n\n<pre><code>_checkQuestionThreshold() async {\nprint(\"count questions...\");\nfinal db = await database;\nvar res = await db.query(\"Question\");\nint count = Sqflite.firstIntValue(\n    await db.rawQuery('SELECT COUNT(*) FROM Question'));\nint countUsed = Sqflite.firstIntValue(\n    await db.rawQuery('SELECT COUNT(*) FROM Question where used=\"1\"'));\nint i = 0;\nif (count &lt; 1 || (countUsed / count) &lt; 0.5) {\n  print(\"Okay... we fetch new...\");\n\n\n\n  return await _fetchFromFirebase();\n}\n</code></pre>\n\n<p><strong>Fetching from DB:</strong></p>\n\n<pre><code>_fetchFromFirebase() async {\n    var questionJson;\n     databaseReference.once().then((DataSnapshot snapshot) async {\n        questionJson = await snapshot.value;\n      }).catchError((e) {\n        print(e);\n      });\n      return questionJson;\n  }\n</code></pre>\n\n<p>However I get the following error when calling <code>for (var q in questions) {\n        newQuestion(Question.fromJson(q));\n      }</code> and I'm wondering what exactly I am missing.</p>\n\n<pre><code>I/flutter ( 5150): count questions...\nI/flutter ( 5150): Okay... we fetch new...\nI/flutter ( 5150): null\nE/flutter ( 5150): [ERROR:flutter/lib/ui/ui_dart_state.cc(148)] Unhandled Exception: NoSuchMethodError: The getter 'iterator' was called on null.\nE/flutter ( 5150): Receiver: null\n</code></pre>\n"}, {"tags": ["flutter", "dart", "character-encoding", "special-characters"], "comments": [{"owner": {"reputation": 1293, "user_id": 1846395, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/rzduR.jpg?s=128&g=1", "display_name": "dubace", "link": "https://stackoverflow.com/users/1846395/dubace"}, "edited": false, "score": 2, "creation_date": 1574203323, "post_id": 58942394, "comment_id": 104146393, "body": "can you show that special character?"}, {"owner": {"reputation": 2448, "user_id": 6689583, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-JLO_eRHXJWs/AAAAAAAAAAI/AAAAAAAAAdE/B4RullwPogU/photo.jpg?sz=128", "display_name": "Thorvald Olavsen", "link": "https://stackoverflow.com/users/6689583/thorvald-olavsen"}, "reply_to_user": {"reputation": 1293, "user_id": 1846395, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/rzduR.jpg?s=128&g=1", "display_name": "dubace", "link": "https://stackoverflow.com/users/1846395/dubace"}, "edited": false, "score": 1, "creation_date": 1574204319, "post_id": 58942394, "comment_id": 104146710, "body": "@dubace check the update!"}], "answers": [{"comments": [{"owner": {"reputation": 2448, "user_id": 6689583, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-JLO_eRHXJWs/AAAAAAAAAAI/AAAAAAAAAdE/B4RullwPogU/photo.jpg?sz=128", "display_name": "Thorvald Olavsen", "link": "https://stackoverflow.com/users/6689583/thorvald-olavsen"}, "edited": false, "score": 0, "creation_date": 1574207494, "post_id": 58944339, "comment_id": 104147569, "body": "I think I am a bit lost here, can you provide a little more help?! my json object is like so : <code>{         &quot;wordId&quot;: 1,         &quot;englishWord&quot;: &quot;example&quot;,         &quot;icelandicWord&quot;: &quot;&#198; &#230; &#230; &#214; &#246; &#246;&quot;     }</code>  and in my .dart file I am parsing the json like this: <code>child: FutureBuilder(         future: DefaultAssetBundle.of(context).loadString(&#39;assets&#47;json&#47;dicti&zwnj;&#8203;onary.json&#39;),         builder: (context, snapshot){           var decodedData = json.decode(snapshot.data.toString());</code>"}, {"owner": {"reputation": 1293, "user_id": 1846395, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/rzduR.jpg?s=128&g=1", "display_name": "dubace", "link": "https://stackoverflow.com/users/1846395/dubace"}, "reply_to_user": {"reputation": 2448, "user_id": 6689583, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-JLO_eRHXJWs/AAAAAAAAAAI/AAAAAAAAAdE/B4RullwPogU/photo.jpg?sz=128", "display_name": "Thorvald Olavsen", "link": "https://stackoverflow.com/users/6689583/thorvald-olavsen"}, "edited": false, "score": 0, "creation_date": 1574208016, "post_id": 58944339, "comment_id": 104147685, "body": "try to create your JSON this way: <code>decodedData = jsonDecode(snapshot.data.toString())</code>"}, {"owner": {"reputation": 2448, "user_id": 6689583, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-JLO_eRHXJWs/AAAAAAAAAAI/AAAAAAAAAdE/B4RullwPogU/photo.jpg?sz=128", "display_name": "Thorvald Olavsen", "link": "https://stackoverflow.com/users/6689583/thorvald-olavsen"}, "edited": false, "score": 0, "creation_date": 1574208383, "post_id": 58944339, "comment_id": 104147795, "body": "it didn&#39;t work, but if this helps, I got the icelandic words like this in the json : <code>s\\u00c3\\u00a6kja</code> the encoding is concatinated with the rest of the string (if that makes any sense)"}, {"owner": {"reputation": 1293, "user_id": 1846395, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/rzduR.jpg?s=128&g=1", "display_name": "dubace", "link": "https://stackoverflow.com/users/1846395/dubace"}, "reply_to_user": {"reputation": 2448, "user_id": 6689583, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-JLO_eRHXJWs/AAAAAAAAAAI/AAAAAAAAAdE/B4RullwPogU/photo.jpg?sz=128", "display_name": "Thorvald Olavsen", "link": "https://stackoverflow.com/users/6689583/thorvald-olavsen"}, "edited": false, "score": 0, "creation_date": 1574209187, "post_id": 58944339, "comment_id": 104148002, "body": "What about <code>jsonDecode(jsonEncode(decodedData))[&quot;icelandicWord&quot;]</code> ? It&#39;s ugly I know, but for me that helped. Try if it works for you"}, {"owner": {"reputation": 2448, "user_id": 6689583, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-JLO_eRHXJWs/AAAAAAAAAAI/AAAAAAAAAdE/B4RullwPogU/photo.jpg?sz=128", "display_name": "Thorvald Olavsen", "link": "https://stackoverflow.com/users/6689583/thorvald-olavsen"}, "edited": false, "score": 0, "creation_date": 1574209447, "post_id": 58944339, "comment_id": 104148055, "body": "I keep getting <code>Another exception was thrown: type &#39;String&#39; is not a subtype of type &#39;int&#39; of &#39;index&#39;</code>"}, {"owner": {"reputation": 1293, "user_id": 1846395, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/rzduR.jpg?s=128&g=1", "display_name": "dubace", "link": "https://stackoverflow.com/users/1846395/dubace"}, "reply_to_user": {"reputation": 2448, "user_id": 6689583, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-JLO_eRHXJWs/AAAAAAAAAAI/AAAAAAAAAdE/B4RullwPogU/photo.jpg?sz=128", "display_name": "Thorvald Olavsen", "link": "https://stackoverflow.com/users/6689583/thorvald-olavsen"}, "edited": false, "score": 0, "creation_date": 1574244925, "post_id": 58944339, "comment_id": 104159797, "body": "Can you show some compilable widget where you are doing it?"}, {"owner": {"reputation": 2448, "user_id": 6689583, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-JLO_eRHXJWs/AAAAAAAAAAI/AAAAAAAAAdE/B4RullwPogU/photo.jpg?sz=128", "display_name": "Thorvald Olavsen", "link": "https://stackoverflow.com/users/6689583/thorvald-olavsen"}, "edited": false, "score": 0, "creation_date": 1574560243, "post_id": 58944339, "comment_id": 104275392, "body": "I added more details, hope you can find time to check it and help you better understand my situation!"}], "tags": [], "owner": {"reputation": 1293, "user_id": 1846395, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/rzduR.jpg?s=128&g=1", "display_name": "dubace", "link": "https://stackoverflow.com/users/1846395/dubace"}, "is_accepted": true, "score": 1, "last_activity_date": 1574205519, "creation_date": 1574205519, "answer_id": 58944339, "question_id": 58942394, "link": "https://stackoverflow.com/questions/58942394/flutter-character-encoding-is-not-behaving-as-expected/58944339#58944339", "title": "Flutter - Character encoding is not behaving as expected", "body": "<p>The problem is that your JSON is stored locally.</p>\n\n<p>Let's say you have<br>\n<code>Map&lt;String, String&gt; jsonObject = {\"info\": \"\u00c6 \u00e6 \u00e6 \u00d6 \u00f6 \u00f6\"};</code></p>\n\n<p>So to show your text correctly you have to encode and decode back your JSON with utf-8.</p>\n\n<p>I understand that's serialization and deserialization are costly operations, but's it's a workaround for locally stored JSON objects that contains UTF-8 texts.</p>\n\n<pre><code>import 'dart:convert';\njsonDecode(jsonEncode(jsonObject))[\"info\"]\n</code></pre>\n\n<p>If you get that JSON from server, then it's much more simpler, for example in <code>dio</code> package you can chose <code>contentType</code> params that's is \"application/json; charset=utf-8\" by default.</p>\n"}, {"comments": [{"owner": {"reputation": 194, "user_id": 4227746, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vSj9SgHMUGs/AAAAAAAAAAI/AAAAAAAABuY/ce2CfdbjHFw/photo.jpg?sz=128", "display_name": "m.i.n.a.r.", "link": "https://stackoverflow.com/users/4227746/m-i-n-a-r"}, "edited": false, "score": 0, "creation_date": 1614968680, "post_id": 62212106, "comment_id": 117556707, "body": "Just to clarify for future readers, this works and the code must be invoked on the response body, BEFORE the jsonDecode. So <code>codeUnits = response.body.codeUnits</code>"}], "tags": [], "owner": {"reputation": 66, "user_id": 11367267, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0qlLuf3t0JM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3refohJp9Wsy0sjBmzIImnzc6NUoDg/mo/photo.jpg?sz=128", "display_name": "Manjun Vasudevan", "link": "https://stackoverflow.com/users/11367267/manjun-vasudevan"}, "is_accepted": false, "score": 4, "last_activity_date": 1591349104, "creation_date": 1591349104, "answer_id": 62212106, "question_id": 58942394, "link": "https://stackoverflow.com/questions/58942394/flutter-character-encoding-is-not-behaving-as-expected/62212106#62212106", "title": "Flutter - Character encoding is not behaving as expected", "body": "<p>I had similar issues with accented characters. They were not displayed as expected. \nThis worked for me</p>\n\n<pre><code>final codeUnits = source.codeUnits;\nreturn Utf8Decoder().convert(codeUnits);\n</code></pre>\n"}], "owner": {"reputation": 2448, "user_id": 6689583, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-JLO_eRHXJWs/AAAAAAAAAAI/AAAAAAAAAdE/B4RullwPogU/photo.jpg?sz=128", "display_name": "Thorvald Olavsen", "link": "https://stackoverflow.com/users/6689583/thorvald-olavsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2567, "favorite_count": 0, "accepted_answer_id": 58944339, "answer_count": 2, "score": 2, "last_activity_date": 1591349104, "creation_date": 1574195666, "last_edit_date": 1574560183, "question_id": 58942394, "link": "https://stackoverflow.com/questions/58942394/flutter-character-encoding-is-not-behaving-as-expected", "title": "Flutter - Character encoding is not behaving as expected", "body": "<p>I am parsing a local <code>JSON</code> file that has words containing <strong>rarely used special characters</strong> in Icelandic.</p>\n\n<p>When displaying the characters I get mixed up symbols but not the characters, for some others I just get a square instead of a symbol.</p>\n\n<p>I am using this type of encoding <code>\"\\u00c3\"</code></p>\n\n<p><strong>Update:</strong> Example of the characters I am using: \u00fe, \u00e6, \u00fd, \u00f0</p>\n\n<p><strong>Q:</strong> What is the best way to display those kind of characters and avoid any chance of display failures?</p>\n\n<p><strong>Update #2:</strong>\nHow I am parsing:</p>\n\n<pre><code>Future&lt;Null&gt; getAll() async{\n    var response = await \n    DefaultAssetBundle.of(context).loadString('assets/json/dictionary.json');\n    var decodedData = json.decode(response);\n    setState(() {\n      for(Map word in decodedData){\n        mWordsList.add(Words.fromJson(word));\n      }\n    });\n  }\n</code></pre>\n\n<p>The class:</p>\n\n<pre><code>class Words{\n  final int id;\n  final String wordEn, wordIsl;\n\n  Words({this.id, this.wordEn, this.wordIsl});\n\n  factory Words.fromJson(Map&lt;String, dynamic&gt; json){\n    return new Words(\n      id: json['wordId'],\n      wordEn: json['englishWord'],\n      wordIsl: json['icelandicWord']\n    );\n  }\n}\n</code></pre>\n\n<p>JSON Model:</p>\n\n<pre><code>{\n    \"wordId\": 47,\n    \"englishWord\": \"Age\",\n    //Here's a String that has two special characters\n    \"icelandicWord\": \"\\u00c3\\u00a6vi\"\n}\n</code></pre>\n"}, {"tags": ["dart", "server", "udp", "steam"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 12399438, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cYcxTaIacr8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc779vLdtY7WzxUB9u4yjRxnxqqfA/photo.jpg?sz=128", "display_name": "maskwa", "link": "https://stackoverflow.com/users/12399438/maskwa"}, "edited": false, "score": 0, "creation_date": 1575392264, "post_id": 58957253, "comment_id": 104548192, "body": "How does that work with strings? Like with the A2S_INFO"}, {"owner": {"reputation": 3671, "user_id": 8745788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTs7z.png?s=128&g=1", "display_name": "Mattia", "link": "https://stackoverflow.com/users/8745788/mattia"}, "reply_to_user": {"reputation": 3, "user_id": 12399438, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cYcxTaIacr8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc779vLdtY7WzxUB9u4yjRxnxqqfA/photo.jpg?sz=128", "display_name": "maskwa", "link": "https://stackoverflow.com/users/12399438/maskwa"}, "edited": false, "score": 0, "creation_date": 1575392630, "post_id": 58957253, "comment_id": 104548386, "body": "You should encode the string in uft8 and then set the bytes. However if you plan to use the query protocol (not master) or the rcon I&#39;ve already made an implementation. <a href=\"https://github.com/Hexer10/source_query_rcon/blob/master/lib/src/query_socket.dart#L157-L167\" rel=\"nofollow noreferrer\">example for A2S_INFO</a>, <a href=\"https://pub.dev/packages/source_server\" rel=\"nofollow noreferrer\">query package</a>"}], "tags": [], "owner": {"reputation": 3671, "user_id": 8745788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTs7z.png?s=128&g=1", "display_name": "Mattia", "link": "https://stackoverflow.com/users/8745788/mattia"}, "is_accepted": true, "score": 0, "last_activity_date": 1574261764, "creation_date": 1574261764, "answer_id": 58957253, "question_id": 58941478, "link": "https://stackoverflow.com/questions/58941478/dart-query-steam-master-server/58957253#58957253", "title": "dart query Steam Master Server", "body": "<p>The address is not valid, since it expects a valid ip address and not an hostname, you can provide the ip address or use <code>InternetAddress.lookup</code>.</p>\n\n<p>You code is also wrong in the way that you pass the message you shouldn't pass the codeUnits but the bytes in a way as such:</p>\n\n<pre><code>  final byteData = ByteData(8);\n  byteData.setUint8(0, 0x31);\n  byteData.setUint8(1, 0xFF);\n  byteData.setUint8(2, 0x30);\n  byteData.setUint8(3, 0x2E);\n  byteData.setUint8(4, 0x30);\n  byteData.setUint8(5, 0x2E);\n  byteData.setUint8(6, 0x30);\n  byteData.setUint8(7, 0x2E);\n  byteData.buffer.asUint8List() //Pass this.\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 12399438, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cYcxTaIacr8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc779vLdtY7WzxUB9u4yjRxnxqqfA/photo.jpg?sz=128", "display_name": "maskwa", "link": "https://stackoverflow.com/users/12399438/maskwa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 58957253, "answer_count": 1, "score": 0, "last_activity_date": 1574261764, "creation_date": 1574191444, "question_id": 58941478, "link": "https://stackoverflow.com/questions/58941478/dart-query-steam-master-server", "title": "dart query Steam Master Server", "body": "<p>I am trying to get the server IPs from a steam master server via a query and later query the game servers.\n<a href=\"https://developer.valvesoftware.com/wiki/Master_Server_Query_Protocol#\" rel=\"nofollow noreferrer\">https://developer.valvesoftware.com/wiki/Master_Server_Query_Protocol#</a></p>\n\n<p>There are plenty of examples in different programming languages but not dart.\n<a href=\"https://gist.github.com/koenbollen/645947/09241258c0d2dd8d5a4e647865730ab83955f68b#file-mastersteam-py-L18\" rel=\"nofollow noreferrer\">https://gist.github.com/koenbollen/645947/09241258c0d2dd8d5a4e647865730ab83955f68b#file-mastersteam-py-L18</a></p>\n\n<p>My problem is: i don't even understand why the address \"hl2master.steampowered.com\" is an invalid internet address. It says so on the official valve Master Server Query (link at top of the post).</p>\n\n<p>This is the error i get trying to run the code:\n[ERROR:flutter/lib/ui/ui_dart_state.cc(148)] Unhandled Exception: Invalid argument(s): Invalid internet address hl2master.steampowered.com</p>\n\n<pre><code>import 'dart:io';\nimport 'dart:convert';\n\n// Master server:\nconst GOLD_SRC = \"hl1master.steampowered.com\";\nconst GOLD_SRC_PORT = 27010;\n\nconst SOURCE = \"hl2master.steampowered.com\";\nconst SOURCE_PORT = 27011;\n\n// Regions:\nconst US_EAST_COAST = 0x00;\nconst US_WEST_COAST = 0x01;\nconst SOUTH_AMERICA = 0x02;\nconst EUROPE        = 0x03;\nconst ASIA          = 0x04;\nconst AUSTRALIA     = 0x05;\nconst MIDDLE_EAST   = 0x06;\nconst AFRICA        = 0x07;\nconst ALL           = 0xFF;\n\n\n\nclass MasterServerQuery {\n  connectSocket01() async {\n    var message = \"31 FF 30 2E 30 2E 30 2E\";\n    InternetAddress master = InternetAddress(SOURCE);\n    var masterPort = SOURCE_PORT;\n    RawDatagramSocket.bind(InternetAddress.anyIPv4, 4096).then((\n        RawDatagramSocket socket) {\n      print('UDP Echo ready to receive');\n      print('${socket.address.address}:${socket.port}');\n      socket.listen((RawSocketEvent e) {\n        Datagram d = socket.receive();\n        if (d == null) return;\n\n        String message = \"31 FF 30 2E 30 2E 30 2E\";\n        print(\n            'Datagram from ${d.address.address}:${d.port}: ${message.trim()}');\n\n        socket.send(message.codeUnits, master, masterPort);\n      });\n    });\n  }\n}\n</code></pre>\n"}, {"tags": ["flutter", "dart", "rxdart"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 9890934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9a1c22d7162467dba6a9d5d078a2ff7?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Hasan Alasady", "link": "https://stackoverflow.com/users/9890934/muhammad-hasan-alasady"}, "reply_to_user": {"reputation": 23, "user_id": 11354806, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tnmJP7hQJ08/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd5SDnMAJG5uZ26S8q3N6D9R9hLxA/mo/photo.jpg?sz=128", "display_name": "Dubey sai vithal teja", "link": "https://stackoverflow.com/users/11354806/dubey-sai-vithal-teja"}, "edited": false, "score": 0, "creation_date": 1574191481, "post_id": 58941139, "comment_id": 104141324, "body": "Are you receive null value in first time opening?"}, {"owner": {"reputation": 23, "user_id": 11354806, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tnmJP7hQJ08/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd5SDnMAJG5uZ26S8q3N6D9R9hLxA/mo/photo.jpg?sz=128", "display_name": "Dubey sai vithal teja", "link": "https://stackoverflow.com/users/11354806/dubey-sai-vithal-teja"}, "edited": false, "score": 0, "creation_date": 1574191729, "post_id": 58941139, "comment_id": 104141433, "body": "it shows a blank screen cause snapshot.hasdata is false"}, {"owner": {"reputation": 33, "user_id": 9890934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9a1c22d7162467dba6a9d5d078a2ff7?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Hasan Alasady", "link": "https://stackoverflow.com/users/9890934/muhammad-hasan-alasady"}, "reply_to_user": {"reputation": 23, "user_id": 11354806, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tnmJP7hQJ08/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd5SDnMAJG5uZ26S8q3N6D9R9hLxA/mo/photo.jpg?sz=128", "display_name": "Dubey sai vithal teja", "link": "https://stackoverflow.com/users/11354806/dubey-sai-vithal-teja"}, "edited": false, "score": 0, "creation_date": 1574192062, "post_id": 58941139, "comment_id": 104141585, "body": "Check the SharedPreferences initial value."}, {"owner": {"reputation": 23, "user_id": 11354806, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tnmJP7hQJ08/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd5SDnMAJG5uZ26S8q3N6D9R9hLxA/mo/photo.jpg?sz=128", "display_name": "Dubey sai vithal teja", "link": "https://stackoverflow.com/users/11354806/dubey-sai-vithal-teja"}, "edited": false, "score": 0, "creation_date": 1574192427, "post_id": 58941139, "comment_id": 104141749, "body": "if I print the returned value of checkAuth() its returning NotAuthenticatedState"}, {"owner": {"reputation": 33, "user_id": 9890934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9a1c22d7162467dba6a9d5d078a2ff7?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Hasan Alasady", "link": "https://stackoverflow.com/users/9890934/muhammad-hasan-alasady"}, "reply_to_user": {"reputation": 23, "user_id": 11354806, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tnmJP7hQJ08/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd5SDnMAJG5uZ26S8q3N6D9R9hLxA/mo/photo.jpg?sz=128", "display_name": "Dubey sai vithal teja", "link": "https://stackoverflow.com/users/11354806/dubey-sai-vithal-teja"}, "edited": false, "score": 0, "creation_date": 1574246510, "post_id": 58941139, "comment_id": 104160795, "body": "What you mean when you return <code>App</code> and <code>Login</code> class? Are you mean push new widget?"}, {"owner": {"reputation": 23, "user_id": 11354806, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tnmJP7hQJ08/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd5SDnMAJG5uZ26S8q3N6D9R9hLxA/mo/photo.jpg?sz=128", "display_name": "Dubey sai vithal teja", "link": "https://stackoverflow.com/users/11354806/dubey-sai-vithal-teja"}, "edited": false, "score": 0, "creation_date": 1574341908, "post_id": 58941139, "comment_id": 104204613, "body": "if it returns App then you are into the app otherwise it returns login page"}, {"owner": {"reputation": 33, "user_id": 9890934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9a1c22d7162467dba6a9d5d078a2ff7?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Hasan Alasady", "link": "https://stackoverflow.com/users/9890934/muhammad-hasan-alasady"}, "reply_to_user": {"reputation": 23, "user_id": 11354806, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tnmJP7hQJ08/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd5SDnMAJG5uZ26S8q3N6D9R9hLxA/mo/photo.jpg?sz=128", "display_name": "Dubey sai vithal teja", "link": "https://stackoverflow.com/users/11354806/dubey-sai-vithal-teja"}, "edited": false, "score": 0, "creation_date": 1574509805, "post_id": 58941139, "comment_id": 104263292, "body": "I think you have to use: <code>Navigator.push(context, MaterialPageRoute(builder: (BuildContext context) =&gt; Login()));</code>"}], "tags": [], "owner": {"reputation": 33, "user_id": 9890934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9a1c22d7162467dba6a9d5d078a2ff7?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Hasan Alasady", "link": "https://stackoverflow.com/users/9890934/muhammad-hasan-alasady"}, "is_accepted": false, "score": 1, "last_activity_date": 1574192144, "last_edit_date": 1574192144, "creation_date": 1574190142, "answer_id": 58941139, "question_id": 58940451, "link": "https://stackoverflow.com/questions/58940451/how-to-convert-streamt-to-return-only-t/58941139#58941139", "title": "how to convert Stream&lt;T&gt; to return only T?", "body": "<p>I think you have to user <code>StreamBuilder</code> to get <strong>T</strong> form Stream&lt;<strong>T</strong>>, because of the time cost, It's take a time when read data with <code>SharedPreferences</code>.</p>\n\n<pre><code>StreamBuilder&lt;T&gt;(    /// T represent the type of fetched data, Assuming it's String\n    stream: /// put the stream var in there or function with stream as a return\n    builder:(BuildContext context, AsyncSnapshot&lt;T&gt; snapshot){\n        if(snapshot.hasData) /// Check If it finishes fetching the data\n            retrun Text( snapshot.data ); /// snapshot.data variable store the data that fetched\n    }\n);\n</code></pre>\n\n<p>Check this page form more:</p>\n\n<p><a href=\"https://api.flutter.dev/flutter/widgets/StreamBuilder-class.html\" rel=\"nofollow noreferrer\">https://api.flutter.dev/flutter/widgets/StreamBuilder-class.html</a></p>\n\n<p>/// Update answer</p>\n\n<p>You have to initial the data on SharedPreferences with: </p>\n\n<pre><code>\nSharedPreferences.getInstance().then((SharedPreferences sp) {\n      bool _testValue = sharedPreferences.getBool(spKey);\n      // will be null if never previously saved\n      if (_testValue == null) {\n        _testValue = false;\n        // set an initial value\n      }\n    });\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 11354806, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tnmJP7hQJ08/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd5SDnMAJG5uZ26S8q3N6D9R9hLxA/mo/photo.jpg?sz=128", "display_name": "Dubey sai vithal teja", "link": "https://stackoverflow.com/users/11354806/dubey-sai-vithal-teja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574192144, "creation_date": 1574187436, "last_edit_date": 1574190322, "question_id": 58940451, "link": "https://stackoverflow.com/questions/58940451/how-to-convert-streamt-to-return-only-t", "title": "how to convert Stream&lt;T&gt; to return only T?", "body": "<p>I have a function named <strong>checkAuth()</strong> in my <strong>APIService class</strong> which checks whether there is token  in my SharedPreferences. if there is a token it returns <strong>AuthenticatedState</strong> or else it returns <strong>NotAuthenticatedState</strong>. Running the below code doesn't have any <strong>AuthenticationState</strong> at the start. so I tried to add the <strong>checkAuth()</strong> in the seeded but it throws an error that <strong>Stream&lt;<code>AuthenticationState</code>> can't be assigned to AuthenticationState</strong>.</p>\n\n<p>How can I convert Stream<code>&lt;AuthenticationState&gt;</code> to AuthenticationState?</p>\n\n<pre><code>BehaviorSubject&lt;AuthenticationState&gt; _authStatus =\n      BehaviorSubject&lt;AuthenticationState&gt;();    \n\nStream&lt;AuthenticationState&gt; get loginStream =&gt; _authStatus;\n\n  submit() async {\n    final String validEmail = _email.value;\n    final String validPassword = _password.value;\n    APIService.login(validEmail, validPassword)\n        .then((onValue) {\n      if (onValue is Success) {\n        _authStatus.add(AuthenticatedState());\n      } else {\n        _authStatus.add(NotAuthenticatedState());\n      }\n    });\n  }\n</code></pre>\n\n<p>This is for UI</p>\n\n<pre><code>return StreamBuilder(\n      stream: stream.loginStream,\n      builder: (context, snapshot) {\n        if (!snapshot.hasData) {\n          return Container(\n            width: double.infinity,\n            height: double.infinity,\n            color: Theme.of(context).cardColor,\n            child: Center(\n              child: CircularProgressIndicator(\n                valueColor: const AlwaysStoppedAnimation(Colors.white),\n              ),\n            ),\n          );\n        }\n        if (snapshot.hasError || snapshot.data is NotAuthenticatedState) {\n          return Login();\n        }\n        if (snapshot.data is AuthenticatedState) {\n          return App();\n        }\n        return Container(width: 0, height: 0);\n      },\n    );\n</code></pre>\n\n<p>It doesn't display any thing on the screen because it doesn't have a value at start , I think so ...</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 1132, "user_id": 8220468, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Rrwv6_8LSKs/AAAAAAAAAAI/AAAAAAAAAFk/9_IEbaOrQwQ/photo.jpg?sz=128", "display_name": "Ayush Bherwani", "link": "https://stackoverflow.com/users/8220468/ayush-bherwani"}, "edited": false, "score": 0, "creation_date": 1574188019, "post_id": 58940425, "comment_id": 104139697, "body": "Wrap <code>ListView.builder</code> inside <code>Expanded</code> widget instead of <code>SizedBox</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5175056"}, "reply_to_user": {"reputation": 1132, "user_id": 8220468, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Rrwv6_8LSKs/AAAAAAAAAAI/AAAAAAAAAFk/9_IEbaOrQwQ/photo.jpg?sz=128", "display_name": "Ayush Bherwani", "link": "https://stackoverflow.com/users/8220468/ayush-bherwani"}, "edited": false, "score": 0, "creation_date": 1574188980, "post_id": 58940425, "comment_id": 104140174, "body": "@AyushBherwani didn&#39;t worked"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5175056"}, "edited": false, "score": 0, "creation_date": 1574245381, "post_id": 58947709, "comment_id": 104160084, "body": "Hey,first of all thanks. I&#39;m wondering which app you used to record the demo.Moreover,I was reading your comment about using the flutter run and pressing r when it says &quot;Invoke hot reload&quot; but i didnt see any blue tool bar and i didn&#39;t understand what zero counter are you talking about.I&#39;m also wondering how you figure it out what is the problem because by looking at the terminal i barely understood a thing.I think it&#39;s crucial for my learning process and i would appreciate an explanation"}, {"owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "edited": false, "score": 0, "creation_date": 1574297037, "post_id": 58947709, "comment_id": 104186111, "body": "comment is from flutter default project. I did not remove default comment. sorry."}, {"owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "edited": false, "score": 0, "creation_date": 1574297540, "post_id": 58947709, "comment_id": 104186226, "body": "clue came from error message. &quot;RenderFlex children have non-zero flex but incoming height&quot; and  log also suggest &quot;using Flexible&quot;. they all lead to some point. flutter do not know how to draw your layout. It did not know height of your component. I just check every component and remark / unremark to see error disappear or not."}], "tags": [], "owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "is_accepted": true, "score": 0, "last_activity_date": 1574229715, "creation_date": 1574229715, "answer_id": 58947709, "question_id": 58940425, "link": "https://stackoverflow.com/questions/58940425/rendering-textfeild-issue-flutter/58947709#58947709", "title": "Rendering TextFeild issue flutter", "body": "<p>You can copy paste run full code below <br>\nIn <code>Scaffold</code> and <code>TextFieldComp</code> use <code>Flexible</code> and use <code>Expanded flex</code> to control others <br></p>\n\n<p>code snippet</p>\n\n<pre><code>return Container(     \n      child: Column(\n        children: &lt;Widget&gt;[\n          Flexible(\n              child: TextFormField(\n                  decoration: InputDecoration(labelText: 'First Name'),\n</code></pre>\n\n<p>working demo</p>\n\n<p><a href=\"https://i.stack.imgur.com/7pEMH.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7pEMH.gif\" alt=\"enter image description here\"></a></p>\n\n<p>full test code</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Flutter Demo',\n      theme: ThemeData(\n        // This is the theme of your application.\n        //\n        // Try running your application with \"flutter run\". You'll see the\n        // application has a blue toolbar. Then, without quitting the app, try\n        // changing the primarySwatch below to Colors.green and then invoke\n        // \"hot reload\" (press \"r\" in the console where you ran \"flutter run\",\n        // or simply save your changes to \"hot reload\" in a Flutter IDE).\n        // Notice that the counter didn't reset back to zero; the application\n        // is not restarted.\n        primarySwatch: Colors.blue,\n      ),\n      home: HomeMaterialScreen(),\n    );\n  }\n}\n\n\n\nclass HomeMaterialScreen extends StatefulWidget {\n  @override\n  _HomeMaterialScreenState createState() =&gt; _HomeMaterialScreenState();\n}\n\nclass _HomeMaterialScreenState extends State&lt;HomeMaterialScreen&gt; {\n  User _user;\n  final _formKey = GlobalKey&lt;FormState&gt;();\n\n  List&lt;User&gt; userList = [\n    User(firstName: \"abc\", lastName: \"def\", newsletter: true),\n    User(firstName: \"123\", lastName: \"456\", newsletter: false),\n    User(firstName: \"1\", lastName: \"456\", newsletter: false),\n    User(firstName: \"2\", lastName: \"456\", newsletter: false),\n    User(firstName: \"3\", lastName: \"456\", newsletter: false),\n    User(firstName: \"4\", lastName: \"456\", newsletter: false),\n    User(firstName: \"5\", lastName: \"456\", newsletter: false),\n    User(firstName: \"6\", lastName: \"456\", newsletter: false),\n    User(firstName: \"1a\", lastName: \"456\", newsletter: false),\n    User(firstName: \"2a\", lastName: \"456\", newsletter: false),\n    User(firstName: \"3a\", lastName: \"456\", newsletter: false),\n    User(firstName: \"4a\", lastName: \"456\", newsletter: false),\n    User(firstName: \"5a\", lastName: \"456\", newsletter: false),\n    User(firstName: \"6a\", lastName: \"456\", newsletter: false),\n  ];\n\n  @override\n  void initState() {\n    // TODO: implement initState\n    super.initState();\n    _user = new User(newsletter: false);\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    //UserNotifier userNotifier= Provider.of&lt;UserNotifier&gt;(context);\n\n    return Scaffold(\n      appBar: AppBar(\n        title: Text('Profile'),\n      ),\n      body: Container(\n        height: MediaQuery.of(context).size.height,\n        padding: const EdgeInsets.symmetric(vertical: 16, horizontal: 16),\n        child: Builder(\n            builder: (context) =&gt; Form(\n                key: _formKey,\n                child: SingleChildScrollView(\n                  child: Container(\n                    height: MediaQuery.of(context).size.height,\n                    child: Column(\n                      crossAxisAlignment: CrossAxisAlignment.stretch,\n                      children: &lt;Widget&gt;[\n                        Flexible(child: TextFieldComp(_user)),\n                        Container(\n                          padding: const EdgeInsets.fromLTRB(0, 50, 0, 20),\n                        ),\n                       SwitchListTile(\n                          title: const Text('Monthly newsletter'),\n                          value: false,\n                          onChanged: (bool val) =&gt;\n                              setState(() =&gt; _user.newsletter = val),\n                        ),\n                        CheckboxListTile(\n                          title: const Text('Coocking'),\n                          value: false,\n                         /* onChanged: (val) =&gt; setState(\n                                  () =&gt; _user.passions[User.PassionCooking] = val),*/\n                        ),\n                        CheckboxListTile(\n                            title: const Text('Hiking'),\n                            value: true,\n                            /*onChanged: (val) {\n                              setState(() {\n                                userNotifier.addUser(_user);\n                                _user.passions[User.PassionHiking] = val;\n                              });\n                            }*/\n                        ),\n\n                        Expanded(\n                          flex: 1,\n                          child: Container(\n                              padding: const EdgeInsets.symmetric(\n                                  vertical: 16, horizontal: 16),\n                              child: RaisedButton(\n                                onPressed: () {\n                                  final form = _formKey.currentState;\n                                  if (form.validate()) {\n                                    form.save();\n                                    //_user.save();\n                                    _showDialog(context);\n                                  }\n                                },\n                              )),\n                        ),\n                        Expanded(\n                            flex: 3,\n                            child: ListView.builder(\n                          itemBuilder: (BuildContext context, int index) =&gt;\n                              Text(' ${userList[index].firstName}'),\n                          itemCount: userList.length,\n                        )),\n                      ],\n                    ),\n                  ),\n                ))),\n      ),\n    );\n  }\n\n  _showDialog(BuildContext context) {\n    Scaffold.of(context).showSnackBar(SnackBar(\n      content: Text('Submitting Form'),\n    ));\n  }\n}\n\nclass User {\n  String firstName;\n  String lastName;\n  bool newsletter;\n\n  User({\n    this.firstName,\n    this.lastName,\n    this.newsletter,\n  });\n}\n\nclass TextFieldComp extends StatefulWidget {\n  User _user;\n  TextFieldComp(User user) {\n    _user = user;\n  }\n\n  @override\n  _TextFieldCompState createState() =&gt; _TextFieldCompState();\n}\n\nclass _TextFieldCompState extends State&lt;TextFieldComp&gt; {\n  @override\n  Widget build(BuildContext context) {\n    // TODO: implement build\n    return Container(\n      //height: 200,\n      child: Column(\n        children: &lt;Widget&gt;[\n          Flexible(\n              child: TextFormField(\n                  decoration: InputDecoration(labelText: 'First Name'),\n                  validator: (value) {\n                    if (value.isEmpty)\n                      return \"Please insert Value\";\n                    else\n                      return null;\n                  },\n                  onSaved: (val) =&gt;\n                      setState(() =&gt; widget._user.firstName = val))),\n          Flexible(\n            child: TextFormField(\n                decoration: InputDecoration(labelText: 'Last Name'),\n                validator: (value) {\n                  if (value.isEmpty)\n                    return \"Please insert Value\";\n                  else\n                    return null;\n                },\n                onSaved: (val) =&gt; setState(() =&gt; widget._user.lastName = val)),\n          ),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5175056"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 58947709, "answer_count": 1, "score": 0, "last_activity_date": 1574229715, "creation_date": 1574187303, "question_id": 58940425, "link": "https://stackoverflow.com/questions/58940425/rendering-textfeild-issue-flutter", "title": "Rendering TextFeild issue flutter", "body": "<p>I'm having an issue fixing Redering issue while creating TextFeild in dart.</p>\n\n<p>From a short search i found out that it is better putting the above widget in a Container though it did not helped fixing the issue.</p>\n\n<p>I'm having an issue fixing Redering issue while creating TextFeild in dart.</p>\n\n<p>From a short search i found out that it is better putting the above widget in a Container though it did not helped fixing the issue.</p>\n\n<p>main  screen class:</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:notifier_demo/components/TextFieldComp.dart';\nimport 'package:notifier_demo/models/user.dart';\nimport 'package:notifier_demo/notifier/UserNotifier.dart';\nimport 'package:provider/provider.dart';\n\n    class HomeMaterialScreen extends StatefulWidget {\n      @override\n      _HomeMaterialScreenState createState() =&gt; _HomeMaterialScreenState();\n    }\n\n    class _HomeMaterialScreenState extends State&lt;HomeMaterialScreen&gt; {\n      final _user = new User();\n      final _formKey = GlobalKey&lt;FormState&gt;();\n      @override\n      Widget build(BuildContext context) {\n        UserNotifier userNotifier= Provider.of&lt;UserNotifier&gt;(context);\n\n        return Scaffold(\n          appBar: AppBar(\n            title: Text('Profile'),\n          ),\n          body: Container(\n            padding: const EdgeInsets.symmetric(vertical: 16, horizontal: 16),\n            child: Builder(\n                builder: (context) =&gt; Form(\n                    key: _formKey,\n                    child: SingleChildScrollView(\n                      child: Column(\n                        crossAxisAlignment: CrossAxisAlignment.stretch,\n                        children: &lt;Widget&gt;[\n                            Expanded(\n                             child:TextFieldComp(_user),\n\n                            ),\n\n                            Container(\n                              padding: const EdgeInsets.fromLTRB(0, 50, 0, 20),\n                            ),\n                            SwitchListTile(\n                              title: const Text('Monthly newsletter'),\n                              value: _user.newsletter,\n                              onChanged: (bool val) =&gt;\n                                  setState(() =&gt; _user.newsletter = val),\n                            ),\n                            CheckboxListTile(\n                              title: const Text('Coocking'),\n                              value: _user.passions[User.PassionCooking],\n                              onChanged: (val) =&gt; setState(\n                                      () =&gt; _user.passions[User.PassionCooking] = val),\n                            ),\n                            CheckboxListTile(\n                                title: const Text('Hiking'),\n                                value: _user.passions[User.PassionHiking],\n                                onChanged: (val) {\n                                  setState(() {\n                                    userNotifier.addUser(_user);\n                                    _user.passions[User.PassionHiking] = val;\n                                  });\n                                }\n                            ),\n\n\n                          Container(\n                              padding: const EdgeInsets.symmetric(\n                                  vertical: 16, horizontal: 16),\n                              child: RaisedButton(\n                                onPressed: () {\n                                  final form = _formKey.currentState;\n                                  if (form.validate()) {\n                                    form.save();\n                                    _user.save();\n                                    _showDialog(context);\n                                  }\n                                },\n                              )\n                          ),\n\n                          SizedBox(\n\n                              child: ListView.builder(\n                                itemBuilder: (BuildContext context,int index)=&gt;Text('PlaceHolder for List'),\n                                itemCount: userNotifier.userList.length,\n                              )\n                          ),\n                        ],\n                      ),\n                    ))),\n          ),\n        );\n      }\n\n      _showDialog(BuildContext context) {\n        Scaffold.of(context).showSnackBar(SnackBar(\n          content: Text('Submitting Form'),\n        ));\n      }\n    }\n</code></pre>\n\n<p>the TextFeild class:</p>\n\n<pre><code>import 'package:flutter/cupertino.dart';\nimport 'package:flutter/material.dart';\nimport 'package:notifier_demo/models/user.dart';\n\nclass TextFieldComp extends StatefulWidget{\n  User _user;\n  TextFieldComp(User user) {\n    _user=user;\n\n  }\n\n  @override\n  _TextFieldCompState createState() =&gt; _TextFieldCompState();\n}\n\nclass _TextFieldCompState extends State&lt;TextFieldComp&gt; {\n  @override\n  Widget build(BuildContext context) {\n    // TODO: implement build\n    return Column(\n      children: &lt;Widget&gt;[\n        Container(\n          child:    TextFormField(\n              decoration: InputDecoration(labelText: 'First Name'),\n              validator: (value) {\n                if (value.isEmpty)\n                  return \"Please insert Value\";\n                else\n                  return null;\n              },\n              onSaved: (val) =&gt;\n                  setState(() =&gt; widget._user.firstName = val)\n          )\n        ),\n        Container(\n                 child: TextFormField(\n                  decoration: InputDecoration(labelText: 'Last Name'),\n            validator: (value) {\n            if (value.isEmpty)\n            return \"Please insert Value\";\n            else\n            return null;\n            },\n            onSaved: (val) =&gt;\n            setState(() =&gt; widget._user.lastName = val)\n\n    ),\n        ),\n\n\n      ],\n    );\n\n\n  }\n}\n</code></pre>\n\n<p>Log:</p>\n\n<pre><code>I/flutter ( 9200): \u2550\u2550\u2561 EXCEPTION CAUGHT BY RENDERING LIBRARY \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nI/flutter ( 9200): The following assertion was thrown during performLayout():\nI/flutter ( 9200): RenderFlex children have non-zero flex but incoming height constraints are unbounded.\nI/flutter ( 9200): When a column is in a parent that does not provide a finite height constraint, for example if it is\nI/flutter ( 9200): in a vertical scrollable, it will try to shrink-wrap its children along the vertical axis. Setting a\nI/flutter ( 9200): flex on a child (e.g. using Expanded) indicates that the child is to expand to fill the remaining\nI/flutter ( 9200): space in the vertical direction.\nI/flutter ( 9200): These two directives are mutually exclusive. If a parent is to shrink-wrap its child, the child\nI/flutter ( 9200): cannot simultaneously expand to fit its parent.\nI/flutter ( 9200): Consider setting mainAxisSize to MainAxisSize.min and using FlexFit.loose fits for the flexible\nI/flutter ( 9200): children (using Flexible rather than Expanded). This will allow the flexible children to size\nI/flutter ( 9200): themselves to less than the infinite remaining space they would otherwise be forced to take, and\nI/flutter ( 9200): then will cause the RenderFlex to shrink-wrap the children rather than expanding to fit the maximum\nI/flutter ( 9200): constraints provided by the parent.\nI/flutter ( 9200): If this message did not help you determine the problem, consider using debugDumpRenderTree():\nI/flutter ( 9200):   https://flutter.dev/debugging/#rendering-layer\nI/flutter ( 9200):   http://api.flutter.dev/flutter/rendering/debugDumpRenderTree.html\nI/flutter ( 9200): The affected RenderFlex is:\nI/flutter ( 9200):   RenderFlex#6a02e relayoutBoundary=up12 NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE(creator: Column \u2190 _SingleChildViewport \u2190 IgnorePointer-[GlobalKey#30dc5] \u2190 Semantics \u2190 _PointerListener \u2190 Listener \u2190 _GestureSemantics \u2190 RawGestureDetector-[LabeledGlobalKey&lt;RawGestureDetectorState&gt;#7b5bd] \u2190 _PointerListener \u2190 Listener \u2190 _ScrollableScope \u2190 _ScrollSemantics-[GlobalKey#2b979] \u2190 \u22ef, parentData: &lt;none&gt; (can use size), constraints: BoxConstraints(0.0&lt;=w&lt;=422.7, 0.0&lt;=h&lt;=Infinity), size: MISSING, direction: vertical, mainAxisAlignment: start, mainAxisSize: max, crossAxisAlignment: stretch, verticalDirection: down)\nI/flutter ( 9200): The creator information is set to:\nI/flutter ( 9200):   Column \u2190 _SingleChildViewport \u2190 IgnorePointer-[GlobalKey#30dc5] \u2190 Semantics \u2190 _PointerListener \u2190\nI/flutter ( 9200):   Listener \u2190 _GestureSemantics \u2190\nI/flutter ( 9200):   RawGestureDetector-[LabeledGlobalKey&lt;RawGestureDetectorState&gt;#7b5bd] \u2190 _PointerListener \u2190 Listener\nI/flutter ( 9200):   \u2190 _ScrollableScope \u2190 _ScrollSemantics-[GlobalKey#2b979] \u2190 \u22ef\nI/flutter ( 9200): The nearest ancestor providing an unbounded width constraint is: _RenderSingleChildViewport#e33e5 relayoutBoundary=up11 NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE:\nI/flutter ( 9200):   needs compositing\nI/flutter ( 9200):   creator: _SingleChildViewport \u2190 IgnorePointer-[GlobalKey#30dc5] \u2190 Semantics \u2190 _PointerListener \u2190\nI/flutter ( 9200):     Listener \u2190 _GestureSemantics \u2190\nI/flutter ( 9200):     RawGestureDetector-[LabeledGlobalKey&lt;RawGestureDetectorState&gt;#7b5bd] \u2190 _PointerListener \u2190 Listener\nI/flutter ( 9200):     \u2190 _ScrollableScope \u2190 _ScrollSemantics-[GlobalKey#2b979] \u2190 RepaintBoundary \u2190 \u22ef\nI/flutter ( 9200):   parentData: &lt;none&gt; (can use size)\nI/flutter ( 9200):   constraints: BoxConstraints(0.0&lt;=w&lt;=422.7, 0.0&lt;=h&lt;=749.5)\nI/flutter ( 9200):   size: MISSING\nI/flutter ( 9200): See also: https://flutter.dev/layout/\nI/flutter ( 9200): If none of the above helps enough to fix this problem, please don't hesitate to file a bug:\nI/flutter ( 9200):   https://github.com/flutter/flutter/issues/new?template=BUG.md\nI/flutter ( 9200): \nI/flutter ( 9200): User-created ancestor of the error-causing widget was:\nI/flutter ( 9200):   SingleChildScrollView\nI/flutter ( 9200):   file:///C:/Users/omer/AndroidStudioProjects/clima_flutter_app/notifier_demo/lib/screens/home_material_screen.dart:28:24\nI/flutter ( 9200): \nI/flutter ( 9200): When the exception was thrown, this was the stack:\nI/flutter ( 9200): #0      RenderFlex.performLayout.&lt;anonymous closure&gt; (package:flutter/src/rendering/flex.dart:691:11)\nI/flutter ( 9200): #1      RenderFlex.performLayout (package:flutter/src/rendering/flex.dart:718:10)\nI/flutter ( 9200): #2      RenderObject.layout (package:flutter/src/rendering/object.dart:1701:7)\nI/flutter ( 9200): #3      _RenderSingleChildViewport.performLayout (package:flutter/src/widgets/single_child_scroll_view.dart:497:13)\nI/flutter ( 9200): #4      RenderObject.layout (package:flutter/src/rendering/object.dart:1701:7)\nI/flutter ( 9200): #5      RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter ( 9200): #6      RenderObject.layout (package:flutter/src/rendering/object.dart:1701:7)\nI/flutter ( 9200): #7      RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter ( 9200): #8      RenderObject.layout (package:flutter/src/rendering/object.dart:1701:7)\nI/flutter ( 9200): #9      RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter ( 9200): #10     RenderObject.layout (package:flutter/src/rendering/object.dart:1701:7)\nI/flutter ( 9200): #11     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter ( 9200): #12     RenderObject.layout (package:flutter/src/rendering/object.dart:1701:7)\nI/flutter ( 9200): #13     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter ( 9200): #14     RenderObject.layout (package:flutter/src/rendering/object.dart:1701:7)\nI/flutter ( 9200): #15     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter ( 9200): #16     RenderObject.layout (package:flutter/src/rendering/object.dart:1701:7)\nI/flutter ( 9200): #17     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter ( 9200): #18     RenderObject.layout (package:flutter/src/rendering/object.dart:1701:7)\nI/flutter ( 9200): #19     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter ( 9200): #20     RenderObject.layout (package:flutter/src/rendering/object.dart:1701:7)\nI/flutter ( 9200): #21     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter ( 9200): #22     RenderObject.layout (package:flutter/src/rendering/object.dart:1701:7)\nI/flutter ( 9200): #23     RenderPadding.performLayout (package:flutter/src/rendering/shifted_box.dart:206:11)\nI/flutter ( 9200): #24     RenderObject.layout (package:flutter/src/rendering/object.dart:1701:7)\nI/flutter ( 9200): #25     MultiChildLayoutDelegate.layoutChild (package:flutter/src/rendering/custom_layout.dart:142:11)\nI/flutter ( 9200): #26     _ScaffoldLayout.performLayout (package:flutter/src/material/scaffold.dart:444:7)\nI/flutter ( 9200): #27     MultiChildLayoutDelegate._callPerformLayout (package:flutter/src/rendering/custom_layout.dart:212:7)\nI/flutter ( 9200): #28     RenderCustomMultiChildLayoutBox.performLayout (package:flutter/src/rendering/custom_layout.dart:356:14)\nI/flutter ( 9200): #29     RenderObject.layout (package:flutter/src/rendering/object.dart:1701:7)\nI/flutter ( 9200): #30     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter ( 9200): #31     RenderObject.layout (package:flutter/src/rendering/object.dart:1701:7)\nI/flutter ( 9200): #32     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter ( 9200): #33     _RenderCustomClip.performLayout (package:flutter/src/rendering/proxy_box.dart:1232:11)\nI/flutter ( 9200): #34     RenderObject.layout (package:flutter/src/rendering/object.dart:1701:7)\nI/flutter ( 9200): #35     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter ( 9200): #36     RenderObject.layout (package:flutter/src/rendering/object.dart:1701:7)\nI/flutter ( 9200): #37     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter ( 9200): #38     RenderObject.layout (package:flutter/src/rendering/object.dart:1701:7)\nI/flutter ( 9200): #39     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter ( 9200): #40     RenderObject.layout (package:flutter/src/rendering/object.dart:1701:7)\nI/flutter ( 9200): #41     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter ( 9200): #42     RenderObject.layout (package:flutter/src/rendering/object.dart:1701:7)\nI/flutter ( 9200): #43     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter ( 9200): #44     RenderObject.layout (package:flutter/src/rendering/object.dart:1701:7)\nI/flutter ( 9200): #45     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter ( 9200): #46     RenderObject.layout (package:flutter/src/rendering/object.dart:1701:7)\nI/flutter ( 9200): #47     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter ( 9200): #48     RenderObject.layout (package:flutter/src/rendering/object.dart:1701:7)\nI/flutter ( 9200): #49     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter ( 9200): #50     RenderOffstage.performLayout (package:flutter/src/rendering/proxy_box.dart:3140:13)\nI/flutter ( 9200): #51     RenderObject.layout (package:flutter/src/rendering/object.dart:1701:7)\nI/flutter ( 9200): #52     RenderStack.performLayout (package:flutter/src/rendering/stack.dart:510:15)\nI/flutter ( 9200): #53     RenderObject.layout (package:flutter/src/rendering/object.dart:1701:7)\nI/flutter ( 9200): #54     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter ( 9200): #55     RenderObject.layout (package:flutter/src/rendering/object.dart:1701:7)\nI/flutter ( 9200): #56     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter ( 9200): #57     RenderObject.layout (package:flutter/src/rendering/object.dart:1701:7)\nI/flutter ( 9200): #58     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter ( 9200): #59     RenderObject.layout (package:flutter/src/rendering/object.dart:1701:7)\nI/flutter ( 9200): #60     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter ( 9200): #61     RenderObject.layout (package:flutter/src/rendering/object.dart:1701:7)\nI/flutter ( 9200): #62     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter ( 9200): #63     RenderObject.layout (package:flutter/src/rendering/object.dart:1701:7)\nI/flutter ( 9200): #64     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:13)\nI/flutter ( 9200): #65     RenderObject.layout (package:flutter/src/rendering/object.dart:1701:7)\nI/flutter ( 9200): #66     RenderView.performLayout (package:flutter/src/rendering/view.dart:152:13)\nI/flutter ( 9200): #67     RenderObject._layoutWithoutResize (package:flutter/src/rendering/object.dart:1578:7)\nI/flutter ( 9200): #68     PipelineOwner.flushLayout (package:flutter/src/rendering/object.dart:844:18)\nI/flutter ( 9200): #69     RendererBinding.drawFrame (package:flutter/src/rendering/binding.dart:341:19)\nI/flutter ( 9200): #70     WidgetsBinding.drawFrame (package:flutter/src/widgets/binding.dart:761:13)\nI/flutter ( 9200): #71     RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:280:5)\nI/flutter ( 9200): #72     SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1033:15)\nI/flutter ( 9200): #73     SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:975:9)\nI/flutter ( 9200): #74     SchedulerBinding.scheduleWarmUpFrame.&lt;anonymous closure&gt; (package:flutter/src/scheduler/binding.dart:784:7)\nI/flutter ( 9200): #83     _Timer._runTimers (dart:isolate-patch/timer_impl.dart:382:19)\nI/flutter ( 9200): #84     _Timer._handleMessage (dart:isolate-patch/timer_impl.dart:416:5)\nI/flutter ( 9200): #85     _RawReceivePortImpl._handleMessage (dart:isolate-patch/isolate_patch.dart:172:12)\nI/flutter ( 9200): (elided 8 frames from package dart:async and package dart:async-patch)\nI/flutter ( 9200): \nI/flutter ( 9200): The following RenderObject was being processed when the exception was fired: RenderFlex#6a02e relayoutBoundary=up12 NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE:\nI/flutter ( 9200):   creator: Column \u2190 _SingleChildViewport \u2190 IgnorePointer-[GlobalKey#30dc5] \u2190 Semantics \u2190\nI/flutter ( 9200):     _PointerListener \u2190 Listener \u2190 _GestureSemantics \u2190\nI/flutter ( 9200):     RawGestureDetector-[LabeledGlobalKey&lt;RawGestureDetectorState&gt;#7b5bd] \u2190 _PointerListener \u2190 Listener\nI/flutter ( 9200):     \u2190 _ScrollableScope \u2190 _ScrollSemantics-[GlobalKey#2b979] \u2190 \u22ef\nI/flutter ( 9200):   parentData: &lt;none&gt; (can use size)\nI/flutter ( 9200):   constraints: BoxConstraints(0.0&lt;=w&lt;=422.7, 0.0&lt;=h&lt;=Infinity)\nI/flutter ( 9200):   size: MISSING\nI/flutter ( 9200):   direction: vertical\nI/flutter ( 9200):   mainAxisAlignment: start\nI/flutter ( 9200):   mainAxisSize: max\nI/flutter ( 9200):   crossAxisAlignment: stretch\nI/flutter ( 9200):   verticalDirection: down\nI/flutter ( 9200): This RenderObject had the following descendants (showing up to depth 5):\nI/flutter ( 9200):     child 1: RenderFlex#e703f NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE\nI/flutter ( 9200):       child 1: RenderSemanticsAnnotations#65551 NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE\nI/flutter ( 9200):         child: RenderMouseRegion#4ff1d NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE\nI/flutter ( 9200):           child: RenderIgnorePointer#2bb3e NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE\nI/flutter ( 9200):             child: RenderPointerListener#20294 NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE\nI/flutter ( 9200):       child 2: RenderSemanticsAnnotations#06bc1 NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE\nI/flutter ( 9200):         child: RenderMouseRegion#57aa7 NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE\nI/flutter ( 9200):           child: RenderIgnorePointer#7eca8 NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE\nI/flutter ( 9200):             child: RenderPointerListener#fa0bd NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE\nI/flutter ( 9200):     child 2: RenderPadding#7190e NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE\nI/flutter ( 9200):       child: RenderLimitedBox#1277a NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE\nI/flutter ( 9200):         child: RenderConstrainedBox#e1fb0 NEEDS-LAYOUT NEEDS-PAINT\nI/flutter ( 9200):     child 3: RenderMergeSemantics#583ac NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE\nI/flutter ( 9200):       child: RenderMouseRegion#545d8 NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE\nI/flutter ( 9200):         child: RenderSemanticsGestureHandler#93036 NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE\nI/flutter ( 9200):           child: RenderPointerListener#56f31 NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE\nI/flutter ( 9200):             child: RenderSemanticsAnnotations#13b79 NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE\nI/flutter ( 9200):     child 4: RenderMergeSemantics#43d98 NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE\nI/flutter ( 9200):       child: RenderMouseRegion#75318 NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE\nI/flutter ( 9200):         child: RenderSemanticsGestureHandler#0566c NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE\nI/flutter ( 9200):           child: RenderPointerListener#a678e NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE\nI/flutter ( 9200):             child: RenderSemanticsAnnotations#b65af NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE\nI/flutter ( 9200):     child 5: RenderMergeSemantics#1223e NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE\nI/flutter ( 9200):       child: RenderMouseRegion#99b6f NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE\nI/flutter ( 9200):         child: RenderSemanticsGestureHandler#cb1e4 NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE\nI/flutter ( 9200):           child: RenderPointerListener#5cb96 NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE\nI/flutter ( 9200):             child: RenderSemanticsAnnotations#d0902 NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE\nI/flutter ( 9200): \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n</code></pre>\n"}, {"tags": ["firebase", "flutter", "dart", "firebase-storage"], "comments": [{"owner": {"reputation": 1732, "user_id": 1604170, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/253f34cbe5ed92c7363b0cae27d29ab6?s=128&d=identicon&r=PG", "display_name": "BBacon", "link": "https://stackoverflow.com/users/1604170/bbacon"}, "edited": false, "score": 0, "creation_date": 1574188593, "post_id": 58940344, "comment_id": 104139982, "body": "There was (is?) a similar issue on AngularFire, you can maybe use the same workaround to fix this: <a href=\"https://github.com/angular/angularfire/issues/1736\" rel=\"nofollow noreferrer\">github.com/angular/angularfire/issues/1736</a>"}, {"owner": {"reputation": 1732, "user_id": 1604170, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/253f34cbe5ed92c7363b0cae27d29ab6?s=128&d=identicon&r=PG", "display_name": "BBacon", "link": "https://stackoverflow.com/users/1604170/bbacon"}, "edited": false, "score": 0, "creation_date": 1574188688, "post_id": 58940344, "comment_id": 104140030, "body": "StorageReference storageReference = FirebaseStorage.instance.ref(); and then you try getting the child, not directly in the reference."}], "owner": {"reputation": 13, "user_id": 1576579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e65d702a4feac3779b0e333b2d7cb609?s=128&d=identicon&r=PG", "display_name": "user1576579", "link": "https://stackoverflow.com/users/1576579/user1576579"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 588, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1574188084, "creation_date": 1574186950, "last_edit_date": 1574188084, "question_id": 58940344, "link": "https://stackoverflow.com/questions/58940344/why-doesnt-flutter-catch-firebase-storage-file-not-found-error", "title": "Why doesn&#39;t flutter catch firebase storage file not found error?", "body": "<p>In my flutter app, I try to get the url of a file in firebase storage. I deleted this file on purpose to test the error message that I display to the user when there is no file found. The problem is Flutter/Dart doesn't catch the error at all! Instead it freezes the application, and in visual studio code it displays this exception:</p>\n\n<p>\"Exception has occurred.\nPlatformException (PlatformException(download_error, Object does not exist at location., null))\"</p>\n\n<p>This is my code to catch the error:</p>\n\n<pre><code>StorageReference storageReference = FirebaseStorage.instance.ref().child('nonExistingFile.jpg');\nstorageReference.getDownloadURL().catchError((onError){\n  scaffoldKey.currentState.showSnackBar(new SnackBar(content: new Text(\"Error: File not found!\"), duration: new Duration(seconds: 4),));\n});\n</code></pre>\n\n<p>The above code DOESN'T catch the error and act accordingly! Why is that??</p>\n"}, {"tags": ["ios", "flutter", "dart", "gesture"], "comments": [{"owner": {"reputation": 165, "user_id": 2552275, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/cbd582d5f6d92ffff9cf9be84c722b4b?s=128&d=identicon&r=PG&f=1", "display_name": "MNFS", "link": "https://stackoverflow.com/users/2552275/mnfs"}, "edited": false, "score": 0, "creation_date": 1594877275, "post_id": 58939740, "comment_id": 111281405, "body": "Hi, did you found the solution for your issue?"}], "answers": [{"comments": [{"owner": {"reputation": 190, "user_id": 12184173, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FI9NxIP31ys/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcVeziBVVKYzoIP2ZXbb3W5xtcK4w/photo.jpg?sz=128", "display_name": "Simon B", "link": "https://stackoverflow.com/users/12184173/simon-b"}, "edited": false, "score": 0, "creation_date": 1574243159, "post_id": 58942811, "comment_id": 104158718, "body": "No, I want both to have the WillPopScope because in it, i change the preffered orientation... But If I use WillPopScore, the &quot;swipe to go back&quot; is disabled... I would like a function to re-enable it..."}, {"owner": {"reputation": 2056, "user_id": 11829057, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mabUZXql6Ss/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd8xuCsBWOYttvev76OEWj4v5uz4w/photo.jpg?sz=128", "display_name": "Karel Debedts", "link": "https://stackoverflow.com/users/11829057/karel-debedts"}, "reply_to_user": {"reputation": 190, "user_id": 12184173, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FI9NxIP31ys/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcVeziBVVKYzoIP2ZXbb3W5xtcK4w/photo.jpg?sz=128", "display_name": "Simon B", "link": "https://stackoverflow.com/users/12184173/simon-b"}, "edited": false, "score": 0, "creation_date": 1574252203, "post_id": 58942811, "comment_id": 104164023, "body": "Ok I understand, I gave another answer"}], "tags": [], "owner": {"reputation": 2056, "user_id": 11829057, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mabUZXql6Ss/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd8xuCsBWOYttvev76OEWj4v5uz4w/photo.jpg?sz=128", "display_name": "Karel Debedts", "link": "https://stackoverflow.com/users/11829057/karel-debedts"}, "is_accepted": false, "score": -2, "last_activity_date": 1574197660, "creation_date": 1574197660, "answer_id": 58942811, "question_id": 58939740, "link": "https://stackoverflow.com/questions/58939740/flutter-willpopscope-disable-the-swipe-left-to-go-back-in-ios/58942811#58942811", "title": "Flutter WillPopScope disable the swipe left to go back in IOS", "body": "<p>If I understand it correctly, you don't want the android user to use the back button, but the ios user may use the swipe left gesture. (because the ios user doesn't have a back button). </p>\n\n<p>In that case, you can make the willpopscope (false or true) a variable.</p>\n\n<p>And within the initstate you can create a function that defines the platform:</p>\n\n<pre><code>import 'dart:io' show Platform;\n\nif (Platform.isAndroid) {\n  // Android-specific code\n  // here you can set the variable to true\n} else if (Platform.isIOS) {\n  // iOS-specific code\n  // here you can set the variable to false\n\n}\n</code></pre>\n\n<p>In case you wan't to disable the back button on the appBar, that's another line of code within the appBar.</p>\n"}, {"tags": [], "owner": {"reputation": 2056, "user_id": 11829057, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mabUZXql6Ss/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd8xuCsBWOYttvev76OEWj4v5uz4w/photo.jpg?sz=128", "display_name": "Karel Debedts", "link": "https://stackoverflow.com/users/11829057/karel-debedts"}, "is_accepted": false, "score": -2, "last_activity_date": 1574252299, "creation_date": 1574252299, "answer_id": 58954188, "question_id": 58939740, "link": "https://stackoverflow.com/questions/58939740/flutter-willpopscope-disable-the-swipe-left-to-go-back-in-ios/58954188#58954188", "title": "Flutter WillPopScope disable the swipe left to go back in IOS", "body": "<p>In order to control the behaviour of you willpopscope. You can make the true or false a variable.</p>\n\n<pre><code>  onWillPop: () async =&gt; false,\n</code></pre>\n\n<p>with a variable that would be:</p>\n\n<pre><code>bool myVariable = false;\n\n  onWillPop: () async =&gt; myVariable,\n</code></pre>\n\n<p>To change the behaviour you can make a function that uses SetState to change 'myVariable'.</p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 11877267, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9g6dq5SNAiw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdtOB6iDnjw8555g-eskTHbDEzVFw/photo.jpg?sz=128", "display_name": "Huy Bui Dac", "link": "https://stackoverflow.com/users/11877267/huy-bui-dac"}, "is_accepted": false, "score": 3, "last_activity_date": 1595988764, "last_edit_date": 1595988764, "creation_date": 1592266704, "answer_id": 62399052, "question_id": 58939740, "link": "https://stackoverflow.com/questions/58939740/flutter-willpopscope-disable-the-swipe-left-to-go-back-in-ios/62399052#62399052", "title": "Flutter WillPopScope disable the swipe left to go back in IOS", "body": "<p>If <code>onWillPop</code> is null, the swipe back feature is enabled again.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>return WillPopScope(\n  onWillPop: isLoading ? () async =&gt; false : null,\n  child: child);\n</code></pre>\n"}], "owner": {"reputation": 190, "user_id": 12184173, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FI9NxIP31ys/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcVeziBVVKYzoIP2ZXbb3W5xtcK4w/photo.jpg?sz=128", "display_name": "Simon B", "link": "https://stackoverflow.com/users/12184173/simon-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2416, "favorite_count": 1, "closed_date": 1595991482, "answer_count": 3, "score": -1, "last_activity_date": 1595988764, "creation_date": 1574184564, "question_id": 58939740, "link": "https://stackoverflow.com/questions/58939740/flutter-willpopscope-disable-the-swipe-left-to-go-back-in-ios", "closed_reason": "Not suitable for this site", "title": "Flutter WillPopScope disable the swipe left to go back in IOS", "body": "<p>I use <code>WillPopScope</code> in my flutter app and it disable the \"Swipe left to go back\" that is really usefull in IOS. How to keep the <code>WillPopScope</code> but re-add the iOS gesture ?</p>\n"}, {"tags": ["dart"], "answers": [{"tags": [], "owner": {"reputation": 1381, "user_id": 7040601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8645047cc60a3d4cc3a43239b5b523bf?s=128&d=identicon&r=PG&f=1", "display_name": "FutureJJ", "link": "https://stackoverflow.com/users/7040601/futurejj"}, "is_accepted": false, "score": 1, "last_activity_date": 1574188712, "last_edit_date": 1574188712, "creation_date": 1574186263, "answer_id": 58940165, "question_id": 58939437, "link": "https://stackoverflow.com/questions/58939437/return-type-of-void-async-function-in-dart/58940165#58940165", "title": "Return type of void async function in Dart", "body": "<p>In your code, both functions <code>foo()</code> and <code>bar()</code> are not returning anything so <strong>any function return type is valid for both functions</strong> eg:</p>\n\n<pre><code>void/T/Future&lt;T&gt;... foo() async {\n  print('foo');\n}\n\nFuture&lt;void&gt;/T/Future&lt;T&gt;... bar() async {\n  print('bar');\n}\n</code></pre>\n\n<p>and here,</p>\n\n<pre><code>await foo();\nawait bar();\n</code></pre>\n\n<p><code>await</code> just waits till the execution of these async functions is complete. As there is no return type, <strong>await has no purpose here(redundant)</strong> so this is and should not be a compilation error. </p>\n\n<hr>\n\n<p>The difference is that <code>Future&lt;void&gt;</code> <strong>gives you information of the execution</strong> of the function like when the execution is complete and it also allows you to specify what to do when the function is executed by using <code>bar().then(...)</code> and <code>bar().whenComplete(...)</code>.</p>\n\n<p>While <code>foo()</code> function return <code>void</code> and <code>void</code> does not hold as such any info like <code>Future&lt;void&gt;</code>. If you try to <code>await bar()</code> it will convert that <code>Future</code> object from <code>Future&lt;void&gt;</code> to <code>void</code>. </p>\n\n<hr>\n\n<p><code>Future</code> is just a container, with <code>await</code> returns the values once the async \"tasks\" are completed. Without <code>await</code>, <code>Future</code> objects give you information about the execution of the function from which they are returning.</p>\n"}, {"tags": [], "owner": {"reputation": 320, "user_id": 11944104, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-f6yYt9EPQDM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re52YjF__mXuL1s2C2_REdQbI-gPg/photo.jpg?sz=128", "display_name": "AKushWarrior", "link": "https://stackoverflow.com/users/11944104/akushwarrior"}, "is_accepted": false, "score": 0, "last_activity_date": 1574225506, "creation_date": 1574225506, "answer_id": 58946913, "question_id": 58939437, "link": "https://stackoverflow.com/questions/58939437/return-type-of-void-async-function-in-dart/58946913#58946913", "title": "Return type of void async function in Dart", "body": "<p>A Future is simply a representation of an <code>Object</code> that hasn't completed the underlying function, and thus is a \"promise\" for later use. When you use <code>Future&lt;void&gt;</code>, there's no <code>Object</code> to return anyways, so it doesn't matter whether you use <code>void</code> or <code>Future&lt;void&gt;</code>. (The function doesn't return anything, so the return type is a placeholder anyways.)</p>\n\n<p>However...\n<code>Future&lt;void&gt;</code> can be used for listeners, and to check when things are complete, as can every <code>Future</code>. This means that you can use <code>Future</code>'s listeners to check for completion or errors in running your <code>Future&lt;void&gt; async</code> function, but not your <code>void async</code> function. Thus, in some cases, it's better to give <code>Future&lt;void&gt;</code> than <code>void</code> as the return type.</p>\n"}, {"comments": [{"owner": {"reputation": 320, "user_id": 11944104, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-f6yYt9EPQDM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re52YjF__mXuL1s2C2_REdQbI-gPg/photo.jpg?sz=128", "display_name": "AKushWarrior", "link": "https://stackoverflow.com/users/11944104/akushwarrior"}, "edited": false, "score": 0, "creation_date": 1597165678, "post_id": 58952546, "comment_id": 112042977, "body": "It is a warning to not return a value in a function with a return type."}], "tags": [], "owner": {"reputation": 67096, "user_id": 265521, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/34a66330977044d70165288c56740d4b?s=128&d=identicon&r=PG", "display_name": "Timmmm", "link": "https://stackoverflow.com/users/265521/timmmm"}, "is_accepted": false, "score": 1, "last_activity_date": 1574246975, "creation_date": 1574246975, "answer_id": 58952546, "question_id": 58939437, "link": "https://stackoverflow.com/questions/58939437/return-type-of-void-async-function-in-dart/58952546#58952546", "title": "Return type of void async function in Dart", "body": "<p>Thanks to the other answers - they were a little unclear to me so I'm just going to add some clarifications after experimenting on DartPad:</p>\n\n<ol>\n<li><p>It is never an error <em>or even a warning!</em> to not return a value from a function, irrespective of the return type. This madness is presumably inherited from Javascript.</p></li>\n<li><p>If you don't return from a function it implicitly returns <code>null</code>. Except in these cases:</p>\n\n<ul>\n<li>If the return type is <code>void</code>, it does not return a value (and using the result of the expression is a compiler error).</li>\n<li>If the function is <code>async</code>:\n\n<ul>\n<li>If the return type is <code>void</code>, you cannot use the result of the function, however you can still <code>await</code> it but you cannot use the result of the <code>await</code> expression, or use any methods of <code>Future</code>.</li>\n<li>If the return type is <code>Future&lt;void&gt;</code> it returns an instance of <code>Future&lt;void&gt;</code>. You can <code>await</code> it, and call methods of <code>Future</code>, e.g. <code>.then((void v) { ... });</code>. However you cannot use the result of <code>await</code> (because it is <code>void</code>).</li>\n<li>If the return type is <code>Future&lt;T&gt;</code> it returns an instance of <code>Future&lt;T&gt;</code> that resolves to <code>null</code>.</li>\n</ul></li>\n</ul></li>\n</ol>\n\n<p>So basically, if you want to allow callers to use <code>Future</code> methods, you need to annotate the return type as <code>Future&lt;void&gt;</code>. If you merely want them to be able to <code>await</code> the function, you only need <code>void</code>. However since you probably don't know in advance I suspect it is a good idea to always use <code>Future&lt;void&gt;</code>.</p>\n\n<p>Here's an example that demonstrates the possibilities:</p>\n\n<pre><code>// Compilation error - functions marked async must have a \n// return type assignable to 'Future'\n// int int_async() async {\n// }\nvoid void_async() async {\n}\nFuture&lt;void&gt; future_void_async() async {\n}\nFuture&lt;int&gt; future_int_async() async {\n}\nint int_sync() {\n}\nvoid void_sync() {\n}\nFuture&lt;void&gt; future_void_sync() {\n}\nFuture&lt;int&gt; future_int_sync() {\n}\n\n\nvoid main() async {\n  // print('${void_async()}'); // Compilation error - expression has type void.\n  print('future_void_async: ${future_void_async()}');\n  print('future_int_async: ${future_int_async()}');\n  // print('${await future_void_async()}'); // Compilation error.\n  await future_void_async();\n  future_void_async().then((void v) {\n    print('ok');\n  });\n  await void_async();\n  // void_async().then((void v) { // Compilation error.\n  //   print('ok');\n  // });\n  print('await future_int_async: ${await future_int_async()}');\n  print('int_sync: ${int_sync()}');\n  // print('${void_sync()}'); // Compilation error - expression has type void\n  print('future_void_sync: ${future_void_sync()}');\n  print('future_int_sync: ${future_int_sync()}');\n}\n</code></pre>\n\n<p>It prints</p>\n\n<pre><code>\nfuture_void_async: Instance of '_Future&lt;void&gt;'\nfuture_int_async: Instance of '_Future&lt;int&gt;'\nok\nawait future_int_async: null\nint_sync: null\nfuture_void_sync: null\nfuture_int_sync: null\n</code></pre>\n"}], "owner": {"reputation": 67096, "user_id": 265521, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/34a66330977044d70165288c56740d4b?s=128&d=identicon&r=PG", "display_name": "Timmmm", "link": "https://stackoverflow.com/users/265521/timmmm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2134, "favorite_count": 1, "answer_count": 3, "score": 4, "last_activity_date": 1574246975, "creation_date": 1574183375, "question_id": 58939437, "link": "https://stackoverflow.com/questions/58939437/return-type-of-void-async-function-in-dart", "title": "Return type of void async function in Dart", "body": "<p>In Dart, if you have an async function that doesn't return anything, should it return <code>Future&lt;void&gt;</code> or simply <code>void</code>? Both seem to work, but why?</p>\n\n<pre><code>void foo() async {\n  print('foo');\n}\n\nFuture&lt;void&gt; bar() async {\n  print('bar');\n}\n\nvoid main() async {\n  await foo();\n  await bar();\n  print('baz');\n}\n</code></pre>\n\n<p>Compiles with no errors or warnings and prints</p>\n\n<pre><code>foo\nbar\nbaz\n</code></pre>\n"}, {"tags": ["listview", "flutter", "dart", "async-await"], "answers": [{"comments": [{"owner": {"reputation": 1781, "user_id": 5257704, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/34f9dfd2df35241769bec4262a946de2?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5257704/tony"}, "edited": false, "score": 0, "creation_date": 1574182477, "post_id": 58939111, "comment_id": 104136844, "body": "what should I write in <code>setState</code>?"}, {"owner": {"reputation": 402, "user_id": 1275796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c00c406979d5ac35d3387e7fb0f741e3?s=128&d=identicon&r=PG", "display_name": "Karim", "link": "https://stackoverflow.com/users/1275796/karim"}, "reply_to_user": {"reputation": 1781, "user_id": 5257704, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/34f9dfd2df35241769bec4262a946de2?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5257704/tony"}, "edited": false, "score": 0, "creation_date": 1574182853, "post_id": 58939111, "comment_id": 104137080, "body": "have a global variable called <code>result</code> and then set it in setState, then you can handle different values of result in your widgets."}, {"owner": {"reputation": 1781, "user_id": 5257704, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/34f9dfd2df35241769bec4262a946de2?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5257704/tony"}, "edited": false, "score": 0, "creation_date": 1574183452, "post_id": 58939111, "comment_id": 104137396, "body": "The method &#39;setState&#39; isn&#39;t defined for the class &#39;PopUpDialog&#39;"}], "tags": [], "owner": {"reputation": 402, "user_id": 1275796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c00c406979d5ac35d3387e7fb0f741e3?s=128&d=identicon&r=PG", "display_name": "Karim", "link": "https://stackoverflow.com/users/1275796/karim"}, "is_accepted": false, "score": 0, "last_activity_date": 1574182190, "creation_date": 1574182190, "answer_id": 58939111, "question_id": 58938714, "link": "https://stackoverflow.com/questions/58938714/why-async-await-not-working-in-this-case/58939111#58939111", "title": "Why async-await not working in this case?", "body": "<p>since <code>showDialog</code> is async, you <code>return 111</code> before the dialog is finished.</p>\n\n<p>You can try by using <code>setState((){})</code> instead of this so it doesn't get too messy</p>\n"}, {"comments": [{"owner": {"reputation": 1781, "user_id": 5257704, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/34f9dfd2df35241769bec4262a946de2?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5257704/tony"}, "edited": false, "score": 0, "creation_date": 1574182444, "post_id": 58939136, "comment_id": 104136822, "body": "I have removed it but it did not make any difference."}], "tags": [], "owner": {"reputation": 23, "user_id": 1501744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1014244b6bb8b7812fbfa5a54bd464d1?s=128&d=identicon&r=PG", "display_name": "porcho", "link": "https://stackoverflow.com/users/1501744/porcho"}, "is_accepted": false, "score": 0, "last_activity_date": 1574182292, "creation_date": 1574182292, "answer_id": 58939136, "question_id": 58938714, "link": "https://stackoverflow.com/questions/58938714/why-async-await-not-working-in-this-case/58939136#58939136", "title": "Why async-await not working in this case?", "body": "<p>You're returning 111 right after showing the dialog. Not sure what your intention was, but it seems to me that you don't need this line since you're dealing with the returned value on Page A.</p>\n\n<p>Try to remove this line and see how it goes. </p>\n"}, {"comments": [{"owner": {"reputation": 1781, "user_id": 5257704, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/34f9dfd2df35241769bec4262a946de2?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5257704/tony"}, "edited": false, "score": 0, "creation_date": 1574182947, "post_id": 58939278, "comment_id": 104137132, "body": "where should I put <code>result = await _bloc.delete();</code> ?"}, {"owner": {"reputation": 21, "user_id": 12321446, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD1z92kXpeh0zMRugASxLEuK5AOXMIHktxlI67S=k-s128", "display_name": "Rommel Delgado", "link": "https://stackoverflow.com/users/12321446/rommel-delgado"}, "reply_to_user": {"reputation": 1781, "user_id": 5257704, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/34f9dfd2df35241769bec4262a946de2?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5257704/tony"}, "edited": false, "score": 0, "creation_date": 1574188307, "post_id": 58939278, "comment_id": 104139839, "body": "Within the if enter the functionality of the yes button"}], "tags": [], "owner": {"reputation": 21, "user_id": 12321446, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD1z92kXpeh0zMRugASxLEuK5AOXMIHktxlI67S=k-s128", "display_name": "Rommel Delgado", "link": "https://stackoverflow.com/users/12321446/rommel-delgado"}, "is_accepted": false, "score": 0, "last_activity_date": 1574182765, "creation_date": 1574182765, "answer_id": 58939278, "question_id": 58938714, "link": "https://stackoverflow.com/questions/58938714/why-async-await-not-working-in-this-case/58939278#58939278", "title": "Why async-await not working in this case?", "body": "<p>I think it would be better if you did it as follows.</p>\n\n<pre><code>Future&lt;int&gt; showDeleteDialog() async {\n final response = showDialog(\n    context: context,\n    builder: (BuildContext buildContext) {\n      return AlertDialog(\n          actions: &lt;Widget&gt;[\n            FlatButton(\n              color: Colors.orange,\n              child: Text('YES', style: TextStyle(color: Colors.white)),\n              onPressed: () async {\n                Navigator.pop(buildContext,'yes');\n              },\n            ),\n            FlatButton(\n              color: Colors.white,\n              child: Text('CANCEL'),\n              onPressed: () {\n                Navigator.pop(buildContext,'cancel');\n              },\n            )\n          ]\n      );\n    }\n);\n\n  if(await response == 'yes'){\n    return 101;\n  }\n  return 111;}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 506, "user_id": 4952299, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e4LRv.jpg?s=128&g=1", "display_name": "Alex Domenici", "link": "https://stackoverflow.com/users/4952299/alex-domenici"}, "is_accepted": true, "score": 0, "last_activity_date": 1574230349, "last_edit_date": 1574230349, "creation_date": 1574224490, "answer_id": 58946755, "question_id": 58938714, "link": "https://stackoverflow.com/questions/58938714/why-async-await-not-working-in-this-case/58946755#58946755", "title": "Why async-await not working in this case?", "body": "<p>I usually pass Function parameters to my <em>showDialog</em> function, like <em>onYes</em> and <em>onCancel</em>, then call those from the <em>onTap</em> or <em>onPressed</em> events in the dialog.</p>\n\n<p>Here is a functioning sample based on your original code:</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nclass TestPage extends StatefulWidget {\n  @override\n  createState() =&gt; _TestPageState();\n}\n\nclass _TestPageState extends State&lt;TestPage&gt; {\n  final int index = 5; // Sample index\n  final data = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]; // Sample data\n\n  @override\n  Widget build(BuildContext context) {  \n    return Container(\n      child: RaisedButton(\n        child: Text(\"Click me\"),\n        onPressed: () {\n          showDeleteDialog(\n            onYes: () { // This will be called when user taps 'YES'\n              setState(() {\n                data.removeAt(index); // remove the index in listView\n                print(\"removed\");\n              });\n            },\n            onCancel: () { // This will be called when user taps 'CANCEL'\n              print('fjeodpedp');\n            }\n          );\n        },\n      ),\n    );\n  }\n\n  void showDeleteDialog({Function onYes, Function onCancel}) async {\n    showDialog(\n      context: context,\n      builder: (BuildContext buildContext) {\n        return AlertDialog(\n          actions: &lt;Widget&gt;[\n            FlatButton(\n              color: Colors.orange,\n              child: Text('YES', style: TextStyle(color: Colors.white)),\n              onPressed: () async {\n                Navigator.pop(buildContext);\n                if (null != onYes) onYes(); // Ensure the reference exists before calling it\n              },\n            ),\n            FlatButton(\n              color: Colors.white,\n              child: Text('CANCEL'),\n              onPressed: () {\n                Navigator.pop(buildContext);\n                if (null != onCancel) onCancel(); // Ensure the reference exists before calling it\n              },\n            )\n          ],\n        );\n      }\n    );\n  }\n}\n</code></pre>\n\n<p>Hope this helps :)</p>\n"}], "owner": {"reputation": 1781, "user_id": 5257704, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/34f9dfd2df35241769bec4262a946de2?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5257704/tony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 349, "favorite_count": 0, "accepted_answer_id": 58946755, "answer_count": 4, "score": 0, "last_activity_date": 1574230349, "creation_date": 1574180862, "last_edit_date": 1574221617, "question_id": 58938714, "link": "https://stackoverflow.com/questions/58938714/why-async-await-not-working-in-this-case", "title": "Why async-await not working in this case?", "body": "<p>Why <code>async-await</code> not working in my case? I have a button in pageA. When it is clicked, it will pop up delete confirmation dialog. </p>\n\n<p>Once the <code>Yes</code> button in confirmation dialog is clicked, it will delete data from server and return a Success code, which is 101 back to PageA.</p>\n\n<p>Once the pageA receive the return value, it will refresh the <code>ListView</code>.</p>\n\n<p><strong>PageA button</strong></p>\n\n<pre><code>onTap: () async {\n  Navigator.pop(context);\n  var result = await PopUpDialog().showDeleteDialog();\n  if (result == 101) {\n    setState(() {\n      data.removeAt(index);   // remove the index in listView\n    });\n  } else {\n    print('fjeodpedp');\n  }\n},\n</code></pre>\n\n<p><strong>PopUpDialog</strong></p>\n\n<pre><code>class PopUpDialog {\n  var result;\n  Future&lt;int&gt; showDeleteDialog() async {\n         ....\n    showDialog(\n        context: context,\n        builder: (BuildContext buildContext) {\n          return AlertDialog(\n              actions: &lt;Widget&gt;[\n                FlatButton(\n                  color: Colors.orange,\n                  child: Text('YES', style: TextStyle(color: Colors.white)),\n                  onPressed: () async {\n                    Navigator.pop(buildContext);\n                    result = await _bloc.delete();   // delete server data\n                    if (result == 101) {\n                      return result;\n                    }\n                  },\n                ),\n                FlatButton(\n                  color: Colors.white,\n                  child: Text('CANCEL'),\n                  onPressed: () {\n                    Navigator.of(buildContext, rootNavigator: true)\n                        .pop('dialog');\n                  },\n                )\n              ],\n              ....\n        });\n\n    return 111; \n  }\n}\n</code></pre>\n\n<p>But the problem is I will get <strong>fjeodpedp</strong> once the delete confirmation dialog pop up. </p>\n"}, {"tags": ["firebase", "flutter", "dart", "async-await", "firebase-authentication"], "answers": [{"tags": [], "owner": {"reputation": 898, "user_id": 12267564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jV86X.png?s=128&g=1", "display_name": "lazos", "link": "https://stackoverflow.com/users/12267564/lazos"}, "is_accepted": false, "score": 0, "last_activity_date": 1574181976, "creation_date": 1574181976, "answer_id": 58939051, "question_id": 58938435, "link": "https://stackoverflow.com/questions/58938435/changes-made-in-then-method-are-not-saved/58939051#58939051", "title": "Changes made in then method are not saved", "body": "<p><code>currentUser()</code> returns <code>Future</code>, </p>\n\n<p>So you just need to wait the task to finish</p>\n\n<pre><code>String email = \"Not Logged In\";\nawait FirebaseAuth.instance\n    .currentUser()\n    .then((FirebaseUser user) {\n      email = user.email;\n      print(email);\n});\nprint(email);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 355, "user_id": 11307189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62f6f9817ae87f1255cafe6116113ec4?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/11307189/patrick"}, "edited": false, "score": 0, "creation_date": 1574523750, "post_id": 58939057, "comment_id": 104266669, "body": "Yes, that woks. I already tried that but wanted to use a local variable which seems to be not possible. Now I am using a global one and it works fine. Thanks!"}, {"owner": {"reputation": 8769, "user_id": 2315974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C388N.jpg?s=128&g=1", "display_name": "danypata", "link": "https://stackoverflow.com/users/2315974/danypata"}, "reply_to_user": {"reputation": 355, "user_id": 11307189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62f6f9817ae87f1255cafe6116113ec4?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/11307189/patrick"}, "edited": false, "score": 0, "creation_date": 1574540329, "post_id": 58939057, "comment_id": 104271391, "body": "@Patrick what do you mean it doesn&#39;t work with local variable ?"}, {"owner": {"reputation": 355, "user_id": 11307189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62f6f9817ae87f1255cafe6116113ec4?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/11307189/patrick"}, "edited": false, "score": 0, "creation_date": 1574540920, "post_id": 58939057, "comment_id": 104271535, "body": "I can Not Return a Not-Future-Type in the async function, so I can Not set the local Variable to a value inside my Build-Methode. If I have a global one instead, I can set it inside the async function, so I can Save the changed value.(Sorry for spelling, its my phone)"}], "tags": [], "owner": {"reputation": 8769, "user_id": 2315974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C388N.jpg?s=128&g=1", "display_name": "danypata", "link": "https://stackoverflow.com/users/2315974/danypata"}, "is_accepted": true, "score": 0, "last_activity_date": 1574183010, "last_edit_date": 1574183010, "creation_date": 1574182001, "answer_id": 58939057, "question_id": 58938435, "link": "https://stackoverflow.com/questions/58938435/changes-made-in-then-method-are-not-saved/58939057#58939057", "title": "Changes made in then method are not saved", "body": "<p>What you describe is pure asynchronous issue. Here's how it works.</p>\n\n<pre><code>1 =&gt; String email = \"Not Logged In\";\n2 =&gt; FirebaseAuth.instance\n3 =&gt;    .currentUser()\n4 =&gt;    .then((FirebaseUser user) {\n5 =&gt;       email = user.email;\n6 =&gt;       print(email);\n         });\n7 =&gt;     print(email);\n</code></pre>\n\n<p>The order of the execution is: 1,2,3,4, 7, 5, 6. This means the print outside the <code>then</code> block will be executed immediately after the block is added to the stack.</p>\n\n<p>Now there is another way to do this, maybe more readable for you. Something like:</p>\n\n<pre><code>void testFunc() async {\n     String email = \"Not Logged In\";\n     FirebaseUser user = await FirebaseAuth.instance.currentUser();\n     email = user.email;\n     print(email);\n}\n</code></pre>\n\n<p>You have to pay attention to two things: </p>\n\n<ol>\n<li><p>the <code>async</code> keyword, which tells the compiler that this whole method is async.</p></li>\n<li><p>the <code>await</code> keyword which similar with the <code>then</code>.</p></li>\n</ol>\n"}], "owner": {"reputation": 355, "user_id": 11307189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62f6f9817ae87f1255cafe6116113ec4?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/11307189/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 58939057, "answer_count": 2, "score": 0, "last_activity_date": 1574183010, "creation_date": 1574179986, "question_id": 58938435, "link": "https://stackoverflow.com/questions/58938435/changes-made-in-then-method-are-not-saved", "title": "Changes made in then method are not saved", "body": "<p>I have a user that is signed in at FirebaseAuthentication. Now I want to show the current user's email address in a Text. For that, I store it in a variable <strong>email</strong>.</p>\n\n<p>This is my code right now.</p>\n\n<pre><code>String email = \"Not Logged In\";\nFirebaseAuth.instance\n    .currentUser()\n    .then((FirebaseUser user) {\n      email = user.email;\n      print(email);\n});\n</code></pre>\n\n<p>The right address is printed, but after the .then() method the value of email turns back to \"Not Logged in\".\nHow do I manage to save the value also after the then method?</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 1143, "user_id": 6570670, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/86081dc1633839e08c29ebb00bf6fbcd?s=128&d=identicon&r=PG&f=1", "display_name": "R. Duggan", "link": "https://stackoverflow.com/users/6570670/r-duggan"}, "edited": false, "score": 3, "creation_date": 1574178708, "post_id": 58937439, "comment_id": 104134509, "body": "You can create a boolean called <code>_loaded</code> and set it to false in your init state. Then after you set <code>identifier = rep;</code> you can set <code>_loaded = true</code> and call <code>setState(() {});</code>. Finally in your build method replace <code>tab(identifier, identifier.keys.length),</code> with <code>_loaded ? tab(identifier, identifier.keys.length) : CircularProgressIndicator(),</code> and this will then mean it will show a loading circle until the data has been received."}, {"owner": {"reputation": 922, "user_id": 11542171, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B9ZBiT_oebQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd4PwixHtiSTLVnR8NennwYY_rTFA/mo/photo.jpg?sz=128", "display_name": "Mohamad Assem Nasser", "link": "https://stackoverflow.com/users/11542171/mohamad-assem-nasser"}, "edited": false, "score": 1, "creation_date": 1574183509, "post_id": 58937439, "comment_id": 104137434, "body": "Use FutureBuilder to achieve what you want. Here is the <a href=\"https://api.flutter.dev/flutter/widgets/FutureBuilder-class.html\" rel=\"nofollow noreferrer\">link</a> to the documentation."}], "owner": {"reputation": 1, "user_id": 12398279, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GMqW9fUt1MY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNKn5279WI-f6U3KKNFQ78rQfnew/photo.jpg?sz=128", "display_name": "Souhil Hadj Habib", "link": "https://stackoverflow.com/users/12398279/souhil-hadj-habib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 179, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576242526, "creation_date": 1574177069, "last_edit_date": 1576242526, "question_id": 58937439, "link": "https://stackoverflow.com/questions/58937439/flutter-is-it-possible-to-get-future-data-before-the-build-method-finishes", "title": "Flutter : Is it possible to get Future data before the build method finishes?", "body": "<pre><code>import 'package:flutter/material.dart';\nimport 'package:hello_world/ui/food_show_case.dart';\nimport 'custom_appbar.dart';\n\nclass RestaurantsMenu extends StatefulWidget {\n  var result;\n\n\n  RestaurantsMenu({this.result});\n\n  @override\n  _RestaurantsMenuState createState() =&gt; _RestaurantsMenuState(result);\n}\n\nclass _RestaurantsMenuState extends State&lt;RestaurantsMenu&gt; {\n  var result;\n  var identifier = new Map();\n  Future getData() async {\n    await result.then((rep) {\n      identifier = rep;\n    });\n  }\n\n  @override\n  void initState() {\n    super.initState();\n\n    getData();\n  }\n\n  _RestaurantsMenuState(this.result);\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n        body: SafeArea(\n      child: Container(\n        child: ListView(\n          children: &lt;Widget&gt;[\n            CustomAppBar(),\n            tab(identifier, identifier.keys.length),\n          ],\n        ),\n      ),\n    ));\n  }\n\n  Widget tab(Map map, int longueur) {\n    return SingleChildScrollView(\n      child: Container(\n        height: 560,\n        width: double.infinity,\n        child: DefaultTabController(\n          initialIndex: 0,\n          length: longueur,\n          child: Scaffold(\n            appBar: AppBar(\n              elevation: 0.0,\n              backgroundColor: Colors.transparent,\n              bottom: PreferredSize(\n                preferredSize: Size.fromHeight(65),\n                child: Container(\n                  color: Colors.transparent,\n                  child: SafeArea(\n                    child: Column(\n                      mainAxisAlignment: MainAxisAlignment.center,\n                      children: &lt;Widget&gt;[\n                        TabBar(\n                          isScrollable: true,\n                          labelPadding: EdgeInsets.only(top: 15),\n                          indicatorColor: Colors.transparent,\n                          labelColor: Colors.black,\n                          labelStyle: TextStyle(\n                            fontSize: 25,\n                            fontWeight: FontWeight.w800,\n                            fontFamily: 'slabo',\n                          ),\n                          unselectedLabelColor: Colors.black26,\n                          unselectedLabelStyle: TextStyle(\n                            fontSize: 25,\n                            fontWeight: FontWeight.w800,\n                            fontFamily: 'slabo',\n                          ),\n                          tabs: &lt;Widget&gt;[\n                            for (var elem in map.keys)\n                              Container(\n                                padding: EdgeInsets.only(left: 40),\n                                child: Text(elem),\n                              ),\n                          ],\n                        ),\n                      ],\n                    ),\n                  ),\n                ),\n              ),\n            ),\n            body: TabBarView(\n              children: &lt;Widget&gt;[\n                for (var tabu in map.keys)\n                  FoodShowCase(\n                    map: identifier,\n                    tabofnow: tabu,\n                  ),\n              ],\n            ),\n          ),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>Here is the error : \nAnother exception was thrown: 'package:flutter/src/material/tab_controller.dart': Failed assertion: line 316 pos 15: 'initialIndex >= 0 &amp;&amp; initialIndex &lt; length': is not true.</p>\n\n<p>If I'm not mistaken the problem is that Flutter is trying to build a tab controller using the length of the future data (these data is a bunch of information that I retrieve from Firebase) but the build method is getting ahead of it (when I perform hot reload few seconds after getting this error everything gets normal and the error disappears) and it can't be build Can I stop or pause it for a brief moment just until the arrival of the needed data and then resume it ?. Can anyone help me, please ?! Thank you</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 1252, "user_id": 8595331, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/cmELl.jpg?s=128&g=1", "display_name": "ChyperX", "link": "https://stackoverflow.com/users/8595331/chyperx"}, "is_accepted": false, "score": 0, "last_activity_date": 1574176716, "creation_date": 1574176716, "answer_id": 58937309, "question_id": 58937088, "link": "https://stackoverflow.com/questions/58937088/is-there-a-way-to-get-the-context-of-the-route-being-pushed-to-show-a-snackbar-i/58937309#58937309", "title": "Is there a way to get the context of the route being pushed to show a snackbar in it?", "body": "<p>You must use <code>GlobalKey</code>, declare <code>_scaffoldKey</code> in class like,</p>\n\n<pre><code>final GlobalKey&lt;ScaffoldState&gt; _scaffoldKey = new GlobalKey&lt;ScaffoldState&gt;();\n</code></pre>\n\n<p>then setup key in your <code>Scaffold</code></p>\n\n<pre><code>@override\n Widget build(BuildContext context) {\n  return new Scaffold(\n    key: _scaffoldKey,\n</code></pre>\n\n<p>later use,</p>\n\n<pre><code>_scaffoldKey.currentState.showSnackBar(snackbar);\n</code></pre>\n\n<p>Hope it works.</p>\n"}], "owner": {"reputation": 31, "user_id": 11703253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ed4e79d48f523dd2b0f0569049ae2a9?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Parente", "link": "https://stackoverflow.com/users/11703253/marco-parente"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574176716, "creation_date": 1574176064, "question_id": 58937088, "link": "https://stackoverflow.com/questions/58937088/is-there-a-way-to-get-the-context-of-the-route-being-pushed-to-show-a-snackbar-i", "title": "Is there a way to get the context of the route being pushed to show a snackbar in it?", "body": "<p>I have a screen that pop all routes and push a new one. At this new screen that is being pushed, I want to show a snackbar, but I'm not being able to make it work.\nThere is also another part of the application that I'll need to do something similar, but not popping all routes. \nThis is how I'm currently trying, but I believe it's not working because I'm not using the context of the new pushed screen:</p>\n\n<pre><code>if (something) {\n        Navigator.pushNamedAndRemoveUntil(\n          context,\n          searchRoute,\n          (_) =&gt; false,\n        );\n\n        final snackbar = SnackBar(\n          content: Text(\"Thing done successfully!\"),\n          backgroundColor: Colors.green[700],\n        );\n\n        Scaffold.of(context).showSnackBar(snackbar);\n        return true;\n      } else {\n        return false;\n      }\n</code></pre>\n\n<p>That's why I wanna know if there's a way to get the context of the route when I push it with the Navigator, so I can then use it to show the snackbar correctly.</p>\n"}, {"tags": ["flutter", "dart", "flutter-layout"], "comments": [{"owner": {"reputation": 4516, "user_id": 5734205, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zUbjwE44mmU/AAAAAAAAAAI/AAAAAAAAAYA/ooNUZ4dCzfE/photo.jpg?sz=128", "display_name": "Ravinder Kumar", "link": "https://stackoverflow.com/users/5734205/ravinder-kumar"}, "edited": false, "score": 0, "creation_date": 1574175414, "post_id": 58936317, "comment_id": 104132385, "body": "Please post the code you have tried."}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 5061743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e5f94988c8d2a570ce65c22544a2f52?s=128&d=identicon&r=PG&f=1", "display_name": "Arvind", "link": "https://stackoverflow.com/users/5061743/arvind"}, "edited": false, "score": 0, "creation_date": 1574243903, "post_id": 58937144, "comment_id": 104159159, "body": "Thanks for your reply. I want to display the first three fields and a button at the center of the page and a column with three buttons at the bottom of the page. How should I do that? If I use expanded for the bottom set of buttons my center align fields moved to the start of the page."}, {"owner": {"reputation": 1252, "user_id": 8595331, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/cmELl.jpg?s=128&g=1", "display_name": "ChyperX", "link": "https://stackoverflow.com/users/8595331/chyperx"}, "reply_to_user": {"reputation": 59, "user_id": 5061743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e5f94988c8d2a570ce65c22544a2f52?s=128&d=identicon&r=PG&f=1", "display_name": "Arvind", "link": "https://stackoverflow.com/users/5061743/arvind"}, "edited": false, "score": 0, "creation_date": 1574261461, "post_id": 58937144, "comment_id": 104169738, "body": "@Arvind I have added another answer try out that"}], "tags": [], "owner": {"reputation": 1252, "user_id": 8595331, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/cmELl.jpg?s=128&g=1", "display_name": "ChyperX", "link": "https://stackoverflow.com/users/8595331/chyperx"}, "is_accepted": false, "score": 0, "last_activity_date": 1574176247, "creation_date": 1574176247, "answer_id": 58937144, "question_id": 58936317, "link": "https://stackoverflow.com/questions/58936317/how-to-position-the-child-views-in-multiple-positions-in-flutter/58937144#58937144", "title": "How to position the child views in multiple positions in flutter?", "body": "<p>Your question is not clear, I think you need to place 3 buttons at the bottom of a column.</p>\n\n<pre><code>return Scaffold(\n      appBar: AppBar(),\n      body: Container(\n        padding:\n            EdgeInsets.only(left: 20.0, right: 20.0, top: 25.0, bottom: 25.0),\n        child: Column(\n          children: &lt;Widget&gt;[\n            TextField(\n              decoration: InputDecoration(hintText: 'Text Field 1'),\n            ),\n            TextField(\n              decoration: InputDecoration(hintText: 'Text Field 2'),\n            ),\n            TextField(\n              decoration: InputDecoration(hintText: 'Text Field 3'),\n            ),\n            SizedBox(\n              height: 25.0,\n            ),\n            MaterialButton(\n              onPressed: () {},\n              child: Text('Button'),\n              color: Colors.blue,\n              minWidth: double.infinity,\n            ),\n            Expanded(\n              child: SizedBox(),\n            ),\n            MaterialButton(\n              onPressed: () {},\n              child: Text('Button 1'),\n              color: Colors.blue,\n              minWidth: double.infinity,\n            ),\n            MaterialButton(\n              onPressed: () {},\n              child: Text('Button 2'),\n              color: Colors.blue,\n              minWidth: double.infinity,\n            ),\n            MaterialButton(\n              onPressed: () {},\n              child: Text('Button 3'),\n              color: Colors.blue,\n              minWidth: double.infinity,\n            ),\n          ],\n        ),\n      ),\n    );\n</code></pre>\n\n<p><code>Expanded</code> will fill the empty space</p>\n\n<p>result will be like,\n<a href=\"https://i.stack.imgur.com/2WgPg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2WgPg.png\" alt=\"enter image description here\"></a></p>\n\n<p>If your question is different, give me more details</p>\n"}, {"comments": [{"owner": {"reputation": 59, "user_id": 5061743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e5f94988c8d2a570ce65c22544a2f52?s=128&d=identicon&r=PG&f=1", "display_name": "Arvind", "link": "https://stackoverflow.com/users/5061743/arvind"}, "edited": false, "score": 0, "creation_date": 1574264867, "post_id": 58957137, "comment_id": 104171993, "body": "Thank you. It helps. You saved my day. I have been trying this without positioned widget so far."}, {"owner": {"reputation": 59, "user_id": 5061743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e5f94988c8d2a570ce65c22544a2f52?s=128&d=identicon&r=PG&f=1", "display_name": "Arvind", "link": "https://stackoverflow.com/users/5061743/arvind"}, "edited": false, "score": 0, "creation_date": 1574319743, "post_id": 58957137, "comment_id": 104192110, "body": "Sorry, I don&#39;t have enough reputations. So, even though I accept it, answer is not displayed as accepted."}, {"owner": {"reputation": 1252, "user_id": 8595331, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/cmELl.jpg?s=128&g=1", "display_name": "ChyperX", "link": "https://stackoverflow.com/users/8595331/chyperx"}, "reply_to_user": {"reputation": 59, "user_id": 5061743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e5f94988c8d2a570ce65c22544a2f52?s=128&d=identicon&r=PG&f=1", "display_name": "Arvind", "link": "https://stackoverflow.com/users/5061743/arvind"}, "edited": false, "score": 0, "creation_date": 1574320433, "post_id": 58957137, "comment_id": 104192406, "body": "@Arvind That&#39;s okay mate"}], "tags": [], "owner": {"reputation": 1252, "user_id": 8595331, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/cmELl.jpg?s=128&g=1", "display_name": "ChyperX", "link": "https://stackoverflow.com/users/8595331/chyperx"}, "is_accepted": false, "score": 0, "last_activity_date": 1574261429, "creation_date": 1574261429, "answer_id": 58957137, "question_id": 58936317, "link": "https://stackoverflow.com/questions/58936317/how-to-position-the-child-views-in-multiple-positions-in-flutter/58957137#58957137", "title": "How to position the child views in multiple positions in flutter?", "body": "<p>You must use <code>Stack</code> and <code>Positioned</code> to achieve what you want, Check the example below</p>\n\n<pre><code>@override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(),\n      body: Container(\n        padding:\n            EdgeInsets.only(left: 20.0, right: 20.0, top: 25.0, bottom: 25.0),\n        child: Stack(\n          children: &lt;Widget&gt;[\n            Column(\n              mainAxisAlignment: MainAxisAlignment.center,\n              children: &lt;Widget&gt;[\n                TextField(\n                  decoration: InputDecoration(hintText: 'Text Field 1'),\n                ),\n                TextField(\n                  decoration: InputDecoration(hintText: 'Text Field 2'),\n                ),\n                TextField(\n                  decoration: InputDecoration(hintText: 'Text Field 3'),\n                ),\n                SizedBox(\n                  height: 25.0,\n                ),\n                MaterialButton(\n                  onPressed: () {},\n                  child: Text('Button'),\n                  color: Colors.blue,\n                  minWidth: double.infinity,\n                ),\n              ],\n            ),\n            Positioned(\n              bottom: 0.0,\n              left: 0.0,\n              right: 0.0,\n              child: Column(\n                children: &lt;Widget&gt;[\n                  MaterialButton(\n                    onPressed: () {},\n                    child: Text('Button 1'),\n                    color: Colors.blue,\n                    minWidth: double.infinity,\n                  ),\n                  MaterialButton(\n                    onPressed: () {},\n                    child: Text('Button 2'),\n                    color: Colors.blue,\n                    minWidth: double.infinity,\n                  ),\n                  MaterialButton(\n                    onPressed: () {},\n                    child: Text('Button 3'),\n                    color: Colors.blue,\n                    minWidth: double.infinity,\n                  ),\n                ],\n              ),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 5061743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e5f94988c8d2a570ce65c22544a2f52?s=128&d=identicon&r=PG&f=1", "display_name": "Arvind", "link": "https://stackoverflow.com/users/5061743/arvind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1574261429, "creation_date": 1574173736, "question_id": 58936317, "link": "https://stackoverflow.com/questions/58936317/how-to-position-the-child-views-in-multiple-positions-in-flutter", "title": "How to position the child views in multiple positions in flutter?", "body": "<p>I have a login page which has three fields and a button at the center of the page. At the Bottom of the same page, I need to display a three buttons in a vertically. How can I do this in Flutter? Any suggestions would be really helpful.Thanks in advance.</p>\n"}, {"tags": ["flutter", "dart", "flutter-layout"], "answers": [{"comments": [{"owner": {"reputation": 971, "user_id": 12176146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i7saa6CD6nU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdnigVUDcRnIS2zpgJROryAZKe46w/photo.jpg?sz=128", "display_name": "raman raman", "link": "https://stackoverflow.com/users/12176146/raman-raman"}, "edited": false, "score": 0, "creation_date": 1574173387, "post_id": 58935725, "comment_id": 104131140, "body": "thank you very much.It is working now.But how can I change texts in card-1,card-2 add titles, and contents"}, {"owner": {"reputation": 4516, "user_id": 5734205, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zUbjwE44mmU/AAAAAAAAAAI/AAAAAAAAAYA/ooNUZ4dCzfE/photo.jpg?sz=128", "display_name": "Ravinder Kumar", "link": "https://stackoverflow.com/users/5734205/ravinder-kumar"}, "reply_to_user": {"reputation": 971, "user_id": 12176146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i7saa6CD6nU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdnigVUDcRnIS2zpgJROryAZKe46w/photo.jpg?sz=128", "display_name": "raman raman", "link": "https://stackoverflow.com/users/12176146/raman-raman"}, "edited": false, "score": 0, "creation_date": 1574174714, "post_id": 58935725, "comment_id": 104131902, "body": "@ramanraman I have created a gist for your need. Please check the code <a href=\"https://gist.github.com/raviganwal/94b3b2d2e129239f34b912ef202b6641\" rel=\"nofollow noreferrer\">Here</a>"}], "tags": [], "owner": {"reputation": 4516, "user_id": 5734205, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zUbjwE44mmU/AAAAAAAAAAI/AAAAAAAAAYA/ooNUZ4dCzfE/photo.jpg?sz=128", "display_name": "Ravinder Kumar", "link": "https://stackoverflow.com/users/5734205/ravinder-kumar"}, "is_accepted": true, "score": 1, "last_activity_date": 1574174607, "last_edit_date": 1592644375, "creation_date": 1574171833, "answer_id": 58935725, "question_id": 58935609, "link": "https://stackoverflow.com/questions/58935609/how-can-i-add-multiple-folding-card-cells-in-this-flutter-code/58935725#58935725", "title": "how can I add multiple folding card cells in this flutter code", "body": "<p>List example is in your own piece of code too,\nJust call <strong>FoldingCellListViewDemo</strong> in <strong>main</strong> method.</p>\n<pre><code>void main() =&gt; runApp(MaterialApp(\n    home: SafeArea(\n        child: Scaffold(body: Material(child: FoldingCellListViewDemo())))));\n\n</code></pre>\n<pre><code>class FoldingCellListViewDemo extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n      color: Color(0xFF2e282a),\n      child: ListView.builder(\n          itemCount: 100,\n          itemBuilder: (context, index) {\n            return SimpleFoldingCell(\n                frontWidget: _buildFrontWidget(index),\n                innerTopWidget: _buildInnerTopWidget(index),\n                innerBottomWidget: _buildInnerBottomWidget(index),\n                cellSize: Size(MediaQuery.of(context).size.width, 125),\n                padding: EdgeInsets.all(15),\n                animationDuration: Duration(milliseconds: 300),\n                borderRadius: 10,\n                onOpen: () =&gt; print('$index cell opened'),\n                onClose: () =&gt; print('$index cell closed'));\n          }),\n    );\n  }\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>Question: How to change the title and subtitle content?</p>\n<p>Answer: Please check the working demo <a href=\"https://gist.github.com/raviganwal/94b3b2d2e129239f34b912ef202b6641\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Output</p>\n<p><a href=\"https://i.stack.imgur.com/4y7BM.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4y7BM.jpg\" alt=\"enter image description here\" /></a></p>\n"}], "owner": {"reputation": 971, "user_id": 12176146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i7saa6CD6nU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdnigVUDcRnIS2zpgJROryAZKe46w/photo.jpg?sz=128", "display_name": "raman raman", "link": "https://stackoverflow.com/users/12176146/raman-raman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1064, "favorite_count": 0, "accepted_answer_id": 58935725, "answer_count": 1, "score": 0, "last_activity_date": 1574177615, "creation_date": 1574171491, "last_edit_date": 1574177615, "question_id": 58935609, "link": "https://stackoverflow.com/questions/58935609/how-can-i-add-multiple-folding-card-cells-in-this-flutter-code", "title": "how can I add multiple folding card cells in this flutter code", "body": "<p>I tried this plugin <a href=\"https://pub.dev/packages/folding_cell\" rel=\"nofollow noreferrer\">folding_cell</a> for foldable card widgets. But I don't know how to add multiple cards If you know any solution please help me.</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:folding_cell/folding_cell.dart';\n\nvoid main() =&gt; runApp(MaterialApp(\n    home: SafeArea(\n        child: Scaffold(body: Material(child: FoldingCellSimpleDemo())))));\n\n/// Example 1 folding cell inside [Container]\nclass FoldingCellSimpleDemo extends StatelessWidget {\n  final _foldingCellKey = GlobalKey&lt;SimpleFoldingCellState&gt;();\n\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n      color: Color(0xFF2e282a),\n      alignment: Alignment.topCenter,\n      child: SimpleFoldingCell(\n          key: _foldingCellKey,\n          frontWidget: _buildFrontWidget(),\n          innerTopWidget: _buildInnerTopWidget(),\n          innerBottomWidget: _buildInnerBottomWidget(),\n          cellSize: Size(MediaQuery.of(context).size.width, 125),\n          padding: EdgeInsets.all(15),\n          animationDuration: Duration(milliseconds: 300),\n          borderRadius: 10,\n          onOpen: () =&gt; print('cell opened'),\n          onClose: () =&gt; print('cell closed')),\n    );\n  }\n\n  Widget _buildFrontWidget() {\n    return Container(\n        color: Color(0xFFffcd3c),\n        alignment: Alignment.center,\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: &lt;Widget&gt;[\n            Text(\"CARD\",\n                style: TextStyle(\n                    color: Color(0xFF2e282a),\n                    fontFamily: 'OpenSans',\n                    fontSize: 20.0,\n                    fontWeight: FontWeight.w800)),\n            FlatButton(\n              onPressed: () =&gt; _foldingCellKey?.currentState?.toggleFold(),\n              child: Text(\n                \"Open\",\n              ),\n              textColor: Colors.white,\n              color: Colors.indigoAccent,\n              splashColor: Colors.white.withOpacity(0.5),\n            )\n          ],\n        ));\n  }\n\n  Widget _buildInnerTopWidget() {\n    return Container(\n        color: Color(0xFFff9234),\n        alignment: Alignment.center,\n        child: Text(\"TITLE\",\n            style: TextStyle(\n                color: Color(0xFF2e282a),\n                fontFamily: 'OpenSans',\n                fontSize: 20.0,\n                fontWeight: FontWeight.w800)));\n  }\n\n  Widget _buildInnerBottomWidget() {\n    return Container(\n      color: Color(0xFFecf2f9),\n      alignment: Alignment.bottomCenter,\n      child: Padding(\n        padding: EdgeInsets.only(bottom: 10),\n        child: FlatButton(\n          onPressed: () =&gt; _foldingCellKey?.currentState?.toggleFold(),\n          child: Text(\n            \"Close\",\n          ),\n          textColor: Colors.white,\n          color: Colors.indigoAccent,\n          splashColor: Colors.white.withOpacity(0.5),\n        ),\n      ),\n    );\n  }\n}\n\n/// Example 2 folding cell inside [ListView]\nclass FoldingCellListViewDemo extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n      color: Color(0xFF2e282a),\n      child: ListView.builder(\n          itemCount: 100,\n          itemBuilder: (context, index) {\n            return SimpleFoldingCell(\n                frontWidget: _buildFrontWidget(index),\n                innerTopWidget: _buildInnerTopWidget(index),\n                innerBottomWidget: _buildInnerBottomWidget(index),\n                cellSize: Size(MediaQuery.of(context).size.width, 125),\n                padding: EdgeInsets.all(15),\n                animationDuration: Duration(milliseconds: 300),\n                borderRadius: 10,\n                onOpen: () =&gt; print('$index cell opened'),\n                onClose: () =&gt; print('$index cell closed'));\n          }),\n    );\n  }\n\n  Widget _buildFrontWidget(int index) {\n    return Builder(\n      builder: (BuildContext context) {\n        return Container(\n            color: Color(0xFFffcd3c),\n            alignment: Alignment.center,\n            child: Column(\n              mainAxisAlignment: MainAxisAlignment.center,\n              children: &lt;Widget&gt;[\n                Text(\"CARD - $index\",\n                    style: TextStyle(\n                        color: Color(0xFF2e282a),\n                        fontFamily: 'OpenSans',\n                        fontSize: 20.0,\n                        fontWeight: FontWeight.w800)),\n                FlatButton(\n                  onPressed: () {\n                    SimpleFoldingCellState foldingCellState =\n                    context.ancestorStateOfType(\n                        TypeMatcher&lt;SimpleFoldingCellState&gt;());\n                    foldingCellState?.toggleFold();\n                  },\n                  child: Text(\n                    \"Open\",\n                  ),\n                  textColor: Colors.white,\n                  color: Colors.indigoAccent,\n                  splashColor: Colors.white.withOpacity(0.5),\n                )\n              ],\n            ));\n      },\n    );\n  }\n\n  Widget _buildInnerTopWidget(int index) {\n    return Container(\n        color: Color(0xFFff9234),\n        alignment: Alignment.center,\n        child: Text(\"TITLE - $index\",\n            style: TextStyle(\n                color: Color(0xFF2e282a),\n                fontFamily: 'OpenSans',\n                fontSize: 20.0,\n                fontWeight: FontWeight.w800)));\n  }\n\n  Widget _buildInnerBottomWidget(int index) {\n    return Builder(builder: (context) {\n      return Container(\n        color: Color(0xFFecf2f9),\n        alignment: Alignment.bottomCenter,\n        child: Padding(\n          padding: EdgeInsets.only(bottom: 10),\n          child: FlatButton(\n            onPressed: () {\n              SimpleFoldingCellState foldingCellState = context\n                  .ancestorStateOfType(TypeMatcher&lt;SimpleFoldingCellState&gt;());\n              foldingCellState?.toggleFold();\n            },\n            child: Text(\n              \"Close\",\n            ),\n            textColor: Colors.white,\n            color: Colors.indigoAccent,\n            splashColor: Colors.white.withOpacity(0.5),\n          ),\n        ),\n      );\n    });\n  }\n}\n\n</code></pre>\n\n<p>please visit this <a href=\"https://raw.githubusercontent.com/faob-dev/folding_cell/master/screenshots/fc_demo2.gif\" rel=\"nofollow noreferrer\">link</a> to see image [as stack overflow is  not allowing gifs]</p>\n\n<p>Please help me if you have already tried this package to in your apps. </p>\n\n<p>If you need more info then please comment thank you</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 2117, "user_id": 6603599, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/1abNH.jpg?s=128&g=1", "display_name": "Toma", "link": "https://stackoverflow.com/users/6603599/toma"}, "is_accepted": false, "score": 0, "last_activity_date": 1574171513, "creation_date": 1574171513, "answer_id": 58935617, "question_id": 58935582, "link": "https://stackoverflow.com/questions/58935582/flutter-dismiss-alertdialog-with-code-condition/58935617#58935617", "title": "flutter - dismiss alertdialog with code condition", "body": "<p>A simple <code>Navigator.of(context).pop();</code> does the trick</p>\n"}, {"tags": [], "owner": {"reputation": 19333, "user_id": 4511702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8D658.jpg?s=128&g=1", "display_name": "Raouf Rahiche", "link": "https://stackoverflow.com/users/4511702/raouf-rahiche"}, "is_accepted": false, "score": 0, "last_activity_date": 1574175927, "creation_date": 1574175927, "answer_id": 58937040, "question_id": 58935582, "link": "https://stackoverflow.com/questions/58935582/flutter-dismiss-alertdialog-with-code-condition/58937040#58937040", "title": "flutter - dismiss alertdialog with code condition", "body": "<p>It depends on where you trigger the fetch data function </p>\n\n<p>Simple example - imperative :</p>\n\n<pre><code>_processing() async {\n    await showDialog(\n      context: context,\n      builder: (BuildContext context) {\n        // replace \"Future.delayed(Duration(seconds: 5))\" with your API call\n        Future.delayed(Duration(seconds: 5)).then((_) {\n          Navigator.of(context).pop();\n        });\n\n        return AlertDialog(\n          backgroundColor: Colors.transparent,\n          elevation: 0,\n          content: Column(\n            mainAxisAlignment: MainAxisAlignment.center,\n            crossAxisAlignment: CrossAxisAlignment.center,\n            children: &lt;Widget&gt;[\n              CircularProgressIndicator(\n                valueColor: AlwaysStoppedAnimation&lt;Color&gt;(Colors.white),\n              ),\n              Padding(\n                padding: const EdgeInsets.all(8.0),\n                child: Text(\n                  \"Hi\",\n                  style: TextStyle(color: Colors.white),\n                ),\n              )\n            ],\n          ),\n        );\n      },\n    );\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2611, "user_id": 3109549, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/28171eb9da89605ed11018b44ae9be8b?s=128&d=identicon&r=PG", "display_name": "Tr\u1ea7n \u0110\u1ee9c T&#226;m", "link": "https://stackoverflow.com/users/3109549/tr%e1%ba%a7n-%c4%90%e1%bb%a9c-t%c3%a2m"}, "is_accepted": false, "score": 0, "last_activity_date": 1574218498, "creation_date": 1574218498, "answer_id": 58945932, "question_id": 58935582, "link": "https://stackoverflow.com/questions/58935582/flutter-dismiss-alertdialog-with-code-condition/58945932#58945932", "title": "flutter - dismiss alertdialog with code condition", "body": "<p>I think that's your question is how to know when should you dismiss it. When you start request to <code>_mainBloc</code>, you should also listen from the stream inside of <code>_mainBloc</code>. Check the response data and you can use any of the following to dismiss your dialog:</p>\n\n<pre><code>Navigator.of(context).pop();\nNavigator.pop(context);\n</code></pre>\n\n<p>You can also use that to return the result of the dialog (if it presented the user with choices)</p>\n"}], "owner": {"reputation": 3776, "user_id": 100371, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/ab5d80d800d0a3360178e6ecdd2eb485?s=128&d=identicon&r=PG", "display_name": "sooon", "link": "https://stackoverflow.com/users/100371/sooon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 366, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1574218498, "creation_date": 1574171408, "question_id": 58935582, "link": "https://stackoverflow.com/questions/58935582/flutter-dismiss-alertdialog-with-code-condition", "title": "flutter - dismiss alertdialog with code condition", "body": "<p>I have a function to open an <code>alertDialog</code> to prevent user from touching or changing while the app is getting data from server:</p>\n\n<pre><code>final GlobalKey&lt;NavigatorState&gt; _navigationKey = GlobalKey&lt;NavigatorState&gt;();\n\nFuture _processing(String s) async {\n    await showDialog(\n      context: _navigationKey.currentState.overlay.context,\n      builder: (BuildContext context) {\n        // return object of type Dialog\n        return AlertDialog(\n            backgroundColor: Colors.transparent,\n            elevation: 0,\n            content: Column(\n              mainAxisAlignment: MainAxisAlignment.center,\n              crossAxisAlignment: CrossAxisAlignment.center,\n              children: &lt;Widget&gt;[\n                CircularProgressIndicator(\n                  valueColor: AlwaysStoppedAnimation&lt;Color&gt;(Colors.white),\n                ),\n                Padding(\n                  padding: const EdgeInsets.all(8.0),\n                  child: Text(\n                    s,\n                    style: TextStyle(color: Colors.white),\n                  ),\n                )\n              ],\n            ));\n      },\n    ).then((val) {\n      print('processing dialog close');\n      // _mainBloc.add(SwipeProfile());\n    });\n  }\n</code></pre>\n\n<p>I need a way to close this dialog after all the data is downloaded, not using click or button to close it. How can I achieve that?</p>\n"}, {"tags": ["flutter", "dart", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 1147, "user_id": 178280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78b485b0e9b1617b06654b1ff67eedc2?s=128&d=identicon&r=PG", "display_name": "grassyburrito", "link": "https://stackoverflow.com/users/178280/grassyburrito"}, "edited": false, "score": 1, "creation_date": 1574185274, "post_id": 58935132, "comment_id": 104138289, "body": "Do not fetch all the documents of your collection all at once. This could impact the response time depending on the size of your document. Fetch the data only you need, try limiting the query using where. Its worth taking a look at <a href=\"https://firebase.googleblog.com/2019/08/why-is-my-cloud-firestore-query-slow.html\" rel=\"nofollow noreferrer\">firebase.googleblog.com/2019/08/&hellip;</a>"}, {"owner": {"reputation": 2019, "user_id": 11873978, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kx1YQoaQmm0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd9JQ9vSPKPyuX5gu32Q3QKsdylGg/photo.jpg?sz=128", "display_name": "Shruti Ramnandan Sharma", "link": "https://stackoverflow.com/users/11873978/shruti-ramnandan-sharma"}, "reply_to_user": {"reputation": 1147, "user_id": 178280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78b485b0e9b1617b06654b1ff67eedc2?s=128&d=identicon&r=PG", "display_name": "grassyburrito", "link": "https://stackoverflow.com/users/178280/grassyburrito"}, "edited": false, "score": 0, "creation_date": 1574227252, "post_id": 58935132, "comment_id": 104151904, "body": "But I&#39;ve just 12 documents in my database , it should not take too much time."}, {"owner": {"reputation": 1147, "user_id": 178280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78b485b0e9b1617b06654b1ff67eedc2?s=128&d=identicon&r=PG", "display_name": "grassyburrito", "link": "https://stackoverflow.com/users/178280/grassyburrito"}, "edited": false, "score": 1, "creation_date": 1574258966, "post_id": 58935132, "comment_id": 104168162, "body": "if it is just 12 documents it shouldn&#39;t, its worth clearing the app&#39;s cache and retrying."}, {"owner": {"reputation": 2019, "user_id": 11873978, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kx1YQoaQmm0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd9JQ9vSPKPyuX5gu32Q3QKsdylGg/photo.jpg?sz=128", "display_name": "Shruti Ramnandan Sharma", "link": "https://stackoverflow.com/users/11873978/shruti-ramnandan-sharma"}, "reply_to_user": {"reputation": 1147, "user_id": 178280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78b485b0e9b1617b06654b1ff67eedc2?s=128&d=identicon&r=PG", "display_name": "grassyburrito", "link": "https://stackoverflow.com/users/178280/grassyburrito"}, "edited": false, "score": 0, "creation_date": 1574323052, "post_id": 58935132, "comment_id": 104193604, "body": "Yep! I cleaned and was working perfect  for the first time , but in next time, same issue still facing."}], "answers": [{"comments": [{"owner": {"reputation": 1147, "user_id": 178280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78b485b0e9b1617b06654b1ff67eedc2?s=128&d=identicon&r=PG", "display_name": "grassyburrito", "link": "https://stackoverflow.com/users/178280/grassyburrito"}, "edited": false, "score": 0, "creation_date": 1574242402, "post_id": 58948985, "comment_id": 104158285, "body": "the data you download by querying is cached in your device for offline usage."}, {"owner": {"reputation": 2019, "user_id": 11873978, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kx1YQoaQmm0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd9JQ9vSPKPyuX5gu32Q3QKsdylGg/photo.jpg?sz=128", "display_name": "Shruti Ramnandan Sharma", "link": "https://stackoverflow.com/users/11873978/shruti-ramnandan-sharma"}, "reply_to_user": {"reputation": 1147, "user_id": 178280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78b485b0e9b1617b06654b1ff67eedc2?s=128&d=identicon&r=PG", "display_name": "grassyburrito", "link": "https://stackoverflow.com/users/178280/grassyburrito"}, "edited": false, "score": 0, "creation_date": 1574250578, "post_id": 58948985, "comment_id": 104163114, "body": "If I delete cache memory then will it be run smoothly ?"}, {"owner": {"reputation": 1045, "user_id": 5186340, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/0xX2k.jpg?s=128&g=1", "display_name": "Mahmoud Niypoo", "link": "https://stackoverflow.com/users/5186340/mahmoud-niypoo"}, "edited": false, "score": 0, "creation_date": 1574923658, "post_id": 58948985, "comment_id": 104402479, "body": "sure , I have faced the same issue in one query action and I notice my device almost out of charger :) so he reduce the process and power , the device power is important to handle what you do but please define the Collection reference out side function and clean any code maybe make duplicate or make query less if you make more then one query"}, {"owner": {"reputation": 1045, "user_id": 5186340, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/0xX2k.jpg?s=128&g=1", "display_name": "Mahmoud Niypoo", "link": "https://stackoverflow.com/users/5186340/mahmoud-niypoo"}, "edited": false, "score": 0, "creation_date": 1574923934, "post_id": 58948985, "comment_id": 104402578, "body": "setState will rebuild so maybe your code will redefine your collection reference and another code already defined"}, {"owner": {"reputation": 2019, "user_id": 11873978, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kx1YQoaQmm0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd9JQ9vSPKPyuX5gu32Q3QKsdylGg/photo.jpg?sz=128", "display_name": "Shruti Ramnandan Sharma", "link": "https://stackoverflow.com/users/11873978/shruti-ramnandan-sharma"}, "edited": false, "score": 0, "creation_date": 1574924273, "post_id": 58948985, "comment_id": 104402707, "body": "So sir, I should need define Collection reference as globly ?"}], "tags": [], "owner": {"reputation": 2019, "user_id": 11873978, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kx1YQoaQmm0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd9JQ9vSPKPyuX5gu32Q3QKsdylGg/photo.jpg?sz=128", "display_name": "Shruti Ramnandan Sharma", "link": "https://stackoverflow.com/users/11873978/shruti-ramnandan-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1574235286, "creation_date": 1574235286, "answer_id": 58948985, "question_id": 58935132, "link": "https://stackoverflow.com/questions/58935132/why-is-it-consuming-much-time-to-retrieve-data-from-firestore-with-flutter/58948985#58948985", "title": "Why is it consuming much time to retrieve data from firestore with flutter?", "body": "<p>It got solved by testing it on another device and running smoothly without any much time consumption. \nActually my first device's memory has filled, so that's why, taking too much time.</p>\n\n<p>But I'm still confuse, what the relation between device's memory space and firestorm database..!</p>\n"}, {"tags": [], "owner": {"reputation": 318, "user_id": 10464368, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TDyY9.png?s=128&g=1", "display_name": "Raj Dhakad", "link": "https://stackoverflow.com/users/10464368/raj-dhakad"}, "is_accepted": false, "score": 0, "last_activity_date": 1575087048, "creation_date": 1575087048, "answer_id": 59113134, "question_id": 58935132, "link": "https://stackoverflow.com/questions/58935132/why-is-it-consuming-much-time-to-retrieve-data-from-firestore-with-flutter/59113134#59113134", "title": "Why is it consuming much time to retrieve data from firestore with flutter?", "body": "<p>The relation between firestore data and device's memory is cache. When data is loaded for the first time, it's from firebase's servers (and thus costs you read requests), then firestore saves the data in the cache memory for future use. So slow retrieval of the data must be a Device OS problem (or a power issue).</p>\n\n<p>You can remove caching feature from firebase data but I won't recommend that.</p>\n\n<p>Also as suggested earlier you should not load all data at once especially if the data is going to be fetched a lot or data gets changed very often. The solution for that is pagination.</p>\n\n<p>This Video explains Flutter Pagination nicely:\n<a href=\"https://www.youtube.com/watch?v=coR4Y-DkrLc\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=coR4Y-DkrLc</a></p>\n"}], "owner": {"reputation": 2019, "user_id": 11873978, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kx1YQoaQmm0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd9JQ9vSPKPyuX5gu32Q3QKsdylGg/photo.jpg?sz=128", "display_name": "Shruti Ramnandan Sharma", "link": "https://stackoverflow.com/users/11873978/shruti-ramnandan-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 301, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1575087048, "creation_date": 1574169815, "question_id": 58935132, "link": "https://stackoverflow.com/questions/58935132/why-is-it-consuming-much-time-to-retrieve-data-from-firestore-with-flutter", "title": "Why is it consuming much time to retrieve data from firestore with flutter?", "body": "<p>first,I added an animation, after animation completed I called below code line but it's consuming too much time.</p>\n\n<pre><code>getData()async{\n DateTime now = DateTime.now();\n       await Firestore.instance.collection('Table_Name').getDocuments().then((QuerySnapshot snapshot){\n\n        print(\"length ${snapshot.documents.length}\");\n        for(int i = 0 ; i&lt; snapshot.documents.length; i++){\n\n          bool isToday = snapshot.documents[i].data['CreatedBy'].toString().split(\" \")[0]==DateFormat(\"yyyy-MM-dd\").format(now);\n          print(\"isTOday $isToday\");\n          if(isToday &amp;&amp; snapshot.documents[i].data['GainStatus']== \"0\"){\n            setState(() {\n            giftDocumentID = snapshot.documents[i].documentID; \n            });\n            break;\n          }\n        }\n        winOrLose(now);\n        print(\"giftDocumentID: $giftDocumentID\");\n      });\n}\n</code></pre>\n\n<p>This Above codes taking approx 10 min to retrieve data from firestore,  Why is it too lazy?</p>\n"}, {"tags": ["function", "date", "flutter", "dart", "dayofweek"], "answers": [{"tags": [], "owner": {"reputation": 941, "user_id": 9825832, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0EhBDWKBnY0/AAAAAAAAAAI/AAAAAAAAALY/mg_1-hnH8Y0/photo.jpg?sz=128", "display_name": "Murat Aslan", "link": "https://stackoverflow.com/users/9825832/murat-aslan"}, "is_accepted": false, "score": 2, "last_activity_date": 1574167404, "creation_date": 1574167404, "answer_id": 58934433, "question_id": 58934390, "link": "https://stackoverflow.com/questions/58934390/how-to-get-the-current-day-in-flutter/58934433#58934433", "title": "How to get the current day in flutter?", "body": "<p>use this pattern</p>\n\n<pre><code>DateFormat('EEEE').format(yourDate);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4149, "user_id": 5715935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1659768280958223/picture?type=large", "display_name": "Jay Mungara", "link": "https://stackoverflow.com/users/5715935/jay-mungara"}, "is_accepted": false, "score": 3, "last_activity_date": 1574168075, "creation_date": 1574168075, "answer_id": 58934622, "question_id": 58934390, "link": "https://stackoverflow.com/questions/58934390/how-to-get-the-current-day-in-flutter/58934622#58934622", "title": "How to get the current day in flutter?", "body": "<pre><code>// DateTime.now() or any DateTime format can be used.\nDateFormat('EEEE').format(DateTime.now());\n</code></pre>\n\n<p>To use other Date formats/patterns like <strong>\"EEEE\"</strong> you can visit the <a href=\"https://pub.dev/documentation/intl/latest/intl/DateFormat-class.html\" rel=\"nofollow noreferrer\">Official Documentation</a></p>\n"}], "owner": {"reputation": 270, "user_id": 11939257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fed73c4ddecc101f1d949de1fe1161a?s=128&d=identicon&r=PG&f=1", "display_name": "the coder", "link": "https://stackoverflow.com/users/11939257/the-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2140, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1574168075, "creation_date": 1574167276, "question_id": 58934390, "link": "https://stackoverflow.com/questions/58934390/how-to-get-the-current-day-in-flutter", "title": "How to get the current day in flutter?", "body": "<p>I want to get the current day using dart.</p>\n\n<p>Code I want:-</p>\n\n<pre><code>//I want something like this\n\nvar day = DateTime.getCurrentDay();\n</code></pre>\n\n<p>Output:-</p>\n\n<pre><code>Tuesday\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 4516, "user_id": 5734205, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zUbjwE44mmU/AAAAAAAAAAI/AAAAAAAAAYA/ooNUZ4dCzfE/photo.jpg?sz=128", "display_name": "Ravinder Kumar", "link": "https://stackoverflow.com/users/5734205/ravinder-kumar"}, "edited": false, "score": 0, "creation_date": 1574164517, "post_id": 58933255, "comment_id": 104126031, "body": "Are you creating apk by <code>flutter run --release</code> or by exporting the project in android studio."}], "answers": [{"tags": [], "owner": {"reputation": 270, "user_id": 9614935, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ramin", "link": "https://stackoverflow.com/users/9614935/ramin"}, "is_accepted": true, "score": 3, "last_activity_date": 1574165959, "creation_date": 1574165959, "answer_id": 58933974, "question_id": 58933255, "link": "https://stackoverflow.com/questions/58933255/i-am-building-a-release-apk-in-flutter-but-at-the-end-it-show-me-this-error/58933974#58933974", "title": "I am building a release apk in flutter but at the end it show me this error", "body": "<p>Try this:</p>\n\n<pre><code>flutter build apk --split-per-abi\n</code></pre>\n\n<p>Read <a href=\"https://flutter.dev/docs/deployment/android#building-the-app-for-release\" rel=\"nofollow noreferrer\">document</a> for more information</p>\n"}, {"tags": [], "owner": {"reputation": 1578, "user_id": 7579549, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-pHcdnSpqfZE/AAAAAAAAAAI/AAAAAAAAEHk/x3rP65yp31A/photo.jpg?sz=128", "display_name": "Anirudh Bagri", "link": "https://stackoverflow.com/users/7579549/anirudh-bagri"}, "is_accepted": false, "score": 0, "last_activity_date": 1574170601, "creation_date": 1574170601, "answer_id": 58935359, "question_id": 58933255, "link": "https://stackoverflow.com/questions/58933255/i-am-building-a-release-apk-in-flutter-but-at-the-end-it-show-me-this-error/58935359#58935359", "title": "I am building a release apk in flutter but at the end it show me this error", "body": "<p>Over time, android has spread throughout the world and runs on more than 2 billion devices. Because of android running on multiple platforms and foam-factors, it is very important to make sure an optimised app is installed on each platform.</p>\n\n<p>For eg., a phone which doesn't have a high-resolution screen, should not get high-res images and thus reduce the size of the APK.</p>\n\n<p>To make sure your app is optimized for each platform, android provides 2 methods:</p>\n\n<ol>\n<li><p>You can split your app into multiple APKs optimized for each platform.</p>\n\n<p><code>flutter build apk --split-per-abi</code></p></li>\n<li><p>Create an app-bundle and deploy it to play store, this way when a user downloads your app, play store automatically extracts and provides the APK which is optimized for that device.</p>\n\n<p><code>flutter build appbundle --target-platform android-arm,android-arm64</code></p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 14895723, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GijzRV1Mk7P-xUNPwGxRZScm4QVVZtoDVVZj2E3=k-s128", "display_name": "Ankush Mishra", "link": "https://stackoverflow.com/users/14895723/ankush-mishra"}, "is_accepted": false, "score": 1, "last_activity_date": 1609756721, "last_edit_date": 1609756721, "creation_date": 1609756157, "answer_id": 65561103, "question_id": 58933255, "link": "https://stackoverflow.com/questions/58933255/i-am-building-a-release-apk-in-flutter-but-at-the-end-it-show-me-this-error/65561103#65561103", "title": "I am building a release apk in flutter but at the end it show me this error", "body": "<p>Best way I found</p>\n<pre><code>flutter build apk --target-platform android-arm,android-arm64,android-x64 --split-per-abi\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 11334066, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CQcdR_f5dH0/AAAAAAAAAAI/AAAAAAAAAMk/RThkvM9cfbg/photo.jpg?sz=128", "display_name": "Azhar Mughal", "link": "https://stackoverflow.com/users/11334066/azhar-mughal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3213, "favorite_count": 0, "accepted_answer_id": 58933974, "answer_count": 3, "score": 2, "last_activity_date": 1609756721, "creation_date": 1574163556, "last_edit_date": 1574177323, "question_id": 58933255, "link": "https://stackoverflow.com/questions/58933255/i-am-building-a-release-apk-in-flutter-but-at-the-end-it-show-me-this-error", "title": "I am building a release apk in flutter but at the end it show me this error", "body": "<p><strong>flutter build apk --release</strong></p>\n\n<p>You are building a fat APK that includes binaries for <code>android-arm, android-arm64.</code></p>\n\n<blockquote>\n  <p>If you are deploying the app to the Play Store, it's recommended to\n  use app bundles or split the APK to reduce the APK size.\n      To generate an app bundle, run:\n          flutter build appbundle --target-platform android-arm,android-arm64\n          Learn more on: <a href=\"https://developer.android.com/guide/app-bundle\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/app-bundle</a>\n      To split the APKs per ABI, run:\n          flutter build apk --target-platform android-arm,android-arm64 --split-per-abi\n          Learn more on:  <a href=\"https://developer.android.com/studio/build/configure-apk-splits#configure-abi-split\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/build/configure-apk-splits#configure-abi-split</a>\n  Initializing gradle...<br>\n  1.2s Resolving dependencies...                                           3.7s registerResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection) registerResGeneratingTask\n  is deprecated, use registerGeneratedResFolders(FileCollection)\n  registerResGeneratingTask is deprecated, use\n  registerGeneratedResFolders(FileCollection) Running Gradle task\n  'assembleRelease'...</p>\n  \n  <p>Running Gradle task 'assembleRelease'... Done<br>\n  140.3s (!)</p>\n  \n  <p>Gradle task assembleRelease failed with exit code 1</p>\n</blockquote>\n"}, {"tags": ["android-studio", "flutter", "dart", "google-fit"], "answers": [{"tags": [], "owner": {"reputation": 522, "user_id": 7795086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jX7To.jpg?s=128&g=1", "display_name": "Omar Sherif", "link": "https://stackoverflow.com/users/7795086/omar-sherif"}, "is_accepted": false, "score": 0, "last_activity_date": 1579097183, "creation_date": 1579097183, "answer_id": 59753075, "question_id": 58932333, "link": "https://stackoverflow.com/questions/58932333/how-do-i-implement-google-fitkit-in-flutter/59753075#59753075", "title": "How do I implement Google fitkit in flutter?", "body": "<p>you can use <code>fit_fit</code> plugin to get fitness data from google fit it's much more easier.</p>\n\n<p><a href=\"https://pub.dev/packages/fit_kit\" rel=\"nofollow noreferrer\">https://pub.dev/packages/fit_kit</a>  </p>\n"}], "owner": {"reputation": 1, "user_id": 12397005, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBhnDwPH0W8sks5-EZOFuWV3KvHX7-QzfkPQzfJhA=k-s128", "display_name": "girish chaudhary", "link": "https://stackoverflow.com/users/12397005/girish-chaudhary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 936, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1579097183, "creation_date": 1574160671, "last_edit_date": 1574166154, "question_id": 58932333, "link": "https://stackoverflow.com/questions/58932333/how-do-i-implement-google-fitkit-in-flutter", "title": "How do I implement Google fitkit in flutter?", "body": "<p>I am implementing Google Fit kit in flutter, I use the client ID in the app folder and use the permissions inside <code>app -&gt; build</code> but when I open the page it asks for permission and when I give permission the app crashes.</p>\n\n<p><a href=\"https://i.stack.imgur.com/YDZa7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YDZa7.png\" alt=\"read function\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/bmhgD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bmhgD.png\" alt=\"permissions for goggle API\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/FUExk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FUExk.png\" alt=\"FIT KIT package and read all function\"></a></p>\n"}, {"tags": ["dart"], "answers": [{"comments": [{"owner": {"reputation": 610, "user_id": 7798109, "user_type": "registered", "profile_image": "https://graph.facebook.com/519799575075228/picture?type=large", "display_name": "Kshitij Dhakal", "link": "https://stackoverflow.com/users/7798109/kshitij-dhakal"}, "edited": false, "score": 0, "creation_date": 1574234542, "post_id": 58948573, "comment_id": 104154392, "body": "This definitely looks like better approach then one I have. But I&#39;ll have to be honest, it was very hard to understand at first."}], "tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": true, "score": 1, "last_activity_date": 1574233593, "creation_date": 1574233593, "answer_id": 58948573, "question_id": 58932248, "link": "https://stackoverflow.com/questions/58932248/is-it-possible-to-add-setter-for-innernested-fields-in-dart/58948573#58948573", "title": "Is it possible to add setter for inner(nested) fields in dart?", "body": "<p>What you can do depends on how you can constrain the API.</p>\n\n<p>If <code>Name</code> objects are routinely being created by third-party code and passed around, and are expected to retain their identity when stored in a <code>Person</code> object, then here isn't much you can do. So I wouldn't design the Person object that way.</p>\n\n<p>Instead I'd say that the <code>Name</code> object of a <code>Person</code> object is linked to that, and setting the <code>name</code> of a <code>Person</code> is the same as setting both name parts.</p>\n\n<p>Example:</p>\n\n<pre><code>class Person {\n  _PersonName _name;\n  Person(...) : ... {\n    _name = _PersonName(this);\n  }\n  ...\n  void set name(Name name) {\n    _name.fname = name.fname;\n    _name.lname = name.lname;\n    notifyListeners();\n  }\n  Name get name =&gt; _name;\n}\n\nclass _PersonName extends Name {\n  final Person _owner;\n  _PersonName(this._owner);\n  void set fname(String fname) {\n    super.fname = fname;\n    _owner.notifyListeners();\n  }\n  void set lname(String lname) {\n    super.lname = lname;\n    _owner.notifyListeners();\n  }\n}\n</code></pre>\n\n<p>That has the disadvantage that the extracted <code>_PersonName</code> is forever linked to the <code>Person</code> object, even if you try to write a different <code>Name</code> object.</p>\n\n<p>Another option is to create a new <code>_PersonName</code> on every store a new name object, and detach the old object from the <code>Person</code> at that point:</p>\n\n<pre><code>class Person {\n  _PersonName _name = _PersonName;\n  Person(...) : ... {\n    _name = _PersonName(this, null, null);\n  }\n  void set name(Name name) {\n    _name.owner = null;\n    _name = _PersonName(this, name.fname, name.lname);\n    notifyListeners();\n  } \n  Name get name =&gt; _name;\n}\nclass _PersonName extends Name {\n  Person _owner;\n  _PersonName(this._owner, String fname, String lname) {\n    super.fname = fname;\n    super.lname = lname;\n  }\n  void set fname(String fname) {\n    super.fname = fname;\n    owner?.notifyListeners();\n  }\n  void set lname(String lname) {\n    super.lname = lname;\n    owner?.notifyListeners();\n  }\n}\n</code></pre>\n\n<p>This approach behaves mostly like the plain storing of name objects, except that if you do:</p>\n\n<p>var p = Person();\n   var n = Name();\n   p.name = n;\n   print(identical(n, p.name)); // false?</p>\n\n<p>you don't preserve the identity of the <code>Name</code> object stored into the <code>Person</code> object.\nThere is no way to do so, and also change the behavior of setting strings directly on the name using <code>person.name.fname = ...</code>, so something has to be sacrificed.</p>\n"}], "owner": {"reputation": 610, "user_id": 7798109, "user_type": "registered", "profile_image": "https://graph.facebook.com/519799575075228/picture?type=large", "display_name": "Kshitij Dhakal", "link": "https://stackoverflow.com/users/7798109/kshitij-dhakal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 58948573, "answer_count": 1, "score": 0, "last_activity_date": 1574233593, "creation_date": 1574160420, "question_id": 58932248, "link": "https://stackoverflow.com/questions/58932248/is-it-possible-to-add-setter-for-innernested-fields-in-dart", "title": "Is it possible to add setter for inner(nested) fields in dart?", "body": "<p>In dart we can execute some code when value of field is changed using something like</p>\n\n<pre><code>class Name{\n  String fname;\n  String lname;\n}\nclass Person extends ChangeNotifier{\n  Name _name = Name();\n  set name(Name n){\n    notifyListeners();\n    _name = n;\n  }\n  get name=&gt;_name;\n}\n\n//inside main() \nPerson p = Person();\np.name = Name();\n</code></pre>\n\n<p>I want to be able to perform similar action while setting inner fields. Such as while doing</p>\n\n<pre><code>p.name.fname =\"FooBar\";\n</code></pre>\n\n<p>But I want to be able to do it from <code>Person</code> class. </p>\n\n<p><strong>Because</strong> I am extending <code>ChangeNotifier</code> in Person class. And I want to call</p>\n\n<pre><code>notifyListeners()\n</code></pre>\n\n<p>that is not accessible in Name class. This is best I've come up with</p>\n\n<pre><code>Name newName = Name(p.name); //copy constructor\nnewName.fname = \"Foo Bar\";\np.name = newName;\n</code></pre>\n\n<p>Is there a better way?</p>\n"}, {"tags": ["android-studio", "flutter", "dart"], "comments": [{"owner": {"reputation": 875, "user_id": 2931489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/T7MIt.jpg?s=128&g=1", "display_name": "Harsh Patel", "link": "https://stackoverflow.com/users/2931489/harsh-patel"}, "edited": false, "score": 0, "creation_date": 1574158130, "post_id": 58931380, "comment_id": 104122261, "body": "how you end up to this level of encoding? Strange never seen before"}, {"owner": {"reputation": 1, "user_id": 8020651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32692b7a4a12b929b62099cfe7b9e762?s=128&d=identicon&r=PG&f=1", "display_name": "omar amin", "link": "https://stackoverflow.com/users/8020651/omar-amin"}, "reply_to_user": {"reputation": 875, "user_id": 2931489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/T7MIt.jpg?s=128&g=1", "display_name": "Harsh Patel", "link": "https://stackoverflow.com/users/2931489/harsh-patel"}, "edited": false, "score": 0, "creation_date": 1574159369, "post_id": 58931380, "comment_id": 104123028, "body": "file was loaded in the wrong encoding utf-8, when i search for this message i found answer that tell click encoding in other and click more choose utf-8 , and i click reload not convert then i end up to this"}], "owner": {"reputation": 1, "user_id": 8020651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32692b7a4a12b929b62099cfe7b9e762?s=128&d=identicon&r=PG&f=1", "display_name": "omar amin", "link": "https://stackoverflow.com/users/8020651/omar-amin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574159544, "creation_date": 1574158008, "last_edit_date": 1574159544, "question_id": 58931380, "link": "https://stackoverflow.com/questions/58931380/i-change-the-encoding-file-but-the-content-of-file-changed-to-symbols-i-want-to", "title": "I change the encoding file but the content of file changed to symbols i want to restore the file content", "body": "<p>i also change .android.X.X to old and reopen AS but dose't restore the content can i restore the content ?\n<a href=\"https://i.stack.imgur.com/aV9TQ.jpg\" rel=\"nofollow noreferrer\">image</a></p>\n"}, {"tags": ["listview", "flutter", "dart", "async-await"], "answers": [{"comments": [{"owner": {"reputation": 875, "user_id": 2931489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/T7MIt.jpg?s=128&g=1", "display_name": "Harsh Patel", "link": "https://stackoverflow.com/users/2931489/harsh-patel"}, "reply_to_user": {"reputation": 1781, "user_id": 5257704, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/34f9dfd2df35241769bec4262a946de2?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5257704/tony"}, "edited": false, "score": 0, "creation_date": 1574157436, "post_id": 58930934, "comment_id": 104121892, "body": "@Tony it won&#39;t work this way because you&#39;re directly returning 0 in the return so you&#39;ll return 0 every time."}, {"owner": {"reputation": 875, "user_id": 2931489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/T7MIt.jpg?s=128&g=1", "display_name": "Harsh Patel", "link": "https://stackoverflow.com/users/2931489/harsh-patel"}, "reply_to_user": {"reputation": 1781, "user_id": 5257704, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/34f9dfd2df35241769bec4262a946de2?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5257704/tony"}, "edited": false, "score": 0, "creation_date": 1574157506, "post_id": 58930934, "comment_id": 104121938, "body": "You can do one thing pass your current function as argument in the showDialog method. And call that function on the confirmation. If you&#39;re confused then i can give you a short demo about it."}, {"owner": {"reputation": 875, "user_id": 2931489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/T7MIt.jpg?s=128&g=1", "display_name": "Harsh Patel", "link": "https://stackoverflow.com/users/2931489/harsh-patel"}, "reply_to_user": {"reputation": 1781, "user_id": 5257704, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/34f9dfd2df35241769bec4262a946de2?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5257704/tony"}, "edited": false, "score": 2, "creation_date": 1574157825, "post_id": 58930934, "comment_id": 104122102, "body": "Updated the answer. Please take a look"}, {"owner": {"reputation": 1781, "user_id": 5257704, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/34f9dfd2df35241769bec4262a946de2?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5257704/tony"}, "edited": false, "score": 0, "creation_date": 1574171603, "post_id": 58930934, "comment_id": 104130054, "body": "I still don&#39;t understand. What is onSuccess and onFailure?"}, {"owner": {"reputation": 875, "user_id": 2931489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/T7MIt.jpg?s=128&g=1", "display_name": "Harsh Patel", "link": "https://stackoverflow.com/users/2931489/harsh-patel"}, "reply_to_user": {"reputation": 1781, "user_id": 5257704, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/34f9dfd2df35241769bec4262a946de2?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5257704/tony"}, "edited": false, "score": 0, "creation_date": 1574230194, "post_id": 58930934, "comment_id": 104152789, "body": "@Tony that would be your after process functions which you want to execute after a result. Let me edit my answer with those two functions."}, {"owner": {"reputation": 1781, "user_id": 5257704, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/34f9dfd2df35241769bec4262a946de2?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5257704/tony"}, "edited": false, "score": 0, "creation_date": 1574315269, "post_id": 58930934, "comment_id": 104190461, "body": "Where should I place the  onSuccess function and OnFailure function (The last part of your code) ? Isn&#39;t in Page A ?"}, {"owner": {"reputation": 875, "user_id": 2931489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/T7MIt.jpg?s=128&g=1", "display_name": "Harsh Patel", "link": "https://stackoverflow.com/users/2931489/harsh-patel"}, "reply_to_user": {"reputation": 1781, "user_id": 5257704, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/34f9dfd2df35241769bec4262a946de2?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5257704/tony"}, "edited": false, "score": 0, "creation_date": 1574315700, "post_id": 58930934, "comment_id": 104190589, "body": "Yes these functions should be in Page A and your openDialog function should be in another file as you did in your code."}, {"owner": {"reputation": 1781, "user_id": 5257704, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/34f9dfd2df35241769bec4262a946de2?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5257704/tony"}, "edited": false, "score": 0, "creation_date": 1574316163, "post_id": 58930934, "comment_id": 104190760, "body": "If I create onSuccess and OnFailure function separately, index cannot be resolved as it is attach to the listView itemBuilder."}, {"owner": {"reputation": 875, "user_id": 2931489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/T7MIt.jpg?s=128&g=1", "display_name": "Harsh Patel", "link": "https://stackoverflow.com/users/2931489/harsh-patel"}, "reply_to_user": {"reputation": 1781, "user_id": 5257704, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/34f9dfd2df35241769bec4262a946de2?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5257704/tony"}, "edited": false, "score": 1, "creation_date": 1574316944, "post_id": 58930934, "comment_id": 104191057, "body": "Pass that index into showDialog method and then re-pass that index into success function. This way you can manage that issue."}], "tags": [], "owner": {"reputation": 875, "user_id": 2931489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/T7MIt.jpg?s=128&g=1", "display_name": "Harsh Patel", "link": "https://stackoverflow.com/users/2931489/harsh-patel"}, "is_accepted": true, "score": 3, "last_activity_date": 1574230442, "last_edit_date": 1574230442, "creation_date": 1574156689, "answer_id": 58930934, "question_id": 58930313, "link": "https://stackoverflow.com/questions/58930313/refresh-listview-in-flutter/58930934#58930934", "title": "Refresh ListView in Flutter", "body": "<p>I think you're not waiting for your dialog confirmation. You should use await method to wait for the result of that dialog. I don't know what you wrote in </p>\n\n<pre><code>PopUpDialog().showDeleteDialog();\n</code></pre>\n\n<p>method but it should be async to perform the after operations.</p>\n\n<p>For now you can write this statement to resolve the error.</p>\n\n<pre><code>var result =  await PopUpDialog().showDeleteDialog(); \n</code></pre>\n\n<p>Or you can also do this if you showDeleteDialog() is async -> </p>\n\n<pre><code>PopUpDialog().showDeleteDialog().then((result){\nif (result == 'Success') {\n                print('success');\n                setState(() {\n                  data.removeAt(index);\n               });\n           } else {\n               print('fjeodpedp');\n           }\n\n});\n</code></pre>\n\n<p>Try this and let me know whether it works or not.</p>\n\n<p><strong>Update</strong></p>\n\n<pre><code>int showDeleteDialog({Function onSuccess, Function onFailure}) {\n    _bloc = Provider.of&lt;Bloc&gt;(context);\n    showDialog(\n        context: context,\n        builder: (BuildContext buildContext) {\n          return AlertDialog(\n              actions: &lt;Widget&gt;[\n                FlatButton(\n                  color: Colors.orange,\n                  child: Text('YES', style: TextStyle(color: Colors.white)),\n                  onPressed: () async {\n                    Navigator.pop(buildContext);\n                    var result = await _bloc.deleteWorkOrder();\n                    if(onSuccess!=null) onSuccess(result); &lt;------ Here you can pass your result directly to the function.\n                    return result;\n                  },\n                ),\n                FlatButton(\n                  color: Colors.white,\n                  child: Text('CANCEL'),\n                  onPressed: () {\n                    if(onFailure!=null) onFailure();\n                    Navigator.of(buildContext, rootNavigator: true)\n                        .pop('dialog');\n                  },\n                )\n              ],\n              title: Text(Localization.of(buildContext).deleteDialogTitle),\n              content: Text(Localization.of(buildContext).deleteDialogContent));\n        });\n\n    return 0;\n  }\n</code></pre>\n\n<p>Your success function would be like this</p>\n\n<pre><code>onSuccess(result){\n           if (result == 'Success') {\n                print('success');\n                setState(() {\n                  data.removeAt(index);\n               });\n           } else {\n               print('fjeodpedp');\n           }\n}\n\nonFailure(){\n//Add your failiure logic here.\n}\n</code></pre>\n"}], "owner": {"reputation": 1781, "user_id": 5257704, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/34f9dfd2df35241769bec4262a946de2?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5257704/tony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8689, "favorite_count": 1, "accepted_answer_id": 58930934, "answer_count": 1, "score": 4, "last_activity_date": 1574230442, "creation_date": 1574154714, "question_id": 58930313, "link": "https://stackoverflow.com/questions/58930313/refresh-listview-in-flutter", "title": "Refresh ListView in Flutter", "body": "<p>How can I refresh a <code>ListView</code> ?\nLet say in page A, I have a <code>ListView</code>, and there is a menu icon in the row item.\nWhen I click the menu icon, it will show a bottom sheet dialog which has a delete icon.\nWhen delete icon is clicked, it will pop up a delete confirmation dialog.\nOnce the 'Yes' button in confirmation dialog is clicked, it will delete the item. Once it received the \"Success\" status, it will refresh the <code>ListView</code>.\nThis is the code for bottom sheet delete icon</p>\n\n<pre><code> onTap: () {\n          Navigator.pop(context);\n          var result =  PopUpDialog().showDeleteDialog();   // pop up confirmation dialog\n          if (result == 'Success') {\n                print('success');\n                setState(() {\n                  data.removeAt(index);\n               });\n           } else {\n               print('fjeodpedp');\n           }\n         },\n</code></pre>\n\n<p>And this is the code for <code>Yes</code> button in confirmation dialog.  </p>\n\n<p><strong>PopUpDialog-showDeleteDialog</strong></p>\n\n<pre><code>  onPressed: () async {\n      Navigator.pop(buildContext);   // dismiss confirmation dialog\n          var result = await _bloc.delete();\n          return result;\n    },\n</code></pre>\n\n<p><strong>Bloc class</strong></p>\n\n<pre><code>Future delete() async {\n    Response delete = await _repo.delete();  // delete data in server\n    var deleteResponse = Response.fromJson(delete.body);\n    return deleteResponse.status;   // return Success\n  }\n</code></pre>\n\n<p>I want the <strong>setState</strong> get called only if <strong>deleteResponse.status</strong> is equal to <strong>success</strong>, but it keep printing <code>fjeodpedp</code> once the confirmation dialog is pop up. I have added async-await, but still not working.</p>\n\n<p>What is the correct way?</p>\n\n<p>Thanks for your valuable time.</p>\n"}, {"tags": ["user-interface", "flutter", "dart", "rebuild", "state-management"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1574151576, "post_id": 58928276, "comment_id": 104118818, "body": "check <a href=\"https://medium.com/flutter/flutter-dont-fear-the-garbage-collector-d69b3ff1ca30\" rel=\"nofollow noreferrer\">Flutter: Don\u2019t Fear the Garbage Collector</a>  - it says: <i>&quot;So should Flutter developers fear the garbage collector? With Flutter creating and destroying objects with great frequency, should developers take steps to limit this behavior? It\u2019s not uncommon to see new Flutter developers create references to widgets they know will not change over time, and place them in state so that they won\u2019t be destroyed and rebuilt. Don\u2019t do this.&quot;</i>"}], "answers": [{"tags": [], "owner": {"reputation": 3228, "user_id": 8700937, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100002557288121/picture?type=large", "display_name": "Farwa", "link": "https://stackoverflow.com/users/8700937/farwa"}, "is_accepted": false, "score": 0, "last_activity_date": 1574152541, "last_edit_date": 1574152541, "creation_date": 1574151739, "answer_id": 58929482, "question_id": 58928276, "link": "https://stackoverflow.com/questions/58928276/how-to-rebuild-a-particular-widget-property-instead-of-the-whole-widget/58929482#58929482", "title": "How to rebuild a particular widget property instead of the whole widget?", "body": "<p>Make your class <code>StatelessWidget</code> and use <a href=\"https://pub.dev/packages/provider\" rel=\"nofollow noreferrer\">Provider Package</a> for state management. Inside the widget build function keep the <strong>Provider</strong> listener <strong>false</strong> and wrap the changeable widget with <strong><code>Consumer Widget</code></strong>.</p>\n\n<pre><code> Widget build(BuildContext context) {\n  final cart = Provider.of&lt;Cart&gt;(context, listen: false);\n  return GridTileBar(\n        leading: Consumer&lt;Product&gt;(\n          builder: (ctx, product, child) =&gt; IconButton(\n            onPressed: () {\n              product.toggleFavoriteStatus();\n            },\n            icon: Icon(product.isFavorite ? Icons.favorite : Icons.favorite_border),\n            color: Theme.of(context).accentColor,\n          ),\n        ),\n        trailing: IconButton(\n          icon: Icon(Icons.shopping_cart),\n          onPressed: () {\n            cart.addItem(product.id, product.title, product.price);\n          },\n          color: Theme.of(context).accentColor,\n        ),\n        backgroundColor: Colors.black87,\n        title: Text(product.title),\n      );\n}\n</code></pre>\n\n<p>For more details on provider package: <a href=\"https://medium.com/flutter-community/flutter-pragmatic-state-management-using-provider-5c1129f9b5bb\" rel=\"nofollow noreferrer\">State Management Using Provider</a></p>\n"}], "owner": {"reputation": 963, "user_id": 10876063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T9tzR.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/10876063/umair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574157422, "creation_date": 1574146752, "last_edit_date": 1574157422, "question_id": 58928276, "link": "https://stackoverflow.com/questions/58928276/how-to-rebuild-a-particular-widget-property-instead-of-the-whole-widget", "title": "How to rebuild a particular widget property instead of the whole widget?", "body": "<p>I am making an application and for showing circular progress indicator i had used library of modal_progress_hud and when i set the state of inAsyncCall true or false, it rebuild all of its child widgets inside modal_progress_hud. And i do not want to rebuild all the UI again and again. It decreases the efficency of application by increasing usage of GPU. Is there any other way to make it better, that we just change the property and rebuild that property of widget only instead of whole screen and widgets inside it.</p>\n\n<pre><code>  bool circularindicator = false;\n  Color circularColor;\n  double circularOpacity;\n\n              child: ModalProgressHUD(\n                inAsyncCall: circularindicator,\n                child: body,\n                color: circularColor,\n                opacity: circularOpacity,\n              ),\n</code></pre>\n\n<p>In body, we have all of the widgets in listview.\nAnd after pressing the login button we called the showProgress() method and set the state and rebuild the widget.</p>\n\n<pre><code>  @override\n  showProgress() {\n    setState(() {\n      circularindicator = true;\n      circularOpacity = 0.5;\n      circularColor = Colors.grey;\n    });\n  }\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 1578, "user_id": 7579549, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-pHcdnSpqfZE/AAAAAAAAAAI/AAAAAAAAEHk/x3rP65yp31A/photo.jpg?sz=128", "display_name": "Anirudh Bagri", "link": "https://stackoverflow.com/users/7579549/anirudh-bagri"}, "edited": false, "score": 0, "creation_date": 1574146384, "post_id": 58928061, "comment_id": 104116711, "body": "make sure imageFile is a valid location on file system, and then return your widget in the else condition."}, {"owner": {"reputation": 1284, "user_id": 11537949, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oKMxv.png?s=128&g=1", "display_name": "Can Karabag", "link": "https://stackoverflow.com/users/11537949/can-karabag"}, "edited": false, "score": 0, "creation_date": 1574147036, "post_id": 58928061, "comment_id": 104116952, "body": "return your Image widget at the else statement and could you show your _showChoiceDialog method?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10086051, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XCptxjnbYBU/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pdTSeci4fiIH_yPJBSZNph7m6Q0Q/mo/photo.jpg?sz=128", "display_name": "Shashank Srivastava", "link": "https://stackoverflow.com/users/10086051/shashank-srivastava"}, "edited": false, "score": 0, "creation_date": 1574168139, "post_id": 58928169, "comment_id": 104128067, "body": "I have tried that but the issue is continues. I have included my whole code now, please have a look."}], "tags": [], "owner": {"reputation": 420, "user_id": 4138212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/702f04c4fc4192e7c7849315c51c07cb?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas", "link": "https://stackoverflow.com/users/4138212/lukas"}, "is_accepted": true, "score": 2, "last_activity_date": 1574146243, "creation_date": 1574146243, "answer_id": 58928169, "question_id": 58928061, "link": "https://stackoverflow.com/questions/58928061/flutter-error-columns-children-must-not-contain-any-null-values-but-a-null-val/58928169#58928169", "title": "Flutter error Column&#39;s children must not contain any null values, but a null value was found at index 0", "body": "<p>you have to return your Image Widget in your else case:</p>\n\n<pre><code>Widget _decideImageView(){\n        if(imageFile == null){\n          return Text(\"No Image Selected\");\n        } \n        else{\n          return Image.file(imageFile, width: 400, height: 400,);\n        }\n      }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 10086051, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XCptxjnbYBU/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pdTSeci4fiIH_yPJBSZNph7m6Q0Q/mo/photo.jpg?sz=128", "display_name": "Shashank Srivastava", "link": "https://stackoverflow.com/users/10086051/shashank-srivastava"}, "edited": false, "score": 0, "creation_date": 1574168123, "post_id": 58929102, "comment_id": 104128056, "body": "I have tried that but the issue is continues. I have included my whole code now, please have a look."}, {"owner": {"reputation": 105, "user_id": 8038685, "user_type": "registered", "profile_image": "https://graph.facebook.com/1512320008798662/picture?type=large", "display_name": "Shajedul Islam Any", "link": "https://stackoverflow.com/users/8038685/shajedul-islam-any"}, "reply_to_user": {"reputation": 13, "user_id": 10086051, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XCptxjnbYBU/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pdTSeci4fiIH_yPJBSZNph7m6Q0Q/mo/photo.jpg?sz=128", "display_name": "Shashank Srivastava", "link": "https://stackoverflow.com/users/10086051/shashank-srivastava"}, "edited": false, "score": 0, "creation_date": 1574872110, "post_id": 58929102, "comment_id": 104386663, "body": "Sorry for late, is it fixed or still you are facing. Please let me know!"}], "tags": [], "owner": {"reputation": 105, "user_id": 8038685, "user_type": "registered", "profile_image": "https://graph.facebook.com/1512320008798662/picture?type=large", "display_name": "Shajedul Islam Any", "link": "https://stackoverflow.com/users/8038685/shajedul-islam-any"}, "is_accepted": false, "score": 2, "last_activity_date": 1574150221, "creation_date": 1574150221, "answer_id": 58929102, "question_id": 58928061, "link": "https://stackoverflow.com/questions/58928061/flutter-error-columns-children-must-not-contain-any-null-values-but-a-null-val/58929102#58929102", "title": "Flutter error Column&#39;s children must not contain any null values, but a null value was found at index 0", "body": "<p>Just add a return before Image.File at else section of _decideImageView() function.</p>\n\n<p>You have to keep in mind that the function _decideImageView() you have called must return something. So when your imageFile is not null it is going to the else but not returning. That is why you are getting the error of null index in column</p>\n"}], "owner": {"reputation": 13, "user_id": 10086051, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XCptxjnbYBU/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pdTSeci4fiIH_yPJBSZNph7m6Q0Q/mo/photo.jpg?sz=128", "display_name": "Shashank Srivastava", "link": "https://stackoverflow.com/users/10086051/shashank-srivastava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2733, "favorite_count": 0, "accepted_answer_id": 58928169, "answer_count": 2, "score": 1, "last_activity_date": 1574168017, "creation_date": 1574145811, "last_edit_date": 1574168017, "question_id": 58928061, "link": "https://stackoverflow.com/questions/58928061/flutter-error-columns-children-must-not-contain-any-null-values-but-a-null-val", "title": "Flutter error Column&#39;s children must not contain any null values, but a null value was found at index 0", "body": "<p>I was trying a camera app in flutter and encountered the issue that column's children must not contain null values, but a null value was found at index 0. I am not able to pass the widget in column's children.</p>\n\n<pre><code>import 'dart:io';\nimport 'package:flutter/material.dart';\nimport 'package:image_picker/image_picker.dart';\n\nvoid main() {\n  runApp(new MaterialApp(\n    title: \"Camera App\",\n    home: LandingScreen(),\n    ));\n}\n\nclass LandingScreen extends StatefulWidget {\n  @override\n  _LandingScreenState createState() =&gt; _LandingScreenState();\n}\n\nclass _LandingScreenState extends State&lt;LandingScreen&gt; {\n\n  File imageFile;\n\n  _openGallery(BuildContext context) async {\n    var picture = await ImagePicker.pickImage(source: ImageSource.gallery);\n    this.setState((){\n      imageFile = picture;\n    });\n    Navigator.of(context).pop();\n  }\n\n  _openCamera(BuildContext context) async{\n    var picture = await ImagePicker.pickImage(source: ImageSource.camera);\n    this.setState((){\n      imageFile = picture;\n    });\n    Navigator.of(context).pop();\n  }\n\n  Future&lt;void&gt; _showChoiceDialog(BuildContext context){\n    return showDialog(context: context,builder: (BuildContext context){\n      return AlertDialog(\n        title: Text(\"Make a choice!\"),\n        content: SingleChildScrollView(\n          child: ListBody(\n            children: &lt;Widget&gt;[\n              GestureDetector(\n                child: Text(\"Gallery\"),\n                onTap: (){\n                  _openGallery(context);\n                },\n                ),\n                Padding(padding: EdgeInsets.all(8.0),),\n                GestureDetector(\n                child: Text(\"Camera\"),\n                onTap: (){\n                  _openCamera(context);\n                },\n                ),\n            ],\n            ),\n        ),\n        );\n    });\n  }\n\n  Widget _decideImageView(){\n    if(imageFile == null){\n      return Text(\"No Image Selected\");\n    } \n    else{\n      return Image.file(imageFile, width: 400, height: 400,);\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(\"Main Screen\"),\n      ),\n      body: Container(\n        child: Center(\n          child: Column(\n            mainAxisAlignment: MainAxisAlignment.spaceAround,\n            children: &lt;Widget&gt;[\n              _decideImageView(),\n              RaisedButton(onPressed: (){\n                _showChoiceDialog(context);\n              },child: Text(\"Select Image!\"),)\n            ],\n          )\n          )\n      )\n    );\n  }\n}\n</code></pre>\n\n<p>I have checked with and without return in the else section but the issue is still there.</p>\n\n<p>I have included the whole code now.</p>\n"}, {"tags": ["flutter", "file-upload", "dart", "flutter-plugin"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1574148298, "post_id": 58927745, "comment_id": 104117444, "body": "use <a href=\"https://pub.dev/documentation/http/latest\" rel=\"nofollow noreferrer\">http</a> library"}], "answers": [{"tags": [], "owner": {"reputation": 1792, "user_id": 9942346, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xgDzwMLWI-8/AAAAAAAAAAI/AAAAAAAAAkA/T9WQvF9kaQw/photo.jpg?sz=128", "display_name": "Guillaume Roux", "link": "https://stackoverflow.com/users/9942346/guillaume-roux"}, "is_accepted": false, "score": 1, "last_activity_date": 1574158497, "creation_date": 1574158497, "answer_id": 58931548, "question_id": 58927745, "link": "https://stackoverflow.com/questions/58927745/how-to-upload-or-save-files-to-server-in-flutter/58931548#58931548", "title": "How to upload or save files to server in flutter?", "body": "<p>You need to make a POST request on your path to send the file and completing the body of your request with your file data. (using <a href=\"https://pub.dev/packages/http\" rel=\"nofollow noreferrer\">http</a> package)</p>\n\n<p>Or the package <a href=\"https://pub.dev/packages/flutter_uploader\" rel=\"nofollow noreferrer\">flutter_uploader</a> might help you too.</p>\n"}], "owner": {"reputation": 493, "user_id": 6148557, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/13e3039d29ee61ed5ac1ed2e7e5c5b70?s=128&d=identicon&r=PG&f=1", "display_name": "proversion", "link": "https://stackoverflow.com/users/6148557/proversion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 557, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574158497, "creation_date": 1574144221, "question_id": 58927745, "link": "https://stackoverflow.com/questions/58927745/how-to-upload-or-save-files-to-server-in-flutter", "title": "How to upload or save files to server in flutter?", "body": "<p>I am trying to save or upload files with different extensions to server. I have the server path to send the files and the local file path taken using the file picker. Now I have to upload this to server. I am using objective-c to build iOS. How can this possible? </p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1574143299, "post_id": 58927508, "comment_id": 104115686, "body": "You can pass a Future the same as you can pass any other data type. You&#39;re going to have to be more specific if you want a more specific answer."}, {"owner": {"reputation": 1, "user_id": 8750022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/828ce618f314930dc9233efdd1760c9c?s=128&d=identicon&r=PG&f=1", "display_name": "Lenon", "link": "https://stackoverflow.com/users/8750022/lenon"}, "reply_to_user": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1574143868, "post_id": 58927508, "comment_id": 104115833, "body": "Hi @Abion47, thanks for replying, problem with my current approach is that whenever I pass the future into the dialog class, the future runs immediately before onpress is called"}, {"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1574151057, "post_id": 58927508, "comment_id": 104118586, "body": "It&#39;s unclear what Future you are referring to and where you are passing it to the dialog class."}, {"owner": {"reputation": 1, "user_id": 8750022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/828ce618f314930dc9233efdd1760c9c?s=128&d=identicon&r=PG&f=1", "display_name": "Lenon", "link": "https://stackoverflow.com/users/8750022/lenon"}, "reply_to_user": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1574152432, "post_id": 58927508, "comment_id": 104119241, "body": "Im trying to pass in the Future &#39;await globalService.requestApi&#39;, its an future, I tried passing it as an function into the &#39; dialogManager.retryDialog&#39; helper class, the retry dialog takes in 3 params and i&#39;m attempting to pass the Future/Function as one of the param, but it won&#39;t work because it&#39;s an async function, passing it as an Future causes it to launch instantly before the dialog is even rendered."}, {"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1574183514, "post_id": 58927508, "comment_id": 104137436, "body": "<code>globalService.requestApi</code> is the future. By <code>await</code>ing it, you are choosing to instead wait for the future to complete and store the result (which is a <code>bool</code> in this case). If you want to work with the future itself, remove the <code>await</code>."}, {"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1574186586, "post_id": 58927508, "comment_id": 104138932, "body": "One confusing thing though, the way you use the future in the dialog is in the button handler where you do <code>Navigator.pop(context);</code> and <i>then</i> await the future, after which nothing happens as that&#39;s the end of the function."}, {"owner": {"reputation": 1, "user_id": 8750022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/828ce618f314930dc9233efdd1760c9c?s=128&d=identicon&r=PG&f=1", "display_name": "Lenon", "link": "https://stackoverflow.com/users/8750022/lenon"}, "reply_to_user": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1574211320, "post_id": 58927508, "comment_id": 104148459, "body": "Ah yes! That fixed the problem, thank you @Abion47! I got confused with the await, after i removed the await and pass in getCountryApi() function instead of globalService.requestApi, things are working!"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8750022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/828ce618f314930dc9233efdd1760c9c?s=128&d=identicon&r=PG&f=1", "display_name": "Lenon", "link": "https://stackoverflow.com/users/8750022/lenon"}, "edited": false, "score": 0, "creation_date": 1574152311, "post_id": 58929244, "comment_id": 104119180, "body": "Yes, now Im trying to pass the API call into the dialog box&#39;s onpress button, but im not sure how should I pass it. I tried passing it as an function but it won&#39;t work because it&#39;s an async function, passing it as an Future causes it to launch instantly before the dialog is even rendered."}, {"owner": {"reputation": 256, "user_id": 4776988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0348ab28ef9a9fbe694367600f28aaa?s=128&d=identicon&r=PG&f=1", "display_name": "amit", "link": "https://stackoverflow.com/users/4776988/amit"}, "reply_to_user": {"reputation": 1, "user_id": 8750022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/828ce618f314930dc9233efdd1760c9c?s=128&d=identicon&r=PG&f=1", "display_name": "Lenon", "link": "https://stackoverflow.com/users/8750022/lenon"}, "edited": false, "score": 0, "creation_date": 1574152793, "post_id": 58929244, "comment_id": 104119453, "body": "You can call a async function from UI by using this [link] (<a href=\"https://stackoverflow.com/questions/49135632/flutter-best-practices-of-calling-async-codes-from-ui\" title=\"flutter best practices of calling async codes from ui\">stackoverflow.com/questions/49135632/&hellip;</a>)."}, {"owner": {"reputation": 1, "user_id": 8750022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/828ce618f314930dc9233efdd1760c9c?s=128&d=identicon&r=PG&f=1", "display_name": "Lenon", "link": "https://stackoverflow.com/users/8750022/lenon"}, "edited": false, "score": 0, "creation_date": 1574210918, "post_id": 58929244, "comment_id": 104148376, "body": "I see, i was trying to build a general dialog helper to handle my network success/fail, but i&#39;ll give the stream builder a try, thanks!"}], "tags": [], "owner": {"reputation": 256, "user_id": 4776988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0348ab28ef9a9fbe694367600f28aaa?s=128&d=identicon&r=PG&f=1", "display_name": "amit", "link": "https://stackoverflow.com/users/4776988/amit"}, "is_accepted": false, "score": 0, "last_activity_date": 1574150769, "creation_date": 1574150769, "answer_id": 58929244, "question_id": 58927508, "link": "https://stackoverflow.com/questions/58927508/passing-future-as-parameter-to-another-class/58929244#58929244", "title": "Passing Future as parameter to another class", "body": "<p>Your methodology is not correct, on success or failure you need to show only alert dialogue and on alert button mentioned all the API call.</p>\n"}], "owner": {"reputation": 1, "user_id": 8750022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/828ce618f314930dc9233efdd1760c9c?s=128&d=identicon&r=PG&f=1", "display_name": "Lenon", "link": "https://stackoverflow.com/users/8750022/lenon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 385, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574150769, "creation_date": 1574142899, "last_edit_date": 1574143954, "question_id": 58927508, "link": "https://stackoverflow.com/questions/58927508/passing-future-as-parameter-to-another-class", "title": "Passing Future as parameter to another class", "body": "<p>is it possible to pass Future to a dialog helper class, I'm trying to show a dialog when user fails to load, and when user clicks on retry the app will launch the network call again</p>\n\n<p><strong>Passing in future into dialog class</strong></p>\n\n<pre><code>void getCountryApi() async {\n\n    GlobalService globalService = new GlobalService();\n\n    ...\n\n    //wait for future to be finished\n    bool isSuccessful =\n        await globalService.requestApi(CountryApi, queryParameters, context);\n    if (isSuccessful) {\n      dialogManager.information2(context, 'Success', globalService.fullData);\n    } else {\n      //dialogManager.information2(context, 'Success', globalService.fullData);\n      dialogManager.retryDialog(context, 'Failed', globalService.fullData,globalService.requestApi(CountryApi, queryParameters, context));\n    }\n  }\n</code></pre>\n\n<p><strong>Dialog helper class</strong></p>\n\n<pre><code>retryDialog(BuildContext context, String title, String description, Future apiCall) {\n    return showDialog(\n        context: context,\n        barrierDismissible: false,\n        builder: (BuildContext context) {\n          return WillPopScope(\n            onWillPop: () {},\n            child: AlertDialog(\n              title: Text(title),\n              content: Column(\n                mainAxisSize: MainAxisSize.min,\n                children: &lt;Widget&gt;[\n                  Text(description),\n                  Row(\n                    mainAxisSize: MainAxisSize.min,\n                    children: &lt;Widget&gt;[\n                      SizedBox(height: 30),\n                      Padding(\n                        padding: const EdgeInsets.all(8.0),\n                        child: RaisedButton(\n                          shape: new RoundedRectangleBorder(\n                            borderRadius: new BorderRadius.circular(30.0),\n                          ),\n                          color: Colors.red,\n                          onPressed: () async {\n                            Navigator.pop(context);\n                            await apiCall;\n                          },\n                          child: Text(\n                            'Retry',\n                            style: TextStyle(color: Colors.white),\n                          ),\n                        ),\n                      ),                    \n                    ],\n                  ),\n                ],\n              ),\n            ),\n          );\n        });\n  }\n</code></pre>\n\n<p>The problem I'm facing is that, the future object perform a network call immediately in this line</p>\n\n<pre><code>dialogManager.retryDialog(context, 'Failed', globalService.fullData,globalService.requestApi(CountryApi, queryParameters, context));\n</code></pre>\n\n<p>which is before the user click on retry button</p>\n"}, {"tags": ["flutter", "dart", "google-maps-markers", "flutter-layout", "google-maps-flutter"], "comments": [{"owner": {"reputation": 420, "user_id": 4138212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/702f04c4fc4192e7c7849315c51c07cb?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas", "link": "https://stackoverflow.com/users/4138212/lukas"}, "edited": false, "score": 1, "creation_date": 1574142690, "post_id": 58927260, "comment_id": 104115489, "body": "you are clearing your markers list every time the onLongPress listener is triggered. Thats why you will allways see only one - the last - set marker. Try adding new markers to the list"}, {"owner": {"reputation": 992, "user_id": 11893567, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dRr4Om13Ps0/AAAAAAAAAAI/AAAAAAAAAQU/zRjh8Hgzwv0/photo.jpg?sz=128", "display_name": "Rutvik Gumasana", "link": "https://stackoverflow.com/users/11893567/rutvik-gumasana"}, "reply_to_user": {"reputation": 420, "user_id": 4138212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/702f04c4fc4192e7c7849315c51c07cb?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas", "link": "https://stackoverflow.com/users/4138212/lukas"}, "edited": false, "score": 0, "creation_date": 1574143763, "post_id": 58927260, "comment_id": 104115804, "body": "Okay i&#39;ve removed that marker.clear(). now can you help me what i have to do next"}, {"owner": {"reputation": 1578, "user_id": 7579549, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-pHcdnSpqfZE/AAAAAAAAAAI/AAAAAAAAEHk/x3rP65yp31A/photo.jpg?sz=128", "display_name": "Anirudh Bagri", "link": "https://stackoverflow.com/users/7579549/anirudh-bagri"}, "edited": false, "score": 0, "creation_date": 1574144177, "post_id": 58927260, "comment_id": 104115919, "body": "You are creating marker with the same marker id everytime, i.e. <i>4544</i> , this is why the same marker gets replaced everytime the screen is painted on setState"}, {"owner": {"reputation": 992, "user_id": 11893567, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dRr4Om13Ps0/AAAAAAAAAAI/AAAAAAAAAQU/zRjh8Hgzwv0/photo.jpg?sz=128", "display_name": "Rutvik Gumasana", "link": "https://stackoverflow.com/users/11893567/rutvik-gumasana"}, "reply_to_user": {"reputation": 1578, "user_id": 7579549, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-pHcdnSpqfZE/AAAAAAAAAAI/AAAAAAAAEHk/x3rP65yp31A/photo.jpg?sz=128", "display_name": "Anirudh Bagri", "link": "https://stackoverflow.com/users/7579549/anirudh-bagri"}, "edited": false, "score": 0, "creation_date": 1574144306, "post_id": 58927260, "comment_id": 104115961, "body": "Okay @AnirudhBagri can you please help me with that, because I&#39;ve tried but not succeed. Your help can make my day :)"}], "answers": [{"comments": [{"owner": {"reputation": 992, "user_id": 11893567, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dRr4Om13Ps0/AAAAAAAAAAI/AAAAAAAAAQU/zRjh8Hgzwv0/photo.jpg?sz=128", "display_name": "Rutvik Gumasana", "link": "https://stackoverflow.com/users/11893567/rutvik-gumasana"}, "edited": false, "score": 0, "creation_date": 1574144939, "post_id": 58927835, "comment_id": 104116180, "body": "i am getting error when i am using markers.add(marker) it shows the error in add method"}, {"owner": {"reputation": 992, "user_id": 11893567, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dRr4Om13Ps0/AAAAAAAAAAI/AAAAAAAAAQU/zRjh8Hgzwv0/photo.jpg?sz=128", "display_name": "Rutvik Gumasana", "link": "https://stackoverflow.com/users/11893567/rutvik-gumasana"}, "edited": false, "score": 0, "creation_date": 1574145126, "post_id": 58927835, "comment_id": 104116243, "body": "<code>The method &#39;add&#39; isn&#39;t defined for the class &#39;Map&#39;. Try correcting the name to the name of an existing method, or defining a method named &#39;add&#39;</code>"}, {"owner": {"reputation": 1578, "user_id": 7579549, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-pHcdnSpqfZE/AAAAAAAAAAI/AAAAAAAAEHk/x3rP65yp31A/photo.jpg?sz=128", "display_name": "Anirudh Bagri", "link": "https://stackoverflow.com/users/7579549/anirudh-bagri"}, "edited": false, "score": 1, "creation_date": 1574145284, "post_id": 58927835, "comment_id": 104116295, "body": "try using markers[markerId] = marker. Maps don&#39;t have add method"}, {"owner": {"reputation": 420, "user_id": 4138212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/702f04c4fc4192e7c7849315c51c07cb?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas", "link": "https://stackoverflow.com/users/4138212/lukas"}, "edited": false, "score": 0, "creation_date": 1574145951, "post_id": 58927835, "comment_id": 104116542, "body": "This should work. It is exactly the same like your accepted answer. I only use a counter var which obviously has to be initiated"}, {"owner": {"reputation": 992, "user_id": 11893567, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dRr4Om13Ps0/AAAAAAAAAAI/AAAAAAAAAQU/zRjh8Hgzwv0/photo.jpg?sz=128", "display_name": "Rutvik Gumasana", "link": "https://stackoverflow.com/users/11893567/rutvik-gumasana"}, "edited": false, "score": 0, "creation_date": 1574146035, "post_id": 58927835, "comment_id": 104116569, "body": "no it&#39;s not working. but thank you so much for your help :)"}, {"owner": {"reputation": 992, "user_id": 11893567, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dRr4Om13Ps0/AAAAAAAAAAI/AAAAAAAAAQU/zRjh8Hgzwv0/photo.jpg?sz=128", "display_name": "Rutvik Gumasana", "link": "https://stackoverflow.com/users/11893567/rutvik-gumasana"}, "edited": false, "score": 0, "creation_date": 1574146101, "post_id": 58927835, "comment_id": 104116587, "body": "if you feel that this question is useful then please upvote it. because of there no question similar like this on the stack overflow"}], "tags": [], "owner": {"reputation": 420, "user_id": 4138212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/702f04c4fc4192e7c7849315c51c07cb?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas", "link": "https://stackoverflow.com/users/4138212/lukas"}, "is_accepted": false, "score": 0, "last_activity_date": 1574145418, "last_edit_date": 1574145418, "creation_date": 1574144638, "answer_id": 58927835, "question_id": 58927260, "link": "https://stackoverflow.com/questions/58927260/how-can-user-add-multiple-marker-on-google-maps-flutter/58927835#58927835", "title": "How can user add multiple marker on google maps flutter", "body": "<p>just create a variable that counts up every time a new marker is created and use this var as your markerId:</p>\n\n<pre><code>onLongPress: (LatLng latLng) {\n  // creating a new MARKER\n\n\n  final MarkerId markerId = MarkerId(\"$myId\");\n  final Marker marker = Marker(\n    markerId: markerId,\n    position: latLng,\n  );\n\n  setState(() {\n    myId++;\n\n    // adding a new marker to map\n    markers[markerId] = marker;\n  });\n},\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 992, "user_id": 11893567, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dRr4Om13Ps0/AAAAAAAAAAI/AAAAAAAAAQU/zRjh8Hgzwv0/photo.jpg?sz=128", "display_name": "Rutvik Gumasana", "link": "https://stackoverflow.com/users/11893567/rutvik-gumasana"}, "edited": false, "score": 0, "creation_date": 1574144991, "post_id": 58927861, "comment_id": 104116204, "body": "what will comes inside this method MyWayToGenerateId() Please help me because i am bit new in flutter"}, {"owner": {"reputation": 992, "user_id": 11893567, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dRr4Om13Ps0/AAAAAAAAAAI/AAAAAAAAAQU/zRjh8Hgzwv0/photo.jpg?sz=128", "display_name": "Rutvik Gumasana", "link": "https://stackoverflow.com/users/11893567/rutvik-gumasana"}, "edited": false, "score": 0, "creation_date": 1574145438, "post_id": 58927861, "comment_id": 104116348, "body": "should i need to add return markers.length  + 1 in set state ???"}, {"owner": {"reputation": 1578, "user_id": 7579549, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-pHcdnSpqfZE/AAAAAAAAAAI/AAAAAAAAEHk/x3rP65yp31A/photo.jpg?sz=128", "display_name": "Anirudh Bagri", "link": "https://stackoverflow.com/users/7579549/anirudh-bagri"}, "reply_to_user": {"reputation": 992, "user_id": 11893567, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dRr4Om13Ps0/AAAAAAAAAAI/AAAAAAAAAQU/zRjh8Hgzwv0/photo.jpg?sz=128", "display_name": "Rutvik Gumasana", "link": "https://stackoverflow.com/users/11893567/rutvik-gumasana"}, "edited": false, "score": 0, "creation_date": 1574145621, "post_id": 58927861, "comment_id": 104116416, "body": "Edited my answer and removed the method of creating new id. this should help."}, {"owner": {"reputation": 992, "user_id": 11893567, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dRr4Om13Ps0/AAAAAAAAAAI/AAAAAAAAAQU/zRjh8Hgzwv0/photo.jpg?sz=128", "display_name": "Rutvik Gumasana", "link": "https://stackoverflow.com/users/11893567/rutvik-gumasana"}, "edited": false, "score": 0, "creation_date": 1574145976, "post_id": 58927861, "comment_id": 104116551, "body": "Hey bro i&#39;ve little bit edited your answer and it&#39;s working fine :) Thank you so much for your help :)"}, {"owner": {"reputation": 992, "user_id": 11893567, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dRr4Om13Ps0/AAAAAAAAAAI/AAAAAAAAAQU/zRjh8Hgzwv0/photo.jpg?sz=128", "display_name": "Rutvik Gumasana", "link": "https://stackoverflow.com/users/11893567/rutvik-gumasana"}, "edited": false, "score": 0, "creation_date": 1574146095, "post_id": 58927861, "comment_id": 104116585, "body": "if you feel that this question is useful then please upvote it. because of there no question similar like this on the stack overflow"}, {"owner": {"reputation": 992, "user_id": 11893567, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dRr4Om13Ps0/AAAAAAAAAAI/AAAAAAAAAQU/zRjh8Hgzwv0/photo.jpg?sz=128", "display_name": "Rutvik Gumasana", "link": "https://stackoverflow.com/users/11893567/rutvik-gumasana"}, "edited": false, "score": 0, "creation_date": 1574146172, "post_id": 58927861, "comment_id": 104116615, "body": "can you please tell me how can i remove added markes"}], "tags": [], "owner": {"reputation": 1578, "user_id": 7579549, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-pHcdnSpqfZE/AAAAAAAAAAI/AAAAAAAAEHk/x3rP65yp31A/photo.jpg?sz=128", "display_name": "Anirudh Bagri", "link": "https://stackoverflow.com/users/7579549/anirudh-bagri"}, "is_accepted": true, "score": 5, "last_activity_date": 1582025791, "last_edit_date": 1582025791, "creation_date": 1574144776, "answer_id": 58927861, "question_id": 58927260, "link": "https://stackoverflow.com/questions/58927260/how-can-user-add-multiple-marker-on-google-maps-flutter/58927861#58927861", "title": "How can user add multiple marker on google maps flutter", "body": "<p>Let's start with creating a helper function that creates a new marker and adds it to the markers map.</p>\n\n<pre><code> onLongPress: (LatLng latLng) {\n          // creating a new MARKER\n\n          var markerIdVal = markers.length + 1;\n          String mar = markerIdVal.toString();\n          final MarkerId markerId = MarkerId(mar);\n          final Marker marker = Marker(markerId: markerId, position: latLng);\n\n          setState(() {\n            markers[markerId] = marker;\n          });\n        },\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 737, "user_id": 7101482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/810301f87aaad8f1476ae0e3fc3cf7a8?s=128&d=identicon&r=PG", "display_name": "Jewel Rana", "link": "https://stackoverflow.com/users/7101482/jewel-rana"}, "is_accepted": false, "score": 1, "last_activity_date": 1612286816, "creation_date": 1612286816, "answer_id": 66014645, "question_id": 58927260, "link": "https://stackoverflow.com/questions/58927260/how-can-user-add-multiple-marker-on-google-maps-flutter/66014645#66014645", "title": "How can user add multiple marker on google maps flutter", "body": "<p><a href=\"https://i.stack.imgur.com/ruxAt.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ruxAt.jpg\" alt=\"enter image description here\" /></a></p>\n<h2>just check below code .</h2>\n<blockquote>\n<p>main.dart</p>\n</blockquote>\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:flutter_google_map/appconstant.dart';\nimport 'dart:async';\n\nimport 'package:google_maps_flutter/google_maps_flutter.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatefulWidget {\n  @override\n  _MyAppState createState() =&gt; _MyAppState();\n  }\n\nclass _MyAppState extends State&lt;MyApp&gt; {\n\n  Completer&lt;GoogleMapController&gt; _controller = Completer();\n\n  Iterable markers = [];\n\n  Iterable _markers = Iterable.generate(AppConstant.list.length, (index) {\n    return Marker(\n      markerId: MarkerId(AppConstant.list[index]['id']),\n      position: LatLng(\n        AppConstant.list[index]['lat'],\n        AppConstant.list[index]['lon'],\n      ),\n      infoWindow: InfoWindow(title: AppConstant.list[index][&quot;title&quot;])\n    );\n  });\n\n\n\n  @override\n  void initState() {\n    setState(() {\n      markers = _markers;\n    });\n    super.initState();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: Scaffold(\n        appBar: AppBar(\n          title: Text('Maps Sample App'),\n          backgroundColor: Colors.green[700],\n        ),\n        body: GoogleMap(\n          mapType: MapType.normal,\n          initialCameraPosition: CameraPosition(target: LatLng(23.7985053,                          \n          90.3842538), zoom: 13),\n          onMapCreated: (GoogleMapController controller) {\n            _controller.complete(controller);\n          },\n          markers: Set.from(markers),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n<h2>another class for list data</h2>\n<blockquote>\n<p>appconstant.dart</p>\n</blockquote>\n<pre><code>class AppConstant {\n  static List&lt;Map&lt;String, dynamic&gt;&gt; list = [\n    {&quot;title&quot;: &quot;one&quot;, &quot;id&quot;: &quot;1&quot;, &quot;lat&quot;: 23.7985053, &quot;lon&quot;: 90.3842538},\n    {&quot;title&quot;: &quot;two&quot;, &quot;id&quot;: &quot;2&quot;, &quot;lat&quot;: 23.802236, &quot;lon&quot;: 90.3700},\n    {&quot;title&quot;: &quot;three&quot;, &quot;id&quot;: &quot;3&quot;, &quot;lat&quot;: 23.8061939, &quot;lon&quot;: 90.3771193},\n  ];\n}\n</code></pre>\n"}], "owner": {"reputation": 992, "user_id": 11893567, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dRr4Om13Ps0/AAAAAAAAAAI/AAAAAAAAAQU/zRjh8Hgzwv0/photo.jpg?sz=128", "display_name": "Rutvik Gumasana", "link": "https://stackoverflow.com/users/11893567/rutvik-gumasana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4741, "favorite_count": 1, "accepted_answer_id": 58927861, "answer_count": 3, "score": 1, "last_activity_date": 1612286816, "creation_date": 1574141553, "last_edit_date": 1574143693, "question_id": 58927260, "link": "https://stackoverflow.com/questions/58927260/how-can-user-add-multiple-marker-on-google-maps-flutter", "title": "How can user add multiple marker on google maps flutter", "body": "<p>How can the user add multiple markers when user long press on the map. in this code, I've done single map. when user long press on the map it will automatically add one marker but I don't know how I can add multiple markers on the map. I tried lots of codes but I am not getting the proper result. hope you understand the question. your small help can make my day. Thanks in advance.</p>\n\n<p>Here is the code I've tried :)</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:geocoder/geocoder.dart';\nimport 'dart:async';\n\nimport 'package:google_maps_flutter/google_maps_flutter.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nconst kGoogleApiKey = \"API_KEY\";\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(title: \"MAP\", home: BspAddressmapscreen());\n  }\n}\n\nclass BspAddressmapscreen extends StatefulWidget {\n  BspAddressmapscreen({Key key}) : super(key: key);\n\n  @override\n  _BspAddressmapscreenState createState() =&gt; _BspAddressmapscreenState();\n}\n\nclass _BspAddressmapscreenState extends State&lt;BspAddressmapscreen&gt; {\n  final homeScaffoldKey = GlobalKey&lt;ScaffoldState&gt;();\n  Completer&lt;GoogleMapController&gt; _controller = Completer();\n\n  @override\n  void initState() {\n    super.initState();\n  }\n\n  double zoomVal = 5.0;\n\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      appBar: AppBar(\n        leading: IconButton(\n            icon: Icon(Icons.arrow_back_ios),\n            onPressed: () {\n              /*NavigationHelper.navigatetoBack(context);*/\n            }),\n        centerTitle: true,\n        title: Text(\"Business Address Detail\"),\n        actions: &lt;Widget&gt;[\n          IconButton(\n            icon: Icon(Icons.search),\n            onPressed: () {},\n          ),\n        ],\n      ),\n      bottomNavigationBar: Container(\n        color: Colors.transparent,\n        height: 56,\n        child: Row(\n          mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n          children: &lt;Widget&gt;[\n            new FlatButton.icon(\n              icon: Icon(Icons.arrow_back_ios),\n              label: Text('Show Address'),\n              textColor: Colors.blue,\n              shape: RoundedRectangleBorder(\n                borderRadius: BorderRadius.circular(7),\n              ),\n              onPressed: () {\n                getUserLocation();\n              },\n            ),\n          ],\n        ),\n      ),\n      body: Container(\n        height: double.infinity,\n        width: double.infinity,\n        child: Stack(\n          children: &lt;Widget&gt;[\n            _searchbar(),\n            _buildGoogleMap(context),\n            _zoomminusfunction(),\n            _zoomplusfunction(),\n          ],\n        ),\n      ),\n    );\n  }\n\n  getUserLocation() async {\n    markers.values.forEach((value) async {\n      print(value.position);\n      // From coordinates\n      final coordinates =\n          new Coordinates(value.position.latitude, value.position.longitude);\n      var addresses = await Geocoder.google(kGoogleApiKey)\n          .findAddressesFromCoordinates(coordinates);\n\n      print(\"Address: ${addresses.first.featureName}\");\n      print(\"Address: ${addresses.first.adminArea}\");\n    });\n  }\n\n  Future&lt;void&gt; _minus(double zoomVal) async {\n    final GoogleMapController controller = await _controller.future;\n    controller.animateCamera(CameraUpdate.newCameraPosition(\n        CameraPosition(target: LatLng(40.712776, -74.005974), zoom: zoomVal)));\n  }\n\n  Future&lt;void&gt; _plus(double zoomVal) async {\n    final GoogleMapController controller = await _controller.future;\n    controller.animateCamera(CameraUpdate.newCameraPosition(\n        CameraPosition(target: LatLng(40.712776, -74.005974), zoom: zoomVal)));\n  }\n\n  Map&lt;MarkerId, Marker&gt; markers = &lt;MarkerId, Marker&gt;{};\n\n  Widget _buildGoogleMap(BuildContext context) {\n    return Container(\n      height: MediaQuery.of(context).size.height,\n      width: MediaQuery.of(context).size.width,\n      child: GoogleMap(\n        mapType: MapType.normal,\n        initialCameraPosition:\n            CameraPosition(target: LatLng(40.712776, -74.005974), zoom: 12),\n        onMapCreated: (GoogleMapController controller) {\n          _controller.complete(controller);\n        },\n        markers: Set&lt;Marker&gt;.of(markers.values),\n        onLongPress: (LatLng latLng) {\n          // creating a new MARKER\n\n          final MarkerId markerId = MarkerId('4544');\n          final Marker marker = Marker(\n            markerId: markerId,\n            position: latLng,\n          );\n\n          setState(() {\n            markers.clear();\n            // adding a new marker to map\n            markers[markerId] = marker;\n          });\n        },\n      ),\n    );\n  }\n\n  Widget _searchbar() {\n    return Positioned(\n      top: 50.0,\n      right: 15.0,\n      left: 15.0,\n      child: Container(\n        height: 50.0,\n        width: double.infinity,\n        decoration: BoxDecoration(\n            borderRadius: BorderRadius.circular(10.0), color: Colors.white),\n        child: TextField(\n          decoration: InputDecoration(\n            hintText: 'Enter Address',\n            border: InputBorder.none,\n            contentPadding: EdgeInsets.only(left: 15.0, top: 15.0),\n            suffixIcon: IconButton(\n              icon: Icon(Icons.search),\n              //onPressed: searchandNavigate,\n              onPressed: () {},\n              iconSize: 30.0,\n            ),\n          ),\n          onChanged: (val) {\n            setState(() {\n              // searchAddr = val;\n            });\n          },\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["list", "flutter", "dart"], "comments": [{"owner": {"reputation": 7891, "user_id": 1737201, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9d553e4eece2656148b5d0e2a613e53e?s=128&d=identicon&r=PG", "display_name": "mezoni", "link": "https://stackoverflow.com/users/1737201/mezoni"}, "edited": false, "score": 0, "creation_date": 1574143884, "post_id": 58927037, "comment_id": 104115840, "body": "What elements does the list contain?"}, {"owner": {"reputation": 161, "user_id": 10573031, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wxr04BG7mSE/AAAAAAAAAAI/AAAAAAAAAMw/uo-K-wWSpjY/photo.jpg?sz=128", "display_name": "Allen Andre Indefenzo", "link": "https://stackoverflow.com/users/10573031/allen-andre-indefenzo"}, "reply_to_user": {"reputation": 7891, "user_id": 1737201, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9d553e4eece2656148b5d0e2a613e53e?s=128&d=identicon&r=PG", "display_name": "mezoni", "link": "https://stackoverflow.com/users/1737201/mezoni"}, "edited": false, "score": 0, "creation_date": 1574144270, "post_id": 58927037, "comment_id": 104115950, "body": "the List contains 1. a path to an image asset,  2. another custom model that contains a users information, and lastly a Widget wherein if a user presses the Image.asset he/she will be navigated to that screen"}], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 10573031, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wxr04BG7mSE/AAAAAAAAAAI/AAAAAAAAAMw/uo-K-wWSpjY/photo.jpg?sz=128", "display_name": "Allen Andre Indefenzo", "link": "https://stackoverflow.com/users/10573031/allen-andre-indefenzo"}, "edited": false, "score": 0, "creation_date": 1574144170, "post_id": 58927181, "comment_id": 104115917, "body": "Did I implement it wrong? It still gets duplicates whenever I load my screen that has the FutureBuilder.. I changed the <code>static List =[];</code> to static set&lt;MyDataModel&gt; myVariable =  new LinkedHashSet(); and all other datatypes in the code from List&lt;MyDataModel&gt; to Set&lt;MyDataModel&gt;, but it still contains duplicates... <a href=\"https://imgur.com/a/LRg7Q8p\" rel=\"nofollow noreferrer\">imgur.com/a/LRg7Q8p</a>"}, {"owner": {"reputation": 4149, "user_id": 5715935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1659768280958223/picture?type=large", "display_name": "Jay Mungara", "link": "https://stackoverflow.com/users/5715935/jay-mungara"}, "reply_to_user": {"reputation": 161, "user_id": 10573031, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wxr04BG7mSE/AAAAAAAAAAI/AAAAAAAAAMw/uo-K-wWSpjY/photo.jpg?sz=128", "display_name": "Allen Andre Indefenzo", "link": "https://stackoverflow.com/users/10573031/allen-andre-indefenzo"}, "edited": false, "score": 0, "creation_date": 1574147574, "post_id": 58927181, "comment_id": 104117153, "body": "Try Set&lt;MyDataModel&gt; homeList={}; A set can never contain any duplicate values. Please print the logs after you add values to the set homeList again by printing it."}], "tags": [], "owner": {"reputation": 4149, "user_id": 5715935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1659768280958223/picture?type=large", "display_name": "Jay Mungara", "link": "https://stackoverflow.com/users/5715935/jay-mungara"}, "is_accepted": false, "score": 4, "last_activity_date": 1574141108, "creation_date": 1574141108, "answer_id": 58927181, "question_id": 58927037, "link": "https://stackoverflow.com/questions/58927037/how-to-delete-duplicates-of-a-listmydatamodel-dart-flutter/58927181#58927181", "title": "How to delete duplicates of a List&lt;MyDataModel&gt; (Dart/Flutter)", "body": "<p>To remove duplicates you can use Set Data Structure instead of List.</p>\n\n<p>Just use Set instead of List to get unique values only.</p>\n"}, {"tags": [], "owner": {"reputation": 161, "user_id": 10573031, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wxr04BG7mSE/AAAAAAAAAAI/AAAAAAAAAMw/uo-K-wWSpjY/photo.jpg?sz=128", "display_name": "Allen Andre Indefenzo", "link": "https://stackoverflow.com/users/10573031/allen-andre-indefenzo"}, "is_accepted": false, "score": 1, "last_activity_date": 1574144852, "creation_date": 1574144852, "answer_id": 58927876, "question_id": 58927037, "link": "https://stackoverflow.com/questions/58927037/how-to-delete-duplicates-of-a-listmydatamodel-dart-flutter/58927876#58927876", "title": "How to delete duplicates of a List&lt;MyDataModel&gt; (Dart/Flutter)", "body": "<p>I've come up with quite a brute force solution. Instead of </p>\n\n<pre><code>_getPatients() async {\n    if (didLoadpatients == 0) {\n      print('this is didloadpatients at start of func $didLoadpatients');\n      var document = await db\n          .collection('users')\n          .document(mUser.uid)\n          .collection('patients');\n\n      document.getDocuments().then((QuerySnapshot query) async {\n        query.documents.forEach((f) {\n          uids.add(f.data['uID']);\n        });\n        didLoadpatients++;\n      print('this is didloadpatients at end of func $didLoadpatients');\n        for (var i = 0; i &lt; uids.length; i++) {\n          var userDocuments = await db.collection('users').document(uids[i]);\n          userDocuments.get().then((DocumentSnapshot doc) {\n            print(doc.data);\n            homeList.add(HomeList(\n                imagePath: 'assets/fitness_app/fitness_app.png',\n                patientInfo: new PatientInfo.fromFbase(doc.data)));\n          });\n          print(homeList);\n        }\n      });\n    } else \n    print('I am leaving the get patient function');\n  }\n</code></pre>\n\n<p>I've done what @Jay Mungara says and clear my Set everytime my UI rebuilds:</p>\n\n<pre><code>_getPatients() async {\nhomeList.clear();\n    if (didLoadpatients == 0) {\n      print('this is didloadpatients at start of func $didLoadpatients');\n      var document = await db\n          .collection('users')\n          .document(mUser.uid)\n          .collection('patients');\n\n      document.getDocuments().then((QuerySnapshot query) async {\n        query.documents.forEach((f) {\n          uids.add(f.data['uID']);\n        });\n        didLoadpatients++;\n      print('this is didloadpatients at end of func $didLoadpatients');\n        for (var i = 0; i &lt; uids.length; i++) {\n          var userDocuments = await db.collection('users').document(uids[i]);\n          userDocuments.get().then((DocumentSnapshot doc) {\n            print(doc.data);\n            homeList.add(HomeList(\n                imagePath: 'assets/fitness_app/fitness_app.png',\n                patientInfo: new PatientInfo.fromFbase(doc.data)));\n          });\n          print(homeList);\n        }\n      });\n    } else \n    print('I am leaving the get patient function');\n  }\n</code></pre>\n\n<p>Thank you for all your answers!</p>\n"}, {"tags": [], "owner": {"reputation": 4505, "user_id": 1047565, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/QokGV.jpg?s=128&g=1", "display_name": "Deepak Sharma", "link": "https://stackoverflow.com/users/1047565/deepak-sharma"}, "is_accepted": false, "score": 1, "last_activity_date": 1583741282, "creation_date": 1583741282, "answer_id": 60596671, "question_id": 58927037, "link": "https://stackoverflow.com/questions/58927037/how-to-delete-duplicates-of-a-listmydatamodel-dart-flutter/60596671#60596671", "title": "How to delete duplicates of a List&lt;MyDataModel&gt; (Dart/Flutter)", "body": "<p>To remove the duplicate elements from custom object list, you need to <strong>override ==  and hashcode methods</strong> in your POJO class and then add the items in Set and again convert set to list to remove duplicate objects. Below is the working code:-</p>\n\n<pre><code>class TrackPointList {\ndouble latitude;\ndouble longitude;\nString eventName;\nTime timeZone;\n\nTrackPointList({\nthis.latitude,\nthis.longitude,\nthis.eventName,\nthis.timeZone,\n</code></pre>\n\n<p>});</p>\n\n<pre><code>@override\nbool operator==(other) {\n// Dart ensures that operator== isn't called with null\n// if(other == null) {\n//   return false;\n// }\nif(other is! TrackPointList) {\n  return false;\n}\n// ignore: test_types_in_equals\nreturn eventName == (other as TrackPointList).eventName;\n</code></pre>\n\n<p>}</p>\n\n<pre><code>int _hashCode;\n@override\nint get hashCode {\nif(_hashCode == null) {\n  _hashCode = eventName.hashCode;\n}\nreturn _hashCode;\n</code></pre>\n\n<p>}</p>\n\n<pre><code>factory TrackPointList.fromJson(Map&lt;String, dynamic&gt; json) =&gt; TrackPointList(\nlatitude: json[\"latitude\"].toDouble(),\nlongitude: json[\"longitude\"].toDouble(),\neventName: json[\"eventName\"],\ntimeZone: timeValues.map[json[\"timeZone\"]],\n</code></pre>\n\n<p>);</p>\n\n<pre><code>Map&lt;String, dynamic&gt; toJson() =&gt; {\n\"latitude\": latitude,\n\"longitude\": longitude,\n\"eventName\": eventName,\n\"timeZone\": timeValues.reverse[timeZone],\n</code></pre>\n\n<p>};\n}</p>\n\n<p>Above is the POJO class. Now below is the method which helps you to filter the objects according to the <strong>eventName</strong> data member.</p>\n\n<pre><code>List&lt;TrackPointList&gt; getFilteredList(List&lt;TrackPointList&gt; list){\n\nfinal existing = Set&lt;TrackPointList&gt;();\nfinal unique = list\n    .where((trackingPoint) =&gt; existing.add(trackingPoint))\n    .toList();\n\nreturn unique;\n</code></pre>\n\n<p>}</p>\n\n<p>This will work definitely. \nPlease +1 if it helps you. </p>\n"}], "owner": {"reputation": 161, "user_id": 10573031, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wxr04BG7mSE/AAAAAAAAAAI/AAAAAAAAAMw/uo-K-wWSpjY/photo.jpg?sz=128", "display_name": "Allen Andre Indefenzo", "link": "https://stackoverflow.com/users/10573031/allen-andre-indefenzo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1742, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1583741282, "creation_date": 1574140279, "question_id": 58927037, "link": "https://stackoverflow.com/questions/58927037/how-to-delete-duplicates-of-a-listmydatamodel-dart-flutter", "title": "How to delete duplicates of a List&lt;MyDataModel&gt; (Dart/Flutter)", "body": "<p>I have a futurebuilder that builds the UI based on a List, it does the job, however I get duplicates due to the UI being built again and again whenever I navigate. My question is, is there a innate method in Dart that can remove duplicates from a list? I've tried this <a href=\"https://stackoverflow.com/questions/12030613/how-to-delete-duplicates-in-a-dart-list-list-distinct\">StackOverflow question</a> however it doesn't work.</p>\n\n<p>Here is my custom model:</p>\n\n<pre><code>class HomeList {\n  Widget navigateScreen;\n  String imagePath;\n  PatientInfo patientInfo;\n\n  HomeList({\n    this.navigateScreen,\n    this.imagePath = '',\n    this.patientInfo,\n  });\n\n  static List&lt;HomeList&gt; homeList = [];\n}\n\n</code></pre>\n\n<p>Here is my function for the futureBuilder i'm getting the data from my cloud_firestore:</p>\n\n<pre><code>  _getPatients() async {\n    if (didLoadpatients == 0) {\n      print('this is didloadpatients at start of func $didLoadpatients');\n      var document = await db\n          .collection('users')\n          .document(mUser.uid)\n          .collection('patients');\n\n      document.getDocuments().then((QuerySnapshot query) async {\n        query.documents.forEach((f) {\n          uids.add(f.data['uID']);\n        });\n        didLoadpatients++;\n      print('this is didloadpatients at end of func $didLoadpatients');\n        for (var i = 0; i &lt; uids.length; i++) {\n          var userDocuments = await db.collection('users').document(uids[i]);\n          userDocuments.get().then((DocumentSnapshot doc) {\n            print(doc.data);\n            homeList.add(HomeList(\n                imagePath: 'assets/fitness_app/fitness_app.png',\n                patientInfo: new PatientInfo.fromFbase(doc.data)));\n          });\n          print(homeList);\n        }\n      });\n    } else \n    print('I am leaving the get patient function');\n  }\n\n  Future&lt;bool&gt; getData() async {\n    _getCurrentUser();\n    await Future.delayed(const Duration(milliseconds: 1500), () async {\n      _getPatients();\n    });\n    return true;\n  }\n</code></pre>\n\n<p>Any help would be appreciated thank you!</p>\n"}, {"tags": ["flutter", "dart", "android-notifications", "uilocalnotification", "dart-isolates"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1574148775, "post_id": 58926953, "comment_id": 104117651, "body": "in your isolate code you should work with data only, not with anything related to UI (like notifications for example)"}, {"owner": {"reputation": 45, "user_id": 6728078, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3A68DGQFBJU/AAAAAAAAAAI/AAAAAAAADm0/_DV8wuXuGl8/photo.jpg?sz=128", "display_name": "clicksrv", "link": "https://stackoverflow.com/users/6728078/clicksrv"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1574178571, "post_id": 58926953, "comment_id": 104134419, "body": "How do I post notifications from the background process then?"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1574178877, "post_id": 58926953, "comment_id": 104134615, "body": "<code>compute</code> returns <code>Future</code> so send your notification when it completes"}, {"owner": {"reputation": 45, "user_id": 6728078, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3A68DGQFBJU/AAAAAAAAAAI/AAAAAAAADm0/_DV8wuXuGl8/photo.jpg?sz=128", "display_name": "clicksrv", "link": "https://stackoverflow.com/users/6728078/clicksrv"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1574191062, "post_id": 58926953, "comment_id": 104141138, "body": "But how do I do it if the App is not running? I need to create notifications from the background.."}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1574191381, "post_id": 58926953, "comment_id": 104141276, "body": "hmmm, maybe <a href=\"https://pub.dev/packages/android_alarm_manager\" rel=\"nofollow noreferrer\">pub.dev/packages/android_alarm_manager</a>?"}, {"owner": {"reputation": 45, "user_id": 6728078, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3A68DGQFBJU/AAAAAAAAAAI/AAAAAAAADm0/_DV8wuXuGl8/photo.jpg?sz=128", "display_name": "clicksrv", "link": "https://stackoverflow.com/users/6728078/clicksrv"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1574192943, "post_id": 58926953, "comment_id": 104141995, "body": "I did go through that package, that will allow to schedule my isolate execution. Which is what I want to do, but I still can&#39;t generate notifications if my app is closed. :("}, {"owner": {"reputation": 33554, "user_id": 436341, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fy1Dv.png?s=128&g=1", "display_name": "live-love", "link": "https://stackoverflow.com/users/436341/live-love"}, "edited": false, "score": 0, "creation_date": 1589570083, "post_id": 58926953, "comment_id": 109356829, "body": "Having the same error, but mine breaks on await getDatabasesPath. Did you figure out how to run your isolate?"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 6728078, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3A68DGQFBJU/AAAAAAAAAAI/AAAAAAAADm0/_DV8wuXuGl8/photo.jpg?sz=128", "display_name": "clicksrv", "link": "https://stackoverflow.com/users/6728078/clicksrv"}, "edited": false, "score": 1, "creation_date": 1604749703, "post_id": 62356882, "comment_id": 114445498, "body": "Thanks man. I ended up changing the architecture to have the work done on a backend server and then sent over to the phone as a notification."}], "tags": [], "owner": {"reputation": 61, "user_id": 6387021, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mdkYdLQ-Uoc/AAAAAAAAAAI/AAAAAAAAAoE/kUyG6akrb1c/photo.jpg?sz=128", "display_name": "Filipe Fonseca", "link": "https://stackoverflow.com/users/6387021/filipe-fonseca"}, "is_accepted": false, "score": 2, "last_activity_date": 1592033961, "creation_date": 1592033961, "answer_id": 62356882, "question_id": 58926953, "link": "https://stackoverflow.com/questions/58926953/how-to-instantiate-local-notifications-on-isolate/62356882#62356882", "title": "How to instantiate local notifications on Isolate?", "body": "<p>There is a package you can use called <a href=\"https://pub.dev/packages/flutter_isolate\" rel=\"nofollow noreferrer\"><code>flutter_isolate</code></a>. According to its description, it allows the use of flutter plugins in a new isolate. I used it with <code>flutter_ffmpeg</code> and <code>sqflite</code> and it worked. When I tried to use them without this package I received the same error.</p>\n\n<p>After adding the <code>flutter_isolate</code> package to your <code>pubspec.yaml</code>, instead of</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Future f = compute(_isolateUpdateFunction, SharedVariables.appDocsDirPath);\n</code></pre>\n\n<p>You can use</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Future f = FlutterIsolate.spawn(_isolateUpdateFunction, SharedVariables.appDocsDirPath);\n</code></pre>\n\n<p>The package will register all plugins automatically using the flutter generated file at <code>app/src/main/java/io/flutter/plugins/GeneratedPluginRegistrant.java</code> (on Android. I don't know how it works on iOS). But there are some issues on github (<a href=\"https://github.com/rmawatson/flutter_isolate/issues/13\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://github.com/tekartik/sqflite/issues/169\" rel=\"nofollow noreferrer\">here</a>) about plugins not working properly. So, according to the package creator, you can copy this file and create a custom plugin registrant deleting the plugins you don't need when starting a new <code>FlutterIsolate</code>. Then, in your <code>MainActivity</code> file, call the method <code>setCustomIsolateRegistrant</code> from <code>FlutterIsolatePlugin</code>.</p>\n\n<p>For example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public final class IsolatePluginRegistrant {\n  public static void registerWith(@NonNull FlutterEngine flutterEngine) {\n    ShimPluginRegistry shimPluginRegistry = new ShimPluginRegistry(flutterEngine);\n    com.arthenica.flutter.ffmpeg.FlutterFFmpegPlugin\n      .registerWith(shimPluginRegistry.registrarFor(\"com.arthenica.flutter.ffmpeg.FlutterFFmpegPlugin\"));\n  }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends FlutterActivity {\n  @Override\n  public void onCreate(@Nullable Bundle savedInstanceState) {\n    FlutterIsolatePlugin.setCustomIsolateRegistrant(IsolatePluginRegistrant.class);\n    super.onCreate(savedInstanceState);\n  }\n}\n</code></pre>\n\n<p>Have in mind I do not understand how native code works on Android. This example is inspired from an answer from one of the issues I mentioned. So, I'm not sure if this example works or even if it is correct, but this is the principle and I think it is a useful information. I hope it helps.</p>\n"}], "owner": {"reputation": 45, "user_id": 6728078, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3A68DGQFBJU/AAAAAAAAAAI/AAAAAAAADm0/_DV8wuXuGl8/photo.jpg?sz=128", "display_name": "clicksrv", "link": "https://stackoverflow.com/users/6728078/clicksrv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1128, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1592033961, "creation_date": 1574139655, "last_edit_date": 1574142185, "question_id": 58926953, "link": "https://stackoverflow.com/questions/58926953/how-to-instantiate-local-notifications-on-isolate", "title": "How to instantiate local notifications on Isolate?", "body": "<p><strong>Background of my problem:</strong> I am developing a Flutter app that performs a repeated background activity every few hours and notifies the user if there are any updates.</p>\n\n<p>Currently, I have created an isolate function that is able to perform the background activity (but is not currently scheduled) and I'm using the flutter_local_notifications package to generate the notifications locally.</p>\n\n<p><strong>Here's the code I have:</strong></p>\n\n<p><em>The piece that calls the isolate function-</em></p>\n\n<pre><code>Future&lt;void&gt; executeBgUpdate() async {\n  Completer c = Completer();\n\n  ProductManager.close();\n  Hive.close();\n  Future f = compute(_isolateUpdateFunction, SharedVariables.appDocsDirPath); // See next block for code\n\n  f.then((value) async {\n    await init.db();\n    c.complete(value);\n  });\n\n  return c.future;\n}\n</code></pre>\n\n<p><em>The isolate function-</em></p>\n\n<pre><code>Future&lt;void&gt; _isolateUpdateFunction(String appDataDirPath) async {\n  Completer c = Completer();\n\n  try {\n    await init.logger();\n    await init.db(appDocsDirPath: appDataDirPath);\n    Notifier.init(); // See next block for code\n\n    // Background Task goes here\n\n    await Future.wait(futures);\n\n    Notifier.showNotification();\n\n    ProductManager.close();\n    Hive.close();\n  } catch (ex, stacktrace) {\n    SharedInstances.logger.e(\"Failed in BG Update Isolate!\", ex, stacktrace);\n  }\n\n  c.complete(null);\n  return c.future;\n}\n</code></pre>\n\n<p><em>Contents of Notifier.init()-</em></p>\n\n<pre><code>static FlutterLocalNotificationsPlugin _notifier;\n\n  static void init() {\n    _notifier = new FlutterLocalNotificationsPlugin();\n\n    var initializationSettingsAndroid =\n    new AndroidInitializationSettings('@mipmap/ic_launcher');\n\n    var initializationSettingsIOS = new IOSInitializationSettings(\n        onDidReceiveLocalNotification: null);\n\n    var initializationSettings = new InitializationSettings(\n        initializationSettingsAndroid, initializationSettingsIOS);\n\n    _notifier.initialize(initializationSettings,\n        onSelectNotification: null);\n  }\n</code></pre>\n\n<p><em>The exception that I'm getting is:</em></p>\n\n<pre><code>E/flutter (30954): [ERROR:flutter/lib/ui/ui_dart_state.cc(157)] Unhandled Exception: Exception: ServicesBinding.defaultBinaryMessenger was accessed before the binding was initialized.\nE/flutter (30954): If you're running an application and need to access the binary messenger before `runApp()` has been called (for example, during plugin initialization), then you need to explicitly call the `WidgetsFlutterBinding.ensureInitialized()` first.\nE/flutter (30954): If you're running a test, you can call the `TestWidgetsFlutterBinding.ensureInitialized()` as the first line in your test's `main()` method to initialize the binding.\nE/flutter (30954): #0      defaultBinaryMessenger.&lt;anonymous closure&gt; (package:flutter/src/services/binary_messenger.dart:73:7)\nE/flutter (30954): #1      defaultBinaryMessenger (package:flutter/src/services/binary_messenger.dart:86:4)\nE/flutter (30954): #2      MethodChannel.binaryMessenger (package:flutter/src/services/platform_channel.dart:140:62)\nE/flutter (30954): #3      MethodChannel.setMethodCallHandler (package:flutter/src/services/platform_channel.dart:368:5)\nE/flutter (30954): #4      FlutterLocalNotificationsPlugin.initialize (package:flutter_local_notifications/src/flutter_local_notifications.dart:94:14)\nE/flutter (30954): &lt;asynchronous suspension&gt;\n</code></pre>\n\n<p><em>If I add WidgetsFlutterBinding.ensureInitialized() to before the Notifier is initialized in the isolate, I get this exception-</em></p>\n\n<pre><code>error: native function 'Window_setNeedsReportTimings' (2 arguments) cannot be found\n\n// StackTrace:\nI/flutter (  433): \u2502 #0      Window.onReportTimings= (dart:ui/window.dart:964:7)\nI/flutter (  433): \u2502 #1      SchedulerBinding.addTimingsCallback (package:flutter/src/scheduler/binding.dart:230:14)\nI/flutter (  433): \u2502 #2      SchedulerBinding.initInstances (package:flutter/src/scheduler/binding.dart:206:7)\nI/flutter (  433): \u2502 #3      PaintingBinding.initInstances (package:flutter/src/painting/binding.dart:21:11)\nI/flutter (  433): \u2502 #4      SemanticsBinding.initInstances (package:flutter/src/semantics/binding.dart:22:11)\nI/flutter (  433): \u2502 #5      RendererBinding.initInstances (package:flutter/src/rendering/binding.dart:29:11)\nI/flutter (  433): \u2502 #6      WidgetsBinding.initInstances (package:flutter/src/widgets/binding.dart:253:11)\nI/flutter (  433): \u2502 #7      new BindingBase (package:flutter/src/foundation/binding.dart:56:5)\nI/flutter (  433): \u2502 #8      new _WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding (package:flutter/src/widgets/binding.dart)\nI/flutter (  433): \u2502 #9      new _WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding (package:flutter/src/widgets/binding.dart)\nI/flutter (  433): \u2502 #10     new _WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding (package:flutter/src/widgets/binding.dart)\nI/flutter (  433): \u2502 #11     new _WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding&amp;PaintingBinding (package:flutter/src/widgets/binding.dart)\nI/flutter (  433): \u2502 #12     new _WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding&amp;PaintingBinding&amp;SemanticsBinding (package:flutter/src/widgets/binding.dart)\nI/flutter (  433): \u2502 #13     new _WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding&amp;PaintingBinding&amp;SemanticsBinding&amp;RendererBinding (package:flutter/src/widgets/binding.dart)\nI/flutter (  433): \u2502 #14     new _WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding&amp;PaintingBinding&amp;SemanticsBinding&amp;RendererBinding&amp;WidgetsBinding (package:flutter/src/widgets/binding.dart)\nI/flutter (  433): \u2502 #15     new WidgetsFlutterBinding (package:flutter/src/widgets/binding.dart)\nI/flutter (  433): \u2502 #16     WidgetsFlutterBinding.ensureInitialized (package:flutter/src/widgets/binding.dart:1083:7)\n</code></pre>\n\n<p>I'm quite clueless as to how I should proceed. Any help would be great, thanks!</p>\n"}, {"tags": ["flutter", "dart", "stream-builder", "customscrollview"], "answers": [{"tags": [], "owner": {"reputation": 1294, "user_id": 693319, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/arlct.jpg?s=128&g=1", "display_name": "Claudio Castro", "link": "https://stackoverflow.com/users/693319/claudio-castro"}, "is_accepted": false, "score": 0, "last_activity_date": 1574127698, "last_edit_date": 1574127698, "creation_date": 1574127390, "answer_id": 58925404, "question_id": 58925207, "link": "https://stackoverflow.com/questions/58925207/using-a-streambuilder-to-build-a-sliverlist-for-a-customscrollview/58925404#58925404", "title": "Using a StreamBuilder to build a SliverList for a CustomScrollView", "body": "<p>Yes, but for that you don't put it in the custom scroll, you use a stack widget. It puts the layered widget on the screen.  What comes below you put before. In order for your widget to be positioned at the bottom, you must use a column with an expanded.</p>\n\n<pre><code>  Stack(\n      children: &lt;Widget&gt;[\n        yourStreamBuilder(),\n        Column(\n          children: &lt;Widget&gt;[\n            Expanded(child: Container()),\n            Container(\n              width: MediaQuery.of(context).size.width,\n              height: 44,\n              color: Colors.red,\n              child: Text(\"Your bottom container\"),\n            )\n          ],\n        ),\n      ],\n    )\n</code></pre>\n\n<p>Complete exemple:</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Flutter Demo',\n      theme: ThemeData(\n        primarySwatch: Colors.blue,\n      ),\n      home: MyHomePage(title: 'Flutter Demo Home Page'),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  MyHomePage({Key key, this.title}) : super(key: key);\n  final String title;\n\n  @override\n  _MyHomePageState createState() =&gt; _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  Map&lt;String, dynamic&gt; tocando = {};\n  String ultimoTocando;\n\n  Future&lt;List&lt;Map&lt;String, dynamic&gt;&gt;&gt; listaDeMusicas() async {\n    return List&lt;Map&lt;String, dynamic&gt;&gt;.generate(\n      1200,\n      (i) =&gt; {\"audio\": \"musica  $i\", \"idUnico\": \"$i\"},\n    );\n  }\n\n  tocar(String musica) {\n    print(\"tocando $musica \");\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n        appBar: AppBar(\n          title: Text(widget.title),\n        ),\n        body: Stack(\n          children: &lt;Widget&gt;[\n            yourStreamBuilder(),\n            Column(\n              children: &lt;Widget&gt;[\n                Expanded(child: Container()),\n                Container(\n                  width: MediaQuery.of(context).size.width,\n                  height: 44,\n                  color: Colors.red,\n                  child: Text(\"Your bottom container\"),\n                )\n              ],\n            ),\n          ],\n        ));\n  }\n\n  Widget yourStreamBuilder() {\n    return FutureBuilder&lt;List&lt;Map&lt;String, dynamic&gt;&gt;&gt;(\n      future: listaDeMusicas(),\n      initialData: [],\n      builder: (context, snapshot) {\n        return ListView.builder(\n          itemCount: snapshot.data.length,\n          itemBuilder: (context, index) {\n            var item = snapshot.data[index];\n            if (tocando[item[\"idUnico\"]] == null)\n              tocando[item[\"idUnico\"]] = false;\n            return Row(\n              children: &lt;Widget&gt;[\n                IconButton(\n                  icon: Icon(\n                      tocando[item[\"idUnico\"]] ? Icons.stop : Icons.play_arrow),\n                  onPressed: () {\n                    setState(() {\n                      if (ultimoTocando != null) {\n                        tocando[ultimoTocando] = false;\n                      }\n                      if (ultimoTocando != item[\"idUnico\"]) {\n                        tocando[item[\"idUnico\"]] = !tocando[item[\"idUnico\"]];\n                      }\n                      if (tocando[item[\"idUnico\"]]) {\n                        tocar(item[\"audio\"]);\n                      }\n                    });\n\n                    ultimoTocando = item[\"idUnico\"];\n                  },\n                ),\n                Text(item[\"audio\"]),\n              ],\n            );\n          },\n        );\n      },\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 10023158, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2ZeeLPx2zIA/AAAAAAAAAAI/AAAAAAAABlU/bLP0i_5Xc9c/photo.jpg?sz=128", "display_name": "Nicholas Chiang", "link": "https://stackoverflow.com/users/10023158/nicholas-chiang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 799, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574127698, "creation_date": 1574125339, "question_id": 58925207, "link": "https://stackoverflow.com/questions/58925207/using-a-streambuilder-to-build-a-sliverlist-for-a-customscrollview", "title": "Using a StreamBuilder to build a SliverList for a CustomScrollView", "body": "<p>This is probably a really easy-to-fix question, but I figured that I might as well ask it here anyways: Is there any way to <em>anchor</em> a widget within a <code>CustomScrollView</code>? I want to use the <code>CustomScrollView</code> to support a flexible space in the app bar, but I need to have an input widget stay fixed at the bottom of the screen. I tried nesting the <code>CustomScrollView</code> into a <code>Column</code> with the given widget, but it doesn't seem to be working:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>  @override\n  Widget build(BuildContext context) {\n    return Column(\n      children: &lt;Widget&gt;[\n        CustomScrollView(\n          slivers: &lt;Widget&gt;[\n            _buildAppBar(), // Returns a SliverAppBar\n            _buildMessages(), // Returns a StreamBuilder that returns a SliverList\n          ],\n        ),\n        MessageInputWidget(), // Input that needs to stay fixed\n      ],\n    );\n  }\n</code></pre>\n\n<p>And here's that _buildMessages() method:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>  Widget _buildMessages(BuildContext context) {\n    return StreamBuilder&lt;List&lt;Message&gt;&gt;(\n        stream: widget.classroom.messages(),\n        builder: (context, snapshot) {\n          print('[DEBUG] Building chat with updated message stream...');\n          if (!snapshot.hasData || snapshot.data == null) {\n            return Center(\n              child: CircularProgressIndicator(),\n            );\n          }\n          _messages = snapshot.data;\n          print('[DEBUG] Building ${_messages.length} messages...');\n          return SliverList(\n            delegate: SliverChildBuilderDelegate(\n              (BuildContext context, int index) {\n        if (index == _messages.length) {\n        return _buildHeader(context);\n        }\n        return MessageWidget(\n        message: _messages[index],\n        isReceived: _user.id != _messages[index].sentBy.id,\n        showUser: (index ==\n        0) || // Show _avatar if it's the first msg\n        (index &gt;=\n        1 &amp;&amp; // Or if it's a different _user than the last\n        !(_messages[index].sentBy.id ==\n        _messages[index - 1].sentBy.id)),\n        );\n              },\n              childCount: _messages.length,\n            ),\n          );\n        });\n  }\n</code></pre>\n\n<p>Any suggestions? I've found some <a href=\"https://stackoverflow.com/questions/54246594/using-a-streambuilder-and-a-sliverlists-in-customscrollview\">examples</a> but that builds the whole <code>CustomScrollView</code> while I only want to build the <code>SliverList</code> whenever I get a new snapshot.\nAny suggestions?</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 354, "user_id": 7800006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c79f25ff7355f939d750279958de2d1c?s=128&d=identicon&r=PG&f=1", "display_name": "GeekSilva", "link": "https://stackoverflow.com/users/7800006/geeksilva"}, "edited": false, "score": 0, "creation_date": 1574125047, "post_id": 58925007, "comment_id": 104111599, "body": "Where is the Navigator.push?"}, {"owner": {"reputation": 73, "user_id": 12394186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hnJ5x.jpg?s=128&g=1", "display_name": "Marcos V. Rezende S.", "link": "https://stackoverflow.com/users/12394186/marcos-v-rezende-s"}, "reply_to_user": {"reputation": 354, "user_id": 7800006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c79f25ff7355f939d750279958de2d1c?s=128&d=identicon&r=PG&f=1", "display_name": "GeekSilva", "link": "https://stackoverflow.com/users/7800006/geeksilva"}, "edited": false, "score": 0, "creation_date": 1574127317, "post_id": 58925007, "comment_id": 104112086, "body": "I&#39;ll use here:  &#39;&#39;&#39;  child: GestureDetector(         onTap: () {           Scaffold.of(context).showSnackBar(SnackBar(             content: Text(index.toString()),           )); &#39;&#39;&#39;"}], "answers": [{"tags": [], "owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "is_accepted": true, "score": 0, "last_activity_date": 1574128971, "creation_date": 1574128971, "answer_id": 58925579, "question_id": 58925007, "link": "https://stackoverflow.com/questions/58925007/how-can-i-get-the-information-of-a-listmap-to-another-screen-in-flutter/58925579#58925579", "title": "How can i get the information of a List&lt;Map&gt; to another screen in Flutter?", "body": "<p>You can use Navigator.push <br>\nYou can copy paste run full code below <br></p>\n\n<p>code snippet </p>\n\n<pre><code>Navigator.push(\n            context,\n            MaterialPageRoute(\n              builder: (context) =&gt; DetailScreen(detailData: barberLists[index]),\n            ),\n          );\n...\nclass DetailScreen extends StatelessWidget {\n  final Map detailData;\n\n  DetailScreen({Key key, @required this.detailData}) : super(key: key);\n</code></pre>\n\n<p>working demo</p>\n\n<p><a href=\"https://i.stack.imgur.com/BNwd9.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BNwd9.gif\" alt=\"enter image description here\"></a></p>\n\n<p>full code</p>\n\n<pre><code>import 'package:flutter/material.dart';\n//import 'package:cached_network_image/cached_network_image.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Flutter Demo',\n      theme: ThemeData(\n        // This is the theme of your application.\n        //\n        // Try running your application with \"flutter run\". You'll see the\n        // application has a blue toolbar. Then, without quitting the app, try\n        // changing the primarySwatch below to Colors.green and then invoke\n        // \"hot reload\" (press \"r\" in the console where you ran \"flutter run\",\n        // or simply save your changes to \"hot reload\" in a Flutter IDE).\n        // Notice that the counter didn't reset back to zero; the application\n        // is not restarted.\n        primarySwatch: Colors.blue,\n      ),\n      home: BarberList(),\n    );\n  }\n}\n\nclass BarberList extends StatefulWidget {\n  BarberList({Key key}) : super(key: key);\n\n  // static final String path = \"lib/src/pages/lists/list2.dart\";\n  _BarberListState createState() =&gt; _BarberListState();\n}\n\nclass _BarberListState extends State&lt;BarberList&gt; {\n  final TextStyle dropdownMenuItem =\n  TextStyle(color: Colors.black, fontSize: 18);\n\n  final primary = Color(0xFF63736B);\n  final secondary = Color(0xFF0C0E0B);\n  final green = Color(0xFF79FF00);\n\n  final List&lt;Map&gt; barberLists = [\n    {\n      \"name\": \"Barbearia do PA\",\n      \"location\": \"Rua Paran\u00e1, 184 - Cidade de Deus\",\n      \"type\": \"De 09h \u00e1s 18h - Seg. \u00e0 Sex.\",\n      \"phone\": \"(37) 99122-3338\",\n      \"logoText\":\n      \"https://cdn.pixabay.com/photo/2017/01/13/01/22/rocket-1976107_960_720.png\"\n    },\n    {\n      \"name\": \"Barbearia do PA\",\n      \"location\": \"Rua Paran\u00e1, 184 - Cidade de Deus\",\n      \"type\": \"De 09h \u00e1s 18h - Seg. \u00e0 Sex.\",\n      \"phone\": \"(37) 99122-3338\",\n      \"logoText\":\n      \"https://cdn.pixabay.com/photo/2017/01/13/01/22/rocket-1976107_960_720.png\"\n    },\n    {\n      \"name\": \"Barbearia do PA\",\n      \"location\": \"Rua Paran\u00e1, 184 - Cidade de Deus\",\n      \"type\": \"De 09h \u00e1s 18h - Seg. \u00e0 Sex.\",\n      \"phone\": \"(37) 99122-3338\",\n      \"logoText\":\n      \"https://cdn.pixabay.com/photo/2017/01/13/01/22/rocket-1976107_960_720.png\"\n    },\n    {\n      \"name\": \"Barbearia do PA\",\n      \"location\": \"Rua Paran\u00e1, 184 - Cidade de Deus\",\n      \"type\": \"De 09h \u00e1s 18h - Seg. \u00e0 Sex.\",\n      \"phone\": \"(37) 99122-3338\",\n      \"logoText\":\n      \"https://cdn.pixabay.com/photo/2017/01/13/01/22/rocket-1976107_960_720.png\"\n    },\n    {\n      \"name\": \"Barbearia do PA\",\n      \"location\": \"Rua Paran\u00e1, 184 - Cidade de Deus\",\n      \"type\": \"De 09h \u00e1s 18h - Seg. \u00e0 Sex.\",\n      \"phone\": \"(37) 99122-3338\",\n      \"logoText\":\n      \"https://cdn.pixabay.com/photo/2017/01/13/01/22/rocket-1976107_960_720.png\"\n    },\n    {\n      \"name\": \"Barbearia do PA\",\n      \"location\": \"Rua Paran\u00e1, 184 - Cidade de Deus\",\n      \"type\": \"De 09h \u00e1s 18h - Seg. \u00e0 Sex.\",\n      \"phone\": \"(37) 99122-3338\",\n      \"logoText\":\n      \"https://cdn.pixabay.com/photo/2017/01/13/01/22/rocket-1976107_960_720.png\"\n    },\n    {\n      \"name\": \"Barbearia do PA\",\n      \"location\": \"Rua Paran\u00e1, 184 - Cidade de Deus\",\n      \"type\": \"De 09h \u00e1s 18h - Seg. \u00e0 Sex.\",\n      \"phone\": \"(37) 99122-3338\",\n      \"logoText\":\n      \"https://cdn.pixabay.com/photo/2017/01/13/01/22/rocket-1976107_960_720.png\"\n    },\n    {\n      \"name\": \"Barbearia do PA\",\n      \"location\": \"Rua Paran\u00e1, 184 - Cidade de Deus\",\n      \"type\": \"De 09h \u00e1s 18h - Seg. \u00e0 Sex.\",\n      \"phone\": \"(37) 99122-3338\",\n      \"logoText\":\n      \"https://cdn.pixabay.com/photo/2017/01/13/01/22/rocket-1976107_960_720.png\"\n    },\n  ];\n\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      home: Scaffold(\n        backgroundColor: Color(0xfff0f0f0),\n        body: SingleChildScrollView(\n          child: Container(\n            height: MediaQuery\n                .of(context)\n                .size\n                .height,\n            width: MediaQuery\n                .of(context)\n                .size\n                .width,\n            child: Stack(\n              children: &lt;Widget&gt;[\n                Container(\n                  padding: EdgeInsets.only(top: 145),\n                  height: MediaQuery\n                      .of(context)\n                      .size\n                      .height,\n                  width: double.infinity,\n                  child: ListView.builder(\n                      itemCount: barberLists.length,\n                      itemBuilder: (BuildContext context, int index) {\n                        return buildList(context, index);\n                      }),\n                ),\n                Container(\n                  height: 140,\n                  width: double.infinity,\n                  decoration: BoxDecoration(\n                      color: green,\n                      borderRadius: BorderRadius.only(\n                          bottomLeft: Radius.circular(30),\n                          bottomRight: Radius.circular(30))),\n                  child: Padding(\n                    padding: const EdgeInsets.symmetric(horizontal: 30),\n                    child: Row(\n                      mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                      children: &lt;Widget&gt;[\n                        IconButton(\n                          onPressed: () {\n                            Navigator.pop(context);\n                          },\n                          icon: Icon(\n                            Icons.arrow_back,\n                            color: Colors.white,\n                          ),\n                        ),\n                        Text(\n                          \"Barbearias\",\n                          style: TextStyle(color: Colors.white, fontSize: 24),\n                        ),\n                        IconButton(\n                          onPressed: () {},\n                          icon: Icon(\n                            Icons.filter_list,\n                            color: Colors.white,\n                          ),\n                        ),\n                      ],\n                    ),\n                  ),\n                ),\n                Container(\n                  child: Column(\n                    children: &lt;Widget&gt;[\n                      SizedBox(\n                        height: 110,\n                      ),\n                      Padding(\n                        padding: EdgeInsets.symmetric(horizontal: 20),\n                        child: Material(\n                          elevation: 5.0,\n                          borderRadius: BorderRadius.all(Radius.circular(30)),\n                          child: TextField(\n                            // controller: TextEditingController(text: locations[0]),\n                            cursorColor: Theme\n                                .of(context)\n                                .primaryColor,\n                            style: dropdownMenuItem,\n                            decoration: InputDecoration(\n                                hintText: \"Procurar Barbearias\",\n                                hintStyle: TextStyle(\n                                    color: Colors.black38, fontSize: 16),\n                                prefixIcon: Material(\n                                  elevation: 0.0,\n                                  borderRadius:\n                                  BorderRadius.all(Radius.circular(30)),\n                                  child: Icon(Icons.search),\n                                ),\n                                border: InputBorder.none,\n                                contentPadding: EdgeInsets.symmetric(\n                                    horizontal: 25, vertical: 13)),\n                          ),\n                        ),\n                      ),\n                    ],\n                  ),\n                )\n              ],\n            ),\n          ),\n        ),\n      ),\n    );\n  }\n\n  Widget buildList(BuildContext context, int index) {\n    return Container(\n      decoration: BoxDecoration(\n        borderRadius: BorderRadius.circular(25),\n        color: Colors.white,\n      ),\n      width: double.infinity,\n      height: 120,\n      margin: EdgeInsets.symmetric(vertical: 10, horizontal: 20),\n      padding: EdgeInsets.symmetric(vertical: 10, horizontal: 20),\n      child: GestureDetector(\n        onTap: () {\n          Scaffold.of(context).showSnackBar(SnackBar(\n            content: Text(index.toString()),\n          ));\n\n          Navigator.push(\n            context,\n            MaterialPageRoute(\n              builder: (context) =&gt; DetailScreen(detailData: barberLists[index]),\n            ),\n          );\n\n        },\n        child: Row(\n          crossAxisAlignment: CrossAxisAlignment.start,\n          children: &lt;Widget&gt;[\n            Container(\n              width: 60,\n              height: 60,\n              margin: EdgeInsets.only(right: 15, top: 20),\n              decoration: BoxDecoration(\n                borderRadius: BorderRadius.circular(50),\n                border: Border.all(width: 3, color: secondary),\n                /*image: DecorationImage(\n                    image: CachedNetworkImageProvider(\n                        barberLists[index]['logoText']),\n                    fit: BoxFit.fill),*/\n              ),\n            ),\n            Expanded(\n              child: Column(\n                crossAxisAlignment: CrossAxisAlignment.start,\n                children: &lt;Widget&gt;[\n                  Text(\n                    barberLists[index]['name'],\n                    style: TextStyle(\n                        color: primary,\n                        fontWeight: FontWeight.bold,\n                        fontSize: 18),\n                  ),\n                  SizedBox(\n                    height: 6,\n                  ),\n                  Row(\n                    children: &lt;Widget&gt;[\n                      Icon(\n                        Icons.location_on,\n                        color: secondary,\n                        size: 20,\n                      ),\n                      SizedBox(\n                        width: 5,\n                      ),\n                      Text(barberLists[index]['location'],\n                          style: TextStyle(\n                              color: primary, fontSize: 13, letterSpacing: .3)),\n                    ],\n                  ),\n                  SizedBox(\n                    height: 6,\n                  ),\n                  Row(\n                    children: &lt;Widget&gt;[\n                      Icon(\n                        Icons.calendar_today,\n                        color: secondary,\n                        size: 20,\n                      ),\n                      SizedBox(\n                        width: 5,\n                      ),\n                      Text(barberLists[index]['type'],\n                          style: TextStyle(\n                              color: primary, fontSize: 13, letterSpacing: .3)),\n                    ],\n                  ),\n                  SizedBox(\n                    height: 6,\n                  ),\n                  Row(\n                    children: &lt;Widget&gt;[\n                      Icon(\n                        Icons.call_end,\n                        color: secondary,\n                        size: 20,\n                      ),\n                      SizedBox(\n                        width: 5,\n                      ),\n                      Text(barberLists[index]['phone'],\n                          style: TextStyle(\n                              color: primary, fontSize: 13, letterSpacing: .3)),\n                    ],\n                  ),\n                ],\n              ),\n            )\n          ],\n        ),\n      ),\n    );\n  }\n}\n\nclass DetailScreen extends StatelessWidget {\n  // Declare a field that holds the Todo.\n  final Map detailData;\n\n  // In the constructor, require a Todo.\n  DetailScreen({Key key, @required this.detailData}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    // Use the Todo to create the UI.\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(detailData[\"name\"]),\n      ),\n      body: Padding(\n        padding: EdgeInsets.all(16.0),\n        child: Text(detailData[\"location\"]),\n      ),\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 12394186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hnJ5x.jpg?s=128&g=1", "display_name": "Marcos V. Rezende S.", "link": "https://stackoverflow.com/users/12394186/marcos-v-rezende-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 1, "accepted_answer_id": 58925579, "answer_count": 1, "score": 1, "last_activity_date": 1574128971, "creation_date": 1574123979, "last_edit_date": 1574124881, "question_id": 58925007, "link": "https://stackoverflow.com/questions/58925007/how-can-i-get-the-information-of-a-listmap-to-another-screen-in-flutter", "title": "How can i get the information of a List&lt;Map&gt; to another screen in Flutter?", "body": "<p>I'm new in Flutter and i'm working on a project for my university using the framework. I have this screen whos use a List and is working as i needed:</p>\n\n<pre><code>class BarberPage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: Scaffold(\n        body: BarberList(),\n      ),\n    );\n  }\n}\n\nclass BarberList extends StatefulWidget {\n  BarberList({Key key}) : super(key: key);\n\n  // static final String path = \"lib/src/pages/lists/list2.dart\";\n  _BarberListState createState() =&gt; _BarberListState();\n}\n\nclass _BarberListState extends State&lt;BarberList&gt; {\n  final TextStyle dropdownMenuItem =\n  TextStyle(color: Colors.black, fontSize: 18);\n\n  final primary = Color(0xFF63736B);\n  final secondary = Color(0xFF0C0E0B);\n  final green = Color(0xFF79FF00);\n\n  final List&lt;Map&gt; barberLists = [\n    {\n      \"name\": \"Barbearia do PA\",\n      \"location\": \"Rua Paran\u00e1, 184 - Cidade de Deus\",\n      \"type\": \"De 09h \u00e1s 18h - Seg. \u00e0 Sex.\",\n      \"phone\": \"(37) 99122-3338\",\n      \"logoText\":\n      \"https://cdn.pixabay.com/photo/2017/01/13/01/22/rocket-1976107_960_720.png\"\n    },\n    {\n      \"name\": \"Barbearia do PA\",\n      \"location\": \"Rua Paran\u00e1, 184 - Cidade de Deus\",\n      \"type\": \"De 09h \u00e1s 18h - Seg. \u00e0 Sex.\",\n      \"phone\": \"(37) 99122-3338\",\n      \"logoText\":\n      \"https://cdn.pixabay.com/photo/2017/01/13/01/22/rocket-1976107_960_720.png\"\n    },\n    {\n      \"name\": \"Barbearia do PA\",\n      \"location\": \"Rua Paran\u00e1, 184 - Cidade de Deus\",\n      \"type\": \"De 09h \u00e1s 18h - Seg. \u00e0 Sex.\",\n      \"phone\": \"(37) 99122-3338\",\n      \"logoText\":\n      \"https://cdn.pixabay.com/photo/2017/01/13/01/22/rocket-1976107_960_720.png\"\n    },\n    {\n      \"name\": \"Barbearia do PA\",\n      \"location\": \"Rua Paran\u00e1, 184 - Cidade de Deus\",\n      \"type\": \"De 09h \u00e1s 18h - Seg. \u00e0 Sex.\",\n      \"phone\": \"(37) 99122-3338\",\n      \"logoText\":\n      \"https://cdn.pixabay.com/photo/2017/01/13/01/22/rocket-1976107_960_720.png\"\n    },\n    {\n      \"name\": \"Barbearia do PA\",\n      \"location\": \"Rua Paran\u00e1, 184 - Cidade de Deus\",\n      \"type\": \"De 09h \u00e1s 18h - Seg. \u00e0 Sex.\",\n      \"phone\": \"(37) 99122-3338\",\n      \"logoText\":\n      \"https://cdn.pixabay.com/photo/2017/01/13/01/22/rocket-1976107_960_720.png\"\n    },\n    {\n      \"name\": \"Barbearia do PA\",\n      \"location\": \"Rua Paran\u00e1, 184 - Cidade de Deus\",\n      \"type\": \"De 09h \u00e1s 18h - Seg. \u00e0 Sex.\",\n      \"phone\": \"(37) 99122-3338\",\n      \"logoText\":\n      \"https://cdn.pixabay.com/photo/2017/01/13/01/22/rocket-1976107_960_720.png\"\n    },\n    {\n      \"name\": \"Barbearia do PA\",\n      \"location\": \"Rua Paran\u00e1, 184 - Cidade de Deus\",\n      \"type\": \"De 09h \u00e1s 18h - Seg. \u00e0 Sex.\",\n      \"phone\": \"(37) 99122-3338\",\n      \"logoText\":\n      \"https://cdn.pixabay.com/photo/2017/01/13/01/22/rocket-1976107_960_720.png\"\n    },\n    {\n      \"name\": \"Barbearia do PA\",\n      \"location\": \"Rua Paran\u00e1, 184 - Cidade de Deus\",\n      \"type\": \"De 09h \u00e1s 18h - Seg. \u00e0 Sex.\",\n      \"phone\": \"(37) 99122-3338\",\n      \"logoText\":\n      \"https://cdn.pixabay.com/photo/2017/01/13/01/22/rocket-1976107_960_720.png\"\n    },\n  ];\n\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      home: Scaffold(\n        backgroundColor: Color(0xfff0f0f0),\n        body: SingleChildScrollView(\n          child: Container(\n            height: MediaQuery\n                .of(context)\n                .size\n                .height,\n            width: MediaQuery\n                .of(context)\n                .size\n                .width,\n            child: Stack(\n              children: &lt;Widget&gt;[\n                Container(\n                  padding: EdgeInsets.only(top: 145),\n                  height: MediaQuery\n                      .of(context)\n                      .size\n                      .height,\n                  width: double.infinity,\n                  child: ListView.builder(\n                      itemCount: barberLists.length,\n                      itemBuilder: (BuildContext context, int index) {\n                        return buildList(context, index);\n                      }),\n                ),\n                Container(\n                  height: 140,\n                  width: double.infinity,\n                  decoration: BoxDecoration(\n                      color: green,\n                      borderRadius: BorderRadius.only(\n                          bottomLeft: Radius.circular(30),\n                          bottomRight: Radius.circular(30))),\n                  child: Padding(\n                    padding: const EdgeInsets.symmetric(horizontal: 30),\n                    child: Row(\n                      mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                      children: &lt;Widget&gt;[\n                        IconButton(\n                          onPressed: () {\n                            Navigator.pop(context);\n                          },\n                          icon: Icon(\n                            Icons.arrow_back,\n                            color: Colors.white,\n                          ),\n                        ),\n                        Text(\n                          \"Barbearias\",\n                          style: TextStyle(color: Colors.white, fontSize: 24),\n                        ),\n                        IconButton(\n                          onPressed: () {},\n                          icon: Icon(\n                            Icons.filter_list,\n                            color: Colors.white,\n                          ),\n                        ),\n                      ],\n                    ),\n                  ),\n                ),\n                Container(\n                  child: Column(\n                    children: &lt;Widget&gt;[\n                      SizedBox(\n                        height: 110,\n                      ),\n                      Padding(\n                        padding: EdgeInsets.symmetric(horizontal: 20),\n                        child: Material(\n                          elevation: 5.0,\n                          borderRadius: BorderRadius.all(Radius.circular(30)),\n                          child: TextField(\n                            // controller: TextEditingController(text: locations[0]),\n                            cursorColor: Theme\n                                .of(context)\n                                .primaryColor,\n                            style: dropdownMenuItem,\n                            decoration: InputDecoration(\n                                hintText: \"Procurar Barbearias\",\n                                hintStyle: TextStyle(\n                                    color: Colors.black38, fontSize: 16),\n                                prefixIcon: Material(\n                                  elevation: 0.0,\n                                  borderRadius:\n                                  BorderRadius.all(Radius.circular(30)),\n                                  child: Icon(Icons.search),\n                                ),\n                                border: InputBorder.none,\n                                contentPadding: EdgeInsets.symmetric(\n                                    horizontal: 25, vertical: 13)),\n                          ),\n                        ),\n                      ),\n                    ],\n                  ),\n                )\n              ],\n            ),\n          ),\n        ),\n      ),\n    );\n  }\n\n  Widget buildList(BuildContext context, int index) {\n    return Container(\n      decoration: BoxDecoration(\n        borderRadius: BorderRadius.circular(25),\n        color: Colors.white,\n      ),\n      width: double.infinity,\n      height: 120,\n      margin: EdgeInsets.symmetric(vertical: 10, horizontal: 20),\n      padding: EdgeInsets.symmetric(vertical: 10, horizontal: 20),\n      child: GestureDetector(\n        onTap: () {\n          Scaffold.of(context).showSnackBar(SnackBar(\n            content: Text(index.toString()),\n          ));\n        },\n        child: Row(\n          crossAxisAlignment: CrossAxisAlignment.start,\n          children: &lt;Widget&gt;[\n            Container(\n              width: 60,\n              height: 60,\n              margin: EdgeInsets.only(right: 15, top: 20),\n              decoration: BoxDecoration(\n                borderRadius: BorderRadius.circular(50),\n                border: Border.all(width: 3, color: secondary),\n                image: DecorationImage(\n                    image: CachedNetworkImageProvider(\n                        barberLists[index]['logoText']),\n                    fit: BoxFit.fill),\n              ),\n            ),\n            Expanded(\n              child: Column(\n                crossAxisAlignment: CrossAxisAlignment.start,\n                children: &lt;Widget&gt;[\n                  Text(\n                    barberLists[index]['name'],\n                    style: TextStyle(\n                        color: primary,\n                        fontWeight: FontWeight.bold,\n                        fontSize: 18),\n                  ),\n                  SizedBox(\n                    height: 6,\n                  ),\n                  Row(\n                    children: &lt;Widget&gt;[\n                      Icon(\n                        Icons.location_on,\n                        color: secondary,\n                        size: 20,\n                      ),\n                      SizedBox(\n                        width: 5,\n                      ),\n                      Text(barberLists[index]['location'],\n                          style: TextStyle(\n                              color: primary, fontSize: 13, letterSpacing: .3)),\n                    ],\n                  ),\n                  SizedBox(\n                    height: 6,\n                  ),\n                  Row(\n                    children: &lt;Widget&gt;[\n                      Icon(\n                        Icons.calendar_today,\n                        color: secondary,\n                        size: 20,\n                      ),\n                      SizedBox(\n                        width: 5,\n                      ),\n                      Text(barberLists[index]['type'],\n                          style: TextStyle(\n                              color: primary, fontSize: 13, letterSpacing: .3)),\n                    ],\n                  ),\n                  SizedBox(\n                    height: 6,\n                  ),\n                  Row(\n                    children: &lt;Widget&gt;[\n                      Icon(\n                        Icons.call_end,\n                        color: secondary,\n                        size: 20,\n                      ),\n                      SizedBox(\n                        width: 5,\n                      ),\n                      Text(barberLists[index]['phone'],\n                          style: TextStyle(\n                              color: primary, fontSize: 13, letterSpacing: .3)),\n                    ],\n                  ),\n                ],\n              ),\n            )\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>I need to see the information of each item of this list by pressed on them, but i dont no how to get the information on the new screen. \nI tryed to follow this example \"<a href=\"https://flutter.dev/docs/cookbook/navigation/passing-data\" rel=\"nofollow noreferrer\">https://flutter.dev/docs/cookbook/navigation/passing-data</a>\", but it use a class and does'n work like that with this list. \nI really need a help on this. </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 6851045, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-oFEoqQMCoqY/AAAAAAAAAAI/AAAAAAAAANs/FpQzuPm1Ons/photo.jpg?sz=128", "display_name": "Daniel Corona", "link": "https://stackoverflow.com/users/6851045/daniel-corona"}, "edited": false, "score": 0, "creation_date": 1574117197, "post_id": 58923981, "comment_id": 104109627, "body": "I have my code ALMOST like that. However, I spotted a crutial difference. In my code, the BoxDecoration was marked as a &#39;const&#39;. Removing the &#39;const&#39; fixed the issue, thanks."}, {"owner": {"reputation": 1233, "user_id": 1387060, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/15a82a765943b530585414649b723b52?s=128&d=identicon&r=PG", "display_name": "Osama FelFel", "link": "https://stackoverflow.com/users/1387060/osama-felfel"}, "reply_to_user": {"reputation": 111, "user_id": 6851045, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-oFEoqQMCoqY/AAAAAAAAAAI/AAAAAAAAANs/FpQzuPm1Ons/photo.jpg?sz=128", "display_name": "Daniel Corona", "link": "https://stackoverflow.com/users/6851045/daniel-corona"}, "edited": false, "score": 0, "creation_date": 1574117257, "post_id": 58923981, "comment_id": 104109644, "body": "Glad I helped :)"}], "tags": [], "owner": {"reputation": 1233, "user_id": 1387060, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/15a82a765943b530585414649b723b52?s=128&d=identicon&r=PG", "display_name": "Osama FelFel", "link": "https://stackoverflow.com/users/1387060/osama-felfel"}, "is_accepted": true, "score": 1, "last_activity_date": 1574116906, "creation_date": 1574116906, "answer_id": 58923981, "question_id": 58923852, "link": "https://stackoverflow.com/questions/58923852/invalid-constant-value-on-border/58923981#58923981", "title": "Invalid constant value on Border", "body": "<p>Container doesn't have a border property, instead use a decoration</p>\n\n<pre><code>Container(\n    width: 100,\n    height: 100,\n    decoration: BoxDecoration(\n        border: Border.all(\n            color: Colors.grey,\n            width: 0.5,\n            style: BorderStyle.solid\n        )\n    )\n)\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 6851045, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-oFEoqQMCoqY/AAAAAAAAAAI/AAAAAAAAANs/FpQzuPm1Ons/photo.jpg?sz=128", "display_name": "Daniel Corona", "link": "https://stackoverflow.com/users/6851045/daniel-corona"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "accepted_answer_id": 58923981, "answer_count": 1, "score": 0, "last_activity_date": 1574116906, "creation_date": 1574116245, "question_id": 58923852, "link": "https://stackoverflow.com/questions/58923852/invalid-constant-value-on-border", "title": "Invalid constant value on Border", "body": "<p>I'm trying to add a border to a container. However, when I put this code onto the <code>border</code> value, it trows me an <code>Invalid constant value</code> error.</p>\n\n<p>My code goes like this:</p>\n\n<pre><code>border: new Border.all(\n    color: Colors.grey,\n    width: 0.5,\n    style: BorderStyle.solid\n),\n</code></pre>\n\n<p>I've double checked everything and I don't seem to find a misstype or anything.</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 1233, "user_id": 1387060, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/15a82a765943b530585414649b723b52?s=128&d=identicon&r=PG", "display_name": "Osama FelFel", "link": "https://stackoverflow.com/users/1387060/osama-felfel"}, "edited": false, "score": 0, "creation_date": 1574112904, "post_id": 58923174, "comment_id": 104107945, "body": "You need to call the method from the parent widget? Why?"}], "answers": [{"tags": [], "owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "is_accepted": true, "score": 0, "last_activity_date": 1574113303, "creation_date": 1574113303, "answer_id": 58923335, "question_id": 58923174, "link": "https://stackoverflow.com/questions/58923174/flutter-differentiating-between-multiple-instances-of-widget/58923335#58923335", "title": "Flutter differentiating between multiple instances of widget", "body": "<p>You store your children in a list like this:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>final object3Ds = List&lt;Object3D&gt;.generate(4, (_) =&gt; Object3D());\n</code></pre>\n\n<p>Now, you store that reference in your parent and then you can pass the elements of that list in your <code>build</code> method:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>...\nStack(\n  children: &lt;Widget&gt;[\n    Positioned(\n      child: object3Ds[0],\n      ...\n</code></pre>\n\n<p>Finally, you can now access your objects using the list you created:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>object3Ds[0].callMethod();\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 12393983, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDmCUhXIBgg6B6pevDKBHXnr3GgEhufPYjWjKl6=k-s128", "display_name": "M&#225;t&#233; Tranta", "link": "https://stackoverflow.com/users/12393983/m%c3%a1t%c3%a9-tranta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 327, "favorite_count": 0, "accepted_answer_id": 58923335, "answer_count": 1, "score": 1, "last_activity_date": 1574113314, "creation_date": 1574112487, "last_edit_date": 1574113314, "question_id": 58923174, "link": "https://stackoverflow.com/questions/58923174/flutter-differentiating-between-multiple-instances-of-widget", "title": "Flutter differentiating between multiple instances of widget", "body": "<p>I'm writing an app where I'm using multiple instance of a custom widget, and i want to call a method of a specific instance.</p>\n\n<p>Sample of the code: </p>\n\n<pre><code>Widget build(BuildContext context) {\n        return Scaffold(\n            drawer: new DrawerOnly(storage: CounterStorage()),\n            appBar: AppBar(),\n            body: Stack(\n                children: &lt;Widget&gt;[\n                    new Center(\n                        child: new Object3D(\n\n                        ),\n                    ),\n                    new Positioned(\n                        top: 20,\n                        left: 0,\n                        child: new Object3D(\n\n                        ),\n                    ),\n                    new Positioned(\n                        top: 20,\n                        left: 100,\n                        child: new Object3D(\n\n                        ),\n                    ),\n                    new Positioned(\n                        top: 120,\n                        left: 0,\n                        child: new Object3D(\n\n                        ),\n                    ),\n                ],\n            )\n        );\n    }\n\n    mymethod() {\n        //call first Object3D's method from here\n    }\n}\n</code></pre>\n\n<p>how do i call the first Object3D's method from their parent?</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 1, "creation_date": 1574111565, "post_id": 58922775, "comment_id": 104107375, "body": "Please break this down into a specific problem that someone can easily answer."}, {"owner": {"reputation": 1079, "user_id": 9078384, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/063e7069245954c5246276c925113801?s=128&d=identicon&r=PG&f=1", "display_name": "djalmafreestyler", "link": "https://stackoverflow.com/users/9078384/djalmafreestyler"}, "reply_to_user": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1574111888, "post_id": 58922775, "comment_id": 104107519, "body": "I removed some code but that&#39;s it, there no way to make it easier to understand. The problem is generate the grid of blocks, how to do that."}], "answers": [{"tags": [], "owner": {"reputation": 4735, "user_id": 789545, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d3b562b08d059597ddc2f255894c8652?s=128&d=identicon&r=PG", "display_name": "spydon", "link": "https://stackoverflow.com/users/789545/spydon"}, "is_accepted": true, "score": 0, "last_activity_date": 1574160344, "last_edit_date": 1574160344, "creation_date": 1574159797, "answer_id": 58932023, "question_id": 58922775, "link": "https://stackoverflow.com/questions/58922775/create-a-grid-of-blocks-similar-to-a-breakout-game/58932023#58932023", "title": "Create a grid of blocks similar to a Breakout game", "body": "<p>Right now all the blocks are rendered in the same position since you don't change the coordinates of the <code>Rect</code>.</p>\n\n<p>Your <code>Block</code> class needs to take the coordinates of where you want to place the tile, like this:</p>\n\n<pre><code>static final int width = 50;\nstatic final int height = 25; \n\nBlock(**int x, int y**) {\n  rect = Rect.fromLTWH(**x**, **y**, Block.width, Block.height);\n  paint = Paint()..color = Colors.white;\n}\n</code></pre>\n\n<p>And then when you generate them you need to give them different coordinates in the loop in the render function, like this:</p>\n\n<pre><code>  @override\n  void render(Canvas canvas) {\n    for(int i = 0; i &lt; 6; i++) {\n      for(int j = 0; &lt; 5; j++) {\n        // This could be moved out to the constructor and put in a list so that\n        // you wont have to make a new object in every render\n        Block((i+1)*Block.width, (j+2)*Block.height);\n      }\n    }\n  }\n</code></pre>\n\n<p>(The i+1 and j+2 for the coordinates are to make it look like in your image, if you remove the +1 and +2 you will start rendering in the upper left corner)</p>\n\n<p>It will just look like a big block of white now, but if you either make some space between each tile, give them different colors or edges, you will see all the tiles.</p>\n\n<p>Easiest way to see it would be with: <code>paint.style = PaintingStyle.stroke;</code></p>\n"}], "owner": {"reputation": 1079, "user_id": 9078384, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/063e7069245954c5246276c925113801?s=128&d=identicon&r=PG&f=1", "display_name": "djalmafreestyler", "link": "https://stackoverflow.com/users/9078384/djalmafreestyler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 58932023, "answer_count": 1, "score": 1, "last_activity_date": 1574160344, "creation_date": 1574110592, "last_edit_date": 1574159986, "question_id": 58922775, "link": "https://stackoverflow.com/questions/58922775/create-a-grid-of-blocks-similar-to-a-breakout-game", "title": "Create a grid of blocks similar to a Breakout game", "body": "<p>I'm trying to create a simple clone of the Breakout game.</p>\n\n<p>How can I render all the blocks in the grid in certain (x, y) positions?</p>\n\n<p>The app shows the blocks but all in the same position.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZoQlt.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZoQlt.jpg\" alt=\"Breakout Game\"></a></p>\n\n<pre><code>class Block {\n  Random random = Random();\n  Rect rect;\n  Paint paint;\n  Size size;\n\n  Block({this.size}) {\n    rect = Rect.fromLTWH(\n        16,\n        16,\n        50,\n        25);\n    paint = Paint()..color = Colors.white;\n  }\n\n  void render(Canvas canvas){\n      canvas.drawRect(rect, paint);\n  }\n\n  void update(double td){\n\n  }\n}\n\nclass TestGame extends Game {\n\n  Size screenSize;\n\n  TestGame(this.screenSize);\n\n  @override\n  void render(Canvas canvas) {\n    for(var i=0; i &lt; 5; i++){\n      Block(size: screenSize).render(canvas);\n    }\n  }\n\n  @override\n  void update(double t) {} \n}\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1574111835, "post_id": 58922507, "comment_id": 104107495, "body": "Can you remind me to answer this?"}, {"owner": {"reputation": 1233, "user_id": 1387060, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/15a82a765943b530585414649b723b52?s=128&d=identicon&r=PG", "display_name": "Osama FelFel", "link": "https://stackoverflow.com/users/1387060/osama-felfel"}, "edited": false, "score": 0, "creation_date": 1574115865, "post_id": 58922507, "comment_id": 104109073, "body": "Do you need to show the left side only or to have a different color for the left side? You are using Material TextField?"}, {"owner": {"reputation": 11, "user_id": 9149452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318f549c561e53f67946a3bc11574dba?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Scott", "link": "https://stackoverflow.com/users/9149452/andrew-scott"}, "edited": false, "score": 0, "creation_date": 1574141854, "post_id": 58922507, "comment_id": 104115209, "body": "Hi Osama. I only want to show the left side, yes Im using Material TextField. Thanks"}], "owner": {"reputation": 11, "user_id": 9149452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318f549c561e53f67946a3bc11574dba?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Scott", "link": "https://stackoverflow.com/users/9149452/andrew-scott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574111781, "creation_date": 1574109330, "last_edit_date": 1574111781, "question_id": 58922507, "link": "https://stackoverflow.com/questions/58922507/how-can-i-make-an-inputdecoration-border-appear-only-on-the-left", "title": "How can I make an InputDecoration border appear only on the left?", "body": "<p>I'm trying to only show the pink border on the left side when focused.</p>\n\n<p>This is what I currently have and it is showing on all sides:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>focusedBorder: OutlineInputBorder(\n                   borderSide: BorderSide(\n                    color: Colors.pink, \n                    width: 2.0)\n                 )\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 156, "user_id": 11926144, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LrwwJeBb174/AAAAAAAAAAI/AAAAAAAAIHk/Qw-Z42_RAfY/photo.jpg?sz=128", "display_name": "Rudraksh Shukla", "link": "https://stackoverflow.com/users/11926144/rudraksh-shukla"}, "is_accepted": false, "score": 0, "last_activity_date": 1574140242, "creation_date": 1574140242, "answer_id": 58927029, "question_id": 58922429, "link": "https://stackoverflow.com/questions/58922429/how-to-i-return-information-from-a-widgets-function-to-another-page/58927029#58927029", "title": "How to I return information from a widgets function to another page?", "body": "<p>you can use provide consumer pattern in which you can put all this page into one parent theme child and than you can access variable and all other stuff.</p>\n\n<blockquote>\n  <p><a href=\"https://flutter.dev/docs/development/data-and-backend/state-mgmt/simple\" rel=\"nofollow noreferrer\">https://flutter.dev/docs/development/data-and-backend/state-mgmt/simple</a></p>\n</blockquote>\n\n<p>other wise you can also use block patten </p>\n\n<blockquote>\n  <p><a href=\"https://medium.com/flutterpub/architecting-your-flutter-project-bd04e144a8f1\" rel=\"nofollow noreferrer\">https://medium.com/flutterpub/architecting-your-flutter-project-bd04e144a8f1</a></p>\n</blockquote>\n\n<p>or if you dont want to use that in that case you can make one common class and declare one static varible in that and set varible on result after scaning in completed and use when ever you want</p>\n"}], "owner": {"reputation": 11, "user_id": 12393720, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bw7nBGMUFiU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfCMN5TpRWm6v0bqXyf9JXaqI9-OQ/photo.jpg?sz=128", "display_name": "Gabriel Beal", "link": "https://stackoverflow.com/users/12393720/gabriel-beal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574140242, "creation_date": 1574108942, "last_edit_date": 1574111846, "question_id": 58922429, "link": "https://stackoverflow.com/questions/58922429/how-to-i-return-information-from-a-widgets-function-to-another-page", "title": "How to I return information from a widgets function to another page?", "body": "<p>I am currently working on a project with a team where I implemented a barcode scanner that is going to be a widget on a \"search\" page. The issue I am currently facing is that I use the barcode to generate a list of ingredients that I want to include in the search but I don't know how to return that information to the search page. I have tried two methods so far:</p>\n\n<ol>\n<li><p>I tried creating a member variable of the scanner class that I would then access on the search page when I need it but because my function that returns the list is a part of the private state class that I am unsure how to access from the public class. This is the method I would prefer to solve.</p></li>\n<li><p>I have tried using the Navigator class to push and pop the information from the seperate screens but the issue is the barcode scanner is automatically closed once a barcode is scanned so I can't pop from the stack or else it will leave the search page and go back to whatever page was previous.</p></li>\n</ol>\n\n<p>Here is the code I have. The first is the function that opens the barcode scanner, scans a barcode and creates an ingredient list that I return. This 'test' list is what I'd ideally like to set as a class member for the public portion of the class not the private state class.</p>\n\n<pre><code>Future&lt;void&gt; scanBarcodeNormal(BuildContext context) async {\nString barcodeScanRes;\nList&lt;String&gt; test;\n// Platform messages may fail, so we use a try/catch PlatformException.\ntry {\n  barcodeScanRes = await FlutterBarcodeScanner.scanBarcode(\n      \"#ff6666\", \"Cancel\", true, ScanMode.BARCODE);\n} on PlatformException {\n  barcodeScanRes = 'Failed to get platform version.';\n}\n\n// If the widget was removed from the tree while the asynchronous platform\n// message was in flight, we want to discard the reply rather than calling\n// setState to update our non-existent appearance.\nif (!mounted) return null;\n\n//Call the backend with the barcode to return the Bread Crumb list\nList&lt;String&gt; breadCrumbs = await BackendRequest.barcode(\"089836187635\", \"42e96d88b6684215c9e260273b5e56b0522de18e\");\n\n//If the backend does not return us anything this displays a popup\nif(breadCrumbs == null){\n    showDialog(\n      context: context,\n      builder: (BuildContext context) =&gt; CustomDialog(\n       title: \"Uh Oh\",\n       description:\n        \"Barcode not found in our database, please try entering the item manually\",\n       buttonText: \"Okay\",\n      ),\n    );\n}\nelse{\n  setState(() {\n   _scanBarcode = breadCrumbs.toString();\n  });\n\n //Check the breadcrumbs for usable ingredients\n test = await getIngredients(breadCrumbs, \"42e96d88b6684215c9e260273b5e56b0522de18e\");\n}\n\nsetState(() {\n   _itemName = test[0].toString();\n  });\n\n//Navigator.pop(context, test);\n</code></pre>\n\n<p>}</p>\n\n<p>Here is where I add my widget to the search page. All I do is add the widget and the build function within my scanner class handles onPressed() functionality.</p>\n\n<pre><code>decoration: InputDecoration(\n                labelText: \"Input an Ingredient\",\n                hintText: \"Search\",\n                prefixIcon: Icon(Icons.search),\n                suffixIcon: ScanButton(),\n</code></pre>\n"}, {"tags": ["flutter", "dart", "flutter-navigation"], "answers": [{"tags": [], "owner": {"reputation": 1921, "user_id": 5927732, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-97TcRPaEW78/AAAAAAAAAAI/AAAAAAAAANM/XFUX8H0wVLo/photo.jpg?sz=128", "display_name": "Jos&#233; Nobre", "link": "https://stackoverflow.com/users/5927732/jos%c3%a9-nobre"}, "is_accepted": true, "score": 1, "last_activity_date": 1574128952, "creation_date": 1574128952, "answer_id": 58925578, "question_id": 58921770, "link": "https://stackoverflow.com/questions/58921770/how-to-call-navigator-inside-stream-builder-in-flutter/58925578#58925578", "title": "How to call navigator inside Stream Builder in flutter?", "body": "<p>Ok, so given my question has a -1 because someone just feel like giving without really helping the post I put here the answer for this question:</p>\n\n<p>You just need to do this on your <code>initState()</code>\nThis will listen to the stream itself and make UI logic outside the Stream Builder.</p>\n\n<pre><code>@override\n  void initState() {\n    userBloc = UserBloc();\n\n    super.initState();\n    userBloc.userSubject.listen((state) {\n      if (state.status == Status.COMPLETED) {\n        goToMain();\n      }\n    });\n  }\n</code></pre>\n"}], "owner": {"reputation": 1921, "user_id": 5927732, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-97TcRPaEW78/AAAAAAAAAAI/AAAAAAAAANM/XFUX8H0wVLo/photo.jpg?sz=128", "display_name": "Jos&#233; Nobre", "link": "https://stackoverflow.com/users/5927732/jos%c3%a9-nobre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 448, "favorite_count": 0, "accepted_answer_id": 58925578, "answer_count": 1, "score": 1, "last_activity_date": 1574128952, "creation_date": 1574106014, "last_edit_date": 1574111870, "question_id": 58921770, "link": "https://stackoverflow.com/questions/58921770/how-to-call-navigator-inside-stream-builder-in-flutter", "title": "How to call navigator inside Stream Builder in flutter?", "body": "<p>I have a problem that when I try to put the the navigator pop() method inside the string builder this error appears: <code>setState() or markNeedsBuild() called during build</code>.</p>\n\n<p>I read that you can't call the navigator inside the stream builder so does anyone have any ideia on how to fix this?</p>\n\n<p>This is my code:</p>\n\n<pre><code>return Scaffold(\n      resizeToAvoidBottomPadding: false,\n      body: Center(\n        child: Container(\n            padding: EdgeInsets.all(15),\n            color: Colors.white,\n            child: Column(\n              children: &lt;Widget&gt;[\n                SizedBox(height: 55),\n                SvgPicture.asset('images/svg_example.svg'),\n                SizedBox(height: 55),\n                Text(\"Login App\",\n                    style: TextStyle(\n                        fontWeight: FontWeight.bold, color: Colors.black)),\n                SizedBox(height: 40),\n                emailField,\n                SizedBox(height: 45),\n                passwordField,\n                SizedBox(height: 45),\n                loginButton,\n                SizedBox(height: 15),\n                StreamBuilder&lt;ApiResponse&lt;LoginResponse&gt;&gt;(\n                  stream: userBloc.authenticationUserStream,\n                  builder: (context,\n                      AsyncSnapshot&lt;ApiResponse&lt;LoginResponse&gt;&gt; snapshot) {\n                    // it will observe changes on the ApiResponse&lt;LoginResponse&gt;\n                    if (!snapshot.hasData) return Container();\n                    switch (snapshot.data.status) {\n                      case Status.LOADING:\n                        return Loading(\n                          loadingMessage: \"loading\",\n                        );\n                      case Status.COMPLETED:\n                        prefs.saveTokenPref(snapshot.data.data.token);\n                        prefs.saveUserPref(snapshot.data.data.user);\n                        goToMain();\n                        return Container(width: 0.0, height: 0.0);\n                      case Status.ERROR:\n                        // Here you can go to another screen after login success.\n                        return Center(\n                          child: Text(\"${snapshot.data.message}\"),\n                        );\n                      default:\n                        return Container();\n                    }\n                  },\n                )\n              ],\n            )),\n      ),\n    );\n  }\n\n  goToMain() {\n    Navigator.push(\n      context,\n      MaterialPageRoute(builder: (context) =&gt; MainScreen()),\n    );\n  }\n</code></pre>\n"}, {"tags": ["flutter", "dart", "flutter-layout"], "answers": [{"tags": [], "owner": {"reputation": 1233, "user_id": 1387060, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/15a82a765943b530585414649b723b52?s=128&d=identicon&r=PG", "display_name": "Osama FelFel", "link": "https://stackoverflow.com/users/1387060/osama-felfel"}, "is_accepted": false, "score": 1, "last_activity_date": 1574116462, "creation_date": 1574116462, "answer_id": 58923894, "question_id": 58921610, "link": "https://stackoverflow.com/questions/58921610/set-textfromfield-style-in-theme/58923894#58923894", "title": "Set TextFromField style in Theme", "body": "<p>I believe you are looking for <code>subhead</code></p>\n\n<pre><code>textTheme: TextTheme(\n    subhead: TextStyle(color: Colors.orange),\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2611, "user_id": 3109549, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/28171eb9da89605ed11018b44ae9be8b?s=128&d=identicon&r=PG", "display_name": "Tr\u1ea7n \u0110\u1ee9c T&#226;m", "link": "https://stackoverflow.com/users/3109549/tr%e1%ba%a7n-%c4%90%e1%bb%a9c-t%c3%a2m"}, "is_accepted": true, "score": 2, "last_activity_date": 1574128243, "creation_date": 1574128243, "answer_id": 58925496, "question_id": 58921610, "link": "https://stackoverflow.com/questions/58921610/set-textfromfield-style-in-theme/58925496#58925496", "title": "Set TextFromField style in Theme", "body": "<p>Uhm! That's a long question. <code>TextFormField</code> are subclass of the <code>TextField</code>. The default style of <code>TextField</code> could be found from source below.</p>\n\n<pre><code>final TextStyle style = themeData.textTheme.subhead.merge(widget.style);\n</code></pre>\n\n<p>So, you have 2 solutions for your source code.</p>\n\n<h2>Solution 1</h2>\n\n<ul>\n<li>Delete <code>style</code> property are inputted to <code>password</code>.</li>\n</ul>\n\n<pre><code>final password = TextFormField(\n  controller: passController,\n  autofocus: false,\n  obscureText: true,\n  decoration: InputDecoration(hintText: 'Password'),\n  style: new TextStyle(color: Colors.orange), // \u2605 =&gt; Delete this.\n);\n</code></pre>\n\n<ul>\n<li>Define a custom <code>subhead</code> style from <code>DataTheme</code> and input into Material app.</li>\n</ul>\n\n<pre><code>MaterialApp(\n  theme: ThemeData(\n    textTheme: TextTheme(\n      subhead: TextStyle(color: Colors.orange),\n    ),\n  ),\n  home: null,\n)\n</code></pre>\n\n<h2>Solution 2</h2>\n\n<ul>\n<li>Define a custom <code>subhead</code> style from <code>DataTheme</code> and input into Material app.</li>\n</ul>\n\n<pre><code>MaterialApp(\n  theme: ThemeData(\n    textTheme: TextTheme(\n      subhead: TextStyle(color: Colors.orange),\n    ),\n  ),\n  home: null,\n)\n</code></pre>\n\n<ul>\n<li>Copy this subhead style into <code>password</code></li>\n</ul>\n\n<pre><code>final themes = Theme.of(context);\nfinal password = TextFormField(\n  controller: passController,\n  autofocus: false,\n  obscureText: true,\n  decoration: InputDecoration(hintText: 'Password'),\n  style: themes.textTheme.subhead, // \u2605 =&gt; Update this.\n);\n</code></pre>\n"}], "owner": {"reputation": 152, "user_id": 9982227, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-U1UEvkK8sKY/AAAAAAAAAAI/AAAAAAAAC6s/CaRqBLDu8Yw/photo.jpg?sz=128", "display_name": "NovyLevi", "link": "https://stackoverflow.com/users/9982227/novylevi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1376, "favorite_count": 0, "accepted_answer_id": 58925496, "answer_count": 2, "score": 2, "last_activity_date": 1574128243, "creation_date": 1574105378, "last_edit_date": 1574111989, "question_id": 58921610, "link": "https://stackoverflow.com/questions/58921610/set-textfromfield-style-in-theme", "title": "Set TextFromField style in Theme", "body": "<p>So in my flutter app, I create TextFormField to use as an input like so (and return it in a scaffold):</p>\n\n<pre><code>final password = TextFormField(\n      controller: passController,\n      autofocus: false,\n      obscureText: true,\n      decoration: InputDecoration(hintText: 'Password'),\n      style: new TextStyle(color: Colors.orange),\n);\n</code></pre>\n\n<p>I would like to change the <code>style</code> property inside a <code>themeData</code>, but I couldn't find which property to specify.</p>\n\n<p>The closest one I could get to was <code>textTheme: new TextTheme(body1: new TextStyle(color: Colors.orange))</code>, but this one does nothing to my TextFormField.</p>\n\n<p>How can I set the TextFormField style? Please help, I'm really new to Dart and also programming. I'm currently 13 and I have nobody to help me out with these types of things.</p>\n\n<p>P.S: The complete code is on GitHub if needed: <a href=\"https://github.com/Legolaszstudio/novynotifier\" rel=\"nofollow noreferrer\">https://github.com/Legolaszstudio/novynotifier</a></p>\n"}, {"tags": ["android", "kotlin", "flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 1008, "user_id": 2513309, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/7UNAO.jpg?s=128&g=1", "display_name": "Sadegh Ghanbari", "link": "https://stackoverflow.com/users/2513309/sadegh-ghanbari"}, "is_accepted": false, "score": 0, "last_activity_date": 1599387827, "creation_date": 1599387827, "answer_id": 63763084, "question_id": 58921498, "link": "https://stackoverflow.com/questions/58921498/trying-to-implement-flutter-contacts-example-in-existing-flutter-app/63763084#63763084", "title": "Trying to implement flutter_contacts example in existing flutter app", "body": "<p>Inside the <strong>setMethodCallHandler</strong> you must write an if statement to check the method name and then execute it:</p>\n<pre><code>if (call.method == &quot;launch&quot;)\n     launchContactActivity()\n</code></pre>\n"}], "owner": {"reputation": 1093, "user_id": 10018034, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vts8H3tqKpw/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1FgnNZ6G3IkgTHMJwaUokkXO10yw/mo/photo.jpg?sz=128", "display_name": "Sam Cromer", "link": "https://stackoverflow.com/users/10018034/sam-cromer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 226, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1599387827, "creation_date": 1574104946, "last_edit_date": 1574112137, "question_id": 58921498, "link": "https://stackoverflow.com/questions/58921498/trying-to-implement-flutter-contacts-example-in-existing-flutter-app", "title": "Trying to implement flutter_contacts example in existing flutter app", "body": "<p>I am trying to implement the flutter_contacts example that lives here: <a href=\"https://github.com/pavelshackih/flutter_contacts/blob/master/android/app/src/main/kotlin/com/example/flutter_contacts/MainActivity.kt\" rel=\"nofollow noreferrer\">flutter contacts</a> in my existing flutter application but im having issues with calling the kotlin method. I have mirrored the functionality completely as far as I can tell but when I call the launch contacts method it throws a missing plugin exception. Here is the error:</p>\n\n<pre><code>E/flutter (10095): [ERROR:flutter/lib/ui/ui_dart_state.cc(148)] Unhandled Exception: MissingPluginException(No implementation found for method launch on channel flutter_contacts/launch_contacts)\n</code></pre>\n\n<p>It works fine in the expmle application when i run it so im assuming i'm missing something.</p>\n\n<p>Code for Mainactivity :</p>\n\n<pre><code> package com.lightbridge.flutter_contacts\n\n import android.app.Activity\n import android.content.Intent\n import android.os.Bundle\n import android.provider.ContactsContract\n import io.flutter.app.FlutterActivity\n import io.flutter.plugin.common.MethodChannel\n import io.flutter.plugins.GeneratedPluginRegistrant\n\n class MainActivity : FlutterActivity() {\n\nvar lastResult: MethodChannel.Result? = null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    GeneratedPluginRegistrant.registerWith(this)\n\n    MethodChannel(flutterView, CHANNEL).setMethodCallHandler { call, result -&gt;\n        lastResult = result\n        launchContactActivity()\n    }\n}\n\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n    if (requestCode == REQUEST_CODE) {\n        if (resultCode == Activity.RESULT_OK) {\n            lastResult?.success(\"Done!\")\n        } else {\n            lastResult?.error(\"Error\", \"Can't launch contacts\", \"\")\n        }\n    }\n}\n\nprivate fun launchContactActivity() {\n    val intent = Intent(Intent.ACTION_VIEW)\n    intent.type = ContactsContract.Contacts.CONTENT_TYPE\n    startActivityForResult(intent, REQUEST_CODE)\n}\n\ncompanion object {\n    private const val CHANNEL = \"flutter_contacts/launch_contacts\"\n    private const val REQUEST_CODE = 42\n}\n }\n</code></pre>\n\n<p>Dart code to launch</p>\n\n<pre><code>   void launchContacts() async {\n   try {\n    await platform.invokeMethod('launch');\n   } on PlatformException catch (e) {\n    print(\"Failed to launch contacts: ${e.message}\");\n   }\n  setState(() {\n  });\n }\n</code></pre>\n"}, {"tags": ["firebase", "flutter", "dart", "firebase-authentication"], "answers": [{"tags": [], "owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "is_accepted": true, "score": 1, "last_activity_date": 1574112334, "creation_date": 1574112334, "answer_id": 58923152, "question_id": 58921352, "link": "https://stackoverflow.com/questions/58921352/what-is-the-right-way-of-getting-the-current-firebase-user-in-every-screen/58923152#58923152", "title": "What is the right way of getting the current Firebase user in every screen?", "body": "<p>Of course you can do both, i.e. you can store your <code>FirebaseAuth</code> instance somewhere using <a href=\"https://flutter.dev/docs/development/data-and-backend/state-mgmt/options\" rel=\"nofollow noreferrer\">state management</a>, however, you can also just call <code>FirebaseAuth.instance</code> all the time.</p>\n\n<p>The only valuable insight I could think of is that calling <code>FirebaseAuth.instance</code> is totally fine (not particularly expensive) - everything else is probably just entirely opinion based.</p>\n"}], "owner": {"reputation": 23, "user_id": 12393373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e2f39c75445d36e4555341ef03063d4?s=128&d=identicon&r=PG&f=1", "display_name": "Bobo", "link": "https://stackoverflow.com/users/12393373/bobo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 58923152, "answer_count": 1, "score": 1, "last_activity_date": 1574112334, "creation_date": 1574104297, "last_edit_date": 1574112185, "question_id": 58921352, "link": "https://stackoverflow.com/questions/58921352/what-is-the-right-way-of-getting-the-current-firebase-user-in-every-screen", "title": "What is the right way of getting the current Firebase user in every screen?", "body": "<p>I successfully setup an app with Flutter with both registration and login with Firebase Authentication.</p>\n\n<p>After the sign-in I come back to the home-screen, where I get the user with:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class Home extends StatefulWidget {\n  @override\n  _HomeState createState() =&gt; _HomeState();\n}\n\nclass _HomeState extends State&lt;Home&gt; {\n  final FirebaseAuth _auth = FirebaseAuth.instance;\n  FirebaseUser user;\n\n  @override\n  void initState() {\n    super.initState();\n    initUser();\n  }\n\n  initUser() async {\n    user = await _auth.currentUser();\n    setState(() {});\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return SafeArea(\n      child: Scaffold(\n        //appBar: AppBar(title: const Text(\"Run to Feel Better\")),\n        body: Center(\n          child: Column(\n            children: &lt;Widget&gt;[\n              if (user == null)\n                RoundedButton(\n                  buttonTitle: 'Crea un account',\n                  color: kRTFBBlue,\n                  onPressedFunction: () {\n                    Navigator.pushNamed(context, '/account');\n                  },\n                )\n              else\n                Text(\"${user?.email}\"),\n            ],\n          ),\n        ),\n        bottomNavigationBar: bottomBar(context, 0),\n      ), // /widgets/home_scaffold.dart\n    );\n  }\n}\n</code></pre>\n\n<p>So, everything works fine, but my question is: what is the right way to get the current user in other pages? Have I to recheck in every screen with FirebaseAuth.instance, or can I save it and share between pages (maybe with Provider package)?</p>\n\n<p>Thank-you very much.</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 433, "user_id": 1889231, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/50a2e63f6bfbc3050f8aa4f6bb5739ae?s=128&d=identicon&r=PG", "display_name": "morgred", "link": "https://stackoverflow.com/users/1889231/morgred"}, "edited": false, "score": 0, "creation_date": 1574113354, "post_id": 58921709, "comment_id": 104108131, "body": "I tried the first thing myself but then the panels won&#39;t expand(tried it again in case i maybe missed something). Doing the constructor thing gives me the same error."}, {"owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "reply_to_user": {"reputation": 433, "user_id": 1889231, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/50a2e63f6bfbc3050f8aa4f6bb5739ae?s=128&d=identicon&r=PG", "display_name": "morgred", "link": "https://stackoverflow.com/users/1889231/morgred"}, "edited": false, "score": 0, "creation_date": 1574114186, "post_id": 58921709, "comment_id": 104108436, "body": "Try to make the list non-final, and assign it on the body of the constructor rather than the initializer."}, {"owner": {"reputation": 433, "user_id": 1889231, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/50a2e63f6bfbc3050f8aa4f6bb5739ae?s=128&d=identicon&r=PG", "display_name": "morgred", "link": "https://stackoverflow.com/users/1889231/morgred"}, "edited": false, "score": 0, "creation_date": 1574118636, "post_id": 58921709, "comment_id": 104110068, "body": "I&#39;m sorry, i&#39;m confused. What do you mean by this?"}, {"owner": {"reputation": 433, "user_id": 1889231, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/50a2e63f6bfbc3050f8aa4f6bb5739ae?s=128&d=identicon&r=PG", "display_name": "morgred", "link": "https://stackoverflow.com/users/1889231/morgred"}, "edited": false, "score": 0, "creation_date": 1574180478, "post_id": 58921709, "comment_id": 104135560, "body": "The getter &#39;contracts&#39; was called on null. Receiver: null Tried calling: contracts  this is what i get"}, {"owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "reply_to_user": {"reputation": 433, "user_id": 1889231, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/50a2e63f6bfbc3050f8aa4f6bb5739ae?s=128&d=identicon&r=PG", "display_name": "morgred", "link": "https://stackoverflow.com/users/1889231/morgred"}, "edited": false, "score": 0, "creation_date": 1574184529, "post_id": 58921709, "comment_id": 104137935, "body": "Sorry, I am also not good with Flutter :) see the edited answer, now it should work... Make sure to read the docs (link provided in answer) so you don&#39;t get stuck on basic issues like this."}, {"owner": {"reputation": 433, "user_id": 1889231, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/50a2e63f6bfbc3050f8aa4f6bb5739ae?s=128&d=identicon&r=PG", "display_name": "morgred", "link": "https://stackoverflow.com/users/1889231/morgred"}, "edited": false, "score": 0, "creation_date": 1574188709, "post_id": 58921709, "comment_id": 104140039, "body": "Thanks alot for bearing with me and helping me out! Cheers!"}, {"owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "reply_to_user": {"reputation": 433, "user_id": 1889231, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/50a2e63f6bfbc3050f8aa4f6bb5739ae?s=128&d=identicon&r=PG", "display_name": "morgred", "link": "https://stackoverflow.com/users/1889231/morgred"}, "edited": false, "score": 0, "creation_date": 1574194101, "post_id": 58921709, "comment_id": 104142503, "body": "On StackOverflow, you thank people by upvoting :) hope it worked for you now!"}], "tags": [], "owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "is_accepted": true, "score": 1, "last_activity_date": 1574184488, "last_edit_date": 1574184488, "creation_date": 1574105752, "answer_id": 58921709, "question_id": 58921309, "link": "https://stackoverflow.com/questions/58921309/why-cant-i-load-actual-data-in-the-expansion-panels-in-flutter-of-only-static/58921709#58921709", "title": "Why can&#39;t I load actual data in the expansion panels in flutter of &quot;Only static members can be accesed in initializers&quot;?", "body": "<p>Move this line to within the <code>build</code> method:</p>\n\n<pre><code>List&lt;ExpandableItem&gt; expansionPanels = generateExpansionPanels(widget.contracts);\n</code></pre>\n\n<p>Or do this in the <a href=\"https://api.flutter.dev/flutter/widgets/State/initState.html\" rel=\"nofollow noreferrer\">initState</a> method if you want it only done once:</p>\n\n<pre><code>class _FinancialTabContentState extends State&lt;FinancialTabContent&gt; {\n    List&lt;ExpandableItem&gt; expansionPanels;\n\n    @override\n    void initState() {\n        super.initState();\n        expansionPanels = generateExpansionPanels(widget.contracts);\n    }\n\n    @override\n    Widget build(BuildContext context) {...}\n}\n</code></pre>\n\n<p>Read the docs on <a href=\"https://api.flutter.dev/flutter/widgets/State-class.html\" rel=\"nofollow noreferrer\">State</a> which describe in detail the lifecycle of a Widget.</p>\n"}], "owner": {"reputation": 433, "user_id": 1889231, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/50a2e63f6bfbc3050f8aa4f6bb5739ae?s=128&d=identicon&r=PG", "display_name": "morgred", "link": "https://stackoverflow.com/users/1889231/morgred"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 58921709, "answer_count": 1, "score": 0, "last_activity_date": 1574184488, "creation_date": 1574104096, "last_edit_date": 1574104982, "question_id": 58921309, "link": "https://stackoverflow.com/questions/58921309/why-cant-i-load-actual-data-in-the-expansion-panels-in-flutter-of-only-static", "title": "Why can&#39;t I load actual data in the expansion panels in flutter of &quot;Only static members can be accesed in initializers&quot;?", "body": "<p>I looked at the official docs <a href=\"https://api.flutter.dev/flutter/material/ExpansionPanelList-class.html\" rel=\"nofollow noreferrer\">flutter expansion panels</a> as a reference to building my own. I'm having trouble making them work AND work with my data. I have tried passing some of the data my widget receives in its constructor to be used when the panel list is being generated. I hope this code fragments are enough, if not I can add more. </p>\n\n<p>Here is where the error pops up (when trying to reference widget.contracts)</p>\n\n<pre><code>class FinancialTabContent extends StatefulWidget {\n  final List&lt;Contract&gt; contracts;\n  final Person travelOfficer;\n\n  FinancialTabContent({this.contracts, this.travelOfficer});\n\n  @override\n  _FinancialTabContentState createState() =&gt; _FinancialTabContentState();\n}\n\nclass _FinancialTabContentState extends State&lt;FinancialTabContent&gt; {\n  List&lt;ExpandableItem&gt; expansionPanels = generateExpansionPanels(widget.contracts);  \n\n  @override\n  Widget build(BuildContext context) {\n...\n</code></pre>\n\n<p>This is what I intended to use to build the panel list, it's placed inside the _FinancialTabContentState</p>\n\n<pre><code>Widget _buildPanelList() {\n    return ExpansionPanelList(\n      expansionCallback: (int index, bool isExpanded) {\n        setState(() {\n          expansionPanels[index].isExpanded = !isExpanded;\n        });\n      },\n      children: expansionPanels.map&lt;ExpansionPanel&gt;((ExpandableItem item) {\n        return ExpansionPanel(\n          headerBuilder: (BuildContext context, bool isExpanded) {\n            ....\n          isExpanded: item.isExpanded,\n        );\n      }).toList(),\n    );\n</code></pre>\n\n<p>Here's the code for the expandable item</p>\n\n<pre><code>import 'contract.dart';\n\nclass ExpandableItem {\n  ExpandableItem({    \n    this.isExpanded = false,\n    this.panelData\n  });\n\n  bool isExpanded;\n  Contract panelData; \n}\n\nList&lt;ExpandableItem&gt; generateExpansionPanels(List&lt;Contract&gt; panelsData) {\n  return List.generate(panelsData.length, (int index) {\n    return ExpandableItem(\n      panelData: panelsData[index],\n    );\n  });\n}\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "edited": false, "score": 0, "creation_date": 1574105067, "post_id": 58921342, "comment_id": 104104355, "body": "Your amazing! There is a slight problem, and hopefully I can figure it out. But now the isSelected is not be handled properly, so its not removing from the list when I click it. But other that that, exactly what I was looking for!"}, {"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "reply_to_user": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "edited": false, "score": 1, "creation_date": 1574105317, "post_id": 58921342, "comment_id": 104104478, "body": "@Bnd10706 My guess is because the UI is now refreshing properly, you&#39;ve exposed a bug elsewhere in your code that you wouldn&#39;t have known about before. If it becomes an issue, it may warrant a separate question."}, {"owner": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "edited": false, "score": 0, "creation_date": 1574105385, "post_id": 58921342, "comment_id": 104104528, "body": "yep my guess too. Thank you for solving the first problem though!"}, {"owner": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "edited": false, "score": 0, "creation_date": 1574105948, "post_id": 58921342, "comment_id": 104104822, "body": "Ok, I think i found it, but it is based on your code. In your call back your setting the state of the list, but the isSelected from the Tag is not being saved. Is that something we can change in the call back?"}, {"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "reply_to_user": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "edited": false, "score": 1, "creation_date": 1574107678, "post_id": 58921342, "comment_id": 104105584, "body": "@Bnd10706 The signature of your existing callback is just passing a <code>List</code>. If you want to save the <code>isSelected</code>, change the signature to <code>void Function(List, bool)</code> and pass that variable as well, i.e. <code>widget.callback?.call(widget.list, widget.isSelected);</code> and make the necessary changes in the parent widget as well to handle the additional data."}, {"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "reply_to_user": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "edited": false, "score": 1, "creation_date": 1574107818, "post_id": 58921342, "comment_id": 104105660, "body": "On a separate note, you should only have final fields in a widget class. Any non-final fields are considered stateful, and as such they should go in the state class. But in reality, <code>Tag</code> doesn&#39;t even need to be stateful. You can have it be a <code>StatelessWidget</code> and pass the changes to the callback, which will update the <code>Tags</code> when the parent widget calls <code>setState</code>. The rule of thumb in Flutter is to have as few <code>StatefulWidget</code>s as possible."}, {"owner": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "edited": false, "score": 0, "creation_date": 1574108152, "post_id": 58921342, "comment_id": 104105858, "body": "THe problem is I am going to have hundreds of tags, and I wanted to avoid have hundreds of bool variables."}, {"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "reply_to_user": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "edited": false, "score": 1, "creation_date": 1574108307, "post_id": 58921342, "comment_id": 104105938, "body": "@Bnd10706 You could always have a <code>Map&lt;String, bool&gt;</code> instead of separate booleans. Or a <code>Map&lt;String, TagModel&gt;</code> with an entire <code>TagModel</code> class that stores all the info necessary for each tag. Then build the list of tags using a builder approach rather than manually creating each one."}, {"owner": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "edited": false, "score": 0, "creation_date": 1574108415, "post_id": 58921342, "comment_id": 104105986, "body": "This sounds like the better approach... but being so new to programming and Flutter, I would not know where to begin."}, {"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "reply_to_user": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "edited": false, "score": 1, "creation_date": 1574108577, "post_id": 58921342, "comment_id": 104106063, "body": "@Bnd10706 This is getting into proper state management techniques which you will want to learn eventually, but for just starting out and making little projects I&#39;m not sure I would worry about it just yet."}, {"owner": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "reply_to_user": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1574108753, "post_id": 58921342, "comment_id": 104106144, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/202598/discussion-between-bnd10706-and-abion47\">continue this discussion in chat</a>."}, {"owner": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "edited": false, "score": 0, "creation_date": 1574109470, "post_id": 58921342, "comment_id": 104106456, "body": "thank you again for all your advice, I asked you one more question in chat. Again, I appreciate it all! Given me lots of thought."}], "tags": [], "owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "is_accepted": true, "score": 1, "last_activity_date": 1574104234, "creation_date": 1574104234, "answer_id": 58921342, "question_id": 58921032, "link": "https://stackoverflow.com/questions/58921032/set-state-of-parent-widget-in-flutter/58921342#58921342", "title": "Set State of Parent Widget in Flutter", "body": "<p>The easiest way to get state changes to a parent or ancestor is via a callback method. That being said, you already define a <code>callback</code> field in the <code>Tag</code> class, but neither the build method in the parent widget nor the <code>_TagState</code> class is referencing it at all.</p>\n\n<p>All you should need to do is change the <code>_handleOnPressed</code> method to execute the callback:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>void _handleOnPressed() {\n  ...\n  widget.callback?.call(widget.list);\n}\n</code></pre>\n\n<p>and change the constructors for <code>Tag</code> in the parent widget to assign them:</p>\n\n<pre><code>Tag(\n  tag: \"#DigitalLife\",\n  isSelected: digitalSelected,\n  list: digitalHash,\n  callback: (list) =&gt; setState(() =&gt; digitalHash = list),\n),\n</code></pre>\n"}], "owner": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 411, "favorite_count": 0, "accepted_answer_id": 58921342, "answer_count": 1, "score": 0, "last_activity_date": 1574104234, "creation_date": 1574102830, "question_id": 58921032, "link": "https://stackoverflow.com/questions/58921032/set-state-of-parent-widget-in-flutter", "title": "Set State of Parent Widget in Flutter", "body": "<p>I am not sure I have built my code properly, but I was trying to save time on my first app project.</p>\n\n<p>I have a page where I will be generating several selection buttons that I want text added to a list when you push this button. I chose not to build a traditional button but instead it goes to another widget that I can control the state with.</p>\n\n<p>The problem i am having, is this selector button seems to be working fine. It changes and to verify it is being added to the list, I have it printing to the console and can see it.</p>\n\n<p>The problem is my display container is not updating when I select the button.</p>\n\n<p>I have tried a global key, but the problem is that since the buttons are getting generated, they share a global key. 1 button seems to be fine, I can pass the key along, but I am also limited in my knowledge of all this, so I could be doing something wrong.</p>\n\n<p>My current path to the code is the following.\nMain Page -> Categories -> Sub Categories -> Page(digital in this case) -> Tags(the buttons).</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:onlytagsprod/widgets/tag.dart';\n\nfinal digital = new GlobalKey&lt;DigitalState&gt;();\n\nclass Digital extends StatefulWidget {\n\n  Digital({ Key key }) : super(key: key);\n\n  @override\n  DigitalState createState() =&gt; DigitalState();\n}\n\nclass DigitalState extends State&lt;Digital&gt; {\n\n  final postRefresh = ChangeNotifier();\n\n  bool digitalSelected = false;\n  List digitalHash = new List();\n  String displays;\n\n  @override\n  void initState() {\n    super.initState();\n  }\n\n\n  callback() {\n    setState(() {\n    });\n  }\n\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n        backgroundColor: Color(0xff0E0E0F),\n        appBar: AppBar(\n          iconTheme: IconThemeData(\n            color: Color(0xffff9900),\n          ),\n          centerTitle: true,\n          backgroundColor: Colors.black,\n          title: Row(\n            mainAxisAlignment: MainAxisAlignment.center,\n            mainAxisSize: MainAxisSize.min,\n            children: &lt;Widget&gt;[\n              Text(\n                \"#\",\n                style: TextStyle(\n                    fontSize: 25,\n                    color: Color(0xffff9900),\n                    fontFamily: 'Dokyo'),\n              ),\n              Text(\n                \"digital\",\n                style: TextStyle(color: Colors.white, fontFamily: 'Dokyo'),\n              )\n            ],\n          ),\n        ),\n        body: Column(children: &lt;Widget&gt;[\n          Expanded(\n            flex: 3,\n            child: Container(\n                child: Row(\n                  children: &lt;Widget&gt;[\n//Display the List here*********************************************\n                for (var digitalHashs in digitalHash)\n                Text(\n                digitalHashs,\n                style: TextStyle(color: Colors.white, fontSize: 20))\n                  ],\n                ),\n                color: Colors.blue),\n          ),\n          Expanded(\n            flex: 6,\n            child: Container(\n              color: Colors.black,\n              child: ListView(\n                padding: EdgeInsets.fromLTRB(25, 5, 25, 5),\n                children: &lt;Widget&gt;[\n                  Tag(\n                    tag: \"#Digital\",\n                    isSelected: digitalSelected,\n                    list: digitalHash,\n                  ),\n                  Tag(\n                    tag: \"#DigitalLife\",\n                    isSelected: digitalSelected,\n                    list: digitalHash,\n                  ),\n                ],\n              ),\n            ),\n          )\n        ]));\n  }\n}\n</code></pre>\n\n<p>This display page i want to be able to add as many Tag options as I want.</p>\n\n<p>This is the Tag Page.</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:onlytagsprod/subpages/digital.dart';\n\nclass Tag extends StatefulWidget {\n  final String tag;\n  bool isSelected;\n  List list;\n  Function(List) callback;\n\n  Tag(\n      {Key key,\n        @required this.tag,\n        @required this.isSelected,\n        this.list,\n      this.callback})\n      : super(key: key);\n\n  @override\n  _TagState createState() =&gt; _TagState();\n}\n\nclass _TagState extends State&lt;Tag&gt; with SingleTickerProviderStateMixin {\n  AnimationController _animationController;\n\n  @override\n  void initState() {\n    super.initState();\n    _animationController =\n        AnimationController(vsync: this, duration: Duration(milliseconds: 300));\n  }\n\n  @override\n  void dispose() {\n    super.dispose();\n    _animationController.dispose();\n  }\n\n  Widget build(BuildContext context) {\n    return Container(\n      margin: EdgeInsets.fromLTRB(0, 5, 0, 5),\n      height: 50,\n      decoration: BoxDecoration(\n          color: widget.isSelected ? Color(0xffff9900) : Colors.black,\n          border: Border.all(color: Colors.white),\n          borderRadius: BorderRadius.circular(10)),\n      child: InkWell(\n        onTap: () {\n          _handleOnPressed();\n        },\n        child: Row(\n          mainAxisAlignment: MainAxisAlignment.spaceBetween,\n          children: &lt;Widget&gt;[\n            Container(\n                padding: EdgeInsets.fromLTRB(20, 0, 0, 0),\n                alignment: Alignment.centerLeft,\n                child: Text(\n                  widget.tag,\n                  style: TextStyle(\n                      fontSize: 20,\n                      color: widget.isSelected ? Colors.black : Colors.white,\n                      fontFamily: 'Dokyo'),\n                )),\n            Container(\n                padding: EdgeInsets.fromLTRB(0, 0, 20, 0),\n                child: AnimatedIcon(\n                  icon: AnimatedIcons.home_menu,\n                  progress: _animationController,\n                  color: widget.isSelected ? Colors.black : Colors.white,\n                ))\n          ],\n        ),\n      ),\n    );\n  }\n\n  void _handleOnPressed() {\n    setState(() {\n      widget.isSelected = !widget.isSelected;\n      widget.isSelected\n          ? _animationController.forward()\n          : _animationController.reverse();\n      widget.isSelected ? widget.list.add(widget.tag) : widget.list.remove(widget.tag);\n      print(widget.list);\n    });\n  }\n}\n</code></pre>\n\n<p>The code has gotten a bit sloppy since I have tried every way I know how to address the state change... so I am aware of the unneeded stuff.</p>\n\n<p>I am just at my newbie wits end</p>\n"}, {"tags": ["dart", "palindrome"], "comments": [{"owner": {"reputation": 46, "user_id": 3267487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FqcpZ.png?s=128&g=1", "display_name": "J Mack", "link": "https://stackoverflow.com/users/3267487/j-mack"}, "reply_to_user": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 0, "creation_date": 1574104840, "post_id": 58920744, "comment_id": 104104225, "body": "Oh, now i get it. THANKS"}], "answers": [{"tags": [], "owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "is_accepted": false, "score": 2, "last_activity_date": 1574105216, "creation_date": 1574105216, "answer_id": 58921564, "question_id": 58920744, "link": "https://stackoverflow.com/questions/58920744/dart-for-loop-if-else-boolean-return/58921564#58921564", "title": "Dart &quot;For Loop&quot; &quot;If Else&quot; &quot;Boolean return&quot;", "body": "<p>Your misunderstanding isn't in the code, but in what a \"palindrome\" is. A palindrome is a word that is spelled the same forwards and reversed. For example, if you took the word \"racecar\" and reversed the order of the letters, the result would be \"racecar\", i.e. the exact same word.</p>\n\n<p>The code returns true for \"anna\" because this is still true - \"anna\" backward is again \"anna\". It returns false for \"cat\" because spelled backward it is \"tac\", which is a completely different word thus demonstrating that \"cat\" is not a palindrome. (Likewise, \"caac\" backward is \"caac\" and thus a palindrome, and \"cats\" backward is \"stac\" and thus not a palindrome.)</p>\n\n<p>The way the code works is it compares every letter in the word with the letter in the mirrored position. For example, the mirrored position of the first letter is the last letter, the second letter is the second-to-last letter, and so on. If the letters are the same, the loop continues on. If it reaches the end and every letter compared is the same, then the word is spelled the same forward and backward, meaning it's a palindrome.</p>\n\n<pre><code>V       \nracecar  ==Same letter, continuing==\n      ^ \n\n V\nracecar  ==Same letter, continuing==\n     ^\n\n  V\nracecar  ==Same letter, continuing==\n    ^\n\n   V\nracecar  ==Same letter, continuing==\n   ^\n\n==The end has been reached, the word is a palindrome, return true==\n</code></pre>\n\n<p>If however, it ever reaches a point where a letter and the letter in the opposite position are not the same, that means the word would not be spelled the same backward as it is forward, which means it is not a palindrome.</p>\n\n<pre><code>V\nabcaa  ==Same letter, continuing==\n    ^\n\n V\nabcaa  ==Different letter, the word is not a palindrome, return false==\n   ^\n</code></pre>\n\n<p>(The reason in the loop it only goes up to <code>length/2</code> is because once the check passes the halfway mark, it will start comparing letters it already compared. i.e. in \"abcde\", comparing \"b\" to \"d\" is the same as comparing \"d\" to \"b\", so the loop cuts out halfway to avoid unnecessary comparisons.)</p>\n"}], "owner": {"reputation": 46, "user_id": 3267487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FqcpZ.png?s=128&g=1", "display_name": "J Mack", "link": "https://stackoverflow.com/users/3267487/j-mack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574105216, "creation_date": 1574101519, "last_edit_date": 1574102320, "question_id": 58920744, "link": "https://stackoverflow.com/questions/58920744/dart-for-loop-if-else-boolean-return", "title": "Dart &quot;For Loop&quot; &quot;If Else&quot; &quot;Boolean return&quot;", "body": "<p>To call my self a noob would make noobs look bad... lets have a look at the code first\n...</p>\n\n<pre><code>bool isPalindrome(String s){  \n  for(int i = 0; i &lt; s.length/2;i++){\n    if(s[i] != s[(s.length-1) -i])\n      return false;        \n  }  \n  return true;  \n}\n\nmain() {\n  print(isPalindrome(\"anna\"));\n  print(isPalindrome(\"cat\"));\n}\n</code></pre>\n\n<p>...\nResults true - false</p>\n\n<p>I came across that in a list of Dart examples for \"beginners\" what is <code>s.length</code> even if i change the number of letters in <code>\"cat\"</code> to <code>\"cats\"</code> it's \"false\", so it's not counting the number of letters but <code>\"caac\"</code> is \"true\".\nCan someone please give an in depth explanation of what that code is doing.</p>\n"}, {"tags": ["flutter", "dart", "flutter-layout"], "owner": {"reputation": 21, "user_id": 12393070, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-StROaomYE8E/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reUEdpi-3B0UDx_QpHt8F9jg_DkxQ/photo.jpg?sz=128", "display_name": "Jo&#227;o Henrique Lopes", "link": "https://stackoverflow.com/users/12393070/jo%c3%a3o-henrique-lopes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 311, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574112483, "creation_date": 1574099573, "last_edit_date": 1574112483, "question_id": 58920338, "link": "https://stackoverflow.com/questions/58920338/setting-boundaries-for-matrix-gesture-detector", "title": "Setting boundaries for matrix-gesture-detector", "body": "<p>I'm using <a href=\"https://pub.dev/packages/matrix_gesture_detector\" rel=\"nofollow noreferrer\">this</a> package for pinch-zoom and scrolling across a widget, in this case I'm using a GridView.count.</p>\n\n<p>I want to make it so there are boundaries on each side of the widget, so the user may not scroll or zoom out-of-bounds.</p>\n\n<p>I managed to make it work so it doesn't zoom out of bounds, and limited the scroll in the left, and the top side.\nHowever, I'm having trouble limiting the right and bottom bounds.</p>\n\n<p>Here's the code: </p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:matrix_gesture_detector/matrix_gesture_detector.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Flutter Demo',\n      theme: ThemeData(\n        primarySwatch: Colors.blue,\n      ),\n      home: TransformDemo(),\n    );\n  }\n}\n\nclass TransformDemo extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    final ValueNotifier&lt;Matrix4&gt; notifier = ValueNotifier(Matrix4.identity());\n    return Scaffold(\n      backgroundColor: Colors.grey,\n      appBar: AppBar(\n        title: Text('Transform Demo'),\n      ),\n      body: MatrixGestureDetector(\n        onMatrixUpdate: (m, tm, sm, rm) {\n          double x = 0;\n          double y = 0;\n          if (m.getTranslation()[0] &lt; 0) {\n            x = m.getTranslation()[0];\n          } \n          if (m.getTranslation()[1] &lt; 0) {\n            y = m.getTranslation()[1];\n          }\n          m.setTranslationRaw(x, y, 0);\n          if (m.determinant() &gt; 0.99) {\n            notifier.value = m;\n          } else {\n            m.setIdentity();\n            notifier.value.setIdentity();\n          }\n        },\n        shouldRotate: false,\n        child: AnimatedBuilder(\n          animation: notifier,\n          builder: (ctx, child) {\n            return Transform(\n              transform: notifier.value,\n              child: new Container(\n                  color: Colors.black,\n                  padding: EdgeInsets.all(30),\n                  child: Column(\n                    mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n                    children: &lt;Widget&gt;[...getRows()],\n                  )),\n            );\n          },\n        ),\n      ),\n    );\n  }\n\n  getRows() {\n    List&lt;Widget&gt; list = new List&lt;Widget&gt;();\n    for (var i = 0; i &lt; 10; i++) {\n      list.add(new Row(\n        mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n        children: &lt;Widget&gt;[...getRow(i)],\n      ));\n    }\n    return list;\n  }\n\n  getRow(int i) {\n    List&lt;Widget&gt; list = new List&lt;Widget&gt;();\n    for (var j = 0; j &lt; 10; j++) {\n      list.add(Container(\n          color: Colors.red,\n          child: new Text(i.toString() + \",\" + j.toString())));\n    }\n    return list;\n  }\n}\n\n</code></pre>\n\n<p>I had trouble because the amount of translation on the X and Y axis depends on the amount of zoom, what can I do to make this work?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 2073, "user_id": 4138841, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/11bu4.jpg?s=128&g=1", "display_name": "Linxy", "link": "https://stackoverflow.com/users/4138841/linxy"}, "edited": false, "score": 0, "creation_date": 1574100176, "post_id": 58919964, "comment_id": 104102182, "body": "look at Map.fromIterable()"}, {"owner": {"reputation": 133, "user_id": 10601911, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6G2kDM4T4wY/AAAAAAAAAAI/AAAAAAAAABM/nixm9TBwmhQ/photo.jpg?sz=128", "display_name": "Landy Cuadra", "link": "https://stackoverflow.com/users/10601911/landy-cuadra"}, "reply_to_user": {"reputation": 2073, "user_id": 4138841, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/11bu4.jpg?s=128&g=1", "display_name": "Linxy", "link": "https://stackoverflow.com/users/4138841/linxy"}, "edited": false, "score": 0, "creation_date": 1574113166, "post_id": 58919964, "comment_id": 104108054, "body": "I tried but it returns a instance of list"}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 10601911, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6G2kDM4T4wY/AAAAAAAAAAI/AAAAAAAAABM/nixm9TBwmhQ/photo.jpg?sz=128", "display_name": "Landy Cuadra", "link": "https://stackoverflow.com/users/10601911/landy-cuadra"}, "edited": false, "score": 1, "creation_date": 1574112797, "post_id": 58920356, "comment_id": 104107902, "body": "I had find a way to do it but yours look much cleaner I&#39;ll leave it here:  <code>&quot;Egresos&quot;: [         for(ingreso_Egreso_Dummy i in egresos_Dummies){           &quot;tipo&quot;:i.tipo.toString(),           &quot;monto&quot;:i.monto,           &quot;moneda&quot;:i.moneda,           &quot;descripcion&quot;:i.descripcion         }       ],</code>  Thanks for your, answer, just edit a letter, bad written in &#39;monedo&#39; there goes an &#39;a&#39; but I&#39;ll accept your answer"}], "tags": [], "owner": {"reputation": 1293, "user_id": 1846395, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/rzduR.jpg?s=128&g=1", "display_name": "dubace", "link": "https://stackoverflow.com/users/1846395/dubace"}, "is_accepted": true, "score": 1, "last_activity_date": 1574099655, "creation_date": 1574099655, "answer_id": 58920356, "question_id": 58919964, "link": "https://stackoverflow.com/questions/58919964/how-to-insert-a-listclass-into-a-mapstring-dynamic-in-dart/58920356#58920356", "title": "How to insert a List&lt;Class&gt; into a Map&lt;String, dynamic&gt; in dart?", "body": "<pre><code>// camelCaseStyle is a standard for class names for Dart     \nclass IngresoEgresoDummy { \n  int tipo;\n  String monto;\n  String moneda;\n  String descripcion;\n  Map&lt;String, dynamic&gt; toJson(){\n    return {\n      'tipo': tipo,\n      'monto': monto,\n      'monedo': moneda,\n      'descripcion': descripcion\n    };\n  }\n}\n</code></pre>\n\n<p>and after that</p>\n\n<pre><code>List&lt;IngresoEgresoDummy&gt; listaingresos= List();\n\nMap&lt;String, dynamic&gt; body = {\n// all your params\n  \"Ingresos\": listaingresos.map((ingreso) =&gt; ingreso.toJson()).toList()\n// all your params\n};\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 10601911, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6G2kDM4T4wY/AAAAAAAAAAI/AAAAAAAAABM/nixm9TBwmhQ/photo.jpg?sz=128", "display_name": "Landy Cuadra", "link": "https://stackoverflow.com/users/10601911/landy-cuadra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 885, "favorite_count": 0, "accepted_answer_id": 58920356, "answer_count": 1, "score": 2, "last_activity_date": 1574099655, "creation_date": 1574097896, "last_edit_date": 1574097936, "question_id": 58919964, "link": "https://stackoverflow.com/questions/58919964/how-to-insert-a-listclass-into-a-mapstring-dynamic-in-dart", "title": "How to insert a List&lt;Class&gt; into a Map&lt;String, dynamic&gt; in dart?", "body": "<p>My problem is that I have a list of the following class:</p>\n\n<pre><code>class ingreso_Egreso_Dummy{\n  int tipo;\n  String monto;\n  String moneda;\n  String descripcion;\n}\n</code></pre>\n\n<p>then I want to insert the data into a Map which later will be converted into a json and which I am creating like this:</p>\n\n<pre><code>    Map&lt;String, dynamic&gt; body;\n        body = {\n          \"Cod_Prom\": \"01\",\n          \"CodCli\": \"003526\",\n          \"Status\": _index_status.toString(),\n          \"NOMBRE\": controller_nombre.text,\n          \"APELLIDOS\": controller_apellidos.text,\n          \"solicitud\":[{\n            \"Cod_Solicit\": 1.toString(),\n            \"Fecha\": DateFormat(\"y-d-M\").format(DateTime.now()),\n            \"Status_Solicit\": \"E\",}],\n          \"prestamo\":[{\n            \"Monto_Solicit\":controller_monto_solic.text,\n            \"Plazo\":controller_plazo.text,\n            \"Cod_TipoPlazo\":_index_tipoplazo.toString(),\n            \"Nombre_Resp\":controller_nombreresp.text,\n            \"Telf_Resp\":controller_telefonoresp.text,}],\n          \"Ingresos\": [{\n    //// here I want create a loop that returns a map for each value\n   //// of the list like this:\n\n   //// \"Descripcion\": Listaingresos[i].descripcion;\n\n            })\n          }]\n        };\n</code></pre>\n\n<p>Every help is very appreciated, thank you.</p>\n"}, {"tags": ["listview", "flutter", "dart", "reactive-programming"], "answers": [{"comments": [{"owner": {"reputation": 1012, "user_id": 3891891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/638598389/picture?type=large", "display_name": "PMT", "link": "https://stackoverflow.com/users/3891891/pmt"}, "edited": false, "score": 1, "creation_date": 1574104110, "post_id": 58920958, "comment_id": 104103883, "body": "It works! the solution was to add the key because indeed my IdeaItem was also Stateful! Amazing!"}], "tags": [], "owner": {"reputation": 1293, "user_id": 1846395, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/rzduR.jpg?s=128&g=1", "display_name": "dubace", "link": "https://stackoverflow.com/users/1846395/dubace"}, "is_accepted": true, "score": 4, "last_activity_date": 1574102496, "creation_date": 1574102496, "answer_id": 58920958, "question_id": 58919934, "link": "https://stackoverflow.com/questions/58919934/flutter-listview-doesnt-refresh-ui-with-setstate-although-itemcount-and-atta/58920958#58920958", "title": "Flutter ListView doesn&#39;t refresh UI with setState(), although itemCount and attached list update correctly", "body": "<p>I can see only two possible options for why this happens.</p>\n\n<p>First one is obvious, your <code>IdeasDB.db.deleteIdea(idea.url);</code> doesn't delete correct idea from DB;</p>\n\n<p>The second one is less obvious, it's because your Element Tree couldn't recognize what's a widget you are trying to delete. It happens only with Stateful Widgets as your <code>IdeaItem</code> could be.</p>\n\n<p>Solution then is to use <code>key</code> attribute for your <code>IdeaItem</code> widget\nlike this:</p>\n\n<pre><code>ListView.builder(\n  itemCount: _favorites.length,\n  itemBuilder: (context, index) {\n    final idea = _favorites[index];\n    return IdeaItem(\n      key: ValueKey(idea.url) // or UniqueKey()\n      idea: idea,\n      onFavoriteToggle: () =&gt; deleteFromFavorites(idea),\n    );\n  },\n),\n</code></pre>\n\n<p>and in your <code>IdeaItem</code> widget you have to pass that key to your parent <code>Stateful widget</code> like in this example:</p>\n\n<pre><code>class IdeaItem extends StatefulWidget {\n  final Idea idea;\n  Function onFavoriteToggle;\n\n  IdeaItem({Key key, this.idea, this.onFavoriteToggle}) : super(key: key);\n\n  @override\n  _IdeaItemState createState() =&gt; _IdeaItemState();\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1012, "user_id": 3891891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/638598389/picture?type=large", "display_name": "PMT", "link": "https://stackoverflow.com/users/3891891/pmt"}, "edited": false, "score": 2, "creation_date": 1574104547, "post_id": 58921196, "comment_id": 104104087, "body": "The solution was to pass the &#39;key&#39; parameter. I upvote because the optimise solution removing unnecessary waiting! Thanks!"}], "tags": [], "owner": {"reputation": 898, "user_id": 12267564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jV86X.png?s=128&g=1", "display_name": "lazos", "link": "https://stackoverflow.com/users/12267564/lazos"}, "is_accepted": false, "score": 3, "last_activity_date": 1584311207, "last_edit_date": 1584311207, "creation_date": 1574103618, "answer_id": 58921196, "question_id": 58919934, "link": "https://stackoverflow.com/questions/58919934/flutter-listview-doesnt-refresh-ui-with-setstate-although-itemcount-and-atta/58921196#58921196", "title": "Flutter ListView doesn&#39;t refresh UI with setState(), although itemCount and attached list update correctly", "body": "<p>Try to change </p>\n\n<pre><code>onFavoriteToggle: () =&gt; deleteFromFavorites(index),\n</code></pre>\n\n<p>and then </p>\n\n<pre><code>  void deleteFromFavorites( int index) async {\n    await IdeasDB.db.deleteIdea(idea.url);\n    setState(() {\n      this._favorites.removeAt(index);\n    });\n  }\n</code></pre>\n\n<p>See if it works. If yes, there is probably error on <code>deleteIdea()</code>.</p>\n\n<p>Also, you know which item should be deleted, so you don't need to await to reload the List from your db. <code>await IdeasDB.db.ideas();</code></p>\n\n<p>If you want to be sure you can wrap your code with Try catch</p>\n\n<pre><code>  void deleteFromFavorites(int index) async {\n    try {\n      await IdeasDB.db.deleteIdea(idea.url);\n      setState(() {\n        this._favorites.removeAt(index);\n      });\n    } catch (_) {\n      print('ERROR');\n    }\n  }\n</code></pre>\n"}], "owner": {"reputation": 1012, "user_id": 3891891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/638598389/picture?type=large", "display_name": "PMT", "link": "https://stackoverflow.com/users/3891891/pmt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2739, "favorite_count": 0, "accepted_answer_id": 58920958, "answer_count": 2, "score": 8, "last_activity_date": 1584311207, "creation_date": 1574097734, "last_edit_date": 1574099517, "question_id": 58919934, "link": "https://stackoverflow.com/questions/58919934/flutter-listview-doesnt-refresh-ui-with-setstate-although-itemcount-and-atta", "title": "Flutter ListView doesn&#39;t refresh UI with setState(), although itemCount and attached list update correctly", "body": "<p>I see a lot of people with very similar problems, but nothing I try works.</p>\n\n<h2><strong>CONTEXT</strong></h2>\n\n<p>I have a list of favorited ideas. Whenever I click in a button inside the ideaItem, it should get removed from the list.</p>\n\n<h2><strong>PROBLEM</strong></h2>\n\n<p>When I delete any ideaItem, the last one from the screen gets always removed, instead of the one I clicked on. My FavoriteIdeasListView seems to update correctly the items count, this means that the attached List works, but the UI is not redrawing the ideaItems.</p>\n\n<h2><strong>WHAT I HAVE TRIED</strong></h2>\n\n<ul>\n<li><p>At the beginning I had the delete functionality directly on ideaItem, I read I should do a VoidCallback and handle deletion from the List itself, so it would notice the change. It didn't work</p></li>\n<li><p>I also tried with a Stream Builder, so the stream would notify the ListView to refresh. Also it didn't work</p></li>\n<li><p>I try calling SetState all the time and it's not reloading, it only builds the list at the beginning on the initialState.</p></li>\n</ul>\n\n<pre><code>\n    class FavoritesList extends StatefulWidget {\n      FavoritesList({Key key}) : super(key: key);\n\n      @override\n      _FavoritesListState createState() =&gt; _FavoritesListState();\n    }\n\n    class _FavoritesListState extends State&lt;FavoritesList&gt; {\n\n      List&lt;Idea&gt; _favorites = [];\n\n      @override\n      void initState() {\n        super.initState();\n        favoritesInitialState();\n      }\n\n      Future &lt;void&gt; favoritesInitialState() async {\n        List&lt;Idea&gt; ideas = await IdeasDB.db.ideas();\n        setState(() {\n          _favorites = ideas;\n        });\n      }\n\n      @override\n      Widget build(BuildContext context) {\n        return Scaffold(\n            appBar: AppBar(\n                title: Text('Favorites')),\n            body: Center(\n              child: ListView.builder(\n                itemCount: _favorites.length,\n                itemBuilder: (context, index) {\n                  final idea = _favorites[index];\n                  return IdeaItem(\n                    idea: idea,\n                    onFavoriteToggle: () =&gt; deleteFromFavorites(idea),\n                  );\n                },\n              ),\n            )\n        );\n      }\n\n      void deleteFromFavorites(Idea idea) async {\n        await IdeasDB.db.deleteIdea(idea.url);\n        List&lt;Idea&gt; newIdeas = await IdeasDB.db.ideas();\n        setState(() {\n          this._favorites = newIdeas;\n        });\n      }\n    }\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 10350938, "user_type": "registered", "profile_image": "https://graph.facebook.com/2113869371957491/picture?type=large", "display_name": "Sankha Jayalath", "link": "https://stackoverflow.com/users/10350938/sankha-jayalath"}, "edited": false, "score": 0, "creation_date": 1574100838, "post_id": 58920282, "comment_id": 104102474, "body": "Thanks for the reply. But it doesn&#39;t work for me. Still getting null."}, {"owner": {"reputation": 1293, "user_id": 1846395, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/rzduR.jpg?s=128&g=1", "display_name": "dubace", "link": "https://stackoverflow.com/users/1846395/dubace"}, "reply_to_user": {"reputation": 25, "user_id": 10350938, "user_type": "registered", "profile_image": "https://graph.facebook.com/2113869371957491/picture?type=large", "display_name": "Sankha Jayalath", "link": "https://stackoverflow.com/users/10350938/sankha-jayalath"}, "edited": false, "score": 0, "creation_date": 1574101100, "post_id": 58920282, "comment_id": 104102580, "body": "I tested it and it worked well for me. Please check if you use the last version of a library in your pubspec.yaml <code>flutter_multiselect: 0.4.0</code> If you have the correct version, please do <code>flutter clean</code> and <code>flutter pub get</code> again and if it still wouldn&#39;t work, then can you share the output of <code>flutter doctor -v</code> and add code of the widget that use <code>MultiSelect</code>?"}], "tags": [], "owner": {"reputation": 1293, "user_id": 1846395, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/rzduR.jpg?s=128&g=1", "display_name": "dubace", "link": "https://stackoverflow.com/users/1846395/dubace"}, "is_accepted": false, "score": 2, "last_activity_date": 1574099320, "creation_date": 1574099320, "answer_id": 58920282, "question_id": 58919598, "link": "https://stackoverflow.com/questions/58919598/how-to-save-values-selected-from-a-flutter-multiselect-widget-in-to-a-list/58920282#58920282", "title": "How to save values selected from a flutter multiselect widget in to a list", "body": "<p>You can get your last selected values with <code>change</code> callback function as a parameter of <code>MultiSelect</code> widget</p>\n\n<pre><code>List&lt;int&gt; selectedValues = [];\n\nMultiSelect(\n            autovalidate: false,\n            titleText: \"title\",\n            validator: (value) {\n              if (value == null) {\n                return 'Please select one or more option(s)';\n              }\n            },\n            errorText: 'Please select one or more option(s)',\n            dataSource: [\n              {\n                \"display\": \"Australia\",\n                \"value\": 1,\n              },\n              {\n                \"display\": \"Canada\",\n                \"value\": 2,\n              },\n              {\n                \"display\": \"India\",\n                \"value\": 3,\n              },\n              {\n                \"display\": \"United States\",\n                \"value\": 4,\n              }\n            ],\n            textField: 'display',\n            valueField: 'value',\n            filterable: true,\n            required: true,\n            value: null,\n            change: (values){\n              selectedValues = values;\n              print(selectedValues);\n            },\n          ),\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 10350938, "user_type": "registered", "profile_image": "https://graph.facebook.com/2113869371957491/picture?type=large", "display_name": "Sankha Jayalath", "link": "https://stackoverflow.com/users/10350938/sankha-jayalath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1826, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574099320, "creation_date": 1574096486, "last_edit_date": 1574097958, "question_id": 58919598, "link": "https://stackoverflow.com/questions/58919598/how-to-save-values-selected-from-a-flutter-multiselect-widget-in-to-a-list", "title": "How to save values selected from a flutter multiselect widget in to a list", "body": "<p>I have used this flutter package \"multiselect\" in my flutter project to select multiple data from a dropdown.</p>\n\n<pre><code>List _fines;\n\nMultiSelect(\n            autovalidate: false,\n            titleText: \"Fine list\",\n            validator: (value) {\n              if (value == null) {\n                return 'Please select one or more option(s)';\n              }\n            },\n            errorText: 'Please select one or more option(s)',\n            dataSource: [\n              {\"display\": \"Fine No 1\", \"index\": 1, \"value\": 5000},\n              {\"display\": \"Fine no 2\", \"index\": 2, \"value\": 2500},\n              {\"display\": \"Fine no 3\", \"index\": 3, \"value\": 1000},\n              {\"display\": \"Fine no 4\", \"index\": 4, \"value\": 500}\n            ],\n            textField: 'display',\n            valueField: 'index',\n            filterable: true,\n            required: true,\n            value: null,\n            onSaved: (value) {\n              setState(() {\n                  _fines = value;\n                });\n\n            })\n</code></pre>\n\n<p>I cannot save data into the list. After the on saved it says _fines list is null. Thanks for your time.</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 283, "user_id": 10197813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda6bac7254a3d80b6ad672e0be76c2e?s=128&d=identicon&r=PG&f=1", "display_name": "Damandroid", "link": "https://stackoverflow.com/users/10197813/damandroid"}, "edited": false, "score": 0, "creation_date": 1574158067, "post_id": 58929292, "comment_id": 104122225, "body": "Doesn&#39;t  User user = Provider.of&lt;UserData&gt;(context).getUser() means the same as your answer (MyState = UserData)? What role does Future.Delayed plays? Please elaborate so I can learn something from it"}, {"owner": {"reputation": 1382, "user_id": 1032201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jR2J7.jpg?s=128&g=1", "display_name": "rstrelba", "link": "https://stackoverflow.com/users/1032201/rstrelba"}, "reply_to_user": {"reputation": 283, "user_id": 10197813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda6bac7254a3d80b6ad672e0be76c2e?s=128&d=identicon&r=PG&f=1", "display_name": "Damandroid", "link": "https://stackoverflow.com/users/10197813/damandroid"}, "edited": false, "score": 0, "creation_date": 1574202457, "post_id": 58929292, "comment_id": 104146110, "body": "The role is to obtain correct context inside of Future.delayed"}, {"owner": {"reputation": 283, "user_id": 10197813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda6bac7254a3d80b6ad672e0be76c2e?s=128&d=identicon&r=PG&f=1", "display_name": "Damandroid", "link": "https://stackoverflow.com/users/10197813/damandroid"}, "edited": false, "score": 0, "creation_date": 1574287408, "post_id": 58929292, "comment_id": 104183224, "body": "I tried it and it does not work. I am getting the same error unfortunately"}], "tags": [], "owner": {"reputation": 1382, "user_id": 1032201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jR2J7.jpg?s=128&g=1", "display_name": "rstrelba", "link": "https://stackoverflow.com/users/1032201/rstrelba"}, "is_accepted": false, "score": 0, "last_activity_date": 1574150954, "creation_date": 1574150954, "answer_id": 58929292, "question_id": 58919053, "link": "https://stackoverflow.com/questions/58919053/flutter-throws-error-when-context-is-passed-to-a-provider-from-the-init-method/58929292#58929292", "title": "Flutter throws error when context is passed to a Provider from the init method", "body": "<p>Did you tried to get context this way?</p>\n\n<pre><code>Future.delayed(Duration.zero, () {\n      var myState = Provider.of&lt;MyState&gt;(context);\n.......\n    });\n</code></pre>\n"}], "owner": {"reputation": 283, "user_id": 10197813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda6bac7254a3d80b6ad672e0be76c2e?s=128&d=identicon&r=PG&f=1", "display_name": "Damandroid", "link": "https://stackoverflow.com/users/10197813/damandroid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574150954, "creation_date": 1574094670, "last_edit_date": 1574112522, "question_id": 58919053, "link": "https://stackoverflow.com/questions/58919053/flutter-throws-error-when-context-is-passed-to-a-provider-from-the-init-method", "title": "Flutter throws error when context is passed to a Provider from the init method", "body": "<p>I have a MainScreen (stateful) with the following method:</p>\n\n<pre><code>@override\n  void initState() {\n    super.initState();\n    WidgetsBinding.instance\n        .addPostFrameCallback((_)  async {\n          loadFirebaseUser(context);\n        });\n  }\n</code></pre>\n\n<p>My 'loadFirebaseUser' method is in another file called Constants.dart which can be used from any screen.\nThe function is as follows:</p>\n\n<pre><code>Future&lt;bool&gt; loadFirebaseUser(BuildContext context) async {\n  Auth _auth = Auth();\n  FirebaseUser cUser = await _auth.currentUser();\n  if (cUser.isEmailVerified) {\n    DocumentSnapshot snapshot = await Firestore.instance\n        .collection('Profile')\n        .document(cUser.uid)\n        .get();\n    if (snapshot.data != null) {\n      User user = Provider.of&lt;UserData&gt;(context).getUser();\n      user = User.fromMap(snapshot);\n      Provider.of&lt;UserData&gt;(context).setUser(user);\n      return true;\n    } else {\n      return false;\n    }\n  }\n  return false;\n}\n</code></pre>\n\n<p>I am getting the follwing error when this code is executed:</p>\n\n<pre><code>Unhandled Exception: Looking up a deactivated widget's ancestor is unsafe.\n</code></pre>\n\n<p>Needless to say that as result of this the user is not getting loaded. The error points to the following line:</p>\n\n<pre><code>User user = Provider.of&lt;UserData&gt;(context).getUser();\n</code></pre>\n\n<p>I want the 'loadFirebaseUSer' function to execute automatically and not on any button click, so this is the only place I know to place this code. Is there a way to achieve this differently? Thanks</p>\n"}, {"tags": ["flutter", "dart", "flutter-animation"], "answers": [{"tags": [], "owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "is_accepted": true, "score": 2, "last_activity_date": 1574094932, "last_edit_date": 1574094932, "creation_date": 1574094514, "answer_id": 58919001, "question_id": 58918647, "link": "https://stackoverflow.com/questions/58918647/animation-with-streambuilder/58919001#58919001", "title": "Animation with StreamBuilder", "body": "<p>This is totally fine because <code>build</code> is actually <strong>not</strong> called by you! It is always called by the framework, which is why it will not be called more than 60 Hz.<br>\nThis is true because <code>StreamBuilder</code> calls <a href=\"https://api.flutter.dev/flutter/widgets/State/setState.html\" rel=\"nofollow noreferrer\"><code>State.setState</code></a> internally, which does the following:</p>\n\n<blockquote>\n  <p>Calling <a href=\"https://api.flutter.dev/flutter/widgets/State/setState.html\" rel=\"nofollow noreferrer\">setState</a> notifies the framework that the internal state of this object has changed in a way that might impact the user interface in this subtree, which causes the framework to schedule a <a href=\"https://api.flutter.dev/flutter/widgets/State/build.htmlhttps://api.flutter.dev/flutter/widgets/State/build.html\" rel=\"nofollow noreferrer\">build</a> for this <a href=\"https://api.flutter.dev/flutter/widgets/State-class.html\" rel=\"nofollow noreferrer\">State</a> object.</p>\n</blockquote>\n\n<p>If you want more fine-grained control, you can create your own <a href=\"https://api.flutter.dev/flutter/rendering/RenderObject-class.html\" rel=\"nofollow noreferrer\"><code>RenderObject</code></a> and call <a href=\"https://api.flutter.dev/flutter/rendering/RenderObject/markNeedsPaint.html\" rel=\"nofollow noreferrer\"><code>markNeedsPaint</code></a> or <a href=\"https://api.flutter.dev/flutter/rendering/RenderObject/markNeedsLayout.html\" rel=\"nofollow noreferrer\"><code>markNeedsLayout</code></a> whenever you need it based on <a href=\"https://api.flutter.dev/flutter/gestures/GestureRecognizer-class.html\" rel=\"nofollow noreferrer\"><code>GestureRecognizer</code></a>s.</p>\n"}], "owner": {"reputation": 265, "user_id": 12310803, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cS_J_AuY7uo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re7cLjD50Bz-QYa_3X-SK15L4pecg/photo.jpg?sz=128", "display_name": "justAnotherOverflowUser", "link": "https://stackoverflow.com/users/12310803/justanotheroverflowuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 58919001, "answer_count": 1, "score": 2, "last_activity_date": 1574094932, "creation_date": 1574093216, "last_edit_date": 1574094553, "question_id": 58918647, "link": "https://stackoverflow.com/questions/58918647/animation-with-streambuilder", "title": "Animation with StreamBuilder", "body": "<h3>Project</h3>\n\n<p>Hi,\nI have created with flutter a simple app that changes the height of a container with a streambuilder based on user vertical drag.</p>\n\n<p>So because user input updates are very fast, this force the streambuider to rebuild multiple times, creating the effect of an animation.</p>\n\n<h3>Code</h3>\n\n<pre><code>    final StreamController streamController = StreamController&lt;double&gt;();\n    double height = 0.0;\n\n    StreamBuilder(\n      initialData: 0.0,\n      stream: streamController.stream,\n      builder: (context, snapshot) {\n        return Container(\n          height: snapshot.data,\n        );\n      },\n    ),\n\n     ....\n\n     height += (dragUpdateDY);\n     streamController.add(height);\n</code></pre>\n\n<h3>Problem</h3>\n\n<p>Despite code is working as intended, I keep thinking that this is not a good solution because it forces the UI to rebuild an unpredictable amount of time in a second, maybe even beyond 60 times, exceeding display refresh rate.</p>\n\n<p>Is there a better way?</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1574087831, "post_id": 58916811, "comment_id": 104095422, "body": "I think that you should use <code>onPanUpdate</code> instead."}, {"owner": {"reputation": 265, "user_id": 12310803, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cS_J_AuY7uo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re7cLjD50Bz-QYa_3X-SK15L4pecg/photo.jpg?sz=128", "display_name": "justAnotherOverflowUser", "link": "https://stackoverflow.com/users/12310803/justanotheroverflowuser"}, "reply_to_user": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1574087952, "post_id": 58916811, "comment_id": 104095496, "body": "In what way? How can I detect when finger leaves? On pan update gives me no control on that"}, {"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1574090870, "post_id": 58916811, "comment_id": 104097202, "body": "Use <code>onPanUpdate</code> instead of <code>onVerticalDragUpdate</code> and then use <code>onPanEnd</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1744, "user_id": 4266182, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XRwYW.jpg?s=128&g=1", "display_name": "Michael Yuwono", "link": "https://stackoverflow.com/users/4266182/michael-yuwono"}, "is_accepted": true, "score": 1, "last_activity_date": 1574136634, "creation_date": 1574136634, "answer_id": 58926525, "question_id": 58916811, "link": "https://stackoverflow.com/questions/58916811/detect-when-user-stops-touching-the-screen/58926525#58926525", "title": "Detect when user stops touching the screen", "body": "<p>Use <code>Listener</code> to detect every touch input.</p>\n\n<pre><code>final touchDetector = new Listener(\n  behavior: HitTestBehavior.translucent,\n  onPointerUp: (_) =&gt; resetScroll(),\n  child: child,\n);\n</code></pre>\n"}], "owner": {"reputation": 265, "user_id": 12310803, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cS_J_AuY7uo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re7cLjD50Bz-QYa_3X-SK15L4pecg/photo.jpg?sz=128", "display_name": "justAnotherOverflowUser", "link": "https://stackoverflow.com/users/12310803/justanotheroverflowuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 58926525, "answer_count": 1, "score": 1, "last_activity_date": 1574136634, "creation_date": 1574087376, "last_edit_date": 1574087802, "question_id": 58916811, "link": "https://stackoverflow.com/questions/58916811/detect-when-user-stops-touching-the-screen", "title": "Detect when user stops touching the screen", "body": "<h3>Project</h3>\n\n<p>Hi,\nI'm struggling with <code>GestureDetector</code> in Flutter. What I want to do is extremely simple: get the vertical drag distance of an user input.\nI managed to do this with this sample code</p>\n\n<pre><code>  int scrolled = 0;\n\n  ....\n\n  GestureDetector(\n    onVerticalDragUpdate: (d){\n      scrolled += pos;\n    },     \n    //TODO reset scrolled when finger leaves the screen  \n  ),\n</code></pre>\n\n<h3>Problem</h3>\n\n<p>Problem is that I want to detect when user finger leaves the screen in order to reset the scrolled <code>variable</code>. Using <code>onVerticalDragEnd</code> won't do the trick beacause it's fired even when user stop scrolling and the finger is still on the display.</p>\n\n<p>So I started to analise the behaviour of other all <code>GestureDetector</code> callbacks, searching for some solution but even <code>onTapUp(), onPanEnd()</code> do the same</p>\n\n<p>What am I missing? \nThanks</p>\n"}, {"tags": ["flutter", "dart", "carousel"], "comments": [{"owner": {"reputation": 2215, "user_id": 4712391, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U9oPV.png?s=128&g=1", "display_name": "Tinus Jackson", "link": "https://stackoverflow.com/users/4712391/tinus-jackson"}, "edited": false, "score": 0, "creation_date": 1574085308, "post_id": 58915682, "comment_id": 104093888, "body": "Please add your pubspec.yaml"}], "answers": [{"tags": [], "owner": {"reputation": 138, "user_id": 12382611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4748c8b1870989e6bda6e572675642c?s=128&d=identicon&r=PG&f=1", "display_name": "Dix20", "link": "https://stackoverflow.com/users/12382611/dix20"}, "is_accepted": false, "score": 1, "last_activity_date": 1574084235, "creation_date": 1574084235, "answer_id": 58915862, "question_id": 58915682, "link": "https://stackoverflow.com/questions/58915682/i-am-getting-error-while-using-package-carouselslider-it-display-error-type-ima/58915862#58915862", "title": "I am getting error while using package CarouselSlider it display error type &#39;Image&#39; is not a subtype of type &#39;String&#39; in flutter", "body": "<p>You have to set the urls in your list instead of Image Widgets. Change your List to:</p>\n\n<pre><code>final List imgList = [\n    'assests/GL.png',\n    'assests/GL.png',\n    'assests/GL.png',\n];\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12391593, "user_type": "registered", "profile_image": "https://graph.facebook.com/713605779046481/picture?type=large", "display_name": "Sandeep Budha", "link": "https://stackoverflow.com/users/12391593/sandeep-budha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574084235, "creation_date": 1574083694, "question_id": 58915682, "link": "https://stackoverflow.com/questions/58915682/i-am-getting-error-while-using-package-carouselslider-it-display-error-type-ima", "title": "I am getting error while using package CarouselSlider it display error type &#39;Image&#39; is not a subtype of type &#39;String&#39; in flutter", "body": "<p>It shows url images from network but doesnot shows images from assests asI am trying to access image from assests .</p>\n\n<p>list of images from assests inside my flutter project:</p>\n\n<pre><code>int _current = 0;\n  final List imgList = [\n    Image.asset('assests/GL.png'),\n    Image.asset('assests/GL.png'),\n    Image.asset('assests/GL.png'),\n     ];\n</code></pre>\n\n<p>code in CarouselSlider</p>\n\n<pre><code>\nCarouselSlider(\n                  height: 200,\n                  initialPage: 0,\n                  enlargeCenterPage: true,\n                  autoPlay: true,\n                  reverse: false,\n                  enableInfiniteScroll: true,\n                  autoPlayInterval: Duration(seconds: 3),\n                  autoPlayAnimationDuration: Duration(milliseconds: 2000),\n                  pauseAutoPlayOnTouch: Duration(seconds: 10),\n                  scrollDirection: Axis.horizontal,\n                  onPageChanged: (index){\n                    setState(() {\n                      _current = index;\n                    });\n                  },\n\n\n                  items: imgList.map((imgUrl){\n\n                    return Builder(\n                    builder: (BuildContext context){\n                      return Container(\n                      width: MediaQuery.of(context).size.width,\n                        margin: EdgeInsets.symmetric(horizontal: 10.0),\n                          decoration: BoxDecoration(color: Colors.green),\n                        child: Image.assest(imgUrl,fit:BoxFit.fill),//error line in code\n                      );\n                      },\n                    );\n\n                }).toList(),),\n            SizedBox(height: 20,),\n              ],\n            ),\n        ),\n</code></pre>\n"}, {"tags": ["android", "ios", "flutter", "mobile", "dart"], "comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1574083809, "post_id": 58915673, "comment_id": 104092985, "body": "<a href=\"https://api.flutter.dev/flutter/painting/BoxFit-class.html\" rel=\"nofollow noreferrer\">Have you tried <code>fit: BoxFit.fill</code> ?</a>"}, {"owner": {"reputation": 619, "user_id": 2165644, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/hgptC.jpg?s=128&g=1", "display_name": "scourGINHO", "link": "https://stackoverflow.com/users/2165644/scourginho"}, "reply_to_user": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1574083974, "post_id": 58915673, "comment_id": 104093096, "body": "Yes, I have tried, unfortunately, nothing changes. I have edited my code (removed the Padding widget, which I am not using anymore)."}], "answers": [{"comments": [{"owner": {"reputation": 619, "user_id": 2165644, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/hgptC.jpg?s=128&g=1", "display_name": "scourGINHO", "link": "https://stackoverflow.com/users/2165644/scourginho"}, "edited": false, "score": 0, "creation_date": 1574147945, "post_id": 58917624, "comment_id": 104117289, "body": "Thanks, mate. I guess it&#39;s not the best solution, but the only one, so many thanks. Works like expected. Do you know if this approach could slow down the app somehow?"}], "tags": [], "owner": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "is_accepted": true, "score": 2, "last_activity_date": 1574090005, "creation_date": 1574090005, "answer_id": 58917624, "question_id": 58915673, "link": "https://stackoverflow.com/questions/58915673/is-it-possible-to-fill-expansiontile-title-with-image-in-flutter/58917624#58917624", "title": "Is it possible to fill ExpansionTile title with image in Flutter?", "body": "<p>No, it's not possible. This widget uses <em>ListTile</em>, which adds 16px gap (_horizontalTitleGap constant) if there's trailing widget. The problem is that there's always a trailing widget in <em>ExpansionTile</em>, even if you pass null:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>trailing: widget.trailing ?? RotationTransition(\n  turns: _iconTurns,\n  child: const Icon(Icons.expand_more),\n),\n</code></pre>\n\n<p>The only dirty workaround I can suggest is to use scale transform to compensate this 16px gap:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>title: LayoutBuilder(\n  builder: (context, constraints) {\n    final newScale = 1.0 + 16.0 / constraints.maxWidth;\n\n    return Container(\n      transform: Matrix4.identity()..scale(newScale),\n      child: Image.asset(\"assets/images/onboarding2.png\",\n          height: 200.0,\n          width: double.infinity,\n          alignment: Alignment.center,\n          fit: BoxFit.cover,\n      ),\n    );\n  }\n),\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/irhJa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/irhJa.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 619, "user_id": 2165644, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/hgptC.jpg?s=128&g=1", "display_name": "scourGINHO", "link": "https://stackoverflow.com/users/2165644/scourginho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 720, "favorite_count": 0, "accepted_answer_id": 58917624, "answer_count": 1, "score": 1, "last_activity_date": 1574090005, "creation_date": 1574083647, "last_edit_date": 1574083938, "question_id": 58915673, "link": "https://stackoverflow.com/questions/58915673/is-it-possible-to-fill-expansiontile-title-with-image-in-flutter", "title": "Is it possible to fill ExpansionTile title with image in Flutter?", "body": "<p>I want to create an expandable gallery, which has one image as a main image and upon clicking on it, I want to expand the gallery and show few images below the main image.\nSo, I have created a ListView, which has a builder that returns ListTileTheme, which I used for removing the contentPadding, with child - ExpansionTile, but I still have some padding left in the container. \nAny idea how to completely fill the ExpansionTile? I've tried different approaches that I saw on the web, but no solution so far.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>Container _getGallery() {\n    Container container = new Container(\n      height: 500.0,\n      child: new ListView.builder(itemCount: 1, itemBuilder: (context, i)\n      {\n        ListTileTheme tileTheme = new ListTileTheme(\n          contentPadding: EdgeInsets.all(0.0),\n          child: ExpansionTile(\n            trailing: Container(\n              height: 0.0,\n              width: 0.0,\n            ),\n            backgroundColor: Colors.transparent,\n            title: Image.asset(\"assets/images/onboarding2.png\",\n                height: 200.0,\n                width: double.infinity,\n                alignment: Alignment.center,\n                fit: BoxFit.cover,\n            ),\n            children: &lt;Widget&gt;[\n              new Column(\n                children: _buildExpandableContent(),\n              ),\n            ],\n          ),\n        );\n        return tileTheme;\n      }),\n    );\n    return container;\n  }\n</code></pre>\n\n<p>Here you can see what I've achieved so far (1- not expanded, 2- expanded). I want to remove this white lines around the first image.</p>\n\n<p><a href=\"https://i.stack.imgur.com/NlaUb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NlaUb.png\" alt=\"enter image description here\"></a><a href=\"https://i.stack.imgur.com/pdxjl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pdxjl.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["flutter", "dart", "flutter-layout"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 12308011, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MwKhkIcavkQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcZsZoi7fPsGwNpHmRLFk9YtGtZ1A/photo.jpg?sz=128", "display_name": "Jack", "link": "https://stackoverflow.com/users/12308011/jack"}, "edited": false, "score": 0, "creation_date": 1574087629, "post_id": 58915998, "comment_id": 104095287, "body": "The initial instance works. If I would like to change the values in the PercentIndicator, so var1 and var2, when I click the <b>Confirm</b> button, would I need setState in <code>getPercentageIndicator</code>? Look at my post above for more detail as I&#39;ve stated my question there too."}, {"owner": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "reply_to_user": {"reputation": 39, "user_id": 12308011, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MwKhkIcavkQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcZsZoi7fPsGwNpHmRLFk9YtGtZ1A/photo.jpg?sz=128", "display_name": "Jack", "link": "https://stackoverflow.com/users/12308011/jack"}, "edited": false, "score": 0, "creation_date": 1574087969, "post_id": 58915998, "comment_id": 104095510, "body": "@Jack No, you can call <i>setState</i> straight from <i>onPressed</i> callback. Just add variable in your state that will store your current progress and change its value in <i>onPressed</i> callback with <i>setState</i> ;"}, {"owner": {"reputation": 39, "user_id": 12308011, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MwKhkIcavkQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcZsZoi7fPsGwNpHmRLFk9YtGtZ1A/photo.jpg?sz=128", "display_name": "Jack", "link": "https://stackoverflow.com/users/12308011/jack"}, "edited": false, "score": 0, "creation_date": 1574100786, "post_id": 58915998, "comment_id": 104102452, "body": "Thank you @Igor Kharakhordin!"}], "tags": [], "owner": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "is_accepted": true, "score": 0, "last_activity_date": 1574086564, "last_edit_date": 1574086564, "creation_date": 1574084702, "answer_id": 58915998, "question_id": 58915470, "link": "https://stackoverflow.com/questions/58915470/linearpercentindicator-not-displayed-when-defined-in-function-flutter/58915998#58915998", "title": "LinearPercentIndicator not displayed when defined in function Flutter", "body": "<p>Why do you make instance of <em>LinearPercentIndicator</em> widget inside of <em>setState</em> in <em>getPercentageIndicator</em>? It makes no sense. You probably wanted just to return it:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>  getPercentageIndicator(context, var1,var2) {\n    return LinearPercentIndicator(\n      width: MediaQuery\n          .of(context)\n          .size\n          .width - 50,\n      animation: true,\n      lineHeight: 20.0,\n      animationDuration: 2000,\n      percent: var1,\n      center: Text(var2),\n      linearStrokeCap: LinearStrokeCap.roundAll,\n      progressColor: Colors.green,\n      backgroundColor: Colors.green.withOpacity(0.2),\n    );\n  }\n</code></pre>\n\n<p>By the way, you shouldn't use mediaquery size here. Use <em>LayoutBuilder</em> to change width depending on how much space your widget has:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>  getPercentageIndicator(context, var1,var2) {\n    return LayoutBuilder(\n      builder: (context, constraints) {\n        return LinearPercentIndicator(\n          width: constraints.maxWidth - 50,\n          animation: true,\n          lineHeight: 20.0,\n          animationDuration: 2000,\n          percent: var1,\n          center: Text(var2),\n          linearStrokeCap: LinearStrokeCap.roundAll,\n          progressColor: Colors.green,\n          backgroundColor: Colors.green.withOpacity(0.2),\n        );\n      }\n    );\n  }\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 12308011, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MwKhkIcavkQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcZsZoi7fPsGwNpHmRLFk9YtGtZ1A/photo.jpg?sz=128", "display_name": "Jack", "link": "https://stackoverflow.com/users/12308011/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 418, "favorite_count": 0, "accepted_answer_id": 58915998, "answer_count": 1, "score": 0, "last_activity_date": 1574086564, "creation_date": 1574083015, "question_id": 58915470, "link": "https://stackoverflow.com/questions/58915470/linearpercentindicator-not-displayed-when-defined-in-function-flutter", "title": "LinearPercentIndicator not displayed when defined in function Flutter", "body": "<p>I'm rather new to Flutter/Dart so I could have made a foolish mistake. I have defined a <code>LinearPercentIndicator</code> in what I believe is a function inside my class <code>_FourthRouteState</code>. I call this function inside <code>Widget build(BuildContext context)</code> with 3 parameters: context, var1, var2 where var1 is a <code>double</code> between 0.0 and 1.0 and var2 is a text object. </p>\n\n<p>The default PercentIndicator should display 75% whereas if the user presses the <strong>Confirm</strong> button, the percentage should change to 100%. It would be ideal if the animation of the LinearPercentIndicator starts over, since the value changes from 75 to 100. </p>\n\n<p>The problem is that the LinearPercentIndicator is not displayed on my page and I don't receive any errors so I'm not sure what I'm doing wrong. If you could both help me with my code (I only included the relevant parts) and provide me with some relevant/useful documentation, that would be great!</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:flutter/material.dart';\nimport 'package:percent_indicator/percent_indicator.dart';\nimport 'package:page_transition/page_transition.dart';\n\n\nvoid main() {\n  runApp(MaterialApp(\n    theme:\n    ThemeData(accentColor: Colors.black87),\n    home: FourthRoute(),\n  ));\n}\n\nclass FourthRoute extends StatefulWidget {\n  final value;\n\n  FourthRoute({Key key, this.value}) : super(key: key);\n\n  @override\n  _FourthRouteState createState() =&gt; new _FourthRouteState();\n}\n\nclass _FourthRouteState extends State&lt;FourthRoute&gt; {\n\n  var _textController = new TextEditingController();\n\n  var _formKey = GlobalKey&lt;FormFieldState&gt;();\n\n  getPercentageIndicator(context, var1,var2) {\n    setState(() {\n      LinearPercentIndicator(\n        width: MediaQuery\n            .of(context)\n            .size\n            .width - 50,\n        animation: true,\n        lineHeight: 20.0,\n        animationDuration: 2000,\n        percent: var1,\n        center: Text(var2),\n        linearStrokeCap: LinearStrokeCap.roundAll,\n        progressColor: Colors.green,\n        backgroundColor: Colors.green.withOpacity(0.2),\n      );\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n\n    Color foreground = Colors.green;\n    Color background = foreground.withOpacity(0.2);\n\n    return Scaffold(\n      body: Stack(\n        fit: StackFit.expand,\n        children: &lt;Widget&gt;[\n          Container(\n            decoration: BoxDecoration(\n                color: Color.fromRGBO(53, 73, 94, 0.9)),\n          ),\n          Positioned(\n            top: 0.0,\n            left: 0.0,\n            right: 0.0,\n            child: AppBar(\n              backgroundColor: Colors.transparent,\n              elevation: 0.0,\n            ),\n          ),\n\n          Column(\n            crossAxisAlignment: CrossAxisAlignment.start,\n            children: &lt;Widget&gt;[\n              Padding(\n                padding: EdgeInsets.symmetric(vertical: 50.0),\n              ),\n              Padding(\n                padding: EdgeInsets.fromLTRB(20.0,16.0,0.0,0.0), // left, top, right, bottom\n                child: getPercentageIndicator(context,0.75,\"75%\"),\n              ),\n            ],\n          ),\n\n          Positioned(\n            bottom: 150.0,\n            right: 20.0,\n            child: ButtonTheme(\n              minWidth: 150.0,\n              child: RaisedButton(\n                  padding: EdgeInsets.all(8.0),\n                  child: Text('Confirm',\n                    style: TextStyle(\n                        fontSize: 24,\n                        color: Colors.black87,\n                        fontWeight: FontWeight.bold\n                    ),\n                  ),\n                  shape: RoundedRectangleBorder(\n                      borderRadius: BorderRadius.circular(18.0)\n                  ),\n                  color: Colors.white,\n                  splashColor: Colors.blueGrey,\n                  onPressed: () {\n                    if (_formKey.currentState.validate()) {\n                      getPercentageIndicator(context,1.0,\"100%\");\n//                      Navigator.push(\n//                        context,\n//                        PageTransition(\n//                          type: PageTransitionType.fade,\n//                          child:HomePage(),\n//                          duration: Duration(\n//                              seconds: 1\n//                          ),\n//                        ),\n//                      );\n                    }\n                  }\n              ),\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n\n}\n</code></pre>\n"}, {"tags": ["flutter", "dart", "runtime", "code-coverage"], "comments": [{"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1603992806, "post_id": 58914991, "comment_id": 114218393, "body": "<a href=\"https://pub.dev/packages/test_coverage\" rel=\"nofollow noreferrer\">pub.dev/packages/test_coverage</a> makes this easy or in recent Dart versions <code>dart test --coverage=&quot;coverage_out_dir&quot;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 12391462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba5226c8021552d963425bc62442a9ca?s=128&d=identicon&r=PG&f=1", "display_name": "AZhuo", "link": "https://stackoverflow.com/users/12391462/azhuo"}, "edited": false, "score": 0, "creation_date": 1574131055, "post_id": 58916991, "comment_id": 104112757, "body": "Actually I know this method. But this coverage is for unit test code coverage, I want to find a method to collect coverage for dart runtime code coverage. Thank you all the same"}], "tags": [], "owner": {"reputation": 402, "user_id": 1275796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c00c406979d5ac35d3387e7fb0f741e3?s=128&d=identicon&r=PG", "display_name": "Karim", "link": "https://stackoverflow.com/users/1275796/karim"}, "is_accepted": false, "score": 0, "last_activity_date": 1574087933, "creation_date": 1574087933, "answer_id": 58916991, "question_id": 58914991, "link": "https://stackoverflow.com/questions/58914991/how-can-i-get-code-coverage-for-dart-runtime/58916991#58916991", "title": "How can I get code coverage for dart runtime?", "body": "<p>On Mac</p>\n\n<pre><code>brew install lcov\n</code></pre>\n\n<p>Or use ubuntu or windows alternatives for this</p>\n\n<p>then</p>\n\n<pre><code>flutter test --coverage\ngenhtml coverage/icov.info -o coverage/html\nopen coverage/html\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14454022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da082c47b8dad49ce5ee7e00323d261b?s=128&d=identicon&r=PG&f=1", "display_name": "haodongchen", "link": "https://stackoverflow.com/users/14454022/haodongchen"}, "is_accepted": false, "score": 0, "last_activity_date": 1602746324, "creation_date": 1602746324, "answer_id": 64366632, "question_id": 58914991, "link": "https://stackoverflow.com/questions/58914991/how-can-i-get-code-coverage-for-dart-runtime/64366632#64366632", "title": "How can I get code coverage for dart runtime?", "body": "<p><a href=\"https://github.com/dart-lang/coverage\" rel=\"nofollow noreferrer\">https://github.com/dart-lang/coverage</a>  may help you</p>\n<ol>\n<li>flutter pub global activate coverage</li>\n<li>flutter run (you can use -d to select device)</li>\n<li>flutter pub global run coverage:collect_coverage --uri=http://... -o coverage.json --resume-isolates</li>\n<li>flutter pub global run coverage:format_coverage --packages=./.packages --report-on lib --in coverage.json --out lcov.info --lcov</li>\n</ol>\n<p>I have try this and finally get the lcov.info in runtime, good luck</p>\n"}], "owner": {"reputation": 21, "user_id": 12391462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba5226c8021552d963425bc62442a9ca?s=128&d=identicon&r=PG&f=1", "display_name": "AZhuo", "link": "https://stackoverflow.com/users/12391462/azhuo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 378, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1602746324, "creation_date": 1574081535, "question_id": 58914991, "link": "https://stackoverflow.com/questions/58914991/how-can-i-get-code-coverage-for-dart-runtime", "title": "How can I get code coverage for dart runtime?", "body": "<p>Briefly: Can anyone tell me how to know if the dart code has been invoked or how to mark it as hits and misses.</p>\n\n<p>We can get test coverage by 'flutter test --coverage'. But this rely on test.dart file, I mean we have to write test.dart file for the file and function we care about. If we can collect the coverage info when dart is running, it will be easier for us to know which code lines has been invoked. And I think it will be friendly for developers.</p>\n\n<p>I have searched dart-lang/sdk, only know that 'flutter test --coverage' gets reports by invokeRpcRaw('getSourceReport'...), but I have no idea how to get reports for dart runtime.</p>\n\n<p>If runtime dose not work, can I do something when compile?</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 6232, "user_id": 5608661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83b46a8005105c560821e0157741f1a8?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Davies", "link": "https://stackoverflow.com/users/5608661/jordan-davies"}, "is_accepted": true, "score": 1, "last_activity_date": 1574081980, "creation_date": 1574081980, "answer_id": 58915128, "question_id": 58914960, "link": "https://stackoverflow.com/questions/58914960/why-dont-the-named-parameter-of-my-self-build-widget-work-in-flutter/58915128#58915128", "title": "Why don&#39;t the named parameter of my self-build Widget work in Flutter?", "body": "<p>You need to make them <a href=\"https://dart.dev/guides/language/language-tour#optional-parameters\" rel=\"nofollow noreferrer\">optional</a> by wrapping them in braces <code>{}</code></p>\n\n<pre><code>class UpperWidget extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n\n    return Padding(\n      padding: const EdgeInsets.all(8.0),\n      child: Container(\n          width: this.width,\n          child: Padding(padding: const EdgeInsets.all(8.0), child: child)),\n    );\n  }\n\n  final double width;\n  final Widget child;\n\n  const UpperWidget({Key key, this.width, this.child}) : super(key: key);\n}\n</code></pre>\n\n<p>If they do also need to be required you can include the <code>@required</code> annotation:</p>\n\n<pre><code>const UpperWidget({Key key, @required this.width, @required this.child}) : super(key: key);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4149, "user_id": 5715935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1659768280958223/picture?type=large", "display_name": "Jay Mungara", "link": "https://stackoverflow.com/users/5715935/jay-mungara"}, "is_accepted": false, "score": 1, "last_activity_date": 1574082305, "creation_date": 1574082305, "answer_id": 58915236, "question_id": 58914960, "link": "https://stackoverflow.com/questions/58914960/why-dont-the-named-parameter-of-my-self-build-widget-work-in-flutter/58915236#58915236", "title": "Why don&#39;t the named parameter of my self-build Widget work in Flutter?", "body": "<p>Just change your constructor schema like,</p>\n\n<pre><code>const UpperWidget({this.width, this.child,Key key}) : super(key: key);\n</code></pre>\n\n<p>Named Parameter and Optional Parameters are type of optional parameters. Named Parameters are declared with the help of \"{}\" braces.</p>\n\n<p>For more details visit the <a href=\"https://toastguyz.com/dart/dart-advance-functions/\" rel=\"nofollow noreferrer\">Blog Here.</a></p>\n"}], "owner": {"reputation": 21637, "user_id": 25282, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/9hShk.jpg?s=128&g=1", "display_name": "Christian", "link": "https://stackoverflow.com/users/25282/christian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 58915128, "answer_count": 2, "score": 0, "last_activity_date": 1574082305, "creation_date": 1574081421, "question_id": 58914960, "link": "https://stackoverflow.com/questions/58914960/why-dont-the-named-parameter-of-my-self-build-widget-work-in-flutter", "title": "Why don&#39;t the named parameter of my self-build Widget work in Flutter?", "body": "<p>I want to wrap the nested construct of Padding/Container/Padding in it's own Widget so that I can reuse it:</p>\n\n<p>I declare my Widget via:</p>\n\n<pre><code>class UpperWidget extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n\n    return Padding(\n      padding: const EdgeInsets.all(8.0),\n      child: Container(\n          width: this.width,\n          child: Padding(padding: const EdgeInsets.all(8.0), child: child)),\n    );\n  }\n\n  final double width;\n  final Widget child;\n\n  const UpperWidget(Key key, this.width, this.child) : super(key: key);\n}\n</code></pre>\n\n<p>I want to use it in:</p>\n\n<pre><code>class LowerWidget extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return UpperWidget(\n      width:50,\n      child: Text(\"Hello World\");\n      }),\n    );\n  }\n}\n</code></pre>\n\n<p>When I hover over width, Android Studio shows me the error:</p>\n\n<pre><code>3 required argument(s) expected but 0 found\nTry adding additional required arguments.\n\nThe named parameter 'width' isn't defined.\nTry correcting the name to an existing parameter, or defining a parameter with this name.\n</code></pre>\n\n<p>What do I have to do, so that <code>width</code> and <code>child</code> get treated correctly as named parameters?</p>\n"}, {"tags": ["firebase", "flutter", "dart", "firebase-authentication"], "answers": [{"tags": [], "owner": {"reputation": 27, "user_id": 12244783, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7UqCLr9B-V0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfdm17dO6t0W57uiWI7_aJS6SB_rg/photo.jpg?sz=128", "display_name": "LarsDev", "link": "https://stackoverflow.com/users/12244783/larsdev"}, "is_accepted": false, "score": 0, "last_activity_date": 1574081650, "creation_date": 1574081650, "answer_id": 58915031, "question_id": 58914848, "link": "https://stackoverflow.com/questions/58914848/flutter-firebase-auth-endless-loop/58915031#58915031", "title": "Flutter: Firebase Auth endless loop", "body": "<p>I just solved it. I replaced:</p>\n\n<pre><code>Navigator.push(\n        context, MaterialPageRoute(builder: (context) =&gt; RegisterForm()));\n</code></pre>\n\n<p>with </p>\n\n<pre><code>Navigator.pushAndRemoveUntil(\n        context, MaterialPageRoute(builder: (context) =&gt; HomePage()), (e) =&gt; false);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 63626, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "is_accepted": true, "score": 1, "last_activity_date": 1574081865, "creation_date": 1574081865, "answer_id": 58915093, "question_id": 58914848, "link": "https://stackoverflow.com/questions/58914848/flutter-firebase-auth-endless-loop/58915093#58915093", "title": "Flutter: Firebase Auth endless loop", "body": "<p>The reason you get that, is because <code>_checkUserIsLoggedIn();</code> which contains navigation to the <code>HomePage</code> is the first method inside <code>build</code> method. Inside the <code>build()</code> method you have <code>setState()</code> on the <code>TextField</code>, therefore everytime the state is changing then the <code>build()</code> method is getting called and <code>_checkUserIsLoggedIn()</code> is also getting called. To solve that try the following:</p>\n\n<pre><code>@override\ninitState() {\n  super.initState();\n   _firebaseAuth.currentUser().then((firebaseUser) {\n      if (firebaseUser == null) {\n        print('no user logged in');\n      } else {\n        print('User logged in');\n        _switchToHomePage();\n      }\n    });\n}\n</code></pre>\n\n<p>Inside the lifecycle method <code>initState()</code> check if the user is logged in and navigate to the <code>HomePage</code>. Also remove the method <code>_checkUserIsLoggedIn();</code> from the <code>build</code> method</p>\n"}], "owner": {"reputation": 27, "user_id": 12244783, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7UqCLr9B-V0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfdm17dO6t0W57uiWI7_aJS6SB_rg/photo.jpg?sz=128", "display_name": "LarsDev", "link": "https://stackoverflow.com/users/12244783/larsdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "accepted_answer_id": 58915093, "answer_count": 2, "score": 0, "last_activity_date": 1574081865, "creation_date": 1574081032, "question_id": 58914848, "link": "https://stackoverflow.com/questions/58914848/flutter-firebase-auth-endless-loop", "title": "Flutter: Firebase Auth endless loop", "body": "<p>I want to build a Flutter login screen working with Firebase Auth. I posted the Code below. When i run the App, the <code>_switchToHomePage()</code> method is called endless. So the app keeps opening an new HomeScreen until I close the app. \nThanks for help!</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:firebase_auth/firebase_auth.dart';\nimport 'package:flutter/services.dart';\nimport 'home_page.dart';\nimport 'register.dart';\nimport 'error_dialog.dart';\n\nclass LoginForm extends StatefulWidget {\n  @override\n  State&lt;StatefulWidget&gt; createState() =&gt; _LoginFormState();\n}\n\nclass _LoginFormState extends State&lt;LoginForm&gt; {\n  final emailController = TextEditingController();\n  final passwordController = TextEditingController();\n\n  final FirebaseAuth _firebaseAuth = FirebaseAuth.instance;\n\n  bool _hidePassword = true;\n\n  void _checkUserIsLoggedIn() {\n    _firebaseAuth.currentUser().then((firebaseUser) {\n      if (firebaseUser == null) {\n        print('no user logged in');\n      } else {\n        print('User logged in');\n        _switchToHomePage();\n      }\n    });\n  }\n\n  void _switchToHomePage() {\n    print('switching to home page...');\n    Navigator.push(\n        context, MaterialPageRoute(builder: (context) =&gt; HomePage()));\n    this.deactivate();\n  }\n\n  void _login() {\n    String email = emailController.text;\n    String password = passwordController.text;\n    _firebaseAuth\n        .signInWithEmailAndPassword(email: email, password: password)\n        .then((firebaseUser) {\n      if (firebaseUser != null) {\n        print('Login succesfull');\n        _switchToHomePage();\n      } else {\n        throw Exception('FirebaseUser is null');\n      }\n    }).catchError((exception) {\n      //TODO make better error messages\n      print(exception.message);\n      ErrorDialog(\n          context: this.context,\n          title: 'Error',\n          message: exception.message);\n    });\n  }\n\n  void _showRegisterScreen() {\n    Navigator.push(\n        context, MaterialPageRoute(builder: (context) =&gt; RegisterForm()));\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    _checkUserIsLoggedIn();\n    return Scaffold(\n        appBar: AppBar(title: Text('Login')),\n        body: ListView(\n          padding: EdgeInsets.fromLTRB(15, 30, 15, 0),\n          children: &lt;Widget&gt;[\n            Padding(padding: EdgeInsets.only(top: 60)),\n            Text(\n              'placeholder',\n              style: TextStyle(\n                color: Colors.teal,\n                fontSize: 40,\n              ),\n            ),\n            Padding(padding: EdgeInsets.only(top: 60)),\n            Padding(padding: EdgeInsets.only(top: 40)),\n            TextField(\n              controller: emailController,\n              keyboardType: TextInputType.emailAddress,\n              decoration: InputDecoration(\n                  prefixIcon: Icon(Icons.email),\n                  labelText: 'E-Mailadresse',\n                  border: UnderlineInputBorder()),\n            ),\n            Padding(padding: EdgeInsets.only(top: 20)),\n            TextField(\n              controller: passwordController,\n              obscureText: _hidePassword,\n              decoration: InputDecoration(\n                  labelText: 'Passwort',\n                  border: UnderlineInputBorder(),\n                  prefixIcon: Icon(Icons.security),\n                  suffixIcon: IconButton(\n                    icon: Icon(Icons.remove_red_eye),\n                    color: _hidePassword\n                        ? Theme.of(context).primaryColor\n                        : Colors.grey,\n                    onPressed: () =&gt; this.setState(() {\n                      _hidePassword = !_hidePassword;\n                    }),\n                  )),\n            ),\n            Padding(padding: EdgeInsets.only(top: 5)),\n            Container(\n              child: FlatButton(\n                onPressed: () =&gt; print('Forgot password'),\n                child: Text(\n                  'Passwort vergessen?',\n                  style: TextStyle(color: Theme.of(context).primaryColor),\n                ),\n              ),\n              width: double.infinity,\n              alignment: Alignment.centerRight,\n            ),\n            Padding(padding: EdgeInsets.only(top: 40)),\n            RaisedButton(\n              onPressed: _login,\n              color: Theme.of(context).primaryColor,\n              child: Text(\n                'Login',\n                style: TextStyle(color: Colors.white),\n              ),\n            ),\n            Padding(padding: EdgeInsets.only(top: 20)),\n            FlatButton(\n              onPressed: _showRegisterScreen,\n              child: Text(\n                'Neuen Account erstellen',\n                style: TextStyle(\n                  fontSize: 16,\n                  color: Theme.of(context).accentColor,\n                ),\n              ),\n            )\n          ],\n        ));\n  }\n}\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 2480, "user_id": 5209982, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh6.googleusercontent.com/-9ySpDpFKI2E/AAAAAAAAAAI/AAAAAAAABKs/OwWRKIiCZps/photo.jpg?sz=128", "display_name": "VipiN Negi", "link": "https://stackoverflow.com/users/5209982/vipin-negi"}, "edited": false, "score": 0, "creation_date": 1574085129, "post_id": 58915727, "comment_id": 104093783, "body": "the problem occurs during the initialization of BottomSheet, It directly opens with the error. I updated my post with an image."}, {"owner": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "reply_to_user": {"reputation": 2480, "user_id": 5209982, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh6.googleusercontent.com/-9ySpDpFKI2E/AAAAAAAAAAI/AAAAAAAABKs/OwWRKIiCZps/photo.jpg?sz=128", "display_name": "VipiN Negi", "link": "https://stackoverflow.com/users/5209982/vipin-negi"}, "edited": false, "score": 1, "creation_date": 1574085352, "post_id": 58915727, "comment_id": 104093915, "body": "@VipiNNegi The code that you attached is fine. You&#39;re passing null value to Text widget somewhere."}, {"owner": {"reputation": 2480, "user_id": 5209982, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh6.googleusercontent.com/-9ySpDpFKI2E/AAAAAAAAAAI/AAAAAAAABKs/OwWRKIiCZps/photo.jpg?sz=128", "display_name": "VipiN Negi", "link": "https://stackoverflow.com/users/5209982/vipin-negi"}, "edited": false, "score": 0, "creation_date": 1574105791, "post_id": 58915727, "comment_id": 104104729, "body": "You were right, there was a different Text widget and passed it a null. So silly of me for not observing in the first place and blamed the Picker whole time. Thanks for pointing the issue out."}], "tags": [], "owner": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "is_accepted": false, "score": 0, "last_activity_date": 1574084262, "last_edit_date": 1574084262, "creation_date": 1574083814, "answer_id": 58915727, "question_id": 58914701, "link": "https://stackoverflow.com/questions/58914701/cupertinopicker-in-bottomsheet-data-null-error/58915727#58915727", "title": "CupertinoPicker in BottomSheet &#39;data !=null&#39; error", "body": "<p>When you close an overlay by clicking outside, it returns null value. I don't think that it's possible to override this behavior easily. </p>\n\n<p>To return current value you need to add a button that will call <em>Navigator.pop</em> and you need to store current value of picker (inside state of widget).</p>\n\n<p><a href=\"https://i.stack.imgur.com/SjM7r.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SjM7r.gif\" alt=\"demo\"></a></p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>floatingActionButton: FloatingActionButton(\n  onPressed: () async {\n    final data = await showModalBottomSheet&lt;String&gt;(\n      context: context,\n      builder: (context) {\n        return TextPicker(\n          // Passing values\n          values: ['a', 'b', 'c', 'd', 'e'],\n        );\n      },\n    );\n\n    if (data == null) {\n      print('Null value returned');\n    } else {\n      print('Data is $data');\n    }\n  },\n),\n\nclass TextPicker extends StatefulWidget {\n  final List&lt;String&gt; values;\n\n  const TextPicker({Key key, @required this.values}) : super(key: key);\n\n  @override\n  _TextPickerState createState() =&gt; _TextPickerState();\n}\n\nclass _TextPickerState extends State&lt;TextPicker&gt; {\n  int selectedIndex = 0;\n\n  @override\n  Widget build(BuildContext context) {\n    return Column(\n      mainAxisSize: MainAxisSize.min,\n      children: &lt;Widget&gt;[\n        Container(\n          height: 150.00,\n          child: CupertinoPicker(\n            itemExtent: 30.00,\n            // Mapping values to widgets\n            children: widget.values.map((v) =&gt; Text(v)).toList(),\n            onSelectedItemChanged: (newIndex) {\n              // Changing current index\n              selectedIndex = newIndex;\n            },\n          ),\n        ),\n        CupertinoButton(\n          child: Text('Ok'),\n          onPressed: () {\n            // Returning selected value\n            Navigator.of(context).pop(widget.values[selectedIndex]);\n          },\n        )\n      ],\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 2480, "user_id": 5209982, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh6.googleusercontent.com/-9ySpDpFKI2E/AAAAAAAAAAI/AAAAAAAABKs/OwWRKIiCZps/photo.jpg?sz=128", "display_name": "VipiN Negi", "link": "https://stackoverflow.com/users/5209982/vipin-negi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 241, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574105013, "creation_date": 1574080530, "last_edit_date": 1574105013, "question_id": 58914701, "link": "https://stackoverflow.com/questions/58914701/cupertinopicker-in-bottomsheet-data-null-error", "title": "CupertinoPicker in BottomSheet &#39;data !=null&#39; error", "body": "<p>I am trying to place a <strong>CupertinoPicker</strong> in a <strong>BottomSheet</strong> which I am displaying with <code>showModalBottomSheet()</code>. This displays below error but the same code works fine if directly placed in the Main Layout(from where the modal is called).</p>\n\n<p>error:</p>\n\n<blockquote>\n  <p>A non-null String must be provided to a Text widget.\n  'package:flutter/src/widgets/text.dart':\n  Failed assertion: line 285 pos 10: 'data != null'</p>\n</blockquote>\n\n<p>Code:</p>\n\n<pre><code>Container(\n      height: 150.00,\n      child: CupertinoPicker(\n        itemExtent: 30.00,\n        children: &lt;Widget&gt;[\n          Text('a'),\n          Text('b'),\n          Text('c'),\n          Text('d'),\n          Text('e'),\n        ],\n        onSelectedItemChanged: (newIndex){\n        },\n      ),\n    ),\n</code></pre>\n\n<p>Any ideas why wouldn't it work and any workaround for it?</p>\n\n<p><a href=\"https://i.stack.imgur.com/Q5fVz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q5fVz.png\" alt=\"enter image description here\"></a></p>\n\n<p>Code for my BottomSheet layout is <a href=\"https://www.codepile.net/pile/X2w0WM8o\" rel=\"nofollow noreferrer\">here</a>: </p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 1293, "user_id": 1846395, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/rzduR.jpg?s=128&g=1", "display_name": "dubace", "link": "https://stackoverflow.com/users/1846395/dubace"}, "edited": false, "score": 0, "creation_date": 1574107680, "post_id": 58914535, "comment_id": 104105586, "body": "try one my time, I added some code that will help you"}], "answers": [{"comments": [{"owner": {"reputation": 572, "user_id": 9581062, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Patrick Lumenus", "link": "https://stackoverflow.com/users/9581062/patrick-lumenus"}, "edited": false, "score": 0, "creation_date": 1574089153, "post_id": 58917218, "comment_id": 104096194, "body": "I tried making it nullable with no luck. I added my model class in the question."}, {"owner": {"reputation": 572, "user_id": 9581062, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Patrick Lumenus", "link": "https://stackoverflow.com/users/9581062/patrick-lumenus"}, "edited": false, "score": 0, "creation_date": 1574109304, "post_id": 58917218, "comment_id": 104106376, "body": "Alright. That works. So, looking forward, I need to keep the property names, parameter names (constructor parameters), and getter names all the same. Thanks"}, {"owner": {"reputation": 1293, "user_id": 1846395, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/rzduR.jpg?s=128&g=1", "display_name": "dubace", "link": "https://stackoverflow.com/users/1846395/dubace"}, "reply_to_user": {"reputation": 572, "user_id": 9581062, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Patrick Lumenus", "link": "https://stackoverflow.com/users/9581062/patrick-lumenus"}, "edited": false, "score": 0, "creation_date": 1574110070, "post_id": 58917218, "comment_id": 104106734, "body": "There is also a possibility to remove all getters, remove the underscore from your variable names, and initialize your parameters inline: Account(this.id, this.firstName, this.lastName, this.email,     this.dob, this.created, this.updated,     {this.accessToken, this.refreshToken})"}, {"owner": {"reputation": 572, "user_id": 9581062, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Patrick Lumenus", "link": "https://stackoverflow.com/users/9581062/patrick-lumenus"}, "edited": false, "score": 1, "creation_date": 1574178736, "post_id": 58917218, "comment_id": 104134533, "body": "Yes true. Although, as I\u2019ll soon be getting other devs to jump on this project, I don\u2019t really like just letting anybody modify the data of the model however way they want. But, that definitely is an easy work around."}, {"owner": {"reputation": 500, "user_id": 7565464, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/lI9zy.jpg?s=128&g=1", "display_name": "Efe", "link": "https://stackoverflow.com/users/7565464/efe"}, "edited": false, "score": 0, "creation_date": 1610361889, "post_id": 58917218, "comment_id": 116099223, "body": "Just to remind that reflection is put away in Flutter because it is interfering with tree shaking: <a href=\"https://flutter.dev/docs/development/data-and-backend/json#is-there-a-gsonjacksonmoshi-equivalent-in-flutter\" rel=\"nofollow noreferrer\">flutter.dev/docs/development/data-and-backend/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1293, "user_id": 1846395, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/rzduR.jpg?s=128&g=1", "display_name": "dubace", "link": "https://stackoverflow.com/users/1846395/dubace"}, "is_accepted": true, "score": 1, "last_activity_date": 1574092524, "last_edit_date": 1574092524, "creation_date": 1574088645, "answer_id": 58917218, "question_id": 58914535, "link": "https://stackoverflow.com/questions/58914535/flutter-json-serializable-build-failing/58917218#58917218", "title": "Flutter json_serializable Build failing", "body": "<p>You are getting the error because you didn't initialize passed parameters, you have an empty constructor.</p>\n\n<p>You have to initialize every parameter you have in your class, or allow them to be nullable with <code>JsonSerializable(nullable: true)</code> or <code>JsonKey(nullable: true)</code></p>\n\n<p>Please share all code in your class if that solution wouldn't work for you</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>The library works with reflection, I understand where was an error.</p>\n\n<ol>\n<li>Attributes should be named the same as your parameters.</li>\n<li>Your getters should be named the same as your parameters</li>\n</ol>\n\n<p>Change your code with next fixes:</p>\n\n<pre><code>Account(String id, String firstName, String lastName, String email,\n    DateTime dob, DateTime created, DateTime updated,\n    String accessToken, String refreshToken) {\n    this._id = id;\n    this._firstName = firstName;\n    this._lastName = lastName;\n    this._email = email;\n    this._dob = dob;\n    this._created = created;\n    this._updated = updated;\n    this._accessToken = accessToken;\n    this._refreshToken = refreshToken;\n  }\n\n  /// Get the date the account was created.\n  DateTime get created {\n    return this._created;\n  }\n\n  /// get teh date the account was last updated.\n  DateTime get updated {\n    return this._updated;\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 398, "user_id": 8302395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VJPLo.jpg?s=128&g=1", "display_name": "Roland van der Linden", "link": "https://stackoverflow.com/users/8302395/roland-van-der-linden"}, "is_accepted": false, "score": 0, "last_activity_date": 1602769170, "last_edit_date": 1602769170, "creation_date": 1602768191, "answer_id": 64372534, "question_id": 58914535, "link": "https://stackoverflow.com/questions/58914535/flutter-json-serializable-build-failing/64372534#64372534", "title": "Flutter json_serializable Build failing", "body": "<p>For future reference, I would like to explain the problem above with an example and suggest a general solution for it:</p>\n<p>json_serializable + json_annotation use the constructor parameter names as the json field keys. So there is a distinct difference between the two examples below:</p>\n<pre><code>@JsonSerializable()\nclass User {\n  @JsonKey(name: &quot;first_name&quot;) final String firstName;\n\n  // In this case, the json key becomes 'first_name',\n  // extracted from the explicitly referenced field annotation.\n  const User(this.firstName);\n}\n\n@JsonSerializable()\nclass User {\n  @JsonKey(name: &quot;first_name&quot;) String _firstName;\n  String get firstName =&gt; _firstName?.trim();\n\n  // In this case, the json key becomes 'firstName',\n  // extracted from the constructor parameter name. \n  // For reflection, the field and its annotation are not involved.\n  User(String firstName) {\n    this._firstName = firstName;\n  }\n}\n</code></pre>\n<p>The reason we want to hide a field is twofold; We don't want others to be able to update its value, and we want to provide a 'corrected' (in this case, trimmed) value rather than the unvalidated value retrieved from an external source. Since we are unable to neatly hide the unvalidated value, I'd suggest we do expose it but explicitly mention its shortcomings, like so:</p>\n<pre><code>@JsonSerializable()\nclass User {\n  // The field is final, so its value cannot be altered as if private.\n  // It is exposed (sadly), but clearly mentions potential issues.\n  @JsonKey(name: &quot;first_name&quot;) final String firstNameUntrimmed;\n  \n  // This is the 'corrected' version available with a more pleasant field name.\n  String get firstName =&gt; firstNameUntrimmed?.trim();\n\n  const User(this.firstNameUntrimmed);\n}\n</code></pre>\n"}], "owner": {"reputation": 572, "user_id": 9581062, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Patrick Lumenus", "link": "https://stackoverflow.com/users/9581062/patrick-lumenus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1580, "favorite_count": 1, "accepted_answer_id": 58917218, "answer_count": 2, "score": 4, "last_activity_date": 1602769170, "creation_date": 1574079944, "last_edit_date": 1574089378, "question_id": 58914535, "link": "https://stackoverflow.com/questions/58914535/flutter-json-serializable-build-failing", "title": "Flutter json_serializable Build failing", "body": "<p>I am using <code>json_serializable</code>, <code>json_annotation</code>, and build to generate <code>serialization/deserialization</code> functionality for my models. When I run the build though, I get this error. </p>\n\n<blockquote>\n  <p>Error running JsonSerializableGenerator\n  Cannot populate the required constructor argument: created.\n  package:explorer/models/Account/account.dart:46:3</p>\n</blockquote>\n\n<p>The line it is referring to is my model constructor which is this. </p>\n\n<pre><code>Account(String id, String firstName, String lastName, String email,\n  DateTime dob, DateTime created, DateTime updated,\n  {String accessTkn, String refreshTkn}) {}\n</code></pre>\n\n<p>Why am I getting this error?</p>\n\n<p>As requested, here is my model class.</p>\n\n<pre><code>import \"package:json_annotation/json_annotation.dart\";\n\npart \"account.g.dart\";\n\n@JsonSerializable(nullable: true)\nclass Account {\n  @JsonKey(name: \"id\")\n  String _id;\n\n  @JsonKey(name: \"first_name\")\n  String _firstName;\n\n  @JsonKey(name: \"last_name\")\n  String _lastName;\n\n  @JsonKey(name: \"email\")\n  String _email;\n\n  @JsonKey(\n      name: \"dob\", fromJson: _isoStringToDateTime, toJson: _dateTimeToIsoString)\n  DateTime _dob;\n\n  @JsonKey(\n      name: \"created\",\n      fromJson: _isoStringToDateTime,\n      toJson: _dateTimeToIsoString)\n  DateTime _created;\n\n  @JsonKey(\n      name: \"updated\",\n      fromJson: _isoStringToDateTime,\n      toJson: _dateTimeToIsoString)\n  DateTime _updated;\n\n  @JsonKey(name: \"access_token\")\n  String _accessToken;\n\n  @JsonKey(name: \"refresh_token\")\n  String _refreshToken;\n\n  Account(String id, String firstName, String lastName, String email,\n      DateTime dob, DateTime created, DateTime updated,\n      {String accessTkn, String refreshTkn}) {\n    this._id = id;\n    this._firstName = firstName;\n    this._lastName = lastName;\n    this._email = email;\n    this._dob = dob;\n    this._created = created;\n    this._updated = updated;\n    this._accessToken = accessToken;\n    this._refreshToken = refreshTkn;\n  }\n\n  factory Account.fromJson(Map&lt;String, dynamic&gt; json) {\n    _$AccountFromJson(json);\n  }\n\n  // converts a DateTime to a ISO string\n  static String _dateTimeToIsoString(DateTime date) {\n    return date.toIso8601String();\n  }\n\n  // convert back to date time\n  static DateTime _isoStringToDateTime(String iso) {\n    return DateTime.parse(iso);\n  }\n\n  /// get the account id\n  String get id {\n    return this._id;\n  }\n\n  /// get the account first name\n  String get firstName {\n    return this._firstName;\n  }\n\n  /// get the account last name\n  String get lastName {\n    return this._lastName;\n  }\n\n  /// get the account email.\n  String get email {\n    return this._email;\n  }\n\n  /// get the account owner's date of birth\n  DateTime get dob {\n   return this._dob;\n  }\n\n  /// Get the date the account was created.\n  DateTime get createdAt {\n    return this._created;\n  }\n\n  /// get teh date the account was last updated.\n  DateTime get updatedAt {\n   return this._updated;\n  }\n\n  // get the account access token.\n  String get accessToken {\n    return this._accessToken;\n  }\n\n  // get the account refresh token.\n  String get refreshToken {\n    return this._refreshToken;\n  }\n\n  /// clones the account instance\n  Account clone() {\n    return Account(this.id, this.firstName, this.lastName, this.email, this.dob,\n        this.createdAt, this.updatedAt,\n        accessTkn: this.accessToken, refreshTkn: this.refreshToken);\n  }\n\n  Map&lt;String, dynamic&gt; toJson() {\n    _$AccountToJson(this);\n  }\n}\n</code></pre>\n"}, {"tags": ["asynchronous", "flutter", "dart"], "comments": [{"owner": {"reputation": 819, "user_id": 9907366, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PA8dauX8bto/AAAAAAAAAAI/AAAAAAAAAGg/b6BphmC227g/photo.jpg?sz=128", "display_name": "satish", "link": "https://stackoverflow.com/users/9907366/satish"}, "edited": false, "score": 1, "creation_date": 1574079405, "post_id": 58914233, "comment_id": 104090569, "body": "Please add more information, But what I answered I think you want to cancel async function here the link may help you <a href=\"https://dart.academy/how_cancel_future/\" rel=\"nofollow noreferrer\">dart.academy/how_cancel_future</a>."}], "answers": [{"tags": [], "owner": {"reputation": 660, "user_id": 11913272, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GTdupeu88Bs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reVZ8AGnW2KPB6V2qOg5vxXSehAfw/photo.jpg?sz=128", "display_name": "suhaib salem", "link": "https://stackoverflow.com/users/11913272/suhaib-salem"}, "is_accepted": false, "score": 0, "last_activity_date": 1574080197, "creation_date": 1574080197, "answer_id": 58914601, "question_id": 58914233, "link": "https://stackoverflow.com/questions/58914233/how-to-finish-all-previous-async-functions-in-flutter/58914601#58914601", "title": "How to finish all previous async functions in flutter?", "body": "<p>declare a Timer to stop it later </p>\n\n<pre><code>Timer timer;\n\nvoid asyncFunction() {\n    timer = Timer(Duration(seconds: 1), () async {\n      print('something');\n    });\n\n   onPressed: () {\n  if(timer != null)\n   timer.cancel();\n\n   asyncFunction();\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1744, "user_id": 4266182, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XRwYW.jpg?s=128&g=1", "display_name": "Michael Yuwono", "link": "https://stackoverflow.com/users/4266182/michael-yuwono"}, "is_accepted": true, "score": 0, "last_activity_date": 1574137105, "creation_date": 1574137105, "answer_id": 58926585, "question_id": 58914233, "link": "https://stackoverflow.com/questions/58914233/how-to-finish-all-previous-async-functions-in-flutter/58926585#58926585", "title": "How to finish all previous async functions in flutter?", "body": "<p>You need to cancel the previous running timer every time you run your function. Declare a timer into your state as a pointer to the current async execution.</p>\n\n<pre><code>Timer _timer;\n\nvoid asyncFunction() {\n  _timer?.cancel();\n  _timer = Timer(\n    const Duration(seconds: 4),\n    () =&gt; print('something'),\n  );\n}\n</code></pre>\n"}], "owner": {"reputation": 485, "user_id": 9440553, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c0RC5.jpg?s=128&g=1", "display_name": "KOrra", "link": "https://stackoverflow.com/users/9440553/korra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 1, "accepted_answer_id": 58926585, "answer_count": 2, "score": 0, "last_activity_date": 1574137105, "creation_date": 1574078896, "last_edit_date": 1574079323, "question_id": 58914233, "link": "https://stackoverflow.com/questions/58914233/how-to-finish-all-previous-async-functions-in-flutter", "title": "How to finish all previous async functions in flutter?", "body": "<p>I just created button that will run async function. The function will wait 4 seconds and prints.If I click button several times it will print all clicks. I want to after click the button, remove the all previous async functions and leave the last click.This is my following code.</p>\n\n<pre><code>void asyncFunction(){\n    Timer(Duration(seconds: 4),() async{\n      print('something');\n    });\n  } \n</code></pre>\n\n<p>So how to finish all previous async functions in flutter?</p>\n"}, {"tags": ["exception", "flutter", "dart"], "comments": [{"owner": {"reputation": 668, "user_id": 3620324, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJeRA.jpg?s=128&g=1", "display_name": "cagica", "link": "https://stackoverflow.com/users/3620324/cagica"}, "edited": false, "score": 0, "creation_date": 1574074522, "post_id": 58912692, "comment_id": 104087896, "body": "Maybe you are handling those exceptions in one of those methods (_fetchSomeData or _fetchSomeOtherData) and are not re-throwing the exception to be handled above those methods."}, {"owner": {"reputation": 2417, "user_id": 4465386, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/vVeFt.png?s=128&g=1", "display_name": "Zvi Karp", "link": "https://stackoverflow.com/users/4465386/zvi-karp"}, "edited": false, "score": 0, "creation_date": 1574074769, "post_id": 58912692, "comment_id": 104088055, "body": "this answer might be helpful - <a href=\"https://stackoverflow.com/a/16022953/4465386\">stackoverflow.com/a/16022953/4465386</a>"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1574109775, "post_id": 58912692, "comment_id": 104106599, "body": "<code>try { var result = await Future.wait([ Future.delayed(Duration(seconds: 1), () =&gt; &#39;first&#39;), Future.delayed(Duration(seconds: 2), () =&gt; &#39;second&#39;), Future.delayed(Duration(seconds: 3), () =&gt; throw Exception(&#39;bad things happened&#39;)), ]); print(&#39;result: $result&#39;); } on Exception catch(e) { print(&#39;error: [$e]&#39;); }</code> what do you see on the logs?"}, {"owner": {"reputation": 778, "user_id": 1566122, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e53a1196e540f3b88cbe20d414e3e1fe?s=128&d=identicon&r=PG", "display_name": "Janneman", "link": "https://stackoverflow.com/users/1566122/janneman"}, "edited": false, "score": 0, "creation_date": 1574157674, "post_id": 58912692, "comment_id": 104122035, "body": "Yes that works, I&#39;ve narrowed down the issue. I&#39;m updating my post."}, {"owner": {"reputation": 778, "user_id": 1566122, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e53a1196e540f3b88cbe20d414e3e1fe?s=128&d=identicon&r=PG", "display_name": "Janneman", "link": "https://stackoverflow.com/users/1566122/janneman"}, "edited": false, "score": 0, "creation_date": 1574158474, "post_id": 58912692, "comment_id": 104122470, "body": "Please check the updated information in my opening post. Can you reproduce the issue now?"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1574161101, "post_id": 58912692, "comment_id": 104124136, "body": "with or without <code>await Future.delayed(...)</code> inside <code>_someMethod</code> method it works just fine: <code>error: [...]</code> is printed"}, {"owner": {"reputation": 778, "user_id": 1566122, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e53a1196e540f3b88cbe20d414e3e1fe?s=128&d=identicon&r=PG", "display_name": "Janneman", "link": "https://stackoverflow.com/users/1566122/janneman"}, "edited": false, "score": 0, "creation_date": 1574165876, "post_id": 58912692, "comment_id": 104126789, "body": "Do you have the Uncaught Exceptions breakpoints enabled? Otherwise the catch does get triggered here too. Maybe it&#39;s an issue with the debugger. I&#39;m using Visual Studio with the latest Flutter."}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1574168563, "post_id": 58912692, "comment_id": 104128288, "body": "i am just running your code and <code>on Exception catch(e) { ...</code> gets executed"}, {"owner": {"reputation": 778, "user_id": 1566122, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e53a1196e540f3b88cbe20d414e3e1fe?s=128&d=identicon&r=PG", "display_name": "Janneman", "link": "https://stackoverflow.com/users/1566122/janneman"}, "edited": false, "score": 0, "creation_date": 1574169470, "post_id": 58912692, "comment_id": 104128804, "body": "I know but do you have Uncaught Exceptions breakpoints checked or not? It&#39;s on the bottom left in the Debug tab of VS."}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1574171349, "post_id": 58912692, "comment_id": 104129894, "body": "i dont use any debug sessions: i just run it via <code>flutter -v run ...</code>"}, {"owner": {"reputation": 778, "user_id": 1566122, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e53a1196e540f3b88cbe20d414e3e1fe?s=128&d=identicon&r=PG", "display_name": "Janneman", "link": "https://stackoverflow.com/users/1566122/janneman"}, "edited": false, "score": 0, "creation_date": 1574175642, "post_id": 58912692, "comment_id": 104132519, "body": "I have previously stated that the issue only occurs while debugging using uncaught exception breakpoints, so if you try to replicate please do this too."}], "answers": [{"comments": [{"owner": {"reputation": 778, "user_id": 1566122, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e53a1196e540f3b88cbe20d414e3e1fe?s=128&d=identicon&r=PG", "display_name": "Janneman", "link": "https://stackoverflow.com/users/1566122/janneman"}, "edited": false, "score": 0, "creation_date": 1574157606, "post_id": 58913807, "comment_id": 104121988, "body": "I&#39;ve tried both of those things already, you can see me using try catch in my example."}, {"owner": {"reputation": 8769, "user_id": 2315974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C388N.jpg?s=128&g=1", "display_name": "danypata", "link": "https://stackoverflow.com/users/2315974/danypata"}, "reply_to_user": {"reputation": 778, "user_id": 1566122, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e53a1196e540f3b88cbe20d414e3e1fe?s=128&d=identicon&r=PG", "display_name": "Janneman", "link": "https://stackoverflow.com/users/1566122/janneman"}, "edited": false, "score": 0, "creation_date": 1574157709, "post_id": 58913807, "comment_id": 104122053, "body": "@Janneman I didn&#39;t see where you&#39;ve used the <code>onError</code> callback."}, {"owner": {"reputation": 778, "user_id": 1566122, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e53a1196e540f3b88cbe20d414e3e1fe?s=128&d=identicon&r=PG", "display_name": "Janneman", "link": "https://stackoverflow.com/users/1566122/janneman"}, "edited": false, "score": 0, "creation_date": 1574158399, "post_id": 58913807, "comment_id": 104122421, "body": "I tried that too, but I used the try/catch approach in my example. I just updated my initial post with an update with some more information."}], "tags": [], "owner": {"reputation": 8769, "user_id": 2315974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C388N.jpg?s=128&g=1", "display_name": "danypata", "link": "https://stackoverflow.com/users/2315974/danypata"}, "is_accepted": false, "score": 0, "last_activity_date": 1574077384, "creation_date": 1574077384, "answer_id": 58913807, "question_id": 58912692, "link": "https://stackoverflow.com/questions/58912692/future-wait-not-catching-exceptions-dart/58913807#58913807", "title": "Future.wait() not catching exceptions (Dart)", "body": "<p>I think you are a bit mislead by the <code>Future.wait()</code> naming. <code>Future.wait()</code> returns another future that will have a <code>List</code> of elements returned by each future when it completes with success.</p>\n\n<p>Now since the <code>Future.wait()</code> is still a future. You can handle it in two ways:</p>\n\n<ol>\n<li>Using <code>await</code> with <code>try catch</code>.</li>\n<li>Using <code>onError</code> callback.</li>\n</ol>\n\n<p>Tis will be something like</p>\n\n<pre><code>Future.wait([futureOne, futureTwo])\n.then((listOfValues) {\n    print(\"ALL GOOD\")\n }, \n onError: (error) { print(\"Something is not ok\") }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2422, "user_id": 1798328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IgTzM.png?s=128&g=1", "display_name": "BambinoUA", "link": "https://stackoverflow.com/users/1798328/bambinoua"}, "is_accepted": false, "score": 0, "last_activity_date": 1582882200, "creation_date": 1582882200, "answer_id": 60448782, "question_id": 58912692, "link": "https://stackoverflow.com/questions/58912692/future-wait-not-catching-exceptions-dart/60448782#60448782", "title": "Future.wait() not catching exceptions (Dart)", "body": "<blockquote>\n  <p>What do I need to do to catch the exceptions while using Future.wait()?</p>\n</blockquote>\n\n<p>What I found out when I used the same code as you the code inside of each procedure which is used in <code>Future.wait()</code> must be wrapped with <code>try/catch</code> and on <code>catch</code> must return <code>Future.error()</code>. Also <code>eagerError</code> must be set to <code>true</code>.</p>\n\n<pre><code>try {\n  await Future.wait([proc1, ...], eagerError: true);\n} on catch(e) {\n  print('error: $e')\n}\n\n/// Proc 1\nFuture&lt;void&gt; proc1() async {\n  try {\n    final result = await func();\n  } on SomeException catch(e) {\n    return Future.error('proc 1 error: $');\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 778, "user_id": 1566122, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e53a1196e540f3b88cbe20d414e3e1fe?s=128&d=identicon&r=PG", "display_name": "Janneman", "link": "https://stackoverflow.com/users/1566122/janneman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1257, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1582882200, "creation_date": 1574073582, "last_edit_date": 1574166109, "question_id": 58912692, "link": "https://stackoverflow.com/questions/58912692/future-wait-not-catching-exceptions-dart", "title": "Future.wait() not catching exceptions (Dart)", "body": "<p>In my Flutter app I'd like to make multiple network calls simultaneously and then do something when they all have finished. For this I use <code>Future.wait()</code>, which does what I want. However when a call fails it throws an exception, which is somehow not caught in the exception handler (i.e. uncaught exception).</p>\n\n<p>When I do <code>await _fetchSomeData()</code> separately (outside <code>Future.wait()</code>) the exception does get called by the exception handler as expected.</p>\n\n<pre><code>  Future&lt;bool&gt; someMethod() async {\n\n    try {\n      var results = await Future.wait([\n        _fetchSomeData(),\n        _fetchSomeOtherData()\n      ]);\n      //do some stuf when both have finished...\n      return true;\n    }\n    on Exception catch(e) {\n      //does not get triggered somehow...\n      _handleError(e);\n      return false;\n    }\n  } \n</code></pre>\n\n<p>What do I need to do to catch the exceptions while using <code>Future.wait()</code>?</p>\n\n<p>Update:</p>\n\n<p>I have narrowed down the issue. Turns out if you use another await statement in the method that is called by the <code>Future.wait()</code> it causes the issue. Here an example:</p>\n\n<pre><code>  void _futureWaitTest() async {\n\n    try {\n      //await _someMethod(); //using this does not cause an uncaught exception, but the line below does\n      await Future.wait([ _someMethod(), ]);\n    }\n    on Exception catch(e) {\n      print(e);\n    } \n  }\n\n  Future&lt;bool&gt; _someMethod() async {\n    await Future.delayed(Duration(seconds: 0), () =&gt; print('wait')); //removing this prevents the uncaught exception\n    throw Exception('some exception');\n  }\n</code></pre>\n\n<p>So if you either remove the await line from <code>_someMethod()</code> or if you just call <code>_someMethod()</code> outside of <code>Future.wait()</code> will prevent the uncaught exception. This is most unfortunate of course, I need await for an http call... some bug in Dart?</p>\n\n<p>I have the Uncaught Exceptions breakpoints enabled. If I turn this off the issue seems to be gone. Perhaps it's an issue with the debugger. I am using Visual Studio Code and the latest flutter.</p>\n"}]