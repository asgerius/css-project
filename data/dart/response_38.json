[{"tags": ["dart"], "comments": [{"owner": {"reputation": 1238, "user_id": 3195183, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/isF51.jpg?s=128&g=1", "display_name": "ViRALiC", "link": "https://stackoverflow.com/users/3195183/viralic"}, "edited": false, "score": 2, "creation_date": 1443510717, "post_id": 32837762, "comment_id": 53510668, "body": "There&#39;s a joke in that title somewhere."}, {"owner": {"reputation": 656, "user_id": 2223781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ZODdM.jpg?s=128&g=1", "display_name": "kelegorm", "link": "https://stackoverflow.com/users/2223781/kelegorm"}, "reply_to_user": {"reputation": 1238, "user_id": 3195183, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/isF51.jpg?s=128&g=1", "display_name": "ViRALiC", "link": "https://stackoverflow.com/users/3195183/viralic"}, "edited": false, "score": 0, "creation_date": 1443513011, "post_id": 32837762, "comment_id": 53511954, "body": "Do you mean infinite loop problem? I didn&#39;t know about it."}], "answers": [{"comments": [{"owner": {"reputation": 656, "user_id": 2223781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ZODdM.jpg?s=128&g=1", "display_name": "kelegorm", "link": "https://stackoverflow.com/users/2223781/kelegorm"}, "edited": false, "score": 0, "creation_date": 1443512785, "post_id": 32837881, "comment_id": 53511799, "body": "So, you left me <code>attached</code> or <code>domeReady</code> events only. Ok, In this case I have to choose <code>attached</code>. Thanks."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 656, "user_id": 2223781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ZODdM.jpg?s=128&g=1", "display_name": "kelegorm", "link": "https://stackoverflow.com/users/2223781/kelegorm"}, "edited": false, "score": 0, "creation_date": 1443513087, "post_id": 32837881, "comment_id": 53512005, "body": "The factory constructor is fine as well, just not the <code>created()</code> constructor."}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1443511217, "last_edit_date": 1443511217, "creation_date": 1443510885, "answer_id": 32837881, "question_id": 32837762, "link": "https://stackoverflow.com/questions/32837762/what-is-best-time-to-create-and-attach-children/32837881#32837881", "title": "What is best time to create and attach children?", "body": "<p>As far as I know this doesn't matter much except I discourage the use of\n<code>MyComponent.created()</code> to manipulate the DOM because this is known to cause endless loops.<br>\nIf you manipulate the DOM in sync code the rendering is blocked until your code is done (no matter when you do the adding).<br>\nIf you do async operations between DOM updates (fetch data from a server for instance), the browser might rerender between updates which might be expensive. I think in this case it's more efficient to wait until you have all information and do all DOM updates at once.</p>\n\n<ul>\n<li><a href=\"https://github.com/dart-lang/sdk/issues/21495\" rel=\"nofollow\">https://github.com/dart-lang/sdk/issues/21495</a></li>\n<li><a href=\"https://github.com/dart-lang/sdk/issues/23666\" rel=\"nofollow\">https://github.com/dart-lang/sdk/issues/23666</a></li>\n</ul>\n"}], "owner": {"reputation": 656, "user_id": 2223781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ZODdM.jpg?s=128&g=1", "display_name": "kelegorm", "link": "https://stackoverflow.com/users/2223781/kelegorm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 32837881, "answer_count": 1, "score": 0, "last_activity_date": 1443511217, "creation_date": 1443510518, "question_id": 32837762, "link": "https://stackoverflow.com/questions/32837762/what-is-best-time-to-create-and-attach-children", "title": "What is best time to create and attach children?", "body": "<p>I'm making Custom Elements without polymer and I don't use HTML markup. So, to have inner elements I have to construct and attach it on runtime. MyComponent is just classic View. I can set some data <code>{val: 97.0, unit: '%'}</code> and component displays it.</p>\n\n<p>All initializations I do in <code>attached</code> or <code>domReady</code> event ( I still didn't get where is the best). Here I can set data to real elements was attached ('97.0%' to the span element).</p>\n\n<p>So, I can create inner elements in constructor <code>MyComponent.created()</code>, in <code>attached</code> event, in <code>domReady</code> event or ever in factory constructor like this:</p>\n\n<pre><code>factory MyComponent (data) {\n  var component = new Element.tag('my-component');\n  component.data = data;\n  component.children.add(\n    new Element.span()\n    ..classes.toggle('display', true)\n  );\n  return component;\n}\n</code></pre>\n\n<p>And here is a question: where is best place to:</p>\n\n<ol>\n<li>construct elements with <code>new Element.tag('my-component');</code>;</li>\n<li>set it's properties like style, classes and so on;</li>\n<li>attach it with `children.add(component);?</li>\n</ol>\n\n<p>Thank you.</p>\n"}, {"tags": ["calendar", "dart", "bootjack"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1443507422, "post_id": 32836774, "comment_id": 53509039, "body": "<code>NodeTreeSaniztizer.trusted</code> was added only recently. Where do you get this error? In Dartium or Chrome or both? What Dart version are you using?"}, {"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1443507654, "post_id": 32836774, "comment_id": 53509150, "body": "I&#39;m seeing this in Dartium, in compiled JS on production, the calendar seems to work. <code>pub --version</code> outputs 1.12.1. Are you suggesting that my Dartium might be outdated?"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1443507971, "post_id": 32836774, "comment_id": 53509302, "body": "Yes, it looks like your Dartium is outdated. You could check the Dart version in <code>about:&#47;&#47;version</code> in Dartium."}, {"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1443508146, "post_id": 32836774, "comment_id": 53509384, "body": "Dart version says 1.11.1, so that&#39;s probably why it&#39;s  breaking since I&#39;m on 1.12.1. I&#39;ve already done a brew update and brew upgrade and there seems to be no updates to Dartium. Will try and re-install it."}], "answers": [{"comments": [{"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "edited": false, "score": 0, "creation_date": 1443508936, "post_id": 32837144, "comment_id": 53509791, "body": "How do I upgrade Dartium? Looking in <code>&#47;usr&#47;local&#47;Cellar&#47;dartium</code>, I can see several dozen versions of Dartium stopping at 1.11.1. <code>brew update &amp; brew upgrade dartium</code> returns <code>Error: No available formula for dart-lang&#47;dart&#47;dartium</code>. Has dartium been removed from Homebrew?"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "edited": false, "score": 1, "creation_date": 1443509243, "post_id": 32837144, "comment_id": 53509931, "body": "I&#39;m on Linux, don&#39;t know about <code>brew</code>. Have you tried uninstalling and install with <code>brew install dart --with-dartium</code>, <code>brew linkapps</code> (<a href=\"https://github.com/dart-lang/homebrew-dart\" rel=\"nofollow noreferrer\">github.com/dart-lang/homebrew-dart</a>). Update is done with <code>brew update</code>,<code>brew upgrade dart</code>. If it doesn&#39;t work please file an issue at <a href=\"https://github.com/dart-lang/homebrew-dart/issues\" rel=\"nofollow noreferrer\">github.com/dart-lang/homebrew-dart/issues</a>"}, {"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "edited": false, "score": 1, "creation_date": 1443509700, "post_id": 32837144, "comment_id": 53510147, "body": "Yes, just removed dart completely from my system and reinstalling with the special flags. I can see Dartium 1.12.1 downloading now. In the past, it used to be two separate packages, it seems they&#39;ve been merged into one package now and the --with-dartium option wasn&#39;t available back then, so I never had that flag ticked. Thanks for the help!"}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 2, "last_activity_date": 1443508292, "creation_date": 1443508292, "answer_id": 32837144, "question_id": 32836774, "link": "https://stackoverflow.com/questions/32836774/dart-treesanitzer-no-static-getter-trusted-declared-in-class-nodetreesanitiz/32837144#32837144", "title": "Dart TreeSanitzer: No static getter &#39;trusted&#39; declared in class &#39;NodeTreeSanitizer&#39;", "body": "<p>Looks like your Dartium version is outdated.<br>\nPlease compare the output of <code>dart --version</code> (command line) and the Dart version on the <code>about://version</code> page in Dartium.</p>\n"}], "owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 32837144, "answer_count": 1, "score": 1, "last_activity_date": 1443508292, "creation_date": 1443506802, "question_id": 32836774, "link": "https://stackoverflow.com/questions/32836774/dart-treesanitzer-no-static-getter-trusted-declared-in-class-nodetreesanitiz", "title": "Dart TreeSanitzer: No static getter &#39;trusted&#39; declared in class &#39;NodeTreeSanitizer&#39;", "body": "<p>I'm using the Bootjack Datepicker and after upgrading Dart to 1.12.1, I'm all of a sudden seeing only half a calendar with no days and with this exception:</p>\n\n<blockquote>\n  <p>Exception: No static getter 'trusted' declared in class\n  'NodeTreeSanitizer'. NoSuchMethodError: method not found: 'trusted'\n  Receiver: Type: class 'NodeTreeSanitizer'</p>\n</blockquote>\n\n<p>This is the only line of code needed to wire the calendar:</p>\n\n<pre><code>Calendar.use();\n</code></pre>\n\n<p>If you need to manually wire the calendar, you can manually call:</p>\n\n<pre><code>Calendar.wire(querySelector(\"div.calendar\"));\n</code></pre>\n\n<p>Both of them are giving me the exception in <code>calendar.dart</code> </p>\n\n<p>The code that seems to be breaking is: </p>\n\n<pre><code>void _dayView() {\n    TableElement calBody = element.querySelector('.cnt');\n    Element dow = calBody.tBodies[0].createFragment(_DOW_TEMPLATE).children[0];\n    List&lt;Element&gt; children = dow.children;\n\n    List&lt;String&gt; swkDays = _dfmt.dateSymbols.SHORTWEEKDAYS;\n    int ofs = (_firstDayOfWeek + 1) % 7;\n    //render week days\n    for (int i = swkDays.length; --i &gt;= 0;) {\n      children[i].text = swkDays[(i + ofs) % 7];\n    }\n\n    var buffer = new StringBuffer();\n    for (int i = 6; --i &gt;= 0;) {\n      buffer.write(_DAYROW_TEMPLATE);\n    }\n\n    calBody.tBodies[0]\n    ..append(dow)\n    ..appendHtml(buffer.toString(), treeSanitizer: NodeTreeSanitizer.trusted);   &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; ERROR\n  }\n</code></pre>\n\n<p>Looking at appendHtml, I can see <code>treeSanitizer</code> is an optional param, so that syntax looks fine. In the abstract class <code>NodeTreeSanitizer</code>, I can see: <code>static const trusted = const _TrustedHtmlTreeSanitizer();</code>, so that seems to be fine as well. </p>\n\n<p>Any idea what could be causing this error?</p>\n\n<p>I've logged a bug here in the meantime: <a href=\"https://github.com/rikulo/bootjack-datepicker/issues/2\" rel=\"nofollow\">https://github.com/rikulo/bootjack-datepicker/issues/2</a></p>\n"}, {"tags": ["sass", "dart"], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 4557535, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/f9a5b0074b788182e527f4e19b85c8b3?s=128&d=identicon&r=PG&f=1", "display_name": "Sam B", "link": "https://stackoverflow.com/users/4557535/sam-b"}, "edited": false, "score": 0, "creation_date": 1443543538, "post_id": 32835927, "comment_id": 53531743, "body": "Thanks, I did see that, but I was in denial that a compiler didn&#39;t have an option to specify an output directory."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 177, "user_id": 4557535, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/f9a5b0074b788182e527f4e19b85c8b3?s=128&d=identicon&r=PG&f=1", "display_name": "Sam B", "link": "https://stackoverflow.com/users/4557535/sam-b"}, "edited": false, "score": 0, "creation_date": 1443543618, "post_id": 32835927, "comment_id": 53531804, "body": "This is probably a limitation of pub transformers. You could use the sass file watcher instead."}, {"owner": {"reputation": 177, "user_id": 4557535, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/f9a5b0074b788182e527f4e19b85c8b3?s=128&d=identicon&r=PG&f=1", "display_name": "Sam B", "link": "https://stackoverflow.com/users/4557535/sam-b"}, "edited": false, "score": 0, "creation_date": 1443544379, "post_id": 32835927, "comment_id": 53532279, "body": "Yeah, so we are using the Webstorm file watcher for local compilation, but we need something more consistent for deployment (we are also tracking our css files in git, which is problematic and needs to stop).  Rather than setup a file watcher on our dev server, I was told to use pub build, which made sense at the time.  I may still try to make it work."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 177, "user_id": 4557535, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/f9a5b0074b788182e527f4e19b85c8b3?s=128&d=identicon&r=PG&f=1", "display_name": "Sam B", "link": "https://stackoverflow.com/users/4557535/sam-b"}, "edited": false, "score": 0, "creation_date": 1443544482, "post_id": 32835927, "comment_id": 53532350, "body": "I suggest creating an issue in the GitHub repo of the transformer. The author might not read this SO question (please crosslink when you do)"}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1443502439, "creation_date": 1443502439, "answer_id": 32835927, "question_id": 32833772, "link": "https://stackoverflow.com/questions/32833772/dart-sass-transformer-output-directory/32835927#32835927", "title": "Dart Sass Transformer Output Directory", "body": "<p>Doesn't look like there is such an option <a href=\"https://bitbucket.org/evidentsolutions/dart-sass/src/186ea54c0664637520eb85f5d8be19f5691f8427/lib/src/transformer_options.dart?at=master&amp;fileviewer=file-view-default\" rel=\"nofollow\">https://bitbucket.org/evidentsolutions/dart-sass/src/186ea54c0664637520eb85f5d8be19f5691f8427/lib/src/transformer_options.dart?at=master&amp;fileviewer=file-view-default</a></p>\n"}], "owner": {"reputation": 177, "user_id": 4557535, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/f9a5b0074b788182e527f4e19b85c8b3?s=128&d=identicon&r=PG&f=1", "display_name": "Sam B", "link": "https://stackoverflow.com/users/4557535/sam-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 271, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1443502439, "creation_date": 1443486136, "question_id": 32833772, "link": "https://stackoverflow.com/questions/32833772/dart-sass-transformer-output-directory", "title": "Dart Sass Transformer Output Directory", "body": "<p>I am using Dart with the SASS pub build transformer. Does anyone know how to specify the output directory for compiled css files? I have tried a number of option keys ('output', 'put'), looked over docs, and haven't been able to figure out.  Thanks!</p>\n"}, {"tags": ["dart", "dart-shelf"], "answers": [{"tags": [], "owner": {"reputation": 1117, "user_id": 3130717, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8dd8c8ecf16e5c83e93d7f2ac2434d52?s=128&d=identicon&r=PG&f=1", "display_name": "Anders", "link": "https://stackoverflow.com/users/3130717/anders"}, "is_accepted": true, "score": 4, "last_activity_date": 1443481427, "creation_date": 1443481427, "answer_id": 32833134, "question_id": 32831950, "link": "https://stackoverflow.com/questions/32831950/separating-a-cascade-in-dart/32833134#32833134", "title": "Separating a Cascade in Dart", "body": "<p>The Cascade class is immutable so the add method returns a new instance. Your second code block is assuming the current instance is modified</p>\n\n<p>You need to add the cc =</p>\n\n<pre><code>cc = cc.add(..)\n</code></pre>\n"}], "owner": {"reputation": 2594, "user_id": 496862, "user_type": "registered", "accept_rate": 52, "profile_image": "https://graph.facebook.com/132500947/picture?type=large", "display_name": "Jack Murphy", "link": "https://stackoverflow.com/users/496862/jack-murphy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 32833134, "answer_count": 1, "score": 0, "last_activity_date": 1483003795, "creation_date": 1443474889, "last_edit_date": 1483003795, "question_id": 32831950, "link": "https://stackoverflow.com/questions/32831950/separating-a-cascade-in-dart", "title": "Separating a Cascade in Dart", "body": "<p>I'm seeing some weird behavior in Dart. My goal is to only serve static assets if a build/web Dir exists. </p>\n\n<p>1- The following works:</p>\n\n<pre><code>Cascade cc;\nif(new Directory(buildPath).existsSync() )\n{\n  cc = new Cascade().add(apiHandler).add(fHandler);\n} else {\n  cc = new Cascade().add(apiHandler);\n}\n</code></pre>\n\n<p>2- The following does not work:</p>\n\n<pre><code>  Cascade cc = new Cascade().add(apiHandler);\n  if( new Directory(buildPath).existsSync() )\n  {\n    cc.add(fHandler);\n  }\n</code></pre>\n\n<p><strong>Question</strong>: The example in scenario 1 works fine. In the second example, when i add fHandler, how come none of its associated routes ever get handled?</p>\n"}, {"tags": ["mongodb", "authentication", "dart"], "comments": [{"owner": {"reputation": 1448, "user_id": 945947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e196734cd132acc87c9806981049c4d?s=128&d=identicon&r=PG", "display_name": "Vadim Tsushko", "link": "https://stackoverflow.com/users/945947/vadim-tsushko"}, "edited": false, "score": 0, "creation_date": 1443448504, "post_id": 32812782, "comment_id": 53485126, "body": "Such an error normally would be thrown by mongo_dar if you are trying to authenticate with wrong credentials. I&#39;ve got same error as you when I run such script on local server without sampledb database"}, {"owner": {"reputation": 1448, "user_id": 945947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e196734cd132acc87c9806981049c4d?s=128&d=identicon&r=PG", "display_name": "Vadim Tsushko", "link": "https://stackoverflow.com/users/945947/vadim-tsushko"}, "edited": false, "score": 0, "creation_date": 1443448527, "post_id": 32812782, "comment_id": 53485142, "body": "After I&#39;ve created user with such password in database sampledb ( in mongo shell) , same script works me without errors.  By the way, your function is named <code>createAccount</code> and has comment abount creating account with credentials. Is it a mistake?"}, {"owner": {"reputation": 1448, "user_id": 945947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e196734cd132acc87c9806981049c4d?s=128&d=identicon&r=PG", "display_name": "Vadim Tsushko", "link": "https://stackoverflow.com/users/945947/vadim-tsushko"}, "edited": false, "score": 0, "creation_date": 1443452667, "post_id": 32812782, "comment_id": 53487904, "body": "I&#39;ve reproduced that error with mongodb v. 3 Do you use mongodb 3?"}, {"owner": {"reputation": 1722, "user_id": 2712148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJXes.jpg?s=128&g=1", "display_name": "stwupton", "link": "https://stackoverflow.com/users/2712148/stwupton"}, "reply_to_user": {"reputation": 1448, "user_id": 945947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e196734cd132acc87c9806981049c4d?s=128&d=identicon&r=PG", "display_name": "Vadim Tsushko", "link": "https://stackoverflow.com/users/945947/vadim-tsushko"}, "edited": false, "score": 0, "creation_date": 1443454811, "post_id": 32812782, "comment_id": 53489300, "body": "@VadimTsushko yes I am using MongoDB 3.0. Thank you for looking into this. I look forward to your answer."}], "answers": [{"comments": [{"owner": {"reputation": 1722, "user_id": 2712148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJXes.jpg?s=128&g=1", "display_name": "stwupton", "link": "https://stackoverflow.com/users/2712148/stwupton"}, "edited": false, "score": 0, "creation_date": 1443460013, "post_id": 32824730, "comment_id": 53492179, "body": "Thank you for your answer, this has been a great help! Yes, the current solution is obviously not ideal but it will have to do for now. It would be great if this answer is updated once the new authentication has been implemented in mongo_dart."}], "tags": [], "owner": {"reputation": 1448, "user_id": 945947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e196734cd132acc87c9806981049c4d?s=128&d=identicon&r=PG", "display_name": "Vadim Tsushko", "link": "https://stackoverflow.com/users/945947/vadim-tsushko"}, "is_accepted": true, "score": 3, "last_activity_date": 1461764243, "last_edit_date": 1592644375, "creation_date": 1443448177, "answer_id": 32824730, "question_id": 32812782, "link": "https://stackoverflow.com/questions/32812782/dart-error-when-trying-to-authenticate-with-mongodb/32824730#32824730", "title": "Dart - error when trying to authenticate with mongodb", "body": "<h3>Fresh update:</h3>\n<p>Since version 0.2.5 mongo_dart supports SCRAM-SHA-1 authentification mechanism. It used by default in connections to MongoDb 3</p>\n<h3>Update:</h3>\n<p>That seems to be rather widespread problem with some drivers, programs e.t.c not supporting yet new authentication mechanism (<code>SCRAM-SHA-1</code>) of mongodb 3.0</p>\n<p>By default, mongodb 3.0, do not create credentials in old format (<code>MONGODB-CR</code>) while creating new users.</p>\n<p>There is round-about solution, that force mongodb 3.0 and upper version use <code>MONGODB-CR</code> mode while creating users.\nLook for example solution at <a href=\"https://jira.mongodb.org/browse/SERVER-17459\" rel=\"nofollow noreferrer\">https://jira.mongodb.org/browse/SERVER-17459</a>\nAs stated in that thread</p>\n<blockquote>\n<p>both new drivers and legacy software work with that solution</p>\n</blockquote>\n<p>Obviously best solution for mongo_dart would be to add implementation of new authentication mode to the driver. Can not give any date, but I think it should be first feature that I can take in consideration as soon as I have some time for mongo_dart.</p>\n<p>And obviously it would be great if somebody beat me at that with pull request :)</p>\n<h3>Original answer</h3>\n<p>I've reproduced that error in my environment too.</p>\n<p>Error appears to be related to changed default authentication mode in version 3.0 of MongoDb. I'll update this answer, when the problem will be resolved</p>\n"}, {"tags": [], "owner": {"reputation": 128, "user_id": 8527134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea2a081cf9de94640f250e3d84371ea0?s=128&d=identicon&r=PG", "display_name": "Sparks", "link": "https://stackoverflow.com/users/8527134/sparks"}, "is_accepted": false, "score": 0, "last_activity_date": 1572295490, "creation_date": 1572295490, "answer_id": 58598147, "question_id": 32812782, "link": "https://stackoverflow.com/questions/32812782/dart-error-when-trying-to-authenticate-with-mongodb/58598147#58598147", "title": "Dart - error when trying to authenticate with mongodb", "body": "<p>I tried that in my mongodb 4.0.10 and mongo_dart 0.3.6 and the authentication went all right and correct just update your components if you didn't yet and everything will be fine.</p>\n\n<p>PS: I know I am late but hope someone get used from my \"Note\".</p>\n"}], "owner": {"reputation": 1722, "user_id": 2712148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJXes.jpg?s=128&g=1", "display_name": "stwupton", "link": "https://stackoverflow.com/users/2712148/stwupton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 535, "favorite_count": 0, "accepted_answer_id": 32824730, "answer_count": 2, "score": 2, "last_activity_date": 1572295490, "creation_date": 1443387574, "last_edit_date": 1443413098, "question_id": 32812782, "link": "https://stackoverflow.com/questions/32812782/dart-error-when-trying-to-authenticate-with-mongodb", "title": "Dart - error when trying to authenticate with mongodb", "body": "<p>After running:</p>\n\n<pre><code>import 'package:mongo_dart/mongo_dart.dart';\n\n//Create account with given credentials\ncreateAccount(Map&lt;String, String&gt; credentials) async {\n\n    Db db = new Db('mongodb://127.0.0.1/exampledb');\n    await db.open();\n    await db.authenticate(\"user\", \"password\");\n\n    //TODO: Post credentials into DB\n}\n</code></pre>\n\n<p>I get an error on the Dart server saying: </p>\n\n<blockquote>\n  <p>Unhandled exception:\n  Uncaught Error: {ok: 0.0, errmsg: auth failed, code: 18}</p>\n</blockquote>\n\n<p>And a different error comes up up on the mongod server:</p>\n\n<blockquote>\n  <p>2015-09-27T20:04:25.921+0100 I ACCESS   [conn1] Failed to authenticate user@exampledb with mechanism MONGODB-CR: AuthenticationFailed MONGODB-CR credentia\n  ls missing in the user document</p>\n</blockquote>\n\n<p>The only time when the authentication has succeeded and has allowed me access to the database is when I am using the command prompt.</p>\n\n<p>Example:</p>\n\n<pre><code>$ use exampledb\n$ db.auth(\"user\", \"password\")\n</code></pre>\n\n<p>How can I make my Dart script gain access to my local mongodb, using the authenticate method?</p>\n"}, {"tags": ["sockets", "exception", "dart", "socketexception"], "answers": [{"comments": [{"owner": {"reputation": 668, "user_id": 1945115, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/30ec3c292e6d76a29a1d7216870b1dd0?s=128&d=identicon&r=PG", "display_name": "Alexandr", "link": "https://stackoverflow.com/users/1945115/alexandr"}, "edited": false, "score": 0, "creation_date": 1443372065, "post_id": 32810079, "comment_id": 53457214, "body": "I get your point, but I don&#39;t understand why this is an asynchronous error. I mean, you get this error before starting to actually asynchronously listen to requests, right?"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 668, "user_id": 1945115, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/30ec3c292e6d76a29a1d7216870b1dd0?s=128&d=identicon&r=PG", "display_name": "Alexandr", "link": "https://stackoverflow.com/users/1945115/alexandr"}, "edited": false, "score": 1, "creation_date": 1443372208, "post_id": 32810079, "comment_id": 53457266, "body": "<code>HttpServer.bind()</code> is already async (returns a <code>Future&lt;HttpServer&gt;</code>)"}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 2, "last_activity_date": 1443371424, "last_edit_date": 1443371424, "creation_date": 1443370765, "answer_id": 32810079, "question_id": 32810051, "link": "https://stackoverflow.com/questions/32810051/cannot-catch-socketexception/32810079#32810079", "title": "Cannot catch SocketException", "body": "<p>Asynchronous errors can't be caught using <code>try</code>/<code>catch</code> (<a href=\"https://www.dartlang.org/docs/tutorials/futures/\" rel=\"nofollow\">https://www.dartlang.org/docs/tutorials/futures/</a>) at least unless you are using <code>async</code>/<code>await</code> (<a href=\"https://www.dartlang.org/articles/await-async/\" rel=\"nofollow\">https://www.dartlang.org/articles/await-async/</a>)</p>\n\n<p>See also <a href=\"https://github.com/dart-lang/sdk/issues/24278\" rel=\"nofollow\">https://github.com/dart-lang/sdk/issues/24278</a></p>\n\n<blockquote>\n  <p>You can use the <code>done</code> future on the <code>WebSocket</code> object to get that error, e.g.:</p>\n</blockquote>\n\n<pre><code>import 'dart:async';\nimport 'dart:io';\n\nmain() async {\n  // Connect to a web socket.\n  WebSocket socket = await WebSocket.connect('ws://echo.websocket.org');\n\n  // Setup listening.\n  socket.listen((message) {\n    print('message: $message');\n  }, onError: (error) {\n    print('error: $error');\n  }, onDone: () {\n    print('socket closed.');\n  }, cancelOnError: true);\n\n  // Add message, and then an error.\n  socket.add('echo!');\n  socket.addError(new Exception('error!'));\n\n  // Wait for the socket to close.\n  try {\n    await socket.done;\n    print('WebSocket donw');\n  } catch (error) {\n    print('WebScoket done with error $error');\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2431, "user_id": 10238539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5dN66.jpg?s=128&g=1", "display_name": "MJ Montes", "link": "https://stackoverflow.com/users/10238539/mj-montes"}, "is_accepted": false, "score": 1, "last_activity_date": 1587654003, "creation_date": 1587654003, "answer_id": 61390357, "question_id": 32810051, "link": "https://stackoverflow.com/questions/32810051/cannot-catch-socketexception/61390357#61390357", "title": "Cannot catch SocketException", "body": "<p>You can specify <code>SocketException</code>    </p>\n\n<pre><code>try {\n  //network request\n} on SocketException catch (_) {\n  //handle socket exception here\n} catch (_) {\n  //handle other error\n}\n</code></pre>\n"}], "owner": {"reputation": 668, "user_id": 1945115, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/30ec3c292e6d76a29a1d7216870b1dd0?s=128&d=identicon&r=PG", "display_name": "Alexandr", "link": "https://stackoverflow.com/users/1945115/alexandr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2420, "favorite_count": 1, "accepted_answer_id": 32810079, "answer_count": 2, "score": 2, "last_activity_date": 1587654003, "creation_date": 1443370598, "last_edit_date": 1443371246, "question_id": 32810051, "link": "https://stackoverflow.com/questions/32810051/cannot-catch-socketexception", "title": "Cannot catch SocketException", "body": "<p>I am trying out Dart and I've been struggling with this for quite a bit now. Calling:</p>\n\n<pre><code>runServer() {\n  HttpServer.bind(InternetAddress.ANY_IP_V4, 8080)\n  .then((server) {\n    server.listen((HttpRequest request) {\n      request.response.write('Hello, World!');\n      request.response.close();\n    });\n  });\n}\n</code></pre>\n\n<p>Once works like a charm. And then, trying</p>\n\n<pre><code>try {\n    runServer();\n} on Error catch (e) {\n    print(\"error\");\n} on Exception catch(f) {\n    print(\"exception\");\n}\n</code></pre>\n\n<p>Now I'd expect that if I were to use this try-catch and start listening to the same port more than once, because I'm catching ALL exceptions and ALL errors, the program wouldn't crash. However, after running the code twice, instead of entering any try/catch clause I get:</p>\n\n<blockquote>\n  <p>Uncaut Error: SocketException: Failed to create server socket (OS Error: Only one usage of each socket address (protocol/network address/port) is normally permitted.</p>\n</blockquote>\n\n<p>While I understand what the error is, I don't understand why doesn't it simply enter the catch Error/Exception clause?</p>\n"}, {"tags": ["stream", "dart", "pipe", "backend"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 3611968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0jXoC.jpg?s=128&g=1", "display_name": "4stern", "link": "https://stackoverflow.com/users/3611968/4stern"}, "edited": false, "score": 0, "creation_date": 1443369416, "post_id": 32809824, "comment_id": 53456378, "body": "... and &quot;pipe&quot; are methodes to pass trough a stream to an stream handler   <a href=\"https://api.dartlang.org/133432/dart-async/Stream/pipe.html\" rel=\"nofollow noreferrer\">Dart Doc</a>     and this is what i want to do. but without buffer all the incomming data locally... i want to pass through (piping) the incomming call directly to the other http-service"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 47, "user_id": 3611968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0jXoC.jpg?s=128&g=1", "display_name": "4stern", "link": "https://stackoverflow.com/users/3611968/4stern"}, "edited": false, "score": 0, "creation_date": 1443369580, "post_id": 32809824, "comment_id": 53456432, "body": "Sure the pipes are a very generic concept, I assumed you know them from command line. Streams in Dart have a <code>pipe()</code> function. If you have an incoming stream and an outgoing stream you can use <code>outgoing.pipe(incoming)</code> to forward the data. You still have to create a new request to the &quot;another service&quot; to get an outgoing stream in the first place."}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1443369159, "creation_date": 1443369159, "answer_id": 32809824, "question_id": 32809798, "link": "https://stackoverflow.com/questions/32809798/how-to-pass-through-a-incomming-http-call-to-another-server-in-dart/32809824#32809824", "title": "How to pass through a incomming http call to another server in dart?", "body": "<p>Pipes are a command line shell feature.</p>\n\n<p>When your server receives a request it can create a new request to the \"another server\" and send the data received from the incoming request to this \"another server\".</p>\n\n<p><a href=\"https://pub.dartlang.org/packages/shelf_proxy\" rel=\"nofollow\">shelf_proxy</a> might help you doing that.</p>\n"}, {"tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": true, "score": 2, "last_activity_date": 1443420644, "creation_date": 1443420644, "answer_id": 32816670, "question_id": 32809798, "link": "https://stackoverflow.com/questions/32809798/how-to-pass-through-a-incomming-http-call-to-another-server-in-dart/32816670#32816670", "title": "How to pass through a incomming http call to another server in dart?", "body": "<p>If you have received an incoming request, then the client has a TCP connection with your server. You can't just forward that to another server.</p>\n\n<p>What you can do is to return a 301 Redirect response which should make the requester try the other server instead.</p>\n\n<p>The alternative is to fetch the data from the other server yourself and deliver it as a response to the original request. You can use a stream pipe for that.</p>\n\n<p>Something like:</p>\n\n<pre><code>Future handleRequest(HttpRequest request) {\n  return new HttpClient()  // Or reuse an existing client if it happens often\n      .getUrl(createOtherServerUrl(request))\n      .then((newRequest) =&gt; newRequest.close())\n      .then((response) =&gt; response.pipe(request.response));\n}\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 3611968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0jXoC.jpg?s=128&g=1", "display_name": "4stern", "link": "https://stackoverflow.com/users/3611968/4stern"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 32816670, "answer_count": 2, "score": 0, "last_activity_date": 1445341391, "creation_date": 1443368970, "last_edit_date": 1445341391, "question_id": 32809798, "link": "https://stackoverflow.com/questions/32809798/how-to-pass-through-a-incomming-http-call-to-another-server-in-dart", "title": "How to pass through a incomming http call to another server in dart?", "body": "<p>I have a Dart HTTP-service running and if the service gets a file posted I want to pass-through this call to another service. I think pipes are the right way, but I have no idea I could do this?!</p>\n"}, {"tags": ["dart", "dart-polymer"], "answers": [{"comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1447910178, "post_id": 32812888, "comment_id": 55358061, "body": "How do I actually update values in a map, so that Polymer gets notified?"}, {"owner": {"reputation": 1293, "user_id": 4223471, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4BObBSHEeGs/AAAAAAAAAAI/AAAAAAAALoM/x0XAln25lII/photo.jpg?sz=128", "display_name": "Jake MacDonald", "link": "https://stackoverflow.com/users/4223471/jake-macdonald"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1447943271, "post_id": 32812888, "comment_id": 55378464, "body": "You can just use the normal <code>set</code> and <code>notifyPath</code> apis (use map keys as part of the path)"}], "tags": [], "owner": {"reputation": 1293, "user_id": 4223471, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4BObBSHEeGs/AAAAAAAAAAI/AAAAAAAALoM/x0XAln25lII/photo.jpg?sz=128", "display_name": "Jake MacDonald", "link": "https://stackoverflow.com/users/4223471/jake-macdonald"}, "is_accepted": false, "score": 1, "last_activity_date": 1443388286, "creation_date": 1443388286, "answer_id": 32812888, "question_id": 32791689, "link": "https://stackoverflow.com/questions/32791689/what-is-the-alternative-to-maps-in-polymer-dart-1-0/32812888#32812888", "title": "What is the alternative to maps in polymer Dart 1.0?", "body": "<p>The original reasoning for the comment about inefficiency no longer applies. Previously the whole map had to be copied to a new JsObject each time it was passed to JS, but that is no longer the case.</p>\n"}], "owner": {"reputation": 783, "user_id": 4145218, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/0799ebc719896b086690bb786878891a?s=128&d=identicon&r=PG&f=1", "display_name": "Lymp", "link": "https://stackoverflow.com/users/4145218/lymp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1443978635, "creation_date": 1443221126, "last_edit_date": 1443978635, "question_id": 32791689, "link": "https://stackoverflow.com/questions/32791689/what-is-the-alternative-to-maps-in-polymer-dart-1-0", "title": "What is the alternative to maps in polymer Dart 1.0?", "body": "<p>I notice in the <a href=\"https://github.com/dart-lang/polymer-dart/issues/569\" rel=\"nofollow\">Polymer Dart issue #569</a>, that the use of maps is discouraged, because they're inefficient. What is (will be) the alternative? I use maps a lot. </p>\n"}, {"tags": ["javascript", "twitter-bootstrap-3", "dart", "dart-js-interop", "dartium"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1443126086, "post_id": 32770107, "comment_id": 53379450, "body": "Is this about JS code running in Dartium or Dart code running in Dartium? Could be a timing issue."}, {"owner": {"reputation": 123, "user_id": 4971055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HI2qy.png?s=128&g=1", "display_name": "Jessica Wood", "link": "https://stackoverflow.com/users/4971055/jessica-wood"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1443126335, "post_id": 32770107, "comment_id": 53379566, "body": "JS code running in Dartium. I added a timer to the constructor to see if that would fix, but was unsuccessful."}, {"owner": {"reputation": 51074, "user_id": 634863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198449a7e196c4b0f2ed25f65279bf84?s=128&d=identicon&r=PG", "display_name": "Alexandre Ardhuin", "link": "https://stackoverflow.com/users/634863/alexandre-ardhuin"}, "edited": false, "score": 2, "creation_date": 1443126740, "post_id": 32770107, "comment_id": 53379768, "body": "Assuming you are using angular1 you can try to implements <code>ShadowRootAware</code> and put your code into <code>void onShadowRoot(_)</code> (even if you have <code>useShadowDom: false</code> this method should be called)"}, {"owner": {"reputation": 123, "user_id": 4971055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HI2qy.png?s=128&g=1", "display_name": "Jessica Wood", "link": "https://stackoverflow.com/users/4971055/jessica-wood"}, "edited": false, "score": 0, "creation_date": 1443127961, "post_id": 32770107, "comment_id": 53380383, "body": "This worked! Thank you!"}], "answers": [{"tags": [], "owner": {"reputation": 51074, "user_id": 634863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198449a7e196c4b0f2ed25f65279bf84?s=128&d=identicon&r=PG", "display_name": "Alexandre Ardhuin", "link": "https://stackoverflow.com/users/634863/alexandre-ardhuin"}, "is_accepted": true, "score": 3, "last_activity_date": 1443172150, "creation_date": 1443172150, "answer_id": 32778661, "question_id": 32770107, "link": "https://stackoverflow.com/questions/32770107/dart-js-interop-js-object-not-loading-when-running-in-dartium/32778661#32778661", "title": "Dart-JS interop: JS object not loading when running in Dartium", "body": "<p>Assuming you are using angular1 you can implement <code>ShadowRootAware</code> and put your code into <code>void onShadowRoot(_)</code> (even if you have <code>useShadowDom: false</code> this method should be called) </p>\n"}], "owner": {"reputation": 123, "user_id": 4971055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HI2qy.png?s=128&g=1", "display_name": "Jessica Wood", "link": "https://stackoverflow.com/users/4971055/jessica-wood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 1, "accepted_answer_id": 32778661, "answer_count": 1, "score": 4, "last_activity_date": 1443172150, "creation_date": 1443125669, "last_edit_date": 1443128115, "question_id": 32770107, "link": "https://stackoverflow.com/questions/32770107/dart-js-interop-js-object-not-loading-when-running-in-dartium", "title": "Dart-JS interop: JS object not loading when running in Dartium", "body": "<p>When I run the code in Chrome (transpiled to JS) the object is usable upon page load. The issue arises when I run the code in Chromium (native Dart + JS), the object is not loaded, in this case, 0 is printed for dateObject['length'].</p>\n\n<p><strong>date_picker.dart</strong></p>\n\n<pre><code>part of myproject.common.ui;\n\n@Component(\n    selector: 'date_picker',\n    templateUrl: \"date_picker.html\",\n    useShadowDom: false\n)\nclass DatePickerComponent{\n\n\n    DatePickerComponent() {\n        new Future(() {\n\n            var dateObject = context.callMethod(\"jQuery\", ['#date_picker']);\n            print(dateObject['length']);\n            var dateChanged = dateObject.callMethod(\"datetimepicker\", [new JsObject.jsify({\"format\": 'MM/DD/YYYY'})]);\n            dateChanged.callMethod('on', ['dp.change']);\n\n        });\n    }\n}\n</code></pre>\n\n<p><strong>date_picker.html</strong></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>    &lt;div class=\"form-group\"&gt;\n        &lt;div class='input-group date' id='date_picker'&gt;\n            &lt;input type='text' class=\"form-control\"/&gt;\n                    &lt;span class=\"input-group-addon\"&gt;\n                        &lt;span class=\"glyphicon glyphicon-calendar\"&gt;&lt;/span&gt;\n                    &lt;/span&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p><strong><em>Adding modified date_picker.dart using answer from comments</em></strong></p>\n\n<pre><code>part of my_project.common.ui;\n\n@Component(\n    selector: 'date_picker',\n    templateUrl: \"date_picker.html\",\n    useShadowDom: false\n)\n@Injectable()\nclass DatePickerComponent implements ShadowRootAware{\n\nvoid onShadowRoot(_){\n\n\n    new Future((){\n\n        var dateObject = context.callMethod(\"jQuery\", ['#date_picker']);\n        var dateChanged = dateObject.callMethod(\"datetimepicker\", [new JsObject.jsify({\"format\": 'MM/DD/YYYY'})]);\n        dateChanged.callMethod('on', ['dp.change']);\n\n    });\n}\n    DatePickerComponent();\n}\n</code></pre>\n"}, {"tags": ["callback", "dart", "dart-html", "dart-async"], "answers": [{"comments": [{"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "edited": false, "score": 0, "creation_date": 1443099284, "post_id": 32761537, "comment_id": 53362789, "body": "That looks like a cool solution, what version of dart do I need to make use of the await syntax? Currently on 1.12.1. Getting <code>Internal error: &#39;http:&#47;&#47;localhost:8080&#47;test.dart&#39;: error: line 190 pos 10: semicolon expected \t\t\tawait generateRandomizedInstance();</code> and IntelliJ highlights the <code>await</code> as incorrect sytax."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "edited": false, "score": 1, "creation_date": 1443099433, "post_id": 32761537, "comment_id": 53362889, "body": "I&#39;m pretty sure 1.12.1 has <code>async</code>/<code>await</code>. I guess the error is caused by a missing <code>async</code>. Did you add async in <code>onClick.listen((e) async {</code>?"}, {"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "edited": false, "score": 0, "creation_date": 1443099756, "post_id": 32761537, "comment_id": 53363144, "body": "Strange syntax, will take a bit of time to get used to it. Thanks Gunter!"}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "edited": false, "score": 1, "creation_date": 1443099821, "post_id": 32761537, "comment_id": 53363197, "body": "<a href=\"https://www.dartlang.org/articles/await-async/\" rel=\"nofollow noreferrer\">dartlang.org/articles/await-async</a>, <a href=\"https://www.dartlang.org/articles/beyond-async/\" rel=\"nofollow noreferrer\">dartlang.org/articles/beyond-async</a>"}], "tags": [], "owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 3, "last_activity_date": 1443100155, "last_edit_date": 1443100155, "creation_date": 1443098262, "answer_id": 32761537, "question_id": 32761380, "link": "https://stackoverflow.com/questions/32761380/dart-wait-for-callback-before-continuing/32761537#32761537", "title": "Dart: wait for callback before continuing", "body": "<p>This should do what you want:</p>\n\n<pre><code>Future&lt;Map&gt; generateRandomizedInstance() {\n  Completer&lt;Map&gt; c = new Completer&lt;Map&gt;();\n  lib.createEntity((result1){\n      result1[\"a\"] = generateRandomA();\n      result1[\"b\"] = generateRandomB();\n      result1[\"c\"] = generateRandomC();\n      ...\n      lib.updateEntity(result1, (result2){\n        // want to return this result2\n        c.complete(result2);\n      })\n  });\n  return c.future;\n}\n\n\nButtonElement b = querySelector(\"button.create\")..onClick.listen((e) async {\n    for (int i = 0; i &lt; 500; i++) {\n      await generateRandomizedInstance();\n    }\n});\n</code></pre>\n"}], "owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1318, "favorite_count": 1, "accepted_answer_id": 32761537, "answer_count": 1, "score": 3, "last_activity_date": 1443100155, "creation_date": 1443097836, "question_id": 32761380, "link": "https://stackoverflow.com/questions/32761380/dart-wait-for-callback-before-continuing", "title": "Dart: wait for callback before continuing", "body": "<p>I was wondering whether it's possible to wait for a callback before continuing a process.</p>\n\n<p>I'm using a library that handles a future internally and then if it was successful, does a callback, otherwise handles the error internally with no callback.</p>\n\n<p>Now I'm trying to use this library to create an instance, then fill it with random test data and then update that entity.</p>\n\n<pre><code>Map generateRandomizedInstance() {\n  lib.createEntity((result1){\n      result1[\"a\"] = generateRandomA();\n      result1[\"b\"] = generateRandomB();\n      result1[\"c\"] = generateRandomC();\n      ...\n      lib.updateEntity(result1, (result2){\n        // want to return this result2\n        return result2;\n      })\n  });\n}\n</code></pre>\n\n<p>This would be fine if I'm only creating one entity and updating it once, but I want to create lots of random data:</p>\n\n<pre><code>ButtonElement b = querySelector(\"button.create\")..onClick.listen((e){\n    for (int i = 0; i &lt; 500; i++) {\n        generateRandomizedInstance();\n    }\n});\n</code></pre>\n\n<p>It doesn't take long for this code to crash spectacularly as the callbacks aren't coming back fast enough.</p>\n\n<p>I've tried changing the method signature to </p>\n\n<pre><code>generateRandomizedInstance() async { \n</code></pre>\n\n<p>and then doing:</p>\n\n<pre><code>for (int i = 0; i &lt; 500; i++) {\n    print(await generateRandomizedInstance());\n}\n</code></pre>\n\n<p>but that await syntax seems to be invalid and I'm not completely sure how to wrap that callback code in some kind of future that I can wait for the callback to come back before continuing to the next iteration of the loop.</p>\n\n<p>I've tried a while loop at the end of <code>generateRandomizedInstance</code> that waits for a result variable to not be null, but that kills the browser and seeing as I'm not always getting a callback, in some cases it could cause an infinite loop.</p>\n\n<p>Any ideas / suggestion on how to pause that for loop while waiting for the callback? </p>\n"}]