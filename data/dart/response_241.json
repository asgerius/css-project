[{"tags": ["listview", "flutter", "dart"], "comments": [{"owner": {"reputation": 189, "user_id": 11564681, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bSVVS6z9MBM/AAAAAAAAAAI/AAAAAAAAAAs/qxIKPhVdT7c/photo.jpg?sz=128", "display_name": "Mm Victory", "link": "https://stackoverflow.com/users/11564681/mm-victory"}, "edited": false, "score": 0, "creation_date": 1566495599, "post_id": 57600505, "comment_id": 101684067, "body": "The error I get is Error: &#39;storePageImage&#39; isn&#39;t a function or method and can&#39;t be invoked.                             image: DecorationImage(fit: BoxFit.fill,image: AssetImage(widget.storePageImage()))"}], "answers": [{"comments": [{"owner": {"reputation": 189, "user_id": 11564681, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bSVVS6z9MBM/AAAAAAAAAAI/AAAAAAAAAAs/qxIKPhVdT7c/photo.jpg?sz=128", "display_name": "Mm Victory", "link": "https://stackoverflow.com/users/11564681/mm-victory"}, "edited": false, "score": 0, "creation_date": 1566495249, "post_id": 57601235, "comment_id": 101683923, "body": "Thank you for your answer but when I put widget.storePageImage or widget.storePageImage, or widget.storePageItemPrice it doesn&#39;t work. What am I supposed to do to make it work? because for the other ones it works with no problem. I&#39;ve added code to my question to make it more understandable"}, {"owner": {"reputation": 189, "user_id": 11564681, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bSVVS6z9MBM/AAAAAAAAAAI/AAAAAAAAAAs/qxIKPhVdT7c/photo.jpg?sz=128", "display_name": "Mm Victory", "link": "https://stackoverflow.com/users/11564681/mm-victory"}, "edited": false, "score": 0, "creation_date": 1566495666, "post_id": 57601235, "comment_id": 101684094, "body": "The error I get is Error: &#39;storePageImage&#39; isn&#39;t a function or method and can&#39;t be invoked. image: DecorationImage(fit: BoxFit.fill,image: AssetImage(widget.storePageImage()))"}, {"owner": {"reputation": 1890, "user_id": 2362966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8792270fcc92400b12d02f8a4cc00e89?s=128&d=identicon&r=PG", "display_name": "ejabu", "link": "https://stackoverflow.com/users/2362966/ejabu"}, "reply_to_user": {"reputation": 189, "user_id": 11564681, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bSVVS6z9MBM/AAAAAAAAAAI/AAAAAAAAAAs/qxIKPhVdT7c/photo.jpg?sz=128", "display_name": "Mm Victory", "link": "https://stackoverflow.com/users/11564681/mm-victory"}, "edited": false, "score": 0, "creation_date": 1566533744, "post_id": 57601235, "comment_id": 101693861, "body": "since we need to render multiple images, therefore we will need to multiply all of its parent.  Its definitions of Padding, Container, BoxDecoration, DecorationImage must be rendered in several times.   I updated my answer above"}, {"owner": {"reputation": 1890, "user_id": 2362966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8792270fcc92400b12d02f8a4cc00e89?s=128&d=identicon&r=PG", "display_name": "ejabu", "link": "https://stackoverflow.com/users/2362966/ejabu"}, "reply_to_user": {"reputation": 189, "user_id": 11564681, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bSVVS6z9MBM/AAAAAAAAAAI/AAAAAAAAAAs/qxIKPhVdT7c/photo.jpg?sz=128", "display_name": "Mm Victory", "link": "https://stackoverflow.com/users/11564681/mm-victory"}, "edited": false, "score": 0, "creation_date": 1566534391, "post_id": 57601235, "comment_id": 101693991, "body": "for exploring more image-rendering methods, please look at this <a href=\"https://github.com/ejabu/flutter_tricky_layout/tree/master/docs/b_screen\" rel=\"nofollow noreferrer\">github.com/ejabu/flutter_tricky_layout/tree/master/docs/&hellip;</a>"}, {"owner": {"reputation": 189, "user_id": 11564681, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bSVVS6z9MBM/AAAAAAAAAAI/AAAAAAAAAAs/qxIKPhVdT7c/photo.jpg?sz=128", "display_name": "Mm Victory", "link": "https://stackoverflow.com/users/11564681/mm-victory"}, "edited": false, "score": 0, "creation_date": 1566662469, "post_id": 57601235, "comment_id": 101730894, "body": "It doesn&#39;t work, because the problem is that the same images come to all stores, but each store requires its own images even though they have already been given their own images in the data file"}, {"owner": {"reputation": 1890, "user_id": 2362966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8792270fcc92400b12d02f8a4cc00e89?s=128&d=identicon&r=PG", "display_name": "ejabu", "link": "https://stackoverflow.com/users/2362966/ejabu"}, "reply_to_user": {"reputation": 189, "user_id": 11564681, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bSVVS6z9MBM/AAAAAAAAAAI/AAAAAAAAAAs/qxIKPhVdT7c/photo.jpg?sz=128", "display_name": "Mm Victory", "link": "https://stackoverflow.com/users/11564681/mm-victory"}, "edited": false, "score": 0, "creation_date": 1566745099, "post_id": 57601235, "comment_id": 101745132, "body": "yes, because previously I put this <code>Stores selectedStore = storesList[0];</code> so it will only displays for first store. I did that because I did not know how did you setup the trigger. Now, I completed my example in the full repo"}, {"owner": {"reputation": 189, "user_id": 11564681, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bSVVS6z9MBM/AAAAAAAAAAI/AAAAAAAAAAs/qxIKPhVdT7c/photo.jpg?sz=128", "display_name": "Mm Victory", "link": "https://stackoverflow.com/users/11564681/mm-victory"}, "edited": false, "score": 0, "creation_date": 1566809769, "post_id": 57601235, "comment_id": 101759232, "body": "This is what I&#39;m trying to achieve in terms of UI, <a href=\"https://imgur.com/a/k24I6CP\" rel=\"nofollow noreferrer\">imgur.com/a/k24I6CP</a>, but with the code I&#39;m getting this <a href=\"https://imgur.com/a/Ju895Ps\" rel=\"nofollow noreferrer\">imgur.com/a/Ju895Ps</a> GIT: <a href=\"https://github.com/MFVictory/flowerstores/tree/master/lib\" rel=\"nofollow noreferrer\">github.com/MFVictory/flowerstores/tree/master/lib</a>"}], "tags": [], "owner": {"reputation": 1890, "user_id": 2362966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8792270fcc92400b12d02f8a4cc00e89?s=128&d=identicon&r=PG", "display_name": "ejabu", "link": "https://stackoverflow.com/users/2362966/ejabu"}, "is_accepted": false, "score": 0, "last_activity_date": 1566744771, "last_edit_date": 1566744771, "creation_date": 1566440207, "answer_id": 57601235, "question_id": 57600505, "link": "https://stackoverflow.com/questions/57600505/is-it-is-possible-to-add-multiple-values-within-one-parameter-of-a-class/57601235#57601235", "title": "is it Is possible to add multiple values within one parameter of a class?", "body": "<h2>Ensure properties are typed as List</h2>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class Stores {\n  String storeName;\n  String storeImage;\n  String storeDeliveryTime;\n  String deliveryCharges;\n  List&lt;String&gt; storePageImage;\n  List&lt;String&gt; storePageItemName;\n  List&lt;double&gt; storePageItemPrice;\n\n  Stores.list({this.storeName, this.storeDeliveryTime, \n  this.storeImage,this.deliveryCharges,this.storePageImage, \n  this.storePageItemName, this.storePageItemPrice});\n}\n</code></pre>\n\n<h3>Later you can create instance by this</h3>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Stores newStore1 = Stores.list(\n  storeName: \"STORE 1\",\n  storeImage: \"assets/images/STORE1FRONT\",\n  storeDeliveryTime: \"25 min\",\n  deliveryCharges: \"\u00a32.90\",\n  storePageImage: [\"image1.jpg\", \"image2.jpg\"],\n  storePageItemName: [\"Apple\", \"Mango\"],\n  storePageItemPrice: [100, 200],\n);\n\nStores newStore2 = Stores.list(\n  storeName: \"STORE 2\",\n  storeImage: \"assets/images/STORE2FRONT\",\n  storeDeliveryTime: \"25 min\",\n  deliveryCharges: \"\u00a32.90\",\n  storePageImage: [\"image1.jpg\", \"image2.jpg\"],\n  storePageItemName: [\"Apple\", \"Mango\"],\n  storePageItemPrice: [100, 200],\n);\n\n\nList&lt;Stores&gt; storesList = [\n  newStore1,\n  newStore2,\n]\n</code></pre>\n\n<h3>How to render it ?</h3>\n\n<p>since we need to render multiple images, therefore we will need to multiply all of its parent.</p>\n\n<p>Its definitions of Padding, Container, BoxDecoration, DecorationImage must be rendered in several times.</p>\n\n<p><a href=\"https://i.stack.imgur.com/m4lU8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m4lU8.png\" alt=\"enter image description here\"></a></p>\n\n<h3>Output</h3>\n\n<p>this is my result with my flower images.</p>\n\n<h2>*Update 25 Aug</h2>\n\n<p><strong>This is fix to your latest code version</strong></p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>return Scaffold(\n  appBar: AppBar(title: Text(\"Restauran Menus\")),\n  body: SingleChildScrollView(\n    child: Column(\n      children: &lt;Widget&gt;[\n        Row(\n          children: &lt;Widget&gt;[\n            for (var storeImage in storePageImage) // loops storePageImage\n              Padding(\n                padding: EdgeInsets.only(left: 10.0, top: 7.0),\n                child: Container(\n                  height: 100,\n                  width: 100,\n                  decoration: BoxDecoration(\n                    borderRadius: BorderRadius.circular(30),\n                    image: DecorationImage(\n                      fit: BoxFit.fill,\n                      image: AssetImage(storeImage),\n                    ),\n                  ),\n                ),\n              ),\n          ],\n        ),\n      ],\n    ),\n  ),\n);\n\n</code></pre>\n\n<h3>Full Code</h3>\n\n<p>look into this repo <a href=\"https://github.com/ejabu/flutter_tricky_layout/blob/master/lib/b_screen/image_card_store_update.dart\" rel=\"nofollow noreferrer\">Github</a></p>\n\n<h2>Latest Demo</h2>\n\n<p><a href=\"https://i.stack.imgur.com/9gMcG.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9gMcG.gif\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 189, "user_id": 11564681, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bSVVS6z9MBM/AAAAAAAAAAI/AAAAAAAAAAs/qxIKPhVdT7c/photo.jpg?sz=128", "display_name": "Mm Victory", "link": "https://stackoverflow.com/users/11564681/mm-victory"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566744771, "creation_date": 1566431930, "last_edit_date": 1566496813, "question_id": 57600505, "link": "https://stackoverflow.com/questions/57600505/is-it-is-possible-to-add-multiple-values-within-one-parameter-of-a-class", "title": "is it Is possible to add multiple values within one parameter of a class?", "body": "<p>I\u2019m new to flutter I was wondering if it Is possible to add multiple values within one parameter of a class?</p>\n\n<p>For example for parameter storePageItemPrice, storePageItemName and storePageImage, I want to be able to add multiple prices, item names and multiple product pictures in each store.</p>\n\n<p>How can I achieve this?</p>\n\n<p>Example</p>\n\n<pre><code>class Stores {\nString storeName;\nString storeImage;\nString storeDeliveryTime;\nString deliveryCharges;\nString storePageImage;\nString storePageItemName;\nString storePageItemPrice;\n\nStores.list({this.storeName, this.storeDeliveryTime, \nthis.storeImage,this.deliveryCharges,this.storePageImage, \nthis.storePageItemName, this.storePageItemPrice});\n }\n\nList&lt;Stores&gt; storesList = [\n\nStores.list(\nstoreName: \u201cSTORE 1\u201d,\nstoreImage: \"assets/images/STORE1FRONT\u201d,\nstoreDeliveryTime: \"25 min\",\ndeliveryCharges: \"\u00a33.90\",\nstorePageImage: \u201cBE ABLE TO ADD MORE THAN ONE IMAGE\u201c (and then build \nwidget.storePageImage),\nstorePageItemName: \u201cBE ABLE TO ADD MORE THAN ONE ITEM\u201c,(and then \nbuild widget.storePageItemName),\nstorePageItemPrice: \"BE ABLE TO ADD MORE THAN ONE PRICE\u201d(and then \nbuild widget.storePageItemPrice),\n\n),\n\nStores.list(\nstoreName: \u201cSTORE 2\u201d,\nstoreImage: \"assets/images/STORE2FRONT\",\nstoreDeliveryTime: \"25 min\",\ndeliveryCharges: \"\u00a32.90\",\nstorePageImage: \u201cBE ABLE TO ADD MORE THAN ONE IMAGE\u201c (and then    \nbuild widget.storePageImage),\nstorePageItemName: \u201cBE ABLE TO ADD MORE THAN ONE ITEM\u201c,(and then \nbuild widget.storePageItemName),\nstorePageItemPrice: \"BE ABLE TO ADD MORE THAN ONE PRICE\u201d(and then \nbuild widget.storePageItemPrice),\n),\n];\n</code></pre>\n\n<p>Visual example; Here is the home page <a href=\"https://imgur.com/a/0YiMUHj\" rel=\"nofollow noreferrer\">https://imgur.com/a/0YiMUHj</a></p>\n\n<p>Once a restaurant has been clicked it navigates to restaurant\u2019s page(<a href=\"https://imgur.com/a/KbsIepO\" rel=\"nofollow noreferrer\">https://imgur.com/a/KbsIepO</a>) where multiple items have been added (can be added and removed on demand once connected to database)</p>\n\n<p>first page code</p>\n\n<pre><code>ConstrainedBox(\n        constraints: BoxConstraints(maxHeight: 1000),\n        child: ListView.builder(\n          shrinkWrap: true,\n          itemCount: storesList.length,\n          itemBuilder: (BuildContext context, int index) {\n            return Column(\n              children: &lt;Widget&gt;[\n                GestureDetector(\n                    onTap: (){Navigator.of(context).push(new \nMaterialPageRoute(\n                        builder: (context) =&gt; new StoresPage(\n                          storeName: storesList[index].storeName,\n                          storeDeliveryTime: \nstoresList[index].storeDeliveryTime,\n                          deliveryCharges: \nstoresList[index].deliveryCharges,\n                          storePageImage: \nstoresList[index].storePageImage,\n                          storePageItemName: \nstoresList[index].storePageItemName,\n                          storePageItemPrice: \nstoresList[index].storePageItemPrice,\n                        )));},\n                    child: Padding(\n                      padding: const EdgeInsets.only(top:5.0),\n                      child: Column(\n                          children: &lt;Widget&gt;[\n                            Container(\n                              height: 205,\n                              width: 380,\n                              child: Image(image: \nAssetImage(storesList[index].storeImage),\n                                fit: BoxFit.fill,\n                              ),\n                            ),\n                            Padding(\n                              padding: const EdgeInsets.only(left: \n15.0, right: 15.0),\n                              child: Row(\n                                mainAxisAlignment: \nMainAxisAlignment.spaceBetween,\n                                children: &lt;Widget&gt;[\n                                Text(storesList[index].storeName),\n                                  Row(children: &lt;Widget&gt;[\n                                    Icon(Icons.update, size: 20.0),\n\nText(storesList[index].storeDeliveryTime),\n                                  ],\n                                  ),\n                              ],\n                              ),\n                            ),\n                          ],\n                        ),\n                    ),\n                  ),\n              ],\n            );\n          },\n        ),\n      ),\n</code></pre>\n\n<p>Navigates to storespage</p>\n\n<pre><code>class StoresPage extends StatefulWidget {\nString storeName;\nString storeDeliveryTime;\nString deliveryCharges;\nList&lt;String&gt; storePageImage;\nList&lt;String&gt; storePageItemName;\nList&lt;String&gt; storePageItemPrice;\n\nStoresPage({\nthis.storeName, this.storeDeliveryTime, this.deliveryCharges, \nthis.storePageImage, this.storePageItemName, this.storePageItemPrice\n});\n\nList&lt;Stores&gt; storesList = [\nnewStore1,\nnewStore2,\n];\n</code></pre>\n\n<p>This code didn't work </p>\n\n<pre><code>SingleChildScrollView(\n        child: Column(\n          children: &lt;Widget&gt;[\n            Row(\n              children: &lt;Widget&gt;[\n                Padding(\n                  padding: EdgeInsets.only(left: 10.0, top: 7.0),\n                  child: Container(\n                    height: 100,\n                    width: 100,\n                    decoration: BoxDecoration(\n                        borderRadius: BorderRadius.circular(30),\n                        image: DecorationImage(fit: BoxFit.fill,image: \nAssetImage(widget.storePageImage()))\n                    ),\n                  ),\n                ),\n              ],\n            ),\n          ],\n        ),\n      ),\n</code></pre>\n\n<p>I tried to use this code in stores page but nothing happened </p>\n\n<pre><code>ConstrainedBox(constraints: BoxConstraints(maxHeight: 1000),\n        child: ListView.builder(\n          shrinkWrap: true,\n          itemCount: storesList.length,\n          itemBuilder: (BuildContext context, int index){\n            return Column(\n              children: &lt;Widget&gt;[\n                GestureDetector(\n                  child: Column(\n                    children: &lt;Widget&gt;[\n                      Padding(\n                        padding: EdgeInsets.only(left: 10.0, top: 7.0),\n                        child: Container(\n                          height: 100,\n                          width: 100,\n                          decoration: BoxDecoration(\n                              borderRadius: BorderRadius.circular(30),\n                              image: DecorationImage(fit: \nBoxFit.fill,image: \nAssetImage(storesList[index].storePageImage.toString()))\n                          ),\n                        ),\n                      ),\n                    ],\n                  ),\n                ),\n              ],\n            );\n          },\n        ),\n      ),\n</code></pre>\n"}, {"tags": ["sqlite", "flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 10092965, "user_type": "registered", "profile_image": "https://graph.facebook.com/1398086777001600/picture?type=large", "display_name": "Oumaima Sh", "link": "https://stackoverflow.com/users/10092965/oumaima-sh"}, "edited": false, "score": 0, "creation_date": 1566472983, "post_id": 57600432, "comment_id": 101671840, "body": "the data type is list of double and the snapshot.data is double , it gives me an error on that @karim tarek"}, {"owner": {"reputation": 341, "user_id": 8151468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb8f3d504858e0002aae842194092efb?s=128&d=identicon&r=PG&f=1", "display_name": "karim tarek", "link": "https://stackoverflow.com/users/8151468/karim-tarek"}, "reply_to_user": {"reputation": 59, "user_id": 10092965, "user_type": "registered", "profile_image": "https://graph.facebook.com/1398086777001600/picture?type=large", "display_name": "Oumaima Sh", "link": "https://stackoverflow.com/users/10092965/oumaima-sh"}, "edited": false, "score": 0, "creation_date": 1566503792, "post_id": 57600432, "comment_id": 101687492, "body": "because  of that line  <code>List&lt;GeneratorCommandeResult&gt; liste = await dao1.GeneratorCommande(); return liste;</code> the return type of the function is <code>GeneratorCommandeResult</code> not <code>List&lt;double&gt; , so i suggest you to specify the type of each future you have to &lt;List&lt;double&gt;&gt; like </code>Future&lt;List&lt;double&gt;&gt; liste = dataLine() , even the return type of the dataLine function to determine where that error comes from"}], "tags": [], "owner": {"reputation": 341, "user_id": 8151468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb8f3d504858e0002aae842194092efb?s=128&d=identicon&r=PG&f=1", "display_name": "karim tarek", "link": "https://stackoverflow.com/users/8151468/karim-tarek"}, "is_accepted": false, "score": 0, "last_activity_date": 1566431248, "creation_date": 1566431248, "answer_id": 57600432, "question_id": 57600310, "link": "https://stackoverflow.com/questions/57600310/how-can-i-convert-future-data-to-a-list-of-double/57600432#57600432", "title": "How can I convert Future data to a list of double?", "body": "<p>you should use <code>FutureBuilder</code> widget with async operation like <code>dataline</code> function.</p>\n\n<p>Example </p>\n\n<pre><code>FutureBuilder&lt;double&gt;(\n          future: liste,\n\n          builder: (BuildContext context, AsyncSnapshot&lt;double&gt; snapshot) {\n            return snapshot.hasData?Padding(\n                    padding: EdgeInsets.all(1.0),\n                    child: new Sparkline(\n                      data: snapshot.data,\n                      lineColor: Color(0xffff6101),\n                      pointsMode: PointsMode.all,\n                      pointSize: 8.0,\n                    ),\n                  ):CircularProgressIndicator();\n                  //the CircularProgressIndicator\n                 //is used to indicate the data hasn't come yet\n          },\n        ),\n</code></pre>\n\n<p>add this FutureBuilder in the children parameter of the column.</p>\n\n<p><strong>Note</strong> : in the sparkLine widget the data parameter recieve the snapshot.data not the liste that you have declared . because your liste is of type Future which holdes data of type double , while the snapshot has the actual data which in this case is the double list.\nI hope that helps</p>\n"}, {"comments": [{"owner": {"reputation": 59, "user_id": 10092965, "user_type": "registered", "profile_image": "https://graph.facebook.com/1398086777001600/picture?type=large", "display_name": "Oumaima Sh", "link": "https://stackoverflow.com/users/10092965/oumaima-sh"}, "edited": false, "score": 0, "creation_date": 1566493605, "post_id": 57608918, "comment_id": 101683271, "body": "for my case it won&#39;t return the object which you specified there Dog"}], "tags": [], "owner": {"reputation": 653, "user_id": 6152483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/266fa61e943046449cd0fe1708b069b7?s=128&d=identicon&r=PG&f=1", "display_name": "unbalanced_equation", "link": "https://stackoverflow.com/users/6152483/unbalanced-equation"}, "is_accepted": false, "score": 0, "last_activity_date": 1566475268, "creation_date": 1566475268, "answer_id": 57608918, "question_id": 57600310, "link": "https://stackoverflow.com/questions/57600310/how-can-i-convert-future-data-to-a-list-of-double/57608918#57608918", "title": "How can I convert Future data to a list of double?", "body": "<p>Assuming you had a table of dogs with columns <code>id</code>, <code>name</code>, and <code>age</code> then after retrieving the rows of all dogs from the table in the form of <code>List&lt;Map&lt;String, dynamic&gt;&gt;</code>, map them back to Dog objects as follows:</p>\n\n<pre><code>// A method that retrieves all the dogs from the dogs table.\nFuture&lt;List&lt;Dog&gt;&gt; dogs() async {\n  // Get a reference to the database.\n  final Database db = await database;\n\n  // Query the table for all The Dogs.\n  final List&lt;Map&lt;String, dynamic&gt;&gt; maps = await db.query('dogs');\n\n  // Convert the List&lt;Map&lt;String, dynamic&gt; into a List&lt;Dog&gt;.\n  return List.generate(maps.length, (i) {\n    return Dog(\n      id: maps[i]['id'],\n      name: maps[i]['name'],\n      age: maps[i]['age'],\n    );\n  });\n}\n</code></pre>\n\n<p>Note: the code sample is from flutter documentation.</p>\n\n<p>Mapping your list which contains <code>double</code> values could be done similarly.</p>\n"}], "owner": {"reputation": 59, "user_id": 10092965, "user_type": "registered", "profile_image": "https://graph.facebook.com/1398086777001600/picture?type=large", "display_name": "Oumaima Sh", "link": "https://stackoverflow.com/users/10092965/oumaima-sh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 692, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1566475268, "creation_date": 1566430078, "question_id": 57600310, "link": "https://stackoverflow.com/questions/57600310/how-can-i-convert-future-data-to-a-list-of-double", "title": "How can I convert Future data to a list of double?", "body": "<p>I'am trying to read the records in order to create a dashboard , but the thing is I don't know how to read the data from what I got from database , please could someone help me , here is the code </p>\n\n<pre><code> Future dataline() async {\n\n        final dao1 = Provider.of&lt;CommandeDao&gt;(context);\n\n        List&lt;GeneratorCommandeResult&gt; liste = await dao1.GeneratorCommande();\n        return liste;\n  }\n\n  Material mychart1Items(String title, String priceVal,String subtitle) {\n    Future liste  = dataline() ;\n\n\n    return Material(\n      color: Colors.white,\n      elevation: 14.0,\n      borderRadius: BorderRadius.circular(24.0),\n      shadowColor: Color(0x802196F3),\n      child: Center(\n        child: Padding(\n          padding: EdgeInsets.all(8.0),\n          child: Row(\n            mainAxisAlignment: MainAxisAlignment.center,\n            children: &lt;Widget&gt;[\n              Column(\n                mainAxisAlignment: MainAxisAlignment.center,\n                children: &lt;Widget&gt;[\n\n                  Padding(\n                    padding: EdgeInsets.all(1.0),\n                    child: new Sparkline(\n                      data: liste,\n                      lineColor: Color(0xffff6101),\n                      pointsMode: PointsMode.all,\n                      pointSize: 8.0,\n                    ),\n                  ),\n\n                ],\n              ),\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n</code></pre>\n"}, {"tags": ["dart", "mockito"], "comments": [{"owner": {"reputation": 46708, "user_id": 179715, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e240f1a5bb197450dfb8934dd55d9e3a?s=128&d=identicon&r=PG", "display_name": "jamesdlin", "link": "https://stackoverflow.com/users/179715/jamesdlin"}, "edited": false, "score": 1, "creation_date": 1566436799, "post_id": 57600086, "comment_id": 101658880, "body": "Without <code>await</code>ing <code>dictionaryMiddleware.call(...)</code>, your test finishes before <code>this.api.getDictionaryEntry</code> ever gets a chance to finish and call <code>next()</code> the last two times."}, {"owner": {"reputation": 46708, "user_id": 179715, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e240f1a5bb197450dfb8934dd55d9e3a?s=128&d=identicon&r=PG", "display_name": "jamesdlin", "link": "https://stackoverflow.com/users/179715/jamesdlin"}, "edited": false, "score": 0, "creation_date": 1566437912, "post_id": 57600086, "comment_id": 101659067, "body": "And if your follow-up question is &quot;But I mocked <code>getDictionaryEntry</code>, so why doesn&#39;t it complete immediately?&quot;, then it&#39;s because <code>await</code> <i>always</i> yields execution."}, {"owner": {"reputation": 653, "user_id": 6152483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/266fa61e943046449cd0fe1708b069b7?s=128&d=identicon&r=PG&f=1", "display_name": "unbalanced_equation", "link": "https://stackoverflow.com/users/6152483/unbalanced-equation"}, "reply_to_user": {"reputation": 46708, "user_id": 179715, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e240f1a5bb197450dfb8934dd55d9e3a?s=128&d=identicon&r=PG", "display_name": "jamesdlin", "link": "https://stackoverflow.com/users/179715/jamesdlin"}, "edited": false, "score": 0, "creation_date": 1566473851, "post_id": 57600086, "comment_id": 101672314, "body": "So the code executes and then when it reaches <code>await this.api.getDictionaryEntry</code> the execution gets delayed. However, meanwhile the test continues and finishes and that&#39;s why it appears that <code>next()</code> only gets called twice? (length of <code>actionLog</code> is 2)"}], "owner": {"reputation": 653, "user_id": 6152483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/266fa61e943046449cd0fe1708b069b7?s=128&d=identicon&r=PG&f=1", "display_name": "unbalanced_equation", "link": "https://stackoverflow.com/users/6152483/unbalanced-equation"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566428087, "creation_date": 1566428087, "question_id": 57600086, "link": "https://stackoverflow.com/questions/57600086/why-omitting-the-await-keyword-results-in-different-behavior", "title": "Why omitting the await keyword results in different behavior?", "body": "<p>I am testing some middleware code. When the function <code>middleware.call</code> is provoked I get different results depending on whether I use the keyword <code>await</code> when calling it.</p>\n\n<p>This is testing code:</p>\n\n<pre><code>final actionLog = &lt;dynamic&gt;[];\nfinal Function(dynamic) next = (dynamic action){\n  actionLog.add(action);\n};\n\ntest('Fetching a dictionary entry successfully', () async {\n  DictionaryEntry dictionaryEntry = new DictionaryEntry(2333, 'after', null, null);\n  when(\n      mockApi\n          .getDictionaryEntry('after', any, any)\n  ).thenAnswer((_) =&gt; Future.value(dictionaryEntry));\n\n  final action = FetchDictionaryEntryAction('after');\n  await dictionaryMiddleware.call(mocksStore, action, next);\n\n// length of action log is 2 \n// when I don't use await before calling  dictionaryMiddleware.call\n// but its 4 when using await before calling the function.\n\n  print(\"length of action log \" + actionLog.length.toString());\n  print(actionLog);\n});\n</code></pre>\n\n<p>This is the middleware:</p>\n\n<pre><code>@override\nFuture&lt;void&gt; call(\n    Store&lt;AppState&gt; store, dynamic action, NextDispatcher next) async {\n\n  next(action);\n\n  if(action is FetchDictionaryEntryAction){\n    await _fetchDictionaryEntry(action.speechText,\n        action.fromLanguage, action.toLanguage, next\n    );\n  }\n\n}\n\n\nFuture&lt;void&gt; _fetchDictionaryEntry(\n  String speechText, \n  String fromLanguage,\n  String toLanguage,\n  NextDispatcher next\n) async {\n\n  if(speechText == null || speechText?.length == 0){\n    next(ReceivedDictionaryEntryAction(dictionaryEntry: null));\n    return;\n  }\n\n  next(RequestingDictionaryEntryAction());\n\n  try{\n    final DictionaryEntry dictionaryEntry =\n      await this.api.getDictionaryEntry(speechText, fromLanguage, toLanguage);\n    next(ReceivedDictionaryEntryAction(dictionaryEntry: dictionaryEntry));\n    next(CacheDictionaryEntryAction(dictionaryEntry));\n\n  }catch(e){\n    next(ErrorLoadingDictionaryEntryAction);\n  }\n\n}\n</code></pre>\n\n<p>I am wondering why does <code>next()</code> (the dispatcher in the middleware) get called only 2 times when not using <code>await</code> as apposed to getting called 4 times when using <code>await</code> which is the normal behavior.</p>\n"}, {"tags": ["inheritance", "flutter", "dart", "casting"], "comments": [{"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1566422172, "post_id": 57599238, "comment_id": 101655764, "body": "Well, to begin with, your utility is built-in: <code>AnimatedBuilder</code>"}, {"owner": {"reputation": 486, "user_id": 6513167, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/597312657096897/picture?type=large", "display_name": "Martin Niederl", "link": "https://stackoverflow.com/users/6513167/martin-niederl"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1566422346, "post_id": 57599238, "comment_id": 101655815, "body": "I know about <code>AnimatedBuilder</code> but as i wrote &quot;the widget is slightly shorted&quot;. I do additional stuff inside, which <code>AnimatedBuilder</code> does not. And besides that I got similar errors for other widgets but this one was the easiest to describe the problem with."}, {"owner": {"reputation": 425, "user_id": 8267876, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/845395558956280/picture?type=large", "display_name": "Daniel Szy", "link": "https://stackoverflow.com/users/8267876/daniel-szy"}, "edited": false, "score": 0, "creation_date": 1566425061, "post_id": 57599238, "comment_id": 101656590, "body": "Can you post the code you are using in the builder function when you use it?"}, {"owner": {"reputation": 46708, "user_id": 179715, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e240f1a5bb197450dfb8934dd55d9e3a?s=128&d=identicon&r=PG", "display_name": "jamesdlin", "link": "https://stackoverflow.com/users/179715/jamesdlin"}, "edited": false, "score": 0, "creation_date": 1566439811, "post_id": 57599238, "comment_id": 101659368, "body": "Can you post a minimal, complete, verifiable example?  I am unable reproduce your problem.  The error message is correct in that <code>(BuildContext, Model) =&gt; ListView</code> is <i>not</i> a subtype of <code>(BuildContext, ChangeNotifier) =&gt; Widget</code>, but it&#39;s not clear why it expects a <code>ChangeNotifier</code> argument.  Are you sure that you provided the exact code that you&#39;re encountering the error with?"}, {"owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "edited": false, "score": 0, "creation_date": 1566455862, "post_id": 57599238, "comment_id": 101662987, "body": "I suspect that you have a name clash and this <code>Model</code> you are using is not the model class that you defined. Just ctrl+click(Intellij) on the <code>Model</code> in <code>ChangeNotifierConsumer&lt;Model&gt;(</code> and see where it takes you."}, {"owner": {"reputation": 486, "user_id": 6513167, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/597312657096897/picture?type=large", "display_name": "Martin Niederl", "link": "https://stackoverflow.com/users/6513167/martin-niederl"}, "reply_to_user": {"reputation": 425, "user_id": 8267876, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/845395558956280/picture?type=large", "display_name": "Daniel Szy", "link": "https://stackoverflow.com/users/8267876/daniel-szy"}, "edited": false, "score": 0, "creation_date": 1566489249, "post_id": 57599238, "comment_id": 101681313, "body": "@DanielSzy I can&#39;t, because i pass it to different functions, so I would need to give you this code as well, which is not possible. But thats irrelevant what I do inside, the error occures in the builder line and does not change when i do not use the model at all."}, {"owner": {"reputation": 486, "user_id": 6513167, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/597312657096897/picture?type=large", "display_name": "Martin Niederl", "link": "https://stackoverflow.com/users/6513167/martin-niederl"}, "reply_to_user": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "edited": false, "score": 0, "creation_date": 1566489388, "post_id": 57599238, "comment_id": 101681392, "body": "@GazihanAlankus I know that this is not the case because first this is not the real name, I replaced it so that it is shorter for this example and second, I copied the upper code to a new project with no other files and I got the same error."}, {"owner": {"reputation": 486, "user_id": 6513167, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/597312657096897/picture?type=large", "display_name": "Martin Niederl", "link": "https://stackoverflow.com/users/6513167/martin-niederl"}, "edited": false, "score": 0, "creation_date": 1566490595, "post_id": 57599238, "comment_id": 101681968, "body": "@jamesdin here is a full example: <a href=\"https://pastebin.com/WqF2wnRg\" rel=\"nofollow noreferrer\">pastebin.com/WqF2wnRg</a>. Why is <code>(BuildContext, Model) =&gt; ListView</code> not a subtype of <code>(BuildContext, ChangeNotifier) =&gt; Widget</code>. BuildContext is BuildContext, Model extends ChangeNotifier and ListView extends Widget. All of them are subtypes on their own or do I missunderstand something?"}, {"owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "edited": false, "score": 0, "creation_date": 1566494404, "post_id": 57599238, "comment_id": 101683578, "body": "It is supposed be a subtype. This is a problem best solved with Intellij&#39;s type annotations (or whatever var to type action gotten with alt enter was called)."}], "answers": [{"tags": [], "owner": {"reputation": 425, "user_id": 8267876, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/845395558956280/picture?type=large", "display_name": "Daniel Szy", "link": "https://stackoverflow.com/users/8267876/daniel-szy"}, "is_accepted": false, "score": 0, "last_activity_date": 1566500317, "creation_date": 1566500317, "answer_id": 57615595, "question_id": 57599238, "link": "https://stackoverflow.com/questions/57599238/flutter-type-is-not-a-subtype-of-but-it-is/57615595#57615595", "title": "Flutter: Type &lt;&gt; is not a subtype of &lt;&gt;... but it is", "body": "<p>Imho there is a small mistake in your approach of extending ChangeNotifier.</p>\n\n<p>Extending something in OOP refers to a \"is a\".\nFor example, Lion extends Animal => Lion is a Animal.</p>\n\n<p>In your case, by extending ChangeNotifier, you basically say:</p>\n\n<p>Model is a ChangeNotifier , which is not the case. Correct me if I am wrong.</p>\n\n<p>I tired to get my head around the type issue, but could not get a clue why that is.\nMeanwhile, I worked on a example that would beT Type Save and work as you expect it.</p>\n\n<p><strong>Full working example:</strong> </p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatefulWidget {\n  @override\n  _MyAppState createState() =&gt; _MyAppState();\n}\n\nclass _MyAppState extends State&lt;MyApp&gt; {\n\n  TestModel _model = TestModel(\n    'id', 'name'\n  );\n\n  _changeValue(){\n    _model.setId('newId');\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: Scaffold(\n        body: Column(\n          children: &lt;Widget&gt;[\n            Container(\n                padding: EdgeInsets.all(56.0),\n                child: ChangeNotifierConsumer&lt;TestModel&gt;(\n                  model: _model,\n                  builder: (BuildContext context) {\n                    return Column(\n                      children: &lt;Widget&gt;[\n                        Text(_model.id),\n                        RaisedButton(\n                          child: Text(_model.name),\n                          onPressed: _changeValue,\n                        )\n                      ],\n                    );\n                  },\n                )), Text(_model.id)\n          ],\n        )\n      )\n    );\n  }\n}\n\n\nclass ChangeNotifierConsumer&lt;T extends Model&gt; extends StatefulWidget {\n  ChangeNotifierConsumer({\n    Key key,\n    @required this.model,\n    @required this.builder,\n  }) : super(key: key);\n\n  final T model;\n  final Widget Function(BuildContext context) builder;\n  @override\n  _ChangeNotifierConsumerState createState() =&gt; _ChangeNotifierConsumerState();\n}\n\nclass _ChangeNotifierConsumerState extends State&lt;ChangeNotifierConsumer&gt; {\n  @override\n  void initState() {\n    super.initState();\n    widget.model.addListener(_listener);\n  }\n\n  @override\n  void dispose() {\n    widget.model.removeListener(_listener);\n    super.dispose();\n  }\n\n  void _listener() {\n    print('setstate');\n    setState(() {});\n  }\n\n  @override\n  Widget build(BuildContext context) =&gt; widget.builder(context);\n}\n\nabstract class Model with ChangeNotifier {\n\n}\n\nclass TestModel extends Model {\n  String _id;\n  String _name;\n\n\n  TestModel(this._id, this._name);\n\n  get id =&gt; _id;\n  get name =&gt; _name;\n\n  setId(String id) {\n    _id = id;\n    notifyListeners();\n  }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 486, "user_id": 6513167, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/597312657096897/picture?type=large", "display_name": "Martin Niederl", "link": "https://stackoverflow.com/users/6513167/martin-niederl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1137, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566500317, "creation_date": 1566421991, "question_id": 57599238, "link": "https://stackoverflow.com/questions/57599238/flutter-type-is-not-a-subtype-of-but-it-is", "title": "Flutter: Type &lt;&gt; is not a subtype of &lt;&gt;... but it is", "body": "<p><strong>Disclaimer:</strong> I know that there are several somewhat similar questions, but none of them helped me understand what the problem in this specific case is.</p>\n\n<hr>\n\n<p>I have created a utility widget that accepts a <code>ChangeNotifier</code> and automatically rebuilds the widget when the data changes.</p>\n\n<p>The code for this widget is slightly shortened but what the question is about is visible:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class ChangeNotifierConsumer&lt;T extends ChangeNotifier&gt; extends StatefulWidget {\n  const ChangeNotifierConsumer({\n    Key key,\n    @required this.notifier,\n    @required this.builder,\n  }) : super(key: key);\n\n  final T notifier;\n\n  final Widget Function(BuildContext context, T cache) builder;\n\n  @override\n  _ChangeNotifierConsumerState createState() =&gt; _ChangeNotifierConsumerState();\n}\n\nclass _ChangeNotifierConsumerState extends State&lt;ChangeNotifierConsumer&gt; {\n  @override\n  Widget build(BuildContext context) =&gt; widget.builder(context, widget.notifier);\n}\n</code></pre>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class Model extends ChangeNotifier { ... }\n</code></pre>\n\n<p>I would then use the widget as follows, but that's where the error occurs:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>ChangeNotifierConsumer&lt;Model&gt;(\n    notifier: Model(),\n    builder: (BuildContext context, Model model) { ... }\n)\n</code></pre>\n\n<hr>\n\n<p><strong>The exact error message is:</strong></p>\n\n<p><code>type '(BuildContext, Model) =&gt; ListView' is not a subtype of type '(BuildContext, ChangeNotifier) =&gt; Widget'</code></p>\n\n<p>There are also no compile time errors or output from dart analyze, only at runtime it failes.</p>\n\n<p>Why does this error occur despite the model extending ChangeNotifier?</p>\n\n<p>If I use the Builder as follows, then there is no problem:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>    builder: (BuildContext context, dynamic model) { \n       Model model = model as Model;    \n    }\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 164, "user_id": 5667202, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EJmSQjAE3UE/AAAAAAAAAAI/AAAAAAAAAiM/rIswS-O72VE/photo.jpg?sz=128", "display_name": "Harsha Siriwardana", "link": "https://stackoverflow.com/users/5667202/harsha-siriwardana"}, "is_accepted": false, "score": 0, "last_activity_date": 1588613647, "creation_date": 1588613647, "answer_id": 61598239, "question_id": 57599044, "link": "https://stackoverflow.com/questions/57599044/calling-platform-specific-method-in-alarmmanager/61598239#61598239", "title": "Calling platform specific method in AlarmManager", "body": "<p>This is a known issue of the dart as of now. \nRefer <a href=\"https://github.com/flutter/flutter/issues/56186\" rel=\"nofollow noreferrer\">https://github.com/flutter/flutter/issues/56186</a> and <a href=\"https://github.com/flutter/flutter/issues/13937\" rel=\"nofollow noreferrer\">https://github.com/flutter/flutter/issues/13937</a> </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11590240"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1588613647, "creation_date": 1566420734, "question_id": 57599044, "link": "https://stackoverflow.com/questions/57599044/calling-platform-specific-method-in-alarmmanager", "title": "Calling platform specific method in AlarmManager", "body": "<p>I have the following situation. I have an AlarmManager which fires once a day. In this Alarm I compare two values and if these values are the same, I send an notification. So I created my Platform specific code (only Android) to send the notification. </p>\n\n<p>Problem: I can call the Method only outside of the AlarmManager. That means if I call the Method \"normal\" without the AlarmManager, everything works as expected. Otherwise it will throw an error like this:</p>\n\n<pre><code>22:25:30.545 16 info flutter.tools E/flutter ( 5255): [ERROR:flutter/lib/ui/ui_dart_state.cc(148)] Unhandled Exception: MissingPluginException(No implementation found for method test on channel reminder_channel)\n</code></pre>\n\n<p>Code with AlarmManager:</p>\n\n<p>main.dart</p>\n\n<pre><code>final int dailyAlarmID = 0;\nawait AndroidAlarmManager.initialize();\n\nrunApp(...);\n\nawait AndroidAlarmManager.oneShot(\n    Duration(seconds: 15), dailyAlarmID, testMethod);\n}\n\n</code></pre>\n\n<p>testMethod:</p>\n\n<pre><code>void testMethod() async {\n  SharedPreferences preferences = await SharedPreferences.getInstance();\n  bool testBool = preferences.getBool(\"darkTheme\");\n  print(\"testBool: $testBool\");\n\n  final MethodChannel platform = const MethodChannel(\"reminder_channel\");\n  final testInt = await platform.invokeMethod(\"test\");\n  print(\"testInt: $testInt\");\n}\n</code></pre>\n\n<p>By the way, my Method returns a single Int, which is 5. This is just for testing. And the testBool variable is read from the Shared Preferences and displayed correctly in both variants.</p>\n\n<p>Output:</p>\n\n<pre><code>22:25:30.535 15 info flutter.tools I/flutter ( 5255): testBool: true\n22:25:30.545 16 info flutter.tools E/flutter ( 5255): [ERROR:flutter/lib/ui/ui_dart_state.cc(148)] Unhandled Exception: MissingPluginException(No implementation found for method test on channel reminder_channel)\n</code></pre>\n\n<p>Without AlarmManager:</p>\n\n<p>main.dart:</p>\n\n<pre><code>testMethod();\n</code></pre>\n\n<p>I just call the Method at the end of the main-method. Nothing special.</p>\n\n<p>Output:</p>\n\n<pre><code>22:41:58.054 10 info flutter.tools I/flutter ( 5564): testBool: true\n22:41:58.633 12 info flutter.tools I/flutter ( 5564): testInt: 5\n</code></pre>\n\n<p>Thanks for helping.</p>\n"}, {"tags": ["dart"], "answers": [{"comments": [{"owner": {"reputation": 2726, "user_id": 3612643, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/3e18288eaaaef95535b2ba6deb069db5?s=128&d=identicon&r=PG&f=1", "display_name": "user3612643", "link": "https://stackoverflow.com/users/3612643/user3612643"}, "edited": false, "score": 0, "creation_date": 1566475346, "post_id": 57605453, "comment_id": 101673127, "body": "I could enable it. Works great. However, it complains that operator[] of Map never returns null and my checks are wrong. Is there already a Dart SDK with nullables applied?"}, {"owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "reply_to_user": {"reputation": 2726, "user_id": 3612643, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/3e18288eaaaef95535b2ba6deb069db5?s=128&d=identicon&r=PG&f=1", "display_name": "user3612643", "link": "https://stackoverflow.com/users/3612643/user3612643"}, "edited": false, "score": 0, "creation_date": 1566683177, "post_id": 57605453, "comment_id": 101735158, "body": "No, the SDK has not been migrated yet."}, {"owner": {"reputation": 6021, "user_id": 1134192, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/2FKNr.jpg?s=128&g=1", "display_name": "Oliver Dixon", "link": "https://stackoverflow.com/users/1134192/oliver-dixon"}, "edited": false, "score": 0, "creation_date": 1574535124, "post_id": 57605453, "comment_id": 104270018, "body": "How can we pass this too the compiler analyzer then. For example with debug?"}, {"owner": {"reputation": 6403, "user_id": 85472, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/322016982798ad35df085a1b7b729c38?s=128&d=identicon&r=PG", "display_name": "Maks", "link": "https://stackoverflow.com/users/85472/maks"}, "edited": false, "score": 0, "creation_date": 1591747369, "post_id": 57605453, "comment_id": 110172479, "body": "see answer from @mikyou here, the experiment is now call &quot;non-nullable&quot; instead of &quot;nnbd&quot;"}], "tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": true, "score": 5, "last_activity_date": 1591876476, "last_edit_date": 1591876476, "creation_date": 1566463686, "answer_id": 57605453, "question_id": 57598838, "link": "https://stackoverflow.com/questions/57598838/non-nullable-by-default-how-to-enable-the-experiment/57605453#57605453", "title": "Non-nullable by default: how to enable the experiment?", "body": "<p>You enable the experiment by passing the flag <code>--enable-experiment=non-nullable</code> to the compiler or analyzer.</p>\n\n<p>It is not a complete feature yet, so there are no promises about what it will do. Feel free to experiment, but don't use the flag for anything serious.</p>\n"}, {"tags": [], "owner": {"reputation": 267, "user_id": 2014865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1229b307f3c9c0f77db1493af36a2bad?s=128&d=identicon&r=PG", "display_name": "Karats Mohanraj", "link": "https://stackoverflow.com/users/2014865/karats-mohanraj"}, "is_accepted": false, "score": 17, "last_activity_date": 1570499930, "creation_date": 1570499930, "answer_id": 58279252, "question_id": 57598838, "link": "https://stackoverflow.com/questions/57598838/non-nullable-by-default-how-to-enable-the-experiment/58279252#58279252", "title": "Non-nullable by default: how to enable the experiment?", "body": "<p>Add the following line to the analysis_options.yaml</p>\n\n<pre><code>analyzer:\n  enable-experiment:\n    - non-nullable\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 13389027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11d96b682b0fe858eb94940f300020b7?s=128&d=identicon&r=PG&f=1", "display_name": "mikyou", "link": "https://stackoverflow.com/users/13389027/mikyou"}, "is_accepted": false, "score": 6, "last_activity_date": 1597197208, "last_edit_date": 1597197208, "creation_date": 1587632866, "answer_id": 61383377, "question_id": 57598838, "link": "https://stackoverflow.com/questions/57598838/non-nullable-by-default-how-to-enable-the-experiment/61383377#61383377", "title": "Non-nullable by default: how to enable the experiment?", "body": "<p>Enable the non-nullable experiment with three steps:</p>\n<ol>\n<li><p>Add dart-sdk version into pubspec.yaml</p>\n<pre><code>environment:\n  sdk: '&gt;=2.8.0-dev.0 &lt;2.8.0'\n</code></pre>\n</li>\n<li><p>Add enable non-nullable experiment into analysis_options.yaml</p>\n<pre><code>analyzer:\n  enable-experiment:\n    - non-nullable\n</code></pre>\n</li>\n<li><p>Run your Dart code:</p>\n<pre><code>dart --enable-experiment=non-nullable ./bin/hello_dart.dart\n</code></pre>\n</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 4253012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14017307276b32476702d8922be39f20?s=128&d=identicon&r=PG&f=1", "display_name": "AInoob", "link": "https://stackoverflow.com/users/4253012/ainoob"}, "is_accepted": false, "score": 3, "last_activity_date": 1592627978, "creation_date": 1592627978, "answer_id": 62481724, "question_id": 57598838, "link": "https://stackoverflow.com/questions/57598838/non-nullable-by-default-how-to-enable-the-experiment/62481724#62481724", "title": "Non-nullable by default: how to enable the experiment?", "body": "<p>For me, removing pubspec.lock and rerun fix the issue. I was importing the project from Windows to Mac.</p>\n"}, {"tags": [], "owner": {"reputation": 492, "user_id": 10468555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mc31k.jpg?s=128&g=1", "display_name": "maxpill", "link": "https://stackoverflow.com/users/10468555/maxpill"}, "is_accepted": false, "score": 1, "last_activity_date": 1603089755, "creation_date": 1603089755, "answer_id": 64422322, "question_id": 57598838, "link": "https://stackoverflow.com/questions/57598838/non-nullable-by-default-how-to-enable-the-experiment/64422322#64422322", "title": "Non-nullable by default: how to enable the experiment?", "body": "<p>Manually removing <code>pubspec.lock</code> and running <code>flutter pub get</code> resolved the problem. In my case it was due to regression.</p>\n"}], "owner": {"reputation": 2726, "user_id": 3612643, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/3e18288eaaaef95535b2ba6deb069db5?s=128&d=identicon&r=PG&f=1", "display_name": "user3612643", "link": "https://stackoverflow.com/users/3612643/user3612643"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7319, "favorite_count": 1, "accepted_answer_id": 57605453, "answer_count": 5, "score": 10, "last_activity_date": 1603089755, "creation_date": 1566419542, "question_id": 57598838, "link": "https://stackoverflow.com/questions/57598838/non-nullable-by-default-how-to-enable-the-experiment", "title": "Non-nullable by default: how to enable the experiment?", "body": "<p>I just tried the following in DartPad:</p>\n\n<pre><code>void main() {\n  int? x;\n}\n</code></pre>\n\n<p>and get the following error:</p>\n\n<pre><code>Error compiling to JavaScript:\nmain.dart:2:6:\nError: This requires the 'non-nullable' experiment to be enabled.\n</code></pre>\n\n<ol>\n<li><p>How do I enable that experiment? I am using the Flutter SDK.</p></li>\n<li><p>Does the experiment support null-safety static analysis already?</p></li>\n</ol>\n"}, {"tags": ["flutter", "dart", "flutter-provider"], "answers": [{"comments": [{"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 1, "creation_date": 1566417185, "post_id": 57598352, "comment_id": 101653959, "body": "Your answer contradicts itself: <code>provider</code> <b>is</b> an InheritedWidget."}, {"owner": {"reputation": 1313, "user_id": 10654377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f9e82bf491680b7eea3b43a7c5d002?s=128&d=identicon&r=PG&f=1", "display_name": "FlutterFirebase", "link": "https://stackoverflow.com/users/10654377/flutterfirebase"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1566417735, "post_id": 57598352, "comment_id": 101654167, "body": "@R&#233;miRousselet What is you solution for this issue?"}, {"owner": {"reputation": 425, "user_id": 8267876, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/845395558956280/picture?type=large", "display_name": "Daniel Szy", "link": "https://stackoverflow.com/users/8267876/daniel-szy"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1566418454, "post_id": 57598352, "comment_id": 101654436, "body": "@R&#233;miRousselet you are right, I was using it in a context where Provider.value would be immutable and the value would be instantiated on runtime, so putting it above the material app would not make sense. I edited the answer to remove confusion."}, {"owner": {"reputation": 1313, "user_id": 10654377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f9e82bf491680b7eea3b43a7c5d002?s=128&d=identicon&r=PG&f=1", "display_name": "FlutterFirebase", "link": "https://stackoverflow.com/users/10654377/flutterfirebase"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 1, "creation_date": 1566418912, "post_id": 57598352, "comment_id": 101654593, "body": "@DanielSzy Thanks for reply! But I not think this correct. You solution is possible. But <code>You don\u2019t want to place ChangeNotifierProvider higher than necessary (because you don\u2019t want to pollute the scope)</code>. So it is better for me put lower down.  @R&#233;miRousselet say it is possible pass <code>provider</code> with <code>context</code> in <code>Navigator</code>. I am look for how to do this."}, {"owner": {"reputation": 425, "user_id": 8267876, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/845395558956280/picture?type=large", "display_name": "Daniel Szy", "link": "https://stackoverflow.com/users/8267876/daniel-szy"}, "edited": false, "score": 0, "creation_date": 1566426704, "post_id": 57598352, "comment_id": 101657038, "body": "Please post your answer here if you find the solution. I tried to do that for like 3 hours but found it incredibly messy, and also it would be mutable then right? We don&#39;t want to manually handle instances that get passed with context. That would essentially break the core value provider adds to us developers, no?"}, {"owner": {"reputation": 1313, "user_id": 10654377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f9e82bf491680b7eea3b43a7c5d002?s=128&d=identicon&r=PG&f=1", "display_name": "FlutterFirebase", "link": "https://stackoverflow.com/users/10654377/flutterfirebase"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1566486314, "post_id": 57598352, "comment_id": 101679799, "body": "Thanks! I want try pass this way because @R&#233;miRousselet say this is correct way for do this. I am also try very long to do. You can post how you did it (even if it look messy)?"}, {"owner": {"reputation": 425, "user_id": 8267876, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/845395558956280/picture?type=large", "display_name": "Daniel Szy", "link": "https://stackoverflow.com/users/8267876/daniel-szy"}, "edited": false, "score": 0, "creation_date": 1566495777, "post_id": 57598352, "comment_id": 101684138, "body": "It was essentially only passing the current value of the provider to the route as an argument, then wrapping the new page in a new provider. This does as I said not serve the purpose of provider imho. If you don&#39;t want to rebuild your widget tree, I suggest you lift the provider up and use ListenableProvider to rebuild depending widgets."}, {"owner": {"reputation": 537, "user_id": 985806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7fa899fafa20b5b76093472799388d4?s=128&d=identicon&r=PG", "display_name": "mileusna", "link": "https://stackoverflow.com/users/985806/mileusna"}, "edited": false, "score": 0, "creation_date": 1577998785, "post_id": 57598352, "comment_id": 105307592, "body": "I don&#39;t know is there any other way but this is the correct answer. My InheritedWidget was one step below MaterialApp and it didn&#39;t work. After I have put InheritedWidget on the top and MaterialApp as a child, context.dependOnInheritedWidgetOfExactType started working in Navigator.push widgets."}], "tags": [], "owner": {"reputation": 425, "user_id": 8267876, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/845395558956280/picture?type=large", "display_name": "Daniel Szy", "link": "https://stackoverflow.com/users/8267876/daniel-szy"}, "is_accepted": false, "score": 2, "last_activity_date": 1566418306, "last_edit_date": 1566418306, "creation_date": 1566417035, "answer_id": 57598352, "question_id": 57598029, "link": "https://stackoverflow.com/questions/57598029/how-to-pass-provider-with-navigator/57598352#57598352", "title": "How to pass provider with Navigator?", "body": "<p>You would need to make the Provider appear above the Navigator Widget to be an anchestor of the current Widget. That means, it must reside above the <code>MaterialApp()</code>, <code>CupertinoApp()</code> or whatever <code>Directionality()</code> you might use.</p>\n\n<p>Please refer to following links for more information about InheritedWidget.</p>\n\n<p><a href=\"https://medium.com/@mehmetf_71205/inheriting-widgets-b7ac56dbbeb1\" rel=\"nofollow noreferrer\">https://medium.com/@mehmetf_71205/inheriting-widgets-b7ac56dbbeb1</a></p>\n\n<p><a href=\"https://www.youtube.com/watch?v=Zbm3hjPjQMk\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=Zbm3hjPjQMk</a></p>\n"}, {"tags": [], "owner": {"reputation": 1086, "user_id": 12066144, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M4ouC.jpg?s=128&g=1", "display_name": "Valentin Vignal", "link": "https://stackoverflow.com/users/12066144/valentin-vignal"}, "is_accepted": false, "score": 1, "last_activity_date": 1596648255, "last_edit_date": 1596648255, "creation_date": 1596647914, "answer_id": 63270336, "question_id": 57598029, "link": "https://stackoverflow.com/questions/57598029/how-to-pass-provider-with-navigator/63270336#63270336", "title": "How to pass provider with Navigator?", "body": "<p>I am a bit late but I found a solution on how to keep the value of a <code>Provider</code> alive after a <code>Navigator.push()</code> without having to put the <code>Provider</code> above the <code>MaterialApp</code>.</p>\n<p>To do so, I have used the library <a href=\"https://pub.dev/packages/custom_navigator\" rel=\"nofollow noreferrer\"><code>custom_navigator</code></a>. It allows you to create a <code>Navigator</code> wherever you want in the tree.</p>\n<p>You will have to create 2 different <code>GlobalKey&lt;NavigatorState&gt;</code> that you will give to the <code>MaterialApp</code> and <code>CustomNavigator</code> widgets. These keys will allow you to control what Navigator you want to use.</p>\n<p>Here is a small snippet to illustrate how to do</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class App extends StatelessWidget {\n\n   GlobalKey&lt;NavigatorState&gt; _mainNavigatorKey = GlobalKey&lt;NavigatorState&gt;(); // You need to create this key for the MaterialApp too\n\n   @override\n   Widget build(BuildContext context) {\n      return MaterialApp(\n         navigatorKey: _mainNavigatorKey;  // Give the main key to the MaterialApp\n         home: Provider&lt;bool&gt;.value(\n            value: myProviderFunction(),\n            child: Home(),\n         ),\n      );\n   }\n\n}\n\nclass Home extends StatelessWidget {\n\n   GlobalKey&lt;NavigatorState&gt; _navigatorKey = GlobalKey&lt;NavigatorState&gt;(); // You need to create this key to control what navigator you want to use\n\n   @override\n   Widget build(BuildContext context) {\n\n      final bool myBool = Provider.of&lt;bool&gt;(context);\n\n      return CustomNavigator (\n         // CustomNavigator is from the library 'custom_navigator'\n         navigatorKey: _navigatorKey,  // Give the second key to your CustomNavigator\n         pageRoute: PageRoutes.materialPageRoute,\n         home: Scaffold(\n            body: FlatButton(\n               child: Text('Push'),\n               onPressed: () {\n                  _navigatorKey.currentState.push(  // &lt;- Where the magic happens\n                     MaterialPageRoute(\n                        builder: (context) =&gt; SecondHome(),\n                     ),\n                  },\n               ),\n            ),\n         ),\n      );   \n   }\n}\n\nclass SecondHome extends StatelessWidget {\n\n   @override\n   Widget build(BuildContext context) {\n\n      final bool myBool = Provider.of&lt;bool&gt;(context);\n\n      return Scaffold(\n         body: FlatButton(\n            child: Text('Pop'),\n            onPressed: () {\n               Novigator.pop(context);\n            },\n         ),\n      );\n   }\n\n}\n</code></pre>\n<p>Here you can read the value <code>myBool</code> from the <code>Provider</code> in the <code>Home</code> widget but also ine the <code>SecondHome</code> widget even after a <code>Navigator.push()</code>.</p>\n<p>However, the Android <code>back</code> button will trigger a <code>Navigator.pop()</code> from the Navigator of the <code>MaterialApp</code>. If you want to use the <code>CustomNavigator</code>'s one, you can do this:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>// In the Home Widget insert this\n   ...\n   @override\n   Widget build(BuildContext context) {\n      return WillPopScope(\n         onWillPop: () async {\n            if (_navigatorKey.currentState.canPop()) {\n               _navigatorKey.currentState.pop();  // Use the custom navigator when available\n               return false;  // Don't pop the main navigator\n            } else {\n               return true;  // There is nothing to pop in the custom navigator anymore, use the main one\n            }\n         },\n         child: CustomNavigator(...),\n      );\n   }\n   ...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2046, "user_id": 658493, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/be38f103e2685e1c32553c25243d2db4?s=128&d=identicon&r=PG", "display_name": "K-Dawg", "link": "https://stackoverflow.com/users/658493/k-dawg"}, "edited": false, "score": 0, "creation_date": 1603630335, "post_id": 63689845, "comment_id": 114091541, "body": "This seems like the simplest solution. Really nice answer! Thank you \ud83d\ude4f"}], "tags": [], "owner": {"reputation": 999, "user_id": 9731658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d7757b56bd30cba3c00346fa75ddfe?s=128&d=identicon&r=PG&f=1", "display_name": "rahul  Kushwaha", "link": "https://stackoverflow.com/users/9731658/rahul-kushwaha"}, "is_accepted": false, "score": 4, "last_activity_date": 1598970957, "creation_date": 1598970957, "answer_id": 63689845, "question_id": 57598029, "link": "https://stackoverflow.com/questions/57598029/how-to-pass-provider-with-navigator/63689845#63689845", "title": "How to pass provider with Navigator?", "body": "<p>You can easily pass the provider in the Navigator by creating a new provider when Navigating to a new page.</p>\n<pre><code> Navigator.of(context).push(\n      MaterialPageRoute(\n        builder: (BuildContext context) =&gt; Provider(\n          create: (context) =&gt; InventoryItem(),\n          builder: (context, child) =&gt; ProductDetails(),\n        ),\n      ),\n    );\n</code></pre>\n<p>Here either create a new object <code>InventoryItem()</code> or pass the existing provider object.</p>\n"}], "owner": {"reputation": 1313, "user_id": 10654377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f9e82bf491680b7eea3b43a7c5d002?s=128&d=identicon&r=PG&f=1", "display_name": "FlutterFirebase", "link": "https://stackoverflow.com/users/10654377/flutterfirebase"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5600, "favorite_count": 0, "answer_count": 3, "score": 5, "last_activity_date": 1598970957, "creation_date": 1566415376, "question_id": 57598029, "link": "https://stackoverflow.com/questions/57598029/how-to-pass-provider-with-navigator", "title": "How to pass provider with Navigator?", "body": "<p>I need pass provider (<code>Model2</code>) from <code>homepage</code> to <code>Page2</code> so when user go back to <code>homepage</code> (<code>onWillPop</code>) I can make API call from provider (<code>Model2</code>) and update <code>homepage</code>.</p>\n\n<p>But when I call <code>_onPaidBackPress(context)</code> there is error:</p>\n\n<blockquote>\n  <p>Unhandled Exception: Error: Could not find the correct\n  Provider above this Consumer Widget</p>\n</blockquote>\n\n<p><code>StatefulWidget</code> in homepage:</p>\n\n<pre><code>@override\n  Widget build(BuildContext context) {\nreturn ChangeNotifierProxyProvider&lt;Model1, Model2&gt;(\ninitialBuilder: (_) =&gt; Model2(),\n  builder: (_, model1, model2) =&gt; model2\n    ..string = model1.string,\n),\n  child: Consumer&lt;Model2&gt;(\n    builder: (context, model2, _) =&gt;\n\n...\n                        await Navigator.push(\n                            context,\n                            new MaterialPageRoute(\n                                builder: (BuildContext context) =&gt;\n                                    new Page2(\n                                        context: context)));\n</code></pre>\n\n<p>In Page2: </p>\n\n<pre><code>class Page2 extends StatefulWidget {\n\n  final BuildContext context;\n\n  Page2({Key key, this.context}) : super(key: key);\n\n  @override\n  State createState() =&gt; new Page2State(context: context);\n}\n\nclass Page2State extends State&lt;Page2&gt; {\n\n  final context;\n\n  ChatScreenState({Key key, this.context});\n\n@override\n  Widget build(BuildContext context) {\n\n    return Consumer&lt;Model1&gt;(\n      builder: (context, model, _) {\n\n        return new WillPopScope(\n              onWillPop: () =&gt; model.isPaid ? _onPaidBackPress(context) : _onBackPressed(context),\n\n\n\n\nFuture&lt;void&gt; _onPaidBackPress(context) async {\n\n\nfinal model2 = Provider.of&lt;Model2&gt;(context, listen: false);\n\n  return showDialog&lt;void&gt;(\n    context: context,\n    barrierDismissible: false, \n    builder: (BuildContext context) {\n      return \n\n\n    Provider.value(value: model2, child:\n\n\nAlertDialog(\n        title: Text('Back'),\n        content: SingleChildScrollView(\n          child: ListBody(\n            children: &lt;Widget&gt;[\n              Text('Go back'),\n            ],\n          ),\n        ),\n        actions: &lt;Widget&gt;[\n          FlatButton(\n            child: Text('OK'),\n            onPressed: () async {\n\nawait model2.getData();\n\n              Navigator.of(context).pop();\n            },\n          ),\n        ],\n),\n      );\n    },\n  );\n}\n</code></pre>\n\n<p>Thanks for help!</p>\n"}, {"tags": ["database", "flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 876, "user_id": 8738574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16f2749b0f68000de2ab26739e2b0e23?s=128&d=identicon&r=PG&f=1", "display_name": "medyas", "link": "https://stackoverflow.com/users/8738574/medyas"}, "is_accepted": true, "score": 2, "last_activity_date": 1566453224, "last_edit_date": 1566453224, "creation_date": 1566414869, "answer_id": 57597937, "question_id": 57597755, "link": "https://stackoverflow.com/questions/57597755/populate-gridview-from-db-in-flutter/57597937#57597937", "title": "Populate GridView from db in Flutter", "body": "<p>You can use the <code>GridView.Builder</code></p>\n\n<pre><code>return snapshot.hasData? \n       GridView.builder(\n          gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(\n              crossAxisCount: 2),\n          itemCount: snapshot.data.length,\n          itemBuilder: (BuildContext context, int index) {\n            final item = snapshot.data[index];\n            //get your item data here ...\n            return Card(\n              color: RandomColor().randomColor(),\n              child: ListTile(\n                 title: Text(\n                    snapshot.data[index].row[1]),\n              ),\n            );\n          },\n        )\n      : Center(\n          child: CircularProgressIndicator(),\n        );\n</code></pre>\n"}], "owner": {"reputation": 164, "user_id": 6547844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gi5xD.png?s=128&g=1", "display_name": "Paolo Colombo", "link": "https://stackoverflow.com/users/6547844/paolo-colombo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 796, "favorite_count": 0, "accepted_answer_id": 57597937, "answer_count": 1, "score": 0, "last_activity_date": 1566453224, "creation_date": 1566414002, "question_id": 57597755, "link": "https://stackoverflow.com/questions/57597755/populate-gridview-from-db-in-flutter", "title": "Populate GridView from db in Flutter", "body": "<p>I want to retrive data from table in db and display it into GridView in Flutter.\nAt the moment I display it in a simple List but I can't display it in GridView.\nHere is my code</p>\n\n<pre><code>return Scaffold(\n  appBar: AppBar(\n    title: Text(\"Diario di bordo\"),\n  ),\n  /*body: Center(\n    child: Text('Nessun diario presente'),\n  ),*/\n    body: FutureBuilder&lt;List&gt;(\n      future: dbHelper.queryAllRows(),\n      initialData: List(),\n      builder: (context, snapshot) {\n        return snapshot.hasData\n            ? ListView.builder(\n          itemCount: snapshot.data.length,\n          itemBuilder: (_, int position) {\n            final item = snapshot.data[position];\n            //get your item data here ...\n            return Card(\n              color: RandomColor().randomColor(),\n              child: ListTile(\n                title: Text(\n                    snapshot.data[position].row[1]),\n              ),\n            );\n          },\n        )\n            : Center(\n          child: CircularProgressIndicator(),\n        );\n      },\n    ),\n...\n</code></pre>\n\n<p>I searched on documentation and I see this piece of code</p>\n\n<pre><code>GridView.count(\n// Create a grid with 2 columns. If you change the scrollDirection to\n// horizontal, this produces 2 rows.\ncrossAxisCount: 2,\n// Generate 100 widgets that display their index in the List.\nchildren: List.generate(100, (index) {\nreturn Center(\n  child: Text(\n    'Item $index',\n    style: Theme.of(context).textTheme.headline,\n  ),\n);\n}),\n);\n</code></pre>\n\n<p>I don't understand how retrive data from mytable in db and show it in GridView.</p>\n"}, {"tags": ["flutter", "dart"], "owner": {"reputation": 21, "user_id": 2208383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de03676821041e02130d7119ab88b21d?s=128&d=identicon&r=PG", "display_name": "user18841", "link": "https://stackoverflow.com/users/2208383/user18841"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1584699655, "creation_date": 1566402934, "question_id": 57595369, "link": "https://stackoverflow.com/questions/57595369/how-to-access-shared-preferences-kvp-from-previous-non-flutter-version-of-app", "title": "How to access shared_preferences KVP from previous non-Flutter version of app", "body": "<p>So I made an iOS app in Swift, and published it to the app store. In that app, I have saved some important KVPs in UserDefaults.standard. Typically, when updating the app, the KVPs would transfer over to the updated version without issue.</p>\n\n<p>Now I'm remaking the app in Flutter/Dart. I want a smooth transition for existing users. Specifically, when users update from the Swift version to the Flutter version, the UserDefaults data should still be stored. However, when I tried testing this out (using Flutter's shared_preferences module to get existing keys), the keys appeared to be \"gone\".</p>\n\n<p>The reason they're \"gone\" is that Flutter prefixes all keys with \"flutter.\". As such, when it saves key XX, it's actually saving flutter.XX, and when you try to retrieve key XX, you're actually retrieving flutter.XX. But in the Swift version of the app, I saved it as XX, not flutter.XX (obviously), so now Flutter \"can't find it\".</p>\n\n<p>The functionality that enforces the prefix is spread across shared_preferences.dart and SharedPreferencesPlugin.m. I could technically modify these files to remove the prefix, but I'm not aware if there would be any negative side effects to doing so.</p>\n\n<p>Any ideas on either how to access my old KVPs without entirely modifying the Shared Preferences plugin? And/or anyone know whether modifying the plugin to remove the prefix would cause any unintended side effects?</p>\n"}, {"tags": ["flutter", "dart", "flutter-provider"], "comments": [{"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1566403447, "post_id": 57594576, "comment_id": 101648254, "body": "<code>Model2 is not initialise for all user.</code> What does this means?"}, {"owner": {"reputation": 1313, "user_id": 10654377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f9e82bf491680b7eea3b43a7c5d002?s=128&d=identicon&r=PG&f=1", "display_name": "FlutterFirebase", "link": "https://stackoverflow.com/users/10654377/flutterfirebase"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1566403528, "post_id": 57594576, "comment_id": 101648292, "body": "@R&#233;miRousselet This mean I only use <code>Model2</code> on homepage for some user. Other user see different homepage and I not set up <code>Model2</code> with for that page \u2013"}], "answers": [{"comments": [{"owner": {"reputation": 1313, "user_id": 10654377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f9e82bf491680b7eea3b43a7c5d002?s=128&d=identicon&r=PG&f=1", "display_name": "FlutterFirebase", "link": "https://stackoverflow.com/users/10654377/flutterfirebase"}, "edited": false, "score": 0, "creation_date": 1566401758, "post_id": 57595012, "comment_id": 101647420, "body": "This not answer question. Even in <code>WillPopScope</code> I must segment users and call from <code>provider</code>"}], "tags": [], "owner": {"reputation": 1523, "user_id": 11932722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJyxo.png?s=128&g=1", "display_name": "drogel", "link": "https://stackoverflow.com/users/11932722/drogel"}, "is_accepted": false, "score": 0, "last_activity_date": 1566401603, "creation_date": 1566401603, "answer_id": 57595012, "question_id": 57594576, "link": "https://stackoverflow.com/questions/57594576/how-to-call-provider-on-condition/57595012#57595012", "title": "How to call provider on condition?", "body": "<p>You can wrap your second page interface builder in a <code>WillPopScope</code> widget, and then, pass whatever method you want to call to the <code>onWillPop</code> callback of the <code>WillPopScope</code> widget. This way, you can make your API call when user presses the back button. Find more about the <code>WillPopScope</code> widget on <a href=\"https://api.flutter.dev/flutter/widgets/WillPopScope-class.html\" rel=\"nofollow noreferrer\">this WillPopScope Flutter dev documentation article</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 11745, "user_id": 608991, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/1L4iV.png?s=128&g=1", "display_name": "Tommie C.", "link": "https://stackoverflow.com/users/608991/tommie-c"}, "is_accepted": false, "score": 0, "last_activity_date": 1577549889, "last_edit_date": 1577549889, "creation_date": 1577549106, "answer_id": 59512509, "question_id": 57594576, "link": "https://stackoverflow.com/questions/57594576/how-to-call-provider-on-condition/59512509#59512509", "title": "How to call provider on condition?", "body": "<blockquote>\n  <p><strong>tldr;</strong> Establish and check your single point of truth before the call to the Provider\n  that may result in a null value or evaluate as a nullable reference.</p>\n</blockquote>\n\n<p>Perhaps you can change the architecture a bit to establish a single (nullable or bool) reference indicating whether the user has paid. Then use Darts nullability checks (or just a bool) to implement the behavior you want. This differs from your current proposal in that there would be no need to call on the Provider to instantiate the model. Just add a single point of truth to your User object that is initialized to null or false, and then change that logic only when the User has actually paid. </p>\n\n<p>Toggling widgets/behavior in this way could be a solution.</p>\n\n<p>Alternatives considered:</p>\n\n<ul>\n<li>Packaging critical data points into a separate library so that the values can be imported where needed.</li>\n<li>Other state management methods for key/value use.</li>\n<li>If you want to simply hide/show parts of a page consider using the <a href=\"https://api.flutter.dev/flutter/widgets/Offstage-class.html\" rel=\"nofollow noreferrer\">OffStage</a> class or the <a href=\"https://api.flutter.dev/flutter/widgets/Visibility-class.html\" rel=\"nofollow noreferrer\">Visibility</a> class</li>\n</ul>\n\n<p>Ref\n<a href=\"https://stackoverflow.com/questions/17006664/what-is-the-dart-null-checking-idiom-or-best-practice\">Dart null-checking samples</a></p>\n"}], "owner": {"reputation": 1313, "user_id": 10654377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f9e82bf491680b7eea3b43a7c5d002?s=128&d=identicon&r=PG&f=1", "display_name": "FlutterFirebase", "link": "https://stackoverflow.com/users/10654377/flutterfirebase"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 430, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1577549889, "creation_date": 1566400153, "last_edit_date": 1566401041, "question_id": 57594576, "link": "https://stackoverflow.com/questions/57594576/how-to-call-provider-on-condition", "title": "How to call provider on condition?", "body": "<p>On app homepage I set up <code>Model2</code> which make API call for data. User can then navigate to other page (<code>Navigator.push</code>). But I want make API call from <code>Model2</code> when user press back (<code>_onBackPress()</code>) so can refresh data on homepage. </p>\n\n<p>Issue is Model2 is not initialise for all user. But if I call <code>final model2 = Provider.of&lt;Model2&gt;(context, listen: false);</code> for user where Model2 is not initialise, this will give error.</p>\n\n<p>How I can call Provider only on condition? For example: <code>if(user == paid)</code></p>\n\n<p><code>StatefulWidget</code> in homepage:</p>\n\n<pre><code>@override\n  Widget build(BuildContext context) {\nreturn ChangeNotifierProxyProvider&lt;Model1, Model2&gt;(\ninitialBuilder: (_) =&gt; Model2(),\n  builder: (_, model1, model2) =&gt; model2\n    ..string = model1.string,\n),\n  child: Consumer&lt;Model2&gt;(\n    builder: (context, model2, _) =&gt;\n\n...\n        Navigator.push(\n          context,\n          MaterialPageRoute(builder: (context) =&gt; SecondRoute(context: context)),\n</code></pre>\n\n<p>In Page2: </p>\n\n<pre><code>Future&lt;void&gt; _onBackPress(context) async {\n\n// if(user == paid)\nfinal model2 = Provider.of&lt;Model2&gt;(context, listen: false);\n\n  return showDialog&lt;void&gt;(\n    context: context,\n    barrierDismissible: false, \n    builder: (BuildContext context) {\n      return \n\n// if(user == paid)\n    Provider.value(value: model2, child:\n\n\nAlertDialog(\n        title: Text('Back'),\n        content: SingleChildScrollView(\n          child: ListBody(\n            children: &lt;Widget&gt;[\n              Text('Go back'),\n            ],\n          ),\n        ),\n        actions: &lt;Widget&gt;[\n          FlatButton(\n            child: Text('OK'),\n            onPressed: () async {\n\n// if(user == paid)\nawait model2.getData();\n\n              Navigator.of(context).pop();\n            },\n          ),\n        ],\n),\n      );\n    },\n  );\n}\n</code></pre>\n\n<p>Alternative method (maybe more easy): How to call provider on previous page (homepage) on <code>Navigator.of(context).pop();</code>?</p>\n\n<p>TLDR: What is best solution for call API so can refresh data when user go back to previous page (but only for some user)?</p>\n"}, {"tags": ["dart", "aqueduct"], "answers": [{"comments": [{"owner": {"reputation": 1928, "user_id": 2950115, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a562cd1bb8d0fec9bbed4bd7894086c9?s=128&d=identicon&r=PG&f=1", "display_name": "Vedavyas Bhat", "link": "https://stackoverflow.com/users/2950115/vedavyas-bhat"}, "edited": false, "score": 0, "creation_date": 1566466601, "post_id": 57595912, "comment_id": 101668278, "body": "I don&#39;t want to use loose types (like Maps or CSVs) because I want the strong typing for my models. Is there no way for me to use custom types, and maybe specify that they are serializable as well?"}, {"owner": {"reputation": 1516, "user_id": 2535095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdf1873a9a1f8b1eec22faabf60c013e?s=128&d=identicon&r=PG", "display_name": "Joe Conway", "link": "https://stackoverflow.com/users/2535095/joe-conway"}, "reply_to_user": {"reputation": 1928, "user_id": 2950115, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a562cd1bb8d0fec9bbed4bd7894086c9?s=128&d=identicon&r=PG&f=1", "display_name": "Vedavyas Bhat", "link": "https://stackoverflow.com/users/2950115/vedavyas-bhat"}, "edited": false, "score": 1, "creation_date": 1566491983, "post_id": 57595912, "comment_id": 101682588, "body": "Sure.   <code>FirstAndSecond mySerializable;  @Serialize() Map&lt;String, dynamic&gt; get firstAndSecond {    return mySerializable.asMap(); } </code>  *can&#39;t really do a code snippet well in the comment box. Basically you just need to have a property for your Serializable, and then have your <code>Serialize</code> property derive the primitive type from it."}], "tags": [], "owner": {"reputation": 1516, "user_id": 2535095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdf1873a9a1f8b1eec22faabf60c013e?s=128&d=identicon&r=PG", "display_name": "Joe Conway", "link": "https://stackoverflow.com/users/2535095/joe-conway"}, "is_accepted": false, "score": 1, "last_activity_date": 1566405188, "creation_date": 1566405188, "answer_id": 57595912, "question_id": 57594269, "link": "https://stackoverflow.com/questions/57594269/aqueduct-orm-managedobjects-transient-property-being-persisted/57595912#57595912", "title": "Aqueduct ORM ManagedObject&#39;s transient property being persisted", "body": "<p>This should be in the docs - </p>\n\n<p>A <code>Serializable</code> property must be a primitive type (e.g. String, int, double, bool or a Map or List containing these types). Serializable values are passed directly to the codec that is reading from a request body or writing to a response body (by default, this codec is JSON). In the case of a custom type like <code>OtherThing</code>, the codec doesn't know how to encode or decode that type. </p>\n\n<p>For complex types, you might use a map:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>@Serialize()\nMap&lt;String, dynanic&gt; get firstAndSecond() {\n   return {\"first\": first, \"second\": second};\n}\n</code></pre>\n\n<p>You might also use CSV-like data:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>@Serialize()\nString get firstAndSecond() {\n   return \"$first,$second\";\n}\n</code></pre>\n"}], "owner": {"reputation": 1928, "user_id": 2950115, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a562cd1bb8d0fec9bbed4bd7894086c9?s=128&d=identicon&r=PG&f=1", "display_name": "Vedavyas Bhat", "link": "https://stackoverflow.com/users/2950115/vedavyas-bhat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566405188, "creation_date": 1566399052, "question_id": 57594269, "link": "https://stackoverflow.com/questions/57594269/aqueduct-orm-managedobjects-transient-property-being-persisted", "title": "Aqueduct ORM ManagedObject&#39;s transient property being persisted", "body": "<p>I have an Aqueduct project using the ORM, with a data model as follows:</p>\n\n<pre><code>class _Thing {\n  @primaryKey\n  int id;\n\n  String first;\n\n  String second;\n}\n\nclass Thing extends ManagedObject&lt;_Thing&gt; implements _Thing {\n\n  @Serialize()\n  OtherThing get firstAndSecond() {\n    // return some value computed from first and second\n  }\n\n  @Serialize()\n  set firstAndSecond(OtherThing firstAndSecond) {\n    // set first and second based on some computation\n  }\n}\n</code></pre>\n\n<p>According to the docs for <a href=\"https://aqueduct.io/docs/db/modeling_data/\" rel=\"nofollow noreferrer\">transient properties</a>, annotating with <code>@Serialize()</code> should enable this model to be serialized/deserialized. It also says that properties in <code>ManagedObject</code>s are not persisted, but when I run the server, I get the error:</p>\n\n<pre><code>Data Model Error: Property 'firstAndSecond' on 'Thing' has an unsupported type.\n</code></pre>\n\n<p>If I remove the <code>@Serialize()</code>, it doesn't try to persist it, but I can't serialize/deserialize this object.</p>\n\n<p>Any suggestions as to why this is happening or how I can control this behaviour?</p>\n"}, {"tags": ["android", "flutter", "dart"], "comments": [{"owner": {"reputation": 1890, "user_id": 2362966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8792270fcc92400b12d02f8a4cc00e89?s=128&d=identicon&r=PG", "display_name": "ejabu", "link": "https://stackoverflow.com/users/2362966/ejabu"}, "edited": false, "score": 0, "creation_date": 1566460515, "post_id": 57594098, "comment_id": 101665300, "body": "I have suggestion for better pattern. rather than working around didChangeDependencies, we can call fetchAndSetProducts in Products constructor. see here <a href=\"https://github.com/ejabu/flutter_sqlite_api_provider/blob/master/lib/d_screen/1_auto_init/auto_init_screen.dart\" rel=\"nofollow noreferrer\">github.com/ejabu/flutter_sqlite_api_provider/blob/master/lib&zwnj;&#8203;/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 166, "user_id": 8229805, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-pfXNgEMj6sw/AAAAAAAAAAI/AAAAAAAAARQ/jjCNN5gs6lw/photo.jpg?sz=128", "display_name": "Lucas Rueda", "link": "https://stackoverflow.com/users/8229805/lucas-rueda"}, "is_accepted": false, "score": 1, "last_activity_date": 1566441439, "creation_date": 1566441439, "answer_id": 57601356, "question_id": 57594098, "link": "https://stackoverflow.com/questions/57594098/strange-behavior-of-notifylistener/57601356#57601356", "title": "Strange behavior of notifyListener", "body": "<p>You have a logic error. Check my comments..!</p>\n\n<pre><code>class Products with ChangeNotifier {\n\n  List&lt;Product&gt; _loadedProducts = [];\n\n  Future&lt;void&gt; fetchAndSetProducts() async {\n    try {\n      var response =\n          await http.get(StoreServer.serverAddress + '/products.json');\n\n      final extractedData = json.decode(response.body) as Map&lt;String, dynamic&gt;;\n      List&lt;Product&gt; extractedList = []; // it is an empty list\n      extractedData.forEach((key, value) {\n        _loadedProducts.add(Product(    // you add elements to _loadedProducts \n            id: key,\n            imageUrl: value['imageUrl'],\n            title: value['title'],\n            price: value['price'],\n            description: value['description'],\n            isFavorite: value['isFavorite']));\n      });\n      _loadedProducts = extractedList; // you reassign _loadedProducts to the empty list \"extractedList\"\n      notifyListeners();\n      await Future.delayed(Duration(seconds: 1));\n    } catch (error) {\n      throw error;\n    }\n  }\n</code></pre>\n\n<p>Am I right? I think you have that error!</p>\n"}], "owner": {"reputation": 1, "user_id": 11957645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd16cbd02a19ab7ecd95190b1c534f4e?s=128&d=identicon&r=PG&f=1", "display_name": "jack Carrol", "link": "https://stackoverflow.com/users/11957645/jack-carrol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566441439, "creation_date": 1566398472, "last_edit_date": 1566398603, "question_id": 57594098, "link": "https://stackoverflow.com/questions/57594098/strange-behavior-of-notifylistener", "title": "Strange behavior of notifyListener", "body": "<p>I have a list which is fetched from the server but when we get outside of the fetching method the list is initialized to default. I have noticed that the problem is with the <code>notifyListeners()</code> as here: \n<a href=\"https://stackoverflow.com/questions/53945722/does-notifylisteners-sometimes-complete-asynchronously\">Does notifyListeners() sometimes complete asynchronously?</a></p>\n\n<p>Interestingly, inside the fetching method the the list is ok.</p>\n\n<pre><code>class Products with ChangeNotifier {\n\n  List&lt;Product&gt; _loadedProducts = [];\n\n  Future&lt;void&gt; fetchAndSetProducts() async {\n    try {\n      var response =\n          await http.get(StoreServer.serverAddress + '/products.json');\n\n      final extractedData = json.decode(response.body) as Map&lt;String, dynamic&gt;;\n      List&lt;Product&gt; extractedList = [];\n      extractedData.forEach((key, value) {\n        _loadedProducts.add(Product(\n            id: key,\n            imageUrl: value['imageUrl'],\n            title: value['title'],\n            price: value['price'],\n            description: value['description'],\n            isFavorite: value['isFavorite']));\n      });\n      _loadedProducts = extractedList;\n      notifyListeners();\n      await Future.delayed(Duration(seconds: 1));\n    } catch (error) {\n      throw error;\n    }\n  }\n\n</code></pre>\n\n<pre><code> @override\n  void didChangeDependencies() {\n    if (!isInit) {\n      setState(() {\n        isLoading = true;\n      });\n      test = Provider.of&lt;Products&gt;(context);\n      test.fetchAndSetProducts().then((_) {\n        print(\"fetched\");\n        setState(() {\n          isLoading = false;\n          isInit = true;\n        });\n      });\n    }\n    super.didChangeDependencies();\n  }\n\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 46708, "user_id": 179715, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e240f1a5bb197450dfb8934dd55d9e3a?s=128&d=identicon&r=PG", "display_name": "jamesdlin", "link": "https://stackoverflow.com/users/179715/jamesdlin"}, "is_accepted": true, "score": 1, "last_activity_date": 1566404117, "last_edit_date": 1566404117, "creation_date": 1566400202, "answer_id": 57594596, "question_id": 57593954, "link": "https://stackoverflow.com/questions/57593954/how-to-get-constant-string-from-switch-statement-in-dart/57594596#57594596", "title": "How to get constant String from switch statement in Dart", "body": "<p>TL;DR: Simply remove the <code>const</code> qualifier where you construct the <code>InputDecoration</code>.</p>\n\n<hr>\n\n<p>In Dart, <code>const</code> means a <em>compile-time</em> constant, a value that is known at compilation time and used as a performance optimization.</p>\n\n<p>Since you're calling a function (and passing along an non-<code>const</code> argument, no less), the return value of that function cannot be known at compilation time.</p>\n\n<p>You don't actually need to use constant values.  The lines you've marked with <code>// This requires a constant String</code> require a constant only because you declared that you intend to construct a <code>const InputDecoration</code>. (Constructing a compile-time constant naturally requires that all of its construction arguments also be compile-time constants.)</p>\n"}], "owner": {"reputation": 3, "user_id": 9642951, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CJym9BwDHUE/AAAAAAAAAAI/AAAAAAAAAOQ/GFFbL4qCxek/photo.jpg?sz=128", "display_name": "Vincent", "link": "https://stackoverflow.com/users/9642951/vincent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 0, "accepted_answer_id": 57594596, "answer_count": 1, "score": 0, "last_activity_date": 1566404117, "creation_date": 1566397934, "question_id": 57593954, "link": "https://stackoverflow.com/questions/57593954/how-to-get-constant-string-from-switch-statement-in-dart", "title": "How to get constant String from switch statement in Dart", "body": "<p>I'm trying to set the hint- and labeltext of a <code>TextFormField</code> to a string from the <code>getLabel()</code> method, depending on which <code>FormFieldType</code> is given as parameter in <code>generateFormField()</code>.<br>\nHowever, the hint- and labeltext require a constant value. <code>getLabel()</code> throws this error: <code>Invalid constant value.dart(invalid_constant)</code></p>\n\n<p>How can I get a constant string from the switch statement?</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class InformationFormField {\n\n  TextFormField generateFormField(FormFieldType type) {\n     return new TextFormField(\n      decoration: const InputDecoration(\n        icon: const Icon(Icons.delete),\n        hintText: getLabel(type),         // This requires a constant String\n        labelText: getLabel(type),        // This requires a constant String\n      ),\n      keyboardType: TextInputType.text,\n     );\n  }\n\n  String getLabel(FormFieldType type) {\n    switch(type) {\n      case FormFieldType.firstname:\n        return 'First name';\n      case FormFieldType.lastname:\n        return 'Last name';\n  }\n\n}\n\nenum FormFieldType {\n  firstname,\n  lastname\n}\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 2771, "user_id": 6045409, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e1127001433f2ab5bbab9523853e3e4e?s=128&d=identicon&r=PG&f=1", "display_name": "Tokenyet", "link": "https://stackoverflow.com/users/6045409/tokenyet"}, "edited": false, "score": 0, "creation_date": 1566397114, "post_id": 57593624, "comment_id": 101644993, "body": "Did you mean the JSON from api use <code>object</code> instead of <code>array</code> in the array case? If this is true, you might need to write custom parser first, and then using <code>JsonSerializable</code> after parsed."}, {"owner": {"reputation": 250, "user_id": 4142994, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9b0416dd6aadc116e3ac896ac1664cd6?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/4142994/daniel"}, "reply_to_user": {"reputation": 2771, "user_id": 6045409, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e1127001433f2ab5bbab9523853e3e4e?s=128&d=identicon&r=PG&f=1", "display_name": "Tokenyet", "link": "https://stackoverflow.com/users/6045409/tokenyet"}, "edited": false, "score": 0, "creation_date": 1566397398, "post_id": 57593624, "comment_id": 101645177, "body": "Can you show me how to do  custom parser?"}], "answers": [{"comments": [{"owner": {"reputation": 366, "user_id": 10829101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eNjsK.jpg?s=128&g=1", "display_name": "Mohamed Adel", "link": "https://stackoverflow.com/users/10829101/mohamed-adel"}, "reply_to_user": {"reputation": 1728, "user_id": 6557958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QosUa.jpg?s=128&g=1", "display_name": "Yudhishthir Singh", "link": "https://stackoverflow.com/users/6557958/yudhishthir-singh"}, "edited": false, "score": 0, "creation_date": 1579595977, "post_id": 57594528, "comment_id": 105808894, "body": "can someone explain why ?"}], "tags": [], "owner": {"reputation": 366, "user_id": 10829101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eNjsK.jpg?s=128&g=1", "display_name": "Mohamed Adel", "link": "https://stackoverflow.com/users/10829101/mohamed-adel"}, "is_accepted": false, "score": -3, "last_activity_date": 1566399977, "creation_date": 1566399977, "answer_id": 57594528, "question_id": 57593624, "link": "https://stackoverflow.com/questions/57593624/how-to-recognize-dynamic-keys-while-using-jsonserializable-in-flutter/57594528#57594528", "title": "How to recognize dynamic keys while using JsonSerializable in Flutter?", "body": "<p>don't use models try to put your response in a map\nthen for example</p>\n\n<pre><code>{\n   \"AA\": {\n       \"product\": {\n           \"id\":\"111\",\n           \"type\":\"C\"\n       }\n   },\n   \"BB\": {\n       \"product\": {\n           \"id\":\"222\",\n           \"type\":\"d\"\n       }\n   }\n}\n</code></pre>\n\n<p>if you want \"BB\" \"product\" \"id\"\nit will be somthing like that </p>\n\n<pre><code>map['BB']['product']['id']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2771, "user_id": 6045409, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e1127001433f2ab5bbab9523853e3e4e?s=128&d=identicon&r=PG&f=1", "display_name": "Tokenyet", "link": "https://stackoverflow.com/users/6045409/tokenyet"}, "is_accepted": true, "score": 3, "last_activity_date": 1566412102, "last_edit_date": 1566412102, "creation_date": 1566403349, "answer_id": 57595475, "question_id": 57593624, "link": "https://stackoverflow.com/questions/57593624/how-to-recognize-dynamic-keys-while-using-jsonserializable-in-flutter/57595475#57595475", "title": "How to recognize dynamic keys while using JsonSerializable in Flutter?", "body": "<p>I saw you have the decoded map, so here is the code, I tested in <a href=\"https://dartpad.dartlang.org/\" rel=\"nofollow noreferrer\">dartpad</a>.</p>\n\n<ol>\n<li>Iterate <code>Map</code>,</li>\n</ol>\n\n<pre class=\"lang-dart prettyprint-override\"><code>  var data ={\n   \"AA\": {\n       \"product\": {\n           \"id\":\"111\",\n           \"type\":\"C\"\n       }\n   },\n   \"BB\": {\n       \"product\": {\n           \"id\":\"222\",\n           \"type\":\"d\"\n       }\n   }\n  };\n\n  var list = new List();\n  data.forEach((key, value){\n    list.add(value);\n  });\n\n  print(list);\n</code></pre>\n\n<ol start=\"2\">\n<li>Transform To <code>Product</code></li>\n</ol>\n\n<pre class=\"lang-dart prettyprint-override\"><code>\nfor(var productInfo in list)\n{\n  Product product = new Product.fromJson(productInfo);\n  // add product to your List...\n}\n</code></pre>\n\n<p>Or you could combine both, and get the key also.</p>\n\n<pre><code>  data.forEach((key, value){\n     Product product = new Product.fromJson(value);\n     // add product to your List...\n     // or make a Map to store (key, product)\n  });\n</code></pre>\n\n<p>But there is an alternative way, modify api to array, and make more sense on json response.</p>\n\n<pre><code>[\n   {\n       \"productName\": \"AA\"\n       \"id\":\"222\",\n       \"type\":\"d\"\n   }\n]\n</code></pre>\n\n<p>Just kidding for final approach because you didn't talk too much about your scenario.</p>\n"}], "owner": {"reputation": 250, "user_id": 4142994, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9b0416dd6aadc116e3ac896ac1664cd6?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/4142994/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1574, "favorite_count": 0, "accepted_answer_id": 57595475, "answer_count": 2, "score": 1, "last_activity_date": 1566412102, "creation_date": 1566396610, "question_id": 57593624, "link": "https://stackoverflow.com/questions/57593624/how-to-recognize-dynamic-keys-while-using-jsonserializable-in-flutter", "title": "How to recognize dynamic keys while using JsonSerializable in Flutter?", "body": "<p>Let's assume, until recently, I was getting the bellow <code>Json response</code></p>\n\n<pre><code>{\n   \"AA\": {\n         \"product\": {\n            \"id\":\"111\",\n            \"type\":\"C\"\n         }\n    }\n}\n</code></pre>\n\n<p>And, I have written the bellow, <code>model.dart</code> to convert from json to object</p>\n\n<p><strong>model.dart</strong></p>\n\n<pre><code>@JsonSerializable()\nclass ResponseGate {\n  @JsonKey(name: \"AA\")\n  AA aa;\n\n  ResponseGate({this.aa});\n  factory ResponseGate.fromJson(Map&lt;String, dynamic&gt; json) =&gt;\n      _$ResponseGateFromJson(json);\n}\n\n@JsonSerializable()\nclass AA {\n  @JsonKey(name: \"product\")\n  Product product;\n\n  AA(this.product);\n  factory AA.fromJson(Map&lt;String, dynamic&gt; json) =&gt; _$AAFromJson(json);\n}\n\n@JsonSerializable()\nclass Product {\n  @JsonKey(name: \"id\")\n  var id;\n  @JsonKey(name: \"type\")\n  var type;\n\n  Product(this.id, this.type);\n  factory Product.fromJson(Map&lt;String, dynamic&gt; json) =&gt;\n      _$ProductFromJson(json);\n}\n</code></pre>\n\n<p>And, then the response becomes as bellow. Just another object is added.  </p>\n\n<pre><code>{\n   \"AA\": {\n       \"product\": {\n           \"id\":\"111\",\n           \"type\":\"C\"\n       }\n   },\n   \"BB\": {\n       \"product\": {\n           \"id\":\"222\",\n           \"type\":\"d\"\n       }\n   }\n}\n</code></pre>\n\n<p>Just the keys (AA &amp; BB) are different but their children are keys are the same. What do I have to do to enable my code to recognize all the keys and use the <code>model.dart</code> to convert from json to model? </p>\n\n<pre><code>if (thirdResponse.statusCode == 200) {\n  var map = json.decode(thirdResponse.body) as Map&lt;String, dynamic&gt;;\n  ResponseGate responseGate = new ResponseGate.fromJson(map);\nelse {\n  throw Exception('Failed to load post: ${thirdResponse.statusCode}');\n}\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 1072, "user_id": 11587667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e3b5384cf5e4c690b34c5788d016f4e?s=128&d=identicon&r=PG", "display_name": "mohammad", "link": "https://stackoverflow.com/users/11587667/mohammad"}, "edited": false, "score": 0, "creation_date": 1566393668, "post_id": 57592304, "comment_id": 101642623, "body": "thanks , this widget solve the transition problem , also do you have any idea to change UI from ConnectionState.waiting witch contain a circleProgressIndecator to ConnectionState.done ?"}, {"owner": {"reputation": 1072, "user_id": 11587667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e3b5384cf5e4c690b34c5788d016f4e?s=128&d=identicon&r=PG", "display_name": "mohammad", "link": "https://stackoverflow.com/users/11587667/mohammad"}, "edited": false, "score": 0, "creation_date": 1566393807, "post_id": 57592304, "comment_id": 101642722, "body": "or is there any widget  like futureBuilder to have same behavior for loading data and show the UI based on state of loading data but with nice animation?because I want to show fade Transition twice:   1-change of widget    2-loading data"}, {"owner": {"reputation": 1523, "user_id": 11932722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJyxo.png?s=128&g=1", "display_name": "drogel", "link": "https://stackoverflow.com/users/11932722/drogel"}, "reply_to_user": {"reputation": 1072, "user_id": 11587667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e3b5384cf5e4c690b34c5788d016f4e?s=128&d=identicon&r=PG", "display_name": "mohammad", "link": "https://stackoverflow.com/users/11587667/mohammad"}, "edited": false, "score": 0, "creation_date": 1566394404, "post_id": 57592304, "comment_id": 101643141, "body": "I suspect that <code>StreamBuilder</code> is what you are looking for. You will need to change your connection states, that are probably built around <code>Future</code>, and re-build them around <code>Stream</code>, that will let you listen to changes on network data. <code>StreamBuilder</code> will let you react to changes in your <code>Stream</code> and update your UI based on them. Here is a <a href=\"https://www.youtube.com/watch?v=MkKEWHfy99Y\" rel=\"nofollow noreferrer\">Widget of the Week video</a> about <code>StreamBuilder</code> that you might find useful. However, I recommend you mark this question as solved by my answer and open another question, so people will find the topic easily."}], "tags": [], "owner": {"reputation": 1523, "user_id": 11932722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJyxo.png?s=128&g=1", "display_name": "drogel", "link": "https://stackoverflow.com/users/11932722/drogel"}, "is_accepted": true, "score": 3, "last_activity_date": 1566392555, "creation_date": 1566392555, "answer_id": 57592304, "question_id": 57591424, "link": "https://stackoverflow.com/questions/57591424/how-to-have-fade-in-and-fade-out-between-multi-widgets/57592304#57592304", "title": "How to have fade in and fade out between multi widgets", "body": "<p>Maybe <code>AnimatedSwitcher</code> is what you are looking for, it adds an implicit animation to its child, so that whenever you call <code>setState()</code> to change its child, it automatically starts a fade-in/fade-out animation between them. Check out this video from the Widget of the Week series:</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=2W7POjFb88g\" rel=\"nofollow noreferrer\">AnimatedSwitcher from Widget of the Week</a></p>\n\n<p>Another possibility is <code>AnimatedOpacity</code>, that can achieve a similar behaviour by changing its child's opacity. Here is a reference to the documentation on <code>AnimatedOpacity</code> widget:</p>\n\n<p><a href=\"https://api.flutter.dev/flutter/widgets/AnimatedOpacity-class.html\" rel=\"nofollow noreferrer\">AnimatedOpacity from Flutter dev documentation</a></p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 14108465, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aTjBmkI-05A/AAAAAAAAAAI/AAAAAAAAAIc/AMZuuclNBCQ2KlJhujKH53jYG6gSLa8OYg/photo.jpg?sz=128", "display_name": "Arthur P.", "link": "https://stackoverflow.com/users/14108465/arthur-p"}, "is_accepted": false, "score": 2, "last_activity_date": 1597461787, "creation_date": 1597461787, "answer_id": 63422267, "question_id": 57591424, "link": "https://stackoverflow.com/questions/57591424/how-to-have-fade-in-and-fade-out-between-multi-widgets/63422267#63422267", "title": "How to have fade in and fade out between multi widgets", "body": "<p>I know that's a really old question, but I solved using something like that:</p>\n<pre><code>  Widget dynWidget = CircularProgressIndicator();\n\n  @override\n  Widget build(BuildContext context) {\n    return FutureBuilder(\n        future: future,\n        builder: (context, snapshot) {\n          if (snapshot.connectionState == ConnectionState.done) {\n            dynWidget = Text('Content loaded!');\n          }\n          return AnimatedSwitcher(\n              duration: Duration(seconds: 1), child: dynWidget);\n        });\n  }\n</code></pre>\n"}], "owner": {"reputation": 1072, "user_id": 11587667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e3b5384cf5e4c690b34c5788d016f4e?s=128&d=identicon&r=PG", "display_name": "mohammad", "link": "https://stackoverflow.com/users/11587667/mohammad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 976, "favorite_count": 0, "accepted_answer_id": 57592304, "answer_count": 2, "score": 3, "last_activity_date": 1597461787, "creation_date": 1566389731, "question_id": 57591424, "link": "https://stackoverflow.com/questions/57591424/how-to-have-fade-in-and-fade-out-between-multi-widgets", "title": "How to have fade in and fade out between multi widgets", "body": "<p>I am using a bottom navigation bar with 5 items and for each widget I should load some data from server , I want to have fade in and fade out between items but I don't know how? , because I think items are not a new pages that I implement route fade transitions.\nalso I defined a futureBuilder for each Items to load it's data\nIt's possible to do sth in futureBuilder's ConnectionState.waiting but it doesn't have fade transition and the transition is jumping\nalso i check interet connection with connectivity plugin</p>\n\n<p>I get into trouble to handle them because I am almost new to flutter !</p>\n\n<p>and i am wonder to know what is the most powerful way to handle it.\nThanks</p>\n"}, {"tags": ["flutter", "dart", "google-cloud-firestore"], "answers": [{"tags": [], "owner": {"reputation": 1523, "user_id": 11932722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJyxo.png?s=128&g=1", "display_name": "drogel", "link": "https://stackoverflow.com/users/11932722/drogel"}, "is_accepted": true, "score": 1, "last_activity_date": 1566392180, "creation_date": 1566392180, "answer_id": 57592157, "question_id": 57591033, "link": "https://stackoverflow.com/questions/57591033/list-contains-instance-of-futuredynamic/57592157#57592157", "title": "List contains Instance of &#39;Future&lt;dynamic&gt;&#39;", "body": "<p>I have not tried to run your code, but I suspect the issue starts with the statement</p>\n\n<pre><code>return ids1.add(geoRef.within(center: center, radius: 50, field: 'position', strictMode: true).first.then((value) {\n</code></pre>\n\n<p>As you can see, you are adding something <code>ids1.add(...)</code> that looks like it needs to <code>await</code>: <code>geoRef.within(...).first.(...)</code>. I don't find the <code>ids1.add(...)</code> call needed in the return statement. Try removing it, and see how it goes.</p>\n"}], "owner": {"reputation": 1172, "user_id": 5843195, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/gm2rd.png?s=128&g=1", "display_name": "i6x86", "link": "https://stackoverflow.com/users/5843195/i6x86"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 57592157, "answer_count": 1, "score": 0, "last_activity_date": 1566392180, "creation_date": 1566388424, "question_id": 57591033, "link": "https://stackoverflow.com/questions/57591033/list-contains-instance-of-futuredynamic", "title": "List contains Instance of &#39;Future&lt;dynamic&gt;&#39;", "body": "<p>I have this code trying to query some data from Firestore using GeoFlutterFire, but for the sake of efficiency I want to fetch the list of ids only once, then use it to fetch the rest of the data from Firebase Database.\nThis is the code in question:</p>\n\n<pre><code>class _StartScreenState extends State&lt;StartScreen&gt; {\n\n  List ids = ['abc'];\n  @override\n  void initState() {\n    super.initState();\n    print('ids ${ids}');\n  }\n\n  _initState() async {\n    Firestore _firestore = Firestore.instance;\n    List ids1 = [];\n\n    Geoflutterfire geo = Geoflutterfire();\n    var location = new Location();\n    var pos = await location.getLocation();\n    GeoFirePoint center = geo.point(latitude: pos.latitude.toDouble(), longitude: pos.longitude.toDouble());\n\n    var collectionReference = _firestore.collection('locations');\n    var geoRef = geo.collection(collectionRef: collectionReference);\n    return ids1.add(geoRef.within(center: center, radius: 50, field: 'position', strictMode: true).first.then((value) {\n      value.map((doc) {\n\n        if (doc.data.isNotEmpty) {\n          print('doooc id here ${doc['id']}');\n          ids1.add(doc['id']);\n          print(ids1);\n\n        }\n      }).toList();\n      setState(() {\n        ids = ids1;\n        print('setting state to ids ids print: ${ids.}');\n      });\n    }));\n\n  }\n</code></pre>\n\n<p>Like I said, my intent is to fetch the Ids and once I have the list check if there's some related data in Firebase, but I'm not sure this is the way I should do it and there's something that I don't know how to awoid; When I print the list I get the following result:</p>\n\n<blockquote>\n  <p>setting state to ids ids print: [Instance of 'Future',\n  3esdWesqrTD_123_3dssds3, sQWdsda23dsad_da21]</p>\n</blockquote>\n\n<p>Can anyone tell me why I have this Instance of 'Future' in my List and how can avoid it, please?</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 3832, "user_id": 10380182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/635a228672e20cdc3b393e8dbeace938?s=128&d=identicon&r=PG&f=1", "display_name": "Esen Mehmet", "link": "https://stackoverflow.com/users/10380182/esen-mehmet"}, "is_accepted": false, "score": 1, "last_activity_date": 1617779993, "last_edit_date": 1617779993, "creation_date": 1566386283, "answer_id": 57590440, "question_id": 57590144, "link": "https://stackoverflow.com/questions/57590144/nosuchmethoderror-the-method-was-called-on-null/57590440#57590440", "title": "NoSuchMethodError the method was called on Null", "body": "<p>Because you instance fields are not updated, so they are null. You have method for getting current location but it's not fired in <code>getLocationWeather</code>.</p>\n<pre><code>Future&lt;dynamic&gt; getLocationWeather() async {\n\n    Location location = Location();\n    await location.getCurrentLocation();\n\n    NetworkHelper networkHelper = NetworkHelper(\n        'https://api.openweathermap.org/data/2.5/weather?lat=${location.latitude}&amp;lon=${location.longitude}&amp;appid=$apiKey');\n    var weatherData = await networkHelper.getData();\n    return weatherData;\n  }\n</code></pre>\n<p>Edit: You also must await <code>networkHelper.getData()</code> method to get not Future Object.</p>\n"}], "owner": {"reputation": 43, "user_id": 11956573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b01826fa2663dc180cba6576ec69f3a5?s=128&d=identicon&r=PG&f=1", "display_name": "ethnako", "link": "https://stackoverflow.com/users/11956573/ethnako"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1617779993, "creation_date": 1566385275, "last_edit_date": 1566386528, "question_id": 57590144, "link": "https://stackoverflow.com/questions/57590144/nosuchmethoderror-the-method-was-called-on-null", "title": "NoSuchMethodError the method was called on Null", "body": "<p>in this code below WeatherModel tried to get current location of android phone,\nmy problem here is once I start runing it show NoSuchMethod Found, and it says reciever is null,\nas I tried a lot of debugging just to see where is my problem.\nI now understand that my problem is when I create instance of Location() in WeatherModel, longitude and latitude are null, it never gets value and I dont know why...</p>\n\n<p>Sorry for my bad english :(</p>\n\n<pre><code>const apiKey = 'e3653190f2b1d4803287b3074ecfe618';\nconst apiWeatherURL = 'https://api.openweathermap.org/data/2.5/weather';\n\nclass WeatherModel {\n\n  Future&lt;dynamic&gt; getLocationWeather() async {\n\n    Location location = Location();\n\n    NetworkHelper networkHelper = NetworkHelper(\n        'https://api.openweathermap.org/data/2.5/weather?lat=${location.latitude}&amp;lon=${location.longitude}&amp;appid=$apiKey');\n    var weatherData = networkHelper.getData();\n    return weatherData;\n  }\n\n  }\n.....\n\nclass Location {\n  double latitude;\n  double longitude;\n\n  Future&lt;void&gt; getCurrentLocation() async {\n    try {\n      Position _position = await Geolocator()\n          .getCurrentPosition(desiredAccuracy: LocationAccuracy.high);\n      longitude = _position.longitude;\n      print(longitude);\n      latitude = _position.latitude;\n      print(latitude);\n    } catch (e) {\n      print(e);\n    }\n  }\n}\n.........\n\nclass NetworkHelper {\n  NetworkHelper(this.url);\n  final url;\n\n  Future getData() async {\n    http.Response response = await http.get(url);\n    if (response.statusCode == 200) {\n      var data = jsonDecode(response.body);\n      print(\" Sarkawtua $data\");\n      return data;\n    } else\n      print(\"Error ${response.statusCode} keshay Internet\");\n  }\n}\n</code></pre>\n"}, {"tags": ["dart"], "comments": [{"owner": {"reputation": 11572, "user_id": 1953515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b08d90afd96271299a4dc0fcf672f2?s=128&d=identicon&r=PG", "display_name": "julemand101", "link": "https://stackoverflow.com/users/1953515/julemand101"}, "edited": false, "score": 0, "creation_date": 1566383732, "post_id": 57589457, "comment_id": 101636820, "body": "In you last example, could you try move &quot;merger.stream.forEach(print);&quot; to before the first addStream call and also make so the forEach call is not awaited. My theory is the addStream call are waiting for the events to be processed but since there are no listener on the stream, the call are just waiting forever."}, {"owner": {"reputation": 3042, "user_id": 1021113, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ad86d780fec0e2069c8f375b27755933?s=128&d=identicon&r=PG", "display_name": "Alexander Arendar", "link": "https://stackoverflow.com/users/1021113/alexander-arendar"}, "reply_to_user": {"reputation": 11572, "user_id": 1953515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b08d90afd96271299a4dc0fcf672f2?s=128&d=identicon&r=PG", "display_name": "julemand101", "link": "https://stackoverflow.com/users/1953515/julemand101"}, "edited": false, "score": 0, "creation_date": 1566384029, "post_id": 57589457, "comment_id": 101636955, "body": "I tried that before posting the question. It prints then all the 1-word tokens, and execution completes. So 2 other streams are not processed. I also kind of understand why, because first <code>await</code> then consumes the whole broadcast stream, but I am not sure I understand completely. Also regarding <code>the call are just waiting forever</code> - in this case the execution should not complete with <code>Process finished with exit code 0</code> in the console, but it does so.  In general, looking at <code>StreamController.addStream</code> documentation it looks straitghforward but in reality I can&#39;t use it..."}, {"owner": {"reputation": 3671, "user_id": 8745788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTs7z.png?s=128&g=1", "display_name": "Mattia", "link": "https://stackoverflow.com/users/8745788/mattia"}, "edited": false, "score": 0, "creation_date": 1566389077, "post_id": 57589457, "comment_id": 101639660, "body": "It will be awating forever ecause you actually never <a href=\"https://api.dartlang.org/stable/2.4.1/dart-async/StreamController/close.html\" rel=\"nofollow noreferrer\">close</a> the tokens stream. As stated in the <code>addStream</code> documentation:  <code>Returns a future which completes when the source stream is done.</code>"}, {"owner": {"reputation": 3042, "user_id": 1021113, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ad86d780fec0e2069c8f375b27755933?s=128&d=identicon&r=PG", "display_name": "Alexander Arendar", "link": "https://stackoverflow.com/users/1021113/alexander-arendar"}, "reply_to_user": {"reputation": 3671, "user_id": 8745788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTs7z.png?s=128&g=1", "display_name": "Mattia", "link": "https://stackoverflow.com/users/8745788/mattia"}, "edited": false, "score": 0, "creation_date": 1566390043, "post_id": 57589457, "comment_id": 101640235, "body": "@Mattia I&#39;ve added one more line in the beginning: <code>Stream&lt;String&gt; contentStr = file.openRead().transform(utf8.decoder);</code>. So as you can see it all streams from the file initially. I thought that when the file gets read completely then the file stream will be done and then all derived streams as well automatically. Isn&#39;t it so?"}, {"owner": {"reputation": 3671, "user_id": 8745788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTs7z.png?s=128&g=1", "display_name": "Mattia", "link": "https://stackoverflow.com/users/8745788/mattia"}, "edited": false, "score": 0, "creation_date": 1566390475, "post_id": 57589457, "comment_id": 101640495, "body": "Yeah, my bad, btw you could be able to use <a href=\"https://pub.dev/documentation/stream_transform/latest/stream_transform/mergeAll.html\" rel=\"nofollow noreferrer\">mergeAll</a> from <a href=\"https://pub.dev/packages/stream_transform\" rel=\"nofollow noreferrer\">stream_transform</a> as such: <code>tokens.transform(mergeAll[stream1, stream2, ...]).listen(print)</code> never tried such a thing tough"}, {"owner": {"reputation": 3042, "user_id": 1021113, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ad86d780fec0e2069c8f375b27755933?s=128&d=identicon&r=PG", "display_name": "Alexander Arendar", "link": "https://stackoverflow.com/users/1021113/alexander-arendar"}, "edited": false, "score": 0, "creation_date": 1566390881, "post_id": 57589457, "comment_id": 101640771, "body": "Maybe broadcast stream gets not closed when underlying stream is done? And thanks for pointing the lib, will try later."}], "answers": [{"comments": [{"owner": {"reputation": 3042, "user_id": 1021113, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ad86d780fec0e2069c8f375b27755933?s=128&d=identicon&r=PG", "display_name": "Alexander Arendar", "link": "https://stackoverflow.com/users/1021113/alexander-arendar"}, "edited": false, "score": 0, "creation_date": 1566746148, "post_id": 57592550, "comment_id": 101745357, "body": "Looks good, but when I try to set a breakpoint on the line <code>merger.close();</code> it never reach there. Or if I add there some print statement it never prints anything. So I suspect the stream controller gets not actually closed. Any ideas why?"}, {"owner": {"reputation": 3042, "user_id": 1021113, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ad86d780fec0e2069c8f375b27755933?s=128&d=identicon&r=PG", "display_name": "Alexander Arendar", "link": "https://stackoverflow.com/users/1021113/alexander-arendar"}, "edited": false, "score": 0, "creation_date": 1566755918, "post_id": 57592550, "comment_id": 101747514, "body": "Sorry, I&#39;ve found a bug in my code. In one of my transformers I forgot to close the inner stream controller. So everything is fine. Thanks for the <code>StreamGroup</code> reference."}], "tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": true, "score": 1, "last_activity_date": 1566393288, "creation_date": 1566393288, "answer_id": 57592550, "question_id": 57589457, "link": "https://stackoverflow.com/questions/57589457/cannot-add-multiple-streams-derived-from-the-same-broadcast-stream-to-a-streamco/57592550#57592550", "title": "Cannot add multiple streams derived from the same broadcast stream to a StreamController", "body": "<p>I hope to allow concurrent <code>addStream</code> at some point, but until then, you need to handle the events indpendently:</p>\n\n<pre><code>var allAdds = [\n    tokens.forEach(merger.add), \n    twoWordTokens.forEach(merger.add), \n    threeWordTokens.forEach(merger.add)]; \nFuture.wait(allAdds).then((_) { merger.close(); });\n\nmerger.stream.forEach(print);\n</code></pre>\n\n<p>That's if you want to control everything yourself. You can also use the <a href=\"https://pub.dev/documentation/async/latest/async/StreamGroup-class.html\" rel=\"nofollow noreferrer\"><code>StreamGroup</code></a> class from <code>package:async</code>. It collects a number of streams and emits their events as a single stream.</p>\n\n<p>This assumes that you have no error events.</p>\n"}], "owner": {"reputation": 3042, "user_id": 1021113, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ad86d780fec0e2069c8f375b27755933?s=128&d=identicon&r=PG", "display_name": "Alexander Arendar", "link": "https://stackoverflow.com/users/1021113/alexander-arendar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 454, "favorite_count": 0, "accepted_answer_id": 57592550, "answer_count": 1, "score": 0, "last_activity_date": 1566393288, "creation_date": 1566382845, "last_edit_date": 1566390011, "question_id": 57589457, "link": "https://stackoverflow.com/questions/57589457/cannot-add-multiple-streams-derived-from-the-same-broadcast-stream-to-a-streamco", "title": "Cannot add multiple streams derived from the same broadcast stream to a StreamController", "body": "<p>I am implementing one tokenizer. It parses the document, tokenizes it on a set of possible delimiters and then provides me combination of 1-, 2- and 3-word tokens.\nI was able to achieve my goal, but only in one specific way:</p>\n\n<pre><code>  Stream&lt;String&gt; contentStr = file.openRead().transform(utf8.decoder);\n  Stream&lt;String&gt; tokens = contentStr.transform(charSplitter).transform(tokenizer).asBroadcastStream();\n  var twoWordTokens = tokens.transform(sliding(2));\n  var threeWordTokens = tokens.transform(sliding(3));\n  StreamController&lt;String&gt; merger = StreamController();\n  tokens.forEach((token) =&gt; merger.add(token));\n  threeWordTokens.forEach((token) =&gt; merger.add(token));\n  twoWordTokens.forEach((token) =&gt; merger.add(token));\n  merger.stream.forEach(print);\n</code></pre>\n\n<p>As you can see I do following:</p>\n\n<ul>\n<li>broadcast original stream of tokens</li>\n<li>transform it to 2 additional streams by sliding window transformation</li>\n<li>create a <code>StreamConsumer</code> (<code>StreamController</code> to be precise) and pump every event from 3 streams to that stream consumer.</li>\n<li>then I print every element of the stream consumer to test</li>\n</ul>\n\n<p>It works but I don't like that I add each element from source streams via <code>StreamConsumer.add</code> method. I wanted to use <code>StreamController.addStream</code> instead but that somehow does not work.\nThe following code gives me a <code>Bad state: Cannot add event while adding a stream</code> error and I understand why:</p>\n\n<pre><code>  StreamController&lt;String&gt; merger = StreamController();\n  merger.addStream(tokens);\n  merger.addStream(twoWordTokens);\n  merger.addStream(threeWordTokens);\n  merger.stream.forEach(print);\n</code></pre>\n\n<p>This is per <a href=\"https://api.flutter.dev/flutter/dart-async/StreamController/addStream.html\" rel=\"nofollow noreferrer\">API documentation</a> of the <code>StreamController.addStream</code>.\nSo I need to wait for each <code>addStream</code> returning future completion:</p>\n\n<pre><code>StreamController&lt;String&gt; merger = StreamController();\nawait merger.addStream(tokens);\nawait merger.addStream(twoWordTokens);\nawait merger.addStream(threeWordTokens);\nawait merger.stream.forEach(print);\n</code></pre>\n\n<p>But in this case I get nothing printed in the console.</p>\n\n<p>If I do this:</p>\n\n<pre><code>StreamController&lt;String&gt; merger = StreamController();\nmerger.stream.forEach(print);\nawait merger.addStream(tokens);\nawait merger.addStream(twoWordTokens);\nawait merger.addStream(threeWordTokens);\n</code></pre>\n\n<p>Then only the 1-word tokens, i.e. elements of the original broadcast stream are printed. Elements of the derived streams are not.</p>\n\n<p>I kind of understand why this happens, because all my streams are derived from the original broadcast stream. </p>\n\n<p>Is there a better way to implement such a pipeline?</p>\n\n<p>Probably my problem can be reformulated in terms of stream duplication/forking, but I can't see a way to clone a stream in Dart. If you can advice on that - please do.</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 9186, "user_id": 1600058, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b6c4621f5e61cb8fa07c1497b607f334?s=128&d=identicon&r=PG", "display_name": "Amit Prajapati", "link": "https://stackoverflow.com/users/1600058/amit-prajapati"}, "edited": false, "score": 0, "creation_date": 1566381427, "post_id": 57588709, "comment_id": 101635537, "body": "you have to look into this  <a href=\"https://pub.dev/packages/photo_view\" rel=\"nofollow noreferrer\">pub.dev/packages/photo_view</a> <a href=\"https://pub.dev/packages/zoomable_image\" rel=\"nofollow noreferrer\">pub.dev/packages/zoomable_image</a> <a href=\"https://pub.dev/packages/pinch_zoom_image\" rel=\"nofollow noreferrer\">pub.dev/packages/pinch_zoom_image</a>"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1566627504, "post_id": 57588709, "comment_id": 101723912, "body": "tried to run examples from <code>MatrixGestureDetector</code>? it has one example that checks the size of scaled object"}], "owner": {"reputation": 431, "user_id": 11125446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62d01daee9fb612ee08f9e401044362d?s=128&d=identicon&r=PG&f=1", "display_name": "geekymano", "link": "https://stackoverflow.com/users/11125446/geekymano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566382727, "creation_date": 1566380318, "last_edit_date": 1566382727, "question_id": 57588709, "link": "https://stackoverflow.com/questions/57588709/how-to-create-a-zoomable-widget-that-when-the-pinch-ends-the-zoomed-widget-gets", "title": "how to create a zoomable widget that when the pinch ends, the zoomed widget gets its initial position?", "body": "<p>I want to create a Zoomable widget using <a href=\"https://pub.dev/packages?q=matrix_gesture_detecto\" rel=\"nofollow noreferrer\">Matrix_Gesture_Detector</a> package. I have created the widget with this code:</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:flutter/widgets.dart';\nimport 'package:matrix_gesture_detector/matrix_gesture_detector.dart';\nimport 'package:vector_math/vector_math_64.dart';\n\nclass ZoomableWidget extends StatefulWidget {\n  final Widget child;\n\n  const ZoomableWidget({Key key, this.child}) : super(key: key);\n  @override\n  _ZoomableWidgetState createState() =&gt; _ZoomableWidgetState();\n}\n\nclass _ZoomableWidgetState extends State&lt;ZoomableWidget&gt; {\n  Matrix4 defaultMatrix = Matrix4.diagonal3(\n      Vector3(1.0.clamp(1.0, 5.0), 1.0.clamp(1.0, 5.0), 1.0.clamp(1.0, 5.0)));\n  Matrix4 matrix;\n  @override\n  void initState() {\n    matrix = defaultMatrix;\n    super.initState();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return ClipRect(\n      child: MatrixGestureDetector(\n        shouldTranslate: false,clipChild: true,focalPointAlignment: Alignment.center,\n        shouldRotate: false,\n        onMatrixUpdate: (Matrix4 m, Matrix4 tm, Matrix4 sm, Matrix4 rm) {\n          setState(() {\n            matrix = m;\n          });\n        },\n        child: Transform(\n          transform: matrix,\n          alignment: FractionalOffset.center,\n          child: widget.child,\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>now what I want is that when user releases the screen (the pinch ends) the widget go back to its initial position. any ides how can I achieve this?\nalso how can I prevent the zooming from zooming out that makes the container smaller from its original size?</p>\n"}, {"tags": ["listview", "flutter", "dart", "scrollview", "onscrolllistener"], "answers": [{"tags": [], "owner": {"reputation": 9186, "user_id": 1600058, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b6c4621f5e61cb8fa07c1497b607f334?s=128&d=identicon&r=PG", "display_name": "Amit Prajapati", "link": "https://stackoverflow.com/users/1600058/amit-prajapati"}, "is_accepted": false, "score": 0, "last_activity_date": 1566380902, "creation_date": 1566380902, "answer_id": 57588875, "question_id": 57588515, "link": "https://stackoverflow.com/questions/57588515/how-to-listen-scroll-event-for-listview-that-placed-inside-a-scrollview-in-flutt/57588875#57588875", "title": "How to listen scroll event for ListView that placed inside a ScrollView in Flutter?", "body": "<p>Here is the best prorotype that you will get better idea about scrolling.</p>\n\n<p>Before it you should refer this link \n<a href=\"https://api.flutter.dev/flutter/widgets/ScrollController-class.html\" rel=\"nofollow noreferrer\">https://api.flutter.dev/flutter/widgets/ScrollController-class.html</a>\n<a href=\"https://api.flutter.dev/flutter/widgets/ScrollNotification-class.html\" rel=\"nofollow noreferrer\">https://api.flutter.dev/flutter/widgets/ScrollNotification-class.html</a></p>\n\n<pre><code>        import 'package:flutter/material.dart';\n\n        main() {\n        runApp(MyApp());\n        }\n\n        class MyApp extends StatelessWidget {\n        @override\n        Widget build(BuildContext context) {\n            return MaterialApp(\n            home: Scaffold(\n                body: ScrollNotificationPage(),\n            ),\n            );\n        }\n        }\n\n        class ScrollNotificationPage extends StatefulWidget {\n        @override\n        _ScrollNotificationPageState createState() =&gt; _ScrollNotificationPageState();\n        }\n\n        class _ScrollNotificationPageState extends State&lt;ScrollNotificationPage&gt; {\n        String _progress = \"0%\";\n        ScrollController _controller = ScrollController();\n        @override\n        void initState() {\n            super.initState();\n            _controller.addListener(() {\n            debugPrint(\"_controller offset ${_controller.offset}  position ${_controller.position}\");\n            });\n        }\n\n        @override\n        Widget build(BuildContext context) {\n            return Scaffold(\n            appBar: AppBar(\n                title: Text(\"ScrollNotification\"),\n            ),\n            body: Scrollbar(\n                child: NotificationListener&lt;ScrollNotification&gt;(\n                // ignore: missing_return\n                onNotification: (ScrollNotification notification) {\n                    double progress = notification.metrics.pixels / notification.metrics.maxScrollExtent;\n                    setState(() {\n                    _progress = \"${(progress * 100).toInt()}%\";\n                    });\n                    print(\"BottomEdge: ${notification.metrics.extentAfter == 0}\");\n                },\n                child: Stack(\n                    alignment: Alignment.center,\n                    children: &lt;Widget&gt;[\n                    ListView.builder(\n                        controller: _controller,\n                        itemCount: 100,\n                        itemExtent: 50.0,\n                        itemBuilder: (context, index) {\n                            return ListTile(title: Text(\"$index\"));\n                        }),\n                    CircleAvatar(\n                        radius: 30.0,\n                        child: Text(_progress),\n                        backgroundColor: Colors.black54,\n                    ),\n                    Positioned(\n                        bottom: 20,\n                        child: RaisedButton(\n                        onPressed: () {\n                            _controller.animateTo(0, duration: Duration(milliseconds: 500), curve: Curves.ease);\n                        },\n                        child: Text(\"Scroll Top\"),\n                        ),\n                    )\n                    ],\n                ),\n                ),\n            ),\n            );\n        }\n        }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9294003, "user_type": "registered", "profile_image": "https://graph.facebook.com/2041917679158647/picture?type=large", "display_name": "Ali Mustofa", "link": "https://stackoverflow.com/users/9294003/ali-mustofa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2186, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1576991885, "creation_date": 1566379656, "last_edit_date": 1576991885, "question_id": 57588515, "link": "https://stackoverflow.com/questions/57588515/how-to-listen-scroll-event-for-listview-that-placed-inside-a-scrollview-in-flutt", "title": "How to listen scroll event for ListView that placed inside a ScrollView in Flutter?", "body": "<p>I want to make e view in Flutter apps that contain a <code>ListView</code> (or maybe many) inside a <code>ScrollView</code>, and completed successfully. But I have a problem with the scroll listener for loading the next page of data that I bind to the ListView. Where should I place the <code>scrollController</code>? in the <code>ListView</code> or the <code>ScrollView</code>? or how I solve this problem?</p>\n\n<pre><code>class HomeChildState extends State&lt;HomeChild&gt; {\n  HomeChildState() {\n    _categoryBloc = CategoryBloc();\n    _spotBloc = SpotBloc();\n  }\n  CategoryBloc _categoryBloc;\n  SpotBloc _spotBloc;\n  int page = 1;\n  int perPage = 4;\n  final ScrollController _scrollController = ScrollController();\n\n  @override\n  void initState() {\n    super.initState();\n    _categoryBloc.getCategories(1, 5);\n    _checkLocationPermission();\n    _scrollController.addListener(_onScroll);\n  }\n\n  void _onScroll() {\n    if (_scrollController.position.pixels ==\n        _scrollController.position.maxScrollExtent) {\n      setState(() {\n        page += 1;\n      });\n      _spotBloc.getNearestSpot(page, perPage, _position.latitude, _position.longitude);\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: PreferredSize(\n        preferredSize: const Size(null, 40),\n        child: Container(\n          padding: const EdgeInsets.only(left: 16, bottom: 12),\n          color: orangeGradient4,\n          child: const Text(\n            'Beranda',\n            style: TextStyle(\n                color: white1, fontWeight: FontWeight.bold, fontSize: 16),\n          ),\n        ),\n      ),\n      body: CustomScrollView(\n        slivers: &lt;Widget&gt;[\n          SliverList(\n            delegate: SliverChildListDelegate(\n              &lt;Widget&gt;[\n                Column(\n                  children: &lt;Widget&gt;[\n                    Container(\n                      height: 150,\n                      width: MediaQuery.of(context).size.width,\n                      alignment: Alignment.center,\n                      decoration: BoxDecoration(\n                          image: DecorationImage(\n                              image: const AssetImage('assets/home_thumbnail.png'),\n                              repeat: ImageRepeat.noRepeat,\n                              alignment: FractionalOffset.center,\n                              fit: BoxFit.cover)),\n                    ),\n                    Padding(\n                      padding:\n                      const EdgeInsets.only(top: 12, left: 16, right: 16, bottom: 8),\n                      child: Stack(\n                        children: &lt;Widget&gt;[\n                          Align(\n                            alignment: Alignment.centerLeft,\n                            child: Text(\n                              'Kategori',\n                              style: TextStyle(color: gray2, fontWeight: FontWeight.bold),\n                            ),\n                          ),\n                          Align(\n                            alignment: Alignment.centerRight,\n                            child: GestureDetector(\n                                child: Padding(\n                                  padding: const EdgeInsets.only(top: 8),\n                                  child: Text(\n                                    'See All',\n                                    style: TextStyle(\n                                        color: orange2, fontWeight: FontWeight.bold),\n                                  ),\n                                ),\n                                onTap: () {\n                                  Navigator.pushNamed(context, '/categories');\n                                }),\n                          )\n                        ],\n                      ),\n                    ),\n                    StreamBuilder&lt;List&lt;Category&gt;&gt;(\n                      stream: _categoryBloc.categoriesStream,\n                      initialData: PageStorage.of(context).readState(context,\n                          identifier: const ValueKey&lt;String&gt;('categories')),\n                      builder:\n                          (BuildContext context, AsyncSnapshot&lt;List&lt;Category&gt;&gt; snapshot) {\n                        if (snapshot.hasData) {\n                          PageStorage.of(context).writeState(context, snapshot.data,\n                              identifier: const ValueKey&lt;String&gt;('categories'));\n                          if (snapshot.data.isNotEmpty) {\n                            return Container(\n                              padding: const EdgeInsets.only(left: 16, right: 16, top: 8),\n                              height: 100,\n                              child: ListView.builder(\n                                itemBuilder: (BuildContext context, int position) {\n                                  return Column(\n                                    crossAxisAlignment: CrossAxisAlignment.center,\n                                    children: &lt;Widget&gt;[\n                                      Container(\n                                        decoration: BoxDecoration(\n                                            border: Border.all(\n                                                width: 1,\n                                                color: gray1,\n                                                style: BorderStyle.solid),\n                                            borderRadius: const BorderRadius.all(\n                                                Radius.circular(8)),\n                                            color: gray3),\n                                        child: Padding(\n                                          padding: const EdgeInsets.all(8),\n                                          child: Image.network(\n                                            snapshot.data[position].image.thumb.url,\n                                            height: 40,\n                                            width: 40,\n                                          ),\n                                        ),\n                                      ),\n                                      Padding(\n                                        padding: const EdgeInsets.only(top: 6),\n                                        child: Text(\n                                          snapshot.data[position].name,\n                                          style: TextStyle(fontSize: 11, color: black1),\n                                        ),\n                                      ),\n                                    ],\n                                  );\n                                },\n                                scrollDirection: Axis.horizontal,\n                                itemCount: snapshot.data.length,\n                              ),\n                            );\n                          } else {\n                            return Text(\n                              'Empty Data',\n                              style: TextStyle(color: black1, fontSize: 11),\n                            );\n                          }\n                        } else if (snapshot.hasError) {\n                          WidgetsBinding.instance.addPostFrameCallback((_) {\n                            ToastTool(\n                                context: context,\n                                message: 'Failed to load categories')\n                                .show();\n                          });\n                        }\n                        return Progressbar.getProgressBar();\n                      },\n                    ),\n                    Container(\n                      alignment: Alignment.centerLeft,\n                      padding: const EdgeInsets.only(left: 16, top: 8, right: 16),\n                      child: Text(\n                        'Terdekat',\n                        style: TextStyle(color: gray2, fontWeight: FontWeight.bold),\n                      ),\n                    ),\n                    StreamBuilder&lt;List&lt;Spot&gt;&gt;(\n                      stream: _spotBloc.nearestSpotStream,\n                      builder: (BuildContext context, AsyncSnapshot&lt;List&lt;Spot&gt;&gt; snapshot) {\n                        print('data ${snapshot.error}');\n                        if (snapshot.hasData) {\n                          if (snapshot.data.isNotEmpty) {\n                            return ListView.builder(\n                              itemBuilder: (BuildContext context, int position) {\n                                if (position &gt;= snapshot.data.length) {\n                                  return Padding(\n                                    padding: const EdgeInsets.only(top: 12, bottom: 12),\n                                    child: Progressbar.getProgressBar(),\n                                  );\n                                } else {\n                                  return GestureDetector(\n                                    child: Container(\n                                      padding: const EdgeInsets.all(12),\n                                      margin: EdgeInsets.only(\n                                          left: 16,\n                                          right: 16,\n                                          top: position != 0 ? 4 : 16,\n                                          bottom:\n                                          position != snapshot.data.length.toDouble()\n                                              ? 4\n                                              : 16),\n                                      decoration: BoxDecoration(\n                                          border: Border.all(\n                                            color: gray1,\n                                            width: 0.5,\n                                          ),\n                                          borderRadius:\n                                          const BorderRadius.all(Radius.circular(8.0))),\n                                      child: Column(\n                                        children: &lt;Widget&gt;[\n                                          Row(\n                                            children: &lt;Widget&gt;[\n                                              snapshot.data[position].image.thumb.url !=\n                                                  null\n                                                  ? Image.network(\n                                                snapshot\n                                                    .data[position].image.thumb.url,\n                                                width: 48,\n                                                height: 48,\n                                              )\n                                                  : Image.asset(\n                                                'assets/antrian_icon.png',\n                                                height: 48,\n                                                width: 48,\n                                              ),\n                                              Padding(\n                                                padding: const EdgeInsets.only(left: 12),\n                                                child: Column(\n                                                  children: &lt;Widget&gt;[\n                                                    Column(\n                                                      crossAxisAlignment:\n                                                      CrossAxisAlignment.start,\n                                                      children: &lt;Widget&gt;[\n                                                        Text(\n                                                          snapshot.data[position].name !=\n                                                              null\n                                                              ? '${snapshot.data[position].name}'\n                                                              : 'Tidak Ada Nama',\n                                                          style: const TextStyle(\n                                                              fontWeight: FontWeight.bold),\n                                                        ),\n                                                        Padding(\n                                                          padding:\n                                                          const EdgeInsets.only(top: 4),\n                                                          child: Text(\n                                                            snapshot.data[position]\n                                                                .address !=\n                                                                null\n                                                                ? '${snapshot.data[position].address}'\n                                                                : 'Tidak Ada Alamat',\n                                                            style: const TextStyle(\n                                                                fontSize: 10, color: gray1),\n                                                          ),\n                                                        )\n                                                      ],\n                                                    )\n                                                  ],\n                                                ),\n                                              )\n                                            ],\n                                          ),\n                                          Row(\n                                            mainAxisAlignment: MainAxisAlignment.end,\n                                            crossAxisAlignment: CrossAxisAlignment.center,\n                                            children: &lt;Widget&gt;[\n                                              Row(\n                                                children: &lt;Widget&gt;[\n                                                  Image.asset(\n                                                    'assets/category_icon.png',\n                                                    width: 24,\n                                                    height: 24,\n                                                  ),\n                                                  Text(\n                                                    snapshot.data[position].queueCategory\n                                                        .name !=\n                                                        null\n                                                        ? '${snapshot.data[position].queueCategory.name}'\n                                                        : 'Tidak Ada Katergori',\n                                                    style: const TextStyle(fontSize: 10),\n                                                  )\n                                                ],\n                                              ),\n                                              Padding(\n                                                padding: const EdgeInsets.only(left: 12),\n                                                child: Row(\n                                                  children: &lt;Widget&gt;[\n                                                    Icon(\n                                                      Icons.access_time,\n                                                      size: 18,\n                                                    ),\n                                                    Text(\n                                                      (snapshot.data[position].startTime !=\n                                                          null &amp;&amp;\n                                                          snapshot.data[position]\n                                                              .endTime !=\n                                                              null)\n                                                          ? '${snapshot.data[position].startTime} - ${snapshot.data[position].endTime}'\n                                                          : 'Tidak Ada Jam',\n                                                      style: const TextStyle(fontSize: 10),\n                                                    )\n                                                  ],\n                                                ),\n                                              )\n                                            ],\n                                          )\n                                        ],\n                                      ),\n                                    ),\n                                    onTap: () {\n                                      Navigator.of(context).pushNamed('/spot_page',\n                                          arguments: snapshot.data[position]);\n                                    },\n                                  );\n                                }\n                              },\n                              shrinkWrap: true,\n                              physics: const NeverScrollableScrollPhysics(),\n                              itemCount: snapshot.data.length &lt; perPage\n                                  ? snapshot.data.length\n                                  : snapshot.data.length + 1,\n                              controller: _scrollController,\n                            );\n                          } else {\n                            return Center(\n                              child: const Text(\n                                'Belum ada data',\n                                style: TextStyle(fontSize: 12),\n                              ),\n                            );\n                          }\n                        } else if (snapshot.error != null) {\n                          return Center(\n                            child: const Text(\n                              'Gagal memuat data',\n                              style: TextStyle(fontSize: 12),\n                            ),\n                          );\n                        }\n                        return Padding(\n                          padding: const EdgeInsets.only(top: 12, bottom: 12),\n                          child: Progressbar.getProgressBar(),\n                        );\n                      },\n                    )\n                  ],\n                )\n              ]\n            ),\n          )\n        ],\n      ),\n    );\n  }\n}\n\n</code></pre>\n"}, {"tags": ["flutter", "dart", "custom-keyboard"], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 11264091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ba3ce47483cba3971a7c5f33482325?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/11264091/santhosh"}, "edited": false, "score": 2, "creation_date": 1566379582, "post_id": 57588354, "comment_id": 101634367, "body": "Great..! It works like charm. But you have to import <code>package:flutter&#47;services.dart</code> before using it. Thank you..!!"}], "tags": [], "owner": {"reputation": 9186, "user_id": 1600058, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b6c4621f5e61cb8fa07c1497b607f334?s=128&d=identicon&r=PG", "display_name": "Amit Prajapati", "link": "https://stackoverflow.com/users/1600058/amit-prajapati"}, "is_accepted": false, "score": 2, "last_activity_date": 1566379659, "last_edit_date": 1566379659, "creation_date": 1566379171, "answer_id": 57588354, "question_id": 57588163, "link": "https://stackoverflow.com/questions/57588163/flutter-keyboard-without-decimal-point/57588354#57588354", "title": "Flutter : Keyboard without decimal point", "body": "<p><strong>First Approach</strong> :- </p>\n\n<p>As per this stackoverflow answer you must have to create your custom keyboard for it.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/10536839/android-is-it-possible-to-hide-certain-characters-from-the-soft-keyboard\">Android - is it possible to hide certain characters from the soft keyboard?</a></p>\n\n<p><strong>Second Approach</strong> :-</p>\n\n<p>You can do black list that stuff with <code>RegExp</code>, in this case you can't input dot(.). </p>\n\n<p>For more you can refer this : <a href=\"https://api.flutter.dev/flutter/services/TextInputFormatter-class.html\" rel=\"nofollow noreferrer\">https://api.flutter.dev/flutter/services/TextInputFormatter-class.html</a></p>\n\n<pre><code>        body: Center(\n            child: TextFormField(\n            decoration: InputDecoration(\n                labelText: \"Title\",\n                suffixIcon: GestureDetector(\n                onTap: () {\n                    setState(() {\n\n                    });\n                },\n                child: Icon(Icons.clear),\n                )),\n            inputFormatters: [\n               BlacklistingTextInputFormatter(RegExp(\"[.]\"))\n            ],\n        )));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 103, "user_id": 11264091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ba3ce47483cba3971a7c5f33482325?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/11264091/santhosh"}, "edited": false, "score": 1, "creation_date": 1566380383, "post_id": 57588569, "comment_id": 101634919, "body": "Most Simpler.. Makes my work much easier..! Thank you Bro"}], "tags": [], "owner": {"reputation": 5085, "user_id": 3941291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sUtBe.jpg?s=128&g=1", "display_name": "ChrisG", "link": "https://stackoverflow.com/users/3941291/chrisg"}, "is_accepted": true, "score": 15, "last_activity_date": 1602159362, "last_edit_date": 1602159362, "creation_date": 1566379851, "answer_id": 57588569, "question_id": 57588163, "link": "https://stackoverflow.com/questions/57588163/flutter-keyboard-without-decimal-point/57588569#57588569", "title": "Flutter : Keyboard without decimal point", "body": "<p>One answer recommends using a <code>BlacklistingTextInputFormatter</code> which certainly works in your case with English locale. This however might not work with other locales which use a <code>,</code> instead of a <code>.</code> as decimal seperator.</p>\n<p>So I'd recommend using a <a href=\"https://api.flutter.dev/flutter/services/WhitelistingTextInputFormatter-class.html\" rel=\"noreferrer\"><code>WhitelistingTextInputFormatter</code></a>:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import &quot;package:flutter/services.dart&quot;;\nTextFormField(\n  keyboardType: TextInputType.number,\n  inputFormatters: [WhitelistingTextInputFormatter.digitsOnly],\n)\n</code></pre>\n<p>This will only allows the digits <code>[0-9]</code>.</p>\n<p><strong>UPDATE:</strong></p>\n<p>The <code>WhitelistingTextInputFormatter</code> as been renamed! The following is the up-to date version and no longer deprecated by <a href=\"https://api.flutter.dev/flutter/services/FilteringTextInputFormatter/allow.html\" rel=\"noreferrer\"><code>FilteringTextInputFormatter.allow</code></a> and provides a shortcut for the digits as well:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import &quot;package:flutter/services.dart&quot;;\nTextFormField(\n  keyboardType: TextInputType.number,\n  inputFormatters: [FilteringTextInputFormatter.digitsOnly],\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 153, "user_id": 13592117, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GgyiOTd7xtBLcGkDE0AtWYW5f7MkzJPSRlbZ0hU=k-s128", "display_name": "David L", "link": "https://stackoverflow.com/users/13592117/david-l"}, "is_accepted": false, "score": 1, "last_activity_date": 1597346772, "creation_date": 1597346772, "answer_id": 63401992, "question_id": 57588163, "link": "https://stackoverflow.com/questions/57588163/flutter-keyboard-without-decimal-point/63401992#63401992", "title": "Flutter : Keyboard without decimal point", "body": "<p>BlacklistingTextInputFormatter and WhitelistingTextInputFormatter are deprecated. If you want to admit digits only, you could use:</p>\n<pre><code>FilteringTextInputFormatter.digitsOnly\n</code></pre>\n<p>If you want to admit numbers with decimal point:</p>\n<pre><code>FilteringTextInputFormatter.allow(RegExp(r'^(\\d+)?\\.?\\d{0,2}')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 5468606, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yg8A76H74Cc/AAAAAAAAAAI/AAAAAAAAD24/2jZ0fRpWDAc/photo.jpg?sz=128", "display_name": "Alejandro Sanchez Duran", "link": "https://stackoverflow.com/users/5468606/alejandro-sanchez-duran"}, "is_accepted": false, "score": 0, "last_activity_date": 1617726534, "creation_date": 1617726534, "answer_id": 66972677, "question_id": 57588163, "link": "https://stackoverflow.com/questions/57588163/flutter-keyboard-without-decimal-point/66972677#66972677", "title": "Flutter : Keyboard without decimal point", "body": "<p>To aport this thread i did this, helped with the link provided by <a href=\"https://stackoverflow.com/users/1600058/amit-prajapati\">Amit Prajapati</a>, its a but more manual but in my case worked perfectly</p>\n<pre><code>inputFormatters: [\n          TextInputFormatter.withFunction((oldValue, newValue) {\n            if (textInputType.decimal == true) {\n              return newValue.copyWith(\n                text: newValue.text.replaceAll(RegExp(r&quot;\\,&quot;), &quot;.&quot;),\n              );\n            }\n            return newValue;\n          }),\n        ],\n</code></pre>\n<p>EDIT: <code>textInputType</code> is a variable for a custom TextField</p>\n"}], "owner": {"reputation": 103, "user_id": 11264091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ba3ce47483cba3971a7c5f33482325?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/11264091/santhosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2565, "favorite_count": 1, "accepted_answer_id": 57588569, "answer_count": 4, "score": 5, "last_activity_date": 1617726534, "creation_date": 1566378491, "question_id": 57588163, "link": "https://stackoverflow.com/questions/57588163/flutter-keyboard-without-decimal-point", "title": "Flutter : Keyboard without decimal point", "body": "<p>I need a numberInputKeyboard which only has numbers (without decimal symbol). I have tried with <code>keyboardType: TextInputType.numberWithOptions(decimal: false)</code> but still this dosen't help me</p>\n"}, {"tags": ["rest", "http", "flutter", "dart"], "comments": [{"owner": {"reputation": 953, "user_id": 3864551, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/f3ays.jpg?s=128&g=1", "display_name": "Julien Lachal", "link": "https://stackoverflow.com/users/3864551/julien-lachal"}, "edited": false, "score": 0, "creation_date": 1566377843, "post_id": 57586714, "comment_id": 101633334, "body": "In the documentation it states (for <code>contentType</code>) <code>The request Content-Type. The default value is [ContentType.json]</code> . So maybe you ought to omit it?"}], "answers": [{"tags": [], "owner": {"reputation": 1059, "user_id": 2497859, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/20Vbv.png?s=128&g=1", "display_name": "Omatt", "link": "https://stackoverflow.com/users/2497859/omatt"}, "is_accepted": false, "score": 1, "last_activity_date": 1610765019, "creation_date": 1610765019, "answer_id": 65745987, "question_id": 57586714, "link": "https://stackoverflow.com/questions/57586714/dio-options-contenttype-vs-header-content-type/65745987#65745987", "title": "Dio options.contentType vs header &quot;Content-Type&quot;", "body": "<p>I've tried this locally using <code>dio: ^3.0.10</code> and it seems that <code>ContentType.json</code> is an invalid value for <code>contentType</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/JyPHV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JyPHV.png\" alt=\"invalid contentType\" /></a></p>\n<p>Digging through the <a href=\"https://pub.dev/documentation/dio/latest/#request-options\" rel=\"nofollow noreferrer\">documentation for dio</a>, <code>Headers.jsonContentType</code> should be used.</p>\n<p><a href=\"https://i.stack.imgur.com/Pc9vC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pc9vC.png\" alt=\"valid contentType\" /></a></p>\n"}], "owner": {"reputation": 11757, "user_id": 930640, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BMK6D.jpg?s=128&g=1", "display_name": "Magnus W", "link": "https://stackoverflow.com/users/930640/magnus-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2799, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1610765019, "creation_date": 1566373202, "last_edit_date": 1566388907, "question_id": 57586714, "link": "https://stackoverflow.com/questions/57586714/dio-options-contenttype-vs-header-content-type", "title": "Dio options.contentType vs header &quot;Content-Type&quot;", "body": "<p>I was trying to make a call to a REST service using <a href=\"https://pub.dev/packages/dio\" rel=\"nofollow noreferrer\">the Dio plugin</a>, but kept getting <code>HTTP 400</code> response code. I thought I was doing everything right by setting the content type and response type options to JSON:</p>\n\n<pre><code>Response response = await Dio().get(\n    'https://api.example.com/v1/products/$productId',\n    queryParameters: {},\n    options: Options(\n        contentType: ContentType.json,\n        responseType: ResponseType.json,\n        headers: {'Authorization': 'Bearer $MY_API_KEY'}\n    ),\n);\n</code></pre>\n\n<p>However, it turns out that I needed to add a <code>Content-Type</code> header as well:</p>\n\n<pre><code>headers: {'Authorization': 'Bearer $MY_API_KEY'}, 'Content-Type': 'application/json' };\n</code></pre>\n\n<p>So now I'm confused - what exactly does the <code>contentType</code> option do? I thought it was analogous to setting the <code>Content-Type</code> header manually?</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 46708, "user_id": 179715, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e240f1a5bb197450dfb8934dd55d9e3a?s=128&d=identicon&r=PG", "display_name": "jamesdlin", "link": "https://stackoverflow.com/users/179715/jamesdlin"}, "edited": false, "score": 2, "creation_date": 1566400978, "post_id": 57586511, "comment_id": 101647004, "body": "Are you sure the error is from <code>FlexibleSpaceBar</code>?  The error message indicates that you&#39;re using <code>const</code> somewhere to construct an object that doesn&#39;t provide a <code>const</code> constructor.  You either haven&#39;t posted your exact code or your error message is coming from somewhere else."}], "owner": {"reputation": 31, "user_id": 9050985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d80bab64ccb572066c06ddc606b49ae?s=128&d=identicon&r=PG&f=1", "display_name": "Bas", "link": "https://stackoverflow.com/users/9050985/bas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1109, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1566372679, "creation_date": 1566372376, "last_edit_date": 1566372679, "question_id": 57586511, "link": "https://stackoverflow.com/questions/57586511/dart-the-constructor-being-called-isnt-a-const-constructor-when-using-flexibl", "title": "Dart &#39;the constructor being called isn&#39;t a const constructor&#39; when using FlexibleSpaceBar background property", "body": "<p>When using the FlexibleSpaceBar widget in flutter I am unable to set the background property. According to the docs it's supposed to be a Widget.</p>\n\n<p>From the docs:</p>\n\n<blockquote>\n  <p>{Widget background}\n  Shown behind the [title] when expanded.\n  Typically an [Image] widget with [Image.fit] set to [BoxFit.cover].</p>\n</blockquote>\n\n<p>When I try to set the property by using the Image.asset functions it shows an error 'The constructor being called isn't a const constructor. Try using 'new' to call the constructor.'. So obviously I tried using the 'new' keyword which didn't fix it either. I also tried with different Widgets but all seem to throw the same error.</p>\n\n<p>I used the following code:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>flexibleSpace: FlexibleSpaceBar(\n   title: Text('Demo'),\n   background: Row(\n           children: &lt;Widget&gt;[Text('DEMO')],\n   ),\n   // background: Image.asset('images/lake.jpg',\n   //     width: 500, height: 300, fit: BoxFit.cover),\n) \n</code></pre>\n\n<p>When using the Image asset outside the FlexibleSpaceBar it's working fine! At this point I'm not sure it's a bug or doing something entirely wrong.</p>\n\n<p>Versions:\nflutter: 1.7.8+hotfix.4\ndart: 2.4.0</p>\n"}, {"tags": ["dart", "constructor", "final"], "answers": [{"tags": [], "owner": {"reputation": 11572, "user_id": 1953515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b08d90afd96271299a4dc0fcf672f2?s=128&d=identicon&r=PG", "display_name": "julemand101", "link": "https://stackoverflow.com/users/1953515/julemand101"}, "is_accepted": true, "score": 1, "last_activity_date": 1566372010, "creation_date": 1566372010, "answer_id": 57586421, "question_id": 57585310, "link": "https://stackoverflow.com/questions/57585310/constructor-with-not-initialized-final-class-variables/57586421#57586421", "title": "Constructor with not initialized final class variables", "body": "<p>You can use a Factory constructor:</p>\n\n<pre><code>class Entry {\n  final String id;\n  final List&lt;String&gt; listEntries;\n\n  factory Entry({List&lt;String&gt; listEntries}) {\n    return Entry._(listEntries ?? []);\n  }\n\n  Entry._(this.listEntries):\n        id = Uuid().v4();\n\n  Entry.withId({this.id, this.listEntries});\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": false, "score": 1, "last_activity_date": 1566382366, "creation_date": 1566382366, "answer_id": 57589324, "question_id": 57585310, "link": "https://stackoverflow.com/questions/57585310/constructor-with-not-initialized-final-class-variables/57589324#57589324", "title": "Constructor with not initialized final class variables", "body": "<p>You can initialize the field in the initializer list instead of using <code>this.ListEntries</code> (an initializing formal).</p>\n\n<pre><code>class Entry {\n  final String id;\n  final List&lt;ListEntry&gt; listEntries;\n\n  Entry({List&lt;ListEntry&gt; listEntries})\n      : this.withId(id: Uuid().v4(), listEntries: listEntries);\n\n  Entry.withId({this.id, this.listEntries}) \n      : listEntries = listEntries ?? [];\n}\n// create new class instance\nvar e = Entry();\n</code></pre>\n\n<p>Here I reuse the <code>Entry.withId</code> constructor so I only have to write things once.</p>\n"}], "owner": {"reputation": 1240, "user_id": 1103863, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c6c77947776f396100744039bf98ff65?s=128&d=identicon&r=PG", "display_name": "sveri", "link": "https://stackoverflow.com/users/1103863/sveri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 57586421, "answer_count": 2, "score": 0, "last_activity_date": 1566382366, "creation_date": 1566367243, "question_id": 57585310, "link": "https://stackoverflow.com/questions/57585310/constructor-with-not-initialized-final-class-variables", "title": "Constructor with not initialized final class variables", "body": "<p>I have this class:</p>\n\n<pre><code>class Entry {\n  final String id;\n  final List&lt;ListEntry&gt; listEntries;\n\n  Entry({this.listEntries}):\n        id = Uuid().v4();\n\n  Entry.withId({this.id, this.listEntries});\n}\n// create new class instance\nvar e = Entry();\n</code></pre>\n\n<p>Now when I call any method on <code>e.listEntries</code> I will get a NPE because it is not initialized. Is there a way to have it default to an empty list in case the constructor argument is not provided?</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 1273, "user_id": 9413879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zk193.jpg?s=128&g=1", "display_name": "Adlan Arif Zakaria", "link": "https://stackoverflow.com/users/9413879/adlan-arif-zakaria"}, "is_accepted": false, "score": 0, "last_activity_date": 1566367134, "creation_date": 1566367134, "answer_id": 57585287, "question_id": 57585225, "link": "https://stackoverflow.com/questions/57585225/disable-flatbutton-sound-on-tap-flutter/57585287#57585287", "title": "Disable FlatButton sound on tap (Flutter)", "body": "<p>One of the idea is to use <code>InkWell()</code> widget instead.</p>\n\n<p>Refer: <a href=\"https://stackoverflow.com/questions/54549239/how-to-mute-the-sound-of-buttons-in-application\">How to mute the sound of buttons in application?</a></p>\n"}, {"tags": [], "owner": {"reputation": 752, "user_id": 10651021, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-a1D4dnf7Hdg/AAAAAAAAAAI/AAAAAAAAAAc/Pxa3wC1NCtI/photo.jpg?sz=128", "display_name": "Mohamed hassan kadri", "link": "https://stackoverflow.com/users/10651021/mohamed-hassan-kadri"}, "is_accepted": false, "score": 4, "last_activity_date": 1566375051, "creation_date": 1566375051, "answer_id": 57587180, "question_id": 57585225, "link": "https://stackoverflow.com/questions/57585225/disable-flatbutton-sound-on-tap-flutter/57587180#57587180", "title": "Disable FlatButton sound on tap (Flutter)", "body": "<p>you cant disable the sound for the <code>flatbutton</code> .you can use <code>InkWell()</code> Widget it offers you the methode <code>enableFeedback</code> . you can set it as false and you should be alright</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 13711152, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GjE28mMXn_NYAlXGRAi3MMZgxrlrUQej2v5a5ASKA=k-s128", "display_name": "Tech House", "link": "https://stackoverflow.com/users/13711152/tech-house"}, "is_accepted": false, "score": 2, "last_activity_date": 1591680080, "creation_date": 1591680080, "answer_id": 62275549, "question_id": 57585225, "link": "https://stackoverflow.com/questions/57585225/disable-flatbutton-sound-on-tap-flutter/62275549#62275549", "title": "Disable FlatButton sound on tap (Flutter)", "body": "<p>Use <b>MaterialButton</b>. All the styling remains the same but you have the added benefit of implementing <pre>enableFeedback: false,</pre> which will remove the default click sound.</p>\n"}], "owner": {"reputation": 139, "user_id": 11376992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/563b2030dc7367361362a763ad223795?s=128&d=identicon&r=PG&f=1", "display_name": "Tapioca", "link": "https://stackoverflow.com/users/11376992/tapioca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2224, "favorite_count": 0, "answer_count": 3, "score": 5, "last_activity_date": 1591680080, "creation_date": 1566366804, "question_id": 57585225, "link": "https://stackoverflow.com/questions/57585225/disable-flatbutton-sound-on-tap-flutter", "title": "Disable FlatButton sound on tap (Flutter)", "body": "<p>Im making an app that play sounds when you press FlatButtons, and I want to disable the predetermined pop sound that plays every time you touch the screen.</p>\n\n<p>Is there a way to do this?</p>\n"}, {"tags": ["flutter", "dart", "flutter-widget"], "comments": [{"owner": {"reputation": 1, "user_id": 11521596, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mnFagEdrnH4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcGMz8g66i32MWWMLSa61ChKw2Fnw/mo/photo.jpg?sz=128", "display_name": "PrinceEddy", "link": "https://stackoverflow.com/users/11521596/princeeddy"}, "edited": false, "score": 0, "creation_date": 1568083283, "post_id": 57583965, "comment_id": 102152452, "body": "hey check this &lt;<a href=\"https://stackoverflow.com/questions/53646649/how-to-take-screenshot-of-widget-beyond-the-screen-in-flutter\" title=\"how to take screenshot of widget beyond the screen in flutter\">stackoverflow.com/questions/53646649/&hellip;</a>&gt;?"}], "owner": {"reputation": 347, "user_id": 6047611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZRk6L.jpg?s=128&g=1", "display_name": "A. L. Strine", "link": "https://stackoverflow.com/users/6047611/a-l-strine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 460, "favorite_count": 0, "closed_date": 1595984999, "answer_count": 0, "score": 4, "last_activity_date": 1566357025, "creation_date": 1566357025, "question_id": 57583965, "link": "https://stackoverflow.com/questions/57583965/flutter-dart-capture-entire-partially-offscreen-widget-as-image", "closed_reason": "Duplicate", "title": "Flutter/dart capture entire partially OFFSCREEN widget as image", "body": "<p>Some comments on <a href=\"https://stackoverflow.com/a/50351442/6047611\">this answer</a> suggest that it is possible to capture every pixel of a widget, even if it is partially offscreen. Comments in <a href=\"https://stackoverflow.com/a/51118092/6047611\">this answer</a> suggest the opposite. I haven't been able to figure it out, I've only started messing with it today. Here's the code I have so far:</p>\n\n<pre><code>RenderRepaintBoundary boundary = globalKey.currentContext.findRenderObject();\nui.Image image = await boundary.toImage();\nByteData byteData = await image.toByteData(format: ui.ImageByteFormat.png);\nUint8List pngBytes = byteData.buffer.asUint8List();\n</code></pre>\n\n<p>Anyone know how to modify this so it will capture the full widget? Or does this only work with the portions of the widget that are on-screen?</p>\n"}, {"tags": ["javascript", "regex", "unicode", "dart"], "answers": [{"comments": [{"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1566373714, "post_id": 57586805, "comment_id": 101631356, "body": "I don&#39;t know Dart and I could be doing something wrong, <a href=\"https://stackoverflow.com/posts/57586805/edit\">edits</a> from people more knowledgeable than me are much appreciated."}], "tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": true, "score": 1, "last_activity_date": 1566373597, "creation_date": 1566373597, "answer_id": 57586805, "question_id": 57583651, "link": "https://stackoverflow.com/questions/57583651/dart-support-for-using-script-property-values-in-regular-expressions/57586805#57586805", "title": "Dart support for using Script Property Values in Regular Expressions", "body": "<p>The most simple case is not supported, let alone set operations. Tested with <a href=\"https://dartpad.dev/\" rel=\"nofollow noreferrer\">https://dartpad.dev/</a></p>\n\n<pre><code>void main() {\n  RegExp exp = new RegExp(r\"(\\p{Script:Greek})\");\n  String str = \"\u0393\";\n  Iterable&lt;RegExpMatch&gt; matches = exp.allMatches(str);\n  for (Match m in matches) {\n    String match = m.group(0);\n    print(match);\n  }\n}\n</code></pre>\n\n<p>Got: no result</p>\n\n<p>Expect: \u0393</p>\n\n<hr>\n\n<p><a href=\"http://p3rl.org/recharclass#Extended-Bracketed-Character-Classes\" rel=\"nofollow noreferrer\">Use Perl</a> when you don't want to be disappointed.</p>\n"}], "owner": {"reputation": 358195, "user_id": 3681880, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3b7ad8915f552cd4e23caf38eee10030?s=128&d=identicon&r=PG", "display_name": "Suragch", "link": "https://stackoverflow.com/users/3681880/suragch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 57586805, "answer_count": 1, "score": 1, "last_activity_date": 1566373597, "creation_date": 1566354183, "last_edit_date": 1566356501, "question_id": 57583651, "link": "https://stackoverflow.com/questions/57583651/dart-support-for-using-script-property-values-in-regular-expressions", "title": "Dart support for using Script Property Values in Regular Expressions", "body": "<p>The <a href=\"https://www.unicode.org/reports/tr18/\" rel=\"nofollow noreferrer\">Unicode regular expression documentation</a> describes doing complex matches for text. Specifically, I am wondering about matching various scripts within a string of text based on the script property values of the code points.</p>\n\n<p>The Unicode documentation about <a href=\"https://www.unicode.org/reports/tr24/#Script_Names_in_RegEx\" rel=\"nofollow noreferrer\">Using Script Property Values in Regular Expressions</a> refers to this possibility:</p>\n\n<blockquote>\n  <p>The script property is useful in regular expression syntax for easy\n  specification of spans of text that consist of a single script or\n  mixture of scripts. In general, regular expressions should use\n  specific Script property values only in conjunction with both Common\n  and Inherited. For example, to distinguish a sequence of characters\n  appropriate for Greek text, one might use</p>\n  \n  <p>((Greek | Common) (Inherited | Me | Mn)<em>)</em></p>\n  \n  <p>The preceding expression matches all characters that have a Script\n  property value of Greek or Common and which are optionally followed by\n  characters with a Script property value of Inherited. For\n  completeness, the regular expression also allows any nonspacing or\n  enclosing mark.</p>\n  \n  <p>Some languages commonly use multiple scripts, so, for example, to\n  distinguish a sequence of characters appropriate for Japanese text one\n  might use:</p>\n  \n  <p>((Hiragana | Katakana | Han | Latin | Common) (Inherited | Me | Mn)<em>)</em></p>\n</blockquote>\n\n<p>Is this implemented in Dart? I don't see it described for Dart <a href=\"https://api.dartlang.org/stable/2.4.1/dart-core/RegExp-class.html\" rel=\"nofollow noreferrer\">RegEx</a> or for <a href=\"http://ecma-international.org/ecma-262/5.1/#sec-15.10\" rel=\"nofollow noreferrer\">JavaScript ECMAScript regex specs</a> that Dart regexes are based on.</p>\n"}, {"tags": ["java", "android", "flutter", "dart"], "comments": [{"owner": {"reputation": 25, "user_id": 7565783, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-49U2CVMUBIA/AAAAAAAAAAI/AAAAAAAAALA/Z7bZAKT6lvQ/photo.jpg?sz=128", "display_name": "Anderson Augusto", "link": "https://stackoverflow.com/users/7565783/anderson-augusto"}, "edited": false, "score": 0, "creation_date": 1566443082, "post_id": 57583213, "comment_id": 101659872, "body": "After a lot of brains I found a solution, I will edit the code above and lay with the solution in case anyone else has this problem ...  1) Also add firebase_core: ^ 0.3.0 to pubspec.yaml 2) Add subprojects in build.gradle in android folder 3) In defaultConfig (build.gradle in app folder) add multiDexEnabled true  Now just be happy: D"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 7565783, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-49U2CVMUBIA/AAAAAAAAAAI/AAAAAAAAALA/Z7bZAKT6lvQ/photo.jpg?sz=128", "display_name": "Anderson Augusto", "link": "https://stackoverflow.com/users/7565783/anderson-augusto"}, "edited": false, "score": 0, "creation_date": 1566393679, "post_id": 57586289, "comment_id": 101642633, "body": "In my android folder (build.gradle) there is no com.android.support:support-fragment dependency, just add it to dependencies?  My pubspec.yaml is apparently normal. The error just started appearing after I made the build.gradle changes to code notifications"}, {"owner": {"reputation": 25, "user_id": 7565783, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-49U2CVMUBIA/AAAAAAAAAAI/AAAAAAAAALA/Z7bZAKT6lvQ/photo.jpg?sz=128", "display_name": "Anderson Augusto", "link": "https://stackoverflow.com/users/7565783/anderson-augusto"}, "edited": false, "score": 0, "creation_date": 1566443275, "post_id": 57586289, "comment_id": 101659914, "body": "Thanks for helping out, your answer has given me a great &quot;direction&quot; to follow for this fix although it is not entirely correct ... I am very grateful for this!"}], "tags": [], "owner": {"reputation": 946, "user_id": 2742962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8da0206aaaff079017baecbb1117ea9?s=128&d=identicon&r=PG", "display_name": "BugsBunnyBR", "link": "https://stackoverflow.com/users/2742962/bugsbunnybr"}, "is_accepted": true, "score": 0, "last_activity_date": 1566371481, "creation_date": 1566371481, "answer_id": 57586289, "question_id": 57583213, "link": "https://stackoverflow.com/questions/57583213/when-implementing-firebase-flutter-notifications-im-getting-an-error/57586289#57586289", "title": "When implementing Firebase (Flutter) notifications, I&#39;m getting an error", "body": "<p>You should take a look at the libraries you are using.</p>\n\n<p>The error says it found two different versions for <code>com.android.support:support-fragment</code>. Open your android/build.gradle and check if there is that dependency here and update it to version 27.1.1.</p>\n\n<p>If you don't find the dependency directly in your app, it probably is coming from another outdated dependency or Flutter plugin. Verify for updates for all plugin dependencies at pubspec.yaml too.</p>\n"}], "owner": {"reputation": 25, "user_id": 7565783, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-49U2CVMUBIA/AAAAAAAAAAI/AAAAAAAAALA/Z7bZAKT6lvQ/photo.jpg?sz=128", "display_name": "Anderson Augusto", "link": "https://stackoverflow.com/users/7565783/anderson-augusto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 57586289, "answer_count": 1, "score": 0, "last_activity_date": 1566443181, "creation_date": 1566349648, "last_edit_date": 1566443181, "question_id": 57583213, "link": "https://stackoverflow.com/questions/57583213/when-implementing-firebase-flutter-notifications-im-getting-an-error", "title": "When implementing Firebase (Flutter) notifications, I&#39;m getting an error", "body": "<p>First I apologize for not being a native speaker of the English language.</p>\n\n<p>But the problem I'm having is as follows.</p>\n\n<p>1) I am following a tutorial (Youtube / Documentation) to implement notifications in Flutter.</p>\n\n<p>2) As directed by the documentation I made all the recommended settings. They are as follows:</p>\n\n<ul>\n<li><p>Generate google-services.json file in Console Flutter</p></li>\n<li><p>Add apply plugin: 'com.google.gms.google-services' to build.gradle in app folder</p></li>\n<li><p>Add classpath 'com.google.gms: google-services: 4.2.0' in build.gradle to root of android folder</p></li>\n<li><p>Add intent-filter (FLUTTER_NOTIFICATION_CLICK) to AndroidManifest.xml file</p></li>\n</ul>\n\n<p>This is the build.gradle of the android folder.</p>\n\n<pre><code>buildscript {\n    repositories {\n        google()\n        jcenter()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.2.1'        \n        classpath 'com.google.gms:google-services:3.2.0'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = \"${rootProject.buildDir}/${project.name}\"\n}\nsubprojects {\n    project.evaluationDependsOn(':app')\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\nsubprojects {\n    project.configurations.all {\n        resolutionStrategy.eachDependency { details -&gt;\n            if (details.requested.group == 'com.android.support'\n                    &amp;&amp; !details.requested.name.contains('multidex') ) {\n                details.useVersion \"26.1.0\"\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>This is the build.gradle of the app folder.</p>\n\n<pre><code>def localProperties = new Properties()\ndef localPropertiesFile = rootProject.file('local.properties')\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader('UTF-8') { reader -&gt;\n        localProperties.load(reader)\n    }\n}\n\ndef flutterRoot = localProperties.getProperty('flutter.sdk')\nif (flutterRoot == null) {\n    throw new GradleException(\"Flutter SDK not found. Define location with flutter.sdk in the local.properties file.\")\n}\n\ndef flutterVersionCode = localProperties.getProperty('flutter.versionCode')\nif (flutterVersionCode == null) {\n    flutterVersionCode = '1'\n}\n\ndef flutterVersionName = localProperties.getProperty('flutter.versionName')\nif (flutterVersionName == null) {\n    flutterVersionName = '1.0'\n}\n\napply plugin: 'com.android.application'\napply from: \"$flutterRoot/packages/flutter_tools/gradle/flutter.gradle\"\n\nandroid {\n    compileSdkVersion 27\n\n    lintOptions {\n        disable 'InvalidPackage'\n    }\n\n    defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId \"com.example.tccversao2\"\n        minSdkVersion 16\n        targetSdkVersion 27\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        multiDexEnabled true\n    }\n\n    buildTypes {\n        release {\n            // TODO: Add your own signing config for the release build.\n            // Signing with the debug keys for now, so `flutter run --release` works.\n            signingConfig signingConfigs.debug\n        }\n    }\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n}\nandroid {\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>This is my code</p>\n\n<pre><code>@immutable\nclass Message {\n  final String title;\n  final String body;\n\n  const Message({\n    @required this.title,\n    @required this.body,\n  });\n}\n\nclass MessagingWidget extends StatefulWidget {\n  @override\n  _MessagingWidgetState createState() =&gt; _MessagingWidgetState();\n}\n\nclass _MessagingWidgetState extends State&lt;MessagingWidget&gt; {\n  final FirebaseMessaging _firebaseMessaging = FirebaseMessaging();\n  final List&lt;Message&gt; messages = [];\n\n  @override\n  void initState() {\n    super.initState();\n    _firebaseMessaging.configure(\n      onMessage: (Map&lt;String, dynamic&gt; message) async {\n        print(\"onMessage: $message\");\n        final notification = message['notification'];\n        setState(() {\n          messages.add(Message(\n              title: notification['title'], body: notification['body']));\n        });\n      },\n      onLaunch: (Map&lt;String, dynamic&gt; message) async {\n        print(\"onLaunch: $message\");\n\n        final notification = message['data'];\n        setState(() {\n          messages.add(Message(\n            title: '${notification['title']}',\n            body: '${notification['body']}',\n          ));\n        });\n      },\n      onResume: (Map&lt;String, dynamic&gt; message) async {\n        print(\"onResume: $message\");\n      },\n    );\n    _firebaseMessaging.requestNotificationPermissions(\n        const IosNotificationSettings(sound: true, badge: true, alert: true));\n  }\n\n  @override\n  Widget build(BuildContext context) =&gt; ListView(\n        children: messages.map(buildMessage).toList(),\n      );\n\n  Widget buildMessage(Message message) =&gt; ListTile(\n        title: Text(message.title),\n        subtitle: Text(message.body),\n      );\n}\n</code></pre>\n\n<p>I'm using the library\nfirebase_messaging: ^4.0.0+1\nfirebase_core: ^0.3.0</p>\n\n<p>I am getting the following error message:</p>\n\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:preDebugBuild'.\n&gt; Android dependency 'com.android.support:support-fragment' has different version for the compile (26.1.0) and runtime (27.1.1) classpath. You should manually set the same version via DependencyResolution\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 6s\nGradle task assembleDebug failed with exit code 1\n</code></pre>\n\n<p>I already tried to use in my build.gradle (in the android folder) the classpath 'com.google.gms: google-services: 4.3.0', but in this case I'm getting another error which is:</p>\n\n<pre><code>* Error running Gradle:\nProcessException: Process \"E:\\Flutter\\projetos\\tcc_versao2\\tcc_versao2\\android\\gradlew.bat\" exited abnormally:\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file 'E:\\Flutter\\projetos\\tcc_versao2\\tcc_versao2\\android\\app\\build.gradle' line: 24\n\n* What went wrong:\nA problem occurred evaluating project ':app'.\n&gt; ASCII\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 3s\n  Command: E:\\Flutter\\projetos\\tcc_versao2\\tcc_versao2\\android\\gradlew.bat app:properties\n\nPlease review your Gradle project setup in the android/ folder.\n\n</code></pre>\n\n<p>*Maybe it is important to say: I am debugging on my phone (Xiaomi Note 3 pro)</p>\n\n<p>I am completely lost on this mistake and would be very happy if anyone could help me.</p>\n"}, {"tags": ["testing", "flutter", "dart", "flutter-test"], "answers": [{"comments": [{"owner": {"reputation": 4727, "user_id": 6696558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tA43f.jpg?s=128&g=1", "display_name": "Hugo Passos", "link": "https://stackoverflow.com/users/6696558/hugo-passos"}, "edited": false, "score": 0, "creation_date": 1566345863, "post_id": 57582785, "comment_id": 101624787, "body": "Very interesting, but wouldn&#39;t this work only if the function was injected (as an argument, for instance)? Can you please provide an example of mocking a top-level function?"}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "reply_to_user": {"reputation": 4727, "user_id": 6696558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tA43f.jpg?s=128&g=1", "display_name": "Hugo Passos", "link": "https://stackoverflow.com/users/6696558/hugo-passos"}, "edited": false, "score": 0, "creation_date": 1566346348, "post_id": 57582785, "comment_id": 101624862, "body": "@HugoPassos yes, you need a mean to replace the function with another. There are tons of different ways to do so though. For example, the function could be a mutable global variable."}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "reply_to_user": {"reputation": 4727, "user_id": 6696558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tA43f.jpg?s=128&g=1", "display_name": "Hugo Passos", "link": "https://stackoverflow.com/users/6696558/hugo-passos"}, "edited": false, "score": 0, "creation_date": 1566346351, "post_id": 57582785, "comment_id": 101624863, "body": "There are entire books dedicated to these patterns, so I can&#39;t reasonably give a definitive solution here."}, {"owner": {"reputation": 4727, "user_id": 6696558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tA43f.jpg?s=128&g=1", "display_name": "Hugo Passos", "link": "https://stackoverflow.com/users/6696558/hugo-passos"}, "edited": false, "score": 0, "creation_date": 1566347289, "post_id": 57582785, "comment_id": 101625006, "body": "Yeah, but we&#39;re talking about a public library. I can&#39;t think in any way to replace the function in this situation."}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "reply_to_user": {"reputation": 4727, "user_id": 6696558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tA43f.jpg?s=128&g=1", "display_name": "Hugo Passos", "link": "https://stackoverflow.com/users/6696558/hugo-passos"}, "edited": false, "score": 0, "creation_date": 1566349073, "post_id": 57582785, "comment_id": 101625226, "body": "You don&#39;t have to use the function directly. A global <code>var getCameras = availableCameras</code> should do the trick. Then your test can replace it with a different value."}, {"owner": {"reputation": 4727, "user_id": 6696558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tA43f.jpg?s=128&g=1", "display_name": "Hugo Passos", "link": "https://stackoverflow.com/users/6696558/hugo-passos"}, "edited": false, "score": 0, "creation_date": 1566350377, "post_id": 57582785, "comment_id": 101625408, "body": "You&#39;re right. I initially thought <code>availableCameras</code> was called by the library, not by the user."}, {"owner": {"reputation": 157, "user_id": 7912940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94d8f7388dc045444644ce833353158b?s=128&d=identicon&r=PG&f=1", "display_name": "kabayaba", "link": "https://stackoverflow.com/users/7912940/kabayaba"}, "reply_to_user": {"reputation": 4727, "user_id": 6696558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tA43f.jpg?s=128&g=1", "display_name": "Hugo Passos", "link": "https://stackoverflow.com/users/6696558/hugo-passos"}, "edited": false, "score": 0, "creation_date": 1597914430, "post_id": 57582785, "comment_id": 112289647, "body": "@HugoPassos may i check you resolved this issue? i called availableCameras() inside my real bloc class but have no idea how to mock it."}], "tags": [], "owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "is_accepted": false, "score": 5, "last_activity_date": 1566344876, "creation_date": 1566344876, "answer_id": 57582785, "question_id": 57582592, "link": "https://stackoverflow.com/questions/57582592/how-do-i-stub-a-function-that-does-not-belong-to-a-class-during-a-widget-test/57582785#57582785", "title": "How do I stub a function that does not belong to a class, during a widget test?", "body": "<p>Mockito can mock functions too. In dart, functions are classes with a <code>call</code> method.</p>\n\n<p>You can, therefore, use Mockito as usual, with an abstract <code>call</code> method:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class MockFunction extends Mock {\n  int call(String param);\n}\n</code></pre>\n\n<p>This example represents a <code>int Function(String param)</code>.</p>\n\n<p>Which means you can then do:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>final int Function(String) myFn = MockFunction();\nwhen(myFn('hello world')).thenReturn(42);\n\nexpect(myFn('hello world'), equals(42));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4727, "user_id": 6696558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tA43f.jpg?s=128&g=1", "display_name": "Hugo Passos", "link": "https://stackoverflow.com/users/6696558/hugo-passos"}, "is_accepted": false, "score": 0, "last_activity_date": 1589225341, "last_edit_date": 1589225341, "creation_date": 1566345384, "answer_id": 57582830, "question_id": 57582592, "link": "https://stackoverflow.com/questions/57582592/how-do-i-stub-a-function-that-does-not-belong-to-a-class-during-a-widget-test/57582830#57582830", "title": "How do I stub a function that does not belong to a class, during a widget test?", "body": "<p>In this very specific situation, you can <a href=\"https://api.flutter.dev/flutter/services/MethodChannel/setMockMethodCallHandler.html\" rel=\"nofollow noreferrer\">mock the method channel call handler</a>.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>const cameraMethodChannel = MethodChannel('plugins.flutter.io/camera');\n\nsetUpAll(() {\n  cameraMethodChannel.setMockMethodCallHandler(cameraCallHandler);\n});\n\ntearDownAll(() {\n  cameraMethodChannel.setMockMethodCallHandler(null);\n});\n\nFuture&lt;dynamic&gt; cameraCallHandler(MethodCall methodCall) async {\n  if (methodCall.method == 'availableCameras') return yourListOfCameras;\n}\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 7549708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60d4110ab57e851ada8c2edc4b9faa7a?s=128&d=identicon&r=PG&f=1", "display_name": "Bakkingamu", "link": "https://stackoverflow.com/users/7549708/bakkingamu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2301, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1589225341, "creation_date": 1566342743, "question_id": 57582592, "link": "https://stackoverflow.com/questions/57582592/how-do-i-stub-a-function-that-does-not-belong-to-a-class-during-a-widget-test", "title": "How do I stub a function that does not belong to a class, during a widget test?", "body": "<p>I am creating a flutter app that uses the native camera to take a photo, using the official flutter camera package (<a href=\"https://pub.dev/packages/camera\" rel=\"nofollow noreferrer\">https://pub.dev/packages/camera</a>). The app opens up a modal that loads a <code>CameraPreview</code> based on the the result of the <code>availableCameras</code> function from the package and a <code>FloatingActionButton</code> which takes a photo when pressed. While creating a widget test for this modal, I can not figure out how to stub the <code>availableCameras</code> function to return what I want during tests.</p>\n\n<p>I tried using the Mockito testing package, but this only supports mocking classes. Since this function does not belong to a class, I cannot mock it.</p>\n\n<p>The <code>availableCameras</code> function returns a list of cameras that the device has. I want to be able to control what comes back from this function, so that I may test how my widget reacts to different cameras. What is the proper way to have this function return what I want during a widget test?</p>\n"}, {"tags": ["exception", "dart", "error-handling"], "comments": [{"owner": {"reputation": 46708, "user_id": 179715, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e240f1a5bb197450dfb8934dd55d9e3a?s=128&d=identicon&r=PG", "display_name": "jamesdlin", "link": "https://stackoverflow.com/users/179715/jamesdlin"}, "edited": false, "score": 1, "creation_date": 1566347532, "post_id": 57582508, "comment_id": 101625037, "body": "Possibly it was to discourage directly using <code>Error</code> (and you probably shouldn&#39;t).  Consider using <code>AssertionError</code> via <code>assert(condition, message)</code> or <code>StateError</code> instead."}, {"owner": {"reputation": 1223, "user_id": 650894, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b76a642537783acc3d0b6dfb44536925?s=128&d=identicon&r=PG", "display_name": "Joe Lapp", "link": "https://stackoverflow.com/users/650894/joe-lapp"}, "reply_to_user": {"reputation": 46708, "user_id": 179715, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e240f1a5bb197450dfb8934dd55d9e3a?s=128&d=identicon&r=PG", "display_name": "jamesdlin", "link": "https://stackoverflow.com/users/179715/jamesdlin"}, "edited": false, "score": 0, "creation_date": 1566348578, "post_id": 57582508, "comment_id": 101625164, "body": "@jamesdlin, aha! I bet that&#39;s it. Thank you so much!"}, {"owner": {"reputation": 1223, "user_id": 650894, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b76a642537783acc3d0b6dfb44536925?s=128&d=identicon&r=PG", "display_name": "Joe Lapp", "link": "https://stackoverflow.com/users/650894/joe-lapp"}, "reply_to_user": {"reputation": 46708, "user_id": 179715, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e240f1a5bb197450dfb8934dd55d9e3a?s=128&d=identicon&r=PG", "display_name": "jamesdlin", "link": "https://stackoverflow.com/users/179715/jamesdlin"}, "edited": false, "score": 0, "creation_date": 1566352497, "post_id": 57582508, "comment_id": 101625742, "body": "Google shows a total of 42 hits for &#39;dart &quot;throw StateError&quot;&#39;, which doesn&#39;t give me much confidence, but this examples page is one of those hits, suggesting that <code>StateError</code> is indeed the throwable to use. (<code>assert()</code> has limited use because it can&#39;t protect state in production.) <a href=\"https://dart.dev/samples#exceptions\" rel=\"nofollow noreferrer\">dart.dev/samples#exceptions</a>"}, {"owner": {"reputation": 46708, "user_id": 179715, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e240f1a5bb197450dfb8934dd55d9e3a?s=128&d=identicon&r=PG", "display_name": "jamesdlin", "link": "https://stackoverflow.com/users/179715/jamesdlin"}, "edited": false, "score": 1, "creation_date": 1566353793, "post_id": 57582508, "comment_id": 101625981, "body": "Fair point about <code>assert()</code> in release code, although you could throw <code>AssertionError</code> directly (or create your own <code>assert</code>-like function to do it).  Regarding <code>StateError</code>, the low hit count might be misleading since <code>StateError</code> is often thrown via other mechanisms (e.g. the <a href=\"https://pub.dev/documentation/quiver/latest/quiver.check/quiver.check-library.html\" rel=\"nofollow noreferrer\">quiver.check</a> functions)."}, {"owner": {"reputation": 1223, "user_id": 650894, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b76a642537783acc3d0b6dfb44536925?s=128&d=identicon&r=PG", "display_name": "Joe Lapp", "link": "https://stackoverflow.com/users/650894/joe-lapp"}, "reply_to_user": {"reputation": 46708, "user_id": 179715, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e240f1a5bb197450dfb8934dd55d9e3a?s=128&d=identicon&r=PG", "display_name": "jamesdlin", "link": "https://stackoverflow.com/users/179715/jamesdlin"}, "edited": false, "score": 0, "creation_date": 1567868904, "post_id": 57582508, "comment_id": 102098348, "body": "@jamesdlin, if you&#39;d combine your two comments into an answer, I&#39;d be happy to mark it my preferred answer."}], "answers": [{"tags": [], "owner": {"reputation": 5788, "user_id": 1412966, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/AVuPb.png?s=128&g=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/1412966/thomas"}, "is_accepted": false, "score": 0, "last_activity_date": 1567856754, "creation_date": 1567856754, "answer_id": 57833368, "question_id": 57582508, "link": "https://stackoverflow.com/questions/57582508/proper-way-to-throw-errors-in-dart/57833368#57833368", "title": "Proper way to throw Errors in Dart", "body": "<p>See <a href=\"https://github.com/dart-lang/sdk/blob/master/sdk/lib/core/errors.dart\" rel=\"nofollow noreferrer\">https://github.com/dart-lang/sdk/blob/master/sdk/lib/core/errors.dart</a></p>\n\n<p>Dart has several predefined Errors that you can instantly use.</p>\n"}], "owner": {"reputation": 1223, "user_id": 650894, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b76a642537783acc3d0b6dfb44536925?s=128&d=identicon&r=PG", "display_name": "Joe Lapp", "link": "https://stackoverflow.com/users/650894/joe-lapp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 910, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567856754, "creation_date": 1566342034, "last_edit_date": 1566342404, "question_id": 57582508, "link": "https://stackoverflow.com/questions/57582508/proper-way-to-throw-errors-in-dart", "title": "Proper way to throw Errors in Dart", "body": "<p>Dart provides an <code>Error</code> class and an <code>Exception</code> class for throwing exceptions. Why doesn't the <code>Error</code> constructor take a message parameter like the <code>Exception</code> constructor does?</p>\n\n<p>From the <a href=\"https://api.dartlang.org/stable/2.4.1/dart-core/Error-class.html\" rel=\"nofollow noreferrer\">Error class docs</a>:</p>\n\n<blockquote>\n  <p>Error objects thrown in the case of a program failure.</p>\n  \n  <p>An Error object represents a program failure that the programmer should have avoided.</p>\n</blockquote>\n\n<p>From the <a href=\"https://api.dartlang.org/stable/2.4.1/dart-core/Exception-class.html\" rel=\"nofollow noreferrer\">Exception class docs</a>:</p>\n\n<blockquote>\n  <p>An Exception is intended to convey information to the user about a failure, so that the error can be addressed programmatically. It is intended to be caught, and it should contain useful data fields.</p>\n</blockquote>\n\n<p>An earlier <a href=\"https://stackoverflow.com/a/17316538/650894\">SO answer</a> cites a post confirming this distinction.</p>\n\n<p>I like this distinction. That tells me that many of my checks should throw instances of <code>Error</code>.</p>\n\n<p>I'm happy to subclass <code>Error</code> with the type of error, but I still need to report values that induced the error. Why is it that Dart makes it easy for me to do this with <code>Exception</code> but not with <code>Error</code>?</p>\n\n<p>I realize that I can solve the problem by declaring an app-wide error class:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class AppError extends Error {\n  String message;\n\n  AppError([this.message]);\n\n  String toString() {\n    return message == null ? runtimeType : \"$runtimeType: $message\";\n  }\n}\n</code></pre>\n\n<p>This difference between <code>Error</code> and <code>Exception</code> has me thinking that I'm misunderstanding <code>Error</code> or using it improperly. What's the proper way to throw non-user errors in Dart?</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 46708, "user_id": 179715, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e240f1a5bb197450dfb8934dd55d9e3a?s=128&d=identicon&r=PG", "display_name": "jamesdlin", "link": "https://stackoverflow.com/users/179715/jamesdlin"}, "edited": false, "score": 0, "creation_date": 1566359679, "post_id": 57581860, "comment_id": 101626863, "body": "Given <code>SomeClass object</code>, the type of <code>object</code> is statically known, so <code>object.someStaticMember</code> <i>could</i> be treated as syntactic sugar for <code>SomeClass.someStaticMember</code>.  That said, Dart 1 did not have static typing, so that perhaps is one reason why the language doesn&#39;t allow it."}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 6859813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T4CNy.jpg?s=128&g=1", "display_name": "Anthony Andras", "link": "https://stackoverflow.com/users/6859813/anthony-andras"}, "is_accepted": false, "score": 1, "last_activity_date": 1566339847, "creation_date": 1566339847, "answer_id": 57582237, "question_id": 57581860, "link": "https://stackoverflow.com/questions/57581860/why-static-field-cant-be-accessed-through-an-instance/57582237#57582237", "title": "Why Static field can&#39;t be accessed through an instance", "body": "<p>Static members of a particular class are accessed at the class level, not the object level. What this basically means is that the static variable is shared between objects.</p>\n\n<p>With that in mind, what you are potentially attempting to do is probably not the best idea. Without seeing more of your code, you are probably better off declaring your loginStatus property as a private member on an encapsulating class, then accessing that member through a method (perhaps a standard get*() method).</p>\n\n<p>The <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"nofollow noreferrer\">Oracle documentation</a> on class members could be of some help here.</p>\n"}], "owner": {"reputation": 31, "user_id": 9170853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60c6b7cc012ff36dc8b19ae20020e294?s=128&d=identicon&r=PG&f=1", "display_name": "Kexi He", "link": "https://stackoverflow.com/users/9170853/kexi-he"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 766, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1566339847, "creation_date": 1566337160, "question_id": 57581860, "link": "https://stackoverflow.com/questions/57581860/why-static-field-cant-be-accessed-through-an-instance", "title": "Why Static field can&#39;t be accessed through an instance", "body": "<p>Why Static field can't be accessed through an instance.\nDart 2.4 Flutter 1.7 Android Studio 3.4</p>\n\n<p>When I was trying to port codes from JAVA to Flutter(Dart), I got the compile error</p>\n\n<p>I had defined the variable in MyMainBloc as follows</p>\n\n<pre><code>static LoginStatus loginStatus = null;\n</code></pre>\n\n<p>Then I create an instance:</p>\n\n<pre><code>MyMainBloc myApp;\n</code></pre>\n\n<p>I expect to use something like this: myApp.loginStatus, NOT MyMainBloc.loginStatus.</p>\n"}, {"tags": ["flutter", "dart", "flutter-layout"], "answers": [{"tags": [], "owner": {"reputation": 2413, "user_id": 11276416, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7NBb2Lgwb5o/AAAAAAAAAAI/AAAAAAAAAAA/lAffMSMKRyw/photo.jpg?sz=128", "display_name": "Jim Chiu", "link": "https://stackoverflow.com/users/11276416/jim-chiu"}, "is_accepted": false, "score": 1, "last_activity_date": 1566379009, "creation_date": 1566379009, "answer_id": 57588307, "question_id": 57581525, "link": "https://stackoverflow.com/questions/57581525/google-maps-with-overlapping-markers-in-flutter/57588307#57588307", "title": "Google maps with overlapping markers in flutter", "body": "<p>try to implement clustering in your map:</p>\n\n<p><a href=\"https://pub.dev/packages/clustering_google_maps\" rel=\"nofollow noreferrer\">google map clustering</a> </p>\n"}], "owner": {"reputation": 2645, "user_id": 833846, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/f3f49c671eacb00447c718d174ec84e1?s=128&d=identicon&r=PG", "display_name": "Marco Alves", "link": "https://stackoverflow.com/users/833846/marco-alves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 257, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566379009, "creation_date": 1566335169, "question_id": 57581525, "link": "https://stackoverflow.com/questions/57581525/google-maps-with-overlapping-markers-in-flutter", "title": "Google maps with overlapping markers in flutter", "body": "<p>I am working with flutter (new to it) and have two markers which are overlapped (this is really necessary).</p>\n\n<p>How can I let the user, for example, click on the marker (like a cluster one with these two markers), expand it in order to let the user choose which one he or she wants to click?</p>\n\n<p>best regards</p>\n"}, {"tags": ["flutter", "dart", "flutter-provider"], "comments": [{"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1566335144, "post_id": 57581287, "comment_id": 101622453, "body": "Again, you need to add your providers to the <code>navigator.push</code> builder."}, {"owner": {"reputation": 1313, "user_id": 10654377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f9e82bf491680b7eea3b43a7c5d002?s=128&d=identicon&r=PG&f=1", "display_name": "FlutterFirebase", "link": "https://stackoverflow.com/users/10654377/flutterfirebase"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1566335440, "post_id": 57581287, "comment_id": 101622556, "body": "@R&#233;miRousselet Thanks!! But I am already push context in         <code>Navigator.push(context, MaterialPageRoute(builder: (context) =&gt; SecondRoute()),</code>?"}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1566340625, "post_id": 57581287, "comment_id": 101623870, "body": "It doesn&#39;t matter. you still need to include the necessary providers"}, {"owner": {"reputation": 1313, "user_id": 10654377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f9e82bf491680b7eea3b43a7c5d002?s=128&d=identicon&r=PG&f=1", "display_name": "FlutterFirebase", "link": "https://stackoverflow.com/users/10654377/flutterfirebase"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1566399484, "post_id": 57581287, "comment_id": 101646155, "body": "@R&#233;miRousselet Issue is <code>Model2</code> is only initialised for some users. Other user group not have <code>Model2</code>. But if I call final <code>model2 = Provider.of&lt;Model2&gt;(context, listen: false);</code> for user who not have <code>Model2</code> initialise, it give error"}, {"owner": {"reputation": 1313, "user_id": 10654377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f9e82bf491680b7eea3b43a7c5d002?s=128&d=identicon&r=PG&f=1", "display_name": "FlutterFirebase", "link": "https://stackoverflow.com/users/10654377/flutterfirebase"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1566404442, "post_id": 57581287, "comment_id": 101648682, "body": "@R&#233;miRousselet Still have same error when pass in context with:  <code>MaterialPageRoute(builder: (context) =&gt; SecondRoute(context: context))</code>. I have update code above"}], "owner": {"reputation": 1313, "user_id": 10654377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f9e82bf491680b7eea3b43a7c5d002?s=128&d=identicon&r=PG&f=1", "display_name": "FlutterFirebase", "link": "https://stackoverflow.com/users/10654377/flutterfirebase"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 693, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566404578, "creation_date": 1566333836, "last_edit_date": 1566404578, "question_id": 57581287, "link": "https://stackoverflow.com/questions/57581287/how-to-prevent-provider-from-dispose-model", "title": "How to prevent Provider from dispose model?", "body": "<p>On app homepage I set up <code>Model2</code> which make API call for data. User can then navigate to other page (<code>Navigator.push</code>). But I want make API call from <code>Model2</code> when user press back (<code>_onBackPress()</code>) so can refresh data on homepage. When I make call, it give error:</p>\n\n<blockquote>\n  <p>Unhandled Exception: Error: Could not find the correct\n  Provider above this Consumer Widget</p>\n</blockquote>\n\n<p>If I add <code>Consumer</code> to Page2 it give error:</p>\n\n<blockquote>\n  <p>Error: Could not find the correct Provider above this\n  Consumer Widget</p>\n</blockquote>\n\n<p><code>StatefulWidget</code> in homepage:</p>\n\n<pre><code>@override\n  Widget build(BuildContext context) {\nreturn ChangeNotifierProxyProvider&lt;Model1, Model2&gt;(\ninitialBuilder: (_) =&gt; Model2(),\n  builder: (_, model1, model2) =&gt; model2\n    ..string = model1.string,\n),\n  child: Consumer&lt;Model2&gt;(\n    builder: (context, model2, _) =&gt;\n\n...\n        Navigator.push(\n          context,\n          MaterialPageRoute(builder: (context) =&gt; SecondRoute(context: context)),\n</code></pre>\n\n<p>In Page2: </p>\n\n<pre><code>  final context;\n\n  Page2State({Key key, this.context});\n...\n\n//    Consumer&lt;Model2&gt;(\n//    builder: (context, model2, _) =&gt;\n    ...\n          onWillPop: () =&gt; _onBackPress(context),\n...\n\nFuture&lt;void&gt; _onBackPress(context) async {\n\nfinal model2 = Provider.of&lt;Model2&gt;(context, listen: false);\n\n  return showDialog&lt;void&gt;(\n    context: context,\n    barrierDismissible: false, \n    builder: (BuildContext context) {\n      return \n\n\n    Provider.value(value: model2, child:\n\n\nAlertDialog(\n        title: Text('Back'),\n        content: SingleChildScrollView(\n          child: ListBody(\n            children: &lt;Widget&gt;[\n              Text('Go back'),\n            ],\n          ),\n        ),\n        actions: &lt;Widget&gt;[\n          FlatButton(\n            child: Text('OK'),\n            onPressed: () async {\nawait model2.getData();\n\n              Navigator.of(context).pop();\n            },\n          ),\n        ],\n),\n      );\n    },\n  );\n}\n</code></pre>\n"}, {"tags": ["android", "android-studio", "flutter", "dart", "google-play"], "comments": [{"owner": {"reputation": 5338, "user_id": 1209216, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63a3484cba986a0021642831c7609a93?s=128&d=identicon&r=PG", "display_name": "user1209216", "link": "https://stackoverflow.com/users/1209216/user1209216"}, "edited": false, "score": 0, "creation_date": 1566332977, "post_id": 57581042, "comment_id": 101621713, "body": "What is error message after upload file?"}, {"owner": {"reputation": 521, "user_id": 6732147, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/18f72e6df228b09551f9abcfa7b78d10?s=128&d=identicon&r=PG&f=1", "display_name": "Somomo1q", "link": "https://stackoverflow.com/users/6732147/somomo1q"}, "reply_to_user": {"reputation": 5338, "user_id": 1209216, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63a3484cba986a0021642831c7609a93?s=128&d=identicon&r=PG", "display_name": "user1209216", "link": "https://stackoverflow.com/users/1209216/user1209216"}, "edited": false, "score": 0, "creation_date": 1566333068, "post_id": 57581042, "comment_id": 101621749, "body": "it is &quot;this release is not compliant with the google play 64-bit requirement&quot;"}, {"owner": {"reputation": 2771, "user_id": 6045409, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e1127001433f2ab5bbab9523853e3e4e?s=128&d=identicon&r=PG&f=1", "display_name": "Tokenyet", "link": "https://stackoverflow.com/users/6045409/tokenyet"}, "edited": false, "score": 0, "creation_date": 1566363502, "post_id": 57581042, "comment_id": 101627534, "body": "Have you tried not specify target platform? In recent version, you don&#39;t need to specify anything, but generate 32bit and 64bit by default. At least, my apps are working without warnings."}, {"owner": {"reputation": 521, "user_id": 6732147, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/18f72e6df228b09551f9abcfa7b78d10?s=128&d=identicon&r=PG&f=1", "display_name": "Somomo1q", "link": "https://stackoverflow.com/users/6732147/somomo1q"}, "edited": false, "score": 0, "creation_date": 1566369446, "post_id": 57581042, "comment_id": 101629390, "body": "Mine doesn&#39;t work. I tried everything and i am trying now too..."}], "answers": [{"tags": [], "owner": {"reputation": 134, "user_id": 9854763, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dWyVy00djL0/AAAAAAAAAAI/AAAAAAAAAfY/a4dCILWSpQM/photo.jpg?sz=128", "display_name": "Furkan Ayd\u0131n", "link": "https://stackoverflow.com/users/9854763/furkan-ayd%c4%b1n"}, "is_accepted": false, "score": 0, "last_activity_date": 1566372239, "creation_date": 1566372239, "answer_id": 57586481, "question_id": 57581042, "link": "https://stackoverflow.com/questions/57581042/flutter-google-play-64-bit-requirement-on-play-store/57586481#57586481", "title": "Flutter Google Play 64-bit requirement on play store", "body": "<pre><code>  defaultConfig {\n        applicationId \"net.example.test\"\n        minSdkVersion 21\n        targetSdkVersion 28\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    signingConfigs {\n       release {\n           keyAlias keystoreProperties['keyAlias']\n           keyPassword keystoreProperties['keyPassword']\n           storeFile file(keystoreProperties['storeFile'])\n           storePassword keystoreProperties['storePassword']\n       }\n   }\n\n    buildTypes {\n        release {\n\n         signingConfig signingConfigs.release\n\n            minifyEnabled true\n            useProguard true\n\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n</code></pre>\n\n<p>Here is my configuration and I'm just using <code>flutter build appbundle</code> for building the project. Also, don't forget the change version of the project while publishing from pubspec.yaml.</p>\n"}], "owner": {"reputation": 521, "user_id": 6732147, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/18f72e6df228b09551f9abcfa7b78d10?s=128&d=identicon&r=PG&f=1", "display_name": "Somomo1q", "link": "https://stackoverflow.com/users/6732147/somomo1q"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 513, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566372239, "creation_date": 1566332517, "last_edit_date": 1566333091, "question_id": 57581042, "link": "https://stackoverflow.com/questions/57581042/flutter-google-play-64-bit-requirement-on-play-store", "title": "Flutter Google Play 64-bit requirement on play store", "body": "<p>I can't upload the apk's on google play.\nI try everything about that. I bored....\nI working to this issue about 4 days. \nI try this solutions.</p>\n\n<p>1-)\nAdd key.properties on android project </p>\n\n<pre><code>storePassword=pass\nkeyPassword=pass\nkeyAlias=xxxx\nstoreFile=xxxx.jks\n</code></pre>\n\n<p>Add this lines on build.grandle</p>\n\n<pre><code>defaultConfig{\n        ndk.abiFilters 'armeabi-v7a','arm64-v8a','x86','x86_64'\n    }\n\n\n signingConfigs {\n        release {\n            keyAlias keystoreProperties['keyAlias']\n            keyPassword keystoreProperties['keyPassword']\n            storeFile file(keystoreProperties['storeFile'])\n            storePassword keystoreProperties['storePassword']\n        }\n    }\n  buildTypes {\n        release {\n            if (keystorePropertiesFile.exists()) {\n                signingConfig signingConfigs.release\n                println \"Signing with key.properties\"\n            } else {\n                signingConfig signingConfigs.debug\n                println \"Signing with debug keys\"\n            }\n        }\n    }\n</code></pre>\n\n<p>And i try get apks from android studio. After than i upload the bundle to play store i get some error.\n2-)\nadd this line on build.grandle </p>\n\n<pre><code>splits {\n        abi {\n            enable true\n            reset()\n            include \"armeabi-v7a\", \"arm64-v8a\"\n            universalApk false\n        }\n    }\n</code></pre>\n\n<p>it's doesn't work too.</p>\n\n<p>3-) I get bundle from flutter CLI on this bash script </p>\n\n<pre><code>flutter build appbundle --release --target-platform=android-arm64\n</code></pre>\n\n<p>it's again doesnt work.</p>\n\n<p>4-) I get bundle from flutter CLI on this bash script </p>\n\n<pre><code>flutter build apk --split-per-abi\n</code></pre>\n\n<p>it's again doesnt work.</p>\n\n<p>Flutter --version result is ;</p>\n\n<pre><code>Flutter 1.7.8+hotfix.4 \u2022 channel stable \u2022 https://github.com/flutter/flutter.git\nFramework \u2022 revision 20e59316b8 (5 weeks ago) \u2022 2019-07-18 20:04:33 -0700\nEngine \u2022 revision fee001c93f\nTools \u2022 Dart 2.4.0\n</code></pre>\n\n<p>Google play store error is </p>\n\n<blockquote>\n  <p>This release is not compliant with the google play 64-bit requirement</p>\n</blockquote>\n"}, {"tags": ["flutter", "dart", "mapbox"], "owner": {"reputation": 23, "user_id": 6698419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/746b5c1a93f6f7952e733684228f2424?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos A. Blanco", "link": "https://stackoverflow.com/users/6698419/carlos-a-blanco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 312, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1566331807, "creation_date": 1566331807, "question_id": 57580916, "link": "https://stackoverflow.com/questions/57580916/mapbox-map-not-being-displayed-when-using-flutter", "title": "MapBox Map Not Being Displayed When Using Flutter", "body": "<p>I'm in the beginning stages of trying to display a map in my recently created Flutter app. Thing is, I only get a blank screen instead of the map I created using the built-in studio tool on MapBox.com.   </p>\n\n<p>I've tried modifying 'Info.plist' inside my iOS folder for the project I'm working without much success.</p>\n\n<pre><code>class _HomePageState extends State&lt;HomePage&gt; {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: new AppBar(\n        centerTitle: true,\n        title: new Text(\"Orlando\"),\n        actions: &lt;Widget&gt;[\n          IconButton(\n              icon: Icon(FontAwesomeIcons.mapMarkerAlt), onPressed: () {}),\n        ],\n      ),\n      body: new FlutterMap(\n        options: new MapOptions(\n          center: new LatLng(51.5, -0.09),\n          zoom: 13.0,\n        ),\n        layers: [\n          new TileLayerOptions(\n            urlTemplate:\n                \"mapbox://styles/carlosblancorocks/cjzk2tc9i5hqd1cpi5oz5gg5y\",\n            additionalOptions: {\n              'accessToken':\n                  'pk.eyJ1IjoiY2FybG9zYmxhbmNvcm9ja3MiLCJhIjoiY2p6azhsYmFkMDAyYTNncWlwZXo4ZWJ1cyJ9.ZD6ww-uwtXAM13ZCgRTqZw',\n              'id': 'mapbox.mapbox-streets-v8',\n            },\n          ),\n          new MarkerLayerOptions(\n            markers: [\n              new Marker(\n                width: 80.0,\n                height: 80.0,\n                point: new LatLng(51.5, -0.09),\n                builder: (ctx) =&gt; new Container(\n                      child: IconButton(\n                        icon: Icon(Icons.location_on),\n                        color: Colors.red,\n                        iconSize: 45.0,\n                        onPressed: () {\n                          print('yeahaa');\n                        },\n                      ),\n                    ),\n              ),\n            ],\n          ),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>Eror I get: <a href=\"https://i.imgur.com/35JvCUY.png\" rel=\"nofollow noreferrer\">https://i.imgur.com/35JvCUY.png</a></p>\n"}, {"tags": ["flutter", "dart", "flutter-provider"], "answers": [{"comments": [{"owner": {"reputation": 1313, "user_id": 10654377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f9e82bf491680b7eea3b43a7c5d002?s=128&d=identicon&r=PG&f=1", "display_name": "FlutterFirebase", "link": "https://stackoverflow.com/users/10654377/flutterfirebase"}, "edited": false, "score": 0, "creation_date": 1566330702, "post_id": 57580651, "comment_id": 101620899, "body": "Thanks!         <code>ChangeNotifierProvider(builder: (context) =&gt; Model2,</code> also work I think! I not know difference with <code>ChangeNotifierProvider.value</code>"}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "reply_to_user": {"reputation": 1313, "user_id": 10654377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f9e82bf491680b7eea3b43a7c5d002?s=128&d=identicon&r=PG&f=1", "display_name": "FlutterFirebase", "link": "https://stackoverflow.com/users/10654377/flutterfirebase"}, "edited": false, "score": 0, "creation_date": 1566331436, "post_id": 57580651, "comment_id": 101621173, "body": "No, don&#39;t use it. It will dispose the notifier when you leave the route, which is undesired."}], "tags": [], "owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "is_accepted": false, "score": 0, "last_activity_date": 1566330584, "creation_date": 1566330584, "answer_id": 57580651, "question_id": 57580586, "link": "https://stackoverflow.com/questions/57580586/how-to-pass-context-to-second-widget-tree-for-provider/57580651#57580651", "title": "How to pass context to second widget tree for provider", "body": "<p>Instead of <code>Provider.value</code> you should use <code>ChangeNotifierProvider.value</code></p>\n"}], "owner": {"reputation": 1313, "user_id": 10654377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f9e82bf491680b7eea3b43a7c5d002?s=128&d=identicon&r=PG&f=1", "display_name": "FlutterFirebase", "link": "https://stackoverflow.com/users/10654377/flutterfirebase"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 5473, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1566330584, "creation_date": 1566330315, "question_id": 57580586, "link": "https://stackoverflow.com/questions/57580586/how-to-pass-context-to-second-widget-tree-for-provider", "title": "How to pass context to second widget tree for provider", "body": "<p>I am try <strong>pass context to second widget tree</strong> (in function) but I get error:</p>\n\n<blockquote>\n  <p>Tried to use Provider with a subtype of Listenable/Stream (Model2).\n  This is likely a mistake, as Provider will not automatically update\n  dependents when Model2 is updated. Instead, consider changing Provider\n  for more specific implementation that handles the update mecanism,\n  such as: \n  - ListenableProvider\n  - ChangeNotifierProvider\n  - ValueListenableProvider \n  - StreamProvider</p>\n</blockquote>\n\n<pre><code>Future&lt;void&gt; _neverSatisfied({Key key, @required BuildContext context}) async {\n\nfinal model2 = Provider.of&lt;Model2&gt;(context, listen: false);\n\n  return showDialog&lt;void&gt;(\n    context: context,\n    barrierDismissible: false, \n    builder: (BuildContext context) {\n      return \n\n\n    Provider.value(value: model2, child:\n\n\nAlertDialog(\n        title: Text('Rewind and remember'),\n        content: SingleChildScrollView(\n          child: ListBody(\n            children: &lt;Widget&gt;[\n              Text('You will never be satisfied.'),\n              Text('You\\\u2019re like me. I\u2019m never satisfied.'),\n            ],\n          ),\n        ),\n        actions: &lt;Widget&gt;[\n          FlatButton(\n            child: Text('Regret'),\n            onPressed: () async {\nawait model2.getData();\n\n              Navigator.of(context).pop();\n            },\n          ),\n        ],\n),\n      );\n    },\n  );\n}\n</code></pre>\n\n<p>First widget in same <code>StatefulWidget</code>:</p>\n\n<pre><code>@override\n  Widget build(BuildContext context) {\nreturn ChangeNotifierProxyProvider&lt;Model1, Model2&gt;(\ninitialBuilder: (_) =&gt; Model2(),\n  builder: (_, model1, model2) =&gt; model2\n    ..string = model1.string,\n),\n  child: Consumer&lt;Model2&gt;(\n    builder: (context, model2, _) =&gt;\n</code></pre>\n\n<p>Second (<strong>I pass context from here</strong>):</p>\n\n<pre><code>  @override\n  Widget buildStep(BuildContext context) {\n  Consumer&lt;Model2&gt;(\n    builder: (context, model2, _) =&gt;\n...\n\n   _neverSatisfied(context: context); //**pass context**\n</code></pre>\n"}, {"tags": ["flutter", "dart", "flutter-animation", "flutter-test"], "answers": [{"tags": [], "owner": {"reputation": 1000, "user_id": 2551290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C2sDB.jpg?s=128&g=1", "display_name": "Tour&#233; Holder", "link": "https://stackoverflow.com/users/2551290/tour%c3%a9-holder"}, "is_accepted": true, "score": 4, "last_activity_date": 1573169991, "creation_date": 1573169991, "answer_id": 58758424, "question_id": 57580244, "link": "https://stackoverflow.com/questions/57580244/flutter-showmodalbottomsheet-ticker-was-not-disposed-during-tests/58758424#58758424", "title": "Flutter `showModalBottomSheet` Ticker was not disposed during tests", "body": "<p>Try tapping any visible widget that isn't in the bottom sheet and triggering a frame before the end of your test. This will dismiss the bottom sheet and dispose of it's <code>AnimationContoller</code> before the test exits.</p>\n\n<p>For example at the end of your test: </p>\n\n<pre><code>await tester.tap(find.byType(BackButtonIcon)); // any widget that isn't in the bottom sheet\nawait tester.pump();\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 5233474, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zh_9l7CyBzk/AAAAAAAAAAI/AAAAAAAAABA/kNaR4qFcldI/photo.jpg?sz=128", "display_name": "theGiantOtter", "link": "https://stackoverflow.com/users/5233474/thegiantotter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1128, "favorite_count": 1, "accepted_answer_id": 58758424, "answer_count": 1, "score": 2, "last_activity_date": 1573261918, "creation_date": 1566328677, "last_edit_date": 1573261918, "question_id": 57580244, "link": "https://stackoverflow.com/questions/57580244/flutter-showmodalbottomsheet-ticker-was-not-disposed-during-tests", "title": "Flutter `showModalBottomSheet` Ticker was not disposed during tests", "body": "<p>When writing a Flutter widget test I'm running into an error where the Ticker that was created during showModalBottomSheet() is not being disposed of.</p>\n\n<p>I think I understand if I'm implementing my own Flutter animation I should make an AnimationController, and I would call <code>AnimationController.dispose()</code> during the widget <code>dispose</code> method.</p>\n\n<p>However, since (I believe) the AnimationController is abstracted away to provide some convenience I'm not sure where or how to make sure the widget is disposed of after the tests are done. </p>\n\n<p>Note: the code works and when I'm testing on the simulator/emulator the modal bottom sheet is great. I just want to be able to test it in a <code>testWidgets</code> test.</p>\n\n<p>I've looked at the showModalBottomSheet documentation <a href=\"https://api.flutter.dev/flutter/material/showModalBottomSheet.html\" rel=\"nofollow noreferrer\">https://api.flutter.dev/flutter/material/showModalBottomSheet.html</a> but that has only shown how to use the function. I'm not finding any way to control when I can dispose of the animation. </p>\n\n<h3>test_test.dart</h3>\n\n<p>(extra <code>pump()</code> in there in case of an async issue but it doesn't seem to help)</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>testWidgets('Taping edit score button brings up bottom sheet to edit',\n      (WidgetTester tester) async {\n    setUp();\n    await tester.pumpWidget(MaterialApp(\n      home: GameList(\n        game: Game(players: players),\n      ),\n    ));\n    await tester.tap(find.byKey(Key('p1-edit-score')));\n    await tester.pump();\n    await tester.pump();\n    expect(find.byKey(Key('test')), findsOneWidget);\n    await tester.tap(find.byKey(Key('tap-me')));\n    await tester.pump();\n    await tester.pump();\n    tearDown();\n  });\n</code></pre>\n\n<h3>game_view.dart</h3>\n\n<pre class=\"lang-dart prettyprint-override\"><code>\nclass GameView extends StatefulWidget {\n  GameView({@required this.playerList, @required this.onResetPlayerScores});\n\n  final Function onResetPlayerScores;\n  final List&lt;Player&gt; playerList;\n\n  @override\n  _GameState createState() =&gt; _GameState();\n}\n\nclass _GameState extends State&lt;GameView&gt; {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(...),\n      body: GameList(\n        game: Game(players: widget.playerList),\n      ),\n    );\n  }\n}\n\n</code></pre>\n\n<h3>game_list.dart</h3>\n\n<p>some widgets taken out for brevity </p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class GameList extends StatefulWidget {\n  GameList({@required this.game});\n\n  final Game game;\n\n  @override\n  GameListState createState() =&gt; GameListState(game: game);\n}\n\nclass GameListState extends State&lt;GameList&gt; {\n  GameListState({@required this.game});\n\n  final Game game;\n\n  @override\n  Widget build(BuildContext context) {\n    return ListView.separated(\n      shrinkWrap: true,\n      itemCount: game.players.length,\n      itemBuilder: (BuildContext context, int index) {\n        return Card(\n          child: Column(\n            children: &lt;Widget&gt;[\n              ListTile(\n                trailing: Text(\n                  '${game.players[index].score.toInt()}',\n                ),\n                title: Text(\n                  '${game.players[index].name}',\n                ),\n              ),\n              Row(\n                children: &lt;Widget&gt;[\n                  FlatButton(\n                    child: Icon(\n                      Icons.edit,\n                      color: Colors.grey[700],\n                    ),\n                    onPressed: () async {\n                      _settingModalBottomSheet(context);\n                    },\n                    key: Key(\n                      '${game.players[index].name}-edit-score',\n                    ),\n                  ),\n                ],\n              ),\n            ],\n          ),\n        );\n      },\n      separatorBuilder: (BuildContext context, int index) =&gt; const Divider(),\n    );\n  }\n}\n\nvoid _settingModalBottomSheet(context) {\n  showModalBottomSheet(\n    context: context,\n    builder: (BuildContext buildContext) {\n      return Center(\n        child: Container(\n          child: Wrap(\n            children: &lt;Widget&gt;[\n              Text(\n                'edit',\n                key: Key('test'),\n              ),\n              ListTile(\n                leading: Icon(Icons.edit),\n                title: Text('Video'),\n                onTap: () {\n                  Navigator.pop(context, 'video');\n                },\n                key: Key('tap-me'),\n              ),\n            ],\n          ),\n        ),\n      );\n    },\n  );\n}\n</code></pre>\n\n<h3>short Output of <code>flutter test</code>. The most important part I think.</h3>\n\n<pre><code>OverlayState created a Ticker via its TickerProviderStateMixin, but at the time dispose() was called\non the mixin, that Ticker was still active. All Tickers must be disposed before calling\nsuper.dispose(). Tickers used by AnimationControllers should be disposed by calling dispose() on the\nAnimationController itself. Otherwise, the ticker will leak.\n</code></pre>\n\n<h3>full output of <code>flutter test</code></h3>\n\n<pre><code>The following assertion was thrown while finalizing the widget tree:\nOverlayState#bfe06(tickers: tracking 1 ticker, entries: [OverlayEntry#c26ee(opaque: false;\nmaintainState: false), OverlayEntry#7cd4f(opaque: false; maintainState: true),\nOverlayEntry#d496e(opaque: false; maintainState: false), OverlayEntry#e9ad3(opaque: false;\nmaintainState: true)]) was disposed with an active Ticker.\nOverlayState created a Ticker via its TickerProviderStateMixin, but at the time dispose() was called\non the mixin, that Ticker was still active. All Tickers must be disposed before calling\nsuper.dispose(). Tickers used by AnimationControllers should be disposed by calling dispose() on the\nAnimationController itself. Otherwise, the ticker will leak.\nThe offending ticker was: _WidgetTicker(created by OverlayState#bfe06(tickers: tracking 0 tickers,\nentries: [OverlayEntry#c26ee(opaque: false; maintainState: false), OverlayEntry#7cd4f(opaque: false;\nmaintainState: true)]))\nThe stack trace when the _WidgetTicker was actually created was:\n#0      new Ticker.&lt;anonymous closure&gt; (package:flutter/src/scheduler/ticker.dart:64:40)\n#1      new Ticker (package:flutter/src/scheduler/ticker.dart:66:6)\n#2      new _WidgetTicker (package:flutter/src/widgets/ticker_provider.dart:225:80)\n#3      _OverlayState&amp;State&amp;TickerProviderStateMixin.createTicker\n(package:flutter/src/widgets/ticker_provider.dart:161:34)\n#4      new AnimationController (package:flutter/src/animation/animation_controller.dart:245:21)\n#5      BottomSheet.createAnimationController\n(package:flutter/src/material/bottom_sheet.dart:128:12)\n#6      _ModalBottomSheetRoute.createAnimationController\n(package:flutter/src/material/bottom_sheet.dart:356:40)\n#7      TransitionRoute.install (package:flutter/src/widgets/routes.dart:176:19)\n#8      ModalRoute.install (package:flutter/src/widgets/routes.dart:907:11)\n#9      NavigatorState.push (package:flutter/src/widgets/navigator.dart:1754:11)\n#10     Navigator.push (package:flutter/src/widgets/navigator.dart:1093:34)\n#11     showModalBottomSheet (package:flutter/src/material/bottom_sheet.dart:427:20)\n#12     _settingModalBottomSheet (package:score_keeper/game_list.dart:98:3)\n#13     GameListState.build.&lt;anonymous closure&gt;.&lt;anonymous closure&gt;\n(package:score_keeper/game_list.dart:65:23)\n&lt;asynchronous suspension&gt;\n#14     _InkResponseState._handleTap (package:flutter/src/material/ink_well.dart:635:14)\n#15     _InkResponseState.build.&lt;anonymous closure&gt;\n(package:flutter/src/material/ink_well.dart:711:32)\n#16     GestureRecognizer.invokeCallback (package:flutter/src/gestures/recognizer.dart:182:24)\n#17     TapGestureRecognizer._checkUp (package:flutter/src/gestures/tap.dart:365:11)\n#18     TapGestureRecognizer.acceptGesture (package:flutter/src/gestures/tap.dart:312:7)\n#19     GestureArenaManager.sweep (package:flutter/src/gestures/arena.dart:156:27)\n#20\n_TestWidgetsFlutterBinding&amp;BindingBase&amp;ServicesBinding&amp;SchedulerBinding&amp;GestureBinding.handleEvent\n(package:flutter/src/gestures/binding.dart:222:20)\n#21\n_TestWidgetsFlutterBinding&amp;BindingBase&amp;ServicesBinding&amp;SchedulerBinding&amp;GestureBinding.dispatchEvent\n(package:flutter/src/gestures/binding.dart:198:22)\n#22     TestWidgetsFlutterBinding.dispatchEvent (package:flutter_test/src/binding.dart:365:11)\n#23     WidgetTester.sendEventToBinding.&lt;anonymous closure&gt;\n(package:flutter_test/src/widget_tester.dart:458:15)\n#25     WidgetTester.sendEventToBinding.&lt;anonymous closure&gt;\n(package:flutter_test/src/widget_tester.dart:457:39)\n#28     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:69:41)\n#29     WidgetTester.sendEventToBinding (package:flutter_test/src/widget_tester.dart:457:27)\n#30     TestGesture.up.&lt;anonymous closure&gt; (package:flutter_test/src/test_pointer.dart:422:13)\n#32     TestGesture.up.&lt;anonymous closure&gt; (package:flutter_test/src/test_pointer.dart:420:39)\n#35     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:69:41)\n#36     TestGesture.up (package:flutter_test/src/test_pointer.dart:420:27)\n#37     WidgetController.tapAt.&lt;anonymous closure&gt; (package:flutter_test/src/controller.dart:263:21)\n#51     WidgetController.startGesture (package:flutter_test/src/controller.dart)\n#75     AutomatedTestWidgetsFlutterBinding.runTest.&lt;anonymous closure&gt;\n(package:flutter_test/src/binding.dart:1026:17)\n#77     AutomatedTestWidgetsFlutterBinding.runTest.&lt;anonymous closure&gt;\n(package:flutter_test/src/binding.dart:1014:35)\n(elided 58 frames from class _FakeAsync, package dart:async, package dart:async-patch, and package\nstack_trace)\n\n\nWhen the exception was thrown, this was the stack:\n#0      _OverlayState&amp;State&amp;TickerProviderStateMixin.dispose.&lt;anonymous closure&gt; (package:flutter/src/widgets/ticker_provider.dart:178:13)\n#1      _OverlayState&amp;State&amp;TickerProviderStateMixin.dispose (package:flutter/src/widgets/ticker_provider.dart:191:6)\n#2      StatefulElement.unmount (package:flutter/src/widgets/framework.dart:4107:12)\n#3      _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1737:13)\n#4      _InactiveElements._unmount.&lt;anonymous closure&gt; (package:flutter/src/widgets/framework.dart:1735:7)\n#5      ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:3955:14)\n#6      _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1733:13)\n#7      _InactiveElements._unmount.&lt;anonymous closure&gt; (package:flutter/src/widgets/framework.dart:1735:7)\n#8      SingleChildRenderObjectElement.visitChildren (package:flutter/src/widgets/framework.dart:5080:14)\n#9      _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1733:13)\n#10     _InactiveElements._unmount.&lt;anonymous closure&gt; (package:flutter/src/widgets/framework.dart:1735:7)\n#11     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:3955:14)\n#12     _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1733:13)\n#13     _InactiveElements._unmount.&lt;anonymous closure&gt; (package:flutter/src/widgets/framework.dart:1735:7)\n#14     SingleChildRenderObjectElement.visitChildren (package:flutter/src/widgets/framework.dart:5080:14)\n#15     _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1733:13)\n#16     _InactiveElements._unmount.&lt;anonymous closure&gt; (package:flutter/src/widgets/framework.dart:1735:7)\n#17     SingleChildRenderObjectElement.visitChildren (package:flutter/src/widgets/framework.dart:5080:14)\n#18     _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1733:13)\n#19     _InactiveElements._unmount.&lt;anonymous closure&gt; (package:flutter/src/widgets/framework.dart:1735:7)\n#20     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:3955:14)\n#21     _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1733:13)\n#22     _InactiveElements._unmount.&lt;anonymous closure&gt; (package:flutter/src/widgets/framework.dart:1735:7)\n#23     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:3955:14)\n#24     _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1733:13)\n#25     _InactiveElements._unmount.&lt;anonymous closure&gt; (package:flutter/src/widgets/framework.dart:1735:7)\n#26     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:3955:14)\n#27     _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1733:13)\n#28     _InactiveElements._unmount.&lt;anonymous closure&gt; (package:flutter/src/widgets/framework.dart:1735:7)\n#29     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:3955:14)\n#30     _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1733:13)\n#31     _InactiveElements._unmount.&lt;anonymous closure&gt; (package:flutter/src/widgets/framework.dart:1735:7)\n#32     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:3955:14)\n#33     _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1733:13)\n#34     _InactiveElements._unmount.&lt;anonymous closure&gt; (package:flutter/src/widgets/framework.dart:1735:7)\n#35     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:3955:14)\n#36     _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1733:13)\n#37     _InactiveElements._unmount.&lt;anonymous closure&gt; (package:flutter/src/widgets/framework.dart:1735:7)\n#38     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:3955:14)\n#39     _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1733:13)\n#40     _InactiveElements._unmount.&lt;anonymous closure&gt; (package:flutter/src/widgets/framework.dart:1735:7)\n#41     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:3955:14)\n#42     _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1733:13)\n#43     _InactiveElements._unmount.&lt;anonymous closure&gt; (package:flutter/src/widgets/framework.dart:1735:7)\n#44     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:3955:14)\n#45     _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1733:13)\n#46     _InactiveElements._unmount.&lt;anonymous closure&gt; (package:flutter/src/widgets/framework.dart:1735:7)\n#47     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:3955:14)\n#48     _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1733:13)\n#49     _InactiveElements._unmount.&lt;anonymous closure&gt; (package:flutter/src/widgets/framework.dart:1735:7)\n#50     SingleChildRenderObjectElement.visitChildren (package:flutter/src/widgets/framework.dart:5080:14)\n#51     _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1733:13)\n#52     _InactiveElements._unmount.&lt;anonymous closure&gt; (package:flutter/src/widgets/framework.dart:1735:7)\n#53     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:3955:14)\n#54     _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1733:13)\n#55     _InactiveElements._unmount.&lt;anonymous closure&gt; (package:flutter/src/widgets/framework.dart:1735:7)\n#56     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:3955:14)\n#57     _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1733:13)\n#58     _InactiveElements._unmount.&lt;anonymous closure&gt; (package:flutter/src/widgets/framework.dart:1735:7)\n#59     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:3955:14)\n#60     _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1733:13)\n#61     _InactiveElements._unmount.&lt;anonymous closure&gt; (package:flutter/src/widgets/framework.dart:1735:7)\n#62     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:3955:14)\n#63     _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1733:13)\n#64     _InactiveElements._unmount.&lt;anonymous closure&gt; (package:flutter/src/widgets/framework.dart:1735:7)\n#65     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:3955:14)\n#66     _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1733:13)\n#67     _InactiveElements._unmount.&lt;anonymous closure&gt; (package:flutter/src/widgets/framework.dart:1735:7)\n#68     SingleChildRenderObjectElement.visitChildren (package:flutter/src/widgets/framework.dart:5080:14)\n#69     _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1733:13)\n#70     _InactiveElements._unmount.&lt;anonymous closure&gt; (package:flutter/src/widgets/framework.dart:1735:7)\n#71     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:3955:14)\n#72     _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1733:13)\n#73     _InactiveElements._unmount.&lt;anonymous closure&gt; (package:flutter/src/widgets/framework.dart:1735:7)\n#74     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:3955:14)\n#75     _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1733:13)\n#76     _InactiveElements._unmount.&lt;anonymous closure&gt; (package:flutter/src/widgets/framework.dart:1735:7)\n#77     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:3955:14)\n#78     _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1733:13)\n#79     _InactiveElements._unmount.&lt;anonymous closure&gt; (package:flutter/src/widgets/framework.dart:1735:7)\n#80     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:3955:14)\n#81     _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1733:13)\n#82     _InactiveElements._unmount.&lt;anonymous closure&gt; (package:flutter/src/widgets/framework.dart:1735:7)\n#83     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:3955:14)\n#84     _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1733:13)\n#85     _InactiveElements._unmount.&lt;anonymous closure&gt; (package:flutter/src/widgets/framework.dart:1735:7)\n#86     ComponentElement.visitChildren (package:flutter/src/widgets/framework.dart:3955:14)\n#87     _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1733:13)\n#88     ListIterable.forEach (dart:_internal/iterable.dart:39:13)\n#89     _InactiveElements._unmountAll (package:flutter/src/widgets/framework.dart:1746:25)\n#90     BuildOwner.finalizeTree.&lt;anonymous closure&gt; (package:flutter/src/widgets/framework.dart:2426:27)\n#91     BuildOwner.lockState (package:flutter/src/widgets/framework.dart:2258:15)\n#92     BuildOwner.finalizeTree (package:flutter/src/widgets/framework.dart:2425:7)\n#93     AutomatedTestWidgetsFlutterBinding.drawFrame (package:flutter_test/src/binding.dart:953:18)\n#94     _TestWidgetsFlutterBinding&amp;BindingBase&amp;ServicesBinding&amp;SchedulerBinding&amp;GestureBinding&amp;SemanticsBinding&amp;RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:285:5)\n#95     _TestWidgetsFlutterBinding&amp;BindingBase&amp;ServicesBinding&amp;SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1016:15)\n#96     _TestWidgetsFlutterBinding&amp;BindingBase&amp;ServicesBinding&amp;SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:958:9)\n#97     AutomatedTestWidgetsFlutterBinding.scheduleWarmUpFrame (package:flutter_test/src/binding.dart:915:5)\n#98     runApp (package:flutter/src/widgets/binding.dart:787:7)\n#99     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:637:7)\n&lt;asynchronous suspension&gt;\n#102    TestWidgetsFlutterBinding._runTest (package:flutter_test/src/binding.dart:613:14)\n#103    AutomatedTestWidgetsFlutterBinding.runTest.&lt;anonymous closure&gt; (package:flutter_test/src/binding.dart:1010:24)\n#109    AutomatedTestWidgetsFlutterBinding.runTest (package:flutter_test/src/binding.dart:1007:15)\n#110    testWidgets.&lt;anonymous closure&gt; (package:flutter_test/src/widget_tester.dart:116:22)\n#111    Declarer.test.&lt;anonymous closure&gt;.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:test_api/src/backend/declarer.dart:168:27)\n&lt;asynchronous suspension&gt;\n#112    Invoker.waitForOutstandingCallbacks.&lt;anonymous closure&gt; (package:test_api/src/backend/invoker.dart:250:15)\n&lt;asynchronous suspension&gt;\n#117    Invoker.waitForOutstandingCallbacks (package:test_api/src/backend/invoker.dart:247:5)\n#118    Declarer.test.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:test_api/src/backend/declarer.dart:166:33)\n#123    Declarer.test.&lt;anonymous closure&gt; (package:test_api/src/backend/declarer.dart:165:13)\n&lt;asynchronous suspension&gt;\n#124    Invoker._onRun.&lt;anonymous closure&gt;.&lt;anonymous closure&gt;.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:test_api/src/backend/invoker.dart:400:25)\n&lt;asynchronous suspension&gt;\n#138    _Timer._runTimers (dart:isolate-patch/timer_impl.dart:382:19)\n#139    _Timer._handleMessage (dart:isolate-patch/timer_impl.dart:416:5)\n#140    _RawReceivePortImpl._handleMessage (dart:isolate-patch/isolate_patch.dart:172:12)\n(elided 28 frames from class _FakeAsync, package dart:async, package dart:async-patch, and package stack_trace)\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\u2550\u2550\u2561 EXCEPTION CAUGHT BY SCHEDULER LIBRARY \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nThe following message was thrown:\nAn animation is still running even after the widget tree was disposed.\n\nThere was one transient callback left. The stack trace for when it was registered is as follows:\n\u2500\u2500 callback 72 \u2500\u2500\n#0      new _FrameCallbackEntry.&lt;anonymous closure&gt; (package:flutter/src/scheduler/binding.dart:112:33)\n#1      new _FrameCallbackEntry (package:flutter/src/scheduler/binding.dart:115:6)\n#2      _TestWidgetsFlutterBinding&amp;BindingBase&amp;ServicesBinding&amp;SchedulerBinding.scheduleFrameCallback (package:flutter/src/scheduler/binding.dart:459:49)\n#3      Ticker.scheduleTick (package:flutter/src/scheduler/ticker.dart:243:46)\n#4      Ticker.start (package:flutter/src/scheduler/ticker.dart:159:7)\n#5      AnimationController._startSimulation (package:flutter/src/animation/animation_controller.dart:685:41)\n#6      AnimationController._animateToInternal (package:flutter/src/animation/animation_controller.dart:590:12)\n#7      AnimationController.forward (package:flutter/src/animation/animation_controller.dart:458:12)\n#8      TransitionRoute.didPush (package:flutter/src/widgets/routes.dart:188:24)\n#9      ModalRoute.didPush (package:flutter/src/widgets/routes.dart:917:18)\n#10     NavigatorState.push (package:flutter/src/widgets/navigator.dart:1756:11)\n#11     Navigator.push (package:flutter/src/widgets/navigator.dart:1093:34)\n#12     showModalBottomSheet (package:flutter/src/material/bottom_sheet.dart:427:20)\n#13     _settingModalBottomSheet (package:score_keeper/game_list.dart:98:3)\n#14     GameListState.build.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:score_keeper/game_list.dart:65:23)\n&lt;asynchronous suspension&gt;\n#15     _InkResponseState._handleTap (package:flutter/src/material/ink_well.dart:635:14)\n#16     _InkResponseState.build.&lt;anonymous closure&gt; (package:flutter/src/material/ink_well.dart:711:32)\n#17     GestureRecognizer.invokeCallback (package:flutter/src/gestures/recognizer.dart:182:24)\n#18     TapGestureRecognizer._checkUp (package:flutter/src/gestures/tap.dart:365:11)\n#19     TapGestureRecognizer.acceptGesture (package:flutter/src/gestures/tap.dart:312:7)\n#20     GestureArenaManager.sweep (package:flutter/src/gestures/arena.dart:156:27)\n#21     _TestWidgetsFlutterBinding&amp;BindingBase&amp;ServicesBinding&amp;SchedulerBinding&amp;GestureBinding.handleEvent (package:flutter/src/gestures/binding.dart:222:20)\n#22     _TestWidgetsFlutterBinding&amp;BindingBase&amp;ServicesBinding&amp;SchedulerBinding&amp;GestureBinding.dispatchEvent (package:flutter/src/gestures/binding.dart:198:22)\n#23     TestWidgetsFlutterBinding.dispatchEvent (package:flutter_test/src/binding.dart:365:11)\n#24     WidgetTester.sendEventToBinding.&lt;anonymous closure&gt; (package:flutter_test/src/widget_tester.dart:458:15)\n#26     WidgetTester.sendEventToBinding.&lt;anonymous closure&gt; (package:flutter_test/src/widget_tester.dart:457:39)\n#29     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:69:41)\n#30     WidgetTester.sendEventToBinding (package:flutter_test/src/widget_tester.dart:457:27)\n#31     TestGesture.up.&lt;anonymous closure&gt; (package:flutter_test/src/test_pointer.dart:422:13)\n#33     TestGesture.up.&lt;anonymous closure&gt; (package:flutter_test/src/test_pointer.dart:420:39)\n#36     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:69:41)\n#37     TestGesture.up (package:flutter_test/src/test_pointer.dart:420:27)\n#38     WidgetController.tapAt.&lt;anonymous closure&gt; (package:flutter_test/src/controller.dart:263:21)\n#52     WidgetController.startGesture (package:flutter_test/src/controller.dart)\n#76     AutomatedTestWidgetsFlutterBinding.runTest.&lt;anonymous closure&gt; (package:flutter_test/src/binding.dart:1026:17)\n#78     AutomatedTestWidgetsFlutterBinding.runTest.&lt;anonymous closure&gt; (package:flutter_test/src/binding.dart:1014:35)\n(elided 58 frames from class _FakeAsync, package dart:async, package dart:async-patch, and package stack_trace)\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\u2550\u2550\u2561 EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nThe following message was thrown:\nMultiple exceptions (2) were detected during the running of the current test, and at least one was\nunexpected.\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n00:04 +25 -1: /Users/tsustare/src/projects/flutter-score-keeper/score_keeper/test/game_view_test.dart: Taping edit score button brings up bottom sheet to edit [E]\n  Test failed. See exception logs above.\n  The test description was: Taping edit score button brings up bottom sheet to edit```\n</code></pre>\n"}, {"tags": ["flutter", "dart", "setstate"], "comments": [{"owner": {"reputation": 1294, "user_id": 693319, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/arlct.jpg?s=128&g=1", "display_name": "Claudio Castro", "link": "https://stackoverflow.com/users/693319/claudio-castro"}, "edited": false, "score": 0, "creation_date": 1566321457, "post_id": 57578121, "comment_id": 101617225, "body": "change &quot;onPressed: (){_onItemIndexChanged(null);},&quot;  by &quot;onPressed: _onItemIndexChanged(null),&quot;"}, {"owner": {"reputation": 428, "user_id": 11370121, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V21op.png?s=128&g=1", "display_name": "Pyth0nGh057", "link": "https://stackoverflow.com/users/11370121/pyth0ngh057"}, "reply_to_user": {"reputation": 1294, "user_id": 693319, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/arlct.jpg?s=128&g=1", "display_name": "Claudio Castro", "link": "https://stackoverflow.com/users/693319/claudio-castro"}, "edited": false, "score": 0, "creation_date": 1566322009, "post_id": 57578121, "comment_id": 101617429, "body": "If I do this I have a cascade of error : <code>E&#47;flutter (27746): [ERROR:flutter&#47;lib&#47;ui&#47;ui_dart_state.cc(148)] Unhandled Exception: This ticker was canceled: Ticker(created by _DonutPieChartCardState#b7d94(lifecycle state: created)) E&#47;flutter (27746): null</code>"}, {"owner": {"reputation": 1294, "user_id": 693319, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/arlct.jpg?s=128&g=1", "display_name": "Claudio Castro", "link": "https://stackoverflow.com/users/693319/claudio-castro"}, "edited": false, "score": 0, "creation_date": 1566322159, "post_id": 57578121, "comment_id": 101617486, "body": "It makes no sense, there is no difference between one and the other. It is difficult to verify your code because it has a lot of dependence on it that are not listed. but you will see that if you comment on its function and put only one print on it, it is being called."}, {"owner": {"reputation": 1294, "user_id": 693319, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/arlct.jpg?s=128&g=1", "display_name": "Claudio Castro", "link": "https://stackoverflow.com/users/693319/claudio-castro"}, "edited": false, "score": 0, "creation_date": 1566322387, "post_id": 57578121, "comment_id": 101617590, "body": "The ontap is working, the problem is in the function"}, {"owner": {"reputation": 428, "user_id": 11370121, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V21op.png?s=128&g=1", "display_name": "Pyth0nGh057", "link": "https://stackoverflow.com/users/11370121/pyth0ngh057"}, "reply_to_user": {"reputation": 1294, "user_id": 693319, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/arlct.jpg?s=128&g=1", "display_name": "Claudio Castro", "link": "https://stackoverflow.com/users/693319/claudio-castro"}, "edited": false, "score": 0, "creation_date": 1566323487, "post_id": 57578121, "comment_id": 101618069, "body": "I think there is a difference. The first time I am giving a function without calling it and the second time I am giving a function and calling it. So the function is executed multiple time (each time the tree is rebuilt I think)"}, {"owner": {"reputation": 428, "user_id": 11370121, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V21op.png?s=128&g=1", "display_name": "Pyth0nGh057", "link": "https://stackoverflow.com/users/11370121/pyth0ngh057"}, "reply_to_user": {"reputation": 1294, "user_id": 693319, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/arlct.jpg?s=128&g=1", "display_name": "Claudio Castro", "link": "https://stackoverflow.com/users/693319/claudio-castro"}, "edited": false, "score": 0, "creation_date": 1566323562, "post_id": 57578121, "comment_id": 101618101, "body": "I am going to try to change my function and I will come back to you when it will be done. Thanks for your help. (sorry for all the dependencies)"}, {"owner": {"reputation": 16930, "user_id": 1032613, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/h4jzP.jpg?s=128&g=1", "display_name": "user1032613", "link": "https://stackoverflow.com/users/1032613/user1032613"}, "reply_to_user": {"reputation": 1294, "user_id": 693319, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/arlct.jpg?s=128&g=1", "display_name": "Claudio Castro", "link": "https://stackoverflow.com/users/693319/claudio-castro"}, "edited": false, "score": 0, "creation_date": 1566347426, "post_id": 57578121, "comment_id": 101625023, "body": "The way you are calling your function is correct. @ClaudioCastro probably meant to say <code>() =&gt; _onItemIndexChanged(null)</code> but it won&#39;t matter. Try commenting out the <code>setState()</code> block in your <code>_onItemIndexChanged</code> function and see if the ripple effect shows?"}, {"owner": {"reputation": 428, "user_id": 11370121, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V21op.png?s=128&g=1", "display_name": "Pyth0nGh057", "link": "https://stackoverflow.com/users/11370121/pyth0ngh057"}, "reply_to_user": {"reputation": 16930, "user_id": 1032613, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/h4jzP.jpg?s=128&g=1", "display_name": "user1032613", "link": "https://stackoverflow.com/users/1032613/user1032613"}, "edited": false, "score": 0, "creation_date": 1566390063, "post_id": 57578121, "comment_id": 101640247, "body": "@user1032613, the problem is coming from the call to <code>setState</code> in my function. If I comment it, I have no issues and the ripple effect shows, but if I de-comment it and comment what is inside, the ripple effect does not show."}], "answers": [{"tags": [], "owner": {"reputation": 1059, "user_id": 2497859, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/20Vbv.png?s=128&g=1", "display_name": "Omatt", "link": "https://stackoverflow.com/users/2497859/omatt"}, "is_accepted": false, "score": 0, "last_activity_date": 1614049220, "creation_date": 1614049220, "answer_id": 66326440, "question_id": 57578121, "link": "https://stackoverflow.com/questions/57578121/flutter-inkwell-not-working-when-changing-ontap-method/66326440#66326440", "title": "Flutter - InkWell not working when changing &#39;onTap&#39; method", "body": "<p><code>onTap: customFunction</code>, <code>onTap: (){customFunction();}</code>, and <code>onTap: () =&gt; customFunction()</code> all perform the same. My initial impression was that maybe <code>setState()</code> builds the screen again before the ripple effect is rendered. However, I tested your repro locally but having <code>setState()</code> in a function called from <code>onTap</code> still renders the ripple animation.</p>\n<p><a href=\"https://i.stack.imgur.com/Qe7xG.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qe7xG.gif\" alt=\"Demo\" /></a></p>\n<p>I've added this snippet on the Flutter demo app</p>\n<pre class=\"lang-dart prettyprint-override\"><code>Center(\n  child: Ink(\n    height: 120,\n    width: 120,\n    decoration: BoxDecoration(shape: BoxShape.circle),\n    child: InkWell(\n      borderRadius: BorderRadius.circular(60),\n      onTap: () =&gt; _incrementCounter(),\n      splashColor: Colors.red,\n      child: Center(\n        child: Text('Count: $_counter'),\n      ),\n    ),\n  ),\n),\n</code></pre>\n<p>The only part of your repro that I'm unable to run was the functions inside <code>_onItemIndexChanged</code>. Without a complete <a href=\"https://stackoverflow.com/help/mcve\">repro</a>, it'll be difficult to identify the cause of the reported behavior. If removing the functions inside <code>setState()</code> renders the ripple animation, I suggest starting from there to check what might be causing the issue.</p>\n"}], "owner": {"reputation": 428, "user_id": 11370121, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V21op.png?s=128&g=1", "display_name": "Pyth0nGh057", "link": "https://stackoverflow.com/users/11370121/pyth0ngh057"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2112, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1614049220, "creation_date": 1566319201, "last_edit_date": 1566319587, "question_id": 57578121, "link": "https://stackoverflow.com/questions/57578121/flutter-inkwell-not-working-when-changing-ontap-method", "title": "Flutter - InkWell not working when changing &#39;onTap&#39; method", "body": "<p>I am trying to use InkWell widget or RaisedButton so I can display a ripple effect when tapping on widget. </p>\n\n<p>I have no issue when I set up the <code>onTap</code> parameter to <code>(){}</code>, no issue also if I do a simple <code>print</code> inside the function like this <code>(){print(\"hello\");}</code>, but as soon as I call my custom function, the ink well does not appear anymore. I have tried <code>onTap: customFunction,</code> or even <code>onTap: (){customFunction();},</code> but it does not change anything.</p>\n\n<p>My first thought was that the problem was coming from the fact that my function has an optional parameter : </p>\n\n<pre><code>void customFunction([dynamic parameter]){\n}\n</code></pre>\n\n<p>So I tried to call it like this <code>onTap: (){customFunction(null);}</code> or even to create an other function just to call it with a null parameter, but nothing has worked, finally, I have removed the optionality and forced the value to null but again, nothing changed.</p>\n\n<p>My function is calling <code>setState</code> but I do not see why it will change anything.</p>\n\n<p>This is the widget I am using with InkWell :</p>\n\n<pre><code>Center(\n  child: Ink(\n    height: 120,\n    width: 120,\n    decoration: BoxDecoration(shape: BoxShape.circle),\n    child: InkWell(\n      borderRadius: BorderRadius.circular(60),\n      onTap: (){_onItemIndexChanged(null);},\n      splashColor: Colors.red,\n      child: Center(\n        child: Text(_totalAmountToString(widget.totalAmount),\n          style: Theme.of(context).textTheme.headline),\n        ),\n      ),\n    ),\n  ),\n)\n</code></pre>\n\n<p>and I has also tried the same with RaisedButton :</p>\n\n<pre><code>Center(\n  child: Container(\n    height: 120,\n    width: 120,\n    decoration: BoxDecoration(shape: BoxShape.circle),\n    child: RaisedButton(\n      shape: CircleBorder(),\n      onPressed: (){_onItemIndexChanged(null);},\n      elevation: 0,\n      color: Colors.transparent,\n      splashColor: Colors.red,\n      child: Center(\n      child: Text(_totalAmountToString(widget.totalAmount),\n        style: Theme.of(context).textTheme.headline),\n      ),\n    ),\n  ),\n)\n</code></pre>\n\n<p>and finally this is my function :</p>\n\n<pre><code>_onItemIndexChanged(charts.SelectionModel model) {\n    double newAngle;\n    int index;\n    double p = 0;\n    if (model != null) {\n      if (model.selectedDatum.isNotEmpty) {\n        index = model.selectedDatum.first.series.data\n            .indexOf(model.selectedDatum.first.datum);\n        if (index == _selectedItemIndex) index = -1;\n      } else {\n        index = -1;\n      }\n    } else {\n      index = _selectedItemIndex + 1 == widget.data.first.data.length\n          ? -1\n          : _selectedItemIndex + 1;\n    }\n\n    if (index != -1) {\n      for (int i = 0; i &lt; index; i++) {\n        p += widget.data.first.data.elementAt(i).price;\n      }\n      p += widget.data.first.data.elementAt(index).price / 2;\n      newAngle = -2 * pi * (p / widget.totalAmount) + pi / 2;\n    } else {\n      newAngle = _defaultAngle;\n    }\n\n    double originAngle =\n        _startAngle != null ? _startAngle.value : _defaultAngle;\n    _startAngle = null;\n\n    setState(() {\n      _selectedItemIndex = index;\n      _animationController.reset();\n      _startAngle = Tween(begin: originAngle, end: newAngle).animate(\n          CurvedAnimation(\n              parent: _animationController, curve: Curves.fastOutSlowIn));\n    });\n\n    _animationController.forward().orCancel;\n  }\n</code></pre>\n\n<p>The function <code>_onItemIndexChange</code> is called and does its job, no issue here. And the only thing I have to do to make the Ink Well worked is to removed the call to <code>_onItemIndexChange</code> and replace it with <code>(){}</code></p>\n"}, {"tags": ["json", "flutter", "dart"], "comments": [{"owner": {"reputation": 2274, "user_id": 10336633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b21ffcb04821a06beab9ffe3e812e08?s=128&d=identicon&r=PG&f=1", "display_name": "Ryosuke", "link": "https://stackoverflow.com/users/10336633/ryosuke"}, "edited": false, "score": 1, "creation_date": 1566325756, "post_id": 57577329, "comment_id": 101618959, "body": "read the whole file to string.... <code>jsonDecode</code> it, update the value however you want....encode it again....save to file."}, {"owner": {"reputation": 9, "user_id": 11862725, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wPPicok2y1o/AAAAAAAAAAI/AAAAAAAAACs/88lSqdf8rJo/photo.jpg?sz=128", "display_name": "berry2971", "link": "https://stackoverflow.com/users/11862725/berry2971"}, "reply_to_user": {"reputation": 2274, "user_id": 10336633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b21ffcb04821a06beab9ffe3e812e08?s=128&d=identicon&r=PG&f=1", "display_name": "Ryosuke", "link": "https://stackoverflow.com/users/10336633/ryosuke"}, "edited": false, "score": 0, "creation_date": 1566336522, "post_id": 57577329, "comment_id": 101622939, "body": "@Ryosuke I&#39;m sorry to repeat, but my point is I don&#39;t know how to &quot;SAVE TO FILE&quot; after encoding!... Can you help me with it? Thank you so much!"}, {"owner": {"reputation": 2274, "user_id": 10336633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b21ffcb04821a06beab9ffe3e812e08?s=128&d=identicon&r=PG&f=1", "display_name": "Ryosuke", "link": "https://stackoverflow.com/users/10336633/ryosuke"}, "edited": false, "score": 0, "creation_date": 1566371384, "post_id": 57577329, "comment_id": 101630245, "body": "<code>file.writeAsString(encodedJson);</code>"}, {"owner": {"reputation": 9, "user_id": 11862725, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wPPicok2y1o/AAAAAAAAAAI/AAAAAAAAACs/88lSqdf8rJo/photo.jpg?sz=128", "display_name": "berry2971", "link": "https://stackoverflow.com/users/11862725/berry2971"}, "reply_to_user": {"reputation": 2274, "user_id": 10336633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b21ffcb04821a06beab9ffe3e812e08?s=128&d=identicon&r=PG&f=1", "display_name": "Ryosuke", "link": "https://stackoverflow.com/users/10336633/ryosuke"}, "edited": false, "score": 0, "creation_date": 1566414798, "post_id": 57577329, "comment_id": 101652908, "body": "@Ryosuke Ah now I see what you mean. Thank you so much for your help. I will try it, and I think it would work well! Thank you!!!!!"}], "owner": {"reputation": 9, "user_id": 11862725, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wPPicok2y1o/AAAAAAAAAAI/AAAAAAAAACs/88lSqdf8rJo/photo.jpg?sz=128", "display_name": "berry2971", "link": "https://stackoverflow.com/users/11862725/berry2971"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 611, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576248311, "creation_date": 1566316101, "last_edit_date": 1576248311, "question_id": 57577329, "link": "https://stackoverflow.com/questions/57577329/how-to-update-json-file-in-flutter", "title": "How to update Json file in Flutter?", "body": "<p>I'm new to Flutter. Sorry for so basic and simple question.\nI know how to load/parse/read .json file. However I don't know what I have to do - if I want to change the content of .json file by tapping a button on the flutter mobile app, how can I do it?</p>\n\n<p>I realized that I cannot pick a data and update content in the .json file, then what do I have to do?\nI found a little (at least for me) information via searching like,</p>\n\n<ol>\n<li><p>I cannot pick the specific content of .json and change it in the mobile app. I have to update the whole content of the .json file.</p></li>\n<li><p>So I have to get help from something like SQLite.</p></li>\n</ol>\n\n<p>[\n    {\n        \"id\": 1,\n        \"value\": 100,\n    },\n    {\n        \"id\": 2,\n        \"value\": 500,\n    },\n]</p>\n\n<p>If I click button1 in Flutter mobile app, I want to change value 100 of id:1 to 200, and if I click button2 in-app, I want to change value 500 of id:1 to 600.\nAnd this .json file has to be in the directory where I can see actually. (Means, if I use path_provider, .json file is not visible in android studio or explorer, ...)\nAnd, this .json file has to be not deleted or changed, even if I quit the app.</p>\n\n<p>I cannot explain it well. I really really appreciate your answer. Thank you.</p>\n"}, {"tags": ["flutter", "dart", "flutter-provider"], "comments": [{"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1566318357, "post_id": 57577294, "comment_id": 101615905, "body": "You&#39;ll need to use a different context to call Provider.of. One that is a descendant of the provider"}, {"owner": {"reputation": 1313, "user_id": 10654377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f9e82bf491680b7eea3b43a7c5d002?s=128&d=identicon&r=PG&f=1", "display_name": "FlutterFirebase", "link": "https://stackoverflow.com/users/10654377/flutterfirebase"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1566318906, "post_id": 57577294, "comment_id": 101616166, "body": "@R&#233;miRousselet You can explain where I put this? Widget where I call <code>_neverSatisfied();</code>? In you example (<a href=\"https://stackoverflow.com/a/57548225\">stackoverflow.com/a/57548225</a>) you put in showDialog"}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1566319042, "post_id": 57577294, "comment_id": 101616231, "body": "Yes. The <code>context</code> passed to <code>Provider.of</code> in <code>_neverSatisfied</code> is invalid, because it is an ancestor of the provider you want to obtain."}, {"owner": {"reputation": 1313, "user_id": 10654377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f9e82bf491680b7eea3b43a7c5d002?s=128&d=identicon&r=PG&f=1", "display_name": "FlutterFirebase", "link": "https://stackoverflow.com/users/10654377/flutterfirebase"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1566319246, "post_id": 57577294, "comment_id": 101616326, "body": "@R&#233;miRousselet So I pass <code>context</code> as param to <code>_neverSatisfied</code>?"}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1566319865, "post_id": 57577294, "comment_id": 101616558, "body": "Yes. Any context that is descendant of the provider should do."}], "owner": {"reputation": 1313, "user_id": 10654377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f9e82bf491680b7eea3b43a7c5d002?s=128&d=identicon&r=PG&f=1", "display_name": "FlutterFirebase", "link": "https://stackoverflow.com/users/10654377/flutterfirebase"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566317615, "creation_date": 1566315942, "last_edit_date": 1566317615, "question_id": 57577294, "link": "https://stackoverflow.com/questions/57577294/how-to-add-provider-to-second-widget-tree", "title": "How to add provider to second widget tree?", "body": "<p>I am try follow this <a href=\"https://stackoverflow.com/a/57548225\">answer</a> for add provider to second widget tree (so can call provider from function). But I get error:</p>\n\n<blockquote>\n  <p>[VERBOSE-2:ui_dart_state.cc(148)] Unhandled Exception: Error: Could\n  not find the correct Provider above this\n  Page Widget</p>\n</blockquote>\n\n<p>For sure I provide <code>Model2</code> correct in other widget tree so it have ancestor.</p>\n\n<pre><code>Future&lt;void&gt; _neverSatisfied() async {\n\nfinal model2 = Provider.of&lt;Model2&gt;(context, listen: false);\n\n  return showDialog&lt;void&gt;(\n    context: context,\n    barrierDismissible: false, \n    builder: (BuildContext context) {\n      return \n\n\n    Provider.value(value: model2, child:\n\n\nAlertDialog(\n        title: Text('Rewind and remember'),\n        content: SingleChildScrollView(\n          child: ListBody(\n            children: &lt;Widget&gt;[\n              Text('You will never be satisfied.'),\n              Text('You\\\u2019re like me. I\u2019m never satisfied.'),\n            ],\n          ),\n        ),\n        actions: &lt;Widget&gt;[\n          FlatButton(\n            child: Text('Regret'),\n            onPressed: () async {\nawait model2.getData();\n\n              Navigator.of(context).pop();\n            },\n          ),\n        ],\n),\n      );\n    },\n  );\n}\n</code></pre>\n\n<p>First widget in same <code>StatefulWidget</code>:</p>\n\n<pre><code>@override\n  Widget build(BuildContext context) {\nreturn ChangeNotifierProxyProvider&lt;Model1, Model2&gt;(\ninitialBuilder: (_) =&gt; Model2(),\n  builder: (_, model1, model2) =&gt; model2\n    ..string = model1.string,\n),\n  child: Consumer&lt;Model2&gt;(\n    builder: (context, model2, _) =&gt;\n</code></pre>\n\n<p>Second:</p>\n\n<pre><code>  @override\n  Widget buildStep(BuildContext context) {\n  Consumer&lt;Model2&gt;(\n    builder: (context, model2, _) =&gt;\n...\n\n   _neverSatisfied();\n</code></pre>\n"}, {"tags": ["session", "cookies", "flutter", "dart", "token"], "comments": [{"owner": {"reputation": 2274, "user_id": 10336633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b21ffcb04821a06beab9ffe3e812e08?s=128&d=identicon&r=PG&f=1", "display_name": "Ryosuke", "link": "https://stackoverflow.com/users/10336633/ryosuke"}, "edited": false, "score": 1, "creation_date": 1566325581, "post_id": 57577071, "comment_id": 101618891, "body": "you can use <code>dart:html</code> package to manually save session information to cookie."}, {"owner": {"reputation": 525, "user_id": 7790873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/208686c46481d978cccf4cd7680499f8?s=128&d=identicon&r=PG&f=1", "display_name": "Stecco", "link": "https://stackoverflow.com/users/7790873/stecco"}, "reply_to_user": {"reputation": 2274, "user_id": 10336633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b21ffcb04821a06beab9ffe3e812e08?s=128&d=identicon&r=PG&f=1", "display_name": "Ryosuke", "link": "https://stackoverflow.com/users/10336633/ryosuke"}, "edited": false, "score": 0, "creation_date": 1566373494, "post_id": 57577071, "comment_id": 101631248, "body": "@Ryosuke where can i find documentation about this package?"}, {"owner": {"reputation": 2274, "user_id": 10336633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b21ffcb04821a06beab9ffe3e812e08?s=128&d=identicon&r=PG&f=1", "display_name": "Ryosuke", "link": "https://stackoverflow.com/users/10336633/ryosuke"}, "edited": false, "score": 1, "creation_date": 1566373627, "post_id": 57577071, "comment_id": 101631327, "body": "<a href=\"https://api.dartlang.org/stable/2.4.1/dart-html/dart-html-library.html\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 525, "user_id": 7790873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/208686c46481d978cccf4cd7680499f8?s=128&d=identicon&r=PG&f=1", "display_name": "Stecco", "link": "https://stackoverflow.com/users/7790873/stecco"}, "reply_to_user": {"reputation": 2274, "user_id": 10336633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b21ffcb04821a06beab9ffe3e812e08?s=128&d=identicon&r=PG&f=1", "display_name": "Ryosuke", "link": "https://stackoverflow.com/users/10336633/ryosuke"}, "edited": false, "score": 0, "creation_date": 1566373889, "post_id": 57577071, "comment_id": 101631437, "body": "@Ryosuke ok thanks to save the session which class do i need to use? Because i need to safely save the session and make it re-usable even when the page is closed and reopened"}, {"owner": {"reputation": 2274, "user_id": 10336633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b21ffcb04821a06beab9ffe3e812e08?s=128&d=identicon&r=PG&f=1", "display_name": "Ryosuke", "link": "https://stackoverflow.com/users/10336633/ryosuke"}, "edited": false, "score": 1, "creation_date": 1566376646, "post_id": 57577071, "comment_id": 101632697, "body": "use <code>CookieStore</code>."}, {"owner": {"reputation": 13912, "user_id": 476747, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/88bdc2de2e55611d65ad25953e9b3e32?s=128&d=identicon&r=PG", "display_name": "Mudassir", "link": "https://stackoverflow.com/users/476747/mudassir"}, "reply_to_user": {"reputation": 2274, "user_id": 10336633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b21ffcb04821a06beab9ffe3e812e08?s=128&d=identicon&r=PG&f=1", "display_name": "Ryosuke", "link": "https://stackoverflow.com/users/10336633/ryosuke"}, "edited": false, "score": 2, "creation_date": 1574340836, "post_id": 57577071, "comment_id": 104204007, "body": "@Ryosuke Can you please guide me to some usage example for CookieStore class. I <a href=\"https://www.google.com/search?client=firefox-b-d&amp;sxsrf=ACYBGNQ8S_Pp1KzfqJK-N5t1q7heewRj1w%3A1574340719888&amp;ei=b4jWXZnqNZCCrtoP6faGoAk&amp;q=CookieStore+class+example+in+Flutter&amp;oq=CookieStore+class+example+in+Flutter&amp;gs_l=psy-ab.3...88823.91789..91954...0.2..0.216.3075.0j16j2......0....1..gws-wiz.......0i71j33i160j33i21.n4TTw4NyoWU&amp;ved=0ahUKEwjZ3fSarPvlAhUQgUsFHWm7AZQQ4dUDCAo&amp;uact=5\" rel=\"nofollow noreferrer\">googled</a> it already but can&#39;t find anything useful."}, {"owner": {"reputation": 635, "user_id": 3455666, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L1SnD.jpg?s=128&g=1", "display_name": "iAkshay", "link": "https://stackoverflow.com/users/3455666/iakshay"}, "edited": false, "score": 1, "creation_date": 1574341021, "post_id": 57577071, "comment_id": 104204113, "body": "Error - <code>The class &#39;CookieStore&#39; doesn&#39;t have default constructor.</code>"}, {"owner": {"reputation": 116623, "user_id": 403671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/454HU.jpg?s=128&g=1", "display_name": "Simon Mourier", "link": "https://stackoverflow.com/users/403671/simon-mourier"}, "edited": false, "score": 1, "creation_date": 1574504510, "post_id": 57577071, "comment_id": 104262233, "body": "You can use Firebase, or at least get inspiration from it. Once a user is authenticated in flutter with Firebase, just pass <code>FirebaseAuth.instance.currentUser().getIdToken().token</code> (it&#39;s a JWT token string) to your nodejs app (using for example an HTTP custom header). Now, in the nodejs app, you can verify the passed token using Firebase &quot;VerifyId&quot; server-side API: <a href=\"https://firebase.google.com/docs/auth/admin/verify-id-tokens\" rel=\"nofollow noreferrer\">firebase.google.com/docs/auth/admin/verify-id-tokens</a>. Even if you don&#39;t like Firebase, the overall principles are still ok."}], "answers": [{"comments": [{"owner": {"reputation": 525, "user_id": 7790873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/208686c46481d978cccf4cd7680499f8?s=128&d=identicon&r=PG&f=1", "display_name": "Stecco", "link": "https://stackoverflow.com/users/7790873/stecco"}, "edited": false, "score": 0, "creation_date": 1574495966, "post_id": 59005419, "comment_id": 104260614, "body": "Ok but now that i have a sessionId how can i use it? Can you show an example of this class with routes like get or post?"}, {"owner": {"reputation": 635, "user_id": 3455666, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L1SnD.jpg?s=128&g=1", "display_name": "iAkshay", "link": "https://stackoverflow.com/users/3455666/iakshay"}, "reply_to_user": {"reputation": 525, "user_id": 7790873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/208686c46481d978cccf4cd7680499f8?s=128&d=identicon&r=PG&f=1", "display_name": "Stecco", "link": "https://stackoverflow.com/users/7790873/stecco"}, "edited": false, "score": 0, "creation_date": 1574501693, "post_id": 59005419, "comment_id": 104261699, "body": "@Stecco I&#39;ve edited my answer to include example. Have a look plz."}], "tags": [], "owner": {"reputation": 635, "user_id": 3455666, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L1SnD.jpg?s=128&g=1", "display_name": "iAkshay", "link": "https://stackoverflow.com/users/3455666/iakshay"}, "is_accepted": false, "score": 13, "last_activity_date": 1585059321, "last_edit_date": 1585059321, "creation_date": 1574493235, "answer_id": 59005419, "question_id": 57577071, "link": "https://stackoverflow.com/questions/57577071/flutter-for-web-cookie-token-sessions-and-authentcation/59005419#59005419", "title": "Flutter For Web Cookie/Token Sessions and Authentcation", "body": "<p>Importing <code>dart.html</code> directly doesn't support from flutter 1.9 : <a href=\"https://github.com/flutter/flutter/issues/35588\" rel=\"noreferrer\">Reference</a></p>\n\n<p>I came across the package <a href=\"https://pub.dev/packages/universal_html\" rel=\"noreferrer\">universal_html</a> while digging in for the solution, and its working fine for me. Below is my helper class to store key-value pair locally on web:</p>\n\n<pre><code>import 'package:universal_html/prefer_universal/html.dart';\n\nclass WebStorage {\n\n  //Singleton\n  WebStorage._internal();\n  static final WebStorage instance = WebStorage._internal();\n  factory WebStorage() {\n    return instance;\n  }\n\n  String get sessionId =&gt; window.localStorage['SessionId'];\n  set sessionId(String sid) =&gt; (sid == null) ? window.localStorage.remove('SessionId') : window.localStorage['SessionId'] = sid;\n}\n</code></pre>\n\n<p>To read, </p>\n\n<blockquote>\n  <p>WebStorage.instance.sessionId;</p>\n</blockquote>\n\n<p>To write,</p>\n\n<blockquote>\n  <p>WebStorage.instance.sessionId = 'YOUR_CREDENTIAL';</p>\n</blockquote>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>fetchPost(params, \"CMD_USERREGISTRATION\").then((result) {\n        ...\n        APIResponse response = APIResponse(xmlString: result.body);\n\n        if (!response.isSuccess()) {\n          ...\n          return;\n        }\n        var sid = response.getSessionId();\n\n        if (kIsWeb) {\n          WebStorage.instance.sessionId = sid;\n        }\n}\n</code></pre>\n\n<p><strong>main.dart:</strong></p>\n\n<pre><code>@override\n  Widget build(BuildContext context) {\n    if (kIsWeb) {\n      isLogin = WebStorage.instance.sessionId != null;\n    } else {\n      isLogin = //check from SharedPreferences;\n    }\n    return isLogin ? dashboardPage() : loginPage();\n  }\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p><a href=\"https://pub.dev/packages/shared_preferences#-changelog-tab-\" rel=\"noreferrer\">shared_preferences</a> now support web from the version 0.5.6. See also <a href=\"https://pub.dev/packages/shared_preferences_web\" rel=\"noreferrer\">shared_preferences_web</a></p>\n"}, {"tags": [], "owner": {"reputation": 146, "user_id": 10338412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/997d2dffe41f805e43d61452d050028c?s=128&d=identicon&r=PG&f=1", "display_name": "E.C", "link": "https://stackoverflow.com/users/10338412/e-c"}, "is_accepted": true, "score": 4, "last_activity_date": 1615464255, "creation_date": 1615464255, "answer_id": 66582220, "question_id": 57577071, "link": "https://stackoverflow.com/questions/57577071/flutter-for-web-cookie-token-sessions-and-authentcation/66582220#66582220", "title": "Flutter For Web Cookie/Token Sessions and Authentcation", "body": "<p>This is an old question but the chosen answer is not totally safe.\nUsing web storage for sensitive information is not safe, for the web.</p>\n<p>You should use http-only cookies. Http-only cookies cannot be read via Javascript but the browser automatically sends it to the backend.</p>\n<p>Here is example of Nodejs-Express-TypeScript Code;</p>\n<p>In this example there two cookies one is http-only, the other one is not.\nThe non-http-only cookie is for checking logged-in situation, if it's valid client assumes the user is logged in. But the actual control is done by the backend.</p>\n<p>PS: There is no need to store or send any token, because browser handles it (cookies) automatically.</p>\n<pre><code>const cookieConfig = {\n  httpOnly: true,\n  secure,\n  maxAge: 30 * 24 * 60 * 60 * 1000,\n  signed: secure,\n}\n\nconst cookieConfigReadable = {\n  httpOnly: false,\n  secure,\n  maxAge: 30 * 24 * 60 * 60 * 1000,\n  signed: secure,\n}\n\nfunction signToken(unsignedToken: any) {\n  const token = jwt.sign(unsignedToken, privatekey, {\n    algorithm: 'HS256',\n    expiresIn: jwtExpirySeconds,\n  })\n\n  return token\n}\n\nconst tokenObj = {\n  UID: userId,\n  SID: sessionId,\n}\n\nconst token = signToken(tokenObj)\n\n// sets session info to the http-only cookie\nres.cookie('HSINF', token, cookieConfig) \n\n// sets a cookie with expires=false value for client side check.\nres.cookie('expired', false, cookieConfigReadable) \n</code></pre>\n<p>But in this approach there is a challenge during debugging, because NodeJS and Flutter Web serves on different ports, you should allow CORS for dev environment.</p>\n<pre><code>if (process.env.NODE_ENV === 'dev') {\n  app.use(\n    cors({\n      origin: [\n        'http://localhost:8080',\n        'http://127.0.0.1:8080',\n      ],\n      credentials: true,\n    }),\n  )\n}\n</code></pre>\n<p>And in Flutter Web you cannot use http.get or http.post directly during debugging, because flutter disables CORS cookies by default.</p>\n<p>Here is a workaround for this.</p>\n<pre><code>// withCredentials = true is the magic\nvar client = BrowserClient()..withCredentials = true;\nhttp.Response response;\ntry {\n  response = await client.get(\n    Uri.parse(url),\n    headers: allHeaders,\n  );\n} finally {\n  client.close();\n}\n</code></pre>\n<p>Also in debugging there is another challenge; many browsers does not allow cookies for localhost, you should use 127.0.0.1 instead. However Flutter Web only runs for certain url and certain port, so here is my VsCode configuration for Flutter to run on 127.0.0.1</p>\n<pre><code> {\n      &quot;name&quot;: &quot;project&quot;,\n      &quot;request&quot;: &quot;launch&quot;,\n      &quot;type&quot;: &quot;dart&quot;,\n      &quot;program&quot;: &quot;lib/main.dart&quot;,\n      &quot;args&quot;: [\n        &quot;-d&quot;,\n        &quot;chrome&quot;,\n        &quot;--web-port&quot;,\n        &quot;8080&quot;,\n        &quot;--web-hostname&quot;,\n        &quot;127.0.0.1&quot;\n      ]\n    }\n</code></pre>\n<p>These were for setting and transferring cookie, below you can find my backend cookie check</p>\n<pre><code>const httpOnlyCookie = req.signedCookies.HSINF\nconst normalCookie = req.signedCookies.expired\n\nif (httpOnlyCookie &amp;&amp; normalCookie === 'false') {\n  token = httpOnlyCookie\n}\n\nif (token) {\n  let decoded: any = null\n  try {\n    decoded = jwt.verify(token, privatekey)\n  } catch (ex) {\n    Logger.error(null, ex.message)\n  }\n\n  if (decoded) {\n    //Cookie is valid, get user with the session id\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 525, "user_id": 7790873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/208686c46481d978cccf4cd7680499f8?s=128&d=identicon&r=PG&f=1", "display_name": "Stecco", "link": "https://stackoverflow.com/users/7790873/stecco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6711, "favorite_count": 3, "accepted_answer_id": 66582220, "answer_count": 2, "score": 7, "last_activity_date": 1615464255, "creation_date": 1566315234, "last_edit_date": 1574449958, "question_id": 57577071, "link": "https://stackoverflow.com/questions/57577071/flutter-for-web-cookie-token-sessions-and-authentcation", "title": "Flutter For Web Cookie/Token Sessions and Authentcation", "body": "<p>I am working on a full stack app using <strong>NodeJS and Flutter For Web</strong>, at the moment i don't understand how to make <strong>safe cookie/token sessions</strong>.<br>\nThe answer i need is <strong>how to make an authentication system with Flutter For Web</strong> like other Social Networks or Stackoverflow itself.</p>\n"}, {"tags": ["android", "firebase", "flutter", "dart", "dependencies"], "answers": [{"comments": [{"owner": {"reputation": 964, "user_id": 8539070, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eFyhY.jpg?s=128&g=1", "display_name": "jonasxd360", "link": "https://stackoverflow.com/users/8539070/jonasxd360"}, "edited": false, "score": 0, "creation_date": 1566315236, "post_id": 57576963, "comment_id": 101614323, "body": "Would I then write <code>cloud_firestore: ^0.12.7+1</code> in pubspec.yaml?"}, {"owner": {"reputation": 861, "user_id": 11216418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jK6uV.jpg?s=128&g=1", "display_name": "digitaljoni", "link": "https://stackoverflow.com/users/11216418/digitaljoni"}, "reply_to_user": {"reputation": 964, "user_id": 8539070, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eFyhY.jpg?s=128&g=1", "display_name": "jonasxd360", "link": "https://stackoverflow.com/users/8539070/jonasxd360"}, "edited": false, "score": 1, "creation_date": 1566316165, "post_id": 57576963, "comment_id": 101614839, "body": "Hi @jonasxd360 you can try that. However, there might be significant changes to the package. So if you still are getting errors.. better checkout the codelab link above... it should be compatible with the latest Flutter version."}, {"owner": {"reputation": 964, "user_id": 8539070, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eFyhY.jpg?s=128&g=1", "display_name": "jonasxd360", "link": "https://stackoverflow.com/users/8539070/jonasxd360"}, "edited": false, "score": 0, "creation_date": 1566316260, "post_id": 57576963, "comment_id": 101614888, "body": "Yeah, I got a multidex problem, but I think I solved it using multiDexEnabled true and implementation &#39;com.android.support:multidex:1.0.3&#39;"}], "tags": [], "owner": {"reputation": 861, "user_id": 11216418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jK6uV.jpg?s=128&g=1", "display_name": "digitaljoni", "link": "https://stackoverflow.com/users/11216418/digitaljoni"}, "is_accepted": true, "score": 5, "last_activity_date": 1566314889, "creation_date": 1566314889, "answer_id": 57576963, "question_id": 57576821, "link": "https://stackoverflow.com/questions/57576821/pub-get-failed-because-flutter-app-depends-on-firebase-firestore-0-12-71-whic/57576963#57576963", "title": "pub get failed: Because flutter_app depends on firebase_firestore ^0.12.7+1 which doesn&#39;t match any versions, version solving failed", "body": "<p>firebase_firestore package is deprecated and the last version it has is 0.0.3+1... so it cannot find version ^0.12.7+1</p>\n\n<p>You will need to cloud_firestore instead:</p>\n\n<p><a href=\"https://pub.dev/packages/cloud_firestore\" rel=\"noreferrer\">https://pub.dev/packages/cloud_firestore</a></p>\n\n<p>Try following the latest Firebase codelab from the Flutter team.</p>\n\n<p><a href=\"https://flutter.dev/docs/development/data-and-backend/firebase\" rel=\"noreferrer\">https://flutter.dev/docs/development/data-and-backend/firebase</a></p>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 14420816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2957d452079bd15f508e9e08d8e7fe9?s=128&d=identicon&r=PG&f=1", "display_name": "Pardon Juru", "link": "https://stackoverflow.com/users/14420816/pardon-juru"}, "is_accepted": false, "score": -2, "last_activity_date": 1612858915, "last_edit_date": 1612858915, "creation_date": 1612852709, "answer_id": 66114114, "question_id": 57576821, "link": "https://stackoverflow.com/questions/57576821/pub-get-failed-because-flutter-app-depends-on-firebase-firestore-0-12-71-whic/66114114#66114114", "title": "pub get failed: Because flutter_app depends on firebase_firestore ^0.12.7+1 which doesn&#39;t match any versions, version solving failed", "body": "<p>Use this plugin in your <code>pubspec.yaml</code>. It should work.</p>\n<pre><code>firebase_messaging: ^8.0.0-dev.14\n</code></pre>\n"}], "owner": {"reputation": 964, "user_id": 8539070, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eFyhY.jpg?s=128&g=1", "display_name": "jonasxd360", "link": "https://stackoverflow.com/users/8539070/jonasxd360"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9606, "favorite_count": 0, "accepted_answer_id": 57576963, "answer_count": 2, "score": 7, "last_activity_date": 1612858915, "creation_date": 1566314447, "question_id": 57576821, "link": "https://stackoverflow.com/questions/57576821/pub-get-failed-because-flutter-app-depends-on-firebase-firestore-0-12-71-whic", "title": "pub get failed: Because flutter_app depends on firebase_firestore ^0.12.7+1 which doesn&#39;t match any versions, version solving failed", "body": "<blockquote>\n<pre><code> pub get failed: Because flutter_app depends on firebase_firestore\n ^0.12.7+1 which doesn't match any versions, version solving failed.\n</code></pre>\n</blockquote>\n\n<p>I am getting this error when trying to run <code>flutter pub get</code> in the pubspec.yaml file. I am currently trying to set up firebase <a href=\"https://firebase.google.com/docs/flutter/setup\" rel=\"noreferrer\">https://firebase.google.com/docs/flutter/setup</a>.</p>\n\n<p>This is my pubspec.yaml file:</p>\n\n<pre><code>name: flutter_app\ndescription: A new Flutter application.\n\nversion: 1.0.0+1\n\nenvironment:\n  sdk: \"&gt;=2.1.0 &lt;3.0.0\"\n\ndependencies:\n  flutter:\n    sdk: flutter\n\n  # The following adds the Cupertino Icons font to your application.\n  # Use with the CupertinoIcons class for iOS style icons.\n  cupertino_icons: ^0.1.2\n\n  # Add the dependency for the Firebase Core Flutter SDK\n  firebase_core: ^0.4.0+1\n\n  # Add the dependency for the FlutterFire plugin for Google Analytics\n  firebase_analytics: ^4.0.2\n\n  # Add the dependencies for any other Firebase products you want to use in your app\n  # For example, to use Firebase Authentication and Cloud Firestore\n  firebase_auth: ^0.11.1+3\n  firebase_firestore: ^0.12.7+1\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n\n\n# For information on the generic Dart part of this file, see the\n# following page: https://dart.dev/tools/pub/pubspec\n\n# The following section is specific to Flutter.\nflutter:\n\n  # The following line ensures that the Material Icons font is\n  # included with your application, so that you can use the icons in\n  # the material Icons class.\n  uses-material-design: true\n</code></pre>\n\n<p>build.gradle:</p>\n\n<pre><code>buildscript {\n    repositories {\n        google()\n        jcenter()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.2.1'\n\n        classpath 'com.google.gms:google-services:3.2.1'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = \"${rootProject.buildDir}/${project.name}\"\n}\nsubprojects {\n    project.evaluationDependsOn(':app')\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>build.gradle app:</p>\n\n<pre><code>def localProperties = new Properties()\ndef localPropertiesFile = rootProject.file('local.properties')\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader('UTF-8') { reader -&gt;\n        localProperties.load(reader)\n    }\n}\n\ndef flutterRoot = localProperties.getProperty('flutter.sdk')\nif (flutterRoot == null) {\n    throw new GradleException(\"Flutter SDK not found. Define location with flutter.sdk in the local.properties file.\")\n}\n\ndef flutterVersionCode = localProperties.getProperty('flutter.versionCode')\nif (flutterVersionCode == null) {\n    flutterVersionCode = '1'\n}\n\ndef flutterVersionName = localProperties.getProperty('flutter.versionName')\nif (flutterVersionName == null) {\n    flutterVersionName = '1.0'\n}\n\napply plugin: 'com.android.application'\napply from: \"$flutterRoot/packages/flutter_tools/gradle/flutter.gradle\"\n\nandroid {\n    compileSdkVersion 28\n\n    lintOptions {\n        disable 'InvalidPackage'\n    }\n\n    defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId \"com.example.flutter_app\"\n        minSdkVersion 16\n        targetSdkVersion 28\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n\n    buildTypes {\n        release {\n            // TODO: Add your own signing config for the release build.\n            // Signing with the debug keys for now, so `flutter run --release` works.\n            signingConfig signingConfigs.debug\n        }\n    }\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.1'\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>I have noticed that the second build.gradle file contains several marked errors, but I am not sure if that means anything. </p>\n\n<p>Thank you for your help!</p>\n"}, {"tags": ["debugging", "flutter", "dart"], "comments": [{"owner": {"reputation": 340, "user_id": 107076, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/defc4f5950cdffb902d77f8ae32078ba?s=128&d=identicon&r=PG", "display_name": "Gomiunik", "link": "https://stackoverflow.com/users/107076/gomiunik"}, "edited": false, "score": 0, "creation_date": 1566799418, "post_id": 57575400, "comment_id": 101755127, "body": "Have the same issue here. Sometimes restarting the computer helped. Now when restarting computer it always gives me different folder in &quot;could not read path...&quot; Looks like this started happening after last flutter update"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5152153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0a248f8e8bebbf55a9cf3839cdcdfef?s=128&d=identicon&r=PG&f=1", "display_name": "polmzeya", "link": "https://stackoverflow.com/users/5152153/polmzeya"}, "is_accepted": false, "score": 0, "last_activity_date": 1566593200, "creation_date": 1566593200, "answer_id": 57632833, "question_id": 57575400, "link": "https://stackoverflow.com/questions/57575400/failed-to-capture-fingerprint-of-output-files-for-task-appcompileflutterbuild/57632833#57632833", "title": "Failed to capture fingerprint of output files for task &#39;:app:compileFlutterBuildDebugArm&#39; property &#39;outputDirectory&#39; during up-to-date check", "body": "<p>Have you deleted some files somewhere let's say on your assets folder and such a file that you are also referring on the pubspec.yaml? if so that is the reason why the application is not building, try to remove reference to deleted files (The ones that do not exist in your app's pubspec.yaml) and then run the project again to see if it builds successfully.</p>\n"}, {"tags": [], "owner": {"reputation": 340, "user_id": 107076, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/defc4f5950cdffb902d77f8ae32078ba?s=128&d=identicon&r=PG", "display_name": "Gomiunik", "link": "https://stackoverflow.com/users/107076/gomiunik"}, "is_accepted": false, "score": 0, "last_activity_date": 1566819512, "last_edit_date": 1566819512, "creation_date": 1566803380, "answer_id": 57653250, "question_id": 57575400, "link": "https://stackoverflow.com/questions/57575400/failed-to-capture-fingerprint-of-output-files-for-task-appcompileflutterbuild/57653250#57653250", "title": "Failed to capture fingerprint of output files for task &#39;:app:compileFlutterBuildDebugArm&#39; property &#39;outputDirectory&#39; during up-to-date check", "body": "<p>It seems to be some sort of file locking issue... When trying to open the path that is specified in output, the Windows Explorer actually returns \"Access denied\" so I can't access the folder and can't change security for it.\nAfter restart the folder is accessible.</p>\n\n<p>What worked for me (for now and only in that exact order): </p>\n\n<ol>\n<li>Open another folder in VS Code (if you're using it). If the whole process doesn't work then restart the computer</li>\n<li>\"flutter clean\" command</li>\n<li>debug</li>\n</ol>\n"}], "owner": {"reputation": 313, "user_id": 7928060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02a798361105368e5e85cfce9a4f1d63?s=128&d=identicon&r=PG&f=1", "display_name": "Cristian F. Bustos", "link": "https://stackoverflow.com/users/7928060/cristian-f-bustos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 238, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1566819512, "creation_date": 1566309669, "question_id": 57575400, "link": "https://stackoverflow.com/questions/57575400/failed-to-capture-fingerprint-of-output-files-for-task-appcompileflutterbuild", "title": "Failed to capture fingerprint of output files for task &#39;:app:compileFlutterBuildDebugArm&#39; property &#39;outputDirectory&#39; during up-to-date check", "body": "<p>I try debug my application but it show me this:</p>\n\n<pre><code>What went wrong:\nFailed to capture fingerprint of output files for task ':app:compileFlutterBuildDebugArm' property 'outputDirectory' during up-to-date check.\nCould not read path 'C:\\Users\\(myuser)\\Documents\\pop_up\\build\\app\\intermediates\\flutter\\debug\\android-arm\\flutter_assets\\fonts'\n</code></pre>\n\n<pre><code>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option \nto get more log output. Run with --scan to get full insights.\n</code></pre>\n\n<pre><code>BUILD FAILED in 1s\nGradle task assembleDebug failed with exit code 1\nExited (sigterm)\n</code></pre>\n\n<h2>command</h2>\n\n<p>flutter build bundle --target C:\\Users(myuser)\\Documents\\pop_up\\lib\\main.dart --target-platform android-arm --filesystem-scheme org-dartlang-root --track-widget-creation --depfile C:\\Users(myuser)\\Documents\\pop_up\\build\\app\\intermediates\\flutter\\debug\\android-arm/snapshot_blob.bin.d --asset-dir C:\\Users(myuser)\\Documents\\pop_up\\build\\app\\intermediates\\flutter\\debug\\android-arm/flutter_assets --debug</p>\n\n<h2>exception</h2>\n\n<p>FileSystemException: FileSystemException: Deletion failed, path = 'C:\\Users(myuser)\\Documents\\pop_up\\build\\app\\intermediates\\flutter\\debug\\android-arm/flutter_assets' (OS Error: El directorio no est\u00e1 vac\u00edo.\n, errno = 145)</p>\n\n<pre><code>#0      _Directory._deleteSync (dart:io/directory_impl.dart:206:7)\n#1      FileSystemEntity.deleteSync (dart:io/file_system_entity.dart:464:47)\n#2      ForwardingFileSystemEntity.deleteSync (package:file/src/forwarding/forwarding_file_system_entity.dart:72:16)\n#3      writeBundle (package:flutter_tools/src/bundle.dart:181:15)\n&lt;asynchronous suspension&gt;\n#4      assemble (package:flutter_tools/src/bundle.dart:172:9)\n&lt;asynchronous suspension&gt;\n#5      BundleBuilder.build (package:flutter_tools/src/bundle.dart:115:11)\n&lt;asynchronous suspension&gt;\n#6      BuildBundleCommand.runCommand (package:flutter_tools/src/commands/build_bundle.dart:119:25)\n&lt;asynchronous suspension&gt;\n#7      FlutterCommand.verifyThenRunCommand (package:flutter_tools/src/runner/flutter_command.dart:490:18)\n&lt;asynchronous suspension&gt;\n#8      FlutterCommand.run.&lt;anonymous closure&gt; (package:flutter_tools/src/runner/flutter_command.dart:407:33)\n&lt;asynchronous suspension&gt;\n#9      AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:154:29)\n&lt;asynchronous suspension&gt;\n#10     _rootRun (dart:async/zone.dart:1124:13)\n#11     _CustomZone.run (dart:async/zone.dart:1021:19)\n#12     _runZoned (dart:async/zone.dart:1516:10)\n#13     runZoned (dart:async/zone.dart:1463:12)\n#14     AppContext.run (package:flutter_tools/src/base/context.dart:153:18)\n&lt;asynchronous suspension&gt;\n#15     FlutterCommand.run (package:flutter_tools/src/runner/flutter_command.dart:397:20)\n#16     CommandRunner.runCommand (package:args/command_runner.dart:197:27)\n&lt;asynchronous suspension&gt;\n#17     FlutterCommandRunner.runCommand.&lt;anonymous closure&gt; (package:flutter_tools/src/runner/flutter_command_runner.dart:402:21)\n&lt;asynchronous suspension&gt;\n#18     AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:154:29)\n&lt;asynchronous suspension&gt;\n#19     _rootRun (dart:async/zone.dart:1124:13)\n#20     _CustomZone.run (dart:async/zone.dart:1021:19)\n#21     _runZoned (dart:async/zone.dart:1516:10)\n#22     runZoned (dart:async/zone.dart:1463:12)\n#23     AppContext.run (package:flutter_tools/src/base/context.dart:153:18)\n&lt;asynchronous suspension&gt;\n#24     FlutterCommandRunner.runCommand (package:flutter_tools/src/runner/flutter_command_runner.dart:356:19)\n&lt;asynchronous suspension&gt;\n#25     CommandRunner.run.&lt;anonymous closure&gt; (package:args/command_runner.dart:112:25)\n#26     new Future.sync (dart:async/future.dart:224:31)\n#27     CommandRunner.run (package:args/command_runner.dart:112:14)\n#28     FlutterCommandRunner.run (package:flutter_tools/src/runner/flutter_command_runner.dart:242:18)\n#29     run.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:flutter_tools/runner.dart:63:22)\n&lt;asynchronous suspension&gt;\n#30     _rootRun (dart:async/zone.dart:1124:13)\n#31     _CustomZone.run (dart:async/zone.dart:1021:19)\n#32     _runZoned (dart:async/zone.dart:1516:10)\n#33     runZoned (dart:async/zone.dart:1500:12)\n#34     run.&lt;anonymous closure&gt; (package:flutter_tools/runner.dart:61:18)\n&lt;asynchronous suspension&gt;\n#35     AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:154:29)\n&lt;asynchronous suspension&gt;\n#36     _rootRun (dart:async/zone.dart:1124:13)\n#37     _CustomZone.run (dart:async/zone.dart:1021:19)\n#38     _runZoned (dart:async/zone.dart:1516:10)\n#39     runZoned (dart:async/zone.dart:1463:12)\n#40     AppContext.run (package:flutter_tools/src/base/context.dart:153:18)\n&lt;asynchronous suspension&gt;\n#41     runInContext (package:flutter_tools/src/context_runner.dart:58:24)\n&lt;asynchronous suspension&gt;\n#42     run (package:flutter_tools/runner.dart:50:10)\n#43     main (package:flutter_tools/executable.dart:65:9)\n&lt;asynchronous suspension&gt;\n#44     main (file:///C:/src/flutter/packages/flutter_tools/bin/flutter_tools.dart:8:3)\n#45     _startIsolate.&lt;anonymous closure&gt; (dart:isolate-patch/isolate_patch.dart:303:32)\n#46     _RawReceivePortImpl._handleMessage (dart:isolate-patch/isolate_patch.dart:172:12)\n</code></pre>\n\n<h2>flutter doctor</h2>\n\n<pre><code>[\u2713] Flutter (Channel master, v1.9.1-pre.109, on Microsoft Windows [Versi\u00c3\u00b3n 10.0.16299.1087], locale es-AR)\n    \u2022 Flutter version 1.9.1-pre.109 at C:\\src\\flutter\n    \u2022 Framework revision ce6dedfc0c (9 hours ago), 2019-08-20 01:03:36 -0400\n    \u2022 Engine revision 10167db433\n    \u2022 Dart version 2.5.0\n\n[\u2713] Android toolchain - develop for Android devices (Android SDK version 29.0.0)\n    \u2022 Android SDK at C:\\Users\\(myuser)\\AppData\\Local\\Android\\sdk\n    \u2022 Android NDK location not configured (optional; useful for native profiling support)\n    \u2022 Platform android-29, build-tools 29.0.0\n    \u2022 Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java\n    \u2022 Java version OpenJDK Runtime Environment (build 1.8.0_152-release-1343-b01)\n    \u2022 All Android licenses accepted.\n\n[\u2713] Android Studio (version 3.4)\n    \u2022 Android Studio at C:\\Program Files\\Android\\Android Studio\n    \u2022 Flutter plugin version 38.2.1\n    \u2022 Dart plugin version 183.6270\n    \u2022 Java version OpenJDK Runtime Environment (build 1.8.0_152-release-1343-b01)\n\n[\u2713] VS Code (version 1.37.1)\n    \u2022 VS Code at C:\\Users\\(myuser)\\AppData\\Local\\Programs\\Microsoft VS Code\n    \u2022 Flutter extension version 3.3.0\n\n[\u2713] Connected device (1 available)\n    \u2022 LG H440AR \u2022 LGH440ARad51902f \u2022 android-arm \u2022 Android 5.0.1 (API 21)\n\n\u2022 No issues found!\n</code></pre>\n"}, {"tags": ["flutter", "dart", "google-cloud-firestore", "flutter-image"], "comments": [{"owner": {"reputation": 1890, "user_id": 2362966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8792270fcc92400b12d02f8a4cc00e89?s=128&d=identicon&r=PG", "display_name": "ejabu", "link": "https://stackoverflow.com/users/2362966/ejabu"}, "edited": false, "score": 0, "creation_date": 1566311594, "post_id": 57575312, "comment_id": 101612124, "body": "it may helps <a href=\"https://stackoverflow.com/questions/49701654/how-can-i-read-from-disk-and-resize-an-image-in-flutter-dart\" title=\"how can i read from disk and resize an image in flutter dart\">stackoverflow.com/questions/49701654/&hellip;</a> and this <a href=\"https://stackoverflow.com/questions/57542155/how-to-change-a-image-file-to-thumbnail-while-keeping-original-file-in-flutter\" title=\"how to change a image file to thumbnail while keeping original file in flutter\">stackoverflow.com/questions/57542155/&hellip;</a>"}, {"owner": {"reputation": 191, "user_id": 10257601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/978039217458ec3bbd230840f726b071?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Shah", "link": "https://stackoverflow.com/users/10257601/ankit-shah"}, "reply_to_user": {"reputation": 1890, "user_id": 2362966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8792270fcc92400b12d02f8a4cc00e89?s=128&d=identicon&r=PG", "display_name": "ejabu", "link": "https://stackoverflow.com/users/2362966/ejabu"}, "edited": false, "score": 0, "creation_date": 1566316934, "post_id": 57575312, "comment_id": 101615231, "body": "Hello i have seen those question and solution but sadly didnt help me out on this."}], "answers": [{"tags": [], "owner": {"reputation": 2274, "user_id": 10336633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b21ffcb04821a06beab9ffe3e812e08?s=128&d=identicon&r=PG&f=1", "display_name": "Ryosuke", "link": "https://stackoverflow.com/users/10336633/ryosuke"}, "is_accepted": false, "score": 1, "last_activity_date": 1566326421, "creation_date": 1566326421, "answer_id": 57579779, "question_id": 57575312, "link": "https://stackoverflow.com/questions/57575312/how-to-save-a-image-from-image-picker-in-flutter-in-two-different-size/57579779#57579779", "title": "How to save a image from image picker in flutter in two different size", "body": "<p>Add this to your <code>pubspec.yaml</code>:</p>\n\n<p><code>image: ^2.1.4</code></p>\n\n<p>Add this import statement:</p>\n\n<p><code>import 'package:image/image.dart' as img;</code></p>\n\n<p>Then first decode your image:</p>\n\n<p><code>img.Image image = img.decodeImage(tempImage.readAsBytesSync());</code></p>\n\n<p>Then resize it:</p>\n\n<p><code>img.Image thumbnail = img.copyResize(image, width: 20, height: 20);</code></p>\n\n<p>Then encode it again:</p>\n\n<p><code>var thumb = img.encodePng(thumbnail);</code></p>\n\n<p>This gives an int array that you can save to firebase.</p>\n"}], "owner": {"reputation": 191, "user_id": 10257601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/978039217458ec3bbd230840f726b071?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Shah", "link": "https://stackoverflow.com/users/10257601/ankit-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1001, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1566326421, "creation_date": 1566309390, "question_id": 57575312, "link": "https://stackoverflow.com/questions/57575312/how-to-save-a-image-from-image-picker-in-flutter-in-two-different-size", "title": "How to save a image from image picker in flutter in two different size", "body": "<p>I am working in a code to pick a image using device camera and store in a variable. I worked with saving the original photo but in the same place i also need to save the photo but with small resolution so that i can use it as thumbnail.\nI need to upload both the image to firebase storage and retrieve it when needed.</p>\n\n<pre><code>Future getImage() async{\nvar tempImage = await ImagePicker.pickImage(source: ImageSource.camera,imageQuality: 30);\n\nsetState(() {\n  sampleImage=tempImage;\n  _tempThumb=Image.file(sampleImage,height: 20,width: 20,);\n\n\n});\n}\n</code></pre>\n\n<p>My code works for storing image in tempImage variable but dont know how to upload the small image stored in _tempThumb variable</p>\n\n<pre><code>final StorageReference postImageRef= FirebaseStorage.instance.ref().child(\"Post Images\");\n\n    var timeKey=new DateTime.now();\n    final StorageUploadTask uploadTask=postImageRef.child(timeKey.toString()+\".jpg\").putFile(sampleImage);\n\n\n    var ImageUrl = await(await uploadTask.onComplete).ref.getDownloadURL();\n</code></pre>\n\n<p>I am able to upload the full sized image but have no idea about how to upload the small sized image. </p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 1438, "user_id": 10441867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IFbf8.jpg?s=128&g=1", "display_name": "Sergio Bernal", "link": "https://stackoverflow.com/users/10441867/sergio-bernal"}, "edited": false, "score": 0, "creation_date": 1566308804, "post_id": 57574561, "comment_id": 101610478, "body": "Just use  <code>Navigator.of(context).pop();</code> it will pop to previous page in the stack"}, {"owner": {"reputation": 107, "user_id": 7840470, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vQ5ELyg8DUA/AAAAAAAAAAI/AAAAAAAAG4s/zj9QZpMhFd4/photo.jpg?sz=128", "display_name": "Kevin Farel", "link": "https://stackoverflow.com/users/7840470/kevin-farel"}, "reply_to_user": {"reputation": 1438, "user_id": 10441867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IFbf8.jpg?s=128&g=1", "display_name": "Sergio Bernal", "link": "https://stackoverflow.com/users/10441867/sergio-bernal"}, "edited": false, "score": 0, "creation_date": 1566309138, "post_id": 57574561, "comment_id": 101610694, "body": "@SergioBernal I didn&#39;t initialize that on my code because the back button that created automatically by scaffold do the works. But i still dont understand when i use my smartphone&#39;s back button i doest work the same as the one that scaffold create :)"}, {"owner": {"reputation": 1438, "user_id": 10441867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IFbf8.jpg?s=128&g=1", "display_name": "Sergio Bernal", "link": "https://stackoverflow.com/users/10441867/sergio-bernal"}, "edited": false, "score": 0, "creation_date": 1566309864, "post_id": 57574561, "comment_id": 101611132, "body": "Ok I see. And what happens if you push to &quot;page B&quot; then to &quot;page C&quot; and then press the phone back button?"}, {"owner": {"reputation": 107, "user_id": 7840470, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vQ5ELyg8DUA/AAAAAAAAAAI/AAAAAAAAG4s/zj9QZpMhFd4/photo.jpg?sz=128", "display_name": "Kevin Farel", "link": "https://stackoverflow.com/users/7840470/kevin-farel"}, "reply_to_user": {"reputation": 1438, "user_id": 10441867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IFbf8.jpg?s=128&g=1", "display_name": "Sergio Bernal", "link": "https://stackoverflow.com/users/10441867/sergio-bernal"}, "edited": false, "score": 0, "creation_date": 1566311779, "post_id": 57574561, "comment_id": 101612224, "body": "@SergioBernal I&#39;ve updated my question above with some extra explanation. Thanks for keep helping"}, {"owner": {"reputation": 1438, "user_id": 10441867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IFbf8.jpg?s=128&g=1", "display_name": "Sergio Bernal", "link": "https://stackoverflow.com/users/10441867/sergio-bernal"}, "edited": false, "score": 0, "creation_date": 1566312431, "post_id": 57574561, "comment_id": 101612641, "body": "Did you try running your project in iOS to see if the same behavior happens?"}, {"owner": {"reputation": 754, "user_id": 5462974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/767d5f3e546e874472cf5991607132ee?s=128&d=identicon&r=PG&f=1", "display_name": "Hassan Saleh", "link": "https://stackoverflow.com/users/5462974/hassan-saleh"}, "edited": false, "score": 0, "creation_date": 1566312765, "post_id": 57574561, "comment_id": 101612865, "body": "Do you have a MaterialApp widget in every page?"}, {"owner": {"reputation": 107, "user_id": 7840470, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vQ5ELyg8DUA/AAAAAAAAAAI/AAAAAAAAG4s/zj9QZpMhFd4/photo.jpg?sz=128", "display_name": "Kevin Farel", "link": "https://stackoverflow.com/users/7840470/kevin-farel"}, "reply_to_user": {"reputation": 1438, "user_id": 10441867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IFbf8.jpg?s=128&g=1", "display_name": "Sergio Bernal", "link": "https://stackoverflow.com/users/10441867/sergio-bernal"}, "edited": false, "score": 0, "creation_date": 1566314432, "post_id": 57574561, "comment_id": 101613817, "body": "@SergioBernal currently I can&#39;t compile on IOS because I don&#39;t have MAC . and I don&#39;t have MaterialApp on every page I have. does it have to? I can&#39;t test right now but ill be right back"}, {"owner": {"reputation": 107, "user_id": 7840470, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vQ5ELyg8DUA/AAAAAAAAAAI/AAAAAAAAG4s/zj9QZpMhFd4/photo.jpg?sz=128", "display_name": "Kevin Farel", "link": "https://stackoverflow.com/users/7840470/kevin-farel"}, "reply_to_user": {"reputation": 754, "user_id": 5462974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/767d5f3e546e874472cf5991607132ee?s=128&d=identicon&r=PG&f=1", "display_name": "Hassan Saleh", "link": "https://stackoverflow.com/users/5462974/hassan-saleh"}, "edited": false, "score": 0, "creation_date": 1566314893, "post_id": 57574561, "comment_id": 101614103, "body": "@HassanSaleh I don&#39;t have MaterialApp on every page I have (in my Example, page C use Scaffold as widget root, not a material app). does it have to? I can&#39;t test right now but ill be right back"}, {"owner": {"reputation": 107, "user_id": 7840470, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vQ5ELyg8DUA/AAAAAAAAAAI/AAAAAAAAG4s/zj9QZpMhFd4/photo.jpg?sz=128", "display_name": "Kevin Farel", "link": "https://stackoverflow.com/users/7840470/kevin-farel"}, "reply_to_user": {"reputation": 754, "user_id": 5462974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/767d5f3e546e874472cf5991607132ee?s=128&d=identicon&r=PG&f=1", "display_name": "Hassan Saleh", "link": "https://stackoverflow.com/users/5462974/hassan-saleh"}, "edited": false, "score": 0, "creation_date": 1566315584, "post_id": 57574561, "comment_id": 101614544, "body": "@HassanSaleh I tried to wrap my whole Scaffold and its body on a material app, still doesn&#39;t work and the Scaffold automated back button doesn&#39;t show up"}, {"owner": {"reputation": 1438, "user_id": 10441867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IFbf8.jpg?s=128&g=1", "display_name": "Sergio Bernal", "link": "https://stackoverflow.com/users/10441867/sergio-bernal"}, "edited": false, "score": 0, "creation_date": 1566315650, "post_id": 57574561, "comment_id": 101614573, "body": "If you share the full code, it will be easier to help because we can test your code in our machines"}], "answers": [{"tags": [], "owner": {"reputation": 107, "user_id": 7840470, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vQ5ELyg8DUA/AAAAAAAAAAI/AAAAAAAAG4s/zj9QZpMhFd4/photo.jpg?sz=128", "display_name": "Kevin Farel", "link": "https://stackoverflow.com/users/7840470/kevin-farel"}, "is_accepted": true, "score": 0, "last_activity_date": 1566347632, "creation_date": 1566347632, "answer_id": 57583046, "question_id": 57574561, "link": "https://stackoverflow.com/questions/57574561/flutter-navigation-pop-always-pop-to-root/57583046#57583046", "title": "flutter navigation pop always pop to root", "body": "<p>Thanks to @HassanSaleh giving me a little clue about the material app. I have misunderstood about using material app route. I initialize material app route on every page and I read carefully on flutter dev cookbook about navigating page and found out that I should just put materialapp only on the very top of my widget stack. So the fix for me is <strong>Removed material app on every widget and only put one material app and its route on very root app Widget</strong>. Maybe I have bad explanation hope u guys understand</p>\n"}], "owner": {"reputation": 107, "user_id": 7840470, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vQ5ELyg8DUA/AAAAAAAAAAI/AAAAAAAAG4s/zj9QZpMhFd4/photo.jpg?sz=128", "display_name": "Kevin Farel", "link": "https://stackoverflow.com/users/7840470/kevin-farel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 715, "favorite_count": 0, "accepted_answer_id": 57583046, "answer_count": 1, "score": 0, "last_activity_date": 1566347632, "creation_date": 1566306857, "last_edit_date": 1566311589, "question_id": 57574561, "link": "https://stackoverflow.com/questions/57574561/flutter-navigation-pop-always-pop-to-root", "title": "flutter navigation pop always pop to root", "body": "<p>I'm new on flutter and I got a problem with navigation pop system. I don't understand what's wrong on my code but what should I check on my code if every time I pressed back button on phone(not on AppBar or anything else), it goes back to the root of my page, not the previous page. but it works perfectly when I press back using the app bar back button that created automatically.</p>\n\n<p>I've tried to fix this issue by passing some unpassed BuildContext to my separated widget hoping that's the problem but still doesn't works</p>\n\n<p>Example:\nI have three pages A, B, C </p>\n\n<p>A->B->C</p>\n\n<p>A->B->D</p>\n\n<p>A->B->E</p>\n\n<p>when I press smartphone's back button on B it goes to A (works).</p>\n\n<p>when I press Scaffold appbar back button on C it goes to B (still works),</p>\n\n<p>But, when I press smartphone's back button on C, D, or E it goes to A (not works)</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>//this is where I initialize my route\nclass _LoginPageState extends State&lt;LoginPage&gt;{\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      routes: &lt;String, WidgetBuilder&gt; {\n      '/main': (BuildContext context) =&gt; MainPage(),\n      // '/b': (BuildContext context) =&gt; MyPage(title: 'page B'),\n      // '/c': (BuildContext context) =&gt; MyPage(title: 'page C'),\n    },\n.....\n\n\n// and this is how I push \nonPressed: () {\n  Navigator.of(context).pushNamed('/main');\n}\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 1, "creation_date": 1566306623, "post_id": 57574396, "comment_id": 101609110, "body": "It&#39;s difficult to answer without seeing what you did. To begin with, you shouldn&#39;t have any issue."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 11951740, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MDlTYipB7QA/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAYq8OKHCU9-1CK-jlKuvNpr9PciA/mo/photo.jpg?sz=128", "display_name": "St&#233;phane", "link": "https://stackoverflow.com/users/11951740/st%c3%a9phane"}, "edited": false, "score": 0, "creation_date": 1583652310, "post_id": 57577726, "comment_id": 107184623, "body": "Thanks for this answer! It has really helped me! :-)"}, {"owner": {"reputation": 23, "user_id": 11951740, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MDlTYipB7QA/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAYq8OKHCU9-1CK-jlKuvNpr9PciA/mo/photo.jpg?sz=128", "display_name": "St&#233;phane", "link": "https://stackoverflow.com/users/11951740/st%c3%a9phane"}, "edited": false, "score": 0, "creation_date": 1583652328, "post_id": 57577726, "comment_id": 107184629, "body": "Thanks for this answer! It has really helped me! :-)"}], "tags": [], "owner": {"reputation": 166, "user_id": 8229805, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-pfXNgEMj6sw/AAAAAAAAAAI/AAAAAAAAARQ/jjCNN5gs6lw/photo.jpg?sz=128", "display_name": "Lucas Rueda", "link": "https://stackoverflow.com/users/8229805/lucas-rueda"}, "is_accepted": true, "score": 1, "last_activity_date": 1566317651, "creation_date": 1566317651, "answer_id": 57577726, "question_id": 57574396, "link": "https://stackoverflow.com/questions/57574396/queue-stream-or-something-else/57577726#57577726", "title": "Queue, stream or something else?", "body": "<p>You could implement the Provider Pattern for State Managment.</p>\n\n<p><a href=\"https://pub.dev/packages/provider\" rel=\"nofollow noreferrer\">Provider Flutter Package</a></p>\n\n<p>As the documentation says, <em>to expose a variable using provider, wrap any widget into one of the provider widgets from this package and pass it your variable. Then, all descendants of the newly added provider widget can access this variable.</em></p>\n\n<p>The main idea is to create a class where you will save the state you want to share (in your case it would be the queue). Then, provide access from the widgets to this <em>provider</em></p>\n\n<p>Example: The following class is the Provider Class. The shared variable would be \"<em>_count</em>\"</p>\n\n<pre><code>class CounterProvider with ChangeNotifier {\n\nint _count = 0;\n  int get count =&gt; _count;\n\n  void increment() {\n    _count++;\n    notifyListeners();\n  }\n}\n</code></pre>\n\n<p>Then, you instiantate this Provider in the widget of your preference (In your case, A).. so all its descendants (B and C) have access to the provider and its data.</p>\n\n<pre><code>void main() {\n  runApp(MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n\n  final counter = CounterProvider();\n\n  @override\n  Widget build(BuildContext context) {\n    return ChangeNotifierProvider(  // WIDGET FROM PROVIDER PACKAGE\n\n      builder: (context) =&gt; CounterProvider(), // REQUIRED LINE\n\n      child: MaterialApp(\n          title: 'My App',\n          debugShowCheckedModeBanner: false,\n          initialRoute: '/',\n          routes: {\n            '/': (BuildContext context) =&gt; HomePage(),\n            'somepage': (BuildContext context) =&gt; SomePage(),\n          }\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>Now, inside of HomePage():</p>\n\n<pre><code>class HomePage extends StatelessWidget {\n\n\n  @override\n  Widget build(BuildContext context) {\n    final counterProvider = Provider.of&lt;CounterProvider&gt;(context);\n    // Inject the provider in your widget. From here, you have access to the Counter properties.\n\n    return Scaffold(\n      appBar: AppBar(\n        title: Text( counterProvider.counter.toString() ), // accessing to the provider!\n      ),\n      body: Center(\n        child: Text(counterProvider.counter.toString()), // again\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>Of course you can create your methods you need in the provider so you can change the state in anyway you want.</p>\n\n<p>I hope it helps!</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=-KX2rH0qdKA\" rel=\"nofollow noreferrer\">Youtube link in spanish but understable workflow</a></p>\n"}], "owner": {"reputation": 23, "user_id": 11951740, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MDlTYipB7QA/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAYq8OKHCU9-1CK-jlKuvNpr9PciA/mo/photo.jpg?sz=128", "display_name": "St&#233;phane", "link": "https://stackoverflow.com/users/11951740/st%c3%a9phane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "accepted_answer_id": 57577726, "answer_count": 1, "score": -1, "last_activity_date": 1566317651, "creation_date": 1566306368, "question_id": 57574396, "link": "https://stackoverflow.com/questions/57574396/queue-stream-or-something-else", "title": "Queue, stream or something else?", "body": "<p>I have stateful widgets A, B and C. B and C are both children of A. I have created a queue Q in widget A. Both B and C show the first element of Q, but when 'dismissing' this element in either B or C, both widgets should show the next element of Q.</p>\n\n<p>Currently the problem is that widgets B and C cannot detect changes and I don't think there is a way to listen for queue changes on this Queue implementation: <a href=\"https://api.dartlang.org/stable/2.4.1/dart-collection/Queue-class.html\" rel=\"nofollow noreferrer\">https://api.dartlang.org/stable/2.4.1/dart-collection/Queue-class.html</a></p>\n\n<p>Should I use a Queue? I have also read about streams, but I am not sure that will work either, because the first element should not necessarily be consumed by B or C. Any ideas?</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 881, "user_id": 1850887, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/601a5e16e671f96ba08ef5ce996a47d7?s=128&d=identicon&r=PG&f=1", "display_name": "MRu", "link": "https://stackoverflow.com/users/1850887/mru"}, "edited": false, "score": 0, "creation_date": 1566310380, "post_id": 57574462, "comment_id": 101611453, "body": "Hi. Thank you. I have followed your advice. But i am not sure how to reset the validation error message in TextFormField. Please help"}, {"owner": {"reputation": 881, "user_id": 1850887, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/601a5e16e671f96ba08ef5ce996a47d7?s=128&d=identicon&r=PG&f=1", "display_name": "MRu", "link": "https://stackoverflow.com/users/1850887/mru"}, "edited": false, "score": 0, "creation_date": 1566345308, "post_id": 57574462, "comment_id": 101624706, "body": "Instead of validating the form again, i just want the textformfield that has error showing to be reset again(clear the error). Is this possible?"}, {"owner": {"reputation": 752, "user_id": 10651021, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-a1D4dnf7Hdg/AAAAAAAAAAI/AAAAAAAAAAc/Pxa3wC1NCtI/photo.jpg?sz=128", "display_name": "Mohamed hassan kadri", "link": "https://stackoverflow.com/users/10651021/mohamed-hassan-kadri"}, "reply_to_user": {"reputation": 881, "user_id": 1850887, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/601a5e16e671f96ba08ef5ce996a47d7?s=128&d=identicon&r=PG&f=1", "display_name": "MRu", "link": "https://stackoverflow.com/users/1850887/mru"}, "edited": false, "score": 0, "creation_date": 1566372978, "post_id": 57574462, "comment_id": 101630984, "body": "Yes this is possible . I would suggest  for the function validate email to do ur logic  and tests . and if there is no problemes return null . and always validate the form field whenever he types something  and you should be okay"}, {"owner": {"reputation": 752, "user_id": 10651021, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-a1D4dnf7Hdg/AAAAAAAAAAI/AAAAAAAAAAc/Pxa3wC1NCtI/photo.jpg?sz=128", "display_name": "Mohamed hassan kadri", "link": "https://stackoverflow.com/users/10651021/mohamed-hassan-kadri"}, "reply_to_user": {"reputation": 881, "user_id": 1850887, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/601a5e16e671f96ba08ef5ce996a47d7?s=128&d=identicon&r=PG&f=1", "display_name": "MRu", "link": "https://stackoverflow.com/users/1850887/mru"}, "edited": false, "score": 0, "creation_date": 1566373125, "post_id": 57574462, "comment_id": 101631055, "body": "String validateEmail(String value) {        if (value.length == 0) {       return &quot;too long&quot;;     }      return null;   }    TextFormField( validator: validateEmail ),"}, {"owner": {"reputation": 881, "user_id": 1850887, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/601a5e16e671f96ba08ef5ce996a47d7?s=128&d=identicon&r=PG&f=1", "display_name": "MRu", "link": "https://stackoverflow.com/users/1850887/mru"}, "edited": false, "score": 0, "creation_date": 1566425575, "post_id": 57574462, "comment_id": 101656744, "body": "can&#39;t we do something like &quot;emailController.validate()&quot; or &quot;emailController.resetError()&quot; instead of validating the entire form?"}, {"owner": {"reputation": 752, "user_id": 10651021, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-a1D4dnf7Hdg/AAAAAAAAAAI/AAAAAAAAAAc/Pxa3wC1NCtI/photo.jpg?sz=128", "display_name": "Mohamed hassan kadri", "link": "https://stackoverflow.com/users/10651021/mohamed-hassan-kadri"}, "reply_to_user": {"reputation": 881, "user_id": 1850887, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/601a5e16e671f96ba08ef5ce996a47d7?s=128&d=identicon&r=PG&f=1", "display_name": "MRu", "link": "https://stackoverflow.com/users/1850887/mru"}, "edited": false, "score": 0, "creation_date": 1566598036, "post_id": 57574462, "comment_id": 101720197, "body": "You cant since the TextFormField is within form so you need to validate the form  to trigger the condition"}], "tags": [], "owner": {"reputation": 752, "user_id": 10651021, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-a1D4dnf7Hdg/AAAAAAAAAAI/AAAAAAAAAAc/Pxa3wC1NCtI/photo.jpg?sz=128", "display_name": "Mohamed hassan kadri", "link": "https://stackoverflow.com/users/10651021/mohamed-hassan-kadri"}, "is_accepted": false, "score": 0, "last_activity_date": 1566306560, "creation_date": 1566306560, "answer_id": 57574462, "question_id": 57574390, "link": "https://stackoverflow.com/questions/57574390/how-to-reset-error-message-in-textformfield/57574462#57574462", "title": "How to reset error message in TextFormField?", "body": "<p>I would suggest to use the controller and listen to the User input . and whenever  he types something you can validate() your form again </p>\n"}, {"comments": [{"owner": {"reputation": 1223, "user_id": 650894, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b76a642537783acc3d0b6dfb44536925?s=128&d=identicon&r=PG", "display_name": "Joe Lapp", "link": "https://stackoverflow.com/users/650894/joe-lapp"}, "edited": false, "score": 0, "creation_date": 1570816649, "post_id": 57574635, "comment_id": 103047654, "body": "This does indeed solve the problem. Validating the form again resets the error messages for the fields that are now correct."}, {"owner": {"reputation": 3641, "user_id": 5785145, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/fro1z.jpg?s=128&g=1", "display_name": "Dheeraj D", "link": "https://stackoverflow.com/users/5785145/dheeraj-d"}, "edited": false, "score": 0, "creation_date": 1613641057, "post_id": 57574635, "comment_id": 117139409, "body": "You rocked man @Ankit Mahadik"}], "tags": [], "owner": {"reputation": 1208, "user_id": 5461803, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/6a7648c4437c064ef17e5e7541b07cf0?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Mahadik", "link": "https://stackoverflow.com/users/5461803/ankit-mahadik"}, "is_accepted": false, "score": 10, "last_activity_date": 1581304419, "last_edit_date": 1581304419, "creation_date": 1566307090, "answer_id": 57574635, "question_id": 57574390, "link": "https://stackoverflow.com/questions/57574390/how-to-reset-error-message-in-textformfield/57574635#57574635", "title": "How to reset error message in TextFormField?", "body": "<p>You can use auto-validation feature of <code>Form</code></p>\n\n<p>If you looking for this solution,</p>\n\n<blockquote>\n  <p>\"As soon as you type it validates your input and show/hide error\"</p>\n</blockquote>\n\n<p>Flutter provides auto-validation feature, you just need to enable it at form level.</p>\n\n<ol>\n<li><p>Default</p>\n\n<p><code>_autoValidate = false;</code></p></li>\n<li><p>Form</p></li>\n</ol>\n\n<pre class=\"lang-dart prettyprint-override\"><code>    body: Form( key: _formKey,\n                autovalidate: _autoValidate,....)\n</code></pre>\n\n<ol start=\"3\">\n<li>Enable it when user presses submit once,</li>\n</ol>\n\n<pre class=\"lang-dart prettyprint-override\"><code>    if (_formKey.currentState.validate()) {\n      // All Good\n    } else {\n      // start auto validate\n      setState(() {\n        _autoValidate = true;\n      });\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2422, "user_id": 1798328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IgTzM.png?s=128&g=1", "display_name": "BambinoUA", "link": "https://stackoverflow.com/users/1798328/bambinoua"}, "edited": false, "score": 1, "creation_date": 1587454573, "post_id": 60146587, "comment_id": 108510160, "body": "<code>reset</code> method clears <code>all</code> errorneous text fields but only one is changed must be used"}, {"owner": {"reputation": 245, "user_id": 12803789, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AapfHYHIymE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reYahvLwiaUepe-NT16X049tcVbgA/photo.jpg?sz=128", "display_name": "Yogesh Chawla", "link": "https://stackoverflow.com/users/12803789/yogesh-chawla"}, "reply_to_user": {"reputation": 2422, "user_id": 1798328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IgTzM.png?s=128&g=1", "display_name": "BambinoUA", "link": "https://stackoverflow.com/users/1798328/bambinoua"}, "edited": false, "score": 0, "creation_date": 1587659059, "post_id": 60146587, "comment_id": 108604567, "body": "if you want to clear the error warnings then you have to reset the form validation, I guess for now there is no other way"}], "tags": [], "owner": {"reputation": 245, "user_id": 12803789, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AapfHYHIymE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reYahvLwiaUepe-NT16X049tcVbgA/photo.jpg?sz=128", "display_name": "Yogesh Chawla", "link": "https://stackoverflow.com/users/12803789/yogesh-chawla"}, "is_accepted": false, "score": 1, "last_activity_date": 1581323361, "creation_date": 1581323361, "answer_id": 60146587, "question_id": 57574390, "link": "https://stackoverflow.com/questions/57574390/how-to-reset-error-message-in-textformfield/60146587#60146587", "title": "How to reset error message in TextFormField?", "body": "<p>The TextFormField also has the option of onChanged in that you can try to reset the form validation through the FormKey</p>\n\n<pre><code>final _email = Container(\n child: TextFormField(\n decoration: InputDecoration(labelText: email),\n  keyboardType: TextInputType.emailAddress,\n  controller: emailController,\n  validator: _validateEmail,\n  onChanged: (value){\n    formKey.currentState.reset();\n  },\n  onSaved: (input) =&gt; _stringEmail = \n   input.toLowerCase().trim(),\n  ),\n);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 425, "user_id": 12520329, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAc99YJ3tOFYXCe6yR6XgpZU5m3syEeWQ3vIR3T=k-s128", "display_name": "Rohit Soni", "link": "https://stackoverflow.com/users/12520329/rohit-soni"}, "is_accepted": false, "score": 0, "last_activity_date": 1599746461, "last_edit_date": 1599746461, "creation_date": 1581326413, "answer_id": 60147300, "question_id": 57574390, "link": "https://stackoverflow.com/questions/57574390/how-to-reset-error-message-in-textformfield/60147300#60147300", "title": "How to reset error message in TextFormField?", "body": "<p>This one worked form. You can try to validate form like this:</p>\n<pre><code>_formKey.currentState.validate()\n</code></pre>\n<p>You need to define validate field in your <code>TextFormField</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 2422, "user_id": 1798328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IgTzM.png?s=128&g=1", "display_name": "BambinoUA", "link": "https://stackoverflow.com/users/1798328/bambinoua"}, "is_accepted": false, "score": 0, "last_activity_date": 1587458860, "creation_date": 1587458860, "answer_id": 61339432, "question_id": 57574390, "link": "https://stackoverflow.com/questions/57574390/how-to-reset-error-message-in-textformfield/61339432#61339432", "title": "How to reset error message in TextFormField?", "body": "<pre class=\"lang-dart prettyprint-override\"><code>// Somewhere in `State` declaration \nfinal formKey = GlobalKey&lt;FormState&gt;();\nbool autovalidate = false;\n\n@override\nvoid build(BuildContext context) {\n  return Form(\n    key: formKey,\n    autovalidate: autovalidate,\n    child: Column(\n      children: [\n        TextFormField(\n          ...\n          validator: (value) {\n            return (value == null || value.isEmpty) ? 'Cannot be empty' : null;\n          }\n          onChanged: (value) {\n            // Call this to refresh autovalidation result\n            setState(() {});\n          }\n        ),\n      ],\n    ),\n  );\n}\n\nvoid validate() {\n  if(formKey.currentState.validate()) {\n    // data is valid!\n    return true;\n  } elsee {\n    // Activate autovalidation\n    autovalidate = true;\n  }\n  return false;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 96, "user_id": 11218270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f2b708ef5ec8eeb1d2bcc07c5ef76c7?s=128&d=identicon&r=PG&f=1", "display_name": "happy_san", "link": "https://stackoverflow.com/users/11218270/happy-san"}, "is_accepted": false, "score": 0, "last_activity_date": 1598288890, "last_edit_date": 1598288890, "creation_date": 1598288191, "answer_id": 63565444, "question_id": 57574390, "link": "https://stackoverflow.com/questions/57574390/how-to-reset-error-message-in-textformfield/63565444#63565444", "title": "How to reset error message in TextFormField?", "body": "<p>I don't see any answers to your question. I also ran into a situation like this I wanted the fields of the authentication form to reset their validation error once the user changes to Login or Signup. So I added this logic:</p>\n<pre><code>class _AuthFormState extends State&lt;AuthForm&gt; {\n...\n  var _formFlipped = false;                                   // THIS RIGHT HERE\n\n  void _trySubmit() {\n    final isValid = _formKey.currentState.validate();\n    FocusScope.of(context).unfocus();\n    ...\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return \n      ...\n            child: Form(\n                ...\n                  TextFormField(\n                    key: ValueKey('email'),\n                    validator: (value) {\n                      if (_formFlipped) return null;          // THIS\n                      if (value.isEmpty || !value.contains('@')) {\n                        return 'Enter a valid email';\n                      }\n                      return null;\n                    },\n                    ...\n                    RaisedButton(\n                      child: Text(_isLogin ? 'Login' : 'Signup'),\n                      onPressed: () {\n                        setState(() {\n                          _formFlipped = false;               // AND THIS\n                        });\n                        _trySubmit();\n                      },\n                    ),\n                    FlatButton(\n                      child: Text(_isLogin\n                          ? 'Create new account'\n                          : 'I already have an account'),\n                      onPressed: () {                         // THIS TOO\n                        setState(() {\n                          _isLogin = !_isLogin;\n                          _formFlipped = true;\n                          _formKey.currentState.validate();\n                        });\n                      },\n                    ),\n        ...\n</code></pre>\n<p><a href=\"https://imgur.com/a/n5sW1ii\" rel=\"nofollow noreferrer\">Before</a> &amp; <a href=\"https://imgur.com/a/hGUB39m\" rel=\"nofollow noreferrer\">After</a>.</p>\n<p>Edit:</p>\n<p>So basically you just force pass <code>null</code> on all your field validators to clear the message. Alternatively as <a href=\"https://stackoverflow.com/users/12803789/yogesh-chawla\">Yogesh</a> pointed out you can achieve this by simply <code>_formKey.currentState.reset();</code></p>\n<p>But if you need more granular control, this method serves you good since you can set <code>if (_formFlipped) return null;</code> or similar condition to different fields according to your need.</p>\n"}, {"comments": [{"owner": {"reputation": 1559, "user_id": 9844546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QI1lC.jpg?s=128&g=1", "display_name": "Asad S", "link": "https://stackoverflow.com/users/9844546/asad-s"}, "edited": false, "score": 0, "creation_date": 1604915968, "post_id": 64236265, "comment_id": 114482814, "body": "yeah, thanks bro, this new properties is just what we need :)"}], "tags": [], "owner": {"reputation": 73902, "user_id": 1786, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/54b75f6fbf4434162bfcda6b0cb9b86b?s=128&d=identicon&r=PG", "display_name": "John Sheehan", "link": "https://stackoverflow.com/users/1786/john-sheehan"}, "is_accepted": false, "score": 7, "last_activity_date": 1602036978, "creation_date": 1602036978, "answer_id": 64236265, "question_id": 57574390, "link": "https://stackoverflow.com/questions/57574390/how-to-reset-error-message-in-textformfield/64236265#64236265", "title": "How to reset error message in TextFormField?", "body": "<p><code>Form.autovalidate</code> has been deprecated. Use <code>Form.autovalidateMode = AutovalidateMode.onUserInteraction</code> to have the errors automatically clear once a user begins to interact with the form field again without having to manage any state yourself.</p>\n"}], "owner": {"reputation": 881, "user_id": 1850887, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/601a5e16e671f96ba08ef5ce996a47d7?s=128&d=identicon&r=PG&f=1", "display_name": "MRu", "link": "https://stackoverflow.com/users/1850887/mru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5024, "favorite_count": 0, "answer_count": 7, "score": 7, "last_activity_date": 1602036978, "creation_date": 1566306349, "last_edit_date": 1566345414, "question_id": 57574390, "link": "https://stackoverflow.com/questions/57574390/how-to-reset-error-message-in-textformfield", "title": "How to reset error message in TextFormField?", "body": "<p>I know this is a simple question but i did not find how to do this. How can i reset error message in TextFormField when the user input something in the field. Something like onchange listener. I notice onChanged is available in TextField but not TextFormField. How can i do this?</p>\n\n<pre><code>final _email = Container(\n  child: TextFormField(\n    decoration: InputDecoration(labelText: email),\n    keyboardType: TextInputType.emailAddress,\n    controller: emailController,\n    validator: _validateEmail,\n    onSaved: (input) =&gt; _stringEmail = input.toLowerCase().trim(),\n  ),\n);\n</code></pre>\n\n<p>UPDATE: I am using controller to add listener for user input. But i just want to reset the error message instead of validating the form again. Is this possible? How can i do this?</p>\n\n<pre><code>  _resetEmailErrorMessage() {\n    print(\"Second text field: ${emailController.text}\");\n    //replace clear to something that can reset the validation error message\n    emailController.clear();\n  }\n\n  @override\n  void initState() {\n    super.initState();\n\n    //start listening to changes\n    emailController.addListener(_resetEmailErrorMessage);\n  }\n</code></pre>\n"}, {"tags": ["flutter", "dart", "flutter-web"], "comments": [{"owner": {"reputation": 925, "user_id": 10983510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BBIGn.png?s=128&g=1", "display_name": "Zeeshan Ansari", "link": "https://stackoverflow.com/users/10983510/zeeshan-ansari"}, "edited": false, "score": 2, "creation_date": 1574330849, "post_id": 57573876, "comment_id": 104198167, "body": "hey,Have you find anything like this? actually I am also looking for the same..."}, {"owner": {"reputation": 1491, "user_id": 9356153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FKw6H.jpg?s=128&g=1", "display_name": "DomingoMG", "link": "https://stackoverflow.com/users/9356153/domingomg"}, "reply_to_user": {"reputation": 925, "user_id": 10983510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BBIGn.png?s=128&g=1", "display_name": "Zeeshan Ansari", "link": "https://stackoverflow.com/users/10983510/zeeshan-ansari"}, "edited": false, "score": 0, "creation_date": 1574459771, "post_id": 57573876, "comment_id": 104254839, "body": "I still can&#39;t find a stable web repository, but you can look more here <a href=\"https://github.com/memspace/zefyr/issues/110\" rel=\"nofollow noreferrer\">github.com/memspace/zefyr/issues/110</a>"}, {"owner": {"reputation": 925, "user_id": 10983510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BBIGn.png?s=128&g=1", "display_name": "Zeeshan Ansari", "link": "https://stackoverflow.com/users/10983510/zeeshan-ansari"}, "edited": false, "score": 0, "creation_date": 1574660183, "post_id": 57573876, "comment_id": 104296172, "body": "okay, thanks..I&#39;ll checkout"}, {"owner": {"reputation": 2016, "user_id": 2075134, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8d5e34ca0a3f95680dfb702f964c933d?s=128&d=identicon&r=PG&f=1", "display_name": "MrDumb", "link": "https://stackoverflow.com/users/2075134/mrdumb"}, "edited": false, "score": 0, "creation_date": 1575437531, "post_id": 57573876, "comment_id": 104562027, "body": "does this work with flutter web ??"}, {"owner": {"reputation": 1491, "user_id": 9356153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FKw6H.jpg?s=128&g=1", "display_name": "DomingoMG", "link": "https://stackoverflow.com/users/9356153/domingomg"}, "edited": false, "score": 1, "creation_date": 1575812164, "post_id": 57573876, "comment_id": 104683566, "body": "You can find it here: <a href=\"https://github.com/memspace/zefyr/issues/110\" rel=\"nofollow noreferrer\">github.com/memspace/zefyr/issues/110</a>  I didn&#39;t get it to work on the web."}, {"owner": {"reputation": 971, "user_id": 2202757, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/U5NGN.jpg?s=128&g=1", "display_name": "sh0umik", "link": "https://stackoverflow.com/users/2202757/sh0umik"}, "edited": false, "score": 0, "creation_date": 1577307773, "post_id": 57573876, "comment_id": 105140104, "body": "I am also looking for a solution for flutter web"}, {"owner": {"reputation": 6214, "user_id": 1700793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qDrtE.jpg?s=128&g=1", "display_name": "David_E", "link": "https://stackoverflow.com/users/1700793/david-e"}, "edited": false, "score": 3, "creation_date": 1587841805, "post_id": 57573876, "comment_id": 108670424, "body": "in the same boat as you guys... need a rich text editor that works in Flutter Web"}, {"owner": {"reputation": 6214, "user_id": 1700793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qDrtE.jpg?s=128&g=1", "display_name": "David_E", "link": "https://stackoverflow.com/users/1700793/david-e"}, "edited": false, "score": 0, "creation_date": 1587926231, "post_id": 57573876, "comment_id": 108695874, "body": "There&#39;s this discussion, but so far nothing stable. <a href=\"https://github.com/memspace/zefyr/issues/222\" rel=\"nofollow noreferrer\">github.com/memspace/zefyr/issues/222</a>"}], "answers": [{"tags": [], "owner": {"reputation": 639, "user_id": 9969687, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3u518g-vFCE/AAAAAAAAAAI/AAAAAAAAIWk/3ebH0GCR1kw/photo.jpg?sz=128", "display_name": "Patrick Kelly", "link": "https://stackoverflow.com/users/9969687/patrick-kelly"}, "is_accepted": false, "score": 1, "last_activity_date": 1608899189, "last_edit_date": 1608899189, "creation_date": 1591115373, "answer_id": 62156749, "question_id": 57573876, "link": "https://stackoverflow.com/questions/57573876/flutter-web-rich-text-editor/62156749#62156749", "title": "Flutter Web Rich Text Editor", "body": "<p>This will build for flutter web you need to make sure you are on <code>master branch</code> of <code>zephyr</code> and <code>flutter</code></p>\n<p>To change branch type in your console</p>\n<pre><code>flutter channel master\n\nflutter channel upgrade\n</code></pre>\n<p>Hope this helps friends.</p>\n<p>Patrick.</p>\n"}], "owner": {"reputation": 1491, "user_id": 9356153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FKw6H.jpg?s=128&g=1", "display_name": "DomingoMG", "link": "https://stackoverflow.com/users/9356153/domingomg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5769, "favorite_count": 1, "answer_count": 1, "score": 18, "last_activity_date": 1608899189, "creation_date": 1566304698, "question_id": 57573876, "link": "https://stackoverflow.com/questions/57573876/flutter-web-rich-text-editor", "title": "Flutter Web Rich Text Editor", "body": "<p>I am looking for a text editor similar to the one in the image.</p>\n\n<p><a href=\"https://i.stack.imgur.com/WSLxf.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/WSLxf.png\" alt=\"enter image description here\"></a>\nI have seen an add-on that performs exactly what I want but is associated with the mobile keyboard.</p>\n\n<p>In flutter web no keyboard opens, but you type directly.</p>\n\n<p>That is why I would like to know if there is any solution to get what I am looking for, I am waiting for an answer, thank you very much for your attention.</p>\n\n<p><strong>Here you have the plugin link:</strong>\n<a href=\"https://pub.dev/packages/zefyr\" rel=\"noreferrer\">https://pub.dev/packages/zefyr</a>\n<a href=\"https://i.stack.imgur.com/XlTwr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/XlTwr.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["dart"], "answers": [{"comments": [{"owner": {"reputation": 3042, "user_id": 1021113, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ad86d780fec0e2069c8f375b27755933?s=128&d=identicon&r=PG", "display_name": "Alexander Arendar", "link": "https://stackoverflow.com/users/1021113/alexander-arendar"}, "edited": false, "score": 0, "creation_date": 1566307687, "post_id": 57574042, "comment_id": 101609769, "body": "Thanks. I&#39;ve tried with bigger files and it produces multiple chunks."}, {"owner": {"reputation": 358195, "user_id": 3681880, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3b7ad8915f552cd4e23caf38eee10030?s=128&d=identicon&r=PG", "display_name": "Suragch", "link": "https://stackoverflow.com/users/3681880/suragch"}, "edited": false, "score": 0, "creation_date": 1599015019, "post_id": 57574042, "comment_id": 112639078, "body": "On my local machine, the buffer size was also 65536 bytes. Is it the platform implementation that determines the buffer size or is it Dart?"}], "tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": true, "score": 3, "last_activity_date": 1566305208, "creation_date": 1566305208, "answer_id": 57574042, "question_id": 57573509, "link": "https://stackoverflow.com/questions/57573509/reading-file-as-stream-of-strings-in-dart-how-many-events-will-be-emitted/57574042#57574042", "title": "Reading file as stream of strings in Dart: how many events will be emitted?", "body": "<p>It depends on file size and buffer size, and however the file operations are implemented.</p>\n\n<p>If you read a large file, you will very likely get multiple events of a limited size. The UTF-8 decoder decodes chunks eagerly, so you should get roughly the same number of chunks after decoding. It might carry a few bytes across chunk boundaries, but the rest of the bytes are decoded as soon as possible.</p>\n\n<p>Checking on my local machine, the buffer size seems to be 65536 bytes. Reading a file larger than that gives me multiple chunks.</p>\n"}], "owner": {"reputation": 3042, "user_id": 1021113, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ad86d780fec0e2069c8f375b27755933?s=128&d=identicon&r=PG", "display_name": "Alexander Arendar", "link": "https://stackoverflow.com/users/1021113/alexander-arendar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 57574042, "answer_count": 1, "score": 1, "last_activity_date": 1566305208, "creation_date": 1566303501, "last_edit_date": 1566304352, "question_id": 57573509, "link": "https://stackoverflow.com/questions/57573509/reading-file-as-stream-of-strings-in-dart-how-many-events-will-be-emitted", "title": "Reading file as stream of strings in Dart: how many events will be emitted?", "body": "<p>Standard way to open a file in Dart as a stream is to use <code>file.openRead()</code> which returns a <code>Stream&lt;List&lt;int&gt;&gt;</code>.</p>\n\n<p>The next standard step is to transform this stream with <code>utf8.decoder</code> <code>SteamTranformer</code> which returns <code>Stream&lt;String&gt;</code>.</p>\n\n<p>I noticed that with the files I've tried this resulting stream only emits a single event with the whole file content represented as one string. But I feel like this should not be a general case since otherwise the API wouldn't need to return a stream of strings, a <code>Future&lt;String&gt;</code> would suffice.</p>\n\n<p>Could you explain how can I observe the behavior when this stream emits more than one event? Is this dependent on the file size / disk IO rate / some buffers size?</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 3533, "user_id": 3923929, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uiLVo.jpg?s=128&g=1", "display_name": "Durdu", "link": "https://stackoverflow.com/users/3923929/durdu"}, "edited": false, "score": 0, "creation_date": 1566301701, "post_id": 57572799, "comment_id": 101606193, "body": "did it print here? -&gt; System.out.print(&quot;Android Method called&quot;);"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11590240"}, "reply_to_user": {"reputation": 3533, "user_id": 3923929, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uiLVo.jpg?s=128&g=1", "display_name": "Durdu", "link": "https://stackoverflow.com/users/3923929/durdu"}, "edited": false, "score": 0, "creation_date": 1566301802, "post_id": 57572799, "comment_id": 101606242, "body": "System.out.print(&quot;Android Method called&quot;) is not printed out."}, {"owner": {"reputation": 3533, "user_id": 3923929, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uiLVo.jpg?s=128&g=1", "display_name": "Durdu", "link": "https://stackoverflow.com/users/3923929/durdu"}, "edited": false, "score": 0, "creation_date": 1566304013, "post_id": 57572799, "comment_id": 101607502, "body": "does yout MainActivity.java (Android) contain a call to GeneratedPluginRegistrant asking it to register itself?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11590240"}, "reply_to_user": {"reputation": 3533, "user_id": 3923929, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uiLVo.jpg?s=128&g=1", "display_name": "Durdu", "link": "https://stackoverflow.com/users/3923929/durdu"}, "edited": false, "score": 0, "creation_date": 1566309071, "post_id": 57572799, "comment_id": 101610652, "body": "Yes, please check my updated question."}, {"owner": {"reputation": 1438, "user_id": 10441867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IFbf8.jpg?s=128&g=1", "display_name": "Sergio Bernal", "link": "https://stackoverflow.com/users/10441867/sergio-bernal"}, "edited": false, "score": 0, "creation_date": 1566309358, "post_id": 57572799, "comment_id": 101610846, "body": "try changing the channel name to something different like this &quot;reminder_channel&quot;"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11590240"}, "edited": false, "score": 0, "creation_date": 1566309819, "post_id": 57572799, "comment_id": 101611106, "body": "Still the same problem. Any idea?"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11590240"}, "edited": false, "score": 0, "creation_date": 1566310443, "post_id": 57575379, "comment_id": 101611485, "body": "Sorry, but I can&#39;t assign a variable to the new MethodChannel. How did you make this?"}, {"owner": {"reputation": 3533, "user_id": 3923929, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uiLVo.jpg?s=128&g=1", "display_name": "Durdu", "link": "https://stackoverflow.com/users/3923929/durdu"}, "edited": false, "score": 0, "creation_date": 1566310793, "post_id": 57575379, "comment_id": 101611658, "body": "That is right, I missed that. Updated my response, please recheck."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11590240"}, "edited": false, "score": 0, "creation_date": 1566311581, "post_id": 57575379, "comment_id": 101612115, "body": "Still the same problem"}], "tags": [], "owner": {"reputation": 3533, "user_id": 3923929, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uiLVo.jpg?s=128&g=1", "display_name": "Durdu", "link": "https://stackoverflow.com/users/3923929/durdu"}, "is_accepted": false, "score": 0, "last_activity_date": 1566310756, "last_edit_date": 1566310756, "creation_date": 1566309615, "answer_id": 57575379, "question_id": 57572799, "link": "https://stackoverflow.com/questions/57572799/platform-specific-code-error-missingpluginexception/57575379#57575379", "title": "Platform specific code error: MissingPluginException", "body": "<p>I suspect your channel is deallocated at the end of the method.</p>\n\n<p>So keep a reference to the MethodChannel in your acivity:</p>\n\n<pre><code>private static final String notificationChannel = \"reminderChannel\";\nprivate MethodChannel mainChannel;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    GeneratedPluginRegistrant.registerWith(this);\n    reminderChannel = new MethodChannel(getFlutterView(), notificationChannel)\n    reminderChannel.setMethodCallHandler(\n            new MethodCallHandler() {\n                @Override\n                public void onMethodCall(MethodCall methodCall, Result result) {\n                    if (methodCall.method.equals(\"send_notification\")) {\n                        System.out.print(\"Android Method called\");\n                        result.success(5);\n                    } else {\n                        result.notImplemented();\n                    }\n                }\n            }\n    );\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11590240"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566310756, "creation_date": 1566301083, "last_edit_date": 1566308044, "question_id": 57572799, "link": "https://stackoverflow.com/questions/57572799/platform-specific-code-error-missingpluginexception", "title": "Platform specific code error: MissingPluginException", "body": "<p>I want to send an Notification in Flutter, so I set up my platform specific code (only Android) but I get the following error back: </p>\n\n<pre><code>Unhandled Exception: MissingPluginException(No implementation found for method send_notification on channel reminderChannel)\n</code></pre>\n\n<p>I already cleaned the project but still not working.</p>\n\n<p>Future to invoke method:</p>\n\n<pre><code>const platform = const MethodChannel(\"reminderChannel\");\n\nFuture&lt;void&gt; invokeMethod() async {\n  try {\n    //FIXME Missing plugin\n    int testValue = await platform.invokeMethod(\"send_notification\");\n  } on PlatformException catch (e) {}\n}\n\ninvokeMethod();\n</code></pre>\n\n<p>mainActivity:</p>\n\n<pre><code>\nprivate static final String notificationChannel = \"reminderChannel\";\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    GeneratedPluginRegistrant.registerWith(this);\n    new MethodChannel(getFlutterView(), notificationChannel).setMethodCallHandler(\n            new MethodCallHandler() {\n                @Override\n                public void onMethodCall(MethodCall methodCall, Result result) {\n                    if (methodCall.method.equals(\"send_notification\")) {\n                        System.out.print(\"Android Method called\");\n                        result.success(5);\n                    } else {\n                        result.notImplemented();\n                    }\n                }\n            }\n    );\n}\n</code></pre>\n\n<p>I want that the testValue variable in invokeMethod equals 5.</p>\n\n<p>Thanks for helping.</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 598, "user_id": 2457045, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/1IQad.png?s=128&g=1", "display_name": "Henrique Arthur", "link": "https://stackoverflow.com/users/2457045/henrique-arthur"}, "edited": false, "score": 1, "creation_date": 1566301163, "post_id": 57572540, "comment_id": 101605887, "body": "Check <a href=\"https://stackoverflow.com/questions/18258267/is-there-a-way-to-pass-a-primitive-parameter-by-reference-in-dart\" title=\"is there a way to pass a primitive parameter by reference in dart\">stackoverflow.com/questions/18258267/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": true, "score": 4, "last_activity_date": 1566305678, "creation_date": 1566305678, "answer_id": 57574190, "question_id": 57572540, "link": "https://stackoverflow.com/questions/57572540/pass-state-variable-reference-to-function/57574190#57574190", "title": "Pass state variable reference to function", "body": "<p>Yes, the assumptions if false. Dart cannot pass variables by reference, all parameters are passed by value. (Object values are actually object references, but that's a separate and unrelated use of the word \"reference\", and passing an object as a parameter does pass the object reference <em>by value</em>).</p>\n\n<p>If you want to pass something that allows the callee to change the value of a variable, you should pass a \"setter function\":</p>\n\n<pre><code>void update(void setVariable(String value)) {\n   setState(() {\n     setVariable('updated value');\n   });\n}\n...\n   update((value) { stateVariable = value; });\n</code></pre>\n\n<p>There is no way to \"tear off\" a setter, so you have to write the function out.</p>\n"}, {"tags": [], "owner": {"reputation": 915, "user_id": 4138739, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/nym0K.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/4138739/peter"}, "is_accepted": false, "score": 0, "last_activity_date": 1566315902, "creation_date": 1566315902, "answer_id": 57577281, "question_id": 57572540, "link": "https://stackoverflow.com/questions/57572540/pass-state-variable-reference-to-function/57577281#57577281", "title": "Pass state variable reference to function", "body": "<p>I accepted the answer of <code>Irn</code> and would like to share my solution, which I ended up using.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Future&lt;String&gt; update() async {\n  ... // Do some async stuff here.\n  return Future.value('updated value');\n}\n...\nupdate().then((value) =&gt; setState(() { stateVariable = value });\n</code></pre>\n\n<p>It removes the necessity of updating the state in the <code>update</code> function. This does not answer my question, but is a more elegant way I believe.</p>\n"}], "owner": {"reputation": 915, "user_id": 4138739, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/nym0K.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/4138739/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 386, "favorite_count": 0, "accepted_answer_id": 57574190, "answer_count": 2, "score": 0, "last_activity_date": 1566315902, "creation_date": 1566300240, "question_id": 57572540, "link": "https://stackoverflow.com/questions/57572540/pass-state-variable-reference-to-function", "title": "Pass state variable reference to function", "body": "<p>I'd like to reuse one function to update different state variables of a <code>StatefulWidget</code>. Which state variable gets updated should depend on the variable reference which is passed to the function as a parameter. Here's some example code:</p>\n\n<pre><code>class _MyScreenState extends State&lt;MyScreen&gt; {\n  String stateVariable = 'initial value';\n\n  void update(String variableRef) {\n    setState((() {\n      variableRef = 'updated value';\n    })\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return GestureDetector(\n      onTap: () =&gt; update(stateVariable),\n      child: Text(stateVariable)\n    )\n  }\n}\n</code></pre>\n\n<p>The state is set successfully in the <code>setState</code> function, but unfortunately the state change is not represented in the UI, i.e. the <code>build</code> function is not called again. </p>\n\n<p>My expectation here would be that the <code>stateVariable</code> should be updated since I pass the variable to the <code>update</code> function by reference. Is this assumption false?</p>\n\n<p>Do you know a way of passing a state variable by reference so that it can be updated idempotently by a function? </p>\n"}, {"tags": ["ios", "xcode", "flutter", "dart"], "comments": [{"owner": {"reputation": 1560, "user_id": 3988946, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002665911021/picture?type=large", "display_name": "Arun R. Prajapati", "link": "https://stackoverflow.com/users/3988946/arun-r-prajapati"}, "edited": false, "score": 0, "creation_date": 1566298489, "post_id": 57571845, "comment_id": 101604494, "body": "can you please share the Github link, i just wanna have a look on plugins and methods name"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 2, "creation_date": 1566299184, "post_id": 57571845, "comment_id": 101604826, "body": "I&#39;m voting to close this question as off-topic because App Store questions are off topic."}], "answers": [{"comments": [{"owner": {"reputation": 11867, "user_id": 348589, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/botCg.jpg?s=128&g=1", "display_name": "Shady Mohamed Sherif", "link": "https://stackoverflow.com/users/348589/shady-mohamed-sherif"}, "edited": false, "score": 0, "creation_date": 1583536508, "post_id": 57572143, "comment_id": 107163225, "body": "use <code>flutter clean</code> first"}], "tags": [], "owner": {"reputation": 475, "user_id": 2798521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f6aa41fafbf690c8b27b137f281e0db?s=128&d=identicon&r=PG&f=1", "display_name": "Kolineal", "link": "https://stackoverflow.com/users/2798521/kolineal"}, "is_accepted": true, "score": 15, "last_activity_date": 1566298824, "creation_date": 1566298824, "answer_id": 57572143, "question_id": 57571845, "link": "https://stackoverflow.com/questions/57571845/app-does-not-uploaded-on-ios-app-connect-store-with-reason-non-public-apis/57572143#57572143", "title": "App does not uploaded on iOS App connect store with reason non-public APIs", "body": "<p>It looks like you are submitting a debug build. <a href=\"https://github.com/flutter/flutter/issues/37850\" rel=\"noreferrer\">You can find discussion of the same problem here</a>.</p>\n\n<p>Did you copied the build after running <code>flutter run</code>?</p>\n\n<p>Or you might have missed <code>flutter build ios --release</code></p>\n"}], "owner": {"reputation": 911, "user_id": 10805963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/852049a28419e18e35e22e48b6609011?s=128&d=identicon&r=PG&f=1", "display_name": "Neha Bhardwaj", "link": "https://stackoverflow.com/users/10805963/neha-bhardwaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3010, "favorite_count": 1, "closed_date": 1566307614, "accepted_answer_id": 57572143, "answer_count": 1, "score": 9, "last_activity_date": 1566304570, "creation_date": 1566297732, "last_edit_date": 1592644375, "question_id": 57571845, "link": "https://stackoverflow.com/questions/57571845/app-does-not-uploaded-on-ios-app-connect-store-with-reason-non-public-apis", "closed_reason": "Not suitable for this site", "title": "App does not uploaded on iOS App connect store with reason non-public APIs", "body": "<p>I am trying to upload my App on Apple store. But app got rejected with reason non-public APIs.Whole reason for rejection is given below:</p>\n<blockquote>\n<p>Dear Developer,\nWe identified one or more issues with a recent delivery for your app, &quot;AppName&quot;. &gt; Please correct the following issues, then upload again.</p>\n<p>ITMS-90338: Non-public API usage - The app references non-public\nsymbols in Frameworks/Flutter.framework/Flutter: _ptrace. If method\nnames in your source code match the private Apple APIs listed above,\naltering your method names will help prevent this app from being\nflagged in future submissions. In addition, note that one or more of\nthe above APIs may be located in a static library that was included\nwith your app. If so, they must be removed. For further information,\nvisit the Technical Support Information at\n<a href=\"http://developer.apple.com/support/technical/\" rel=\"noreferrer\">http://developer.apple.com/support/technical/</a></p>\n</blockquote>\n<p>I tried many times but got same error message. If anyone solve this problem please help.</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 1582, "user_id": 6501536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdfdabd02b67748574074aca1307499c?s=128&d=identicon&r=PG&f=1", "display_name": "motia", "link": "https://stackoverflow.com/users/6501536/motia"}, "edited": false, "score": 0, "creation_date": 1566308563, "post_id": 57571761, "comment_id": 101610324, "body": "According to this <a href=\"https://github.com/dart-lang/sdk/issues/10530\" rel=\"nofollow noreferrer\">issue</a>, it seems there is not possible in Flutter. Anyway, I can suggest a solution if you tell me whether the <code>bool</code> value is a constant or how it is is calculated."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6274128"}, "reply_to_user": {"reputation": 1582, "user_id": 6501536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdfdabd02b67748574074aca1307499c?s=128&d=identicon&r=PG&f=1", "display_name": "motia", "link": "https://stackoverflow.com/users/6501536/motia"}, "edited": false, "score": 0, "creation_date": 1566315855, "post_id": 57571761, "comment_id": 101614668, "body": "@mutasaki the <code>bool</code> value isn&#39;t a constant, it can be changed on a button click."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6274128"}, "edited": false, "score": 0, "creation_date": 1566376576, "post_id": 57578300, "comment_id": 101632664, "body": "Thanks for giving me an idea."}], "tags": [], "owner": {"reputation": 1582, "user_id": 6501536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdfdabd02b67748574074aca1307499c?s=128&d=identicon&r=PG&f=1", "display_name": "motia", "link": "https://stackoverflow.com/users/6501536/motia"}, "is_accepted": false, "score": 0, "last_activity_date": 1566319898, "creation_date": 1566319898, "answer_id": 57578300, "question_id": 57571761, "link": "https://stackoverflow.com/questions/57571761/flutter-dart-import-files-at-runtime/57578300#57578300", "title": "Flutter/Dart Import files at runtime", "body": "<p>According to this <a href=\"https://github.com/dart-lang/sdk/issues/10530#issuecomment-450510757\" rel=\"nofollow noreferrer\">issue</a>, it seems there is not possible in Flutter.</p>\n\n<p>This is because a Flutter app is compiled AOT (ahead of time), so it needs to load all the sources at compile time.</p>\n\n<p>So, instead of counting on dynamic modules imports, your options are:</p>\n\n<ul>\n<li>using compile time constants</li>\n</ul>\n\n<pre><code>// letter.dart\nclass Letters {\n  final String one;\n  final String two;\n\n  const Letter(this.one, this.two);\n}\n\n// abc.dart\nconst ABC = Letters('one', two');\n\n// xyz.dart\nconst XYZ = Letters('1', 2');\n\n\n// main\nimport './abc.dart'\nimport './xyz.dart'\n\nonPressedHandler() {\n  print(boolValue? abc.one : xyz.one);\n}\n</code></pre>\n\n<ul>\n<li>specify the files as assets and parse them in run time.<a href=\"https://flutter.dev/docs/development/ui/assets-and-images#loading-text-assets\" rel=\"nofollow noreferrer\">documentation about using assets</a></li>\n</ul>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6274128"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 989, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566319898, "creation_date": 1566297377, "last_edit_date": 1566297756, "question_id": 57571761, "link": "https://stackoverflow.com/questions/57571761/flutter-dart-import-files-at-runtime", "title": "Flutter/Dart Import files at runtime", "body": "<p>I have two files named</p>\n\n<p><code>abc.dart</code></p>\n\n<pre><code>String one = \"One\";\nString two = \"Two\";\n</code></pre>\n\n<p>and <code>xyz.dart</code></p>\n\n<pre><code>String one = \"1\";\nString two = \"2\";\n</code></pre>\n\n<p>In my app, I have a <code>bool</code> value, if it is <code>true</code> I want to use <code>one</code> as <code>\"One\"</code> and if <code>false</code>, <code>one</code> should be <code>\"1\"</code>. </p>\n\n<p>That is I need to import <code>abc.dart</code> on <code>true</code> and <code>xyz.dart</code> on <code>false</code>.</p>\n"}, {"tags": ["android", "flutter", "dart", "checkboxlist"], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 9432819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a8c11def3d1c31b169235696e04d021?s=128&d=identicon&r=PG&f=1", "display_name": "NiiLx", "link": "https://stackoverflow.com/users/9432819/niilx"}, "edited": false, "score": 0, "creation_date": 1566299747, "post_id": 57572177, "comment_id": 101605098, "body": "For checkboxList Widget it is mandatory to provide &quot;value:&quot; portion."}], "tags": [], "owner": {"reputation": 161, "user_id": 11950115, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RO_mAHGnZ3Q/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re8kxH6G2nxDJRZdnZ55Tq2JVnHNQ/photo.jpg?sz=128", "display_name": "Shagun Jain", "link": "https://stackoverflow.com/users/11950115/shagun-jain"}, "is_accepted": false, "score": 0, "last_activity_date": 1566310519, "last_edit_date": 1566310519, "creation_date": 1566298919, "answer_id": 57572177, "question_id": 57571709, "link": "https://stackoverflow.com/questions/57571709/flutter-checkbox-when-i-tick-one-element-all-the-others-are-getting-selected-t/57572177#57572177", "title": "Flutter checkbox: When I tick one element, all the others are getting selected too", "body": "<p>Instead of using _state , try directly passing the value to the particular tile    </p>\n\n<pre><code>onChanged: (bool value) {\n    setState(() {\n         widget.formItems[widget.count]['list'][i]['value'] = value;\n    });\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 47, "user_id": 4687181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49a67691b7c19e0dec0036352f8f24f8?s=128&d=identicon&r=PG&f=1", "display_name": "SHK", "link": "https://stackoverflow.com/users/4687181/shk"}, "is_accepted": false, "score": 0, "last_activity_date": 1566307990, "creation_date": 1566307990, "answer_id": 57574912, "question_id": 57571709, "link": "https://stackoverflow.com/questions/57571709/flutter-checkbox-when-i-tick-one-element-all-the-others-are-getting-selected-t/57574912#57574912", "title": "Flutter checkbox: When I tick one element, all the others are getting selected too", "body": "<p>Well your state object needs to be a list or map since you are working with list here. You can then initialize your <code>List&lt;bool&gt; _state</code> in <code>initState()</code> so first override that on your stateful widget then you will need such modification.</p>\n\n<pre><code>\nFutureBuilder&lt;List&lt;Map&gt;&gt;(\nfuture: fetchUsersFromDatabase(),\nbuilder: (context, snapshot) {\n    if (snapshot.hasData) {\n        return new ListView.builder(\n        itemCount: snapshot.data.length,\n        itemBuilder: (context, index) {\n          return new Column(\n            crossAxisAlignment:    CrossAxisAlignment.start,\n            children: &lt;Widget&gt;[\n\n              CheckboxListTile(\n\n                  value:_State[index],\n                  title: new Text(\n                      snapshot.data[index]['checkcode'] +\n                          \",Tk\" +\n                          snapshot.data[index]['amount'].toString(),\n                      style: new TextStyle(\n                          fontWeight: FontWeight.bold,\n                          fontSize: 18.0)),\n                  activeColor: Colors.blue,\n                  onChanged: (b) {\n                    setState(() {                       \n                     _State[index]= !_State[index];\n                    });\n                  }),\n\n\n              new Divider(),\n            ],\n          );\n        });\n    } else if (snapshot.hasError) {\n        return new Text(\"${snapshot.error}\");\n    }\n}\n\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 9432819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a8c11def3d1c31b169235696e04d021?s=128&d=identicon&r=PG&f=1", "display_name": "NiiLx", "link": "https://stackoverflow.com/users/9432819/niilx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 284, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1566310519, "creation_date": 1566297186, "last_edit_date": 1566299841, "question_id": 57571709, "link": "https://stackoverflow.com/questions/57571709/flutter-checkbox-when-i-tick-one-element-all-the-others-are-getting-selected-t", "title": "Flutter checkbox: When I tick one element, all the others are getting selected too", "body": "<p>In this portion of my code when I tick a element of checkboxlist all the others are also getting selected.</p>\n\n<p>I tried on putting index on _State[index] ,but does not work.</p>\n\n<pre><code>FutureBuilder&lt;List&lt;Map&gt;&gt;(\nfuture: fetchUsersFromDatabase(),\nbuilder: (context, snapshot) {\n    if (snapshot.hasData) {\n        return new ListView.builder(\n        itemCount: snapshot.data.length,\n        itemBuilder: (context, index) {\n          return new Column(\n            crossAxisAlignment:    CrossAxisAlignment.start,\n            children: &lt;Widget&gt;[\n\n              CheckboxListTile(\n\n                  value:_State,\n                  title: new Text(\n                      snapshot.data[index]['checkcode'] +\n                          \",Tk\" +\n                          snapshot.data[index]['amount'].toString(),\n                      style: new TextStyle(\n                          fontWeight: FontWeight.bold,\n                          fontSize: 18.0)),\n                  activeColor: Colors.blue,\n                  onChanged: (b) {\n                    setState(() {                       \n                     _State= !_State;\n                    });\n                  }),\n\n\n              new Divider(),\n            ],\n          );\n        });\n    } else if (snapshot.hasError) {\n        return new Text(\"${snapshot.error}\");\n    }\n}\n</code></pre>\n\n<p>Expecting to select each element of list separately.</p>\n"}, {"tags": ["flutter", "dart", "sms"], "comments": [{"owner": {"reputation": 2274, "user_id": 10336633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b21ffcb04821a06beab9ffe3e812e08?s=128&d=identicon&r=PG&f=1", "display_name": "Ryosuke", "link": "https://stackoverflow.com/users/10336633/ryosuke"}, "edited": false, "score": 0, "creation_date": 1566295050, "post_id": 57570842, "comment_id": 101602720, "body": "try changing <code>_sendSMS(message, data[1]);</code> to <code>_sendSMS(message, [data[1]]);</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1560, "user_id": 3988946, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002665911021/picture?type=large", "display_name": "Arun R. Prajapati", "link": "https://stackoverflow.com/users/3988946/arun-r-prajapati"}, "is_accepted": true, "score": 0, "last_activity_date": 1566298968, "creation_date": 1566298968, "answer_id": 57572193, "question_id": 57570842, "link": "https://stackoverflow.com/questions/57570842/flutter-cant-send-sms-using-fluttersms/57572193#57572193", "title": "Flutter can&#39;&#39;t send sms using fluttersms", "body": "<p>Brother there is little mistake</p>\n\n<p><strong>second argument is List</strong> </p>\n\n<pre><code>_sendSMS(message, recipents);\n</code></pre>\n\n<p><strong>So you need to Add you Contact Number to List</strong> </p>\n\n<pre><code>List&lt;String&gt; recipents = new List();\nrecipents.add(data[1].toString());\n\n/// then the Msg in Variable\n\nString message = \"This is a test message!\";\n</code></pre>\n\n<p><strong>Final pass both variable as parameters in function</strong></p>\n\n<pre><code>_sendSMS(message, recipents);\n</code></pre>\n\n<p>Finally you are Done ;)</p>\n"}], "owner": {"reputation": 81, "user_id": 8512108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jCvrVC4hwEQ/AAAAAAAAAAI/AAAAAAAAANk/kTdzmLlQ33A/photo.jpg?sz=128", "display_name": "Idris Akbar Adyusman", "link": "https://stackoverflow.com/users/8512108/idris-akbar-adyusman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 57572193, "answer_count": 1, "score": 0, "last_activity_date": 1566298968, "creation_date": 1566294189, "question_id": 57570842, "link": "https://stackoverflow.com/questions/57570842/flutter-cant-send-sms-using-fluttersms", "title": "Flutter can&#39;&#39;t send sms using fluttersms", "body": "<p>I'm trying to send sms after my app scanned a qrcode that contains a phone number.\nI'm using FlutterSMS package for this but it seems doesn't work as supposed to do, it is not sending the sms. any help?</p>\n\n<pre><code>  void _sendSMS(String message, List&lt;String&gt; recipents) async {\n    String _result =\n        await FlutterSms.sendSMS(message: message, recipients: recipents)\n            .catchError((onError) {\n      print(onError);\n    });\n    print(_result);\n  }\n\n  Future _scan() async {\n    String barcode = await scanner.scan();\n    List data = barcode.split(\"|\");\n    String id = data[0];\n    String phoneNumber = data[1];\n    String message = \"Halo! Pakaian anda sudah selesai di proses, silahkan ambil di gerai kami -LaundryKu\";\n\n    setState(() {\n      this.id = id;\n      this.barcode = barcode;\n      this.phoneNumber = phoneNumber;\n    });\n    _sendSMS(message, data[1]);\n  }\n</code></pre>\n"}, {"tags": ["animation", "flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 47, "user_id": 4687181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49a67691b7c19e0dec0036352f8f24f8?s=128&d=identicon&r=PG&f=1", "display_name": "SHK", "link": "https://stackoverflow.com/users/4687181/shk"}, "is_accepted": false, "score": 0, "last_activity_date": 1566313798, "creation_date": 1566313798, "answer_id": 57576648, "question_id": 57570785, "link": "https://stackoverflow.com/questions/57570785/how-to-spin-the-wheel-once-in-duration-of-24-hours-with-flutter/57576648#57576648", "title": "How to spin the wheel once in duration of 24 hours with flutter?", "body": "<p>I don't know the specification of package that you are using here but have done similar task like this:  </p>\n\n<pre><code>Transform.rotate(\n      angle: _a,\n      child: Container(\n        decoration: BoxDecoration(\n           shape: BoxShape.circle,\n         ),      \n       ),\n ),\n</code></pre>\n\n<p>The you need to create some periodic to set the _a (angle):</p>\n\n<pre><code>const oneSec = const Duration(minute: 1);\nTimer.periodic(oneSec, (Timer t) =&gt; {\n    setState((){\n        _a = calcAngle();\n    });\n});\n</code></pre>\n\n<p>Next is to implement <code>calcAngle()</code>:</p>\n\n<pre><code>double calcAngle() {\n    return _a + (2 * pi) / 60; moving / minute\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6248, "user_id": 8253662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FuMpZ.jpg?s=128&g=1", "display_name": "Mahesh Jamdade", "link": "https://stackoverflow.com/users/8253662/mahesh-jamdade"}, "edited": false, "score": 0, "creation_date": 1618900791, "post_id": 62264082, "comment_id": 118735454, "body": "This doesn&#39;t work what the op is asking the rotation has to be done after every fixed interval."}], "tags": [], "owner": {"reputation": 141, "user_id": 13184236, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iISt7.jpg?s=128&g=1", "display_name": "Bauroziq", "link": "https://stackoverflow.com/users/13184236/bauroziq"}, "is_accepted": false, "score": 0, "last_activity_date": 1591625625, "creation_date": 1591625625, "answer_id": 62264082, "question_id": 57570785, "link": "https://stackoverflow.com/questions/57570785/how-to-spin-the-wheel-once-in-duration-of-24-hours-with-flutter/62264082#62264082", "title": "How to spin the wheel once in duration of 24 hours with flutter?", "body": "<p>Try this,</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'dart:math';\n\nclass _MainPageState extends State&lt;MainPage&gt; with SingleTickerProviderStateMixin {\n  AnimationController _controller;\n\n  @override\n  void initState() {\n    super.initState();\n\n    _controller = AnimationController(vsync: this, duration: Duration(seconds: 2))..repeat();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(),\n      body: Center(\n        child: AnimatedBuilder(\n          animation: _controller,\n          builder: (_, child) {\n            return Transform.rotate(\n              angle: _controller.value * 2 * pi,\n              child: child,\n            );\n          },\n          child: FlutterLogo(size: 200),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 2019, "user_id": 11873978, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kx1YQoaQmm0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd9JQ9vSPKPyuX5gu32Q3QKsdylGg/photo.jpg?sz=128", "display_name": "Shruti Ramnandan Sharma", "link": "https://stackoverflow.com/users/11873978/shruti-ramnandan-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 284, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1591625625, "creation_date": 1566294023, "question_id": 57570785, "link": "https://stackoverflow.com/questions/57570785/how-to-spin-the-wheel-once-in-duration-of-24-hours-with-flutter", "title": "How to spin the wheel once in duration of 24 hours with flutter?", "body": "<p>I have a wheel and want to spin once in the duration of 24 hours.\nI used <code>flutter_spinning_wheel</code> plugin, but not able to understand of it's argument like <code>initialSpinAngle:</code> , <code>spinResistance:</code> , <code>canInteractWhileSpinning:</code> , <code>onUpdate:</code> &amp; <code>onEnd:</code></p>\n\n<pre><code> Container(\n   child: ableTospin\n   ? SpinningWheel(  // Spinning wheel\n       Image.asset('assets/wheel.png', fit: BoxFit.cover,),\n       height:MediaQuery.of(context).size.height/2.3,\n       width: MediaQuery.of(context).size.width/1.3,\n       initialSpinAngle: _generateRandomAngle(),\n       spinResistance: 0.8,\n       canInteractWhileSpinning: true,\n       dividers: 8,\n       onUpdate: _dividerController.add,\n       onEnd: _dividerController.add,\n       // shouldStartOrStop: ,\n     )\n   : Container(  //non spinning wheel\n      height:MediaQuery.of(context).size.height/2.3,\n      width: MediaQuery.of(context).size.width/1.3,\n      decoration: BoxDecoration(\n       color: Colors.blue,\n       image: DecorationImage(\n         image: AssetImage('assets/wheel.png', ),\n         fit: BoxFit.contain,\n       ),\n       borderRadius: BorderRadius.all(Radius.circular(130.0)),\n      ),\n\n    ),\n  ),\n</code></pre>\n"}, {"tags": ["facebook", "flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 56, "user_id": 13231218, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VKExFy8t9KQ/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJOk2SIo0k5pd8CDjlIx8oCFHXRArA/photo.jpg?sz=128", "display_name": "Hamza", "link": "https://stackoverflow.com/users/13231218/hamza"}, "is_accepted": true, "score": 2, "last_activity_date": 1589632255, "creation_date": 1589632255, "answer_id": 61836757, "question_id": 57569871, "link": "https://stackoverflow.com/questions/57569871/flutter-show-facebook-friends-who-also-use-the-app/61836757#61836757", "title": "Flutter: show facebook friends who also use the app", "body": "<p>You can use user_friends Facebook api. You must before get permission to use it from Facebook. It returns only user friends that are using same application.</p>\n"}], "owner": {"reputation": 2056, "user_id": 11829057, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mabUZXql6Ss/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd8xuCsBWOYttvev76OEWj4v5uz4w/photo.jpg?sz=128", "display_name": "Karel Debedts", "link": "https://stackoverflow.com/users/11829057/karel-debedts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 935, "favorite_count": 1, "accepted_answer_id": 61836757, "answer_count": 1, "score": 8, "last_activity_date": 1589632255, "creation_date": 1566290777, "question_id": 57569871, "link": "https://stackoverflow.com/questions/57569871/flutter-show-facebook-friends-who-also-use-the-app", "title": "Flutter: show facebook friends who also use the app", "body": "<p>I have a flutter application where you can sign in with Facebook. (<a href=\"https://pub.dev/packages/flutter_facebook_login\" rel=\"noreferrer\">https://pub.dev/packages/flutter_facebook_login</a>). </p>\n\n<p>When a user logs in, I create a new FireStore document (the document has the user ID as name). Within, I store other info such as email etc. </p>\n\n<p>The app allows to make 'friends', I do that now by implementing a search bar where you can search for users based on their name.</p>\n\n<p>But is there a possibility to show a user a 'recommended friends' list, that contains all his facebook friends that are also using the app.</p>\n\n<p>I thought of a list of all the fb ID's of his friends and comparing that to the ID's in Firestore? (is that possible with the fb package?)</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["android", "flutter", "dart"], "comments": [{"owner": {"reputation": 2245, "user_id": 469335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DGzs0.jpg?s=128&g=1", "display_name": "F-1", "link": "https://stackoverflow.com/users/469335/f-1"}, "edited": false, "score": 0, "creation_date": 1566290833, "post_id": 57569786, "comment_id": 101600323, "body": "These links might help <a href=\"https://www.youtube.com/watch?v=SmTCmDMi4BY\" rel=\"nofollow noreferrer\">youtube.com/watch?v=SmTCmDMi4BY</a>   and <a href=\"https://flutter.dev/docs/development/ui/widgets/async\" rel=\"nofollow noreferrer\">flutter.dev/docs/development/ui/widgets/async</a>"}], "answers": [{"tags": [], "owner": {"reputation": 723, "user_id": 4997344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dd8f6bbd18099807d7479f97873e1f9?s=128&d=identicon&r=PG&f=1", "display_name": "Junsu Cho", "link": "https://stackoverflow.com/users/4997344/junsu-cho"}, "is_accepted": false, "score": 1, "last_activity_date": 1566291368, "creation_date": 1566291368, "answer_id": 57570044, "question_id": 57569786, "link": "https://stackoverflow.com/questions/57569786/how-to-use-values-from-async-functions-in-dart/57570044#57570044", "title": "how to use values from async functions in dart", "body": "<p>use Future</p>\n\n<p>ForExample</p>\n\n<pre><code>Future&lt;Text&gt; func() async{\n    String d = await getTest();\n    return Text(d);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "is_accepted": false, "score": 0, "last_activity_date": 1566291621, "creation_date": 1566291621, "answer_id": 57570129, "question_id": 57569786, "link": "https://stackoverflow.com/questions/57569786/how-to-use-values-from-async-functions-in-dart/57570129#57570129", "title": "how to use values from async functions in dart", "body": "<p>Check this <a href=\"https://medium.com/@takahirom/how-to-write-flutter-asynchronous-processing-22f845204f30\" rel=\"nofollow noreferrer\">article</a> on medium. You can get a good understanding.\nFor asynchronous functions you should use <code>Future</code> class for returning the values.</p>\n\n<pre><code>Future&lt;String&gt; asyncFunc() async {\nd = await db.firstDog();\nreturn d.name;\n}\n</code></pre>\n\n<p>Then use this string to set the text for a <code>TextView</code></p>\n"}, {"comments": [{"owner": {"reputation": 117, "user_id": 9787529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e692b91ec58a5a5914d2bfc78b355969?s=128&d=identicon&r=PG", "display_name": "Sahil Chadha", "link": "https://stackoverflow.com/users/9787529/sahil-chadha"}, "edited": false, "score": 0, "creation_date": 1566460508, "post_id": 57570507, "comment_id": 101665299, "body": "it is in screen layer"}], "tags": [], "owner": {"reputation": 1460, "user_id": 10942908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jLlgs.png?s=128&g=1", "display_name": "Joshua de Guzman", "link": "https://stackoverflow.com/users/10942908/joshua-de-guzman"}, "is_accepted": false, "score": 0, "last_activity_date": 1566469026, "last_edit_date": 1566469026, "creation_date": 1566293085, "answer_id": 57570507, "question_id": 57569786, "link": "https://stackoverflow.com/questions/57569786/how-to-use-values-from-async-functions-in-dart/57570507#57570507", "title": "how to use values from async functions in dart", "body": "<p><strong>Prerequisites</strong></p>\n\n<ul>\n<li>Do tell us where this function call is placed (eg. in repository or screen layer)</li>\n</ul>\n\n<p><strong>What you can do</strong></p>\n\n<ol>\n<li>Instead of returning the <code>Text</code> as <code>Widget</code>, you can just return a <code>Future&lt;String&gt;</code></li>\n</ol>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Future&lt;String&gt; func() async {\n     var dog = await db.firstDog();\n     return dog.name;\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>Assuming that you are utilizing this on your screen or widget class directly, you can do this</li>\n</ol>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Database db = new Database();\nString _dogName;\n\n@override\nWidget build(BuildContext context) {\n  return Scaffold(\n    body: Center(\n      child: Text(_dogName),\n    ),\n  );\n}\nvoid func() async {\n     setState(() async {\n         var dog = await db.firstDog();\n         _dogName = dog.name;\n     });\n}\n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 9787529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e692b91ec58a5a5914d2bfc78b355969?s=128&d=identicon&r=PG", "display_name": "Sahil Chadha", "link": "https://stackoverflow.com/users/9787529/sahil-chadha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1566469026, "creation_date": 1566290485, "last_edit_date": 1566292259, "question_id": 57569786, "link": "https://stackoverflow.com/questions/57569786/how-to-use-values-from-async-functions-in-dart", "title": "how to use values from async functions in dart", "body": "<p>I want to use string value  in my code but I am unable to do so. Please help, I am new to flutter.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>// Database (db) is database sqlite\n// Dog class has a String field name\n\nText func() async{\n     var dog = await db.firstDog();\n     return Text(dog.name);\n}\n</code></pre>\n\n<p>The return type <code>Text</code> isn't a <code>Text</code>, as defined by the method <code>func.dart(return_of_invalid_type)</code>.</p>\n"}, {"tags": ["flutter", "dart", "timer", "widget", "stopwatch"], "comments": [{"owner": {"reputation": 444, "user_id": 11498113, "user_type": "registered", "profile_image": "https://graph.facebook.com/1827213493966656/picture?type=large", "display_name": "Markus Hein", "link": "https://stackoverflow.com/users/11498113/markus-hein"}, "edited": false, "score": 0, "creation_date": 1566291333, "post_id": 57569335, "comment_id": 101600599, "body": "seems like you should look into the bloc Pattern and bloc providers. You could create a bloc class which handles the Timer and then streams the values to all the screens which uses the stopwatch. A good introduction can be found here: <a href=\"http://flutterdevs.com/blog/bloc-pattern-in-flutter-part-1/\" rel=\"nofollow noreferrer\">flutterdevs.com/blog/bloc-pattern-in-flutter-part-1</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3533, "user_id": 3923929, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uiLVo.jpg?s=128&g=1", "display_name": "Durdu", "link": "https://stackoverflow.com/users/3923929/durdu"}, "is_accepted": false, "score": 0, "last_activity_date": 1566290040, "creation_date": 1566290040, "answer_id": 57569652, "question_id": 57569335, "link": "https://stackoverflow.com/questions/57569335/flutter-continuously-running-stopwatch-when-switching-screens/57569652#57569652", "title": "Flutter: Continuously running stopwatch when switching screens", "body": "<p>It is not 100% clear for me if this solution will work since you posted a lot of code but it is missing the part where you actually display the NewStopWatch but I hope this solution helps: </p>\n\n<p>Pass the Stopwatch and the timer as arguments in the init method of your NewStopWath class and have them passed from your main page - the page where you want them displayed as well... i suppose it is the FrontPage.</p>\n\n<p>Like so:</p>\n\n<pre><code>class FrontPage extends StatelessWidget {\n    Stopwatch watch = Stopwatch();\n    Timer timer = Timer.periodic(Duration(milliseconds: 100), updateTime);\n//... code\n\n//.. somewhere a NewStopWatch is created \n           return NewStopWatch(watch, timer);\n    }\n//... code\n\n\nclass NewStopWatch extends StatefulWidget {\n\n  Stopwatch watch;     \n  Timer timer;\n\n  NewStopWatch(this.watch, this.timer);\n\n  @override\n  _NewStopWatchState createState() =&gt; new _NewStopWatchState();\n}\n\n\nclass _NewStopWatchState extends State&lt;NewStopWatch&gt; {\n\n  static _NewStopWatchState stopwatch;\n  bool startStop = true;\n  static String elapsedTime = '';\n  String duration;\n\n  Stopwatch get watch =&gt; widget.watch;\n  Timer get timer =&gt; widget.timer;\n\n  void initState() {\n    super.initState();\n\n    WidgetsBinding.instance\n        .addPostFrameCallback((_) =&gt; startWatch());\n  }\n</code></pre>\n\n<p><strong>Be sure to check if you should remove timer = Timer.periodic(Duration(milliseconds: 100), updateTime); from startWatch()</strong> \nmaybe you don't need to have it passed as an argument</p>\n"}], "owner": {"reputation": 317, "user_id": 9838440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72437a365c19b2074b5c5673f11a33ce?s=128&d=identicon&r=PG&f=1", "display_name": "Caiz22", "link": "https://stackoverflow.com/users/9838440/caiz22"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1524, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566306928, "creation_date": 1566288827, "last_edit_date": 1566306928, "question_id": 57569335, "link": "https://stackoverflow.com/questions/57569335/flutter-continuously-running-stopwatch-when-switching-screens", "title": "Flutter: Continuously running stopwatch when switching screens", "body": "<p>I have a <code>stopwatch</code> widget which is called from the <code>Detailed Activity</code> page on one of my screens that starts when the page loads. How am I able to keep it continuously running in the background so that when I navigate from <code>Detailed Activity</code> to the <code>Home</code> page, I can display that same stopwatch's time?</p>\n\n<p>At the moment, the <code>Home</code> page displays the last saved time (into the variable). Instead I would like this to continue incrementing each second and vice versa switching between the two screens. I've tried adding the <code>startWatch()</code> and <code>initState()</code> method in my <code>Home</code> page, but don't know how to pass the stopwatch value while navigating to the <code>Detailed Activity</code> page</p>\n\n<p><a href=\"https://i.stack.imgur.com/DYQ5s.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DYQ5s.jpg\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/m9aTW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m9aTW.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>To clarify this more, my thinking was on the <code>Detailed Activity</code> page it is at e.g. 00:15:00 -> pass it into <code>Home</code> page and call initState() to automatically start the timer again. Would this work?</p>\n\n<p><strong>Timer.dart</strong></p>\n\n<pre><code>class NewStopWatch extends StatefulWidget {\n\n  @override\n  _NewStopWatchState createState() =&gt; new _NewStopWatchState();\n}\n\nclass _NewStopWatchState extends State&lt;NewStopWatch&gt; {\n\n  static _NewStopWatchState stopwatch;\n  Stopwatch watch = new Stopwatch();\n  Timer timer;\n  bool startStop = true;\n  static String elapsedTime = '';\n  String duration;\n\n  updateTime(Timer timer) {\n    if (watch.isRunning) {\n      setState(() {\n        elapsedTime = transformMilliSeconds(watch.elapsedMilliseconds);\n        User.getCurrentUser().getCurrentActivity().setElapsedTime(elapsedTime);\n      });\n    }\n  }\n@override\n  Widget build(BuildContext context) {\n\n    return new Container(\n            padding: EdgeInsets.all(20.0),\n            child: new Column(\n              children: &lt;Widget&gt;[\n                new Text(elapsedTime, style: new TextStyle(fontSize: 25.0)),\n                SizedBox(height: 20.0),\n                new Row(\n                  mainAxisAlignment: MainAxisAlignment.center,\n                  children: &lt;Widget&gt;[\n                FloatingActionButton(\n                  heroTag: \"btn1\",\n                  backgroundColor: Colors.red,\n                  onPressed: () =&gt; startOrStop(),\n                  child: Icon(Icons.pause)),\n                SizedBox(width: 20.0),\n                FloatingActionButton(\n                  heroTag: \"btn2\",\n                  backgroundColor: Colors.green,\n                  onPressed: () =&gt; completeActivity(),\n                  child: Icon(Icons.check)),\n                  ],\n                )\n              ],\n            ));\n  }\n\n  void initState() {\n    super.initState();\n    WidgetsBinding.instance\n        .addPostFrameCallback((_) =&gt; startWatch());\n  }\n\n  startOrStop() {\n    if(startStop) {\n      startWatch();\n    } else {\n      stopWatch();\n    }\n  }\n\n  startWatch() {\n    setState(() {\n      startStop = false;\n      watch.start();\n      timer = Timer.periodic(Duration(milliseconds: 100), updateTime);\n    });\n  }\n\n  stopWatch() {\n    setState(() {\n      startStop = true;\n      watch.stop();\n      setTime();\n    });\n  }\n\n  resetWatch() {\n    watch.reset();\n    setTime();\n  }\n\n  setTime() {\n    var timeSoFar = watch.elapsedMilliseconds;\n    setState(() {\n      elapsedTime = transformMilliSeconds(timeSoFar);\n    });\n  }\n\n  completeActivity() { //do I call activity.stopActivity()?\n    return showDialog(\n          context: context,\n          builder: (context) =&gt; new AlertDialog(\n                title: new Text('Complete Activity?',\n                    style: new TextStyle(color: Colors.black, fontSize: 20.0)),\n                actions: &lt;Widget&gt;[\n                  new FlatButton(\n                    onPressed: () {\n                      duration = elapsedTime;\n                      print(\"Current activitiy: ${User.getCurrentUser().getCurrentActivity()}\");\n                      // User.getCurrentUser().completeActivity();\n                      User.getCurrentUser().addPastActivity(User.getCurrentUser().getCurrentActivity());\n                      User.getCurrentUser().getCurrentActivity().setStatus(ActivityStatus.completed);\n                      User.getCurrentUser().setCurrentActivity(null);\n                      Navigator.push(context, MaterialPageRoute(builder: (context) =&gt; FrontPage()));\n                      // Navigator.popUntil(context, ModalRoute.withName(\"/\"),);\n                    },\n                    child:\n                        new Text('Yes', style: new TextStyle(fontSize: 18.0)),\n                  ),\n                  new FlatButton(\n                    onPressed: () =&gt; Navigator.pop(context), // this line dismisses the dialog\n                    child: new Text('No', style: new TextStyle(fontSize: 18.0)),\n                  )\n                ],\n              ),\n        ) ??\n        false;\n    }\n\n  transformMilliSeconds(int milliseconds) {\n    int hundreds = (milliseconds / 10).truncate();\n    int seconds = (hundreds / 100).truncate();\n    int minutes = (seconds / 60).truncate();\n    int hours = (minutes / 60).truncate();\n\n    String hoursStr = (hours % 60).toString().padLeft(2, '0');\n    String minutesStr = (minutes % 60).toString().padLeft(2, '0');\n    String secondsStr = (seconds % 60).toString().padLeft(2, '0');\n\n    return \"$hoursStr:$minutesStr:$secondsStr\";\n  }\n\n   static String getElapsedTime() {\n    return elapsedTime;\n  }\n}\n\n</code></pre>\n"}, {"tags": ["firebase", "flutter", "dart", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1566308813, "post_id": 57569295, "comment_id": 101610486, "body": "There is currently no way to retrieve a group of documents from Firestore by their IDs. See <a href=\"https://stackoverflow.com/questions/46721517/google-firestore-how-to-get-document-by-multiple-ids-in-one-round-trip\" title=\"google firestore how to get document by multiple ids in one round trip\">stackoverflow.com/questions/46721517/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 5769328, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153314885206485/picture?type=large", "display_name": "Poodle Galluzzo", "link": "https://stackoverflow.com/users/5769328/poodle-galluzzo"}, "edited": false, "score": 0, "creation_date": 1566296792, "post_id": 57569799, "comment_id": 101603632, "body": "I was originally doing it by iterating over the list with a for loop and getting the ID&#39;s the way you suggested but what would be the impact of making a lot of consecutive calls to firebase instead of just one?  Code:     <code>for(int i = 0; i &lt; _localGroupIDs.length; ++i) {       DocumentSnapshot doc = await colRef.document(_localGroupIDs[i]).get();       _docs.add(doc);     }</code>"}, {"owner": {"reputation": 318, "user_id": 10646042, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_rBfXtb-inY/AAAAAAAAAAI/AAAAAAAAAKc/t0pMc8pHw7Y/photo.jpg?sz=128", "display_name": "Sarthak Solanki", "link": "https://stackoverflow.com/users/10646042/sarthak-solanki"}, "reply_to_user": {"reputation": 59, "user_id": 5769328, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153314885206485/picture?type=large", "display_name": "Poodle Galluzzo", "link": "https://stackoverflow.com/users/5769328/poodle-galluzzo"}, "edited": false, "score": 0, "creation_date": 1566375925, "post_id": 57569799, "comment_id": 101632340, "body": "why don&#39;t you get the collection and assign it to an array of map or something?"}], "tags": [], "owner": {"reputation": 318, "user_id": 10646042, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_rBfXtb-inY/AAAAAAAAAAI/AAAAAAAAAKc/t0pMc8pHw7Y/photo.jpg?sz=128", "display_name": "Sarthak Solanki", "link": "https://stackoverflow.com/users/10646042/sarthak-solanki"}, "is_accepted": false, "score": 0, "last_activity_date": 1566290534, "creation_date": 1566290534, "answer_id": 57569799, "question_id": 57569295, "link": "https://stackoverflow.com/questions/57569295/how-to-return-firestore-documents-from-a-list-of-documentids-in-a-query/57569799#57569799", "title": "How to return Firestore documents from a list of DocumentID&#39;s in a query?", "body": "<p>var test =  await Firestore.instance.collection('Note').document(id).get();\ntry this pass the id of the document you need.</p>\n"}], "owner": {"reputation": 59, "user_id": 5769328, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153314885206485/picture?type=large", "display_name": "Poodle Galluzzo", "link": "https://stackoverflow.com/users/5769328/poodle-galluzzo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1719, "favorite_count": 0, "closed_date": 1566308846, "answer_count": 1, "score": 0, "last_activity_date": 1566290534, "creation_date": 1566288704, "question_id": 57569295, "link": "https://stackoverflow.com/questions/57569295/how-to-return-firestore-documents-from-a-list-of-documentids-in-a-query", "closed_reason": "Duplicate", "title": "How to return Firestore documents from a list of DocumentID&#39;s in a query?", "body": "<p>I have a list of DocumentID's that I want to use in a query and return data for only those documents.</p>\n\n<p>The following code will return with 0 documents:</p>\n\n<pre><code>Future&lt;QuerySnapshot&gt; _getGroupsList(DocumentSnapshot data) async {\nList&lt;String&gt; _localGroupIDs = List.from(data.data['MyGroups']);\n\nCollectionReference colRef = Firestore.instance.collection('Groups').reference();\n\nQuery query = colRef.where('id', isEqualTo: _localGroupIDs);\nQuerySnapshot querySnapshot = await query.getDocuments();\nreturn querySnapshot;\n}\n</code></pre>\n\n<p>However if I remove the query and just get run getDocuments() on the collection reference I can see that all the documents are available.</p>\n\n<p>I have tried to do what was suggested here, <a href=\"https://stackoverflow.com/questions/52468310/is-fieldpath-supported-in-flutter/52469844\">Is FieldPath supported in Flutter?</a> , but it didn't seem to work for me. I was constantly getting errors. </p>\n\n<p>I was also digging around here <a href=\"https://github.com/flutter/plugins/blob/master/packages/cloud_firestore/android/src/main/java/io/flutter/plugins/firebase/cloudfirestore/CloudFirestorePlugin.java\" rel=\"nofollow noreferrer\">https://github.com/flutter/plugins/blob/master/packages/cloud_firestore/android/src/main/java/io/flutter/plugins/firebase/cloudfirestore/CloudFirestorePlugin.java</a> and I noticed that FieldPath.documentID() (on line 265) is being used but I can't see anyway to access it.</p>\n\n<p>Does anyone know how to query against the DocumentID using Flutter and Firestore? </p>\n"}, {"tags": ["flutter", "dart", "sharedpreferences"], "comments": [{"owner": {"reputation": 1890, "user_id": 2362966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8792270fcc92400b12d02f8a4cc00e89?s=128&d=identicon&r=PG", "display_name": "ejabu", "link": "https://stackoverflow.com/users/2362966/ejabu"}, "edited": false, "score": 0, "creation_date": 1566324419, "post_id": 57567878, "comment_id": 101618447, "body": "what do you mean by &#39;opened from other app&#39;?  I never thought it is possible to open flutter app from another app. Is it calling the same MyApp instance or not?"}, {"owner": {"reputation": 729, "user_id": 2759064, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/735002e3181648b01315f49eb613f86b?s=128&d=identicon&r=PG&f=1", "display_name": "Undefitied", "link": "https://stackoverflow.com/users/2759064/undefitied"}, "reply_to_user": {"reputation": 1890, "user_id": 2362966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8792270fcc92400b12d02f8a4cc00e89?s=128&d=identicon&r=PG", "display_name": "ejabu", "link": "https://stackoverflow.com/users/2362966/ejabu"}, "edited": false, "score": 0, "creation_date": 1566327974, "post_id": 57567878, "comment_id": 101619802, "body": "you may see the picture, when I invoke some action from chrome, to share data with my app, it opens as &quot;app in the app&quot;, and by pressing &quot;back button&quot; it returns back to chrome. And during all that time, another instance of the app is always opened. To answer your question - yes, it is the same app, but it seems like there are executed 2 different instances of it"}], "owner": {"reputation": 729, "user_id": 2759064, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/735002e3181648b01315f49eb613f86b?s=128&d=identicon&r=PG&f=1", "display_name": "Undefitied", "link": "https://stackoverflow.com/users/2759064/undefitied"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566328043, "creation_date": 1566282900, "last_edit_date": 1566328043, "question_id": 57567878, "link": "https://stackoverflow.com/questions/57567878/flutter-refetch-data-from-sharedpreferences-when-app-was-opened-in-other-androi", "title": "flutter: refetch data from SharedPreferences when app was opened in other android tab (when getting shared data from other app)", "body": "<p>In other words I'd like to create persistent storage for my List.</p>\n\n<p>What I'm doing now:</p>\n\n<p>I have 2 methods, initial set up </p>\n\n<pre><code>_getDataFromStorage() async {\n    SharedPreferences prefs = await SharedPreferences.getInstance();\n\n    List&lt;String&gt; wordsListStrings = prefs.getStringList('_wordsList');\n    Map&lt;int, String&gt; wordsMap = wordsListStrings.asMap();\n\n    setState(() {\n      wordsMap.forEach((key, word) {\n        Map&lt;String, dynamic&gt; decoded = jsonDecode(word);\n\n        _wordsList.add(Word.fromJson(decoded));\n      });\n    });\n  }\n</code></pre>\n\n<p>and the one that occurs when other app opens my app.</p>\n\n<pre><code>getSharedText() async {\n    var sharedData = await platform.invokeMethod(\"getSharedText\");\n\n    if (sharedData != null) {\n      _wordsList.add(Word(sharedData));\n\n      SharedPreferences prefs = await SharedPreferences.getInstance();\n\n      List&lt;String&gt; wordsListString = _wordsList.map((word) {\n        return jsonEncode(word);\n      }).toList();\n      prefs.setStringList('_wordsList', wordsListString);\n\n      setState(() {\n      });\n    }\n  }\n</code></pre>\n\n<p>Issue that I face:</p>\n\n<p>Sometimes app can be opened from other app, don't know how it is properly called, by it looks like my app is overlaying on other app. In this cases I have 2 apps opened, and one of them may have outdated data. </p>\n\n<p><a href=\"https://i.stack.imgur.com/NSnD5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NSnD5.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now I'm seeing the solution as refetching data on switching between android apps tabs, and my question - is there an event for that? Or maybe better solution for the case?</p>\n"}, {"tags": ["android-studio", "flutter", "dart", "dart-pub"], "comments": [{"owner": {"reputation": 7877, "user_id": 8822337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ojyRl.jpg?s=128&g=1", "display_name": "BloodLoss", "link": "https://stackoverflow.com/users/8822337/bloodloss"}, "edited": false, "score": 0, "creation_date": 1566281908, "post_id": 57567556, "comment_id": 101596120, "body": "did you run <code>flutter doctor</code>? or did you set plugin on the android studio?"}], "answers": [{"tags": [], "owner": {"reputation": 1460, "user_id": 10942908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jLlgs.png?s=128&g=1", "display_name": "Joshua de Guzman", "link": "https://stackoverflow.com/users/10942908/joshua-de-guzman"}, "is_accepted": false, "score": 0, "last_activity_date": 1566281946, "creation_date": 1566281946, "answer_id": 57567672, "question_id": 57567556, "link": "https://stackoverflow.com/questions/57567556/pub-get-has-not-been-run-in-android-studio/57567672#57567672", "title": "&#39;pub get&#39; has not been run in android studio", "body": "<p><strong>Prerequisites</strong></p>\n\n<p>It would be best if you can describe how you install your Flutter or Dark SDK in your post. Otherwise, please ensure the you followed the instructions here:</p>\n\n<ul>\n<li><a href=\"https://flutter.dev/docs/get-started/install\" rel=\"nofollow noreferrer\">https://flutter.dev/docs/get-started/install</a></li>\n<li><a href=\"https://dart.dev/get-dart\" rel=\"nofollow noreferrer\">https://dart.dev/get-dart</a></li>\n</ul>\n\n<p><strong>Suggestion</strong></p>\n\n<p>When you are trying to create a project, try to run the following:</p>\n\n<p><strong>For Flutter</strong></p>\n\n<pre><code>flutter packages get\n</code></pre>\n\n<p><strong>For Dart</strong></p>\n\n<pre><code>pub get packages\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 11779611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dddf93c99f7cf763fe4465557c7b98e2?s=128&d=identicon&r=PG&f=1", "display_name": "Golam Rabbi", "link": "https://stackoverflow.com/users/11779611/golam-rabbi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 5377, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1566281946, "creation_date": 1566281373, "last_edit_date": 1566281411, "question_id": 57567556, "link": "https://stackoverflow.com/questions/57567556/pub-get-has-not-been-run-in-android-studio", "title": "&#39;pub get&#39; has not been run in android studio", "body": "<p>I installed flutter and dart now I saw an error in android studio('Pub get' has not been run). How can I solve this problem?</p>\n\n<pre><code>Working dir: C:\\Users\\jhon\\Desktop\\FluxStore 1.3.5-woo\\source\n\"C:\\Program Files\\Dart\\dart-sdk\\bin\\pub.bat\" get\nResolving dependencies...\nGit error. Command: git fetch\nfatal: not a git repository (or any of the parent directories): .git\nProcess finished with exit code 69\n</code></pre>\n\n\n"}, {"tags": ["flutter", "dart", "flutter-layout", "searchbar"], "answers": [{"comments": [{"owner": {"reputation": 1460, "user_id": 10942908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jLlgs.png?s=128&g=1", "display_name": "Joshua de Guzman", "link": "https://stackoverflow.com/users/10942908/joshua-de-guzman"}, "edited": false, "score": 0, "creation_date": 1577677676, "post_id": 57568292, "comment_id": 105221781, "body": "Hi Code Hunter, do the answers helped you?"}], "tags": [], "owner": {"reputation": 1460, "user_id": 10942908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jLlgs.png?s=128&g=1", "display_name": "Joshua de Guzman", "link": "https://stackoverflow.com/users/10942908/joshua-de-guzman"}, "is_accepted": false, "score": 0, "last_activity_date": 1566284671, "creation_date": 1566284671, "answer_id": 57568292, "question_id": 57567304, "link": "https://stackoverflow.com/questions/57567304/search-bar-custom-height/57568292#57568292", "title": "Search bar custom height", "body": "<p><strong>Prerequisites</strong></p>\n\n<p>Take note, this is an open issue in the Flutter SDK. The height of the <code>AppBar</code> <strong>cannot</strong> be set to more than <code>56dp</code>.</p>\n\n<p>Github Issues:</p>\n\n<ul>\n<li><a href=\"https://github.com/flutter/flutter/issues/23373\" rel=\"nofollow noreferrer\">https://github.com/flutter/flutter/issues/23373</a></li>\n<li><a href=\"https://github.com/flutter/flutter/issues/7330\" rel=\"nofollow noreferrer\">https://github.com/flutter/flutter/issues/7330</a></li>\n</ul>\n\n<p><strong>Suggestion</strong></p>\n\n<p>Play around with the <code>flexibleSpace</code> property of the <code>AppBar</code>, where you can draw custom <code>Widget</code> that will satisfy or close to your requirements, but still...</p>\n\n<p><code>flexibleSpace</code></p>\n\n<blockquote>\n  <p>This widget is stacked behind the toolbar and the tab bar. It's height will\n  be the same as the app bar's overall height.</p>\n</blockquote>\n\n<p><strong>Furthermore</strong></p>\n\n<p>Subscribe to the issues posted on Github regarding <code>AppBar</code>'s height restriction.</p>\n"}, {"comments": [{"owner": {"reputation": 1460, "user_id": 10942908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jLlgs.png?s=128&g=1", "display_name": "Joshua de Guzman", "link": "https://stackoverflow.com/users/10942908/joshua-de-guzman"}, "edited": false, "score": 0, "creation_date": 1566291532, "post_id": 57569521, "comment_id": 101600697, "body": "Hi Salma, this is already what the OP did, it&#39;s just that it&#39;s impossible (given the restriction), to update the <code>AppBar</code> height more than <code>56dp</code>."}], "tags": [], "owner": {"reputation": 825, "user_id": 10688718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3602f24b720ad94fffaaea689b44c4fe?s=128&d=identicon&r=PG&f=1", "display_name": "Salma.", "link": "https://stackoverflow.com/users/10688718/salma"}, "is_accepted": false, "score": 0, "last_activity_date": 1566289497, "creation_date": 1566289497, "answer_id": 57569521, "question_id": 57567304, "link": "https://stackoverflow.com/questions/57567304/search-bar-custom-height/57569521#57569521", "title": "Search bar custom height", "body": "<p>use the preferred size to set the size you want. </p>\n\n<pre><code> class AppBarCustomWidget extends StatefulWidget implements PreferredSizeWidget {\n\n      @override\n      State&lt;StatefulWidget&gt; createState() {\n        return _AppBarCustomWidgetState();\n      }\n\n      @override\n      Size get preferredSize =&gt; Size(40.0, 60.0);\n    }\n\n    class _AppBarCustomWidgetState extends State&lt;AppBarCustomWidget&gt; {\n    @override\n      Widget build(BuildContext context) {\n    return AppBar( title: Text('hello'),\n          );\n    }\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 5668, "user_id": 1331568, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/JqLSi.jpg?s=128&g=1", "display_name": "Code Hunter", "link": "https://stackoverflow.com/users/1331568/code-hunter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 608, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1566289497, "creation_date": 1566279859, "question_id": 57567304, "link": "https://stackoverflow.com/questions/57567304/search-bar-custom-height", "title": "Search bar custom height", "body": "<p>I am trying to achieve custom height in search bar. I have tried following code:</p>\n\n<pre><code>class SearchBoxWidget extends StatelessWidget implements PreferredSizeWidget  {\n\n  @override\n  Widget build(BuildContext context) {\n    return PreferredSize(\n      preferredSize: Size.fromHeight(AppSize.s80),\n      child: AppBar(\n        backgroundColor: Colors.white,\n        leading: new IconButton(\n          iconSize: AppSize.large,\n          icon: new Icon(\n            Icons.search,\n          ),\n          color: Colors.black,\n          tooltip: 'Search',\n          onPressed: () {\n            print('Pressed Menu');\n          },\n        ),\n        title: TextField(\n          autofocus: false,\n          cursorColor: AppTheme.colors.themeGreen,\n          decoration: InputDecoration(\n            hintText: Constants.searchPlaceHolder,\n            hintStyle: AppTheme.textStyle.searchPlaceholder,\n            focusedBorder: UnderlineInputBorder(\n                borderSide: BorderSide.none//BorderSide(color: Colors.grey),\n            ),\n            enabledBorder:UnderlineInputBorder(\n                borderSide: BorderSide.none//new BorderSide(color: Colors.red)\n            ),\n          ),\n        ),\n      ),\n    );\n  }\n  @override\n  Size get preferredSize =&gt; new Size.fromHeight(kToolbarHeight);\n}\n</code></pre>\n\n<p>But it is resulting me same height as default as attached screenshot. \n<a href=\"https://i.stack.imgur.com/ZJPVP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZJPVP.png\" alt=\"enter image description here\"></a></p>\n\n<p>But I want to achieve following design:\n<a href=\"https://i.stack.imgur.com/rv5T1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rv5T1.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["flutter", "dart", "flutter-web"], "comments": [{"owner": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "edited": false, "score": 1, "creation_date": 1566274465, "post_id": 57566629, "comment_id": 101594318, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/57491784/make-responsive-web-on-flutter-web\">make responsive web on flutter web</a>"}, {"owner": {"reputation": 379, "user_id": 11082332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e93c04e3b9347c87340184749cc650a3?s=128&d=identicon&r=PG&f=1", "display_name": "OceanL", "link": "https://stackoverflow.com/users/11082332/oceanl"}, "reply_to_user": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "edited": false, "score": 0, "creation_date": 1566274783, "post_id": 57566629, "comment_id": 101594392, "body": "if I use that, I&#39;m a little confused by how to implement it into the widget"}, {"owner": {"reputation": 4073, "user_id": 5407008, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71019a92e9167a8fc367dbc5bc8d98a3?s=128&d=identicon&r=PG", "display_name": "Tushar Pol", "link": "https://stackoverflow.com/users/5407008/tushar-pol"}, "edited": false, "score": 1, "creation_date": 1566276352, "post_id": 57566629, "comment_id": 101594726, "body": "Try this plugin <a href=\"https://pub.dev/packages/responsive_scaffold\" rel=\"nofollow noreferrer\">pub.dev/packages/responsive_scaffold</a>. I found it easy to use."}], "answers": [{"tags": [], "owner": {"reputation": 1059, "user_id": 2497859, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/20Vbv.png?s=128&g=1", "display_name": "Omatt", "link": "https://stackoverflow.com/users/2497859/omatt"}, "is_accepted": false, "score": 1, "last_activity_date": 1617645734, "creation_date": 1617645734, "answer_id": 66957532, "question_id": 57566629, "link": "https://stackoverflow.com/questions/57566629/how-to-make-flutter-web-drawer-responsive-according-to-different-screen-size/66957532#66957532", "title": "how to make flutter web drawer responsive according to different screen size?", "body": "<p>You can use <a href=\"https://api.flutter.dev/flutter/widgets/LayoutBuilder-class.html\" rel=\"nofollow noreferrer\">LayoutBuilder</a> to determine the page's screen size and update the children widgets base from the parent's dimensions. Check this <a href=\"https://stackoverflow.com/a/64662947\">similar Stack Overflow post</a> for the sample.</p>\n"}], "owner": {"reputation": 379, "user_id": 11082332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e93c04e3b9347c87340184749cc650a3?s=128&d=identicon&r=PG&f=1", "display_name": "OceanL", "link": "https://stackoverflow.com/users/11082332/oceanl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2014, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1617645734, "creation_date": 1566274367, "question_id": 57566629, "link": "https://stackoverflow.com/questions/57566629/how-to-make-flutter-web-drawer-responsive-according-to-different-screen-size", "title": "how to make flutter web drawer responsive according to different screen size?", "body": "<p>I'm making an admin dashboard with a flutter web that has a drawer. but when I try to access it on the mobile, drawer it can't be responsive yet ... how do I access the drawer on the mobile in the form of an icon list?.</p>\n\n<pre><code>body: Container(\n        width: MediaQuery.of(context).size.width,\n        height: MediaQuery.of(context).size.height,\n        child: Row(\n          children: &lt;Widget&gt;[\n             Drawer(\n                child: ListView(\n                  padding: EdgeInsets.zero,\n                  children: &lt;Widget&gt;[\n                    DrawerHeader(\n                      margin: EdgeInsets.zero,\n                      child: Center(\n                        child: Image(\n                          image: ExactAssetImage(\"images/image.png\"),\n                        ),\n                      ),\n                    ),\n                    ListTile(\n                      leading: Icon(Icons.location_city),\n                      title: Text('Partner'),\n                      onTap: () {\n                        _setPage(ClientPage());\n                      },\n                    ),\n                    ListTile(\n                      leading: Icon(Icons.multiline_chart),\n                      title: Text('Proyek'),\n                      onTap: () {\n                        _setPage(ProyekPage());\n                      },\n                    ),\n                  ],\n                );\n            ),\n          ],\n        ),\n      ),\n</code></pre>\n\n<p>this display drawer on a laptop\n<a href=\"https://i.stack.imgur.com/vkllM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vkllM.png\" alt=\"drawer on laptop\"></a></p>\n\n<p>and this is display drawe on mobile<a href=\"https://i.stack.imgur.com/9Yms0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9Yms0.png\" alt=\"drawer on mobile\"></a></p>\n\n<p>there is no difference: '</p>\n"}, {"tags": ["dart", "flutter-web"], "comments": [{"owner": {"reputation": 3843, "user_id": 3043944, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0QrkR.jpg?s=128&g=1", "display_name": "Abhilash Chandran", "link": "https://stackoverflow.com/users/3043944/abhilash-chandran"}, "edited": false, "score": 0, "creation_date": 1566301973, "post_id": 57566589, "comment_id": 101606353, "body": "Apparently a mouse click event doesn&#39;t work for cross domain iframe. There is a solution in the form of Gist here. <a href=\"https://gist.github.com/jaydson/1780598\" rel=\"nofollow noreferrer\">gist.github.com/jaydson/1780598</a>  You can try this. In my small test mouseOver event worked properly. But I couldn&#39;t recreact the click event.   There are other references in stackoverflow aimed at this issue.   <a href=\"https://stackoverflow.com/questions/6452502/adding-click-event-handler-to-iframe\" title=\"adding click event handler to iframe\">stackoverflow.com/questions/6452502/&hellip;</a>  <a href=\"https://stackoverflow.com/questions/16792953/onclick-function-doesnt-fire-on-iframe\" title=\"onclick function doesnt fire on iframe\">stackoverflow.com/questions/16792953/&hellip;</a>"}, {"owner": {"reputation": 3843, "user_id": 3043944, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0QrkR.jpg?s=128&g=1", "display_name": "Abhilash Chandran", "link": "https://stackoverflow.com/users/3043944/abhilash-chandran"}, "edited": false, "score": 0, "creation_date": 1566302104, "post_id": 57566589, "comment_id": 101606435, "body": "Following way of adding event listeners could help with the clarity of listeners on your element  <code>element.onMouseLeave.listen((evt) {               mouseOver = false;               print(&#39;Mosue is leaving iframe&#39;);             });</code>"}, {"owner": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "reply_to_user": {"reputation": 3843, "user_id": 3043944, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0QrkR.jpg?s=128&g=1", "display_name": "Abhilash Chandran", "link": "https://stackoverflow.com/users/3043944/abhilash-chandran"}, "edited": false, "score": 0, "creation_date": 1566304706, "post_id": 57566589, "comment_id": 101607900, "body": "Will try these out. Thank you."}], "answers": [{"tags": [], "owner": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "is_accepted": true, "score": 0, "last_activity_date": 1579659165, "creation_date": 1579659165, "answer_id": 59851696, "question_id": 57566589, "link": "https://stackoverflow.com/questions/57566589/iframeelement-eventlistener-not-being-called/59851696#59851696", "title": "IFrameElement EventListener not being called", "body": "<p>I ended up with the following:</p>\n\n<pre><code>    \"marker.addListener('click', function() {dispatchEvent(new MouseEvent('click', {view: window, bubbles: true, cancelable: true }));\"\n        \"var o = Object.create(null);\"\n        \"o.id = \\\"${property.id}\\\";\"\n        \"\"\n        \"console.log(o);\"\n        \"window.parent.postMessage(o);\"\n        \"\"\n        \"});\\n\";\n</code></pre>\n\n<p>Then I attach a listener on the window:</p>\n\n<pre><code>window.onMessage.listen((onData) {\n  // do things\n  if (messageEvent.data[\"id\"] == property.id) { }\n})\n</code></pre>\n"}], "owner": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 452, "favorite_count": 1, "accepted_answer_id": 59851696, "answer_count": 1, "score": 0, "last_activity_date": 1579659165, "creation_date": 1566274051, "last_edit_date": 1566274513, "question_id": 57566589, "link": "https://stackoverflow.com/questions/57566589/iframeelement-eventlistener-not-being-called", "title": "IFrameElement EventListener not being called", "body": "<p>I have added an EventListener to an IFrameElement, but it is never being called.</p>\n\n<p>Listener definition:</p>\n\n<pre><code>  EventListener eventListener = (e) {\n    print(\"Lisenter clicked.\");\n  };\n</code></pre>\n\n<p>IFrameElement definition:</p>\n\n<pre><code>  var type = 'click';\n\n  IFrameElement element = IFrameElement()\n    ..width = (MediaQuery.of(context).size.width - 400).toString()\n    ..height = MediaQuery.of(context).size.height.toString()\n    ..srcdoc = value\n    ..addEventListener(type, eventListener)\n    ..style.border = 'none';\n\n  ui.platformViewRegistry.registerViewFactory(\n      createdViewId,\n          (int viewId) =&gt; element);\n</code></pre>\n\n<p>dispatchEvent definition:</p>\n\n<pre><code>marker.addListener('click', function() {dispatchEvent(new Event(\"click\"));console.log(\"woot\");});\n</code></pre>\n\n<p>\"woot\" is found in console when a marker is clicked, but I never see \"Listener clicked\". What am I doing wrong?</p>\n\n<p><a href=\"https://i.stack.imgur.com/j5IAg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j5IAg.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["flutter", "dart", "flutter-layout"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11949251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CNq0s.jpg?s=128&g=1", "display_name": "kira", "link": "https://stackoverflow.com/users/11949251/kira"}, "edited": false, "score": 0, "creation_date": 1566399348, "post_id": 57566234, "comment_id": 101646069, "body": "Now i&#39;m getting this error: type &#39;String&#39; is not a subtype of type &#39;int&#39; of &#39;index&#39;"}], "tags": [], "owner": {"reputation": 9992, "user_id": 1367159, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e0948486caa48785f80dfd5c673de6d6?s=128&d=identicon&r=PG", "display_name": "Sukhi", "link": "https://stackoverflow.com/users/1367159/sukhi"}, "is_accepted": false, "score": 0, "last_activity_date": 1566270703, "creation_date": 1566270703, "answer_id": 57566234, "question_id": 57566083, "link": "https://stackoverflow.com/questions/57566083/how-to-return-the-objects-from-inside-a-json-list/57566234#57566234", "title": "How to return the objects from inside a json list?", "body": "<p>You can convert the json into map with the code like below :\nMap student = jsonDecode(jsonString);</p>\n\n<p>More details are <a href=\"https://flutter.dev/docs/development/data-and-backend/json\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Ideally, you'll have to create a class for the individual array and define a .fromJson method. This will give a better error handling and separate out the data and UI part.</p>\n\n<p>Example below :</p>\n\n<pre><code>class Student {\nfinal string name ;\n.....\n\nStudent({\n@required this.name,\n// ... \n\nStudent.fromJson(Map json)\n  : this.name = json[\"name\"],\n    this.score = json[\"score\"],\n    this.rank = json[\"rank\"]\n}\n</code></pre>\n\n<p>Then you'll have to pass the JSON you receive from the server to this class in order to instantiate. You can make the list at the same time. Example below :</p>\n\n<pre><code>Future&lt;List&gt;Students getStudentList() {\n\n   // ... API Call\n\n    return (decodedBody[\"StudentList\"] as List)\n            .map((element) =&gt; Student.fromJson(element))\n            .toList();\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 11949251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CNq0s.jpg?s=128&g=1", "display_name": "kira", "link": "https://stackoverflow.com/users/11949251/kira"}, "edited": false, "score": 0, "creation_date": 1566398677, "post_id": 57566257, "comment_id": 101645700, "body": "It give&#39;s me the following error: type &#39;CastList&lt;dynamic, Map&lt;String, dynamic&gt;&gt;&#39; is not a subtype of type &#39;Map&lt;dynamic, dynamic&gt;&#39;"}], "tags": [], "owner": {"reputation": 646, "user_id": 9655967, "user_type": "registered", "profile_image": "https://graph.facebook.com/2537048426521117/picture?type=large", "display_name": "Ali Bacelonia", "link": "https://stackoverflow.com/users/9655967/ali-bacelonia"}, "is_accepted": false, "score": 0, "last_activity_date": 1566270855, "creation_date": 1566270855, "answer_id": 57566257, "question_id": 57566083, "link": "https://stackoverflow.com/questions/57566083/how-to-return-the-objects-from-inside-a-json-list/57566257#57566257", "title": "How to return the objects from inside a json list?", "body": "<p><strong>Create a model</strong></p>\n\n<pre><code>class LeaderboardModel{\n    String name;\n    String score;\n    String rank;\n    LeaderboardModel({this.name,this.score,this.rank});\n    factory LeaderboardModel.fromJson(Map&lt;String,dynamic&gt; json){\n    return LeaderboardModel(\n      name : json[\"name\"],\n      score : json[\"score\"],\n      rank : json[\"rank\"],\n    );\n  }\n}\n</code></pre>\n\n<p><strong>Create a function</strong> </p>\n\n<pre><code>Future&lt;List&lt;LeaderboardModel&gt;&gt; readLeaderboard() async{\n    final response = await http.get(\"https://secure.runescape.com/m=hiscore/a=869/ranking.json?table=0&amp;category=0&amp;size=5\");\n    if (response.statusCode == 200) {\n        return parseLeaderboard(response.body);\n    } else {\n        throw Exception('Failed to load post');\n    }\n}\n\nList&lt;LeaderboardModel&gt; parseLeaderboard(String responseBody) {\n    final parsed = json.decode(responseBody).cast&lt;Map&lt;String, dynamic&gt;&gt;();\n    return parsed.map&lt;LeaderboardModel&gt;((json) =&gt; LeaderboardModel.fromJson(json)).toList();\n}\n</code></pre>\n\n<p>Hope this helps</p>\n"}], "owner": {"reputation": 13, "user_id": 11949251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CNq0s.jpg?s=128&g=1", "display_name": "kira", "link": "https://stackoverflow.com/users/11949251/kira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 280, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1566270855, "creation_date": 1566269212, "last_edit_date": 1566270217, "question_id": 57566083, "link": "https://stackoverflow.com/questions/57566083/how-to-return-the-objects-from-inside-a-json-list", "title": "How to return the objects from inside a json list?", "body": "<p>I have a func that make a get http request and after it return the following:</p>\n\n<pre><code>return json.decode(response.body);\n</code></pre>\n\n<p>The problem is that the response is a list, like this: </p>\n\n<pre><code>[\n   {\"name\":\"le me\",\"score\":\"5,400,000,000\",\"rank\":\"1\"},\n   {\"name\":\"Scuzzy\",\"score\":\"5,400,000,000\",\"rank\":\"2\"}\n]\n</code></pre>\n\n<p>But i cant return this list, i need to return a map, the objects inside this list <code>[]</code>.</p>\n\n<pre><code>const requestRank = \"https://secure.runescape.com/m=hiscore/a=869/ranking.json?table=0&amp;category=0&amp;size=5\";\n\nFuture&lt;Map&gt; _runeRequest() async {\n    http.Response response= await http.get(requestRank);\n   print((response.body));\n    return json.decode(response.body);\n  }\n\n\nWidget buildRankTable() {\n    return FutureBuilder&lt;Map&gt;(\n      future: _runeRequest(),\n      builder: (context, snapshot) {\n        switch (snapshot.connectionState) {\n          case ConnectionState.none:\n          case ConnectionState.waiting:\n            return _buildRank(\"1\", \"1\", \"1\", \"1\", false);\n          default:\n            if (snapshot.hasError) {\n              print(snapshot.error.toString());\n              return _buildRank(\"2\", \"2\", \"2\", \"2\", false);\n            } else {\n              String rank, player, xp;\n                for (int i = 0; i &lt; snapshot.data.length; i++) {\n                rank = snapshot.data[\"rank\"];\n                player = snapshot.data[\"name\"];\n                xp = snapshot.data[\"score\"];\n                print(\"\u00ba Rank=&gt; \" + rank);\n                print(\"\u00ba player=&gt; \" + player);\n                if (i % 2 == 0)\n                  return _buildRank(rank, player, \"2736\", xp, false);\n                else\n                  return _buildRank(rank, player, \"2736\", xp, false);\n              }\n              return _buildRank(rank, player, \"2736\", xp, false);\n            }\n        }\n      },\n    );\n  }\n</code></pre>\n\n<p>I'm getting this error: </p>\n\n<blockquote>\n  <p>type 'List' is not a subtype of type 'FutureOr>'</p>\n</blockquote>\n\n<p>I think the problem is that i'm returning a list to my <code>FutureBuilder</code> in my func <code>buildRankTable</code>. So i need to enter return a map, and dont a list in my response on func <code>_runeRequest</code>, right?</p>\n"}, {"tags": ["flutter", "dart", "datatable", "datarow"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 11949188, "user_type": "registered", "profile_image": "https://graph.facebook.com/1198700103660931/picture?type=large", "display_name": "Coldie Man", "link": "https://stackoverflow.com/users/11949188/coldie-man"}, "edited": false, "score": 0, "creation_date": 1566290078, "post_id": 57566570, "comment_id": 101599932, "body": "is there any other way to do this without using add button?"}, {"owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "reply_to_user": {"reputation": 35, "user_id": 11949188, "user_type": "registered", "profile_image": "https://graph.facebook.com/1198700103660931/picture?type=large", "display_name": "Coldie Man", "link": "https://stackoverflow.com/users/11949188/coldie-man"}, "edited": false, "score": 0, "creation_date": 1566290764, "post_id": 57566570, "comment_id": 101600283, "body": "The key is users.add(user); and  setState(() {});  you put this logical anywhere you need."}, {"owner": {"reputation": 35, "user_id": 11949188, "user_type": "registered", "profile_image": "https://graph.facebook.com/1198700103660931/picture?type=large", "display_name": "Coldie Man", "link": "https://stackoverflow.com/users/11949188/coldie-man"}, "edited": false, "score": 0, "creation_date": 1566366896, "post_id": 57566570, "comment_id": 101628453, "body": "Your code is adding new user to users list so u can edit the field while i want to fill out the field first then add a new user to user list. i&#39;m sorry please explain me one last time i really don&#39;t know what to do."}, {"owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "reply_to_user": {"reputation": 35, "user_id": 11949188, "user_type": "registered", "profile_image": "https://graph.facebook.com/1198700103660931/picture?type=large", "display_name": "Coldie Man", "link": "https://stackoverflow.com/users/11949188/coldie-man"}, "edited": false, "score": 0, "creation_date": 1566367401, "post_id": 57566570, "comment_id": 101628625, "body": "If you need your order item display in DataTable, you need to add list first. because the UI&#39;s work is only display list data and there is always the last empty item can be removed after user click submit. you can validate this list with for loop."}, {"owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "reply_to_user": {"reputation": 35, "user_id": 11949188, "user_type": "registered", "profile_image": "https://graph.facebook.com/1198700103660931/picture?type=large", "display_name": "Coldie Man", "link": "https://stackoverflow.com/users/11949188/coldie-man"}, "edited": false, "score": 0, "creation_date": 1566367514, "post_id": 57566570, "comment_id": 101628668, "body": "or you can put these editable field on other UI and when user click add button. you just add to list and setState, it will show in DataTable."}, {"owner": {"reputation": 35, "user_id": 11949188, "user_type": "registered", "profile_image": "https://graph.facebook.com/1198700103660931/picture?type=large", "display_name": "Coldie Man", "link": "https://stackoverflow.com/users/11949188/coldie-man"}, "edited": false, "score": 0, "creation_date": 1566370020, "post_id": 57566570, "comment_id": 101629647, "body": "so i will tell you the flow of the app i want. This app is for salesperson use for order products for his customers. First, he will select the name of product from the product list. Then he will input the amount and the price. Thus, i want him to input the amount and price inside the datatable. So what do u think i should use?"}, {"owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "reply_to_user": {"reputation": 35, "user_id": 11949188, "user_type": "registered", "profile_image": "https://graph.facebook.com/1198700103660931/picture?type=large", "display_name": "Coldie Man", "link": "https://stackoverflow.com/users/11949188/coldie-man"}, "edited": false, "score": 0, "creation_date": 1566370507, "post_id": 57566570, "comment_id": 101629862, "body": "You have to insert empty or default data to list and setState, and then DataTable will show this default order item with default or empty value. and then you can validate user&#39;s input and finally when user click submit button, for loop this list do some validate, and remove empty item (should be last one)"}, {"owner": {"reputation": 35, "user_id": 11949188, "user_type": "registered", "profile_image": "https://graph.facebook.com/1198700103660931/picture?type=large", "display_name": "Coldie Man", "link": "https://stackoverflow.com/users/11949188/coldie-man"}, "edited": false, "score": 0, "creation_date": 1566370769, "post_id": 57566570, "comment_id": 101629984, "body": "that means i can&#39;t add to list and setstate in submit button, right?"}, {"owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "reply_to_user": {"reputation": 35, "user_id": 11949188, "user_type": "registered", "profile_image": "https://graph.facebook.com/1198700103660931/picture?type=large", "display_name": "Coldie Man", "link": "https://stackoverflow.com/users/11949188/coldie-man"}, "edited": false, "score": 0, "creation_date": 1566370972, "post_id": 57566570, "comment_id": 101630059, "body": "you can do add to list and setState in submit button. it&#39;s just a logical."}, {"owner": {"reputation": 35, "user_id": 11949188, "user_type": "registered", "profile_image": "https://graph.facebook.com/1198700103660931/picture?type=large", "display_name": "Coldie Man", "link": "https://stackoverflow.com/users/11949188/coldie-man"}, "edited": false, "score": 0, "creation_date": 1566371457, "post_id": 57566570, "comment_id": 101630278, "body": "i&#39;m doing it here in submit button, but it only give me the last row"}, {"owner": {"reputation": 35, "user_id": 11949188, "user_type": "registered", "profile_image": "https://graph.facebook.com/1198700103660931/picture?type=large", "display_name": "Coldie Man", "link": "https://stackoverflow.com/users/11949188/coldie-man"}, "edited": false, "score": 0, "creation_date": 1566372536, "post_id": 57566570, "comment_id": 101630783, "body": "ah i forgot that i have 2 different lists, orderItemList and orderedProductList. I use orderedProductList on datatable and i want to create new orderedItem and add to orderItemList"}, {"owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "reply_to_user": {"reputation": 35, "user_id": 11949188, "user_type": "registered", "profile_image": "https://graph.facebook.com/1198700103660931/picture?type=large", "display_name": "Coldie Man", "link": "https://stackoverflow.com/users/11949188/coldie-man"}, "edited": false, "score": 0, "creation_date": 1566372935, "post_id": 57566570, "comment_id": 101630961, "body": "most of the example use ListView not DataTable, Actually I did not find github example use DataTable. You can check this <a href=\"https://github.com/Widle-Studio/Grocery-App\" rel=\"nofollow noreferrer\">github.com/Widle-Studio/Grocery-App</a> or <a href=\"https://github.com/invoiceninja/flutter-mobile\" rel=\"nofollow noreferrer\">github.com/invoiceninja/flutter-mobile</a>"}], "tags": [], "owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "is_accepted": true, "score": 10, "last_activity_date": 1566279435, "last_edit_date": 1566279435, "creation_date": 1566273865, "answer_id": 57566570, "question_id": 57565996, "link": "https://stackoverflow.com/questions/57565996/how-to-create-an-object-from-a-datarow-of-datatable-in-flutter/57566570#57566570", "title": "How to create an object from a Datarow of Datatable in Flutter", "body": "<p>The following example is Datatable with TextField <br>\nIn the example below, data came from List and First name is editable <br></p>\n\n<p>full demo code with edit and add/print all button</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(MyMaterialApp());\n\nclass MyMaterialApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'flutter_typeahead demo',\n      home: DataTableDemo(),\n    );\n  }\n}\n\nclass User {\n  String firstName;\n  String lastName;\n\n  User({this.firstName, this.lastName});\n\n  static List&lt;User&gt; getUsers() {\n    return users;\n    /*return &lt;User&gt;[\n      User(firstName: \"Aaryan\", lastName: \"Shah\"),\n      User(firstName: \"Ben\", lastName: \"John\"),\n      User(firstName: \"Carrie\", lastName: \"Brown\"),\n      User(firstName: \"Deep\", lastName: \"Sen\"),\n      User(firstName: \"Emily\", lastName: \"Jane\"),\n    ];*/\n  }\n\n  static addUsers(firstName, lastName) {\n    var user = new User();\n    user.firstName = firstName;\n    user.lastName = lastName;\n    users.add(user);\n  }\n}\n\nList&lt;User&gt; users = [];\n\nclass DataTableDemo extends StatefulWidget {\n  DataTableDemo() : super();\n\n  final String title = \"Data Table Flutter Demo\";\n\n  @override\n  DataTableDemoState createState() =&gt; DataTableDemoState();\n}\n\nclass DataTableDemoState extends State&lt;DataTableDemo&gt; {\n  List&lt;User&gt; users;\n  List&lt;User&gt; selectedUsers;\n  bool sort;\n\n  @override\n  void initState() {\n    sort = false;\n    selectedUsers = [];\n    users = User.getUsers();\n    super.initState();\n  }\n\n  onSortColum(int columnIndex, bool ascending) {\n    if (columnIndex == 0) {\n      if (ascending) {\n        users.sort((a, b) =&gt; a.firstName.compareTo(b.firstName));\n      } else {\n        users.sort((a, b) =&gt; b.firstName.compareTo(a.firstName));\n      }\n    }\n  }\n\n  onSelectedRow(bool selected, User user) async {\n    setState(() {\n      if (selected) {\n        selectedUsers.add(user);\n      } else {\n        selectedUsers.remove(user);\n      }\n    });\n  }\n\n  deleteSelected() async {\n    setState(() {\n      if (selectedUsers.isNotEmpty) {\n        List&lt;User&gt; temp = [];\n        temp.addAll(selectedUsers);\n        for (User user in temp) {\n          users.remove(user);\n          selectedUsers.remove(user);\n        }\n      }\n    });\n  }\n\n  SingleChildScrollView dataBody() {\n    return SingleChildScrollView(\n      scrollDirection: Axis.vertical,\n      child: Column(\n        children: &lt;Widget&gt;[\n          MaterialButton(\n            child: Text('add button'),\n            onPressed: () {\n              var user = new User();\n              user.firstName = \"default firstName\";\n              user.lastName = \"default lastName\";\n              users.add(user);\n              setState(() {});\n            },\n          ),\n          MaterialButton(\n            child: Text('print all button'),\n            onPressed: () {\n              users.forEach((u) =&gt; print(\"${u.firstName} ${u.lastName}\"));\n            },\n          ),\n          DataTable(\n            sortAscending: sort,\n            sortColumnIndex: 0,\n            columns: [\n              DataColumn(\n                  label: Text(\"FIRST NAME\"),\n                  numeric: false,\n                  tooltip: \"This is First Name\",\n                  onSort: (columnIndex, ascending) {\n                    setState(() {\n                      sort = !sort;\n                    });\n                    onSortColum(columnIndex, ascending);\n                  }),\n              DataColumn(\n                label: Text(\"LAST NAME\"),\n                numeric: false,\n                tooltip: \"This is Last Name\",\n              ),\n            ],\n            rows: users\n                .map(\n                  (user) =&gt; DataRow(\n                          selected: selectedUsers.contains(user),\n                          onSelectChanged: (b) {\n                            print(\"Onselect\");\n                            onSelectedRow(b, user);\n                          },\n                          cells: [\n                            DataCell(\n                              //Text(user.firstName),\n                              TextField(\n                                onChanged: (text) {\n                                  print(\"First text field: $text\");\n                                  user.firstName = text;\n                                },\n                              ),\n                            ),\n                            DataCell(\n                              Text(user.lastName),\n                            ),\n                          ]),\n                )\n                .toList(),\n          ),\n        ],\n      ),\n    );\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(widget.title),\n      ),\n      body: Column(\n        mainAxisSize: MainAxisSize.min,\n        mainAxisAlignment: MainAxisAlignment.center,\n        verticalDirection: VerticalDirection.down,\n        children: &lt;Widget&gt;[\n          Expanded(\n            child: dataBody(),\n          ),\n          Row(\n            mainAxisAlignment: MainAxisAlignment.center,\n            mainAxisSize: MainAxisSize.min,\n            children: &lt;Widget&gt;[\n              Padding(\n                padding: EdgeInsets.all(20.0),\n                child: OutlineButton(\n                  child: Text('SELECTED ${selectedUsers.length}'),\n                  onPressed: () {},\n                ),\n              ),\n              Padding(\n                padding: EdgeInsets.all(20.0),\n                child: OutlineButton(\n                  child: Text('DELETE SELECTED'),\n                  onPressed: selectedUsers.isEmpty\n                      ? null\n                      : () {\n                          deleteSelected();\n                        },\n                ),\n              ),\n            ],\n          ),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>result when click print all button</p>\n\n<pre><code>I/flutter (13851): abc default lastName\nI/flutter (13851): def default lastName\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/feZny.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/feZny.gif\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 35, "user_id": 11949188, "user_type": "registered", "profile_image": "https://graph.facebook.com/1198700103660931/picture?type=large", "display_name": "Coldie Man", "link": "https://stackoverflow.com/users/11949188/coldie-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5785, "favorite_count": 4, "accepted_answer_id": 57566570, "answer_count": 1, "score": 3, "last_activity_date": 1566279435, "creation_date": 1566268282, "last_edit_date": 1566268616, "question_id": 57565996, "link": "https://stackoverflow.com/questions/57565996/how-to-create-an-object-from-a-datarow-of-datatable-in-flutter", "title": "How to create an object from a Datarow of Datatable in Flutter", "body": "<p>I'm quite new to flutter and I'm building a shopping app, which list the order items in a table. The user will fill out the row field such as Price and Amount. I want to know how do I create an object of order items from each row of table. Please help me! I'm stuck with this problem a few days already.</p>\n\n<p>here is <a href=\"http://pdo.pblcnt.com/public/storage/products/July2019/68381432_779166385831298_8787006748310372352_n.jpg\" rel=\"nofollow noreferrer\">a link</a> to example table</p>\n\n<p>Here is the code of each row</p>\n\n<pre><code>    rows: orderedProducts\n      .map((product) =&gt; DataRow(cells: [\n           DataCell(Text(product.productName)),\n           DataCell(\n             TextFormField(\n               onSaved: (String value) {\n                 takeNumber(value, product.id);\n                },\n             keyboardType: TextInputType.number,\n              ),),\n           DataCell(\n             TextFormField(\n                onSaved: (String value) {\n                   takeNumber(value, product.id);\n                },\n             keyboardType: TextInputType.number,\n            ),),])).toList()),\n</code></pre>\n"}, {"tags": ["android-studio", "datetime", "flutter", "dart"], "comments": [{"owner": {"reputation": 46708, "user_id": 179715, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e240f1a5bb197450dfb8934dd55d9e3a?s=128&d=identicon&r=PG", "display_name": "jamesdlin", "link": "https://stackoverflow.com/users/179715/jamesdlin"}, "edited": false, "score": 1, "creation_date": 1566274716, "post_id": 57565890, "comment_id": 101594377, "body": "<code>The getter &#39;month&#39; was called on null</code> means that <code>null</code> somewhere ended up being passed for a <code>DateTime</code>, and something tried to access its <code>month</code> member.  I recommend adding <code>assert</code>s to verify that things aren&#39;t <code>null</code> when you don&#39;t expect."}, {"owner": {"reputation": 1890, "user_id": 2362966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8792270fcc92400b12d02f8a4cc00e89?s=128&d=identicon&r=PG", "display_name": "ejabu", "link": "https://stackoverflow.com/users/2362966/ejabu"}, "edited": false, "score": 0, "creation_date": 1566294933, "post_id": 57565890, "comment_id": 101602642, "body": "I run app myself, and found no error when tapping button in bottom area. here is demo <a href=\"https://imgur.com/a/UjRM5tP\" rel=\"nofollow noreferrer\">imgur.com/a/UjRM5tP</a>. I used    intl: ^0.15.8 and dart 2.4.1"}, {"owner": {"reputation": 109, "user_id": 10438281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YQWEm.png?s=128&g=1", "display_name": "Frenggie", "link": "https://stackoverflow.com/users/10438281/frenggie"}, "reply_to_user": {"reputation": 46708, "user_id": 179715, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e240f1a5bb197450dfb8934dd55d9e3a?s=128&d=identicon&r=PG", "display_name": "jamesdlin", "link": "https://stackoverflow.com/users/179715/jamesdlin"}, "edited": false, "score": 0, "creation_date": 1566305303, "post_id": 57565890, "comment_id": 101608292, "body": "@jamesdlin Thanks for the explanation... I will search myself through the code and try to figure out what is trying to access the <code>month</code> member. Do you recommend adding <code>assert</code>s inside the <code>getWeekday</code> method? How could I achieve this? Thanks for your help!"}, {"owner": {"reputation": 109, "user_id": 10438281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YQWEm.png?s=128&g=1", "display_name": "Frenggie", "link": "https://stackoverflow.com/users/10438281/frenggie"}, "reply_to_user": {"reputation": 1890, "user_id": 2362966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8792270fcc92400b12d02f8a4cc00e89?s=128&d=identicon&r=PG", "display_name": "ejabu", "link": "https://stackoverflow.com/users/2362966/ejabu"}, "edited": false, "score": 0, "creation_date": 1566305764, "post_id": 57565890, "comment_id": 101608617, "body": "@ejabu I&#39;ve also tried it and for some weird reason it works now... lets wait until tomorrow and see if it works then too. xD"}], "answers": [{"tags": [], "owner": {"reputation": 1381, "user_id": 6459510, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7aa58c1628de0677f321f33da72c51df?s=128&d=identicon&r=PG&f=1", "display_name": "Jama Mohamed", "link": "https://stackoverflow.com/users/6459510/jama-mohamed"}, "is_accepted": false, "score": 1, "last_activity_date": 1616503828, "last_edit_date": 1616503828, "creation_date": 1571762332, "answer_id": 58508793, "question_id": 57565890, "link": "https://stackoverflow.com/questions/57565890/flutter-what-does-the-nosuchmethoderror-the-getter-month-was-called-on-null/58508793#58508793", "title": "Flutter: What does the NoSuchMethodError: &quot;The getter &#39;month&#39; was called on null&quot; mean? (DateTime package)", "body": "<p>You might not take this as an answer, but more, like getting rid of some boilerplate in your code. For this, I will recommend you to try this package, <a href=\"https://pub.dev/packages/jiffy\" rel=\"nofollow noreferrer\">Jiffy</a>. It is a date format package that is inspired by momentjs</p>\n<p>Getting end of week</p>\n<pre><code>var _weekEndDatetimeUnformatted = Jiffy().endOf(Units.WEEK);\n\n// You can also pass a DateTime object\nvar _weekEndDatetimeUnformatted = Jiffy(DateTime.now()).endOf(Units.WEEK);\n\n// And in your case\nvar _weekEndDatetimeUnformatted = Jiffy(_actualDatetimeUnformatted).endOf(Units.WEEK);\n</code></pre>\n<p>Formatting.</p>\n<pre><code>var _selectedDay = Jiffy(_actualDatetimeUnformatted).format(&quot;EEEE&quot;);\nvar _Weekday = Jiffy(_actualDatetimeUnformatted).format(&quot;MMM d&quot;);\n\n// You can also use default formats\nvar formatterDay = Jiffy(_actualDatetimeUnformatted).EEEE; // e.g Monday\n</code></pre>\n<p>For the <code>_WeekdayEnd</code> there two options you can try</p>\n<pre><code>//User the _weekEndDatetimeUnformatted Datetime Object\nvar _WeekdayEnd = Jiffy(_weekEndDatetimeUnformatted).format(&quot;MMM d&quot;);\n\n// Or use method cascading which returns a Jiffy instance. \n// Advantage is that Jiffy has more functionality than DateTime\nvar _weekEndDatetimeUnformatted = Jiffy().endOf(Units.WEEK);\nvar _WeekdayEnd = _weekEndDatetimeUnformatted.format(&quot;MMM d&quot;);\n</code></pre>\n<p>Hope this helped</p>\n"}], "owner": {"reputation": 109, "user_id": 10438281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YQWEm.png?s=128&g=1", "display_name": "Frenggie", "link": "https://stackoverflow.com/users/10438281/frenggie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2074, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1616503828, "creation_date": 1566267148, "last_edit_date": 1566267561, "question_id": 57565890, "link": "https://stackoverflow.com/questions/57565890/flutter-what-does-the-nosuchmethoderror-the-getter-month-was-called-on-null", "title": "Flutter: What does the NoSuchMethodError: &quot;The getter &#39;month&#39; was called on null&quot; mean? (DateTime package)", "body": "<p>I've started with flutter a couple of days ago and I am facing some issues here with the <code>DateTime</code> package. I am trying to implement a method which has to check if the actual day is monday or thursday etc. and then it should return a value which is getting added to a <code>_actualDatetimeUnformatted.add</code> function. Could it be a problem with the <code>add</code> function of DateTime, so it cannot receive a method's return value as <code>days</code>?</p>\n\n<p>Here is the full code. The problem is in the <code>static var _weekEndDatetimeUnformatted = _actualDatetimeUnformatted.add(new Duration(days: getWeekday(_actualDatetimeUnformatted)));</code> variable. When I change the the value to lets say 50 instead it works.</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:flutter/services.dart';\nimport 'package:intl/intl.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    SystemChrome.setPreferredOrientations([\n      DeviceOrientation.portraitUp,\n      DeviceOrientation.portraitDown,\n    ]);\n    return MaterialApp(\n      debugShowCheckedModeBanner: false,\n      theme: new ThemeData(\n              brightness: Brightness.dark,\n              primaryColorBrightness: Brightness.dark,\n      ),\n      home: MyHomePage(),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  @override\n  _MyHomePageState createState() =&gt; _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n\n  // GETTING ACTUAL DATE\n  static var _actualDatetimeUnformatted = new DateTime.now();\n\n  // DATETIME OBJECT TOO, LIKE _actualDatetimeUnformatted BUT WITH A FEW DAYS ADDED TO IT (TO GET THE END OF THE WEEK!)\n  static var _weekEndDatetimeUnformatted = _actualDatetimeUnformatted.add(\n      new Duration(days: getWeekday(_actualDatetimeUnformatted)));  // RED SCREEN MISTAKE SOMEWHERE HERE IN \"getWeekday\" method!\n\n  // GET MONTH, DAY, YEAR (AS END OF WEEK)\n  static getWeekday(_actualDatetimeUnformatted) {\n    if (_actualDatetimeUnformatted.weekday == DateTime.monday) {\n      return 6;\n    } else if (_actualDatetimeUnformatted.weekday == DateTime.tuesday) {\n      return 5;\n    } else if (_actualDatetimeUnformatted.weekday == DateTime.wednesday) {\n      return 4;\n    } else if (_actualDatetimeUnformatted.weekday == DateTime.thursday) {\n      return 3;\n    } else if (_actualDatetimeUnformatted.weekday == DateTime.friday) {\n      return 2;\n    } else if (_actualDatetimeUnformatted.weekday == DateTime.saturday) {\n      return 1;\n    } else if (_actualDatetimeUnformatted.weekday == DateTime.sunday) {\n      return 0;\n    }\n  }\n\n  // GET MONTH, DAY (AS START OF WEEK)\n  static var formatterWeekdayAll = new DateFormat(\"MMM d\");\n\n  // GET WEEKDAY\n  static var formatterDay = new DateFormat(\"EEEE\");\n\n  // GETTING WEEKDAY FOR SELECTED DAY (above the weekdays)\n  String _selectedDay = formatterDay.format(_actualDatetimeUnformatted);\n\n  // RETURNING WEEKDAY FOR APP TEXT AS WELL AS END OF WEEK CALCULATED FROM THE DAY OF _WEEKDAY (above the current day (_selectedDay))\n  String _Weekday = formatterWeekdayAll.format(_actualDatetimeUnformatted); //WORKS\n  String _WeekdayEnd = formatterWeekdayAll.format(_weekEndDatetimeUnformatted);\n\n  String text = \"Some Note...\";\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n        backgroundColor: Colors.black,\n        body: ListView(\n            children: &lt;Widget&gt;[\n              Stack(\n                children: &lt;Widget&gt;[\n                  Container(\n                    height: 380.0,\n                  ),\n                  ShaderMask(\n                      shaderCallback: (rect) {\n                        return LinearGradient(\n                            begin: Alignment.topCenter,\n                            end: Alignment.bottomCenter,\n                            colors: [Colors.black, Colors.transparent])\n                            .createShader(\n                            Rect.fromLTRB(0, 0, rect.width, rect.height));\n                      },\n                      blendMode: BlendMode.dstIn,\n                      child: Image.asset('assets/milchstra\u00dfe.jpg',\n                          height: 300.0, fit: BoxFit.cover)),\n                  RotatedBox(\n                    quarterTurns: 0,\n                    child: Text('Weekly Planner',\n                        style: TextStyle(\n                            fontSize: 55,\n                            fontWeight: FontWeight.bold,\n                            color: Colors.white.withOpacity(0.35),\n                            letterSpacing: 10.0)),\n                  ),\n                  Positioned(\n                    top: 4.0,\n                    right: 4.0,\n                    child: Container(\n                      height: 40.0,\n                      width: 40.0,\n                      decoration: BoxDecoration(\n                          borderRadius: BorderRadius.circular(20.0),\n                          color: Colors.white),\n                      child: Center(\n                        child: Icon(Icons.menu),\n                      ),\n                    ),\n                  ),\n                  Positioned(\n                    top: 2.0,\n                    right: 5.0,\n                    child: Container(\n                      height: 12.0,\n                      width: 12.0,\n                      decoration: BoxDecoration(\n                          borderRadius: BorderRadius.circular(6.0),\n                          color: Color(0xFFFD3664)),\n                    ),\n                  ),\n                  Positioned(\n                      top: 170.0,\n                      left: 10.0,\n                      child: Column(\n                        children: &lt;Widget&gt;[\n                          Text(\"It's week:\",\n                              style: TextStyle(\n                                  fontFamily: 'Oswald-Light',\n                                  fontSize: 25.0,\n                                  fontWeight: FontWeight.w500,\n                                  color: Colors.white))\n                        ],\n                      )),\n                  Positioned(\n                      top: 280.0,\n                      left: 120.0,\n                      child: Column(\n                        children: &lt;Widget&gt;[\n                          Text(\"$_selectedDay\",\n                              style: TextStyle(\n                                  fontFamily: 'Oswald-Light',\n                                  fontSize: 40.0,\n                                  fontWeight: FontWeight.w500,\n                                  color: Colors.white))\n                        ],\n                      )),\n                  Positioned(\n                      top: 210.0,\n                      left: 10.0,\n                      child: Column(\n                        children: &lt;Widget&gt;[\n                          Row(\n                            children: &lt;Widget&gt;[\n                              Text('From $_Weekday. to $_WeekdayEnd.',\n                                  style: TextStyle(\n                                      fontFamily: 'Oswald-Light',\n                                      fontSize: 35.0,\n                                      fontWeight: FontWeight.bold,\n                                      color: Color(0xFFFD3664))),\n                            ],\n                          )\n                        ],\n                      )),\n                ],\n              ),\n              Row(mainAxisAlignment: MainAxisAlignment.spaceEvenly, children: [\n                _buildWeekDays('Monday', Icons.calendar_today, text),\n                _buildWeekDays('Tuesday', Icons.calendar_today, text),\n                _buildWeekDays('Wednesday', Icons.calendar_today, text),\n                _buildWeekDays('Thursday', Icons.calendar_today, text),\n              ]),\n              Row(mainAxisAlignment: MainAxisAlignment.spaceEvenly, children: [\n                _buildWeekDays('Friday', Icons.calendar_today, text),\n                _buildWeekDays('Saturday', Icons.calendar_today, text),\n                _buildWeekDays('Sunday', Icons.calendar_today, text),\n              ]),\n            ]));\n  }\n\n  Widget _buildWeekDays(String day, iconData, text) {\n    return InkWell(\n      splashColor: Colors.transparent,\n      onTap: () {\n        _WeekPlanRoute(day, text); // MISTAKE SOMEWHERE IN THIS METHOD!!!\n      },\n      child: AnimatedContainer(\n          curve: Curves.easeIn,\n          duration: Duration(microseconds: 300),\n          height: _selectedDay == 'day' ? 100.0 : 100.0,\n          width: _selectedDay == 'day' ? 100.0 : 75.0,\n          color: _selectedDay == 'day' ? Color(0xFFFD3566) : Colors.transparent,\n          child: Column(\n            mainAxisAlignment: MainAxisAlignment.center,\n            children: [\n              Icon(\n                iconData,\n                color: _selectedDay == day ? Colors.white : Colors.grey,\n                size: 40.0,\n              ),\n              SizedBox(height: 10.0),\n              Text(day,\n                  style: TextStyle(\n                      fontFamily: 'Oswald-Light',\n                      color: _selectedDay == day ? Colors.white : Colors.grey,\n                      fontSize: 15.0))\n            ],\n          )),\n    );\n  }\n\n  void _WeekPlanRoute(day, text) {\n    selectMenuOption(day);\n    Navigator.of(context).push(\n      MaterialPageRoute&lt;void&gt;(\n          builder: (BuildContext context) {\n            return Scaffold(\n              appBar: AppBar(\n                title: Text(\n                  '$day',\n                  textAlign: TextAlign.center,\n                  style: TextStyle(\n                    fontFamily: 'Oswald-Light',\n                    color: Color(0xFFFD3566),\n                    fontWeight: FontWeight.bold,\n                    fontSize: 35,\n                  ),\n                ),\n              ),\n              body: new Container(\n                margin: const EdgeInsets.symmetric(\n                    horizontal: 10.0, vertical: 5.0),\n                padding: const EdgeInsets.symmetric(\n                    horizontal: 15.0, vertical: 10.0),\n                decoration: new BoxDecoration(\n                  color: Colors.green.shade200.withOpacity(0.3),\n                  borderRadius: new BorderRadius.circular(5.0),\n                ),\n                child: new IntrinsicHeight(\n                  child: new Row(\n                    crossAxisAlignment: CrossAxisAlignment.stretch,\n                    children: &lt;Widget&gt;[\n                      new Container(\n                        margin: const EdgeInsets.only(\n                            top: 4.0, bottom: 4.0, right: 10.0),\n                        child: Text(\n                          text, // DYNAMICALLY FOR USERS!\n                          textAlign: TextAlign.justify,\n                          overflow: TextOverflow.ellipsis,\n                          maxLines: 3,\n                          style: TextStyle(\n                            fontFamily: 'Oswald-Light',\n                            fontSize: 20,\n                            fontWeight: FontWeight.w200,\n                            color: Colors.white,\n                          ),\n                        ),\n                      ),\n                      new Container(\n                        margin: EdgeInsets.symmetric(horizontal: 5.0),\n                        child: InkWell(\n                          child: Icon(\n                            Icons.star_border,\n                            size: 40,\n                          ),\n                          onTap: () {\n                            setToFav(text);\n                          },\n                          onDoubleTap: () {\n                            // DELETE COLOR FROM THE STAR\n                            // DELETE IT FROM ARRAY OF IMPORTANT NOTES!\n                          },\n                        ),\n                      ),\n                    ],\n                  ),\n                ),\n              ),\n            );\n          }\n      ),\n    );\n  }\n\n  selectMenuOption(String day) {\n    setState(() {\n      _selectedDay = day;\n    });\n  }\n\n  setToFav(String text) {\n    setState(() {\n      //final bool favourized = _saved.contains(pair)\n    });\n\n  }\n}\n</code></pre>\n\n<p>I've read myself through the error message but it's not really helpful for me xD. I'm coming from the lands of Python which means I am familiar with short, helpful error messages :D.</p>\n\n<pre><code>I/flutter (28798): \u2550\u2550\u2561 EXCEPTION CAUGHT BY WIDGETS LIBRARY \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nI/flutter (28798): The following NoSuchMethodError was thrown building Builder:\nI/flutter (28798): The getter 'month' was called on null.\nI/flutter (28798): Receiver: null\nI/flutter (28798): Tried calling: month\nI/flutter (28798): User-created ancestor of the error-causing widget was:\nI/flutter (28798):   MaterialApp\nI/flutter (28798):   file:///C:/Users/tim-a/Desktop/AndroidStudioProjects/Flutter/wochenplaner/lib/main.dart:14:12\nI/flutter (28798): When the exception was thrown, this was the stack:\nI/flutter (28798): #0      Object.noSuchMethod (dart:core-patch/object_patch.dart:50:5)\nI/flutter (28798): #1      _DateFormatPatternField.formatMonth (package:intl/src/intl/date_format_field.dart:445:41)\nI/flutter (28798): #2      _DateFormatPatternField.formatField (package:intl/src/intl/date_format_field.dart:367:16)\nI/flutter (28798): #3      _DateFormatPatternField.format (package:intl/src/intl/date_format_field.dart:244:12)\nI/flutter (28798): #4      DateFormat.format.&lt;anonymous closure&gt; (package:intl/src/intl/date_format.dart:255:57)\nI/flutter (28798): #5      List.forEach (dart:core-patch/growable_array.dart:278:8)\nI/flutter (28798): #6      DateFormat.format (package:intl/src/intl/date_format.dart:255:19)\nI/flutter (28798): #7      new _MyHomePageState (package:wochenplaner/main.dart:69:44)\nI/flutter (28798): #8      MyHomePage.createState (package:wochenplaner/main.dart:27:37)\nI/flutter (28798): #9      new StatefulElement (package:flutter/src/widgets/framework.dart:4016:25)\nI/flutter (28798): #10     StatefulWidget.createElement (package:flutter/src/widgets/framework.dart:802:38)\nI/flutter (28798): #11     Element.inflateWidget (package:flutter/src/widgets/framework.dart:3091:40)\nI/flutter (28798): #12     Element.updateChild (package:flutter/src/widgets/framework.dart:2896:12)\nI/flutter (28798): #13     SingleChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:5119:14)\nI/flutter (28798): #14     Element.inflateWidget (package:flutter/src/widgets/framework.dart:3093:14)\nI/flutter (28798): #15     Element.updateChild (package:flutter/src/widgets/framework.dart:2896:12)\nI/flutter (28798): #16     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:3953:16)\nI/flutter (28798): #17     Element.rebuild (package:flutter/src/widgets/framework.dart:3730:5)\nI/flutter (28798): #18     StatelessElement.update (package:flutter/src/widgets/framework.dart:4008:5)\nI/flutter (28798): #19     Element.updateChild (package:flutter/src/widgets/framework.dart:2885:15)\nI/flutter (28798): #20     SingleChildRenderObjectElement.update (package:flutter/src/widgets/framework.dart:5126:14)\nI/flutter (28798): #21     Element.updateChild (package:flutter/src/widgets/framework.dart:2885:15)\nI/flutter (28798): #22     SingleChildRenderObjectElement.update (package:flutter/src/widgets/framework.dart:5126:14)\nI/flutter (28798): #23     Element.updateChild (package:flutter/src/widgets/framework.dart:2885:15)\nI/flutter (28798): #24     SingleChildRenderObjectElement.update (package:flutter/src/widgets/framework.dart:5126:14)\nI/flutter (28798): #25     Element.updateChild (package:flutter/src/widgets/framework.dart:2885:15)\nI/flutter (28798): #26     SingleChildRenderObjectElement.update (package:flutter/src/widgets/framework.dart:5126:14)\nI/flutter (28798): #27     Element.updateChild (package:flutter/src/widgets/framework.dart:2885:15)\nI/flutter (28798): #28     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:3953:16)\nI/flutter (28798): #29     Element.rebuild (package:flutter/src/widgets/framework.dart:3730:5)\nI/flutter (28798): #30     StatefulElement.update (package:flutter/src/widgets/framework.dart:4112:5)\nI/flutter (28798): #31     Element.updateChild (package:flutter/src/widgets/framework.dart:2885:15)\nI/flutter (28798): #32     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:3953:16)\nI/flutter (28798): #33     Element.rebuild (package:flutter/src/widgets/framework.dart:3730:5)\nI/flutter (28798): #34     StatelessElement.update (package:flutter/src/widgets/framework.dart:4008:5)\nI/flutter (28798): #35     Element.updateChild (package:flutter/src/widgets/framework.dart:2885:15)\nI/flutter (28798): #36     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:3953:16)\nI/flutter (28798): #37     Element.rebuild (package:flutter/src/widgets/framework.dart:3730:5)\nI/flutter (28798): #38     StatefulElement.update (package:flutter/src/widgets/framework.dart:4112:5)\nI/flutter (28798): #39     Element.updateChild (package:flutter/src/widgets/framework.dart:2885:15)\nI/flutter (28798): #40     SingleChildRenderObjectElement.update (package:flutter/src/widgets/framework.dart:5126:14)\nI/flutter (28798): #41     Element.updateChild (package:flutter/src/widgets/framework.dart:2885:15)\nI/flutter (28798): #42     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:3953:16)\nI/flutter (28798): #43     Element.rebuild (package:flutter/src/widgets/framework.dart:3730:5)\nI/flutter (28798): #44     ProxyElement.update (package:flutter/src/widgets/framework.dart:4246:5)\nI/flutter (28798): #45     _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:94:11)\nI/flutter (28798): #46     Element.updateChild (package:flutter/src/widgets/framework.dart:2885:15)\nI/flutter (28798): #47     SingleChildRenderObjectElement.update (package:flutter/src/widgets/framework.dart:5126:14)\nI/flutter (28798): #48     Element.updateChild (package:flutter/src/widgets/framework.dart:2885:15)\nI/flutter (28798): #49     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:3953:16)\nI/flutter (28798): #50     Element.rebuild (package:flutter/src/widgets/framework.dart:3730:5)\nI/flutter (28798): #51     StatefulElement.update (package:flutter/src/widgets/framework.dart:4112:5)\nI/flutter (28798): #52     Element.updateChild (package:flutter/src/widgets/framework.dart:2885:15)\nI/flutter (28798): #53     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:3953:16)\nI/flutter (28798): #54     Element.rebuild (package:flutter/src/widgets/framework.dart:3730:5)\nI/flutter (28798): #55     StatelessElement.update (package:flutter/src/widgets/framework.dart:4008:5)\nI/flutter (28798): #56     Element.updateChild (package:flutter/src/widgets/framework.dart:2885:15)\nI/flutter (28798): #57     SingleChildRenderObjectElement.update (package:flutter/src/widgets/framework.dart:5126:14)\nI/flutter (28798): #58     Element.updateChild (package:flutter/src/widgets/framework.dart:2885:15)\nI/flutter (28798): #59     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:3953:16)\nI/flutter (28798): #60     Element.rebuild (package:flutter/src/widgets/framework.dart:3730:5)\nI/flutter (28798): #61     ProxyElement.update (package:flutter/src/widgets/framework.dart:4246:5)\nI/flutter (28798): #62     Element.updateChild (package:flutter/src/widgets/framework.dart:2885:15)\nI/flutter (28798): #63     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:3953:16)\nI/flutter (28798): #64     Element.rebuild (package:flutter/src/widgets/framework.dart:3730:5)\nI/flutter (28798): #65     BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:2340:33)\nI/flutter (28798): #66     _WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding&amp;PaintingBinding&amp;SemanticsBinding&amp;RendererBinding&amp;WidgetsBinding.drawFrame (package:flutter/src/widgets/binding.dart:701:20)\nI/flutter (28798): #67     _WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding&amp;PaintingBinding&amp;SemanticsBinding&amp;RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:285:5)\nI/flutter (28798): #68     _WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1033:15)\nI/flutter (28798): #69     _WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:975:9)\nI/flutter (28798): #70     _WidgetsFlutterBinding&amp;BindingBase&amp;GestureBinding&amp;ServicesBinding&amp;SchedulerBinding.scheduleWarmUpFrame.&lt;anonymous closure&gt; (package:flutter/src/scheduler/binding.dart:784:7)\nI/flutter (28798): #72     _Timer._runTimers (dart:isolate-patch/timer_impl.dart:382:19)\nI/flutter (28798): #73     _Timer._handleMessage (dart:isolate-patch/timer_impl.dart:416:5)\nI/flutter (28798): #74     _RawReceivePortImpl._handleMessage (dart:isolate-patch/isolate_patch.dart:172:12)\nI/flutter (28798): (elided one frame from package dart:async-patch)\nI/flutter (28798): \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n</code></pre>\n\n<p>I don't understand why its saying me that <code>The getter 'month' was called on null</code> even though I don't even use month in <code>getWeekday</code>.</p>\n\n<p>Many thanks in advance!</p>\n"}, {"tags": ["http", "flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11949080, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t6jYq2sFHXE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfgGbRZPaSRuLYpVYyIh8Fz-s6Ucg/photo.jpg?sz=128", "display_name": "mirul madridista", "link": "https://stackoverflow.com/users/11949080/mirul-madridista"}, "edited": false, "score": 0, "creation_date": 1566270339, "post_id": 57566030, "comment_id": 101593632, "body": "unfortunately, it returns 404 NotFoundHttpException. Does this mean something is wrong with my API route in laravel?"}, {"owner": {"reputation": 3, "user_id": 11949080, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t6jYq2sFHXE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfgGbRZPaSRuLYpVYyIh8Fz-s6Ucg/photo.jpg?sz=128", "display_name": "mirul madridista", "link": "https://stackoverflow.com/users/11949080/mirul-madridista"}, "edited": false, "score": 0, "creation_date": 1566270383, "post_id": 57566030, "comment_id": 101593635, "body": "Route::group([&#39;middleware&#39; =&gt; &#39;auth:api&#39;], function(){ Route::post(&#39;/profile&#39;, &#39;API\\UserController@updateProfile&#39;);"}, {"owner": {"reputation": 1273, "user_id": 9413879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zk193.jpg?s=128&g=1", "display_name": "Adlan Arif Zakaria", "link": "https://stackoverflow.com/users/9413879/adlan-arif-zakaria"}, "reply_to_user": {"reputation": 3, "user_id": 11949080, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t6jYq2sFHXE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfgGbRZPaSRuLYpVYyIh8Fz-s6Ucg/photo.jpg?sz=128", "display_name": "mirul madridista", "link": "https://stackoverflow.com/users/11949080/mirul-madridista"}, "edited": false, "score": 0, "creation_date": 1566270715, "post_id": 57566030, "comment_id": 101593677, "body": "@mirulmadridista No need to include <code>await _getToken();</code> in the <code>fullUrl</code> variable."}], "tags": [], "owner": {"reputation": 1273, "user_id": 9413879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zk193.jpg?s=128&g=1", "display_name": "Adlan Arif Zakaria", "link": "https://stackoverflow.com/users/9413879/adlan-arif-zakaria"}, "is_accepted": true, "score": 0, "last_activity_date": 1566272459, "last_edit_date": 1566272459, "creation_date": 1566268691, "answer_id": 57566030, "question_id": 57565859, "link": "https://stackoverflow.com/questions/57565859/flutter-edit-profile-returns-401-unauthenticated-but-works-in-postman/57566030#57566030", "title": "Flutter : Edit profile returns 401 &#39;Unauthenticated&#39; but works in POSTMAN", "body": "<p>You should only return the <code>token</code> only. No need to return string query.</p>\n\n<pre><code>_getToken() async {\n    ...\n    return token;\n};\n</code></pre>\n\n<p>Also, remove the <code>_getToken()</code> from your <code>fullUrl</code> variable. You need to send the token by headers, not by query parameters.</p>\n\n<p><strong>EDITED</strong></p>\n\n<p>Your <code>postData()</code> function should be using <code>_setTokenHeaders()</code> in the headers instead.</p>\n"}], "owner": {"reputation": 3, "user_id": 11949080, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t6jYq2sFHXE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfgGbRZPaSRuLYpVYyIh8Fz-s6Ucg/photo.jpg?sz=128", "display_name": "mirul madridista", "link": "https://stackoverflow.com/users/11949080/mirul-madridista"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 603, "favorite_count": 0, "accepted_answer_id": 57566030, "answer_count": 1, "score": 0, "last_activity_date": 1566277632, "creation_date": 1566266851, "last_edit_date": 1566277632, "question_id": 57565859, "link": "https://stackoverflow.com/questions/57565859/flutter-edit-profile-returns-401-unauthenticated-but-works-in-postman", "title": "Flutter : Edit profile returns 401 &#39;Unauthenticated&#39; but works in POSTMAN", "body": "<p>i was trying to edit my user's profile with flutter and laravel based on this <a href=\"https://www.youtube.com/watch?v=TfMWAfyzVcM\" rel=\"nofollow noreferrer\"> tutorial</a> . My register and login works fine. However, when i try to edit it always return this error. </p>\n\n<p>Here are some of my codes;</p>\n\n<p><strong>api.dart</strong></p>\n\n<pre><code>class CallApi {\nfinal String _url = 'http://10.0.2.2:8000/api/';\nvar token ;\n\npostData(data, apiUrl) async {\nvar fullUrl = _url + apiUrl + await _getToken();\nprint(fullUrl);\nreturn await http.post(\n    fullUrl,\n    body: jsonEncode(data),\n    headers: _setHeaders());\n}\n\neditData(data, apiUrl) async {\n\nvar fullUrl = _url + apiUrl + await _getToken();\nreturn await http.post(\n    fullUrl,\n    body: jsonEncode(data),\n    headers: _setTokenHeaders())\n    .then((response) {\n  print('Response status : ${response.statusCode}');\n  print('Response body : ${response.body}');\n});\n }\n\ngetData(apiUrl) async {\nvar fullUrl = _url + apiUrl + await _getToken();\nreturn await http.get(fullUrl, headers: _setHeaders());\n }\n\n_setHeaders() =&gt; {\n    'Content-type': 'application/json',\n    'Accept': 'application/json',\n  };\n\n_getToken() async {\nSharedPreferences localStorage = await SharedPreferences.getInstance();\nvar token = localStorage.getString('token');\nreturn '?token=$token';\n }\n\n_setTokenHeaders() =&gt;\n  {\n    'Content-type': 'application/json',\n    'Accept': 'application/json',\n    'Authorization': 'Bearer $_getToken()',\n  };\n\n\n}\n</code></pre>\n\n<p><strong>Handle update function</strong></p>\n\n<pre><code>void _handleUpdate() async {\nsetState(() {\n  _isLoading = true;\n});\n\n\n\nvar data = {\n  'residency': locationController.text,\n  'spouse': spouseController.text,\n  'occupation': occupationController.text,\n };\n\nvar res = await CallApi().postData(data, 'profile');\n // i've tried both postData and editData which returns the same error\nvar body = json.decode(res.body); \nprint(body);\n/*if (body['status'] == true) {\n  SharedPreferences localStorage = await SharedPreferences.getInstance();\n  localStorage.setString('user_details', json.encode(body['token']));\n\n  Navigator.of(context).pushNamed(Profile.tag);\n}*/\n}\n</code></pre>\n\n<p><strong>Logcat</strong></p>\n\n<pre><code>I/flutter ( 2390): {message: Unauthenticated.}\n</code></pre>\n\n<p>The api works properly through postman and i have checked the url and parameters which i am entering in the post request and they are the same as that of postman but still i keep getting the error.</p>\n\n<p>Whats working on POSTMAN</p>\n\n<ul>\n<li>Register</li>\n<li>Login</li>\n<li>Logout</li>\n<li>Update</li>\n</ul>\n\n<p>On flutter App</p>\n\n<ul>\n<li>Register</li>\n<li>Login</li>\n</ul>\n"}, {"tags": ["dart", "cryptography", "bitwise-operators"], "comments": [{"owner": {"reputation": 320, "user_id": 11944104, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-f6yYt9EPQDM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re52YjF__mXuL1s2C2_REdQbI-gPg/photo.jpg?sz=128", "display_name": "AKushWarrior", "link": "https://stackoverflow.com/users/11944104/akushwarrior"}, "edited": false, "score": 0, "creation_date": 1566267479, "post_id": 57565112, "comment_id": 101593150, "body": "@harold Dart has no &gt;&gt;&gt; operator"}, {"owner": {"reputation": 320, "user_id": 11944104, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-f6yYt9EPQDM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re52YjF__mXuL1s2C2_REdQbI-gPg/photo.jpg?sz=128", "display_name": "AKushWarrior", "link": "https://stackoverflow.com/users/11944104/akushwarrior"}, "edited": false, "score": 0, "creation_date": 1566267714, "post_id": 57565112, "comment_id": 101593196, "body": "Ideas on how to do that?"}, {"owner": {"reputation": 320, "user_id": 11944104, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-f6yYt9EPQDM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re52YjF__mXuL1s2C2_REdQbI-gPg/photo.jpg?sz=128", "display_name": "AKushWarrior", "link": "https://stackoverflow.com/users/11944104/akushwarrior"}, "edited": false, "score": 0, "creation_date": 1566267747, "post_id": 57565112, "comment_id": 101593199, "body": "@harold Sorry, forgot the tag"}], "answers": [{"comments": [{"owner": {"reputation": 320, "user_id": 11944104, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-f6yYt9EPQDM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re52YjF__mXuL1s2C2_REdQbI-gPg/photo.jpg?sz=128", "display_name": "AKushWarrior", "link": "https://stackoverflow.com/users/11944104/akushwarrior"}, "edited": false, "score": 0, "creation_date": 1566306610, "post_id": 57570853, "comment_id": 101609101, "body": "This is perfect. Thank you!"}], "tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": true, "score": 1, "last_activity_date": 1566294227, "creation_date": 1566294227, "answer_id": 57570853, "question_id": 57565112, "link": "https://stackoverflow.com/questions/57565112/how-would-one-create-a-bitwise-rotation-function-in-dart/57570853#57570853", "title": "How would one create a bitwise rotation function in dart?", "body": "<p>As pointed out, Dart has no <code>&gt;&gt;&gt;</code> (unsigned right shift) operator, so you have to rely on the signed shift operator.</p>\n\n<p>In that case, </p>\n\n<pre><code>int rotateLeft(int n, int count) {\n  const bitCount = 64; // make it 32 for JavaScript compilation.\n  assert(count &gt;= 0 &amp;&amp; count &lt; bitCount);\n  if (count == 0) return n;\n  return (n &lt;&lt; count) | \n      ((n &gt;= 0) ? n &gt;&gt; (bitCount - count) : ~(~n &gt;&gt; (bitCount - count)));\n}\n</code></pre>\n\n<p>should work.</p>\n\n<p>This code only works for the native VM. When compiling to JavaScript, numbers are doubles, and bitwise operations are only done on 32-bit numbers.</p>\n"}], "owner": {"reputation": 320, "user_id": 11944104, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-f6yYt9EPQDM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re52YjF__mXuL1s2C2_REdQbI-gPg/photo.jpg?sz=128", "display_name": "AKushWarrior", "link": "https://stackoverflow.com/users/11944104/akushwarrior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "accepted_answer_id": 57570853, "answer_count": 1, "score": 0, "last_activity_date": 1566310192, "creation_date": 1566258139, "last_edit_date": 1566310192, "question_id": 57565112, "link": "https://stackoverflow.com/questions/57565112/how-would-one-create-a-bitwise-rotation-function-in-dart", "title": "How would one create a bitwise rotation function in dart?", "body": "<p>I'm in the process of creating a cryptography package for Dart (<a href=\"https://pub.dev/packages/steel_crypt\" rel=\"nofollow noreferrer\">https://pub.dev/packages/steel_crypt</a>). Right now, most of what I've done is either exposed from PointyCastle or simple-ish algorithms where bitwise rotations are unnecessary or replaceable by >> and &lt;&lt;. </p>\n\n<p>However, as I move toward complicated cryptography solutions, which I can do mathematically, I'm unsure of how to implement bitwise rotation in Dart with maximum efficiency. Because of the nature of cryptography, the speed part is emphasized and uncompromising, in that I need the absolute fastest implementation.</p>\n\n<p>I've ported a method of bitwise rotation from Java. I'm pretty sure this is correct, but unsure of the efficiency and readability:</p>\n\n<p>My tested implementation is below:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>\nint INT_BITS = 64; //Dart ints are 64 bit\n\nstatic int leftRotate(int n, int d) { \n\n    //In n&lt;&lt;d, last d bits are 0.  \n    //To put first 3 bits of n at \n    //last, do bitwise-or of n&lt;&lt;d with \n    //n &gt;&gt; (INT_BITS - d)\n\n    return (n &lt;&lt; d) | (n &gt;&gt; (INT_BITS - d)); \n} \n\nstatic int rightRotate(int n, int d) { \n\n    //In n&gt;&gt;d, first d bits are 0.  \n    //To put last 3 bits of n at \n    //first, we do bitwise-or of n&gt;&gt;d with \n    //n &lt;&lt; (INT_BITS - d)\n\n    return (n &gt;&gt; d) | (n &lt;&lt; (INT_BITS - d)); \n}\n</code></pre>\n\n<p>EDIT (for clarity): Dart has no unsigned right or left shift, meaning that >> and &lt;&lt; are <em>signed</em> right shifts, which bears more significance than I might have thought. It poses a challenge that other languages don't in terms of devising an answer. The accepted answer below explains this and also shows the correct method of bitwise rotation.</p>\n"}, {"tags": ["android", "flutter", "dart", "scroll", "flutter-layout"], "comments": [{"owner": {"reputation": 8707, "user_id": 6919963, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f6e821b392cb6c281097a8f668669efe?s=128&d=identicon&r=PG", "display_name": "Miguel Ruivo", "link": "https://stackoverflow.com/users/6919963/miguel-ruivo"}, "edited": false, "score": 0, "creation_date": 1566387123, "post_id": 57564811, "comment_id": 101638622, "body": "If <i>every</i> item in the list has a completely random height (dynamically) and you want to, let&#39;s say, scroll to the item N when the view is rendered, you&#39;ll have to find the height/position of the <code>RenderObject</code> in a post frame that you want to jump to, and then you&#39;ll should be fine in auto scrolling to there."}, {"owner": {"reputation": 29795, "user_id": 720030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38ed0a5a78d65824827fb112e8e716f8?s=128&d=identicon&r=PG", "display_name": "karmakaze", "link": "https://stackoverflow.com/users/720030/karmakaze"}, "edited": false, "score": 0, "creation_date": 1566874347, "post_id": 57564811, "comment_id": 101782626, "body": "If you&#39;re scrolling to an item that has been rendered before, could you cache it&#39;s position and scroll to the position rather than its index? Also, any changes to the list would invalidate all items&#39; positions after it."}], "answers": [{"comments": [{"owner": {"reputation": 1977, "user_id": 2226388, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/I64gY.png?s=128&g=1", "display_name": "zukijuki", "link": "https://stackoverflow.com/users/2226388/zukijuki"}, "edited": false, "score": 0, "creation_date": 1566958031, "post_id": 57684177, "comment_id": 101814309, "body": "Is this for <code>finite</code> or <code>infinite</code> list ?"}, {"owner": {"reputation": 5706, "user_id": 4879683, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Njifi.jpg?s=128&g=1", "display_name": "Mohamed Elrashid", "link": "https://stackoverflow.com/users/4879683/mohamed-elrashid"}, "reply_to_user": {"reputation": 1977, "user_id": 2226388, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/I64gY.png?s=128&g=1", "display_name": "zukijuki", "link": "https://stackoverflow.com/users/2226388/zukijuki"}, "edited": false, "score": 0, "creation_date": 1566959956, "post_id": 57684177, "comment_id": 101814594, "body": "@anunixercoder , finite but no infinite , check the Answer for more details"}, {"owner": {"reputation": 1977, "user_id": 2226388, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/I64gY.png?s=128&g=1", "display_name": "zukijuki", "link": "https://stackoverflow.com/users/2226388/zukijuki"}, "edited": false, "score": 0, "creation_date": 1567032489, "post_id": 57684177, "comment_id": 101845637, "body": "Hi, Can i use <code>ListView.builder</code> for finite list ?"}, {"owner": {"reputation": 1030, "user_id": 12435337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J2B2z.jpg?s=128&g=1", "display_name": "Zenko", "link": "https://stackoverflow.com/users/12435337/zenko"}, "edited": false, "score": 0, "creation_date": 1606399380, "post_id": 57684177, "comment_id": 114956516, "body": "This solves for a list with irregular height but it does not solve for a list with real dynamic height (a.k.a height changes over time). I have a bloc that handles each row&#39;s data. When it fetches the data then the row will expand accordingly. Now I have no idea how to scroll to a certain index accurately. It is always off."}], "tags": [], "owner": {"reputation": 5706, "user_id": 4879683, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Njifi.jpg?s=128&g=1", "display_name": "Mohamed Elrashid", "link": "https://stackoverflow.com/users/4879683/mohamed-elrashid"}, "is_accepted": false, "score": 8, "last_activity_date": 1566960143, "last_edit_date": 1566960143, "creation_date": 1566957820, "answer_id": 57684177, "question_id": 57564811, "link": "https://stackoverflow.com/questions/57564811/flutter-how-to-auto-scroll-to-index-with-dynamic-height-programmatically/57684177#57684177", "title": "flutter - How to auto scroll to index with dynamic height programmatically", "body": "<h2>Your question</h2>\n\n<blockquote>\n  <p>so, What's a temporary solution to make ListView with AutoScroll for dynamic height?</p>\n</blockquote>\n\n<h2>Screen Record</h2>\n\n<p><a href=\"https://i.stack.imgur.com/Jqc2V.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Jqc2V.gif\" alt=\"enter image description here\"></a></p>\n\n<h2>solution</h2>\n\n<p>scroll-to-index package </p>\n\n<blockquote>\n  <p>This package provides the scroll to index mechanism for fixed/variable row height for Flutter scrollable widget.</p>\n  \n  <p>This is a widget level library, means you can use this mechanism inside any Flutter scrollable widget.</p>\n</blockquote>\n\n<h2>Usage</h2>\n\n<p>pubspec.yaml</p>\n\n<pre><code> scroll_to_index: any\n</code></pre>\n\n<p>Example From <a href=\"https://github.com/quire-io/scroll-to-index\" rel=\"noreferrer\">quire-io/scroll-to-index: scroll to index with fixed/variable row height inside Flutter scrollable widget</a></p>\n\n<h3>Usage - Controller</h3>\n\n<pre><code>controller.scrollToIndex(index, preferPosition: AutoScrollPosition.begin)\n</code></pre>\n\n<h3>Usage - ListView</h3>\n\n<pre><code>ListView(\nscrollDirection: scrollDirection,\ncontroller: controller,\nchildren: randomList.map&lt;Widget&gt;((data) {\n    final index = data[0];\n    final height = data[1];\n    return AutoScrollTag(\n    key: ValueKey(index),\n    controller: controller,\n    index: index,\n    child: Text('index: $index, height: $height'),\n    highlightColor: Colors.black.withOpacity(0.1),\n    );\n}).toList(),\n)\n</code></pre>\n\n<h2>Extra anunixercoder  asked</h2>\n\n<blockquote>\n  <p>Is this for finite or infinite list ? </p>\n</blockquote>\n\n<p>Using  <strong>ListView.builder</strong> to simulate an infinite list</p>\n\n<pre><code>    ListView.builder(\n    scrollDirection: scrollDirection,\n    controller: controller,\n    itemBuilder: (context, i) =&gt; Padding(\n      padding: EdgeInsets.all(8),\n      child: _getRow(i, (min + rnd.nextInt(max - min)).toDouble()),\n    ),\n</code></pre>\n\n<p>It got 18 right of 22 tries , about (81%) or <strong>near to it</strong></p>\n\n<h2>Screen Record</h2>\n\n<p><a href=\"https://i.stack.imgur.com/UxqZ4.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UxqZ4.gif\" alt=\"enter image description here\"></a></p>\n\n<p>so it not suported 100%</p>\n\n<h2>Ref :</h2>\n\n<ul>\n<li><p><a href=\"https://pub.dev/packages/scroll_to_index#-readme-tab-\" rel=\"noreferrer\">scroll_to_index | Flutter Package</a></p></li>\n<li><p><a href=\"https://raw.githubusercontent.com/quire-io/scroll-to-index/master/example/lib/main.dart\" rel=\"noreferrer\">https://raw.githubusercontent.com/quire-io/scroll-to-index/master/example/lib/main.dart</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/13318207/how-to-get-a-random-number-from-range-in-dart\">How to get a random number from range in dart? - Stack Overflow</a></p></li>\n</ul>\n\n<h2>1st screen record code</h2>\n\n<pre><code>//Copyright (C) 2019 Potix Corporation. All Rights Reserved.\n//History: Tue Apr 24 09:29 CST 2019\n// Author: Jerry Chen\n\nimport 'dart:math' as math;\n\nimport 'package:flutter/material.dart';\nimport 'package:scroll_to_index/scroll_to_index.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Scroll To Index Demo',\n      theme: ThemeData(\n        primarySwatch: Colors.blue,\n      ),\n      home: MyHomePage(title: 'Scroll To Index Demo'),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  MyHomePage({Key key, this.title}) : super(key: key);\n\n  final String title;\n\n  @override\n  _MyHomePageState createState() =&gt; _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  static const maxCount = 100;\n  final random = math.Random();\n  final scrollDirection = Axis.vertical;\n\n  AutoScrollController controller;\n  List&lt;List&lt;int&gt;&gt; randomList;\n\n  @override\n  void initState() {\n    super.initState();\n    controller = AutoScrollController(\n      viewportBoundaryGetter: () =&gt; Rect.fromLTRB(0, 0, 0, MediaQuery.of(context).padding.bottom),\n      axis: scrollDirection\n    );\n    randomList = List.generate(maxCount, (index) =&gt; &lt;int&gt;[index, (1000 * random.nextDouble()).toInt()]);\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(widget.title),\n      ),\n      body: ListView(\n        scrollDirection: scrollDirection,\n        controller: controller,\n        children: randomList.map&lt;Widget&gt;((data) {\n          return Padding(\n            padding: EdgeInsets.all(8),\n            child: _getRow(data[0], math.max(data[1].toDouble(), 50.0)),\n          );\n        }).toList(),\n      ),\n      floatingActionButton: FloatingActionButton(\n        onPressed: _scrollToIndex,\n        tooltip: 'Increment',\n        child: Text(counter.toString()),\n      ),\n    );\n  }\n\n  int counter = -1;\n  Future _scrollToIndex() async {\n    setState(() {\n      counter++;\n\n      if (counter &gt;= maxCount)\n        counter = 0;\n    });\n\n    await controller.scrollToIndex(counter, preferPosition: AutoScrollPosition.begin);\n    controller.highlight(counter);\n  }\n\n  Widget _getRow(int index, double height) {\n    return _wrapScrollTag(\n      index: index,\n      child: Container(\n        padding: EdgeInsets.all(8),\n        alignment: Alignment.topCenter,\n        height: height,\n        decoration: BoxDecoration(\n          border: Border.all(\n            color: Colors.lightBlue,\n            width: 4\n          ),\n          borderRadius: BorderRadius.circular(12)\n        ),\n        child: Text('index: $index, height: $height'),\n      )\n    );\n  }\n\n  Widget _wrapScrollTag({int index, Widget child})\n  =&gt; AutoScrollTag(\n    key: ValueKey(index),\n    controller: controller,\n    index: index,\n    child: child,\n    highlightColor: Colors.black.withOpacity(0.1),\n  );\n}\n</code></pre>\n\n<h2>2nd screen record  code :</h2>\n\n<pre><code>//Copyright (C) 2019 Potix Corporation. All Rights Reserved.\n//History: Tue Apr 24 09:29 CST 2019\n// Author: Jerry Chen\n\nimport 'dart:math' as math;\n\nimport 'package:flutter/material.dart';\nimport 'package:scroll_to_index/scroll_to_index.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Scroll To Index Demo',\n      theme: ThemeData(\n        primarySwatch: Colors.blue,\n      ),\n      home: MyHomePage(title: 'Scroll To Index Demo'),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  MyHomePage({Key key, this.title}) : super(key: key);\n\n  final String title;\n\n  @override\n  _MyHomePageState createState() =&gt; _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  final scrollDirection = Axis.vertical;\n  var rnd = math.Random();\n  int min = 50;\n  int max = 200;\n  AutoScrollController controller;\n  @override\n  void initState() {\n    super.initState();\n    controller = AutoScrollController(\n        viewportBoundaryGetter: () =&gt;\n            Rect.fromLTRB(0, 0, 0, MediaQuery.of(context).padding.bottom),\n        axis: scrollDirection);\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(widget.title),\n      ),\n      body: ListView.builder(\n        scrollDirection: scrollDirection,\n        controller: controller,\n        itemBuilder: (context, i) =&gt; Padding(\n          padding: EdgeInsets.all(8),\n          child: _getRow(i, (min + rnd.nextInt(max - min)).toDouble()),\n        ),\n      ),\n      floatingActionButton: FloatingActionButton(\n        onPressed: _scrollToIndex,\n        tooltip: 'Increment',\n        child: Text(counter.toString()),\n      ),\n    );\n  }\n\n  int counter = -1;\n  Future _scrollToIndex() async {\n    setState(() {\n      counter++;\n    });\n\n    await controller.scrollToIndex(counter,\n        preferPosition: AutoScrollPosition.begin);\n    controller.highlight(counter);\n  }\n\n  Widget _getRow(int index, double height) {\n    return _wrapScrollTag(\n        index: index,\n        child: Container(\n          padding: EdgeInsets.all(8),\n          alignment: Alignment.topCenter,\n          height: height,\n          decoration: BoxDecoration(\n              border: Border.all(color: Colors.lightBlue, width: 4),\n              borderRadius: BorderRadius.circular(12)),\n          child: Text('index: $index, height: $height'),\n        ));\n  }\n\n  Widget _wrapScrollTag({int index, Widget child}) =&gt; AutoScrollTag(\n        key: ValueKey(index),\n        controller: controller,\n        index: index,\n        child: child,\n        highlightColor: Colors.black.withOpacity(0.1),\n      );\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5184128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vSxAw.jpg?s=128&g=1", "display_name": "zjx", "link": "https://stackoverflow.com/users/5184128/zjx"}, "is_accepted": false, "score": 0, "last_activity_date": 1576549953, "creation_date": 1576549953, "answer_id": 59366843, "question_id": 57564811, "link": "https://stackoverflow.com/questions/57564811/flutter-how-to-auto-scroll-to-index-with-dynamic-height-programmatically/59366843#59366843", "title": "flutter - How to auto scroll to index with dynamic height programmatically", "body": "<p>How observe current offset index?</p>\n\n<pre><code>    controller.addListener(() {\n      AutoScrollTagState sts = controller.tagMap[0];\n      print(sts);\n    });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14588247, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-q0wB4TK71iI/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucktXCZ6aIbKVEYfm0S7OxGi5UXghA/s96-c/photo.jpg?sz=128", "display_name": "Hatchout School", "link": "https://stackoverflow.com/users/14588247/hatchout-school"}, "is_accepted": false, "score": 0, "last_activity_date": 1607767725, "creation_date": 1607767725, "answer_id": 65263712, "question_id": 57564811, "link": "https://stackoverflow.com/questions/57564811/flutter-how-to-auto-scroll-to-index-with-dynamic-height-programmatically/65263712#65263712", "title": "flutter - How to auto scroll to index with dynamic height programmatically", "body": "<p>This package might be the one you are looking for. You can assign id for each widget and enable an animation just like tags in HTML.</p>\n<p><a href=\"https://pub.dev/packages/scroll_to_id\" rel=\"nofollow noreferrer\">https://pub.dev/packages/scroll_to_id</a></p>\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:scroll_to_id/scroll_to_id.dart';\n\nvoid main() {\n  runApp(MyApp());\n}\n\nclass MyApp extends StatefulWidget {\n  @override\n  _MyAppState createState() =&gt; _MyAppState();\n}\n\nclass _MyAppState extends State&lt;MyApp&gt; {\n\n  final ScrollToId scrollToId = ScrollToId();\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Scroll to ID',\n      theme: ThemeData(\n        primarySwatch: Colors.blue,\n      ),\n      home: Scaffold(\n        appBar: AppBar(\n          title: const Text('Scroll to ID'),\n        ),\n        body: Stack(\n          alignment: Alignment.topRight,\n          children: [\n            InteractiveScrollViewer(\n              scrollToId: scrollToId,\n              children: [\n                ScrollContent(\n                  id: '1',\n                  child: Container(\n                    height: 600,\n                    color: Colors.green,\n                  ),\n                ),\n                ScrollContent(\n                  id: '2',\n                  child: Container(\n                    height: 800,\n                    color: Colors.red,\n                  ),\n                ),\n                ScrollContent(\n                  id: '3',\n                  child: Container(\n                    height: 300,\n                    color: Colors.yellow,\n                  ),\n                ),\n                ScrollContent(\n                  id: '4',\n                  child: Container(\n                    height: 700,\n                    color: Colors.blue,\n                  ),\n                ),\n              ],\n            ),\n            Container(\n              decoration: BoxDecoration(\n                border: Border.all(color: Colors.white, width: 3),\n              ),\n              child: Column(\n                mainAxisSize: MainAxisSize.min,\n                children: [\n                  GestureDetector(\n                    child: Container(\n                      width: 100,\n                      alignment: Alignment.center,\n                      height: 50,\n                      child: Text('1', style: TextStyle(color: Colors.white),),\n                      color: Colors.green,\n                    ),\n                    onTap: () {\n                      scrollToId.scroll(id: '1');\n                    },\n                  ),\n                  GestureDetector(\n                    child: Container(\n                      width: 100,\n                      alignment: Alignment.center,\n                      height: 50,\n                      child: Text('2', style: TextStyle(color: Colors.white),),\n                      color: Colors.red,\n                    ),\n                    onTap: () {\n                      scrollToId.scroll(id: '2');\n                    },\n                  ),\n                  GestureDetector(\n                    child: Container(\n                      width: 100,\n                      alignment: Alignment.center,\n                      height: 50,\n                      child: Text('3', style: TextStyle(color: Colors.white),),\n                      color: Colors.yellow,\n                    ),\n                    onTap: () {\n                      scrollToId.scroll(id: '3');\n                    },\n                  ),\n                  GestureDetector(\n                    child: Container(\n                      width: 100,\n                      alignment: Alignment.center,\n                      height: 50,\n                      child: Text('4', style: TextStyle(color: Colors.white),),\n                      color: Colors.blue,\n                    ),\n                    onTap: () {\n                      scrollToId.scroll(id: '4');\n                    },\n                  ),\n                ],\n              ),\n            )\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1977, "user_id": 2226388, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/I64gY.png?s=128&g=1", "display_name": "zukijuki", "link": "https://stackoverflow.com/users/2226388/zukijuki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6736, "favorite_count": 0, "answer_count": 3, "score": 8, "last_activity_date": 1607767725, "creation_date": 1566255169, "last_edit_date": 1566432510, "question_id": 57564811, "link": "https://stackoverflow.com/questions/57564811/flutter-how-to-auto-scroll-to-index-with-dynamic-height-programmatically", "title": "flutter - How to auto scroll to index with dynamic height programmatically", "body": "<p>According to Flutter's <a href=\"https://github.com/flutter/flutter/issues/12319\" rel=\"noreferrer\">issue here</a> , The <strong>Auto-Scroll to Index</strong> where each cell/item has <strong>dynamic height</strong> is currently not supported. I have tried another solution but no works.</p>\n\n<p>so, What's a temporary solution to make <code>ListView</code> with <code>AutoScroll</code> for dynamic height?</p>\n\n<p>Any Idea?</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 1890, "user_id": 2362966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8792270fcc92400b12d02f8a4cc00e89?s=128&d=identicon&r=PG", "display_name": "ejabu", "link": "https://stackoverflow.com/users/2362966/ejabu"}, "is_accepted": false, "score": 1, "last_activity_date": 1566253410, "creation_date": 1566253410, "answer_id": 57564600, "question_id": 57564424, "link": "https://stackoverflow.com/questions/57564424/what-are-statelesswidget/57564600#57564600", "title": "What are StatelessWidget?", "body": "<p>although apparently we cannot interact with screen, actually inside the widget tree, we have Stateful Widget by rendering Scaffold.</p>\n\n<p><a href=\"https://github.com/flutter/flutter/blob/ca5411e3aa99d571ddd80b75b814718c4a94c839/packages/flutter/lib/src/material/scaffold.dart#L950\" rel=\"nofollow noreferrer\">Scaffold extends StatefulWidget</a></p>\n"}, {"tags": [], "owner": {"reputation": 4606, "user_id": 3758439, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jGzap.jpg?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/3758439/george"}, "is_accepted": true, "score": 3, "last_activity_date": 1566254866, "creation_date": 1566254866, "answer_id": 57564767, "question_id": 57564424, "link": "https://stackoverflow.com/questions/57564424/what-are-statelesswidget/57564767#57564767", "title": "What are StatelessWidget?", "body": "<p>It's not creating a non explicit widget. So it would be neither, not Stateless nor Stateful. </p>\n\n<p>The <a href=\"https://api.flutter.dev/flutter/widgets/runApp.html\" rel=\"nofollow noreferrer\">runApp function</a> will just take your <code>MaterialApp</code> widget and \"attach it to the screen\", so you're not creating a widget along the way, but just using widgets that already exist. Your widget tree will begin at the <code>MaterialApp</code> itself.</p>\n\n<hr>\n\n<p>Conceptually, also, I'd say that since you don't have a space to work with the state and/or variables of the widget, it could be called a <code>StatelessWidget</code>, since you can't change the state of what you built.</p>\n\n<blockquote>\n  <p>Widgets describe what their view should look like <strong>given their current configuration and state</strong>. When a widget\u2019s state changes, the widget rebuilds its description [...]. - from the <a href=\"https://flutter.dev/docs/development/ui/widgets-intro\" rel=\"nofollow noreferrer\">Flutter Widgets Intro</a></p>\n</blockquote>\n\n<p>In your example, even though you do have <code>StatefulWidgets</code> in your app tree, you don't have a way of exposing the state of that tree, no variables, no control, no management. You're just passing other widgets to your app directly. You're actually referring one widget tree (the <code>MaterialApp</code> with its children) to the runApp function.</p>\n"}, {"tags": [], "owner": {"reputation": 161, "user_id": 11950115, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RO_mAHGnZ3Q/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re8kxH6G2nxDJRZdnZ55Tq2JVnHNQ/photo.jpg?sz=128", "display_name": "Shagun Jain", "link": "https://stackoverflow.com/users/11950115/shagun-jain"}, "is_accepted": false, "score": 1, "last_activity_date": 1566291128, "creation_date": 1566291128, "answer_id": 57569973, "question_id": 57564424, "link": "https://stackoverflow.com/questions/57564424/what-are-statelesswidget/57569973#57569973", "title": "What are StatelessWidget?", "body": "<p>As stateless widget is the one which cannot change its state or instances defined in it is final. And in your code your app state cannot be changed. So you can assume it to be a stateless widget because in flutter everything is a widget.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10867309, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mMvc9gCsE5c/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaoL-1wObZMoeNcLHvlDFdbC27Gdw/mo/photo.jpg?sz=128", "display_name": "shalu sampla", "link": "https://stackoverflow.com/users/10867309/shalu-sampla"}, "is_accepted": false, "score": 0, "last_activity_date": 1566300377, "creation_date": 1566300377, "answer_id": 57572588, "question_id": 57564424, "link": "https://stackoverflow.com/questions/57564424/what-are-statelesswidget/57572588#57572588", "title": "What are StatelessWidget?", "body": "<p>Stateless widgets\nThere are cases where you\u2019ll create widgets that don\u2019t need to manage any form of internal state, this is where you\u2019ll want to make use of the <strong>StatelessWidget</strong>. This widget doesn\u2019t require any mutable state and will be used at times where other than the data that is initially passed into the object.</p>\n\n<blockquote>\n  <p><a href=\"https://api.flutter.dev/flutter/widgets/StatelessWidget-class.html\" rel=\"nofollow noreferrer\">https://api.flutter.dev/flutter/widgets/StatelessWidget-class.html</a></p>\n</blockquote>\n"}], "owner": {"reputation": 139, "user_id": 11376992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/563b2030dc7367361362a763ad223795?s=128&d=identicon&r=PG&f=1", "display_name": "Tapioca", "link": "https://stackoverflow.com/users/11376992/tapioca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 57564767, "answer_count": 4, "score": 2, "last_activity_date": 1566300377, "creation_date": 1566252008, "last_edit_date": 1566294458, "question_id": 57564424, "link": "https://stackoverflow.com/questions/57564424/what-are-statelesswidget", "title": "What are StatelessWidget?", "body": "<p>When I create a simple, basic app, like the one below, in flutter, Im creating a non explicit <code>StatelessWidget</code>?</p>\n\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() {\n  return runApp(\n    MaterialApp(\n      home: Scaffold(\n         body: Text('HI),\n      ),\n    ),\n  );\n}\n</code></pre>\n"}, {"tags": ["flutter", "dart", "drop-down-menu"], "answers": [{"tags": [], "owner": {"reputation": 118, "user_id": 10001610, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LS5S8mNURjY/AAAAAAAAAAI/AAAAAAAAADk/DaSCx_KtZh8/photo.jpg?sz=128", "display_name": "Eyal Kutz", "link": "https://stackoverflow.com/users/10001610/eyal-kutz"}, "is_accepted": false, "score": 2, "last_activity_date": 1566252769, "creation_date": 1566252769, "answer_id": 57564522, "question_id": 57564205, "link": "https://stackoverflow.com/questions/57564205/change-widget-on-dropdown-onchange-event/57564522#57564522", "title": "Change Widget on Dropdown onchange event", "body": "<p>use a <a href=\"https://www.youtube.com/watch?v=Zbm3hjPjQMk&amp;list=PLjxrf2q8roU2HdJQDjJzOeO6J3FoFLWr2&amp;index=8&amp;t=1s\" rel=\"nofollow noreferrer\">stateful widget</a>. you can have a field that says wich widget to show and call set state every time a different option is selected. all three widgets could be added to the main <code>List&lt;Widget&gt;</code> using <a href=\"https://medium.com/flutter-community/whats-new-in-dart-2-3-1a7050e2408d\" rel=\"nofollow noreferrer\">collection if</a> as follows:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>children: &lt;Widget&gt;[\n                      FormBuilder(\n                        key: _fbKey,\n                        autovalidate: true,\n                        child: Column(\n                          children: &lt;Widget&gt;[\n                            FormBuilderDropdown(\n                              attribute: \"value\",\n                              decoration: InputDecoration(\n                              labelText: \"Choose something?\"),\n                              hint: Text('Select Option'),\n                              validators: [FormBuilderValidators.required()],\n                              items: user.option.map((v) {\n                                return DropdownMenuItem(\n                                    value: v,\n                                    child: ListTile(\n                                      leading: Image.asset(\n                                        'assets/img/image.png',\n                                        width: 50,\n                                        height: 50,\n                                      ),\n                                      title: Text(\"${v.option}\"),\n                                    ));\n\n                              }).toList(),\n                            ),\n                          ],\n                        ),\n                        ),\n                       if (v.option == \"A\") A(),\n                       if (v.option == \"B\") B(),\n                       if (v.option == \"C\") C(),\n  ]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2773, "user_id": 4195212, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/15a62b1979d736b4317fde5e2058f55e?s=128&d=identicon&r=PG&f=1", "display_name": "harunB10", "link": "https://stackoverflow.com/users/4195212/harunb10"}, "edited": false, "score": 0, "creation_date": 1566330527, "post_id": 57564634, "comment_id": 101620839, "body": "But here v.option is out of scope. I mean in RenderOption constructor."}], "tags": [], "owner": {"reputation": 341, "user_id": 8151468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb8f3d504858e0002aae842194092efb?s=128&d=identicon&r=PG&f=1", "display_name": "karim tarek", "link": "https://stackoverflow.com/users/8151468/karim-tarek"}, "is_accepted": false, "score": 1, "last_activity_date": 1566339586, "last_edit_date": 1566339586, "creation_date": 1566253705, "answer_id": 57564634, "question_id": 57564205, "link": "https://stackoverflow.com/questions/57564205/change-widget-on-dropdown-onchange-event/57564634#57564634", "title": "Change Widget on Dropdown onchange event", "body": "<p>you can make a widget that accept the option in its constructor, and call it under the Drop Down builder</p>\n\n<p>Example : </p>\n\n<pre><code>    class RenderOption extends StatelessWidget {\n  final option;\n\n  const RenderOption({Key key, this.option}) : super(key: key);\n  @override\n  Widget build(BuildContext context) {\n    switch (option) {\n      case 1:\n        return Container();\n        break;\n      case 2:\n        return Container();\n        break;\n      case 3:\n        return Container();\n        break;\n\n      default:\n    }\n  }\n}\n</code></pre>\n\n<p>now in you code above </p>\n\n<pre><code>children: &lt;Widget&gt;[\n                  FormBuilder(\n                    key: _fbKey,\n                    autovalidate: true,\n                    child: Column(\n                      children: &lt;Widget&gt;[\n                        FormBuilderDropdown(\n                          attribute: \"value\",\n                          decoration: InputDecoration(\n                          labelText: \"Choose something?\"),\n                          hint: Text('Select Option'),\n                          validators: [FormBuilderValidators.required()],\n                          items: user.option.map((v) {\n                            return DropdownMenuItem(\n                                value: v,\n                                child: ListTile(\n                                  leading: Image.asset(\n                                    'assets/img/image.png',\n                                    width: 50,\n                                    height: 50,\n                                  ),\n                                  title: Text(\"${v.option}\"),\n                                ));\n\n                          }).toList(),\n                        ),\n                      ],\n                    ),\n                   //_currentOption is declared above in the widget tree\n                   // it indicates the current selected option\n                   RenderOption(option:_currentOption)\n                 ),\n</code></pre>\n\n<p><strong>Note</strong> : you have to make the Parent Widget (which has the column or the listView as a child  ) Stateful widget to make the code run properly</p>\n\n<p><strong>Edit</strong> : I've added the <em>_currentOption</em> variable which indicated the current selected option and paste it to the <strong>RenderOption</strong> Widget. you should implement the <code>onChanged</code> function in the FormBuilderDropDown to update the selected option , like this</p>\n\n<pre><code>onChanged: (option) =&gt;setState(()=&gt;_currentOption = option)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 343, "user_id": 9094327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rvoZM.png?s=128&g=1", "display_name": "Rodolfo Franco", "link": "https://stackoverflow.com/users/9094327/rodolfo-franco"}, "is_accepted": true, "score": 6, "last_activity_date": 1566258317, "creation_date": 1566258317, "answer_id": 57565128, "question_id": 57564205, "link": "https://stackoverflow.com/questions/57564205/change-widget-on-dropdown-onchange-event/57565128#57565128", "title": "Change Widget on Dropdown onchange event", "body": "<p>Most simple way I see it is to create a function that renders your widgets, let's call it <code>_renderWidget()</code>, inside of that function you could have something as follows: </p>\n\n<pre><code>_renderWidget() {\n if(condition == A) {\n  return Text('Widget A'); // this could be any Widget\n } else if(condition == B) {\n  return Text('Widget B');\n } else {\n  return Text('Widget C');\n }\n}\n</code></pre>\n\n<p>Then inside your <code>DropdownButton</code> <code>onChanged</code> function, you can change the condition based on the dropdown value:</p>\n\n<pre><code>onChanged(String value) {\n\n  if(value == 'something') {\n    setState(() {\n     condition = A; // A, B or C\n    });  \n  }\n\n}\n</code></pre>\n\n<p>You would call your <code>_renderWidget()</code> function inside the widget where you want to show them, for example let's say a <code>Container</code> widget.</p>\n\n<pre><code>Container(\n  child: _renderWidget()\n)\n</code></pre>\n\n<p>Of course, all of this needs to be done inside a <code>StatefulWidget</code>.</p>\n"}], "owner": {"reputation": 2773, "user_id": 4195212, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/15a62b1979d736b4317fde5e2058f55e?s=128&d=identicon&r=PG&f=1", "display_name": "harunB10", "link": "https://stackoverflow.com/users/4195212/harunb10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2487, "favorite_count": 0, "accepted_answer_id": 57565128, "answer_count": 3, "score": 0, "last_activity_date": 1566339586, "creation_date": 1566250466, "last_edit_date": 1566250788, "question_id": 57564205, "link": "https://stackoverflow.com/questions/57564205/change-widget-on-dropdown-onchange-event", "title": "Change Widget on Dropdown onchange event", "body": "<p>I have a dropdown menu with several options. For sake of simplicity lets say they are: \"A\", \"B\" and \"C\".</p>\n\n<p>This is the snippet of my code:</p>\n\n<pre><code>children: &lt;Widget&gt;[\n                      FormBuilder(\n                        key: _fbKey,\n                        autovalidate: true,\n                        child: Column(\n                          children: &lt;Widget&gt;[\n                            FormBuilderDropdown(\n                              attribute: \"value\",\n                              decoration: InputDecoration(\n                              labelText: \"Choose something?\"),\n                              hint: Text('Select Option'),\n                              validators: [FormBuilderValidators.required()],\n                              items: user.option.map((v) {\n                                return DropdownMenuItem(\n                                    value: v,\n                                    child: ListTile(\n                                      leading: Image.asset(\n                                        'assets/img/image.png',\n                                        width: 50,\n                                        height: 50,\n                                      ),\n                                      title: Text(\"${v.option}\"),\n                                    ));\n\n                              }).toList(),\n                            ),\n                          ],\n                        ),\n                       // if v.option == \"A\" is selected here build Widget A()\n                       // if v.option == \"B\" is selected here build Widget B()\n                       // if v.option == \"C\" is selected here build Widget C()\n                      ),\n</code></pre>\n\n<p>So, based on Dropdown selection I want to render appropriate Widget.\nHow can I build widget A if A is selected in the Dropdown menu, B if B is selected or C if C is selected?</p>\n\n<p>This has to change dynamically though, any help is good.</p>\n"}, {"tags": ["arrays", "json", "flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 11859972, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vPZKT5d6s1g/AAAAAAAAAAI/AAAAAAAAA9c/N02XqybcHqg/photo.jpg?sz=128", "display_name": "Ryan", "link": "https://stackoverflow.com/users/11859972/ryan"}, "edited": false, "score": 0, "creation_date": 1566264804, "post_id": 57564068, "comment_id": 101592728, "body": "I&#39;m really new to this I apologize, so where exactly would I make that change and how? Would I replace every instance of the word &quot;map&quot;? And how would I rewrite my contact that I am trying to post? I really appreciate you taking the time to help me out."}, {"owner": {"reputation": 25, "user_id": 11859972, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vPZKT5d6s1g/AAAAAAAAAAI/AAAAAAAAA9c/N02XqybcHqg/photo.jpg?sz=128", "display_name": "Ryan", "link": "https://stackoverflow.com/users/11859972/ryan"}, "edited": false, "score": 0, "creation_date": 1566411079, "post_id": 57564068, "comment_id": 101651389, "body": "I&#39;m not sure how to implement that to my code and still pull the form data I am trying to post."}], "tags": [], "owner": {"reputation": 701, "user_id": 5664559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oz83v.jpg?s=128&g=1", "display_name": "Brian Gorman", "link": "https://stackoverflow.com/users/5664559/brian-gorman"}, "is_accepted": false, "score": 1, "last_activity_date": 1566249451, "creation_date": 1566249451, "answer_id": 57564068, "question_id": 57563694, "link": "https://stackoverflow.com/questions/57563694/change-my-post-to-a-json-array-in-flutter/57564068#57564068", "title": "Change my post to a JSON Array in Flutter", "body": "<p>Just use a <code>List</code> instead of a Map then use the <code>dart:convert</code> package as below.</p>\n\n<pre><code>import 'dart:convert';\n\nfinal List&lt;String&gt; data = [\"one\", \"two\", \"three\", \"four\"];\nfinal String jsonData = json.encode(data);\nprint(jsonData);\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25, "user_id": 11859972, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vPZKT5d6s1g/AAAAAAAAAAI/AAAAAAAAA9c/N02XqybcHqg/photo.jpg?sz=128", "display_name": "Ryan", "link": "https://stackoverflow.com/users/11859972/ryan"}, "is_accepted": true, "score": 0, "last_activity_date": 1566422012, "creation_date": 1566422012, "answer_id": 57599245, "question_id": 57563694, "link": "https://stackoverflow.com/questions/57563694/change-my-post-to-a-json-array-in-flutter/57599245#57599245", "title": "Change my post to a JSON Array in Flutter", "body": "<p>I figured out how to make it appear in array form.</p>\n\n<pre><code>json = '['+ json +']';\n</code></pre>\n\n<p>I added this line of code in right before the last line of code. Doing this added the square brackets I needed in order for the back-end to receive it correctly. </p>\n"}], "owner": {"reputation": 25, "user_id": 11859972, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vPZKT5d6s1g/AAAAAAAAAAI/AAAAAAAAA9c/N02XqybcHqg/photo.jpg?sz=128", "display_name": "Ryan", "link": "https://stackoverflow.com/users/11859972/ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 869, "favorite_count": 1, "accepted_answer_id": 57599245, "answer_count": 2, "score": 0, "last_activity_date": 1566422012, "creation_date": 1566247377, "question_id": 57563694, "link": "https://stackoverflow.com/questions/57563694/change-my-post-to-a-json-array-in-flutter", "title": "Change my post to a JSON Array in Flutter", "body": "<p>I am very new to Flutter, and programming as a whole, and am looking for some help. I have some code which currently posts in JSON correctly, but I want it to post as an array instead and I am not really sure on how to do that. </p>\n\n<p>I have seen and tried a few different solutions, but am unsure exactly how to implement them into my code to make them work. </p>\n\n<pre><code>import 'package:http/http.dart' as http;\nimport 'dart:async';\nimport 'dart:convert';\nimport 'package:intl/intl.dart';\n\nimport 'contact.dart';\n\nclass ContactService {\n static const _serviceUrl = 'https://******.com/';\n  static final _headers = {'Content-Type': 'application/json'};\n\n  Future&lt;Contact&gt; createContact(Contact contact) async {\n    try {\n      String json = _toJson(contact);\n      final response =\n      await http.post(_serviceUrl, headers: _headers, body: json);\n      var c = _fromJson(response.body);\n      return c;\n    } catch (e) {\n      print('Server Exception!!!');\n      print(e);\n      return null;\n    }\n  }\n\n  Contact _fromJson(String json) {\n    Map&lt;String, dynamic&gt; map = jsonDecode(json);\n    var contact = new Contact();\n    contact.firstName = map['First Name'];\n    contact.lastName = map ['Last Name'];\n    contact.dob = new DateFormat.yMd().parseStrict(map['dob']);\n    contact.phone = map['phone'];\n    contact.email = map['email'];\n    contact.gender = map['gender'];\n    return contact;\n  }\n\n  String _toJson(Contact contact) {\n    var mapData = new Map();\n    mapData[\"first_name\"] = contact.firstName;\n    mapData[\"last_name\"] = contact.lastName;\n    mapData[\"dob\"] = new DateFormat.yMd().format(contact.dob);\n    mapData[\"phone\"] = contact.phone;\n    mapData[\"email\"] = contact.email;\n    mapData[\"gender\"] = contact.gender;\n    String json = jsonEncode(mapData);\n    return json;\n  }\n}\n</code></pre>\n\n<p>Other lib file (contact.dart):</p>\n\n<pre><code>class Contact {\n  String firstName;\n  String lastName;\n  DateTime dob;\n  String phone = '';\n  String email = '';\n  String gender = '';\n</code></pre>\n\n<p>I would like it to post to my URL as a JSON Array rather than just a line of JSON code.</p>\n"}, {"tags": ["flutter", "dart", "stream-builder"], "answers": [{"comments": [{"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 2, "creation_date": 1566242219, "post_id": 57562409, "comment_id": 101587085, "body": "StreamBuilder doesn&#39;t make to call, no. It&#39;s your stream that is emitting an event when a listener is added."}, {"owner": {"reputation": 5517, "user_id": 6211703, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a45e104f225460fb1ea5d2562fefacaf?s=128&d=identicon&r=PG", "display_name": "Ray Li", "link": "https://stackoverflow.com/users/6211703/ray-li"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1566408576, "post_id": 57562409, "comment_id": 101650348, "body": "There are two events that are emitted. The first event is emitted by initialData. The second event is emitted by the StreamBuilder when a Stream is attached. The second event is NOT dependent upon the event in the stream as a second build request is made even when the stream is null. If there is an event in the Stream, then THREE build calls are made."}, {"owner": {"reputation": 5517, "user_id": 6211703, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a45e104f225460fb1ea5d2562fefacaf?s=128&d=identicon&r=PG", "display_name": "Ray Li", "link": "https://stackoverflow.com/users/6211703/ray-li"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1566578595, "post_id": 57562409, "comment_id": 101714020, "body": "I&#39;ve marked my answer as correct because this is the exact behavior exhibited by StreamBuilder. Please correct me if the reasoning is incorrect."}, {"owner": {"reputation": 2544, "user_id": 2849458, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/o7RRM.png?s=128&g=1", "display_name": "M.ArslanKhan", "link": "https://stackoverflow.com/users/2849458/m-arslankhan"}, "edited": false, "score": 2, "creation_date": 1577532660, "post_id": 57562409, "comment_id": 105192944, "body": "@RayLi I think you are right, after a long time I was searching for that why streambuilder&#39;s build method is called 2 times, I was scared of calling my firebase API two times but it calls single time but build method of streambuilder is called 2 times."}, {"owner": {"reputation": 5517, "user_id": 6211703, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a45e104f225460fb1ea5d2562fefacaf?s=128&d=identicon&r=PG", "display_name": "Ray Li", "link": "https://stackoverflow.com/users/6211703/ray-li"}, "reply_to_user": {"reputation": 2544, "user_id": 2849458, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/o7RRM.png?s=128&g=1", "display_name": "M.ArslanKhan", "link": "https://stackoverflow.com/users/2849458/m-arslankhan"}, "edited": false, "score": 0, "creation_date": 1577988404, "post_id": 57562409, "comment_id": 105303805, "body": "@M.ArslanKhan glad to be able to help! I was confused too and concerned about duplicate data requests. The important distinction is that StreamBuilder&#39;s <code>build</code> method is called twice while Stream only emits once."}], "tags": [], "owner": {"reputation": 5517, "user_id": 6211703, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a45e104f225460fb1ea5d2562fefacaf?s=128&d=identicon&r=PG", "display_name": "Ray Li", "link": "https://stackoverflow.com/users/6211703/ray-li"}, "is_accepted": true, "score": 4, "last_activity_date": 1587401803, "last_edit_date": 1587401803, "creation_date": 1566240596, "answer_id": 57562409, "question_id": 57562407, "link": "https://stackoverflow.com/questions/57562407/flutter-streambuilder-called-twice-when-initialized/57562409#57562409", "title": "Flutter StreamBuilder Called Twice When Initialized", "body": "<p>StreamBuilder makes two build calls when initialized, once for the initial data and a second time for the stream data.</p>\n\n<p>Streams do not guarantee that they will send data right away so an initial data value is required. Passing <code>null</code> to <code>initialData</code> throws an InvalidArgument exception.</p>\n\n<p>StreamBuilders will always build twice even when the stream passed is null. </p>\n\n<p><strong>Update:</strong></p>\n\n<p>A detailed technical explanation of why StreamBuilders build multiple times even when an <code>initalData</code> is provided can be found in this Flutter issue thread: <a href=\"https://github.com/flutter/flutter/issues/16465\" rel=\"nofollow noreferrer\">https://github.com/flutter/flutter/issues/16465</a></p>\n\n<blockquote>\n  <p>It's not possible for a broadcast stream to have an initial state. Either you were subscribed when the data was added or you missed it. In an async single-subscription stream, any listen calls added won't be invoked until either the next microtask or next event loop (can't remember, may depend), but at any rate there is no way to get the data out the stream on the current frame. - jonahwilliams</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 2544, "user_id": 2849458, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/o7RRM.png?s=128&g=1", "display_name": "M.ArslanKhan", "link": "https://stackoverflow.com/users/2849458/m-arslankhan"}, "is_accepted": false, "score": 8, "last_activity_date": 1577535599, "last_edit_date": 1577535599, "creation_date": 1577534270, "answer_id": 59510674, "question_id": 57562407, "link": "https://stackoverflow.com/questions/57562407/flutter-streambuilder-called-twice-when-initialized/59510674#59510674", "title": "Flutter StreamBuilder Called Twice When Initialized", "body": "<p>Streambuilder will be called 2 times, first for Initial and second for the stream. And data is only changed when state is <strong>ConnectionState.active.</strong>\nkinldy see the official doc example.</p>\n\n<pre><code>    StreamBuilder&lt;int&gt;(\n  //stream:fire, // a Stream&lt;int&gt; or null\n  builder: (BuildContext context, AsyncSnapshot&lt;int&gt; snapshot) {\n    if (snapshot.hasError) return Text('Error: ${snapshot.error}');\n    switch (snapshot.connectionState) {\n      case ConnectionState.none:\n        return Text('Select lot');\n      case ConnectionState.waiting:\n        return Text('Awaiting bids...');\n      case ConnectionState.active:\n        return Text('\\$${snapshot.data}');\n      case ConnectionState.done:\n        return Text('\\$${snapshot.data} (closed)');\n    }\n    return null; // unreachable\n  },\n);\n</code></pre>\n\n<p><a href=\"https://api.flutter.dev/flutter/widgets/StreamBuilder-class.html#widgets.StreamBuilder.1\" rel=\"noreferrer\">StreamBuilder documentation</a></p>\n\n<blockquote>\n  <p>The initial snapshot data can be controlled by specifying initialData. This should be used to ensure that the first frame has the expected value, as the builder will always be called before the stream listener has a chance to be processed.</p>\n</blockquote>\n\n<p><a href=\"https://api.flutter.dev/flutter/widgets/StreamBuilder/initialData.html\" rel=\"noreferrer\">initialData</a></p>\n\n<blockquote>\n  <p>Providing this value (presumably obtained synchronously somehow when the Stream was created) ensures that the first frame will show useful data. Otherwise, the first frame will be built with the value null, regardless of whether a value is available on the stream: since streams are asynchronous, no events from the stream can be obtained before the initial build.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 345, "user_id": 8945078, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215398012164405/picture?type=large", "display_name": "Thiago Silva", "link": "https://stackoverflow.com/users/8945078/thiago-silva"}, "is_accepted": false, "score": 1, "last_activity_date": 1610661949, "creation_date": 1610661949, "answer_id": 65727574, "question_id": 57562407, "link": "https://stackoverflow.com/questions/57562407/flutter-streambuilder-called-twice-when-initialized/65727574#65727574", "title": "Flutter StreamBuilder Called Twice When Initialized", "body": "<p>As was said above, you just need to place your code inside Connection.Active state. See below:</p>\n<pre><code>StreamBuilder&lt;QuerySnapshot&gt;(\n              stream: historicModel.query.snapshots(),\n              builder: (context, stream){\n\n                if (stream.connectionState == ConnectionState.waiting) {\n                  return Center(child: CircularProgressIndicator());\n                } else if (stream.hasError) {\n                  return Center(child: Text(stream.error.toString()));\n                } else if(stream.connectionState == ConnectionState.active){\n                   //place your code here. It will prevent double data call.\n\n                }\n</code></pre>\n"}], "owner": {"reputation": 5517, "user_id": 6211703, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a45e104f225460fb1ea5d2562fefacaf?s=128&d=identicon&r=PG", "display_name": "Ray Li", "link": "https://stackoverflow.com/users/6211703/ray-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3804, "favorite_count": 3, "accepted_answer_id": 57562409, "answer_count": 3, "score": 5, "last_activity_date": 1610661949, "creation_date": 1566240596, "question_id": 57562407, "link": "https://stackoverflow.com/questions/57562407/flutter-streambuilder-called-twice-when-initialized", "title": "Flutter StreamBuilder Called Twice When Initialized", "body": "<p>Is StreamBuilder always called twice? Once for initial data and then once for the input stream? </p>\n\n<p>Initializing the following StreamBuilder shows that the build method is called twice. The second call is 0.4 seconds after the first one.</p>\n\n<p>Stream: Build 1566239814897</p>\n\n<p>Stream: Build 1566239815284</p>\n\n<pre><code>import 'dart:async';\nimport 'dart:ui';\n\nimport 'package:flutter/material.dart';\nimport 'package:nocd/utils/bloc_provider.dart';\n\nvoid main() =&gt;\n    runApp(BlocProvider&lt;MyAppBloc&gt;(bloc: MyAppBloc(), child: MyApp()));\n\nclass MyAppBloc extends BlocBase {\n  String _page = window.defaultRouteName ?? \"\";\n\n  /// Stream for [getPage].\n  StreamController&lt;String&gt; pageController = StreamController&lt;String&gt;();\n\n  /// Observable navigation route value.\n  Stream get getPage =&gt; pageController.stream;\n\n  MyAppBloc() {}\n\n  @override\n  void dispose() {\n    pageController.close();\n  }\n}\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    final MyAppBloc myAppBloc = BlocProvider.of&lt;MyAppBloc&gt;(context);\n    return StreamBuilder(\n      stream: myAppBloc.getPage,\n      initialData: \"Build\",\n      builder: (context, snapshot) {\n        print(\"Stream: \" +\n            snapshot.data +\n            DateTime.now().millisecondsSinceEpoch.toString());\n        return Container();\n      },\n    );\n  }\n}\n</code></pre>\n\n<p>Why is the StreamBuilder called twice? </p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 5578, "user_id": 3572546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9FtXx.jpg?s=128&g=1", "display_name": "nonybrighto", "link": "https://stackoverflow.com/users/3572546/nonybrighto"}, "edited": false, "score": 0, "creation_date": 1566239387, "post_id": 57561877, "comment_id": 101586012, "body": "Try creating your anonymous function as a named function above the main method as pass it as arguement without calling it just as it is im the Alarm manager example. here <a href=\"https://pub.dev/packages/android_alarm_manager\" rel=\"nofollow noreferrer\">pub.dev/packages/android_alarm_manager</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11590240"}, "reply_to_user": {"reputation": 5578, "user_id": 3572546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9FtXx.jpg?s=128&g=1", "display_name": "nonybrighto", "link": "https://stackoverflow.com/users/3572546/nonybrighto"}, "edited": false, "score": 0, "creation_date": 1566240275, "post_id": 57561877, "comment_id": 101586355, "body": "I tried this, but I get the error in the IDE: The expression here has a type of &#39;void&#39;, and therefore cannot be used"}, {"owner": {"reputation": 5578, "user_id": 3572546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9FtXx.jpg?s=128&g=1", "display_name": "nonybrighto", "link": "https://stackoverflow.com/users/3572546/nonybrighto"}, "edited": false, "score": 0, "creation_date": 1566245323, "post_id": 57561877, "comment_id": 101588258, "body": "Did you try it without the parenthesis? Don&#39;t call the function."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11590240"}, "reply_to_user": {"reputation": 5578, "user_id": 3572546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9FtXx.jpg?s=128&g=1", "display_name": "nonybrighto", "link": "https://stackoverflow.com/users/3572546/nonybrighto"}, "edited": false, "score": 0, "creation_date": 1566248196, "post_id": 57561877, "comment_id": 101589331, "body": "I tried it in both variants. However, I fixed the problem, but still thank you."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user11590240"}, "is_accepted": false, "score": 0, "last_activity_date": 1566247975, "creation_date": 1566247975, "answer_id": 57563820, "question_id": 57561877, "link": "https://stackoverflow.com/questions/57561877/androidalarmmanager-not-executing/57563820#57563820", "title": "AndroidAlarmManager not executing", "body": "<p>Ok, after a long time I fixed the problem. You have to put your method, which is executed by the alarm manager, after the main-method.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11590240"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566247975, "creation_date": 1566237925, "question_id": 57561877, "link": "https://stackoverflow.com/questions/57561877/androidalarmmanager-not-executing", "title": "AndroidAlarmManager not executing", "body": "<p>I want to set an Alarm, which is called every minute. The AlarmService starts successful but when I try to finally setup the Alarm nothing happens.</p>\n\n<p>logs:</p>\n\n<pre><code>I/AlarmService( 7423): Starting AlarmService...\nSyncing files to device Android SDK built for x86...\nI/AlarmService( 7423): AlarmService started!\n</code></pre>\n\n<p>main.dart</p>\n\n<pre><code>  final int dailyAlarmID = 0;\n  await AndroidAlarmManager.initialize();\n  runApp(...);\n  await AndroidAlarmManager.periodic(const Duration(minutes: 1), dailyAlarmID,\n      () {\n    print(\"TESTING ALARM\");\n  });\n</code></pre>\n\n<p>Thanks for helping!</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 4073, "user_id": 5407008, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71019a92e9167a8fc367dbc5bc8d98a3?s=128&d=identicon&r=PG", "display_name": "Tushar Pol", "link": "https://stackoverflow.com/users/5407008/tushar-pol"}, "edited": false, "score": 0, "creation_date": 1566276030, "post_id": 57562099, "comment_id": 101594653, "body": "Great ! Thanks :)"}, {"owner": {"reputation": 316, "user_id": 13090475, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GglJ4Sw45pFTACvVn81BoeKGw5tle5RQJsyuEQ2=k-s128", "display_name": "Hudson Kim", "link": "https://stackoverflow.com/users/13090475/hudson-kim"}, "edited": false, "score": 0, "creation_date": 1595574595, "post_id": 57562099, "comment_id": 111527582, "body": "This solution, however, for some reason changes the period parameter to DayPeriod.am even if the time set is a PM time."}, {"owner": {"reputation": 5165, "user_id": 9374465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4885599304ccdac5fc24aea1bac2d4?s=128&d=identicon&r=PG&f=1", "display_name": "Mazin Ibrahim", "link": "https://stackoverflow.com/users/9374465/mazin-ibrahim"}, "reply_to_user": {"reputation": 316, "user_id": 13090475, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GglJ4Sw45pFTACvVn81BoeKGw5tle5RQJsyuEQ2=k-s128", "display_name": "Hudson Kim", "link": "https://stackoverflow.com/users/13090475/hudson-kim"}, "edited": false, "score": 0, "creation_date": 1595653738, "post_id": 57562099, "comment_id": 111555528, "body": "I didn&#39;t notice this before @HudsonKim. I will check it out, thanks."}], "tags": [], "owner": {"reputation": 5165, "user_id": 9374465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4885599304ccdac5fc24aea1bac2d4?s=128&d=identicon&r=PG&f=1", "display_name": "Mazin Ibrahim", "link": "https://stackoverflow.com/users/9374465/mazin-ibrahim"}, "is_accepted": true, "score": 6, "last_activity_date": 1566239022, "creation_date": 1566239022, "answer_id": 57562099, "question_id": 57561585, "link": "https://stackoverflow.com/questions/57561585/flutter-convert-24-hour-format-to-12-hour-format/57562099#57562099", "title": "Flutter - Convert 24 hour format to 12 hour format", "body": "<p>You can use <code>hourOfPeriod</code> property of <code>TimeofDay</code> to return to you the hour in 12-hour format. That, of course, will be without the AM - PM ending :</p>\n\n<pre><code>  TimeOfDay _selectedTime;\n\n  Future&lt;Null&gt; _selectTime(BuildContext context) async {\n    final TimeOfDay timePicked = await showTimePicker(\n      context: context,\n      initialTime: TimeOfDay.now(),\n\n    );\n    if (timePicked != null)\n      setState(() {\n        _selectedTime = timePicked.replacing(hour: timePicked.hourOfPeriod);\n      });\n\n    print(_selectedTime.toString());\n  }\n</code></pre>\n"}], "owner": {"reputation": 4073, "user_id": 5407008, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71019a92e9167a8fc367dbc5bc8d98a3?s=128&d=identicon&r=PG", "display_name": "Tushar Pol", "link": "https://stackoverflow.com/users/5407008/tushar-pol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5387, "favorite_count": 0, "accepted_answer_id": 57562099, "answer_count": 1, "score": 1, "last_activity_date": 1566239022, "creation_date": 1566236446, "last_edit_date": 1566236828, "question_id": 57561585, "link": "https://stackoverflow.com/questions/57561585/flutter-convert-24-hour-format-to-12-hour-format", "title": "Flutter - Convert 24 hour format to 12 hour format", "body": "<p>I'm getting time using showTimePicker().</p>\n\n<pre><code>  TimeOfDay _selectedTime;\n\n  Future&lt;Null&gt; _selectTime(BuildContext context) async {\n    final TimeOfDay timePicked = await showTimePicker(\n        context: context,\n        initialTime: TimeOfDay.now(),\n\n      );\n    if (timePicked != null)\n      setState(() {\n        _selectedTime = timePicked;\n      });\n  }\n</code></pre>\n\n<p>But here <code>_selectedTime</code> is in 24-hour format. Suppose if I select 3.00 PM then it shows 15.00 i.e. it's in 24-hour format. </p>\n\n<p>How can I convert this time into 12-hour format? i.e It should show me 3.00 PM and not 15.00.</p>\n\n<p>I can write the logic to convert it. But is there anything built in to do so?</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 701, "user_id": 5664559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oz83v.jpg?s=128&g=1", "display_name": "Brian Gorman", "link": "https://stackoverflow.com/users/5664559/brian-gorman"}, "edited": false, "score": 0, "creation_date": 1566236831, "post_id": 57561310, "comment_id": 101585037, "body": "This works for me.. check out <a href=\"https://dartpad.dartlang.org/163937d127871cfb51797048374ffb61\" rel=\"nofollow noreferrer\">dartpad.dartlang.org/163937d127871cfb51797048374ffb61</a> and tell me what needs to change to reproduce your problem"}, {"owner": {"reputation": 1890, "user_id": 2362966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8792270fcc92400b12d02f8a4cc00e89?s=128&d=identicon&r=PG", "display_name": "ejabu", "link": "https://stackoverflow.com/users/2362966/ejabu"}, "edited": false, "score": 0, "creation_date": 1566237658, "post_id": 57561310, "comment_id": 101585346, "body": "I tried also myself, and it works in my local environment. Can you show the method that calls AppController.addList() ? I assume that function produces this issue"}, {"owner": {"reputation": 13, "user_id": 5275487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pZcrS.jpg?s=128&g=1", "display_name": "BONIX SULOD", "link": "https://stackoverflow.com/users/5275487/bonix-sulod"}, "reply_to_user": {"reputation": 701, "user_id": 5664559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oz83v.jpg?s=128&g=1", "display_name": "Brian Gorman", "link": "https://stackoverflow.com/users/5664559/brian-gorman"}, "edited": false, "score": 0, "creation_date": 1566266706, "post_id": 57561310, "comment_id": 101593022, "body": "@BrianGorman I updated my description"}, {"owner": {"reputation": 13, "user_id": 5275487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pZcrS.jpg?s=128&g=1", "display_name": "BONIX SULOD", "link": "https://stackoverflow.com/users/5275487/bonix-sulod"}, "reply_to_user": {"reputation": 1890, "user_id": 2362966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8792270fcc92400b12d02f8a4cc00e89?s=128&d=identicon&r=PG", "display_name": "ejabu", "link": "https://stackoverflow.com/users/2362966/ejabu"}, "edited": false, "score": 0, "creation_date": 1566266748, "post_id": 57561310, "comment_id": 101593031, "body": "@ejabu I updated my description."}, {"owner": {"reputation": 13, "user_id": 5275487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pZcrS.jpg?s=128&g=1", "display_name": "BONIX SULOD", "link": "https://stackoverflow.com/users/5275487/bonix-sulod"}, "edited": false, "score": 0, "creation_date": 1566288177, "post_id": 57561310, "comment_id": 101598957, "body": "I dont know what happend but when I test it now, it just worked. hahaha Maybe I should have restart the dart itself. thanks anyway."}, {"owner": {"reputation": 1890, "user_id": 2362966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8792270fcc92400b12d02f8a4cc00e89?s=128&d=identicon&r=PG", "display_name": "ejabu", "link": "https://stackoverflow.com/users/2362966/ejabu"}, "edited": false, "score": 0, "creation_date": 1566293270, "post_id": 57561310, "comment_id": 101601657, "body": "glad it solved by itself. however I make suggestion to change _Tag definiton to this : class _Tag {   bool selected;   final dynamic index;   final String value;   _Tag({this.index, this.value, this.selected = false}); }"}], "owner": {"reputation": 13, "user_id": 5275487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pZcrS.jpg?s=128&g=1", "display_name": "BONIX SULOD", "link": "https://stackoverflow.com/users/5275487/bonix-sulod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566266553, "creation_date": 1566235141, "last_edit_date": 1566266553, "question_id": 57561310, "link": "https://stackoverflow.com/questions/57561310/dart-map-add-more-entries-from-map-with-different-subtype", "title": "Dart: Map add more entries from Map with different subtype", "body": "<p>I am trying add Map entries to the existing Map, by adding a Map entries with different subtype. But I cant figure out how should I do it. Currently I am having this error.</p>\n\n<p><code>type '_InternalLinkedHashMap&lt;dynamic, _Tag&gt;' is not a subtype of type 'Map&lt;int, String&gt;' of 'other'</code></p>\n\n<pre><code>class AppController{\n  Map&lt;dynamic,_Tag&gt; _list = new Map&lt;dynamic,_Tag&gt;();\n\n  Map&lt;dynamic,_Tag&gt; getList(){return _list;}\n\n\n  void addList(Map&lt;dynamic,String&gt; val){\n    this._list?.addAll(val.map((index, value)=&gt;MapEntry(index, _Tag(index: index, value: value))));\n  }\n\n  void setSelected(Map&lt;dynamic,String&gt; val){\n    this._list?.addAll(val.map((index, value)=&gt;MapEntry(index, _Tag(index: index, value: value, selected: true))));\n  }\n\n}\n</code></pre>\n\n<pre><code>class _Tag{\n  bool selected = false;\n  final dynamic index;\n  final String value;\n  _Tag({this.index, this.value, this.selected});\n}\n</code></pre>\n\n<p>I called it this way, </p>\n\n<pre><code>TagsWidget({this.title,this.controller, Map&lt;dynamic,String&gt; list , Map&lt;dynamic,String&gt; selected}){\n    this.controller.addList(list);\n    this.controller.setSelected(selected);\n  }\n\nAppController tagsCtrl = new AppController();\nMap&lt;int, String&gt; options = {\n    1:'Option 1',\n    2:'Option 2',\n    3:'Option 3',\n    4:'Option 4',\n    5:'Option 5'\n};\n\nTagsWidget(\n            title: 'Title herer',\n            list: this.options ,\n            selected: this.options ,\n            controller: tagsCtrl ,\n          )\n\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 8843405, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DKW_QE7W8H4/AAAAAAAAAAI/AAAAAAAAAEU/cJ77n6ty240/photo.jpg?sz=128", "display_name": "Ragul Sarma", "link": "https://stackoverflow.com/users/8843405/ragul-sarma"}, "edited": false, "score": 0, "creation_date": 1566274996, "post_id": 57561739, "comment_id": 101594433, "body": "Thanks for the answer. I&#39;ll see if this gets me where I want to be. :)"}], "tags": [], "owner": {"reputation": 1890, "user_id": 2362966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8792270fcc92400b12d02f8a4cc00e89?s=128&d=identicon&r=PG", "display_name": "ejabu", "link": "https://stackoverflow.com/users/2362966/ejabu"}, "is_accepted": false, "score": 0, "last_activity_date": 1566293417, "last_edit_date": 1566293417, "creation_date": 1566237188, "answer_id": 57561739, "question_id": 57561019, "link": "https://stackoverflow.com/questions/57561019/expandable-list-view-item-button-pressed-changes-value-in-all-list-view-items/57561739#57561739", "title": "Expandable list view item button pressed changes value in all list view items", "body": "<p>it happens because you actually only have one integer as reference that defined in SubServiceState</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class SubServiceState extends State&lt;SubService&gt; {\n  List lessons; \n  ...\n\n  int _n = 0; // you only have one _n\n\n</code></pre>\n\n<p>In spite of building columnContent programmatically, the app will always look for <strong>one <code>memory address</code></strong> of variable _n.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>for (Subservicename content in sub)\n      columnContent.add(\n        new Container(\n          child: new Center(\n            child: new Row(\n              mainAxisAlignment: MainAxisAlignment.spaceAround,\n\n              ...\n              Padding(\n                padding: const EdgeInsets.fromLTRB(0, 0, 0, 40),\n                child: new Text('$_n', style: new TextStyle(fontSize: 14.0)),\n              ),\n</code></pre>\n\n<h3>Solution</h3>\n\n<ol>\n<li><p>You need to move all widget inside columnContent.add() to a new Stateful Widget. Then each of them has its own reference of _n property. or ..</p></li>\n<li><p>Change int _n to another type, maybe <code>List&lt;Map&gt;</code> or <code>Map&lt;List&gt;</code> which corresponds to your payload structure</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 45, "user_id": 8843405, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DKW_QE7W8H4/AAAAAAAAAAI/AAAAAAAAAEU/cJ77n6ty240/photo.jpg?sz=128", "display_name": "Ragul Sarma", "link": "https://stackoverflow.com/users/8843405/ragul-sarma"}, "is_accepted": true, "score": 0, "last_activity_date": 1566284454, "creation_date": 1566284454, "answer_id": 57568230, "question_id": 57561019, "link": "https://stackoverflow.com/questions/57561019/expandable-list-view-item-button-pressed-changes-value-in-all-list-view-items/57568230#57568230", "title": "Expandable list view item button pressed changes value in all list view items", "body": "<p>Following Ejabu approach, I modified it to fit my needs. i need to add my counter in my Subservicename model and increase it in there. </p>\n\n<p>to add product</p>\n\n<pre><code>_addProduct(int index) {\nsetState(() {\n  content.getcounter++;\n});\n\n</code></pre>\n\n<p>to display the value </p>\n\n<pre><code>child : new Text('${content.getcounter}',\n</code></pre>\n\n<p>and the same for remove product.</p>\n\n<pre><code>onPressed: () =&gt; setState((){ if (content.getcounter != 0) content.getcounter--;}),\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 8843405, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DKW_QE7W8H4/AAAAAAAAAAI/AAAAAAAAAEU/cJ77n6ty240/photo.jpg?sz=128", "display_name": "Ragul Sarma", "link": "https://stackoverflow.com/users/8843405/ragul-sarma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 57568230, "answer_count": 2, "score": 0, "last_activity_date": 1566293417, "creation_date": 1566233746, "last_edit_date": 1566234050, "question_id": 57561019, "link": "https://stackoverflow.com/questions/57561019/expandable-list-view-item-button-pressed-changes-value-in-all-list-view-items", "title": "Expandable list view item button pressed changes value in all list view items", "body": "<p>i want to increase the value of particular item after pressing the increment button which is inside expandable list view but it affects in all of list view items of sub category name value.</p>\n\n<p>Here is some code I came up with. i dont know where i've made the mistake even though its in statefulwidget. suggestions are welcome. any idea..?</p>\n\n<p><a href=\"https://i.stack.imgur.com/EQchc.png\" rel=\"nofollow noreferrer\">the screenshot of my current output</a></p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'dart:convert';\n\nclass SubService extends StatefulWidget {\n  String strCatId;\n  SubService({Key key, @required this.strCatId}) : super(key: key);\n  @override\n  SubServiceState createState() =&gt; new SubServiceState(strCatId);\n}\n\nclass SubServiceState extends State&lt;SubService&gt; {\n  List lessons; \n  List data;\n  SubService sModel;\n  RestDatasource api = new RestDatasource();\n  int _n = 0;\n\n  var subService = new List&lt;SubServices&gt;();\n  String strCatId;\n\n  void add() {\n    setState(() {\n      _n++;\n    });\n  }\n\n  void minus() {\n    setState(() {\n      if (_n != 0) _n--;\n    });\n  }\n\n  SubServiceState(String strCatId) {\n    strCatId = strCatId;\n    RestDatasource.getSubServices(strCatId).then((response) {\n      setState(() {\n        Iterable list = json.decode(response.body);\n        subService = list.map((model) =&gt; SubServices.fromJson(model)).toList();\n      });\n    });\n  }\n @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      appBar: new AppBar(\n        title: new Text('Sub services'),\n        backgroundColor: Colors.deepOrange,\n      ),\n      backgroundColor: Colors.white,\n      body: new ListView.builder(\n        itemCount: subService == null ? 0 : subService.length,\n        itemBuilder: (context, i) {\n          return new ExpansionTile(\n            title: new Text(\n              subService[i].getsubcategoryName,\n            ),\n            children: &lt;Widget&gt;[\n              new Column(\n                 children: _buildExpandableContent(subService[i].getsubService),\n                  // BottomAppBar(child: Text('Bottom bar'),),\n\n                ),\n\n            ],\n          );\n        },\n      ),\n    );\n  }\n\n  _buildExpandableContent(List&lt;Subservicename&gt; sub) {\n    List&lt;Widget&gt; columnContent = [];\n\n    for (Subservicename content in sub)\n      columnContent.add(\n        new Container(\n          child: new Center(\n            child: new Row(\n              mainAxisAlignment: MainAxisAlignment.spaceAround,\n              // mainAxisAlignment: MainAxisAlignment.start,\n              children: &lt;Widget&gt;[\n                 Align(\n      alignment: Alignment.topLeft,\n               child : Padding(\n                  padding: const EdgeInsets.fromLTRB(0, 0, 0, 40),\n                  child: Text(\n                    content.getsubservicename,\n                    style: new TextStyle(fontSize: 14.0),\n                  ),\n                ),\n                 ),\n                Padding(\n                  padding: const EdgeInsets.fromLTRB(0, 0, 0, 40),\n                  child: SizedBox(\n                    height: 25.0,\n                    child: new FloatingActionButton(\n                      onPressed: minus ,\n                      child: new Icon(\n                        const IconData(0xe15b, fontFamily: 'MaterialIcons'),\n                        color: Colors.red,\n                        size: 15.0,\n                      ),\n                      backgroundColor: Colors.white,\n                    ),\n                  ),\n                ),\n                Padding(\n                  padding: const EdgeInsets.fromLTRB(0, 0, 0, 40),\n                  child: new Text('$_n', style: new TextStyle(fontSize: 14.0)),\n                ),\n                Padding(\n                  padding: const EdgeInsets.fromLTRB(0, 0, 0, 40),\n                  child: SizedBox(\n                    height: 25.0,\n                    child: new FloatingActionButton(\n                      onPressed: add,\n                      child: new Icon(\n                          Icons.add,\n                          color: Colors.red,\n                          size: 15.0),\n                      backgroundColor: Colors.white,\n                    ),\n                  ),\n                ),\n              ],\n            ),\n          ),\n        ),\n      );\n    return columnContent;\n  }\n}\n</code></pre>\n"}, {"tags": ["flutter", "dart", "navigation"], "comments": [{"owner": {"reputation": 2075, "user_id": 8773560, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4263c95e332a7fe29736c8d526d35289?s=128&d=identicon&r=PG", "display_name": "Constantin N.", "link": "https://stackoverflow.com/users/8773560/constantin-n"}, "edited": false, "score": 1, "creation_date": 1566233787, "post_id": 57560751, "comment_id": 101583705, "body": "You want to change the selected tab (navigate to page2) from a button in page1 ? is it true?"}, {"owner": {"reputation": 387, "user_id": 5751434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7453b9bb510719d755d44f1de4d666e4?s=128&d=identicon&r=PG&f=1", "display_name": "Bollie", "link": "https://stackoverflow.com/users/5751434/bollie"}, "reply_to_user": {"reputation": 2075, "user_id": 8773560, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4263c95e332a7fe29736c8d526d35289?s=128&d=identicon&r=PG", "display_name": "Constantin N.", "link": "https://stackoverflow.com/users/8773560/constantin-n"}, "edited": false, "score": 1, "creation_date": 1566235604, "post_id": 57560751, "comment_id": 101584528, "body": "Yes that is correct"}], "answers": [{"tags": [], "owner": {"reputation": 606, "user_id": 3158633, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qVHiX.jpg?s=128&g=1", "display_name": "Jairo R. Flores", "link": "https://stackoverflow.com/users/3158633/jairo-r-flores"}, "is_accepted": false, "score": -1, "last_activity_date": 1566248427, "creation_date": 1566248427, "answer_id": 57563904, "question_id": 57560751, "link": "https://stackoverflow.com/questions/57560751/flutter-navigation-bar-change-tab-from-another-page/57563904#57563904", "title": "Flutter Navigation Bar - Change tab from another page", "body": "<p>You can Use <a href=\"https://api.flutter.dev/flutter/widgets/IndexedStack-class.html\" rel=\"nofollow noreferrer\">IndexStack</a>.</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=_O0PPD1Xfbk\" rel=\"nofollow noreferrer\">Demostration.</a></p>\n"}, {"tags": [], "owner": {"reputation": 341, "user_id": 8151468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb8f3d504858e0002aae842194092efb?s=128&d=identicon&r=PG&f=1", "display_name": "karim tarek", "link": "https://stackoverflow.com/users/8151468/karim-tarek"}, "is_accepted": false, "score": 0, "last_activity_date": 1566254387, "creation_date": 1566254387, "answer_id": 57564709, "question_id": 57560751, "link": "https://stackoverflow.com/questions/57560751/flutter-navigation-bar-change-tab-from-another-page/57564709#57564709", "title": "Flutter Navigation Bar - Change tab from another page", "body": "<p>in the button :</p>\n\n<pre><code>onPressed: (){ \n    _currentIndex = 1;\n   //or which value you want \n    setState((){});\n}\n</code></pre>\n\n<p>in the bottom Navigation bar :</p>\n\n<pre><code>currentIndex = _currentIndex\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 126, "user_id": 1870558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16dc6009b11df4e0f20360abce1f8839?s=128&d=identicon&r=PG", "display_name": "Brifeb", "link": "https://stackoverflow.com/users/1870558/brifeb"}, "edited": false, "score": 0, "creation_date": 1618212269, "post_id": 57570727, "comment_id": 118523804, "body": "Almost headache and found this. This is great! thank you very much"}], "tags": [], "owner": {"reputation": 2075, "user_id": 8773560, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4263c95e332a7fe29736c8d526d35289?s=128&d=identicon&r=PG", "display_name": "Constantin N.", "link": "https://stackoverflow.com/users/8773560/constantin-n"}, "is_accepted": true, "score": 11, "last_activity_date": 1566293838, "creation_date": 1566293838, "answer_id": 57570727, "question_id": 57560751, "link": "https://stackoverflow.com/questions/57560751/flutter-navigation-bar-change-tab-from-another-page/57570727#57570727", "title": "Flutter Navigation Bar - Change tab from another page", "body": "<p>You have to change a <a href=\"https://api.flutter.dev/flutter/material/TabController-class.html\" rel=\"noreferrer\">TabControlller</a> like this</p>\n\n<p>1* Create TabController instance</p>\n\n<pre><code>TabController _tabController;\n</code></pre>\n\n<p>2* in initState methode use this</p>\n\n<pre><code>@override\nvoid initState() {\n    super.initState();\n    _tabController = TabController(vsync: this, length: 3);\n  }\n</code></pre>\n\n<p>3* add a Mixin to _HomeState</p>\n\n<pre><code>class _HomeState extends State&lt;Home&gt; with SingleTickerProviderStateMixin {....}\n</code></pre>\n\n<p>4* assign the TabController to your TabBar</p>\n\n<pre><code>TabBar(\n      controller: _tabController,\n      tabs: _yourTabsHere,\n    ),\n</code></pre>\n\n<p>5* Pass controller to your Pages</p>\n\n<pre><code>TabBarView(\n    controller: _tabController,\n    children:&lt;Widget&gt; [\n  Page1(tabController:_tabController),\n  Page2(tabController:_tabController),\n  Page3(tabController:_tabController),\n];\n</code></pre>\n\n<p>6* call tabController.animateTo() from Page1</p>\n\n<pre><code>class Page1 extends StatefulWidget {\nfinal TabController tabController\nPage1({this.tabController});\n....}\n\nclass _Page1State extends  State&lt;Page1&gt;{\n....\nonButtonClick(){\n  widget._tabController.animateTo(index); //index is the index of the page your are intending to (open. 1 for page2)\n}\n}\n</code></pre>\n\n<p>Hope it helps</p>\n"}], "owner": {"reputation": 387, "user_id": 5751434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7453b9bb510719d755d44f1de4d666e4?s=128&d=identicon&r=PG&f=1", "display_name": "Bollie", "link": "https://stackoverflow.com/users/5751434/bollie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3273, "favorite_count": 2, "accepted_answer_id": 57570727, "answer_count": 3, "score": 4, "last_activity_date": 1566293838, "creation_date": 1566232524, "question_id": 57560751, "link": "https://stackoverflow.com/questions/57560751/flutter-navigation-bar-change-tab-from-another-page", "title": "Flutter Navigation Bar - Change tab from another page", "body": "<p>I would like to be able to change the navigation bar tab programmatically. I have a button inside Page1 that navigates to Page2. When I perform this, the navigation bar disappears because I didn't select page2 using the navigation bar.</p>\n\n<p>I have 4 dart files along the lines of navigationbar.dart, page1.dart, page2.dart, page3.dart</p>\n\n<p>The Navigation page is the home page of the application with the children:  </p>\n\n<pre><code>final List&lt;Widget&gt; _children = [\n      Page1(),\n      Page2(),\n      Page3(),\n    ];\n\nreturn Scaffold(\n      backgroundColor: Colors.black,\n      body: _children[_selectedPage],\n      bottomNavigationBar: _bottomNavigationBar(context),\n      resizeToAvoidBottomPadding: true,\n    );\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 3329, "user_id": 10574137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2w3m.jpg?s=128&g=1", "display_name": "Muldec", "link": "https://stackoverflow.com/users/10574137/muldec"}, "is_accepted": true, "score": 5, "last_activity_date": 1566230240, "creation_date": 1566230240, "answer_id": 57560221, "question_id": 57560182, "link": "https://stackoverflow.com/questions/57560182/why-do-they-use-underscores-in-instance-names/57560221#57560221", "title": "Why do they use underscores in instance names?", "body": "<p>Coming from the <a href=\"https://dart.dev/guides/language/language-tour\" rel=\"noreferrer\">Dart Language Tour</a></p>\n\n<blockquote>\n  <p>Unlike Java, Dart doesn\u2019t have the keywords public, protected, and private. If an identifier starts with an underscore (_), it\u2019s private to its library. </p>\n</blockquote>\n"}], "owner": {"reputation": 469, "user_id": 11731883, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--D8yO6GH_Fw/AAAAAAAAAAI/AAAAAAAAAFM/kYKparArEtE/photo.jpg?sz=128", "display_name": "Alexey Subbotin", "link": "https://stackoverflow.com/users/11731883/alexey-subbotin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "closed_date": 1566622506, "accepted_answer_id": 57560221, "answer_count": 1, "score": 2, "last_activity_date": 1566230450, "creation_date": 1566230052, "question_id": 57560182, "link": "https://stackoverflow.com/questions/57560182/why-do-they-use-underscores-in-instance-names", "closed_reason": "Duplicate", "title": "Why do they use underscores in instance names?", "body": "<p>Many public example codes, pub plugin codes include classes and states with instances named with an underscore as a prefix. What's this about? Where did this fashion came from? Is it some popular programming pattern in Dart or just a matter of taste? :D</p>\n\n<pre><code>class State extends State&lt;widget&gt;{\n  int _index = 1;\n  _increment() =&gt; _index++;\n}\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 1844, "user_id": 10376604, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yl4id.jpg?s=128&g=1", "display_name": "GrahamD", "link": "https://stackoverflow.com/users/10376604/grahamd"}, "edited": false, "score": 0, "creation_date": 1566237382, "post_id": 57561740, "comment_id": 101585256, "body": "Loading via a ListView builder or gridview.builder will only load the images in the initial view until you scroll, so should also help."}], "tags": [], "owner": {"reputation": 1844, "user_id": 10376604, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yl4id.jpg?s=128&g=1", "display_name": "GrahamD", "link": "https://stackoverflow.com/users/10376604/grahamd"}, "is_accepted": true, "score": 3, "last_activity_date": 1566237189, "creation_date": 1566237189, "answer_id": 57561740, "question_id": 57560031, "link": "https://stackoverflow.com/questions/57560031/flutter-networkimage-takes-too-long-to-load/57561740#57561740", "title": "Flutter NetworkImage takes too long to load", "body": "<p>You could try using Cached_network_image package. It will still take the same time to load images initially but then the images are retained on the device so will load a lot quicker the next time. There is really no way of getting around the initial download of the image. </p>\n"}], "owner": {"reputation": 131, "user_id": 8062331, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-O0wckB9saeM/AAAAAAAAAAI/AAAAAAAAAXc/CR1sUOKZ1ZY/photo.jpg?sz=128", "display_name": "Megumin", "link": "https://stackoverflow.com/users/8062331/megumin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1336, "favorite_count": 0, "accepted_answer_id": 57561740, "answer_count": 1, "score": 2, "last_activity_date": 1566237189, "creation_date": 1566229492, "question_id": 57560031, "link": "https://stackoverflow.com/questions/57560031/flutter-networkimage-takes-too-long-to-load", "title": "Flutter NetworkImage takes too long to load", "body": "<p>So i'm trying to load close to a thousand gifs on Inkwell widgets with a Hero child in a boxdecoration imagenetwork, i want to understand the best practice to handle this, as it takes long times to load, i want it to load by the first one to appear, whether it's normal or by filtering, so how do flutter devs handle this ?</p>\n\n<p>So how do i support slow internet users by deciding which NetworkImage to load first</p>\n\n<pre><code>      InkWell(\n      onTap: (){\n        Navigator.push(context, MaterialPageRoute(builder:(context)=&gt;GifDetail(\n          gifs: gifs,\n        )));\n      },\n      child: Hero(\n        tag: gifs.url,\n        child: Card(\n          child: Column(\n            mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n            children: &lt;Widget&gt;[\n              Container(\n                height: 110,\n                width: 110,\n                decoration: BoxDecoration(\n                  image: DecorationImage(image: NetworkImage(gifs.url))\n                ),\n              ),\n            ],\n          ),\n        ),\n      ),\n    ),\n</code></pre>\n"}, {"tags": ["flutter", "dart", "flutter-layout"], "comments": [{"owner": {"reputation": 16714, "user_id": 7924072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pwcXh.jpg?s=128&g=1", "display_name": "Viren V Varasadiya", "link": "https://stackoverflow.com/users/7924072/viren-v-varasadiya"}, "edited": false, "score": 0, "creation_date": 1566229724, "post_id": 57560023, "comment_id": 101581847, "body": "Remove the row widget over icon and between text widget and icon widget add expanded widget. Give it try."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10408704"}, "reply_to_user": {"reputation": 16714, "user_id": 7924072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pwcXh.jpg?s=128&g=1", "display_name": "Viren V Varasadiya", "link": "https://stackoverflow.com/users/7924072/viren-v-varasadiya"}, "edited": false, "score": 0, "creation_date": 1566230172, "post_id": 57560023, "comment_id": 101582071, "body": "If I add Expanded widget, it moves to the left but fails to position itself at the end."}, {"owner": {"reputation": 16714, "user_id": 7924072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pwcXh.jpg?s=128&g=1", "display_name": "Viren V Varasadiya", "link": "https://stackoverflow.com/users/7924072/viren-v-varasadiya"}, "edited": false, "score": 0, "creation_date": 1566230252, "post_id": 57560023, "comment_id": 101582119, "body": "Did you remove the expanded widget over icon widget? And update the code with new one in question to understand what changes you did."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10408704"}, "reply_to_user": {"reputation": 16714, "user_id": 7924072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pwcXh.jpg?s=128&g=1", "display_name": "Viren V Varasadiya", "link": "https://stackoverflow.com/users/7924072/viren-v-varasadiya"}, "edited": false, "score": 0, "creation_date": 1566233846, "post_id": 57560023, "comment_id": 101583736, "body": "Done and works, thanks"}], "answers": [{"tags": [], "owner": {"reputation": 2075, "user_id": 8773560, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4263c95e332a7fe29736c8d526d35289?s=128&d=identicon&r=PG", "display_name": "Constantin N.", "link": "https://stackoverflow.com/users/8773560/constantin-n"}, "is_accepted": false, "score": 0, "last_activity_date": 1566232248, "creation_date": 1566232248, "answer_id": 57560690, "question_id": 57560023, "link": "https://stackoverflow.com/questions/57560023/how-to-position-yourself-at-the-end-of-a-row/57560690#57560690", "title": "How to position yourself at the end of a Row?", "body": "<p>Please use this code. You have to use MainAxisAlignment.spaceBetween to set space between items depending on their sizes. Items will be strech to the  start and the end of the Row.</p>\n\n<pre><code>Row(\n  mainAxisAlignment:MainAxisAlignment.spaceBetween,\n  children: &lt;widget&gt;[\n  Row(\n     children: &lt;Widget&gt;[\n      IconButton(\n      icon: Icon(Icons.menu, color: Colors.black54),\n           onPressed: () {\n           Scaffold.of(context).showSnackBar(SnackBar(\n           content: Text(\"Menu\"),));\n            print(\"Menu\");\n                      }),\n           Text(widget.text,\n                      style: TextStyle(\n                          fontFamily: \"Roboto\",\n                          color: Colors.black26,\n                          fontSize: 16.0)),]),\n                  Row(\n                    mainAxisAlignment: MainAxisAlignment.end,\n                    children: &lt;Widget&gt;[\n                      Icon(MdiIcons.filterOutline, color: Colors.black54)\n                    ],\n                  ),\n                ],\n              ),\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10408704"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566232248, "creation_date": 1566229467, "question_id": 57560023, "link": "https://stackoverflow.com/questions/57560023/how-to-position-yourself-at-the-end-of-a-row", "title": "How to position yourself at the end of a Row?", "body": "<p>I am doing the search bar and I want to put the filter icon at the end of the row. I try it with <code>MainAxisAlignment.end</code> but it is not positioned.</p>\n\n<p><a href=\"https://i.stack.imgur.com/fKkHK.png\" rel=\"nofollow noreferrer\">SearchBar</a></p>\n\n<pre><code>return InkWell(\n      onTap: () {\n        Scaffold.of(context).showSnackBar(SnackBar(\n          content: Text(\"Search\"),\n        ));\n        print(\"Search\");\n      },\n      child: Container(\n        margin: EdgeInsets.only(left: 24.0, right: 24.0, top: 16.0),\n        height: widget.height,\n        decoration: BoxDecoration(\n            borderRadius: BorderRadius.circular(6.0),\n            color: Colors.white,\n            boxShadow: &lt;BoxShadow&gt;[\n              BoxShadow(color: Colors.black12, blurRadius: 8.0)\n            ]),\n        child: Container(\n          margin: EdgeInsets.only(left: 6.0, right: 6.0),\n          child: Row(\n            children: &lt;Widget&gt;[\n              IconButton(\n                  icon: Icon(Icons.menu, color: Colors.black54),\n                  onPressed: () {\n                    Scaffold.of(context).showSnackBar(SnackBar(\n                      content: Text(\"Menu\"),\n                    ));\n                    print(\"Menu\");\n                  }),\n              Text(widget.text,\n                  style: TextStyle(\n                      fontFamily: \"Roboto\",\n                      color: Colors.black26,\n                      fontSize: 16.0)),\n              Row(\n                mainAxisAlignment: MainAxisAlignment.end,\n                children: &lt;Widget&gt;[\n                  Icon(MdiIcons.filterOutline, color: Colors.black54)\n                ],\n              ),\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 1063, "user_id": 4795386, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t5KML.png?s=128&g=1", "display_name": "nitishk72", "link": "https://stackoverflow.com/users/4795386/nitishk72"}, "edited": false, "score": 0, "creation_date": 1566229964, "post_id": 57559823, "comment_id": 101581952, "body": "You can&#39;t call the async function inside the stream"}, {"owner": {"reputation": 858, "user_id": 4571656, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WaAO0.jpg?s=128&g=1", "display_name": "Alex Meuer", "link": "https://stackoverflow.com/users/4571656/alex-meuer"}, "edited": false, "score": 0, "creation_date": 1566232370, "post_id": 57559823, "comment_id": 101583100, "body": "Have the function return a Future and be non-async. Use the Future in the next part of the stream chain."}, {"owner": {"reputation": 6379, "user_id": 316994, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a84816cfbfd0e5796e9e7bcf5e37e672?s=128&d=identicon&r=PG", "display_name": "fvisticot", "link": "https://stackoverflow.com/users/316994/fvisticot"}, "edited": false, "score": 0, "creation_date": 1577211717, "post_id": 57559823, "comment_id": 105123012, "body": "Can you please provide a sample code ?"}], "answers": [{"tags": [], "owner": {"reputation": 1841, "user_id": 3340992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W1ekW.jpg?s=128&g=1", "display_name": "t.animal", "link": "https://stackoverflow.com/users/3340992/t-animal"}, "is_accepted": false, "score": 0, "last_activity_date": 1594722380, "last_edit_date": 1594722380, "creation_date": 1594385030, "answer_id": 62834600, "question_id": 57559823, "link": "https://stackoverflow.com/questions/57559823/how-to-call-async-functions-in-stream-periodic/62834600#62834600", "title": "How to call async functions in Stream.periodic", "body": "<p>I'm not too familiar with dart streams yet, but you should be able to simulate what you're trying to achieve like this:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>final controller = StreamController&lt;String&gt;();\n\nTimer timer;\ncontroller.onListen = () {\n  timer = Timer.periodic(\n    _pollingInterval,\n    (timer) =&gt; _connectionRepository.checkConnection().then((data){ \n       if(!controller.isClosed){\n         controller.add(data);\n       }\n    }),\n  );\n};\ncontroller.onCancel = () {\n  timer?.cancel();\n}\n\nreturn controller.stream;\n</code></pre>\n<p>The stream does not support pause and continue, though. If you want that you'd need to override the corresponding callbacks on the controller and start/stop the timer there.</p>\n<p>Also, depending on the timing of <code>checkConnection</code> this can result in events in the stream being very different to <code>_pollingInterval</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 6353826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6v8SX.jpg?s=128&g=1", "display_name": "MDemetrio", "link": "https://stackoverflow.com/users/6353826/mdemetrio"}, "is_accepted": false, "score": 1, "last_activity_date": 1595229096, "creation_date": 1595229096, "answer_id": 62990264, "question_id": 57559823, "link": "https://stackoverflow.com/questions/57559823/how-to-call-async-functions-in-stream-periodic/62990264#62990264", "title": "How to call async functions in Stream.periodic", "body": "<p>Use asyncMap:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>  Stream&lt;String&gt; checkConnectionStream() async* {\n    yield* Stream.periodic(Duration(seconds: _pollingInterval), (_) {\n      return await _connectionRepository.checkConnection();\n    }).asyncMap((event) async =&gt; await event);\n  }\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5637537, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wxdjhf0znMk/AAAAAAAAAAI/AAAAAAAAACI/5e2CNuazLd0/photo.jpg?sz=128", "display_name": "Cedric Sarigumba", "link": "https://stackoverflow.com/users/5637537/cedric-sarigumba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 662, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1595229096, "creation_date": 1566228734, "question_id": 57559823, "link": "https://stackoverflow.com/questions/57559823/how-to-call-async-functions-in-stream-periodic", "title": "How to call async functions in Stream.periodic", "body": "<p>Is it possible to call an async function inside dart:Stream.periodic function?</p>\n\n<p>I tried to wrap my async function but it is not working, please see code below.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Stream.periodic(Duration(seconds: _pollingInterval), _checkConnectivity)\n\nString _checkConnectivity(int x) async {\n\nreturn await _connectionRepository.checkConnection();\n\n}\n</code></pre>\n"}, {"tags": ["flutter", "dart", "sqflite"], "answers": [{"comments": [{"owner": {"reputation": 108, "user_id": 9201929, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ct18a.jpg?s=128&g=1", "display_name": "Mo&#39;men L-Ashmawy", "link": "https://stackoverflow.com/users/9201929/momen-l-ashmawy"}, "edited": false, "score": 0, "creation_date": 1566254549, "post_id": 57560030, "comment_id": 101591042, "body": "that is my product model and didn&#39;t work <code>class Product { int id; int count; Product( this.id, this.count,); Product.map(dynamic obj) { this.id = obj[&quot;id&quot;]; this.count = obj[&quot;count&quot;];} int get _id =&gt; id; int get _count =&gt; count; Map&lt;String, dynamic&gt; toMap() { var map = new Map&lt;String, dynamic&gt;(); map[&quot;count&quot;] = _count; if (_id != null) { map[&quot;id&quot;] = id;} return map; } void setProductId(int id) {this.id = id;} Product.fromMap(Map&lt;String, dynamic&gt; map) {this.id = map[&quot;id&quot;]; this.count = map[&quot;count&quot;]; }}</code>"}, {"owner": {"reputation": 86, "user_id": 9424268, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Clarke Swiedler", "link": "https://stackoverflow.com/users/9424268/clarke-swiedler"}, "reply_to_user": {"reputation": 108, "user_id": 9201929, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ct18a.jpg?s=128&g=1", "display_name": "Mo&#39;men L-Ashmawy", "link": "https://stackoverflow.com/users/9201929/momen-l-ashmawy"}, "edited": false, "score": 0, "creation_date": 1566309930, "post_id": 57560030, "comment_id": 101611172, "body": "What kind of error did you get? If you want the data to match the expected result in your initial post, you will have to wrap the <code>Map</code> with an array, and if you want it to work for sending to an API you will have to <code>jsonEncode</code> the whole thing."}], "tags": [], "owner": {"reputation": 86, "user_id": 9424268, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Clarke Swiedler", "link": "https://stackoverflow.com/users/9424268/clarke-swiedler"}, "is_accepted": false, "score": 0, "last_activity_date": 1566229487, "creation_date": 1566229487, "answer_id": 57560030, "question_id": 57559811, "link": "https://stackoverflow.com/questions/57559811/i-need-to-send-some-data-stored-in-database-to-api/57560030#57560030", "title": "I need to send some data stored in database to API?", "body": "<p>Just add a <code>toMap</code> method in your data classes. For example:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class DataClass {\n  int id;\n  String message;\n\n  Map&lt;String, dynamic&gt; toMap() {\n    return {\n      'id': id,\n      'message': message\n    }\n  }\n\n}\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4011, "user_id": 563979, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/20OBY.png?s=128&g=1", "display_name": "alextk", "link": "https://stackoverflow.com/users/563979/alextk"}, "is_accepted": false, "score": 0, "last_activity_date": 1566296274, "creation_date": 1566296274, "answer_id": 57571448, "question_id": 57559811, "link": "https://stackoverflow.com/questions/57559811/i-need-to-send-some-data-stored-in-database-to-api/57571448#57571448", "title": "I need to send some data stored in database to API?", "body": "<p>By API, I guess you mean a Web API. If it is expecting json (if that is what you mean by \"\"), you should <code>jsonEncode</code> your data (list or map)</p>\n"}, {"tags": [], "owner": {"reputation": 1560, "user_id": 3988946, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002665911021/picture?type=large", "display_name": "Arun R. Prajapati", "link": "https://stackoverflow.com/users/3988946/arun-r-prajapati"}, "is_accepted": true, "score": 1, "last_activity_date": 1566297478, "creation_date": 1566297478, "answer_id": 57571787, "question_id": 57559811, "link": "https://stackoverflow.com/questions/57559811/i-need-to-send-some-data-stored-in-database-to-api/57571787#57571787", "title": "I need to send some data stored in database to API?", "body": "<p>Brother as per my Knowledge the Data Stored in DB is not in Json String so First of all what you need to do is </p>\n\n<ol>\n<li>Save the Data in Correct format use Model class to Save data as String by using \"jsonEncode(Your Products List)\"</li>\n</ol>\n\n<p>Consider User as Model class </p>\n\n<pre><code>  class User {\n  final String name;\n  final String email;\n\n  User(this.name, this.email);\n\n  User.fromJson(Map&lt;String, dynamic&gt; json)\n      : name = json['name'],\n        email = json['email'];\n\n  Map&lt;String, dynamic&gt; toJson() =&gt;\n    {\n      'name': name,\n      'email': email,\n    };\n}\n</code></pre>\n\n<p>whenever you save data to DB you should use</p>\n\n<pre><code>String json = jsonEncode(user);\n\nString json = jsonEncode(List&lt;user&gt;);\n</code></pre>\n\n<p>by this you will get the \" in your DB.</p>\n\n<p>to retrive the Data back in to json just pass the Stored String here</p>\n\n<pre><code>List&lt;Users&gt; MyList = (StringFromDB as List)\n      .map((data) =&gt; User.fromJson(data))\n      .toList();\n</code></pre>\n\n<p>this will solve your Problem</p>\n"}, {"tags": [], "owner": {"reputation": 47, "user_id": 4687181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49a67691b7c19e0dec0036352f8f24f8?s=128&d=identicon&r=PG&f=1", "display_name": "SHK", "link": "https://stackoverflow.com/users/4687181/shk"}, "is_accepted": false, "score": 0, "last_activity_date": 1566297966, "creation_date": 1566297966, "answer_id": 57571906, "question_id": 57559811, "link": "https://stackoverflow.com/questions/57559811/i-need-to-send-some-data-stored-in-database-to-api/57571906#57571906", "title": "I need to send some data stored in database to API?", "body": "<p>From what I see you just need to make json out of your object. Add toJson in your Product class then just call it.</p>\n\n<pre><code> int res = await dbProduct.insert(\"Product\", product.toMap());\n</code></pre>\n\n<p>So like this:</p>\n\n<pre><code> int res = await dbProduct.insert(\"Product\", product.toJson());\n</code></pre>\n\n<p>This is the serialization <a href=\"https://flutter.dev/docs/development/data-and-backend/json\" rel=\"nofollow noreferrer\">doc</a> is always helpful in such a case.</p>\n"}], "owner": {"reputation": 108, "user_id": 9201929, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ct18a.jpg?s=128&g=1", "display_name": "Mo&#39;men L-Ashmawy", "link": "https://stackoverflow.com/users/9201929/momen-l-ashmawy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 57571787, "answer_count": 4, "score": 0, "last_activity_date": 1566297966, "creation_date": 1566228684, "question_id": 57559811, "link": "https://stackoverflow.com/questions/57559811/i-need-to-send-some-data-stored-in-database-to-api", "title": "I need to send some data stored in database to API?", "body": "<p>That's my data stored in database </p>\n\n<p>[{count: 3, minced: 0, category_id: 3, size_id: 63, chops_id: null, cookie_id: null, choole: null, notes: }, {count: 4, minced: 0, category_id: 3, size_id: 62, chops_id: null, cookie_id: null, choole: null, notes: }, {count: 2, minced: 2, category_id: 2, size_id: 49, chops_id: 8, cookie_id: 8, choole: 2, notes: bzbznzjz}]</p>\n\n<p>and that what I need to send to API </p>\n\n<p>[{\"size_id\":59,\"count\":2 ,\"category_id\" :2,\"chops_id\":null,\"cookie_id\":null,\"choole\":null,\"notes\":\"jgg \",\"minced\": 0},{\"size_id\":63,\"count\":3 ,\"category_id\" :2,\"chops_id\":4,\"cookie_id\":8,\"choole\":2,\"notes\":\"tvv\",\"minced\": 1}]</p>\n\n<p>I need to add this \"\" to my keys how can I do this?\nand that's my code</p>\n\n<pre><code>import 'dart:async';\nimport 'dart:io';\n\nimport 'package:path/path.dart';\nimport 'package:path_provider/path_provider.dart';\nimport 'package:sqflite/sqflite.dart';\n\nimport 'Models/product.dart';\n\nclass DatabaseHelper {\n  Product _product;\n  static final DatabaseHelper _instance = new DatabaseHelper.internal();\n\n  factory DatabaseHelper() =&gt; _instance;\n\n  static Database _db;\n\n  Future&lt;Database&gt; get db async {\n    if (_db != null) return _db;\n    _db = await initDb();\n    return _db;\n  }\n\n  DatabaseHelper.internal();\n\n  initDb() async {\n   Directory documentsDirectory = await getApplicationDocumentsDirectory();\n    String path = join(documentsDirectory.path, \"main.db\");\n    var theDb = await openDatabase(path, version: 1, onCreate: _onCreate);\n    return theDb;\n  }\n\n  void _onCreate(Database db, int version) async {\n    await db.execute(\n        \"CREATE TABLE Product(id INTEGER PRIMARY KEY, count INTEGER, minced INTEGER, rate DOUBLE, category_id INTEGER, size_id INTEGER, chops_id INTEGER, cookie_id INTEGER, choole INTEGER, notes TEXT, name TEXT, image TEXT, size_name TEXT, category_name TEXT)\");  }\n\n  Future&lt;int&gt; saveProduct(Product product) async {\n    var dbProduct = await db;\n    int res = await dbProduct.insert(\"Product\", product.toMap());\n    print(product.toMap());\n    return res;\n  }\n\n    Future&lt;List&gt; getAllProduct() async {\n      var dbProduct = await db;\n      var result = await dbProduct.rawQuery(\"SELECT * FROM Product\");\n      return result.toList();\n    }\n  Future&lt;List&gt; getCartProduct() async {\n    var dbProduct = await db;\n    var result = await dbProduct.rawQuery(\"SELECT count, minced, category_id, size_id, chops_id, cookie_id, choole, notes FROM Product\");\n    return result;\n  }\n\n\n  Future&lt;int&gt; getCount() async {\n      var dbProduct = await db;\n      return Sqflite.firstIntValue(\n          await dbProduct.rawQuery(\"SELECT COUNT(*) FROM Product\"));\n    }\n\n\n    Future&lt;Product&gt; getProduct(int id) async {\n      var dbProduct = await db;\n\n      var result = await dbProduct.rawQuery(\"SELECT * FROM Product WHERE id = $id\");\n      if (result.length == 0) return null;\n      return new Product.fromMap(result.first);\n    }\n\n\n  Future&lt;int&gt; deleteProducts(Product product) async {\n    var dbProduct = await db;\n\n    int res = await dbProduct\n        .rawDelete('DELETE FROM Product WHERE id = ?', [product.id]);\n    return res;\n  }\n\n   update(Product product) async {\n    var dbProduct = await db;\n\n    int res = await dbProduct.update(\"Product\", product.toMap(),\n        where: \"id = ?\", whereArgs: &lt;int&gt;[product.id]);\n\n    return res &gt; 0 ? true : false;\n  }\n}\n\n</code></pre>\n"}, {"tags": ["firebase", "flutter", "dart", "google-cloud-firestore", "flutter-provider"], "comments": [{"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1566229309, "post_id": 57559778, "comment_id": 101581661, "body": "This snippet is not enough to reproduce the issue. It could be multiple things, like related to navigation or listeners not properly disposed."}, {"owner": {"reputation": 1313, "user_id": 10654377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f9e82bf491680b7eea3b43a7c5d002?s=128&d=identicon&r=PG&f=1", "display_name": "FlutterFirebase", "link": "https://stackoverflow.com/users/10654377/flutterfirebase"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1566229895, "post_id": 57559778, "comment_id": 101581917, "body": "@R&#233;miRousselet Not issue with navigation because it still throw if I remove navigator. I am not call <code>dispose()</code> anywhere. <code>provider</code> handle <code>dispose()</code> automatic right?"}, {"owner": {"reputation": 1313, "user_id": 10654377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f9e82bf491680b7eea3b43a7c5d002?s=128&d=identicon&r=PG&f=1", "display_name": "FlutterFirebase", "link": "https://stackoverflow.com/users/10654377/flutterfirebase"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1566232136, "post_id": 57559778, "comment_id": 101583004, "body": "@R&#233;miRousselet I have fix issue by remove function from <code>build</code> method. Why this fix issue?"}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1566232212, "post_id": 57559778, "comment_id": 101583031, "body": "Ah, you&#39;re calling <code>fetchData</code> in the build method?"}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1566232257, "post_id": 57559778, "comment_id": 101583050, "body": "That&#39;s pretty bad. See <a href=\"https://stackoverflow.com/questions/52249578/how-to-deal-with-unwanted-widget-build\" title=\"how to deal with unwanted widget build\">stackoverflow.com/questions/52249578/&hellip;</a>"}, {"owner": {"reputation": 1313, "user_id": 10654377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f9e82bf491680b7eea3b43a7c5d002?s=128&d=identicon&r=PG&f=1", "display_name": "FlutterFirebase", "link": "https://stackoverflow.com/users/10654377/flutterfirebase"}, "reply_to_user": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1566232410, "post_id": 57559778, "comment_id": 101583115, "body": "@R&#233;miRousselet Thanks! But why this throw error with Model? I was expect different error for this"}, {"owner": {"reputation": 3042, "user_id": 8342742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EMVCJ.jpg?s=128&g=1", "display_name": "M\u03b1\u03c0\u03bcQ\u03bc\u03b1\u03c0k\u03b3V\u03c0.0", "link": "https://stackoverflow.com/users/8342742/m%ce%b1%cf%80%ce%bcq%ce%bc%ce%b1%cf%80k%ce%b3v%cf%80-0"}, "edited": false, "score": 0, "creation_date": 1607034121, "post_id": 57559778, "comment_id": 115153592, "body": "I agree that the snippet you&#39;ve provided is not enough for the community to clearly see whats wrong. Since you&#39;ve mentioned that when <code>fetchData()</code> was removed from the build method, it could have something in it that was causing the error. Could you provide the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">a minimal, complete and verifiable example</a> of your code?"}], "owner": {"reputation": 1313, "user_id": 10654377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f9e82bf491680b7eea3b43a7c5d002?s=128&d=identicon&r=PG&f=1", "display_name": "FlutterFirebase", "link": "https://stackoverflow.com/users/10654377/flutterfirebase"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3419, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566232095, "creation_date": 1566228555, "last_edit_date": 1566232095, "question_id": 57559778, "link": "https://stackoverflow.com/questions/57559778/changenotifier-dispose-model-too-early", "title": "ChangeNotifier dispose model too early", "body": "<p>I am use Firestore transaction for avoid race condition of add more than 1 user to chat. If transaction timeout, I show error dialog. </p>\n\n<p>But when I move this logic to <code>Model2</code> with <code>ChangeNotifier</code> (and <code>Provider</code>) it now show error:</p>\n\n<blockquote>\n  <p>Unhandled Exception: A Model2 was used after being disposed. Once you\n  have called dispose() on a Model2, it can no longer be used.</p>\n</blockquote>\n\n<p>(No issue with Firestore transaction. This is expected): </p>\n\n<blockquote>\n  <p>PlatformException(9, Transaction failed all retries.: Every document\n  read in a transaction must also be written in that transaction., null)</p>\n</blockquote>\n\n<p>It seem <code>ChangeNotifier</code> is call <code>dispose()</code> too early? </p>\n\n<p>This mean it not allow me to handle error of race condition because it is already dispose.</p>\n\n<p><strong>Model:</strong></p>\n\n<pre><code>class Model2 extends ChangeNotifier {\n\n...\n\nbool userAdded;\n\n      Future&lt;bool&gt; addUser() async {\n\n    try {\n      await Firestore.instance.runTransaction((transaction) async {\n        DocumentSnapshot chatRoomDocSnapshot =\n            await transaction.get(chatRoomDocRef);\n        bool userInChat = await chatRoomDocSnapshot[\u2018userInChat'];\n\n        if (userInChat == false) {\n            await transaction.update(chatRoomDocSnapshot.reference, {\n              \u2018userInChat': true,\n            });\n        }\n      });\n\n    await chatUserRef.setData({\n      \u2018User\u2019: user,\n    });\n\n      userAdded = true;\nnotifyListeners();\n\n\n\n    } catch (e) {\nprint(e);\n      userAdded = false;\nnotifyListeners();\n\n    }\n    return userAdded;\n      }\n</code></pre>\n\n<p><strong>Provider</strong> (in stateful widget):</p>\n\n<pre><code>fetchData();\n\nreturn ChangeNotifierProxyProvider&lt;Model1, Model2&gt;(\ninitialBuilder: (_) =&gt; Model2(),\n  builder: (_, model1, model2) =&gt; model2\n    ..string = model1.string,\n),\n  child: Consumer&lt;Model2&gt;(\n    builder: (context, model2, _) =&gt;\n\n...\nawait model2.addUser();\n...\n</code></pre>\n\n<p>Anyone know solution?</p>\n\n<p>Thanks!</p>\n\n<p>Update:</p>\n\n<p>Issue is not throw if I remove <code>fetchData();</code> from <code>build</code> method before <code>ChangeNotifierProxyProvider</code> . </p>\n\n<p>But why is this fix the issue?</p>\n"}, {"tags": ["json", "firebase", "flutter", "dart", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 29006, "user_id": 2851937, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WSTnU.png?s=128&g=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/2851937/jay"}, "edited": false, "score": 0, "creation_date": 1566243650, "post_id": 57559392, "comment_id": 101587622, "body": "If you are getting json data, why not break it down into independent json style documents. Perhaps even put each element into an array. Shouldn&#39;t be too much of an issue to iterate over 600 elements and do something separate with them instead of just storing them all in one node (field)."}], "answers": [{"comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1594487642, "post_id": 57559474, "comment_id": 111146148, "body": "Can I help you with other information? If you think that my answer helped you, please consider accepting it by clicking the checkmark (\u2714\ufe0f) on the left side under the vote arrows. Should change the color in green. I&#39;d appreciate it. Thanks!"}], "tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": false, "score": 3, "last_activity_date": 1566227302, "creation_date": 1566227302, "answer_id": 57559474, "question_id": 57559392, "link": "https://stackoverflow.com/questions/57559392/how-to-save-very-long-string-into-firebase-firestore-database/57559474#57559474", "title": "How to save very long string into firebase firestore database?", "body": "<p>There is no way you can add into a single document data above that limitation. So there are some limits when it comes to how much data you can put into a single document. According to the official documentation regarding <a href=\"https://firebase.google.com/docs/firestore/quotas\" rel=\"nofollow noreferrer\">usage and limits</a>:</p>\n\n<blockquote>\n  <p>Maximum size for a document: 1 MiB (1,048,576 bytes)</p>\n</blockquote>\n\n<p>As you can see, you are limited to 1 MiB total of data in a single document. You can use alternative solution for storing larger amounts of data. You should try using <a href=\"https://firebase.google.com/docs/storage\" rel=\"nofollow noreferrer\">Firebase Storage</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "is_accepted": false, "score": 1, "last_activity_date": 1566227315, "creation_date": 1566227315, "answer_id": 57559480, "question_id": 57559392, "link": "https://stackoverflow.com/questions/57559392/how-to-save-very-long-string-into-firebase-firestore-database/57559480#57559480", "title": "How to save very long string into firebase firestore database?", "body": "<p>The maximum size of a document in Cloud Firestore is 1MB. If you want to store more data, consider either splitting it over more documents or (more likely in this case) storing it in Cloud Storage (for which a Flutter SDK also exists).</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 13661215, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TOLJCN1APFE/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucky9fdnOUYcH8_OmyzgiX4P5cj5Rg/photo.jpg?sz=128", "display_name": "Komolafe Ezekiel dare", "link": "https://stackoverflow.com/users/13661215/komolafe-ezekiel-dare"}, "is_accepted": false, "score": 0, "last_activity_date": 1598080647, "creation_date": 1598080647, "answer_id": 63533565, "question_id": 57559392, "link": "https://stackoverflow.com/questions/57559392/how-to-save-very-long-string-into-firebase-firestore-database/63533565#63533565", "title": "How to save very long string into firebase firestore database?", "body": "<p>Just save them separately to firestore and when you want to use them in your app, you can use string operation to join the two seperate strings you saved to make it the original long string</p>\n"}], "owner": {"reputation": 55, "user_id": 10228207, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DGDOWPaWyog/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oXNNQf0vrdKm2-b_HV5WU-I9woKg/mo/photo.jpg?sz=128", "display_name": "ALI HUSSEIN", "link": "https://stackoverflow.com/users/10228207/ali-hussein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1144, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1598080647, "creation_date": 1566226987, "last_edit_date": 1566227686, "question_id": 57559392, "link": "https://stackoverflow.com/questions/57559392/how-to-save-very-long-string-into-firebase-firestore-database", "title": "How to save very long string into firebase firestore database?", "body": "<p>I'm trying to insert very long string to firebase firestore\nand I receive this error message</p>\n\n<pre><code>Exception has occurred.\nPlatformException (PlatformException(Error performing setData,\nINVALID_ARGUMENT: The value of property \"json\" is longer than 1048487 bytes., null))\n</code></pre>\n\n<p>my code is :</p>\n\n<pre><code>  Future&lt;void&gt; addREportToDB(String addedCount, String deletCount, String updatedCount, String json) {\n        // Map decodedCloud = jsonDecode(json);\n    return Firestore.instance.collection(\"reports\").add({\n      \"dateCreate\": new DateTime.now(),\n      \"addedCount\": addedCount,\n      \"deletCount\": deletCount,\n      \"updatedCount\": updatedCount,\n      \"json\": json,\n      // \"json\":decodedCloud,\n    }).then((doc) {\n      print(doc.documentID.toString());\n    });\n  }\n</code></pre>\n\n<p>and the (<strong><em>json</em></strong>)variable This is a text I get from another API and this text contains the data of more than 600 employees in the form of JSON string\nand all I need to save this as it</p>\n\n<p>any help will be appreciated</p>\n"}, {"tags": ["flutter", "dart", "flutter-layout"], "comments": [{"owner": {"reputation": 1624, "user_id": 1475619, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eba04dc23ab5d3ad9ddaf71f9fa3a903?s=128&d=identicon&r=PG", "display_name": "Stephopolis", "link": "https://stackoverflow.com/users/1475619/stephopolis"}, "edited": false, "score": 0, "creation_date": 1566225373, "post_id": 57558839, "comment_id": 101579664, "body": "For an explanation of asking a better question: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}, {"owner": {"reputation": 3482, "user_id": 6805835, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-W5N92YOu7L4/AAAAAAAAAAI/AAAAAAAAAAs/Dn1WW85WosM/photo.jpg?sz=128", "display_name": "Kalpesh Kundanani", "link": "https://stackoverflow.com/users/6805835/kalpesh-kundanani"}, "edited": false, "score": 2, "creation_date": 1566227125, "post_id": 57558839, "comment_id": 101580603, "body": "The code snippet is not enough, can you post the complete code of your screen."}, {"owner": {"reputation": 45, "user_id": 11916208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91435e920a1cdf390e0cdbd64ba2b5a1?s=128&d=identicon&r=PG&f=1", "display_name": "Ramzi", "link": "https://stackoverflow.com/users/11916208/ramzi"}, "edited": false, "score": 0, "creation_date": 1566228019, "post_id": 57558839, "comment_id": 101581042, "body": "The problem is here"}, {"owner": {"reputation": 3431, "user_id": 10409567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F9li.jpg?s=128&g=1", "display_name": "griffins", "link": "https://stackoverflow.com/users/10409567/griffins"}, "edited": false, "score": 0, "creation_date": 1566287887, "post_id": 57558839, "comment_id": 101598803, "body": "are you using any padding...also kindly add more code"}], "answers": [{"tags": [], "owner": {"reputation": 1890, "user_id": 2362966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8792270fcc92400b12d02f8a4cc00e89?s=128&d=identicon&r=PG", "display_name": "ejabu", "link": "https://stackoverflow.com/users/2362966/ejabu"}, "is_accepted": true, "score": 1, "last_activity_date": 1566353435, "creation_date": 1566353435, "answer_id": 57583572, "question_id": 57558839, "link": "https://stackoverflow.com/questions/57558839/blank-space-between-listview-and-bottomnavigationbar/57583572#57583572", "title": "blank space between ListView and BottomNavigationBar", "body": "<h2>1. Add fit FlexFit.tight parameter</h2>\n\n<p>we simply add fit parameter<code>FlexFit.tight</code> because by default, flexible will set\nfit as <code>FlexFit.loose</code>.</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>child: Column(\n  children: &lt;Widget&gt;[\n    Flexible(\n      flex: 1,\n      fit: FlexFit.tight, // add this line\n      child: _adher(),\n    ),\n    Flexible(\n      flex: 2,\n      fit: FlexFit.tight, // add this line\n      child: DrugsListView(),\n    ),\n  ],\n),\n</code></pre>\n\n<h2>2. Demo</h2>\n\n<p><a href=\"https://i.stack.imgur.com/TMj6B.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TMj6B.gif\" alt=\"Demo\"></a></p>\n\n<h2>3. For full Repo</h2>\n\n<p>You may look into this repo and build it locally. <a href=\"https://github.com/ejabu/flutter_tricky_layout/blob/master/lib/h_screen/float_bottom_bar.dart\" rel=\"nofollow noreferrer\">Github</a> </p>\n"}, {"tags": [], "owner": {"reputation": 1273, "user_id": 9413879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zk193.jpg?s=128&g=1", "display_name": "Adlan Arif Zakaria", "link": "https://stackoverflow.com/users/9413879/adlan-arif-zakaria"}, "is_accepted": false, "score": 0, "last_activity_date": 1566372734, "creation_date": 1566372734, "answer_id": 57586603, "question_id": 57558839, "link": "https://stackoverflow.com/questions/57558839/blank-space-between-listview-and-bottomnavigationbar/57586603#57586603", "title": "blank space between ListView and BottomNavigationBar", "body": "<p>Just change your <code>Flexible()</code> to <code>Expanded()</code> widget instead.</p>\n\n<pre><code>child: Column(\n  children: &lt;Widget&gt;[\n    Expanded(\n      flex: 1,\n      child: _adher(),\n    ),\n    Expanded(\n      flex: 2,\n      child: DrugsListView(),\n    ),\n  ],\n),\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 11916208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91435e920a1cdf390e0cdbd64ba2b5a1?s=128&d=identicon&r=PG&f=1", "display_name": "Ramzi", "link": "https://stackoverflow.com/users/11916208/ramzi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 57583572, "answer_count": 2, "score": 0, "last_activity_date": 1566372734, "creation_date": 1566225094, "last_edit_date": 1566371183, "question_id": 57558839, "link": "https://stackoverflow.com/questions/57558839/blank-space-between-listview-and-bottomnavigationbar", "title": "blank space between ListView and BottomNavigationBar", "body": "<p>I have a blank space between <code>BottomNavigationBar</code> and <code>ListView</code> which I want to get rid of.</p>\n\n<p>I tried using <code>Expanded</code> instead of <code>Flexible</code>, but in the case of <code>Expanded</code> I can't control the height proportion between Widget produced by _adher() and DrugsListView()</p>\n\n<p><a href=\"https://i.stack.imgur.com/sJ54p.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sJ54p.jpg\" alt=\"enter image description here\"></a></p>\n\n<pre><code>new Container(\n       child: new Column(\n         children: &lt;Widget&gt;[\n           Flexible(\n             flex: 1,\n             child: _adher(),\n           ),\n           Flexible(\n             flex: 2,\n             child:DrugsListView(),\n           ),\n         ],\n       ),\n     ),\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 1890, "user_id": 2362966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8792270fcc92400b12d02f8a4cc00e89?s=128&d=identicon&r=PG", "display_name": "ejabu", "link": "https://stackoverflow.com/users/2362966/ejabu"}, "is_accepted": true, "score": 0, "last_activity_date": 1566227309, "last_edit_date": 1566227309, "creation_date": 1566225635, "answer_id": 57558996, "question_id": 57558729, "link": "https://stackoverflow.com/questions/57558729/navigation-to-a-class-with-arguments/57558996#57558996", "title": "Navigation to a Class with arguments", "body": "<p><strong>Short answer</strong> </p>\n\n<p>changed this :</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Products(this.products); // this is called *positional* parameters\n</code></pre>\n\n<p>to this :</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class MyApp extends StatelessWidget { \n  Widget build(ct) { \n    return MaterialApp( \n      theme: ThemeData( \n        brightness: Brightness.light, \n        accentColor: Colors.red, \n        iconTheme: IconThemeData(color: Colors.pinkAccent), \n      ), \n      title: 'kAPP_NAME', \n      home: Home(),\n      routes: { \n        Products.routeName: (context) =&gt; Products() \n      }, \n    ); \n  } \n}\n\nclass Products extends StatelessWidget { \n  static const routeName = '/products';\n\n  final List products;\n\n  Products({this.products = const []}); // this is called named parameters with default value\n\n}\n\n</code></pre>\n\n<p>As <a href=\"https://dart.dev/guides/language/language-tour#using-constructors\" rel=\"nofollow noreferrer\">Dart docs</a> said :</p>\n\n<blockquote>\n  <p>Although named parameters are a kind of optional parameter, you can annotate them with @required to indicate that the parameter is mandatory \u2014 that users must provide a value for the parameter.</p>\n</blockquote>\n\n<h2>Long Answer</h2>\n\n<h3>A. Default</h3>\n\n<p><strong>By Default, Positional Parameters are required.</strong></p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class Person(){\n  String name;\n  Person(this.name)\n}\n\nPerson(\"John\") // ok\nPerson() // error\n</code></pre>\n\n<p><strong>By Default, Named Parameters are optional.</strong></p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class Person(){\n  String name;\n  Person({this.name})\n}\n\n\nPerson(name: \"John\") // ok\nPerson(\"John\") // error\nPerson() // ok\n</code></pre>\n\n<h3>B. Customized</h3>\n\n<p><strong>Customized Positional Parameters to be optional.</strong></p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class Person(){\n  String name;\n  int age;\n  Person(this.name, [this.age])\n}\n\nPerson(\"John\") // ok\nPerson(\"John\", 40) // ok\n</code></pre>\n\n<p><strong>Customized Named Parameters to be required.</strong></p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class Person(){\n  String name;\n  int age;\n  Person({this.name, @required this.age})\n}\n\n\nPerson(name: \"John\", age: 20) // ok\nPerson(name: \"John\") // error\nPerson() // error\n</code></pre>\n\n<h3>C. Positional and Named combined</h3>\n\n<p>But in flutter, we have to understand clearly about combination of positional\nand named parameters. </p>\n\n<p>This code below demonstrates clone of Flutter's <code>Text Widget,</code> </p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class Text(){\n  String name;\n  String fontFamily;\n  bool bold;\n  Text(this.name, {this.fontFamily, this.bold})\n}\n\nText(\"Flutter\") // ok\nText(\"Flutter\", fontFamily: \"Roboto\") // ok\nText(\"Flutter\", bold: true) // ok\nText(name: \"Flutter\", bold: true) // error\nText(bold: true) // error\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1890, "user_id": 2362966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8792270fcc92400b12d02f8a4cc00e89?s=128&d=identicon&r=PG", "display_name": "ejabu", "link": "https://stackoverflow.com/users/2362966/ejabu"}, "edited": false, "score": 1, "creation_date": 1566226496, "post_id": 57559054, "comment_id": 101580299, "body": "It is called Optional Positional Parameter. I edited my answer above in Long Answer section"}, {"owner": {"reputation": 3482, "user_id": 6805835, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-W5N92YOu7L4/AAAAAAAAAAI/AAAAAAAAAAs/Dn1WW85WosM/photo.jpg?sz=128", "display_name": "Kalpesh Kundanani", "link": "https://stackoverflow.com/users/6805835/kalpesh-kundanani"}, "reply_to_user": {"reputation": 349, "user_id": 11934987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/768d940ac09ae268182d47f730a542c0?s=128&d=identicon&r=PG&f=1", "display_name": "Kiro777", "link": "https://stackoverflow.com/users/11934987/kiro777"}, "edited": false, "score": 0, "creation_date": 1566226788, "post_id": 57559054, "comment_id": 101580456, "body": "If this answer was helpful then please accept it. @Kiro777"}, {"owner": {"reputation": 349, "user_id": 11934987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/768d940ac09ae268182d47f730a542c0?s=128&d=identicon&r=PG&f=1", "display_name": "Kiro777", "link": "https://stackoverflow.com/users/11934987/kiro777"}, "edited": false, "score": 0, "creation_date": 1566235837, "post_id": 57559054, "comment_id": 101584627, "body": "Hello,Many thanks for your answer. but im not sure if this solves my problem. You see, some parts of my code require an argument in Products(an argument), yet some parts do not (such as just calling the class to display the information I need). I tried your code, and now the sections that call on products(with an argument) do not work."}], "tags": [], "owner": {"reputation": 3482, "user_id": 6805835, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-W5N92YOu7L4/AAAAAAAAAAI/AAAAAAAAAAs/Dn1WW85WosM/photo.jpg?sz=128", "display_name": "Kalpesh Kundanani", "link": "https://stackoverflow.com/users/6805835/kalpesh-kundanani"}, "is_accepted": false, "score": 0, "last_activity_date": 1566225839, "creation_date": 1566225839, "answer_id": 57559054, "question_id": 57558729, "link": "https://stackoverflow.com/questions/57558729/navigation-to-a-class-with-arguments/57559054#57559054", "title": "Navigation to a Class with arguments", "body": "<p>You can make the Products.class's parameter as optional. \nChange this:</p>\n\n<pre><code>Product(this.products);\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>Product([this.product]);\n</code></pre>\n\n<p>Now if you instantiate this class without passing object for <code>products</code>, it will remain <code>null</code>.\nyou can also give default value to products like:</p>\n\n<pre><code>Product([this.products = []]);\n</code></pre>\n\n<p>and now instead of <code>null</code> it will be empty list every time you instantiate this class without passing any parameters.</p>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 349, "user_id": 11934987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/768d940ac09ae268182d47f730a542c0?s=128&d=identicon&r=PG&f=1", "display_name": "Kiro777", "link": "https://stackoverflow.com/users/11934987/kiro777"}, "is_accepted": false, "score": 0, "last_activity_date": 1566307084, "creation_date": 1566307084, "answer_id": 57574633, "question_id": 57558729, "link": "https://stackoverflow.com/questions/57558729/navigation-to-a-class-with-arguments/57574633#57574633", "title": "Navigation to a Class with arguments", "body": "<p>Before I give the answer, may I just thank Kalpesh and Ejabu for your answers? \nSo the problem was that we have a page (a Class) that has a constructor with arguments. Whether its a named constructor or not, its not important. The problem is that whenever this class is instantiated or referenced (in a routers {}) section, then the route expects the arguments to be given. Which is silly, because there's no arguments to give for the route. </p>\n\n<p>So what is the answer?</p>\n\n<p>Well, the answer, and please don't give me red arrows, but the answer is this:</p>\n\n<p>Just create a function within the class (or a method) with the parameters we need. We sometimes use the class arguments to pass values.. and that's one option. We can leave the class without any constructor arguments and simply create a function to take in the arguments we need. </p>\n"}], "owner": {"reputation": 349, "user_id": 11934987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/768d940ac09ae268182d47f730a542c0?s=128&d=identicon&r=PG&f=1", "display_name": "Kiro777", "link": "https://stackoverflow.com/users/11934987/kiro777"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "accepted_answer_id": 57558996, "answer_count": 3, "score": -1, "last_activity_date": 1566307084, "creation_date": 1566224702, "last_edit_date": 1566229724, "question_id": 57558729, "link": "https://stackoverflow.com/questions/57558729/navigation-to-a-class-with-arguments", "title": "Navigation to a Class with arguments", "body": "<p>How do I navigate to a page (a class) whose constructor takes in certain arguments. I obviously do not want to pass any arguments. I just wish to execute that class so the page is displayed.</p>\n\n<p>I've tried to present dummy arguments so my code compiles. But this cannot be right.</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>class MyApp extends StatelessWidget {\n  Widget build(ct) {\n    return MaterialApp(\n      theme: ThemeData(\n        brightness: Brightness.light,\n        accentColor: Colors.red,\n        iconTheme: IconThemeData(color: Colors.pinkAccent),\n      ),\n      title: kAPP_NAME,\n      home: Home(),\n      routes: {\n        Products.routeName: (context) =&gt; Products()\n      },\n    );\n  }\n}\n</code></pre>\n\n<p><strong>Products class</strong>:</p>\n\n<pre><code>\nclass Products extends StatelessWidget\n{\n  static const routeName = '/products';\n\n  final List&lt;String&gt; products;\n\n\n  Products(this.products);\n\n... \n...\n\n// widget building etc..\n}\n\n</code></pre>\n\n<p>as you can see, the line:</p>\n\n<pre><code>   Products.routeName: (context) =&gt; Products()\n</code></pre>\n\n<p>won't compile, naturally -> that's because Products takes in a single argument.</p>\n\n<p>What do I do?</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"comments": [{"owner": {"reputation": 469, "user_id": 11731883, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--D8yO6GH_Fw/AAAAAAAAAAI/AAAAAAAAAFM/kYKparArEtE/photo.jpg?sz=128", "display_name": "Alexey Subbotin", "link": "https://stackoverflow.com/users/11731883/alexey-subbotin"}, "edited": false, "score": 0, "creation_date": 1566225038, "post_id": 57558740, "comment_id": 101579493, "body": "Alright, that&#39;s great. Thank you. I&#39;ll avoid these redundant keywords from now on. But do these excess keywords anyhow affect the size of the APK? In DEX files, for instance? Of course if it would be the matter of some bytes, but any small mistakes snowball in big flutter apps."}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "reply_to_user": {"reputation": 469, "user_id": 11731883, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--D8yO6GH_Fw/AAAAAAAAAAI/AAAAAAAAAFM/kYKparArEtE/photo.jpg?sz=128", "display_name": "Alexey Subbotin", "link": "https://stackoverflow.com/users/11731883/alexey-subbotin"}, "edited": false, "score": 0, "creation_date": 1566225252, "post_id": 57558740, "comment_id": 101579612, "body": "No. This has no impact whatsoever. This is only a syntax sugar. They compile to the same thing"}, {"owner": {"reputation": 469, "user_id": 11731883, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--D8yO6GH_Fw/AAAAAAAAAAI/AAAAAAAAAFM/kYKparArEtE/photo.jpg?sz=128", "display_name": "Alexey Subbotin", "link": "https://stackoverflow.com/users/11731883/alexey-subbotin"}, "edited": false, "score": 0, "creation_date": 1566225311, "post_id": 57558740, "comment_id": 101579637, "body": "Thank you, you are awesome. Will accept when stackoveflow&#39;s 15 min limit passes."}], "tags": [], "owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "is_accepted": true, "score": 3, "last_activity_date": 1566224743, "creation_date": 1566224743, "answer_id": 57558740, "question_id": 57558704, "link": "https://stackoverflow.com/questions/57558704/is-there-a-difference-if-i-use-excess-const-keywords/57558740#57558740", "title": "Is there a difference if I use excess &quot;const&quot; keywords?", "body": "<p>No.</p>\n\n<p>Since Dart 2.0, these redundant const keywords are optional.</p>\n\n<p>So:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>const foo = &lt;T&gt;[ Foo() ];\n</code></pre>\n\n<p>is strictly equivalent to:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>const foo = const &lt;T&gt;[ const Foo() ];\n</code></pre>\n"}], "owner": {"reputation": 469, "user_id": 11731883, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--D8yO6GH_Fw/AAAAAAAAAAI/AAAAAAAAAFM/kYKparArEtE/photo.jpg?sz=128", "display_name": "Alexey Subbotin", "link": "https://stackoverflow.com/users/11731883/alexey-subbotin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 57558740, "answer_count": 1, "score": 1, "last_activity_date": 1566224743, "creation_date": 1566224624, "question_id": 57558704, "link": "https://stackoverflow.com/questions/57558704/is-there-a-difference-if-i-use-excess-const-keywords", "title": "Is there a difference if I use excess &quot;const&quot; keywords?", "body": "<p>Building flutter apps is all about code efficiency. Of course, when building a reactive application I would use \"const\" before widgets and classes with constant constructors. However, I would like to know if there is any PERFORMANCE and APP SIZE difference between the following examples:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>const List&lt;Color&gt; colors = &lt;Color&gt;[\n  Color(0xFFFFFFFF),\n  Color(0xFF000000),\n];\n</code></pre>\n\n<p>and</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>const List&lt;Color&gt; colors = &lt;Color&gt;[\n  const Color(0xFFFFFFFF),\n  const Color(0xFF000000),\n];\n</code></pre>\n"}, {"tags": ["flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 341, "user_id": 8151468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb8f3d504858e0002aae842194092efb?s=128&d=identicon&r=PG&f=1", "display_name": "karim tarek", "link": "https://stackoverflow.com/users/8151468/karim-tarek"}, "is_accepted": false, "score": 0, "last_activity_date": 1566255012, "creation_date": 1566255012, "answer_id": 57564784, "question_id": 57558371, "link": "https://stackoverflow.com/questions/57558371/flutter-set-default-image-in-image-file/57564784#57564784", "title": "Flutter : set default image in Image.file", "body": "<p>you can use this package <a href=\"https://pub.dev/packages/cached_network_image\" rel=\"nofollow noreferrer\">cached_network_image</a> as it makes it simple to set a default image. </p>\n\n<p>Example </p>\n\n<pre><code>CachedNetworkImage(\n        imageUrl: \"your url\",\n        placeholder: (context, url) =&gt;Your default Image Widget(),\n        errorWidget: (context, url, error) =&gt; new Icon(Icons.error),\n     ),\n</code></pre>\n"}], "owner": {"reputation": 1337, "user_id": 7360353, "user_type": "registered", "profile_image": "https://graph.facebook.com/1772704132805103/picture?type=large", "display_name": "Zeffry Reynando", "link": "https://stackoverflow.com/users/7360353/zeffry-reynando"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 545, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566255012, "creation_date": 1566223419, "last_edit_date": 1592644375, "question_id": 57558371, "link": "https://stackoverflow.com/questions/57558371/flutter-set-default-image-in-image-file", "title": "Flutter : set default image in Image.file", "body": "<p><img src=\"https://i.stack.imgur.com/lGZwL.png\" width=\"300\" /><p>\nI'm currently creating <strong>Updating Image</strong> process in Flutter app.</p>\n<p>I already succeed getting image that pass from some widget defined in <strong>View.dart</strong> to UpdateScreen widget defined in <strong>Update_screen.dart</strong> by using <code>Network Image</code>.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>CircleAvatar(\n                radius: 100,\n                backgroundImage: NetworkImage(\n                    '${Urls.BASE_API_IMAGE}/${widget.imageUpdate}'),\n              ),\n</code></pre>\n<p>My question is, how to set default image using <code>Image.file()</code> ? , because I must use <code>Image.file()</code> for updating data.</p>\n<p><strong>Thank's</strong></p>\n<h3>My full source code :</h3>\n<p><a href=\"https://pastebin.com/vuSYWing\" rel=\"nofollow noreferrer\">My Full Source Code Here</a></p>\n"}, {"tags": ["flutter", "dart", "barcode-scanner", "flutter-dependencies"], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 11888736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uYzE58l6LWk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcvbKXuV9GO7tTz1Yk9bk5X0Fz_kA/photo.jpg?sz=128", "display_name": "maor ts", "link": "https://stackoverflow.com/users/11888736/maor-ts"}, "is_accepted": false, "score": 0, "last_activity_date": 1566219800, "creation_date": 1566219800, "answer_id": 57557334, "question_id": 57557021, "link": "https://stackoverflow.com/questions/57557021/android-dependency-androidx-corecore-has-different-version-for-the-compile-1/57557334#57557334", "title": "Android dependency &#39;androidx.core:core&#39; has different version for the compile (1.0.0) and runtime (1.0.1) classpath", "body": "<p>try to go to the dependencies and change the  compile to 1.0.1</p>\n"}, {"tags": [], "owner": {"reputation": 997, "user_id": 8176451, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-W9PB4C8XL24/AAAAAAAAAAI/AAAAAAAAHOk/Oy6m8rnxoBo/photo.jpg?sz=128", "display_name": "Shivam Sahil ", "link": "https://stackoverflow.com/users/8176451/shivam-sahil"}, "is_accepted": false, "score": 0, "last_activity_date": 1575701226, "creation_date": 1575701226, "answer_id": 59223678, "question_id": 57557021, "link": "https://stackoverflow.com/questions/57557021/android-dependency-androidx-corecore-has-different-version-for-the-compile-1/59223678#59223678", "title": "Android dependency &#39;androidx.core:core&#39; has different version for the compile (1.0.0) and runtime (1.0.1) classpath", "body": "<p>Step 1. Go to gradle.properties under android folder, and add the following piece of code:</p>\n\n<pre><code>org.gradle.jvmargs=-Xmx1536M\nandroid.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n\n<p>Step 2. Now go to build.gradle under android and not under the app->build.gradle. While looking into the file make sure it starts with the word builscript (In this way you can ensure you're at the right build.gradle file.)</p>\n\n<p>Step 3. Ctrl+A everything in that file, note that ctrl+A everything you need to erase off all the content and paste this piece of code:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.3.0'\n    repositories {\n        google()\n        jcenter()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.3.1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath 'com.google.gms:google-services:4.2.0'\n    }\n\n    subprojects {\n        project.configurations.all {\n            resolutionStrategy.eachDependency { details -&gt;\n                if (details.requested.group == 'com.android.support'\n                        &amp;&amp; !details.requested.name.contains('multidex') ) {\n                    details.useVersion \"27.1.1\"\n                }\n\n                if (details.requested.group == 'androidx.core'\n                        &amp;&amp; !details.requested.name.contains('androidx') ) {\n                    details.useVersion \"1.0.1\"\n                }\n            }\n        }\n    }\n\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = \"${rootProject.buildDir}/${project.name}\"\n}\nsubprojects {\n    project.evaluationDependsOn(':app')\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p><strong>A very important point to note is that during the process of compilation, chances are that you will see this warning message in complete red. Please don't get scared of it and let the whole compilation complete, before jumping to any conclusions. Although it comes in red, it won't stop your compilation as you will see in the bottom a turning circle that will show the progress of compilation. Right after that, it will disappear and you will be able to run the App. Here's the warning message:</strong></p>\n\n<blockquote>\n  <p>Note:\n  C:\\flutter.pub-cache\\hosted\\pub.dartlang.org\\cloud_firestore-0.12.11\\android\\src\\main\\java\\io\\flutter\\plugins\\firebase\\cloudfirestore\\CloudFirestorePlugin.java\n  uses or overrides a deprecated API. Note: Recompile with\n  -Xlint:deprecation for details. Note: C:\\flutter.pub-cache\\hosted\\pub.dartlang.org\\cloud_firestore-0.12.11\\android\\src\\main\\java\\io\\flutter\\plugins\\firebase\\cloudfirestore\\CloudFirestorePlugin.java\n  uses unchecked or unsafe operations. Note: Recompile with\n  -Xlint:unchecked for details. ERROR: [TAG] Failed to resolve variable '${animal.sniffer.version}' Note:\n  C:\\flutter.pub-cache\\hosted\\pub.dartlang.org\\mlkit-0.15.0\\android\\src\\main\\java\\com\\azihsoyn\\flutter\\mlkit\\MlkitPlugin.java uses unchecked or unsafe operations. Note: Recompile with\n  -Xlint:unchecked for details.</p>\n</blockquote>\n\n<p>And Boom! that's it. Trust me this will definitely solve your problems.</p>\n\n<p>In case you still struggle with any such problems try to implement some of the other solutions mentioned in this <a href=\"https://github.com/flutter/flutter/issues/27254#issuecomment-553000221\" rel=\"nofollow noreferrer\">link</a> as well.</p>\n"}], "owner": {"reputation": 5668, "user_id": 1331568, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/JqLSi.jpg?s=128&g=1", "display_name": "Code Hunter", "link": "https://stackoverflow.com/users/1331568/code-hunter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 226, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1575701226, "creation_date": 1566218617, "question_id": 57557021, "link": "https://stackoverflow.com/questions/57557021/android-dependency-androidx-corecore-has-different-version-for-the-compile-1", "title": "Android dependency &#39;androidx.core:core&#39; has different version for the compile (1.0.0) and runtime (1.0.1) classpath", "body": "<p>I recently added one new library to my flutter app. It started showing me an error: </p>\n\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:preDebugBuild'.\n&gt; Android dependency 'androidx.core:core' has different version for the compile (1.0.0) and runtime (1.0.1) classpath. You should manually set the same version via DependencyResolution\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBU\u0130LD FAILED in 14s\n</code></pre>\n"}, {"tags": ["dart", "angular-dart"], "answers": [{"tags": [], "owner": {"reputation": 701, "user_id": 5664559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oz83v.jpg?s=128&g=1", "display_name": "Brian Gorman", "link": "https://stackoverflow.com/users/5664559/brian-gorman"}, "is_accepted": true, "score": 1, "last_activity_date": 1566236071, "creation_date": 1566236071, "answer_id": 57561501, "question_id": 57556695, "link": "https://stackoverflow.com/questions/57556695/dart2-router-implementation/57561501#57561501", "title": "Dart2 Router Implementation", "body": "<p>You need a <code>RoutePath</code> instance to define your \"route\".</p>\n\n<pre><code>final search = RoutePath(path: \"search/:term\"); // term is the parameter\n</code></pre>\n\n<p>Then use that path to navigate to that route.</p>\n\n<pre><code>_router.navigate(search.toUrl(parameters: {'term': searchTerm}));\n</code></pre>\n\n<p>So in your case it might look like this:</p>\n\n<pre><code>import 'dart:async';\nimport 'dart:convert';\nimport 'package:angular/src/core/di/decorators.dart';\n@Injectable()\nclass SpRouterImpl implements SpRouter {\n   final Router _router;\n\n   SpRouterImpl(this._router);\n   @override\n   void go(String routeName, Map&lt;String, String&gt; parameters,\n    [bool openInNewWindow = false]) {\n     final path = RoutePath(routeName);\n     final url = path.toUrl(parameters: parameters)\n     if (openInNewWindow) {\n       window.open(url, \"_blank\");\n     } else {\n       _router.navigate(url);\n     }\n   }\n}\n</code></pre>\n\n<p>It might not drop in and work depending on how your <code>routeName</code> is defined but this is the general idea.</p>\n\n<p>There are several other options for <a href=\"https://angulardart.dev/api/angular_router/angular_router/RoutePath-class\" rel=\"nofollow noreferrer\">RoutePath</a> check them out and see what works best for you!</p>\n"}], "owner": {"reputation": 321, "user_id": 1848876, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/579b96416ad7171ed3ce9dd9f3e3d535?s=128&d=identicon&r=PG", "display_name": "Subramanian", "link": "https://stackoverflow.com/users/1848876/subramanian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 57561501, "answer_count": 1, "score": 0, "last_activity_date": 1566236071, "creation_date": 1566217458, "question_id": 57556695, "link": "https://stackoverflow.com/questions/57556695/dart2-router-implementation", "title": "Dart2 Router Implementation", "body": "<p>I am trying to upgrade Dart1 application to Dart 2.4, I am facing a problem in Router my code is as shown below</p>\n\n<pre><code>import 'dart:async';\nimport 'dart:convert';\nimport 'package:angular/src/core/di/decorators.dart';\n@Injectable()\nclass SpRouterImpl implements SpRouter {\n final Router _router;\n\n SpRouterImpl(this._router);\n @override\n void go(String routeName, Map&lt;String, String&gt; parameters,\n  [bool openInNewWindow = false]) {\n  if (openInNewWindow) {\n  var url = _router.generate([routeName, parameters]).component.urlPath;\n  window.open(url, \"_blank\");\n } else {\n  _router.navigate([routeName, parameters]);\n }\n}\n}\n</code></pre>\n\n<p>I am getting error in this line </p>\n\n<pre><code>var url = _router.generate([routeName, parameters]).component.urlPath;\n</code></pre>\n\n<p>The method generate isn't defined for the class Router</p>\n\n<p>Second error is here </p>\n\n<pre><code>_router.navigate([routeName, parameters]);\n</code></pre>\n\n<p>The argument type List can't be assigned to the parameter type 'String'</p>\n\n<p>The above function is working fine in Dart 1 but when I upgrade to Dart 2, I am getting the errors, don't know how to solve it.</p>\n\n<p>Can anyone help in this regard</p>\n"}, {"tags": ["dart"], "answers": [{"tags": [], "owner": {"reputation": 35316, "user_id": 2156621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed6aa5c7920063019e39f13f94c1b6?s=128&d=identicon&r=PG&f=1", "display_name": "lrn", "link": "https://stackoverflow.com/users/2156621/lrn"}, "is_accepted": true, "score": 1, "last_activity_date": 1566222513, "creation_date": 1566222513, "answer_id": 57558099, "question_id": 57556096, "link": "https://stackoverflow.com/questions/57556096/how-to-loop-through-list-of-classes-and-assign-them-to-a-variable/57558099#57558099", "title": "How to loop through list of classes and assign them to a variable", "body": "<p>You cannot achieve this in Dart without using reflection (<code>dart:mirrors</code>) which is not available on most platforms.</p>\n\n<p>The list of classes contains <code>Type</code> objects, <code>[A, B, C]</code>, and a <code>Type</code> object is only good for two things: Comparing with equality and using as a token when using the mirrors library.</p>\n\n<p>You cannot access a static member of a class through the <code>Type</code> object representing that class, you have to access the static member in a way where the compiler can <em>statically</em> see which member you are accessing.</p>\n\n<p>In order to do a lookup where the result depends on the receiver, you need to have an instance member.</p>\n"}], "owner": {"reputation": 117, "user_id": 9537240, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Salman Aljabri", "link": "https://stackoverflow.com/users/9537240/salman-aljabri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 57558099, "answer_count": 1, "score": 0, "last_activity_date": 1566222513, "creation_date": 1566215186, "question_id": 57556096, "link": "https://stackoverflow.com/questions/57556096/how-to-loop-through-list-of-classes-and-assign-them-to-a-variable", "title": "How to loop through list of classes and assign them to a variable", "body": "<p>How to loop through a list of classes and assign them to a variable based on a condition.\nexample:</p>\n\n<pre><code>\nclass A {\n  static List items = ['item1', 'item2', 'item3'];\n}\n\nclass B {\n  static List items = ['item1', 'item2', 'item3'];\n}\n\nclass C {\n  static List items = ['item1', 'item2', 'item3'];\n}\n\n\nclass SelectSuitableClass {\n  var selectedClass;\n  String item;\n  List myClasses = [A, B, C];\n\n  SelectSuitableClass(this.item) {\n\n    outerFor: for (var cl in myClasses){\n\n       for (var i in cl.items) {\n         if (item.contains(i)) {\n\n           selectedClass = cl();\n           break outerFor;\n\n         }\n       }\n\n       if(selectedClass == null) {\n         throw 'some error';\n       }\n    }   \n  }\n}\n\n</code></pre>\n\n<p>in python this code is possible.</p>\n\n<p>How can we achieve this in dart.</p>\n"}, {"tags": ["flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 5085, "user_id": 3941291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sUtBe.jpg?s=128&g=1", "display_name": "ChrisG", "link": "https://stackoverflow.com/users/3941291/chrisg"}, "is_accepted": true, "score": 1, "last_activity_date": 1566214845, "creation_date": 1566214845, "answer_id": 57556016, "question_id": 57555825, "link": "https://stackoverflow.com/questions/57555825/getter-isnt-defined-for-the-object/57556016#57556016", "title": "Getter isn&#39;t defined for the object", "body": "<p>You have added a generic type paramter to your method <code>showDemoDialog</code> which shadows (hides) your definition of the class <code>MyReaction</code>.</p>\n\n<p>This generic type parameter is not actually used in your method and thus can be removed.</p>\n\n<p>Just define your method like this:</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>void showDemoDialog({ BuildContext context, Widget child }) {\n  showDialog&lt;MyReaction&gt;(context: context, builder: (BuildContext context) =&gt; child)\n    .then((MyReaction value) { // The value passed to Navigator.pop() or null.\n      if (value != null) {\n        setState(() {\n          _myreactionIcon = value.iconD; // Does now work\n          _myreactionText = value.textV;\n        });\n       }\n    }\n  );\n\n}\n</code></pre>\n"}], "owner": {"reputation": 184, "user_id": 3690288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae2602639da56a13ad9ac5ec8892d2b?s=128&d=identicon&r=PG&f=1", "display_name": "p2hari", "link": "https://stackoverflow.com/users/3690288/p2hari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2507, "favorite_count": 1, "accepted_answer_id": 57556016, "answer_count": 1, "score": 0, "last_activity_date": 1566228683, "creation_date": 1566214080, "last_edit_date": 1566228683, "question_id": 57555825, "link": "https://stackoverflow.com/questions/57555825/getter-isnt-defined-for-the-object", "title": "Getter isn&#39;t defined for the object", "body": "<p>I am trying to setState using the passed class instance and accessing the member values but it is giving me the error of getter not defined on the object. But the same is working in initState method.</p>\n\n<p>This is for passing the value when the user closes the ShowDialog. I tried setting up the getters and also changing the class members from private to public. </p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class MyReaction {\n   IconData _icon;\n   String _text;\n   MyReaction(this._icon, this._text);\n   IconData get iconD =&gt; this._icon;\n   String get textV =&gt; this._text;\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n\n  MyReaction _myreaction = new MyReaction(Icons.thumb_up, 'Like');\n\n  IconData _myreactionIcon;\n  String _myreactionText;\n\n  @override\n  void initState() {\n    super.initState();\n    controller = new ScrollController();\n    _myreactionIcon = _myreaction.iconD; //It works here!!\n    _myreactionText  = _myreaction.textV;\n  }\n\n  FlatButton.icon(\n   icon:Icon(this._myreactionIcon, size: 24.0), \n   onPressed: () {\n    showDemoDialog&lt;MyReaction&gt;(\n                context: context,\n                child: SimpleDialog(\n                  title: const Text('Your Reaction'),\n                  children: &lt;Widget&gt;[\n                    DialogDemoItem(\n                      icon: Icons.account_circle,\n                      color: Colors.black87,\n                      text: 'username@gmail.com',\n                      onPressed: () {\n                        MyReaction  _reaction = new MyReaction(Icons.account_circle, 'Like');\n                        Navigator.pop(context, _reaction);\n                      },\n                    ),\n                  ]\n                )\n    );\n   },\n  );\n\n\n void showDemoDialog&lt;MyReaction&gt;({ BuildContext context, Widget child }) {\n    showDialog&lt;MyReaction&gt;(\n      context: context,\n      builder: (BuildContext context) =&gt; child,\n    )\n    .then&lt;void&gt;((MyReaction value) { // The value passed to Navigator.pop() or null.\n      if (value != null) {\n        setState(() {\n          _myreactionIcon = value.iconD; //Does not work here\n          _myreactionText = value.textV;});\n        // _scaffoldKey.currentState.showSnackBar(SnackBar(\n        //   content: Text('You selected: $value'),\n        ));\n      }\n    });\n  }\n}\n</code></pre>\n\n<p>I am expecting the value inside the showDialog method to be assignable to the state variables. But value.iconD is giving getter not defined error. What mistake am I doing</p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 3029, "user_id": 10632369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/541566093e9d34a3858f5446d06a7a6e?s=128&d=identicon&r=PG", "display_name": "tomerpacific", "link": "https://stackoverflow.com/users/10632369/tomerpacific"}, "edited": false, "score": 0, "creation_date": 1566213318, "post_id": 57555566, "comment_id": 101572927, "body": "It sounds like you need to implement <a href=\"https://flutter.dev/docs/cookbook/navigation/named-routes\" rel=\"nofollow noreferrer\">routes</a> in your application and to pass the information the user selected to the confirmation page."}], "answers": [{"tags": [], "owner": {"reputation": 492, "user_id": 10970649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DmRqm.jpg?s=128&g=1", "display_name": "Abdulaziz Yesuf", "link": "https://stackoverflow.com/users/10970649/abdulaziz-yesuf"}, "is_accepted": false, "score": 1, "last_activity_date": 1566214194, "creation_date": 1566214194, "answer_id": 57555853, "question_id": 57555566, "link": "https://stackoverflow.com/questions/57555566/how-can-i-implement-nested-view-dynamic-page-in-flutter/57555853#57555853", "title": "How can I implement nested view (dynamic page) in Flutter?", "body": "<p>You might want to use routes and navigation if you have limited number of possibilities in the page you want to load. But if you must always dynamically load the page you might want to use the dynamic widget package. you can read more about it here: <a href=\"https://pub.dev/packages/dynamic_widget\" rel=\"nofollow noreferrer\">https://pub.dev/packages/dynamic_widget</a></p>\n"}, {"tags": [], "owner": {"reputation": 250, "user_id": 4142994, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9b0416dd6aadc116e3ac896ac1664cd6?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/4142994/daniel"}, "is_accepted": false, "score": 0, "last_activity_date": 1566227269, "creation_date": 1566227269, "answer_id": 57559470, "question_id": 57555566, "link": "https://stackoverflow.com/questions/57555566/how-can-i-implement-nested-view-dynamic-page-in-flutter/57559470#57559470", "title": "How can I implement nested view (dynamic page) in Flutter?", "body": "<p>This is the solution of my own question -in case, someone may find it useful. </p>\n\n<pre><code>class SummaryPage extends StatelessWidget {\n  SummaryDataRepository summaryDataRepository = new SummaryDataRepository();\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n        child: new ListView.builder(\n            scrollDirection: Axis.vertical,\n            shrinkWrap: true,\n            itemCount: summaryDataRepository.listOfSummaryData.length,\n            itemBuilder: (BuildContext context, i) =&gt; ListTile(\n                    title: new Card(\n                        child: new Column(\n                  mainAxisAlignment: MainAxisAlignment.start,\n                  crossAxisAlignment: CrossAxisAlignment.start,\n                  children: &lt;Widget&gt;[\n                    new Text(\n                      summaryDataRepository.listOfSummaryData[i].serviceName\n                          .toString(),\n                      style: TextStyle(\n                          fontSize: 25.0, fontWeight: FontWeight.w600),\n                      textAlign: TextAlign.left,\n                    ),\n                    new ListView.builder(\n                        scrollDirection: Axis.vertical,\n                        shrinkWrap: true,\n                        itemCount: summaryDataRepository\n                            .listOfSummaryData[i].lisOfService.length,\n                        itemBuilder: (BuildContext c, j) =&gt; ListTile(\n                            title: _drawService(\n                                summaryDataRepository\n                                    .getSummaryData()[i]\n                                    .lisOfService[j]\n                                    .origin,\n                                summaryDataRepository\n                                    .getSummaryData()[i]\n                                    .lisOfService[j]\n                                    .destination,\n                                summaryDataRepository\n                                    .getSummaryData()[i]\n                                    .lisOfService[j]\n                                    .takeOfTime,\n                                summaryDataRepository\n                                    .getSummaryData()[i]\n                                    .lisOfService[j]\n                                    .serviceProvider)))\n                  ],\n                )))));\n  }\n\n  _drawService(origin, destination, takeOfTime, serviceProvider) {\n    return new Container(\n        child: new Column(\n      children: &lt;Widget&gt;[\n        new Text(\"$origin - $destination\"),\n        new Text(takeOfTime),\n        new Text(serviceProvider),\n      ],\n    ));\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 250, "user_id": 4142994, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9b0416dd6aadc116e3ac896ac1664cd6?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/4142994/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 329, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1577424391, "creation_date": 1566213057, "last_edit_date": 1577424391, "question_id": 57555566, "link": "https://stackoverflow.com/questions/57555566/how-can-i-implement-nested-view-dynamic-page-in-flutter", "title": "How can I implement nested view (dynamic page) in Flutter?", "body": "<p>I am trying to implement a booking confirmation page in Flutter. The application allows users to book a flight, trains,taxi, accommodation, etc. What ever the user has booked I want the confirmation page to show the booking. I want the page to consider the following scenarios:</p>\n\n<ol>\n<li>The user may book single or return service</li>\n<li>The user may book flights and train or just flight. </li>\n</ol>\n\n<p>I want to use the following methods such as <code>CustomScrollView</code>,  <code>StatefulBuilder</code>, <code>SliverList</code>,<code>ListTile</code>. But, I don't know how to do it by considering all the above scenarios. </p>\n\n<p>How can I implement this?</p>\n\n<p>I have created some dummy data:</p>\n\n<pre><code>class SummaryData {\n  String serviceName; //flight,train\n  List&lt;SingleService&gt; lisOfService;\n  SummaryData(this.serviceName, this.lisOfService);\n}\n\n//from - to section\nclass SingleService {\n  var origin, destination;\n  var takeOfTime;\n  var serviceProvide;\n\n  SingleService(this.origin, this.destination, this.takeOfTime, this.serviceProvider);\n}\n\nclass SummaryDataRepository {\n  List&lt;SummaryData&gt; listOfSummaryData;\n  SummaryDataRepository() {\n    listOfSummaryData = new List&lt;SummaryData&gt;();\n    listOfSummaryData.add(new SummaryData(\n        \"Flight\", [new SingleService(\"London\", \"Rome\", \"11:00\", \"AirX\")]));\n    listOfSummaryData.add(new SummaryData(\n        \"Train\", [new SingleService(\"London\", \"Heathrow\", \"10:00\", \"TrainX\")]));\n  }\n\n  List&lt;SummaryData&gt; getSummaryData() {\n    return listOfSummaryData;\n  }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/5fRcj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5fRcj.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/TCN4h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TCN4h.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/YgA5T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YgA5T.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["flutter", "dart"], "comments": [{"owner": {"reputation": 1890, "user_id": 2362966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8792270fcc92400b12d02f8a4cc00e89?s=128&d=identicon&r=PG", "display_name": "ejabu", "link": "https://stackoverflow.com/users/2362966/ejabu"}, "edited": false, "score": 0, "creation_date": 1566212447, "post_id": 57555396, "comment_id": 101572526, "body": "can you share DBHelper().getTasks() method looks like?"}, {"owner": {"reputation": 309, "user_id": 11830507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c21ffadd262d5f9836f41ab8151b19e?s=128&d=identicon&r=PG&f=1", "display_name": "Rostyk", "link": "https://stackoverflow.com/users/11830507/rostyk"}, "reply_to_user": {"reputation": 1890, "user_id": 2362966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8792270fcc92400b12d02f8a4cc00e89?s=128&d=identicon&r=PG", "display_name": "ejabu", "link": "https://stackoverflow.com/users/2362966/ejabu"}, "edited": false, "score": 0, "creation_date": 1566212762, "post_id": 57555396, "comment_id": 101572669, "body": "@ejabu check it out, but this method does not cause the problem, because this code work fine in another file."}], "owner": {"reputation": 309, "user_id": 11830507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c21ffadd262d5f9836f41ab8151b19e?s=128&d=identicon&r=PG&f=1", "display_name": "Rostyk", "link": "https://stackoverflow.com/users/11830507/rostyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566212692, "creation_date": 1566212332, "last_edit_date": 1566212692, "question_id": 57555396, "link": "https://stackoverflow.com/questions/57555396/search-data-in-db-using-textfield-flutter", "title": "search data in db using textfield flutter", "body": "<p><br>\nI have a DB and I want to make a search system and show data to a screen once a user typed element's title.<br>\nCheck code below that's how I tried to achieve it<br>\nI tried to do this:<br></p>\n\n<pre><code>  Widget searchBar(title) {\n    return FutureBuilder&lt;List&lt;Task&gt;&gt;(\n      future: DBHelper().getTasks(),\n      builder: (BuildContext context, AsyncSnapshot&lt;List&lt;Task&gt;&gt; snapshot) {\n        print('entered'); //does not work\n        if (snapshot.hasData) {\n          var data = snapshot.data;\n          print('entered'); //does not work\n          return Container(\n            child: Column(\n              children: data.map((task) {\n                print(task.title);\n                if (task.title == title) {\n                  print('found'); // if user typed correct title than it should print 'found'\n                } else {\n                  print('not found');\n                }\n              }).toList(),\n            ),\n          );\n        }\n      },\n    );\n  }\n</code></pre>\n\n<pre><code>  Widget appBar(device) {\n    searchAppBar(device) {\n      return Expanded(\n        child: TextField(\n          onChanged: (data) {\n            searchBar(data); //pass data to searchBar, data that user passed to an input.\n          },\n\n      );\n    }\n\n    return Container( \n      child: Container(\n        child: Row(\n          children: &lt;Widget&gt;[\n           searchAppBar(device), // here I display my input\n          ],\n        ),\n      ),\n    );\n  }\n</code></pre>\n\n<p>Added DBHelper().getTasks() method</p>\n\n<pre><code>  Future&lt;List&lt;Task&gt;&gt; getTasks() async {\n    var dbClient = await db;\n    List&lt;Map&gt; maps = await dbClient.query(TABLE, columns: [\n      ID,\n      NAME,\n      TITLE,\n      SUBTASKS,\n    ]);\n    List&lt;Task&gt; tasks = [];\n    if (maps.length &gt; 0) {\n      for (int i = 0; i &lt; maps.length; i++) {\n        tasks.add(Task.fromMap(maps[i]));\n      }\n    }\n    return tasks;\n  }\n</code></pre>\n\n<p>Code in searchBar was written a few days ago, and it worked and works fine, in this example it does not work): </p>\n"}, {"tags": ["api", "flutter", "dart", "stream", "stream-builder"], "comments": [{"owner": {"reputation": 979, "user_id": 3410328, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/736057926ca8533cb6d1a2650f4a630a?s=128&d=identicon&r=PG&f=1", "display_name": "Boby", "link": "https://stackoverflow.com/users/3410328/boby"}, "edited": false, "score": 0, "creation_date": 1566210065, "post_id": 57554659, "comment_id": 101571357, "body": "Did you try something ?"}, {"owner": {"reputation": 81, "user_id": 7527078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9e0f9d7091108a4916699bd15f09?s=128&d=identicon&r=PG&f=1", "display_name": "Santu", "link": "https://stackoverflow.com/users/7527078/santu"}, "reply_to_user": {"reputation": 979, "user_id": 3410328, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/736057926ca8533cb6d1a2650f4a630a?s=128&d=identicon&r=PG&f=1", "display_name": "Boby", "link": "https://stackoverflow.com/users/3410328/boby"}, "edited": false, "score": 0, "creation_date": 1566210773, "post_id": 57554659, "comment_id": 101571721, "body": "I am actually lost in this Stream type. I wanted to create a List View with a url. The first requirement was to create a Stream for StreamBuilder. Rest of the snapshots and builders are understandable. Only Not sure about how to create a Stream. In most of the areas, all have user stream for firestore and i want to know if i have my own database and Api coming from PHP, how do i create a Stream."}, {"owner": {"reputation": 979, "user_id": 3410328, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/736057926ca8533cb6d1a2650f4a630a?s=128&d=identicon&r=PG&f=1", "display_name": "Boby", "link": "https://stackoverflow.com/users/3410328/boby"}, "edited": false, "score": 0, "creation_date": 1566215811, "post_id": 57554659, "comment_id": 101574169, "body": "check this <a href=\"https://gist.github.com/bobykurniawan11/abea25eabdf917afb1f16520dfae494f\" rel=\"nofollow noreferrer\">gist.github.com/bobykurniawan11/&hellip;</a>, hope can help you"}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 9167102, "user_type": "registered", "profile_image": "https://graph.facebook.com/927804557367563/picture?type=large", "display_name": "Abdul Qadir", "link": "https://stackoverflow.com/users/9167102/abdul-qadir"}, "edited": false, "score": 0, "creation_date": 1617206362, "post_id": 57565501, "comment_id": 118241323, "body": "awesome bro. thank you so much. you save my life"}], "tags": [], "owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "is_accepted": true, "score": 8, "last_activity_date": 1566262938, "creation_date": 1566262938, "answer_id": 57565501, "question_id": 57554659, "link": "https://stackoverflow.com/questions/57554659/stream-for-api-coming-from-php-in-flutter-not-firebase/57565501#57565501", "title": "Stream for API coming from PHP in Flutter (Not Firebase)", "body": "<p>Please reference this doc <a href=\"https://blog.khophi.co/using-refreshindicator-with-flutter-streambuilder/\" rel=\"noreferrer\">https://blog.khophi.co/using-refreshindicator-with-flutter-streambuilder/</a></p>\n\n<p>There is also a video in it</p>\n\n<p>github code <a href=\"https://github.com/seanmavley/refreshindicator-with-streambuilder/blob/master/lib/main.dart\" rel=\"noreferrer\">https://github.com/seanmavley/refreshindicator-with-streambuilder/blob/master/lib/main.dart</a></p>\n\n<p>full example code</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:http/http.dart' as http;\nimport 'dart:async';\nimport 'dart:convert';\n\nvoid main() =&gt; runApp(new MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      debugShowCheckedModeBanner: false,\n      title: 'Basic Project',\n      home: new MyHomePage(),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  @override\n  _MyHomePageState createState() =&gt; new _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  StreamController _postsController;\n  final GlobalKey&lt;ScaffoldState&gt; scaffoldKey = new GlobalKey&lt;ScaffoldState&gt;();\n\n  int count = 1;\n\n  Future fetchPost([howMany = 5]) async {\n    final response = await http.get(\n        'https://blog.khophi.co/wp-json/wp/v2/posts/?per_page=$howMany&amp;context=embed');\n\n    if (response.statusCode == 200) {\n      return json.decode(response.body);\n    } else {\n      throw Exception('Failed to load post');\n    }\n  }\n\n  loadPosts() async {\n    fetchPost().then((res) async {\n      _postsController.add(res);\n      return res;\n    });\n  }\n\n  showSnack() {\n    return scaffoldKey.currentState.showSnackBar(\n      SnackBar(\n        content: Text('New content loaded'),\n      ),\n    );\n  }\n\n  Future&lt;Null&gt; _handleRefresh() async {\n    count++;\n    print(count);\n    fetchPost(count * 5).then((res) async {\n      _postsController.add(res);\n      showSnack();\n      return null;\n    });\n  }\n\n  @override\n  void initState() {\n    _postsController = new StreamController();\n    loadPosts();\n    super.initState();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      key: scaffoldKey,\n      appBar: new AppBar(\n        title: new Text('StreamBuilder'),\n        actions: &lt;Widget&gt;[\n          IconButton(\n            tooltip: 'Refresh',\n            icon: Icon(Icons.refresh),\n            onPressed: _handleRefresh,\n          )\n        ],\n      ),\n      body: StreamBuilder(\n        stream: _postsController.stream,\n        builder: (BuildContext context, AsyncSnapshot snapshot) {\n          print('Has error: ${snapshot.hasError}');\n          print('Has data: ${snapshot.hasData}');\n          print('Snapshot Data ${snapshot.data}');\n\n          if (snapshot.hasError) {\n            return Text(snapshot.error);\n          }\n\n          if (snapshot.hasData) {\n            return Column(\n              children: &lt;Widget&gt;[\n                Expanded(\n                  child: Scrollbar(\n                    child: RefreshIndicator(\n                      onRefresh: _handleRefresh,\n                      child: ListView.builder(\n                        physics: const AlwaysScrollableScrollPhysics(),\n                        itemCount: snapshot.data.length,\n                        itemBuilder: (context, index) {\n                          var post = snapshot.data[index];\n                          return ListTile(\n                            title: Text(post['title']['rendered']),\n                            subtitle: Text(post['date']),\n                          );\n                        },\n                      ),\n                    ),\n                  ),\n                ),\n              ],\n            );\n          }\n\n          if (snapshot.connectionState != ConnectionState.done) {\n            return Center(\n              child: CircularProgressIndicator(),\n            );\n          }\n\n          if (!snapshot.hasData &amp;&amp;\n              snapshot.connectionState == ConnectionState.done) {\n            return Text('No Posts');\n          }\n        },\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>your json class in PHP</p>\n\n<pre><code>// To parse this JSON data, do\n//\n//     final payload = payloadFromJson(jsonString);\n\nimport 'dart:convert';\n\nList&lt;Payload&gt; payloadFromJson(String str) =&gt; new List&lt;Payload&gt;.from(json.decode(str).map((x) =&gt; Payload.fromJson(x)));\n\nString payloadToJson(List&lt;Payload&gt; data) =&gt; json.encode(new List&lt;dynamic&gt;.from(data.map((x) =&gt; x.toJson())));\n\nclass Payload {\n    int userId;\n    int id;\n    String title;\n    String body;\n\n    Payload({\n        this.userId,\n        this.id,\n        this.title,\n        this.body,\n    });\n\n    factory Payload.fromJson(Map&lt;String, dynamic&gt; json) =&gt; new Payload(\n        userId: json[\"userId\"],\n        id: json[\"id\"],\n        title: json[\"title\"],\n        body: json[\"body\"],\n    );\n\n    Map&lt;String, dynamic&gt; toJson() =&gt; {\n        \"userId\": userId,\n        \"id\": id,\n        \"title\": title,\n        \"body\": body,\n    };\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 182, "user_id": 13028247, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDKItGBRSnW0IubiPARP3dJkSWox7CnkJDUloQ1Mw=k-s128", "display_name": "N Sivaram", "link": "https://stackoverflow.com/users/13028247/n-sivaram"}, "edited": false, "score": 0, "creation_date": 1596442083, "post_id": 58414791, "comment_id": 111802094, "body": "Thanks ,it helped  a lot. I think the key point was timer.periodic"}], "tags": [], "owner": {"reputation": 2009, "user_id": 8313412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f0d6cd795aaddd44be737bfb0733eb3?s=128&d=identicon&r=PG", "display_name": "SilenceDev", "link": "https://stackoverflow.com/users/8313412/silencedev"}, "is_accepted": false, "score": 3, "last_activity_date": 1571233282, "creation_date": 1571233282, "answer_id": 58414791, "question_id": 57554659, "link": "https://stackoverflow.com/questions/57554659/stream-for-api-coming-from-php-in-flutter-not-firebase/58414791#58414791", "title": "Stream for API coming from PHP in Flutter (Not Firebase)", "body": "<p><strong>After a lot of research, I tried to solve mine with this code below</strong>\n<strong>This code solve Live Data from API</strong></p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'dart:async';\nimport 'dart:convert';\nimport 'package:flutter/material.dart';\nimport 'package:live_data_stream/provider/Api.dart';\nimport 'package:live_data_stream/provider/model/AuthModel.dart';\n\nclass DetailsView extends StatefulWidget {\n  @override\n  _DetailsViewState createState() =&gt; _DetailsViewState();\n}\n\nclass _DetailsViewState extends State&lt;DetailsView&gt; {\n  StreamController&lt;AuthModel&gt; _userController;\n  final GlobalKey&lt;ScaffoldState&gt; scaffoldKey = new GlobalKey&lt;ScaffoldState&gt;();\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      key: scaffoldKey,\n      appBar: new AppBar(\n        title: new Text('StreamBuilder Demo'),\n        actions: &lt;Widget&gt;[\n          IconButton(\n            tooltip: 'Refresh',\n            icon: Icon(Icons.refresh),\n            onPressed: _handleRefresh,\n          )\n        ],\n      ),\n      body: StreamBuilder(\n        stream: _userController.stream,\n        builder: (BuildContext context, AsyncSnapshot&lt;AuthModel&gt; snapshot) {\n         switch(snapshot.connectionState){\n           case ConnectionState.none:\n             return Center(\n               child: Text('None'),\n             );\n             break;\n           case ConnectionState.waiting:\n             return Center(\n               child: CircularProgressIndicator(),\n             );\n             break;\n           case ConnectionState.active:\n             return Center(\n               child:  Text(\n                 snapshot.data.fname == null ? 'Null' : snapshot.data.fname,\n                 style: Theme.of(context).textTheme.display1,\n               ),\n             );\n             break;\n           case ConnectionState.done:\n             print('Done is fucking here ${snapshot.data}');\n             if(snapshot.hasData){\n               return Center(\n                 child:  Text(\n                   snapshot.data.fname == null ? 'Null' : snapshot.data.fname,\n                   style: Theme.of(context).textTheme.display1,\n                 ),\n               );\n             }else if(snapshot.hasError){\n               return Text('Has Error');\n             }else{\n               return Text('Error');\n             }\n             break;\n         }\n         return Text('Non in Switch');\n        },\n      ),\n    );\n  }\n  @override\n  void initState() {\n    _userController = new StreamController();\n    Timer.periodic(Duration(seconds: 1), (_) =&gt; loadDetails());\n   // loadDetails();\n    super.initState();\n  }\n  int count = 1;\n\n  loadDetails() async {\n    Api().getUserInfo('horlaz229@gmail.com', '123456').then((res) async{\n      print('LoadDetails of ${res.fname}');\n      _userController.add(res);\n      return res;\n    });\n  }\n\n  showSnack() {\n    return scaffoldKey.currentState.showSnackBar(\n      SnackBar(\n        content: Text('New content loaded'),\n      ),\n    );\n  }\n\n  Future&lt;Null&gt; _handleRefresh() async {\n    count++;\n    print(count);\n    Api().getUserInfo('horlaz229@gmail.com', 'APP-1571216683-766').then((res) async {\n      print('New Data of ${res.fname}');\n      _userController.add(res);\n      showSnack();\n      return null;\n    });\n  }\n\n  @override\n  void dispose() {\n    // TODO: implement dispose\n    super.dispose();\n    _userController.close();\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 7527078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9e0f9d7091108a4916699bd15f09?s=128&d=identicon&r=PG&f=1", "display_name": "Santu", "link": "https://stackoverflow.com/users/7527078/santu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8000, "favorite_count": 6, "accepted_answer_id": 57565501, "answer_count": 2, "score": 5, "last_activity_date": 1571233282, "creation_date": 1566209548, "question_id": 57554659, "link": "https://stackoverflow.com/questions/57554659/stream-for-api-coming-from-php-in-flutter-not-firebase", "title": "Stream for API coming from PHP in Flutter (Not Firebase)", "body": "<p>Let's say I have an API - example: <a href=\"https://jsonplaceholder.typicode.com/posts\" rel=\"noreferrer\">https://jsonplaceholder.typicode.com/posts</a></p>\n\n<p>Now, I want to apply StreamBuilder to it with a ListView have ListTiles. How do I configure? How do I create a stream for it?</p>\n\n<p>I totally understood the firebase and firestore stream. I want to understand if I have an API coming from PHP and I want to build a StreamBuilder, how do I do it.</p>\n"}, {"tags": ["list", "flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 1890, "user_id": 2362966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8792270fcc92400b12d02f8a4cc00e89?s=128&d=identicon&r=PG", "display_name": "ejabu", "link": "https://stackoverflow.com/users/2362966/ejabu"}, "is_accepted": true, "score": 1, "last_activity_date": 1566208801, "last_edit_date": 1566208801, "creation_date": 1566207953, "answer_id": 57554202, "question_id": 57554003, "link": "https://stackoverflow.com/questions/57554003/flutter-complex-sorting-of-a-list/57554202#57554202", "title": "Flutter Complex Sorting of a List", "body": "<p><strong>Short answer</strong></p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>Iterable&lt;Item&gt; filteredList = list.where((element) {\n    return list2\n        .map((elem) =&gt; elem.personId)\n        .toList()\n        .contains(element.personId);\n  });\n</code></pre>\n\n<p>You may look into this Dart Playground. <a href=\"https://dartpad.dartlang.org/ec40079d91a2df8b7bd7bcebc8a075f0\" rel=\"nofollow noreferrer\">Dartpad</a></p>\n\n<p><strong>Full Script</strong></p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>class Item {\n  int personId;\n  Item({this.personId});\n\n  String toString() {\n    return \"$personId\";\n  }\n}\n\nList&lt;Item&gt; list = [\n  Item(personId: 1),\n  Item(personId: 2),\n  Item(personId: 3),\n  Item(personId: 4),\n  Item(personId: 5),\n];\n\nList&lt;Item&gt; list2 = [\n  Item(personId: 1),\n  Item(personId: 3),\n  Item(personId: 5),\n];\n\nvoid runFunction() {\n  Iterable&lt;Item&gt; filteredList = list.where((element) {\n    return list2\n        .map((elem) =&gt; elem.personId)\n        .toList()\n        .contains(element.personId);\n  });\n  List&lt;Item&gt; result = filteredList.toList();\n  print(result);\n}\n\nmain() {\n  runFunction();\n}\n\n</code></pre>\n"}], "owner": {"reputation": 387, "user_id": 5751434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7453b9bb510719d755d44f1de4d666e4?s=128&d=identicon&r=PG&f=1", "display_name": "Bollie", "link": "https://stackoverflow.com/users/5751434/bollie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 292, "favorite_count": 0, "accepted_answer_id": 57554202, "answer_count": 1, "score": 0, "last_activity_date": 1566208801, "creation_date": 1566207218, "question_id": 57554003, "link": "https://stackoverflow.com/questions/57554003/flutter-complex-sorting-of-a-list", "title": "Flutter Complex Sorting of a List", "body": "<p>I have two Lists</p>\n\n<p>List 1 contains an object. One of the aspects of that object is a person ID [1,2,3,4,5] and List 2 contains the person ID's whom match a criteria [1,3,5]</p>\n\n<p>I need to filter list 1 to only show the objects where the criteria is met.</p>\n\n<p>Something like:  </p>\n\n<pre><code> var sortedList = list1\n          .where((item) =&gt; item.personID == \"Any of the ids contained within list2)\n          .toList();\n</code></pre>\n\n<p>Therefore sortedList = the objects for id 1,3,5</p>\n"}, {"tags": ["flutter", "dart", "odata"], "comments": [{"owner": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "edited": false, "score": 0, "creation_date": 1566263576, "post_id": 57553991, "comment_id": 101592558, "body": "Could you post your code and print response of your Odata url so we can help"}, {"owner": {"reputation": 101, "user_id": 11945824, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8eLx-fWwcDg/AAAAAAAAAAI/AAAAAAAAAAc/pETZJJqttak/photo.jpg?sz=128", "display_name": "Rizki Syaputra", "link": "https://stackoverflow.com/users/11945824/rizki-syaputra"}, "reply_to_user": {"reputation": 33760, "user_id": 2179571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fcad62ab1dbdbe21b0956c80fdffa2c?s=128&d=identicon&r=PG", "display_name": "chunhunghan", "link": "https://stackoverflow.com/users/2179571/chunhunghan"}, "edited": false, "score": 0, "creation_date": 1566274603, "post_id": 57553991, "comment_id": 101594351, "body": "Sorry, i have solve this problem. with adding this : The dollar sign is a special character, so if you want it to be ignored you have to escape it with a \\"}], "owner": {"reputation": 101, "user_id": 11945824, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8eLx-fWwcDg/AAAAAAAAAAI/AAAAAAAAAAc/pETZJJqttak/photo.jpg?sz=128", "display_name": "Rizki Syaputra", "link": "https://stackoverflow.com/users/11945824/rizki-syaputra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 747, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1593803196, "creation_date": 1566207168, "last_edit_date": 1582273116, "question_id": 57553991, "link": "https://stackoverflow.com/questions/57553991/how-to-use-odata-in-flutter", "title": "How to use Odata in Flutter", "body": "<p>I want to access data using Odata, but there is $expand. I know that when using $ in flutter, it will call new value</p>\n\n<p>access data using odata in flutter</p>\n\n<p><a href=\"https://192.168.x.x/odata/UserLokasiOdata\" rel=\"nofollow noreferrer\">https://192.168.x.x/odata/UserLokasiOdata</a>?$expand=HSEOL_TR_Relate_USERLOK_LOKASI&amp;$filter=USERID eq 'jubang'</p>\n\n<p>But in flutter can not show the respond anything</p>\n"}]