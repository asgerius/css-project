[{"tags": ["dart"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7886362, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9IeZSZ0Iu1w/AAAAAAAAAAI/AAAAAAAAARc/9tZNj7sdT6c/photo.jpg?sz=128", "display_name": "Anisha Gupta", "link": "https://stackoverflow.com/users/7886362/anisha-gupta"}, "edited": false, "score": 1, "creation_date": 1492714350, "post_id": 43484047, "comment_id": 74108385, "body": "Even though spying is deprecated. Is there a way to get the same results as above with a Spy stub?   Otherwise are you recommending to create and interface and abstract class just to test the functionality in the Test Class?"}], "tags": [], "owner": {"reputation": 839, "user_id": 1781195, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aoESm.jpg?s=128&g=1", "display_name": "Nico", "link": "https://stackoverflow.com/users/1781195/nico"}, "is_accepted": true, "score": 3, "last_activity_date": 1492559654, "creation_date": 1492559654, "answer_id": 43484047, "question_id": 43482393, "link": "https://stackoverflow.com/questions/43482393/stubbing-mocking-spying-a-function-within-a-function-in-dart/43484047#43484047", "title": "Stubbing/Mocking/Spying a function within a function in dart", "body": "<p>Spy is deprecated in mockito. \nInstead it is recommended to handcode part of your stub (or use code generation technique) (see <a href=\"https://github.com/dart-lang/mockito/commit/dc8ce18d6e1096d2546d1ef5afe417cd9e042aee\" rel=\"nofollow noreferrer\">https://github.com/dart-lang/mockito/commit/dc8ce18d6e1096d2546d1ef5afe417cd9e042aee</a>)</p>\n\n<p>I'm not sure of what you want to do but this is what I came up with:</p>\n\n<pre><code>import 'package:mockito/mockito.dart';\nimport 'package:test/test.dart';\n\nabstract class TestInterface {\n  int sum(int i, int z);\n  int addOne(int i);\n}\n\nabstract class BaseTest implements TestInterface {\n  int sum(int i, int z) {\n    return addOne(i) + z;\n  }\n}\n\nclass Test extends Object with BaseTest implements TestInterface {\n  int sum(int i, int z) {\n    return addOne(i) + z;\n  }\n\n  int addOne(int i) {\n    return i + 1;\n  }\n}\n\nclass MockTest extends Mock with BaseTest implements TestInterface {}\n\nmain() {\n  test(\"hello\", () {\n    var mocked = new MockTest();\n    when(mocked.addOne(5)).thenReturn(100);\n\n    expect(mocked.sum(5, 10), 110);\n\n    verify(mocked.addOne(5)).called(1);\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7886362, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9IeZSZ0Iu1w/AAAAAAAAAAI/AAAAAAAAARc/9tZNj7sdT6c/photo.jpg?sz=128", "display_name": "Anisha Gupta", "link": "https://stackoverflow.com/users/7886362/anisha-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1933, "favorite_count": 0, "accepted_answer_id": 43484047, "answer_count": 1, "score": 1, "last_activity_date": 1492559654, "creation_date": 1492550421, "question_id": 43482393, "link": "https://stackoverflow.com/questions/43482393/stubbing-mocking-spying-a-function-within-a-function-in-dart", "title": "Stubbing/Mocking/Spying a function within a function in dart", "body": "<p>I have been working with Dart for the past couple of days for some unit tests. I have been seeing weird functionality on testing a function within a function where I would mock one function to return something but it does not change the prior function. Code and output displayed below: </p>\n\n<h2>Main Class:</h2>\n\n<pre><code>class ToBeTested {\n       int sum(int i, int z) {\n                 return addOne(i) + z;\n            }\n            int addOne(int i) {\n                 return i + 1;\n            }\n     }\n</code></pre>\n\n<h2>Test Created:</h2>\n\n<pre><code>test(\"hello\", () async{\n         var ToBeTestedSpy = spy(new ToBeTested(), new ToBeTested(param1,param 2));\n         print(ToBeTestedSpy.sum(5, 10));\n         when(ToBeTestedSpy.addOne(5)).thenReturn(100);\n         print(ToBeTestedSpy.sum(5, 10));\n  });\n</code></pre>\n\n<p>Output: \n        16\n        16</p>\n\n<p>Why is the output not \n       16 \n       110 \neven after stubbing the spy to override its return to 100? </p>\n"}, {"tags": ["dart"], "comments": [{"owner": {"reputation": 839, "user_id": 1781195, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aoESm.jpg?s=128&g=1", "display_name": "Nico", "link": "https://stackoverflow.com/users/1781195/nico"}, "edited": false, "score": 0, "creation_date": 1492954534, "post_id": 43458627, "comment_id": 74193281, "body": "I find an easy way to have access to the response schema:      <code>var querySchema = new ApiParser().parseSchema(reflectClass(QueryResult ), false);</code>"}], "owner": {"reputation": 839, "user_id": 1781195, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aoESm.jpg?s=128&g=1", "display_name": "Nico", "link": "https://stackoverflow.com/users/1781195/nico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1492458911, "creation_date": 1492458911, "question_id": 43458627, "link": "https://stackoverflow.com/questions/43458627/how-to-deal-with-json-data-read-from-a-database-with-rpc-package", "title": "How to deal with json data read from a database with RPC package", "body": "<p>I try to implement an API using the RPC dart package.</p>\n\n<p>In all the example I found, response are build manually (ie new Response()..message = \"hello\").</p>\n\n<p>In my case, i read JSON data from mongodb and want to return them with minimal transformation (basically picking only external properties).</p>\n\n<p>The <code>fromRequest</code> of the method schema can be used to do this :</p>\n\n<pre><code>  class QueryResult {\n    //my props\n  }\n\n  @ApiMethod(path: \"myMongoQuery\")\n  Future&lt;List&lt;QueryResult&gt;&gt; myMongoQuery() async {\n    var schema = _server.apiMap[\"/query/v1\"].schemaMap[\"QueryResult\"];\n    var results = await coll.find();\n\n    return results.map(schema.fromRequest).toList();\n  }\n</code></pre>\n\n<p>The problem in my code is the first line (<code>_server.apiMap[\"/query/v1\"].schemaMap[\"QueryResult\"]</code>) it's a pure hack to retrieve the schema of my method.</p>\n\n<p>I tried to use mirror to retrieve the schema in an elegant/generic way but did not succeed.</p>\n\n<p>Anyone can help me on this ?</p>\n\n<p>Cheers,</p>\n\n<p>Nicolas</p>\n"}, {"tags": ["dart", "dart-js-interop"], "comments": [{"owner": {"reputation": 4118, "user_id": 5189745, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9KVgR-blq7M/AAAAAAAAAAI/AAAAAAAAB8s/fy6ZAPen-_c/photo.jpg?sz=128", "display_name": "Hadrien Lejard", "link": "https://stackoverflow.com/users/5189745/hadrien-lejard"}, "edited": false, "score": 1, "creation_date": 1492441961, "post_id": 43449297, "comment_id": 73963725, "body": "From my knowledge, this should work, did you try to log the return of <code>$(&#39;.nav-menu&#39;)</code> to see if it exist ? and did you try with package:js <a href=\"https://pub.dartlang.org/packages/js\" rel=\"nofollow noreferrer\">pub.dartlang.org/packages/js</a>, they recommend to use this package instead of dart:js"}, {"owner": {"reputation": 81, "user_id": 7877902, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b82f7f77d72a30a98d90e17f1858136f?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/7877902/charles"}, "reply_to_user": {"reputation": 4118, "user_id": 5189745, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9KVgR-blq7M/AAAAAAAAAAI/AAAAAAAAB8s/fy6ZAPen-_c/photo.jpg?sz=128", "display_name": "Hadrien Lejard", "link": "https://stackoverflow.com/users/5189745/hadrien-lejard"}, "edited": false, "score": 0, "creation_date": 1492478157, "post_id": 43449297, "comment_id": 73979867, "body": "@HadrienLejard hi, thanks for replying, I am going to try it."}, {"owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1492500729, "post_id": 43449297, "comment_id": 73987561, "body": "@Charles to your last update. That doesn&#39;t seem to be related to Dart. Perhaps jquery is not yet initialized or something like that."}], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 7877902, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b82f7f77d72a30a98d90e17f1858136f?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/7877902/charles"}, "is_accepted": false, "score": 1, "last_activity_date": 1495524296, "creation_date": 1495524296, "answer_id": 44128307, "question_id": 43449297, "link": "https://stackoverflow.com/questions/43449297/if-the-original-js-has-many-functions-how-dart-to-initiate-them/44128307#44128307", "title": "if the original JS has many functions, how dart to initiate them?", "body": "<p>guys, I update it to using 'package:js/js.dart';</p>\n\n<pre><code>@JS('AAA.init')\nexternal void aInit();\n</code></pre>\n\n<p>then some where, just simply call after including:</p>\n\n<pre><code>aInit();\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 7877902, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b82f7f77d72a30a98d90e17f1858136f?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/7877902/charles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1495524296, "creation_date": 1492423380, "last_edit_date": 1492500669, "question_id": 43449297, "link": "https://stackoverflow.com/questions/43449297/if-the-original-js-has-many-functions-how-dart-to-initiate-them", "title": "if the original JS has many functions, how dart to initiate them?", "body": "<p>after several rounds of research, I found there is no clear answer about the situation like below:</p>\n\n<p>I have a js file called 'AAA.js', and there is simple code in side like this:</p>\n\n<pre><code>    var AAA = {\n       listenForMenuLayer: function () {\n           console.log(\"menu initiated\");\n           $('.nav-menu').on('click', function() { console.log(\"menu clicked\")});\n       }\n\n         init: function(){\n            this.listenForMenuLayer();\n         }\n    };\n</code></pre>\n\n<p>And in the dart, I wrote like below (using 'dart:js'):</p>\n\n<pre><code>js.context['AAA'].callMethod('init');\n</code></pre>\n\n<p>Then, when I run it, everything looks fine, the <strong>\"menu initiated\" shows properly</strong>, which means the 'listenForMenuLayer' is initiated, but when click on the '.nav-menu', <strong>there is nothing happened</strong>. (I check many times, there is no spelling error or else)</p>\n\n<p>My question is: Can Dart accept this kind of initiating of external JS event? or we should re-write those JS events at all, please advise, many thanks.</p>\n\n<p><strong>Updates:</strong>\nI found that if we write the js code like above, the jquery will not be initiated properly, which means all the features begin with '$' will not be functional.</p>\n"}, {"tags": ["dart"], "answers": [{"tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 4, "last_activity_date": 1492335236, "creation_date": 1492335236, "answer_id": 43435806, "question_id": 43435327, "link": "https://stackoverflow.com/questions/43435327/dart-project-configuration-for-both-server-and-client-programming/43435806#43435806", "title": "Dart project configuration for both server and client programming?", "body": "<p>I'd suggest to split it into three packages.</p>\n\n<ul>\n<li>client</li>\n<li>server</li>\n<li>shared</li>\n</ul>\n\n<p>The main advantage is, that packages used in client or server don't need to be compatible with each other, only within client+shared or within server+shared they need to be compatible, but that's usually a notable smaller set. \nLess dependencies means less opportunity of having conflicting dependency constraints.</p>\n\n<p>A disadvantage might come up when your IDE doesn't make it easy to work with projects that's spread over several packages. IntelliJ does this well. I don't know about others.</p>\n"}], "owner": {"reputation": 2200, "user_id": 316766, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0ffcbae2c4c9c19e9d67def70da3ce65?s=128&d=identicon&r=PG", "display_name": "Jako", "link": "https://stackoverflow.com/users/316766/jako"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 43435806, "answer_count": 1, "score": 1, "last_activity_date": 1492335236, "creation_date": 1492331584, "last_edit_date": 1495541378, "question_id": 43435327, "link": "https://stackoverflow.com/questions/43435327/dart-project-configuration-for-both-server-and-client-programming", "title": "Dart project configuration for both server and client programming?", "body": "<p>I want to develop a Dart project for both server and client programming;\nobviously, I need to share code between the two.</p>\n\n<p>I got <a href=\"https://www.dartlang.org/tools/pub/package-layout\" rel=\"nofollow noreferrer\">dart package layout</a> basics.\nMy question: is there one advised configuration? Do I have more than one option?\nLike one project with both client server parts in it. \nOr, more than one project with the various parts split between them...</p>\n\n<p>I found other questions on SO, but:</p>\n\n<ul>\n<li>they are 'work in progress' and really old </li>\n<li>contains outdated links</li>\n</ul>\n\n<p>The most interesting questions are:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/22380293/recommended-dart-project-layout-for-public-private-app-server-and-or-test-fil\">recommended-dart-project-layout-for-public-private-app-server</a></li>\n<li><a href=\"https://stackoverflow.com/questions/20884103/how-to-organize-mixed-http-server-web-client-dart-project-files\">how-to-organize-mixed-http-server-web-client-dart-project</a></li>\n</ul>\n\n<p>Thanks</p>\n"}, {"tags": ["asynchronous", "async-await", "dart"], "answers": [{"tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 4, "last_activity_date": 1492391151, "last_edit_date": 1492391151, "creation_date": 1492256848, "answer_id": 43425671, "question_id": 43424261, "link": "https://stackoverflow.com/questions/43424261/dart-future-inside-future-not-functioning-properly/43425671#43425671", "title": "Dart - Future inside Future not functioning properly", "body": "<p>This line <code>return discussionsFromDb.forEach((discussion) async {</code> looks weird. <code>forEach</code> doesn't return a <code>Future</code>, it returns <code>void</code>.</p>\n\n<p>Therefore <code>).then(returnDiscussions);</code> is invalid.</p>\n\n<p>Perhaps </p>\n\n<pre><code>  await for(var discussion in discussionsFromDb) {\n    int discussionId = discussion[4];\n    var comments;\n    comments = await getCommentsOfDiscussion(discussionId);\n    discussionsToReturn.add(new Discussion(discussion[0], discussion[1], discussion[2], discussion[3], comments));\n  }\n  return discussionsToReturn;\n</code></pre>\n\n<p>is what you want</p>\n"}], "owner": {"reputation": 4197, "user_id": 7190575, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/63b85f6a33e1b032dabc877b7ff4af50?s=128&d=identicon&r=PG&f=1", "display_name": "OhMad", "link": "https://stackoverflow.com/users/7190575/ohmad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 43425671, "answer_count": 1, "score": 2, "last_activity_date": 1492391151, "creation_date": 1492247529, "question_id": 43424261, "link": "https://stackoverflow.com/questions/43424261/dart-future-inside-future-not-functioning-properly", "title": "Dart - Future inside Future not functioning properly", "body": "<p>so I have this code:</p>\n\n<pre><code>getAllDiscussionsFromDb() async {\n\n  List&lt;Discussion&gt; discussionsToReturn = [];\n\n  List&lt;Discussion&gt; returnDiscussions(var args){\n    return discussionsToReturn;\n  }\n\n  var discussionsFromDb = await database.query(\"select * from discussions\");\n  // We have to instantiate actual discussion objects from the database columns\n  return discussionsFromDb.forEach((discussion) async {\n    int discussionId = discussion[4];\n    var comments;\n    comments = await getCommentsOfDiscussion(discussionId);\n    discussionsToReturn.add(new Discussion(discussion[0], discussion[1], discussion[2], discussion[3], comments));\n  }).then(returnDiscussions);\n}\n</code></pre>\n\n<p>The only problem with it is the comments = ... line.</p>\n\n<p>this is the getCommentsOfDiscussion function:</p>\n\n<pre><code>getCommentsOfDiscussion(id) async {\n\n  List&lt;SingleComment&gt; allComments = [];\n\n  List&lt;SingleComment&gt; returnComments(var args) {\n    return allComments;\n  }\n\n  var commentsFromDb = await database.query(\"select * from comments where discussionId = $id\");\n  // We have to instantiate actual SingleComment objects from the database columns\n  return commentsFromDb.forEach((comment) async {\n    allComments.add(new SingleComment(comment[0], comment[1], comment[2], comment[3]));\n  }).then(returnComments);\n}\n</code></pre>\n\n<p>If I replace the comments = await ... with comments = [], my code works perfectly fine. There must be some sort of error with the await. I tried using .then instead of await, but then I get an error that I can't use call on null.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["for-loop", "dart", "closures"], "answers": [{"tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 5, "last_activity_date": 1492180305, "last_edit_date": 1495540456, "creation_date": 1492180208, "answer_id": 43413563, "question_id": 43413423, "link": "https://stackoverflow.com/questions/43413423/initialize-list-of-lists-in-dart/43413563#43413563", "title": "Initialize list of lists in Dart", "body": "<p>I guess this is what you want:</p>\n\n<pre><code>class Grid {\n    List&lt;List&lt;Cell&gt;&gt; rows; // = new List(GRID_SIZE);\n    Grid() {\n        rows = new List.generate(GRID_SIZE, (i) =&gt; \n               new List.generate(GRID_SIZE, (j) =&gt; new Cell(i, j)));\n    }\n}\n</code></pre>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/25118921/dart-list-of-lists/25119184#25119184\">Dart: List of Lists</a></p>\n"}], "owner": {"reputation": 7501, "user_id": 1454, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a0e3ce2508a262749c9fc3afd681f2d4?s=128&d=identicon&r=PG", "display_name": "Raibaz", "link": "https://stackoverflow.com/users/1454/raibaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3293, "favorite_count": 0, "accepted_answer_id": 43413563, "answer_count": 1, "score": 2, "last_activity_date": 1492180305, "creation_date": 1492179677, "question_id": 43413423, "link": "https://stackoverflow.com/questions/43413423/initialize-list-of-lists-in-dart", "title": "Initialize list of lists in Dart", "body": "<p>I have a grid in Dart implemented as follows:</p>\n\n<pre><code>class Cell {\n    int row; \n    int col;\n    Cell(this.row, this.col);\n}\n\nclass Grid {\n    List&lt;List&lt;Cell&gt;&gt; rows = new List(GRID_SIZE);\n    Grid() {\n        rows.fillRange(0, rows.length, new List(GRID_SIZE));\n    }\n}\n</code></pre>\n\n<p>And i can't seem to find a way to initialize each cell with the proper <code>row</code> and <code>col</code> values: I tried with two nested for loops, like this</p>\n\n<pre><code>for(int i = 0; i &lt; GRID_SIZE; i++) {\n    for(int j = 0; j &lt; GRID_SIZE; j++) {\n        rows[i][j] = new Cell(i, j);\n    }\n}\n</code></pre>\n\n<p>But due to Dart's closure error protection described <a href=\"https://www.dartlang.org/resources/dart-tips/dart-tips-ep-8\" rel=\"nofollow noreferrer\">here</a>, my grid ends up being populated with cells having <code>GRID_SIZE - 1</code> in the <code>row</code> member.</p>\n\n<p>So, what's the idiomatic way in Dart to initialize a nested list?</p>\n"}, {"tags": ["dart", "dart-js-interop"], "answers": [{"tags": [], "owner": {"reputation": 4118, "user_id": 5189745, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9KVgR-blq7M/AAAAAAAAAAI/AAAAAAAAB8s/fy6ZAPen-_c/photo.jpg?sz=128", "display_name": "Hadrien Lejard", "link": "https://stackoverflow.com/users/5189745/hadrien-lejard"}, "is_accepted": true, "score": 2, "last_activity_date": 1492350078, "last_edit_date": 1492350078, "creation_date": 1492174026, "answer_id": 43411815, "question_id": 43402307, "link": "https://stackoverflow.com/questions/43402307/dart-js-interop-for-library-using-jquery/43411815#43411815", "title": "Dart JS interop for library using jQuery", "body": "<p><code>Element</code> is from <code>dart:html</code> and is not annoted with <code>@anonymous</code>, you should use the <code>dynamic</code> keyword instead.</p>\n\n<pre><code>@JS()\nclass JScrollPane {\n  external JScrollPane(dynamic element, JScrollPaneSettings settings);\n}\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Since it is a jQuery plugin, I don't think you can directly access to the JScrollPane, I have never wrap a jQuery plugin, but if you take the example code of the plugin:</p>\n\n<pre><code>$('.scroll-pane').jScrollPane();\n</code></pre>\n\n<p>You can try to wrap the <code>$</code> function</p>\n\n<pre><code>@JS('\\$')\nexternal jQuery(query);\n\n@JS()\n@anonymous\nclass JScrollPaneElement {\n  external jScrollPane();\n}\n\nvoid main() {\n  JScrollPaneElement scrollPane = jQuery('.scroll-pane') as JScrollPaneElement;\n  scrollPane.jScrollPane();\n}\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 4557535, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/f9a5b0074b788182e527f4e19b85c8b3?s=128&d=identicon&r=PG&f=1", "display_name": "Sam B", "link": "https://stackoverflow.com/users/4557535/sam-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 405, "favorite_count": 0, "accepted_answer_id": 43411815, "answer_count": 1, "score": 1, "last_activity_date": 1492350078, "creation_date": 1492120361, "last_edit_date": 1492203604, "question_id": 43402307, "link": "https://stackoverflow.com/questions/43402307/dart-js-interop-for-library-using-jquery", "title": "Dart JS interop for library using jQuery", "body": "<p>I am attempting to use Dart's package:js to create an interop library for JScrollPane, which is wrapped with jQuery.  </p>\n\n<p>Here's what I have so far:</p>\n\n<pre><code>@JS()\nlibrary jscrollpane;\n\nimport 'dart:html';\n\nimport 'package:js/js.dart';\n\n@JS()\n@anonymous\nabstract class JScrollPaneSettings {\n    external factory JScrollPaneSettings({bool showArrows});\n\n    external bool get showArrows;\n\n    external set showArrows(bool value);\n\n}\n\n@JS()\nclass JScrollPane {\n    external JScrollPane(Element element, JScrollPaneSettings settings);\n}\n</code></pre>\n\n<p>And here's the error:</p>\n\n<pre><code>Not a valid JS object\n\nSTACKTRACE:\n#0      JsNative.callConstructor (dart:js:1461)\n#1      JScrollPane.JScrollPane (package:portal/base/views/scrollbar/jscrollpane.dart_js_interop_patch.dart:13:30)\n</code></pre>\n\n<p>And here's the JS library - <a href=\"http://jscrollpane.kelvinluck.com/script/jquery.jscrollpane.js\" rel=\"nofollow noreferrer\">http://jscrollpane.kelvinluck.com/script/jquery.jscrollpane.js</a></p>\n"}, {"tags": ["routing", "dart", "angular-dart"], "answers": [{"comments": [{"owner": {"reputation": 533, "user_id": 2040310, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6ac0e5d1eecffbd807b7fd0bb5d4cdbe?s=128&d=identicon&r=PG", "display_name": "Alan Humphrey", "link": "https://stackoverflow.com/users/2040310/alan-humphrey"}, "edited": false, "score": 0, "creation_date": 1492126793, "post_id": 43397004, "comment_id": 73867068, "body": "No dice. &quot;/Category&quot; and &quot;/Summary&quot; are top level routes. There is no path to &quot;/Summary/Category&quot;. It all works except when I try to navigate to &quot;/Category&quot; from a subcomponent on &quot;/Summary&quot;. FWIW, the third example results in this message in the console: ORIGINAL EXCEPTION: Link &quot;[../Category, {id: health}]&quot; has too many &quot;../&quot; segments."}], "tags": [], "owner": {"reputation": 483716, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1492099586, "creation_date": 1492099586, "answer_id": 43397004, "question_id": 43396950, "link": "https://stackoverflow.com/questions/43396950/how-do-you-navigate-from-a-sub-component-in-angular-dart-2/43397004#43397004", "title": "How do you navigate from a sub component in Angular Dart 2?", "body": "<p>You can use absolute paths like</p>\n\n<pre><code>  Future gotoCategory() {\n    return _router.navigate([\n        '/Summary', 'Category',\n        {'id': categoryCount.Category}\n      ]);\n  }\n</code></pre>\n\n<p>or</p>\n\n<pre><code>  Future gotoCategory() {\n    return _router.navigate([\n        '/Summary/Category',\n        {'id': categoryCount.Category}\n      ]);\n  }\n</code></pre>\n\n<p>or relative paths like</p>\n\n<pre><code>  Future gotoCategory() {\n    return _router.navigate([\n        '../Category',\n        {'id': categoryCount.Category}\n      ]);\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 533, "user_id": 2040310, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6ac0e5d1eecffbd807b7fd0bb5d4cdbe?s=128&d=identicon&r=PG", "display_name": "Alan Humphrey", "link": "https://stackoverflow.com/users/2040310/alan-humphrey"}, "is_accepted": false, "score": 0, "last_activity_date": 1514511751, "last_edit_date": 1514511751, "creation_date": 1492208449, "answer_id": 43419962, "question_id": 43396950, "link": "https://stackoverflow.com/questions/43396950/how-do-you-navigate-from-a-sub-component-in-angular-dart-2/43419962#43419962", "title": "How do you navigate from a sub component in Angular Dart 2?", "body": "<p>The problem turned out to be more than one component having <code>ROUTER_PROVIDERS</code> defined. Once the extras were removed things started behaving.</p>\n"}], "owner": {"reputation": 533, "user_id": 2040310, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6ac0e5d1eecffbd807b7fd0bb5d4cdbe?s=128&d=identicon&r=PG", "display_name": "Alan Humphrey", "link": "https://stackoverflow.com/users/2040310/alan-humphrey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 548, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1514511751, "creation_date": 1492099424, "last_edit_date": 1514511689, "question_id": 43396950, "link": "https://stackoverflow.com/questions/43396950/how-do-you-navigate-from-a-sub-component-in-angular-dart-2", "title": "How do you navigate from a sub component in Angular Dart 2?", "body": "<p>I have three components: <code>Summary</code>, <code>CategorySummary</code> and <code>Category</code>. <code>CategorySummary</code> is a subcomponent of <code>Summary</code>. I've got routes defined for <code>Summary</code> and <code>Category</code> and can navigate between the two of them via <code>[routerLink]</code>.</p>\n\n<p>The problem is that I can't navigate from <code>CategorySummary</code> (the sub-component) to <code>Category</code>. If I put <code>[routerLink]</code> in the template I see the correct URL when I hover over the link. Clicking the link correctly updates the URL in the browser, but the page doesn't change.</p>\n\n<p>The symptoms are the same if I try to navigate via <code>router.navigate</code>.</p>\n\n<p>How do I navigate from a subcomponent?</p>\n\n<p>Here is the code for <code>CategorySummary</code>:</p>\n\n<pre><code>import 'dart:async';\nimport 'package:angular2/core.dart';\nimport 'package:angular2/router.dart';\nimport 'package:PublicSite/models.dart';\nimport 'package:PublicSite/pie_chart_component/pie_chart_component.dart';\n\n@Component(\n        selector: 'category-summary',\n        styleUrls: const ['category_summary_component.css'],\n        templateUrl: 'category_summary_component.html',\n        directives: const [PieChartComponent,ROUTER_DIRECTIVES])\nclass CategorySummaryComponent {\n  final Router _router;\n\n  @Input()\n  PromiseCategoryCount categoryCount;\n\n  CategorySummaryComponent(this._router);\n\n  Future gotoCategory() {\n    return _router.navigate([\n        'Category',\n        {'id': categoryCount.Category}\n      ]);\n  }\n}\n</code></pre>\n\n<hr>\n\n<h3>Update</h3>\n\n<p>Tracing through the router code I found that when I call _router.navigate from my subcomponent the router doesn't have an outlet: _outlet is null. A clue, but what does it mean?</p>\n"}, {"tags": ["dart", "material-design", "flutter"], "comments": [{"owner": {"reputation": 2523, "user_id": 6669611, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-r4OJyp3Hp-8/AAAAAAAAAAI/AAAAAAAAAvI/gqRexRhkGoU/photo.jpg?sz=128", "display_name": "Eric Seidel", "link": "https://stackoverflow.com/users/6669611/eric-seidel"}, "edited": false, "score": 0, "creation_date": 1492102757, "post_id": 43388415, "comment_id": 73856592, "body": "My understanding is that InkWell renders its ripple effect on the enclosing Material.  InkWell adds itself to its enclosing material: <a href=\"https://docs.flutter.io/flutter/material/InkWell-class.html\" rel=\"nofollow noreferrer\">docs.flutter.io/flutter/material/InkWell-class.html</a> <a href=\"https://github.com/flutter/flutter/blob/bf017b7/packages/flutter/lib/src/material/ink_splash.dart#L109\" rel=\"nofollow noreferrer\">github.com/flutter/flutter/blob/bf017b7/packages/flutter/lib&zwnj;&#8203;/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1793, "user_id": 7851337, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/oMgO3.jpg?s=128&g=1", "display_name": "DogeLion", "link": "https://stackoverflow.com/users/7851337/dogelion"}, "edited": false, "score": 0, "creation_date": 1493028700, "post_id": 43398870, "comment_id": 74219551, "body": "Thanks, that was simple :)"}], "tags": [], "owner": {"reputation": 5909, "user_id": 432455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/650ac2be9efddfc61103fe5a0a13abbd?s=128&d=identicon&r=PG", "display_name": "Ian Hickson", "link": "https://stackoverflow.com/users/432455/ian-hickson"}, "is_accepted": true, "score": 11, "last_activity_date": 1492106389, "creation_date": 1492106389, "answer_id": 43398870, "question_id": 43388415, "link": "https://stackoverflow.com/questions/43388415/render-a-ripple-over-the-whole-surface-of-a-card/43398870#43398870", "title": "Render a ripple over the whole surface of a Card", "body": "<p>Put the InkWell inside the Card.</p>\n"}], "owner": {"reputation": 1793, "user_id": 7851337, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/oMgO3.jpg?s=128&g=1", "display_name": "DogeLion", "link": "https://stackoverflow.com/users/7851337/dogelion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1114, "favorite_count": 0, "accepted_answer_id": 43398870, "answer_count": 1, "score": 1, "last_activity_date": 1492106389, "creation_date": 1492075542, "question_id": 43388415, "link": "https://stackoverflow.com/questions/43388415/render-a-ripple-over-the-whole-surface-of-a-card", "title": "Render a ripple over the whole surface of a Card", "body": "<p>Is it possible to have a ripple rendered over the whole surface of a <code>Card</code>?</p>\n\n<p><code>InkWell</code> with a child <code>Card</code> renders the ripple behind the <code>Card</code>; <code>Card</code> itself doesn't have an <code>onTap</code> handler...</p>\n\n<p>So, how to get that ripple?</p>\n"}, {"tags": ["dart", "material-design", "flutter"], "comments": [{"owner": {"reputation": 10052, "user_id": 763935, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/510b0219cf16bff4e861741bde8cff25?s=128&d=identicon&r=PG", "display_name": "david.mihola", "link": "https://stackoverflow.com/users/763935/david-mihola"}, "edited": false, "score": 0, "creation_date": 1492087459, "post_id": 43386310, "comment_id": 73846238, "body": "I can&#39;t really help you with your problem, but for me at least, the Typography screen also seems to slide up from the bottom (as well as fade in). I think it starts about 20% from the top and slides into position. I am on commit <code>ecdfe6</code>."}, {"owner": {"reputation": 4811, "user_id": 1462442, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4da53bea02367ebc6c8fe96f4f825961?s=128&d=identicon&r=PG", "display_name": "user1462442", "link": "https://stackoverflow.com/users/1462442/user1462442"}, "edited": false, "score": 0, "creation_date": 1501513146, "post_id": 43386310, "comment_id": 77799297, "body": "The gallery app slides from the bottom for me too. It does not fade like the OP wanted"}], "answers": [{"comments": [{"owner": {"reputation": 1793, "user_id": 7851337, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/oMgO3.jpg?s=128&g=1", "display_name": "DogeLion", "link": "https://stackoverflow.com/users/7851337/dogelion"}, "edited": false, "score": 0, "creation_date": 1493029073, "post_id": 43398942, "comment_id": 74219776, "body": "Alternatively, is it possible to change the hamburger icon into a &quot;back&quot; arrow and update the app bar&#39;s title programatically? I could do the bookkeeping myself."}], "tags": [], "owner": {"reputation": 5909, "user_id": 432455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/650ac2be9efddfc61103fe5a0a13abbd?s=128&d=identicon&r=PG", "display_name": "Ian Hickson", "link": "https://stackoverflow.com/users/432455/ian-hickson"}, "is_accepted": false, "score": 1, "last_activity_date": 1492106629, "creation_date": 1492106629, "answer_id": 43398942, "question_id": 43386310, "link": "https://stackoverflow.com/questions/43386310/update-scaffold-contents-appbar-title-and-body-without-pushing-a-new-view/43398942#43398942", "title": "Update Scaffold contents (appBar title and body) without pushing a new view?", "body": "<p>For a while we had a hack that made this happen by making the AppBar a Hero, but it was not a good implementation and caused more trouble than it was worth so we backed it out. That's probably what you're seeing.</p>\n\n<p>There's no easy way to do this using Navigator with today's material framework, though you can certainly implement widgets on top of the widgets layer that do it if you want to. What you might be able to do though is implement it by having a Navigator inside the <code>body</code> of your MaterialApp, and then manually replacing the AppBar (maybe via a crossfade widget like AnimatedCrossFade).</p>\n\n<p>Solving this properly is something we intend to do in due course but we are prioritising bugs and API stability at the moment so it is not something we plan to do in the near term (next few months).</p>\n"}], "owner": {"reputation": 1793, "user_id": 7851337, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/oMgO3.jpg?s=128&g=1", "display_name": "DogeLion", "link": "https://stackoverflow.com/users/7851337/dogelion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 740, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1492106629, "creation_date": 1492069220, "question_id": 43386310, "link": "https://stackoverflow.com/questions/43386310/update-scaffold-contents-appbar-title-and-body-without-pushing-a-new-view", "title": "Update Scaffold contents (appBar title and body) without pushing a new view?", "body": "<p>Say I have a main, top-level <code>Scaffold</code> with an <code>appBar</code> and and <code>body</code>.</p>\n\n<p>I have a button in the appBar and in its <code>onTap</code> I do:</p>\n\n<pre><code>Navigator.push(\n    context,\n    new MaterialPageRoute(builder: (_) =&gt; new DogeWidget())\n);\n</code></pre>\n\n<p>Now <code>DogeWidget</code> is also a<code>Scaffold</code>, because I like the appBar's default rendering.</p>\n\n<p>What's happening:</p>\n\n<ul>\n<li>I see the <code>DogeWidget</code> slide from the bottom of the screen. It's a whole scaffold sliding, not just the body.</li>\n</ul>\n\n<p>What I'd like to see:</p>\n\n<ul>\n<li>The main appBar's contents change, its hamburger changes into a \"back arrow\". There is no slide from the bottom, just an ordinary fade.</li>\n</ul>\n\n<p>I don't know if I should write this myself or is there something that Flutter can provide? </p>\n\n<p>AFAICT, the <a href=\"https://github.com/flutter/flutter/tree/master/examples/flutter_gallery\" rel=\"nofollow noreferrer\">Gallery</a> does what I want (e.g. tap on the \"typography\" item) - behavior is different despite my code being an almost literate copy and paste. Why?</p>\n"}]