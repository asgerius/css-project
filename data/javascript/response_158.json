[{"tags": ["javascript", "jquery", "html", "html2canvas"], "comments": [{"owner": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1516233768, "post_id": 48311839, "comment_id": 83609678, "body": "jQuery is simply a library for traversing and manipulating regular elements. Not really clear what specific problem is"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7344459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a3a81c7792637832b697dfb85de40e1?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/7344459/eric"}, "edited": false, "score": 1, "creation_date": 1516234959, "post_id": 48311991, "comment_id": 83609968, "body": "It had to do with height. I&#39;m guessing the text might force a height. Thank you!"}, {"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "reply_to_user": {"reputation": 3, "user_id": 7344459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a3a81c7792637832b697dfb85de40e1?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/7344459/eric"}, "edited": false, "score": 0, "creation_date": 1516235157, "post_id": 48311991, "comment_id": 83610019, "body": "Answer updated making reference of @karthick&#39;s answer  :-)"}], "tags": [], "owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "is_accepted": false, "score": 2, "last_activity_date": 1516235079, "last_edit_date": 1516235079, "creation_date": 1516234203, "answer_id": 48311991, "question_id": 48311839, "link": "https://stackoverflow.com/questions/48311839/how-do-i-take-a-screenshot-using-html2canvas-for-a-jquery-element/48311991#48311991", "title": "How do I take a screenshot using HTML2Canvas for a jQuery element?", "body": "<p>For some reason the <code>target</code> div needs some text inside of it, so, I've put a space <code>&amp;nbsp;</code>.</p>\n\n<p><strong>UPDATE:</strong> Look at the @karthick's answer   </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var fin = document.getElementById(\"finalize\");\r\n\r\nvar createCanv = function(e) {\r\n  html2canvas(document.getElementById(\"target\"), {\r\n    onrendered: function(canvas) {\r\n      var dataURL = canvas.toDataURL();\r\n      console.log(dataURL);\r\n    }\r\n  });\r\n\r\n}\r\n\r\nfin.addEventListener('click', createCanv)\r\n\r\n//This is the test version\r\n\r\nvar testButton = document.getElementById(\"Test\");\r\n\r\nvar testcreateCanv = function(e) {\r\n  html2canvas($('#target'), {\r\n    onrendered: function(canvas) {\r\n      var dataURL = canvas.toDataURL();\r\n      $('img').attr('src', dataURL);\r\n    }\r\n  });\r\n\r\n}\r\n\r\ntestButton.addEventListener('click', testcreateCanv);\r\n\r\nvar tableCount = 0;\r\n      var patronCount = 0;\r\n\r\n      $(function() {\r\n\r\n        $(\"#selectable\").selectable({\r\n\r\n          stop: function() {\r\n\r\n            $(\".ui-selected\").selectable({\r\n              disabled: true\r\n            });\r\n            $(\".ui-selected\").selectable(\"option\", \"disabled\", true);\r\n\r\n            tableCount += 1;\r\n\r\n            var len = 0;\r\n            var result = $(\"#select-result\").empty();\r\n            $(\".ui-selected\", this).each(function() {\r\n              var index = $(\"#selectable li\").index(this);\r\n              result.append(\" #\" + (index + 1));\r\n              len += 1;\r\n            });\r\n\r\n            $(\".ui-selected\").css(\"background-color\", \"red\");\r\n\r\n            $(\".ui-selected\").html(tableCount);\r\n\r\n\r\n\r\n            var log = $(\"#select-log\");\r\n            $(\".ui-selected\", this).each(function() {\r\n              var index = $(\"#selectable li\").index(this);\r\n              log.append(\"Added table \" + tableCount + \" of \" + len + \" consisting of Seat \" + (index + 1) + \" With \" + patronCount + \" People\" + \"&lt;br&gt;\");\r\n              return false;\r\n            });\r\n          }\r\n        });\r\n      });\r\n      \r\n      $(document).ready(function() {\r\n        $(\":enabled\").css(\"border\", \"3px solid green\");\r\n        $(\".ui-selected\").selectable({\r\n          disabled: true\r\n        });\r\n        $(\".ui-selected\").selectable(\"option\", \"disabled\", true);\r\n      });</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>      #feedback {\r\n        font-size: 1.4em;\r\n      }\r\n      \r\n      #selectable .ui-selectee {\r\n        background: #0000ff;\r\n        color: #7FFF00;\r\n      }\r\n      \r\n      #selectable .ui-selecting {\r\n        background: #000000;\r\n        color: #white;\r\n      }\r\n      \r\n      #selectable .ui-selected {\r\n        background: #ff0000;\r\n        color: white;\r\n      }\r\n      \r\n      #selectable {\r\n        list-style-type: none;\r\n        margin: 10;\r\n        padding: 10;\r\n        width: 900px;\r\n      }\r\n      \r\n      #selectable li {\r\n        margin: 3px;\r\n        padding: 1px;\r\n        float: left;\r\n        width: 100px;\r\n        height: 80px;\r\n        font-size: 4em;\r\n        text-align: center;\r\n      }\r\n\r\n      #target {\r\n          min-height:300px;\r\n      }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://code.jquery.com/jquery-1.12.4.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://code.jquery.com/ui/1.12.1/jquery-ui.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;br&gt;\r\n    &lt;div id=\"target\"&gt;\r\n\r\n      &lt;ol id=\"selectable\"&gt;\r\n        &lt;li class=\"ui-widget-content\"&gt;&lt;/li&gt;\r\n        &lt;li class=\"ui-widget-content\"&gt;&lt;/li&gt;\r\n        &lt;li class=\"ui-widget-content\"&gt;&lt;/li&gt;\r\n        &lt;li class=\"ui-widget-content\"&gt;&lt;/li&gt;\r\n        &lt;li class=\"ui-widget-content\"&gt;&lt;/li&gt;\r\n        &lt;li class=\"ui-widget-content\"&gt;&lt;/li&gt;\r\n        &lt;li class=\"ui-widget-content\"&gt;&lt;/li&gt;\r\n        &lt;li class=\"ui-widget-content\"&gt;&lt;/li&gt;\r\n        &lt;li class=\"ui-widget-content\"&gt;&lt;/li&gt;\r\n        &lt;li class=\"ui-widget-content\"&gt;&lt;/li&gt;\r\n        &lt;li class=\"ui-widget-content\"&gt;&lt;/li&gt;\r\n        &lt;li class=\"ui-widget-content\"&gt;&lt;/li&gt;\r\n        &lt;li class=\"ui-widget-content\"&gt;&lt;/li&gt;\r\n        &lt;li class=\"ui-widget-content\"&gt;&lt;/li&gt;\r\n        &lt;li class=\"ui-widget-content\"&gt;&lt;/li&gt;\r\n        &lt;li class=\"ui-widget-content\"&gt;&lt;/li&gt;\r\n      &lt;/ol&gt;\r\n\r\n    &lt;/div&gt;\r\n\r\n\r\n\r\n    &lt;button id=\"finalize\"&gt; Finalize &lt;/button&gt;\r\n    &lt;br&gt;\r\n    &lt;div id=\"target2\"&gt;\r\n      test screenshot\r\n    &lt;/div&gt;\r\n    &lt;button id=\"Test\"&gt; Test &lt;/button&gt;\r\n\r\n\r\n&lt;div&gt;\r\n    &lt;h1&gt;Imgage&lt;/h1&gt;\r\n    &lt;img src=\"\" alt=\"\" /&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 7344459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a3a81c7792637832b697dfb85de40e1?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/7344459/eric"}, "edited": false, "score": 0, "creation_date": 1516234896, "post_id": 48312028, "comment_id": 83609946, "body": "Yup this fixed it! Thank you!"}], "tags": [], "owner": {"reputation": 11071, "user_id": 358435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6a07b64e50a331ba65e6d5b9b410199?s=128&d=identicon&r=PG&f=1", "display_name": "karthick", "link": "https://stackoverflow.com/users/358435/karthick"}, "is_accepted": true, "score": 2, "last_activity_date": 1516234915, "last_edit_date": 1516234915, "creation_date": 1516234552, "answer_id": 48312028, "question_id": 48311839, "link": "https://stackoverflow.com/questions/48311839/how-do-i-take-a-screenshot-using-html2canvas-for-a-jquery-element/48312028#48312028", "title": "How do I take a screenshot using HTML2Canvas for a jQuery element?", "body": "<p>html2canvas works by computing the style of the element using,  element.getComputedStyle().</p>\n\n<p>The #target element that you are using doesn't have any height to it. So during the canvas rendering it computes the height to 0. So you won't be able to see any data.</p>\n\n<p>Try setting a min-height to it. That should solve the issue. You should also specify proper width otherwise the data wont be captured completely.</p>\n\n<pre><code>#target {\n      min-height:300px;\n}\n</code></pre>\n\n<p>Or</p>\n\n<p><strong>Update</strong> much cleaner way, clear the float that you are using in #selectable.</p>\n\n<pre><code>   #selectable:after{\n     content: \"\";\n      display: block; \n      clear: both;\n   }\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7344459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a3a81c7792637832b697dfb85de40e1?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/7344459/eric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1175, "favorite_count": 0, "accepted_answer_id": 48312028, "answer_count": 2, "score": 0, "last_activity_date": 1516235079, "creation_date": 1516232992, "question_id": 48311839, "link": "https://stackoverflow.com/questions/48311839/how-do-i-take-a-screenshot-using-html2canvas-for-a-jquery-element", "title": "How do I take a screenshot using HTML2Canvas for a jQuery element?", "body": "<p>I'd like to use HTML2Canvas to take a screenshot (base64 representation) of a jQuery selectable list. However, it seems to be unable to interpret the jQuery element.  </p>\n\n<p>This is how I'm taking the screenshot.</p>\n\n<pre><code>    html2canvas(document.getElementById(\"target\"), {\n        onrendered: function (canvas) {\n            var dataURL = canvas.toDataURL();\n            console.log(dataURL);\n        }\n    });\n</code></pre>\n\n<p>It works for taking a screenshot of a regular HTML element so I'm not sure what to do now.  </p>\n\n<p><a href=\"https://jsfiddle.net/x3x0e6ws/22/\" rel=\"nofollow noreferrer\">Here is the JSFiddle, make sure to open your console.</a></p>\n"}, {"tags": ["javascript", "reactjs", "webpack", "three.js", "objloader"], "comments": [{"owner": {"reputation": 4120, "user_id": 4916074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pIJHf.jpg?s=128&g=1", "display_name": "Philippe", "link": "https://stackoverflow.com/users/4916074/philippe"}, "edited": false, "score": 0, "creation_date": 1516262735, "post_id": 48311840, "comment_id": 83618229, "body": "That should work but you need to have a server running locally that actually serves static resources. It&#39;s hard to tell based on the snippets you provide here..."}, {"owner": {"reputation": 703, "user_id": 3200704, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/538894664/picture?type=large", "display_name": "LuisEgan", "link": "https://stackoverflow.com/users/3200704/luisegan"}, "reply_to_user": {"reputation": 4120, "user_id": 4916074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pIJHf.jpg?s=128&g=1", "display_name": "Philippe", "link": "https://stackoverflow.com/users/4916074/philippe"}, "edited": false, "score": 0, "creation_date": 1516325073, "post_id": 48311840, "comment_id": 83651277, "body": "I edited to add the server config, where it app.use(&#39;/client&#39;, express.static(&#39;build/client&#39;)); shouldn&#39;t that be enough?"}, {"owner": {"reputation": 4120, "user_id": 4916074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pIJHf.jpg?s=128&g=1", "display_name": "Philippe", "link": "https://stackoverflow.com/users/4916074/philippe"}, "edited": false, "score": 0, "creation_date": 1516352326, "post_id": 48311840, "comment_id": 83659728, "body": "Where are you running the app? Is it deployed in the cloud, in which case you need to load the obj in the client anyway or does it run locally, in which case you would load from the build dir and it should be quick... If your client cannot find the resource then you should check the network tab in your browser developer tools to find out from where it attempts to load it."}], "answers": [{"tags": [], "owner": {"reputation": 703, "user_id": 3200704, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/538894664/picture?type=large", "display_name": "LuisEgan", "link": "https://stackoverflow.com/users/3200704/luisegan"}, "is_accepted": true, "score": 5, "last_activity_date": 1516469605, "last_edit_date": 1516469605, "creation_date": 1516376516, "answer_id": 48344644, "question_id": 48311840, "link": "https://stackoverflow.com/questions/48311840/import-local-obj-to-load-with-three-js-objloader-using-react/48344644#48344644", "title": "import LOCAL .obj to load with Three.js OBJLoader using React", "body": "<p>I figured it out.</p>\n\n<p>In the webpack config I changed the .obj loader, from 'file-loader' to 'url-loader'</p>\n\n<pre><code>const rules = [\n  {\n    test: /\\.mtl$/,\n    loader: 'mtl-loader'\n  },\n  { test: /\\.obj$/,\n\n// CHANGE HERE\n    loader: 'url-loader',\n\n    include: paths.obj\n  },\n  {\n    test: /\\.(png|gif|jpg|svg)$/,\n    include: paths.images,\n    use: [{\n      loader: 'file-loader',\n      options: {\n        name: 'client/assets/[name]-[hash].[ext]',\n      }\n    }]\n  }\n];\n</code></pre>\n\n<p>Note: I also had a problem importing a script called OutlinePass (for THREE.js) that doesn't exist in npm, I managed to import it this way:</p>\n\n<pre><code>const script = document.createElement(\"script\");\n        script.src = require('!!url-loader!../../../assets/webgl/js/OutlinePass.js');\n        script.async = true;\n        document.body.appendChild(script);\n</code></pre>\n\n<p>the script itself didn't work but I managed to import it (what we are talking about here :) )</p>\n"}], "owner": {"reputation": 703, "user_id": 3200704, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/538894664/picture?type=large", "display_name": "LuisEgan", "link": "https://stackoverflow.com/users/3200704/luisegan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2499, "favorite_count": 1, "accepted_answer_id": 48344644, "answer_count": 1, "score": 0, "last_activity_date": 1516469605, "creation_date": 1516232991, "last_edit_date": 1516286853, "question_id": 48311840, "link": "https://stackoverflow.com/questions/48311840/import-local-obj-to-load-with-three-js-objloader-using-react", "title": "import LOCAL .obj to load with Three.js OBJLoader using React", "body": "<p>I'm trying to import a local .obj to be loaded with <code>THREE.OBJLoader().load()</code> function, I know it works because when I pass a non-local URL (for example '<a href=\"http://downloadOBJfromHere.com\" rel=\"nofollow noreferrer\">http://downloadOBJfromHere.com</a>') it loads it perfectly, my main problem is that that way everytime I load it, it has to download the obj and it takes ages.</p>\n\n<p>I'm doing server side rendering with React.</p>\n\n<pre><code>import * as THREE from 'three';\nimport * as OBJLoader from 'three-obj-loader';\nimport obj from '../../../assets/obj/scene.obj';\n</code></pre>\n\n<p>In <code>ComponentDidMount()</code>:</p>\n\n<pre><code>const loader = new THREE.OBJLoader();\n        loader.load( obj,\n            object =&gt; {\n                scene.add(object);\n            },\n            xhr =&gt; {\n                console.log( ( xhr.loaded / xhr.total * 100 ) + '% loaded' );\n            },\n            error =&gt; {\n                console.log(\"Error! \", error);\n            }\n        );\n</code></pre>\n\n<p>When I do this I get the error in the Chrome console:</p>\n\n<pre><code>Unexpected line: '&lt;!doctype html&gt;&lt;html lang=\"en\" data-reactroot=\"\" data-reactid=\"1\" data-react-checksum=\"1415239080\"&gt;&lt;head data-reactid=\"2\"&gt;&lt;meta charset=\"utf-8\" data-reactid=\"3\"/&gt;&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0\" data-reactid=\"4\"/&gt;&lt;title data-reactid=\"5\"&gt;TITLE&lt;/title&gt;&lt;link rel=\"stylesheet\" href=\"/client/style.css\" data-reactid=\"6\"/&gt;&lt;/head&gt;&lt;body data-reactid=\"7\"&gt;&lt;div id=\"root\" data-reactid=\"8\"&gt;&lt;!-- react-empty: 1 --&gt;&lt;/div&gt;&lt;script type=\"text/javascript\" src=\"/client/vendor.js\" data-reactid=\"9\"&gt;&lt;/script&gt;&lt;script type=\"text/javascript\" src=\"/client/client.js\" data-reactid=\"10\"&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;'\n</code></pre>\n\n<p>(Keep in mind that with the URL it loads fine). It shows me the root html that is served.</p>\n\n<p>So I'm guessing it has to do with some webpack config for importing files, I'm using <code>file-loader</code> to load .obj files:</p>\n\n<p>This is part of my webpack config:</p>\n\n<pre><code>const paths = {\n  source: path.join(__dirname, '../source'),\n  javascript: path.join(__dirname, '../source/js'),\n  images: path.join(__dirname, '../source/assets/img'),\n  svg: path.join(__dirname, '../source/assets/svg'),\n  obj: path.join(__dirname, '../source/assets/obj'),\n  build: path.join(__dirname, '../build'),\n};\n\nconst rules = [\n  {\n    test: /\\.mtl$/,\n    loader: 'mtl-loader'\n  },\n  { test: /\\.obj$/,\n    loader: 'file-loader',\n    include: paths.obj\n  },\n  {\n    test: /\\.(png|gif|jpg|svg)$/,\n    include: paths.images,\n    use: [{\n      loader: 'file-loader',\n      options: {\n        name: 'client/assets/[name]-[hash].[ext]',\n      }\n    }]\n  }\n];\n</code></pre>\n\n<p><strong>EDIT</strong>\nAdded images loader to show how I serve images.</p>\n\n<p>Here's part of my server config</p>\n\n<pre><code>const app = express();\nconst hostname = 'localhost';\nconst port = 8080;\n\napp.use('/client', express.static('build/client'));\n\napp.use((req, res) =&gt; {\n  const { persistor, store } = configureStore();\n  const context = {};\n\n  const appHtml = ReactDOMServer.renderToString(\n    &lt;Provider store={ store }&gt;\n      &lt;PersistGate persistor={ persistor }&gt;\n        &lt;StaticRouter location={ req.url } context={ context }&gt;\n            &lt;App /&gt;\n        &lt;/StaticRouter&gt;\n      &lt;/PersistGate&gt;\n    &lt;/Provider&gt;\n  );\n\n  const serverHtml = getServerHtml(appHtml, 'dehydratedState');\n  if (context.url) {\n    res.redirect(301, context.url);\n  } else {\n    res.status(context.status || 200).send(serverHtml);\n  }\n});\n\napp.listen(port, err =&gt; callback);\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "random"], "comments": [{"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 0, "creation_date": 1516232920, "post_id": 48311787, "comment_id": 83609461, "body": "I have no idea what a Kata is and I don&#39;t know that it much matters when it comes to your question. Could you possibly be more clear about what issue you&#39;re having?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9209408"}, "reply_to_user": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 0, "creation_date": 1516233984, "post_id": 48311787, "comment_id": 83609727, "body": "A Kata is what the CodeWars website called challenges. There is a page in CodeWars where you create, edit and test your code/your Kata with the windows I have described above.. To users of CodeWars, it is familiar language. I was not trying to be cute, zfrisch. It is what the CodeWars website uses. And, a lot of people here are familiar with the term."}, {"owner": {"reputation": 14667, "user_id": 535480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jBU8R.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/535480/james"}, "edited": false, "score": 1, "creation_date": 1516235949, "post_id": 48311787, "comment_id": 83610195, "body": "I have a feeling that you&#39;re testing your own &quot;kata solving&quot; function rather than the user&#39;s test code.  Your <code>Test.assert..</code> line is basically seeing whether your own function works, and importantly means that any function passed to the server will work (see the error message you got).  Perhaps you need give your kata-solving function a different name to the function that the user is sending you?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9209408"}, "edited": false, "score": 0, "creation_date": 1516237536, "post_id": 48311787, "comment_id": 83610540, "body": "I will try that, James."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9209408"}, "edited": false, "score": 0, "creation_date": 1516299861, "post_id": 48311787, "comment_id": 83641405, "body": "James: Your suggestion worked. If you make your comment an answer, I will mark it as the one that helped me."}], "owner": {"user_type": "does_not_exist", "display_name": "user9209408"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1516232620, "creation_date": 1516232620, "question_id": 48311787, "link": "https://stackoverflow.com/questions/48311787/what-is-wrong-with-my-random-test-generator-code-for-a-new-kata-for-code-wars-r", "title": "What is wrong with my Random Test generator code for a new Kata for Code Wars? Receiving error message", "body": "<p>I am working on my first Kata. I have a working Beta Kata and have received some good feedback. I am now trying to add some random tests. </p>\n\n<p>The Kata in Beta is named \"Create Four Letter Birding Codes from Bird Names\" if you want to go try it to see what is being required.</p>\n\n<p>I read some tutorial pages as to how to code the random tests. I thought I had successfully completed mine. I pasted it into the Test Cases window under my previous (nonrandom) test cases. I clicked the \"Validate Solution\" button. The code in the Complete Solutions window passed all the tests including the random tests. I validated it many times to generate a number of random tests. They all passed. But, when I clicked on the \"Republish\" link at the top of the Kata Beta page, I received this error:</p>\n\n<blockquote>\n  <p>\u201cInitial Solution is invalid. (javascript) The code should not pass\n  the kata test cases\u201d</p>\n</blockquote>\n\n<p>I have not changed the code in the Initial Solution window since I started working on the Kata. I did not get this error when I ran the first Test Cases before publishing. I did not get the message when I validated the random tests. </p>\n\n<p>Here is the code in the Initial Solution window:</p>\n\n<pre><code>function birdCode(arr){\n\n\n}\n</code></pre>\n\n<p>Here is most of the code for the random test generator. \nI did not include the function that solves the Kata.</p>\n\n<p>My Kata gives the user an array of bird names/strings. \nThe function they write will return an array of four letter codes in upper case.\nSo, for the random tests, I set up an array of codes, and an object with codes as keys and names as values.</p>\n\n<p>The code generates a random number from 0 to the length of the array of codes. \nIt gets a code based on that number, and then gets the corresponding name from the object. \nIt then pushes the code into one array (the correct code the user should return), and the name into another (the array which will be given to the user).\nThe Test.Asserts then uses these two arrays.</p>\n\n<pre><code>function birdCode(arr){\n\n// The function that solves the Kata is here.\n\nreturn arrReturn;\n\n}\n\n///// Test Cases and Random Test Case Generation:\n\nvar arrTestCodes = [\"BRAN\", \"ESCU\", \"YBMA\", \"BTTH\", \"CHUK\", \"COHA\", \"RNPH\", \"BCRF\", \"SURF\", \"BAOR\", \"YTWA\", \"RAGM\", \"LIMP\", \"MEGU\", \"VGSW\", \"LWFG\"];\n\nvar codesNames = {\n  BRAN:\"Brant\",\n  CHUK:\"Chukar\",\n  SURF:\"Surfbird\",\n  LIMP:\"Limpkin\",\n  ESCU:\"Eskimo Curlew\",\n  COHA:\"Cooper\u2019s Hawk\",\n  BAOR:\"Baltimore Oriole\",\n  MEGU:\"Mew Gull\",\n  YBMA:\"Yellow-Billed Magpie\",\n  RNPH:\"Red-Necked Phalarope\",\n  YTWA:\"Yellow-Throated Warbler\",\n  VGSW:\"Violet-Green Swallow\",\n  BTTH:\"Bare-throated Tiger-Heron\",\n  BCRF:\"Brown-capped Rosy-Finch\",\n  RAGM:\"Red-and-green Macaw\",\n  LWFG:\"Lesser White-fronted Goose\"\n}\n\nvar nbr = 0;\nvar codeToUse = \"\";\nvar nameToUse = \"\";\nvar arrForRandomTest01 = [];\nvar arrForRandomResults01 = [];\n\nfor(var i = 0; i &lt; 4; i++){\n  nbr = Math.floor(Math.random() * (arrTestCodes.length - 1 + 1 - 0) + 0);\n  codeToUse = arrTestCodes[nbr];\n  nameToUse = codesNames[codeToUse];\n  arrForRandomTest01.push(nameToUse);\n  arrForRandomResults01.push(codeToUse);\n}\n\nTest.assertDeepEquals(birdCode(arrForRandomTest01),arrForRandomResults01)\n</code></pre>\n\n<p>I can easily modify this code to generate more than one random test case by creating more sets of arrays and creating more for loops that generate random numbers and populate the arrays. But, I would like to get this one random test working first. </p>\n"}, {"tags": ["javascript", "arrays", "reactjs"], "owner": {"reputation": 135, "user_id": 2909286, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cfed8b5287af4f1922b3b3ed4c9452aa?s=128&d=identicon&r=PG&f=1", "display_name": "SolidSnake", "link": "https://stackoverflow.com/users/2909286/solidsnake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 424, "favorite_count": 2, "answer_count": 0, "score": 2, "last_activity_date": 1516233240, "creation_date": 1516232398, "last_edit_date": 1516233240, "question_id": 48311750, "link": "https://stackoverflow.com/questions/48311750/react-how-do-i-make-child-components-in-an-array-re-render-upon-prop-change", "title": "React: How do I make Child components in an Array re-render upon prop change?", "body": "<p>I have a MainComponent which has several buttons with different texts. Upon button click the first time for any of them, it'll create a new window component. There is a flag that prevents it from creating more Windows unless this flag changes for some reason (I didn't need to include it here). Assume the code can create multiple Window components and add it to the list and render it successfully, which it does but if the mode is changed, click the buttons again won't create more components.</p>\n\n<p>I render this array of objects by creating an state array and state flag and add new Window component to that array everytime a new one is created and render that array.</p>\n\n<p>My problem is that when new Window create flag is off (flagObj !== null), I click any of the buttons which pass in differing values to the current windows, and I want the values to update. But the values DO NOT update. Each window.body prop accesses this.state.currentWindowData which is what I'm changing everytime a button gets clicked in this mode, and using dev tool I see that the state gets changed accordingly.</p>\n\n<p>For some reason, it is not propagating down to the children Window components in the list. What is the problem?</p>\n\n<pre><code>MainComponent\nconstructor(props) {\n    super(props)\n    this.state = {renderWindow: false, windowArray: []}\n    this.manage= this.manage.bind(this)\n}\n\nopenWindow() {\n   const newWindow = &lt;Window key={shortid.generate()} body={this.state.currentWindowData}/&gt;;\n    this.setState({\n        renderWindow: true, \n        windowArray: [newWindow, ...this.state.windowArray]\n     })\n}\n\nmodify(val) {\n    this.setState({currentWindowData: val});\n}\n\nmanageWindow(val) {\n    if (flagObj === null) {\n        this.setState({currentWindowData: val}, () =&gt; {\n            this.openWindow();\n        });\n    } else {    \n        this.modifyWindow();\n    }\n}\n\nrender() {\n    return (\n      &lt;div&gt;\n        &lt;button onClick = {() =&gt; this.manage(\"text1\")}/&gt;\n        &lt;button onClick = {() =&gt; this.manage(\"text2\")}/&gt;\n        &lt;button onClick = {() =&gt; this.manage(\"text3\")}/&gt;\n        {this.state.renderWindow ? this.state.windowArray : null}\n      &lt;/div&gt;\n    )\n}\n</code></pre>\n\n<p>This is the window component. I render this.props.body (the state data passed in) and also do this.props.bodyData (set from componentWillReceiveProps), but neither update.</p>\n\n<pre><code>Window\nconstructor(props) {\n    super(props);\n}\n\ncomponentWillReceiveProps(nextProps) {\n    this.setState({bodyData: nextProps.body});\n}\n\nrender() {\n    return (\n        &lt;div&gt;\n            {this.props.body}   \n            {this.state.bodyData}\n        &lt;/div&gt; \n    );\n}\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "css", "vb.net"], "answers": [{"comments": [{"owner": {"reputation": 121, "user_id": 9058739, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/781b1e7de78fd5f1e8aa68a55063a92b?s=128&d=identicon&r=PG&f=1", "display_name": "lanes123", "link": "https://stackoverflow.com/users/9058739/lanes123"}, "edited": false, "score": 0, "creation_date": 1516266550, "post_id": 48311771, "comment_id": 83620353, "body": "brilliant exactly what i wanted, but i am trying to use in an asp environment (ascx) user control but it doesn&#39;t seem to be working for some reason"}, {"owner": {"reputation": 81839, "user_id": 901048, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/be8Sq.png?s=128&g=1", "display_name": "Blazemonger", "link": "https://stackoverflow.com/users/901048/blazemonger"}, "reply_to_user": {"reputation": 121, "user_id": 9058739, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/781b1e7de78fd5f1e8aa68a55063a92b?s=128&d=identicon&r=PG&f=1", "display_name": "lanes123", "link": "https://stackoverflow.com/users/9058739/lanes123"}, "edited": false, "score": 0, "creation_date": 1516287592, "post_id": 48311771, "comment_id": 83633706, "body": "You&#39;re welcome. By the way, don&#39;t forget to accept your favorite answers to all your questions -- it encourages others to continue helping you in the future."}], "tags": [], "owner": {"reputation": 81839, "user_id": 901048, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/be8Sq.png?s=128&g=1", "display_name": "Blazemonger", "link": "https://stackoverflow.com/users/901048/blazemonger"}, "is_accepted": true, "score": 0, "last_activity_date": 1516232834, "last_edit_date": 1516232834, "creation_date": 1516232517, "answer_id": 48311771, "question_id": 48311739, "link": "https://stackoverflow.com/questions/48311739/css-jquery-checkbox-toggle-display/48311771#48311771", "title": "css jquery checkbox toggle display", "body": "<p>You can add a <code>data-</code> attribute to the checkbox, containing the ID of the element you want toggled.</p>\n\n<p>(Note that I changed the ID <code>isAgeSelected</code> to a class; IDs should always be unique, since JavaScript will only select the first instance of an ID that it finds.)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('.isAgeSelected').click(function() {\r\n    $($(this).data('toggle')).toggle(this.checked);\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;input type=\"checkbox\" data-toggle=\"#txtAge\" class=\"isAgeSelected\"/&gt;\r\n&lt;input type=\"checkbox\" data-toggle=\"#txtAge2\" class=\"isAgeSelected\"/&gt;\r\n\r\n&lt;div id=\"txtAge\" style=\"display:none\"&gt;Age is something&lt;/div&gt;\r\n&lt;div id=\"txtAge2\" style=\"display:none\"&gt;Age is nothing&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 121, "user_id": 9058739, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/781b1e7de78fd5f1e8aa68a55063a92b?s=128&d=identicon&r=PG&f=1", "display_name": "lanes123", "link": "https://stackoverflow.com/users/9058739/lanes123"}, "edited": false, "score": 0, "creation_date": 1516354117, "post_id": 48311779, "comment_id": 83660743, "body": "Would you happen to know why it does not work in an asp environment? or of a different method to use in vb.net"}], "tags": [], "owner": {"reputation": 10593, "user_id": 1347953, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/315f975f0f6f3b02f09ba70a366f05d7?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien", "link": "https://stackoverflow.com/users/1347953/s%c3%a9bastien"}, "is_accepted": false, "score": 0, "last_activity_date": 1516232579, "creation_date": 1516232579, "answer_id": 48311779, "question_id": 48311739, "link": "https://stackoverflow.com/questions/48311739/css-jquery-checkbox-toggle-display/48311779#48311779", "title": "css jquery checkbox toggle display", "body": "<p>You don't need the ID to select the checkboxes, use a generic class instead.</p>\n\n<p>This solution relies on the fact that the text is the next sibling of the checkbox.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('.isAgeSelected').click(function() {\r\n    $(this).next().toggle(this.checked);\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;input type=\"checkbox\" class=\"isAgeSelected\"/&gt;\r\n&lt;div class=\"txtAge\" style=\"display:none\"&gt;1Age is something&lt;/div&gt;\r\n\r\n&lt;input type=\"checkbox\" class=\"isAgeSelected\"/&gt;\r\n&lt;div class=\"txtAge\" style=\"display:none\"&gt;2Age is something&lt;/div&gt;\r\n\r\n&lt;input type=\"checkbox\" class=\"isAgeSelected\"/&gt;\r\n&lt;div class=\"txtAge\" style=\"display:none\"&gt;3Age is something&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1023, "user_id": 4104145, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/179adbca221a38f709ec288ce36edd52?s=128&d=identicon&r=PG&f=1", "display_name": "raneshu", "link": "https://stackoverflow.com/users/4104145/raneshu"}, "is_accepted": false, "score": 0, "last_activity_date": 1516232644, "creation_date": 1516232644, "answer_id": 48311791, "question_id": 48311739, "link": "https://stackoverflow.com/questions/48311739/css-jquery-checkbox-toggle-display/48311791#48311791", "title": "css jquery checkbox toggle display", "body": "<p>Use a function. Like so:</p>\n\n<pre><code>function doSomething(firstObjectSelector, secondObjectSelector){\n        $(firstObjectSelector).click(function() {\n            $(secondObjectSelector).toggle(this.checked);\n        });\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>doSomething('#isAgeSelected', '#isAgeSelected'); //using ids\n</code></pre>\n\n<p>or </p>\n\n<pre><code>doSomething('.isAgeSelected', '.isAgeSelected'); //using classes\n</code></pre>\n\n<p>or</p>\n\n<pre><code>doSomething('div', 'span'); //using tags\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 9058739, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/781b1e7de78fd5f1e8aa68a55063a92b?s=128&d=identicon&r=PG&f=1", "display_name": "lanes123", "link": "https://stackoverflow.com/users/9058739/lanes123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 314, "favorite_count": 0, "accepted_answer_id": 48311771, "answer_count": 3, "score": 0, "last_activity_date": 1516232834, "creation_date": 1516232319, "last_edit_date": 1516232654, "question_id": 48311739, "link": "https://stackoverflow.com/questions/48311739/css-jquery-checkbox-toggle-display", "title": "css jquery checkbox toggle display", "body": "<p>I have this function to toggle the display of the text when clicked, but I have about 5 different of these in my application where everything is called different ID's, is there a way of doing that without having to create 5 different functions?</p>\n\n<p>This is my attempt of doing it given the ID but am not sure on how to do without, but the issue i am getting when doing all is it will toggle all 5 at the same time, when its meant to be one by 1 \n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('#isAgeSelected').click(function() {\r\n    $(\"#txtAge\").toggle(this.checked);\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;input type=\"checkbox\" id=\"isAgeSelected\"/&gt;\r\n&lt;div id=\"txtAge\" style=\"display:none\"&gt;Age is something&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Or, is there a different way in doing it in vb.net?</p>\n\n<p>All help is appreciated :)</p>\n"}, {"tags": ["javascript", "asp.net", "ajax", "asp.net-mvc", "asp.net-core"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1516231324, "post_id": 48311560, "comment_id": 83609036, "body": "What are you using <code>JSON.parse</code>? Should be just <code>var obj = response.Success</code>"}, {"owner": {"reputation": 1375, "user_id": 1307149, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/53a9cb83624414e7b2dbc360201c4568?s=128&d=identicon&r=PG", "display_name": "user1307149", "link": "https://stackoverflow.com/users/1307149/user1307149"}, "edited": false, "score": 0, "creation_date": 1516231388, "post_id": 48311560, "comment_id": 83609051, "body": "I tried that and it is producing the same result.  Called response.Success.toString(), tried &#39;&#39; + response.Success."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 1, "creation_date": 1516231434, "post_id": 48311560, "comment_id": 83609072, "body": "What result? You have not explained what the result is in either case."}, {"owner": {"reputation": 1375, "user_id": 1307149, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/53a9cb83624414e7b2dbc360201c4568?s=128&d=identicon&r=PG", "display_name": "user1307149", "link": "https://stackoverflow.com/users/1307149/user1307149"}, "edited": false, "score": 0, "creation_date": 1516231606, "post_id": 48311560, "comment_id": 83609110, "body": "Byte array is not the same from the inputs.  I edited my post."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1516231763, "post_id": 48311560, "comment_id": 83609150, "body": "And what is <code>Utf8.parse()</code>? What plugin are you using?"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1516231896, "post_id": 48311560, "comment_id": 83609176, "body": "Your <code>temp</code> is empty, since <code>getMyString()</code> doesn&#39;t return anything. Once again this is a ..."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 1, "creation_date": 1516231908, "post_id": 48311560, "comment_id": 83609177, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call\">How do I return the response from an asynchronous call?</a>"}], "owner": {"reputation": 1375, "user_id": 1307149, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/53a9cb83624414e7b2dbc360201c4568?s=128&d=identicon&r=PG", "display_name": "user1307149", "link": "https://stackoverflow.com/users/1307149/user1307149"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1516231563, "creation_date": 1516231147, "last_edit_date": 1516231563, "question_id": 48311560, "link": "https://stackoverflow.com/questions/48311560/ajax-string-success-parse-not-the-same-as-hard-coding-the-string-in-javascript", "title": "Ajax String Success Parse not the same as hard coding the string in Javascript", "body": "<p>If I hard-code this, everything is as expected:</p>\n\n<pre><code>var bytes = Utf8.parse('myString');\n</code></pre>\n\n<p>But this does return the same string as above.</p>\n\n<pre><code>var temp = String(getMyString());\nvar bytes = Utf8.parse(temp)\n</code></pre>\n\n<p>Here is my ajax call that calls the next code block.</p>\n\n<pre><code>    function getMyString() {\n        $.ajax({\n            dataType: 'json',\n            type: 'post',\n            contentType: 'application/json',\n            url: '/Controller/GetString',\n            success: function (response) {\n                var obj = JSON.parse(response.Success);\n                return obj;\n            }\n        });\n    }\n</code></pre>\n\n<p>My Controller Calls the Next Code Block.</p>\n\n<pre><code>    public JsonResult GetString()\n    {\n        var s = myClass.GetMyString();\n        return Json(new { Success = s });\n    }\n</code></pre>\n\n<p>In a static class</p>\n\n<pre><code>public static string GetMyString()\n{            \n    return \"myString\";\n}\n</code></pre>\n\n<p>The End result is a thrown exception because the Byte array is off, because the input string is somehow not the same.  I thought a async controller might be to blame, so that is my next attempt.</p>\n"}, {"tags": ["javascript", "jquery", "switch-statement"], "comments": [{"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 1, "creation_date": 1516232072, "post_id": 48311547, "comment_id": 83609218, "body": "Because the return false is in the case that isn&#39;t being ran. Also quite confused as to why you&#39;re trying to get an attribute value from the document."}, {"owner": {"reputation": 171, "user_id": 1342746, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/023190af6691433920aa9c039430f54d?s=128&d=identicon&r=PG", "display_name": "jQueryster", "link": "https://stackoverflow.com/users/1342746/jqueryster"}, "reply_to_user": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1516233499, "post_id": 48311547, "comment_id": 83609601, "body": "I perfectly understand what your saying but the default code block should only run if there is no match found. The element you&#39;re confused about is that I&#39;m actually using it as a target for another code."}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1516233535, "post_id": 48311547, "comment_id": 83609608, "body": "I think you are mistaken. Add console.logs or a debugger statement to confirm and include console output in question. The answer you selected working seems to confirm my suspicion."}], "answers": [{"comments": [{"owner": {"reputation": 171, "user_id": 1342746, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/023190af6691433920aa9c039430f54d?s=128&d=identicon&r=PG", "display_name": "jQueryster", "link": "https://stackoverflow.com/users/1342746/jqueryster"}, "edited": false, "score": 0, "creation_date": 1516231756, "post_id": 48311559, "comment_id": 83609147, "body": "Hello Babak, the console still gets triggered. Open the console and check it"}, {"owner": {"reputation": 11522, "user_id": 120753, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/8mz8N.jpg?s=128&g=1", "display_name": "Babak Naffas", "link": "https://stackoverflow.com/users/120753/babak-naffas"}, "edited": false, "score": 0, "creation_date": 1516232479, "post_id": 48311559, "comment_id": 83609328, "body": "Good catch. $(this) is the whole document, not the button that was clicked."}], "tags": [], "owner": {"reputation": 11522, "user_id": 120753, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/8mz8N.jpg?s=128&g=1", "display_name": "Babak Naffas", "link": "https://stackoverflow.com/users/120753/babak-naffas"}, "is_accepted": false, "score": 0, "last_activity_date": 1516232399, "last_edit_date": 1516232399, "creation_date": 1516231136, "answer_id": 48311559, "question_id": 48311547, "link": "https://stackoverflow.com/questions/48311547/why-is-the-return-false-not-working-on-a-switch-statement/48311559#48311559", "title": "Why is the return false not working on a switch statement?", "body": "<p>The class for your button is \"btn btn-default\" but your switch case looks only for \"btn-default\", which does not match.</p>\n"}, {"comments": [{"owner": {"reputation": 171, "user_id": 1342746, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/023190af6691433920aa9c039430f54d?s=128&d=identicon&r=PG", "display_name": "jQueryster", "link": "https://stackoverflow.com/users/1342746/jqueryster"}, "edited": false, "score": 0, "creation_date": 1516231990, "post_id": 48311583, "comment_id": 83609197, "body": "Hello FrankerZ, I get this error message - Cannot read property &#39;split&#39; of undefined..."}, {"owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "reply_to_user": {"reputation": 171, "user_id": 1342746, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/023190af6691433920aa9c039430f54d?s=128&d=identicon&r=PG", "display_name": "jQueryster", "link": "https://stackoverflow.com/users/1342746/jqueryster"}, "edited": false, "score": 0, "creation_date": 1516232292, "post_id": 48311583, "comment_id": 83609280, "body": "@jQueryster See my update. You want to use <code>event.target</code> instead of <code>this</code>."}, {"owner": {"reputation": 171, "user_id": 1342746, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/023190af6691433920aa9c039430f54d?s=128&d=identicon&r=PG", "display_name": "jQueryster", "link": "https://stackoverflow.com/users/1342746/jqueryster"}, "edited": false, "score": 0, "creation_date": 1516232720, "post_id": 48311583, "comment_id": 83609399, "body": "It worked! You&#39;ve just saved me more headaches. Thanks for your answer!"}], "tags": [], "owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "is_accepted": true, "score": 0, "last_activity_date": 1516232269, "last_edit_date": 1516232269, "creation_date": 1516231254, "answer_id": 48311583, "question_id": 48311547, "link": "https://stackoverflow.com/questions/48311547/why-is-the-return-false-not-working-on-a-switch-statement/48311583#48311583", "title": "Why is the return false not working on a switch statement?", "body": "<p>Simply put: \"btn btn-default\" will not match \"btn-default\". You either need to split/check the classes, or use something like jQuery's <a href=\"https://api.jquery.com/hasclass/\" rel=\"nofollow noreferrer\"><code>.hasClass()</code></a> on the element.</p>\n\n<p>You should use an if statement (<code>eClass.split(/ +/).includes('btn-default')</code> will split all your classes by whitespace, and <a href=\"https://www.w3schools.com/jsref/jsref_includes.asp\" rel=\"nofollow noreferrer\"><code>.includes</code></a> will search for any class that matches btn-default):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).on('click', function(event) {\r\n  var e = $( event.target );\r\n  var eClass = e.attr( 'class' ) || ''; //Default to empty string if the class doesn't have an attribute of class.\r\n  \r\n  if ( eClass.split(/ +/).includes('btn-default') ) {\r\n    return false;\r\n  }\r\n\r\n  var identifier = $( '.identifier' );\r\n\r\n  if (!$(event.target).find( $( identifier ) ).length ) {\r\n    console.log( 'Identical' );\r\n  }   \r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"row\"&gt;\r\n    &lt;div class=\"col visible\" data-id=\"el_1\"&gt;\r\n        Visible Content\r\n    &lt;/div&gt;\r\n    &lt;div class=\"col\"&gt;\r\n        &lt;button type=\"button\" class=\"btn btn-default\"&gt;\r\n           Click\r\n        &lt;/button&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;div class=\"identifier\" id=\"el_1\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Also: jQuery has a <a href=\"https://api.jquery.com/hasclass/\" rel=\"nofollow noreferrer\"><code>.hasClass()</code></a> you can use as well, to determine if a class exists on an element.</p>\n"}, {"comments": [{"owner": {"reputation": 171, "user_id": 1342746, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/023190af6691433920aa9c039430f54d?s=128&d=identicon&r=PG", "display_name": "jQueryster", "link": "https://stackoverflow.com/users/1342746/jqueryster"}, "edited": false, "score": 0, "creation_date": 1516231731, "post_id": 48311593, "comment_id": 83609139, "body": "Hello Ryan, the console still gets triggered. Open the console and check it"}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 1, "creation_date": 1516232213, "post_id": 48311593, "comment_id": 83609260, "body": "<code>this</code> isn&#39;t what you think it is."}, {"owner": {"reputation": 171, "user_id": 1342746, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/023190af6691433920aa9c039430f54d?s=128&d=identicon&r=PG", "display_name": "jQueryster", "link": "https://stackoverflow.com/users/1342746/jqueryster"}, "edited": false, "score": 0, "creation_date": 1516232887, "post_id": 48311593, "comment_id": 83609450, "body": "@Ryan McCullagh thanks for helping out, btw, I didn&#39;t down vote  your answer."}, {"owner": {"reputation": 13521, "user_id": 654953, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f6453f58b70e93dbfa8998b71a95bb09?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/654953/ryan"}, "reply_to_user": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1516293028, "post_id": 48311593, "comment_id": 83637452, "body": "@KevinB Actually it is, it&#39;s the object that was clicked."}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1516293061, "post_id": 48311593, "comment_id": 83637473, "body": "@RyanMcCullagh well, no, it was the element that the event was bound to. In this case, <code>document</code>"}, {"owner": {"reputation": 13521, "user_id": 654953, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f6453f58b70e93dbfa8998b71a95bb09?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/654953/ryan"}, "reply_to_user": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1516293502, "post_id": 48311593, "comment_id": 83637758, "body": "@KevinB either way My answer simplifies his code. He was using the exact same <code>this</code>"}], "tags": [], "owner": {"reputation": 13521, "user_id": 654953, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f6453f58b70e93dbfa8998b71a95bb09?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/654953/ryan"}, "is_accepted": false, "score": 0, "last_activity_date": 1516231323, "creation_date": 1516231323, "answer_id": 48311593, "question_id": 48311547, "link": "https://stackoverflow.com/questions/48311547/why-is-the-return-false-not-working-on-a-switch-statement/48311593#48311593", "title": "Why is the return false not working on a switch statement?", "body": "<p>You can use <code>hasClass</code>, to check if the element contains the class <code>btn-default</code>. You can also get rid of your switch statement to make the code easier to read. </p>\n\n<pre><code>if($(this).hasClass('btn-default')) {\n    return false;\n}\nelse {\n    var identifier = $( '.identifier' );\n    if (!$(event.target).find( $( identifier ) ).length ) {\n        console.log( 'Identical' );\n\n    }   \n}     \n</code></pre>\n"}], "owner": {"reputation": 171, "user_id": 1342746, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/023190af6691433920aa9c039430f54d?s=128&d=identicon&r=PG", "display_name": "jQueryster", "link": "https://stackoverflow.com/users/1342746/jqueryster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 48311583, "answer_count": 3, "score": -2, "last_activity_date": 1516232399, "creation_date": 1516231049, "last_edit_date": 1516231167, "question_id": 48311547, "link": "https://stackoverflow.com/questions/48311547/why-is-the-return-false-not-working-on-a-switch-statement", "title": "Why is the return false not working on a switch statement?", "body": "<p>I'm running a Javascript <em>Switch Statement</em> when clicking on any element in the body. \nSo, when a match is found (in this case, I'm targeting a button class and returning false), the <em>break keyword</em> should stop the execution and ignore all the rest of the code. Instead, the <em>default code block</em> still runs when I click on the button. It triggers a console message that I've set in the <em>default code block</em> and it shouldn't.</p>\n\n<p>Why is the <strong>return false or break keyword</strong> not working?</p>\n\n<p>How can I stop the <strong>default code block</strong> from running when there is already a match?</p>\n\n<p>(Open the console to see messages)\nHere is an example <a href=\"https://jsfiddle.net/h9sj4hLz/1/\" rel=\"nofollow noreferrer\">Jsfiddle</a></p>\n\n<p><strong>Javascript</strong>   </p>\n\n<pre><code> $(document).on('click', function(event) {\n\n  var e = $( this );\n  var eClass = e.attr( 'class' );\n\n  switch( eClass ){\n\n      case 'btn-default':\n\n             return false;\n\n             break;\n\n      default:\n\n          var identifier = $( '.identifier' );\n\n          if (!$(event.target).find( $( identifier ) ).length ) {\n\n                console.log( 'Identical' );\n\n          }            \n       }\n\n\n });\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code> &lt;div class=\"row\"&gt;\n    &lt;div class=\"col visible\" data-id=\"el_1\"&gt;\n        Visible Content\n    &lt;/div&gt;\n    &lt;div class=\"col\"&gt;\n        &lt;button type=\"button\" class=\"btn btn-default\"&gt;\n           Click\n        &lt;/button&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n  &lt;div class=\"identifier\" id=\"el_1\"&gt;&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "arrays"], "comments": [{"owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 2, "creation_date": 1516231124, "post_id": 48311541, "comment_id": 83608974, "body": "Do you REALLY store all users and passwords on the client???"}, {"owner": {"reputation": 3, "user_id": 9232146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2c9963129bf3f488edb794c6efbfcc3?s=128&d=identicon&r=PG&f=1", "display_name": "rfrieger", "link": "https://stackoverflow.com/users/9232146/rfrieger"}, "reply_to_user": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 0, "creation_date": 1516231177, "post_id": 48311541, "comment_id": 83608992, "body": "No its just for learning purposes"}, {"owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 0, "creation_date": 1516231205, "post_id": 48311541, "comment_id": 83609001, "body": "Look at Array.some method"}], "answers": [{"comments": [{"owner": {"reputation": 368, "user_id": 5454830, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100002201904319/picture?type=large", "display_name": "IamCavic", "link": "https://stackoverflow.com/users/5454830/iamcavic"}, "reply_to_user": {"reputation": 3, "user_id": 9232146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2c9963129bf3f488edb794c6efbfcc3?s=128&d=identicon&r=PG&f=1", "display_name": "rfrieger", "link": "https://stackoverflow.com/users/9232146/rfrieger"}, "edited": false, "score": 0, "creation_date": 1516231515, "post_id": 48311584, "comment_id": 83609089, "body": "@rfrieger you are welcome, if it worked well for you please do accept the answer by clicking the check mark.! Cheers"}], "tags": [], "owner": {"reputation": 368, "user_id": 5454830, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100002201904319/picture?type=large", "display_name": "IamCavic", "link": "https://stackoverflow.com/users/5454830/iamcavic"}, "is_accepted": true, "score": 0, "last_activity_date": 1516231272, "creation_date": 1516231272, "answer_id": 48311584, "question_id": 48311541, "link": "https://stackoverflow.com/questions/48311541/loop-through-all-element-in-array-before-displaying-alert/48311584#48311584", "title": "loop through all element in array before displaying alert", "body": "<p>I assume you would like to stop when you find the correct username password combination anyways. So your ELSE is breaking the loop because it is executed on every run.</p>\n\n<p>Here is proposal:</p>\n\n<pre><code>var success = false;\n\nfor(i= 0 ; i&lt; user.length; i+=1) {\n  if (username === user[i].username &amp;&amp; password === user[i].password) {\n     success = true; \n  } \n}\n\nif(success){\n    alert(\"Log In Successful\");\n\n    document.getElementById(\"btn\").style.display= \"none\"\n    document.getElementById(\"navbar-user\").innerHTML = username;\n    modal.style.display= \"none\";\n}else{\n    alert(\"Username or Password Incorrect\"); \n}\n</code></pre>\n\n<p>Now code will run and complete all elements in array, if user is found it will set <code>success</code> to <code>true</code>, and alter it otherwise it is false by default.</p>\n"}, {"comments": [{"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1516231458, "post_id": 48311595, "comment_id": 83609075, "body": "You might as well use <code>.some()</code> instead of <code>.find()</code> if you&#39;re not using the matching value from the array."}], "tags": [], "owner": {"reputation": 1293, "user_id": 1367039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e89dcb45151fded5c1a3b749646be5f2?s=128&d=identicon&r=PG", "display_name": "Chris Riebschlager", "link": "https://stackoverflow.com/users/1367039/chris-riebschlager"}, "is_accepted": false, "score": 0, "last_activity_date": 1516231340, "creation_date": 1516231340, "answer_id": 48311595, "question_id": 48311541, "link": "https://stackoverflow.com/questions/48311541/loop-through-all-element-in-array-before-displaying-alert/48311595#48311595", "title": "loop through all element in array before displaying alert", "body": "<p>Here's a more functional approach using <code>find</code> to search the <code>user</code> array for a match before continuing.</p>\n\n<pre><code>let successfulLogin = user.find(u =&gt; {\n    return u.username === username &amp;&amp; u.password === password;\n});\n\nif(successfulLogin) {\n    alert(\"Log In Successful\");\n    document.getElementById(\"btn\").style.display = \"none\"\n    document.getElementById(\"navbar-user\").innerHTML = username;\n    modal.style.display = \"none\";\n} else {\n    alert(\"Username or Password Incorrect\");\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "is_accepted": false, "score": 0, "last_activity_date": 1516231482, "creation_date": 1516231482, "answer_id": 48311623, "question_id": 48311541, "link": "https://stackoverflow.com/questions/48311541/loop-through-all-element-in-array-before-displaying-alert/48311623#48311623", "title": "loop through all element in array before displaying alert", "body": "<p>Using Array some() Method:</p>\n\n<pre><code>if (! user.some(u =&gt; username === u.username &amp;&amp; password === u.password) )\n    alert('Username or Password Incorrect');\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 368, "user_id": 5454830, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100002201904319/picture?type=large", "display_name": "IamCavic", "link": "https://stackoverflow.com/users/5454830/iamcavic"}, "edited": false, "score": 0, "creation_date": 1516231580, "post_id": 48311624, "comment_id": 83609105, "body": "This code will fire on every array element.. OP said that he doesn&#39;t want that.. cheers"}, {"owner": {"reputation": 3, "user_id": 9232146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2c9963129bf3f488edb794c6efbfcc3?s=128&d=identicon&r=PG&f=1", "display_name": "rfrieger", "link": "https://stackoverflow.com/users/9232146/rfrieger"}, "edited": false, "score": 0, "creation_date": 1516231599, "post_id": 48311624, "comment_id": 83609109, "body": "yeah I&#39;m just testing. Thanks for the help"}], "tags": [], "owner": {"reputation": 722, "user_id": 7275926, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GKtan.jpg?s=128&g=1", "display_name": "Firas Omrane", "link": "https://stackoverflow.com/users/7275926/firas-omrane"}, "is_accepted": false, "score": 0, "last_activity_date": 1516231660, "last_edit_date": 1516231660, "creation_date": 1516231485, "answer_id": 48311624, "question_id": 48311541, "link": "https://stackoverflow.com/questions/48311541/loop-through-all-element-in-array-before-displaying-alert/48311624#48311624", "title": "loop through all element in array before displaying alert", "body": "<p>Hope you are just testing your code including passwords in the client side .</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let alertSucc =true;\r\nfor(i= 0 ; i&lt; user.length; i+=1) {\r\n  if (username === user[i].username &amp;&amp; password === user[i].password) {\r\n\r\n      document.getElementById(\"btn\").style.display= \"none\"\r\n      document.getElementById(\"navbar-user\").innerHTML = username;\r\n      modal.style.display= \"none\";\r\n  } else {\r\n      alertSucc =false;\r\n      \r\n  } \r\n}\r\n  alertSucc ? alert(\"Log In Successful\"):alert(\"Username or Password Incorrect\");</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 795, "user_id": 7729375, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IvAEh.jpg?s=128&g=1", "display_name": "Benjamin Charais", "link": "https://stackoverflow.com/users/7729375/benjamin-charais"}, "is_accepted": false, "score": 0, "last_activity_date": 1516231724, "creation_date": 1516231724, "answer_id": 48311669, "question_id": 48311541, "link": "https://stackoverflow.com/questions/48311541/loop-through-all-element-in-array-before-displaying-alert/48311669#48311669", "title": "loop through all element in array before displaying alert", "body": "<p>Using a couple returns and moving down your alert outside of the if statement will help because return will kick out of the current iteration of the loop</p>\n\n<pre><code>for(i= 0 ; i&lt; user.length; i+=1) {\n  if (username === user[i].username &amp;&amp; password === user[i].password) {\n    alert(\"Log In Successful\");\n    document.getElementById(\"btn\").style.display= \"none\"\n    document.getElementById(\"navbar-user\").innerHTML = username;\n    modal.style.display= \"none\";\n    return;\n  } else {\n    console.log(\"We haven't proven whether true or false.\n    return;\n  } \n  alert(\"We did not find proper credentials that were true, and tested all inputs\")\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 890, "user_id": 2335137, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/22db48dc1b0dd10ffa71cabb9e1a1b43?s=128&d=identicon&r=PG", "display_name": "JGoodgive", "link": "https://stackoverflow.com/users/2335137/jgoodgive"}, "is_accepted": false, "score": 0, "last_activity_date": 1516231880, "creation_date": 1516231880, "answer_id": 48311694, "question_id": 48311541, "link": "https://stackoverflow.com/questions/48311541/loop-through-all-element-in-array-before-displaying-alert/48311694#48311694", "title": "loop through all element in array before displaying alert", "body": "<p>It is not clear if you want to show SUCCESS on all valid or on 1 valid user?\nAnd I pray that logic never ever reaches the world! :)</p>\n\n<pre><code>let userGOOD = [{username: \"a\", password: \"b\"}, {username: \"a\", password: \"b\"}];\nlet userBAD = [{username: \"a\", password: \"b\"}, {username: \"a\", password: \"c\"}];\nlet test = (username, password) =&gt; (user) =&gt; username === user.username &amp;&amp; \npassword === user.password;\nlet testAB = test(\"a\", \"b\");\nlet GOOD = userGOOD.reduce((p, c) =&gt; p &amp;&amp; testAB(c), true);\nlet BAD = userBAD.reduce((p, c) =&gt; p &amp;&amp; testAB(c), true);\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9232146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2c9963129bf3f488edb794c6efbfcc3?s=128&d=identicon&r=PG&f=1", "display_name": "rfrieger", "link": "https://stackoverflow.com/users/9232146/rfrieger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 48311584, "answer_count": 6, "score": 0, "last_activity_date": 1516231880, "creation_date": 1516231018, "question_id": 48311541, "link": "https://stackoverflow.com/questions/48311541/loop-through-all-element-in-array-before-displaying-alert", "title": "loop through all element in array before displaying alert", "body": "<p>I want to check an array of usernames and passwords to authenticate user. The code I have stops at every element of the array and displays alert. how can I have it loop through the entire array then show alert.  </p>\n\n<pre><code>for(i= 0 ; i&lt; user.length; i+=1) {\n  if (username === user[i].username &amp;&amp; password === user[i].password) {\n\n    alert(\"Log In Successful\");\n\n    document.getElementById(\"btn\").style.display= \"none\"\n    document.getElementById(\"navbar-user\").innerHTML = username;\n    modal.style.display= \"none\";\n  } else {\n      alert(\"Username or Password Incorrect\")\n  } \n</code></pre>\n"}, {"tags": ["javascript", "arrays", "asynchronous", "vuejs2"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1516231240, "post_id": 48311525, "comment_id": 83609014, "body": "by the way, you do <code>Promise.all([this.calculateTransactionAmounts(groupId)]).the&zwnj;&#8203;n</code> - so, you&#39;re running <code>Promise.all</code> on a <b>single promise</b> .. just do <code>this.calculateTransactionAmounts(groupId).then</code> instead"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1516231362, "post_id": 48311525, "comment_id": 83609046, "body": "Also, avoid the <a href=\"https://stackoverflow.com/questions/23803743/what-is-the-explicit-promise-construction-antipattern-and-how-do-i-avoid-it\">explicit Promise construction anti-pattern</a> - which you are guilty of in <code>calculateTransactionAmounts</code> function as <code>axios.get</code> returns a Promise, there&#39;s no need to wrap that Promise in a <code>new Promise</code>"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1516232654, "post_id": 48311525, "comment_id": 83609385, "body": "by the way, I believe your code boils down to <a href=\"https://jsfiddle.net/zxk59o6c/\" rel=\"nofollow noreferrer\">jsfiddle.net/zxk59o6c</a>"}, {"owner": {"reputation": 85, "user_id": 8406394, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6b7567393ccb230f8baa9022e0a257e6?s=128&d=identicon&r=PG&f=1", "display_name": "Alex ", "link": "https://stackoverflow.com/users/8406394/alex"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1516234549, "post_id": 48311525, "comment_id": 83609865, "body": "@JaromandaX I just copy pasted ur snipped and all i tried within 8 hours now is resolved. Ur my personal genious :* Thank you so much!"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1516235100, "post_id": 48311525, "comment_id": 83610002, "body": "I&#39;ve added an answer, with some explanation of the changes to your code."}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 8406394, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6b7567393ccb230f8baa9022e0a257e6?s=128&d=identicon&r=PG&f=1", "display_name": "Alex ", "link": "https://stackoverflow.com/users/8406394/alex"}, "edited": false, "score": 0, "creation_date": 1516236030, "post_id": 48312093, "comment_id": 83610221, "body": "thank you so much also for explaining. I must say im pretty new to Javascript, have to do this for a study project but trying to improve further :)"}], "tags": [], "owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "is_accepted": false, "score": 1, "last_activity_date": 1516235010, "creation_date": 1516235010, "answer_id": 48312093, "question_id": 48311525, "link": "https://stackoverflow.com/questions/48311525/async-data-fetching-in-for-loop-javascript/48312093#48312093", "title": "Async data fetching in for loop javascript", "body": "<p>Analysing your code, it can be greatly simplified as follows</p>\n\n<pre><code>prepareTransactionAmouts() {\n    return Promise.all(this.transactionGroups.map((group, i) =&gt; \n        this.calculateTransactionAmounts(group.groupId)\n        .then(promiseData =&gt; group.totalAmount = promiseData)\n    )).then(results =&gt; {\n        this.transactionGroups.sort(this.GetSortOrder(\"totalAmount\"));\n        this.amountsCalculated = true;\n    });\n},\ncalculateTransactionAmounts(groupId) {\n    return axios.get(webServiceURL + \"/groups/\" + groupId, {\n        headers: {\n            Authorization: \"0 \" + this.authToken\n        }\n    })\n    .then(response =&gt; \n            response.data.payload.transactions.reduce((total, { amount }) =&gt; total + amount, 0)\n    );\n}\n</code></pre>\n\n<p>Changes from your code include</p>\n\n<ol>\n<li><p>Using Promise.all on promises returned by mapping this.transactionGroups to the (Promise) result  of each call to <code>this.calculateTransactionAmounts</code></p></li>\n<li><p>Performing the <code>this.transactionGroups.sort</code> and <code>amountsCalculated = true</code> once all the above promises have resolved - rather than tracking the index, since this does not account for asynchronism anyway</p></li>\n<li><p>Removing the <code>new Promsie</code> anti pattern in <code>calculateTransactionAmounts</code></p></li>\n<li><p>Simplifying the <code>amount += transactions[j].amount</code> by using Array#reduce</p></li>\n<li><p>In general, using modern (ES2015+) javascript where applicable</p></li>\n</ol>\n"}], "owner": {"reputation": 85, "user_id": 8406394, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6b7567393ccb230f8baa9022e0a257e6?s=128&d=identicon&r=PG&f=1", "display_name": "Alex ", "link": "https://stackoverflow.com/users/8406394/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 430, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516235010, "creation_date": 1516230936, "question_id": 48311525, "link": "https://stackoverflow.com/questions/48311525/async-data-fetching-in-for-loop-javascript", "title": "Async data fetching in for loop javascript", "body": "<p>Im trying to fetch some data in dependecy of currently existing data.\nThe usecase is the following: I have a json array of groups, to calculate the amount of all transactions of each group i have to do an axios.get request for each group (to request this groups i need there groupIds, existing in the groups array). But i think i stuck cause i dont really know how to iterate through a for loop asynchronously.\nHere is what i did:</p>\n\n<pre><code>repareTransactionAmouts: function(){\n     for(var i = 0; i &lt; this.transactionGroups.length; i++){\n         var groupId = this.transactionGroups[i].groupId\n         this.transactionsGroupsCount = i;\n       Promise.all([this.calculateTransactionAmounts(groupId)]).then( promiseData =&gt;  {\n\n    this.transactionGroups[this.transactionsGroupsCount].totalAmount=promiseData[0]\n\n     if(this.transactionsGroupsCount == this.transactionGroups.length){\n       this.transactionGroups.sort(this.GetSortOrder(\"totalAmount\"))\n       this.amountsCalculated = true;\n     }\n    }\n }\n },\n</code></pre>\n\n<p>transactionsGroups is my array of filtered groups with transactions and transactionsGroupCount is a global variable to add the transactionamounts to the array position on [transactionsGroupCount]. When all groups are filled with the amout i want to sort this and set a boolean. </p>\n\n<p>Next the function calculateTransactionAmounts:</p>\n\n<pre><code>    calculateTransactionAmounts: function(groupId){\nreturn new Promise((resolve, reject) =&gt; {\n  var transactions = []\n  var amount = null\n      axios\n        .get(webServiceURL + \"/groups/\" + groupId, {\n          headers: { Authorization: \"0 \" + this.authToken }\n        })\n        .then(response =&gt; {\n            transactions = response.data.payload.transactions;\n\n\nconsole.log(\"Desired Group: \" + JSON.stringify(response.data.payload));\n                for(let j = 0; j &lt; transactions.length; j++){\n                  amount += transactions[j].amount\n                  console.log(\"Transactiongroup\" )                                   \n                  console.log(JSON.stringify\n                  (this.transactionGroups[this.transactionsGroupsCount]))                                             \n              resolve(amount)\n            }              \n        })\n        .catch(e =&gt; {\n          console.log(\"Errors get groupids: \" + e);\n          reject(e)\n        });     \n      })},\n</code></pre>\n\n<p>The main problem here is, that the for-loop is processed completly before the function calculateTransactionAmounts is called, so i have some calls but all with the same groupId. There is some fancy stuff happening which i cant explain why: The output \"Desired Group\" displays me every group i have in my array, but the \"this.transactionGroups[this.transactionsGroupsCount]\" outputs me allways the same group, for every iteration. </p>\n\n<p>If it helps: im developing a vue2 app and need this fetched amount data to display some transaction charts</p>\n"}, {"tags": ["javascript", "xml", "rest"], "comments": [{"owner": {"reputation": 2627, "user_id": 2595450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GviOi.png?s=128&g=1", "display_name": "Spoody", "link": "https://stackoverflow.com/users/2595450/spoody"}, "edited": false, "score": 0, "creation_date": 1516231226, "post_id": 48311522, "comment_id": 83609009, "body": "do a <code>console.log()</code> for all the variables (other than <code>varBudget</code>)"}], "answers": [{"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1516235643, "post_id": 48311708, "comment_id": 83610132, "body": "<code>.val()</code> is for the value of input fields in the DOM, not XML data."}], "tags": [], "owner": {"reputation": 1023, "user_id": 4104145, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/179adbca221a38f709ec288ce36edd52?s=128&d=identicon&r=PG&f=1", "display_name": "raneshu", "link": "https://stackoverflow.com/users/4104145/raneshu"}, "is_accepted": false, "score": 0, "last_activity_date": 1516232035, "creation_date": 1516232035, "answer_id": 48311708, "question_id": 48311522, "link": "https://stackoverflow.com/questions/48311522/javascript-summing-variables-together/48311708#48311708", "title": "Javascript - Summing variables together", "body": "<p>Your code should look like this:</p>\n\n<pre><code>varOpexAmount  = parseFloat($(xml).find('d\\\\:OpexAmount ').val());\n\nvarPreCapexorCapexAmount  = parseFloat($(xml).find('d\\\\:PreCapexorCapexAmount ').val());\n\nvarSuppCapexAmount = parseFloat($(xml).find('d\\\\:SuppCapexAmount').val());\n\nvarBudget = varOpexAmount + varPreCapexorCapexAmount + varSuppCapexAmount;\n$(\"#Budget\").append(varBudget); \n</code></pre>\n\n<p>I have used <code>parseFloat</code> above, but you may use <code>parseInt</code> if and where necessary.</p>\n\n<p><strong>Also, you may not need to parse the value, if it's already an int or float.</strong> </p>\n\n<p>Basically, you are trying to add jQuery objects. Instead, you need to get the value represented by the object and parse it (using parseFloat or parseInt) where necessary before using it.</p>\n"}, {"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1516235614, "post_id": 48311717, "comment_id": 83610124, "body": "<code>.val()</code> is just for HTML input fields, not XML."}], "tags": [], "owner": {"reputation": 890, "user_id": 2335137, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/22db48dc1b0dd10ffa71cabb9e1a1b43?s=128&d=identicon&r=PG", "display_name": "JGoodgive", "link": "https://stackoverflow.com/users/2335137/jgoodgive"}, "is_accepted": false, "score": 0, "last_activity_date": 1516232123, "creation_date": 1516232123, "answer_id": 48311717, "question_id": 48311522, "link": "https://stackoverflow.com/questions/48311522/javascript-summing-variables-together/48311717#48311717", "title": "Javascript - Summing variables together", "body": "<p>$() returns a JQuery object.</p>\n\n<p>you have to extract the text from it first.</p>\n\n<pre><code>+ $(\"#whatever\").text()\n</code></pre>\n\n<p>or</p>\n\n<pre><code>+ $(\"whatever\").val()\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 9231887, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215729138048351/picture?type=large", "display_name": "Coen Critchley", "link": "https://stackoverflow.com/users/9231887/coen-critchley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1516232123, "creation_date": 1516230918, "question_id": 48311522, "link": "https://stackoverflow.com/questions/48311522/javascript-summing-variables-together", "title": "Javascript - Summing variables together", "body": "<p>Im having issues trying to get variables to add (sum) together to get the total value of the variables. From what ive tried so far;</p>\n\n<p>*Prefacing the variables with a '+' to get their numeric value</p>\n\n<p>*Using parseFloat() and parseInt() to get their numeric value</p>\n\n<p>However i havent had any luck with them</p>\n\n<p>&nbsp\nSo far all that is returned is </p>\n\n<p><code>[object Object][object Object][object Object]</code></p>\n\n<p>Below is the snippet of my code</p>\n\n<pre><code>    varOpexAmount  = $(xml).find('d\\\\:OpexAmount ')\n\n    varPreCapexorCapexAmount  = $(xml).find('d\\\\:PreCapexorCapexAmount ')\n\n    varSuppCapexAmount = $(xml).find('d\\\\:SuppCapexAmount')\n\n    varBudget = varOpexAmount + varPreCapexorCapexAmount + varSuppCapexAmount;\n    $(\"#Budget\").append(varBudget); \n</code></pre>\n"}, {"tags": ["javascript", "html", "dart", "dart-html"], "answers": [{"tags": [], "owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "is_accepted": true, "score": 2, "last_activity_date": 1516233014, "creation_date": 1516233014, "answer_id": 48311843, "question_id": 48311468, "link": "https://stackoverflow.com/questions/48311468/detect-focus-loss-for-input-element-not-onblur/48311843#48311843", "title": "Detect focus loss for input element, not onBlur", "body": "<p>Please look at events sequence:</p>\n\n<ol>\n<li>input.focus</li>\n<li>li.mousedown</li>\n<li>input.blur</li>\n<li>li.mouseup</li>\n<li>li.click</li>\n</ol>\n\n<p>So you might setup a flag variable, turn it up on <code>li.mousedown</code>, check it on <code>input.blur</code> and decide if you need to hide the list, and then turn it down on <code>li.click</code></p>\n"}], "owner": {"reputation": 561, "user_id": 3507547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/138198821a077c95cd0a8990162f03d2?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis Kuypers", "link": "https://stackoverflow.com/users/3507547/dennis-kuypers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 278, "favorite_count": 0, "accepted_answer_id": 48311843, "answer_count": 1, "score": 1, "last_activity_date": 1516233014, "creation_date": 1516230596, "question_id": 48311468, "link": "https://stackoverflow.com/questions/48311468/detect-focus-loss-for-input-element-not-onblur", "title": "Detect focus loss for input element, not onBlur", "body": "<p>I'm implementing an autocomplete/combobox in dart. I'm using two elements for this, a <code>&lt;input type=\"text\"&gt;</code> and a <code>&lt;ul&gt;</code> for the suggestions. I want to hide via css style <code>display: none</code> whenever the user leaves the input box. This works when using <code>onBlur</code>on the input element.</p>\n\n<p>If the user tries to click an item in the <code>&lt;ul&gt;</code>, the input looses focus and the <code>&lt;ul&gt;</code>is hidden before the click event on the <code>&lt;li&gt;</code> is run.</p>\n\n<pre><code>_listElement = new UListElement();\n_textElement = new TextInputElement()\n  ..onBlur((e) =&gt; setDisplayToNone(_listElement)); // hide element\n</code></pre>\n\n<p>I noticed that a jQueryUI implementation does not have this issue and I can not figure out how they detect when to hide the suggestion box. see <a href=\"https://jqueryui.com/autocomplete/\" rel=\"nofollow noreferrer\">https://jqueryui.com/autocomplete/</a></p>\n\n<p>What alternate way can i use to hide the <code>&lt;ul&gt;</code> without hiding it on <code>_textElement.onBlur</code>?</p>\n\n<p>If it helps, the two elements are always wrapped by a <code>&lt;div&gt;</code>. I'm looking for a dart-only solution, although vanilla-js answers that I can rebuild in dart are also appreciated.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 1704, "user_id": 5373949, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WQRei.jpg?s=128&g=1", "display_name": "Thamer", "link": "https://stackoverflow.com/users/5373949/thamer"}, "edited": false, "score": 0, "creation_date": 1516230773, "post_id": 48311461, "comment_id": 83608864, "body": "you means select ?"}, {"owner": {"reputation": 715, "user_id": 5076168, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/27640d7c6cef1ca016add7258a061933?s=128&d=identicon&r=PG&f=1", "display_name": "eZ_Harry", "link": "https://stackoverflow.com/users/5076168/ez-harry"}, "reply_to_user": {"reputation": 1704, "user_id": 5373949, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WQRei.jpg?s=128&g=1", "display_name": "Thamer", "link": "https://stackoverflow.com/users/5373949/thamer"}, "edited": false, "score": 0, "creation_date": 1516230883, "post_id": 48311461, "comment_id": 83608900, "body": "@Thamerbelfkih I am sorry, I dont understand what you are asking?"}], "answers": [{"comments": [{"owner": {"reputation": 715, "user_id": 5076168, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/27640d7c6cef1ca016add7258a061933?s=128&d=identicon&r=PG&f=1", "display_name": "eZ_Harry", "link": "https://stackoverflow.com/users/5076168/ez-harry"}, "edited": false, "score": 0, "creation_date": 1516241935, "post_id": 48312404, "comment_id": 83611558, "body": "Thanks! Worked great"}], "tags": [], "owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "is_accepted": true, "score": 1, "last_activity_date": 1516237734, "creation_date": 1516237734, "answer_id": 48312404, "question_id": 48311461, "link": "https://stackoverflow.com/questions/48311461/how-to-get-value-from-a-dynamic-dropdown-menu/48312404#48312404", "title": "How to get value from a dynamic dropdown menu", "body": "<p><strong>Do the following:</strong></p>\n\n<ul>\n<li>You can get the height from the visible drop-down</li>\n<li>Remove the <code>onchange=calculateTotal</code> from the drop-down and put it inside of <code>$('#fencing').bind('change', function(){...}</code>.</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n    $('#fencing').bind('change', function() {\r\n        calculateTotal();\r\n       \r\n        var elements = $('div.container').children().hide(); // hide all the elements\r\n        var value = $(this).val();\r\n\r\n        if (value.length) { // if somethings' selected\r\n            elements.filter('.' + value).show(); // show the ones we want\r\n        }\r\n    }).trigger('change');\r\n    \r\n    $('.second-level-select').bind('change', function() {\r\n        var elements = $('div.second-level-container').children().hide(); // hide all the elements\r\n        var value = $(this).val();\r\n\r\n        if (value.length) { // if somethings' selected\r\n            elements.filter('.' + value).show(); // show the ones we want\r\n        }\r\n    }).trigger('change');\r\n});\r\n\r\nhideTotal();\r\n\r\n\r\nvar fencing_prices= new Array();\r\nfencing_prices[\"None\"]=0;\r\nfencing_prices[\"premiumTimber\"]=10;\r\nfencing_prices[\"roughSawnTimber\"]=5;\r\n\r\n//This function finds the filling price based on the\r\n//drop down selection\r\nfunction getFencingPrice() {\r\n    var cakeFencingPrice=0;\r\n    //Get a reference to the form id=\"cakeform\"\r\n    var theForm = document.forms[\"cakeform\"];\r\n    //Get a reference to the select id=\"fencing\"\r\n     var selectedFencing = theForm.elements[\"fencing\"];\r\n\r\n    //set cakeFilling Price equal to value user chose\r\n    //For example filling_prices[\"Lemon\".value] would be equal to 5\r\n    cakeFencingPrice = fencing_prices[selectedFencing.value];\r\n\r\n    //finally we return cakeFillingPrice\r\n    return cakeFencingPrice;\r\n}\r\n\r\nfunction getLength() {\r\n    //Assume form with id=\"theform\"\r\n    var theForm = document.forms[\"cakeform\"];\r\n    //Get a reference to the TextBox\r\n    var quantity = theForm.elements[\"mLength\"];\r\n    var howmany =0;\r\n    //If the textbox is not blank\r\n    if(quantity.value!=\"\")\r\n    {\r\n        howmany = parseInt(quantity.value);\r\n    }\r\n    return howmany;\r\n}\r\nfunction getHeight() {\r\n    var theForm = document.forms[\"cakeform\"];\r\n\r\n}\r\n\r\nfunction getHeight() {\r\n    if ($('.premiumTimber').find('select').is(\":visible\")) {\r\n        return $('.premiumTimber').find('select').val();\r\n    } else {\r\n        return $('.roughSawnTimber').find('select').val();\r\n    }\r\n}\r\n\r\n\r\n//candlesPrice() finds the candles price based on a check box selection\r\nfunction candlesPrice() {\r\n    var candlePrice=0;\r\n    //Get a reference to the form id=\"cakeform\"\r\n    var theForm = document.forms[\"cakeform\"];\r\n    //Get a reference to the checkbox id=\"includecandles\"\r\n    var includeCandles = theForm.elements[\"includecandles\"];\r\n\r\n    //If they checked the box set candlePrice to 5\r\n    if(includeCandles.checked==true)\r\n    {\r\n        candlePrice=5;\r\n    }\r\n    //finally we return the candlePrice\r\n    return candlePrice;\r\n}\r\n\r\n\r\nfunction calculateTotal() {\r\n    $('#selectedh').html(getHeight());\r\n    //Here we get the total price by calling our function\r\n    //Each function returns a number so by calling them we add the values they return together\r\n    var fencePrice = (getFencingPrice() * getLength())+ candlesPrice();\r\n\r\n    //display the result\r\n    var divobj = document.getElementById('totalPrice');\r\n    divobj.style.display='block';\r\n    divobj.innerHTML = \"Total price for the fence $\"+fencePrice;\r\n\r\n}\r\n\r\n\r\nfunction hideTotal()\r\n{\r\n    var divobj = document.getElementById('totalPrice');\r\n    divobj.style.display='none';\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>\t&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;form action=\"\" id=\"cakeform\" onsubmit=\"return false;\"&gt;\r\n   &lt;fieldset&gt;\r\n    &lt;legend&gt;Estimate the cost of your fence&lt;/legend&gt;\r\n \r\n    &lt;label &gt;Fencing&lt;/label&gt;\r\n \r\n    &lt;select id=\"fencing\" name='fencing' &gt;\r\n\t\t&lt;option value=\"None\"&gt;Select Fencing&lt;/option&gt;\r\n\t\t&lt;option value=\"premiumTimber\"&gt;Premium Timber&lt;/option&gt;\r\n\t\t&lt;option value=\"roughSawnTimber\"&gt;Rough Sawn Timber&lt;/option&gt;\r\n    &lt;/select&gt;\r\n\t\r\n\t&lt;div class=\"container\"&gt;\r\n    &lt;div class=\"premiumTimber\"&gt;\r\n\t\t&lt;label&gt;Height&lt;/label&gt;\r\n        &lt;select class=\"second-level-select\" onchange=\"calculateTotal()\"&gt;\r\n            &lt;option value=\"\"&gt;-Height-&lt;/option&gt;\r\n            &lt;option value=\"basic-ore-1\"&gt;1m&lt;/option&gt;\r\n            &lt;option value=\"basic-ore-2\"&gt;2m&lt;/option&gt;\r\n        &lt;/select&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"roughSawnTimber\"&gt;\r\n        &lt;select class=\"second-level-select\" onchange=\"calculateTotal()\"&gt;\r\n            &lt;option value=\"\"&gt;-Height-&lt;/option&gt;\r\n            &lt;option value=\"omber-miner-1\"&gt;1.5m&lt;/option&gt;\r\n            &lt;option value=\"omber-miner-2\"&gt;2.5m&lt;/option&gt;\r\n        &lt;/select&gt;\r\n    &lt;/div&gt;\r\n\t&lt;/div&gt;\r\n\r\n    &lt;br/&gt;\r\n\t&lt;label&gt;Length (metres):&lt;/label&gt; &lt;input type=\"text\"  name=\"mLength\" onchange=\"calculateTotal()\" id=\"mLength\" /&gt;\r\n\t&lt;br/&gt;\r\n\t\r\n\t\t\r\n\t&lt;label for='includecandles' class=\"inlinelabel\"&gt;Do you need a fence removed?($5)&lt;/label&gt;\r\n    &lt;input type=\"checkbox\" id=\"includecandles\" name='includecandles' onclick=\"calculateTotal()\" /&gt;\r\n\r\n    &lt;p&gt;Selected Height&lt;/p&gt;\r\n    &lt;p id='selectedh'&gt;&lt;/p&gt;\r\n    &lt;div id=\"totalPrice\"&gt;&lt;/div&gt;\r\n \r\n    &lt;/fieldset&gt;\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 715, "user_id": 5076168, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/27640d7c6cef1ca016add7258a061933?s=128&d=identicon&r=PG&f=1", "display_name": "eZ_Harry", "link": "https://stackoverflow.com/users/5076168/ez-harry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 48312404, "answer_count": 1, "score": 0, "last_activity_date": 1516237734, "creation_date": 1516230567, "question_id": 48311461, "link": "https://stackoverflow.com/questions/48311461/how-to-get-value-from-a-dynamic-dropdown-menu", "title": "How to get value from a dynamic dropdown menu", "body": "<p>I am creating a basic online price estimator, you can view it here <a href=\"https://jsfiddle.net/gc1bbc4t/#&amp;togetherjs=4xeUE6l7Et\" rel=\"nofollow noreferrer\">https://jsfiddle.net/gc1bbc4t/#&amp;togetherjs=4xeUE6l7Et</a> (the code is displayed here but for some reason it doesnt actually calculate a total, it does on my PC)</p>\n\n<p>I have made it so that when you choose your \"fencing\", a range of heights will drop down. Currently each fencing option has a value assigned to it. I am going to change this so that each height has a value assigned to it. My issue is that because I have a range of different height dropdowns that could appear how do i figure out which was has been selected and use that to calculate the total?</p>\n\n<p>HTML -</p>\n\n<pre><code>&lt;!doctype HTML&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\"/&gt;\n    &lt;title&gt;Price Estimator&lt;/title&gt;\n    &lt;script type=\"text/javascript\" src=\"estimatorcalculations.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;link href=\"styles/cakeform.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n&lt;/head&gt;\n\n&lt;body onload='hideTotal()'&gt;\n&lt;form action=\"\" id=\"cakeform\" onsubmit=\"return false;\"&gt;\n   &lt;fieldset&gt;\n    &lt;legend&gt;Estimate the cost of your fence&lt;/legend&gt;\n\n    &lt;label &gt;Fencing&lt;/label&gt;\n\n    &lt;select id=\"fencing\" name='fencing' onchange=\"calculateTotal()\"&gt;\n        &lt;option value=\"None\"&gt;Select Fencing&lt;/option&gt;\n        &lt;option value=\"premiumTimber\"&gt;Premium Timber&lt;/option&gt;\n        &lt;option value=\"roughSawnTimber\"&gt;Rough Sawn Timber&lt;/option&gt;\n    &lt;/select&gt;\n\n    &lt;div class=\"container\"&gt;\n    &lt;div class=\"premiumTimber\"&gt;\n        &lt;label&gt;Height&lt;/label&gt;\n        &lt;select class=\"second-level-select\"&gt;\n            &lt;option value=\"\"&gt;-Height-&lt;/option&gt;\n            &lt;option value=\"basic-ore-1\"&gt;1m&lt;/option&gt;\n            &lt;option value=\"basic-ore-2\"&gt;2m&lt;/option&gt;\n        &lt;/select&gt;\n    &lt;/div&gt;\n    &lt;div class=\"roughSawnTimber\"&gt;\n        &lt;select class=\"second-level-select\"&gt;\n            &lt;option value=\"\"&gt;-Height-&lt;/option&gt;\n            &lt;option value=\"omber-miner-1\"&gt;1.5m&lt;/option&gt;\n            &lt;option value=\"omber-miner-2\"&gt;2.5m&lt;/option&gt;\n        &lt;/select&gt;\n    &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;br/&gt;\n    &lt;label&gt;Length (metres):&lt;/label&gt; &lt;input type=\"text\"  name=\"mLength\" onchange=\"calculateTotal()\" id=\"mLength\" /&gt;\n    &lt;br/&gt;\n\n\n    &lt;label for='includecandles' class=\"inlinelabel\"&gt;Do you need a fence removed?($5)&lt;/label&gt;\n    &lt;input type=\"checkbox\" id=\"includecandles\" name='includecandles' onclick=\"calculateTotal()\" /&gt;\n\n\n    &lt;div id=\"totalPrice\"&gt;&lt;/div&gt;\n\n    &lt;/fieldset&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n&lt;script&gt;\n$(document).ready(function() {\n    $('#fencing').bind('change', function() {\n        var elements = $('div.container').children().hide(); // hide all the elements\n        var value = $(this).val();\n\n        if (value.length) { // if somethings' selected\n            elements.filter('.' + value).show(); // show the ones we want\n        }\n    }).trigger('change');\n\n    $('.second-level-select').bind('change', function() {\n        var elements = $('div.second-level-container').children().hide(); // hide all the elements\n        var value = $(this).val();\n\n        if (value.length) { // if somethings' selected\n            elements.filter('.' + value).show(); // show the ones we want\n        }\n    }).trigger('change');\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>JS - </p>\n\n<pre><code>var fencing_prices= new Array();\nfencing_prices[\"None\"]=0;\nfencing_prices[\"premiumTimber\"]=10;\nfencing_prices[\"roughSawnTimber\"]=5;\n\n//This function finds the filling price based on the\n//drop down selection\nfunction getFencingPrice()\n{\n    var cakeFencingPrice=0;\n    //Get a reference to the form id=\"cakeform\"\n    var theForm = document.forms[\"cakeform\"];\n    //Get a reference to the select id=\"fencing\"\n     var selectedFencing = theForm.elements[\"fencing\"];\n\n    //set cakeFilling Price equal to value user chose\n    //For example filling_prices[\"Lemon\".value] would be equal to 5\n    cakeFencingPrice = fencing_prices[selectedFencing.value];\n\n    //finally we return cakeFillingPrice\n    return cakeFencingPrice;\n}\n\nfunction getLength()\n{\n    //Assume form with id=\"theform\"\n    var theForm = document.forms[\"cakeform\"];\n    //Get a reference to the TextBox\n    var quantity = theForm.elements[\"mLength\"];\n    var howmany =0;\n    //If the textbox is not blank\n    if(quantity.value!=\"\")\n    {\n        howmany = parseInt(quantity.value);\n    }\n    return howmany;\n}\nfunction getHeight() {\n    var theForm = document.forms[\"cakeform\"];\n\n}\n/*\nfunction getHeight()\n{\n    //Assume form with id=\"theform\"\n    var theForm = document.forms[\"cakeform\"];\n    //Get a reference to the TextBox\n    var quantity = theForm.elements[\"mHeight\"];\n    var howmany =0;\n    //If the textbox is not blank\n    if(quantity.value!=\"\")\n    {\n        howmany = parseInt(quantity.value);\n    }\n    return howmany;\n}\n*/\n\n//candlesPrice() finds the candles price based on a check box selection\nfunction candlesPrice()\n{\n    var candlePrice=0;\n    //Get a reference to the form id=\"cakeform\"\n    var theForm = document.forms[\"cakeform\"];\n    //Get a reference to the checkbox id=\"includecandles\"\n    var includeCandles = theForm.elements[\"includecandles\"];\n\n    //If they checked the box set candlePrice to 5\n    if(includeCandles.checked==true)\n    {\n        candlePrice=5;\n    }\n    //finally we return the candlePrice\n    return candlePrice;\n}\n\n\nfunction calculateTotal()\n{\n    //Here we get the total price by calling our function\n    //Each function returns a number so by calling them we add the values they return together\n    var fencePrice = (getFencingPrice() * getLength())+ candlesPrice();\n\n    //display the result\n    var divobj = document.getElementById('totalPrice');\n    divobj.style.display='block';\n    divobj.innerHTML = \"Total price for the fence $\"+fencePrice;\n\n}\n\n\nfunction hideTotal()\n{\n    var divobj = document.getElementById('totalPrice');\n    divobj.style.display='none';\n}\n</code></pre>\n"}, {"tags": ["javascript", "unit-testing", "sinon"], "comments": [{"owner": {"reputation": 2893, "user_id": 4603159, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XUvhd.jpg?s=128&g=1", "display_name": "Gleb Kostyunin", "link": "https://stackoverflow.com/users/4603159/gleb-kostyunin"}, "edited": false, "score": 0, "creation_date": 1516230885, "post_id": 48311414, "comment_id": 83608901, "body": "From what is shown here, it should be working as you expect... Can you show a bit more code? Is there a chance the stub is being reset in some hook or something like that?"}, {"owner": {"reputation": 1970, "user_id": 2206540, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7bdc5c6147d9514a0d3060594b7e21b3?s=128&d=identicon&r=PG", "display_name": "SuperManEver", "link": "https://stackoverflow.com/users/2206540/supermanever"}, "reply_to_user": {"reputation": 2893, "user_id": 4603159, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XUvhd.jpg?s=128&g=1", "display_name": "Gleb Kostyunin", "link": "https://stackoverflow.com/users/4603159/gleb-kostyunin"}, "edited": false, "score": 0, "creation_date": 1516393435, "post_id": 48311414, "comment_id": 83684157, "body": "actually, the code is perfectly fine. I did some mistake in another part which caused me think problem is here"}, {"owner": {"reputation": 1970, "user_id": 2206540, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7bdc5c6147d9514a0d3060594b7e21b3?s=128&d=identicon&r=PG", "display_name": "SuperManEver", "link": "https://stackoverflow.com/users/2206540/supermanever"}, "reply_to_user": {"reputation": 2893, "user_id": 4603159, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XUvhd.jpg?s=128&g=1", "display_name": "Gleb Kostyunin", "link": "https://stackoverflow.com/users/4603159/gleb-kostyunin"}, "edited": false, "score": 0, "creation_date": 1516393488, "post_id": 48311414, "comment_id": 83684183, "body": "not sure whether I should close/delete this question or leave as it is because it contains some code which can be useful for someone"}], "owner": {"reputation": 1970, "user_id": 2206540, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7bdc5c6147d9514a0d3060594b7e21b3?s=128&d=identicon&r=PG", "display_name": "SuperManEver", "link": "https://stackoverflow.com/users/2206540/supermanever"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1516230297, "creation_date": 1516230297, "question_id": 48311414, "link": "https://stackoverflow.com/questions/48311414/how-to-stub-a-method-on-an-object-using-sinon-js-to-return-particular-value", "title": "how to stub a method on an object using sinon.js to return particular value?", "body": "<p>I try to stub getter method on some object using the following approach:</p>\n\n<p><code>const stub = sinon.stub(store, 'isBriefType').returns(true);</code></p>\n\n<p>then I try to check whether I get stubbed value:</p>\n\n<p><code>expect(store.isBriefType).toEqual(true);</code></p>\n\n<p>but the value I get as a result of calling <code>store.isBriedType</code> is actual result of the actual method, not stubbed one.</p>\n\n<p>what do I do wrong?</p>\n"}, {"tags": ["javascript", "amazon-web-services", "ecmascript-6", "promise"], "comments": [{"owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 0, "creation_date": 1516230614, "post_id": 48311411, "comment_id": 83608812, "body": "Where is the error happening?"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 2, "creation_date": 1516230614, "post_id": 48311411, "comment_id": 83608813, "body": "Unless <code>s3Helper.findObjects([], null)</code> returns a function, that&#39;s not going to work. You probably meant to say <code>.then(() =&gt; s3Helper.findObjects([], null))</code>. But in your catch statement, you also probably meant <code>util.error()</code> instead of <code>utl.error()</code>. So your <code>catch()</code> is generating another error that isn&#39;t handled by another <code>catch()</code> chain."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 0, "creation_date": 1516230728, "post_id": 48311411, "comment_id": 83608853, "body": "@FrankerZ <a href=\"https://nodejs.org/api/util.html#util_util_error_strings\" rel=\"nofollow noreferrer\"><code>util.error()</code></a> is just a deprecated call equivalent to <code>console.error()</code>."}, {"owner": {"reputation": 104, "user_id": 4988851, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/BXIcd.jpg?s=128&g=1", "display_name": "Tom N", "link": "https://stackoverflow.com/users/4988851/tom-n"}, "edited": false, "score": 0, "creation_date": 1516230873, "post_id": 48311411, "comment_id": 83608896, "body": "utl is a seperate library I&#39;m using but thanks for the suggestions!"}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 1, "creation_date": 1516230983, "post_id": 48311411, "comment_id": 83608928, "body": "<code>.then(fn)</code>, just like <code>setTimeout(fn,d)</code>, needs a function to call when it&#39;s done its thing. You instead called the function, thus executing it immediately, not waiting for the promise to resolve."}, {"owner": {"reputation": 104, "user_id": 4988851, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/BXIcd.jpg?s=128&g=1", "display_name": "Tom N", "link": "https://stackoverflow.com/users/4988851/tom-n"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1516231199, "post_id": 48311411, "comment_id": 83608999, "body": "Thanks @PatrickRoberts"}, {"owner": {"reputation": 104, "user_id": 4988851, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/BXIcd.jpg?s=128&g=1", "display_name": "Tom N", "link": "https://stackoverflow.com/users/4988851/tom-n"}, "reply_to_user": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1516231216, "post_id": 48311411, "comment_id": 83609007, "body": "Thanks @KevinB !"}], "answers": [{"comments": [{"owner": {"reputation": 104, "user_id": 4988851, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/BXIcd.jpg?s=128&g=1", "display_name": "Tom N", "link": "https://stackoverflow.com/users/4988851/tom-n"}, "edited": false, "score": 0, "creation_date": 1516230823, "post_id": 48311478, "comment_id": 83608876, "body": "Thanks! Whats the difference between what I was doing and this method? I was of the impression you could just call a function if you weren&#39;t returning any parameters without the parenthesis and the fat arrow"}, {"owner": {"reputation": 1023, "user_id": 4104145, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/179adbca221a38f709ec288ce36edd52?s=128&d=identicon&r=PG&f=1", "display_name": "raneshu", "link": "https://stackoverflow.com/users/4104145/raneshu"}, "reply_to_user": {"reputation": 104, "user_id": 4988851, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/BXIcd.jpg?s=128&g=1", "display_name": "Tom N", "link": "https://stackoverflow.com/users/4988851/tom-n"}, "edited": false, "score": 0, "creation_date": 1516231103, "post_id": 48311478, "comment_id": 83608969, "body": "Then <code>.then()</code> method takes a function as it&#39;s argument. So you must pass it a function.  Look at my updated answer above."}], "tags": [], "owner": {"reputation": 1023, "user_id": 4104145, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/179adbca221a38f709ec288ce36edd52?s=128&d=identicon&r=PG&f=1", "display_name": "raneshu", "link": "https://stackoverflow.com/users/4104145/raneshu"}, "is_accepted": true, "score": 1, "last_activity_date": 1516231084, "last_edit_date": 1516231084, "creation_date": 1516230643, "answer_id": 48311478, "question_id": 48311411, "link": "https://stackoverflow.com/questions/48311411/unhandled-promise-rejection-with-a-catch/48311478#48311478", "title": "Unhandled Promise Rejection with a .catch()", "body": "<p>Your promise chain should look like this:</p>\n\n<pre><code>s3Helper.setCredentials(program.profile)\n  .then(() =&gt; s3Helper.findObjects([], null))\n  .then(data =&gt; console.log(data))\n  .catch(err =&gt; util.error(err));\n</code></pre>\n\n<p>Note the function: () => ... on the second line</p>\n\n<p>Then <code>.then()</code> method takes a function as it's argument. So you must pass it a function. </p>\n\n<p>Therefore, <code>.then(s3Helper.findObjects([], null))</code> would only work if <code>s3Helper.findObjects([], null)</code> returns a function. But based on you definition of <code>s3Helper.findObjects([], null)</code>, it doesn't. So you need to update your <code>.then()</code> method to <code>.then(() =&gt; s3Helper.findObjects([], null))</code>.</p>\n"}], "owner": {"reputation": 104, "user_id": 4988851, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/BXIcd.jpg?s=128&g=1", "display_name": "Tom N", "link": "https://stackoverflow.com/users/4988851/tom-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 382, "favorite_count": 0, "closed_date": 1516230944, "accepted_answer_id": 48311478, "answer_count": 1, "score": 0, "last_activity_date": 1516231084, "creation_date": 1516230293, "question_id": 48311411, "link": "https://stackoverflow.com/questions/48311411/unhandled-promise-rejection-with-a-catch", "closed_reason": "Duplicate", "title": "Unhandled Promise Rejection with a .catch()", "body": "<p>I'm having trouble debugging my first Javascript tool which uses promises. I feel like I am using the .catch() method correctly, as it matches up with other StackOverflow answers to similar questions that have been asked, however I'd still receiving an UnhandledPromiseRejectionWarning for uncaught promises. </p>\n\n<p>My program fetches a list of objects from an S3 and then logs them to console.</p>\n\n<p>Here is the promise chain</p>\n\n<pre><code>s3Helper.setCredentials(program.profile)\n  .then(s3Helper.findObjects([], null))\n  .then(data =&gt; console.log(data))\n  .catch(err =&gt; utl.error(err));\n</code></pre>\n\n<p>And here are the two promises</p>\n\n<pre><code>function findObjects (keyArray, token) {\n  return new Promise((resolve, reject) =&gt; {\n    var S3 = new AWS.S3({apiVersion: '2006-03-01'});\n    var params = {\n      Bucket: program.bucket,\n      Prefix: program.prefix,\n      Delimiter: program.recursive ? '' : '/',\n      ContinuationToken: token\n    };\n\n    S3.listObjectsV2(params, (err, data) =&gt; {\n      if (err) {\n        reject(err);\n      } else {\n        resolve(data);\n      }\n    });\n  });\n}\n\nfunction setCredentials (profile) {\n  // Sets AWS credentials, and rejects if the profile is not found\n  return new Promise((resolve, reject) =&gt; {\n    AWS.config.credentials = new AWS.SharedIniFileCredentials({profile: profile});\n    AWS.config.credentials.refresh((err, data) =&gt; {\n      if (err) {\n        reject(err);\n      } else if (AWS.config.credentials.accessKeyId) {\n        resolve();\n      } else if (AWS.config.credentials.roleArn) {\n        resolve();\n      } else {\n        var error = {\n          message: `Given profile '${program.profile}' does not exist`\n        };\n        reject(error);\n      }\n    });\n  });\n}\n</code></pre>\n\n<p>Sorry if my style or code is bad, I'm still getting used to Javascript!</p>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7121134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05ee294ca5476db82577ae3daf4f93b1?s=128&d=identicon&r=PG&f=1", "display_name": "Ish T.", "link": "https://stackoverflow.com/users/7121134/ish-t"}, "edited": false, "score": 0, "creation_date": 1516234304, "post_id": 48311643, "comment_id": 83609817, "body": "thanks for the reply, what this is also doing is after I click one square then just moving the mouse across the other squares are also changing their colors. I only want the color to change if the mouse is down and moving across them."}, {"owner": {"reputation": 3091, "user_id": 1041046, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9afce433e4e51c6947fd4601062b7a45?s=128&d=identicon&r=PG&f=1", "display_name": "AaA", "link": "https://stackoverflow.com/users/1041046/aaa"}, "reply_to_user": {"reputation": 11, "user_id": 7121134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05ee294ca5476db82577ae3daf4f93b1?s=128&d=identicon&r=PG&f=1", "display_name": "Ish T.", "link": "https://stackoverflow.com/users/7121134/ish-t"}, "edited": false, "score": 0, "creation_date": 1516257212, "post_id": 48311643, "comment_id": 83615703, "body": "@IshT., then you need to change back the color to what it was before <code>onmouseup</code>"}], "tags": [], "owner": {"reputation": 148, "user_id": 8980452, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uYDGOIPesBs/AAAAAAAAAAI/AAAAAAAAAEk/ytw1bk7juSc/photo.jpg?sz=128", "display_name": "Fernando Bravo Diaz", "link": "https://stackoverflow.com/users/8980452/fernando-bravo-diaz"}, "is_accepted": false, "score": 2, "last_activity_date": 1516255301, "last_edit_date": 1516255301, "creation_date": 1516231606, "answer_id": 48311643, "question_id": 48311395, "link": "https://stackoverflow.com/questions/48311395/how-to-change-background-color-of-divs-on-mouse-click-and-drag-with-the-html5-co/48311643#48311643", "title": "How to change background color of divs on mouse click and drag with the HTML5 color input", "body": "<p>Do this with your jQuery:</p>\n\n<pre><code>    var div = $('.square');\n    div.mousedown(function() {\n        $(this).css(\"background-color\", $(\"#colorPicker\").val());\n        //add this line\n        div.on(\"mouseenter.square\",function(){\n             $(this).css(\"background-color\", $(\"#colorPicker\").val());\n        });\n    });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 9223567, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-y7ouGTQqtBM/AAAAAAAAAAI/AAAAAAAAADI/JvHgi833aZU/photo.jpg?sz=128", "display_name": "Priyanka Choudhary", "link": "https://stackoverflow.com/users/9223567/priyanka-choudhary"}, "is_accepted": false, "score": 0, "last_activity_date": 1516266089, "creation_date": 1516266089, "answer_id": 48317323, "question_id": 48311395, "link": "https://stackoverflow.com/questions/48311395/how-to-change-background-color-of-divs-on-mouse-click-and-drag-with-the-html5-co/48317323#48317323", "title": "How to change background color of divs on mouse click and drag with the HTML5 color input", "body": "<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function(){\n    $('input').on('change', function() {\n        var color = $(\"#colorPicker\").val();\n        $(\".square\").css(\"background-color\", color);\n    });\n});\n&lt;/script&gt;\n&lt;div class=\"center\"&gt;\n&lt;div class=\"square\"&gt;&lt;/div&gt;\n&lt;div class=\"square\"&gt;&lt;/div&gt;\n&lt;div class=\"square\"&gt;&lt;/div&gt;\n&lt;div class=\"square\"&gt;&lt;/div&gt;\n&lt;div class=\"square\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"center\" id=\"colorDiv\"&gt;\n&lt;input type=\"color\" id=\"colorPicker\"&gt;\n&lt;/div&gt;\n\n&lt;style type=\"text/css\"&gt;\n.square\n{\n    width: 100%;\n    height: 20%;\n    float: left;\n    position: absolute;\n}\n#colorPicker\n{\n    top: 20%;\n    position: relative;\n}\n&lt;/style&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 7121134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05ee294ca5476db82577ae3daf4f93b1?s=128&d=identicon&r=PG&f=1", "display_name": "Ish T.", "link": "https://stackoverflow.com/users/7121134/ish-t"}, "edited": false, "score": 0, "creation_date": 1516348036, "post_id": 48317607, "comment_id": 83657587, "body": "This is very much exactly what I wanted, thank you very much for the help!"}], "tags": [], "owner": {"reputation": 3655, "user_id": 2688133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lunlO.jpg?s=128&g=1", "display_name": "libra", "link": "https://stackoverflow.com/users/2688133/libra"}, "is_accepted": false, "score": 0, "last_activity_date": 1516267452, "last_edit_date": 1516267452, "creation_date": 1516267106, "answer_id": 48317607, "question_id": 48311395, "link": "https://stackoverflow.com/questions/48311395/how-to-change-background-color-of-divs-on-mouse-click-and-drag-with-the-html5-co/48317607#48317607", "title": "How to change background color of divs on mouse click and drag with the HTML5 color input", "body": "<p>This may be what you want.</p>\n\n<pre><code>var div = $('.square')\ndiv.mousedown(function() {\n    $(this).css(\"background-color\", $(\"#colorPicker\").val())\n    div.mouseenter(function() {\n        $(this).css(\"background-color\", $(\"#colorPicker\").val())\n    })\n})\n$(document).mouseup(function() {\n    div.off('mouseenter')\n})\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7121134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05ee294ca5476db82577ae3daf4f93b1?s=128&d=identicon&r=PG&f=1", "display_name": "Ish T.", "link": "https://stackoverflow.com/users/7121134/ish-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 646, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1516267452, "creation_date": 1516230219, "question_id": 48311395, "link": "https://stackoverflow.com/questions/48311395/how-to-change-background-color-of-divs-on-mouse-click-and-drag-with-the-html5-co", "title": "How to change background color of divs on mouse click and drag with the HTML5 color input", "body": "<p>I want to change the background color of my divs by clicking and dragging over them to the value of the color from the color input.<br><br>\nHTML:<br></p>\n\n<pre><code>&lt;div class=\"center\"&gt;\n  &lt;div class=\"square\"&gt;&lt;/div&gt;\n  &lt;div class=\"square\"&gt;&lt;/div&gt;\n  &lt;div class=\"square\"&gt;&lt;/div&gt;\n  &lt;div class=\"square\"&gt;&lt;/div&gt;\n  &lt;div class=\"square\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"center\" id=\"colorDiv\"&gt;\n  &lt;input type=\"color\" id=\"colorPicker\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Javascript:</p>\n\n<pre><code>var div = $('.square');\ndiv.mousedown(function() {\n  $(this).css(\"background-color\", $(\"#colorPicker\").val());\n});\n</code></pre>\n\n<p>Here is my <a href=\"https://jsfiddle.net/57u7Lda3/3/\" rel=\"nofollow noreferrer\">JS Fiddle</a><br>This is the effect I want but with the color value: <a href=\"http://jsfiddle.net/arunpjohny/7Wkm2/3/\" rel=\"nofollow noreferrer\">JS Fiddle</a></p>\n"}, {"tags": ["javascript", "ecmascript-6", "functional-programming"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1516230653, "post_id": 48311390, "comment_id": 83608825, "body": "Parentheses just override operator precedence, they don&#39;t control the order of execution."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1516230988, "post_id": 48311390, "comment_id": 83608931, "body": "Please refer to a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Operator_Precedence\" rel=\"nofollow noreferrer\">table such as this</a> for operator precedence. Grouping operator has higher precedence than function calls, but you&#39;re right that the parameters are evaluated before the actual call."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1516231543, "post_id": 48311390, "comment_id": 83609098, "body": "Since Javascript doesn&#39;t have lazy evaluation, it&#39;s not possible to call a function without first evaluating the arguments."}], "answers": [{"comments": [{"owner": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 0, "creation_date": 1516244001, "post_id": 48312207, "comment_id": 83612035, "body": "you found the subtle wording I couldn&#39;t articulate"}], "tags": [], "owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "is_accepted": true, "score": 1, "last_activity_date": 1516236138, "creation_date": 1516236138, "answer_id": 48312207, "question_id": 48311390, "link": "https://stackoverflow.com/questions/48311390/do-the-parens-of-a-function-call-act-like-a-grouping-operator/48312207#48312207", "title": "do the parens of a function call act like a grouping operator?", "body": "<p>Yes, the grammar for function call arguments also leads to a grouping of the expressions.</p>\n\n<p>But no, it does not control the execution order, the expressions are still evaluated outside-in and left-to-right. (The reference to the function is evaluated first, then the arguments, then the function is called).</p>\n"}], "owner": {"reputation": 6896, "user_id": 6797267, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/bba37c069bfb5b705b7a0c98bd9b4803?s=128&d=identicon&r=PG&f=1", "display_name": "Lev", "link": "https://stackoverflow.com/users/6797267/lev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 48312207, "answer_count": 1, "score": 0, "last_activity_date": 1516268807, "creation_date": 1516230190, "last_edit_date": 1516268807, "question_id": 48311390, "link": "https://stackoverflow.com/questions/48311390/do-the-parens-of-a-function-call-act-like-a-grouping-operator", "title": "do the parens of a function call act like a grouping operator?", "body": "<p>do the parens of a function call act like a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Grouping\" rel=\"nofollow noreferrer\">grouping operator</a> ?</p>\n\n<pre><code>2 * (3 + 1) // 3 + 1 is evaluated first\n\n'a'.concat('b'.concat('c')) // 'b'.concat('c') is evaluated first\n</code></pre>\n\n<p>Since <code>+</code> and <code>concat</code> are both semigroups meaning that they satisfy the associative property <code>x(yz) = (xy)z</code>, aren't the parens of the concat function call acting like the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Grouping\" rel=\"nofollow noreferrer\">grouping operator</a> ?</p>\n"}, {"tags": ["javascript", "reactjs", "rest", "admin-on-rest", "foxx"], "comments": [{"owner": {"reputation": 7238, "user_id": 37168, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/6nAaY.png?s=128&g=1", "display_name": "stone", "link": "https://stackoverflow.com/users/37168/stone"}, "edited": false, "score": 0, "creation_date": 1516260729, "post_id": 48311388, "comment_id": 83617245, "body": "Seems like a problem with the object spread operator, which should be transpiled by Babel. Did you make any changes to .babelrc?"}, {"owner": {"reputation": 43, "user_id": 9057194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1162866634f28049d659ba0f19ab729?s=128&d=identicon&r=PG&f=1", "display_name": "vlabmichl", "link": "https://stackoverflow.com/users/9057194/vlabmichl"}, "reply_to_user": {"reputation": 7238, "user_id": 37168, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/6nAaY.png?s=128&g=1", "display_name": "stone", "link": "https://stackoverflow.com/users/37168/stone"}, "edited": false, "score": 0, "creation_date": 1516270711, "post_id": 48311388, "comment_id": 83623060, "body": "no, none. just added the file and tweaked aroud with the import statements,"}, {"owner": {"reputation": 207, "user_id": 1351226, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c07953cbbad36459b15d82b0e94ad5ff?s=128&d=identicon&r=PG", "display_name": "cbarlow123", "link": "https://stackoverflow.com/users/1351226/cbarlow123"}, "edited": false, "score": 0, "creation_date": 1516643645, "post_id": 48311388, "comment_id": 83762494, "body": "I think I&#39;m getting the same error: TypeError: <b>webpack_require</b>.i(...)(...).then is not a function. The below suggested answer didn&#39;t help :("}], "answers": [{"tags": [], "owner": {"reputation": 1458, "user_id": 2333665, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c23de6ec78c93883242498c33f15be96?s=128&d=identicon&r=PG", "display_name": "asliwinski", "link": "https://stackoverflow.com/users/2333665/asliwinski"}, "is_accepted": false, "score": 2, "last_activity_date": 1516396258, "creation_date": 1516396258, "answer_id": 48349599, "question_id": 48311388, "link": "https://stackoverflow.com/questions/48311388/admin-on-rest-custom-rest-client-fails-to-compile/48349599#48349599", "title": "Admin-On-REST custom REST client fails to compile", "body": "<p>I haven't read the whole description, but the error you got should be resolved by changing</p>\n\n<p><code>import { fetchJson, flattenObject } from 'admin-on-rest/src/util/fetch';</code></p>\n\n<p>to:</p>\n\n<p><code>import { fetchJson, flattenObject } from 'admin-on-rest/lib/util/fetch';</code></p>\n\n<p>Your project's <code>babel</code> will not transpile any code under <code>node_modules</code>. Whatever you import from outside of your <code>src</code> must be transpiled already.</p>\n"}], "owner": {"reputation": 43, "user_id": 9057194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1162866634f28049d659ba0f19ab729?s=128&d=identicon&r=PG&f=1", "display_name": "vlabmichl", "link": "https://stackoverflow.com/users/9057194/vlabmichl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 527, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1516396258, "creation_date": 1516230173, "question_id": 48311388, "link": "https://stackoverflow.com/questions/48311388/admin-on-rest-custom-rest-client-fails-to-compile", "title": "Admin-On-REST custom REST client fails to compile", "body": "<p>After starting with the <a href=\"https://marmelab.com/admin-on-rest/Tutorial.html\" rel=\"nofollow noreferrer\">Admin-On-REST Tutorial</a> I tried to bind the app to my existing ArangoDB backend with a custom <a href=\"https://marmelab.com/admin-on-rest/RestClients.html#writing-your-own-rest-client\" rel=\"nofollow noreferrer\">REST-Client implementation</a>.\nThe backend exposes a simple auto-generated \"default\" FOXX HTTP API. </p>\n\n<p>That basically worked with the <code>simple client</code>. For better integration I'm aiming for using a custom client based on the <code>json client</code>. Therefore I copied the <code>admin-on-rest/src/rest/jsonServer.js</code> file into my project. I modified it to that file content:</p>\n\n<pre><code>import { stringify } from 'query-string';\nimport { fetchJson, flattenObject } from 'admin-on-rest';\nimport {\n    GET_LIST,\n    GET_ONE,\n    GET_MANY,\n    GET_MANY_REFERENCE,\n    CREATE,\n    UPDATE,\n    DELETE,\n} from 'admin-on-rest';\n\n/**\n * Maps admin-on-rest queries to a json-server powered REST API\n *\n * @see https://github.com/typicode/json-server\n * @example\n * GET_LIST     =&gt; GET http://my.api.url/posts?_sort=title&amp;_order=ASC&amp;_start=0&amp;_end=24\n * GET_ONE      =&gt; GET http://my.api.url/posts/123\n * GET_MANY     =&gt; GET http://my.api.url/posts/123, GET http://my.api.url/posts/456, GET http://my.api.url/posts/789\n * UPDATE       =&gt; PUT http://my.api.url/posts/123\n * CREATE       =&gt; POST http://my.api.url/posts/123\n * DELETE       =&gt; DELETE http://my.api.url/posts/123\n */\nexport default (apiUrl, httpClient = fetchJson) =&gt; {\n    /**\n     * @param {String} type One of the constants appearing at the top if this file, e.g. 'UPDATE'\n     * @param {String} resource Name of the resource to fetch, e.g. 'posts'\n     * @param {Object} params The REST request params, depending on the type\n     * @returns {Object} { url, options } The HTTP request parameters\n     */\n    const convertRESTRequestToHTTP = (type, resource, params) =&gt; {\n        let url = '';\n        const options = {};\n        switch (type) {\n            case GET_LIST: {\n                const { page, perPage } = params.pagination;\n                const { field, order } = params.sort;\n                const query = {\n                    ...flattenObject(params.filter),\n                    _sort: field,\n                    _order: order,\n                    _start: (page - 1) * perPage,\n                    _end: page * perPage,\n                };\n                url = `${apiUrl}/${resource}?${stringify(query)}`;\n                break;\n            }\n            case GET_ONE:\n                url = `${apiUrl}/${resource}/${params.id}`;\n                break;\n            case GET_MANY_REFERENCE: {\n                const { page, perPage } = params.pagination;\n                const { field, order } = params.sort;\n                const query = {\n                    ...flattenObject(params.filter),\n                    [params.target]: params.id,\n                    _sort: field,\n                    _order: order,\n                    _start: (page - 1) * perPage,\n                    _end: page * perPage,\n                };\n                url = `${apiUrl}/${resource}?${stringify(query)}`;\n                break;\n            }\n            case UPDATE:\n                url = `${apiUrl}/${resource}/${params.id}`;\n                options.method = 'PUT';\n                options.body = JSON.stringify(params.data);\n                break;\n            case CREATE:\n                url = `${apiUrl}/${resource}`;\n                options.method = 'POST';\n                options.body = JSON.stringify(params.data);\n                break;\n            case DELETE:\n                url = `${apiUrl}/${resource}/${params.id}`;\n                options.method = 'DELETE';\n                break;\n            default:\n                throw new Error(`Unsupported fetch action type ${type}`);\n        }\n        return { url, options };\n    };\n\n    /**\n     * @param {Object} response HTTP response from fetch()\n     * @param {String} type One of the constants appearing at the top if this file, e.g. 'UPDATE'\n     * @param {String} resource Name of the resource to fetch, e.g. 'posts'\n     * @param {Object} params The REST request params, depending on the type\n     * @returns {Object} REST response\n     */\n    const convertHTTPResponseToREST = (response, type, resource, params) =&gt; {\n        const { headers, json } = response;\n        switch (type) {\n            case GET_LIST:\n            return {\n                data: json.map((obj) =&gt; {\n                  obj.id = obj._key;\n                  delete obj['_key'];\n                  return obj;\n                }),\n                total: headers.get('X-Total-Count')\n            };\n            case GET_MANY_REFERENCE:\n                if (!headers.has('x-total-count')) {\n                    throw new Error(\n                        'The X-Total-Count header is missing in the HTTP Response. The jsonServer REST client expects responses for lists of resources to contain this header with the total number of results to build the pagination. If you are using CORS, did you declare X-Total-Count in the Access-Control-Expose-Headers header?'\n                    );\n                }\n                return {\n                    data: json,\n                    total: parseInt(\n                        headers\n                            .get('x-total-count')\n                            .split('/')\n                            .pop(),\n                        10\n                    ),\n                };\n            case CREATE:\n                return { data: { ...params.data, id: json.id } };\n            default:\n                return { data: json };\n        }\n    };\n\n    /**\n     * @param {string} type Request type, e.g GET_LIST\n     * @param {string} resource Resource name, e.g. \"posts\"\n     * @param {Object} payload Request parameters. Depends on the request type\n     * @returns {Promise} the Promise for a REST response\n     */\n    return (type, resource, params) =&gt; {\n        // json-server doesn't handle WHERE IN requests, so we fallback to calling GET_ONE n times instead\n        if (type === GET_MANY) {\n            return Promise.all(\n                params.ids.map(id =&gt; httpClient(`${apiUrl}/${resource}/${id}`))\n            ).then(responses =&gt; ({\n                data: responses.map(response =&gt; response.json),\n            }));\n        }\n\n        const { url, options } = convertRESTRequestToHTTP(\n            type,\n            resource,\n            params\n        );\n\n        return httpClient(url, options).then(response =&gt;\n            convertHTTPResponseToREST(response, type, resource, params)\n        );\n    };\n};\n</code></pre>\n\n<p>It's much like the original - I only edited:</p>\n\n<ul>\n<li>the <code>import</code> section at the top</li>\n<li>the <code>convertHTTPResponseToREST</code>method for the <code>GET_LIST</code> section.</li>\n</ul>\n\n<p>Finally I bound it into the App by importing it through the <code>App.js</code> file so that it looks like:</p>\n\n<pre><code>import CustomRestClientJson from './CustomRestClientJson'\n\nconst App = () =&gt; (\n    &lt;Admin restClient={CustomRestClientJson('http://localhost:8529/_db/orgraph/admin')}&gt;\n      &lt;Resource name=\"assets\" list={AssetList} /&gt;\n    &lt;/Admin&gt;\n);\n</code></pre>\n\n<p>The problem is that:</p>\n\n<p>a.) either the App fails in the browser with an <code>Object(...) is not a function</code> error (thrown by the call to the <code>...flattenObject(params.filter)</code> call from within the clients <code>convertRESTRequestToHTTP</code> method) while trying to load the data.</p>\n\n<p>b.) or the <code>yarn</code> build / compilation fails when I change the import statements of my client from:</p>\n\n<pre><code>import { stringify } from 'query-string';\nimport { fetchJson, flattenObject } from 'admin-on-rest';\nimport {\n    GET_LIST,\n    GET_ONE,\n    GET_MANY,\n    GET_MANY_REFERENCE,\n    CREATE,\n    UPDATE,\n    DELETE,\n} from 'admin-on-rest';\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>import { stringify } from 'query-string';\nimport { fetchJson, flattenObject } from 'admin-on-rest/src/util/fetch';\nimport {\n    GET_LIST,\n    GET_ONE,\n    GET_MANY,\n    GET_MANY_REFERENCE,\n    CREATE,\n    UPDATE,\n    DELETE\n} from 'admin-on-rest/src/rest/types';\n</code></pre>\n\n<p>with the following error:</p>\n\n<pre><code>Failed to compile.\n\n./node_modules/admin-on-rest/src/util/fetch.js\nModule parse failed: Unexpected token (20:24)\nYou may need an appropriate loader to handle this file type.\n|     }\n|\n|     return fetch(url, { ...options, headers: requestHeaders })\n|         .then(response =&gt;\n|             response.text().then(text =&gt; ({\n</code></pre>\n\n<p>So, as I'm not a React programmer I'd love to hear about how I could fix this issue to be able to bind to my backend for further testing.</p>\n\n<p>;-)</p>\n\n<p>Thanks for any tips!</p>\n"}, {"tags": ["javascript", "html", "css", "loading", "preload"], "comments": [{"owner": {"reputation": 225, "user_id": 2138106, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/aef60afc4f0ede9aa39ba3e32ec68407?s=128&d=identicon&r=PG", "display_name": "Braeden Orchard", "link": "https://stackoverflow.com/users/2138106/braeden-orchard"}, "edited": false, "score": 0, "creation_date": 1516233050, "post_id": 48311353, "comment_id": 83609490, "body": "Look into using progressive loading. It loads a low resolution version of the image before adding more details until the image is fully loaded. There&#39;s really not any way to do exactly what you&#39;re asking for unfortunately."}, {"owner": {"reputation": 785, "user_id": 7805793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh5.googleusercontent.com/-WCrNDwXpWuU/AAAAAAAAAAI/AAAAAAAAAPI/fi6keVt65co/photo.jpg?sz=128", "display_name": "Asif Karim Bherani", "link": "https://stackoverflow.com/users/7805793/asif-karim-bherani"}, "edited": false, "score": 0, "creation_date": 1516237699, "post_id": 48311353, "comment_id": 83610573, "body": "You could add a spinner until rest of the content is loaded"}], "answers": [{"tags": [], "owner": {"reputation": 3521, "user_id": 269349, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/K5lPT.jpg?s=128&g=1", "display_name": "Zinc", "link": "https://stackoverflow.com/users/269349/zinc"}, "is_accepted": false, "score": 1, "last_activity_date": 1516230214, "creation_date": 1516230214, "answer_id": 48311393, "question_id": 48311353, "link": "https://stackoverflow.com/questions/48311353/how-to-load-images-before-other-contents/48311393#48311393", "title": "how to load images before other contents?", "body": "<p>You can't do that. You could fake it but overlaying a white background div or something but the DOM will always parse first</p>\n"}], "owner": {"reputation": 431, "user_id": 5523468, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/a9f1c73c8196bf33eb68e6aae558c839?s=128&d=identicon&r=PG&f=1", "display_name": "Abdulla", "link": "https://stackoverflow.com/users/5523468/abdulla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1516230253, "creation_date": 1516229926, "last_edit_date": 1516230253, "question_id": 48311353, "link": "https://stackoverflow.com/questions/48311353/how-to-load-images-before-other-contents", "title": "how to load images before other contents?", "body": "<p>I have a website created using html.One of my pages contain some images which takes time to load. everything else loads perfect, but not the images. How can I load the images before every other contents of the page?</p>\n"}, {"tags": ["javascript", "html", "canvas", "collision"], "comments": [{"owner": {"reputation": 18669, "user_id": 973552, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/wz2OO.jpg?s=128&g=1", "display_name": "StudioTime", "link": "https://stackoverflow.com/users/973552/studiotime"}, "edited": false, "score": 0, "creation_date": 1516229999, "post_id": 48311349, "comment_id": 83608614, "body": "You need to create a fiddle perhaps so we can see it in action, hard to fully understand without a working version"}, {"owner": {"reputation": 303, "user_id": 9232077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/019891257ba32105f3f677527ab5c366?s=128&d=identicon&r=PG&f=1", "display_name": "Cyberboy1551", "link": "https://stackoverflow.com/users/9232077/cyberboy1551"}, "reply_to_user": {"reputation": 18669, "user_id": 973552, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/wz2OO.jpg?s=128&g=1", "display_name": "StudioTime", "link": "https://stackoverflow.com/users/973552/studiotime"}, "edited": false, "score": 0, "creation_date": 1516230375, "post_id": 48311349, "comment_id": 83608732, "body": "I have a working version, but it&#39;s on my node.js server on my desktop. Can fiddle do that. Sorry, please forgive my ignorance I&#39;ve never used it. I appreciate the fast response."}, {"owner": {"reputation": 903, "user_id": 7614070, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-06VDif97R28/AAAAAAAAAAI/AAAAAAAAABo/Ng9K2j7RBko/photo.jpg?sz=128", "display_name": "Mr. Reddy", "link": "https://stackoverflow.com/users/7614070/mr-reddy"}, "edited": false, "score": 0, "creation_date": 1516355256, "post_id": 48311349, "comment_id": 83661447, "body": "Just to be clear you&#39;re unsure how to detect if one of the projectiles is touching the shield and how to tell from which direction?"}], "answers": [{"comments": [{"owner": {"reputation": 303, "user_id": 9232077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/019891257ba32105f3f677527ab5c366?s=128&d=identicon&r=PG&f=1", "display_name": "Cyberboy1551", "link": "https://stackoverflow.com/users/9232077/cyberboy1551"}, "edited": false, "score": 0, "creation_date": 1516746703, "post_id": 48341249, "comment_id": 83813651, "body": "Thank you very much I really appreciate all the help everyone has given me!"}], "tags": [], "owner": {"reputation": 903, "user_id": 7614070, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-06VDif97R28/AAAAAAAAAAI/AAAAAAAAABo/Ng9K2j7RBko/photo.jpg?sz=128", "display_name": "Mr. Reddy", "link": "https://stackoverflow.com/users/7614070/mr-reddy"}, "is_accepted": false, "score": 0, "last_activity_date": 1516365252, "creation_date": 1516365252, "answer_id": 48341249, "question_id": 48311349, "link": "https://stackoverflow.com/questions/48311349/html-5-collision-between-points-on-an-arc/48341249#48341249", "title": "Html 5 Collision Between Points on an Arc", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!doctype html&gt;\r\n&lt;html&gt;\r\n\t&lt;head&gt;\r\n\t\t&lt;meta charset=\"utf-8\"&gt;\r\n\t\t&lt;style&gt;\r\n\t\t\tbody {\r\n\t\t\t\tbackground-color: black;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcanvas {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tmargin: auto;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\tright: 0;\r\n\t\t\t\tborder: solid 1px white;\r\n\t\t\t\tborder-radius: 10px;\r\n\t\t\t\tcursor: crosshair;\r\n\t\t\t}\r\n\t\t&lt;/style&gt;\r\n\t&lt;/head&gt;\r\n\t\r\n\t&lt;body&gt;\r\n\t\t&lt;canvas id=\"canvas\"&gt;&lt;/canvas&gt;\r\n\t\t&lt;script type=\"application/javascript\"&gt;\r\n\t\t\r\n\t\t\t// Anonymous closure\r\n\t\t\t(function() {\r\n\t\t\t\r\n\t\t\t\t// Enforce strict rules for JS code\r\n\t\t\t\t\"use strict\";\r\n\t\t\t\t\r\n\t\t\t\t// App variables\r\n\t\t\t\tvar canvasWidth = 180;\r\n\t\t\t\tvar canvasHeight = 160;\r\n\t\t\t\tvar canvas = null;\r\n\t\t\t\tvar bounds = null;\r\n\t\t\t\tvar ctx = null;\r\n\t\t\t\tvar player = null;\r\n\t\t\t\tvar projectiles = [];\r\n\t\t\t\t\tprojectiles.length = 5;\r\n\t\t\t\t\r\n\t\t\t\t// Classes\r\n\t\t\t\t\r\n\t\t\t\t// Constructor function\r\n\t\t\t\tfunction Player(x,y) {\r\n\t\t\t\t\tthis.x = x;\r\n\t\t\t\t\tthis.y = y;\r\n\t\t\t\t\tthis.dx = 0.0;\r\n\t\t\t\t\tthis.dy = 0.0;\r\n\t\t\t\t\tthis.rotation = 0.0;\r\n\t\t\t\t\tthis.targetX = 0.0;\r\n\t\t\t\t\tthis.targetY = 0.0;\r\n\t\t\t\t\tthis.isShieldUp = false;\r\n\t\t\t\t\tthis.isShieldRecharging = false;\r\n\t\t\t\t\tthis.shieldPower = this.shieldPowerMax;\r\n\t\t\t\t\tthis.left = false;\r\n\t\t\t\t\tthis.right = false;\r\n\t\t\t\t\tthis.up = false;\r\n\t\t\t\t\tthis.down = false;\r\n\t\t\t\t\twindow.addEventListener(\"keydown\",this.onkeydown.bind(this));\r\n\t\t\t\t\twindow.addEventListener(\"keyup\",this.onkeyup.bind(this));\r\n\t\t\t\t\twindow.addEventListener(\"mousemove\",this.onmousemove.bind(this));\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// shared properties/functions across all instances\r\n\t\t\t\tPlayer.prototype = {\r\n\t\t\t\t\twidth: 10,\r\n\t\t\t\t\theight: 10,\r\n\t\t\t\t\tshieldRadius: 15.0,\r\n\t\t\t\t\tshieldArcSize: 3.0, // In Radians\r\n\t\t\t\t\tshieldPowerMax: 50.0,\r\n\t\t\t\t\tshieldPowerCharge: 0.5,\r\n\t\t\t\t\tshieldPowerDrain: 0.75,\r\n\t\t\t\t\t\r\n\t\t\t\t\tonkeydown: function(e) {\r\n\t\t\t\t\t\tswitch(e.key) {\r\n\t\t\t\t\t\t\tcase \" \": this.isShieldUp = true &amp;&amp; !this.isShieldRecharging; break;\r\n\t\t\t\t\t\t\tcase \"w\": this.up = true; break;\r\n\t\t\t\t\t\t\tcase \"s\": this.down = true; break;\r\n\t\t\t\t\t\t\tcase \"a\": this.left = true; break;\r\n\t\t\t\t\t\t\tcase \"d\": this.right = true; break;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\r\n\t\t\t\t\tonkeyup: function(e) {\r\n\t\t\t\t\t\tswitch(e.key) {\r\n\t\t\t\t\t\t\tcase \" \": this.isShieldUp = false; break;\r\n\t\t\t\t\t\t\tcase \"w\": this.up = false; break;\r\n\t\t\t\t\t\t\tcase \"s\": this.down = false; break;\r\n\t\t\t\t\t\t\tcase \"a\": this.left = false; break;\r\n\t\t\t\t\t\t\tcase \"d\": this.right = false; break;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\r\n\t\t\t\t\tonmousemove: function(e) {\r\n\t\t\t\t\t\tthis.targetX = e.clientX - bounds.left;\r\n\t\t\t\t\t\tthis.targetY = e.clientY - bounds.top;\r\n\t\t\t\t\t},\r\n\t\t\t\t\r\n\t\t\t\t\ttick: function() {\r\n\t\t\t\t\t\tvar x = (this.targetX - this.x);\r\n\t\t\t\t\t\tvar y = (this.targetY - this.y);\r\n\t\t\t\t\t\tvar l = Math.sqrt(x * x + y * y);\r\n\t\t\t\t\t\tx = x / l;\r\n\t\t\t\t\t\ty = y / l;\r\n\t\t\t\t\t\tthis.rotation = Math.acos(x) * (y &lt; 0.0 ? -1.0 : 1.0);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (this.isShieldUp) {\r\n\t\t\t\t\t\t\tthis.shieldPower = this.shieldPower - this.shieldPowerDrain;\r\n\t\t\t\t\t\t\tif (this.shieldPower &lt; 0.0) {\r\n\t\t\t\t\t\t\t\tthis.shieldPower = 0.0;\r\n\t\t\t\t\t\t\t\tthis.isShieldUp = false;\r\n\t\t\t\t\t\t\t\tthis.isShieldRecharging = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.shieldPower = this.shieldPower + this.shieldPowerCharge;\r\n\t\t\t\t\t\t\tif (this.shieldPower &gt; this.shieldPowerMax) {\r\n\t\t\t\t\t\t\t\tthis.shieldPower = this.shieldPowerMax;\r\n\t\t\t\t\t\t\t\tthis.isShieldRecharging = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (this.up) { --this.y; this.dy = -1; } else\r\n\t\t\t\t\t\tif (this.down) { ++this.y; this.dy = 1; } else { this.dy = 0; }\r\n\t\t\t\t\t\tif (this.left) { --this.x; this.dx = -1; } else\r\n\t\t\t\t\t\tif (this.right) { ++this.x; this.dx = 1; } else { this.dx = 0; }\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\r\n\t\t\t\t\trender: function() {\r\n\t\t\t\t\t\tctx.fillStyle = \"darkred\";\r\n\t\t\t\t\t\tctx.strokeStyle = \"black\";\r\n\t\t\t\t\t\tctx.translate(this.x,this.y);\r\n\t\t\t\t\t\tctx.rotate(this.rotation);\r\n\t\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\t\tctx.moveTo(0.5 * this.height,0.0);\r\n\t\t\t\t\t\tctx.lineTo(-0.5 * this.height,0.5 * this.width);\r\n\t\t\t\t\t\tctx.lineTo(-0.5 * this.height,-0.5 * this.width);\r\n\t\t\t\t\t\tctx.lineTo(0.5 * this.height,0.0);\r\n\t\t\t\t\t\tctx.fill();\r\n\t\t\t\t\t\tctx.stroke();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (this.isShieldUp) {\r\n\t\t\t\t\t\t\tctx.strokeStyle = \"cyan\";\r\n\t\t\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\t\t\tctx.arc(0.0,0.0,this.shieldRadius,this.shieldArcSize * -0.5,this.shieldArcSize * 0.5,false);\r\n\t\t\t\t\t\t\tctx.stroke();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tctx.rotate(-this.rotation);\r\n\t\t\t\t\t\tctx.translate(-this.x,-this.y);\r\n\t\t\t\t\t\tctx.fillStyle = \"black\";\r\n\t\t\t\t\t\tctx.fillRect(canvasWidth - 80,canvasHeight - 20,75,15);\r\n\t\t\t\t\t\tctx.fillStyle = this.isShieldRecharging ? \"red\" : \"cyan\";\r\n\t\t\t\t\t\tctx.fillRect(canvasWidth - 75,canvasHeight - 15,65 * (this.shieldPower / this.shieldPowerMax),5);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tfunction Projectile(x,y,dx,dy) {\r\n\t\t\t\t\tthis.x = x;\r\n\t\t\t\t\tthis.y = y;\r\n\t\t\t\t\tthis.dx = dx;\r\n\t\t\t\t\tthis.dy = dy;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tProjectile.prototype = {\r\n\t\t\t\t\tradius: 2.5,\r\n\t\t\t\t\t\r\n\t\t\t\t\ttick: function(player) {\r\n\t\t\t\t\t\tthis.x = this.x + this.dx;\r\n\t\t\t\t\t\tthis.y = this.y + this.dy;\r\n\t\t\t\t\t\tif (this.x + this.radius &lt; 0.0) { this.x = canvasWidth + this.radius; }\r\n\t\t\t\t\t\tif (this.x - this.radius &gt; canvasWidth) { this.x = -this.radius; }\r\n\t\t\t\t\t\tif (this.y + this.radius &lt; 0.0) { this.y = canvasHeight + this.radius; }\r\n\t\t\t\t\t\tif (this.y - this.radius &gt; canvasHeight) { this.y = -this.radius; }\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (player.isShieldUp) {\r\n\t\t\t\t\t\t\tvar px = (player.x - this.x);\r\n\t\t\t\t\t\t\tvar py = (player.y - this.y);\r\n\t\t\t\t\t\t\tvar pl = Math.sqrt(px * px + py * py);\r\n\t\t\t\t\t\t\tvar ml = Math.sqrt(this.dx * this.dx + this.dy * this.dy);\r\n\t\t\t\t\t\t\tvar mx = this.dx / ml;\r\n\t\t\t\t\t\t\tvar my = this.dy / ml;\r\n\t\t\t\t\t\t\tpx = px / pl;\r\n\t\t\t\t\t\t\tpy = py / pl;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (Math.acos(px * mx + py * my) &lt; player.shieldArcSize * 0.5 &amp;&amp; pl &lt; player.shieldRadius) {\r\n\t\t\t\t\t\t\t\tpx = -px;\r\n\t\t\t\t\t\t\t\tpy = -py;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tthis.dx = this.dx - 2.0 * px * (this.dx * px + this.dy * py) + player.dx;\r\n\t\t\t\t\t\t\t\tthis.dy = this.dy - 2.0 * py * (this.dx * px + this.dy * py) + player.dy;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\r\n\t\t\t\t\trender: function() {\r\n\t\t\t\t\t\tctx.moveTo(this.x + this.radius,this.y);\r\n\t\t\t\t\t\tctx.arc(this.x,this.y,this.radius,0.0,2.0 * Math.PI,false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// Game loop\r\n\t\t\t\tfunction loop() {\r\n\t\t\t\t\t// Tick\r\n\t\t\t\t\tplayer.tick();\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (var i = 0; i &lt; projectiles.length; ++i) {\r\n\t\t\t\t\t\tprojectiles[i].tick(player);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Render\r\n\t\t\t\t\tctx.fillStyle = \"#555555\";\r\n\t\t\t\t\tctx.fillRect(0,0,canvasWidth,canvasHeight);\r\n\t\t\t\t\tplayer.render();\r\n\t\t\t\t\t\r\n\t\t\t\t\tctx.fillStyle = \"white\";\r\n\t\t\t\t\tctx.strokeStyle = \"black\";\r\n\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (var i = 0; i &lt; projectiles.length; ++i) {\r\n\t\t\t\t\t\tprojectiles[i].render();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tctx.fill();\r\n\t\t\t\t\tctx.stroke();\r\n\t\t\t\t\t//\r\n\t\t\t\t\trequestAnimationFrame(loop); // Runs the loop at 60hz\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// \"Main Method\", executes after the page loads\r\n\t\t\t\twindow.onload = function() {\r\n\t\t\t\t\tcanvas = document.getElementById(\"canvas\");\r\n\t\t\t\t\tcanvas.width = canvasWidth;\r\n\t\t\t\t\tcanvas.height = canvasHeight;\r\n\t\t\t\t\tbounds = canvas.getBoundingClientRect();\r\n\t\t\t\t\tctx = canvas.getContext(\"2d\");\r\n\t\t\t\t\tplayer = new Player(90.0,80.0);\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (var i = 0; i &lt; projectiles.length; ++i) {\r\n\t\t\t\t\t\tprojectiles[i] = new Projectile(\r\n\t\t\t\t\t\t\tMath.random() * canvasWidth,\r\n\t\t\t\t\t\t\tMath.random() * canvasHeight,\r\n\t\t\t\t\t\t\tMath.random() * 2.0 - 1.0,\r\n\t\t\t\t\t\t\tMath.random() * 2.0 - 1.0\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tloop();\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t})();\r\n\t\t\r\n\t\t&lt;/script&gt;\r\n\t&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 303, "user_id": 9232077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/019891257ba32105f3f677527ab5c366?s=128&d=identicon&r=PG&f=1", "display_name": "Cyberboy1551", "link": "https://stackoverflow.com/users/9232077/cyberboy1551"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516365252, "creation_date": 1516229890, "question_id": 48311349, "link": "https://stackoverflow.com/questions/48311349/html-5-collision-between-points-on-an-arc", "title": "Html 5 Collision Between Points on an Arc", "body": "<p>I'm working on a game that uses projectiles and a shielding system. The player would hold down 'Space' to use the shield. My plan is to get the projectiles to bounce of of the enemies shields (I've implemented speed so I already know how to do that). The problem I am having is with the collision, since the player rotates to follow the mouse I struggled with finding the best way to create the shield but I eventually settled on an arc, I used some trigonometry to get the left, leftHalf, mid, rightHalf, and right point of the arc/shield. <a href=\"https://i.stack.imgur.com/L5aRt.png\" rel=\"nofollow noreferrer\">The Player with Shield</a>. The issue is I can't get the collision to work from just 5, x/y coordinates (the arc is just being drawn for show I'm only sending the points to the server). This is what I have for my collision so far: <br />\n<b>p</b>: Player object<br />\n<b>self</b>: bullet object<br />\n<b>bot</b>: a variable based on the direction the character is facing (bottom: true or false)<br />\n<b>shieldLeft, sheildRight, etc</b>: an array containing x and y coordinate 0 for x, 1 for y</p>\n\n<pre><code>if (self.getDistance(p) &lt; 32 &amp;&amp; self.parent !== p.id)\n        {\n            if (p.isShielding == true)\n            {\n\n                switch(self.bot)\n                {\n                    case true:\n                        if (self.x &gt;= p.shieldRight[0] &amp;&amp; self.x &lt;= p.shieldLeft[0])\n                        {\n                            console.log(\"BOT X\");\n                            if ((self.y &gt;= p.shieldLeft[1] || self.y &gt;= p.shieldRight[1]) &amp;&amp; self.y &lt;= p.shieldMid[1])\n                            {\n                                console.log(\"BOT Y\");\n                                self.spdX = -self.spdX;\n                                self.spdY = -self.spdY;\n                            }\n                        }\n\n\n                    break;\n                    case false:\n                        if (self.x &lt;= p.shieldRight[0] &amp;&amp; self.x &gt;= p.shieldLeft[0])\n                        {\n                            console.log(\"TOP X\");\n                            if ((self.y &lt;= p.shieldLeft[1] || self.y &lt;= p.shieldRight[1]) &amp;&amp; self.y &gt;= p.shieldMid[1])\n                            {\n                                console.log(\"TOP Y\");\n                                self.spdX = -self.spdX;\n                                self.spdY = -self.spdY;\n                            }\n                        }\n                    break;\n                }\n\n\n\n            }\n\n\n        }\n</code></pre>\n\n<p>I would really appreciate any help, I can't continue with the game features until there <i>actually</i> is a game. Thank you!</p>\n"}, {"tags": ["javascript", "jquery", "arrays", "ajax", "dom"], "comments": [{"owner": {"reputation": 3599, "user_id": 2487517, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cRCpa.jpg?s=128&g=1", "display_name": "Tibrogargan", "link": "https://stackoverflow.com/users/2487517/tibrogargan"}, "edited": false, "score": 0, "creation_date": 1516230511, "post_id": 48311329, "comment_id": 83608779, "body": "What is <code>controller</code>?"}, {"owner": {"reputation": 1, "user_id": 9133033, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-rtaQSvyl3d0/AAAAAAAAAAI/AAAAAAAAAaM/qKuH2AM3kFc/photo.jpg?sz=128", "display_name": "david hazlett jr", "link": "https://stackoverflow.com/users/9133033/david-hazlett-jr"}, "reply_to_user": {"reputation": 3599, "user_id": 2487517, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cRCpa.jpg?s=128&g=1", "display_name": "Tibrogargan", "link": "https://stackoverflow.com/users/2487517/tibrogargan"}, "edited": false, "score": 0, "creation_date": 1516231114, "post_id": 48311329, "comment_id": 83608973, "body": "Im using browserify and grunt, so I have a bunch of modules set up. controller.getType() is coming from my controller module thats doing an ajax call to firebase that has my JSON data"}, {"owner": {"reputation": 3599, "user_id": 2487517, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cRCpa.jpg?s=128&g=1", "display_name": "Tibrogargan", "link": "https://stackoverflow.com/users/2487517/tibrogargan"}, "edited": false, "score": 1, "creation_date": 1516231460, "post_id": 48311329, "comment_id": 83609078, "body": "You might want to see if you can put enough code in to make this an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  Because <code>controller</code> is undefined, anyone trying to answer this may have a tough time replicating the issue or testing their answer"}, {"owner": {"reputation": 1, "user_id": 9133033, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-rtaQSvyl3d0/AAAAAAAAAAI/AAAAAAAAAaM/qKuH2AM3kFc/photo.jpg?sz=128", "display_name": "david hazlett jr", "link": "https://stackoverflow.com/users/9133033/david-hazlett-jr"}, "reply_to_user": {"reputation": 3599, "user_id": 2487517, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cRCpa.jpg?s=128&g=1", "display_name": "Tibrogargan", "link": "https://stackoverflow.com/users/2487517/tibrogargan"}, "edited": false, "score": 0, "creation_date": 1516231843, "post_id": 48311329, "comment_id": 83609161, "body": "i could give the controller code if you would like to look at it."}, {"owner": {"reputation": 3599, "user_id": 2487517, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cRCpa.jpg?s=128&g=1", "display_name": "Tibrogargan", "link": "https://stackoverflow.com/users/2487517/tibrogargan"}, "edited": false, "score": 0, "creation_date": 1516234641, "post_id": 48311329, "comment_id": 83609884, "body": "You&#39;re missing the point.  Your question has no real answers because no-one (except you) can run the code as-is."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9133033, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-rtaQSvyl3d0/AAAAAAAAAAI/AAAAAAAAAaM/qKuH2AM3kFc/photo.jpg?sz=128", "display_name": "david hazlett jr", "link": "https://stackoverflow.com/users/9133033/david-hazlett-jr"}, "edited": false, "score": 0, "creation_date": 1516230901, "post_id": 48311376, "comment_id": 83608905, "body": "that isnt changing anything. if i click the button without entering a time, ill get all 27 that only have times in my console. If I add a time, ill get either all or 53"}], "tags": [], "owner": {"reputation": 722, "user_id": 7275926, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GKtan.jpg?s=128&g=1", "display_name": "Firas Omrane", "link": "https://stackoverflow.com/users/7275926/firas-omrane"}, "is_accepted": false, "score": 0, "last_activity_date": 1516230085, "creation_date": 1516230085, "answer_id": 48311376, "question_id": 48311329, "link": "https://stackoverflow.com/questions/48311329/i-am-trying-to-find-times-in-an-array-of-objects-using-the-value-of-my-input-fie/48311376#48311376", "title": "I am trying to find times in an array of objects using the value of my input field", "body": "<p>Array's index in javascript begins with 0.I think this is the problem.\ntry this</p>\n\n<pre><code>let timeSplit = timeTest[0].split(\":\");...\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>let timeSplit = timeTest[1].split(\":\");...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 9133033, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-rtaQSvyl3d0/AAAAAAAAAAI/AAAAAAAAAaM/qKuH2AM3kFc/photo.jpg?sz=128", "display_name": "david hazlett jr", "link": "https://stackoverflow.com/users/9133033/david-hazlett-jr"}, "edited": false, "score": 0, "creation_date": 1516230861, "post_id": 48311378, "comment_id": 83608892, "body": "that isnt changing anything. if i click the button without entering a time, ill get all 27 that only have times in my console. If I add a time, ill get either all or 53."}], "tags": [], "owner": {"reputation": 3521, "user_id": 269349, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/K5lPT.jpg?s=128&g=1", "display_name": "Zinc", "link": "https://stackoverflow.com/users/269349/zinc"}, "is_accepted": false, "score": 0, "last_activity_date": 1516230095, "creation_date": 1516230095, "answer_id": 48311378, "question_id": 48311329, "link": "https://stackoverflow.com/questions/48311329/i-am-trying-to-find-times-in-an-array-of-objects-using-the-value-of-my-input-fie/48311378#48311378", "title": "I am trying to find times in an array of objects using the value of my input field", "body": "<p>Shouldn't this line be '0':</p>\n\n<pre><code>let timeSplit = timeTest[0].split(\":\")\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9133033, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-rtaQSvyl3d0/AAAAAAAAAAI/AAAAAAAAAaM/qKuH2AM3kFc/photo.jpg?sz=128", "display_name": "david hazlett jr", "link": "https://stackoverflow.com/users/9133033/david-hazlett-jr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1516231988, "creation_date": 1516229765, "last_edit_date": 1516231988, "question_id": 48311329, "link": "https://stackoverflow.com/questions/48311329/i-am-trying-to-find-times-in-an-array-of-objects-using-the-value-of-my-input-fie", "title": "I am trying to find times in an array of objects using the value of my input field", "body": "<p>I will try my best to explain this.  I have an input field which allows the user to enter a certain time.  I also have an array of attractions that have times with them.  Once the user enters a time and clicks a button, all arrtactions with that time should load to dom.  The event listener is working, but every attraction is printing, even the ones without times. Below is what I have so far.  I believe I am just missing some minor details.</p>\n\n<pre><code>&lt;input id=\"timeInput\" type=\"text\" placeholder=\"Ex: 1:00 PM\"&gt;\n    &lt;button id=\"timeBtn\"&gt;Show me Scheduled Events!&lt;/button&gt;\n\n\n\nlet timeTest = [];\nlet timesArray = [];\nlet timeSearch = document.getElementById(\"timeInput\");\n$('#timeBtn').on('click',((e) =&gt; {\ntimeTest.push(timeSearch.value);\nlet timeSplit = timeTest[1].split(\":\");\nlet hourSelected = timeSplit[0];\nlet morningOrEvening = timeSplit[1];\ncontroller.getType()\n.then((data) =&gt; {\n    for(let i = 0; i &lt; data.length; i++) { \n        if (data[i].times !== undefined) {\n            if (timeValueCheck(data[i].times)) {\n                timesArray.push(data[i]);\n            }\n        else {\n            timesArray.push(data[i]);\n        }\n    }}\n    timesArray.forEach(attraction =&gt;{\n        $('#output').append(attrHBS(attraction));\n        console.log(attraction);\n        }\n     );\n    }\n);\n}));\n\n\nlet timeValueCheck= (timesArray) =&gt; {\n    let timeSplit = timeTest[1].split(\":\");\n    let hourSelected = timeSplit[0];\n    let morningOrEvening = timeSplit[1];\n    for (let i=0; i &lt; timesArray.length; i++) {\n        let splitArray = timesArray[i].split(\":\");\n        console.log(\"super\", splitArray);\n        if (hourSelected === splitArray[0]){\n            console.log(\"mega\",hourSelected, splitArray[0]);\n            return true;\n        }\n    }\n\n    return false;\n};\n\n\n// this is what is inside controller.js\n\nmodule.exports.getType = (attrData) =&gt; {\n//creating new Promise to load when used in other functions\nreturn new Promise((resolve, reject) =&gt; {\n//getting our data from two ajax calls, attractions and attraction types\nlet p1 = factory.getAttractionData();\nlet p2 = factory.getAttTypes();\n// empty array to push data into once we have manipulated it\nlet newDataWithTypes = [];\n//promise all to get both data types before using them.\n    Promise.all([p1,p2])\n    .then((attrData) =&gt; { \n        // loop over the first array, all 132 attractions\n        attrData[0].forEach(allAttractions =&gt; {\n            // loop over second array, the 8 types\n            attrData[1].forEach(typeofAttractions =&gt; {\n                // if statement to add the types to each attraction based on their type id!\n                    if (allAttractions.type_id === typeofAttractions.id) {\n                        allAttractions.type = typeofAttractions.name;\n                        // pushes to the array on 32\n                        newDataWithTypes.push(allAttractions); \n                    }\n                });\n            });\n            resolve(newDataWithTypes);\n        }\n    );\n});\n};\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "jestjs", "enzyme"], "answers": [{"tags": [], "owner": {"reputation": 66, "user_id": 2594260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59e6d01e06a931bf2df885b5302cae6c?s=128&d=identicon&r=PG", "display_name": "awaruaboy", "link": "https://stackoverflow.com/users/2594260/awaruaboy"}, "is_accepted": false, "score": 0, "last_activity_date": 1516236028, "last_edit_date": 1516236028, "creation_date": 1516235464, "answer_id": 48312143, "question_id": 48311274, "link": "https://stackoverflow.com/questions/48311274/jest-unit-test-mock-implementation-of-if-condition-within-function-for-complete/48312143#48312143", "title": "Jest Unit test, mock implementation of IF condition within function for complete code coverage", "body": "<p>You need to provide a stubb response in your test spec so that the if statement is triggered. <a href=\"https://www.npmjs.com/package/jest-fetch-mock\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/jest-fetch-mock</a> will allow you to do just that. The example on their npm page should give you what you need <a href=\"https://www.npmjs.com/package/jest-fetch-mock#example-1---mocking-all-fetches\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/jest-fetch-mock#example-1---mocking-all-fetches</a></p>\n\n<p>Basically the result is stored in state(redux) and is called from there. jest-fetch-mock overrides your api call/route and returns the stored result in redux all within the framework.</p>\n"}, {"comments": [{"owner": {"reputation": 8944, "user_id": 580552, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c989b8b38da6c5c2c13523ae542e3d8?s=128&d=identicon&r=PG", "display_name": "sfratini", "link": "https://stackoverflow.com/users/580552/sfratini"}, "reply_to_user": {"reputation": 7238, "user_id": 37168, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/6nAaY.png?s=128&g=1", "display_name": "stone", "link": "https://stackoverflow.com/users/37168/stone"}, "edited": false, "score": 0, "creation_date": 1516748531, "post_id": 48348564, "comment_id": 83814357, "body": "Nice workaround. I assume fetch = jest.fn(() =&gt; promise) is the same"}, {"owner": {"reputation": 7238, "user_id": 37168, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/6nAaY.png?s=128&g=1", "display_name": "stone", "link": "https://stackoverflow.com/users/37168/stone"}, "edited": false, "score": 0, "creation_date": 1516748649, "post_id": 48348564, "comment_id": 83814407, "body": "Hmm actually I was mistaken. I thought <code>fetch</code> was like Axios, coming from an import. Now I see it&#39;s native in the browser. So my suggestion probably won&#39;t work."}], "tags": [], "owner": {"reputation": 8944, "user_id": 580552, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c989b8b38da6c5c2c13523ae542e3d8?s=128&d=identicon&r=PG", "display_name": "sfratini", "link": "https://stackoverflow.com/users/580552/sfratini"}, "is_accepted": false, "score": 0, "last_activity_date": 1516391534, "creation_date": 1516391534, "answer_id": 48348564, "question_id": 48311274, "link": "https://stackoverflow.com/questions/48311274/jest-unit-test-mock-implementation-of-if-condition-within-function-for-complete/48348564#48348564", "title": "Jest Unit test, mock implementation of IF condition within function for complete code coverage", "body": "<p>Assuming that what you want to test is the ApiCall then you would need to mock fetch. You are mocking the entire ApiCall so those lines will never execute.</p>\n\n<p>Also, you have an issue, because if you find an error or promise rejection, the json() won't be available so that line will trigger an error.</p>\n\n<p>Try this (haven't test it):</p>\n\n<pre><code>it('test error', (done) =&gt; {  \nlet promise = Promise.reject(new Error(\"test\"));\nglobal.fetch = jest.fn(() =&gt; promise); //You might need to store the original fetch before swapping this\n    ApiCall.fetchData()\n.catch(err =&gt; );\n   expect(err.message).toEqual(\"test\");\n   done();\n  });\n\nit('test OK', (done) =&gt; {  \nlet promise = Promise.resolve({\n   json: jest.fn(() =&gt; {data: \"data\"})\n});\nglobal.fetch = jest.fn(() =&gt; promise); \n    ApiCall.fetchData()\n.then(response =&gt; );\n   expect(response.data).toEqual(\"data\");\n   done();\n  });\n</code></pre>\n\n<p>That probably won't work right away but hopefully you will get the idea. In this case, you already are working with a promise so see that I added the done() callback in the test, so you can tell jest you finished processing. There is another way to also make jest wait for the promise which is something like \"return promise.then()\".</p>\n\n<p>Plese post back</p>\n"}], "owner": {"reputation": 21786, "user_id": 376702, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d01e3d817151ab253b3c154339ebe197?s=128&d=identicon&r=PG&f=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/376702/developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4306, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1541422165, "creation_date": 1516229380, "last_edit_date": 1541422165, "question_id": 48311274, "link": "https://stackoverflow.com/questions/48311274/jest-unit-test-mock-implementation-of-if-condition-within-function-for-complete", "title": "Jest Unit test, mock implementation of IF condition within function for complete code coverage", "body": "<p>I have a API script in a file </p>\n\n<pre><code>const ApiCall = {\n  fetchData: async (url) =&gt; {\n    const result = await fetch(url);\n    if (!result.ok) {\n      const body = await result.text(); // uncovered line\n      throw new Error(`Error fetching ${url}: ${result.status}  ${result.statusText} - ${body}`); // uncovered line\n    }\n    return result.json();\n  },\n};\n\nexport default ApiCall;\n</code></pre>\n\n<p>When I mock the call,  I have two uncovered lines in code coverage. </p>\n\n<p>Any idea how can I make them cover as well. </p>\n\n<p>Here is what I have tried so far which is not working</p>\n\n<pre><code>  it('test', async () =&gt; {   \n    ApiCall.fetchData = jest.fn();\n    ApiCall.fetchData.result = { ok: false };\n  });\n</code></pre>\n\n<p>I am kind of new into Jest, so any help would be great. </p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "npm", "typescript-typings"], "answers": [{"tags": [], "owner": {"reputation": 135, "user_id": 4155702, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6457c153d25bbfad975c36f88a421962?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Lischka", "link": "https://stackoverflow.com/users/4155702/simon-lischka"}, "is_accepted": true, "score": 0, "last_activity_date": 1516232767, "creation_date": 1516232767, "answer_id": 48311809, "question_id": 48311266, "link": "https://stackoverflow.com/questions/48311266/how-do-i-write-a-type-definition-for-a-a-sub-class-react-component-in-typescri/48311809#48311809", "title": "How do I write a type definition for a a sub class (React.Component) in typescript?", "body": "<p>Solved, inspired by <a href=\"https://stackoverflow.com/questions/37239855/how-to-write-typescript-definition-file-for-exiting-javascript?rq=1\">this post</a>. My typedefinition now looks like this:</p>\n\n<pre><code>declare namespace HighlightableNs {\n    class Highlightable extends React.Component&lt;any, any&gt; {\n    }\n}\n\ndeclare module \"highlightable\" {\n    export default HighlightableNs.Highlightable;\n}\n</code></pre>\n\n<p>When subclassing, I use the default import:</p>\n\n<pre><code>import Highlightable from \"highlightable\";\n\nexport class HighlightableColorMarked extends Highlightable {\n</code></pre>\n\n<p>The custom class can now be imported normally:</p>\n\n<pre><code>import {HighlightableColorMarked} from \"./wordselection/HighlightableColorMarked\";\n</code></pre>\n\n<p>If anyone knows why this is necessary or has a more elegant solution, feel free to post.</p>\n"}], "owner": {"reputation": 135, "user_id": 4155702, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6457c153d25bbfad975c36f88a421962?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Lischka", "link": "https://stackoverflow.com/users/4155702/simon-lischka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 542, "favorite_count": 0, "accepted_answer_id": 48311809, "answer_count": 1, "score": 1, "last_activity_date": 1516232767, "creation_date": 1516229354, "last_edit_date": 1516230920, "question_id": 48311266, "link": "https://stackoverflow.com/questions/48311266/how-do-i-write-a-type-definition-for-a-a-sub-class-react-component-in-typescri", "title": "How do I write a type definition for a a sub class (React.Component) in typescript?", "body": "<p>I'm trying to figure out how to write a type definition for react-highlight (class Highlightable, see <a href=\"https://github.com/ydeshayes/react-highlight/blob/master/src/Highlightable.js\" rel=\"nofollow noreferrer\">here</a>) in order to <strong>extend</strong> Highlightable and add custom functionality. Since the original Highlightable JS-class is a subclass of <em>React.Component</em>, I also need to have all the methods of <em>React.Component</em> available in my type definition. What's the best way of solving this?</p>\n\n<p>This is using NPM and webpack. I'm following <a href=\"https://medium.com/@chris_72272/migrating-to-typescript-write-a-declaration-file-for-a-third-party-npm-module-b1f75808ed2\" rel=\"nofollow noreferrer\">this tutorial</a>.</p>\n\n<p>I try to import and use the component like this:</p>\n\n<pre><code>import {Highlightable} from \"highlightable\";\n</code></pre>\n\n<p>then:</p>\n\n<pre><code>&lt;Highlightable\nenabled={true}\nhighlightStyle={{\n...\n</code></pre>\n\n<p>My goal is to be able to say:</p>\n\n<pre><code>class MyHighlightable extends Highlightable { ...}\n</code></pre>\n\n<p>and overwrite methods. That's why I want a type definition.</p>\n\n<p>I managed to get a simple Import working by adding <code>declare module \"highlightable\";</code> to a <code>index.d.ts</code> file in <em>src/@types/highlightable</em>.</p>\n\n<p>When I now try to add a class definition like this:</p>\n\n<pre><code> declare module \"highlightable\" {\n   export class Highlightable {\n   }\n}\n</code></pre>\n\n<p>Typescript of course complains about the missing methods from the <em>React.Component</em> superclass: </p>\n\n<pre><code>TS2607: JSX element class does not support attributes \nbecause it does not have a 'props' property.\n</code></pre>\n\n<p>So when extending with an empty class body <code>export class Highlightable extends React.Component&lt;T,T&gt; {</code>, in <code>index.d.ts</code> and adding method defintions, etc. everything compiles but I get this error at runtime:</p>\n\n<pre><code>Uncaught Error: Element type is invalid: expected a string (for \nbuilt-in components) or a \nclass/function (for composite components) but got: undefined.\n</code></pre>\n\n<p>Outputting the Highlightable import to console confirms it's <em>undefined</em>.\nCopy and pasting method definitions from a React type definition on <em>Definately typed</em> doesn't help either (still <em>undefined</em>).</p>\n\n<p>How can I solve this and provide a type definition for a subclass? If it is not possible, how can I work around it?</p>\n"}, {"tags": ["javascript", "webpack", "vue.js"], "answers": [{"comments": [{"owner": {"reputation": 18669, "user_id": 973552, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/wz2OO.jpg?s=128&g=1", "display_name": "StudioTime", "link": "https://stackoverflow.com/users/973552/studiotime"}, "edited": false, "score": 1, "creation_date": 1516229786, "post_id": 48311312, "comment_id": 83608546, "body": "You mean <code>Spinner: Spinner</code> ?"}, {"owner": {"reputation": 21194, "user_id": 3720222, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/pCLng.jpg?s=128&g=1", "display_name": "Jeff", "link": "https://stackoverflow.com/users/3720222/jeff"}, "reply_to_user": {"reputation": 18669, "user_id": 973552, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/wz2OO.jpg?s=128&g=1", "display_name": "StudioTime", "link": "https://stackoverflow.com/users/973552/studiotime"}, "edited": false, "score": 1, "creation_date": 1516230094, "post_id": 48311312, "comment_id": 83608642, "body": "@DarrenSweeney I guess yes that would be it.  But in Vue component names are automatically converted to snake case, so <code>&lt;spinner&gt;</code> is how it would get registered ultimately.  Thanks for the note I edited for correctness"}, {"owner": {"reputation": 1465, "user_id": 1846123, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/559865ebb0f497ca33ab763094cdb971?s=128&d=identicon&r=PG", "display_name": "chuckieDub", "link": "https://stackoverflow.com/users/1846123/chuckiedub"}, "edited": false, "score": 0, "creation_date": 1516230321, "post_id": 48311312, "comment_id": 83608710, "body": "Thanks but I tried that and still receiving the error <code>Unknown custom element: &lt;vue-simple-spinner&gt; - did you register the component correctly? For recursive components, make sure to provide the &quot;name&quot; option.</code>"}, {"owner": {"reputation": 1465, "user_id": 1846123, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/559865ebb0f497ca33ab763094cdb971?s=128&d=identicon&r=PG", "display_name": "chuckieDub", "link": "https://stackoverflow.com/users/1846123/chuckiedub"}, "edited": false, "score": 0, "creation_date": 1516230502, "post_id": 48311312, "comment_id": 83608776, "body": "Nevermind that worked when I moved the component property to App.vue from main.js"}], "tags": [], "owner": {"reputation": 21194, "user_id": 3720222, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/pCLng.jpg?s=128&g=1", "display_name": "Jeff", "link": "https://stackoverflow.com/users/3720222/jeff"}, "is_accepted": true, "score": 2, "last_activity_date": 1516230105, "last_edit_date": 1516230105, "creation_date": 1516229640, "answer_id": 48311312, "question_id": 48311257, "link": "https://stackoverflow.com/questions/48311257/registering-an-imported-component-in-vue-app/48311312#48311312", "title": "Registering an imported component in vue app", "body": "<pre><code>components: {\n  Spinner\n}\n</code></pre>\n\n<p>is shorthand for </p>\n\n<pre><code>components: {\n  Spinner: Spinner\n}\n</code></pre>\n\n<p>which means your component would be registered as <code>&lt;spinner&gt;</code>.  Try:</p>\n\n<pre><code>components: {\n  'vue-simple-spinner': Spinner\n}\n</code></pre>\n"}], "owner": {"reputation": 1465, "user_id": 1846123, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/559865ebb0f497ca33ab763094cdb971?s=128&d=identicon&r=PG", "display_name": "chuckieDub", "link": "https://stackoverflow.com/users/1846123/chuckiedub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1152, "favorite_count": 0, "accepted_answer_id": 48311312, "answer_count": 1, "score": 0, "last_activity_date": 1516230105, "creation_date": 1516229288, "question_id": 48311257, "link": "https://stackoverflow.com/questions/48311257/registering-an-imported-component-in-vue-app", "title": "Registering an imported component in vue app", "body": "<p>I'm attempting to use a NPM package <code>vue-simple-spinner</code> in my Vue CLI webpack app, but I am getting error: </p>\n\n<p><code>Unknown custom element: &lt;vue-simple-spinner&gt; - did you register the component correctly? For recursive components, make sure to provide the \"name\" option.</code> </p>\n\n<p>The docs say:\n<a href=\"https://i.stack.imgur.com/2dAAr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2dAAr.png\" alt=\"vue-simple-spinner docs\"></a></p>\n\n<p>So I included this in my <code>main.js</code> file like so:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import Vue from 'vue'\r\nimport App from './App'\r\nimport router from './router'\r\nimport Spinner from 'vue-simple-spinner'\r\n\r\nimport BootstrapVue from 'bootstrap-vue'\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\nimport 'bootstrap-vue/dist/bootstrap-vue.css'\r\n\r\nVue.config.productionTip = false\r\nVue.use(BootstrapVue)\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  components: {\r\n    App,\r\n    Spinner\r\n  },\r\n  template: '&lt;App/&gt;'\r\n})</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Then the docs say:</p>\n\n<p><a href=\"https://i.stack.imgur.com/yudQi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yudQi.png\" alt=\"vue-simple-spinner docs 2\"></a></p>\n\n<p>I've included the <code>&lt;vue-simple-spinner&gt;&lt;/view-simple-spinner&gt;</code> tags but I'm not sure where / how to include the js scripts. I've tried including them in the template (gives an error) and also tried importing the component using <code>import Spinner from 'vue-simple-spinner</code> as in  but both attempts are still giving me the <code>Unknown custom element</code> error.</p>\n\n<p>How do I include the scripts and/or properly register the component?</p>\n\n<p>This is my full Vue.app file:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;template&gt;\r\n  &lt;div id=\"app\" class=\"container\"&gt;\r\n    &lt;div&gt;\r\n      &lt;h1&gt;Market Price Spreads&lt;/h1&gt;\r\n      &lt;button type=\"button\" class=\"btn btn-primary\" v-on:click=\"loadMarkets()\"&gt;Refresh Markets&lt;/button&gt;\r\n      &lt;vue-simple-spinner&gt;&lt;/vue-simple-spinner&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"main-table\"&gt;\r\n      &lt;table class=\"table table-striped table-bordered\"&gt;\r\n        &lt;thead&gt;\r\n          &lt;tr&gt;\r\n            &lt;th&gt;Market&lt;/th&gt;\r\n            &lt;th&gt;Poloniex&lt;/th&gt;\r\n            &lt;th&gt;Bittrex&lt;/th&gt;\r\n            &lt;th&gt;Spread&lt;/th&gt;\r\n          &lt;/tr&gt;\r\n        &lt;/thead&gt;\r\n          &lt;tbody&gt;\r\n            &lt;tr v-for=\"market in markets\"&gt;\r\n              &lt;td&gt;{{ market[0] }}&lt;/td&gt;\r\n              &lt;td&gt;{{ market[1] | round(6) }}&lt;/td&gt;\r\n              &lt;td&gt;{{ market[2] | round(6)}}&lt;/td&gt;\r\n              &lt;td&gt;{{ market[3] | round(2)}} %&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n        &lt;/tbody&gt;\r\n      &lt;/table&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n\r\n&lt;/template&gt;\r\n\r\n&lt;script&gt;\r\n  /* eslint-disable */\r\n\r\n  import loadDataMixin from './components/mixins/loadDataMixin'\r\n\r\n  export default {\r\n    name: 'App',\r\n    mixins: [loadDataMixin],\r\n    filters: {\r\n      round: function(number, places) {\r\n        return number.toFixed(places)\r\n      }\r\n    },\r\n  }\r\n&lt;/script&gt;\r\n\r\n&lt;style&gt;\r\n  #app {\r\n    font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n    color: #2c3e50;\r\n    margin-top: 60px;\r\n  }\r\n  \r\n  .main-table {\r\n    margin-top: 20px;\r\n  }\r\n&lt;/style&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "google-chrome", "webusb"], "comments": [{"owner": {"reputation": 4156, "user_id": 4275660, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-sLVGwwzjT2w/AAAAAAAAAAI/AAAAAAAABbM/73yZY2yThi4/photo.jpg?sz=128", "display_name": "Reilly Grant", "link": "https://stackoverflow.com/users/4275660/reilly-grant"}, "edited": false, "score": 0, "creation_date": 1516320003, "post_id": 48311175, "comment_id": 83650137, "body": "You say your device is a smart card reader but the descriptor listing in the question is a Samsung Android device. Are you sure you&#39;re connecting to the right device?"}, {"owner": {"reputation": 11, "user_id": 9200906, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gu05FAIzc2g/AAAAAAAAAAI/AAAAAAAAAB8/NyMZc6Dol6E/photo.jpg?sz=128", "display_name": "P. K. O.", "link": "https://stackoverflow.com/users/9200906/p-k-o"}, "reply_to_user": {"reputation": 4156, "user_id": 4275660, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-sLVGwwzjT2w/AAAAAAAAAAI/AAAAAAAABbM/73yZY2yThi4/photo.jpg?sz=128", "display_name": "Reilly Grant", "link": "https://stackoverflow.com/users/4275660/reilly-grant"}, "edited": false, "score": 0, "creation_date": 1516918934, "post_id": 48311175, "comment_id": 83898795, "body": "Edited to reflect that I&#39;m getting that message for a smart card reader."}, {"owner": {"reputation": 4156, "user_id": 4275660, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-sLVGwwzjT2w/AAAAAAAAAAI/AAAAAAAABbM/73yZY2yThi4/photo.jpg?sz=128", "display_name": "Reilly Grant", "link": "https://stackoverflow.com/users/4275660/reilly-grant"}, "edited": false, "score": 0, "creation_date": 1517009107, "post_id": 48311175, "comment_id": 83935822, "body": "This is a duplicate of this question: <a href=\"https://stackoverflow.com/questions/46179569/smartcard-reader-access-denied-while-claiming-interface-with-webusb-on-chrome/46186495\" title=\"smartcard reader access denied while claiming interface with webusb on chrome\">stackoverflow.com/questions/46179569/&hellip;</a>"}, {"owner": {"reputation": 11, "user_id": 9200906, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gu05FAIzc2g/AAAAAAAAAAI/AAAAAAAAAB8/NyMZc6Dol6E/photo.jpg?sz=128", "display_name": "P. K. O.", "link": "https://stackoverflow.com/users/9200906/p-k-o"}, "reply_to_user": {"reputation": 4156, "user_id": 4275660, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-sLVGwwzjT2w/AAAAAAAAAAI/AAAAAAAABbM/73yZY2yThi4/photo.jpg?sz=128", "display_name": "Reilly Grant", "link": "https://stackoverflow.com/users/4275660/reilly-grant"}, "edited": false, "score": 0, "creation_date": 1517267059, "post_id": 48311175, "comment_id": 84017715, "body": "Additionally,when trying to open/claim the device, I get a <code>device endpoint</code> error sometimes and an <code>Access Denied</code> error the other times."}], "owner": {"reputation": 11, "user_id": 9200906, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gu05FAIzc2g/AAAAAAAAAAI/AAAAAAAAAB8/NyMZc6Dol6E/photo.jpg?sz=128", "display_name": "P. K. O.", "link": "https://stackoverflow.com/users/9200906/p-k-o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 459, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1517177426, "creation_date": 1516228824, "last_edit_date": 1516914310, "question_id": 48311175, "link": "https://stackoverflow.com/questions/48311175/is-an-exact-device-descriptor-required-for-webusb-support", "title": "Is an exact device descriptor required for WebUSB support?", "body": "<p>I am running Chrome's WebUSB on Windows 7 to try and open a SmartCard reader. When I use navigator.usb.requestDevices() with no filter on, the device appears sometimes. If I include the vendorId and the productId in the filters, then the device isn't selectable/listed In Chrome. Additionally, when I try to operate the device with </p>\n\n<pre><code>    .then(() =&gt; device.selectConfiguration(1))\n    .then(() =&gt; device.claimInterface(0))\n</code></pre>\n\n<p>I get access denied (insufficient permissions). In practice, is each device really required to have a device descriptor formatted exactly like the one posted on the <a href=\"https://wicg.github.io/webusb/#webusb-descriptors-and-requests\" rel=\"nofollow noreferrer\">WebUSB documentation</a> in order to connect the device to Chrome and operate it? I've also tried changing the drivers to WinUSB using Zadig, but that didn't change anything.</p>\n\n<pre><code>       ---===&gt;Device Information&lt;===---\nEnglish product name: \"SCR33xx v2.0 USB SC Reader\"\n\nConnectionStatus:                  \nCurrent Config Value:              0x01  -&gt; Device Bus Speed: Full\nDevice Address:                    0x03\nOpen Pipes:                           3\n\n          ===&gt;Device Descriptor&lt;===\nbLength:                           0x12\nbDescriptorType:                   0x01\nbcdUSB:                          0x0200\nbDeviceClass:                      0x00  -&gt; This is an Interface Class Defined Device\nbDeviceSubClass:                   0x00\nbDeviceProtocol:                   0x00\nbMaxPacketSize0:                   0x20 = (32) Bytes\nidVendor:                        0x04E6 = Identive Group Inc.\nidProduct:                       0x5116\nbcdDevice:                       0x0304\niManufacturer:                     0x01\n     English (United States)  \"SCM Microsystems\"\niProduct:                          0x02\n     English (United States)  \"SCR33xx v2.0 USB SC Reader\"\niSerialNumber:                     0x00\nbNumConfigurations:                0x01\n\n          ---===&gt;Open Pipes&lt;===---\n\n          ===&gt;Endpoint Descriptor&lt;===\nbLength:                           0x07\nbDescriptorType:                   0x05\nbEndpointAddress:                  0x83  -&gt; Direction: IN - EndpointID: 3\nbmAttributes:                      0x03  -&gt; Interrupt Transfer Type\nwMaxPacketSize:                  0x0008 = 0x08 bytes\nbInterval:                         0x10\n\n          ===&gt;Endpoint Descriptor&lt;===\nbLength:                           0x07\nbDescriptorType:                   0x05\nbEndpointAddress:                  0x05  -&gt; Direction: OUT - EndpointID: 5\nbmAttributes:                      0x02  -&gt; Bulk Transfer Type\nwMaxPacketSize:                  0x0040 = 0x40 bytes\nbInterval:                         0x00\n\n          ===&gt;Endpoint Descriptor&lt;===\nbLength:                           0x07\nbDescriptorType:                   0x05\nbEndpointAddress:                  0x84  -&gt; Direction: IN - EndpointID: 4\nbmAttributes:                      0x02  -&gt; Bulk Transfer Type\nwMaxPacketSize:                  0x0040 = 0x40 bytes\nbInterval:                         0x00\n\n       ---===&gt;Full Configuration Descriptor&lt;===---\n\n          ===&gt;Configuration Descriptor&lt;===\nbLength:                           0x09\nbDescriptorType:                   0x02\nwTotalLength:                    0x005D  -&gt; Validated\nbNumInterfaces:                    0x01\nbConfigurationValue:               0x01\niConfiguration:                    0x03\n     English (United States)  \"CCID Class\"\nbmAttributes:                      0xA0  -&gt; Bus Powered\n  -&gt; Remote Wakeup\nMaxPower:                          0x32 = 100 mA\n\n          ===&gt;Interface Descriptor&lt;===\nbLength:                           0x09\nbDescriptorType:                   0x04\nbInterfaceNumber:                  0x00\nbAlternateSetting:                 0x00\nbNumEndpoints:                     0x03\nbInterfaceClass:                   0x0B  -&gt; This is a Chip/Smart Card USB Device Interface Class\nbInterfaceSubClass:                0x00\nbInterfaceProtocol:                0x00\niInterface:                        0x04\n     English (United States)  \"CCID Interface\"\n\n          ===&gt;HID Descriptor&lt;===\nbLength:                           0x36\nbDescriptorType:                   0x21\nbcdHID:                          0x0110\nbCountryCode:                      0x00\nbNumDescriptors:                   0x07\nbDescriptorType:                   0x03\nwDescriptorLength:               0x0000\nbDescriptorType:                   0x00\nwDescriptorLength:               0x12C0\nbDescriptorType:                   0x00\nwDescriptorLength:               0x4000\nbDescriptorType:                   0x1F\nwDescriptorLength:               0x0000\nbDescriptorType:                   0x00\nwDescriptorLength:               0x3267\nbDescriptorType:                   0x00\nwDescriptorLength:               0xE700\nbDescriptorType:                   0x4C\nwDescriptorLength:               0x0006\n\n          ===&gt;Endpoint Descriptor&lt;===\nbLength:                           0x07\nbDescriptorType:                   0x05\nbEndpointAddress:                  0x83  -&gt; Direction: IN - EndpointID: 3\nbmAttributes:                      0x03  -&gt; Interrupt Transfer Type\nwMaxPacketSize:                  0x0008 = 0x08 bytes\nbInterval:                         0x10\n\n          ===&gt;Endpoint Descriptor&lt;===\nbLength:                           0x07\nbDescriptorType:                   0x05\nbEndpointAddress:                  0x05  -&gt; Direction: OUT - EndpointID: 5\nbmAttributes:                      0x02  -&gt; Bulk Transfer Type\nwMaxPacketSize:                  0x0040 = 0x40 bytes\nbInterval:                         0x00\n\n          ===&gt;Endpoint Descriptor&lt;===\nbLength:                           0x07\nbDescriptorType:                   0x05\nbEndpointAddress:                  0x84  -&gt; Direction: IN - EndpointID: 4\nbmAttributes:                      0x02  -&gt; Bulk Transfer Type\nwMaxPacketSize:                  0x0040 = 0x40 bytes\nbInterval:                         0x00\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-router"], "comments": [{"owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "edited": false, "score": 3, "creation_date": 1516228850, "post_id": 48311171, "comment_id": 83608158, "body": "Can you define &quot;not working&quot;? -- What about it is not working? What is currently happening, and what is the expected result?"}, {"owner": {"reputation": 90, "user_id": 6334482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b2dSA.jpg?s=128&g=1", "display_name": "MikeGsus", "link": "https://stackoverflow.com/users/6334482/mikegsus"}, "reply_to_user": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "edited": false, "score": 0, "creation_date": 1516230214, "post_id": 48311171, "comment_id": 83608672, "body": "When I push the button to change the view, nothing happens. I can move between the login and ListadoSolicitud, but I can&#39;t go to &quot;registro&quot;, compra&quot;, etcetera (the components in the Child Routing)."}], "answers": [{"comments": [{"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "edited": false, "score": 0, "creation_date": 1516573017, "post_id": 48311977, "comment_id": 83731545, "body": "Did this help you? Check out <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"}, {"owner": {"reputation": 90, "user_id": 6334482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b2dSA.jpg?s=128&g=1", "display_name": "MikeGsus", "link": "https://stackoverflow.com/users/6334482/mikegsus"}, "edited": false, "score": 0, "creation_date": 1516732439, "post_id": 48311977, "comment_id": 83806297, "body": "it seems that I&#39;ve not the level necesary to vote if is helful or not. But it was. Thank you so much!"}, {"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "reply_to_user": {"reputation": 90, "user_id": 6334482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b2dSA.jpg?s=128&g=1", "display_name": "MikeGsus", "link": "https://stackoverflow.com/users/6334482/mikegsus"}, "edited": false, "score": 0, "creation_date": 1516732631, "post_id": 48311977, "comment_id": 83806393, "body": "I&#39;m glad to hear. Yes, you cannot vote yet, but you can accept the answer with the check symbol next to it if it solved your problem. :)"}], "tags": [], "owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "is_accepted": true, "score": 0, "last_activity_date": 1516234101, "creation_date": 1516234101, "answer_id": 48311977, "question_id": 48311171, "link": "https://stackoverflow.com/questions/48311171/angular-4-child-routing-is-not-working/48311977#48311977", "title": "Angular 4 Child Routing is not working", "body": "<p>You do not import the SolicitudesRutaModule.</p>\n\n<p>In your <code>AppRoutingModule</code>, you should do:</p>\n\n<pre><code>{ path: 'solicitudes', loadChildren: 'path/to/module#SolicitudesRutaModule' },\n</code></pre>\n\n<p>Note that if <code>registro</code> is a child of the default route <code>''</code> in your <code>SolicitudesRutaModule</code>, the <code>ListadoSolicitudComponent</code> should have a <code>&lt;router-outlet&gt;&lt;/router-outlet&gt;</code> in its template.\nIf this is not the case, put the other routes like <code>registro</code> in the same array as the default route <code>''</code>.</p>\n"}], "owner": {"reputation": 90, "user_id": 6334482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b2dSA.jpg?s=128&g=1", "display_name": "MikeGsus", "link": "https://stackoverflow.com/users/6334482/mikegsus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 0, "accepted_answer_id": 48311977, "answer_count": 1, "score": 0, "last_activity_date": 1516234101, "creation_date": 1516228785, "question_id": 48311171, "link": "https://stackoverflow.com/questions/48311171/angular-4-child-routing-is-not-working", "title": "Angular 4 Child Routing is not working", "body": "<p>everyone.\nI'm working with angular but I've some issues with the routing.\nI've followed some tutorials, but the routing is not working.\nCan somebody check my code and tell me what I'm doing worse?</p>\n\n<p>This is my principal router module:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { NgModule }      from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { LoginComponent } from './login/login.component';\r\nimport { ListadoSolicitudComponent } from './solicitudes/listado_solicitud.component';\r\n\r\nconst routes: Routes = [\r\n\t{ path: 'solicitud', loadChildren: './solicitudes/solicitudes.module#SolicitudesModule' },\r\n\t{ path: 'admin', loadChildren: './administracion/administracion.module#AdministracionModule' },\r\n\t{ path: 'login', component: LoginComponent },\r\n\t{ path: 'solicitudes', component: ListadoSolicitudComponent },\r\n\t{ path: '', redirectTo: '/solicitudes', pathMatch: 'full' }\r\n];\r\n@NgModule({\r\n  imports: [ RouterModule.forRoot(routes) ],\r\n  exports: [ RouterModule ]\r\n})\r\nexport class AppRoutingModule{ }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>My principal module </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { RouterModule, Routes} from '@angular/router';\r\n\r\nimport { Contenedor } from './contenedor.component';\r\nimport { SolicitudesModule } from './solicitudes/solicitudes.module';\r\nimport { AdministracionModule } from './administracion/administracion.module';\r\nimport { AppRoutingModule }  from './app-routing.module';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { ListadoSolicitudComponent } from './solicitudes/listado_solicitud.component';\r\n\r\n@NgModule({\r\n    declarations: [Contenedor, LoginComponent, ListadoSolicitudComponent],\r\n    imports: [BrowserModule, AppRoutingModule/*, SolicitudesModule, AdministracionModule*/],\r\n    providers: [],\r\n    bootstrap: [Contenedor]\r\n})\r\nexport class ContenedorModule { }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And, this is one of the two router child module (SolicitudesRutaModule):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes} from '@angular/router';\r\n\r\n//Importo los componentes\r\nimport { ListadoSolicitudComponent } from './listado_solicitud.component';\r\n\r\nimport { registrosolicitud } from './registro_solicitud.component';\r\nimport { RegistroParticipantes } from './registro_participantes.component';\r\nimport { Proyeccion } from './proyeccion_gastos.component';\r\nimport { DatoSolicitud } from './datos_solicitud.component';\r\nimport { ordencompra } from './orden_compra_solicitud.component';\r\nimport { Bitacora } from './bitacora.component';\r\nimport { AprobarSolicitud } from './aprobar.component';\r\nimport { editarsolicitud } from './editar_solicitud.component';\r\n\r\nconst Route: Routes = [\r\n  { path: '', component: ListadoSolicitudComponent,\r\n  children: [\r\n    { path: 'registro', component: registrosolicitud },\r\n    { path: 'gasto', component: Proyeccion },\r\n    { path: 'participantes', component: RegistroParticipantes },\r\n    { path: 'compra', component: ordencompra },\r\n    { path: 'bitacora', component: Bitacora },\r\n    { path: 'aprobar', component: AprobarSolicitud },\r\n    { path: 'edit', component: editarsolicitud }\r\n  ]}\r\n];\r\n// Metadatos del m\u00f3dulo\r\n@NgModule({\r\n    imports: [ RouterModule.forChild(Route) ],\r\n    exports: [ RouterModule ]\r\n})\r\nexport class SolicitudesRutaModule { }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "jquery", "python", "html", "cgi"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1516228752, "post_id": 48311151, "comment_id": 83608115, "body": "any &quot;communication&quot; between client (javascript) and server (pythin) is usually done using AJAX (XMLHttpRequest or fetch on the client side)"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8483647"}, "is_accepted": false, "score": 0, "last_activity_date": 1518300205, "creation_date": 1518300205, "answer_id": 48726029, "question_id": 48311151, "link": "https://stackoverflow.com/questions/48311151/how-to-communicate-between-javascript-and-python-in-a-cgi-script/48726029#48726029", "title": "How to communicate between JavaScript and Python in a CGI script", "body": "<p>AJAX/JQUERY can send the data, JSON for instance, to your python endpoint. But your script is not a server. You need a server a.k.a middleware like apache. POST via AJAX to your server adress:</p>\n\n<pre><code>    $(function(){\n    $.ajax({\n    url: \"ServerAdress/cgi-bin/\" + service.py,\n    type: \"POST\",\n    async:true,\n    data: {key_vehicule: 'mercedes'},\n    success: function(response){\n\n        },\n    error: function(){\n\n        },\n    complete: function(){\n\n        }\n    });\n</code></pre>\n\n<p>Be sure to have your server configured to execute the python script with the python interpeter and all the right it needs. In the python script, just importing the cgi is not enought, you need the to receive the data:</p>\n\n<pre><code>     form = cgi.FieldStorage()\n     vehicule = form.getvalue('key_vehicule')\n</code></pre>\n"}], "owner": {"reputation": 557, "user_id": 7452543, "user_type": "registered", "accept_rate": 21, "profile_image": "https://graph.facebook.com/10211311036113433/picture?type=large", "display_name": "Kiran Baktha", "link": "https://stackoverflow.com/users/7452543/kiran-baktha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1102, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518300205, "creation_date": 1516228671, "question_id": 48311151, "link": "https://stackoverflow.com/questions/48311151/how-to-communicate-between-javascript-and-python-in-a-cgi-script", "title": "How to communicate between JavaScript and Python in a CGI script", "body": "<p>I have a CGI script which runs on local host. It has a Python function named compute(argument 1) and prints html tags along with a JavaScript function called onClick which gets called when a button is clicked on the browser. I am not sure how to communicate between JavaScript and Python here. </p>\n\n<p>Here is a snippet of the CGI file </p>\n\n<pre><code>   import cgi\n\n   def worker():\n      #Does something here and returns an python list called data\n   def compute(index) \n       #Does something with data[index] and returns another python list called data2\n   print (\"Content-type: text/html\")\n   print ()\n   print (\"&lt;html&gt;\")\n   print (\"&lt;head&gt;\")\n   print (\"&lt;title&gt;Worker&lt;/title&gt;\")\n   print(\"\"\"&lt;script type = \"text/javascript\"&gt;\n   var count = 0;\n   function onClick(){\n    count = count+1;\n     document.getElementById(\"dis\").innerHTML = count; \n    };\n  &lt;/script&gt;\"\"\")\n   print (\"&lt;/head&gt;\")\n   print (\"&lt;body&gt;\")\n  &lt;button  type = \"button\" class  = \"next\" onclick = \"onClick()\" &gt;Next &amp;rarr; &lt;/button&gt;\n   print(\"\"\"Count: &lt;p id = \"dis\" &gt; 0 &lt;/p&gt;\"\"\")\n   print (\"&lt;/body&gt;\")\n   print (\"&lt;/html&gt;\")\n</code></pre>\n\n<p>My question here is how do I make the JavaScript function OnClick() call the python function compute() by passing variable count as a parameter and then storing the resulting list returned by compute() as a JavaScript variable. It would be better if worker function does not have to be called again. It would be fine to even return a single variable in compute(index) rather than a python list and pass it to JavaScript. Thanks in advance :).</p>\n"}, {"tags": ["javascript", "angularjs", "node.js", "angular"], "comments": [{"owner": {"reputation": 4047, "user_id": 5782634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cab870f0dff7ba711aec822b4c57c64?s=128&d=identicon&r=PG&f=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/5782634/brad"}, "edited": false, "score": 0, "creation_date": 1516255869, "post_id": 48311118, "comment_id": 83615241, "body": "Is your angular router navigating to the correct path after you change the address?"}], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 7068476, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b8fba3d51148d9ee84219f40c671bd29?s=128&d=identicon&r=PG&f=1", "display_name": "Steve ", "link": "https://stackoverflow.com/users/7068476/steve"}, "edited": false, "score": 0, "creation_date": 1516229904, "post_id": 48311186, "comment_id": 83608589, "body": "It solved some of the problems. But now when I type <code>http:&#47;&#47;localhost:4200&#47;historical&#47;4</code> or <code>http:&#47;&#47;localhost:4200&#47;historical&#47;2</code> It does not show the data for day 4 or day 2 resp.  but instrad shows me the latest data. Whereas if I type the same for node server <code>http:&#47;&#47;localhost:8000&#47;historical&#47;4</code>, it shows the correct data"}, {"owner": {"reputation": 11413, "user_id": 7176268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04229512cf43b446c03e7b902ca0b890?s=128&d=identicon&r=PG&f=1", "display_name": "LLai", "link": "https://stackoverflow.com/users/7176268/llai"}, "reply_to_user": {"reputation": 91, "user_id": 7068476, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b8fba3d51148d9ee84219f40c671bd29?s=128&d=identicon&r=PG&f=1", "display_name": "Steve ", "link": "https://stackoverflow.com/users/7068476/steve"}, "edited": false, "score": 0, "creation_date": 1516232677, "post_id": 48311186, "comment_id": 83609389, "body": "@Steve what do you mean by latest data?"}, {"owner": {"reputation": 91, "user_id": 7068476, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b8fba3d51148d9ee84219f40c671bd29?s=128&d=identicon&r=PG&f=1", "display_name": "Steve ", "link": "https://stackoverflow.com/users/7068476/steve"}, "edited": false, "score": 0, "creation_date": 1516305484, "post_id": 48311186, "comment_id": 83644351, "body": "On hindsight, a question came into my mind.  Why do I even need node to serve data from a DB to angular? Why can&#39;t I directly request (query) data from DB in angular (skipping the request to node, which then the node server makes request to DB and then give data to angular."}, {"owner": {"reputation": 11413, "user_id": 7176268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04229512cf43b446c03e7b902ca0b890?s=128&d=identicon&r=PG&f=1", "display_name": "LLai", "link": "https://stackoverflow.com/users/7176268/llai"}, "reply_to_user": {"reputation": 91, "user_id": 7068476, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b8fba3d51148d9ee84219f40c671bd29?s=128&d=identicon&r=PG&f=1", "display_name": "Steve ", "link": "https://stackoverflow.com/users/7068476/steve"}, "edited": false, "score": 0, "creation_date": 1516306785, "post_id": 48311186, "comment_id": 83645034, "body": "@Steve There are a couple of issues with that. 1: directly querying the db from angular requires you to expose your database credentials on the client which is a huge security risk. (There are some exceptions like firebase where this is the case, but the db is locked down by rules). 2: The chain has to be angular -&gt; node -&gt; db -&gt; node -&gt; angular. You can&#39;t do angular -&gt; db -&gt; node -&gt; angular because if angular makes the request to the db, the db wants to respond to angular. It does not and won&#39;t know to respond to node because node did not make the request."}, {"owner": {"reputation": 91, "user_id": 7068476, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b8fba3d51148d9ee84219f40c671bd29?s=128&d=identicon&r=PG&f=1", "display_name": "Steve ", "link": "https://stackoverflow.com/users/7068476/steve"}, "edited": false, "score": 0, "creation_date": 1516307652, "post_id": 48311186, "comment_id": 83645395, "body": "Thank you for elucidating and helping me to understand the general web app architecture. You are awesome!  Are there any other reasons( apart from security) for which the rigor is to make calls <code>angular -&gt; node -&gt; db -&gt; node -&gt; angular</code>, instead (removing node in the picture)  <code>angular -&gt; db -&gt; angular</code>"}, {"owner": {"reputation": 11413, "user_id": 7176268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04229512cf43b446c03e7b902ca0b890?s=128&d=identicon&r=PG&f=1", "display_name": "LLai", "link": "https://stackoverflow.com/users/7176268/llai"}, "reply_to_user": {"reputation": 91, "user_id": 7068476, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b8fba3d51148d9ee84219f40c671bd29?s=128&d=identicon&r=PG&f=1", "display_name": "Steve ", "link": "https://stackoverflow.com/users/7068476/steve"}, "edited": false, "score": 0, "creation_date": 1516308662, "post_id": 48311186, "comment_id": 83645887, "body": "@Steve I would say security is the biggest issue. Another thing to consider is data processing. Say your webpage needs some data that is composed of 3+ tables in your database. You can have your server(node) handle this processing/compiling of data in a single api. So ultimately your client(angular) only has to hit 1 endpoint as opposed to 3+."}], "tags": [], "owner": {"reputation": 11413, "user_id": 7176268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04229512cf43b446c03e7b902ca0b890?s=128&d=identicon&r=PG&f=1", "display_name": "LLai", "link": "https://stackoverflow.com/users/7176268/llai"}, "is_accepted": true, "score": 1, "last_activity_date": 1516228897, "creation_date": 1516228897, "answer_id": 48311186, "question_id": 48311118, "link": "https://stackoverflow.com/questions/48311118/angular-how-to-send-get-request-to-node/48311186#48311186", "title": "Angular how to send get request to node", "body": "<p>For one I would not call the <code>makeRequest</code> function from your html. Angular is going to fire this method every time the change detection cycle runs (alot of api requests). Instead I would include it in your ngOnInit lifecycle hook</p>\n\n<pre><code>ngOnInit(){\n    this.makeRequest();\n}\n</code></pre>\n\n<p>Since your node server is running on localhost:8000, then </p>\n\n<pre><code>this.http.get('http://localhost:8000/historical/1').subscribe(...);\n</code></pre>\n\n<p>should work. If you want to hit localhost:4200 for an api request, you are going to need to proxy your api calls from localhost:4200 to localhost:8000. <a href=\"https://github.com/angular/angular-cli/blob/master/docs/documentation/stories/proxy.md\" rel=\"nofollow noreferrer\">Angular CLI proxy docs</a></p>\n"}], "owner": {"reputation": 91, "user_id": 7068476, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b8fba3d51148d9ee84219f40c671bd29?s=128&d=identicon&r=PG&f=1", "display_name": "Steve ", "link": "https://stackoverflow.com/users/7068476/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "accepted_answer_id": 48311186, "answer_count": 1, "score": 0, "last_activity_date": 1516228897, "creation_date": 1516228508, "question_id": 48311118, "link": "https://stackoverflow.com/questions/48311118/angular-how-to-send-get-request-to-node", "title": "Angular how to send get request to node", "body": "<p>I have a node server running at port 8000</p>\n\n<pre><code>app.get('/historical/:days' ,(req,res,next){..})\n</code></pre>\n\n<p>How do I make a a request from angular(port 4200) from the browser to the node server?\nI do the following</p>\n\n<pre><code>makeRequest(): void {\nthis.loading = true;\nthis.http.get('http://localhost:8000/historical/:day')\n.subscribe(data =&gt; {\n\n  this.data = data;\n  console.log(this.data)\n  this.loading = false; });\n</code></pre>\n\n<p>}</p>\n\n<p>at the html side of angular:</p>\n\n<pre><code>&lt;pre&gt;\n&lt;div&gt;\n  {{makeRequest()}}\n&lt;/div&gt;\n\n&lt;/pre&gt;\n</code></pre>\n\n<p>When I type <code>http://localhost:4200/historical/1</code>, (where 1 represents historical data of the previous day)\nnothing happens</p>\n\n<p>What to do?</p>\n"}, {"tags": ["javascript", "jquery", "loops"], "comments": [{"owner": {"reputation": 1293, "user_id": 1367039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e89dcb45151fded5c1a3b749646be5f2?s=128&d=identicon&r=PG", "display_name": "Chris Riebschlager", "link": "https://stackoverflow.com/users/1367039/chris-riebschlager"}, "edited": false, "score": 1, "creation_date": 1516228583, "post_id": 48311111, "comment_id": 83608030, "body": "If you&#39;re doing something really data-intensive but you don&#39;t want to block the browser process, you might look into doing that work in a Service Worker: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API</a>"}, {"owner": {"reputation": 170455, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 2, "creation_date": 1516228624, "post_id": 48311111, "comment_id": 83608056, "body": "\u2026what are you doing in the loop? An empty <code>for()</code> loop of that sort runs essentially instantly; it won&#39;t hang the browser."}, {"owner": {"reputation": 229718, "user_id": 82548, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/db5a61382c2ba7309071c323edb4013b?s=128&d=identicon&r=PG", "display_name": "David says reinstate Monica", "link": "https://stackoverflow.com/users/82548/david-says-reinstate-monica"}, "edited": false, "score": 2, "creation_date": 1516228825, "post_id": 48311111, "comment_id": 83608150, "body": "If you don&#39;t explain what you&#39;re doing, or show code that approximates your real task, we can&#39;t realistically offer any useful advice for reducing the workload or minimising its effect on the browser."}, {"owner": {"reputation": 999, "user_id": 8267295, "user_type": "registered", "profile_image": "https://graph.facebook.com/1362596417134964/picture?type=large", "display_name": "Norris Oduro", "link": "https://stackoverflow.com/users/8267295/norris-oduro"}, "edited": false, "score": 1, "creation_date": 1516229100, "post_id": 48311111, "comment_id": 83608257, "body": "Can you add a sample of the things you are calculating for in the for loop?"}], "answers": [{"tags": [], "owner": {"reputation": 437, "user_id": 970077, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e8446e6559d00c44a63238ccc6317bd0?s=128&d=identicon&r=PG", "display_name": "refeniz", "link": "https://stackoverflow.com/users/970077/refeniz"}, "is_accepted": false, "score": 1, "last_activity_date": 1516308174, "last_edit_date": 1516308174, "creation_date": 1516228703, "answer_id": 48311161, "question_id": 48311111, "link": "https://stackoverflow.com/questions/48311111/using-for-loop-in-javascript-for-50k-time-without-hanging-of-browser/48311161#48311161", "title": "Using for loop in javascript for 50k time without hanging of browser", "body": "<p>You could try a <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers\" rel=\"nofollow noreferrer\">webworker</a>. <a href=\"https://github.com/mattslocum/ng-webworker\" rel=\"nofollow noreferrer\">Here</a> is a package that might simplify things for you.</p>\n"}], "owner": {"reputation": 15, "user_id": 9232055, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yD4Xe1B4bBQ/AAAAAAAAAAI/AAAAAAAAAEE/AeJRe8fH7As/photo.jpg?sz=128", "display_name": "Rahul Bisht", "link": "https://stackoverflow.com/users/9232055/rahul-bisht"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "closed_date": 1516232674, "answer_count": 1, "score": -3, "last_activity_date": 1516308174, "creation_date": 1516228487, "question_id": 48311111, "link": "https://stackoverflow.com/questions/48311111/using-for-loop-in-javascript-for-50k-time-without-hanging-of-browser", "closed_reason": "Needs more focus", "title": "Using for loop in javascript for 50k time without hanging of browser", "body": "<p>I have to run a loop for 50,000 times, but it is hanging browser. what could be the best way to do it.</p>\n\n<p>sample :</p>\n\n<pre><code>for(var i=0;i&lt;50000;i++)\n{\n// Here I am calculating 50 different values.\n}\n</code></pre>\n\n<p>I can't use php because values are displayed directly in html page.</p>\n\n<p>what I can do for it?</p>\n\n<p>thanks</p>\n"}, {"tags": ["javascript", "async-await", "es6-promise"], "comments": [{"owner": {"reputation": 52633, "user_id": 3155639, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d254eedd932f950213109aa3706aba74?s=128&d=identicon&r=PG", "display_name": "Alexander O&#39;Mara", "link": "https://stackoverflow.com/users/3155639/alexander-omara"}, "edited": false, "score": 1, "creation_date": 1516228538, "post_id": 48311087, "comment_id": 83608010, "body": "<code>sha1</code> returns an unresolved promise. It resolves sometime after your <code>console.log</code> call (which is how you can inspect it in the console). There is no way to block until the promise resolves, but you can <code>await</code> it (from inside an <code>async</code> function)."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1516228563, "post_id": 48311087, "comment_id": 83608022, "body": "<code>sha1</code> returns a pending promise, synchronously, so, yes, there is a pending promise"}, {"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 0, "creation_date": 1516228600, "post_id": 48311087, "comment_id": 83608037, "body": "If your logs are at the root level, there is no way to halt until the promise is resolved. If you put them in an async function, you can <code>console.log(await test(&quot;abc&quot;))</code>, and it will wait for each result before the logging continues."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 1, "creation_date": 1516228619, "post_id": 48311087, "comment_id": 83608053, "body": "ALL async functions return a promise (this is a common misunderstanding).  You have to use <code>.then()</code> or <code>await</code> on that promise to get the value.  That&#39;s how it works.  While programming with <code>await</code> appears to make it look like synchronous code, it&#39;s still async."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1516228661, "post_id": 48311087, "comment_id": 83608074, "body": "note, calling <code>test(&#39;abc&#39;)</code> is no different than calling <code>sha1(&#39;abc&#39;)</code> - adding a level of &quot;indirection&quot; doesn&#39;t make asynchronous code synchronous"}, {"owner": {"reputation": 1369, "user_id": 5743760, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-plf8lAP553g/AAAAAAAAAAI/AAAAAAAAAJw/kyFlbkxC2TY/photo.jpg?sz=128", "display_name": "Denis Giffeler", "link": "https://stackoverflow.com/users/5743760/denis-giffeler"}, "reply_to_user": {"reputation": 52633, "user_id": 3155639, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d254eedd932f950213109aa3706aba74?s=128&d=identicon&r=PG", "display_name": "Alexander O&#39;Mara", "link": "https://stackoverflow.com/users/3155639/alexander-omara"}, "edited": false, "score": 0, "creation_date": 1516229402, "post_id": 48311087, "comment_id": 83608391, "body": "@AlexanderO&#39;Mara: Thank you - if I use nested calls I have to mark every function (even eventhandlers) as async. Using await in the test function doesn&#39;t change the behaviour of the script."}, {"owner": {"reputation": 1369, "user_id": 5743760, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-plf8lAP553g/AAAAAAAAAAI/AAAAAAAAAJw/kyFlbkxC2TY/photo.jpg?sz=128", "display_name": "Denis Giffeler", "link": "https://stackoverflow.com/users/5743760/denis-giffeler"}, "reply_to_user": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1516229608, "post_id": 48311087, "comment_id": 83608477, "body": "@jfriend00: I tried to change the &quot;test&quot; function (a lot!) but couldn&#39;t figure out  how to get the work done. sha1(str).then(result =&gt; {return result;}) is not going to do the trick..."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 2, "creation_date": 1516229713, "post_id": 48311087, "comment_id": 83608506, "body": "If you&#39;re trying to get a synchronous result out of an asynchronous operation, you can just give up now.  Javascript does not have that capability.  You&#39;re going to be using a promise-based async result inside of a <code>.then()</code> handler or with an <code>await</code> no matter what.  Async is considered infectious.  Once a result is async, anything that uses it has to be async.  So your <code>test()</code> function needs to have an asynchronous interface, not a synchronous one."}, {"owner": {"reputation": 1369, "user_id": 5743760, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-plf8lAP553g/AAAAAAAAAAI/AAAAAAAAAJw/kyFlbkxC2TY/photo.jpg?sz=128", "display_name": "Denis Giffeler", "link": "https://stackoverflow.com/users/5743760/denis-giffeler"}, "reply_to_user": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1516262264, "post_id": 48311087, "comment_id": 83617969, "body": "@jfriend00: &#187;It&#39;s turtles all the way down (or up)&#171;...I was missing this simple advice of yours in all the blogs I read. Even if this question is marked as duplicate (as foreseen) - it should be made more clearly in the manuals about promises and async/await. Thank you."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1516262497, "post_id": 48311087, "comment_id": 83618090, "body": "The first line of the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function#Description\" rel=\"nofollow noreferrer\">Description section for an Async Function</a> on MDN is this: <b><i>&quot;When an async function is called, it returns a Promise. When the async function returns a value, the Promise will be resolved with the returned value.  When the async function throws an exception or some value, the Promise will be rejected with the thrown value.&quot;</i></b>"}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 1, "creation_date": 1516262690, "post_id": 48311087, "comment_id": 83618202, "body": "The descriptions of <code>await</code> do appear to be lacking as they don&#39;t help people understand that the host function still returns the promise immediately even though the function body is itself paused for an <code>await</code>.  An implementation of <code>await</code> can be thought of to be a compiler created <code>.then()</code> handler that automatically contains all code that follows the <code>await</code>.  And, just like when not using <code>await</code>, the host function still returns its promise even though the promise you are awaiting has not yet resolved/rejected.  <code>await</code> really only affects things inside the function body it&#39;s in."}], "owner": {"reputation": 1369, "user_id": 5743760, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-plf8lAP553g/AAAAAAAAAAI/AAAAAAAAAJw/kyFlbkxC2TY/photo.jpg?sz=128", "display_name": "Denis Giffeler", "link": "https://stackoverflow.com/users/5743760/denis-giffeler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "closed_date": 1516230139, "answer_count": 0, "score": 0, "last_activity_date": 1516228355, "creation_date": 1516228355, "question_id": 48311087, "link": "https://stackoverflow.com/questions/48311087/hey-wait-a-minute-there-is-a-pending-promise-or-what", "closed_reason": "Duplicate", "title": "Hey wait a minute - there is a pending promise - or what?", "body": "<p>I'm trying to use the result of a promise function in a non-asynchronous manner. It doesn't matter how long the calculation of the digest will take - I just want the execution of the code to wait (block, hibernate, stop, ...) until there is a result for the promise:</p>\n\n<pre><code>async function sha1(str) {\n    const r = await crypto.subtle.digest(`SHA-1`, new TextEncoder().encode(str));\n    return Array.prototype.map.call(new Uint8Array(r), x =&gt; x.toString(16).padStart(2, 0)).join(``);\n}\n\nfunction test(str) {\n    return sha1(str);\n}\n\nconsole.log(1);\nconsole.log(test(\"abc\"));\nconsole.log(3);\nconsole.log(test(\"def\"));\n</code></pre>\n\n<p>As long as I don't go into details in the debugger, the resulting console-log is always in a \"pending\" state.</p>\n\n<pre><code>[Log] 1 \n[Log] Promise {status: \"pending\"}\n[Log] 3 \n[Log] Promise {status: \"pending\"}\n</code></pre>\n\n<p>After opening the detail there is the correct result for each function call:</p>\n\n<pre><code>[Log] Promise\nresult: \"a9993e364706816aba3e25717850c26c9cd0d89d\"\nstatus: \"resolved\"\n...\n</code></pre>\n\n<p>I'm pretty sure I will get a \"duplicate question\" tag - but I couldn't find a satisfying answer. Sorry about that.\nMost of the examples just use an output function for demonstration purposes, but I need to <strong>return a value</strong> from the second function...</p>\n"}, {"tags": ["javascript", "crossfilter"], "comments": [{"owner": {"reputation": 5892, "user_id": 200576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9d87276f318e35b643cf58e82a3b9da?s=128&d=identicon&r=PG", "display_name": "Ethan Jewett", "link": "https://stackoverflow.com/users/200576/ethan-jewett"}, "edited": false, "score": 0, "creation_date": 1516230033, "post_id": 48311067, "comment_id": 83608624, "body": "Because dimension.top(Infinity) will return your dimension data. dimension.filterAll() just clears filters on the dimension."}, {"owner": {"reputation": 11, "user_id": 9231444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e831c7a4a5ac7f17aac8758312348ac?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Rando", "link": "https://stackoverflow.com/users/9231444/johnny-rando"}, "reply_to_user": {"reputation": 5892, "user_id": 200576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9d87276f318e35b643cf58e82a3b9da?s=128&d=identicon&r=PG", "display_name": "Ethan Jewett", "link": "https://stackoverflow.com/users/200576/ethan-jewett"}, "edited": false, "score": 0, "creation_date": 1516230961, "post_id": 48311067, "comment_id": 83608919, "body": "Brilliant!  Thank you.  Top(k) works and I will use it.  I have submitted an issue to the Crossfilter team, though, because their API reference says that filterAll &quot;Clears any filters on this dimension, selecting all records and returning this dimension&quot; and give the sample code/comment: paymentsByTotal.filterAll(); // selects all payments"}], "owner": {"reputation": 11, "user_id": 9231444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e831c7a4a5ac7f17aac8758312348ac?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Rando", "link": "https://stackoverflow.com/users/9231444/johnny-rando"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1516228236, "creation_date": 1516228236, "question_id": 48311067, "link": "https://stackoverflow.com/questions/48311067/empty-crossfilter-dimension", "title": "empty crossfilter dimension", "body": "<p>When running the following code, the first console.log is returning the contents of the crossfilter instance, but the second console.log is return empty brackets.</p>\n\n<p>Why isn't data getting into my crossfilter dimension?</p>\n\n<pre><code>var cf = require('./crossfilter.js');\n\nvar payments = cf([\n  {date: \"2011-11-14T16:17:54Z\", quantity: 2, total: 190, tip: 100, type: \"tab\", productIDs:[\"001\"]},\n  {date: \"2011-11-14T16:20:19Z\", quantity: 2, total: 190, tip: 100, type: \"tab\", productIDs:[\"001\", \"005\"]},\n  {date: \"2011-11-14T16:28:54Z\", quantity: 1, total: 300, tip: 200, type: \"visa\", productIDs:[\"004\" ,\"005\"]}\n]);\nvar paymentsByTotal = payments.dimension(function(d) { return d.total; });\n\nconsole.log(JSON.stringify(payments.all()))\nconsole.log(JSON.stringify(paymentsByTotal.filterAll()))\n</code></pre>\n"}, {"tags": ["javascript", "json", "google-people"], "comments": [{"owner": {"reputation": 329, "user_id": 7338046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27e729f6a4780f6b6fd99f9b31f3c3b9?s=128&d=identicon&r=PG&f=1", "display_name": "Uriel Chami", "link": "https://stackoverflow.com/users/7338046/uriel-chami"}, "edited": false, "score": 0, "creation_date": 1516228381, "post_id": 48311064, "comment_id": 83607959, "body": "What do you get if you log response.connections[0]?"}, {"owner": {"reputation": 1307, "user_id": 7189370, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YsxWx.png?s=128&g=1", "display_name": "CanciuCostin", "link": "https://stackoverflow.com/users/7189370/canciucostin"}, "reply_to_user": {"reputation": 329, "user_id": 7338046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27e729f6a4780f6b6fd99f9b31f3c3b9?s=128&d=identicon&r=PG&f=1", "display_name": "Uriel Chami", "link": "https://stackoverflow.com/users/7338046/uriel-chami"}, "edited": false, "score": 0, "creation_date": 1516228510, "post_id": 48311064, "comment_id": 83607998, "body": "TypeError: Cannot read property &#39;0&#39; of undefined"}, {"owner": {"reputation": 329, "user_id": 7338046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27e729f6a4780f6b6fd99f9b31f3c3b9?s=128&d=identicon&r=PG&f=1", "display_name": "Uriel Chami", "link": "https://stackoverflow.com/users/7338046/uriel-chami"}, "edited": false, "score": 0, "creation_date": 1516228607, "post_id": 48311064, "comment_id": 83608042, "body": "What about console.log(response)?"}, {"owner": {"reputation": 329, "user_id": 7338046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27e729f6a4780f6b6fd99f9b31f3c3b9?s=128&d=identicon&r=PG&f=1", "display_name": "Uriel Chami", "link": "https://stackoverflow.com/users/7338046/uriel-chami"}, "edited": false, "score": 0, "creation_date": 1516228668, "post_id": 48311064, "comment_id": 83608076, "body": "Please add the complete http request in your question"}, {"owner": {"reputation": 1307, "user_id": 7189370, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YsxWx.png?s=128&g=1", "display_name": "CanciuCostin", "link": "https://stackoverflow.com/users/7189370/canciucostin"}, "reply_to_user": {"reputation": 329, "user_id": 7338046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27e729f6a4780f6b6fd99f9b31f3c3b9?s=128&d=identicon&r=PG&f=1", "display_name": "Uriel Chami", "link": "https://stackoverflow.com/users/7338046/uriel-chami"}, "edited": false, "score": 0, "creation_date": 1516228703, "post_id": 48311064, "comment_id": 83608085, "body": "Gives the output that I have posted in the question."}, {"owner": {"reputation": 329, "user_id": 7338046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27e729f6a4780f6b6fd99f9b31f3c3b9?s=128&d=identicon&r=PG&f=1", "display_name": "Uriel Chami", "link": "https://stackoverflow.com/users/7338046/uriel-chami"}, "edited": false, "score": 0, "creation_date": 1516228743, "post_id": 48311064, "comment_id": 83608110, "body": "You probably didn&#39;t convert the response to JSON object, do console.log(typeof response)"}, {"owner": {"reputation": 1307, "user_id": 7189370, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YsxWx.png?s=128&g=1", "display_name": "CanciuCostin", "link": "https://stackoverflow.com/users/7189370/canciucostin"}, "reply_to_user": {"reputation": 329, "user_id": 7338046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27e729f6a4780f6b6fd99f9b31f3c3b9?s=128&d=identicon&r=PG&f=1", "display_name": "Uriel Chami", "link": "https://stackoverflow.com/users/7338046/uriel-chami"}, "edited": false, "score": 0, "creation_date": 1516229013, "post_id": 48311064, "comment_id": 83608207, "body": "var response=util.inspect(responses,{depth:5});"}, {"owner": {"reputation": 1307, "user_id": 7189370, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YsxWx.png?s=128&g=1", "display_name": "CanciuCostin", "link": "https://stackoverflow.com/users/7189370/canciucostin"}, "reply_to_user": {"reputation": 329, "user_id": 7338046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27e729f6a4780f6b6fd99f9b31f3c3b9?s=128&d=identicon&r=PG&f=1", "display_name": "Uriel Chami", "link": "https://stackoverflow.com/users/7338046/uriel-chami"}, "edited": false, "score": 0, "creation_date": 1516229026, "post_id": 48311064, "comment_id": 83608213, "body": "The type of response is string. How do I convert it?"}], "answers": [{"comments": [{"owner": {"reputation": 1307, "user_id": 7189370, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YsxWx.png?s=128&g=1", "display_name": "CanciuCostin", "link": "https://stackoverflow.com/users/7189370/canciucostin"}, "edited": false, "score": 0, "creation_date": 1516230834, "post_id": 48311267, "comment_id": 83608881, "body": "{ connections:    ^  SyntaxError: Unexpected token c in JSON at position 2"}, {"owner": {"reputation": 329, "user_id": 7338046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27e729f6a4780f6b6fd99f9b31f3c3b9?s=128&d=identicon&r=PG&f=1", "display_name": "Uriel Chami", "link": "https://stackoverflow.com/users/7338046/uriel-chami"}, "reply_to_user": {"reputation": 1307, "user_id": 7189370, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YsxWx.png?s=128&g=1", "display_name": "CanciuCostin", "link": "https://stackoverflow.com/users/7189370/canciucostin"}, "edited": false, "score": 0, "creation_date": 1516231851, "post_id": 48311267, "comment_id": 83609163, "body": "What if you avoid the util.inspect? Try parsing &quot;responses&quot; first"}, {"owner": {"reputation": 1307, "user_id": 7189370, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YsxWx.png?s=128&g=1", "display_name": "CanciuCostin", "link": "https://stackoverflow.com/users/7189370/canciucostin"}, "edited": false, "score": 0, "creation_date": 1516232297, "post_id": 48311267, "comment_id": 83609282, "body": "[object Object]  ^  SyntaxError: Unexpected token o in JSON at position 1"}, {"owner": {"reputation": 329, "user_id": 7338046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27e729f6a4780f6b6fd99f9b31f3c3b9?s=128&d=identicon&r=PG&f=1", "display_name": "Uriel Chami", "link": "https://stackoverflow.com/users/7338046/uriel-chami"}, "reply_to_user": {"reputation": 1307, "user_id": 7189370, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YsxWx.png?s=128&g=1", "display_name": "CanciuCostin", "link": "https://stackoverflow.com/users/7189370/canciucostin"}, "edited": false, "score": 0, "creation_date": 1516233935, "post_id": 48311267, "comment_id": 83609715, "body": "You need to go over the responses obj until you get to connections"}], "tags": [], "owner": {"reputation": 329, "user_id": 7338046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27e729f6a4780f6b6fd99f9b31f3c3b9?s=128&d=identicon&r=PG&f=1", "display_name": "Uriel Chami", "link": "https://stackoverflow.com/users/7338046/uriel-chami"}, "is_accepted": false, "score": 0, "last_activity_date": 1516229358, "creation_date": 1516229358, "answer_id": 48311267, "question_id": 48311064, "link": "https://stackoverflow.com/questions/48311064/storing-data-from-json-object-received-from-google-people-api/48311267#48311267", "title": "Storing data from JSON object received from Google People Api", "body": "<p>You should convert the response to JSON Object.\ntry this:</p>\n\n<pre><code>console.log(JSON.parse(response).connections[0].names);\n</code></pre>\n\n<p>(I am assuming you are working in Javascript)</p>\n"}, {"comments": [{"owner": {"reputation": 1307, "user_id": 7189370, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YsxWx.png?s=128&g=1", "display_name": "CanciuCostin", "link": "https://stackoverflow.com/users/7189370/canciucostin"}, "edited": false, "score": 0, "creation_date": 1516230579, "post_id": 48311418, "comment_id": 83608804, "body": "I get  { connections:    ^  SyntaxError: Unexpected token c in JSON at position 2"}, {"owner": {"reputation": 46, "user_id": 9127418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mNs3w.jpg?s=128&g=1", "display_name": "Samack77", "link": "https://stackoverflow.com/users/9127418/samack77"}, "reply_to_user": {"reputation": 1307, "user_id": 7189370, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YsxWx.png?s=128&g=1", "display_name": "CanciuCostin", "link": "https://stackoverflow.com/users/7189370/canciucostin"}, "edited": false, "score": 0, "creation_date": 1516231310, "post_id": 48311418, "comment_id": 83609031, "body": "console.log (typeof response)  ==&gt; and what did he return to the console?"}, {"owner": {"reputation": 1307, "user_id": 7189370, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YsxWx.png?s=128&g=1", "display_name": "CanciuCostin", "link": "https://stackoverflow.com/users/7189370/canciucostin"}, "edited": false, "score": 0, "creation_date": 1516232138, "post_id": 48311418, "comment_id": 83609243, "body": "response was string"}, {"owner": {"reputation": 46, "user_id": 9127418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mNs3w.jpg?s=128&g=1", "display_name": "Samack77", "link": "https://stackoverflow.com/users/9127418/samack77"}, "reply_to_user": {"reputation": 1307, "user_id": 7189370, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YsxWx.png?s=128&g=1", "display_name": "CanciuCostin", "link": "https://stackoverflow.com/users/7189370/canciucostin"}, "edited": false, "score": 0, "creation_date": 1516282596, "post_id": 48311418, "comment_id": 83630345, "body": "the answer to your problem raised at the beginning is like a string of text and not an object or array, that&#39;s why it gives you an error.  Try converting it with this function:     let responseObject = JSON.parse (response);  Documentation: <a href=\"https://www.w3schools.com/js/js_json_parse.asp\" rel=\"nofollow noreferrer\">w3schools.com/js/js_json_parse.asp</a>  Then do this:     console.log (responseObject);  You tell me what was the result in the console. (Y)"}], "tags": [], "owner": {"reputation": 46, "user_id": 9127418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mNs3w.jpg?s=128&g=1", "display_name": "Samack77", "link": "https://stackoverflow.com/users/9127418/samack77"}, "is_accepted": false, "score": 0, "last_activity_date": 1516230326, "creation_date": 1516230326, "answer_id": 48311418, "question_id": 48311064, "link": "https://stackoverflow.com/questions/48311064/storing-data-from-json-object-received-from-google-people-api/48311418#48311418", "title": "Storing data from JSON object received from Google People Api", "body": "<p>What I would do is validate if the answer is a String, you have a </p>\n\n<pre><code>console.log (typeof response)\n</code></pre>\n\n<p>if it is a string, convert it to JSON:</p>\n\n<pre><code>let responseObject = JSON.parse (response);\n</code></pre>\n\n<p>Finally, try if you can access the object:</p>\n\n<pre><code>console.log (responseObject.connections [0] .names);\n</code></pre>\n\n<p>You tell me your answer :)</p>\n"}, {"tags": [], "owner": {"reputation": 329, "user_id": 7338046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27e729f6a4780f6b6fd99f9b31f3c3b9?s=128&d=identicon&r=PG&f=1", "display_name": "Uriel Chami", "link": "https://stackoverflow.com/users/7338046/uriel-chami"}, "is_accepted": true, "score": 0, "last_activity_date": 1516234178, "creation_date": 1516234178, "answer_id": 48311987, "question_id": 48311064, "link": "https://stackoverflow.com/questions/48311064/storing-data-from-json-object-received-from-google-people-api/48311987#48311987", "title": "Storing data from JSON object received from Google People Api", "body": "<p>So, given the situation, and the information you've given over the comment sections.\nI assume that responses is already an object, but util.inspect, makes it a string with a JSON kind of syntax but without the quotes (\") before and after the names of the keys. That's why you get </p>\n\n<blockquote>\n  <p>{ connections: ^ SyntaxError: Unexpected token c in JSON at position 2</p>\n</blockquote>\n\n<p>So, try going over the responses object.</p>\n\n<pre><code>console.log(responses)\n</code></pre>\n\n<p>And get the name of the keys. With them</p>\n\n<pre><code>console.log(responses.sth.sthElse.anotherSth.anotherSthElse.lastSth.connections)\n</code></pre>\n\n<p>And see if you get the expected result :)</p>\n"}], "owner": {"reputation": 1307, "user_id": 7189370, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YsxWx.png?s=128&g=1", "display_name": "CanciuCostin", "link": "https://stackoverflow.com/users/7189370/canciucostin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 48311987, "answer_count": 3, "score": 0, "last_activity_date": 1516234178, "creation_date": 1516228225, "last_edit_date": 1516232325, "question_id": 48311064, "link": "https://stackoverflow.com/questions/48311064/storing-data-from-json-object-received-from-google-people-api", "title": "Storing data from JSON object received from Google People Api", "body": "<p>So I have a server that receives data from Google People api regarding contacts and my received object has the following structure:</p>\n\n<pre><code>{ connections:\n[ { resourceName: 'people/c3904925882068251400',\n   etag: '%EgYBAgkLNy4aDQECAwQFBgcICQoLDA0iDFZUOUE0NkRBZW0wPQ==',\n   names:\n    [ { metadata: { primary: true, source: [Object] },\n        displayName: 'Mihai Vrincut',\n        familyName: 'Vrincut',\n        givenName: 'Mihai',\n        displayNameLastFirst: 'Vrincut, Mihai' },\n      { metadata: { source: [Object] },\n        displayName: 'Mihai Vrincut',\n        familyName: 'Vrincut',\n        givenName: 'Mihai',\n        displayNameLastFirst: 'Vrincut, Mihai' } ],\n   emailAddresses:\n    [ { metadata: { primary: true, source: [Object] },\n        value: 'mihai.vrincut@gmail.com' } ] },\n { resourceName: 'people/c3275206487406036814',\n   etag: '%EgYBAgkLNy4aDQECAwQFBgcICQoLDA0iDHBFVzBUMm8wWU5nPQ==',\n   names:\n    [ { metadata: { primary: true, source: [Object] },\n        displayName: 'aaaaaaaaa',\n        givenName: 'aaaaaaaaa',\n        displayNameLastFirst: 'aaaaaaaaa' } ] },\n { resourceName: 'people/c5777943907795350059',\n   etag: '%EgYBAgkLNy4aDQECAwQFBgcICQoLDA0iDGxOeGYwblg3bFUwPQ==',\n   names:\n    [ { metadata: { primary: true, source: [Object] },\n        displayName: 'costin',\n        givenName: 'costin',\n        phoneticFamilyName: 'cancius',\n        phoneticGivenName: 'costin',\n        displayNameLastFirst: 'costin' } ],\n   emailAddresses: [ { metadata: { primary: true, source: [Object] }, value: 'hj' } ],\n   phoneNumbers:\n    [ { metadata: { primary: true, source: [Object] },\n        value: '07543532512',\n        canonicalForm: '+40754353251' } ] } ], totalPeople: 3}totalItems: 3 }\n</code></pre>\n\n<p>In order to get this object I used the util.inspect() method. However, when I try to access the names for example, I get undefined:</p>\n\n<pre><code>var response=util.inspect(responses,{depth:5}); \nConsole.log(response.connections[0].names);\n</code></pre>\n\n<p>What is wrong?</p>\n"}, {"tags": ["javascript", "jquery", "html", "css", "twitter-bootstrap"], "comments": [{"owner": {"reputation": 3172, "user_id": 946131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oxBnZ.jpg?s=128&g=1", "display_name": "azs06", "link": "https://stackoverflow.com/users/946131/azs06"}, "edited": false, "score": 0, "creation_date": 1516228364, "post_id": 48311053, "comment_id": 83607951, "body": "Do you have any error on console? Have you tried loading JavaScript before the end <code>&lt;&#47;body&gt;</code> tag?"}, {"owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "edited": false, "score": 1, "creation_date": 1516228588, "post_id": 48311053, "comment_id": 83608032, "body": "I&#39;d guess the problem is with your newlines in your library inclusions. I&#39;d recommend loading all of your <code>&lt;script&gt;</code> includes on a single line each, and also try refreshing both your JavaScript and CSS cache."}, {"owner": {"reputation": 2366, "user_id": 666181, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb032d90c1ca30ed378c274949c85382?s=128&d=identicon&r=PG", "display_name": "Jonathan Chaplin", "link": "https://stackoverflow.com/users/666181/jonathan-chaplin"}, "reply_to_user": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "edited": false, "score": 0, "creation_date": 1516228893, "post_id": 48311053, "comment_id": 83608168, "body": "@ObsidianAge is exactly right"}, {"owner": {"reputation": 2659, "user_id": 483133, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NcB9j.jpg?s=128&g=1", "display_name": "Phil", "link": "https://stackoverflow.com/users/483133/phil"}, "edited": false, "score": 0, "creation_date": 1516294034, "post_id": 48311053, "comment_id": 83638085, "body": "In fact, the script lines don&#39;t have to be one on line, but the issue is carriage returns in the middle of the URLs. Just tested it locally and it works."}, {"owner": {"reputation": 550, "user_id": 5858201, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/VFWSl.jpg?s=128&g=1", "display_name": "Mighty Ferengi", "link": "https://stackoverflow.com/users/5858201/mighty-ferengi"}, "edited": false, "score": 0, "creation_date": 1516295845, "post_id": 48311053, "comment_id": 83639142, "body": "There are no carriage returns in the actual script, that&#39;s simply the formatting of StackExchange. I&#39;ve tested it as well and it tests fine, but I can&#39;t get it to work in IIS Express or on the browser after deploying the program."}, {"owner": {"reputation": 550, "user_id": 5858201, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/VFWSl.jpg?s=128&g=1", "display_name": "Mighty Ferengi", "link": "https://stackoverflow.com/users/5858201/mighty-ferengi"}, "reply_to_user": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "edited": false, "score": 0, "creation_date": 1516363133, "post_id": 48311053, "comment_id": 83666349, "body": "@ObsidianAge I disabled the cache in my browser, but the issue persists."}], "owner": {"reputation": 550, "user_id": 5858201, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/VFWSl.jpg?s=128&g=1", "display_name": "Mighty Ferengi", "link": "https://stackoverflow.com/users/5858201/mighty-ferengi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 285, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1516291108, "creation_date": 1516228153, "last_edit_date": 1516291108, "question_id": 48311053, "link": "https://stackoverflow.com/questions/48311053/bootstrap-multiselect-clicking-button-does-not-drop-the-dropdown-menu", "title": "Bootstrap Multiselect: Clicking button does not drop the dropdown menu", "body": "<p>Trying to build a dropdown multiselect with check boxes using Bootstrap Multiselect. While the button with the carat and nonSelectedText render correctly, if I click the button to get the drop down, nothing happens. The odd part is that if I drop my code into JS Bin or JSFiddle, it works exactly how it needs to. I assume that means it's a css issue, but after several hours of searching, I am coming up with nothing. Can anyone point me in the right direction?</p>\n\n<pre><code>&lt;script \nsrc=\"http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js\" \n                                          type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;link href=\"http://cdnjs.cloudflare.com/ajax/libs/twitter-\n  bootstrap/3.0.3/css/bootstrap.min.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n&lt;script src=\"http://cdnjs.cloudflare.com/ajax/libs/twitter-\n       bootstrap/3.0.3/js/bootstrap.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;link href=\"http://cdn.rawgit.com/davidstutz/bootstrap-\n     multiselect/master/dist/css/bootstrap-multiselect.css\" rel=\"stylesheet\" \n     type=\"text/css\" /&gt;\n&lt;script src=\"http://cdn.rawgit.com/davidstutz/bootstrap-\n     multiselect/master/dist/js/bootstrap-multiselect.js\" \n     type=\"text/javascript\"&gt;\n&lt;/script&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    var j = jQuery.noConflict();\n    j(function () {\n        j('#SvcCodeList').multiselect({\n            includeSelectAllOption: false,\n            nonSelectedText: 'Select up to 3 service codes.',\n            numberDisplayed: 3,\n            nSelectedText: ' - Too many options selected!'\n        });\n    });\n&lt;/script&gt;\n\n&lt;div class=\"panel panel-default\"&gt;\n&lt;div class=\"panel-heading\"&gt;Enter Service Code and Dates of Service&lt;/div&gt;\n&lt;div class=\"panel-body\"&gt;\n    &lt;form asp-controller=\"Home\" asp-action=\"SvcCodeReport\"&gt;\n        &lt;div&gt;\n            &lt;label&gt;Service Code&lt;/label&gt;\n            &lt;select id=\"SvcCodeList\" multiple=\"multiple\" class=\"form-\n                                                                control\"&gt;\n                &lt;option value=\"1004\"&gt;1004-Sverice 1&lt;/option&gt;\n                &lt;option value=\"1005\"&gt;1005-Sverice 2&lt;/option&gt;\n                &lt;option value=\"1006\"&gt;1006-Sverice 3&lt;/option&gt;\n                &lt;option value=\"1007\"&gt;1007-Sverice 4&lt;/option&gt;\n            &lt;/select&gt;\n        &lt;/div&gt;\n        &lt;label&gt;Start Date&lt;/label&gt;\n        &lt;input type=\"date\" name=\"datestart\" id=\"start\" value=@ViewBag.start \n                                                                          /&gt;\n        &lt;label&gt;End Date&lt;/label&gt;\n        &lt;input type=\"date\" name=\"dateend\" id=\"end\" value=@ViewBag.end /&gt;\n        &lt;input type=\"submit\" value=\"Search\" /&gt;\n\n    &lt;/form&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "arrays", "coffeescript"], "answers": [{"tags": [], "owner": {"reputation": 1838, "user_id": 56082, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7d8f27df91b3d4b2a43606598ab75029?s=128&d=identicon&r=PG", "display_name": "Streamline", "link": "https://stackoverflow.com/users/56082/streamline"}, "is_accepted": false, "score": 0, "last_activity_date": 1516292440, "creation_date": 1516292440, "answer_id": 48325822, "question_id": 48311051, "link": "https://stackoverflow.com/questions/48311051/how-to-get-an-unflattened-array-of-multiselect-values-and-single-inputs-together/48325822#48325822", "title": "How to get an unflattened array of multiselect values and single inputs together?", "body": "<p>Ok, after a full night's rest the answer came to me right away and it seems so obvious now - just need to wrap the <code>multiselect</code> in an array bracket after the <code>.get()</code>! - doh. Sometimes documenting the problem here forces a solution to bubble up or highlight what I was missing.</p>\n\n<pre><code>filters = []\n$(@customFilterElements.selector).each -&gt;\n  filterName = $(@).find('.filter_entry .filter_name:input').val()\n  filterValues = $(@).find('.filter_entry .filter_value:input').map(-&gt;\n   if $(@).data('multiselect')\n     [$(@).find('option:selected').map(-&gt;\n       $(@).val()\n     ).get()]\n   else\n     $(@).val()\n  ).get()\n  filters.push({name: filterName, value: filterValues}) \n</code></pre>\n"}], "owner": {"reputation": 1838, "user_id": 56082, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7d8f27df91b3d4b2a43606598ab75029?s=128&d=identicon&r=PG", "display_name": "Streamline", "link": "https://stackoverflow.com/users/56082/streamline"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516292440, "creation_date": 1516228135, "last_edit_date": 1516290826, "question_id": 48311051, "link": "https://stackoverflow.com/questions/48311051/how-to-get-an-unflattened-array-of-multiselect-values-and-single-inputs-together", "title": "How to get an unflattened array of multiselect values and single inputs together?", "body": "<p>I have some dynamically created filters on a web app's page where the filter \"entry\" is at times the combination of a few different inputs and the values for the collection are gathered into an array to send back to the server. If these were all just single inputs then an array of values would be easy to map over to the inputs on the backend, however when one or more is a <code>multiselect</code> with multiple options, a flattened array of values mixing the <code>multiselect</code>'s values and the individual input values isn't appropriate.</p>\n\n<p>As an example: if I have two inputs for a given filter on a search control page, one being a <em>multiselect</em> and another being a <em>text</em> input, I would like to gather an array of two elements, the first being an array of selected values and the second as the value entered in the text input. So if in the first <em>multiselect</em> I select <code>\"A\", \"B\"</code> and the <em>text</em> input I enter <code>\"Joe\"</code> and the code below gathers the input values:</p>\n\n<p><em>Coffeescript:</em>\n</p>\n\n<pre><code>filters = []\n$(@customFilterElements.selector).each -&gt;\n  filterName = $(@).find('.filter_entry .filter_name:input').val()\n  filterValues = $(@).find('.filter_entry .filter_value:input').map(-&gt;\n   if $(@).data('multiselect')\n     $(@).find('option:selected').map(-&gt;\n       $(@).val()\n     ).get()\n   else\n     $(@).val()\n  ).get()\n  filters.push({name: filterName, value: filterValues}) \n</code></pre>\n\n<p><em>Javascript: (converted from above)</em>\n</p>\n\n<pre><code>var filters = [];\n\n$(this.customFilterElements.selector).each(function() {\n  var filterName, filterValues;\n  filterName = $(this).find('.filter_entry .filter_name:input').val();\n  filterValues = $(this).find('.filter_entry .filter_value:input').map(function() {\n    if ($(this).data('multiselect')) {\n      return $(this).find('option:selected').map(function() {\n        return $(this).val();\n      }).get();\n    } else {\n      return $(this).val();\n    }\n  }).get();\n  return filters.push({\n    name: filterName,\n    value: filterValues\n  });\n});\n</code></pre>\n\n<p><em>Current result for <code>filterValues</code>:</em> <code>[\"A\",\"B\",\"Joe\"]</code></p>\n\n<p>The above code ends up producing an array <code>[\"A\",\"B\",\"Joe\"]</code> for <code>filterValues</code>.</p>\n\n<p>I think this may be because the <code>.get()</code> is converting everything to a flattened array. I tried using <code>$.makeArray()</code> instead of <code>.get()</code> and I get the same results but perhaps I missed something.</p>\n\n<p><em>Desired result for <code>filterValues</code>:</em> <code>[[\"A\",\"B\"],\"Joe\"]</code></p>\n\n<p>What I am hoping to produce is <code>[[\"A\",\"B\"],\"Joe\"]</code> so it is clear that the first element (in this example) is a collection of selected values from a multiselect to the backend.</p>\n\n<p>How can I adjust the above code to get the desired result (for any combination or ordering of multiselects and single inputs together) in a fairly elegant manner?\nThe code is intended to be applied to any dynamically created filter, so reusable instead of hardcoding to each filter. </p>\n"}, {"tags": ["javascript", "keypress"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 2, "creation_date": 1516228096, "post_id": 48311027, "comment_id": 83607852, "body": "in a word - no."}, {"owner": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "reply_to_user": {"reputation": 1293, "user_id": 1367039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e89dcb45151fded5c1a3b749646be5f2?s=128&d=identicon&r=PG", "display_name": "Chris Riebschlager", "link": "https://stackoverflow.com/users/1367039/chris-riebschlager"}, "edited": false, "score": 0, "creation_date": 1516263603, "post_id": 48311027, "comment_id": 83618637, "body": "@ChrisRiebschlager But question asks specifically for &quot;Javascript front-end web&quot;"}], "owner": {"reputation": 5093, "user_id": 280319, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b1b1c267bff44eeafbbf3e503892be52?s=128&d=identicon&r=PG", "display_name": "Ryan", "link": "https://stackoverflow.com/users/280319/ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1516228009, "creation_date": 1516228009, "question_id": 48311027, "link": "https://stackoverflow.com/questions/48311027/is-it-possible-for-javascript-front-end-web-to-programmatically-press-a-sequence", "title": "Is it possible for JavaScript front-end web to programmatically press a sequence of keys that will hit the OS?", "body": "<p>I have a modem that will initiate a phone call if the copy command is run. And that is currently working when I run this:</p>\n\n<pre>document.execCommand(\"copy\")</pre>\n\n<p>The problem is that if I have the modem use the copy command then a phone call is attempted every time I copy something.</p>\n\n<p>So I wanted to use a key press sequence that isn't a shortcut like ctrl + q. The modem can be programmed to respond to ctrl + q.</p>\n\n<p>Is it possible to have JavaScript programmatically press ctrl + q and have it register outside of the browser so that the modem sees it?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 28376, "user_id": 5743988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IeSSM.jpg?s=128&g=1", "display_name": "4castle", "link": "https://stackoverflow.com/users/5743988/4castle"}, "edited": false, "score": 6, "creation_date": 1516227939, "post_id": 48310995, "comment_id": 83607794, "body": "<code>Object.assign({}, ...arr)</code>"}, {"owner": {"reputation": 41, "user_id": 4581708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee4a7626d353d36a733477fe8620520a?s=128&d=identicon&r=PG", "display_name": "potato83", "link": "https://stackoverflow.com/users/4581708/potato83"}, "reply_to_user": {"reputation": 28376, "user_id": 5743988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IeSSM.jpg?s=128&g=1", "display_name": "4castle", "link": "https://stackoverflow.com/users/5743988/4castle"}, "edited": false, "score": 1, "creation_date": 1516228269, "post_id": 48310995, "comment_id": 83607917, "body": "And there it is. I should have come here sooner lol. Thanks =)"}], "answers": [{"tags": [], "owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "is_accepted": false, "score": 2, "last_activity_date": 1516228005, "creation_date": 1516228005, "answer_id": 48311025, "question_id": 48310995, "link": "https://stackoverflow.com/questions/48310995/use-spread-operator-to-combine-an-unknown-number-of-objects/48311025#48311025", "title": "Use spread operator to combine an unknown number of objects", "body": "<p>A <code>reduce</code> would work nicely here:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arr = [ {a:1, b:2}, {c:3, d:4}, {e:5, f:6}  ];\r\n\r\nconst obj = arr.reduce((combo, item) =&gt; {\r\n    return {...combo, ...item};\r\n}, {});\r\n\r\nconsole.log(obj)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 3599, "user_id": 2487517, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cRCpa.jpg?s=128&g=1", "display_name": "Tibrogargan", "link": "https://stackoverflow.com/users/2487517/tibrogargan"}, "edited": false, "score": 0, "creation_date": 1516228608, "post_id": 48311085, "comment_id": 83608043, "body": "Isn&#39;t this just @4castle&#39;s comment?  Seems a bit cheap"}, {"owner": {"reputation": 3521, "user_id": 269349, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/K5lPT.jpg?s=128&g=1", "display_name": "Zinc", "link": "https://stackoverflow.com/users/269349/zinc"}, "reply_to_user": {"reputation": 3599, "user_id": 2487517, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cRCpa.jpg?s=128&g=1", "display_name": "Tibrogargan", "link": "https://stackoverflow.com/users/2487517/tibrogargan"}, "edited": false, "score": 0, "creation_date": 1516228806, "post_id": 48311085, "comment_id": 83608144, "body": "I didn&#39;t see it tbf, feel free to vote down. This is pretty basic stuff"}, {"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "reply_to_user": {"reputation": 3599, "user_id": 2487517, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cRCpa.jpg?s=128&g=1", "display_name": "Tibrogargan", "link": "https://stackoverflow.com/users/2487517/tibrogargan"}, "edited": false, "score": 0, "creation_date": 1516228909, "post_id": 48311085, "comment_id": 83608172, "body": "@Tibrogargan It isn&#39;t cheap. Even if he did take it from a comment, it is not against the policy. If there is an already posted answer (not comment), that would be a problem."}, {"owner": {"reputation": 3599, "user_id": 2487517, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cRCpa.jpg?s=128&g=1", "display_name": "Tibrogargan", "link": "https://stackoverflow.com/users/2487517/tibrogargan"}, "reply_to_user": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1516229168, "post_id": 48311085, "comment_id": 83608292, "body": "@ibrahimmahrir What does being against policy have to do with being cheap?"}, {"owner": {"reputation": 3599, "user_id": 2487517, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cRCpa.jpg?s=128&g=1", "display_name": "Tibrogargan", "link": "https://stackoverflow.com/users/2487517/tibrogargan"}, "edited": false, "score": 0, "creation_date": 1516229820, "post_id": 48311085, "comment_id": 83608562, "body": "@Zinc this is the best answer - and since people may not look at comments it should be an answer, but yeah, maybe as community tbh"}], "tags": [], "owner": {"reputation": 3521, "user_id": 269349, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/K5lPT.jpg?s=128&g=1", "display_name": "Zinc", "link": "https://stackoverflow.com/users/269349/zinc"}, "is_accepted": false, "score": 2, "last_activity_date": 1516228441, "last_edit_date": 1516228441, "creation_date": 1516228349, "answer_id": 48311085, "question_id": 48310995, "link": "https://stackoverflow.com/questions/48310995/use-spread-operator-to-combine-an-unknown-number-of-objects/48311085#48311085", "title": "Use spread operator to combine an unknown number of objects", "body": "<p>Spread it into assign like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arr = [ {a:1, b:2}, {c:3, d:4}, {e:5, f:6}  ];\r\nconst obj = Object.assign({}, ...arr);\r\nconsole.log(obj); // {a:1, b:2, c:3, d:4, e:5, f:6} </code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 41, "user_id": 4581708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee4a7626d353d36a733477fe8620520a?s=128&d=identicon&r=PG", "display_name": "potato83", "link": "https://stackoverflow.com/users/4581708/potato83"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1516228441, "creation_date": 1516227862, "question_id": 48310995, "link": "https://stackoverflow.com/questions/48310995/use-spread-operator-to-combine-an-unknown-number-of-objects", "title": "Use spread operator to combine an unknown number of objects", "body": "<p>Here's what I'm trying to do.  </p>\n\n<p>Suppose I've got an array of objects like so:<br>\n    <code>const arr = [ {a:1, b:2}, {c:3, d:4}, {e:5, f:6}  ];</code>   </p>\n\n<p>I'm trying to convert this into one object, that looks like this:<br>\n    <code>const obj = {a:1, b:2, c:3, d:4, e:5, f:6};</code> </p>\n\n<p>I know that I can accomplish this with the spread operator like this:<br>\n    <code>const obj = {...arr[0], ...arr[1], ...arr[2]};</code> </p>\n\n<p>But what if I don't know how many objects are in <code>arr</code>? It seems like there must be a way to loop through each object in the array and \"spread\" them into one object, but I can't seem to figure it out.</p>\n"}, {"tags": ["javascript", "tinymce", "tinymce-4"], "comments": [{"owner": {"reputation": 3521, "user_id": 269349, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/K5lPT.jpg?s=128&g=1", "display_name": "Zinc", "link": "https://stackoverflow.com/users/269349/zinc"}, "edited": false, "score": 0, "creation_date": 1516227841, "post_id": 48310951, "comment_id": 83607767, "body": "Please see <a href=\"https://stackoverflow.com/questions/19791696/overriding-shortcut-assignments-in-tinymce\" title=\"overriding shortcut assignments in tinymce\">stackoverflow.com/questions/19791696/&hellip;</a>"}, {"owner": {"reputation": 663, "user_id": 5209769, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/b6d011d4cf62a3cfef6ce6471d080fea?s=128&d=identicon&r=PG&f=1", "display_name": "Bytes", "link": "https://stackoverflow.com/users/5209769/bytes"}, "reply_to_user": {"reputation": 3521, "user_id": 269349, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/K5lPT.jpg?s=128&g=1", "display_name": "Zinc", "link": "https://stackoverflow.com/users/269349/zinc"}, "edited": false, "score": 0, "creation_date": 1516228853, "post_id": 48310951, "comment_id": 83608159, "body": "@zinc this isn&#39;t working for me, when I add 83 as the key code, it still manages to refresh the page"}], "owner": {"reputation": 663, "user_id": 5209769, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/b6d011d4cf62a3cfef6ce6471d080fea?s=128&d=identicon&r=PG&f=1", "display_name": "Bytes", "link": "https://stackoverflow.com/users/5209769/bytes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 233, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1516227572, "creation_date": 1516227572, "question_id": 48310951, "link": "https://stackoverflow.com/questions/48310951/how-to-remove-shortcuts-in-tinymce", "title": "How to remove shortcuts in tinymce?", "body": "<p>I am trying to remove the <code>ctrl+s</code> shortcut that saves the contents of the editor. Is there a way to remove this shortcut in particular. I was trying to look at the <a href=\"https://www.tinymce.com/docs/api/tinymce/tinymce.shortcuts/\" rel=\"nofollow noreferrer\">TinyMCE documentation</a>, but I didn't understand where they got editor from. How do I implement the remove shortcut function in the tinymce.init function or anywhere so that when the user does <code>ctrl+s</code> it doesn't save the editor and nothing happens. I've tried to look for solutions online, but I couldn't find one for this case.</p>\n"}, {"tags": ["javascript", "html", "django"], "comments": [{"owner": {"reputation": 1293, "user_id": 1367039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e89dcb45151fded5c1a3b749646be5f2?s=128&d=identicon&r=PG", "display_name": "Chris Riebschlager", "link": "https://stackoverflow.com/users/1367039/chris-riebschlager"}, "edited": false, "score": 0, "creation_date": 1516227684, "post_id": 48310945, "comment_id": 83607716, "body": "Depending on how your site is set up, you may have to run <code>python manage.py collectstatic</code> to see the updates."}, {"owner": {"reputation": 21, "user_id": 5233538, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f7fc9e8bdda28847dd7c1c41fa853f75?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5233538/joe"}, "reply_to_user": {"reputation": 1293, "user_id": 1367039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e89dcb45151fded5c1a3b749646be5f2?s=128&d=identicon&r=PG", "display_name": "Chris Riebschlager", "link": "https://stackoverflow.com/users/1367039/chris-riebschlager"}, "edited": false, "score": 0, "creation_date": 1516228267, "post_id": 48310945, "comment_id": 83607916, "body": "yes, I&#39;ve done a while ago that but it did not change anything yet."}, {"owner": {"reputation": 957, "user_id": 2778668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZeufD.jpg?s=128&g=1", "display_name": "Rohan Varma", "link": "https://stackoverflow.com/users/2778668/rohan-varma"}, "edited": false, "score": 0, "creation_date": 1516229768, "post_id": 48310945, "comment_id": 83608535, "body": "If you go to 127.0.0.1:8000/static/partials/newpage.html in your browser, do you see anything?"}, {"owner": {"reputation": 21, "user_id": 5233538, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f7fc9e8bdda28847dd7c1c41fa853f75?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5233538/joe"}, "edited": false, "score": 0, "creation_date": 1516233652, "post_id": 48310945, "comment_id": 83609651, "body": "So another part of the problem is that I can&#39;t check it out locally due to a &quot;no module named&quot; error in GitBash and a &quot;django.db.utils.OperationalError: FATAL:  password authentication failed for user&quot; error in CommandLine.  Basically, the site that I am using is a test site since no one visits it (and eventually will be moved onto a new server)."}], "owner": {"reputation": 21, "user_id": 5233538, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f7fc9e8bdda28847dd7c1c41fa853f75?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5233538/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 227, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1516227549, "creation_date": 1516227549, "question_id": 48310945, "link": "https://stackoverflow.com/questions/48310945/django-website-not-updating", "title": "Django Website Not Updating", "body": "<p>I have created a new html file in the static/partials folder of my project and trying to see it on my Django website.  I can edit older html files in that folder and see those changes, but can not see the new html file, which is pretty annoying.  In the main urls.py, I redirect the links to pages in the static/partials folder to the base file, which is redirected to a js file to retrieve template information.</p>\n\n<p>This is what the js file looks like that redirects links to the partials html pages (the essential parts):</p>\n\n<pre><code>x = angular.module('x', []);\n\n.\n.\n.\n\nx.config(['$routeProvider', '$locationProvider',  function($routeProvider, $locationProvider) {\n  $routeProvider.\n      when(\n        '/', {templateUrl: '/static/partials/index.html'}).\n      when(\n        '/newpage',\n        {\n          templateUrl: '/static/partials/newpage.html',\n          controller: \"ControllerName\"\n        });\n$locationProvider.html5Mode(true);\n}]);\n</code></pre>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 1293, "user_id": 1367039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e89dcb45151fded5c1a3b749646be5f2?s=128&d=identicon&r=PG", "display_name": "Chris Riebschlager", "link": "https://stackoverflow.com/users/1367039/chris-riebschlager"}, "edited": false, "score": 0, "creation_date": 1516227554, "post_id": 48310924, "comment_id": 83607646, "body": "If it&#39;s the same replacement string over and over, you could just count the number of words in an element and then set the nodes <code>innerHTML</code> with that many of your new word."}, {"owner": {"reputation": 8773, "user_id": 3499595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1BWZV.jpg?s=128&g=1", "display_name": "yuriy636", "link": "https://stackoverflow.com/users/3499595/yuriy636"}, "edited": false, "score": 1, "creation_date": 1516227696, "post_id": 48310924, "comment_id": 83607719, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/680431/change-textnode-value\">Change textNode value</a>"}, {"owner": {"reputation": 4970, "user_id": 1726797, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a76b9e0b9a393201d9897082bf70bf07?s=128&d=identicon&r=PG", "display_name": "nnnmmm", "link": "https://stackoverflow.com/users/1726797/nnnmmm"}, "edited": false, "score": 0, "creation_date": 1516227722, "post_id": 48310924, "comment_id": 83607728, "body": "Chris: You mean with <code>innerHTML</code>? Yes, but what are the relevant elements? What if I have nesting &#224; la <code>&lt;li&gt;Some text &lt;span&gt;link&lt;&#47;span&gt; more text&lt;&#47;li&gt;</code>"}, {"owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 0, "creation_date": 1516227751, "post_id": 48310924, "comment_id": 83607744, "body": "Can you provide us a sample input, and a sample output?"}, {"owner": {"reputation": 4970, "user_id": 1726797, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a76b9e0b9a393201d9897082bf70bf07?s=128&d=identicon&r=PG", "display_name": "nnnmmm", "link": "https://stackoverflow.com/users/1726797/nnnmmm"}, "edited": false, "score": 0, "creation_date": 1516227908, "post_id": 48310924, "comment_id": 83607783, "body": "I added one in the first paragraph of the question."}], "answers": [{"comments": [{"owner": {"reputation": 4643, "user_id": 1631952, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/TWIPf.jpg?s=128&g=1", "display_name": "Semicolon", "link": "https://stackoverflow.com/users/1631952/semicolon"}, "edited": false, "score": 0, "creation_date": 1516228539, "post_id": 48311090, "comment_id": 83608011, "body": "minor suggestion: using the Node.ELEMENT_NODE and Node.TEXT_NODE constants can make it easier to understand how this works."}, {"owner": {"reputation": 4970, "user_id": 1726797, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a76b9e0b9a393201d9897082bf70bf07?s=128&d=identicon&r=PG", "display_name": "nnnmmm", "link": "https://stackoverflow.com/users/1726797/nnnmmm"}, "edited": false, "score": 0, "creation_date": 1516228647, "post_id": 48311090, "comment_id": 83608066, "body": "Great! That solution works, I just need to fiddle with the regex a bit to include umlauts and such."}, {"owner": {"reputation": 68294, "user_id": 854246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cpTof.png?s=128&g=1", "display_name": "Joseph Marikle", "link": "https://stackoverflow.com/users/854246/joseph-marikle"}, "reply_to_user": {"reputation": 4643, "user_id": 1631952, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/TWIPf.jpg?s=128&g=1", "display_name": "Semicolon", "link": "https://stackoverflow.com/users/1631952/semicolon"}, "edited": false, "score": 0, "creation_date": 1516228648, "post_id": 48311090, "comment_id": 83608068, "body": "@Semicolon A very good suggestion.  For those wondering, Semicolon is referring to these constants: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType#Constants\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/Node/&hellip;</a>"}, {"owner": {"reputation": 4970, "user_id": 1726797, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a76b9e0b9a393201d9897082bf70bf07?s=128&d=identicon&r=PG", "display_name": "nnnmmm", "link": "https://stackoverflow.com/users/1726797/nnnmmm"}, "edited": false, "score": 0, "creation_date": 1516229761, "post_id": 48311090, "comment_id": 83608531, "body": "Alternatively, you can use something like <code>const n = e.nodeValue.split(&#39; &#39;).filter(str =&gt; str.trim()).length; e.nodeValue = &#39;Lorem &#39;.repeat(n)</code>"}], "tags": [], "owner": {"reputation": 68294, "user_id": 854246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cpTof.png?s=128&g=1", "display_name": "Joseph Marikle", "link": "https://stackoverflow.com/users/854246/joseph-marikle"}, "is_accepted": false, "score": 4, "last_activity_date": 1516229212, "last_edit_date": 1516229212, "creation_date": 1516228372, "answer_id": 48311090, "question_id": 48310924, "link": "https://stackoverflow.com/questions/48310924/css-or-js-to-modify-replace-every-word-on-webpage/48311090#48311090", "title": "CSS or JS to modify (replace) every word on webpage", "body": "<p>How fun!  You can get and assign to the <code>nodeValue</code> of a text node.  regex will get you at the very least really close with <code>/[\\w\\x7f-\\xff]+/g</code> (The hex values match a good portion of special characters.\n  <a href=\"https://stackoverflow.com/a/22152471/854246\">See here</a>)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>(function recur (el) {\r\n  if (typeof el === 'undefined') {\r\n    el = document.body\r\n  }\r\n  for (let e of el.childNodes) {\r\n    if (e.nodeType === Node.ELEMENT_NODE) {\r\n      recur(e)\r\n    } else if (e.nodeType === Node.TEXT_NODE) {\r\n      e.nodeValue = e.nodeValue.replace(/[\\w\\x7f-\\xff]+/g, 'lorem')\r\n    }\r\n  }\r\n})();</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;title&gt;\r\nA Simple HTML Document\r\n&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;p&gt;This is a very sch\u00f6n HTML document&lt;/p&gt;\r\n&lt;p&gt;It only has &lt;b&gt;two&lt;/b&gt; paragraphs&lt;/p&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 4643, "user_id": 1631952, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/TWIPf.jpg?s=128&g=1", "display_name": "Semicolon", "link": "https://stackoverflow.com/users/1631952/semicolon"}, "edited": false, "score": 0, "creation_date": 1516230072, "post_id": 48311174, "comment_id": 83608637, "body": "There are other node types that don\u2019t have childNodes which could be encountered, like Comment, so a check for whether it\u2019s an Element (or whether it has childNodes) matters."}, {"owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "reply_to_user": {"reputation": 4643, "user_id": 1631952, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/TWIPf.jpg?s=128&g=1", "display_name": "Semicolon", "link": "https://stackoverflow.com/users/1631952/semicolon"}, "edited": false, "score": 1, "creation_date": 1516230212, "post_id": 48311174, "comment_id": 83608671, "body": "@Semicolon Just added a comment node, and the script still executed perfectly (childNodes simply returned 0 length)"}, {"owner": {"reputation": 4643, "user_id": 1631952, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/TWIPf.jpg?s=128&g=1", "display_name": "Semicolon", "link": "https://stackoverflow.com/users/1631952/semicolon"}, "edited": false, "score": 0, "creation_date": 1516232241, "post_id": 48311174, "comment_id": 83609267, "body": "Oh, good to know. I hadn\u2019t realized that childNodes is inherited from Node."}], "tags": [], "owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "is_accepted": false, "score": 1, "last_activity_date": 1516229210, "last_edit_date": 1516229210, "creation_date": 1516228807, "answer_id": 48311174, "question_id": 48310924, "link": "https://stackoverflow.com/questions/48310924/css-or-js-to-modify-replace-every-word-on-webpage/48311174#48311174", "title": "CSS or JS to modify (replace) every word on webpage", "body": "<p>This is one of the simplest ways (Borrowed some help from <a href=\"https://stackoverflow.com/questions/2525368/loop-through-text-nodes-inside-a-div\">this answer</a>):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function ReplaceChildText(node, replaceText) {\r\n    //Is this a text node?\r\n    if (node.nodeType === 3) {\r\n      //Simply replace the value with your regex:\r\n      node.nodeValue = node.nodeValue.replace(/\\w+/g, replaceText);\r\n    } else {\r\n        //Loop through all the children, to look for more text nodes\r\n        for (let child of node.childNodes) {\r\n            //Yay, recursion\r\n            ReplaceChildText(child, replaceText);\r\n        }\r\n    }\r\n}\r\n\r\nReplaceChildText(document.body, 'Loreum');</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"test\"&gt;&lt;li&gt;Some text &lt;b&gt;link&lt;/b&gt; more text&lt;/li&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 0, "creation_date": 1516230297, "post_id": 48311304, "comment_id": 83608700, "body": "Wouldn&#39;t it be easier to do: <code>let node;  while (node = treeWalker.nextNode()) {   node.textContent = node.textContent.replace(matchAllExceptWhitespace, word); }</code>?"}, {"owner": {"reputation": 6856, "user_id": 828864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0031af6f469d31621363e4fdf14601f?s=128&d=identicon&r=PG", "display_name": "skyline3000", "link": "https://stackoverflow.com/users/828864/skyline3000"}, "reply_to_user": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 0, "creation_date": 1516235962, "post_id": 48311304, "comment_id": 83610197, "body": "Yes, thanks, that makes it simpler, I&#39;ve updated the snippet. There&#39;s also a reference to the <code>currentNode()</code> which could be used."}], "tags": [], "owner": {"reputation": 6856, "user_id": 828864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0031af6f469d31621363e4fdf14601f?s=128&d=identicon&r=PG", "display_name": "skyline3000", "link": "https://stackoverflow.com/users/828864/skyline3000"}, "is_accepted": true, "score": 2, "last_activity_date": 1516235671, "last_edit_date": 1516235671, "creation_date": 1516229597, "answer_id": 48311304, "question_id": 48310924, "link": "https://stackoverflow.com/questions/48310924/css-or-js-to-modify-replace-every-word-on-webpage/48311304#48311304", "title": "CSS or JS to modify (replace) every word on webpage", "body": "<p>I would highly suggest you look into using a <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/TreeWalker\" rel=\"nofollow noreferrer\">TreeWalker</a>, a DOM API used for exactly this purpose - traversing a DOM tree. It can find all of the text nodes in the document and it finds them very efficiently, since modern browsers run API calls like this in native code.</p>\n\n<p>The first argument is the node you want to begin the search from and the second argument is the type of nodes to find. In this case, we're starting at the <code>document.body</code> and looking for all <code>textNode</code>s. Then, in a <code>while</code> loop, you perform whatever action you want on the node and then move on to the next one.</p>\n\n<p>With this implantation, you don't have to deal with awkward inner tags or white space - all of the text gets bundled up nicely for you. And, it will be faster than anything you can write in client-side JS for tree traversal.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const matchAllExceptWhitespace = /\\w+/g;\r\nconst treeWalker = document.createTreeWalker(document.body, NodeFilter.SHOW_TEXT, null, false);\r\nconst word = 'Lorem';\r\n\r\nlet node;\r\n\r\nwhile (node = treeWalker.nextNode()) {\r\n  node.textContent = node.textContent.replace(matchAllExceptWhitespace, word);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;h1&gt;A paragraph&lt;/h1&gt;\r\n&lt;p&gt;This is a sentence.&lt;/p&gt;\r\n&lt;ul&gt;\r\n    &lt;li&gt;Some text &lt;span&gt;link&lt;/span&gt; more text&lt;/li&gt;.\r\n&lt;/ul&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 4970, "user_id": 1726797, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a76b9e0b9a393201d9897082bf70bf07?s=128&d=identicon&r=PG", "display_name": "nnnmmm", "link": "https://stackoverflow.com/users/1726797/nnnmmm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 1, "accepted_answer_id": 48311304, "answer_count": 3, "score": 3, "last_activity_date": 1516235671, "creation_date": 1516227428, "last_edit_date": 1516227883, "question_id": 48310924, "link": "https://stackoverflow.com/questions/48310924/css-or-js-to-modify-replace-every-word-on-webpage", "title": "CSS or JS to modify (replace) every word on webpage", "body": "<p>For an easter egg, I want to be able to replace every word on my webpage with a constant string. Existing questions focus on replacing <em>certain</em> words, elements that don't contain many other elements, or use libraries such as JQuery. Structure should be kept, i.e. <code>&lt;li&gt;Some text &lt;span&gt;link&lt;/span&gt; more text&lt;/li&gt;</code> should become <code>&lt;li&gt;Lorem Lorem &lt;span&gt;Lorem&lt;/span&gt; Lorem Lorem&lt;/li&gt;</code>.</p>\n\n<p>If I walk the DOM like this:</p>\n\n<pre><code>recur (el) {\n  if (typeof el === 'undefined') {\n    el = document.body\n  }\n  for (let e of el.childNodes) {\n    if (e.nodeType === 1) {\n      recur(e)\n    } else if (e.nodeType === 3) {\n      console.log(e)\n    }\n  }\n}\n</code></pre>\n\n<p>I get lots of <code>#text</code> elements and things that look like strings. How can I actually mutate them? I tried assigning to the corresponding elements in the parent array, but that doesn't work:</p>\n\n<pre><code>Uncaught TypeError: Failed to set an indexed property on 'NodeList': Index property setter is not supported.\n</code></pre>\n\n<p>Is it better to modify the innerHTML attribute on parent nodes of such text nodes?</p>\n\n<p>Or would you recommend a different approach altogether? CSS-only solutions are also great.</p>\n"}, {"tags": ["javascript", "tampermonkey"], "answers": [{"tags": [], "owner": {"reputation": 116, "user_id": 3469267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CoX7d.png?s=128&g=1", "display_name": "talalUcef", "link": "https://stackoverflow.com/users/3469267/talalucef"}, "is_accepted": false, "score": 0, "last_activity_date": 1516228277, "creation_date": 1516228277, "answer_id": 48311075, "question_id": 48310922, "link": "https://stackoverflow.com/questions/48310922/how-to-write-a-script-that-repeats-the-original-link/48311075#48311075", "title": "How to write a script that repeats the original link?", "body": "<p>Try this : </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>window.setInterval(function(){\r\n  var a = document.getElementById('linkId');\r\n  if (a) {\r\n    a.setAttribute('href', 'www.example.com/previewAndAccept.php');\r\n  }\r\n}, 1000);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;a href=\"www.example.com/previewAndAccept.php\" title=\"this link\" id=\"linkId\"&gt;\r\n  Link\r\n&lt;/a&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 2230, "user_id": 4993010, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9f9d66d7ab498bbd8d355e8b50f28a4d?s=128&d=identicon&r=PG&f=1", "display_name": "frosty", "link": "https://stackoverflow.com/users/4993010/frosty"}, "edited": false, "score": 1, "creation_date": 1516228907, "post_id": 48311077, "comment_id": 83608171, "body": "But if the @match  is www.example.com/previewAndAccept.php, it&#39;ll just stop once it gets to www.example.com/NoMoreHits.php and stop refreshing, won&#39;t it?"}, {"owner": {"reputation": 1404, "user_id": 1831096, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gw70o.jpg?s=128&g=1", "display_name": "Isti115", "link": "https://stackoverflow.com/users/1831096/isti115"}, "reply_to_user": {"reputation": 2230, "user_id": 4993010, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9f9d66d7ab498bbd8d355e8b50f28a4d?s=128&d=identicon&r=PG&f=1", "display_name": "frosty", "link": "https://stackoverflow.com/users/4993010/frosty"}, "edited": false, "score": 1, "creation_date": 1516228986, "post_id": 48311077, "comment_id": 83608199, "body": "Well, does adding <code>www.example.com&#47;NoMoreHits.php</code> as a match have undesirable side effects? If not, then that could be a solution to this problem."}], "tags": [], "owner": {"reputation": 1404, "user_id": 1831096, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gw70o.jpg?s=128&g=1", "display_name": "Isti115", "link": "https://stackoverflow.com/users/1831096/isti115"}, "is_accepted": false, "score": 1, "last_activity_date": 1516228633, "last_edit_date": 1516228633, "creation_date": 1516228284, "answer_id": 48311077, "question_id": 48310922, "link": "https://stackoverflow.com/questions/48310922/how-to-write-a-script-that-repeats-the-original-link/48311077#48311077", "title": "How to write a script that repeats the original link?", "body": "<p>Well, supposedly TamperMonkey has access to the <code>window.location</code> object, so you could set <code>window.location.href</code> directly to the desired URL instead of just using <code>window.location.reload()</code>.</p>\n\n<p>In your example something like this could work:</p>\n\n<pre><code>setInterval(\n    () =&gt; window.location.href = 'http://www.example.com/previewAndAccept.php',\n    delayInMilliseconds\n)\n</code></pre>\n\n<p>ps.: Simply <code>window.location = 'http://www.example.com/previewAndAccept.php'</code> should work as well. Make sure to specify the protocol (<code>http</code> or <code>https</code>), otherwise the browser might just append the text to the end of the current path instead of replacing it.</p>\n"}], "owner": {"reputation": 2230, "user_id": 4993010, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9f9d66d7ab498bbd8d355e8b50f28a4d?s=128&d=identicon&r=PG&f=1", "display_name": "frosty", "link": "https://stackoverflow.com/users/4993010/frosty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1516228633, "creation_date": 1516227426, "question_id": 48310922, "link": "https://stackoverflow.com/questions/48310922/how-to-write-a-script-that-repeats-the-original-link", "title": "How to write a script that repeats the original link?", "body": "<p>I have a link called </p>\n\n<pre><code>www.example.com/previewAndAccept.php\n</code></pre>\n\n<p>but when I click the link, sometimes it redirects to:</p>\n\n<pre><code>www.example.com/NoMoreHits.php \n</code></pre>\n\n<p>Since it redirects I can't use the google chrome auto refresh script to refresh the URL, since it would be refreshing the second link instead of the first. My question is, is there a way to write a script to repeatedly check the original link every second?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1516227644, "post_id": 48310921, "comment_id": 83607696, "body": "Yes, what have you tried?"}, {"owner": {"reputation": 400, "user_id": 3229756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58ba612305433ec832ae504661ef2a4f?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Warta", "link": "https://stackoverflow.com/users/3229756/jason-warta"}, "edited": false, "score": 0, "creation_date": 1516227680, "post_id": 48310921, "comment_id": 83607714, "body": "Have you tried google? There&#39;s example code of exactly this at  <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/round\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1516227779, "post_id": 48310921, "comment_id": 83607749, "body": "What if the number is <code>12345</code>? You only want to show <code>12</code>?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 400, "user_id": 3229756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58ba612305433ec832ae504661ef2a4f?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Warta", "link": "https://stackoverflow.com/users/3229756/jason-warta"}, "edited": false, "score": 0, "creation_date": 1516227816, "post_id": 48310921, "comment_id": 83607757, "body": "@user3229756 <code>Math.round()</code> doesn&#39;t do what he wants."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1516227905, "post_id": 48310921, "comment_id": 83607782, "body": "if the number is <code>.01234</code>, why would <code>.12</code> be the correct result? It&#39;s missing a <code>0</code>."}, {"owner": {"reputation": 1, "user_id": 9231959, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WDfgasmfRuc/AAAAAAAAAAI/AAAAAAAAAAc/FVIX_JUN2xU/photo.jpg?sz=128", "display_name": "Assad Padamsey", "link": "https://stackoverflow.com/users/9231959/assad-padamsey"}, "edited": false, "score": 0, "creation_date": 1516227949, "post_id": 48310921, "comment_id": 83607799, "body": "Hi I&#39;ve tried tofixed to 1 decimal place which works ok if the number is above 1.0 and I&#39;ve also tried toprecision which works fine if the number is below .9"}, {"owner": {"reputation": 1, "user_id": 9231959, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WDfgasmfRuc/AAAAAAAAAAI/AAAAAAAAAAc/FVIX_JUN2xU/photo.jpg?sz=128", "display_name": "Assad Padamsey", "link": "https://stackoverflow.com/users/9231959/assad-padamsey"}, "edited": false, "score": 0, "creation_date": 1516228066, "post_id": 48310921, "comment_id": 83607840, "body": "my mistake .1234 = .12"}, {"owner": {"reputation": 1, "user_id": 9231959, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WDfgasmfRuc/AAAAAAAAAAI/AAAAAAAAAAc/FVIX_JUN2xU/photo.jpg?sz=128", "display_name": "Assad Padamsey", "link": "https://stackoverflow.com/users/9231959/assad-padamsey"}, "edited": false, "score": 0, "creation_date": 1516228264, "post_id": 48310921, "comment_id": 83607913, "body": "as the numbers relate to miles I can&#39;t see myself walking more than 9 miles so if I had walked 8.123456 miles show it as 8.1"}, {"owner": {"reputation": 1, "user_id": 9231959, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WDfgasmfRuc/AAAAAAAAAAI/AAAAAAAAAAc/FVIX_JUN2xU/photo.jpg?sz=128", "display_name": "Assad Padamsey", "link": "https://stackoverflow.com/users/9231959/assad-padamsey"}, "edited": false, "score": 0, "creation_date": 1516228330, "post_id": 48310921, "comment_id": 83607941, "body": "its a tough one"}, {"owner": {"reputation": 1, "user_id": 9231959, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WDfgasmfRuc/AAAAAAAAAAI/AAAAAAAAAAc/FVIX_JUN2xU/photo.jpg?sz=128", "display_name": "Assad Padamsey", "link": "https://stackoverflow.com/users/9231959/assad-padamsey"}, "edited": false, "score": 0, "creation_date": 1516230921, "post_id": 48310921, "comment_id": 83608909, "body": "Hi Barmar the reason I need the javascript code is for a Fitbit watch I bought. I&#39;ve only just started to learn code, can I send you the script I have so far not sure where to add the code you have done"}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 0, "last_activity_date": 1516228192, "creation_date": 1516228192, "answer_id": 48311058, "question_id": 48310921, "link": "https://stackoverflow.com/questions/48310921/javascript-limit-the-number-of-digits-displayed/48311058#48311058", "title": "Javascript limit the number of digits displayed", "body": "<p>Convert the number to a string, then call <code>substr()</code> to get the first 3 characters. I also remove a leading <code>0</code>, so that <code>0.12</code> is printed as <code>.12</code> instead of <code>0.1</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var nums = [ 1.234, 0.1234, 0.0123 ];\r\nnums.forEach(num =&gt; console.log(String(num).replace(/^0/, '').substr(0, 3)));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 9231959, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WDfgasmfRuc/AAAAAAAAAAI/AAAAAAAAAAc/FVIX_JUN2xU/photo.jpg?sz=128", "display_name": "Assad Padamsey", "link": "https://stackoverflow.com/users/9231959/assad-padamsey"}, "edited": false, "score": 0, "creation_date": 1516231878, "post_id": 48311561, "comment_id": 83609170, "body": "Thank you. I&#39;m just started to learn code, where do I insert this, would this go in the app index file or the common utils file. This what I have so far.: const Distance = &quot;distance&quot;; const amountDistance = userActivity.today.adjusted[Distance] * 0.000621371 || 0; dailydistance.text = (amountDistance.toFixed(1));"}, {"owner": {"reputation": 890, "user_id": 2335137, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/22db48dc1b0dd10ffa71cabb9e1a1b43?s=128&d=identicon&r=PG", "display_name": "JGoodgive", "link": "https://stackoverflow.com/users/2335137/jgoodgive"}, "reply_to_user": {"reputation": 1, "user_id": 9231959, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WDfgasmfRuc/AAAAAAAAAAI/AAAAAAAAAAc/FVIX_JUN2xU/photo.jpg?sz=128", "display_name": "Assad Padamsey", "link": "https://stackoverflow.com/users/9231959/assad-padamsey"}, "edited": false, "score": 0, "creation_date": 1516234676, "post_id": 48311561, "comment_id": 83609891, "body": "this is just test code to run in your console. but here is a jsbin (which I fixed a bug in also)  EDIT: <a href=\"https://jsbin.com/torojezuqa/edit?js,console\" rel=\"nofollow noreferrer\">jsbin.com/torojezuqa/edit?js,console</a>  EDIT: please mark as solution and +1 if it solved your problem."}, {"owner": {"reputation": 1, "user_id": 9231959, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WDfgasmfRuc/AAAAAAAAAAI/AAAAAAAAAAc/FVIX_JUN2xU/photo.jpg?sz=128", "display_name": "Assad Padamsey", "link": "https://stackoverflow.com/users/9231959/assad-padamsey"}, "edited": false, "score": 0, "creation_date": 1516306833, "post_id": 48311561, "comment_id": 83645059, "body": "Please can you help me with one more problem. I have a button which when pressed changes from battery icon to a  text readout of remaining battery % and when pressed again it reverts back to battery icon, would it be possible when the button is pressed it reverts back to the battery icon automatically after 5 seconds."}, {"owner": {"reputation": 1, "user_id": 9231959, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WDfgasmfRuc/AAAAAAAAAAI/AAAAAAAAAAc/FVIX_JUN2xU/photo.jpg?sz=128", "display_name": "Assad Padamsey", "link": "https://stackoverflow.com/users/9231959/assad-padamsey"}, "edited": false, "score": 0, "creation_date": 1516306843, "post_id": 48311561, "comment_id": 83645063, "body": "The code I have for the button is: batBtn.onactivate = function(evt) {   if ( switcher === false) {     myBat.style.display = &quot;none&quot;;     myBatIcn.style.display = &quot;inline&quot;;     myBatRect.style.display = &quot;inline&quot;;     switcher = true;   } else {     myBat.style.display = &quot;inline&quot;;     myBatIcn.style.display = &quot;none&quot;;     myBatRect.style.display = &quot;none&quot;;     switcher = false;   }"}, {"owner": {"reputation": 890, "user_id": 2335137, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/22db48dc1b0dd10ffa71cabb9e1a1b43?s=128&d=identicon&r=PG", "display_name": "JGoodgive", "link": "https://stackoverflow.com/users/2335137/jgoodgive"}, "reply_to_user": {"reputation": 1, "user_id": 9231959, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WDfgasmfRuc/AAAAAAAAAAI/AAAAAAAAAAc/FVIX_JUN2xU/photo.jpg?sz=128", "display_name": "Assad Padamsey", "link": "https://stackoverflow.com/users/9231959/assad-padamsey"}, "edited": false, "score": 0, "creation_date": 1516311804, "post_id": 48311561, "comment_id": 83647397, "body": "If you like my answers please mark as solved and upvote with the arrows :) Here is code in jsbin <a href=\"https://jsbin.com/parowociwu/edit?html,js,console,output\" rel=\"nofollow noreferrer\">jsbin.com/parowociwu/edit?html,js,console,output</a>"}], "tags": [], "owner": {"reputation": 890, "user_id": 2335137, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/22db48dc1b0dd10ffa71cabb9e1a1b43?s=128&d=identicon&r=PG", "display_name": "JGoodgive", "link": "https://stackoverflow.com/users/2335137/jgoodgive"}, "is_accepted": false, "score": 0, "last_activity_date": 1516231147, "creation_date": 1516231147, "answer_id": 48311561, "question_id": 48310921, "link": "https://stackoverflow.com/questions/48310921/javascript-limit-the-number-of-digits-displayed/48311561#48311561", "title": "Javascript limit the number of digits displayed", "body": "<p>Ok prepare for ugly code: :)</p>\n\n<pre><code>var num = 2;\nvar val = 0.2202323414;\nvar str = \"\" + val;\nvar m = str.match(\"(0\\\\.0*?)?([1-9][0-9\\.]*)\");\nvar zeros = m[1] === undefined ? - (m[2].indexOf(\".\") || m[2].length) + 1 :         \nm[1].length - 1;\nvar value = Math.round(val * (Math.pow(10,zeros+num-1))) * Math.pow(10, -zeros + 1 - num);\n</code></pre>\n\n<p>Works for below on and above 1. Negative values not covered.</p>\n"}], "owner": {"reputation": 1, "user_id": 9231959, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WDfgasmfRuc/AAAAAAAAAAI/AAAAAAAAAAc/FVIX_JUN2xU/photo.jpg?sz=128", "display_name": "Assad Padamsey", "link": "https://stackoverflow.com/users/9231959/assad-padamsey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 2, "score": -4, "last_activity_date": 1516231147, "creation_date": 1516227423, "last_edit_date": 1516227948, "question_id": 48310921, "link": "https://stackoverflow.com/questions/48310921/javascript-limit-the-number-of-digits-displayed", "title": "Javascript limit the number of digits displayed", "body": "<p>Hi I'm struggling to find the right JavaScript code for the following problem.\nWhat I'm trying to do is convert metres in to miles, which I have done successfully, the issue is I only want to show 2 digits, due to lack of display space</p>\n\n<p>example:</p>\n\n<p>if the number is <code>.0123456789</code> only want to show the first 2 digits which would be <code>.12</code> for this I can use <code>tofixed</code>, however if the number is <code>1.23456789</code> again only want to show the first 2 digits so I would like it to show as <code>1.2</code> </p>\n\n<p>Is there anyway of doing this?</p>\n"}, {"tags": ["javascript", "regex", "search"], "comments": [{"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 0, "creation_date": 1516227603, "post_id": 48310894, "comment_id": 83607667, "body": "The regex <code>&#47;\\s?new[\\s_-]?york&#47;i</code> should meet all your tests, but could be more specific. Do you want to allow any amount of whitespace/dash/underscores in between? Any amount in front? Or only one?"}, {"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 1, "creation_date": 1516227632, "post_id": 48310894, "comment_id": 83607688, "body": "Sould <code>&quot;-ne wy_--ork&quot;</code> be matched?"}, {"owner": {"reputation": 3034, "user_id": 6101071, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b1da77c00202a8477bee1a68950824f?s=128&d=identicon&r=PG&f=1", "display_name": "Srdjan M.", "link": "https://stackoverflow.com/users/6101071/srdjan-m"}, "edited": false, "score": 0, "creation_date": 1516228098, "post_id": 48310894, "comment_id": 83607854, "body": "Paste more examples. What should be ignored and what not."}, {"owner": {"reputation": 240, "user_id": 6224246, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/eae71e53bd18ebfbff85d32f98de5cae?s=128&d=identicon&r=PG&f=1", "display_name": "SyntaxError", "link": "https://stackoverflow.com/users/6224246/syntaxerror"}, "edited": false, "score": 0, "creation_date": 1516228132, "post_id": 48310894, "comment_id": 83607869, "body": "yes ibrahim mahrir, it should be  the thing is it should not only work for new york, but for any city name that might be in the list"}], "answers": [{"tags": [], "owner": {"reputation": 3034, "user_id": 6101071, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b1da77c00202a8477bee1a68950824f?s=128&d=identicon&r=PG&f=1", "display_name": "Srdjan M.", "link": "https://stackoverflow.com/users/6101071/srdjan-m"}, "is_accepted": false, "score": 2, "last_activity_date": 1516227543, "creation_date": 1516227543, "answer_id": 48310943, "question_id": 48310894, "link": "https://stackoverflow.com/questions/48310894/regex-allow-certain-characters-within-a-variable-search-string/48310943#48310943", "title": "regex: allow certain characters within a variable search string", "body": "<p><strong>Regex</strong>: <code>\\s?\\w+[\\s-_]?\\w+</code></p>\n\n<p><strong>Details</strong>:</p>\n\n<p><code>\\s</code> matches any whitespace character equal to [\\r\\n\\t\\f\\v ]</p>\n\n<p><code>\\w</code> matches any word character equal to [a-zA-Z0-9_]</p>\n\n<p><code>+</code> Matches between one and unlimited times</p>\n\n<p><code>[]</code> Match a single character present in the list</p>\n\n<p><code>?</code> Matches between zero and one times</p>\n\n<p><a href=\"https://regex101.com/r/qZnSgl/2\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n"}, {"tags": [], "owner": {"reputation": 437, "user_id": 970077, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e8446e6559d00c44a63238ccc6317bd0?s=128&d=identicon&r=PG", "display_name": "refeniz", "link": "https://stackoverflow.com/users/970077/refeniz"}, "is_accepted": false, "score": 2, "last_activity_date": 1516227763, "last_edit_date": 1516227763, "creation_date": 1516227569, "answer_id": 48310950, "question_id": 48310894, "link": "https://stackoverflow.com/questions/48310894/regex-allow-certain-characters-within-a-variable-search-string/48310950#48310950", "title": "regex: allow certain characters within a variable search string", "body": "<p>You're right, Regex is perfect for this.</p>\n\n<pre><code>var name = 'New~York';\nif (name.match(/^[a-zA-Z-_ ]+$/g) == null) {\n    alert('Name contains invalid characters');\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5729, "user_id": 2297722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ty6DE.png?s=128&g=1", "display_name": "JasonB", "link": "https://stackoverflow.com/users/2297722/jasonb"}, "is_accepted": false, "score": 1, "last_activity_date": 1516227739, "creation_date": 1516227739, "answer_id": 48310970, "question_id": 48310894, "link": "https://stackoverflow.com/questions/48310894/regex-allow-certain-characters-within-a-variable-search-string/48310970#48310970", "title": "regex: allow certain characters within a variable search string", "body": "<p>You can make a regex pattern based on the target string. I would convert all strings to lowercase before comparisons using .toLowerCase(), split by spaces using .split(' '), and then build the regex from the partsby using [\\s_-]* in front, behind, and in the spaces.</p>\n\n<pre><code>[\\s_-]*new[\\s_-]*york[\\s_-]*\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "is_accepted": true, "score": 2, "last_activity_date": 1516228735, "last_edit_date": 1516228735, "creation_date": 1516227961, "answer_id": 48311013, "question_id": 48310894, "link": "https://stackoverflow.com/questions/48310894/regex-allow-certain-characters-within-a-variable-search-string/48311013#48311013", "title": "regex: allow certain characters within a variable search string", "body": "<p>I think you should strip the allowed characters from both the query string and the items from the list, then do a simple comparaison of the rest of both strings:</p>\n\n<pre><code>var regex = /[-_ ]/g;                                            // regex containing the allowed chars (g modifier required)\n\nvar query = \"New York\";                                          // the query string to be used for searching\nvar list = [/* list of words */];                                // the list to get matches from\n\nquery = query.replace(regex, \"\").toLowerCase();                  // remove the allowed chars from the query and convert it to lowercases\n\nvar matches = list.filter(function(word) {                       // for each word in the list\n    return query === word.replace(regex, \"\").toLowerCase();      // remove the allowed chars, convert to lowercases, then compare with the altered query (if they matched then return true)\n});\n</code></pre>\n\n<p><strong>Example:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var list = [\"New York\", \"New Fork\", \"newyork\", \"new york\", \"new-york\", \"new_york\", \" New york\", \"new orky\", \"---n-e_w-   y____o_-rk_-_-_-\"];\r\n\r\nvar regex = /[-_ ]/g;\r\n\r\nvar query = prompt(\"Enter the query yo!\", \"Ne---w-_---York\") || \"\";\r\n\r\nquery = query.replace(regex, \"\").toLowerCase();\r\n\r\nvar matches = list.filter(function(word) {\r\n    return query === word.replace(regex, \"\").toLowerCase();\r\n});\r\n\r\nconsole.log(matches);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 240, "user_id": 6224246, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/eae71e53bd18ebfbff85d32f98de5cae?s=128&d=identicon&r=PG&f=1", "display_name": "SyntaxError", "link": "https://stackoverflow.com/users/6224246/syntaxerror"}, "is_accepted": false, "score": 0, "last_activity_date": 1516228959, "creation_date": 1516228959, "answer_id": 48311196, "question_id": 48310894, "link": "https://stackoverflow.com/questions/48310894/regex-allow-certain-characters-within-a-variable-search-string/48311196#48311196", "title": "regex: allow certain characters within a variable search string", "body": "<p>Thanks for the help!</p>\n\n<p>I finally got an solution by replacing the characters both in the search as well as in the target strings and matching them against each other:</p>\n\n<pre><code>regex = new RegExp(input.replace(/[-\\s_'\u00b4`]+/i, ''), \"i\");\nif (regex.test(target.replace(/[-\\s_'\u00b4`]+/i, ''))){ ... }\n</code></pre>\n"}], "owner": {"reputation": 240, "user_id": 6224246, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/eae71e53bd18ebfbff85d32f98de5cae?s=128&d=identicon&r=PG&f=1", "display_name": "SyntaxError", "link": "https://stackoverflow.com/users/6224246/syntaxerror"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "accepted_answer_id": 48311013, "answer_count": 5, "score": -1, "last_activity_date": 1516228959, "creation_date": 1516227278, "last_edit_date": 1516227893, "question_id": 48310894, "link": "https://stackoverflow.com/questions/48310894/regex-allow-certain-characters-within-a-variable-search-string", "title": "regex: allow certain characters within a variable search string", "body": "<p>I'm trying to to use regex in <strong>js</strong> for searching a name out of a list of names.\nI want the user to allow to throw certain characters (<code>-</code>, <code>_</code>, space) in their input and still find the right result.</p>\n\n<p>e.g.</p>\n\n<p>if the name is <code>\"New York\"</code>, there should be a match for:</p>\n\n<pre><code>\"New York\"\n\"newyork\"\n\"new york\"\n\"new-york\"\n\"new_york\"\n\" New york\"\n</code></pre>\n\n<p>Thats of course not all possibilities. Im really not sure how to approach this.</p>\n\n<p><strong>Edit</strong>\nThanks for the fast answers. </p>\n\n<p>I think i didnt state my question clear enough. My goal is to find if a input string is contained within a list of strings. The characters of the input have to match the elements from the list but these certain characters are ignored.</p>\n"}, {"tags": ["javascript", "jwt", "csrf"], "comments": [{"owner": {"reputation": 53705, "user_id": 941272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/10407f7f3fbf3d30443a6d22c7671ec5?s=128&d=identicon&r=PG", "display_name": "Sushanth --", "link": "https://stackoverflow.com/users/941272/sushanth"}, "edited": false, "score": 0, "creation_date": 1516227908, "post_id": 48310873, "comment_id": 83607784, "body": "You can also use <code>GET</code> request to update the data. You pass the data as part of query params which is used to alter the data ( this is more of a hack )"}, {"owner": {"reputation": 14308, "user_id": 1989425, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/aGyIU.png?s=128&g=1", "display_name": "autistic", "link": "https://stackoverflow.com/users/1989425/autistic"}, "edited": false, "score": 0, "creation_date": 1516228283, "post_id": 48310873, "comment_id": 83607923, "body": "Sushanth&#39;s theory can be proven by designing a form which uses a <code>GET</code> method, rather than a <code>POST</code> method, and observing the URL which submission of the form causes variation."}, {"owner": {"reputation": 42687, "user_id": 3191599, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ETGIY.jpg?s=128&g=1", "display_name": "Nate Barbettini", "link": "https://stackoverflow.com/users/3191599/nate-barbettini"}, "edited": false, "score": 1, "creation_date": 1516230392, "post_id": 48310873, "comment_id": 83608741, "body": "Minor correction: It&#39;s not JavaScript that automatically adds cookies to requests, it&#39;s the browser itself. Good question!"}], "answers": [{"tags": [], "owner": {"reputation": 4638, "user_id": 585967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f650564b574f1a4c998fb4cba1f91f89?s=128&d=identicon&r=PG", "display_name": "geekonaut", "link": "https://stackoverflow.com/users/585967/geekonaut"}, "is_accepted": false, "score": 2, "last_activity_date": 1516230105, "creation_date": 1516230105, "answer_id": 48311379, "question_id": 48310873, "link": "https://stackoverflow.com/questions/48310873/how-can-xsrf-attacks-be-used-outside-of-img-tags/48311379#48311379", "title": "How can XSRF Attacks be used outside of img tags?", "body": "<p>GET requests across domains are easiest to make (using images or iframes) as you mentioned.\nPOST requests are surprisingly easy, too and CORS isn't always protecting you either.</p>\n\n<p>Let's say the user is logged in to <code>email.com</code> via cookie and <code>email.com</code> allows to send an email via a simple HTTP form in their interface, say like this:</p>\n\n<pre><code>&lt;form action=\"https://email.com/sendMsg\" method=\"post\"&gt;\n  &lt;label&gt;To: &lt;input name=\"to\" /&gt;&lt;/label&gt;\n  &lt;label&gt;Your message: &lt;textarea name=\"msg\"&gt;&lt;/textarea&gt;&lt;/label&gt;\n  &lt;button type=\"submit\"&gt;Send&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>But forms can be sent across domains - that's always been like that and is often desired, too. The form will be sent with cookies, too.</p>\n\n<p><strong>But wait, how can we exploit that in XSRF?</strong>\nWell, an attacker, <code>evil.com</code>, could have a hidden form like this:</p>\n\n<pre><code>&lt;form id=\"xsrf\" action=\"https://email.com/sendMsg\" method=\"post\"&gt;\n  &lt;label&gt;To: &lt;input name=\"to\" value=\"user@example.com\" /&gt;&lt;/label&gt;\n  &lt;label&gt;Your message: &lt;textarea name=\"msg\"&gt;Did you see this? :-D http://evil.com/you-should-not-go-there&lt;/textarea&gt;&lt;/label&gt;\n&lt;/form&gt;\n&lt;script&gt;document.getElementById('xsrf').submit()&lt;script&gt;\n</code></pre>\n\n<p>Guess what? The form has just been submitted and for <code>email.com</code> it looks legit, because the session cookie will be sent as well.</p>\n\n<p>The downside here is that a form submission navigates away from the current page, but if the attacker puts the form inside an invisible iframe this won't be a problem.</p>\n\n<p><strong>A pure javascript XSRF post</strong></p>\n\n<p>Say we have the same \"API\" for <code>email.com</code> as before - a POST request with <code>to</code> and <code>msg</code> to send an email to somebody.</p>\n\n<p>You might think the following code on <code>evil.com</code> won't cause a problem due to CORS:</p>\n\n<pre><code>fetch('https://email.com/sendMsg', {method: 'POST', body: 'to=a@b.com&amp;msg=Hello+World', credentials: 'include' })\n</code></pre>\n\n<p>This is in fact an XSRF vector, too. CORS throws an error and does not make the network <strong>response</strong> available if CORS headers are missing, but <strong>the request is made nonetheless</strong>.</p>\n\n<p>Normally this is pretty useless, but in our case there is no XSRF protection and thus our POST request is made and the email is sent!</p>\n"}], "owner": {"reputation": 528, "user_id": 8748083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ujhav.png?s=128&g=1", "display_name": "RobOhRob", "link": "https://stackoverflow.com/users/8748083/robohrob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1516230105, "creation_date": 1516227179, "question_id": 48310873, "link": "https://stackoverflow.com/questions/48310873/how-can-xsrf-attacks-be-used-outside-of-img-tags", "title": "How can XSRF Attacks be used outside of img tags?", "body": "<p>So I'm currently working on a web application and I've chosen to use JWT's as the access token to my api. </p>\n\n<p>I have tried reading all I can about XSRF attacks and when I try to dive deeper into how they are performed, the only answer I seem to get is that an attackers creates a site and tricks the user into loading it. The attacker's site contains an img tag which sends a GET request to my URI which works due to the javascript automatically adding the user's cookie with the call to my URI.</p>\n\n<p>1st question: Does anybody really allow data server side to be altered from a GET? Or is this just how an attacker retrieves user data?</p>\n\n<p>2nd question: How can a XSRF attack be performed using a POST/PUT? I can not seem to find a clear example of this anywhere. Can the trick website just run an AJAX call to my URI and the user's cookie would be sent with it? If so why bother with the whole img tag thing? Common users will not check the source code.</p>\n"}, {"tags": ["javascript", "jquery", "html", "scroll"], "answers": [{"tags": [], "owner": {"reputation": 797, "user_id": 2214033, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NXltY.png?s=128&g=1", "display_name": "xeo", "link": "https://stackoverflow.com/users/2214033/xeo"}, "is_accepted": true, "score": 0, "last_activity_date": 1516227523, "creation_date": 1516227523, "answer_id": 48310940, "question_id": 48310870, "link": "https://stackoverflow.com/questions/48310870/scroll-down-to-div2-using-js-only-not-jquery/48310940#48310940", "title": "scroll down to div2 using js only not jQuery", "body": "<p>according to <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoView\" rel=\"nofollow noreferrer\" title=\"scrollIntoView documentation\">https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoView</a> the first parameter is a boolean which when true will align top like you want.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function div2() {\r\n      document.querySelector('.div2').scrollIntoView(true, { behavior: 'smooth'});\r\n    }\r\n    \r\nwindow.onload = div2();</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>header {width:100%;height:150px;background:#f2f2f2;}\r\n.div1, .div2, .div3{height:400px;width:90%;border:1px solid red;margin:0 auto;}\r\n.div1{background: #f8f8f8;}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;header&gt;Main Header&lt;/header&gt;\r\n&lt;div class=\"div1\"&gt;\r\ndiv1\r\n&lt;/div&gt;\r\n&lt;div class=\"div2\"&gt;\r\ndiv2\r\n&lt;/div&gt;\r\n&lt;div class=\"div3\"&gt;\r\ndiv3\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7782253"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 48310940, "answer_count": 1, "score": 0, "last_activity_date": 1516227523, "creation_date": 1516227173, "question_id": 48310870, "link": "https://stackoverflow.com/questions/48310870/scroll-down-to-div2-using-js-only-not-jquery", "title": "scroll down to div2 using js only not jQuery", "body": "<p>I know this is easy in JS even in jQuery but i'm still learning would like to use Js only for some reasons. I am trying to make the window scroll down to div2 and make the top of it show first on the page, whats doing now is scroll down and make div2 in the middle of the page. this code down worked fine but now for some reason is not working! does anyone have any idea? </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function div2() {\r\n      document.querySelector('.div2').scrollIntoView({ behavior: 'smooth'});\r\n    }\r\n    \r\n    window.onload = div2();</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>header {width:100%;height:150px;background:#f2f2f2;}\r\n.div1, .div2, .div3{height:400px;width:90%;border:1px solid red;margin:0 auto;}\r\n.div1{background: #f8f8f8;}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;header&gt;Main Header&lt;/header&gt;\r\n&lt;div class=\"div1\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"div2\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"div3\"&gt;\r\n\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "types", "code-coverage", "flowtype", "typechecking"], "answers": [{"comments": [{"owner": {"reputation": 5497, "user_id": 168047, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/054a225638b300643d2f78a3e35f1d86?s=128&d=identicon&r=PG", "display_name": "two7s_clash", "link": "https://stackoverflow.com/users/168047/two7s-clash"}, "edited": false, "score": 0, "creation_date": 1516231874, "post_id": 48310866, "comment_id": 83609168, "body": "In other words, if I have a low coverage score, but no errors, Flow is just able to infer all unannotated types?"}], "tags": [], "owner": {"reputation": 1707, "user_id": 7510753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dce531a625b29b9f4b5748308ee38495?s=128&d=identicon&r=PG", "display_name": "kLabz", "link": "https://stackoverflow.com/users/7510753/klabz"}, "is_accepted": true, "score": 2, "last_activity_date": 1516227155, "creation_date": 1516227155, "answer_id": 48310866, "question_id": 48310817, "link": "https://stackoverflow.com/questions/48310817/what-is-the-usefulness-of-the-flow-coverage-score/48310866#48310866", "title": "What is the usefulness of the Flow coverage score?", "body": "<p>The coverage score indicates what % of types have flow type annotations. </p>\n\n<p>These are not errors (although potential ones), but flow lacks some informations to check 100% of your types.</p>\n"}, {"tags": [], "owner": {"reputation": 17588, "user_id": 652669, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/sKUTK.jpg?s=128&g=1", "display_name": "GG.", "link": "https://stackoverflow.com/users/652669/gg"}, "is_accepted": false, "score": 2, "last_activity_date": 1516249492, "last_edit_date": 1516249492, "creation_date": 1516248314, "answer_id": 48313676, "question_id": 48310817, "link": "https://stackoverflow.com/questions/48310817/what-is-the-usefulness-of-the-flow-coverage-score/48313676#48313676", "title": "What is the usefulness of the Flow coverage score?", "body": "<p>The Flow coverage score is used to describe the degree to which the source code of your app is type-checked. <strong>Type-checking</strong> is the process during which Flow verifies and enforces that the type of a construct (constant, boolean, number, variable, array, object, function, class) matches an invariant that you\u2019ve specified.</p>\n\n<p>So, <strong>an app with a high Flow coverage has more of its source code type-checked</strong>, which suggests <strong>it has a lower chance of containing undetected software bugs</strong> (unhandled types, typographical errors in nested objects) compared to a program with a low Flow coverage.</p>\n\n<p>If your app has a Flow coverage score of 100%, you can also assume that <strong>you can refactor your code safely</strong>, and even trust your editor to perform some refactoring tasks by itself, eg. renaming the property of an object across several files (in VSCode, right click > Rename Symbol).</p>\n"}], "owner": {"reputation": 5497, "user_id": 168047, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/054a225638b300643d2f78a3e35f1d86?s=128&d=identicon&r=PG", "display_name": "two7s_clash", "link": "https://stackoverflow.com/users/168047/two7s-clash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1298, "favorite_count": 0, "accepted_answer_id": 48310866, "answer_count": 2, "score": 4, "last_activity_date": 1516249492, "creation_date": 1516226905, "last_edit_date": 1516249147, "question_id": 48310817, "link": "https://stackoverflow.com/questions/48310817/what-is-the-usefulness-of-the-flow-coverage-score", "title": "What is the usefulness of the Flow coverage score?", "body": "<p>I don't understand what the Flow coverage score indicates. Flow will not report any errors against a file, but then give it a low coverage score. I have a file that Flow tells me is error free, yet I only have 28% coverage. Does it not count its own inference?</p>\n"}, {"tags": ["javascript", "dom", "ecmascript-6", "nodelist"], "comments": [{"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1516226476, "post_id": 48310643, "comment_id": 83607147, "body": "Do you see the pattern in the result? <a href=\"https://jsfiddle.net/k3pjkp2a/\" rel=\"nofollow noreferrer\">jsfiddle.net/k3pjkp2a</a> Think about what happens to the nodelist on each iteration."}, {"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1516227940, "post_id": 48310643, "comment_id": 83607795, "body": "The term &quot;built-in&quot; refers to features of ECMAScript <a href=\"http://www.ecma-international.org/ecma-262/8.0/index.html#sec-ecmascript-overview\" rel=\"nofollow noreferrer\"><i>&#167;4.2</i></a>, anything supplied by the host is a host method. So the <i>forEach</i> method of <i>NodeList</i> instances isn&#39;t &quot;built-in&quot;, it&#39;s a host method.  ;-)"}], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 6068654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcac5607fa844ab5a8662740eeda807a?s=128&d=identicon&r=PG&f=1", "display_name": "m.chiang", "link": "https://stackoverflow.com/users/6068654/m-chiang"}, "edited": false, "score": 0, "creation_date": 1516227118, "post_id": 48310753, "comment_id": 83607439, "body": "I understand, thank you for taking the time to explain."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "reply_to_user": {"reputation": 145, "user_id": 6068654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcac5607fa844ab5a8662740eeda807a?s=128&d=identicon&r=PG&f=1", "display_name": "m.chiang", "link": "https://stackoverflow.com/users/6068654/m-chiang"}, "edited": false, "score": 1, "creation_date": 1516227206, "post_id": 48310753, "comment_id": 83607487, "body": "@m.chiang - What in the world possessed the designers of the DOM to even offer us live collections is a mystery to me.  They cause way more trouble than any utility I could ever imagine.  Fortunately, <code>querySelectorAll()</code> can nearly always be used instead and it returns a non-live structure."}, {"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1516228247, "post_id": 48310753, "comment_id": 83607905, "body": "@jfriend00\u2014only opinion of course, but it may be much more efficient to get a collection once and keep a reference, knowing that it will be updated based on whatever other code is doing to it. Otherwise, you have to get a new copy each time since it may have been modified since the last time (and likely browsers keep live collections anyway for their own purposes). But very little code seems to have been written to take advantage of this feature (possibly because most didn&#39;t know it existed until too late)."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "reply_to_user": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1516228492, "post_id": 48310753, "comment_id": 83607986, "body": "@RobG - Yeah, but I&#39;ve NEVER found a programming situation where that was required or even really useful probably because it&#39;s so fast to just query the DOM whenever you want the latest state. And the whole live collection things causes many, many people problems when it changes unintentionally as you&#39;re using it.  I&#39;ve never heard anyone gush as how well thought out the DOM API is.  Instead, we mostly all use some sort of wrapper around it to normalize it into something easier to use."}, {"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1516231391, "post_id": 48310753, "comment_id": 83609056, "body": "@jfriend00\u2014the API was written to be language neutral at a time when no one could have envisioned how we&#39;d be using the DOM API today. Libraries and frameworks are written for all languages, APIs, etc. I don&#39;t think they indicate a failure of the language/API, they&#39;re just tools to help with particular designs/implementations. At least the DOM API seems to be implementing the better features of various libraries, so rather than having to use a crystal ball, the authors can just implement what is known to be useful through usage and seeing what works and what doesn&#39;t. ;-)"}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1516231675, "post_id": 48310753, "comment_id": 83609125, "body": "Well, I haven&#39;t done much DOM work in the last couple years, but the last time I did, jQuery (even with its warts) was a breath of fresh air compared to plain DOM programming and that&#39;s even before you had to deal with browser compatibility issues.  The overall DOM API design represents a snapshot in time from a very long time ago.  It shows its age. Anyway, we&#39;ve drifted pretty far off-topic."}], "tags": [], "owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "is_accepted": true, "score": 10, "last_activity_date": 1516226947, "last_edit_date": 1516226947, "creation_date": 1516226583, "answer_id": 48310753, "question_id": 48310643, "link": "https://stackoverflow.com/questions/48310643/removing-childnodes-using-node-childnodes-foreach/48310753#48310753", "title": "removing childNodes using node.childNodes.forEach", "body": "<p><code>node.childNodes</code> is a live collection.  As you remove items from it, the collection itself is modified (live while you're iterating).  Trying to iterate it as you are, causes elements to be removed from the collection and moved down in the array-like structure while you're iterating it, causing you to miss nodes.</p>\n\n<p>As an example, when you call <code>removeChild()</code> on the 2nd element in the collection, that element itself is then removed from the collection.  That causes what was the 3rd element to be moved into the spot in the collection where the 2nd element was.  Now, your loop moves on to the 3rd element in the collection.  But, that will skip over the element that is now in the 2nd position causing you to never remove it.</p>\n\n<p>That means the only safe way to iterate through the actual collection and remove things is with a backwards traversal because removing things form the end does not cause other elements to change their position in the collection.  Removing items from the front (which is what you were doing) does cause items to move in the collection.</p>\n\n<p><code>Array.from()</code> converts the live collection to a static array where items are not removed from the array while deleting items from the DOM.</p>\n\n<p>I have a personal rule of DOM development to NEVER use a live collection while I'm modifying the DOM in any way because the danger that the live collection gets modified while I'm trying to use it is too high.  <code>Array.from()</code> is a very simple way to get a copy of a live collection that's static and is safe to work with, even as the DOM is being modified.</p>\n\n<hr>\n\n<p>Another safe way to delete them all is with this backwards iteration because items are removed from the end of the live collection which doesn't cause any items to move in the collection that you haven't yet processed:</p>\n\n<pre><code>for (let i = node.childNodes.length - 1; i &gt;= 0; i--) {\n   node.removeChild(node.childNodes[i]);\n}\n</code></pre>\n\n<p>But, I generally find this more cumbersome than just converting to a static array with <code>Array.from()</code> as you've already discovered.</p>\n"}, {"tags": [], "owner": {"reputation": 1707, "user_id": 7510753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dce531a625b29b9f4b5748308ee38495?s=128&d=identicon&r=PG", "display_name": "kLabz", "link": "https://stackoverflow.com/users/7510753/klabz"}, "is_accepted": false, "score": 1, "last_activity_date": 1516226607, "creation_date": 1516226607, "answer_id": 48310767, "question_id": 48310643, "link": "https://stackoverflow.com/questions/48310643/removing-childnodes-using-node-childnodes-foreach/48310767#48310767", "title": "removing childNodes using node.childNodes.forEach", "body": "<p><code>node.childNodes</code> is a <em>live collection</em>, so when you remove a child from <code>node</code> in the forEach you mess with the iterator.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Node/childNodes\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Node/childNodes</a></p>\n"}], "owner": {"reputation": 145, "user_id": 6068654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcac5607fa844ab5a8662740eeda807a?s=128&d=identicon&r=PG&f=1", "display_name": "m.chiang", "link": "https://stackoverflow.com/users/6068654/m-chiang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3014, "favorite_count": 0, "accepted_answer_id": 48310753, "answer_count": 2, "score": 1, "last_activity_date": 1516226947, "creation_date": 1516226118, "question_id": 48310643, "link": "https://stackoverflow.com/questions/48310643/removing-childnodes-using-node-childnodes-foreach", "title": "removing childNodes using node.childNodes.forEach", "body": "<p>Traditionally, a suggested way of removing a node's children in Javascript is to do something like this:</p>\n\n<pre><code>while(node.firstChild) {\n    node.removeChild(node.firstChild);\n}\n</code></pre>\n\n<p>Recently, I attempted to remove all of a node's children using the built in forEach() method:</p>\n\n<pre><code>node.childNodes.forEach(child =&gt; {\n    node.removeChild(child);\n}\n</code></pre>\n\n<p>This didn't function as I expected. Instead of removing all child nodes, the forEach stopped executing, leaving nodes leftover. What I ended up having to do was use Array.from:</p>\n\n<pre><code>Array.from(node.childNodes)\n</code></pre>\n\n<p>And then I could remove nodes with forEach. The reason I could not use the traditional method mentioned above is because for some reason, one child was always left behind, causing an infinite loop.</p>\n\n<p>Why does the childNodes.forEach method not remove all the nodes as I thought it would? What am I misunderstanding?</p>\n"}, {"tags": ["javascript", "momentjs"], "answers": [{"comments": [{"owner": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 0, "creation_date": 1516226976, "post_id": 48310661, "comment_id": 83607366, "body": "What happens when you do that to Feb 29?"}, {"owner": {"reputation": 1293, "user_id": 1367039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e89dcb45151fded5c1a3b749646be5f2?s=128&d=identicon&r=PG", "display_name": "Chris Riebschlager", "link": "https://stackoverflow.com/users/1367039/chris-riebschlager"}, "reply_to_user": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 2, "creation_date": 1516227362, "post_id": 48310661, "comment_id": 83607560, "body": "@Herohtar Moment is really smart. It&#39;ll change it to March 1 if necessary. Here&#39;s a fiddle proof of concept: <a href=\"https://jsfiddle.net/wso8sn8z/\" rel=\"nofollow noreferrer\">jsfiddle.net/wso8sn8z</a>"}], "tags": [], "owner": {"reputation": 1293, "user_id": 1367039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e89dcb45151fded5c1a3b749646be5f2?s=128&d=identicon&r=PG", "display_name": "Chris Riebschlager", "link": "https://stackoverflow.com/users/1367039/chris-riebschlager"}, "is_accepted": true, "score": 1, "last_activity_date": 1516226555, "last_edit_date": 1516226555, "creation_date": 1516226189, "answer_id": 48310661, "question_id": 48310630, "link": "https://stackoverflow.com/questions/48310630/javascript-momentjs-normalizing-dates-to-current-year/48310661#48310661", "title": "JavaScript/MomentJS: normalizing dates to current year", "body": "<p>You can assign the year part of the date without affecting the rest of it.</p>\n\n<pre><code>let myPastDate = moment(\"1984-01-17\");\nlet myPastDateThisYear = myPastDate.year(moment().format('YYYY'));\n</code></pre>\n"}], "owner": {"reputation": 2684, "user_id": 3019008, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NozdF.jpg?s=128&g=1", "display_name": "Boris K", "link": "https://stackoverflow.com/users/3019008/boris-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 48310661, "answer_count": 1, "score": 0, "last_activity_date": 1516226897, "creation_date": 1516226047, "question_id": 48310630, "link": "https://stackoverflow.com/questions/48310630/javascript-momentjs-normalizing-dates-to-current-year", "title": "JavaScript/MomentJS: normalizing dates to current year", "body": "<p>Does anyone know of a simple way to convert a date in the past to its equivalent date this year? Meaning, if I get a date string for 17 January 1984, my function should return 17 January 2018, and so forth (with a corresponding adjustment for 29 Feb.) </p>\n"}, {"tags": ["javascript", "jquery", "post", "jquery-ui-slider"], "comments": [{"owner": {"reputation": 957, "user_id": 2778668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZeufD.jpg?s=128&g=1", "display_name": "Rohan Varma", "link": "https://stackoverflow.com/users/2778668/rohan-varma"}, "edited": false, "score": 0, "creation_date": 1516225997, "post_id": 48310579, "comment_id": 83606928, "body": "Hi, could you put a console.log on the jsonData in the success function and also console.log the id before ajax call and show what the values are?"}, {"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 0, "creation_date": 1516226119, "post_id": 48310579, "comment_id": 83606983, "body": "Why not just give an initial value to the reduce function, eg: <code>.reduce(function(a, b) { ... }, [])</code>?"}, {"owner": {"reputation": 2817, "user_id": 3872094, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/76a55f99480c46484890016872ab64d5?s=128&d=identicon&r=PG&f=1", "display_name": "user3872094", "link": "https://stackoverflow.com/users/3872094/user3872094"}, "reply_to_user": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 0, "creation_date": 1516226349, "post_id": 48310579, "comment_id": 83607086, "body": "@CRice, this is returning me a blank array :("}, {"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 0, "creation_date": 1516226629, "post_id": 48310579, "comment_id": 83607213, "body": "Yes, this is because the array you are reducing is empty to begin with. Are you expecting that the <code>result.filter( ... )</code> call will never give you an empty array?"}, {"owner": {"reputation": 2817, "user_id": 3872094, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/76a55f99480c46484890016872ab64d5?s=128&d=identicon&r=PG&f=1", "display_name": "user3872094", "link": "https://stackoverflow.com/users/3872094/user3872094"}, "reply_to_user": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 0, "creation_date": 1516226783, "post_id": 48310579, "comment_id": 83607286, "body": "@CRice, sorry, I didn&#39;t get you. Here is a working piece with static number, Can you please update it with your thought. <a href=\"https://jsfiddle.net/vjt45xv4/20/\" rel=\"nofollow noreferrer\">jsfiddle.net/vjt45xv4/20</a>"}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "reply_to_user": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 1, "creation_date": 1516226898, "post_id": 48310579, "comment_id": 83607325, "body": "What @CRice is saying is that your <code>filter()</code> function is returning an empty array. When you use <code>reduce()</code> on an empty array without a default value you get that error. Try looking ar what <code>filter()</code> is retuning before trying <code>reduce()</code>."}], "answers": [{"comments": [{"owner": {"reputation": 2817, "user_id": 3872094, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/76a55f99480c46484890016872ab64d5?s=128&d=identicon&r=PG&f=1", "display_name": "user3872094", "link": "https://stackoverflow.com/users/3872094/user3872094"}, "edited": false, "score": 0, "creation_date": 1516226374, "post_id": 48310657, "comment_id": 83607105, "body": "this is returning me a blank array :("}, {"owner": {"reputation": 9, "user_id": 8934018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9943532faf570bf43932c35ffacd9f57?s=128&d=identicon&r=PG", "display_name": "Daniel Martinez", "link": "https://stackoverflow.com/users/8934018/daniel-martinez"}, "reply_to_user": {"reputation": 2817, "user_id": 3872094, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/76a55f99480c46484890016872ab64d5?s=128&d=identicon&r=PG&f=1", "display_name": "user3872094", "link": "https://stackoverflow.com/users/3872094/user3872094"}, "edited": false, "score": 0, "creation_date": 1516227332, "post_id": 48310657, "comment_id": 83607549, "body": "I see it working in this fiddle <a href=\"http://jsfiddle.net/vjt45xv4/20\" rel=\"nofollow noreferrer\">jsfiddle.net/vjt45xv4/20</a>. The array does not look empty"}, {"owner": {"reputation": 2817, "user_id": 3872094, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/76a55f99480c46484890016872ab64d5?s=128&d=identicon&r=PG&f=1", "display_name": "user3872094", "link": "https://stackoverflow.com/users/3872094/user3872094"}, "edited": false, "score": 0, "creation_date": 1516227446, "post_id": 48310657, "comment_id": 83607609, "body": "yes it is, if I pass a static value, but it doesn&#39;t when I pass in my slider value :("}], "tags": [], "owner": {"reputation": 9, "user_id": 8934018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9943532faf570bf43932c35ffacd9f57?s=128&d=identicon&r=PG", "display_name": "Daniel Martinez", "link": "https://stackoverflow.com/users/8934018/daniel-martinez"}, "is_accepted": false, "score": 1, "last_activity_date": 1516226178, "creation_date": 1516226178, "answer_id": 48310657, "question_id": 48310579, "link": "https://stackoverflow.com/questions/48310579/array-reduce-filter-not-working-with-dynamic-values/48310657#48310657", "title": "Array reduce filter not working with dynamic values", "body": "<p>You forgot to initialize the value in the reduce operation. Add the empty array initial value []</p>\n"}], "owner": {"reputation": 2817, "user_id": 3872094, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/76a55f99480c46484890016872ab64d5?s=128&d=identicon&r=PG&f=1", "display_name": "user3872094", "link": "https://stackoverflow.com/users/3872094/user3872094"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 263, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516226178, "creation_date": 1516225846, "question_id": 48310579, "link": "https://stackoverflow.com/questions/48310579/array-reduce-filter-not-working-with-dynamic-values", "title": "Array reduce filter not working with dynamic values", "body": "<p>I'm writing a code where there are sliders, when the sliders values change, I want to make an api call and get the result. Here is my code.</p>\n\n<pre><code>function alertValues() {\n    var alcohol, sulphate, sulphur;\n    //Or\n    if ($(\"#sliderValueAlcohol\").val()) {\n        alcohol = $(\"#sliderValueAlcohol\").val();\n    }\n    if ($(\"#sliderValueSulphate\").val()) {\n        sulphate = $(\"#sliderValueSulphate\").val();\n    }\n    if ($(\"#sliderValueSulphur\").val()) {\n        sulphur = $(\"#sliderValueSulphur\").val();\n    }\n    if (alcohol &amp;&amp; sulphate) {\n        var idString = sulphate + \"\";\n        var id = 1;\n\n        console.log(typeof id);\n        $.ajax({\n            type: 'post',\n            url: 'https://thcj3oq32b.execute-api.us-east-1.amazonaws.com/prod/getsimulation',\n            data: JSON.stringify({\n                \"targetState\": \"7\"\n            }),\n            /* etc */\n            success: function (jsondata) {\n                var arr2 = jsondata;\n                var result = arr2\n                    .filter(function (objs) {\n                        return ((objs.find((obj) =&gt; obj.ingredients === \"sulphate\").min &lt;= id) &amp;&amp; (objs.find((obj) =&gt; obj.ingredients === \"sulphate\").max &gt;= id) &amp;&amp; (objs.find((obj) =&gt; obj.ingredients === \"alcohol\").max == 14));\n                    })\n                    .reduce(function (a, b) {\n                        return a.concat(b);\n                    });\n\n                console.log(JSON.stringify(result[0].target_state));\n\n            },\n            error: function () {\n                alert(\"error\");\n            }\n        })\n    }\n}\n</code></pre>\n\n<p>here when I pass <code>var id = parseFloat(idString);</code>, instead of static number, the error that I get is <code>Uncaught TypeError: Reduce of empty array with no initial value</code>. unable to understand where am I going wrong. please let me know how can I fix this.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "reactjs", "react-native"], "comments": [{"owner": {"reputation": 1997, "user_id": 5357951, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-c25iREuSxlw/AAAAAAAAAAI/AAAAAAAAAFs/XhPj3tkoa8Y/photo.jpg?sz=128", "display_name": "Josh Lin", "link": "https://stackoverflow.com/users/5357951/josh-lin"}, "edited": false, "score": 0, "creation_date": 1516242291, "post_id": 48310541, "comment_id": 83611638, "body": "regex emoji and calc your input width"}, {"owner": {"reputation": 63, "user_id": 5754996, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cbce3a0a0cb3d2a9e6135aaf3f3bdae6?s=128&d=identicon&r=PG&f=1", "display_name": "RollinRight", "link": "https://stackoverflow.com/users/5754996/rollinright"}, "reply_to_user": {"reputation": 1997, "user_id": 5357951, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-c25iREuSxlw/AAAAAAAAAAI/AAAAAAAAAFs/XhPj3tkoa8Y/photo.jpg?sz=128", "display_name": "Josh Lin", "link": "https://stackoverflow.com/users/5357951/josh-lin"}, "edited": false, "score": 0, "creation_date": 1516299400, "post_id": 48310541, "comment_id": 83641147, "body": "I still want to be able to allow emoji so regexing (and removing I assume) wouldn&#39;t quite fix my solution. But good suggestion!"}, {"owner": {"reputation": 1997, "user_id": 5357951, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-c25iREuSxlw/AAAAAAAAAAI/AAAAAAAAAFs/XhPj3tkoa8Y/photo.jpg?sz=128", "display_name": "Josh Lin", "link": "https://stackoverflow.com/users/5357951/josh-lin"}, "edited": false, "score": 0, "creation_date": 1516328814, "post_id": 48310541, "comment_id": 83652092, "body": "I mean to keep your emoji, later I will post an answer"}, {"owner": {"reputation": 1997, "user_id": 5357951, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-c25iREuSxlw/AAAAAAAAAAI/AAAAAAAAAFs/XhPj3tkoa8Y/photo.jpg?sz=128", "display_name": "Josh Lin", "link": "https://stackoverflow.com/users/5357951/josh-lin"}, "edited": false, "score": 0, "creation_date": 1516329550, "post_id": 48310541, "comment_id": 83652232, "body": "I need to manage the cusor, so maybe not so soon."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 5754996, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cbce3a0a0cb3d2a9e6135aaf3f3bdae6?s=128&d=identicon&r=PG&f=1", "display_name": "RollinRight", "link": "https://stackoverflow.com/users/5754996/rollinright"}, "edited": false, "score": 0, "creation_date": 1517004281, "post_id": 48416687, "comment_id": 83934304, "body": "Gave this a shot but ended up giving up.  Handling all the cases of faking a text input is very daunting especially when all I want is a centering text input (crazy that this is an issue or that more people don&#39;t need that)  I&#39;ll go ahead and mark this correct because your solution would probably work with enough effort.  Thank you for help though"}], "tags": [], "owner": {"reputation": 1997, "user_id": 5357951, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-c25iREuSxlw/AAAAAAAAAAI/AAAAAAAAAFs/XhPj3tkoa8Y/photo.jpg?sz=128", "display_name": "Josh Lin", "link": "https://stackoverflow.com/users/5357951/josh-lin"}, "is_accepted": true, "score": 1, "last_activity_date": 1516777662, "creation_date": 1516777662, "answer_id": 48416687, "question_id": 48310541, "link": "https://stackoverflow.com/questions/48310541/centering-textinput-with-dynamic-width-in-react-native/48416687#48416687", "title": "Centering TextInput with dynamic width in React Native", "body": "<p>Sorry kept you waiting, fininally got time to finish this. Use <code>View</code>,<code>Image</code> and <code>Text</code> to fake <code>TextInput</code>. </p>\n\n<ul>\n<li>1st step: format text when changed </li>\n</ul>\n\n<p>you still need a <code>TextInput</code>.\nemoji in text might look like <code>:fire:</code> or <code>\ud83d\udd25</code>, I choose the later.\nwhen text changes use regexp replace all emoji expressions to emoji character.\nthen you move cursor it will not stop inside an emoji</p>\n\n<ul>\n<li>2nd setp: faked <code>TextInput</code></li>\n</ul>\n\n<p>it should look like</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;View style={{flexDirection: 'row', flexWrap: 'wrap'}}&gt;\r\n  &lt;Image style={styles.img} source={{uri: some_emoji}} /&gt;\r\n  &lt;Text&gt;\r\n    {\"s\"}\r\n  &lt;/Text&gt;\r\n  &lt;Text&gt;\r\n    {\"s\"}\r\n  &lt;/Text&gt;\r\n  &lt;MyCursor /&gt;\r\n&lt;/View&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>the emoji images should be within the same width, and to get width of Text might look like</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;Text onLayout={(event) =&gt; {\r\n  var {x, y, width, height} = event.nativeEvent.layout;\r\n}} /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>then you can get the total length and resize your <code>View</code> and hide your real <code>TextInput</code> and manage cursor, It worked in the web though not that smooth.\nthis is why i use <code>Text</code> for every char like <code>&lt;Text&gt;{\"s\"}&lt;/Text&gt;</code> cursor index should change when you click on each of them, and when focus, blur and keypress happens. you may refer <a href=\"https://github.com/postor/react-input-emoji/blob/master/pages/index.js\" rel=\"nofollow noreferrer\">https://github.com/postor/react-input-emoji/blob/master/pages/index.js</a> for a web version fake input I've tried, yet cut, paste and lot's of things remain unhandled</p>\n"}], "owner": {"reputation": 63, "user_id": 5754996, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cbce3a0a0cb3d2a9e6135aaf3f3bdae6?s=128&d=identicon&r=PG&f=1", "display_name": "RollinRight", "link": "https://stackoverflow.com/users/5754996/rollinright"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1803, "favorite_count": 1, "accepted_answer_id": 48416687, "answer_count": 1, "score": 1, "last_activity_date": 1516777662, "creation_date": 1516225646, "last_edit_date": 1516240185, "question_id": 48310541, "link": "https://stackoverflow.com/questions/48310541/centering-textinput-with-dynamic-width-in-react-native", "title": "Centering TextInput with dynamic width in React Native", "body": "<p>I am trying to center a text input with a width that is the length of the text input. However when I use alignSelf: 'center', or alignItems: 'center', the text input is not visible without a width.</p>\n\n<p>For example:</p>\n\n<pre><code>render() {\n  return &lt;View style={{flex: 1}}&gt;\n    &lt;TextInput style={{alignSelf: 'center', minWidth: 1}}&gt;\n  &lt;View/&gt; \n}\n</code></pre>\n\n<p>Here the minWidth ensures that the textInput can be seen but it does not expand when you type in it. And without a width / minWidth the textInput would not be seen unless the centering style was removed.</p>\n\n<p>Example with almost workable workaround:</p>\n\n<pre><code>constructor(props) {\n  super(props)\n\n  this.state = {\n    txt: \"\"\n    txtWidth: 0\n  }\n}\n\nrender() {\n  return &lt;View style={{flex: 1}}&gt;\n    &lt;TextInput\n      style={{minWidth: 1, alignSelf: 'center', width: this.state.txtWidth}}\n      value={this.state.txt}\n      onChange={txt=&gt;this.setState({txt: txt.nativeEvent.text})}\n    /&gt;\n    &lt;Text\n      style={{position: 'absolute', right: 100000}}\n      onLayout={e=&gt;this.setState({txtWidth:e.nativeEvent.layout.width})}\n    &gt;\n      {this.state.txt}\n    &lt;/Text&gt;\n  &lt;View/&gt;\n}\n</code></pre>\n\n<p>As the text input receives input, it grows in size and works great. However, one thing prevents it from being full proof. The e.nativeEvent.layout.width value for emoji is always 20. And the actual width of the given emoji is not 20. Thus the txtWidth is no longer the correct width for the textInput and pieces of the textInput are now cut off.</p>\n\n<p>Has anyone come up with a good solution for a centered text input with a dynamic width. I have been stumped on this for way too long. Would be happy to provide clarity if needed as well.</p>\n\n<p>Thanks! </p>\n"}, {"tags": ["javascript", "html", "node.js"], "answers": [{"tags": [], "owner": {"reputation": 1293, "user_id": 1367039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e89dcb45151fded5c1a3b749646be5f2?s=128&d=identicon&r=PG", "display_name": "Chris Riebschlager", "link": "https://stackoverflow.com/users/1367039/chris-riebschlager"}, "is_accepted": true, "score": 1, "last_activity_date": 1516225859, "creation_date": 1516225859, "answer_id": 48310582, "question_id": 48310526, "link": "https://stackoverflow.com/questions/48310526/sending-data-from-html-on-server-node-js/48310582#48310582", "title": "Sending data from html on server (node.js)", "body": "<p>Add <code>name</code> attributes to your form:</p>\n\n<pre><code>&lt;form method=\"post\" action=\"http://127.0.0.1:3000/\"&gt;\n    &lt;fieldset&gt;\n        &lt;label for=\"username\"&gt;&lt;/label&gt;\n        &lt;input type=\"text\" name=\"username\" id=\"username\" placeholder=\"username\"&gt;\n        &lt;label for=\"password\"&gt;&lt;/label&gt;\n        &lt;input type=\"password\" name=\"password\" id=\"password\" placeholder=\"password\"&gt;\n        &lt;input type=\"submit\" value=\"Create user\"&gt;\n    &lt;/fieldset&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>See this answer for more info: <a href=\"https://stackoverflow.com/questions/7470268/html-input-name-vs-id\">HTML input - name vs. id</a></p>\n"}], "owner": {"reputation": 21, "user_id": 9231856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cef50c8e534f3c8bb28826c9ad27fef?s=128&d=identicon&r=PG&f=1", "display_name": "desperate", "link": "https://stackoverflow.com/users/9231856/desperate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 48310582, "answer_count": 1, "score": 0, "last_activity_date": 1516225859, "creation_date": 1516225600, "question_id": 48310526, "link": "https://stackoverflow.com/questions/48310526/sending-data-from-html-on-server-node-js", "title": "Sending data from html on server (node.js)", "body": "<p>I have a problem with sending data on the server. I run server.js in node but always after clicking submit button  req.body.username and req.body.password is undefinied... HTML file is opened in a browser, so probably it is the problem, but I have no idea how to solve it. I'm a beginner so be understanding...</p>\n\n<p>index.html:</p>\n\n<pre><code>&lt;form method=\"post\" action=\"http://127.0.0.1:3000/\"&gt;   \n&lt;fieldset&gt;\n&lt;label for=\"username\"&gt;&lt;/label&gt;\n&lt;input type=\"text\" id=\"username\" placeholder=\"username\"&gt;\n&lt;label for=\"password\"&gt;&lt;/label&gt;\n\n&lt;input type=\"password\" id=\"password\" placeholder=\"password\"&gt;\n\n&lt;input type=\"submit\" value=\"Create user\"&gt;\n&lt;/fieldset&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>server.js:</p>\n\n<pre><code> const express = require('express');\n const mysql = require('mysql');\n const bodyParser = require('body-parser');\n const http = require('http');\n\n const template = require('./template'); \n const app = express();\n\n app.use(bodyParser.urlencoded({extended:true}));\n app.use(express.static('public'))\n app.use(bodyParser());\n\n app.post('/',(req, res) =&gt; {\n\n\n\n  template.createUser( \n\n    req.body.username,\n    req.body.password\n  )\n\n });\n\n app.listen(3000, 'localhost' );\n</code></pre>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 1255, "user_id": 4487722, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kmSctpPZ0c8/AAAAAAAAAAI/AAAAAAAAFcs/RxGumDzqqwU/photo.jpg?sz=128", "display_name": "Rafael Quintanilha", "link": "https://stackoverflow.com/users/4487722/rafael-quintanilha"}, "is_accepted": true, "score": 1, "last_activity_date": 1516225777, "creation_date": 1516225777, "answer_id": 48310568, "question_id": 48310523, "link": "https://stackoverflow.com/questions/48310523/calling-a-method-that-belongs-to-a-child-component-from-a-component-that-sits-in/48310568#48310568", "title": "Calling a method that belongs to a child component from a component that sits in a parent component", "body": "<p>Define both functions in the parent component (<code>&lt;App /&gt;</code>) and pass them to the child via <code>props</code>. This way both <code>&lt;FloatingButton&gt;</code> and <code>&lt;SimpleModal&gt;</code> can have access to the same function. This technique is called \"lift state up\" and <a href=\"https://reactjs.org/docs/lifting-state-up.html\" rel=\"nofollow noreferrer\">there is a very good article about it</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 34232, "user_id": 3836229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27d2fef27eacad45ee3fffda314f86f2?s=128&d=identicon&r=PG", "display_name": "Timo", "link": "https://stackoverflow.com/users/3836229/timo"}, "is_accepted": false, "score": 0, "last_activity_date": 1516225823, "creation_date": 1516225823, "answer_id": 48310575, "question_id": 48310523, "link": "https://stackoverflow.com/questions/48310523/calling-a-method-that-belongs-to-a-child-component-from-a-component-that-sits-in/48310575#48310575", "title": "Calling a method that belongs to a child component from a component that sits in a parent component", "body": "<p>Instead of calling the functions from a sibling component, you could <strong>lift the state to the common parent component</strong>.</p>\n\n<p>This allows you to pass the event handler into the <code>FloatingButton</code> component, and the current state of the modal into the <code>Modal</code> component.</p>\n\n<hr>\n\n<p>For more infos, check out the <a href=\"https://reactjs.org/docs/lifting-state-up.html\" rel=\"nofollow noreferrer\">relevant section in the React docs</a>:</p>\n\n<blockquote>\n  <p>Often, several components need to reflect the same changing data. We recommend lifting the shared state up to their closest common ancestor.</p>\n</blockquote>\n"}], "owner": {"reputation": 437, "user_id": 360869, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/fb77a39b4ce5c3f1936711523164dd5c?s=128&d=identicon&r=PG", "display_name": "ilteris", "link": "https://stackoverflow.com/users/360869/ilteris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 48310568, "answer_count": 2, "score": 0, "last_activity_date": 1516225823, "creation_date": 1516225579, "question_id": 48310523, "link": "https://stackoverflow.com/questions/48310523/calling-a-method-that-belongs-to-a-child-component-from-a-component-that-sits-in", "title": "Calling a method that belongs to a child component from a component that sits in a parent component", "body": "<p>I am trying to call a method in a child component from a component that sits on the paerent component. Please see below:</p>\n\n<p>App class </p>\n\n<pre><code>    //    App.js \n    class App extends Component {\n          render() {\n            return (\n              &lt;div className=\"App\"&gt;\n                  &lt;SimpleModal/&gt;\n                &lt;FloatingButton onClick={/*would like to call HandleOpen in SimpleModal*/}/&gt; \n              &lt;/div&gt;\n            );\n          }\n        }\n\n        export default App;\n</code></pre>\n\n<p>And here's that SimpleModal component</p>\n\n<pre><code>//SimpleModal\n    class SimpleModal extends React.Component {\n      state = {\n        open: false,\n      };\n\n      handleOpen = () =&gt; {\n        this.setState({ open: true });\n      };\n\n      handleClose = () =&gt; {\n        this.setState({ open: false });\n      };\n\n      render() {\n        return (\n            &lt;Modal\n              aria-labelledby=\"simple-modal-title\"\n              aria-describedby=\"simple-modal-description\"\n              open={this.state.open}\n              onClose={this.handleClose}\n            &gt;\n              &lt;div style={getModalStyle()}&gt;\n                &lt;Typography type=\"title\" id=\"modal-title\"&gt;\n                  Text in a modal\n                &lt;/Typography&gt;\n                &lt;Typography type=\"subheading\" id=\"simple-modal-description\"&gt;\n                  Description\n                &lt;/Typography&gt;\n              &lt;/div&gt;\n            &lt;/Modal&gt;\n        );\n      }\n    }\n\n    export default SimpleModal;\n</code></pre>\n\n<p>Basically I would like to call HandleOpen and HandleCall from FloatingButton. How should I do this? Thank you in advance.</p>\n"}, {"tags": ["javascript", "ajax"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 8895365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92bfaa81514654d1a7ae1d5a124d8ced?s=128&d=identicon&r=PG&f=1", "display_name": "jannec22", "link": "https://stackoverflow.com/users/8895365/jannec22"}, "edited": false, "score": 0, "creation_date": 1516226354, "post_id": 48310605, "comment_id": 83607089, "body": "At first, I am showing  the first elements of result, and then according to incremented iterator the rest of it. Am i doing wrong?"}], "tags": [], "owner": {"reputation": 132, "user_id": 6922184, "user_type": "registered", "profile_image": "https://graph.facebook.com/1395223827157742/picture?type=large", "display_name": "Yurii Kovalenko", "link": "https://stackoverflow.com/users/6922184/yurii-kovalenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1516225939, "creation_date": 1516225939, "answer_id": 48310605, "question_id": 48310506, "link": "https://stackoverflow.com/questions/48310506/new-data-received-by-ajax-does-not-overwrite-previous-values/48310605#48310605", "title": "New data received by AJAX does not overwrite previous values", "body": "<p>I have no idea what coming from server via AJAX. All I see is that you work only with first element in array:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>it = 0;\r\n  console.log(\"main\");\r\n  console.log(responceData);\r\n  (...)\r\n\r\n  $('.front &gt; h2').text((it+1)+\".\");\r\n  $('.front &gt; p').text(responceData.quests[it]);\r\n  $('.back &gt; p').text(responceData.answ[it]);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>While you need iterate over all items using f.e. <code>for</code> loop.</p>\n"}, {"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1516226090, "creation_date": 1516226090, "answer_id": 48310639, "question_id": 48310506, "link": "https://stackoverflow.com/questions/48310506/new-data-received-by-ajax-does-not-overwrite-previous-values/48310639#48310639", "title": "New data received by AJAX does not overwrite previous values", "body": "<p>Every time you call <code>main()</code> you add click handlers on the <code>next</code> and <code>prev</code> buttons, but you never remove the old click handlers. So when you click on those buttons, it will continue to process the results from previous calls. Remove the old handlers before adding the new ones:</p>\n\n<pre><code>  $('.next').off(\"click\").click(function(e){\n    e.stopImmediatePropagation();\n    console.log(it);\n    if(it &lt; Object.keys(responceData.id).length-1){ ++it; }\n    else{\n      $('.menu').fadeIn(400);\n      it = 0;\n      console.log(\"end\");\n      return;\n    }\n    console.log(responceData.quests[it]);\n    $('.front &gt; h2').text((it+1)+\".\");\n    $('.front &gt; p').text(responceData.quests[it]);\n    $('.back &gt; p').text(responceData.answ[it]);\n  });\n</code></pre>\n\n<p>and similar for <code>.prev</code>.</p>\n"}], "owner": {"reputation": 31, "user_id": 8895365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92bfaa81514654d1a7ae1d5a124d8ced?s=128&d=identicon&r=PG&f=1", "display_name": "jannec22", "link": "https://stackoverflow.com/users/8895365/jannec22"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 48310639, "answer_count": 2, "score": 0, "last_activity_date": 1516226090, "creation_date": 1516225522, "question_id": 48310506, "link": "https://stackoverflow.com/questions/48310506/new-data-received-by-ajax-does-not-overwrite-previous-values", "title": "New data received by AJAX does not overwrite previous values", "body": "<p>I am trying to make a menu. A click on each item causes AJAX call, which returns object with some values. After some actions when I show menu one more time, after a click on any item, AJAX call is executed one more time and returns object\nwith other values. I have a problem with that object/values, because they didn't change in the callback function. Only the first item in the array is new.</p>\n\n<p>I am sorry for my bad english, but I hope you will understand the issue.</p>\n\n<p>some code:</p>\n\n<p>1) after click on menu item:</p>\n\n<pre><code>function run(){  //After a click on menu item\n\n  $('.menu').fadeOut(400);\n  $('.title').text($(this).text());\n\n  chapterNum = parseInt($(this).attr('id'));\n  console.log('downloading data');\n  downloadData(chapterNum, main);  //AJAX callback function\n}\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>function downloadData(chapter, callback){\n  $.ajax(\n    {\n      type: 'GET',\n      data: {chapter: chapter},\n      url: 'chapters.php',\n      dataType: 'json',\n      success: function(result){\n        console.log(\"ajax\");\n        console.log(result);\n        callback(result);\n      },\n      error: function(){\n        console.log('connection err');\n      }\n    }\n  );\n}\n</code></pre>\n\n<p>result looks like this:</p>\n\n<pre><code>answ : [\"brat cioteczny/stryjeczny\", \"brat przyrodni\"]\nid : [\"16\", \"19\"]\nquests : [\"first cousin\", \"half-brother\"]\n</code></pre>\n\n<p>main function:</p>\n\n<pre><code>function main(responceData){\n  it = 0;\n  console.log(\"main\");\n  console.log(responceData);\n  (...)\n\n  $('.front &gt; h2').text((it+1)+\".\");\n  $('.front &gt; p').text(responceData.quests[it]);\n  $('.back &gt; p').text(responceData.answ[it]);\n\n  $('.next').click(function(e){\n    e.stopImmediatePropagation();\n    console.log(it);\n    if(it &lt; Object.keys(responceData.id).length-1){ ++it; }\n    else{\n      $('.menu').fadeIn(400);\n      it = 0;\n      console.log(\"end\");\n      return;\n    }\n    console.log(responceData.quests[it]);\n    $('.front &gt; h2').text((it+1)+\".\");\n    $('.front &gt; p').text(responceData.quests[it]);\n    $('.back &gt; p').text(responceData.answ[it]);\n  });\n\n  $('.prev').click(function(e){\n    e.stopImmediatePropagation();\n    if(it &gt;= 1){ --it; }\n\n    $('.front &gt; h2').text((it+1)+\".\");\n    $('.front &gt; p').text(responceData.quests[it]);\n    $('.back &gt; p').text(responceData.answ[it]);\n  });\n\n  (...)\n\n}\n</code></pre>\n\n<p>the second result is fine, but when I click on menu item, the responceData.quests[it], ..answ[it] are still the same.</p>\n\n<p>only responceData.quests[0] and answ[0] are good and fit the result, which I am showing in console.</p>\n\n<p>probably there is a problem in order of the code, maby I shouldn't do it in that way?</p>\n\n<p>maby it will be easier for you to see the problem in real so here is the link:\n<a href=\"https://janek.ovh/flash-cards\" rel=\"nofollow noreferrer\">click me! :)</a></p>\n\n<p>thank you in advance:)</p>\n\n<p>PS I was looking for a solution for quite long so i hope that this question isn't a duplicate.</p>\n"}, {"tags": ["javascript", "arrays", "sorting", "typescript"], "comments": [{"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1516225554, "post_id": 48310495, "comment_id": 83606747, "body": "is <code>x</code> dynamic?"}, {"owner": {"reputation": 19, "user_id": 3242013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9762bfbcb9a3b646846410d72b9ed16?s=128&d=identicon&r=PG&f=1", "display_name": "user3242013", "link": "https://stackoverflow.com/users/3242013/user3242013"}, "reply_to_user": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1516225598, "post_id": 48310495, "comment_id": 83606768, "body": "Nope, lets say top 3."}, {"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1516225678, "post_id": 48310495, "comment_id": 83606805, "body": "<code>var top2 = arr.sort((a, b) =&gt; b[4] - a[4]).slice(0, 2);</code>."}, {"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1516225726, "post_id": 48310495, "comment_id": 83606824, "body": "Any <code>x</code>: <code>var top2 = arr.sort((a, b) =&gt; b[4] - a[4]).slice(0, x);</code>."}, {"owner": {"reputation": 229718, "user_id": 82548, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/db5a61382c2ba7309071c323edb4013b?s=128&d=identicon&r=PG", "display_name": "David says reinstate Monica", "link": "https://stackoverflow.com/users/82548/david-says-reinstate-monica"}, "reply_to_user": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 1, "creation_date": 1516225782, "post_id": 48310495, "comment_id": 83606847, "body": "@ibrahimmahrir: rather than posting code in comments to answer the question, why not post an answer? It&#39;s easier to format, easier to read and leads to the OP being able to accept an answer that you&#39;ve basically written already."}, {"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "reply_to_user": {"reputation": 229718, "user_id": 82548, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/db5a61382c2ba7309071c323edb4013b?s=128&d=identicon&r=PG", "display_name": "David says reinstate Monica", "link": "https://stackoverflow.com/users/82548/david-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1516225979, "post_id": 48310495, "comment_id": 83606923, "body": "@DavidThomas I think this is a rare case where you are right. On most cases, the question is either heavely downvoted or closed by now (due to the lack of attempts). I prefer not to answer those questions, specially if a comment is sufficient."}, {"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1516226088, "post_id": 48310495, "comment_id": 83606969, "body": "Possible dupe: <a href=\"https://stackoverflow.com/questions/39254218/js-get-top-5-max-elemenets-from-array\" title=\"js get top 5 max elemenets from array\">stackoverflow.com/questions/39254218/&hellip;</a>"}, {"owner": {"reputation": 229718, "user_id": 82548, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/db5a61382c2ba7309071c323edb4013b?s=128&d=identicon&r=PG", "display_name": "David says reinstate Monica", "link": "https://stackoverflow.com/users/82548/david-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1516226154, "post_id": 48310495, "comment_id": 83607002, "body": "Given the question asked in that proposed duplicate, I&#39;d rather close that one as a dupe of this one; since this one at least has some code in the question; although it&#39;d be much better if the OP had shown some effort or attempts."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 3242013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9762bfbcb9a3b646846410d72b9ed16?s=128&d=identicon&r=PG&f=1", "display_name": "user3242013", "link": "https://stackoverflow.com/users/3242013/user3242013"}, "edited": false, "score": 0, "creation_date": 1516226260, "post_id": 48310637, "comment_id": 83607055, "body": "Why do we have to do <code>({ 4: a }, { 4: b }) =&gt; b - a</code>, cant we just do something like <code>({ 4: a }) =&gt; a</code> ?"}, {"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "reply_to_user": {"reputation": 19, "user_id": 3242013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9762bfbcb9a3b646846410d72b9ed16?s=128&d=identicon&r=PG&f=1", "display_name": "user3242013", "link": "https://stackoverflow.com/users/3242013/user3242013"}, "edited": false, "score": 0, "creation_date": 1516226329, "post_id": 48310637, "comment_id": 83607077, "body": "@user3242013 Because <code>Array#sort</code> does the sorting by comparing <b>two</b> elements at a time."}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1516226342, "post_id": 48310637, "comment_id": 83607084, "body": "you have two parameters to destruct."}, {"owner": {"reputation": 229718, "user_id": 82548, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/db5a61382c2ba7309071c323edb4013b?s=128&d=identicon&r=PG", "display_name": "David says reinstate Monica", "link": "https://stackoverflow.com/users/82548/david-says-reinstate-monica"}, "edited": false, "score": 2, "creation_date": 1516226350, "post_id": 48310637, "comment_id": 83607087, "body": "Please explain the code so that others can learn what this answer does, and how the posted solution might apply to other situations in future (this is partially self-interest, since I realise you&#39;re destructuring but I&#39;m still a little lost)."}, {"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "reply_to_user": {"reputation": 229718, "user_id": 82548, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/db5a61382c2ba7309071c323edb4013b?s=128&d=identicon&r=PG", "display_name": "David says reinstate Monica", "link": "https://stackoverflow.com/users/82548/david-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1516226425, "post_id": 48310637, "comment_id": 83607123, "body": "@DavidThomas Me too! JS is evolving quickly. Wow! I&#39;m surprised."}], "tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 4, "last_activity_date": 1516227209, "last_edit_date": 1516227209, "creation_date": 1516226072, "answer_id": 48310637, "question_id": 48310495, "link": "https://stackoverflow.com/questions/48310495/filter-top-x-from-array-of-arrays/48310637#48310637", "title": "Filter Top X from Array of arrays", "body": "<p>You could sort descending by the element at index <code>4</code> and take the first two elements.</p>\n\n<p>This propposal features a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\" rel=\"nofollow noreferrer\">destructuring <strike>assignment</strike></a>, where an array is taken for destructuring and the property <code>4</code> is taken and renamed to <code>a</code> rsp. to <code>b</code>.</p>\n\n<blockquote>\n  <p>Example:</p>\n\n<pre><code>                                                  vvv\n{ 4: a } = [\"2000-01-01\", \"xyz1@gmail.com\", 1, 9, 338]\n  ^\n</code></pre>\n  \n  <p>Result</p>\n\n<pre><code>a = 338\n</code></pre>\n</blockquote>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var array = [[\"2000-01-01\", \"xyz1@gmail.com\", 1, 9, 338], [\"2000-01-01\", \"xyz2@yahoo.com\", 1, 2, 159], [\"2000-01-01\", \"xyz3@yahoo.com\", 1, 5, 462], [\"2000-01-01\", \"xyz4@yahoo.com\", 1, 6, 417], [\"2000-01-01\", \"xyz5@gmail.com\", 1, 3, 156], [\"2000-01-01\", \"xyz6@gmail.com\", 1, 8, 414]],\r\n    top2 = array.sort(({ 4: a }, { 4: b }) =&gt; b - a).slice(0, 2);\r\n\r\nconsole.log(top2);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1516226504, "post_id": 48310721, "comment_id": 83607160, "body": "What about <a href=\"https://stackoverflow.com/questions/48310495/filter-top-x-from-array-of-arrays#comment83606768_48310495\">this comment</a>? I think <i>&quot;Top X&quot;</i> is dynamic."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1516227055, "post_id": 48310721, "comment_id": 83607404, "body": "@ibrahim right, however i think the question is a bit misleading"}, {"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1516227285, "post_id": 48310721, "comment_id": 83607528, "body": "By the way, your code is not working. <code>5 &gt; undefined === false</code>, <code>5 &lt; undefined === false</code> too. So your code always return two empty arrays."}], "tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 0, "last_activity_date": 1516255627, "last_edit_date": 1516255627, "creation_date": 1516226443, "answer_id": 48310721, "question_id": 48310495, "link": "https://stackoverflow.com/questions/48310495/filter-top-x-from-array-of-arrays/48310721#48310721", "title": "Filter Top X from Array of arrays", "body": "<p>Without sorting:</p>\n\n<pre><code> function getTopTwo(array){\n    let first = {4: - Infinity}, second = { 4: - Infinity};\n    for(const el of array){\n      if(el[4] &gt; first[4]){\n        second = first;\n        first = el;\n      } else if(el[4] &gt; second[4]){\n       second = el;\n      }\n    }\n    return [first, second];\n }\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 3242013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9762bfbcb9a3b646846410d72b9ed16?s=128&d=identicon&r=PG&f=1", "display_name": "user3242013", "link": "https://stackoverflow.com/users/3242013/user3242013"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1516255627, "creation_date": 1516225471, "question_id": 48310495, "link": "https://stackoverflow.com/questions/48310495/filter-top-x-from-array-of-arrays", "title": "Filter Top X from Array of arrays", "body": "<p>Let's say we have an Array which contains arrays inside:</p>\n\n<pre><code>[\n[\"2000-01-01\", \"xyz1@gmail.com\", 1, 9, 338],\n[\"2000-01-01\", \"xyz2@yahoo.com\", 1, 2, 159],\n[\"2000-01-01\", \"xyz3@yahoo.com\", 1, 5, 462],\n[\"2000-01-01\", \"xyz4@yahoo.com\", 1, 6, 417],\n[\"2000-01-01\", \"xyz5@gmail.com\", 1, 3, 156],\n[\"2000-01-01\", \"xyz6@gmail.com\", 1, 8, 414],\n]\n</code></pre>\n\n<p>I want to get top 2 based on the last column i.e.</p>\n\n<pre><code>[\"2000-01-01\", \"xyz3@yahoo.com\", 1, 8, 462],\n[\"2000-01-01\", \"xyz4@yahoo.com\", 1, 6, 417],\n</code></pre>\n\n<p>We can use <code>Array.filter</code> but not really sure how to in this situation.</p>\n"}, {"tags": ["javascript", "date", "time"], "answers": [{"tags": [], "owner": {"reputation": 305833, "user_id": 68587, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7d9fd158e03cbde94f7e0b33b78222af?s=128&d=identicon&r=PG", "display_name": "John Kugelman", "link": "https://stackoverflow.com/users/68587/john-kugelman"}, "is_accepted": true, "score": 5, "last_activity_date": 1516225605, "creation_date": 1516225605, "answer_id": 48310530, "question_id": 48310483, "link": "https://stackoverflow.com/questions/48310483/java-javascript-java-time-instant-serialization-to-javascript-date/48310530#48310530", "title": "Java/JavaScript - java.time.Instant serialization to javascript Date", "body": "<p>1437647493 is the number of <strong>seconds</strong> since January 1, 1970. This is commonly known as a UNIX timestamp, and that date is the UNIX epoch.</p>\n\n<p><code>Date</code> expects the number of <strong>milliseconds</strong> since the UNIX epoch. Multiply by 1000 and you'll get the time you want.</p>\n\n<pre><code>new Date(1437647493L * 1000)\n</code></pre>\n\n<p>Or, in Java if you're using <code>Instant</code>, write:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Instant.ofEpochSecond(1437647493L)\n</code></pre>\n"}], "owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4838, "favorite_count": 0, "closed_date": 1516227482, "accepted_answer_id": 48310530, "answer_count": 1, "score": 1, "last_activity_date": 1523020246, "creation_date": 1516225413, "last_edit_date": 1523020246, "question_id": 48310483, "link": "https://stackoverflow.com/questions/48310483/java-javascript-java-time-instant-serialization-to-javascript-date", "closed_reason": "Duplicate", "title": "Java/JavaScript - java.time.Instant serialization to javascript Date", "body": "<p>I have a web API endpoint that accepts a <code>java.time.Instant</code> instance, like so:</p>\n\n<pre><code>{ \"time\": \"2015-07-23T10:31:33Z\" }\n</code></pre>\n\n<p>When I get a response back, I get this:</p>\n\n<pre><code>{ \"time\": 1437647493 }\n</code></pre>\n\n<p>When I try to create a new <code>Date</code> instance in JavaScript like this:</p>\n\n<pre><code>new Date(1437647493);\n</code></pre>\n\n<p>I get this result:</p>\n\n<pre><code>Sat Jan 17 1970 15:20:47 GMT+0000 (GMT Standard Time)\n</code></pre>\n\n<p>What is the relationship between <code>\"2015-07-23T10:31:33Z\"</code> and <code>1437647493</code> and how do I parse the result to JavaScript's <code>Date</code>?</p>\n"}, {"tags": ["javascript", "php", "jquery", "html"], "comments": [{"owner": {"reputation": 1143, "user_id": 8759952, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7d8e784fa5cd3e5a2dfe13b405fc1de1?s=128&d=identicon&r=PG&f=1", "display_name": "Liora Haydont", "link": "https://stackoverflow.com/users/8759952/liora-haydont"}, "edited": false, "score": 1, "creation_date": 1516225489, "post_id": 48310461, "comment_id": 83606717, "body": "Simply add an id to your link and modify the href attribute?"}, {"owner": {"reputation": 21, "user_id": 5506388, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205000342105009/picture?type=large", "display_name": "Martin Pretorius", "link": "https://stackoverflow.com/users/5506388/martin-pretorius"}, "reply_to_user": {"reputation": 1143, "user_id": 8759952, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7d8e784fa5cd3e5a2dfe13b405fc1de1?s=128&d=identicon&r=PG&f=1", "display_name": "Liora Haydont", "link": "https://stackoverflow.com/users/8759952/liora-haydont"}, "edited": false, "score": 0, "creation_date": 1516225640, "post_id": 48310461, "comment_id": 83606786, "body": "@LioraHaydont Thanks for the quick reply! Would you be able to give an example on how I would do this? EDIT: What I mean is I know how to update the containing text using an id, but how do I change the href attribute?"}, {"owner": {"reputation": 4008, "user_id": 2960971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGf2S.png?s=128&g=1", "display_name": "IncredibleHat", "link": "https://stackoverflow.com/users/2960971/incrediblehat"}, "edited": false, "score": 0, "creation_date": 1516228313, "post_id": 48310461, "comment_id": 83607933, "body": "Using jquery, its simply <code>$( selector ).attr(&#39;href&#39;,&#39;http:&#47;&#47;new&#47;value&#39;);</code>. You just need to wrestle in your selector. Using a unique ID for the buy now button, or finding it by some other data filter."}, {"owner": {"reputation": 229718, "user_id": 82548, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/db5a61382c2ba7309071c323edb4013b?s=128&d=identicon&r=PG", "display_name": "David says reinstate Monica", "link": "https://stackoverflow.com/users/82548/david-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1516228531, "post_id": 48310461, "comment_id": 83608005, "body": "Most likely your PHP has already completed its execution by the time the browser receives the HTML and JavaScript; could you please post a snippet of <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> code as received by the client, and without the PHP littering it?"}, {"owner": {"reputation": 21, "user_id": 5506388, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205000342105009/picture?type=large", "display_name": "Martin Pretorius", "link": "https://stackoverflow.com/users/5506388/martin-pretorius"}, "reply_to_user": {"reputation": 229718, "user_id": 82548, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/db5a61382c2ba7309071c323edb4013b?s=128&d=identicon&r=PG", "display_name": "David says reinstate Monica", "link": "https://stackoverflow.com/users/82548/david-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1516253251, "post_id": 48310461, "comment_id": 83614444, "body": "@DavidThomas Please see : <a href=\"https://jsfiddle.net/nbucona8/2/\" rel=\"nofollow noreferrer\">link</a> This was used to adapt and change the information displayed whenever selecting the radio option. What I need now is to change the buy link im using as show above. The buy link Is created using <code>&lt;a href=&quot;&lt;?php echo JRoute::_(&#39;my-groupbuy-cart?&amp;task=add_to_cart&amp;id=&#39;.$cmgbstor&zwnj;&#8203;e_id).&#39;&amp;option_id=1&#39;&zwnj;&#8203;; ?&gt;&quot;&lt;&#47;a&gt;</code> so I just need some way to update the option ID to the radio box value whenever it gets clicked. Hope this cleared up some confusion."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 5506388, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205000342105009/picture?type=large", "display_name": "Martin Pretorius", "link": "https://stackoverflow.com/users/5506388/martin-pretorius"}, "is_accepted": true, "score": 0, "last_activity_date": 1516278814, "last_edit_date": 1592644375, "creation_date": 1516278814, "answer_id": 48321494, "question_id": 48310461, "link": "https://stackoverflow.com/questions/48310461/replace-a-existing-html-link-dynamically-using-js/48321494#48321494", "title": "Replace a existing HTML link dynamically using js?", "body": "<p>Figure it out using the replies on my initial question.\nWhat I did if someone else needs it: DEMO - <a href=\"https://jsfiddle.net/nbucona8/4/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/nbucona8/4/</a></p>\n<p>It was simpler than I thought, but as @IncredibleHat said above I needed to use\n<code>$( selector ).attr('href','http://new/value');</code>, so I made it:</p>\n<pre><code>$( &quot;a[name='buy-button']&quot; ).attr(&quot;href&quot;,&quot;/somelink/&quot;+ dealid +&quot;&amp;option_id=&quot;+ $(this).attr(&quot;value&quot;));\n</code></pre>\n<p>It refers back to any <code>&lt;a&gt;</code>  element with the name &quot;buy-button&quot; and changes the href to the correct option_id.</p>\n<p>So I call the buy link using:</p>\n<pre><code>&lt;a name=&quot;buy-button&quot; href=&quot;&quot;&gt; BUY NOW! &lt;/a&gt;\n</code></pre>\n<p>And whenever the radio box option changes it changes the option_id by using :</p>\n<pre><code> $(this).attr(&quot;value&quot;)\n</code></pre>\n<p>at the end of the link.</p>\n<p>Thanks to everyone that helped out.</p>\n"}], "owner": {"reputation": 21, "user_id": 5506388, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205000342105009/picture?type=large", "display_name": "Martin Pretorius", "link": "https://stackoverflow.com/users/5506388/martin-pretorius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 48321494, "answer_count": 1, "score": 0, "last_activity_date": 1516278814, "creation_date": 1516225321, "question_id": 48310461, "link": "https://stackoverflow.com/questions/48310461/replace-a-existing-html-link-dynamically-using-js", "title": "Replace a existing HTML link dynamically using js?", "body": "<p>I'm using Joomla and use a radio box to select a buy option.\nEverything works fine and I'm able to dynamically update the information displayed to the user. </p>\n\n<p>My issue is to update the buy link when they select the option. My current js code to update the front end is:</p>\n\n<pre><code>jQuery(function($){\n$(document).ready(function(){\n$('#pricing').text('R'+'&lt;?php echo (int)$opt1_o_price ?&gt;');\n$('#savings').text('R'+'&lt;?php echo $opt1_save ?&gt;');\n$('#discount').text(Math.round('&lt;?php echo $perc1 ?&gt;')+'%');\n}); \n$('.item').on('change',function(){\n$('#pricing').text('R'+($(this).data('price')));\n$('#savings').text('R'+($(this).data('price')-$(this).data('after')));\n$('#discount').text(Math.round(100-\n($(this).data('after')/$(this).data('price')*100))+'%');\n$('input[name=sku]').val($(this).data('sku'));\n</code></pre>\n\n<p>And the code used to generate the link is:</p>\n\n<pre><code>&lt;a href=\"&lt;?php echo JRoute::_('my-groupbuy-cart?&amp;task=add_to_cart&amp;id='.$cmgbstore_id).'&amp;option_id=1'; ?&gt;\"&lt;/a&gt;\n</code></pre>\n\n<p>I am already able to select the ID using \"$cmgbstore_id\" because it gets loaded when the page loads, but I need to be able to change the \"option_id\" at the end of the link by using the option they have selected in the radio box. The value will always either be \"1\", \"2\" or \"3\". \nAn example of my radio box code is:</p>\n\n<pre><code>&lt;div class=\"product-options\"&gt;\n&lt;div class=\"option-input\"&gt;\n     &lt;input id=\"1\" type=\"radio\" value= \"1\" name=\"product-option\" class=\"radio item\" checked=\"checked\" data-sku=\"1001\" data-price=\"&lt;?php echo (int)$opt1_o_price ?&gt;\" data-save=\"&lt;?php echo (int)$opt1_save?&gt;\" data-after=\"&lt;?php echo (int)$opt1_d_price ?&gt;\" /&gt;\n      &lt;/div&gt;\n      &lt;label for=\"1\" class=\"option-detail\"&gt;\n        &lt;span class=\"option-title\"&gt;&lt;?php echo $opt1_title ?&gt;&lt;/span&gt;\n        &lt;span class=\"option-price\"&gt;R&lt;?php echo $opt1_o_price ?&gt;&lt;/span&gt;\n        &lt;span class=\"option-was-price\"&gt;R&lt;?php echo $opt1_d_price ?&gt;&lt;/span&gt;\n        &lt;span class=\"option-discount\"&gt;Save R&lt;?php echo $opt1_save .'.00'?&gt;&lt;/span&gt;\n&lt;/label&gt;\n</code></pre>\n\n<p></p>\n\n<p>I tried using the append option in js but every time the option changes another buy button gets added. Also it gets added at the end of the page and not where the original buy button was. The code I tried was something like this:</p>\n\n<pre><code>var link = document.createElement('a');\nlink.setAttribute('href', 'my-groupbuy-cart?&amp;task=add_to_cart&amp;id='+'&lt;?php echo $cmgbstore_id ?&gt;'+'&amp;option_id=1');\nlink.innerHTML = \"BUY NOW\";\n$('body').append(link);\n</code></pre>\n\n<p>I'm open for suggestions though and would really appreciate any help!\nThanks in advance.</p>\n"}, {"tags": ["javascript", "json"], "answers": [{"tags": [], "owner": {"reputation": 1255, "user_id": 4487722, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kmSctpPZ0c8/AAAAAAAAAAI/AAAAAAAAFcs/RxGumDzqqwU/photo.jpg?sz=128", "display_name": "Rafael Quintanilha", "link": "https://stackoverflow.com/users/4487722/rafael-quintanilha"}, "is_accepted": false, "score": 0, "last_activity_date": 1516225541, "creation_date": 1516225541, "answer_id": 48310514, "question_id": 48310454, "link": "https://stackoverflow.com/questions/48310454/add-json-elements-and-values-to-multiple-json-objects/48310514#48310514", "title": "Add json Elements and values to Multiple json objects", "body": "<p>Simply map over your current array, extending every object with the score attribute.</p>\n\n<pre><code>array.map(obj =&gt; ({...obj, score: product[obj.caracname]}));\n</code></pre>\n\n<p>If you are not familiar, consider having a look at the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_operator\" rel=\"nofollow noreferrer\">spread operator</a>;</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5986440"}, "is_accepted": true, "score": 0, "last_activity_date": 1516225682, "creation_date": 1516225682, "answer_id": 48310547, "question_id": 48310454, "link": "https://stackoverflow.com/questions/48310454/add-json-elements-and-values-to-multiple-json-objects/48310547#48310547", "title": "Add json Elements and values to Multiple json objects", "body": "<p>Iterate through each item of the array, if the product object contains a key that matches the current items caracname, add it's value as a score. </p>\n\n<p>See below: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var product = {\r\n    \"presentation\": 3,\r\n    \"imgmax\": \"http://test.com/img.jpg\",\r\n    \"puissance\": 5,\r\n    \"efficacite\": 4,\r\n    \"description\": \"This product is awesome but i need to combine JSON results\"\r\n}\r\n\r\nvar array = [\r\n  {\r\n  \"caracname\": \"presentation\",\r\n  \"name\": \"Pr\u00e9sentation\"\r\n  },\r\n  {\r\n  \"caracname\": \"efficacite\",\r\n  \"name\": \"Efficacit\u00e9\"\r\n  },\r\n  {\r\n  \"caracname\": \"puissance\",\r\n  \"name\": \"Puissance\"\r\n  }\r\n]\r\n\r\narray.forEach(function(item) {\r\n\r\n  if (product[item.caracname]) {\r\n    item.score = product[item.caracname];\r\n  }\r\n  \r\n});\r\n\r\nconsole.log(array);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8283849"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 48310547, "answer_count": 2, "score": 0, "last_activity_date": 1516225682, "creation_date": 1516225298, "question_id": 48310454, "link": "https://stackoverflow.com/questions/48310454/add-json-elements-and-values-to-multiple-json-objects", "title": "Add json Elements and values to Multiple json objects", "body": "<p>I want combine a JSON object to an ARRAY.\nI would like retrieve data from keys finded on var product, and combine score finded to a new variable ( combined results )</p>\n\n<p>combinedresults is what I need. I absolutely don't know how to do this</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var product = {\r\n    \"presentation\": 3,\r\n    \"imgmax\": http://test.com/img.jpg,\r\n    \"puissance\": 5,\r\n    \"efficacite\": 4,\r\n    \"description\": \"This product is awesome but i need to combine JSON results\"\r\n}\r\n\r\nvar array = [\r\n  {\r\n  \"caracname\": \"presentation\",\r\n  \"name\": \"Pr\u00e9sentation\"\r\n  },\r\n  {\r\n  \"caracname\": \"efficacite\",\r\n  \"name\": \"Efficacit\u00e9\"\r\n  },\r\n  {\r\n  \"caracnam\": \"puissance\",\r\n  \"name\": \"Puissance\"\r\n  }\r\n]\r\n\r\n\r\n\r\n\r\nvar combinedresults = [\r\n    {\r\n    \"caracname\": \"presentation\",\r\n    \"name\": \"Pr\u00e9sentation\",\r\n    \"score\": 3\r\n    },\r\n    {\r\n    \"caracname\": \"efficacite\",\r\n    \"name\": \"Efficacit\u00e9\",\r\n    \"score\": 4\r\n    },\r\n    {\r\n    \"caracnam\": \"puissance\",\r\n    \"name\": \"Puissance\",\r\n    \"score\": 5\r\n    }\r\n  ]</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "reactjs", "higher-order-functions", "higher-order-components"], "comments": [{"owner": {"reputation": 27093, "user_id": 5189811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FzPWr.png?s=128&g=1", "display_name": "Oluwafemi Sule", "link": "https://stackoverflow.com/users/5189811/oluwafemi-sule"}, "edited": false, "score": 0, "creation_date": 1516225665, "post_id": 48310451, "comment_id": 83606798, "body": "What do you mean return them all together? Will all nested components in the HOC have the same props? Will they all be siblings?"}, {"owner": {"reputation": 25043, "user_id": 1417223, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/dbdfe3d2d5f87f172757ada1438f3d16?s=128&d=identicon&r=PG", "display_name": "Fellow Stranger", "link": "https://stackoverflow.com/users/1417223/fellow-stranger"}, "reply_to_user": {"reputation": 27093, "user_id": 5189811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FzPWr.png?s=128&g=1", "display_name": "Oluwafemi Sule", "link": "https://stackoverflow.com/users/5189811/oluwafemi-sule"}, "edited": false, "score": 0, "creation_date": 1516225882, "post_id": 48310451, "comment_id": 83606890, "body": "Yes, the components should be siblings! :)"}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1516226255, "post_id": 48310451, "comment_id": 83607051, "body": "Just accept multiple arguments and iterate?"}, {"owner": {"reputation": 25043, "user_id": 1417223, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/dbdfe3d2d5f87f172757ada1438f3d16?s=128&d=identicon&r=PG", "display_name": "Fellow Stranger", "link": "https://stackoverflow.com/users/1417223/fellow-stranger"}, "edited": false, "score": 0, "creation_date": 1516227170, "post_id": 48310451, "comment_id": 83607469, "body": "But what about the component props? I assume it&#39;s my bad understanding of curried functions that makes this hard for me."}], "answers": [{"tags": [], "owner": {"reputation": 14770, "user_id": 1693859, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MdkLS.jpg?s=128&g=1", "display_name": "Sam R.", "link": "https://stackoverflow.com/users/1693859/sam-r"}, "is_accepted": true, "score": 2, "last_activity_date": 1516228390, "creation_date": 1516228390, "answer_id": 48311093, "question_id": 48310451, "link": "https://stackoverflow.com/questions/48310451/reusable-hoc-that-takes-multiple-components/48311093#48311093", "title": "Reusable HOC that takes multiple components", "body": "<p>You can do this:</p>\n\n<pre><code>import React, { Component } from 'react';\nimport { render } from 'react-dom';\n\nlet VerticalSlider = (...komponents) =&gt; {\n  return (props) =&gt; (\n    &lt;div className='slider'&gt;\n      { komponents.map((K, i) =&gt; &lt;K {...props.ps[i]} /&gt; ) }\n    &lt;/div&gt;\n  );\n};\n\nconst Apple = props =&gt;\n  &lt;div&gt;{ props.name }&lt;/div&gt;;\n\nconst Orange = props =&gt;\n  &lt;div&gt;{ props.desc }&lt;/div&gt;;\n\nconst MyComp = VerticalSlider(Apple, Orange);\n\nconst App = () =&gt;\n  &lt;div&gt;\n    Hello\n    &lt;MyComp \n      ps={[{ name: 'apple' }, { desc: 'orange' }]} /&gt;\n  &lt;/div&gt;\n\nrender(&lt;App /&gt;, document.getElementById('root'));\n</code></pre>\n\n<p>But it's a little ugly and your coworkers will hate you. Keep it simple and don't overthink it. Here is a <a href=\"https://stackblitz.com/edit/react-fgulxk?file=index.js\" rel=\"nofollow noreferrer\">demo</a></p>\n"}], "owner": {"reputation": 25043, "user_id": 1417223, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/dbdfe3d2d5f87f172757ada1438f3d16?s=128&d=identicon&r=PG", "display_name": "Fellow Stranger", "link": "https://stackoverflow.com/users/1417223/fellow-stranger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1641, "favorite_count": 0, "accepted_answer_id": 48311093, "answer_count": 1, "score": 2, "last_activity_date": 1516228390, "creation_date": 1516225282, "last_edit_date": 1516226166, "question_id": 48310451, "link": "https://stackoverflow.com/questions/48310451/reusable-hoc-that-takes-multiple-components", "title": "Reusable HOC that takes multiple components", "body": "<p>I have this simple Higher-Order Component that works fine but it only accepts a single component:</p>\n\n<pre><code>let VerticalSlider = (Komponent) =&gt; {\n  return (props) =&gt; (\n    &lt;div className='slider'&gt;\n      &lt;Komponent {...props}/&gt;\n    &lt;/div&gt;\n  );\n};\n</code></pre>\n\n<p>How would one rewrite the HOC to accept multiple components (unknown number) and return them as siblings (one by one under eachother) together with their respective props?</p>\n\n<p>I assume this is how you'd call a HOC with multiple components as it's just a function:</p>\n\n<pre><code>VerticalSlider(MyComponent, MyOtherComponent)\n</code></pre>\n\n<p>I know how to accept and destruct an unknown number of \"normal\" props, but I'm a but lost here when it comes to passed in components.</p>\n"}, {"tags": ["javascript", "node.js", "node-config"], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 7794599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1c725a1440a56f6c8cd70ef78db453c?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Charkov", "link": "https://stackoverflow.com/users/7794599/alexander-charkov"}, "edited": false, "score": 0, "creation_date": 1516788482, "post_id": 48410261, "comment_id": 83829076, "body": "Hi Mark, thanks a lot for the answer, by different tool you mean another npm module?"}, {"owner": {"reputation": 11251, "user_id": 254318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fqtBB.jpg?s=128&g=1", "display_name": "Mark Stosberg", "link": "https://stackoverflow.com/users/254318/mark-stosberg"}, "reply_to_user": {"reputation": 111, "user_id": 7794599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1c725a1440a56f6c8cd70ef78db453c?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Charkov", "link": "https://stackoverflow.com/users/7794599/alexander-charkov"}, "edited": false, "score": 0, "creation_date": 1516980122, "post_id": 48410261, "comment_id": 83921818, "body": "@AlexanderCharkov Not necessarily an NPM module. Some use a &quot;key/value storage service&quot; like Consul: <a href=\"https://www.consul.io/\" rel=\"nofollow noreferrer\">consul.io</a> Products like this are designed make a read/write configuration available to an application which may be running multiple instances and multiple machines and needs to real-time access to changing values. I don&#39;t currently need this feature and would consider it in the future."}], "tags": [], "owner": {"reputation": 11251, "user_id": 254318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fqtBB.jpg?s=128&g=1", "display_name": "Mark Stosberg", "link": "https://stackoverflow.com/users/254318/mark-stosberg"}, "is_accepted": false, "score": 2, "last_activity_date": 1516739361, "creation_date": 1516739361, "answer_id": 48410261, "question_id": 48310421, "link": "https://stackoverflow.com/questions/48310421/watch-configuration-file-in-node-js/48410261#48410261", "title": "Watch configuration file in node.js", "body": "<p>I'm a maintainer of <code>node-config</code>. It no longer has file-watching functionality and there is no plans to add it. Using a different tool is recommended to handle values that change at run time.</p>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 7794599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1c725a1440a56f6c8cd70ef78db453c?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Charkov", "link": "https://stackoverflow.com/users/7794599/alexander-charkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1522755211, "creation_date": 1522755211, "answer_id": 49629044, "question_id": 48310421, "link": "https://stackoverflow.com/questions/48310421/watch-configuration-file-in-node-js/49629044#49629044", "title": "Watch configuration file in node.js", "body": "<p>Here is some workaround/solution I have found after digging into <em>config</em> module code. You can use <em>getConfigSources()</em> to get the configurations array, where the last element is the actual configuration</p>\n\n<pre><code>const arrayOfConfigs = config.util.getConfigSources()\nconst loadedConfigPath = arrayOfConfigs[arrayOfConfigs.length - 1].name\n</code></pre>\n\n<p>Now you can watch this file if you need.</p>\n"}], "owner": {"reputation": 111, "user_id": 7794599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1c725a1440a56f6c8cd70ef78db453c?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Charkov", "link": "https://stackoverflow.com/users/7794599/alexander-charkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 348, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1522755211, "creation_date": 1516225132, "last_edit_date": 1516626979, "question_id": 48310421, "link": "https://stackoverflow.com/questions/48310421/watch-configuration-file-in-node-js", "title": "Watch configuration file in node.js", "body": "<p>in current project <em>node-config</em> npm package is used to maintain node.js configuration.</p>\n\n<p>The issue i have is that I need to watch the file which is used by <em>node-config</em>, but according to documentation watch possibility is removed from this package.</p>\n\n<p>I tried to get the current used file from <em>node-config</em> package, but there is no such API.</p>\n\n<p>Could you please advise what is the best way I should proceed with? </p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["javascript", "facebook", "facebook-graph-api"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 975095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/105847fb4b26237626bacc6c80ef1954?s=128&d=identicon&r=PG", "display_name": "cara", "link": "https://stackoverflow.com/users/975095/cara"}, "edited": false, "score": 0, "creation_date": 1516321010, "post_id": 48321268, "comment_id": 83650398, "body": "Nice catch, but unfortunately fixing that still results in it not recognizing the access token."}, {"owner": {"reputation": 308, "user_id": 9086002, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zm5gtbIWGAs/AAAAAAAAAAI/AAAAAAAABI4/7Cq55B-Rrak/photo.jpg?sz=128", "display_name": "Patrick Lambe", "link": "https://stackoverflow.com/users/9086002/patrick-lambe"}, "reply_to_user": {"reputation": 31, "user_id": 975095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/105847fb4b26237626bacc6c80ef1954?s=128&d=identicon&r=PG", "display_name": "cara", "link": "https://stackoverflow.com/users/975095/cara"}, "edited": false, "score": 0, "creation_date": 1516363417, "post_id": 48321268, "comment_id": 83666529, "body": "If you console log the token and debug it at <a href=\"https://developers.facebook.com/tools/debug/accesstoken\" rel=\"nofollow noreferrer\">developers.facebook.com/tools/debug/accesstoken</a> does it provide anything helpful, or it says the token is valid? Do you have the specific message you receive when you say FB does not recognise the access token? Is it that the access token is missing, or a FB specific message about the token? Other thing I would suggest is appending the token to your <i>/me/photos?published=false</i> url and see if the post works, then we&#39;ll know its the appending of the token to the form that is causing the issue."}, {"owner": {"reputation": 31, "user_id": 975095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/105847fb4b26237626bacc6c80ef1954?s=128&d=identicon&r=PG", "display_name": "cara", "link": "https://stackoverflow.com/users/975095/cara"}, "edited": false, "score": 0, "creation_date": 1516407483, "post_id": 48321268, "comment_id": 83689393, "body": "It says that it&#39;s valid and when I added it to the end of the /me/photos url the error wasn&#39;t about the access token anymore, but changed to &#39;(#324) Requires upload file&#39;"}, {"owner": {"reputation": 308, "user_id": 9086002, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zm5gtbIWGAs/AAAAAAAAAAI/AAAAAAAABI4/7Cq55B-Rrak/photo.jpg?sz=128", "display_name": "Patrick Lambe", "link": "https://stackoverflow.com/users/9086002/patrick-lambe"}, "reply_to_user": {"reputation": 31, "user_id": 975095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/105847fb4b26237626bacc6c80ef1954?s=128&d=identicon&r=PG", "display_name": "cara", "link": "https://stackoverflow.com/users/975095/cara"}, "edited": false, "score": 0, "creation_date": 1516410286, "post_id": 48321268, "comment_id": 83689934, "body": "I see. If you change your source to either a publically available URL, or the path to the image file on your machine, rather than a blob, does that work? I haven&#39;t seen much documentation supporting blob uploads for Facebook API."}, {"owner": {"reputation": 31, "user_id": 975095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/105847fb4b26237626bacc6c80ef1954?s=128&d=identicon&r=PG", "display_name": "cara", "link": "https://stackoverflow.com/users/975095/cara"}, "edited": false, "score": 0, "creation_date": 1516822398, "post_id": 48321268, "comment_id": 83851217, "body": "Sorry for the late reply, got sidetracked with other aspects of this project. I didn&#39;t see any mention of blob in the official documentation (or really any example of how to do this) but I saw a few people online saying they had success using a blob with formData.  I don&#39;t think I can use the local path of the file, from what I read I think for security reasons you don&#39;t get the actual path from input file."}, {"owner": {"reputation": 308, "user_id": 9086002, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zm5gtbIWGAs/AAAAAAAAAAI/AAAAAAAABI4/7Cq55B-Rrak/photo.jpg?sz=128", "display_name": "Patrick Lambe", "link": "https://stackoverflow.com/users/9086002/patrick-lambe"}, "reply_to_user": {"reputation": 31, "user_id": 975095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/105847fb4b26237626bacc6c80ef1954?s=128&d=identicon&r=PG", "display_name": "cara", "link": "https://stackoverflow.com/users/975095/cara"}, "edited": false, "score": 0, "creation_date": 1516830060, "post_id": 48321268, "comment_id": 83855282, "body": "No worries. I just ran it through Postman there using a file on my laptop and it seemed to post fine to FB. Outputting the code to Javascript, added what comes out to the original post, might it may be of some help, sorry it mightn&#39;t be exactly what you&#39;re looking for, hopefully someone else can provide help if the above doesn&#39;t suffice."}], "tags": [], "owner": {"reputation": 308, "user_id": 9086002, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zm5gtbIWGAs/AAAAAAAAAAI/AAAAAAAABI4/7Cq55B-Rrak/photo.jpg?sz=128", "display_name": "Patrick Lambe", "link": "https://stackoverflow.com/users/9086002/patrick-lambe"}, "is_accepted": false, "score": 0, "last_activity_date": 1516829778, "last_edit_date": 1516829778, "creation_date": 1516278166, "answer_id": 48321268, "question_id": 48310404, "link": "https://stackoverflow.com/questions/48310404/facebook-graph-api-publish-picture-with-javascript/48321268#48321268", "title": "Facebook Graph API publish picture with Javascript", "body": "<p>Is it the extra colon you have after access_token in your first pictureData.append() call?</p>\n\n<p>pictureData.append('access_token:', this.state.FBaccessToken); \nversus\npictureData.append('access_token', this.state.FBaccessToken);</p>\n\n<p>Edit: Below is output from postman to post images referencing a file on my laptop</p>\n\n<pre><code>var form = new FormData();\nform.append(\"source\", \"/Users/patricklambe/images/test.jpg\");\nform.append(\"access_token\", \"PAGEACCESSTOKEN\");\nform.append(\"caption\", \"check this photo\");\n\nvar settings = {\n\"async\": true,\n\"crossDomain\": true,\n\"url\": \"https://graph.facebook.com/v2.11/444873272561515/photos\",\n\"method\": \"POST\",\n\"headers\": {\n\"cache-control\": \"no-cache\",\n\"postman-token\": \"1d786fec-c9b1-2494-1b5c-8fd0e2ea5ade\"\n},\n\"processData\": false,\n\"contentType\": false,\n\"mimeType\": \"multipart/form-data\",\n\"data\": form\n  }\n\n $.ajax(settings).done(function (response) {\n  console.log(response);\n});\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 975095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/105847fb4b26237626bacc6c80ef1954?s=128&d=identicon&r=PG", "display_name": "cara", "link": "https://stackoverflow.com/users/975095/cara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516829778, "creation_date": 1516225058, "last_edit_date": 1516237173, "question_id": 48310404, "link": "https://stackoverflow.com/questions/48310404/facebook-graph-api-publish-picture-with-javascript", "title": "Facebook Graph API publish picture with Javascript", "body": "<p>I'm using the Facebook Javascript SDK in my react app and I want to make a post with multiple photos. I know that that means I have to first post the pictures unpublished and then use the returned ids to make the post. </p>\n\n<p>However, I'm having trouble finding good documentation and running into issues figuring out how to allow a user select and post a local picture (not from a url). The code is a bit difficult to put all here, but here are the steps I'm taking and the errors I'm getting:</p>\n\n<ol>\n<li><p>Get file the user selected using a file input.</p></li>\n<li><p>Encode the picture as a blob and put that and the access token into FormData to use in the api request. </p>\n\n<pre><code>var reader = new FileReader();\n\nreader.onload = function(e) {\n    var arrayBuffer = e.target.result;\n\n    var blob = new Blob([arrayBuffer], { type: photo.type });\n\n    var pictureData = new FormData();\n    pictureData.append('access_token:', this.state.FBaccessToken);\n    pictureData.append('source', blob);\n\n    return pictureData;\n}.bind(this)\nreturn reader.readAsArrayBuffer(photo);\n</code></pre></li>\n<li><p>Do a post request </p>\n\n<pre><code>var encodedRequest = this.encodePhoto(photo);\n\nFB.api(\n    \"/me/photos?published=false\",  \n    \"POST\",\n    encodedRequest,\n    function (response) {\n      if (response &amp;&amp; !response.error) {\n        //once successfully gotten the photos add them to the array of photo ids\n        temp.push({\"media_fbid\": response.id});\n        console.log(response);\n      }\n      else {\n        alert(response.error.message);\n      }\n    }.bind(this)\n);\n</code></pre></li>\n</ol>\n\n<p>The error when I run it this way is that it doesn't seem to recognize the access token, but when I remove the access token from pictureData in step 2, and change the api encodedRequest part to this:</p>\n\n<pre><code>{\n    access_token: this.state.FBaccessToken,\n    source: encodedRequest,\n},\n</code></pre>\n\n<p>I get the error <em>\"(#324) Requires upload file\"</em>. I tried adding <code>fileUpload: true,</code> to the SDK init code but that also didn't seem to do anything. Posting simple text only statuses and reading from feed is all working fine.</p>\n\n<p>Sorry for the long post, but I'd be really grateful if anyone has any insight! Thanks. </p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 2, "creation_date": 1516225444, "post_id": 48310389, "comment_id": 83606698, "body": "I see by <code>.setRequestHeader(&quot;Access-Control-Allow-Origin&quot;, true</code> you think you can bypass CORS - no, the server sends the Access-Control-<b>ALLOW</b>-Origin - you can&#39;t tell the server to give you response it doesn&#39;t want to give you  - CORS is a mechanism to protect site owners from other site owners &quot;borrowing&quot; their resources. If it were as simple as saying &quot;oh, you will let me have that resource&quot;, then CORS would be pointless - see <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\" rel=\"nofollow noreferrer\">CORS documentation</a> to learn about CORS"}, {"owner": {"reputation": 133, "user_id": 8277459, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BGJoHSjY0T4/AAAAAAAAAAI/AAAAAAAAAMw/An9AavyEFpE/photo.jpg?sz=128", "display_name": "srikanth pasupuleti", "link": "https://stackoverflow.com/users/8277459/srikanth-pasupuleti"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1516226867, "post_id": 48310389, "comment_id": 83607317, "body": "I agree, It&#39;s pointless but the actual issue still persists with or without that."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1516227083, "post_id": 48310389, "comment_id": 83607418, "body": "Yes, the problem does persist because CORS can&#39;t be bypassed like that. CORS protects websites resources from being &quot;borrowed&quot; by other websites - perhaps &quot;box.com&quot; has an API you can use that ALLOWS you to &quot;borrow&quot; their resources. Or, failing that, you&#39;ll need to &quot;proxy&quot; your requests to &quot;box.com&quot; via your own server, thereby removing the CORS issue altogether"}, {"owner": {"reputation": 133, "user_id": 8277459, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BGJoHSjY0T4/AAAAAAAAAAI/AAAAAAAAAMw/An9AavyEFpE/photo.jpg?sz=128", "display_name": "srikanth pasupuleti", "link": "https://stackoverflow.com/users/8277459/srikanth-pasupuleti"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1516228184, "post_id": 48310389, "comment_id": 83607887, "body": "CORS issue was taken care of. We have a middleware system which fetches file from box.com. So for us, middleware is the server to be contacted and we have tested this with rest client &quot;Postman tool&quot; successfully. But with java-script (which is running from secured server), couldn&#39;t succeed. Attached is what I am seeing in console after a minute or two since request is made."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1516228457, "post_id": 48310389, "comment_id": 83607976, "body": "<code>CORS issue was taken care of.</code> then why are you sending CORS response headers in the request? <code>tested this with rest client &quot;Postman tool&quot;</code> Postman isn&#39;t subject to CORS anyway. <code>Attached is what I am seeing in console after a minute or two</code> a timeout issue perhaps? I take it <code>URL</code> in <code>xhr.open(&#39;POST&#39;, URL, true);</code> is <b>same origin</b> then"}, {"owner": {"reputation": 133, "user_id": 8277459, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BGJoHSjY0T4/AAAAAAAAAAI/AAAAAAAAAMw/An9AavyEFpE/photo.jpg?sz=128", "display_name": "srikanth pasupuleti", "link": "https://stackoverflow.com/users/8277459/srikanth-pasupuleti"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1516228738, "post_id": 48310389, "comment_id": 83608109, "body": "Yes, please ignore CORS response header in the request. I happened to copy-paste unrefined version but actual core logic is same. I tried to fetch very small file (just few KBs) to validate the time-out factor, but no luck. I apologize for making it not clear, please let me know if there is any way to handle (confirm) timeout issue."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1516228805, "post_id": 48310389, "comment_id": 83608142, "body": "is <code>this.readyState == 4 &amp;&amp; this.status === 200</code> ever true? if not, then there&#39;s nothing more I can help with"}, {"owner": {"reputation": 133, "user_id": 8277459, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BGJoHSjY0T4/AAAAAAAAAAI/AAAAAAAAAMw/An9AavyEFpE/photo.jpg?sz=128", "display_name": "srikanth pasupuleti", "link": "https://stackoverflow.com/users/8277459/srikanth-pasupuleti"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1516338831, "post_id": 48310389, "comment_id": 83654154, "body": "Thank you Jaromanda!, you were right about &quot;proxy&quot; request to remove CORS issue altogether and we did that. I have verified this again after reading your comments and found that the library files in the proxy are parsing requests and responses to JSON. But for file upload and download, it has to be single object (multi-form data) instead of JSON. Appreciate your help on this!"}], "owner": {"reputation": 133, "user_id": 8277459, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BGJoHSjY0T4/AAAAAAAAAAI/AAAAAAAAAMw/An9AavyEFpE/photo.jpg?sz=128", "display_name": "srikanth pasupuleti", "link": "https://stackoverflow.com/users/8277459/srikanth-pasupuleti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 263, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1516255093, "creation_date": 1516225003, "last_edit_date": 1516255093, "question_id": 48310389, "link": "https://stackoverflow.com/questions/48310389/how-to-receive-binary-file-as-response-and-render-file-using-javascript", "title": "How to receive binary file as response and render file using javascript?", "body": "<p><a href=\"https://i.stack.imgur.com/j9u18.png\" rel=\"nofollow noreferrer\">enter image description here</a>We have a service that interacts with box.com and returns a file in binary format.</p>\n\n<p>I am trying to hit that service from java-script to get binary file and render/dowload as actual file using below code but no response is being received (I have verified that service is returning the response).<br>\nConsole logs are blank.<br>\nAny help is greatly appreciated.</p>\n\n<pre><code>&lt;h1&gt;File Download&lt;/h1&gt;\n&lt;button type=\"button\" onclick=\"loadDoc()\"&gt;Download&lt;/button&gt;\n&lt;p id=\"demo\"&gt;&lt;/p&gt;\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>function loadDoc() {\n    var xhr = new XMLHttpRequest();\n    xhr.open('POST', URL, true);\n    xhr.setRequestHeader(\"Content-type\", \"application/json\");\n    xhr.setRequestHeader(\"Authorization\", \"Basic xxcxcsdfdfdferererer=\");\n    //xhr.setRequestHeader(\"Access-Control-Allow-Origin\", true);\n    xhr.responseType = 'arraybuffer';\n    xhr.send(JSON.stringify({projects: [{id: \"xxxxxx\", fileId: \"1234456566\"}]}));\n    xhr.onreadystatechange = function () {\n        if (this.readyState == 4 &amp;&amp; this.status === 200) {\n            var filename = \"\";\n            var disposition = xhr.getResponseHeader('Content-Disposition');\n            if (disposition &amp;&amp; disposition.indexOf('attachment') !== -1) {\n                var filenameRegex = /filename[^;=\\n]*=((['\"]).*?\\2|[^;\\n]*)/;\n                var matches = filenameRegex.exec(disposition);  \n                if (matches != null &amp;&amp; matches[1]) filename = matches[1].replace(/['\"]/g, '');\n            }\n            var type = xhr.getResponseHeader('Content-Type');\n            var blob = typeof File === 'function' ? new File([this.response], filename, { type: type }) : new Blob([this.response], { type: type });\n            if (typeof window.navigator.msSaveBlob !== 'undefined') {\n                // IE workaround for \"HTML7007: One or more blob URLs were revoked by closing the blob for which they were created. These URLs will no longer resolve as the data backing the URL has been freed.\"\n                window.navigator.msSaveBlob(blob, filename);\n            } else {\n                var URL = window.URL || window.webkitURL;\n                var downloadUrl = URL.createObjectURL(blob);\n                if (filename) {\n                    // use HTML5 a[download] attribute to specify filename\n                    var a = document.createElement(\"a\");\n                    // safari doesn't support this yet\n                    if (typeof a.download === 'undefined') {\n                        window.location = downloadUrl;\n                    } else {\n                        a.href = downloadUrl;\n                        a.download = filename;\n                        document.body.appendChild(a);\n                        a.click();\n                    }\n                } else {\n                    window.location = downloadUrl;\n                }\n                setTimeout(function () { URL.revokeObjectURL(downloadUrl); }, 100); // cleanup\n            }\n        }\n    };\n}\n</code></pre>\n"}, {"tags": ["javascript", "image", "google-chrome", "printing", "src"], "comments": [{"owner": {"reputation": 1033, "user_id": 4581785, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-elxd7lBZZU8/AAAAAAAAAAI/AAAAAAAAATU/ii4FtQn4CNs/photo.jpg?sz=128", "display_name": "Marcus Parsons", "link": "https://stackoverflow.com/users/4581785/marcus-parsons"}, "edited": false, "score": 1, "creation_date": 1516225054, "post_id": 48310370, "comment_id": 83606535, "body": "Given what I see from your new HTML, you are missing a &quot; quote that ends your style attribute, so it should be this: <code>&lt;img  style=&quot;margin-left: auto; margin-right:auto;&quot; src=&quot;LogoUp.png&quot; &gt;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "is_accepted": false, "score": 0, "last_activity_date": 1516387898, "last_edit_date": 1516387898, "creation_date": 1516246265, "answer_id": 48313391, "question_id": 48310370, "link": "https://stackoverflow.com/questions/48310370/chrome-print-dialog-not-showing-or-src-failure/48313391#48313391", "title": "Chrome print dialog not showing or src failure", "body": "<p>I've made more research and I've discovered a great solution without the need for a popup tab. The magic was made by <code>iFrame</code>. An empty one:</p>\n\n<pre><code>&lt;iframe id=\"luck\" style=\"border:none;\" &gt;\n&lt;/iframe&gt;\n</code></pre>\n\n<p>In other point, I've placed the content to be printed (with images)</p>\n\n<pre><code>&lt;div class=\"printer\" style=\"margin:0; padding:0; display:none\"&gt; \n...\n&lt;/div&gt;\n</code></pre>\n\n<p>Display is set with \"none\" (since I don't want to display that content on the page).</p>\n\n<p>The print code is below in just 2 lines (long ones):</p>\n\n<pre><code>function procPrint() {\n  document.getElementById(\"luck\").contentDocument.body.innerHTML =    \n    document.getElementsByClassName('printer')[0].innerHTML;\n  setTimeout(function() {luck.contentWindow.print();},10); \n   // just 10 ms waiting time is enough, \n   //  maybe complex content demands more.\n} \n</code></pre>\n\n<p><strong>Advantages:</strong></p>\n\n<ul>\n<li>No popup. <code>Cancel</code> or <code>OK</code> resumes the original page.</li>\n<li>Print dialog is not missing. No tab to be changed. </li>\n</ul>\n\n<p><strong>Disadvantages:</strong></p>\n\n<ul>\n<li>Rendering of innerHTML assignment demands <code>setTimeout</code> use. </li>\n<li><code>Firefox</code> does not give an error, but the printing does not work. My goal is just a prototype. So for me, I'm ok.    </li>\n</ul>\n\n<p>-/-</p>\n\n<p>I did not testing the <code>src</code> bug (correct string don't display the image) with DOM assignments. </p>\n\n<p>I'm satisfied with what I got. I hope it will be useful for someone.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>I've discovered that <code>iFrame</code> printing ignores completely CSS resources like a printing CSS file:</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/print.css\" media=\"print\" /&gt;\n</code></pre>\n\n<p>or <code>@media print</code> specs inside a CSS file like:</p>\n\n<pre><code>@media print {\n   body { font-size: 14pt }\n}\n</code></pre>\n\n<p>It occurs because logically the frame is another document. So the style needs to be attached in the HTML that will be cloned inside <code>iFrame</code> or it's possible includes css file dinamically in the child after cloning HTML inside the <code>iFrame</code> (see <a href=\"https://stackoverflow.com/questions/217776/how-to-apply-css-to-iframe\">here</a>). </p>\n\n<p>My brain understand the logic, but it's weird: If you puts a style in the HTML printing source it works, but if you use the class name in the CSS file, it changes the clone source but not in the cloned nodes. </p>\n\n<p>If one needs to change or set the background color (or image) in the printing, changes directly in the body iframe. One specifies background color in the cointaner doesn't make the work. </p>\n\n<p>In this case, add the below line in <code>procPrint</code> function above. </p>\n\n<pre><code>d.style.backgroundColor  = \"#FF0000\";  \n</code></pre>\n\n<p><strong>Update 2</strong>\nFor invisible <code>iFrame</code> on the screen uses:</p>\n\n<pre><code>@media screen{    \n    .printonly, .printonly *  {\n        display: none !important;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 868, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516387898, "creation_date": 1516224905, "last_edit_date": 1516234062, "question_id": 48310370, "link": "https://stackoverflow.com/questions/48310370/chrome-print-dialog-not-showing-or-src-failure", "title": "Chrome print dialog not showing or src failure", "body": "<p>I want to print a different content from my web page that includes an image. So is my JavaScript code: </p>\n\n<pre><code>function print() {\n var w = window.open();  \n w.document.write(....);  \n    //  time for rendering images\n setTimeout(function () { w.print();  w.close();},10);\n}\n</code></pre>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Google_Chrome\" rel=\"nofollow noreferrer\">Google Chrome</a> shows a new tab, with no print dialog. When I exit the tab and return it, the print dialog shows! </p>\n\n<p>When I take out the 10 ms timeout, it not shows my image (there is no time for rendering the image), but the dialog shows instantly.</p>\n\n<p>Maybe, someone will tell me: Creates HTML using DOM functions like <code>createElement</code> and <code>appendChild</code>. So you don't need rendering time and it is neater.</p>\n\n<p>Therefore I did an alternative with whole HTML content created from scratch </p>\n\n<p>I've used the <code>src</code> dinamic assigment for my image</p>\n\n<pre><code>ele.setAttribute(\"src\",\"LogoUp.png\"); // ele is an image element\n</code></pre>\n\n<p>instead using a static HTML with <strong>same src value</strong></p>\n\n<pre><code>&lt;img id=\"header\" style=\"margin-left: auto;\n    margin-right:auto;\" src=\"LogoUp.png\" &gt;\n</code></pre>\n\n<p>PS: <em>My Chrome is updated (v.63)</em></p>\n\n<p>Now there is no need for rendering time and I can extract the <code>setTimeout</code> function call, however the image is not loading. It's very weird. I saw it in the <a href=\"https://developer.chrome.com/devtools\" rel=\"nofollow noreferrer\">Chrome DevTools</a>, the  official Chrome debugger tool. It shows a right string, but no image is pointed. </p>\n\n<p>I'm using a local computer with Windows 7 and the image is in the same directory as the html source. </p>\n\n<p>So I'm crazy ...</p>\n\n<p><strong>Update</strong>:<br>\nI also have tried, with no success: (I also saw the html in <code>Chrome DevTools</code> )</p>\n\n<pre><code> c.appendChild(document.getElementById(\"header\").cloneNode(true))\n// where c is the image's parent element \n</code></pre>\n\n<p>It's amazing because the original image works, when using <code>innerHTML</code></p>\n"}, {"tags": ["javascript", "html", "arrays", "user-interface"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1516225013, "post_id": 48310337, "comment_id": 83606519, "body": "Please get in the habit of putting semicolons at the end of each statement. ASI can easily produce unexpected results."}, {"owner": {"reputation": 1253, "user_id": 4733879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5iiSX.png?s=128&g=1", "display_name": "Filnor", "link": "https://stackoverflow.com/users/4733879/filnor"}, "edited": false, "score": 0, "creation_date": 1516225075, "post_id": 48310337, "comment_id": 83606544, "body": "You may remove that Amazon link to the Book, as it can be percieved as spam. Also, i think mentioning the name and the author is enought information for people actually interested in buying it"}, {"owner": {"reputation": 366, "user_id": 5527137, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7e3ca3c50dab114128c38c4d97963faf?s=128&d=identicon&r=PG&f=1", "display_name": "Leafyshark", "link": "https://stackoverflow.com/users/5527137/leafyshark"}, "edited": false, "score": 0, "creation_date": 1516225434, "post_id": 48310337, "comment_id": 83606690, "body": "Done! My apologies"}, {"owner": {"reputation": 33954, "user_id": 49478, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6c42283aeb1521ae0e27bd41b7fdb227?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/49478/anthony"}, "edited": false, "score": 0, "creation_date": 1516226316, "post_id": 48310337, "comment_id": 83607071, "body": "You will make your life much easier if you change those input classes to IDs. Easier to select and also more correct (since you&#39;ll only have one occurrence of &quot;principal&quot;, etc)"}, {"owner": {"reputation": 33954, "user_id": 49478, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6c42283aeb1521ae0e27bd41b7fdb227?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/49478/anthony"}, "edited": false, "score": 0, "creation_date": 1516226430, "post_id": 48310337, "comment_id": 83607125, "body": "Also, while not totally implemented in all browsers, HTML 5 has an element <code>output</code> that would be ideal for your usecase. Instead of just a div."}], "answers": [{"tags": [], "owner": {"reputation": 132, "user_id": 6922184, "user_type": "registered", "profile_image": "https://graph.facebook.com/1395223827157742/picture?type=large", "display_name": "Yurii Kovalenko", "link": "https://stackoverflow.com/users/6922184/yurii-kovalenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1516225239, "creation_date": 1516225239, "answer_id": 48310445, "question_id": 48310337, "link": "https://stackoverflow.com/questions/48310337/javascript-is-there-any-way-without-using-html-event-attributes-to-get-3-dif/48310445#48310445", "title": "JavaScript - is there any way (without using html event attributes) to get 3 different input values to contribute towards a sum?", "body": "<p>Create function to calculate, and call this function instead of just executing some code. Something like that:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var principal = document.getElementsByClassName(\"principal\")\r\nvar percentage = document.getElementsByClassName(\"percentage\")\r\nvar time = document.getElementsByClassName(\"time\")\r\nvar output = document.querySelector(\"#result\")\r\nvar result\r\nvar newResult\r\nvar finalOutput\r\n\r\nvar calculate = () =&gt; {\r\n  var newPrincipal = principal[0].value;\r\n  result = newPrincipal\r\n  var newPercentage = percentage[0].value\r\n  newResult = result * (newPercentage / 100)\r\n  var newTime = time[0].value\r\n  finalOutput = (newResult * newTime) + Number(result)\r\n}\r\n\r\ndocument.addEventListener('input', function (event) {\r\n\r\n    if ( event.target.classList.contains( 'principal' ) ) {\r\n        calculate();\r\n    }\r\n\r\n    if ( event.target.classList.contains( 'percentage' ) ) {\r\n        calculate();\r\n    }\r\n\r\n    if ( event.target.classList.contains( 'time' ) ) {\r\n        calculate();\r\n    }\r\n\r\n    output.innerHTML = `${finalOutput ? finalOutput : \"\"}`\r\n}, false);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1516225647, "creation_date": 1516225647, "answer_id": 48310542, "question_id": 48310337, "link": "https://stackoverflow.com/questions/48310337/javascript-is-there-any-way-without-using-html-event-attributes-to-get-3-dif/48310542#48310542", "title": "JavaScript - is there any way (without using html event attributes) to get 3 different input values to contribute towards a sum?", "body": "<p>You need to get the values of all the inputs, not just the one that the user is currently typing in. Define a single function that does this, and add it as an event listener for all 3 inputs.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var principal = document.querySelector(\".principal\");\r\nvar percentage = document.querySelector(\".percentage\");\r\nvar time = document.querySelector(\".time\");\r\nvar output = document.querySelector(\"#result\");\r\n\r\nfunction calcInterest() {\r\n  var newPrincipal = parseFloat(principal.value);\r\n  var newPercentage = parseFloat(percentage.value);\r\n  var newTime = parseFloat(time.value);\r\n  if (!isNaN(newPrincipal) &amp;&amp; !isNaN(newPercentage) &amp;&amp; !isNaN(newTime)) {\r\n    var result = newPrincipal + newTime * newPrincipal * newPercentage / 100;\r\n    output.textContent = result;\r\n  }\r\n}\r\n\r\nprincipal.addEventListener(\"input\", calcInterest);\r\npercentage.addEventListener(\"input\", calcInterest);\r\ntime.addEventListener(\"input\", calcInterest);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;label for=\"principal\"&gt;Principal&lt;/label&gt;\r\n&lt;input type=\"number\" class=\"principal\" style=\"border-color: black;\"&gt;&lt;br&gt;\r\n\r\n&lt;label for=\"percentage\"&gt;Percentage&lt;/label&gt;\r\n&lt;input type=\"number\" class=\"percentage\" style=\"border-color: black;\"&gt;&lt;br&gt;\r\n\r\n&lt;label for=\"time\"&gt;Time&lt;/label&gt;\r\n&lt;input type=\"number\" class=\"time\" style=\"border-color: black;\"&gt;&lt;br&gt; Result:\r\n&lt;div id=\"result\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 366, "user_id": 5527137, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7e3ca3c50dab114128c38c4d97963faf?s=128&d=identicon&r=PG&f=1", "display_name": "Leafyshark", "link": "https://stackoverflow.com/users/5527137/leafyshark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 48310542, "answer_count": 2, "score": 0, "last_activity_date": 1516225647, "creation_date": 1516224784, "last_edit_date": 1516225285, "question_id": 48310337, "link": "https://stackoverflow.com/questions/48310337/javascript-is-there-any-way-without-using-html-event-attributes-to-get-3-dif", "title": "JavaScript - is there any way (without using html event attributes) to get 3 different input values to contribute towards a sum?", "body": "<p>I am completing the 57 programming exercises book by Brian P. Hogan.</p>\n\n<p>With most of these exercises, I've tried to develop a GUI.</p>\n\n<p>In the following exercise, I want to calculate the Simple Interest of a Principal value over a period of years. Simply put:</p>\n\n<pre><code>var yearlyInterest = Principal * (Percentage(whole number) /= 100)\n\n(yearlyInterest * numberOfYears) + Principal\n\n// outputs total amount at the end of investment over a period of however many years\n</code></pre>\n\n<p>As you can see in the example above, there are three core inputs - Principal, Percentage and Time.</p>\n\n<p>When creating the graphical user interface, I am struggling to get all of these core inputs to calculate the result simultaneously.</p>\n\n<p>The following code only manages to calculate the result once I enter the number for the Time input. (excuse my poor coding skills i.e. global variables, I'm only up to exercise 12!)</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n    &lt;label for=\"principal\"&gt;Principal&lt;/label&gt;\n    &lt;input type=\"number\" class=\"principal\" style=\"border-color: black;\"&gt;\n\n    &lt;label for=\"percentage\"&gt;Percentage&lt;/label&gt;\n    &lt;input type=\"number\" class=\"percentage\" style=\"border-color: black;\"&gt;\n\n    &lt;label for=\"time\"&gt;Time&lt;/label&gt;\n    &lt;input type=\"number\" class=\"time\" style=\"border-color: black;\"&gt;\n\n    &lt;div id=\"result\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;script src=\"simpleInterest.js\"&gt;&lt;/script&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>JS</strong></p>\n\n<pre><code>var principal = document.getElementsByClassName(\"principal\");\nvar percentage = document.getElementsByClassName(\"percentage\");\nvar time = document.getElementsByClassName(\"time\");\nvar output = document.querySelector(\"#result\");\nvar result;\nvar newResult;\nvar finalOutput;\n\ndocument.addEventListener('input', function (event) {\n\n    if ( event.target.classList.contains( 'principal' ) ) {\n        var newPrincipal = principal[0].value;\n        result = newPrincipal;\n    }\n\n    if ( event.target.classList.contains( 'percentage' ) ) {\n        var newPercentage = percentage[0].value;\n        newResult = result * (newPercentage / 100);\n    }\n\n    if ( event.target.classList.contains( 'time' ) ) {\n        var newTime = time[0].value;\n        finalOutput = (newResult * newTime) + Number(result);\n    }\n\n    output.innerHTML = `${finalOutput ? finalOutput : \"\"}`\n}, false);\n</code></pre>\n\n<p>Could somebody please show me an effective way to simultaneously calculate something based on each input event and output it using the .innerHTML method?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "plot", "chart.js", "chartjs-2.6.0"], "answers": [{"tags": [], "owner": {"reputation": 65, "user_id": 6036187, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/10156647229630646/picture?type=large", "display_name": "JooJoo1020", "link": "https://stackoverflow.com/users/6036187/joojoo1020"}, "is_accepted": false, "score": 1, "last_activity_date": 1516226226, "creation_date": 1516226226, "answer_id": 48310671, "question_id": 48310336, "link": "https://stackoverflow.com/questions/48310336/chartjs-force-scatter-plot-to-be-square-shaped/48310671#48310671", "title": "ChartJs Force scatter plot to be square shaped", "body": "<p>Just found it : \njust add aspectRatio: 1 to options </p>\n"}, {"tags": [], "owner": {"reputation": 136, "user_id": 1653911, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/512efbf8d670962c7c2807fb43001b43?s=128&d=identicon&r=PG", "display_name": "ilhank", "link": "https://stackoverflow.com/users/1653911/ilhank"}, "is_accepted": false, "score": 5, "last_activity_date": 1537268206, "creation_date": 1537268206, "answer_id": 52385012, "question_id": 48310336, "link": "https://stackoverflow.com/questions/48310336/chartjs-force-scatter-plot-to-be-square-shaped/52385012#52385012", "title": "ChartJs Force scatter plot to be square shaped", "body": "<p>in dataset you can set the pointStyle.</p>\n\n<pre><code>      datasets: [{pointStyle:'rect'}]\n</code></pre>\n\n<p>for the other <a href=\"https://www.chartjs.org/docs/latest/configuration/elements#point-styles\" rel=\"noreferrer\">types</a></p>\n"}], "owner": {"reputation": 65, "user_id": 6036187, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/10156647229630646/picture?type=large", "display_name": "JooJoo1020", "link": "https://stackoverflow.com/users/6036187/joojoo1020"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1308, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1537268206, "creation_date": 1516224781, "question_id": 48310336, "link": "https://stackoverflow.com/questions/48310336/chartjs-force-scatter-plot-to-be-square-shaped", "title": "ChartJs Force scatter plot to be square shaped", "body": "<p>I am trying to create a scatter plot where XAxes and YAxes is the same scale and size. \nThe plot will become a square with identical Axes.\nTherefore if the data be {x:0, y:0}, {x:100, y:100}\nit draws a diagonal (45 degrees) line. I am plotting  A vs. B and the rectangular shape of the plot is confusing. </p>\n\n<p>The max values are known ahead of time. </p>\n"}, {"tags": ["javascript", "if-statement"], "comments": [{"owner": {"reputation": 1255, "user_id": 4487722, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kmSctpPZ0c8/AAAAAAAAAAI/AAAAAAAAFcs/RxGumDzqqwU/photo.jpg?sz=128", "display_name": "Rafael Quintanilha", "link": "https://stackoverflow.com/users/4487722/rafael-quintanilha"}, "edited": false, "score": 1, "creation_date": 1516224835, "post_id": 48310328, "comment_id": 83606431, "body": "You have a typo in the <code>else if</code>. <code>coulour</code> instead of <code>colour</code>."}], "answers": [{"tags": [], "owner": {"reputation": 132, "user_id": 6922184, "user_type": "registered", "profile_image": "https://graph.facebook.com/1395223827157742/picture?type=large", "display_name": "Yurii Kovalenko", "link": "https://stackoverflow.com/users/6922184/yurii-kovalenko"}, "is_accepted": true, "score": 0, "last_activity_date": 1516224867, "creation_date": 1516224867, "answer_id": 48310361, "question_id": 48310328, "link": "https://stackoverflow.com/questions/48310328/negative-number-test-always-fails/48310361#48310361", "title": "Negative number test always fails", "body": "<p>Typo? <code>this.colour</code> is not same to <code>this.coulour</code></p>\n"}], "owner": {"reputation": 41, "user_id": 8784834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YjBR9.jpg?s=128&g=1", "display_name": "Fum&#233;e Noire", "link": "https://stackoverflow.com/users/8784834/fum%c3%a9e-noire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 48310361, "answer_count": 1, "score": 0, "last_activity_date": 1516224867, "creation_date": 1516224744, "question_id": 48310328, "link": "https://stackoverflow.com/questions/48310328/negative-number-test-always-fails", "title": "Negative number test always fails", "body": "<p>I'm running some javascript using p5.js and I'm stuck with these two conditions :</p>\n\n<pre><code>if( this.colour &gt;= 255 )\n        this.up = false;\n    else if( this.coulour &lt; 0 ){\n        console.log(\"Ca yest !\");\n        this.up = true;\n    }\n</code></pre>\n\n<p>and here is my problem : the following line never evaluates to true, even if this.colour is negative</p>\n\n<pre><code>else if( this.colour &lt; 0 )\n</code></pre>\n\n<p>Where is my error ? thanks alot</p>\n"}, {"tags": ["javascript", "arrays", "json", "sorting"], "comments": [{"owner": {"reputation": 3307, "user_id": 2266827, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Frcc8.png?s=128&g=1", "display_name": "jeffdill2", "link": "https://stackoverflow.com/users/2266827/jeffdill2"}, "edited": false, "score": 0, "creation_date": 1516224492, "post_id": 48310238, "comment_id": 83606295, "body": "Please show us what you&#39;ve tried so far that isn&#39;t working for you."}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 1, "creation_date": 1516225510, "post_id": 48310238, "comment_id": 83606729, "body": "Most important tag is missing <code>javascript</code>. Secondly, it seems the sorting has nothing to do with your question... why even mention it?"}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1516225990, "post_id": 48310238, "comment_id": 83606926, "body": "&quot;an object in JSON format&quot; --- there is no such thing, it&#39;s just a JS object."}, {"owner": {"reputation": 149, "user_id": 332746, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3fcc0afec14c1fc37e0f1e26ef2fcda2?s=128&d=identicon&r=PG", "display_name": "Chris G.", "link": "https://stackoverflow.com/users/332746/chris-g"}, "reply_to_user": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1516226000, "post_id": 48310238, "comment_id": 83606930, "body": "@trincot: Good point.I was originally thinking I could sort/filter in one go. It appears I should first sort, then filter.."}], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 332746, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3fcc0afec14c1fc37e0f1e26ef2fcda2?s=128&d=identicon&r=PG", "display_name": "Chris G.", "link": "https://stackoverflow.com/users/332746/chris-g"}, "edited": false, "score": 0, "creation_date": 1516227008, "post_id": 48310693, "comment_id": 83607379, "body": "Most helpful, sir! Much appreciated!"}], "tags": [], "owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "is_accepted": true, "score": 1, "last_activity_date": 1516227099, "last_edit_date": 1516227099, "creation_date": 1516226319, "answer_id": 48310693, "question_id": 48310238, "link": "https://stackoverflow.com/questions/48310238/filter-and-sort-json-formatted-object/48310693#48310693", "title": "Filter and sort JSON formatted object?", "body": "<p>As you know how to sort the array, I will just focus on the filter. You can use <code>reduce</code> for that and a helper object to maintain values keyed by UserUD. A Map would also work, but plain objects have an advantage of producing values in the order of increasing keys when they are non-negative integers.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const oUserColors = { \"users\": [{ \"UserID\": 31, \"Color\": \"Red\" },{ \"UserID\": 30, \"Color\": \"Red\" },{ \"UserID\": 32, \"Color\": \"Green\" },{ \"UserID\": 30, \"Color\": \"Green\" },{ \"UserID\": 32, \"Color\": \"Red\" }]};\r\n\r\nconst result = Object.values(oUserColors.users.reduce( (acc, obj) =&gt; {\r\n    const prev = acc[obj.UserID];\r\n    if (!prev || prev.Color === 'Red') {\r\n        acc[obj.UserID] = obj;\r\n    }\r\n    return acc;\r\n}, {}));\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The idea is to build an object (<code>acc</code>) with only the values of interest, keyed by UserID. If you find that during this collection there is no value yet for a UserID, you add it. If there is a value, and it has colour Red, then it is safe to replace it with the current object.</p>\n\n<p>With <code>Object.values()</code> you convert that object back to an Array.</p>\n\n<p>As it happens that JavaScript in all common browsers will produce the values in order of numerical key order (if non-negative integers), the output will be sorted.</p>\n"}], "owner": {"reputation": 149, "user_id": 332746, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3fcc0afec14c1fc37e0f1e26ef2fcda2?s=128&d=identicon&r=PG", "display_name": "Chris G.", "link": "https://stackoverflow.com/users/332746/chris-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 48310693, "answer_count": 1, "score": 0, "last_activity_date": 1516227099, "creation_date": 1516224347, "last_edit_date": 1516225602, "question_id": 48310238, "link": "https://stackoverflow.com/questions/48310238/filter-and-sort-json-formatted-object", "title": "Filter and sort JSON formatted object?", "body": "<p>Lets say I've got an object in JSON format (like below) and I want to sort it by UserID</p>\n\n<pre><code>oUserColors = { \"users\": [\n    { \"UserID\": 31, \"Color\": \"Red\" },\n    { \"UserID\": 30, \"Color\": \"Red\" },\n    { \"UserID\": 32, \"Color\": \"Green\" },\n    { \"UserID\": 30, \"Color\": \"Green\" },\n    { \"UserID\": 32, \"Color\": \"Red\" }\n ] };\n</code></pre>\n\n<p>I can easily use the following function to do so.</p>\n\n<pre><code>objSortedUserColors = oUserColors.users.sort(function (a, b) {\n        return b.UserID - a.UserID; // sort oUserColors.users in descending order.\n });\n</code></pre>\n\n<p>which would give me this...</p>\n\n<pre><code> objSortedUserColors = { \"users\": [\n    { \"UserID\": 32, \"Color\": \"Red\" },\n    { \"UserID\": 32, \"Color\": \"Green\" },\n    { \"UserID\": 31, \"Color\": \"Red\" },\n    { \"UserID\": 30, \"Color\": \"Red\" },\n    { \"UserID\": 30, \"Color\": \"Green\" }\n ] };\n</code></pre>\n\n<p>But what if I want to also filter the object by color such that, if a user has both red and green as their color, the red gets removed and only the green remains. But if the user only has red as their color, it stays. Resulting in something like this...</p>\n\n<pre><code> objFilteredSortedUserColors = { \"users\": [\n    { \"UserID\": 32, \"Color\": \"Green\" },\n    { \"UserID\": 31, \"Color\": \"Red\" },\n    { \"UserID\": 30, \"Color\": \"Green\" }\n ] };\n</code></pre>\n\n<p>I'm stuck. Any suggestions would be greatly appreciated!</p>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 4632, "user_id": 5267669, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hhtof.jpg?s=128&g=1", "display_name": "eltonkamami", "link": "https://stackoverflow.com/users/5267669/eltonkamami"}, "edited": false, "score": 0, "creation_date": 1516224533, "post_id": 48310220, "comment_id": 83606312, "body": "is enabling multiple selection for the select element an option?"}, {"owner": {"reputation": 397, "user_id": 7555048, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Yfcdl.jpg?s=128&g=1", "display_name": "Nouman", "link": "https://stackoverflow.com/users/7555048/nouman"}, "reply_to_user": {"reputation": 4632, "user_id": 5267669, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hhtof.jpg?s=128&g=1", "display_name": "eltonkamami", "link": "https://stackoverflow.com/users/5267669/eltonkamami"}, "edited": false, "score": 0, "creation_date": 1516224729, "post_id": 48310220, "comment_id": 83606390, "body": "No, not really. You should only be able to select one item from each of the select boxes."}, {"owner": {"reputation": 32441, "user_id": 2324107, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EWs62.jpg?s=128&g=1", "display_name": "Karl-Andr&#233; Gagnon", "link": "https://stackoverflow.com/users/2324107/karl-andr%c3%a9-gagnon"}, "edited": false, "score": 2, "creation_date": 1516224930, "post_id": 48310220, "comment_id": 83606472, "body": "You could name the select to <code>employees[]</code> and you&#39;ll have an array server side."}, {"owner": {"reputation": 397, "user_id": 7555048, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Yfcdl.jpg?s=128&g=1", "display_name": "Nouman", "link": "https://stackoverflow.com/users/7555048/nouman"}, "reply_to_user": {"reputation": 32441, "user_id": 2324107, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EWs62.jpg?s=128&g=1", "display_name": "Karl-Andr&#233; Gagnon", "link": "https://stackoverflow.com/users/2324107/karl-andr%c3%a9-gagnon"}, "edited": false, "score": 0, "creation_date": 1516225137, "post_id": 48310220, "comment_id": 83606571, "body": "Want to make that an answer @Karl-Andr&#233;Gagnon? Worked for me!!"}, {"owner": {"reputation": 32441, "user_id": 2324107, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EWs62.jpg?s=128&g=1", "display_name": "Karl-Andr&#233; Gagnon", "link": "https://stackoverflow.com/users/2324107/karl-andr%c3%a9-gagnon"}, "edited": false, "score": 0, "creation_date": 1516225523, "post_id": 48310220, "comment_id": 83606736, "body": "@Nouman I did, glad it helped you!"}], "answers": [{"tags": [], "owner": {"reputation": 19230, "user_id": 1444609, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/bgWmu.jpg?s=128&g=1", "display_name": "I wrestled a bear once.", "link": "https://stackoverflow.com/users/1444609/i-wrestled-a-bear-once"}, "is_accepted": false, "score": 2, "last_activity_date": 1516225264, "creation_date": 1516225264, "answer_id": 48310450, "question_id": 48310220, "link": "https://stackoverflow.com/questions/48310220/increment-name-tag-for-cloned-elements/48310450#48310450", "title": "Increment name tag for cloned elements", "body": "<p>Don't worry about changing the name, you can and should use an array for the name, but you should worry about the id, since ids must be unique and you are cloning elements without changing the id of the new element.</p>\n\n<p>By adding the <code>[]</code> to the input name it will be sent to the server as an array, for example, if you're using PHP you can get them from <code>$_GET['employees']</code> which will be an array you can loop thru.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function() {\r\n    $(\"#addMore\").click(function(e) {\r\n        var newSelect = $('select[name=\"employees[]\"]:first').clone();\r\n        $(\"#select-employees\").append(\"&lt;br&gt;\");\r\n        $(\"#select-employees\").append(newSelect);\r\n     });\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"employees-div\"&gt;\r\n&lt;label for=\"employees\"&gt;Employee(s)&lt;/label&gt;\r\n&lt;div class=\"select-wrapper\" id=\"select-employees\"&gt;\r\n\r\n    &lt;select name=\"employees[]\" &gt;\r\n        &lt;option value=\"\" selected&gt;- Select Employee -&lt;/option&gt;\r\n        &lt;option value=\"1\"&gt; Jason Bourne &lt;/option&gt;\r\n        &lt;option value=\"2\"&gt; James Bond &lt;/option&gt;\r\n        &lt;option value=\"3\"&gt; Ethan Hunt &lt;/option&gt;\r\n    &lt;/select&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;button id=addMore&gt;+ Employee&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 32441, "user_id": 2324107, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EWs62.jpg?s=128&g=1", "display_name": "Karl-Andr&#233; Gagnon", "link": "https://stackoverflow.com/users/2324107/karl-andr%c3%a9-gagnon"}, "edited": false, "score": 0, "creation_date": 1516225760, "post_id": 48310471, "comment_id": 83606841, "body": "Would the downvoter kindly explain the reason? This very answer solved OP problem."}, {"owner": {"reputation": 32441, "user_id": 2324107, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EWs62.jpg?s=128&g=1", "display_name": "Karl-Andr&#233; Gagnon", "link": "https://stackoverflow.com/users/2324107/karl-andr%c3%a9-gagnon"}, "reply_to_user": {"reputation": 19230, "user_id": 1444609, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/bgWmu.jpg?s=128&g=1", "display_name": "I wrestled a bear once.", "link": "https://stackoverflow.com/users/1444609/i-wrestled-a-bear-once"}, "edited": false, "score": 0, "creation_date": 1516225839, "post_id": 48310471, "comment_id": 83606872, "body": "@Iwrestledabearonce., yes, but I posted a comment that solved the issue, OP asked me to make it an answer, and you post your answer 30 seconds before mine. That does not deserve a downvote IMO."}], "tags": [], "owner": {"reputation": 32441, "user_id": 2324107, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EWs62.jpg?s=128&g=1", "display_name": "Karl-Andr&#233; Gagnon", "link": "https://stackoverflow.com/users/2324107/karl-andr%c3%a9-gagnon"}, "is_accepted": true, "score": 1, "last_activity_date": 1516225361, "creation_date": 1516225361, "answer_id": 48310471, "question_id": 48310220, "link": "https://stackoverflow.com/questions/48310220/increment-name-tag-for-cloned-elements/48310471#48310471", "title": "Increment name tag for cloned elements", "body": "<p>Instead of using a name and increasing an integer on each \"new employee\", you could simply name your select to <code>employees[]</code>. That will send every employee in an array format to your server, allowing you to use an easy loop.</p>\n\n<p>Your code as another problem though. ID should be unique, so every time you clone your <code>select</code>, you should change the ID.</p>\n"}], "owner": {"reputation": 397, "user_id": 7555048, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Yfcdl.jpg?s=128&g=1", "display_name": "Nouman", "link": "https://stackoverflow.com/users/7555048/nouman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "accepted_answer_id": 48310471, "answer_count": 2, "score": 0, "last_activity_date": 1516225361, "creation_date": 1516224259, "question_id": 48310220, "link": "https://stackoverflow.com/questions/48310220/increment-name-tag-for-cloned-elements", "title": "Increment name tag for cloned elements", "body": "<p>I have a form with cloned elements. The method of the form is <code>POST</code>. When I dump the result of the POST only the final 'select' box value is shown because they are all the same. How can I change the <code>name</code> tag to the cloned elements?</p>\n\n<p><strong>JSFiddle:</strong> <a href=\"https://jsfiddle.net/hLefegxz/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/hLefegxz/</a></p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div id=\"employees-div\"&gt;\n&lt;label for=\"employees\"&gt;Employee(s)&lt;/label&gt;\n&lt;div class=\"select-wrapper\" id=\"select-employees\"&gt;\n\n    &lt;select id=\"employees\" name=\"employees\" &gt;\n        &lt;option value=\"\" selected disabled&gt;- Select Employee -&lt;/option&gt;\n        &lt;option value=\"1\"&gt; Jason Bourne &lt;/option&gt;\n        &lt;option value=\"2\"&gt; James Bond &lt;/option&gt;\n        &lt;option value=\"3\"&gt; Ethan Hunt &lt;/option&gt;\n    &lt;/select&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<p><strong>JS for the Clone</strong></p>\n\n<pre><code>$(function() {\n    $(\"#addMore\").click(function(e) {\n        var newSelect = $(\"#select-employees\").clone();\n        newSelect.val(\"123\");\n        $(\"#employees-div\").append(newSelect);\n     });\n});\n</code></pre>\n\n<p>At the moment all fo the elements have the same name tag of employees. It obviously needs to be different to go into the $<code>_POST</code> <code>array</code>. How can I go about making them different? I was thinking maybe of incrementing and keeping a count? It Currently is like so: </p>\n\n<p><a href=\"https://i.stack.imgur.com/6l0Iq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6l0Iq.png\" alt=\"All name tags are the same\"></a> </p>\n"}, {"tags": ["javascript", "angular", "twitter-bootstrap", "accordion", "ngfor"], "answers": [{"comments": [{"owner": {"reputation": 499, "user_id": 6106289, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/cb582b3f9d3d0e938ee41600b2cc6088?s=128&d=identicon&r=PG&f=1", "display_name": "skyleguy", "link": "https://stackoverflow.com/users/6106289/skyleguy"}, "edited": false, "score": 0, "creation_date": 1516225694, "post_id": 48310231, "comment_id": 83606811, "body": "tried to do this and it says that: Can&#39;t bind to &#39;aria-controls&#39; since it isn&#39;t a known property of &#39;a&#39;"}], "tags": [], "owner": {"reputation": 15416, "user_id": 3509591, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Rshrf.jpg?s=128&g=1", "display_name": "Zze", "link": "https://stackoverflow.com/users/3509591/zze"}, "is_accepted": false, "score": 0, "last_activity_date": 1516225014, "last_edit_date": 1516225014, "creation_date": 1516224320, "answer_id": 48310231, "question_id": 48310196, "link": "https://stackoverflow.com/questions/48310196/dynamically-set-class-or-id-using-index-of-ngfor-loop/48310231#48310231", "title": "Dynamically set class or id using index of ngFor loop", "body": "<p>You just have to databind <code>id</code>:</p>\n\n<pre><code>&lt;div class=\"card-header\" role=\"tab\" [id]=\"'heading'+i\"&gt;\n&lt;!-- and --&gt;\n&lt;div [id]=\"'collapse' + i\" class=\"collapse show\" role=\"tabpanel\" [aria-labelledby]=\"'heading' + i\"&gt;\n</code></pre>\n\n<p>And then you can access your index via <code>i</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 499, "user_id": 6106289, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/cb582b3f9d3d0e938ee41600b2cc6088?s=128&d=identicon&r=PG&f=1", "display_name": "skyleguy", "link": "https://stackoverflow.com/users/6106289/skyleguy"}, "edited": false, "score": 0, "creation_date": 1516224862, "post_id": 48310323, "comment_id": 83606449, "body": "when i try this way i get &quot;Can&#39;t bind to &#39;aria-controls&#39; since it isn&#39;t a known property of &#39;a&#39;&quot; in the console"}, {"owner": {"reputation": 80, "user_id": 9218391, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vO7045XeAy4/AAAAAAAAAAI/AAAAAAAAA30/llSmV6gTOHM/photo.jpg?sz=128", "display_name": "dcballs", "link": "https://stackoverflow.com/users/9218391/dcballs"}, "reply_to_user": {"reputation": 499, "user_id": 6106289, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/cb582b3f9d3d0e938ee41600b2cc6088?s=128&d=identicon&r=PG&f=1", "display_name": "skyleguy", "link": "https://stackoverflow.com/users/6106289/skyleguy"}, "edited": false, "score": 0, "creation_date": 1516253466, "post_id": 48310323, "comment_id": 83614512, "body": "an attribute like aria-controls is defined with prefixing it with <code>attr.</code>. in your case you can use <code>attr.aria-controls=&quot;heading{{i}}&quot;</code>like mentioned in <a href=\"https://stackoverflow.com/a/39161129/9218391\">this answer on stackoverflow</a>"}, {"owner": {"reputation": 499, "user_id": 6106289, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/cb582b3f9d3d0e938ee41600b2cc6088?s=128&d=identicon&r=PG&f=1", "display_name": "skyleguy", "link": "https://stackoverflow.com/users/6106289/skyleguy"}, "edited": false, "score": 0, "creation_date": 1516281638, "post_id": 48310323, "comment_id": 83629739, "body": "that did it! Thanks so much!"}, {"owner": {"reputation": 526, "user_id": 3582319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rksqU.jpg?s=128&g=1", "display_name": "nuccio", "link": "https://stackoverflow.com/users/3582319/nuccio"}, "edited": false, "score": 0, "creation_date": 1598992201, "post_id": 48310323, "comment_id": 112633961, "body": "This issue stumped for longer than I care to admit, thanks! You are a life saver."}], "tags": [], "owner": {"reputation": 80, "user_id": 9218391, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vO7045XeAy4/AAAAAAAAAAI/AAAAAAAAA30/llSmV6gTOHM/photo.jpg?sz=128", "display_name": "dcballs", "link": "https://stackoverflow.com/users/9218391/dcballs"}, "is_accepted": true, "score": 2, "last_activity_date": 1516258475, "last_edit_date": 1516258475, "creation_date": 1516224727, "answer_id": 48310323, "question_id": 48310196, "link": "https://stackoverflow.com/questions/48310196/dynamically-set-class-or-id-using-index-of-ngfor-loop/48310323#48310323", "title": "Dynamically set class or id using index of ngFor loop", "body": "<p>You can do it this way also</p>\n\n<pre><code>id=\"collapse{{i}}\" class=\"heading{{i}}\" attr.aria-controls=\"heading{{i}}\"\n</code></pre>\n\n<p>and the fact that <code>aria-</code> attributes are being handled another way in angular you have to prefix them with <code>attr.</code>. In your example should that be <code>attr.aria-controls=\"heading{{i}}\"</code>.</p>\n"}], "owner": {"reputation": 499, "user_id": 6106289, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/cb582b3f9d3d0e938ee41600b2cc6088?s=128&d=identicon&r=PG&f=1", "display_name": "skyleguy", "link": "https://stackoverflow.com/users/6106289/skyleguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1905, "favorite_count": 0, "accepted_answer_id": 48310323, "answer_count": 2, "score": 0, "last_activity_date": 1516258475, "creation_date": 1516224155, "question_id": 48310196, "link": "https://stackoverflow.com/questions/48310196/dynamically-set-class-or-id-using-index-of-ngfor-loop", "title": "Dynamically set class or id using index of ngFor loop", "body": "<p>So I am trying to create a collapse (accordion) in Bootstrap 4 using Angular. I would love to be able to create almost the entire thing using an ngFor loop.</p>\n\n<p>So far I have this:</p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n  &lt;div class=\"col-lg-6\"&gt;\n    &lt;div id=\"accordion\" role=\"tablist\" aria-multiselectable=\"true\"&gt;\n      &lt;div class=\"card\" *ngFor=\"let environment of environments; let i = index;\"&gt;\n        &lt;div class=\"card-header\" role=\"tab\" id=\"headingi\"&gt;\n          &lt;h5 class=\"mb-0\"&gt;\n            &lt;a data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#collapsei\" aria-expanded=\"false\" aria-controls=\"collapsei\"&gt;\n              Number: {{i}}\n            &lt;/a&gt;\n          &lt;/h5&gt;\n        &lt;/div&gt;\n\n        &lt;div id=\"collapseOne\" class=\"collapse show\" role=\"tabpanel\" aria-labelledby=\"headingOne\"&gt;\n          &lt;div class=\"card-block\"&gt;\n            &lt;div *ngFor=\"let name of uniqueNames; let j = index\" class=\"card infoBox\"&gt;\n              &lt;p&gt;this is accordion {{i}}, section: {{j}}&lt;/p&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>What I am trying to do is use \"let i = index\" to set the id and class names needed to make the accordion know what to do when certain links are clicked. So ideally the first accordion section would have class and id of collapse0/heading0 and the next would have id and class of collapse1/heading1 etc. </p>\n\n<p>However, the previous code must not be working because all the accordions and their headers show up and do nothing when clicked on. It does generate the correct number, show all the right headers, and the bodies associated with them.</p>\n\n<p>Any help? thanks!</p>\n"}, {"tags": ["javascript", "react-native", "routing", "react-native-router-flux"], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 6130529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a12aefb7a35d6932be36b675f2676434?s=128&d=identicon&r=PG", "display_name": "Nikolai Andryuschenko", "link": "https://stackoverflow.com/users/6130529/nikolai-andryuschenko"}, "is_accepted": true, "score": 1, "last_activity_date": 1516225080, "creation_date": 1516225080, "answer_id": 48310410, "question_id": 48310102, "link": "https://stackoverflow.com/questions/48310102/with-react-native-router-flux-how-can-i-have-a-tab-bar-click-specify-which-tab/48310410#48310410", "title": "With react-native-router-flux, how can I have a tab bar click specify which tab to switch to?", "body": "<p>Great question, not much documentation for this function, here is the answer.</p>\n\n<pre><code>({ scene, jumpToIndex }) =&gt; { jumpToIndex(scene.index); }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 497, "user_id": 7300935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UKOyB.png?s=128&g=1", "display_name": "Yasin Ugurlu", "link": "https://stackoverflow.com/users/7300935/yasin-ugurlu"}, "is_accepted": false, "score": 1, "last_activity_date": 1582207715, "creation_date": 1582207715, "answer_id": 60321819, "question_id": 48310102, "link": "https://stackoverflow.com/questions/48310102/with-react-native-router-flux-how-can-i-have-a-tab-bar-click-specify-which-tab/60321819#60321819", "title": "With react-native-router-flux, how can I have a tab bar click specify which tab to switch to?", "body": "<p>Nikolai Answer is old.\nYou can follow below answer.</p>\n\n<pre><code>tabBarOnPress={(props) =&gt; {\n  const routeName = props.navigation.state.key;\n  props.navigation.navigate(routeName)\n}}\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 4187805, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/633f259766a24386b20834868122e6f9?s=128&d=identicon&r=PG&f=1", "display_name": "Test", "link": "https://stackoverflow.com/users/4187805/test"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 939, "favorite_count": 0, "accepted_answer_id": 48310410, "answer_count": 2, "score": 1, "last_activity_date": 1582207715, "creation_date": 1516223698, "last_edit_date": 1516224464, "question_id": 48310102, "link": "https://stackoverflow.com/questions/48310102/with-react-native-router-flux-how-can-i-have-a-tab-bar-click-specify-which-tab", "title": "With react-native-router-flux, how can I have a tab bar click specify which tab to switch to?", "body": "<p>I have a tab bar, with a user profile tab. I want it to redirect to signup if a user is not logged in, but if they are logged in, to go to to the userProfile tab.</p>\n\n<p>here's the code:</p>\n\n<pre><code>         &lt;Tabs\n           key=\"tabbar\"\n         &gt;\n           {/* Main Screen */}\n           &lt;Scene\n             key=\"main\"\n             component={MainScreen}\n             title=\"Main\"\n             tab\n           /&gt;\n           {/* User Profile */}\n           &lt;Scene\n             key=\"profile\"\n             component={ProfileScreen}\n             title=\"Profile\"\n             tab\n             type=\"reset\"\n             tabBarOnPress={() =&gt; {\n               if (this.props.userIsLoggedIn) {\n                 // how to show the correct tab. tried this didn't \n                 // work:\n                 // return NavigationActions.tabbar({routes: 1});\n               }\n               return NavigationActions.loginSignup();\n             }}\n           /&gt;\n         &lt;/Tabs&gt;\n</code></pre>\n\n<p>I have it so that if user is NOT logged in, it indeed navigates to the correct screen to sign up, but I do not know how to make it show the tab if the user is logged in.</p>\n\n<p>EDIT: * we have tried doing </p>\n\n<pre><code>onEnter={() =&gt; {\n  if (!this.props.userIsLoggedIn) {\n    NavigationActions.loginSignup();\n  }\n});\n</code></pre>\n\n<p>however we very briefly see the profile screen, would ideally go directly to signup, without showing any of the profile screen.</p>\n"}, {"tags": ["javascript", "reactjs", "twitter"], "comments": [{"owner": {"reputation": 1255, "user_id": 4487722, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kmSctpPZ0c8/AAAAAAAAAAI/AAAAAAAAFcs/RxGumDzqqwU/photo.jpg?sz=128", "display_name": "Rafael Quintanilha", "link": "https://stackoverflow.com/users/4487722/rafael-quintanilha"}, "edited": false, "score": 0, "creation_date": 1516224043, "post_id": 48310084, "comment_id": 83606113, "body": "Your code tries to look to <code>tweets.statuses</code> but the initial state is an empty array, thus has no <code>statuses</code> attribute and returns <code>undefined</code>."}], "answers": [{"tags": [], "owner": {"reputation": 17, "user_id": 7285390, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207453415923020/picture?type=large", "display_name": "Ca&#237;que Carbone Gon&#231;alves", "link": "https://stackoverflow.com/users/7285390/ca%c3%adque-carbone-gon%c3%a7alves"}, "is_accepted": false, "score": 0, "last_activity_date": 1516225327, "creation_date": 1516225327, "answer_id": 48310462, "question_id": 48310084, "link": "https://stackoverflow.com/questions/48310084/cannot-read-property-map-of-undefined-twitter-api-in-react/48310462#48310462", "title": "Cannot Read Property Map of Undefined--Twitter API in React", "body": "<p>I guess if you call this function in <code>WillMount</code> this will work!</p>\n\n<p>because in <code>DidMount</code>  your component already have been called the <code>render()</code> method and the current value of <code>statuses</code> is <code>undefined</code>.</p>\n\n<p>or you can try some approuch like this: </p>\n\n<pre><code>render() {\n        const tweets = this.state.tweets;\n        return (\n          &lt;div&gt;\n          {tweets.statuses &amp;&amp;\n            tweets.statuses.map(tweet =&gt;\n                &lt;div key={tweet.objectID}&gt;\n                &lt;span&gt;\n                    {tweet.text}\n                &lt;/span&gt;\n                &lt;/div&gt;    \n          )}\n            )};\n         &lt;/div&gt;\n        );\n    }\n}\n</code></pre>\n\n<p>hope this could help you!</p>\n"}], "owner": {"reputation": 937, "user_id": 1208144, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9dfbf2d6b6ef44f45d6f92ecf4414163?s=128&d=identicon&r=PG", "display_name": "John Rogerson", "link": "https://stackoverflow.com/users/1208144/john-rogerson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 176, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516225327, "creation_date": 1516223643, "question_id": 48310084, "link": "https://stackoverflow.com/questions/48310084/cannot-read-property-map-of-undefined-twitter-api-in-react", "title": "Cannot Read Property Map of Undefined--Twitter API in React", "body": "<p>Hi all I'm fairly new to React so please tread lightly :0)</p>\n\n<p>I'm trying to create a simple React app, in which a user can enter a search term, and a list of Tweets is populate.  Just fleshing this out right now using the Node Twit app.  I'm getting a 'Cannot read property 'map' of undefined' on a map function in the part where I'm trying to list out the tweets.</p>\n\n<p>Here's where I'm running the map function in my 'Twitter' Component.</p>\n\n<pre><code>render() {\n        const tweets = this.state.tweets;\n        return (\n          &lt;div&gt;\n          {tweets.statuses.map(tweet =&gt;\n                &lt;div key={tweet.objectID}&gt;\n                &lt;span&gt;\n                    {tweet.text}\n                &lt;/span&gt;\n                &lt;/div&gt;    \n          )}\n            )};\n         &lt;/div&gt;\n        );\n    }\n}\n</code></pre>\n\n<p>I know this has to be an issue with how I'm fetching the data--but have never worked with the Twitter API, so hoping someone might have some input---here's where I do that:</p>\n\n<pre><code> performSearch = (searchTerm) =&gt; {\n       T.get('search/tweets', {q: {searchTerm}})\n       .then((err,data,response) =&gt; {\n           let tweets = this.state.data;\n           this.setState({\n               tweets\n           });\n           console.log(tweets);\n       })\n       .catch(err=&gt;{\n           console.log('Error happened fetching data');\n       });\n    }\n</code></pre>\n\n<p>I'm also running this search function when the component mounts, like so</p>\n\n<pre><code> componentDidMount() {\n        this.performSearch();\n    }\n</code></pre>\n\n<p>And not sure if matters but variable 'tweets' is set on initial state as []</p>\n\n<pre><code>class Twitter extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            tweets: [],\n            searchTerm: this.props.searchTerm\n    }\n   }\n</code></pre>\n\n<p>If you need any more code for this to make more sense--just let me know. Thanks!</p>\n"}, {"tags": ["javascript", "html", "html-table"], "comments": [{"owner": {"reputation": 3765, "user_id": 1086511, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9f137c8bccd23ae845550c5e95c1e31b?s=128&d=identicon&r=PG", "display_name": "Rodrigo", "link": "https://stackoverflow.com/users/1086511/rodrigo"}, "edited": false, "score": 3, "creation_date": 1516224051, "post_id": 48310081, "comment_id": 83606118, "body": "You can try to add a floating image over the table, using css position: <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/position\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/CSS/position</a>."}, {"owner": {"reputation": 465, "user_id": 9231813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Isce4.png?s=128&g=1", "display_name": "codebird456", "link": "https://stackoverflow.com/users/9231813/codebird456"}, "reply_to_user": {"reputation": 3765, "user_id": 1086511, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9f137c8bccd23ae845550c5e95c1e31b?s=128&d=identicon&r=PG", "display_name": "Rodrigo", "link": "https://stackoverflow.com/users/1086511/rodrigo"}, "edited": false, "score": 0, "creation_date": 1516224909, "post_id": 48310081, "comment_id": 83606463, "body": "Thanks. Does that work also if the arrow has to be in variable size which means sometimes shorter and sometimes longer?"}, {"owner": {"reputation": 3765, "user_id": 1086511, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9f137c8bccd23ae845550c5e95c1e31b?s=128&d=identicon&r=PG", "display_name": "Rodrigo", "link": "https://stackoverflow.com/users/1086511/rodrigo"}, "edited": false, "score": 0, "creation_date": 1516234703, "post_id": 48310081, "comment_id": 83609902, "body": "For this you can stretch your image, or use different images, or use a canvas, like in the solutions below."}], "answers": [{"comments": [{"owner": {"reputation": 1790, "user_id": 10263660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d02f3119d15c8c155ff25968fdf5a145?s=128&d=identicon&r=PG&f=1", "display_name": "FalcoGer", "link": "https://stackoverflow.com/users/10263660/falcoger"}, "edited": false, "score": 0, "creation_date": 1565768137, "post_id": 48310909, "comment_id": 101450377, "body": "if you did this, could you still get mouse events for the table cells? like hover? or would the canvas lay on top of the table, blocking the mouse?"}], "tags": [], "owner": {"reputation": 439, "user_id": 3662543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5197672276b7a30c75cbfee80a22c835?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/3662543/alex"}, "is_accepted": true, "score": 1, "last_activity_date": 1516227865, "last_edit_date": 1516227865, "creation_date": 1516227370, "answer_id": 48310909, "question_id": 48310081, "link": "https://stackoverflow.com/questions/48310081/how-to-draw-arrow-in-html-table-across-cells/48310909#48310909", "title": "How to draw arrow in HTML table across cells?", "body": "<p>You can do this dynamically by using a canvas element to contain your arrow, which you will dynamically draw via the 2D context drawing functions. You can absolutely position the canvas element using javascript.</p>\n\n<p>Here is sample code:</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;canvas id=\"canvas\" width=\"100\" height=\"100\"&gt;\n&lt;/canvas&gt;\n\n\n\n &lt;table&gt;\n &lt;tr&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;/tr&gt;\n &lt;tr&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;/tr&gt;\n &lt;tr&gt;&lt;td&gt;5&lt;/td&gt;&lt;td&gt;6&lt;/td&gt;&lt;/tr&gt;\n &lt;/table&gt;\n</code></pre>\n\n<p>Javascript:</p>\n\n<pre><code> var canvas = document.querySelector('canvas');\n var ctx = canvas.getContext('2d');\n\n canvas.style.top = 7 + \"px\";\n canvas.style.left = 7 + \"px\";\n\n var fromx = 0;\n var fromy = 12;\n var tox = 25;\n var toy = 12;\n\n var headlen = 10;   // length of head in pixels\n var angle = Math.atan2(toy-fromy,tox-fromx);\n var arrowSize = 2;\n var headlen = 10;\n\n var angle = Math.atan2(toy-fromy,tox-fromx);\n //starting path of the arrow from the start square to the end square and drawing the stroke\n ctx.beginPath();\nctx.moveTo(fromx, fromy);\n ctx.lineTo(tox, toy);\n ctx.strokeStyle = \"#cc0000\";\n ctx.lineWidth = arrowSize;\n ctx.stroke();\n\n //starting a new path from the head of the arrow to one of the sides of the point\n ctx.beginPath();\n ctx.moveTo(tox, toy);\n ctx.lineTo(tox-headlen*Math.cos(angle-Math.PI/7),toy-headlen*Math.sin(angle-Math.PI/7));\n\n //path from the side point of the arrow, to the other side point\n ctx.lineTo(tox-headlen*Math.cos(angle+Math.PI/7),toy-headlen*Math.sin(angle+Math.PI/7));\n\n //path from the side point back to the tip of the arrow, and then again to the opposite side point\n ctx.lineTo(tox, toy);\n ctx.lineTo(tox-headlen*Math.cos(angle-Math.PI/7),toy-headlen*Math.sin(angle-Math.PI/7));\n\n //draws the paths created above\n ctx.strokeStyle = \"#cc0000\";\n ctx.lineWidth = arrowSize;\n ctx.stroke();\n ctx.fillStyle = \"#cc0000\";\n ctx.fill();\n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code> #canvas {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 100px;\n        height: 100px;\n }\n</code></pre>\n\n<p>You can programmatically obtain the positioning information of your table elements in order to set the correct values for fromx, fromy, etc., and for setting canvas.style.top and canvas.style.left.</p>\n\n<p>I borrowed the arrow drawing code from <a href=\"https://stackoverflow.com/questions/808826/draw-arrow-on-canvas-tag\">Draw arrow on canvas tag</a></p>\n"}, {"comments": [{"owner": {"reputation": 600, "user_id": 2627214, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/30a25b7ec9369758fd5cf55b63ae8f31?s=128&d=identicon&r=PG", "display_name": "amichai", "link": "https://stackoverflow.com/users/2627214/amichai"}, "edited": false, "score": 0, "creation_date": 1571915936, "post_id": 48310992, "comment_id": 103402241, "body": "excelent solution. Thanks"}], "tags": [], "owner": {"reputation": 1630, "user_id": 7654872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef5e44463183ba050bdf1d1efbf69c3a?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/7654872/brian"}, "is_accepted": false, "score": 1, "last_activity_date": 1516228178, "last_edit_date": 1516228178, "creation_date": 1516227847, "answer_id": 48310992, "question_id": 48310081, "link": "https://stackoverflow.com/questions/48310081/how-to-draw-arrow-in-html-table-across-cells/48310992#48310992", "title": "How to draw arrow in HTML table across cells?", "body": "<p>First, we can get the center of the cells relative to the document. Then, we can simply draw an arrow from the beginning to the end on a canvas (relative to the document). The trick is to set <code>pointer-events: none</code> on the canvas so we do not accidentally interact with it. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// gets the center of a table cell relative to the document\r\nfunction getCellCenter(table, row, column) {\r\n  var tableRow = $(table).find('tr')[row];\r\n  var tableCell = $(tableRow).find('td')[column];\r\n\r\n  var offset = $(tableCell).offset();\r\n  var width = $(tableCell).innerWidth();\r\n  var height = $(tableCell).innerHeight();\r\n  \r\n  return {\r\n    x: offset.left + width / 2,\r\n    y: offset.top + height / 2\r\n  }\r\n}\r\n\r\n// draws an arrow on the document from the start to the end offsets\r\nfunction drawArrow(start, end) {\r\n\r\n  // create a canvas to draw the arrow on\r\n  var canvas = document.createElement('canvas');\r\n  canvas.width = $('body').innerWidth();\r\n  canvas.height = $('body').innerHeight();\r\n  $(canvas).css('position', 'absolute');\r\n  $(canvas).css('pointer-events', 'none');\r\n  $(canvas).css('top', '0');\r\n  $(canvas).css('left', '0');\r\n  $(canvas).css('opacity', '0.85');\r\n  $('body').append(canvas);\r\n  \r\n  // get the drawing context\r\n  var ctx = canvas.getContext('2d');\r\n  ctx.fillStyle = 'steelblue';\r\n  ctx.strokeStyle = 'steelblue';\r\n  \r\n  // draw line from start to end\r\n  ctx.beginPath();\r\n  ctx.moveTo(start.x, start.y);\r\n  ctx.lineTo(end.x, end.y);\r\n  ctx.lineWidth = 2;\r\n  ctx.stroke();\r\n  \r\n  // draw circle at beginning of line\r\n  ctx.beginPath();  \r\n  ctx.arc(start.x, start.y, 4, 0, Math.PI * 2, true);\r\n  ctx.fill();\r\n\r\n  // draw pointer at end of line (needs rotation)\r\n  ctx.beginPath();  \r\n  var angle = Math.atan2(end.y - start.y, end.x - start.x);\r\n  ctx.translate(end.x, end.y);\r\n  ctx.rotate(angle);\r\n  ctx.moveTo(0, 0);\r\n  ctx.lineTo(-10, -7);\r\n  ctx.lineTo(-10, 7);\r\n  ctx.lineTo(0, 0);\r\n  ctx.fill();\r\n\r\n  // reset canvas context\r\n  ctx.setTransform(1, 0, 0, 1, 0, 0);  \r\n  \r\n  return canvas;\r\n}\r\n\r\n// finds the center of the start and end cells, and then calls drawArrow\r\nfunction drawArrowOnTable(table, startRow, startColumn, endRow, endColumn) {\r\n  drawArrow(\r\n    getCellCenter($(table), startRow, startColumn),\r\n    getCellCenter($(table), endRow, endColumn)\r\n  );\r\n}\r\n\r\n// draw an arrow from (1, 0) to (2, 4)\r\ndrawArrowOnTable('table', 1, 0, 2, 4);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>table, td {\r\n  border-collapse: collapse;\r\n}\r\n\r\ntd {\r\n  border: 1px solid #ddd;\r\n  padding: 6px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n  &lt;meta charset=\"utf-8\"&gt;\r\n  &lt;meta name=\"viewport\" content=\"width=device-width\"&gt;\r\n  &lt;title&gt;JS Bin&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;table&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;A1&lt;/td&gt;\r\n    &lt;td&gt;B1&lt;/td&gt;\r\n    &lt;td&gt;C1&lt;/td&gt;\r\n    &lt;td&gt;D1&lt;/td&gt;\r\n    &lt;td&gt;E1&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n\r\n  &lt;tr&gt;\r\n    &lt;td&gt;A2&lt;/td&gt;\r\n    &lt;td&gt;B2&lt;/td&gt;\r\n    &lt;td&gt;C2&lt;/td&gt;\r\n    &lt;td&gt;D2&lt;/td&gt;\r\n    &lt;td&gt;E2&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n\r\n  &lt;tr&gt;\r\n    &lt;td&gt;A3&lt;/td&gt;\r\n    &lt;td&gt;B3&lt;/td&gt;\r\n    &lt;td&gt;C3&lt;/td&gt;\r\n    &lt;td&gt;D3&lt;/td&gt;\r\n    &lt;td&gt;E3&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  \r\n&lt;/table&gt;\r\n\r\n&lt;pre&gt;drawArrowOnTable('table', 1, 0, 2, 4);&lt;/pre&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 465, "user_id": 9231813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Isce4.png?s=128&g=1", "display_name": "codebird456", "link": "https://stackoverflow.com/users/9231813/codebird456"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2647, "favorite_count": 1, "accepted_answer_id": 48310909, "answer_count": 2, "score": 2, "last_activity_date": 1516228178, "creation_date": 1516223620, "last_edit_date": 1516224883, "question_id": 48310081, "link": "https://stackoverflow.com/questions/48310081/how-to-draw-arrow-in-html-table-across-cells", "title": "How to draw arrow in HTML table across cells?", "body": "<p>I have a simple html table with some cells which I create with the td tag.\nNow I need to draw an arrow from cell A2 to C2 for example. \nI thought about creating a jQuery function to get the XY coordinates of the middle of cell A2 and C2 and then somehow draw an arrow.</p>\n\n<p>What is a good way of achieving the look and feel as shown in the picture?</p>\n\n<p><a href=\"https://i.stack.imgur.com/lsGNt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lsGNt.png\" alt=\"Table cells with arrow\"></a></p>\n"}, {"tags": ["javascript", "node.js", "mongodb", "handlebars.js"], "answers": [{"comments": [{"owner": {"reputation": 2596, "user_id": 2089684, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0c5de6a858e6f6443c64ecf8e414ef92?s=128&d=identicon&r=PG&f=1", "display_name": "winston", "link": "https://stackoverflow.com/users/2089684/winston"}, "edited": false, "score": 0, "creation_date": 1516224188, "post_id": 48310086, "comment_id": 83606173, "body": "Thanks for the link. I just updated it to <code>this</code> but it&#39;s still not loading any content"}, {"owner": {"reputation": 1293, "user_id": 1367039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e89dcb45151fded5c1a3b749646be5f2?s=128&d=identicon&r=PG", "display_name": "Chris Riebschlager", "link": "https://stackoverflow.com/users/1367039/chris-riebschlager"}, "reply_to_user": {"reputation": 2596, "user_id": 2089684, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0c5de6a858e6f6443c64ecf8e414ef92?s=128&d=identicon&r=PG&f=1", "display_name": "winston", "link": "https://stackoverflow.com/users/2089684/winston"}, "edited": false, "score": 0, "creation_date": 1516224267, "post_id": 48310086, "comment_id": 83606206, "body": "Can we see some more code where you&#39;re actually rendering the template?"}, {"owner": {"reputation": 2596, "user_id": 2089684, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0c5de6a858e6f6443c64ecf8e414ef92?s=128&d=identicon&r=PG&f=1", "display_name": "winston", "link": "https://stackoverflow.com/users/2089684/winston"}, "edited": false, "score": 0, "creation_date": 1516224346, "post_id": 48310086, "comment_id": 83606241, "body": "Sure. I&#39;ll add the handlebars template now"}, {"owner": {"reputation": 1293, "user_id": 1367039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e89dcb45151fded5c1a3b749646be5f2?s=128&d=identicon&r=PG", "display_name": "Chris Riebschlager", "link": "https://stackoverflow.com/users/1367039/chris-riebschlager"}, "reply_to_user": {"reputation": 2596, "user_id": 2089684, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0c5de6a858e6f6443c64ecf8e414ef92?s=128&d=identicon&r=PG&f=1", "display_name": "winston", "link": "https://stackoverflow.com/users/2089684/winston"}, "edited": false, "score": 0, "creation_date": 1516224627, "post_id": 48310086, "comment_id": 83606351, "body": "Well, I&#39;m pretty sure you want to use <code>{{this.name}}</code> where you have just <code>{{this}}</code>."}, {"owner": {"reputation": 1293, "user_id": 1367039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e89dcb45151fded5c1a3b749646be5f2?s=128&d=identicon&r=PG", "display_name": "Chris Riebschlager", "link": "https://stackoverflow.com/users/1367039/chris-riebschlager"}, "reply_to_user": {"reputation": 2596, "user_id": 2089684, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0c5de6a858e6f6443c64ecf8e414ef92?s=128&d=identicon&r=PG&f=1", "display_name": "winston", "link": "https://stackoverflow.com/users/2089684/winston"}, "edited": false, "score": 0, "creation_date": 1516224690, "post_id": 48310086, "comment_id": 83606374, "body": "It&#39;d also be helpful to see the JS where you are actually calling the handlebars render function."}, {"owner": {"reputation": 2596, "user_id": 2089684, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0c5de6a858e6f6443c64ecf8e414ef92?s=128&d=identicon&r=PG&f=1", "display_name": "winston", "link": "https://stackoverflow.com/users/2089684/winston"}, "edited": false, "score": 0, "creation_date": 1516224735, "post_id": 48310086, "comment_id": 83606395, "body": "just added! Thanks again for your time!!"}], "tags": [], "owner": {"reputation": 1293, "user_id": 1367039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e89dcb45151fded5c1a3b749646be5f2?s=128&d=identicon&r=PG", "display_name": "Chris Riebschlager", "link": "https://stackoverflow.com/users/1367039/chris-riebschlager"}, "is_accepted": false, "score": 1, "last_activity_date": 1516223645, "creation_date": 1516223645, "answer_id": 48310086, "question_id": 48310050, "link": "https://stackoverflow.com/questions/48310050/display-nodejs-query-results-on-webpage-using-handlebars/48310086#48310086", "title": "Display nodejs query results on webpage using handlebars?", "body": "<p>Try <code>{{this.name}}</code> instead. <code>this</code> represents the element being iterated over.</p>\n\n<p><a href=\"http://handlebarsjs.com/builtin_helpers.html#iteration\" rel=\"nofollow noreferrer\">http://handlebarsjs.com/builtin_helpers.html#iteration</a></p>\n"}, {"tags": [], "owner": {"reputation": 132, "user_id": 6922184, "user_type": "registered", "profile_image": "https://graph.facebook.com/1395223827157742/picture?type=large", "display_name": "Yurii Kovalenko", "link": "https://stackoverflow.com/users/6922184/yurii-kovalenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1516223813, "creation_date": 1516223813, "answer_id": 48310128, "question_id": 48310050, "link": "https://stackoverflow.com/questions/48310050/display-nodejs-query-results-on-webpage-using-handlebars/48310128#48310128", "title": "Display nodejs query results on webpage using handlebars?", "body": "<ol>\n<li>Your function expect callback to be passed as argument and called, but this not happens. </li>\n<li>You use 'res' object and methods <code>res.json()</code>, but are you sure that you have it there?</li>\n<li>Are you sure that res.end() is not called before you got response from DB?</li>\n</ol>\n"}], "owner": {"reputation": 2596, "user_id": 2089684, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0c5de6a858e6f6443c64ecf8e414ef92?s=128&d=identicon&r=PG&f=1", "display_name": "winston", "link": "https://stackoverflow.com/users/2089684/winston"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1516224472, "creation_date": 1516223462, "last_edit_date": 1516224472, "question_id": 48310050, "link": "https://stackoverflow.com/questions/48310050/display-nodejs-query-results-on-webpage-using-handlebars", "title": "Display nodejs query results on webpage using handlebars?", "body": "<p>I'm using MongoDB with Mongoose to create data objects but I'm having trouble displaying these objects on a webpage. I added the following query to my users.js file:</p>\n\n<pre><code>module.exports.getAllUsers = function(callback){\n  User.find({}, function(err, users) {\n    if(err){\n      res.send('error');\n      next();\n    }\n    res.json(users);\n  });\n}\n</code></pre>\n\n<p>I'm then using handlebars to display the list of users on my template webpage: </p>\n\n<pre><code>{{#each users}}\n   &lt;h4 class=\"name\"&gt;{{user.name}}&lt;/h4&gt;                              \n{{/each}}\n</code></pre>\n\n<p>I have users in my table but I don't see any results. What am I missing?</p>\n\n<p>Thanks!!</p>\n\n<p>EDIT 1: here's the full users.handlebars file:</p>\n\n<pre><code>    &lt;div class=\"main-container\"&gt;\n    &lt;section&gt;\n        &lt;div class=\"container\"&gt;\n            &lt;div class=\"row mb64 mb-xs-24\"&gt;\n                &lt;div class=\"col-sm-12 text-center\"&gt;\n                    &lt;h3&gt;users&lt;/h3&gt;\n                    &lt;p class=\"lead\"&gt;\n\n                    &lt;/p&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n    &lt;/section&gt;&lt;section&gt;\n            &lt;div class=\"container\"&gt;\n                &lt;div class=\"row\"&gt;\n                   &lt;div class=\"col-md-8 col-sm-10 col-sm-offset-1 col-md-offset-2\"&gt;\n                        &lt;div class=\"horizontal-tile\"&gt;\n                                              {{#each users}}\n                            &lt;div class=\"tile-left\"&gt;\n                                &lt;a href=\"#\"&gt;\n                                    &lt;div class=\"background-image-holder\"&gt;\n                                        &lt;img alt=\"image\" class=\"background-image\" src=\"img/project-single-1.jpg\"&gt;\n                                    &lt;/div&gt;\n                                &lt;/a&gt;\n                            &lt;/div&gt;\n                            &lt;div class=\"tile-right bg-secondary\"&gt;\n                                &lt;div class=\"description\"&gt;\n                                    &lt;h4 class=\"mb8\"&gt;{{this}}&lt;/h4&gt;\n                                    &lt;h6 class=\"uppercase\"&gt;\n                                        Graphic Design\n                                    &lt;/h6&gt;\n                                    &lt;p&gt;\n                                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\n                                    &lt;/p&gt;\n                                &lt;/div&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                                        {{/each}}\n                   &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/section&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Here's the users.js model:</p>\n\n<pre><code>var mongoose = require('mongoose');\nvar bcrypt = require('bcryptjs');\n\nvar UserSchema = new mongoose.Schema({\n  email: {\n    type: String,\n    index: true,\n    required: true,\n    trim: true,\n    minlength: 1,\n    unique: true,\n  },\n  password: {\n    type: String,\n    require: true,\n    minlength: 6\n  },\n  username: {\n    type: String,\n    require: true\n  },\n  tokens: [{\n    access: {\n      type: String,\n      required: true\n    },\n    token: {\n      type: String,\n      required: true\n    }\n  }]\n});\n\nvar User = module.exports = mongoose.model('User', UserSchema);\n\nmodule.exports.createUser = function(newUser, callback){\n    bcrypt.genSalt(10, function(err, salt) {\n        bcrypt.hash(newUser.password, salt, function(err, hash) {\n            newUser.password = hash;\n            newUser.save(callback);\n        });\n    });\n}\n\nmodule.exports.getUserByEmail = function(email, callback){\n  var query = {email: email};\n  User.findOne(query, callback);\n}\n\nmodule.exports.getUserById = function(id, callback){\n  User.findById(id, callback);\n}\n\nmodule.exports.getAllUsers = function(callback){\n  User.find({}, function(err, users) {\n    if(err){\n      res.send('error');\n      next();\n    }\n    res.json(users);\n  });\n}\n\nmodule.exports.comparePassword = function(candidatePassword, hash, callback){\n  bcrypt.compare(candidatePassword, hash, function(err, isMatch){\n    if(err) throw err;\n    callback(null, isMatch);\n  });\n}\n</code></pre>\n"}, {"tags": ["javascript", "wordpress"], "comments": [{"owner": {"reputation": 8596, "user_id": 1172189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VKq9g.jpg?s=128&g=1", "display_name": "disinfor", "link": "https://stackoverflow.com/users/1172189/disinfor"}, "edited": false, "score": 1, "creation_date": 1516233226, "post_id": 48310010, "comment_id": 83609538, "body": "Why not use WordPress&#39;s built in <code>wp_nav_menu()</code> to build out those links? Where is your HTML located? In a template?"}], "answers": [{"comments": [{"owner": {"reputation": 8596, "user_id": 1172189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VKq9g.jpg?s=128&g=1", "display_name": "disinfor", "link": "https://stackoverflow.com/users/1172189/disinfor"}, "edited": false, "score": 0, "creation_date": 1516246384, "post_id": 48313098, "comment_id": 83612595, "body": "Welcome to Stack Overflow! Please post what you think is the relevant code from your link and not just a link. Link only answers will generally get down voted and removed."}, {"owner": {"reputation": 228, "user_id": 2026178, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e497dc9731d4d6008db13640b8551e84?s=128&d=identicon&r=PG", "display_name": "user2026178", "link": "https://stackoverflow.com/users/2026178/user2026178"}, "edited": false, "score": 0, "creation_date": 1516368225, "post_id": 48313098, "comment_id": 83669450, "body": "Thanks @AA-T . The jQuery solution worked best for me. Was not aware of the window.location.href."}], "tags": [], "owner": {"reputation": 73, "user_id": 9230416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ff038a6beae1e1c0330e6e8f59c4b1d7?s=128&d=identicon&r=PG&f=1", "display_name": "AA-T", "link": "https://stackoverflow.com/users/9230416/aa-t"}, "is_accepted": true, "score": 1, "last_activity_date": 1516277974, "last_edit_date": 1516277974, "creation_date": 1516243940, "answer_id": 48313098, "question_id": 48310010, "link": "https://stackoverflow.com/questions/48310010/trying-to-add-an-active-class-on-a-new-page-in-wordpress/48313098#48313098", "title": "trying to add an active class on a new page in wordpress.", "body": "<p><a href=\"https://stackoverflow.com/questions/2397370/change-link-color-of-the-current-page-with-css\">Change link color of the current page with CSS</a></p>\n\n<p>There are a couple of scripts on this page, sounds like one of them might work for you:</p>\n\n<p>With jQuery you could use the .each function to iterate through the links with the following code:</p>\n\n<pre><code>$(document).ready(function() {\n    $(\"[href]\").each(function() {\n        if (this.href == window.location.href) {\n            $(this).addClass(\"active\");\n        }\n    });\n});\n</code></pre>\n\n<p>Depending on your page structure and used links, you may have to narrow down the selection of links like:</p>\n\n<pre><code>$(\"nav [href]\").each ...\n</code></pre>\n\n<p>If you are using URL parameters, it may be necessary to strip these:</p>\n\n<pre><code>if (this.href.split(\"?\")[0] == window.location.href.split(\"?\")[0]) ...\n</code></pre>\n\n<p>This way you don't have to edit each page.</p>\n\n<p>This is another one that might also work for you:</p>\n\n<p>Get all links in the document and compare their reference URLs to the document's URL. If there is a match, add a class to that link.</p>\n\n<pre><code>&lt;script&gt;\n    currentLinks = document.querySelectorAll('a[href=\"'+document.URL+'\"]')\n    currentLinks.forE\u200c\u200bach(function(link) {\n        link.className += ' active')\n    });\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 228, "user_id": 2026178, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e497dc9731d4d6008db13640b8551e84?s=128&d=identicon&r=PG", "display_name": "user2026178", "link": "https://stackoverflow.com/users/2026178/user2026178"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 423, "favorite_count": 0, "accepted_answer_id": 48313098, "answer_count": 1, "score": 0, "last_activity_date": 1516277974, "creation_date": 1516223331, "question_id": 48310010, "link": "https://stackoverflow.com/questions/48310010/trying-to-add-an-active-class-on-a-new-page-in-wordpress", "title": "trying to add an active class on a new page in wordpress.", "body": "<p>Trying to add an active class to a custom navigation on a new page in wordpress. It is a truly custom html bar, nothing is done through wp-admin panel. </p>\n\n<pre><code>&lt;nav class=\"navbar navbar-default hidden-xs\" id=\"mainnav\"&gt;\n    &lt;div class=\"container\"&gt;\n        &lt;div class=\"navbar-header\"&gt;\n            &lt;button type=\"button\" class=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#bs-example-navbar-collapse-1\"&gt; &lt;span class=\"sr-only\"&gt;Toggle navigation&lt;/span&gt;\n             &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n             &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n             &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n            &lt;/button&gt;\n        &lt;/div&gt;\n        &lt;a class=\"navbar-brand\" href=\"/\"&gt;\n            &lt;img style=\"max-width:100px;\" src=\"&lt;?php echo get_stylesheet_directory_uri(); ?&gt;/assets/images/BB-logo@2x.png\"\" class=\"img-responsive\"&gt;\n        &lt;/a&gt;\n        &lt;div class=\"collapse navbar-collapse \" id=\"bs-example-navbar-collapse-1\"&gt;\n            &lt;ul class=\"nav navbar-nav navbar-right\"&gt;\n                &lt;li&gt;&lt;a class=\"nav-links active\" href=\"/about-us/\"&gt;About&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a class=\"nav-links\" href=\"/programs/\"&gt;Programs&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a class=\"nav-links\" href=\"/partners/\"&gt;Partners&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a class=\"nav-links\" href=\"/media/\"&gt;Media&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a class=\"nav-links\" href=\"/portfolio-lander/\"&gt;Portfolio&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a class=\"nav-links\" href=\"/gallery/\"&gt;Gallery&lt;/a&gt;&lt;/li&gt;\n            &lt;/ul&gt;\n        &lt;/div&gt;\n\n    &lt;/div&gt;\n&lt;/nav&gt;\n</code></pre>\n\n<p>I have tried to implement this using javascript but it appears to no avail. It seems to be a standard practice of using tabs, however, I need to use different pages (essentially, it looks like I need to store the value of the active class?). </p>\n\n<p>Here's my\nJS</p>\n\n<pre><code>jQuery(document).ready(function ($) {\n  $(\".current-menu-item\").addClass(\"active\");\n  console.log(\"current Menu item\");\n});\n</code></pre>\n\n<p>Struggling to figure this one out. </p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 3984, "user_id": 5530965, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/MkRHF.jpg?s=128&g=1", "display_name": "Patrick Gregorio", "link": "https://stackoverflow.com/users/5530965/patrick-gregorio"}, "edited": false, "score": 0, "creation_date": 1516223466, "post_id": 48309992, "comment_id": 83605832, "body": "I usually do <code>$(document).on(&#39;click&#39;, &#39;.myclass&#39;, function(e) {});</code>."}, {"owner": {"reputation": 957, "user_id": 2778668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZeufD.jpg?s=128&g=1", "display_name": "Rohan Varma", "link": "https://stackoverflow.com/users/2778668/rohan-varma"}, "edited": false, "score": 0, "creation_date": 1516223704, "post_id": 48309992, "comment_id": 83605952, "body": "This question has been asked before: <a href=\"https://stackoverflow.com/questions/6658752/click-event-doesnt-work-on-dynamically-generated-elements\" title=\"click event doesnt work on dynamically generated elements\">stackoverflow.com/questions/6658752/&hellip;</a>. The top answer has a few good suggestions"}], "answers": [{"tags": [], "owner": {"reputation": 890, "user_id": 2335137, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/22db48dc1b0dd10ffa71cabb9e1a1b43?s=128&d=identicon&r=PG", "display_name": "JGoodgive", "link": "https://stackoverflow.com/users/2335137/jgoodgive"}, "is_accepted": false, "score": 0, "last_activity_date": 1517427586, "last_edit_date": 1517427586, "creation_date": 1516223775, "answer_id": 48310121, "question_id": 48309992, "link": "https://stackoverflow.com/questions/48309992/dynamic-items-not-triggering-on-onclick-event/48310121#48310121", "title": "dynamic items not triggering on (.on(&quot;click&quot;) event", "body": "<p>Seems you are doing a business app. Consider adding a single listener closer to the body and adding a data-clicked attribute with the call you want to make. That lets you scale without exploding your listeners all over the page. Adds performance and you don't have to add listeners to new elements.</p>\n\n<p>Short road: add .onclick class to all the stuff you listen to and the </p>\n\n<pre><code>$(\".criteria:not('.onclick')).on(\"click\", somefunction);\n</code></pre>\n\n<p>EDIT:\nLong road: I made a library that lets you to what I explained. There is a new JSBin example <a href=\"https://jsbin.com/julujekuko/edit?html,output\" rel=\"nofollow noreferrer\">here</a>. Basically you just add attributes to your html is automatic. This way it works with all new html you generate without needing any new listeners.</p>\n\n<p>It also supports both mouse and touch, as well as swipes and long press. It also lets you control preventDefault and stopPropagation as well as programmatically adding and removing events.</p>\n\n<p>Example from jsbin:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;meta charset=\"utf-8\"&gt;\n  &lt;meta name=\"viewport\" content=\"width=device-width\"&gt;\n  &lt;title&gt;JS Bin&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;div id=\"myOther\" swipe=\"alert('you swiped ' + touch.swipeInfo.direction + ' on ' + this.id);\"&gt; \n    Swipe here \n&lt;/div&gt;\n&lt;div id=\"presser\" once press=\"alert('you long pressed');\"&gt; \n    Long press here \n&lt;/div&gt;\n&lt;div id=\"outer\"&gt; \n    Tap here\n    &lt;div id=\"inner1\" tap=\"alert('you tapped the first inner div and it will bubble');\"&gt;\n        Tap here\n    &lt;/div&gt;\n    &lt;div id=\"inner2\" stopPropagation tap=\"alert('you tapped the second inner div and it doesnt bubble');\"&gt;\n        Tap here\n    &lt;/div&gt;\n&lt;/div&gt;&lt;body&gt; \n&lt;script src=\"https://unpkg.com/goodtap\"&gt;&lt;/script&gt; \n  &lt;script&gt;\n      var tap = goodtap.init();\n    tap.on(document.getElementById(\"outer\"), \"tap\", (event, target, touch) =&gt; alert(\"you tapped \" + target.id));\n\n  &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I also created a npm module for it available <a href=\"https://www.npmjs.com/package/goodtap\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 3522, "user_id": 2240163, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/XRckc.jpg?s=128&g=1", "display_name": "morne", "link": "https://stackoverflow.com/users/2240163/morne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 1, "closed_date": 1516223586, "answer_count": 1, "score": 0, "last_activity_date": 1517427586, "creation_date": 1516223228, "question_id": 48309992, "link": "https://stackoverflow.com/questions/48309992/dynamic-items-not-triggering-on-onclick-event", "closed_reason": "Duplicate", "title": "dynamic items not triggering on (.on(&quot;click&quot;) event", "body": "<p>I have a click event that looks like this.</p>\n\n<pre><code>    $( \".open_report\" ).on( \"click\",function() {\n        console.log(\"on click\");\n        //Do Stuff\n    });\n</code></pre>\n\n<p>it triggers on already created items, but not on new (dynamic) created items.</p>\n\n<p>Except for the fact that the <code>id</code>s differ ( which it should)\nand that the <code>data-report</code> tag data differ, they are the same code.\nSo I cant figure out why my on click event does not fire on dynamically added items.</p>\n\n<p><strong>loaded item which works</strong></p>\n\n<pre><code>&lt;tr id=\"18109599-1516219070.html\" data-report=\"18109599-1516219070.html\" class=\"select data-row even\"&gt;\n  &lt;td style=\"width: 300px;\" data-report=\"18109599-1516219070.html\" class=\"listing_cell open_report\"&gt;\n    &lt;div class=\"plCell_desktop\"&gt;\n      &lt;label&gt;Discharge Summary&lt;/label&gt;\n    &lt;/div&gt;\n  &lt;/td&gt;\n  &lt;td style=\"width: 125px;\" data-report=\"18109599-1516219070.html\" class=\"listing_cell open_report\"&gt;\n    &lt;div class=\"plCell_desktop\"&gt;\n      &lt;label&gt;17-01-2018,19:57&lt;/label&gt;\n    &lt;/div&gt;\n  &lt;/td&gt;\n  &lt;td style=\"width: 30px;\" class=\"listing_cell\"&gt;\n    &lt;div class=\"\"&gt;\n      &lt;input data-report=\"18109599-1516219070.html\" type=\"button\" class=\"removeButton buttons delete_report\" value=\"x\"&gt;\n    &lt;/div&gt;\n  &lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p><strong>dynamically added item</strong></p>\n\n<pre><code>&lt;tr id=\"18109599-1516219273.html\" data-report=\"18109599-1516219273.html\" class=\"select data-row\"&gt;\n  &lt;td style=\"width: 300px;\" data-report=\"18109599-1516219273.html\" class=\"listing_cell open_report\"&gt;\n    &lt;div class=\"plCell_desktop\"&gt;\n      &lt;label&gt;Discharge Summary&lt;/label&gt;\n    &lt;/div&gt;\n  &lt;/td&gt;\n  &lt;td style=\"width: 125px;\" data-report=\"18109599-1516219273.html\" class=\"listing_cell open_report\"&gt;\n    &lt;div class=\"plCell_desktop\"&gt;\n      &lt;label&gt;17-01-2018,20:01&lt;/label&gt;\n    &lt;/div&gt;\n  &lt;/td&gt;\n  &lt;td style=\"width: 30px;\" class=\"listing_cell\"&gt;\n    &lt;div class=\"\"&gt;\n      &lt;input type=\"button\" data-report=\"18109599-1516219273.html\" class=\"removeButton buttons delete_report\" value=\"x\"&gt;\n    &lt;/div&gt;\n  &lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n"}, {"tags": ["javascript", "php", "html", "css", "background-image"], "comments": [{"owner": {"reputation": 1206, "user_id": 1385783, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/56730ba41b2b86e8b83756022dd23569?s=128&d=identicon&r=PG&f=1", "display_name": "Danny", "link": "https://stackoverflow.com/users/1385783/danny"}, "edited": false, "score": 0, "creation_date": 1516223089, "post_id": 48309931, "comment_id": 83605645, "body": "You do not need to define the size of a link. Use javascript to attach a click event to an html object or wrap an element inside an anchor tag it will scale to fit whatever the elemental is it is attached to. Unless I am understanding the question wrong."}, {"owner": {"reputation": 1848, "user_id": 1513770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49220059df38f9ab17fbcebdbcc1228e?s=128&d=identicon&r=PG", "display_name": "NappingRabbit", "link": "https://stackoverflow.com/users/1513770/nappingrabbit"}, "edited": false, "score": 0, "creation_date": 1516223137, "post_id": 48309931, "comment_id": 83605667, "body": "I have a couple of questions. are you using java or php, and are you open to front-end manipulation like javascript or jquery?"}, {"owner": {"reputation": 1848, "user_id": 1513770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49220059df38f9ab17fbcebdbcc1228e?s=128&d=identicon&r=PG", "display_name": "NappingRabbit", "link": "https://stackoverflow.com/users/1513770/nappingrabbit"}, "reply_to_user": {"reputation": 1206, "user_id": 1385783, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/56730ba41b2b86e8b83756022dd23569?s=128&d=identicon&r=PG&f=1", "display_name": "Danny", "link": "https://stackoverflow.com/users/1385783/danny"}, "edited": false, "score": 0, "creation_date": 1516223196, "post_id": 48309931, "comment_id": 83605703, "body": "also, what @Danny said is what I was going to suggest anyway.  mostly the easiest/best way to do it."}, {"owner": {"reputation": 4008, "user_id": 2960971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGf2S.png?s=128&g=1", "display_name": "IncredibleHat", "link": "https://stackoverflow.com/users/2960971/incrediblehat"}, "edited": false, "score": 0, "creation_date": 1516223228, "post_id": 48309931, "comment_id": 83605720, "body": "Is it class <code>f</code> that you want click/linkable, or is it the inner divs of class <code>t</code>? Theres multiple ways to go about it. Simplest is as others say, use javascript via <a href=\"https://api.jquery.com/click/\" rel=\"nofollow noreferrer\">jquery</a>. But there is a non-js way to do it with an expanding <code>a</code> tag css."}, {"owner": {"reputation": 1206, "user_id": 1385783, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/56730ba41b2b86e8b83756022dd23569?s=128&d=identicon&r=PG&f=1", "display_name": "Danny", "link": "https://stackoverflow.com/users/1385783/danny"}, "edited": false, "score": 0, "creation_date": 1516223330, "post_id": 48309931, "comment_id": 83605768, "body": "If you do not know how to do that search for how to attach a click event to a css class in javascript."}, {"owner": {"reputation": 37, "user_id": 9081641, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b2033fd475171c1a03f484d7bb4ebd95?s=128&d=identicon&r=PG&f=1", "display_name": "nickjconn", "link": "https://stackoverflow.com/users/9081641/nickjconn"}, "reply_to_user": {"reputation": 1848, "user_id": 1513770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49220059df38f9ab17fbcebdbcc1228e?s=128&d=identicon&r=PG", "display_name": "NappingRabbit", "link": "https://stackoverflow.com/users/1513770/nappingrabbit"}, "edited": false, "score": 0, "creation_date": 1516226339, "post_id": 48309931, "comment_id": 83607081, "body": "@NappingRabbit I am currently using just html and css but I am open to it."}, {"owner": {"reputation": 37, "user_id": 9081641, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b2033fd475171c1a03f484d7bb4ebd95?s=128&d=identicon&r=PG&f=1", "display_name": "nickjconn", "link": "https://stackoverflow.com/users/9081641/nickjconn"}, "reply_to_user": {"reputation": 4008, "user_id": 2960971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGf2S.png?s=128&g=1", "display_name": "IncredibleHat", "link": "https://stackoverflow.com/users/2960971/incrediblehat"}, "edited": false, "score": 0, "creation_date": 1516226394, "post_id": 48309931, "comment_id": 83607112, "body": "@IncredibleHat I want the f class to be linkable."}, {"owner": {"reputation": 37, "user_id": 9081641, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b2033fd475171c1a03f484d7bb4ebd95?s=128&d=identicon&r=PG&f=1", "display_name": "nickjconn", "link": "https://stackoverflow.com/users/9081641/nickjconn"}, "reply_to_user": {"reputation": 1206, "user_id": 1385783, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/56730ba41b2b86e8b83756022dd23569?s=128&d=identicon&r=PG&f=1", "display_name": "Danny", "link": "https://stackoverflow.com/users/1385783/danny"}, "edited": false, "score": 0, "creation_date": 1516226414, "post_id": 48309931, "comment_id": 83607121, "body": "@Danny thankyou! Im gonna search that now"}], "answers": [{"tags": [], "owner": {"reputation": 104, "user_id": 8895773, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OQKcV523P6A/AAAAAAAAAAI/AAAAAAAAAQM/maewCIKv1s8/photo.jpg?sz=128", "display_name": "Nikola Seke", "link": "https://stackoverflow.com/users/8895773/nikola-seke"}, "is_accepted": false, "score": 0, "last_activity_date": 1516227461, "creation_date": 1516227461, "answer_id": 48310932, "question_id": 48309931, "link": "https://stackoverflow.com/questions/48309931/how-do-you-make-a-background-image-in-a-grid-clickable/48310932#48310932", "title": "How do you make a background image in a grid clickable?", "body": "<p>The easiest way without JS is something like this:</p>\n\n<pre><code>&lt;a href=\"https://google.com/\" target=\"_blank\"&gt;&lt;img src=\"https://res.cloudinary.com/sekenikola/image/upload/v1505839813/Rost%20studio/portfolio/08.png\" alt=\"\"&gt;&lt;/a&gt;\n</code></pre>\n\n<p>use target=\"_blank\" to open in new window or target=\"_self\" to open in same window</p>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 9081641, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b2033fd475171c1a03f484d7bb4ebd95?s=128&d=identicon&r=PG&f=1", "display_name": "nickjconn", "link": "https://stackoverflow.com/users/9081641/nickjconn"}, "edited": false, "score": 0, "creation_date": 1516236366, "post_id": 48310933, "comment_id": 83610287, "body": "wow, thank you so much! I went with the jquery method and it works flawlessly."}], "tags": [], "owner": {"reputation": 4008, "user_id": 2960971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGf2S.png?s=128&g=1", "display_name": "IncredibleHat", "link": "https://stackoverflow.com/users/2960971/incrediblehat"}, "is_accepted": true, "score": 1, "last_activity_date": 1516227476, "creation_date": 1516227476, "answer_id": 48310933, "question_id": 48309931, "link": "https://stackoverflow.com/questions/48309931/how-do-you-make-a-background-image-in-a-grid-clickable/48310933#48310933", "title": "How do you make a background image in a grid clickable?", "body": "<p>A purely CSS HTML method would be to add a cover anchor element:</p>\n\n<pre><code>&lt;div class=\"f f1\"&gt;\n    &lt;div class=\"t\"&gt;\n        &lt;h3&gt;Scummy Flower Boy&lt;/h3&gt;\n        &lt;p&gt;Tyler the Creator&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;a class=\"overclick\" href=\"/url/to/go/somewhere\"&gt;Some google happy text&lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Add this to the .f class to give it a base:</p>\n\n<pre><code>.f {\n    ...\n    position: relative;/* shouldn't affect your grid */\n    }\n</code></pre>\n\n<p>And then the special css for the anchor would be simply:</p>\n\n<pre><code>a.overclick {\n    position: absolute;\n    top: 0; right: 0; bottom: 0; left: 0;\n    opacity: 0;\n    text-indent: -999em;/* to hide its text from humans, but google is still happy */\n    }\n    a.overclick:hover {\n        /* this just lightly fades when you hover, can be excluded */\n        background-color: #fff;\n        opacity: 0.12;\n        }\n</code></pre>\n\n<p>That creates an anchor link element that 'fills' each f div, so when you click in it, it goes somewhere. But you dont see it visually, its just there. We've used this on some sites that dont want javascript to handle click events in this fashion.</p>\n\n<hr>\n\n<p>Now, a javascript method using a jQuery method. Add this to your divs of class f:</p>\n\n<pre><code>&lt;div class=\"f f1\" goto=\"/url/to/somewhere\"&gt;\n     ...\n&lt;/div&gt;\n</code></pre>\n\n<p>And then the script block:</p>\n\n<pre><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    $( document ).ready(function() {\n        $(\".f\").click(function(e){\n            window.location = $(this).attr('goto');\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 9081641, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b2033fd475171c1a03f484d7bb4ebd95?s=128&d=identicon&r=PG&f=1", "display_name": "nickjconn", "link": "https://stackoverflow.com/users/9081641/nickjconn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 540, "favorite_count": 0, "accepted_answer_id": 48310933, "answer_count": 2, "score": 0, "last_activity_date": 1516227476, "creation_date": 1516222960, "last_edit_date": 1516224246, "question_id": 48309931, "link": "https://stackoverflow.com/questions/48309931/how-do-you-make-a-background-image-in-a-grid-clickable", "title": "How do you make a background image in a grid clickable?", "body": "<p>I have a grid of images as my home screen with text layered over them. It is in a grid that has a minimum height requirment for rows, but it doesnt have a maximum. The colums are just a fraction of the whole screen size so they do not have set width. This is where I am stuck, how do I make them linkable without knowing the size of them? Thank you!</p>\n\n<p>HTML </p>\n\n<pre><code>&lt;div class=\"grid\"&gt;\n\n    &lt;div class=\"f f1\" href=\"me\"&gt;\n        &lt;div class=\"t\"&gt;\n            &lt;h3&gt;Scum Fuck Flower Boy&lt;/h3&gt;\n            &lt;p&gt;Tyler the Creator&lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"f f2\"&gt;\n        &lt;div class=\"t\"&gt;\n            &lt;h3&gt;No Dope on Sundays&lt;/h3&gt;\n            &lt;p&gt;CyHi da Prynce&lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"f f3\"&gt;\n        &lt;div class=\"t\"&gt;\n            &lt;h3&gt;The Life of Pablo&lt;/h3&gt;\n            &lt;p&gt;Kanye West&lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"f f4\"&gt;\n        &lt;div class=\"t\"&gt;\n            &lt;h3&gt;Kanye and Kim have a kid&lt;/h3&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"f f5\"&gt;\n        &lt;div class=\"t\"&gt;\n            &lt;h3&gt;My Beatutiful Dark Twisted Fantasy&lt;/h3&gt;\n            &lt;p&gt;Kanye West&lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>CSS </p>\n\n<pre><code>.grid { \ndisplay: grid;\ngrid-template-columns: repeat(3, 1fr);\ngrid-auto-rows: 350px;\nmargin: 30px 150px 30px 150px;\nposition: relative;\n}\n\n.f {\nwidth: 100%;\nheight: 100%;\nposition: relative;\nbackground-repeat: no-repeat;\nbackground-size: cover;\nbackground-color: grey;\n}\n\n.t {\nposition: absolute;\nbottom: 0;\nleft: 0;\nmargin: 0;\nmargin-bottom: 10px;\n}\n\n.t h3 {\ncolor: white;\nposition: relative;\nfont-size: 2rem;\nfont-weight: 500;\nfont-style: bold;\npadding-left: 15px;\n}\n\n.t p {\ncolor: white;\nposition: relative;\nfont-size: 1.2rem;\nfont-weight: 400;\npadding-left: 15px;\n}\n\n.f1 {\ngrid-column: 1/3;\ngrid-row: 1/3;\nbackground-image: linear-gradient(rgba(0,0,0,0.45), rgba(0,0,0,0.45)), \nurl(\"/images/album/tyler.jpg\");\n}\n\n.f2 {\ngrid-column: 3/4;\ngrid-row: 1/2;\nbackground-image: linear-gradient(rgba(0,0,0,0.45), rgba(0,0,0,0.45)), \nurl(\"/images/album/dope.jpg\");\n\n}\n\n.f3 {\ngrid-column: 3/4;\ngrid-row: 2/4;\nbackground-image: linear-gradient(rgba(0,0,0,0.45), rgba(0,0,0,0.45)), \nurl(\"/images/album/kanye.jpg\");\n\n}\n\n.f4 {\ngrid-column: 1/2;\ngrid-row: 3/4;\nbackground-image: linear-gradient(rgba(0,0,0,0.45), rgba(0,0,0,0.45)), \nurl(\"/images/album/selfie.jpg\");\n\n}\n\n.f5 {\ngrid-column: 2/3;\ngrid-row: 3/4;\nbackground-image: linear-gradient(rgba(0,0,0,0.45), rgba(0,0,0,0.45)), \nurl(\"/images/album/fantasy.jpg\");\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 1, "creation_date": 1516222905, "post_id": 48309867, "comment_id": 83605548, "body": "<code>$(&#39;.collapsible-body&#39;)[i]</code> &lt;-- returns DOM, it does not have an append method."}], "answers": [{"tags": [], "owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "is_accepted": true, "score": 1, "last_activity_date": 1516223021, "last_edit_date": 1516223021, "creation_date": 1516222843, "answer_id": 48309901, "question_id": 48309867, "link": "https://stackoverflow.com/questions/48309867/jquery-append-in-certain-position-of-class-selector/48309901#48309901", "title": "Jquery.append() in certain position of class selector", "body": "<p>No need to check for the length (jQuery's easy like that), and you're using the wrong kind of each. You're using <a href=\"http://api.jquery.com/jquery.each/\" rel=\"nofollow noreferrer\">the general iterator</a> whereas jQuery has <a href=\"https://api.jquery.com/each/\" rel=\"nofollow noreferrer\">a special iterator for jQuery objects</a>. </p>\n\n<pre><code>var $collapsibleProducts = $('.collapsible-body');\n\n$collapsibleProducts.each(function(i, el) {\n  if ($(el).children().length === 0) {\n    $(el).append(\"&lt;span class='something'&gt;something&lt;/span&gt;\");\n  }\n});\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 6664402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iL13e.jpg?s=128&g=1", "display_name": "manuelsandoya", "link": "https://stackoverflow.com/users/6664402/manuelsandoya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 48309901, "answer_count": 1, "score": 0, "last_activity_date": 1516223073, "creation_date": 1516222646, "last_edit_date": 1516222881, "question_id": 48309867, "link": "https://stackoverflow.com/questions/48309867/jquery-append-in-certain-position-of-class-selector", "title": "Jquery.append() in certain position of class selector", "body": "<p>I have this jQuery code:</p>\n\n<pre><code>var $collapsibleProducts = $('.collapsible-body');\nif ($collapsibleProducts.length != 0) {\n  $.each($('.collapsible-body'), function (i) { \n    if ($('.collapsible-body')[i].children.length === 0) {\n      $('.collapsible-body')[i].append(\"&lt;span class='something'&gt;something&lt;/span&gt;\")\n    }\n  });\n}\n</code></pre>\n\n<p>But I only getting inside my <code>div.collapsible-body</code> this string <code>\"&lt;span class='something'&gt;something&lt;/span&gt;\"</code> instead of html <code>&lt;span&gt;</code> tag with 'something' string.</p>\n\n<p>Like <a href=\"https://i.stack.imgur.com/Sz4Ov.png\" rel=\"nofollow noreferrer\">this (image)</a></p>\n\n<p>Is there something I doing wrong? or is there another way to do it?</p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 22836, "user_id": 152786, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/581hP.jpg?s=128&g=1", "display_name": "smathy", "link": "https://stackoverflow.com/users/152786/smathy"}, "is_accepted": false, "score": 2, "last_activity_date": 1516223357, "creation_date": 1516223357, "answer_id": 48310021, "question_id": 48309865, "link": "https://stackoverflow.com/questions/48309865/not-hitting-debugger-statement-in-handleonsubmit/48310021#48310021", "title": "Not hitting `debugger` statement in `handleOnSubmit`", "body": "<p>In your <code>form onSubmit</code> you've misspelt <code>handleOnSubmit</code> (you left out the <code>l</code>)</p>\n"}], "owner": {"reputation": 1, "user_id": 9231763, "user_type": "registered", "profile_image": "https://graph.facebook.com/10101314483486971/picture?type=large", "display_name": "Cole Martin", "link": "https://stackoverflow.com/users/9231763/cole-martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523051174, "creation_date": 1516222643, "last_edit_date": 1523051174, "question_id": 48309865, "link": "https://stackoverflow.com/questions/48309865/not-hitting-debugger-statement-in-handleonsubmit", "title": "Not hitting `debugger` statement in `handleOnSubmit`", "body": "<p>I'm having a pretty specific problem in my React with Rails API backend app. I have a Redux form that I am using to create a new object, a real estate listing. The state is changing in my <code>onChange</code> function but when I click submit, the page refreshes and nothing was created. I put <code>debugger</code> inside my <code>handleOnSubmit</code> and it\u2019s not hitting, any ideas?</p>\n\n<p><code>ListingForm.js</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport { updateListingFormData } from '../actions/listingForm';\nimport { createListing } from '../actions/listings';\n\nclass ListingForm extends Component {\n\n  handleOnChange = event =&gt; {\n    const { name, value } = event.target;\n    const currentListingFormData = Object.assign({}, this.props.listingFormData, {\n      [name]: value\n    })\n    this.props.updateListingFormData(currentListingFormData)\n  }\n\n  handleOnSubmit = (event) =&gt; {\n    debugger;\n    event.preventDefault()\n    this.props.createListing(this.props.listingFormData)\n  }\n\n\n  render() {\n    const { title, price, location, description, img_url, agent_name, agent_number, agent_email } = this.props.listingFormData;\n\n    return (\n      &lt;div className=\"ListingForm\"&gt;\n        &lt;h3&gt;Add New Listing&lt;/h3&gt;\n        &lt;form onSubmit={(event) =&gt; this.handeOnSubmit(event)}&gt;\n          &lt;label htmlFor=\"listing_title\"&gt;Title&lt;/label&gt;\n          &lt;input\n            type=\"text\"\n            name=\"title\"\n            value={title}\n            onChange={(event) =&gt; this.handleOnChange(event)}\n            placeholder=\"Listing Title\"\n          /&gt;\n\n          &lt;label htmlFor=\"listing_location\"&gt;Location&lt;/label&gt;\n          &lt;input\n            type=\"text\"\n            name=\"location\"\n            value={location}\n            onChange={(event) =&gt; this.handleOnChange(event)}\n            placeholder=\"Listing City or County\"\n          /&gt;\n\n          &lt;label htmlFor=\"listing_price\"&gt;Price&lt;/label&gt;\n          &lt;input\n            type=\"integer\"\n            name=\"price\"\n            value={price}\n            onChange={(event) =&gt; this.handleOnChange(event)}\n            placeholder=\"Listing Price\"\n          /&gt;\n\n          &lt;label htmlFor=\"listing_description\"&gt;Description&lt;/label&gt;\n          &lt;input\n            type=\"text\"\n            name=\"description\"\n            value={description}\n            onChange={(event) =&gt; this.handleOnChange(event)}\n            placeholder=\"Listing Description\"\n          /&gt;\n\n          &lt;label htmlFor=\"listing_image\"&gt;Attach Image&lt;/label&gt;\n          &lt;input\n            type=\"text\"\n            name=\"img_url\"\n            value={img_url}\n            onChange={(event) =&gt; this.handleOnChange(event)}\n            placeholder=\"Listing Image\"\n          /&gt;\n\n          &lt;label htmlFor=\"agent_name\"&gt;Listing Agent&lt;/label&gt;\n          &lt;input\n            type=\"text\"\n            name=\"agent_name\"\n            value={agent_name}\n            onChange={(event) =&gt; this.handleOnChange(event)}\n            placeholder=\"Agent Name\"\n          /&gt;\n\n          &lt;label htmlFor=\"agent_number\"&gt;Listing Agent Phone&lt;/label&gt;\n          &lt;input\n            type=\"text\"\n            name=\"agent_number\"\n            value={agent_number}\n            onChange={(event) =&gt; this.handleOnChange(event)}\n            placeholder=\"Agent Phone\"\n          /&gt;\n\n          &lt;label htmlFor=\"agent_email\"&gt;Agent Email&lt;/label&gt;\n          &lt;input\n            type=\"text\"\n            name=\"agent_email\"\n            value={agent_email}\n            onChange={(event) =&gt; this.handleOnChange(event)}\n            placeholder=\"Agent Email\"\n          /&gt;\n\n          &lt;button type=\"submit\"&gt; Add Listing&lt;/button&gt;\n        &lt;/form&gt;\n      &lt;/div&gt;\n    )\n  }\n}\n\nconst mapStateToProps = state =&gt; {\n  return {\n    listingFormData: state.listingFormData\n  }\n}\n\nexport default connect(mapStateToProps, {updateListingFormData,createListing})(ListingForm);\n</code></pre>\n"}, {"tags": ["javascript", "ckeditor"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6100520"}, "is_accepted": true, "score": 4, "last_activity_date": 1516234956, "creation_date": 1516234956, "answer_id": 48312083, "question_id": 48309852, "link": "https://stackoverflow.com/questions/48309852/ckeditor-multiple-config-js-files/48312083#48312083", "title": "CKEditor: Multiple config.js files", "body": "<p>You can <code>customConfig</code> option and specify path to your config file</p>\n\n<pre><code>CKEDITOR.replace( 'editor1', {\n    customConfig: '/custom/ckeditor_config.js'\n});\n</code></pre>\n\n<p>More information - <a href=\"https://docs.ckeditor.com/ckeditor4/docs/?mobile=/guide/dev_configuration\" rel=\"nofollow noreferrer\">https://docs.ckeditor.com/ckeditor4/docs/?mobile=/guide/dev_configuration</a></p>\n"}, {"tags": [], "owner": {"reputation": 15, "user_id": 9231776, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160161645040508/picture?type=large", "display_name": "Yvan Leclerc", "link": "https://stackoverflow.com/users/9231776/yvan-leclerc"}, "is_accepted": false, "score": 0, "last_activity_date": 1516281066, "creation_date": 1516281066, "answer_id": 48322195, "question_id": 48309852, "link": "https://stackoverflow.com/questions/48309852/ckeditor-multiple-config-js-files/48322195#48322195", "title": "CKEditor: Multiple config.js files", "body": "<p>Thanks!</p>\n\n<p>Not being a programmer, I had to play with it a little bit.</p>\n\n<p>In Page 2 (html file) just before the <code>&lt;/head&gt;</code>tag, I added the following code:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    CKEDITOR.config.customConfig = \"../customfolder/config.js\";\n    CKEDITOR.replace(content);\n&lt;/script&gt;\n</code></pre>\n\n<p>\"content\" is the name of the text area.</p>\n\n<p>Thanks</p>\n"}], "owner": {"reputation": 15, "user_id": 9231776, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160161645040508/picture?type=large", "display_name": "Yvan Leclerc", "link": "https://stackoverflow.com/users/9231776/yvan-leclerc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 777, "favorite_count": 1, "accepted_answer_id": 48312083, "answer_count": 2, "score": 1, "last_activity_date": 1516356007, "creation_date": 1516222578, "last_edit_date": 1516356007, "question_id": 48309852, "link": "https://stackoverflow.com/questions/48309852/ckeditor-multiple-config-js-files", "title": "CKEditor: Multiple config.js files", "body": "<p>I have 2 HTML pages using CKEditor.</p>\n\n<p>In Page 1, I want to use the default <code>config.js</code> file.</p>\n\n<p>In Page 2, I want to use a custom <code>config.js</code> file.</p>\n\n<p>How would I achieve this?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1516223062, "post_id": 48309846, "comment_id": 83605630, "body": "i2 = i1; will not update the value of the input... the variable i2 has no binding to the value."}], "answers": [{"comments": [{"owner": {"reputation": 2411, "user_id": 1293245, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ZGv5s.jpg?s=128&g=1", "display_name": "zerowords", "link": "https://stackoverflow.com/users/1293245/zerowords"}, "edited": false, "score": 0, "creation_date": 1516223859, "post_id": 48309917, "comment_id": 83606021, "body": "Yes, but technically your second [0] was meant to be [1]."}], "tags": [], "owner": {"reputation": 521, "user_id": 2586598, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PNA2C.png?s=128&g=1", "display_name": "dougtesting.net", "link": "https://stackoverflow.com/users/2586598/dougtesting-net"}, "is_accepted": false, "score": 1, "last_activity_date": 1516222893, "creation_date": 1516222893, "answer_id": 48309917, "question_id": 48309846, "link": "https://stackoverflow.com/questions/48309846/copying-input-value-in-this-id-to-input-in-other-id/48309917#48309917", "title": "Copying &lt;input&gt; value in this id to &lt;input&gt; in other id", "body": "<p>I think your JS code needs to be something like this...</p>\n\n<pre><code>var r1 = document.getElementById(\"round1\");\nvar i1 = r1.getElementsByTagName(\"input\")[0];\nalert(i1.value);\nvar r2 = document.getElementById(\"round2\");\nvar i2 = r2.getElementsByTagName(\"input\")[0];\nalert(i2.value);\ni2.value = i1.value;\n</code></pre>\n\n<p>The issue with your original code was that you were getting the value of the fields in to vars and not references to the fields themselves.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9231661, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155825087366047/picture?type=large", "display_name": "Ignacio Orellana", "link": "https://stackoverflow.com/users/9231661/ignacio-orellana"}, "is_accepted": false, "score": 1, "last_activity_date": 1516222906, "creation_date": 1516222906, "answer_id": 48309919, "question_id": 48309846, "link": "https://stackoverflow.com/questions/48309846/copying-input-value-in-this-id-to-input-in-other-id/48309919#48309919", "title": "Copying &lt;input&gt; value in this id to &lt;input&gt; in other id", "body": "<p>what you are storing in i2 and i1 is value of the elements and not the reference to the elements, that's why your code is not working, what you can do is store the element in the variables and exchange the value of those elements, like this:</p>\n\n<pre><code>var r1 = document.getElementById(\"round1\");\nvar i1 = r1.getElementsByTagName(\"input\")[0];\nalert(i1.value);\nvar r2 = document.getElementById(\"round2\");\nvar i2 = r2.getElementsByTagName(\"input\")[1];\nalert(i2.value);\ni2.value = i1.value;\n</code></pre>\n\n<p>Values in JS are copied to new variables and elements are passed by reference, this means that even if you have them in variables, if you edit them, the result will impact on the html code.</p>\n\n<p>hope it helps !</p>\n"}, {"tags": [], "owner": {"reputation": 234, "user_id": 1563137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4527dc8f62a08c0417c76232963780fe?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/1563137/chris"}, "is_accepted": true, "score": 2, "last_activity_date": 1516223148, "creation_date": 1516223148, "answer_id": 48309975, "question_id": 48309846, "link": "https://stackoverflow.com/questions/48309846/copying-input-value-in-this-id-to-input-in-other-id/48309975#48309975", "title": "Copying &lt;input&gt; value in this id to &lt;input&gt; in other id", "body": "<p>When you set i1 and i2 initially, you extracted the strings in each by value.  This is important because i1 and i2 each represent a <em>copy</em> of the value of each form element, not the value of the element itself.</p>\n\n<p>You could skip declaring the <code>i</code> variables separately and instead put:</p>\n\n<pre><code>r2.getElementsByTagName(\"input\")[1].value=r1.getElementsByTagName(\"input\")[0].value;\n</code></pre>\n\n<p>Of course, you can skip the intermediate steps entirely and do everything at the same time:</p>\n\n<pre><code> document.getElementById(\"round2\").getElementsByTagName(\"input\")[1].value = document.getElementById(\"round1\").getElementsByTagName(\"input\")[0].value;\n</code></pre>\n"}], "owner": {"reputation": 2411, "user_id": 1293245, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ZGv5s.jpg?s=128&g=1", "display_name": "zerowords", "link": "https://stackoverflow.com/users/1293245/zerowords"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 48309975, "answer_count": 3, "score": 0, "last_activity_date": 1516223148, "creation_date": 1516222529, "question_id": 48309846, "link": "https://stackoverflow.com/questions/48309846/copying-input-value-in-this-id-to-input-in-other-id", "title": "Copying &lt;input&gt; value in this id to &lt;input&gt; in other id", "body": "<p>I want to copy the input value in \"Round 1\" to \"Round 2\" using javascript. My \"Round 2\" values will really be empty, but for debugging I have given them values. </p>\n\n<p>I think the line in my JS <code>i2 = i1;</code> needs to be enhanced but cannot figure out how. I've tried using  \".innerHTML\" for example, but no luck.</p>\n\n<p><a href=\"https://jsfiddle.net/x9uu3jvy/\" rel=\"nofollow noreferrer\" title=\"FIDDLE\">FIDDLE</a></p>\n\n<pre><code>Html:\n\n&lt;div id=\"round1\"&gt;\n  &lt;input type=\"text\" name=\"partner1\" value=\"name1\" /&gt;\n  &lt;input type=\"text\" name=\"partner2\" value=\"name2\" /&gt;\n&lt;/div&gt;\n&lt;div id=\"round2\"&gt;\n  &lt;input type=\"text\" readonly name=\"partner1\" value=\"name3\" /&gt;\n  &lt;input type=\"text\" readonly name=\"partner2\" value=\"name4\" /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>JS:</p>\n\n<pre><code>var r1 = document.getElementById(\"round1\");\nvar i1 = r1.getElementsByTagName(\"input\")[0].value;\nalert(i1);\nvar r2 = document.getElementById(\"round2\");\nvar i2 = r2.getElementsByTagName(\"input\")[1].value;\nalert(i2);\ni2 = i1;\n</code></pre>\n"}, {"tags": ["javascript", "firebase", "firebase-realtime-database", "algolia"], "comments": [{"owner": {"reputation": 7109, "user_id": 638080, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/K2Hkw.jpg?s=128&g=1", "display_name": "Nick Parsons", "link": "https://stackoverflow.com/users/638080/nick-parsons"}, "edited": false, "score": 0, "creation_date": 1516222774, "post_id": 48309835, "comment_id": 83605487, "body": "What is getting kicked back from your console.error?"}, {"owner": {"reputation": 176, "user_id": 5479763, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/8Amzd.png?s=128&g=1", "display_name": "Ndheti", "link": "https://stackoverflow.com/users/5479763/ndheti"}, "reply_to_user": {"reputation": 7109, "user_id": 638080, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/K2Hkw.jpg?s=128&g=1", "display_name": "Nick Parsons", "link": "https://stackoverflow.com/users/638080/nick-parsons"}, "edited": false, "score": 0, "creation_date": 1516223585, "post_id": 48309835, "comment_id": 83605895, "body": "console does not report any error. Dont know why"}, {"owner": {"reputation": 7109, "user_id": 638080, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/K2Hkw.jpg?s=128&g=1", "display_name": "Nick Parsons", "link": "https://stackoverflow.com/users/638080/nick-parsons"}, "edited": false, "score": 0, "creation_date": 1516223704, "post_id": 48309835, "comment_id": 83605951, "body": "did you try a generic console.log?"}, {"owner": {"reputation": 176, "user_id": 5479763, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/8Amzd.png?s=128&g=1", "display_name": "Ndheti", "link": "https://stackoverflow.com/users/5479763/ndheti"}, "reply_to_user": {"reputation": 7109, "user_id": 638080, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/K2Hkw.jpg?s=128&g=1", "display_name": "Nick Parsons", "link": "https://stackoverflow.com/users/638080/nick-parsons"}, "edited": false, "score": 0, "creation_date": 1516225028, "post_id": 48309835, "comment_id": 83606531, "body": "I tried the generic one and does report <code>database.ref(&#39;&#47;contactDetail&#47;brazil&#39;).once(&#39;value&#39;, contacts =&gt; {   &#47;&#47; Build an array of all records to push to Algolia   console.log(&quot;Logged in to firebase&quot;);   const records = [];</code>"}, {"owner": {"reputation": 2292, "user_id": 147079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/667176b96540d167eb74f473c9aea5f7?s=128&d=identicon&r=PG", "display_name": "vvo", "link": "https://stackoverflow.com/users/147079/vvo"}, "edited": false, "score": 0, "creation_date": 1516283812, "post_id": 48309835, "comment_id": 83631134, "body": "Hi @ndheti 3000 might be too big as a single save for Algolia, what you could try is to save chunks of objects, there&#39;s a good gist that is showing how to do that here: <a href=\"https://gist.github.com/romelgomez/c98991b90fb3b57981b5\" rel=\"nofollow noreferrer\">gist.github.com/romelgomez/c98991b90fb3b57981b5</a>"}, {"owner": {"reputation": 176, "user_id": 5479763, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/8Amzd.png?s=128&g=1", "display_name": "Ndheti", "link": "https://stackoverflow.com/users/5479763/ndheti"}, "edited": false, "score": 0, "creation_date": 1516388922, "post_id": 48309835, "comment_id": 83681983, "body": "i ended up uploading the data directly to algolia and firebase functions can still update algolia on  changes"}], "owner": {"reputation": 176, "user_id": 5479763, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/8Amzd.png?s=128&g=1", "display_name": "Ndheti", "link": "https://stackoverflow.com/users/5479763/ndheti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 272, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1516222477, "creation_date": 1516222477, "question_id": 48309835, "link": "https://stackoverflow.com/questions/48309835/get-firebase-data-to-algolia-search-indexing", "title": "Get Firebase data to Algolia search indexing", "body": "<p>I am trying to get a large dataset in Firebase database to Algolia for search indexing and every time I get a timeout error, what does that mean and how can I solve it?</p>\n\n<p>I have created a node.js application to copy the data over and is as below. I can copy small data, say 10 contacts just fine, the problem is 3,000 contacts.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const algoliasearch = require('algoliasearch');\r\nconst dotenv = require('dotenv');  \r\nconst firebase = require('firebase');\r\n\r\n// load values from the .env file in this directory into process.env\r\ndotenv.load();\r\n\r\n// configure firebase\r\nfirebase.initializeApp({\r\n  databaseURL: process.env.FIREBASE_DATABASE_URL,\r\n});\r\nconst database = firebase.database();\r\n\r\n// configure algolia\r\nconst algolia = algoliasearch(\r\n  process.env.ALGOLIA_APP_ID,\r\n  process.env.ALGOLIA_API_KEY\r\n);\r\nconst index = algolia.initIndex(process.env.ALGOLIA_INDEX_NAME);\r\n\r\n\r\n// Get all contacts from Firebase\r\ndatabase.ref('/contactDetail/brazil').once('value', contacts =&gt; {\r\n  // Build an array of all records to push to Algolia\r\n  const records = [];\r\n  contacts.forEach(contact =&gt; {\r\n    // get the key and data from the snapshot\r\n    const childKey = contact.key;\r\n    const childData = contact.val();\r\n    // We set the Algolia objectID as the Firebase .key\r\n    childData.objectID = childKey;\r\n    // Add object for indexing\r\n    records.push(childData);\r\n  });\r\n\r\n  // Add or update new objects\r\n  index\r\n    .saveObjects(records)\r\n    .then(() =&gt; {\r\n      console.log('Contacts imported into Algolia');\r\n    })\r\n    .catch(error =&gt; {\r\n      console.error('Error when importing contact into Algolia', error);\r\n      process.exit(1);\r\n    });\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I get a snippet of the contacts json and the following message:</p>\n\n<pre><code>   contentLength: 854068,\n   method: 'POST',\n   timeouts: [Object],\n   url: '/1/indexes/app_NAME/batch',\n   startTime: 2018-01-17T20:35:27.239Z,\n   endTime: 2018-01-17T20:35:39.242Z,\n   duration: 12003 } ] }\n</code></pre>\n"}, {"tags": ["javascript", "arrays"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1516222756, "post_id": 48309818, "comment_id": 83605472, "body": "so just use substring from the end?"}, {"owner": {"reputation": 8395, "user_id": 6567275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e298067d69d9ef222a00222374549af1?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6567275/thomas"}, "edited": false, "score": 2, "creation_date": 1516222948, "post_id": 48309818, "comment_id": 83605565, "body": "<code>word.split(&quot;&quot;).map((c,i) =&gt; word.slice(-1-i))</code> or <code>[].map.call(word, (c,i) =&gt; word.slice(-1-i))</code>"}, {"owner": {"reputation": 4632, "user_id": 5267669, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hhtof.jpg?s=128&g=1", "display_name": "eltonkamami", "link": "https://stackoverflow.com/users/5267669/eltonkamami"}, "reply_to_user": {"reputation": 8395, "user_id": 6567275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e298067d69d9ef222a00222374549af1?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6567275/thomas"}, "edited": false, "score": 0, "creation_date": 1516223086, "post_id": 48309818, "comment_id": 83605642, "body": "@Thomas i would add a <code>toLowerCase()</code> for good measure and create an answer :D"}], "answers": [{"tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": false, "score": 0, "last_activity_date": 1516223027, "creation_date": 1516223027, "answer_id": 48309946, "question_id": 48309818, "link": "https://stackoverflow.com/questions/48309818/ho-to-reverse-split-string-into-a-javascript-array/48309946#48309946", "title": "Ho to reverse split string into a JavaScript array?", "body": "<p>You can split the string, and iterate the array with Array#map, and generate the string using slice:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var word = 'work';\r\n\r\nvar result = word.split('').map(function(l, i) {\r\n  return word.slice(-i - 1);\r\n});\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 132, "user_id": 6922184, "user_type": "registered", "profile_image": "https://graph.facebook.com/1395223827157742/picture?type=large", "display_name": "Yurii Kovalenko", "link": "https://stackoverflow.com/users/6922184/yurii-kovalenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1516223087, "creation_date": 1516223087, "answer_id": 48309960, "question_id": 48309818, "link": "https://stackoverflow.com/questions/48309818/ho-to-reverse-split-string-into-a-javascript-array/48309960#48309960", "title": "Ho to reverse split string into a JavaScript array?", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>for (let index = 0; index &lt; word.length; index++) \r\n    {\r\n         strArray.push(word.slice(index));\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1293, "user_id": 1367039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e89dcb45151fded5c1a3b749646be5f2?s=128&d=identicon&r=PG", "display_name": "Chris Riebschlager", "link": "https://stackoverflow.com/users/1367039/chris-riebschlager"}, "is_accepted": true, "score": 0, "last_activity_date": 1516223123, "creation_date": 1516223123, "answer_id": 48309967, "question_id": 48309818, "link": "https://stackoverflow.com/questions/48309818/ho-to-reverse-split-string-into-a-javascript-array/48309967#48309967", "title": "Ho to reverse split string into a JavaScript array?", "body": "<p>It looks like you may want to be <code>slice</code>ing your string. Here's something that'll do that: </p>\n\n<pre><code>function wordSplit(word) {\n  let strArray = [];\n  for (let i = 0; i &lt; word.length; i++) {\n    strArray.push(word.slice(i));\n  }\n  return strArray;\n}\n</code></pre>\n\n<p>And a fiddle: <a href=\"https://jsfiddle.net/13kephm9/7/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/13kephm9/7/</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10856629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78a46a60dc6001402e44fac31f65a437?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammed Ajmal M", "link": "https://stackoverflow.com/users/10856629/muhammed-ajmal-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1571822588, "creation_date": 1571822588, "answer_id": 58519583, "question_id": 48309818, "link": "https://stackoverflow.com/questions/48309818/ho-to-reverse-split-string-into-a-javascript-array/58519583#58519583", "title": "Ho to reverse split string into a JavaScript array?", "body": "<p>array string elements reversing</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function rev(arr){      \r\n    var text = new Array;      \r\n    for(var i= arr.length-1;i&gt;= 0;i--){        \r\n        text.push(arr[i]);   \r\n    }   \r\n    return text.join();         \r\n\r\n}  \r\nconsole.log(rev([\"a\",\"b\",\"c\"])); </code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<pre><code>      `print`\n</code></pre>\n"}], "owner": {"reputation": 302, "user_id": 4168338, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f0a92a5cb714cdc6783213734c16f35e?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff", "link": "https://stackoverflow.com/users/4168338/jeff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 566, "favorite_count": 0, "accepted_answer_id": 48309967, "answer_count": 4, "score": 0, "last_activity_date": 1571822588, "creation_date": 1516222400, "last_edit_date": 1529111935, "question_id": 48309818, "link": "https://stackoverflow.com/questions/48309818/ho-to-reverse-split-string-into-a-javascript-array", "title": "Ho to reverse split string into a JavaScript array?", "body": "<p>I want to use one loop to split or explode a string into an array like </p>\n\n<p><code>\"Work\" // -&gt; var strArray = [k, rk, ork, work]</code></p>\n\n<p>I tried <code>for</code> loop, but I know this is not an efficient.</p>\n\n<pre><code>    for (let index = 0; index &lt; word.length; index++) \n    {\n         strArray.push(word[word.length - 1]);\n    }\n</code></pre>\n\n<p>Any idea?</p>\n"}, {"tags": ["javascript", "algorithm", "sorting"], "comments": [{"owner": {"reputation": 11660, "user_id": 2055998, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2Vx3A.jpg?s=128&g=1", "display_name": "PM 77-1", "link": "https://stackoverflow.com/users/2055998/pm-77-1"}, "edited": false, "score": 1, "creation_date": 1516222713, "post_id": 48309803, "comment_id": 83605457, "body": "What does &quot;<i>by combining item values</i>&quot; actually mean? Where is the invariant?"}, {"owner": {"reputation": 8395, "user_id": 6567275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e298067d69d9ef222a00222374549af1?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6567275/thomas"}, "edited": false, "score": 0, "creation_date": 1516316134, "post_id": 48309803, "comment_id": 83649041, "body": "I&#39;ve read this question a few times, and still don&#39;t get it. What&#39;s the purpose/meaning of these numbers? What properties does this array have; what properties should be preserved when shortening it? What is best <code>[5,5,5]</code>, <code>[1,6,8]</code>, <code>[1,1,13]</code>, and why?"}, {"owner": {"reputation": 18057, "user_id": 1113921, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/731027a0b6612d93118a2337bc8e20de?s=128&d=identicon&r=PG", "display_name": "Dan Kanze", "link": "https://stackoverflow.com/users/1113921/dan-kanze"}, "reply_to_user": {"reputation": 8395, "user_id": 6567275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e298067d69d9ef222a00222374549af1?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6567275/thomas"}, "edited": false, "score": 0, "creation_date": 1516381076, "post_id": 48309803, "comment_id": 83677730, "body": "@Thomas Ori sort of beat me to the explanation with his code - he&#39;s redistributing total value of the array while preserving integer type. I admit there&#39;s more involved after this bit for my specific use case but I didn&#39;t want to complicate the example."}], "answers": [{"comments": [{"owner": {"reputation": 18057, "user_id": 1113921, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/731027a0b6612d93118a2337bc8e20de?s=128&d=identicon&r=PG", "display_name": "Dan Kanze", "link": "https://stackoverflow.com/users/1113921/dan-kanze"}, "edited": false, "score": 0, "creation_date": 1516223033, "post_id": 48309896, "comment_id": 83605614, "body": "Oh that is so <i>clever</i> I didn&#39;t even think of that! I was thinking I&#39;d have to sort on multiple passes but man this greatly simplifies the whole thing."}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 1, "creation_date": 1516224733, "post_id": 48309896, "comment_id": 83606392, "body": "you could use the result of the check directly by using it as number: <code>arr.push(average + (remainder-- &gt; 0))</code>"}, {"owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "reply_to_user": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1516224959, "post_id": 48309896, "comment_id": 83606487, "body": "@NinaScholz - good idea. I went with <code>arr.push(average + (i &lt; remainder))</code>."}, {"owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "edited": false, "score": 0, "creation_date": 1516225604, "post_id": 48309896, "comment_id": 83606771, "body": "If you don&#39;t care about integers, the solution is even simpler. Just get an average, and fill the array slots with it. See 2nd example."}], "tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": true, "score": 2, "last_activity_date": 1516227274, "last_edit_date": 1516227274, "creation_date": 1516222819, "answer_id": 48309896, "question_id": 48309803, "link": "https://stackoverflow.com/questions/48309803/reduce-an-array-of-numbers-to-a-smaller-array-of-numbers-of-a-fixed-length/48309896#48309896", "title": "Reduce an array of numbers to a smaller array of numbers of a fixed length", "body": "<p>The basic idea is to get the sum of the current array. Extract the reminder, and get an average without the reminder. Then create a new array, and populate it with the average + 1 as long as the reminder is greater than 0.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function refactor(arr, maxLength) {\r\n  var sum = arr.reduce(function(s, n) {\r\n    return s + n;\r\n  });\r\n  \r\n  var remainder = sum % maxLength;\r\n  \r\n  var average = (sum - remainder) / maxLength;\r\n  \r\n  var arr = [];\r\n  \r\n  for(var i = 0; i &lt; maxLength; i++) {\r\n    arr.push(average + (i &lt; remainder));\r\n  }\r\n  \r\n  return arr;\r\n}\r\n\r\nvar maxLength = 3;\r\nvar arr = [1,2,3,4,6];\r\nvar tooBig = arr.length &gt; maxLength;\r\n\r\nif(tooBig){\r\n  var newArr = refactor(arr, maxLength);\r\n  console.log(newArr); //[6,5,5]\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If you don't need the array items to be integers, you can get the average directly, and set it as the value of each array item:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function refactor(arr, maxLength) {\r\n  var average = arr.reduce(function(s, n) {\r\n    return s + n;\r\n  }) / maxLength;\r\n  \r\n  var arr = [];\r\n  \r\n  for(var i = 0; i &lt; maxLength; i++) {\r\n    arr.push(average);\r\n  }\r\n  \r\n  return arr;\r\n}\r\n\r\nvar maxLength = 3;\r\nvar arr = [1.7,2.4,3,4,6.934];\r\nvar tooBig = arr.length &gt; maxLength;\r\n\r\nif(tooBig){\r\n  var newArr = refactor(arr, maxLength);\r\n  console.log(newArr);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 18057, "user_id": 1113921, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/731027a0b6612d93118a2337bc8e20de?s=128&d=identicon&r=PG", "display_name": "Dan Kanze", "link": "https://stackoverflow.com/users/1113921/dan-kanze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 48309896, "answer_count": 1, "score": 0, "last_activity_date": 1516227274, "creation_date": 1516222339, "question_id": 48309803, "link": "https://stackoverflow.com/questions/48309803/reduce-an-array-of-numbers-to-a-smaller-array-of-numbers-of-a-fixed-length", "title": "Reduce an array of numbers to a smaller array of numbers of a fixed length", "body": "<p>Let's say I have an <code>Array</code> who's item length is <em>too big</em> for some <code>maxLength</code></p>\n\n<pre><code>var maxLength = 3;\nvar arr = [1,2,3,4,5];\nvar tooBig = arr.length &gt; maxLength;\n</code></pre>\n\n<p>Is there an optimized algorithm for reducing this array in length by combining item values?</p>\n\n<pre><code>if(tooBig){\n  var newArr = refactor(arr, maxLength);\n  console.log(newArr); //[5,5,5]\n}\n</code></pre>\n\n<p>Evenly re-distributing as much as possible is important:</p>\n\n<pre><code>//Could be reduced more evenly like above\nconsole.log(newArr); //[1,6,8]\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "babeljs", "jsx"], "comments": [{"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 2, "creation_date": 1516222228, "post_id": 48309694, "comment_id": 83605190, "body": "Likely this has to do with precedence of operators. Can you give a <b>complete</b> example that causes the error?"}, {"owner": {"reputation": 3375, "user_id": 2364363, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d87a96464489352f55ce1dcffa3658f5?s=128&d=identicon&r=PG", "display_name": "uber5001", "link": "https://stackoverflow.com/users/2364363/uber5001"}, "reply_to_user": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1516222401, "post_id": 48309694, "comment_id": 83605302, "body": "What are you looking for in a <b>complete</b> example? I&#39;ve attempted to reduce the expression to the smallest example possible already."}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 3, "creation_date": 1516222435, "post_id": 48309694, "comment_id": 83605321, "body": "This does sound like a bug for an EcmaScript parser indeed, a grouping parenthesis should be valid in every position where a string literal is valid. However, jsx or typescript or flow may have problems with the colon following the parenthesis."}, {"owner": {"reputation": 5440, "user_id": 417866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/958d07f426a20a9bc1bb7db75086f9d5?s=128&d=identicon&r=PG", "display_name": "Arash Motamedi", "link": "https://stackoverflow.com/users/417866/arash-motamedi"}, "edited": false, "score": 1, "creation_date": 1516222946, "post_id": 48309694, "comment_id": 83605563, "body": "Sounds like a parser bug. Does this work? <code>true ? (&quot;test&quot;) : (x =&gt; 42)</code>"}, {"owner": {"reputation": 3375, "user_id": 2364363, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d87a96464489352f55ce1dcffa3658f5?s=128&d=identicon&r=PG", "display_name": "uber5001", "link": "https://stackoverflow.com/users/2364363/uber5001"}, "reply_to_user": {"reputation": 5440, "user_id": 417866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/958d07f426a20a9bc1bb7db75086f9d5?s=128&d=identicon&r=PG", "display_name": "Arash Motamedi", "link": "https://stackoverflow.com/users/417866/arash-motamedi"}, "edited": false, "score": 0, "creation_date": 1516223507, "post_id": 48309694, "comment_id": 83605852, "body": "@ArashMotamedi That works both with and without <code>babel-preset-react</code>"}], "answers": [{"comments": [{"owner": {"reputation": 3375, "user_id": 2364363, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d87a96464489352f55ce1dcffa3658f5?s=128&d=identicon&r=PG", "display_name": "uber5001", "link": "https://stackoverflow.com/users/2364363/uber5001"}, "edited": false, "score": 0, "creation_date": 1516223579, "post_id": 48309965, "comment_id": 83605886, "body": "Good to know. The examples you&#39;ve given don&#39;t change behavior when using <code>babel-preset-react</code>, though."}, {"owner": {"reputation": 134258, "user_id": 785065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAbxM.jpg?s=128&g=1", "display_name": "loganfsmyth", "link": "https://stackoverflow.com/users/785065/loganfsmyth"}, "edited": false, "score": 0, "creation_date": 1516237817, "post_id": 48309965, "comment_id": 83610603, "body": "Yup, this is all correct and a common thing that people catch on, but it does not apply to the comma operator and conditional operator since their operands are allowed to contain arrows."}], "tags": [], "owner": {"reputation": 629, "user_id": 1795600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0F3Z1.png?s=128&g=1", "display_name": "stefkin", "link": "https://stackoverflow.com/users/1795600/stefkin"}, "is_accepted": false, "score": 3, "last_activity_date": 1516223112, "creation_date": 1516223112, "answer_id": 48309965, "question_id": 48309694, "link": "https://stackoverflow.com/questions/48309694/why-cant-i-use-a-ternary-operator-and-arrow-function-in-this-way-in-jsx/48309965#48309965", "title": "Why can&#39;t I use a ternary operator and arrow function in this way in JSX?", "body": "<p>Arrow functions are parsed differently than regular ones\nsee <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions#Parsing_order\" rel=\"nofollow noreferrer\">Parsing order</a></p>\n\n<blockquote>\n  <p>Although the arrow in an arrow function is not an operator, arrow\n  functions have special parsing rules that interact differently with\n  operator precedence compared to regular functions.</p>\n</blockquote>\n\n<pre><code>let callback;\n\ncallback = callback || function() {}; // ok\n\ncallback = callback || () =&gt; {};      \n// SyntaxError: invalid arrow-function arguments\n\ncallback = callback || (() =&gt; {});    // ok\n</code></pre>\n\n<p>It must have something to do with associativity of ternary operator (right-to-left) see <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Operator_Precedence#Table\" rel=\"nofollow noreferrer\">link</a></p>\n"}, {"comments": [{"owner": {"reputation": 3375, "user_id": 2364363, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d87a96464489352f55ce1dcffa3658f5?s=128&d=identicon&r=PG", "display_name": "uber5001", "link": "https://stackoverflow.com/users/2364363/uber5001"}, "edited": false, "score": 0, "creation_date": 1516224017, "post_id": 48310092, "comment_id": 83606101, "body": "In the examples I&#39;ve given though, I&#39;m not using <code>(&quot;test&quot;)</code> as a condition. it is <code>expression1</code> of the ternary operator <code>condition ? expression1 : expression2</code>. Is there something as part of JSX that causes it to be parsed as a condition instead?"}, {"owner": {"reputation": 207256, "user_id": 5928186, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/QKbVi.jpg?s=128&g=1", "display_name": "Shubham Khatri", "link": "https://stackoverflow.com/users/5928186/shubham-khatri"}, "reply_to_user": {"reputation": 3375, "user_id": 2364363, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d87a96464489352f55ce1dcffa3658f5?s=128&d=identicon&r=PG", "display_name": "uber5001", "link": "https://stackoverflow.com/users/2364363/uber5001"}, "edited": false, "score": 1, "creation_date": 1516224141, "post_id": 48310092, "comment_id": 83606158, "body": "As I said writing it within parenthesis makes babel think it&#39;s a condition"}, {"owner": {"reputation": 3375, "user_id": 2364363, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d87a96464489352f55ce1dcffa3658f5?s=128&d=identicon&r=PG", "display_name": "uber5001", "link": "https://stackoverflow.com/users/2364363/uber5001"}, "edited": false, "score": 0, "creation_date": 1516224975, "post_id": 48310092, "comment_id": 83606493, "body": "Wrapping the &quot;test&quot; in parenthesis doesn&#39;t seem to be the only reason babel is confused. I can also wrap the arrow function in parenthesis (<code>true ? (&quot;test&quot;) : (x =&gt; 42)</code>) to fix the issue."}], "tags": [], "owner": {"reputation": 207256, "user_id": 5928186, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/QKbVi.jpg?s=128&g=1", "display_name": "Shubham Khatri", "link": "https://stackoverflow.com/users/5928186/shubham-khatri"}, "is_accepted": false, "score": 1, "last_activity_date": 1516223665, "creation_date": 1516223665, "answer_id": 48310092, "question_id": 48309694, "link": "https://stackoverflow.com/questions/48309694/why-cant-i-use-a-ternary-operator-and-arrow-function-in-this-way-in-jsx/48310092#48310092", "title": "Why can&#39;t I use a ternary operator and arrow function in this way in JSX?", "body": "<p>The simple reason for this is that anything within <code>()</code> is treated as an <code>condition</code> to evaluate and hence it tries to find matching expressions after it which you aren't providing and hence it fails. As a matter of fact</p>\n\n<pre><code>true ? (\"test\")? 1: 2 : x =&gt; 42\n</code></pre>\n\n<p>compiles just fine into</p>\n\n<pre><code>\"use strict\";\n\ntrue ? \"test\" ? 1 : 2 : function (x) {\n  return 42;\n};\n</code></pre>\n\n<p>Check <strong><a href=\"https://babeljs.io/repl/#?babili=false&amp;browsers=&amp;build=&amp;builtIns=false&amp;code_lz=C4JwrgpgBA_FAUAiYEDOxEEo4EYBcUATFAQB5QC8AfFACyFA&amp;debug=false&amp;circleciRepo=&amp;evaluate=false&amp;fileSize=false&amp;lineWrap=true&amp;presets=es2015%2Creact&amp;prettier=false&amp;targets=Electron-0.3%252CNode-7.4&amp;version=6.26.0\" rel=\"nofollow noreferrer\">this demo</a></strong></p>\n"}, {"tags": [], "owner": {"reputation": 3375, "user_id": 2364363, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d87a96464489352f55ce1dcffa3658f5?s=128&d=identicon&r=PG", "display_name": "uber5001", "link": "https://stackoverflow.com/users/2364363/uber5001"}, "is_accepted": true, "score": 1, "last_activity_date": 1516227633, "last_edit_date": 1516227633, "creation_date": 1516226855, "answer_id": 48310809, "question_id": 48309694, "link": "https://stackoverflow.com/questions/48309694/why-cant-i-use-a-ternary-operator-and-arrow-function-in-this-way-in-jsx/48310809#48310809", "title": "Why can&#39;t I use a ternary operator and arrow function in this way in JSX?", "body": "<p>This is a bug. I've created an issue on the babel github page: <a href=\"https://github.com/babel/babel/issues/7234\" rel=\"nofollow noreferrer\">babel/babel#7234</a>. It is fixed in Babel 7.</p>\n"}], "owner": {"reputation": 3375, "user_id": 2364363, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d87a96464489352f55ce1dcffa3658f5?s=128&d=identicon&r=PG", "display_name": "uber5001", "link": "https://stackoverflow.com/users/2364363/uber5001"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2398, "favorite_count": 2, "accepted_answer_id": 48310809, "answer_count": 3, "score": 5, "last_activity_date": 1516227817, "creation_date": 1516221886, "last_edit_date": 1516227817, "question_id": 48309694, "link": "https://stackoverflow.com/questions/48309694/why-cant-i-use-a-ternary-operator-and-arrow-function-in-this-way-in-jsx", "title": "Why can&#39;t I use a ternary operator and arrow function in this way in JSX?", "body": "<p>With <code>babel-preset-react</code> (EDIT: babel version: <code>v6.26.0</code>), the following expression fails with the error \"<code>Invalid left-hand side in arrow function parameters</code>\" (<a href=\"https://babeljs.io/repl/#?babili=false&amp;browsers=&amp;build=&amp;builtIns=false&amp;code_lz=C4JwrgpgBA_FAUAiYEDOxEEooC4oA8oBeAPigBYAmIA&amp;debug=false&amp;circleciRepo=&amp;evaluate=false&amp;fileSize=false&amp;lineWrap=true&amp;presets=es2015%2Creact&amp;prettier=false&amp;targets=Electron-0.3%252CNode-7.4&amp;version=6.26.0\" rel=\"nofollow noreferrer\">try on babel repl</a>):</p>\n\n<pre><code>true ? (\"test\") : x =&gt; 42      //FAILS, but only with `babel-preset-react`\n</code></pre>\n\n<p>Yet it works given a small modification:</p>\n\n<pre><code>true ? \"test\" : x =&gt; 42        //works fine\n</code></pre>\n\n<p>Both of these scenarios work as expected in seemingly any other configuration.</p>\n\n<p>Is this a bug? Or is there something as a part of JSX parsing that causes this to happen?</p>\n"}, {"tags": ["javascript", "reactjs", "ecmascript-6"], "comments": [{"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1516222356, "post_id": 48309649, "comment_id": 83605266, "body": "Note this has nothing to do with <code>setState()</code>. This is syntax for the object literal as described in the answers."}], "answers": [{"tags": [], "owner": {"reputation": 5535, "user_id": 9200817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91bdda21dbfbeabc9496aadb2d42d670?s=128&d=identicon&r=PG&f=1", "display_name": "casieber", "link": "https://stackoverflow.com/users/9200817/casieber"}, "is_accepted": false, "score": 2, "last_activity_date": 1516221868, "creation_date": 1516221868, "answer_id": 48309685, "question_id": 48309649, "link": "https://stackoverflow.com/questions/48309649/creating-object-with-variable-as-a-key-and-value/48309685#48309685", "title": "Creating Object with variable as a key and value", "body": "<p>This is some javascript syntax sugar.</p>\n\n<p>It's a pretty common case to do something along the lines of:</p>\n\n<pre><code>const obj = {\n    a: a,\n    b: b,\n    c: c\n};\n</code></pre>\n\n<p>where you are building an object out of variable you already have and keeping their same names. But you'll notice that you're having to write each variable name twice. So instead, you can write:</p>\n\n<pre><code>const obj = { a, b, c };\n</code></pre>\n\n<p>and it will be evaluated the same as the above code.</p>\n"}, {"tags": [], "owner": {"reputation": 207256, "user_id": 5928186, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/QKbVi.jpg?s=128&g=1", "display_name": "Shubham Khatri", "link": "https://stackoverflow.com/users/5928186/shubham-khatri"}, "is_accepted": true, "score": 6, "last_activity_date": 1516222158, "creation_date": 1516222158, "answer_id": 48309757, "question_id": 48309649, "link": "https://stackoverflow.com/questions/48309649/creating-object-with-variable-as-a-key-and-value/48309757#48309757", "title": "Creating Object with variable as a key and value", "body": "<p><code>{scale: 'f', temperature}</code> is basically a <code>Property value shorthand</code> syntax for <code>{scale: 'f', temperature: temperature}</code>,</p>\n\n<p>So in JavaScript with <code>ES6/ES2015</code>, if you want to define an object who's keys have the same name as the variables passed-in as properties, you can use the shorthand and simply pass the key name.</p>\n\n<p>Check this <strong><a href=\"https://javascript.info/object#property-value-shorthand\" rel=\"noreferrer\">doc</a></strong> for the details</p>\n\n<p>An important thing to note while using this syntax is, the JS engine looks in the containing scope for a variable with the same name. </p>\n\n<p>If it is found, that variable\u2019s value is assigned to the property.</p>\n\n<p>If it is not found, a <code>ReferenceError</code> is thrown. It\u2019s worth noting that the <code>transpilers</code> will not throw an error at compile time if the variable is not found, but instead will declare an object with the name of the not-found variable. </p>\n\n<p>However, when the code runs you will still get the <code>ReferenceError</code> since the variable does not exist.</p>\n"}], "owner": {"reputation": 4097, "user_id": 615274, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c3b784a9ff1c50a891e3108367c194eb?s=128&d=identicon&r=PG", "display_name": "Mario", "link": "https://stackoverflow.com/users/615274/mario"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 1, "accepted_answer_id": 48309757, "answer_count": 2, "score": 5, "last_activity_date": 1516223358, "creation_date": 1516221672, "last_edit_date": 1516223358, "question_id": 48309649, "link": "https://stackoverflow.com/questions/48309649/creating-object-with-variable-as-a-key-and-value", "title": "Creating Object with variable as a key and value", "body": "<p>I am learning react and I am following the <a href=\"https://reactjs.org/docs/hello-world.html\" rel=\"nofollow noreferrer\">quick start guide</a>, In the topic <a href=\"https://reactjs.org/docs/lifting-state-up.html\" rel=\"nofollow noreferrer\">Lifting State Up</a> I found the Calculator component</p>\n\n<pre><code>class Calculator extends React.Component {\n    constructor(props) {\n      super(props);\n\n      ...\n\n      this.state = {scale: 'c', temperature: ''}\n    }\n\n    handleCelsiusChange(temperature) {\n      this.setState({scale: 'c', temperature})\n    }\n\n    handleFahrenheitChange(temperature) {\n      this.setState({scale: 'f', temperature});\n    }\n\n    render() {\n      ...\n\n      return (\n        &lt;div&gt;\n          ...\n        &lt;/div&gt;\n      )\n    }\n  }\n</code></pre>\n\n<p>My question is about this sentence <code>this.setState({scale: 'c', temperature})</code> here I am expecting <code>this.setState({scale: 'c', temperature: temperature})</code>.</p>\n\n<p>Is this <code>temperature</code> assignation some react sintax sugar? Could you please explain me why this works.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "jquery", "html", "forms"], "answers": [{"comments": [{"owner": {"reputation": 48, "user_id": 4050675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xyAl0.jpg?s=128&g=1", "display_name": "bggarchow", "link": "https://stackoverflow.com/users/4050675/bggarchow"}, "edited": false, "score": 0, "creation_date": 1516222946, "post_id": 48309737, "comment_id": 83605564, "body": "Thanks. I have a similar working solution but would really like to have the scroll event occur without having to click on a button."}, {"owner": {"reputation": 368, "user_id": 5454830, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100002201904319/picture?type=large", "display_name": "IamCavic", "link": "https://stackoverflow.com/users/5454830/iamcavic"}, "reply_to_user": {"reputation": 48, "user_id": 4050675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xyAl0.jpg?s=128&g=1", "display_name": "bggarchow", "link": "https://stackoverflow.com/users/4050675/bggarchow"}, "edited": false, "score": 0, "creation_date": 1516223030, "post_id": 48309737, "comment_id": 83605612, "body": "Ohh ok.. just do it on keyup than.. @bggarchow"}, {"owner": {"reputation": 368, "user_id": 5454830, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100002201904319/picture?type=large", "display_name": "IamCavic", "link": "https://stackoverflow.com/users/5454830/iamcavic"}, "reply_to_user": {"reputation": 48, "user_id": 4050675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xyAl0.jpg?s=128&g=1", "display_name": "bggarchow", "link": "https://stackoverflow.com/users/4050675/bggarchow"}, "edited": false, "score": 0, "creation_date": 1516223141, "post_id": 48309737, "comment_id": 83605668, "body": "@bggarchow added the key up function"}], "tags": [], "owner": {"reputation": 368, "user_id": 5454830, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100002201904319/picture?type=large", "display_name": "IamCavic", "link": "https://stackoverflow.com/users/5454830/iamcavic"}, "is_accepted": false, "score": 0, "last_activity_date": 1516223223, "last_edit_date": 1516223223, "creation_date": 1516222055, "answer_id": 48309737, "question_id": 48309601, "link": "https://stackoverflow.com/questions/48309601/scroll-table-on-form-submit/48309737#48309737", "title": "Scroll table on form submit?", "body": "<p>Try this:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form id=\"gotorow\"&gt;\n  Go to Row\n  &lt;input type=\"number\" id=\"findrow\"&gt;&lt;/input&gt;\n  &lt;span id=\"findrowbutton\"&gt;Find Row&lt;/span&gt;\n&lt;/form&gt;\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>// Outside your .ready wrap\ndocument.getElementById(\"findrowbutton\").addEventListener(\"click\", function(){\n  var index = document.getElementById(\"findrow\").value;\n  var row = $('#table').find('tr').eq(index);\n  var pos = $(row).offset().top;\n  $('#table-container').scrollTop(pos);\n});\n\n// On key up\ndocument.getElementById(\"findrow\").addEventListener(\"keyup\", function(){\n  var index = document.getElementById(\"findrow\").value;\n  var row = $('#table').find('tr').eq(index);\n  var pos = $(row).offset().top;\n  $('#table-container').scrollTop(pos);\n});\n</code></pre>\n"}], "owner": {"reputation": 48, "user_id": 4050675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xyAl0.jpg?s=128&g=1", "display_name": "bggarchow", "link": "https://stackoverflow.com/users/4050675/bggarchow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516223223, "creation_date": 1516221440, "last_edit_date": 1516222118, "question_id": 48309601, "link": "https://stackoverflow.com/questions/48309601/scroll-table-on-form-submit", "title": "Scroll table on form submit?", "body": "<p>Consider table <code>#table</code>, with several thousand rows, that lives in the scrollable container <code>#table-container</code>:</p>\n\n<pre><code>&lt;div id='table-container'&gt;\n  &lt;table id='table'&gt;\n    ...\n  &lt;/table&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The objective is to allow the user to type a row number in an input field, submit the value by pressing the <code>enter</code> key and have <code>#table-container</code> scroll to the appropriate position. The form <code>#gotorow</code> is constructed with the following markup:</p>\n\n<pre><code>&lt;form id=\"gotorow\"&gt;\n    Go to Row\n    &lt;input type=\"number\"&gt;&lt;/input&gt;\n    &lt;input type=\"submit\" style=\"display:none\"&gt;&lt;/input&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>The jquery code below \"works\" such that when form <code>#gotorow</code> is submitted, the form's value (row number) is captured in the variable <code>index</code> which allows the row's position to be determined.</p>\n\n<pre><code>$(document).ready(function(){\n\n  # submit the form when user presses the enter key\n  $('#gotorow').each(function(){\n      $(this).find('input').keypress(function(event){\n          if(event.which == 10 || event.which == 13)\n              this.form.submit();\n      });\n  });\n\n    # on form submission capture row number and determine position\n    $('#gotorow').submit( function(){\n      var index = $(this).find('input').val();\n      var row = $('#table').find('tr').eq(index);\n      var pos = $(row).offset().top;\n   });\n\n});\n</code></pre>\n\n<p>The below code also \"works\" such that on <code>(document).ready</code> the table scrolls to the specified row number.</p>\n\n<pre><code>$(document).ready(function(){\n\n    var index = 250;\n    var row = $('#table').find('tr').eq(index);\n    var pos = $(row).offset().top;\n    $('#table-container').scrollTop(pos);\n\n});\n</code></pre>\n\n<p>However, if the above two code bits are combined there is no scrolling joy.</p>\n\n<pre><code>$(document).ready(function(){\n\n  $('#gotorow').each(function(){\n    $(this).find('input').keypress(function(event){\n        if(event.which == 10 || event.which == 13)\n            this.form.submit();\n    });\n  });\n\n  $('#gotorow').submit( function(){\n    var index = $(this).find('input').val();\n    var row = $('#table').find('tr').eq(index);\n    var pos = $(row).offset().top;\n    $('#table-container').scrollTop(pos);\n  });\n\n});\n</code></pre>\n\n<p>Any suggestions as to why the final code bit doesn't work are greatly appreciated.</p>\n"}, {"tags": ["javascript", "node.js", "reactjs", "koa", "apollo"], "answers": [{"tags": [], "owner": {"reputation": 2040, "user_id": 3044206, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1632128721/picture?type=large", "display_name": "Connorelsea", "link": "https://stackoverflow.com/users/3044206/connorelsea"}, "is_accepted": true, "score": 0, "last_activity_date": 1516337438, "creation_date": 1516337438, "answer_id": 48334291, "question_id": 48309586, "link": "https://stackoverflow.com/questions/48309586/how-to-handle-backend-errors-from-node-koa-on-frontend-apollo-client/48334291#48334291", "title": "How to handle backend errors from Node/Koa on frontend apollo-client", "body": "<p>I found that the errors were handled correctly on the frontend when I began using this library on the backend: <a href=\"https://github.com/jeffijoe/koa-respond\" rel=\"nofollow noreferrer\">https://github.com/jeffijoe/koa-respond</a></p>\n\n<p>Using just <code>ctx.unauthenticated()</code></p>\n\n<p>But I would still like to know more about how to return json/object-based errors with koa without a plugin helping</p>\n"}], "owner": {"reputation": 2040, "user_id": 3044206, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1632128721/picture?type=large", "display_name": "Connorelsea", "link": "https://stackoverflow.com/users/3044206/connorelsea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 593, "favorite_count": 0, "accepted_answer_id": 48334291, "answer_count": 1, "score": 3, "last_activity_date": 1516337438, "creation_date": 1516221366, "last_edit_date": 1516235692, "question_id": 48309586, "link": "https://stackoverflow.com/questions/48309586/how-to-handle-backend-errors-from-node-koa-on-frontend-apollo-client", "title": "How to handle backend errors from Node/Koa on frontend apollo-client", "body": "<p>My frontend, using <code>apollo-client</code>, throws an exception when the backend returns an error after a request.</p>\n\n<p>When the node server receives a request, I check the validity of the request's token using <code>koa</code> middleware. If the token is valid, the request is forwarded to the next middleware. If the token is invalid, I want to return a 401 access denied error to the client. To do this, I followed Koa's error documentation <a href=\"https://github.com/koajs/koa/wiki/Error-Handling\" rel=\"nofollow noreferrer\">located here</a>.</p>\n\n<p>The code for the error handling middleware I wrote:</p>\n\n<pre><code>function userIdentifier() {\n  return async (ctx, next) =&gt; {\n    const token = ctx.request.headers.authorization\n\n    try {\n      const payload = checkToken(token)\n      ctx.user = {\n        id: payload.userId,\n        exp: payload.exp,\n        iat: payload.iat,\n      }\n    } catch (error) {\n      ctx.user = undefined\n      ctx.throw(401, \"access_denied\")\n      // throw new Error(\"access_denied\")\n    }\n\n    await next()\n  }\n}\n</code></pre>\n\n<p>This seemingly works on the backend, but not on the frontend. When the frontend receives this error, a JavaScript runtime error occurs. I am not sure what causes this.</p>\n\n<p><a href=\"https://i.stack.imgur.com/fRuZJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fRuZJ.png\" alt=\"enter image description here\"></a></p>\n\n<p><em>Note, the unexpected \"a\" is the same \"a\" found in <code>ctx.throw(401, \"access_denied\")</code>. If it were instead <code>ctx.throw(401, \"x\")</code> the frontend shows \"unexpected token x\" instead.</em></p>\n\n<p>The frontend code where the errors happens:</p>\n\n<p><a href=\"https://i.stack.imgur.com/OjezZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OjezZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>In an attempt to fix this, I followed <a href=\"https://www.apollographql.com/docs/react/features/error-handling.html\" rel=\"nofollow noreferrer\">Apollo's error handling documentation</a> and used <code>apollo-link-error</code>.</p>\n\n<pre><code>const errorLink = onError(props =&gt; {\n  const { graphQLErrors, networkError } = props\n  console.log(\"ON ERROR\", props)\n  if (graphQLErrors)\n    graphQLErrors.map(({ message, locations, path }) =&gt;\n      console.log(\n        `[GraphQL error]: Message: ${message}, Location: ${locations}, Path: ${path}`\n      )\n    )\n  if (networkError) console.log(`[Network error]: ${networkError}`)\n})\n</code></pre>\n\n<p>Then I combine all links and create the Apollo client like this:</p>\n\n<pre><code>const link = ApolloLink.from([errorLink, authLink, httpLink])\n\nexport const client = new ApolloClient({\n  link,\n  cache: new InMemoryCache(),\n})\n</code></pre>\n\n<p>The output of the debugging <code>log</code> in <code>apollo-link-error</code> is as follows:</p>\n\n<p><a href=\"https://i.stack.imgur.com/6vgKk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6vgKk.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong><em>Related Documents</em></strong></p>\n\n<p>Someone seems to be having an <a href=\"https://github.com/apollographql/apollo-client/issues/2741\" rel=\"nofollow noreferrer\">identical error</a>, but a solution was not listed.</p>\n"}, {"tags": ["javascript", "xmlhttprequest", "web-audio-api"], "comments": [{"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1516221774, "post_id": 48309562, "comment_id": 83604973, "body": "Are you trying the code at Chromium or Chrome?"}, {"owner": {"reputation": 87, "user_id": 8715359, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-HLmLiwRG0Ow/AAAAAAAAAAI/AAAAAAAAAJs/aibgUnro67k/photo.jpg?sz=128", "display_name": "Saptarshi Sahoo", "link": "https://stackoverflow.com/users/8715359/saptarshi-sahoo"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1516221840, "post_id": 48309562, "comment_id": 83605008, "body": "its in FireFox..."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "is_accepted": true, "score": 1, "last_activity_date": 1516222767, "creation_date": 1516222767, "answer_id": 48309887, "question_id": 48309562, "link": "https://stackoverflow.com/questions/48309562/audio-loading-with-xmlhttprequest-in-javascript/48309887#48309887", "title": "Audio loading with XMLHttpRequest in JavaScript", "body": "<p>Substitute </p>\n\n<pre><code>req.responseType = \"arraybuffer\";\n</code></pre>\n\n<p>for</p>\n\n<pre><code>req.responseType = \"ArrayBuffer\";\n</code></pre>\n\n<p><a href=\"https://xhr.spec.whatwg.org/#the-responsetype-attribute\" rel=\"nofollow noreferrer\"><code>.responseType</code></a> is not converted to lowercase by <code>XMLHttpResponse</code> instance</p>\n"}], "owner": {"reputation": 87, "user_id": 8715359, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-HLmLiwRG0Ow/AAAAAAAAAAI/AAAAAAAAAJs/aibgUnro67k/photo.jpg?sz=128", "display_name": "Saptarshi Sahoo", "link": "https://stackoverflow.com/users/8715359/saptarshi-sahoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 363, "favorite_count": 0, "accepted_answer_id": 48309887, "answer_count": 1, "score": 0, "last_activity_date": 1519216871, "creation_date": 1516221279, "last_edit_date": 1519216871, "question_id": 48309562, "link": "https://stackoverflow.com/questions/48309562/audio-loading-with-xmlhttprequest-in-javascript", "title": "Audio loading with XMLHttpRequest in JavaScript", "body": "<p>I am learing Web Audio API. Im having a problem in loading my sound file thourgh XMLHttpRequest in JavaScript. Kindly please help.Here is my code</p>\n\n<pre><code>var source;\n\nfunction start() {\n  console.log(\"WELCOME!!\");\n  try{\n    var actx = new AudioContext();\n  }catch(e){\n    console.log('WebAudio api is not supported!!');\n  }\n\n  source = actx.createBufferSource()\n\n  var req  = new XMLHttpRequest();\n  req.open('GET','src3.ogg',true);\n  req.responseType='ArrayBuffer';\n\n  req.onload = function(){\n    var audioData = req.response;\n    actx.decodeAudioData(audioData,function(buffer){\n      source.buffer = buffer;\n      source.connect(actx.destination);\n      source.loop();\n    },\n    function(e){\n      console.log('Error in decoding audio'+e.err);\n    }\n\n  );\n  }\n  req.send();\n}\n\nfunction play() {\n  source.start(0);\n}\nfunction stop(){\n  source.stop(0);\n}\n</code></pre>\n\n<p>Browser is showing this error this:  </p>\n\n<pre><code>XML Parsing Error: not well-formed\nLocation: file:///home/uzumaki/Web_Audio_Projects/src3.ogg\nLine Number 1, Column 5:\n</code></pre>\n\n<p>And <I>start()</i> method is called on the <b>onload</b> event of body  tag</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 28707, "user_id": 125981, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f2077dbed28ae040719cbe698800ec29?s=128&d=identicon&r=PG", "display_name": "Mark Schultheiss", "link": "https://stackoverflow.com/users/125981/mark-schultheiss"}, "edited": false, "score": 0, "creation_date": 1516221744, "post_id": 48309560, "comment_id": 83604960, "body": "Show all the code including the markup and <code>addEventListener</code> you describe, give is the complete reproducible code"}], "answers": [{"comments": [{"owner": {"reputation": 28707, "user_id": 125981, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f2077dbed28ae040719cbe698800ec29?s=128&d=identicon&r=PG", "display_name": "Mark Schultheiss", "link": "https://stackoverflow.com/users/125981/mark-schultheiss"}, "edited": false, "score": 0, "creation_date": 1516221855, "post_id": 48309664, "comment_id": 83605017, "body": "I see no &quot;element&quot; in the OP  code, but I get where your assumption is made here.  Also <a href=\"https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Learn/HTML/Howto/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1470, "user_id": 9067523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2afb70cfb93a16e7caa620799704eb?s=128&d=identicon&r=PG&f=1", "display_name": "mmlr", "link": "https://stackoverflow.com/users/9067523/mmlr"}, "is_accepted": false, "score": 1, "last_activity_date": 1516221761, "creation_date": 1516221761, "answer_id": 48309664, "question_id": 48309560, "link": "https://stackoverflow.com/questions/48309560/js-addeventlistener-update-data-action/48309664#48309664", "title": "JS addEventListener -&gt; update data-action", "body": "<p>Use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/dataset\" rel=\"nofollow noreferrer\">dataset interface</a>:</p>\n\n<pre><code>element.dataset.action = 'new-news'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 140, "user_id": 9231671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C27Zj.jpg?s=128&g=1", "display_name": "SirPedr", "link": "https://stackoverflow.com/users/9231671/sirpedr"}, "is_accepted": false, "score": 1, "last_activity_date": 1516222720, "last_edit_date": 1516222720, "creation_date": 1516221902, "answer_id": 48309699, "question_id": 48309560, "link": "https://stackoverflow.com/questions/48309560/js-addeventlistener-update-data-action/48309699#48309699", "title": "JS addEventListener -&gt; update data-action", "body": "<p>From what I understand, you are having trouble assigning a data element to some element. It seems to be just a syntax error.</p>\n\n<p>Instead of:</p>\n\n<pre><code>data-action = \"new-news\"\n</code></pre>\n\n<p>Use the <em>dataset</em> like following:</p>\n\n<pre><code>element.dataset.action = \"new-news\"\n</code></pre>\n\n<p>This should work :)</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9231701"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1516222720, "creation_date": 1516221272, "question_id": 48309560, "link": "https://stackoverflow.com/questions/48309560/js-addeventlistener-update-data-action", "title": "JS addEventListener -&gt; update data-action", "body": "<p>I have a game where you press a button, depending on what you press it shows up a menu by using data-action. E.g I got a main menu, press \"news\" and the news menu will be called using data-action=\"news\". </p>\n\n<p>Now I will return data via the game, and will therefore send that data (not relevant) over via JS using addEventListener. However, I'd like to make an if-statement which will set the data-action to whatever was sent from the game. How to update data-action via JS?</p>\n\n<p>If event.date.type is \"news\" -> show the new-news menu which will be shown by setting data-action to \"new-news\". This doesn't work, how to do it?</p>\n\n<pre><code>if (event.data.type == \"news\"){\n    data-action=\"new-news\"\n}\n</code></pre>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 32538, "user_id": 906113, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/eccce05f2ea328d45afe24843e009d25?s=128&d=identicon&r=PG", "display_name": "str", "link": "https://stackoverflow.com/users/906113/str"}, "edited": false, "score": 0, "creation_date": 1516221545, "post_id": 48309559, "comment_id": 83604830, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/8462381/settimeout-callback-executed-immediately\">setTimeout -- callback executed immediately?</a>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1516222681, "post_id": 48309559, "comment_id": 83605438, "body": "The first argument to <code>addEventListener</code> should be <code>&quot;focus&quot;</code>, not <code>&quot;onfocus&quot;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 638, "user_id": 3449673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AJjRj.png?s=128&g=1", "display_name": "thutt", "link": "https://stackoverflow.com/users/3449673/thutt"}, "edited": false, "score": 0, "creation_date": 1516274299, "post_id": 48309630, "comment_id": 83625302, "body": "You still have the duplicated <code>id=&quot;fname&quot;</code> on the body-element."}], "tags": [], "owner": {"reputation": 731, "user_id": 5087310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4378422f50628cb732eb4b0cd651c94b?s=128&d=identicon&r=PG&f=1", "display_name": "aznbanana9", "link": "https://stackoverflow.com/users/5087310/aznbanana9"}, "is_accepted": true, "score": 0, "last_activity_date": 1516303314, "last_edit_date": 1516303314, "creation_date": 1516221560, "answer_id": 48309630, "question_id": 48309559, "link": "https://stackoverflow.com/questions/48309559/why-wont-this-focus-event-trigger/48309630#48309630", "title": "Why won&#39;t this focus event trigger", "body": "<p>I think it's because you're not passing in a function to the <code>onfocus</code> event. Try this:</p>\n\n<pre><code>&lt;html&gt;\n    &lt;body id=\"someOtherId\" &gt;\n        &lt;input id=\"fname\" type=\"text\" &gt;\n    &lt;/body&gt;\n    &lt;script&gt;\n        window.onload = () =&gt; document.getElementById(\"fname\").onfocus = () =&gt; console.log(`hi`);\n    &lt;/script&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 381, "user_id": 9141952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c3d2b57c397720613c1f7bc001ed293?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/9141952/steven"}, "is_accepted": false, "score": 1, "last_activity_date": 1516221568, "creation_date": 1516221568, "answer_id": 48309634, "question_id": 48309559, "link": "https://stackoverflow.com/questions/48309559/why-wont-this-focus-event-trigger/48309634#48309634", "title": "Why won&#39;t this focus event trigger", "body": "<p>The <code>console.log</code> statement is executed immediately,</p>\n\n<p>To execute the listener <code>onfocus</code>, you want to wrap it in a function body:</p>\n\n<pre><code>document.getElementById(\"fname\")\n    .addEventListener(`onfocus`, () =&gt; console.log(`hi`) );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 638, "user_id": 3449673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AJjRj.png?s=128&g=1", "display_name": "thutt", "link": "https://stackoverflow.com/users/3449673/thutt"}, "is_accepted": false, "score": 1, "last_activity_date": 1516222939, "last_edit_date": 1516222939, "creation_date": 1516222493, "answer_id": 48309839, "question_id": 48309559, "link": "https://stackoverflow.com/questions/48309559/why-wont-this-focus-event-trigger/48309839#48309839", "title": "Why won&#39;t this focus event trigger", "body": "<p>You have a <strong>duplicated id on the body</strong> and didn't provide a function for the <a href=\"https://www.w3schools.com/jsref/event_onfocus.asp\" rel=\"nofollow noreferrer\">onfocus-event</a>.</p>\n\n<p>A working version: </p>\n\n<pre><code>&lt;html&gt;\n  &lt;body&gt;\n    &lt;input type=\"text\" &gt;\n    &lt;input id=\"fname\" type=\"text\" &gt;\n  &lt;/body&gt;\n  &lt;script&gt;\n    document.getElementById(\"fname\").onfocus = function() {\n      console.log(\"hi\");\n    }\n  &lt;/script&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I added another input so you can switch between them and see the event fire only on the second one.</p>\n"}], "owner": {"reputation": 89, "user_id": 6943793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33d3870a996ed597d7c901a9d306a52b?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy Didlioducci", "link": "https://stackoverflow.com/users/6943793/jimmy-didlioducci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 48309630, "answer_count": 3, "score": 0, "last_activity_date": 1516303314, "creation_date": 1516221268, "question_id": 48309559, "link": "https://stackoverflow.com/questions/48309559/why-wont-this-focus-event-trigger", "title": "Why won&#39;t this focus event trigger", "body": "<p>I have a very simple html file that contains an <code>input</code> element. Whenever the <code>input</code> element is focused on, I want to <code>console.log</code> a message. What happens is, the console.log is fired immediately upon the loading of the page, and never again. I can't use inline <code>onfocus</code> and no jquery. Here is what I've tried.</p>\n\n<p>first</p>\n\n<pre><code>&lt;html&gt;\n&lt;body id=\"fname\" &gt;\n    &lt;input id=\"fname\" type=\"text\" &gt;\n&lt;/body&gt;\n&lt;script&gt;        \n    window.onload = () =&gt; document.getElementById(\"fname\").addEventListener(`onfocus`,console.log(`hi`));\n&lt;/script&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>second</p>\n\n<pre><code>&lt;html&gt;\n&lt;body id=\"fname\" &gt;\n    &lt;input id=\"fname\" type=\"text\" &gt;\n&lt;/body&gt;\n&lt;script&gt;\n    window.onload = () =&gt; document.getElementById(\"fname\").onfocus = console.log(`hi`);\n&lt;/script&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>What gives?</p>\n"}, {"tags": ["javascript", "ajax", "extjs", "ant", "extjs6"], "answers": [{"tags": [], "owner": {"reputation": 2641, "user_id": 1253609, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2b4d12192192700b048e20c679da3b2e?s=128&d=identicon&r=PG", "display_name": "incutonez", "link": "https://stackoverflow.com/users/1253609/incutonez"}, "is_accepted": false, "score": 0, "last_activity_date": 1516298728, "creation_date": 1516298728, "answer_id": 48327692, "question_id": 48309545, "link": "https://stackoverflow.com/questions/48309545/extjs-override-all-ajax-calls-in-production-build/48327692#48327692", "title": "ExtJS: Override all AJAX calls in production build", "body": "<p>I think I may've figured it out, but it might be inefficient.  What I did was update the Build.xml file to include the page, and changed the output write path for the framework.js file to where app.js is.  Then I updated app.json to change the path of where the framework node gets written.  Not sure why I'd have to change both places, and I almost feel like it writes framework.js into app.js, and then overwrites it later on... so that might be inefficient, but this does seem to work.</p>\n\n<pre><code>&lt;x-compile refid=\"${compiler.ref.id}\"&gt;\n    &lt;![CDATA[\n    union\n      -r\n      -class=${app.name}.view.main.Main\n    and\n    save\n      viewport\n    and\n    intersect\n      -set=viewport,allframework\n    and\n    include\n      -set=frameworkdeps\n    and\n    save\n      frameworkdeps\n    and\n    include\n      -tag=Ext.cmd.derive\n    and\n    // added this\n    include\n      -set=page\n    and\n    concat\n      -remove-text-references=${build.remove.references}\n      -optimize-string-references=${build.optimize.string.references}\n      -remove-requirement-nodes=${build.remove.requirement.nodes}\n      ${build.compression}\n      // changed this\n      -out=${build.classes.file}\n      ${build.concat.options}\n    and\n    restore\n      viewport\n    and\n    exclude\n      -set=frameworkdeps\n    and\n    exclude\n      -set=page\n    and\n    exclude\n      -tag=Ext.cmd.derive,derive\n    and\n    concat\n      -remove-text-references=${build.remove.references}\n      -optimize-string-references=${build.optimize.string.references}\n      -remove-requirement-nodes=${build.remove.requirement.nodes}\n      ${build.compression}\n      -out=${build.out.base.path}/${build.id}/viewport.js\n      ${build.concat.options}\n    ]]&gt;\n&lt;/x-compile&gt;\n</code></pre>\n\n<p>Then in the output node in app.json:</p>\n\n<pre><code>\"framework\": {\n  // Added this path\n  \"path\": \"${build.id}/app.js\",\n  \"enable\": true\n}\n</code></pre>\n"}], "owner": {"reputation": 2641, "user_id": 1253609, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2b4d12192192700b048e20c679da3b2e?s=128&d=identicon&r=PG", "display_name": "incutonez", "link": "https://stackoverflow.com/users/1253609/incutonez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 192, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516562143, "creation_date": 1516221230, "question_id": 48309545, "link": "https://stackoverflow.com/questions/48309545/extjs-override-all-ajax-calls-in-production-build", "title": "ExtJS: Override all AJAX calls in production build", "body": "<p>What I'm trying to do is override all AJAX requests, including AJAX proxies, so what I created was an override for Ext.data.Connection. In development mode, this works like a charm, but in a production build, things get a little weird.</p>\n\n<p>The reason why things get weird is because we're doing something that \"splits\" the build (<a href=\"https://stackoverflow.com/a/45122418/1253609\">link here</a>). Meaning, we put all of the framework code into its own file, then have \"app.js,\" which is essentially what we use for booting our application, and \"viewport.js,\" which is the actual application after the booting succeeds. We do this because in \"app.js,\" we have an auth call which makes sure the user is valid, and if they are, then we load \"viewport.js.\"</p>\n\n<p>I think the problem with this is, because we're overriding such a core piece of functionality, it doesn't actually get overridden until app.js loads, which, at that point, Ext.Ajax--a singleton of the overridden class Ext.data.Connection--has already been created, and we lose out on overriding that. It looks like the override is included in app.js, so this assumption would make sense.</p>\n\n<p>I think what needs to happen is that the build.xml needs to include this override in the framework.js file, but I really don't know how to do that... I've never dealt with Ant, so I'm not even sure where I would start. If someone could point me in the right direction, that'd be super helpful. This is what the build.xml looks like right now (see begin custom addition comment for where we added the split code):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;project name=\"NewApp\" default=\".help\"&gt;\n\n    &lt;!-- Find and load Sencha Cmd ant tasks --&gt;\n    &lt;script language=\"javascript\"&gt;\n        &lt;![CDATA[\n            var dir = project.getProperty(\"basedir\"),\n                cmdDir = project.getProperty(\"cmd.dir\"),\n                cmdLoaded = project.getReference(\"senchaloader\");\n\n            if (!cmdLoaded) {\n                function echo(message, file) {\n                    var e = project.createTask(\"echo\");\n                    e.setMessage(message);\n                    if (file) {\n                        e.setFile(file);\n                    }\n                    e.execute();\n                };\n\n                if (!cmdDir) {\n\n                    function exec(args) {\n                        var process = java.lang.Runtime.getRuntime().exec(args),\n                            input = new java.io.BufferedReader(new java.io.InputStreamReader(process.getInputStream())),\n                            headerFound = false,\n                            line;\n\n                        while (line = input.readLine()) {\n                            line = line + '';\n                            java.lang.System.out.println(line);\n                            if (line.indexOf(\"Sencha Cmd\") &gt; -1) {\n                                headerFound = true;\n                            }\n                            else if (headerFound &amp;&amp; !cmdDir) {\n                                cmdDir = line;\n                                project.setProperty(\"cmd.dir\", cmdDir);\n                            }\n                        }\n                        process.waitFor();\n                        return !!cmdDir;\n                    }\n\n                    if (!exec([\"sencha\", \"which\"])) {\n                        var tmpFile = \"tmp.sh\";\n                        echo(\"source ~/.bash_profile; sencha \" + whichArgs.join(\" \"), tmpFile);\n                        exec([\"/bin/sh\", tmpFile]);\n                        new java.io.File(tmpFile)['delete']();\n                    }\n                }\n            }\n\n            if (cmdDir &amp;&amp; !project.getTargets().containsKey(\"init-cmd\")) {\n                var importDir = project.getProperty(\"build-impl.dir\") ||\n                                (cmdDir + \"/ant/build/app/build-impl.xml\");\n                var importTask = project.createTask(\"import\");\n\n                importTask.setOwningTarget(self.getOwningTarget());\n                importTask.setLocation(self.getLocation());\n                importTask.setFile(importDir);\n                importTask.execute();\n            }\n        ]]&gt;\n    &lt;/script&gt;\n\n    &lt;!--\n    The following targets can be provided to inject logic before and/or after key steps\n    of the build process:\n\n        The \"init-local\" target is used to initialize properties that may be personalized\n        for the local machine.\n\n            &lt;target name=\"-before-init-local\"/&gt;\n            &lt;target name=\"-after-init-local\"/&gt;\n\n        The \"clean\" target is used to clean build output from the build.dir.\n\n            &lt;target name=\"-before-clean\"/&gt;\n            &lt;target name=\"-after-clean\"/&gt;\n\n        The general \"init\" target is used to initialize all other properties, including\n        those provided by Sencha Cmd.\n\n            &lt;target name=\"-before-init\"/&gt;\n            &lt;target name=\"-after-init\"/&gt;\n\n        The \"page\" target performs the call to Sencha Cmd to build the 'all-classes.js' file.\n\n            &lt;target name=\"-before-page\"/&gt;\n            &lt;target name=\"-after-page\"/&gt;\n\n        The \"build\" target performs the call to Sencha Cmd to build the application.\n\n            &lt;target name=\"-before-build\"/&gt;\n            &lt;target name=\"-after-build\"/&gt;\n    --&gt;\n    &lt;!-- BEGIN CUSTOM ADDITION TO BUILD.XML --&gt;\n    &lt;target name=\"-after-js\"&gt;\n        &lt;!-- The following is derived from the compile-js target in\n             .sencha/app/js-impl.xml. Compile the viewport and all of its\n             dependencies into viewport.js. Include in the framework\n             dependencies in the framework file. --&gt;\n        &lt;x-compile refid=\"${compiler.ref.id}\"&gt;\n            &lt;![CDATA[\n            union\n              -r\n              -class=${app.name}.view.main.Main\n            and\n            save\n              viewport\n            and\n            intersect\n              -set=viewport,allframework\n            and\n            include\n              -set=frameworkdeps\n            and\n            save\n              frameworkdeps\n            and\n            include\n              -tag=Ext.cmd.derive\n            and\n            concat\n              -remove-text-references=${build.remove.references}\n              -optimize-string-references=${build.optimize.string.references}\n              -remove-requirement-nodes=${build.remove.requirement.nodes}\n              ${build.compression}\n              -out=${build.framework.file}\n              ${build.concat.options}\n            and\n            restore\n              viewport\n            and\n            exclude\n              -set=frameworkdeps\n            and\n            exclude\n              -set=page\n            and\n            exclude\n              -tag=Ext.cmd.derive,derive\n            and\n            concat\n              -remove-text-references=${build.remove.references}\n              -optimize-string-references=${build.optimize.string.references}\n              -remove-requirement-nodes=${build.remove.requirement.nodes}\n              ${build.compression}\n              -out=${build.out.base.path}/${build.id}/viewport.js\n              ${build.concat.options}\n            ]]&gt;\n        &lt;/x-compile&gt;\n\n        &lt;!-- Concatenate the file that sets the main view. --&gt;\n        &lt;concat destfile=\"${build.out.base.path}/${build.id}/viewport.js\" append=\"true\"&gt;\n            &lt;fileset file=\"classic/viewport.js\"/&gt;\n        &lt;/concat&gt;\n    &lt;/target&gt;\n\n    &lt;target name=\"-before-sass\"&gt;\n        &lt;!-- The viewport is not explicitly required by the application,\n             however, its SCSS dependencies need to be included. Unfortunately,\n             the property required to filter the output, sass.name.filter, is\n             declared as local and cannot be overridden. Use the development\n             configuration instead. --&gt;\n        &lt;property name=\"build.include.all.scss\" value=\"true\"/&gt;\n    &lt;/target&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>To recap, running <strong>sencha app watch</strong> and loading the page will show the listeners for the Ext.Ajax singleton, but running <strong>sencha app build production</strong> and loading the page will show no listeners. And no, I do not wish to create my own version of Ext.Ajax or my own data proxy... I realize that's probably the right approach, but there is a lot of code where I'd have to replace that, and that would be a whole lot of regression testing that I currently don't have time for.</p>\n"}, {"tags": ["javascript", "jquery", "python", "ajax", "django"], "comments": [{"owner": {"reputation": 737, "user_id": 8747207, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-R1BCkXtE1t4/AAAAAAAAAAI/AAAAAAAAABk/04aQ8PYOW6s/photo.jpg?sz=128", "display_name": "Sergio Mendez", "link": "https://stackoverflow.com/users/8747207/sergio-mendez"}, "reply_to_user": {"reputation": 2630, "user_id": 8150371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yqtry.jpg?s=128&g=1", "display_name": "Stack", "link": "https://stackoverflow.com/users/8150371/stack"}, "edited": false, "score": 0, "creation_date": 1516221759, "post_id": 48309523, "comment_id": 83604966, "body": "@Stack this is the error &#39;POST <a href=\"http://localhost:8000/listClients/\" rel=\"nofollow noreferrer\">localhost:8000/listClients</a> 500 (Internal Server Error)&#39; so I think that the problem is in <code>return HttpResponse(json.dumps(data), content_type=&quot;application&#47;json&quot;)</code>"}, {"owner": {"reputation": 2630, "user_id": 8150371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yqtry.jpg?s=128&g=1", "display_name": "Stack", "link": "https://stackoverflow.com/users/8150371/stack"}, "edited": false, "score": 1, "creation_date": 1516222103, "post_id": 48309523, "comment_id": 83605128, "body": "check this <a href=\"https://stackoverflow.com/a/17548578/8150371\">stackoverflow.com/a/17548578/8150371</a>  or use JsonResponse instead of HttpResponse"}], "answers": [{"comments": [{"owner": {"reputation": 2630, "user_id": 8150371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yqtry.jpg?s=128&g=1", "display_name": "Stack", "link": "https://stackoverflow.com/users/8150371/stack"}, "edited": false, "score": 0, "creation_date": 1516221422, "post_id": 48309578, "comment_id": 83604780, "body": "OP is using csrf_exempt in his urls.py on the view, though I am not sure if it is implemented correctly"}, {"owner": {"reputation": 737, "user_id": 8747207, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-R1BCkXtE1t4/AAAAAAAAAAI/AAAAAAAAABk/04aQ8PYOW6s/photo.jpg?sz=128", "display_name": "Sergio Mendez", "link": "https://stackoverflow.com/users/8747207/sergio-mendez"}, "edited": false, "score": 0, "creation_date": 1516221569, "post_id": 48309578, "comment_id": 83604851, "body": "In my urls.py I have this csrf_exempt(ajaxview.listClients) so the problem is not csrf"}], "tags": [], "owner": {"reputation": 5565, "user_id": 923934, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5e4b81619dada3148128270a9699fa8a?s=128&d=identicon&r=PG", "display_name": "bzmw", "link": "https://stackoverflow.com/users/923934/bzmw"}, "is_accepted": false, "score": -2, "last_activity_date": 1516221350, "creation_date": 1516221350, "answer_id": 48309578, "question_id": 48309523, "link": "https://stackoverflow.com/questions/48309523/get-object-list-with-ajax-in-django/48309578#48309578", "title": "Get object list with ajax in Django", "body": "<p>You need to include a <code>csrftoken</code> in your request. <a href=\"https://docs.djangoproject.com/en/2.0/ref/csrf/\" rel=\"nofollow noreferrer\">https://docs.djangoproject.com/en/2.0/ref/csrf/</a></p>\n\n<p>But also you should be using Class Based Views, and Django Forms to make these kinds of requests.</p>\n\n<p>The other option that you have is to use the Django Templating language to insert the data that you want. Simply pass the data into the view's context_data.</p>\n"}, {"tags": [], "owner": {"reputation": 957, "user_id": 2778668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZeufD.jpg?s=128&g=1", "display_name": "Rohan Varma", "link": "https://stackoverflow.com/users/2778668/rohan-varma"}, "is_accepted": true, "score": 1, "last_activity_date": 1516230277, "creation_date": 1516230277, "answer_id": 48311407, "question_id": 48309523, "link": "https://stackoverflow.com/questions/48309523/get-object-list-with-ajax-in-django/48311407#48311407", "title": "Get object list with ajax in Django", "body": "<p>You have the right idea and depending on your django version, you could be correct. For django version &lt;1.7, you have the correct syntax. For version 1.7 onwards, you should use a JsonResponse as such:</p>\n\n<pre><code>from django.http import JsonResponse\n\ndef listClients(request):\n    data = []\n    clientlist = clients.objects.filter(clientstatus=1)\n    #Here is where I don't know if I am doing correctly\n    #I don't know how to send the client list or if I have to send it as a JSON\n    #Please help here\n    data.append({'clist':clientlist })\n    return JsonResponse(data)\n</code></pre>\n\n<p>In your AJAX request in the javascript, the result object will, in fact, be the json that you sent from the backend. And then in your .each() method you can add the list to the HTML. </p>\n\n<p>While you can use the JsonResponse to solve this problem, I would also recommend looking into setting up django-rest-framework since you are creating, in essence, a rest API and could leverage the django-rest-framework library to make it much easier. This would require some overhead to learn but definitely could be useful if you need to make more APIs. Documentation is <a href=\"http://www.django-rest-framework.org/api-guide/views/\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Good luck!</p>\n"}], "owner": {"reputation": 737, "user_id": 8747207, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-R1BCkXtE1t4/AAAAAAAAAAI/AAAAAAAAABk/04aQ8PYOW6s/photo.jpg?sz=128", "display_name": "Sergio Mendez", "link": "https://stackoverflow.com/users/8747207/sergio-mendez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1800, "favorite_count": 0, "accepted_answer_id": 48311407, "answer_count": 2, "score": 0, "last_activity_date": 1516230277, "creation_date": 1516221146, "question_id": 48309523, "link": "https://stackoverflow.com/questions/48309523/get-object-list-with-ajax-in-django", "title": "Get object list with ajax in Django", "body": "<p>I'm using ajax in my django aplication, it works well except when I want to get all the registers in a table. I don't know how to send from my 'ajaxview' to the javascript code and then, how to parse the result.</p>\n\n<p>Here is my <strong>list.html</strong></p>\n\n<pre><code>&lt;table&gt;\n  &lt;thead&gt;\n   &lt;tr&gt;\n    &lt;th&gt;id&lt;/th&gt;\n    &lt;th&gt;Name&lt;/th&gt;\n    &lt;th&gt;Gender&lt;/th&gt;\n    &lt;th&gt;Birth date&lt;/th&gt;\n   &lt;/tr&gt;\n  &lt;/thead&gt;\n  &lt;tbody id=\"clientList\"&gt;\n    &lt;!--Here where I want to put the client list--&gt;\n  &lt;/tbody&gt;\n&lt;/table&gt;\n&lt;script&gt;\n  getAllClients();\n&lt;/script&gt;\n</code></pre>\n\n<p>This is my <strong>urls.py</strong></p>\n\n<pre><code>from django.conf.urls import url, include\nfrom django.contrib import admin\nfrom django.urls import path\nfrom django.views.decorators.csrf import csrf_exempt\nfrom store_app import ajax as ajaxview\nurlpatterns = [\n    path('admin/', admin.site.urls),\n    url(r'^listClients/$', csrf_exempt(ajaxview.listClients), name='listClients'),\n]\n</code></pre>\n\n<p>This is my <strong>ajax.py</strong> where I have diferent views than in views.py</p>\n\n<pre><code>def listClients(request):\n    data = []\n    clientlist = clients.objects.filter(clientstatus=1)\n    #Here is where I don't know if I am doing correctly\n    #I don't know how to send the client list or if I have to send it as a JSON\n    #Please help here\n    data.append({'clist':clientlist })\n    return HttpResponse(json.dumps(data), content_type=\"application/json\")\n</code></pre>\n\n<p>The last code actually work for other stuff, but not to send all the data</p>\n\n<p>This is my <strong>list.js</strong> script</p>\n\n<pre><code>funtion getAllClients()\n{\n  $.ajax(\n  {\n    type: \"POST\",\n    url: \"/getAllClients/\",\n    data: \"\",\n    success: function(result)\n    {\n      console.log(result); //Should I have a json object in 'result' variable?\n      $.each(result, function(key, val)\n      {\n        //Here is where I want to parse each object and add to the HTML table\n      });\n    }\n  });\n}\n</code></pre>\n\n<p>This code give me an error in the browser console. Please Help. Thanks.</p>\n"}, {"tags": ["javascript", "css", "bootstrap-4"], "comments": [{"owner": {"reputation": 13039, "user_id": 8270343, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2d2db77e80ad405e70798962f7f89d67?s=128&d=identicon&r=PG&f=1", "display_name": "WebDevBooster", "link": "https://stackoverflow.com/users/8270343/webdevbooster"}, "edited": false, "score": 0, "creation_date": 1516222779, "post_id": 48309475, "comment_id": 83605492, "body": "You should post a <b>complete</b> code example. So, that it can actually be viewed/tested etc."}], "answers": [{"tags": [], "owner": {"reputation": 7073, "user_id": 3897122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54a95d184f13bdce02a44babd294e04e?s=128&d=identicon&r=PG", "display_name": "dferenc", "link": "https://stackoverflow.com/users/3897122/dferenc"}, "is_accepted": true, "score": 2, "last_activity_date": 1516230877, "creation_date": 1516230877, "answer_id": 48311512, "question_id": 48309475, "link": "https://stackoverflow.com/questions/48309475/enable-background-use-with-modal-open-in-bootstrap-4/48311512#48311512", "title": "Enable background use with modal open in Bootstrap 4", "body": "<p>I'm focusing on the <code>.modal-backdrop</code> here, as I assume you already solved the draggable part by using jQuery UI.</p>\n\n<p>When it is used, <code>.modal-backdrop</code> actually is a fixed positioned div element covering the entire viewport and inserted before the <code>&lt;/body&gt;</code> tag when the modal dialog is shown. By default this provides the shaded background behind the modal, and also listens to click events to close the modal if needed.</p>\n\n<p>By using <code>data-backdrop=\"false\"</code> this element is not inserted into the DOM, so visually it will seem that there is nothing behind the modal. However, the <code>.modal</code> tag is also an element covering all the viewport (above the page, in the foreground), and acts as a wrapper for the actual <code>.modal-dialog</code> tag.</p>\n\n<p>So, in your scenario it is actually the <code>.modal</code> that is blocking (or catching) user interactions from the rest of your page.<br>\nYou can overcome that with the help of the <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/pointer-events\" rel=\"nofollow noreferrer\"><code>pointer-events</code></a> css property like so:</p>\n\n<pre><code>.modal {\n    pointer-events: none;\n}\n</code></pre>\n\n<p>The <code>.modal-dialog</code> will still receive interactions and will work as expected, but the page in the background will be clickable too.</p>\n"}], "owner": {"reputation": 1549, "user_id": 3529833, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/74c547cbe8476f731f97005480dda6aa?s=128&d=identicon&r=PG&f=1", "display_name": "Mojimi", "link": "https://stackoverflow.com/users/3529833/mojimi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1080, "favorite_count": 0, "accepted_answer_id": 48311512, "answer_count": 1, "score": 3, "last_activity_date": 1516230877, "creation_date": 1516220947, "last_edit_date": 1516221619, "question_id": 48309475, "link": "https://stackoverflow.com/questions/48309475/enable-background-use-with-modal-open-in-bootstrap-4", "title": "Enable background use with modal open in Bootstrap 4", "body": "<p>There are other similar questions here, but they all mention to change this:</p>\n\n<pre><code>.modal-backdrop {\n    display: none;\n}\n</code></pre>\n\n<p>To enable using the rest of the page while modal is open, except my modal doesn't have this .modal-backdrop, I don't know if it's something new with Bootstrap 4, but this solution did not work.</p>\n\n<p>My modal :</p>\n\n<pre><code>&lt;div class=\"modal\" data-keyboard=\"false\" data-backdrop=\"false\" tabindex=\"-1\" role=\"dialog\"&gt;\n    &lt;div class=\"modal-dialog\"&gt;\n        &lt;div class=\"modal-content\"&gt;\n          &lt;div class=\"modal-header bg-primary text-white\" id=\"header\" style=\"cursor: move\"&gt;\n            Search\n            &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"&gt;\n              &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\n            &lt;/button&gt;\n          &lt;/div&gt;\n          &lt;div class=\"modal-body\"&gt;\n            &lt;form id=\"forms\"&gt;\n            &lt;/form&gt;\n            &lt;hr&gt;\n            &lt;div class=\"container\" id=\"table\"&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n          &lt;div class=\"modal-footer\"&gt;\n            &lt;button type=\"button\" class=\"btn btn-secondary\"&gt;Export&lt;/button&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The idea here is to just have a dialog window that is draggable (I'm using jquery UI), is modal the correct component? Or cards? I used modal as they already position on the center and you don't need javascript to set up the close button.</p>\n\n<p>Also open to suggestions of external libraries that implement a panel-like module and integrates will with Bootstrap.</p>\n\n<p>And is there a way to make the background enabled without messing Bootstrap files too much?</p>\n"}, {"tags": ["javascript", "arrays"], "comments": [{"owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "edited": false, "score": 2, "creation_date": 1516221077, "post_id": 48309460, "comment_id": 83604621, "body": "The <code>var evensOdds = [[], []];</code>  initializes a 2d array. The expression <code>numbersArray[i] % 2</code> result is always 0 or 1, and I use it to decide to which sub array to push the number."}, {"owner": {"reputation": 44007, "user_id": 941240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SCC3P.jpg?s=128&g=1", "display_name": "Wiktor Zychla", "link": "https://stackoverflow.com/users/941240/wiktor-zychla"}, "edited": false, "score": 2, "creation_date": 1516221089, "post_id": 48309460, "comment_id": 83604628, "body": "The output data is split into two arrays but both definitely are not sorted."}, {"owner": {"reputation": 11660, "user_id": 2055998, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2Vx3A.jpg?s=128&g=1", "display_name": "PM 77-1", "link": "https://stackoverflow.com/users/2055998/pm-77-1"}, "edited": false, "score": 2, "creation_date": 1516221128, "post_id": 48309460, "comment_id": 83604652, "body": "Do not think about it as 2D.  Think about it as an array that consists of two arrays."}, {"owner": {"reputation": 83, "user_id": 8896451, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/43gDz.jpg?s=128&g=1", "display_name": "bom", "link": "https://stackoverflow.com/users/8896451/bom"}, "reply_to_user": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "edited": false, "score": 0, "creation_date": 1516221781, "post_id": 48309460, "comment_id": 83604976, "body": "@OriDrori thanks so much ori! couldn&#39;t figure out how to reach you(don&#39;t have enough credits ha) so had to write a new question"}, {"owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "edited": false, "score": 1, "creation_date": 1516222057, "post_id": 48309460, "comment_id": 83605111, "body": "@bom - welcome :)"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 8896451, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/43gDz.jpg?s=128&g=1", "display_name": "bom", "link": "https://stackoverflow.com/users/8896451/bom"}, "edited": false, "score": 0, "creation_date": 1516222192, "post_id": 48309538, "comment_id": 83605175, "body": "thank you so much!! yea i didn&#39;t realize the first bracket&#39;s a convertible one that gives either index0 or 1."}], "tags": [], "owner": {"reputation": 28516, "user_id": 3669624, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/afiTv.jpg?s=128&g=1", "display_name": "c\u043d\u015ddk", "link": "https://stackoverflow.com/users/3669624/c%d0%bd%c5%9ddk"}, "is_accepted": false, "score": 1, "last_activity_date": 1516221845, "last_edit_date": 1516221845, "creation_date": 1516221213, "answer_id": 48309538, "question_id": 48309460, "link": "https://stackoverflow.com/questions/48309460/filtering-an-array-and-converting-it-to-a-2d-array/48309538#48309538", "title": "Filtering an array and converting it to a 2D array", "body": "<p>In the shared code the <code>evensOdds[numbersArray[i] % 2]</code> line is the part that filter the numbers and inserts them in the respective <code>array</code>, using the indexes <code>0</code> and <code>1</code> returned from the <code>numbersArray[i] % 2</code> expression: </p>\n\n<p>If it returns <code>0</code> so it's an <code>even</code> number and it will be pushed in the first <code>array</code> otherwise if it returns <code>1</code> it's an <code>odd</code> number and will be pushed in the second array.</p>\n\n<p><strong>Another alternative:</strong></p>\n\n<p>Well you can simply use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\" rel=\"nofollow noreferrer\"><strong><code>Array.filter()</code></strong></a> method to filter both <code>evens</code> and <code>odds</code> arrays:</p>\n\n<p><strong>Demo:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var numbersArray = [1, 2, 34, 54, 55, 34, 32, 11, 19, 17, 54, 66, 13];\r\n\r\nvar evens = numbersArray.filter(function(el) {\r\n  return el % 2 == 0;\r\n});\r\n\r\nvar odds = numbersArray.filter(function(el) {\r\n  return el % 2 == 1;\r\n});\r\n\r\nconsole.log(evens);\r\n\r\nconsole.log(odds);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 83, "user_id": 8896451, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/43gDz.jpg?s=128&g=1", "display_name": "bom", "link": "https://stackoverflow.com/users/8896451/bom"}, "edited": false, "score": 0, "creation_date": 1516221847, "post_id": 48309593, "comment_id": 83605013, "body": "now it all makes sense thanks so much! so the first bracket indicates the index number of the evensOdds. you&#39;re a life saverrr"}], "tags": [], "owner": {"reputation": 4184, "user_id": 7484766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b51b5dab8aebf8aa404ef48acee400c?s=128&d=identicon&r=PG", "display_name": "JohanP", "link": "https://stackoverflow.com/users/7484766/johanp"}, "is_accepted": true, "score": 2, "last_activity_date": 1516221422, "creation_date": 1516221422, "answer_id": 48309593, "question_id": 48309460, "link": "https://stackoverflow.com/questions/48309460/filtering-an-array-and-converting-it-to-a-2d-array/48309593#48309593", "title": "Filtering an array and converting it to a 2D array", "body": "<p><code>evensOdds</code> has 2 array elements. <code>evensOdds[0]</code> represents first array, which will hold even nums. <code>evensOdds[1]</code> is second element and will hold odd numbers.</p>\n\n<p>When you <code>% 2</code> an even number, it will result in <code>0</code> and <code>1</code> for odd number. So when iterating through the array, you <code>% 2</code>, which will return <code>0</code> or <code>1</code> which enables you to access the first or second array in your <code>evensOdds</code> array and insert it.</p>\n\n<p>The resulting arrays are not sorted but does represent the split between even and odd numbers. To have a sorted results, you will need the following:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var numbersArray = [1,2,34,54,55,34,32,11,19,17,54,66,13];\r\n\r\nfunction divider(numbersArray) {\r\n  var evensOdds = [[], []];\r\n  for (var i = 0; i &lt; numbersArray.length; i++) {\r\n    evensOdds[numbersArray[i] % 2].push(numbersArray[i]);\r\n  }\r\n  return evensOdds.map(array=&gt; array.sort((a,b)=&gt;a-b));\r\n}\r\n\r\nconsole.log(divider(numbersArray));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 83, "user_id": 8896451, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/43gDz.jpg?s=128&g=1", "display_name": "bom", "link": "https://stackoverflow.com/users/8896451/bom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 48309593, "answer_count": 2, "score": 2, "last_activity_date": 1516222442, "creation_date": 1516220870, "last_edit_date": 1516222442, "question_id": 48309460, "link": "https://stackoverflow.com/questions/48309460/filtering-an-array-and-converting-it-to-a-2d-array", "title": "Filtering an array and converting it to a 2D array", "body": "<p>I saw this interesting post yesterday, and thought it'd be important to know how to create a 2D array from sorting the given argument:\n<a href=\"https://stackoverflow.com/questions/48290845/how-to-get-even-numbers-array-to-print-first-instead-of-odds\">How to get even numbers array to print first instead of odds?</a></p>\n\n<p>Below is the code snippet from Ori Drori.</p>\n\n<p>I was curious to know what line of code, and which expression sorts the data and creates 2D array. I assume it's something to do with [numbersArray[i] % 2], but isn't the remainder operator returns the remainder left over? </p>\n\n<p>Also it's a bit confusing as it just set one bracket for an array and use push() to make 2 different arrays.</p>\n\n<p>Any reference that'd help me to understand this will also be much appreciated- thanks!</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var numbersArray = [1,2,34,54,55,34,32,11,19,17,54,66,13];\r\n\r\nfunction divider(numbersArray) {\r\n  var evensOdds = [[], []];\r\n  for (var i = 0; i &lt; numbersArray.length; i++) {\r\n    evensOdds[numbersArray[i] % 2].push(numbersArray[i]);\r\n  }\r\n  return evensOdds;\r\n}\r\n\r\nconsole.log(divider(numbersArray));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "redirect", "timer"], "comments": [{"owner": {"reputation": 4820, "user_id": 1309377, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/bYVAD.jpg?s=128&g=1", "display_name": "Andrew Lohr", "link": "https://stackoverflow.com/users/1309377/andrew-lohr"}, "edited": false, "score": 0, "creation_date": 1516220990, "post_id": 48309448, "comment_id": 83604572, "body": "when you say &quot;won&#39;t work&quot; or &quot;my redirect code doesn&#39;t work for some reason&quot; you need to explain what isn&#39;t working. Is something unexpected happening? is nothing at all happening? etc..."}, {"owner": {"reputation": 41, "user_id": 9206004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/950cf1856916cb9c30c750d3f4557c0d?s=128&d=identicon&r=PG&f=1", "display_name": "Psych_Art", "link": "https://stackoverflow.com/users/9206004/psych-art"}, "reply_to_user": {"reputation": 4820, "user_id": 1309377, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/bYVAD.jpg?s=128&g=1", "display_name": "Andrew Lohr", "link": "https://stackoverflow.com/users/1309377/andrew-lohr"}, "edited": false, "score": 0, "creation_date": 1516223200, "post_id": 48309448, "comment_id": 83605708, "body": "The idle timer works fine, until I add the stipulation of it needing to be on a specific page as shown with  &amp;&amp; (window.location.pathname == &#39;/wp&#39;)"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 9206004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/950cf1856916cb9c30c750d3f4557c0d?s=128&d=identicon&r=PG&f=1", "display_name": "Psych_Art", "link": "https://stackoverflow.com/users/9206004/psych-art"}, "edited": false, "score": 0, "creation_date": 1516224225, "post_id": 48309619, "comment_id": 83606190, "body": "The only change here I see is changing the milliseconds before redirect and adjusting the idle time threshold. I&#39;ve tried it both ways. Please correct me if I am missing anything."}, {"owner": {"reputation": 132, "user_id": 6922184, "user_type": "registered", "profile_image": "https://graph.facebook.com/1395223827157742/picture?type=large", "display_name": "Yurii Kovalenko", "link": "https://stackoverflow.com/users/6922184/yurii-kovalenko"}, "reply_to_user": {"reputation": 41, "user_id": 9206004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/950cf1856916cb9c30c750d3f4557c0d?s=128&d=identicon&r=PG&f=1", "display_name": "Psych_Art", "link": "https://stackoverflow.com/users/9206004/psych-art"}, "edited": false, "score": 0, "creation_date": 1516224412, "post_id": 48309619, "comment_id": 83606261, "body": "In your code idleTime always be more than zero, because you did increment right before check, so redirect will be proceeds each time."}], "tags": [], "owner": {"reputation": 132, "user_id": 6922184, "user_type": "registered", "profile_image": "https://graph.facebook.com/1395223827157742/picture?type=large", "display_name": "Yurii Kovalenko", "link": "https://stackoverflow.com/users/6922184/yurii-kovalenko"}, "is_accepted": false, "score": -1, "last_activity_date": 1516221505, "creation_date": 1516221505, "answer_id": 48309619, "question_id": 48309448, "link": "https://stackoverflow.com/questions/48309448/javascript-page-reload-script-wont-work/48309619#48309619", "title": "Javascript - page reload script won&#39;t work", "body": "<p>I tried you code, it works, but wrong. If it don't work for you - remove that <code>&amp;&amp; (window.location.pathname == '/wp')</code> and try again. You have bigger problem, your code just redirects after 10 seconds no matter what. You need to replace to something like that: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>jQuery(document).ready(function( $ ){\r\n  \r\n\r\n\r\nvar idleTime = 0;\r\n$(document).ready(function () {\r\n    //Increment the idle time counter every minute.\r\n    var idleInterval = setInterval(timerIncrement, 1000); // 1 second\r\n\r\n    //Zero the idle timer on mouse movement.\r\n    $(this).mousemove(function (e) {\r\n        idleTime = 0;\r\n    });\r\n    $(this).keypress(function (e) {\r\n        idleTime = 0;\r\n    });\r\n});\r\n function timerIncrement() {\r\n    idleTime = idleTime + 1;\r\n     if ((idleTime &gt; 9) &amp;&amp; (window.location.pathname == '/wp'))  { // 10 seconds\r\n       window.location.href = \"https://www.google.com\";\r\n    }\r\n \r\n}\r\n\r\n  });</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 41, "user_id": 9206004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/950cf1856916cb9c30c750d3f4557c0d?s=128&d=identicon&r=PG&f=1", "display_name": "Psych_Art", "link": "https://stackoverflow.com/users/9206004/psych-art"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1516223122, "creation_date": 1516220801, "last_edit_date": 1516223122, "question_id": 48309448, "link": "https://stackoverflow.com/questions/48309448/javascript-page-reload-script-wont-work", "title": "Javascript - page reload script won&#39;t work", "body": "<p>I'm a complete newb to javascript, and much of this code was pulled from other sites. I'm trying to use two things I found to make a page redirect after the user is inactive for a specified amount of time.</p>\n\n<p>I was able to get the timer working and make the page reload instead of redirecting, but my redirect code doesn't work for some reason.</p>\n\n<p>EDIT: forgot to mention this code needs to work for specific pages, as I will be using one page to redirect to a specific page, and another to a different page.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>jQuery(document).ready(function( $ ){\r\n  \r\n\r\n\r\nvar idleTime = 0;\r\n$(document).ready(function () {\r\n    //Increment the idle time counter every minute.\r\n    var idleInterval = setInterval(timerIncrement, 10000); // 10 seconds\r\n\r\n    //Zero the idle timer on mouse movement.\r\n    $(this).mousemove(function (e) {\r\n        idleTime = 0;\r\n    });\r\n    $(this).keypress(function (e) {\r\n        idleTime = 0;\r\n    });\r\n});\r\n function timerIncrement() {\r\n    idleTime = idleTime + 1;\r\n     if ((idleTime &gt; 0) &amp;&amp; (window.location.pathname == '/wp'))  { // 10 seconds\r\n       window.location.href = \"https://www.google.com\";\r\n    }\r\n \r\n}\r\n\r\n  });</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 189597, "user_id": 616443, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/907798bf02efdaf6f9d07d3c0552868f?s=128&d=identicon&r=PG", "display_name": "j08691", "link": "https://stackoverflow.com/users/616443/j08691"}, "edited": false, "score": 0, "creation_date": 1516220853, "post_id": 48309445, "comment_id": 83604500, "body": "What&#39;s <code>doc</code> in <code>doc.getElementById</code>?"}, {"owner": {"reputation": 1293, "user_id": 1367039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e89dcb45151fded5c1a3b749646be5f2?s=128&d=identicon&r=PG", "display_name": "Chris Riebschlager", "link": "https://stackoverflow.com/users/1367039/chris-riebschlager"}, "edited": false, "score": 1, "creation_date": 1516220937, "post_id": 48309445, "comment_id": 83604542, "body": "I believe <code>execCommand</code> is a method only of the <code>document</code> object. Not of individual document nodes."}, {"owner": {"reputation": 63, "user_id": 3731700, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1638cc75735a0d046a1f8872e3c2d0da?s=128&d=identicon&r=PG&f=1", "display_name": "Haithomy", "link": "https://stackoverflow.com/users/3731700/haithomy"}, "edited": false, "score": 0, "creation_date": 1516221114, "post_id": 48309445, "comment_id": 83604645, "body": "I define doc as <code>var doc = document;</code> in the top of document"}, {"owner": {"reputation": 1293, "user_id": 1367039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e89dcb45151fded5c1a3b749646be5f2?s=128&d=identicon&r=PG", "display_name": "Chris Riebschlager", "link": "https://stackoverflow.com/users/1367039/chris-riebschlager"}, "edited": false, "score": 0, "creation_date": 1516221483, "post_id": 48309445, "comment_id": 83604804, "body": "Right, but you&#39;re trying to run <code>execCommand</code> on <code>field</code> which is an individual node."}, {"owner": {"reputation": 63, "user_id": 3731700, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1638cc75735a0d046a1f8872e3c2d0da?s=128&d=identicon&r=PG&f=1", "display_name": "Haithomy", "link": "https://stackoverflow.com/users/3731700/haithomy"}, "edited": false, "score": 0, "creation_date": 1516221664, "post_id": 48309445, "comment_id": 83604910, "body": "ok I replace <code>field</code> with <code>document</code> and its work but I can&#39;t see the image in <code>field</code>"}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 3731700, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1638cc75735a0d046a1f8872e3c2d0da?s=128&d=identicon&r=PG&f=1", "display_name": "Haithomy", "link": "https://stackoverflow.com/users/3731700/haithomy"}, "edited": false, "score": 0, "creation_date": 1516222441, "post_id": 48309765, "comment_id": 83605325, "body": "I declared doc as <code>var doc = document;</code> in the global scope"}, {"owner": {"reputation": 28516, "user_id": 3669624, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/afiTv.jpg?s=128&g=1", "display_name": "c\u043d\u015ddk", "link": "https://stackoverflow.com/users/3669624/c%d0%bd%c5%9ddk"}, "reply_to_user": {"reputation": 63, "user_id": 3731700, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1638cc75735a0d046a1f8872e3c2d0da?s=128&d=identicon&r=PG&f=1", "display_name": "Haithomy", "link": "https://stackoverflow.com/users/3731700/haithomy"}, "edited": false, "score": 0, "creation_date": 1516222512, "post_id": 48309765, "comment_id": 83605354, "body": "@Haithomy try to log <code>doc</code> inside the function and see if it&#39;s accessible out there."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1516222945, "post_id": 48309765, "comment_id": 83605561, "body": "I think he defined the <code>doc</code> variable just to reduce typing."}, {"owner": {"reputation": 28516, "user_id": 3669624, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/afiTv.jpg?s=128&g=1", "display_name": "c\u043d\u015ddk", "link": "https://stackoverflow.com/users/3669624/c%d0%bd%c5%9ddk"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1516223145, "post_id": 48309765, "comment_id": 83605671, "body": "@Barmar Yes typing an extra 4 characters can be some how, a brain teaser."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1516223387, "post_id": 48309765, "comment_id": 83605794, "body": "@chsdk We ask for a <b>Minimal</b> example. So that saves 20 characters over all the uses. But the assignment is also 20 characters, so it&#39;s a wash. :)"}], "tags": [], "owner": {"reputation": 28516, "user_id": 3669624, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/afiTv.jpg?s=128&g=1", "display_name": "c\u043d\u015ddk", "link": "https://stackoverflow.com/users/3669624/c%d0%bd%c5%9ddk"}, "is_accepted": false, "score": 0, "last_activity_date": 1516222568, "last_edit_date": 1516222568, "creation_date": 1516222224, "answer_id": 48309765, "question_id": 48309445, "link": "https://stackoverflow.com/questions/48309445/error-execcommand-is-not-a-function/48309765#48309765", "title": "error execCommand is not a function", "body": "<p>First of all <code>execCommand()</code> is  a <code>window</code> function, that can only be called on the <code>window</code> object or its <code>document</code>, so it's wrong to call <code>field.execCommand()</code> and that's the code behind the error:</p>\n\n<blockquote>\n  <p>Uncaught TypeError: field.execCommand is not a function</p>\n</blockquote>\n\n<p>Another thing you are calling <code>doc.getElementById()</code> while <code>doc</code> is not defined in your <code>file_upload</code> function, check that you declared <code>doc</code> in a global scope and that it's accessible in <code>file_upload</code> function.</p>\n\n<p><strong>Note:</strong></p>\n\n<p>Note that it's useless to declare a variable that points to the <code>document</code> object, as it's always easy to access it via <code>document</code> and it's globally defined in the <code>window</code> scope.</p>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 3731700, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1638cc75735a0d046a1f8872e3c2d0da?s=128&d=identicon&r=PG&f=1", "display_name": "Haithomy", "link": "https://stackoverflow.com/users/3731700/haithomy"}, "is_accepted": true, "score": 0, "last_activity_date": 1516225491, "creation_date": 1516225491, "answer_id": 48310499, "question_id": 48309445, "link": "https://stackoverflow.com/questions/48309445/error-execcommand-is-not-a-function/48310499#48310499", "title": "error execCommand is not a function", "body": "<p>I found the solution:</p>\n\n<pre><code>function file_upload() {\n  var field = doc.getElementById(\"topic_details\"), input = doc.body.appendChild(doc.createElement(\"input\"));\n  input.id = \"blob\";\n  input.setAttribute(\"type\", \"file\");\n  input.click();\n  input.addEventListener(\"change\", function() {\n    reader.onload = function(e) {\n      var range = doc.createRange();\n      range.selectNodeContents(field);\n      var sel = window.getSelection();\n      sel.removeAllRanges();\n      sel.addRange(range);\n      doc.execCommand(\"insertImage\", false, e.target.result);\n    }\n    reader.readAsDataURL(doc.getElementById(\"blob\").files[0]);\n    input.parentNode.removeChild(input);\n  }, false);\n}\n</code></pre>\n\n<p>thank you all for help .. cya</p>\n"}, {"tags": [], "owner": {"reputation": 119, "user_id": 11895459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3OmV.jpg?s=128&g=1", "display_name": "Fiehra", "link": "https://stackoverflow.com/users/11895459/fiehra"}, "is_accepted": false, "score": 0, "last_activity_date": 1605524147, "last_edit_date": 1605524147, "creation_date": 1592216795, "answer_id": 62386247, "question_id": 48309445, "link": "https://stackoverflow.com/questions/48309445/error-execcommand-is-not-a-function/62386247#62386247", "title": "error execCommand is not a function", "body": "<p>i was getting the same error when testing a function which calls the document.execCommand('copy') command\nwhat helped me when testing document.execCommand :</p>\n<p>i added this line of code at the top of my test.spec.ts file</p>\n<p>document.execCommand = jest.fn()</p>\n<p>using angular 9</p>\n"}], "owner": {"reputation": 63, "user_id": 3731700, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1638cc75735a0d046a1f8872e3c2d0da?s=128&d=identicon&r=PG&f=1", "display_name": "Haithomy", "link": "https://stackoverflow.com/users/3731700/haithomy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3446, "favorite_count": 0, "accepted_answer_id": 48310499, "answer_count": 3, "score": 2, "last_activity_date": 1605524147, "creation_date": 1516220794, "last_edit_date": 1516222657, "question_id": 48309445, "link": "https://stackoverflow.com/questions/48309445/error-execcommand-is-not-a-function", "title": "error execCommand is not a function", "body": "<p>I am trying to upload image using input elements with type=\"file\" and then append image to contenteditable fieldset using this code:</p>\n\n<pre><code>var doc = document;\nfunction file_upload() {\n  var field = doc.getElementById(\"topic_details\"), input = doc.body.appendChild(doc.createElement(\"input\"));\n  input.id = \"blob\";\n  input.setAttribute(\"type\", \"file\");\n  input.click();\n  input.addEventListener(\"change\", function() {\n    //reader.onload = function(e) { doc.getElementById(\"topic_details\").innerHTML = \"&lt;img style='max-width: 320px; height: auto;' src='\"+e.target.result+\"' alt='' /&gt;\"; }\n    reader.onload = function(e) {\n      field.execCommand(\"insertImage\", false, e.target.result);\n    }\n    reader.readAsDataURL(doc.getElementById(\"blob\").files[0]);\n    input.parentNode.removeChild(input);\n  }, false);\n}\n</code></pre>\n\n<p>but I recieve this error:</p>\n\n<p>Uncaught TypeError: field.execCommand is not a function</p>\n"}, {"tags": ["javascript", "angular", "server-side-rendering"], "answers": [{"comments": [{"owner": {"reputation": 829, "user_id": 7258865, "user_type": "registered", "accept_rate": 41, "profile_image": "https://lh6.googleusercontent.com/-KYSYBph5vn4/AAAAAAAAAAI/AAAAAAAAA4I/j0ej3VxMkyg/photo.jpg?sz=128", "display_name": "Jonathan Corrin", "link": "https://stackoverflow.com/users/7258865/jonathan-corrin"}, "edited": false, "score": 0, "creation_date": 1516220927, "post_id": 48309456, "comment_id": 83604536, "body": "Trying now. Will let you know"}, {"owner": {"reputation": 829, "user_id": 7258865, "user_type": "registered", "accept_rate": 41, "profile_image": "https://lh6.googleusercontent.com/-KYSYBph5vn4/AAAAAAAAAAI/AAAAAAAAA4I/j0ej3VxMkyg/photo.jpg?sz=128", "display_name": "Jonathan Corrin", "link": "https://stackoverflow.com/users/7258865/jonathan-corrin"}, "edited": false, "score": 0, "creation_date": 1516221064, "post_id": 48309456, "comment_id": 83604616, "body": "Ah. That was it. How simple : D. Thanks"}], "tags": [], "owner": {"reputation": 1139, "user_id": 8687597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f1e0f5be5e0daafeeafc5c1f22dd71f?s=128&d=identicon&r=PG&f=1", "display_name": "displayName", "link": "https://stackoverflow.com/users/8687597/displayname"}, "is_accepted": true, "score": 3, "last_activity_date": 1516220849, "creation_date": 1516220849, "answer_id": 48309456, "question_id": 48309429, "link": "https://stackoverflow.com/questions/48309429/databinding-with-external-urls-using-server-side-rendering/48309456#48309456", "title": "Databinding with external URLs using server side rendering", "body": "<p>have you tried adding 'http://' to the beginning of URL?</p>\n"}], "owner": {"reputation": 829, "user_id": 7258865, "user_type": "registered", "accept_rate": 41, "profile_image": "https://lh6.googleusercontent.com/-KYSYBph5vn4/AAAAAAAAAAI/AAAAAAAAA4I/j0ej3VxMkyg/photo.jpg?sz=128", "display_name": "Jonathan Corrin", "link": "https://stackoverflow.com/users/7258865/jonathan-corrin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 48309456, "answer_count": 1, "score": 2, "last_activity_date": 1516220849, "creation_date": 1516220730, "question_id": 48309429, "link": "https://stackoverflow.com/questions/48309429/databinding-with-external-urls-using-server-side-rendering", "title": "Databinding with external URLs using server side rendering", "body": "<p>I'm building an angular SSR application. Theres a simple problem Im having that someone may be able to solve. </p>\n\n<p>It seems that when I data bind a url to an <code>&lt;a&gt;</code> tag, it appends that url to the end of my applications home url. </p>\n\n<p>Example: \n<code>&lt;a [href]=\"url\"&gt;Link&lt;/a&gt;</code> in my home.component.html file. </p>\n\n<p>url = \"www.google.com\"; in home.component.ts file. </p>\n\n<p>If you implement SSR, this url will direct you to \"www.my-app.com/www.google.com\" instead of \"www.google.com\". </p>\n\n<p>I've tried a basic test and it seems to be this way. How do I direct to external urls without window (due to SSR)? Is there a way to do so in the template when Im data binding? </p>\n"}, {"tags": ["javascript", "react-native", "react-navigation"], "comments": [{"owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 2, "creation_date": 1516220453, "post_id": 48309337, "comment_id": 83604294, "body": "At this site you are expected to try to <b>write the code yourself</b>. After <b><a href=\"//meta.stackoverflow.com/questions/261592\">doing more research</a></b> if you have a problem you can <b>post what you&#39;ve tried</b> with a <b>clear explanation of what isn&#39;t working</b> and providing a <b><a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a></b>. I suggest reading <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> a good question and <a href=\"//codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question/\" rel=\"nofollow noreferrer\">the perfect question</a>. Also, be sure to take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <b><a href=\"//meta.stackoverflow.com/questions/347937/\">this</a></b>."}, {"owner": {"reputation": 874, "user_id": 3656629, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100003077022110/picture?type=large", "display_name": "Ahmed Samy", "link": "https://stackoverflow.com/users/3656629/ahmed-samy"}, "reply_to_user": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 0, "creation_date": 1516221343, "post_id": 48309337, "comment_id": 83604746, "body": "@FrankerZ Thank you for your reply. If I have done more research and found anything that goes along with my case I wouldn&#39;t be asking about it. So if you are more fortunate to stumble by any links to similar issues or know how to do fix it yourself, it is definitely going to be more useful than instructing me to read about how to ask a question."}], "answers": [{"comments": [{"owner": {"reputation": 874, "user_id": 3656629, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100003077022110/picture?type=large", "display_name": "Ahmed Samy", "link": "https://stackoverflow.com/users/3656629/ahmed-samy"}, "edited": false, "score": 0, "creation_date": 1516304745, "post_id": 48320484, "comment_id": 83643996, "body": "Thank you Mr. Lee for your answer but unfortunately it didn&#39;t work. When you check the routeName in the screen where the modal renders, it always returns the screen name not the screen that is currently displaying"}, {"owner": {"reputation": 2066, "user_id": 949795, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7cdec71f438e28af0bb9f5aa508a4054?s=128&d=identicon&r=PG", "display_name": "Bright Lee", "link": "https://stackoverflow.com/users/949795/bright-lee"}, "reply_to_user": {"reputation": 874, "user_id": 3656629, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100003077022110/picture?type=large", "display_name": "Ahmed Samy", "link": "https://stackoverflow.com/users/3656629/ahmed-samy"}, "edited": false, "score": 1, "creation_date": 1516388196, "post_id": 48320484, "comment_id": 83681597, "body": "@AhmedSamy Ah, now I got your question. hm... then, you can switch it to off before navigating next screen. But you want to better solution, don&#39;t you?"}, {"owner": {"reputation": 874, "user_id": 3656629, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100003077022110/picture?type=large", "display_name": "Ahmed Samy", "link": "https://stackoverflow.com/users/3656629/ahmed-samy"}, "edited": false, "score": 0, "creation_date": 1516400285, "post_id": 48320484, "comment_id": 83687253, "body": "Actually I managed to accomplish the task using redux ... but your comment just gave an idea of a much simpler solution but too late to change the whole thing back now but thanks anyway."}], "tags": [], "owner": {"reputation": 2066, "user_id": 949795, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7cdec71f438e28af0bb9f5aa508a4054?s=128&d=identicon&r=PG", "display_name": "Bright Lee", "link": "https://stackoverflow.com/users/949795/bright-lee"}, "is_accepted": false, "score": 0, "last_activity_date": 1516275628, "creation_date": 1516275628, "answer_id": 48320484, "question_id": 48309337, "link": "https://stackoverflow.com/questions/48309337/how-to-only-render-modal-in-the-initial-route-of-the-stacknavigator/48320484#48320484", "title": "How to only render modal in the initial route of the stacknavigator?", "body": "<p>Maybe you can check <code>this.props.navigation.state.routeName</code> so that you know if it's initial screen or not.</p>\n\n<p>I got this from this document.\n<a href=\"https://reactnavigation.org/docs/navigators/navigation-prop\" rel=\"nofollow noreferrer\">https://reactnavigation.org/docs/navigators/navigation-prop</a></p>\n"}], "owner": {"reputation": 874, "user_id": 3656629, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100003077022110/picture?type=large", "display_name": "Ahmed Samy", "link": "https://stackoverflow.com/users/3656629/ahmed-samy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1516275628, "creation_date": 1516220370, "question_id": 48309337, "link": "https://stackoverflow.com/questions/48309337/how-to-only-render-modal-in-the-initial-route-of-the-stacknavigator", "title": "How to only render modal in the initial route of the stacknavigator?", "body": "<p>The initial screen of my stacknavigator has a modal that shows up upon the occurrence of a certain event ... problem is when I navigate to other screens the modal still shows up when the event is triggered. I want it only to show up when the initial route is showing up.</p>\n"}, {"tags": ["javascript", "html", "object", "testing", "canvas"], "comments": [{"owner": {"reputation": 25361, "user_id": 924299, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a142d1ec6b8444c9baf3ec6176e1cf61?s=128&d=identicon&r=PG&f=1", "display_name": "showdev", "link": "https://stackoverflow.com/users/924299/showdev"}, "edited": false, "score": 0, "creation_date": 1516220524, "post_id": 48309336, "comment_id": 83604334, "body": "Please <a href=\"https://stackoverflow.com/help/mcve\">create a working example</a> to help demonstrate your issue."}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 8769474, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh5.googleusercontent.com/-FWBeV3AJWkY/AAAAAAAAAAI/AAAAAAAAADo/KaUQP-tFsCI/photo.jpg?sz=128", "display_name": "Ballo Adam", "link": "https://stackoverflow.com/users/8769474/ballo-adam"}, "edited": false, "score": 0, "creation_date": 1516221320, "post_id": 48309489, "comment_id": 83604733, "body": "How do I make the connection between <code>css</code> and the <code>script</code> in which the balls object is made? Because in the <code>html</code> file I added the scripts like <code>&lt;script src=&quot;lotto.js&quot;&gt;&lt;&#47;script&gt;</code> but how can I add a class to the balls then?"}, {"owner": {"reputation": 587, "user_id": 3705277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/579d894b789ec920aba0327b931a5dab?s=128&d=identicon&r=PG&f=1", "display_name": "kng", "link": "https://stackoverflow.com/users/3705277/kng"}, "reply_to_user": {"reputation": 105, "user_id": 8769474, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh5.googleusercontent.com/-FWBeV3AJWkY/AAAAAAAAAAI/AAAAAAAAADo/KaUQP-tFsCI/photo.jpg?sz=128", "display_name": "Ballo Adam", "link": "https://stackoverflow.com/users/8769474/ballo-adam"}, "edited": false, "score": 1, "creation_date": 1516222376, "post_id": 48309489, "comment_id": 83605289, "body": "You should post all of your code here if you want a more detailed response. In any case, I&#39;ve edited my answer. You don&#39;t need to connect your css and javascript. You can think of it as both the css and script files modifying your html"}, {"owner": {"reputation": 105, "user_id": 8769474, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh5.googleusercontent.com/-FWBeV3AJWkY/AAAAAAAAAAI/AAAAAAAAADo/KaUQP-tFsCI/photo.jpg?sz=128", "display_name": "Ballo Adam", "link": "https://stackoverflow.com/users/8769474/ballo-adam"}, "edited": false, "score": 0, "creation_date": 1516222988, "post_id": 48309489, "comment_id": 83605589, "body": "Here is my code. Both files are uploaded. I created them differently than you said. <a href=\"https://github.com/Frago23/Frago1321\" rel=\"nofollow noreferrer\">github.com/Frago23/Frago1321</a>"}, {"owner": {"reputation": 587, "user_id": 3705277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/579d894b789ec920aba0327b931a5dab?s=128&d=identicon&r=PG&f=1", "display_name": "kng", "link": "https://stackoverflow.com/users/3705277/kng"}, "reply_to_user": {"reputation": 105, "user_id": 8769474, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh5.googleusercontent.com/-FWBeV3AJWkY/AAAAAAAAAAI/AAAAAAAAADo/KaUQP-tFsCI/photo.jpg?sz=128", "display_name": "Ballo Adam", "link": "https://stackoverflow.com/users/8769474/ballo-adam"}, "edited": false, "score": 0, "creation_date": 1516230920, "post_id": 48309489, "comment_id": 83608908, "body": "I edited my answer"}, {"owner": {"reputation": 105, "user_id": 8769474, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh5.googleusercontent.com/-FWBeV3AJWkY/AAAAAAAAAAI/AAAAAAAAADo/KaUQP-tFsCI/photo.jpg?sz=128", "display_name": "Ballo Adam", "link": "https://stackoverflow.com/users/8769474/ballo-adam"}, "edited": false, "score": 0, "creation_date": 1516261461, "post_id": 48309489, "comment_id": 83617563, "body": "The problem is that now the whole <code>canvas</code> was placed in front. My goal was to place only the balls. I edited my post with the link"}, {"owner": {"reputation": 587, "user_id": 3705277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/579d894b789ec920aba0327b931a5dab?s=128&d=identicon&r=PG&f=1", "display_name": "kng", "link": "https://stackoverflow.com/users/3705277/kng"}, "reply_to_user": {"reputation": 105, "user_id": 8769474, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh5.googleusercontent.com/-FWBeV3AJWkY/AAAAAAAAAAI/AAAAAAAAADo/KaUQP-tFsCI/photo.jpg?sz=128", "display_name": "Ballo Adam", "link": "https://stackoverflow.com/users/8769474/ballo-adam"}, "edited": false, "score": 0, "creation_date": 1516291455, "post_id": 48309489, "comment_id": 83636387, "body": "Then you just add more than one canvas ;) Of course they would have different id&#39;s so you could select whichever one you want. And instead of selecting just &#39;canvas&#39; in the css as I showed above, you would select &#39;#myBallCanvas&#39; (because the # selects a specific id)"}, {"owner": {"reputation": 105, "user_id": 8769474, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh5.googleusercontent.com/-FWBeV3AJWkY/AAAAAAAAAAI/AAAAAAAAADo/KaUQP-tFsCI/photo.jpg?sz=128", "display_name": "Ballo Adam", "link": "https://stackoverflow.com/users/8769474/ballo-adam"}, "edited": false, "score": 0, "creation_date": 1516361566, "post_id": 48309489, "comment_id": 83665419, "body": "I managed to do it with a second canvas. Check it out if you want: <a href=\"https://github.com/Frago23/Frago1321\" rel=\"nofollow noreferrer\">github.com/Frago23/Frago1321</a>"}, {"owner": {"reputation": 587, "user_id": 3705277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/579d894b789ec920aba0327b931a5dab?s=128&d=identicon&r=PG&f=1", "display_name": "kng", "link": "https://stackoverflow.com/users/3705277/kng"}, "reply_to_user": {"reputation": 105, "user_id": 8769474, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh5.googleusercontent.com/-FWBeV3AJWkY/AAAAAAAAAAI/AAAAAAAAADo/KaUQP-tFsCI/photo.jpg?sz=128", "display_name": "Ballo Adam", "link": "https://stackoverflow.com/users/8769474/ballo-adam"}, "edited": false, "score": 0, "creation_date": 1516373657, "post_id": 48309489, "comment_id": 83673026, "body": "Awesome! If my answer was helpful please upvote :)"}], "tags": [], "owner": {"reputation": 587, "user_id": 3705277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/579d894b789ec920aba0327b931a5dab?s=128&d=identicon&r=PG&f=1", "display_name": "kng", "link": "https://stackoverflow.com/users/3705277/kng"}, "is_accepted": true, "score": 0, "last_activity_date": 1516291740, "last_edit_date": 1516291740, "creation_date": 1516221001, "answer_id": 48309489, "question_id": 48309336, "link": "https://stackoverflow.com/questions/48309336/canvas-object-display-on-html/48309489#48309489", "title": "canvas object display on html", "body": "<p>Edit:\nAdd a second canvas with id 'myBallCanvas'.</p>\n\n<pre><code>&lt;canvas id=\"myBallCanvas\"&gt;&lt;/canvas&gt; \n</code></pre>\n\n<p>Then add this to your css</p>\n\n<pre><code>   #myBallCanvas {\n      position: absolute;\n      left: 0;\n      top: 0;\n      z-index: 1;\n    }\n</code></pre>\n\n<p>Finally, change your javascript so that you're selecting your new canvas</p>\n\n<pre><code>var canvas = document.querySelector('#myBallCanvas');\n</code></pre>\n\n<p>And change the z-index of all your #frame, #frame2... selectors to 0</p>\n\n<p>Basically lower z-index elements will be placed behind higher index elements. Note that any elements you want to use z-index on must have a specified position property (either fixed, absolute, or relative)</p>\n\n<p>Oh and for next time, you should include a link to your code in your main post. If you only put it in my answer other people won't see it</p>\n"}], "owner": {"reputation": 105, "user_id": 8769474, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh5.googleusercontent.com/-FWBeV3AJWkY/AAAAAAAAAAI/AAAAAAAAADo/KaUQP-tFsCI/photo.jpg?sz=128", "display_name": "Ballo Adam", "link": "https://stackoverflow.com/users/8769474/ballo-adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 306, "favorite_count": 0, "closed_date": 1516230571, "accepted_answer_id": 48309489, "answer_count": 1, "score": -2, "last_activity_date": 1516291740, "creation_date": 1516220360, "last_edit_date": 1516261485, "question_id": 48309336, "link": "https://stackoverflow.com/questions/48309336/canvas-object-display-on-html", "closed_reason": "Not suitable for this site", "title": "canvas object display on html", "body": "<p>So I am practicing javascript, and I made a lotto game with some animation in the background. This is how it looks: </p>\n\n<p><a href=\"https://i.stack.imgur.com/1sPzA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1sPzA.png\" alt=\"image of oage\"></a></p>\n\n<p>I am wondering if it is possible to make the balls that bounce in the background to go over the <code>div</code> in which the <code>title, random numbers and button</code> is. So basically the balls bounce in front of the <code>div</code> not behind it.</p>\n\n<p>Here is the link to the code: <a href=\"https://github.com/Frago23/Frago1321\" rel=\"nofollow noreferrer\">https://github.com/Frago23/Frago1321</a></p>\n\n<p>Thank you guys in advance!</p>\n"}, {"tags": ["javascript", "object", "methods"], "comments": [{"owner": {"reputation": 165027, "user_id": 1902010, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a19f9308334d07d4be19c8f6d11151ff?s=128&d=identicon&r=PG", "display_name": "ceejayoz", "link": "https://stackoverflow.com/users/1902010/ceejayoz"}, "edited": false, "score": 1, "creation_date": 1516220411, "post_id": 48309330, "comment_id": 83604267, "body": "You tell us. What happens when you run it? What errors do you get?"}, {"owner": {"reputation": 11483, "user_id": 600486, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/akN6H.png?s=128&g=1", "display_name": "blurfus", "link": "https://stackoverflow.com/users/600486/blurfus"}, "edited": false, "score": 1, "creation_date": 1516220443, "post_id": 48309330, "comment_id": 83604286, "body": "did you trying <i>invoking</i> the function?  - i.e. <code>y();</code>"}, {"owner": {"reputation": 1168, "user_id": 2079484, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1e334d2fa189682927dcc80cd1018388?s=128&d=identicon&r=PG", "display_name": "user2027202827", "link": "https://stackoverflow.com/users/2079484/user2027202827"}, "edited": false, "score": 2, "creation_date": 1516220460, "post_id": 48309330, "comment_id": 83604298, "body": "I don&#39;t think you&#39;re calling the function <code>fullName</code> in <code>y = x.fullName();</code>"}, {"owner": {"reputation": 130214, "user_id": 772035, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jAEqI.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/772035/paul"}, "reply_to_user": {"reputation": 11483, "user_id": 600486, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/akN6H.png?s=128&g=1", "display_name": "blurfus", "link": "https://stackoverflow.com/users/600486/blurfus"}, "edited": false, "score": 1, "creation_date": 1516220516, "post_id": 48309330, "comment_id": 83604330, "body": "@ochi Calling <code>y();</code> wouldn&#39;t work. <code>y.call( x )</code> would."}, {"owner": {"reputation": 11483, "user_id": 600486, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/akN6H.png?s=128&g=1", "display_name": "blurfus", "link": "https://stackoverflow.com/users/600486/blurfus"}, "reply_to_user": {"reputation": 130214, "user_id": 772035, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jAEqI.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/772035/paul"}, "edited": false, "score": 0, "creation_date": 1516220581, "post_id": 48309330, "comment_id": 83604371, "body": "@Paulpro right you are!!! - thank you"}], "answers": [{"comments": [{"owner": {"reputation": 1847, "user_id": 4066742, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/VebTa.jpg?s=128&g=1", "display_name": "S. Mayol", "link": "https://stackoverflow.com/users/4066742/s-mayol"}, "edited": false, "score": 0, "creation_date": 1516220583, "post_id": 48309369, "comment_id": 83604372, "body": "Thank you, just missing the (). It works. Thank you again Daniel."}], "tags": [], "owner": {"reputation": 121, "user_id": 5067292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/839d86ad934cd90d694dd256cc62295f?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Eliraz", "link": "https://stackoverflow.com/users/5067292/daniel-eliraz"}, "is_accepted": false, "score": 4, "last_activity_date": 1516220479, "creation_date": 1516220479, "answer_id": 48309369, "question_id": 48309330, "link": "https://stackoverflow.com/questions/48309330/using-object-method-what-is-wrong-with-this-code-that-do-not-print-the-full-n/48309369#48309369", "title": "Using &#39;Object method&#39;. What is wrong with this code that do not print the full name", "body": "<p>You need to operate the function fullName like this:</p>\n\n<pre><code>y = x.fullName()\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user7181162"}, "is_accepted": false, "score": 2, "last_activity_date": 1516220535, "creation_date": 1516220535, "answer_id": 48309385, "question_id": 48309330, "link": "https://stackoverflow.com/questions/48309330/using-object-method-what-is-wrong-with-this-code-that-do-not-print-the-full-n/48309385#48309385", "title": "Using &#39;Object method&#39;. What is wrong with this code that do not print the full name", "body": "<p>You're not invoking the <code>fullName</code> function, so where you have <code>y = x.fullName</code> replace it with <code>y = x.fullName()</code></p>\n"}, {"tags": [], "owner": {"reputation": 132, "user_id": 6922184, "user_type": "registered", "profile_image": "https://graph.facebook.com/1395223827157742/picture?type=large", "display_name": "Yurii Kovalenko", "link": "https://stackoverflow.com/users/6922184/yurii-kovalenko"}, "is_accepted": false, "score": 3, "last_activity_date": 1516220563, "creation_date": 1516220563, "answer_id": 48309391, "question_id": 48309330, "link": "https://stackoverflow.com/questions/48309330/using-object-method-what-is-wrong-with-this-code-that-do-not-print-the-full-n/48309391#48309391", "title": "Using &#39;Object method&#39;. What is wrong with this code that do not print the full name", "body": "<p>You need pass result of execution, not function itself</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;body&gt;\r\n\r\n    &lt;p&gt;Creating a JavaScript Object.&lt;/p&gt;\r\n\r\n    &lt;p id=\"demo\"&gt;&lt;/p&gt;\r\n\r\n    &lt;script&gt;\r\n    var person = {\r\n        firstName : \"John\",\r\n        lastName  : \"Doe\",\r\n        age       : 50,\r\n        eyeColor  : \"blue\",\r\n        fullName  : function() {return this.firstName + \" \" + this.lastName;}\r\n    };\r\n\r\n    var x = person;\r\n    y = x.fullName();\r\n\r\n    document.getElementById(\"demo\").innerHTML =\r\n    \"Full Name: \" + y;\r\n    &lt;/script&gt;\r\n\r\n    &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1847, "user_id": 4066742, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/VebTa.jpg?s=128&g=1", "display_name": "S. Mayol", "link": "https://stackoverflow.com/users/4066742/s-mayol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1516292104, "creation_date": 1516220328, "last_edit_date": 1516292104, "question_id": 48309330, "link": "https://stackoverflow.com/questions/48309330/using-object-method-what-is-wrong-with-this-code-that-do-not-print-the-full-n", "title": "Using &#39;Object method&#39;. What is wrong with this code that do not print the full name", "body": "<p>The purpose is to create a code to print the \"full name\" of the property using an object method. Based on the concept: An <strong>object method</strong> is an object property containing a function definition.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;body&gt;\n\n    &lt;p&gt;Creating a JavaScript Object.&lt;/p&gt;\n\n    &lt;p id=\"demo\"&gt;&lt;/p&gt;\n\n        &lt;script&gt;\n        var person = {\n            firstName : \"John\",\n            lastName  : \"Doe\",\n            age       : 50,\n            eyeColor  : \"blue\",\n            fullName  : function() {return this.firstName + \" \" + this.lastName;}\n        };\n\n        var x = person;\n        y = x.fullName; // the function is returning the function definition \n\n        document.getElementById(\"demo\").innerHTML =\n        \"Full Name: \" + y;\n        &lt;/script&gt;\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "node.js", "mongoose", "datatable"], "answers": [{"tags": [], "owner": {"reputation": 530, "user_id": 4017803, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Sagar", "link": "https://stackoverflow.com/users/4017803/sagar"}, "is_accepted": true, "score": 0, "last_activity_date": 1516226043, "creation_date": 1516226043, "answer_id": 48310628, "question_id": 48309320, "link": "https://stackoverflow.com/questions/48309320/how-to-make-a-working-delete-button-on-a-datatable/48310628#48310628", "title": "how to make a working delete button on a datatable", "body": "<p><code>.selected</code> is not added on the table rows anywhere. So change the <code>table.row('.selected').remove().draw( true );</code> to get tr just like the data.\n<code>table.row($(this).closest('tr')).remove().draw()</code></p>\n\n<p>To update the database, you will need to make ajax call and handle the id of user and query to delete that.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('#example tbody').on('click', 'button', function() {\r\n  alert(\"You are about to delete an user\");\r\n\r\n  var data = table.row($(this).closest('tr')).data();\r\n  \r\n  //Do ajax call to delete from database.\r\n  \r\n  table.row($(this).closest('tr')).remove().draw();\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 63, "user_id": 8485597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1ad6476932a8796ee3802148951a3c06?s=128&d=identicon&r=PG&f=1", "display_name": "user8485597", "link": "https://stackoverflow.com/users/8485597/user8485597"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 48310628, "answer_count": 1, "score": 0, "last_activity_date": 1516226043, "creation_date": 1516220292, "last_edit_date": 1516220988, "question_id": 48309320, "link": "https://stackoverflow.com/questions/48309320/how-to-make-a-working-delete-button-on-a-datatable", "title": "how to make a working delete button on a datatable", "body": "<p>so  i want to add a button to a DataTable, the button should delete an account from the database, im using, node js, expresjs (whit html engine) and mongoose \nthis is my model</p>\n\n<pre><code>const Account = new Schema({\n  username: String,\n  names: {type:String,default:\"\"},\n  lastnames: {type:String,default:\"\"},\n  password: String,\n  email: String,\n  phone: String,\n  suspended: {type: Boolean, default: false},\n  type:  { type: String, enum: TIPOS_USUARIO, default: 'dev' },\n  lastlogin: 'moment'\n});\n</code></pre>\n\n<p>and this is the script on the html that generates a DataTable and the button</p>\n\n<pre><code>$(document).ready(function() {\nvar table = $('#example').DataTable( {\n    \"ajax\": \"/adminpanel/webapi/userlist\",\n    \"columns\": [\n        { \"data\": \"username\" },\n        { \"data\": \"names\" },\n        { \"data\": \"lastnames\" },\n        { \"data\": \"phone\" },\n        { \"data\": \"email\" },\n        { \"data\": \"suspended\" },\n        { \"defaultContent\": \"&lt;button&gt;Delete!&lt;/button&gt;\"},\n    ], \n});\n\n$('#example tbody').on( 'click', 'button', function () {\n    alert( \"You are about to delete an user\");\n\n    var data = table.row( $(this).parents('tr') ).data();\n    table.row('.selected').remove().draw( true );\n     });\n}); \n</code></pre>\n\n<p>but it generates the button and the alert message, ut it doesnt delete the account from database nor the DataTable</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 27093, "user_id": 5189811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FzPWr.png?s=128&g=1", "display_name": "Oluwafemi Sule", "link": "https://stackoverflow.com/users/5189811/oluwafemi-sule"}, "edited": false, "score": 0, "creation_date": 1516220419, "post_id": 48309316, "comment_id": 83604274, "body": "<code>$(this)</code> is constructs a JQuery object from <code>this</code>. <code>$(this).find(&#39;.list&#39;)[0]</code> is a <code>Node</code>. I hope this helps."}, {"owner": {"reputation": 13, "user_id": 1933440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbae25e3cc18548ca9e94a8eb4c990d1?s=128&d=identicon&r=PG", "display_name": "jarrenb", "link": "https://stackoverflow.com/users/1933440/jarrenb"}, "reply_to_user": {"reputation": 27093, "user_id": 5189811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FzPWr.png?s=128&g=1", "display_name": "Oluwafemi Sule", "link": "https://stackoverflow.com/users/5189811/oluwafemi-sule"}, "edited": false, "score": 0, "creation_date": 1516220740, "post_id": 48309316, "comment_id": 83604450, "body": "yes that did help thank you!"}], "answers": [{"tags": [], "owner": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "is_accepted": false, "score": 0, "last_activity_date": 1516220528, "creation_date": 1516220528, "answer_id": 48309384, "question_id": 48309316, "link": "https://stackoverflow.com/questions/48309316/whats-the-difference-between-an-object-directly-queried-and-an-object-querying/48309384#48309384", "title": "What&#39;s the difference between an object directly queried and an object querying one of its children?", "body": "<p><code>$(this).find('.list')[0]</code> returns a dom element from the jQuery object.</p>\n\n<p>Elements don't have an <code>addClass()</code> method and you should be seeing an error in browser console telling you that</p>\n\n<p>If you want the first one you can use <code>first()</code> or <code>eq()</code></p>\n\n<pre><code>$(this).find('.list').first().addClass('active');\n// OR\n$(this).find('.list:first').addClass('active');\n// OR\n$(this).find('.list').eq(0).addClass('active');\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28516, "user_id": 3669624, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/afiTv.jpg?s=128&g=1", "display_name": "c\u043d\u015ddk", "link": "https://stackoverflow.com/users/3669624/c%d0%bd%c5%9ddk"}, "is_accepted": true, "score": 0, "last_activity_date": 1516220735, "creation_date": 1516220735, "answer_id": 48309431, "question_id": 48309316, "link": "https://stackoverflow.com/questions/48309316/whats-the-difference-between-an-object-directly-queried-and-an-object-querying/48309431#48309431", "title": "What&#39;s the difference between an object directly queried and an object querying one of its children?", "body": "<p>The difference is that <code>$(this)</code>is a jquery object, while <code>$(this).find('.list')[0]</code> is a DOM element, and doesn't have functions and methodsprovided by jQuery.</p>\n\n<p>Because calling <code>$(this).find('.list')</code> will give you a <code>nodeList</code> and when you call <code>[0]</code> you will get the first node object from this list, and a node or a DOM element is different from a jquery object, as jQuery wraps a DOM elemnt with its utility methods and attributes.</p>\n\n<p>So what you need to do is to convert this DOM element to a jQuery object so you can call jQuery methods on it:</p>\n\n<pre><code>$($(this).find('.list')[0])\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 1933440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbae25e3cc18548ca9e94a8eb4c990d1?s=128&d=identicon&r=PG", "display_name": "jarrenb", "link": "https://stackoverflow.com/users/1933440/jarrenb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 48309431, "answer_count": 2, "score": 1, "last_activity_date": 1516220735, "creation_date": 1516220270, "question_id": 48309316, "link": "https://stackoverflow.com/questions/48309316/whats-the-difference-between-an-object-directly-queried-and-an-object-querying", "title": "What&#39;s the difference between an object directly queried and an object querying one of its children?", "body": "<p>When I add a class on the following object, everything is fine:</p>\n\n<pre><code>$('.select').on('click', function() {\n    $(this).addClass('active');\n});\n</code></pre>\n\n<p>But when I try to add a class to a child, I get an error:</p>\n\n<pre><code>$('.select').on('click', function() { \n    $(this).find('.list')[0].addClass('active'); \n});\n</code></pre>\n\n<p>From my research I've learned that certain objects have specific methods that can be called on them. So there must be a difference between</p>\n\n<pre><code>$(this)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>$(this).find('.list')[0]\n</code></pre>\n\n<p>But I can't figure out what the difference would be, and I don't know how to find that out.</p>\n"}, {"tags": ["javascript", "json", "reactjs", "api"], "comments": [{"owner": {"reputation": 1495, "user_id": 6246107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/139889820052d02ab40c3a3db5aa3f33?s=128&d=identicon&r=PG&f=1", "display_name": "Kenry Sanchez", "link": "https://stackoverflow.com/users/6246107/kenry-sanchez"}, "edited": false, "score": 0, "creation_date": 1516220507, "post_id": 48309307, "comment_id": 83604318, "body": "who is <code>data.grapevine</code> or where is the mock for the <code>grapevine</code> data??"}, {"owner": {"reputation": 1255, "user_id": 4487722, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kmSctpPZ0c8/AAAAAAAAAAI/AAAAAAAAFcs/RxGumDzqqwU/photo.jpg?sz=128", "display_name": "Rafael Quintanilha", "link": "https://stackoverflow.com/users/4487722/rafael-quintanilha"}, "edited": false, "score": 0, "creation_date": 1516220781, "post_id": 48309307, "comment_id": 83604471, "body": "You have to set the initial state in the constructor. Otherwise, as <code>fetch</code> is async, until <code>setState</code> is called <code>this.state.gvEntries</code> will be undefined."}, {"owner": {"reputation": 91, "user_id": 8341615, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/728647965304bec6caf1a33ab8a42e2b?s=128&d=identicon&r=PG&f=1", "display_name": "RobiminusMaximus", "link": "https://stackoverflow.com/users/8341615/robiminusmaximus"}, "reply_to_user": {"reputation": 1495, "user_id": 6246107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/139889820052d02ab40c3a3db5aa3f33?s=128&d=identicon&r=PG&f=1", "display_name": "Kenry Sanchez", "link": "https://stackoverflow.com/users/6246107/kenry-sanchez"}, "edited": false, "score": 0, "creation_date": 1516220790, "post_id": 48309307, "comment_id": 83604474, "body": "@kenry I&#39;m sorry I don&#39;t understand your question (bit new to react). If your asking where it&#39;s hosted I have it running as a mock api locally json-server"}, {"owner": {"reputation": 91, "user_id": 8341615, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/728647965304bec6caf1a33ab8a42e2b?s=128&d=identicon&r=PG&f=1", "display_name": "RobiminusMaximus", "link": "https://stackoverflow.com/users/8341615/robiminusmaximus"}, "edited": false, "score": 1, "creation_date": 1516220884, "post_id": 48309307, "comment_id": 83604511, "body": "constructor() {     super();     this.state = {       gvEntries: [],     };   }"}, {"owner": {"reputation": 91, "user_id": 8341615, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/728647965304bec6caf1a33ab8a42e2b?s=128&d=identicon&r=PG&f=1", "display_name": "RobiminusMaximus", "link": "https://stackoverflow.com/users/8341615/robiminusmaximus"}, "edited": false, "score": 0, "creation_date": 1516220931, "post_id": 48309307, "comment_id": 83604539, "body": "as you can see above I have it set in my constructor. Is this what ya&#39;ll mean?"}], "answers": [{"tags": [], "owner": {"reputation": 181, "user_id": 7917656, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fcPtwpFCRnk/AAAAAAAAAAI/AAAAAAAAAF8/zMKJg-UKFDA/photo.jpg?sz=128", "display_name": "Shruti Singh", "link": "https://stackoverflow.com/users/7917656/shruti-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1516220582, "creation_date": 1516220582, "answer_id": 48309393, "question_id": 48309307, "link": "https://stackoverflow.com/questions/48309307/adding-second-json-objects-causes-undefined-error-in-reactjs-web-app/48309393#48309393", "title": "Adding second json object(s) causes undefined error in reactjs web app", "body": "<p>i think you should make the following change:\ncomponentDidMount() {</p>\n\n<pre><code> 14 | fetch(\"http://localhost:3000/mockData/\")\n  15 |   .then(grapevine =&gt; grapevine.json())\n&gt; 16 |   .then(data =&gt; this.setState({ gvEntries: [data.grapevine] }));\n  17 | }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 91, "user_id": 8341615, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/728647965304bec6caf1a33ab8a42e2b?s=128&d=identicon&r=PG&f=1", "display_name": "RobiminusMaximus", "link": "https://stackoverflow.com/users/8341615/robiminusmaximus"}, "edited": false, "score": 0, "creation_date": 1516220963, "post_id": 48309454, "comment_id": 83604556, "body": "I did set it in constructor:                                                                 constructor() {     super();     this.state = {       gvEntries: [],     };   }"}, {"owner": {"reputation": 564, "user_id": 5739236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c84c6b13062bca9151bf1af348bc5667?s=128&d=identicon&r=PG&f=1", "display_name": "Carlo", "link": "https://stackoverflow.com/users/5739236/carlo"}, "reply_to_user": {"reputation": 91, "user_id": 8341615, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/728647965304bec6caf1a33ab8a42e2b?s=128&d=identicon&r=PG&f=1", "display_name": "RobiminusMaximus", "link": "https://stackoverflow.com/users/8341615/robiminusmaximus"}, "edited": false, "score": 0, "creation_date": 1516221994, "post_id": 48309454, "comment_id": 83605082, "body": "If <code>data</code> of the last <code>then()</code> is the json you show the edit above should be correct"}, {"owner": {"reputation": 91, "user_id": 8341615, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/728647965304bec6caf1a33ab8a42e2b?s=128&d=identicon&r=PG&f=1", "display_name": "RobiminusMaximus", "link": "https://stackoverflow.com/users/8341615/robiminusmaximus"}, "edited": false, "score": 0, "creation_date": 1516224642, "post_id": 48309454, "comment_id": 83606356, "body": "Unfortunately it doesn&#39;t seem to work and I get this error Unhandled Rejection (TypeError): Cannot read property &#39;0&#39; of undefined"}, {"owner": {"reputation": 564, "user_id": 5739236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c84c6b13062bca9151bf1af348bc5667?s=128&d=identicon&r=PG&f=1", "display_name": "Carlo", "link": "https://stackoverflow.com/users/5739236/carlo"}, "reply_to_user": {"reputation": 91, "user_id": 8341615, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/728647965304bec6caf1a33ab8a42e2b?s=128&d=identicon&r=PG&f=1", "display_name": "RobiminusMaximus", "link": "https://stackoverflow.com/users/8341615/robiminusmaximus"}, "edited": false, "score": 0, "creation_date": 1516224921, "post_id": 48309454, "comment_id": 83606467, "body": "What is the output if you make a console log of the json <code>.then(data =&gt; console.log(data));</code>?"}, {"owner": {"reputation": 564, "user_id": 5739236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c84c6b13062bca9151bf1af348bc5667?s=128&d=identicon&r=PG&f=1", "display_name": "Carlo", "link": "https://stackoverflow.com/users/5739236/carlo"}, "reply_to_user": {"reputation": 91, "user_id": 8341615, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/728647965304bec6caf1a33ab8a42e2b?s=128&d=identicon&r=PG&f=1", "display_name": "RobiminusMaximus", "link": "https://stackoverflow.com/users/8341615/robiminusmaximus"}, "edited": false, "score": 0, "creation_date": 1516225311, "post_id": 48309454, "comment_id": 83606644, "body": "yes, that&#39;s beacause of <code>mockData[0]</code>, but don&#39;t do the <code>setState</code> and just log the result so we can see if what you get is the actual json as you expect it to be"}, {"owner": {"reputation": 91, "user_id": 8341615, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/728647965304bec6caf1a33ab8a42e2b?s=128&d=identicon&r=PG&f=1", "display_name": "RobiminusMaximus", "link": "https://stackoverflow.com/users/8341615/robiminusmaximus"}, "edited": false, "score": 0, "creation_date": 1516225405, "post_id": 48309454, "comment_id": 83606677, "body": "Array(2) 0 : {grapevine: Array(5)} 1 : {shodan: Array(4)} length : 2 <b>proto</b> : Array(0)"}, {"owner": {"reputation": 564, "user_id": 5739236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c84c6b13062bca9151bf1af348bc5667?s=128&d=identicon&r=PG&f=1", "display_name": "Carlo", "link": "https://stackoverflow.com/users/5739236/carlo"}, "reply_to_user": {"reputation": 91, "user_id": 8341615, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/728647965304bec6caf1a33ab8a42e2b?s=128&d=identicon&r=PG&f=1", "display_name": "RobiminusMaximus", "link": "https://stackoverflow.com/users/8341615/robiminusmaximus"}, "edited": false, "score": 0, "creation_date": 1516225476, "post_id": 48309454, "comment_id": 83606710, "body": "That&#39;s it, so you should do <code>this.setState({ gvEntries: data[0].grapevine })</code>"}, {"owner": {"reputation": 91, "user_id": 8341615, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/728647965304bec6caf1a33ab8a42e2b?s=128&d=identicon&r=PG&f=1", "display_name": "RobiminusMaximus", "link": "https://stackoverflow.com/users/8341615/robiminusmaximus"}, "edited": false, "score": 0, "creation_date": 1516225955, "post_id": 48309454, "comment_id": 83606914, "body": "I could kiss you, thank you so much that worked! I appreciate you hanging in there with me."}], "tags": [], "owner": {"reputation": 564, "user_id": 5739236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c84c6b13062bca9151bf1af348bc5667?s=128&d=identicon&r=PG&f=1", "display_name": "Carlo", "link": "https://stackoverflow.com/users/5739236/carlo"}, "is_accepted": false, "score": 0, "last_activity_date": 1516221760, "last_edit_date": 1516221760, "creation_date": 1516220837, "answer_id": 48309454, "question_id": 48309307, "link": "https://stackoverflow.com/questions/48309307/adding-second-json-objects-causes-undefined-error-in-reactjs-web-app/48309454#48309454", "title": "Adding second json object(s) causes undefined error in reactjs web app", "body": "<p>You should consider the fact that <code>this.state.gvEntries</code> might not have been initialized when the <code>render()</code> method is called.</p>\n\n<p>You should make a check in the beginning of the <code>render</code> method to check if it exists or (best pratice), to define the state in the constructor of the componenet.</p>\n\n<pre><code>construcotr(props) {\n  super(props);  \n  this.state = { gvEntries: [] };\n}\n</code></pre>\n\n<p><strong>edit</strong></p>\n\n<p>By looking at the structure of the json it should be <code>this.setState({ gvEntries: data.mockData[0].grapevine })</code></p>\n"}], "owner": {"reputation": 91, "user_id": 8341615, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/728647965304bec6caf1a33ab8a42e2b?s=128&d=identicon&r=PG&f=1", "display_name": "RobiminusMaximus", "link": "https://stackoverflow.com/users/8341615/robiminusmaximus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1516221991, "creation_date": 1516220219, "question_id": 48309307, "link": "https://stackoverflow.com/questions/48309307/adding-second-json-objects-causes-undefined-error-in-reactjs-web-app", "title": "Adding second json object(s) causes undefined error in reactjs web app", "body": "<p>My previous question was asking how to map through a json object I have using json-server and a small reactjs web app that I'm currently working on. When one object is in mockData everything works just fine but when I add a second object such as this:</p>\n\n<pre><code>{\n  \"mockData\": [\n    {\n    \"grapevine\": [\n      { \n        \"entity\": \"67.6.201.77\", \n        \"category\": \"scan\", \n        \"source\": \"emotet_tracker\",\n        \"rscore\": 42 \n      },\n      { \n        \"entity\": \"67.6.201.77\", \n        \"category\": \"popular\", \n        \"source\": \"vinter\",\n        \"rscore\": 69 \n      },\n      { \n        \"entity\": \"67.6.201.77\", \n        \"category\": \"spam\", \n        \"source\": \"uceprotect\",\n        \"rscore\": 48 \n      },\n      { \n        \"entity\": \"67.6.201.77\", \n        \"category\": \"c2\", \n        \"source\": \"c2_validator\",\n        \"rscore\": 41 \n      },\n      { \n        \"entity\": \"67.6.201.77\", \n        \"category\": \"scan\", \n        \"source\": \"greenleaf\",\n        \"rscore\": 37 \n      }\n    ]\n  },\n  {\n    \"shodan\": [\n      { \n        \"port\": 22, \n        \"protocol\": \"TCP\", \n        \"service\": \"SSH\",\n        \"banner\": \"SSH-2.0-libssh-0.2\" \n      },\n      { \n        \"port\": 22, \n        \"protocol\": \"TCP\", \n        \"service\": \"SSH\",\n        \"banner\": \"SSH-2.0-libssh-0.2\" \n      },\n      { \n        \"port\": 23, \n        \"protocol\": \"TCP\", \n        \"service\": \"telnet\",\n        \"banner\": \"None\" \n      },\n      { \n        \"port\": 80, \n        \"protocol\": \"TCP\", \n        \"service\": \"HTTP\",\n        \"banner\": \"GoAhead-Webs\" \n      }\n    ]\n   }\n  ]\n}\n</code></pre>\n\n<p>I get an <em>TypeError: Cannot read property 'map' of undefined</em> pointing at this code:</p>\n\n<pre><code>  42 | &lt;/tr&gt;\n  43 | &lt;/thead&gt;\n  44 | &lt;tbody&gt;\n&gt; 45 | {this.state.gvEntries.map(grapevine =&gt; (\n  46 |   &lt;tr&gt;\n  47 |       &lt;td&gt;{grapevine.entity}&lt;/td&gt;\n  48 |       &lt;td&gt;{grapevine.category}&lt;/td&gt;\n\n  13 | componentDidMount() {\n  14 | fetch(\"http://localhost:3000/mockData/\")\n  15 |   .then(grapevine =&gt; grapevine.json())\n&gt; 16 |   .then(data =&gt; this.setState({ gvEntries: data.grapevine }));\n  17 | }\n  18 | \n  19 | render() {\n</code></pre>\n\n<p>If I add that second object, aka \"shodan\" am I no longer mapping mockData properly? I'm trying to pass multiple json objects into different cards/panels on the dashboard. Thanks!</p>\n"}]