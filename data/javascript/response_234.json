[{"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 15122, "user_id": 4452553, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/TdlCJ.jpg?s=128&g=1", "display_name": "guradio", "link": "https://stackoverflow.com/users/4452553/guradio"}, "edited": false, "score": 2, "creation_date": 1562198024, "post_id": 56879159, "comment_id": 100306802, "body": "i dont see any loop. can you share all relevant code?"}, {"owner": {"reputation": 1187, "user_id": 3205558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ffc8fc604953fb170da4593973045d8?s=128&d=identicon&r=PG", "display_name": "vlumi", "link": "https://stackoverflow.com/users/3205558/vlumi"}, "edited": false, "score": 0, "creation_date": 1562198394, "post_id": 56879159, "comment_id": 100306853, "body": "I would imagine your problem is with the selector <code>&quot;.the-prod-counter&quot;</code>. I assume you are trying to pick the current <code>the-prod-counter</code>, but that selector is always searching from the root element, and thus is finding the same elements in the same order, and gives the value of the first one only. You need to make it relative to the element clicked on -- how exactly is impossible to see without knowing your DOM."}], "owner": {"reputation": 555, "user_id": 2052096, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/VnDzM.jpg?s=128&g=1", "display_name": "Barlet", "link": "https://stackoverflow.com/users/2052096/barlet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562198932, "creation_date": 1562197933, "last_edit_date": 1562198932, "question_id": 56879159, "link": "https://stackoverflow.com/questions/56879159/loop-returns-same-value-multiple-times", "title": "loop returns same value multiple times", "body": "<p>I have a WordPress loop where I list the data. I create a button dynamically and set their ids. \nWhen I set that id into a textbox I can see that all buttons have different ID because I increment the number each time. Until here everything is okay and working fine. </p>\n\n<p>but need to use javascript for setting the textbox value with value of button ID.</p>\n\n<p>I use this following code: </p>\n\n<pre><code>&lt;script&gt;    \njQuery(document).ready(function($){\n    $('.p-name-x').click(function(){\n        $('#dynamic-field').val($(\".the-prod-counter\").val());        \n    });\n    alert($(\".the-prod-counter\").val());\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>on my <code>$('.p-name-x').click(function()</code> x should be changed with the number if ID i get from the loop.</p>\n\n<p>on my alert it always gives the first ID. For example if I have 3 buttons the alert gives 3 times the first id!</p>\n\n<p>How can get the alert to show the other numbers as well?</p>\n\n<p>------------- <strong>EDIT</strong> --------------</p>\n\n<p>Here is part of my code</p>\n\n<pre><code>&lt;?php\n$type = 'stiel_privatkunden';\n$args=array('stiel_privatkunden_cat' =&gt; $post_slug, 'post_type' =&gt; $type, 'posts_per_page'=&gt;-1, 'order'=&gt;'ASC');\n$my_query = new WP_Query($args);\n$i=1;\n$idh=1;\nwhile ($my_query-&gt;have_posts()) : $my_query-&gt;the_post(); \nif($i%2==0) {\n?&gt;\n\n\n&lt;div class=\"row\" style=\"background:#f3f3f3\" id=\"&lt;?php the_field('prod_slug'); ?&gt;\"&gt;\n&lt;div class=\"col-xs-12 col-sm-6\"&gt;\n&lt;figure class=\"pro-innerpage-img\"&gt;\n&lt;?php the_post_thumbnail(); ?&gt;\n&lt;/figure&gt;\n&lt;/div&gt;\n\n&lt;div class=\"col-xs-12 col-sm-6\" style=\"padding:20px;\"&gt;\n&lt;div class=\"title_content\"&gt;\n&lt;div class=\"the-title\"&gt;&lt;?php the_title();?&gt;&lt;/div&gt;\n&lt;div class=\"the-desc\"&gt;&lt;?php the_field('description'); ?&gt;&lt;/div&gt;\n\n&lt;?php if( get_field('passende_Produkte') ): ?&gt;\n&lt;div class=\"vc_toggle vc_toggle_square vc_toggle_color_black vc_toggle_color_inverted vc_toggle_size_md\"&gt;\n&lt;div class=\"vc_toggle_title\" tabindex=\"0\"&gt;&lt;h4&gt;passende Produkte&lt;/h4&gt;&lt;i class=\"vc_toggle_icon\"&gt;&lt;/i&gt;&lt;/div&gt;\n&lt;div class=\"vc_toggle_content\" style=\"display: none;\"&gt;\n&lt;p&gt;&lt;?php the_field('passende_Produkte'); ?&gt;&lt;/p&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;?php endif; ?&gt; \n\n\n&lt;?php if( get_field('link_mehr_erfahren') ): ?&gt;\n&lt;a href=\"&lt;?php the_field('link_mehr_erfahren'); ?&gt;\" class=\"vcex-button theme-button flat medium inline animate-on-hover wpex-dhover-0\" style=\"background:#3fbfef;color:#ffffff;border:1px solid #3fbfef;border-radius:0px;\" data-wpex-hover=\"{&amp;quot;background&amp;quot;:&amp;quot;#ffffff&amp;quot;,&amp;quot;color&amp;quot;:&amp;quot;#3fbfef&amp;quot;}\"&gt;&lt;span class=\"theme-button-inner\"&gt;mehr erfahren&lt;/span&gt;&lt;/a&gt;\n&lt;?php endif; ?&gt;\n\n&lt;?php if( get_field('link_jetz_anfragen') ): ?&gt;\n&lt;a href=\"&lt;?php the_field('link_jetz_anfragen'); ?&gt;\" class=\"vcex-button theme-button flat medium inline animate-on-hover wpex-dhover-0 popup-form p-name-&lt;?php echo $idh; ?&gt;\" style=\"background:#3fbfef;color:#ffffff;border:1px solid #3fbfef;border-radius:0px;\" data-wpex-hover=\"{&amp;quot;background&amp;quot;:&amp;quot;#ffffff&amp;quot;,&amp;quot;color&amp;quot;:&amp;quot;#3fbfef&amp;quot;}\" onclick=\"setValue()\"&gt;&lt;span class=\"theme-button-inner\"&gt;jetzt anfragen&lt;/span&gt;&lt;/a&gt;\n&lt;?php endif; ?&gt;\n\n&lt;/div&gt;\n\n\n&lt;!--&lt;input type=\"text\" name=\"the-prod-name\" class=\"the-prod-name-&lt;?php echo $idh; ?&gt;\" value=\"&lt;?php the_field('prod_slug');?&gt;\"&gt;--&gt;\n&lt;input type=\"hidden\" name=\"the-prod-counter\" class=\"the-prod-counter\" value=\"&lt;?php echo the_field('prod_slug') . '-'. $idh; ?&gt;\"&gt;\n&lt;!--&lt;input type=\"text\" name=\"the-prod-idk\" class=\"the-prod-idk\" value=\"&lt;?php //echo $idh; ?&gt;\"&gt; --&gt;\n\n&lt;script&gt;    \n\njQuery(document).ready(function($){\n\n$('.p-name').click(function(){\n    $('#dynamic-field').val($(\".the-prod-counter\").val());        \n});\n\n//alert($(\".the-prod-counter\").val());\n\n});\n\n&lt;/script&gt;\n\n&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;br/&gt; \n\n&lt;?php } else { ?&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 112, "user_id": 5339908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b73b94ed040058700417e9bd30e9d40b?s=128&d=identicon&r=PG&f=1", "display_name": "Souza", "link": "https://stackoverflow.com/users/5339908/souza"}, "edited": false, "score": 0, "creation_date": 1562272043, "post_id": 56879128, "comment_id": 100334102, "body": "You need to use a callback in your form to hide the loader again before change page."}], "answers": [{"comments": [{"owner": {"reputation": 1109, "user_id": 6491230, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/757137584429515/picture?type=large", "display_name": "Shawn Zhang", "link": "https://stackoverflow.com/users/6491230/shawn-zhang"}, "edited": false, "score": 0, "creation_date": 1562198755, "post_id": 56879156, "comment_id": 100306909, "body": "I just tried it \u2014 it seems that it&#39;s not calling .onload when the user presses for previous page (but does when I initially load it). And hence, the function does not get called."}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "reply_to_user": {"reputation": 1109, "user_id": 6491230, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/757137584429515/picture?type=large", "display_name": "Shawn Zhang", "link": "https://stackoverflow.com/users/6491230/shawn-zhang"}, "edited": false, "score": 0, "creation_date": 1562198794, "post_id": 56879156, "comment_id": 100306916, "body": "That&#39;s weird. What function <i>would</i> be called is the obvious question..."}, {"owner": {"reputation": 1109, "user_id": 6491230, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/757137584429515/picture?type=large", "display_name": "Shawn Zhang", "link": "https://stackoverflow.com/users/6491230/shawn-zhang"}, "edited": false, "score": 0, "creation_date": 1562271793, "post_id": 56879156, "comment_id": 100334038, "body": "I figured it out. Looks like going to the previous page doesn&#39;t actually refresh the page. Instead, I can call an event listener when the page shows up."}], "tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": false, "score": 0, "last_activity_date": 1562197902, "creation_date": 1562197902, "answer_id": 56879156, "question_id": 56879128, "link": "https://stackoverflow.com/questions/56879128/image-not-hiding-after-returning-as-previous-page/56879156#56879156", "title": "Image Not Hiding after Returning as Previous Page", "body": "<p>Use the same technique from my answer <a href=\"https://stackoverflow.com/a/54284535/10221765\">here</a> and use <code>localStorage</code>:</p>\n\n<pre><code>window.onload = function() {\n  if (!localStorage.getItem(\"firstVisit\")) {\n    localStorage.setItem(\"firstVisit\", \"true\");\n  } else {\n    document.getElementById(\"loader\").style.display = \"none\";\n};\n</code></pre>\n\n<p>Or actually remove it:</p>\n\n<pre><code>document.getElementById(\"loader\").parentNode.removeChild(document.getElementById(\"loader\"));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1109, "user_id": 6491230, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/757137584429515/picture?type=large", "display_name": "Shawn Zhang", "link": "https://stackoverflow.com/users/6491230/shawn-zhang"}, "is_accepted": true, "score": 0, "last_activity_date": 1562271734, "creation_date": 1562271734, "answer_id": 56893888, "question_id": 56879128, "link": "https://stackoverflow.com/questions/56879128/image-not-hiding-after-returning-as-previous-page/56893888#56893888", "title": "Image Not Hiding after Returning as Previous Page", "body": "<p>I figured out a way to do so, following Jack Bashford's answer. \nBy putting, </p>\n\n<pre><code>window.addEventListener( \"pageshow\", function ( event ) {\n     document.getElementById(\"loader\").style.display = \"none\";\n});\n</code></pre>\n\n<p>I effectively hide my image.</p>\n"}], "owner": {"reputation": 1109, "user_id": 6491230, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/757137584429515/picture?type=large", "display_name": "Shawn Zhang", "link": "https://stackoverflow.com/users/6491230/shawn-zhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 56893888, "answer_count": 2, "score": 0, "last_activity_date": 1562275390, "creation_date": 1562197602, "question_id": 56879128, "link": "https://stackoverflow.com/questions/56879128/image-not-hiding-after-returning-as-previous-page", "title": "Image Not Hiding after Returning as Previous Page", "body": "<p>I display a loading screen after a button is clicked (which unhides the image), which then loads up another page. This works fine. </p>\n\n<p>However, if the user clicks \"Previous Page\" and returns. My loading screen appears, so it is not hidden. It is fine if I manually refresh this page.</p>\n\n<p>Here is my code.\nIn html:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input id=\"saveForm\" class=\"btn btn-info\" type=\"submit\" name=\"submit\" value=\"Submit\" onclick=\"load()\"/&gt;\n&lt;script&gt;\n     function load() {\n          document.getElementById('loader').style.display='block';              \n     }\n&lt;/script&gt;\n\n&lt;img class=\"load_spinner\" id=\"loader\" style=\"display:none;\"/&gt; \n</code></pre>\n\n<p>In css:</p>\n\n<pre><code>.load_spinner {\n    position: fixed;\n    left: 0px;\n    top: 0px;\n    width: 100%;\n    height: 100%;\n    z-index: 9999;\n    opacity: 0.5;\n    background: url(/static/img/Preloader_2.gif) center no-repeat #fff;\n}\n</code></pre>\n\n<p>What should I do to hide the loading screen if the user returns?</p>\n"}, {"tags": ["javascript", "jquery", "each", "jquery-deferred", "deferred"], "comments": [{"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1562197496, "post_id": 56879087, "comment_id": 100306725, "body": "Call <code>handleBackground()</code> in the <code>setTimeout()</code> callback."}], "answers": [{"tags": [], "owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "is_accepted": false, "score": 0, "last_activity_date": 1562198575, "creation_date": 1562198575, "answer_id": 56879218, "question_id": 56879087, "link": "https://stackoverflow.com/questions/56879087/wait-until-function-finish-to-run-another-function/56879218#56879218", "title": "Wait until function finish to run another function", "body": "<p>Define delay outside of your function and each iteration increase the delay so that the next one is a random amout of time after the last one.</p>\n\n<pre><code>var delay = 0;\n\nblastedwords.each(function(index) {\n    var min = 45, max = 100;\n    delay += Math.floor(Math.random() * (max - min) + min);\n    var that = $(this);\n    var t = setTimeout(function() {\n        $(that).addClass(\"test\");\n    }, delay * index);\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 11736798, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eAJev6-YIl0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfuBzTIWVewGiGiONYknjtbzgNZLQ/photo.jpg?sz=128", "display_name": "kkqe", "link": "https://stackoverflow.com/users/11736798/kkqe"}, "edited": false, "score": 0, "creation_date": 1562225326, "post_id": 56879259, "comment_id": 100313051, "body": "What a genius idea ! Why did i never thought about it... It worked like a charm, thank you :)"}, {"owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "reply_to_user": {"reputation": 43, "user_id": 11736798, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eAJev6-YIl0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfuBzTIWVewGiGiONYknjtbzgNZLQ/photo.jpg?sz=128", "display_name": "kkqe", "link": "https://stackoverflow.com/users/11736798/kkqe"}, "edited": false, "score": 0, "creation_date": 1562237859, "post_id": 56879259, "comment_id": 100319933, "body": "Hehe, thanks for the kind words kkqe - glad I could help!"}], "tags": [], "owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "is_accepted": true, "score": 1, "last_activity_date": 1562198995, "creation_date": 1562198995, "answer_id": 56879259, "question_id": 56879087, "link": "https://stackoverflow.com/questions/56879087/wait-until-function-finish-to-run-another-function/56879259#56879259", "title": "Wait until function finish to run another function", "body": "<p>I'd recommend setting up a global variable <strong>totalTime</strong> which you can use to add up the inidivual delays. That way you can use another setTimeout to call the function handleBackground() after totalTime has passed.</p>\n\n<pre><code>var totalTime = 0;\nblastedwords.each(function(index) {\n  var min = 45,\n    max = 100;\n  var delay = Math.floor(Math.random() * (max - min) + min) * index;\n  totalTime += delay;\n  var that = $(this);\n  var t = setTimeout(function() {\n    $(that).addClass(\"test\");\n  }, delay);\n});\nsetTimeout(handleBackground, totalTime);\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 11736798, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eAJev6-YIl0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfuBzTIWVewGiGiONYknjtbzgNZLQ/photo.jpg?sz=128", "display_name": "kkqe", "link": "https://stackoverflow.com/users/11736798/kkqe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 56879259, "answer_count": 2, "score": 4, "last_activity_date": 1562198995, "creation_date": 1562197110, "last_edit_date": 1562198668, "question_id": 56879087, "link": "https://stackoverflow.com/questions/56879087/wait-until-function-finish-to-run-another-function", "title": "Wait until function finish to run another function", "body": "<p>I've encountered a problem that's driving me crazy for like 10 days now... Basically i have a function that fire (the <code>handleText</code>) and I want to wait the end of that function before running a second one (the <code>handleBackground</code>).</p>\n\n<p>I've tried deferred and promises but I think I don't understand them well because I can't get it to work the way I want.</p>\n\n<pre><code>function handleText(){\n    //BLAST INIT    \n    var blastedwords = $('.baselineHeader').blast({\n        delimiter: 'word',\n    });\n\n    //SHUFFLE ORDER IN ARRAY\n    blastedwords = shuffleAds( blastedwords);\n    function shuffleAds(arr){\n        for(var j, x, i = arr.length; i; j = parseInt(Math.random() * i), x = arr[--i], arr[i] = arr[j], arr[j] = x);\n        return arr;\n    }\n\n    //ADD CLASS TO SPAN CREATED WITH BLAST WITH A RANDOM DELAY\n    blastedwords.each(function(index) {\n        var min = 45, max = 100;\n        var delay = Math.floor(Math.random() * (max - min) + min);\n        var that = $(this);\n        var t = setTimeout(function() {\n            $(that).addClass(\"test\");\n        }, delay * index);\n    });\n}\n\nfunction handleBackground(){\n    $('.baselineHeader').addClass('processed');\n}\n\nhandleText();\nhandleBackground();\n</code></pre>\n\n<p>Right now, <code>handleText</code> start, and <code>handleBackground</code> (my second function that I want to run after the first one is finished)  fire at the same time and doesn't wait for <code>handleText</code> to finish.</p>\n\n<p>I want <code>handleText</code> to run and wait for the each loop to give class to every span created with blast.js before running <code>handleBackground</code>.</p>\n\n<p>Can someone help me with this ?\nHave a great day folks :)</p>\n"}, {"tags": ["javascript", "html", "regex"], "comments": [{"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1562197021, "post_id": 56879058, "comment_id": 100306646, "body": "Can you give an example text for which the operation is taking too long, and the expected output from it? Your regex looks off as well"}, {"owner": {"reputation": 2822, "user_id": 4603295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PYo4w.jpg?s=128&g=1", "display_name": "Adriano", "link": "https://stackoverflow.com/users/4603295/adriano"}, "edited": false, "score": 0, "creation_date": 1562197232, "post_id": 56879058, "comment_id": 100306686, "body": "I would be careful in gathering text strings based on the DOM. This article might be very much helpful: <a href=\"http://perfectionkills.com/the-poor-misunderstood-innerText/\" rel=\"nofollow noreferrer\">perfectionkills.com/the-poor-misunderstood-innerText</a>  Would you have a different way to get the text string you&#39;re after?"}, {"owner": {"reputation": 2697, "user_id": 5486116, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/EqRZP.png?s=128&g=1", "display_name": "Strider", "link": "https://stackoverflow.com/users/5486116/strider"}, "reply_to_user": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1562197798, "post_id": 56879058, "comment_id": 100306774, "body": "@CertainPerformance I added an example text that causes the function to take too long to execute"}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1562197829, "post_id": 56879058, "comment_id": 100306780, "body": "This: <i>The objective...replace each img tag with the name of the file</i> - then why are you running your regex replacement on every keyup? It isn&#39;t possible to construct an image tag with a single key stroke."}, {"owner": {"reputation": 2697, "user_id": 5486116, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/EqRZP.png?s=128&g=1", "display_name": "Strider", "link": "https://stackoverflow.com/users/5486116/strider"}, "reply_to_user": {"reputation": 2822, "user_id": 4603295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PYo4w.jpg?s=128&g=1", "display_name": "Adriano", "link": "https://stackoverflow.com/users/4603295/adriano"}, "edited": false, "score": 0, "creation_date": 1562197989, "post_id": 56879058, "comment_id": 100306797, "body": "@Adriano Thanks for the article I will look at it"}, {"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1562198081, "post_id": 56879058, "comment_id": 100306810, "body": "Thanks, that is helpful, though since you don&#39;t have any <code>&#47;&gt;</code>s, it looks like nothing should be replaced in that example? Can you show an example of what you&#39;d want to replace with what? Or do you actually want to replace all the folder paths with just the file, eg <code>assets\\test\\1F619.png</code> with <code>1F619</code>?"}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1562198098, "post_id": 56879058, "comment_id": 100306815, "body": "I recommend two approaches - 1) in <code>keyupHandler()</code> test for <code>&quot;&gt;</code> as the last two characters in the string and bail early 2) if that doesn&#39;t solve it, cache previous portions of parsed strings and concat for output."}, {"owner": {"reputation": 2697, "user_id": 5486116, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/EqRZP.png?s=128&g=1", "display_name": "Strider", "link": "https://stackoverflow.com/users/5486116/strider"}, "edited": false, "score": 0, "creation_date": 1562198265, "post_id": 56879058, "comment_id": 100306835, "body": "I am using this replacement in every keyup because I must send the text under a certain format to the server (without the img tag, just the filename), and this text must not exceed the allowed maxlength, so I have to block the user from entering new characters when the limit is reached"}, {"owner": {"reputation": 2697, "user_id": 5486116, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/EqRZP.png?s=128&g=1", "display_name": "Strider", "link": "https://stackoverflow.com/users/5486116/strider"}, "reply_to_user": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1562198457, "post_id": 56879058, "comment_id": 100306869, "body": "@CertainPerformance My bad, the browser console removed the `\\` character from the img tags in the logged text, I will update my question with the right example"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1562198652, "post_id": 56879058, "comment_id": 100306891, "body": "What are you looking to capture and replace ? <a href=\"https://regex101.com/r/3caeiC/1\" rel=\"nofollow noreferrer\">regex101.com/r/3caeiC/1</a>"}, {"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1562198668, "post_id": 56879058, "comment_id": 100306892, "body": "What is your expected output for <code>abc&lt;img src=&quot;assets\\test\\1F619.png&quot;&gt;def</code>? Do you want <code>abc 1F619.png def</code>?"}, {"owner": {"reputation": 2697, "user_id": 5486116, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/EqRZP.png?s=128&g=1", "display_name": "Strider", "link": "https://stackoverflow.com/users/5486116/strider"}, "reply_to_user": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1562199010, "post_id": 56879058, "comment_id": 100306949, "body": "@CertainPerformance The wanted output for <code>abc &lt;img src=&quot;assets\\test\\1F619.png&quot;&gt; def</code> would be <code>abc *1F619* def</code>. I will add this to the question to make it more clear, thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6553328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/omcAX.jpg?s=128&g=1", "display_name": "Emma", "link": "https://stackoverflow.com/users/6553328/emma"}, "is_accepted": false, "score": 0, "last_activity_date": 1562198220, "last_edit_date": 1592644375, "creation_date": 1562198220, "answer_id": 56879185, "question_id": 56879058, "link": "https://stackoverflow.com/questions/56879058/performance-problem-when-replacing-an-innerhtml-text-using-regular-expression/56879185#56879185", "title": "Performance problem when replacing an innerHTML text using regular expression", "body": "<p>My guess is that maybe this simple expression on <code>s</code> mode might simply do the job here:</p>\n<pre><code> &lt;img src=[&quot;']\\s*(\\S+.png)\\s*[&quot;']\\s*&gt;\n</code></pre>\n<p>or if we are not capturing the image,</p>\n<pre><code>&lt;img src=[&quot;']\\s*\\S+.png\\s*[&quot;']\\s*&gt;\n</code></pre>\n<p>would be enough.</p>\n<h3><a href=\"https://regex101.com/r/X7iJgW/1/\" rel=\"nofollow noreferrer\">DEMO</a></h3>\n"}, {"comments": [{"owner": {"reputation": 2697, "user_id": 5486116, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/EqRZP.png?s=128&g=1", "display_name": "Strider", "link": "https://stackoverflow.com/users/5486116/strider"}, "edited": false, "score": 0, "creation_date": 1562199708, "post_id": 56879250, "comment_id": 100307060, "body": "The replacement works perfectly and the performance issue has disappeared as well. Thank you for your help!"}], "tags": [], "owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 2, "last_activity_date": 1562198907, "creation_date": 1562198907, "answer_id": 56879250, "question_id": 56879058, "link": "https://stackoverflow.com/questions/56879058/performance-problem-when-replacing-an-innerhtml-text-using-regular-expression/56879250#56879250", "title": "Performance problem when replacing an innerHTML text using regular expression", "body": "<p>Avoid using regular expressions to parse HTML. Use <code>DOMParser</code> instead - find <code>&lt;img&gt;</code> tags, and replace them a text node containing only the last part of the src:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const input = String.raw`dsd&lt;img src=\"assets\\test\\1F619.png\"&gt;&lt;img src=\"assets\\test\\1F619.png\"&gt;&lt;img src=\"assets\\test\\1F629.png\"&gt;&lt;img src=\"assets\\test\\1F630.png\"&gt;sdfsdfsdffsdf&lt;img src=\"assets\\test\\1F629.png\"&gt;sdfsdsdfsdf&lt;img src=\"assets\\test\\1F627.png\"&gt;&lt;img src=\"assets\\test\\1F631.png\"&gt;sdfsdfsdf&lt;img src=\"assets\\test\\1F631.png\"&gt;sdfsdfsdf&lt;img src=\"assets\\test\\1F632.png\"&gt;sdfsdfs&lt;img src=\"assets\\test\\1F629.png\"&gt;&lt;img src=\"assets\\test\\1F629.png\"&gt;sdfs&lt;img src=\"assets\\test\\1F631.png\"&gt;df&lt;img src=\"assets\\test\\1F632.png\"&gt;sdfsdfsdf`;\r\nconst doc = new DOMParser().parseFromString(input, 'text/html');\r\ndoc.querySelectorAll('img[src]').forEach((img) =&gt; {\r\n  img.replaceWith(' ' + img.src.match(/[^\\/]+(?=\\.png$)/)[0] + ' ');\r\n});\r\nconsole.log(doc.body.innerHTML);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 2697, "user_id": 5486116, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/EqRZP.png?s=128&g=1", "display_name": "Strider", "link": "https://stackoverflow.com/users/5486116/strider"}, "edited": false, "score": 0, "creation_date": 1562264257, "post_id": 56879372, "comment_id": 100332046, "body": "Thank you for your solution it works perfectly. I am not familiar with performance tests but when running the chrome devtools, and in terms of memory use and execution time, I didn&#39;t notice any difference between the use of the RegEx solution and the DomParser one...I just would like to understand which one is the better way to parse the HTML string...thanks :)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 2697, "user_id": 5486116, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/EqRZP.png?s=128&g=1", "display_name": "Strider", "link": "https://stackoverflow.com/users/5486116/strider"}, "edited": false, "score": 0, "creation_date": 1562265753, "post_id": 56879372, "comment_id": 100332484, "body": "I don&#39;t know, I guess you could wrap a performance thing around the 2 different methods and see which is faster."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 2, "last_activity_date": 1562265685, "last_edit_date": 1562265685, "creation_date": 1562200478, "answer_id": 56879372, "question_id": 56879058, "link": "https://stackoverflow.com/questions/56879058/performance-problem-when-replacing-an-innerhtml-text-using-regular-expression/56879372#56879372", "title": "Performance problem when replacing an innerHTML text using regular expression", "body": "<p>You don't need a DOM to parse html tags !!!  </p>\n\n<p>The fastest way to do it, and won't choke on possibly malformed html.</p>\n\n<p>Find  </p>\n\n<p><code>/&lt;img(?=\\s)(?=(?:[^&gt;\"']|\"[^\"]*\"|'[^']*')*?\\ssrc\\s*=\\s*(?:(['\"])(?:(?!\\1)[\\S\\s])*?((?:(?!\\1|\\\\)[\\S\\s])*?)\\.png\\s*\\1))\\s+(?:\"[\\S\\s]*?\"|'[\\S\\s]*?'|[^&gt;]?)+&gt;/</code>  </p>\n\n<p>Replace <code>*$2*</code>  </p>\n\n<p><a href=\"https://regex101.com/r/bCYXV1/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/bCYXV1/1</a></p>\n\n<p>Explained  </p>\n\n<pre><code>                        # Begin 'img' tag\n &lt; img\n (?= \\s )\n (?=                    # Asserttion (a pseudo atomic group)\n      (?: [^&gt;\"'] | \" [^\"]* \" | ' [^']* ' )*?\n      \\s src \\s* = \\s*       # src attribute\n      (?:\n           ( ['\"] )               # (1), Quote\n\n           (?:\n                (?! \\1 )\n                [\\S\\s] \n           )*?\n           (                      # (2 start)\n                (?:\n                     (?! \\1 | \\\\ )\n                     [\\S\\s] \n                )*?\n           )                      # (2 end)\n           \\.png                  # find the 'png' file\n           \\s* \n           \\1          \n      )\n )\n                        # Have the png file, just match the rest of tag\n \\s+ \n (?: \" [\\S\\s]*? \" | ' [\\S\\s]*? ' | [^&gt;]? )+\n\n &gt;                      # End img tag\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var input = \"dsd&lt;img src=\\\"assets\\\\test\\\\1F619.png\\\"&gt;&lt;img src=\\\"assets\\\\test\\\\1F619.png\\\"&gt;&lt;img src=\\\"assets\\\\test\\\\1F629.png\\\"&gt;&lt;img src=\\\"assets\\\\test\\\\1F630.png\\\"&gt;sdfsdfsdffsdf&lt;img src=\\\"assets\\\\test\\\\1F629.png\\\"&gt;sdfsdsdfsdf&lt;img src=\\\"assets\\\\test\\\\1F627.png\\\"&gt;&lt;img src=\\\"assets\\\\test\\\\1F631.png\\\"&gt;sdfsdfsdf&lt;img src=\\\"assets\\\\test\\\\1F631.png\\\"&gt;sdfsdfsdf&lt;img src=\\\"assets\\\\test\\\\1F632.png\\\"&gt;sdfsdfs&lt;img src=\\\"assets\\\\test\\\\1F629.png\\\"&gt;&lt;img src=\\\"assets\\\\test\\\\1F629.png\\\"&gt;sdfs&lt;img src=\\\"assets\\\\test\\\\1F631.png\\\"&gt;df&lt;img src=\\\"assets\\\\test\\\\1F632.png\\\"&gt;sdfsdfsdf\";\r\nconsole.log(input.replace(/&lt;img(?=\\s)(?=(?:[^&gt;\"']|\"[^\"]*\"|'[^']*')*?\\ssrc\\s*=\\s*(?:(['\"])(?:(?!\\1)[\\S\\s])*?((?:(?!\\1|\\\\)[\\S\\s])*?)\\.png\\s*\\1))\\s+(?:\"[\\S\\s]*?\"|'[\\S\\s]*?'|[^&gt;]?)+&gt;/g \r\n,\"\\n*$2*\"));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 2697, "user_id": 5486116, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/EqRZP.png?s=128&g=1", "display_name": "Strider", "link": "https://stackoverflow.com/users/5486116/strider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 56879250, "answer_count": 3, "score": 1, "last_activity_date": 1562265685, "creation_date": 1562196833, "last_edit_date": 1562200026, "question_id": 56879058, "link": "https://stackoverflow.com/questions/56879058/performance-problem-when-replacing-an-innerhtml-text-using-regular-expression", "title": "Performance problem when replacing an innerHTML text using regular expression", "body": "<p>I am facing a performance issue when calling a method that replaces an innerHTML text using a regular expression:</p>\n\n<pre><code>function getReplacedText(textToReplace) {\n  return textToReplace.replace(/\\&lt;img src=[\\\"|\\']([\\S\\s]+\\\\)*([\\S\\s]+).png[\\\"|\\']\\/\\&gt;/i,\"*$2*\");\n}\n</code></pre>\n\n<p>The objective behind this replacement, is to retrieve the <code>innerHTML</code> of a <code>contentEditable div</code> in a keyup handler function, and replace each <code>img</code> tag with the name of the file. This replacement is necessary in my case to know if the replaced text exceeds or not the max length allowed to the editable div.</p>\n\n<pre><code>function keyupHandler(event) {\n  var myEditableDiv = document.getElementById(\"editableDiv\");\n  const currentText = getReplacedText(myEditableDiv.innerHTML);\n  if (currentText.length &gt;= 750) { //750 is the max length\n    event.preventDefault();\n  }\n}\n</code></pre>\n\n<p>For example, the wanted output for <code>abc &lt;img src=\"assets\\test\\1F619.png\"&gt; def</code> would be <code>abc *1F619* def</code></p>\n\n<p>When I don't use the <code>getReplacedText</code> I don't have any performance problem. Could you please advise me of a better approach or a better use of the regular expression? </p>\n\n<p>This is an example of the text to replace when performance begins to degrades:</p>\n\n<pre><code>dsd&lt;img src=\"assets\\test\\1F619.png\"/&gt;&lt;img src=\"assets\\test\\1F619.png\"/&gt;&lt;img src=\"assets\\test\\1F629.png\"/&gt;&lt;img src=\"assets\\test\\1F630.png\"/&gt;sdfsdfsdffsdf&lt;img src=\"assets\\test\\1F629.png\"/&gt;sdfsdsdfsdf&lt;img src=\"assets\\test\\1F627.png\"/&gt;&lt;img src=\"assets\\test\\1F631.png\"/&gt;sdfsdfsdf&lt;img src=\"assets\\test\\1F631.png\"/&gt;sdfsdfsdf&lt;img src=\"assets\\test\\1F632.png\"/&gt;sdfsdfs&lt;img src=\"assets\\test\\1F629.png\"/&gt;&lt;img src=\"assets\\test\\1F629.png\"/&gt;sdfs&lt;img src=\"assets\\test\\1F631.png\"/&gt;df&lt;img src=\"assets\\test\\1F632.png\"/&gt;sdfsdfsdf\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "ajax", "asp.net-mvc", "razor"], "comments": [{"owner": {"reputation": 1023, "user_id": 3990896, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/CODwo.png?s=128&g=1", "display_name": "iamdlm", "link": "https://stackoverflow.com/users/3990896/iamdlm"}, "edited": false, "score": 0, "creation_date": 1562230742, "post_id": 56879040, "comment_id": 100315882, "body": "Reloading an entire page every time you want to hit an API endpoint (Controller) it&#39;s generally NOT a good idea, partial views it&#39;s the way to go."}], "answers": [{"tags": [], "owner": {"reputation": 11181, "user_id": 32240, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/99bfe7f09d0087eefcd00cfb5f3b72ad?s=128&d=identicon&r=PG", "display_name": "Ray", "link": "https://stackoverflow.com/users/32240/ray"}, "is_accepted": true, "score": 1, "last_activity_date": 1562523631, "last_edit_date": 1562523631, "creation_date": 1562481119, "answer_id": 56919879, "question_id": 56879040, "link": "https://stackoverflow.com/questions/56879040/best-practices-in-razor-pages-using-ajax-or-handlers-for-post-get-requests/56919879#56919879", "title": "Best Practices in Razor Pages: Using AJAX or Handlers for post/get requests", "body": "<p>It's perfectly fine to use AJAX to submit to the Razor Pages code-behind, I've built a blog application's Admin Panel based on this with satisfactory results <a href=\"https://github.com/FanrayMedia/Fanray\" rel=\"nofollow noreferrer\">https://github.com/FanrayMedia/Fanray</a></p>\n\n<p>The Razor Pages model-behind class serves as convenient end points that return JSON to your AJAX calls. For example, my blog's composer which is a Razor Page has an <strong>auto-save draft</strong> feature, in the <a href=\"https://github.com/FanrayMedia/Fanray/blob/master/src/Core/Fan.WebApp/Manage/Admin/Compose.cshtml\" rel=\"nofollow noreferrer\">view</a> I have <a href=\"https://github.com/FanrayMedia/Fanray/blob/master/src/Core/Fan.WebApp/Manage/Admin/client/js/blog-compose.js#L154\" rel=\"nofollow noreferrer\">js code</a> like </p>\n\n<pre><code>axios.post('/admin/compose?handler=save', this.payload, { headers: { 'XSRF-TOKEN': this.tok } }) ...\n</code></pre>\n\n<p>which posts to this <a href=\"https://github.com/FanrayMedia/Fanray/blob/master/src/Core/Fan.WebApp/Manage/Admin/Compose.cshtml.cs#L246\" rel=\"nofollow noreferrer\">model-behind class code</a></p>\n\n<pre><code>public async Task&lt;JsonResult&gt; OnPostSaveAsync([FromBody]PostVM post)\n{\n  ...\n\n  return new JsonResult(postVM);\n}\n</code></pre>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 48, "user_id": 2325754, "user_type": "registered", "profile_image": "https://graph.facebook.com/1319927914/picture?type=large", "display_name": "Joseph Opanel", "link": "https://stackoverflow.com/users/2325754/joseph-opanel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 739, "favorite_count": 1, "accepted_answer_id": 56919879, "answer_count": 1, "score": 1, "last_activity_date": 1562523631, "creation_date": 1562196543, "question_id": 56879040, "link": "https://stackoverflow.com/questions/56879040/best-practices-in-razor-pages-using-ajax-or-handlers-for-post-get-requests", "title": "Best Practices in Razor Pages: Using AJAX or Handlers for post/get requests", "body": "<p>Generally speaking when you're doing a POST request you want to reload the page. Though not always. When using a GET method to retrieve data you may consider using AJAX. However I am relatively new to Razor Pages and ASP.net core altogether. I am being told we should always load the page. That since we are using Razor Pages it is not correct to use AJAX to submit anything to the code-behind. Otherwise whats the purpose of using Razor Pages.</p>\n\n<p>My concern is it leaves a bad user experience. If I want to run a report, retrieve the data, and show the data using a handler. I require the page to reload. If I use AJAX I require JSON but it doesn't require the page to reload. If I use a handler I can get back a model which I can use to display on the reloaded page without having to convert it to JSON. </p>\n\n<p>What is the best practice with Razor Pages? It seems like if you must reload every time we are going back in time to 2003. </p>\n"}, {"tags": ["javascript", "xml", "typescript", "nativescript"], "comments": [{"owner": {"reputation": 1399, "user_id": 4527057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a5947a7625a180577e321ead1c56769?s=128&d=identicon&r=PG&f=1", "display_name": "lloyd", "link": "https://stackoverflow.com/users/4527057/lloyd"}, "edited": false, "score": 1, "creation_date": 1562196586, "post_id": 56879031, "comment_id": 100306569, "body": "see <a href=\"https://stackoverflow.com/questions/12678716/transforming-typescript-into-javascript\">transforming ts to js</a>"}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1562196774, "post_id": 56879031, "comment_id": 100306602, "body": "<a href=\"https://www.typescriptlang.org/play/#code/JYWwDg9gTgLgBAbzgUQG4FMB2MAiBDGPOAXzgDMoIQ4AiGTAZwFoBjadJkCAEwFcAbdAwD03AnmEQARg3RRUeKYJoBuAFChIsRHAAKeAOboANHABqwdAHcS5StTqNW7TjwFDhvYMLCH0qjXBoeCQAZStgMHQAQRYYYAhGNCxccVsKKlpMAmAMBhYoSJgmLyZ+YAYYVEsrAMCtELgACSp0C2sAWR50fnT7WgA6YQALVqZq61duHrr0AA8G8l5MOITMOGzqgxzMAwAVCAAKPCgDBgAuFAxsfEIASkQ1OGe4NkZ4XyM4AF44AB59EYAHwnM4DaQAK3QcXUTxen3QAykwEw3BRBgAwokYPN4L9MNZmq12lYutN+Ic7upiGo1PNFmRlqtEnBEuFIugMT1+KFCLB0NxjqcLnB2VFYvFEgxkjdxA8EHDnm9KnAGBEogAZUDAGAMH5wUEMAZiQgDNUcrUgHUMdQvVXq9CW60DQRkPFwADMADYAAy2l7mzXa3UDQoGYbuv2K+0W4NGmDDKBCUb8bj6gBMPqjxCAA\" rel=\"nofollow noreferrer\">typescriptlang.org/play/#code/&hellip;</a>"}, {"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 1, "creation_date": 1562196832, "post_id": 56879031, "comment_id": 100306613, "body": "Just remove the typings syntax from the code"}], "answers": [{"tags": [], "owner": {"reputation": 4173, "user_id": 7428434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1348497625208827/picture?type=large", "display_name": "Shanon Jackson", "link": "https://stackoverflow.com/users/7428434/shanon-jackson"}, "is_accepted": false, "score": 0, "last_activity_date": 1562198635, "creation_date": 1562198635, "answer_id": 56879222, "question_id": 56879031, "link": "https://stackoverflow.com/questions/56879031/im-trying-to-translate-an-example-of-typescript-into-javascript-and-im-not-su/56879222#56879222", "title": "I&#39;m trying to translate an example of TypeScript into JavaScript, and I&#39;m not sure how to convert it", "body": "<pre><code>import { HomeViewModel } from \"./home-view-model\";\nexport function navigatingTo(args) {\n    const page = args.object;\n    page.bindingContext = new HomeViewModel();\n}\nexport function onSwipeCellStarted(args) {\n    const swipeLimits = args.data.swipeLimits;\n    swipeLimits.left = 360;\n    swipeLimits.right = 0;\n    swipeLimits.threshold = 200;\n}\n</code></pre>\n\n<p>Or if the application doesn't support 'import' syntax</p>\n\n<pre><code>const HomeViewModel = require(\"./home-view-model\").HomeViewModel;\nexport function navigatingTo(args) {\n    const page = args.object;\n    page.bindingContext = new HomeViewModel();\n}\nexport function onSwipeCellStarted(args) {\n    const swipeLimits = args.data.swipeLimits;\n    swipeLimits.left = 360;\n    swipeLimits.right = 0;\n    swipeLimits.threshold = 200;\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 10942886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc5f389aa146cda581e95894b629e5d5?s=128&d=identicon&r=PG&f=1", "display_name": "manuel.espinoza", "link": "https://stackoverflow.com/users/10942886/manuel-espinoza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562198635, "creation_date": 1562196501, "question_id": 56879031, "link": "https://stackoverflow.com/questions/56879031/im-trying-to-translate-an-example-of-typescript-into-javascript-and-im-not-su", "title": "I&#39;m trying to translate an example of TypeScript into JavaScript, and I&#39;m not sure how to convert it", "body": "<p>I'm working with an example of NativeScript which uses TypeScript to process the logic. My working project uses JavaScript and I want to bring the example into my project. </p>\n\n<p>I tried to bring the code into the <a href=\"https://www.typescriptlang.org/play/\" rel=\"nofollow noreferrer\">TS playground</a></p>\n\n<pre><code>import { EventData } from \"tns-core-modules/data/observable\";\nimport { Page, View } from \"tns-core-modules/ui/page\";\nimport { SwipeActionsEventData } from \"nativescript-ui-listview\";\n\nimport { HomeViewModel } from \"./home-view-model\";\n\nexport function navigatingTo(args: EventData) {\n    const page = &lt;Page&gt;args.object;\n\n    page.bindingContext = new HomeViewModel();\n}\n\nexport function onSwipeCellStarted(args: SwipeActionsEventData) {\n    const swipeLimits = args.data.swipeLimits;\n    swipeLimits.left = 360;\n    swipeLimits.right = 0;\n    swipeLimits.threshold = 200;\n}\n\nI'm just wanting to know how it would be formated using JS\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "firebase", "express", "google-cloud-functions"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 1, "creation_date": 1562196629, "post_id": 56879021, "comment_id": 100306579, "body": "Please edit the question to give more specific information about what isn&#39;t working the way you expect.  For example, what specific URL is working locally but not deployed?  What exactly is the response for non-working URLs?"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1562226824, "post_id": 56879021, "comment_id": 100313819, "body": "If you want to serve static content, are you sure you wouldn&#39;t rather use Firebase Hosting for that?  It will be cheaper and faster."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 7934386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/585e4ef7533bba1d46c646bfb2b34680?s=128&d=identicon&r=PG&f=1", "display_name": "Wilson Lysford", "link": "https://stackoverflow.com/users/7934386/wilson-lysford"}, "edited": false, "score": 0, "creation_date": 1562201259, "post_id": 56879096, "comment_id": 100307292, "body": "I added it and still nothing. I was able to print out the __dirname when /about is referenced and the dirname is /srv. I&#39;m not exactly sure how it stores the files that I send if it replicates the structure of my folder or if it re-organizes it."}], "tags": [], "owner": {"reputation": 519, "user_id": 2756931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1TmK6.jpg?s=128&g=1", "display_name": "Edwin Dijas Chiwona", "link": "https://stackoverflow.com/users/2756931/edwin-dijas-chiwona"}, "is_accepted": false, "score": 0, "last_activity_date": 1562197202, "creation_date": 1562197202, "answer_id": 56879096, "question_id": 56879021, "link": "https://stackoverflow.com/questions/56879021/express-routes-work-when-serving-locally-but-fail-once-deployed/56879096#56879096", "title": "Express routes work when serving locally but fail once deployed", "body": "<p>Your directories contain absolute paths to your filesystem. Try to use dynamic absolute paths.\nChange the paths from</p>\n\n<pre><code>  const publicDir = \"/Users/wilson/wildman-talks-fb/public\";\n  const blogDir = \"/Users/wilson/wildman-talks-fb/public/blogs\";\n</code></pre>\n\n<p>To</p>\n\n<pre><code>  const path = require(\"path\");\n  const publicDir = path.join(__dirname, \"/public\";)\n  const blogDir = path.join( __dirname, \"/public/blogs\");\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7934386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/585e4ef7533bba1d46c646bfb2b34680?s=128&d=identicon&r=PG&f=1", "display_name": "Wilson Lysford", "link": "https://stackoverflow.com/users/7934386/wilson-lysford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 143, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562202357, "creation_date": 1562196395, "last_edit_date": 1562202357, "question_id": 56879021, "link": "https://stackoverflow.com/questions/56879021/express-routes-work-when-serving-locally-but-fail-once-deployed", "title": "Express routes work when serving locally but fail once deployed", "body": "<p>I am building a blog using Node js and Express and hosting it on firebase. When I serve the website locally everything works just fine and the html is served as expected. But, when I deploy the server the routes no longer work and the html files can't be found. I'm sure it has to do with how firebase deploy hold the html files. </p>\n\n<p>I'm not really sure where to go from here. I can't really find great guidance on how to set up something like this on the firebase docs.</p>\n\n<pre><code>const functions = require(\"firebase-functions\")\nconst cors = require(\"cors\")\nconst express = require(\"express\")\nconst path = require(\"path\")\n\n/* Express with CORS */\nconst app = express()\napp.use(cors({ origin: true }))\napp.get(\"/\", (request, response) =&gt; {\n  response.send(\"Hello from Express on Firebase with CORS!\")\n})\n\n//File path consts\nconst publicDir = \"/Users/wilson/wildman-talks-fb/public\";\nconst blogDir = \"/Users/wilson/wildman-talks-fb/public/blogs\";\n\napp.get(\"/about/\", (req, res) =&gt;{\n    res.sendFile(path.join(publicDir, \"/about.html\"));\n});\n\napp.get(\"/contact/\", (req, res) =&gt;{\n    res.sendFile(path.join(publicDir, \"/contact.html\"));\n});\n\napp.get(\"/tools/\", (req, res) =&gt;{\n    res.sendFile(path.join(publicDir, \"/tools.html\"));\n});\n\napp.get(\"/five-steps-july-20/\", (req, res) =&gt;{\n    //res.send(path.join(publicDir, \"/five-steps-july-20.html\"));\n    res.sendFile(path.join(publicDir, \"/five-steps-july-20.html\"));\n})\n\nexports.app = functions.https.onRequest(app)\n</code></pre>\n\n<p>So what is happening is when I deploy the site locally all of the links in my webpage work to other html webpages for my site. When I deploy it on firebase I get 404 errors. I was able to use path.join(__dirname, \"../public\") and print out all of the files contained there. When i did that these were the files that were there on my local host: [\".DS_Store\",\"404.html\",\"about.html\",\"blogs\",\"contact.html\",\"css\",\"five-steps-july-20.html\",\"img\",\"index.html\",\"js\",\"mail\",\"tools.html\",\"vendor\"]. After deploying it just returns me a 500 error so I guess that won't help. </p>\n"}, {"tags": ["javascript", "node.js", "fs"], "comments": [{"owner": {"reputation": 2271, "user_id": 4120524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fa459e96f5ef9b996dd55a8a01b5733?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Gray", "link": "https://stackoverflow.com/users/4120524/jonathan-gray"}, "edited": false, "score": 0, "creation_date": 1562196639, "post_id": 56879019, "comment_id": 100306581, "body": "Streams, used asynchronously, are much better suited for a large amount of data."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1562223575, "post_id": 56879019, "comment_id": 100312226, "body": "Can you show us a real, actual problem with real code so we can offer real, actual solutions with real code?  The only answer to your made-up, artificial problem is to stop making massive data sets in memory and then writing them all out at once.  Create small sets of data and write them out as you go, not keeping them all in memory.  Also, passing an array to <code>fs.writeFile()</code> probably doesn&#39;t do anything useful anyway as you write strings or binary data and passing an array doesn&#39;t know what to do with it."}], "owner": {"reputation": 580, "user_id": 4572652, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Lzhkx.png?s=128&g=1", "display_name": "spaceman", "link": "https://stackoverflow.com/users/4572652/spaceman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 253, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562196357, "creation_date": 1562196357, "question_id": 56879019, "link": "https://stackoverflow.com/questions/56879019/optimize-fs-writefile-to-avoid-heap-out-of-memory-on-large-file-sizes", "title": "Optimize FS writeFile to avoid heap out of memory on large file sizes", "body": "<p>Mainly I need to open the <code>json</code> file, push data to it and save it again. \nThat with a large chunk of data done repeatedly.</p>\n\n<p>The thing is that I'm not being able to finish the whole read.</p>\n\n<p>I have tested the following code:</p>\n\n<pre><code>var array = require('./test.json')\n\nfor (let i = 0;i&lt;999999999999;i++){\narray.push(i)\n\n}\n\nfs.writeFile('./test.json', array, function (err) {\n    if (err) {\n        return console.log(err);\n    }\n\n    console.log('saved');\n});\n</code></pre>\n\n<p>And it returns: </p>\n\n<pre><code>&lt;--- Last few GCs ---&gt;\n\n[3632:000001B9DE56BD10]     2076 ms: Mark-sweep 577.7 (585.1) -&gt; 577.7 (585.1) MB, 92.5 / 0.0 ms  allocation failure GC in old space requested\n[3632:000001B9DE56BD10]     2174 ms: Mark-sweep 577.7 (585.1) -&gt; 577.7 (582.1) MB, 97.6 / 0.0 ms  last resort GC in old space requested\n[3632:000001B9DE56BD10]     2273 ms: Mark-sweep 577.7 (582.1) -&gt; 577.7 (582.1) MB, 99.3 / 0.0 ms  last resort GC in old space requested\n\n\n&lt;--- JS stacktrace ---&gt;\n\n==== JS stack trace =========================================\n\nSecurity context: 00000364863257C1 &lt;JSObject&gt;\n    1: /* anonymous */ [C:\\test\\test.js:~1] [pc=000002501A885DE4](this=00000101E000A879 &lt;Object map = 000001EDFF6023B9&gt;,exports=00000101E000A879 &lt;Object map = 000001EDFF6023B9&gt;,require=00000101E000A831 &lt;JSFunction require (sfi = 000000F3AFACAB59)&gt;,module=00000101E000A7A9 &lt;Module map = ...\n\nFATAL ERROR: CALL_AND_RETRY_LAST Allocation failed - JavaScript heap out of memory\n 1: node_module_register\n 2: v8::internal::FatalProcessOutOfMemory\n 3: v8::internal::FatalProcessOutOfMemory\n 4: v8::internal::Factory::NewUninitializedFixedArray\n 5: v8::internal::WasmDebugInfo::SetupForTesting\n 6: v8::internal::interpreter::BytecodeArrayRandomIterator::UpdateOffsetFromIndex\n 7: 000002501A7043C1\n</code></pre>\n\n<p>My question is:</p>\n\n<p>How to optimize the code to avoid these memory issues?</p>\n\n<p>Appreciate the help!</p>\n"}, {"tags": ["javascript", "node.js", "try-catch"], "comments": [{"owner": {"reputation": 670, "user_id": 7471822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a8fe7bbe549522ddb5e12747cd583e0?s=128&d=identicon&r=PG&f=1", "display_name": "ldtcoop", "link": "https://stackoverflow.com/users/7471822/ldtcoop"}, "edited": false, "score": 0, "creation_date": 1562197784, "post_id": 56879011, "comment_id": 100306770, "body": "Why are you using the <code>async</code> keyword and then using <code>.then</code> and <code>.catch</code> in the code?"}, {"owner": {"reputation": 85, "user_id": 11736796, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PvQDg-wRctk/AAAAAAAAAAI/AAAAAAAAAz0/zZRHps8twoQ/photo.jpg?sz=128", "display_name": "DontBreakAlex", "link": "https://stackoverflow.com/users/11736796/dontbreakalex"}, "reply_to_user": {"reputation": 670, "user_id": 7471822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a8fe7bbe549522ddb5e12747cd583e0?s=128&d=identicon&r=PG&f=1", "display_name": "ldtcoop", "link": "https://stackoverflow.com/users/7471822/ldtcoop"}, "edited": false, "score": 0, "creation_date": 1562231057, "post_id": 56879011, "comment_id": 100316062, "body": "I tryed several solutions and didn&#39;t remove the async before posting. I know they are not doing anything there."}], "answers": [{"tags": [], "owner": {"reputation": 1216, "user_id": 11531708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1hBJu.jpg?s=128&g=1", "display_name": "Mohammed Amir Ansari", "link": "https://stackoverflow.com/users/11531708/mohammed-amir-ansari"}, "is_accepted": true, "score": 0, "last_activity_date": 1562224206, "creation_date": 1562224206, "answer_id": 56882405, "question_id": 56879011, "link": "https://stackoverflow.com/questions/56879011/need-help-figuring-out-why-xxx-catch-isnt-catching-the-error/56882405#56882405", "title": "Need help figuring out why xxx.catch isn&#39;t catching the error", "body": "<p>First thing is no need to use 'async' keyword with functions until and unless you are awaiting an asynchronous function inside it.\nI've done some changes in the code, you can try:</p>\n\n<pre><code>function play(message, msg) {\n    addytb(message, msg[3])\n        .then((data) =&gt; {\n            //do something with data\n        })\n        .catch(err =&gt; {\n            console.log('err is: ', err);\n        });\n}\n\nfunction addytb(message, url) {\n    return new Promise((resolve, reject) =&gt; {\n        ytbapi.getVideo(url)\n            .then(video =&gt; {\n                message.channel.send(`J'ai ajout\u00e9 ${video.title} \u00e0 la queue !`);\n                queue.get(message.guild.id).push({\n                    \"url\": url,\n                    \"type\": 'youtube',\n                    \"title\": video.title\n                });\n                resolve(\"success\");\n            })\n            .catch((err) =&gt; {\n                message.channel.send(`J'ai pas r\u00e9ussi \u00e0 ajouter \u00e7a \u00e0 la queue !`);\n                console.log(err)\n                reject(err);\n            });\n    });\n}\n</code></pre>\n\n<p>and if you really wanna try with async/await:</p>\n\n<pre><code>async function play(message, msg) {\n    try {\n        const data = await addytb(message, msg[3]);\n        //do something with data\n    } catch (err) {\n        console.log('err is: ', err);\n    }\n}\n\nfunction addytb(message, url) {\n    return new Promise(async (resolve, reject) =&gt; {\n        try {\n            const video = await ytbapi.getVideo(url);\n            message.channel.send(`J'ai ajout\u00e9 ${video.title} \u00e0 la queue !`);\n            queue.get(message.guild.id).push({\n                \"url\": url,\n                \"type\": 'youtube',\n                \"title\": video.title\n            });\n            resolve(\"success\");\n        } catch (err) {\n            message.channel.send(`J'ai pas r\u00e9ussi \u00e0 ajouter \u00e7a \u00e0 la queue !`);\n            console.log(err)\n            reject(err);\n        }\n    });\n}\n</code></pre>\n\n<p>ps: you may need some modifications as i couldn't get a chance to try the code.\nhope this helps :)</p>\n"}], "owner": {"reputation": 85, "user_id": 11736796, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PvQDg-wRctk/AAAAAAAAAAI/AAAAAAAAAz0/zZRHps8twoQ/photo.jpg?sz=128", "display_name": "DontBreakAlex", "link": "https://stackoverflow.com/users/11736796/dontbreakalex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 56882405, "answer_count": 1, "score": 0, "last_activity_date": 1562224206, "creation_date": 1562196251, "question_id": 56879011, "link": "https://stackoverflow.com/questions/56879011/need-help-figuring-out-why-xxx-catch-isnt-catching-the-error", "title": "Need help figuring out why xxx.catch isn&#39;t catching the error", "body": "<p>I'm on the edge of throwing my computer throught the window. I just can't see why this isn't working :</p>\n\n<pre><code>async function play(message, msg) {\n    addytb(message, msg[3]).catch(err =&gt; {console.log('err');});\n}\n\nasync function addytb(message, url) {\n    ytbapi.getVideo(url)\n    .then(video =&gt; {\n        message.channel.send(`J'ai ajout\u00e9 ${video.title} \u00e0 la queue !`);\n        queue.get(message.guild.id).push({\"url\": url, \"type\": 'youtube', \"title\": video.title});\n    })\n    .catch(() =&gt; {\n        message.channel.send(`J'ai pas r\u00e9ussi \u00e0 ajouter \u00e7a \u00e0 la queue !`);\n        throw 'error';\n    });\n}\n</code></pre>\n\n<p>I have been searching the internet for 2 hours and I can't find why I keep having unhandled promise warmings. I think this is because ytbapi.getVideo() is an async, but I don't know what to do.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["javascript", "recursion", "promise", "async-await", "stack-overflow"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1562248681, "post_id": 56879005, "comment_id": 100325938, "body": "You are looking for <code>Promise.resolve().then(f)</code> or <code>await; return f()</code>. Currently your recursive calls are happening immediately. Remember <a href=\"https://stackoverflow.com/q/42118900/1048572\">the <code>new Promise</code> executor callback is synchronous</a>."}, {"owner": {"reputation": 11988, "user_id": 866082, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/mZc1Y.png?s=128&g=1", "display_name": "Mehran", "link": "https://stackoverflow.com/users/866082/mehran"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1562249481, "post_id": 56879005, "comment_id": 100326337, "body": "Thanks @Bergi, but your second suggestion is a Syntax Error."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1562249537, "post_id": 56879005, "comment_id": 100326373, "body": "<code>await undefined; return f()</code> then :-)"}], "answers": [{"comments": [{"owner": {"reputation": 11988, "user_id": 866082, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/mZc1Y.png?s=128&g=1", "display_name": "Mehran", "link": "https://stackoverflow.com/users/866082/mehran"}, "edited": false, "score": 0, "creation_date": 1562203883, "post_id": 56879481, "comment_id": 100307699, "body": "I think you&#39;re right but is there any way to write this not to face the problem?"}, {"owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "reply_to_user": {"reputation": 11988, "user_id": 866082, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/mZc1Y.png?s=128&g=1", "display_name": "Mehran", "link": "https://stackoverflow.com/users/866082/mehran"}, "edited": false, "score": 1, "creation_date": 1562206120, "post_id": 56879481, "comment_id": 100308029, "body": "By not invoking a call to it&#39;s self before the promise is constructed."}], "tags": [], "owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "is_accepted": true, "score": 6, "last_activity_date": 1562201823, "creation_date": 1562201823, "answer_id": 56879481, "question_id": 56879005, "link": "https://stackoverflow.com/questions/56879005/why-recursive-async-functions-in-javascript-lead-to-stack-overflow/56879481#56879481", "title": "Why recursive async functions in Javascript lead to stack overflow?", "body": "<p>Why would you not expect it to cause infinite recursion? The constructor of the promise is calling f recursively so the promise never gets to construct as an infinite recursion loop occurs before the promise is constructed.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\" rel=\"noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise</a></p>\n\n<p>From the link above</p>\n\n<p>The executor function is executed immediately by the Promise implementation, passing resolve and reject functions (the executor is called before the Promise constructor even returns the created object).</p>\n"}, {"tags": [], "owner": {"reputation": 11988, "user_id": 866082, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/mZc1Y.png?s=128&g=1", "display_name": "Mehran", "link": "https://stackoverflow.com/users/866082/mehran"}, "is_accepted": false, "score": 1, "last_activity_date": 1562251179, "last_edit_date": 1562251179, "creation_date": 1562210835, "answer_id": 56880266, "question_id": 56879005, "link": "https://stackoverflow.com/questions/56879005/why-recursive-async-functions-in-javascript-lead-to-stack-overflow/56880266#56880266", "title": "Why recursive async functions in Javascript lead to stack overflow?", "body": "<p>Thanks to @Adrian, I managed to find a way not to face the stack overflow. But before that, he was right and that form a recursion should have led to stack overflow. And since the question is \"why\", his answer is the accepted one. This is my attempt on \"how\" not to face the stack overflow.</p>\n\n<p><strong>Test 1</strong></p>\n\n<pre><code>function f() {\n  return new Promise((resolve) =&gt; {\n    resolve();\n  }).then(f);\n}\n</code></pre>\n\n<p>And using <code>await</code>:</p>\n\n<p><strong>Test 2</strong></p>\n\n<pre><code>async function f() {\n  return await Promise.resolve()\n    .then(f);\n}\n</code></pre>\n\n<p>I'm not sure if the <code>Promise</code> can be eliminated in this case!</p>\n\n<p>And I know I said no <code>setTimeout</code> but this is an interesting case too:</p>\n\n<p><strong>Test 3</strong></p>\n\n<pre><code>async function f() {\n  await new Promise(resolve =&gt; setTimeout(resolve, 0));\n  return f();\n}\n</code></pre>\n\n<p>This will not face the stack overflow as well.</p>\n\n<p>In the end, to give you a context why I was interested in this; let's say you are coding a function to retrieve all the records from AWS' DynamoDb. Since there's a limitation on how many records you can extract from DynamoDb with one request, you have to send as many as needed (with <code>ExclusiveStartKey</code>) to get all the records:</p>\n\n<p><strong>Test 4</strong></p>\n\n<pre><code>async function getAllRecords(records = [], ExclusiveStartKey = undefined) {\n    let params = {\n        TableName: 'SomeTable',\n        ExclusiveStartKey,\n    };\n\n    const data = await docClient.scan(params).promise();\n    if (typeof data.LastEvaluatedKey !== \"undefined\") {\n        return getAllRecords(records.concat(data.Items), data.LastEvaluatedKey);\n    }\n    else {\n        return records.concat(data.Items);\n    }\n}\n</code></pre>\n\n<p>I wanted to make sure this will not face a stack overflow EVER. It was not feasible to have such a huge DynamoDb table to actually test this. So I came up with some examples to make sure of that.</p>\n\n<p>At first, it seemed like that test #4 could actually face a stack overflow, but my test #3 shows that there's no such possibility (because of the <code>await docClient.scan(params).promise()</code>).</p>\n\n<p><strong>[UPDATE]</strong></p>\n\n<p>Thanks to @Bergi, here's a code for <code>await</code> without a <code>Promise</code>:</p>\n\n<p><strong>Test 5</strong></p>\n\n<pre><code>async function f() {\n  await undefined;\n  return f();\n}\n</code></pre>\n"}], "owner": {"reputation": 11988, "user_id": 866082, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/mZc1Y.png?s=128&g=1", "display_name": "Mehran", "link": "https://stackoverflow.com/users/866082/mehran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "accepted_answer_id": 56879481, "answer_count": 2, "score": 6, "last_activity_date": 1562251179, "creation_date": 1562196182, "last_edit_date": 1562199677, "question_id": 56879005, "link": "https://stackoverflow.com/questions/56879005/why-recursive-async-functions-in-javascript-lead-to-stack-overflow", "title": "Why recursive async functions in Javascript lead to stack overflow?", "body": "<p>Consider this snippet:</p>\n\n<pre><code>function f() {\n  return new Promise((resolve, reject) =&gt; {\n    f().then(() =&gt; {\n      resolve();\n    });\n  });\n}\n\nf();\n</code></pre>\n\n<p>which can also be written like this:</p>\n\n<pre><code>async function f() {\n  return await f();\n}\n\nf();\n</code></pre>\n\n<p>If you run any of the given two codes, you'll face this error:</p>\n\n<pre><code>(node:23197) UnhandledPromiseRejectionWarning: RangeError: Maximum call stack size exceeded\n</code></pre>\n\n<p>My question is why? Before answering my question, please consider my argument:</p>\n\n<p>I understand the concept of recursion and how it leads to a stack overflow if there's no stopping condition. But my argument here is that once the first <code>f();</code> is executed, it will return a <code>Promise</code> and it exits the stack so this recursion should not face any stack overflow ever. To me, this should behave the same as:</p>\n\n<pre><code>while (1) {}\n</code></pre>\n\n<p>Of course, if I write it like this, it will be fixed:</p>\n\n<pre><code>function f() {\n  return new Promise((resolve, reject) =&gt; {\n    setTimeout(() =&gt; {\n      f().then(() =&gt; {\n        resolve();\n      });\n    }, 0);\n  });\n}\n\nf();\n</code></pre>\n\n<p>which is a different story and I have no problem with it.</p>\n\n<p><strong>[UPDATE]</strong></p>\n\n<p>My bad, I forgot to mention I was testing with <code>node v8.10.0</code> on the server side.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 1938, "user_id": 9272040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rYjVg.jpg?s=128&g=1", "display_name": "Udo E.", "link": "https://stackoverflow.com/users/9272040/udo-e"}, "edited": false, "score": 0, "creation_date": 1562197398, "post_id": 56879001, "comment_id": 100306711, "body": "Have you tried <code>parseInt(prop)</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 1, "last_activity_date": 1562196503, "creation_date": 1562196503, "answer_id": 56879032, "question_id": 56879001, "link": "https://stackoverflow.com/questions/56879001/why-does-a-number-convert-into-a-string-when-setting-it-as-a-object-value-and-h/56879032#56879032", "title": "Why does a number convert into a string when setting it as a Object value, and how to avoid it", "body": "<p>Object properties are <em>always</em> strings (or symbols). Even though you can define an object with a numeric property, or by putting a number into bracket notation, the property itself will <em>still</em> be a string.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const obj = { 1: 'one' };\r\nconst [prop] = Object.keys(obj);\r\nconsole.log(prop, typeof prop);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>When you extract a property from an object using <code>for..in</code>, or <code>Object.keys</code>, or any other method, it will be a string (or a symbol). To make it be a number instead, you need to cast it to a number explicitly, like you're doing in your question.</p>\n"}], "owner": {"reputation": 1001, "user_id": 5109041, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2766a0ef157cd5b8d6769c21d0971ffe?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5109041/andreas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "closed_date": 1562197570, "accepted_answer_id": 56879032, "answer_count": 1, "score": 0, "last_activity_date": 1562258039, "creation_date": 1562196147, "last_edit_date": 1562258039, "question_id": 56879001, "link": "https://stackoverflow.com/questions/56879001/why-does-a-number-convert-into-a-string-when-setting-it-as-a-object-value-and-h", "closed_reason": "Duplicate", "title": "Why does a number convert into a string when setting it as a Object value, and how to avoid it", "body": "<p>I have this object:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const someobj = {\r\n  100: 'a',\r\n  200: 'b',\r\n  300: 'c'\r\n}\r\n\r\nfor (const prop in someobj) {\r\n  console.log(prop)\r\n  console.log({ prop: prop })\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>When running it i get this output:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>100\n{ prop: '100' }\n200\n{ prop: '200' }\n300\n{ prop: '300' }\n</code></pre>\n\n<p>Why are the prop values converted from a number to a string? Is there anyway to avoid this besides doing <code>Number(prop)</code>?</p>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 11038847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4480f7ad932b90973dbf1eabf47de93b?s=128&d=identicon&r=PG&f=1", "display_name": "Abdane", "link": "https://stackoverflow.com/users/11038847/abdane"}, "edited": false, "score": 0, "creation_date": 1562208504, "post_id": 56879593, "comment_id": 100308396, "body": "Thanks for the help, but setting a fixed height for the images makes them squished when the browser gets smaller."}], "tags": [], "owner": {"reputation": 79, "user_id": 3654580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a3d98cc4c9266e99c24f89c813d2fbe?s=128&d=identicon&r=PG&f=1", "display_name": "Stompy32", "link": "https://stackoverflow.com/users/3654580/stompy32"}, "is_accepted": false, "score": 2, "last_activity_date": 1562203821, "last_edit_date": 1592644375, "creation_date": 1562203461, "answer_id": 56879593, "question_id": 56878985, "link": "https://stackoverflow.com/questions/56878985/avoid-slideshow-div-resizing-according-to-displayed-image/56879593#56879593", "title": "Avoid slideshow div resizing according to displayed image?", "body": "<p>Generally speaking, when doing slide shows it's much easier and looks nicer when you just manually resize the images to the same resolution using gimp or photoshop.</p>\n<p>However if for whatever reason you can't do that you can use percentages in CSS to create dynamic lengths.</p>\n<p>Here's what I came up with</p>\n<pre><code>//changed '.images' to '.image-container' also removed the divResizeIssue //function because we don't need it\n\nvar slideIndex = 0;\nshowSlides();\n\nfunction showSlides() {\n    var slides = $(&quot;.image-container&quot;); //here\n    slides.each(function(){\n        $(this).fadeOut(500).delay(490);        \n    });\n\n    slideIndex++;\n\n    if (slideIndex &gt; slides.length) {\n        slideIndex = 1;\n    } \n    slides.each(function(index){\n        if(index == slideIndex-1){\n            $(this).fadeIn(500).delay(490);\n        } \n    });\n    setTimeout(showSlides, 5000);\n}\n</code></pre>\n<h3>CSS</h3>\n<pre><code>#top-div {\n    width: 100%;\n    margin-top:90vh;\n    background: #AB3F05;\n    text-align: center;\n    height: auto;\n}\nfigure img{\n    padding-left: 5vh;\n    padding-right: 5vh;\n    padding-top: 0;\n    padding-bottom: 0;\n    margin: 0;\n}\n\n/*Changed Below*/\n\n.image-container {\n    width: 50%;\n    margin: 0 auto;\n}\n\n.image {\n  width: 100%;\n  height: 400px;\n}\n</code></pre>\n<h3>.image-container</h3>\n<p>the <code>width: 50%</code> makes it so the .image-container resizes when the browser viewport changes width. <code>margin: 0 auto</code> centers the .image-container inside it's parent.</p>\n<h3>.image</h3>\n<p>the <code>width: 100%</code> streaches the img tag to be the width of its parent (the .image-container).</p>\n<p>the fixed <code>height: 400px</code> keeps tall images from expanding the height of the parent.</p>\n<h3>HTML</h3>\n<pre><code>&lt;div id=&quot;top-div&quot; class=&quot;row&quot;&gt;\n        &lt;div class=&quot;row&quot;&gt;\n            &lt;h1 class=&quot;col-sm-12&quot;&gt;Activities&lt;/h1&gt;\n            &lt;span class=&quot;col-sm-2&quot;&gt;&lt;!-- &lt;button class=&quot;leftButton&quot;&gt;&lt;/button&gt; --&gt;&lt;/span&gt;\n            &lt;div class=&quot;col-sm-12 col-lg-8&quot;&gt;\n                &lt;figure class=&quot;image-container&quot;&gt;\n                    &lt;figcaption class=&quot;caption&quot;&gt;Outdoor&lt;/figcaption&gt;\n                    &lt;img class=&quot;image img-fluid&quot; id=&quot;Outdoor&quot; src=&quot;https://picsum.photos/200/300&quot;&gt;\n                &lt;/figure&gt;\n                &lt;figure class=&quot;image-container&quot;&gt;\n                    &lt;figcaption class=&quot;caption&quot;&gt;Indoor&lt;/figcaption&gt;\n                    &lt;img class=&quot;image img-fluid&quot;  id = &quot;Indoor&quot; src=&quot;https://picsum.photos/300/300&quot;&gt;               \n                &lt;/figure&gt;\n                &lt;figure class=&quot;image-container&quot;&gt;\n                    &lt;figcaption class=&quot;caption&quot;&gt;Join Us!&lt;/figcaption&gt;\n                    &lt;img class=&quot;image img-fluid&quot; id = &quot;Member&quot; src=&quot;https://picsum.photos/400/300&quot;&gt;        \n                &lt;/figure&gt;\n            &lt;/div&gt;\n            &lt;span class=&quot;col-sm-2&quot;&gt;&lt;!-- &lt;button class=&quot;rightButton&quot;&gt; --&gt;&lt;/button&gt;&lt;/span&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n<p>I just renamed the class=&quot;images&quot; to class=&quot;image-container&quot; and added an image class to the img elements, also changed the src on the images to use picsum so you might want to change them back.</p>\n"}, {"tags": [], "owner": {"reputation": 79, "user_id": 11038847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4480f7ad932b90973dbf1eabf47de93b?s=128&d=identicon&r=PG&f=1", "display_name": "Abdane", "link": "https://stackoverflow.com/users/11038847/abdane"}, "is_accepted": true, "score": 0, "last_activity_date": 1562247177, "creation_date": 1562247177, "answer_id": 56889118, "question_id": 56878985, "link": "https://stackoverflow.com/questions/56878985/avoid-slideshow-div-resizing-according-to-displayed-image/56889118#56889118", "title": "Avoid slideshow div resizing according to displayed image?", "body": "<p>The solution that I did was harcoding height values when the screen size changes, I don't really like to hardcode it, but it's the only way I can think of right now.</p>\n\n<p><strong>CSS</strong></p>\n\n<pre><code>@media only screen and (min-width: 576px) {\n    /*Change slides height to 950px when at sm (576px)*/\n    #top-div{\n       height: 950px;\n    }\n}\n\n@media only screen and (max-width: 576px) {\n    /*Change slides height to 440px when greater than sm*/\n    #top-div{\n       height: 440px;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 11038847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4480f7ad932b90973dbf1eabf47de93b?s=128&d=identicon&r=PG&f=1", "display_name": "Abdane", "link": "https://stackoverflow.com/users/11038847/abdane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 56889118, "answer_count": 2, "score": 2, "last_activity_date": 1562247177, "creation_date": 1562195939, "last_edit_date": 1562198355, "question_id": 56878985, "link": "https://stackoverflow.com/questions/56878985/avoid-slideshow-div-resizing-according-to-displayed-image", "title": "Avoid slideshow div resizing according to displayed image?", "body": "<p>I did a slideshow with fade animation of images in a div. However, when the next image shows, the div gets smaller/bigger according to the image and the page auto-scrolls, and I do not want that. How can I avoid this?</p>\n\n<p>I wrote a function that once the page loads, it finds the biggest image, and sets the div to have that height of that image so that whenever a new image shows, the div height does not change. However, the problem is when the browser gets smaller/larger, the value of the div's height does not change even though I am resitting it every time the browser changes the size using on resize listener (\"biggestImage\" variable).</p>\n\n<p><strong>JQuery</strong></p>\n\n<pre><code>var slideIndex = 0;\nshowSlides();\ndivResizeIssue();\n\nfunction showSlides() {\n    var slides = $(\".images\");\n    slides.each(function(){\n        $(this).fadeOut(500).delay(490);        \n    });\n\n    slideIndex++;\n\n    if (slideIndex &gt; slides.length) {\n        slideIndex = 1;\n    } \n    slides.each(function(index){\n        if(index == slideIndex-1){\n            $(this).fadeIn(500).delay(490);\n        } \n    });\n    setTimeout(showSlides, 5000);\n}\n\nfunction divResizeIssue(){\n    var biggestImage;\n    var object;\n\n    var slides = $(\".images\");\n    var firstLoad = true;\n\n    if(firstLoad){\n        slides.each(function(index){\n            if(index == 0 || $(this).outerHeight() &gt; biggestImage){\n                biggestImage = $(this).outerHeight();\n                object = $(this)[0]\n            }\n        });\n        slides.each(function(){\n            if($(this)[0] != object){\n                $(this).outerHeight(biggestImage);\n            }\n        });\n        firstLoad = false;\n    }\n\n    $(window).on('resize', function(){\n        biggestImage = 0;\n        object = null;\n        slides.each(function(index){\n            if(index == 0 || $(this).outerHeight() &gt; biggestImage){\n                biggestImage = $(this).outerHeight();\n                object = $(this)[0];\n            }\n        });\n        slides.each(function(){\n            if($(this)[0] != object){\n                $(this).outerHeight(biggestImage);\n            }\n        });\n    });\n}\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div id=\"top-div\" class=\"row\"&gt;\n        &lt;div class=\"row\"&gt;\n            &lt;h1 class=\"col-sm-12\"&gt;Activities&lt;/h1&gt;\n            &lt;span class=\"col-sm-2\"&gt;&lt;!-- &lt;button class=\"leftButton\"&gt;&lt;/button&gt; --&gt;&lt;/span&gt;\n            &lt;div class=\"col-sm-12 col-lg-8\"&gt;\n                &lt;figure class=\"images\"&gt;\n                    &lt;figcaption class=\"caption\"&gt;Outdoor&lt;/figcaption&gt;\n                    &lt;img class=\"img-fluid\" id=\"Outdoor\" src=\".\\src\\Hiking.jpg\"&gt;\n                &lt;/figure&gt;\n                &lt;figure class=\"images\"&gt;\n                    &lt;figcaption class=\"caption\"&gt;Indoor&lt;/figcaption&gt;\n                    &lt;img class=\"img-fluid\"  id = \"Indoor\" src=\".\\src\\indoor.jpg\"&gt;               \n                &lt;/figure&gt;\n                &lt;figure class=\"images\"&gt;\n                    &lt;figcaption class=\"caption\"&gt;Join Us!&lt;/figcaption&gt;\n                    &lt;img class=\"img-fluid\" id = \"Member\" src=\".\\src\\member.png\"&gt;        \n                &lt;/figure&gt;\n            &lt;/div&gt;\n            &lt;span class=\"col-sm-2\"&gt;&lt;!-- &lt;button class=\"rightButton\"&gt; --&gt;&lt;/button&gt;&lt;/span&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p><strong>CSS</strong></p>\n\n<pre><code>#top-div {\n    width: 100%;\n    margin-top:90vh;\n    background: #AB3F05;\n    text-align: center;\n    height: auto;\n}\nfigure img{\n    padding-left: 5vh;\n    padding-right: 5vh;\n    padding-top: 0;\n    padding-bottom: 0;\n    margin: 0;\n}\n.images{\n    position: relative;\n}\n</code></pre>\n\n<p>If you have some better suggestion, please do suggest, or if you can tell me what's wrong with my code, that would be great.</p>\n"}, {"tags": ["javascript", "api", "xmlhttprequest"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1562196083, "post_id": 56878975, "comment_id": 100306468, "body": "Use the Network tab of Developer Tools to see what&#39;s being sent and received in the AJAX request."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1562196100, "post_id": 56878975, "comment_id": 100306474, "body": "Are there any errors in the console? Did you even bother to check before posting? The first step of debugging should always be to fix errors that are reported."}, {"owner": {"reputation": 1290, "user_id": 745262, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/U0IYy.jpg?s=128&g=1", "display_name": "SirBT", "link": "https://stackoverflow.com/users/745262/sirbt"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1562196828, "post_id": 56878975, "comment_id": 100306611, "body": "@Barmar Thanks for the prompt. To answer your question I actually checked the console before posting. And it&#39;s totally blank. No errors! Though am not too conversant with the tool in the network tab, I can say it displays that its posted the parameters, but I cant tell if I have gotten a response or not."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1562196896, "post_id": 56878975, "comment_id": 100306623, "body": "Click on the AJAX request URL, and you should see a Response tab that will show what you got in the response."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1562197054, "post_id": 56878975, "comment_id": 100306652, "body": "GOogle &quot;debugging ajax in chrome&quot; and you&#39;ll find some tutorials, including some videos."}, {"owner": {"reputation": 1290, "user_id": 745262, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/U0IYy.jpg?s=128&g=1", "display_name": "SirBT", "link": "https://stackoverflow.com/users/745262/sirbt"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1562199851, "post_id": 56878975, "comment_id": 100307087, "body": "@Barmar thanks for the tips on how to debug in Chrome. Sadly the only methods I&#39;ve noticed during the Chrome debug is the GET methods. I expected at least one POST method"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1562200122, "post_id": 56878975, "comment_id": 100307122, "body": "Put a <code>console.log</code> call right before <code>xhr.send(params)</code> to make sure you&#39;re getting there."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1562200143, "post_id": 56878975, "comment_id": 100307126, "body": "Or just single-step in the debugger."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1562200227, "post_id": 56878975, "comment_id": 100307141, "body": "BTW, get in the habit of using <code>console.log</code> rather than <code>alert</code>, as it doesn&#39;t block the execution."}], "owner": {"reputation": 1290, "user_id": 745262, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/U0IYy.jpg?s=128&g=1", "display_name": "SirBT", "link": "https://stackoverflow.com/users/745262/sirbt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562226634, "creation_date": 1562195874, "last_edit_date": 1562226634, "question_id": 56878975, "link": "https://stackoverflow.com/questions/56878975/why-isnt-my-post-xmlhttprequest-send-working", "title": "Why isn&#39;t my POST XMLHttpRequest.Send working?", "body": "<p>I am having issues correctly setting up my XMLHttpRequest object to POST data to a server. The data (from an HTML form) never seems to get posted, or at least <strong>readyState</strong> == 4 &amp;&amp; <strong>status</strong> are never reached.</p>\n\n<pre><code>    function PostToAPI() {\n\n        var payersName = document.forms[\"myForm\"][\"payersName\"].value;  \n        var recipientPhoneNumber = document.forms[\"myForm\"][\"recipientPhoneNumber\"].value;\n        var apiKey = document.forms[\"myForm\"][\"apiKey\"].value;  \n\n        var params = \"payersName=\"+payersName+\n                     \"&amp;recipientPhoneNumber=\"+recipientPhoneNumber+  \n                     \"&amp;apiKey=\"+apiKey;         \n\n        alert(params);  // Note#1\n\n        var Url = \"https://api.blackShawls.af/c2b\"; // Note#2\n        var xhr = new XMLHttpRequest();\n        xhr.open('POST', Url, true);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n\n        xhr.onreadystatechange = processRequest;\n\n        function processRequest(e) {\n            if (xhr.readyState == 4 &amp;&amp; xhr.status == 200)  {\n                alert(xhr.responseText.headers.Host); // Note#3\n            }\n        }\n\n        xhr.send(params);\n\n    }\n</code></pre>\n\n<h3>Notes</h3>\n\n<ol>\n<li><p>(Note#1) This alert yields the following result:<br>\n<a href=\"https://i.stack.imgur.com/Sg5BA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sg5BA.png\" alt=\"the result shown from this alert\"></a></p>\n\n<p>This suggests that the various fields from the HTML form have been successfully read in, and that everything is working just fine to this point.</p></li>\n<li><p>(Note#2) The <strong>Url</strong> value here is fictitious, in contrast to one in my code.</p></li>\n<li><p>(Note#3) The <code>alert(xhr.responseText.headers.Host);</code> never seems to fire-up, suggesting that the <code>readyState</code> and the <code>status</code> conditions are never met.</p>\n\n<p>Or could it be that the <code>xhr.send(params)</code> is never sent?</p></li>\n</ol>\n\n<p>Can someone kindly point out where I am going wrong in my code?</p>\n\n<p>Looking forward to your help.</p>\n"}, {"tags": ["javascript", "image", "reference", "garbage-collection"], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1562201669, "creation_date": 1562201669, "answer_id": 56879472, "question_id": 56878931, "link": "https://stackoverflow.com/questions/56878931/why-isnt-the-js-image-object-garbage-collected/56879472#56879472", "title": "Why isn&#39;t the js image object garbage collected?", "body": "<p>When you assign to <code>image.src</code>, the <code>Image</code> obect is added to an internal queue of the browser for all external objects that are being loaded asynchronously. This queue prevents the object from becoming garbage immediately when the function returns. The queue is necessary just for the browser to manage the process of loading these objects -- it needs to save the objects being loaded, so it knows what to do when it gets the response from the server.</p>\n\n<p>When the image is loaded, its <code>onload</code> function is added to the event queue, and since it has a reference to the object through the <code>image</code> variable (and also the <code>this</code> context of the function, and the <code>Event</code> argument to the function), that keeps the object alive while the function is running.</p>\n\n<p>Once the <code>onload</code> function returns, the image will become garbage (since it doesn't save the value of <code>image</code> anywhere).</p>\n"}], "owner": {"reputation": 412, "user_id": 5020482, "user_type": "registered", "profile_image": "https://graph.facebook.com/982893125094841/picture?type=large", "display_name": "Enigma22134", "link": "https://stackoverflow.com/users/5020482/enigma22134"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 56879472, "answer_count": 1, "score": 0, "last_activity_date": 1562201669, "creation_date": 1562195466, "question_id": 56878931, "link": "https://stackoverflow.com/questions/56878931/why-isnt-the-js-image-object-garbage-collected", "title": "Why isn&#39;t the js image object garbage collected?", "body": "<p>I'm coming from a c++ background and learning javascript. The Mozilla tutorials on webgl have code similar to below (actual code and link at bottom). I am trying to understand why the code in the \"onload\" callback function will always be executed. It seems to me that the Image object instance should be garbage collected in the code below. So it theoretically can be garbage collected before the load completes and calls the \"onload\" callback.</p>\n\n<pre><code>function foo()\n{\n  image = new Image();\n\n  image.onload = function()\n  {\n     /*stuff to do when image gets done loading */\n    Console.log(image.width);\n  }\n\n  image.src = url;\n}\n</code></pre>\n\n<p>The only idea I have is that the function that uses \"image.width\" -- the function object must be keeping the image instance in memory. But that would be a circle reference because that function only exists on the image object itself; the function object's only reference AFAIK is its onload callback property. So the circular reference (image->onload->function->image->...) should be garbage collected.</p>\n\n<p>It seems I am do not understand something, or there is a race condition between the image loading and when it is garbage collected.</p>\n\n<p>JS Reference showing circular reference islands no longer reachable should be garbage collected. <a href=\"https://javascript.info/garbage-collection\" rel=\"nofollow noreferrer\">https://javascript.info/garbage-collection</a></p>\n\n<p>Tutorials Link:\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/Tutorial/Using_textures_in_WebGL\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/Tutorial/Using_textures_in_WebGL</a></p>\n\n<pre><code>function loadTexture(gl, url) {\n  const texture = gl.createTexture();\n  gl.bindTexture(gl.TEXTURE_2D, texture);\n\n  // Put a single pixel in the texture until it loads\n  const level = 0;  const internalFormat = gl.RGBA;  const width = 1;  const height = 1;  const border = 0;  const srcFormat = gl.RGBA;  const srcType = gl.UNSIGNED_BYTE;  const pixel = new Uint8Array([0, 0, 255, 255]);  // opaque blue\n  gl.texImage2D(gl.TEXTURE_2D, level, internalFormat,width, height, border, srcFormat, srcType, pixel);\n\n  const image = new Image();\n\n  image.onload = function() {\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texImage2D(gl.TEXTURE_2D, level, internalFormat,srcFormat, srcType, image);\n\n    // WebGL1 has different requirements for power of 2 images vs non power of 2 images so check if the image is a power of 2 in both dimensions.\n    if (isPowerOf2(image.width) &amp;&amp; isPowerOf2(image.height)) {\n       gl.generateMipmap(gl.TEXTURE_2D); // Yes, it's a power of 2. Generate mips.\n    } else {\n       // No, it's not a power of 2. Turn off mips and set wrapping to clamp to edge\n       gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n       gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n       gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n    }\n  };\n  image.src = url;\n\n  return texture;\n}\n\n//irrelevant, but including for completeness\nfunction isPowerOf2(value)\n{\n    return (value &amp; (value - 1)) == 0\n}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "react-native"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7650349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12504d45d5b80b1e58fe8520e813eda4?s=128&d=identicon&r=PG&f=1", "display_name": "LaCoder", "link": "https://stackoverflow.com/users/7650349/lacoder"}, "edited": false, "score": 0, "creation_date": 1562603693, "post_id": 56878948, "comment_id": 100418551, "body": "Apologies but how would I capture &#39;\\\\n&#39; to turn it into &#39;\\n&#39; ?                                                                                            prev:                                                                                  newComponent.properties.children = newValue.split(&#39;\\\\n&#39;).join(&#39;\\n&#39;);                                                                                              now:                                               newComponent.properties.Text = newValue;               newComponent.properties.children = newValue.replace(/[^\\&#93;\\\\n/g, &quot;\\n&quot;);"}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "reply_to_user": {"reputation": 21, "user_id": 7650349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12504d45d5b80b1e58fe8520e813eda4?s=128&d=identicon&r=PG&f=1", "display_name": "LaCoder", "link": "https://stackoverflow.com/users/7650349/lacoder"}, "edited": false, "score": 0, "creation_date": 1562621444, "post_id": 56878948, "comment_id": 100425600, "body": "So what do you want @LaCoder? Capture <code>\\\\n</code>, then turn it into a newline, or the <i>literal</i> <code>\\n</code>?"}, {"owner": {"reputation": 21, "user_id": 7650349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12504d45d5b80b1e58fe8520e813eda4?s=128&d=identicon&r=PG&f=1", "display_name": "LaCoder", "link": "https://stackoverflow.com/users/7650349/lacoder"}, "edited": false, "score": 0, "creation_date": 1562621718, "post_id": 56878948, "comment_id": 100425676, "body": "Essentially I&#39;d like to write a js function that has a regex where \\n makes a newline, \\\\n displays a literal \\n, \\\\\\n displays \\\\n, so the case would be that if you type \\n it makes a newline, if you type two or more \\\\ before the n, it displays one less \\ before the n. \\\\\\n -&gt; \\\\n \\\\\\\\n -&gt; \\\\\\n So I know newValue.search(/[^\\&#93;\\\\n/g matches \\n and newValue.search(/[\\&#93;\\\\n/g) matches two or more slashes before the n. But how can I parse the string to apply my rules. If you have any guidance to point me to, I&#39;d appreciate it."}, {"owner": {"reputation": 21, "user_id": 7650349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12504d45d5b80b1e58fe8520e813eda4?s=128&d=identicon&r=PG&f=1", "display_name": "LaCoder", "link": "https://stackoverflow.com/users/7650349/lacoder"}, "edited": false, "score": 0, "creation_date": 1562622877, "post_id": 56878948, "comment_id": 100426008, "body": "Actually this (search(/[&#93;\\\\n/g) matches two or more slashes before the n) doesn&#39;t work, still need to figure that out"}, {"owner": {"reputation": 21, "user_id": 7650349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12504d45d5b80b1e58fe8520e813eda4?s=128&d=identicon&r=PG&f=1", "display_name": "LaCoder", "link": "https://stackoverflow.com/users/7650349/lacoder"}, "edited": false, "score": 0, "creation_date": 1562623649, "post_id": 56878948, "comment_id": 100426195, "body": "var reg = new RegExp(/\\\\{2,}n/g); This matches two or more slashes followed by an n. My question is, how can I take the string ab\\ncd\\\\nef\\\\\\ng and render it as ab \u21b5 cd \\n ef \\\\ng"}], "tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": false, "score": 3, "last_activity_date": 1562195672, "creation_date": 1562195672, "answer_id": 56878948, "question_id": 56878927, "link": "https://stackoverflow.com/questions/56878927/text-component-react-native-how-to-escape-newline-but-allow-n-to-display-by-e/56878948#56878948", "title": "Text component react-native - how to escape newline but allow /n to display by escaping it as //n", "body": "<p>Just <code>replace</code> that with a regex:</p>\n\n<pre><code>newValue.replace(/[^\\\\]\\\\n/g, \"\\n\");\n</code></pre>\n\n<p>This works by <em>not</em> matching a single backslash, then matching a literal <code>\\n</code> (as in, a backslash and an <code>n</code>, not a newline character), and replacing it with a newline.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 7650349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12504d45d5b80b1e58fe8520e813eda4?s=128&d=identicon&r=PG&f=1", "display_name": "LaCoder", "link": "https://stackoverflow.com/users/7650349/lacoder"}, "is_accepted": false, "score": 0, "last_activity_date": 1562629931, "creation_date": 1562629931, "answer_id": 56943775, "question_id": 56878927, "link": "https://stackoverflow.com/questions/56878927/text-component-react-native-how-to-escape-newline-but-allow-n-to-display-by-e/56943775#56943775", "title": "Text component react-native - how to escape newline but allow /n to display by escaping it as //n", "body": "<p>I believe I figured it out. This turns \\n into newlines and reduces all strings of 2 or more slashes followed by an n to one less slash. I know this is a very specific spec but thought I'd share how I got it to work. Thanks for your help getting me unstuck on the regex!</p>\n\n<p>Now I just have to figure out the syntax to get this working on the front end. </p>\n\n<pre><code>const textCustomSetter = (newValue, newComponent) =&gt; {\n    newComponent.properties.Text = newValue;\n    //split on one or more slashes before an n, keep the delimiter\n    var arr = newValue.split(/(\\\\{1,}n)/g);\n    for (var i = 0; i &lt; arr.length; i++) {\n      if (arr[i] == \"\\\\n\") {\n      //address the newline\n        arr[i] = \"\\n\";\n      }\n      //everything else, gets one slash reduced \n      if (arr[i].match(/\\\\{2,}n/g)){\n        arr[i] = arr[i].substr(1);\n      }\n    }\n    newComponent.properties.children = arr;\n};\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 7650349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12504d45d5b80b1e58fe8520e813eda4?s=128&d=identicon&r=PG&f=1", "display_name": "LaCoder", "link": "https://stackoverflow.com/users/7650349/lacoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 616, "favorite_count": 0, "protected_date": 1562630123, "answer_count": 2, "score": 2, "last_activity_date": 1562629931, "creation_date": 1562195422, "last_edit_date": 1562199425, "question_id": 56878927, "link": "https://stackoverflow.com/questions/56878927/text-component-react-native-how-to-escape-newline-but-allow-n-to-display-by-e", "title": "Text component react-native - how to escape newline but allow /n to display by escaping it as //n", "body": "<p>I'm working on a Text react-native component to make a label for my app. I would like to be able to turn all <code>\\n</code> into an actual line break but be able to display <code>\\n</code> in my Text component if I escape it like this: <code>\\\\n</code></p>\n\n<p>I've tried many things but I can't seem to get it to work, including replace, replaceAll, with attempted escape configurations\ncurrent code snippet:</p>\n\n<pre><code>const textCustomSetter = (newValue, newComponent) =&gt; {\n    newComponent.properties.Text = newValue;\n    newComponent.properties.children = newValue.split('\\\\n').join('\\n');\n};\n</code></pre>\n\n<p>where textCustomSetter is a design and runtime setter property of my Text component.</p>\n\n<p>This correctly captures <code>\\n</code> and turns it into line break, but turns <code>\\\\n</code> into <code>\\</code> followed by a line break.</p>\n"}, {"tags": ["javascript", "firebase", "vue.js", "firebase-realtime-database", "vuex"], "comments": [{"owner": {"reputation": 78904, "user_id": 46914, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d47d0397605e4b9cab9fd8fce027e3b5?s=128&d=identicon&r=PG", "display_name": "Soviut", "link": "https://stackoverflow.com/users/46914/soviut"}, "edited": false, "score": 0, "creation_date": 1562195710, "post_id": 56878908, "comment_id": 100306384, "body": "What result are you getting? Any errors in the browser console? What does the network console show in terms of the requests? What does the Vue plugin for chrome show in the Vuex tab?"}, {"owner": {"reputation": 78904, "user_id": 46914, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d47d0397605e4b9cab9fd8fce027e3b5?s=128&d=identicon&r=PG", "display_name": "Soviut", "link": "https://stackoverflow.com/users/46914/soviut"}, "edited": false, "score": 0, "creation_date": 1562195738, "post_id": 56878908, "comment_id": 100306389, "body": "Also, can you show how you&#39;ve mapped the actions?"}, {"owner": {"reputation": 45, "user_id": 6810342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/031cd64cb8e05570fe9121a7a88b7169?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/6810342/joshua"}, "reply_to_user": {"reputation": 78904, "user_id": 46914, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d47d0397605e4b9cab9fd8fce027e3b5?s=128&d=identicon&r=PG", "display_name": "Soviut", "link": "https://stackoverflow.com/users/46914/soviut"}, "edited": false, "score": 0, "creation_date": 1562195999, "post_id": 56878908, "comment_id": 100306449, "body": "Apologies, I should have included more info initially. The error I get is one from Firebase, however it is related to the fact that the variable I&#39;m passing as the ID of the document is undefined, even though I&#39;ve just set it using the initial action. In terms of how I&#39;m mapping the actions, I&#39;m utilising Vue&#39;s mapActions method and then calling them as above in the created() hook."}, {"owner": {"reputation": 2933, "user_id": 11204469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b1be34bb82f28e14b12665d4b5df53?s=128&d=identicon&r=PG&f=1", "display_name": "Estradiaz", "link": "https://stackoverflow.com/users/11204469/estradiaz"}, "edited": false, "score": 0, "creation_date": 1562196091, "post_id": 56878908, "comment_id": 100306470, "body": "fetchcreds returns undefined - nothing to await to resolve"}, {"owner": {"reputation": 45, "user_id": 6810342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/031cd64cb8e05570fe9121a7a88b7169?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/6810342/joshua"}, "reply_to_user": {"reputation": 2933, "user_id": 11204469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b1be34bb82f28e14b12665d4b5df53?s=128&d=identicon&r=PG&f=1", "display_name": "Estradiaz", "link": "https://stackoverflow.com/users/11204469/estradiaz"}, "edited": false, "score": 0, "creation_date": 1562196266, "post_id": 56878908, "comment_id": 100306510, "body": "@Estradiaz So if I simply return something underneath the try catch statement, the call will work as expected?"}, {"owner": {"reputation": 2933, "user_id": 11204469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b1be34bb82f28e14b12665d4b5df53?s=128&d=identicon&r=PG&f=1", "display_name": "Estradiaz", "link": "https://stackoverflow.com/users/11204469/estradiaz"}, "edited": false, "score": 0, "creation_date": 1562196395, "post_id": 56878908, "comment_id": 100306525, "body": "Yes - return an awaitable promise - eg  return new promise ... resolve(commit  ..."}, {"owner": {"reputation": 45, "user_id": 6810342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/031cd64cb8e05570fe9121a7a88b7169?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/6810342/joshua"}, "edited": false, "score": 0, "creation_date": 1562196723, "post_id": 56878908, "comment_id": 100306592, "body": "If the method declaration is set to async already, won&#39;t it wrap whatever I return in a promise anyway? If my understanding is correct, which it may not be and probably isn&#39;t, the return statement under the try catch will only be executed after all of the above data from Firebase has loaded, so if I were to return &#39;1&#39; would that suffice?"}], "answers": [{"tags": [], "owner": {"reputation": 2933, "user_id": 11204469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b1be34bb82f28e14b12665d4b5df53?s=128&d=identicon&r=PG&f=1", "display_name": "Estradiaz", "link": "https://stackoverflow.com/users/11204469/estradiaz"}, "is_accepted": false, "score": 2, "last_activity_date": 1562197651, "last_edit_date": 1562197651, "creation_date": 1562197266, "answer_id": 56879105, "question_id": 56878908, "link": "https://stackoverflow.com/questions/56878908/firing-vuex-actions-asynchronously-and-sequentially-what-am-i-not-understandin/56879105#56879105", "title": "Firing Vuex actions asynchronously and sequentially - what am I not understanding?", "body": "<p>To make it short</p>\n\n<pre><code>fetchCreds({ commit }) {\n    return new Promise((resolve, reject) =&gt; {\n    try {\n        firebase.auth().onAuthStateChanged(async function(user) {\n            const { uid } = user\n            const userDoc = await users.doc(uid).get()\n\n            commit('SET_USER', userDoc.data())\n            resolve()\n        })\n    } catch (error) {\n        console.log(error)\n        commit('SET_USER', {})\n        resolve()\n    }}\n}\n</code></pre>\n\n<hr>\n\n<pre><code>async () =&gt; undefined // returns Promise&lt;undefined&gt; -&gt; undefined resolves immediatly\n\nasnyc () =&gt; func(cb) // returns Promise&lt;any&gt; resolves before callback got called\n\n() =&gt; new Promise(resolve =&gt; func(() =&gt; resolve())) // resolves after callback got called \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 45, "user_id": 6810342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/031cd64cb8e05570fe9121a7a88b7169?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/6810342/joshua"}, "edited": false, "score": 0, "creation_date": 1562270661, "post_id": 56884386, "comment_id": 100333775, "body": "Thank you very, very much for your detailed answer, it&#39;s really helped me understand things clearer and I appreciate you taking the time to go into so much depth. One question I do have though, is that if the obj.method() call was asynchronous and we did await the callback function within it, would that ensure that the outer async function (myFn) never resolves before the inner one has finished? Also, if in the async myFn function you&#39;re not returning anything, does that mean it&#39;ll resolve immediately and as undefined? Or have I misunderstood?"}, {"owner": {"reputation": 21818, "user_id": 8583563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U42av.png?s=128&g=1", "display_name": "skirtle", "link": "https://stackoverflow.com/users/8583563/skirtle"}, "reply_to_user": {"reputation": 45, "user_id": 6810342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/031cd64cb8e05570fe9121a7a88b7169?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/6810342/joshua"}, "edited": false, "score": 0, "creation_date": 1562318335, "post_id": 56884386, "comment_id": 100345443, "body": "@Joshua I&#39;ve added a new section to the end to address your questions. I suggest playing around with some simple examples yourself to help refine your understanding. Then read the MDN introductions to Promises and <code>async</code>/<code>await</code>. Even if you&#39;ve read them before, read them again. It takes a few iterations before it sinks in."}, {"owner": {"reputation": 45, "user_id": 6810342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/031cd64cb8e05570fe9121a7a88b7169?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/6810342/joshua"}, "edited": false, "score": 0, "creation_date": 1562345191, "post_id": 56884386, "comment_id": 100358093, "body": "Thank you. That clears things up quite a bit. I think I still need to spend a few hours getting to grips with it, but as you say, fiddling with the code should help with that. Thanks again for the in-depth answer. I really appreciate it."}], "tags": [], "owner": {"reputation": 21818, "user_id": 8583563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U42av.png?s=128&g=1", "display_name": "skirtle", "link": "https://stackoverflow.com/users/8583563/skirtle"}, "is_accepted": true, "score": 2, "last_activity_date": 1562317992, "last_edit_date": 1562317992, "creation_date": 1562231177, "answer_id": 56884386, "question_id": 56878908, "link": "https://stackoverflow.com/questions/56878908/firing-vuex-actions-asynchronously-and-sequentially-what-am-i-not-understandin/56884386#56884386", "title": "Firing Vuex actions asynchronously and sequentially - what am I not understanding?", "body": "<p>I'm not particularly familiar with Firebase but after a bit of digging through the source code I think I can shed a little light on your problems.</p>\n\n<p>Firstly, consider the following example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>async function myFn (obj) {\n  obj.method(function () {\n    console.log('here 1')\n  })\n\n  console.log('here 2')\n}\n\nawait myFn(x)\nconsole.log('here 3')\n</code></pre>\n\n<p>Question: What order will you see the log messages?</p>\n\n<p>Well <code>here 2</code> will definitely come before <code>here 3</code> but it's impossible to tell from the code above when <code>here 1</code> will show up. It depends on what <code>obj.method</code> does with the function it's been passed. It might never call it at all. It might call it synchronously (e.g. Array's <code>forEach</code> method), in which case <code>here 1</code> will appear before the other messages. If it's asynchronous (e.g. timers, server calls) then <code>here 1</code> may not show up for some time, long after <code>here 3</code>.</p>\n\n<p>The <code>async</code> modifier will implicitly return a Promise from the function if it doesn't return a Promise itself. The resolved value of that Promise will be the value returned from the function and <strong>the Promise will resolve at the point the function returns</strong>. For a function without a <code>return</code> at the end that's equivalent to it finishing with <code>return undefined</code>.</p>\n\n<p>So, to stress the key point, the Promise returned by an async function will only wait until that function returns.</p>\n\n<p>The method <code>onAuthStateChanged</code> calls its callback asynchronously, so the code in that callback won't run until after the surrounding function has completed. There's nothing to tell the implicitly returned Promise to wait for that callback to be invoked. The <code>await</code> inside the callback is irrelevant as that function hasn't even been called yet.</p>\n\n<p>Firebase makes extensive use of Promises, so typically the solution would just be to <code>return</code> or <code>await</code> the relevant Promise:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// Note: This WON'T work, explanation follows\nreturn firebase.auth().onAuthStateChanged(async function(user) {\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>// Note: This WON'T work, explanation follows\nawait firebase.auth().onAuthStateChanged(async function(user) {\n</code></pre>\n\n<p>This won't work here because <code>onAuthStateChanged</code> doesn't actually return a Promise, it returns an <code>unsubscribe</code> function.</p>\n\n<p>You could, of course, create a new Promise yourself and 'fix' it that way. However, creating new Promises using <code>new Promise</code> is generally considered a code smell. Typically it's only necessary when wrapping code that doesn't support Promises properly. If we're working with a library that has proper Promise support (as we are here) then we shouldn't need to create any Promises.</p>\n\n<p>So why doesn't <code>onAuthStateChanged</code> return a Promise?</p>\n\n<p>Because it's a way of watching all sign-in/sign-out events. Every time the user signs in or signs out it'll call the callback. It isn't intended as a way to watch a particular sign-in. A Promise can only be resolved once, to a single value. So while a single sign-in event could be modelled with a Promise it's meaningless when watching all sign-in/sign-out events.</p>\n\n<p>So <code>fetchCreds</code> is registering to be notified about all sign-in/sign-out events. It doesn't do anything with the returned <code>unsubscribe</code> function, so presumably it'll be listening to all such events until the page is reloaded. If you call <code>fetchCreds</code> multiple times it'll keep adding more and more listeners.</p>\n\n<p>If you're waiting for a user to finish signing in then I suggest waiting for that directly instead. <code>firebase.auth()</code> has various methods starting with the prefix <code>signIn</code>, e.g. <code>signInWithEmailAndPassword</code>, and these do return a Promise that resolves when the user has finished signing in. The resolved value provides access to various information, including the user. I don't know which method you're using but the idea is much the same for all of them.</p>\n\n<p>However, it might be that you're really just interested in grabbing the details of the current user. If that's all you want then you don't need to use <code>onAuthStateChanged</code> at all. You should just be able to grab a copy using the <code>currentUser</code> property. Something like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>async fetchCreds({ commit }) {\n   try {\n      const { uid } = firebase.auth().currentUser\n      const userDoc = await users.doc(uid).get()\n\n      commit('SET_USER', userDoc.data())\n   } catch (error) {\n      console.log(error)\n      commit('SET_USER', {})\n   }\n}\n</code></pre>\n\n<p>As I've already mentioned, this relies on the assumption that the user is already signed in. If that isn't a safe assumption then you might want to consider waiting until after sign in has completed before creating components that need user credentials.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>Questions from the comments:</p>\n\n<blockquote>\n  <p>If the obj.method() call was asynchronous and we did await the callback function within it, would that ensure that the outer async function (myFn) never resolves before the inner one has finished?</p>\n</blockquote>\n\n<p>I'm not entirely sure what you're asking here.</p>\n\n<p>Just to be clear, I'm being very careful with my use of the words <code>async</code> and <em>asynchronous</em>. A function such as <code>setTimeout</code> would be considered <em>asynchronous</em> but it is not <code>async</code>.</p>\n\n<p><code>async</code>/<code>await</code> is just a lot of syntactic sugar around Promises. You don't really wait for a function, you wait for a Promise. When we talk about awaiting an <code>async</code> function we're really talking about waiting for the Promise it returns to resolve.</p>\n\n<p>So when you say <em>await the callback function</em> it's not really clear what that means. Which Promise are you trying to <code>await</code>?</p>\n\n<p>Putting the <code>async</code> modifier on a function doesn't make it magically wait for things. It will only wait when it encounters <code>await</code>. You can still have other asynchronous calls within an <code>async</code> function and, just like with a normal function, these calls will be performed after the function has returned. The only way to 'pause' is to <code>await</code> a Promise.</p>\n\n<p>Putting an <code>await</code> inside another function, even a nested function, won't make any difference to whether the outer function waits unless the outer function is already waiting for the inner function. Behind the scenes this is all just Promises chaining <code>then</code> calls. Whenever you write <code>await</code> you're just adding another <code>then</code> call to a Promise. However, that won't have the desired effect unless that Promise is in the same chain as the Promise returned by the outer <code>async</code> function. It only needs one link to be missing for the chain to fail.</p>\n\n<p>So modifying my earlier example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>async function myFn (obj) {\n  await obj.method(async function () {\n    await somePromise\n\n    // ...\n  })\n\n  // ...\n}\n\nawait myFn(x)\n</code></pre>\n\n<p>Note that there are 3 functions here: <code>myFn</code>, <code>method</code> and the callback passed to <code>method</code>. The question is, will <code>await myFn(x)</code> wait for <code>somePromise</code>?</p>\n\n<p>From the code above we can't actually tell. It would depend on what <code>method</code> does internally. For example, if <code>method</code> looked like this then it still wouldn't work:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function method (callback) {\n  setTimeout(callback, 1000)\n}\n</code></pre>\n\n<p>Putting <code>async</code> on <code>method</code> won't help, that'll just make it return a Promise but the Promise still won't be waiting for the timer to fire.</p>\n\n<p>Our Promise chain has a broken link. <code>myFn</code> and the callback are both creating their parts of the chain but unless <code>method</code> links those Promises together it won't work.</p>\n\n<p>On the other hand, if <code>method</code> is written to return a suitable Promise that waits for the callback to complete then we will get our target behaviour:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function method (callback) {\n  return someServerCallThatReturnsAPromise().then(callback)\n}\n</code></pre>\n\n<p>We could have used <code>async</code>/<code>await</code> here instead but there was no need as we can just return the Promise directly.</p>\n\n<blockquote>\n  <p>Also, if in the async myFn function you're not returning anything, does that mean it'll resolve immediately and as undefined?</p>\n</blockquote>\n\n<p>The term <em>immediately</em> is not well-defined here.</p>\n\n<ol>\n<li>If a function isn't returning anything at the end then it's equivalent to having <code>return undefined</code> at the end.</li>\n<li>The Promise returned by an <code>async</code> function will resolve at the point the function returns.</li>\n<li>The resolved value for the Promise will be the value returned.</li>\n</ol>\n\n<p>So if you aren't returning anything it will resolve to <code>undefined</code>. Resolving won't happen until the end of the function is reached. If the function doesn't contain any <code>await</code> calls then this will happen 'immediately' in the same sense as a synchronous function returning 'immediately'.</p>\n\n<p>However, <code>await</code> is just syntactic sugar around a <code>then</code> call, and <code>then</code> calls are always asynchronous. So while the Promise might <em>resolve</em> 'immediately' the <code>await</code> still has to wait. It's a very short wait, but it isn't synchronous and other code may get the opportunity to run in the meantime.</p>\n\n<p>Consider the following:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const myFn = async function () {\n  console.log('here 3')\n}\n\nconsole.log('here 1')\n\nPromise.resolve('hi').then(() =&gt; {\n  console.log('here 4')\n})\n\nconsole.log('here 2')\n\nawait myFn()\n\nconsole.log('here 5')\n</code></pre>\n\n<p>The log messages will appear in the order they're numbered. So even though <code>myFn</code> resolves 'immediately' you'll still get <code>here 4</code> jumping in between <code>here 3</code> and <code>here 5</code>.</p>\n"}], "owner": {"reputation": 45, "user_id": 6810342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/031cd64cb8e05570fe9121a7a88b7169?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/6810342/joshua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 468, "favorite_count": 0, "accepted_answer_id": 56884386, "answer_count": 2, "score": 1, "last_activity_date": 1562317992, "creation_date": 1562195244, "question_id": 56878908, "link": "https://stackoverflow.com/questions/56878908/firing-vuex-actions-asynchronously-and-sequentially-what-am-i-not-understandin", "title": "Firing Vuex actions asynchronously and sequentially - what am I not understanding?", "body": "<p>I have a Vuex store and I am trying to fetch data from the Firebase Realtime Database. I am initially fetching the user information, however afterwards I would like to fetch some other information that relies upon the initial data fetched.</p>\n\n<p>As you can see from the code, I am trying to do this using async / await, however whenever firing the two actions in my <code>created()</code> hook, the user's information isn't initialised, and therefore the second action fails.</p>\n\n<p><strong>My user store</strong></p>\n\n<pre><code>    async fetchCreds({ commit }) {\n        try {\n            firebase.auth().onAuthStateChanged(async function(user) {\n                const { uid } = user\n                const userDoc = await users.doc(uid).get()\n\n                return commit('SET_USER', userDoc.data())\n            })\n        } catch (error) {\n            console.log(error)\n            commit('SET_USER', {})\n        }\n    }\n</code></pre>\n\n<p><strong>My club action which relies upon the above call</strong></p>\n\n<pre><code>    async fetchClubInformation({ commit, rootState }) {\n        try {\n            const clubIDForLoggedInUser = rootState.user.clubId\n            const clubDoc = await clubs.doc(clubIDForLoggedInUser).get()\n\n            return commit('SET_CLUB_INFO', clubDoc.data())\n        } catch (error) {\n            console.log(error)\n        }\n    }\n}\n</code></pre>\n\n<p><strong>The methods being called within my component's created() method.</strong></p>\n\n<pre><code>  created: async function() {\n        await this.fetchCreds();\n        await this.fetchClubInformation();\n        this.loading = false;\n  }\n</code></pre>\n\n<p>I have a feeling I'm fundamentally misunderstanding async / await, but I can't understand what in the code is incorrect - any help or advice would be greatly appreciated.</p>\n"}, {"tags": ["javascript", "node.js", "floating-point", "int"], "answers": [{"tags": [], "owner": {"reputation": 614, "user_id": 7918809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/721252dc742d798460f9bfdeb3be1f34?s=128&d=identicon&r=PG&f=1", "display_name": "Jerome", "link": "https://stackoverflow.com/users/7918809/jerome"}, "is_accepted": false, "score": -1, "last_activity_date": 1562194990, "creation_date": 1562194990, "answer_id": 56878883, "question_id": 56878864, "link": "https://stackoverflow.com/questions/56878864/how-can-i-round-a-number-in-js/56878883#56878883", "title": "How can I round a number in js", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var number = 1.7976;\r\nvar rounded = Math.round( number * 10 ) / 10;\r\nconsole.log(rounded);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 143, "user_id": 6637384, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FGHDV.png?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/6637384/bryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "closed_date": 1562194980, "answer_count": 1, "score": 1, "last_activity_date": 1562195004, "creation_date": 1562194858, "question_id": 56878864, "link": "https://stackoverflow.com/questions/56878864/how-can-i-round-a-number-in-js", "closed_reason": "Duplicate", "title": "How can I round a number in js", "body": "<p>I want to round 1.7976 to 1.8. I've tried Math.round() and Math.float() but both give me 2 instead of what I want.</p>\n"}, {"tags": ["javascript", "html", "jsp"], "answers": [{"tags": [], "owner": {"reputation": 3302, "user_id": 3709257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nji1x.jpg?s=128&g=1", "display_name": "GramThanos", "link": "https://stackoverflow.com/users/3709257/gramthanos"}, "is_accepted": true, "score": 1, "last_activity_date": 1562326499, "last_edit_date": 1562326499, "creation_date": 1562197238, "answer_id": 56879101, "question_id": 56878861, "link": "https://stackoverflow.com/questions/56878861/cant-get-jsp-file-to-work-correctly-wont-do-what-is-scripted/56879101#56879101", "title": "Cant get jsp file to work correctly, wont do what is scripted", "body": "<p>Your jsp code seems to have some mistakes.</p>\n\n<p>For example, the <code>if(site == \"google\")</code> compares the undefined JavaScript variable <code>site</code> with the string \"google\". I think you want <code>if(\"&lt;%= site %&gt;\" == \"google\")</code>, meaning that you will print the jsp variable <code>site</code> inside quotes, thus the resulted JavaScript code will be a string comparison with a string.</p>\n\n<p>There is a similar mistake on <code>window.open(\"https://google.com/search?q=\"+&lt;%= search %&gt;, \"_blank\");</code>. For example, if you send the query <code>hello world</code>, your jsp will produce the code <code>window.open(\"https://google.com/search?q=\"+hello world, \"_blank\");</code> which is invalid JavaScript code. Thus, you need to wrap the jsp <code>search</code> variable in quotes, like that <code>window.open(\"https://google.com/search?q=\" + \"&lt;%= search %&gt;\", \"_blank\");</code> or even better also encode the string since it will be used on a URL <code>window.open(\"https://google.com/search?q=\"+encodeURIComponent(\"&lt;%= search %&gt;\"), \"_blank\");</code></p>\n\n<p>With all that being said, there is no point using a back-end just to throw the work back to the JavaScript. Right now your back-end is only echoing the form data back to the JavaScript.</p>\n\n<p>Also, raw printing string variables and passing them to the JavaScript allows Cross-Site Scripting (XSS) if not done right (safe printing). For example in your case, an attacker may search for <code>\" + alert('xss') + \"</code> and your jsp will print the code <code>window.open(\"https://google.com/search?q=\"+encodeURIComponent(\"\" + alert('xss') + \"\"), \"_blank\");</code> which will be eventually be executed at the client.</p>\n\n<p>Some more things to consider, on your form action, always define the URL with the protocol, unless it is a relative path (to avoid confusion and future bugs). So, do not use <code>&lt;form action=\"192.168.2.127:8080/main/search.jsp\" method=\"POST\"&gt;</code> use <code>&lt;form action=\"http://192.168.2.127:8080/main/search.jsp\" method=\"POST\"&gt;</code>.</p>\n\n<p>And please, don't use <code>center</code>, it is 2019 :P.</p>\n"}], "owner": {"reputation": 15, "user_id": 11736757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0153e4a94e016be73cdff0007045ce9?s=128&d=identicon&r=PG&f=1", "display_name": "Guinea", "link": "https://stackoverflow.com/users/11736757/guinea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 56879101, "answer_count": 1, "score": 1, "last_activity_date": 1562326499, "creation_date": 1562194803, "last_edit_date": 1562195619, "question_id": 56878861, "link": "https://stackoverflow.com/questions/56878861/cant-get-jsp-file-to-work-correctly-wont-do-what-is-scripted", "title": "Cant get jsp file to work correctly, wont do what is scripted", "body": "<p>I am trying to make a simple \"multi search engine\" page and I am already having issues with some of my code. So far I've only coded in google, however it doesn't work, and I am wondering why, as all the code seems to be correct. It wont redirect at all, just gives me a blank page. I am running the jsp file on a tomcat server (port 8080). Hopefully someone can find what I did wrong, thanks.</p>\n\n<p>Here is the HTML for the main page:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Multi Search Engine Test&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;center&gt;\n            &lt;h1&gt;Search test&lt;/h3&gt;\n        &lt;/center&gt;\n        &lt;br&gt;\n        &lt;br&gt;\n        &lt;center&gt;\n            &lt;form action=\"192.168.2.127:8080/main/search.jsp\" method=\"POST\"&gt;\n                &lt;input type=\"text\" id=\"search\" name=\"Search\" /&gt;\n                &lt;select name=\"site\"&gt;\n                    &lt;option value=\"google\"&gt;Google&lt;/option&gt;\n                    &lt;option value=\"yahoo\"&gt;Yahoo&lt;/option&gt;\n                    &lt;option value=\"bing\"&gt;Bing&lt;/option&gt;\n                    &lt;option value=\"youtube\"&gt;Youtube&lt;/option&gt;\n                    &lt;option value=\"reddit\"&gt;Reddit&lt;/option&gt;\n                    &lt;option value=\"amazon\"&gt;Amazon&lt;/option&gt;\n                    &lt;option value=\"ebay\"&gt;Ebay&lt;/option&gt;\n                &lt;/select&gt; \n                &lt;input type=\"submit\" value=\"Search\" /&gt;\n            &lt;/form&gt;\n        &lt;/center&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>And here is the code for the jsp file:</p>\n\n<pre><code>&lt;% \nString search=(String)request.getAttribute(\"search\");\nString site=(String)request.getAttribute(\"site\");\n%&gt;\n&lt;script&gt;\n    if(site == \"google\")\n    {\n        window.open(\"https://google.com/search?q=\"+&lt;%= search %&gt;, \"_blank\");\n    }\n    else\n    {\n        window.open(\"http://192.168.2.127/error.html\");\n    }\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "ecmascript-6", "fs"], "answers": [{"tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": false, "score": 1, "last_activity_date": 1562194936, "creation_date": 1562194936, "answer_id": 56878874, "question_id": 56878846, "link": "https://stackoverflow.com/questions/56878846/how-to-fix-undefined-array-when-reading-a-file-into-an-array-with-readfile/56878874#56878874", "title": "How to fix &quot;undefined&quot; array when reading a file into an array with readFile", "body": "<p>It'd be a lot easier to use <code>readFileSync</code> because the <code>Sync</code> in the name indicates that it is a synchronous operation:</p>\n\n<pre><code>function parseFileList(fileToRead) [\n  const textByLine = fs.readFileSync(fileToRead, \"utf8\").split(\"\\n\").slice(0, -1);\n  return textByLine;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 1, "creation_date": 1562195819, "post_id": 56878893, "comment_id": 100306407, "body": "You&#39;d need to put that <code>let data = await</code> inside an <code>async</code> function, and doing that with <code>let</code> means it won&#39;t be accessible outside the function."}, {"owner": {"reputation": 221, "user_id": 4518930, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/656052311/picture?type=large", "display_name": "Adil Liaqat", "link": "https://stackoverflow.com/users/4518930/adil-liaqat"}, "reply_to_user": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1562196553, "post_id": 56878893, "comment_id": 100306562, "body": "Thanks, removed await function."}], "tags": [], "owner": {"reputation": 221, "user_id": 4518930, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/656052311/picture?type=large", "display_name": "Adil Liaqat", "link": "https://stackoverflow.com/users/4518930/adil-liaqat"}, "is_accepted": true, "score": 0, "last_activity_date": 1562196924, "last_edit_date": 1562196924, "creation_date": 1562195059, "answer_id": 56878893, "question_id": 56878846, "link": "https://stackoverflow.com/questions/56878846/how-to-fix-undefined-array-when-reading-a-file-into-an-array-with-readfile/56878893#56878893", "title": "How to fix &quot;undefined&quot; array when reading a file into an array with readFile", "body": "<p>That's because you are getting a response in callback. if you want to make this function work, you have to convert it into a Promise:</p>\n\n<pre><code>function parseFileList(fileToRead){\n    return new Promise((resolve, reject) =&gt; {\n     fs.readFile(fileToRead, 'utf8', (err, data) =&gt; {\n        if (err) reject(err);\n        const textByLine = data.split(\"\\n\").slice(0,-1);\n        return resolve(textByLine);\n     });\n    })\n\n}\n</code></pre>\n\n<p>Now you can  use it like:</p>\n\n<pre><code>parseFileList(filename).then(data =&gt; console.log(data))\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 10302846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f972834466c1834382f9743e420abafa?s=128&d=identicon&r=PG&f=1", "display_name": "Dianne", "link": "https://stackoverflow.com/users/10302846/dianne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 56878893, "answer_count": 2, "score": 1, "last_activity_date": 1562196924, "creation_date": 1562194698, "last_edit_date": 1562195834, "question_id": 56878846, "link": "https://stackoverflow.com/questions/56878846/how-to-fix-undefined-array-when-reading-a-file-into-an-array-with-readfile", "title": "How to fix &quot;undefined&quot; array when reading a file into an array with readFile", "body": "<p>I'm trying to load a list of filenames in a text file into a js array. </p>\n\n<p>I tried using the fs module to do this and while I can successfully print the array inside the readFile function, I cannot do so if I return the array and try to print it outside.</p>\n\n<pre><code>const fs = require(\"fs\");\nfunction parseFileList(fileToRead){\n\n    fs.readFile(fileToRead, 'utf8', (err, data) =&gt; {\n        if (err) throw err;\n        const textByLine = data.split(\"\\n\").slice(0,-1);\n        return textByLine;\n    });\n}\n\nconst refList = parseFileList(argv.ref);\nconsole.log(refList);\n</code></pre>\n\n<p>The filenames in the file should output as an array of strings. But right now it just prints <code>undefined</code>. I think this has something to do with the fact that readFile is async, but I'm not sure how to resolve it.</p>\n"}, {"tags": ["javascript", "sql", "postgresql", "knex.js"], "answers": [{"tags": [], "owner": {"reputation": 1413, "user_id": 3008506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ErOCN.jpg?s=128&g=1", "display_name": "Lucas Araujo", "link": "https://stackoverflow.com/users/3008506/lucas-araujo"}, "is_accepted": false, "score": 1, "last_activity_date": 1562205780, "creation_date": 1562205780, "answer_id": 56879763, "question_id": 56878839, "link": "https://stackoverflow.com/questions/56878839/loop-insertion-into-table-using-knex/56879763#56879763", "title": "Loop insertion into table using Knex", "body": "<p>You don't need to make multiple insert queries here, you can first create the array of data, then make an insert query with that array.</p>\n\n<p>Example:</p>\n\n<pre><code>knex.select('id').from('users').then(users =&gt; {\n    const settings = []\n    users.forEach(user =&gt; {\n        settings.push({\n            value: 'style',\n            key: 1,\n            user_id: user.id\n        })\n    })\n\n    return knex('settings').insert(settings)\n})\n</code></pre>\n"}], "owner": {"reputation": 457, "user_id": 6181130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8fea24919bfef46c8cbe3b2b96e4792?s=128&d=identicon&r=PG&f=1", "display_name": "Darren rogers", "link": "https://stackoverflow.com/users/6181130/darren-rogers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1562304923, "creation_date": 1562194646, "last_edit_date": 1562304923, "question_id": 56878839, "link": "https://stackoverflow.com/questions/56878839/loop-insertion-into-table-using-knex", "title": "Loop insertion into table using Knex", "body": "<p>I have a users table</p>\n\n<pre><code> id | firstName | lastName \n---------------------------\n 2  | Dave      | Smith\n 3  | Peter     | Smith\n 4  | Steve     | Smith\n</code></pre>\n\n<p>and a settings table</p>\n\n<pre><code> id |  key    | value | user_id\n--------------------------------\n 1  | 'style' | 1     | 2\n</code></pre>\n\n<p>I want to create new rows in the settings table for each new row it should have the <code>key = 'styleId'</code>, <code>value = 1</code> and <code>user_id</code> = the current value of id in the loop</p>\n\n<pre><code> id  |  key    | value | user_id\n---------------------------------\n 101 | 'style' | 1     | 1\n 102 | 'style' | 1     | 2\n 103 | 'style' | 1     | 3\n</code></pre>\n\n<p>pseudocode</p>\n\n<pre><code>const usersIds = knex.select('id').from('users')\nfor each (id in usersIds) {\n    knex('settings').insert({\n        value: 'style',\n        key:1,\n        user_id: id\n    })\n}\n</code></pre>\n\n<p>How can I do this in knex</p>\n"}, {"tags": ["javascript", "selenium", "selenium-webdriver", "jestjs"], "answers": [{"tags": [], "owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "is_accepted": false, "score": 1, "last_activity_date": 1562197375, "creation_date": 1562197375, "answer_id": 56879111, "question_id": 56878838, "link": "https://stackoverflow.com/questions/56878838/to-check-if-element-is-not-displayed-in-webdriverjs/56879111#56879111", "title": "To check if element is not displayed in WebDriverJS", "body": "<p>From the Selenium documentation referring to <a href=\"https://seleniumhq.github.io/selenium/docs/api/javascript/module/selenium-webdriver/index_exports_WebDriver.html#findElement\" rel=\"nofollow noreferrer\"><code>findElement</code></a>:</p>\n\n<blockquote>\n  <p>This function should not be used to test whether an element is present\n  on the page. Rather, you should use <a href=\"https://seleniumhq.github.io/selenium/docs/api/javascript/module/selenium-webdriver/index_exports_WebDriver.html#findElements\" rel=\"nofollow noreferrer\">#findElements</a>:</p>\n</blockquote>\n\n<p>With this recommended solution:</p>\n\n<pre><code>driver.findElements(By.css('.element'))\n     .then(found =&gt; console.log('Element found? %s', !!found.length));\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 10660454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6p27e3B1Edw/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jJcfcnCqxd-awIrlBZFnrMU50fRg/mo/photo.jpg?sz=128", "display_name": "hrabal", "link": "https://stackoverflow.com/users/10660454/hrabal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1562242584, "creation_date": 1562194633, "last_edit_date": 1562242584, "question_id": 56878838, "link": "https://stackoverflow.com/questions/56878838/to-check-if-element-is-not-displayed-in-webdriverjs", "title": "To check if element is not displayed in WebDriverJS", "body": "<p>I want to write a test to make sure an element is not display ( I read the answer on stackoverflow, but doesn't solve my problem..)</p>\n\n<p>I tried to use try and catch to do that, but the problem is is the element is exist, it will goto the catch ,and still pass the test.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>try {\n  const element = await browser.driver.findElement(By.css(\".element\")).isDisplayed()\n  expect(element).not.toBe(ture)\n} catch (e) {\n  expect(e).toBeTruthy()\n}\n</code></pre>\n\n\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 1, "creation_date": 1562194961, "post_id": 56878834, "comment_id": 100306227, "body": "Where do you get this JSON? Fix the backend instead of fixing broken data on frontend."}, {"owner": {"reputation": 8186, "user_id": 1018804, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/abf1a1f2979b0349bc28781959347114?s=128&d=identicon&r=PG", "display_name": "rob.m", "link": "https://stackoverflow.com/users/1018804/rob-m"}, "reply_to_user": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 0, "creation_date": 1562195214, "post_id": 56878834, "comment_id": 100306286, "body": "@KoshVery I can&#39;t access the site, I am receiving an external json"}, {"owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 0, "creation_date": 1562195348, "post_id": 56878834, "comment_id": 100306312, "body": "Can you share the source link?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1562195630, "post_id": 56878834, "comment_id": 100306368, "body": "That&#39;s not JSON. It&#39;s just two numbers separated by comma."}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1562195813, "creation_date": 1562195813, "answer_id": 56878967, "question_id": 56878834, "link": "https://stackoverflow.com/questions/56878834/uncaught-syntaxerror-unexpected-token-in-json-at-position-10/56878967#56878967", "title": "Uncaught SyntaxError: Unexpected token , in JSON at position 10", "body": "<p>That's not JSON, so don't try to use <code>JSON.parse</code>. Just split it on the commas and call <code>parseFloat()</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data = [{\r\n  coordinates: [\"40.7197406, 8.563512299999957\", \"40.7272074, 8.575266499999998\"]\r\n}];\r\n\r\nvar coords = data[0].coordinates.map(s =&gt; s.split(\",\").map(n =&gt; parseFloat(n.trim())));\r\nconsole.log(coords);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 8186, "user_id": 1018804, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/abf1a1f2979b0349bc28781959347114?s=128&d=identicon&r=PG", "display_name": "rob.m", "link": "https://stackoverflow.com/users/1018804/rob-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "accepted_answer_id": 56878967, "answer_count": 1, "score": 0, "last_activity_date": 1562195813, "creation_date": 1562194587, "question_id": 56878834, "link": "https://stackoverflow.com/questions/56878834/uncaught-syntaxerror-unexpected-token-in-json-at-position-10", "title": "Uncaught SyntaxError: Unexpected token , in JSON at position 10", "body": "<p>I am getting a broken json:</p>\n\n<pre><code>Array(1), \"40.7197406, 8.563512299999957\", \"40.7272074, 8.575266499999998\", Array(1), Array(1), Array(1), Array(1), Array(1), Array(1), Array(1), Array(1), Array(1), Array(1), Array(1)]\n0: [\"-22.91401497538739,-68.19866465000001\"]\n1: [\"-25.857842171488155,-54.4140132\"]\n</code></pre>\n\n<p>I tried <code>JSON.parse(data[i].coordinates[i])</code> but I get that error, the json looks like has some strings but i'm not sure how to fix and make it correct</p>\n"}, {"tags": ["javascript", "reactjs", "antd"], "comments": [{"owner": {"reputation": 30122, "user_id": 7882470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uJbpX.jpg?s=128&g=1", "display_name": "Dennis Vash", "link": "https://stackoverflow.com/users/7882470/dennis-vash"}, "edited": false, "score": 0, "creation_date": 1562228842, "post_id": 56878813, "comment_id": 100314815, "body": "What is the difference with a stateless component? Please elaborate, show some example, what are your trying to achieve?"}], "answers": [{"tags": [], "owner": {"reputation": 30122, "user_id": 7882470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uJbpX.jpg?s=128&g=1", "display_name": "Dennis Vash", "link": "https://stackoverflow.com/users/7882470/dennis-vash"}, "is_accepted": true, "score": 5, "last_activity_date": 1562229606, "creation_date": 1562229606, "answer_id": 56883864, "question_id": 56878813, "link": "https://stackoverflow.com/questions/56878813/how-to-use-getfielddecorator-with-stateless-components/56883864#56883864", "title": "How to use getFieldDecorator with stateless components", "body": "<p>Here is an <a href=\"https://mm0zi.codesandbox.io/\" rel=\"noreferrer\">example</a> of a stateless component which uses <code>getFieldDecorator</code>,\n<code>Form.create</code> relies on component properties.</p>\n\n<p>After filling the field and clearing it you will notice the warning message and console log:</p>\n\n<blockquote>\n  <p>async-validator:  [\"name is required\"] 0: \"name is required\"</p>\n</blockquote>\n\n<pre class=\"lang-js prettyprint-override\"><code>function DynamicRule(props) {\n  const { getFieldDecorator } = props.form;\n  return (\n    &lt;FlexBox&gt;\n      &lt;FlexItem&gt;\n        &lt;Form.Item label=\"Name\"&gt;\n          {getFieldDecorator('name', {\n            rules: [\n              {\n                required: true,\n                message: 'Please input your name'\n              }\n            ]\n          })(&lt;Input placeholder=\"Please input your name\" /&gt;)}\n        &lt;/Form.Item&gt;\n      &lt;/FlexItem&gt;\n    &lt;/FlexBox&gt;\n  );\n}\n\nexport default Form.create()(DynamicRule);\n</code></pre>\n\n<p><a href=\"https://codesandbox.io/s/antd-starter-mm0zi?fontsize=14\" rel=\"noreferrer\"><img src=\"https://codesandbox.io/static/img/play-codesandbox.svg\" alt=\"Edit Q-56878813-FieldDecorator\"></a></p>\n"}], "owner": {"reputation": 179, "user_id": 6433592, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zN88St3BBA8/AAAAAAAAAAI/AAAAAAAADU0/KcRZf2h3fsU/photo.jpg?sz=128", "display_name": "Francisco Soares", "link": "https://stackoverflow.com/users/6433592/francisco-soares"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1056, "favorite_count": 0, "accepted_answer_id": 56883864, "answer_count": 1, "score": 2, "last_activity_date": 1562229671, "creation_date": 1562194411, "last_edit_date": 1562229671, "question_id": 56878813, "link": "https://stackoverflow.com/questions/56878813/how-to-use-getfielddecorator-with-stateless-components", "title": "How to use getFieldDecorator with stateless components", "body": "<p>The Ant Design library provides form validation by using the <a href=\"https://ant.design/components/form/?locale=en-US#this.props.form.getFieldDecorator(id,-options)\" rel=\"nofollow noreferrer\">getFieldDecorator</a>. The docs do not provide samples of how to use it in stateless components, and I was not able to find a way to do that.</p>\n\n<p>Is there a way to achieve that?</p>\n"}, {"tags": ["javascript", "node.js", "imagemin"], "comments": [{"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1562194387, "post_id": 56878805, "comment_id": 100306115, "body": "Even though you specify something to be a certain size, the file may not be able to be compressed down to that size. 285kb is probably the limit of the compression."}, {"owner": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "reply_to_user": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1562194632, "post_id": 56878805, "comment_id": 100306158, "body": "@JackBashford I&#39;ve used a package called <code>browser-image-compression</code> on the frontend and it can compress the same image down to around 10kb without problems. Unless you mean its the program itself"}], "owner": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562194277, "creation_date": 1562194277, "question_id": 56878805, "link": "https://stackoverflow.com/questions/56878805/imaginemin-jpegoptim-not-compressing-to-size", "title": "imaginemin-jpegoptim not compressing to size", "body": "<p>I'm using <code>imaginmin</code> with <code>imaginmin-jpegoptim</code>, but it seems like <code>jpegoptim</code> isn't being properly utilized. My file size before is 390kb, but after conversion it's 285kb, even though I specified it to be 10kb.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>const imagemin =\n    require(\"imagemin\")\nconst imageminJpegoptim =\n    require(\"imagemin-jpegoptim\")\n\nasync function imageminJPG (\n    inputs,\n    output_folder,\n    size\n)\n{\n    const files =\n        await imagemin(\n            inputs, \n            {\n                destination:\n                    output_folder,\n                plugins:\n                [\n                    imageminJpegoptim({\n                        progressive:\n                            false,\n                        size // currently 10\n                    })\n                ]\n            }\n        )\n}\n</code></pre>\n\n<p>Am I missing a parameter or placing them wrongly?</p>\n"}, {"tags": ["javascript", "regex", "string"], "answers": [{"comments": [{"owner": {"reputation": 841, "user_id": 1780027, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/48fb6924b550df2f89c44647f0a8be19?s=128&d=identicon&r=PG", "display_name": "FredMan", "link": "https://stackoverflow.com/users/1780027/fredman"}, "edited": false, "score": 0, "creation_date": 1562194356, "post_id": 56878788, "comment_id": 100306109, "body": "They also say they need to remove quotes, and aren&#39;t doing it quite right if they are trying to include that in the same regex, so \\bin\\b|&quot;|&#39; should work instead of using the brackets they had."}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "reply_to_user": {"reputation": 841, "user_id": 1780027, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/48fb6924b550df2f89c44647f0a8be19?s=128&d=identicon&r=PG", "display_name": "FredMan", "link": "https://stackoverflow.com/users/1780027/fredman"}, "edited": false, "score": 0, "creation_date": 1562194406, "post_id": 56878788, "comment_id": 100306122, "body": "Oops, missed that @FredMan."}, {"owner": {"reputation": 13, "user_id": 10271317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65bbea0d1b5d6abe07341703e9e4d21e?s=128&d=identicon&r=PG&f=1", "display_name": "dyno", "link": "https://stackoverflow.com/users/10271317/dyno"}, "edited": false, "score": 0, "creation_date": 1562195943, "post_id": 56878788, "comment_id": 100306434, "body": "Thank you for the assist! Works like a charm."}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "reply_to_user": {"reputation": 13, "user_id": 10271317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65bbea0d1b5d6abe07341703e9e4d21e?s=128&d=identicon&r=PG&f=1", "display_name": "dyno", "link": "https://stackoverflow.com/users/10271317/dyno"}, "edited": false, "score": 0, "creation_date": 1562195971, "post_id": 56878788, "comment_id": 100306442, "body": "No problem @dyno, always glad to help."}], "tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": true, "score": 1, "last_activity_date": 1562194468, "last_edit_date": 1562194468, "creation_date": 1562194142, "answer_id": 56878788, "question_id": 56878776, "link": "https://stackoverflow.com/questions/56878776/remove-specific-word-in-a-specific-order-from-string-with-regex/56878788#56878788", "title": "Remove Specific Word in a specific order from String with Regex", "body": "<p>Use <code>\\b</code> word boundaries to match the whole word. Also make sure you use the result of <code>replace</code> - it returns a new string:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let str = \"Company X in Source B in Chair F\";\r\nconst res = str.replace(/\\bin\\b/g, \"\").replace(/  /g, \" \");\r\nconsole.log(res);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>There's a second <code>replace</code> above due to the spaces. If you want to avoid that:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let str = \"Company X in Source B in Chair F\";\r\nconst res = str.replace(/ in /g, \" \");\r\nconsole.log(res);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And if you need to replace quotation marks as well, use the regex OR operator <code>|</code>:</p>\n\n<pre><code>/(?:\\bin\\b)|\"|'/g\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "is_accepted": false, "score": 0, "last_activity_date": 1562194190, "creation_date": 1562194190, "answer_id": 56878791, "question_id": 56878776, "link": "https://stackoverflow.com/questions/56878776/remove-specific-word-in-a-specific-order-from-string-with-regex/56878791#56878791", "title": "Remove Specific Word in a specific order from String with Regex", "body": "<p>You don't need anything fancy for this, you can just use <code>/in/g</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let str = \"Company X in Source B in Chair F\"\r\nconsole.log(str.replace(/in/g, ''));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>However, you'll probably want to consider adding the word boundary <code>\\b</code>, as <code>/\\bin\\b/g</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let str = \"Company X in Source B in Chair F\"\r\nconsole.log(str.replace(/\\bin\\b/g, ''));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 13, "user_id": 10271317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65bbea0d1b5d6abe07341703e9e4d21e?s=128&d=identicon&r=PG&f=1", "display_name": "dyno", "link": "https://stackoverflow.com/users/10271317/dyno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 56878788, "answer_count": 2, "score": 1, "last_activity_date": 1562194468, "creation_date": 1562193966, "last_edit_date": 1562194147, "question_id": 56878776, "link": "https://stackoverflow.com/questions/56878776/remove-specific-word-in-a-specific-order-from-string-with-regex", "title": "Remove Specific Word in a specific order from String with Regex", "body": "<p>I have to remove the words \"in\" (in) from a string such as \"Company X in Source B in Chair F\" such that the string after regex applied is Company X Source B Chair F.</p>\n\n<p>I also need to remove the quotation marks, and I have solved that. </p>\n\n<p>I have tried the following regex with no success:</p>\n\n<pre><code>let str = \"Company X in Source B in Chair F\"\nstr.replace(/['\"\\in]+/g, '') --&gt; Compay X Source B Char F\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "discord", "discord.js"], "comments": [{"owner": {"reputation": 5000, "user_id": 11321804, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VOIwjh_teGk/AAAAAAAAAAI/AAAAAAAAIjY/X51qzoN8QLM/photo.jpg?sz=128", "display_name": "slothiful", "link": "https://stackoverflow.com/users/11321804/slothiful"}, "edited": false, "score": 1, "creation_date": 1562196122, "post_id": 56878729, "comment_id": 100306479, "body": "Ensure you&#39;re using a string for the ID, not a number. IDs are <a href=\"https://discord.js.org/#/docs/main/stable/typedef/Snowflake\" rel=\"nofollow noreferrer\">Snowflake</a>s."}, {"owner": {"reputation": 4408, "user_id": 9902555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DFr7U.jpg?s=128&g=1", "display_name": "Robert Dyjas", "link": "https://stackoverflow.com/users/9902555/robert-dyjas"}, "edited": false, "score": 0, "creation_date": 1562330349, "post_id": 56878729, "comment_id": 100351152, "body": "What&#39;s the format of value behind <code>XXXXXXXX</code>? Can you give an example but with changed ID (change few numbers to different ones but don&#39;t remove quotes or any other characters). If you don&#39;t have quotes, what slothiful suggested might be the case."}], "answers": [{"comments": [{"owner": {"reputation": 5000, "user_id": 11321804, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VOIwjh_teGk/AAAAAAAAAAI/AAAAAAAAIjY/X51qzoN8QLM/photo.jpg?sz=128", "display_name": "slothiful", "link": "https://stackoverflow.com/users/11321804/slothiful"}, "edited": false, "score": 1, "creation_date": 1562270196, "post_id": 56893103, "comment_id": 100333644, "body": "Straight from the method in the docs: &quot;All collections used in Discord.js are mapped using their <code>id</code> property, and if you want to find by id you should use the <code>get</code> method. See <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/get\" rel=\"nofollow noreferrer\">MDN</a> for details.&quot;"}, {"owner": {"reputation": 310, "user_id": 14677405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/36N1K.jpg?s=128&g=1", "display_name": "Radnerus", "link": "https://stackoverflow.com/users/14677405/radnerus"}, "reply_to_user": {"reputation": 5000, "user_id": 11321804, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VOIwjh_teGk/AAAAAAAAAAI/AAAAAAAAIjY/X51qzoN8QLM/photo.jpg?sz=128", "display_name": "slothiful", "link": "https://stackoverflow.com/users/11321804/slothiful"}, "edited": false, "score": 0, "creation_date": 1618135280, "post_id": 56893103, "comment_id": 118505395, "body": "Like @slothiful said, get and find doesn&#39;t return a collection. It queries what ever is inside the method &#39;from the collection&#39;."}], "tags": [], "owner": {"reputation": 314, "user_id": 6061090, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xchTxXjVzNg/AAAAAAAAAAI/AAAAAAAAAEc/N3bE-m2R03U/photo.jpg?sz=128", "display_name": "Tryall Allombria", "link": "https://stackoverflow.com/users/6061090/tryall-allombria"}, "is_accepted": false, "score": -2, "last_activity_date": 1562266469, "creation_date": 1562266469, "answer_id": 56893103, "question_id": 56878729, "link": "https://stackoverflow.com/questions/56878729/client-channels-getid-send-not-working/56893103#56893103", "title": "client.channels.get(id).send() not working", "body": "<p>The error said it can't find the <code>.send(\"Test\")</code> function of something that is not defined.</p>\n\n<p>So the error come from <code>bot.channels.get(XXXX)</code>\nbot.channels return a collection. If you search a specific item of this collection. You need to use <code>.find</code> and not <code>.get</code></p>\n\n<p>More info about .find here : <a href=\"https://discord.js.org/#/docs/main/stable/class/Collection?scrollTo=find\" rel=\"nofollow noreferrer\">https://discord.js.org/#/docs/main/stable/class/Collection?scrollTo=find</a></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 15594673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c019249d4a697ca190949abad9a0776e?s=128&d=identicon&r=PG&f=1", "display_name": "PandaGamersHDNL", "link": "https://stackoverflow.com/users/15594673/pandagamershdnl"}, "is_accepted": false, "score": 1, "last_activity_date": 1618123921, "creation_date": 1618123921, "answer_id": 67042204, "question_id": 56878729, "link": "https://stackoverflow.com/questions/56878729/client-channels-getid-send-not-working/67042204#67042204", "title": "client.channels.get(id).send() not working", "body": "<p>your error has to do with that not all channels are text channels. Before you can send a message it has to be sure it can. so you could check if that's the case with the function .isText() when you have checked that it is the type should change to text channels which are dm text and news at this moment. those have the .send function</p>\n"}], "owner": {"reputation": 53, "user_id": 5328668, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8ff75cd43b746b8702afb8fe3eb0df64?s=128&d=identicon&r=PG&f=1", "display_name": "ParadAUX", "link": "https://stackoverflow.com/users/5328668/paradaux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3151, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1618123921, "creation_date": 1562193524, "question_id": 56878729, "link": "https://stackoverflow.com/questions/56878729/client-channels-getid-send-not-working", "title": "client.channels.get(id).send() not working", "body": "<p>So a discord bot I'm creating has a twitch notifications, and it uses snekfetch to create a looping request function. On the return of the function I have <code>client.channels.get(id).send(embed)</code> however it doesn't message the channel id which I've given it.</p>\n\n<pre><code>const api = `https://api.twitch.tv/helix/streams?user_login=${streamer}`;\n\n  snekfetch.get(api).set('Client-ID', \"XXXXXXXXXXXXXX\").then(r =&gt; {\n\n    if (r.body.stream === null) {\n\n      setInterval(() =&gt; {\n\n        snekfetch.get(api).then(console.log(r.body))\n\n      }, 30000);\n\n    } else {\n        const embed = new discord.RichEmbed()\n        .setAuthor(\n        `${r.body.data.user_name} is live on Twitch`,\n      )\n        .setThumbnail(`http://static-cdn.jtvnw.net/ttv-boxart/live_user_${streamer}-500x500.jpg`)\n        .addField('Views', `${r.body.data.viewer_count}`, true)\n\n      return bot.channels.get(XXXXXXXXXXXX).send(\"TEST\");\n    }\n  });\n</code></pre>\n\n<p>I have named my client bot so instead of client.channels it's bot.channels</p>\n\n<p>It should in theory send the TEST message to whatever channel id I give it, however instead I get an error.</p>\n\n<pre><code>(node:62565) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'send' of undefined\n    at /Users/XXXXXXX/Desktop/HelperBot/main.js:61:50\n    at processTicksAndRejections (internal/process/task_queues.js:89:5)\n(node:62565) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)\n(node:62565) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n</code></pre>\n"}, {"tags": ["javascript", "php", "html", "ajax", "forms"], "comments": [{"owner": {"reputation": 221, "user_id": 4518930, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/656052311/picture?type=large", "display_name": "Adil Liaqat", "link": "https://stackoverflow.com/users/4518930/adil-liaqat"}, "edited": false, "score": 0, "creation_date": 1562193068, "post_id": 56878651, "comment_id": 100305820, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/q/10899384/4518930\">stackoverflow.com/q/10899384/4518930</a> or <a href=\"https://stackoverflow.com/q/33761469/4518930\">stackoverflow.com/q/33761469/4518930</a>"}, {"owner": {"reputation": 38258, "user_id": 560593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99c93a3c235763708dd7263e197acdc6?s=128&d=identicon&r=PG", "display_name": "Patrick Evans", "link": "https://stackoverflow.com/users/560593/patrick-evans"}, "edited": false, "score": 0, "creation_date": 1562193851, "post_id": 56878651, "comment_id": 100306005, "body": "You dont use the <code>value</code> property of a file input you use the individual file objects in the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#files\" rel=\"nofollow noreferrer\"><code>files</code></a> list property"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1562194000, "post_id": 56878651, "comment_id": 100306041, "body": "And in PHP you don&#39;t use <code>$_POST[&#39;up&#39;]</code>, you use <code>$_FILES[&#39;up&#39;]</code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 221, "user_id": 4518930, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/656052311/picture?type=large", "display_name": "Adil Liaqat", "link": "https://stackoverflow.com/users/4518930/adil-liaqat"}, "edited": false, "score": 0, "creation_date": 1562194124, "post_id": 56878651, "comment_id": 100306064, "body": "@AdilLiaqat Both those questions only show how to do it with jQuery. Got similar dupes with XMLHttpRequest?"}, {"owner": {"reputation": 221, "user_id": 4518930, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/656052311/picture?type=large", "display_name": "Adil Liaqat", "link": "https://stackoverflow.com/users/4518930/adil-liaqat"}, "edited": false, "score": 0, "creation_date": 1562194322, "post_id": 56878651, "comment_id": 100306105, "body": "<a href=\"https://stackoverflow.com/q/9395911/4518930\">stackoverflow.com/q/9395911/4518930</a> or <a href=\"https://stackoverflow.com/q/29294979/4518930\">stackoverflow.com/q/29294979/4518930</a>"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9318798"}, "edited": false, "score": 0, "creation_date": 1562264346, "post_id": 56878811, "comment_id": 100332070, "body": "This response led me to a bit more googling.. where I was able to find a solution. Thank you for your response : )"}], "tags": [], "owner": {"reputation": 519, "user_id": 2756931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1TmK6.jpg?s=128&g=1", "display_name": "Edwin Dijas Chiwona", "link": "https://stackoverflow.com/users/2756931/edwin-dijas-chiwona"}, "is_accepted": false, "score": 0, "last_activity_date": 1562194395, "creation_date": 1562194395, "answer_id": 56878811, "question_id": 56878651, "link": "https://stackoverflow.com/questions/56878651/sending-file-to-email-using-input-type-file-with-ajax-and-php/56878811#56878811", "title": "Sending file to email using input type=&quot;file&quot; with AJAX and PHP", "body": "<p>Input.value on image will give text value which is a fake path plus filename. The fakepath is for security reasons.\nTry adding all your data with</p>\n\n<pre><code> var formdata = new FormData(_(\"my_form\"));\n</code></pre>\n\n<p>Just added the below function for reference.</p>\n\n<pre><code> function _(id) {\n    return document.getElementById(id);\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9318798"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1562194395, "creation_date": 1562192863, "question_id": 56878651, "link": "https://stackoverflow.com/questions/56878651/sending-file-to-email-using-input-type-file-with-ajax-and-php", "title": "Sending file to email using input type=&quot;file&quot; with AJAX and PHP", "body": "<p>I have a simple contact form with AJAX and PHP that I'm using send messages to my email address. Now, however, I would like to upload files and send them using this form as well. I've used input type=\"file\".. however the uploaded file isn't being delivered. For example, I've tested this by attempting to upload several images and the file is being delivered as text \"C:\\fakepath\\bahamas.jpg\".\nI've added my code here as well, thank you for any responses and insight as to how I might achieve this  : )</p>\n\n<pre><code>&lt;html&gt;\n\n&lt;head&gt;\n&lt;script&gt;\n    function _(id) {\n        return document.getElementById(id);\n    }\n\n    function submitForm() {\n        _(\"mybtn\").disabled = true;\n        _(\"status\").innerHTML = 'please wait ...';\n        var formdata = new FormData();\n        formdata.append(\"n\", _(\"n\").value);\n        formdata.append(\"e\", _(\"e\").value);\n        formdata.append(\"p\", _(\"p\").value);\n        formdata.append(\"a\", _(\"a\").value);\n        formdata.append(\"w\", _(\"w\").value);\n        formdata.append(\"sp\", _(\"sp\").value);\n        formdata.append(\"up\", _(\"up\").value);\n        formdata.append(\"m\", _(\"m\").value);\n        var ajax = new XMLHttpRequest();\n        ajax.open(\"POST\", \"contact.php\");\n        ajax.onreadystatechange = function () {\n            if (ajax.readyState == 4 &amp;&amp; ajax.status == 200) {\n                if (ajax.responseText == \"success\") {\n                    _(\"my_form\").innerHTML = '&lt;h2&gt;Thanks ' + _(\"n\").value +\n                        ', your message has been sent.&lt;/h2&gt;';\n                } else {\n                    _(\"status\").innerHTML = ajax.responseText;\n                    _(\"mybtn\").disabled = false;\n                }\n            }\n        }\n        ajax.send(formdata);\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p></p>\n\n<p></p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n\n    &lt;form id=\"my_form\" onsubmit=\"submitForm(); return false;\"&gt;\n\n        &lt;input id=\"n\" type=\"text\" name=\"name\" class=\"form-control\" placeholder=\"Please enter your name *\"\n            required=\"required\" data-error=\"Firstname is required.\"&gt;\n\n        &lt;input id=\"p\" type=\"email\" name=\"surname\" class=\"form-control\" placeholder=\"Email Address (optional)\"&gt;\n\n        &lt;input id=\"e\" type=\"text\" class=\"form-control\" placeholder=\"Business Name\" required=\"required\"\n            data-error=\"Business Name is required.\"&gt;\n\n        &lt;input id=\"a\" type=\"text\" class=\"form-control\" placeholder=\"Business Address\" required=\"required\"\n            data-error=\"Business Address is required.\"&gt;\n\n        &lt;input id=\"w\" type=\"text\" class=\"form-control\" placeholder=\"Business Website\"&gt;\n\n        &lt;input id=\"sp\" type=\"text\" class=\"form-control\" placeholder=\"Business Phone Number\" required=\"required\"\n            data-error=\"Business Phone Number is required.\"&gt;\n\n        &lt;input type=\"file\" name=\"file\" id=\"up\" accept=\"application/msword, application/vnd.ms-excel, application/vnd.ms-powerpoint,\n                    text/plain, application/pdf, image/*\"&gt;\n\n        &lt;textarea id=\"m\" name=\"message\" class=\"form-control\"\n            placeholder=\"Write a message.\" rows=\"4\" required=\"required\"\n            data-error=\"Leave a little more info : )\"&gt;&lt;/textarea&gt;\n\n        &lt;input id=\"mybtn\" type=\"submit\" value=\"Submit Form\" class=\"btn btn-success btn-send\" id=\"status\"&gt;\n        &lt;span id=\"status\"&gt;&lt;/span&gt;\n\n    &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>\n</p>\n\n<pre><code>&lt;?php\nif( isset($_POST['n']) &amp;&amp; isset($_POST['e'])\n&amp;&amp; isset($_POST['m']) ){\n$n = $_POST['n'];\n$e = $_POST['e'];\n$p = $_POST['p'];\n$a = $_POST['a'];\n$w = $_POST['w'];\n$sp = $_POST['sp'];\n$up = $_POST['up'];\n$m = nl2br($_POST['m']);\n$to = \"hello@emailaddress.com\"; \n$from = $e;\n$subject = 'SMS Intake Form Message';\n$message = '&lt;b&gt;Name:&lt;/b&gt; '.$n.' &lt;br&gt;&lt;b&gt;Email:&lt;/b&gt;\n'.$e.'     &lt;br&gt;&lt;b&gt;Phone:&lt;/b&gt; '.$p.' \n&lt;br&gt;&lt;b&gt;Address:&lt;/b&gt;   '.$a.' &lt;br&gt;&lt;b&gt;Website:&lt;/b&gt;\n'.$w.'    &lt;br&gt;&lt;b&gt;Phone:&lt;/b&gt; '.$sp.' &lt;br&gt;\n&lt;b&gt;Files:&lt;/b&gt;    '.$up.' &lt;p&gt;'.$m.'&lt;/p&gt;';\n$headers = \"From: $from\\n\";\n$headers .= \"MIME-Version: 1.0\\n\";\n$headers .= \"Content-type: text/html; \ncharset=iso-8859-    1\\n\";\nif( mail($to, $subject, $message, $headers) ){\n    echo \"success\";\n} else {\n    echo \"The server failed to send the message. \nPlease try again later.\";\n}\n}\n?&gt;\n</code></pre>\n"}, {"tags": ["javascript", "tiff", "openseadragon", "iiif"], "comments": [{"owner": {"reputation": 1706, "user_id": 306351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ip9vu.jpg?s=128&g=1", "display_name": "iangilman", "link": "https://stackoverflow.com/users/306351/iangilman"}, "edited": false, "score": 0, "creation_date": 1562707144, "post_id": 56878635, "comment_id": 100459208, "body": "I know a lot about OpenSeadragon, but I don&#39;t know that much about IIIF, so I don&#39;t know how much help I can be. At any rate, OSD should be using the tiles as specified in the JSON file. This might include the stuff in &quot;sizes&quot; but also could include math being done on the stuff inside &quot;tiles&quot; (based on the scale factors). If you really want to get to the bottom of it, here&#39;s the code: <a href=\"https://github.com/openseadragon/openseadragon/blob/master/src/iiiftilesource.js\" rel=\"nofollow noreferrer\">github.com/openseadragon/openseadragon/blob/master/src/&hellip;</a> Is there something you&#39;re trying to accomplish besides just understanding it?"}, {"owner": {"reputation": 21, "user_id": 10309010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2408c0935b342f5d8fd62f5d6cefb1e7?s=128&d=identicon&r=PG&f=1", "display_name": "gusauwerda", "link": "https://stackoverflow.com/users/10309010/gusauwerda"}, "reply_to_user": {"reputation": 1706, "user_id": 306351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ip9vu.jpg?s=128&g=1", "display_name": "iangilman", "link": "https://stackoverflow.com/users/306351/iangilman"}, "edited": false, "score": 0, "creation_date": 1562714763, "post_id": 56878635, "comment_id": 100460907, "body": "That linked file is quite helpful. I&#39;m attempting to manually fill a cache with images, so I need a way to generate all the possible URLs associated with an image, down to the smallest tile size."}, {"owner": {"reputation": 1706, "user_id": 306351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ip9vu.jpg?s=128&g=1", "display_name": "iangilman", "link": "https://stackoverflow.com/users/306351/iangilman"}, "edited": false, "score": 0, "creation_date": 1562798557, "post_id": 56878635, "comment_id": 100494906, "body": "Interesting... Yup, you&#39;ll definitely want to know which images to load! Glad I could be of help :)"}], "owner": {"reputation": 21, "user_id": 10309010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2408c0935b342f5d8fd62f5d6cefb1e7?s=128&d=identicon&r=PG&f=1", "display_name": "gusauwerda", "link": "https://stackoverflow.com/users/10309010/gusauwerda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 239, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1562192769, "creation_date": 1562192769, "question_id": 56878635, "link": "https://stackoverflow.com/questions/56878635/can-someone-explain-to-me-how-openseadragon-decides-upon-tile-dimensions-within", "title": "Can someone explain to me how OpenSeadragon decides upon tile dimensions within a pyramidal .tiff image?", "body": "<p>I'm trying to understand how OpenSeadragon decides upon tile dimensions within a pyramidal .tiff image in order to generate the first layer of tiles. I can't see the correlation between the various sizes defined in the info.json that OpenSeadragon requests (which uses the IIIF Image API), and the tile dimensions.</p>\n\n<p>When I click inside the OpenSeadragon viewer, multiple image requests are sent in order to request high resolution tiles, but the dimensions vary dramatically from image to image, and between click locations within the viewer.</p>\n\n<p>Is it possible to force OpenSeadragon to use the sizes defined in info.json? From what I can see, it isn't.</p>\n\n<p>I've tried looking through the IFFF Image API docs, the OpenSeadragon docs, and the OpenSeadragon.js file, but it's rather hard to follow the flow of execution fully within that.</p>\n\n<p>Here is what the relevant part of the info.json looks like: </p>\n\n<pre><code>\"width\": 6555,\n  \"height\": 6995,\n  \"sizes\": [\n    {\n      \"width\": 102,\n      \"height\": 109\n    },\n    {\n      \"width\": 205,\n      \"height\": 219\n    },\n    {\n      \"width\": 410,\n      \"height\": 437\n    },\n    {\n      \"width\": 819,\n      \"height\": 874\n    },\n    {\n      \"width\": 1639,\n      \"height\": 1749\n    },\n    {\n      \"width\": 3278,\n      \"height\": 3498\n    }\n  ],\n  \"tiles\": [\n    {\n      \"width\": 6555,\n      \"height\": 1664,\n      \"scaleFactors\": [\n        1,\n        2,\n        4,\n        8,\n        16,\n        32,\n        64\n      ]\n    }\n  ],\n  \"profile\": [\n    \"http://iiif.io/api/image/2/level2.json\",\n    {\n      \"formats\": [\n        \"tif\",\n        \"jpg\",\n        \"gif\",\n        \"png\"\n      ],\n      \"maxArea\": 400000000,\n      \"qualities\": [\n        \"bitonal\",\n        \"default\",\n        \"gray\",\n        \"color\"\n      ],\n      \"supports\": [\n        \"sizeByW\",\n        \"regionByPx\",\n        \"sizeByWhListed\",\n        \"cors\",\n        \"regionSquare\",\n        \"sizeByDistortedWh\",\n        \"sizeAboveFull\",\n        \"canonicalLinkHeader\",\n        \"sizeByConfinedWh\",\n        \"sizeByPct\",\n        \"jsonldMediaType\",\n        \"regionByPct\",\n        \"sizeByH\",\n        \"rotationArbitrary\",\n        \"baseUriRedirect\",\n        \"rotationBy90s\",\n        \"profileLinkHeader\",\n        \"sizeByForcedWh\",\n        \"sizeByWh\",\n        \"mirroring\"\n      ]\n    }\n  ]\n}\n</code></pre>\n"}, {"tags": ["javascript", "html", "html-table"], "comments": [{"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 1, "creation_date": 1562193074, "post_id": 56878589, "comment_id": 100305823, "body": "If you have hidden fields, then <i>you</i> have hidden fields, and only you know how you effected that hiding. Did you set a class? Did you call a jQuery function? However you hid them, you are the authority on how you can thus check for whether things are hidden or not, not us."}, {"owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "edited": false, "score": 1, "creation_date": 1562193178, "post_id": 56878589, "comment_id": 100305851, "body": "Can you please post a working example of your code (including a sample html table with values + hidden fields)?"}], "answers": [{"tags": [], "owner": {"reputation": 2593, "user_id": 3027031, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/794eP.jpg?s=128&g=1", "display_name": "Aviad", "link": "https://stackoverflow.com/users/3027031/aviad"}, "is_accepted": false, "score": 0, "last_activity_date": 1562231178, "creation_date": 1562231178, "answer_id": 56884388, "question_id": 56878589, "link": "https://stackoverflow.com/questions/56878589/how-to-sum-a-filtered-html-table/56884388#56884388", "title": "How to sum a filtered html table?", "body": "<p>You can query the DOM and filter by attr as follows:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>Array\n.from(document.querySelectorAll('table#datatable td')) // Or some other selector you wish\n.filter(r=&gt;r.hidden) // Enter here your filter func. Can also filter by `r.style.display` etc.\n.reduce((sum, curr)=&gt;sum+(Number(curr.innerHTML) || 0), 0) // Here we try to get the value of the td. If it will resolve to NaN ==&gt; We will return 0 and won't affect the value.\n</code></pre>\n\n<p>This will yield the sum you desire. Place that value wherever you want then :)</p>\n\n<p>Resources:</p>\n\n<ol>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from\" rel=\"nofollow noreferrer\">Array.from()</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\" rel=\"nofollow noreferrer\">Array.prototype.filter()</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce\" rel=\"nofollow noreferrer\">Array.prototype.reduce()</a></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 5, "user_id": 10905454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4890f71e1d9aa6ad5a4d161cbc26ab31?s=128&d=identicon&r=PG&f=1", "display_name": "Julian", "link": "https://stackoverflow.com/users/10905454/julian"}, "edited": false, "score": 0, "creation_date": 1562373005, "post_id": 56897549, "comment_id": 100365095, "body": "Your solution works great! However, i little follow up problem came up: When I use a dropdown list to filter my table, to sum of the columns does not refresh until I click in one of the text boxes to filter another column...  I suppose this has to do with the following line: $(&#39;input&#39;).on(&#39;keyup click&#39;, function ()    But what do I have to add, to make my column sums refresh when filtering by a dropdown list?"}, {"owner": {"reputation": 5, "user_id": 10905454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4890f71e1d9aa6ad5a4d161cbc26ab31?s=128&d=identicon&r=PG&f=1", "display_name": "Julian", "link": "https://stackoverflow.com/users/10905454/julian"}, "edited": false, "score": 0, "creation_date": 1562419032, "post_id": 56897549, "comment_id": 100371751, "body": "I added a change event, but still doesnt work, also tried adding everything else I found.. still not successfull...    The line looks like this now:  $(&#39;input&#39;).on(&#39;input focus propertychange change keydown keyup click drop&#39;, function ()"}, {"owner": {"reputation": 5, "user_id": 10905454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4890f71e1d9aa6ad5a4d161cbc26ab31?s=128&d=identicon&r=PG&f=1", "display_name": "Julian", "link": "https://stackoverflow.com/users/10905454/julian"}, "edited": false, "score": 0, "creation_date": 1562428622, "post_id": 56897549, "comment_id": 100373961, "body": "I solved the problem, I just had to replace the $(&#39;input&#39;) with $(&#39;select&#39;). Sorry for the dumb question."}], "tags": [], "owner": {"reputation": 2200, "user_id": 7499069, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JyjApRcucyQ/AAAAAAAAAAI/AAAAAAAAAec/f02wOy6WWn0/photo.jpg?sz=128", "display_name": "tuhin47", "link": "https://stackoverflow.com/users/7499069/tuhin47"}, "is_accepted": true, "score": 0, "last_activity_date": 1562307797, "creation_date": 1562307797, "answer_id": 56897549, "question_id": 56878589, "link": "https://stackoverflow.com/questions/56878589/how-to-sum-a-filtered-html-table/56897549#56897549", "title": "How to sum a filtered html table?", "body": "<p>I think this code will work.</p>\n\n<pre><code>$(document).ready(function () {\n    var table = $('#datatable').DataTable();\n    calculatesum(table.rows().nodes());\n    $('input').on('keyup click', function () {\n        var searched = table.rows({\n            search: 'applied'\n        }).nodes();\n\n        calculatesum(searched);\n\n    });\n});\n\nfunction calculatesum(all) {\n    var columnsToSum = [2, 4];\n    for (i = 0; i &lt; columnsToSum.length; i++) {\n        a = columnsToSum[i];\n        sum = 0;\n        for (j = 0; j &lt; all.length; j++) {\n\n            var val = all[j].getElementsByTagName('td')[a].innerHTML;\n            sum += isNaN(val) ? 0 : parseInt(val);\n\n\n        }\n        document.getElementById(\"data\" + a).innerHTML = sum;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 10905454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4890f71e1d9aa6ad5a4d161cbc26ab31?s=128&d=identicon&r=PG&f=1", "display_name": "Julian", "link": "https://stackoverflow.com/users/10905454/julian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 718, "favorite_count": 1, "accepted_answer_id": 56897549, "answer_count": 2, "score": 0, "last_activity_date": 1594621237, "creation_date": 1562192415, "last_edit_date": 1594621237, "question_id": 56878589, "link": "https://stackoverflow.com/questions/56878589/how-to-sum-a-filtered-html-table", "title": "How to sum a filtered html table?", "body": "<p>I have a HTML Table that I am able to filter with jquery. At the bottom of my table, i want to have a &quot;total&quot; row, that sums all values displayed. The sum displayed in the &quot;total&quot; row should be the sum of all rows displayed, i.e. not take account of the hidden rows.</p>\n<p>I tried to add a condition like to make the summing dependent on the display style of the row, however that didn't work out.\nIs there any simple solution to implement this?\nLike a simple javascript if condition that checks if the row the td element is a part of is hidden or not?</p>\n<p><strong>EDIT:</strong>\nMy HTML-Coods looks like this (javascript function that calculates the column total comes after the table):</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var columnCount = document.getElementById('datatable').rows[2].cells.length;\nvar tds = document.getElementById('datatable').getElementsByTagName('td');\nvar sum = 0;\n\nvar columnsToSum = [3,4];\n\nfor (i=0; i&lt;columnsToSum.length;i++) \n{\n    a = columnsToSum[i]; \n    sum=0;\n    var hasPercent = false;\n    \n    for(z = columnsToSum[i]; z &lt; tds.length; z+=columnCount) \n    {\n        sum += isNaN(tds[z].innerHTML) ? 0 : parseInt(tds[z].innerHTML); \n    }\n\n    document.getElementById(\"data\"+ a).innerHTML = sum;                             \n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"utf-8\"/&gt;\n \n         &lt;link rel=\"stylesheet\" href=\"css2/bootstrap.css\" /&gt;\n         &lt;link rel=\"stylesheet\" href=\"css2/dataTables.bootstrap.min.css\" /&gt;\n         &lt;link rel=\"stylesheet\" href=\"css2/responsive.bootstrap.min.css\" type=\"text/css\" /&gt;\n         &lt;link rel=\"stylesheet\" href=\"css2/buttons.bootstrap.min.css\" type=\"text/css\" /&gt;\n         &lt;link rel=\"stylesheet\" href=\"style.css\" /&gt;\n      &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div class=\"container-fluid\" style=\"width:80%;\"&gt;\n            &lt;table id=datatable class=\"datatable table table-hover\"&gt;\n                &lt;thead&gt;\n                    &lt;tr&gt;\n                        &lt;th&gt;ID&lt;/th&gt;\n                        &lt;th&gt;Name&lt;/th&gt;\n                        &lt;th&gt;Address&lt;/th&gt;\n                        &lt;th&gt;Class&lt;/th&gt;\n                        &lt;th&gt;Class&lt;/th&gt;\n                    &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tfoot&gt;\n                    &lt;tr&gt;\n                        &lt;th&gt;\n                            &lt;input type=\"text\" class=\"form-control input-sm filter-column\" placeholder=\"nach ID filtern\"&gt; \n                        &lt;/th&gt;\n                        &lt;th&gt;\n                            &lt;input type=\"text\" class=\"form-control input-sm filter-column\"&gt; \n                        &lt;/th&gt;\n                        &lt;th&gt;\n                            &lt;input type=\"text\" class=\"form-control input-sm filter-column\" /&gt;\n                        &lt;/th&gt;\n                        &lt;th&gt;\n                            &lt;select class=\"form-control input-sm filter-column\"&gt;\n                                &lt;option value=\"A\"&gt;A&lt;/option&gt;\n                                &lt;option value=\"B\"&gt;B&lt;/option&gt;\n                                &lt;option value=\"B\"&gt;C&lt;/option&gt;\n                            &lt;/select&gt;\n                        &lt;/th&gt;\n                        &lt;th&gt;\n                            &lt;select class=\"form-control input-sm filter-column\"&gt;\n                                &lt;option value=\"A\"&gt;A&lt;/option&gt;\n                                &lt;option value=\"B\"&gt;B&lt;/option&gt;\n                                &lt;option value=\"B\"&gt;C&lt;/option&gt;\n                            &lt;/select&gt;\n                        &lt;/th&gt;\n                    &lt;/tr&gt;\n                &lt;/tfoot&gt;\n            &lt;tbody&gt; \n                &lt;tr&gt;\n                    &lt;td&gt;1&lt;/td&gt; \n                    &lt;td&gt;bla&lt;/td&gt; \n                    &lt;td&gt;500&lt;/td&gt; \n                    &lt;td&gt;100%&lt;/td&gt; \n                    &lt;td&gt;300&lt;/td&gt; \n                &lt;/tr&gt; \n            &lt;/tbody&gt;\n            &lt;tfoot&gt;\n                &lt;tr class=\"sum-row\"&gt;\n                    &lt;td id=data0&gt;&lt;/td&gt; \n                    &lt;td id=data1&gt;&lt;/td&gt; \n                    &lt;td id=\"data2\"&gt;0&lt;/td&gt; \n                    &lt;td id=\"data3\"&gt;0&lt;/td&gt;\n                    &lt;td id=\"data4\"&gt;0&lt;/td&gt; \n                &lt;/tr&gt; \n            &lt;/tfoot&gt;\n        &lt;/table&gt;   \n    &lt;/div&gt; \n    &lt;script language=\"javascript\" type=\"text/javascript\"&gt;\n    \n    &lt;/script&gt;\n    &lt;script src=\"js2/jquery-1.11.3.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"js2/jquery.dataTables.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"js2/dataTables.bootstrap.min.js\"&gt;&lt;/script&gt;\n    &lt;!-- Responsive extension --&gt;\n    &lt;script src=\"js2/responsive.bootstrap.min.js\"&gt;&lt;/script&gt;\n    &lt;!-- Buttons extension --&gt;\n    &lt;script src=\"js2/dataTables.buttons.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"js2/buttons.bootstrap.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"js2/jszip.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"js2/buttons.html5.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>The code above always shows the total sum of all values in the table and doesn't take account of the filtering.</p>\n"}, {"tags": ["javascript", "firebase", "vue.js", "pagination", "google-cloud-firestore"], "answers": [{"tags": [], "owner": {"reputation": 526, "user_id": 8805943, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JnAhr.jpg?s=128&g=1", "display_name": "denniskbijo", "link": "https://stackoverflow.com/users/8805943/denniskbijo"}, "is_accepted": true, "score": 3, "last_activity_date": 1562218249, "last_edit_date": 1562218249, "creation_date": 1562215210, "answer_id": 56880728, "question_id": 56878570, "link": "https://stackoverflow.com/questions/56878570/firestore-paginate-a-query/56880728#56880728", "title": "Firestore Paginate a query", "body": "<p>From the code you've shared the function <code>getMorePosts()</code> gets the first three posts and finds the last post. Then it queries the next 3 posts using the <code>last visible</code> document in the first query as the cursor. </p>\n\n<p>The problem is the function always performs the same activity to fetch the first 3 posts and get the next 3 posts every time when you scroll to the bottom.</p>\n\n<p>One way to solve this problem is to pass the last visible as a parameter to the function.\nSo initially the <code>last visible</code> document can be empty and then the query the posts and the query's <code>last visible</code> document can be passed as the parameter to load more posts and so on.</p>\n\n<p>Hope that helps.</p>\n"}], "owner": {"reputation": 115, "user_id": 10787042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f847944df99c2ff9232f87ab41c78c94?s=128&d=identicon&r=PG&f=1", "display_name": "lukas34tfd", "link": "https://stackoverflow.com/users/10787042/lukas34tfd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 771, "favorite_count": 0, "accepted_answer_id": 56880728, "answer_count": 1, "score": 0, "last_activity_date": 1562218249, "creation_date": 1562192287, "question_id": 56878570, "link": "https://stackoverflow.com/questions/56878570/firestore-paginate-a-query", "title": "Firestore Paginate a query", "body": "<p>I took a look at this example <a href=\"https://cloud.google.com/firestore/docs/query-data/query-cursors\" rel=\"nofollow noreferrer\">https://cloud.google.com/firestore/docs/query-data/query-cursors</a> => <code>Paginate a query</code>, to paginate my data from firestore.</p>\n\n<p>The data load works fine and I get my <code>.limit(3)</code> posts if I reached the bottom of the page.</p>\n\n<p>But if I scroll again to the bottom the function runs again, that is great, but it's loads the same data, again, and does not load more posts from firestore.</p>\n\n<p>Hopefully, someone can help me, thanks!</p>\n\n<p>Code: <code>vuejs</code></p>\n\n<pre><code>mounted() {\n   this.loadMoreData();\n},\nmethods: {\n loadMoreData(posts) {\n    window.onscroll = async () =&gt; {\n      let bottomOfWindow =\n          document.documentElement.scrollTop + window.innerHeight ===\n          document.documentElement.offsetHeight;\n\n       var vm = this;\n\n       const db = firebase.firestore()\n\n       function getMorePosts() {\n          let first = db\n            .collection(\"users\")\n            .doc(vm.userProfile.general.userId)\n            .collection(\"posts\")\n            .orderBy(\"createdOn\", \"desc\")\n            .limit(3);\n\n          return first.get().then(async documentSnapshots =&gt; {\n            // Get the last visible document\n            console.log(documentSnapshots);\n            var lastVisible =\n              documentSnapshots.docs[documentSnapshots.docs.length - 1];\n            console.log(\"last\", lastVisible);\n\n            // Construct a new query starting at this document,\n            // get the next 3 posts.\n            const next = db\n              .collection(\"users\")\n              .doc(vm.userProfile.general.userId)\n              .collection(\"posts\")\n              .orderBy(\"createdOn\", \"desc\")\n              .startAfter(lastVisible)\n              .limit(3)\n              .onSnapshot(snapshot =&gt; {\n                const allPosts = [];\n                snapshot.forEach(doc =&gt; {\n                  allPosts.push(doc.data());\n                });\n                // set data to vuex\n                vm.$store.commit(\"posts/setProducts\", allPosts);\n              });\n          });\n        }\n\n     if (bottomOfWindow) {\n       getMorePosts();\n       console.log(\"bottom\");\n     }\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "async-await", "axios", "bluebird"], "comments": [{"owner": {"reputation": 8061, "user_id": 148212, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/471467a61818293d4c3d26902b902e1a?s=128&d=identicon&r=PG", "display_name": "Michael Cheng", "link": "https://stackoverflow.com/users/148212/michael-cheng"}, "edited": false, "score": 0, "creation_date": 1562360650, "post_id": 56878564, "comment_id": 100362870, "body": "It is possible that you are being rate limited. Rather than ask for potential solutions to such a broad question, please try different solutions yourself and come back to ask if/when you get stuck."}, {"owner": {"reputation": 1055, "user_id": 5593788, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c4c99223d3ea0896b039938d60488a2f?s=128&d=identicon&r=PG&f=1", "display_name": "jsPlayer", "link": "https://stackoverflow.com/users/5593788/jsplayer"}, "reply_to_user": {"reputation": 8061, "user_id": 148212, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/471467a61818293d4c3d26902b902e1a?s=128&d=identicon&r=PG", "display_name": "Michael Cheng", "link": "https://stackoverflow.com/users/148212/michael-cheng"}, "edited": false, "score": 0, "creation_date": 1562396658, "post_id": 56878564, "comment_id": 100367617, "body": "@MichaelCheng used a new promise and set a timeout for 15 minutes after every multiple of 40 , meaning after every 40 request  the code take a 15 minute break, but still same issue happening. `  if (statusCheck % 40 === 0) {                   await new Promise(resolve =&gt; setTimeout(resolve, 900000))          }`"}], "owner": {"reputation": 1055, "user_id": 5593788, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c4c99223d3ea0896b039938d60488a2f?s=128&d=identicon&r=PG&f=1", "display_name": "jsPlayer", "link": "https://stackoverflow.com/users/5593788/jsplayer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 340, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1562360196, "creation_date": 1562192256, "last_edit_date": 1562360196, "question_id": 56878564, "link": "https://stackoverflow.com/questions/56878564/async-await-with-axios-getting-stuck", "title": "Async/Await with Axios getting stuck", "body": "<p>Here is what i am trying to do: i am looping through a json file full of links of our website using a for loop(around 3000 links), inside the loop i am doing a axios get for each link and getting the response status code(will do other things in the future). My code is getting stuck at random iteration , Some time at 125th link sometime 178, some time 300. My console just sits there with no error <a href=\"https://i.stack.imgur.com/NmQBr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NmQBr.png\" alt=\"enter image description here\"></a></p>\n\n<p>Seems like at certain links at random the get request is taking too long, how do i skip a link that is taking too long or maybe can i set a timeout for each get request and if nothing return in that certain time skip that iteration?</p>\n\n<p>I tried putting try catch everywhere and nothing is logging, i also tried with blubird map instead of loop and it's the same deal, Anyone have any idea what's going on ?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var cheerio = require('cheerio');\r\nvar axios = require('axios');\r\nconst fs = require('fs');\r\nvar four04 = \"404\";\r\nvar statusCheck = 0;\r\n\r\nvar main = [];\r\nlet rawdata = fs.readFileSync('C:/Users/jay/Documents/crawl/filtered.json');\r\nlet jsonParsed = JSON.parse(rawdata);\r\n\r\nasync function makeRequests (lines) {\r\n    for (const line of lines) {\r\n\r\n\r\n      try {\r\n        const encodedLink = encodeURI(line.link)\r\n        statusCheck =statusCheck+1\r\n        console.log(encodedLink +\" : \"+ statusCheck)\r\n        const response = await axios.get(encodedLink)\r\n        console.log(response.status)\r\n\r\n      } catch (error) {\r\n\r\n          var Status_ErrorsCatch = {\r\n              \"status Code\": error.response.status ? error.response.status : \"No status code available\",\r\n              \"Page title:\": $('title').text() ? $('title').text() : 'No title avaialble',\r\n              \"Original Link\": encodedLink ? encodedLink : \"No Original Link Available\",\r\n          }\r\n          main.push(Status_ErrorsCatch)\r\n      }\r\n    }\r\n\r\n  }\r\n  \r\n  try {\r\n    makeRequests(jsonParsed)\r\n\r\n  } catch (error) {\r\n      console.log(\"whole function error\",error)\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript"], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 8522060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e36ed9502aa9dfaccd8d34438b9d4d8c?s=128&d=identicon&r=PG&f=1", "display_name": "Ty H", "link": "https://stackoverflow.com/users/8522060/ty-h"}, "edited": false, "score": 0, "creation_date": 1562192608, "post_id": 56878583, "comment_id": 100305726, "body": "I appreciate the idea, but I am trying to make the page work offline and not need to reference any other source if possible. I feel like I am pretty close with my script, but just missing something."}], "tags": [], "owner": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "is_accepted": false, "score": 1, "last_activity_date": 1562192357, "creation_date": 1562192357, "answer_id": 56878583, "question_id": 56878540, "link": "https://stackoverflow.com/questions/56878540/javascript-adding-suffix-to-todays-date/56878583#56878583", "title": "JavaScript adding suffix to today&#39;s date", "body": "<p>Just use <a href=\"https://momentjs.com/docs/#/displaying/\" rel=\"nofollow noreferrer\">moment.js</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>console.log(moment('2019-07-04').format('MMMM do'));\r\nconsole.log(moment('2019-07-03').format('MMMM do'));</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment-with-locales.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 79, "user_id": 8522060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e36ed9502aa9dfaccd8d34438b9d4d8c?s=128&d=identicon&r=PG&f=1", "display_name": "Ty H", "link": "https://stackoverflow.com/users/8522060/ty-h"}, "edited": false, "score": 0, "creation_date": 1562192806, "post_id": 56878613, "comment_id": 100305767, "body": "Dude, that&#39;s awesome, Thanks!, one little problem, it&#39;s now showing the suffix, although now It&#39;s saying it&#39;s July 33rd. I don&#39;t know where it picked up the extra 3 from."}, {"owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "reply_to_user": {"reputation": 79, "user_id": 8522060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e36ed9502aa9dfaccd8d34438b9d4d8c?s=128&d=identicon&r=PG&f=1", "display_name": "Ty H", "link": "https://stackoverflow.com/users/8522060/ty-h"}, "edited": false, "score": 1, "creation_date": 1562192860, "post_id": 56878613, "comment_id": 100305782, "body": "Hehe, yeah, I realized it after I&#39;ve posted the answer. I&#39;ve updated it!"}, {"owner": {"reputation": 79, "user_id": 8522060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e36ed9502aa9dfaccd8d34438b9d4d8c?s=128&d=identicon&r=PG&f=1", "display_name": "Ty H", "link": "https://stackoverflow.com/users/8522060/ty-h"}, "edited": false, "score": 0, "creation_date": 1562193239, "post_id": 56878613, "comment_id": 100305858, "body": "I made the change recommended, but I am still getting an output of 33rd. I did notice I was returning August, so corrected the month +1 to +0 which now returns July. Is there something else I&#39;m missing for the extra 3 in there?"}, {"owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "reply_to_user": {"reputation": 79, "user_id": 8522060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e36ed9502aa9dfaccd8d34438b9d4d8c?s=128&d=identicon&r=PG&f=1", "display_name": "Ty H", "link": "https://stackoverflow.com/users/8522060/ty-h"}, "edited": false, "score": 1, "creation_date": 1562193334, "post_id": 56878613, "comment_id": 100305889, "body": "Maybe there&#39;s a little error elsewhere. I&#39;ve added a working code snippet to my answer so you can see it in action."}, {"owner": {"reputation": 79, "user_id": 8522060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e36ed9502aa9dfaccd8d34438b9d4d8c?s=128&d=identicon&r=PG&f=1", "display_name": "Ty H", "link": "https://stackoverflow.com/users/8522060/ty-h"}, "edited": false, "score": 0, "creation_date": 1562193400, "post_id": 56878613, "comment_id": 100305901, "body": "I see that,, and yeah, your snippet is also returning the 33rd. It&#39;s so close, I am trying to spot the cause."}, {"owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "reply_to_user": {"reputation": 79, "user_id": 8522060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e36ed9502aa9dfaccd8d34438b9d4d8c?s=128&d=identicon&r=PG&f=1", "display_name": "Ty H", "link": "https://stackoverflow.com/users/8522060/ty-h"}, "edited": false, "score": 1, "creation_date": 1562193523, "post_id": 56878613, "comment_id": 100305924, "body": "Outch sorry! I didn&#39;t see you&#39;ve multiple return statements in there. You need to remove <code>i +</code> from each one!"}, {"owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "reply_to_user": {"reputation": 79, "user_id": 8522060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e36ed9502aa9dfaccd8d34438b9d4d8c?s=128&d=identicon&r=PG&f=1", "display_name": "Ty H", "link": "https://stackoverflow.com/users/8522060/ty-h"}, "edited": false, "score": 1, "creation_date": 1562193696, "post_id": 56878613, "comment_id": 100305972, "body": "No problem Ty H - glad I could help!"}], "tags": [], "owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "is_accepted": true, "score": 1, "last_activity_date": 1562193484, "last_edit_date": 1562193484, "creation_date": 1562192574, "answer_id": 56878613, "question_id": 56878540, "link": "https://stackoverflow.com/questions/56878540/javascript-adding-suffix-to-todays-date/56878613#56878613", "title": "JavaScript adding suffix to today&#39;s date", "body": "<p>There's a little error in your code</p>\n\n<pre><code>var addSuffix = getTodayDate.dateSuffix;\n</code></pre>\n\n<p>Here you're trying to call the function/property .<strong>dateSuffix</strong> on the object <strong>getTodayDate</strong>.</p>\n\n<p>getTodayDate is actually a variable holding the day as an integer. dateSuffix on the other hand is a function that expects a parameter in parantheses.</p>\n\n<p>So simply change it to this:</p>\n\n<pre><code>var addSuffix = dateSuffix(getTodayDate);\n</code></pre>\n\n<p>Also, the following function already returns the day as a number</p>\n\n<pre><code>var getCurrentDateTime = getCurrentHours + ':' + getCurrentMinutes + ' ' + \ngetCurrentAmPm + '&lt;br /&gt;' + monthNames[getTodayMonth] + ' ' + getTodayDate + \naddSuffix + ' ' + getTodayFullYear;\n</code></pre>\n\n<p>So you don't need to return it from the dateSuffix function.</p>\n\n<p>Change</p>\n\n<pre><code>return i + \"th\";\n</code></pre>\n\n<p>to</p>\n\n<pre><code>return  \"th\";\n</code></pre>\n\n<p>Here's a working example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function todayDateTime() {\r\n\r\n  var monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n    \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\r\n  ];\r\n  var todayDate = new Date();\r\n  var getCurrentHours = todayDate.getHours();\r\n  var getCurrentMinutes = todayDate.getMinutes();\r\n  var getCurrentAmPm = getCurrentHours &gt;= 12 ? 'PM' : 'AM';\r\n  var getTodayMonth = todayDate.getMonth() + 1;\r\n  var getTodayDate = todayDate.getDate();\r\n  var addSuffix = dateSuffix(getTodayDate);\r\n\r\n  var getTodayFullYear = todayDate.getFullYear();\r\n  getCurrentHours = getCurrentHours % 12;\r\n  getCurrentHours = getCurrentHours ? getCurrentHours : 12;\r\n  getCurrentMinutes = getCurrentMinutes &lt; 10 ? '0' + getCurrentMinutes :\r\n    getCurrentMinutes;\r\n\r\n  var getCurrentDateTime = getCurrentHours + ':' + getCurrentMinutes + ' ' +\r\n    getCurrentAmPm + '&lt;br /&gt;' + monthNames[getTodayMonth] + ' ' + getTodayDate +\r\n    addSuffix + ' ' + getTodayFullYear;\r\n\r\n\r\n  return (getCurrentDateTime);\r\n}\r\n\r\n\r\n\r\nfunction dateSuffix(i) {\r\n  var j = i % 10,\r\n    k = i % 100;\r\n  if (j == 1 &amp;&amp; k != 11) {\r\n    return \"st\";\r\n  }\r\n  if (j == 2 &amp;&amp; k != 12) {\r\n    return \"nd\";\r\n  }\r\n  if (j == 3 &amp;&amp; k != 13) {\r\n    return \"rd\";\r\n  }\r\n  return \"th\";\r\n}\r\n\r\nconsole.log(todayDateTime());</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 79, "user_id": 8522060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e36ed9502aa9dfaccd8d34438b9d4d8c?s=128&d=identicon&r=PG&f=1", "display_name": "Ty H", "link": "https://stackoverflow.com/users/8522060/ty-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 56878613, "answer_count": 2, "score": 0, "last_activity_date": 1562193484, "creation_date": 1562192049, "question_id": 56878540, "link": "https://stackoverflow.com/questions/56878540/javascript-adding-suffix-to-todays-date", "title": "JavaScript adding suffix to today&#39;s date", "body": "<p>I have been trying to get this code to work to have both the date and time and also output the suffix on the date, like July '3rd'. I have been trying to get the main date function try to call the suffix function, but I keep getting an error of undefined on output. Apologies I am sure it's something simple I missed, I am still learning all this.</p>\n\n<p>The script:</p>\n\n<pre><code>function todayDateTime() {\n\nvar monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n\"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\n];\nvar todayDate = new Date();\nvar getCurrentHours = todayDate.getHours();\nvar getCurrentMinutes = todayDate.getMinutes();\nvar getCurrentAmPm = getCurrentHours &gt;= 12 ? 'PM' : 'AM';\nvar getTodayMonth =  todayDate.getMonth()+1;\nvar getTodayDate = todayDate.getDate();\n\nvar addSuffix = getTodayDate.dateSuffix;\n\nvar getTodayFullYear = todayDate.getFullYear();\ngetCurrentHours = getCurrentHours % 12;\ngetCurrentHours = getCurrentHours ? getCurrentHours : 12; \ngetCurrentMinutes = getCurrentMinutes &lt; 10 ? '0'+getCurrentMinutes : \ngetCurrentMinutes;\n\nvar getCurrentDateTime = getCurrentHours + ':' + getCurrentMinutes + ' ' + \ngetCurrentAmPm + '&lt;br /&gt;' + monthNames[getTodayMonth] + ' ' + getTodayDate + \naddSuffix + ' ' + getTodayFullYear;\n\n\nreturn(getCurrentDateTime);\n}\n\n\n\nfunction dateSuffix(i) {\nvar j = i % 10,\n    k = i % 100;\nif (j == 1 &amp;&amp; k != 11) {\n    return i + \"st\";\n}\nif (j == 2 &amp;&amp; k != 12) {\n    return i + \"nd\";\n}\nif (j == 3 &amp;&amp; k != 13) {\n    return i + \"rd\";\n}\nreturn i + \"th\";\n}\n</code></pre>\n\n<p>Any help would be greatly appreciated.</p>\n"}, {"tags": ["javascript", "vue.js"], "comments": [{"owner": {"reputation": 103, "user_id": 11689189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efa3a86000d76bdc9c145e87b57a9dfe?s=128&d=identicon&r=PG&f=1", "display_name": "benjaminadon", "link": "https://stackoverflow.com/users/11689189/benjaminadon"}, "edited": false, "score": 0, "creation_date": 1562192112, "post_id": 56878535, "comment_id": 100305631, "body": "all the data being pushed into job_execs is valid and tested and being used elsewhere within this application so i know that is not the issue"}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 11689189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efa3a86000d76bdc9c145e87b57a9dfe?s=128&d=identicon&r=PG&f=1", "display_name": "benjaminadon", "link": "https://stackoverflow.com/users/11689189/benjaminadon"}, "edited": false, "score": 0, "creation_date": 1562193706, "post_id": 56878694, "comment_id": 100305973, "body": "Do you have an example?  I&#39;m not sure how I would accomplish this I have a few questions.  One thing I&#39;m not sure how it would work is if I&#39;m already pushing data into job_execs in the created hook, how would i then update the duration for each object in job_execs from mounted?"}, {"owner": {"reputation": 45, "user_id": 1802082, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zbd0r.png?s=128&g=1", "display_name": "Mostafa", "link": "https://stackoverflow.com/users/1802082/mostafa"}, "reply_to_user": {"reputation": 103, "user_id": 11689189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efa3a86000d76bdc9c145e87b57a9dfe?s=128&d=identicon&r=PG&f=1", "display_name": "benjaminadon", "link": "https://stackoverflow.com/users/11689189/benjaminadon"}, "edited": false, "score": 0, "creation_date": 1562194319, "post_id": 56878694, "comment_id": 100306104, "body": "I think you can in each time interval iterate over the job_execs array and if duration is not defined for an item, calculate the liveDuration for that item. Then put that duration data in the item (e.g. item[liveDuration] = liveDuration). Then you can show that value in your template if duration is not defined and it will get updated in each interval."}], "tags": [], "owner": {"reputation": 45, "user_id": 1802082, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zbd0r.png?s=128&g=1", "display_name": "Mostafa", "link": "https://stackoverflow.com/users/1802082/mostafa"}, "is_accepted": false, "score": 0, "last_activity_date": 1562193261, "creation_date": 1562193261, "answer_id": 56878694, "question_id": 56878535, "link": "https://stackoverflow.com/questions/56878535/why-does-the-time-not-update-live-in-my-vue-js-component/56878694#56878694", "title": "Why does the time not update live in my vue.js component?", "body": "<p>I think the main problem is with the value that the liveUpdate method returns. It returns a setInterval handler and that is not the duration that you want to show.\nSecond problem is that even if the method returns the correct value it won't get updated automatically. If you want it to update for example each 1 second, you should use setInterval in the mounted hook and update the data in each interval. Updating the data will automatically and reactively update the view.</p>\n"}], "owner": {"reputation": 103, "user_id": 11689189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efa3a86000d76bdc9c145e87b57a9dfe?s=128&d=identicon&r=PG&f=1", "display_name": "benjaminadon", "link": "https://stackoverflow.com/users/11689189/benjaminadon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562193261, "creation_date": 1562192040, "question_id": 56878535, "link": "https://stackoverflow.com/questions/56878535/why-does-the-time-not-update-live-in-my-vue-js-component", "title": "Why does the time not update live in my vue.js component?", "body": "<p>Right now I have my component working where it will show the duration when given a <code>time_start</code> and <code>time_end</code>, but I am trying to show the live duration if no <code>time_end</code> is given.  All of this logic happens inside of calculateDuration method, but I had to create another wrapper method <code>liveDuration</code> to keep updating the calculateDuration every second.  With the code below, I am seeing errors appear in the console every second </p>\n\n<pre><code>Uncaught SyntaxError: Unexpected identifier\n</code></pre>\n\n<p>but if i click on the error in the console, it shows me the correct duration</p>\n\n<pre><code>0 hrs 1 min 7 sec\n</code></pre>\n\n<p>However, all that's rendered in the template is a static number such as 5 or 7 which never updates, and I'm not sure where these numbers are coming from.</p>\n\n<p>How do I update the code below so that the duration is live updated every second in the template?</p>\n\n<pre><code>&lt;template&gt;\n  &lt;div class=\"executions\"&gt;\n    &lt;h3&gt;Recent Jobs&lt;/h3&gt;\n    &lt;table&gt;\n      &lt;template&gt;\n        &lt;tr&gt;\n          &lt;td&gt;&lt;b&gt;Job&lt;/b&gt;&lt;/td&gt;\n          &lt;td&gt;&lt;b&gt;Duration&lt;/b&gt;&lt;/td&gt;\n          &lt;td&gt;&lt;b&gt;Result&lt;/b&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n          &lt;td&gt;{{ item.id }}&lt;/td&gt;\n          &lt;td&gt;\n          &lt;template v-if=\"item.duration == 'N/A'\"&gt;\n            {{ liveUpdate(item.time_start) }}\n          &lt;/template&gt;\n          &lt;template v-else&gt;\n            {{ item.duration }}\n          &lt;/template&gt;\n          &lt;/td&gt;\n          &lt;td&gt;{{ item.status }}&lt;/td&gt;\n        &lt;/tr&gt;\n      &lt;/template&gt;\n    &lt;/table&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nimport moment from \"moment\";\n\nexport default {\n  name: \"Executions\",\n  data() {\n    return {\n      job_execs: []\n    };\n  },\n  methods: {\n    calculateDuration: function(time_start, time_end) {\n      let duration = \"N/A\"\n      if (time_start &amp;&amp; time_end) {\n        time_start = moment(time_start)\n        time_end = moment(time_end)\n        duration = moment.duration(time_end.diff(time_start));\n        if (duration.seconds() == 0) {\n          duration = \"N/A\";\n        } else {\n          duration =\n          duration.hours() +\n          \" hrs \" +\n          duration.minutes() +\n          \" min \" +\n          duration.seconds() +\n          \" sec\";\n        }\n        time_start = time_start.format(\"LLL\")\n        time_end = time_end.format(\"LLL\")\n      }\n      if (time_start == null) {\n        time_start = \"N/A\";\n      }\n      else {\n        time_start = moment(time_start).format(\"LLL\")\n      }\n      if (time_end == null) {\n        time_end = \"N/A\";\n      }\n      else {\n        time_end = moment(time_end).format(\"LLL\")\n      }\n      return {time_start, time_end, duration}\n    },\n    liveDuration: function(time_start) {\n      let now = moment();\n      let duration = \"N/A\"\n      console.log(time_start)\n      if (time_start) {\n        console.log(time_start)\n        time_start = moment(time_start)\n        console.log(time_start)\n        let time_current = moment()\n        console.log(time_current)\n        duration = moment.duration(time_current.diff(time_start));\n        console.log(duration)\n        if (duration.seconds() == 0) {\n          duration = \"N/A\";\n        } else {\n          duration =\n          duration.hours() +\n          \" hrs \" +\n          duration.minutes() +\n          \" min \" +\n          duration.seconds() +\n          \" sec\";\n        }\n      }\n      return duration\n    },\n    liveUpdate: function(time_start) {\n      let that=this;\n      let time_live = setInterval(that.liveDuration(time_start), 1000);\n      return time_live\n    },\n  },\n  created() {\n    this.jobExecEndpoint = 'http://test'\n    fetch(this.jobExecEndpoint)\n      .then(response =&gt; response.json())\n      .then(body =&gt; {\n        for (let i = 0; i &lt; body.length; i++) {\n          let {time_start, time_end, duration} = this.calculateDuration(body[i].time_start, body[i].time_end);\n          this.job_execs.push({\n            id: body[i].id,\n            time_start: time_start,\n            time_end: time_end,\n            duration: duration,\n            status: body[i].status.name,\n          });\n        }\n      })\n      .catch(err =&gt; {\n        console.log(\"Error Fetching:\", this.jobExecEndpoint, err);\n        return { failure: this.jobExecEndpoint, reason: err };\n      });\n  }\n};\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "cloudinary"], "comments": [{"owner": {"reputation": 176, "user_id": 6315876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee0024b01d77a5c4d7b395a7e1696d0e?s=128&d=identicon&r=PG&f=1", "display_name": "Raze", "link": "https://stackoverflow.com/users/6315876/raze"}, "edited": false, "score": 0, "creation_date": 1562581666, "post_id": 56878524, "comment_id": 100406509, "body": "Unfortunately I wasn&#39;t able to reproduce this. Does this happen with plain JavaScript and are you able to share a CodePen/JSFiddle or similar snippet that reproduces this issue (JS/React)? In addition, I would also try to use <code>e.preventDefault();</code> within the openWidget(e) callback function."}], "answers": [{"tags": [], "owner": {"reputation": 2690, "user_id": 3419624, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/650819910/picture?type=large", "display_name": "Offir Pe&#39;er", "link": "https://stackoverflow.com/users/3419624/offir-peer"}, "is_accepted": false, "score": 0, "last_activity_date": 1587503950, "creation_date": 1587503950, "answer_id": 61353448, "question_id": 56878524, "link": "https://stackoverflow.com/questions/56878524/cloudinary-widget-for-image-upload-in-form/61353448#61353448", "title": "Cloudinary Widget for Image Upload in Form", "body": "<p>Did you manage to solve this issue?<br>\nI am having the same issue as well I managed to solve it using the \n<code>inlineContainer</code> option</p>\n\n<p>Take a look:\n<a href=\"https://jsfiddle.net/7uqb83t1/\" rel=\"nofollow noreferrer\">Image widget uploader</a></p>\n"}, {"comments": [{"owner": {"reputation": 3364, "user_id": 7508700, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ms4Mr.png?s=128&g=1", "display_name": "David Buck", "link": "https://stackoverflow.com/users/7508700/david-buck"}, "edited": false, "score": 0, "creation_date": 1617565071, "post_id": 66944756, "comment_id": 118334533, "body": "<a href=\"https://stackoverflow.com/posts/66944756/edit\">edit</a>ing your answer and adding some context would make it far more useful to others."}], "tags": [], "owner": {"reputation": 1, "user_id": 9021842, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sGUwH0RWFy8/AAAAAAAAAAI/AAAAAAAAACk/CDBWb_-9p1U/photo.jpg?sz=128", "display_name": "Shashank Shekhar", "link": "https://stackoverflow.com/users/9021842/shashank-shekhar"}, "is_accepted": false, "score": 0, "last_activity_date": 1617564887, "last_edit_date": 1617564887, "creation_date": 1617562249, "answer_id": 66944756, "question_id": 56878524, "link": "https://stackoverflow.com/questions/56878524/cloudinary-widget-for-image-upload-in-form/66944756#66944756", "title": "Cloudinary Widget for Image Upload in Form", "body": "<p>Try this:</p>\n<pre><code>&lt;Button type=&quot;button&quot; onClick={() =&gt; this.openWidget()}&gt;Upload Photo&lt;/Button&gt;\n</code></pre>\n"}], "owner": {"reputation": 36, "user_id": 11432964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cYUTx.jpg?s=128&g=1", "display_name": "wingthor", "link": "https://stackoverflow.com/users/11432964/wingthor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 229, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1617564887, "creation_date": 1562191966, "last_edit_date": 1580743454, "question_id": 56878524, "link": "https://stackoverflow.com/questions/56878524/cloudinary-widget-for-image-upload-in-form", "title": "Cloudinary Widget for Image Upload in Form", "body": "<p>I have a form component for creating / updating a playlist. This includes some input fields, like \"Name\" and \"Description\". I also have an image upload button which opens the Cloudinary Widget. The problem is that once the widget is opened, it auto-submits my form. </p>\n\n<p>I don't see any props for the cloudinary widget that would prevent this. Every example I see of people using this widget is JUST to upload an image, not in conjunction with a form. </p>\n\n<p>(I'm using Semantic UI's React library for styling)</p>\n\n<p>Is this not possible? </p>\n\n<pre><code>//form \n&lt;Form onSubmit={this.handleSubmit}&gt;\n    &lt;Form.Field required&gt;\n        &lt;label&gt;Name&lt;/label&gt;\n        &lt;input\n            placeholder='Name'\n            value={this.state.name}\n            name=\"name\"\n            onChange={(event) =&gt; this.handleChange(event)}\n        /&gt;\n    &lt;/Form.Field&gt;\n    &lt;Form.TextArea\n        label='Description'\n        value={this.state.description}\n        placeholder='Description'\n        name=\"description\"\n        onChange={(event) =&gt; this.handleChange(event)}\n    /&gt;\n    &lt;Form.Field &gt;\n        &lt;label&gt;Image&lt;/label&gt;\n        &lt;Button onClick={() =&gt; this.openWidget()}&gt;Upload Photo&lt;/Button&gt;\n        {/* &lt;input id=\"upload\" type=\"file\" name=\"image\" onChange={(event) =&gt; this.handleChange(event)}/&gt; */}\n    &lt;/Form.Field&gt;\n    &lt;Button type='submit'&gt;Submit&lt;/Button&gt;\n&lt;/Form&gt;\n\n//button callback to open widget\n\nopenWidget = () =&gt; {\n        window.cloudinary.createUploadWidget(\n         {\n           cloudName: CLOUD_NAME,\n           uploadPreset: \"u9gezupm\"\n         },\n         (error, result) =&gt; {\n\n           if (result &amp;&amp; result.event === \"success\") {\n             // debugger\n             this.setState({\n               image: `https://res.cloudinary.com/${CLOUD_NAME}/image/upload/${result.info.path}`, uploaded: true\n             });\n           }\n         }\n       ).open()\n      }\n</code></pre>\n\n<p>I would like the process to be as follows:</p>\n\n<ol>\n<li>Form Button Clicked</li>\n<li>Form Modal Opened</li>\n<li>Name / Description fields filled out</li>\n<li>Image button clicked</li>\n<li>Cloudinary Widget opens</li>\n<li>User uploads image. </li>\n<li>Successful upload closes widget, back to form with image preview. </li>\n<li>User clicks \"Submit\" to submit the form, sending the data to the backend / Cloudinary.</li>\n</ol>\n\n<p>I am open to other alternatives to Cloudinary as well. </p>\n"}, {"tags": ["javascript", "jquery", "wordpress"], "comments": [{"owner": {"reputation": 7449, "user_id": 1193808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2c02a38397eaca6fa70fe1162f18f4b?s=128&d=identicon&r=PG", "display_name": "Subir Kumar Sao", "link": "https://stackoverflow.com/users/1193808/subir-kumar-sao"}, "edited": false, "score": 1, "creation_date": 1562192274, "post_id": 56878468, "comment_id": 100305668, "body": "There is too little information to debug the issue."}], "answers": [{"comments": [{"owner": {"reputation": 515, "user_id": 1895264, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/pakM5.jpg?s=128&g=1", "display_name": "Alejo_Blue", "link": "https://stackoverflow.com/users/1895264/alejo-blue"}, "edited": false, "score": 0, "creation_date": 1562279464, "post_id": 56889049, "comment_id": 100335705, "body": "thank you for your help! I indeed found that but also i found another main.js So i put the same sample you suggested. It seems it stays the same with same values. How can i debbug this myself with the developer tools on the browsers? please, thank you for your help"}], "tags": [], "owner": {"reputation": 26, "user_id": 11702109, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Cw9o7ekJK4o/AAAAAAAAAAI/AAAAAAAACKY/jtqOZngjjGA/photo.jpg?sz=128", "display_name": "Krzysztof Chodera", "link": "https://stackoverflow.com/users/11702109/krzysztof-chodera"}, "is_accepted": true, "score": 1, "last_activity_date": 1562246943, "creation_date": 1562246943, "answer_id": 56889049, "question_id": 56878468, "link": "https://stackoverflow.com/questions/56878468/counter-up-number-displays-different-amount-than-specified/56889049#56889049", "title": "Counter Up Number displays different amount than specified", "body": "<p>In your JS file main.js on line 68 these values are hardcoded:</p>\n\n<pre><code>var patients  = new CountUp('patients', 0, 28500, 0, 2.5, options);\nvar reviews   = new CountUp('reviews', 0, 550, 0, 2.5, options);\nvar clinics   = new CountUp('clinics', 0, 11, 0, 2.5, options);\n</code></pre>\n\n<p>Change hardcoded values to real values from your html by id:</p>\n\n<pre><code>var reviews   = new CountUp('reviews', 0, $('#reviews').html(), 0, 2.5, options);\n</code></pre>\n"}], "owner": {"reputation": 515, "user_id": 1895264, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/pakM5.jpg?s=128&g=1", "display_name": "Alejo_Blue", "link": "https://stackoverflow.com/users/1895264/alejo-blue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 56889049, "answer_count": 1, "score": -1, "last_activity_date": 1562246943, "creation_date": 1562191521, "question_id": 56878468, "link": "https://stackoverflow.com/questions/56878468/counter-up-number-displays-different-amount-than-specified", "title": "Counter Up Number displays different amount than specified", "body": "<p>I got the following section on this websit: <a href=\"https://spineandsportsmed.com/\" rel=\"nofollow noreferrer\">https://spineandsportsmed.com/</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/nbDBu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nbDBu.png\" alt=\"counter issue\"></a></p>\n\n<p>We changed the <strong>550+</strong> number to <strong>775+</strong> but amount doesn't change.</p>\n\n<p>Cleared cache. Tried on several browsers. TOR Browser too. Nothing yet.</p>\n\n<p>Same issues with <strong>14 clinics</strong>. As a quickfix: hardcoded the number 14 but we really want the counter up working.</p>\n\n<p><strong>Code for reviews:</strong></p>\n\n<pre><code>&lt;div class=\"col-md-4\"&gt;\n    &lt;div class=\"&lt;?= $classes-&gt;panel ?&gt;--box\"&gt;\n      &lt;h1&gt;&lt;span id=\"reviews\"&gt;775&lt;/span&gt;+&lt;/h1&gt;\n      &lt;p&gt;5-Star Reviews&lt;/p&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p><strong>Code for Clinics:</strong></p>\n\n<pre><code>&lt;div class=\"col-md-4\"&gt;\n    &lt;div class=\"&lt;?= $classes-&gt;panel ?&gt;--box\"&gt;\n      &lt;!-- &lt;h1 id=\"clinics\"&gt;14&lt;/h1&gt; --&gt;\n      &lt;h1&gt;14&lt;/h1&gt;\n      &lt;p&gt;Clinics&lt;/p&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>At the topf of this code i found the following which i don't understand what it is\n and <strong>no other reference to a javascript library or jquery</strong> on the server or outside so i could check the issue.</p>\n\n<pre><code>&lt;?php\nuse Roots\\Sage\\Assets;\nuse Roots\\Sage\\Panels;\n\n$classes = Panels\\get_panel_classes('trust', Panels\\get_unique_panel_id(), 'copter--home__');\n?&gt;\n</code></pre>\n\n<p>Not sure if this is implemented with JQuery or Javascript, when i used the developer tools on browser nothing is displayed</p>\n\n<p>I would be more than gratefull if you could give me a little of what could e the cause of the issue of where can i seek more using the developer tools. Thanks.</p>\n"}, {"tags": ["javascript", "html", "css", "twitter-bootstrap"], "answers": [{"tags": [], "owner": {"reputation": 310, "user_id": 5141642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d41d2d2e2427e266a3ec8322f6d6b40?s=128&d=identicon&r=PG&f=1", "display_name": "nzimpossible", "link": "https://stackoverflow.com/users/5141642/nzimpossible"}, "is_accepted": false, "score": 0, "last_activity_date": 1562196762, "creation_date": 1562196762, "answer_id": 56879054, "question_id": 56878465, "link": "https://stackoverflow.com/questions/56878465/bootstrap-how-to-use-equal-widths-in-a-navbar/56879054#56879054", "title": "Bootstrap - How to use equal widths in a navbar?", "body": "<p>I suggest you use the bootstrap grid system, (seen here: <a href=\"https://getbootstrap.com/docs/4.0/layout/grid/\" rel=\"nofollow noreferrer\">https://getbootstrap.com/docs/4.0/layout/grid/</a>) You could give each of your list elements the class col-10 and offset-1. This will make them all the same width and also center them slightly in the middle of the page.</p>\n\n<p>If you want them to be smaller you could also give them col-6 and an offset of 3 for example. </p>\n\n<p>if you want them to be full width simply give them the col-12 class or evenly spaced with just col.</p>\n\n<p>You can also make them different sizes based upon breakpoints/window res with classes like col-12 col-md-8 offset-md-2 (full width on mobile and then less wide but centered on larger displays. </p>\n"}, {"tags": [], "owner": {"reputation": 1499, "user_id": 6019515, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/aB5Zn.jpg?s=128&g=1", "display_name": "Prabhat Sinha", "link": "https://stackoverflow.com/users/6019515/prabhat-sinha"}, "is_accepted": false, "score": 0, "last_activity_date": 1562217835, "creation_date": 1562217835, "answer_id": 56881139, "question_id": 56878465, "link": "https://stackoverflow.com/questions/56878465/bootstrap-how-to-use-equal-widths-in-a-navbar/56881139#56881139", "title": "Bootstrap - How to use equal widths in a navbar?", "body": "<p>Use following code for responsive behavior,</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>&lt;style&gt;\r\n* {box-sizing: border-box}\r\nbody {font-family: Arial, Helvetica, sans-serif;}\r\n\r\n.navbar {\r\n  width: 100%;\r\n  background-color: #555;\r\n  overflow: auto;\r\n}\r\n\r\n.navbar a {\r\n  float: left;\r\n  padding: 12px;\r\n  color: white;\r\n  text-decoration: none;\r\n  font-size: 17px;\r\n  width: 25%; /* Four links of equal widths */\r\n  text-align: center;\r\n}\r\n\r\n.navbar a:hover {\r\n  background-color: #000;\r\n}\r\n\r\n.navbar a.active {\r\n  background-color: #4CAF50;\r\n}\r\n\r\n@media screen and (max-width: 500px) {\r\n  .navbar a {\r\n    float: none;\r\n    display: block;\r\n    width: 100%;\r\n    text-align: left;\r\n  }\r\n}\r\n&lt;/style&gt;</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\r\n\r\n&lt;body&gt;\r\n\r\n&lt;h2&gt;Responsive Navbar with Links of Same Width&lt;/h2&gt;\r\n&lt;p&gt;Try to resize the browser window to see the responsive effect.&lt;/p&gt;\r\n\r\n&lt;div class=\"navbar\"&gt;\r\n&lt;a class=\"active\" href=\"#\"&gt;Home&lt;/a&gt; \r\n&lt;a href=\"#\"&gt;Search&lt;/a&gt; \r\n&lt;a href=\"#\"&gt;Contact&lt;/a&gt; \r\n&lt;a href=\"#\"&gt;Login&lt;/a&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt; </code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11736611"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 424, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1562217835, "creation_date": 1562191495, "last_edit_date": 1592644375, "question_id": 56878465, "link": "https://stackoverflow.com/questions/56878465/bootstrap-how-to-use-equal-widths-in-a-navbar", "title": "Bootstrap - How to use equal widths in a navbar?", "body": "<p>I am working with Bootstrap in Django/Python. I am having trouble using equal widths in a navbar.</p>\n<p>I've set up the collapse configuration in my menu. But I can't seem to apply equal widths to its items before collapsing. I want the menu items to be equal width and in the center of the page, but instead they are on the left side.</p>\n<p>How can I solve it?</p>\n<h3>HTML:</h3>\n<pre><code>    &lt;nav class=&quot;navbar navbar-expand-sm&quot;&gt;\n      &lt;button class=&quot;navbar-toggler&quot; type=&quot;button&quot; data-toggle=&quot;collapse&quot; data-target=&quot;#menu-collapse&quot;&gt;\n        &lt;span class=&quot;navbar-toggler-icon&quot;&gt;&lt;/span&gt;\n      &lt;/button&gt;\n        &lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;menu-collapse&quot;&gt;\n          &lt;ul class=&quot;navbar-nav text-center&quot; aria-expanded&gt;\n            &lt;li class=&quot;nav-item&quot;&gt;&lt;a href=&quot;#&quot; class=&quot;nav-link&quot;&gt;Services&lt;/a&gt;&lt;/li&gt;\n            &lt;li class=&quot;nav-item&quot;&gt;&lt;a href=&quot;#&quot; class=&quot;nav-link&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;\n            &lt;li class=&quot;nav-item&quot;&gt;&lt;a href=&quot;#&quot; class=&quot;nav-link&quot;&gt;Contact us&lt;/a&gt;&lt;/li&gt;\n          &lt;/ul&gt;\n        &lt;/div&gt;\n    &lt;/nav&gt;\n</code></pre>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1562191471, "post_id": 56878434, "comment_id": 100305507, "body": "Please add the line from <code>render()</code> that sets <code>currentValue</code>."}, {"owner": {"reputation": 13611, "user_id": 7060441, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/kKetn.jpg?s=128&g=1", "display_name": "devserkan", "link": "https://stackoverflow.com/users/7060441/devserkan"}, "edited": false, "score": 1, "creation_date": 1562192243, "post_id": 56878434, "comment_id": 100305662, "body": "Your code should work as it is if you are successfully destructring <code>createNewBoard</code> and <code>onChange</code> from <code>this</code> and <code>currentValue</code> from <code>this.state</code>. If possible, please share your whole component here (as a working copy)."}, {"owner": {"reputation": 141, "user_id": 11736605, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9hcqPoqurlg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rff6J4T9iQmnVMeb3bq09OFmWj9-Q/photo.jpg?sz=128", "display_name": "niinja no", "link": "https://stackoverflow.com/users/11736605/niinja-no"}, "edited": false, "score": 0, "creation_date": 1562194284, "post_id": 56878434, "comment_id": 100306100, "body": "updated with some more information, thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 8188, "user_id": 7838401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8avnB.png?s=128&g=1", "display_name": "Steve Holgado", "link": "https://stackoverflow.com/users/7838401/steve-holgado"}, "reply_to_user": {"reputation": 141, "user_id": 11736605, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9hcqPoqurlg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rff6J4T9iQmnVMeb3bq09OFmWj9-Q/photo.jpg?sz=128", "display_name": "niinja no", "link": "https://stackoverflow.com/users/11736605/niinja-no"}, "edited": false, "score": 0, "creation_date": 1562273044, "post_id": 56878853, "comment_id": 100334341, "body": "No problem. We\u2019ve all been there :)"}], "tags": [], "owner": {"reputation": 8188, "user_id": 7838401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8avnB.png?s=128&g=1", "display_name": "Steve Holgado", "link": "https://stackoverflow.com/users/7838401/steve-holgado"}, "is_accepted": false, "score": 0, "last_activity_date": 1562194735, "creation_date": 1562194735, "answer_id": 56878853, "question_id": 56878434, "link": "https://stackoverflow.com/questions/56878434/unable-to-clear-controlled-input-with-setstate/56878853#56878853", "title": "Unable to clear controlled input with setstate", "body": "<p>Your input field is not updating because you are passing down <code>this.currentValue</code>, which will be undefined:</p>\n\n<pre><code>&lt;ActiveCreateBoard \n  toggleCreateBoard={this.toggleCreateBoard} \n  onChange={this.onChange} \n  currentValue={this.currentValue}\n  createNewBoard={this.createNewBoard} \n/&gt;\n</code></pre>\n\n<p>Instead, you need to pass down the value from state.</p>\n\n<p>Change to use <code>this.state.currentValue</code>:</p>\n\n<pre><code>&lt;ActiveCreateBoard \n  toggleCreateBoard={this.toggleCreateBoard} \n  onChange={this.onChange} \n  currentValue={this.state.currentValue} // &lt;---\n  createNewBoard={this.createNewBoard} \n/&gt;\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 11736605, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9hcqPoqurlg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rff6J4T9iQmnVMeb3bq09OFmWj9-Q/photo.jpg?sz=128", "display_name": "niinja no", "link": "https://stackoverflow.com/users/11736605/niinja-no"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562194735, "creation_date": 1562191223, "last_edit_date": 1562194250, "question_id": 56878434, "link": "https://stackoverflow.com/questions/56878434/unable-to-clear-controlled-input-with-setstate", "title": "Unable to clear controlled input with setstate", "body": "<p>currently trying to use setState to clear a controlled input, </p>\n\n<p>adding a value to the input field and using setState to clear it</p>\n\n<blockquote>\n  <p>The function that clears the state </p>\n</blockquote>\n\n<pre><code>createNewBoard = (e) =&gt; {\n  e.preventDefault();\n  const newItem = { boardname: this.state.currentValue, todo: []};\n  const updatedList = [...this.state.boards, newItem]\n  this.setState({ \n    boards: updatedList, \n    currentValue: '' \n });\n}\n</code></pre>\n\n<blockquote>\n  <p>passing down the props to the component</p>\n</blockquote>\n\n<pre><code>render() {\n    return(\n      &lt;&gt;\n        { this.state.isBoardOpen ? \n        &lt;ActiveCreateBoard \n          toggleCreateBoard={this.toggleCreateBoard} \n          onChange={this.onChange} \n          currentValue={this.currentValue}\n          createNewBoard={this.createNewBoard} \n        /&gt; : &lt;CreateBoard toggleCreateBoard={this.toggleCreateBoard}/&gt; }\n\n        &lt;ShowAllBoards boards={this.state.boards}/&gt;\n      &lt;/&gt;\n    )\n  }\n</code></pre>\n\n<blockquote>\n  <p>the component itself which is not updating the input field</p>\n</blockquote>\n\n<pre><code>const ActiveCreateBoard = ({ toggleCreateBoard, onChange, currentValue, createNewBoard }) =&gt; {\n    return(\n        &lt;div className=\"card\"&gt;\n            &lt;div className=\"card-body\"&gt;\n                &lt;form onSubmit={createNewBoard}&gt;  \n                    &lt;h4&gt;Pick a board name&lt;/h4&gt;\n                    &lt;input \n                    type=\"text\" \n                    onChange={onChange} \n                    value={currentValue}/&gt;\n                &lt;/form&gt;\n            &lt;/div&gt;\n            &lt;button onClick={toggleCreateBoard}&gt;close&lt;/button&gt;\n        &lt;/div&gt;\n    )\n}\n</code></pre>\n\n<p>this.setState is clearing the currentValue in state, but the value of the input field is not reflecting the update in state</p>\n"}, {"tags": ["javascript", "php", "ajax"], "comments": [{"owner": {"reputation": 4164, "user_id": 909973, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/hQuIk.jpg?s=128&g=1", "display_name": "bassxzero", "link": "https://stackoverflow.com/users/909973/bassxzero"}, "edited": false, "score": 0, "creation_date": 1562191467, "post_id": 56878395, "comment_id": 100305506, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2320069/jquery-ajax-file-upload\">jQuery Ajax File Upload</a>"}, {"owner": {"reputation": 25361, "user_id": 924299, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a142d1ec6b8444c9baf3ec6176e1cf61?s=128&d=identicon&r=PG&f=1", "display_name": "showdev", "link": "https://stackoverflow.com/users/924299/showdev"}, "edited": false, "score": 0, "creation_date": 1562191707, "post_id": 56878395, "comment_id": 100305565, "body": "The OP is not using jQuery."}, {"owner": {"reputation": 13, "user_id": 4561112, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153097934172767/picture?type=large", "display_name": "David Andersson", "link": "https://stackoverflow.com/users/4561112/david-andersson"}, "edited": false, "score": 0, "creation_date": 1562192731, "post_id": 56878395, "comment_id": 100305746, "body": "Not duplicate. Writing in js, not jquery."}], "answers": [{"comments": [{"owner": {"reputation": 25361, "user_id": 924299, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a142d1ec6b8444c9baf3ec6176e1cf61?s=128&d=identicon&r=PG&f=1", "display_name": "showdev", "link": "https://stackoverflow.com/users/924299/showdev"}, "edited": false, "score": 1, "creation_date": 1562192471, "post_id": 56878516, "comment_id": 100305699, "body": "For reference, see <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/open\" rel=\"nofollow noreferrer\">XMLHttpRequest.open()</a>."}, {"owner": {"reputation": 13, "user_id": 4561112, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153097934172767/picture?type=large", "display_name": "David Andersson", "link": "https://stackoverflow.com/users/4561112/david-andersson"}, "edited": false, "score": 0, "creation_date": 1562192648, "post_id": 56878516, "comment_id": 100305730, "body": "I didn&#39;t do that switch on the original code, but still makes no difference in result, unfortunately."}, {"owner": {"reputation": 519, "user_id": 2756931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1TmK6.jpg?s=128&g=1", "display_name": "Edwin Dijas Chiwona", "link": "https://stackoverflow.com/users/2756931/edwin-dijas-chiwona"}, "edited": false, "score": 1, "creation_date": 1562192978, "post_id": 56878516, "comment_id": 100305801, "body": "Try to comment out the setReuestHeader. Give me feedback"}, {"owner": {"reputation": 519, "user_id": 2756931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1TmK6.jpg?s=128&g=1", "display_name": "Edwin Dijas Chiwona", "link": "https://stackoverflow.com/users/2756931/edwin-dijas-chiwona"}, "edited": false, "score": 0, "creation_date": 1562196022, "post_id": 56878516, "comment_id": 100306456, "body": "Please, mark the answer as correct. Also updated it."}, {"owner": {"reputation": 13, "user_id": 4561112, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153097934172767/picture?type=large", "display_name": "David Andersson", "link": "https://stackoverflow.com/users/4561112/david-andersson"}, "edited": false, "score": 0, "creation_date": 1562222325, "post_id": 56878516, "comment_id": 100311724, "body": "Sorry, that did it. I had no idea the browser set the content-type header by itself to the corresponding formdata so that php can receive it.  Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryaOHix0yHdFVLGFaG  And not just: Content-Type: multipart/form-data;  Thank you!"}], "tags": [], "owner": {"reputation": 519, "user_id": 2756931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1TmK6.jpg?s=128&g=1", "display_name": "Edwin Dijas Chiwona", "link": "https://stackoverflow.com/users/2756931/edwin-dijas-chiwona"}, "is_accepted": true, "score": 1, "last_activity_date": 1562193310, "last_edit_date": 1562193310, "creation_date": 1562191904, "answer_id": 56878516, "question_id": 56878395, "link": "https://stackoverflow.com/questions/56878395/files-empty-after-ajax-upload/56878516#56878516", "title": "$_FILES empty after AJAX upload", "body": "<p>You have a problem with your JavaScript method XMLHttpReqest. It takes at least two parameters: Method and url.\nFull parameters are:method, url, async, user, password</p>\n\n<p>Change your code from:</p>\n\n<pre><code> http.open(\"upload.php\", data.action);\n</code></pre>\n\n<p>To:</p>\n\n<pre><code> http.open(\"post\", data.action );\n</code></pre>\n\n<p>Update:\n   Also remove</p>\n\n<pre><code>http.setRequestHeader(\"content-type\", \"multipart/form-data\")\n</code></pre>\n\n<p>Form data already sets its headers for content-type.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 4561112, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153097934172767/picture?type=large", "display_name": "David Andersson", "link": "https://stackoverflow.com/users/4561112/david-andersson"}, "edited": false, "score": 0, "creation_date": 1562221098, "post_id": 56878836, "comment_id": 100311226, "body": "Checked. This is small files and the limit&#39;s set to 128M."}], "tags": [], "owner": {"reputation": 94, "user_id": 6856946, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xpO2YW9rQFs/AAAAAAAAAAI/AAAAAAAANko/FOO34STPEvQ/photo.jpg?sz=128", "display_name": "zyad osseyran", "link": "https://stackoverflow.com/users/6856946/zyad-osseyran"}, "is_accepted": false, "score": -1, "last_activity_date": 1562194629, "creation_date": 1562194629, "answer_id": 56878836, "question_id": 56878395, "link": "https://stackoverflow.com/questions/56878395/files-empty-after-ajax-upload/56878836#56878836", "title": "$_FILES empty after AJAX upload", "body": "<p>Did you checked if memory limit is set to -1 or high enough in php.\nSometime on Apache or iis server, there is also a block on high file uploads.</p>\n"}], "owner": {"reputation": 13, "user_id": 4561112, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153097934172767/picture?type=large", "display_name": "David Andersson", "link": "https://stackoverflow.com/users/4561112/david-andersson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 56878516, "answer_count": 2, "score": 1, "last_activity_date": 1562194629, "creation_date": 1562191018, "last_edit_date": 1562192944, "question_id": 56878395, "link": "https://stackoverflow.com/questions/56878395/files-empty-after-ajax-upload", "title": "$_FILES empty after AJAX upload", "body": "<p>I'm developing a simple script to upload a file through AJAX but after form submission, the variable $_FILES is completely empty, although the file exists within php://input, but with no simple way to extract only the file. Anyone knows the reason and/or solution to this problem?</p>\n\n<p>I've checked all the common solutions.\nenctype=\"multipart/form-data\"\nrights to temp folder\nform-tags closing\ndoublequotations\nand the output of the file-input in JS</p>\n\n<p>Nothing has solved my problem. </p>\n\n<p><strong>RED</strong>\nThis is NOT jquery, and I haven't found a duplicate in 24h. So please don't mark as duplicate unless you're sure it is one.</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;form action=\"upload.php\" method=\"POST\" enctype=\"multipart/form-data\" id=\"testf\"&gt;\n&lt;input type=\"file\" name=\"file\" accept=\".jpg\"&gt;\n&lt;input type=\"submit\" value=\"Skicka\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>JavaScript</strong></p>\n\n<pre><code>let data = document.querySelector(\"#testf\");\ndata.onsubmit = function() {\n    var http = new XMLHttpRequest();\n    http.open(\"upload.php\", data.action);\n    http.onreadystatechange = function () {\n        console.log(http.response);\n    }\n    http.setRequestHeader(\"Content-type\", data.enctype);\n    http.send(new FormData(data));\n    event.preventDefault();\n    return false;\n}\n</code></pre>\n\n<p><strong>PHP</strong></p>\n\n<pre><code>&lt;?php\nvar_dump($_FILES);\n?&gt;\n</code></pre>\n\n<p>This should print the contents of my file, but </p>\n\n<pre><code>array(0) {}\n</code></pre>\n\n<p>is all I get.\nRequest payload is:</p>\n\n<pre><code>------WebKitFormBoundaryZVGq8suqFUUSFDtW\nContent-Disposition: form-data; name=\"file\"; filename=\"david.jpg\"\nContent-Type: image/jpeg\n\n\n------WebKitFormBoundaryZVGq8suqFUUSFDtW--\n</code></pre>\n"}, {"tags": ["javascript", "html"], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 11735568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c50727c84a84e3ce89868e9796983be7?s=128&d=identicon&r=PG&f=1", "display_name": "DaxTter77", "link": "https://stackoverflow.com/users/11735568/daxtter77"}, "edited": false, "score": 0, "creation_date": 1562246371, "post_id": 56878724, "comment_id": 100324669, "body": "Thanks, but i have other question, sorry, if i need upload the same content in the div? what i gotta do?  I mean, I have a table in the div and I just need to refresh it, I dont know if you can understand me, but thanks"}, {"owner": {"reputation": 21, "user_id": 6000057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-t6-QvNVnkto/AAAAAAAAAAI/AAAAAAAAAHE/GcAT_aSjcO0/photo.jpg?sz=128", "display_name": "Clint Broadhead", "link": "https://stackoverflow.com/users/6000057/clint-broadhead"}, "reply_to_user": {"reputation": 101, "user_id": 11735568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c50727c84a84e3ce89868e9796983be7?s=128&d=identicon&r=PG&f=1", "display_name": "DaxTter77", "link": "https://stackoverflow.com/users/11735568/daxtter77"}, "edited": false, "score": 0, "creation_date": 1562347793, "post_id": 56878724, "comment_id": 100359018, "body": "You would follow the same logic as my answer. If you understand basic html and javascript it is simply grabbing the area of the table you want to update with <code>document.querySelector(&#39;#id_of_dynamicPart_of_table&#39;)</code>.  I highly suggest you research some free html and javascript tutorials.  Best of luck!"}], "tags": [], "owner": {"reputation": 21, "user_id": 6000057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-t6-QvNVnkto/AAAAAAAAAAI/AAAAAAAAAHE/GcAT_aSjcO0/photo.jpg?sz=128", "display_name": "Clint Broadhead", "link": "https://stackoverflow.com/users/6000057/clint-broadhead"}, "is_accepted": false, "score": 0, "last_activity_date": 1562193505, "creation_date": 1562193505, "answer_id": 56878724, "question_id": 56878390, "link": "https://stackoverflow.com/questions/56878390/how-i-can-refresh-a-part-of-page-using-javascript/56878724#56878724", "title": "How i can refresh a part of page using javascript", "body": "<p>Making a lot of assumptions. You need to define the 'btn' and 'dynamicPart' variables before you use them.</p>\n\n<p>Example:</p>\n\n<pre><code>let btn = document.querySelector(\"#id_of_some_button_in_html\");\nlet dynamicPart = document.querySelector(\"#id_of_a_div\");\n</code></pre>\n\n<p>Then you just need to call</p>\n\n<pre><code>refresh();\n</code></pre>\n\n<p>then the</p>\n\n<pre><code>setTimeout(refresh,2000);\n</code></pre>\n\n<p>of your code will run every 2 seconds.</p>\n\n<pre><code>let url=\"https://server.test-cors.org/server?id=2934825&amp;enable=true&amp;status=200&amp;credentials=false&amp;methods=GET\"\n\nasync function refresh() {\n      let btn = document.querySelector(\"#id_of_some_button_in_html\");\n      let dynamicPart = document.querySelector(\"#id_of_a_div\");\n\n      btn.style.visibility= \"hidden\";\n      dynamicPart.innerHTML=\"Loading...\"\n      dynamicPart.innerHTML=await(await fetch(url)).text();\n      setTimeout(refresh,2000);}\n\nrefresh();\n</code></pre>\n\n<p>Understanding this is not considered 'good' code, but I am making the assumption that you are just starting to learn JS and this code is not something that will be put into production.</p>\n"}], "owner": {"reputation": 101, "user_id": 11735568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c50727c84a84e3ce89868e9796983be7?s=128&d=identicon&r=PG&f=1", "display_name": "DaxTter77", "link": "https://stackoverflow.com/users/11735568/daxtter77"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 286, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1562247440, "creation_date": 1562190987, "last_edit_date": 1562247440, "question_id": 56878390, "link": "https://stackoverflow.com/questions/56878390/how-i-can-refresh-a-part-of-page-using-javascript", "title": "How i can refresh a part of page using javascript", "body": "<p>I try to filter information, but I only need that just the table refresh and display the information using javascript, and I can not find a good method to do it</p>\n\n<p>I try to use this code for my page, but I dont know how to implement it</p>\n\n<p>JS</p>\n\n<pre><code>    let url=\"https://server.test-cors.org/server?id=2934825&amp;enable=true&amp;status=200&amp;credentials=false&amp;methods=GET\"\n\n    async function refresh() {\n          btn.style.visibility= \"hidden\";\n          dynamicPart.innerHTML=\"Loading...\"\n          dynamicPart.innerHTML=await(await fetch(url)).text();\n          setTimeout(refresh,2000);}\n</code></pre>\n\n<p>HTML of the metod</p>\n\n<pre><code>HTML\n&lt;div id=\"staticPart\"&gt;Here is static part of page\n&lt;button id=\"btn\" onclick=\"refresh()\"&gt;Start refreshing (2s)&lt;/button&gt;\n&lt;/div&gt;\n\n&lt;div id=\"dynamicPart\"&gt;Dynamic part&lt;/div&gt;\n</code></pre>\n\n<p>And this is my table in Html</p>\n\n<pre><code>&lt;div class='d-flex justify-content-center' id=\"contentTable\"&gt;\n            &lt;table class='table table-stripped' border=1 id=\"table\"&gt;\n                &lt;thead class= 'thead-dark'&gt;\n                    &lt;tr&gt;\n                        &lt;th&gt;#&lt;/th&gt;\n                        &lt;th&gt;Fecha&lt;/th&gt;\n                        &lt;th&gt;Documento&lt;/th&gt;\n                        &lt;th&gt;Nombres&lt;/th&gt;\n                        &lt;th&gt;Apellidos&lt;/th&gt;\n                        &lt;th&gt;Sede&lt;/th&gt;\n                        &lt;th&gt;Siglas&lt;/th&gt;\n                        &lt;th&gt;Administrador&lt;/th&gt;                        \n                        &lt;th&gt;Acciones&lt;/th&gt;                        \n                    &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n                    &lt;a href=\"/Jomar/users_control/controller/ControlAsisController.php?action=todos\"&gt;&lt;/a&gt;\n                    &lt;?php\n                        for($i = 0; $i &lt; count($datos); $i++){\n                            $id = $datos[$i]['id_controlAsis'];\n                            $rutaEd = \"/Jomar/users_control/controller/ControlAsisController.php?action=editar&amp;id_controlAsis=$id\";\n                            $rutaEl = \"/Jomar/users_control/controller/ControlAsisController.php?action=eliminar&amp;id_controlAsis=$id\";\n                            echo \"&lt;tr&gt;\";\n                            echo \"&lt;td&gt;\". ($i+1) .\"&lt;/td&gt;\";\n                            echo \"&lt;td&gt; {$datos[$i]['fecha']} &lt;/td&gt;\";\n                            echo \"&lt;td&gt; {$datos[$i]['documento']} &lt;/td&gt;\";\n                            echo \"&lt;td&gt; {$datos[$i]['nombres']} &lt;/td&gt;\";\n                            echo \"&lt;td&gt; {$datos[$i]['apellidos']} &lt;/td&gt;\";\n                            echo \"&lt;td&gt; {$datos[$i]['sede']} &lt;/td&gt;\";\n                            echo \"&lt;td&gt; {$datos[$i]['siglas']} &lt;/td&gt;\";\n                            echo \"&lt;td&gt; {$datos[$i]['administrador']} &lt;/td&gt;\";                            \n                            echo \"&lt;td&gt;\n                            &lt;a href='$rutaEd' class='badge badge-primary'&gt;Editar &lt;/a&gt;\n                            &lt;a href='$rutaEl' class='badge badge-warning'&gt;Eliminar &lt;/a&gt;\n                            &lt;/td&gt;\";\n                            echo \"&lt;/tr&gt;\";\n                        }\n\n                    ?&gt;\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n</code></pre>\n\n<p>Thanks for the help, sorry for my English</p>\n"}, {"tags": ["javascript", "jquery", "html", "css", "jquery-ui"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 10733046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7797df8c430558bb54d83f9e07904e3?s=128&d=identicon&r=PG", "display_name": "louga31", "link": "https://stackoverflow.com/users/10733046/louga31"}, "edited": false, "score": 0, "creation_date": 1562192209, "post_id": 56878538, "comment_id": 100305652, "body": "that fixed it, I never realised that my-div had 0px dimensions, I thought it took the dimentions of the content  Thanks you very much both"}], "tags": [], "owner": {"reputation": 24, "user_id": 9040878, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/if6Em.jpg?s=128&g=1", "display_name": "karlynelson", "link": "https://stackoverflow.com/users/9040878/karlynelson"}, "is_accepted": true, "score": 0, "last_activity_date": 1562192048, "creation_date": 1562192048, "answer_id": 56878538, "question_id": 56878339, "link": "https://stackoverflow.com/questions/56878339/when-i-resize-my-browser-windows-my-images-moves-when-they-should-stay-together/56878538#56878538", "title": "When I resize my browser windows, my Images moves when they should stay together", "body": "<p>What's the context these images will be used in? Can the combined area around the images have a fixed height and width? </p>\n\n<p>Because <code>position: absolute</code> takes items out of the document flow, if you look at your <code>&lt;div id=\"myDiv\" class=\"text-center mydiv\"&gt;</code> in the inspector it has 0px height and width, because it doesn't know about the absolutely positioned items within it.</p>\n\n<p>If you give it a fixed height and width that are the same, for example:</p>\n\n<pre><code>.mydiv {\n  position: relative;\n  top: 110px;\n  width: 500px;\n  height: 500px;\n}\n</code></pre>\n\n<p>You can position the <code>.img-fluid.arm</code> image relative to that:</p>\n\n<pre><code>.img-fluid.arm {\n    max-width: 10%;\n    position: absolute;\n    left: 68%;\n    top: -10%;\n}\n</code></pre>\n\n<p>Those values got it to work for me. Percentages are generally better than hard-coded pixel values, because, for example, if you want this combined image to scale at different screen sizes, you can increase or decrease <code>.my-div</code>'s width/height (making sure that they are always a square) and you shouldn't have to change the percentages on the position for <code>.img-fluid-arm</code></p>\n"}], "owner": {"reputation": 15, "user_id": 10733046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7797df8c430558bb54d83f9e07904e3?s=128&d=identicon&r=PG", "display_name": "louga31", "link": "https://stackoverflow.com/users/10733046/louga31"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 56878538, "answer_count": 1, "score": 0, "last_activity_date": 1562192048, "creation_date": 1562190567, "question_id": 56878339, "link": "https://stackoverflow.com/questions/56878339/when-i-resize-my-browser-windows-my-images-moves-when-they-should-stay-together", "title": "When I resize my browser windows, my Images moves when they should stay together", "body": "<p>When I resize my browser windows, all my images moves</p>\n\n<p>What I get: <a href=\"https://i.imgur.com/x2hqPM3.jpg\" rel=\"nofollow noreferrer\">https://i.imgur.com/x2hqPM3.jpg</a></p>\n\n<p>I have tried to use Relative, Absolute and to use a JavaScript code to resize the images</p>\n\n<p>The HTML:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!doctype html&gt;\n&lt;html&gt;&lt;head&gt;\n\n\n&lt;link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossorigin=\"anonymous\"&gt;\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;link rel=\"stylesheet\" href=\"https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css\"&gt;\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\" integrity=\"sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n  &lt;!-- jQuery library --&gt;\n\n\n\n&lt;link rel=\"stylesheet\" href=\"css/style.css\"&gt;\n\n\n&lt;meta charset=\"UTF-8\"&gt;\n&lt;title&gt;Untitled Document&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n  &lt;div id=\"myDiv\" class=\"text-center mydiv\"&gt;\n    &lt;img class=\"img-fluid background\" src=\"assets/images/Background.png\"&gt;\n    &lt;img class=\"img-fluid arm\" src=\"assets/images/image1-arm.png\"&gt;\n  &lt;/div&gt;\n&lt;script src=\"js/main.js\"&gt;\n&lt;/script&gt;\n&lt;script src=\"https://code.jquery.com/ui/1.12.1/jquery-ui.min.js\" crossorigins=\"anonymous\"&gt;&lt;/script&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js\" integrity=\"sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>The CSS:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>.img-fluid{\n    max-width: 30%;\n    height: auto;\n    position: absolute;\n}\n.img-fluid.arm{\n    max-width: 10%;\n    position: absolute;\n    left: 510px;\n    top: -80px;}\n.img-fluid.background{\n    position: absolute;\n}\n.mydiv{\n    position: relative;\n    top: 110px;\n}\n</code></pre>\n\n<p>The images should remain fixed together</p>\n\n<p>What I want :<a href=\"https://i.imgur.com/e061Kq6.jpg\" rel=\"nofollow noreferrer\">https://i.imgur.com/e061Kq6.jpg</a></p>\n\n<p>Website link to test: <a href=\"http://calendar.followthesunquiz.com/\" rel=\"nofollow noreferrer\">http://calendar.followthesunquiz.com/</a></p>\n"}, {"tags": ["javascript", "jquery", "html", "upload"], "comments": [{"owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "edited": false, "score": 0, "creation_date": 1562191214, "post_id": 56878316, "comment_id": 100305427, "body": "You could make a decision based on the file extension of the uploaded file."}, {"owner": {"reputation": 960, "user_id": 7511165, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh6.googleusercontent.com/-N7i0aqmS4jw/AAAAAAAAAAI/AAAAAAAAAAs/XVE7QT1AVKo/photo.jpg?sz=128", "display_name": "A. El-zahaby", "link": "https://stackoverflow.com/users/7511165/a-el-zahaby"}, "reply_to_user": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "edited": false, "score": 0, "creation_date": 1562191841, "post_id": 56878316, "comment_id": 100305589, "body": "@obscure , thanks for replay  ,, first some files not have a EXT , also i need to detect it automatically"}, {"owner": {"reputation": 23103, "user_id": 463319, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PV2Te.jpg?s=128&g=1", "display_name": "Twisty", "link": "https://stackoverflow.com/users/463319/twisty"}, "edited": false, "score": 0, "creation_date": 1562196224, "post_id": 56878316, "comment_id": 100306503, "body": "It&#39;s not clear what you mean by &quot;auto-detect&quot;. I&#39;m not aware of a way to do this with a URL, yet you could look for extensions in the URL like <code>.htm</code>, <code>.jpg</code>, <code>.mp4</code>"}, {"owner": {"reputation": 960, "user_id": 7511165, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh6.googleusercontent.com/-N7i0aqmS4jw/AAAAAAAAAAI/AAAAAAAAAAs/XVE7QT1AVKo/photo.jpg?sz=128", "display_name": "A. El-zahaby", "link": "https://stackoverflow.com/users/7511165/a-el-zahaby"}, "reply_to_user": {"reputation": 23103, "user_id": 463319, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PV2Te.jpg?s=128&g=1", "display_name": "Twisty", "link": "https://stackoverflow.com/users/463319/twisty"}, "edited": false, "score": 0, "creation_date": 1562196470, "post_id": 56878316, "comment_id": 100306549, "body": "@Twisty ,, i do more explain , i hope you get my idea , it&#39;s not about file type it&#39;s about the element i will preview the file on it"}, {"owner": {"reputation": 23103, "user_id": 463319, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PV2Te.jpg?s=128&g=1", "display_name": "Twisty", "link": "https://stackoverflow.com/users/463319/twisty"}, "edited": false, "score": 0, "creation_date": 1562198690, "post_id": 56878316, "comment_id": 100306895, "body": "@A.El-zahaby Still does not make sense. Ultimately, you will need a function that will conditionally be able to make a decision about the <code>type</code> of file and create a object based on a template. Please provide a more complete example: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}], "answers": [{"comments": [{"owner": {"reputation": 960, "user_id": 7511165, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh6.googleusercontent.com/-N7i0aqmS4jw/AAAAAAAAAAI/AAAAAAAAAAs/XVE7QT1AVKo/photo.jpg?sz=128", "display_name": "A. El-zahaby", "link": "https://stackoverflow.com/users/7511165/a-el-zahaby"}, "edited": false, "score": 0, "creation_date": 1562196506, "post_id": 56878959, "comment_id": 100306555, "body": "thanks for replay  ,, i do more explain on the post #update  , i hope you get my idea , it&#39;s not about file type it&#39;s about the element i will preview the file on it"}, {"owner": {"reputation": 618, "user_id": 8215902, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SPHy3MqnZk8/AAAAAAAAAAI/AAAAAAAAAC4/kpr3-pYbzn8/photo.jpg?sz=128", "display_name": "Himanshu Pant", "link": "https://stackoverflow.com/users/8215902/himanshu-pant"}, "reply_to_user": {"reputation": 960, "user_id": 7511165, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh6.googleusercontent.com/-N7i0aqmS4jw/AAAAAAAAAAI/AAAAAAAAAAs/XVE7QT1AVKo/photo.jpg?sz=128", "display_name": "A. El-zahaby", "link": "https://stackoverflow.com/users/7511165/a-el-zahaby"}, "edited": false, "score": 0, "creation_date": 1562196835, "post_id": 56878959, "comment_id": 100306615, "body": "If you&#39;re getting data using ajax. You can check the content-type header. I don&#39;t know any other way of doing it."}], "tags": [], "owner": {"reputation": 618, "user_id": 8215902, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SPHy3MqnZk8/AAAAAAAAAAI/AAAAAAAAAC4/kpr3-pYbzn8/photo.jpg?sz=128", "display_name": "Himanshu Pant", "link": "https://stackoverflow.com/users/8215902/himanshu-pant"}, "is_accepted": false, "score": 0, "last_activity_date": 1562195767, "creation_date": 1562195767, "answer_id": 56878959, "question_id": 56878316, "link": "https://stackoverflow.com/questions/56878316/make-element-preview-by-type-of-file-e-g-img-video-audio/56878959#56878959", "title": "make element preview by type of file e.g [img,video,audio]", "body": "<p>Assuming that the user can only upload one file at a time, you can get the <code>filelist</code> from the input[type=file] <code>document.getElementById(\"Id of the input\").files[0]</code>. It returns a file object which has a type property. Hope this helps</p>\n"}, {"tags": [], "owner": {"reputation": 23103, "user_id": 463319, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PV2Te.jpg?s=128&g=1", "display_name": "Twisty", "link": "https://stackoverflow.com/users/463319/twisty"}, "is_accepted": true, "score": 1, "last_activity_date": 1562201535, "creation_date": 1562201535, "answer_id": 56879462, "question_id": 56878316, "link": "https://stackoverflow.com/questions/56878316/make-element-preview-by-type-of-file-e-g-img-video-audio/56879462#56879462", "title": "make element preview by type of file e.g [img,video,audio]", "body": "<p>Here is a very basic example. The core function here is <code>makeElement()</code>, it takes some basic data passed to it as a object and create a jQuery Object based on the HTML Element.</p>\n\n<p>The heavy lifting is done by <code>fileToElem()</code> which takes some info about the files and can based on the type of file take some conditional actions. If it sees a specific file and has a data template for it.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function() {\r\n  var files = [{\r\n      file: \"audio\",\r\n      message: \"assets/this-is-img.php?a=b\"\r\n    },\r\n    {\r\n      file: \"image\",\r\n      message: \"assets/this-is-img.php?a=b\"\r\n    }\r\n  ];\r\n\r\n  function makeElement(d, t) {\r\n    var el = $(\"&lt;\" + d.nodeName + \"&gt;\", d.attr).prop(d.prop);\r\n    if (t != undefined) {\r\n      el.appendTo(t);\r\n    }\r\n    return el;\r\n  }\r\n\r\n  function fileToElem(data, target) {\r\n    var item;\r\n    switch (data.file) {\r\n      case \"audio\":\r\n        item = makeElement({\r\n          nodeName: \"audio\",\r\n          attr: {\r\n            class: \"audioChat\",\r\n            style: \"display:block;width:250px;\",\r\n            src: data.message\r\n          },\r\n          prop: {\r\n            controls: true\r\n          }\r\n        }, target);\r\n        break;\r\n      case \"image\":\r\n        item = makeElement({\r\n          nodeName: \"img\",\r\n          attr: {\r\n            class: \"imageChat\",\r\n            src: data.message\r\n          },\r\n          prop: {}\r\n        }, target);\r\n        break;\r\n      case \"video\":\r\n        item = makeElement({\r\n          nodeName: \"video\",\r\n          attr: {\r\n            class: \"videoChat\",\r\n            src: data.message\r\n          },\r\n          prop: {\r\n            controls: true\r\n          }\r\n        }, target);\r\n        break;\r\n      case \"pdf\":\r\n        item = makeElement({\r\n          nodeName: \"a\",\r\n          attr: {\r\n            class: \"pdfChat\",\r\n            href: data.message,\r\n            target: \"_BLANK\"\r\n          },\r\n          prop: {}\r\n        }, target);\r\n        break;\r\n    }\r\n    // Do other things with 'item' if needed here\r\n  }\r\n\r\n  $.each(files, function(i, data) {\r\n    var listItem = $(\"&lt;li&gt;\").data(\"date\", new Date().toString()).appendTo($(\".messages ul\"));\r\n    fileToElem(data, listItem);\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"messages\"&gt;\r\n  &lt;ul&gt;&lt;/ul&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You can keep adding more conditions to your <code>switch()</code> based on the file types you expect. If you're not familar with <code>switch()</code> it's a complex if handler.</p>\n\n<blockquote>\n  <p>The <code>switch</code> statement evaluates an expression, matching the expression's value to a <code>case</code> clause, and executes statements associated with that case, as well as statements in cases that follow the matching case.</p>\n</blockquote>\n\n<p>See More: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/switch\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/switch</a></p>\n\n<p>Hope that helps.</p>\n"}], "owner": {"reputation": 960, "user_id": 7511165, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh6.googleusercontent.com/-N7i0aqmS4jw/AAAAAAAAAAI/AAAAAAAAAAs/XVE7QT1AVKo/photo.jpg?sz=128", "display_name": "A. El-zahaby", "link": "https://stackoverflow.com/users/7511165/a-el-zahaby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 1, "accepted_answer_id": 56879462, "answer_count": 2, "score": 1, "last_activity_date": 1562201535, "creation_date": 1562190444, "last_edit_date": 1562196257, "question_id": 56878316, "link": "https://stackoverflow.com/questions/56878316/make-element-preview-by-type-of-file-e-g-img-video-audio", "title": "make element preview by type of file e.g [img,video,audio]", "body": "<p>i'm build a web-app chat and i make a upload system on it,\nfirst i make a image <code>input[type=\"file\"]</code>\nthen a record button <code>[upload as wav]</code></p>\n\n<p>example:</p>\n\n<p><a href=\"https://i.stack.imgur.com/1eoLb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1eoLb.png\" alt=\"enter image description here\"></a></p>\n\n<p>anyway i I am viewing files with <code>if(condition)</code> , </p>\n\n<p>example :</p>\n\n<pre><code>         if (data.file == 'audio') {\n            $('&lt;audio style=\"display:block;width:250px;\" controls src=\"' + data.message + '\"&gt;&lt;/audio&gt;').appendTo($('.messages ul'));\n        }else if (data.file == 'image'){\n            $(''&lt;img class=\"imageChat\"   ' +\n                'src=\"' + filterXSS(data.message) + '\"' +\n                'href=\"' + filterXSS(data.message) + '\"' + '&gt;'\n                +).appendTo($('.messages ul'));\n\n        }\n</code></pre>\n\n<p>but  what i need is to AUTO-detect file type and create the element based on the type of it ?</p>\n\n<h2>Update:</h2>\n\n<p>example:</p>\n\n<pre><code>showFile('assets/this-is-img.php?a=b') // will return an $('img') element \n</code></pre>\n\n<p>i know how to get the file type but i need to pass the file type to script and it will return the preview element like img for photos , iframe for PDFs,audio for audios,<code>etc</code></p>\n\n<p>is this possible? \nthanks in advance :)  </p>\n"}, {"tags": ["javascript", "reactjs", "math.js"], "comments": [{"owner": {"reputation": 634, "user_id": 7870234, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7dBDL.jpg?s=128&g=1", "display_name": "Pyromonk", "link": "https://stackoverflow.com/users/7870234/pyromonk"}, "edited": false, "score": 0, "creation_date": 1562391537, "post_id": 56878298, "comment_id": 100366946, "body": "I think your problem lies in the fact that the first example has variables A and B that are both numbers, and the second example has a single variable A that is a string. It seems that <code>evaluate</code> expects variables to be numbers, not strings."}, {"owner": {"reputation": 15, "user_id": 7660629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cda1fec90154b1138d095ca77b55bf9?s=128&d=identicon&r=PG&f=1", "display_name": "Anas Arshad", "link": "https://stackoverflow.com/users/7660629/anas-arshad"}, "reply_to_user": {"reputation": 634, "user_id": 7870234, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7dBDL.jpg?s=128&g=1", "display_name": "Pyromonk", "link": "https://stackoverflow.com/users/7870234/pyromonk"}, "edited": false, "score": 0, "creation_date": 1562550307, "post_id": 56878298, "comment_id": 100396330, "body": "@Pyromonk yes, I do know that, but is there a way to compare strings as well as numbers?"}, {"owner": {"reputation": 634, "user_id": 7870234, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7dBDL.jpg?s=128&g=1", "display_name": "Pyromonk", "link": "https://stackoverflow.com/users/7870234/pyromonk"}, "edited": false, "score": 0, "creation_date": 1562550719, "post_id": 56878298, "comment_id": 100396389, "body": "You should perhaps reword your question to indicate that."}, {"owner": {"reputation": 15, "user_id": 7660629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cda1fec90154b1138d095ca77b55bf9?s=128&d=identicon&r=PG&f=1", "display_name": "Anas Arshad", "link": "https://stackoverflow.com/users/7660629/anas-arshad"}, "reply_to_user": {"reputation": 634, "user_id": 7870234, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7dBDL.jpg?s=128&g=1", "display_name": "Pyromonk", "link": "https://stackoverflow.com/users/7870234/pyromonk"}, "edited": false, "score": 0, "creation_date": 1562559135, "post_id": 56878298, "comment_id": 100397705, "body": "Uodated the question."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 7660629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cda1fec90154b1138d095ca77b55bf9?s=128&d=identicon&r=PG&f=1", "display_name": "Anas Arshad", "link": "https://stackoverflow.com/users/7660629/anas-arshad"}, "edited": false, "score": 0, "creation_date": 1562550436, "post_id": 56912104, "comment_id": 100396353, "body": "I have tried it, the app is on react maybe an issue with that i suppose? I have opened up an issue <a href=\"https://github.com/josdejong/mathjs/issues/1557\" rel=\"nofollow noreferrer\">github.com/josdejong/mathjs/issues/1557</a>  The owner as well said it doesnt seem to be working in this case."}], "tags": [], "owner": {"reputation": 2933, "user_id": 11204469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b1be34bb82f28e14b12665d4b5df53?s=128&d=identicon&r=PG&f=1", "display_name": "Estradiaz", "link": "https://stackoverflow.com/users/11204469/estradiaz"}, "is_accepted": false, "score": 0, "last_activity_date": 1562398238, "creation_date": 1562398238, "answer_id": 56912104, "question_id": 56878298, "link": "https://stackoverflow.com/questions/56878298/math-js-error-cannot-convert-abc-to-a-number/56912104#56912104", "title": "Math.js Error: Cannot convert &quot;abc&quot; to a number", "body": "<p>I am a little bit confused as this works using the issuecomment? Maybe a typo?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var variables = {'A': 'abc'}\r\nvar formula = 'A == \"abc\"'\r\nmath.import({\r\n  equal: function (a, b) { return a === b } \r\n}, {override: true})\r\nconsole.log(math.evaluate(formula, variables))</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjs/6.0.2/math.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 15, "user_id": 7660629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cda1fec90154b1138d095ca77b55bf9?s=128&d=identicon&r=PG&f=1", "display_name": "Anas Arshad", "link": "https://stackoverflow.com/users/7660629/anas-arshad"}, "is_accepted": true, "score": 0, "last_activity_date": 1562777845, "last_edit_date": 1592644375, "creation_date": 1562777845, "answer_id": 56975390, "question_id": 56878298, "link": "https://stackoverflow.com/questions/56878298/math-js-error-cannot-convert-abc-to-a-number/56975390#56975390", "title": "Math.js Error: Cannot convert &quot;abc&quot; to a number", "body": "<p><a href=\"https://github.com/josdejong/mathjs/issues/1557\" rel=\"nofollow noreferrer\">https://github.com/josdejong/mathjs/issues/1557</a></p>\n<p>The answer to the above question is on the above mentioned link. It says and I quote:</p>\n<blockquote>\n<p>I've created an example for this: <a href=\"https://github.com/josdejong/mathjs/blob/c74a736ff987a279ba9ed3d73eb9870d85494acc/examples/advanced/custom_relational_functions.js\" rel=\"nofollow noreferrer\">examples/advanced/custom_relational_functions.js</a>. Can you have a look at that and see if it makes sense and solves your issue?</p>\n<p>The main difference is that the created functions don't update their dependencies anymore when you replace an existing function with a new one. I have to give that some more thought, maybe we can make this work when working with a mathjs instance (instead of pure functions).</p>\n</blockquote>\n"}], "owner": {"reputation": 15, "user_id": 7660629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cda1fec90154b1138d095ca77b55bf9?s=128&d=identicon&r=PG&f=1", "display_name": "Anas Arshad", "link": "https://stackoverflow.com/users/7660629/anas-arshad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "accepted_answer_id": 56975390, "answer_count": 2, "score": 0, "last_activity_date": 1562777845, "creation_date": 1562190295, "last_edit_date": 1562565339, "question_id": 56878298, "link": "https://stackoverflow.com/questions/56878298/math-js-error-cannot-convert-abc-to-a-number", "title": "Math.js Error: Cannot convert &quot;abc&quot; to a number", "body": "<p>I have a math.js function in react. What it does is evaluate formulas using the values from the variables, e.g.:</p>\n\n<pre><code>var variables = {'A': 1, 'B': 2}\nvar formula = 'A &gt; 0 or B &lt; 5'\n\nmath.evaluate(formula, variables) // this will return true\n</code></pre>\n\n<p>But when comparing strings, it returns the following error,</p>\n\n<blockquote>\n  <p>Error: Cannot convert \"abc\" to a number</p>\n</blockquote>\n\n<pre><code>var variables = {'A': 'abc'}\nvar formula = 'A == \"abc\"'\n\nmath.evaluate(formula, variables) // this will return Error: Cannot convert \"abc\" to a number\n</code></pre>\n\n<p>Can anyone guide me on how I should do this? what I need is that the variables can evaluate on string and numbers both, Thanks. Any question similar to this will be appreciated as well. I tried to search, but couldn't get much.</p>\n\n<p>I have tried the following, it doesn't override the function:\n<a href=\"https://github.com/josdejong/mathjs/issues/1051#issuecomment-369930811\" rel=\"nofollow noreferrer\">https://github.com/josdejong/mathjs/issues/1051#issuecomment-369930811</a></p>\n\n<p><strong>UPDATE</strong>\nThis is what I am trying to do:</p>\n\n<pre><code>formula = ' A &gt;= 2 and B == \"year\" '\nvariables = { A: 23, B: 'year' }\n</code></pre>\n\n<pre><code>import { evaluate } from 'mathjs'\n\nconst MATH_EVAL = (formula, variables)=&gt; {\n  var result = evaluate(formula, variables)\n  return result\n}\nexport default MATH_EVAL\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "loops", "ecmascript-6", "foreach"], "comments": [{"owner": {"reputation": 2555, "user_id": 6045122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/raUQv.png?s=128&g=1", "display_name": "Akinjide", "link": "https://stackoverflow.com/users/6045122/akinjide"}, "edited": false, "score": 1, "creation_date": 1562190299, "post_id": 56878275, "comment_id": 100305170, "body": "You need to make sure <code>onButtonPush</code> method is executed first. To populate the Array with <code>new Shot</code> instances"}, {"owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "edited": false, "score": 1, "creation_date": 1562190308, "post_id": 56878275, "comment_id": 100305174, "body": "Your Shot class really has a function draw()? No matter what -  a working example of your code that clearly shows the problem would be more helpful."}, {"owner": {"reputation": 2874, "user_id": 4720244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecbf3e87a6491f609f81b93e438282db?s=128&d=identicon&r=PG&f=1", "display_name": "EJAg", "link": "https://stackoverflow.com/users/4720244/ejag"}, "edited": false, "score": 0, "creation_date": 1562190661, "post_id": 56878275, "comment_id": 100305275, "body": "Array has a <code>forEach</code> method to loop through it"}, {"owner": {"reputation": 519, "user_id": 2756931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1TmK6.jpg?s=128&g=1", "display_name": "Edwin Dijas Chiwona", "link": "https://stackoverflow.com/users/2756931/edwin-dijas-chiwona"}, "edited": false, "score": 1, "creation_date": 1562190698, "post_id": 56878275, "comment_id": 100305284, "body": "Please add the shot class"}, {"owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "reply_to_user": {"reputation": 2555, "user_id": 6045122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/raUQv.png?s=128&g=1", "display_name": "Akinjide", "link": "https://stackoverflow.com/users/6045122/akinjide"}, "edited": false, "score": 0, "creation_date": 1562190863, "post_id": 56878275, "comment_id": 100305334, "body": "@akinjide - If onButtonPush() wasn&#39;t called, shotsFired is just an empty array so it wouldn&#39;t ever try to call draw() or update() on an instance of Shot."}, {"owner": {"reputation": 2555, "user_id": 6045122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/raUQv.png?s=128&g=1", "display_name": "Akinjide", "link": "https://stackoverflow.com/users/6045122/akinjide"}, "edited": false, "score": 0, "creation_date": 1562191040, "post_id": 56878275, "comment_id": 100305381, "body": "I guess the error message says it all, <code>shot.update</code> executes because it is a registered method and <code>shot.draw</code> doesn&#39;t because it is either not defined or not a registered method."}, {"owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "edited": false, "score": 0, "creation_date": 1562191086, "post_id": 56878275, "comment_id": 100305392, "body": "@RedDeadRabbit <code>If u need an example i can post JAVA Code </code> No, we need to see your JavaScript definition for the Shot class. Looks like it&#39;s missing the draw function."}, {"owner": {"reputation": 2555, "user_id": 6045122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/raUQv.png?s=128&g=1", "display_name": "Akinjide", "link": "https://stackoverflow.com/users/6045122/akinjide"}, "edited": false, "score": 0, "creation_date": 1562191140, "post_id": 56878275, "comment_id": 100305407, "body": "Just as stated earlier post <code>Shot</code> class too!"}], "answers": [{"comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "reply_to_user": {"reputation": 67, "user_id": 3950404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tho9p.png?s=128&g=1", "display_name": "Ingo K.", "link": "https://stackoverflow.com/users/3950404/ingo-k"}, "edited": false, "score": 1, "creation_date": 1562191224, "post_id": 56878306, "comment_id": 100305430, "body": "@RedDeadRabbit <code>The Problem is not to go throug the array.</code> It kinda is though, because <code>for (a in b)</code> puts the <i>keys</i> in <code>a</code>, not the values. Use <code>of</code> instead, and it will work right away."}, {"owner": {"reputation": 67, "user_id": 3950404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tho9p.png?s=128&g=1", "display_name": "Ingo K.", "link": "https://stackoverflow.com/users/3950404/ingo-k"}, "edited": false, "score": 1, "creation_date": 1562191355, "post_id": 56878306, "comment_id": 100305470, "body": "THANKS! What a big different between &quot;in&quot; and &quot;of&quot;"}], "tags": [], "owner": {"reputation": 6295, "user_id": 617950, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ed9cdede625d84beb153051efefa0bfc?s=128&d=identicon&r=PG", "display_name": "falinsky", "link": "https://stackoverflow.com/users/617950/falinsky"}, "is_accepted": true, "score": 4, "last_activity_date": 1562190816, "last_edit_date": 1562190816, "creation_date": 1562190372, "answer_id": 56878306, "question_id": 56878275, "link": "https://stackoverflow.com/questions/56878275/how-to-iterate-through-an-array-of-class-objects-and-use-functions-in-javascript/56878306#56878306", "title": "How to Iterate through an Array of Class Objects and use functions in JavaScripts", "body": "<p>In order to iterate through the array of something you can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of\" rel=\"nofollow noreferrer\">for...of</a>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let array = [{a:1}, {b:2}, {c:3}];\r\n\r\nfor (let item of array) {\r\n  console.log(item);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>So for your particular example, it would be:</p>\n\n<pre><code>update() {\n  for (let shot of this.shotsFired) {\n    shot.update();\n    shot.draw(this.ctx);\n  }\n}\n</code></pre>\n\n<p>or even more simple:</p>\n\n<pre><code>update() {\n  this.shotsFired.forEach(shot =&gt; {\n    shot.update();\n    shot.draw(this.ctx);\n  });\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5670, "user_id": 1953420, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3UZI0.jpg?s=128&g=1", "display_name": "Logan Murphy", "link": "https://stackoverflow.com/users/1953420/logan-murphy"}, "is_accepted": false, "score": 0, "last_activity_date": 1562191279, "creation_date": 1562191279, "answer_id": 56878444, "question_id": 56878275, "link": "https://stackoverflow.com/questions/56878275/how-to-iterate-through-an-array-of-class-objects-and-use-functions-in-javascript/56878444#56878444", "title": "How to Iterate through an Array of Class Objects and use functions in JavaScripts", "body": "<p>When using</p>\n\n<pre><code>for (let shot in this.shotsFired) { \n   shot.update(); &lt;-- I want to call this function \n   shot.draw(this.ctx); &lt;-- and that function \n}\n</code></pre>\n\n<p>The for loop is actually iterating keys so you should do the following</p>\n\n<pre><code>for (let shot in this.shotsFired) { \n   this.shotsFired[shot].update(); &lt;-- I want to call this function \n   this.shotsFired[shot].draw(this.ctx); &lt;-- and that function \n}\n</code></pre>\n\n<p>However ultimately you should not iterate over arrays using this technique</p>\n\n<p>Alternatively you can use many other iteration options available to you like forEach or for of</p>\n"}], "owner": {"reputation": 67, "user_id": 3950404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tho9p.png?s=128&g=1", "display_name": "Ingo K.", "link": "https://stackoverflow.com/users/3950404/ingo-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 0, "closed_date": 1562191174, "accepted_answer_id": 56878306, "answer_count": 2, "score": -1, "last_activity_date": 1562191279, "creation_date": 1562190147, "last_edit_date": 1562191150, "question_id": 56878275, "link": "https://stackoverflow.com/questions/56878275/how-to-iterate-through-an-array-of-class-objects-and-use-functions-in-javascript", "closed_reason": "Duplicate", "title": "How to Iterate through an Array of Class Objects and use functions in JavaScripts", "body": "<p>i want to iterate throug an Array of Objects and use a function from the Objects in the array. I'm coming from JAVA and there it's pretty normal to do that. For that reason i guess it works in JS as well but i'm not sure how.</p>\n\n<p>My Code looks like this:</p>\n\n<pre><code>class Whateever {\n\nconstructor(ctx){\n   this.ctx\n   this.shotsFired = [];\n}\n\nonButtonPush(){\n        let shot = new Shot(this.position.x, this.position.y);\n        this.shotsFired.push(shot);\n}\n\n//called every frame\nupdate(){\n       for (let shot in this.shotsFired) {\n                shot.update();  &lt;-- I want to call this function\n                shot.draw(this.ctx); &lt;-- and that function\n            }\n}\n</code></pre>\n\n<p>--</p>\n\n<pre><code>class shoot{\n    constructor(x,y){\n       this.position = {\n            x : x,\n            y : y\n        };\n  }\n\nupdate(){\n// Do nothing \n}\n\ndraw(ctx){\n// do nothing\n}\n\n}\n</code></pre>\n\n<p>But with this construct i get always the error message: </p>\n\n<pre><code>Whateever.js:40 Uncaught TypeError: shot.draw is not a function\n    at Whateever.update (ship.js:40) \n    at gameLoop (index.js:23)\n</code></pre>\n\n<p>The shot.update() function works by itself. </p>\n\n<p>I just want to know how to call object functions through an loop in an array?</p>\n\n<p>This is an simplyfied snippit from a big class. If i would post the whole class it would be confusion. Question is absolute clear! </p>\n\n<p>Array of Objects -> Iteration -> during Iteration call of functions from the Objects.</p>\n\n<p>If u need an example i can post JAVA Code the make clear what i mean.</p>\n"}, {"tags": ["javascript", "json", "reactjs", "react-redux"], "comments": [{"owner": {"reputation": 25, "user_id": 11736283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6224c1fa8bc8e9c3bf8e9b2a547d2ccd?s=128&d=identicon&r=PG&f=1", "display_name": "csmasterjk", "link": "https://stackoverflow.com/users/11736283/csmasterjk"}, "reply_to_user": {"reputation": 867, "user_id": 11683772, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MXEsqjfnpdw/AAAAAAAAAAI/AAAAAAAAvyg/O9wElDD_VfY/photo.jpg?sz=128", "display_name": "Mark", "link": "https://stackoverflow.com/users/11683772/mark"}, "edited": false, "score": 0, "creation_date": 1562190121, "post_id": 56878208, "comment_id": 100305125, "body": "hey as i&#39;m new to react, do u have any sample code I can have a look?"}, {"owner": {"reputation": 867, "user_id": 11683772, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MXEsqjfnpdw/AAAAAAAAAAI/AAAAAAAAvyg/O9wElDD_VfY/photo.jpg?sz=128", "display_name": "Mark", "link": "https://stackoverflow.com/users/11683772/mark"}, "edited": false, "score": 0, "creation_date": 1562190490, "post_id": 56878208, "comment_id": 100305232, "body": "It&#39;s really nothing to do with react, just pure JavaScript. I&#39;ll try to work up an example soon"}, {"owner": {"reputation": 194, "user_id": 6368528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/513122d2b321b13f696eca6108a4baa8?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan Ganchev", "link": "https://stackoverflow.com/users/6368528/ivan-ganchev"}, "edited": false, "score": 0, "creation_date": 1562191234, "post_id": 56878208, "comment_id": 100305433, "body": "See [ <a href=\"https://stackoverflow.com/questions/8847766/how-to-convert-json-to-csv-format-and-store-in-a-variable\" title=\"how to convert json to csv format and store in a variable\">stackoverflow.com/questions/8847766/&hellip;</a> ]. I think it will help you unless you insist on using React."}, {"owner": {"reputation": 1016, "user_id": 8587899, "user_type": "registered", "profile_image": "https://graph.facebook.com/1753587434927148/picture?type=large", "display_name": "Declan Nnadozie", "link": "https://stackoverflow.com/users/8587899/declan-nnadozie"}, "edited": false, "score": 0, "creation_date": 1562191296, "post_id": 56878208, "comment_id": 100305455, "body": "You didnt stipulate the javascript framework you are using.... and You would have asked what library convert json to csv... or you create the library yourself and add to your Resume"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 2555216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/469ecc256653b998613af0d96e3e4c67?s=128&d=identicon&r=PG", "display_name": "user2555216", "link": "https://stackoverflow.com/users/2555216/user2555216"}, "is_accepted": false, "score": 0, "last_activity_date": 1562191632, "creation_date": 1562191632, "answer_id": 56878485, "question_id": 56878208, "link": "https://stackoverflow.com/questions/56878208/how-to-convert-a-nested-json-tree-into-csv/56878485#56878485", "title": "How to convert a nested json tree into csv", "body": "<p>I would first convert the json object into a list first, i would create a recursive function that parses through the elements, every time it finds an attribute it just appends its value, but if it finds an object or array call the recursive function which should return a list of elements to append to the main list, or instead of returning a list you can return a string, building the string during the recursion.\nAnother option i would consider is to create a recursive function to convert the multilevel json object to a plain json object, passing the json object through the recursions, in each recursion adding the attributes of the current level, and then convert it to whatever i need.\nOf course i would try those only if i didn't find a library or function that does it automatically.</p>\n"}, {"tags": [], "owner": {"reputation": 867, "user_id": 11683772, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MXEsqjfnpdw/AAAAAAAAAAI/AAAAAAAAvyg/O9wElDD_VfY/photo.jpg?sz=128", "display_name": "Mark", "link": "https://stackoverflow.com/users/11683772/mark"}, "is_accepted": false, "score": 0, "last_activity_date": 1562192860, "creation_date": 1562192860, "answer_id": 56878649, "question_id": 56878208, "link": "https://stackoverflow.com/questions/56878208/how-to-convert-a-nested-json-tree-into-csv/56878649#56878649", "title": "How to convert a nested json tree into csv", "body": "<p>You can't call papa.unparse because you don't have a flat array. Your data structure is recursive, so you'll need a recursive function to flatten if before sending it to papa.unparse.</p>\n\n<pre><code>const j = [{'holder': 'Passive', 'Position': 500.0, \n'pct_shares_out': 0.5,                          \n'Node': [{'holder': 'TD Inc.', 'Position': 300.0, 'pct_shares_out': 0.2,                                \n'Node': [{'holder': 'TD ETF', 'Position': 400, 'pct_shares_out': 0.1},                               \n{'holder': 'TD Fund', 'Position': 430.0, 'pct_shares_out': 0.2}]},\n{'holder': 'Active', 'Position': 725.0, 'pct_shares_out': 0.1,                                     \n'Node': [{'holder': '18 Asset', 'Position': 390, 'pct_shares_out': 0.5,                                 \n'Node': [{'holder': '18 Inc.', 'Position': 190, 'pct_shares_out': 0.2},                              \n{'holder': 'Lysander-18 Equity Fund Series A', 'Position': 19, 'pct_shares_out': 0.05}]}]}]}];\n\nconst papa = require('papaparse');                                                               \nfunction flatten(array) {                           \n        var result = [];                                \n        array.forEach(function (a) {                        \n        var node = a.Node;\n        delete a.Node;\n        result.push(a);\n        if (node) {\n            result = result.concat(flatten(node));\n        }\n    });\n    return result;\n}\nconst flat = flatten(j);\nconsole.log(flat)\nconsole.log(papa.unparse(flat));\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1016, "user_id": 8587899, "user_type": "registered", "profile_image": "https://graph.facebook.com/1753587434927148/picture?type=large", "display_name": "Declan Nnadozie", "link": "https://stackoverflow.com/users/8587899/declan-nnadozie"}, "is_accepted": false, "score": 0, "last_activity_date": 1562193060, "creation_date": 1562193060, "answer_id": 56878675, "question_id": 56878208, "link": "https://stackoverflow.com/questions/56878208/how-to-convert-a-nested-json-tree-into-csv/56878675#56878675", "title": "How to convert a nested json tree into csv", "body": "<ol>\n<li>get the json file from the backend..</li>\n<li>import this <a href=\"https://www.npmjs.com/package/json2csv\" rel=\"nofollow noreferrer\">module</a>  pass your json to it</li>\n<li>then as for user being able to download your csv.... check <a href=\"https://stackoverflow.com/questions/3665115/how-to-create-a-file-in-memory-for-user-to-download-but-not-through-server\">here</a></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 1853, "user_id": 1779027, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/57d8e023069b5223aaaa6726c870fe2f?s=128&d=identicon&r=PG", "display_name": "Vishnu", "link": "https://stackoverflow.com/users/1779027/vishnu"}, "is_accepted": true, "score": 0, "last_activity_date": 1562216518, "creation_date": 1562216518, "answer_id": 56880923, "question_id": 56878208, "link": "https://stackoverflow.com/questions/56878208/how-to-convert-a-nested-json-tree-into-csv/56880923#56880923", "title": "How to convert a nested json tree into csv", "body": "<p>To get into a simple list, a recursive function can be used similar to below:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const input = [{\r\n  'holder': 'Passive',\r\n  'Position': 500.0,\r\n  'pct_shares_out': 0.5,\r\n  'Node': [{\r\n      'holder': 'TD Inc.',\r\n      'Position': 300.0,\r\n      'pct_shares_out': 0.2,\r\n      'Node': [{\r\n          'holder': 'TD ETF',\r\n          'Position': 400,\r\n          'pct_shares_out': 0.1\r\n        },\r\n        {\r\n          'holder': 'TD Fund',\r\n          'Position': 430.0,\r\n          'pct_shares_out': 0.2\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      'holder': 'Active',\r\n      'Position': 725.0,\r\n      'pct_shares_out': 0.1,\r\n      'Node': [{\r\n        'holder': '18 Asset',\r\n        'Position': 390,\r\n        'pct_shares_out': 0.5,\r\n        'Node': [{\r\n            'holder': '18 Inc.',\r\n            'Position': 190,\r\n            'pct_shares_out': 0.2\r\n          },\r\n          {\r\n            'holder': 'Lysander-18 Equity Fund Series A',\r\n            'Position': 19,\r\n            'pct_shares_out': 0.05\r\n          }\r\n        ]\r\n      }]\r\n    }\r\n  ]\r\n}];\r\n\r\n\r\nvar result = [];\r\n\r\nfunction toCSV(items) {\r\n  if (items) {\r\n    items.forEach(function(a) {\r\n      result.push({\r\n        0: a.holder,\r\n        1: a.Position + '/' + a.pct_shares_out\r\n      });\r\n      toCSV(a.Node);\r\n    });\r\n  }\r\n}\r\n  toCSV(input);\r\nconsole.log(result)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>It may be modified, as per requirement and use in <code>papaparse</code>.</p>\n"}], "owner": {"reputation": 25, "user_id": 11736283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6224c1fa8bc8e9c3bf8e9b2a547d2ccd?s=128&d=identicon&r=PG&f=1", "display_name": "csmasterjk", "link": "https://stackoverflow.com/users/11736283/csmasterjk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1851, "favorite_count": 0, "accepted_answer_id": 56880923, "answer_count": 4, "score": -1, "last_activity_date": 1562330506, "creation_date": 1562189644, "last_edit_date": 1562330506, "question_id": 56878208, "link": "https://stackoverflow.com/questions/56878208/how-to-convert-a-nested-json-tree-into-csv", "title": "How to convert a nested json tree into csv", "body": "<p>right now I'm having a nested JSON tree object (this.props.holdinginfo) sending from backend to frontend, and I am trying to add an EXPORT button on the webpage to be able to export the JSON object to a csv file using react.</p>\n\n<p>The JSON tree object is as below:</p>\n\n<pre><code>[{'holder': 'Passive', 'Position': 500.0, 'pct_shares_out': 0.5,\n    'Node': [{'holder': 'TD Inc.', 'Position': 300.0, 'pct_shares_out': 0.2,\n            'Node': [{'holder': 'TD ETF', 'Position': 400, 'pct_shares_out': 0.1}, \n                 {'holder': 'TD Fund', 'Position': 430.0, 'pct_shares_out': 0.2}]}, \n {'holder': 'Active', 'Position': 725.0, 'pct_shares_out': 0.1, \n    'Node': [{'holder': '18 Asset', 'Position': 390, 'pct_shares_out': 0.5, \n            'Node': [{'holder': '18 Inc.', 'Position': 190, 'pct_shares_out': 0.2}, \n                 {'holder': 'Lysander-18 Equity Fund Series A', 'Position': 19, 'pct_shares_out': 0.05}]}]}];\n</code></pre>\n\n<p>And I want the csv file following the format below:</p>\n\n<pre><code>holder/position/pct_share_out\n'Passive'/500.0/0.5\n'TD Inc.'/300.0/0.2\n'TD ETF'/400/0.1\n'TD Fund'/430/0.2\n'Active'/725/0.1\n'18 Asset'/390/0.5\n'18 Inc.'/190/0.2\n'Lysander-18 Equity Fund Series A'/19/0.05 \n</code></pre>\n\n<p>What I am doing right now is adding a button in js file in component:</p>\n\n<pre><code>&lt;Button variant=\"contained\" \n    size=\"small\" \n    onClick={this.handleExport}&gt;\n    &lt;SaveIcon label=\"Export\" /&gt;\n        Export\n&lt;/Button&gt;\n</code></pre>\n\n<p>which calls handleExport to export the table into a csv file:</p>\n\n<pre><code>handleExport = () =&gt; {\n    let csv = Papa.unparse(this.props.holdinginfo);\n    console.log(csv);\n}\n</code></pre>\n\n<p>But since this.props.holdinginfo is a nested tree object, the output of console.log is  \"\"[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object].... \"</p>\n\n<p>Question I have -\n1- How to convert the nested tree JSON into csv?\n2- How to download that csv when the user click the button?</p>\n\n<p>Thanks for helping!!</p>\n"}, {"tags": ["javascript", "mobile", "touch", "onmouseup"], "answers": [{"tags": [], "owner": {"reputation": 399, "user_id": 11188084, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-E4nqLDM5GN8/AAAAAAAAAAI/AAAAAAAAAAA/MLtqd2OYzyk/photo.jpg?sz=128", "display_name": "Joshua Segal", "link": "https://stackoverflow.com/users/11188084/joshua-segal"}, "is_accepted": false, "score": 0, "last_activity_date": 1562189967, "creation_date": 1562189967, "answer_id": 56878247, "question_id": 56878207, "link": "https://stackoverflow.com/questions/56878207/is-touchend-the-phone-equivalent-of-onmouseup-in-js/56878247#56878247", "title": "Is touchend the phone equivalent of onmouseup in js?", "body": "<p>I'm stupid... it's supposed to be ontouchend</p>\n\n<pre><code>&lt;input id=\"slider\" class=\"slider\" type=\"range\" min=\"0\" max=\"100\" value=50 onmouseup=\"handleSubmit()\" touchend=\"handleSubmit()\"/&gt;\n</code></pre>\n\n<p>still new to js haha</p>\n"}, {"tags": [], "owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "is_accepted": false, "score": 1, "last_activity_date": 1562189991, "creation_date": 1562189991, "answer_id": 56878255, "question_id": 56878207, "link": "https://stackoverflow.com/questions/56878207/is-touchend-the-phone-equivalent-of-onmouseup-in-js/56878255#56878255", "title": "Is touchend the phone equivalent of onmouseup in js?", "body": "<p>You don't need to rely on mouseup nor touchend. The input element offers another event which comes in handy: <strong>onchange</strong>.</p>\n\n<p>This input fires as soon the input's value changed - because the user released the slider.</p>\n\n<p>Here's an example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function handleSubmit(e) {\r\n  console.log(e.value)\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input id=\"slider\" class=\"slider\" type=\"range\" min=\"0\" max=\"100\" value=50 onchange=\"handleSubmit(this)\" /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 399, "user_id": 11188084, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-E4nqLDM5GN8/AAAAAAAAAAI/AAAAAAAAAAA/MLtqd2OYzyk/photo.jpg?sz=128", "display_name": "Joshua Segal", "link": "https://stackoverflow.com/users/11188084/joshua-segal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1562189991, "creation_date": 1562189629, "question_id": 56878207, "link": "https://stackoverflow.com/questions/56878207/is-touchend-the-phone-equivalent-of-onmouseup-in-js", "title": "Is touchend the phone equivalent of onmouseup in js?", "body": "<p>I have my web app working fine with computers, but can't seem to get it to work on mobile phones mainly because the onmouseup isn't being fired off. So I added the touchend event thinking it would be the same, but it didn't help. How do I get the same behavior of onmouseup on the phone?</p>\n\n<p>Basically, I have a range slider and I want the release slider part of it to work on phones </p>\n\n<pre><code>  &lt;input id=\"slider\" class=\"slider\" type=\"range\" min=\"0\" max=\"100\" value=50 onmouseup=\"handleSubmit()\" touchend=\"handleSubmit()\"/&gt;\n</code></pre>\n\n<p>I've tried it on mobile safari and chrome... neither work</p>\n"}, {"tags": ["javascript", "ecmascript-6", "javascript-scope"], "comments": [{"owner": {"reputation": 134258, "user_id": 785065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAbxM.jpg?s=128&g=1", "display_name": "loganfsmyth", "link": "https://stackoverflow.com/users/785065/loganfsmyth"}, "edited": false, "score": 1, "creation_date": 1562189750, "post_id": 56878168, "comment_id": 100305033, "body": "I think the dup is pretty much a match, but to elaborate a little, essentially there is the global object scope, and the global lexical scope, and <code>let</code> creates a binding attached to the global lexical scope, and <code>window</code> only accesses the global object scope. The global object scope is the outer-most, and the global lexical is the single scope nested inside it, and all other scopes for modules and functions and things end up inside that one."}, {"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 0, "creation_date": 1562190188, "post_id": 56878168, "comment_id": 100305137, "body": "For an answer I believe you can look at the specification under <code>Runtime Semantics: EvalDeclarationInstantation</code>(<a href=\"https://tc39.es/ecma262/#sec-evaldeclarationinstantiation\" rel=\"nofollow noreferrer\">tc39.es/ecma262/#sec-evaldeclara&zwnj;&#8203;tioninstantiation</a>) specifically 5.a.i.2 which states <i>&quot;NOTE: eval will not create a global var declaration that would be shadowed by a global lexical declaration.&quot;</i>"}], "owner": {"reputation": 787, "user_id": 7437737, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xRPP_RYSkB4/AAAAAAAAAAI/AAAAAAAAAcE/kd681l2mlWg/photo.jpg?sz=128", "display_name": "Zach Gollwitzer", "link": "https://stackoverflow.com/users/7437737/zach-gollwitzer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "closed_date": 1562189696, "answer_count": 0, "score": 1, "last_activity_date": 1562189373, "creation_date": 1562189373, "question_id": 56878168, "link": "https://stackoverflow.com/questions/56878168/how-do-declarative-and-object-environment-records-relate-to-var-let-and-c", "closed_reason": "Duplicate", "title": "How do declarative and object environment records relate to &quot;var&quot;, &quot;let&quot;, and &quot;const&quot;?", "body": "<p>I am trying to dig deeper into javascript, and although I have found explanations on the differences between \"var\", \"let\", and \"const\" as well as explanations on ES6 \"environment records\" (declarative vs. object), I am still lost why the following code works the way it does when I type it into the Google Chrome Browser Console: </p>\n\n<pre><code>var a = 2;\nlet b = 4;\n\nconsole.log(window.a); // 2\nconsole.log(window.b); // undefined\n\nconsole.log(a); // 2\nconsole.log(b); // 4\n</code></pre>\n\n<p>If <code>console.log(b)</code> prints 4, but <code>console.log(window.b)</code> prints <code>undefined</code>, then what scope is <code>b</code> defined in?</p>\n\n<p>I understand that when <code>var</code> is used outside of a function, it creates an <code>undefined</code> variable in the global scope.  What I don't understand is what happens when <code>let</code> or <code>const</code> is used outside of a function as in the example above?  </p>\n\n<p>I assume based on other answers that this behavior has something to do with ES6 environment records, but when I read the <a href=\"https://www.ecma-international.org/ecma-262/6.0/#sec-environment-records\" rel=\"nofollow noreferrer\">reference book</a>, it truly does not make sense to me.</p>\n\n<p>Can someone explain this in slightly simpler terms than in that reference book?</p>\n"}, {"tags": ["javascript", "node.js", "electron", "electron-builder", "electron-packager"], "comments": [{"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 1, "creation_date": 1562189372, "post_id": 56878082, "comment_id": 100304897, "body": "As far as I&#39;m aware you would have to build a shim/pass-through program that would  alternate versions based on input. a.e. a <code>.bat</code> file or a separate <code>node</code> app that would determine and run the build differently. This is because there&#39;s no JS involved when it gets up and running for distribution, it&#39;s all configuration, so setting a flag <i>in</i> the config isn&#39;t possible."}], "answers": [{"comments": [{"owner": {"reputation": 16359, "user_id": 840992, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e2aa4cd8ca03c4b2f71c6443f6e437b1?s=128&d=identicon&r=PG", "display_name": "spring", "link": "https://stackoverflow.com/users/840992/spring"}, "edited": false, "score": 0, "creation_date": 1562194879, "post_id": 56878511, "comment_id": 100306210, "body": "Thanks for the reply. I wasn&#39;t able to get that to work \u2013 got the <code>&quot;Usage&quot;</code> man page from <code>dot-json</code>."}], "tags": [], "owner": {"reputation": 2555, "user_id": 6045122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/raUQv.png?s=128&g=1", "display_name": "Akinjide", "link": "https://stackoverflow.com/users/6045122/akinjide"}, "is_accepted": false, "score": 1, "last_activity_date": 1562191857, "creation_date": 1562191857, "answer_id": 56878511, "question_id": 56878082, "link": "https://stackoverflow.com/questions/56878082/env-vars-to-change-app-name-in-project-json-and-set-runtime-vars/56878511#56878511", "title": "Env vars to change app name in project.json and set runtime vars?", "body": "<p>Using <a href=\"https://github.com/maikelvl/dot-json\" rel=\"nofollow noreferrer\">dot-json</a>, you can have npm scripts like:</p>\n\n<pre><code>  \"productName\": \"Bingo\",\n  \"main\": \"main.js\",\n  \"scripts\": {\n    \"package-mac\": \"echo $APP_NAME; dot-json package.json productName $APP_NAME --indent 2; electron-packager . --overwrite  --platform=darwin --arch=x64  --prune=true --out=release-builds\"\n  }\n</code></pre>\n\n<p>In Terminal, maybe, you can run</p>\n\n<pre><code> $ APP_NAME='Bingo Pro' npm run package-mac\n</code></pre>\n"}], "owner": {"reputation": 16359, "user_id": 840992, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e2aa4cd8ca03c4b2f71c6443f6e437b1?s=128&d=identicon&r=PG", "display_name": "spring", "link": "https://stackoverflow.com/users/840992/spring"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1562191857, "creation_date": 1562188837, "question_id": 56878082, "link": "https://stackoverflow.com/questions/56878082/env-vars-to-change-app-name-in-project-json-and-set-runtime-vars", "title": "Env vars to change app name in project.json and set runtime vars?", "body": "<p>I need to generate two apps from the same codebase (e.g. \"pro\" and \"lite\" versions). There are a lot of questions here about this but none I found involve <code>node</code> or <code>electron</code>.</p>\n\n<p>I have only used <code>env</code> in development in very simple ways and after searching around, I haven't seen any mention of being able to use them in a deployed application.</p>\n\n<p>So two tasks:<br>\n<strong>1. Changing the name of the app</strong></p>\n\n<p>So, using the <code>package.json</code> file with <code>electron builder</code>, I've tried to change the <code>productName</code> like this:   </p>\n\n<pre><code>  \"productName\": process.env.APP_NAME,\n  \"main\": \"main.js\",\n  \"scripts\": {\n    \"package-mac\": process.env.APP_NAME='Bingo' electron-packager . --overwrite  --platform=darwin --arch=x64  --prune=true --out=release-builds\"\n}\n</code></pre>\n\n<p>But that didn't work. Also saw this construction but it also didn't work:   </p>\n\n<pre><code>  \"productName\": '${process.env.APP_NAME}',\n</code></pre>\n\n<p>Am I on the wrong track here?</p>\n\n<p><strong>2. Vars for use at runtime</strong><br>\nTo do the \"pro\" &amp; \"lite\" thing, I need at least a flag to know how to configure things.<br>\nAre <code>env</code> vars in anyway suitable for this?</p>\n\n<p>I guess if I am able to change the app name, I can access that at runtime but it seems like I am missing something important with all this.</p>\n"}, {"tags": ["javascript", "jquery", "ajax"], "comments": [{"owner": {"reputation": 1351, "user_id": 4178487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1343c90c372560606b830c71b0aeb4b2?s=128&d=identicon&r=PG", "display_name": "Jason K", "link": "https://stackoverflow.com/users/4178487/jason-k"}, "edited": false, "score": 0, "creation_date": 1562188766, "post_id": 56878033, "comment_id": 100304690, "body": "Your missing the line termination after &quot;.htm&quot;;"}, {"owner": {"reputation": 422, "user_id": 5083456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-3aCVskJgx7Y/AAAAAAAAAAI/AAAAAAAACkE/ujlUOTqCCwo/photo.jpg?sz=128", "display_name": "IMustBeSomeone", "link": "https://stackoverflow.com/users/5083456/imustbesomeone"}, "edited": false, "score": 0, "creation_date": 1562188771, "post_id": 56878033, "comment_id": 100304695, "body": "You messed up your bracketing. Also, your <code>.load</code> parameters are invalid."}, {"owner": {"reputation": 422, "user_id": 5083456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-3aCVskJgx7Y/AAAAAAAAAAI/AAAAAAAACkE/ujlUOTqCCwo/photo.jpg?sz=128", "display_name": "IMustBeSomeone", "link": "https://stackoverflow.com/users/5083456/imustbesomeone"}, "reply_to_user": {"reputation": 1351, "user_id": 4178487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1343c90c372560606b830c71b0aeb4b2?s=128&d=identicon&r=PG", "display_name": "Jason K", "link": "https://stackoverflow.com/users/4178487/jason-k"}, "edited": false, "score": 0, "creation_date": 1562188807, "post_id": 56878033, "comment_id": 100304711, "body": "@JasonK &quot;line termination&quot; this isn&#39;t C. also, remember, semicolons aren&#39;t required in JS."}, {"owner": {"reputation": 1471, "user_id": 8276973, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/96a6954bd630cf29b8529b41d9ce66fc?s=128&d=identicon&r=PG&f=1", "display_name": "RTC222", "link": "https://stackoverflow.com/users/8276973/rtc222"}, "reply_to_user": {"reputation": 422, "user_id": 5083456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-3aCVskJgx7Y/AAAAAAAAAAI/AAAAAAAACkE/ujlUOTqCCwo/photo.jpg?sz=128", "display_name": "IMustBeSomeone", "link": "https://stackoverflow.com/users/5083456/imustbesomeone"}, "edited": false, "score": 0, "creation_date": 1562188950, "post_id": 56878033, "comment_id": 100304773, "body": "@IMustBeSomeone - the ajax call is above, between the &lt;script&gt; tags.  Are you looking for something else?  That is the call I use to load all pages, but I need something to tell it to load all pages at top of page."}, {"owner": {"reputation": 505, "user_id": 3741718, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/769485533/picture?type=large", "display_name": "luisluix", "link": "https://stackoverflow.com/users/3741718/luisluix"}, "edited": false, "score": 0, "creation_date": 1562188996, "post_id": 56878033, "comment_id": 100304786, "body": "filename &quot;bkmk00&quot;, you are missing the &quot;#bkmk00&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 1471, "user_id": 8276973, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/96a6954bd630cf29b8529b41d9ce66fc?s=128&d=identicon&r=PG&f=1", "display_name": "RTC222", "link": "https://stackoverflow.com/users/8276973/rtc222"}, "edited": false, "score": 0, "creation_date": 1562189072, "post_id": 56878086, "comment_id": 100304801, "body": "The function as is now works, but it doesn&#39;t load at top of page.  What you show only makes the fadeIn part of a separate function.  My question is:  how do I get it to load at the top of the page?  What you show doesn&#39;t appear to do that unless I&#39;m missing something."}, {"owner": {"reputation": 505, "user_id": 3741718, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/769485533/picture?type=large", "display_name": "luisluix", "link": "https://stackoverflow.com/users/3741718/luisluix"}, "reply_to_user": {"reputation": 1471, "user_id": 8276973, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/96a6954bd630cf29b8529b41d9ce66fc?s=128&d=identicon&r=PG&f=1", "display_name": "RTC222", "link": "https://stackoverflow.com/users/8276973/rtc222"}, "edited": false, "score": 0, "creation_date": 1562189102, "post_id": 56878086, "comment_id": 100304818, "body": "my bad, I put the wrong id on the inside of the function, should work now."}, {"owner": {"reputation": 1471, "user_id": 8276973, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/96a6954bd630cf29b8529b41d9ce66fc?s=128&d=identicon&r=PG&f=1", "display_name": "RTC222", "link": "https://stackoverflow.com/users/8276973/rtc222"}, "edited": false, "score": 0, "creation_date": 1562189150, "post_id": 56878086, "comment_id": 100304838, "body": "Thanks.  I&#39;m trying that now."}, {"owner": {"reputation": 505, "user_id": 3741718, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/769485533/picture?type=large", "display_name": "luisluix", "link": "https://stackoverflow.com/users/3741718/luisluix"}, "reply_to_user": {"reputation": 1471, "user_id": 8276973, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/96a6954bd630cf29b8529b41d9ce66fc?s=128&d=identicon&r=PG&f=1", "display_name": "RTC222", "link": "https://stackoverflow.com/users/8276973/rtc222"}, "edited": false, "score": 0, "creation_date": 1562189617, "post_id": 56878086, "comment_id": 100304984, "body": "If you set up a jsfiddle we could help you better. Not knowing where the divs are makes it kind of hard."}, {"owner": {"reputation": 1471, "user_id": 8276973, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/96a6954bd630cf29b8529b41d9ce66fc?s=128&d=identicon&r=PG&f=1", "display_name": "RTC222", "link": "https://stackoverflow.com/users/8276973/rtc222"}, "edited": false, "score": 0, "creation_date": 1562189731, "post_id": 56878086, "comment_id": 100305025, "body": "My problem right now is that it works as I originally wrote it but doesn&#39;t load at the top.  I just replaced it with your code and it doesn&#39;t load pages.  FF dev console doesn&#39;t report any errors.  I can try Chrome to see if any errors are reported."}, {"owner": {"reputation": 505, "user_id": 3741718, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/769485533/picture?type=large", "display_name": "luisluix", "link": "https://stackoverflow.com/users/3741718/luisluix"}, "reply_to_user": {"reputation": 1471, "user_id": 8276973, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/96a6954bd630cf29b8529b41d9ce66fc?s=128&d=identicon&r=PG&f=1", "display_name": "RTC222", "link": "https://stackoverflow.com/users/8276973/rtc222"}, "edited": false, "score": 0, "creation_date": 1562189922, "post_id": 56878086, "comment_id": 100305078, "body": "mm maybe I was loading the new info in the hidden div, try with the updated one"}, {"owner": {"reputation": 1471, "user_id": 8276973, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/96a6954bd630cf29b8529b41d9ce66fc?s=128&d=identicon&r=PG&f=1", "display_name": "RTC222", "link": "https://stackoverflow.com/users/8276973/rtc222"}, "edited": false, "score": 0, "creation_date": 1562190091, "post_id": 56878086, "comment_id": 100305112, "body": "No, it wants to load into #C2.  Replacing that with &quot;bkmk00&quot; doesn&#39;t work ."}], "tags": [], "owner": {"reputation": 505, "user_id": 3741718, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/769485533/picture?type=large", "display_name": "luisluix", "link": "https://stackoverflow.com/users/3741718/luisluix"}, "is_accepted": false, "score": 1, "last_activity_date": 1562189906, "last_edit_date": 1562189906, "creation_date": 1562188866, "answer_id": 56878086, "question_id": 56878033, "link": "https://stackoverflow.com/questions/56878033/how-to-get-ajax-to-load-page-at-top-of-div/56878086#56878086", "title": "How to get AJAX to load page at top of div", "body": "<pre><code>&lt;script&gt;\nfunction ShowPage(type) {\n    var filename = \"page_\" + type + \".htm\"\n    $( \"#C2\" ).hide().load( filename ).fadeIn(500);\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>You are close but not quite, load function has 2 parameters, input file and a function callback:</p>\n\n<pre><code>var filename = \"page_\" + type + \".htm\"\n$( \"#C2\" ).hide()\n$( \"#bkmk00\" ).load(filename, function(){\n    $( \"#bkmk00\" ).fadeIn(500);\n});\n</code></pre>\n"}], "owner": {"reputation": 1471, "user_id": 8276973, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/96a6954bd630cf29b8529b41d9ce66fc?s=128&d=identicon&r=PG&f=1", "display_name": "RTC222", "link": "https://stackoverflow.com/users/8276973/rtc222"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562189906, "creation_date": 1562188575, "question_id": 56878033, "link": "https://stackoverflow.com/questions/56878033/how-to-get-ajax-to-load-page-at-top-of-div", "title": "How to get AJAX to load page at top of div", "body": "<p>My site contains a div where different pages are loaded using ajax.  On a button click, a new page can be loaded and the pages always appear in that div.  </p>\n\n<p>The problem is if I go to a new page and scroll down without scrolling back to the top of that page, new pages will load at the same position below the top of the page, not at the top of the page.  I want to force all pages to load at the top.  </p>\n\n<p>Here are the relevant page elements:</p>\n\n<p>The div (where the page content goes):  </p>\n\n<pre><code>&lt;div class=\"main_text\"&gt;\n&lt;div id=\"C2\"&gt;&lt;span style=\"color:black\"&gt;MTX&lt;/span&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The button:  </p>\n\n<pre><code>&lt;div class=\"C1\"&gt;&lt;br&gt;&lt;button class=\"button_01\" id=\"btn07\" onclick=\"HideDropdown(); ShowAjax(7);\"&gt;Page 7&lt;/button&gt;&lt;/div&gt;\n</code></pre>\n\n<p>The AJAX code:  </p>\n\n<pre><code>&lt;script&gt;\nfunction ShowPage(type) {\n    var filename = \"page_\" + type + \".htm\"\n    $( \"#C2\" ).hide().load( filename ).fadeIn(500);\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>The most important line is:  </p>\n\n<pre><code>$( \"#C2\" ).hide().load( filename ).fadeIn(500);\n</code></pre>\n\n<p>At the top of each page I have:  </p>\n\n<pre><code>&lt;div id=\"bkmk00\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>I want to open each page at the top of the page (at \"bkmk00).  I saw a post that said I could add an id name and it would load the page at that ID:  </p>\n\n<pre><code>$( \"#C2\" ).hide().load( filename \"bkmk00\" ).fadeIn(500);\n</code></pre>\n\n<p>but with that, it doesn't load anything.  Instead, the Firefox 67 dev console says \"SyntaxError: missing ) after argument list\" for this ajax function call, and it points to character 37 which is right after filename.  That looks like I can't add the second parameter \"bkmk00.\"  </p>\n\n<p>My question is, how can I get the page to load at \"bkmk00\" at the top of the page to be loaded?  </p>\n"}, {"tags": ["javascript", "angular"], "answers": [{"comments": [{"owner": {"reputation": 4450, "user_id": 11270840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/um2Zv.jpg?s=128&g=1", "display_name": "Ghoul Ahmed", "link": "https://stackoverflow.com/users/11270840/ghoul-ahmed"}, "edited": false, "score": 0, "creation_date": 1562188817, "post_id": 56878028, "comment_id": 100304718, "body": "use literal template like <code>${ 16 + i }px</code>"}, {"owner": {"reputation": 5519, "user_id": 2736742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjyZM.jpg?s=128&g=1", "display_name": "A. Morel", "link": "https://stackoverflow.com/users/2736742/a-morel"}, "reply_to_user": {"reputation": 4450, "user_id": 11270840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/um2Zv.jpg?s=128&g=1", "display_name": "Ghoul Ahmed", "link": "https://stackoverflow.com/users/11270840/ghoul-ahmed"}, "edited": false, "score": 0, "creation_date": 1562189204, "post_id": 56878028, "comment_id": 100304849, "body": "It doesn&#39;t work because I use data binding html attribute [style.font-size]=&quot;...&quot;"}, {"owner": {"reputation": 4450, "user_id": 11270840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/um2Zv.jpg?s=128&g=1", "display_name": "Ghoul Ahmed", "link": "https://stackoverflow.com/users/11270840/ghoul-ahmed"}, "edited": false, "score": 1, "creation_date": 1562189536, "post_id": 56878028, "comment_id": 100304957, "body": "you can use [style.font-size.px]=&quot;16+i&quot;   instead of [style.font-size]=&quot;(16+i).toString()+&#39;px&#39;&quot;"}, {"owner": {"reputation": 4450, "user_id": 11270840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/um2Zv.jpg?s=128&g=1", "display_name": "Ghoul Ahmed", "link": "https://stackoverflow.com/users/11270840/ghoul-ahmed"}, "edited": false, "score": 0, "creation_date": 1562189578, "post_id": 56878028, "comment_id": 100304972, "body": "@a-morel , this is a working demo , you can  check  it <a href=\"https://stackblitz.com/edit/angular-z3map8\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-z3map8</a>"}, {"owner": {"reputation": 5519, "user_id": 2736742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjyZM.jpg?s=128&g=1", "display_name": "A. Morel", "link": "https://stackoverflow.com/users/2736742/a-morel"}, "reply_to_user": {"reputation": 4450, "user_id": 11270840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/um2Zv.jpg?s=128&g=1", "display_name": "Ghoul Ahmed", "link": "https://stackoverflow.com/users/11270840/ghoul-ahmed"}, "edited": false, "score": 0, "creation_date": 1562189783, "post_id": 56878028, "comment_id": 100305044, "body": "@Ghoul Ahmed Indeed it&#39;s much better! Thank you"}], "tags": [], "owner": {"reputation": 5519, "user_id": 2736742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjyZM.jpg?s=128&g=1", "display_name": "A. Morel", "link": "https://stackoverflow.com/users/2736742/a-morel"}, "is_accepted": false, "score": 0, "last_activity_date": 1562190553, "last_edit_date": 1562190553, "creation_date": 1562188548, "answer_id": 56878028, "question_id": 56878027, "link": "https://stackoverflow.com/questions/56878027/how-to-concatenate-a-number-or-a-compute-with-a-string-error-expected-a-number/56878028#56878028", "title": "How to concatenate a number or a compute with a string error: &quot;Expected a number type&quot; Angular", "body": "<p>The good way is:</p>\n\n<pre><code>[style.font-size.px]=\"16+i\"\n</code></pre>\n"}], "owner": {"reputation": 5519, "user_id": 2736742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjyZM.jpg?s=128&g=1", "display_name": "A. Morel", "link": "https://stackoverflow.com/users/2736742/a-morel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 359, "favorite_count": 0, "closed_date": 1562188611, "answer_count": 1, "score": -1, "last_activity_date": 1562218494, "creation_date": 1562188548, "last_edit_date": 1562218494, "question_id": 56878027, "link": "https://stackoverflow.com/questions/56878027/how-to-concatenate-a-number-or-a-compute-with-a-string-error-expected-a-number", "closed_reason": "Duplicate", "title": "How to concatenate a number or a compute with a string error: &quot;Expected a number type&quot; Angular", "body": "<p>In VS Code angular project I have this warning !</p>\n\n<blockquote>\n  <p>\"Expected a number type\" Angular</p>\n</blockquote>\n\n<p>When I use data binding html attribute in template:</p>\n\n<pre><code>[style.font-size]=\"16+i+'px'\"\n</code></pre>\n"}, {"tags": ["javascript", "bootstrap-modal", "es6-class"], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 11624270, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F-WMEzBpN04/AAAAAAAAAAI/AAAAAAAASvc/T9wDyPqa2Jk/photo.jpg?sz=128", "display_name": "S&#233;bastien Merour", "link": "https://stackoverflow.com/users/11624270/s%c3%a9bastien-merour"}, "edited": false, "score": 0, "creation_date": 1562223769, "post_id": 56878601, "comment_id": 100312285, "body": "thanks for your help. But how can I implement that ? I guess I should do something like &quot;if it&#39;s a mobile, do that, and if it&#39;s a desktop, do this...&quot;"}], "tags": [], "owner": {"reputation": 5670, "user_id": 1953420, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3UZI0.jpg?s=128&g=1", "display_name": "Logan Murphy", "link": "https://stackoverflow.com/users/1953420/logan-murphy"}, "is_accepted": false, "score": 0, "last_activity_date": 1562192493, "creation_date": 1562192493, "answer_id": 56878601, "question_id": 56878015, "link": "https://stackoverflow.com/questions/56878015/touchstart-does-not-work-in-a-canvas-in-modal/56878601#56878601", "title": "touchstart does not work in a canvas (in modal)", "body": "<p>Since mobile can have multiple contact points, the coordinates are tracked using <code>event.touches</code>   so you can do the following</p>\n\n<pre><code>const coords = event.touches ? event.touches[0] : event;\nconsole.log(coords.clientX, coords.clientY)\n</code></pre>\n\n<p>More here <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Touch_events/Using_Touch_Events#Basic_steps\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Touch_events/Using_Touch_Events#Basic_steps</a></p>\n"}], "owner": {"reputation": 51, "user_id": 11624270, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F-WMEzBpN04/AAAAAAAAAAI/AAAAAAAASvc/T9wDyPqa2Jk/photo.jpg?sz=128", "display_name": "S&#233;bastien Merour", "link": "https://stackoverflow.com/users/11624270/s%c3%a9bastien-merour"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1562192493, "creation_date": 1562188443, "last_edit_date": 1562192208, "question_id": 56878015, "link": "https://stackoverflow.com/questions/56878015/touchstart-does-not-work-in-a-canvas-in-modal", "title": "touchstart does not work in a canvas (in modal)", "body": "<p>I try to draw lines in a Bootstrap modal, using Javascript.\nMy code is working fine in a deskstop screen.\nBut When i use a mobile device, it's not working.</p>\n\n<p>Here is my code : </p>\n\n<pre><code>\"use strict\";\nclass Signature {\n    constructor() {\n        this.color = \"#000000\";\n        this.sign = false;\n        this.begin_sign = false;\n        this.width_line = 5;\n        this.canvas = document.getElementById('canvas');\n        this.offsetLeft = this.canvas.offsetLeft;\n        this.offsetTop = this.canvas.offsetTop;\n        this.context = canvas.getContext('2d');\n        this.context.lineJoin = 'round'; \n        this.context.lineCap = 'round'; \n        this.whenActionDown();\n        this.whenActionUp();\n        this.whenActionMove();\n        this.createSignature();\n        this.clearCanvas();\n        this.resetCanvas();\n    }\n\n    updateMousePosition(mX, mY) {\n    let rect = this.canvas.getBoundingClientRect();\n    let scaleX = this.canvas.width / rect.width;\n    let scaleY = this.canvas.height / rect.height;\n    this.cursorX = (mX - rect.left) * scaleX;\n    this.cursorY = (mY - rect.top) * scaleY;\n}\n\n    actionDown(e) {\n        this.sign = true;\n        this.updateMousePosition(e.clientX, e.clientY);\n    }\n\n    actionUp() {\n        this.sign = false;\n        this.begin_sign = false;\n    }\n\n    actionMove(e) {\n        if (this.sign) {\n            this.updateMousePosition(e.clientX, e.clientY);\n            this.createSignature();\n        }\n    }\n\n\n\n    whenActionDown() {\n        document.addEventListener(\"mousedown\", this.actionDown.bind(this));\n      document.addEventListener(\"touchstart\", this.actionDown.bind(this));\n    }\n\n    whenActionUp() {\n        document.addEventListener(\"mouseup\", this.actionUp.bind(this));\n      document.addEventListener(\"touchend\", this.actionUp.bind(this));\n    }\n\n\n    whenActionMove() {\n        this.canvas.addEventListener('mousemove', this.actionMove.bind(this));\n        this.canvas.addEventListener('touchmove', this.actionMove.bind(this));\n    }\n\n\n    createSignature() {\n\n        if (!this.begin_sign) {\n\n            this.context.beginPath();\n            this.context.moveTo(this.cursorX, this.cursorY);\n            this.begin_sign = true;\n        }\n\n        else {\n            this.context.lineTo(this.cursorX, this.cursorY);\n            this.context.strokeStyle = this.color;\n            this.context.lineWidth = this.width_line;\n            this.context.stroke();\n        }\n    }\n\n    clearCanvas() {\n        this.context.clearRect(0, 0, this.canvas.offsetWidth, this.canvas.offsetHeight);\n    }\n    // Reset :\n    resetCanvas() {\n        document.getElementById(\"reset\").addEventListener(\"click\", () =&gt; {\n            this.clearCanvas();\n        })\n    }\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", event =&gt; {\n    new Signature();\n});\n\n</code></pre>\n\n<p>I know that touchstart, touchmove and touchend are supposed to make my code working on mobile devices ,but it's not working.\nAny idea ?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "php", "html", "json"], "comments": [{"owner": {"reputation": 748, "user_id": 9485767, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PRjwSKgciwU/AAAAAAAAAAI/AAAAAAAAAaY/bSHw3vTAzPU/photo.jpg?sz=128", "display_name": "Lukas", "link": "https://stackoverflow.com/users/9485767/lukas"}, "edited": false, "score": 0, "creation_date": 1562189371, "post_id": 56878002, "comment_id": 100304896, "body": "You call imagepng() twice"}, {"owner": {"reputation": 3136, "user_id": 10283047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14d3424d98c68472d196cb5534c3f417?s=128&d=identicon&r=PG&f=1", "display_name": "misorude", "link": "https://stackoverflow.com/users/10283047/misorude"}, "reply_to_user": {"reputation": 748, "user_id": 9485767, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PRjwSKgciwU/AAAAAAAAAAI/AAAAAAAAAaY/bSHw3vTAzPU/photo.jpg?sz=128", "display_name": "Lukas", "link": "https://stackoverflow.com/users/9485767/lukas"}, "edited": false, "score": 0, "creation_date": 1562229422, "post_id": 56878002, "comment_id": 100315106, "body": "@Lukas the first call is with a second parameter, which means this will save the image to a local file. The second one is without, meaning this call will output the image data to the client. Nothing wrong with that, if one wants to perform both actions at the same time."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11736444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f17a76dfab9f60a47dbb48b839afdff1?s=128&d=identicon&r=PG&f=1", "display_name": "Moolay Koolay", "link": "https://stackoverflow.com/users/11736444/moolay-koolay"}, "edited": false, "score": 0, "creation_date": 1562243870, "post_id": 56884504, "comment_id": 100323207, "body": "You are awesome! Thank you that worked exactly how I wanted it and was very clear and concise. Worked out perfectly. Now I just need to find a way to send the next page as an email so it&#39;s frozen in place to the user and myself so it can be kept for record keeping. Thank you again!"}], "tags": [], "owner": {"reputation": 3136, "user_id": 10283047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14d3424d98c68472d196cb5534c3f417?s=128&d=identicon&r=PG&f=1", "display_name": "misorude", "link": "https://stackoverflow.com/users/10283047/misorude"}, "is_accepted": true, "score": 0, "last_activity_date": 1562231610, "creation_date": 1562231610, "answer_id": 56884504, "question_id": 56878002, "link": "https://stackoverflow.com/questions/56878002/how-to-capture-signature-pad-image-in-a-php-file-and-output-into-an-html-file-li/56884504#56884504", "title": "How to capture signature pad image in a PHP file and output into an HTML file like a receipt and then store the page as JPEG or PDF", "body": "<p>If you want to load this image in the target page using an additional HTTP request (meaning, you want to embed it using <code>&lt;img src=\"http://hostname/somescript.php\"&gt;</code>), then you need to pass on the data to this <code>somescript.php</code>. Now depending on <em>how much</em> the user scribbles on the input pad, how many \u201cblack pixels\u201d that actually creates, that JSON data can get quite big - probably too big to be put into the query string with a GET request. And since you can not easily load an image using POST in combination with <code>&lt;img src=\"...\"&gt;</code>, it would probably make most sense to put it into the session then. (In a scenario where you work with customer data, I\u2019d assume you are probably using sessions already anyway.)</p>\n\n<p>So in the script that receives the POST data (different script than <code>/tmr/capture_signature.php</code>), you put it into the session,</p>\n\n<pre><code>$_SESSION['sigpaddata'] = $_POST['output'];\n</code></pre>\n\n<p>and then in your script that generates the image (<code>/tmr/capture_signature.php</code>), you read it back from there (don\u2019t forget to pick up the session again in that script),</p>\n\n<pre><code>$json = $_SESSION['sigpaddata'];\n</code></pre>\n\n<p>And then you embed the image on the target page using </p>\n\n<pre><code>&lt;img src=\"/tmr/capture_signature.php\"&gt;\n</code></pre>\n\n<p>Now this could lead into trouble, if the user has multiple instances of this script open in multiple tabs, to create signatures for multiple receipts. If that is a realistic scenario, you could add a random value to the form, store the JSON data into the session under that random key (<code>$_SESSION['sigpaddata'][$_POST['randkey']] = \u2026</code> \u2013 you\u2019d have to check if the JS part automatically sends <em>all</em> form data, or whether it might need adapting to submit this additional value as well), and then you pass that same random key to the image generating script (<code>&lt;img src=\"/tmr/capture_signature.php?randkey=\u2026\"&gt;</code>), so that that in turn can fish the right value out of the session again (<code>$_SESSION['sigpaddata'][$_GET['randkey']]</code>)</p>\n\n<hr>\n\n<p>A different approach, that doesn\u2019t need an extra HTTP request - and therefor creates a bit less hassle to get the necessary data to the image creating code - would be to output the image \u201cinline\u201d in the target page, using a <a href=\"https://en.wikipedia.org/wiki/Data_URI_scheme\" rel=\"nofollow noreferrer\">Data URI</a> with the base64 encoded image data. That involves output buffering to capture the output of <code>imagepng</code> (you are currently saving the image to a file anyway, so you could theoretically read it back from there right after - but then the filename would need to be made unique, using <code>signature.png</code> every time for multiple concurrent requests by multiple customers would obviously lead to trouble otherwise.)</p>\n\n<pre><code>require_once 'signature-to-image.php';\n$json = $_POST['output'];\n$img = sigJsonToImage($json);\nob_start(); // start output buffer\nimagepng($img); // output image data to buffer\nimagedestroy($img);\n// create Data URI for a PNG image, using the binary image\n// data captured from the output buffer\n$dataURI = 'data:image/png;base64,'.base64_encode(ob_get_clean());\n\n// echo HTML img element using that Data URI, somewhere on the page\necho '&lt;img src=\"'.$dataURI.'\"&gt;';\n</code></pre>\n\n<p>This could be used directly in the response page you are generating based on the form data send from the previous page. Since it doesn\u2019t need an additional HTTP request, the POST data is available directly here, and doesn\u2019t need to be passed on to a different image generating script using a session or anything like that.</p>\n"}], "owner": {"reputation": 11, "user_id": 11736444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f17a76dfab9f60a47dbb48b839afdff1?s=128&d=identicon&r=PG&f=1", "display_name": "Moolay Koolay", "link": "https://stackoverflow.com/users/11736444/moolay-koolay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1656, "favorite_count": 0, "accepted_answer_id": 56884504, "answer_count": 1, "score": 0, "last_activity_date": 1562231610, "creation_date": 1562188391, "last_edit_date": 1562191069, "question_id": 56878002, "link": "https://stackoverflow.com/questions/56878002/how-to-capture-signature-pad-image-in-a-php-file-and-output-into-an-html-file-li", "title": "How to capture signature pad image in a PHP file and output into an HTML file like a receipt and then store the page as JPEG or PDF", "body": "<p>I am using Thomas J. Bradley's signature pad to apply customer's signatures to a receipt page but his tutorial isn't complete and leaves you with a PHP page of just the signature and no description on how to apply it in your next page. It just stops on the output page with just the signature image by itself. I want to apply it inside a receipt HTML page I've already built under the product information and then send a screenshot of the page as an email to basically store the receipt on my computer. Here is where I am at with it.</p>\n\n<p>Signature Page</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n\n&lt;head&gt;\n&lt;meta content=\"text/html; charset=windows-1252\" http-equiv=\"Content-Type\" /&gt;\n&lt;meta name=\"robots\" content=\"noindex\" /&gt;\n&lt;meta name=\"googlebot\" content=\"noindex\" /&gt;\n&lt;meta name=\"googlebot-news\" content=\"noindex\" /&gt;\n&lt;title&gt;Signature&lt;/title&gt;\n&lt;style type=\"text/css\"&gt;\n.disclaimerific {\n    font-family: Arial, Helvetica, sans-serif;\n}\n.auto-style10 {\n    text-align: left;\n}\n&lt;/style&gt;\n&lt;link href=\"assets/jquery.signaturepad.css\" rel=\"stylesheet\"&gt;\n&lt;!--[if lt IE 9]&gt;&lt;script src=\"assets/flashcanvas.js\"&gt;&lt;/script&gt;&lt;![endif]--&gt;\n  &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js\"&gt;&lt;/script&gt;\n   &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"css/default.css\" /&gt; \n        &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"css/component.css\" /&gt;\n\n\n        &lt;script src=\"js/modernizr.custom.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body style=\"background-color: #DDDDDD\"&gt;\n\n&lt;table align=\"center\" cellpadding=\"0\" cellspacing=\"0\" style=\"width: 799px\"&gt;\n    &lt;tr&gt;\n        &lt;td&gt;\n        &lt;p style=\"margin-top: 0; margin-bottom: 0\"&gt;\n        &lt;img alt=\"\" height=\"27\" src=\"http://www.themidaslegacy.com/images2/headerml.jpg\" width=\"800\" /&gt;&lt;/p&gt;\n        &lt;/td&gt;\n    &lt;/tr&gt;\n&lt;tr&gt;\n    &lt;td style=\"background-color: #FFFFFF\"&gt;\n        &lt;div style=\"text-align: center\"&gt;\n            &lt;div align=\"center\"&gt;\n                &lt;table border=\"0\" width=\"100%\" cellspacing=\"10\" cellpadding=\"10\"&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                        &lt;div class=\"auto-style10\" style=\"text-align:center;\"&gt;\n                            &lt;font size=\"6\" color=\"#CC0000\" face=\"Impact\"&gt;Please sign below. &lt;/font&gt;\n                        &lt;/div&gt;\n                        &lt;p class=\"auto-style10\" style=\"text-align:center;margin-bottom:0px;\"&gt;&lt;font face=\"Arial\"&gt;***After you submit your signature it will be applied to your receipt on the next page.*** &lt;br&gt;\n\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/table&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;!-- Signature Table Box --&gt;\n                &lt;div style=\"width:450px; height:auto;  margin: 0px auto 50px; auto; padding:20px; color:black;\" &gt;\n\n                     &lt;form method=\"post\" action=\"capture_signature.php\" class=\"sigPad\"&gt;\n\n                        &lt;p class=\"drawItDesc\"&gt;Draw your signature&lt;/p&gt;\n\n                        &lt;div class=\"sig sigWrapper\"&gt;\n                          &lt;canvas class=\"pad\" width=\"400\"&gt;&lt;/canvas&gt;\n\n                          &lt;input type=\"hidden\" name=\"output\" class=\"output\"&gt;\n                        &lt;/div&gt;\n                        &lt;br&gt;\n                        &lt;div style=\"width:100%;\"&gt;\n                            &lt;style&gt;\n\n                                &lt;/style&gt;\n                            &lt;table style=\"width: 100%;text-align: center;\"&gt;\n                                &lt;tr&gt;\n                                    &lt;td style=\"width: 50%;\"&gt;\n                                     &lt;div id=\"submit\" &gt;\n                                        &lt;button id=\"btn-accept\" style=\"width: 100%;color:white;\" href=\"\" type=\"submit\" class=\"button1\"&gt;&lt;p style=\"font-size: 14px;\"&gt;Accept Agreement.&lt;/p&gt;&lt;/button&gt;\n                                    &lt;/div&gt;\n                                    &lt;/td&gt;\n                                    &lt;td style=\"width: 50%;\"&gt;\n                                    &lt;div id=\"clear\" &gt;\n                                        &lt;button style=\"width: 100%;\" href=\"\" name=\"clear\" type=\"clear\" class=\"clearButton\"&gt;&lt;p style=\"font-size: 14px;\"&gt;Clear Signature&lt;/p&gt;&lt;/button&gt;\n                                    &lt;/div&gt;\n                                    &lt;/td&gt;\n                                &lt;/tr&gt;\n                            &lt;/table&gt;\n                        &lt;/div&gt;\n                        &lt;!-- &lt;div style=\"clear:both;\"&gt;&lt;/div&gt; --&gt;\n                      &lt;/form&gt;\n\n                &lt;/div&gt;\n                        &lt;script src=\"assets/flashcanvas.js\"&gt;&lt;/script&gt;\n                         &lt;script src=\"assets/jquery.signaturepad.js\"&gt;&lt;/script&gt;\n                          &lt;script src=\"assets/json2.min.js\"&gt;&lt;/script&gt;\n                          &lt;script src=\"assets/functions.js\"&gt;&lt;/script&gt;\n\n        &lt;!-- End Signature Table Box --&gt;\n\n    &lt;/td&gt;\n&lt;/tr&gt;\n    &lt;tr&gt;\n      &lt;td style=\"background-color: #dddddd\"&gt;\n        &lt;p style=\"margin-top: 0; margin-bottom: 0\"&gt;&amp;nbsp;&lt;/td&gt;\n  &lt;/tr&gt;\n    &lt;tr&gt;\n      &lt;td style=\"background-color: #dddddd; font-family:Arial, Helvetica, sans-serif; font-size:9px; color:#666\"&gt;\n        &lt;div align=\"center\"&gt;\n        &lt;p style=\"margin-top: 0; margin-bottom: 0\"&gt;&amp;nbsp;&lt;img alt=\"\" height=\"36\" src=\"../images2/contactfooter.jpg\" width=\"557\" /&gt;&lt;br /&gt;\n        &lt;br /&gt;\n      &lt;/div&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n    &lt;tr&gt;\n      &lt;td style=\"background-color: #dddddd; font-family:Arial, Helvetica, sans-serif; font-size:9px; color:#666\"&gt;&lt;div align=\"center\"&gt;\n        &lt;p style=\"margin-top: 0; margin-bottom: 0\"&gt;&amp;copy; Copyright TML Group, LLC.&lt;br /&gt;\n        &lt;/div&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n    &lt;tr&gt;\n      &lt;td height=\"2\" style=\"background-color: #dddddd\"&gt;&lt;/span&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;\n        &lt;div align=\"center\" style=\"width:750px; color:#666666\"  &gt;\n            &lt;p style=\"margin-top: 0; margin-bottom: 0\"&gt;&lt;/div&gt;\n&lt;p style=\"margin-top: 0; margin-bottom: 0\"&gt;&lt;/p&gt;\n        &lt;/td&gt;\n    &lt;/tr&gt;\n&lt;tr&gt;\n        &lt;td style=\"text-align: center\"&gt;&lt;/tr&gt;\n&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td style=\"text-align: center\"&gt;\n        &lt;p style=\"margin-top: 0; margin-bottom: 0\"&gt;&lt;/p&gt;\n        &lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n&lt;script type=\"text/javascript\" src=\"https://ra128.infusionsoft.com/app/webTracking/getTrackingCode?trackingId=6a323c394c72471d0866a90788baeed5\"&gt;&lt;/script&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>Signature to image page</p>\n\n<pre><code>&lt;?php\n/**\n *  Signature to Image: A supplemental script for Signature Pad that\n *  generates an image of the signature\u2019s JSON output server-side using PHP.\n *\n *  @project ca.thomasjbradley.applications.signaturetoimage\n *  @author Thomas J Bradley &lt;hey@thomasjbradley.ca&gt;\n *  @link http://thomasjbradley.ca/lab/signature-to-image\n *  @link http://github.com/thomasjbradley/signature-to-image\n *  @copyright Copyright MMXI\u2013, Thomas J Bradley\n *  @license New BSD License\n *  @version 1.1.0\n */\n\n/**\n *  Accepts a signature created by signature pad in Json format\n *  Converts it to an image resource\n *  The image resource can then be changed into png, jpg whatever PHP GD supports\n *\n *  To create a nicely anti-aliased graphic the signature is drawn 12 times it's original size then shrunken\n *\n *  @param string|array $json\n *  @param array $options OPTIONAL; the options for image creation\n *    imageSize =&gt; array(width, height)\n *    bgColour =&gt; array(red, green, blue) | transparent\n *    penWidth =&gt; int\n *    penColour =&gt; array(red, green, blue)\n *    drawMultiplier =&gt; int\n *\n *  @return object\n */\nfunction sigJsonToImage ($json, $options = array()) {\n  $defaultOptions = array(\n    'imageSize' =&gt; array(410, 155)\n    ,'bgColour' =&gt; array(0xff, 0xff, 0xff)\n    ,'penWidth' =&gt; 2\n    ,'penColour' =&gt; array(0x14, 0x53, 0x94)\n    ,'drawMultiplier'=&gt; 12\n  );\n\n  $options = array_merge($defaultOptions, $options);\n\n  $img = imagecreatetruecolor($options['imageSize'][0] * $options['drawMultiplier'], $options['imageSize'][1] * $options['drawMultiplier']);\n\n  if ($options['bgColour'] == 'transparent') {\n    imagesavealpha($img, true);\n    $bg = imagecolorallocatealpha($img, 0, 0, 0, 127);\n  } else {\n    $bg = imagecolorallocate($img, $options['bgColour'][0], $options['bgColour'][1], $options['bgColour'][2]);\n  }\n\n  $pen = imagecolorallocate($img, $options['penColour'][0], $options['penColour'][1], $options['penColour'][2]);\n  imagefill($img, 0, 0, $bg);\n\n  if (is_string($json))\n    $json = json_decode(stripslashes($json));\n\n  foreach ($json as $v)\n    drawThickLine($img, $v-&gt;lx * $options['drawMultiplier'], $v-&gt;ly * $options['drawMultiplier'], $v-&gt;mx * $options['drawMultiplier'], $v-&gt;my * $options['drawMultiplier'], $pen, $options['penWidth'] * ($options['drawMultiplier'] / 2));\n\n  $imgDest = imagecreatetruecolor($options['imageSize'][0], $options['imageSize'][1]);\n\n  if ($options['bgColour'] == 'transparent') {\n    imagealphablending($imgDest, false);\n    imagesavealpha($imgDest, true);\n  }\n\n  imagecopyresampled($imgDest, $img, 0, 0, 0, 0, $options['imageSize'][0], $options['imageSize'][0], $options['imageSize'][0] * $options['drawMultiplier'], $options['imageSize'][0] * $options['drawMultiplier']);\n  imagedestroy($img);\n\n  return $imgDest;\n}\n\n/**\n *  Draws a thick line\n *  Changing the thickness of a line using imagesetthickness doesn't produce as nice of result\n *\n *  @param object $img\n *  @param int $startX\n *  @param int $startY\n *  @param int $endX\n *  @param int $endY\n *  @param object $colour\n *  @param int $thickness\n *\n *  @return void\n */\nfunction drawThickLine ($img, $startX, $startY, $endX, $endY, $colour, $thickness) {\n  $angle = (atan2(($startY - $endY), ($endX - $startX)));\n\n  $dist_x = $thickness * (sin($angle));\n  $dist_y = $thickness * (cos($angle));\n\n  $p1x = ceil(($startX + $dist_x));\n  $p1y = ceil(($startY + $dist_y));\n  $p2x = ceil(($endX + $dist_x));\n  $p2y = ceil(($endY + $dist_y));\n  $p3x = ceil(($endX - $dist_x));\n  $p3y = ceil(($endY - $dist_y));\n  $p4x = ceil(($startX - $dist_x));\n  $p4y = ceil(($startY - $dist_y));\n\n  $array = array(0=&gt;$p1x, $p1y, $p2x, $p2y, $p3x, $p3y, $p4x, $p4y);\n  imagefilledpolygon($img, $array, (count($array)/2), $colour);\n}\n</code></pre>\n\n<p>Final Result of captured image page</p>\n\n<pre><code>&lt;?php\nrequire_once 'signature-to-image.php';\n$json = $_POST['output'];\n$img = sigJsonToImage($json);\nimagepng($img, 'signature.png');\nheader('Content-Type: image/png');\nimagepng($img);\nimagedestroy($img);\n</code></pre>\n\n<p>Here is the start page\n<a href=\"https://www.protml.com/tmr/sig-confirm.html\" rel=\"nofollow noreferrer\">https://www.protml.com/tmr/sig-confirm.html</a></p>\n\n<p>And here is where the result ends up\n<a href=\"https://www.protml.com/tmr/capture_signature.php\" rel=\"nofollow noreferrer\">https://www.protml.com/tmr/capture_signature.php</a></p>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 661, "user_id": 7623407, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209740955735539/picture?type=large", "display_name": "R10t--", "link": "https://stackoverflow.com/users/7623407/r10t"}, "edited": false, "score": 0, "creation_date": 1562187894, "post_id": 56877879, "comment_id": 100304366, "body": "The only way to do it is qith jQuery. See <a href=\"https://stackoverflow.com/questions/2001366/how-can-i-change-the-text-color-with-jquery\" title=\"how can i change the text color with jquery\">stackoverflow.com/questions/2001366/&hellip;</a>"}, {"owner": {"reputation": 2380, "user_id": 8569209, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NuCe6.png?s=128&g=1", "display_name": "Rob Kwasowski", "link": "https://stackoverflow.com/users/8569209/rob-kwasowski"}, "edited": false, "score": 3, "creation_date": 1562187905, "post_id": 56877879, "comment_id": 100304370, "body": "Can you explain what you mean better? What do you mean by Javascript colors?"}, {"owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "edited": false, "score": 1, "creation_date": 1562187991, "post_id": 56877879, "comment_id": 100304399, "body": "use css variables if you want to change colors on the fly."}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1562188631, "post_id": 56877879, "comment_id": 100304632, "body": "HOW do you want to customize them?"}, {"owner": {"reputation": 4217, "user_id": 9029328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3hFz.png?s=128&g=1", "display_name": "AuxTaco", "link": "https://stackoverflow.com/users/9029328/auxtaco"}, "reply_to_user": {"reputation": 661, "user_id": 7623407, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209740955735539/picture?type=large", "display_name": "R10t--", "link": "https://stackoverflow.com/users/7623407/r10t"}, "edited": false, "score": 1, "creation_date": 1562188960, "post_id": 56877879, "comment_id": 100304777, "body": "@R10t-- jQuery is <i>never</i> the only way to do it. <a href=\"http://youmightnotneedjquery.com/#set_style\" rel=\"nofollow noreferrer\">JavaScript&#39;s come a long way in the nine years since that question was asked.</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 7933034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a401d0b5f093d8d86abe4394e3cf56bc?s=128&d=identicon&r=PG&f=1", "display_name": "Juan Luis", "link": "https://stackoverflow.com/users/7933034/juan-luis"}, "is_accepted": false, "score": 0, "last_activity_date": 1562188808, "creation_date": 1562188808, "answer_id": 56878074, "question_id": 56877879, "link": "https://stackoverflow.com/questions/56877879/turning-css-colors-into-javascript-colors/56878074#56878074", "title": "Turning css colors into Javascript colors", "body": "<p>You can try using JQuery</p>\n\n<pre><code>   &lt;script&gt;\n    $(document).ready(function(){\n      $('a, .tab').css({\"color\": '#821122'});\n      $('a, .tabs').css({\"color\": '#821122'});\n      $('a, .active ').css({\"color\": '#821122', \"background-color\": \"#821122\"});\n      $('a:focus, .active ').css({\"color\": '#821122', \"background-color\": \"#821122\"});\n    });\n    &lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11245370, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E7kO4.png?s=128&g=1", "display_name": "Essentuan", "link": "https://stackoverflow.com/users/11245370/essentuan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562188808, "creation_date": 1562187728, "question_id": 56877879, "link": "https://stackoverflow.com/questions/56877879/turning-css-colors-into-javascript-colors", "title": "Turning css colors into Javascript colors", "body": "<p>I need to customize these colors using javascript but Ive only found ways to do it with CSS</p>\n\n<pre><code>.tabs .tab a {\n  color: #90caf9;\n}\n.tabs .tab a:hover,.tabs .tab a.active {\n  background-color:transparent;\n  color:#008B9B;\n }\n.tabs .indicator {\n  background-color:#009BAD;\n }\n .tabs .tab a:focus.active {\n   color:#26a69a;\n   background-color: rgba(55, 55, 55, 0.2);\n }\n</code></pre>\n"}, {"tags": ["javascript", "html", "css", "reactjs"], "comments": [{"owner": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 2, "creation_date": 1562187816, "post_id": 56877876, "comment_id": 100304339, "body": "Why are you using jQuery with React?"}, {"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "reply_to_user": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 3, "creation_date": 1562188199, "post_id": 56877876, "comment_id": 100304461, "body": "@JohnRuddell Cause I&#39;m a noob. I take it I shouldn&#39;t?"}, {"owner": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 2, "creation_date": 1562188296, "post_id": 56877876, "comment_id": 100304485, "body": "Haha, jQuery and React are both trying to accomplish the same thing. You shouldn&#39;t be using them together. Rather, use the react eco system to show a section. You can use a state variable and conditionally show something. Hard to know what / where this issue is without more context though"}, {"owner": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 0, "creation_date": 1562188448, "post_id": 56877876, "comment_id": 100304549, "body": "You could also in the <code>componentDidMount</code> of the component that renders your <code>#div2</code> do something like <code>document.getElementById(&#39;#div2&#39;).scrollIntoView()</code> if you&#39;re trying to scroll an element into the viewport"}, {"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "reply_to_user": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 0, "creation_date": 1562188587, "post_id": 56877876, "comment_id": 100304607, "body": "document.getElementById(&#39;#div2&#39;) is always null, I can&#39;t do anything with it, even in componentDidMount"}, {"owner": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 0, "creation_date": 1562188634, "post_id": 56877876, "comment_id": 100304633, "body": "Which componentDidMount? There is a component that mounts <code>#div2</code> somewhere no?"}, {"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "reply_to_user": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 0, "creation_date": 1562188670, "post_id": 56877876, "comment_id": 100304644, "body": "The one for the div2 component. This component basically just returns a div with the id div2"}, {"owner": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 0, "creation_date": 1562188766, "post_id": 56877876, "comment_id": 100304692, "body": "Do you mind sharing some code or maybe setup a codesandbox or something? the react component that renders <code>div2</code>, in didMount it definitely would be mounted assuming you have assigned the id to the div. Its really hard to help without something to work off of."}, {"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "reply_to_user": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 0, "creation_date": 1562189048, "post_id": 56877876, "comment_id": 100304797, "body": "I uploaded it, I might have the did mount part on the wrong component"}, {"owner": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 0, "creation_date": 1562189102, "post_id": 56877876, "comment_id": 100304819, "body": "Where&#39;s the html element that gets the ID? aka <code>&lt;PicsWText</code> is not a html element its another component."}, {"owner": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 0, "creation_date": 1562189236, "post_id": 56877876, "comment_id": 100304858, "body": "your issue is the hash id you are specifying doesn&#39;t match the id. <code>&#39;Div1&#39; !== &#39;div1&#39;</code>"}, {"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "reply_to_user": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 0, "creation_date": 1562189237, "post_id": 56877876, "comment_id": 100304859, "body": "That was actually just an issue when uploading it on here, I changed the names of things"}, {"owner": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 1, "creation_date": 1562189545, "post_id": 56877876, "comment_id": 100304962, "body": "Oh, sorry did you try removing the <code>#</code> in the <code>document.getElementById</code>? aka <code>document.getElementById(&#39;div2&#39;)</code> <a href=\"https://codesandbox.io/s/react-example-6018t\" rel=\"nofollow noreferrer\"><b>Like this example</b></a>"}, {"owner": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 1, "creation_date": 1562190002, "post_id": 56877876, "comment_id": 100305090, "body": "In that example i just made a change to use hash, you have to put the hash in the url for the preview view. and trigger a change in the code to see it work"}, {"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "reply_to_user": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 0, "creation_date": 1562190408, "post_id": 56877876, "comment_id": 100305201, "body": "So document.getElementById retrieves the div now, it&#39;s saying <code>show</code> is not a function, do you know what function could be used?"}, {"owner": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 1, "creation_date": 1562190583, "post_id": 56877876, "comment_id": 100305257, "body": "Show is jQuery. Drop that shiz haha. Just call <code>scrollIntoView()</code>. like this <code>document.getElementById(&#39;div2&#39;).scrollIntoView()</code>"}, {"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "reply_to_user": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 1, "creation_date": 1562190707, "post_id": 56877876, "comment_id": 100305287, "body": "Thank-you, it works"}, {"owner": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 0, "creation_date": 1562190959, "post_id": 56877876, "comment_id": 100305363, "body": "Yay!!! Glad that did it :) I&#39;ll write up a solution for you so we can close the question out then :)"}], "answers": [{"comments": [{"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "edited": false, "score": 1, "creation_date": 1562190507, "post_id": 56878305, "comment_id": 100305240, "body": "I think that I couldn&#39;t use ReactDom.findDOMNode because using <code>ref</code> involved turning all my stateless functional component into classes, which I really didn&#39;t want to do"}, {"owner": {"reputation": 107, "user_id": 9440543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47138e4fae2fadf55873751f75d7269?s=128&d=identicon&r=PG&f=1", "display_name": "1pocketaces1", "link": "https://stackoverflow.com/users/9440543/1pocketaces1"}, "reply_to_user": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "edited": false, "score": 0, "creation_date": 1562191225, "post_id": 56878305, "comment_id": 100305431, "body": "Oh that is true. I was going to also recommend to try .focus() instead of .show() in your componentDidMount but I saw you found another solution!"}, {"owner": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 0, "creation_date": 1562205664, "post_id": 56878305, "comment_id": 100307975, "body": "A hash and scrolling to that hash is a fairly standard web practice, using refs is a more react way but not good for this use case since you&#39;d have to keep a separate mapping from hash to ref."}], "tags": [], "owner": {"reputation": 107, "user_id": 9440543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47138e4fae2fadf55873751f75d7269?s=128&d=identicon&r=PG&f=1", "display_name": "1pocketaces1", "link": "https://stackoverflow.com/users/9440543/1pocketaces1"}, "is_accepted": false, "score": 0, "last_activity_date": 1562190365, "creation_date": 1562190365, "answer_id": 56878305, "question_id": 56877876, "link": "https://stackoverflow.com/questions/56877876/react-link-to-a-div-on-another-html-page/56878305#56878305", "title": "React: Link to a div on another html page", "body": "<p>I am not exactly certain what you are trying to accomplish, but I can give you some tips related to what you wrote:</p>\n\n<p>First, the React equivalent to <code>document.getElementById()</code> is <code>ReactDOM.findDOMNode(this.nodeName)</code> and you must remember to\n<code>import ReactDOM from 'react-dom';</code></p>\n\n<p>In order to use this method, you must create a ref on your div \n<code>ref={ ref =&gt; this.nodeName = ref }</code></p>\n\n<p>Also another tip, I am not familiar with how you are organizing your components in the DOM, but I personally do not use html links in my JSX. You can simply add <code>onClick={this.myClickFunction}</code> to any div. This gives more freedom in handling clicks in JS.</p>\n"}, {"tags": [], "owner": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "is_accepted": true, "score": 2, "last_activity_date": 1562205343, "creation_date": 1562205343, "answer_id": 56879731, "question_id": 56877876, "link": "https://stackoverflow.com/questions/56877876/react-link-to-a-div-on-another-html-page/56879731#56879731", "title": "React: Link to a div on another html page", "body": "<p>You shouldn't be using both jQuery and React together. They are trying to accomplish the same thing (DOM management / manipulation)</p>\n\n<p>Instead just use a DOM accessor to grab the id and scroll in componentDidMount</p>\n\n<pre><code>componentDidMount () {\n    const myId = window.location.hash.slice(1)\n    const elem = document.getElementById(myId).\n    if (elem) {\n      elem.scrollIntoView()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2040, "favorite_count": 0, "accepted_answer_id": 56879731, "answer_count": 2, "score": 2, "last_activity_date": 1562205343, "creation_date": 1562187711, "last_edit_date": 1562189550, "question_id": 56877876, "link": "https://stackoverflow.com/questions/56877876/react-link-to-a-div-on-another-html-page", "title": "React: Link to a div on another html page", "body": "<p>I have a link</p>\n\n<pre><code>&lt;a href=\"about.html#div2\"&gt;Click me&lt;/a&gt;\n</code></pre>\n\n<p>When I click the link I am brought to about.html at the top of the document.</p>\n\n<p>If I am already visiting about.html and and I type about.html#div2 in the search bar of my browser(chrome), then my browser goes down to the specific div(div2).</p>\n\n<p>I tried going to the component that loads the other page and inside ComponentDidMount, adding something like</p>\n\n<pre><code>var sectionName = window.location.hash.slice(1);\n\n//then show the section\n$('#' + sectionName ).show();\n</code></pre>\n\n<p>But for some reason the div is still null. How is it null if the component mounted?</p>\n\n<p>Using a Link Component also doesn't work, as I need to put it in a router, which I've done using </p>\n\n<pre><code>&lt;HashRouter&gt;\n\n        &lt;Link style={linkButton} to={about.html#div2}&gt;Learn more&lt;/Link&gt;\n&lt;/HashRouter\n</code></pre>\n\n<p>But this really seems to do nothing.</p>\n\n<p>How can I get my browser to visit the div on the other page from the link on another page.</p>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>This is what my about component looks like essentially</p>\n\n<pre><code>class About extends React.component {\n    constructor(){\n        var p = props;\n        var Style = {\n            display:'flex',\n            flexDirection:'column'\n        }\n    }\n    componentDidMount(){\n        var sectionName = window.location.hash.slice(1);\n\n        //then show the section\n        $('#' + sectionName ).show();\n    }\n    render(){\n        return (\n            &lt;div style={Style}&gt;\n                &lt;Service id='div1' serv={Service1}/&gt;\n                &lt;Service id='div2' serv={Service2}/&gt;\n                &lt;Service id='div3' serv={Service3}/&gt;\n                &lt;Service id='div4' serv={Service4}/&gt;\n                &lt;Service id='div5' serv={Service5}/&gt; \n            &lt;/div&gt;\n\n    )\n    }\n}\n\nvar Service = (props) =&gt; {\n    var serv = props.serv;\n    return (\n        &lt;div id={props.id}&gt;\n            ....\n        &lt;/div&gt;\n    )\n}\n</code></pre>\n"}, {"tags": ["javascript", "vue.js"], "comments": [{"owner": {"reputation": 2933, "user_id": 11204469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b1be34bb82f28e14b12665d4b5df53?s=128&d=identicon&r=PG&f=1", "display_name": "Estradiaz", "link": "https://stackoverflow.com/users/11204469/estradiaz"}, "edited": false, "score": 0, "creation_date": 1562187850, "post_id": 56877796, "comment_id": 100304350, "body": "cant you just <code>class ExtendedComp extends Original{setPopupActiveStatus (val, blur = true) {    &#47;&#47;this.super();\\n     const isVisible = true;   }}</code>?"}, {"owner": {"reputation": 3241, "user_id": 884143, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/46a6e8a5fe296469ba555b433763b3ea?s=128&d=identicon&r=PG", "display_name": "aspirinemaga", "link": "https://stackoverflow.com/users/884143/aspirinemaga"}, "reply_to_user": {"reputation": 2933, "user_id": 11204469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b1be34bb82f28e14b12665d4b5df53?s=128&d=identicon&r=PG&f=1", "display_name": "Estradiaz", "link": "https://stackoverflow.com/users/11204469/estradiaz"}, "edited": false, "score": 0, "creation_date": 1562188373, "post_id": 56877796, "comment_id": 100304509, "body": "@Estradiaz - I think it&#39;s a to high level of JS for me to understand the implementation of your code without an example."}, {"owner": {"reputation": 48727, "user_id": 1366033, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/DU0SY.jpg?s=128&g=1", "display_name": "KyleMit", "link": "https://stackoverflow.com/users/1366033/kylemit"}, "edited": false, "score": 0, "creation_date": 1562188387, "post_id": 56877796, "comment_id": 100304517, "body": "aspirinemaga, could you get the example ball rolling with a <a href=\"https://codesandbox.io/s/vue\" rel=\"nofollow noreferrer\">codesandbox</a> or a little more description of your issue?"}, {"owner": {"reputation": 2933, "user_id": 11204469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b1be34bb82f28e14b12665d4b5df53?s=128&d=identicon&r=PG&f=1", "display_name": "Estradiaz", "link": "https://stackoverflow.com/users/11204469/estradiaz"}, "edited": false, "score": 1, "creation_date": 1562189507, "post_id": 56877796, "comment_id": 100304951, "body": "@aspirinemaga my bad i am way to much in the space of typescript - but the basic idea is like <a href=\"https://vuejs.org/v2/api/#Vue-extend\" rel=\"nofollow noreferrer\">vuejs.org/v2/api/#Vue-extend</a> , <code>Vue.extend(OriginalCompOption).extend(changes)</code> or <code>OriginalComp.extend(changes)</code> depends on the export in footer.vue, actually its the same as <code>ClonedOriginalComp.mixins.push(changes)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 3241, "user_id": 884143, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/46a6e8a5fe296469ba555b433763b3ea?s=128&d=identicon&r=PG", "display_name": "aspirinemaga", "link": "https://stackoverflow.com/users/884143/aspirinemaga"}, "edited": false, "score": 0, "creation_date": 1562222456, "post_id": 56878391, "comment_id": 100311774, "body": "That&#39;s what I did, I tried to <b>override</b> mixins method by simply redefining a method with the same name inside the caller&#39;s methods. Same as your example, but all it does it calls old mixin method with a newly defined method inside the component, instead of replacing it."}], "tags": [], "owner": {"reputation": 48727, "user_id": 1366033, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/DU0SY.jpg?s=128&g=1", "display_name": "KyleMit", "link": "https://stackoverflow.com/users/1366033/kylemit"}, "is_accepted": false, "score": 4, "last_activity_date": 1562190989, "last_edit_date": 1592644375, "creation_date": 1562190989, "answer_id": 56878391, "question_id": 56877796, "link": "https://stackoverflow.com/questions/56877796/override-vues-mixin-method/56878391#56878391", "title": "Override Vue&#39;s mixin method", "body": "<h2>When <a href=\"https://vuejs.org/v2/guide/mixins.html#Option-Merging\" rel=\"nofollow noreferrer\">combining mixin &amp; component options</a>:</h2>\n<blockquote>\n<p><em>When a mixin and the component itself contain overlapping options, they will be &quot;merged&quot; using appropriate strategies:</em></p>\n<ul>\n<li><p><strong>Data objects</strong> undergo a recursive merge, with the component\u2019s data taking priority in cases of conflicts.</p>\n</li>\n<li><p><strong>Hook functions</strong> with the same name are merged into an array so that all of them will be called. Mixin hooks will be called before the component\u2019s own hooks.</p>\n</li>\n<li><p><strong>Methods</strong>, <strong>Components</strong> and <strong>Directives</strong> will be merged into the same object. The component\u2019s options will take priority when there are conflicting keys in these objects.</p>\n</li>\n</ul>\n</blockquote>\n<p>Here's an example of a method provided by both a component and a mixin:</p>\n<pre class=\"lang-js prettyprint-override\"><code>var mixin = {\n  methods: {\n    foo: function () {\n      console.log('Mixin Msg')\n    },\n  }\n}\n\nvar vm = new Vue({\n  mixins: [mixin],\n  methods: {\n    foo: function () {\n      console.log('Component Msg')\n    },\n  }\n})\n\nvm.foo() // =&gt; &quot;Component Msg&quot;\n</code></pre>\n<p>And here's an <a href=\"https://codesandbox.io/s/vue-template-c0p9b\" rel=\"nofollow noreferrer\"><strong>example in codesandbox</strong></a></p>\n<p>So I believe you should be able to &quot;override&quot; the mixin simply by providing a method with the same name on the component and it will take priority</p>\n"}, {"comments": [{"owner": {"reputation": 3241, "user_id": 884143, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/46a6e8a5fe296469ba555b433763b3ea?s=128&d=identicon&r=PG", "display_name": "aspirinemaga", "link": "https://stackoverflow.com/users/884143/aspirinemaga"}, "edited": false, "score": 0, "creation_date": 1562241525, "post_id": 56882672, "comment_id": 100321852, "body": "Thank you for your help! First solution, <a href=\"https://vuejs.org/v2/api/#extends\" rel=\"nofollow noreferrer\">vuejs.org/v2/api/#extends</a> approach helped me to solve the problem. What I&#39;ve understood is that if you want to override a mixin, you should do it in a caller component, so I had to clone a <code>footer.vue</code> and then <code>popup.vue</code> where <code>popup.js</code> where called."}, {"owner": {"reputation": 2933, "user_id": 11204469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b1be34bb82f28e14b12665d4b5df53?s=128&d=identicon&r=PG&f=1", "display_name": "Estradiaz", "link": "https://stackoverflow.com/users/11204469/estradiaz"}, "reply_to_user": {"reputation": 3241, "user_id": 884143, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/46a6e8a5fe296469ba555b433763b3ea?s=128&d=identicon&r=PG", "display_name": "aspirinemaga", "link": "https://stackoverflow.com/users/884143/aspirinemaga"}, "edited": false, "score": 0, "creation_date": 1562241787, "post_id": 56882672, "comment_id": 100321994, "body": "@aspirinemaga You are welcome, ___ i am not sure if i understand <b>&quot;footer.vue and then popup.vue where popup.js where called&quot;</b> but to have <code>name.vue</code> &amp;&amp; <code>name.js</code> feels kinda redundant"}, {"owner": {"reputation": 3241, "user_id": 884143, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/46a6e8a5fe296469ba555b433763b3ea?s=128&d=identicon&r=PG", "display_name": "aspirinemaga", "link": "https://stackoverflow.com/users/884143/aspirinemaga"}, "edited": false, "score": 0, "creation_date": 1562242656, "post_id": 56882672, "comment_id": 100322495, "body": "please check my Question post after UPDATED section for better explanation."}], "tags": [], "owner": {"reputation": 2933, "user_id": 11204469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b1be34bb82f28e14b12665d4b5df53?s=128&d=identicon&r=PG&f=1", "display_name": "Estradiaz", "link": "https://stackoverflow.com/users/11204469/estradiaz"}, "is_accepted": true, "score": 2, "last_activity_date": 1562228593, "last_edit_date": 1592644375, "creation_date": 1562225211, "answer_id": 56882672, "question_id": 56877796, "link": "https://stackoverflow.com/questions/56877796/override-vues-mixin-method/56882672#56882672", "title": "Override Vue&#39;s mixin method", "body": "<h2>Where Vue extends</h2>\n<p>So basically what you want to do is to extend your current component by a custom method.\nThis can be done with <code>Vue.extend</code>. Vue provides an option to worryless clone/extend components by assigning one component to the <code>extends</code> option:</p>\n<p><a href=\"https://vuejs.org/v2/api/#extends\" rel=\"nofollow noreferrer\">Option/ Composition - extends</a></p>\n<pre><code>import SourceComponent from 'node_modules/somePackageName/components/footer.vue'\nexport default {\n   name: &quot;override&quot;,\n   extends: SourceComponent,\n   methods: {\n      thatActualMethodBehaviour(){}\n   }\n} \n</code></pre>\n<hr />\n<p><a href=\"https://vuejs.org/v2/api/#Vue-extend\" rel=\"nofollow noreferrer\">Vue.extend</a></p>\n<pre><code>// can be  Function | Object\nimport SourceComponent from 'node_modules/somePackageName/components/footer.vue'\nif(typeof SourceComponent === 'function'){\n  export default SourceComponent.extend({\n      methods: {thatActualMethodBehaviour(){}}\n  })\n} else {\n  export default Vue.extend(SourceComponent).extend({\n      methods: {thatActualMethodBehaviour(){}}\n  })  \n}\n</code></pre>\n<p><a href=\"https://vuejs.org/v2/api/#mixins\" rel=\"nofollow noreferrer\">Option/ Composition - mixins</a></p>\n<pre><code>// must be Object\nimport SourceComponentOption from 'node_modules/somePackageName/components/footer.vue'\nif(typeof SourceComponent !== 'function'){\n  export default Vue.extend({\n      mixins: [SourceComponentOption],\n      methods: {thatActualMethodBehaviour(){}}\n  })\n}\n</code></pre>\n<hr />\n<p>the - Y U DO DIS ?!?? - path</p>\n<pre><code>import SourceComponentOption from 'node_modules/somePackageName/components/footer.vue'\nexport default Object.assign({}, SourceComponentOption, {methods: Object.assign({}, SourceComponentOption.methods, {thatActualMethodBehaviour: function(){}}))\n</code></pre>\n<hr />\n<p>typescript: <a href=\"https://github.com/kaorun343/vue-property-decorator\" rel=\"nofollow noreferrer\">vue-property-decorator</a></p>\n<pre><code>import {Vue, Component} from 'vue-property-decorator'\nimport SourceComponent from 'node_modules/somePackageName/components/footer.vue'\n@Component&lt;CustomComponent&gt;({...hooks})\nexport default class CustomComponent extends SourceComponent{\n   methods: thatActualMethodBehaviour(){}\n}\n</code></pre>\n"}], "owner": {"reputation": 3241, "user_id": 884143, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/46a6e8a5fe296469ba555b433763b3ea?s=128&d=identicon&r=PG", "display_name": "aspirinemaga", "link": "https://stackoverflow.com/users/884143/aspirinemaga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4891, "favorite_count": 1, "accepted_answer_id": 56882672, "answer_count": 2, "score": 2, "last_activity_date": 1562242606, "creation_date": 1562187273, "last_edit_date": 1562242606, "question_id": 56877796, "link": "https://stackoverflow.com/questions/56877796/override-vues-mixin-method", "title": "Override Vue&#39;s mixin method", "body": "<p>Is there a way to override some of npm's mixin which is called inside the component by the local one ?</p>\n\n<p>I have an npm package component inside\n<code>node_modules/somePackageName/components/footer.vue</code> which use another of it's mixins from\n<code>node_modules/somePackageName/mixins/popup.js</code></p>\n\n<p>That <code>popup.js</code> contains following method:</p>\n\n<pre><code>methods: {\n  setPopupActiveStatus (val, blur = true) {\n    const isVisible = false\n  }\n},\n</code></pre>\n\n<p>And I want to override it's behaviour from <code>App.vue</code> where I use that <code>footer.vue</code> component with something like this:</p>\n\n<pre><code>methods: {\n  setPopupActiveStatus (val, blur = true) {\n    const isVisible = true\n  }\n},\n</code></pre>\n\n<p>But it doesn't work as I wanted to.</p>\n\n<p><strong>==== UPDATE ====</strong></p>\n\n<p>Here is the explanation of How I solved my issue based on @Estradiaz's answer:</p>\n\n<p><a href=\"https://i.stack.imgur.com/w7TWR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w7TWR.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "jquery", "ajax", "vb.net", "model-view-controller"], "answers": [{"tags": [], "owner": {"reputation": 85, "user_id": 6843744, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xubWm.jpg?s=128&g=1", "display_name": "elowell", "link": "https://stackoverflow.com/users/6843744/elowell"}, "is_accepted": true, "score": 0, "last_activity_date": 1562266069, "creation_date": 1562266069, "answer_id": 56893049, "question_id": 56877780, "link": "https://stackoverflow.com/questions/56877780/how-to-find-a-single-checkboxs-checked-state-in-a-webgrid/56893049#56893049", "title": "How to find a single checkbox&#39;s checked state in a WebGrid", "body": "<p>The trick was to do this:</p>\n\n<pre><code>                           if ($(this).find(\"td\").children().is(\":checked\")) {\n                                x.each(function () {\n                                    if ($(this).children('input').length &gt; 0) {\n                                        itArr.push('\"' + $(this).children('input').val() + '\"');\n                                    }\n                                    else {\n                                        itArr.push('\"' + $(this).text() + '\"');\n                                    }\n                                });\n                            }\n</code></pre>\n\n<p>instead of this:</p>\n\n<pre><code>                    var chkbox2 = $(\"#chkbox1\").is(\":checked\");\n                    if ($(this)[0].rowIndex != 0) {\n                        if (chkbox2) {\n                            x = $(this).children();\n                            var itArr = [];\n                            x.each(function () {\n                                if ($(this).children('input').length &gt; 0) {\n                                    itArr.push('\"' + $(this).children('input').val() + '\"');\n                                }\n                                else {\n                                    itArr.push('\"' + $(this).text() + '\"');\n                                }\n                            });\n                            otArr.push('\"Row' + i + '\": [' + itArr.join(',') + ']');\n                        }\n                    }\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 6843744, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xubWm.jpg?s=128&g=1", "display_name": "elowell", "link": "https://stackoverflow.com/users/6843744/elowell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 56893049, "answer_count": 1, "score": 0, "last_activity_date": 1562266069, "creation_date": 1562187166, "question_id": 56877780, "link": "https://stackoverflow.com/questions/56877780/how-to-find-a-single-checkboxs-checked-state-in-a-webgrid", "title": "How to find a single checkbox&#39;s checked state in a WebGrid", "body": "<p>Here is my WebGrid with a checkbox column with the id = chkbox1:</p>\n\n<pre><code>@grid.GetHtml(htmlAttributes:=New With {.id = \"grid\", .class = \"table table-bordered table-striped table-condensed\", .name = \"grid1\"},\n                            emptyRowCellValue:=\"No Records Found\",\n                            headerStyle:=\"grid-header\",\n                            columns:=grid.Columns(\n                            grid.Column(header:=\"Select\", format:=Function() Html.CheckBox(\"chkboxname\", htmlAttributes:=New With {.id = \"chkbox1\", .value = \"Item\"})),\n                            grid.Column(\"item_id\", \"Item ID\"),\n                            grid.Column(\"item_desc\", \"Description\")))\n</code></pre>\n\n<p>Here are my functions for turning the WebGrid into a json object:</p>\n\n<pre><code>&lt;script&gt;\n                document.getElementById(\"btnGetRows\").addEventListener(\"click\", getTableData);\n\n                function getTableData() {\n                    //debugger;\n                    var _griddata = gridTojson();\n                    var url = '@Url.Action(\"GetGridViewRows\")';\n                    alert(_griddata);\n                    $.ajax({\n                        url: url,\n                        type: 'POST',\n                        data: { griddata: _griddata }\n                    }).done(function (data) {\n                        if (data != \"\") {\n                            $('#grid').html(data);\n                        }\n                    });\n                }\n\n                function gridTojson() {\n                    var json = '{';\n                    var otArr = [];\n\n                    var tbl2 = $('#grid tbody tr').each(function (i) {\n                        var chkbox2 = $(\"#chkbox1\").is(\":checked\");\n                        //var chkbox = document.getElementById(\"chkbox1\"); //tried this too\n                        if ($(this)[0].rowIndex != 0) {\n                            if (chkbox2) {\n                                x = $(this).children();\n                                var itArr = [];\n                                x.each(function () {\n                                    if ($(this).children('input').length &gt; 0) {\n                                        itArr.push('\"' + $(this).children('input').val() + '\"');\n                                    }\n                                    else {\n                                        itArr.push('\"' + $(this).text() + '\"');\n                                    }\n                                });\n                                otArr.push('\"Row' + i + '\": [' + itArr.join(',') + ']');\n                            }\n                        }\n                    })\n                    json += otArr.join(\",\") + '}'\n                    return json;\n                }\n            &lt;/script&gt;\n</code></pre>\n\n<p>What I'm wanting to do is loop through and get any rows that have the checkbox checked and store the row data in the json object. If I check all the checkboxes on the WebGrid, the \"if\" statement becomes true. Even though the checkboxes have the same ID, shouldn't it still work since the var chkbox2 = $(\"#chkbox1\").is(\":checked\") is in the loop and it resets it every time?</p>\n"}, {"tags": ["javascript", "html5-canvas", "fabricjs"], "comments": [{"owner": {"reputation": 13379, "user_id": 3551786, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/iCAVo.png?s=128&g=1", "display_name": "Durga", "link": "https://stackoverflow.com/users/3551786/durga"}, "edited": false, "score": 0, "creation_date": 1562222900, "post_id": 56877766, "comment_id": 100311956, "body": "What you want to acheive?"}, {"owner": {"reputation": 1491, "user_id": 1031322, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/deb8f6d269312be2e72dd87560a79a47?s=128&d=identicon&r=PG", "display_name": "Xris", "link": "https://stackoverflow.com/users/1031322/xris"}, "reply_to_user": {"reputation": 13379, "user_id": 3551786, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/iCAVo.png?s=128&g=1", "display_name": "Durga", "link": "https://stackoverflow.com/users/3551786/durga"}, "edited": false, "score": 0, "creation_date": 1562239071, "post_id": 56877766, "comment_id": 100320602, "body": "The image does not show up until i click on the canvas, also the click event attached to the image does not work by showing to the console the text&#39;im clicked&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 1491, "user_id": 1031322, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/deb8f6d269312be2e72dd87560a79a47?s=128&d=identicon&r=PG", "display_name": "Xris", "link": "https://stackoverflow.com/users/1031322/xris"}, "edited": false, "score": 0, "creation_date": 1562246869, "post_id": 56888751, "comment_id": 100324940, "body": "I am loading the image in my project folder under the root , this is the url &#39;../Content/assets/img/next.png&#39;. I don&#39;t know if setting the crossiOrigin is necessary."}, {"owner": {"reputation": 1491, "user_id": 1031322, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/deb8f6d269312be2e72dd87560a79a47?s=128&d=identicon&r=PG", "display_name": "Xris", "link": "https://stackoverflow.com/users/1031322/xris"}, "edited": false, "score": 0, "creation_date": 1562249982, "post_id": 56888751, "comment_id": 100326620, "body": "The problem of the image not showing after the canvas is loaded is now fixed,  i have to add canvas.renderAll() after canvas.add(img). Thanks mate"}, {"owner": {"reputation": 13379, "user_id": 3551786, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/iCAVo.png?s=128&g=1", "display_name": "Durga", "link": "https://stackoverflow.com/users/3551786/durga"}, "reply_to_user": {"reputation": 1491, "user_id": 1031322, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/deb8f6d269312be2e72dd87560a79a47?s=128&d=identicon&r=PG", "display_name": "Xris", "link": "https://stackoverflow.com/users/1031322/xris"}, "edited": false, "score": 0, "creation_date": 1562250316, "post_id": 56888751, "comment_id": 100326769, "body": "@Xris <code>renderAll</code> is calling inside add method, you no need to call again, if you still want use <code>requestRenderAll</code>"}, {"owner": {"reputation": 1491, "user_id": 1031322, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/deb8f6d269312be2e72dd87560a79a47?s=128&d=identicon&r=PG", "display_name": "Xris", "link": "https://stackoverflow.com/users/1031322/xris"}, "edited": false, "score": 0, "creation_date": 1562250676, "post_id": 56888751, "comment_id": 100326947, "body": "when i do canvas.requestRenderAll(); i get error that requestRenderAll is not function"}], "tags": [], "owner": {"reputation": 13379, "user_id": 3551786, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/iCAVo.png?s=128&g=1", "display_name": "Durga", "link": "https://stackoverflow.com/users/3551786/durga"}, "is_accepted": false, "score": 1, "last_activity_date": 1562245972, "creation_date": 1562245972, "answer_id": 56888751, "question_id": 56877766, "link": "https://stackoverflow.com/questions/56877766/image-only-appears-when-selected-on-canvas-fabric-js/56888751#56888751", "title": "Image only appears when selected on canvas Fabric JS", "body": "<p>You need to use <code>mousedown</code> event not <code>click</code>. And use <code>crossOrigin</code> property for image object, if you are loading from another server.</p>\n\n<p><strong><em>DEMO</em></strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const canvas = new fabric.Canvas('canvas', {\r\n  selection: false\r\n});\r\n\r\nconst circle = new fabric.Circle({\r\n  left: 100,\r\n  top: 100,\r\n  radius: 50,\r\n  fill: '#eef',\r\n  originX: 'center',\r\n  originY: 'center'\r\n});\r\n\r\nconst text = new fabric.Text('Hello World', {\r\n  left: circle.left,\r\n  top: circle.top,\r\n  fontFamily: 'Arial',\r\n  fontWeight: 'bold',\r\n  fontSize: 10,\r\n  fill: 'black',\r\n  originX: 'center',\r\n  originY: 'center',\r\n});\r\n\r\nconst group = new fabric.Group([circle, text], {\r\n  left: circle.left,\r\n  top: circle.top,\r\n  originX: 'center',\r\n  originY: 'center'\r\n});\r\n\r\ncanvas.add(group);\r\n\r\nfabric.Image.fromURL('http://placekitten.com/200/300', function(img) {\r\n  img.set({\r\n    left: group.left + 20,\r\n    top: group.top,\r\n    perPixelTargetFind: true,\r\n    padding: 0,\r\n    hasBorders: false,\r\n    hasControls: false,\r\n    width: 16,\r\n    height: 16,\r\n    originX: 'center',\r\n    originY: 'center',\r\n  })\r\n  canvas.add(img);\r\n  \r\n  img.on('mousedown', function() {\r\n    console.log('img clicked');\r\n  });\r\n\r\n}, {\r\n  crossOrigin: 'annonymous'\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/fabric.js/3.0.0/fabric.min.js\"&gt;&lt;/script&gt;\r\n&lt;canvas id=\"canvas\" width=\"500\" height=\"300\" style=\"border: 2px solid green;\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 136, "user_id": 4112198, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZwoPB.jpg?s=128&g=1", "display_name": "Alexander Istomin", "link": "https://stackoverflow.com/users/4112198/alexander-istomin"}, "is_accepted": true, "score": 1, "last_activity_date": 1562777459, "last_edit_date": 1562777459, "creation_date": 1562777138, "answer_id": 56975223, "question_id": 56877766, "link": "https://stackoverflow.com/questions/56877766/image-only-appears-when-selected-on-canvas-fabric-js/56975223#56975223", "title": "Image only appears when selected on canvas Fabric JS", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const canvas = new fabric.Canvas('canvas', {\r\n  selection: false\r\n});\r\n\r\nconst circle = new fabric.Circle({\r\n  left: 100,\r\n  top: 100,\r\n  radius: 50,\r\n  fill: '#eef',\r\n  originX: 'center',\r\n  originY: 'center'\r\n});\r\n\r\nconst text = new fabric.Text('Hello World', {\r\n    left: circle.left,\r\n    top: circle.top,\r\n    fontFamily: 'Arial',\r\n    fontWeight: 'bold',\r\n    fontSize: 10,\r\n    fill: 'black',\r\n    originX: 'center',\r\n    originY: 'center',\r\n});\r\n\r\nconst group = new fabric.Group([circle, text], {\r\n    left: circle.left,\r\n    top: circle.top,\r\n    originX: 'center',\r\n    originY: 'center'\r\n});\r\n\r\ncanvas.add(group);\r\n\r\nfabric.Image.fromURL('http://placekitten.com/200/300', function (img) {\r\n\r\n    canvas.add(img.set({\r\n          left: group.left + 20,\r\n          top: group.top,\r\n          perPixelTargetFind: true,\r\n          padding: 0,\r\n          hasBorders: false,\r\n          hasControls: false,\r\n          width: 16,\r\n          height: 16,\r\n          originX: 'center',\r\n          originY: 'center',\r\n      }));\r\n\r\n/* will not work - use mousedown or you should use events provided by fabric\r\n    img.on('click', function () {\r\n        console.log('img clicked');\r\n    });\r\n*/\r\n// use this option if you want to load image from other domain\r\n}, {crossOrigin: 'anonymous'});\r\n\r\nconst mouseDownHandler = (e) =&gt; {\r\nconsole.log('mouseDownHandler: yep! someone clicked on canvas');\r\nif(e.target &amp;&amp; e .target.type === \"image\") console.log('mouseDownHandler: and smashed image!');\r\n}\r\n\r\nconst selectionCreatedHandler = (e) =&gt; {\r\nif(e.target &amp;&amp; e .target.type === \"image\") console.log('selectionCreatedHandler: yep! someone selected image')\r\n}\r\n\r\nconst selectionUpdatedHandler = (e) =&gt; {\r\nif(e.target &amp;&amp; e .target.type === \"image\") console.log('selectionUpdatedHandler: yep! someone selected object instead of previously selected')\r\n}\r\n\r\n\r\ncanvas.on('selection:created', selectionCreatedHandler);\r\ncanvas.on('selection:updated', selectionUpdatedHandler);\r\ncanvas.on('mouse:down', mouseDownHandler);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/fabric.js/3.0.0/fabric.min.js\"&gt;&lt;/script&gt;\r\n&lt;canvas id=\"canvas\" width=\"500\" height=\"300\" style=\"border: 2px solid green;\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1491, "user_id": 1031322, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/deb8f6d269312be2e72dd87560a79a47?s=128&d=identicon&r=PG", "display_name": "Xris", "link": "https://stackoverflow.com/users/1031322/xris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 560, "favorite_count": 0, "accepted_answer_id": 56975223, "answer_count": 2, "score": 0, "last_activity_date": 1562777459, "creation_date": 1562187083, "last_edit_date": 1562201971, "question_id": 56877766, "link": "https://stackoverflow.com/questions/56877766/image-only-appears-when-selected-on-canvas-fabric-js", "title": "Image only appears when selected on canvas Fabric JS", "body": "<p>I am trying to add image on canvas with fabric JS , but the image only appears when clicked or selected its surrounding area which is group object.\nThe image is supposed to show up immediately when the page finish loading. \nHere is the snippet for the source code. Any help would be appreciated.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const canvas = new fabric.Canvas('canvas', {\r\n  selection: false\r\n});\r\n\r\nconst circle = new fabric.Circle({\r\n  left: 100,\r\n  top: 100,\r\n  radius: 50,\r\n  fill: '#eef',\r\n  originX: 'center',\r\n  originY: 'center'\r\n});\r\n\r\nconst text = new fabric.Text('Hello World', {\r\n    left: circle.left,\r\n    top: circle.top,\r\n    fontFamily: 'Arial',\r\n    fontWeight: 'bold',\r\n    fontSize: 10,\r\n    fill: 'black',\r\n    originX: 'center',\r\n    originY: 'center',\r\n});\r\n\r\nconst group = new fabric.Group([circle, text], {\r\n    left: circle.left,\r\n    top: circle.top,\r\n    originX: 'center',\r\n    originY: 'center'\r\n});\r\n\r\ncanvas.add(group);\r\n\r\nfabric.Image.fromURL('http://placekitten.com/200/300', function (img) {\r\n\r\n    canvas.add(img.set({\r\n          left: group.left + 20,\r\n          top: group.top,\r\n          perPixelTargetFind: true,\r\n          padding: 0,\r\n          hasBorders: false,\r\n          hasControls: false,\r\n          width: 16,\r\n          height: 16,\r\n          originX: 'center',\r\n          originY: 'center',\r\n      }));\r\n\r\n    img.on('click', function () {\r\n        console.log('img clicked');\r\n    });\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/fabric.js/3.0.0/fabric.min.js\"&gt;&lt;/script&gt;\r\n&lt;canvas id=\"canvas\" width=\"500\" height=\"300\" style=\"border: 2px solid green;\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "socket.io", "jestjs"], "comments": [{"owner": {"reputation": 1016, "user_id": 8587899, "user_type": "registered", "profile_image": "https://graph.facebook.com/1753587434927148/picture?type=large", "display_name": "Declan Nnadozie", "link": "https://stackoverflow.com/users/8587899/declan-nnadozie"}, "edited": false, "score": 0, "creation_date": 1562191612, "post_id": 56877742, "comment_id": 100305543, "body": "Call the disconnect function in the controller directly with.... and pass the necessary parameters you know socket.io will pass  dont bother test socket.io disconnect... just imagine your controller disconnect function is called"}], "owner": {"reputation": 11, "user_id": 11736344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1918060c3bcb5e4456f2b05227be4e96?s=128&d=identicon&r=PG&f=1", "display_name": "Matt K", "link": "https://stackoverflow.com/users/11736344/matt-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1562186939, "creation_date": 1562186939, "question_id": 56877742, "link": "https://stackoverflow.com/questions/56877742/testing-socket-io-running-assertions-after-calling-socket-prototype-disconnect", "title": "Testing Socket.io: Running assertions after calling Socket.prototype.disconnect", "body": "<h1>Problem</h1>\n\n<p><strong>Note: This is a contrived example for demonstration purposes and is not the actual code I am testing in my project.</strong></p>\n\n<p>I am writing tests for my <a href=\"https://socket.io/docs/server-api/\" rel=\"nofollow noreferrer\">Socket.io</a> server using <a href=\"https://jestjs.io/\" rel=\"nofollow noreferrer\">Jest</a>.</p>\n\n<p>I want to test that a particular function (<code>MyController.prototype.disconnect</code>) is called after a socket disconnects.  </p>\n\n<p>This is the code I want to test:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const handleDisconnect = () =&gt; {\n    myController.disconnect(); // I want to test that this is called.\n    console.log(`Socket ${socket.id} has disconnected.`);\n};\nsocket.on('disconnect', handleDisconnect);\n</code></pre>\n\n<p>However, I cannot figure out how to wait for the execution of <code>Socket.prototype.disconnect</code> to finish before writing my assertions (it is not asynchronous).</p>\n\n<h1>Reproducing the Problem</h1>\n\n<ol>\n<li>Install the dependencies:</li>\n</ol>\n\n<pre><code>\"jest\": \"^24.8.0\",\n\"socket.io-client\": \"^2.2.0\"\n\"socket.io\": \"^2.2.0\"\n</code></pre>\n\n<ol start=\"2\">\n<li>Create a file named <code>demo.test.js</code> and paste in the following code.</li>\n</ol>\n\n<pre class=\"lang-js prettyprint-override\"><code>const ioClient = require('socket.io-client');\nconst ioServer = require('socket.io');\n\nclass MyController {\n\n    constructor() {}\n\n    disconnect() {\n        console.log('MyController.prototype.disconnect');\n    }\n\n}\n\ndescribe('demo', () =&gt; {\n\n    let port = 5000, \n        uri = `http://localhost:${port}`,\n        connectOptions = {\n            'reconnection delay': 0,\n            'reopen delay': 0,\n            'force new connection': true,\n            transports: ['websocket']\n        };\n\n    let server;\n    let myController;\n\n    beforeEach(() =&gt; {\n        server = ioServer().listen(port);\n\n        server.on('connection', (socket) =&gt; {\n            console.log(`Socket ${socket.id} has connected.`);\n\n            myController = new MyController();\n\n            const handleDisconnect = () =&gt; {\n                myController.disconnect();\n                console.log(`Socket ${socket.id} has disconnected.`);\n            };\n\n            socket.on('disconnect', handleDisconnect);\n        });\n\n    });\n\n    afterEach((done) =&gt; {\n        server.close();\n        done();\n    });\n\n    const createClient = () =&gt; {\n        return ioClient.connect(uri, connectOptions);\n    }\n\n    describe('handleDisconnect', () =&gt; {\n\n        test.only('Should call MyController.prototype.disconnect when a socket disconnects', (done) =&gt; {\n            const client = createClient();\n\n            client.on('connect', () =&gt; {\n\n                // Mock MyController.prototype.disconnect to see if it was called\n                const myControllerDisconnectMock = jest.fn();\n                myController.disconnect = myControllerDisconnectMock;\n\n                client.disconnect(); // I want to wait for this\n\n                /**\n                 * I want to put assertions here after client.disconnect() runs\n                 */\n                console.log('foo'); // But notice this runs before client.disconnect()\n\n                expect(myControllerDisconnectMock.mock.calls.length).toBe(1);\n                done();\n            });\n        });\n\n    });\n\n});\n</code></pre>\n\n<ol start=\"3\">\n<li>Run the tests:</li>\n</ol>\n\n<pre><code>jest demo.test.js\n</code></pre>\n\n<p>Console output (simplified for brevity):</p>\n\n<p><code>'MyController.prototype.disconnect'</code> is not logged because that prototype method is mocked.</p>\n\n<pre><code>Expected: 1\nReceived: 0\n  console.log demo.test.js:32\n    Socket OKkN21L8dBzzrRiuAAAA has connected.\n\n  console.log demo.test.js:72\n    foo\n\n  console.log demo.test.js:38\n    Socket OKkN21L8dBzzrRiuAAAA has disconnected.\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "edited": false, "score": 1, "creation_date": 1562187053, "post_id": 56877739, "comment_id": 100304058, "body": "Don&#39;t waste your time, the bot detection will stop you"}, {"owner": {"reputation": 1, "user_id": 11736433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad09cb5206d1cbe34f5cedfd91625a3f?s=128&d=identicon&r=PG&f=1", "display_name": "rickamc", "link": "https://stackoverflow.com/users/11736433/rickamc"}, "reply_to_user": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "edited": false, "score": 0, "creation_date": 1562187198, "post_id": 56877739, "comment_id": 100304106, "body": "I only want to fill fields, not to sumbit automatically the form... it&#39;s also detect as bot?"}, {"owner": {"reputation": 1313, "user_id": 8167494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tE1Ek.jpg?s=128&g=1", "display_name": "Isaac Vidrine", "link": "https://stackoverflow.com/users/8167494/isaac-vidrine"}, "edited": false, "score": 0, "creation_date": 1562187297, "post_id": 56877739, "comment_id": 100304150, "body": "If you are trying to populate them with values then why are you trying to set attributes? Just do <code>document.getElementsByName(&quot;Passwd&quot;)[0].value = &quot;mypassword&quot;</code>"}, {"owner": {"reputation": 1, "user_id": 11736433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad09cb5206d1cbe34f5cedfd91625a3f?s=128&d=identicon&r=PG&f=1", "display_name": "rickamc", "link": "https://stackoverflow.com/users/11736433/rickamc"}, "edited": false, "score": 0, "creation_date": 1562187353, "post_id": 56877739, "comment_id": 100304176, "body": "because i looked that filling manually this is the attribute that changes"}, {"owner": {"reputation": 1, "user_id": 11736433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad09cb5206d1cbe34f5cedfd91625a3f?s=128&d=identicon&r=PG&f=1", "display_name": "rickamc", "link": "https://stackoverflow.com/users/11736433/rickamc"}, "reply_to_user": {"reputation": 1313, "user_id": 8167494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tE1Ek.jpg?s=128&g=1", "display_name": "Isaac Vidrine", "link": "https://stackoverflow.com/users/8167494/isaac-vidrine"}, "edited": false, "score": 0, "creation_date": 1562187411, "post_id": 56877739, "comment_id": 100304204, "body": "Thanks @IsaacVidrine, worked"}], "owner": {"reputation": 1, "user_id": 11736433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad09cb5206d1cbe34f5cedfd91625a3f?s=128&d=identicon&r=PG&f=1", "display_name": "rickamc", "link": "https://stackoverflow.com/users/11736433/rickamc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 215, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562186935, "creation_date": 1562186935, "question_id": 56877739, "link": "https://stackoverflow.com/questions/56877739/auto-fill-google-registration-form-with-javascript", "title": "Auto-fill google registration form with javascript", "body": "<p>I'm trying to auto-fill google <a href=\"https://accounts.google.com/signup/v2/webcreateaccount?flowName=GlifWebSignIn&amp;flowEntry=SignUp\" rel=\"nofollow noreferrer\">form</a>  with javascript</p>\n\n<p>and I found problems to fill password and confirm password field.\nThis is what i tried:</p>\n\n<pre><code>document.getElementsByName(\"Passwd\")[0].setAttribute(\"badinput\", \"false\");\ndocument.getElementsByName(\"Passwd\")[0].setAttribute(\"data-initial-value\", \"myPWD\");\n</code></pre>\n\n<p>but didn't work</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 10371, "user_id": 3322400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l3BGk.jpg?s=128&g=1", "display_name": "Lo&#239;c", "link": "https://stackoverflow.com/users/3322400/lo%c3%afc"}, "edited": false, "score": 1, "creation_date": 1562186712, "post_id": 56877651, "comment_id": 100303922, "body": "is it normal that you don&#39;t define any delay in your setInterval call ?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 2, "creation_date": 1562186722, "post_id": 56877651, "comment_id": 100303930, "body": "Um, you&#39;re not passing any interval time to your <code>setInterval</code> call?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1562186757, "post_id": 56877651, "comment_id": 100303945, "body": "Where and how often do you call <code>criaRelogio</code>?"}, {"owner": {"reputation": 108, "user_id": 7154338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1c5b2cbe83d0f076c7a79aa241cfc61?s=128&d=identicon&r=PG&f=1", "display_name": "Zocatelli", "link": "https://stackoverflow.com/users/7154338/zocatelli"}, "edited": false, "score": 0, "creation_date": 1562186931, "post_id": 56877651, "comment_id": 100304011, "body": "in the Render function, using the array.map function."}, {"owner": {"reputation": 2933, "user_id": 11204469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b1be34bb82f28e14b12665d4b5df53?s=128&d=identicon&r=PG&f=1", "display_name": "Estradiaz", "link": "https://stackoverflow.com/users/11204469/estradiaz"}, "edited": false, "score": 0, "creation_date": 1562186983, "post_id": 56877651, "comment_id": 100304031, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/52212703/using-requestanimationframe-in-react\">Using requestAnimationFrame in React</a>"}], "owner": {"reputation": 108, "user_id": 7154338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1c5b2cbe83d0f076c7a79aa241cfc61?s=128&d=identicon&r=PG&f=1", "display_name": "Zocatelli", "link": "https://stackoverflow.com/users/7154338/zocatelli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562186860, "creation_date": 1562186488, "last_edit_date": 1562186860, "question_id": 56877651, "link": "https://stackoverflow.com/questions/56877651/better-perfomance-with-setinterval", "title": "Better perfomance with setInterval", "body": "<p>I'm building a react app. I have a TimeZone page. The problem is, there's currently 12 different timezones, and to display a ticking clock, I use the setInterval function, with 1000 ms delay for eachone. The problem is, sometimes the page freezes, and the clock jump the seconds it froze. I was wondering if there's a better way to do it.</p>\n\n<p>I tried hard coding it all, but it took too many lines, the timezones comes with a json, and I call a function to build each individual clock. In this case 12 times.</p>\n\n<pre><code>   criaRelogio = (city, flag, locale) =&gt;{\n        setInterval( () =&gt; this.setState({\n                 data: new Date().toLocaleString(\"en-US\", {timeZone: locale}),\n            }),\n           1000\n        );\n\n        moment.updateLocale('en', {\n            weekdays : [\n                \"Dom\", \"Seg\", \"Ter\", \"Qua\", \"Qui\", \"Sex\", \"Sab\"\n            ]\n        });\n\n        let data = new Date().toLocaleString(\"en-US\", {timeZone: locale});\n\n        let dataCompleta = moment(data);\n        let hora = dataCompleta.hour();\n        let minutos = dataCompleta.minutes();\n        let segundos = dataCompleta.seconds();\n        let diaExtenso = dataCompleta.format(\"dddd\");\n\n        if(hora &lt; 10){\n           hora = \"0\" + hora;\n        }\n\n        if(minutos &lt; 10){\n            minutos = \"0\" + minutos;\n        }\n\n        if(segundos &lt; 10){\n            segundos = \"0\" + segundos;\n        }\n\n        let classe = \"timezone-clock\"\n        if(hora &gt; 18 || hora &lt; 6 ){\n            classe = \"timezone-clock noite\";\n        }\n        let resultado = diaExtenso + \" \" +  hora + \":\" + minutos + \":\" + segundos;\n\n        let retorno = &lt;div&gt;\n                        &lt;Clock\n                            value={new Date(data)}\n                            renderNumbers={true}\n                            renderMinuteMarks={false}\n                            renderHourMarks={true}\n                            hourMarksWidth={0}\n                            hourHandWidth={2}\n                            minuteHandWidth={2}\n                            minuteHandLength={80}\n                            secondHandLength={80}\n                            className={classe}\n                        /&gt;\n                        &lt;article&gt;\n                                &lt;img src={require('../../Images/'+flag+\".png\")} alt=\"BR\"/&gt;&lt;strong&gt;{city}&lt;/strong&gt;\n\n                                &lt;br&gt;&lt;/br&gt;\n                                {resultado}\n                        &lt;/article&gt;\n                    &lt;/div&gt; \n        return retorno;\n    }\n</code></pre>\n\n<p>I expect the freezing to subside and the page run more faster and smoothly.</p>\n"}, {"tags": ["javascript", "php", "casting"], "comments": [{"owner": {"reputation": 4326, "user_id": 3281014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIpXo.jpg?s=128&g=1", "display_name": "Nawed Khan", "link": "https://stackoverflow.com/users/3281014/nawed-khan"}, "edited": false, "score": 1, "creation_date": 1562187236, "post_id": 56877632, "comment_id": 100304123, "body": "$t is &quot;&lt;script&gt;document.write(t)&lt;/script&gt;&quot; so how do you expect it to work? this cannot cast to int.... it is literally a long string of characters. Secondly, you cannot read from client-side and echo in server-side like this."}, {"owner": {"reputation": 11079, "user_id": 423316, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/258a1b2413690b20d938fe0cfeeac9c0?s=128&d=identicon&r=PG", "display_name": "zod", "link": "https://stackoverflow.com/users/423316/zod"}, "edited": false, "score": 0, "creation_date": 1562188002, "post_id": 56877632, "comment_id": 100304403, "body": "may be you can do this in php or javascript alone . What you exactly trying to achive?"}, {"owner": {"reputation": 1, "user_id": 10730990, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Cxox7kkhx20/AAAAAAAAAAI/AAAAAAAAAck/5FaUm4RlgUo/photo.jpg?sz=128", "display_name": "Kamurthy Naveen Shivaraj", "link": "https://stackoverflow.com/users/10730990/kamurthy-naveen-shivaraj"}, "edited": false, "score": 0, "creation_date": 1562245030, "post_id": 56877632, "comment_id": 100323885, "body": "Hello Nawed Khan, Thanks for your response. I did it in php alone already and I got what I want. But I wanted to know why the above code is not working.      Thanks for your response......."}], "owner": {"reputation": 1, "user_id": 10730990, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Cxox7kkhx20/AAAAAAAAAAI/AAAAAAAAAck/5FaUm4RlgUo/photo.jpg?sz=128", "display_name": "Kamurthy Naveen Shivaraj", "link": "https://stackoverflow.com/users/10730990/kamurthy-naveen-shivaraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "closed_date": 1562193911, "answer_count": 0, "score": 0, "last_activity_date": 1562186373, "creation_date": 1562186373, "question_id": 56877632, "link": "https://stackoverflow.com/questions/56877632/i-want-to-read-a-number-from-user-using-javascript-and-assign-it-to-php-variable", "closed_reason": "Duplicate", "title": "I want to read a number from user using javascript and assign it to php variable", "body": "<p>I am trying to read a number from user and assign it to php variable. As the JavaScript variable is in string format I have used casting in for loop to covert it to ineger. But it is not printing any output. Please explain me what wrong I did in my code.......</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;&lt;/title&gt;\n    &lt;script&gt;\n        var t=prompt(\"Number of Test Cases\");\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n&lt;?php\n$t=\"&lt;script&gt;document.write(t)&lt;/script&gt;\";\nfor($i=0;$i&lt;(int)$t;$i++){\n    echo $i;\n}\n?&gt;\n</code></pre>\n\n<p>I have tried without casting the variable. But the result is same.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;&lt;/title&gt;\n    &lt;script&gt;\n        var t=prompt(\"Number of Test Cases\");\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n&lt;?php\n$t=\"&lt;script&gt;document.write(t)&lt;/script&gt;\";\nfor($i=0;$i&lt;$t;$i++){\n    echo $i;\n}\n?&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular"], "comments": [{"owner": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "edited": false, "score": 2, "creation_date": 1562186626, "post_id": 56877627, "comment_id": 100303891, "body": "Your service function must be returning <code>undefined</code>. Can&#39;t say more without seeing that."}, {"owner": {"reputation": 725, "user_id": 6690593, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205060765258809/picture?type=large", "display_name": "Alexis Toby", "link": "https://stackoverflow.com/users/6690593/alexis-toby"}, "edited": false, "score": 0, "creation_date": 1562187458, "post_id": 56877627, "comment_id": 100304225, "body": "Have you checked the interface News has all these keys?"}], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 11736399, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-puIIaPz0-Oc/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXxKdSBdQI5HWqe0UbFxOeFdH0RQw/mo/photo.jpg?sz=128", "display_name": "heinrichpauli", "link": "https://stackoverflow.com/users/11736399/heinrichpauli"}, "edited": false, "score": 1, "creation_date": 1562220082, "post_id": 56878611, "comment_id": 100310847, "body": "Thanks a lot! It worked! Could you explain me why I have to check this?"}, {"owner": {"reputation": 570, "user_id": 1668280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/999ab9088e832cca32faec96f37b9998?s=128&d=identicon&r=PG", "display_name": "Vitaly", "link": "https://stackoverflow.com/users/1668280/vitaly"}, "reply_to_user": {"reputation": 79, "user_id": 11736399, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-puIIaPz0-Oc/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXxKdSBdQI5HWqe0UbFxOeFdH0RQw/mo/photo.jpg?sz=128", "display_name": "heinrichpauli", "link": "https://stackoverflow.com/users/11736399/heinrichpauli"}, "edited": false, "score": 1, "creation_date": 1562231431, "post_id": 56878611, "comment_id": 100316273, "body": "because your news arrive after component being rendered. It means when angular tries to render the view, <code>news</code> objects is still undefined. hence you get <code>undefined</code> exception. Also, google about async pipe. It&#39;s better to use that one instead of manual subscription"}, {"owner": {"reputation": 1747, "user_id": 11163977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e3a68a5b36f8dfba944423900d74a23?s=128&d=identicon&r=PG&f=1", "display_name": "Tanzeel", "link": "https://stackoverflow.com/users/11163977/tanzeel"}, "edited": false, "score": 0, "creation_date": 1577963576, "post_id": 56878611, "comment_id": 105292408, "body": "@Vitaly. I had a similar issue. I used your solution and it worked. But there are doubts in my head. 1) Will it pass unit test cases. 2) Is it among the best practices. My code reviewer may have objections on this."}, {"owner": {"reputation": 1747, "user_id": 11163977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e3a68a5b36f8dfba944423900d74a23?s=128&d=identicon&r=PG&f=1", "display_name": "Tanzeel", "link": "https://stackoverflow.com/users/11163977/tanzeel"}, "edited": false, "score": 0, "creation_date": 1577963652, "post_id": 56878611, "comment_id": 105292430, "body": "@Vitaly. My scrum master will definitely ask these cross questions. Please help."}], "tags": [], "owner": {"reputation": 570, "user_id": 1668280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/999ab9088e832cca32faec96f37b9998?s=128&d=identicon&r=PG", "display_name": "Vitaly", "link": "https://stackoverflow.com/users/1668280/vitaly"}, "is_accepted": true, "score": 1, "last_activity_date": 1562192568, "creation_date": 1562192568, "answer_id": 56878611, "question_id": 56877627, "link": "https://stackoverflow.com/questions/56877627/how-to-fix-error-typeerror-co-news-is-undefined/56878611#56878611", "title": "How to fix ERROR TypeError: &quot;_co.news is undefined&quot;?", "body": "<p>you can change your ngIf:</p>\n\n<pre><code>&lt;container *ngIf=\"!isMobileResolution &amp;&amp; news?.length &gt;= 3\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 11736399, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-puIIaPz0-Oc/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXxKdSBdQI5HWqe0UbFxOeFdH0RQw/mo/photo.jpg?sz=128", "display_name": "heinrichpauli", "link": "https://stackoverflow.com/users/11736399/heinrichpauli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 704, "favorite_count": 1, "accepted_answer_id": 56878611, "answer_count": 1, "score": 4, "last_activity_date": 1562192568, "creation_date": 1562186339, "last_edit_date": 1562186420, "question_id": 56877627, "link": "https://stackoverflow.com/questions/56877627/how-to-fix-error-typeerror-co-news-is-undefined", "title": "How to fix ERROR TypeError: &quot;_co.news is undefined&quot;?", "body": "<p>I'm trying to get some data from the backend to display it on the component.\nEverything works, but somehow I'm getting this error:  ERROR TypeError: \"_co.news is undefined\".\nDoes someone had a simular issue?</p>\n\n<pre><code>export class HomeComponent implements OnInit {\n\n  isMobileResolution: boolean;\n\n  news: News[] = [];\n\n  constructor(private newsService: NewsService) {\n  }\n\n  ngOnInit() {\n    this.readNews();\n  }\n\n  readNews(){\n    this.newsService.readNews().subscribe((news: News[])=&gt;{\n      this.news = news;\n    })\n  }\n\n}\n\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;container *ngIf=\"!isMobileResolution\"&gt;\n  &lt;news-card \n    [title]=\"news[0].title\"\n    [date]=\"news[0].date\"\n    [preview]=\"news[0].preview\"&gt;\n  &lt;/news-card&gt;\n  &lt;div id=\"news-area\"&gt;\n    &lt;news-card\n      id=\"left\"\n      [lessText]=\"true\"\n      [title]=\"news[1].title\"\n      [date]=\"news[1].date\"\n      [preview]=\"news[1].preview\"&gt;\n    &lt;/news-card&gt;\n    &lt;news-card\n      id=\"right\"\n      [lessText]=\"true\"\n      [title]=\"news[2].title\"\n      [date]=\"news[2].date\"\n      [preview]=\"news[2].preview\"&gt;\n    &lt;/news-card&gt;\n  &lt;/div&gt;\n&lt;/container&gt;\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "webpack", "webpack-4", "urlloader"], "comments": [{"owner": {"reputation": 563, "user_id": 4960039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/924642499cdefeac26149726b8a0ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Sharma", "link": "https://stackoverflow.com/users/4960039/shubham-sharma"}, "edited": false, "score": 0, "creation_date": 1562188591, "post_id": 56877616, "comment_id": 100304611, "body": "Change <code>url-loader</code> loader to <code>file-loader</code>"}, {"owner": {"reputation": 569, "user_id": 4779809, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/74baa69bbcd3c150eed8eaa48191f675?s=128&d=identicon&r=PG&f=1", "display_name": "craig-nerd", "link": "https://stackoverflow.com/users/4779809/craig-nerd"}, "reply_to_user": {"reputation": 563, "user_id": 4960039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/924642499cdefeac26149726b8a0ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Sharma", "link": "https://stackoverflow.com/users/4960039/shubham-sharma"}, "edited": false, "score": 0, "creation_date": 1562189252, "post_id": 56877616, "comment_id": 100304865, "body": "I want to use <code>url-loader</code> in specific to reduce the number of requests. However, I had tried using <code>file-loader</code> but getting the same problem."}, {"owner": {"reputation": 563, "user_id": 4960039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/924642499cdefeac26149726b8a0ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Sharma", "link": "https://stackoverflow.com/users/4960039/shubham-sharma"}, "edited": false, "score": 0, "creation_date": 1562189652, "post_id": 56877616, "comment_id": 100305004, "body": "what is the type of imagePath in config.js?"}, {"owner": {"reputation": 569, "user_id": 4779809, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/74baa69bbcd3c150eed8eaa48191f675?s=128&d=identicon&r=PG&f=1", "display_name": "craig-nerd", "link": "https://stackoverflow.com/users/4779809/craig-nerd"}, "reply_to_user": {"reputation": 563, "user_id": 4960039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/924642499cdefeac26149726b8a0ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Sharma", "link": "https://stackoverflow.com/users/4960039/shubham-sharma"}, "edited": false, "score": 0, "creation_date": 1562190116, "post_id": 56877616, "comment_id": 100305123, "body": "It&#39;s a string. I had made an error in the code, but it&#39;s fixed now."}, {"owner": {"reputation": 1048, "user_id": 5228328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yIjij.jpg?s=128&g=1", "display_name": "Sreeram Padmanabhan", "link": "https://stackoverflow.com/users/5228328/sreeram-padmanabhan"}, "edited": false, "score": 0, "creation_date": 1562192229, "post_id": 56877616, "comment_id": 100305659, "body": "@Jspake Do you mean the problem is fixed now?"}, {"owner": {"reputation": 569, "user_id": 4779809, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/74baa69bbcd3c150eed8eaa48191f675?s=128&d=identicon&r=PG&f=1", "display_name": "craig-nerd", "link": "https://stackoverflow.com/users/4779809/craig-nerd"}, "edited": false, "score": 0, "creation_date": 1562220066, "post_id": 56877616, "comment_id": 100310831, "body": "No, I meant the type of <code>imagePath</code> in <code>config.js</code> was wrong in the question only, but my actual code is correct. The problem still persists :("}], "answers": [{"comments": [{"owner": {"reputation": 569, "user_id": 4779809, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/74baa69bbcd3c150eed8eaa48191f675?s=128&d=identicon&r=PG&f=1", "display_name": "craig-nerd", "link": "https://stackoverflow.com/users/4779809/craig-nerd"}, "edited": false, "score": 0, "creation_date": 1562219978, "post_id": 56878593, "comment_id": 100310797, "body": "Thank you for your answer! For part (1) do I need to import that in <code>config.js</code>? Also, I did try using the approach of importing images. However, this isn&#39;t a neat solution for my case because I am generating the path dynamically in <code>config.js</code>. Something like, <code>export const imgPath=&quot;&#47;icon&quot;+{some variable}+&quot;.gif&quot;</code>, and there are many many images like these. Sorry, I should&#39;ve stated that in my question.   Is there any other way to solve this problem?"}, {"owner": {"reputation": 1048, "user_id": 5228328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yIjij.jpg?s=128&g=1", "display_name": "Sreeram Padmanabhan", "link": "https://stackoverflow.com/users/5228328/sreeram-padmanabhan"}, "reply_to_user": {"reputation": 569, "user_id": 4779809, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/74baa69bbcd3c150eed8eaa48191f675?s=128&d=identicon&r=PG&f=1", "display_name": "craig-nerd", "link": "https://stackoverflow.com/users/4779809/craig-nerd"}, "edited": false, "score": 0, "creation_date": 1562220296, "post_id": 56878593, "comment_id": 100310933, "body": "@Jspake Yes you will need to import them first. Do you know the names and paths of all the images you want to import?"}, {"owner": {"reputation": 569, "user_id": 4779809, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/74baa69bbcd3c150eed8eaa48191f675?s=128&d=identicon&r=PG&f=1", "display_name": "craig-nerd", "link": "https://stackoverflow.com/users/4779809/craig-nerd"}, "edited": false, "score": 0, "creation_date": 1562223826, "post_id": 56878593, "comment_id": 100312313, "body": "Yes, I do know the path names. But the images to be rendered keep changing depending on the data that I receive from the server. This is the problem."}, {"owner": {"reputation": 1048, "user_id": 5228328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yIjij.jpg?s=128&g=1", "display_name": "Sreeram Padmanabhan", "link": "https://stackoverflow.com/users/5228328/sreeram-padmanabhan"}, "reply_to_user": {"reputation": 569, "user_id": 4779809, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/74baa69bbcd3c150eed8eaa48191f675?s=128&d=identicon&r=PG&f=1", "display_name": "craig-nerd", "link": "https://stackoverflow.com/users/4779809/craig-nerd"}, "edited": false, "score": 0, "creation_date": 1562223943, "post_id": 56878593, "comment_id": 100312360, "body": "@Jspake Well, in that case, you have to make sure any image path you get from the server is already included as part of the build."}, {"owner": {"reputation": 569, "user_id": 4779809, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/74baa69bbcd3c150eed8eaa48191f675?s=128&d=identicon&r=PG&f=1", "display_name": "craig-nerd", "link": "https://stackoverflow.com/users/4779809/craig-nerd"}, "edited": false, "score": 0, "creation_date": 1562224087, "post_id": 56878593, "comment_id": 100312424, "body": "I mean, the server only gives me a variable needed to form the image path. I do not actually get the entire path from the server"}, {"owner": {"reputation": 1048, "user_id": 5228328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yIjij.jpg?s=128&g=1", "display_name": "Sreeram Padmanabhan", "link": "https://stackoverflow.com/users/5228328/sreeram-padmanabhan"}, "reply_to_user": {"reputation": 569, "user_id": 4779809, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/74baa69bbcd3c150eed8eaa48191f675?s=128&d=identicon&r=PG&f=1", "display_name": "craig-nerd", "link": "https://stackoverflow.com/users/4779809/craig-nerd"}, "edited": false, "score": 0, "creation_date": 1562242387, "post_id": 56878593, "comment_id": 100322344, "body": "@Jspake Can you give an example of a network response, and an image path please?"}, {"owner": {"reputation": 569, "user_id": 4779809, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/74baa69bbcd3c150eed8eaa48191f675?s=128&d=identicon&r=PG&f=1", "display_name": "craig-nerd", "link": "https://stackoverflow.com/users/4779809/craig-nerd"}, "edited": false, "score": 0, "creation_date": 1562264492, "post_id": 56878593, "comment_id": 100332112, "body": "So from the network response, I get a number between 1 and 9 in a variable, let&#39;s call this <code>serverResponse</code>. Then in config.js, I export the path as, <code>export const imgPath = &quot;&#47;src&#47;images&#47;icon&quot;+serverResponse+&quot;.gif&quot;</code>;"}, {"owner": {"reputation": 1048, "user_id": 5228328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yIjij.jpg?s=128&g=1", "display_name": "Sreeram Padmanabhan", "link": "https://stackoverflow.com/users/5228328/sreeram-padmanabhan"}, "reply_to_user": {"reputation": 569, "user_id": 4779809, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/74baa69bbcd3c150eed8eaa48191f675?s=128&d=identicon&r=PG&f=1", "display_name": "craig-nerd", "link": "https://stackoverflow.com/users/4779809/craig-nerd"}, "edited": false, "score": 0, "creation_date": 1562265032, "post_id": 56878593, "comment_id": 100332285, "body": "@Jspake Updated answer."}, {"owner": {"reputation": 569, "user_id": 4779809, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/74baa69bbcd3c150eed8eaa48191f675?s=128&d=identicon&r=PG&f=1", "display_name": "craig-nerd", "link": "https://stackoverflow.com/users/4779809/craig-nerd"}, "edited": false, "score": 0, "creation_date": 1562307166, "post_id": 56878593, "comment_id": 100340481, "body": "Thank you, @Sreeram. Quick question: where exactly should I import all the possible files (from part 1)?"}, {"owner": {"reputation": 1048, "user_id": 5228328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yIjij.jpg?s=128&g=1", "display_name": "Sreeram Padmanabhan", "link": "https://stackoverflow.com/users/5228328/sreeram-padmanabhan"}, "reply_to_user": {"reputation": 569, "user_id": 4779809, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/74baa69bbcd3c150eed8eaa48191f675?s=128&d=identicon&r=PG&f=1", "display_name": "craig-nerd", "link": "https://stackoverflow.com/users/4779809/craig-nerd"}, "edited": false, "score": 0, "creation_date": 1562310655, "post_id": 56878593, "comment_id": 100341814, "body": "@Jspake It will be good to import put it in a separate file and import this file into config.js."}, {"owner": {"reputation": 569, "user_id": 4779809, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/74baa69bbcd3c150eed8eaa48191f675?s=128&d=identicon&r=PG&f=1", "display_name": "craig-nerd", "link": "https://stackoverflow.com/users/4779809/craig-nerd"}, "reply_to_user": {"reputation": 1048, "user_id": 5228328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yIjij.jpg?s=128&g=1", "display_name": "Sreeram Padmanabhan", "link": "https://stackoverflow.com/users/5228328/sreeram-padmanabhan"}, "edited": false, "score": 0, "creation_date": 1562338769, "post_id": 56878593, "comment_id": 100355449, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/196052/discussion-between-jspake-and-sreeram\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 1048, "user_id": 5228328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yIjij.jpg?s=128&g=1", "display_name": "Sreeram Padmanabhan", "link": "https://stackoverflow.com/users/5228328/sreeram-padmanabhan"}, "is_accepted": true, "score": 0, "last_activity_date": 1562310721, "last_edit_date": 1562310721, "creation_date": 1562192449, "answer_id": 56878593, "question_id": 56877616, "link": "https://stackoverflow.com/questions/56877616/webpack-4-unable-to-load-images-with-absolute-path-in-src-using-url-loader/56878593#56878593", "title": "Webpack 4 - unable to load images with absolute path in src using url-loader", "body": "<p>You have to import the file first. But since your <code>publicPath</code> is set to '/', and your images are emitted into <code>dist</code>, the actual path to the image you need to use is <code>/icon.gif</code>.</p>\n\n<p>1) Import all the possible files (Be sure to use the correct path here)</p>\n\n<pre><code>// includes.js\n\nimport './src/images/icon1.gif';\nimport './src/images/icon2.gif';\nimport './src/images/icon3.gif';\n</code></pre>\n\n<p>2) Export the production file path function</p>\n\n<pre><code>//config.js\n\nimport './includes.js';\n\nexport const imgPathFunc = num =&gt; `/icon${num}.gif`;\n</code></pre>\n\n<p>3) Import it in Display.js</p>\n\n<pre><code>//Display.js\n\nimport { imgPath } from \"./config.js\";\n\n{serverResponse &amp;&amp; &lt;Frame imgSrc={imgPath(serverResponse)} /&gt;}\n</code></pre>\n"}], "owner": {"reputation": 569, "user_id": 4779809, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/74baa69bbcd3c150eed8eaa48191f675?s=128&d=identicon&r=PG&f=1", "display_name": "craig-nerd", "link": "https://stackoverflow.com/users/4779809/craig-nerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1154, "favorite_count": 0, "accepted_answer_id": 56878593, "answer_count": 1, "score": 1, "last_activity_date": 1562310721, "creation_date": 1562186285, "last_edit_date": 1562190089, "question_id": 56877616, "link": "https://stackoverflow.com/questions/56877616/webpack-4-unable-to-load-images-with-absolute-path-in-src-using-url-loader", "title": "Webpack 4 - unable to load images with absolute path in src using url-loader", "body": "<p>I have been been struggling with an issue with Webpack. I have tried searching everywhere online for a solution but did not manage to solve my problem.  </p>\n\n<p>I am building a React application with the following project structure:  </p>\n\n<pre><code>package.json\nwebpack.config.js\nsrc\n- images\n- components\n-- Display\n--- Display.js\n--- config.js\n- Frame\n-- Frame.js\nindex.js\nindex.html\n</code></pre>\n\n<p>Here is <code>webpack.config.js</code>:  </p>\n\n<pre><code>var path = require(\"path\");\nvar HtmlWebpackPlugin = require(\"html-webpack-plugin\");\n\nmodule.exports = {\n  entry: \"./src/index.js\",\n  output: {\n    path: path.resolve(__dirname, \"dist\"),\n    filename: \"index.js\",\n    publicPath: \"/\"\n  },\n  module: {\n    rules: [\n      { test: /\\.(js)$/, use: \"babel-loader\" },\n      {\n        test: /\\.(jpg|png|gif)$/,\n        use: {\n          loader: \"url-loader\",\n          options: {\n            name: \"[name].[ext]\"\n          }\n        }\n      },\n      { test: /\\.css$/, use: [\"style-loader\", \"css-loader\"] },\n      { test: /\\.json$/, loader: \"json-loader\" }\n    ]\n  },\n  mode: \"development\",\n  plugins: [\n    new HtmlWebpackPlugin({\n      template: \"src/index.html\"\n    })\n  ]\n};\n</code></pre>\n\n<p><code>config.js</code> provides a variable with the image path to <code>Display.js</code>, which then passes it to <code>Frame.js</code> as a prop. <code>Frame.js</code> renders the image with the provided path. </p>\n\n<pre><code>//config.js\nexport const imgPath = \"/src/images/icon.gif\";\n\n//Display.js\nimport {imgPath} from \"./config.js\";\n&lt;Frame imgSrc={imgPath} /&gt;\n\n//Frame.js\n&lt;img src={this.props.imgSrc} /&gt;\n</code></pre>\n\n<p>The problem I am facing is that the image <code>icon.gif</code> is not put in-line in the javascript bundle but instead the browser makes a request to fetch the file, which is not the expected behaviour. When I build the application in production mode, the image is not displayed at all.  </p>\n\n<p>Could someone please help me get this right? Basically, there are two problems I am facing:  </p>\n\n<ol>\n<li>The images are not made inline by the url-loader</li>\n<li>The images are not displayed at all in production build. </li>\n</ol>\n\n<p>Thank you!</p>\n"}, {"tags": ["javascript", "mocha.js", "setinterval", "sinon"], "answers": [{"tags": [], "owner": {"reputation": 179, "user_id": 11511781, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--K8Qxv0l4p0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re0L5C8g77Mg_DsqF5AHoNKMFbOVA/mo/photo.jpg?sz=128", "display_name": "Yury Stanev", "link": "https://stackoverflow.com/users/11511781/yury-stanev"}, "is_accepted": true, "score": 0, "last_activity_date": 1562261686, "creation_date": 1562261686, "answer_id": 56892347, "question_id": 56877533, "link": "https://stackoverflow.com/questions/56877533/test-a-callback-to-an-outside-function-with-in-setinterval-using-mochajs/56892347#56892347", "title": "test a callback to an outside function with in setInterval() using MochaJS", "body": "<p>Had to modify a few things. I've changed the spy call, increased the second <code>this.clock.tick()</code> to <code>2000</code> and had to give a custom <code>done</code> function in class instantiation.</p>\n\n<pre><code>  describe('Generic Setup', () =&gt; {\n    beforeEach(() =&gt; {\n      // Overwrite the global timer functions (setTimeout, setInterval) with Sinon fakes\n      this.clock = sinon.useFakeTimers();\n    });\n\n    afterEach(() =&gt; {\n      // Restore the global timer functions to their native implementations\n      this.clock.restore();\n    });\n\n    it('Job Should Timeout After Specified Duration', async () =&gt; {\n      const task = new TASK(taskData, () =&gt; {});\n\n      task.jobTimeout();\n\n      const destroyTaskSpy = sinon.spy(task, 'destroyTask');\n\n      this.clock.tick(4000);\n      expect(destroyTaskSpy).to.not.have.been.called;\n\n      this.clock.tick(2000);\n      expect(destroyTaskSpy).to.have.been.called;\n\n      // Remove the spy to prevent future errors\n      destroyTaskSpy.restore();\n    });\n  });\n</code></pre>\n"}], "owner": {"reputation": 179, "user_id": 11511781, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--K8Qxv0l4p0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re0L5C8g77Mg_DsqF5AHoNKMFbOVA/mo/photo.jpg?sz=128", "display_name": "Yury Stanev", "link": "https://stackoverflow.com/users/11511781/yury-stanev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 56892347, "answer_count": 1, "score": 0, "last_activity_date": 1562261686, "creation_date": 1562185757, "last_edit_date": 1562253394, "question_id": 56877533, "link": "https://stackoverflow.com/questions/56877533/test-a-callback-to-an-outside-function-with-in-setinterval-using-mochajs", "title": "test a callback to an outside function with in setInterval() using MochaJS", "body": "<p>I need to test the call to the <code>destroyTask()</code> with in the <code>setInterval()</code> The <code>setInterval()</code> compares two time stamps and them calls the <code>destroyTask()</code> when they current time is equal to the <code>finishTime</code></p>\n\n<pre><code> async jobTimeout() {\n    if (!this.timeout || !this.timeunits) return;\n    const startTime = moment();\n    const finishTime = moment().add(this.timeout, this.timeunits);\n    // console.log('Duration - ', this.timeout, ' ' ,this.timeunits);\n\n    console.log(`Start Time: ${startTime}`);\n    console.log(`Finish Time: ${finishTime}`);\n\n    this._timer = setInterval(() =&gt; {\n      console.log(moment());\n      if (moment().isAfter(finishTime)) {\n        console.log(\"The task didn't finish in time. \", this.destroyTask());\n        clearInterval(this._timer); // the clearInterval() method clears a timer set with the setInterval() method\n      }\n    }, 1000);\n  }\n</code></pre>\n\n<p>I'm using sinon to spy on two function and fake timers to overwrite <code>setInterval</code>. My test case is bellow:</p>\n\n<pre><code> describe('Generic Setup', () =&gt; {\n    beforeEach(() =&gt; {\n      // Overwrite the global timer functions (setTimeout, setInterval) with Sinon fakes\n      this.clock = sinon.useFakeTimers();\n    });\n\n    afterEach(() =&gt; {\n      // Restore the global timer functions to their native implementations\n      this.clock.restore();\n    });\n\n    it('Job Should Timeout After Specified Duration', async () =&gt; {\n      const task = new TASK(taskData, done);\n      const result = sinon.spy(await task.jobTimeout());\n      const destroyTask = sinon.spy(await task.destroyTask());\n\n      setInterval(result, 1000);\n\n      this.clock.tick(4000);\n      expect(destroyTask).to.not.have.been.called;\n\n      this.clock.tick(1000);\n      expect(destroyTask).to.have.been.called;\n    });\n  });\n</code></pre>\n\n<p>I receive the following error <code>TypeError: this.done is not a function</code>. I think it's caused by <code>destroyTask</code>, but it is a function. </p>\n\n<pre><code>async destroyTask() {\n    // TODO cleanup tmp directory - might want to collect stat on error\n    clearInterval(this._timer);\n    this.done();\n  }\n</code></pre>\n\n<p>What can be the cause? Is it possible to test callback to outside function with in another function?</p>\n"}, {"tags": ["javascript", "reactjs", "npm", "jestjs", "enzyme"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1562185680, "post_id": 56877493, "comment_id": 100303488, "body": "<code>displayUpc</code> isn&#39;t a property of the shallow wrapper (also shallow rendering isn&#39;t necessary here). For that matter, it&#39;s not a property of the <code>PullDown</code> component; it&#39;s a local variable in a function. Your component is pointless, so there isn&#39;t really a sensible test you <i>can</i> write for it. Note that the test failure you expected probably wasn&#39;t <code>is not a function</code>."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1562186325, "post_id": 56877493, "comment_id": 100303773, "body": "This is why it&#39;s important to &quot;call the shot&quot; (predict the outcome of the test) and compare the actual outcome to what you expected. You probably wanted to see &quot;Expected &lt;something&gt; to have been called, but it was not called.&quot;, rather than &quot;wrapperPulldown.displayUPC is not a function&quot;, although the fact that displayUpc isn&#39;t a mock makes that unlikely anyway."}, {"owner": {"reputation": 21, "user_id": 11736334, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2kUKWFQPTf4/AAAAAAAAAAI/AAAAAAAAAHY/M0f6hFKji3s/photo.jpg?sz=128", "display_name": "Devon Sangha", "link": "https://stackoverflow.com/users/11736334/devon-sangha"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1562187295, "post_id": 56877493, "comment_id": 100304148, "body": "You&#39;re right! I&#39;m pretty new to all of this, and I&#39;m not sure I understand the point of a shallow render if it isn&#39;t to test the functionality of a component? Could you give me some insight on how to properly test the functionality of the button in the component?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1562187397, "post_id": 56877493, "comment_id": 100304192, "body": "You can&#39;t test its functionality, because it doesn&#39;t have any. Once it&#39;s either updating the DOM or interacting with collaborators you can test for that, but at the moment it doesn&#39;t <i>do</i> anything."}, {"owner": {"reputation": 21, "user_id": 11736334, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2kUKWFQPTf4/AAAAAAAAAAI/AAAAAAAAAHY/M0f6hFKji3s/photo.jpg?sz=128", "display_name": "Devon Sangha", "link": "https://stackoverflow.com/users/11736334/devon-sangha"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1562187900, "post_id": 56877493, "comment_id": 100304369, "body": "I&#39;m not sure I understand, I thought the point of test driven development was to never write code until you&#39;ve written a failing test for that codes functionality? So in this instance, how would I write a failing test for this button so I can continue on to writing the actually functionality into it?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1562188022, "post_id": 56877493, "comment_id": 100304413, "body": "Well what functionality do you want to implement? You haven&#39;t actually mentioned that. What will the callback <b>do</b>? You don&#39;t want to test that the callback gets called, because that&#39;s an internal implementation detail (and can&#39;t, because it&#39;s inaccessible outside the function), so what&#39;s the <i>behaviour</i>?"}, {"owner": {"reputation": 21, "user_id": 11736334, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2kUKWFQPTf4/AAAAAAAAAAI/AAAAAAAAAHY/M0f6hFKji3s/photo.jpg?sz=128", "display_name": "Devon Sangha", "link": "https://stackoverflow.com/users/11736334/devon-sangha"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1562188414, "post_id": 56877493, "comment_id": 100304530, "body": "OH GEEZE I&#39;m daft. I&#39;d like the component to render a new div overtop of the main screen that contains an image(kind of like a pulldown in a touchscreen display, but on a onClick as opposed to using swipes). Or perhaps even use css to transition the div down the page. Does that clear things up?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1562188496, "post_id": 56877493, "comment_id": 100304570, "body": "So when you click on it some additional elements get rendered? Then <i>test for those</i> - make sure they don&#39;t exist (or are hidden, or have some class that alters their display) prior to the click, and that they&#39;re added (or revealed, or have their class list changed) after it."}, {"owner": {"reputation": 21, "user_id": 11736334, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2kUKWFQPTf4/AAAAAAAAAAI/AAAAAAAAAHY/M0f6hFKji3s/photo.jpg?sz=128", "display_name": "Devon Sangha", "link": "https://stackoverflow.com/users/11736334/devon-sangha"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1562188593, "post_id": 56877493, "comment_id": 100304612, "body": "So helpful! Thanks man, sorry for being empty headed, that makes way more sense that just testing for some click event."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1562188703, "post_id": 56877493, "comment_id": 100304661, "body": "That&#39;s OK. This is what we mean by <b>test behaviour, not implementation</b> - test what the component does (causes some extra elements to get displayed somehow), not how it does it (internal details of click handlers). This frees you up to refactor the how while retaining confidence that the what is unchanged; otherwise, you end up with tests so coupled to your implementation that you have to edit them when you refactor, then you have to recheck that what you&#39;re testing is what you actually want all over again."}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 11736083, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pm7BeY0tgT0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reRCbI6pHiF7nAFRrGI-Kbav60rEQ/photo.jpg?sz=128", "display_name": "Hizzle", "link": "https://stackoverflow.com/users/11736083/hizzle"}, "is_accepted": false, "score": 1, "last_activity_date": 1562187964, "creation_date": 1562187964, "answer_id": 56877918, "question_id": 56877493, "link": "https://stackoverflow.com/questions/56877493/how-to-test-lambda-functions-in-a-functional-react-component-using-jest-enzyme/56877918#56877918", "title": "How to test lambda functions in a functional React Component using Jest/Enzyme?", "body": "<p>As stated above, the reason is that the function doesn't exist on <code>ReactWrapper</code> as this is just an instance around the rendered output. Also, you can't check the function call like you would do in a regular class based component either as it isn't a property on a class e.g. <code>Pulldown.displayUPC</code>.</p>\n\n<p>However, there are a couple of different ways you can test similar functionality:</p>\n\n<p>If possible, make the component have no hidden dependencies and pass down function references through props. This isn't always possible if all your components are functional, however.</p>\n\n<pre><code>// PullDown.js\nfunction PullDown({displayUPC}) {\n  return &lt;button onClick={displayUPC} /&gt;;\n}\nexport default PullDown;\n\n// PullDown.spec.js\ndescribe(\"Pulldown tab\", () =&gt; {\n  let wrapperPulldown;\n  let displayUPC;\n\n  beforeEach(() =&gt; {\n    displayUPC = jest.fn();\n  });\n\n  // ... some tests\n\n  it(\"should be clickable\", () =&gt; {\n    wrapperPulldown = shallow(&lt;PullDown displayUPC={displayUPC} /&gt;);\n    wrapperPulldown.find(\"button\").simulate(\"click\");\n    expect(displayUPC).toBeCalled();\n  });\n});\n</code></pre>\n\n<p>Another way to achieve this if you don't have the luxury to pass down the function reference through props is to define the function outside of the component. </p>\n\n<pre><code>// PullDown.js\nexport const displayUPC = () =&gt; {};\nfunction PullDown() {\n  return &lt;button onClick={displayUPC} /&gt;;\n}\nexport default PullDown;\n\n// PullDown.spec.js\nimport * as pullDownModule from './PullDown.js';\ndescribe(\"Pulldown tab\", () =&gt; {\n  let wrapperPulldown;\n\n  beforeEach(() =&gt; {\n    jest.spyOn(pullDownModule, 'displayUPC');\n    wrapperPulldown = shallow(&lt;PullDown /&gt;);\n  });\n\n  // ... some tests\n\n  it(\"should be clickable\", () =&gt; {\n    wrapperPulldown.find(\"button\").simulate(\"click\");\n    expect(pullDownModule.displayUPC).toBeCalled();\n  });\n});\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 11736334, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2kUKWFQPTf4/AAAAAAAAAAI/AAAAAAAAAHY/M0f6hFKji3s/photo.jpg?sz=128", "display_name": "Devon Sangha", "link": "https://stackoverflow.com/users/11736334/devon-sangha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 988, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1562242559, "creation_date": 1562185577, "last_edit_date": 1562242559, "question_id": 56877493, "link": "https://stackoverflow.com/questions/56877493/how-to-test-lambda-functions-in-a-functional-react-component-using-jest-enzyme", "title": "How to test lambda functions in a functional React Component using Jest/Enzyme?", "body": "<p>I am attempting to create a pulldown tab, however I haven't gotten anywhere close to adding any functionality because I'm attempting to do this TDD style and I've been incapable of even testing if the function inside of the component triggers on the click event of the button. The jest logs tell me that the object I'm attempting to reference is not a function.</p>\n\n<p>I've attempted to create an instance of the component I'm testing and provide that as an argument to \"expect\" function using the \"toBeCalled\" function as a matcher this did not work. </p>\n\n<p>The component itself: </p>\n\n<pre><code>import React from \"react\";\nimport headerImg from \"./headerImg.png\";\n\nfunction PullDown() {\n  const displayUPC = () =&gt; {};\n\n  return &lt;button onClick={displayUPC} /&gt;;\n}\nexport default PullDown;\n</code></pre>\n\n<p>The tests for the Component:</p>\n\n<pre><code>import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { shallow, mount, configure, instance } from \"enzyme\";\nimport Adapter from \"enzyme-adapter-react-16\";\nimport PullDown from \"./PullDown\";\nimport enzyme from \"enzyme\";\n\nconfigure({ adapter: new Adapter() });\n\ndescribe(\"Pulldown tab\", () =&gt; {\n  let wrapperPulldown;\n  beforeEach(() =&gt; {\n    wrapperPulldown = shallow(&lt;PullDown /&gt;);\n  });\n\n  it(\"should render\", () =&gt; {\n    expect(wrapperPulldown.find(\"button\")).toHaveLength(1);\n  });\n\n  it(\"should be clickable\", () =&gt; {\n    wrapperPulldown.find(\"button\").simulate(\"click\");\n    expect(wrapperPulldown.displayUPC()).toBeCalled();\n  });\n});\n</code></pre>\n\n<p>I expect the test to fail, and it does, however when I go and add the function to the component and add the onClick with the function attached to the button, the test still fails.Which makes me feel like I haven't done the test correctly.</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 422, "user_id": 5083456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-3aCVskJgx7Y/AAAAAAAAAAI/AAAAAAAACkE/ujlUOTqCCwo/photo.jpg?sz=128", "display_name": "IMustBeSomeone", "link": "https://stackoverflow.com/users/5083456/imustbesomeone"}, "edited": false, "score": 0, "creation_date": 1562185777, "post_id": 56877425, "comment_id": 100303529, "body": "<code>window.onfocus</code>?"}, {"owner": {"reputation": 16607, "user_id": 829835, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/TteD0.jpg?s=128&g=1", "display_name": "rlemon", "link": "https://stackoverflow.com/users/829835/rlemon"}, "edited": false, "score": 0, "creation_date": 1562185795, "post_id": 56877425, "comment_id": 100303542, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/7389328/detect-if-browser-tab-has-focus\">Detect If Browser Tab Has Focus</a>"}, {"owner": {"reputation": 13181, "user_id": 17300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6913044c5e536029098ce2d5c9b841e?s=128&d=identicon&r=PG", "display_name": "Stephen P", "link": "https://stackoverflow.com/users/17300/stephen-p"}, "edited": false, "score": 1, "creation_date": 1562186361, "post_id": 56877425, "comment_id": 100303793, "body": "You can probably set the <a href=\"https://developer.mozilla.org/docs/Web/HTTP/Headers/Cache-Control\" rel=\"nofollow noreferrer\">Cache-Control</a> and/or <a href=\"https://developer.mozilla.org/docs/Web/HTTP/Headers/Expires\" rel=\"nofollow noreferrer\">Expires</a> headers to control this."}], "answers": [{"comments": [{"owner": {"reputation": 13181, "user_id": 17300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6913044c5e536029098ce2d5c9b841e?s=128&d=identicon&r=PG", "display_name": "Stephen P", "link": "https://stackoverflow.com/users/17300/stephen-p"}, "edited": false, "score": 5, "creation_date": 1562186396, "post_id": 56877614, "comment_id": 100303806, "body": "This would just loop, reloading forever."}], "tags": [], "owner": {"reputation": 42, "user_id": 753862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8fOft.jpg?s=128&g=1", "display_name": "Amir akbari", "link": "https://stackoverflow.com/users/753862/amir-akbari"}, "is_accepted": false, "score": -2, "last_activity_date": 1562186279, "creation_date": 1562186279, "answer_id": 56877614, "question_id": 56877425, "link": "https://stackoverflow.com/questions/56877425/refresh-page-on-every-visit/56877614#56877614", "title": "Refresh Page on Every Visit", "body": "<pre><code>$( document ).ready(function() {\n    window.location.reload();\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 433, "user_id": 7615694, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DLU1TO6d0W4/AAAAAAAAAAI/AAAAAAAAGfU/SyXJOTjSf8I/photo.jpg?sz=128", "display_name": "Jamal Abo", "link": "https://stackoverflow.com/users/7615694/jamal-abo"}, "is_accepted": false, "score": 0, "last_activity_date": 1562188583, "creation_date": 1562188583, "answer_id": 56878038, "question_id": 56877425, "link": "https://stackoverflow.com/questions/56877425/refresh-page-on-every-visit/56878038#56878038", "title": "Refresh Page on Every Visit", "body": "<pre><code>if(!window.location.hash.includes(\"#reloaded\")) {\n    window.location.href += \"#reloaded\";\n    window.location.reload()\n}\n</code></pre>\n\n<p>This will check if there is <code>#reloaded</code> in the URL and if not reload the page then add the <code>#reloaded</code></p>\n\n<h3>Example</h3>\n\n<p>User hits <a href=\"http://example.com/link\" rel=\"nofollow noreferrer\">http://example.com/link</a> then the script checks if it has #reloaded in the URL and if not adds so it be <a href=\"http://example.com/link#reloaded\" rel=\"nofollow noreferrer\">http://example.com/link#reloaded</a>.</p>\n"}], "owner": {"reputation": 141, "user_id": 11052235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfb474d01a42efc6d21e6f6d9f74c326?s=128&d=identicon&r=PG&f=1", "display_name": "MCM", "link": "https://stackoverflow.com/users/11052235/mcm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 0, "answer_count": 2, "score": -5, "last_activity_date": 1562188583, "creation_date": 1562185257, "question_id": 56877425, "link": "https://stackoverflow.com/questions/56877425/refresh-page-on-every-visit", "title": "Refresh Page on Every Visit", "body": "<p>I want to be able to refresh the page every time someone opens it.</p>\n\n<p>I need this because I have a web app (PWA) and iOS caches the state and it doesn't communicate with the browser unless you delete data and cookies from your phone, which of course you cannot tell the user to do that.</p>\n\n<p>I want to be able to refresh every time the page is opened. Is there a way to accomplish this? </p>\n\n<p>I tried just putting <code>window.location.reload(true)</code> but this would only cause the page to load on a loop without being able to see the content once.</p>\n"}, {"tags": ["javascript", "javascript-objects"], "comments": [{"owner": {"reputation": 2491, "user_id": 10967889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/83qip.jpg?s=128&g=1", "display_name": "weegee", "link": "https://stackoverflow.com/users/10967889/weegee"}, "edited": false, "score": 1, "creation_date": 1562185470, "post_id": 56877424, "comment_id": 100303416, "body": "<code>myObj.second[16]</code>"}], "answers": [{"tags": [], "owner": {"reputation": 11435, "user_id": 6328256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PyZe2.png?s=128&g=1", "display_name": "Sash Sinha", "link": "https://stackoverflow.com/users/6328256/sash-sinha"}, "is_accepted": true, "score": 1, "last_activity_date": 1562185536, "creation_date": 1562185536, "answer_id": 56877487, "question_id": 56877424, "link": "https://stackoverflow.com/questions/56877424/get-numerical-property-inside-text-property/56877487#56877487", "title": "Get numerical property inside text property", "body": "<p>Use <code>[</code> and <code>]</code> around <code>16</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var myObj = {\r\n    first: \"str\",\r\n    second:{\r\n    16: {option_one: \"...\", option_two: \"...\"},\r\n    31: {option_one: \"...\", option_two: \"...\"},\r\n    }\r\n};\r\n\r\nconsole.log(myObj.second[16])</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 460, "user_id": 5412773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0e1b255c6f50d03f4837af56e9458db?s=128&d=identicon&r=PG&f=1", "display_name": "Rimarx", "link": "https://stackoverflow.com/users/5412773/rimarx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "closed_date": 1562185451, "accepted_answer_id": 56877487, "answer_count": 1, "score": -1, "last_activity_date": 1562233919, "creation_date": 1562185256, "last_edit_date": 1562233919, "question_id": 56877424, "link": "https://stackoverflow.com/questions/56877424/get-numerical-property-inside-text-property", "closed_reason": "Duplicate", "title": "Get numerical property inside text property", "body": "<p>I have this:</p>\n\n<pre><code>var myObj = {\n    first: \"str\",\n    second:{\n    16: {option_one: \"...\", option_two: \"...\"},\n    31: {option_one: \"...\", option_two: \"...\"},\n    }\n};\n</code></pre>\n\n<p>I can't change that code. But i need to get <code>16: {...}</code>. JS doesn't allow to do <code>myObj.second.16</code>. Can i do it with numeric name?</p>\n"}, {"tags": ["javascript", "user-interface", "extjs", "extjs6-classic"], "comments": [{"owner": {"reputation": 219, "user_id": 5946217, "user_type": "registered", "profile_image": "https://graph.facebook.com/1023944587677154/picture?type=large", "display_name": "ground_call", "link": "https://stackoverflow.com/users/5946217/ground-call"}, "edited": false, "score": 0, "creation_date": 1562231746, "post_id": 56877382, "comment_id": 100316452, "body": "When closing the editor, do you need your action to be reverted? e.g. All Zs to become As again"}], "answers": [{"comments": [{"owner": {"reputation": 746, "user_id": 5160940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4w35p.jpg?s=128&g=1", "display_name": "DockYard", "link": "https://stackoverflow.com/users/5160940/dockyard"}, "edited": false, "score": 0, "creation_date": 1562234381, "post_id": 56878213, "comment_id": 100318086, "body": "That works very well. But could you also please tell me how to do the inverse. i.e what ever user puts on the editor, I want a different value to be reflected on the grid column value. Your help would be very much appriciated"}, {"owner": {"reputation": 746, "user_id": 5160940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4w35p.jpg?s=128&g=1", "display_name": "DockYard", "link": "https://stackoverflow.com/users/5160940/dockyard"}, "edited": false, "score": 0, "creation_date": 1562235135, "post_id": 56878213, "comment_id": 100318509, "body": "And also your solution will be applied to all columns of the grid. What if I want this listener applied to only some of many of the grid columns"}], "tags": [], "owner": {"reputation": 2237, "user_id": 4340950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ku6SK.png?s=128&g=1", "display_name": "norbeq", "link": "https://stackoverflow.com/users/4340950/norbeq"}, "is_accepted": true, "score": 1, "last_activity_date": 1562275854, "last_edit_date": 1562275854, "creation_date": 1562189684, "answer_id": 56878213, "question_id": 56877382, "link": "https://stackoverflow.com/questions/56877382/how-to-render-the-text-in-the-editor-of-column-of-grid-panel-differentlyextjs6/56878213#56878213", "title": "How to render the text in the editor of column of grid panel differently(ExtJs6.0.2)", "body": "<p>You can do it by setting value in <code>beforeEdit</code> event in cell editing plugin.</p>\n\n<pre><code>cellediting: {\n     listeners: {\n          beforeEdit: function (editor, context) {\n               context.value = context.value.replace(\"A\", \"Z\");\n          }\n     }\n}\n</code></pre>\n\n<p>To determine which column should be replaced just add check:</p>\n\n<pre><code>if(context.column.dataIndex == 'name'){\n    context.value = context.value.replace(\"A\", \"Z\");\n}\n</code></pre>\n\n<p>To reverse replace try :</p>\n\n<pre><code>validateEdit: function (editor, context){\n    context.record.set('name', context.value.replace(\"Z\", \"A\"));\n    context.record.commit();\n}\n</code></pre>\n\n<p>Example on fiddle: <a href=\"https://fiddle.sencha.com/#view/editor&amp;fiddle/2thq\" rel=\"nofollow noreferrer\">https://fiddle.sencha.com/#view/editor&amp;fiddle/2thq</a>.</p>\n"}], "owner": {"reputation": 746, "user_id": 5160940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4w35p.jpg?s=128&g=1", "display_name": "DockYard", "link": "https://stackoverflow.com/users/5160940/dockyard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 56878213, "answer_count": 1, "score": 1, "last_activity_date": 1562275854, "creation_date": 1562185046, "last_edit_date": 1592644375, "question_id": 56877382, "link": "https://stackoverflow.com/questions/56877382/how-to-render-the-text-in-the-editor-of-column-of-grid-panel-differentlyextjs6", "title": "How to render the text in the editor of column of grid panel differently(ExtJs6.0.2)", "body": "<p>I have grid with a column that has an editor configured as text field.</p>\n<pre><code>var grid = Ext.create('Ext.grid.Panel', {\n            title: 'Simpsons',\n            itemId: 'gridPanel123',\n            store: store,\n            plugins: {\n                ptype: 'cellediting',\n                clicksToEdit: 1\n            },\n            columns: [{\n                text: 'Name',\n                dataIndex: 'name',\n                editor: {\n                    xtype: 'textfield'\n                }\n            }]\n});\n</code></pre>\n<p>Say the column looks something like this,</p>\n<p><a href=\"https://i.stack.imgur.com/pAguk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pAguk.png\" alt=\"enter image description here\" /></a></p>\n<p>Clearly the value of the column is ABCDE.\nNow when the user clicks on the column, the editor mode pops up something like this :</p>\n<p><a href=\"https://i.stack.imgur.com/HJ9X9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HJ9X9.png\" alt=\"enter image description here\" /></a></p>\n<p>Now my question is, is there any kind of renderer that would change the content of the editor based on the value of the column.</p>\n<p>Considering my example, column value is &quot;ABCDE&quot;, so the editor value is also coming as &quot;ABCDE&quot;.</p>\n<p>But what if I want to replace all 'A' in the column with 'Z' in the editor .So the editor value for me should have been 'ZBCDE'. How is this possible in extjs?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1562185235, "post_id": 56877344, "comment_id": 100303315, "body": "<code>var div = document.getElementsByClassName(&quot;add&quot;)[0]; div.classList.remove(&quot;add&quot;); div.classList.add(&quot;result&quot;); div.style.color = &quot;orange&quot;;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 543, "user_id": 5513243, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/miw7O.jpg?s=128&g=1", "display_name": "lookininward", "link": "https://stackoverflow.com/users/5513243/lookininward"}, "is_accepted": false, "score": 0, "last_activity_date": 1562185425, "creation_date": 1562185425, "answer_id": 56877460, "question_id": 56877344, "link": "https://stackoverflow.com/questions/56877344/change-a-div-css-class-name-of-add-to-result-and-give-it-orange-color-on-click/56877460#56877460", "title": "change a div css class name of add to result and give it orange color on click", "body": "<p>Following your logic:</p>\n\n<pre><code>function changeClass(){\n\n  // get the element\n  var name = document.getElementsByClassName(\"add\")[0];\n\n  // overwrite the element's existing classname\n  name.className = \"result\";\n\n  // set the element's style attribute with the desired attributes\n  name.style.color = \"orange\";\n}\n</code></pre>\n\n<p>It would be better not to set the style attribute directly with JS. You are changing the class from <code>.add</code> to <code>.result</code>, so it makes more sense to use the class to set the styles:</p>\n\n<pre><code>.result {\n  color: orange;\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11477407, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VkcZonmXmM0/AAAAAAAAAAI/AAAAAAAAABI/nUYS-bDoOls/photo.jpg?sz=128", "display_name": "pacifique irakoze", "link": "https://stackoverflow.com/users/11477407/pacifique-irakoze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1562185425, "creation_date": 1562184918, "last_edit_date": 1562185155, "question_id": 56877344, "link": "https://stackoverflow.com/questions/56877344/change-a-div-css-class-name-of-add-to-result-and-give-it-orange-color-on-click", "title": "change a div css class name of add to result and give it orange color on click", "body": "<p>change a div css class name of add to result and give it orange color on click</p>\n\n<pre><code>function changeclass(){\n  var name = document.getElementByClassName(\"add\").name.className = \"result\",name.color = \"orange\"\n</code></pre>\n"}, {"tags": ["javascript", "c#", "html", "asp.net", "razor"], "answers": [{"tags": [], "owner": {"reputation": 120, "user_id": 8857642, "user_type": "registered", "profile_image": "https://graph.facebook.com/1792961957400574/picture?type=large", "display_name": "Jonas Petra\u0161ka", "link": "https://stackoverflow.com/users/8857642/jonas-petra%c5%a1ka"}, "is_accepted": true, "score": 1, "last_activity_date": 1562500330, "last_edit_date": 1562500330, "creation_date": 1562186875, "answer_id": 56877726, "question_id": 56877339, "link": "https://stackoverflow.com/questions/56877339/pass-data-from-javascript-function-as-an-object-parameter-to-html-action-c/56877726#56877726", "title": "Pass data from JavaScript function as an object parameter to @Html.Action() C#", "body": "<p>This is not possible the way you're doing it, because razor views are compiled on server side, while javascript is client side. Therefore, the views are already compiled, while javascript runs during runtime. One way to do it is to use ajax to pass variables from javascript to an action in the controller as query parameters or body values. You could achieve that by creating a button or link:</p>\n\n<p><code>&lt;a href='#' id='clickMe'&gt;Click me&lt;/a&gt;</code></p>\n\n<p>And hooking up jQuery to do the job:</p>\n\n<pre><code>&lt;script&gt;\n$(document).ready(function(){\n\n   $('#clickMe').click(function(){\n\n      $.ajax({\n         type: \"POST\",\n         url: '@Url.Action(\"Action\", \"Controller\")',\n         data: {\n            passedData: GetDropDownData()\n         },\n         success: function(response){\n             $('#placeholderForPartialView').html(response);\n         }\n      });\n   });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>It would look something like this depending on your method (GET or POST) type.\nHere I assume that you return Partial view as a result and replace the contents of <code>#placeholderForPartialView</code> div with the returned view. Please correct me if I'm wrong. </p>\n"}], "owner": {"reputation": 917, "user_id": 10290408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38e1feed163c02636f1eea4c5d67bbc7?s=128&d=identicon&r=PG&f=1", "display_name": "Selthien", "link": "https://stackoverflow.com/users/10290408/selthien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 548, "favorite_count": 0, "accepted_answer_id": 56877726, "answer_count": 1, "score": 0, "last_activity_date": 1562500330, "creation_date": 1562184891, "question_id": 56877339, "link": "https://stackoverflow.com/questions/56877339/pass-data-from-javascript-function-as-an-object-parameter-to-html-action-c", "title": "Pass data from JavaScript function as an object parameter to @Html.Action() C#", "body": "<p>Here is what I am trying to do. I want to be able to call an html action and pass in some data as an object parameter. The only thing is this data needs to be returned from a javascript function.</p>\n\n<p>Here is what I am trying to do:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@Html.Action(\"someAction\", \"someController\", new { passedData = GetDropDownData() })\r\n\r\n&lt;script&gt;\r\n    function GetDropDownData() {\r\n        var data = \"test\";\r\n        return data;\r\n    }\r\n&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Basically I am trying to pass some drop down data from a control to a partial view being rendered with the @Html.Action(). I want to be able to pass this string to the partial view somehow so I figured I could use JS to pull the drop down data and return it as an object parameter when rendering the page?</p>\n\n<p>Let me know if you have any suggestions or a better way to go about this.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["javascript", "git", "visual-studio-code"], "comments": [{"owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 0, "creation_date": 1562190466, "post_id": 56877324, "comment_id": 100305227, "body": "<a href=\"https://stackoverflow.com/search?q=%5Bjavascript%5D+execute+command\">stackoverflow.com/search?q=%5Bjavascript%5D+execute+command</a>"}], "answers": [{"tags": [], "owner": {"reputation": 605, "user_id": 736221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0639c670fd8e17cd7823be225de7750b?s=128&d=identicon&r=PG", "display_name": "grahamlyons", "link": "https://stackoverflow.com/users/736221/grahamlyons"}, "is_accepted": false, "score": 1, "last_activity_date": 1562186646, "creation_date": 1562186646, "answer_id": 56877680, "question_id": 56877324, "link": "https://stackoverflow.com/questions/56877324/store-list-of-git-branches-in-variable/56877680#56877680", "title": "Store list of git branches in variable", "body": "<p>I think the <code>child_process</code> module in Node core is what you want:</p>\n\n<pre><code>const cp = require('child_process')\n\nconst branches = cp.execSync('git branch -l')\n</code></pre>\n\n<p><a href=\"https://nodejs.org/api/child_process.html\" rel=\"nofollow noreferrer\">https://nodejs.org/api/child_process.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 14057, "user_id": 1057485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e261055e2ed9f0176e1cecf7e38533c5?s=128&d=identicon&r=PG", "display_name": "RomainValeri", "link": "https://stackoverflow.com/users/1057485/romainvaleri"}, "reply_to_user": {"reputation": 85, "user_id": 11736336, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-P6-u3TZnZpQ/AAAAAAAAAAI/AAAAAAAAAA0/NkDu_nYtrlk/photo.jpg?sz=128", "display_name": "Philippe Vincent", "link": "https://stackoverflow.com/users/11736336/philippe-vincent"}, "edited": false, "score": 0, "creation_date": 1562249635, "post_id": 56878919, "comment_id": 100326434, "body": "Although it is frowned upon as improductive type of comment, I have to say your explicit thankfulness at least sounds genuine and is heartwarming ;-) <i>De rien...</i>"}, {"owner": {"reputation": 85, "user_id": 11736336, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-P6-u3TZnZpQ/AAAAAAAAAAI/AAAAAAAAAA0/NkDu_nYtrlk/photo.jpg?sz=128", "display_name": "Philippe Vincent", "link": "https://stackoverflow.com/users/11736336/philippe-vincent"}, "edited": false, "score": 0, "creation_date": 1562253014, "post_id": 56878919, "comment_id": 100328152, "body": "It may be an improductive type of comment but I truly wish you everything you want in this beautiful life and I am grateful for your help"}], "tags": [], "owner": {"reputation": 14057, "user_id": 1057485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e261055e2ed9f0176e1cecf7e38533c5?s=128&d=identicon&r=PG", "display_name": "RomainValeri", "link": "https://stackoverflow.com/users/1057485/romainvaleri"}, "is_accepted": false, "score": 0, "last_activity_date": 1562195312, "creation_date": 1562195312, "answer_id": 56878919, "question_id": 56877324, "link": "https://stackoverflow.com/questions/56877324/store-list-of-git-branches-in-variable/56878919#56878919", "title": "Store list of git branches in variable", "body": "<p>To adress only the git part of the question, even if it might not be the main focus, the <code>-l</code> flag is useless here, since it is implied as long as no explicit references are passed.</p>\n\n<p>However, depending on the level of exhaustivity you need, you might consider using <code>-a</code> to list <em>all</em> branches, not only local ones.</p>\n"}], "owner": {"reputation": 85, "user_id": 11736336, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-P6-u3TZnZpQ/AAAAAAAAAAI/AAAAAAAAAA0/NkDu_nYtrlk/photo.jpg?sz=128", "display_name": "Philippe Vincent", "link": "https://stackoverflow.com/users/11736336/philippe-vincent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1562195312, "creation_date": 1562184824, "last_edit_date": 1562189425, "question_id": 56877324, "link": "https://stackoverflow.com/questions/56877324/store-list-of-git-branches-in-variable", "title": "Store list of git branches in variable", "body": "<p>I am trying to put all my branches in a list using <code>git branch</code>. I was thinking like</p>\n\n<pre><code>    const branches = executecommand('git branch -l')\n</code></pre>\n\n<p>but I don't know the right way to do it.</p>\n"}, {"tags": ["javascript", "php", "html", "discord", "discord.js"], "comments": [{"owner": {"reputation": 5000, "user_id": 11321804, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VOIwjh_teGk/AAAAAAAAAAI/AAAAAAAAIjY/X51qzoN8QLM/photo.jpg?sz=128", "display_name": "slothiful", "link": "https://stackoverflow.com/users/11321804/slothiful"}, "edited": false, "score": 3, "creation_date": 1562209215, "post_id": 56877299, "comment_id": 100308495, "body": "Check out <a href=\"https://anidiots.guide/discord-webhooks/discord-webhooks-part-1\" rel=\"nofollow noreferrer\">Webhooks</a> in Discord. If you&#39;re looking for communication directly with the <i>client</i> and a Webhook wouldn&#39;t work, you should do some research on WebSockets."}], "answers": [{"tags": [], "owner": {"reputation": 42, "user_id": 10885911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YCByn.jpg?s=128&g=1", "display_name": "Nomissimon10", "link": "https://stackoverflow.com/users/10885911/nomissimon10"}, "is_accepted": true, "score": 1, "last_activity_date": 1562316432, "last_edit_date": 1562316432, "creation_date": 1562256370, "answer_id": 56891462, "question_id": 56877299, "link": "https://stackoverflow.com/questions/56877299/html-php-site-communicating-with-discord-bot/56891462#56891462", "title": "HTML/PHP site communicating with discord bot", "body": "<p>The solution to this is to use a webhook and download the extension CURL. Then do this in the PHP code:</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>$curl = curl_init(\"DISCORD API FOR WEBHOOK\");\ncurl_setopt($curl, CURLOPT_POST, 1);\ncurl_setopt($curl, CURLOPT_POSTFIELDS, json_encode(array(\"content\" =&gt; \"MESSAGE\")));\ncurl_exec($curl);\n</code></pre>\n"}], "owner": {"reputation": 42, "user_id": 10885911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YCByn.jpg?s=128&g=1", "display_name": "Nomissimon10", "link": "https://stackoverflow.com/users/10885911/nomissimon10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1323, "favorite_count": 0, "accepted_answer_id": 56891462, "answer_count": 1, "score": 1, "last_activity_date": 1562316432, "creation_date": 1562184681, "question_id": 56877299, "link": "https://stackoverflow.com/questions/56877299/html-php-site-communicating-with-discord-bot", "title": "HTML/PHP site communicating with discord bot", "body": "<p>I am wondering if there is a way I can communicate using my HTML/PHP website to communicate with my discord bot. So what I want to do is to have some code or use another sollution to send messages to be sent by my discord bot. So for example: Lets say I write a line I want to be sent from my website every time someone submits a form, I then want a message to be sent by the discord bot saying something simular to \"XXXX just submitted a form\" in a specific channel.</p>\n\n<p>I have tried seaching through youtube, stack overflow and other websites but didnt find a way to do it.</p>\n\n<p>I already have the discord bot and its running using Visual Studio Code. I also have the website running.</p>\n\n<p>Just wondering if theres a way to do this.</p>\n"}, {"tags": ["javascript", "mysql", "json"], "comments": [{"owner": {"reputation": 221, "user_id": 4518930, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/656052311/picture?type=large", "display_name": "Adil Liaqat", "link": "https://stackoverflow.com/users/4518930/adil-liaqat"}, "edited": false, "score": 0, "creation_date": 1562189128, "post_id": 56877278, "comment_id": 100304827, "body": "You want AnotherID with all ConceptID and ConceptValue?"}, {"owner": {"reputation": 59, "user_id": 7891790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fcb6fc09892fc8fb54c6e82c1a3da99?s=128&d=identicon&r=PG&f=1", "display_name": "Legendarkz", "link": "https://stackoverflow.com/users/7891790/legendarkz"}, "reply_to_user": {"reputation": 221, "user_id": 4518930, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/656052311/picture?type=large", "display_name": "Adil Liaqat", "link": "https://stackoverflow.com/users/4518930/adil-liaqat"}, "edited": false, "score": 0, "creation_date": 1562189358, "post_id": 56877278, "comment_id": 100304888, "body": "Yes, AnotherID must contains all the ConceptID and ConceptValue from the JSON."}], "answers": [{"tags": [], "owner": {"reputation": 221, "user_id": 4518930, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/656052311/picture?type=large", "display_name": "Adil Liaqat", "link": "https://stackoverflow.com/users/4518930/adil-liaqat"}, "is_accepted": true, "score": 0, "last_activity_date": 1562191641, "last_edit_date": 1562191641, "creation_date": 1562191306, "answer_id": 56878447, "question_id": 56877278, "link": "https://stackoverflow.com/questions/56877278/how-to-convert-json-object-with-multiple-objects-into-a-single-set-of-objects/56878447#56878447", "title": "How to convert JSON object with multiple objects into a single set of objects", "body": "<p>I think you have an object like </p>\n\n<pre><code>let obj = {\n ID: \"1\",\n AnotherID: \"003,004,006,007,008,009,010\",\n ConceptID: \"A,B,C\",\n ConceptValue: \"23,45,63\"\n}\n</code></pre>\n\n<p>So let's create two variables:</p>\n\n<pre><code>let conceptId = obj.ConceptID.split(','); // Convert to array\nlet conceptValue = obj.ConceptValue.split(',');\n</code></pre>\n\n<p>Now this will create a array objects containing AnotherId with conceptId</p>\n\n<pre><code>obj.AnotherID.split(',').reduce((arr, id) =&gt; {\n arr.push(...conceptId.map((v, i) =&gt; ({\n    AnotherId: id,\n    ConceptID: v,\n    ConceptVaue: conceptValue[i]\n })))\n return arr;\n}, [])\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 7891790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fcb6fc09892fc8fb54c6e82c1a3da99?s=128&d=identicon&r=PG&f=1", "display_name": "Legendarkz", "link": "https://stackoverflow.com/users/7891790/legendarkz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 274, "favorite_count": 0, "accepted_answer_id": 56878447, "answer_count": 1, "score": 0, "last_activity_date": 1566149403, "creation_date": 1562184556, "last_edit_date": 1566149403, "question_id": 56877278, "link": "https://stackoverflow.com/questions/56877278/how-to-convert-json-object-with-multiple-objects-into-a-single-set-of-objects", "title": "How to convert JSON object with multiple objects into a single set of objects", "body": "<p>I have a JSON object with multiple objects which I have to convert into a single object so I can insert it into an mysql table.</p>\n\n<p>I'm doing this on JavaScript, but I have no idea how to convert it into a \"row\" so I can send it into an insert for mysql</p>\n\n<p>The ID must contain all the anotherIDs with every ConceptID and ConceptValue</p>\n\n<p>ConceptID and ConceptValue must be on each anotherID, so the result would be like the one I show on the example</p>\n\n<p>Example:</p>\n\n<pre><code>JSON\n{\n  ID: \"1\"\n  AnotherID: \"003,004,006,007,008,009,010\"\n  ConceptID: \"A,B,C\"\n  ConceptValue: \"23,45,63\"\n}\n</code></pre>\n\n<p>And I want to insert it into a mysql table like this:</p>\n\n<pre><code>ID  |  AnotherID  |  ConceptID  |  ConceptValue\n===============================================\n1   |  003        |  A          |  23\n1   |  003        |  B          |  45\n1   |  003        |  C          |  63\n1   |  004        |  A          |  23\n1   |  004        |  B          |  45\n1   |  004        |  C          |  63\n</code></pre>\n\n<p>I've tried it doing it on an stored procedure in mysql, but couldn't make it work.</p>\n\n<p>I'm kinda new at development, so any help would be really appreciated!</p>\n\n<p>I've tried with a ForEach so I can get the JSON in single parts</p>\n\n<pre><code>var $IDs;\nvar count = 0;\n  JSON_Object.forEach(function (element) {\n    count++;\n    $IDs.push(element[count].ID.value);\n});\n</code></pre>\n\n<p>But, then I don't know how to order them like the result I want to and generate each row.</p>\n"}, {"tags": ["javascript", "reactjs", "dom"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1562184190, "post_id": 56877154, "comment_id": 100302961, "body": "Why do you have a <code>ReactDOM.render()</code> line in your <code>Slider.jsx</code>? Also, in App.js you are rendering the main structure, there&#39;s no need to put any more than <code>&lt;App &#47;&gt;</code> in your index.js <code>ReactDOM.render()</code> call."}, {"owner": {"reputation": 216, "user_id": 8495914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddaa2ab8348f4474b046f2d738c2ae0c?s=128&d=identicon&r=PG&f=1", "display_name": "Zakir Hussain", "link": "https://stackoverflow.com/users/8495914/zakir-hussain"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1562184629, "post_id": 56877154, "comment_id": 100303104, "body": "If I remove ReactDOM.render() from Slider.jsx I&#39;m getting this error Cannot read property &#39;map&#39; of undefined. @Chris G"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1562185066, "post_id": 56877154, "comment_id": 100303240, "body": "In your App.js, use <code>&lt;Slider slides={slides} &#47;&gt;</code> and move the declaration (<code>const slides</code>) inside the file. Here&#39;s a sandbox: <a href=\"https://codesandbox.io/s/clever-ptolemy-sjlml\" rel=\"nofollow noreferrer\">codesandbox.io/s/clever-ptolemy-sjlml</a>"}, {"owner": {"reputation": 216, "user_id": 8495914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddaa2ab8348f4474b046f2d738c2ae0c?s=128&d=identicon&r=PG&f=1", "display_name": "Zakir Hussain", "link": "https://stackoverflow.com/users/8495914/zakir-hussain"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1562186521, "post_id": 56877154, "comment_id": 100303844, "body": "In App.js I&#39;ve other file called components, which has other components to display so in App.js I&#39;m using components.! I need to use this Slider.jsx component along with those components. @Chris G"}], "owner": {"reputation": 216, "user_id": 8495914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddaa2ab8348f4474b046f2d738c2ae0c?s=128&d=identicon&r=PG&f=1", "display_name": "Zakir Hussain", "link": "https://stackoverflow.com/users/8495914/zakir-hussain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1562192853, "creation_date": 1562183910, "last_edit_date": 1562192853, "question_id": 56877154, "link": "https://stackoverflow.com/questions/56877154/uncaught-invariant-violation-target-container-is-not-a-dom-element-at-object-re", "title": "Uncaught Invariant Violation: Target container is not a DOM element at Object.render", "body": "<p>I'm trying to run the code but i'm getting <em>Uncaught Invariant Violation: Target container is not a DOM element.</em> error. I'm testing the below code</p>\n\n<p><strong>In Slider.jsx</strong></p>\n\n<pre><code>      render() {\n        const { activeSlide, prevSlide, sliderReady } = this.state;\n        return (\n          &lt;div className={classNames('slider', { 's--ready': sliderReady })}&gt;\n            &lt;p className=\"slider__top-heading\"&gt;Travelers&lt;/p&gt;\n            &lt;div className=\"slider__slides\"&gt;\n              {this.props.slides.map((slide, index) =&gt; (\n                &lt;div\n                  className={classNames('slider__slide', { 's--active': activeSlide === index, 's--prev': prevSlide === index  })}\n                  key={slide.city}\n                  &gt;\n                  &lt;div className=\"slider__slide-content\"&gt;\n                    &lt;h3 className=\"slider__slide-subheading\"&gt;{slide.country || slide.city}&lt;/h3&gt;\n                    &lt;h2 className=\"slider__slide-heading\"&gt;\n                      {slide.city.split('').map(l =&gt; &lt;span&gt;{l}&lt;/span&gt;)}\n                    &lt;/h2&gt;\n                    &lt;p className=\"slider__slide-readmore\"&gt;read more&lt;/p&gt;\n                  &lt;/div&gt;\n                  &lt;div className=\"slider__slide-parts\"&gt;\n                    {[...Array(this.IMAGE_PARTS).fill()].map((x, i) =&gt; (\n                      &lt;div className=\"slider__slide-part\" key={i}&gt;\n                        &lt;div className=\"slider__slide-part-inner\" style={{ backgroundImage: `url(${slide.img})` }} /&gt;\n                      &lt;/div&gt;\n                    ))}\n                  &lt;/div&gt;\n                &lt;/div&gt;\n              ))}\n            &lt;/div&gt;\n            &lt;div className=\"slider__control\" onClick={() =&gt; this.changeSlides(-1)} /&gt;\n            &lt;div className=\"slider__control slider__control--right\" onClick={() =&gt; this.changeSlides(1)} /&gt;\n          &lt;/div&gt;\n        );\n      }\n    }\n\n    const slides = [\n      {\n        city: 'Paris',\n        country: 'France',\n        img: require('assets/images/img4.jpg'),\n      },\n     {\n        city: 'Banglore',\n        country: 'India',\n        img: require('assets/images/img5.jpg'),\n      },\n\n    ];\n\n    ReactDOM.render(&lt;Slider slides={slides} /&gt;, document.querySelector('#root'));\n</code></pre>\n\n<p><strong>In INDEX.js</strong></p>\n\n<pre><code>    ReactDOM.render(\n        &lt;App&gt;\n        &lt;Router history={hist}&gt;\n        &lt;Switch&gt;\n            &lt;Route path=\"/\" component={Components} /&gt;\n        &lt;/Switch&gt;\n    &lt;/Router&gt;\n    &lt;/App&gt;\n    , document.getElementById(\"root\"));\n</code></pre>\n\n<p><strong>In index.html</strong></p>\n\n<pre><code>    &lt;body&gt;\n    &lt;div id=\"root\"&gt;&lt;/div&gt;\n    &lt;script src=\"bundle.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;/body&gt;\n</code></pre>\n\n<p><strong>In App.js</strong></p>\n\n<pre><code>    function App() {\n      return (\n        &lt;div className=\"App\"&gt;\n          &lt;Router history={hist}&gt;\n        &lt;Switch&gt;\n            &lt;Route path=\"/\" component={Components} /&gt;\n        &lt;/Switch&gt;\n    &lt;/Router&gt;\n    &lt;Slider/&gt;\n        &lt;/div&gt;  \n      );\n    }\n\n    export default App;\n</code></pre>\n\n<p><strong>Error showing:</strong>\n    Uncaught Invariant Violation: Target container is not a DOM element.\n        at invariant (<a href=\"http://localhost:3000/static/js/1.chunk.js:225988:19\" rel=\"nofollow noreferrer\">http://localhost:3000/static/js/1.chunk.js:225988:19</a>)\n        at Object.render (<a href=\"http://localhost:3000/static/js/1.chunk.js:248161:40\" rel=\"nofollow noreferrer\">http://localhost:3000/static/js/1.chunk.js:248161:40</a>)\n        at Module../src/index.js (<a href=\"http://localhost:3000/static/js/main.chunk.js:3170:50\" rel=\"nofollow noreferrer\">http://localhost:3000/static/js/main.chunk.js:3170:50</a>)\n        at <strong>webpack_require</strong> (<a href=\"http://localhost:3000/static/js/bundle.js:782:30\" rel=\"nofollow noreferrer\">http://localhost:3000/static/js/bundle.js:782:30</a>)\n        at Object.0 (<a href=\"http://localhost:3000/static/js/main.chunk.js:3715:18\" rel=\"nofollow noreferrer\">http://localhost:3000/static/js/main.chunk.js:3715:18</a>)\n        at <strong>webpack_require</strong> (<a href=\"http://localhost:3000/static/js/bundle.js:782:30\" rel=\"nofollow noreferrer\">http://localhost:3000/static/js/bundle.js:782:30</a>)\n        at checkDeferredModules (<a href=\"http://localhost:3000/static/js/bundle.js:46:23\" rel=\"nofollow noreferrer\">http://localhost:3000/static/js/bundle.js:46:23</a>)\n        at Array.webpackJsonpCallback [as push] (<a href=\"http://localhost:3000/static/js/bundle.js:33:19\" rel=\"nofollow noreferrer\">http://localhost:3000/static/js/bundle.js:33:19</a>)</p>\n"}, {"tags": ["javascript", "node.js", "linkedin", "linkedin-api"], "comments": [{"owner": {"reputation": 428, "user_id": 291892, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Cyf65.jpg?s=128&g=1", "display_name": "Jon Lorusso", "link": "https://stackoverflow.com/users/291892/jon-lorusso"}, "edited": false, "score": 0, "creation_date": 1575669432, "post_id": 56877095, "comment_id": 104657013, "body": "I am hitting a similar issue with a multipart video upload.  For what it&#39;s worth, small videos (&lt; 200MB) and images are working just fine for me."}], "owner": {"reputation": 325, "user_id": 6679657, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/RHism.jpg?s=128&g=1", "display_name": "Shahrukh Shahid", "link": "https://stackoverflow.com/users/6679657/shahrukh-shahid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 258, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1588959286, "creation_date": 1562183617, "question_id": 56877095, "link": "https://stackoverflow.com/questions/56877095/image-share-on-linkedin-via-api-gives-client-error", "title": "Image share on LinkedIn via API gives CLIENT_ERROR", "body": "<p>I am trying to create image share on linkedIn via API.\nI have followed all the steps mentioned in documentation which are</p>\n\n<ul>\n<li>Register upload</li>\n<li>Upload image to given URL</li>\n<li>Verify uploaded image</li>\n</ul>\n\n<p>I am uploading image using CURL in nodejs as follows</p>\n\n<pre><code>const util = require('util');\nconst exec = util.promisify(require('child_process').exec);\nconst {\n    stdout,\n    stderr,\n} = await exec(`curl -v -H \"Authorization: Bearer ${accessToken}\" --upload-file ${path} -k '${url}'`);\nconsole.log('stdout:', stdout);\nconsole.log('stderr:', stderr);\nif (stderr.length &gt; 0) {\n    console.log('std err');\n    const e = new Error();\n    e.message = 'There was an error with CURL request';\n    e.statusCode = 500;\n    throw e;\n}\n\nif (stdout == '201' || stdout == ' 201' || parseInt(stdout) == 201 || stdout.indexOf('000') !== -1) {\n    console.log('upload success to linked');\n    return true;\n}\n</code></pre>\n\n<p>File uploads successfully. But whenever I check the uploaded asset via</p>\n\n<p><a href=\"https://api.linkedin.com/v2/assets/\" rel=\"nofollow noreferrer\">https://api.linkedin.com/v2/assets/</a>{asserURN} endpoint. I get following error</p>\n\n<pre><code>    {\n    \"serviceRelationships\": [\n        {\n            \"identifier\": \"urn:li:userGeneratedContent\",\n            \"relationshipType\": \"OWNER\"\n        }\n    ],\n    \"recipes\": [\n        {\n            \"recipe\": \"urn:li:digitalmediaRecipe:feedshare-image\",\n            \"status\": \"CLIENT_ERROR\"\n        }\n    ],\n    \"mediaTypeFamily\": \"STILLIMAGE\",\n    \"created\": 1562182923304,\n    \"lastModified\": 1562182928516,\n    \"id\": \"C5122AQEktBmXOb4QUg\",\n    \"status\": \"ALLOWED\"\n}\n</code></pre>\n\n<p>IDK why I am getting <strong>CLIENT_ERROR</strong>. It has been 5 days since i'm banging my head with this code but no clue. Neither LinkedIn API docs says anything about this.</p>\n\n<p>I have tried following things</p>\n\n<ul>\n<li>Specifying Content-Type header as application/octet</li>\n<li>Specifying Content-Type header as image/png or mimeType of the image</li>\n</ul>\n\n<p>NOTHING WORKS...I am really fed up with this. Kindly point me to right direction.</p>\n"}, {"tags": ["javascript", "button", "onclick"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1562183647, "post_id": 56877067, "comment_id": 100302737, "body": "<a href=\"https://stackoverflow.com/questions/10693845/what-do-queryselectorall-and-getelementsby-methods-return\" title=\"what do queryselectorall and getelementsby methods return\">stackoverflow.com/questions/10693845/&hellip;</a>"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 2, "creation_date": 1562183695, "post_id": 56877067, "comment_id": 100302755, "body": "putting event binding inside the onload, but referencing the button outside of that method make no sense."}], "answers": [{"comments": [{"owner": {"reputation": 5657, "user_id": 10868192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8RKqk.jpg?s=128&g=1", "display_name": "antonku", "link": "https://stackoverflow.com/users/10868192/antonku"}, "reply_to_user": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1562183865, "post_id": 56877098, "comment_id": 100302833, "body": "@epascarello Good point, thanks, I have removed the redundant wrapper"}], "tags": [], "owner": {"reputation": 5657, "user_id": 10868192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8RKqk.jpg?s=128&g=1", "display_name": "antonku", "link": "https://stackoverflow.com/users/10868192/antonku"}, "is_accepted": false, "score": 2, "last_activity_date": 1562183833, "last_edit_date": 1562183833, "creation_date": 1562183640, "answer_id": 56877098, "question_id": 56877067, "link": "https://stackoverflow.com/questions/56877067/what-are-some-problem-solving-tips-when-trying-to-attach-an-onclick-function-t/56877098#56877098", "title": "What are some problem solving tips when trying to attach an onclick() function to a button?", "body": "<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll\" rel=\"nofollow noreferrer\">document.querySelectorAll</a> returns an NodeList so that you need to access the button as the first element of this NodeList (<code>document.querySelectorAll('.resume-button')[0]</code>)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var button = document.querySelectorAll('.resume-button')[0];\r\n\r\nbutton.onclick = function(){\r\n  console.log(\"yay its working\");\r\n};</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"resume\" class=\"resume\"&gt;\r\n    &lt;button type=\"button\" id=\"resume-button\" class=\"resume-button\"&gt;RESUME&lt;/button&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Also note there is no need to wrap the onclick function assignment into <code>window.onload</code></p>\n"}], "owner": {"reputation": 11, "user_id": 8924445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e92e05e6e3f9500f9bf4d0e2a411ff65?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Soto", "link": "https://stackoverflow.com/users/8924445/jonathan-soto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562183833, "creation_date": 1562183430, "question_id": 56877067, "link": "https://stackoverflow.com/questions/56877067/what-are-some-problem-solving-tips-when-trying-to-attach-an-onclick-function-t", "title": "What are some problem solving tips when trying to attach an onclick() function to a button?", "body": "<p>I want my button to trigger a download of a PDF file when clicked. However, I am having trouble getting the button to fire the function when clicked. For now, I am just wanting the button to console.log \"it works\"</p>\n\n<p>I have selected the correct element, and defined the type as \"button\", and am able to console.log the button. But when attaching the button.onclick()= function{ console.log(\"it works\");}; it does not trigger the console.log in the console. I have also put the onclick function into a window.onload function. </p>\n\n<pre><code> &lt;div id=\"resume\" class=\"resume\"&gt;\n    &lt;button type=\"button\" id=\"resume-button\" class=\"resume-button\"&gt;RESUME&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>--JavaScript--</p>\n\n<pre><code>var button = document.querySelectorAll('.resume-button');\n\nwindow.onload = function(){\n\nbutton.onclick = function(){\n    console.log(\"yay its working\");\n}; }\n</code></pre>\n\n<p>I am expecting the console to output \"it works\" when the button is clicked, but nothing happens when clicked.</p>\n"}, {"tags": ["javascript", "json", "express"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1562183522, "post_id": 56877049, "comment_id": 100302688, "body": "Every time the loop runs, it&#39;s running <code>document.getElementById(&#39;faves_field&#39;).innerHTML = hold;</code>.  It&#39;s setting it for every item in the array, but each time it overwrites it.  What do you intend for it to do?"}, {"owner": {"reputation": 15, "user_id": 11736143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cd673f4d943abaee39b8f3f307f6db3?s=128&d=identicon&r=PG&f=1", "display_name": "Hy-tech", "link": "https://stackoverflow.com/users/11736143/hy-tech"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1562185383, "post_id": 56877049, "comment_id": 100303385, "body": "It is supposed to list all the songs within the box on separate lines."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 11736143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cd673f4d943abaee39b8f3f307f6db3?s=128&d=identicon&r=PG&f=1", "display_name": "Hy-tech", "link": "https://stackoverflow.com/users/11736143/hy-tech"}, "edited": false, "score": 0, "creation_date": 1562185316, "post_id": 56877201, "comment_id": 100303351, "body": "I believe you have the <code>document.getElementById(&#39;faves_field&#39;).innerHTML = hold;</code> outside of the <code>if (xhr.status === 200)</code> statement. Also, I tried that but now it only displays the first item in the list. What should I try now?"}, {"owner": {"reputation": 36, "user_id": 11731220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3467fa61e06da9435db3d8f00ec188e?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/11731220/programmer"}, "reply_to_user": {"reputation": 15, "user_id": 11736143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cd673f4d943abaee39b8f3f307f6db3?s=128&d=identicon&r=PG&f=1", "display_name": "Hy-tech", "link": "https://stackoverflow.com/users/11736143/hy-tech"}, "edited": false, "score": 0, "creation_date": 1562187775, "post_id": 56877201, "comment_id": 100304324, "body": "@Hy-tech Yes, my bad,  I was meant to just put it outside of the for loop. I have made an edit, please check."}, {"owner": {"reputation": 15, "user_id": 11736143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cd673f4d943abaee39b8f3f307f6db3?s=128&d=identicon&r=PG&f=1", "display_name": "Hy-tech", "link": "https://stackoverflow.com/users/11736143/hy-tech"}, "edited": false, "score": 0, "creation_date": 1562244841, "post_id": 56877201, "comment_id": 100323766, "body": "My appologies. I did try it, but now it is giving me a refference error in the console, saying <code>let hold</code> is not defined."}, {"owner": {"reputation": 36, "user_id": 11731220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3467fa61e06da9435db3d8f00ec188e?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/11731220/programmer"}, "reply_to_user": {"reputation": 15, "user_id": 11736143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cd673f4d943abaee39b8f3f307f6db3?s=128&d=identicon&r=PG&f=1", "display_name": "Hy-tech", "link": "https://stackoverflow.com/users/11736143/hy-tech"}, "edited": false, "score": 0, "creation_date": 1562260288, "post_id": 56877201, "comment_id": 100330882, "body": "@Hy-tech That should work. Are you trying to use the variable hold outside of the for loop? If you are then you will get that error."}, {"owner": {"reputation": 15, "user_id": 11736143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cd673f4d943abaee39b8f3f307f6db3?s=128&d=identicon&r=PG&f=1", "display_name": "Hy-tech", "link": "https://stackoverflow.com/users/11736143/hy-tech"}, "edited": false, "score": 0, "creation_date": 1562341519, "post_id": 56877201, "comment_id": 100356703, "body": "Nope. You&#39;re right. I forgot to replace the hold in the <code>document.getElementById...</code> statement with favitems. It worked"}], "tags": [], "owner": {"reputation": 36, "user_id": 11731220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3467fa61e06da9435db3d8f00ec188e?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/11731220/programmer"}, "is_accepted": true, "score": 0, "last_activity_date": 1562188117, "last_edit_date": 1562188117, "creation_date": 1562184169, "answer_id": 56877201, "question_id": 56877049, "link": "https://stackoverflow.com/questions/56877049/why-wont-my-server-read-my-json-file-completely/56877201#56877201", "title": "Why won&#39;t my server read my json file completely?", "body": "<p>You're looping over the list, and then setting the html. This is always going to set it to the last item in list. </p>\n\n<pre><code>        for (var i in list) {\n            let hold = fav_tem;\n            hold = hold.replace('%title', list[i].song);\n            hold = hold.replace('%artist', list[i].artist);\n            hold = hold.replace('%mood', list[i].mood);\n            document.getElementById('faves_field').innerHTML = hold;\n        };\n</code></pre>\n\n<p>You should put the variable that holds the data and the html property outside of the loop</p>\n\n<pre><code>    let hold = fav_tem;\n    for (var i in list) {\n        hold = hold.replace('%title', list[i].song);\n        hold = hold.replace('%artist', list[i].artist);\n        hold = hold.replace('%mood', list[i].mood);\n    };\n\n    document.getElementById('faves_field').innerHTML = hold;\n</code></pre>\n\n<p>EDIT: </p>\n\n<p>I have just had a quick look over your project and I see that fav_tem has only one item (in my head I was thinking that it contains a number of them). \nSo once you do the replace, then that's it. It can't replace it again because the text is no longer there. </p>\n\n<p>So in that case you would want to append. See below:</p>\n\n<pre><code>    let favitems = \"\";\n    for (var i in list) {\n        let hold = fav_tem;\n        hold = hold.replace('%title', list[i].song);\n        hold = hold.replace('%artist', list[i].artist);\n        hold = hold.replace('%mood', list[i].mood); \n        favitems = favitems + \"&lt;br /&gt;\" + hold;\n    };\n\n    document.getElementById('faves_field').innerHTML = favitems;\n</code></pre>\n\n<p>Let me know how that goes, I believe that is what you're looking for. </p>\n"}], "owner": {"reputation": 15, "user_id": 11736143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cd673f4d943abaee39b8f3f307f6db3?s=128&d=identicon&r=PG&f=1", "display_name": "Hy-tech", "link": "https://stackoverflow.com/users/11736143/hy-tech"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 56877201, "answer_count": 1, "score": 0, "last_activity_date": 1562188117, "creation_date": 1562183340, "question_id": 56877049, "link": "https://stackoverflow.com/questions/56877049/why-wont-my-server-read-my-json-file-completely", "title": "Why won&#39;t my server read my json file completely?", "body": "<p>I made a get request in a function for fav.json and programmed the id=\"fav_button\" button to run the function, and I set up an express server. However, when I click the button, it only displays the last item in the json file. The json file being fetched is an array of objects.</p>\n\n<p>I have tried using .send instead of .json as well as .sendFile. I have tried debugging the json file, but there are no issues. I have tried using jquery instead, but it makes no difference.</p>\n\n<pre><code>// script.js\nfunction get_fav(e) {\n    if (!e) {\n        e = window.event;}\n    el = e.target || e.srcElement;\n    var xhr = new XMLHttpRequest();\n    xhr.onload = function() {\n        if (xhr.status === 200) {\n            let list = JSON.parse(xhr.response);\n            for (var i in list) {\n                let hold = fav_tem;\n                hold = hold.replace('%title', list[i].song);\n                hold = hold.replace('%artist', list[i].artist);\n                hold = hold.replace('%mood', list[i].mood);\n                document.getElementById('faves_field').innerHTML = hold;}}};\n    xhr.open('GET', 'fav.json', true);\n    xhr.send();}\nconst fav_el = document.getElementById('fav_button');\nif (fav_el.addEventListener) {\n    fav_el.addEventListener('click', get_fav, false);}\nelse {fav_el.onclick = get_fav;}...\n\n\n// app.js\nconst express = require('express');\nconst bodyParser = require('body-parser');\nconst path = require('path');\nconst fs = require('fs');\n\nconst app = express();\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({extended: false}));\napp.use(express.static(path.join(__dirname, 'public')));\n\napp.get('/', function(req, res) {\n    res.send(fs.readFileSync('public/index.html'));\n});\n\napp.get('public/fav.json', function(req, res) {\n    res.json(fs.readFileSync('public/fav.json'));\n});...\n\n...app.listen(3003, function() {\n       console.log('Server started on port 3003...');\n   });\n</code></pre>\n\n<p>My script is supposed to request fav.json and append each part of the object to the blue boxes like this: (in bold) Song - artist. Mood: mood(s). My app is supposed to listen for the request for public/fav.json, then send it.</p>\n\n<p>However, for some reason, when I click the allocated button, it only displays the last object of the json file in the blue box below. Here's a link to the full project (I am not very experienced with web developement): <a href=\"https://github.com/YungLonk/Practice-Node-JS\" rel=\"nofollow noreferrer\">https://github.com/YungLonk/Practice-Node-JS</a>. What am I missing or doing wrong?</p>\n"}, {"tags": ["javascript", "javascript-objects", "javascriptcore"], "comments": [{"owner": {"reputation": 3108, "user_id": 1336843, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d2e1972ec132432a0956d2c12529c6b2?s=128&d=identicon&r=PG", "display_name": "Bali Balo", "link": "https://stackoverflow.com/users/1336843/bali-balo"}, "edited": false, "score": 2, "creation_date": 1562183869, "post_id": 56877042, "comment_id": 100302837, "body": "From <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes\" rel=\"nofollow noreferrer\">MDN</a>: &quot;JavaScript classes, introduced in ECMAScript 2015, are primarily syntactical sugar over JavaScript&#39;s existing prototype-based inheritance. The class syntax does not introduce a new object-oriented inheritance model to JavaScript.&quot;"}, {"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1562184619, "post_id": 56877042, "comment_id": 100303102, "body": "There are no classes, there is class syntax. There are objects and primitives. The two examples are not &quot;equal&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 106594, "user_id": 575527, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a1120319639f8c7ea84d66d4334bdfa9?s=128&d=identicon&r=PG", "display_name": "Joseph", "link": "https://stackoverflow.com/users/575527/joseph"}, "is_accepted": true, "score": 2, "last_activity_date": 1562184563, "last_edit_date": 1562184563, "creation_date": 1562183868, "answer_id": 56877145, "question_id": 56877042, "link": "https://stackoverflow.com/questions/56877042/comparison-between-native-types-javascript-class-is-same-than/56877145#56877145", "title": "Comparison between native types JavaScript, Class is same than {}?", "body": "<pre><code>const FooInstance = {\n    anyFunc () {}\n}\n</code></pre>\n\n<p><code>FooInstance</code> in this case is directly an instance of <code>Object</code>. If you look at its prototype chain, it's immediately <code>Object</code>. <code>anyFunc</code> method will be found on the instance itself.</p>\n\n<pre><code>class Foo {\n  static anyFunc () {}\n}\nconst FooInstance = new Foo();\n</code></pre>\n\n<p><code>FooInstance</code> in this case is an instance of <code>Foo</code> (and <code>Object</code> too since all objects descend from it). If you look at its prototype chain it will have the prototype of <code>Foo</code> first, then the prototype of <code>Object</code> next. Additionally, <code>anyFunc</code> is not a method on the instance (nor the prototype). It will be attached on the constructor itself (i.e. <code>Foo.anyFunc()</code> or <code>FooInstance.constructor.anyFunc()</code>, but not <code>FooInstance.anyFunc()</code>).</p>\n\n<p>In short, no. They're not equal.</p>\n\n<p>Visually, the chain would look like:</p>\n\n<pre><code>// First case:\ninstance ---&gt; Object.prototype\n- anyFunc\n\n// Second case:\ninstance -&gt; Foo.prototype -------&gt; Object.prototype\n            - constructor (Foo)\n              - anyFunc\n</code></pre>\n\n<blockquote>\n  <p>How I can measure the performance/memory allocated/sizeof of these implementations?</p>\n</blockquote>\n\n<p>It's negligble. Don't worry about it. Or worry about it only when it becomes a problem.</p>\n"}], "owner": {"reputation": 7, "user_id": 8154328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9352e68bc8da22b4fae3211cb2bff48?s=128&d=identicon&r=PG&f=1", "display_name": "Rafaelgss", "link": "https://stackoverflow.com/users/8154328/rafaelgss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 56877145, "answer_count": 1, "score": 0, "last_activity_date": 1562184563, "creation_date": 1562183297, "question_id": 56877042, "link": "https://stackoverflow.com/questions/56877042/comparison-between-native-types-javascript-class-is-same-than", "title": "Comparison between native types JavaScript, Class is same than {}?", "body": "<p>I'm writing some tests about the comparison between <code>Class</code> and <code>Object</code> in Javascript. And I have some doubt about the real objective with <code>Class</code> in JS.</p>\n\n<p>If everything is an <code>object</code>(except primitives types) is correct to state that:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class Foo {\n    static anyFunc () {}\n}\nconst FooInstance = new Foo();\n</code></pre>\n\n<p>is equal</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const FooInstance = {\n    anyFunc () {}\n}\n</code></pre>\n\n<p>?</p>\n\n<p>How I can measure the performance/memory allocated/sizeof of these implementations? Can be in C++ or JS.</p>\n\n<p>Thanks so much!</p>\n"}, {"tags": ["javascript", "node.js", "express"], "comments": [{"owner": {"reputation": 991, "user_id": 10976382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NFoQ0.jpg?s=128&g=1", "display_name": "Len Joseph", "link": "https://stackoverflow.com/users/10976382/len-joseph"}, "edited": false, "score": 0, "creation_date": 1562183818, "post_id": 56877041, "comment_id": 100302808, "body": "Can you post more code to show a couple the entry point and a few routes?"}, {"owner": {"reputation": 563, "user_id": 4960039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/924642499cdefeac26149726b8a0ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Sharma", "link": "https://stackoverflow.com/users/4960039/shubham-sharma"}, "edited": false, "score": 0, "creation_date": 1562183922, "post_id": 56877041, "comment_id": 100302851, "body": "@Kose You want to use params and query string within same endpoint.?"}, {"owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "edited": false, "score": 0, "creation_date": 1562184479, "post_id": 56877041, "comment_id": 100303063, "body": "The question is unclear. Please be more explicit and precise."}, {"owner": {"reputation": 27, "user_id": 9711181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36a9913c451c41b6f929eef7cb98180d?s=128&d=identicon&r=PG&f=1", "display_name": "Kose", "link": "https://stackoverflow.com/users/9711181/kose"}, "reply_to_user": {"reputation": 563, "user_id": 4960039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/924642499cdefeac26149726b8a0ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Sharma", "link": "https://stackoverflow.com/users/4960039/shubham-sharma"}, "edited": false, "score": 0, "creation_date": 1562186178, "post_id": 56877041, "comment_id": 100303710, "body": "@ShubhamSharma yes"}, {"owner": {"reputation": 563, "user_id": 4960039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/924642499cdefeac26149726b8a0ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Sharma", "link": "https://stackoverflow.com/users/4960039/shubham-sharma"}, "edited": false, "score": 0, "creation_date": 1562186339, "post_id": 56877041, "comment_id": 100303781, "body": "@Kose you can use both <code>req.params</code> and <code>req.query</code> to access then within the same endpoint."}, {"owner": {"reputation": 27, "user_id": 9711181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36a9913c451c41b6f929eef7cb98180d?s=128&d=identicon&r=PG&f=1", "display_name": "Kose", "link": "https://stackoverflow.com/users/9711181/kose"}, "reply_to_user": {"reputation": 991, "user_id": 10976382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NFoQ0.jpg?s=128&g=1", "display_name": "Len Joseph", "link": "https://stackoverflow.com/users/10976382/len-joseph"}, "edited": false, "score": 0, "creation_date": 1562187124, "post_id": 56877041, "comment_id": 100304076, "body": "@LenJoseph  and Nino , see updated sample code"}], "answers": [{"tags": [], "owner": {"reputation": 563, "user_id": 4960039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/924642499cdefeac26149726b8a0ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Sharma", "link": "https://stackoverflow.com/users/4960039/shubham-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1562223924, "creation_date": 1562223924, "answer_id": 56882337, "question_id": 56877041, "link": "https://stackoverflow.com/questions/56877041/express-parameters-and-api-endpoint/56882337#56882337", "title": "express parameters and api endpoint", "body": "<p>You can use single route instead of making two different routes, you will just need to check for query string in the request as shown below.</p>\n\n<pre><code>router.get('/:id', (req,res) =&gt;{\n   let id = req.params;\n   let region;\n   if(req.query){\n     region = req.query.region;\n   }\n   return res.json(id); \n});\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 9711181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36a9913c451c41b6f929eef7cb98180d?s=128&d=identicon&r=PG&f=1", "display_name": "Kose", "link": "https://stackoverflow.com/users/9711181/kose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 448, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562223924, "creation_date": 1562183296, "last_edit_date": 1562187053, "question_id": 56877041, "link": "https://stackoverflow.com/questions/56877041/express-parameters-and-api-endpoint", "title": "express parameters and api endpoint", "body": "<p>I have an express api endpoints for different purpose, but a single one is returning results for all the endpoints.\nexample.\n<code>api/:id</code>   returns id.\n<code>api/:id?region=east</code>    returns {region: \"east\"}\nI know in the first case we use <code>req.params</code>, second case  <code>req.query</code>.\nMy problem is for both calls, the results  are from first case only.\nHow can I resolve this?</p>\n\n<p>sample <code>code app.js file</code></p>\n\n<pre><code>const express = require('express');\nconst app = express();\n\napp.use(express.json());\napp.use(express.urlencoded({extended:false}));\napp.use('/api', require(./server/user.js));\n\nconst port = process.env.PORT || 3000;\napp.listen(port, () =&gt; console.log(`Listening on port ${port} `));\n\n</code></pre>\n\n<pre><code>#user.js file\n\nconst express = require('express');\nconst router = express.Router();\n\n//endpoint api/10\n//ie 10 is the id\nrouter.get('/:id', (req,res) =&gt;{\n   let id = req.params;\n  return res.json(id); \n});\n\n//note the second router should be using query string\n//ie api/10?region=east\nrouter.get('/:id', (req,res) =&gt;{\n   let id = req.params;\n  return res.json(id); \n});\n</code></pre>\n\n<p>My problem is the second api endpoint doesn't work. it executes the first api endpoint.</p>\n\n<p>1 Updates above</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1562183529, "post_id": 56877031, "comment_id": 100302690, "body": "what result do you expect?"}, {"owner": {"reputation": 14571, "user_id": 1669996, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/89e5a1861e6429b8f5d3cc45900b98ae?s=128&d=identicon&r=PG", "display_name": "casillas", "link": "https://stackoverflow.com/users/1669996/casillas"}, "reply_to_user": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1562183585, "post_id": 56877031, "comment_id": 100302715, "body": "I do not want <code>SurveyResults</code> which is null to be taken care in the <code>map</code> operation."}], "answers": [{"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": true, "score": 2, "last_activity_date": 1562183735, "creation_date": 1562183735, "answer_id": 56877115, "question_id": 56877031, "link": "https://stackoverflow.com/questions/56877031/handle-null-values-in-the-map-callback/56877115#56877115", "title": "Handle null values in the map callback", "body": "<p>You could add a filtering and check the value.</p>\n\n<pre><code>result = Object\n    .entries(data)\n    .filter(([_, v]) =&gt; v !== null)  // add a filtering\n    .map(([name, properties]) =&gt; ({\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2491, "user_id": 10967889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/83qip.jpg?s=128&g=1", "display_name": "weegee", "link": "https://stackoverflow.com/users/10967889/weegee"}, "is_accepted": false, "score": 1, "last_activity_date": 1562184115, "creation_date": 1562184115, "answer_id": 56877190, "question_id": 56877031, "link": "https://stackoverflow.com/questions/56877031/handle-null-values-in-the-map-callback/56877190#56877190", "title": "Handle null values in the map callback", "body": "<p>How about just</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = {\"TripResults\": {\"Depth\": [577,694,810],\"Speed\": [150,150,150],\"Frequency\": [3,3,3]},\"SurveyResults\": null}\r\n\r\nObject.entries(data).map(([name, properties]) =&gt; {\r\n if (properties) { // properties are not null\r\n    console.log(properties)\r\n }\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 14571, "user_id": 1669996, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/89e5a1861e6429b8f5d3cc45900b98ae?s=128&d=identicon&r=PG", "display_name": "casillas", "link": "https://stackoverflow.com/users/1669996/casillas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "accepted_answer_id": 56877115, "answer_count": 2, "score": 0, "last_activity_date": 1562184346, "creation_date": 1562183243, "last_edit_date": 1562184346, "question_id": 56877031, "link": "https://stackoverflow.com/questions/56877031/handle-null-values-in-the-map-callback", "title": "Handle null values in the map callback", "body": "<p>Here is the input dataset:   </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const data = {\n  TripResults: {\n    Depth: [ 577, 694, 810 ],\n    Speed: [ 150, 150, 150 ],\n    Frequency: [ 3, 3, 3 ]\n  },\n  SurveyResults: null\n}\n</code></pre>\n\n<p>The following approach does not take of care null object (<code>\"SurveyResults\": null</code>), it throws an error. I wonder how I should handle this situation?</p>\n\n<pre><code>Object.entries(data).map(([name, properties]) =&gt; { /* do something */ })\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "asynchronous", "axios"], "answers": [{"tags": [], "owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "is_accepted": false, "score": 2, "last_activity_date": 1562183715, "creation_date": 1562183715, "answer_id": 56877110, "question_id": 56876990, "link": "https://stackoverflow.com/questions/56876990/node-js-how-to-run-axios-get-every-2-seconds/56877110#56877110", "title": "Node js how to run axios.get every 2 seconds?", "body": "<p>Ditch the <code>map</code>, replace with a <code>for ... of</code>, await a promise that takes 2s to resolve, wrap everything inside an async IIFE for the await to be legal.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// dummy data\r\nconst fakeJson = new Array(5).fill();\r\nconst fakeRequest = () =&gt; console.log(`request at ${new Date().toUTCString()}`);\r\n\r\n// iteration with 2s in between\r\n(async () =&gt; {\r\n  for (let line of fakeJson) {\r\n    await new Promise(r =&gt; setTimeout(r, 2000));\r\n    fakeRequest();\r\n  }\r\n})()</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You can also use more classically use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setInterval\" rel=\"nofollow noreferrer\">setInterval</a> but HTTP requests are asynchronous, so might as well start with a structure that handles well async and loops.</p>\n"}, {"tags": [], "owner": {"reputation": 9254, "user_id": 1203844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WRK6P.jpg?s=128&g=1", "display_name": "Aritra Chakraborty", "link": "https://stackoverflow.com/users/1203844/aritra-chakraborty"}, "is_accepted": false, "score": 1, "last_activity_date": 1562183724, "creation_date": 1562183724, "answer_id": 56877112, "question_id": 56876990, "link": "https://stackoverflow.com/questions/56876990/node-js-how-to-run-axios-get-every-2-seconds/56877112#56877112", "title": "Node js how to run axios.get every 2 seconds?", "body": "<p>You are hitting all at once because <code>.map</code>,<code>.forEach</code>,<code>.reduce</code> etc doesn't wait for the <code>Promise</code> to resolve. Use Simple For loop, it will wait for each promise to resolve or reject.</p>\n\n<pre><code>for(let i=0;i&lt;jsonParsed.length;i++) {\n    var encodeLink = encodeURI(line.link);\n    const response = await axios.get(encodeLink).catch(...)\n    try {\n        ....\n    } catch (error) {\n        ...\n    }\n})\n</code></pre>\n\n<p>Why it doesn't work?\nIf we imitate the <code>forEach</code> loop it will be something like,</p>\n\n<pre><code>function forEach(arr, cb){\n    for(let i=0;i&lt;arr.length;i++){\n        cb(arr[i], i, cb);\n    }\n}\n</code></pre>\n\n<p>So you see it doesn't <code>await</code> the <code>cb</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 1055, "user_id": 5593788, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c4c99223d3ea0896b039938d60488a2f?s=128&d=identicon&r=PG&f=1", "display_name": "jsPlayer", "link": "https://stackoverflow.com/users/5593788/jsplayer"}, "edited": false, "score": 0, "creation_date": 1562187082, "post_id": 56877118, "comment_id": 100304067, "body": "wow this seems to work , but code seems to get stuck around the 301th link? its not always 301 some time 180 sometime 402. Any idea why?"}, {"owner": {"reputation": 6138, "user_id": 1443358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed196dafb71369db1c2e274f3cfb1c25?s=128&d=identicon&r=PG", "display_name": "Guilherme Sehn", "link": "https://stackoverflow.com/users/1443358/guilherme-sehn"}, "reply_to_user": {"reputation": 1055, "user_id": 5593788, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c4c99223d3ea0896b039938d60488a2f?s=128&d=identicon&r=PG&f=1", "display_name": "jsPlayer", "link": "https://stackoverflow.com/users/5593788/jsplayer"}, "edited": false, "score": 1, "creation_date": 1562188594, "post_id": 56877118, "comment_id": 100304614, "body": "@jsPlayer The only reason I can see for it to stop before the end is if one of the requests fail, or part of your code throws an error when handling the response of a specific request (like trying to read some property of <code>null</code>). Try to add a try-catch statement to handle the error."}], "tags": [], "owner": {"reputation": 6138, "user_id": 1443358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed196dafb71369db1c2e274f3cfb1c25?s=128&d=identicon&r=PG", "display_name": "Guilherme Sehn", "link": "https://stackoverflow.com/users/1443358/guilherme-sehn"}, "is_accepted": true, "score": 4, "last_activity_date": 1562204542, "last_edit_date": 1562204542, "creation_date": 1562183746, "answer_id": 56877118, "question_id": 56876990, "link": "https://stackoverflow.com/questions/56876990/node-js-how-to-run-axios-get-every-2-seconds/56877118#56877118", "title": "Node js how to run axios.get every 2 seconds?", "body": "<p>The <code>[].map</code> function doesn't wait for your items to resolve, so your code is currently dispatching all the requests (as you said, around 3000) in parallel.</p>\n\n<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of\" rel=\"nofollow noreferrer\"><code>for...of</code></a> instead to only run one request at a time. For example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>async function makeRequests (lines) {\n  for (const line of lines) {\n    const encodedLink = encodeURI(line.link)\n    const response = await axios.get(encodedLink)\n    // ...your response handling code here...\n  }\n}\n\nmakeRequests(jsonParsed)\n</code></pre>\n\n<p>If you want to wait for 2s between each request, you can add this line of code inside your <code>for...of</code> loop:</p>\n\n<pre><code>await new Promise(resolve =&gt; setTimeout(resolve, 2000))\n</code></pre>\n\n<h3>Better solution</h3>\n\n<p>The solution above works, but I assume your webserver can probably take more than one request at a time, so maybe the ideal scenario would be to limit your code to make only up to <em>N</em> requests in parallel at a given time. This way you don't flood your server but you're able to get your results faster than just doing one request at a time.</p>\n\n<p>The <a href=\"https://www.npmjs.com/package/bluebird\" rel=\"nofollow noreferrer\">bluebird</a> NPM module allows you to do that with their <a href=\"http://bluebirdjs.com/docs/api/promise.map.html\" rel=\"nofollow noreferrer\">Promise.map</a> function.</p>\n\n<p>This function receives your list of items as the first argument, a function that executes something and returns a promise for each item as the second argument, and an object with a <code>concurrency</code> key describing how many items you want to allow to be handled in parallel as the third argument.</p>\n\n<p>Here's how it could work:</p>\n\n<pre><code>const bluebird = require('bluebird')\n\nasync function makeRequests (lines) {\n  await bluebird.map(\n    lines,\n    async (line) =&gt; {\n      const encodedLink = encodeURI(line.link)\n      const response = await axios.get(encodedLink)\n      // ...your response handling code here...\n    },\n    { concurrency: 3 }\n  )\n}\n\nmakeRequests(jsonParsed)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7506, "user_id": 5084000, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/uZdkY.jpg?s=128&g=1", "display_name": "Ravi Shankar Bharti", "link": "https://stackoverflow.com/users/5084000/ravi-shankar-bharti"}, "is_accepted": false, "score": 1, "last_activity_date": 1562183859, "creation_date": 1562183859, "answer_id": 56877141, "question_id": 56876990, "link": "https://stackoverflow.com/questions/56876990/node-js-how-to-run-axios-get-every-2-seconds/56877141#56877141", "title": "Node js how to run axios.get every 2 seconds?", "body": "<p>The reason why timeout wont work in a loop is because it will fire all the requests/functions all at once after the <code>timeout</code> delay. </p>\n\n<p>The idea is to <strong>put delay in each iteration</strong> and only after delay start the next iteration.</p>\n\n<p>you can run a self invoking function which calls itself after the delay. So to run the function every 2 seconds, you can try this:</p>\n\n<pre><code>let jsonParsed = JSON.parse(rawdata);\nlet len = jsonParsed.length;\n\n(function requestLoop (i) {          \n    setTimeout(function () {   \n        let line = jsonParsed[len-i]\n        var encodeLink = encodeURI(line.link);\n        const response = await axios.get(encodeLink).catch((err) =&gt; {\n            var Status_ErrorsCatchaxios = {\n                \"status Code\": err.response.status ? err.response.status : \"No status code available\",\n                \"Page title:\": $('title').text() ? $('title').text() : 'No title avaialble',\n                \"Original Link\": encodeLink ? encodeLink : \"No Original Link Available\",\n                \"errorCode\": err\n            }\n            main.push(Status_ErrorsCatchaxios)\n        })\n        try {\n            console.log(response.status)\n\n            statusCheck = statusCheck + 1;\n            console.log(\"Link: \", statusCheck)\n        } catch (error) {\n            console.log(error)\n        }                        \n        let jsonParsed = JSON.parse(rawdata);\n\n        if (--i) requestLoop(i);     \n   }, 2000)\n})(len);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 42, "user_id": 753862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8fOft.jpg?s=128&g=1", "display_name": "Amir akbari", "link": "https://stackoverflow.com/users/753862/amir-akbari"}, "is_accepted": false, "score": -1, "last_activity_date": 1562185027, "creation_date": 1562185027, "answer_id": 56877375, "question_id": 56876990, "link": "https://stackoverflow.com/questions/56876990/node-js-how-to-run-axios-get-every-2-seconds/56877375#56877375", "title": "Node js how to run axios.get every 2 seconds?", "body": "<p>you can use setTimeout function for running codes every 2 second!</p>\n\n<pre><code>setTimeout(async() =&gt; {\n // await postRequest()\n},2000)\n</code></pre>\n"}], "owner": {"reputation": 1055, "user_id": 5593788, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c4c99223d3ea0896b039938d60488a2f?s=128&d=identicon&r=PG&f=1", "display_name": "jsPlayer", "link": "https://stackoverflow.com/users/5593788/jsplayer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4115, "favorite_count": 1, "accepted_answer_id": 56877118, "answer_count": 5, "score": 5, "last_activity_date": 1562204542, "creation_date": 1562183059, "last_edit_date": 1562183291, "question_id": 56876990, "link": "https://stackoverflow.com/questions/56876990/node-js-how-to-run-axios-get-every-2-seconds", "title": "Node js how to run axios.get every 2 seconds?", "body": "<p>I am kinda of a newbie to node js, Here is what i am trying to do:  i am looping through a json file full of links of our website via the map function (around 3000 links), inside the loop i am doing a axios get for each link and getting the response status code(will do other things in the future). But i want to run the axios get only like every 2 seconds or 5 seconds otherwise i am overwhelming the webserver. I am trying to input async await but it's still too fast and server is taking a hit (i am technically DDos-ing my own website). I put a SetTimeout around the axios but that doesn't seem like it worked, since in the console results are printing way too fast. <strong>so the question is, how do i make each axios.get request wait every 2 seconds before running in the map loop?.</strong></p>\n\n<pre><code>var axios = require('axios');\nconst fs = require('fs');\nvar statusCheck = 0;\n\nvar main = [];\nlet rawdata = fs.readFileSync('C:/Users/jay/Documents/crawl/filtered2.json');\nlet jsonParsed = JSON.parse(rawdata);\n\njsonParsed.map(async(line) =&gt; {\n\n    var encodeLink = encodeURI(line.link);\n    const response = await axios.get(encodeLink).catch((err) =&gt; {\n        var Status_ErrorsCatchaxios = {\n            \"status Code\": err.response.status ? err.response.status : \"No status code available\",\n            \"Page title:\": $('title').text() ? $('title').text() : 'No title avaialble',\n            \"Original Link\": encodeLink ? encodeLink : \"No Original Link Available\",\n            \"errorCode\": err\n        }\n        main.push(Status_ErrorsCatchaxios)\n    })\n    try {\n        console.log(response.status)\n\n        statusCheck = statusCheck + 1;\n        console.log(\"Link: \", statusCheck)\n    } catch (error) {\n        console.log(error)\n    }\n})\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "html5-video"], "answers": [{"comments": [{"owner": {"reputation": 4819, "user_id": 9964622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bo9qD.jpg?s=128&g=1", "display_name": "The Dead Man", "link": "https://stackoverflow.com/users/9964622/the-dead-man"}, "edited": false, "score": 0, "creation_date": 1562184638, "post_id": 56877185, "comment_id": 100303108, "body": "Hi nawed I still get the error here is live demo <a href=\"https://videomill-bot.audiencevideo.com/editor/\" rel=\"nofollow noreferrer\">videomill-bot.audiencevideo.com/editor</a>   check it yourself"}, {"owner": {"reputation": 4326, "user_id": 3281014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIpXo.jpg?s=128&g=1", "display_name": "Nawed Khan", "link": "https://stackoverflow.com/users/3281014/nawed-khan"}, "reply_to_user": {"reputation": 4819, "user_id": 9964622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bo9qD.jpg?s=128&g=1", "display_name": "The Dead Man", "link": "https://stackoverflow.com/users/9964622/the-dead-man"}, "edited": false, "score": 0, "creation_date": 1562184884, "post_id": 56877185, "comment_id": 100303184, "body": "Are you trying to just play the video next to the playpause button?"}, {"owner": {"reputation": 4819, "user_id": 9964622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bo9qD.jpg?s=128&g=1", "display_name": "The Dead Man", "link": "https://stackoverflow.com/users/9964622/the-dead-man"}, "edited": false, "score": 0, "creation_date": 1562184993, "post_id": 56877185, "comment_id": 100303217, "body": "Yes, as you can see I just want to play  the video by clicking the play button"}, {"owner": {"reputation": 4326, "user_id": 3281014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIpXo.jpg?s=128&g=1", "display_name": "Nawed Khan", "link": "https://stackoverflow.com/users/3281014/nawed-khan"}, "reply_to_user": {"reputation": 4819, "user_id": 9964622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bo9qD.jpg?s=128&g=1", "display_name": "The Dead Man", "link": "https://stackoverflow.com/users/9964622/the-dead-man"}, "edited": false, "score": 0, "creation_date": 1562185994, "post_id": 56877185, "comment_id": 100303632, "body": "Please make sure you add the .get(0) that I added after i wrote the comment."}, {"owner": {"reputation": 4819, "user_id": 9964622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bo9qD.jpg?s=128&g=1", "display_name": "The Dead Man", "link": "https://stackoverflow.com/users/9964622/the-dead-man"}, "edited": false, "score": 1, "creation_date": 1562186120, "post_id": 56877185, "comment_id": 100303691, "body": "Now works, just needed to  add closet(&#39;.sidebar_movie-block&#39;)"}], "tags": [], "owner": {"reputation": 4326, "user_id": 3281014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIpXo.jpg?s=128&g=1", "display_name": "Nawed Khan", "link": "https://stackoverflow.com/users/3281014/nawed-khan"}, "is_accepted": true, "score": 1, "last_activity_date": 1562186194, "last_edit_date": 1562186194, "creation_date": 1562184066, "answer_id": 56877185, "question_id": 56876959, "link": "https://stackoverflow.com/questions/56876959/html5-video-uncaught-typeerror-cannot-read-property-play-of-undefined/56877185#56877185", "title": "HTML5-video : Uncaught TypeError: Cannot read property &#39;play&#39; of undefined", "body": "<p>If all you are trying to do is play the video when button next to it is clicked then all you have to do is get the reference to video element by getting the parent div and finding the video element. Try this:</p>\n\n<pre><code>$(\".playpause\").on('click', function(){\n   $(this).closest('.sidebar_movie-block').find('video').get(0).play();            \n});\n</code></pre>\n"}], "owner": {"reputation": 4819, "user_id": 9964622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bo9qD.jpg?s=128&g=1", "display_name": "The Dead Man", "link": "https://stackoverflow.com/users/9964622/the-dead-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1813, "favorite_count": 0, "accepted_answer_id": 56877185, "answer_count": 1, "score": -1, "last_activity_date": 1562186573, "creation_date": 1562182912, "last_edit_date": 1562186573, "question_id": 56876959, "link": "https://stackoverflow.com/questions/56876959/html5-video-uncaught-typeerror-cannot-read-property-play-of-undefined", "title": "HTML5-video : Uncaught TypeError: Cannot read property &#39;play&#39; of undefined", "body": "<p>I have a simple sidebar in which I have a list of videos. Now I want to add custom play button so that user can play a video of his choice. It looks like this.</p>\n\n<p><a href=\"https://i.stack.imgur.com/HCAAh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HCAAh.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is the html code:</p>\n\n<pre><code>&lt;div class=\"sidebar navbar-nav\" id=\"canvas\" tabindex=\"1\" style=\"overflow: hidden; outline: none;\"&gt;\n\n    &lt;div id=\"51\" class=\"sidebar_movie-block ui-draggable\" style=\"position: relative;\"&gt;\n        &lt;h1 class=\"title\" for=\"video_51\"&gt;Ecommerce&lt;/h1&gt;&lt;span class=\"block-edit fa fa-edit\" for=\"video_51\"&gt;&lt;/span&gt;\n        &lt;div class=\"playpause\" for=\"video_51\"&gt;&lt;/div&gt;\n        &lt;video id=\"video_51\" movieid=\"51\" class=\"video-list video\" src=\"videos/mena.mp4\" duration=\"14.984\" frames=\"375\"&gt;&lt;/video&gt;\n    &lt;/div&gt;\n\n    &lt;div id=\"10\" class=\"sidebar_movie-block ui-draggable\" style=\"position: relative;\"&gt;\n        &lt;h1 class=\"title\" for=\"video_10\"&gt;Travel&lt;/h1&gt;&lt;span class=\"block-edit fa fa-edit\" for=\"video_10\"&gt;&lt;/span&gt;\n        &lt;div class=\"playpause\" for=\"video_10\"&gt;&lt;/div&gt;\n        &lt;video id=\"video_10\" movieid=\"10\" class=\"video-list video\" src=\"videos/whats_your.mp4\" duration=\"3.344\" frames=\"84\"&gt;&lt;/video&gt;\n    &lt;/div&gt;\n\n    &lt;div id=\"12\" class=\"sidebar_movie-block ui-draggable\" style=\"position: relative;\"&gt;\n        &lt;h1 class=\"title\" for=\"video_12\"&gt;CRM&lt;/h1&gt;&lt;span class=\"block-edit fa fa-edit\" for=\"video_12\"&gt;&lt;/span&gt;\n        &lt;div class=\"playpause\" for=\"video_12\"&gt;&lt;/div&gt;\n        &lt;video id=\"video_12\" movieid=\"12\" class=\"video-list video\" src=\"videos/and_in.mp4\" duration=\"5.104\" frames=\"128\"&gt;&lt;/video&gt;\n    &lt;/div&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>Here is the js code for playing the video:</p>\n\n<pre><code>var myVideo = $(\".sidebar_movie-block\").find(\"video\").attr('id');\n            console.log(myVideo);\n            // $(\"#\" + myVideo).play();\n            $(\".playpause\").on('click', function(){\n                  $(myVideo).get[0].play();            \n            })\n</code></pre>\n\n<p>Unfortunately, I am getting the following error!</p>\n\n<blockquote>\n  <p>Uncaught TypeError: Cannot read property 'play' of undefined</p>\n</blockquote>\n\n<p>What's wrong with my code?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 32611, "user_id": 9819146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ioXmnWNrB_w/AAAAAAAAAAI/AAAAAAAAADs/Q47JYDWDFyo/photo.jpg?sz=128", "display_name": "Maheer Ali", "link": "https://stackoverflow.com/users/9819146/maheer-ali"}, "edited": false, "score": 0, "creation_date": 1562182407, "post_id": 56876847, "comment_id": 100302287, "body": "Can you please how example input?"}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1562182413, "post_id": 56876847, "comment_id": 100302291, "body": "do you have some data to illustrate the functionality and the result?"}, {"owner": {"reputation": 3621, "user_id": 6188402, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a8bdb7cbe81f5544f0ddc6ded12a23f1?s=128&d=identicon&r=PG&f=1", "display_name": "Washington Guedes", "link": "https://stackoverflow.com/users/6188402/washington-guedes"}, "edited": false, "score": 1, "creation_date": 1562182837, "post_id": 56876847, "comment_id": 100302434, "body": "<i>&quot;filter() can run when some() will return true or false&quot;</i> it is exactly how it works"}, {"owner": {"reputation": 3621, "user_id": 6188402, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a8bdb7cbe81f5544f0ddc6ded12a23f1?s=128&d=identicon&r=PG&f=1", "display_name": "Washington Guedes", "link": "https://stackoverflow.com/users/6188402/washington-guedes"}, "edited": false, "score": 0, "creation_date": 1562183383, "post_id": 56876847, "comment_id": 100302637, "body": "Example:  <code>arr</code> is your collection of cards (each having id and name), <code>values</code> is my collection of cards (also having id an name each one). Your <code>similarity</code> function will return every of your <code>arr</code> cards that I also have."}], "answers": [{"tags": [], "owner": {"reputation": 3582, "user_id": 2515275, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/d4459ef3a4b5b412f0aaa199bf0798d9?s=128&d=identicon&r=PG", "display_name": "Benny Powers", "link": "https://stackoverflow.com/users/2515275/benny-powers"}, "is_accepted": false, "score": -4, "last_activity_date": 1562182802, "creation_date": 1562182802, "answer_id": 56876935, "question_id": 56876847, "link": "https://stackoverflow.com/questions/56876847/what-happen-when-i-run-array-some-in-array-filter/56876935#56876935", "title": "What happen when i run array.some in array filter", "body": "<p>This is a good technique if you want to check for array intersection.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const vowels = [...'AEIOU'];\nconst isVowel = x =&gt; vowels.some(v =&gt; v === x);\nconst hasVowel = string =&gt; [...string].filter(isVowel).length &gt; 0;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 9186937, "user_type": "registered", "profile_image": "https://graph.facebook.com/574244299590831/picture?type=large", "display_name": "Tu\u1ea5n Ki\u1ec7t", "link": "https://stackoverflow.com/users/9186937/tu%e1%ba%a5n-ki%e1%bb%87t"}, "edited": false, "score": 1, "creation_date": 1562183440, "post_id": 56877009, "comment_id": 100302654, "body": "tks @weegee , now i knew how it work, tks you so much."}, {"owner": {"reputation": 2491, "user_id": 10967889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/83qip.jpg?s=128&g=1", "display_name": "weegee", "link": "https://stackoverflow.com/users/10967889/weegee"}, "reply_to_user": {"reputation": 1, "user_id": 9186937, "user_type": "registered", "profile_image": "https://graph.facebook.com/574244299590831/picture?type=large", "display_name": "Tu\u1ea5n Ki\u1ec7t", "link": "https://stackoverflow.com/users/9186937/tu%e1%ba%a5n-ki%e1%bb%87t"}, "edited": false, "score": 0, "creation_date": 1562183489, "post_id": 56877009, "comment_id": 100302675, "body": "@Tu\u1ea5nKi\u1ec7t wlcum hapy to hlp"}], "tags": [], "owner": {"reputation": 2491, "user_id": 10967889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/83qip.jpg?s=128&g=1", "display_name": "weegee", "link": "https://stackoverflow.com/users/10967889/weegee"}, "is_accepted": false, "score": 0, "last_activity_date": 1562183167, "creation_date": 1562183167, "answer_id": 56877009, "question_id": 56876847, "link": "https://stackoverflow.com/questions/56876847/what-happen-when-i-run-array-some-in-array-filter/56877009#56877009", "title": "What happen when i run array.some in array filter", "body": "<p>You are Filtering the array, then passing this condition inside the <code>some</code></p>\n\n<pre><code>(m.id === item.id) &amp;&amp; (m.name === item.name)\n</code></pre>\n\n<p>If the id of the second array (here, <code>m</code> is the second array's objects) is equal to the first array's id (here, <code>item</code> is the array's objects) and the name is equal to the first array's name property. If yes then it will return true. So the <code>filter</code> gets a true and if is does, it will return that particular object for which it gets a true</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let arr1 = [{ id: 1, name: \"kiet\" }, { id: 2, name: 'phan' }, { id: 3, name: 'tuan'}]\r\nlet arr2 = [ { id: 1, name: \"kiet\" }, { id: 2, name: 'haha' }, { id: 5, name: 'tuan' } ]\r\nconst similarity = (arr, values) =&gt; arr.filter(item =&gt; values.some(m =&gt; (m.id === item.id) &amp;&amp; (m.name === item.name)));\r\nconsole.log(similarity(arr1,arr2))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 1, "last_activity_date": 1562184544, "last_edit_date": 1562184544, "creation_date": 1562183285, "answer_id": 56877038, "question_id": 56876847, "link": "https://stackoverflow.com/questions/56876847/what-happen-when-i-run-array-some-in-array-filter/56877038#56877038", "title": "What happen when i run array.some in array filter", "body": "<p>You get the elements from the array which have the same properties <code>id</code>/<code>name</code> as the values array.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\" rel=\"nofollow noreferrer\"><code>Array#filter</code></a> needs a (kind of) boolean value and if <code>true</code> or <a href=\"https://developer.mozilla.org/en-US/docs/Glossary/Truthy\" rel=\"nofollow noreferrer\">truthy</a>, then the item is taken to the new array. </p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some\" rel=\"nofollow noreferrer\"><code>Array#some</code></a> checks an item and if the callback returns a <em>truthy</em> value, then it returns <code>true</code>, if not then <code>false</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const\r\n    similarity = (array, values) =&gt; array.filter(item =&gt; values.some(m =&gt; m.id === item.id &amp;&amp; m.name === item.name)),\r\n    arr1 = [ { id: 1, name: \"kiet\" }, { id: 2, name: 'phan' }, { id: 3, name: 'tuan' }],\r\n    arr2 = [ { id: 1, name: \"kiet\" }, { id: 2, name: 'haha' }, { id: 5, name: 'tuan' }],\r\n    result = similarity(arr1, arr2);\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>For larger data sets, you could take a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set\" rel=\"nofollow noreferrer\"><code>Set</code></a>, this is iterated once with a combined value and checked against for filtering.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const\r\n    similarity = (array, values) =&gt; {\r\n        const\r\n            getKey = ({ id, name }) =&gt; [id, name].join('|'),\r\n            keys = new Set(values.map(getKey));\r\n\r\n        return array.filter(o =&gt; keys.has(getKey(o)));\r\n    },\r\n    arr1 = [ { id: 1, name: \"kiet\" }, { id: 2, name: 'phan' }, { id: 3, name: 'tuan' }],\r\n    arr2 = [ { id: 1, name: \"kiet\" }, { id: 2, name: 'haha' }, { id: 5, name: 'tuan' }],\r\n    result = similarity(arr1, arr2);\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 9186937, "user_type": "registered", "profile_image": "https://graph.facebook.com/574244299590831/picture?type=large", "display_name": "Tu\u1ea5n Ki\u1ec7t", "link": "https://stackoverflow.com/users/9186937/tu%e1%ba%a5n-ki%e1%bb%87t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1562192573, "creation_date": 1562182337, "last_edit_date": 1562192573, "question_id": 56876847, "link": "https://stackoverflow.com/questions/56876847/what-happen-when-i-run-array-some-in-array-filter", "title": "What happen when i run array.some in array filter", "body": "<p>I just learned a new trick to find the same object in 2 array object, it works very well. it uses array.filter and array.some, as code bellow, but I don't understand how <code>filter()</code> can run when <code>some()</code> will return true or false.</p>\n\n<pre><code>const similarity = (arr, values) =&gt; arr.filter(item =&gt; values.some(m =&gt; (m.id === item.id) &amp;&amp; (m.name === item.name)));\n</code></pre>\n\n<p>my input:</p>\n\n<pre><code>let arr1 = [\n    {\n        id: 1,\n        name: \"kiet\"\n    },\n    {\n        id: 2,\n        name: 'phan'\n    },\n    {\n        id: 3,\n        name: 'tuan'\n    }]\n\nlet arr2 = [\n    {\n        id: 1,\n        name: \"kiet\"\n    },\n    {\n        id: 2,\n        name: 'haha'\n    },\n    {\n        id: 5,\n        name: 'tuan'\n    }\n]\n</code></pre>\n\n<p>my result :</p>\n\n<pre><code>[ { id: 1, name: 'kiet' } ]\n</code></pre>\n"}, {"tags": ["javascript", "html", "reactjs", "jsx"], "comments": [{"owner": {"reputation": 496, "user_id": 11396520, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YXfCC.jpg?s=128&g=1", "display_name": "Dorian Mazur", "link": "https://stackoverflow.com/users/11396520/dorian-mazur"}, "edited": false, "score": 0, "creation_date": 1562182396, "post_id": 56876821, "comment_id": 100302284, "body": "Do you use any code formatter?"}, {"owner": {"reputation": 717, "user_id": 10727653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d7be957807b4ed2cf0c7552731efc10?s=128&d=identicon&r=PG&f=1", "display_name": "walee", "link": "https://stackoverflow.com/users/10727653/walee"}, "reply_to_user": {"reputation": 496, "user_id": 11396520, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YXfCC.jpg?s=128&g=1", "display_name": "Dorian Mazur", "link": "https://stackoverflow.com/users/11396520/dorian-mazur"}, "edited": false, "score": 0, "creation_date": 1562182594, "post_id": 56876821, "comment_id": 100302345, "body": "i use Prettier - Code formatter and Simple React Snippets , but as i said i have disabled them."}, {"owner": {"reputation": 496, "user_id": 11396520, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YXfCC.jpg?s=128&g=1", "display_name": "Dorian Mazur", "link": "https://stackoverflow.com/users/11396520/dorian-mazur"}, "edited": false, "score": 0, "creation_date": 1562182786, "post_id": 56876821, "comment_id": 100302420, "body": "impossible, your code is formatted so much"}, {"owner": {"reputation": 717, "user_id": 10727653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d7be957807b4ed2cf0c7552731efc10?s=128&d=identicon&r=PG&f=1", "display_name": "walee", "link": "https://stackoverflow.com/users/10727653/walee"}, "reply_to_user": {"reputation": 496, "user_id": 11396520, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YXfCC.jpg?s=128&g=1", "display_name": "Dorian Mazur", "link": "https://stackoverflow.com/users/11396520/dorian-mazur"}, "edited": false, "score": 0, "creation_date": 1562183156, "post_id": 56876821, "comment_id": 100302561, "body": "I see even if i have disabled them, its affecting somehow, now i have uninstalled and its working... dont know why, if i want to use those extensions, how to save my code without those ? parenthesis, cuz its forcing to use them..."}], "owner": {"reputation": 717, "user_id": 10727653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d7be957807b4ed2cf0c7552731efc10?s=128&d=identicon&r=PG&f=1", "display_name": "walee", "link": "https://stackoverflow.com/users/10727653/walee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562184607, "creation_date": 1562182230, "last_edit_date": 1562184607, "question_id": 56876821, "link": "https://stackoverflow.com/questions/56876821/automatic-parenthesis-visual-studio-code-reactjs", "title": "Automatic parenthesis visual studio code (reactjs)", "body": "<p>Does different programs behave differently regarding adding automatically parenthesis, even if i dont want to put it, im beginner on reactjs and coding in two different places on visual studio code and <a href=\"https://codesandbox.io\" rel=\"nofollow noreferrer\">https://codesandbox.io</a>, I have a code where it displays three tags (list) the same code on codesandbox has not any error message and work without any problem but on visual studio code( i have disabled all extensions) it automatically adds parenthesis and even if i delete it, it saves it with parenthesis, how to save on visual studio code without it adding automatically parenthesis: here is the code </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import React, { Component } from \"react\";\r\n\r\nclass Counter extends Component {\r\n  state = {\r\n    count: 0,\r\n    tags: [\"tag1\", \"tag2\", \"tag3\"]\r\n  };\r\n\r\n  renderTags() {\r\n    if (this.state.tags.length === 0) return &lt;p&gt; There are no tags!&lt;/p&gt;;\r\n\r\n    return &lt;ul&gt;{this.state.tags.map(tag =&gt; &lt;li key={tag}&gt;{tag} &lt;/li&gt;)}&lt;/ul&gt;;\r\n  }\r\n\r\n  render() {\r\n    return &lt;div&gt;{this.renderTags()}&lt;/div&gt;;\r\n  }\r\n}\r\nexport default Counter;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>English is not my mother language so sorry for mistakes, here is how it changed my code : </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  renderTags() {\r\n    if (this.state.tags.length === 0) return &lt;p&gt; There are no tags!&lt;/p&gt;;\r\n\r\n    return (\r\n      &lt;ul&gt;\r\n        {this.state.tags.map(tag =&gt; (\r\n          &lt;li key={tag}&gt;{tag} &lt;/li&gt;\r\n        ))}\r\n      &lt;/ul&gt;\r\n    );\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 45386, "user_id": 1264804, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/oYX71.png?s=128&g=1", "display_name": "isherwood", "link": "https://stackoverflow.com/users/1264804/isherwood"}, "edited": false, "score": 0, "creation_date": 1562183140, "post_id": 56876816, "comment_id": 100302554, "body": "Also, put all new information in your question, not down here. Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "is_accepted": false, "score": 0, "last_activity_date": 1562183300, "creation_date": 1562183300, "answer_id": 56877043, "question_id": 56876816, "link": "https://stackoverflow.com/questions/56876816/trying-to-move-html-element-to-a-specific-location-within-a-table/56877043#56877043", "title": "Trying to move html element to a specific location within a table", "body": "<p>Say you have the following structure for a html table:</p>\n\n<pre><code> &lt;table id=\"myTable\"&gt;\n  &lt;tr&gt;\n    &lt;td&gt;Cell A&lt;/td&gt;\n    &lt;td&gt;Cell B&lt;/td&gt;\n  &lt;/tr&gt;\n    &lt;tr&gt;\n    &lt;td&gt;Cell C&lt;/td&gt;\n    &lt;td&gt;Cell D&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt; \n</code></pre>\n\n<p>As you can see every cell is a <code>&lt;td&gt;</code> element.</p>\n\n<p>Since our table has an unique id - myTable - we can get all it's TD elements by calling:</p>\n\n<pre><code>var cells=document.getElementById(\"myTable\").getElementsByTagName(\"td\");\n</code></pre>\n\n<p>The variable <strong>cells</strong> holds a html collection of all the TD elements of <strong>myTable</strong> but what we are really interested in is the actual content of a cell - so we need to loop over this array and refer to each cells content using <strong>.firstChild.data</strong>. \nIf we compare this to a string we can see which cell matches.</p>\n\n<p>Here's an example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function getCell(myString) {\r\n  var cells = document.getElementById(\"myTable\").getElementsByTagName(\"td\");\r\n  for (var a = 0; a &lt; cells.length; a++) {\r\n    if (cells[a].firstChild.data == myString) {\r\n      return cells[a];\r\n    }\r\n  }\r\n  return null;\r\n}\r\nconsole.log(getCell(\"Cell C\"));</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table id=\"myTable\"&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Cell A&lt;/td&gt;\r\n    &lt;td&gt;Cell B&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Cell C&lt;/td&gt;\r\n    &lt;td&gt;Cell D&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 133, "user_id": 11729516, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uTRghQKjdJA/AAAAAAAAAAI/AAAAAAAAAA4/CaXCT9HsPXE/photo.jpg?sz=128", "display_name": "Prerona Kundu", "link": "https://stackoverflow.com/users/11729516/prerona-kundu"}, "edited": false, "score": 0, "creation_date": 1562188007, "post_id": 56877076, "comment_id": 100304406, "body": "Is there a way to replicate this without using innerHTML?"}, {"owner": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "reply_to_user": {"reputation": 133, "user_id": 11729516, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uTRghQKjdJA/AAAAAAAAAAI/AAAAAAAAAA4/CaXCT9HsPXE/photo.jpg?sz=128", "display_name": "Prerona Kundu", "link": "https://stackoverflow.com/users/11729516/prerona-kundu"}, "edited": false, "score": 0, "creation_date": 1562189711, "post_id": 56877076, "comment_id": 100305020, "body": "You can use cell.textContent instead of cell.innerHTML"}], "tags": [], "owner": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "is_accepted": true, "score": 1, "last_activity_date": 1562183509, "creation_date": 1562183509, "answer_id": 56877076, "question_id": 56876816, "link": "https://stackoverflow.com/questions/56876816/trying-to-move-html-element-to-a-specific-location-within-a-table/56877076#56877076", "title": "Trying to move html element to a specific location within a table", "body": "<p>To achieve expected result, use below option using <code>document.getElementsByTagName</code> and <code>prepend</code> to add button to cell value</p>\n\n<ol>\n<li>Get all tds using <code>document.getElementsByTagName('TD')</code></li>\n<li>Loop all td elements using for of </li>\n<li>Look for cell with text xyz and prepend disabled button- abcd</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function moveObject() {\r\n        let tds = document.getElementsByTagName('TD')\r\n    let btn = document.getElementById('abcd')\r\n        for(let cell of tds){\r\n      if(cell.innerHTML ==='xyz'){\r\n        cell.prepend(btn)\r\n      }\r\n    }\r\n        }</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>table tr td{\r\n  border: 1px solid black;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;test&lt;/td&gt;\r\n    &lt;td&gt;xyz&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n&lt;/table&gt;\r\n&lt;button  id=\"abcd\" disabled&gt;abcd&lt;/button&gt;\r\n&lt;button onclick=\"moveObject()\"&gt;Move&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 31533, "user_id": 2813224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/602e78d7da7bd6353c8ee51a17826037?s=128&d=identicon&r=PG", "display_name": "zer00ne", "link": "https://stackoverflow.com/users/2813224/zer00ne"}, "is_accepted": false, "score": 0, "last_activity_date": 1562190457, "creation_date": 1562190457, "answer_id": 56878318, "question_id": 56876816, "link": "https://stackoverflow.com/questions/56876816/trying-to-move-html-element-to-a-specific-location-within-a-table/56878318#56878318", "title": "Trying to move html element to a specific location within a table", "body": "<p><code>prompt()</code> is a crappy interface. Do this instead:</p>\n\n<ul>\n<li>Wrap everything in a block level element (<code>div</code>, <code>section</code>, <code>main</code>, etc), we'll refer to it as the <em>\"parent\"</em></li>\n<li><p>Register the parent to the click event either by on-event property:</p>\n\n<pre><code>parent.onclick = callback\n</code></pre>\n\n<p>or by Event Listener:</p>\n\n<pre><code>parent.addEventListener('click', callback) \n</code></pre>\n\n<p>now the parent will detect all clicks on anything within the parent. </p></li>\n<li><p>Use <code>event.target</code> to determine what was clicked. No id, class, or tagName is needed to identify <code>event.target</code>, but use <code>.matches()</code> to narrow down <code>event.target</code> in if/else control.</p></li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function addButton(event) {\r\n  const clicked = event.target;\r\n  const buttons = this.querySelectorAll('button');\r\n  const prompt = this.querySelector('legend');\r\n\r\n  if (clicked.matches('button')) {\r\n    if (clicked.matches('.selected')) {\r\n      clicked.classList.remove('selected');\r\n      prompt.textContent = 'Click a Button';\r\n      prompt.style.color = 'black';\r\n    } else {\r\n      for (let button of buttons) {\r\n        button.classList.remove('selected');\r\n      }\r\n      clicked.classList.add('selected');\r\n      prompt.textContent = 'Click a Cell';\r\n      prompt.style.color = 'red';\r\n    }\r\n  } else if (clicked.matches('td')) {\r\n    let button = this.querySelector('.selected');\r\n    if (button) {\r\n      clicked.appendChild(button);\r\n    } else {\r\n      return false;\r\n    }\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\ndocument.querySelector('main').onclick = addButton;</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>table {\r\n  table-layout: fixed;\r\n  border-spacing: 3px;\r\n  width: 100%;\r\n}\r\n\r\nth,\r\ntd {\r\n  width: 33%;\r\n  border: 1px solid #000;\r\n  padding: 1px\r\n}\r\n\r\nth::before,\r\ntd::before {\r\n  content: '\\a0';\r\n}\r\n\r\nlegend {\r\n  font-size: 1.75rem\r\n}\r\n\r\nbutton {\r\n  display: inline-block;\r\n  margin: 0 5px;\r\n  line-height: 100%;\r\n}\r\n\r\n.selected {\r\n  color: red;\r\n  outline: 2px solid red;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;main&gt;\r\n  &lt;table&gt;\r\n    &lt;thead&gt;\r\n      &lt;tr&gt;&lt;th&gt;A&lt;/th&gt;&lt;th&gt;B&lt;/th&gt;&lt;th&gt;C&lt;/th&gt;&lt;/tr&gt;\r\n    &lt;/thead&gt;\r\n    &lt;tbody&gt;\r\n      &lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;\r\n      &lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;\r\n      &lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;\r\n      &lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;\r\n      &lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;\r\n    &lt;/tbody&gt;\r\n  &lt;/table&gt;\r\n\r\n  &lt;fieldset&gt;\r\n    &lt;legend&gt;Click a Button&lt;/legend&gt;\r\n    &lt;button&gt;X&lt;/button&gt;\r\n    &lt;button&gt;X&lt;/button&gt;\r\n    &lt;button&gt;X&lt;/button&gt;\r\n    &lt;button&gt;X&lt;/button&gt;\r\n  &lt;/fieldset&gt;\r\n&lt;/main&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 133, "user_id": 11729516, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uTRghQKjdJA/AAAAAAAAAAI/AAAAAAAAAA4/CaXCT9HsPXE/photo.jpg?sz=128", "display_name": "Prerona Kundu", "link": "https://stackoverflow.com/users/11729516/prerona-kundu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 56877076, "answer_count": 3, "score": 0, "last_activity_date": 1562190457, "creation_date": 1562182214, "last_edit_date": 1562183166, "question_id": 56876816, "link": "https://stackoverflow.com/questions/56876816/trying-to-move-html-element-to-a-specific-location-within-a-table", "title": "Trying to move html element to a specific location within a table", "body": "<p>I'm trying to move an HTML element to a specific location within a table. For example, I have a disabled button labeled \"abcd\" and a table with cell value of \"xyz\". I want to move the button \"abcd\" on top of the cell with the value \"xyz\" by referencing that value.</p>\n\n<p>So far, the code I have for the javascript function looks like this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    function moveObject() {\n        var label = prompt(\"Please enter object to move\", \"\");\n        var location = prompt(\"Please enter cell location\", \"\");\n        var element = document.getElementById(label);\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>How do I reference the cell value so that I can tell the object to move there?</p>\n"}, {"tags": ["javascript", "string", "integer", "int", "parseint"], "comments": [{"owner": {"reputation": 3631, "user_id": 2744722, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/YN6k2.jpg?s=128&g=1", "display_name": "Bryan Dellinger", "link": "https://stackoverflow.com/users/2744722/bryan-dellinger"}, "edited": false, "score": 0, "creation_date": 1562182115, "post_id": 56876775, "comment_id": 100302157, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/eval\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 32611, "user_id": 9819146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ioXmnWNrB_w/AAAAAAAAAAI/AAAAAAAAADs/Q47JYDWDFyo/photo.jpg?sz=128", "display_name": "Maheer Ali", "link": "https://stackoverflow.com/users/9819146/maheer-ali"}, "edited": false, "score": 0, "creation_date": 1562182135, "post_id": 56876775, "comment_id": 100302166, "body": "I think <code>eval</code> will work here"}, {"owner": {"reputation": 7547, "user_id": 3429323, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fc5012a49b4671fdf8c473ee90190fc0?s=128&d=identicon&r=PG", "display_name": "Elias Soares", "link": "https://stackoverflow.com/users/3429323/elias-soares"}, "edited": false, "score": 2, "creation_date": 1562182178, "post_id": 56876775, "comment_id": 100302187, "body": "Eval is evil..."}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "reply_to_user": {"reputation": 7547, "user_id": 3429323, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fc5012a49b4671fdf8c473ee90190fc0?s=128&d=identicon&r=PG", "display_name": "Elias Soares", "link": "https://stackoverflow.com/users/3429323/elias-soares"}, "edited": false, "score": 0, "creation_date": 1562182238, "post_id": 56876775, "comment_id": 100302209, "body": "@EliasSoares in general I&#39;d agree, but if the OP&#39;s code is <i>constructing</i> the expressions then it&#39;s not dangerous; the only real alternative is to write an expression parser of one&#39;s own."}, {"owner": {"reputation": 3108, "user_id": 1336843, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d2e1972ec132432a0956d2c12529c6b2?s=128&d=identicon&r=PG", "display_name": "Bali Balo", "link": "https://stackoverflow.com/users/1336843/bali-balo"}, "edited": false, "score": 1, "creation_date": 1562182565, "post_id": 56876775, "comment_id": 100302335, "body": "If you want to avoid potential code execution, you can use an existing library like <a href=\"https://mathjs.org/docs/expressions/parsing.html\" rel=\"nofollow noreferrer\">mathjs</a>"}], "answers": [{"tags": [], "owner": {"reputation": 123, "user_id": 4227225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x1rBO.jpg?s=128&g=1", "display_name": "Cleiton Tortato", "link": "https://stackoverflow.com/users/4227225/cleiton-tortato"}, "is_accepted": true, "score": 0, "last_activity_date": 1562182418, "creation_date": 1562182418, "answer_id": 56876864, "question_id": 56876775, "link": "https://stackoverflow.com/questions/56876775/how-to-calculate-numbers-in-a-string-in-javascript/56876864#56876864", "title": "how to calculate numbers in a string in javascript?", "body": "<p>Use <code>eval()</code> function</p>\n\n<pre><code>var expression = '100-50+30';\nconsole.log(eval(expression));\n</code></pre>\n\n<p>The <code>eval()</code> function evaluates JavaScript code represented as a string.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/eval\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/eval</a></p>\n"}, {"comments": [{"owner": {"reputation": 3108, "user_id": 1336843, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d2e1972ec132432a0956d2c12529c6b2?s=128&d=identicon&r=PG", "display_name": "Bali Balo", "link": "https://stackoverflow.com/users/1336843/bali-balo"}, "edited": false, "score": 1, "creation_date": 1562183035, "post_id": 56876887, "comment_id": 100302522, "body": "If you want a more robust check e.g. avoid potential error throwing, ensure the format using <code>&#47;^[+-]?\\d+([+&#47;*-]\\d+)*$&#47;.test(input)</code> and do not execute if it returns false. If you want to also handle decimals it will be a bit more complex (and will depend on if you want to support things like <code>.5</code> and <code>1.</code> as valid numbers)"}], "tags": [], "owner": {"reputation": 5657, "user_id": 10868192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8RKqk.jpg?s=128&g=1", "display_name": "antonku", "link": "https://stackoverflow.com/users/10868192/antonku"}, "is_accepted": false, "score": 1, "last_activity_date": 1562182536, "creation_date": 1562182536, "answer_id": 56876887, "question_id": 56876775, "link": "https://stackoverflow.com/questions/56876775/how-to-calculate-numbers-in-a-string-in-javascript/56876887#56876887", "title": "how to calculate numbers in a string in javascript?", "body": "<p>You can simply use <code>eval</code>, but for security reasons I would recommend removing everything from user input except for digits and permitted operators before evaluating the expression:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const input = '100-50+30 [some malicious code]'\r\n\r\nconst result = eval(input.replace(/[^0-9\\+\\-\\*\\/]/g, ''));\r\n\r\nconsole.log(result)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 13, "user_id": 9207957, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vOFqF.jpg?s=128&g=1", "display_name": "TheMurteza", "link": "https://stackoverflow.com/users/9207957/themurteza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "accepted_answer_id": 56876864, "answer_count": 2, "score": 0, "last_activity_date": 1562182536, "creation_date": 1562181932, "last_edit_date": 1562182017, "question_id": 56876775, "link": "https://stackoverflow.com/questions/56876775/how-to-calculate-numbers-in-a-string-in-javascript", "title": "how to calculate numbers in a string in javascript?", "body": "<p>I'm getting some inputs from the user and saving them in a div tag just like a calculator works, for example, a user puts 100-50+30 then I store it in div tag at and when user clicks on go button I want to show him the result which is 80.\nI tried parseint and number since string contains operators like + / * these don't work</p>\n\n<pre><code>var a = document.querySelector(\".output\").innerHTML;\n</code></pre>\n"}, {"tags": ["javascript", "react-native"], "comments": [{"owner": {"reputation": 107, "user_id": 9440543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47138e4fae2fadf55873751f75d7269?s=128&d=identicon&r=PG&f=1", "display_name": "1pocketaces1", "link": "https://stackoverflow.com/users/9440543/1pocketaces1"}, "edited": false, "score": 0, "creation_date": 1562191934, "post_id": 56876762, "comment_id": 100305604, "body": "What do you mean by: &#39;So, in the Homepage I have ,in the top right of the app, the logout (but it is for everything not for some Role)&#39;"}, {"owner": {"reputation": 107, "user_id": 9440543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47138e4fae2fadf55873751f75d7269?s=128&d=identicon&r=PG&f=1", "display_name": "1pocketaces1", "link": "https://stackoverflow.com/users/9440543/1pocketaces1"}, "edited": false, "score": 0, "creation_date": 1562191970, "post_id": 56876762, "comment_id": 100305611, "body": "Does it always just say &#39;Logout&#39;?"}, {"owner": {"reputation": 950, "user_id": 11604252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb643e8a0029140a5790891e0add29ec?s=128&d=identicon&r=PG&f=1", "display_name": "Jack23", "link": "https://stackoverflow.com/users/11604252/jack23"}, "reply_to_user": {"reputation": 107, "user_id": 9440543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47138e4fae2fadf55873751f75d7269?s=128&d=identicon&r=PG&f=1", "display_name": "1pocketaces1", "link": "https://stackoverflow.com/users/9440543/1pocketaces1"}, "edited": false, "score": 0, "creation_date": 1562224372, "post_id": 56876762, "comment_id": 100312559, "body": "It is a logout button but every user can logout"}], "answers": [{"comments": [{"owner": {"reputation": 950, "user_id": 11604252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb643e8a0029140a5790891e0add29ec?s=128&d=identicon&r=PG&f=1", "display_name": "Jack23", "link": "https://stackoverflow.com/users/11604252/jack23"}, "edited": false, "score": 0, "creation_date": 1562225533, "post_id": 56878652, "comment_id": 100313167, "body": "The problem is that in this page global.user.data.Person.Roles; is not defined and I receive an error."}, {"owner": {"reputation": 107, "user_id": 9440543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47138e4fae2fadf55873751f75d7269?s=128&d=identicon&r=PG&f=1", "display_name": "1pocketaces1", "link": "https://stackoverflow.com/users/9440543/1pocketaces1"}, "reply_to_user": {"reputation": 950, "user_id": 11604252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb643e8a0029140a5790891e0add29ec?s=128&d=identicon&r=PG&f=1", "display_name": "Jack23", "link": "https://stackoverflow.com/users/11604252/jack23"}, "edited": false, "score": 0, "creation_date": 1563041887, "post_id": 56878652, "comment_id": 100573794, "body": "Is it defined in your original implementation when called in the Homepage component?"}, {"owner": {"reputation": 950, "user_id": 11604252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb643e8a0029140a5790891e0add29ec?s=128&d=identicon&r=PG&f=1", "display_name": "Jack23", "link": "https://stackoverflow.com/users/11604252/jack23"}, "edited": false, "score": 0, "creation_date": 1563265658, "post_id": 56878652, "comment_id": 100632387, "body": "Yes it is defined in the homepage"}], "tags": [], "owner": {"reputation": 107, "user_id": 9440543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47138e4fae2fadf55873751f75d7269?s=128&d=identicon&r=PG&f=1", "display_name": "1pocketaces1", "link": "https://stackoverflow.com/users/9440543/1pocketaces1"}, "is_accepted": false, "score": 0, "last_activity_date": 1562192871, "creation_date": 1562192871, "answer_id": 56878652, "question_id": 56876762, "link": "https://stackoverflow.com/questions/56876762/create-navbar-to-do-action/56878652#56878652", "title": "Create NavBar to do Action", "body": "<p>It sounds like you need to implement some more logic up where you render the scene. try something along these lines:</p>\n\n<pre><code>static logout() {\nUser.clearLoggedUser();\nApp.redirectLogout();\n}\n\nrender() {\n    return (\n\n      // These variables could also be stored in the state, \n      // depending on when/if they change and the scope you need them in.\n\n      let currentRole = global.user.data.Person.Roles; // Or wherever the \n                                                // current role is stored\n\n      let isLoggedIn = // boolean value to hold if anyone is logged in or not\n\n      &lt;Router&gt;\n      &lt;Scene\n            key=\"homepage\"\n            component={Homepage}\n            type=\"reset\"\n            leftTitle=\"Home\"\n            leftButtonTextStyle={{ color: \"#ffffff\" }}\n            onLeft={() =&gt; Actions.authentication()}\n            rightButtonTextStyle={{ color: \"#ffffff\" }}\n\n            rightTitle={isLoggedIn ? \"Logout \" + currentRole : \"\"}\n\n            onRight={isLoggedIn ? () =&gt; App.logout() : null}\n\n            navigationBarStyle={{ backgroundColor: \"#64c7c0\" }}\n          /&gt;\n</code></pre>\n\n<p>So you need some logic on the right button that tells whether or not it should display and whether or not it should be clicked. You can also create a variable Logout button using the current user's role, but you need to access that role name one scope higher than the Homepage.</p>\n\n<p>The above code would result in the right button saying 'Logout Manager' if the current role Manager was logged in, and if nobody was logged in, right button would say nothing and have a null click action.</p>\n"}], "owner": {"reputation": 950, "user_id": 11604252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb643e8a0029140a5790891e0add29ec?s=128&d=identicon&r=PG&f=1", "display_name": "Jack23", "link": "https://stackoverflow.com/users/11604252/jack23"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1562192871, "creation_date": 1562181853, "question_id": 56876762, "link": "https://stackoverflow.com/questions/56876762/create-navbar-to-do-action", "title": "Create NavBar to do Action", "body": "<p>I'm learning to use React-Native and I'm in trouble with this kind of problem. </p>\n\n<p>What I should do is to create a Navbar custom for a page that allows me to insert on the right a text that is visible depending on the user's role. (In particular, this text allows you to logout to a specific user role.)</p>\n\n<p>At the moment I have implemented this functionality for all the user. </p>\n\n<p>In the page where I put the Route and the Scene (<em>I Use Router-flux</em>), I have initialized the logout: </p>\n\n<pre><code>static logout() {\nUser.clearLoggedUser();\nApp.redirectLogout();\n}\n\n\n\nrender() {\n    return (\n      &lt;Router&gt;\n      &lt;Scene\n            key=\"homepage\"\n            component={Homepage}\n            type=\"reset\"\n            leftTitle=\"Home\"\n            leftButtonTextStyle={{ color: \"#ffffff\" }}\n            onLeft={() =&gt; Actions.authentication()}\n            rightButtonTextStyle={{ color: \"#ffffff\" }}\n            rightTitle=\"Logout\"\n            onRight={() =&gt; App.logout()}\n            navigationBarStyle={{ backgroundColor: \"#64c7c0\" }}\n          /&gt;\n</code></pre>\n\n<p>So, in the Homepage I have ,in the top right of the app, the logout (but it is for everything not for some Role).</p>\n\n<p>In the Homepage I take the roles:</p>\n\n<pre><code>class Homepage extends Component {\n    constructor(props) {\n        super(props);\n    }\n    render() {\n        const Roles = global.user.data.Person.Roles\n</code></pre>\n\n<p>So if {Roles} is equal to \"Some Role\" he shouldn't click (and see) the logout button. </p>\n\n<p>How can I do? Thanks for your help.</p>\n"}, {"tags": ["javascript", "chart.js"], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 10711831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d44a936926f45fce48f9a46be925006?s=128&d=identicon&r=PG&f=1", "display_name": "sHooP", "link": "https://stackoverflow.com/users/10711831/shoop"}, "edited": false, "score": 0, "creation_date": 1562183375, "post_id": 56877004, "comment_id": 100302632, "body": "Thanks! That works with my fiddle. My real data contains way more data though. Could it be that it can&#39;t be displayed due to too many bar-datapoints? Is there a fix?"}, {"owner": {"reputation": 11202, "user_id": 3775731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac52dbfc7688e1cc009d692118541469?s=128&d=identicon&r=PG", "display_name": "timclutton", "link": "https://stackoverflow.com/users/3775731/timclutton"}, "reply_to_user": {"reputation": 93, "user_id": 10711831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d44a936926f45fce48f9a46be925006?s=128&d=identicon&r=PG&f=1", "display_name": "sHooP", "link": "https://stackoverflow.com/users/10711831/shoop"}, "edited": false, "score": 0, "creation_date": 1562183538, "post_id": 56877004, "comment_id": 100302697, "body": "@sHooP You simply need to try it and see if there is a problem. It should work but might look bad and render slowly. You can read about <a href=\"https://www.chartjs.org/docs/latest/charts/line.html?h=perfo\" rel=\"nofollow noreferrer\">High Performance Line Charts</a> if you need further guidance."}], "tags": [], "owner": {"reputation": 11202, "user_id": 3775731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac52dbfc7688e1cc009d692118541469?s=128&d=identicon&r=PG", "display_name": "timclutton", "link": "https://stackoverflow.com/users/3775731/timclutton"}, "is_accepted": true, "score": 1, "last_activity_date": 1562183124, "creation_date": 1562183124, "answer_id": 56877004, "question_id": 56876711, "link": "https://stackoverflow.com/questions/56876711/mixed-diagram-line-bar-with-two-y-axis-wont-display-data-on-2nd-axis/56877004#56877004", "title": "Mixed Diagram (Line/Bar) with two y-Axis won&#39;t display data on 2nd Axis", "body": "<p>Chart.js lets you add a line to a bar chart, but not a bar to a line chart. So you need to set the <em>chart</em> type to bar, e.g.:</p>\n\n<pre><code>var config = {\n  type: 'line', // &lt;-- change to 'bar'!\n  ...\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 10711831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d44a936926f45fce48f9a46be925006?s=128&d=identicon&r=PG&f=1", "display_name": "sHooP", "link": "https://stackoverflow.com/users/10711831/shoop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 56877004, "answer_count": 1, "score": 2, "last_activity_date": 1562183433, "creation_date": 1562181566, "last_edit_date": 1562183433, "question_id": 56876711, "link": "https://stackoverflow.com/questions/56876711/mixed-diagram-line-bar-with-two-y-axis-wont-display-data-on-2nd-axis", "title": "Mixed Diagram (Line/Bar) with two y-Axis won&#39;t display data on 2nd Axis", "body": "<p>as title states. I'm trying to create a diagram with chart.js-2. The diagram is supposed to show datapairs for humidity and temperature. On the X-Axis i display time. I have two Y-Axis - one for temperature and another for humidity. Even though the data appears in the Tooltip it is not illustrated.</p>\n\n<p>The data is provided in this format:\nTimestamp;Sensor_ID;Temperature;Humidity;\n2019-06-29 11:13:56;1;24.60;51.80;</p>\n\n<p>Here is a fiddle with a \"working\" example: \n<a href=\"https://jsfiddle.net/sHooP_/ky4nha7L/22/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/sHooP_/ky4nha7L/22/</a></p>\n\n<pre><code>data: {\n        datasets: [{\n        type: 'bar',\n        yAxisID: 'Humidity',\n        label: 'Humidity',\n        backgroundColor: window.chartColors.blue,\n        data: objDataset_Humid_Filtered,\n        borderColor: 'blue',\n        borderWidth: 2,\n        fill: true,\n      }, {\n        type: 'line',\n        yAxisID: 'Temperature',\n        label: 'Temperature',\n        backgroundColor: window.chartColors.red,\n        borderColor: window.chartColors.red,\n        data: objDataset_Temp_Filtered,\n        fill: false\n      }]\n    }\u00b4\n</code></pre>\n\n<p>Thanks for any any answers! I'm starting to get frustrated about this.</p>\n\n<p>I'm also pretty sure my coding is not very clean (Beginner) so if you happen to have any tips feel free!</p>\n\n<p>Best regards,\nDavid</p>\n"}, {"tags": ["javascript", "html", "json"], "comments": [{"owner": {"reputation": 3132, "user_id": 3960815, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QKWIX.jpg?s=128&g=1", "display_name": "basic", "link": "https://stackoverflow.com/users/3960815/basic"}, "edited": false, "score": 0, "creation_date": 1562181676, "post_id": 56876697, "comment_id": 100302007, "body": "Your json is invalid. You don&#39;t use a ; in a json object. Also you have &quot; in your object2 but if you are accessing a key from object we wouldn&#39;t need that. How are you actually accessing it? Give us the actual code."}, {"owner": {"reputation": 422, "user_id": 5083456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-3aCVskJgx7Y/AAAAAAAAAAI/AAAAAAAACkE/ujlUOTqCCwo/photo.jpg?sz=128", "display_name": "IMustBeSomeone", "link": "https://stackoverflow.com/users/5083456/imustbesomeone"}, "reply_to_user": {"reputation": 3132, "user_id": 3960815, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QKWIX.jpg?s=128&g=1", "display_name": "basic", "link": "https://stackoverflow.com/users/3960815/basic"}, "edited": false, "score": 0, "creation_date": 1562181679, "post_id": 56876697, "comment_id": 100302009, "body": "Do you have any code that you&#39;ve tried? Also, yes, as @basic said, your JSON is invalid."}, {"owner": {"reputation": 163, "user_id": 8093189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6f717c6a2f7dd387511cd4f82c08b245?s=128&d=identicon&r=PG&f=1", "display_name": "spaff", "link": "https://stackoverflow.com/users/8093189/spaff"}, "reply_to_user": {"reputation": 422, "user_id": 5083456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-3aCVskJgx7Y/AAAAAAAAAAI/AAAAAAAACkE/ujlUOTqCCwo/photo.jpg?sz=128", "display_name": "IMustBeSomeone", "link": "https://stackoverflow.com/users/5083456/imustbesomeone"}, "edited": false, "score": 0, "creation_date": 1562182114, "post_id": 56876697, "comment_id": 100302156, "body": "Apologies on the JSON format. Those are example files. The real ones I&#39;m using work to get the String and the JSON itself. The only thing I have tried that even got close was eval(string) where string was object.variable. This failed as it said periods were not defined for eval(). @IMustBeSomeone"}], "answers": [{"comments": [{"owner": {"reputation": 163, "user_id": 8093189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6f717c6a2f7dd387511cd4f82c08b245?s=128&d=identicon&r=PG&f=1", "display_name": "spaff", "link": "https://stackoverflow.com/users/8093189/spaff"}, "edited": false, "score": 0, "creation_date": 1562183283, "post_id": 56876936, "comment_id": 100302601, "body": "I have only used .reduce a limited number of times so apologies if this is a silly question, but are &#39;a&#39; and &#39;b&#39; &quot;object&quot; and &quot;variable&quot; respectively?"}, {"owner": {"reputation": 862, "user_id": 4409834, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-G015Bz1NxeA/AAAAAAAAAAI/AAAAAAAAAEc/3QFP2KQPfyQ/photo.jpg?sz=128", "display_name": "Vishnu", "link": "https://stackoverflow.com/users/4409834/vishnu"}, "reply_to_user": {"reputation": 163, "user_id": 8093189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6f717c6a2f7dd387511cd4f82c08b245?s=128&d=identicon&r=PG&f=1", "display_name": "spaff", "link": "https://stackoverflow.com/users/8093189/spaff"}, "edited": false, "score": 2, "creation_date": 1562183496, "post_id": 56876936, "comment_id": 100302678, "body": "a is for the accumulator, which is file1(passed as second param for reduce function) and b is each item in the array of tagnames(seperated by a dot)."}, {"owner": {"reputation": 163, "user_id": 8093189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6f717c6a2f7dd387511cd4f82c08b245?s=128&d=identicon&r=PG&f=1", "display_name": "spaff", "link": "https://stackoverflow.com/users/8093189/spaff"}, "edited": false, "score": 0, "creation_date": 1562183769, "post_id": 56876936, "comment_id": 100302791, "body": "So if tag was something like &quot;object.one.two.three.variable&quot;, it would still work given that path exists?"}, {"owner": {"reputation": 163, "user_id": 8093189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6f717c6a2f7dd387511cd4f82c08b245?s=128&d=identicon&r=PG&f=1", "display_name": "spaff", "link": "https://stackoverflow.com/users/8093189/spaff"}, "edited": false, "score": 0, "creation_date": 1562330434, "post_id": 56876936, "comment_id": 100351199, "body": "Don&#39;t FULLY understand how it works, but it works. Great answer and kudos for making it a one-liner!"}], "tags": [], "owner": {"reputation": 862, "user_id": 4409834, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-G015Bz1NxeA/AAAAAAAAAAI/AAAAAAAAAEc/3QFP2KQPfyQ/photo.jpg?sz=128", "display_name": "Vishnu", "link": "https://stackoverflow.com/users/4409834/vishnu"}, "is_accepted": true, "score": 3, "last_activity_date": 1562182817, "creation_date": 1562182817, "answer_id": 56876936, "question_id": 56876697, "link": "https://stackoverflow.com/questions/56876697/reference-json-variable-with-string-acquired-from-other-json/56876936#56876936", "title": "Reference JSON variable with string acquired from other JSON", "body": "<p>Did you mean something like this ?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var file1 = {\r\n  object: {\r\n    variable: true\r\n  }\r\n};\r\n\r\nvar file2 = {\r\n  object2: {\r\n    tag: \"object.variable\"\r\n  }\r\n};\r\n\r\nvar result =  file2.object2.tag.split('.').reduce((a, b) =&gt;  a ? a[b] : null, file1);\r\n\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 163, "user_id": 8093189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6f717c6a2f7dd387511cd4f82c08b245?s=128&d=identicon&r=PG&f=1", "display_name": "spaff", "link": "https://stackoverflow.com/users/8093189/spaff"}, "edited": false, "score": 0, "creation_date": 1562183349, "post_id": 56876976, "comment_id": 100302624, "body": "This seems to work in the code snippet but when I run it in my file, I received &quot;UnhandledPromiseRejectionWarning: ReferenceError: period is not defined&quot;. I had tried something near identical to this answer but couldn&#39;t get around that error."}, {"owner": {"reputation": 8426, "user_id": 1253074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7359ba202d56b428b3698ea2016995ef?s=128&d=identicon&r=PG", "display_name": "Intervalia", "link": "https://stackoverflow.com/users/1253074/intervalia"}, "edited": false, "score": 1, "creation_date": 1562186185, "post_id": 56876976, "comment_id": 100303715, "body": "Avoid <code>eval</code> if you can not be 110% certain of the source data. Instead look at the code supplied by @Vishnu"}], "tags": [], "owner": {"reputation": 508, "user_id": 3457398, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/58df7649fc955ee5943800f1e2924f5e?s=128&d=identicon&r=PG", "display_name": "Shrijan Tiwari", "link": "https://stackoverflow.com/users/3457398/shrijan-tiwari"}, "is_accepted": false, "score": 1, "last_activity_date": 1562182995, "creation_date": 1562182995, "answer_id": 56876976, "question_id": 56876697, "link": "https://stackoverflow.com/questions/56876697/reference-json-variable-with-string-acquired-from-other-json/56876976#56876976", "title": "Reference JSON variable with string acquired from other JSON", "body": "<p>This could be the possible solution : </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var query = {\r\n  object2: {\r\n    tag: \"data.object.variable\"\r\n  }\r\n}\r\n\r\n\r\nvar data = {\r\n  object: {\r\n    variable: true\r\n  }\r\n}\r\n\r\nconsole.log(eval(query.object2.tag));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 163, "user_id": 8093189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6f717c6a2f7dd387511cd4f82c08b245?s=128&d=identicon&r=PG&f=1", "display_name": "spaff", "link": "https://stackoverflow.com/users/8093189/spaff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 654, "favorite_count": 0, "accepted_answer_id": 56876936, "answer_count": 2, "score": 0, "last_activity_date": 1562182995, "creation_date": 1562181495, "last_edit_date": 1562182152, "question_id": 56876697, "link": "https://stackoverflow.com/questions/56876697/reference-json-variable-with-string-acquired-from-other-json", "title": "Reference JSON variable with string acquired from other JSON", "body": "<p>I have 2 JSON files.</p>\n\n<p>file 1</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>{\r\n  object: {\r\n    variable: true\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and file 2\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>{\r\n  object2: {\r\n    tag: \"object.variable\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>What I am stuck on is that I need to, in one javascript file, get the tag from file 2 and use it to reference the variable in file 1.</p>\n\n<p>I have gotten both file 1 as a JSON and have gotten 'tag' from file 2 in my code. However I am entirely lost as to how I can go about using the string \"object.variable\" to get the value of object.variable from file 1.</p>\n\n<p>PS (I tried using eval but had no luck, though I would like to avoid it at all costs if possible.)</p>\n"}, {"tags": ["javascript", "vue.js", "vuex"], "answers": [{"comments": [{"owner": {"reputation": 3264, "user_id": 8266386, "user_type": "registered", "profile_image": "https://graph.facebook.com/957596370999408/picture?type=large", "display_name": "Isac Moura", "link": "https://stackoverflow.com/users/8266386/isac-moura"}, "edited": false, "score": 0, "creation_date": 1562256442, "post_id": 56877416, "comment_id": 100329636, "body": "That&#39;s it. I used slice to create a new copy on memory of the array and this worked!"}], "tags": [], "owner": {"reputation": 2933, "user_id": 11204469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b1be34bb82f28e14b12665d4b5df53?s=128&d=identicon&r=PG&f=1", "display_name": "Estradiaz", "link": "https://stackoverflow.com/users/11204469/estradiaz"}, "is_accepted": true, "score": 1, "last_activity_date": 1562185760, "last_edit_date": 1592644375, "creation_date": 1562185228, "answer_id": 56877416, "question_id": 56876675, "link": "https://stackoverflow.com/questions/56876675/getter-returning-same-value-as-the-input-value-before-action-finish-in-vue/56877416#56877416", "title": "Getter returning same value as the input value before action finish in Vue", "body": "<h2>my guess is your issue lies here:</h2>\n<hr />\n<h3><em>TL;DR - you pass your getter as valor to your action.</em></h3>\n<hr />\n<p><em>only a guess - as i cant debug your code</em></p>\n<hr />\n<blockquote>\n<pre><code>        store.dispatch('profundidadeSondagem/MODIFY', patologia).catch(() =&gt; {\n\n            this.valorProfundidade = this.profundidadeSondagem;\n        })\n</code></pre>\n</blockquote>\n<p>as you assign a reference from your <code>rootState[...]</code> and thus you change the properties of the <code>rootState[...]</code> in your component past the first run.</p>\n<p>So your code then behaves like:</p>\n<pre><code>        let patologia = {\n            arcada: this.arcada,\n            sextante: this.sextante,\n            dente: &quot;dente_&quot; + this.dente,\n            face: this.face_json,\n            \n</code></pre>\n<blockquote>\n<pre><code>          // valor: this.valorProfundidade,\n          ///* same as */ valor: this.profundidadeSondagem,\n          /* same as */ valor: this.$store.getters['profundidadeSondagem/profundidadeSondagem'](...),\n</code></pre>\n</blockquote>\n<pre><code>            modelRefs: modelRefs,\n            id: this.changedId,\n            valorInserido: this.valorInserido,\n        };\n</code></pre>\n<hr />\n<p>A solution can be to <code>this.valorProfundidade = this.profundidadeSondagem.slice();</code> as long it is an array or <code>Object.assign({},...)</code> - so you prevent the references</p>\n"}], "owner": {"reputation": 3264, "user_id": 8266386, "user_type": "registered", "profile_image": "https://graph.facebook.com/957596370999408/picture?type=large", "display_name": "Isac Moura", "link": "https://stackoverflow.com/users/8266386/isac-moura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 56877416, "answer_count": 1, "score": 0, "last_activity_date": 1562185760, "creation_date": 1562181367, "question_id": 56876675, "link": "https://stackoverflow.com/questions/56876675/getter-returning-same-value-as-the-input-value-before-action-finish-in-vue", "title": "Getter returning same value as the input value before action finish in Vue", "body": "<p>I created a component and a module for a functionality X and I'm using Vuex for state management. The code works for the every first time insertion, but after this the Getter function always returns the same value of the input before the action ends and commit the mutation.</p>\n\n<p>For example:<br>\n1 - everything is [0,0,0] and Getter is [0,0,0]. Insert 9 in the first position and the value is inserted.<br>\n2 - On the second time, the check if the value inserted is equal of what is on the state returns true, so we had to remove this verification.</p>\n\n<p>By the way, the state continues to be modified without the action commit the changes to mutation, and when we look to the Getter (who retrieves the value from the state) the value inserted is already returned by the Getter.</p>\n\n<p>Someone know how to fix this?</p>\n\n<p>Here is the code</p>\n\n<p>component:</p>\n\n<pre><code>Vue.component('profundidade-cell', {\n\n    data: function () {\n        return {\n            valorProfundidade: [0, 0, 0],\n            id: this.face + '-' + this.dente,\n            ids: [\n                this.face + '-profundidade-sondagem-' + this.dente + '-1',\n                this.face + '-profundidade-sondagem-' + this.dente + '-2',\n                this.face + '-profundidade-sondagem-' + this.dente + '-3'\n            ],\n            changedId: null,\n            valorInserido: null,\n            valorAnt: null,\n        }\n    },\n\n    props: {\n        arcada: String,\n        sextante: String,\n        dente: String,\n        face: String,\n        face_json: String,\n        max_length: Number,\n        min_value: Number,\n        max_value: Number,\n    },\n\n    computed: {\n        profundidadeSondagem() {\n            return store.getters['profundidadeSondagem/profundidadeSondagem']({arcada: this.arcada,\n                sextante: this.sextante, dente: \"dente_\" + this.dente, face: this.face_json});\n        },\n\n        presente() {\n            return store.getters.dentePresente({arcada: this.arcada, sextante: this.sextante,\n                dente: \"dente_\" + this.dente});\n        }\n\n    },\n\n    created: function() {\n        this.debouncedAlterarProfundidade = _.debounce(this.alterarValorProfundidadeSondagem, 400);\n        this.$root.$on(\"vuex-carregado\", this.carregar);\n    },\n\n    methods: {\n\n        getValue(e) {\n            this.changedId = e.target.id;\n            this.valorInserido = e.target.value;\n\n            this.debouncedAlterarProfundidade();\n\n\n        },\n\n        alterarValorProfundidadeSondagem() {\n\n            let modelRefs = {};\n\n            let patologia = {\n                arcada: this.arcada,\n                sextante: this.sextante,\n                dente: \"dente_\" + this.dente,\n                face: this.face_json,\n                valor: this.valorProfundidade,\n                modelRefs: modelRefs,\n                id: this.changedId,\n                valorInserido: this.valorInserido,\n            };\n\n            store.dispatch('profundidadeSondagem/MODIFY', patologia).catch(() =&gt; {\n\n                this.valorProfundidade = this.profundidadeSondagem;\n            })\n\n        },\n\n        carregar(){\n            this.valorProfundidade = this.profundidadeSondagem;\n        }\n\n    },\n\n\n    template: `\n        &lt;div&gt;\n            &lt;input type=\"text\" :id=ids[0] v-on:input.prevent=\"getValue($event)\" :maxlength=max_length v-model=valorProfundidade[0] class=\"periograma-input col l4\" v-bind:class=\"{ 'invisible': !presente }\" /&gt;\n            &lt;input type=\"text\" :id=ids[1] v-on:input.prevent=\"getValue($event)\" :maxlength=max_length v-model=valorProfundidade[1] class=\"periograma-input col l4\" v-bind:class=\"{ 'invisible': !presente }\" /&gt;\n            &lt;input type=\"text\" :id=ids[2] v-on:input.prevent=\"getValue($event)\" :maxlength=max_length v-model=valorProfundidade[2] class=\"periograma-input col l4\" v-bind:class=\"{ 'invisible': !presente }\" /&gt;    \n        &lt;/div&gt;\n    `\n\n});\n</code></pre>\n\n<p>module:</p>\n\n<pre><code>const moduleProfundidadeSondagem = {\n    namespaced: true,\n\n    actions: {\n        MODIFY({commit, dispatch, getters, rootGetters}, obj) {\n            let patologia = {\n                face: rootGetters.getNomeFace(obj.face),\n                dente: rootGetters.getNomeDente(obj.dente),\n                local: \"FACE\",\n                ficha: this.state.idPeriograma,\n                descricao: obj.valor.toString(),\n                paciente: this.state.idPaciente,\n                tipo: 'PROFUNDIDADE_DE_SONDAGEM'\n            };\n\n            if(obj.valor) != getters.profundidadeSondagem(obj)) {\n\n                let reg = new RegExp(/([0-9],[0-9],[0-9])/);\n\n                let param = null;\n\n                return new Promise((resolve, reject) =&gt; {\n                    if(obj.valor[0] == 0 &amp;&amp; obj.valor[1] == 0 &amp;&amp; obj.valor[2] == 0) {\n                        param = axios.delete('/patologia', {data: patologia});\n                    } else if (reg.test(obj.valor)){\n                        param = axios.post('/patologia', patologia);\n                    }\n\n                    if(param != null) {\n                        param.then(function (response) {\n                            if(response.status == 200 || response.status == 201 &amp;&amp; response.data) {\n                                commit('armazenarProfundidadeSondagem', obj);\n\n                                let dentes_data = {};\n                                let face = '';\n\n                                if (obj.arcada == 'arcada_superior' &amp;&amp; obj.face == 'face_lingual_palatal') {\n                                    face = 'palatina'\n                                } else {\n                                    face = obj.face.split('_')[1];\n                                }\n\n\n                                let classe_canvas = rootGetters.getNomeClasseCanvas(obj, face);\n\n                                drawGraph(rootGetters.prepareDentesData(obj, face, dentes_data), face,\n                                    classe_canvas);\n                                resolve();\n                            }\n\n                        }).catch(error =&gt; {\n\n                            store.dispatch('mensagemAlerta/ALERTA', {\n                                tipo: 'error',\n                                mensagem: 'N\u00e3o foi poss\u00edvel cadastrar o n\u00edvel de sondagem'\n                            });\n\n                            reject(error);\n                        });\n                    }\n                })\n            }\n        },\n\n        RESET_PROFUNDIDADE_SONDAGEM({commit}, ob) {\n            commit('RESET_ALL', ob);\n        }\n    },\n\n    getters: {\n        profundidadeSondagem: (state, getters, rootState) =&gt; obj =&gt; {\n            return rootState[obj.arcada][obj.sextante][obj.dente][obj.face].profundidade_sondagem;\n        }\n    },\n\n\n</code></pre>\n"}, {"tags": ["javascript", "mutation-observers"], "comments": [{"owner": {"reputation": 3108, "user_id": 1336843, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d2e1972ec132432a0956d2c12529c6b2?s=128&d=identicon&r=PG", "display_name": "Bali Balo", "link": "https://stackoverflow.com/users/1336843/bali-balo"}, "edited": false, "score": 1, "creation_date": 1562182377, "post_id": 56876659, "comment_id": 100302273, "body": "It makes it easier to see what is available if you use <code>console.dir</code>. It will always list the properties of what you are logging regardless of its type"}], "answers": [{"tags": [], "owner": {"reputation": 3108, "user_id": 1336843, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d2e1972ec132432a0956d2c12529c6b2?s=128&d=identicon&r=PG", "display_name": "Bali Balo", "link": "https://stackoverflow.com/users/1336843/bali-balo"}, "is_accepted": true, "score": 2, "last_activity_date": 1562181858, "creation_date": 1562181858, "answer_id": 56876763, "question_id": 56876659, "link": "https://stackoverflow.com/questions/56876659/how-can-i-get-a-tag-type-with-a-mutationobserver/56876763#56876763", "title": "How can I get a tag type with a MutationObserver?", "body": "<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeName\" rel=\"nofollow noreferrer\">nodeName</a></p>\n\n<pre><code>if (node.nodeName.toLowerCase() === 'a') {\n    // Do things\n}\n</code></pre>\n"}], "owner": {"reputation": 33403, "user_id": 239879, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9e2d7ef70e61ce1c509e556c453626d?s=128&d=identicon&r=PG", "display_name": "Shamoon", "link": "https://stackoverflow.com/users/239879/shamoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 56876763, "answer_count": 1, "score": 1, "last_activity_date": 1562181858, "creation_date": 1562181310, "question_id": 56876659, "link": "https://stackoverflow.com/questions/56876659/how-can-i-get-a-tag-type-with-a-mutationobserver", "title": "How can I get a tag type with a MutationObserver?", "body": "<pre><code>        let mObserver = new MutationObserver((mutationsList, observer) =&gt; {\n            mutationsList.forEach((mutation) =&gt; {\n                if (mutation.type === 'childList' &amp;&amp; mutation.addedNodes.length &gt; 0) {\n                    mutation.addedNodes.forEach((node) =&gt; {\n                        console.log(node)\n                    })\n                }\n            })\n        })\n\n        mObserver.observe(document.body, {\n            childList: true,\n            subtree: true\n        })\n</code></pre>\n\n<p>How can I tell the type of <code>node</code> that was added? I want to target only <code>a</code> tags</p>\n"}, {"tags": ["javascript", "dom"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 1, "creation_date": 1562181672, "post_id": 56876573, "comment_id": 100302003, "body": "It seems like an instance of the common pattern of enabling &quot;chained&quot; operations: <code>methodCall().methodCall().methodCall()</code>. You&#39;d probably have to ask the WWW standards committee for a definitive answer however."}, {"owner": {"reputation": 7711, "user_id": 3096687, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/31c95c0c159392d4c16fca6b55b5848d?s=128&d=identicon&r=PG", "display_name": "bbarker", "link": "https://stackoverflow.com/users/3096687/bbarker"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1562182262, "post_id": 56876573, "comment_id": 100302223, "body": "Thanks for the insight @Pointy; I guess I&#39;m more used to a different chaining technique and forgot about that!: <code>x.map(y -&gt; f(y)).map(z -&gt; g(z))</code>, which is a bit more verbose, but also more flexible; for instance, a similar effect could be achieved with <code>x.map(y -&gt; f(y); return y).map(z -&gt; g(z))</code> (using <code>return y</code> to allow chaining the same value as input, and assuming the values are wrapped in some mappable object; pseudo code)"}, {"owner": {"reputation": 7711, "user_id": 3096687, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/31c95c0c159392d4c16fca6b55b5848d?s=128&d=identicon&r=PG", "display_name": "bbarker", "link": "https://stackoverflow.com/users/3096687/bbarker"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1562182473, "post_id": 56876573, "comment_id": 100302311, "body": "Of course, this <code>map</code> style was not in wide use at the time the standard was created, I&#39;m quite sure. At least in JavaScript."}, {"owner": {"reputation": 69587, "user_id": 42585, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/upFCW.jpg?s=128&g=1", "display_name": "Alohci", "link": "https://stackoverflow.com/users/42585/alohci"}, "edited": false, "score": 0, "creation_date": 1562415341, "post_id": 56876573, "comment_id": 100370954, "body": "What you describe as &quot;the spec&quot;, isn&#39;t the spec. It&#39;s just a description of the language binding. And to an old version of the DOM spec at that. The <a href=\"https://dom.spec.whatwg.org/#dom-node-appendchild\" rel=\"nofollow noreferrer\">spec for appendChild is in the DOM standard</a>"}, {"owner": {"reputation": 69587, "user_id": 42585, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/upFCW.jpg?s=128&g=1", "display_name": "Alohci", "link": "https://stackoverflow.com/users/42585/alohci"}, "edited": false, "score": 0, "creation_date": 1562416665, "post_id": 56876573, "comment_id": 100371227, "body": "Also the DOM is not a JS specific API. It needs to be implementable in pretty much any object oriented language. In languages where functions are not first-class objects <code>.map(y -&gt; f(y))</code> can be decidedly awkward."}], "owner": {"reputation": 7711, "user_id": 3096687, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/31c95c0c159392d4c16fca6b55b5848d?s=128&d=identicon&r=PG", "display_name": "bbarker", "link": "https://stackoverflow.com/users/3096687/bbarker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562180985, "creation_date": 1562180985, "question_id": 56876573, "link": "https://stackoverflow.com/questions/56876573/why-does-node-appendchild-seemingly-always-return-its-input-value", "title": "Why does Node.appendChild seemingly always return its input value?", "body": "<p>According to MDN (and other sources), it <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Node/appendChild#Returns\" rel=\"nofollow noreferrer\">sounds like</a> <code>appendChild</code> always returns the same value as input: either the child node or the DocumentFragment used as input to the <code>appendChild</code> method.</p>\n\n<p>When I see something seemingly completely redundant in a major standard (or even elsewhere), I have to ask why - and am I missing something? Why do this?</p>\n\n<p>The <a href=\"https://www.w3.org/TR/DOM-Level-3-Core/ecma-script-binding.html\" rel=\"nofollow noreferrer\">spec</a> itself seems slightly more ambiguous:</p>\n\n<blockquote>\n  <p><strong>appendChild(newChild)</strong>\n      This function returns an object that implements the <strong>Node</strong> interface.\n      The <strong>newChild</strong> parameter is an object that implements the <strong>Node</strong> interface.\n      This function can raise an object that implements the <strong>DOMException</strong> interface.</p>\n</blockquote>\n"}, {"tags": ["javascript", "html", "css", "reactjs"], "answers": [{"comments": [{"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "edited": false, "score": 0, "creation_date": 1562181289, "post_id": 56876613, "comment_id": 100301853, "body": "What would be an example of code that looks at the url loaded and properly load in those elements"}, {"owner": {"reputation": 2739, "user_id": 1044984, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/AIvXx.png?s=128&g=1", "display_name": "ComputerLocus", "link": "https://stackoverflow.com/users/1044984/computerlocus"}, "reply_to_user": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "edited": false, "score": 0, "creation_date": 1562182605, "post_id": 56876613, "comment_id": 100302349, "body": "Good examples here: <a href=\"https://stackoverflow.com/questions/16368129/how-to-make-the-page-load-to-an-anchor-tag\" title=\"how to make the page load to an anchor tag\">stackoverflow.com/questions/16368129/&hellip;</a> @Jacob"}], "tags": [], "owner": {"reputation": 2739, "user_id": 1044984, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/AIvXx.png?s=128&g=1", "display_name": "ComputerLocus", "link": "https://stackoverflow.com/users/1044984/computerlocus"}, "is_accepted": false, "score": 0, "last_activity_date": 1562181129, "creation_date": 1562181129, "answer_id": 56876613, "question_id": 56876552, "link": "https://stackoverflow.com/questions/56876552/linking-to-a-specific-div-of-another-page-can-only-link-to-that-div-whilst-on-t/56876613#56876613", "title": "Linking to a specific div of another page; can only link to that div whilst on that page", "body": "<p>What you are referring to is anchor tags which some pages make use of to link to specific sections on pages. This is done by <a href=\"https://help.typepad.com/anchor-tags.html\" rel=\"nofollow noreferrer\">setting anchor tags</a> on the page. What you are referring to is slightly different. The tags are instead being used by Javascript to load a specific element. These are usually added to the URL when elements are clicked on that load a section.</p>\n\n<p>These are usually triggered on click to display the content requested. What is also needed is code that also looks at the URL that is loaded and properly loads in those elements, as if they were clicked. Right now it sounds like you have nothing that is handling this and it's only being handled when an element is clicked.</p>\n"}], "owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562182076, "creation_date": 1562180864, "last_edit_date": 1562182076, "question_id": 56876552, "link": "https://stackoverflow.com/questions/56876552/linking-to-a-specific-div-of-another-page-can-only-link-to-that-div-whilst-on-t", "title": "Linking to a specific div of another page; can only link to that div whilst on that page", "body": "<p>I have a link </p>\n\n<pre><code>&lt;a href=\"about.html#div2\"&gt;Click me&lt;/a&gt;\n</code></pre>\n\n<p>When I click the link I am brought to <code>about.html</code> at the top of the document.</p>\n\n<p>If I am already visiting about.html and and I type <code>about.html#div2</code> in the search bar of my browser(chrome), then my browser goes down to the specific div(div2). </p>\n\n<p>How can I get my browser to visit the div on the other page from the link on another page.</p>\n\n<p>I am also using react, if that makes a difference</p>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>So right now I have a link on index.html that is</p>\n\n<pre><code>&lt;a href=\"about.html#div2\"&gt;Click me&lt;/a&gt;\n</code></pre>\n\n<p>and on about.html I have</p>\n\n<pre><code>&lt;a id=\"div2\" name=\"div2\"&gt;&lt;/a&gt;\n</code></pre>\n\n<p>on about.html</p>\n"}, {"tags": ["javascript", "ajax", "google-chrome", "callback"], "comments": [{"owner": {"reputation": 422, "user_id": 5083456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-3aCVskJgx7Y/AAAAAAAAAAI/AAAAAAAACkE/ujlUOTqCCwo/photo.jpg?sz=128", "display_name": "IMustBeSomeone", "link": "https://stackoverflow.com/users/5083456/imustbesomeone"}, "edited": false, "score": 0, "creation_date": 1562180811, "post_id": 56876502, "comment_id": 100301644, "body": "<code>displayEmail()</code> is an invocation of a function, thus the return value will be passed as an argument. try passing <code>displayEmail</code> instead"}, {"owner": {"reputation": 5, "user_id": 11053630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca8dd3b89d696b3cbb458be5f679d688?s=128&d=identicon&r=PG&f=1", "display_name": "c newbie", "link": "https://stackoverflow.com/users/11053630/c-newbie"}, "reply_to_user": {"reputation": 422, "user_id": 5083456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-3aCVskJgx7Y/AAAAAAAAAAI/AAAAAAAACkE/ujlUOTqCCwo/photo.jpg?sz=128", "display_name": "IMustBeSomeone", "link": "https://stackoverflow.com/users/5083456/imustbesomeone"}, "edited": false, "score": 0, "creation_date": 1562180931, "post_id": 56876502, "comment_id": 100301703, "body": "I would like to invoke the callback function though. Also deleting the () did not work."}, {"owner": {"reputation": 422, "user_id": 5083456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-3aCVskJgx7Y/AAAAAAAAAAI/AAAAAAAACkE/ujlUOTqCCwo/photo.jpg?sz=128", "display_name": "IMustBeSomeone", "link": "https://stackoverflow.com/users/5083456/imustbesomeone"}, "edited": false, "score": 1, "creation_date": 1562180970, "post_id": 56876502, "comment_id": 100301716, "body": "I messed up my wording, sorry, I mean <code>displayEmail</code>! Keep callback argument the way it is"}], "answers": [{"tags": [], "owner": {"reputation": 563, "user_id": 4960039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/924642499cdefeac26149726b8a0ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Sharma", "link": "https://stackoverflow.com/users/4960039/shubham-sharma"}, "is_accepted": false, "score": 1, "last_activity_date": 1562181090, "creation_date": 1562181090, "answer_id": 56876603, "question_id": 56876502, "link": "https://stackoverflow.com/questions/56876502/js-callback-is-not-a-function-inside-if-else-statement/56876603#56876603", "title": "JS: Callback is not a function inside if else statement", "body": "<p>Pass only displayEmail instead of invoking it in parameter of changeSetting function </p>\n\n<pre><code>changeSetting(displayEmail);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5, "user_id": 11053630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca8dd3b89d696b3cbb458be5f679d688?s=128&d=identicon&r=PG&f=1", "display_name": "c newbie", "link": "https://stackoverflow.com/users/11053630/c-newbie"}, "edited": false, "score": 0, "creation_date": 1562188264, "post_id": 56876637, "comment_id": 100304478, "body": "What if i had a callback function of three chains?            ``` changeSetting(function () {                 changeTemp(displayEmail);             });```  doing that throws an error as well"}, {"owner": {"reputation": 422, "user_id": 5083456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-3aCVskJgx7Y/AAAAAAAAAAI/AAAAAAAACkE/ujlUOTqCCwo/photo.jpg?sz=128", "display_name": "IMustBeSomeone", "link": "https://stackoverflow.com/users/5083456/imustbesomeone"}, "reply_to_user": {"reputation": 5, "user_id": 11053630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca8dd3b89d696b3cbb458be5f679d688?s=128&d=identicon&r=PG&f=1", "display_name": "c newbie", "link": "https://stackoverflow.com/users/11053630/c-newbie"}, "edited": false, "score": 0, "creation_date": 1562188372, "post_id": 56876637, "comment_id": 100304508, "body": "When the callback invocation fires, anything that&#39;s in the anonymous function you passed will run. You should probably ask another question if you&#39;re having more issues. I&#39;m not sure what the error with your code would be."}], "tags": [], "owner": {"reputation": 422, "user_id": 5083456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-3aCVskJgx7Y/AAAAAAAAAAI/AAAAAAAACkE/ujlUOTqCCwo/photo.jpg?sz=128", "display_name": "IMustBeSomeone", "link": "https://stackoverflow.com/users/5083456/imustbesomeone"}, "is_accepted": true, "score": 1, "last_activity_date": 1562181225, "creation_date": 1562181225, "answer_id": 56876637, "question_id": 56876502, "link": "https://stackoverflow.com/questions/56876502/js-callback-is-not-a-function-inside-if-else-statement/56876637#56876637", "title": "JS: Callback is not a function inside if else statement", "body": "<p>The problem lies in your function call.</p>\n\n<pre><code>&lt;script&gt;\nfunction changeSetting(callback) {\n....\n}\n\nfunction displayEmail() {\n  return \"email displayed\"; // dummy value in this case \n}\n&lt;/script&gt;\n</code></pre>\n\n<p>Imagine running this code for example.</p>\n\n<pre><code>changeSetting(displayEmail()); // first the display email function is evaluated\n</code></pre>\n\n<p>Note that we are <em>invoking</em> the <code>displayEmail()</code> function with parantheses <code>()</code>. This means that we're going to run it and get its <code>return</code> value back, whether it be undefined, or in our case <code>\"email displayed\"</code>.</p>\n\n<p>After evaluating the function you pass as your callback, it simplifies to something that isn't a function, hence the error. Psuedo-wise, it would \"simplify\" to this.</p>\n\n<pre><code>changeSetting(\"email displayed\"); // \"email displayed\" is obviously not a function\n</code></pre>\n\n<p>To fix this, simply don't invoke the function first, pass the pointer to the function, which is simply <code>displayEmail</code>.</p>\n\n<pre><code>changeSetting(displayEmail);\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 11053630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca8dd3b89d696b3cbb458be5f679d688?s=128&d=identicon&r=PG&f=1", "display_name": "c newbie", "link": "https://stackoverflow.com/users/11053630/c-newbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 56876637, "answer_count": 2, "score": 0, "last_activity_date": 1562181225, "creation_date": 1562180666, "question_id": 56876502, "link": "https://stackoverflow.com/questions/56876502/js-callback-is-not-a-function-inside-if-else-statement", "title": "JS: Callback is not a function inside if else statement", "body": "<p>Callback is not being recognized in the else statement of the function when compiling using google chrome. I am getting an error in my site.js file when trying to run the following code:</p>\n\n<pre><code>function changeSetting(callback) {\n    var testswitch = document.getElementById(\"switch\");\n    if (testswitch.checked) {\n        $.ajax({\n            type: 'GET',\n            url: '/api/ct/off/changeSetting',\n            cache: false,\n            error: function (jqXHR, textStatus, errorThrown) {\n            },\n            success: function (result) {\n                //No error here\n                callback();\n            }\n        });\n    }\n    else if (!testswitch.checked) {\n        $.ajax({\n            type: 'GET',\n            url: '/api/ct/on/changeSetting',\n            cache: false,\n            error: function (jqXHR, textStatus, errorThrown) {\n            },\n            success: function (result) {\n                //ERROR: Callback is not recognized as a function\n                callback();\n            }\n        });\n    } else {\n        return;\n    }\n}\n</code></pre>\n\n<p>The only instance of this function being called is </p>\n\n<pre><code>changeSetting(displayEmail());\n</code></pre>\n\n<p>Uncaught Type Error: Callback is not a function</p>\n"}, {"tags": ["javascript", "angular"], "comments": [{"owner": {"reputation": 2067, "user_id": 4971999, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSofZ.jpg?s=128&g=1", "display_name": "Keenan Diggs", "link": "https://stackoverflow.com/users/4971999/keenan-diggs"}, "edited": false, "score": 0, "creation_date": 1562180790, "post_id": 56876489, "comment_id": 100301638, "body": "Are you sure this is an Angular (uppercase A) related-question?"}, {"owner": {"reputation": 5292, "user_id": 5277925, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqXL9.jpg?s=128&g=1", "display_name": "Danny Fardy Jhonston Berm&#250;dez", "link": "https://stackoverflow.com/users/5277925/danny-fardy-jhonston-berm%c3%badez"}, "edited": false, "score": 0, "creation_date": 1562180836, "post_id": 56876489, "comment_id": 100301656, "body": "<code>symbol=&quot;$&quot;</code>..."}, {"owner": {"reputation": 193, "user_id": 5296937, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/wS9au.jpg?s=128&g=1", "display_name": "Blake", "link": "https://stackoverflow.com/users/5296937/blake"}, "edited": false, "score": 0, "creation_date": 1562180902, "post_id": 56876489, "comment_id": 100301688, "body": "You are correct, its probably just Javascript. I added Angular since that is what the app uses. Maybe there is a better &quot;Angular-centric&quot; way to do this?"}, {"owner": {"reputation": 193, "user_id": 5296937, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/wS9au.jpg?s=128&g=1", "display_name": "Blake", "link": "https://stackoverflow.com/users/5296937/blake"}, "reply_to_user": {"reputation": 5292, "user_id": 5277925, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqXL9.jpg?s=128&g=1", "display_name": "Danny Fardy Jhonston Berm&#250;dez", "link": "https://stackoverflow.com/users/5277925/danny-fardy-jhonston-berm%c3%badez"}, "edited": false, "score": 0, "creation_date": 1562181053, "post_id": 56876489, "comment_id": 100301749, "body": "@Danny Fardy Jhonston Berm&#250;dez - oops... type error on my part since I cant copy/paste from source into here."}, {"owner": {"reputation": 1210, "user_id": 3225506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e245b4a876cb29756053758b6bfff1a?s=128&d=identicon&r=PG&f=1", "display_name": "argoo", "link": "https://stackoverflow.com/users/3225506/argoo"}, "edited": false, "score": 0, "creation_date": 1562181468, "post_id": 56876489, "comment_id": 100301921, "body": "Are you sure your promise resolves? Do you see this &quot;console.log(&quot;Inside queryPromise-crud&quot;);&quot; in your console?"}, {"owner": {"reputation": 1285, "user_id": 4451095, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh5.googleusercontent.com/-v_H2Lz65FyE/AAAAAAAAAAI/AAAAAAAAAJA/aIqzYDYErCw/photo.jpg?sz=128", "display_name": "Blair Holmes", "link": "https://stackoverflow.com/users/4451095/blair-holmes"}, "edited": false, "score": 0, "creation_date": 1562181938, "post_id": 56876489, "comment_id": 100302097, "body": "are you doing this in a life-cycle hook of any kind? It sounds like some sort of async operation not completing issue but I didn&#39;t really disect your code that much tbh..."}, {"owner": {"reputation": 193, "user_id": 5296937, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/wS9au.jpg?s=128&g=1", "display_name": "Blake", "link": "https://stackoverflow.com/users/5296937/blake"}, "reply_to_user": {"reputation": 1210, "user_id": 3225506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e245b4a876cb29756053758b6bfff1a?s=128&d=identicon&r=PG&f=1", "display_name": "argoo", "link": "https://stackoverflow.com/users/3225506/argoo"}, "edited": false, "score": 0, "creation_date": 1562327810, "post_id": 56876489, "comment_id": 100349883, "body": "@argoo... yes, the console.log statements show up. This is what makes me think I should be able to see these variables."}, {"owner": {"reputation": 193, "user_id": 5296937, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/wS9au.jpg?s=128&g=1", "display_name": "Blake", "link": "https://stackoverflow.com/users/5296937/blake"}, "reply_to_user": {"reputation": 1285, "user_id": 4451095, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh5.googleusercontent.com/-v_H2Lz65FyE/AAAAAAAAAAI/AAAAAAAAAJA/aIqzYDYErCw/photo.jpg?sz=128", "display_name": "Blair Holmes", "link": "https://stackoverflow.com/users/4451095/blair-holmes"}, "edited": false, "score": 0, "creation_date": 1562328859, "post_id": 56876489, "comment_id": 100350376, "body": "@Blair Holmes  These variables are populated from a function call kicked off by the router so it doesnt appear there is any life-cycle hook in there."}], "answers": [{"tags": [], "owner": {"reputation": 193, "user_id": 5296937, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/wS9au.jpg?s=128&g=1", "display_name": "Blake", "link": "https://stackoverflow.com/users/5296937/blake"}, "is_accepted": false, "score": 0, "last_activity_date": 1562353353, "creation_date": 1562353353, "answer_id": 56908102, "question_id": 56876489, "link": "https://stackoverflow.com/questions/56876489/javascript-variable-not-being-seen-in-html/56908102#56908102", "title": "Javascript variable not being seen in HTML", "body": "<p>Well... I never quite figured out how to get that current code working. But in doing some more research into totaling I found a neat little angular way to handle this and give me my totals.</p>\n\n<p>Here is the html:</p>\n\n<pre><code>&lt;td class=\"text-right\"&gt;{{getTotalExpense}}&lt;/td&gt;\n</code></pre>\n\n<p>Here is the code in the controller:</p>\n\n<pre><code>$scope.getTotalExpense = function() {\n   var total = 0;\n   for(var i=0; i&lt;$scope.displayed.length; i++){\n      var product = $scope.displayed[i];\n      total += (product.Expensed);\n   }\n\n   return '$' + total.toFixed(2).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g,'$1,')\n}\n</code></pre>\n"}], "owner": {"reputation": 193, "user_id": 5296937, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/wS9au.jpg?s=128&g=1", "display_name": "Blake", "link": "https://stackoverflow.com/users/5296937/blake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562353353, "creation_date": 1562180603, "last_edit_date": 1562180971, "question_id": 56876489, "link": "https://stackoverflow.com/questions/56876489/javascript-variable-not-being-seen-in-html", "title": "Javascript variable not being seen in HTML", "body": "<p>I have an angular app where I am trying to get a javascript variable to show up in HTML. This does work in an older part of my application. However, it will not work in the new part.</p>\n\n<p>Here is the working function (inside a file called <code>reports.js</code>):</p>\n\n<pre><code>  return db.queryPromise(sql, sqlParams().then(function(results) {\n    console.log(\"Inside queryPromise\");\n    var data = {\n       GrandTotals: {\n          Expensed: 0\n       }\n    };\n\n    results.reduce(function(data,record) {\n      var expensed = record['Expensed'];\n      data.GrandTotals.Expensed = expensed;\n      console.log(\"Expensed amount:\"+data.GrandTotals.Expensed);\n      return data;\n    }, data);\n    return data;\n});\n</code></pre>\n\n<p>Here is the working html (inside a file called <code>_reportFunds.html</code>):</p>\n\n<pre><code> &lt;tr class=\"info bold\"&gt;\n   &lt;td colspan=\"3\"&gt;Grand Total&lt;/td&gt;\n   &lt;td class=\"text-right\"&gt;&lt;currency value=\"data.GrandTotals.Expensed\" symbol=\"$\"/&gt;&lt;/td&gt;\n &lt;/tr&gt;\n</code></pre>\n\n<p>Here is the non-working function (inside a file called <code>crud.js</code>):</p>\n\n<pre><code>return db.queryPromise(sql, sqlParams().then(function(results) {\n    console.log(\"Inside queryPromise-crud\");\n    var pageObject = {\n       GrandTotals: {\n          Expensed: 0\n       }\n    };\n\n    results.reduce(function(pageObject,record) {\n      var expensed = record['Expensed'];\n      pageObject.GrandTotals.Expensed = expensed;\n      console.log(\"Expensed amount-crud:\"+pageObject.GrandTotals.Expensed);\n      return pageObject;\n    }, pageObject);\n    return pageObject;\n});\n</code></pre>\n\n<p>Here is the non-working html (inside a file called <code>_trans.html</code>):</p>\n\n<pre><code>&lt;tr class=\"info bold\"&gt;\n  &lt;td colspan=\"3\"&gt;Grand Total&lt;/td&gt;\n  &lt;td class=\"text-right\"&gt;&lt;currency value=\"pageObject.GrandTotals.Expensed\" symbol=\"$\"/&gt;&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>As you can see... the code is basically the same except for a changed variable name. I can see the console.logs print out the expected information to the server. This leads me to believe that the variables should be able to be accessed since the data is showing up. Could there maybe be something that is killing this crud.js file before it is able to pull the values into the html?<br>\nthanks!</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 1, "creation_date": 1562180271, "post_id": 56876405, "comment_id": 100301417, "body": "Also possible duplicate of <a href=\"https://stackoverflow.com/q/31424561/1260204\">stackoverflow.com/q/31424561/1260204</a>"}, {"owner": {"reputation": 835, "user_id": 5161667, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d67f7aa8e1061fba8d649c7e1ae7bd36?s=128&d=identicon&r=PG", "display_name": "Modig", "link": "https://stackoverflow.com/users/5161667/modig"}, "edited": false, "score": 0, "creation_date": 1562180409, "post_id": 56876405, "comment_id": 100301487, "body": "Maybe use async on componentDidMount and then use await on your fetches. const fetchOne = await fetch1();"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1562180463, "post_id": 56876405, "comment_id": 100301509, "body": "Also a possibility <a href=\"https://stackoverflow.com/questions/35612428/call-async-await-functions-in-parallel/35612484\">Call async/await functions in parallel</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1217, "user_id": 2013403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X3VK8.jpg?s=128&g=1", "display_name": "its4zahoor", "link": "https://stackoverflow.com/users/2013403/its4zahoor"}, "is_accepted": false, "score": 1, "last_activity_date": 1562180604, "creation_date": 1562180604, "answer_id": 56876491, "question_id": 56876405, "link": "https://stackoverflow.com/questions/56876405/how-to-execute-two-async-functions-in-parallell-and-then-wait-for-them-to-comple/56876491#56876491", "title": "How to execute two async functions in parallell and then wait for them to complete?", "body": "<p>I use <a href=\"https://github.com/axios/axios\" rel=\"nofollow noreferrer\">axios</a>, it has <code>axios.all()</code> for multiple requess, have a look at these <a href=\"https://github.com/axios/axios#example\" rel=\"nofollow noreferrer\">examples</a></p>\n\n<blockquote>\n  <p>Performing multiple concurrent requests\n  (code from the link)</p>\n</blockquote>\n\n<pre><code>function getUserAccount() {   \n     return axios.get('/user/12345'); \n}\n\nfunction getUserPermissions() {   \n    return axios.get('/user/12345/permissions'); \n}\n\naxios.all([getUserAccount(), getUserPermissions()])  \n.then(axios.spread(function (acct, perms) {\n    // Both requests are now complete   \n}));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15766, "user_id": 10106580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCnek.jpg?s=128&g=1", "display_name": "Dupocas", "link": "https://stackoverflow.com/users/10106580/dupocas"}, "is_accepted": false, "score": 2, "last_activity_date": 1562184514, "last_edit_date": 1562184514, "creation_date": 1562184154, "answer_id": 56877197, "question_id": 56876405, "link": "https://stackoverflow.com/questions/56876405/how-to-execute-two-async-functions-in-parallell-and-then-wait-for-them-to-comple/56877197#56877197", "title": "How to execute two async functions in parallell and then wait for them to complete?", "body": "<pre><code>const promises = []\nfor(let request of requests){ promises.push(request) }\n\nPromise.all(promises).then(res =&gt; /*res[0], res[1]*/) \n</code></pre>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all\" rel=\"nofollow noreferrer\"><code>Promise.all</code></a> will only resolve when all requests are done, and deliver then in an <code>response</code> array in the order passed.</p>\n"}], "owner": {"reputation": 73, "user_id": 5764512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/800c943ce8b0abba131ad093b41f71b5?s=128&d=identicon&r=PG&f=1", "display_name": "quieri", "link": "https://stackoverflow.com/users/5764512/quieri"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "closed_date": 1562206162, "answer_count": 2, "score": -1, "last_activity_date": 1562206191, "creation_date": 1562180106, "question_id": 56876405, "link": "https://stackoverflow.com/questions/56876405/how-to-execute-two-async-functions-in-parallell-and-then-wait-for-them-to-comple", "closed_reason": "Duplicate", "title": "How to execute two async functions in parallell and then wait for them to complete?", "body": "<p>I'm trying to fetch data from two different APIs and want this to happen in parallell but then I want to wait for them to execute and then continue with the next line of code.</p>\n\n<pre><code>componentDidMount() {\n    this._isMounted = true;\n    this.fetch1() // &lt;-- Async method\n    this.fetch2() // &lt;-- Async method\n    this.func(); // The above two lines of code needs to be done to execute this line\n\n  }\n\n  async fetch1() {\n    fetch(\"/api/abc123\")\n      .then(res =&gt; res.json())\n      .then(res =&gt; {\n          this.setState({ foo: res });\n      });\n  }\n\n  async fetch2() {\n    fetch(\"/api/def456\")\n      .then(res =&gt; res.json())\n      .then(res =&gt; {\n          this.setState({ bar: res });\n      });\n  }\n\nfunc() {\n    // Do something with the data from the APIs\n  }\n</code></pre>\n"}, {"tags": ["javascript", "salesforce", "apex", "salesforce-lightning"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8233408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e01f61c672af01a68a4acac7f81c5454?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Shea", "link": "https://stackoverflow.com/users/8233408/patrick-shea"}, "edited": false, "score": 0, "creation_date": 1562542559, "post_id": 56914646, "comment_id": 100395261, "body": "Ah yes I meant to add in that I assumed it had to do with the async and mounting of the component during initialization of the controller.  So you are saying rather than pass v.CurrentCase into my controller, pass the v.recordId, than just adjust my dot notation within the Server Side Controller during my SOQL?"}, {"owner": {"reputation": 13, "user_id": 8233408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e01f61c672af01a68a4acac7f81c5454?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Shea", "link": "https://stackoverflow.com/users/8233408/patrick-shea"}, "edited": false, "score": 0, "creation_date": 1562608476, "post_id": 56914646, "comment_id": 100420561, "body": "David I meant to ask, were you also referring to not even needing the force:record data? Then using the attribute I created for recordId to pass into the controller? I am looking into this now, but have never came across (in my short experience) using recordId in SOQL to make those queries."}, {"owner": {"reputation": 1697, "user_id": 1159783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilvZZ.jpg?s=128&g=1", "display_name": "David Reed", "link": "https://stackoverflow.com/users/1159783/david-reed"}, "reply_to_user": {"reputation": 13, "user_id": 8233408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e01f61c672af01a68a4acac7f81c5454?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Shea", "link": "https://stackoverflow.com/users/8233408/patrick-shea"}, "edited": false, "score": 0, "creation_date": 1562609912, "post_id": 56914646, "comment_id": 100421201, "body": "@PatrickShea If you&#39;re not using force:recordData for anything other than making those SOQL queries, no, you can safely remove it."}, {"owner": {"reputation": 13, "user_id": 8233408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e01f61c672af01a68a4acac7f81c5454?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Shea", "link": "https://stackoverflow.com/users/8233408/patrick-shea"}, "edited": false, "score": 0, "creation_date": 1562637113, "post_id": 56914646, "comment_id": 100428610, "body": "I now am passing Id recordId into my server side controller and set this query:         Case currentCase = [SELECT AccountId FROM Case WHERE Id= :recordId]; And now the component is loading, but returning an array of 0. It is sending no results back even though I have test parents and children accounts setup. Any idea?"}, {"owner": {"reputation": 1697, "user_id": 1159783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilvZZ.jpg?s=128&g=1", "display_name": "David Reed", "link": "https://stackoverflow.com/users/1159783/david-reed"}, "reply_to_user": {"reputation": 13, "user_id": 8233408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e01f61c672af01a68a4acac7f81c5454?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Shea", "link": "https://stackoverflow.com/users/8233408/patrick-shea"}, "edited": false, "score": 0, "creation_date": 1562637510, "post_id": 56914646, "comment_id": 100428663, "body": "@PatrickShea Sounds like something isn&#39;t connected up properly between your queries. Make sure you&#39;re not accidentally querying against an Id of the wrong kind of object. If you can&#39;t get it working, consider a new question (and check out salesforce.stackexchange.com too)."}], "tags": [], "owner": {"reputation": 1697, "user_id": 1159783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilvZZ.jpg?s=128&g=1", "display_name": "David Reed", "link": "https://stackoverflow.com/users/1159783/david-reed"}, "is_accepted": false, "score": 0, "last_activity_date": 1562420565, "creation_date": 1562420565, "answer_id": 56914646, "question_id": 56876401, "link": "https://stackoverflow.com/questions/56876401/controller-not-receiving-object-from-lightning-component-init-handler/56914646#56914646", "title": "Controller not receiving Object from Lightning Component Init Handler", "body": "<p>Your question doesn't have much specificity about where the data goes wrong, but I have an educated guess for you as to the problem: You have a race condition between your <code>init</code> handler and your <code>force:recordData</code>'s own loading process.</p>\n\n<p>In <code>doInit()</code>, you do</p>\n\n<pre><code>    action.setParams({\n        CurrentCase: component.get(\"v.CurrentCase\")\n    });\n</code></pre>\n\n<p>but <code>v.CurrentCase</code> is populated by your <code>&lt;force:recordData&gt;</code>:</p>\n\n<pre><code>&lt;force:recordData aura:id=\"caseRecord\"\n                  recordId=\"{!v.recordId}\"\n                  targetFields=\"{!v.CurrentCase}\"\n                  layoutType=\"FULL\"\n                  /&gt;\n</code></pre>\n\n<p>which loads asynchronously. You have no guarantee that <code>&lt;force:recordData&gt;</code> will (ever, or every time) complete its load prior to the invocation of the <code>init</code> handler.</p>\n\n<p>Fortunately, you don't need that to be the case. Just pass your <code>v.recordId</code> attribute to your server-side controller, and do all of the SOQL you need there.</p>\n"}], "owner": {"reputation": 13, "user_id": 8233408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e01f61c672af01a68a4acac7f81c5454?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Shea", "link": "https://stackoverflow.com/users/8233408/patrick-shea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2173, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1562420565, "creation_date": 1562180102, "last_edit_date": 1562180408, "question_id": 56876401, "link": "https://stackoverflow.com/questions/56876401/controller-not-receiving-object-from-lightning-component-init-handler", "title": "Controller not receiving Object from Lightning Component Init Handler", "body": "<p>I have a Lightning Accordion containing a Data-table which is not receiving the object data to populate the table. The component grabs the Case Object storing it as the recordData and sends to my controller class. \nIt should display a datatable of all child Domain's of the Parent Account as seen below in an example.\n<a href=\"https://i.stack.imgur.com/aIFKQ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<pre><code>CONTROLLER CLASS:\npublic class CollectionCaseDomainsController {\n\n    @AuraEnabled\n    public static List&lt;Domain__c&gt; queryDomains(Case CurrentCase) {        \n        // if (CurrentCase.AccountId == null) { return;}\n\n        //query all the children accounts (if any)\n        Set&lt;Id&gt; allAccountIds = new Set&lt;Id&gt;{CurrentCase.AccountId};\n        Boolean done = false;\n        Set&lt;Id&gt; currentLevel = new Set&lt;Id&gt;{CurrentCase.AccountId};\n        Integer count = 0;\n        while(!done) {\n            List&lt;Account&gt; children = [ SELECT Id FROM Account WHERE Parent.Id IN :currentLevel ];\n            count++;\n            currentLevel = new Set&lt;Id&gt;();\n            for (Account child : children) {\n                currentLevel.add(child.Id);\n                allAccountIds.add(child.Id);\n            }\n\n            //added in a count, to prevent this getting stuck in an infinate loop\n            if (currentLevel.size() == 0 || count &gt; 9) {\n                done = true;\n            }\n        }\n\n        //query the assets\n        List&lt;Asset&gt; assets = [ SELECT Domain__c FROM Asset WHERE AccountId IN :allAccountIds ];\n\n        Set&lt;Id&gt; domainIds = new Set&lt;Id&gt;();\n        for (Asset a : assets) {\n            domainIds.add(a.Domain__c);\n        }\n\n        return [ SELECT Name FROM Domain__c WHERE Id IN :domainIds ];\n    }\n}\n</code></pre>\n\n<pre><code>LIGHTNING COMPONENT:\n&lt;aura:component controller=\"CollectionCaseDomainsController\" implements=\"flexipage:availableForRecordHome,force:hasRecordId\" access=\"global\" &gt;\n\n    &lt;aura:attribute name=\"recordId\" type=\"Id\" /&gt;\n    &lt;aura:attribute name=\"CurrentCase\" type=\"Case\" /&gt;\n    &lt;aura:attribute name=\"Domains\" type=\"List\" /&gt;\n    &lt;aura:attribute name=\"Columns\" type=\"List\" /&gt;\n\n    &lt;aura:handler name=\"init\" value=\"{!this}\" action=\"{!c.doInit}\"/&gt;\n\n    &lt;force:recordData aura:id=\"caseRecord\"\n                      recordId=\"{!v.recordId}\"\n                      targetFields=\"{!v.CurrentCase}\"\n                      layoutType=\"FULL\"\n                      /&gt;\n\n    &lt;lightning:accordion activeSectionName=\"Domains\"&gt;\n\n        &lt;lightning:accordionSection name=\"Domains\" label=\"Domains\"&gt;\n\n            &lt;lightning:datatable data=\"{ !v.Domains }\" columns=\"{ !v.Columns }\" keyField=\"Id\" hideCheckboxColumn=\"true\"/&gt;\n\n        &lt;/lightning:accordionSection&gt;\n\n    &lt;/lightning:accordion&gt;\n&lt;/aura:component&gt;\n</code></pre>\n\n<pre><code>COMPONENT CONTROLLER:\n({\n    doInit : function(component, event, helper) {\n        component.set(\"v.Columns\", [\n            {label:\"Domain Name\", fieldName:\"Name\", type:\"text\"}\n        ]);\n\n        var action = component.get(\"c.queryDomains\");\n\n        action.setParams({\n            CurrentCase: component.get(\"v.CurrentCase\")\n        });\n\n        action.setCallback(this, function(data) {\n            var state = data.getState();\n            if (state === \"SUCCESS\") {\n                component.set(\"v.Domains\", data.getReturnValue());\n            } else {\n                console.log(\"Failed with state: \" + state);\n            }\n        });\n\n        // Send action off to be executed\n        $A.enqueueAction(action);\n    }\n})\n</code></pre>\n"}, {"tags": ["javascript", "html", "cheerio", "request-promise"], "comments": [{"owner": {"reputation": 1217, "user_id": 2013403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X3VK8.jpg?s=128&g=1", "display_name": "its4zahoor", "link": "https://stackoverflow.com/users/2013403/its4zahoor"}, "edited": false, "score": 0, "creation_date": 1562180821, "post_id": 56876338, "comment_id": 100301648, "body": "is it a string? or an html node?"}], "answers": [{"tags": [], "owner": {"reputation": 185, "user_id": 3738900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f2ee044c0df724af8f9d18e4baa78be?s=128&d=identicon&r=PG&f=1", "display_name": "splitwire", "link": "https://stackoverflow.com/users/3738900/splitwire"}, "is_accepted": false, "score": -1, "last_activity_date": 1562180880, "creation_date": 1562180880, "answer_id": 56876554, "question_id": 56876338, "link": "https://stackoverflow.com/questions/56876338/how-to-get-href-from-this-response/56876554#56876554", "title": "How to get href from this response?", "body": "<p>Is this what you are looking for?</p>\n\n<pre><code>var href = $(first).find('a').first().attr('href');\nvar matches = href.match(/\\/(\\d+)\\//);\n\nif (matches[1]) {\n    console.log(matches[1]);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2491, "user_id": 10967889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/83qip.jpg?s=128&g=1", "display_name": "weegee", "link": "https://stackoverflow.com/users/10967889/weegee"}, "is_accepted": false, "score": 0, "last_activity_date": 1562181559, "last_edit_date": 1562181559, "creation_date": 1562181243, "answer_id": 56876642, "question_id": 56876338, "link": "https://stackoverflow.com/questions/56876338/how-to-get-href-from-this-response/56876642#56876642", "title": "How to get href from this response?", "body": "<p>Asuming that your response is a string. Use <code>DomParser()</code>\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let response = '&lt;div class=\"beatmapset-event\"&gt; &lt;a href=\"https://osu.ppy.sh/beatmapsets/993307/discussion#/1050967\" title=\" MIIRO (TV Size) - AKINO from bless4 (mapped by Sotarks) \"&gt; &lt;img class=\"beatmapset-activities__beatmapset-cover\" src=\"https://assets.ppy.sh/beatmaps/993307/covers/list.jpg?1562167122\" srcset=\"https://assets.ppy.sh/beatmaps/993307/covers/list.jpg?156216712 2 1x, https://assets.ppy.sh/beatmaps/993307/covers/list@2x.jpg?1562167122 2x\"&gt; &lt;/a&gt;&lt;div class=\"beatmapset-event__icon beatmapset-event__icon--disqualify beatmapset-activities__event-icon-spacer\"&gt;&lt;/div&gt;&lt;div&gt;&lt;div class=\"beatmapset-event__content\"&gt; Disqualified by &lt;a class=\"user-name js-usercard\" data-user-id=\"3388410\" href=\"https://osu.ppy.sh/users/3388410\" style=\"color: #6B3FA0\"&gt;eiri-&lt;/a&gt;. Reason: &lt;a href=\"https://osu.ppy.sh/beatmapsets/9 93307/discussion#/1050967\"&gt;#1050967&lt;/a&gt; ([no preview]).&lt;/div&gt;&lt;div&gt;&lt;time class=\"timeago\" datetime=\"2019-07-03T15:17:20+00:00\"&gt;July 3, 2019 at 3:17:20 PM UTC&lt;/time&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'\r\nvar parser = new DOMParser(); // initiate DomParser()\r\nvar data = parser.parseFromString(response, 'text/html'); \r\nlet atagLink = data.querySelector(\"a\").getAttribute(\"href\") // get the a tag's href attribute\r\nconsole.log(atagLink.match(/(\\d+)/)[0]) // match with regex</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Regex details</strong>: <code>(\\d+)</code> Matches the first number occurance.</p>\n\n<p>That makes your code </p>\n\n<pre><code>rp(`https://osu.ppy.sh/beatmapsets/events?user=&amp;types%5B%5D=disqualify&amp;min_date=&amp;max_date=`)\n  .then((html) =&gt; {\n    let $ = cheerio.load(html);\n    var parser = new DOMParser(); // initiate DomParser()\n    var data = parser.parseFromString(html, 'text/html'); \n    let atagLink = data.querySelector(\"a\").getAttribute(\"href\") // get the a tag's href attribute\n    let number = atagLink.match(/(\\d+)/)[0]\n    $('div#events.beatmapset-events').each(function(i, element) {\n      var first = $(this).children().eq(1);\n      console.log(first.html())\n    })\n  })\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 11517934, "user_type": "registered", "profile_image": "https://graph.facebook.com/1054443264750839/picture?type=large", "display_name": "kjoszi", "link": "https://stackoverflow.com/users/11517934/kjoszi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1562181559, "creation_date": 1562179752, "last_edit_date": 1562180780, "question_id": 56876338, "link": "https://stackoverflow.com/questions/56876338/how-to-get-href-from-this-response", "title": "How to get href from this response?", "body": "<p>I have some code where I'm getting the response of the first child of div's class and I want to get <code>993307</code> from my <code>first</code> variable. How can I do it?</p>\n\n<pre><code>&lt;a href=\"https://osu.ppy.sh/beatmapsets/993307/discussion#/1050967\" title=\"MIIRO (TV Size) - AKINO from bless4 (mapped by Sotarks)\"&gt;\n</code></pre>\n\n<pre><code>const cheerio = require('cheerio');\nconst rp = require('request-promise');\n\nvar array = [];\n\nrp(`https://osu.ppy.sh/beatmapsets/events?user=&amp;types%5B%5D=disqualify&amp;min_date=&amp;max_date=`)\n  .then((html) =&gt; {\n    let $ = cheerio.load(html);\n    $('div#events.beatmapset-events').each(function(i, element) {\n      var first = $(this).children().eq(1);\n      console.log(first.html())\n    })\n  })\n  .catch(console.error.bind(console));\n</code></pre>\n\n<p>here's response from <code>first</code> variable</p>\n\n<pre><code>&lt;div class=\"beatmapset-event\"&gt;\n  &lt;a href=\"https://osu.ppy.sh/beatmapsets/993307/discussion#/1050967\" title=\"\n                   MIIRO (TV Size) - AKINO from bless4\n                   (mapped by Sotarks)\n               \"&gt;\n    &lt;img class=\"beatmapset-activities__beatmapset-cover\" src=\"https://assets.ppy.sh/beatmaps/993307/covers/list.jpg?1562167122\" srcset=\"https://assets.ppy.sh/beatmaps/993307/covers/list.jpg?156216712\n2 1x, https://assets.ppy.sh/beatmaps/993307/covers/list@2x.jpg?1562167122 2x\"&gt;\n  &lt;/a&gt;\n  &lt;div class=\"beatmapset-event__icon beatmapset-event__icon--disqualify beatmapset-activities__event-icon-spacer\"&gt;&lt;/div&gt;\n  &lt;div&gt;\n    &lt;div class=\"beatmapset-event__content\"&gt;\n      Disqualified by &lt;a class=\"user-name js-usercard\" data-user-id=\"3388410\" href=\"https://osu.ppy.sh/users/3388410\" style=\"color: #6B3FA0\"&gt;eiri-&lt;/a&gt;. Reason: &lt;a href=\"https://osu.ppy.sh/beatmapsets/9\n93307/discussion#/1050967\"&gt;#1050967&lt;/a&gt; ([no preview]).\n    &lt;/div&gt;\n    &lt;div&gt;&lt;time class=\"timeago\" datetime=\"2019-07-03T15:17:20+00:00\"&gt;July 3, 2019 at 3:17:20 PM UTC&lt;/time&gt;&lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 1, "creation_date": 1562179825, "post_id": 56876311, "comment_id": 100301202, "body": "It might be some server-side redirect\u2026 or not. More importantly, are you sure you want an empty parameter <code>m_=</code> followed by a hash <code>#myModal</code>? Or should there be a <code>modalid = encodeURIComponent(modalid)</code> at the beginning of <code>OpenModal</code> or equivalent in order to get <code>?m_=%23myModal0</code>?"}, {"owner": {"reputation": 1, "user_id": 11736009, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8Webk6YdO-Y/AAAAAAAAAAI/AAAAAAAALj8/KzYV1QxLHCU/photo.jpg?sz=128", "display_name": "Beth Lazar", "link": "https://stackoverflow.com/users/11736009/beth-lazar"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1562186926, "post_id": 56876311, "comment_id": 100304009, "body": "The hash is definitely janky and unnecessary, as is the dash on the end, I just haven&#39;t cleaned up the code yet to remove it. Your suggestion would be a good one if I decide I&#39;m too lazy to remove it."}, {"owner": {"reputation": 1, "user_id": 11736009, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8Webk6YdO-Y/AAAAAAAAAAI/AAAAAAAALj8/KzYV1QxLHCU/photo.jpg?sz=128", "display_name": "Beth Lazar", "link": "https://stackoverflow.com/users/11736009/beth-lazar"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1562187652, "post_id": 56876311, "comment_id": 100304287, "body": "Just cleaned up the code so I wouldn&#39;t leave the janky in there."}, {"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1562187719, "post_id": 56876311, "comment_id": 100304309, "body": "You still have <code>(&quot;m_=#&quot; + modalid)</code> and such, though. Should it be <code>(&quot;m_=%23&quot; + modalid)</code>? To be clear, the <code>m_</code> parameter is empty because <code>#</code> has special meaning in a URL."}, {"owner": {"reputation": 1, "user_id": 11736009, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8Webk6YdO-Y/AAAAAAAAAAI/AAAAAAAALj8/KzYV1QxLHCU/photo.jpg?sz=128", "display_name": "Beth Lazar", "link": "https://stackoverflow.com/users/11736009/beth-lazar"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1562188230, "post_id": 56876311, "comment_id": 100304469, "body": "Good grief. Yes that was wrong too. Took the hashtag off completely and added it in the correct place in the show modal code and halelujah that fixed the problem! Thank you!!"}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1562188618, "post_id": 56876311, "comment_id": 100304624, "body": "Be kind to your users: don&#39;t use <code>window.open</code>, create a normal link to a relative <code>href</code> in Javascript, add a <code>target=&quot;_blank&quot;</code>, append it to the document, click it, and remove it from the document again. That way the browser sees a normal navigation action, and will do everything it does for any other URL (like add a browsing history entry, not have popup blocking kick in, etc)"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1562188679, "post_id": 56876311, "comment_id": 100304649, "body": "I would consider using <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/URL/searchParams\" rel=\"nofollow noreferrer\">URL.searchParams</a> to extract/modify your search parameters."}, {"owner": {"reputation": 1, "user_id": 11736009, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8Webk6YdO-Y/AAAAAAAAAAI/AAAAAAAALj8/KzYV1QxLHCU/photo.jpg?sz=128", "display_name": "Beth Lazar", "link": "https://stackoverflow.com/users/11736009/beth-lazar"}, "edited": false, "score": 1, "creation_date": 1562190337, "post_id": 56876311, "comment_id": 100305180, "body": "Thanks Amy! I definitely started down that path but after checking GA saw we have quite a bit of IE traffic and it isn&#39;t implemented there."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11736009, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8Webk6YdO-Y/AAAAAAAAAAI/AAAAAAAALj8/KzYV1QxLHCU/photo.jpg?sz=128", "display_name": "Beth Lazar", "link": "https://stackoverflow.com/users/11736009/beth-lazar"}, "edited": false, "score": 0, "creation_date": 1562190218, "post_id": 56878088, "comment_id": 100305149, "body": "That doesn&#39;t quite fit my use case but I do appreciate the help Mike!"}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "reply_to_user": {"reputation": 1, "user_id": 11736009, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8Webk6YdO-Y/AAAAAAAAAAI/AAAAAAAALj8/KzYV1QxLHCU/photo.jpg?sz=128", "display_name": "Beth Lazar", "link": "https://stackoverflow.com/users/11736009/beth-lazar"}, "edited": false, "score": 0, "creation_date": 1562192701, "post_id": 56878088, "comment_id": 100305740, "body": "Noted. But unless you&#39;re writing an electron app, your usecase should never be <code>window.open</code>. Especially not for smaller-sized-window popouts etc. That&#39;s what overlay modals are for ;)"}], "tags": [], "owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "is_accepted": false, "score": 0, "last_activity_date": 1562188889, "creation_date": 1562188889, "answer_id": 56878088, "question_id": 56876311, "link": "https://stackoverflow.com/questions/56876311/window-open-is-dropping-the-in-my-parameter-list-on-my-home-page-only/56878088#56878088", "title": "window.open is dropping the = in my parameter list on my home page only", "body": "<p>Be nice to your users: don't force them to allow popups on your website by insisting on <code>window.open</code>. Instead, create a normal navigation link, and click that. So instead of this:</p>\n\n<pre><code>var url = window.location.toString();\n...\nwindow.open(url);\n</code></pre>\n\n<p>use this:</p>\n\n<pre><code>function openInNewTab(url) {\n  let a = document.createElement('a');\n  a.style.display = \"none\";\n  a.href = url;\n  a.target = \"_blank\";\n  document.body.appendChild(a);\n  a.click();\n  document.body..removeChild(a);\n}\n\n...\n\nvar url = ...\nopenInNewTab(url);\n</code></pre>\n\n<p>Is that more code? Sure, but it's a one-time function declaration so not something worth caring about: call . But it also means opening a URL like any other, with the browser doing everything it normally does when people navigate from page to page.</p>\n"}], "owner": {"reputation": 1, "user_id": 11736009, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8Webk6YdO-Y/AAAAAAAAAAI/AAAAAAAALj8/KzYV1QxLHCU/photo.jpg?sz=128", "display_name": "Beth Lazar", "link": "https://stackoverflow.com/users/11736009/beth-lazar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562188889, "creation_date": 1562179635, "last_edit_date": 1562188095, "question_id": 56876311, "link": "https://stackoverflow.com/questions/56876311/window-open-is-dropping-the-in-my-parameter-list-on-my-home-page-only", "title": "window.open is dropping the = in my parameter list on my home page only", "body": "<p>I'm calling javascript to append a parameter to my URL prior to calling window.open. This code works perfectly on every page but my homepage. On the homepage, the \"=\" is dropped in the parameter list. Any ideas why?</p>\n\n<p>On every page but homepage, the window opens as expected:\n<a href=\"https://dev.mysite.com/?m_=myModal0\" rel=\"nofollow noreferrer\">https://dev.mysite.com/?m_=myModal0</a></p>\n\n<p>On the homepage, the window opens like this:\n<a href=\"https://dev.mysite.com/?m_myModal0\" rel=\"nofollow noreferrer\">https://dev.mysite.com/?m_myModal0</a></p>\n\n<pre><code>&lt;a href=\"&lt;?php echo $my_link; ?&gt;\" target=\"_self\" onclick=\"OpenModal('myModal&lt;?php echo $count;?&gt;')\" class=\"btn get_code\" id=\"get_code&lt;?php echo $count; ?&gt;\"&gt;&lt;?php esc_html_e('get code', 'comre');?&gt;&lt;/a&gt; \n\n&lt;script&gt;\nfunction OpenModal(modalid){\n    var win;    \n    //event.preventDefault();\n\n    if(window.location.href.indexOf(\"m_\") &gt; -1) {\n        var reexp = new RegExp(/m_=(.*?)$/);\n        var url = window.location.toString();\n        var newUrl = url.replace(reexp, (\"m_=\" + modalid));\n        win = window.open(newUrl, '_blank');\n    } \n    else {\n        if(window.location.href.indexOf(\"?\") &gt; -1) {\n           win = window.open(document.URL+\"&amp;m_=\"+modalid, '_blank');\n       }\n       else {\n           win = window.open(document.URL+\"?m_=\"+modalid, '_blank');\n       }\n    } \n\n    win.focus();\n    return true;\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>There are no errors shown in the console.</p>\n"}, {"tags": ["javascript", "svg"], "comments": [{"owner": {"reputation": 24997, "user_id": 7897395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2108bc8318af0d73434ffa286ba2b22f?s=128&d=identicon&r=PG&f=1", "display_name": "enxaneta", "link": "https://stackoverflow.com/users/7897395/enxaneta"}, "edited": false, "score": 0, "creation_date": 1562180873, "post_id": 56876270, "comment_id": 100301678, "body": "In the case of South Africa - Lesotho, the map of South Africa should have come with a a hole the size and form of Lesotho."}, {"owner": {"reputation": 43, "user_id": 5517932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7fac4589834cb4b8015ce19da3d24a?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Hurley", "link": "https://stackoverflow.com/users/5517932/jeff-hurley"}, "reply_to_user": {"reputation": 24997, "user_id": 7897395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2108bc8318af0d73434ffa286ba2b22f?s=128&d=identicon&r=PG&f=1", "display_name": "enxaneta", "link": "https://stackoverflow.com/users/7897395/enxaneta"}, "edited": false, "score": 0, "creation_date": 1562181103, "post_id": 56876270, "comment_id": 100301772, "body": "unfortunately the map that I am using, didn&#39;t have the cut out for Lesotho"}, {"owner": {"reputation": 24997, "user_id": 7897395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2108bc8318af0d73434ffa286ba2b22f?s=128&d=identicon&r=PG&f=1", "display_name": "enxaneta", "link": "https://stackoverflow.com/users/7897395/enxaneta"}, "edited": false, "score": 0, "creation_date": 1562182003, "post_id": 56876270, "comment_id": 100302122, "body": "Maybe you&#39;ll find this useful: <a href=\"https://d-maps.com/pays.php?num_pay=7&amp;lang=en\" rel=\"nofollow noreferrer\">d-maps.com/pays.php?num_pay=7&amp;lang=en</a> Choose the SVG format"}], "answers": [{"tags": [], "owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "is_accepted": true, "score": 1, "last_activity_date": 1562186794, "last_edit_date": 1562186794, "creation_date": 1562181206, "answer_id": 56876633, "question_id": 56876270, "link": "https://stackoverflow.com/questions/56876270/how-do-i-replace-an-svg-element/56876633#56876633", "title": "How do I replace an SVG element", "body": "<p>Try preserving the order of the elements by replacing each one with a link instead of adding links to the end in <code>Countries.Countries</code> order (assuming the links and paths(?) share a parent).</p>\n\n<p>So instead of this:</p>\n\n<pre><code>svgDoc.documentElement.appendChild(link);\n</code></pre>\n\n<p>do this:</p>\n\n<pre><code>x.parentNode.replaceChild(link, x);\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 5517932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7fac4589834cb4b8015ce19da3d24a?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Hurley", "link": "https://stackoverflow.com/users/5517932/jeff-hurley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 56876633, "answer_count": 1, "score": 0, "last_activity_date": 1562186794, "creation_date": 1562179471, "question_id": 56876270, "link": "https://stackoverflow.com/questions/56876270/how-do-i-replace-an-svg-element", "title": "How do I replace an SVG element", "body": "<p>I have a svg document - map of the world, which resides in its own file. I am getting some data from the database which I then loop thru add xlink to the appropriate countries which are appended to the end of the document. However when this happens, the appended xlinks are drawn over other nodes. For example the country of South Africa has Lesotho within its boundaries. South Africa gets a link and then ends up covering Lesotho. How do I make sure Lesotho is accessible or redrawn after the link is created? This is the code I am using.</p>\n\n\n\n<pre class=\"lang-js prettyprint-override\"><code>window.onload = function() {\n  // Get the Object by ID\n  var a = document.getElementById(\"SVGWorldMap\");\n  // Get the SVG document inside the Object tag\n  var svgDoc = a.contentDocument;\n  // Get one of the SVG items by ID;\n  var svgItem = svgDoc.getElementById(\"ocean\");\n  // Set the colour to something else\n  svgItem.style.fill = \"#5593BB\";\n  for (let i = 0; i &lt; Countries.Countries.length; i++) {\n    var x = svgDoc.getElementById(Countries.Countries[i].locCountry.toLowerCase());\n    var link = svgDoc.createElementNS(\"http://www.w3.org/2000/svg\", \"a\");\n    link.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', \"../Scripts/prodList.aspx?idLocation=\" + Countries.Countries[i].idLocation);\n    link.setAttribute('target', '_top');\n    svgDoc.documentElement.appendChild(link);\n    x.style.fill = \"#123456\";\n    x.addEventListener('mouseover', mouseOverEffect);\n    x.addEventListener('mouseout', mouseOutEffect);\n    link.appendChild(x);\n    //console.log(Countries.Countries[i].locCountry.toLowerCase());\n  }\n};\n</code></pre>\n\n"}, {"tags": ["javascript", "node.js", "http", "fs"], "answers": [{"comments": [{"owner": {"reputation": 621, "user_id": 2848198, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/16035fee31840978de442401129069ce?s=128&d=identicon&r=PG&f=1", "display_name": "Magdi Gamal", "link": "https://stackoverflow.com/users/2848198/magdi-gamal"}, "edited": false, "score": 0, "creation_date": 1562180924, "post_id": 56876404, "comment_id": 100301699, "body": "ohh I see. Thanks! What if I want the user to be able to upload both http and https. Should I just rewrite the .get call for each of them, or is there a more efficient way to do that?"}], "tags": [], "owner": {"reputation": 9254, "user_id": 1203844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WRK6P.jpg?s=128&g=1", "display_name": "Aritra Chakraborty", "link": "https://stackoverflow.com/users/1203844/aritra-chakraborty"}, "is_accepted": true, "score": 2, "last_activity_date": 1562181337, "last_edit_date": 1562181337, "creation_date": 1562180106, "answer_id": 56876404, "question_id": 56876251, "link": "https://stackoverflow.com/questions/56876251/fs-createwritestream-on-error-event-does-not-catch-errors/56876404#56876404", "title": "fs.createWriteStream on error event does not catch errors", "body": "<p>It crashes at <code>http.get(url,function(){..})</code> because you are using <code>http</code> module. You need to use <code>https</code> module to do the get request to a <code>https</code> url.</p>\n\n<pre><code>const https = require('https');\n\nhttps.get('https://encrypted.google.com/', (res) =&gt; {\n  console.log('statusCode:', res.statusCode);\n  console.log('headers:', res.headers);\n\n  res.on('data', (d) =&gt; {\n    process.stdout.write(d);\n  });\n\n}).on('error', (e) =&gt; {\n  console.error(e);\n});\n</code></pre>\n\n<p>You can use <code>request</code> module which support both <code>http</code> and <code>https</code>. From the <a href=\"https://github.com/request/request\" rel=\"nofollow noreferrer\">doc</a>:  </p>\n\n<blockquote>\n  <p>Request is designed to be the simplest way possible to make http\n  calls. It supports HTTPS and follows redirects by default.const request = require('request');</p>\n</blockquote>\n\n<pre><code>const options = {\n  url: 'https://api.github.com/repos/request/request',\n  headers: {\n    'User-Agent': 'request'\n  }\n};\n\nfunction callback(error, response, body) {\n  if (!error &amp;&amp; response.statusCode == 200) {\n    const info = JSON.parse(body);\n    console.log(info.stargazers_count + \" Stars\");\n    console.log(info.forks_count + \" Forks\");\n  }\n}\n\nrequest(options, callback);\n</code></pre>\n\n<p>Or to use Promises out of the box, use <code>axios</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 42, "user_id": 11065796, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xJJw2T4R-Rk/AAAAAAAAAAI/AAAAAAAAAKs/Bd70S10aQjA/photo.jpg?sz=128", "display_name": "Arvind sharma", "link": "https://stackoverflow.com/users/11065796/arvind-sharma"}, "is_accepted": false, "score": 1, "last_activity_date": 1562180425, "creation_date": 1562180425, "answer_id": 56876461, "question_id": 56876251, "link": "https://stackoverflow.com/questions/56876251/fs-createwritestream-on-error-event-does-not-catch-errors/56876461#56876461", "title": "fs.createWriteStream on error event does not catch errors", "body": "<p>fs.createWriteStream is working absolutely fine so it is not throwing exceptions or errors.</p>\n\n<p>The error is coming from http.get() method because you are trying to access 'https' using http module. Put debugger in http.get() module, you will definitely get error thrown.</p>\n"}], "owner": {"reputation": 621, "user_id": 2848198, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/16035fee31840978de442401129069ce?s=128&d=identicon&r=PG&f=1", "display_name": "Magdi Gamal", "link": "https://stackoverflow.com/users/2848198/magdi-gamal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 387, "favorite_count": 0, "accepted_answer_id": 56876404, "answer_count": 2, "score": 0, "last_activity_date": 1562190144, "creation_date": 1562179401, "last_edit_date": 1562190144, "question_id": 56876251, "link": "https://stackoverflow.com/questions/56876251/fs-createwritestream-on-error-event-does-not-catch-errors", "title": "fs.createWriteStream on error event does not catch errors", "body": "<p>I'm trying to upload images from a url to the server safely.</p>\n\n<pre><code>var http = require('http');\nvar fs = require('fs');\nvar path = require('path')\n\nvar download = function(url, dest, filename, cb) {\n    var file = fs.createWriteStream(dest + \"/\" + filename + path.extname(url));\n\n    var request = http.get(url, function(response) {\n        response.pipe(file);\n        file.on('error', function(err) {\n            console.log(err.message);\n            file.end();\n        });\n        file.on('finish', function() {\n            file.close(cb);\n        });\n    }).on('error', function(err) { // Handle errors\n        fs.unlink(dest);\n        if (cb) cb(err.message);\n    });\n}\n\nvar url = \"https://vignette.wikia.nocookie.net/spongebob/images/d/d7/SpongeBob_stock_art.png\";\n\ndownload(url, 'downloadedAssets/imgs', 'spongebob', function onComplete(err) {\n    if (err) {\n        console.log(err.message);\n    } else {\n        console.log('image uploaded to server');\n    }\n});\n</code></pre>\n\n<p>Which crashes the server</p>\n\n<blockquote>\n  <p>TypeError [ERR_INVALID_PROTOCOL]: Protocol \"https:\" not supported.\n  Expected \"http:\"</p>\n</blockquote>\n\n<p>I understand I can't upload <strong>https</strong> files, but why does it crash the server instead of executing file.on('error') then ending the file.</p>\n\n<p>I also tried <strong>try/catch</strong> and same thing</p>\n"}]